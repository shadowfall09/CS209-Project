{"items":[{"tags":["java","swing","jtextfield","jformattedtextfield"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":5,"creation_date":1340743093,"post_id":11215449,"comment_id":14727819,"body_markdown":"Use a [JFormattedTextField](http://docs.oracle.com/javase/7/docs/api/javax/swing/JFormattedTextField.html) and a [MaskFormatter](http://docs.oracle.com/javase/7/docs/api/javax/swing/text/MaskFormatter.html).","body":"Use a <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/JFormattedTextField.html\" rel=\"nofollow noreferrer\">JFormattedTextField</a> and a <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/text/MaskFormatter.html\" rel=\"nofollow noreferrer\">MaskFormatter</a>."}],"answers":[{"comments":[{"owner":{"account_id":1589479,"reputation":55,"user_id":1473154,"accept_rate":60,"display_name":"rdemolish"},"score":0,"creation_date":1341259783,"post_id":11216312,"comment_id":14868150,"body_markdown":"I couldnt get this to work. The Mask formatter and the textfield allows 10 characters before it throws the exception, and it still won&#39;t allow me to use the :\n     public void textformat(){\n        MaskFormatter mask = null;\n        try {\n            mask = new MaskFormatter(&quot;##:##&quot;);\n            mask.setPlaceholderCharacter(&#39;:&#39;);\n        }\n        catch (ParseException e) {\n            e.printStackTrace();\n        }\n        JFormattedTextField sunb = new JFormattedTextField(mask);\n        jFormattedTextField1 = sunb;\n         \n   }","body":"I couldnt get this to work. The Mask formatter and the textfield allows 10 characters before it throws the exception, and it still won&#39;t allow me to use the :      public void textformat(){         MaskFormatter mask = null;         try {             mask = new MaskFormatter(&quot;##:##&quot;);             mask.setPlaceholderCharacter(&#39;:&#39;);         }         catch (ParseException e) {             e.printStackTrace();         }         JFormattedTextField sunb = new JFormattedTextField(mask);         jFormattedTextField1 = sunb;              }"}],"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1340746559,"creation_date":1340746559,"answer_id":11216312,"question_id":11215449,"body_markdown":"The answer is to use a [JFormattedTextField](http://docs.oracle.com/javase/7/docs/api/javax/swing/JFormattedTextField.html) and a [MaskFormatter](http://docs.oracle.com/javase/7/docs/api/javax/swing/text/MaskFormatter.html).\r\n\r\nFor example:\r\n\r\n    String mask = &quot;##:##&quot;;\r\n    MaskFormatter timeFormatter = new MaskFormatter(mask);\r\n    JFormattedTextField formattedField = new JFormattedTextField(timeFormatter);\r\n\r\nThe Java compiler will require that you catch or throw a ParseException when creating your MaskFormatter, and so be sure to do this.\r\n","title":"Is there a way to put a colon in a jtextfield so it can&#39;t be removed?","body":"<p>The answer is to use a <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/JFormattedTextField.html\">JFormattedTextField</a> and a <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/text/MaskFormatter.html\">MaskFormatter</a>.</p>\n\n<p>For example:</p>\n\n<pre><code>String mask = \"##:##\";\nMaskFormatter timeFormatter = new MaskFormatter(mask);\nJFormattedTextField formattedField = new JFormattedTextField(timeFormatter);\n</code></pre>\n\n<p>The Java compiler will require that you catch or throw a ParseException when creating your MaskFormatter, and so be sure to do this.</p>\n"},{"tags":[],"owner":{"account_id":1078921,"reputation":36333,"user_id":1076463,"accept_rate":65,"display_name":"Robin"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1340775221,"creation_date":1340775221,"answer_id":11219991,"question_id":11215449,"body_markdown":"Or just ditch your textfield and opt for two `JSpinner` instances separated by a `JLabel` containing the colon (or two `JTextField` instances).\r\n\r\nNot completely sure that this solution will be more intuitive to the user, but I think so.","title":"Is there a way to put a colon in a jtextfield so it can&#39;t be removed?","body":"<p>Or just ditch your textfield and opt for two <code>JSpinner</code> instances separated by a <code>JLabel</code> containing the colon (or two <code>JTextField</code> instances).</p>\n\n<p>Not completely sure that this solution will be more intuitive to the user, but I think so.</p>\n"},{"tags":[],"owner":{"account_id":2498626,"reputation":2734,"user_id":2174382,"display_name":"guleryuz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1455402041,"creation_date":1455402041,"answer_id":35386010,"question_id":11215449,"body_markdown":"a late answer to an old question; making use of `DocumentFilter` may achieve that three req&#39;s.\r\n\r\na non-production quality code may be like this\r\n\r\n\tString TIME_PATTERN = &quot;^\\\\d\\\\d:\\\\d\\\\d\\\\s[AP]M$&quot;;\r\n    \r\n\tfinal JTextField tf = new JTextField(&quot;00:00 AM&quot;, 8);\r\n\t\r\n\t((AbstractDocument)tf.getDocument()).setDocumentFilter(new DocumentFilter() {\r\n        public void replace(FilterBypass fb, int offs, int length, String str, AttributeSet a) throws BadLocationException {\r\n        \t\r\n        \tString text = fb.getDocument().getText(0, fb.getDocument().getLength());\r\n        \t\r\n        \ttext = text.substring(0, offs) + str + text.substring(offs + length);\r\n        \t\r\n        \tif(text.matches(TIME_PATTERN)) {\r\n        \t\tsuper.replace(fb, offs, length, str, a);\r\n        \t\treturn;\r\n        \t}\r\n        \t\r\n        \ttext = fb.getDocument().getText(0, fb.getDocument().getLength());\r\n        \t\r\n        \tif(offs == 2 || offs == 5)\r\n        \t\ttf.setCaretPosition(++offs);\r\n\r\n        \tif(length == 0 &amp;&amp; (offs == 0 ||offs == 1 ||offs == 3 ||offs == 4 ||offs == 6))\r\n        \t\tlength = 1;\r\n\r\n        \ttext = text.substring(0, offs) + str + text.substring(offs + length);\r\n        \t\r\n        \tif(!text.matches(TIME_PATTERN))\r\n        \t\treturn;\r\n        \t\r\n        \tsuper.replace(fb, offs, length, str, a);\r\n        \t\r\n        }\r\n\r\n        public void insertString(FilterBypass fb, int offs, String str, AttributeSet a) throws BadLocationException { }\r\n        \r\n        public void remove(FilterBypass fb, int offset, int length) throws BadLocationException { }\r\n        \r\n    });\r\n","title":"Is there a way to put a colon in a jtextfield so it can&#39;t be removed?","body":"<p>a late answer to an old question; making use of <code>DocumentFilter</code> may achieve that three req's.</p>\n\n<p>a non-production quality code may be like this</p>\n\n<pre><code>String TIME_PATTERN = \"^\\\\d\\\\d:\\\\d\\\\d\\\\s[AP]M$\";\n\nfinal JTextField tf = new JTextField(\"00:00 AM\", 8);\n\n((AbstractDocument)tf.getDocument()).setDocumentFilter(new DocumentFilter() {\n    public void replace(FilterBypass fb, int offs, int length, String str, AttributeSet a) throws BadLocationException {\n\n        String text = fb.getDocument().getText(0, fb.getDocument().getLength());\n\n        text = text.substring(0, offs) + str + text.substring(offs + length);\n\n        if(text.matches(TIME_PATTERN)) {\n            super.replace(fb, offs, length, str, a);\n            return;\n        }\n\n        text = fb.getDocument().getText(0, fb.getDocument().getLength());\n\n        if(offs == 2 || offs == 5)\n            tf.setCaretPosition(++offs);\n\n        if(length == 0 &amp;&amp; (offs == 0 ||offs == 1 ||offs == 3 ||offs == 4 ||offs == 6))\n            length = 1;\n\n        text = text.substring(0, offs) + str + text.substring(offs + length);\n\n        if(!text.matches(TIME_PATTERN))\n            return;\n\n        super.replace(fb, offs, length, str, a);\n\n    }\n\n    public void insertString(FilterBypass fb, int offs, String str, AttributeSet a) throws BadLocationException { }\n\n    public void remove(FilterBypass fb, int offset, int length) throws BadLocationException { }\n\n});\n</code></pre>\n"}],"owner":{"account_id":1589479,"reputation":55,"user_id":1473154,"accept_rate":60,"display_name":"rdemolish"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":491,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":11216312,"answer_count":3,"score":2,"last_activity_date":1674197761,"creation_date":1340742708,"question_id":11215449,"body_markdown":"I want a user to input time, so like 12:00, but I need to figure out a few things and I am wicked lost.\r\n\r\n1. Can I limit the text to 5 characters and how?\r\n\r\n2. Can I have a colon embedded in the code so that it can&#39;t be deleted by the user?\r\n\r\n3. Finally, can I take that code and verify that it is only the digits (ignoring the colon of course)","title":"Is there a way to put a colon in a jtextfield so it can&#39;t be removed?","body":"<p>I want a user to input time, so like 12:00, but I need to figure out a few things and I am wicked lost.</p>\n<ol>\n<li><p>Can I limit the text to 5 characters and how?</p>\n</li>\n<li><p>Can I have a colon embedded in the code so that it can't be deleted by the user?</p>\n</li>\n<li><p>Finally, can I take that code and verify that it is only the digits (ignoring the colon of course)</p>\n</li>\n</ol>\n"},{"tags":["java","intellij-idea"],"answers":[{"comments":[{"owner":{"account_id":3174896,"reputation":7403,"user_id":2683013,"accept_rate":71,"display_name":"Sky"},"score":7,"creation_date":1425026348,"post_id":28760498,"comment_id":45801282,"body_markdown":"I can&#39;t startup my IntelliJ if I set -Xmx to 2048M, my computer has 8 GB memory.","body":"I can&#39;t startup my IntelliJ if I set -Xmx to 2048M, my computer has 8 GB memory."},{"owner":{"account_id":1663171,"reputation":7769,"user_id":1531064,"accept_rate":76,"display_name":"Cataclysm"},"score":0,"creation_date":1425026743,"post_id":28760498,"comment_id":45801480,"body_markdown":"Here is useful questions for your problem http://stackoverflow.com/questions/17221725/how-to-increase-the-memory-heap-size-on-intellij-idea-12  , http://stackoverflow.com/questions/13578062/how-to-increase-ide-memory-limit-in-intellij-idea-on-mac","body":"Here is useful questions for your problem <a href=\"http://stackoverflow.com/questions/17221725/how-to-increase-the-memory-heap-size-on-intellij-idea-12\" title=\"how to increase the memory heap size on intellij idea 12\">stackoverflow.com/questions/17221725/&hellip;</a>  , <a href=\"http://stackoverflow.com/questions/13578062/how-to-increase-ide-memory-limit-in-intellij-idea-on-mac\" title=\"how to increase ide memory limit in intellij idea on mac\">stackoverflow.com/questions/13578062/&hellip;</a>"},{"owner":{"account_id":199154,"reputation":9825,"user_id":444255,"accept_rate":67,"display_name":"Frank N"},"score":1,"creation_date":1454506921,"post_id":28760498,"comment_id":58074270,"body_markdown":"under Windows: &quot;C:\\Program Files (x86)\\JetBrains\\IntelliJ IDEA 15.0.1\\bin\\idea64.exe.vmoptions&quot;","body":"under Windows: &quot;C:\\Program Files (x86)\\JetBrains\\IntelliJ IDEA 15.0.1\\bin\\idea64.exe.vmoptions&quot;"},{"owner":{"account_id":3423003,"reputation":2107,"user_id":2869866,"accept_rate":100,"display_name":"martoncsukas"},"score":1,"creation_date":1497014610,"post_id":28760498,"comment_id":75914125,"body_markdown":"Under Windows it could be either of the followings, depending on which installation (x86, x64) you use:\n\n&quot;C:\\Program Files (x86)\\JetBrains\\IntelliJ IDEA 2016.3.4\\bin\\idea.exe.vmoptions&quot;\n\n&quot;C:\\Program Files (x86)\\JetBrains\\IntelliJ IDEA 2016.3.4\\bin\\idea64.exe.vmoptions&quot;","body":"Under Windows it could be either of the followings, depending on which installation (x86, x64) you use:  &quot;C:\\Program Files (x86)\\JetBrains\\IntelliJ IDEA 2016.3.4\\bin\\idea.exe.vmoptions&quot;  &quot;C:\\Program Files (x86)\\JetBrains\\IntelliJ IDEA 2016.3.4\\bin\\idea64.exe.vmoptions&quot;"},{"owner":{"account_id":6473006,"reputation":27420,"user_id":6296561,"accept_rate":95,"display_name":"Zoe is on strike"},"score":0,"creation_date":1538070499,"post_id":28760498,"comment_id":92024920,"body_markdown":"`Help | Edit Custom VM Options` works on Windows too. IntelliJ 2018.2","body":"<code>Help | Edit Custom VM Options</code> works on Windows too. IntelliJ 2018.2"}],"tags":[],"owner":{"account_id":1663171,"reputation":7769,"user_id":1531064,"accept_rate":76,"display_name":"Cataclysm"},"comment_count":5,"down_vote_count":0,"up_vote_count":57,"is_accepted":true,"score":57,"last_activity_date":1533617263,"creation_date":1425025628,"answer_id":28760498,"question_id":28760415,"body_markdown":"Open Intellij IDE&#39;s **vmoptions** file\r\n\r\n**For Mac Users**\r\n\r\n`Help | Edit Custom VM Options...`\r\n\r\nor\r\n\r\n\r\n`Library &gt; Preferences &gt; Idea&lt;YourVersion&gt; &gt; idea.vmoptions`\r\n\r\n**For Window (32bit) Users**\r\n\r\nC:\\Program Files (x86)\\JetBrains\\IntelliJ IDEA `&lt;your_version&gt;`\\bin\\idea.exe.vmoptions\r\n\r\n**For Window (64bit) Users**\r\n\r\nC:\\Program Files (x86)\\JetBrains\\IntelliJ IDEA `&lt;your_version&gt;`\\bin\\idea64.exe.vmoptions\r\n\r\nand setup it&#39;s memory as you wish. Below is sample settings for **2GB**\r\n\r\n    -Xms128m\r\n    -Xmx2048m\r\n    -XX:MaxPermSize=350m\r\n    -XX:ReservedCodeCacheSize=240m\r\n    -XX:+UseCodeCacheFlushing\r\n    -XX:+UseCompressedOops\r\n\r\nHopefully this help.","title":"How should I set the memory for IntelliJ 14?","body":"<p>Open Intellij IDE's <strong>vmoptions</strong> file</p>\n\n<p><strong>For Mac Users</strong></p>\n\n<p><code>Help | Edit Custom VM Options...</code></p>\n\n<p>or</p>\n\n<p><code>Library &gt; Preferences &gt; Idea&lt;YourVersion&gt; &gt; idea.vmoptions</code></p>\n\n<p><strong>For Window (32bit) Users</strong></p>\n\n<p>C:\\Program Files (x86)\\JetBrains\\IntelliJ IDEA <code>&lt;your_version&gt;</code>\\bin\\idea.exe.vmoptions</p>\n\n<p><strong>For Window (64bit) Users</strong></p>\n\n<p>C:\\Program Files (x86)\\JetBrains\\IntelliJ IDEA <code>&lt;your_version&gt;</code>\\bin\\idea64.exe.vmoptions</p>\n\n<p>and setup it's memory as you wish. Below is sample settings for <strong>2GB</strong></p>\n\n<pre><code>-Xms128m\n-Xmx2048m\n-XX:MaxPermSize=350m\n-XX:ReservedCodeCacheSize=240m\n-XX:+UseCodeCacheFlushing\n-XX:+UseCompressedOops\n</code></pre>\n\n<p>Hopefully this help.</p>\n"},{"comments":[{"owner":{"account_id":3174896,"reputation":7403,"user_id":2683013,"accept_rate":71,"display_name":"Sky"},"score":3,"creation_date":1425051605,"post_id":28760628,"comment_id":45816236,"body_markdown":"Seems it worked for a little time. Then the dialog shows again.","body":"Seems it worked for a little time. Then the dialog shows again."}],"tags":[],"owner":{"account_id":444611,"reputation":12343,"user_id":836540,"accept_rate":20,"display_name":"hidro"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1425026159,"creation_date":1425026159,"answer_id":28760628,"question_id":28760415,"body_markdown":"If you still see this popup frequently even with high memory allocated, try:\r\n\r\n&gt; File &gt; Invalidate Caches / Restart...","title":"How should I set the memory for IntelliJ 14?","body":"<p>If you still see this popup frequently even with high memory allocated, try:</p>\n\n<blockquote>\n  <p>File > Invalidate Caches / Restart...</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":67383,"reputation":17785,"user_id":197205,"display_name":"Peter Gromov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1425029327,"creation_date":1425029327,"answer_id":28761567,"question_id":28760415,"body_markdown":"It really depends on the nature of the error. One thing to try is using idea64.exe instead of idea.exe.\r\n\r\nIf this doesn&#39;t help, please contact JetBrains by filing an issue to https://youtrack.jetbrains.com/newissue and attach your log there (Help | Show log).","title":"How should I set the memory for IntelliJ 14?","body":"<p>It really depends on the nature of the error. One thing to try is using idea64.exe instead of idea.exe.</p>\n\n<p>If this doesn't help, please contact JetBrains by filing an issue to <a href=\"https://youtrack.jetbrains.com/newissue\" rel=\"nofollow\">https://youtrack.jetbrains.com/newissue</a> and attach your log there (Help | Show log).</p>\n"},{"comments":[{"owner":{"account_id":995271,"reputation":5074,"user_id":1080804,"accept_rate":49,"display_name":"ecoe"},"score":30,"creation_date":1448723533,"post_id":31594524,"comment_id":55701896,"body_markdown":"for the hardware grammar police, &quot;4GB&quot; is `4096m` (4 * 1GB = 4 * 1024MB)","body":"for the hardware grammar police, &quot;4GB&quot; is <code>4096m</code> (4 * 1GB = 4 * 1024MB)"},{"owner":{"account_id":3419859,"reputation":2524,"user_id":2867829,"accept_rate":92,"display_name":"Brian"},"score":0,"creation_date":1452006565,"post_id":31594524,"comment_id":56975115,"body_markdown":"Was trying to commit but failed after 20 minutes from out of memory error. Did the above and the commit was processed almost instantly. Thanks!","body":"Was trying to commit but failed after 20 minutes from out of memory error. Did the above and the commit was processed almost instantly. Thanks!"},{"owner":{"account_id":5432934,"reputation":3099,"user_id":4323201,"accept_rate":25,"display_name":"RyanNerd"},"score":0,"creation_date":1463598727,"post_id":31594524,"comment_id":62137683,"body_markdown":"The -Xmx setting also seems to work on Linux (Mint 17.3), and solved the stupid memory popup problem. This was driving me crazy. I even switched which Java IDEA boots from (it&#39;s bundled now in Linux) to the latest and greatest JRE and it was still slow.","body":"The -Xmx setting also seems to work on Linux (Mint 17.3), and solved the stupid memory popup problem. This was driving me crazy. I even switched which Java IDEA boots from (it&#39;s bundled now in Linux) to the latest and greatest JRE and it was still slow."},{"owner":{"account_id":2980532,"reputation":540,"user_id":2530572,"display_name":"ART GALLERY"},"score":0,"creation_date":1484247109,"post_id":31594524,"comment_id":70442896,"body_markdown":"for WebStorm you want to find the webstorm.vmoptions file located in WebStorm.app/Contents/bin/webstorm.vmoptions","body":"for WebStorm you want to find the webstorm.vmoptions file located in WebStorm.app/Contents/bin/webstorm.vmoptions"}],"tags":[],"owner":{"account_id":5602414,"reputation":2900,"user_id":4438231,"display_name":"Sarneet Kaur"},"comment_count":4,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1437673332,"creation_date":1437673332,"answer_id":31594524,"question_id":28760415,"body_markdown":"I have allocated 4 GB to intelliJ 14 on windows 7. My settings in idea64.exe.vmoptions are :\r\n\r\n-Xms4608m  \r\n-Xmx4608m  \r\n-Xmn2g  \r\n-Xss128k  \r\n-XX:MaxPermSize=1536m  \r\n-XX:ParallelGCThreads=20","title":"How should I set the memory for IntelliJ 14?","body":"<p>I have allocated 4 GB to intelliJ 14 on windows 7. My settings in idea64.exe.vmoptions are :</p>\n\n<p>-Xms4608m<br>\n-Xmx4608m<br>\n-Xmn2g<br>\n-Xss128k<br>\n-XX:MaxPermSize=1536m<br>\n-XX:ParallelGCThreads=20</p>\n"},{"tags":[],"owner":{"account_id":3423003,"reputation":2107,"user_id":2869866,"accept_rate":100,"display_name":"martoncsukas"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1497015055,"creation_date":1497015055,"answer_id":44459138,"question_id":28760415,"body_markdown":"You can set IntelliJ IDEA&#39;s memory settings *and* your application&#39;s memory settings in the following places:\r\n\r\n**IDEA&#39;s vmoptions file:**\r\n\r\nUnder Windows it could be either of the followings, depending on which installation (x86, x64) you use: \r\n\r\n - C:\\Program Files (x86)\\JetBrains\\IntelliJ IDEA\r\n   2016.3.4\\bin\\idea.exe.vmoptions\r\n - C:\\Program Files (x86)\\JetBrains\\IntelliJ IDEA\r\n   2016.3.4\\bin\\idea64.exe.vmoptions\r\n\r\n**VM Options in the Run/Debug Configuration:**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1e0TW.jpg","title":"How should I set the memory for IntelliJ 14?","body":"<p>You can set IntelliJ IDEA's memory settings <em>and</em> your application's memory settings in the following places:</p>\n\n<p><strong>IDEA's vmoptions file:</strong></p>\n\n<p>Under Windows it could be either of the followings, depending on which installation (x86, x64) you use: </p>\n\n<ul>\n<li>C:\\Program Files (x86)\\JetBrains\\IntelliJ IDEA\n2016.3.4\\bin\\idea.exe.vmoptions</li>\n<li>C:\\Program Files (x86)\\JetBrains\\IntelliJ IDEA\n2016.3.4\\bin\\idea64.exe.vmoptions</li>\n</ul>\n\n<p><strong>VM Options in the Run/Debug Configuration:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/1e0TW.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1e0TW.jpg\" alt=\"enter image description here\"></a></p>\n"}],"owner":{"account_id":3174896,"reputation":7403,"user_id":2683013,"accept_rate":71,"display_name":"Sky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54190,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"accepted_answer_id":28760498,"answer_count":5,"score":43,"last_activity_date":1674197420,"creation_date":1425025336,"question_id":28760415,"body_markdown":"I just upgraded my IntelliJ to 14.0.3. But there&#39;s always an Out Of Memory dialog popped up to ask me to set the memory.\r\n \r\nFollowing is my settings:\r\n![enter image description here][1]\r\n\r\nI thought it&#39;s enough. But the dialog shows from time to time, and sometimes, it&#39;s not responding that I have to shutdown it.\r\n\r\nHow should I set this for IntelliJ 14? Any ideas?\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/KTiba.png","title":"How should I set the memory for IntelliJ 14?","body":"<p>I just upgraded my IntelliJ to 14.0.3. But there's always an Out Of Memory dialog popped up to ask me to set the memory.</p>\n<p>Following is my settings:\n<img src=\"https://i.stack.imgur.com/KTiba.png\" alt=\"enter image description here\" /></p>\n<p>I thought it's enough. But the dialog shows from time to time, and sometimes, it's not responding that I have to shutdown it.</p>\n<p>How should I set this for IntelliJ 14? Any ideas?</p>\n"},{"tags":["java","jshell"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1674123682,"post_id":75170692,"comment_id":132649334,"body_markdown":"probably because some folder/file used for startup is not accessible to normal users. Maybe it is the startup script, try `jshell --no-startup` or `jshell -`","body":"probably because some folder/file used for startup is not accessible to normal users. Maybe it is the startup script, try <code>jshell --no-startup</code> or <code>jshell -</code>"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1674124097,"post_id":75170692,"comment_id":132649460,"body_markdown":"Do you have your path setup correctly? If your in the bin folder, then all the files there should be on the path. When you run as administrator, does it have a different path variable than when run as a normal user. ( %PATH% it might be called?)","body":"Do you have your path setup correctly? If your in the bin folder, then all the files there should be on the path. When you run as administrator, does it have a different path variable than when run as a normal user. ( %PATH% it might be called?)"},{"owner":{"account_id":10894378,"reputation":737,"user_id":8008906,"display_name":"djy"},"score":0,"creation_date":1674126019,"post_id":75170692,"comment_id":132650118,"body_markdown":"@user16320675 `jshell --no-startup` has no error, `jshell -` same error","body":"@user16320675 <code>jshell --no-startup</code> has no error, <code>jshell -</code> same error"},{"owner":{"account_id":10894378,"reputation":737,"user_id":8008906,"display_name":"djy"},"score":0,"creation_date":1674126195,"post_id":75170692,"comment_id":132650175,"body_markdown":"@matt I checked `$env:PATH` is correct and same for admin and normal user","body":"@matt I checked <code>$env:PATH</code> is correct and same for admin and normal user"},{"owner":{"account_id":10894378,"reputation":737,"user_id":8008906,"display_name":"djy"},"score":0,"creation_date":1674196782,"post_id":75170692,"comment_id":132666302,"body_markdown":"Hi, I updated description, this error seems only occur when I execute `jshell` at my home dir, i.e. `C:\\Users\\my_user_name`, error disappears when I switch to any other folder at powershell, I had delete several suspicious folders and files at home dir, `jshell` still not work there.","body":"Hi, I updated description, this error seems only occur when I execute <code>jshell</code> at my home dir, i.e. <code>C:\\Users\\my_user_name</code>, error disappears when I switch to any other folder at powershell, I had delete several suspicious folders and files at home dir, <code>jshell</code> still not work there."},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1674217018,"post_id":75170692,"comment_id":132672070,"body_markdown":"(1) Maybe the problem is not jshell, maybe it is xxx.jsh content problem. (2) In the user directory, create `Main.jsh`, the content is: `import javax.swing.*;\nJFrame f = new JFrame(&quot;frame&quot;);\nJOptionPane. showMessageDialog(f, &quot;Hello Wolrd!&quot;);\n/exit` (3) Open powershell, execute in the user directory, `jshell --startup Main.jsh`, (4) It can be executed normally, no error message is generated (5) After installing Oracle JDK 19, Windows installer msi, there is no Make any settings, do not set JAVA_HOME or PATH, execute to open powershell, execute jshell directly, and there is no error message.","body":"(1) Maybe the problem is not jshell, maybe it is xxx.jsh content problem. (2) In the user directory, create <code>Main.jsh</code>, the content is: <code>import javax.swing.*; JFrame f = new JFrame(&quot;frame&quot;); JOptionPane. showMessageDialog(f, &quot;Hello Wolrd!&quot;); &#47;exit</code> (3) Open powershell, execute in the user directory, <code>jshell --startup Main.jsh</code>, (4) It can be executed normally, no error message is generated (5) After installing Oracle JDK 19, Windows installer msi, there is no Make any settings, do not set JAVA_HOME or PATH, execute to open powershell, execute jshell directly, and there is no error message."}],"owner":{"account_id":10894378,"reputation":737,"user_id":8008906,"display_name":"djy"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674197285,"creation_date":1674123311,"question_id":75170692,"body_markdown":"When I run jshell 17 / 19 in windows powershell at my home\r\n   dir, i.e. `C:\\Users\\my_user_name`, jshell throws exception as following.\r\n\r\nJdk 19 installed with oracle win10 msi binary, path updated by `$env:PATH=&#39;C:\\Program Files\\Java\\jdk-19\\bin;&#39;+$env:PATH`\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.InternalError: Exception during analyze - java.lang.NullPointerException: Cannot invoke &quot;com.sun.tools.javac.code.Scope$StarImportScope.isFilled()&quot; because &quot;tree.starImportScope&quot; is null\r\n        at jdk.jshell/jdk.jshell.TaskFactory$AnalyzeTask.analyze(TaskFactory.java:415)\r\n        at jdk.jshell/jdk.jshell.TaskFactory$AnalyzeTask.&lt;init&gt;(TaskFactory.java:406)\r\n        at jdk.jshell/jdk.jshell.TaskFactory.lambda$analyze$1(TaskFactory.java:178)\r\n        at jdk.jshell/jdk.jshell.TaskFactory.lambda$runTask$4(TaskFactory.java:213)\r\n        at jdk.compiler/com.sun.tools.javac.api.JavacTaskPool.getTask(JavacTaskPool.java:193)\r\n        at jdk.jshell/jdk.jshell.TaskFactory.runTask(TaskFactory.java:206)\r\n        at jdk.jshell/jdk.jshell.TaskFactory.analyze(TaskFactory.java:175)\r\n        at jdk.jshell/jdk.jshell.TaskFactory.analyze(TaskFactory.java:161)\r\n        at jdk.jshell/jdk.jshell.Eval.compileAndLoad(Eval.java:1060)\r\n        at jdk.jshell/jdk.jshell.Eval.declare(Eval.java:893)\r\n        at jdk.jshell/jdk.jshell.Eval.eval(Eval.java:140)\r\n        at jdk.jshell/jdk.jshell.JShell.eval(JShell.java:493)\r\n        at jdk.jshell/jdk.internal.jshell.tool.JShellTool.processSource(JShellTool.java:3624)\r\n        at jdk.jshell/jdk.internal.jshell.tool.JShellTool.processSourceCatchingReset(JShellTool.java:1348)\r\n        at jdk.jshell/jdk.internal.jshell.tool.JShellTool.processInput(JShellTool.java:1246)\r\n        at jdk.jshell/jdk.internal.jshell.tool.JShellTool.run(JShellTool.java:1217)\r\n        at jdk.jshell/jdk.internal.jshell.tool.JShellTool.startUpRun(JShellTool.java:1178)\r\n        at jdk.jshell/jdk.internal.jshell.tool.JShellTool.resetState(JShellTool.java:1125)\r\n        at jdk.jshell/jdk.internal.jshell.tool.JShellTool.start(JShellTool.java:951)\r\n        at jdk.jshell/jdk.internal.jshell.tool.JShellToolBuilder.start(JShellToolBuilder.java:261)\r\n        at jdk.jshell/jdk.internal.jshell.tool.JShellToolProvider.main(JShellToolProvider.java:120)\r\nCaused by: java.lang.IllegalStateException: java.lang.NullPointerException: Cannot invoke &quot;com.sun.tools.javac.code.Scope$StarImportScope.isFilled()&quot; because &quot;tree.starImportScope&quot; is null\r\n        at jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.analyze(JavacTaskImpl.java:383)\r\n        at jdk.jshell/jdk.jshell.TaskFactory$AnalyzeTask.analyze(TaskFactory.java:412)\r\n        ... 20 more\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;com.sun.tools.javac.code.Scope$StarImportScope.isFilled()&quot; because &quot;tree.starImportScope&quot; is null\r\n        at jdk.compiler/com.sun.tools.javac.comp.TypeEnter.ensureImportsChecked(TypeEnter.java:170)\r\n        at jdk.compiler/com.sun.tools.javac.comp.Enter.complete(Enter.java:628)\r\n        at jdk.compiler/com.sun.tools.javac.comp.Enter.main(Enter.java:588)\r\n        at jdk.compiler/com.sun.tools.javac.main.JavaCompiler.enterTrees(JavaCompiler.java:1042)\r\n        at jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.enter(JavacTaskImpl.java:345)\r\n        at jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.analyze(JavacTaskImpl.java:399)\r\n        at jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.lambda$analyze$1(JavacTaskImpl.java:379)\r\n        at jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.invocationHelper(JavacTaskImpl.java:152)\r\n        at jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.analyze(JavacTaskImpl.java:379)\r\n        ... 21 more\r\n```\r\n\r\n\r\nBut `jshell` works when I first `cd` to any other dir **or** when I use jshell 11 at my home dir.\r\n\r\n - Update 1: run with `jshell --no-startup` the `internalError`\r\n   disappeared at startup, but when I type `import java.util.ArrayList;`\r\n   in jshell and type `enter`, `jshell` exits with same the error as\r\n   following.\r\n - Update 2: The error only occured when I execute `jshell` at my home\r\n   dir, i.e. `C:\\Users\\my_user_name`, but I didn&#39;t find out why. (Have\r\n   delete several suspicious folders and files at home dir, still not work). Maybe `jshell` reads something when startup from its `pwd`/`cwd` and get confused by some of my file at home directory ?\r\n","title":"Why jshell throw Exception at startup at windows when run `jshell` at my home directory?","body":"<p>When I run jshell 17 / 19 in windows powershell at my home\ndir, i.e. <code>C:\\Users\\my_user_name</code>, jshell throws exception as following.</p>\n<p>Jdk 19 installed with oracle win10 msi binary, path updated by <code>$env:PATH='C:\\Program Files\\Java\\jdk-19\\bin;'+$env:PATH</code></p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.InternalError: Exception during analyze - java.lang.NullPointerException: Cannot invoke &quot;com.sun.tools.javac.code.Scope$StarImportScope.isFilled()&quot; because &quot;tree.starImportScope&quot; is null\n        at jdk.jshell/jdk.jshell.TaskFactory$AnalyzeTask.analyze(TaskFactory.java:415)\n        at jdk.jshell/jdk.jshell.TaskFactory$AnalyzeTask.&lt;init&gt;(TaskFactory.java:406)\n        at jdk.jshell/jdk.jshell.TaskFactory.lambda$analyze$1(TaskFactory.java:178)\n        at jdk.jshell/jdk.jshell.TaskFactory.lambda$runTask$4(TaskFactory.java:213)\n        at jdk.compiler/com.sun.tools.javac.api.JavacTaskPool.getTask(JavacTaskPool.java:193)\n        at jdk.jshell/jdk.jshell.TaskFactory.runTask(TaskFactory.java:206)\n        at jdk.jshell/jdk.jshell.TaskFactory.analyze(TaskFactory.java:175)\n        at jdk.jshell/jdk.jshell.TaskFactory.analyze(TaskFactory.java:161)\n        at jdk.jshell/jdk.jshell.Eval.compileAndLoad(Eval.java:1060)\n        at jdk.jshell/jdk.jshell.Eval.declare(Eval.java:893)\n        at jdk.jshell/jdk.jshell.Eval.eval(Eval.java:140)\n        at jdk.jshell/jdk.jshell.JShell.eval(JShell.java:493)\n        at jdk.jshell/jdk.internal.jshell.tool.JShellTool.processSource(JShellTool.java:3624)\n        at jdk.jshell/jdk.internal.jshell.tool.JShellTool.processSourceCatchingReset(JShellTool.java:1348)\n        at jdk.jshell/jdk.internal.jshell.tool.JShellTool.processInput(JShellTool.java:1246)\n        at jdk.jshell/jdk.internal.jshell.tool.JShellTool.run(JShellTool.java:1217)\n        at jdk.jshell/jdk.internal.jshell.tool.JShellTool.startUpRun(JShellTool.java:1178)\n        at jdk.jshell/jdk.internal.jshell.tool.JShellTool.resetState(JShellTool.java:1125)\n        at jdk.jshell/jdk.internal.jshell.tool.JShellTool.start(JShellTool.java:951)\n        at jdk.jshell/jdk.internal.jshell.tool.JShellToolBuilder.start(JShellToolBuilder.java:261)\n        at jdk.jshell/jdk.internal.jshell.tool.JShellToolProvider.main(JShellToolProvider.java:120)\nCaused by: java.lang.IllegalStateException: java.lang.NullPointerException: Cannot invoke &quot;com.sun.tools.javac.code.Scope$StarImportScope.isFilled()&quot; because &quot;tree.starImportScope&quot; is null\n        at jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.analyze(JavacTaskImpl.java:383)\n        at jdk.jshell/jdk.jshell.TaskFactory$AnalyzeTask.analyze(TaskFactory.java:412)\n        ... 20 more\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;com.sun.tools.javac.code.Scope$StarImportScope.isFilled()&quot; because &quot;tree.starImportScope&quot; is null\n        at jdk.compiler/com.sun.tools.javac.comp.TypeEnter.ensureImportsChecked(TypeEnter.java:170)\n        at jdk.compiler/com.sun.tools.javac.comp.Enter.complete(Enter.java:628)\n        at jdk.compiler/com.sun.tools.javac.comp.Enter.main(Enter.java:588)\n        at jdk.compiler/com.sun.tools.javac.main.JavaCompiler.enterTrees(JavaCompiler.java:1042)\n        at jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.enter(JavacTaskImpl.java:345)\n        at jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.analyze(JavacTaskImpl.java:399)\n        at jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.lambda$analyze$1(JavacTaskImpl.java:379)\n        at jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.invocationHelper(JavacTaskImpl.java:152)\n        at jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.analyze(JavacTaskImpl.java:379)\n        ... 21 more\n</code></pre>\n<p>But <code>jshell</code> works when I first <code>cd</code> to any other dir <strong>or</strong> when I use jshell 11 at my home dir.</p>\n<ul>\n<li>Update 1: run with <code>jshell --no-startup</code> the <code>internalError</code>\ndisappeared at startup, but when I type <code>import java.util.ArrayList;</code>\nin jshell and type <code>enter</code>, <code>jshell</code> exits with same the error as\nfollowing.</li>\n<li>Update 2: The error only occured when I execute <code>jshell</code> at my home\ndir, i.e. <code>C:\\Users\\my_user_name</code>, but I didn't find out why. (Have\ndelete several suspicious folders and files at home dir, still not work). Maybe <code>jshell</code> reads something when startup from its <code>pwd</code>/<code>cwd</code> and get confused by some of my file at home directory ?</li>\n</ul>\n"},{"tags":["java","testing","groovy","automated-tests","katalon-studio"],"comments":[{"owner":{"account_id":2309337,"reputation":3776,"user_id":2027839,"accept_rate":71,"display_name":"Mike Warren"},"score":0,"creation_date":1674150361,"post_id":74196484,"comment_id":132658685,"body_markdown":"Is this some search field that you&#39;re pressing Enter on? Also, what made you want to `WebUI.click()` when you mean to send the Enter key?","body":"Is this some search field that you&#39;re pressing Enter on? Also, what made you want to <code>WebUI.click()</code> when you mean to send the Enter key?"}],"answers":[{"comments":[{"owner":{"account_id":2309337,"reputation":3776,"user_id":2027839,"accept_rate":71,"display_name":"Mike Warren"},"score":1,"creation_date":1674145005,"post_id":74611896,"comment_id":132656733,"body_markdown":"Come on man...this is an infinite while loop, with no exit condition!","body":"Come on man...this is an infinite while loop, with no exit condition!"}],"tags":[],"owner":{"account_id":12016659,"reputation":8089,"user_id":8791568,"display_name":"Mate Mrše"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674197089,"creation_date":1669714756,"answer_id":74611896,"question_id":74196484,"body_markdown":"You can use [`WebUI.verifyElementPresent()`](https://docs.katalon.com/docs/author/keywords/keyword-description-in-katalon-studio/web-ui-keywords/webui-verify-element-present) method like this (Note: you are missing the parenthesis in your example. Also, timeout is required):\r\n``` \r\ncondition = true\r\nwhile (condition) {\r\n    WebUI.click(y)\r\n    if (WebUI.verifyElementPresent(x, 5)) { \r\n        condition = false\r\n    }\r\n}\r\nWebUI.setText(x, &#39;1&#39;)","title":"Create a loop while on Katalon with Groovy","body":"<p>You can use <a href=\"https://docs.katalon.com/docs/author/keywords/keyword-description-in-katalon-studio/web-ui-keywords/webui-verify-element-present\" rel=\"nofollow noreferrer\"><code>WebUI.verifyElementPresent()</code></a> method like this (Note: you are missing the parenthesis in your example. Also, timeout is required):</p>\n<pre><code>condition = true\nwhile (condition) {\n    WebUI.click(y)\n    if (WebUI.verifyElementPresent(x, 5)) { \n        condition = false\n    }\n}\nWebUI.setText(x, '1')\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2309337,"reputation":3776,"user_id":2027839,"accept_rate":71,"display_name":"Mike Warren"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674158162,"creation_date":1674158162,"answer_id":75177616,"question_id":74196484,"body_markdown":"&gt; and there are some steps where I need to repeat the &#39;Enter&#39; key many times, so I am trying to create a loop where &#39;Enter&#39; is pressed until an object becomes available, or visible\r\n\r\nIt sounds like that field that &quot;Enter&quot; is being pressed on, is a search field, and that &quot;object becoming available or visible&quot; is a search result...\r\n\r\nAs for your retry logic, take a look at [my answer on the Katalon Studio forum](https://forum.katalon.com/t/how-you-can-retry-actions-in-katalon-studio/82146):\r\n\r\n```\r\npublic class ActionHandler {\r\n    public static void HandleRetryableAction(Closure onAction, Closure onDone, long timeOut) {\r\n        long startTime = System.currentTimeSeconds();\r\n        while (System.currentTimeSeconds() &lt; startTime + timeOut) {\r\n            try {\r\n                onDone(true, onAction());\r\n                return;\r\n            } catch (Exception ex) {\r\n                onDone(false, ex);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nYou should use this custom keyword like this: \r\n\r\n```\r\nActionHandler.HandleRetryableAction({\r\n\tWebUI.sendKeys(findTestObject(&#39;path/2&#39;), // you should REALLY name this something better...something more meaningful...\r\n\t\tKeys.ENTER.toString());\r\n\r\n\tfinal TestObject firstSearchResult = findTestObject(&#39;path/1&#39;); // again, fix the naming please!!\r\n\r\n\t// we&#39;re waiting on search result to **disappear**, in order to squash any flakiness that comes from the next step...\r\n\tWebUI.waitForElementNotPresent(firstSearchResult,\r\n\t\t1,\r\n\t\tFailureHandling.OPTIONAL);\r\n\r\n \treturn WebUI.waitForElementPresent(firstSearchResult,\r\n\t\t5); \r\n}, { boolean success, _ -&gt; \r\n\tif (!success) { \r\n\t\t// take additional actions, such as refreshing the page, clicking some refresh widget, ...\r\n\t}\r\n}, \r\n15, // I set it to 3 times the wait time specified by Mate Mrse, for good measure\r\n)\r\n```\r\n\r\nTake note of three things here...\r\n\r\n\r\n\r\n  1.) It&#39;s `WebUI.sendKeys()` to...well...send the keys. Also, the String argument is the stringification of `org.openqa.selenium.Keys.ENTER` . \r\n  \r\n  2.) We are using the `WebUI.waitForElementPresent()` here. This is built-in keyword.\r\n  \r\n  3.) I don&#39;t see any action we&#39;re taking if the result is NOT present after Enter, except spamming Enter. You should spell out what we should do in that case. \r\n\r\nIn the absence of any onRetry logic, I think your idea to use loop, and my idea to use `ActionHandler`, is overkill.\r\n\r\nPlease respond back with your full use case here, and maybe some screenshots of or link to the AUT itself, and I can adjust this answer to that!","title":"Create a loop while on Katalon with Groovy","body":"<blockquote>\n<p>and there are some steps where I need to repeat the 'Enter' key many times, so I am trying to create a loop where 'Enter' is pressed until an object becomes available, or visible</p>\n</blockquote>\n<p>It sounds like that field that &quot;Enter&quot; is being pressed on, is a search field, and that &quot;object becoming available or visible&quot; is a search result...</p>\n<p>As for your retry logic, take a look at <a href=\"https://forum.katalon.com/t/how-you-can-retry-actions-in-katalon-studio/82146\" rel=\"nofollow noreferrer\">my answer on the Katalon Studio forum</a>:</p>\n<pre><code>public class ActionHandler {\n    public static void HandleRetryableAction(Closure onAction, Closure onDone, long timeOut) {\n        long startTime = System.currentTimeSeconds();\n        while (System.currentTimeSeconds() &lt; startTime + timeOut) {\n            try {\n                onDone(true, onAction());\n                return;\n            } catch (Exception ex) {\n                onDone(false, ex);\n            }\n        }\n    }\n}\n</code></pre>\n<p>You should use this custom keyword like this:</p>\n<pre><code>ActionHandler.HandleRetryableAction({\n    WebUI.sendKeys(findTestObject('path/2'), // you should REALLY name this something better...something more meaningful...\n        Keys.ENTER.toString());\n\n    final TestObject firstSearchResult = findTestObject('path/1'); // again, fix the naming please!!\n\n    // we're waiting on search result to **disappear**, in order to squash any flakiness that comes from the next step...\n    WebUI.waitForElementNotPresent(firstSearchResult,\n        1,\n        FailureHandling.OPTIONAL);\n\n    return WebUI.waitForElementPresent(firstSearchResult,\n        5); \n}, { boolean success, _ -&gt; \n    if (!success) { \n        // take additional actions, such as refreshing the page, clicking some refresh widget, ...\n    }\n}, \n15, // I set it to 3 times the wait time specified by Mate Mrse, for good measure\n)\n</code></pre>\n<p>Take note of three things here...</p>\n<p>1.) It's <code>WebUI.sendKeys()</code> to...well...send the keys. Also, the String argument is the stringification of <code>org.openqa.selenium.Keys.ENTER</code> .</p>\n<p>2.) We are using the <code>WebUI.waitForElementPresent()</code> here. This is built-in keyword.</p>\n<p>3.) I don't see any action we're taking if the result is NOT present after Enter, except spamming Enter. You should spell out what we should do in that case.</p>\n<p>In the absence of any onRetry logic, I think your idea to use loop, and my idea to use <code>ActionHandler</code>, is overkill.</p>\n<p>Please respond back with your full use case here, and maybe some screenshots of or link to the AUT itself, and I can adjust this answer to that!</p>\n"}],"owner":{"account_id":26729090,"reputation":1,"user_id":20331766,"display_name":"David TG"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674197089,"creation_date":1666711484,"question_id":74196484,"body_markdown":"I am automating a test, and there are some steps where I need to repeat the &#39;Enter&#39; key many times, so I am trying to create a loop where &#39;Enter&#39; is pressed until an object becomes available, or visible.\r\n\r\nI already tried quite a few different ways to do it, but it never works, normally the while statement or the if statement breaks without the condition being broken.\r\n\r\nOn the following example, I am creating object x and object y. I want to repeat y until I get to a window where x is available.\r\n\r\nAlso here are a few of my failed attempts.\r\n\r\n\r\n\r\n\r\n```\r\n\r\n\r\n\r\nTestObject x = findTestObject(&#39;path/1&#39;)\r\n\r\nTestObject y = findTestObject(&#39;path/2&#39;)\r\n\r\n\r\nwhile (true) {\r\n\tWebUI.click(y)\r\n\tif (WebUI.verifyElementPresent) break\r\n}\r\n\r\n//\r\n//while (WebUI.verifyElementNotPresent(x, 10)) {\r\n//    WebUI.click(y)\r\n//}\r\n\r\n\r\n//while(true) {\r\n//\tWebUI.click(y)\r\n//\tif(WebUI.verifyElementVisible(x))\r\n//\t\tWebUI.click(y)\r\n//}\r\n\r\n\r\nExample of what I am trying to avoid.\r\n\r\nWebUI.click(y)\r\n\r\nWebUI.click(y)\r\n\r\nWebUI.click(y)\r\n\r\nWebUI.setText(x, &#39;1&#39;)\r\n\r\n\r\n```","title":"Create a loop while on Katalon with Groovy","body":"<p>I am automating a test, and there are some steps where I need to repeat the 'Enter' key many times, so I am trying to create a loop where 'Enter' is pressed until an object becomes available, or visible.</p>\n<p>I already tried quite a few different ways to do it, but it never works, normally the while statement or the if statement breaks without the condition being broken.</p>\n<p>On the following example, I am creating object x and object y. I want to repeat y until I get to a window where x is available.</p>\n<p>Also here are a few of my failed attempts.</p>\n<pre><code>\n\n\nTestObject x = findTestObject('path/1')\n\nTestObject y = findTestObject('path/2')\n\n\nwhile (true) {\n    WebUI.click(y)\n    if (WebUI.verifyElementPresent) break\n}\n\n//\n//while (WebUI.verifyElementNotPresent(x, 10)) {\n//    WebUI.click(y)\n//}\n\n\n//while(true) {\n//  WebUI.click(y)\n//  if(WebUI.verifyElementVisible(x))\n//      WebUI.click(y)\n//}\n\n\nExample of what I am trying to avoid.\n\nWebUI.click(y)\n\nWebUI.click(y)\n\nWebUI.click(y)\n\nWebUI.setText(x, '1')\n\n\n</code></pre>\n"},{"tags":["java","linux"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1674198356,"post_id":75180586,"comment_id":132666611,"body_markdown":"Likely your background service runs with different environment variables and/or user account. Make sure the service has what it needs.","body":"Likely your background service runs with different environment variables and/or user account. Make sure the service has what it needs."}],"owner":{"account_id":27326037,"reputation":1,"user_id":20839003,"display_name":"jasmi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674196935,"creation_date":1674196935,"question_id":75180586,"body_markdown":"I want to run a customer script which inturn runs multiple python files from my java programs. the script runs fine when in run the jar manually from the terminal using java -jar jarfilename.jar but fails when i run the same jar as service in background.\r\n\r\nI&#39;m getting the following error in my debug log\r\n\r\n    Site:16 RESULT:False:Vmin test completed with no report! Something went wrong.@_@\r\n    Site:9 Traceback (most recent call last):\r\n    Site:9&#160;&#160; File &quot;pexpect/spawnbase.py&quot;, line 166, in read_nonblocking\r\n    Site:9 OSError: [Errno 5] Input/output error\r\n    Site:9&#160;\r\n    Site:9 During handling of the above exception, another exception occurred:\r\n    Site:9&#160;\r\n    Site:9 Traceback (most recent call last):\r\n    Site:9&#160;&#160; File &quot;pexpect/expect.py&quot;, line 111, in expect_loop\r\n    Site:9&#160;&#160; File &quot;pexpect/pty_spawn.py&quot;, line 485, in read_nonblocking\r\n    Site:9&#160;&#160; File &quot;pexpect/spawnbase.py&quot;, line 171, in read_nonblocking\r\n    Site:9 pexpect.exceptions.EOF: End Of File (EOF). Exception style platform.\r\n    Site:9&#160;\r\n    Site:9 During handling of the above exception, another exception occurred:\r\n    Site:9&#160;\r\n    Site:9 Traceback (most recent call last):`\r\n\r\n\r\nThe above error shows OSError: [Errno 5] Input/output error which from this link [link](https://stackoverflow.com/questions/52376942/python-ioerror-errno-5-input-output-error)i found it might be due to the print stattement in py file but unfortunately i don&#39;t have access to any customer file how can we handle it from java side or any thing when writing a service might fix it?\r\n","title":"how to avoid IO error while running jar as service","body":"<p>I want to run a customer script which inturn runs multiple python files from my java programs. the script runs fine when in run the jar manually from the terminal using java -jar jarfilename.jar but fails when i run the same jar as service in background.</p>\n<p>I'm getting the following error in my debug log</p>\n<pre><code>Site:16 RESULT:False:Vmin test completed with no report! Something went wrong.@_@\nSite:9 Traceback (most recent call last):\nSite:9   File &quot;pexpect/spawnbase.py&quot;, line 166, in read_nonblocking\nSite:9 OSError: [Errno 5] Input/output error\nSite:9 \nSite:9 During handling of the above exception, another exception occurred:\nSite:9 \nSite:9 Traceback (most recent call last):\nSite:9   File &quot;pexpect/expect.py&quot;, line 111, in expect_loop\nSite:9   File &quot;pexpect/pty_spawn.py&quot;, line 485, in read_nonblocking\nSite:9   File &quot;pexpect/spawnbase.py&quot;, line 171, in read_nonblocking\nSite:9 pexpect.exceptions.EOF: End Of File (EOF). Exception style platform.\nSite:9 \nSite:9 During handling of the above exception, another exception occurred:\nSite:9 \nSite:9 Traceback (most recent call last):`\n</code></pre>\n<p>The above error shows OSError: [Errno 5] Input/output error which from this link <a href=\"https://stackoverflow.com/questions/52376942/python-ioerror-errno-5-input-output-error\">link</a>i found it might be due to the print stattement in py file but unfortunately i don't have access to any customer file how can we handle it from java side or any thing when writing a service might fix it?</p>\n"},{"tags":["java","sql","spring","spring-boot","oracle-sqldeveloper"],"owner":{"account_id":15467469,"reputation":55,"user_id":11158412,"display_name":"ProximanovaMetropolis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674196491,"creation_date":1674196491,"question_id":75180533,"body_markdown":"I am new to JPA and Spring Boot and am creating a project for the first time. In my Spring Boot project, I have two tables as follows:\r\n\r\n1. Policy\r\n\r\n```\r\n@Entity (name = &quot;Policy&quot;)\r\n@Table (name = &quot;POLICY&quot;)\r\npublic class Policy {\r\n  @Id\r\n  private Long id;\r\n\r\n  @Column (name = &quot;POLICY_ID&quot;)\r\n  private Long policyId;\r\n\r\n  @NotNull\r\n  @Column (name = &quot;COVER_ID&quot;)\r\n  private Long coverId;\r\n\r\n  @Column (name = &quot;ACCT_NUMBER&quot;)\r\n  private String accountNumber;\r\n\r\n  ...\r\n\r\n  @NotNull\r\n  @Column (name = &quot;UPDATE_DATE&quot;)\r\n  private Date updateDate;\r\n}\r\n```\r\namong other fields.\r\n\r\n2. Coverage\r\n```\r\n@Entity (name = &quot;Coverage&quot;)\r\n@Table (name = &quot;COVERAGE&quot;)\r\npublic class Coverage {\r\n  @Id\r\n  // @GeneratedValue (strategy = GenerationType.AUTO)\r\n  @Column (name = &quot;COVER_ID&quot;)\r\n  private Long coverId;\r\n\r\n  @NotNull\r\n  @Column (name = &quot;ACCT_NUMBER&quot;)\r\n  private String accountNumber;\r\n\r\n  @NotNull\r\n  @Column (name = &quot;STATUS&quot;)\r\n  private String status;\r\n  ...\r\n\r\n  @NotNull\r\n  @Column (name = &quot;UPDATE_DATE&quot;)\r\n  private Date updateDate;\r\n}\r\n```\r\nCoverage has only one record for each account number, but Policy can have multiple records for the same account number, and the coverage ID in the Policy table references that in the Coverage table.\r\n\r\nI am using Oracle SQL Developer to store the tables. My requirement is to retrieve the 10 **latest** (most recent) records from the Coverage table where the status is `Active`, and then to retrieve the Policy records for **those** 10 records simultaneously. These records will then be written to text files, one for each of the two tables. Then some fields in them will be updated and the updated records will be written to new text files.\r\n\r\nHere, for the coverage records, I use `order by updateDate desc` to sort the results in descending order, and in SQL Developer, instead of `top (10)` I have to put `where rownum &lt;= 10`. Therefore the read method implementing the first SQL query is:\r\n\r\n```\r\n@Override\r\npublic List&lt;Coverage&gt; readCoverRecords() {\r\n  EntityManager em = transactionManager.getEntityManager();\r\n  String coverQuery = &quot;From Coverage where status = &#39;Active&#39; and rownum &lt;= 10 order by updateDate&quot;;\r\n  TypedQuery&lt;Coverage&gt; tq = em.createQuery(coverQuery, Coverage.class);\r\n  return tq.getResultList();\r\n}\r\n```\r\nwhich is easy enough. But the issue arises when I try to retrieve the Policy records for these ten Coverage records, which are linked by their account number. That is, if I were retrieving records from both tables, I would have used `Coverage.accountNumber = Policy.accountNumber` in the WHERE clause. But here I have to return a `List&lt;Policy&gt;` object, which in turn will be written to a file. Using a single SQL statement I would have written (my query may be wrong; it is only to specify the logic):\r\n```\r\nselect * from Policy P  where P.accountNumber in (select C.accountNumber from Coverage C where C.status = &#39;Active&#39; and rownum &lt;= 10 order by C.updateDate desc);\r\n```\r\nThis returns a *missing right parenthesis* error in SQL Developer. Moreover, in any case, this does not guarantee that the Policy records retrieved will be for the same account numbers as the Coverage records, since the updateDate of some records may have changed in the meantime. Therefore, I am looking for a solution which is able to ensure that the retrieved records for Policy will always correspond to the same account numbers as retrieved for Coverage.","title":"JPA Spring: Retrieving records from two related tables, ensuring that records do not change in the meantime","body":"<p>I am new to JPA and Spring Boot and am creating a project for the first time. In my Spring Boot project, I have two tables as follows:</p>\n<ol>\n<li>Policy</li>\n</ol>\n<pre><code>@Entity (name = &quot;Policy&quot;)\n@Table (name = &quot;POLICY&quot;)\npublic class Policy {\n  @Id\n  private Long id;\n\n  @Column (name = &quot;POLICY_ID&quot;)\n  private Long policyId;\n\n  @NotNull\n  @Column (name = &quot;COVER_ID&quot;)\n  private Long coverId;\n\n  @Column (name = &quot;ACCT_NUMBER&quot;)\n  private String accountNumber;\n\n  ...\n\n  @NotNull\n  @Column (name = &quot;UPDATE_DATE&quot;)\n  private Date updateDate;\n}\n</code></pre>\n<p>among other fields.</p>\n<ol start=\"2\">\n<li>Coverage</li>\n</ol>\n<pre><code>@Entity (name = &quot;Coverage&quot;)\n@Table (name = &quot;COVERAGE&quot;)\npublic class Coverage {\n  @Id\n  // @GeneratedValue (strategy = GenerationType.AUTO)\n  @Column (name = &quot;COVER_ID&quot;)\n  private Long coverId;\n\n  @NotNull\n  @Column (name = &quot;ACCT_NUMBER&quot;)\n  private String accountNumber;\n\n  @NotNull\n  @Column (name = &quot;STATUS&quot;)\n  private String status;\n  ...\n\n  @NotNull\n  @Column (name = &quot;UPDATE_DATE&quot;)\n  private Date updateDate;\n}\n</code></pre>\n<p>Coverage has only one record for each account number, but Policy can have multiple records for the same account number, and the coverage ID in the Policy table references that in the Coverage table.</p>\n<p>I am using Oracle SQL Developer to store the tables. My requirement is to retrieve the 10 <strong>latest</strong> (most recent) records from the Coverage table where the status is <code>Active</code>, and then to retrieve the Policy records for <strong>those</strong> 10 records simultaneously. These records will then be written to text files, one for each of the two tables. Then some fields in them will be updated and the updated records will be written to new text files.</p>\n<p>Here, for the coverage records, I use <code>order by updateDate desc</code> to sort the results in descending order, and in SQL Developer, instead of <code>top (10)</code> I have to put <code>where rownum &lt;= 10</code>. Therefore the read method implementing the first SQL query is:</p>\n<pre><code>@Override\npublic List&lt;Coverage&gt; readCoverRecords() {\n  EntityManager em = transactionManager.getEntityManager();\n  String coverQuery = &quot;From Coverage where status = 'Active' and rownum &lt;= 10 order by updateDate&quot;;\n  TypedQuery&lt;Coverage&gt; tq = em.createQuery(coverQuery, Coverage.class);\n  return tq.getResultList();\n}\n</code></pre>\n<p>which is easy enough. But the issue arises when I try to retrieve the Policy records for these ten Coverage records, which are linked by their account number. That is, if I were retrieving records from both tables, I would have used <code>Coverage.accountNumber = Policy.accountNumber</code> in the WHERE clause. But here I have to return a <code>List&lt;Policy&gt;</code> object, which in turn will be written to a file. Using a single SQL statement I would have written (my query may be wrong; it is only to specify the logic):</p>\n<pre><code>select * from Policy P  where P.accountNumber in (select C.accountNumber from Coverage C where C.status = 'Active' and rownum &lt;= 10 order by C.updateDate desc);\n</code></pre>\n<p>This returns a <em>missing right parenthesis</em> error in SQL Developer. Moreover, in any case, this does not guarantee that the Policy records retrieved will be for the same account numbers as the Coverage records, since the updateDate of some records may have changed in the meantime. Therefore, I am looking for a solution which is able to ensure that the retrieved records for Policy will always correspond to the same account numbers as retrieved for Coverage.</p>\n"},{"tags":["java","ruby","rfc2396"],"answers":[{"comments":[{"owner":{"account_id":5302184,"reputation":4742,"user_id":4231385,"display_name":"cremno"},"score":0,"creation_date":1674230544,"post_id":75180523,"comment_id":132677025,"body_markdown":"Also `URI.regexp` and related methods are obsolete [since 2.2](https://github.com/ruby/ruby/commit/bb83f32dc3e0424d25fa4e55d8ff32b061320e41). The documentation of `URI` doesn&#39;t mention that but running with warnings enabled (`-w`) is always a good idea.","body":"Also <code>URI.regexp</code> and related methods are obsolete <a href=\"https://github.com/ruby/ruby/commit/bb83f32dc3e0424d25fa4e55d8ff32b061320e41\" rel=\"nofollow noreferrer\">since 2.2</a>. The documentation of <code>URI</code> doesn&#39;t mention that but running with warnings enabled (<code>-w</code>) is always a good idea."}],"tags":[],"owner":{"account_id":2895425,"reputation":102454,"user_id":2483313,"display_name":"spickermann"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674196439,"creation_date":1674196439,"answer_id":75180523,"question_id":75179882,"body_markdown":"I would use `URI.parse` to validate a URL. `URL.parse` raises an exception if the URL is not valid:\r\n\r\n    require &#39;uri&#39;\r\n\r\n    URI.parse(&#39;https://example.com/&lt;network_id&gt;/1&#39;)\r\n    #=&gt; bad URI(is not URI?): &quot;https://example.com/&lt;network_id&gt;/1&quot; (URI::InvalidURIError)                                       \r\n\r\n\r\nWhich allows writing a simple URL validation method like this:\r\n\r\n    def valid_url?(url)\r\n      URI.parse(url) rescue false\r\n    end\r\n\r\n    valid_url?(&#39;https://example.com/&lt;network_id&gt;/1&#39;)\r\n    #=&gt; false\r\n\r\n    valid_url?(&#39;https://stackoverflow.com/questions/75179882&#39;)\r\n    #=&gt; #&lt;URI::HTTPS https://stackoverflow.com/questions/75179882&gt;\r\n\r\n","title":"Is Ruby&#39;s URI.regexp &quot;wrong&quot; to use as a validator?","body":"<p>I would use <code>URI.parse</code> to validate a URL. <code>URL.parse</code> raises an exception if the URL is not valid:</p>\n<pre><code>require 'uri'\n\nURI.parse('https://example.com/&lt;network_id&gt;/1')\n#=&gt; bad URI(is not URI?): &quot;https://example.com/&lt;network_id&gt;/1&quot; (URI::InvalidURIError)                                       \n</code></pre>\n<p>Which allows writing a simple URL validation method like this:</p>\n<pre><code>def valid_url?(url)\n  URI.parse(url) rescue false\nend\n\nvalid_url?('https://example.com/&lt;network_id&gt;/1')\n#=&gt; false\n\nvalid_url?('https://stackoverflow.com/questions/75179882')\n#=&gt; #&lt;URI::HTTPS https://stackoverflow.com/questions/75179882&gt;\n</code></pre>\n"}],"owner":{"account_id":15203,"reputation":1884,"user_id":31891,"accept_rate":23,"display_name":"Ken Mayer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75180523,"answer_count":1,"score":1,"last_activity_date":1674196439,"creation_date":1674179011,"question_id":75179882,"body_markdown":"Given a url like `https://example.com/&lt;network_id&gt;/1`\r\n\r\n[Ruby&#39;s URI module](https://ruby-doc.org/stdlib-3.1.0/libdoc/uri/rdoc/URI.html) can validate URIs using a regular expression:\r\n\r\n```\r\nURI.regexp.match(&quot;https://example.com/&lt;network_id&gt;/1&quot;)\r\n=&gt; #&lt;MatchData &quot;https://example.com/&quot; 1:&quot;https&quot; 2:nil 3:nil 4:&quot;example.com&quot; 5:nil 6:nil 7:&quot;/&quot; 8:nil 9:nil&gt;\r\n```\r\n\r\nBut if you try to hand this off to another package, say [Java&#39;s URI class](https://docs.oracle.com/javase/8/docs/api/java/net/URI.html)\r\n\r\nIt will fail:\r\n\r\n```\r\nError message:\r\nIllegal character in path at index ...\r\n\r\n                               java.net.URI.create(URI.java:852)\r\norg.apache.http.client.methods.HttpPost.&lt;init&gt;(HttpPost.java:73)\r\n...\r\n```\r\n\r\nIs there a better URI validator, something that we can use in a Rails class?","title":"Is Ruby&#39;s URI.regexp &quot;wrong&quot; to use as a validator?","body":"<p>Given a url like <code>https://example.com/&lt;network_id&gt;/1</code></p>\n<p><a href=\"https://ruby-doc.org/stdlib-3.1.0/libdoc/uri/rdoc/URI.html\" rel=\"nofollow noreferrer\">Ruby's URI module</a> can validate URIs using a regular expression:</p>\n<pre><code>URI.regexp.match(&quot;https://example.com/&lt;network_id&gt;/1&quot;)\n=&gt; #&lt;MatchData &quot;https://example.com/&quot; 1:&quot;https&quot; 2:nil 3:nil 4:&quot;example.com&quot; 5:nil 6:nil 7:&quot;/&quot; 8:nil 9:nil&gt;\n</code></pre>\n<p>But if you try to hand this off to another package, say <a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/URI.html\" rel=\"nofollow noreferrer\">Java's URI class</a></p>\n<p>It will fail:</p>\n<pre><code>Error message:\nIllegal character in path at index ...\n\n                               java.net.URI.create(URI.java:852)\norg.apache.http.client.methods.HttpPost.&lt;init&gt;(HttpPost.java:73)\n...\n</code></pre>\n<p>Is there a better URI validator, something that we can use in a Rails class?</p>\n"},{"tags":["java","reactjs","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":7357018,"reputation":356,"user_id":5601435,"display_name":"Fabien"},"score":1,"creation_date":1656055463,"post_id":72740251,"comment_id":128482672,"body_markdown":"As it&#39;s working as expected with a direct call, I would suggest to change/add the tags of your question to include reactjs and to add the section of the reactjs code in your question.","body":"As it&#39;s working as expected with a direct call, I would suggest to change/add the tags of your question to include reactjs and to add the section of the reactjs code in your question."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1656058419,"post_id":72740251,"comment_id":128483630,"body_markdown":"You are using a JS framework to do requests and as such the browser doesn&#39;t handle the redirect the JS framework is. So you need to add code to handle the response.","body":"You are using a JS framework to do requests and as such the browser doesn&#39;t handle the redirect the JS framework is. So you need to add code to handle the response."}],"answers":[{"tags":[],"owner":{"account_id":11242615,"reputation":1,"user_id":8246330,"display_name":"EcOs9"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674196403,"creation_date":1672897234,"answer_id":75014274,"question_id":72740251,"body_markdown":"Just in case if someone run into something like this in the future.\r\n\r\nI end up using this code getting rid of 405 method not allowed while I am doing PUT-REDIRECT-GET pattern.\r\n\r\nNotice it is **@Controller** and not **@RestContorller**. Otherwise it won&#39;t work.\r\n\r\nIf this is to be implemented in an existing rest controller you may want to add @ResponseBody over the other methods but not on these.\r\n\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;/redirect&quot;)\r\n    public class RedirectController {\r\n\r\n    @PutMapping()\r\n    public String redirect() {\r\n        return &quot;redirect:/redirect&quot;;\r\n    }\r\n\r\n    @GetMapping()\r\n    public String redirectPost() {\r\n        return &quot;redirect:https://www.google.com&quot;;\r\n    }\r\n}\r\n\r\n   \r\n\r\n","title":"Redirect to external URL from request mapping method in spring","body":"<p>Just in case if someone run into something like this in the future.</p>\n<p>I end up using this code getting rid of 405 method not allowed while I am doing PUT-REDIRECT-GET pattern.</p>\n<p>Notice it is <strong>@Controller</strong> and not <strong>@RestContorller</strong>. Otherwise it won't work.</p>\n<p>If this is to be implemented in an existing rest controller you may want to add @ResponseBody over the other methods but not on these.</p>\n<pre><code>@Controller\n@RequestMapping(&quot;/redirect&quot;)\npublic class RedirectController {\n\n@PutMapping()\npublic String redirect() {\n    return &quot;redirect:/redirect&quot;;\n}\n\n@GetMapping()\npublic String redirectPost() {\n    return &quot;redirect:https://www.google.com&quot;;\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":1069576,"reputation":775,"user_id":1069186,"accept_rate":63,"display_name":"Coder17"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":715,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1674196403,"creation_date":1656054832,"question_id":72740251,"body_markdown":"Below is the request mapping method:\r\n\r\n    @GetMapping(&quot;/redirect&quot;)\r\n        public ResponseEntity&lt;Void&gt; redirect() {\r\n    \r\n            String url = &quot;http://yahoo.com&quot;;\r\n    \r\n            return ResponseEntity.status(HttpStatus.FOUND)\r\n                    .location(URI.create(url))\r\n                    .build();\r\n        }\r\n\r\nWhen I hit the URL http://somehost:8080/redirect in the browser I see that it takes me to yahoo.com, but when the /redirect is called from the UI(reactjs) the 302 Found httpstatus value is returned in the browser console but the page on the browser is blank. I was expecting to see the yahoo.com page. Seems it is not redirecting.\r\n\r\nI referred this link: https://stackoverflow.com/questions/17955777/redirect-to-an-external-url-from-controller-action-in-spring-mvc\r\n\r\nreactjs code:\r\n\r\n    yield globalAxios.get(http://somehost:8080/redirect)\r\n\r\nBelow image when the http://somehost:8080/redirect gets called from the UI\r\n[![enter image description here][1]][1]\r\n\r\nBelow image is when we the /redirect redirects to the link: yahoo.com\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lWzDO.png\r\n  [2]: https://i.stack.imgur.com/7nxp8.png\r\n\r\nIs it because of the 405 method not allowed error as seen in the above image","title":"Redirect to external URL from request mapping method in spring","body":"<p>Below is the request mapping method:</p>\n<pre><code>@GetMapping(&quot;/redirect&quot;)\n    public ResponseEntity&lt;Void&gt; redirect() {\n\n        String url = &quot;http://yahoo.com&quot;;\n\n        return ResponseEntity.status(HttpStatus.FOUND)\n                .location(URI.create(url))\n                .build();\n    }\n</code></pre>\n<p>When I hit the URL http://somehost:8080/redirect in the browser I see that it takes me to yahoo.com, but when the /redirect is called from the UI(reactjs) the 302 Found httpstatus value is returned in the browser console but the page on the browser is blank. I was expecting to see the yahoo.com page. Seems it is not redirecting.</p>\n<p>I referred this link: <a href=\"https://stackoverflow.com/questions/17955777/redirect-to-an-external-url-from-controller-action-in-spring-mvc\">Redirect to an external URL from controller action in Spring MVC</a></p>\n<p>reactjs code:</p>\n<pre><code>yield globalAxios.get(http://somehost:8080/redirect)\n</code></pre>\n<p>Below image when the http://somehost:8080/redirect gets called from the UI\n<a href=\"https://i.stack.imgur.com/lWzDO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lWzDO.png\" alt=\"enter image description here\" /></a></p>\n<p>Below image is when we the /redirect redirects to the link: yahoo.com</p>\n<p><a href=\"https://i.stack.imgur.com/7nxp8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7nxp8.png\" alt=\"enter image description here\" /></a></p>\n<p>Is it because of the 405 method not allowed error as seen in the above image</p>\n"},{"tags":["java","xss","bufferedreader","encoder","checkmarx"],"answers":[{"comments":[{"owner":{"account_id":7723988,"reputation":709,"user_id":5849252,"accept_rate":50,"display_name":"Mohan"},"score":0,"creation_date":1624050781,"post_id":65363496,"comment_id":120261252,"body_markdown":"This works for me. My Checkmarx tool error all gone after making this fix.\n\nI just converted the String to Json (Using ObjectMapper) and again convert to String.","body":"This works for me. My Checkmarx tool error all gone after making this fix.  I just converted the String to Json (Using ObjectMapper) and again convert to String."}],"tags":[],"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1608323178,"creation_date":1608323178,"answer_id":65363496,"question_id":65362328,"body_markdown":"Try parsing the incoming data as JSON and then serializing it back to a string before sending it on.\r\n\r\nThat way you can be sure that your method only returns JSON to the client.  If for some reason, your incoming data isn&#39;t JSON, then your method would encounter an error parsing the JSON, which you can then handle appropriately.\r\n\r\n`Encode.forJava` isn&#39;t a helpful method to use here: it is used to encode a string to be inserted into a Java string literal.","title":"Reflected XSS on BufferedReader readLine() method","body":"<p>Try parsing the incoming data as JSON and then serializing it back to a string before sending it on.</p>\n<p>That way you can be sure that your method only returns JSON to the client.  If for some reason, your incoming data isn't JSON, then your method would encounter an error parsing the JSON, which you can then handle appropriately.</p>\n<p><code>Encode.forJava</code> isn't a helpful method to use here: it is used to encode a string to be inserted into a Java string literal.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1674364778,"post_id":75180487,"comment_id":132697121,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75180487/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27578059,"reputation":1,"user_id":21047815,"display_name":"Baybridge solutions"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674196187,"creation_date":1674196187,"answer_id":75180487,"question_id":65362328,"body_markdown":"output = Encode.forHtmlAttribute(br.readLine() works for me","title":"Reflected XSS on BufferedReader readLine() method","body":"<p>output = Encode.forHtmlAttribute(br.readLine() works for me</p>\n"}],"owner":{"account_id":8827261,"reputation":913,"user_id":6595116,"accept_rate":95,"display_name":"TimeToCode"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2441,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674196187,"creation_date":1608316979,"question_id":65362328,"body_markdown":"I have scanned a java web project with the Checkmarx tool, and the analysis marks an XSS vulnerability in a method where a web service is executed that responds a JSON, the vulnerability is in the line `while((output = Encode.forJava(br.readLine())) != null) {`, specifically in `br.readLine()`.\r\n\r\nCheckmarx says:\r\n\r\n&gt; The attacker would be able to alter the returned web page by simply\r\n&gt; providing modified data in the user input `readLine`, which is read by\r\n&gt; the `NetClientPost` method. This input then flows through the code\r\n&gt; straight to the output web page, without sanitization.\r\n&gt; This can enable a Reflected Cross-Site Scripting (XSS) attack.\r\n\r\nI tried with OWASP for Java, implementing the method `Encode.forJava()`, but the vulnerability continues to appear in the analysis. This is the implementation of the method:\r\n\r\n    public String NetClientPost (String urlSer, String param){\r\n    \t\tString result =&quot;&quot;;\r\n    \t\ttry {\r\n    \t\t\tInetAddress ip = InetAddress.getLocalHost();\r\n    \t\t    String host = ip.getHostAddress();\r\n    \t\t    doTrustToCertificates();\r\n    \t\t\tURL url = new URL(urlSer);\r\n    \t\t\tHttpURLConnection conn = (HttpURLConnection) url.openConnection();\r\n    \t\t\tconn.setDoOutput(true);\r\n    \t\t\tconn.setRequestMethod(&quot;POST&quot;);\r\n    \t\t\tconn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n    \t\t\tconn.setConnectTimeout(2000);\r\n    \t\t\tString input = param;\r\n                String output = &quot;&quot;;\r\n    \r\n    \t\t\ttry(OutputStream os = conn.getOutputStream()) {\r\n    \t\t\t\tos.write(input.getBytes());\r\n    \t\t\t\tos.flush();\r\n    \t\t\t\tif (conn.getResponseCode() != 200) {\r\n    \t\t\t\t\tthrow new RuntimeException(&quot;Failed : HTTP  code : &quot; + conn.getResponseCode());\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\ttry (BufferedReader br = new BufferedReader(new InputStreamReader((conn.getInputStream())))) {\r\n    \t\t\t\t\twhile ((output = Encode.forJava(br.readLine())) != null) {//LINE OF CHECKMARX XSS\r\n    \t\t\t\t\t\tresult += output;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tconn.disconnect();\r\n    \t\t\treturn result;\r\n    \r\n    \t\t} catch (MalformedURLException e) {\r\n    \t\t\treturn result;\r\n    \t\t} catch (IOException e) {\r\n    \t\t\treturn result;\r\n    \t\t} catch (Exception e) {\r\n    \t\t\treturn result;\r\n    \t\t}\r\n    \t}\r\n\r\n\r\nAny have an idea of how to solve this?","title":"Reflected XSS on BufferedReader readLine() method","body":"<p>I have scanned a java web project with the Checkmarx tool, and the analysis marks an XSS vulnerability in a method where a web service is executed that responds a JSON, the vulnerability is in the line <code>while((output = Encode.forJava(br.readLine())) != null) {</code>, specifically in <code>br.readLine()</code>.</p>\n<p>Checkmarx says:</p>\n<blockquote>\n<p>The attacker would be able to alter the returned web page by simply\nproviding modified data in the user input <code>readLine</code>, which is read by\nthe <code>NetClientPost</code> method. This input then flows through the code\nstraight to the output web page, without sanitization.\nThis can enable a Reflected Cross-Site Scripting (XSS) attack.</p>\n</blockquote>\n<p>I tried with OWASP for Java, implementing the method <code>Encode.forJava()</code>, but the vulnerability continues to appear in the analysis. This is the implementation of the method:</p>\n<pre><code>public String NetClientPost (String urlSer, String param){\n        String result =&quot;&quot;;\n        try {\n            InetAddress ip = InetAddress.getLocalHost();\n            String host = ip.getHostAddress();\n            doTrustToCertificates();\n            URL url = new URL(urlSer);\n            HttpURLConnection conn = (HttpURLConnection) url.openConnection();\n            conn.setDoOutput(true);\n            conn.setRequestMethod(&quot;POST&quot;);\n            conn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\n            conn.setConnectTimeout(2000);\n            String input = param;\n            String output = &quot;&quot;;\n\n            try(OutputStream os = conn.getOutputStream()) {\n                os.write(input.getBytes());\n                os.flush();\n                if (conn.getResponseCode() != 200) {\n                    throw new RuntimeException(&quot;Failed : HTTP  code : &quot; + conn.getResponseCode());\n                }\n                \n                try (BufferedReader br = new BufferedReader(new InputStreamReader((conn.getInputStream())))) {\n                    while ((output = Encode.forJava(br.readLine())) != null) {//LINE OF CHECKMARX XSS\n                        result += output;\n                    }\n                }\n            }\n            \n            conn.disconnect();\n            return result;\n\n        } catch (MalformedURLException e) {\n            return result;\n        } catch (IOException e) {\n            return result;\n        } catch (Exception e) {\n            return result;\n        }\n    }\n</code></pre>\n<p>Any have an idea of how to solve this?</p>\n"},{"tags":["java","jmeter","serversocket","httpserver","get-request"],"answers":[{"comments":[{"owner":{"account_id":5738342,"reputation":1,"user_id":4531731,"display_name":"sanjana"},"score":0,"creation_date":1674212912,"post_id":75180484,"comment_id":132670795,"body_markdown":"Please help me in implementing the http protocol","body":"Please help me in implementing the http protocol"},{"owner":{"account_id":3460456,"reputation":162758,"user_id":2897748,"display_name":"Dmitri T"},"score":0,"creation_date":1674213759,"post_id":75180484,"comment_id":132671044,"body_markdown":"If you&#39;re asking to write a http server for you - unfortunately I&#39;m not able to help within the bounds of the Stackoverflow comment section","body":"If you&#39;re asking to write a http server for you - unfortunately I&#39;m not able to help within the bounds of the Stackoverflow comment section"},{"owner":{"account_id":5738342,"reputation":1,"user_id":4531731,"display_name":"sanjana"},"score":0,"creation_date":1674214318,"post_id":75180484,"comment_id":132671219,"body_markdown":"no i donot want that i want to know where exactly i am missing the protocol implementation","body":"no i donot want that i want to know where exactly i am missing the protocol implementation"}],"tags":[],"owner":{"account_id":3460456,"reputation":162758,"user_id":2897748,"display_name":"Dmitri T"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674196164,"creation_date":1674196164,"answer_id":75180484,"question_id":75180159,"body_markdown":"Your &quot;http server&quot; doesn&#39;t implement [HTTP protocol][1] hence you won&#39;t be able to use [HTTP Request][2] sampler for conducting the load. \r\n\r\nConsider moving either to [TCP Sampler][3] or [HTTP Raw Request][4] sampler (can be installed using [JMeter Plugins Manager][5]) \r\n\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc2616\r\n  [2]: https://jmeter.apache.org/usermanual/component_reference.html#HTTP_Request\r\n  [3]: https://jmeter.apache.org/usermanual/component_reference.html#TCP_Sampler\r\n  [4]: https://jmeter-plugins.org/wiki/RawRequest/\r\n  [5]: https://www.blazemeter.com/blog/jmeter-plugins-manager","title":"java http server implementation and JMEter testing","body":"<p>Your &quot;http server&quot; doesn't implement <a href=\"https://www.rfc-editor.org/rfc/rfc2616\" rel=\"nofollow noreferrer\">HTTP protocol</a> hence you won't be able to use <a href=\"https://jmeter.apache.org/usermanual/component_reference.html#HTTP_Request\" rel=\"nofollow noreferrer\">HTTP Request</a> sampler for conducting the load.</p>\n<p>Consider moving either to <a href=\"https://jmeter.apache.org/usermanual/component_reference.html#TCP_Sampler\" rel=\"nofollow noreferrer\">TCP Sampler</a> or <a href=\"https://jmeter-plugins.org/wiki/RawRequest/\" rel=\"nofollow noreferrer\">HTTP Raw Request</a> sampler (can be installed using <a href=\"https://www.blazemeter.com/blog/jmeter-plugins-manager\" rel=\"nofollow noreferrer\">JMeter Plugins Manager</a>)</p>\n"}],"owner":{"account_id":5738342,"reputation":1,"user_id":4531731,"display_name":"sanjana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674196164,"creation_date":1674193278,"question_id":75180159,"body_markdown":"the control is reaching the put,get,post requests but i am unable to get the reply back from server, the http://localhost:8080 is throwing  invalid ip error and jmeter test case is showing error status\r\n\r\nI have configured a server as below : public class HttpServer {\r\n\r\n \r\n\r\n    private static final int MAX_THREADS = 64;\r\n\r\n    private static final Map&lt;Integer, AtomicInteger&gt; threadCounts = new ConcurrentHashMap&lt;&gt;();\r\n\r\n    private static final ExecutorService threadPool = Executors.newFixedThreadPool(MAX_THREADS);\r\n\r\n \r\n\r\n    public static void main(String[] args) {\r\n\r\n \r\n\r\n        ArrayList&lt;Integer&gt; portNodes;\r\n\r\n        ArrayList&lt;Integer&gt; timeout;\r\n\r\n \r\n\r\n        XMLFileHandler xmlFileHandler = new XMLFileHandler();\r\n\r\n        xmlFileHandler.readFromXML(&quot;config.xml&quot;);\r\n\r\n        portNodes = xmlFileHandler.getPortNodes();\r\n\r\n        timeout = xmlFileHandler.getTimeout();\r\n\r\n \r\n\r\n        for (int i = 0; i &lt; portNodes.size(); i++) {\r\n\r\n            int port = portNodes.get(i);\r\n\r\n            int timeouts = timeout.get(i);\r\n\r\n                      if (!threadCounts.containsKey(port)) {\r\n\r\n                                 threadCounts.put(port, new AtomicInteger(0));\r\n\r\n                      }         \r\n\r\n                      try {\r\n\r\n                                 ServerSocket serverSocket = new ServerSocket(port);\r\n\r\n                                 serverSocket.setSoTimeout(timeouts);\r\n\r\n                                 threadPool.submit(() -&gt; {\r\n\r\n                                            while (true) {\r\n\r\n                                                       try {\r\n\r\n                                                                  Socket socket = serverSocket.accept();\r\n\r\n                                                                  OutputStream os = socket.getOutputStream();\r\n\r\n                                                                  os.write(&quot;welcome to server&quot;.getBytes());\r\n\r\n                                                                  System.out.println(&quot;connected successfully&quot; + port);\r\n\r\n                                                                  threadCounts.get(port).incrementAndGet();\r\n\r\n                                                                  threadPool.submit(new RequestHandler(socket));\r\n\r\n                                                       }\r\n\r\n                                                       catch (SocketTimeoutException e) {\r\n\r\n                                                                  System.out.println(&quot;Timeout occurred on port: &quot; + port);\r\n\r\n                                                       }\r\n\r\n                                                       catch (IOException e) {\r\n\r\n                                                                  e.printStackTrace();\r\n\r\n                                                       }\r\n\r\n                                            }\r\n\r\n                                 });\r\n\r\n                                 }\r\n\r\n                      catch (BindException e) {\r\n\r\n                    System.out.println(&quot;Port &quot; + port + &quot; is already in use. Please choose a different port.&quot;);\r\n\r\n                }catch(IOException e) {\r\n\r\n                      System.out.println(&quot;erro&quot;+port);\r\n\r\n                }\r\n\r\n        }\r\n\r\n    }\r\n\r\n \r\n\r\nprivate static class RequestHandler implements Runnable {\r\n\r\n    private final Socket socket;\r\n\r\n \r\n\r\n    public RequestHandler(Socket socket) {\r\n\r\n        this.socket = socket;\r\n\r\n    }\r\n\r\n \r\n\r\n    public void run() {\r\n\r\n        try {\r\n\r\n           System.out.println(&quot;in request handler&quot;);\r\n\r\n            // Handle HTTP request\r\n\r\n            InputStream input = socket.getInputStream();\r\n\r\n            OutputStream output = socket.getOutputStream();\r\n\r\n \r\n\r\n            // Parse the request\r\n\r\n            BufferedReader reader = new BufferedReader(new InputStreamReader(input));\r\n\r\n            String[] requestLine = reader.readLine().split(&quot; &quot;);\r\n\r\n            String method = requestLine[0];\r\n\r\n            String url = requestLine[1];\r\n\r\n            String httpVersion = requestLine[2];\r\n\r\n \r\n\r\n            // Handle GET request\r\n\r\n                            if (method.equals(&quot;GET&quot;)) {\r\n\r\n                //TODO: Implement handling of GET request\r\n\r\n            }\r\n\r\n            // Handle POST request\r\n\r\n            else if (method.equals(&quot;POST&quot;)) {\r\n\r\n                //TODO: Implement handling of POST request\r\n\r\n            }\r\n\r\n            // Handle PUT request\r\n\r\n            else if (method.equals(&quot;PUT&quot;)) {\r\n\r\n                //TODO: Implement handling of PUT request\r\n\r\n            }\r\n\r\n            else {\r\n\r\n                // Send error message for unsupported method\r\n\r\n                output.write(&quot;HTTP/1.1 400 Bad Request\\r\\n\\r\\n&quot;.getBytes());\r\n\r\n            }\r\n\r\n \r\n\r\n            // Close socket and release resources\r\n\r\n            input.close();\r\n\r\n            output.close();\r\n\r\n            socket.close();\r\n\r\n            threadCounts.get(socket.getPort()).decrementAndGet();\r\n\r\n        } catch (IOException e) {\r\n\r\n            e.printStackTrace();\r\n\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\n}\r\n\r\n \r\n\r\n\r\n ","title":"java http server implementation and JMEter testing","body":"<p>the control is reaching the put,get,post requests but i am unable to get the reply back from server, the http://localhost:8080 is throwing  invalid ip error and jmeter test case is showing error status</p>\n<p>I have configured a server as below : public class HttpServer {</p>\n<pre><code>private static final int MAX_THREADS = 64;\n\nprivate static final Map&lt;Integer, AtomicInteger&gt; threadCounts = new ConcurrentHashMap&lt;&gt;();\n\nprivate static final ExecutorService threadPool = Executors.newFixedThreadPool(MAX_THREADS);\n\n\n\npublic static void main(String[] args) {\n\n\n\n    ArrayList&lt;Integer&gt; portNodes;\n\n    ArrayList&lt;Integer&gt; timeout;\n\n\n\n    XMLFileHandler xmlFileHandler = new XMLFileHandler();\n\n    xmlFileHandler.readFromXML(&quot;config.xml&quot;);\n\n    portNodes = xmlFileHandler.getPortNodes();\n\n    timeout = xmlFileHandler.getTimeout();\n\n\n\n    for (int i = 0; i &lt; portNodes.size(); i++) {\n\n        int port = portNodes.get(i);\n\n        int timeouts = timeout.get(i);\n\n                  if (!threadCounts.containsKey(port)) {\n\n                             threadCounts.put(port, new AtomicInteger(0));\n\n                  }         \n\n                  try {\n\n                             ServerSocket serverSocket = new ServerSocket(port);\n\n                             serverSocket.setSoTimeout(timeouts);\n\n                             threadPool.submit(() -&gt; {\n\n                                        while (true) {\n\n                                                   try {\n\n                                                              Socket socket = serverSocket.accept();\n\n                                                              OutputStream os = socket.getOutputStream();\n\n                                                              os.write(&quot;welcome to server&quot;.getBytes());\n\n                                                              System.out.println(&quot;connected successfully&quot; + port);\n\n                                                              threadCounts.get(port).incrementAndGet();\n\n                                                              threadPool.submit(new RequestHandler(socket));\n\n                                                   }\n\n                                                   catch (SocketTimeoutException e) {\n\n                                                              System.out.println(&quot;Timeout occurred on port: &quot; + port);\n\n                                                   }\n\n                                                   catch (IOException e) {\n\n                                                              e.printStackTrace();\n\n                                                   }\n\n                                        }\n\n                             });\n\n                             }\n\n                  catch (BindException e) {\n\n                System.out.println(&quot;Port &quot; + port + &quot; is already in use. Please choose a different port.&quot;);\n\n            }catch(IOException e) {\n\n                  System.out.println(&quot;erro&quot;+port);\n\n            }\n\n    }\n\n}\n</code></pre>\n<p>private static class RequestHandler implements Runnable {</p>\n<pre><code>private final Socket socket;\n\n\n\npublic RequestHandler(Socket socket) {\n\n    this.socket = socket;\n\n}\n\n\n\npublic void run() {\n\n    try {\n\n       System.out.println(&quot;in request handler&quot;);\n\n        // Handle HTTP request\n\n        InputStream input = socket.getInputStream();\n\n        OutputStream output = socket.getOutputStream();\n\n\n\n        // Parse the request\n\n        BufferedReader reader = new BufferedReader(new InputStreamReader(input));\n\n        String[] requestLine = reader.readLine().split(&quot; &quot;);\n\n        String method = requestLine[0];\n\n        String url = requestLine[1];\n\n        String httpVersion = requestLine[2];\n\n\n\n        // Handle GET request\n\n                        if (method.equals(&quot;GET&quot;)) {\n\n            //TODO: Implement handling of GET request\n\n        }\n\n        // Handle POST request\n\n        else if (method.equals(&quot;POST&quot;)) {\n\n            //TODO: Implement handling of POST request\n\n        }\n\n        // Handle PUT request\n\n        else if (method.equals(&quot;PUT&quot;)) {\n\n            //TODO: Implement handling of PUT request\n\n        }\n\n        else {\n\n            // Send error message for unsupported method\n\n            output.write(&quot;HTTP/1.1 400 Bad Request\\r\\n\\r\\n&quot;.getBytes());\n\n        }\n\n\n\n        // Close socket and release resources\n\n        input.close();\n\n        output.close();\n\n        socket.close();\n\n        threadCounts.get(socket.getPort()).decrementAndGet();\n\n    } catch (IOException e) {\n\n        e.printStackTrace();\n\n    }\n\n}\n</code></pre>\n<p>}</p>\n<p>}</p>\n"},{"tags":["java","android","camera","surfaceview","video-recording"],"comments":[{"owner":{"account_id":5438128,"reputation":11717,"user_id":4326936,"accept_rate":39,"display_name":"alijandro"},"score":1,"creation_date":1641549355,"post_id":70379036,"comment_id":124837886,"body_markdown":"How do you make the video preview and camera preview on one surface? I didn&#39;t work on OpenGLES for a long time. Based on my experience, you need to use multiple OES textures to combine the preview, and use shared context to enable background recording. Take a look a this [sample project](https://github.com/google/grafika) and see if you can find any clue for your scenario.","body":"How do you make the video preview and camera preview on one surface? I didn&#39;t work on OpenGLES for a long time. Based on my experience, you need to use multiple OES textures to combine the preview, and use shared context to enable background recording. Take a look a this <a href=\"https://github.com/google/grafika\" rel=\"nofollow noreferrer\">sample project</a> and see if you can find any clue for your scenario."},{"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"score":0,"creation_date":1641556782,"post_id":70379036,"comment_id":124840349,"body_markdown":"@alijandro Thank you so much for your reply, but I&#39;m beginner in OpenGLES, will you explain in deeply?","body":"@alijandro Thank you so much for your reply, but I&#39;m beginner in OpenGLES, will you explain in deeply?"},{"owner":{"account_id":8356567,"reputation":2899,"user_id":6276596,"display_name":"Furkan Yurdakul"},"score":0,"creation_date":1641997477,"post_id":70379036,"comment_id":124955098,"body_markdown":"Have you tried using MediaProjection? That allows you to record the screen with ImageReader so I think you can record the contents with media projection.","body":"Have you tried using MediaProjection? That allows you to record the screen with ImageReader so I think you can record the contents with media projection."},{"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"score":0,"creation_date":1642052067,"post_id":70379036,"comment_id":124970713,"body_markdown":"@FurkanYurdakul No, I think that is record whole screen of device, but I want only surface activity, is it possible with Media Projection?","body":"@FurkanYurdakul No, I think that is record whole screen of device, but I want only surface activity, is it possible with Media Projection?"}],"answers":[{"comments":[{"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"score":0,"creation_date":1642070145,"post_id":70694993,"comment_id":124976306,"body_markdown":"Thank you so much for this advice, you save my day, your information are so helpful for me, thanks a lot!","body":"Thank you so much for this advice, you save my day, your information are so helpful for me, thanks a lot!"},{"owner":{"account_id":15506875,"reputation":144,"user_id":11186796,"display_name":"Akshay Avaiya"},"score":0,"creation_date":1642071712,"post_id":70694993,"comment_id":124976922,"body_markdown":"I&#39;m glad to here this! Carry on.","body":"I&#39;m glad to here this! Carry on."},{"owner":{"account_id":15506875,"reputation":144,"user_id":11186796,"display_name":"Akshay Avaiya"},"score":0,"creation_date":1653762529,"post_id":70694993,"comment_id":127932229,"body_markdown":"check my updated answer with links, Enjoy!","body":"check my updated answer with links, Enjoy!"}],"tags":[],"owner":{"account_id":15506875,"reputation":144,"user_id":11186796,"display_name":"Akshay Avaiya"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653762488,"creation_date":1642069464,"answer_id":70694993,"question_id":70379036,"body_markdown":"(1) I&#39;m highly recommend to refer **grafika** project from Google&#39;s repository in [Github](https://github.com/google/grafika/blob/master/app/src/main/java/com/android/grafika/RecordFBOActivity.java) and try with `RecordFBOActivity`.\r\n \r\n(2) see `EZFilter` repositoey in [Github](https://github.com/uestccokey/EZFilter).\r\n \r\nand \r\n\r\n(3) `RecordableSurfaceview` in [Github](https://github.com/spaceLenny/recordablesurfaceview)\r\n\r\n\r\n\r\nMay this will much helpful to you.","title":"Record a video from surface view(bind video and camera preview)","body":"<p>(1) I'm highly recommend to refer <strong>grafika</strong> project from Google's repository in <a href=\"https://github.com/google/grafika/blob/master/app/src/main/java/com/android/grafika/RecordFBOActivity.java\" rel=\"nofollow noreferrer\">Github</a> and try with <code>RecordFBOActivity</code>.</p>\n<p>(2) see <code>EZFilter</code> repositoey in <a href=\"https://github.com/uestccokey/EZFilter\" rel=\"nofollow noreferrer\">Github</a>.</p>\n<p>and</p>\n<p>(3) <code>RecordableSurfaceview</code> in <a href=\"https://github.com/spaceLenny/recordablesurfaceview\" rel=\"nofollow noreferrer\">Github</a></p>\n<p>May this will much helpful to you.</p>\n"},{"tags":[],"owner":{"account_id":27353478,"reputation":11,"user_id":20862270,"display_name":"Priyanka Vadodariya"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674195486,"creation_date":1674195486,"answer_id":75180398,"question_id":70379036,"body_markdown":"try this solution with your clip result which is getting in the segmentation result from ML kit.\r\n\r\n \r\n\r\n    @ColorInt\r\n        private Bitmap maskColorsFromByteBuffer(ByteBuffer byteBuffer, int maskWidth, int maskHeight) {\r\n            @ColorInt int[] colors = new int[maskWidth * maskHeight];\r\n            for (int i = 0; i &lt; maskWidth * maskHeight; i++) {\r\n                float backgroundLikelihood = 1 - byteBuffer.getFloat();\r\n                if (backgroundLikelihood &gt; 0.9) {\r\n                    colors[i] = Color.GREEN;\r\n                } else if (backgroundLikelihood &gt; 0.2) {\r\n                    // Linear interpolation to make sure when backgroundLikelihood is 0.2, the alpha is 0 and\r\n                    // when backgroundLikelihood is 0.9, the alpha is 128.\r\n                    // +0.5 to round the float value to the nearest int.\r\n                    int alpha = (int) (182.9 * backgroundLikelihood - 36.6 + 0.5);\r\n                    colors[i] = Color.argb(alpha, 0, 255, 0);\r\n                }\r\n            }\r\n    \r\n    \r\n            Bitmap bitmap = Bitmap.createBitmap(maskWidth, maskHeight, this.bitmap.getConfig());\r\n            Paint p = new Paint(Paint.ANTI_ALIAS_FLAG);\r\n            Canvas canvas = new Canvas(bitmap);\r\n            canvas.drawBitmap(this.bitmap, 0, 0, p);\r\n            p.setXfermode(new PorterDuffXfermode(PorterDuff.Mode.DST_OUT));\r\n            canvas.drawBitmap(Bitmap.createBitmap(colors, maskWidth, maskHeight, this.bitmap.getConfig()), 0, 0, p);\r\n    \r\n    \r\n    //        canvas.drawPaint(p);\r\n    \r\n            return bitmap;\r\n        }","title":"Record a video from surface view(bind video and camera preview)","body":"<p>try this solution with your clip result which is getting in the segmentation result from ML kit.</p>\n<pre><code>@ColorInt\n    private Bitmap maskColorsFromByteBuffer(ByteBuffer byteBuffer, int maskWidth, int maskHeight) {\n        @ColorInt int[] colors = new int[maskWidth * maskHeight];\n        for (int i = 0; i &lt; maskWidth * maskHeight; i++) {\n            float backgroundLikelihood = 1 - byteBuffer.getFloat();\n            if (backgroundLikelihood &gt; 0.9) {\n                colors[i] = Color.GREEN;\n            } else if (backgroundLikelihood &gt; 0.2) {\n                // Linear interpolation to make sure when backgroundLikelihood is 0.2, the alpha is 0 and\n                // when backgroundLikelihood is 0.9, the alpha is 128.\n                // +0.5 to round the float value to the nearest int.\n                int alpha = (int) (182.9 * backgroundLikelihood - 36.6 + 0.5);\n                colors[i] = Color.argb(alpha, 0, 255, 0);\n            }\n        }\n\n\n        Bitmap bitmap = Bitmap.createBitmap(maskWidth, maskHeight, this.bitmap.getConfig());\n        Paint p = new Paint(Paint.ANTI_ALIAS_FLAG);\n        Canvas canvas = new Canvas(bitmap);\n        canvas.drawBitmap(this.bitmap, 0, 0, p);\n        p.setXfermode(new PorterDuffXfermode(PorterDuff.Mode.DST_OUT));\n        canvas.drawBitmap(Bitmap.createBitmap(colors, maskWidth, maskHeight, this.bitmap.getConfig()), 0, 0, p);\n\n\n//        canvas.drawPaint(p);\n\n        return bitmap;\n    }\n</code></pre>\n"}],"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":853,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70694993,"answer_count":2,"score":2,"last_activity_date":1674195486,"creation_date":1639657690,"question_id":70379036,"body_markdown":"**I want to record video of whatever happens on surface.**\r\n\r\n\r\nI&#39;m playing video on surface and showing camera preview over it. I want to record both in one video and export as .mp4. what should I do for it. your help would be much appreciated.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/56NH5.jpg\r\n\r\n**Video and preview both are placed in one surface view.**","title":"Record a video from surface view(bind video and camera preview)","body":"<p><strong>I want to record video of whatever happens on surface.</strong></p>\n<p>I'm playing video on surface and showing camera preview over it. I want to record both in one video and export as .mp4. what should I do for it. your help would be much appreciated.</p>\n<p><a href=\"https://i.stack.imgur.com/56NH5.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/56NH5.jpg\" alt=\"enter image description here\" /></a></p>\n<p><strong>Video and preview both are placed in one surface view.</strong></p>\n"},{"tags":["java","scala","clojure","functional-programming","java-8"],"comments":[{"owner":{"account_id":6444111,"reputation":51041,"user_id":4993128,"accept_rate":43,"display_name":"jwvh"},"score":1,"creation_date":1470812752,"post_id":38866350,"comment_id":65095717,"body_markdown":"Scala: `val result = (arrA ++ arrB).sorted`","body":"Scala: <code>val result = (arrA ++ arrB).sorted</code>"},{"owner":{"account_id":951981,"reputation":14760,"user_id":977919,"accept_rate":92,"display_name":"sidgate"},"score":0,"creation_date":1470813450,"post_id":38866350,"comment_id":65096081,"body_markdown":"This won&#39;t be as efficient as the code mentioned in the question. Sorry to miss the important part. Updated the question","body":"This won&#39;t be as efficient as the code mentioned in the question. Sorry to miss the important part. Updated the question"}],"answers":[{"comments":[{"owner":{"account_id":951981,"reputation":14760,"user_id":977919,"accept_rate":92,"display_name":"sidgate"},"score":0,"creation_date":1470813247,"post_id":38866523,"comment_id":65095972,"body_markdown":"Thanks for the answer. This gives the expected output, but won&#39;t be as efficient as the loop.","body":"Thanks for the answer. This gives the expected output, but won&#39;t be as efficient as the loop."}],"tags":[],"owner":{"account_id":984212,"reputation":62352,"user_id":1003142,"display_name":"Konstantin Yovkov"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1470813277,"creation_date":1470813126,"answer_id":38866523,"question_id":38866350,"body_markdown":"You could _wrap_ the arrays you want to merge into a two-dimensional array and then do:\r\n\r\n    IntStream result = Arrays.stream(new int[][]{{3, 2, 1}, {5, 2, 4}})\r\n                             .flatMapToInt(Arrays::stream)\r\n                             .sorted();\r\n\r\nNote that it doesn&#39;t really matter if the arrays are pre-sorted or not.","title":"Merge two arrays using functional style","body":"<p>You could <em>wrap</em> the arrays you want to merge into a two-dimensional array and then do:</p>\n\n<pre><code>IntStream result = Arrays.stream(new int[][]{{3, 2, 1}, {5, 2, 4}})\n                         .flatMapToInt(Arrays::stream)\n                         .sorted();\n</code></pre>\n\n<p>Note that it doesn't really matter if the arrays are pre-sorted or not.</p>\n"},{"comments":[{"owner":{"account_id":178355,"reputation":1473,"user_id":410286,"display_name":"handler"},"score":0,"creation_date":1470886135,"post_id":38866574,"comment_id":65134014,"body_markdown":"if performance isn&#39;t a concern, this version could also be `(l1 ++ l2).sorted`, but if performance matters, @gzm0 &#39;s answer above should be faster.","body":"if performance isn&#39;t a concern, this version could also be <code>(l1 ++ l2).sorted</code>, but if performance matters, @gzm0 &#39;s answer above should be faster."},{"owner":{"account_id":949302,"reputation":4329,"user_id":975816,"accept_rate":78,"display_name":"Fatih Donmez"},"score":0,"creation_date":1470887326,"post_id":38866574,"comment_id":65134369,"body_markdown":"question before edits was all about functional approach to solve problem. This one is another example only :)","body":"question before edits was all about functional approach to solve problem. This one is another example only :)"}],"tags":[],"owner":{"account_id":949302,"reputation":4329,"user_id":975816,"accept_rate":78,"display_name":"Fatih Donmez"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1470813312,"creation_date":1470813312,"answer_id":38866574,"question_id":38866350,"body_markdown":"You can also use folding to accomplish it in scala, \r\n\r\n    val l1 = List(1,2,3,4)\r\n    val l2 = List(1, 2, 3, 4, -1, 2, 3, 5, 6, 7, 8)\r\n\r\n    val merged = l2.foldLeft(l1)((acc,i) =&gt; acc :+ i).sorted\r\n","title":"Merge two arrays using functional style","body":"<p>You can also use folding to accomplish it in scala, </p>\n\n<pre><code>val l1 = List(1,2,3,4)\nval l2 = List(1, 2, 3, 4, -1, 2, 3, 5, 6, 7, 8)\n\nval merged = l2.foldLeft(l1)((acc,i) =&gt; acc :+ i).sorted\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7051736,"reputation":17554,"user_id":5400548,"display_name":"leetwinski"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1470816035,"creation_date":1470815250,"answer_id":38867216,"question_id":38866350,"body_markdown":"in fact there is the same approach everywhere: you recur over two collections, adding least of collections&#39; heads to the result, and recurring with the rest, until one of collections (or both) is empty. In clojure:\r\n\r\n    (defn merge-sorted [pred coll1 coll2]\r\n      (loop [coll1 coll1 coll2 coll2 res []]\r\n        (cond (or (empty? coll1) (empty? coll2)) (concat res coll1 coll2)\r\n              (pred (first coll1) (first coll2)) (recur (rest coll1)\r\n                                                        coll2\r\n                                                        (conj res (first coll1)))\r\n              :else (recur coll1 (rest coll2) (conj res (first coll2))))))\r\n\r\n    user&gt; (merge-sorted &lt; [1 3 5 6 7 8 9 40 50] [1 2 5 10 100])\r\n    (1 1 2 3 5 5 6 7 8 9 10 40 50 100)\r\n","title":"Merge two arrays using functional style","body":"<p>in fact there is the same approach everywhere: you recur over two collections, adding least of collections' heads to the result, and recurring with the rest, until one of collections (or both) is empty. In clojure:</p>\n\n<pre><code>(defn merge-sorted [pred coll1 coll2]\n  (loop [coll1 coll1 coll2 coll2 res []]\n    (cond (or (empty? coll1) (empty? coll2)) (concat res coll1 coll2)\n          (pred (first coll1) (first coll2)) (recur (rest coll1)\n                                                    coll2\n                                                    (conj res (first coll1)))\n          :else (recur coll1 (rest coll2) (conj res (first coll2))))))\n\nuser&gt; (merge-sorted &lt; [1 3 5 6 7 8 9 40 50] [1 2 5 10 100])\n(1 1 2 3 5 5 6 7 8 9 10 40 50 100)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1173302,"reputation":14792,"user_id":1149944,"accept_rate":94,"display_name":"gzm0"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1470816365,"creation_date":1470816365,"answer_id":38867580,"question_id":38866350,"body_markdown":"I think this is really easiest expressed simply with tail-recursion:\r\n\r\n    def merge(x: List[Int], y: List[Int]): List[Int] = {\r\n      def loop(xss: List[Int], yss: List[Int], acc: List[Int]) = (xss, yss) match {\r\n        case (x :: xs, y :: ys) if x &lt; y =&gt; loop(xs, yss, x :: acc)\r\n        case (_, y :: ys) =&gt; loop(xss, ys, y :: acc)\r\n        case (x :: xs, Nil) =&gt; loop(xs, Nil, x :: acc)\r\n        case (Nil, Nil) =&gt; acc.reverse\r\n      }\r\n\r\n      loop(x, y, Nil)\r\n    }","title":"Merge two arrays using functional style","body":"<p>I think this is really easiest expressed simply with tail-recursion:</p>\n\n<pre><code>def merge(x: List[Int], y: List[Int]): List[Int] = {\n  def loop(xss: List[Int], yss: List[Int], acc: List[Int]) = (xss, yss) match {\n    case (x :: xs, y :: ys) if x &lt; y =&gt; loop(xs, yss, x :: acc)\n    case (_, y :: ys) =&gt; loop(xss, ys, y :: acc)\n    case (x :: xs, Nil) =&gt; loop(xs, Nil, x :: acc)\n    case (Nil, Nil) =&gt; acc.reverse\n  }\n\n  loop(x, y, Nil)\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":951981,"reputation":14760,"user_id":977919,"accept_rate":92,"display_name":"sidgate"},"score":0,"creation_date":1470820729,"post_id":38867870,"comment_id":65100569,"body_markdown":"Thanks. This seems to be the right solution for Java. Just one problem, the values from primitive array gets boxed/ unboxed. I am trying out `OfInt` iterator, will update","body":"Thanks. This seems to be the right solution for Java. Just one problem, the values from primitive array gets boxed/ unboxed. I am trying out <code>OfInt</code> iterator, will update"}],"tags":[],"owner":{"account_id":1041528,"reputation":3262,"user_id":1047469,"display_name":"marthursson"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1470817235,"creation_date":1470817235,"answer_id":38867870,"question_id":38866350,"body_markdown":"Something like this, perhaps? Can probably be done prettier, but the general idea should work.\r\n\r\n    public static &lt;T extends Comparable&lt;T&gt;&gt; Stream&lt;T&gt; foldSorted(Stream&lt;T&gt; left, Stream&lt;T&gt; right) {\r\n        Iterator&lt;T&gt; leftIterator = left.iterator();\r\n        Iterator&lt;T&gt; rightIterator = right.iterator();\r\n\r\n        Iterator&lt;T&gt; iterator = new Iterator&lt;T&gt;() {\r\n            private T nextLeft = getNextLeft();\r\n            private T nextRight = getNextRight();\r\n\r\n            private T getNextLeft() {\r\n                return leftIterator.hasNext() ? leftIterator.next():null;\r\n            }\r\n\r\n            private T getNextRight() {\r\n                return rightIterator.hasNext() ? rightIterator.next():null;\r\n            }\r\n\r\n            @Override\r\n            public boolean hasNext() {\r\n                return nextLeft != null || nextRight != null;\r\n            }\r\n\r\n            @Override\r\n            public T next() {\r\n                T result = null;\r\n\r\n                if(nextLeft != null) {\r\n                    if(nextRight != null) {\r\n                        if(nextLeft.compareTo(nextRight) &lt; 0) {\r\n                            result = nextLeft;\r\n                            nextLeft = getNextLeft();\r\n                        } else {\r\n                            result = nextRight;\r\n                            nextRight = getNextRight();\r\n                        }\r\n                    } else {\r\n                        result = nextLeft;\r\n                        nextLeft = getNextLeft();\r\n                    }\r\n                } else {\r\n                    result = nextRight;\r\n                    nextRight = getNextRight();\r\n                }\r\n\r\n                return result;\r\n            }\r\n        };\r\n\r\n        return StreamSupport.stream(Spliterators.spliteratorUnknownSize(iterator, Spliterator.ORDERED), false);\r\n    }\r\n\r\nNow, you can do:\r\n\r\n    @Test\r\n    public void verifyFoldSorted() {\r\n        List&lt;Integer&gt; result = StreamUtils.foldSorted(Stream.of(1, 5, 7, 9), Stream.of(2, 5)).collect(Collectors.toList());\r\n        assertEquals(Arrays.asList(1, 2, 5, 5, 7, 9), result);\r\n\r\n        result = StreamUtils.foldSorted(Stream.of(8, 10), Stream.of(1, 2, 7, 9)).collect(Collectors.toList());\r\n        assertEquals(Arrays.asList(1, 2, 7, 8, 9, 10), result);\r\n    }","title":"Merge two arrays using functional style","body":"<p>Something like this, perhaps? Can probably be done prettier, but the general idea should work.</p>\n\n<pre><code>public static &lt;T extends Comparable&lt;T&gt;&gt; Stream&lt;T&gt; foldSorted(Stream&lt;T&gt; left, Stream&lt;T&gt; right) {\n    Iterator&lt;T&gt; leftIterator = left.iterator();\n    Iterator&lt;T&gt; rightIterator = right.iterator();\n\n    Iterator&lt;T&gt; iterator = new Iterator&lt;T&gt;() {\n        private T nextLeft = getNextLeft();\n        private T nextRight = getNextRight();\n\n        private T getNextLeft() {\n            return leftIterator.hasNext() ? leftIterator.next():null;\n        }\n\n        private T getNextRight() {\n            return rightIterator.hasNext() ? rightIterator.next():null;\n        }\n\n        @Override\n        public boolean hasNext() {\n            return nextLeft != null || nextRight != null;\n        }\n\n        @Override\n        public T next() {\n            T result = null;\n\n            if(nextLeft != null) {\n                if(nextRight != null) {\n                    if(nextLeft.compareTo(nextRight) &lt; 0) {\n                        result = nextLeft;\n                        nextLeft = getNextLeft();\n                    } else {\n                        result = nextRight;\n                        nextRight = getNextRight();\n                    }\n                } else {\n                    result = nextLeft;\n                    nextLeft = getNextLeft();\n                }\n            } else {\n                result = nextRight;\n                nextRight = getNextRight();\n            }\n\n            return result;\n        }\n    };\n\n    return StreamSupport.stream(Spliterators.spliteratorUnknownSize(iterator, Spliterator.ORDERED), false);\n}\n</code></pre>\n\n<p>Now, you can do:</p>\n\n<pre><code>@Test\npublic void verifyFoldSorted() {\n    List&lt;Integer&gt; result = StreamUtils.foldSorted(Stream.of(1, 5, 7, 9), Stream.of(2, 5)).collect(Collectors.toList());\n    assertEquals(Arrays.asList(1, 2, 5, 5, 7, 9), result);\n\n    result = StreamUtils.foldSorted(Stream.of(8, 10), Stream.of(1, 2, 7, 9)).collect(Collectors.toList());\n    assertEquals(Arrays.asList(1, 2, 7, 8, 9, 10), result);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6444111,"reputation":51041,"user_id":4993128,"accept_rate":43,"display_name":"jwvh"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1470821080,"creation_date":1470818484,"answer_id":38868283,"question_id":38866350,"body_markdown":"**Scala**\r\n\r\nIf you want a lazy evaluation, i.e. each element sorted and retrieved only as needed, then one approach is turn your `Array`s into `Iterator`s.\r\n\r\n    class ArrayMerger[A:Ordering](arrA:Array[A], arrB:Array[A]) extends Iterator[A] {\r\n      import math.Ordering.Implicits._\r\n      private val a: BufferedIterator[A] = arrA.toIterator.buffered\r\n      private val b: BufferedIterator[A] = arrB.toIterator.buffered\r\n    \r\n      override def hasNext: Boolean = a.hasNext || b.hasNext\r\n      override def next(): A =\r\n        if      (!a.hasNext) b.next()\r\n        else if (!b.hasNext) a.next()\r\n        else if (a.head &lt; b.head) a.next() else b.next()\r\n    }\r\n    \r\n    val am = new ArrayMerger(Array(&#39;a&#39;,&#39;c&#39;,&#39;t&#39;,&#39;y&#39;),Array(&#39;b&#39;,&#39;w&#39;,&#39;z&#39;))//Iterator[Char]\r\n    am.toArray  // Array(a, b, c, t, w, y, z)  &lt;-- iterator consumed\r\n\r\nA `Stream` also has lazy evaluation but it can be indexed as well.\r\n\r\n    val am = new ArrayMerger(Array(43, 78), Array(2, 36, 77, 87, 99)).toStream\r\n    am(1) // 36\r\n    am(4) // 78\r\n    am(6) // 99  &lt;-- only now have all elements been evaluated\r\n\r\n","title":"Merge two arrays using functional style","body":"<p><strong>Scala</strong></p>\n\n<p>If you want a lazy evaluation, i.e. each element sorted and retrieved only as needed, then one approach is turn your <code>Array</code>s into <code>Iterator</code>s.</p>\n\n<pre><code>class ArrayMerger[A:Ordering](arrA:Array[A], arrB:Array[A]) extends Iterator[A] {\n  import math.Ordering.Implicits._\n  private val a: BufferedIterator[A] = arrA.toIterator.buffered\n  private val b: BufferedIterator[A] = arrB.toIterator.buffered\n\n  override def hasNext: Boolean = a.hasNext || b.hasNext\n  override def next(): A =\n    if      (!a.hasNext) b.next()\n    else if (!b.hasNext) a.next()\n    else if (a.head &lt; b.head) a.next() else b.next()\n}\n\nval am = new ArrayMerger(Array('a','c','t','y'),Array('b','w','z'))//Iterator[Char]\nam.toArray  // Array(a, b, c, t, w, y, z)  &lt;-- iterator consumed\n</code></pre>\n\n<p>A <code>Stream</code> also has lazy evaluation but it can be indexed as well.</p>\n\n<pre><code>val am = new ArrayMerger(Array(43, 78), Array(2, 36, 77, 87, 99)).toStream\nam(1) // 36\nam(4) // 78\nam(6) // 99  &lt;-- only now have all elements been evaluated\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6517130,"reputation":13016,"user_id":5044950,"accept_rate":83,"display_name":"Sam Estep"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1470831129,"creation_date":1470831129,"answer_id":38873123,"question_id":38866350,"body_markdown":"&lt;!-- language-all: lang-clj --&gt;\r\n\r\nThe tail-recursive solution by @leetwinski works well, but it isn&#39;t lazy. Here&#39;s a lazy solution in Clojure:\r\n\r\n    (defn merge-sorted [pred coll1 coll2]\r\n      (lazy-seq\r\n       (if (some empty? [coll1 coll2])\r\n         (concat coll1 coll2)\r\n         (let [[head1 &amp; tail1] coll1\r\n               [head2 &amp; tail2] coll2]\r\n           (if (pred head1 head2)\r\n             (cons head1 (merge-sorted pred tail1 coll2))\r\n             (cons head2 (merge-sorted pred coll1 tail2)))))))\r\n\r\nExample:\r\n\r\n    (letfn [(multiples [x]\r\n              (iterate (partial +&#39; x) x))]\r\n      (take 10 (merge-sorted &lt; (multiples 2) (multiples 3))))\r\n    ;;=&gt; (2 3 4 6 6 8 9 10 12 12)","title":"Merge two arrays using functional style","body":"\n\n<p>The tail-recursive solution by @leetwinski works well, but it isn't lazy. Here's a lazy solution in Clojure:</p>\n\n<pre class=\"lang-clj prettyprint-override\"><code>(defn merge-sorted [pred coll1 coll2]\n  (lazy-seq\n   (if (some empty? [coll1 coll2])\n     (concat coll1 coll2)\n     (let [[head1 &amp; tail1] coll1\n           [head2 &amp; tail2] coll2]\n       (if (pred head1 head2)\n         (cons head1 (merge-sorted pred tail1 coll2))\n         (cons head2 (merge-sorted pred coll1 tail2)))))))\n</code></pre>\n\n<p>Example:</p>\n\n<pre class=\"lang-clj prettyprint-override\"><code>(letfn [(multiples [x]\n          (iterate (partial +' x) x))]\n  (take 10 (merge-sorted &lt; (multiples 2) (multiples 3))))\n;;=&gt; (2 3 4 6 6 8 9 10 12 12)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674194806,"creation_date":1484073080,"answer_id":41575887,"question_id":38866350,"body_markdown":"It can be done with third-party library [abacus-common][1]:\r\n\r\n    int[] a = { 1, 3, 5, 7 };\r\n    int[] b = { 2, 4, 6 };\r\n    int[] c = IntStream.merge(a, b, (v1, v2) -&gt; v1 &lt; v2 ? Nth.FIRST : Nth.SECOND).toArray();\r\n    N.println(c); // output: [1, 2, 3, 4, 5, 6, 7]\r\n\r\n\r\n\r\n  [1]: https://github.com/landawn/abacus-common","title":"Merge two arrays using functional style","body":"<p>It can be done with third-party library <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a>:</p>\n<pre><code>int[] a = { 1, 3, 5, 7 };\nint[] b = { 2, 4, 6 };\nint[] c = IntStream.merge(a, b, (v1, v2) -&gt; v1 &lt; v2 ? Nth.FIRST : Nth.SECOND).toArray();\nN.println(c); // output: [1, 2, 3, 4, 5, 6, 7]\n</code></pre>\n"}],"owner":{"account_id":951981,"reputation":14760,"user_id":977919,"accept_rate":92,"display_name":"sidgate"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1577,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":38867216,"answer_count":8,"score":7,"last_activity_date":1674194806,"creation_date":1470812476,"question_id":38866350,"body_markdown":"I was looking at one of the questions [How to merge two sorted arrays][1], and trying hard to convert the solution using Java 8 streams. But still no success. Actually, nothing useful that I can share here.\r\n\r\nThere has to be a way to handle such loops using indexes in functional programming. How would this been done in other languages, like Scala, Clojure, without changing the time complexity? May be then I can just try to copy it in Java.\r\n\r\n\r\nEdit: The code mentioned the question is the most efficient, and I don&#39;t want to compromise on it.\r\n\r\n  [1]: https://stackoverflow.com/questions/5958169/how-to-merge-two-sorted-arrays-into-a-sorted-array ","title":"Merge two arrays using functional style","body":"<p>I was looking at one of the questions <a href=\"https://stackoverflow.com/questions/5958169/how-to-merge-two-sorted-arrays-into-a-sorted-array\">How to merge two sorted arrays</a>, and trying hard to convert the solution using Java 8 streams. But still no success. Actually, nothing useful that I can share here.</p>\n\n<p>There has to be a way to handle such loops using indexes in functional programming. How would this been done in other languages, like Scala, Clojure, without changing the time complexity? May be then I can just try to copy it in Java.</p>\n\n<p>Edit: The code mentioned the question is the most efficient, and I don't want to compromise on it.</p>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1424288931,"post_id":28592529,"comment_id":45491653,"body_markdown":"How would you solve it with enhanced-for-loop(s)?","body":"How would you solve it with enhanced-for-loop(s)?"},{"owner":{"account_id":5314084,"reputation":737,"user_id":4239498,"display_name":"Denis Borovikov"},"score":0,"creation_date":1424294630,"post_id":28592529,"comment_id":45494952,"body_markdown":"Take a look to [question](http://stackoverflow.com/questions/17640754/zipping-streams-using-jdk8-with-lambda-java-util-stream-streams-zip)","body":"Take a look to <a href=\"http://stackoverflow.com/questions/17640754/zipping-streams-using-jdk8-with-lambda-java-util-stream-streams-zip\">question</a>"}],"answers":[{"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1424289044,"post_id":28592555,"comment_id":45491723,"body_markdown":"It&#39;s annoying that I can see exactly how I&#39;d do this in C# in LINQ - in a pretty general way - but I&#39;m still groping around when it comes to Java streams. Maybe when I get more practice...","body":"It&#39;s annoying that I can see exactly how I&#39;d do this in C# in LINQ - in a pretty general way - but I&#39;m still groping around when it comes to Java streams. Maybe when I get more practice..."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1424289141,"post_id":28592555,"comment_id":45491776,"body_markdown":"I mean...I look at the Spliterator interface, and I don&#39;t think there&#39;s any _nice_ way to do zipping, just because `trySplit` allows the split to happen at an arbitrary point.  You can do indexing efficiently with SUBSIZED spliterators, and fall back to a less-efficient sequential approach for other spliterators, but I don&#39;t think there&#39;s anything you can do with zipping.","body":"I mean...I look at the Spliterator interface, and I don&#39;t think there&#39;s any <i>nice</i> way to do zipping, just because <code>trySplit</code> allows the split to happen at an arbitrary point.  You can do indexing efficiently with SUBSIZED spliterators, and fall back to a less-efficient sequential approach for other spliterators, but I don&#39;t think there&#39;s anything you can do with zipping."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1424289376,"post_id":28592555,"comment_id":45491906,"body_markdown":"Here&#39;s the C# version, complete with 3 voters with different lengths of lists: https://gist.github.com/jskeet/2c1db126e424cf58cb69","body":"Here&#39;s the C# version, complete with 3 voters with different lengths of lists: <a href=\"https://gist.github.com/jskeet/2c1db126e424cf58cb69\" rel=\"nofollow noreferrer\">gist.github.com/jskeet/2c1db126e424cf58cb69</a>"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":4,"creation_date":1424289556,"post_id":28592555,"comment_id":45492038,"body_markdown":"I mean, that translates pretty directly to https://gist.github.com/lowasser/e1b57e1a9358cbf52cc6","body":"I mean, that translates pretty directly to <a href=\"https://gist.github.com/lowasser/e1b57e1a9358cbf52cc6\" rel=\"nofollow noreferrer\">gist.github.com/lowasser/e1b57e1a9358cbf52cc6</a>"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1424297716,"post_id":28592555,"comment_id":45496634,"body_markdown":"Right. It&#39;s really just the primitives aspect (and the explicit stream call) that makes it uglier than the C# - your version doesn&#39;t have the conditional handling of lists of unequal sizes, but even I can work out how I&#39;d do that ;)","body":"Right. It&#39;s really just the primitives aspect (and the explicit stream call) that makes it uglier than the C# - your version doesn&#39;t have the conditional handling of lists of unequal sizes, but even I can work out how I&#39;d do that ;)"},{"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"score":2,"creation_date":1424298179,"post_id":28592555,"comment_id":45496866,"body_markdown":"@LouisWasserman Getting the spliterators to line up their splits, especially in parallel, is certainly a big issue. Another issue is that you really want the result of zipping two (or N) streams to be another stream. What would its element type be? A `Pair` or `Tuple` class? Or provide a `BiFunction` that combines elements pairwise? But we don&#39;t have N-ary functions. We&#39;re still wrestling with this, but it doesn&#39;t look like anything will emerge until we have value types (&gt; Java 9).","body":"@LouisWasserman Getting the spliterators to line up their splits, especially in parallel, is certainly a big issue. Another issue is that you really want the result of zipping two (or N) streams to be another stream. What would its element type be? A <code>Pair</code> or <code>Tuple</code> class? Or provide a <code>BiFunction</code> that combines elements pairwise? But we don&#39;t have N-ary functions. We&#39;re still wrestling with this, but it doesn&#39;t look like anything will emerge until we have value types (&gt; Java 9)."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1424298278,"post_id":28592555,"comment_id":45496913,"body_markdown":"I&#39;d definitely stick to a `BiFunction`, which can be `Pair::of` if necessary; strong -1 to tuple types.  I&#39;d be inclined to accept the limitation to the n=2 case, which can be expanded with currying if necessary -- that is, returning a stream of functions, to be zipped with a stream of arguments.","body":"I&#39;d definitely stick to a <code>BiFunction</code>, which can be <code>Pair::of</code> if necessary; strong -1 to tuple types.  I&#39;d be inclined to accept the limitation to the n=2 case, which can be expanded with currying if necessary -- that is, returning a stream of functions, to be zipped with a stream of arguments."},{"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"score":0,"creation_date":1424323646,"post_id":28592555,"comment_id":45504498,"body_markdown":"@LouisWasserman Seems reasonable to **me**, but I accept that others would be dissatisfied with these limitations. Plus it would likely get in the way of improvements when and if value types come along. Meanwhile, streaming over an `IntRange` and using the values as indexes into multiple arrays/lists seems to satisfy a good chunk of use cases, though by no means all of them.","body":"@LouisWasserman Seems reasonable to <b>me</b>, but I accept that others would be dissatisfied with these limitations. Plus it would likely get in the way of improvements when and if value types come along. Meanwhile, streaming over an <code>IntRange</code> and using the values as indexes into multiple arrays/lists seems to satisfy a good chunk of use cases, though by no means all of them."}],"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":8,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1424288856,"creation_date":1424288856,"answer_id":28592555,"question_id":28592529,"body_markdown":"That one isn&#39;t really doable the way you&#39;re hoping.  The closest you could get would probably be\r\n\r\n    IntStream.range(0, voterA.size())\r\n        .mapToObj(i -&gt; voterA.get(i) + voterB.get(i))\r\n        .collect(toList());\r\n\r\n...but there&#39;s no &quot;zip&quot; operation on streams, largely because two different streams can have backing spliterators that split at different points, so you can&#39;t line them up properly.","title":"Java 8 streams adding values from two or more lists","body":"<p>That one isn't really doable the way you're hoping.  The closest you could get would probably be</p>\n\n<pre><code>IntStream.range(0, voterA.size())\n    .mapToObj(i -&gt; voterA.get(i) + voterB.get(i))\n    .collect(toList());\n</code></pre>\n\n<p>...but there's no \"zip\" operation on streams, largely because two different streams can have backing spliterators that split at different points, so you can't line them up properly.</p>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674194726,"creation_date":1481155224,"answer_id":41029535,"question_id":28592529,"body_markdown":"JDK doesn&#39;t provide the &#39;zip&#39; API. But it can be done with third library [abacus-common][1]:\r\n\r\n    List&lt;Integer&gt; voterA = Arrays.asList(1, 2, 3, 4, 5);\r\n    List&lt;Integer&gt; voterB = Arrays.asList(1, 2, 3, 4, 5);\r\n\r\n    List&lt;Integer&gt; sumVotes = Stream.zip(voterA, voterB, (a, b) -&gt; a + b).toList();\r\n\r\nDisclosure： I&#39;m the developer of abacus-common.\r\n\r\n  [1]: https://github.com/landawn/abacus-common","title":"Java 8 streams adding values from two or more lists","body":"<p>JDK doesn't provide the 'zip' API. But it can be done with third library <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a>:</p>\n<pre><code>List&lt;Integer&gt; voterA = Arrays.asList(1, 2, 3, 4, 5);\nList&lt;Integer&gt; voterB = Arrays.asList(1, 2, 3, 4, 5);\n\nList&lt;Integer&gt; sumVotes = Stream.zip(voterA, voterB, (a, b) -&gt; a + b).toList();\n</code></pre>\n<p>Disclosure： I'm the developer of abacus-common.</p>\n"}],"owner":{"account_id":5809538,"reputation":61,"user_id":4581100,"display_name":"Steve Carrigan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3256,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1674194726,"creation_date":1424288769,"question_id":28592529,"body_markdown":"I am trying to get into Java 8 and get my head around streams and lambdas to solve various problems and got stuck on this specific one which I normally use a forEach and store the values in a Map to solve.\r\n\r\nHow would you write the code to get the expected list using the new features in Java 8  ?\r\n\r\n    List&lt;Integer&gt; voterA = Arrays.asList(1,2,3,4,5);\r\n    List&lt;Integer&gt; voterB = Arrays.asList(1,2,3,4,5);\r\n    List&lt;List&lt;Integer&gt;&gt; votes = Arrays.asList(voterA, voterB);\r\n    \r\n    // expected list = (2,4,6,8,10)\r\n    List&lt;Integer&gt; sumVotes = ...","title":"Java 8 streams adding values from two or more lists","body":"<p>I am trying to get into Java 8 and get my head around streams and lambdas to solve various problems and got stuck on this specific one which I normally use a forEach and store the values in a Map to solve.</p>\n\n<p>How would you write the code to get the expected list using the new features in Java 8  ?</p>\n\n<pre><code>List&lt;Integer&gt; voterA = Arrays.asList(1,2,3,4,5);\nList&lt;Integer&gt; voterB = Arrays.asList(1,2,3,4,5);\nList&lt;List&lt;Integer&gt;&gt; votes = Arrays.asList(voterA, voterB);\n\n// expected list = (2,4,6,8,10)\nList&lt;Integer&gt; sumVotes = ...\n</code></pre>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1396363821,"post_id":22789413,"comment_id":34748140,"body_markdown":"http://stackoverflow.com/a/18563928/829571","body":"<a href=\"http://stackoverflow.com/a/18563928/829571\">stackoverflow.com/a/18563928/829571</a>"},{"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"score":0,"creation_date":1396371098,"post_id":22789413,"comment_id":34753066,"body_markdown":"@assylias Thanks for the plug. That prompted me to go clean up that answer. :-)","body":"@assylias Thanks for the plug. That prompted me to go clean up that answer. :-)"}],"answers":[{"comments":[{"owner":{"account_id":2347441,"reputation":67550,"user_id":2057294,"accept_rate":63,"display_name":"skiwi"},"score":3,"creation_date":1396365009,"post_id":22789835,"comment_id":34749037,"body_markdown":"The same issue occurs with `Collectors.counting()`, there a `long` is used, but it may overflow aswell. So on that point either your argument is not good enough, or it is a good argument against `Collectors.counting()` aswell. I do not see any other issues though with infinite streams and iterators (apart from that they never stop)","body":"The same issue occurs with <code>Collectors.counting()</code>, there a <code>long</code> is used, but it may overflow aswell. So on that point either your argument is not good enough, or it is a good argument against <code>Collectors.counting()</code> aswell. I do not see any other issues though with infinite streams and iterators (apart from that they never stop)"},{"owner":{"account_id":395357,"reputation":44547,"user_id":758280,"accept_rate":100,"display_name":"Jeffrey"},"score":1,"creation_date":1396365248,"post_id":22789835,"comment_id":34749191,"body_markdown":"@skiwi Well, if you tried to use half of the methods in `Collectors` on an infinite `Stream` you would either run out of memory or introduce an infinite loop. `Collectors` provides utility methods to handle a majority of use cases. Most of the time, you won&#39;t actually be dealing with an infinite `Stream`, so `Collectors` is warranted.","body":"@skiwi Well, if you tried to use half of the methods in <code>Collectors</code> on an infinite <code>Stream</code> you would either run out of memory or introduce an infinite loop. <code>Collectors</code> provides utility methods to handle a majority of use cases. Most of the time, you won&#39;t actually be dealing with an infinite <code>Stream</code>, so <code>Collectors</code> is warranted."}],"tags":[],"owner":{"account_id":395357,"reputation":44547,"user_id":758280,"accept_rate":100,"display_name":"Jeffrey"},"comment_count":2,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1396364858,"creation_date":1396364858,"answer_id":22789835,"question_id":22789413,"body_markdown":"`Stream`s and `Iterator`s do not have to be finite. Both [`Stream::generate`](http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#generate-java.util.function.Supplier-)\r\n and [`Stream::iterate`](http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#iterate-T-java.util.function.UnaryOperator-) return infinite `Stream`s. How would you handle indexing with an infinite stream? Let the index overflow to negative numbers? Use a `BigInteger` (and potentially run out of memory)?\r\n\r\nThere isn&#39;t a good solution to handling indexing for infinite streams, so the designers (correctly, in my opinion) left it out of the API.\r\n","title":"What are the reasons for not having an index in Java 8 streams?","body":"<p><code>Stream</code>s and <code>Iterator</code>s do not have to be finite. Both <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#generate-java.util.function.Supplier-\"><code>Stream::generate</code></a>\n and <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#iterate-T-java.util.function.UnaryOperator-\"><code>Stream::iterate</code></a> return infinite <code>Stream</code>s. How would you handle indexing with an infinite stream? Let the index overflow to negative numbers? Use a <code>BigInteger</code> (and potentially run out of memory)?</p>\n\n<p>There isn't a good solution to handling indexing for infinite streams, so the designers (correctly, in my opinion) left it out of the API.</p>\n"},{"comments":[{"owner":{"account_id":2347441,"reputation":67550,"user_id":2057294,"accept_rate":63,"display_name":"skiwi"},"score":1,"creation_date":1396367536,"post_id":22790483,"comment_id":34750802,"body_markdown":"I am talking specifically about ordered streams, if you decide to stand by your answer, can you explain why it is not possible to index in a parallel ordered stream?","body":"I am talking specifically about ordered streams, if you decide to stand by your answer, can you explain why it is not possible to index in a parallel ordered stream?"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1396369075,"post_id":22790483,"comment_id":34751759,"body_markdown":"If you wanted to, you could keep a counter in the consumer itself for operations known to be executed in order, so why would you need the extra signature?","body":"If you wanted to, you could keep a counter in the consumer itself for operations known to be executed in order, so why would you need the extra signature?"},{"owner":{"account_id":53291,"reputation":1729,"user_id":159326,"accept_rate":87,"display_name":"aepurniet"},"score":1,"creation_date":1396371182,"post_id":22790483,"comment_id":34753107,"body_markdown":"an Ordered stream is not the same thing as a Indexed stream. in fact I dont think java has an Indexed Characteristic on the Spliterator Interface. If i really needed an Index along with a datum, and i wanted to use the stream interface, I would make the index part of the data structure. But i would investigate avoiding indexes altogether.","body":"an Ordered stream is not the same thing as a Indexed stream. in fact I dont think java has an Indexed Characteristic on the Spliterator Interface. If i really needed an Index along with a datum, and i wanted to use the stream interface, I would make the index part of the data structure. But i would investigate avoiding indexes altogether."},{"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"score":1,"creation_date":1396371573,"post_id":22790483,"comment_id":34753346,"body_markdown":"@LouisWasserman I wouldn&#39;t go quite so far as to say nonsensical, but parallelizing indexed operations can become quite difficult in the general case. Also, as aepurniet pointed out, make sure to distinguish between processing order and encounter order.","body":"@LouisWasserman I wouldn&#39;t go quite so far as to say nonsensical, but parallelizing indexed operations can become quite difficult in the general case. Also, as aepurniet pointed out, make sure to distinguish between processing order and encounter order."}],"tags":[],"owner":{"account_id":53291,"reputation":1729,"user_id":159326,"accept_rate":87,"display_name":"aepurniet"},"comment_count":4,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1396366604,"creation_date":1396366604,"answer_id":22790483,"question_id":22789413,"body_markdown":"indexing every element requires a sequential assignment of the indexes. this would defeat the point of parallel operations, since each operation would have to synchronize to get its index.","title":"What are the reasons for not having an index in Java 8 streams?","body":"<p>indexing every element requires a sequential assignment of the indexes. this would defeat the point of parallel operations, since each operation would have to synchronize to get its index.</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1396438298,"creation_date":1396438298,"answer_id":22810051,"question_id":22789413,"body_markdown":"Adding a single method providing an index would require *all implementation* methods to be doubled to have one maintaining an index and one without. There’s more to it than visible in the API. If you are curious you may look at the type tree of the internal interface `java.util.stream.Sink&lt;T&gt;` to get an idea. All of them would be affected. The alternative would be to always maintain an index even if it is not required.\r\n\r\nAnd it adds an ambiguity. Does the index reflect the *source* index, i.e. does not change on filtering, or is it a *position* in the final stream? On the other hand you can always insert a mapping from an item type to a type holding the item and an index at any places in the chain. This would clear the ambiguity. And the limitations to that solution are the same that a JRE provided solution would have.\r\n\r\nIn case of an `Iterator` the answer is even simpler. Since `forEachRemaining` must be provided as a `default` interface method it cannot add the maintenance of an index. So at the time it is invoked, it doesn’t know how many items have been consumed so far. And starting the count with zero at that time, ignoring all previous items would be a feature that a lot of developers would question even more.\r\n","title":"What are the reasons for not having an index in Java 8 streams?","body":"<p>Adding a single method providing an index would require <em>all implementation</em> methods to be doubled to have one maintaining an index and one without. There’s more to it than visible in the API. If you are curious you may look at the type tree of the internal interface <code>java.util.stream.Sink&lt;T&gt;</code> to get an idea. All of them would be affected. The alternative would be to always maintain an index even if it is not required.</p>\n\n<p>And it adds an ambiguity. Does the index reflect the <em>source</em> index, i.e. does not change on filtering, or is it a <em>position</em> in the final stream? On the other hand you can always insert a mapping from an item type to a type holding the item and an index at any places in the chain. This would clear the ambiguity. And the limitations to that solution are the same that a JRE provided solution would have.</p>\n\n<p>In case of an <code>Iterator</code> the answer is even simpler. Since <code>forEachRemaining</code> must be provided as a <code>default</code> interface method it cannot add the maintenance of an index. So at the time it is invoked, it doesn’t know how many items have been consumed so far. And starting the count with zero at that time, ignoring all previous items would be a feature that a lot of developers would question even more.</p>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1674194697,"creation_date":1481153060,"answer_id":41029180,"question_id":22789413,"body_markdown":"I have read all above answers, however, personally i disagree with them. I think some method(e.g. indexed()) should be added and it can be executed sequentially, even in parallel stream because this method will be verify fast, no need to execute in parallel. You can add &#39;index&#39; by map. for example:\r\n\r\n    List&lt;String&gt; list = N.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\r\n    final AtomicLong idx = new AtomicLong(0);\r\n    list.stream().map(e -&gt; Indexed.of(idx.getAndIncrement(), e)).forEach(N::println);\r\n\r\nOr you can use third library: [abacus-common][1], the code will be:\r\n\r\n    List&lt;String&gt; list = N.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\r\n    Stream.of(list).indexed().forEach(N::println);\r\n    // output:\r\n    // [0]=a\r\n    // [1]=b\r\n    // [2]=c\r\n\r\nDisclosure： I&#39;m the developer of abacus-common.\r\n\r\n  [1]: https://github.com/landawn/abacus-common","title":"What are the reasons for not having an index in Java 8 streams?","body":"<p>I have read all above answers, however, personally i disagree with them. I think some method(e.g. indexed()) should be added and it can be executed sequentially, even in parallel stream because this method will be verify fast, no need to execute in parallel. You can add 'index' by map. for example:</p>\n<pre><code>List&lt;String&gt; list = N.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\nfinal AtomicLong idx = new AtomicLong(0);\nlist.stream().map(e -&gt; Indexed.of(idx.getAndIncrement(), e)).forEach(N::println);\n</code></pre>\n<p>Or you can use third library: <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a>, the code will be:</p>\n<pre><code>List&lt;String&gt; list = N.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\nStream.of(list).indexed().forEach(N::println);\n// output:\n// [0]=a\n// [1]=b\n// [2]=c\n</code></pre>\n<p>Disclosure： I'm the developer of abacus-common.</p>\n"}],"owner":{"account_id":2347441,"reputation":67550,"user_id":2057294,"accept_rate":63,"display_name":"skiwi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1588,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":4,"score":12,"last_activity_date":1674194697,"creation_date":1396363774,"question_id":22789413,"body_markdown":"I was wondering about the Java 8 streams (`Stream&lt;E&gt;`), they have the following methods:\r\n\r\n- `forEach(Consumer&lt;? super E&gt; action)`\r\n- `forEachOrdered(Consumer&lt;? super E&gt; action)`\r\n\r\nWhat were the arguments against not supplying the following signature?\r\n\r\n- `forEachOrdered(BiConsumer&lt;Integer, ? super E&gt; action)`\r\n - Which would then return the index of the item in the stream and the item itself.\r\n\r\nWith this overload it would be possible to actually use the index in case the stream was ordered.\r\n\r\nI am really curious to see what the arguments are against it.\r\n\r\n*Edit*, the same actually holds for `Iterator&lt;E&gt;` with `forEachRemaining`, and possibly more classes.  \r\nIf none of the classes provide such option, then I suspect it has been considered for Java 8 and denied.","title":"What are the reasons for not having an index in Java 8 streams?","body":"<p>I was wondering about the Java 8 streams (<code>Stream&lt;E&gt;</code>), they have the following methods:</p>\n\n<ul>\n<li><code>forEach(Consumer&lt;? super E&gt; action)</code></li>\n<li><code>forEachOrdered(Consumer&lt;? super E&gt; action)</code></li>\n</ul>\n\n<p>What were the arguments against not supplying the following signature?</p>\n\n<ul>\n<li><code>forEachOrdered(BiConsumer&lt;Integer, ? super E&gt; action)</code>\n<ul>\n<li>Which would then return the index of the item in the stream and the item itself.</li>\n</ul></li>\n</ul>\n\n<p>With this overload it would be possible to actually use the index in case the stream was ordered.</p>\n\n<p>I am really curious to see what the arguments are against it.</p>\n\n<p><em>Edit</em>, the same actually holds for <code>Iterator&lt;E&gt;</code> with <code>forEachRemaining</code>, and possibly more classes.<br>\nIf none of the classes provide such option, then I suspect it has been considered for Java 8 and denied.</p>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":0,"creation_date":1453839315,"post_id":35022976,"comment_id":57772561,"body_markdown":"I don&#39;t understand the result. `&quot;ABC&quot;` is all uppercase and it is in the same group as `&quot;AbC&quot;`? Could you explain further &quot;that contain only case-different strings&quot;?","body":"I don&#39;t understand the result. <code>&quot;ABC&quot;</code> is all uppercase and it is in the same group as <code>&quot;AbC&quot;</code>? Could you explain further &quot;that contain only case-different strings&quot;?"},{"owner":{"account_id":7715574,"reputation":71,"user_id":5843467,"display_name":"Ilya"},"score":0,"creation_date":1453839477,"post_id":35022976,"comment_id":57772651,"body_markdown":"All strings in the bucket should be equal ignoring case, but of course they can be different if we compare it as usual. (`&quot;ABC&quot;.equalsIgnoreCase(&quot;AbC&quot;) == true` but `&quot;ABC&quot;.equals(&quot;AbC&quot;) == false`)","body":"All strings in the bucket should be equal ignoring case, but of course they can be different if we compare it as usual. (<code>&quot;ABC&quot;.equalsIgnoreCase(&quot;AbC&quot;) == true</code> but <code>&quot;ABC&quot;.equals(&quot;AbC&quot;) == false</code>)"},{"owner":{"account_id":2244074,"reputation":4893,"user_id":1977887,"accept_rate":75,"display_name":"Erick G. Hagstrom"},"score":0,"creation_date":1453839692,"post_id":35022976,"comment_id":57772800,"body_markdown":"Not sure you want to jump straight to a `Collector` here. Perhaps going through a `Map` of `Set`s, then dump the values into a `List`?","body":"Not sure you want to jump straight to a <code>Collector</code> here. Perhaps going through a <code>Map</code> of <code>Set</code>s, then dump the values into a <code>List</code>?"},{"owner":{"account_id":391098,"reputation":5803,"user_id":751579,"accept_rate":79,"display_name":"davidbak"},"score":0,"creation_date":1453840325,"post_id":35022976,"comment_id":57773200,"body_markdown":"Collect (in the normal way) into a Guava multimap built using a case-insensitive map (factory) as the collection supplier.  Gives you a different datatype than you specify (a `Map` instead of a `List`) but if that&#39;s not important to you then ...","body":"Collect (in the normal way) into a Guava multimap built using a case-insensitive map (factory) as the collection supplier.  Gives you a different datatype than you specify (a <code>Map</code> instead of a <code>List</code>) but if that&#39;s not important to you then ..."},{"owner":{"account_id":130073,"reputation":21988,"user_id":329063,"accept_rate":75,"display_name":"glts"},"score":2,"creation_date":1453843621,"post_id":35022976,"comment_id":57775225,"body_markdown":"If this question is really specifically about collections of strings and grouping them while ignoring case please change the title to say so.","body":"If this question is really specifically about collections of strings and grouping them while ignoring case please change the title to say so."}],"answers":[{"comments":[{"owner":{"account_id":7715574,"reputation":71,"user_id":5843467,"display_name":"Ilya"},"score":0,"creation_date":1453840109,"post_id":35023183,"comment_id":57773077,"body_markdown":"Is there no way to do it in one stream?","body":"Is there no way to do it in one stream?"},{"owner":{"account_id":391098,"reputation":5803,"user_id":751579,"accept_rate":79,"display_name":"davidbak"},"score":0,"creation_date":1453840138,"post_id":35023183,"comment_id":57773093,"body_markdown":"@AlexisC.  I don&#39;t know why *collectingAndThen* ... *groupingBy* was important enough to be put in the Streams API (over other things that were omitted) but it is sure useful on occasion.","body":"@AlexisC.  I don&#39;t know why <i>collectingAndThen</i> ... <i>groupingBy</i> was important enough to be put in the Streams API (over other things that were omitted) but it is sure useful on occasion."}],"tags":[],"owner":{"account_id":389881,"reputation":53027,"user_id":749588,"accept_rate":65,"display_name":"Jean Logeart"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1453840220,"creation_date":1453839640,"answer_id":35023183,"question_id":35022976,"body_markdown":"Try:\r\n\r\n    List&lt;Set&lt;String&gt;&gt; result = \r\n      strs.stream()\r\n          .collect(groupingBy(String::toLowerCase, toSet())) // Map&lt;String, Set&lt;String&gt;&gt;\r\n          .values()            // Collection&lt;Set&lt;String&gt;&gt;\r\n          .stream()            // Stream&lt;Set&lt;String&gt;&gt; \r\n          .collect(toList());  // List&lt;Set&lt;String&gt;&gt;","title":"Java streams collect list of objects to buckets","body":"<p>Try:</p>\n\n<pre><code>List&lt;Set&lt;String&gt;&gt; result = \n  strs.stream()\n      .collect(groupingBy(String::toLowerCase, toSet())) // Map&lt;String, Set&lt;String&gt;&gt;\n      .values()            // Collection&lt;Set&lt;String&gt;&gt;\n      .stream()            // Stream&lt;Set&lt;String&gt;&gt; \n      .collect(toList());  // List&lt;Set&lt;String&gt;&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":2,"creation_date":1453841296,"post_id":35023634,"comment_id":57773755,"body_markdown":"This is a lot cleaner in my opinion.","body":"This is a lot cleaner in my opinion."},{"owner":{"account_id":130073,"reputation":21988,"user_id":329063,"accept_rate":75,"display_name":"glts"},"score":1,"creation_date":1453843507,"post_id":35023634,"comment_id":57775139,"body_markdown":"Probably worth noting that this supports only a naive form of case-insensitivity, not as defined in Unicode (as I learnt just the other day http://stackoverflow.com/a/34966206).","body":"Probably worth noting that this supports only a naive form of case-insensitivity, not as defined in Unicode (as I learnt just the other day <a href=\"http://stackoverflow.com/a/34966206\">stackoverflow.com/a/34966206</a>)."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1453889604,"post_id":35023634,"comment_id":57793636,"body_markdown":"@glts: if you need sophisticated case insensitivity, you may use a [`Collator`](https://docs.oracle.com/javase/8/docs/api/?java/text/Collator.html). So you don’t need a 3rd party library every time. However, even for the simple case insensitivity, just converting to lowercase is not sufficient. It’s better to group into a `TreeMap&lt;&gt;(String.CASE_INSENSITIVE_ORDER)`. And since the resulting order has no meaning here, a `Set` would be more appropriate for the result than a `List`.","body":"@glts: if you need sophisticated case insensitivity, you may use a <a href=\"https://docs.oracle.com/javase/8/docs/api/?java/text/Collator.html\" rel=\"nofollow noreferrer\"><code>Collator</code></a>. So you don’t need a 3rd party library every time. However, even for the simple case insensitivity, just converting to lowercase is not sufficient. It’s better to group into a <code>TreeMap&lt;&gt;(String.CASE_INSENSITIVE_ORDER)</code>. And since the resulting order has no meaning here, a <code>Set</code> would be more appropriate for the result than a <code>List</code>."},{"owner":{"account_id":130073,"reputation":21988,"user_id":329063,"accept_rate":75,"display_name":"glts"},"score":0,"creation_date":1453892591,"post_id":35023634,"comment_id":57795636,"body_markdown":"@Holger Yes, but as far as I understand `Collator` does not do Unicode case folding out of the box. It also compares `&quot;world&quot;` and `&quot;W-OR  LD&quot;` as equal which may not be what you want.","body":"@Holger Yes, but as far as I understand <code>Collator</code> does not do Unicode case folding out of the box. It also compares <code>&quot;world&quot;</code> and <code>&quot;W-OR  LD&quot;</code> as equal which may not be what you want."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1453893496,"post_id":35023634,"comment_id":57796186,"body_markdown":"@glts: since supporting Unicode case folding is one of the primary goals, I’d expect it to do that. Maybe, you’ve got confused by the statement that such things are implemented by (non-public) subclasses. That shouldn’t bother you, just use the [factory method](https://docs.oracle.com/javase/8/docs/api/java/text/Collator.html#getInstance--) to get an implementation. The treatment of spacing and punctuation characters might be in issue, indeed.","body":"@glts: since supporting Unicode case folding is one of the primary goals, I’d expect it to do that. Maybe, you’ve got confused by the statement that such things are implemented by (non-public) subclasses. That shouldn’t bother you, just use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/text/Collator.html#getInstance--\" rel=\"nofollow noreferrer\">factory method</a> to get an implementation. The treatment of spacing and punctuation characters might be in issue, indeed."},{"owner":{"account_id":130073,"reputation":21988,"user_id":329063,"accept_rate":75,"display_name":"glts"},"score":0,"creation_date":1453927528,"post_id":35023634,"comment_id":57819508,"body_markdown":"@Holger I believe `Collator` is for doing Unicode collation, ie locale-dependent string comparison and ordering as in library catalogues, indexes, and so on. Case folding is locale-independent and intended for caseless (case-insensitive) matching and searching. They cover different use cases. I think for case folding you really do have to use ICU. Anyway, this is off-topic so I&#39;m stepping away now – thanks for the conversation.","body":"@Holger I believe <code>Collator</code> is for doing Unicode collation, ie locale-dependent string comparison and ordering as in library catalogues, indexes, and so on. Case folding is locale-independent and intended for caseless (case-insensitive) matching and searching. They cover different use cases. I think for case folding you really do have to use ICU. Anyway, this is off-topic so I&#39;m stepping away now – thanks for the conversation."}],"tags":[],"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"comment_count":6,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1453841398,"creation_date":1453841216,"answer_id":35023634,"question_id":35022976,"body_markdown":"The &quot;some collectors magic&quot; you are looking for can be done in two steps:\r\n\r\n - first, you need to group the elements by the property you are looking for. In this case since you want to ignore the casing, `String#toLowerCase` does the job (don&#39;t forget the overloaded method that takes a `Locale` as parameter). You also want the values grouped to be unique so you can use the overloaded version of `groupingBy` to put them into a `Set` (the default implementation uses a `List`)\r\n - since you&#39;re not interested in the keys, just grab the values from the resulting map and put them in a list (if you really need a list) using the `collectingAndThen` collector.\r\n\r\n&lt;hr/&gt;\r\n\r\n    import static java.util.stream.Collectors.collectingAndThen;\r\n    import static java.util.stream.Collectors.groupingBy;\r\n    import static java.util.stream.Collectors.toSet;\r\n  \r\n    ...\r\n  \r\n    List&lt;Set&lt;String&gt;&gt; result = \r\n        strs.stream()\r\n            .collect(collectingAndThen(groupingBy(String::toLowerCase, toSet()), \r\n                                       m -&gt; new ArrayList&lt;&gt;(m.values())));\r\n\r\n","title":"Java streams collect list of objects to buckets","body":"<p>The \"some collectors magic\" you are looking for can be done in two steps:</p>\n\n<ul>\n<li>first, you need to group the elements by the property you are looking for. In this case since you want to ignore the casing, <code>String#toLowerCase</code> does the job (don't forget the overloaded method that takes a <code>Locale</code> as parameter). You also want the values grouped to be unique so you can use the overloaded version of <code>groupingBy</code> to put them into a <code>Set</code> (the default implementation uses a <code>List</code>)</li>\n<li>since you're not interested in the keys, just grab the values from the resulting map and put them in a list (if you really need a list) using the <code>collectingAndThen</code> collector.</li>\n</ul>\n\n<hr/>\n\n<pre><code>import static java.util.stream.Collectors.collectingAndThen;\nimport static java.util.stream.Collectors.groupingBy;\nimport static java.util.stream.Collectors.toSet;\n\n...\n\nList&lt;Set&lt;String&gt;&gt; result = \n    strs.stream()\n        .collect(collectingAndThen(groupingBy(String::toLowerCase, toSet()), \n                                   m -&gt; new ArrayList&lt;&gt;(m.values())));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1674194585,"creation_date":1480459476,"answer_id":40877163,"question_id":35022976,"body_markdown":"Here is code by [abacus-common][1]\r\n\r\n    \r\n    List&lt;String&gt; strs = N.asList(&quot;ABC&quot;, &quot;abc&quot;, &quot;bca&quot;, &quot;BCa&quot;, &quot;AbC&quot;);\r\n    List&lt;Set&lt;String&gt;&gt; lists = Stream.of(strs).groupBy(N::toLowerCase, Collectors.toSet()).map(Entry::getValue).toList();\r\n\r\nDeclaration： I&#39;m the developer of abacus-common.\r\n\r\n  [1]: https://github.com/landawn/abacus-common","title":"Java streams collect list of objects to buckets","body":"<p>Here is code by <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a></p>\n<pre><code>List&lt;String&gt; strs = N.asList(&quot;ABC&quot;, &quot;abc&quot;, &quot;bca&quot;, &quot;BCa&quot;, &quot;AbC&quot;);\nList&lt;Set&lt;String&gt;&gt; lists = Stream.of(strs).groupBy(N::toLowerCase, Collectors.toSet()).map(Entry::getValue).toList();\n</code></pre>\n<p>Declaration： I'm the developer of abacus-common.</p>\n"}],"owner":{"account_id":7715574,"reputation":71,"user_id":5843467,"display_name":"Ilya"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5503,"favorite_count":0,"down_vote_count":2,"up_vote_count":7,"accepted_answer_id":35023634,"answer_count":3,"score":5,"last_activity_date":1674194585,"creation_date":1453839002,"question_id":35022976,"body_markdown":"I have a problem of collecting some list values to buckets. For example, let&#39;s assume I have a list of Strings:\r\n\r\n    List&lt;String&gt; strs = Arrays.asList(&quot;ABC&quot;, &quot;abc&quot;, &quot;bca&quot;, &quot;BCa&quot;, &quot;AbC&quot;);\r\n\r\nAnd I want to put the strings into set (or list) of sets, that contain only case-different strings, i.e. for example above it would be collection of two sets: `[[&quot;ABC&quot;, &quot;abc&quot;, &quot;AbC&quot;], [&quot;bca&quot;, &quot;BCa&quot;]]`\r\n\r\nSo help me please to write collector for this problem.\r\n\r\n    List&lt;Set&lt;String&gt;&gt; result = strs.stream()\r\n                    .collect(/* some collectors magic here */)","title":"Java streams collect list of objects to buckets","body":"<p>I have a problem of collecting some list values to buckets. For example, let's assume I have a list of Strings:</p>\n\n<pre><code>List&lt;String&gt; strs = Arrays.asList(\"ABC\", \"abc\", \"bca\", \"BCa\", \"AbC\");\n</code></pre>\n\n<p>And I want to put the strings into set (or list) of sets, that contain only case-different strings, i.e. for example above it would be collection of two sets: <code>[[\"ABC\", \"abc\", \"AbC\"], [\"bca\", \"BCa\"]]</code></p>\n\n<p>So help me please to write collector for this problem.</p>\n\n<pre><code>List&lt;Set&lt;String&gt;&gt; result = strs.stream()\n                .collect(/* some collectors magic here */)\n</code></pre>\n"},{"tags":["java","java-8","java-stream","collectors"],"comments":[{"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"score":0,"creation_date":1455812743,"post_id":35486826,"comment_id":58667281,"body_markdown":"I don&#39;t think it is possible. Based on javadoc &quot;A stream should be operated on (invoking an intermediate or terminal stream operation) only once. This rules out, for example, &quot;forked&quot; streams, where the same source feeds two or more pipelines, or multiple traversals of the same stream. A stream implementation may throw IllegalStateException if it detects that the stream is being reused.&quot;","body":"I don&#39;t think it is possible. Based on javadoc &quot;A stream should be operated on (invoking an intermediate or terminal stream operation) only once. This rules out, for example, &quot;forked&quot; streams, where the same source feeds two or more pipelines, or multiple traversals of the same stream. A stream implementation may throw IllegalStateException if it detects that the stream is being reused.&quot;"},{"owner":{"account_id":37136,"reputation":57822,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1455825638,"post_id":35486826,"comment_id":58675220,"body_markdown":"@Namban That&#39;s not what the question is about.","body":"@Namban That&#39;s not what the question is about."}],"answers":[{"comments":[{"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"score":1,"creation_date":1455813028,"post_id":35487026,"comment_id":58667492,"body_markdown":"Though this is one possible hacky way to do, I feel like we are sacrificing performance + readability for few lines of code, isn&#39;t it?","body":"Though this is one possible hacky way to do, I feel like we are sacrificing performance + readability for few lines of code, isn&#39;t it?"},{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":6,"creation_date":1455813144,"post_id":35487026,"comment_id":58667578,"body_markdown":"@Nambari I don&#39;t see why it is that &quot;hacky&quot;. It&#39;s just a map filter. If it&#39;s the explicit use of `AbstractMap.SimpleEntry`, you can create another `Pair` but I feel it is appropriate here since we&#39;re dealing with maps already.","body":"@Nambari I don&#39;t see why it is that &quot;hacky&quot;. It&#39;s just a map filter. If it&#39;s the explicit use of <code>AbstractMap.SimpleEntry</code>, you can create another <code>Pair</code> but I feel it is appropriate here since we&#39;re dealing with maps already."},{"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"score":1,"creation_date":1455813292,"post_id":35487026,"comment_id":58667675,"body_markdown":"I used &quot;hacky&quot; just because of &quot;temporary entry&quot; we are tracking, may not be correct term. I liked StreamEx solution.","body":"I used &quot;hacky&quot; just because of &quot;temporary entry&quot; we are tracking, may not be correct term. I liked StreamEx solution."},{"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"score":3,"creation_date":1455862853,"post_id":35487026,"comment_id":58688997,"body_markdown":"@Nambari, note that StreamEx does the same thing internally, it&#39;s just a syntactic sugar.","body":"@Nambari, note that StreamEx does the same thing internally, it&#39;s just a syntactic sugar."},{"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"score":0,"creation_date":1455891768,"post_id":35487026,"comment_id":58705870,"body_markdown":"@TagirValeev: Yes, I know.When API doesn&#39;t support, all these libraries just does the sytactic sugar.","body":"@TagirValeev: Yes, I know.When API doesn&#39;t support, all these libraries just does the sytactic sugar."},{"owner":{"account_id":7524187,"reputation":151,"user_id":5715047,"display_name":"Dhiraj Gandhi"},"score":0,"creation_date":1540294696,"post_id":35487026,"comment_id":92804182,"body_markdown":"In the map method that you used, what if we have multiple lines of logic in there and then we return a new AbstractMap.SimpleEntry ? This is throwing me a Null Pointer exception during Collect. Not sure why? Please help","body":"In the map method that you used, what if we have multiple lines of logic in there and then we return a new AbstractMap.SimpleEntry ? This is throwing me a Null Pointer exception during Collect. Not sure why? Please help"},{"owner":{"account_id":386394,"reputation":9197,"user_id":744133,"accept_rate":57,"display_name":"YoYo"},"score":0,"creation_date":1651088831,"post_id":35487026,"comment_id":127282329,"body_markdown":"See also https://stackoverflow.com/a/52426752/744133 for different use of a `Map.Entry`","body":"See also <a href=\"https://stackoverflow.com/a/52426752/744133\">stackoverflow.com/a/52426752/744133</a> for different use of a <code>Map.Entry</code>"}],"tags":[],"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"comment_count":7,"down_vote_count":0,"up_vote_count":77,"is_accepted":true,"score":77,"last_activity_date":1455813114,"creation_date":1455812853,"answer_id":35487026,"question_id":35486826,"body_markdown":"Yes, you can map each entry to another temporary entry that will hold the key and the parsed integer value. Then you can filter each entry based on their value.\r\n\r\n    Map&lt;String, Integer&gt; output =\r\n    \tinput.entrySet()\r\n    \t\t .stream()\r\n    \t\t .map(e -&gt; new AbstractMap.SimpleEntry&lt;&gt;(e.getKey(), Integer.valueOf(e.getValue())))\r\n    \t\t .filter(e -&gt; e.getValue() % 2 == 0)\r\n             .collect(Collectors.toMap(\r\n                 Map.Entry::getKey,\r\n                 Map.Entry::getValue\r\n             ));\r\n\r\nNote that I used `Integer.valueOf` instead of `parseInt` since we actually want a boxed `int`.\r\n\r\n&lt;hr&gt;\r\n\r\nIf you have the luxury to use the [StreamEx](https://github.com/amaembo/streamex) library, you can do it quite simply:\r\n\r\n    Map&lt;String, Integer&gt; output =\r\n        EntryStream.of(input).mapValues(Integer::valueOf).filterValues(v -&gt; v % 2 == 0).toMap();","title":"Transform and filter a Java Map with streams","body":"<p>Yes, you can map each entry to another temporary entry that will hold the key and the parsed integer value. Then you can filter each entry based on their value.</p>\n\n<pre><code>Map&lt;String, Integer&gt; output =\n    input.entrySet()\n         .stream()\n         .map(e -&gt; new AbstractMap.SimpleEntry&lt;&gt;(e.getKey(), Integer.valueOf(e.getValue())))\n         .filter(e -&gt; e.getValue() % 2 == 0)\n         .collect(Collectors.toMap(\n             Map.Entry::getKey,\n             Map.Entry::getValue\n         ));\n</code></pre>\n\n<p>Note that I used <code>Integer.valueOf</code> instead of <code>parseInt</code> since we actually want a boxed <code>int</code>.</p>\n\n<hr>\n\n<p>If you have the luxury to use the <a href=\"https://github.com/amaembo/streamex\">StreamEx</a> library, you can do it quite simply:</p>\n\n<pre><code>Map&lt;String, Integer&gt; output =\n    EntryStream.of(input).mapValues(Integer::valueOf).filterValues(v -&gt; v % 2 == 0).toMap();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1455823351,"post_id":35490465,"comment_id":58673943,"body_markdown":"Very close to [my first variant](http://stackoverflow.com/a/35490546/2711488)  but I don’t think that the use of `Optional` is a win here…","body":"Very close to <a href=\"http://stackoverflow.com/a/35490546/2711488\">my first variant</a>  but I don’t think that the use of <code>Optional</code> is a win here…"},{"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"score":0,"creation_date":1455824323,"post_id":35490465,"comment_id":58674457,"body_markdown":"@Holger it&#39;s just to keep everything in one line. Anyways, I hadn&#39;t seen your answer. The win (if we become very subtle), might be that `Optional.ofNullable()` allows for null keys.","body":"@Holger it&#39;s just to keep everything in one line. Anyways, I hadn&#39;t seen your answer. The win (if we become very subtle), might be that <code>Optional.ofNullable()</code> allows for null keys."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1455824469,"post_id":35490465,"comment_id":58674533,"body_markdown":"We were writing at the same time. The `Optional` chain actually isn’t one line (or a very large one) but a single expression. But starting with a certain expression size, the two curly braces needed for a statement lambda do not appear that costly anymore…","body":"We were writing at the same time. The <code>Optional</code> chain actually isn’t one line (or a very large one) but a single expression. But starting with a certain expression size, the two curly braces needed for a statement lambda do not appear that costly anymore…"}],"tags":[],"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1455824759,"creation_date":1455822959,"answer_id":35490465,"question_id":35486826,"body_markdown":"You could use the [`Stream.collect(supplier, accumulator, combiner)`][1] method to transform the entries and conditionally accumulate them:\r\n\r\n    Map&lt;String, Integer&gt; even = input.entrySet().stream().collect(\r\n        HashMap::new,\r\n        (m, e) -&gt; Optional.ofNullable(e)\r\n                .map(Map.Entry::getValue)\r\n                .map(Integer::valueOf)\r\n                .filter(i -&gt; i % 2 == 0)\r\n                .ifPresent(i -&gt; m.put(e.getKey(), i)),\r\n        Map::putAll);\r\n\r\n    System.out.println(even); // {a=1234, c=3456}\r\n\r\nHere, inside the accumulator, I&#39;m using `Optional` methods to apply both the transformation and the predicate, and, if the optional value is still present, I&#39;m adding it to the map being collected.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#collect-java.util.function.Supplier-java.util.function.BiConsumer-java.util.function.BiConsumer-","title":"Transform and filter a Java Map with streams","body":"<p>You could use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#collect-java.util.function.Supplier-java.util.function.BiConsumer-java.util.function.BiConsumer-\" rel=\"nofollow\"><code>Stream.collect(supplier, accumulator, combiner)</code></a> method to transform the entries and conditionally accumulate them:</p>\n\n<pre><code>Map&lt;String, Integer&gt; even = input.entrySet().stream().collect(\n    HashMap::new,\n    (m, e) -&gt; Optional.ofNullable(e)\n            .map(Map.Entry::getValue)\n            .map(Integer::valueOf)\n            .filter(i -&gt; i % 2 == 0)\n            .ifPresent(i -&gt; m.put(e.getKey(), i)),\n    Map::putAll);\n\nSystem.out.println(even); // {a=1234, c=3456}\n</code></pre>\n\n<p>Here, inside the accumulator, I'm using <code>Optional</code> methods to apply both the transformation and the predicate, and, if the optional value is still present, I'm adding it to the map being collected.</p>\n"},{"comments":[{"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"score":1,"creation_date":1455862967,"post_id":35490543,"comment_id":58689047,"body_markdown":"Your `&quot;Duplicate keys &quot; + a + &quot; &quot; + b` message is misleading: `a` and `b` are actually values, not keys.","body":"Your <code>&quot;Duplicate keys &quot; + a + &quot; &quot; + b</code> message is misleading: <code>a</code> and <code>b</code> are actually values, not keys."},{"owner":{"account_id":3835277,"reputation":15077,"user_id":3179759,"display_name":"Alex - GlassEditor.com"},"score":0,"creation_date":1455863324,"post_id":35490543,"comment_id":58689194,"body_markdown":"@TagirValeev yes, I noticed that, but it&#39;s the same way it&#39;s done in `Collectors` for the two argument version of `toMap` and changing it to what I had considered would put a scrollbar on the code box so I decided to leave it. I&#39;ll change it now since you also think it is misleading.","body":"@TagirValeev yes, I noticed that, but it&#39;s the same way it&#39;s done in <code>Collectors</code> for the two argument version of <code>toMap</code> and changing it to what I had considered would put a scrollbar on the code box so I decided to leave it. I&#39;ll change it now since you also think it is misleading."},{"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"score":1,"creation_date":1455864206,"post_id":35490543,"comment_id":58689581,"body_markdown":"Yes, this is known problem which is already fixed in [Java-9](https://bugs.openjdk.java.net/browse/JDK-8040892) (but not backported to Java-8). Java-9 displays colliding key as well as both values in the exception message.","body":"Yes, this is known problem which is already fixed in <a href=\"https://bugs.openjdk.java.net/browse/JDK-8040892\" rel=\"nofollow noreferrer\">Java-9</a> (but not backported to Java-8). Java-9 displays colliding key as well as both values in the exception message."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1455874842,"post_id":35490543,"comment_id":58695173,"body_markdown":"The funny thing about your unsafe hack is that the `groupingBy` collector does something similar behind the scenes which can come at a big surprise when you use a supplier creating map implementations enforcing type safety, e.g. `()-&gt;Collections.checkedMap(new HashMap&lt;&gt;(), …)`","body":"The funny thing about your unsafe hack is that the <code>groupingBy</code> collector does something similar behind the scenes which can come at a big surprise when you use a supplier creating map implementations enforcing type safety, e.g. <code>()-&gt;Collections.checkedMap(new HashMap&lt;&gt;(), …)</code>"}],"tags":[],"owner":{"account_id":3835277,"reputation":15077,"user_id":3179759,"display_name":"Alex - GlassEditor.com"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1455863343,"creation_date":1455823200,"answer_id":35490543,"question_id":35486826,"body_markdown":"Another way to do this is to remove the values you don&#39;t want from the transformed `Map`:\r\n\r\n\r\n\tMap&lt;String, Integer&gt; output = input.entrySet().stream()\r\n\t        .collect(Collectors.toMap(\r\n\t                Map.Entry::getKey,\r\n\t                e -&gt; Integer.parseInt(e.getValue()),\r\n\t                (a, b) -&gt; { throw new AssertionError(); },\r\n\t                HashMap::new\r\n\t         ));\r\n\toutput.values().removeIf(v -&gt; v % 2 != 0);\r\n\r\nThis assumes you want a mutable `Map` as the result, if not you can probably create an immutable one from `output`.\r\n\r\n---\r\n\r\nIf you are transforming the values into the same type and want to modify the `Map` in place this could be alot shorter with [`replaceAll`][1]:\r\n\r\n    input.replaceAll((k, v) -&gt; v + &quot; example&quot;);\r\n\tinput.values().removeIf(v -&gt; v.length() &gt; 10);\r\n\r\nThis also assumes `input` is mutable.\r\n\r\n---\r\n\r\nI don&#39;t recommend doing this because It will not work for all valid `Map` implementations and may stop working for `HashMap` in the future, but you can currently use `replaceAll` and cast a `HashMap` to change the type of the values:\r\n\r\n\r\n\t((Map)input).replaceAll((k, v) -&gt; Integer.parseInt((String)v));\r\n\tMap&lt;String, Integer&gt; output = (Map)input;\r\n\toutput.values().removeIf(v -&gt; v % 2 != 0);\r\n\r\nThis will also give you type safety warnings and if you try to retrieve a value from the `Map` through a reference of the old type like this:\r\n\r\n    String ex = input.get(&quot;a&quot;);\r\n\r\nIt will throw a `ClassCastException`.\r\n\r\n---\r\n\r\nYou could move the first transform part into a method to avoid the boilerplate if you expect to use it alot:\r\n\r\n\r\n\tpublic static &lt;K, VO, VN, M extends Map&lt;K, VN&gt;&gt; M transformValues(\r\n\t\t\tMap&lt;? extends K, ? extends VO&gt; old, \r\n\t\t\tFunction&lt;? super VO, ? extends VN&gt; f, \r\n            Supplier&lt;? extends M&gt; mapFactory){\r\n\t\treturn old.entrySet().stream().collect(Collectors.toMap(\r\n\t\t\t\tEntry::getKey, \r\n\t\t\t\te -&gt; f.apply(e.getValue()), \r\n\t\t\t\t(a, b) -&gt; { throw new IllegalStateException(&quot;Duplicate keys for values &quot; + a + &quot; &quot; + b); },\r\n\t\t\t\tmapFactory));\r\n\t}\r\n\r\nAnd use it like this:\r\n\r\n\r\n\t    Map&lt;String, Integer&gt; output = transformValues(input, Integer::parseInt, HashMap::new);\r\n\t    output.values().removeIf(v -&gt; v % 2 != 0);\r\n\r\nNote that the duplicate key exception can be thrown if, for example, the `old` `Map` is an `IdentityHashMap` and the `mapFactory` creates a `HashMap`.\r\n\r\n[1]:https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#replaceAll-java.util.function.BiFunction-","title":"Transform and filter a Java Map with streams","body":"<p>Another way to do this is to remove the values you don't want from the transformed <code>Map</code>:</p>\n\n<pre><code>Map&lt;String, Integer&gt; output = input.entrySet().stream()\n        .collect(Collectors.toMap(\n                Map.Entry::getKey,\n                e -&gt; Integer.parseInt(e.getValue()),\n                (a, b) -&gt; { throw new AssertionError(); },\n                HashMap::new\n         ));\noutput.values().removeIf(v -&gt; v % 2 != 0);\n</code></pre>\n\n<p>This assumes you want a mutable <code>Map</code> as the result, if not you can probably create an immutable one from <code>output</code>.</p>\n\n<hr>\n\n<p>If you are transforming the values into the same type and want to modify the <code>Map</code> in place this could be alot shorter with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#replaceAll-java.util.function.BiFunction-\" rel=\"nofollow\"><code>replaceAll</code></a>:</p>\n\n<pre><code>input.replaceAll((k, v) -&gt; v + \" example\");\ninput.values().removeIf(v -&gt; v.length() &gt; 10);\n</code></pre>\n\n<p>This also assumes <code>input</code> is mutable.</p>\n\n<hr>\n\n<p>I don't recommend doing this because It will not work for all valid <code>Map</code> implementations and may stop working for <code>HashMap</code> in the future, but you can currently use <code>replaceAll</code> and cast a <code>HashMap</code> to change the type of the values:</p>\n\n<pre><code>((Map)input).replaceAll((k, v) -&gt; Integer.parseInt((String)v));\nMap&lt;String, Integer&gt; output = (Map)input;\noutput.values().removeIf(v -&gt; v % 2 != 0);\n</code></pre>\n\n<p>This will also give you type safety warnings and if you try to retrieve a value from the <code>Map</code> through a reference of the old type like this:</p>\n\n<pre><code>String ex = input.get(\"a\");\n</code></pre>\n\n<p>It will throw a <code>ClassCastException</code>.</p>\n\n<hr>\n\n<p>You could move the first transform part into a method to avoid the boilerplate if you expect to use it alot:</p>\n\n<pre><code>public static &lt;K, VO, VN, M extends Map&lt;K, VN&gt;&gt; M transformValues(\n        Map&lt;? extends K, ? extends VO&gt; old, \n        Function&lt;? super VO, ? extends VN&gt; f, \n        Supplier&lt;? extends M&gt; mapFactory){\n    return old.entrySet().stream().collect(Collectors.toMap(\n            Entry::getKey, \n            e -&gt; f.apply(e.getValue()), \n            (a, b) -&gt; { throw new IllegalStateException(\"Duplicate keys for values \" + a + \" \" + b); },\n            mapFactory));\n}\n</code></pre>\n\n<p>And use it like this:</p>\n\n<pre><code>    Map&lt;String, Integer&gt; output = transformValues(input, Integer::parseInt, HashMap::new);\n    output.values().removeIf(v -&gt; v % 2 != 0);\n</code></pre>\n\n<p>Note that the duplicate key exception can be thrown if, for example, the <code>old</code> <code>Map</code> is an <code>IdentityHashMap</code> and the <code>mapFactory</code> creates a <code>HashMap</code>.</p>\n"},{"comments":[{"owner":{"account_id":4440133,"reputation":13373,"user_id":3614835,"accept_rate":67,"display_name":"Jeffrey Bosboom"},"score":0,"creation_date":1455825875,"post_id":35490546,"comment_id":58675363,"body_markdown":"I upvoted for your recommendation of a plain loop.  Just because you can use streams doesn&#39;t mean you should.","body":"I upvoted for your recommendation of a plain loop.  Just because you can use streams doesn&#39;t mean you should."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1455826174,"post_id":35490546,"comment_id":58675554,"body_markdown":"@Jeffrey Bosboom: yeah, the good old `for` loop is still alive. Though in the case of maps, I like to use the `Map.forEach` method for smaller loops just because `(k,v)-&gt;` is much nicer than declaring a `Map.Entry&lt;PossiblyLongKeyType,PossiblyLongValueType&gt;` variable and possibly another two variables for the actual key and value…","body":"@Jeffrey Bosboom: yeah, the good old <code>for</code> loop is still alive. Though in the case of maps, I like to use the <code>Map.forEach</code> method for smaller loops just because <code>(k,v)-&gt;</code> is much nicer than declaring a <code>Map.Entry&lt;PossiblyLongKeyType,PossiblyLongValueType&gt;</code> variable and possibly another two variables for the actual key and value…"}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":2,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1455823207,"creation_date":1455823207,"answer_id":35490546,"question_id":35486826,"body_markdown":"One way to solve the problem with much lesser overhead is to move the mapping and filtering down to the collector.\r\n\r\n    Map&lt;String, Integer&gt; output = input.entrySet().stream().collect(\r\n        HashMap::new,\r\n        (map,e)-&gt;{ int i=Integer.parseInt(e.getValue()); if(i%2==0) map.put(e.getKey(), i); },\r\n        Map::putAll);\r\nThis does not require the creation of intermediate `Map.Entry` instances and even better, will postpone the boxing of `int` values to the point when the values are actually added to the `Map`, which implies that values rejected by the filter are not boxed at all.\r\n\r\nCompared to what `Collectors.toMap(…)` does, the operation is also simplified by using `Map.put` rather than `Map.merge` as we know beforehand that we don’t have to handle key collisions here.\r\n\r\nHowever, as long as you don’t want to utilize parallel execution you may also consider the ordinary loop\r\n\r\n    HashMap&lt;String,Integer&gt; output=new HashMap&lt;&gt;();\r\n    for(Map.Entry&lt;String, String&gt; e: input.entrySet()) {\r\n        int i = Integer.parseInt(e.getValue());\r\n        if(i%2==0) output.put(e.getKey(), i);\r\n    }\r\n\r\nor the internal iteration variant:\r\n\r\n    HashMap&lt;String,Integer&gt; output=new HashMap&lt;&gt;();\r\n    input.forEach((k,v)-&gt;{ int i = Integer.parseInt(v); if(i%2==0) output.put(k, i); });\r\n\r\nthe latter being quite compact and at least on par with all other variants regarding single threaded performance.\r\n","title":"Transform and filter a Java Map with streams","body":"<p>One way to solve the problem with much lesser overhead is to move the mapping and filtering down to the collector.</p>\n\n<pre><code>Map&lt;String, Integer&gt; output = input.entrySet().stream().collect(\n    HashMap::new,\n    (map,e)-&gt;{ int i=Integer.parseInt(e.getValue()); if(i%2==0) map.put(e.getKey(), i); },\n    Map::putAll);\n</code></pre>\n\n<p>This does not require the creation of intermediate <code>Map.Entry</code> instances and even better, will postpone the boxing of <code>int</code> values to the point when the values are actually added to the <code>Map</code>, which implies that values rejected by the filter are not boxed at all.</p>\n\n<p>Compared to what <code>Collectors.toMap(…)</code> does, the operation is also simplified by using <code>Map.put</code> rather than <code>Map.merge</code> as we know beforehand that we don’t have to handle key collisions here.</p>\n\n<p>However, as long as you don’t want to utilize parallel execution you may also consider the ordinary loop</p>\n\n<pre><code>HashMap&lt;String,Integer&gt; output=new HashMap&lt;&gt;();\nfor(Map.Entry&lt;String, String&gt; e: input.entrySet()) {\n    int i = Integer.parseInt(e.getValue());\n    if(i%2==0) output.put(e.getKey(), i);\n}\n</code></pre>\n\n<p>or the internal iteration variant:</p>\n\n<pre><code>HashMap&lt;String,Integer&gt; output=new HashMap&lt;&gt;();\ninput.forEach((k,v)-&gt;{ int i = Integer.parseInt(v); if(i%2==0) output.put(k, i); });\n</code></pre>\n\n<p>the latter being quite compact and at least on par with all other variants regarding single threaded performance.</p>\n"},{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1455861553,"creation_date":1455859378,"answer_id":35497870,"question_id":35486826,"body_markdown":"[Guava][1]&#39;s your friend:\r\n\r\n    Map&lt;String, Integer&gt; output = Maps.filterValues(Maps.transformValues(input, Integer::valueOf), i -&gt; i % 2 == 0);\r\n\r\nKeep in mind that `output` is a transformed, filtered *view* of `input`. You&#39;ll need to make a copy if you want to operate on them independently.\r\n\r\n\r\n  [1]: http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/Maps.html","title":"Transform and filter a Java Map with streams","body":"<p><a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/Maps.html\" rel=\"noreferrer\">Guava</a>'s your friend:</p>\n\n<pre><code>Map&lt;String, Integer&gt; output = Maps.filterValues(Maps.transformValues(input, Integer::valueOf), i -&gt; i % 2 == 0);\n</code></pre>\n\n<p>Keep in mind that <code>output</code> is a transformed, filtered <em>view</em> of <code>input</code>. You'll need to make a copy if you want to operate on them independently.</p>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674194573,"creation_date":1480459164,"answer_id":40877095,"question_id":35486826,"body_markdown":"Here is code by [abacus-common][1]\r\n\r\n    \r\n    Map&lt;String, String&gt; input = N.asMap(&quot;a&quot;, &quot;1234&quot;, &quot;b&quot;, &quot;2345&quot;, &quot;c&quot;, &quot;3456&quot;, &quot;d&quot;, &quot;4567&quot;);\r\n\r\n    Map&lt;String, Integer&gt; output = Stream.of(input)\r\n                              .groupBy(e -&gt; e.getKey(), e -&gt; N.asInt(e.getValue()))\r\n                              .filter(e -&gt; e.getValue() % 2 == 0)\r\n                              .toMap(Map.Entry::getKey, Map.Entry::getValue);\r\n\r\n    N.println(output.toString());\r\n\r\nDeclaration： I&#39;m the developer of abacus-common.\r\n\r\n  [1]: https://github.com/landawn/abacus-common","title":"Transform and filter a Java Map with streams","body":"<p>Here is code by <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a></p>\n<pre><code>Map&lt;String, String&gt; input = N.asMap(&quot;a&quot;, &quot;1234&quot;, &quot;b&quot;, &quot;2345&quot;, &quot;c&quot;, &quot;3456&quot;, &quot;d&quot;, &quot;4567&quot;);\n\nMap&lt;String, Integer&gt; output = Stream.of(input)\n                          .groupBy(e -&gt; e.getKey(), e -&gt; N.asInt(e.getValue()))\n                          .filter(e -&gt; e.getValue() % 2 == 0)\n                          .toMap(Map.Entry::getKey, Map.Entry::getValue);\n\nN.println(output.toString());\n</code></pre>\n<p>Declaration： I'm the developer of abacus-common.</p>\n"}],"owner":{"account_id":2618797,"reputation":880,"user_id":2267316,"display_name":"Paul I"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87454,"favorite_count":0,"down_vote_count":0,"up_vote_count":63,"accepted_answer_id":35487026,"answer_count":6,"score":63,"last_activity_date":1674194573,"creation_date":1455812391,"question_id":35486826,"body_markdown":"I have a Java Map that I&#39;d like to transform and filter. As a trivial example, suppose I want to convert all values to Integers then remove the odd entries.\r\n\r\n    Map&lt;String, String&gt; input = new HashMap&lt;&gt;();\r\n    input.put(&quot;a&quot;, &quot;1234&quot;);\r\n    input.put(&quot;b&quot;, &quot;2345&quot;);\r\n    input.put(&quot;c&quot;, &quot;3456&quot;);\r\n    input.put(&quot;d&quot;, &quot;4567&quot;);\r\n\r\n    Map&lt;String, Integer&gt; output = input.entrySet().stream()\r\n            .collect(Collectors.toMap(\r\n                    Map.Entry::getKey,\r\n                    e -&gt; Integer.parseInt(e.getValue())\r\n            ))\r\n            .entrySet().stream()\r\n            .filter(e -&gt; e.getValue() % 2 == 0)\r\n            .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\r\n\r\n\r\n    System.out.println(output.toString());\r\n\r\nThis is correct and yields: `{a=1234, c=3456}`\r\n\r\nHowever, I can&#39;t help but wonder if there&#39;s a way to avoid calling `.entrySet().stream()` twice.\r\n\r\nIs there a way I can perform both transform and filter operations and call  `.collect()` only once at the end?","title":"Transform and filter a Java Map with streams","body":"<p>I have a Java Map that I'd like to transform and filter. As a trivial example, suppose I want to convert all values to Integers then remove the odd entries.</p>\n\n<pre><code>Map&lt;String, String&gt; input = new HashMap&lt;&gt;();\ninput.put(\"a\", \"1234\");\ninput.put(\"b\", \"2345\");\ninput.put(\"c\", \"3456\");\ninput.put(\"d\", \"4567\");\n\nMap&lt;String, Integer&gt; output = input.entrySet().stream()\n        .collect(Collectors.toMap(\n                Map.Entry::getKey,\n                e -&gt; Integer.parseInt(e.getValue())\n        ))\n        .entrySet().stream()\n        .filter(e -&gt; e.getValue() % 2 == 0)\n        .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\n\n\nSystem.out.println(output.toString());\n</code></pre>\n\n<p>This is correct and yields: <code>{a=1234, c=3456}</code></p>\n\n<p>However, I can't help but wonder if there's a way to avoid calling <code>.entrySet().stream()</code> twice.</p>\n\n<p>Is there a way I can perform both transform and filter operations and call  <code>.collect()</code> only once at the end?</p>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":1443334,"reputation":41522,"user_id":1362755,"display_name":"the8472"},"score":1,"creation_date":1437728136,"post_id":31602425,"comment_id":51162701,"body_markdown":"if this is a simplified scenario then maybe the actual scenario would be useful to come up with the solution. in the unlikely case it isn&#39;t: you can just filter by modulo 2 or 3.","body":"if this is a simplified scenario then maybe the actual scenario would be useful to come up with the solution. in the unlikely case it isn&#39;t: you can just filter by modulo 2 or 3."},{"owner":{"account_id":164059,"reputation":1169,"user_id":386587,"display_name":"Erk"},"score":0,"creation_date":1527787671,"post_id":31602425,"comment_id":88269392,"body_markdown":"Why a stream? Is the source a stream? Is the result always ending up in a list? Then transform the stream to an iterator and use an external int to keep track of the item number. If the source isn&#39;t a stream, use a for-loop. The only reason to use a stream here would be if the result should be a stream or the source is a stream...","body":"Why a stream? Is the source a stream? Is the result always ending up in a list? Then transform the stream to an iterator and use an external int to keep track of the item number. If the source isn&#39;t a stream, use a for-loop. The only reason to use a stream here would be if the result should be a stream or the source is a stream..."}],"answers":[{"comments":[{"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"score":4,"creation_date":1437724743,"post_id":31602610,"comment_id":51160716,"body_markdown":"It&#39;s not very difficult to create such collector for sequential streams, but correct parallel implementation would be very ineffective. So imho better to forget about collector-based solutions and use indices.","body":"It&#39;s not very difficult to create such collector for sequential streams, but correct parallel implementation would be very ineffective. So imho better to forget about collector-based solutions and use indices."},{"owner":{"account_id":1443334,"reputation":41522,"user_id":1362755,"display_name":"the8472"},"score":2,"creation_date":1437733319,"post_id":31602610,"comment_id":51165939,"body_markdown":"I think an efficient parallel implementation would be conditional on `ORDERED`, `SIZED` and `SUBSIZED` spliterator characteristics.","body":"I think an efficient parallel implementation would be conditional on <code>ORDERED</code>, <code>SIZED</code> and <code>SUBSIZED</code> spliterator characteristics."},{"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"score":2,"creation_date":1437749453,"post_id":31602610,"comment_id":51176782,"body_markdown":"@TagirValeev I&#39;ll add a collector just for possible interest of readers. I agree that it&#39;s pretty ineffective - using indices is much more straightforward.","body":"@TagirValeev I&#39;ll add a collector just for possible interest of readers. I agree that it&#39;s pretty ineffective - using indices is much more straightforward."},{"owner":{"account_id":118732,"reputation":14287,"user_id":309962,"accept_rate":70,"display_name":"Michel Kr&#228;mer"},"score":0,"creation_date":1437899599,"post_id":31602610,"comment_id":51216874,"body_markdown":"The indices solution solves my problem. Thanks! I&#39;ll accept this answer because you put the additional effort into creating the collector-based solution as well.","body":"The indices solution solves my problem. Thanks! I&#39;ll accept this answer because you put the additional effort into creating the collector-based solution as well."},{"owner":{"account_id":164059,"reputation":1169,"user_id":386587,"display_name":"Erk"},"score":3,"creation_date":1527787470,"post_id":31602610,"comment_id":88269309,"body_markdown":"`for (int i = 0; i &lt; list.size(); i += 3) ...`?","body":"<code>for (int i = 0; i &lt; list.size(); i += 3) ...</code>?"}],"tags":[],"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"comment_count":5,"down_vote_count":0,"up_vote_count":56,"is_accepted":true,"score":56,"last_activity_date":1620681053,"creation_date":1437714543,"answer_id":31602610,"question_id":31602425,"body_markdown":"One of the prime motivations for the introduction of Java streams was to allow parallel operations. This led to a requirement that operations on Java streams such as `map` and `filter` be independent of the position of the item in the stream or the items around it. This has the advantage of making it easy to split streams for parallel processing. It has the disadvantage of making certain operations more complex.\r\n\r\nSo the simple answer is that there is no easy way to do things such as take every nth item or map each item to the sum of all previous items.\r\n\r\nThe most straightforward way to implement your requirement is to use the index of the list you are streaming from:\r\n\r\n    List&lt;String&gt; list = ...;\r\n    return IntStream.range(0, list.size())\r\n        .filter(n -&gt; n % 3 == 0)\r\n        .mapToObj(list::get)\r\n        .toList();\r\n\r\nA more complicated solution would be to create a custom collector that collects every nth item into a list. \r\n\r\n    class EveryNth&lt;C&gt; {\r\n        private final int nth;\r\n        private final List&lt;List&lt;C&gt;&gt; lists = new ArrayList&lt;&gt;();\r\n        private int next = 0;\r\n\r\n        private EveryNth(int nth) {\r\n            this.nth = nth;\r\n            IntStream.range(0, nth).forEach(i -&gt; lists.add(new ArrayList&lt;&gt;()));\r\n        }\r\n\r\n        private void accept(C item) {\r\n            lists.get(next++ % nth).add(item);\r\n        }\r\n\r\n        private EveryNth&lt;C&gt; combine(EveryNth&lt;C&gt; other) {\r\n            other.lists.forEach(l -&gt; lists.get(next++ % nth).addAll(l));\r\n            next += other.next;\r\n            return this;\r\n        }\r\n\r\n        private List&lt;C&gt; getResult() {\r\n            return lists.get(0);\r\n        }\r\n\r\n        public static Collector&lt;Integer, ?, List&lt;Integer&gt;&gt; collector(int nth) {\r\n            return Collector.of(() -&gt; new EveryNth(nth), \r\n                EveryNth::accept, EveryNth::combine, EveryNth::getResult));\r\n    }\r\n\r\nThis could be used as follows:\r\n\r\n    Stream.of(&quot;Anne&quot;, &quot;Bill&quot;, &quot;Chris&quot;, &quot;Dean&quot;, &quot;Eve&quot;, &quot;Fred&quot;, &quot;George&quot;)\r\n        .parallel().collect(EveryNth.collector(3)).toList();\r\n\r\nWhich returns the result `[&quot;Anne&quot;, &quot;Dean&quot;, &quot;George&quot;]` as you would expect.\r\n\r\nThis is a very inefficient algorithm even with parallel processing. It splits all items it accepts into n lists and then just returns the first. Unfortunately it has to keep all items through the accumulation process because it&#39;s not until they are combined that it knows which list is the nth one. \r\n\r\nGiven the complexity and inefficiency of the collector solution I would definitely recommend sticking with the indices based solution above in preference to this if you can. If you aren&#39;t using a collection that supports `get` (e.g. you are passed a `Stream` rather than a `List`) then you will either need to collect the stream using `Collectors.toList` or use the `EveryNth` solution above.","title":"Take every nth element from a Java 8 stream","body":"<p>One of the prime motivations for the introduction of Java streams was to allow parallel operations. This led to a requirement that operations on Java streams such as <code>map</code> and <code>filter</code> be independent of the position of the item in the stream or the items around it. This has the advantage of making it easy to split streams for parallel processing. It has the disadvantage of making certain operations more complex.</p>\n<p>So the simple answer is that there is no easy way to do things such as take every nth item or map each item to the sum of all previous items.</p>\n<p>The most straightforward way to implement your requirement is to use the index of the list you are streaming from:</p>\n<pre><code>List&lt;String&gt; list = ...;\nreturn IntStream.range(0, list.size())\n    .filter(n -&gt; n % 3 == 0)\n    .mapToObj(list::get)\n    .toList();\n</code></pre>\n<p>A more complicated solution would be to create a custom collector that collects every nth item into a list.</p>\n<pre><code>class EveryNth&lt;C&gt; {\n    private final int nth;\n    private final List&lt;List&lt;C&gt;&gt; lists = new ArrayList&lt;&gt;();\n    private int next = 0;\n\n    private EveryNth(int nth) {\n        this.nth = nth;\n        IntStream.range(0, nth).forEach(i -&gt; lists.add(new ArrayList&lt;&gt;()));\n    }\n\n    private void accept(C item) {\n        lists.get(next++ % nth).add(item);\n    }\n\n    private EveryNth&lt;C&gt; combine(EveryNth&lt;C&gt; other) {\n        other.lists.forEach(l -&gt; lists.get(next++ % nth).addAll(l));\n        next += other.next;\n        return this;\n    }\n\n    private List&lt;C&gt; getResult() {\n        return lists.get(0);\n    }\n\n    public static Collector&lt;Integer, ?, List&lt;Integer&gt;&gt; collector(int nth) {\n        return Collector.of(() -&gt; new EveryNth(nth), \n            EveryNth::accept, EveryNth::combine, EveryNth::getResult));\n}\n</code></pre>\n<p>This could be used as follows:</p>\n<pre><code>Stream.of(&quot;Anne&quot;, &quot;Bill&quot;, &quot;Chris&quot;, &quot;Dean&quot;, &quot;Eve&quot;, &quot;Fred&quot;, &quot;George&quot;)\n    .parallel().collect(EveryNth.collector(3)).toList();\n</code></pre>\n<p>Which returns the result <code>[&quot;Anne&quot;, &quot;Dean&quot;, &quot;George&quot;]</code> as you would expect.</p>\n<p>This is a very inefficient algorithm even with parallel processing. It splits all items it accepts into n lists and then just returns the first. Unfortunately it has to keep all items through the accumulation process because it's not until they are combined that it knows which list is the nth one.</p>\n<p>Given the complexity and inefficiency of the collector solution I would definitely recommend sticking with the indices based solution above in preference to this if you can. If you aren't using a collection that supports <code>get</code> (e.g. you are passed a <code>Stream</code> rather than a <code>List</code>) then you will either need to collect the stream using <code>Collectors.toList</code> or use the <code>EveryNth</code> solution above.</p>\n"},{"comments":[{"owner":{"account_id":118732,"reputation":14287,"user_id":309962,"accept_rate":70,"display_name":"Michel Kr&#228;mer"},"score":0,"creation_date":1437899572,"post_id":31618340,"comment_id":51216871,"body_markdown":"Really interesting solution. Thanks!","body":"Really interesting solution. Thanks!"},{"owner":{"account_id":3700830,"reputation":335,"user_id":3080638,"display_name":"Emiel"},"score":3,"creation_date":1511869627,"post_id":31618340,"comment_id":82017984,"body_markdown":"Wouldn&#39;t `Stream.iterate(0, i -&gt; i + skip).limit(limit).map(list::get).collect(Collectors.toList());` bypass your wrapping problem? This would also be an optimization of @sprinter&#39;s answer since it wouldn&#39;t initialize and and filter all skipped values.","body":"Wouldn&#39;t <code>Stream.iterate(0, i -&gt; i + skip).limit(limit).map(list::get).collect(Collectors.toList(&zwnj;&#8203;));</code> bypass your wrapping problem? This would also be an optimization of @sprinter&#39;s answer since it wouldn&#39;t initialize and and filter all skipped values."},{"owner":{"account_id":9599886,"reputation":3726,"user_id":7127824,"accept_rate":100,"display_name":"techkuz"},"score":0,"creation_date":1569211414,"post_id":31618340,"comment_id":102508494,"body_markdown":"`value iterate is not a member of scala.collection.immutable.Stream[String]`","body":"<code>value iterate is not a member of scala.collection.immutable.Stream[String]</code>"},{"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"score":1,"creation_date":1569233399,"post_id":31618340,"comment_id":102516969,"body_markdown":"@techkuz this answer is about Java, I don&#39;t know Scala. I&#39;m using `java.util.stream.Stream.iterate`, which is a static method","body":"@techkuz this answer is about Java, I don&#39;t know Scala. I&#39;m using <code>java.util.stream.Stream.iterate</code>, which is a static method"}],"tags":[],"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"comment_count":4,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1511878675,"creation_date":1437766070,"answer_id":31618340,"question_id":31602425,"body_markdown":"**EDIT - Nov 28, 2017**\r\n\r\nAs user @Emiel suggests in the comments, the best way to do this would be to use `Stream.itearate` to drive the list through a sequence of indices:\r\n\r\n    List&lt;Integer&gt; list = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 10);\r\n    \r\n    int skip = 3;\r\n    int size = list.size();\r\n    // Limit to carefully avoid IndexOutOfBoundsException\r\n    int limit = size / skip + Math.min(size % skip, 1);\r\n    \r\n    List&lt;Integer&gt; result = Stream.iterate(0, i -&gt; i + skip)\r\n        .limit(limit)\r\n        .map(list::get)\r\n        .collect(Collectors.toList());\r\n    \r\n    System.out.println(result); // [1, 4, 7, 10]\r\n\r\nThis approach doesn&#39;t have the drawbacks of my previous answer, which comes below (I&#39;ve decided to keep it for historical reasons).\r\n\r\n----------\r\n\r\n\r\nAnother approach would be to use `Stream.iterate()` the following way:\r\n\r\n    List&lt;Integer&gt; list = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 10);\r\n\r\n    int skip = 3;\r\n    int size = list.size();\r\n    // Limit to carefully avoid IndexOutOfBoundsException\r\n    int limit = size / skip + Math.min(size % skip, 1);\r\n\r\n    List&lt;Integer&gt; result = Stream.iterate(list, l -&gt; l.subList(skip, l.size()))\r\n        .limit(limit)\r\n        .map(l -&gt; l.get(0))\r\n        .collect(Collectors.toList());\r\n\r\n    System.out.println(result); // [1, 4, 7, 10]\r\n\r\nThe idea is to create a stream of sublists, each one skipping the first `N` elements of the previous one (`N=3` in the example). \r\n\r\nWe have to limit the number of iterations so that we don&#39;t try to get a sublist whose bounds are out of range.\r\n\r\nThen, we map our sublists to their first element and collect our results. Keeping the first element of every sublist works as expected because every sublist&#39;s begin index is shifted `N` elements to the right, according to the source list.\r\n\r\nThis is also efficient, because the `List.sublist()` method returns a *view* of the original list, meaning that it doesn&#39;t create a new `List` for each iteration.\r\n\r\n\r\n----------\r\n\r\n\r\n**EDIT:** After a while, I&#39;ve learnt that it&#39;s much better to take either one of @sprinter&#39;s approachs, since `subList()` creates a wrapper around the original list. This means that the second list of the stream would be a wrapper of the first list, the third list of the stream would be a wrapper of the second list (which is already a wrapper!), and so on...\r\n\r\nWhile this might work for small to medium-sized lists, it should be noted that for a very large source list, many wrappers would be created. And this might end up being expensive, or even generating a `StackOverflowError`.\r\n\r\n","title":"Take every nth element from a Java 8 stream","body":"<p><strong>EDIT - Nov 28, 2017</strong></p>\n\n<p>As user @Emiel suggests in the comments, the best way to do this would be to use <code>Stream.itearate</code> to drive the list through a sequence of indices:</p>\n\n<pre><code>List&lt;Integer&gt; list = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 10);\n\nint skip = 3;\nint size = list.size();\n// Limit to carefully avoid IndexOutOfBoundsException\nint limit = size / skip + Math.min(size % skip, 1);\n\nList&lt;Integer&gt; result = Stream.iterate(0, i -&gt; i + skip)\n    .limit(limit)\n    .map(list::get)\n    .collect(Collectors.toList());\n\nSystem.out.println(result); // [1, 4, 7, 10]\n</code></pre>\n\n<p>This approach doesn't have the drawbacks of my previous answer, which comes below (I've decided to keep it for historical reasons).</p>\n\n<hr>\n\n<p>Another approach would be to use <code>Stream.iterate()</code> the following way:</p>\n\n<pre><code>List&lt;Integer&gt; list = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 10);\n\nint skip = 3;\nint size = list.size();\n// Limit to carefully avoid IndexOutOfBoundsException\nint limit = size / skip + Math.min(size % skip, 1);\n\nList&lt;Integer&gt; result = Stream.iterate(list, l -&gt; l.subList(skip, l.size()))\n    .limit(limit)\n    .map(l -&gt; l.get(0))\n    .collect(Collectors.toList());\n\nSystem.out.println(result); // [1, 4, 7, 10]\n</code></pre>\n\n<p>The idea is to create a stream of sublists, each one skipping the first <code>N</code> elements of the previous one (<code>N=3</code> in the example). </p>\n\n<p>We have to limit the number of iterations so that we don't try to get a sublist whose bounds are out of range.</p>\n\n<p>Then, we map our sublists to their first element and collect our results. Keeping the first element of every sublist works as expected because every sublist's begin index is shifted <code>N</code> elements to the right, according to the source list.</p>\n\n<p>This is also efficient, because the <code>List.sublist()</code> method returns a <em>view</em> of the original list, meaning that it doesn't create a new <code>List</code> for each iteration.</p>\n\n<hr>\n\n<p><strong>EDIT:</strong> After a while, I've learnt that it's much better to take either one of @sprinter's approachs, since <code>subList()</code> creates a wrapper around the original list. This means that the second list of the stream would be a wrapper of the first list, the third list of the stream would be a wrapper of the second list (which is already a wrapper!), and so on...</p>\n\n<p>While this might work for small to medium-sized lists, it should be noted that for a very large source list, many wrappers would be created. And this might end up being expensive, or even generating a <code>StackOverflowError</code>.</p>\n"},{"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1452156067,"creation_date":1452122391,"answer_id":34644711,"question_id":31602425,"body_markdown":"If you&#39;re willing to use a third party library, then [jOOλ][1] offers useful features like `zipWithIndex()`:\r\n\r\n### Every second element\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    System.out.println(\r\n    Seq.of(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)\r\n       .zipWithIndex()             // This produces a Tuple2(yourvalue, index)\r\n       .filter(t -&gt; t.v2 % 2 == 0) // Filter by the index\r\n       .map(t -&gt; t.v1)             // Remove the index again\r\n       .toList()\r\n    );\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    [1, 3, 5, 7, 9]\r\n\r\n### Every third element\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    System.out.println(\r\n    Seq.of(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)\r\n       .zipWithIndex()\r\n       .filter(t -&gt; t.v2 % 3 == 0)\r\n       .map(t -&gt; t.v1)\r\n       .toList()\r\n    );\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    [1, 4, 7, 10]\r\n\r\nDisclaimer: I work for the company behind jOOλ\r\n\r\n  [1]: https://github.com/jOOQ/jOOL","title":"Take every nth element from a Java 8 stream","body":"<p>If you're willing to use a third party library, then <a href=\"https://github.com/jOOQ/jOOL\" rel=\"noreferrer\">jOOλ</a> offers useful features like <code>zipWithIndex()</code>:</p>\n\n<h3>Every second element</h3>\n\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(\nSeq.of(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)\n   .zipWithIndex()             // This produces a Tuple2(yourvalue, index)\n   .filter(t -&gt; t.v2 % 2 == 0) // Filter by the index\n   .map(t -&gt; t.v1)             // Remove the index again\n   .toList()\n);\n</code></pre>\n\n<pre class=\"lang-none prettyprint-override\"><code>[1, 3, 5, 7, 9]\n</code></pre>\n\n<h3>Every third element</h3>\n\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(\nSeq.of(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)\n   .zipWithIndex()\n   .filter(t -&gt; t.v2 % 3 == 0)\n   .map(t -&gt; t.v1)\n   .toList()\n);\n</code></pre>\n\n<pre class=\"lang-none prettyprint-override\"><code>[1, 4, 7, 10]\n</code></pre>\n\n<p>Disclaimer: I work for the company behind jOOλ</p>\n"},{"tags":[],"owner":{"account_id":267972,"reputation":1556,"user_id":556469,"accept_rate":71,"display_name":"Xavier"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1457261039,"creation_date":1457261039,"answer_id":35825888,"question_id":31602425,"body_markdown":"You could also use `flatMap` with a custom function that skips items:\r\n\r\n    private &lt;T&gt; Function&lt;T, Stream&lt;T&gt;&gt; everyNth(int n) {\r\n      return new Function&lt;T, Stream&lt;T&gt;&gt;() {\r\n        int i = 0;\r\n\r\n        @Override\r\n        public Stream&lt;T&gt; apply(T t) {\r\n          if (i++ % n == 0) {\r\n            return Stream.of(t);\r\n          }\r\n          return Stream.empty();\r\n        }\r\n      };\r\n    }\r\n\r\n    @Test\r\n    public void everyNth() {\r\n      assertEquals(\r\n        Arrays.asList(1, 4, 7, 10),\r\n        IntStream.rangeClosed(1, 10).boxed()\r\n          .flatMap(everyNth(3))\r\n          .collect(Collectors.toList())\r\n      );\r\n    }\r\n\r\nIt has the advantage of working with non-indexed streams. But it&#39;s not a good idea to use it with parallel streams (maybe switch to an atomic integer for `i`).","title":"Take every nth element from a Java 8 stream","body":"<p>You could also use <code>flatMap</code> with a custom function that skips items:</p>\n\n<pre><code>private &lt;T&gt; Function&lt;T, Stream&lt;T&gt;&gt; everyNth(int n) {\n  return new Function&lt;T, Stream&lt;T&gt;&gt;() {\n    int i = 0;\n\n    @Override\n    public Stream&lt;T&gt; apply(T t) {\n      if (i++ % n == 0) {\n        return Stream.of(t);\n      }\n      return Stream.empty();\n    }\n  };\n}\n\n@Test\npublic void everyNth() {\n  assertEquals(\n    Arrays.asList(1, 4, 7, 10),\n    IntStream.rangeClosed(1, 10).boxed()\n      .flatMap(everyNth(3))\n      .collect(Collectors.toList())\n  );\n}\n</code></pre>\n\n<p>It has the advantage of working with non-indexed streams. But it's not a good idea to use it with parallel streams (maybe switch to an atomic integer for <code>i</code>).</p>\n"},{"comments":[{"owner":{"account_id":9553438,"reputation":3539,"user_id":7096763,"display_name":"MikaelF"},"score":2,"creation_date":1489283526,"post_id":35826170,"comment_id":72603207,"body_markdown":"This looks like it will break on parallel implementations. Others have solved this by using an `AtomicInteger` and `getAndIncrement()`.","body":"This looks like it will break on parallel implementations. Others have solved this by using an <code>AtomicInteger</code> and <code>getAndIncrement()</code>."}],"tags":[],"owner":{"display_name":"user4910279"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1457262863,"creation_date":1457262863,"answer_id":35826170,"question_id":31602425,"body_markdown":"Try this.\r\n\r\n        List&lt;Integer&gt; list = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 10);\r\n        int[] n = {0};\r\n        List&lt;Integer&gt; result = list.stream()\r\n            .filter(x -&gt; n[0]++ % 3 == 0)\r\n            .collect(Collectors.toList());\r\n        System.out.println(result);\r\n        // -&gt; [1, 4, 7, 10]\r\n","title":"Take every nth element from a Java 8 stream","body":"<p>Try this.</p>\n\n<pre><code>    List&lt;Integer&gt; list = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 10);\n    int[] n = {0};\n    List&lt;Integer&gt; result = list.stream()\n        .filter(x -&gt; n[0]++ % 3 == 0)\n        .collect(Collectors.toList());\n    System.out.println(result);\n    // -&gt; [1, 4, 7, 10]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674194558,"creation_date":1480447835,"answer_id":40874262,"question_id":31602425,"body_markdown":"Here is code by [abacus-common][1]\r\n    \r\n    Stream.of(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)\r\n            .filter(MutableInt.of(0), (e, idx) -&gt; idx.getAndDecrement() % 2 == 0)\r\n            .println();\r\n    // output: 1, 3, 5, 7, 9\r\n\r\nOr if index required:\r\n\r\n    Stream.of(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)\r\n          .indexed().filter(i -&gt; i.index() % 2 == 0).println();\r\n    // output: [0]=1, [2]=3, [4]=5, [6]=7, [8]=9\r\n\r\nDeclaration： I&#39;m the developer of abacus-common.\r\n\r\n  [1]: https://github.com/landawn/abacus-common","title":"Take every nth element from a Java 8 stream","body":"<p>Here is code by <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a></p>\n<pre><code>Stream.of(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)\n        .filter(MutableInt.of(0), (e, idx) -&gt; idx.getAndDecrement() % 2 == 0)\n        .println();\n// output: 1, 3, 5, 7, 9\n</code></pre>\n<p>Or if index required:</p>\n<pre><code>Stream.of(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)\n      .indexed().filter(i -&gt; i.index() % 2 == 0).println();\n// output: [0]=1, [2]=3, [4]=5, [6]=7, [8]=9\n</code></pre>\n<p>Declaration： I'm the developer of abacus-common.</p>\n"},{"tags":[],"owner":{"account_id":362885,"reputation":37276,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1522905042,"creation_date":1522904253,"answer_id":49664430,"question_id":31602425,"body_markdown":"Use Guava:\r\n\r\n    Streams\r\n        .mapWithIndex(stream, SimpleImmutableEntry::new)\r\n        .filter(entry -&gt; entry.getValue() % 3 == 0)\r\n        .map(Entry::getKey)\r\n        .collect(Collectors.toList());","title":"Take every nth element from a Java 8 stream","body":"<p>Use Guava:</p>\n\n<pre><code>Streams\n    .mapWithIndex(stream, SimpleImmutableEntry::new)\n    .filter(entry -&gt; entry.getValue() % 3 == 0)\n    .map(Entry::getKey)\n    .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15675758,"reputation":1,"user_id":11311057,"display_name":"mimi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554376837,"creation_date":1554375618,"answer_id":55514269,"question_id":31602425,"body_markdown":"Can you try this\r\n\r\n    employees.stream()\r\n    .filter(e -&gt; e.getName().charAt(0) == &#39;s&#39;)\r\n    .skip(n-1)\r\n    .findFirst()","title":"Take every nth element from a Java 8 stream","body":"<p>Can you try this</p>\n\n<pre><code>employees.stream()\n.filter(e -&gt; e.getName().charAt(0) == 's')\n.skip(n-1)\n.findFirst()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562745135,"creation_date":1562745135,"answer_id":56965890,"question_id":31602425,"body_markdown":"I&#39;m coming here from https://stackoverflow.com/questions/56954988/how-to-avoid-memory-overflow-using-high-throughput-java-i-o-stream-from-jdbc-con?noredirect=1#comment100468250_56954988 which suggests you are concerned about foot print.\r\n\r\nI therefore suggest the following solution which should have a small rate of garbage collection\r\n\r\n    int[] counter = new int[]{0};\r\n\r\n    list.stream()\r\n    .filter(l -&gt; counter[0]++ % n == 0)\r\n\r\nOf course you need to ensure that your stream isn&#39;t parallel.\r\n","title":"Take every nth element from a Java 8 stream","body":"<p>I'm coming here from <a href=\"https://stackoverflow.com/questions/56954988/how-to-avoid-memory-overflow-using-high-throughput-java-i-o-stream-from-jdbc-con?noredirect=1#comment100468250_56954988\">How to avoid memory overflow using high throughput JAVA I/O Stream from JDBC connectors?</a> which suggests you are concerned about foot print.</p>\n\n<p>I therefore suggest the following solution which should have a small rate of garbage collection</p>\n\n<pre><code>int[] counter = new int[]{0};\n\nlist.stream()\n.filter(l -&gt; counter[0]++ % n == 0)\n</code></pre>\n\n<p>Of course you need to ensure that your stream isn't parallel.</p>\n"}],"owner":{"account_id":118732,"reputation":14287,"user_id":309962,"accept_rate":70,"display_name":"Michel Kr&#228;mer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63245,"favorite_count":0,"down_vote_count":0,"up_vote_count":60,"accepted_answer_id":31602610,"answer_count":9,"score":60,"last_activity_date":1674194558,"creation_date":1437713451,"question_id":31602425,"body_markdown":"Suppose I have a list like this :\r\n\r\n    [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\r\n\r\nIs it possible to use a Java 8 stream to take every second element from this list to obtain the following?\r\n\r\n    [1, 3, 5, 7, 9]\r\n\r\nOr maybe even every third element?\r\n\r\n    [1, 4, 7, 10]\r\n\r\nBasically, I&#39;m looking for a function to take every nth element of a stream:\r\n\r\n\r\n    List&lt;Integer&gt; list = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 10);\r\n    List&lt;Integer&gt; list2 = list.stream().takenth(3).collect(Collectors.toList());\r\n    System.out.println(list2);\r\n    // =&gt; [1, 4, 7, 10]\r\n","title":"Take every nth element from a Java 8 stream","body":"<p>Suppose I have a list like this :</p>\n\n<pre><code>[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\n</code></pre>\n\n<p>Is it possible to use a Java 8 stream to take every second element from this list to obtain the following?</p>\n\n<pre><code>[1, 3, 5, 7, 9]\n</code></pre>\n\n<p>Or maybe even every third element?</p>\n\n<pre><code>[1, 4, 7, 10]\n</code></pre>\n\n<p>Basically, I'm looking for a function to take every nth element of a stream:</p>\n\n<pre><code>List&lt;Integer&gt; list = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 10);\nList&lt;Integer&gt; list2 = list.stream().takenth(3).collect(Collectors.toList());\nSystem.out.println(list2);\n// =&gt; [1, 4, 7, 10]\n</code></pre>\n"},{"tags":["java","xml"],"answers":[{"tags":[],"owner":{"account_id":88112,"reputation":51921,"user_id":243943,"accept_rate":89,"display_name":"npinti"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1314172809,"creation_date":1314172809,"answer_id":7172240,"question_id":7172212,"body_markdown":"You can use [XStream][1] which is very easy and straightforward as shown in [this][2] 2 minute tutorial.\r\n\r\n\r\n  [1]: http://xstream.codehaus.org/\r\n  [2]: http://xstream.codehaus.org/tutorial.html","title":"How to convert a Java object to an XML string, and conversely convert XML to a Java object?","body":"<p>You can use <a href=\"http://xstream.codehaus.org/\" rel=\"nofollow\">XStream</a> which is very easy and straightforward as shown in <a href=\"http://xstream.codehaus.org/tutorial.html\" rel=\"nofollow\">this</a> 2 minute tutorial.</p>\n"},{"comments":[{"owner":{"account_id":162425,"reputation":147999,"user_id":383861,"display_name":"bdoughan"},"score":1,"creation_date":1314180653,"post_id":7172244,"comment_id":8610477,"body_markdown":"Have you tried JAXB?  Here are a couple of articles I wrote comparing with Simple (http://blog.bdoughan.com/2010/10/how-does-jaxb-compare-to-simple.html), and XStream (http://blog.bdoughan.com/2010/10/how-does-jaxb-compare-to-xstream.html).","body":"Have you tried JAXB?  Here are a couple of articles I wrote comparing with Simple (<a href=\"http://blog.bdoughan.com/2010/10/how-does-jaxb-compare-to-simple.html\" rel=\"nofollow noreferrer\">blog.bdoughan.com/2010/10/how-does-jaxb-compare-to-simple.h&zwnj;&#8203;tml</a>), and XStream (<a href=\"http://blog.bdoughan.com/2010/10/how-does-jaxb-compare-to-xstream.html\" rel=\"nofollow noreferrer\">blog.bdoughan.com/2010/10/how-does-jaxb-compare-to-xstream.&zwnj;&#8203;html</a>)."},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":0,"creation_date":1314180937,"post_id":7172244,"comment_id":8610560,"body_markdown":"@Blaise I was going to add JAXB, but bigGuy had already done that. Personally, I wouldn&#39;t use any of these, XML mapping is just not my thing :-)","body":"@Blaise I was going to add JAXB, but bigGuy had already done that. Personally, I wouldn&#39;t use any of these, XML mapping is just not my thing :-)"}],"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1314173264,"creation_date":1314172825,"answer_id":7172244,"question_id":7172212,"body_markdown":"Any of these will do:\r\n\r\n - [XStream][1]\r\n - [XMLBeans][2]\r\n - [Simple][3]\r\n\r\nOr just plain JDK [`XMLEncoder`][4] / [`XMLDecoder`][5] ([introductory article][6]), but that&#39;s a royal pain in the donkey if you ask me.\r\n\r\n\r\n  [1]: http://xstream.codehaus.org/\r\n  [2]: http://xmlbeans.apache.org/\r\n  [3]: http://simple.sourceforge.net/\r\n  [4]: http://download.oracle.com/javase/6/docs/api/java/beans/XMLEncoder.html\r\n  [5]: http://download.oracle.com/javase/6/docs/api/java/beans/XMLDecoder.html\r\n  [6]: http://java.sun.com/products/jfc/tsc/articles/persistence3/","title":"How to convert a Java object to an XML string, and conversely convert XML to a Java object?","body":"<p>Any of these will do:</p>\n\n<ul>\n<li><a href=\"http://xstream.codehaus.org/\" rel=\"nofollow\">XStream</a></li>\n<li><a href=\"http://xmlbeans.apache.org/\" rel=\"nofollow\">XMLBeans</a></li>\n<li><a href=\"http://simple.sourceforge.net/\" rel=\"nofollow\">Simple</a></li>\n</ul>\n\n<p>Or just plain JDK <a href=\"http://download.oracle.com/javase/6/docs/api/java/beans/XMLEncoder.html\" rel=\"nofollow\"><code>XMLEncoder</code></a> / <a href=\"http://download.oracle.com/javase/6/docs/api/java/beans/XMLDecoder.html\" rel=\"nofollow\"><code>XMLDecoder</code></a> (<a href=\"http://java.sun.com/products/jfc/tsc/articles/persistence3/\" rel=\"nofollow\">introductory article</a>), but that's a royal pain in the donkey if you ask me.</p>\n"},{"tags":[],"owner":{"account_id":394499,"reputation":1752,"user_id":756968,"accept_rate":73,"display_name":"bigGuy"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1314173358,"creation_date":1314173127,"answer_id":7172303,"question_id":7172212,"body_markdown":"Also, [JAXB][1]. ([Hello World example][2])\r\n\r\n\r\n  [1]: http://jaxb.java.net/\r\n  [2]: http://jaxb.java.net/tutorial/section_1_3-Hello-World.html#Hello%20World","title":"How to convert a Java object to an XML string, and conversely convert XML to a Java object?","body":"<p>Also, <a href=\"http://jaxb.java.net/\" rel=\"nofollow\">JAXB</a>. (<a href=\"http://jaxb.java.net/tutorial/section_1_3-Hello-World.html#Hello%20World\" rel=\"nofollow\">Hello World example</a>)</p>\n"},{"tags":[],"owner":{"account_id":162425,"reputation":147999,"user_id":383861,"display_name":"bdoughan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1324402450,"creation_date":1314180296,"answer_id":7173634,"question_id":7172212,"body_markdown":"**Note:** I&#39;m the [EclipseLink JAXB (MOXy)][1] lead, and a member of the JAXB 2 ([JSR-222][2]) expert group.\r\n\r\n&lt;hr/&gt;\r\n\r\n&gt; How to convert a Java object to an XML string, and conversely convert\r\n&gt; XML to a Java object?\r\n\r\nWith JAXB you can marshal an Object to a `java.io.StringWriter` to produce a `String`, and leverage a `java.io.StringReader` to unmarshal an Object from a `String`.\r\n\r\n  - http://blog.bdoughan.com/2011/08/jaxb-and-java-io-files-streams-readers.html\r\n\r\n&lt;hr/&gt;\r\n\r\n&gt; then I want to store this object in the database\r\n\r\nThe **Java EE** solution is to use a **JPA** implementation (TopLink/[EclipseLink][3], Hibernate, Open JPA, etc.) to store the object in the database, and a **JAXB** implementation (TopLink/[EclipseLink][4], Metro, Apache JaxMe, etc.) to convert the object to/from XML.\r\n\r\nSince you will be persisting your objects to a database you need to be sure that your object-to-XML mapping (OXM) solution takes the following things into consideration:\r\n\r\n**Bidirectional Relationships**\r\n\r\nObject models used with object-to-relational mapping (ORM) solutions often have bidirectional relationships. You need to ensure this doesn&#39;t send your OXM layer into a loop. **MOXy JAXB** for example has the `@XmlInverseReference` extension to handle this:\r\n\r\n  - http://blog.bdoughan.com/2010/07/jpa-entities-to-xml-bidirectional.html\r\n  - http://blog.bdoughan.com/2010/08/creating-restful-web-service-part-35.html\r\n\r\n**Lazy Relationships**\r\n\r\nMany ORM solutions offer a mechanism to to have relationships between objects lazily realized. Some like TopLink/EclipseLink modify the Java bytecodes to add the logic to the &quot;get&quot; methods. You will need an OXM solution that is able to leverage both fields and properties.  In MOXy or any JAXB implementation this is done via `@XmlAccessorType`:\r\n\r\n  - http://blog.bdoughan.com/2011/06/using-jaxbs-xmlaccessortype-to.html\r\n  - https://stackoverflow.com/questions/6838323/moxy-jaxb-marshaling-and-hibernate-proxy-objects/6847497#6847497\r\n\r\n**Compound Keys/Embedded Key Classes**\r\n\r\nDatabase tables often have compound keys. If these keys will also be leveraged for intra-document references then you will need an OXM solution that can handle it. MOXy offers `@XmlKey` and `@XmlJoinNodes`:\r\n\r\n  - http://wiki.eclipse.org/EclipseLink/UserGuide/MOXy/Relationships/Shared_Reference/Keys_and_Foreign_Keys/Composite_Key\r\n\r\n  [1]: http://www.eclipse.org/eclipselink/moxy.php\r\n  [2]: http://jcp.org/en/jsr/detail?id=222\r\n  [3]: http://www.eclipse.org/eclipselink/jpa.php\r\n  [4]: http://www.eclipse.org/eclipselink/moxy.php\r\n\r\n\r\n","title":"How to convert a Java object to an XML string, and conversely convert XML to a Java object?","body":"<p><strong>Note:</strong> I'm the <a href=\"http://www.eclipse.org/eclipselink/moxy.php\" rel=\"nofollow noreferrer\">EclipseLink JAXB (MOXy)</a> lead, and a member of the JAXB 2 (<a href=\"http://jcp.org/en/jsr/detail?id=222\" rel=\"nofollow noreferrer\">JSR-222</a>) expert group.</p>\n\n<hr/>\n\n<blockquote>\n  <p>How to convert a Java object to an XML string, and conversely convert\n  XML to a Java object?</p>\n</blockquote>\n\n<p>With JAXB you can marshal an Object to a <code>java.io.StringWriter</code> to produce a <code>String</code>, and leverage a <code>java.io.StringReader</code> to unmarshal an Object from a <code>String</code>.</p>\n\n<ul>\n<li><a href=\"http://blog.bdoughan.com/2011/08/jaxb-and-java-io-files-streams-readers.html\" rel=\"nofollow noreferrer\">http://blog.bdoughan.com/2011/08/jaxb-and-java-io-files-streams-readers.html</a></li>\n</ul>\n\n<hr/>\n\n<blockquote>\n  <p>then I want to store this object in the database</p>\n</blockquote>\n\n<p>The <strong>Java EE</strong> solution is to use a <strong>JPA</strong> implementation (TopLink/<a href=\"http://www.eclipse.org/eclipselink/jpa.php\" rel=\"nofollow noreferrer\">EclipseLink</a>, Hibernate, Open JPA, etc.) to store the object in the database, and a <strong>JAXB</strong> implementation (TopLink/<a href=\"http://www.eclipse.org/eclipselink/moxy.php\" rel=\"nofollow noreferrer\">EclipseLink</a>, Metro, Apache JaxMe, etc.) to convert the object to/from XML.</p>\n\n<p>Since you will be persisting your objects to a database you need to be sure that your object-to-XML mapping (OXM) solution takes the following things into consideration:</p>\n\n<p><strong>Bidirectional Relationships</strong></p>\n\n<p>Object models used with object-to-relational mapping (ORM) solutions often have bidirectional relationships. You need to ensure this doesn't send your OXM layer into a loop. <strong>MOXy JAXB</strong> for example has the <code>@XmlInverseReference</code> extension to handle this:</p>\n\n<ul>\n<li><a href=\"http://blog.bdoughan.com/2010/07/jpa-entities-to-xml-bidirectional.html\" rel=\"nofollow noreferrer\">http://blog.bdoughan.com/2010/07/jpa-entities-to-xml-bidirectional.html</a></li>\n<li><a href=\"http://blog.bdoughan.com/2010/08/creating-restful-web-service-part-35.html\" rel=\"nofollow noreferrer\">http://blog.bdoughan.com/2010/08/creating-restful-web-service-part-35.html</a></li>\n</ul>\n\n<p><strong>Lazy Relationships</strong></p>\n\n<p>Many ORM solutions offer a mechanism to to have relationships between objects lazily realized. Some like TopLink/EclipseLink modify the Java bytecodes to add the logic to the \"get\" methods. You will need an OXM solution that is able to leverage both fields and properties.  In MOXy or any JAXB implementation this is done via <code>@XmlAccessorType</code>:</p>\n\n<ul>\n<li><a href=\"http://blog.bdoughan.com/2011/06/using-jaxbs-xmlaccessortype-to.html\" rel=\"nofollow noreferrer\">http://blog.bdoughan.com/2011/06/using-jaxbs-xmlaccessortype-to.html</a></li>\n<li><a href=\"https://stackoverflow.com/questions/6838323/moxy-jaxb-marshaling-and-hibernate-proxy-objects/6847497#6847497\">(moxy) jaxb marshaling and hibernate proxy objects</a></li>\n</ul>\n\n<p><strong>Compound Keys/Embedded Key Classes</strong></p>\n\n<p>Database tables often have compound keys. If these keys will also be leveraged for intra-document references then you will need an OXM solution that can handle it. MOXy offers <code>@XmlKey</code> and <code>@XmlJoinNodes</code>:</p>\n\n<ul>\n<li><a href=\"http://wiki.eclipse.org/EclipseLink/UserGuide/MOXy/Relationships/Shared_Reference/Keys_and_Foreign_Keys/Composite_Key\" rel=\"nofollow noreferrer\">http://wiki.eclipse.org/EclipseLink/UserGuide/MOXy/Relationships/Shared_Reference/Keys_and_Foreign_Keys/Composite_Key</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674194543,"creation_date":1480444495,"answer_id":40873260,"question_id":7172212,"body_markdown":"Here is the simplest and fastest code by [abacus-common][1]:\r\n    \r\n    Account account = N.fill(Account.class);\r\n    String xml = N.toXML(account);\r\n    N.println(xml); // &lt;account&gt;&lt;id&gt;6264304841028291043&lt;/id&gt;&lt;gui&gt;33acdcbe-fd5b-49&lt;/gui&gt;&lt;emailAddress&gt;19c1400a-97ae-43&lt;/emailAddress&gt;&lt;firstName&gt;67922557-8bb4-47&lt;/firstName&gt;&lt;middleName&gt;7ef242c9-8ddf-48&lt;/middleName&gt;&lt;lastName&gt;1ec6c731-a3fd-42&lt;/lastName&gt;&lt;birthDate&gt;1480444055841&lt;/birthDate&gt;&lt;status&gt;1444930636&lt;/status&gt;&lt;lastUpdateTime&gt;1480444055841&lt;/lastUpdateTime&gt;&lt;createTime&gt;1480444055841&lt;/createTime&gt;&lt;/account&gt;\r\n    Account account2 = N.fromXML(Account.class, xml);\r\n    assertEquals(account, account2);\r\n\r\nDeclaration： I&#39;m the developer of abacus-common.\r\n\r\n  [1]: https://github.com/landawn/abacus-common","title":"How to convert a Java object to an XML string, and conversely convert XML to a Java object?","body":"<p>Here is the simplest and fastest code by <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a>:</p>\n<pre><code>Account account = N.fill(Account.class);\nString xml = N.toXML(account);\nN.println(xml); // &lt;account&gt;&lt;id&gt;6264304841028291043&lt;/id&gt;&lt;gui&gt;33acdcbe-fd5b-49&lt;/gui&gt;&lt;emailAddress&gt;19c1400a-97ae-43&lt;/emailAddress&gt;&lt;firstName&gt;67922557-8bb4-47&lt;/firstName&gt;&lt;middleName&gt;7ef242c9-8ddf-48&lt;/middleName&gt;&lt;lastName&gt;1ec6c731-a3fd-42&lt;/lastName&gt;&lt;birthDate&gt;1480444055841&lt;/birthDate&gt;&lt;status&gt;1444930636&lt;/status&gt;&lt;lastUpdateTime&gt;1480444055841&lt;/lastUpdateTime&gt;&lt;createTime&gt;1480444055841&lt;/createTime&gt;&lt;/account&gt;\nAccount account2 = N.fromXML(Account.class, xml);\nassertEquals(account, account2);\n</code></pre>\n<p>Declaration： I'm the developer of abacus-common.</p>\n"}],"owner":{"account_id":540802,"reputation":45,"user_id":909128,"display_name":"tsaowe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7743,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":5,"score":2,"last_activity_date":1674194543,"creation_date":1314172646,"question_id":7172212,"body_markdown":"Assume a Java object:\r\n\r\n    Object obj = new Object();\r\n\r\nHow do I store this object in the database so to persist this status, and after I store it, it should be easy to convert to a Java object like when I store it?\r\n","title":"How to convert a Java object to an XML string, and conversely convert XML to a Java object?","body":"<p>Assume a Java object:</p>\n\n<pre><code>Object obj = new Object();\n</code></pre>\n\n<p>How do I store this object in the database so to persist this status, and after I store it, it should be easy to convert to a Java object like when I store it?</p>\n"},{"tags":["java","jaxb","marshalling"],"answers":[{"tags":[],"owner":{"account_id":104434,"reputation":2853,"user_id":279218,"accept_rate":74,"display_name":"saugata"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1277891669,"creation_date":1277891669,"answer_id":3148140,"question_id":3147905,"body_markdown":"Pass a StringWriter object as argument to [marshal method][1] of Marshaller\r\n\r\n\r\n  [1]:  http://java.sun.com/webservices/docs/1.6/api/javax/xml/bind/Marshaller.html#marshal%28java.lang.Object,%20java.io.Writer%29","title":"Convert Java Object into a XML String using jaxb","body":"<p>Pass a StringWriter object as argument to <a href=\"http://java.sun.com/webservices/docs/1.6/api/javax/xml/bind/Marshaller.html#marshal%28java.lang.Object,%20java.io.Writer%29\" rel=\"noreferrer\">marshal method</a> of Marshaller</p>\n"},{"comments":[{"owner":{"account_id":8528184,"reputation":5557,"user_id":6392939,"display_name":"RamenChef"},"score":0,"creation_date":1480445115,"post_id":40873171,"comment_id":68962030,"body_markdown":"Care to elaborate?","body":"Care to elaborate?"},{"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"score":0,"creation_date":1480447069,"post_id":40873171,"comment_id":68963137,"body_markdown":"Simplicity: It&#39;s easy to serialize an java Object to String/File/OuputStream/Writer or deserialize from String/File/InputStream/Reader. please refer to the Java API docs Parser[http://www.landawn.com/api-docs/com/landawn/abacus/parser/Parser.html]: in above","body":"Simplicity: It&#39;s easy to serialize an java Object to String/File/OuputStream/Writer or deserialize from String/File/InputStream/Reader. please refer to the Java API docs Parser[<a href=\"http://www.landawn.com/api-docs/com/landawn/abacus/parser/Parser.html]\" rel=\"nofollow noreferrer\">landawn.com/api-docs/com/landawn/abacus/parser/Parser&zwnj;&#8203;.html]</a>: in above"},{"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"score":0,"creation_date":1480447345,"post_id":40873171,"comment_id":68963306,"body_markdown":"Performance: it&#39;s about 3 to 10+ times faster than JAXB provided in JDK and XStream, depending on the size of xml/Java Object. and about 20% faster thank Jackson XML. i will update the comments about performance in the answer.","body":"Performance: it&#39;s about 3 to 10+ times faster than JAXB provided in JDK and XStream, depending on the size of xml/Java Object. and about 20% faster thank Jackson XML. i will update the comments about performance in the answer."}],"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674194528,"creation_date":1480444166,"answer_id":40873171,"question_id":3147905,"body_markdown":"Here is the simple code by [abacus-common][1]\r\n\r\n    \r\n    Account account = N.fill(Account.class);\r\n    String xml = N.toXML(account);\r\n    N.println(xml); // &lt;account&gt;&lt;id&gt;6264304841028291043&lt;/id&gt;&lt;gui&gt;33acdcbe-fd5b-49&lt;/gui&gt;&lt;emailAddress&gt;19c1400a-97ae-43&lt;/emailAddress&gt;&lt;firstName&gt;67922557-8bb4-47&lt;/firstName&gt;&lt;middleName&gt;7ef242c9-8ddf-48&lt;/middleName&gt;&lt;lastName&gt;1ec6c731-a3fd-42&lt;/lastName&gt;&lt;birthDate&gt;1480444055841&lt;/birthDate&gt;&lt;status&gt;1444930636&lt;/status&gt;&lt;lastUpdateTime&gt;1480444055841&lt;/lastUpdateTime&gt;&lt;createTime&gt;1480444055841&lt;/createTime&gt;&lt;/account&gt;\r\n    Account account2 = N.fromXML(Account.class, xml);\r\n    assertEquals(account, account2);\r\n\r\nDeclaration： I&#39;m the developer of abacus-common.\r\n\r\n  [1]: https://github.com/landawn/abacus-common","title":"Convert Java Object into a XML String using jaxb","body":"<p>Here is the simple code by <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a></p>\n<pre><code>Account account = N.fill(Account.class);\nString xml = N.toXML(account);\nN.println(xml); // &lt;account&gt;&lt;id&gt;6264304841028291043&lt;/id&gt;&lt;gui&gt;33acdcbe-fd5b-49&lt;/gui&gt;&lt;emailAddress&gt;19c1400a-97ae-43&lt;/emailAddress&gt;&lt;firstName&gt;67922557-8bb4-47&lt;/firstName&gt;&lt;middleName&gt;7ef242c9-8ddf-48&lt;/middleName&gt;&lt;lastName&gt;1ec6c731-a3fd-42&lt;/lastName&gt;&lt;birthDate&gt;1480444055841&lt;/birthDate&gt;&lt;status&gt;1444930636&lt;/status&gt;&lt;lastUpdateTime&gt;1480444055841&lt;/lastUpdateTime&gt;&lt;createTime&gt;1480444055841&lt;/createTime&gt;&lt;/account&gt;\nAccount account2 = N.fromXML(Account.class, xml);\nassertEquals(account, account2);\n</code></pre>\n<p>Declaration： I'm the developer of abacus-common.</p>\n"}],"owner":{"account_id":132437,"reputation":7807,"user_id":333125,"accept_rate":54,"display_name":"Mithun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4456,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1674194528,"creation_date":1277889471,"question_id":3147905,"body_markdown":"I would like to convert a Java Object to a String containing the marshaled XML data. One of the ways I could find was to first marshal to a File and then read the file using BufferedReader to convert into a String. I feel this may not be the most efficient way, because the IO operations are performed twice (Once during marshaling and the second time during the conversion of file content into String)\r\n\r\nCould anyone please suggest any better approach?","title":"Convert Java Object into a XML String using jaxb","body":"<p>I would like to convert a Java Object to a String containing the marshaled XML data. One of the ways I could find was to first marshal to a File and then read the file using BufferedReader to convert into a String. I feel this may not be the most efficient way, because the IO operations are performed twice (Once during marshaling and the second time during the conversion of file content into String)</p>\n\n<p>Could anyone please suggest any better approach?</p>\n"},{"tags":["java","spring","jar","install4j"],"owner":{"account_id":7666865,"reputation":17,"user_id":5810357,"display_name":"sisir reddy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674193303,"creation_date":1674193303,"question_id":75180162,"body_markdown":"I have a signed jar while starting the application it is taking time to verify the signed jar. I would like to skip jar verification with the following command &quot;java -noverify -jar your_file.jar&quot; is there a way to add &quot;-noverify&quot; while running the jar","title":"How to run jar file with add on commands in install4j","body":"<p>I have a signed jar while starting the application it is taking time to verify the signed jar. I would like to skip jar verification with the following command &quot;java -noverify -jar your_file.jar&quot; is there a way to add &quot;-noverify&quot; while running the jar</p>\n"},{"tags":["java","android","android-layout","kotlin","android-custom-view"],"comments":[{"owner":{"account_id":8984727,"reputation":2962,"user_id":6698642,"display_name":"shriakhilc"},"score":0,"creation_date":1539621543,"post_id":52820946,"comment_id":92559341,"body_markdown":"I&#39;ve suggested an edit to improve the formatting of your post. However, most of your library links aren&#39;t valid URLs. Please replace them with the correct ones, so that people can help better.","body":"I&#39;ve suggested an edit to improve the formatting of your post. However, most of your library links aren&#39;t valid URLs. Please replace them with the correct ones, so that people can help better."},{"owner":{"account_id":7674343,"reputation":4141,"user_id":5815673,"accept_rate":0,"display_name":"Farmer"},"score":0,"creation_date":1539668019,"post_id":52820946,"comment_id":92573578,"body_markdown":"You have to check this https://stackoverflow.com/a/16366645/5815673 and also this https://github.com/dkmeteor/CircleList","body":"You have to check this <a href=\"https://stackoverflow.com/a/16366645/5815673\">stackoverflow.com/a/16366645/5815673</a> and also this <a href=\"https://github.com/dkmeteor/CircleList\" rel=\"nofollow noreferrer\">github.com/dkmeteor/CircleList</a>"},{"owner":{"account_id":12864528,"reputation":165,"user_id":9305251,"display_name":"Kotdroid"},"score":0,"creation_date":1539668675,"post_id":52820946,"comment_id":92573757,"body_markdown":"@Shailesh the solution you are redirecting to contains only a textView while I&#39;m asking for any custom complex view.","body":"@Shailesh the solution you are redirecting to contains only a textView while I&#39;m asking for any custom complex view."},{"owner":{"account_id":7674343,"reputation":4141,"user_id":5815673,"accept_rate":0,"display_name":"Farmer"},"score":0,"creation_date":1539669541,"post_id":52820946,"comment_id":92574030,"body_markdown":"you have to use that for implement circular view and do some custom code for your custom layout. First you have to try then still you face any issue then share it here","body":"you have to use that for implement circular view and do some custom code for your custom layout. First you have to try then still you face any issue then share it here"},{"owner":{"account_id":9604354,"reputation":28158,"user_id":7130820,"display_name":"Andrii Turkovskyi"},"score":0,"creation_date":1539687044,"post_id":52820946,"comment_id":92583470,"body_markdown":"Did you look at this? https://github.com/kapil93/Circular-Layout-Manager","body":"Did you look at this? <a href=\"https://github.com/kapil93/Circular-Layout-Manager\" rel=\"nofollow noreferrer\">github.com/kapil93/Circular-Layout-Manager</a>"},{"owner":{"account_id":12864528,"reputation":165,"user_id":9305251,"display_name":"Kotdroid"},"score":0,"creation_date":1539696198,"post_id":52820946,"comment_id":92589067,"body_markdown":"thank you all finally this library helped me out. (https://github.com/SachinR90/VWUiDemo).  And I got the solution as per my requirement after little bit changes.","body":"thank you all finally this library helped me out. (<a href=\"https://github.com/SachinR90/VWUiDemo\" rel=\"nofollow noreferrer\">github.com/SachinR90/VWUiDemo</a>).  And I got the solution as per my requirement after little bit changes."},{"owner":{"account_id":12864528,"reputation":165,"user_id":9305251,"display_name":"Kotdroid"},"score":0,"creation_date":1539755254,"post_id":52820946,"comment_id":92611829,"body_markdown":"Thanks @AndreyTurkovsky https://github.com/kapil93/Circular-Layout-Manager also helped me.","body":"Thanks @AndreyTurkovsky <a href=\"https://github.com/kapil93/Circular-Layout-Manager\" rel=\"nofollow noreferrer\">github.com/kapil93/Circular-Layout-Manager</a> also helped me."}],"answers":[{"tags":[],"owner":{"account_id":16813178,"reputation":338,"user_id":12155702,"display_name":"Sumit Ojha"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674192321,"creation_date":1674192321,"answer_id":75180071,"question_id":52820946,"body_markdown":"I&#39;m Using to this layout manager to show recycler view in android\r\n\r\nhttps://github.com/AndroidDeveloper98/CircularRecyclerView\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/X4Ixl.jpg","title":"How to implement a circular RecylerView / ListView using any CircularLayoutManager","body":"<p>I'm Using to this layout manager to show recycler view in android</p>\n<p><a href=\"https://github.com/AndroidDeveloper98/CircularRecyclerView\" rel=\"nofollow noreferrer\">https://github.com/AndroidDeveloper98/CircularRecyclerView</a></p>\n<p><a href=\"https://i.stack.imgur.com/X4Ixl.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X4Ixl.jpg\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":12864528,"reputation":165,"user_id":9305251,"display_name":"Kotdroid"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1217,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1674192321,"creation_date":1539620602,"question_id":52820946,"body_markdown":"I want to make a `CircularListView` that will be coming from corner click of screen and only half list item should be visible before scrolling. And the item in list is in Dynamic nature - [![enter image description here][1]][1].   \r\nAnd I have used these libraries from github but not getting any efficient solution from any of them. These libraries are: \r\n\r\n1. [RamotionCircleMenu][2] -&gt; In this library custom layout is not possible.\r\n\r\n2. [HellocslCursorWheelLayout][3] -&gt; Here no customization is possible, Item Selection is poor.\r\n\r\n3. [JungHsuanCircularList][4] -&gt; When you add items in bulk the item overlaps, circle radius not get updated according to item count(still this one is better)\r\n\r\n4. [LukedeightonWheelview][5] -&gt; Only `Drawable` as item is allowed.\r\n\r\nSo please let me know if anyone is having solution for it. I want the solution for dynamic item count, custom layout as item and smooth scroll of `List/RecyclerView`.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HsrNM.png\r\n  [2]: https://github.com/Ramotion/circle-menu-android\r\n  [3]: https://github.com/BCsl/CursorWheelLayout\r\n  [4]: https://github.com/JungHsuan/CircularUI\r\n  [5]: https://github.com/LukeDeighton/WheelView","title":"How to implement a circular RecylerView / ListView using any CircularLayoutManager","body":"<p>I want to make a <code>CircularListView</code> that will be coming from corner click of screen and only half list item should be visible before scrolling. And the item in list is in Dynamic nature - <a href=\"https://i.stack.imgur.com/HsrNM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HsrNM.png\" alt=\"enter image description here\"></a>.<br>\nAnd I have used these libraries from github but not getting any efficient solution from any of them. These libraries are: </p>\n\n<ol>\n<li><p><a href=\"https://github.com/Ramotion/circle-menu-android\" rel=\"nofollow noreferrer\">RamotionCircleMenu</a> -> In this library custom layout is not possible.</p></li>\n<li><p><a href=\"https://github.com/BCsl/CursorWheelLayout\" rel=\"nofollow noreferrer\">HellocslCursorWheelLayout</a> -> Here no customization is possible, Item Selection is poor.</p></li>\n<li><p><a href=\"https://github.com/JungHsuan/CircularUI\" rel=\"nofollow noreferrer\">JungHsuanCircularList</a> -> When you add items in bulk the item overlaps, circle radius not get updated according to item count(still this one is better)</p></li>\n<li><p><a href=\"https://github.com/LukeDeighton/WheelView\" rel=\"nofollow noreferrer\">LukedeightonWheelview</a> -> Only <code>Drawable</code> as item is allowed.</p></li>\n</ol>\n\n<p>So please let me know if anyone is having solution for it. I want the solution for dynamic item count, custom layout as item and smooth scroll of <code>List/RecyclerView</code>.</p>\n"},{"tags":["java","spring-mvc","dependency-injection","autowired","spring-test"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1612141904,"post_id":65985642,"comment_id":116666563,"body_markdown":"`No qualifying bean of type &#39;com.dummy.DummyRepositoryImpl&#39; available` -- the dependency that&#39;s missing is a ***Spring*** dependency, not a Maven dependency.  Have you provided the necessary dummy implementation?","body":"<code>No qualifying bean of type &#39;com.dummy.DummyRepositoryImpl&#39; available</code> -- the dependency that&#39;s missing is a <b><i>Spring</i></b> dependency, not a Maven dependency.  Have you provided the necessary dummy implementation?"},{"owner":{"account_id":4569008,"reputation":1204,"user_id":3709218,"accept_rate":49,"display_name":"Kishore Kumar Korada"},"score":0,"creation_date":1612142279,"post_id":65985642,"comment_id":116666614,"body_markdown":"@JimGarrison Yes I did.","body":"@JimGarrison Yes I did."},{"owner":{"account_id":4569008,"reputation":1204,"user_id":3709218,"accept_rate":49,"display_name":"Kishore Kumar Korada"},"score":0,"creation_date":1612142431,"post_id":65985642,"comment_id":116666637,"body_markdown":"@JimGarrison And it&#39;s working in JDK8 but not on JDK11. Here is where I&#39;m having little trouble to understand. It looks like dependency problem. But it should be there in JDK8 too but it runs fine in there.","body":"@JimGarrison And it&#39;s working in JDK8 but not on JDK11. Here is where I&#39;m having little trouble to understand. It looks like dependency problem. But it should be there in JDK8 too but it runs fine in there."},{"owner":{"account_id":165479,"reputation":30126,"user_id":388980,"display_name":"Sam Brannen"},"score":0,"creation_date":1612197433,"post_id":65985642,"comment_id":116685388,"body_markdown":"It sounds like it might be a visibility issue with the Java module system. What happens if you launch the JVM with `--add-opens java.base/java.lang=ALL-UNNAMED`?","body":"It sounds like it might be a visibility issue with the Java module system. What happens if you launch the JVM with <code>--add-opens java.base&#47;java.lang=ALL-UNNAMED</code>?"}],"owner":{"account_id":4569008,"reputation":1204,"user_id":3709218,"accept_rate":49,"display_name":"Kishore Kumar Korada"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":372,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674192086,"creation_date":1612138760,"question_id":65985642,"body_markdown":"Tests run fine with Java 8. But As soon as I changes the runtime to JDK11, suddenly @Autowired doesn&#39;t work. \r\nI&#39;m getting the below exception when I do so.\r\n\r\n    04:44:41.427 [main] ERROR org.springframework.test.context.TestContextManager - Caught exception \r\n    while allowing TestExecutionListener \r\n    [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@4fce136b] to \r\n    prepare test instance [com.dummy.SomeListener@4aa83f4f]\r\n     org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;com.dummy.SomeTest&#39;: Unsatisfied dependency expressed through field &#39;depRepo&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.dummy.DummyRepositoryImpl&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:598) ~[spring-beans-5.1.0.RELEASE.jar:5.1.0.RELEASE]\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90) ~[spring-beans-5.1.0.RELEASE.jar:5.1.0.RELEASE]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:376) ~[spring-beans-5.1.0.RELEASE.jar:5.1.0.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1377) ~[spring-beans-5.1.0.RELEASE.jar:5.1.0.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireBeanProperties(AbstractAutowireCapableBeanFactory.java:396) ~[spring-beans-5.1.0.RELEASE.jar:5.1.0.RELEASE]\r\n\tat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:119) ~[spring-test-5.1.0.RELEASE.jar:5.1.0.RELEASE]\r\n\tat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83) ~[spring-test-5.1.0.RELEASE.jar:5.1.0.RELEASE]\r\n\tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) [spring-test-5.1.0.RELEASE.jar:5.1.0.RELEASE]\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227) [spring-test-5.1.0.RELEASE.jar:5.1.0.RELEASE]\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289) [spring-test-5.1.0.RELEASE.jar:5.1.0.RELEASE]\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291) [spring-test-5.1.0.RELEASE.jar:5.1.0.RELEASE]\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246) [spring-test-5.1.0.RELEASE.jar:5.1.0.RELEASE]\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.1.0.RELEASE.jar:5.1.0.RELEASE]\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]\r\n\tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.1.0.RELEASE.jar:5.1.0.RELEASE]\r\n\tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.1.0.RELEASE.jar:5.1.0.RELEASE]\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.1.0.RELEASE.jar:5.1.0.RELEASE]\r\n\tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:89) [.cp/:?]\r\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41) [.cp/:?]\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:542) [.cp/:?]\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:770) [.cp/:?]\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:464) [.cp/:?]\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210) [.cp/:?]\r\n    Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.dummy.DummyRepositoryImpl&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1648) ~[spring-beans-5.1.0.RELEASE.jar:5.1.0.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1207) ~[spring-beans-5.1.0.RELEASE.jar:5.1.0.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1168) ~[spring-beans-5.1.0.RELEASE.jar:5.1.0.RELEASE]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:595) ~[spring-beans-5.1.0.RELEASE.jar:5.1.0.RELEASE]\r\n\r\nAnd this is the example test class\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(locations = {&quot;classpath*:/spring/test-context.xml&quot;})\r\n    public class SomeTest {\r\n\r\n\t   @Autowired\r\n\t   DummyRepositoryImpl dummyRepo;\r\n\t\r\n\t   @Test\r\n\t   public void letsTest() {\r\n\t\t   //Some code that uses dummyRepo\r\n\t   }\r\n    }\r\n\r\nFor you reference, I&#39;m including test related dependencies\r\n\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.12&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;type&gt;jar&lt;/type&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t        &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n\t        &lt;version&gt;2.27.0&lt;/version&gt;\r\n\t        &lt;scope&gt;test&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;2.0.2&lt;/version&gt;\r\n\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;powermock-api-mockito2&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;2.0.2&lt;/version&gt;\r\n\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n\t      &lt;groupId&gt;javax.el&lt;/groupId&gt;\r\n\t      &lt;artifactId&gt;javax.el-api&lt;/artifactId&gt;\r\n\t      &lt;scope&gt;test&lt;/scope&gt;\r\n\t      &lt;version&gt;3.0.0&lt;/version&gt;\r\n\t    &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n\t        &lt;version&gt;3.1.0&lt;/version&gt;\r\n\t        &lt;scope&gt;provided&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nand plugins\r\n\r\n          &lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.18.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\r\n\t\t\t\t\t&lt;forkMode&gt;always&lt;/forkMode&gt;\r\n\t\t\t\t\t&lt;argLine&gt;-Xmx1024m -XX:MetaspaceSize=1024m -XX:MaxMetaspaceSize=1024m ${surefireArgLine} -enableassertions&lt;/argLine&gt; \r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;surefire-junit47&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;2.18.1&lt;/version&gt;\r\n\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t&lt;/dependencies&gt; \r\n\t\t\t&lt;/plugin&gt;\r\n\r\nReference Project Structure I&#39;ve&lt;br&gt;\r\n[![enter image description here][1]][1]\r\n\r\nI&#39;ve been spending lot of time but unable to understand what&#39;s happening here \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zwLvx.png","title":"@Autowired is getting failed in Test classes when I migrate to Java11 from Java8. Getting UnsatisfiedDependencyException","body":"<p>Tests run fine with Java 8. But As soon as I changes the runtime to JDK11, suddenly @Autowired doesn't work.\nI'm getting the below exception when I do so.</p>\n<pre><code>04:44:41.427 [main] ERROR org.springframework.test.context.TestContextManager - Caught exception \nwhile allowing TestExecutionListener \n[org.springframework.test.context.support.DependencyInjectionTestExecutionListener@4fce136b] to \nprepare test instance [com.dummy.SomeListener@4aa83f4f]\n org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'com.dummy.SomeTest': Unsatisfied dependency expressed through field 'depRepo'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.dummy.DummyRepositoryImpl' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\nat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:598) ~[spring-beans-5.1.0.RELEASE.jar:5.1.0.RELEASE]\nat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90) ~[spring-beans-5.1.0.RELEASE.jar:5.1.0.RELEASE]\nat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:376) ~[spring-beans-5.1.0.RELEASE.jar:5.1.0.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1377) ~[spring-beans-5.1.0.RELEASE.jar:5.1.0.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireBeanProperties(AbstractAutowireCapableBeanFactory.java:396) ~[spring-beans-5.1.0.RELEASE.jar:5.1.0.RELEASE]\nat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:119) ~[spring-test-5.1.0.RELEASE.jar:5.1.0.RELEASE]\nat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83) ~[spring-test-5.1.0.RELEASE.jar:5.1.0.RELEASE]\nat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) [spring-test-5.1.0.RELEASE.jar:5.1.0.RELEASE]\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227) [spring-test-5.1.0.RELEASE.jar:5.1.0.RELEASE]\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289) [spring-test-5.1.0.RELEASE.jar:5.1.0.RELEASE]\nat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291) [spring-test-5.1.0.RELEASE.jar:5.1.0.RELEASE]\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246) [spring-test-5.1.0.RELEASE.jar:5.1.0.RELEASE]\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.1.0.RELEASE.jar:5.1.0.RELEASE]\nat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]\nat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]\nat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]\nat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]\nat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]\nat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.1.0.RELEASE.jar:5.1.0.RELEASE]\nat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.1.0.RELEASE.jar:5.1.0.RELEASE]\nat org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.1.0.RELEASE.jar:5.1.0.RELEASE]\nat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:89) [.cp/:?]\nat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41) [.cp/:?]\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:542) [.cp/:?]\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:770) [.cp/:?]\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:464) [.cp/:?]\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210) [.cp/:?]\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.dummy.DummyRepositoryImpl' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1648) ~[spring-beans-5.1.0.RELEASE.jar:5.1.0.RELEASE]\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1207) ~[spring-beans-5.1.0.RELEASE.jar:5.1.0.RELEASE]\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1168) ~[spring-beans-5.1.0.RELEASE.jar:5.1.0.RELEASE]\nat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:595) ~[spring-beans-5.1.0.RELEASE.jar:5.1.0.RELEASE]\n</code></pre>\n<p>And this is the example test class</p>\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(locations = {&quot;classpath*:/spring/test-context.xml&quot;})\npublic class SomeTest {\n\n   @Autowired\n   DummyRepositoryImpl dummyRepo;\n\n   @Test\n   public void letsTest() {\n       //Some code that uses dummyRepo\n   }\n}\n</code></pre>\n<p>For you reference, I'm including test related dependencies</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.12&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n        &lt;type&gt;jar&lt;/type&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n        &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n        &lt;version&gt;2.27.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n        &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\n        &lt;version&gt;2.0.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n        &lt;artifactId&gt;powermock-api-mockito2&lt;/artifactId&gt;\n        &lt;version&gt;2.0.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.el&lt;/groupId&gt;\n      &lt;artifactId&gt;javax.el-api&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n      &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n        &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>and plugins</p>\n<pre><code>      &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.18.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\n                &lt;forkMode&gt;always&lt;/forkMode&gt;\n                &lt;argLine&gt;-Xmx1024m -XX:MetaspaceSize=1024m -XX:MaxMetaspaceSize=1024m ${surefireArgLine} -enableassertions&lt;/argLine&gt; \n            &lt;/configuration&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\n                    &lt;artifactId&gt;surefire-junit47&lt;/artifactId&gt;\n                    &lt;version&gt;2.18.1&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt; \n        &lt;/plugin&gt;\n</code></pre>\n<p>Reference Project Structure I've<br>\n<a href=\"https://i.stack.imgur.com/zwLvx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zwLvx.png\" alt=\"enter image description here\" /></a></p>\n<p>I've been spending lot of time but unable to understand what's happening here</p>\n"},{"tags":["java","hibernate","hql","orm"],"answers":[{"comments":[{"owner":{"account_id":90146,"reputation":5999,"user_id":248258,"accept_rate":80,"display_name":"WSK"},"score":0,"creation_date":1280547200,"post_id":3376072,"comment_id":3509275,"body_markdown":"&quot;select new Object(id, null, name) from MyClass&quot;  \ndoesn&#39;t work as well","body":"&quot;select new Object(id, null, name) from MyClass&quot;   doesn&#39;t work as well"},{"owner":{"account_id":26957,"reputation":564401,"user_id":70604,"display_name":"Pascal Thivent"},"score":0,"creation_date":1280548636,"post_id":3376072,"comment_id":3509339,"body_markdown":"@SJP Yes, I know but that&#39;s not what I meant. I meant using `new Foo(id, name)` and setting a third attribute to `null` in the constructor.","body":"@SJP Yes, I know but that&#39;s not what I meant. I meant using <code>new Foo(id, name)</code> and setting a third attribute to <code>null</code> in the constructor."},{"owner":{"account_id":90146,"reputation":5999,"user_id":248258,"accept_rate":80,"display_name":"WSK"},"score":0,"creation_date":1280636679,"post_id":3376072,"comment_id":3514207,"body_markdown":"oh, I missed your point in first attempt now got it. In situations where null is really critical, we can get in your way but its frequent use will clutter entity classes. BTW for my current case your first suggestion worked like a charm.","body":"oh, I missed your point in first attempt now got it. In situations where null is really critical, we can get in your way but its frequent use will clutter entity classes. BTW for my current case your first suggestion worked like a charm."}],"tags":[],"owner":{"account_id":26957,"reputation":564401,"user_id":70604,"display_name":"Pascal Thivent"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1280532590,"creation_date":1280532590,"answer_id":3376072,"question_id":3375762,"body_markdown":"AFAIK, your query won&#39;t return the expected result, it will only return the columns **before** the `null` (`id` in your case). However, the following would work \r\n\r\n    select id as first, &#39;&#39;, name from MyClass\r\n\r\nI don&#39;t know if this is a bug or just a non supported feature (the [HQL help: possible to &quot;select NULL as ...&quot;?][1] thread on the Hibernate forums seems to suggest it&#39;s a bug).\r\n\r\nI&#39;m not sure I understood why you need this (could a `select new` expression be an alternative?) but I&#39;m afraid you&#39;ll have to use native SQL here.\r\n\r\n  [1]: https://forum.hibernate.org/viewtopic.php?f=1&amp;t=985612&amp;start=0","title":"Can I select null as a column value in HQL query?","body":"<p>AFAIK, your query won't return the expected result, it will only return the columns <strong>before</strong> the <code>null</code> (<code>id</code> in your case). However, the following would work </p>\n\n<pre><code>select id as first, '', name from MyClass\n</code></pre>\n\n<p>I don't know if this is a bug or just a non supported feature (the <a href=\"https://forum.hibernate.org/viewtopic.php?f=1&amp;t=985612&amp;start=0\" rel=\"nofollow noreferrer\">HQL help: possible to \"select NULL as ...\"?</a> thread on the Hibernate forums seems to suggest it's a bug).</p>\n\n<p>I'm not sure I understood why you need this (could a <code>select new</code> expression be an alternative?) but I'm afraid you'll have to use native SQL here.</p>\n"},{"comments":[{"owner":{"account_id":26957,"reputation":564401,"user_id":70604,"display_name":"Pascal Thivent"},"score":0,"creation_date":1280550411,"post_id":3376732,"comment_id":3509396,"body_markdown":"Interesting! Are you still getting a &quot;real&quot; `null` with `cast(null as char)` or are you getting a `&#39;null&#39;`?","body":"Interesting! Are you still getting a &quot;real&quot; <code>null</code> with <code>cast(null as char)</code> or are you getting a <code>&#39;null&#39;</code>?"},{"owner":{"account_id":90146,"reputation":5999,"user_id":248258,"accept_rate":80,"display_name":"WSK"},"score":1,"creation_date":1280636893,"post_id":3376732,"comment_id":3514210,"body_markdown":"Cool! In the absence of generic solution in hibernate, it saves our skin. Good thing is, we will not have to play with Java objects","body":"Cool! In the absence of generic solution in hibernate, it saves our skin. Good thing is, we will not have to play with Java objects"}],"tags":[],"owner":{"account_id":8190,"reputation":13626,"user_id":14619,"accept_rate":90,"display_name":"Brian Deterling"},"comment_count":2,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1280548860,"creation_date":1280548860,"answer_id":3376732,"question_id":3375762,"body_markdown":"Another option that seems to work (tested on DB2, MySQL, Oracle, and SQL Server): \r\n\r\n    select id, cast(null as char), name from ...\r\n\r\nYou could subclass the Hibernate dialect and abstract it with a custom function:\r\n\r\n    registerFunction(&quot;always_null&quot;, \r\n      new SQLFunctionTemplate(Hibernate.STRING, &quot;cast(null as char)&quot;));\r\n\r\nand then use this in your HQL:\r\n\r\n    select id, always_null(), name from ...","title":"Can I select null as a column value in HQL query?","body":"<p>Another option that seems to work (tested on DB2, MySQL, Oracle, and SQL Server): </p>\n\n<pre><code>select id, cast(null as char), name from ...\n</code></pre>\n\n<p>You could subclass the Hibernate dialect and abstract it with a custom function:</p>\n\n<pre><code>registerFunction(\"always_null\", \n  new SQLFunctionTemplate(Hibernate.STRING, \"cast(null as char)\"));\n</code></pre>\n\n<p>and then use this in your HQL:</p>\n\n<pre><code>select id, always_null(), name from ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":789637,"reputation":11,"user_id":707445,"display_name":"Viktoriia Lymareva"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1302764901,"creation_date":1302764901,"answer_id":5659750,"question_id":3375762,"body_markdown":"You can also try TO_CHAR(null). It works fine for HQL- Oracle in constructor new Foo(id, name, attr3) where attr3 - String value","title":"Can I select null as a column value in HQL query?","body":"<p>You can also try TO_CHAR(null). It works fine for HQL- Oracle in constructor new Foo(id, name, attr3) where attr3 - String value</p>\n"},{"comments":[{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":1,"creation_date":1406024028,"post_id":5893168,"comment_id":38652483,"body_markdown":"You saved me, thank you so much. IMHO this is the cleanest solution. Using `NULLIF(1,1)` works fine :)","body":"You saved me, thank you so much. IMHO this is the cleanest solution. Using <code>NULLIF(1,1)</code> works fine :)"}],"tags":[],"owner":{"account_id":748580,"reputation":81,"user_id":739254,"display_name":"sohrab yousefi"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1437464579,"creation_date":1304574319,"answer_id":5893168,"question_id":3375762,"body_markdown":"You can use `nullif()` function to generate null.\r\n\r\nIt accepts two arguments. If arguments are equal, it&#39;ll return `null` value.","title":"Can I select null as a column value in HQL query?","body":"<p>You can use <code>nullif()</code> function to generate null.</p>\n\n<p>It accepts two arguments. If arguments are equal, it'll return <code>null</code> value.</p>\n"},{"tags":[],"owner":{"account_id":2885894,"reputation":357,"user_id":2475820,"display_name":"Henrique Brisola"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674191465,"creation_date":1674077215,"answer_id":75165461,"question_id":3375762,"body_markdown":"    select id, null as column_name, name \r\n    from MyClass","title":"Can I select null as a column value in HQL query?","body":"<pre><code>select id, null as column_name, name \nfrom MyClass\n</code></pre>\n"}],"owner":{"account_id":90146,"reputation":5999,"user_id":248258,"accept_rate":80,"display_name":"WSK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18695,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":3376732,"answer_count":5,"score":18,"last_activity_date":1674191465,"creation_date":1280528106,"question_id":3375762,"body_markdown":"I need a list with three columns. column 1st and 3rd having values while 2nd as null.\r\nCan I do it through HQL query?   \r\n\r\nI need something like this:\r\n\r\n    select id, null, name from MyClass\r\n\r\nWhere MyClass as well as underlying table has only two properties/columns ie, &quot;id&quot; and &quot;name&quot;","title":"Can I select null as a column value in HQL query?","body":"<p>I need a list with three columns. column 1st and 3rd having values while 2nd as null.\nCan I do it through HQL query?   </p>\n\n<p>I need something like this:</p>\n\n<pre><code>select id, null, name from MyClass\n</code></pre>\n\n<p>Where MyClass as well as underlying table has only two properties/columns ie, \"id\" and \"name\"</p>\n"},{"tags":["java","spring-boot","spring-mvc","http-patch"],"comments":[{"owner":{"account_id":2897269,"reputation":2058,"user_id":2484748,"accept_rate":30,"display_name":"Sahil Gupta"},"score":0,"creation_date":1600937792,"post_id":64035229,"comment_id":113248735,"body_markdown":"I tried on a demo spring boot application and patch is working as expected. \n\nThere is one unrelated issue in your code... You are using &#39;&#39;@PathVariable(&quot;id&quot;)&quot; in updateById method without having a pathVariable placeholder in the URI.","body":"I tried on a demo spring boot application and patch is working as expected.   There is one unrelated issue in your code... You are using &#39;&#39;@PathVariable(&quot;id&quot;)&quot; in updateById method without having a pathVariable placeholder in the URI."},{"owner":{"account_id":2738518,"reputation":1030,"user_id":7738040,"accept_rate":79,"display_name":"Julez"},"score":0,"creation_date":1600942223,"post_id":64035229,"comment_id":113250902,"body_markdown":"Oh. Good catch! I sure think that&#39;s the cause. I missed out the `{}`. Thank you.","body":"Oh. Good catch! I sure think that&#39;s the cause. I missed out the <code>{}</code>. Thank you."},{"owner":{"account_id":2897269,"reputation":2058,"user_id":2484748,"accept_rate":30,"display_name":"Sahil Gupta"},"score":0,"creation_date":1600946106,"post_id":64035229,"comment_id":113252779,"body_markdown":"If that solves your problem. Shall i pop-it out as an answer ?","body":"If that solves your problem. Shall i pop-it out as an answer ?"},{"owner":{"account_id":2738518,"reputation":1030,"user_id":7738040,"accept_rate":79,"display_name":"Julez"},"score":0,"creation_date":1600959629,"post_id":64035229,"comment_id":113259964,"body_markdown":"Sure and I&#39;ll accept it as an answer.","body":"Sure and I&#39;ll accept it as an answer."}],"answers":[{"comments":[{"owner":{"account_id":1110466,"reputation":451,"user_id":1101025,"accept_rate":50,"display_name":"Ermal"},"score":1,"creation_date":1669234941,"post_id":64036336,"comment_id":131601167,"body_markdown":"if you add the exact maven library your answer will take more UPs.","body":"if you add the exact maven library your answer will take more UPs."}],"tags":[],"owner":{"account_id":9679006,"reputation":119,"user_id":7181395,"display_name":"MrBrightside"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600895709,"creation_date":1600895709,"answer_id":64036336,"question_id":64035229,"body_markdown":"The standard HTTP client does not support PATCH requests.\r\n\r\nYou can just add the apache HTTP client to your project. It should be automatically added by spring boot if it&#39;s found on the classpath.\r\n\r\nhttps://hc.apache.org/","title":"Spring MVC Request method &#39;PATCH&#39; not supported","body":"<p>The standard HTTP client does not support PATCH requests.</p>\n<p>You can just add the apache HTTP client to your project. It should be automatically added by spring boot if it's found on the classpath.</p>\n<p><a href=\"https://hc.apache.org/\" rel=\"nofollow noreferrer\">https://hc.apache.org/</a></p>\n"},{"tags":[],"owner":{"account_id":2897269,"reputation":2058,"user_id":2484748,"accept_rate":30,"display_name":"Sahil Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1601054578,"creation_date":1600946136,"answer_id":64045313,"question_id":64035229,"body_markdown":"I tried on a demo spring boot application and patch is working as expected. \r\n\r\nThere is one unrelated issue in your code... You are using `@PathVariable(&quot;id&quot;)` in `updateById` method without having a `pathVariable` placeholder in the URI.","title":"Spring MVC Request method &#39;PATCH&#39; not supported","body":"<p>I tried on a demo spring boot application and patch is working as expected.</p>\n<p>There is one unrelated issue in your code... You are using <code>@PathVariable(&quot;id&quot;)</code> in <code>updateById</code> method without having a <code>pathVariable</code> placeholder in the URI.</p>\n"},{"tags":[],"owner":{"account_id":18629379,"reputation":127,"user_id":13603753,"display_name":"tio_hecro"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661264213,"creation_date":1640877713,"answer_id":70533531,"question_id":64035229,"body_markdown":"i did resolve the issues, in my case i made a mistake, i wrote \r\n\r\n\r\n`@PatchMapping(params = &quot;/{id}&quot;, consumes = &quot;application/json&quot;)`\r\n\r\ninstead of:\r\n\r\n`@PatchMapping(path = &quot;/{id}&quot;, consumes = &quot;application/json&quot;)`\r\n","title":"Spring MVC Request method &#39;PATCH&#39; not supported","body":"<p>i did resolve the issues, in my case i made a mistake, i wrote</p>\n<p><code>@PatchMapping(params = &quot;/{id}&quot;, consumes = &quot;application/json&quot;)</code></p>\n<p>instead of:</p>\n<p><code>@PatchMapping(path = &quot;/{id}&quot;, consumes = &quot;application/json&quot;)</code></p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":2,"creation_date":1674397421,"post_id":75179970,"comment_id":132701503,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75179970/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":25994154,"reputation":23,"user_id":19705834,"display_name":"Us3rL0sT"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674190833,"creation_date":1674190833,"answer_id":75179970,"question_id":64035229,"body_markdown":"I decided &quot;Request method &#39;PATCH&#39; not supported&quot; by replacing @PostMapping with @RequestMapping","title":"Spring MVC Request method &#39;PATCH&#39; not supported","body":"<p>I decided &quot;Request method 'PATCH' not supported&quot; by replacing @PostMapping with @RequestMapping</p>\n"}],"owner":{"account_id":2738518,"reputation":1030,"user_id":7738040,"accept_rate":79,"display_name":"Julez"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8998,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":64045313,"answer_count":4,"score":2,"last_activity_date":1674190833,"creation_date":1600890191,"question_id":64035229,"body_markdown":"Is HTTP PATCH not enabled by default in Spring MVC/Boot? I&#39;m getting the ff error:\r\n\r\n    org.springframework.web.HttpRequestMethodNotSupportedException: Request method &#39;PATCH&#39; not supported\r\n            at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.handleNoMatch(RequestMappingInfoHandlerMapping.java:213)\r\n\r\nFor my controller:\r\n\r\n    @PatchMapping(&quot;/id&quot;)\r\n    public ResourceResponse updateById(@PathVariable Long id, ServletServerHttpRequest request) {\r\n\r\nI have my configuration as follows:\r\n\r\n    .antMatchers(HttpMethod.PATCH, &quot;/products/**&quot;).hasRole(&quot;MANAGER&quot;)\r\n    ...\r\n    configuration.setAllowedMethods(List.of(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;OPTIONS&quot;, &quot;DELETE&quot;, &quot;PATCH&quot;));\r\n\r\nI checked the source code of Spring `FrameworkServlet.java`, there is something special to PATCH:\r\n\r\n    @Override\r\n    protected void service(HttpServletRequest request, HttpServletResponse response)\r\n    \t\tthrows ServletException, IOException {\r\n    \r\n    \tHttpMethod httpMethod = HttpMethod.resolve(request.getMethod());\r\n    \tif (httpMethod == HttpMethod.PATCH || httpMethod == null) {\r\n    \t\tprocessRequest(request, response);\r\n    \t}\r\n    \telse {\r\n    \t\tsuper.service(request, response);\r\n    \t}\r\n    }\r\n\r\nI googled already but I was not able to find anything that can help resolve my issue.\r\n\r\nThank you.","title":"Spring MVC Request method &#39;PATCH&#39; not supported","body":"<p>Is HTTP PATCH not enabled by default in Spring MVC/Boot? I'm getting the ff error:</p>\n<pre><code>org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'PATCH' not supported\n        at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.handleNoMatch(RequestMappingInfoHandlerMapping.java:213)\n</code></pre>\n<p>For my controller:</p>\n<pre><code>@PatchMapping(&quot;/id&quot;)\npublic ResourceResponse updateById(@PathVariable Long id, ServletServerHttpRequest request) {\n</code></pre>\n<p>I have my configuration as follows:</p>\n<pre><code>.antMatchers(HttpMethod.PATCH, &quot;/products/**&quot;).hasRole(&quot;MANAGER&quot;)\n...\nconfiguration.setAllowedMethods(List.of(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;OPTIONS&quot;, &quot;DELETE&quot;, &quot;PATCH&quot;));\n</code></pre>\n<p>I checked the source code of Spring <code>FrameworkServlet.java</code>, there is something special to PATCH:</p>\n<pre><code>@Override\nprotected void service(HttpServletRequest request, HttpServletResponse response)\n        throws ServletException, IOException {\n\n    HttpMethod httpMethod = HttpMethod.resolve(request.getMethod());\n    if (httpMethod == HttpMethod.PATCH || httpMethod == null) {\n        processRequest(request, response);\n    }\n    else {\n        super.service(request, response);\n    }\n}\n</code></pre>\n<p>I googled already but I was not able to find anything that can help resolve my issue.</p>\n<p>Thank you.</p>\n"},{"tags":["java","solr","lucene","solrj","solr5"],"comments":[{"owner":{"account_id":3219982,"reputation":1283,"user_id":2717674,"accept_rate":18,"display_name":"Juhan"},"score":0,"creation_date":1429329235,"post_id":29699018,"comment_id":47560777,"body_markdown":"@cheffe have any idea about this ?","body":"@cheffe have any idea about this ?"}],"answers":[{"comments":[{"owner":{"account_id":3219982,"reputation":1283,"user_id":2717674,"accept_rate":18,"display_name":"Juhan"},"score":0,"creation_date":1430223047,"post_id":29809194,"comment_id":47959278,"body_markdown":"It was because of version change in for me","body":"It was because of version change in for me"}],"tags":[],"owner":{"account_id":1529209,"reputation":3340,"user_id":1426861,"accept_rate":67,"display_name":"tonysepia"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1429738112,"creation_date":1429738112,"answer_id":29809194,"question_id":29699018,"body_markdown":"I just had the same problem. Your core config comes from a different version of Solr. \r\n\r\nSo a few solutions:\r\n\r\n - re-create config files from scratch\r\n - get a different version\r\n - get a Solr guru to pinpoint where the issue is :)","title":"SolrCore Initialization Failures","body":"<p>I just had the same problem. Your core config comes from a different version of Solr. </p>\n\n<p>So a few solutions:</p>\n\n<ul>\n<li>re-create config files from scratch</li>\n<li>get a different version</li>\n<li>get a Solr guru to pinpoint where the issue is :)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4232379,"reputation":96,"user_id":3464440,"display_name":"bigboy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1434994091,"creation_date":1434994091,"answer_id":30986195,"question_id":29699018,"body_markdown":"Check if you do not have duplicated .jars. For me it was duplicated jar in core&#39;s lib folder. It started throwing null pointers after migrating to SOLR 5","title":"SolrCore Initialization Failures","body":"<p>Check if you do not have duplicated .jars. For me it was duplicated jar in core's lib folder. It started throwing null pointers after migrating to SOLR 5</p>\n"},{"tags":[],"owner":{"account_id":1854263,"reputation":1105,"user_id":1680187,"display_name":"Raul Pinto"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1438798860,"creation_date":1438798860,"answer_id":31840008,"question_id":29699018,"body_markdown":"I copied a solr 5.0.0 core on windows 8.1 to a solr 5.2.1 installation on ubuntu 14.04. First, solr service didn&#39;t even start. Then I moved the core to another location and added it by hand (i.e. created directories, tried to add a core from webapp, copied missing files, tried to add a core from webapp, etc.).\r\nAt some time I came to that exception.\r\n\r\nThe problem was, that I had solr-dataimporthandler-5.0.0.jar and solr-dataimporthandler-extras-5.0.0.jar in the lib directory of my core. So I deleted those and copied solr-dataimporthandler-5.2.1 and solr-dataimporthandler-extras-5.2.1 from /opt/solr/dist to my core&#39;s lib directory and I had no more exceptions.","title":"SolrCore Initialization Failures","body":"<p>I copied a solr 5.0.0 core on windows 8.1 to a solr 5.2.1 installation on ubuntu 14.04. First, solr service didn't even start. Then I moved the core to another location and added it by hand (i.e. created directories, tried to add a core from webapp, copied missing files, tried to add a core from webapp, etc.).\nAt some time I came to that exception.</p>\n\n<p>The problem was, that I had solr-dataimporthandler-5.0.0.jar and solr-dataimporthandler-extras-5.0.0.jar in the lib directory of my core. So I deleted those and copied solr-dataimporthandler-5.2.1 and solr-dataimporthandler-extras-5.2.1 from /opt/solr/dist to my core's lib directory and I had no more exceptions.</p>\n"},{"tags":[],"owner":{"account_id":12678161,"reputation":150,"user_id":9212995,"display_name":"Namwanza Ronald"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668102786,"creation_date":1668102786,"answer_id":74393370,"question_id":29699018,"body_markdown":"&gt;     SolrCore Initialization Failures\r\n\r\nI noticed that the data directory was not pointing to the correct data directory so I had to change it from `&lt;dataDir&gt;${solr.data.dir:}&lt;/dataDir&gt;` to  `&lt;dataDir&gt;${solr.data.dir:/var/solr/data}&lt;/dataDir&gt;` in the file \r\n\r\n`/var/solr/data/ckan/conf/solrconfig.xml`\r\n\r\nOn going through the solrconfig.xml, I noted that extra comments were added eg  `&lt;!--&lt;!--&lt;!--` and and `--&gt;--&gt;--&gt;` respectively on some lines of code, this was also causing an issue for ckan to initiate.\r\n\r\n    &lt;!--&lt;!--&lt;!-- &lt;processor class=&quot;solr.AddSchemaFieldsUpdateProcessorFactory&quot;&gt; --&gt;--&gt;--&gt;\r\n\r\n \r\n\r\nIf that is the case, then comment it correctly for example;\r\n\r\n    &lt;!-- &lt;processor class=&quot;solr.AddSchemaFieldsUpdateProcessorFactory&quot;&gt;\r\n         &lt;str name=&quot;defaultFieldType&quot;&gt;strings&lt;/str&gt;\r\n          &lt;lst name=&quot;typeMapping&quot;&gt;\r\n            &lt;str name=&quot;valueClass&quot;&gt;java.lang.Boolean&lt;/str&gt;\r\n            &lt;str name=&quot;fieldType&quot;&gt;booleans&lt;/str&gt;\r\n          &lt;/lst&gt;\r\n          &lt;lst name=&quot;typeMapping&quot;&gt;\r\n            &lt;str name=&quot;valueClass&quot;&gt;java.util.Date&lt;/str&gt;\r\n            &lt;str name=&quot;fieldType&quot;&gt;tdates&lt;/str&gt;\r\n          &lt;/lst&gt;\r\n          &lt;lst name=&quot;typeMapping&quot;&gt;\r\n            &lt;str name=&quot;valueClass&quot;&gt;java.lang.Long&lt;/str&gt;\r\n            &lt;str name=&quot;valueClass&quot;&gt;java.lang.Integer&lt;/str&gt;\r\n            &lt;str name=&quot;fieldType&quot;&gt;tlongs&lt;/str&gt;\r\n          &lt;/lst&gt;\r\n          &lt;lst name=&quot;typeMapping&quot;&gt;\r\n            &lt;str name=&quot;valueClass&quot;&gt;java.lang.Number&lt;/str&gt;\r\n            &lt;str name=&quot;fieldType&quot;&gt;tdoubles&lt;/str&gt;\r\n          &lt;/lst&gt;\r\n        &lt;/processor&gt;\r\n      --&gt;\r\n\r\nand make sure that everything else is well commented as I found other lines of code that were not commented well, ensure to comment them correctly.\r\n\r\n\r\nFinally, \r\n\r\n**restart solr**\r\n\r\n    /etc/init.d/solr restart\r\n\r\nor\r\n\r\n    sudo service solr restart\r\n\r\nand then, check to see that everything works fine and don&#39;t forget to look at the logging for any other issues.\r\n\r\nhttp://localhost:8983/solr/#/ckan \r\n\r\nHappy debugging !!","title":"SolrCore Initialization Failures","body":"<blockquote>\n<pre><code>SolrCore Initialization Failures\n</code></pre>\n</blockquote>\n<p>I noticed that the data directory was not pointing to the correct data directory so I had to change it from <code>&lt;dataDir&gt;${solr.data.dir:}&lt;/dataDir&gt;</code> to  <code>&lt;dataDir&gt;${solr.data.dir:/var/solr/data}&lt;/dataDir&gt;</code> in the file</p>\n<p><code>/var/solr/data/ckan/conf/solrconfig.xml</code></p>\n<p>On going through the solrconfig.xml, I noted that extra comments were added eg  <code>&lt;!--&lt;!--&lt;!--</code> and and <code>--&gt;--&gt;--&gt;</code> respectively on some lines of code, this was also causing an issue for ckan to initiate.</p>\n<pre><code>&lt;!--&lt;!--&lt;!-- &lt;processor class=&quot;solr.AddSchemaFieldsUpdateProcessorFactory&quot;&gt; --&gt;--&gt;--&gt;\n</code></pre>\n<p>If that is the case, then comment it correctly for example;</p>\n<pre><code>&lt;!-- &lt;processor class=&quot;solr.AddSchemaFieldsUpdateProcessorFactory&quot;&gt;\n     &lt;str name=&quot;defaultFieldType&quot;&gt;strings&lt;/str&gt;\n      &lt;lst name=&quot;typeMapping&quot;&gt;\n        &lt;str name=&quot;valueClass&quot;&gt;java.lang.Boolean&lt;/str&gt;\n        &lt;str name=&quot;fieldType&quot;&gt;booleans&lt;/str&gt;\n      &lt;/lst&gt;\n      &lt;lst name=&quot;typeMapping&quot;&gt;\n        &lt;str name=&quot;valueClass&quot;&gt;java.util.Date&lt;/str&gt;\n        &lt;str name=&quot;fieldType&quot;&gt;tdates&lt;/str&gt;\n      &lt;/lst&gt;\n      &lt;lst name=&quot;typeMapping&quot;&gt;\n        &lt;str name=&quot;valueClass&quot;&gt;java.lang.Long&lt;/str&gt;\n        &lt;str name=&quot;valueClass&quot;&gt;java.lang.Integer&lt;/str&gt;\n        &lt;str name=&quot;fieldType&quot;&gt;tlongs&lt;/str&gt;\n      &lt;/lst&gt;\n      &lt;lst name=&quot;typeMapping&quot;&gt;\n        &lt;str name=&quot;valueClass&quot;&gt;java.lang.Number&lt;/str&gt;\n        &lt;str name=&quot;fieldType&quot;&gt;tdoubles&lt;/str&gt;\n      &lt;/lst&gt;\n    &lt;/processor&gt;\n  --&gt;\n</code></pre>\n<p>and make sure that everything else is well commented as I found other lines of code that were not commented well, ensure to comment them correctly.</p>\n<p>Finally,</p>\n<p><strong>restart solr</strong></p>\n<pre><code>/etc/init.d/solr restart\n</code></pre>\n<p>or</p>\n<pre><code>sudo service solr restart\n</code></pre>\n<p>and then, check to see that everything works fine and don't forget to look at the logging for any other issues.</p>\n<p>http://localhost:8983/solr/#/ckan</p>\n<p>Happy debugging !!</p>\n"},{"tags":[],"owner":{"account_id":2668205,"reputation":2229,"user_id":2306102,"accept_rate":50,"display_name":"Alexander Schranz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674179935,"creation_date":1674179935,"answer_id":75179941,"question_id":29699018,"body_markdown":"I had the same strange error message in my logs WebUI of Solr:\r\n\r\n&gt; SolrCore Initialization Failures gettingstarted: org.apache.solr.common.SolrException:org.apache.solr.common.SolrException: Please check your logs for more information\r\n\r\nIt did happen after I switched to the `Solr` `cloud` mode:\r\n\r\nAnd then I did found out that my `docker-compose volume` still had old data in it so I did search for it via\r\n\r\n    docker volume ls | grep solr\r\n\r\nand removed it via\r\n\r\n    docker volume rm &lt;name&gt;\r\n\r\nIn my case I also had first to remove the container using it. But then it did not longer show up that error message.","title":"SolrCore Initialization Failures","body":"<p>I had the same strange error message in my logs WebUI of Solr:</p>\n<blockquote>\n<p>SolrCore Initialization Failures gettingstarted: org.apache.solr.common.SolrException:org.apache.solr.common.SolrException: Please check your logs for more information</p>\n</blockquote>\n<p>It did happen after I switched to the <code>Solr</code> <code>cloud</code> mode:</p>\n<p>And then I did found out that my <code>docker-compose volume</code> still had old data in it so I did search for it via</p>\n<pre><code>docker volume ls | grep solr\n</code></pre>\n<p>and removed it via</p>\n<pre><code>docker volume rm &lt;name&gt;\n</code></pre>\n<p>In my case I also had first to remove the container using it. But then it did not longer show up that error message.</p>\n"}],"owner":{"account_id":3219982,"reputation":1283,"user_id":2717674,"accept_rate":18,"display_name":"Juhan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20812,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":5,"score":3,"last_activity_date":1674179935,"creation_date":1429273097,"question_id":29699018,"body_markdown":"I am using Solr-5.0.0 and when i am trying to create  a core in that i am getting the following error in logging.\r\n\r\n    SolrCore Initialization Failures\r\n    org.apache.solr.common.SolrException:org.apache.solr.common.SolrException: org.apache.solr.core.SolrCore.getRequestHandlers()Ljava/util/Map;\r\n\r\nThis is the exception in the logging\r\n\r\n    4/17/2015, 3:49:23 PM\r\n    ERROR\r\n    SolrCore\r\n    java.lang.NullPointerException\r\n    java.lang.NullPointerException\r\n    \tat org.apache.solr.handler.component.SearchHandler.handleRequestBody(SearchHandler.java:190)\r\n    \tat org.apache.solr.handler.RequestHandlerBase.handleRequest(RequestHandlerBase.java:143)\r\n    \tat org.apache.solr.core.SolrCore.execute(SolrCore.java:1984)\r\n    \tat org.apache.solr.core.QuerySenderListener.newSearcher(QuerySenderListener.java:64)\r\n    \tat org.apache.solr.core.SolrCore$5.call(SolrCore.java:1751)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    4/17/2015, 3:49:23 PM\r\n    ERROR\r\n    CoreContainer\r\n    Error creating core [TEST]: org.apache.solr.core.SolrCore.getRequestHandlers()Ljava/util/Map;\r\n    org.apache.solr.common.SolrException: org.apache.solr.core.SolrCore.getRequestHandlers()Ljava/util/Map;\r\n    \tat org.apache.solr.core.SolrCore.&lt;init&gt;(SolrCore.java:885)\r\n    \tat org.apache.solr.core.SolrCore.&lt;init&gt;(SolrCore.java:652)\r\n    \tat org.apache.solr.core.CoreContainer.create(CoreContainer.java:518)\r\n    \tat org.apache.solr.core.CoreContainer$1.call(CoreContainer.java:283)\r\n    \tat org.apache.solr.core.CoreContainer$1.call(CoreContainer.java:277)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    Caused by: java.lang.NoSuchMethodError: org.apache.solr.core.SolrCore.getRequestHandlers()Ljava/util/Map;\r\n    \tat org.apache.solr.handler.dataimport.DataImportHandler.inform(DataImportHandler.java:100)\r\n    \tat org.apache.solr.core.SolrResourceLoader.inform(SolrResourceLoader.java:620)\r\n    \tat org.apache.solr.core.SolrCore.&lt;init&gt;(SolrCore.java:868)\r\n\r\n\r\nMy actual data is in mongoDB.\r\n\r\nMy solrconfig.xml file is given below.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n    \r\n    &lt;config&gt;\r\n    \r\n      &lt;luceneMatchVersion&gt;5.0.0&lt;/luceneMatchVersion&gt;\r\n    \r\n      \r\n      &lt;lib dir=&quot;${solr.install.dir:../../../..}/contrib/extraction/lib&quot; regex=&quot;.*\\.jar&quot; /&gt;\r\n      &lt;lib dir=&quot;${solr.install.dir:../../../..}/dist/&quot; regex=&quot;solr-cell-\\d.*\\.jar&quot; /&gt;\r\n    \r\n      &lt;lib dir=&quot;${solr.install.dir:../../../..}/contrib/clustering/lib/&quot; regex=&quot;.*\\.jar&quot; /&gt;\r\n      &lt;lib dir=&quot;${solr.install.dir:../../../..}/dist/&quot; regex=&quot;solr-clustering-\\d.*\\.jar&quot; /&gt;\r\n    \r\n      &lt;lib dir=&quot;${solr.install.dir:../../../..}/contrib/langid/lib/&quot; regex=&quot;.*\\.jar&quot; /&gt;\r\n      &lt;lib dir=&quot;${solr.install.dir:../../../..}/dist/&quot; regex=&quot;solr-langid-\\d.*\\.jar&quot; /&gt;\r\n    \r\n      &lt;lib dir=&quot;${solr.install.dir:../../../..}/contrib/velocity/lib&quot; regex=&quot;.*\\.jar&quot; /&gt;\r\n      &lt;lib dir=&quot;${solr.install.dir:../../../..}/dist/&quot; regex=&quot;solr-velocity-\\d.*\\.jar&quot; /&gt;\r\n      &lt;lib dir=&quot;${solr.install.dir:../../../..}/dist/solr-mongo-importer-1.0.0.jar&quot; /&gt;\r\n      &lt;lib dir=&quot;${solr.install.dir:../../../..}/dist/mongo-java-driver-2.9.0.jar&quot; /&gt;\r\n    \r\n      \r\n      &lt;dataDir&gt;${solr.data.dir:}&lt;/dataDir&gt;\r\n    \r\n    \r\n      &lt;directoryFactory name=&quot;DirectoryFactory&quot; \r\n                        class=&quot;${solr.directoryFactory:solr.NRTCachingDirectoryFactory}&quot;/&gt;\r\n    \r\n      &lt;codecFactory class=&quot;solr.SchemaCodecFactory&quot;/&gt;\r\n    \r\n     \r\n      &lt;schemaFactory class=&quot;ClassicIndexSchemaFactory&quot;/&gt;\r\n    \r\n      \r\n      &lt;indexConfig&gt;\r\n       \r\n        &lt;lockType&gt;${solr.lock.type:native}&lt;/lockType&gt;\r\n    \r\n       \r\n         &lt;infoStream&gt;true&lt;/infoStream&gt;\r\n      &lt;/indexConfig&gt;\r\n    \r\n    \r\n    \r\n      &lt;jmx /&gt;\r\n      \r\n      &lt;updateHandler class=&quot;solr.DirectUpdateHandler2&quot;&gt;\r\n    \r\n       \r\n        &lt;updateLog&gt;\r\n          &lt;str name=&quot;dir&quot;&gt;${solr.ulog.dir:}&lt;/str&gt;\r\n        &lt;/updateLog&gt;\r\n     \r\n       \r\n         &lt;autoCommit&gt; \r\n           &lt;maxTime&gt;${solr.autoCommit.maxTime:15000}&lt;/maxTime&gt; \r\n           &lt;openSearcher&gt;false&lt;/openSearcher&gt; \r\n         &lt;/autoCommit&gt;\r\n    \r\n        \r\n         &lt;autoSoftCommit&gt; \r\n           &lt;maxTime&gt;${solr.autoSoftCommit.maxTime:-1}&lt;/maxTime&gt; \r\n         &lt;/autoSoftCommit&gt;\r\n    \r\n        \r\n    \r\n      &lt;/updateHandler&gt;\r\n      \r\n      \r\n      &lt;query&gt;\r\n       \r\n        &lt;maxBooleanClauses&gt;1024&lt;/maxBooleanClauses&gt;\r\n    \r\n     \r\n        \r\n        &lt;slowQueryThresholdMillis&gt;-1&lt;/slowQueryThresholdMillis&gt;\r\n    \r\n    \r\n       \r\n        &lt;filterCache class=&quot;solr.FastLRUCache&quot;\r\n                     size=&quot;512&quot;\r\n                     initialSize=&quot;512&quot;\r\n                     autowarmCount=&quot;0&quot;/&gt;\r\n    \r\n        &lt;queryResultCache class=&quot;solr.LRUCache&quot;\r\n                         size=&quot;512&quot;\r\n                         initialSize=&quot;512&quot;\r\n                         autowarmCount=&quot;0&quot;/&gt;\r\n       \r\n        &lt;documentCache class=&quot;solr.LRUCache&quot;\r\n                       size=&quot;512&quot;\r\n                       initialSize=&quot;512&quot;\r\n                       autowarmCount=&quot;0&quot;/&gt;\r\n        \r\n       \r\n        &lt;cache name=&quot;perSegFilter&quot;\r\n          class=&quot;solr.search.LRUCache&quot;\r\n          size=&quot;10&quot;\r\n          initialSize=&quot;0&quot;\r\n          autowarmCount=&quot;10&quot;\r\n          regenerator=&quot;solr.NoOpRegenerator&quot; /&gt;\r\n    \r\n       \r\n        &lt;enableLazyFieldLoading&gt;true&lt;/enableLazyFieldLoading&gt;\r\n    \r\n       \r\n       &lt;queryResultWindowSize&gt;20&lt;/queryResultWindowSize&gt;\r\n    \r\n      \r\n       &lt;queryResultMaxDocsCached&gt;200&lt;/queryResultMaxDocsCached&gt;\r\n    \r\n        &lt;listener event=&quot;newSearcher&quot; class=&quot;solr.QuerySenderListener&quot;&gt;\r\n          &lt;arr name=&quot;queries&quot;&gt;\r\n          \r\n          &lt;/arr&gt;\r\n        &lt;/listener&gt;\r\n        &lt;listener event=&quot;firstSearcher&quot; class=&quot;solr.QuerySenderListener&quot;&gt;\r\n          &lt;arr name=&quot;queries&quot;&gt;\r\n            &lt;lst&gt;\r\n              &lt;str name=&quot;q&quot;&gt;static firstSearcher warming in solrconfig.xml&lt;/str&gt;\r\n            &lt;/lst&gt;\r\n          &lt;/arr&gt;\r\n        &lt;/listener&gt;\r\n    \r\n        \r\n        &lt;useColdSearcher&gt;false&lt;/useColdSearcher&gt;\r\n    \r\n       \r\n        &lt;maxWarmingSearchers&gt;2&lt;/maxWarmingSearchers&gt;\r\n    \r\n      &lt;/query&gt;\r\n    \r\n    \r\n      \r\n      &lt;requestDispatcher handleSelect=&quot;false&quot; &gt;\r\n       \r\n        &lt;requestParsers enableRemoteStreaming=&quot;true&quot; \r\n                        multipartUploadLimitInKB=&quot;2048000&quot;\r\n                        formdataUploadLimitInKB=&quot;2048&quot;\r\n                        addHttpRequestToContext=&quot;false&quot;/&gt;\r\n    \r\n        \r\n        &lt;httpCaching never304=&quot;true&quot; /&gt;\r\n       \r\n      &lt;/requestDispatcher&gt;\r\n    \r\n      \r\n    \r\n    \t&lt;requestHandler name=&quot;/dataimport&quot; class=&quot;org.apache.solr.handler.dataimport.DataImportHandler&quot;&gt;  \r\n    \t&lt;lst name=&quot;defaults&quot;&gt;\r\n    \t&lt;str name=&quot;config&quot;&gt;dealdeals-data-config.xml&lt;/str&gt;\r\n    \t&lt;/lst&gt;\r\n    \t&lt;/requestHandler&gt;\r\n      &lt;requestHandler name=&quot;/select&quot; class=&quot;solr.SearchHandler&quot;&gt;\r\n       \r\n         &lt;lst name=&quot;defaults&quot;&gt;\r\n           &lt;str name=&quot;echoParams&quot;&gt;explicit&lt;/str&gt;\r\n           &lt;int name=&quot;rows&quot;&gt;10&lt;/int&gt;\r\n         &lt;/lst&gt;\r\n       \r\n        &lt;/requestHandler&gt;\r\n    \r\n     \r\n      &lt;requestHandler name=&quot;/query&quot; class=&quot;solr.SearchHandler&quot;&gt;\r\n         &lt;lst name=&quot;defaults&quot;&gt;\r\n           &lt;str name=&quot;echoParams&quot;&gt;explicit&lt;/str&gt;\r\n           &lt;str name=&quot;wt&quot;&gt;json&lt;/str&gt;\r\n           &lt;str name=&quot;indent&quot;&gt;true&lt;/str&gt;\r\n           &lt;str name=&quot;df&quot;&gt;text&lt;/str&gt;\r\n         &lt;/lst&gt;\r\n      &lt;/requestHandler&gt;\r\n    \r\n    \r\n    \r\n      &lt;requestHandler name=&quot;/export&quot; class=&quot;solr.SearchHandler&quot;&gt;\r\n        &lt;lst name=&quot;invariants&quot;&gt;\r\n          &lt;str name=&quot;rq&quot;&gt;{!xport}&lt;/str&gt;\r\n          &lt;str name=&quot;wt&quot;&gt;xsort&lt;/str&gt;\r\n          &lt;str name=&quot;distrib&quot;&gt;false&lt;/str&gt;\r\n        &lt;/lst&gt;\r\n    \r\n        &lt;arr name=&quot;components&quot;&gt;\r\n          &lt;str&gt;query&lt;/str&gt;\r\n        &lt;/arr&gt;\r\n      &lt;/requestHandler&gt;\r\n    \r\n    \r\n    \r\n      &lt;requestHandler name=&quot;/browse&quot; class=&quot;solr.SearchHandler&quot;&gt;\r\n         &lt;lst name=&quot;defaults&quot;&gt;\r\n           &lt;str name=&quot;echoParams&quot;&gt;explicit&lt;/str&gt;\r\n    \r\n           &lt;!-- VelocityResponseWriter settings --&gt;\r\n           &lt;str name=&quot;wt&quot;&gt;velocity&lt;/str&gt;\r\n           &lt;str name=&quot;v.template&quot;&gt;browse&lt;/str&gt;\r\n           &lt;str name=&quot;v.layout&quot;&gt;layout&lt;/str&gt;\r\n           &lt;str name=&quot;title&quot;&gt;Solritas&lt;/str&gt;\r\n    \r\n           &lt;!-- Query settings --&gt;\r\n           &lt;str name=&quot;defType&quot;&gt;edismax&lt;/str&gt;\r\n           &lt;str name=&quot;qf&quot;&gt;\r\n              text^0.5 features^1.0 name^1.2 sku^1.5 id^10.0 manu^1.1 cat^1.4\r\n              title^10.0 description^5.0 keywords^5.0 author^2.0 resourcename^1.0\r\n           &lt;/str&gt;\r\n           &lt;str name=&quot;mm&quot;&gt;100%&lt;/str&gt;\r\n           &lt;str name=&quot;q.alt&quot;&gt;*:*&lt;/str&gt;\r\n           &lt;str name=&quot;rows&quot;&gt;10&lt;/str&gt;\r\n           &lt;str name=&quot;fl&quot;&gt;*,score&lt;/str&gt;\r\n    \r\n           &lt;str name=&quot;mlt.qf&quot;&gt;\r\n             text^0.5 features^1.0 name^1.2 sku^1.5 id^10.0 manu^1.1 cat^1.4\r\n             title^10.0 description^5.0 keywords^5.0 author^2.0 resourcename^1.0\r\n           &lt;/str&gt;\r\n           &lt;str name=&quot;mlt.fl&quot;&gt;text,features,name,sku,id,manu,cat,title,description,keywords,author,resourcename&lt;/str&gt;\r\n           &lt;int name=&quot;mlt.count&quot;&gt;3&lt;/int&gt;\r\n    \r\n           &lt;!-- Faceting defaults --&gt;\r\n           &lt;str name=&quot;facet&quot;&gt;on&lt;/str&gt;\r\n           &lt;str name=&quot;facet.missing&quot;&gt;true&lt;/str&gt;\r\n           &lt;str name=&quot;facet.field&quot;&gt;cat&lt;/str&gt;\r\n           &lt;str name=&quot;facet.field&quot;&gt;manu_exact&lt;/str&gt;\r\n           &lt;str name=&quot;facet.field&quot;&gt;content_type&lt;/str&gt;\r\n           &lt;str name=&quot;facet.field&quot;&gt;author_s&lt;/str&gt;\r\n           &lt;str name=&quot;facet.query&quot;&gt;ipod&lt;/str&gt;\r\n           &lt;str name=&quot;facet.query&quot;&gt;GB&lt;/str&gt;\r\n           &lt;str name=&quot;facet.mincount&quot;&gt;1&lt;/str&gt;\r\n           &lt;str name=&quot;facet.pivot&quot;&gt;cat,inStock&lt;/str&gt;\r\n           &lt;str name=&quot;facet.range.other&quot;&gt;after&lt;/str&gt;\r\n           &lt;str name=&quot;facet.range&quot;&gt;price&lt;/str&gt;\r\n           &lt;int name=&quot;f.price.facet.range.start&quot;&gt;0&lt;/int&gt;\r\n           &lt;int name=&quot;f.price.facet.range.end&quot;&gt;600&lt;/int&gt;\r\n           &lt;int name=&quot;f.price.facet.range.gap&quot;&gt;50&lt;/int&gt;\r\n           &lt;str name=&quot;facet.range&quot;&gt;popularity&lt;/str&gt;\r\n           &lt;int name=&quot;f.popularity.facet.range.start&quot;&gt;0&lt;/int&gt;\r\n           &lt;int name=&quot;f.popularity.facet.range.end&quot;&gt;10&lt;/int&gt;\r\n           &lt;int name=&quot;f.popularity.facet.range.gap&quot;&gt;3&lt;/int&gt;\r\n           &lt;str name=&quot;facet.range&quot;&gt;manufacturedate_dt&lt;/str&gt;\r\n           &lt;str name=&quot;f.manufacturedate_dt.facet.range.start&quot;&gt;NOW/YEAR-10YEARS&lt;/str&gt;\r\n           &lt;str name=&quot;f.manufacturedate_dt.facet.range.end&quot;&gt;NOW&lt;/str&gt;\r\n           &lt;str name=&quot;f.manufacturedate_dt.facet.range.gap&quot;&gt;+1YEAR&lt;/str&gt;\r\n           &lt;str name=&quot;f.manufacturedate_dt.facet.range.other&quot;&gt;before&lt;/str&gt;\r\n           &lt;str name=&quot;f.manufacturedate_dt.facet.range.other&quot;&gt;after&lt;/str&gt;\r\n    \r\n           &lt;!-- Highlighting defaults --&gt;\r\n           &lt;str name=&quot;hl&quot;&gt;on&lt;/str&gt;\r\n           &lt;str name=&quot;hl.fl&quot;&gt;content features title name&lt;/str&gt;\r\n           &lt;str name=&quot;hl.preserveMulti&quot;&gt;true&lt;/str&gt;\r\n           &lt;str name=&quot;hl.encoder&quot;&gt;html&lt;/str&gt;\r\n           &lt;str name=&quot;hl.simple.pre&quot;&gt;&amp;lt;b&amp;gt;&lt;/str&gt;\r\n           &lt;str name=&quot;hl.simple.post&quot;&gt;&amp;lt;/b&amp;gt;&lt;/str&gt;\r\n           &lt;str name=&quot;f.title.hl.fragsize&quot;&gt;0&lt;/str&gt;\r\n           &lt;str name=&quot;f.title.hl.alternateField&quot;&gt;title&lt;/str&gt;\r\n           &lt;str name=&quot;f.name.hl.fragsize&quot;&gt;0&lt;/str&gt;\r\n           &lt;str name=&quot;f.name.hl.alternateField&quot;&gt;name&lt;/str&gt;\r\n           &lt;str name=&quot;f.content.hl.snippets&quot;&gt;3&lt;/str&gt;\r\n           &lt;str name=&quot;f.content.hl.fragsize&quot;&gt;200&lt;/str&gt;\r\n           &lt;str name=&quot;f.content.hl.alternateField&quot;&gt;content&lt;/str&gt;\r\n           &lt;str name=&quot;f.content.hl.maxAlternateFieldLength&quot;&gt;750&lt;/str&gt;\r\n    \r\n           &lt;!-- Spell checking defaults --&gt;\r\n           &lt;str name=&quot;spellcheck&quot;&gt;on&lt;/str&gt;\r\n           &lt;str name=&quot;spellcheck.extendedResults&quot;&gt;false&lt;/str&gt;       \r\n           &lt;str name=&quot;spellcheck.count&quot;&gt;5&lt;/str&gt;\r\n           &lt;str name=&quot;spellcheck.alternativeTermCount&quot;&gt;2&lt;/str&gt;\r\n           &lt;str name=&quot;spellcheck.maxResultsForSuggest&quot;&gt;5&lt;/str&gt;       \r\n           &lt;str name=&quot;spellcheck.collate&quot;&gt;true&lt;/str&gt;\r\n           &lt;str name=&quot;spellcheck.collateExtendedResults&quot;&gt;true&lt;/str&gt;  \r\n           &lt;str name=&quot;spellcheck.maxCollationTries&quot;&gt;5&lt;/str&gt;\r\n           &lt;str name=&quot;spellcheck.maxCollations&quot;&gt;3&lt;/str&gt;           \r\n         &lt;/lst&gt;\r\n    \r\n         &lt;!-- append spellchecking to our list of components --&gt;\r\n         &lt;arr name=&quot;last-components&quot;&gt;\r\n           &lt;str&gt;spellcheck&lt;/str&gt;\r\n         &lt;/arr&gt;\r\n      &lt;/requestHandler&gt;\r\n    \r\n      &lt;!--&lt;requestHandler name=&quot;/update&quot; class=&quot;solr.UpdateRequestHandler&quot;&gt;\r\n      &lt;/requestHandler&gt;--&gt;\r\n      &lt;initParams path=&quot;/update/**,/query,/select,/tvrh,/elevate,/spell,/browse&quot;&gt;\r\n        &lt;lst name=&quot;defaults&quot;&gt;\r\n          &lt;str name=&quot;df&quot;&gt;text&lt;/str&gt;\r\n        &lt;/lst&gt;\r\n      &lt;/initParams&gt;\r\n    \r\n      &lt;initParams path=&quot;/update/json/docs&quot;&gt;\r\n        &lt;lst name=&quot;defaults&quot;&gt;\r\n          &lt;!--this ensures that the entire json doc will be stored verbatim into one field--&gt;\r\n          &lt;str name=&quot;srcField&quot;&gt;_src_&lt;/str&gt;\r\n         \r\n          &lt;str name=&quot;mapUniqueKeyOnly&quot;&gt;true&lt;/str&gt;\r\n        &lt;/lst&gt;\r\n    \r\n      &lt;/initParams&gt;\r\n    \r\n    \r\n       \r\n      &lt;requestHandler name=&quot;/update/extract&quot; \r\n                      startup=&quot;lazy&quot;\r\n                      class=&quot;solr.extraction.ExtractingRequestHandler&quot; &gt;\r\n        &lt;lst name=&quot;defaults&quot;&gt;\r\n          &lt;str name=&quot;lowernames&quot;&gt;true&lt;/str&gt;\r\n          &lt;str name=&quot;uprefix&quot;&gt;ignored_&lt;/str&gt;\r\n    \r\n        \r\n          &lt;str name=&quot;captureAttr&quot;&gt;true&lt;/str&gt;\r\n          &lt;str name=&quot;fmap.a&quot;&gt;links&lt;/str&gt;\r\n          &lt;str name=&quot;fmap.div&quot;&gt;ignored_&lt;/str&gt;\r\n        &lt;/lst&gt;\r\n      &lt;/requestHandler&gt;\r\n    \r\n    \r\n      &lt;requestHandler name=&quot;/analysis/field&quot; \r\n                      startup=&quot;lazy&quot;\r\n                      class=&quot;solr.FieldAnalysisRequestHandler&quot; /&gt;\r\n    \r\n      &lt;requestHandler name=&quot;/analysis/document&quot; \r\n                      class=&quot;solr.DocumentAnalysisRequestHandler&quot; \r\n                      startup=&quot;lazy&quot; /&gt;\r\n    \r\n      &lt;requestHandler name=&quot;/debug/dump&quot; class=&quot;solr.DumpRequestHandler&quot; &gt;\r\n        &lt;lst name=&quot;defaults&quot;&gt;\r\n         &lt;str name=&quot;echoParams&quot;&gt;explicit&lt;/str&gt; \r\n         &lt;str name=&quot;echoHandler&quot;&gt;true&lt;/str&gt;\r\n        &lt;/lst&gt;\r\n      &lt;/requestHandler&gt;\r\n      \r\n      \r\n      &lt;searchComponent name=&quot;spellcheck&quot; class=&quot;solr.SpellCheckComponent&quot;&gt;\r\n    \r\n        &lt;str name=&quot;queryAnalyzerFieldType&quot;&gt;text_general&lt;/str&gt;\r\n    \r\n       \r\n        &lt;lst name=&quot;spellchecker&quot;&gt;\r\n          &lt;str name=&quot;name&quot;&gt;default&lt;/str&gt;\r\n          &lt;str name=&quot;field&quot;&gt;text&lt;/str&gt;\r\n          &lt;str name=&quot;classname&quot;&gt;solr.DirectSolrSpellChecker&lt;/str&gt;\r\n          &lt;!-- the spellcheck distance measure used, the default is the internal levenshtein --&gt;\r\n          &lt;str name=&quot;distanceMeasure&quot;&gt;internal&lt;/str&gt;\r\n          &lt;!-- minimum accuracy needed to be considered a valid spellcheck suggestion --&gt;\r\n          &lt;float name=&quot;accuracy&quot;&gt;0.5&lt;/float&gt;\r\n          &lt;!-- the maximum #edits we consider when enumerating terms: can be 1 or 2 --&gt;\r\n          &lt;int name=&quot;maxEdits&quot;&gt;2&lt;/int&gt;\r\n          &lt;!-- the minimum shared prefix when enumerating terms --&gt;\r\n          &lt;int name=&quot;minPrefix&quot;&gt;1&lt;/int&gt;\r\n          &lt;!-- maximum number of inspections per result. --&gt;\r\n          &lt;int name=&quot;maxInspections&quot;&gt;5&lt;/int&gt;\r\n          &lt;!-- minimum length of a query term to be considered for correction --&gt;\r\n          &lt;int name=&quot;minQueryLength&quot;&gt;4&lt;/int&gt;\r\n          &lt;!-- maximum threshold of documents a query term can appear to be considered for correction --&gt;\r\n          &lt;float name=&quot;maxQueryFrequency&quot;&gt;0.01&lt;/float&gt;\r\n          &lt;!-- uncomment this to require suggestions to occur in 1% of the documents\r\n          \t&lt;float name=&quot;thresholdTokenFrequency&quot;&gt;.01&lt;/float&gt;\r\n          --&gt;\r\n        &lt;/lst&gt;\r\n        \r\n        &lt;!-- a spellchecker that can break or combine words.  See &quot;/spell&quot; handler below for usage --&gt;\r\n        &lt;lst name=&quot;spellchecker&quot;&gt;\r\n          &lt;str name=&quot;name&quot;&gt;wordbreak&lt;/str&gt;\r\n          &lt;str name=&quot;classname&quot;&gt;solr.WordBreakSolrSpellChecker&lt;/str&gt;      \r\n          &lt;str name=&quot;field&quot;&gt;name&lt;/str&gt;\r\n          &lt;str name=&quot;combineWords&quot;&gt;true&lt;/str&gt;\r\n          &lt;str name=&quot;breakWords&quot;&gt;true&lt;/str&gt;\r\n          &lt;int name=&quot;maxChanges&quot;&gt;10&lt;/int&gt;\r\n        &lt;/lst&gt;\r\n    \r\n        \r\n      &lt;/searchComponent&gt;\r\n      \r\n     \r\n      &lt;requestHandler name=&quot;/spell&quot; class=&quot;solr.SearchHandler&quot; startup=&quot;lazy&quot;&gt;\r\n        &lt;lst name=&quot;defaults&quot;&gt;\r\n         \r\n          &lt;str name=&quot;spellcheck.dictionary&quot;&gt;default&lt;/str&gt;\r\n          &lt;str name=&quot;spellcheck.dictionary&quot;&gt;wordbreak&lt;/str&gt;\r\n          &lt;str name=&quot;spellcheck&quot;&gt;on&lt;/str&gt;\r\n          &lt;str name=&quot;spellcheck.extendedResults&quot;&gt;true&lt;/str&gt;       \r\n          &lt;str name=&quot;spellcheck.count&quot;&gt;10&lt;/str&gt;\r\n          &lt;str name=&quot;spellcheck.alternativeTermCount&quot;&gt;5&lt;/str&gt;\r\n          &lt;str name=&quot;spellcheck.maxResultsForSuggest&quot;&gt;5&lt;/str&gt;       \r\n          &lt;str name=&quot;spellcheck.collate&quot;&gt;true&lt;/str&gt;\r\n          &lt;str name=&quot;spellcheck.collateExtendedResults&quot;&gt;true&lt;/str&gt;  \r\n          &lt;str name=&quot;spellcheck.maxCollationTries&quot;&gt;10&lt;/str&gt;\r\n          &lt;str name=&quot;spellcheck.maxCollations&quot;&gt;5&lt;/str&gt;         \r\n        &lt;/lst&gt;\r\n        &lt;arr name=&quot;last-components&quot;&gt;\r\n          &lt;str&gt;spellcheck&lt;/str&gt;\r\n        &lt;/arr&gt;\r\n      &lt;/requestHandler&gt;\r\n    \r\n      \r\n      &lt;searchComponent name=&quot;suggest&quot; class=&quot;solr.SuggestComponent&quot; \r\n                       enable=&quot;${solr.suggester.enabled:false}&quot;     &gt;\r\n        &lt;lst name=&quot;suggester&quot;&gt;\r\n          &lt;str name=&quot;name&quot;&gt;mySuggester&lt;/str&gt;\r\n          &lt;str name=&quot;lookupImpl&quot;&gt;FuzzyLookupFactory&lt;/str&gt;      \r\n          &lt;str name=&quot;dictionaryImpl&quot;&gt;DocumentDictionaryFactory&lt;/str&gt;\r\n          &lt;str name=&quot;field&quot;&gt;cat&lt;/str&gt;\r\n          &lt;str name=&quot;weightField&quot;&gt;price&lt;/str&gt;\r\n          &lt;str name=&quot;suggestAnalyzerFieldType&quot;&gt;string&lt;/str&gt;\r\n        &lt;/lst&gt;\r\n      &lt;/searchComponent&gt;\r\n    \r\n      &lt;requestHandler name=&quot;/suggest&quot; class=&quot;solr.SearchHandler&quot; \r\n                      startup=&quot;lazy&quot; enable=&quot;${solr.suggester.enabled:false}&quot; &gt;\r\n        &lt;lst name=&quot;defaults&quot;&gt;\r\n          &lt;str name=&quot;suggest&quot;&gt;true&lt;/str&gt;\r\n          &lt;str name=&quot;suggest.count&quot;&gt;10&lt;/str&gt;\r\n        &lt;/lst&gt;\r\n        &lt;arr name=&quot;components&quot;&gt;\r\n          &lt;str&gt;suggest&lt;/str&gt;\r\n        &lt;/arr&gt;\r\n      &lt;/requestHandler&gt;\r\n     \r\n    \r\n    \r\n      \r\n      &lt;searchComponent name=&quot;tvComponent&quot; class=&quot;solr.TermVectorComponent&quot;/&gt;\r\n    \r\n      \r\n      &lt;requestHandler name=&quot;/tvrh&quot; class=&quot;solr.SearchHandler&quot; startup=&quot;lazy&quot;&gt;\r\n        &lt;lst name=&quot;defaults&quot;&gt;\r\n          &lt;bool name=&quot;tv&quot;&gt;true&lt;/bool&gt;\r\n        &lt;/lst&gt;\r\n        &lt;arr name=&quot;last-components&quot;&gt;\r\n          &lt;str&gt;tvComponent&lt;/str&gt;\r\n        &lt;/arr&gt;\r\n      &lt;/requestHandler&gt;\r\n    \r\n      \r\n      &lt;searchComponent name=&quot;clustering&quot;\r\n                       enable=&quot;${solr.clustering.enabled:false}&quot;\r\n                       class=&quot;solr.clustering.ClusteringComponent&quot; &gt;\r\n        &lt;lst name=&quot;engine&quot;&gt;\r\n          &lt;str name=&quot;name&quot;&gt;lingo&lt;/str&gt;\r\n    \r\n         \r\n          &lt;str name=&quot;carrot.algorithm&quot;&gt;org.carrot2.clustering.lingo.LingoClusteringAlgorithm&lt;/str&gt;\r\n    \r\n          &lt;str name=&quot;carrot.resourcesDir&quot;&gt;clustering/carrot2&lt;/str&gt;\r\n        &lt;/lst&gt;\r\n    \r\n        &lt;!-- An example definition for the STC clustering algorithm. --&gt;\r\n        &lt;lst name=&quot;engine&quot;&gt;\r\n          &lt;str name=&quot;name&quot;&gt;stc&lt;/str&gt;\r\n          &lt;str name=&quot;carrot.algorithm&quot;&gt;org.carrot2.clustering.stc.STCClusteringAlgorithm&lt;/str&gt;\r\n        &lt;/lst&gt;\r\n    \r\n        &lt;!-- An example definition for the bisecting kmeans clustering algorithm. --&gt;\r\n        &lt;lst name=&quot;engine&quot;&gt;\r\n          &lt;str name=&quot;name&quot;&gt;kmeans&lt;/str&gt;\r\n          &lt;str name=&quot;carrot.algorithm&quot;&gt;org.carrot2.clustering.kmeans.BisectingKMeansClusteringAlgorithm&lt;/str&gt;\r\n        &lt;/lst&gt;\r\n      &lt;/searchComponent&gt;\r\n    \r\n      \r\n      &lt;requestHandler name=&quot;/clustering&quot;\r\n                      startup=&quot;lazy&quot;\r\n                      enable=&quot;${solr.clustering.enabled:false}&quot;\r\n                      class=&quot;solr.SearchHandler&quot;&gt;\r\n        &lt;lst name=&quot;defaults&quot;&gt;\r\n          &lt;bool name=&quot;clustering&quot;&gt;true&lt;/bool&gt;\r\n          &lt;bool name=&quot;clustering.results&quot;&gt;true&lt;/bool&gt;\r\n          &lt;!-- Field name with the logical &quot;title&quot; of a each document (optional) --&gt;\r\n          &lt;str name=&quot;carrot.title&quot;&gt;name&lt;/str&gt;\r\n          &lt;!-- Field name with the logical &quot;URL&quot; of a each document (optional) --&gt;\r\n          &lt;str name=&quot;carrot.url&quot;&gt;id&lt;/str&gt;\r\n          &lt;!-- Field name with the logical &quot;content&quot; of a each document (optional) --&gt;\r\n          &lt;str name=&quot;carrot.snippet&quot;&gt;features&lt;/str&gt;\r\n          &lt;!-- Apply highlighter to the title/ content and use this for clustering. --&gt;\r\n          &lt;bool name=&quot;carrot.produceSummary&quot;&gt;true&lt;/bool&gt;\r\n          &lt;!-- the maximum number of labels per cluster --&gt;\r\n          &lt;!--&lt;int name=&quot;carrot.numDescriptions&quot;&gt;5&lt;/int&gt;--&gt;\r\n          &lt;!-- produce sub clusters --&gt;\r\n          &lt;bool name=&quot;carrot.outputSubClusters&quot;&gt;false&lt;/bool&gt;\r\n    \r\n          &lt;!-- Configure the remaining request handler parameters. --&gt;\r\n          &lt;str name=&quot;defType&quot;&gt;edismax&lt;/str&gt;\r\n          &lt;str name=&quot;qf&quot;&gt;\r\n            text^0.5 features^1.0 name^1.2 sku^1.5 id^10.0 manu^1.1 cat^1.4\r\n          &lt;/str&gt;\r\n          &lt;str name=&quot;q.alt&quot;&gt;*:*&lt;/str&gt;\r\n          &lt;str name=&quot;rows&quot;&gt;10&lt;/str&gt;\r\n          &lt;str name=&quot;fl&quot;&gt;*,score&lt;/str&gt;\r\n        &lt;/lst&gt;\r\n        &lt;arr name=&quot;last-components&quot;&gt;\r\n          &lt;str&gt;clustering&lt;/str&gt;\r\n        &lt;/arr&gt;\r\n      &lt;/requestHandler&gt;\r\n      \r\n     \r\n      &lt;searchComponent name=&quot;terms&quot; class=&quot;solr.TermsComponent&quot;/&gt;\r\n    \r\n      &lt;!-- A request handler for demonstrating the terms component --&gt;\r\n      &lt;requestHandler name=&quot;/terms&quot; class=&quot;solr.SearchHandler&quot; startup=&quot;lazy&quot;&gt;\r\n         &lt;lst name=&quot;defaults&quot;&gt;\r\n          &lt;bool name=&quot;terms&quot;&gt;true&lt;/bool&gt;\r\n          &lt;bool name=&quot;distrib&quot;&gt;false&lt;/bool&gt;\r\n        &lt;/lst&gt;     \r\n        &lt;arr name=&quot;components&quot;&gt;\r\n          &lt;str&gt;terms&lt;/str&gt;\r\n        &lt;/arr&gt;\r\n      &lt;/requestHandler&gt;\r\n    \r\n      &lt;searchComponent name=&quot;elevator&quot; class=&quot;solr.QueryElevationComponent&quot; &gt;\r\n        &lt;!-- pick a fieldType to analyze queries --&gt;\r\n        &lt;str name=&quot;queryFieldType&quot;&gt;string&lt;/str&gt;\r\n        &lt;str name=&quot;config-file&quot;&gt;elevate.xml&lt;/str&gt;\r\n      &lt;/searchComponent&gt;\r\n    \r\n      \r\n      &lt;requestHandler name=&quot;/elevate&quot; class=&quot;solr.SearchHandler&quot; startup=&quot;lazy&quot;&gt;\r\n        &lt;lst name=&quot;defaults&quot;&gt;\r\n          &lt;str name=&quot;echoParams&quot;&gt;explicit&lt;/str&gt;\r\n        &lt;/lst&gt;\r\n        &lt;arr name=&quot;last-components&quot;&gt;\r\n          &lt;str&gt;elevator&lt;/str&gt;\r\n        &lt;/arr&gt;\r\n      &lt;/requestHandler&gt;\r\n    \r\n      \r\n      &lt;searchComponent class=&quot;solr.HighlightComponent&quot; name=&quot;highlight&quot;&gt;\r\n        &lt;highlighting&gt;\r\n          &lt;!-- Configure the standard fragmenter --&gt;\r\n          &lt;!-- This could most likely be commented out in the &quot;default&quot; case --&gt;\r\n          &lt;fragmenter name=&quot;gap&quot; \r\n                      default=&quot;true&quot;\r\n                      class=&quot;solr.highlight.GapFragmenter&quot;&gt;\r\n            &lt;lst name=&quot;defaults&quot;&gt;\r\n              &lt;int name=&quot;hl.fragsize&quot;&gt;100&lt;/int&gt;\r\n            &lt;/lst&gt;\r\n          &lt;/fragmenter&gt;\r\n    \r\n        \r\n          &lt;fragmenter name=&quot;regex&quot; \r\n                      class=&quot;solr.highlight.RegexFragmenter&quot;&gt;\r\n            &lt;lst name=&quot;defaults&quot;&gt;\r\n              &lt;!-- slightly smaller fragsizes work better because of slop --&gt;\r\n              &lt;int name=&quot;hl.fragsize&quot;&gt;70&lt;/int&gt;\r\n              &lt;!-- allow 50% slop on fragment sizes --&gt;\r\n              &lt;float name=&quot;hl.regex.slop&quot;&gt;0.5&lt;/float&gt;\r\n              &lt;!-- a basic sentence pattern --&gt;\r\n              &lt;str name=&quot;hl.regex.pattern&quot;&gt;[-\\w ,/\\n\\&amp;quot;&amp;apos;]{20,200}&lt;/str&gt;\r\n            &lt;/lst&gt;\r\n          &lt;/fragmenter&gt;\r\n    \r\n          &lt;!-- Configure the standard formatter --&gt;\r\n          &lt;formatter name=&quot;html&quot; \r\n                     default=&quot;true&quot;\r\n                     class=&quot;solr.highlight.HtmlFormatter&quot;&gt;\r\n            &lt;lst name=&quot;defaults&quot;&gt;\r\n              &lt;str name=&quot;hl.simple.pre&quot;&gt;&lt;![CDATA[&lt;em&gt;]]&gt;&lt;/str&gt;\r\n              &lt;str name=&quot;hl.simple.post&quot;&gt;&lt;![CDATA[&lt;/em&gt;]]&gt;&lt;/str&gt;\r\n            &lt;/lst&gt;\r\n          &lt;/formatter&gt;\r\n    \r\n          &lt;!-- Configure the standard encoder --&gt;\r\n          &lt;encoder name=&quot;html&quot; \r\n                   class=&quot;solr.highlight.HtmlEncoder&quot; /&gt;\r\n    \r\n          &lt;!-- Configure the standard fragListBuilder --&gt;\r\n          &lt;fragListBuilder name=&quot;simple&quot; \r\n                           class=&quot;solr.highlight.SimpleFragListBuilder&quot;/&gt;\r\n          \r\n          &lt;!-- Configure the single fragListBuilder --&gt;\r\n          &lt;fragListBuilder name=&quot;single&quot; \r\n                           class=&quot;solr.highlight.SingleFragListBuilder&quot;/&gt;\r\n          \r\n          &lt;!-- Configure the weighted fragListBuilder --&gt;\r\n          &lt;fragListBuilder name=&quot;weighted&quot; \r\n                           default=&quot;true&quot;\r\n                           class=&quot;solr.highlight.WeightedFragListBuilder&quot;/&gt;\r\n          \r\n          &lt;!-- default tag FragmentsBuilder --&gt;\r\n          &lt;fragmentsBuilder name=&quot;default&quot; \r\n                            default=&quot;true&quot;\r\n                            class=&quot;solr.highlight.ScoreOrderFragmentsBuilder&quot;&gt;\r\n           \r\n          &lt;/fragmentsBuilder&gt;\r\n    \r\n          &lt;!-- multi-colored tag FragmentsBuilder --&gt;\r\n          &lt;fragmentsBuilder name=&quot;colored&quot; \r\n                            class=&quot;solr.highlight.ScoreOrderFragmentsBuilder&quot;&gt;\r\n            &lt;lst name=&quot;defaults&quot;&gt;\r\n              &lt;str name=&quot;hl.tag.pre&quot;&gt;&lt;![CDATA[\r\n                   &lt;b style=&quot;background:yellow&quot;&gt;,&lt;b style=&quot;background:lawgreen&quot;&gt;,\r\n                   &lt;b style=&quot;background:aquamarine&quot;&gt;,&lt;b style=&quot;background:magenta&quot;&gt;,\r\n                   &lt;b style=&quot;background:palegreen&quot;&gt;,&lt;b style=&quot;background:coral&quot;&gt;,\r\n                   &lt;b style=&quot;background:wheat&quot;&gt;,&lt;b style=&quot;background:khaki&quot;&gt;,\r\n                   &lt;b style=&quot;background:lime&quot;&gt;,&lt;b style=&quot;background:deepskyblue&quot;&gt;]]&gt;&lt;/str&gt;\r\n              &lt;str name=&quot;hl.tag.post&quot;&gt;&lt;![CDATA[&lt;/b&gt;]]&gt;&lt;/str&gt;\r\n            &lt;/lst&gt;\r\n          &lt;/fragmentsBuilder&gt;\r\n          \r\n          &lt;boundaryScanner name=&quot;default&quot; \r\n                           default=&quot;true&quot;\r\n                           class=&quot;solr.highlight.SimpleBoundaryScanner&quot;&gt;\r\n            &lt;lst name=&quot;defaults&quot;&gt;\r\n              &lt;str name=&quot;hl.bs.maxScan&quot;&gt;10&lt;/str&gt;\r\n              &lt;str name=&quot;hl.bs.chars&quot;&gt;.,!? &amp;#9;&amp;#10;&amp;#13;&lt;/str&gt;\r\n            &lt;/lst&gt;\r\n          &lt;/boundaryScanner&gt;\r\n          \r\n          &lt;boundaryScanner name=&quot;breakIterator&quot; \r\n                           class=&quot;solr.highlight.BreakIteratorBoundaryScanner&quot;&gt;\r\n            &lt;lst name=&quot;defaults&quot;&gt;\r\n              &lt;!-- type should be one of CHARACTER, WORD(default), LINE and SENTENCE --&gt;\r\n              &lt;str name=&quot;hl.bs.type&quot;&gt;WORD&lt;/str&gt;\r\n              &lt;!-- language and country are used when constructing Locale object.  --&gt;\r\n              &lt;!-- And the Locale object will be used when getting instance of BreakIterator --&gt;\r\n              &lt;str name=&quot;hl.bs.language&quot;&gt;en&lt;/str&gt;\r\n              &lt;str name=&quot;hl.bs.country&quot;&gt;US&lt;/str&gt;\r\n            &lt;/lst&gt;\r\n          &lt;/boundaryScanner&gt;\r\n        &lt;/highlighting&gt;\r\n      &lt;/searchComponent&gt;\r\n    \r\n    \r\n      &lt;queryResponseWriter name=&quot;json&quot; class=&quot;solr.JSONResponseWriter&quot;&gt;\r\n        \r\n        &lt;str name=&quot;content-type&quot;&gt;text/plain; charset=UTF-8&lt;/str&gt;\r\n      &lt;/queryResponseWriter&gt;\r\n      \r\n      &lt;!--\r\n         Custom response writers can be declared as needed...\r\n        --&gt;\r\n        &lt;queryResponseWriter name=&quot;velocity&quot; class=&quot;solr.VelocityResponseWriter&quot; startup=&quot;lazy&quot;&gt;\r\n          &lt;str name=&quot;template.base.dir&quot;&gt;${velocity.template.base.dir:}&lt;/str&gt;\r\n        &lt;/queryResponseWriter&gt;\r\n      \r\n    \r\n      &lt;queryResponseWriter name=&quot;xslt&quot; class=&quot;solr.XSLTResponseWriter&quot;&gt;\r\n        &lt;int name=&quot;xsltCacheLifetimeSeconds&quot;&gt;5&lt;/int&gt;\r\n      &lt;/queryResponseWriter&gt;\r\n    \r\n      \r\n      &lt;admin&gt;\r\n        &lt;defaultQuery&gt;*:*&lt;/defaultQuery&gt;\r\n      &lt;/admin&gt;\r\n    \r\n    &lt;/config&gt;","title":"SolrCore Initialization Failures","body":"<p>I am using Solr-5.0.0 and when i am trying to create  a core in that i am getting the following error in logging.</p>\n\n<pre><code>SolrCore Initialization Failures\norg.apache.solr.common.SolrException:org.apache.solr.common.SolrException: org.apache.solr.core.SolrCore.getRequestHandlers()Ljava/util/Map;\n</code></pre>\n\n<p>This is the exception in the logging</p>\n\n<pre><code>4/17/2015, 3:49:23 PM\nERROR\nSolrCore\njava.lang.NullPointerException\njava.lang.NullPointerException\n    at org.apache.solr.handler.component.SearchHandler.handleRequestBody(SearchHandler.java:190)\n    at org.apache.solr.handler.RequestHandlerBase.handleRequest(RequestHandlerBase.java:143)\n    at org.apache.solr.core.SolrCore.execute(SolrCore.java:1984)\n    at org.apache.solr.core.QuerySenderListener.newSearcher(QuerySenderListener.java:64)\n    at org.apache.solr.core.SolrCore$5.call(SolrCore.java:1751)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\n4/17/2015, 3:49:23 PM\nERROR\nCoreContainer\nError creating core [TEST]: org.apache.solr.core.SolrCore.getRequestHandlers()Ljava/util/Map;\norg.apache.solr.common.SolrException: org.apache.solr.core.SolrCore.getRequestHandlers()Ljava/util/Map;\n    at org.apache.solr.core.SolrCore.&lt;init&gt;(SolrCore.java:885)\n    at org.apache.solr.core.SolrCore.&lt;init&gt;(SolrCore.java:652)\n    at org.apache.solr.core.CoreContainer.create(CoreContainer.java:518)\n    at org.apache.solr.core.CoreContainer$1.call(CoreContainer.java:283)\n    at org.apache.solr.core.CoreContainer$1.call(CoreContainer.java:277)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: java.lang.NoSuchMethodError: org.apache.solr.core.SolrCore.getRequestHandlers()Ljava/util/Map;\n    at org.apache.solr.handler.dataimport.DataImportHandler.inform(DataImportHandler.java:100)\n    at org.apache.solr.core.SolrResourceLoader.inform(SolrResourceLoader.java:620)\n    at org.apache.solr.core.SolrCore.&lt;init&gt;(SolrCore.java:868)\n</code></pre>\n\n<p>My actual data is in mongoDB.</p>\n\n<p>My solrconfig.xml file is given below.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;\n\n&lt;config&gt;\n\n  &lt;luceneMatchVersion&gt;5.0.0&lt;/luceneMatchVersion&gt;\n\n\n  &lt;lib dir=\"${solr.install.dir:../../../..}/contrib/extraction/lib\" regex=\".*\\.jar\" /&gt;\n  &lt;lib dir=\"${solr.install.dir:../../../..}/dist/\" regex=\"solr-cell-\\d.*\\.jar\" /&gt;\n\n  &lt;lib dir=\"${solr.install.dir:../../../..}/contrib/clustering/lib/\" regex=\".*\\.jar\" /&gt;\n  &lt;lib dir=\"${solr.install.dir:../../../..}/dist/\" regex=\"solr-clustering-\\d.*\\.jar\" /&gt;\n\n  &lt;lib dir=\"${solr.install.dir:../../../..}/contrib/langid/lib/\" regex=\".*\\.jar\" /&gt;\n  &lt;lib dir=\"${solr.install.dir:../../../..}/dist/\" regex=\"solr-langid-\\d.*\\.jar\" /&gt;\n\n  &lt;lib dir=\"${solr.install.dir:../../../..}/contrib/velocity/lib\" regex=\".*\\.jar\" /&gt;\n  &lt;lib dir=\"${solr.install.dir:../../../..}/dist/\" regex=\"solr-velocity-\\d.*\\.jar\" /&gt;\n  &lt;lib dir=\"${solr.install.dir:../../../..}/dist/solr-mongo-importer-1.0.0.jar\" /&gt;\n  &lt;lib dir=\"${solr.install.dir:../../../..}/dist/mongo-java-driver-2.9.0.jar\" /&gt;\n\n\n  &lt;dataDir&gt;${solr.data.dir:}&lt;/dataDir&gt;\n\n\n  &lt;directoryFactory name=\"DirectoryFactory\" \n                    class=\"${solr.directoryFactory:solr.NRTCachingDirectoryFactory}\"/&gt;\n\n  &lt;codecFactory class=\"solr.SchemaCodecFactory\"/&gt;\n\n\n  &lt;schemaFactory class=\"ClassicIndexSchemaFactory\"/&gt;\n\n\n  &lt;indexConfig&gt;\n\n    &lt;lockType&gt;${solr.lock.type:native}&lt;/lockType&gt;\n\n\n     &lt;infoStream&gt;true&lt;/infoStream&gt;\n  &lt;/indexConfig&gt;\n\n\n\n  &lt;jmx /&gt;\n\n  &lt;updateHandler class=\"solr.DirectUpdateHandler2\"&gt;\n\n\n    &lt;updateLog&gt;\n      &lt;str name=\"dir\"&gt;${solr.ulog.dir:}&lt;/str&gt;\n    &lt;/updateLog&gt;\n\n\n     &lt;autoCommit&gt; \n       &lt;maxTime&gt;${solr.autoCommit.maxTime:15000}&lt;/maxTime&gt; \n       &lt;openSearcher&gt;false&lt;/openSearcher&gt; \n     &lt;/autoCommit&gt;\n\n\n     &lt;autoSoftCommit&gt; \n       &lt;maxTime&gt;${solr.autoSoftCommit.maxTime:-1}&lt;/maxTime&gt; \n     &lt;/autoSoftCommit&gt;\n\n\n\n  &lt;/updateHandler&gt;\n\n\n  &lt;query&gt;\n\n    &lt;maxBooleanClauses&gt;1024&lt;/maxBooleanClauses&gt;\n\n\n\n    &lt;slowQueryThresholdMillis&gt;-1&lt;/slowQueryThresholdMillis&gt;\n\n\n\n    &lt;filterCache class=\"solr.FastLRUCache\"\n                 size=\"512\"\n                 initialSize=\"512\"\n                 autowarmCount=\"0\"/&gt;\n\n    &lt;queryResultCache class=\"solr.LRUCache\"\n                     size=\"512\"\n                     initialSize=\"512\"\n                     autowarmCount=\"0\"/&gt;\n\n    &lt;documentCache class=\"solr.LRUCache\"\n                   size=\"512\"\n                   initialSize=\"512\"\n                   autowarmCount=\"0\"/&gt;\n\n\n    &lt;cache name=\"perSegFilter\"\n      class=\"solr.search.LRUCache\"\n      size=\"10\"\n      initialSize=\"0\"\n      autowarmCount=\"10\"\n      regenerator=\"solr.NoOpRegenerator\" /&gt;\n\n\n    &lt;enableLazyFieldLoading&gt;true&lt;/enableLazyFieldLoading&gt;\n\n\n   &lt;queryResultWindowSize&gt;20&lt;/queryResultWindowSize&gt;\n\n\n   &lt;queryResultMaxDocsCached&gt;200&lt;/queryResultMaxDocsCached&gt;\n\n    &lt;listener event=\"newSearcher\" class=\"solr.QuerySenderListener\"&gt;\n      &lt;arr name=\"queries\"&gt;\n\n      &lt;/arr&gt;\n    &lt;/listener&gt;\n    &lt;listener event=\"firstSearcher\" class=\"solr.QuerySenderListener\"&gt;\n      &lt;arr name=\"queries\"&gt;\n        &lt;lst&gt;\n          &lt;str name=\"q\"&gt;static firstSearcher warming in solrconfig.xml&lt;/str&gt;\n        &lt;/lst&gt;\n      &lt;/arr&gt;\n    &lt;/listener&gt;\n\n\n    &lt;useColdSearcher&gt;false&lt;/useColdSearcher&gt;\n\n\n    &lt;maxWarmingSearchers&gt;2&lt;/maxWarmingSearchers&gt;\n\n  &lt;/query&gt;\n\n\n\n  &lt;requestDispatcher handleSelect=\"false\" &gt;\n\n    &lt;requestParsers enableRemoteStreaming=\"true\" \n                    multipartUploadLimitInKB=\"2048000\"\n                    formdataUploadLimitInKB=\"2048\"\n                    addHttpRequestToContext=\"false\"/&gt;\n\n\n    &lt;httpCaching never304=\"true\" /&gt;\n\n  &lt;/requestDispatcher&gt;\n\n\n\n    &lt;requestHandler name=\"/dataimport\" class=\"org.apache.solr.handler.dataimport.DataImportHandler\"&gt;  \n    &lt;lst name=\"defaults\"&gt;\n    &lt;str name=\"config\"&gt;dealdeals-data-config.xml&lt;/str&gt;\n    &lt;/lst&gt;\n    &lt;/requestHandler&gt;\n  &lt;requestHandler name=\"/select\" class=\"solr.SearchHandler\"&gt;\n\n     &lt;lst name=\"defaults\"&gt;\n       &lt;str name=\"echoParams\"&gt;explicit&lt;/str&gt;\n       &lt;int name=\"rows\"&gt;10&lt;/int&gt;\n     &lt;/lst&gt;\n\n    &lt;/requestHandler&gt;\n\n\n  &lt;requestHandler name=\"/query\" class=\"solr.SearchHandler\"&gt;\n     &lt;lst name=\"defaults\"&gt;\n       &lt;str name=\"echoParams\"&gt;explicit&lt;/str&gt;\n       &lt;str name=\"wt\"&gt;json&lt;/str&gt;\n       &lt;str name=\"indent\"&gt;true&lt;/str&gt;\n       &lt;str name=\"df\"&gt;text&lt;/str&gt;\n     &lt;/lst&gt;\n  &lt;/requestHandler&gt;\n\n\n\n  &lt;requestHandler name=\"/export\" class=\"solr.SearchHandler\"&gt;\n    &lt;lst name=\"invariants\"&gt;\n      &lt;str name=\"rq\"&gt;{!xport}&lt;/str&gt;\n      &lt;str name=\"wt\"&gt;xsort&lt;/str&gt;\n      &lt;str name=\"distrib\"&gt;false&lt;/str&gt;\n    &lt;/lst&gt;\n\n    &lt;arr name=\"components\"&gt;\n      &lt;str&gt;query&lt;/str&gt;\n    &lt;/arr&gt;\n  &lt;/requestHandler&gt;\n\n\n\n  &lt;requestHandler name=\"/browse\" class=\"solr.SearchHandler\"&gt;\n     &lt;lst name=\"defaults\"&gt;\n       &lt;str name=\"echoParams\"&gt;explicit&lt;/str&gt;\n\n       &lt;!-- VelocityResponseWriter settings --&gt;\n       &lt;str name=\"wt\"&gt;velocity&lt;/str&gt;\n       &lt;str name=\"v.template\"&gt;browse&lt;/str&gt;\n       &lt;str name=\"v.layout\"&gt;layout&lt;/str&gt;\n       &lt;str name=\"title\"&gt;Solritas&lt;/str&gt;\n\n       &lt;!-- Query settings --&gt;\n       &lt;str name=\"defType\"&gt;edismax&lt;/str&gt;\n       &lt;str name=\"qf\"&gt;\n          text^0.5 features^1.0 name^1.2 sku^1.5 id^10.0 manu^1.1 cat^1.4\n          title^10.0 description^5.0 keywords^5.0 author^2.0 resourcename^1.0\n       &lt;/str&gt;\n       &lt;str name=\"mm\"&gt;100%&lt;/str&gt;\n       &lt;str name=\"q.alt\"&gt;*:*&lt;/str&gt;\n       &lt;str name=\"rows\"&gt;10&lt;/str&gt;\n       &lt;str name=\"fl\"&gt;*,score&lt;/str&gt;\n\n       &lt;str name=\"mlt.qf\"&gt;\n         text^0.5 features^1.0 name^1.2 sku^1.5 id^10.0 manu^1.1 cat^1.4\n         title^10.0 description^5.0 keywords^5.0 author^2.0 resourcename^1.0\n       &lt;/str&gt;\n       &lt;str name=\"mlt.fl\"&gt;text,features,name,sku,id,manu,cat,title,description,keywords,author,resourcename&lt;/str&gt;\n       &lt;int name=\"mlt.count\"&gt;3&lt;/int&gt;\n\n       &lt;!-- Faceting defaults --&gt;\n       &lt;str name=\"facet\"&gt;on&lt;/str&gt;\n       &lt;str name=\"facet.missing\"&gt;true&lt;/str&gt;\n       &lt;str name=\"facet.field\"&gt;cat&lt;/str&gt;\n       &lt;str name=\"facet.field\"&gt;manu_exact&lt;/str&gt;\n       &lt;str name=\"facet.field\"&gt;content_type&lt;/str&gt;\n       &lt;str name=\"facet.field\"&gt;author_s&lt;/str&gt;\n       &lt;str name=\"facet.query\"&gt;ipod&lt;/str&gt;\n       &lt;str name=\"facet.query\"&gt;GB&lt;/str&gt;\n       &lt;str name=\"facet.mincount\"&gt;1&lt;/str&gt;\n       &lt;str name=\"facet.pivot\"&gt;cat,inStock&lt;/str&gt;\n       &lt;str name=\"facet.range.other\"&gt;after&lt;/str&gt;\n       &lt;str name=\"facet.range\"&gt;price&lt;/str&gt;\n       &lt;int name=\"f.price.facet.range.start\"&gt;0&lt;/int&gt;\n       &lt;int name=\"f.price.facet.range.end\"&gt;600&lt;/int&gt;\n       &lt;int name=\"f.price.facet.range.gap\"&gt;50&lt;/int&gt;\n       &lt;str name=\"facet.range\"&gt;popularity&lt;/str&gt;\n       &lt;int name=\"f.popularity.facet.range.start\"&gt;0&lt;/int&gt;\n       &lt;int name=\"f.popularity.facet.range.end\"&gt;10&lt;/int&gt;\n       &lt;int name=\"f.popularity.facet.range.gap\"&gt;3&lt;/int&gt;\n       &lt;str name=\"facet.range\"&gt;manufacturedate_dt&lt;/str&gt;\n       &lt;str name=\"f.manufacturedate_dt.facet.range.start\"&gt;NOW/YEAR-10YEARS&lt;/str&gt;\n       &lt;str name=\"f.manufacturedate_dt.facet.range.end\"&gt;NOW&lt;/str&gt;\n       &lt;str name=\"f.manufacturedate_dt.facet.range.gap\"&gt;+1YEAR&lt;/str&gt;\n       &lt;str name=\"f.manufacturedate_dt.facet.range.other\"&gt;before&lt;/str&gt;\n       &lt;str name=\"f.manufacturedate_dt.facet.range.other\"&gt;after&lt;/str&gt;\n\n       &lt;!-- Highlighting defaults --&gt;\n       &lt;str name=\"hl\"&gt;on&lt;/str&gt;\n       &lt;str name=\"hl.fl\"&gt;content features title name&lt;/str&gt;\n       &lt;str name=\"hl.preserveMulti\"&gt;true&lt;/str&gt;\n       &lt;str name=\"hl.encoder\"&gt;html&lt;/str&gt;\n       &lt;str name=\"hl.simple.pre\"&gt;&amp;lt;b&amp;gt;&lt;/str&gt;\n       &lt;str name=\"hl.simple.post\"&gt;&amp;lt;/b&amp;gt;&lt;/str&gt;\n       &lt;str name=\"f.title.hl.fragsize\"&gt;0&lt;/str&gt;\n       &lt;str name=\"f.title.hl.alternateField\"&gt;title&lt;/str&gt;\n       &lt;str name=\"f.name.hl.fragsize\"&gt;0&lt;/str&gt;\n       &lt;str name=\"f.name.hl.alternateField\"&gt;name&lt;/str&gt;\n       &lt;str name=\"f.content.hl.snippets\"&gt;3&lt;/str&gt;\n       &lt;str name=\"f.content.hl.fragsize\"&gt;200&lt;/str&gt;\n       &lt;str name=\"f.content.hl.alternateField\"&gt;content&lt;/str&gt;\n       &lt;str name=\"f.content.hl.maxAlternateFieldLength\"&gt;750&lt;/str&gt;\n\n       &lt;!-- Spell checking defaults --&gt;\n       &lt;str name=\"spellcheck\"&gt;on&lt;/str&gt;\n       &lt;str name=\"spellcheck.extendedResults\"&gt;false&lt;/str&gt;       \n       &lt;str name=\"spellcheck.count\"&gt;5&lt;/str&gt;\n       &lt;str name=\"spellcheck.alternativeTermCount\"&gt;2&lt;/str&gt;\n       &lt;str name=\"spellcheck.maxResultsForSuggest\"&gt;5&lt;/str&gt;       \n       &lt;str name=\"spellcheck.collate\"&gt;true&lt;/str&gt;\n       &lt;str name=\"spellcheck.collateExtendedResults\"&gt;true&lt;/str&gt;  \n       &lt;str name=\"spellcheck.maxCollationTries\"&gt;5&lt;/str&gt;\n       &lt;str name=\"spellcheck.maxCollations\"&gt;3&lt;/str&gt;           \n     &lt;/lst&gt;\n\n     &lt;!-- append spellchecking to our list of components --&gt;\n     &lt;arr name=\"last-components\"&gt;\n       &lt;str&gt;spellcheck&lt;/str&gt;\n     &lt;/arr&gt;\n  &lt;/requestHandler&gt;\n\n  &lt;!--&lt;requestHandler name=\"/update\" class=\"solr.UpdateRequestHandler\"&gt;\n  &lt;/requestHandler&gt;--&gt;\n  &lt;initParams path=\"/update/**,/query,/select,/tvrh,/elevate,/spell,/browse\"&gt;\n    &lt;lst name=\"defaults\"&gt;\n      &lt;str name=\"df\"&gt;text&lt;/str&gt;\n    &lt;/lst&gt;\n  &lt;/initParams&gt;\n\n  &lt;initParams path=\"/update/json/docs\"&gt;\n    &lt;lst name=\"defaults\"&gt;\n      &lt;!--this ensures that the entire json doc will be stored verbatim into one field--&gt;\n      &lt;str name=\"srcField\"&gt;_src_&lt;/str&gt;\n\n      &lt;str name=\"mapUniqueKeyOnly\"&gt;true&lt;/str&gt;\n    &lt;/lst&gt;\n\n  &lt;/initParams&gt;\n\n\n\n  &lt;requestHandler name=\"/update/extract\" \n                  startup=\"lazy\"\n                  class=\"solr.extraction.ExtractingRequestHandler\" &gt;\n    &lt;lst name=\"defaults\"&gt;\n      &lt;str name=\"lowernames\"&gt;true&lt;/str&gt;\n      &lt;str name=\"uprefix\"&gt;ignored_&lt;/str&gt;\n\n\n      &lt;str name=\"captureAttr\"&gt;true&lt;/str&gt;\n      &lt;str name=\"fmap.a\"&gt;links&lt;/str&gt;\n      &lt;str name=\"fmap.div\"&gt;ignored_&lt;/str&gt;\n    &lt;/lst&gt;\n  &lt;/requestHandler&gt;\n\n\n  &lt;requestHandler name=\"/analysis/field\" \n                  startup=\"lazy\"\n                  class=\"solr.FieldAnalysisRequestHandler\" /&gt;\n\n  &lt;requestHandler name=\"/analysis/document\" \n                  class=\"solr.DocumentAnalysisRequestHandler\" \n                  startup=\"lazy\" /&gt;\n\n  &lt;requestHandler name=\"/debug/dump\" class=\"solr.DumpRequestHandler\" &gt;\n    &lt;lst name=\"defaults\"&gt;\n     &lt;str name=\"echoParams\"&gt;explicit&lt;/str&gt; \n     &lt;str name=\"echoHandler\"&gt;true&lt;/str&gt;\n    &lt;/lst&gt;\n  &lt;/requestHandler&gt;\n\n\n  &lt;searchComponent name=\"spellcheck\" class=\"solr.SpellCheckComponent\"&gt;\n\n    &lt;str name=\"queryAnalyzerFieldType\"&gt;text_general&lt;/str&gt;\n\n\n    &lt;lst name=\"spellchecker\"&gt;\n      &lt;str name=\"name\"&gt;default&lt;/str&gt;\n      &lt;str name=\"field\"&gt;text&lt;/str&gt;\n      &lt;str name=\"classname\"&gt;solr.DirectSolrSpellChecker&lt;/str&gt;\n      &lt;!-- the spellcheck distance measure used, the default is the internal levenshtein --&gt;\n      &lt;str name=\"distanceMeasure\"&gt;internal&lt;/str&gt;\n      &lt;!-- minimum accuracy needed to be considered a valid spellcheck suggestion --&gt;\n      &lt;float name=\"accuracy\"&gt;0.5&lt;/float&gt;\n      &lt;!-- the maximum #edits we consider when enumerating terms: can be 1 or 2 --&gt;\n      &lt;int name=\"maxEdits\"&gt;2&lt;/int&gt;\n      &lt;!-- the minimum shared prefix when enumerating terms --&gt;\n      &lt;int name=\"minPrefix\"&gt;1&lt;/int&gt;\n      &lt;!-- maximum number of inspections per result. --&gt;\n      &lt;int name=\"maxInspections\"&gt;5&lt;/int&gt;\n      &lt;!-- minimum length of a query term to be considered for correction --&gt;\n      &lt;int name=\"minQueryLength\"&gt;4&lt;/int&gt;\n      &lt;!-- maximum threshold of documents a query term can appear to be considered for correction --&gt;\n      &lt;float name=\"maxQueryFrequency\"&gt;0.01&lt;/float&gt;\n      &lt;!-- uncomment this to require suggestions to occur in 1% of the documents\n        &lt;float name=\"thresholdTokenFrequency\"&gt;.01&lt;/float&gt;\n      --&gt;\n    &lt;/lst&gt;\n\n    &lt;!-- a spellchecker that can break or combine words.  See \"/spell\" handler below for usage --&gt;\n    &lt;lst name=\"spellchecker\"&gt;\n      &lt;str name=\"name\"&gt;wordbreak&lt;/str&gt;\n      &lt;str name=\"classname\"&gt;solr.WordBreakSolrSpellChecker&lt;/str&gt;      \n      &lt;str name=\"field\"&gt;name&lt;/str&gt;\n      &lt;str name=\"combineWords\"&gt;true&lt;/str&gt;\n      &lt;str name=\"breakWords\"&gt;true&lt;/str&gt;\n      &lt;int name=\"maxChanges\"&gt;10&lt;/int&gt;\n    &lt;/lst&gt;\n\n\n  &lt;/searchComponent&gt;\n\n\n  &lt;requestHandler name=\"/spell\" class=\"solr.SearchHandler\" startup=\"lazy\"&gt;\n    &lt;lst name=\"defaults\"&gt;\n\n      &lt;str name=\"spellcheck.dictionary\"&gt;default&lt;/str&gt;\n      &lt;str name=\"spellcheck.dictionary\"&gt;wordbreak&lt;/str&gt;\n      &lt;str name=\"spellcheck\"&gt;on&lt;/str&gt;\n      &lt;str name=\"spellcheck.extendedResults\"&gt;true&lt;/str&gt;       \n      &lt;str name=\"spellcheck.count\"&gt;10&lt;/str&gt;\n      &lt;str name=\"spellcheck.alternativeTermCount\"&gt;5&lt;/str&gt;\n      &lt;str name=\"spellcheck.maxResultsForSuggest\"&gt;5&lt;/str&gt;       \n      &lt;str name=\"spellcheck.collate\"&gt;true&lt;/str&gt;\n      &lt;str name=\"spellcheck.collateExtendedResults\"&gt;true&lt;/str&gt;  \n      &lt;str name=\"spellcheck.maxCollationTries\"&gt;10&lt;/str&gt;\n      &lt;str name=\"spellcheck.maxCollations\"&gt;5&lt;/str&gt;         \n    &lt;/lst&gt;\n    &lt;arr name=\"last-components\"&gt;\n      &lt;str&gt;spellcheck&lt;/str&gt;\n    &lt;/arr&gt;\n  &lt;/requestHandler&gt;\n\n\n  &lt;searchComponent name=\"suggest\" class=\"solr.SuggestComponent\" \n                   enable=\"${solr.suggester.enabled:false}\"     &gt;\n    &lt;lst name=\"suggester\"&gt;\n      &lt;str name=\"name\"&gt;mySuggester&lt;/str&gt;\n      &lt;str name=\"lookupImpl\"&gt;FuzzyLookupFactory&lt;/str&gt;      \n      &lt;str name=\"dictionaryImpl\"&gt;DocumentDictionaryFactory&lt;/str&gt;\n      &lt;str name=\"field\"&gt;cat&lt;/str&gt;\n      &lt;str name=\"weightField\"&gt;price&lt;/str&gt;\n      &lt;str name=\"suggestAnalyzerFieldType\"&gt;string&lt;/str&gt;\n    &lt;/lst&gt;\n  &lt;/searchComponent&gt;\n\n  &lt;requestHandler name=\"/suggest\" class=\"solr.SearchHandler\" \n                  startup=\"lazy\" enable=\"${solr.suggester.enabled:false}\" &gt;\n    &lt;lst name=\"defaults\"&gt;\n      &lt;str name=\"suggest\"&gt;true&lt;/str&gt;\n      &lt;str name=\"suggest.count\"&gt;10&lt;/str&gt;\n    &lt;/lst&gt;\n    &lt;arr name=\"components\"&gt;\n      &lt;str&gt;suggest&lt;/str&gt;\n    &lt;/arr&gt;\n  &lt;/requestHandler&gt;\n\n\n\n\n  &lt;searchComponent name=\"tvComponent\" class=\"solr.TermVectorComponent\"/&gt;\n\n\n  &lt;requestHandler name=\"/tvrh\" class=\"solr.SearchHandler\" startup=\"lazy\"&gt;\n    &lt;lst name=\"defaults\"&gt;\n      &lt;bool name=\"tv\"&gt;true&lt;/bool&gt;\n    &lt;/lst&gt;\n    &lt;arr name=\"last-components\"&gt;\n      &lt;str&gt;tvComponent&lt;/str&gt;\n    &lt;/arr&gt;\n  &lt;/requestHandler&gt;\n\n\n  &lt;searchComponent name=\"clustering\"\n                   enable=\"${solr.clustering.enabled:false}\"\n                   class=\"solr.clustering.ClusteringComponent\" &gt;\n    &lt;lst name=\"engine\"&gt;\n      &lt;str name=\"name\"&gt;lingo&lt;/str&gt;\n\n\n      &lt;str name=\"carrot.algorithm\"&gt;org.carrot2.clustering.lingo.LingoClusteringAlgorithm&lt;/str&gt;\n\n      &lt;str name=\"carrot.resourcesDir\"&gt;clustering/carrot2&lt;/str&gt;\n    &lt;/lst&gt;\n\n    &lt;!-- An example definition for the STC clustering algorithm. --&gt;\n    &lt;lst name=\"engine\"&gt;\n      &lt;str name=\"name\"&gt;stc&lt;/str&gt;\n      &lt;str name=\"carrot.algorithm\"&gt;org.carrot2.clustering.stc.STCClusteringAlgorithm&lt;/str&gt;\n    &lt;/lst&gt;\n\n    &lt;!-- An example definition for the bisecting kmeans clustering algorithm. --&gt;\n    &lt;lst name=\"engine\"&gt;\n      &lt;str name=\"name\"&gt;kmeans&lt;/str&gt;\n      &lt;str name=\"carrot.algorithm\"&gt;org.carrot2.clustering.kmeans.BisectingKMeansClusteringAlgorithm&lt;/str&gt;\n    &lt;/lst&gt;\n  &lt;/searchComponent&gt;\n\n\n  &lt;requestHandler name=\"/clustering\"\n                  startup=\"lazy\"\n                  enable=\"${solr.clustering.enabled:false}\"\n                  class=\"solr.SearchHandler\"&gt;\n    &lt;lst name=\"defaults\"&gt;\n      &lt;bool name=\"clustering\"&gt;true&lt;/bool&gt;\n      &lt;bool name=\"clustering.results\"&gt;true&lt;/bool&gt;\n      &lt;!-- Field name with the logical \"title\" of a each document (optional) --&gt;\n      &lt;str name=\"carrot.title\"&gt;name&lt;/str&gt;\n      &lt;!-- Field name with the logical \"URL\" of a each document (optional) --&gt;\n      &lt;str name=\"carrot.url\"&gt;id&lt;/str&gt;\n      &lt;!-- Field name with the logical \"content\" of a each document (optional) --&gt;\n      &lt;str name=\"carrot.snippet\"&gt;features&lt;/str&gt;\n      &lt;!-- Apply highlighter to the title/ content and use this for clustering. --&gt;\n      &lt;bool name=\"carrot.produceSummary\"&gt;true&lt;/bool&gt;\n      &lt;!-- the maximum number of labels per cluster --&gt;\n      &lt;!--&lt;int name=\"carrot.numDescriptions\"&gt;5&lt;/int&gt;--&gt;\n      &lt;!-- produce sub clusters --&gt;\n      &lt;bool name=\"carrot.outputSubClusters\"&gt;false&lt;/bool&gt;\n\n      &lt;!-- Configure the remaining request handler parameters. --&gt;\n      &lt;str name=\"defType\"&gt;edismax&lt;/str&gt;\n      &lt;str name=\"qf\"&gt;\n        text^0.5 features^1.0 name^1.2 sku^1.5 id^10.0 manu^1.1 cat^1.4\n      &lt;/str&gt;\n      &lt;str name=\"q.alt\"&gt;*:*&lt;/str&gt;\n      &lt;str name=\"rows\"&gt;10&lt;/str&gt;\n      &lt;str name=\"fl\"&gt;*,score&lt;/str&gt;\n    &lt;/lst&gt;\n    &lt;arr name=\"last-components\"&gt;\n      &lt;str&gt;clustering&lt;/str&gt;\n    &lt;/arr&gt;\n  &lt;/requestHandler&gt;\n\n\n  &lt;searchComponent name=\"terms\" class=\"solr.TermsComponent\"/&gt;\n\n  &lt;!-- A request handler for demonstrating the terms component --&gt;\n  &lt;requestHandler name=\"/terms\" class=\"solr.SearchHandler\" startup=\"lazy\"&gt;\n     &lt;lst name=\"defaults\"&gt;\n      &lt;bool name=\"terms\"&gt;true&lt;/bool&gt;\n      &lt;bool name=\"distrib\"&gt;false&lt;/bool&gt;\n    &lt;/lst&gt;     \n    &lt;arr name=\"components\"&gt;\n      &lt;str&gt;terms&lt;/str&gt;\n    &lt;/arr&gt;\n  &lt;/requestHandler&gt;\n\n  &lt;searchComponent name=\"elevator\" class=\"solr.QueryElevationComponent\" &gt;\n    &lt;!-- pick a fieldType to analyze queries --&gt;\n    &lt;str name=\"queryFieldType\"&gt;string&lt;/str&gt;\n    &lt;str name=\"config-file\"&gt;elevate.xml&lt;/str&gt;\n  &lt;/searchComponent&gt;\n\n\n  &lt;requestHandler name=\"/elevate\" class=\"solr.SearchHandler\" startup=\"lazy\"&gt;\n    &lt;lst name=\"defaults\"&gt;\n      &lt;str name=\"echoParams\"&gt;explicit&lt;/str&gt;\n    &lt;/lst&gt;\n    &lt;arr name=\"last-components\"&gt;\n      &lt;str&gt;elevator&lt;/str&gt;\n    &lt;/arr&gt;\n  &lt;/requestHandler&gt;\n\n\n  &lt;searchComponent class=\"solr.HighlightComponent\" name=\"highlight\"&gt;\n    &lt;highlighting&gt;\n      &lt;!-- Configure the standard fragmenter --&gt;\n      &lt;!-- This could most likely be commented out in the \"default\" case --&gt;\n      &lt;fragmenter name=\"gap\" \n                  default=\"true\"\n                  class=\"solr.highlight.GapFragmenter\"&gt;\n        &lt;lst name=\"defaults\"&gt;\n          &lt;int name=\"hl.fragsize\"&gt;100&lt;/int&gt;\n        &lt;/lst&gt;\n      &lt;/fragmenter&gt;\n\n\n      &lt;fragmenter name=\"regex\" \n                  class=\"solr.highlight.RegexFragmenter\"&gt;\n        &lt;lst name=\"defaults\"&gt;\n          &lt;!-- slightly smaller fragsizes work better because of slop --&gt;\n          &lt;int name=\"hl.fragsize\"&gt;70&lt;/int&gt;\n          &lt;!-- allow 50% slop on fragment sizes --&gt;\n          &lt;float name=\"hl.regex.slop\"&gt;0.5&lt;/float&gt;\n          &lt;!-- a basic sentence pattern --&gt;\n          &lt;str name=\"hl.regex.pattern\"&gt;[-\\w ,/\\n\\&amp;quot;&amp;apos;]{20,200}&lt;/str&gt;\n        &lt;/lst&gt;\n      &lt;/fragmenter&gt;\n\n      &lt;!-- Configure the standard formatter --&gt;\n      &lt;formatter name=\"html\" \n                 default=\"true\"\n                 class=\"solr.highlight.HtmlFormatter\"&gt;\n        &lt;lst name=\"defaults\"&gt;\n          &lt;str name=\"hl.simple.pre\"&gt;&lt;![CDATA[&lt;em&gt;]]&gt;&lt;/str&gt;\n          &lt;str name=\"hl.simple.post\"&gt;&lt;![CDATA[&lt;/em&gt;]]&gt;&lt;/str&gt;\n        &lt;/lst&gt;\n      &lt;/formatter&gt;\n\n      &lt;!-- Configure the standard encoder --&gt;\n      &lt;encoder name=\"html\" \n               class=\"solr.highlight.HtmlEncoder\" /&gt;\n\n      &lt;!-- Configure the standard fragListBuilder --&gt;\n      &lt;fragListBuilder name=\"simple\" \n                       class=\"solr.highlight.SimpleFragListBuilder\"/&gt;\n\n      &lt;!-- Configure the single fragListBuilder --&gt;\n      &lt;fragListBuilder name=\"single\" \n                       class=\"solr.highlight.SingleFragListBuilder\"/&gt;\n\n      &lt;!-- Configure the weighted fragListBuilder --&gt;\n      &lt;fragListBuilder name=\"weighted\" \n                       default=\"true\"\n                       class=\"solr.highlight.WeightedFragListBuilder\"/&gt;\n\n      &lt;!-- default tag FragmentsBuilder --&gt;\n      &lt;fragmentsBuilder name=\"default\" \n                        default=\"true\"\n                        class=\"solr.highlight.ScoreOrderFragmentsBuilder\"&gt;\n\n      &lt;/fragmentsBuilder&gt;\n\n      &lt;!-- multi-colored tag FragmentsBuilder --&gt;\n      &lt;fragmentsBuilder name=\"colored\" \n                        class=\"solr.highlight.ScoreOrderFragmentsBuilder\"&gt;\n        &lt;lst name=\"defaults\"&gt;\n          &lt;str name=\"hl.tag.pre\"&gt;&lt;![CDATA[\n               &lt;b style=\"background:yellow\"&gt;,&lt;b style=\"background:lawgreen\"&gt;,\n               &lt;b style=\"background:aquamarine\"&gt;,&lt;b style=\"background:magenta\"&gt;,\n               &lt;b style=\"background:palegreen\"&gt;,&lt;b style=\"background:coral\"&gt;,\n               &lt;b style=\"background:wheat\"&gt;,&lt;b style=\"background:khaki\"&gt;,\n               &lt;b style=\"background:lime\"&gt;,&lt;b style=\"background:deepskyblue\"&gt;]]&gt;&lt;/str&gt;\n          &lt;str name=\"hl.tag.post\"&gt;&lt;![CDATA[&lt;/b&gt;]]&gt;&lt;/str&gt;\n        &lt;/lst&gt;\n      &lt;/fragmentsBuilder&gt;\n\n      &lt;boundaryScanner name=\"default\" \n                       default=\"true\"\n                       class=\"solr.highlight.SimpleBoundaryScanner\"&gt;\n        &lt;lst name=\"defaults\"&gt;\n          &lt;str name=\"hl.bs.maxScan\"&gt;10&lt;/str&gt;\n          &lt;str name=\"hl.bs.chars\"&gt;.,!? &amp;#9;&amp;#10;&amp;#13;&lt;/str&gt;\n        &lt;/lst&gt;\n      &lt;/boundaryScanner&gt;\n\n      &lt;boundaryScanner name=\"breakIterator\" \n                       class=\"solr.highlight.BreakIteratorBoundaryScanner\"&gt;\n        &lt;lst name=\"defaults\"&gt;\n          &lt;!-- type should be one of CHARACTER, WORD(default), LINE and SENTENCE --&gt;\n          &lt;str name=\"hl.bs.type\"&gt;WORD&lt;/str&gt;\n          &lt;!-- language and country are used when constructing Locale object.  --&gt;\n          &lt;!-- And the Locale object will be used when getting instance of BreakIterator --&gt;\n          &lt;str name=\"hl.bs.language\"&gt;en&lt;/str&gt;\n          &lt;str name=\"hl.bs.country\"&gt;US&lt;/str&gt;\n        &lt;/lst&gt;\n      &lt;/boundaryScanner&gt;\n    &lt;/highlighting&gt;\n  &lt;/searchComponent&gt;\n\n\n  &lt;queryResponseWriter name=\"json\" class=\"solr.JSONResponseWriter\"&gt;\n\n    &lt;str name=\"content-type\"&gt;text/plain; charset=UTF-8&lt;/str&gt;\n  &lt;/queryResponseWriter&gt;\n\n  &lt;!--\n     Custom response writers can be declared as needed...\n    --&gt;\n    &lt;queryResponseWriter name=\"velocity\" class=\"solr.VelocityResponseWriter\" startup=\"lazy\"&gt;\n      &lt;str name=\"template.base.dir\"&gt;${velocity.template.base.dir:}&lt;/str&gt;\n    &lt;/queryResponseWriter&gt;\n\n\n  &lt;queryResponseWriter name=\"xslt\" class=\"solr.XSLTResponseWriter\"&gt;\n    &lt;int name=\"xsltCacheLifetimeSeconds\"&gt;5&lt;/int&gt;\n  &lt;/queryResponseWriter&gt;\n\n\n  &lt;admin&gt;\n    &lt;defaultQuery&gt;*:*&lt;/defaultQuery&gt;\n  &lt;/admin&gt;\n\n&lt;/config&gt;\n</code></pre>\n"},{"tags":["java","integer","double"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1674085941,"post_id":75166425,"comment_id":132642660,"body_markdown":"And are your results for quarters, dimes and nickels correct?","body":"And are your results for quarters, dimes and nickels correct?"}],"answers":[{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674085916,"creation_date":1674085916,"answer_id":75166444,"question_id":75166425,"body_markdown":"Since `amount` is a `double`, you could do something like \r\n\r\n    long totalCents = Math.round(amount * 100);\r\n\r\nThe [`Math.round` method](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Math.html#round(double)) takes a `double` value and returns the `long` that&#39;s closest to it, so it can round up or down.  There&#39;s also a version that takes a `float` value and returns an `int`.\r\n\r\nOnce you&#39;ve done that, the process for turning your total number of cents into pennies, nickels, dimes and quarters will be very similar to what you&#39;ve already done for turning dollars into twenties, tens, fives and ones.","title":"Writing a Java program that asks the user to enter an amount to be written in terms of dollar and cents, cannot figure out how to calculate cents","body":"<p>Since <code>amount</code> is a <code>double</code>, you could do something like</p>\n<pre><code>long totalCents = Math.round(amount * 100);\n</code></pre>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Math.html#round(double)\" rel=\"nofollow noreferrer\"><code>Math.round</code> method</a> takes a <code>double</code> value and returns the <code>long</code> that's closest to it, so it can round up or down.  There's also a version that takes a <code>float</code> value and returns an <code>int</code>.</p>\n<p>Once you've done that, the process for turning your total number of cents into pennies, nickels, dimes and quarters will be very similar to what you've already done for turning dollars into twenties, tens, fives and ones.</p>\n"},{"tags":[],"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674178514,"creation_date":1674093626,"answer_id":75167085,"question_id":75166425,"body_markdown":"Solution 1: Calculate using cents instead of dollars:\r\n-----------------------------------------------------\r\n\r\nOne way is to approach this is to convert the amount entered into an integer, and do the calculations in cents instead of dollars:\r\n\r\n        long amount, quarters, dimes, nickels, pennies;\r\n        long hundreds, fifties, twenties, tens, fives, ones;\r\n        double amountIn;\r\n\r\n        System.out.println(&quot;Enter your dollar amount:&quot;);\r\n    \r\n        Scanner sc = new Scanner(System.in); \r\n        amountIn = (double) sc.nextDouble();\r\n        amount = Math.round (amountIn * 100.0);\r\n        \r\n         hundreds = amount / 100_00;\r\n         amount = amount % 100_00;\r\n         fifties = amount / 50_00;\r\n         amount = amount % 50_00;         \r\n\r\nand so on.\r\n\r\nUse of the underscore is a style preference:  The underscore represents where the decimal point would be if the number is in dollars.[1] This may make the code easier to read.\r\n\r\nSolution 2: Use BigDecimal:\r\n---------------------------\r\n\r\nFloating point is inaccurate when representing almost all decimal fractions. This is one reason it is preferred to do monetary calculations using decimal instead of binary. \r\n\r\nAlthough this is  likely not useful for the O/P now, in the future the O/P might want to know how to use Java&#39;s [`BigDecimal` class](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/math/BigDecimal.html). This alternative shows how `BigDecimal` might be used for this problem:\r\n \r\n    public static void change2() {\r\n\r\n        int quarters, dimes, nickels, pennies;\r\n        int hundreds, fifties, twenties, tens, fives, ones;\r\n        BigDecimal amount;\r\n        BigDecimal[] amountDivRemainder;\r\n\r\n        System.out.println(&quot;Enter your dollar amount:&quot;);\r\n\r\n        Scanner sc = new Scanner(System.in);\r\n        amount = sc.nextBigDecimal();\r\n\r\n        amountDivRemainder = amount.divideAndRemainder(new BigDecimal(&quot;100.00&quot;));\r\n        hundreds = amountDivRemainder[0].intValue();\r\n        amount = amountDivRemainder[1];\r\n\r\n        amountDivRemainder = amount.divideAndRemainder(new BigDecimal(&quot;50.00&quot;));\r\n        fifties = amountDivRemainder[0].intValue();\r\n        amount = amountDivRemainder[1];\r\n\r\n        amountDivRemainder = amount.divideAndRemainder(new BigDecimal(&quot;20.00&quot;));\r\n        twenties = amountDivRemainder[0].intValue();\r\n        amount = amountDivRemainder[1];\r\n\r\n\r\nand so on. \r\n\r\nOff-Topic: Style\r\n----------------\r\n\r\nWhen Old Dog Programmer, for one, sees repeated code with only minor differences, he asks this question: Can the code be improved with arrays, loops, and / or additional methods? The O/P code has a repeating pattern: \r\n\r\n     c = a / b;\r\n     a = a % b;\r\n\r\nHere is one way to use arrays and loops:\r\n\r\n    \r\n    public static void change3() {\r\n\r\n        class Denomination {\r\n\r\n            String name;\r\n            int value;\r\n            int quantity;\r\n\r\n            Denomination(String name, int value) {\r\n                this.name = name;\r\n                this.value = value;\r\n                this.quantity = 0;\r\n            }\r\n        }\r\n        Denomination[] denomination = {\r\n            new Denomination(&quot;Hundreds&quot;, 100_00),\r\n            new Denomination(&quot;Fifties&quot;, 50_00),\r\n            new Denomination(&quot;Twenties&quot;, 20_00),\r\n            new Denomination(&quot;Tens&quot;, 10_00),\r\n            new Denomination(&quot;Fives&quot;, 5_00),\r\n            new Denomination(&quot;Ones&quot;, 1_00),\r\n            new Denomination(&quot;Quarters&quot;, 25),\r\n            new Denomination(&quot;Dimes&quot;, 10),\r\n            new Denomination(&quot;Nickels&quot;, 5),\r\n            new Denomination(&quot;Pennies&quot;, 1)\r\n        };\r\n\r\n        double amountIn;\r\n        int amount;\r\n\r\n        System.out.println(&quot;Enter your dollar amount:&quot;);\r\n\r\n        Scanner sc = new Scanner(System.in);\r\n        amountIn = (double) sc.nextDouble();\r\n        amount = (int) Math.round(amountIn * 100.0);\r\n\r\n        for (int i = 0; i &lt; denomination.length; ++i) {\r\n            denomination[i].quantity = amount / denomination[i].value;\r\n            amount = amount % denomination[i].value;\r\n        }\r\n\r\n        System.out.println(&quot;The amount is distributed: &quot;);\r\n        for (int i = 0; i &lt; denomination.length; ++i) {\r\n            System.out.println(denomination[i].name + &quot;: &quot; + denomination[i].quantity);\r\n        }\r\n    }\r\n     \r\n\r\nHere, this uses a `class` in which each instance holds information about the monetary denomination:  The name, the value in cents, and the count to be distributed. The count is initially zero. \r\n\r\nUse of the `Denomination` class avoids use of tightly coupled arrays:\r\n\r\n       String [] denominationName = {&quot;Hundreds&quot;, &quot;Fifites&quot;, &quot;Twenties&quot;, ...\r\n       int [] denominationValue = {100_00, 50_00, 20_00, ...\r\n       int [] denominationCount = new int [10];\r\n\r\nIf the code needs to be changed to add, for example, half-dollar coins and 2 dollar bills, the only thing that needs to be done is to add two elements to the array, in the appropriate places.\r\n\r\nThis can be adapted for use in the `BigDecimal` approach. \r\n\r\nTwo loops preserve the characteristic in the O/P code where all the calculations are completed prior to printing any result.\r\n\r\n\r\n\r\nNotes:\r\n------\r\n[1] **Do not** use `0` as the first digit. Java will interpret that as an octal value. For example, `0_10` will be `8`, not `10` cents.","title":"Writing a Java program that asks the user to enter an amount to be written in terms of dollar and cents, cannot figure out how to calculate cents","body":"<h2>Solution 1: Calculate using cents instead of dollars:</h2>\n<p>One way is to approach this is to convert the amount entered into an integer, and do the calculations in cents instead of dollars:</p>\n<pre><code>    long amount, quarters, dimes, nickels, pennies;\n    long hundreds, fifties, twenties, tens, fives, ones;\n    double amountIn;\n\n    System.out.println(&quot;Enter your dollar amount:&quot;);\n\n    Scanner sc = new Scanner(System.in); \n    amountIn = (double) sc.nextDouble();\n    amount = Math.round (amountIn * 100.0);\n    \n     hundreds = amount / 100_00;\n     amount = amount % 100_00;\n     fifties = amount / 50_00;\n     amount = amount % 50_00;         \n</code></pre>\n<p>and so on.</p>\n<p>Use of the underscore is a style preference:  The underscore represents where the decimal point would be if the number is in dollars.[1] This may make the code easier to read.</p>\n<h2>Solution 2: Use BigDecimal:</h2>\n<p>Floating point is inaccurate when representing almost all decimal fractions. This is one reason it is preferred to do monetary calculations using decimal instead of binary.</p>\n<p>Although this is  likely not useful for the O/P now, in the future the O/P might want to know how to use Java's <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\"><code>BigDecimal</code> class</a>. This alternative shows how <code>BigDecimal</code> might be used for this problem:</p>\n<pre><code>public static void change2() {\n\n    int quarters, dimes, nickels, pennies;\n    int hundreds, fifties, twenties, tens, fives, ones;\n    BigDecimal amount;\n    BigDecimal[] amountDivRemainder;\n\n    System.out.println(&quot;Enter your dollar amount:&quot;);\n\n    Scanner sc = new Scanner(System.in);\n    amount = sc.nextBigDecimal();\n\n    amountDivRemainder = amount.divideAndRemainder(new BigDecimal(&quot;100.00&quot;));\n    hundreds = amountDivRemainder[0].intValue();\n    amount = amountDivRemainder[1];\n\n    amountDivRemainder = amount.divideAndRemainder(new BigDecimal(&quot;50.00&quot;));\n    fifties = amountDivRemainder[0].intValue();\n    amount = amountDivRemainder[1];\n\n    amountDivRemainder = amount.divideAndRemainder(new BigDecimal(&quot;20.00&quot;));\n    twenties = amountDivRemainder[0].intValue();\n    amount = amountDivRemainder[1];\n</code></pre>\n<p>and so on.</p>\n<h2>Off-Topic: Style</h2>\n<p>When Old Dog Programmer, for one, sees repeated code with only minor differences, he asks this question: Can the code be improved with arrays, loops, and / or additional methods? The O/P code has a repeating pattern:</p>\n<pre><code> c = a / b;\n a = a % b;\n</code></pre>\n<p>Here is one way to use arrays and loops:</p>\n<pre><code>public static void change3() {\n\n    class Denomination {\n\n        String name;\n        int value;\n        int quantity;\n\n        Denomination(String name, int value) {\n            this.name = name;\n            this.value = value;\n            this.quantity = 0;\n        }\n    }\n    Denomination[] denomination = {\n        new Denomination(&quot;Hundreds&quot;, 100_00),\n        new Denomination(&quot;Fifties&quot;, 50_00),\n        new Denomination(&quot;Twenties&quot;, 20_00),\n        new Denomination(&quot;Tens&quot;, 10_00),\n        new Denomination(&quot;Fives&quot;, 5_00),\n        new Denomination(&quot;Ones&quot;, 1_00),\n        new Denomination(&quot;Quarters&quot;, 25),\n        new Denomination(&quot;Dimes&quot;, 10),\n        new Denomination(&quot;Nickels&quot;, 5),\n        new Denomination(&quot;Pennies&quot;, 1)\n    };\n\n    double amountIn;\n    int amount;\n\n    System.out.println(&quot;Enter your dollar amount:&quot;);\n\n    Scanner sc = new Scanner(System.in);\n    amountIn = (double) sc.nextDouble();\n    amount = (int) Math.round(amountIn * 100.0);\n\n    for (int i = 0; i &lt; denomination.length; ++i) {\n        denomination[i].quantity = amount / denomination[i].value;\n        amount = amount % denomination[i].value;\n    }\n\n    System.out.println(&quot;The amount is distributed: &quot;);\n    for (int i = 0; i &lt; denomination.length; ++i) {\n        System.out.println(denomination[i].name + &quot;: &quot; + denomination[i].quantity);\n    }\n}\n \n</code></pre>\n<p>Here, this uses a <code>class</code> in which each instance holds information about the monetary denomination:  The name, the value in cents, and the count to be distributed. The count is initially zero.</p>\n<p>Use of the <code>Denomination</code> class avoids use of tightly coupled arrays:</p>\n<pre><code>   String [] denominationName = {&quot;Hundreds&quot;, &quot;Fifites&quot;, &quot;Twenties&quot;, ...\n   int [] denominationValue = {100_00, 50_00, 20_00, ...\n   int [] denominationCount = new int [10];\n</code></pre>\n<p>If the code needs to be changed to add, for example, half-dollar coins and 2 dollar bills, the only thing that needs to be done is to add two elements to the array, in the appropriate places.</p>\n<p>This can be adapted for use in the <code>BigDecimal</code> approach.</p>\n<p>Two loops preserve the characteristic in the O/P code where all the calculations are completed prior to printing any result.</p>\n<h2>Notes:</h2>\n<p>[1] <strong>Do not</strong> use <code>0</code> as the first digit. Java will interpret that as an octal value. For example, <code>0_10</code> will be <code>8</code>, not <code>10</code> cents.</p>\n"}],"owner":{"account_id":22740404,"reputation":5,"user_id":16902004,"display_name":"jose013"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":575,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1674527581,"answer_count":2,"score":-3,"last_activity_date":1674178514,"creation_date":1674085709,"question_id":75166425,"body_markdown":"I am working on a java program, the program takes an input of a dollar amount and returns the number of hundreds, fifties, twenties, tens, fives, ones, quarters, dimes, nickels and cents the value contains.\r\n\r\nThe output should look like this (but with actual numbers):\r\n\r\n- 0 hundred\r\n- 0 fifty\r\n- 0 twenty\r\n- 0 ten\r\n- 0 five\r\n- 0 ones\r\n- 0 quarters\r\n- 0 dimes\r\n- 0 nickels\r\n- 0 cents\r\n\r\nHere is my code below:\r\n\r\n```\r\nimport java.util.Scanner;\r\npublic class Main\r\n{\r\npublic static void main(String\\[\\] args)\r\n{\r\ndouble amount, quarters, dimes, nickels, pennies;\r\nint hundreds, fifties, twenties, tens, fives, ones;\r\n\r\n        System.out.println(&quot;Enter your dollar amount:&quot;);\r\n    \r\n        try (Scanner sc = new Scanner(System.in)) {\r\n    \t\tamount = (double) sc.nextDouble();\r\n        \r\n         hundreds = (int)amount / 100;\r\n         amount = amount % 100;\r\n         fifties = (int)amount / 50;\r\n         amount = amount % 50;\r\n         twenties = (int) amount / 20;\r\n         amount = amount % 20;\r\n         tens = (int)amount / 10;\r\n         amount = amount % 10;\r\n         fives = (int)amount / 5;\r\n         amount = amount % 5;\r\n         ones = (int)amount / 1;\r\n         amount = amount % 1;\r\n         quarters = amount / 25;\r\n         amount = amount % 25;\r\n         dimes = amount / 10;\r\n         amount = amount % 10;\r\n         nickels = amount / 5;\r\n         amount = amount % 5;\r\n         pennies = amount;\r\n    \r\n         System.out.println(&quot;You have:&quot;);\r\n         System.out.println(hundreds + &quot; hundreds&quot;);\r\n         System.out.println(fifties + &quot; fifties&quot;);\r\n         System.out.println(twenties + &quot; twenties&quot;);\r\n         System.out.println(tens + &quot; tens&quot;);\r\n         System.out.println(fives + &quot; fives&quot;);\r\n         System.out.println(ones + &quot; ones&quot;);\r\n         System.out.println(quarters + &quot; quarters&quot;);\r\n         System.out.println(dimes + &quot; dimes&quot;);\r\n         System.out.println(nickels + &quot; nickels&quot;);\r\n         System.out.println(pennies + &quot; pennies&quot;);\r\n         System.out.println(&quot;Goodbye!&quot;);\r\n     }\r\n\r\n}\r\n}\r\n```\r\nI figured out how to calculate the dollar amounts, but cannot figure out the logistics for the cent values. I need it to print out as a whole number, so I know the amount needs to be converted to an integer at some point. Can anyone point me in the right direction?","title":"Writing a Java program that asks the user to enter an amount to be written in terms of dollar and cents, cannot figure out how to calculate cents","body":"<p>I am working on a java program, the program takes an input of a dollar amount and returns the number of hundreds, fifties, twenties, tens, fives, ones, quarters, dimes, nickels and cents the value contains.</p>\n<p>The output should look like this (but with actual numbers):</p>\n<ul>\n<li>0 hundred</li>\n<li>0 fifty</li>\n<li>0 twenty</li>\n<li>0 ten</li>\n<li>0 five</li>\n<li>0 ones</li>\n<li>0 quarters</li>\n<li>0 dimes</li>\n<li>0 nickels</li>\n<li>0 cents</li>\n</ul>\n<p>Here is my code below:</p>\n<pre><code>import java.util.Scanner;\npublic class Main\n{\npublic static void main(String\\[\\] args)\n{\ndouble amount, quarters, dimes, nickels, pennies;\nint hundreds, fifties, twenties, tens, fives, ones;\n\n        System.out.println(&quot;Enter your dollar amount:&quot;);\n    \n        try (Scanner sc = new Scanner(System.in)) {\n            amount = (double) sc.nextDouble();\n        \n         hundreds = (int)amount / 100;\n         amount = amount % 100;\n         fifties = (int)amount / 50;\n         amount = amount % 50;\n         twenties = (int) amount / 20;\n         amount = amount % 20;\n         tens = (int)amount / 10;\n         amount = amount % 10;\n         fives = (int)amount / 5;\n         amount = amount % 5;\n         ones = (int)amount / 1;\n         amount = amount % 1;\n         quarters = amount / 25;\n         amount = amount % 25;\n         dimes = amount / 10;\n         amount = amount % 10;\n         nickels = amount / 5;\n         amount = amount % 5;\n         pennies = amount;\n    \n         System.out.println(&quot;You have:&quot;);\n         System.out.println(hundreds + &quot; hundreds&quot;);\n         System.out.println(fifties + &quot; fifties&quot;);\n         System.out.println(twenties + &quot; twenties&quot;);\n         System.out.println(tens + &quot; tens&quot;);\n         System.out.println(fives + &quot; fives&quot;);\n         System.out.println(ones + &quot; ones&quot;);\n         System.out.println(quarters + &quot; quarters&quot;);\n         System.out.println(dimes + &quot; dimes&quot;);\n         System.out.println(nickels + &quot; nickels&quot;);\n         System.out.println(pennies + &quot; pennies&quot;);\n         System.out.println(&quot;Goodbye!&quot;);\n     }\n\n}\n}\n</code></pre>\n<p>I figured out how to calculate the dollar amounts, but cannot figure out the logistics for the cent values. I need it to print out as a whole number, so I know the amount needs to be converted to an integer at some point. Can anyone point me in the right direction?</p>\n"},{"tags":["java","string","security","passwords","char"],"answers":[{"comments":[{"owner":{"account_id":993260,"reputation":2717,"user_id":1009901,"accept_rate":90,"display_name":"Yeti"},"score":37,"creation_date":1441106812,"post_id":8881376,"comment_id":52534913,"body_markdown":"If a process has access to memory of your application, then that is already a security breach, right?","body":"If a process has access to memory of your application, then that is already a security breach, right?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":34,"creation_date":1441108036,"post_id":8881376,"comment_id":52535621,"body_markdown":"@Yeti: Yes, but it&#39;s not like it&#39;s black and white. If they can only get a snapshot of the memory then you want to reduce how much damage that snapshot can do, or reduce the window during which a really serious snapshot can be taken.","body":"@Yeti: Yes, but it&#39;s not like it&#39;s black and white. If they can only get a snapshot of the memory then you want to reduce how much damage that snapshot can do, or reduce the window during which a really serious snapshot can be taken."},{"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":74,"creation_date":1473102684,"post_id":8881376,"comment_id":66004136,"body_markdown":"A common attack method is to run a process that allocates lots of memory and then scans it for left-over, useful data like passwords. The process doesn&#39;t need any magical access to another process&#39;s memory space; it just relies on other processes dying without first clearing out sensitive data and the OS also not clearing memory (or page buffers) before making it available to a new process. Clearing out passwords stored in `char[]` locations cuts off that line of attack, something not possible when using `String`.","body":"A common attack method is to run a process that allocates lots of memory and then scans it for left-over, useful data like passwords. The process doesn&#39;t need any magical access to another process&#39;s memory space; it just relies on other processes dying without first clearing out sensitive data and the OS also not clearing memory (or page buffers) before making it available to a new process. Clearing out passwords stored in <code>char[]</code> locations cuts off that line of attack, something not possible when using <code>String</code>."},{"owner":{"account_id":133236,"reputation":14472,"user_id":334451,"accept_rate":64,"display_name":"Mikko Rantalainen"},"score":24,"creation_date":1587454400,"post_id":8881376,"comment_id":108510076,"body_markdown":"If OS does not clear memory before giving it to another process, the OS has major security issues! However, technically the clearing is often done with protected mode tricks and if the CPU is broken (e.g. Intel Meldown) it&#39;s still possible to read old memory contents.","body":"If OS does not clear memory before giving it to another process, the OS has major security issues! However, technically the clearing is often done with protected mode tricks and if the CPU is broken (e.g. Intel Meldown) it&#39;s still possible to read old memory contents."},{"owner":{"account_id":5617947,"reputation":495,"user_id":7597142,"display_name":"Prateek Pande"},"score":2,"creation_date":1610281800,"post_id":8881376,"comment_id":116077513,"body_markdown":"If using strings, password could also be there in the literal pool and can&#39;t be cleared manually.","body":"If using strings, password could also be there in the literal pool and can&#39;t be cleared manually."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":12,"creation_date":1610282127,"post_id":8881376,"comment_id":116077621,"body_markdown":"@PrateekPande: It would only be in the literal pool if it were present in the source code, or explicitly interned. Those are both bad ideas in general...","body":"@PrateekPande: It would only be in the literal pool if it were present in the source code, or explicitly interned. Those are both bad ideas in general..."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1617782217,"post_id":8881376,"comment_id":118399042,"body_markdown":"@Prateek Pande a string can’t be cleared anyway, so it doesn’t matter whether it is referenced by the string pool or not. Since being referenced by the pool doesn’t prevent its garbage collection (which would just remove it from the pool), only strings being present as compile-time constant in the code would stay alive as long as the code is active, which should be an obvious problem even without considering how the pool works. As Jon Skeet said, it’s a bad idea in general.","body":"@Prateek Pande a string can’t be cleared anyway, so it doesn’t matter whether it is referenced by the string pool or not. Since being referenced by the pool doesn’t prevent its garbage collection (which would just remove it from the pool), only strings being present as compile-time constant in the code would stay alive as long as the code is active, which should be an obvious problem even without considering how the pool works. As Jon Skeet said, it’s a bad idea in general."},{"owner":{"account_id":46836,"reputation":12142,"user_id":138513,"accept_rate":46,"display_name":"Hakanai"},"score":1,"creation_date":1624579559,"post_id":8881376,"comment_id":120404048,"body_markdown":"What if the library you&#39;re dealing with _already_ forces you to convert to `String` - is it still better to store `char[]` and create one new `String` every time you have to call the library? Or is it better to live with storing the string once and reusing it? The number of so-called &quot;security&quot; libraries which force us to pass the password as `String` is way more than I can count. :(","body":"What if the library you&#39;re dealing with <i>already</i> forces you to convert to <code>String</code> - is it still better to store <code>char[]</code> and create one new <code>String</code> every time you have to call the library? Or is it better to live with storing the string once and reusing it? The number of so-called &quot;security&quot; libraries which force us to pass the password as <code>String</code> is way more than I can count. :("},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1624599496,"post_id":8881376,"comment_id":120407160,"body_markdown":"@Trejkaz: I don&#39;t feel I&#39;m qualified to comment there, I&#39;m afraid :(","body":"@Trejkaz: I don&#39;t feel I&#39;m qualified to comment there, I&#39;m afraid :("},{"owner":{"account_id":11475868,"reputation":9590,"user_id":8411406,"display_name":"Turtlefight"},"score":3,"creation_date":1625587986,"post_id":8881376,"comment_id":120664416,"body_markdown":"Just a minor sidenote: Even though `char[]` can be cleared, it would still leak the length of the password or whatever was stored in it until it is garbage collected, since arrays can&#39;t be resized. (which could be used to greatly reduce the time needed to brute-force the password)","body":"Just a minor sidenote: Even though <code>char[]</code> can be cleared, it would still leak the length of the password or whatever was stored in it until it is garbage collected, since arrays can&#39;t be resized. (which could be used to greatly reduce the time needed to brute-force the password)"},{"owner":{"account_id":385809,"reputation":683,"user_id":743194,"accept_rate":70,"display_name":"Aleix"},"score":1,"creation_date":1631546933,"post_id":8881376,"comment_id":122245277,"body_markdown":"@Hakanai I would say that if the password `String` instance needs to be generated multiple times during the same execution I would generate it just once, and then pass it and reuse it. The more times you create the `String` instance, the more different slots in memory where you could be revealing the password, so higher security dependency on the garbage collector.","body":"@Hakanai I would say that if the password <code>String</code> instance needs to be generated multiple times during the same execution I would generate it just once, and then pass it and reuse it. The more times you create the <code>String</code> instance, the more different slots in memory where you could be revealing the password, so higher security dependency on the garbage collector."},{"owner":{"account_id":46836,"reputation":12142,"user_id":138513,"accept_rate":46,"display_name":"Hakanai"},"score":1,"creation_date":1631669849,"post_id":8881376,"comment_id":122282810,"body_markdown":"@Aleix that is my guess also.","body":"@Aleix that is my guess also."},{"owner":{"account_id":7861285,"reputation":181,"user_id":5941624,"display_name":"fatemeakbari"},"score":0,"creation_date":1642485773,"post_id":8881376,"comment_id":125076109,"body_markdown":"can we use StringBuilder instead of String? is the char[] safer than StringBuilder?","body":"can we use StringBuilder instead of String? is the char[] safer than StringBuilder?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1642490929,"post_id":8881376,"comment_id":125077430,"body_markdown":"@fatemeakbari: I expect `StringBuilder` sometimes copies its data - and in order to get the data *out* of the `StringBuilder` you&#39;d still need to access it char-by-char (to avoid creating a string). Basically the abstraction (which is normally helpful) works against the security concern, where you really want to have as much control as possible. It&#39;s possible that it&#39;s fine to use `StringBuilder`, but just the fact that it&#39;s hard to know for sure would worry me.","body":"@fatemeakbari: I expect <code>StringBuilder</code> sometimes copies its data - and in order to get the data <i>out</i> of the <code>StringBuilder</code> you&#39;d still need to access it char-by-char (to avoid creating a string). Basically the abstraction (which is normally helpful) works against the security concern, where you really want to have as much control as possible. It&#39;s possible that it&#39;s fine to use <code>StringBuilder</code>, but just the fact that it&#39;s hard to know for sure would worry me."},{"owner":{"account_id":2761067,"reputation":4435,"user_id":2377961,"accept_rate":25,"display_name":"Radon8472"},"score":0,"creation_date":1656666303,"post_id":8881376,"comment_id":128632932,"body_markdown":"I am not sure how the memory is handeled by garbage collector and the String-class, but I would think if you use a String for passwords, and overwrite the full lenght of the strring with random chars, the real password would be replaced in memory.\n\nSo I Pawword-String could be cleared from memory even before garbage collector runs.","body":"I am not sure how the memory is handeled by garbage collector and the String-class, but I would think if you use a String for passwords, and overwrite the full lenght of the strring with random chars, the real password would be replaced in memory.  So I Pawword-String could be cleared from memory even before garbage collector runs."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1656667067,"post_id":8881376,"comment_id":128633198,"body_markdown":"@Radon8472: How exactly do you propose overwriting the content of the string with random characters, other than using unsafe code or reflection?","body":"@Radon8472: How exactly do you propose overwriting the content of the string with random characters, other than using unsafe code or reflection?"},{"owner":{"account_id":2761067,"reputation":4435,"user_id":2377961,"accept_rate":25,"display_name":"Radon8472"},"score":0,"creation_date":1656670323,"post_id":8881376,"comment_id":128634309,"body_markdown":"Quite simple: `myPasswordString = myRandomCharsFuntion();`","body":"Quite simple: <code>myPasswordString = myRandomCharsFuntion();</code>"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":4,"creation_date":1656670393,"post_id":8881376,"comment_id":128634338,"body_markdown":"@Radon8472: That doesn&#39;t overwrite the content of the existing string object. That assigns a reference to a new string, to the `myPasswordString` variable. The old string object is still in memory, and a memory dump taken before garbage collection will show the data.","body":"@Radon8472: That doesn&#39;t overwrite the content of the existing string object. That assigns a reference to a new string, to the <code>myPasswordString</code> variable. The old string object is still in memory, and a memory dump taken before garbage collection will show the data."},{"owner":{"account_id":2761067,"reputation":4435,"user_id":2377961,"accept_rate":25,"display_name":"Radon8472"},"score":0,"creation_date":1656670507,"post_id":8881376,"comment_id":128634384,"body_markdown":"And what is with: `for(i=0; i&lt;myPasswordString.length(); i++) myPasswordString[i] = (char) rand(0,255);`","body":"And what is with: <code>for(i=0; i&lt;myPasswordString.length(); i++) myPasswordString[i] = (char) rand(0,255);</code>"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1656671662,"post_id":8881376,"comment_id":128634789,"body_markdown":"@Radon8472: &quot;error: array required, but String found&quot;. That might be valid in some language, but it&#39;s not valid in Java.","body":"@Radon8472: &quot;error: array required, but String found&quot;. That might be valid in some language, but it&#39;s not valid in Java."},{"owner":{"account_id":2761067,"reputation":4435,"user_id":2377961,"accept_rate":25,"display_name":"Radon8472"},"score":0,"creation_date":1656671888,"post_id":8881376,"comment_id":128634853,"body_markdown":"Hmm, looks like you are right... I was sure the String class in Java would have a method to get and set the single chars within the string, but seems that I was wrong :(","body":"Hmm, looks like you are right... I was sure the String class in Java would have a method to get and set the single chars within the string, but seems that I was wrong :("},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1665039054,"post_id":8881376,"comment_id":130606492,"body_markdown":"@Radon8472 apparently, you didn’t read the answer you were commenting. It says right in the first sentence, in bold, “*Strings are immutable*”.","body":"@Radon8472 apparently, you didn’t read the answer you were commenting. It says right in the first sentence, in bold, “<i>Strings are immutable</i>”."},{"owner":{"account_id":5504028,"reputation":3389,"user_id":4372452,"accept_rate":60,"display_name":"mtraceur"},"score":0,"creation_date":1690411341,"post_id":8881376,"comment_id":135351728,"body_markdown":"@JonSkeet re: &quot;It would only be in the literal pool if it were present in the source code, or explicitly interned.&quot; In other words, if the password *just happens to match* any of the interned strings, implementation optimization details of the string type might reveal your password even if the attacker had far far far less information than a full memory dump - just knowing the (likely) interned strings for that program and having a timing side-channel or the like could narrow it down from &quot;could be any password&quot; to &quot;it&#39;s one of this very small list of interned strings&quot;.","body":"@JonSkeet re: &quot;It would only be in the literal pool if it were present in the source code, or explicitly interned.&quot; In other words, if the password <i>just happens to match</i> any of the interned strings, implementation optimization details of the string type might reveal your password even if the attacker had far far far less information than a full memory dump - just knowing the (likely) interned strings for that program and having a timing side-channel or the like could narrow it down from &quot;could be any password&quot; to &quot;it&#39;s one of this very small list of interned strings&quot;."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1690441629,"post_id":8881376,"comment_id":135354936,"body_markdown":"@mtraceur: That&#39;s true - although if you&#39;re hoping that a password will be in a very small list of strings, it&#39;s likely to be simpler to just try each of those strings than to go through subtle timing attacks, in most cases. (And any password which ends up as an interned string is probably really weak to start with.)","body":"@mtraceur: That&#39;s true - although if you&#39;re hoping that a password will be in a very small list of strings, it&#39;s likely to be simpler to just try each of those strings than to go through subtle timing attacks, in most cases. (And any password which ends up as an interned string is probably really weak to start with.)"}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":24,"down_vote_count":6,"up_vote_count":4735,"is_accepted":true,"score":4729,"last_activity_date":1524246627,"creation_date":1326723976,"answer_id":8881376,"question_id":8881291,"body_markdown":"**Strings are immutable**. That means once you&#39;ve created the `String`, if another process can dump memory, there&#39;s no way (aside from [reflection](https://en.wikipedia.org/wiki/Reflection_%28computer_programming%29)) you can get rid of the data before [garbage collection](https://en.wikipedia.org/wiki/Garbage_collection_%28computer_science%29) kicks in.\r\n\r\nWith an array, you can explicitly wipe the data after you&#39;re done with it. You can overwrite the array with anything you like, and the password won&#39;t be present anywhere in the system, even before garbage collection.\r\n\r\nSo yes, this *is* a security concern - but even using `char[]` only reduces the window of opportunity for an attacker, and it&#39;s only for this specific type of attack.\r\n\r\nAs noted in the comments, it&#39;s possible that arrays being moved by the garbage collector will leave stray copies of the data in memory. I believe this is implementation-specific - the garbage collector *may* clear all memory as it goes, to avoid this sort of thing. Even if it does, there&#39;s still the time during which the `char[]` contains the actual characters as an attack window.","title":"Why is char[] preferred over String for passwords?","body":"<p><strong>Strings are immutable</strong>. That means once you've created the <code>String</code>, if another process can dump memory, there's no way (aside from <a href=\"https://en.wikipedia.org/wiki/Reflection_%28computer_programming%29\" rel=\"noreferrer\">reflection</a>) you can get rid of the data before <a href=\"https://en.wikipedia.org/wiki/Garbage_collection_%28computer_science%29\" rel=\"noreferrer\">garbage collection</a> kicks in.</p>\n\n<p>With an array, you can explicitly wipe the data after you're done with it. You can overwrite the array with anything you like, and the password won't be present anywhere in the system, even before garbage collection.</p>\n\n<p>So yes, this <em>is</em> a security concern - but even using <code>char[]</code> only reduces the window of opportunity for an attacker, and it's only for this specific type of attack.</p>\n\n<p>As noted in the comments, it's possible that arrays being moved by the garbage collector will leave stray copies of the data in memory. I believe this is implementation-specific - the garbage collector <em>may</em> clear all memory as it goes, to avoid this sort of thing. Even if it does, there's still the time during which the <code>char[]</code> contains the actual characters as an attack window.</p>\n"},{"comments":[{"owner":{"account_id":268409,"reputation":6226,"user_id":557153,"accept_rate":83,"display_name":"avgvstvs"},"score":17,"creation_date":1454685581,"post_id":8881395,"comment_id":58169752,"body_markdown":"Not secure by default.  If we&#39;re talking a web application, most web containers will pass the password into the `HttpServletRequest` object in plaintext.  If the JVM version is 1.6 or lower, it&#39;ll be in permgen space.  If it&#39;s in 1.7, it&#39;ll still be readable until it gets collected.  (Whenever that is.)","body":"Not secure by default.  If we&#39;re talking a web application, most web containers will pass the password into the <code>HttpServletRequest</code> object in plaintext.  If the JVM version is 1.6 or lower, it&#39;ll be in permgen space.  If it&#39;s in 1.7, it&#39;ll still be readable until it gets collected.  (Whenever that is.)"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":6,"creation_date":1489053888,"post_id":8881395,"comment_id":72506938,"body_markdown":"@avgvstvs: strings are not automatically moved to the permgen space, that only applies to intern&#39;ed strings. Besides that, the permgen space is also subject to garbage collection, just at a lower rate. The real issue with the permgen space is it’s fixed size, which is exactly the reason why no one should mindlessly call `intern()` on arbitrary strings. But you are right in that the `String` instances exist in the first place (until collected) and turning them into `char[]` arrays afterwards doesn’t change it.","body":"@avgvstvs: strings are not automatically moved to the permgen space, that only applies to intern&#39;ed strings. Besides that, the permgen space is also subject to garbage collection, just at a lower rate. The real issue with the permgen space is it’s fixed size, which is exactly the reason why no one should mindlessly call <code>intern()</code> on arbitrary strings. But you are right in that the <code>String</code> instances exist in the first place (until collected) and turning them into <code>char[]</code> arrays afterwards doesn’t change it."},{"owner":{"account_id":268409,"reputation":6226,"user_id":557153,"accept_rate":83,"display_name":"avgvstvs"},"score":4,"creation_date":1489077792,"post_id":8881395,"comment_id":72523695,"body_markdown":"@Holger see https://docs.oracle.com/javase/specs/jvms/se6/html/ConstantPool.doc.html#67960\n\n&quot;Otherwise, a new instance of class String is created containing the sequence of Unicode characters given by the CONSTANT_String_info structure; that class instance is the result of string literal derivation. Finally, the intern method of the new String instance is invoked.&quot;\n\nIn 1.6, the JVM would call intern for you when it detected identical sequences.","body":"@Holger see <a href=\"https://docs.oracle.com/javase/specs/jvms/se6/html/ConstantPool.doc.html#67960\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jvms/se6/html/&hellip;</a>  &quot;Otherwise, a new instance of class String is created containing the sequence of Unicode characters given by the CONSTANT_String_info structure; that class instance is the result of string literal derivation. Finally, the intern method of the new String instance is invoked.&quot;  In 1.6, the JVM would call intern for you when it detected identical sequences."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1489080480,"post_id":8881395,"comment_id":72525546,"body_markdown":"@avgvstvs: this is relevant to the *constant pool* entries of a class, describing string literals, only. The constant pool of a class contains, as the name suggests, only *constant* strings, which obviously must be known at compile time (how could they appear in the class file otherwise). Strings created at runtime, i.e. via `Stringbuilder` or one of the constructors of `String` are not affected.","body":"@avgvstvs: this is relevant to the <i>constant pool</i> entries of a class, describing string literals, only. The constant pool of a class contains, as the name suggests, only <i>constant</i> strings, which obviously must be known at compile time (how could they appear in the class file otherwise). Strings created at runtime, i.e. via <code>Stringbuilder</code> or one of the constructors of <code>String</code> are not affected."},{"owner":{"account_id":268409,"reputation":6226,"user_id":557153,"accept_rate":83,"display_name":"avgvstvs"},"score":4,"creation_date":1489257801,"post_id":8881395,"comment_id":72596176,"body_markdown":"@Holger, you are correct I conflated constant pool and string pool, but it is also false that permgen space *only* applied to interned strings.  Prior to 1.7, both the constant_pool and the string_pool resided in permgen space.  That means the only class of Strings that were allocated to the heap were as you said, `new String()` or `StringBuilder.toString()`  I managed applications with lots of string constants, and we had lots of permgen creep as a result.  Until 1.7.","body":"@Holger, you are correct I conflated constant pool and string pool, but it is also false that permgen space <i>only</i> applied to interned strings.  Prior to 1.7, both the constant_pool and the string_pool resided in permgen space.  That means the only class of Strings that were allocated to the heap were as you said, <code>new String()</code> or <code>StringBuilder.toString()</code>  I managed applications with lots of string constants, and we had lots of permgen creep as a result.  Until 1.7."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":7,"creation_date":1489404049,"post_id":8881395,"comment_id":72639865,"body_markdown":"@avgvstvs: well, string constants are, as the JLS mandates, always interned, hence the statement that interned strings ended up in the permgen space, applied to string constants implicitly. The only difference is that string constants were created in the permgen space in the first place, whereas calling `intern()` on an arbitrary string could cause the allocation of an equivalent string in the permgen space. The latter could get GC’ed, if there was no literal string of the same contents sharing that object…","body":"@avgvstvs: well, string constants are, as the JLS mandates, always interned, hence the statement that interned strings ended up in the permgen space, applied to string constants implicitly. The only difference is that string constants were created in the permgen space in the first place, whereas calling <code>intern()</code> on an arbitrary string could cause the allocation of an equivalent string in the permgen space. The latter could get GC’ed, if there was no literal string of the same contents sharing that object…"},{"owner":{"account_id":1076053,"reputation":85188,"user_id":1281433,"accept_rate":43,"display_name":"Joshua Taylor"},"score":1,"creation_date":1521139654,"post_id":8881395,"comment_id":85616249,"body_markdown":"Neat to note, though, that *some* information about the string is still leaked (if memory can be inspected): the *length* of the password.  With a C style string, we could just have a buffer of memory and once it&#39;s nulled out, we don&#39;t know how long the original string was.  With the `char[]` in Java, we do.  If an attacker can see memory, and sees that getPassword() returns a `char[1]`, that indicates a much easier brute force target than one that returns a `char[16]`.","body":"Neat to note, though, that <i>some</i> information about the string is still leaked (if memory can be inspected): the <i>length</i> of the password.  With a C style string, we could just have a buffer of memory and once it&#39;s nulled out, we don&#39;t know how long the original string was.  With the <code>char[]</code> in Java, we do.  If an attacker can see memory, and sees that getPassword() returns a <code>char[1]</code>, that indicates a much easier brute force target than one that returns a <code>char[16]</code>."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1665039595,"post_id":8881395,"comment_id":130606642,"body_markdown":"@JoshuaTaylor that’s up to the APIs. If you design an authentication method accepting a `char[]` and an offset and length, you avoid such issues, even without C style strings. However, if you look around at real life APIs, you’ll find that lots of them require `String` anyway, which makes this whole discussion about `char[]` pointless.","body":"@JoshuaTaylor that’s up to the APIs. If you design an authentication method accepting a <code>char[]</code> and an offset and length, you avoid such issues, even without C style strings. However, if you look around at real life APIs, you’ll find that lots of them require <code>String</code> anyway, which makes this whole discussion about <code>char[]</code> pointless."},{"owner":{"account_id":6273150,"reputation":326,"user_id":4876728,"display_name":"DBE"},"score":0,"creation_date":1678329270,"post_id":8881395,"comment_id":133512919,"body_markdown":"About &quot;after purging data with 0&#39;s, the password is secure&quot;... I can&#39;t avoid thinking if the JVM discovers that such array will no longer be used, it could optimize by simply &quot;doing nothing&quot; (i.e. not clearing the memory).","body":"About &quot;after purging data with 0&#39;s, the password is secure&quot;... I can&#39;t avoid thinking if the JVM discovers that such array will no longer be used, it could optimize by simply &quot;doing nothing&quot; (i.e. not clearing the memory)."},{"owner":{"account_id":12546089,"reputation":327,"user_id":9129342,"display_name":"paul035"},"score":0,"creation_date":1685864466,"post_id":8881395,"comment_id":134718446,"body_markdown":"https://paulsofts.com/why-use-the-char-array-for-storing-passwords-over-strings-in-java/","body":"<a href=\"https://paulsofts.com/why-use-the-char-array-for-storing-passwords-over-strings-in-java/\" rel=\"nofollow noreferrer\">paulsofts.com/&hellip;</a>"}],"tags":[],"owner":{"account_id":995700,"reputation":4908,"user_id":1011704,"display_name":"alephx"},"comment_count":10,"down_vote_count":1,"up_vote_count":393,"is_accepted":false,"score":392,"last_activity_date":1331401852,"creation_date":1326724053,"answer_id":8881395,"question_id":8881291,"body_markdown":"Character arrays (`char[]`) can be cleared after use by setting each character to zero and Strings not. If someone can somehow see the memory image, they can see a password in plain text if Strings are used, but if `char[]` is used, after purging data with 0&#39;s, the password is secure.\r\n","title":"Why is char[] preferred over String for passwords?","body":"<p>Character arrays (<code>char[]</code>) can be cleared after use by setting each character to zero and Strings not. If someone can somehow see the memory image, they can see a password in plain text if Strings are used, but if <code>char[]</code> is used, after purging data with 0's, the password is secure.</p>\n"},{"comments":[{"owner":{"account_id":26728,"reputation":50262,"user_id":69809,"accept_rate":96,"display_name":"vgru"},"score":4,"creation_date":1326734810,"post_id":8881399,"comment_id":11105696,"body_markdown":"I wouldn&#39;t say that the problem is that your references will or will not &quot;escape&quot;. It&#39;s just that strings will remain unmodified in memory for some additional time, while `char[]` can be modified, and then it&#39;s irrelevant whether it&#39;s collected or not. And since string interning needs to be done explicitly for non-literals, it&#39;s the same like telling that a `char[]` can be referenced by a static field.","body":"I wouldn&#39;t say that the problem is that your references will or will not &quot;escape&quot;. It&#39;s just that strings will remain unmodified in memory for some additional time, while <code>char[]</code> can be modified, and then it&#39;s irrelevant whether it&#39;s collected or not. And since string interning needs to be done explicitly for non-literals, it&#39;s the same like telling that a <code>char[]</code> can be referenced by a static field."},{"owner":{"account_id":1389835,"reputation":566,"user_id":1386469,"display_name":"Dawesi"},"score":3,"creation_date":1533498197,"post_id":8881399,"comment_id":90356803,"body_markdown":"isn&#39;t password in memory as a string from the form post?","body":"isn&#39;t password in memory as a string from the form post?"}],"tags":[],"owner":{"account_id":25066,"reputation":66292,"user_id":64174,"accept_rate":100,"display_name":"Sean Owen"},"comment_count":2,"down_vote_count":2,"up_vote_count":95,"is_accepted":false,"score":93,"last_activity_date":1326724074,"creation_date":1326724074,"answer_id":8881399,"question_id":8881291,"body_markdown":"I don&#39;t think this is a valid suggestion, but, I can at least guess at the reason.\r\n\r\nI think the motivation is wanting to make sure that you can erase all trace of the password in memory promptly and with certainty after it is used. With a `char[]` you could overwrite each element of the array with a blank or something for sure. You can&#39;t edit the internal value of a `String` that way.\r\n\r\nBut that alone isn&#39;t a good answer; why not just make sure a reference to the `char[]` or `String` doesn&#39;t escape? Then there&#39;s no security issue. But the thing is that `String` objects can be `intern()`ed in theory and kept alive inside the constant pool. I suppose using `char[]` forbids this possibility.\r\n","title":"Why is char[] preferred over String for passwords?","body":"<p>I don't think this is a valid suggestion, but, I can at least guess at the reason.</p>\n\n<p>I think the motivation is wanting to make sure that you can erase all trace of the password in memory promptly and with certainty after it is used. With a <code>char[]</code> you could overwrite each element of the array with a blank or something for sure. You can't edit the internal value of a <code>String</code> that way.</p>\n\n<p>But that alone isn't a good answer; why not just make sure a reference to the <code>char[]</code> or <code>String</code> doesn't escape? Then there's no security issue. But the thing is that <code>String</code> objects can be <code>intern()</code>ed in theory and kept alive inside the constant pool. I suppose using <code>char[]</code> forbids this possibility.</p>\n"},{"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":39,"creation_date":1326730997,"post_id":8881461,"comment_id":11104399,"body_markdown":"I&#39;d replace &quot;completely useless&quot; with &quot;just a minor security improvement&quot;. For example you could get access to a memory dump if you happen to have read access to a tmp directory, a badly configured machine and a crash in your application. In that case you wouldn&#39;t be able to install a keylogger, but you *could* analyze the core dump.","body":"I&#39;d replace &quot;completely useless&quot; with &quot;just a minor security improvement&quot;. For example you could get access to a memory dump if you happen to have read access to a tmp directory, a badly configured machine and a crash in your application. In that case you wouldn&#39;t be able to install a keylogger, but you <i>could</i> analyze the core dump."},{"owner":{"account_id":31237,"reputation":5991,"user_id":85661,"accept_rate":81,"display_name":"Dan Is Fiddling By Firelight"},"score":52,"creation_date":1326731172,"post_id":8881461,"comment_id":11104470,"body_markdown":"Wiping unencrypted data from memory as soon as you&#39;re done with it is considered a best practice not because it&#39;s foolproof (it&#39;s not); but because it reduces your threat exposure level.  Real time attacks aren&#39;t prevented by doing this; but because it serves a a damage mitigation tool by significantly reduces the amount of data that is exposed in a retroactive attack on a memory snapshot (eg a copy of your apps memory that was written to a swap file, or that was read out of memory yanked from a running server and moved to a different one before its state failed).","body":"Wiping unencrypted data from memory as soon as you&#39;re done with it is considered a best practice not because it&#39;s foolproof (it&#39;s not); but because it reduces your threat exposure level.  Real time attacks aren&#39;t prevented by doing this; but because it serves a a damage mitigation tool by significantly reduces the amount of data that is exposed in a retroactive attack on a memory snapshot (eg a copy of your apps memory that was written to a swap file, or that was read out of memory yanked from a running server and moved to a different one before its state failed)."},{"owner":{"account_id":906214,"reputation":3979,"user_id":941058,"accept_rate":81,"display_name":"kingdango"},"score":11,"creation_date":1326824327,"post_id":8881461,"comment_id":11129687,"body_markdown":"I tend to agree with the attitude of this response. I&#39;d venture to propose most security breaches of consequence occur at a much higher level of abstraction than the bits in memory.  Sure, there are probably scenarios in hyper-secure defense systems where this may be of considerable concern but seriously thinking at this level is overkill for 99% of the applications where .NET or Java are being leveraged (as it related to garbage collection).","body":"I tend to agree with the attitude of this response. I&#39;d venture to propose most security breaches of consequence occur at a much higher level of abstraction than the bits in memory.  Sure, there are probably scenarios in hyper-secure defense systems where this may be of considerable concern but seriously thinking at this level is overkill for 99% of the applications where .NET or Java are being leveraged (as it related to garbage collection)."},{"owner":{"account_id":20008,"reputation":3241,"user_id":47402,"display_name":"Rolf Rander"},"score":0,"creation_date":1327079952,"post_id":8881461,"comment_id":11197232,"body_markdown":"maybe localhost isn&#39;t what you want to protect.  Maybe you have created a program running on an unsecure client and you need the password for accessing a database.  If you don&#39;t trust the client and are trying to protect the database, wiping passwords from memory is good advice.","body":"maybe localhost isn&#39;t what you want to protect.  Maybe you have created a program running on an unsecure client and you need the password for accessing a database.  If you don&#39;t trust the client and are trying to protect the database, wiping passwords from memory is good advice."},{"owner":{"account_id":75323,"reputation":15516,"user_id":216111,"accept_rate":100,"display_name":"josefx"},"score":1,"creation_date":1327086527,"post_id":8881461,"comment_id":11199219,"body_markdown":"@RolfRander that is even worse, you should not enter passwords on an untrusted client - use a one time key (not sure this is the right term, a password that only works once and gets locked out after that use).","body":"@RolfRander that is even worse, you should not enter passwords on an untrusted client - use a one time key (not sure this is the right term, a password that only works once and gets locked out after that use)."},{"owner":{"account_id":20008,"reputation":3241,"user_id":47402,"display_name":"Rolf Rander"},"score":0,"creation_date":1327087907,"post_id":8881461,"comment_id":11199641,"body_markdown":"most websites use passwords for login.  Your credit card number and security-digits is also a kind of password.","body":"most websites use passwords for login.  Your credit card number and security-digits is also a kind of password."},{"owner":{"account_id":75323,"reputation":15516,"user_id":216111,"accept_rate":100,"display_name":"josefx"},"score":0,"creation_date":1327093089,"post_id":8881461,"comment_id":11201136,"body_markdown":"@RolfRander there is nothing about websites that requires an untrusted client, if the user chooses to use a compromised system then there is nothing that you can do to protect him from the consequences.","body":"@RolfRander there is nothing about websites that requires an untrusted client, if the user chooses to use a compromised system then there is nothing that you can do to protect him from the consequences."},{"owner":{"account_id":20008,"reputation":3241,"user_id":47402,"display_name":"Rolf Rander"},"score":0,"creation_date":1327096971,"post_id":8881461,"comment_id":11202182,"body_markdown":"as I said, the point might be protecting the server, not the client. My point with the website-example is that there are lots of services using passwords (for different reasons, although other mechanisms obviously would be more secure.  Bottom line being that a scenario where you want to protect the server, won&#39;t trust the client and are using passwords, storing passwords in a char[] is a wise choice and this isn&#39;t really a far-fetched scenario.","body":"as I said, the point might be protecting the server, not the client. My point with the website-example is that there are lots of services using passwords (for different reasons, although other mechanisms obviously would be more secure.  Bottom line being that a scenario where you want to protect the server, won&#39;t trust the client and are using passwords, storing passwords in a char[] is a wise choice and this isn&#39;t really a far-fetched scenario."},{"owner":{"account_id":75323,"reputation":15516,"user_id":216111,"accept_rate":100,"display_name":"josefx"},"score":0,"creation_date":1327140395,"post_id":8881461,"comment_id":11207770,"body_markdown":"@RolfRander somehow I get the feeling that you use a single login for all your clients and don&#39;t have any security/validation serverside. Its your duty to make sure that a user can&#39;t compromise the database (access restrictions and validation serverside) and the users duty to make sure that his account can&#39;t be compromised (his password).","body":"@RolfRander somehow I get the feeling that you use a single login for all your clients and don&#39;t have any security/validation serverside. Its your duty to make sure that a user can&#39;t compromise the database (access restrictions and validation serverside) and the users duty to make sure that his account can&#39;t be compromised (his password)."},{"owner":{"account_id":20008,"reputation":3241,"user_id":47402,"display_name":"Rolf Rander"},"score":1,"creation_date":1327232978,"post_id":8881461,"comment_id":11221050,"body_markdown":"Absolutely. But for the user to make sure his password isn&#39;t compromised, the software handling the password has to take care to reduce the chance that malware (on the client) can pick up passwords from the client application memory.  To achieve that, I believe storing the password in a char[] and overwriting this afterwards is good advice.","body":"Absolutely. But for the user to make sure his password isn&#39;t compromised, the software handling the password has to take care to reduce the chance that malware (on the client) can pick up passwords from the client application memory.  To achieve that, I believe storing the password in a char[] and overwriting this afterwards is good advice."},{"owner":{"account_id":1709181,"reputation":786,"user_id":1567566,"accept_rate":40,"display_name":"Tinman"},"score":2,"creation_date":1349904503,"post_id":8881461,"comment_id":17354947,"body_markdown":"I&#39;d say that of someone understands the thinking behind the char vs sting then they are more likely to be thinking of security when configuring the servers. Not thinking is what usually introduces security holes.","body":"I&#39;d say that of someone understands the thinking behind the char vs sting then they are more likely to be thinking of security when configuring the servers. Not thinking is what usually introduces security holes."},{"owner":{"account_id":92574,"reputation":4973,"user_id":253661,"accept_rate":80,"display_name":"Peter vdL"},"score":13,"creation_date":1406178905,"post_id":8881461,"comment_id":38730451,"body_markdown":"After the Heartbleed penetration of server memory, revealing passwords, I would replace the string &quot;just a minor security improvement&quot; with &quot;absolutely essential to not use String for passwords, but use a char [] instead.&quot;","body":"After the Heartbleed penetration of server memory, revealing passwords, I would replace the string &quot;just a minor security improvement&quot; with &quot;absolutely essential to not use String for passwords, but use a char [] instead.&quot;"},{"owner":{"account_id":75323,"reputation":15516,"user_id":216111,"accept_rate":100,"display_name":"josefx"},"score":2,"creation_date":1406386073,"post_id":8881461,"comment_id":38818098,"body_markdown":"@PetervdL heartbleed happened because someone got the great idea that reusing memory was cheaper than allocating new (cleared) memory, you cannot reuse a String in Java, just hope that nobody ever gets the idea to put your char[] into a reuse list for better performance.","body":"@PetervdL heartbleed happened because someone got the great idea that reusing memory was cheaper than allocating new (cleared) memory, you cannot reuse a String in Java, just hope that nobody ever gets the idea to put your char[] into a reuse list for better performance."},{"owner":{"account_id":92574,"reputation":4973,"user_id":253661,"accept_rate":80,"display_name":"Peter vdL"},"score":2,"creation_date":1406486748,"post_id":8881461,"comment_id":38840861,"body_markdown":"You&#39;re missing the point completely, Josefx.  The point is that heartbleed allowed remote reading of process memory, which everyone had hitherto thought very unlikely.  When combined with the use of Java strings, passwords are easily revealed.  Char [] allows the developer to blank out passwords, String does not even give that opportunity.  Char [] + heartbleed may be harmful if coder screws up.  String + heartbleed == definitely always harmful.","body":"You&#39;re missing the point completely, Josefx.  The point is that heartbleed allowed remote reading of process memory, which everyone had hitherto thought very unlikely.  When combined with the use of Java strings, passwords are easily revealed.  Char [] allows the developer to blank out passwords, String does not even give that opportunity.  Char [] + heartbleed may be harmful if coder screws up.  String + heartbleed == definitely always harmful."},{"owner":{"account_id":75323,"reputation":15516,"user_id":216111,"accept_rate":100,"display_name":"josefx"},"score":11,"creation_date":1406741973,"post_id":8881461,"comment_id":38952101,"body_markdown":"@PetervdL heartbleed only allowed reading of a specific reused collection of buffers (used for both security critical data and network I/O without clearing in between - for performance reasons), you cannot combine this with a Java String since they are by design not reuseable. Nor can you read into random memory using Java to get at the contents of a String. The language and design problems that lead to heartbleed are just not possible with Java Strings.","body":"@PetervdL heartbleed only allowed reading of a specific reused collection of buffers (used for both security critical data and network I/O without clearing in between - for performance reasons), you cannot combine this with a Java String since they are by design not reuseable. Nor can you read into random memory using Java to get at the contents of a String. The language and design problems that lead to heartbleed are just not possible with Java Strings."},{"owner":{"account_id":75323,"reputation":15516,"user_id":216111,"accept_rate":100,"display_name":"josefx"},"score":6,"creation_date":1406835568,"post_id":8881461,"comment_id":38997862,"body_markdown":"@PetervdL then please do not refer the &quot;heartbleed bug in combination with Java Strings&quot; and I am sure most I mentioned in relation to heartbleed was correct, the libreSSL developers got quite detailed on why OpenSSL was a security nightmare. There &quot;may&quot; be a way to use a bug in the JIT to bypass Javas build in range checks or the automatic zeroing of object memory and it &quot;might&quot; be possible for someone to trigger this from a remote location without crashing the JVM, however that has nothing in common with heartbleed, nor would any bug on the JVM be so simple or optimized for exploits.","body":"@PetervdL then please do not refer the &quot;heartbleed bug in combination with Java Strings&quot; and I am sure most I mentioned in relation to heartbleed was correct, the libreSSL developers got quite detailed on why OpenSSL was a security nightmare. There &quot;may&quot; be a way to use a bug in the JIT to bypass Javas build in range checks or the automatic zeroing of object memory and it &quot;might&quot; be possible for someone to trigger this from a remote location without crashing the JVM, however that has nothing in common with heartbleed, nor would any bug on the JVM be so simple or optimized for exploits."},{"owner":{"account_id":69386,"reputation":5102,"user_id":201891,"accept_rate":85,"display_name":"DavidS"},"score":3,"creation_date":1436332550,"post_id":8881461,"comment_id":50560487,"body_markdown":"@PetervdL It&#39;s not just not &quot;specific&quot; to the Heartbleed bug; it&#39;s totally inapplicable. I suggest you don&#39;t reference Heartbleed as justification for security measures until you have a better grasp of its nature. Thanks to josefx for shedding light on this often misunderstood issue.","body":"@PetervdL It&#39;s not just not &quot;specific&quot; to the Heartbleed bug; it&#39;s totally inapplicable. I suggest you don&#39;t reference Heartbleed as justification for security measures until you have a better grasp of its nature. Thanks to josefx for shedding light on this often misunderstood issue."},{"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"score":0,"creation_date":1524695589,"post_id":8881461,"comment_id":87080534,"body_markdown":"There is yet another case - when the JVM crashes and produces a memory dump.","body":"There is yet another case - when the JVM crashes and produces a memory dump."},{"owner":{"account_id":1389835,"reputation":566,"user_id":1386469,"display_name":"Dawesi"},"score":0,"creation_date":1533499161,"post_id":8881461,"comment_id":90357018,"body_markdown":"Why would you store the password in in memory? external system? web or api request submits a string (ironically), so it&#39;s in memory anyway at that point. I&#39;d never store the login password in another variable (other than the readonly one it&#39;s sent to the server with) unencrypted for any reason?\n\nShould web requests convert letters to their char number equiv to submit so the request variable is a number? As there is no char datatype from the browser?","body":"Why would you store the password in in memory? external system? web or api request submits a string (ironically), so it&#39;s in memory anyway at that point. I&#39;d never store the login password in another variable (other than the readonly one it&#39;s sent to the server with) unencrypted for any reason?  Should web requests convert letters to their char number equiv to submit so the request variable is a number? As there is no char datatype from the browser?"},{"owner":{"account_id":76118,"reputation":1539,"user_id":218139,"display_name":"Stefan L"},"score":1,"creation_date":1545063488,"post_id":8881461,"comment_id":94486601,"body_markdown":"And for completeness let&#39;s not forget the more recent meltdown and spectre attacks: https://meltdownattack.com/ which could be exploited via a web browser or shared hosting environment.","body":"And for completeness let&#39;s not forget the more recent meltdown and spectre attacks: <a href=\"https://meltdownattack.com/\" rel=\"nofollow noreferrer\">meltdownattack.com</a> which could be exploited via a web browser or shared hosting environment."}],"tags":[],"owner":{"account_id":75323,"reputation":15516,"user_id":216111,"accept_rate":100,"display_name":"josefx"},"comment_count":20,"down_vote_count":8,"up_vote_count":245,"is_accepted":false,"score":237,"last_activity_date":1437346321,"creation_date":1326724345,"answer_id":8881461,"question_id":8881291,"body_markdown":"Some people believe that you have to overwrite the memory used to store the password once you no longer need it. This reduces the time window an attacker has to read the password from your system and completely ignores the fact that the attacker already needs enough access to hijack the JVM memory to do this. An attacker with that much access can catch your key events making this completely useless (AFAIK, so please correct me if I am wrong).\r\n\r\n**Update**\r\n\r\nThanks to the comments I have to update my answer. Apparently there are two cases where this can add a (very) minor security improvement as it reduces the time a password could land on the hard drive. Still I think it&#39;s overkill for most use cases.\r\n\r\n* Your target system may be badly configured or you have to assume it is and you have to be paranoid about core dumps (can be valid if the systems are not managed by an administrator). \r\n* Your software has to be overly paranoid to prevent data leaks with the attacker gaining access to the hardware - using things like [TrueCrypt][1] (discontinued), [VeraCrypt][2], or [CipherShed][3].\r\n\r\nIf possible, disabling core dumps and the swap file would take care of both problems. However, they would require administrator rights and may reduce functionality (less memory to use) and pulling RAM from a running system would still be a valid concern.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/TrueCrypt\r\n  [2]: https://veracrypt.codeplex.com/\r\n  [3]: https://ciphershed.org/","title":"Why is char[] preferred over String for passwords?","body":"<p>Some people believe that you have to overwrite the memory used to store the password once you no longer need it. This reduces the time window an attacker has to read the password from your system and completely ignores the fact that the attacker already needs enough access to hijack the JVM memory to do this. An attacker with that much access can catch your key events making this completely useless (AFAIK, so please correct me if I am wrong).</p>\n\n<p><strong>Update</strong></p>\n\n<p>Thanks to the comments I have to update my answer. Apparently there are two cases where this can add a (very) minor security improvement as it reduces the time a password could land on the hard drive. Still I think it's overkill for most use cases.</p>\n\n<ul>\n<li>Your target system may be badly configured or you have to assume it is and you have to be paranoid about core dumps (can be valid if the systems are not managed by an administrator). </li>\n<li>Your software has to be overly paranoid to prevent data leaks with the attacker gaining access to the hardware - using things like <a href=\"http://en.wikipedia.org/wiki/TrueCrypt\" rel=\"noreferrer\">TrueCrypt</a> (discontinued), <a href=\"https://veracrypt.codeplex.com/\" rel=\"noreferrer\">VeraCrypt</a>, or <a href=\"https://ciphershed.org/\" rel=\"noreferrer\">CipherShed</a>.</li>\n</ul>\n\n<p>If possible, disabling core dumps and the swap file would take care of both problems. However, they would require administrator rights and may reduce functionality (less memory to use) and pulling RAM from a running system would still be a valid concern.</p>\n"},{"comments":[{"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"score":51,"creation_date":1326849243,"post_id":8885343,"comment_id":11136307,"body_markdown":"@voo, but i doubt you&#39;d log via direct writing to stream and concatenation. logging framework would transform the char[] into good output","body":"@voo, but i doubt you&#39;d log via direct writing to stream and concatenation. logging framework would transform the char[] into good output"},{"owner":{"account_id":103731,"reputation":53285,"user_id":277683,"accept_rate":68,"display_name":"Konrad Garus"},"score":49,"creation_date":1327063191,"post_id":8885343,"comment_id":11191515,"body_markdown":"@Thr4wn Default implementation of `toString` is `classname@hashcode`. `[C` represents `char[]`, the rest is hexadecimal hash code.","body":"@Thr4wn Default implementation of <code>toString</code> is <code>classname@hashcode</code>. <code>[C</code> represents <code>char[]</code>, the rest is hexadecimal hash code."},{"owner":{"account_id":281669,"reputation":506,"user_id":578101,"display_name":"mauhiz"},"score":22,"creation_date":1436430967,"post_id":8885343,"comment_id":50612637,"body_markdown":"Interesting idea. I would like to point out that this does not transpose to Scala which has a meaningful toString for arrays.","body":"Interesting idea. I would like to point out that this does not transpose to Scala which has a meaningful toString for arrays."},{"owner":{"display_name":"user1804599"},"score":48,"creation_date":1441042332,"post_id":8885343,"comment_id":52508543,"body_markdown":"I&#39;d write a `Password` class type for this. It&#39;s less obscure, and harder to accidentally pass somewhere.","body":"I&#39;d write a <code>Password</code> class type for this. It&#39;s less obscure, and harder to accidentally pass somewhere."},{"owner":{"account_id":5574704,"reputation":478,"user_id":4418511,"accept_rate":50,"display_name":"GC_"},"score":12,"creation_date":1471872181,"post_id":8885343,"comment_id":65509060,"body_markdown":"Why would someone assume the char array was going to be cast as an Object?  I&#39;m not sure I get why every likes this answer.  Suppose you did this: System.out.println(&quot;Password&quot;.toCharArray());","body":"Why would someone assume the char array was going to be cast as an Object?  I&#39;m not sure I get why every likes this answer.  Suppose you did this: System.out.println(&quot;Password&quot;.toCharArray());"},{"owner":{"account_id":1356059,"reputation":1246,"user_id":1294423,"accept_rate":100,"display_name":"Gavin S. Yancey"},"score":3,"creation_date":1497917245,"post_id":8885343,"comment_id":76269340,"body_markdown":"Given that Java&#39;s hashcode implementation for arrays is not a secure hash, an attacker who found `[C@5829428e` in a logfile could likely bruteforce the password it came from anyways, so this provides a negligible security benefit.","body":"Given that Java&#39;s hashcode implementation for arrays is not a secure hash, an attacker who found <code>[C@5829428e</code> in a logfile could likely bruteforce the password it came from anyways, so this provides a negligible security benefit."},{"owner":{"account_id":194284,"reputation":4206,"user_id":436524,"accept_rate":72,"display_name":"Octavia Togami"},"score":13,"creation_date":1499817809,"post_id":8885343,"comment_id":77066710,"body_markdown":"@g.rocket The hashcode for an array does not depend on the contents of the array, it is effectively random: [Online Example](https://tio.run/##TYxBDoIwFET3nmLCphCUgC7RI7hiaVxUQCxCS9oPxhDOXttIjLOYmfw/eS2f@E4NtWyrp7XDeOtEibLjxuDMhcS8gdN6N8TJxaREhd59w4K0kM3lCq4bE61jr7vSCIUkCJyQ5i6OyFJf4vh/51W8DdV9okZKBoejToZBgBiyfqF8cO3wM8vYFmzv7cCWKP8Bls3XF2s/)","body":"@g.rocket The hashcode for an array does not depend on the contents of the array, it is effectively random: <a href=\"https://tio.run/##TYxBDoIwFET3nmLCphCUgC7RI7hiaVxUQCxCS9oPxhDOXttIjLOYmfw/eS2f@E4NtWyrp7XDeOtEibLjxuDMhcS8gdN6N8TJxaREhd59w4K0kM3lCq4bE61jr7vSCIUkCJyQ5i6OyFJf4vh/51W8DdV9okZKBoejToZBgBiyfqF8cO3wM8vYFmzv7cCWKP8Bls3XF2s/\" rel=\"nofollow noreferrer\">Online Example</a>"},{"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"score":1,"creation_date":1524695481,"post_id":8885343,"comment_id":87080496,"body_markdown":"This is not the reason why `char[]` is recommended instead of `String`","body":"This is not the reason why <code>char[]</code> is recommended instead of <code>String</code>"},{"owner":{"account_id":1389835,"reputation":566,"user_id":1386469,"display_name":"Dawesi"},"score":1,"creation_date":1533498381,"post_id":8885343,"comment_id":90356849,"body_markdown":"Why is a password stored unencrypted in the first place? It is received in memory from a request (stored in memory as string??) then immediately should be hashed, compared and discarded, or if for another system should be obtained from an external vault already encrypted then decrypted on use using a rotated key? \n\nAm I missing something here, trying to get my head around this?","body":"Why is a password stored unencrypted in the first place? It is received in memory from a request (stored in memory as string??) then immediately should be hashed, compared and discarded, or if for another system should be obtained from an external vault already encrypted then decrypted on use using a rotated key?   Am I missing something here, trying to get my head around this?"},{"owner":{"account_id":69301,"reputation":10391,"user_id":201722,"accept_rate":95,"display_name":"luis.espinal"},"score":1,"creation_date":1546527256,"post_id":8885343,"comment_id":94885652,"body_markdown":"The password might not be stored unencrypted - in fact, what&#39;s stored is a securely encrypted and hashed sequence of bytes generated from a password  that has been 1) nonced, 2) salted, and 3) lengthened. Let&#39;s call that byte sequence **C**. However, somewhere along the line, a plaintext might be handled to salt/nonce/lengthen then encrypt to compare with **C**. So the best approach is to always assume that passwordy-looking thingie we are about to hold is plaintext and store it as ephemerally as possible.","body":"The password might not be stored unencrypted - in fact, what&#39;s stored is a securely encrypted and hashed sequence of bytes generated from a password  that has been 1) nonced, 2) salted, and 3) lengthened. Let&#39;s call that byte sequence <b>C</b>. However, somewhere along the line, a plaintext might be handled to salt/nonce/lengthen then encrypt to compare with <b>C</b>. So the best approach is to always assume that passwordy-looking thingie we are about to hold is plaintext and store it as ephemerally as possible."},{"owner":{"account_id":133236,"reputation":14472,"user_id":334451,"accept_rate":64,"display_name":"Mikko Rantalainen"},"score":1,"creation_date":1587454510,"post_id":8885343,"comment_id":108510135,"body_markdown":"If your program ever logs stack traces with function arguments, any parameter may be leaked as text.","body":"If your program ever logs stack traces with function arguments, any parameter may be leaked as text."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1665039222,"post_id":8885343,"comment_id":130606539,"body_markdown":"@GavinS.Yancey this hashcode has nothing to do with the array’s content at all.","body":"@GavinS.Yancey this hashcode has nothing to do with the array’s content at all."}],"tags":[],"owner":{"account_id":103731,"reputation":53285,"user_id":277683,"accept_rate":68,"display_name":"Konrad Garus"},"comment_count":12,"down_vote_count":13,"up_vote_count":1348,"is_accepted":false,"score":1335,"last_activity_date":1326996714,"creation_date":1326742650,"answer_id":8885343,"question_id":8881291,"body_markdown":"While other suggestions here seem valid, there is one other good reason. With plain `String` you have much higher chances of **accidentally printing the password to logs**, monitors or some other insecure place. `char[]` is less vulnerable.\r\n\r\nConsider this:\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tObject pw = &quot;Password&quot;;\r\n\t\tSystem.out.println(&quot;String: &quot; + pw);\r\n\t\r\n\t\tpw = &quot;Password&quot;.toCharArray();\r\n\t\tSystem.out.println(&quot;Array: &quot; + pw);\r\n\t}\r\n\r\nPrints:\r\n\r\n\tString: Password\r\n\tArray: [C@5829428e","title":"Why is char[] preferred over String for passwords?","body":"<p>While other suggestions here seem valid, there is one other good reason. With plain <code>String</code> you have much higher chances of <strong>accidentally printing the password to logs</strong>, monitors or some other insecure place. <code>char[]</code> is less vulnerable.</p>\n\n<p>Consider this:</p>\n\n<pre><code>public static void main(String[] args) {\n    Object pw = \"Password\";\n    System.out.println(\"String: \" + pw);\n\n    pw = \"Password\".toCharArray();\n    System.out.println(\"Array: \" + pw);\n}\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>String: Password\nArray: [C@5829428e\n</code></pre>\n"},{"comments":[{"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"score":6,"creation_date":1327265120,"post_id":8889285,"comment_id":11227113,"body_markdown":"this is exactly the flawed/bogus reference I talk about below Jon&#39;s answer, it&#39;s a well known source w/ a lot of criticism.","body":"this is exactly the flawed/bogus reference I talk about below Jon&#39;s answer, it&#39;s a well known source w/ a lot of criticism."},{"owner":{"account_id":932340,"reputation":3214,"user_id":961954,"accept_rate":100,"display_name":"user961954"},"score":46,"creation_date":1344684457,"post_id":8889285,"comment_id":15863197,"body_markdown":"@bestass can you please also cite a reference?","body":"@bestass can you please also cite a reference?"},{"owner":{"account_id":2482826,"reputation":13761,"user_id":2161954,"accept_rate":93,"display_name":"SnakeDoc"},"score":17,"creation_date":1403830221,"post_id":8889285,"comment_id":37821142,"body_markdown":"@bestass sorry, but `String` is pretty well understood and how it behaves in the JVM... there are good reasons to use `char[]` in place of `String` when dealing with passwords in a secure manner.","body":"@bestass sorry, but <code>String</code> is pretty well understood and how it behaves in the JVM... there are good reasons to use <code>char[]</code> in place of <code>String</code> when dealing with passwords in a secure manner."},{"owner":{"account_id":1389835,"reputation":566,"user_id":1386469,"display_name":"Dawesi"},"score":5,"creation_date":1533498624,"post_id":8889285,"comment_id":90356901,"body_markdown":"once again though the password is passed as a string from the browser to the request as &#39;string&#39; not char? so no matter what you do it&#39;s a string, at which point it should be acted on and discarded, never stored in memory?","body":"once again though the password is passed as a string from the browser to the request as &#39;string&#39; not char? so no matter what you do it&#39;s a string, at which point it should be acted on and discarded, never stored in memory?"},{"owner":{"account_id":69301,"reputation":10391,"user_id":201722,"accept_rate":95,"display_name":"luis.espinal"},"score":6,"creation_date":1546543505,"post_id":8889285,"comment_id":94893485,"body_markdown":"@Dawesi - `At which point` - that&#39;s application specific, but the general rule is to do so as soon as you get a hold of something that is supposed to be a password (plaintext or otherwise). You get it from the browser as part of an HTTP request, for instance. You cannot control the delivery, but you can control your own storage, so as soon as you get it, put it in a char[], do what you need to do with it, then set all to &#39;0&#39; and let the gc reclaim it.","body":"@Dawesi - <code>At which point</code> - that&#39;s application specific, but the general rule is to do so as soon as you get a hold of something that is supposed to be a password (plaintext or otherwise). You get it from the browser as part of an HTTP request, for instance. You cannot control the delivery, but you can control your own storage, so as soon as you get it, put it in a char[], do what you need to do with it, then set all to &#39;0&#39; and let the gc reclaim it."},{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1671139355,"post_id":8889285,"comment_id":132040636,"body_markdown":"The reference by @bestsss below Jon&#39;s answer no longer appears to be present.","body":"The reference by @bestsss below Jon&#39;s answer no longer appears to be present."},{"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"score":1,"creation_date":1671229058,"post_id":8889285,"comment_id":132062204,"body_markdown":"@M.Justin char[] being mutable allows to zap it, however it does not prevent any compacting garbage collector to still have a copy of that char[]. In that regard is not much better than a string. A direct byte (char) buffer would do the trick as the memory is never copied (also not directly a part of a heap dump). For better or worse most answers here (and the official java docs), totally avoid the issue that in a managed environment modifying an object or an array does not grantee memory being zeroed. DirectByteBuffer is pretty much what the docs should have recommended.","body":"@M.Justin char[] being mutable allows to zap it, however it does not prevent any compacting garbage collector to still have a copy of that char[]. In that regard is not much better than a string. A direct byte (char) buffer would do the trick as the memory is never copied (also not directly a part of a heap dump). For better or worse most answers here (and the official java docs), totally avoid the issue that in a managed environment modifying an object or an array does not grantee memory being zeroed. DirectByteBuffer is pretty much what the docs should have recommended."}],"tags":[],"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"comment_count":7,"down_vote_count":1,"up_vote_count":746,"is_accepted":false,"score":745,"last_activity_date":1326770457,"creation_date":1326770457,"answer_id":8889285,"question_id":8881291,"body_markdown":"To quote an official document, the [Java Cryptography Architecture guide][1] says this about `char[]` vs. `String` passwords (about password-based encryption, but this is more generally about passwords of course):\r\n\r\n&gt; It would seem logical to collect and store the password in an object\r\n&gt; of type `java.lang.String`. However, here&#39;s the caveat: `Object`s of\r\n&gt; type `String` are immutable, i.e., there are no methods defined that\r\n&gt; allow you to change (overwrite) or zero out the contents of a `String`\r\n&gt; after usage. This feature makes `String` objects unsuitable for\r\n&gt; storing security sensitive information such as user passwords. You\r\n&gt; should always collect and store security sensitive information in a\r\n&gt; `char` array instead.\r\n\r\n[Guideline 2-2 of the Secure Coding Guidelines for the Java Programming Language, Version 4.0][2] also says something similar (although it is originally in the context of logging):\r\n\r\n&gt; *Guideline 2-2: Do not log highly sensitive information*\r\n&gt; \r\n&gt; Some information, such as Social Security numbers (SSNs) and\r\n&gt; passwords, is highly sensitive. This information should not be kept\r\n&gt; for longer than necessary nor where it may be seen, even by\r\n&gt; administrators. For instance, it should not be sent to log files and\r\n&gt; its presence should not be detectable through searches. Some transient\r\n&gt; data may be kept in mutable data structures, such as char arrays, and\r\n&gt; cleared immediately after use. Clearing data structures has reduced\r\n&gt; effectiveness on typical Java runtime systems as objects are moved in\r\n&gt; memory transparently to the programmer.\r\n&gt; \r\n&gt; This guideline also has implications for implementation and use of\r\n&gt; lower-level libraries that do not have semantic knowledge of the data\r\n&gt; they are dealing with. As an example, a low-level string parsing\r\n&gt; library may log the text it works on. An application may parse an SSN\r\n&gt; with the library. This creates a situation where the SSNs are\r\n&gt; available to administrators with access to the log files.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/technotes/guides/security/crypto/CryptoSpec.html#PBEEx\r\n  [2]: http://www.oracle.com/technetwork/java/seccodeguide-139067.html#2","title":"Why is char[] preferred over String for passwords?","body":"<p>To quote an official document, the <a href=\"http://docs.oracle.com/javase/6/docs/technotes/guides/security/crypto/CryptoSpec.html#PBEEx\">Java Cryptography Architecture guide</a> says this about <code>char[]</code> vs. <code>String</code> passwords (about password-based encryption, but this is more generally about passwords of course):</p>\n\n<blockquote>\n  <p>It would seem logical to collect and store the password in an object\n  of type <code>java.lang.String</code>. However, here's the caveat: <code>Object</code>s of\n  type <code>String</code> are immutable, i.e., there are no methods defined that\n  allow you to change (overwrite) or zero out the contents of a <code>String</code>\n  after usage. This feature makes <code>String</code> objects unsuitable for\n  storing security sensitive information such as user passwords. You\n  should always collect and store security sensitive information in a\n  <code>char</code> array instead.</p>\n</blockquote>\n\n<p><a href=\"http://www.oracle.com/technetwork/java/seccodeguide-139067.html#2\">Guideline 2-2 of the Secure Coding Guidelines for the Java Programming Language, Version 4.0</a> also says something similar (although it is originally in the context of logging):</p>\n\n<blockquote>\n  <p><em>Guideline 2-2: Do not log highly sensitive information</em></p>\n  \n  <p>Some information, such as Social Security numbers (SSNs) and\n  passwords, is highly sensitive. This information should not be kept\n  for longer than necessary nor where it may be seen, even by\n  administrators. For instance, it should not be sent to log files and\n  its presence should not be detectable through searches. Some transient\n  data may be kept in mutable data structures, such as char arrays, and\n  cleared immediately after use. Clearing data structures has reduced\n  effectiveness on typical Java runtime systems as objects are moved in\n  memory transparently to the programmer.</p>\n  \n  <p>This guideline also has implications for implementation and use of\n  lower-level libraries that do not have semantic knowledge of the data\n  they are dealing with. As an example, a low-level string parsing\n  library may log the text it works on. An application may parse an SSN\n  with the library. This creates a situation where the SSNs are\n  available to administrators with access to the log files.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"score":0,"creation_date":1327152715,"post_id":8932215,"comment_id":11209613,"body_markdown":"One way around this is to use an implementation of `PrivateKey` that doesn&#39;t actually load its private content in memory: via a PKCS#11 hardware token for example. Perhaps a software implementation of PKCS#11 could take care of cleaning up the memory manually. Perhaps using something like the NSS store (which shares most of its implementation with the `PKCS11` store type in Java) is better. The `KeychainStore` (OSX keystore) loads the full content of the private key into its `PrivateKey` instances, but it should not need to. (Not sure what the `WINDOWS-MY` KeyStore does on Windows.)","body":"One way around this is to use an implementation of <code>PrivateKey</code> that doesn&#39;t actually load its private content in memory: via a PKCS#11 hardware token for example. Perhaps a software implementation of PKCS#11 could take care of cleaning up the memory manually. Perhaps using something like the NSS store (which shares most of its implementation with the <code>PKCS11</code> store type in Java) is better. The <code>KeychainStore</code> (OSX keystore) loads the full content of the private key into its <code>PrivateKey</code> instances, but it should not need to. (Not sure what the <code>WINDOWS-MY</code> KeyStore does on Windows.)"},{"owner":{"account_id":438657,"reputation":39010,"user_id":827060,"accept_rate":100,"display_name":"emboss"},"score":0,"creation_date":1327155527,"post_id":8932215,"comment_id":11210033,"body_markdown":"@Bruno Sure, hardware-based tokens do not suffer from this, but what about situations where you are more or less forced to use a software key? Not every deployment has the budget to afford an HSM. Software key stores will at some point have to load the key into memory, so IMO we should at least be given the option to clear the memory at will again.","body":"@Bruno Sure, hardware-based tokens do not suffer from this, but what about situations where you are more or less forced to use a software key? Not every deployment has the budget to afford an HSM. Software key stores will at some point have to load the key into memory, so IMO we should at least be given the option to clear the memory at will again."},{"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"score":0,"creation_date":1327156170,"post_id":8932215,"comment_id":11210142,"body_markdown":"Absolutely, I was just wondering whether some software implementations equivalent to an HSM might behave better in terms of cleaning up the memory. For example, when using client-auth with Safari/OSX, the Safari process never actually sees the private key, the underlying SSL library provided by the OS talks directly to the security daemon which prompts the user for using the key from the keychain. While this is all done in software, a similar separation like this may help if signing is delegated to a different entity (even software based) that would unload or clear the memory better.","body":"Absolutely, I was just wondering whether some software implementations equivalent to an HSM might behave better in terms of cleaning up the memory. For example, when using client-auth with Safari/OSX, the Safari process never actually sees the private key, the underlying SSL library provided by the OS talks directly to the security daemon which prompts the user for using the key from the keychain. While this is all done in software, a similar separation like this may help if signing is delegated to a different entity (even software based) that would unload or clear the memory better."},{"owner":{"account_id":438657,"reputation":39010,"user_id":827060,"accept_rate":100,"display_name":"emboss"},"score":0,"creation_date":1327157109,"post_id":8932215,"comment_id":11210304,"body_markdown":"@Bruno: Interesting idea, an additional indirection layer that takes care of clearing the memory would indeed solve this transparently. Writing a PKCS#11 wrapper for the software key store could already do the trick?","body":"@Bruno: Interesting idea, an additional indirection layer that takes care of clearing the memory would indeed solve this transparently. Writing a PKCS#11 wrapper for the software key store could already do the trick?"},{"owner":{"account_id":46836,"reputation":12142,"user_id":138513,"accept_rate":46,"display_name":"Hakanai"},"score":0,"creation_date":1624579338,"post_id":8932215,"comment_id":120404020,"body_markdown":"Funny you should say that they take great care to use `char[]` &quot;now&quot;, because I&#39;m looking at this nice new `ConnectionBuilder` class added in JDK 9, and it still has `password(String)` and no option to pass `char[]` at all. It seems that with Java there&#39;s a lot of &quot;do what I say, not what I do&quot;.","body":"Funny you should say that they take great care to use <code>char[]</code> &quot;now&quot;, because I&#39;m looking at this nice new <code>ConnectionBuilder</code> class added in JDK 9, and it still has <code>password(String)</code> and no option to pass <code>char[]</code> at all. It seems that with Java there&#39;s a lot of &quot;do what I say, not what I do&quot;."}],"tags":[],"owner":{"account_id":438657,"reputation":39010,"user_id":827060,"accept_rate":100,"display_name":"emboss"},"comment_count":5,"down_vote_count":0,"up_vote_count":78,"is_accepted":false,"score":78,"last_activity_date":1327001987,"creation_date":1327001987,"answer_id":8932215,"question_id":8881291,"body_markdown":"The answer has already been given, but I&#39;d like to share an issue that I discovered lately with Java standard libraries. While they take great care now of replacing password strings with `char[]` everywhere (which of course is a good thing), other security-critical data seems to be overlooked when it comes to clearing it from memory.\r\n\r\nI&#39;m thinking of e.g. the [PrivateKey](http://docs.oracle.com/javase/6/docs/api/java/security/PrivateKey.html) class. Consider a scenario where you would load a private RSA key from a PKCS#12 file, using it to perform some operation. Now in this case, sniffing the password alone wouldn&#39;t help you much as long as physical access to the key file is properly restricted. As an attacker, you would be much better off if you obtained the key directly instead of the password. The desired information can be leaked manifold, core dumps, a debugger session or swap files are just some examples.\r\n\r\nAnd as it turns out, there is nothing that lets you clear the private information of a `PrivateKey` from memory, because there&#39;s no API that lets you wipe the bytes that form the corresponding information.\r\n\r\nThis is a bad situation, as this [paper](http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.77.3297&amp;rep=rep1&amp;type=pdf) describes how this circumstance could be potentially exploited.\r\n\r\nThe OpenSSL library for example overwrites critical memory sections before private keys are freed. Since Java is garbage-collected, we would need explicit methods to wipe and invalidate private information for Java keys, which are to be applied immediately after using the key. \r\n\r\n","title":"Why is char[] preferred over String for passwords?","body":"<p>The answer has already been given, but I'd like to share an issue that I discovered lately with Java standard libraries. While they take great care now of replacing password strings with <code>char[]</code> everywhere (which of course is a good thing), other security-critical data seems to be overlooked when it comes to clearing it from memory.</p>\n\n<p>I'm thinking of e.g. the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/security/PrivateKey.html\" rel=\"noreferrer\">PrivateKey</a> class. Consider a scenario where you would load a private RSA key from a PKCS#12 file, using it to perform some operation. Now in this case, sniffing the password alone wouldn't help you much as long as physical access to the key file is properly restricted. As an attacker, you would be much better off if you obtained the key directly instead of the password. The desired information can be leaked manifold, core dumps, a debugger session or swap files are just some examples.</p>\n\n<p>And as it turns out, there is nothing that lets you clear the private information of a <code>PrivateKey</code> from memory, because there's no API that lets you wipe the bytes that form the corresponding information.</p>\n\n<p>This is a bad situation, as this <a href=\"http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.77.3297&amp;rep=rep1&amp;type=pdf\" rel=\"noreferrer\">paper</a> describes how this circumstance could be potentially exploited.</p>\n\n<p>The OpenSSL library for example overwrites critical memory sections before private keys are freed. Since Java is garbage-collected, we would need explicit methods to wipe and invalidate private information for Java keys, which are to be applied immediately after using the key. </p>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1489081527,"post_id":28123411,"comment_id":72526169,"body_markdown":"Why is String-deduplication scary? It only applies when there are at least two strings having the same contents, so what danger would arise from letting these two already identical strings share the same array? Or lets ask the other way round: if there is no string-deduplication, what advantage arises from the fact that both strings have a distinct array (of the same contents)? In either case, there will be an array of that contents being alive at least as long as the longest living String of that contents is alive…","body":"Why is String-deduplication scary? It only applies when there are at least two strings having the same contents, so what danger would arise from letting these two already identical strings share the same array? Or lets ask the other way round: if there is no string-deduplication, what advantage arises from the fact that both strings have a distinct array (of the same contents)? In either case, there will be an array of that contents being alive at least as long as the longest living String of that contents is alive…"},{"owner":{"account_id":242066,"reputation":17256,"user_id":513342,"accept_rate":85,"display_name":"Oleg Mikheev"},"score":0,"creation_date":1489084136,"post_id":28123411,"comment_id":72527638,"body_markdown":"@Holger anything that&#39;s out of your control is a potential risk...  for instance if two users have the same password this wonderful feature will store both of them in single char[] making it evident that they are the same, not sure if that&#39;s a huge risk but still","body":"@Holger anything that&#39;s out of your control is a potential risk...  for instance if two users have the same password this wonderful feature will store both of them in single char[] making it evident that they are the same, not sure if that&#39;s a huge risk but still"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1489084504,"post_id":28123411,"comment_id":72527865,"body_markdown":"If you have access to the heap memory and both string instances, it doesn’t matter whether the strings point to the same array or to two arrays of the same contents, each is easy to find out. Especially, as it is irrelevant anyway. If you are at this point, you grab both passwords, whether identical or not. The actual error lies in using plaintext passwords instead of salted hashes.","body":"If you have access to the heap memory and both string instances, it doesn’t matter whether the strings point to the same array or to two arrays of the same contents, each is easy to find out. Especially, as it is irrelevant anyway. If you are at this point, you grab both passwords, whether identical or not. The actual error lies in using plaintext passwords instead of salted hashes."},{"owner":{"account_id":242066,"reputation":17256,"user_id":513342,"accept_rate":85,"display_name":"Oleg Mikheev"},"score":0,"creation_date":1489182043,"post_id":28123411,"comment_id":72575946,"body_markdown":"@Holger to verify password it has to be in clear text in memory for some time, 10ms, even if it&#39;s just to create a salted hash out of it. Then, if it happens that there are two identical passwords kept in memory even for 10 ms, deduplication may come into play. If it really interns strings they are kept in memory for much longer time. System that doesn&#39;t restart for months will collect lots of these. Just theorizing.","body":"@Holger to verify password it has to be in clear text in memory for some time, 10ms, even if it&#39;s just to create a salted hash out of it. Then, if it happens that there are two identical passwords kept in memory even for 10 ms, deduplication may come into play. If it really interns strings they are kept in memory for much longer time. System that doesn&#39;t restart for months will collect lots of these. Just theorizing."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":5,"creation_date":1489404641,"post_id":28123411,"comment_id":72640221,"body_markdown":"It seems, you have a fundamental misunderstanding about String Deduplication. It doesn’t “intern strings”, all it does, is letting strings with the same contents point to the same array, which actually *reduces* the number of array instances containing the plaintext password, as all but one array instance can be reclaimed and overwritten by other objects immediately. These strings are still collected like any other string. Maybe it helps, if you understand that the de-duplication is actually done by the garbage collector, for strings that have survived multiple GC cycles only.","body":"It seems, you have a fundamental misunderstanding about String Deduplication. It doesn’t “intern strings”, all it does, is letting strings with the same contents point to the same array, which actually <i>reduces</i> the number of array instances containing the plaintext password, as all but one array instance can be reclaimed and overwritten by other objects immediately. These strings are still collected like any other string. Maybe it helps, if you understand that the de-duplication is actually done by the garbage collector, for strings that have survived multiple GC cycles only."},{"owner":{"account_id":31617,"reputation":52351,"user_id":86967,"accept_rate":56,"display_name":"Brent Bradburn"},"score":2,"creation_date":1568739515,"post_id":28123411,"comment_id":102367167,"body_markdown":"&quot;are Spring Security guys incompetent&quot;: It&#39;s an important question in this context.  I previously wondered this myself, when looking into the differences between `BCrypt` and `BCryptPasswordEncoder`.  Even in the [simultaneous initial commit](https://github.com/spring-projects/spring-security/commit/8565116f203b9c6186b044bc655c9d5d5b2e6450) they took an inconsistent approach: taking `String` for `Bcrypt` and taking [`CharSequence`](https://stackoverflow.com/q/13234584/86967) for `BCryptPasswordEncoder` (which calls `Bcrypt`).","body":"&quot;are Spring Security guys incompetent&quot;: It&#39;s an important question in this context.  I previously wondered this myself, when looking into the differences between <code>BCrypt</code> and <code>BCryptPasswordEncoder</code>.  Even in the <a href=\"https://github.com/spring-projects/spring-security/commit/8565116f203b9c6186b044bc655c9d5d5b2e6450\" rel=\"nofollow noreferrer\">simultaneous initial commit</a> they took an inconsistent approach: taking <code>String</code> for <code>Bcrypt</code> and taking <a href=\"https://stackoverflow.com/q/13234584/86967\"><code>CharSequence</code></a> for <code>BCryptPasswordEncoder</code> (which calls <code>Bcrypt</code>)."}],"tags":[],"owner":{"account_id":242066,"reputation":17256,"user_id":513342,"accept_rate":85,"display_name":"Oleg Mikheev"},"comment_count":6,"down_vote_count":2,"up_vote_count":49,"is_accepted":false,"score":47,"last_activity_date":1579288123,"creation_date":1422085420,"answer_id":28123411,"question_id":8881291,"body_markdown":"There is nothing that char array gives you vs String unless you clean it up manually after use, and I haven&#39;t seen anyone actually doing that. So to me the preference of char[] vs String is a bit exaggerated.\r\n\r\nTake a look at the &lt;sub&gt;widely used&lt;/sub&gt; Spring Security library [here](http://grepcode.com/file/repo1.maven.org/maven2/org.springframework.security/spring-security-web/3.0.1.RELEASE/org/springframework/security/web/authentication/UsernamePasswordAuthenticationFilter.java#73) and ask yourself - are Spring Security guys incompetent or char[] passwords just don&#39;t make much sense. When some nasty hacker grabs memory dumps of your RAM be sure s/he&#39;ll get all the passwords even if you use sophisticated ways to hide them.\r\n\r\nHowever, Java changes all the time, and some scary features like https://stackoverflow.com/questions/27949213/string-deduplication-feature-of-java-8 might intern String objects without your knowledge. But that&#39;s a different conversation.","title":"Why is char[] preferred over String for passwords?","body":"<p>There is nothing that char array gives you vs String unless you clean it up manually after use, and I haven't seen anyone actually doing that. So to me the preference of char[] vs String is a bit exaggerated.</p>\n\n<p>Take a look at the <sub>widely used</sub> Spring Security library <a href=\"http://grepcode.com/file/repo1.maven.org/maven2/org.springframework.security/spring-security-web/3.0.1.RELEASE/org/springframework/security/web/authentication/UsernamePasswordAuthenticationFilter.java#73\" rel=\"noreferrer\">here</a> and ask yourself - are Spring Security guys incompetent or char[] passwords just don't make much sense. When some nasty hacker grabs memory dumps of your RAM be sure s/he'll get all the passwords even if you use sophisticated ways to hide them.</p>\n\n<p>However, Java changes all the time, and some scary features like <a href=\"https://stackoverflow.com/questions/27949213/string-deduplication-feature-of-java-8\">String Deduplication feature of Java 8</a> might intern String objects without your knowledge. But that's a different conversation.</p>\n"},{"comments":[{"owner":{"account_id":1409704,"reputation":2966,"user_id":1336558,"accept_rate":90,"display_name":"Mohit Kanwar"},"score":0,"creation_date":1435729316,"post_id":29503590,"comment_id":50316052,"body_markdown":"But that could be there in char[] comparison as well, somewhere we would be doing the same in password validation too. so how is char[] better than string?","body":"But that could be there in char[] comparison as well, somewhere we would be doing the same in password validation too. so how is char[] better than string?"},{"owner":{"account_id":3956319,"reputation":699,"user_id":3264657,"accept_rate":50,"display_name":"Graph Theory"},"score":3,"creation_date":1435870989,"post_id":29503590,"comment_id":50393774,"body_markdown":"You&#39;re absolutely correct, the mistake can be made either way. Knowing about the problem is the most important thing here, considering there&#39;s no explicit password-comparison method in Java for either String-based or char[]-based passwords. I&#39;d say the temptation to use compare() for Strings is a good reason to go with char[]. That way you at least have control over how the comparison is done (without extending String, which is a pain imo).","body":"You&#39;re absolutely correct, the mistake can be made either way. Knowing about the problem is the most important thing here, considering there&#39;s no explicit password-comparison method in Java for either String-based or char[]-based passwords. I&#39;d say the temptation to use compare() for Strings is a good reason to go with char[]. That way you at least have control over how the comparison is done (without extending String, which is a pain imo)."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1489054964,"post_id":29503590,"comment_id":72507722,"body_markdown":"Besides comparing plaintext passwords isn’t the right thing anyway, the temptation to use `Arrays.equals` for `char[]` is as high as for `String.equals`. If anyone cared, there was a dedicated key class encapsulating the actual password and taking care of the issues—oh wait, the real security packages *have* dedicated key classes, this Q&amp;A is only about a *habit* outside of them, say, e.g. `JPasswordField`, to use `char[]` instead of `String` (where the actual algorithms use `byte[]` anyway).","body":"Besides comparing plaintext passwords isn’t the right thing anyway, the temptation to use <code>Arrays.equals</code> for <code>char[]</code> is as high as for <code>String.equals</code>. If anyone cared, there was a dedicated key class encapsulating the actual password and taking care of the issues—oh wait, the real security packages <i>have</i> dedicated key classes, this Q&amp;A is only about a <i>habit</i> outside of them, say, e.g. <code>JPasswordField</code>, to use <code>char[]</code> instead of <code>String</code> (where the actual algorithms use <code>byte[]</code> anyway)."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1489055080,"post_id":29503590,"comment_id":72507818,"body_markdown":"Security relevant software should do something like `sleep(secureRandom.nextInt())` before rejecting a login attempt anyway, that’s not only removing the possibility of timing attacks, it also makes counteracts brute force attempts.","body":"Security relevant software should do something like <code>sleep(secureRandom.nextInt())</code> before rejecting a login attempt anyway, that’s not only removing the possibility of timing attacks, it also makes counteracts brute force attempts."}],"tags":[],"owner":{"account_id":3956319,"reputation":699,"user_id":3264657,"accept_rate":50,"display_name":"Graph Theory"},"comment_count":4,"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1469567648,"creation_date":1428451499,"answer_id":29503590,"question_id":8881291,"body_markdown":"**Edit:** Coming back to this answer after a year of security research, I realize it makes the rather unfortunate implication that you would ever actually compare plaintext passwords. Please don&#39;t. [Use a secure one-way hash with a salt and a reasonable number of iterations][1]. Consider using a library: this stuff is hard to get right!\r\n\r\n**Original answer:** What about the fact that String.equals() uses [short-circuit evaluation][2], and is therefore vulnerable to a timing attack? It may be unlikely, but you could *theoretically* time the password comparison in order to determine the correct sequence of characters.\r\n\r\n    public boolean equals(Object anObject) {\r\n        if (this == anObject) {\r\n            return true;\r\n        }\r\n        if (anObject instanceof String) {\r\n            String anotherString = (String)anObject;\r\n            int n = value.length;\r\n            // Quits here if Strings are different lengths.\r\n            if (n == anotherString.value.length) {\r\n                char v1[] = value;\r\n                char v2[] = anotherString.value;\r\n                int i = 0;\r\n                // Quits here at first different character.\r\n                while (n-- != 0) {\r\n                    if (v1[i] != v2[i])\r\n                        return false;\r\n                    i++;\r\n                }\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\nSome more resources on timing attacks:\r\n\r\n - [A Lesson In Timing Attacks][3]\r\n - [A discussion about timing attacks][4] over on Information Security Stack Exchange\r\n - And of course, the [Timing Attack Wikipedia page][5]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2860943/how-can-i-hash-a-password-in-java\r\n  [2]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8-b132/java/lang/String.java#String.equals%28java.lang.Object%29\r\n  [3]: http://codahale.com/a-lesson-in-timing-attacks/\r\n  [4]: https://security.stackexchange.com/a/83671\r\n  [5]: http://en.wikipedia.org/wiki/Timing_attack","title":"Why is char[] preferred over String for passwords?","body":"<p><strong>Edit:</strong> Coming back to this answer after a year of security research, I realize it makes the rather unfortunate implication that you would ever actually compare plaintext passwords. Please don't. <a href=\"https://stackoverflow.com/questions/2860943/how-can-i-hash-a-password-in-java\">Use a secure one-way hash with a salt and a reasonable number of iterations</a>. Consider using a library: this stuff is hard to get right!</p>\n\n<p><strong>Original answer:</strong> What about the fact that String.equals() uses <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8-b132/java/lang/String.java#String.equals%28java.lang.Object%29\" rel=\"noreferrer\">short-circuit evaluation</a>, and is therefore vulnerable to a timing attack? It may be unlikely, but you could <em>theoretically</em> time the password comparison in order to determine the correct sequence of characters.</p>\n\n<pre><code>public boolean equals(Object anObject) {\n    if (this == anObject) {\n        return true;\n    }\n    if (anObject instanceof String) {\n        String anotherString = (String)anObject;\n        int n = value.length;\n        // Quits here if Strings are different lengths.\n        if (n == anotherString.value.length) {\n            char v1[] = value;\n            char v2[] = anotherString.value;\n            int i = 0;\n            // Quits here at first different character.\n            while (n-- != 0) {\n                if (v1[i] != v2[i])\n                    return false;\n                i++;\n            }\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n\n<p>Some more resources on timing attacks:</p>\n\n<ul>\n<li><a href=\"http://codahale.com/a-lesson-in-timing-attacks/\" rel=\"noreferrer\">A Lesson In Timing Attacks</a></li>\n<li><a href=\"https://security.stackexchange.com/a/83671\">A discussion about timing attacks</a> over on Information Security Stack Exchange</li>\n<li>And of course, the <a href=\"http://en.wikipedia.org/wiki/Timing_attack\" rel=\"noreferrer\">Timing Attack Wikipedia page</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":2802349,"reputation":146437,"user_id":2410359,"accept_rate":87,"display_name":"chux - Reinstate Monica"},"score":3,"creation_date":1440703315,"post_id":31288609,"comment_id":52395539,"body_markdown":"Better to do also something to prevent printing the password&#39;s length which we get from `&#39;***********&#39;`.","body":"Better to do also something to prevent printing the password&#39;s length which we get from <code>&#39;***********&#39;</code>."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1440706596,"post_id":31288609,"comment_id":52397231,"body_markdown":"@chux you can use a zero width character, though this might be more confusing than useful.  Its not possible to change the length of a char array without using Unsafe. ;)","body":"@chux you can use a zero width character, though this might be more confusing than useful.  Its not possible to change the length of a char array without using Unsafe. ;)"},{"owner":{"account_id":334436,"reputation":2189,"user_id":660887,"accept_rate":62,"display_name":"jamp"},"score":11,"creation_date":1454942929,"post_id":31288609,"comment_id":58256330,"body_markdown":"Because of Java 8&#39;s String Deduplication, I think doing something like that can be pretty destructive... you may end up clearing other strings in your program that by chance had the same value of the password String. Unlikely, but possible...","body":"Because of Java 8&#39;s String Deduplication, I think doing something like that can be pretty destructive... you may end up clearing other strings in your program that by chance had the same value of the password String. Unlikely, but possible..."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1454945607,"post_id":31288609,"comment_id":58258215,"body_markdown":"@jamp Java 9 is expected to have this feature as well as compact string (i.e. using a byte[]]). I don&#39;t believe this happens in Java 8.","body":"@jamp Java 9 is expected to have this feature as well as compact string (i.e. using a byte[]]). I don&#39;t believe this happens in Java 8."},{"owner":{"account_id":334436,"reputation":2189,"user_id":660887,"accept_rate":62,"display_name":"jamp"},"score":1,"creation_date":1454948453,"post_id":31288609,"comment_id":58260148,"body_markdown":"@PeterLawrey It must be enabled with a JVM argument, but it is there. Can read about it here: https://blog.codecentric.de/en/2014/08/string-deduplication-new-feature-java-8-update-20-2/","body":"@PeterLawrey It must be enabled with a JVM argument, but it is there. Can read about it here: <a href=\"https://blog.codecentric.de/en/2014/08/string-deduplication-new-feature-java-8-update-20-2/\" rel=\"nofollow noreferrer\">blog.codecentric.de/en/2014/08/&hellip;</a>"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1578327326,"post_id":31288609,"comment_id":105394048,"body_markdown":"There’s a high chance that the password still is in `Scanner`’s internal buffer and, since you didn’t use `System.console().readPassword()`, in readable form in the console window. But for most practical use cases, the duration of `usePassword`’s execution is the actual problem. E.g., when making a connection to another machine, it takes a significant time and tells an attacker that it is the right time to search for the password in the heap. The only solution is to prevent attackers from reading the heap memory…","body":"There’s a high chance that the password still is in <code>Scanner</code>’s internal buffer and, since you didn’t use <code>System.console().readPassword()</code>, in readable form in the console window. But for most practical use cases, the duration of <code>usePassword</code>’s execution is the actual problem. E.g., when making a connection to another machine, it takes a significant time and tells an attacker that it is the right time to search for the password in the heap. The only solution is to prevent attackers from reading the heap memory…"}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":6,"down_vote_count":0,"up_vote_count":59,"is_accepted":false,"score":59,"last_activity_date":1436348043,"creation_date":1436347615,"answer_id":31288609,"question_id":8881291,"body_markdown":"As Jon Skeet states, there is no way except by using reflection. \r\n\r\nHowever, if reflection is an option for you, you can do this.\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;please enter a password&quot;);\r\n        // don&#39;t actually do this, this is an example only.\r\n        Scanner in = new Scanner(System.in);\r\n        String password = in.nextLine();\r\n        usePassword(password);\r\n\r\n        clearString(password);\r\n\r\n        System.out.println(&quot;password: &#39;&quot; + password + &quot;&#39;&quot;);\r\n    }\r\n\r\n    private static void usePassword(String password) {\r\n\r\n    }\r\n\r\n    private static void clearString(String password) {\r\n        try {\r\n            Field value = String.class.getDeclaredField(&quot;value&quot;);\r\n            value.setAccessible(true);\r\n            char[] chars = (char[]) value.get(password);\r\n            Arrays.fill(chars, &#39;*&#39;);\r\n        } catch (Exception e) {\r\n            throw new AssertionError(e);\r\n        }\r\n    }\r\n\r\nwhen run\r\n\r\n    please enter a password\r\n    hello world\r\n    password: &#39;***********&#39;\r\n\r\nNote: if the String&#39;s char[] has been copied as a part of a GC cycle, there is a chance the previous copy is somewhere in memory.  \r\n\r\nThis old copy wouldn&#39;t appear in a heap dump, but if you have direct access to the raw memory of the process you could see it.  In general you should avoid anyone having such access.","title":"Why is char[] preferred over String for passwords?","body":"<p>As Jon Skeet states, there is no way except by using reflection. </p>\n\n<p>However, if reflection is an option for you, you can do this.</p>\n\n<pre><code>public static void main(String[] args) {\n    System.out.println(\"please enter a password\");\n    // don't actually do this, this is an example only.\n    Scanner in = new Scanner(System.in);\n    String password = in.nextLine();\n    usePassword(password);\n\n    clearString(password);\n\n    System.out.println(\"password: '\" + password + \"'\");\n}\n\nprivate static void usePassword(String password) {\n\n}\n\nprivate static void clearString(String password) {\n    try {\n        Field value = String.class.getDeclaredField(\"value\");\n        value.setAccessible(true);\n        char[] chars = (char[]) value.get(password);\n        Arrays.fill(chars, '*');\n    } catch (Exception e) {\n        throw new AssertionError(e);\n    }\n}\n</code></pre>\n\n<p>when run</p>\n\n<pre><code>please enter a password\nhello world\npassword: '***********'\n</code></pre>\n\n<p>Note: if the String's char[] has been copied as a part of a GC cycle, there is a chance the previous copy is somewhere in memory.  </p>\n\n<p>This old copy wouldn't appear in a heap dump, but if you have direct access to the raw memory of the process you could see it.  In general you should avoid anyone having such access.</p>\n"},{"comments":[{"owner":{"account_id":268409,"reputation":6226,"user_id":557153,"accept_rate":83,"display_name":"avgvstvs"},"score":0,"creation_date":1454685330,"post_id":31674073,"comment_id":58169606,"body_markdown":"They&#39;ll only be GC&#39;d if the JVM in question is &gt; 1.6.  Prior to 1.7, all strings were stored in permgen.","body":"They&#39;ll only be GC&#39;d if the JVM in question is &gt; 1.6.  Prior to 1.7, all strings were stored in permgen."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1489055295,"post_id":31674073,"comment_id":72508001,"body_markdown":"@avgvstvs:  “all strings were stored in permgen” is just dead wrong. Only interned strings were stored there and if they weren’t originating from string literals referenced by code, they were still garbage collected. Just think about it. If strings were generally never GCed in JVMs prior to 1.7, how could any Java application survive more than a few minutes?","body":"@avgvstvs:  “all strings were stored in permgen” is just dead wrong. Only interned strings were stored there and if they weren’t originating from string literals referenced by code, they were still garbage collected. Just think about it. If strings were generally never GCed in JVMs prior to 1.7, how could any Java application survive more than a few minutes?"},{"owner":{"account_id":268409,"reputation":6226,"user_id":557153,"accept_rate":83,"display_name":"avgvstvs"},"score":0,"creation_date":1489077396,"post_id":31674073,"comment_id":72523406,"body_markdown":"@Holger This is false.  Interned `strings` AND the `String` pool (pool of previously used strings) were BOTH stored in Permgen prior to 1.7.  Also, See section 5.1:  https://docs.oracle.com/javase/specs/jvms/se6/html/ConstantPool.doc.html#67960\n\nThe JVM always checked `Strings` to see if they were the same reference value, and would call `String.intern()` FOR YOU.  The result was that every time the JVM detected identical Strings in the `constant_pool` or heap it would move them into permgen.  And I worked on several applications with &quot;creeping permgen&quot; until 1.7.  It was a real problem.","body":"@Holger This is false.  Interned <code>strings</code> AND the <code>String</code> pool (pool of previously used strings) were BOTH stored in Permgen prior to 1.7.  Also, See section 5.1:  <a href=\"https://docs.oracle.com/javase/specs/jvms/se6/html/ConstantPool.doc.html#67960\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jvms/se6/html/&hellip;</a>  The JVM always checked <code>Strings</code> to see if they were the same reference value, and would call <code>String.intern()</code> FOR YOU.  The result was that every time the JVM detected identical Strings in the <code>constant_pool</code> or heap it would move them into permgen.  And I worked on several applications with &quot;creeping permgen&quot; until 1.7.  It was a real problem."},{"owner":{"account_id":268409,"reputation":6226,"user_id":557153,"accept_rate":83,"display_name":"avgvstvs"},"score":0,"creation_date":1489077591,"post_id":31674073,"comment_id":72523554,"body_markdown":"So to recap:  Until 1.7, Strings started in the heap, when they were used they were put into the `constant_pool` which was located IN permgen, and then if a string was used more than once, it would be interned.","body":"So to recap:  Until 1.7, Strings started in the heap, when they were used they were put into the <code>constant_pool</code> which was located IN permgen, and then if a string was used more than once, it would be interned."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1489080877,"post_id":31674073,"comment_id":72525790,"body_markdown":"@avgvstvs: There is no “pool of previously used strings”. You are throwing entirely different things together. There is one runtime string pool containing string literals and explicitly interned string, but no other. And each class has its constant pool containing *compile-time* constants. These strings are automatically added to the runtime pool, but *only these*, not every string.","body":"@avgvstvs: There is no “pool of previously used strings”. You are throwing entirely different things together. There is one runtime string pool containing string literals and explicitly interned string, but no other. And each class has its constant pool containing <i>compile-time</i> constants. These strings are automatically added to the runtime pool, but <i>only these</i>, not every string."}],"tags":[],"owner":{"account_id":35904,"reputation":23179,"user_id":102040,"accept_rate":66,"display_name":"Geek"},"comment_count":5,"down_vote_count":1,"up_vote_count":33,"is_accepted":false,"score":32,"last_activity_date":1438080400,"creation_date":1438080400,"answer_id":31674073,"question_id":8881291,"body_markdown":"Strings are immutable and cannot be altered once they have been created. Creating a password as a string will leave stray references to the password on the heap or on the String pool. Now if someone takes a heap dump of the Java process and carefully scans through he might be able to guess the passwords. Of course these non used strings will be garbage collected but that depends on when the GC kicks in.\r\n\r\nOn the other side char[] are mutable as soon as the authentication is done you can overwrite them with any character like all M&#39;s or backslashes. Now even if someone takes a heap dump he might not be able to get the passwords which are not currently in use. This gives you more control in the sense like clearing the Object content yourself vs waiting for the GC to do it.","title":"Why is char[] preferred over String for passwords?","body":"<p>Strings are immutable and cannot be altered once they have been created. Creating a password as a string will leave stray references to the password on the heap or on the String pool. Now if someone takes a heap dump of the Java process and carefully scans through he might be able to guess the passwords. Of course these non used strings will be garbage collected but that depends on when the GC kicks in.</p>\n\n<p>On the other side char[] are mutable as soon as the authentication is done you can overwrite them with any character like all M's or backslashes. Now even if someone takes a heap dump he might not be able to get the passwords which are not currently in use. This gives you more control in the sense like clearing the Object content yourself vs waiting for the GC to do it.</p>\n"},{"comments":[{"owner":{"account_id":1592127,"reputation":18171,"user_id":1475228,"accept_rate":84,"display_name":"Pritam Banerjee"},"score":0,"creation_date":1505109761,"post_id":41067215,"comment_id":79259660,"body_markdown":"@fallenidol Not at all. Read carefully and you will find the differences.","body":"@fallenidol Not at all. Read carefully and you will find the differences."}],"tags":[],"owner":{"account_id":1592127,"reputation":18171,"user_id":1475228,"accept_rate":84,"display_name":"Pritam Banerjee"},"comment_count":1,"down_vote_count":7,"up_vote_count":32,"is_accepted":false,"score":25,"last_activity_date":1515195612,"creation_date":1481310174,"answer_id":41067215,"question_id":8881291,"body_markdown":"The short and straightforward answer would be because `char[]` is mutable while `String` objects are not.\r\n\r\n`Strings` in Java are immutable objects. That is why they can&#39;t be modified once created, and therefore the only way for their contents to be removed from memory is to have them garbage collected. It will be only then when the memory freed by the object can be overwritten, and the data will be gone.\r\n\r\nNow garbage collection in Java doesn&#39;t happen at any guaranteed interval. The `String` can thus persist in memory for a long time, and if a process crashes during this time, the contents of the string may end up in a memory dump or some log. \r\n\r\nWith a *character array*, you can read the password, finish working with it as soon as you can, and then immediately change the contents.\r\n\r\n\r\n","title":"Why is char[] preferred over String for passwords?","body":"<p>The short and straightforward answer would be because <code>char[]</code> is mutable while <code>String</code> objects are not.</p>\n\n<p><code>Strings</code> in Java are immutable objects. That is why they can't be modified once created, and therefore the only way for their contents to be removed from memory is to have them garbage collected. It will be only then when the memory freed by the object can be overwritten, and the data will be gone.</p>\n\n<p>Now garbage collection in Java doesn't happen at any guaranteed interval. The <code>String</code> can thus persist in memory for a long time, and if a process crashes during this time, the contents of the string may end up in a memory dump or some log. </p>\n\n<p>With a <em>character array</em>, you can read the password, finish working with it as soon as you can, and then immediately change the contents.</p>\n"},{"tags":[],"owner":{"account_id":11117292,"reputation":277,"user_id":8161256,"display_name":"Saathvik"},"comment_count":0,"down_vote_count":2,"up_vote_count":15,"is_accepted":false,"score":13,"last_activity_date":1674164116,"creation_date":1501223586,"answer_id":45366401,"question_id":8881291,"body_markdown":"A string in Java is immutable. So whenever a string is created, it will remain in memory until it is garbage collected. So anyone who has access to the memory can read the value of the string.\r\n\r\nIf the value of the string is modified then it will end up creating a new string. So both the original value and the modified value stay in the memory until it is garbage collected.\r\n\r\nWith the character array, the contents of the array can be modified or erased once the purpose of the password is served. The original contents of the array will not be found in memory after it is modified and even before the garbage collection kicks in.\r\n\r\nBecause of the security concern it is better to store password as a character array.\r\n\r\n\r\n","title":"Why is char[] preferred over String for passwords?","body":"<p>A string in Java is immutable. So whenever a string is created, it will remain in memory until it is garbage collected. So anyone who has access to the memory can read the value of the string.</p>\n<p>If the value of the string is modified then it will end up creating a new string. So both the original value and the modified value stay in the memory until it is garbage collected.</p>\n<p>With the character array, the contents of the array can be modified or erased once the purpose of the password is served. The original contents of the array will not be found in memory after it is modified and even before the garbage collection kicks in.</p>\n<p>Because of the security concern it is better to store password as a character array.</p>\n"},{"comments":[{"owner":{"account_id":6072621,"reputation":898,"user_id":4740914,"display_name":"Yugerten"},"score":2,"creation_date":1543791397,"post_id":50032305,"comment_id":94034273,"body_markdown":"ch = null; you can&#39;t do this","body":"ch = null; you can&#39;t do this"},{"owner":{"account_id":3109932,"reputation":1266,"user_id":2631925,"accept_rate":84,"display_name":"Tvde1"},"score":3,"creation_date":1575889787,"post_id":50032305,"comment_id":104705118,"body_markdown":"But doesn&#39;t `request.getPassword()` already create the string and add it to the pool?","body":"But doesn&#39;t <code>request.getPassword()</code> already create the string and add it to the pool?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1578327937,"post_id":50032305,"comment_id":105394392,"body_markdown":"`ch = &#39;0&#39;` changes the local variable `ch`; it has no effect on the array. And your example is pointless anyway, you start with a string instance you call `toCharArray()` on, creating a new array and even when you overwrite the new array correctly, it doesn’t change the string instance, so it has no advantage over just using the string instance.","body":"<code>ch = &#39;0&#39;</code> changes the local variable <code>ch</code>; it has no effect on the array. And your example is pointless anyway, you start with a string instance you call <code>toCharArray()</code> on, creating a new array and even when you overwrite the new array correctly, it doesn’t change the string instance, so it has no advantage over just using the string instance."},{"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"score":0,"creation_date":1578481249,"post_id":50032305,"comment_id":105449865,"body_markdown":"@Holger thanks. Corrected the char array cleanup code.","body":"@Holger thanks. Corrected the char array cleanup code."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1578481580,"post_id":50032305,"comment_id":105450034,"body_markdown":"You can simply use `Arrays.fill(pass, &#39;0&#39;);`","body":"You can simply use <code>Arrays.fill(pass, &#39;0&#39;);</code>"}],"tags":[],"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"comment_count":5,"down_vote_count":1,"up_vote_count":30,"is_accepted":false,"score":29,"last_activity_date":1674177422,"creation_date":1524695995,"answer_id":50032305,"question_id":8881291,"body_markdown":"String is immutable and it goes to the string pool. Once written, it cannot be overwritten.\r\n\r\n`char[]` is an array which you should overwrite once you used the password and this is how it should be done:\r\n\r\n    char[] passw = request.getPassword().toCharArray()\r\n    if (comparePasswords(dbPassword, passw) {\r\n      allowUser = true;\r\n      cleanPassword(passw);\r\n      cleanPassword(dbPassword);\r\n      passw = null;\r\n    }\r\n\r\n    private static void cleanPassword (char[] pass) {\r\n\r\n      Arrays.fill(pass, &#39;0&#39;);\r\n    }\r\n\r\nOne scenario where the attacker could use it is a crashdump&amp;mdash;when the JVM crashes and generates a memory dump&amp;mdash;you will be able to see the password.\r\n\r\nThat is not necessarily a malicious external attacker. This could be a support user that has access to the server for monitoring purposes. He/she could peek into a crashdump and find the passwords.\r\n\r\n","title":"Why is char[] preferred over String for passwords?","body":"<p>String is immutable and it goes to the string pool. Once written, it cannot be overwritten.</p>\n<p><code>char[]</code> is an array which you should overwrite once you used the password and this is how it should be done:</p>\n<pre><code>char[] passw = request.getPassword().toCharArray()\nif (comparePasswords(dbPassword, passw) {\n  allowUser = true;\n  cleanPassword(passw);\n  cleanPassword(dbPassword);\n  passw = null;\n}\n\nprivate static void cleanPassword (char[] pass) {\n\n  Arrays.fill(pass, '0');\n}\n</code></pre>\n<p>One scenario where the attacker could use it is a crashdump—when the JVM crashes and generates a memory dump—you will be able to see the password.</p>\n<p>That is not necessarily a malicious external attacker. This could be a support user that has access to the server for monitoring purposes. He/she could peek into a crashdump and find the passwords.</p>\n"},{"tags":[],"owner":{"account_id":13876098,"reputation":171,"user_id":10017725,"display_name":"Neeraj"},"comment_count":0,"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1557401012,"creation_date":1543818706,"answer_id":53588592,"question_id":8881291,"body_markdown":"It is debatable as to whether you should use String or use Char[] for this purpose because both have their advantages and disadvantages. It depends on what the user needs.\r\n\r\nSince Strings in Java are immutable, whenever some tries to manipulate your string it creates a new Object and the existing String remains unaffected. This could be seen as an advantage for storing a password as a String, but the object remains in memory even after use. So if anyone somehow got the memory location of the object, that person can easily trace your password stored at that location.\r\n\r\nChar[] is mutable, but it has the advantage that after its usage the programmer can explicitly clean the array or override values. So when it&#39;s done being used it is cleaned and no one could ever know about the information you had stored.\r\n\r\nBased on the above circumstances, one can get an idea whether to go with String or to go with Char[] for their requirements.\r\n","title":"Why is char[] preferred over String for passwords?","body":"<p>It is debatable as to whether you should use String or use Char[] for this purpose because both have their advantages and disadvantages. It depends on what the user needs.</p>\n\n<p>Since Strings in Java are immutable, whenever some tries to manipulate your string it creates a new Object and the existing String remains unaffected. This could be seen as an advantage for storing a password as a String, but the object remains in memory even after use. So if anyone somehow got the memory location of the object, that person can easily trace your password stored at that location.</p>\n\n<p>Char[] is mutable, but it has the advantage that after its usage the programmer can explicitly clean the array or override values. So when it's done being used it is cleaned and no one could ever know about the information you had stored.</p>\n\n<p>Based on the above circumstances, one can get an idea whether to go with String or to go with Char[] for their requirements.</p>\n"},{"tags":[],"owner":{"account_id":16921011,"reputation":2463,"user_id":12237837,"display_name":"Aditya Rewari"},"comment_count":0,"down_vote_count":2,"up_vote_count":17,"is_accepted":false,"score":15,"last_activity_date":1587731037,"creation_date":1587731037,"answer_id":61408307,"question_id":8881291,"body_markdown":"Case String:\r\n\r\n        String password = &quot;ill stay in StringPool after Death !!!&quot;;\r\n        // some long code goes\r\n        // ...Now I want to remove traces of password\r\n        password = null;\r\n        password = &quot;&quot;;\r\n        // above attempts wil change value of password\r\n        // but the actual password can be traced from String pool through memory dump, if not garbage collected\r\n        \r\nCase CHAR ARRAY:\r\n        \r\n        char[] passArray = {&#39;p&#39;,&#39;a&#39;,&#39;s&#39;,&#39;s&#39;,&#39;w&#39;,&#39;o&#39;,&#39;r&#39;,&#39;d&#39;};\r\n        // some long code goes\r\n        // ...Now I want to remove traces of password\r\n        for (int i=0; i&lt;passArray.length;i++){\r\n            passArray[i] = &#39;x&#39;;\r\n        }\r\n        // Now you ACTUALLY DESTROYED traces of password form memory\r\n","title":"Why is char[] preferred over String for passwords?","body":"<p>Case String:</p>\n\n<pre><code>    String password = \"ill stay in StringPool after Death !!!\";\n    // some long code goes\n    // ...Now I want to remove traces of password\n    password = null;\n    password = \"\";\n    // above attempts wil change value of password\n    // but the actual password can be traced from String pool through memory dump, if not garbage collected\n</code></pre>\n\n<p>Case CHAR ARRAY:</p>\n\n<pre><code>    char[] passArray = {'p','a','s','s','w','o','r','d'};\n    // some long code goes\n    // ...Now I want to remove traces of password\n    for (int i=0; i&lt;passArray.length;i++){\n        passArray[i] = 'x';\n    }\n    // Now you ACTUALLY DESTROYED traces of password form memory\n</code></pre>\n"},{"comments":[{"owner":{"account_id":162233,"reputation":3101,"user_id":383568,"accept_rate":86,"display_name":"JayK"},"score":0,"creation_date":1647088742,"post_id":66531085,"comment_id":126288590,"body_markdown":"char in Java is a 16 bit value and char arrays are also assumed to be UTF-16 encoded. https://docs.oracle.com/javase/7/docs/api/java/lang/Character.html#:~:text=The%20Java%20platform%20uses%20the%20UTF%2D16%20representation%20in%20char%20arrays If you mean to store strings in different encodings, I think you must use byte arrays instead. To get differently encoded strings, there is String.getBytes.","body":"char in Java is a 16 bit value and char arrays are also assumed to be UTF-16 encoded. <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Character.html#:~:text=The%20Java%20platform%20uses%20the%20UTF%2D16%20representation%20in%20char%20arrays\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/lang/&hellip;</a> If you mean to store strings in different encodings, I think you must use byte arrays instead. To get differently encoded strings, there is String.getBytes."}],"tags":[],"owner":{"account_id":3102275,"reputation":117,"user_id":2626085,"display_name":"Dibsyhex"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1674163962,"creation_date":1615211495,"answer_id":66531085,"question_id":8881291,"body_markdown":"A lot of the previous answers are great. There is another point which I am assuming (please correct me if I am wrong).\r\n\r\nBy default Java uses UTF-16 for storing strings. Using character arrays, *char[] array*, facilitates use of Unicode, regional characters, etc. This technique allows all character set to be respected equally for storing the passwords and henceforth will not initiate certain crypto issues due to character set confusion. Finally, using the character array, we can convert the password array to our desired character set string.\r\n\r\n\r\n\r\n","title":"Why is char[] preferred over String for passwords?","body":"<p>A lot of the previous answers are great. There is another point which I am assuming (please correct me if I am wrong).</p>\n<p>By default Java uses UTF-16 for storing strings. Using character arrays, <em>char[] array</em>, facilitates use of Unicode, regional characters, etc. This technique allows all character set to be respected equally for storing the passwords and henceforth will not initiate certain crypto issues due to character set confusion. Finally, using the character array, we can convert the password array to our desired character set string.</p>\n"}],"owner":{"account_id":921513,"reputation":39385,"user_id":953140,"accept_rate":100,"display_name":"Ahamed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":510827,"favorite_count":0,"down_vote_count":9,"up_vote_count":3846,"accepted_answer_id":8881376,"answer_count":17,"score":3837,"last_activity_date":1674177422,"creation_date":1326723642,"question_id":8881291,"body_markdown":"In Swing, the password field has a `getPassword()` (returns `char[]`) method instead of the usual `getText()` (returns `String`) method. Similarly, I have come across a suggestion not to use `String` to handle passwords.\r\n\r\nWhy does `String` pose a threat to security when it comes to passwords?\r\nIt feels inconvenient to use `char[]`.","title":"Why is char[] preferred over String for passwords?","body":"<p>In Swing, the password field has a <code>getPassword()</code> (returns <code>char[]</code>) method instead of the usual <code>getText()</code> (returns <code>String</code>) method. Similarly, I have come across a suggestion not to use <code>String</code> to handle passwords.</p>\n\n<p>Why does <code>String</code> pose a threat to security when it comes to passwords?\nIt feels inconvenient to use <code>char[]</code>.</p>\n"},{"tags":["java","regex","csv"],"answers":[{"comments":[{"owner":{"account_id":2949,"reputation":6056,"user_id":4186,"accept_rate":82,"display_name":"arturh"},"score":0,"creation_date":1241445559,"post_id":820215,"comment_id":629269,"body_markdown":"that works quite well ... thank you\n\nresult is:\n\n[&quot;test&quot;, &quot;test\\,test\\,test&quot;, &quot;test&quot;]","body":"that works quite well ... thank you  result is:  [&quot;test&quot;, &quot;test\\,test\\,test&quot;, &quot;test&quot;]"},{"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"score":7,"creation_date":1241519394,"post_id":820215,"comment_id":633093,"body_markdown":"Actually, it matches a comma preceded by ONE backslash. In a regex written as a Java String literal, it takes FOUR backslashes to match ONE in the target text.","body":"Actually, it matches a comma preceded by ONE backslash. In a regex written as a Java String literal, it takes FOUR backslashes to match ONE in the target text."},{"owner":{"account_id":1083604,"reputation":9098,"user_id":1079877,"accept_rate":61,"display_name":"user1079877"},"score":0,"creation_date":1509804784,"post_id":820215,"comment_id":81173168,"body_markdown":"If you wanna remove the slashes too, use this:\n\n    Arrays.stream(text.split(&quot;(?&lt;!\\\\\\\\)\\\\s&quot;, -1))\n                .map(s -&gt; s.replaceAll(&quot;(?&lt;!\\\\\\\\)\\\\\\\\&quot;, &quot;&quot;)).collect(Collectors.toList())","body":"If you wanna remove the slashes too, use this:      Arrays.stream(text.split(&quot;(?&lt;!\\\\\\&#41;\\\\s&quot;, -1))                 .map(s -&gt; s.replaceAll(&quot;(?&lt;!\\\\\\&#41;\\\\\\\\&quot;, &quot;&quot;)).collect(Collectors.toList())"}],"tags":[],"owner":{"account_id":9867,"reputation":618201,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"comment_count":3,"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1241445429,"creation_date":1241445429,"answer_id":820215,"question_id":820172,"body_markdown":"Try:\r\n\r\n    String array[] = str.split(&quot;(?&lt;!\\\\\\\\),&quot;);\r\n\r\nBasically this is saying split on a comma, except where that comma is preceded by two backslashes. This is called a [negative lookbehind zero-width assertion][1].\r\n\r\n\r\n  [1]: http://www.regular-expressions.info/lookaround.html","title":"How to split a comma separated String while ignoring escaped commas?","body":"<p>Try:</p>\n\n<pre><code>String array[] = str.split(\"(?&lt;!\\\\\\\\),\");\n</code></pre>\n\n<p>Basically this is saying split on a comma, except where that comma is preceded by two backslashes. This is called a <a href=\"http://www.regular-expressions.info/lookaround.html\" rel=\"noreferrer\">negative lookbehind zero-width assertion</a>.</p>\n"},{"comments":[{"owner":{"account_id":44574,"reputation":5566,"user_id":130922,"accept_rate":80,"display_name":"drvdijk"},"score":2,"creation_date":1299790258,"post_id":820223,"comment_id":5931469,"body_markdown":"This again will incorrecty split a string like &quot;test\\\\,tost&quot; (also intentionally not doubly escaped), which should have been split up as &quot;test\\\\&quot; and &quot;tost&quot;. To overcome this, I once found this (Java) regex: &quot;(?&lt;=(?&lt;!\\\\\\)(\\\\\\\\\\){0,100}),&quot; which still is not perfect (and still needs to be doubly escaped, i.e. &quot;(?&lt;=(?&lt;!\\\\\\\\\\)(\\\\\\\\\\\\\\\\\\){0,100}),&quot; ). But it&#39;ll do","body":"This again will incorrecty split a string like &quot;test\\\\,tost&quot; (also intentionally not doubly escaped), which should have been split up as &quot;test\\\\&quot; and &quot;tost&quot;. To overcome this, I once found this (Java) regex: &quot;(?&lt;=(?&lt;!\\\\&#41;(\\\\\\\\&#41;{0,100}),&quot; which still is not perfect (and still needs to be doubly escaped, i.e. &quot;(?&lt;=(?&lt;!\\\\\\\\&#41;(\\\\\\\\\\\\\\\\&#41;{0,100}),&quot; ). But it&#39;ll do"},{"owner":{"account_id":356850,"reputation":18179,"user_id":696632,"accept_rate":62,"display_name":"Michael-O"},"score":1,"creation_date":1363348777,"post_id":820223,"comment_id":21826024,"body_markdown":"While this works, it does not yield the desired result. It backslash is retained.","body":"While this works, it does not yield the desired result. It backslash is retained."}],"tags":[],"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"comment_count":2,"down_vote_count":1,"up_vote_count":41,"is_accepted":true,"score":40,"last_activity_date":1241447058,"creation_date":1241445485,"answer_id":820223,"question_id":820172,"body_markdown":"The regular expression\r\n\r\n    [^\\\\],\r\n\r\nmeans &quot;match a character which is not a backslash followed by a comma&quot; - this is why patterns such as `t,` are matching, because `t` is a character which is not a backslash. \r\n\r\nI think you need to use some sort of [negative lookbehind][1], to capture a `,` which is not preceded by a `\\` without capturing the preceding character, something like\r\n\r\n    (?&lt;!\\\\),\r\n\r\n(BTW, note that I have purposefully not doubly-escaped the backslashes to make this more readable)\r\n  [1]: http://www.regular-expressions.info/lookaround.html","title":"How to split a comma separated String while ignoring escaped commas?","body":"<p>The regular expression</p>\n\n<pre><code>[^\\\\],\n</code></pre>\n\n<p>means \"match a character which is not a backslash followed by a comma\" - this is why patterns such as <code>t,</code> are matching, because <code>t</code> is a character which is not a backslash. </p>\n\n<p>I think you need to use some sort of <a href=\"http://www.regular-expressions.info/lookaround.html\" rel=\"noreferrer\">negative lookbehind</a>, to capture a <code>,</code> which is not preceded by a <code>\\</code> without capturing the preceding character, something like</p>\n\n<pre><code>(?&lt;!\\\\),\n</code></pre>\n\n<p>(BTW, note that I have purposefully not doubly-escaped the backslashes to make this more readable)</p>\n"},{"comments":[{"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"score":1,"creation_date":1241526566,"post_id":821603,"comment_id":633418,"body_markdown":"Escaping doesn&#39;t need to be that difficult:  \n\nString[] temp = str.split(&quot;(?&lt;!\\\\Q&quot; + escapeChar + &quot;\\\\E),&quot;, -1);","body":"Escaping doesn&#39;t need to be that difficult:    String[] temp = str.split(&quot;(?&lt;!\\\\Q&quot; + escapeChar + &quot;\\\\E),&quot;, -1);"},{"owner":{"account_id":7670,"reputation":35003,"user_id":13379,"accept_rate":86,"display_name":"Michael"},"score":0,"creation_date":1340557317,"post_id":821603,"comment_id":14668397,"body_markdown":"@AlanMoore You can also use the `Pattern.quote()` method to &quot;escape&quot; a string for safe inclusion in a regular expression.  The method wraps the string in `\\Q` and `\\E`.","body":"@AlanMoore You can also use the <code>Pattern.quote()</code> method to &quot;escape&quot; a string for safe inclusion in a regular expression.  The method wraps the string in <code>\\Q</code> and <code>\\E</code>."},{"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"score":0,"creation_date":1340583049,"post_id":821603,"comment_id":14673478,"body_markdown":"@Michael: That&#39;s true, and as a bonus it escapes any literal `\\E` sequence in the original so it doesn&#39;t get treated as an ending delimiter.  I never liked the `\\Q..\\E` feature in Perl, and I like it even less in Java, but that&#39;s no excuse for handing out bad advice about it.  Cheers!","body":"@Michael: That&#39;s true, and as a bonus it escapes any literal <code>\\E</code> sequence in the original so it doesn&#39;t get treated as an ending delimiter.  I never liked the <code>\\Q..\\E</code> feature in Perl, and I like it even less in Java, but that&#39;s no excuse for handing out bad advice about it.  Cheers!"},{"owner":{"account_id":7670,"reputation":35003,"user_id":13379,"accept_rate":86,"display_name":"Michael"},"score":0,"creation_date":1340587712,"post_id":821603,"comment_id":14674050,"body_markdown":"@AlanMoore I think using `\\Q..\\E` (whether it be hard-coded or through `Pattern.quote()`) is better than defining a list of special characters and adding a backslash if the given character is in the list.","body":"@AlanMoore I think using <code>\\Q..\\E</code> (whether it be hard-coded or through <code>Pattern.quote()</code>) is better than defining a list of special characters and adding a backslash if the given character is in the list."}],"tags":[],"owner":{"account_id":2949,"reputation":6056,"user_id":4186,"accept_rate":82,"display_name":"arturh"},"comment_count":4,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1242160113,"creation_date":1241465541,"answer_id":821603,"question_id":820172,"body_markdown":"For future reference, here is the complete method i ended up with:\r\n\r\n    public static String[] commaDelimitedListToStringArray(String str, String escapeChar) {\r\n    \t// these characters need to be escaped in a regular expression\r\n        String regularExpressionSpecialChars = &quot;/.*+?|()[]{}\\\\&quot;;\r\n        \r\n        String escapedEscapeChar = escapeChar;\r\n        \r\n        // if the escape char for our comma separated list needs to be escaped \r\n        // for the regular expression, escape it using the \\ char\r\n        if(regularExpressionSpecialChars.indexOf(escapeChar) != -1) \r\n        \tescapedEscapeChar = &quot;\\\\&quot; + escapeChar;\r\n    \r\n        // see http://stackoverflow.com/questions/820172/how-to-split-a-comma-separated-string-while-ignoring-escaped-commas\r\n        String[] temp = str.split(&quot;(?&lt;!&quot; + escapedEscapeChar + &quot;),&quot;, -1);\r\n        \r\n        // remove the escapeChar for the end result\r\n        String[] result = new String[temp.length];\r\n        for(int i=0; i&lt;temp.length; i++) {\r\n        \tresult[i] = temp[i].replaceAll(escapedEscapeChar + &quot;,&quot;, &quot;,&quot;);\r\n        }\r\n        \r\n        return result;\r\n    }","title":"How to split a comma separated String while ignoring escaped commas?","body":"<p>For future reference, here is the complete method i ended up with:</p>\n\n<pre><code>public static String[] commaDelimitedListToStringArray(String str, String escapeChar) {\n    // these characters need to be escaped in a regular expression\n    String regularExpressionSpecialChars = \"/.*+?|()[]{}\\\\\";\n\n    String escapedEscapeChar = escapeChar;\n\n    // if the escape char for our comma separated list needs to be escaped \n    // for the regular expression, escape it using the \\ char\n    if(regularExpressionSpecialChars.indexOf(escapeChar) != -1) \n        escapedEscapeChar = \"\\\\\" + escapeChar;\n\n    // see http://stackoverflow.com/questions/820172/how-to-split-a-comma-separated-string-while-ignoring-escaped-commas\n    String[] temp = str.split(\"(?&lt;!\" + escapedEscapeChar + \"),\", -1);\n\n    // remove the escapeChar for the end result\n    String[] result = new String[temp.length];\n    for(int i=0; i&lt;temp.length; i++) {\n        result[i] = temp[i].replaceAll(escapedEscapeChar + \",\", \",\");\n    }\n\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1908606,"reputation":2020,"user_id":1722982,"accept_rate":75,"display_name":"boumbh"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1363094397,"creation_date":1363093477,"answer_id":15362066,"question_id":820172,"body_markdown":"As matt b said, `[^\\\\],` will interpret the character preceding the comma as a part of the delimiter.\r\n\r\n    &quot;test\\\\\\\\\\\\,test\\\\\\\\,test\\\\,test,test&quot;\r\n      -(split)-&gt;\r\n    [&quot;test\\\\\\\\\\\\,test\\\\\\\\,test\\\\,tes&quot; , &quot;test&quot;]\r\n\r\n\r\nAs drvdijk said, `(?&lt;!\\\\),` will misinterpret escaped backslashes.\r\n\r\n    &quot;test\\\\\\\\\\\\,test\\\\\\\\,test\\\\,test,test&quot;\r\n      -(split)-&gt;\r\n    [&quot;test\\\\\\\\\\\\,test\\\\\\\\,test\\\\,test&quot; , &quot;test&quot;]\r\n      -(unescape commas)-&gt;\r\n    [&quot;test\\\\\\\\,test\\\\,test,test&quot; , &quot;test&quot;]\r\n\r\nI would expect being able to escape backslashes as well...\r\n\r\n    &quot;test\\\\\\\\\\\\,test\\\\\\\\,test\\\\,test,test&quot;\r\n      -(split)-&gt;\r\n    [&quot;test\\\\\\\\\\\\,test\\\\\\\\&quot; , &quot;test\\\\,test&quot; , &quot;test&quot;]\r\n      -(unescape commas and backslashes)-&gt;\r\n    [&quot;test\\\\,test\\\\&quot; , &quot;test,test&quot; , &quot;test&quot;]\r\n\r\ndrvdijk suggested `(?&lt;=(?&lt;!\\\\\\\\)(\\\\\\\\\\\\\\\\){0,100}),` which works well for lists with elements ending with up to 100 backslashes. This is far enough... but why a limit? Is there a more efficient way (isn&#39;t lookbehind greedy)? What about invalid strings?\r\n\r\nI searched for a while for a generic solution, then I wrote the thing myself... The idea is to split following a pattern that matches the list elements (instead of matching the delimiter).\r\n\r\nMy answer does not take the escape character as a parameter.\r\n\r\n    public static List&lt;String&gt; commaDelimitedListStringToStringList(String list) {\r\n        // Check the validity of the list\r\n        // ex: &quot;te\\\\st&quot; is not valid, backslash should be escaped\r\n    \tif (!list.matches(&quot;^(([^\\\\\\\\,]|\\\\\\\\,|\\\\\\\\\\\\\\\\)*(,|$))+&quot;)) {\r\n            // Could also raise an exception\r\n            return null;\r\n    \t}\r\n        // Matcher for the list elements\r\n    \tMatcher matcher = Pattern\r\n                .compile(&quot;(?&lt;=(^|,))([^\\\\\\\\,]|\\\\\\\\,|\\\\\\\\\\\\\\\\)*(?=(,|$))&quot;)\r\n                .matcher(list);\r\n    \tArrayList&lt;String&gt; result = new ArrayList&lt;String&gt;();\r\n    \twhile (matcher.find()) {\r\n    \t\t// Unescape the list element\r\n    \t\tresult.add(matcher.group().replaceAll(&quot;\\\\\\\\([\\\\\\\\,])&quot;, &quot;$1&quot;));\r\n    \t}\r\n    \treturn result;\r\n    }\r\n\r\nDescription for the pattern (unescaped):\r\n\r\n`(?&lt;=(^|,))` forward is start of string or a `,`\r\n\r\n`([^\\\\,]|\\\\,|\\\\\\\\)*` the element composed of `\\,`, `\\\\` or characters wich are neither `\\` nor `,`\r\n\r\n`(?=(,|$))` behind is end of string or a `,`\r\n\r\nThe pattern may be simplified.\r\n\r\nEven with the 3 parsings (`matches` + `find` + `replaceAll`), this method seems faster than the one suggested by drvdijk. It can still be optimized by writing a specific parser.\r\n\r\nAlso, what is the need of having an escape character if only one character is special, it could simply be doubled...\r\n\r\n    public static List&lt;String&gt; commaDelimitedListStringToStringList2(String list) {\r\n    \tif (!list.matches(&quot;^(([^,]|,,)*(,|$))+&quot;)) {\r\n    \t\treturn null;\r\n    \t}\r\n    \tMatcher matcher = Pattern.compile(&quot;(?&lt;=(^|,))([^,]|,,)*(?=(,|$))&quot;)\r\n                        .matcher(list);\r\n    \tArrayList&lt;String&gt; result = new ArrayList&lt;String&gt;();\r\n    \twhile (matcher.find()) {\r\n    \t\tresult.add(matcher.group().replaceAll(&quot;,,&quot;, &quot;,&quot;));\r\n    \t}\r\n    \treturn result;\r\n    }","title":"How to split a comma separated String while ignoring escaped commas?","body":"<p>As matt b said, <code>[^\\\\],</code> will interpret the character preceding the comma as a part of the delimiter.</p>\n\n<pre><code>\"test\\\\\\\\\\\\,test\\\\\\\\,test\\\\,test,test\"\n  -(split)-&gt;\n[\"test\\\\\\\\\\\\,test\\\\\\\\,test\\\\,tes\" , \"test\"]\n</code></pre>\n\n<p>As drvdijk said, <code>(?&lt;!\\\\),</code> will misinterpret escaped backslashes.</p>\n\n<pre><code>\"test\\\\\\\\\\\\,test\\\\\\\\,test\\\\,test,test\"\n  -(split)-&gt;\n[\"test\\\\\\\\\\\\,test\\\\\\\\,test\\\\,test\" , \"test\"]\n  -(unescape commas)-&gt;\n[\"test\\\\\\\\,test\\\\,test,test\" , \"test\"]\n</code></pre>\n\n<p>I would expect being able to escape backslashes as well...</p>\n\n<pre><code>\"test\\\\\\\\\\\\,test\\\\\\\\,test\\\\,test,test\"\n  -(split)-&gt;\n[\"test\\\\\\\\\\\\,test\\\\\\\\\" , \"test\\\\,test\" , \"test\"]\n  -(unescape commas and backslashes)-&gt;\n[\"test\\\\,test\\\\\" , \"test,test\" , \"test\"]\n</code></pre>\n\n<p>drvdijk suggested <code>(?&lt;=(?&lt;!\\\\\\\\)(\\\\\\\\\\\\\\\\){0,100}),</code> which works well for lists with elements ending with up to 100 backslashes. This is far enough... but why a limit? Is there a more efficient way (isn't lookbehind greedy)? What about invalid strings?</p>\n\n<p>I searched for a while for a generic solution, then I wrote the thing myself... The idea is to split following a pattern that matches the list elements (instead of matching the delimiter).</p>\n\n<p>My answer does not take the escape character as a parameter.</p>\n\n<pre><code>public static List&lt;String&gt; commaDelimitedListStringToStringList(String list) {\n    // Check the validity of the list\n    // ex: \"te\\\\st\" is not valid, backslash should be escaped\n    if (!list.matches(\"^(([^\\\\\\\\,]|\\\\\\\\,|\\\\\\\\\\\\\\\\)*(,|$))+\")) {\n        // Could also raise an exception\n        return null;\n    }\n    // Matcher for the list elements\n    Matcher matcher = Pattern\n            .compile(\"(?&lt;=(^|,))([^\\\\\\\\,]|\\\\\\\\,|\\\\\\\\\\\\\\\\)*(?=(,|$))\")\n            .matcher(list);\n    ArrayList&lt;String&gt; result = new ArrayList&lt;String&gt;();\n    while (matcher.find()) {\n        // Unescape the list element\n        result.add(matcher.group().replaceAll(\"\\\\\\\\([\\\\\\\\,])\", \"$1\"));\n    }\n    return result;\n}\n</code></pre>\n\n<p>Description for the pattern (unescaped):</p>\n\n<p><code>(?&lt;=(^|,))</code> forward is start of string or a <code>,</code></p>\n\n<p><code>([^\\\\,]|\\\\,|\\\\\\\\)*</code> the element composed of <code>\\,</code>, <code>\\\\</code> or characters wich are neither <code>\\</code> nor <code>,</code></p>\n\n<p><code>(?=(,|$))</code> behind is end of string or a <code>,</code></p>\n\n<p>The pattern may be simplified.</p>\n\n<p>Even with the 3 parsings (<code>matches</code> + <code>find</code> + <code>replaceAll</code>), this method seems faster than the one suggested by drvdijk. It can still be optimized by writing a specific parser.</p>\n\n<p>Also, what is the need of having an escape character if only one character is special, it could simply be doubled...</p>\n\n<pre><code>public static List&lt;String&gt; commaDelimitedListStringToStringList2(String list) {\n    if (!list.matches(\"^(([^,]|,,)*(,|$))+\")) {\n        return null;\n    }\n    Matcher matcher = Pattern.compile(\"(?&lt;=(^|,))([^,]|,,)*(?=(,|$))\")\n                    .matcher(list);\n    ArrayList&lt;String&gt; result = new ArrayList&lt;String&gt;();\n    while (matcher.find()) {\n        result.add(matcher.group().replaceAll(\",,\", \",\"));\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":98159,"reputation":9280,"user_id":265877,"accept_rate":68,"display_name":"Alex"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613323524,"creation_date":1613323524,"answer_id":66198091,"question_id":820172,"body_markdown":"`split(/(?&lt;!\\\\),/g)` worked for me, but the accepted answer did not\r\n\r\n```\r\n&gt; var x = &quot;test,test\\,test\\,test,test&quot;\r\nundefined\r\n&gt; x.split(/(?&lt;!\\\\),/g)\r\n[ &#39;test&#39;, &#39;test\\\\,test\\\\,test&#39;, &#39;test&#39; ]\r\n&gt; x.split(&quot;(?&lt;!\\\\\\\\),&quot;)\r\n[ &#39;test,test\\\\,test\\\\,test,test&#39; ]\r\n```","title":"How to split a comma separated String while ignoring escaped commas?","body":"<p><code>split(/(?&lt;!\\\\),/g)</code> worked for me, but the accepted answer did not</p>\n<pre><code>&gt; var x = &quot;test,test\\,test\\,test,test&quot;\nundefined\n&gt; x.split(/(?&lt;!\\\\),/g)\n[ 'test', 'test\\\\,test\\\\,test', 'test' ]\n&gt; x.split(&quot;(?&lt;!\\\\\\\\),&quot;)\n[ 'test,test\\\\,test\\\\,test,test' ]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1454282,"reputation":1077,"user_id":1505369,"accept_rate":60,"display_name":"kcpr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674177085,"creation_date":1674177085,"answer_id":75179748,"question_id":820172,"body_markdown":"It&#39;s probably not &quot;super fancy&quot; solution, but possibly more time-efficient one. Escaping an escape character is also supported and it&#39;s working in [browsers not supporting &#39;lookbehinds&#39;][1].\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    function splitByDelimiterIfItIsNotEscaped (text, delimiter, escapeCharacter) {\r\n        const splittedText = []\r\n        let numberOfDelimitersBeforeOtherCharacter = 0\r\n        let nextSplittedTextPartIndex = 0\r\n        for (let characterIndex = 0, character = text[0]; characterIndex &lt; text.length; characterIndex++, character = text[characterIndex]) {\r\n            if (character === escapeCharacter) {\r\n                numberOfDelimitersBeforeOtherCharacter++\r\n            } else if (character === delimiter &amp;&amp; (!numberOfDelimitersBeforeOtherCharacter || !(numberOfDelimitersBeforeOtherCharacter % 2))) {\r\n                splittedText.push(text.substring(nextSplittedTextPartIndex, characterIndex))\r\n                nextSplittedTextPartIndex = characterIndex + 1\r\n            } else {\r\n                numberOfDelimitersBeforeOtherCharacter = 0\r\n            }\r\n        }\r\n        if (nextSplittedTextPartIndex &lt;= text.length) {\r\n            splittedText.push(text.substring(nextSplittedTextPartIndex, text.length))\r\n        }\r\n        return splittedText\r\n    }\r\n\r\n    function onChange () {\r\n        console.log(splitByDelimiterIfItIsNotEscaped(inputBox.value, &#39;,&#39;, &#39;\\\\&#39;))\r\n    }\r\n\r\n    addEventListener(&#39;change&#39;, onChange)\r\n\r\n    onChange()\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n    \r\n    After making a change unfocus the input box (use tab for example).\r\n    &lt;input id=&quot;inputBox&quot; value=&quot;test,test\\,test\\,test,test&quot;/&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n  [1]: https://caniuse.com/js-regexp-lookbehind","title":"How to split a comma separated String while ignoring escaped commas?","body":"<p>It's probably not &quot;super fancy&quot; solution, but possibly more time-efficient one. Escaping an escape character is also supported and it's working in <a href=\"https://caniuse.com/js-regexp-lookbehind\" rel=\"nofollow noreferrer\">browsers not supporting 'lookbehinds'</a>.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function splitByDelimiterIfItIsNotEscaped (text, delimiter, escapeCharacter) {\n    const splittedText = []\n    let numberOfDelimitersBeforeOtherCharacter = 0\n    let nextSplittedTextPartIndex = 0\n    for (let characterIndex = 0, character = text[0]; characterIndex &lt; text.length; characterIndex++, character = text[characterIndex]) {\n        if (character === escapeCharacter) {\n            numberOfDelimitersBeforeOtherCharacter++\n        } else if (character === delimiter &amp;&amp; (!numberOfDelimitersBeforeOtherCharacter || !(numberOfDelimitersBeforeOtherCharacter % 2))) {\n            splittedText.push(text.substring(nextSplittedTextPartIndex, characterIndex))\n            nextSplittedTextPartIndex = characterIndex + 1\n        } else {\n            numberOfDelimitersBeforeOtherCharacter = 0\n        }\n    }\n    if (nextSplittedTextPartIndex &lt;= text.length) {\n        splittedText.push(text.substring(nextSplittedTextPartIndex, text.length))\n    }\n    return splittedText\n}\n\nfunction onChange () {\n    console.log(splitByDelimiterIfItIsNotEscaped(inputBox.value, ',', '\\\\'))\n}\n\naddEventListener('change', onChange)\n\nonChange()</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>After making a change unfocus the input box (use tab for example).\n&lt;input id=\"inputBox\" value=\"test,test\\,test\\,test,test\"/&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":2949,"reputation":6056,"user_id":4186,"accept_rate":82,"display_name":"arturh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58048,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":820223,"answer_count":6,"score":32,"last_activity_date":1674177085,"creation_date":1241444920,"question_id":820172,"body_markdown":"I need to write a extended version of the StringUtils.commaDelimitedListToStringArray function which gets an additional parameter: the escape char.\r\n\r\nso calling my:\r\n \r\n    commaDelimitedListToStringArray(&quot;test,test\\\\,test\\\\,test,test&quot;, &quot;\\\\&quot;)\r\n\r\nshould return:\r\n \r\n    [&quot;test&quot;, &quot;test,test,test&quot;, &quot;test&quot;]\r\n\r\n\r\n\r\n&lt;br&gt;&lt;br&gt;\r\nMy current attempt is to use String.split() to split the String using regular expressions:\r\n\r\n    String[] array = str.split(&quot;[^\\\\\\\\],&quot;);\r\n\r\nBut the returned array is:\r\n\r\n    [&quot;tes&quot;, &quot;test\\,test\\,tes&quot;, &quot;test&quot;]\r\n\r\n\r\nAny ideas?","title":"How to split a comma separated String while ignoring escaped commas?","body":"<p>I need to write a extended version of the StringUtils.commaDelimitedListToStringArray function which gets an additional parameter: the escape char.</p>\n\n<p>so calling my:</p>\n\n<pre><code>commaDelimitedListToStringArray(\"test,test\\\\,test\\\\,test,test\", \"\\\\\")\n</code></pre>\n\n<p>should return:</p>\n\n<pre><code>[\"test\", \"test,test,test\", \"test\"]\n</code></pre>\n\n<p><br><br>\nMy current attempt is to use String.split() to split the String using regular expressions:</p>\n\n<pre><code>String[] array = str.split(\"[^\\\\\\\\],\");\n</code></pre>\n\n<p>But the returned array is:</p>\n\n<pre><code>[\"tes\", \"test\\,test\\,tes\", \"test\"]\n</code></pre>\n\n<p>Any ideas?</p>\n"},{"tags":["java","maven","intellij-idea","graalvm","exec-maven-plugin"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1673979040,"post_id":74551099,"comment_id":132615498,"body_markdown":"that error does not have the details for what error graalvm getting, can you share longer stacktrace or a reproducer would be easier to see the error.","body":"that error does not have the details for what error graalvm getting, can you share longer stacktrace or a reproducer would be easier to see the error."},{"owner":{"account_id":26542603,"reputation":3,"user_id":20361787,"display_name":"TDC_404"},"score":0,"creation_date":1674136807,"post_id":74551099,"comment_id":132653663,"body_markdown":"Here is full trace https://github.com/graalvm/native-build-tools/issues/385","body":"Here is full trace <a href=\"https://github.com/graalvm/native-build-tools/issues/385\" rel=\"nofollow noreferrer\">github.com/graalvm/native-build-tools/issues/385</a>"}],"answers":[{"comments":[{"owner":{"account_id":26542603,"reputation":3,"user_id":20361787,"display_name":"TDC_404"},"score":1,"creation_date":1674193136,"post_id":75179664,"comment_id":132665698,"body_markdown":"Oh, that&#39;s a lot of work! Thank you for your efforts.\nSo, after starting just from scratch and even NOT using native-image, just to build some runnable jar – stubled against jlink error, because I&#39;m using apache poi and it has filename-based automodules that is not allowed to use with jlink. Maybe I&#39;m just really overcomplify this application and it can be done much simplier...\nBut, thanks again, you give me a few new thoughts on what&#39;s going on and how to fix it","body":"Oh, that&#39;s a lot of work! Thank you for your efforts. So, after starting just from scratch and even NOT using native-image, just to build some runnable jar – stubled against jlink error, because I&#39;m using apache poi and it has filename-based automodules that is not allowed to use with jlink. Maybe I&#39;m just really overcomplify this application and it can be done much simplier... But, thanks again, you give me a few new thoughts on what&#39;s going on and how to fix it"}],"tags":[],"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674176227,"creation_date":1674175656,"answer_id":75179664,"question_id":74551099,"body_markdown":"For building javaFX with graalVM I used [gluonhq](https://github.com/gluonhq/gluon-samples), looks like Gluon is the responsible of javaFX at [here](https://openjfx.io/highlights/19/) they say\r\n&gt; Kudos go to the fine people at Gluon who took care of the bulk of the work on JavaFX 19. Do check their JavaFX Long Term Support services. \r\n\r\nI tried to fix your reproducer first but it has so many maven plugin configured it was confusing and bulky so I created a clean pom xml from [gluon start page](https://start.gluon.io) then added your reproducer and required configuration. [Here](https://github.com/ozkanpakdil/java-examlpes/blob/master/CovidRisk/pom.xml) is the result.\r\n\r\nMost important part is below\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;com.gluonhq&lt;/groupId&gt;\r\n    &lt;artifactId&gt;gluonfx-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;${gluonfx.plugin.version}&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;target&gt;${gluonfx.target}&lt;/target&gt;\r\n        &lt;mainClass&gt;${main.class}&lt;/mainClass&gt;\r\n        &lt;attachList&gt;\r\n            &lt;list&gt;display&lt;/list&gt;\r\n            &lt;list&gt;lifecycle&lt;/list&gt;\r\n            &lt;list&gt;statusbar&lt;/list&gt;\r\n            &lt;list&gt;storage&lt;/list&gt;\r\n        &lt;/attachList&gt;\r\n        &lt;bundlesList&gt;\r\n            &lt;list&gt;adianov.sergei.covidrisk&lt;/list&gt;\r\n        &lt;/bundlesList&gt;\r\n        &lt;reflectionList&gt;\r\n            &lt;list&gt;adianov.sergei.covidrisk.RootLayoutController&lt;/list&gt;\r\n            &lt;list&gt;adianov.sergei.covidrisk.PersonOverviewController&lt;/list&gt;\r\n            &lt;list&gt;adianov.sergei.covidrisk.PersonEditDialogController&lt;/list&gt;\r\n            &lt;list&gt;javafx.scene.control.Button&lt;/list&gt;\r\n            &lt;list&gt;javafx.scene.control.CheckBox&lt;/list&gt;\r\n            &lt;list&gt;javafx.scene.control.CheckMenuItem&lt;/list&gt;\r\n            &lt;list&gt;javafx.scene.control.ChoiceBox&lt;/list&gt;\r\n            &lt;list&gt;javafx.scene.control.ColorPicker&lt;/list&gt;\r\n            &lt;list&gt;javafx.scene.control.ComboBox&lt;/list&gt;\r\n            &lt;list&gt;javafx.scene.control.Menu&lt;/list&gt;\r\n            &lt;list&gt;javafx.scene.control.MenuBar&lt;/list&gt;\r\n            &lt;list&gt;javafx.scene.control.MenuButton&lt;/list&gt;\r\n            &lt;list&gt;javafx.scene.control.MenuItem&lt;/list&gt;\r\n            &lt;list&gt;javafx.scene.control.RadioMenuItem&lt;/list&gt;\r\n            &lt;list&gt;javafx.scene.control.ScrollPane&lt;/list&gt;\r\n            &lt;list&gt;javafx.scene.control.Separator&lt;/list&gt;\r\n            &lt;list&gt;javafx.scene.control.SeparatorMenuItem&lt;/list&gt;\r\n            &lt;list&gt;javafx.scene.control.Slider&lt;/list&gt;\r\n            &lt;list&gt;javafx.scene.control.SplitPane&lt;/list&gt;\r\n            &lt;list&gt;javafx.scene.control.TableView&lt;/list&gt;\r\n            &lt;list&gt;javafx.scene.control.TableColumn&lt;/list&gt;\r\n            &lt;list&gt;javafx.scene.control.TextArea&lt;/list&gt;\r\n            &lt;list&gt;javafx.scene.control.TextField&lt;/list&gt;\r\n            &lt;list&gt;javafx.scene.control.ToggleButton&lt;/list&gt;\r\n            &lt;list&gt;javafx.scene.image.ImageView&lt;/list&gt;\r\n            &lt;list&gt;javafx.scene.layout.FlowPane&lt;/list&gt;\r\n            &lt;list&gt;javafx.scene.layout.GridPane&lt;/list&gt;\r\n            &lt;list&gt;javafx.scene.layout.HBox&lt;/list&gt;\r\n        &lt;/reflectionList&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\nIt was annoying to add those classes one by one, otherwise native image throws class not found exception. \r\n\r\nI tried to use graalvm native maven plugin but for javafx we can not use that because javafx requires extra libraries which is covered by gluon plugin and one more thing I needed to use [gluon graalvm](https://github.com/gluonhq/graal/releases)\r\n\r\nI used [sdkman](https://sdkman.io/) for gluon graalvm installation\r\n```\r\nsdk list java\r\nsdk install java 22.1.0.1.r17-gln\r\n```\r\nI had one more problem related to compile was &quot;not found libraries&quot;, to fix that I used\r\n```\r\nsudo apt install libasound2-dev libavcodec-dev libavformat-dev libavutil-dev libgl-dev libgtk-3-dev libpango1.0-dev libxtst-dev\r\n```\r\nfound the apt command from [here](https://docs.gluonhq.com/). To be honest my expectation from javaFX was higher. It is hard to compile and have a result with it, Swing looks easier even [they say](https://stackoverflow.com/a/10589875/175554) javaFX is strong. After all intellij still [uses swing](https://stackoverflow.com/a/12311981/175554).\r\n\r\nThis is how it looks in my computer\r\n[![How look][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LJcpf.png","title":"Can&#39;t build project with maven and graalvm","body":"<p>For building javaFX with graalVM I used <a href=\"https://github.com/gluonhq/gluon-samples\" rel=\"nofollow noreferrer\">gluonhq</a>, looks like Gluon is the responsible of javaFX at <a href=\"https://openjfx.io/highlights/19/\" rel=\"nofollow noreferrer\">here</a> they say</p>\n<blockquote>\n<p>Kudos go to the fine people at Gluon who took care of the bulk of the work on JavaFX 19. Do check their JavaFX Long Term Support services.</p>\n</blockquote>\n<p>I tried to fix your reproducer first but it has so many maven plugin configured it was confusing and bulky so I created a clean pom xml from <a href=\"https://start.gluon.io\" rel=\"nofollow noreferrer\">gluon start page</a> then added your reproducer and required configuration. <a href=\"https://github.com/ozkanpakdil/java-examlpes/blob/master/CovidRisk/pom.xml\" rel=\"nofollow noreferrer\">Here</a> is the result.</p>\n<p>Most important part is below</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;com.gluonhq&lt;/groupId&gt;\n    &lt;artifactId&gt;gluonfx-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${gluonfx.plugin.version}&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;target&gt;${gluonfx.target}&lt;/target&gt;\n        &lt;mainClass&gt;${main.class}&lt;/mainClass&gt;\n        &lt;attachList&gt;\n            &lt;list&gt;display&lt;/list&gt;\n            &lt;list&gt;lifecycle&lt;/list&gt;\n            &lt;list&gt;statusbar&lt;/list&gt;\n            &lt;list&gt;storage&lt;/list&gt;\n        &lt;/attachList&gt;\n        &lt;bundlesList&gt;\n            &lt;list&gt;adianov.sergei.covidrisk&lt;/list&gt;\n        &lt;/bundlesList&gt;\n        &lt;reflectionList&gt;\n            &lt;list&gt;adianov.sergei.covidrisk.RootLayoutController&lt;/list&gt;\n            &lt;list&gt;adianov.sergei.covidrisk.PersonOverviewController&lt;/list&gt;\n            &lt;list&gt;adianov.sergei.covidrisk.PersonEditDialogController&lt;/list&gt;\n            &lt;list&gt;javafx.scene.control.Button&lt;/list&gt;\n            &lt;list&gt;javafx.scene.control.CheckBox&lt;/list&gt;\n            &lt;list&gt;javafx.scene.control.CheckMenuItem&lt;/list&gt;\n            &lt;list&gt;javafx.scene.control.ChoiceBox&lt;/list&gt;\n            &lt;list&gt;javafx.scene.control.ColorPicker&lt;/list&gt;\n            &lt;list&gt;javafx.scene.control.ComboBox&lt;/list&gt;\n            &lt;list&gt;javafx.scene.control.Menu&lt;/list&gt;\n            &lt;list&gt;javafx.scene.control.MenuBar&lt;/list&gt;\n            &lt;list&gt;javafx.scene.control.MenuButton&lt;/list&gt;\n            &lt;list&gt;javafx.scene.control.MenuItem&lt;/list&gt;\n            &lt;list&gt;javafx.scene.control.RadioMenuItem&lt;/list&gt;\n            &lt;list&gt;javafx.scene.control.ScrollPane&lt;/list&gt;\n            &lt;list&gt;javafx.scene.control.Separator&lt;/list&gt;\n            &lt;list&gt;javafx.scene.control.SeparatorMenuItem&lt;/list&gt;\n            &lt;list&gt;javafx.scene.control.Slider&lt;/list&gt;\n            &lt;list&gt;javafx.scene.control.SplitPane&lt;/list&gt;\n            &lt;list&gt;javafx.scene.control.TableView&lt;/list&gt;\n            &lt;list&gt;javafx.scene.control.TableColumn&lt;/list&gt;\n            &lt;list&gt;javafx.scene.control.TextArea&lt;/list&gt;\n            &lt;list&gt;javafx.scene.control.TextField&lt;/list&gt;\n            &lt;list&gt;javafx.scene.control.ToggleButton&lt;/list&gt;\n            &lt;list&gt;javafx.scene.image.ImageView&lt;/list&gt;\n            &lt;list&gt;javafx.scene.layout.FlowPane&lt;/list&gt;\n            &lt;list&gt;javafx.scene.layout.GridPane&lt;/list&gt;\n            &lt;list&gt;javafx.scene.layout.HBox&lt;/list&gt;\n        &lt;/reflectionList&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>It was annoying to add those classes one by one, otherwise native image throws class not found exception.</p>\n<p>I tried to use graalvm native maven plugin but for javafx we can not use that because javafx requires extra libraries which is covered by gluon plugin and one more thing I needed to use <a href=\"https://github.com/gluonhq/graal/releases\" rel=\"nofollow noreferrer\">gluon graalvm</a></p>\n<p>I used <a href=\"https://sdkman.io/\" rel=\"nofollow noreferrer\">sdkman</a> for gluon graalvm installation</p>\n<pre><code>sdk list java\nsdk install java 22.1.0.1.r17-gln\n</code></pre>\n<p>I had one more problem related to compile was &quot;not found libraries&quot;, to fix that I used</p>\n<pre><code>sudo apt install libasound2-dev libavcodec-dev libavformat-dev libavutil-dev libgl-dev libgtk-3-dev libpango1.0-dev libxtst-dev\n</code></pre>\n<p>found the apt command from <a href=\"https://docs.gluonhq.com/\" rel=\"nofollow noreferrer\">here</a>. To be honest my expectation from javaFX was higher. It is hard to compile and have a result with it, Swing looks easier even <a href=\"https://stackoverflow.com/a/10589875/175554\">they say</a> javaFX is strong. After all intellij still <a href=\"https://stackoverflow.com/a/12311981/175554\">uses swing</a>.</p>\n<p>This is how it looks in my computer\n<a href=\"https://i.stack.imgur.com/LJcpf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LJcpf.png\" alt=\"How look\" /></a></p>\n"}],"owner":{"account_id":26542603,"reputation":3,"user_id":20361787,"display_name":"TDC_404"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":632,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75179664,"answer_count":1,"score":0,"last_activity_date":1674176227,"creation_date":1669225818,"question_id":74551099,"body_markdown":"What did I do wrong?\r\nTrying to build native-image app following [this](https://www.graalvm.org/dev/reference-manual/native-image/guides/use-native-image-maven-plugin/) graalvm guide.But I can&#39;t.\r\n\r\nMaybe it lacks some linking inside project...\r\nI&#39;m working in IntellijIDEA and it says, that I can&#39;t use &lt;agent&gt; where I use it. From net seraching I concluded, that it isn&#39;t important, but maybe there is my problem?\r\nHere is pom.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;native&lt;/id&gt;\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;3.1.0&lt;/version&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;java-agent&lt;/id&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;exec&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                                &lt;configuration&gt;\r\n                                    &lt;executable&gt;java&lt;/executable&gt;\r\n                                    &lt;workingDirectory&gt;${project.build.directory}&lt;/workingDirectory&gt;\r\n                                    &lt;arguments&gt;\r\n                                        &lt;argument&gt;-classpath&lt;/argument&gt;\r\n                                        &lt;classpath/&gt;\r\n                                        &lt;argument&gt;${mainClass}&lt;/argument&gt;\r\n                                    &lt;/arguments&gt;\r\n                                &lt;/configuration&gt;\r\n                            &lt;/execution&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;native&lt;/id&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;exec&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                                &lt;configuration&gt;\r\n                                    &lt;executable&gt;${project.build.directory}/${imageName}&lt;/executable&gt;\r\n                                    &lt;workingDirectory&gt;${project.build.directory}&lt;/workingDirectory&gt;\r\n                                &lt;/configuration&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;${native.maven.plugin.version}&lt;/version&gt;\r\n                        &lt;extensions&gt;true&lt;/extensions&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;build-native&lt;/id&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;build&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                                &lt;phase&gt;package&lt;/phase&gt;\r\n                            &lt;/execution&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;test-native&lt;/id&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;test&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                                &lt;phase&gt;test&lt;/phase&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;fallback&gt;false&lt;/fallback&gt;\r\n                            &lt;buildArgs&gt;\r\n                                &lt;arg&gt;-H:DashboardDump=fortune -H:+DashboardAll&lt;/arg&gt;\r\n                            &lt;/buildArgs&gt;\r\n                            &lt;agent&gt;\r\n                                &lt;enabled&gt;true&lt;/enabled&gt;\r\n                                &lt;options&gt;\r\n                                    &lt;option&gt;experimental-class-loader-support&lt;/option&gt;\r\n                                &lt;/options&gt;\r\n                            &lt;/agent&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;adianov.sergei&lt;/groupId&gt;\r\n    &lt;artifactId&gt;COVID-Risk&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;COVID-Risk&lt;/name&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;native.maven.plugin.version&gt;0.9.18&lt;/native.maven.plugin.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;junit.version&gt;5.8.2&lt;/junit.version&gt;\r\n        &lt;maven.compiler.source&gt;${java.specification.version}&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;${java.specification.version}&lt;/maven.compiler.target&gt;\r\n        &lt;imageName&gt;COVID Risking&lt;/imageName&gt;\r\n        &lt;mainClass&gt;MainApp&lt;/mainClass&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.codehaus.mojo/exec-maven-plugin --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n            &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;19-ea+7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;19-ea+7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.controlsfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;controlsfx&lt;/artifactId&gt;\r\n            &lt;version&gt;11.1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.dlsc.formsfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;formsfx-core&lt;/artifactId&gt;\r\n            &lt;version&gt;11.5.0&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jib-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.4&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;to&gt;\r\n                        &lt;image&gt;docker.io/heartofglass404/COVID_Risking&lt;/image&gt;\r\n                    &lt;/to&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.10.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;19&lt;/source&gt;\r\n                    &lt;target&gt;19&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.8&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\r\n                        &lt;id&gt;default-cli&lt;/id&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;mainClass&gt;adianov.sergei.covidrisk/adianov.sergei.covidrisk.HelloApplication&lt;/mainClass&gt;\r\n                            &lt;launcher&gt;app&lt;/launcher&gt;\r\n                            &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\r\n                            &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\r\n                            &lt;noManPages&gt;true&lt;/noManPages&gt;\r\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\r\n                            &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nAnd error: \r\n\r\n&gt; [ERROR] Command execution failed.\r\norg.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\r\n    at org.apache.commons.exec.DefaultExecutor.executeInternal (DefaultExecutor.java:404)\r\n    at org.apache.commons.exec.DefaultExecutor.execute (DefaultExecutor.java:166)\r\n    at org.codehaus.mojo.exec.ExecMojo.executeCommandLine (ExecMojo.java:1000)\r\n    at org.codehaus.mojo.exec.ExecMojo.executeCommandLine (ExecMojo.java:947)\r\n    at org.codehaus.mojo.exec.ExecMojo.execute (ExecMojo.java:471)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n    at jdk.internal.reflect.DirectMethodHandleAccessor.invoke (DirectMethodHandleAccessor.java:104)\r\n    at java.lang.reflect.Method.invoke (Method.java:578)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n\r\n","title":"Can&#39;t build project with maven and graalvm","body":"<p>What did I do wrong?\nTrying to build native-image app following <a href=\"https://www.graalvm.org/dev/reference-manual/native-image/guides/use-native-image-maven-plugin/\" rel=\"nofollow noreferrer\">this</a> graalvm guide.But I can't.</p>\n<p>Maybe it lacks some linking inside project...\nI'm working in IntellijIDEA and it says, that I can't use  where I use it. From net seraching I concluded, that it isn't important, but maybe there is my problem?\nHere is pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;native&lt;/id&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                        &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;3.1.0&lt;/version&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;java-agent&lt;/id&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;exec&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;configuration&gt;\n                                    &lt;executable&gt;java&lt;/executable&gt;\n                                    &lt;workingDirectory&gt;${project.build.directory}&lt;/workingDirectory&gt;\n                                    &lt;arguments&gt;\n                                        &lt;argument&gt;-classpath&lt;/argument&gt;\n                                        &lt;classpath/&gt;\n                                        &lt;argument&gt;${mainClass}&lt;/argument&gt;\n                                    &lt;/arguments&gt;\n                                &lt;/configuration&gt;\n                            &lt;/execution&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;native&lt;/id&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;exec&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;configuration&gt;\n                                    &lt;executable&gt;${project.build.directory}/${imageName}&lt;/executable&gt;\n                                    &lt;workingDirectory&gt;${project.build.directory}&lt;/workingDirectory&gt;\n                                &lt;/configuration&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\n                        &lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;${native.maven.plugin.version}&lt;/version&gt;\n                        &lt;extensions&gt;true&lt;/extensions&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;build-native&lt;/id&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;build&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;phase&gt;package&lt;/phase&gt;\n                            &lt;/execution&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;test-native&lt;/id&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;test&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;phase&gt;test&lt;/phase&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                        &lt;configuration&gt;\n                            &lt;fallback&gt;false&lt;/fallback&gt;\n                            &lt;buildArgs&gt;\n                                &lt;arg&gt;-H:DashboardDump=fortune -H:+DashboardAll&lt;/arg&gt;\n                            &lt;/buildArgs&gt;\n                            &lt;agent&gt;\n                                &lt;enabled&gt;true&lt;/enabled&gt;\n                                &lt;options&gt;\n                                    &lt;option&gt;experimental-class-loader-support&lt;/option&gt;\n                                &lt;/options&gt;\n                            &lt;/agent&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;adianov.sergei&lt;/groupId&gt;\n    &lt;artifactId&gt;COVID-Risk&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;COVID-Risk&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;native.maven.plugin.version&gt;0.9.18&lt;/native.maven.plugin.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;junit.version&gt;5.8.2&lt;/junit.version&gt;\n        &lt;maven.compiler.source&gt;${java.specification.version}&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;${java.specification.version}&lt;/maven.compiler.target&gt;\n        &lt;imageName&gt;COVID Risking&lt;/imageName&gt;\n        &lt;mainClass&gt;MainApp&lt;/mainClass&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.codehaus.mojo/exec-maven-plugin --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;19-ea+7&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;19-ea+7&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.controlsfx&lt;/groupId&gt;\n            &lt;artifactId&gt;controlsfx&lt;/artifactId&gt;\n            &lt;version&gt;11.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.dlsc.formsfx&lt;/groupId&gt;\n            &lt;artifactId&gt;formsfx-core&lt;/artifactId&gt;\n            &lt;version&gt;11.5.0&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\n                &lt;artifactId&gt;jib-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.4&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;to&gt;\n                        &lt;image&gt;docker.io/heartofglass404/COVID_Risking&lt;/image&gt;\n                    &lt;/to&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.10.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;19&lt;/source&gt;\n                    &lt;target&gt;19&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.8&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\n                        &lt;id&gt;default-cli&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;mainClass&gt;adianov.sergei.covidrisk/adianov.sergei.covidrisk.HelloApplication&lt;/mainClass&gt;\n                            &lt;launcher&gt;app&lt;/launcher&gt;\n                            &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\n                            &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\n                            &lt;noManPages&gt;true&lt;/noManPages&gt;\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\n                            &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>And error:</p>\n<blockquote>\n<p>[ERROR] Command execution failed.\norg.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\nat org.apache.commons.exec.DefaultExecutor.executeInternal (DefaultExecutor.java:404)\nat org.apache.commons.exec.DefaultExecutor.execute (DefaultExecutor.java:166)\nat org.codehaus.mojo.exec.ExecMojo.executeCommandLine (ExecMojo.java:1000)\nat org.codehaus.mojo.exec.ExecMojo.executeCommandLine (ExecMojo.java:947)\nat org.codehaus.mojo.exec.ExecMojo.execute (ExecMojo.java:471)\nat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\nat org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\nat org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\nat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\nat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\nat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\nat org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\nat org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\nat org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\nat org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\nat org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\nat org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\nat org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\nat jdk.internal.reflect.DirectMethodHandleAccessor.invoke (DirectMethodHandleAccessor.java:104)\nat java.lang.reflect.Method.invoke (Method.java:578)\nat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\nat org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\nat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\nat org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)</p>\n</blockquote>\n"},{"tags":["java","spring","jpa","h2"],"comments":[{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1674078869,"post_id":75165151,"comment_id":132641247,"body_markdown":"Based on your entity&#39;s annotations, JPA should not be cascading persist (or any other) operations from the entity to its related parent or root entities.  I see no reason to suppose that changing the database would affect that, exceptions notwithstanding.","body":"Based on your entity&#39;s annotations, JPA should not be cascading persist (or any other) operations from the entity to its related parent or root entities.  I see no reason to suppose that changing the database would affect that, exceptions notwithstanding."},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1674079104,"post_id":75165151,"comment_id":132641304,"body_markdown":"The code presented is not enough to diagnose the issue, but my guess would be that it is attributable to some other change that went live at or about the same time as the DB upgrade.","body":"The code presented is not enough to diagnose the issue, but my guess would be that it is attributable to some other change that went live at or about the same time as the DB upgrade."},{"owner":{"account_id":14179476,"reputation":2663,"user_id":10243634,"display_name":"Oboe"},"score":0,"creation_date":1674082870,"post_id":75165151,"comment_id":132642185,"body_markdown":"@John Bollinger Thanks for your comment. I don&#39;t think there is some other change. It&#39;s an In-Memory database that is created before each test. And I have done tests moving from one version to the other and back, and the exception is triggered only on the latest version.","body":"@John Bollinger Thanks for your comment. I don&#39;t think there is some other change. It&#39;s an In-Memory database that is created before each test. And I have done tests moving from one version to the other and back, and the exception is triggered only on the latest version."},{"owner":{"account_id":16247179,"reputation":7205,"user_id":11731987,"display_name":"Evgenij Ryazanov"},"score":1,"creation_date":1674087171,"post_id":75165151,"comment_id":132642830,"body_markdown":"It looks like a row with explicitly specified value of `id` column was inserted earlier. It isn&#39;t possible to mix insertions with custom `id` values and auto-generated `id` values into identity columns that easy, modern versions of H2 are standard-compliant by default in that area and don&#39;t change base value of identity column generator after insertion of explicitly specified values.","body":"It looks like a row with explicitly specified value of <code>id</code> column was inserted earlier. It isn&#39;t possible to mix insertions with custom <code>id</code> values and auto-generated <code>id</code> values into identity columns that easy, modern versions of H2 are standard-compliant by default in that area and don&#39;t change base value of identity column generator after insertion of explicitly specified values."},{"owner":{"account_id":14179476,"reputation":2663,"user_id":10243634,"display_name":"Oboe"},"score":0,"creation_date":1674144055,"post_id":75165151,"comment_id":132656397,"body_markdown":"@Evgenij Ryazanov You are right! That was the issue. Please add your comment as an answer, and I will accept it. Thanks for your help.","body":"@Evgenij Ryazanov You are right! That was the issue. Please add your comment as an answer, and I will accept it. Thanks for your help."}],"answers":[{"comments":[{"owner":{"account_id":14179476,"reputation":2663,"user_id":10243634,"display_name":"Oboe"},"score":0,"creation_date":1674233967,"post_id":75179625,"comment_id":132678167,"body_markdown":"Thanks for the answer. In my specific case, I didn&#39;t remove the tag `@GeneratedValue(strategy = GenerationType.IDENTITY)` from the `id` column. Also, I didn&#39;t have to add a generator. Finally, I didn&#39;t have to insert the entity with the `id`. Using your example, `INSERT INTO TEST(VAL) VALUES (110)` did the trick.","body":"Thanks for the answer. In my specific case, I didn&#39;t remove the tag <code>@GeneratedValue(strategy = GenerationType.IDENTITY)</code> from the <code>id</code> column. Also, I didn&#39;t have to add a generator. Finally, I didn&#39;t have to insert the entity with the <code>id</code>. Using your example, <code>INSERT INTO TEST(VAL) VALUES (110)</code> did the trick."}],"tags":[],"owner":{"account_id":16247179,"reputation":7205,"user_id":11731987,"display_name":"Evgenij Ryazanov"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674174975,"creation_date":1674174975,"answer_id":75179625,"question_id":75165151,"body_markdown":"Identity columns have a generator that produces values for each new row. If an identity column was declared as generated by default, it is possible to specify an own value for it, in this case generator isn&#39;t used. If the specified value is from the range of generated values it may conflict with values produced by this generator. For example, \r\n```lang-sql\r\nCREATE TABLE TEST(\r\n    ID BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,\r\n    VAL INTEGER\r\n);\r\nINSERT INTO TEST(ID, VAL) VALUES (1, 10);\r\nINSERT INTO TEST(ID, VAL) VALUES (DEFAULT, 20); // &lt;- generator also returns 1\r\n```\r\nTo avoid this, you should avoid insertion of custom values into these columns, always specify `DEFAULT` or don&#39;t include these columns into lists of columns in `INSERT` commands. If this is not an option, you need to adjust generator by yourself after such insertions:\r\n```lang-sql\r\nINSERT INTO TEST(ID, VAL) VALUES (1, 10);\r\nINSERT INTO TEST(ID, VAL) VALUES (2, 11);\r\n// ...\r\nALTER TABLE TEST ALTER COLUMN ID RESTART WITH (SELECT MAX(ID) FROM TEST) + 1;\r\n```\r\nYou can also specify a custom interval for identity column (with `GENERATED BY DEFAULT AS IDENTITY(START WITH 1000)`, for example) and use values outside of this interval for insertions with custom values.\r\n\r\n---\r\n\r\nThis issue doesn&#39;t appear with historic unsupported version of H2 database, because they incorrectly perform automatic adjustment of generator after insertions of custom values, this behavior was copied from auto-increment columns from MySQL.\r\n\r\nH2 2.\\*.\\* implements identity columns from the SQL Standard and doesn&#39;t adjust their generators by itself (excluding some compatibility modes where such adjustment is performed for compatibility with other database systems).\r\n\r\nAutomatic adjustment is actually insecure, because a user with limited access  permissions can exhaust generator of identity column with only one insertion of special value and break following insertions with generated values.","title":"Tree Data Structure with JPA and H2 Databse","body":"<p>Identity columns have a generator that produces values for each new row. If an identity column was declared as generated by default, it is possible to specify an own value for it, in this case generator isn't used. If the specified value is from the range of generated values it may conflict with values produced by this generator. For example,</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE TEST(\n    ID BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,\n    VAL INTEGER\n);\nINSERT INTO TEST(ID, VAL) VALUES (1, 10);\nINSERT INTO TEST(ID, VAL) VALUES (DEFAULT, 20); // &lt;- generator also returns 1\n</code></pre>\n<p>To avoid this, you should avoid insertion of custom values into these columns, always specify <code>DEFAULT</code> or don't include these columns into lists of columns in <code>INSERT</code> commands. If this is not an option, you need to adjust generator by yourself after such insertions:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>INSERT INTO TEST(ID, VAL) VALUES (1, 10);\nINSERT INTO TEST(ID, VAL) VALUES (2, 11);\n// ...\nALTER TABLE TEST ALTER COLUMN ID RESTART WITH (SELECT MAX(ID) FROM TEST) + 1;\n</code></pre>\n<p>You can also specify a custom interval for identity column (with <code>GENERATED BY DEFAULT AS IDENTITY(START WITH 1000)</code>, for example) and use values outside of this interval for insertions with custom values.</p>\n<hr />\n<p>This issue doesn't appear with historic unsupported version of H2 database, because they incorrectly perform automatic adjustment of generator after insertions of custom values, this behavior was copied from auto-increment columns from MySQL.</p>\n<p>H2 2.*.* implements identity columns from the SQL Standard and doesn't adjust their generators by itself (excluding some compatibility modes where such adjustment is performed for compatibility with other database systems).</p>\n<p>Automatic adjustment is actually insecure, because a user with limited access  permissions can exhaust generator of identity column with only one insertion of special value and break following insertions with generated values.</p>\n"}],"owner":{"account_id":14179476,"reputation":2663,"user_id":10243634,"display_name":"Oboe"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75179625,"answer_count":1,"score":0,"last_activity_date":1674174975,"creation_date":1674075036,"question_id":75165151,"body_markdown":"I have an entity class representing a tree data structure. \r\n\r\nWhen using [H2 Database Engine][1] v1.4.200, I can persist entities without a problem. \r\n\r\nHowever, when migrating to [H2][1]&#39;s latest version (v2.1.214), it throws an exception because of a `primary key` violation. It seems that is persisting the `parent` and the `root` with the entity (see exception below).\r\n\r\nAny idea what could have changed in [H2][1] from v1.4.200 to v2.1.214 that may be affecting the entity&#39;s persistence?\r\n\r\n***Node.java***\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import javax.persistence.Entity;\r\n    import javax.persistence.FetchType;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.JoinColumn;\r\n    import javax.persistence.ManyToOne;\r\n    import javax.persistence.Transient;\r\n\r\n    @Entity\r\n    public class Node {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate Long id;\r\n    \r\n    \tprivate String name;\r\n    \t\r\n    \t@ManyToOne(fetch = FetchType.EAGER)\r\n    \t@JoinColumn(name = &quot;parent_id&quot;)\r\n    \t@JsonIgnore\r\n    \tprivate Node parent;\r\n    \t\r\n    \t@ManyToOne(fetch = FetchType.EAGER)\r\n        @JoinColumn(name = &quot;root_id&quot;)\r\n        @JsonIgnore\r\n        public Node root;\r\n    \r\n    \t@Transient\r\n        public List&lt;Node&gt; children = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n***NodeController.java***\r\n\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n\r\n    @RestController\r\n    @RequestMapping(value = &quot;/api/node&quot;)\r\n    public class NodeController {\r\n\r\n        private NodeService nodeService;\r\n\r\n\t    public NodeController(NodeService nodeService) {\r\n\t\t    this.nodeService = nodeService;\r\n\t    }\r\n\r\n        @PostMapping(&quot;/save&quot;)\r\n        public ResponseEntity&lt;?&gt; create(@RequestBody Node node) {\r\n            Node entity = nodeService.save(node);\r\n            return new ResponseEntity&lt;&gt;(entity, HttpStatus.CREATED);\r\n        }\r\n\r\n    }\r\n\r\n***Exception***\r\n\r\n    o.h.engine.jdbc.spi.SqlExceptionHelper:\r\n        Unique index or primary key violation: &quot;PRIMARY KEY ON PUBLIC.NODE(ID) ( /* key:1 */ CAST(1 AS BIGINT), &#39;Node 1&#39;, NULL, NULL)&quot;; SQL statement:\r\n        insert into node (id, name, parent_id, root_id) values (default, ?, ?, ?) [23505-214]\r\n\r\n    .m.m.a.ExceptionHandlerExceptionResolver:\r\n        Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [&quot;PRIMARY KEY ON PUBLIC.NODE(ID) ( /* key:1 */ CAST(1 AS BIGINT), &#39;Node 1&#39;, NULL, NULL)&quot;; SQL statement:&lt;EOL&gt;insert into node (id, name, parent_id, root_id) values (default, ?, ?, ?) [23505-214]]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement]\r\n\r\n  [1]: https://www.h2database.com/html/main.html","title":"Tree Data Structure with JPA and H2 Databse","body":"<p>I have an entity class representing a tree data structure.</p>\n<p>When using <a href=\"https://www.h2database.com/html/main.html\" rel=\"nofollow noreferrer\">H2 Database Engine</a> v1.4.200, I can persist entities without a problem.</p>\n<p>However, when migrating to <a href=\"https://www.h2database.com/html/main.html\" rel=\"nofollow noreferrer\">H2</a>'s latest version (v2.1.214), it throws an exception because of a <code>primary key</code> violation. It seems that is persisting the <code>parent</code> and the <code>root</code> with the entity (see exception below).</p>\n<p>Any idea what could have changed in <a href=\"https://www.h2database.com/html/main.html\" rel=\"nofollow noreferrer\">H2</a> from v1.4.200 to v2.1.214 that may be affecting the entity's persistence?</p>\n<p><em><strong>Node.java</strong></em></p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\nimport javax.persistence.Entity;\nimport javax.persistence.FetchType;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.ManyToOne;\nimport javax.persistence.Transient;\n\n@Entity\npublic class Node {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private String name;\n    \n    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;parent_id&quot;)\n    @JsonIgnore\n    private Node parent;\n    \n    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;root_id&quot;)\n    @JsonIgnore\n    public Node root;\n\n    @Transient\n    public List&lt;Node&gt; children = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<p><em><strong>NodeController.java</strong></em></p>\n<pre><code>import org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequestMapping(value = &quot;/api/node&quot;)\npublic class NodeController {\n\n    private NodeService nodeService;\n\n    public NodeController(NodeService nodeService) {\n        this.nodeService = nodeService;\n    }\n\n    @PostMapping(&quot;/save&quot;)\n    public ResponseEntity&lt;?&gt; create(@RequestBody Node node) {\n        Node entity = nodeService.save(node);\n        return new ResponseEntity&lt;&gt;(entity, HttpStatus.CREATED);\n    }\n\n}\n</code></pre>\n<p><em><strong>Exception</strong></em></p>\n<pre><code>o.h.engine.jdbc.spi.SqlExceptionHelper:\n    Unique index or primary key violation: &quot;PRIMARY KEY ON PUBLIC.NODE(ID) ( /* key:1 */ CAST(1 AS BIGINT), 'Node 1', NULL, NULL)&quot;; SQL statement:\n    insert into node (id, name, parent_id, root_id) values (default, ?, ?, ?) [23505-214]\n\n.m.m.a.ExceptionHandlerExceptionResolver:\n    Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [&quot;PRIMARY KEY ON PUBLIC.NODE(ID) ( /* key:1 */ CAST(1 AS BIGINT), 'Node 1', NULL, NULL)&quot;; SQL statement:&lt;EOL&gt;insert into node (id, name, parent_id, root_id) values (default, ?, ?, ?) [23505-214]]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement]\n</code></pre>\n"},{"tags":["java","spring-boot","spring-data","spring-data-jpa"],"comments":[{"owner":{"account_id":1178649,"reputation":5261,"user_id":1154065,"accept_rate":92,"display_name":"isah"},"score":0,"creation_date":1485443126,"post_id":41876122,"comment_id":70934760,"body_markdown":"There isn&#39;t any, what&#39;s stopping you from doing it yourself?","body":"There isn&#39;t any, what&#39;s stopping you from doing it yourself?"},{"owner":{"account_id":4547683,"reputation":3756,"user_id":3693726,"accept_rate":92,"display_name":"Deniss M."},"score":0,"creation_date":1485443193,"post_id":41876122,"comment_id":70934804,"body_markdown":"@isah you mean create such a function for spring data myself?","body":"@isah you mean create such a function for spring data myself?"},{"owner":{"account_id":1178649,"reputation":5261,"user_id":1154065,"accept_rate":92,"display_name":"isah"},"score":0,"creation_date":1485443390,"post_id":41876122,"comment_id":70934932,"body_markdown":"Create such a function for yourself I mean, wherever you&#39;re calling this repository, after loading the list, you can map it to `Map` with a Java 8 one-liner.","body":"Create such a function for yourself I mean, wherever you&#39;re calling this repository, after loading the list, you can map it to <code>Map</code> with a Java 8 one-liner."},{"owner":{"account_id":4547683,"reputation":3756,"user_id":3693726,"accept_rate":92,"display_name":"Deniss M."},"score":0,"creation_date":1485443688,"post_id":41876122,"comment_id":70935158,"body_markdown":"@isah that is one possibility. I am not sure if it is good in terms of performance. Iteration takes time, especially when my `&lt;List&gt;` contains 10 000 - 100 000 `Transaction` objects. I have to match id&#39;s of two `&lt;List&gt;` with `Transaction` objects and was wondering if I can shave some time off by using `*Map` constructions when doing matching. But if I can only get a `&lt;List&gt;` and then convert it to `*Map` and then do the matching, I am not quite sure this will bring me any additional improvements in speed.","body":"@isah that is one possibility. I am not sure if it is good in terms of performance. Iteration takes time, especially when my <code>&lt;List&gt;</code> contains 10 000 - 100 000 <code>Transaction</code> objects. I have to match id&#39;s of two <code>&lt;List&gt;</code> with <code>Transaction</code> objects and was wondering if I can shave some time off by using <code>*Map</code> constructions when doing matching. But if I can only get a <code>&lt;List&gt;</code> and then convert it to <code>*Map</code> and then do the matching, I am not quite sure this will bring me any additional improvements in speed."},{"owner":{"account_id":4271284,"reputation":12416,"user_id":3493036,"accept_rate":81,"display_name":"Patrick"},"score":0,"creation_date":1485444944,"post_id":41876122,"comment_id":70936131,"body_markdown":"How would your sql look like to? What will be the key and whats the value?","body":"How would your sql look like to? What will be the key and whats the value?"},{"owner":{"account_id":4547683,"reputation":3756,"user_id":3693726,"accept_rate":92,"display_name":"Deniss M."},"score":0,"creation_date":1485445044,"post_id":41876122,"comment_id":70936212,"body_markdown":"@Patrick key would be the `id` and value = `Transaction` object","body":"@Patrick key would be the <code>id</code> and value = <code>Transaction</code> object"},{"owner":{"account_id":4271284,"reputation":12416,"user_id":3493036,"accept_rate":81,"display_name":"Patrick"},"score":0,"creation_date":1485445348,"post_id":41876122,"comment_id":70936461,"body_markdown":"and `id` is the same `id` of its Transaction in value?","body":"and <code>id</code> is the same <code>id</code> of its Transaction in value?"},{"owner":{"account_id":4547683,"reputation":3756,"user_id":3693726,"accept_rate":92,"display_name":"Deniss M."},"score":0,"creation_date":1485445382,"post_id":41876122,"comment_id":70936489,"body_markdown":"@Patrick yes that is true","body":"@Patrick yes that is true"},{"owner":{"account_id":4271284,"reputation":12416,"user_id":3493036,"accept_rate":81,"display_name":"Patrick"},"score":0,"creation_date":1485445797,"post_id":41876122,"comment_id":70936823,"body_markdown":"can you provide more information in your question what you really want to do and how the map should look like. I think you will also use a map&lt;Long, List&lt;Transaction&gt;&gt;?","body":"can you provide more information in your question what you really want to do and how the map should look like. I think you will also use a map&lt;Long, List&lt;Transaction&gt;&gt;?"},{"owner":{"account_id":4547683,"reputation":3756,"user_id":3693726,"accept_rate":92,"display_name":"Deniss M."},"score":0,"creation_date":1485445925,"post_id":41876122,"comment_id":70936927,"body_markdown":"@Patrick map will look like this: `Map&lt;Long, Transaction&gt; transactionMap = new HashMap&lt;Long, Transaction&gt;();`","body":"@Patrick map will look like this: <code>Map&lt;Long, Transaction&gt; transactionMap = new HashMap&lt;Long, Transaction&gt;();</code>"},{"owner":{"account_id":1143154,"reputation":19805,"user_id":1126526,"accept_rate":90,"display_name":"manish"},"score":1,"creation_date":1485490082,"post_id":41876122,"comment_id":70955891,"body_markdown":"[Map is not a supported return type for Spring Data repository methods](http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#_supported_query_return_types) so @Patrick&#39;s answer below is the correct solution.","body":"<a href=\"http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#_supported_query_return_types\" rel=\"nofollow noreferrer\">Map is not a supported return type for Spring Data repository methods</a> so @Patrick&#39;s answer below is the correct solution."},{"owner":{"account_id":1507058,"reputation":2933,"user_id":1410212,"accept_rate":88,"display_name":"lilalinux"},"score":1,"creation_date":1503476389,"post_id":41876122,"comment_id":78625747,"body_markdown":"@DenissM.The iteration will result in linear time complexity, which you will get anyway, if you need to visit each item, so this is not a problem: https://en.wikipedia.org/wiki/Time_complexity","body":"@DenissM.The iteration will result in linear time complexity, which you will get anyway, if you need to visit each item, so this is not a problem: <a href=\"https://en.wikipedia.org/wiki/Time_complexity\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Time_complexity</a>"}],"answers":[{"tags":[],"owner":{"account_id":4271284,"reputation":12416,"user_id":3493036,"accept_rate":81,"display_name":"Patrick"},"comment_count":0,"down_vote_count":1,"up_vote_count":49,"is_accepted":true,"score":48,"last_activity_date":1503475494,"creation_date":1485446634,"answer_id":41877736,"question_id":41876122,"body_markdown":"I dont think you will find an easier solution as to create a simple one liner to convert your result to a map. It is simple and fast with java 8 lambdas:\r\n\r\n    Map&lt;Long, Transaction&gt; transactionMap = transactionList.stream()\r\n             .collect(Collectors.toMap(Transaction::getId, Function.identity()));\r\n","title":"Spring Data: JPA repository findAll() to return *Map instead of List?","body":"<p>I dont think you will find an easier solution as to create a simple one liner to convert your result to a map. It is simple and fast with java 8 lambdas:</p>\n\n<pre><code>Map&lt;Long, Transaction&gt; transactionMap = transactionList.stream()\n         .collect(Collectors.toMap(Transaction::getId, Function.identity()));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9366757,"reputation":793,"user_id":8031498,"accept_rate":67,"display_name":"Steve Storck"},"score":15,"creation_date":1605782945,"post_id":51184124,"comment_id":114760260,"body_markdown":"While I think the method of using the stream to transform the list to a map is a straightforward and decent approach, it does not belong in the repository.  Repositories are for CRUD and finders.  The transformation is business logic; therefore, it belongs in service code, not in repository code.  As software developers, we need to practice proper separation of concerns.","body":"While I think the method of using the stream to transform the list to a map is a straightforward and decent approach, it does not belong in the repository.  Repositories are for CRUD and finders.  The transformation is business logic; therefore, it belongs in service code, not in repository code.  As software developers, we need to practice proper separation of concerns."},{"owner":{"account_id":2904336,"reputation":1326,"user_id":2499285,"accept_rate":86,"display_name":"Matt R"},"score":0,"creation_date":1653476606,"post_id":51184124,"comment_id":127860302,"body_markdown":"Be that as it may, the OP asked how to make the JPA repo return a map instead of list. While it may be better architecture to wrap this in a middle layer, it answers the question","body":"Be that as it may, the OP asked how to make the JPA repo return a map instead of list. While it may be better architecture to wrap this in a middle layer, it answers the question"},{"owner":{"account_id":3149253,"reputation":1255,"user_id":2663029,"accept_rate":29,"display_name":"bitdancer"},"score":0,"creation_date":1674156612,"post_id":51184124,"comment_id":132660641,"body_markdown":"[Spring Data - Supported query return types](https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#appendix.query.return.types)","body":"<a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#appendix.query.return.types\" rel=\"nofollow noreferrer\">Spring Data - Supported query return types</a>"}],"tags":[],"owner":{"account_id":2904336,"reputation":1326,"user_id":2499285,"accept_rate":86,"display_name":"Matt R"},"comment_count":3,"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1530769617,"creation_date":1530769617,"answer_id":51184124,"question_id":41876122,"body_markdown":"Just had to solve something similar and Patricks answer helped but it can be improved by indicating where to add it. \r\n\r\nTo to make it appear like the JPA repo returns a map, an improvement would to wrap this up in a default method in the repository interface. Saves you having to perform a stream in all the consuming classes.\r\n\r\n    @Repository\r\n    public interface DBReportRepository extends JpaRepository&lt;TransactionModel, Long&gt; {\r\n\r\n        List&lt;TransactionModel&gt; findAll();\r\n        \r\n        default Map&lt;Long, TransactionModel&gt; findAllMap() {\r\n            return findAll().stream().collect(Collectors.toMap(TransactionModel::getId, v -&gt; v));\r\n        }\r\n\r\n        List&lt;TransactionModel&gt; findByClientId(Long id);\r\n\r\n        default Map&lt;Long, TransactionModel&gt; findByClientIdMap(Long id) {\r\n            return findByClientId(id).stream().collect(Collectors.toMap(TransactionModel::getId, v -&gt; v));\r\n        }\r\n    }","title":"Spring Data: JPA repository findAll() to return *Map instead of List?","body":"<p>Just had to solve something similar and Patricks answer helped but it can be improved by indicating where to add it. </p>\n\n<p>To to make it appear like the JPA repo returns a map, an improvement would to wrap this up in a default method in the repository interface. Saves you having to perform a stream in all the consuming classes.</p>\n\n<pre><code>@Repository\npublic interface DBReportRepository extends JpaRepository&lt;TransactionModel, Long&gt; {\n\n    List&lt;TransactionModel&gt; findAll();\n\n    default Map&lt;Long, TransactionModel&gt; findAllMap() {\n        return findAll().stream().collect(Collectors.toMap(TransactionModel::getId, v -&gt; v));\n    }\n\n    List&lt;TransactionModel&gt; findByClientId(Long id);\n\n    default Map&lt;Long, TransactionModel&gt; findByClientIdMap(Long id) {\n        return findByClientId(id).stream().collect(Collectors.toMap(TransactionModel::getId, v -&gt; v));\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":168293,"reputation":1994,"user_id":393657,"display_name":"stryba"},"score":0,"creation_date":1630568980,"post_id":68255215,"comment_id":121993392,"body_markdown":"How is that another solution? Even though this does not work, did you even test this?","body":"How is that another solution? Even though this does not work, did you even test this?"},{"owner":{"account_id":8893009,"reputation":348,"user_id":6638958,"display_name":"Karim M. Fadel"},"score":0,"creation_date":1631089325,"post_id":68255215,"comment_id":122126483,"body_markdown":"sure, I tested it. but you couldn&#39;t implement a method to return a map directly in the repository. you need to implement the method in the repository class that return List then get this list and convert it to a map (using a above code)","body":"sure, I tested it. but you couldn&#39;t implement a method to return a map directly in the repository. you need to implement the method in the repository class that return List then get this list and convert it to a map (using a above code)"},{"owner":{"account_id":168293,"reputation":1994,"user_id":393657,"display_name":"stryba"},"score":1,"creation_date":1631178692,"post_id":68255215,"comment_id":122154704,"body_markdown":"No you did not test it. At least not the version you posted as the return type Map&lt;Long, Transaction&gt; isn&#39;t even correct.","body":"No you did not test it. At least not the version you posted as the return type Map&lt;Long, Transaction&gt; isn&#39;t even correct."}],"tags":[],"owner":{"account_id":8893009,"reputation":348,"user_id":6638958,"display_name":"Karim M. Fadel"},"comment_count":3,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1625483817,"creation_date":1625483817,"answer_id":68255215,"question_id":41876122,"body_markdown":"\r\nAnother Solution use java 8 lambdas:\r\n\r\nUsing a **groupingBy** method of Collectors that grouping transactionList by ID and storing results in a Map instance\r\n\r\n    Map&lt;Long, Transaction&gt; transactionMap = transactionList.stream().collect(Collectors.groupingBy(v-&gt;v.getId()));","title":"Spring Data: JPA repository findAll() to return *Map instead of List?","body":"<p>Another Solution use java 8 lambdas:</p>\n<p>Using a <strong>groupingBy</strong> method of Collectors that grouping transactionList by ID and storing results in a Map instance</p>\n<pre><code>Map&lt;Long, Transaction&gt; transactionMap = transactionList.stream().collect(Collectors.groupingBy(v-&gt;v.getId()));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13721821,"reputation":1820,"user_id":9901515,"display_name":"csalmhof"},"score":0,"creation_date":1672478812,"post_id":74963384,"comment_id":132296037,"body_markdown":"This does not provide an answer to the question. Once you have sufficient [reputation](https://stackoverflow.com/help/whats-reputation) you will be able to [comment on any post](https://stackoverflow.com/help/privileges/comment); instead, [provide answers that don&#39;t require clarification from the asker](https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead). - [From Review](/review/late-answers/33527497)","body":"This does not provide an answer to the question. Once you have sufficient <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a> you will be able to <a href=\"https://stackoverflow.com/help/privileges/comment\">comment on any post</a>; instead, <a href=\"https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead\">provide answers that don&#39;t require clarification from the asker</a>. - <a href=\"/review/late-answers/33527497\">From Review</a>"}],"tags":[],"owner":{"account_id":21347392,"reputation":95,"user_id":15717256,"display_name":"Ems"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1672415371,"creation_date":1672415371,"answer_id":74963384,"question_id":41876122,"body_markdown":"Creating a map after having retrieved your entities is not a solution if you are trying to improve your performance. It will take longer to retrieve the whole entity and then add the selected fields into a map, than to directly retrieve a map, or a list.","title":"Spring Data: JPA repository findAll() to return *Map instead of List?","body":"<p>Creating a map after having retrieved your entities is not a solution if you are trying to improve your performance. It will take longer to retrieve the whole entity and then add the selected fields into a map, than to directly retrieve a map, or a list.</p>\n"},{"tags":[],"owner":{"account_id":3149253,"reputation":1255,"user_id":2663029,"accept_rate":29,"display_name":"bitdancer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674172612,"creation_date":1674169410,"answer_id":75179156,"question_id":41876122,"body_markdown":"You could get your map from a custom streamable wrapper type which is documented in [Spring Data JPA reference](https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.collections-and-iterables.streamable-wrapper).\r\n\r\n```java\r\n@RequiredArgsConstructor(staticName = &quot;of&quot;)\r\npublic class TransactionModels implements Streamable&lt;TransactionModel&gt; {\r\n    \r\n    private final Streamable&lt;TransactionModel&gt; streamable;\r\n\r\n    @Override\r\n    public Iterator&lt;TransactionModel&gt; iterator() {\r\n        return streamable.iterator();\r\n    }\r\n\r\n    public Map&lt;Long, TransactionModel&gt; asMap() {\r\n        return streamable.stream()\r\n            .collect(Collectors.toMap(Transaction::getId, Function.identity()));\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n@Repository\r\npublic interface DBReportRepository extends JpaRepository&lt;TransactionModel, Long&gt; {\r\n\r\n    TransactionModels findAll();\r\n\r\n    TransactionModels findByClientId(Long id);\r\n\r\n}\r\n```\r\n\r\nThe reason why you cannot get your desired `Map&lt;Long, TransactionModel&gt;` method in Spring Data is that `java.util.Map&lt;K,V&gt;` will be delegated to `org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution` instead of `org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution` by default. And it&#39;s reasonable becuase [`Map` is not extending from `Collection` in Java](https://stackoverflow.com/questions/2651819/why-doesnt-java-map-extend-collection). But in your case you would like to use `Map` as a &quot;collection&quot;. Fortunately you can [extend Spring Data repository with custom methods](https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.single-repository-behavior) which could return any type you like. ","title":"Spring Data: JPA repository findAll() to return *Map instead of List?","body":"<p>You could get your map from a custom streamable wrapper type which is documented in <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.collections-and-iterables.streamable-wrapper\" rel=\"nofollow noreferrer\">Spring Data JPA reference</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequiredArgsConstructor(staticName = &quot;of&quot;)\npublic class TransactionModels implements Streamable&lt;TransactionModel&gt; {\n    \n    private final Streamable&lt;TransactionModel&gt; streamable;\n\n    @Override\n    public Iterator&lt;TransactionModel&gt; iterator() {\n        return streamable.iterator();\n    }\n\n    public Map&lt;Long, TransactionModel&gt; asMap() {\n        return streamable.stream()\n            .collect(Collectors.toMap(Transaction::getId, Function.identity()));\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface DBReportRepository extends JpaRepository&lt;TransactionModel, Long&gt; {\n\n    TransactionModels findAll();\n\n    TransactionModels findByClientId(Long id);\n\n}\n</code></pre>\n<p>The reason why you cannot get your desired <code>Map&lt;Long, TransactionModel&gt;</code> method in Spring Data is that <code>java.util.Map&lt;K,V&gt;</code> will be delegated to <code>org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution</code> instead of <code>org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution</code> by default. And it's reasonable becuase <a href=\"https://stackoverflow.com/questions/2651819/why-doesnt-java-map-extend-collection\"><code>Map</code> is not extending from <code>Collection</code> in Java</a>. But in your case you would like to use <code>Map</code> as a &quot;collection&quot;. Fortunately you can <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.single-repository-behavior\" rel=\"nofollow noreferrer\">extend Spring Data repository with custom methods</a> which could return any type you like.</p>\n"}],"owner":{"account_id":4547683,"reputation":3756,"user_id":3693726,"accept_rate":92,"display_name":"Deniss M."},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71594,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":41877736,"answer_count":5,"score":29,"last_activity_date":1674172612,"creation_date":1485442133,"question_id":41876122,"body_markdown":"I have a Spring Data JPA repository interface that looks something like this:\r\n\r\n    @Repository\r\n    public interface DBReportRepository extends JpaRepository&lt;TransactionModel, Long&gt; {\r\n   \r\n    \tList&lt;TransactionModel&gt; findAll();\r\n        List&lt;TransactionModel&gt; findByClientId(Long id);\r\n    }\r\n\r\nIs there a workaround to make the same but for a Collection to be returned of type `HashMap&lt;K, V&gt;`? I&#39;ve looked through the Spring Data classes and couldn&#39;t find anything other than List&lt;&gt; return values. \r\n\r\n","title":"Spring Data: JPA repository findAll() to return *Map instead of List?","body":"<p>I have a Spring Data JPA repository interface that looks something like this:</p>\n\n<pre><code>@Repository\npublic interface DBReportRepository extends JpaRepository&lt;TransactionModel, Long&gt; {\n\n    List&lt;TransactionModel&gt; findAll();\n    List&lt;TransactionModel&gt; findByClientId(Long id);\n}\n</code></pre>\n\n<p>Is there a workaround to make the same but for a Collection to be returned of type <code>HashMap&lt;K, V&gt;</code>? I've looked through the Spring Data classes and couldn't find anything other than List&lt;> return values. </p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":322748,"reputation":36417,"user_id":642340,"accept_rate":83,"display_name":"soulcheck"},"score":0,"creation_date":1395829127,"post_id":22657783,"comment_id":34511805,"body_markdown":"here&#39;s some more info on [brancing statements in java](http://docs.oracle.com/javase/tutorial/java/nutsandbolts/branch.html)","body":"here&#39;s some more info on <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/branch.html\" rel=\"nofollow noreferrer\">brancing statements in java</a>"},{"owner":{"account_id":2648879,"reputation":4294,"user_id":2291056,"display_name":"Kuchi"},"score":0,"creation_date":1395829143,"post_id":22657783,"comment_id":34511815,"body_markdown":"It&#39;s basically a goto. See: http://stackoverflow.com/questions/2430782/alternative-to-a-goto-statement-in-java","body":"It&#39;s basically a goto. See: <a href=\"http://stackoverflow.com/questions/2430782/alternative-to-a-goto-statement-in-java\" title=\"alternative to a goto statement in java\">stackoverflow.com/questions/2430782/&hellip;</a>"},{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1395829207,"post_id":22657783,"comment_id":34511853,"body_markdown":"Spaghetti code ensues.","body":"Spaghetti code ensues."},{"owner":{"account_id":29346,"reputation":4188,"user_id":79230,"accept_rate":88,"display_name":"Averroes"},"score":0,"creation_date":1395829344,"post_id":22657783,"comment_id":34511957,"body_markdown":"Also more info here: http://stackoverflow.com/questions/12070942/whats-the-point-of-using-labeled-statements-in-java","body":"Also more info here: <a href=\"http://stackoverflow.com/questions/12070942/whats-the-point-of-using-labeled-statements-in-java\" title=\"whats the point of using labeled statements in java\">stackoverflow.com/questions/12070942/&hellip;</a>"},{"owner":{"account_id":1240857,"reputation":2683,"user_id":1203489,"accept_rate":48,"display_name":"Sikorski"},"score":0,"creation_date":1395829366,"post_id":22657783,"comment_id":34511968,"body_markdown":"check this out too : http://stackoverflow.com/questions/5057931/using-labels-in-java-without-loops","body":"check this out too : <a href=\"http://stackoverflow.com/questions/5057931/using-labels-in-java-without-loops\" title=\"using labels in java without loops\">stackoverflow.com/questions/5057931/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":3,"creation_date":1395829247,"post_id":22657841,"comment_id":34511883,"body_markdown":"It is imho entirely different from `goto`. It only allows you to specify which scope you want to `break` out of or `continue`, not arbitrary jumps like you can with `goto`","body":"It is imho entirely different from <code>goto</code>. It only allows you to specify which scope you want to <code>break</code> out of or <code>continue</code>, not arbitrary jumps like you can with <code>goto</code>"},{"owner":{"account_id":3553358,"reputation":1317,"user_id":2967673,"display_name":"anonymous"},"score":0,"creation_date":1395829412,"post_id":22657841,"comment_id":34512010,"body_markdown":"@MarkRotteveel I concur. A goto statement means execution will jump to a particular line.","body":"@MarkRotteveel I concur. A goto statement means execution will jump to a particular line."},{"owner":{"account_id":3537759,"reputation":2321,"user_id":2955605,"display_name":"Slimu"},"score":1,"creation_date":1395829413,"post_id":22657841,"comment_id":34512011,"body_markdown":"It is a bit similar since you jump over code that would normally be executed. Of course it can be used only with break and continue and it doesn&#39;t have the same power of jump like goto&#39;s have in some languages.","body":"It is a bit similar since you jump over code that would normally be executed. Of course it can be used only with break and continue and it doesn&#39;t have the same power of jump like goto&#39;s have in some languages."},{"owner":{"account_id":3537759,"reputation":2321,"user_id":2955605,"display_name":"Slimu"},"score":0,"creation_date":1395830012,"post_id":22657841,"comment_id":34512436,"body_markdown":"This is almost a religion discussion since each person may think that a goto can jump anywhere so my above statement seems wrong, but on the other side, it&#39;s worth nothing that goto is just a transfer of control to another line in the program, but not like a function does.","body":"This is almost a religion discussion since each person may think that a goto can jump anywhere so my above statement seems wrong, but on the other side, it&#39;s worth nothing that goto is just a transfer of control to another line in the program, but not like a function does."}],"tags":[],"owner":{"account_id":3537759,"reputation":2321,"user_id":2955605,"display_name":"Slimu"},"comment_count":4,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1395829123,"creation_date":1395829123,"answer_id":22657841,"question_id":22657783,"body_markdown":"This is a syntax a bit similar to old goto instructions. When a break occurs, you will exit from the loop right after the &quot;z&quot;, in this case the most outer for loop. This works also with continue statements.","title":"What does the colon do in Java?","body":"<p>This is a syntax a bit similar to old goto instructions. When a break occurs, you will exit from the loop right after the \"z\", in this case the most outer for loop. This works also with continue statements.</p>\n"},{"tags":[],"owner":{"account_id":1103578,"reputation":21525,"user_id":1095451,"accept_rate":58,"display_name":"Kashif Nazar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395829285,"creation_date":1395829285,"answer_id":22657912,"question_id":22657783,"body_markdown":"It&#39;s a label. You can use `continue` keyword to skip the current iteration and to reach to this point, also skipping the innermost loop.","title":"What does the colon do in Java?","body":"<p>It's a label. You can use <code>continue</code> keyword to skip the current iteration and to reach to this point, also skipping the innermost loop.</p>\n"},{"tags":[],"owner":{"account_id":52616,"reputation":1043001,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1395830090,"creation_date":1395829324,"answer_id":22657930,"question_id":22657783,"body_markdown":"It a [label][1] for a *directed [`break`][2]* (or a [*directed `continue`*][3]). See comments added below:\r\n\r\n    public void go(){\r\n        String o = &quot;&quot;;\r\n        z:                       // &lt;=== Labels the loop that follows\r\n        for (int x = 0; x&lt;3; x++) {\r\n            for (int y = 0; y&lt;2;y++) {\r\n                if (x==1) \r\n                    break;       // &lt;=== Not directed, only breaks the inner loop\r\n                if (x==2 &amp;&amp; y==1)\r\n                    break z;     // &lt;=== Directed break, breaks the loop labelled with `z`\r\n                o = o + x+y;\r\n            }\r\n        }\r\n    \r\n        System.out.println(o);\r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-14.html#jls-14.7\r\n  [2]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-14.html#jls-14.15\r\n  [3]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-14.html#jls-14.16","title":"What does the colon do in Java?","body":"<p>It a <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-14.html#jls-14.7\" rel=\"nofollow\">label</a> for a <em>directed <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-14.html#jls-14.15\" rel=\"nofollow\"><code>break</code></a></em> (or a <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-14.html#jls-14.16\" rel=\"nofollow\"><em>directed <code>continue</code></em></a>). See comments added below:</p>\n\n<pre><code>public void go(){\n    String o = \"\";\n    z:                       // &lt;=== Labels the loop that follows\n    for (int x = 0; x&lt;3; x++) {\n        for (int y = 0; y&lt;2;y++) {\n            if (x==1) \n                break;       // &lt;=== Not directed, only breaks the inner loop\n            if (x==2 &amp;&amp; y==1)\n                break z;     // &lt;=== Directed break, breaks the loop labelled with `z`\n            o = o + x+y;\n        }\n    }\n\n    System.out.println(o);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2185975,"reputation":1589,"user_id":1934396,"accept_rate":88,"display_name":"Christian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395829401,"creation_date":1395829401,"answer_id":22657966,"question_id":22657783,"body_markdown":"Basically it is a jump mark. See here: http://docs.oracle.com/javase/tutorial/java/nutsandbolts/branch.html (there is a jump mark called search implemented and explained)","title":"What does the colon do in Java?","body":"<p>Basically it is a jump mark. See here: <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/branch.html\" rel=\"nofollow\">http://docs.oracle.com/javase/tutorial/java/nutsandbolts/branch.html</a> (there is a jump mark called search implemented and explained)</p>\n"}],"owner":{"account_id":4231318,"reputation":1,"user_id":3463561,"display_name":"user3463561"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1245,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1674172540,"creation_date":1395828987,"question_id":22657783,"body_markdown":"    public void go(){\r\n        String o = &quot;&quot;;\r\n        z:\r\n    \tfor (int x = 0; x&lt;3; x++) {\r\n    \t\tfor (int y = 0; y&lt;2;y++) {\r\n    \t\t\tif (x==1) \r\n    \t\t\t\tbreak;\r\n    \t\t\tif (x==2 &amp;&amp; y==1)\r\n    \t\t\t\tbreak z;\r\n    \t\t\to = o + x+y;\r\n    \t\t}\r\n    \t}\r\n\r\n    \tSystem.out.println(o);\r\n    }\r\n    \t\t\r\n\r\n","title":"What does the colon do in Java?","body":"<pre><code>public void go(){\n    String o = \"\";\n    z:\n    for (int x = 0; x&lt;3; x++) {\n        for (int y = 0; y&lt;2;y++) {\n            if (x==1) \n                break;\n            if (x==2 &amp;&amp; y==1)\n                break z;\n            o = o + x+y;\n        }\n    }\n\n    System.out.println(o);\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":1074107,"reputation":238,"user_id":1072625,"display_name":"Neeraj"},"score":0,"creation_date":1673553573,"post_id":75100618,"comment_id":132531437,"body_markdown":"This is a duplicate of this question - https://stackoverflow.com/questions/75088925/manually-authenticate-user-with-authenticationmanager-throws-illegalargumentexce/75089627#75089627.  Since you are inputting a password with a prefix {bcrypt} you need a DelegationPasswordEncoder. See this link for more details - https://www.baeldung.com/spring-security-5-password-storage","body":"This is a duplicate of this question - <a href=\"https://stackoverflow.com/questions/75088925/manually-authenticate-user-with-authenticationmanager-throws-illegalargumentexce/75089627#75089627\" title=\"manually authenticate user with authenticationmanager throws illegalargumentexce\">stackoverflow.com/questions/75088925/&hellip;</a>.  Since you are inputting a password with a prefix {bcrypt} you need a DelegationPasswordEncoder. See this link for more details - <a href=\"https://www.baeldung.com/spring-security-5-password-storage\" rel=\"nofollow noreferrer\">baeldung.com/spring-security-5-password-storage</a>"},{"owner":{"account_id":27512708,"reputation":1,"user_id":20994302,"display_name":"thiagoS"},"score":0,"creation_date":1673554618,"post_id":75100618,"comment_id":132531733,"body_markdown":"I&#39;ve edited the post trying to best awnser both responses, if any of you could add any further input, it would be appreciated.","body":"I&#39;ve edited the post trying to best awnser both responses, if any of you could add any further input, it would be appreciated."},{"owner":{"account_id":1074107,"reputation":238,"user_id":1072625,"display_name":"Neeraj"},"score":0,"creation_date":1673565858,"post_id":75100618,"comment_id":132534429,"body_markdown":"you do not need 2 password encoders, you can set the default password encoder in `passworEncoder.setDefaultPasswordEncoderForMatches` to the bcrypt if you have passwords with no prefix and for others the other hashmap will determine the encoder to use using the password prefix... so you should remove the BCryptPasswordEncoder  bean config and set the delegating password encoder bean in ur auth manager builder.. try and let us know..","body":"you do not need 2 password encoders, you can set the default password encoder in <code>passworEncoder.setDefaultPasswordEncoderForMatches</code> to the bcrypt if you have passwords with no prefix and for others the other hashmap will determine the encoder to use using the password prefix... so you should remove the BCryptPasswordEncoder  bean config and set the delegating password encoder bean in ur auth manager builder.. try and let us know.."},{"owner":{"account_id":27512708,"reputation":1,"user_id":20994302,"display_name":"thiagoS"},"score":0,"creation_date":1673621953,"post_id":75100618,"comment_id":132547083,"body_markdown":"@Neeraj, I&#39;ve tried what you told me, but now I get a new exception thrown, if you&#39;ve faced it in the past or know how to solve it, I would appreciate a lot if you could help me.","body":"@Neeraj, I&#39;ve tried what you told me, but now I get a new exception thrown, if you&#39;ve faced it in the past or know how to solve it, I would appreciate a lot if you could help me."},{"owner":{"account_id":1074107,"reputation":238,"user_id":1072625,"display_name":"Neeraj"},"score":0,"creation_date":1673718629,"post_id":75100618,"comment_id":132562603,"body_markdown":"When you say - password is being sent like {bcrypt}*** do you mean the user is inputting password like that? Just to double check the way it should be - password in db is like {bcrypt}***and user inputs password normally e.g. pass123..","body":"When you say - password is being sent like {bcrypt}*** do you mean the user is inputting password like that? Just to double check the way it should be - password in db is like {bcrypt}***and user inputs password normally e.g. pass123.."}],"answers":[{"tags":[],"owner":{"account_id":27512708,"reputation":1,"user_id":20994302,"display_name":"thiagoS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674172243,"creation_date":1674172138,"answer_id":75179393,"question_id":75100618,"body_markdown":"While I was debugging I found out that the authenticationManager was using a DaoAuthenticationProvider that contained the wrong passwordEncoder. Defining a Bean of a custom DaoAuthenticationProvider like so: \r\n\r\n    @Bean\r\n    public DaoAuthenticationProvider authProvider() {\r\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\r\n        authProvider.setUserDetailsService(userDetailsService);\r\n        authProvider.setPasswordEncoder(bCryptPasswordEncoder);\r\n        return authProvider;\r\n    }\r\n\r\nAnd setting my AuthenticationManagerBuilder like so:\r\n\r\n    @Override\r\n        protected void configure(AuthenticationManagerBuilder auth){\r\n            auth.authenticationProvider(authProvider());\r\n    }\r\n\r\nInside the WebSecurity.java configuration file solved all my problems.\r\n\r\nReference: [Custom Authentication Provider][1]\r\n\r\n\r\n  [1]: https://www.javadevjournal.com/spring-security/spring-security-authentication-providers/","title":"Manual authentication with authenticationManager spring boot java","body":"<p>While I was debugging I found out that the authenticationManager was using a DaoAuthenticationProvider that contained the wrong passwordEncoder. Defining a Bean of a custom DaoAuthenticationProvider like so:</p>\n<pre><code>@Bean\npublic DaoAuthenticationProvider authProvider() {\n    DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\n    authProvider.setUserDetailsService(userDetailsService);\n    authProvider.setPasswordEncoder(bCryptPasswordEncoder);\n    return authProvider;\n}\n</code></pre>\n<p>And setting my AuthenticationManagerBuilder like so:</p>\n<pre><code>@Override\n    protected void configure(AuthenticationManagerBuilder auth){\n        auth.authenticationProvider(authProvider());\n}\n</code></pre>\n<p>Inside the WebSecurity.java configuration file solved all my problems.</p>\n<p>Reference: <a href=\"https://www.javadevjournal.com/spring-security/spring-security-authentication-providers/\" rel=\"nofollow noreferrer\">Custom Authentication Provider</a></p>\n"}],"owner":{"account_id":27512708,"reputation":1,"user_id":20994302,"display_name":"thiagoS"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":369,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75179393,"answer_count":1,"score":0,"last_activity_date":1674172243,"creation_date":1673547005,"question_id":75100618,"body_markdown":"I&#39;m trying to manually authenticate an user, inside a service, with the authenticationManager:\r\n```\r\nAuthentication authenticate = authenticationManager.authenticate(\r\n            new UsernamePasswordAuthenticationToken(\r\n                    user,\r\n                    senha,\r\n                    Collections.emptyList()\r\n            ));\r\n```\r\nBut every time I get the following exception from said manager:\r\n```\r\n&quot;There is no PasswordEncoder mapped for the id \\&quot;null\\&quot;&quot;\r\n```\r\n\r\nThe authenticationManager is beeing imported this way:\r\n\r\n```\r\n@Autowired\r\nprivate AuthenticationManager authenticationManager;\r\n```\r\n\r\nI&#39;ve already tried to change the password input to {bcrypt}password, to inform the correct passwordEncoder but the error persists, I&#39;ve also created a BCryptPassword Bean, that&#39;s defined inside a config file, just like this:\r\n```\r\n    @Configuration\r\n    public class BeansConfig {\r\n        @Bean\r\n        public BCryptPasswordEncoder bCryptPasswordEncoder(){\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    }\r\n```\r\n\r\nEDIT1: This is the format the password is sent to the authenticationManager: \r\n```{bcrypt}$2a$10$[...]```\r\n\r\nEDIT2: As suggested I&#39;ve implemented the following Bean, inside the same config file as the BCryptPasswordEncoder:\r\n```\r\n@Bean\r\npublic PasswordEncoder delegatingPasswordEncoder() {\r\n    PasswordEncoder defaultEncoder = new StandardPasswordEncoder();\r\n    Map&lt;String, PasswordEncoder&gt; encoders = new HashMap&lt;&gt;();\r\n    encoders.put(&quot;bcrypt&quot;, new BCryptPasswordEncoder());\r\n    encoders.put(&quot;scrypt&quot;, new SCryptPasswordEncoder());\r\n\r\n    DelegatingPasswordEncoder passworEncoder = new DelegatingPasswordEncoder(\r\n      &quot;bcrypt&quot;, encoders);\r\n    passworEncoder.setDefaultPasswordEncoderForMatches(defaultEncoder);\r\n\r\n    return passworEncoder;\r\n}\r\n```\r\nBut the error persists.\r\n\r\nFor further questions, this is how I&#39;ve configured my password encoding within the ```WebSecurity.java``` file :\r\n```\r\n    @Override\r\n        protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth.userDetailsService(userDetailsService).passwordEncoder(bCryptPasswordEncoder);\r\n    }\r\n```\r\n\r\nEDIT4: As proposed I&#39;ve removed the BCryptPassword bean and set my password encoding to the delegatingPasswordEncoding, like this,\r\n\r\n    @Autowired\r\n    private PasswordEncoder passwordEncoder;\r\n    \r\n    public WebSecurity(UserDetailsServiceImpl userService, PasswordEncoder passwordEncoder){\r\n            this.userDetailsService = userService;\r\n            this.passwordEncoder = passwordEncoder;\r\n    }\r\n    \r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth.userDetailsService(userDetailsService).passwordEncoder(this.passwordEncoder);\r\n    }\r\n\r\nBut now I get the following error, \r\n\r\n    java.lang.IllegalArgumentException: Detected a Non-hex character at 1 or 2 position\r\n    \tat org.springframework.security.crypto.codec.Hex.decode(Hex.java:58) ~[spring-security-crypto-5.7.1.jar:5.7.1]\r\n    \tat org.springframework.security.crypto.password.StandardPasswordEncoder.decode(StandardPasswordEncoder.java:106) ~[spring-security-crypto-5.7.1.jar:5.7.1]\r\n\r\nMy password is, still, beeing sent like this:\r\n```{bcrypt}$2a$10$[...]```\r\n\r\nFor reference, I&#39;m trying to do this: https://www.baeldung.com/manually-set-user-authentication-spring-security\r\n\r\n","title":"Manual authentication with authenticationManager spring boot java","body":"<p>I'm trying to manually authenticate an user, inside a service, with the authenticationManager:</p>\n<pre><code>Authentication authenticate = authenticationManager.authenticate(\n            new UsernamePasswordAuthenticationToken(\n                    user,\n                    senha,\n                    Collections.emptyList()\n            ));\n</code></pre>\n<p>But every time I get the following exception from said manager:</p>\n<pre><code>&quot;There is no PasswordEncoder mapped for the id \\&quot;null\\&quot;&quot;\n</code></pre>\n<p>The authenticationManager is beeing imported this way:</p>\n<pre><code>@Autowired\nprivate AuthenticationManager authenticationManager;\n</code></pre>\n<p>I've already tried to change the password input to {bcrypt}password, to inform the correct passwordEncoder but the error persists, I've also created a BCryptPassword Bean, that's defined inside a config file, just like this:</p>\n<pre><code>    @Configuration\n    public class BeansConfig {\n        @Bean\n        public BCryptPasswordEncoder bCryptPasswordEncoder(){\n            return new BCryptPasswordEncoder();\n        }\n    }\n</code></pre>\n<p>EDIT1: This is the format the password is sent to the authenticationManager:\n<code>{bcrypt}$2a$10$[...]</code></p>\n<p>EDIT2: As suggested I've implemented the following Bean, inside the same config file as the BCryptPasswordEncoder:</p>\n<pre><code>@Bean\npublic PasswordEncoder delegatingPasswordEncoder() {\n    PasswordEncoder defaultEncoder = new StandardPasswordEncoder();\n    Map&lt;String, PasswordEncoder&gt; encoders = new HashMap&lt;&gt;();\n    encoders.put(&quot;bcrypt&quot;, new BCryptPasswordEncoder());\n    encoders.put(&quot;scrypt&quot;, new SCryptPasswordEncoder());\n\n    DelegatingPasswordEncoder passworEncoder = new DelegatingPasswordEncoder(\n      &quot;bcrypt&quot;, encoders);\n    passworEncoder.setDefaultPasswordEncoderForMatches(defaultEncoder);\n\n    return passworEncoder;\n}\n</code></pre>\n<p>But the error persists.</p>\n<p>For further questions, this is how I've configured my password encoding within the <code>WebSecurity.java</code> file :</p>\n<pre><code>    @Override\n        protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n            auth.userDetailsService(userDetailsService).passwordEncoder(bCryptPasswordEncoder);\n    }\n</code></pre>\n<p>EDIT4: As proposed I've removed the BCryptPassword bean and set my password encoding to the delegatingPasswordEncoding, like this,</p>\n<pre><code>@Autowired\nprivate PasswordEncoder passwordEncoder;\n\npublic WebSecurity(UserDetailsServiceImpl userService, PasswordEncoder passwordEncoder){\n        this.userDetailsService = userService;\n        this.passwordEncoder = passwordEncoder;\n}\n\n@Override\nprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(userDetailsService).passwordEncoder(this.passwordEncoder);\n}\n</code></pre>\n<p>But now I get the following error,</p>\n<pre><code>java.lang.IllegalArgumentException: Detected a Non-hex character at 1 or 2 position\n    at org.springframework.security.crypto.codec.Hex.decode(Hex.java:58) ~[spring-security-crypto-5.7.1.jar:5.7.1]\n    at org.springframework.security.crypto.password.StandardPasswordEncoder.decode(StandardPasswordEncoder.java:106) ~[spring-security-crypto-5.7.1.jar:5.7.1]\n</code></pre>\n<p>My password is, still, beeing sent like this:\n<code>{bcrypt}$2a$10$[...]</code></p>\n<p>For reference, I'm trying to do this: <a href=\"https://www.baeldung.com/manually-set-user-authentication-spring-security\" rel=\"nofollow noreferrer\">https://www.baeldung.com/manually-set-user-authentication-spring-security</a></p>\n"},{"tags":["java","arrays","stack","push"],"answers":[{"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1674170626,"post_id":75062142,"comment_id":132664193,"body_markdown":"please don&#39;t propagate violations of java naming conventions","body":"please don&#39;t propagate violations of java naming conventions"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1674170835,"post_id":75062142,"comment_id":132664226,"body_markdown":"right direction - still incomplete :)","body":"right direction - still incomplete :)"}],"tags":[],"owner":{"account_id":20226248,"reputation":128,"user_id":14834046,"display_name":"codexistent"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674171151,"creation_date":1673292890,"answer_id":75062142,"question_id":75062094,"body_markdown":"This is because you are setting every stack in ``Gameboard`` to the same stack , ``Square``. So every time you push an element into any of the stacks in ``Gameboard``, you will also be pushing that same element into every other stack in ``Gameboard``. In other words, because you set every element in ``Gameboard`` to the same stack in your ``Fillboard()`` function, every element in ``Gameboard`` will always be identical. Instead, use a new stack for every element, like so(with `GameBoard` renamed `gameboard`, per java naming conventions):\r\n```java\r\n    public Stack&lt;Integer&gt;[][] gameboard = new Stack[3][3];\r\n    public Stack&lt;Integer&gt;[][] FillBoard() {\r\n        //fill board with squares\r\n        for (int i = 0; i &lt; 3; i++) {\r\n            for (int j = 0; j &lt; 3; j++) {\r\n                Stack&lt;Integer&gt; square = new Stack&lt;&gt;();\r\n                square.push(0);\r\n                gameboard[i][j] = square;\r\n            }\r\n        }\r\n        gameboard[1][1].push(1);\r\n        return gameboard;\r\n    }\r\n```","title":"Java Pushing an element into a single stack of a 2d array of stacks","body":"<p>This is because you are setting every stack in <code>Gameboard</code> to the same stack , <code>Square</code>. So every time you push an element into any of the stacks in <code>Gameboard</code>, you will also be pushing that same element into every other stack in <code>Gameboard</code>. In other words, because you set every element in <code>Gameboard</code> to the same stack in your <code>Fillboard()</code> function, every element in <code>Gameboard</code> will always be identical. Instead, use a new stack for every element, like so(with <code>GameBoard</code> renamed <code>gameboard</code>, per java naming conventions):</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public Stack&lt;Integer&gt;[][] gameboard = new Stack[3][3];\n    public Stack&lt;Integer&gt;[][] FillBoard() {\n        //fill board with squares\n        for (int i = 0; i &lt; 3; i++) {\n            for (int j = 0; j &lt; 3; j++) {\n                Stack&lt;Integer&gt; square = new Stack&lt;&gt;();\n                square.push(0);\n                gameboard[i][j] = square;\n            }\n        }\n        gameboard[1][1].push(1);\n        return gameboard;\n    }\n</code></pre>\n"}],"owner":{"account_id":27481179,"reputation":21,"user_id":20968232,"display_name":"Thomas Cameron"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":75062142,"answer_count":1,"score":1,"last_activity_date":1674171151,"creation_date":1673292540,"question_id":75062094,"body_markdown":"I have a 2d array of stacks.\r\n```\r\npublic Stack&lt;Integer&gt;[][] GameBoard = new Stack[3][3];\r\n\r\n    //make square\r\n    public Stack&lt;Integer&gt; Square = new Stack&lt;&gt;();\r\n\r\n    public Stack&lt;Integer&gt;[][] FillBoard() {\r\n        //initialize each square to have 0\r\n        Square.push(0);\r\n        //fill board with squares\r\n        for (int i = 0; i &lt; 3; i++) {\r\n            for (int j = 0; j &lt; 3; j++) {\r\n                GameBoard[i][j] = Square;\r\n            }\r\n        }\r\n        GameBoard[1][1].push(1);\r\n        return GameBoard;\r\n    }\r\n```\r\n\r\n\r\nIn this code, I give every stack in the 2d array a stack, `Square`, with the element of 0. When I then attempted to add an element to a certain stack (`GameBoard[1][2].push(1)`) it adds it to every stack in the array. so instead of `{{0,0,0},{0,1,0},(0,0,0}}` it returns `{{1,1,1},{1,1,1},{1,1,1}}`.\r\nMy only guess is that in the stack class, the list that stack uses is static? \r\nThank you in advance.","title":"Java Pushing an element into a single stack of a 2d array of stacks","body":"<p>I have a 2d array of stacks.</p>\n<pre><code>public Stack&lt;Integer&gt;[][] GameBoard = new Stack[3][3];\n\n    //make square\n    public Stack&lt;Integer&gt; Square = new Stack&lt;&gt;();\n\n    public Stack&lt;Integer&gt;[][] FillBoard() {\n        //initialize each square to have 0\n        Square.push(0);\n        //fill board with squares\n        for (int i = 0; i &lt; 3; i++) {\n            for (int j = 0; j &lt; 3; j++) {\n                GameBoard[i][j] = Square;\n            }\n        }\n        GameBoard[1][1].push(1);\n        return GameBoard;\n    }\n</code></pre>\n<p>In this code, I give every stack in the 2d array a stack, <code>Square</code>, with the element of 0. When I then attempted to add an element to a certain stack (<code>GameBoard[1][2].push(1)</code>) it adds it to every stack in the array. so instead of <code>{{0,0,0},{0,1,0},(0,0,0}}</code> it returns <code>{{1,1,1},{1,1,1},{1,1,1}}</code>.\nMy only guess is that in the stack class, the list that stack uses is static?\nThank you in advance.</p>\n"},{"tags":["java","json","org.json"],"owner":{"account_id":8036447,"reputation":464,"user_id":6059393,"accept_rate":77,"display_name":"Belphegor21"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674170494,"creation_date":1674170494,"question_id":75179259,"body_markdown":"I have a legacy system at hand. This system was using an old version of `org.json.JSONObject`. For this version the following json was valid\r\n```\r\n{\r\n  &quot;key&quot; = &quot;value&quot;,\r\n  &quot;key2&quot;: &quot;value2&quot;\r\n}\r\n```\r\nThe json is actually invalid but for this version it was valid. \r\n\r\nNow I upgraded the version to the latest one and everything is failing because of `=`. I get error that `Expected &#39;:&#39; at char XX` everytime. I could change my local tests and integ tests but what about clients? I have no idea whether they pass `=` or `:` and knowing them they would be passing `=`. \r\n\r\nIs there a way i make the latest version on JSONObject accept `=` as valid assignment and alternative to `:` or is this a lost cause?\r\n\r\n","title":"org.json breaking change with update","body":"<p>I have a legacy system at hand. This system was using an old version of <code>org.json.JSONObject</code>. For this version the following json was valid</p>\n<pre><code>{\n  &quot;key&quot; = &quot;value&quot;,\n  &quot;key2&quot;: &quot;value2&quot;\n}\n</code></pre>\n<p>The json is actually invalid but for this version it was valid.</p>\n<p>Now I upgraded the version to the latest one and everything is failing because of <code>=</code>. I get error that <code>Expected ':' at char XX</code> everytime. I could change my local tests and integ tests but what about clients? I have no idea whether they pass <code>=</code> or <code>:</code> and knowing them they would be passing <code>=</code>.</p>\n<p>Is there a way i make the latest version on JSONObject accept <code>=</code> as valid assignment and alternative to <code>:</code> or is this a lost cause?</p>\n"},{"tags":["java","integer","integer-arithmetic"],"comments":[{"owner":{"account_id":16792058,"reputation":81,"user_id":12139442,"display_name":"Biryanii"},"score":0,"creation_date":1674155132,"post_id":75177116,"comment_id":132660202,"body_markdown":"When I run the code I get 2^28=268,435,456","body":"When I run the code I get 2^28=268,435,456"}],"answers":[{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1674156147,"creation_date":1674156147,"answer_id":75177296,"question_id":75177116,"body_markdown":"Consider how this looks with all the values expressed in binary.\r\n\r\nInitially, `x = 00000000000000000000000100010000`.  Then every time you multiply by 16, you add 4 zeroes to the right, and remove 4 digits from the left.  \r\n\r\nSo you get results like \r\n\r\n    00000000000000000001000100000000\r\n    00000000000000010001000000000000\r\n\r\nand so on.  But once you&#39;ve done this 6 times, the first `1` disappears off the left end of the number - this is the integer overflow.  So you&#39;re left with \r\n\r\n    00010000000000000000000000000000\r\n\r\nwhich is 2 to the 28.","title":"Why is the result of my int multiplication wrong?","body":"<p>Consider how this looks with all the values expressed in binary.</p>\n<p>Initially, <code>x = 00000000000000000000000100010000</code>.  Then every time you multiply by 16, you add 4 zeroes to the right, and remove 4 digits from the left.</p>\n<p>So you get results like</p>\n<pre><code>00000000000000000001000100000000\n00000000000000010001000000000000\n</code></pre>\n<p>and so on.  But once you've done this 6 times, the first <code>1</code> disappears off the left end of the number - this is the integer overflow.  So you're left with</p>\n<pre><code>00010000000000000000000000000000\n</code></pre>\n<p>which is 2 to the 28.</p>\n"}],"owner":{"account_id":16792058,"reputation":81,"user_id":12139442,"display_name":"Biryanii"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75177296,"answer_count":1,"score":0,"last_activity_date":1674169886,"creation_date":1674154924,"question_id":75177116,"body_markdown":"I have the the following code where the results exceeds the limit an integer  type variable can store and need to understand why I am getting this result (268,435,456=2^28)\r\n\r\n    public static void main(String[] args) {\r\n    int x = 16+256;\r\n    for( int i =0; i&lt;6; i++) {\r\n    \t\t\tx*=16;\r\n    \t\t}\r\n    \t\tSystem.out.println(x);\r\n    }\r\n    }","title":"Why is the result of my int multiplication wrong?","body":"<p>I have the the following code where the results exceeds the limit an integer  type variable can store and need to understand why I am getting this result (268,435,456=2^28)</p>\n<pre><code>public static void main(String[] args) {\nint x = 16+256;\nfor( int i =0; i&lt;6; i++) {\n            x*=16;\n        }\n        System.out.println(x);\n}\n}\n</code></pre>\n"},{"tags":["java","spring","maven","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":1773932,"reputation":11088,"user_id":1618135,"accept_rate":78,"display_name":"blackpanther"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1386423785,"creation_date":1386423785,"answer_id":20442047,"question_id":20442004,"body_markdown":"If you are going to upgrade your Spring version, upgrade it to the latest v3: `3.2.5.RELEASE` as outlined in the Maven mvn repository: http://mvnrepository.com/artifact/org.springframework\r\n\r\nHowever, your problem is here:\r\n\r\n    &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring&lt;/artifactId&gt;\r\n          &lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n\r\nThere is no artifactId &#39;spring&#39; it should be `spring-core`. ","title":"maven clean install - Failed to execute goal on project myGoogleAppEngine","body":"<p>If you are going to upgrade your Spring version, upgrade it to the latest v3: <code>3.2.5.RELEASE</code> as outlined in the Maven mvn repository: <a href=\"http://mvnrepository.com/artifact/org.springframework\" rel=\"nofollow\">http://mvnrepository.com/artifact/org.springframework</a></p>\n\n<p>However, your problem is here:</p>\n\n<pre><code>&lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring&lt;/artifactId&gt;\n      &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n\n<p>There is no artifactId 'spring' it should be <code>spring-core</code>. </p>\n"},{"tags":[],"owner":{"account_id":2436173,"reputation":5566,"user_id":2126023,"accept_rate":85,"display_name":"Saif Asif"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1386423973,"creation_date":1386423973,"answer_id":20442080,"question_id":20442004,"body_markdown":"There is no dependancy named `org.springframework:spring:3.1.0.RELEASE`. The last jar that was available with this groupId/artifactId combination was for version `2.5.6.SEC03`.\r\n\r\nYou will have to change this dependency and re-name it to `spring-core` instead of `spring`\r\n\r\n    &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n          &lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"maven clean install - Failed to execute goal on project myGoogleAppEngine","body":"<p>There is no dependancy named <code>org.springframework:spring:3.1.0.RELEASE</code>. The last jar that was available with this groupId/artifactId combination was for version <code>2.5.6.SEC03</code>.</p>\n\n<p>You will have to change this dependency and re-name it to <code>spring-core</code> instead of <code>spring</code></p>\n\n<pre><code>&lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n      &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":2627294,"reputation":906,"user_id":2274060,"accept_rate":0,"display_name":"user2274060"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7824,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1674169385,"creation_date":1386423564,"question_id":20442004,"body_markdown":"I&#39;ve created a maven project. Before, in my pom.xml, I used the spring version 2.5.6 and now, I change the version number of spring to use the 3.1.0.RELEASE. \r\n\r\nTo update the different dependencies and update the different jar in my WEB-INF/lib, I used the following command line :&#39;mvn clean install&#39; and I&#39;ve the following error\r\n\r\n    [WARNING] The POM for org.springframework:spring:jar:3.1.0.RELEASE is missing, no dependency information available\r\n    [INFO] BUILD FAILURE\r\n    [INFO] Total time: 0.847s\r\n    [INFO] Finished at: Sat Dec 07 13:49:20 CET 2013\r\n    [INFO] Final Memory: 4M/15M\r\n    [ERROR] Failed to execute goal on project myGoogleAppEngine: Could not resolve dependencies for project com.application:myGoogleAppEngine:war:0.0.1-SNAPSHOT: Failure to find org.springframework:spring:jar:3.1.0.RELEASE in http://repo.maven.apache.org/maven2 was cached in the local repository, resolution will not be reattempted until the update interval of central has elapsed or updates are forced -&gt; [Help 1]\r\n    [ERROR] \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException\r\n\r\nDo you have any solutions ? \r\n\r\nThank you\r\n\r\nA part of my pom.xml\r\n\r\n    &lt;properties&gt;\r\n        &lt;appengine.app.version&gt;1&lt;/appengine.app.version&gt;\r\n        &lt;appengine.target.version&gt;1.8.0&lt;/appengine.target.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;org.springframework.version&gt;3.1.0.RELEASE&lt;/org.springframework.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n         &lt;!-- Spring framework --&gt;\r\n         &lt;dependency&gt;\r\n              &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n              &lt;artifactId&gt;spring&lt;/artifactId&gt;\r\n              &lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n         &lt;/dependency&gt;\r\n\r\n         &lt;!-- Spring MVC framework --&gt;\r\n         &lt;dependency&gt;\r\n               &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n               &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n               &lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n         &lt;/dependency&gt;\r\n\r\n         &lt;dependency&gt;\r\n               &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n               &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n               &lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n         &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nMy WEB-INF/lib\r\n\r\n    -spring-2.5.6.jar\r\n    -spring-aop-3.1.0.RELEASE.jar\r\n    -spring-asm-3.1.0.RELEASE.jar\r\n    -spring-beans-2.5.6.jar\r\n    -spring-beans-3.1.0.RELEASE.jar\r\n    -spring-context-2.5.6.jar\r\n    -spring-context-3.1.0.RELEASE.jar\r\n    -spring-context-support-2.5.6.jar\r\n    -spring-context-support-3.1.0.RELEASE.jar\r\n    -spring-core-2.5.6.jar\r\n    -spring-core-3.1.0.RELEASE.jar\r\n    -spring-expression-3.1.0.RELEASE.jar\r\n    -spring-web-2.5.6.jar\r\n    -spring-web-3.1.0.RELEASE.jar\r\n    -spring-webmvc-2.5.6.jar\r\n    -spring-webmvc-3.1.0.RELEASE.jar\r\n    -...","title":"maven clean install - Failed to execute goal on project myGoogleAppEngine","body":"<p>I've created a maven project. Before, in my pom.xml, I used the spring version 2.5.6 and now, I change the version number of spring to use the 3.1.0.RELEASE. </p>\n\n<p>To update the different dependencies and update the different jar in my WEB-INF/lib, I used the following command line :'mvn clean install' and I've the following error</p>\n\n<pre><code>[WARNING] The POM for org.springframework:spring:jar:3.1.0.RELEASE is missing, no dependency information available\n[INFO] BUILD FAILURE\n[INFO] Total time: 0.847s\n[INFO] Finished at: Sat Dec 07 13:49:20 CET 2013\n[INFO] Final Memory: 4M/15M\n[ERROR] Failed to execute goal on project myGoogleAppEngine: Could not resolve dependencies for project com.application:myGoogleAppEngine:war:0.0.1-SNAPSHOT: Failure to find org.springframework:spring:jar:3.1.0.RELEASE in http://repo.maven.apache.org/maven2 was cached in the local repository, resolution will not be reattempted until the update interval of central has elapsed or updates are forced -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException\n</code></pre>\n\n<p>Do you have any solutions ? </p>\n\n<p>Thank you</p>\n\n<p>A part of my pom.xml</p>\n\n<pre><code>&lt;properties&gt;\n    &lt;appengine.app.version&gt;1&lt;/appengine.app.version&gt;\n    &lt;appengine.target.version&gt;1.8.0&lt;/appengine.target.version&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;org.springframework.version&gt;3.1.0.RELEASE&lt;/org.springframework.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n     &lt;!-- Spring framework --&gt;\n     &lt;dependency&gt;\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n          &lt;artifactId&gt;spring&lt;/artifactId&gt;\n          &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n     &lt;/dependency&gt;\n\n     &lt;!-- Spring MVC framework --&gt;\n     &lt;dependency&gt;\n           &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n           &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n           &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n     &lt;/dependency&gt;\n\n     &lt;dependency&gt;\n           &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n           &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n           &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n     &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>My WEB-INF/lib</p>\n\n<pre><code>-spring-2.5.6.jar\n-spring-aop-3.1.0.RELEASE.jar\n-spring-asm-3.1.0.RELEASE.jar\n-spring-beans-2.5.6.jar\n-spring-beans-3.1.0.RELEASE.jar\n-spring-context-2.5.6.jar\n-spring-context-3.1.0.RELEASE.jar\n-spring-context-support-2.5.6.jar\n-spring-context-support-3.1.0.RELEASE.jar\n-spring-core-2.5.6.jar\n-spring-core-3.1.0.RELEASE.jar\n-spring-expression-3.1.0.RELEASE.jar\n-spring-web-2.5.6.jar\n-spring-web-3.1.0.RELEASE.jar\n-spring-webmvc-2.5.6.jar\n-spring-webmvc-3.1.0.RELEASE.jar\n-...\n</code></pre>\n"},{"tags":["java","iteration"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1674166621,"post_id":75177605,"comment_id":132663439,"body_markdown":"I added working code in my answer. HTH.","body":"I added working code in my answer. HTH."},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1674448900,"post_id":75177605,"comment_id":132708932,"body_markdown":"You got some answers to your question. Remember that people volunteer their time here to help, least you can do is to accept an answer, or ask further questions as to why an answer can&#39;t be accepted. Asking a question and simply walking away is bad manner.","body":"You got some answers to your question. Remember that people volunteer their time here to help, least you can do is to accept an answer, or ask further questions as to why an answer can&#39;t be accepted. Asking a question and simply walking away is bad manner."},{"owner":{"account_id":23269252,"reputation":13,"user_id":18367361,"display_name":"comingundone"},"score":0,"creation_date":1675100054,"post_id":75177605,"comment_id":132851434,"body_markdown":"My apologies. I went to do so some days ago, but the site was under maintenance and I couldn&#39;t do anything. Then it slipped my mind. Thank you for reminding me!","body":"My apologies. I went to do so some days ago, but the site was under maintenance and I couldn&#39;t do anything. Then it slipped my mind. Thank you for reminding me!"}],"answers":[{"comments":[{"owner":{"account_id":23269252,"reputation":13,"user_id":18367361,"display_name":"comingundone"},"score":0,"creation_date":1674158761,"post_id":75177658,"comment_id":132661320,"body_markdown":"I&#39;ll give this a shot, thank you! For boxes of 1 or 2 rows, it just wants me to print the border characters, which it does. And I&#39;ll keep the main method stuff in mind! Thank you!","body":"I&#39;ll give this a shot, thank you! For boxes of 1 or 2 rows, it just wants me to print the border characters, which it does. And I&#39;ll keep the main method stuff in mind! Thank you!"},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1674168411,"post_id":75177658,"comment_id":132663864,"body_markdown":"It&#39;s nice code and all, but given the type of assignment this is, I seriously doubt they are allowed to use `List&lt;String&gt;` or `.repeat()`....though I could be wrong.","body":"It&#39;s nice code and all, but given the type of assignment this is, I seriously doubt they are allowed to use <code>List&lt;String&gt;</code> or <code>.repeat()</code>....though I could be wrong."},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1674168520,"post_id":75177658,"comment_id":132663883,"body_markdown":"@Idle_Mind OP hasn&#39;t mentioned any restrictions, so, there&#39;s no reason for us to speculate. Besides, `repeat` is just a convenience method introduced in java 9, it&#39;s trivial to implement that if necessary.","body":"@Idle_Mind OP hasn&#39;t mentioned any restrictions, so, there&#39;s no reason for us to speculate. Besides, <code>repeat</code> is just a convenience method introduced in java 9, it&#39;s trivial to implement that if necessary."}],"tags":[],"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674168744,"creation_date":1674158459,"answer_id":75177658,"question_id":75177605,"body_markdown":"You can certainly use if-else control structures to do this, but a simpler option would be to create the inner box with 2 rows and 2 columns fewer than the given dimensions, and then append the borders. You didn’t say what the expectation is for boxes of 1 or 2 rows only, so, you’ll have to handle those cases as well.\r\n\r\nAlso, for testability purposes, I’d create a method that accepts the dimensions as integers, and returns the box. You can then print the box in the main method. You can even take it one step further and create one method to create the inner box, and another to pad it with borders. Basically, try not to shove your entire project into one main method.\r\n\r\n**Implementation 1:**\r\n\r\n    import java.util.*;\r\n    import java.util.stream.*;\r\n    \r\n    public class MyClass {\r\n        public static void main(String args[]) {\r\n          if (args.length &lt; 2) {\r\n              throw new IllegalArgumentException(&quot;Usage: java MyClass &lt;rows&gt; &lt;cols&gt;&quot;);\r\n          }    \r\n          int rows = Integer.parseInt(args[0]);\r\n          int cols = Integer.parseInt(args[1]);\r\n          List&lt;String&gt; inner = createBox(rows - 2, cols - 2);\r\n          List&lt;String&gt; box = new ArrayList&lt;&gt;();\r\n          box.add(&quot;X&quot;.repeat(cols));\r\n          for (String row : inner) {\r\n              box.add(&quot;X&quot; + row + &quot;X&quot;);\r\n          }\r\n          if (rows &gt; 1) {\r\n              box.add(box.get(0));\r\n          }\r\n          \r\n          for (String row : box) {\r\n              System.out.println(row);\r\n          }\r\n        }\r\n        \r\n        private static List&lt;String&gt; createBox(int rows, int cols) {\r\n            if (rows &lt;= 0 || cols &lt;= 0) {\r\n                return Collections.emptyList();\r\n            }\r\n            String row = &quot;O&quot;.repeat(cols);\r\n            return Collections.nCopies(rows, row);\r\n        }\r\n    }\r\n\r\n**Implementation 2, slightly optimized:**\r\n\r\n    import java.util.*;\r\n    import java.util.stream.*;\r\n    \r\n    public class MyClass {\r\n        public static void main(String args[]) {\r\n          if (args.length &lt; 2) {\r\n              throw new IllegalArgumentException(&quot;Usage: java MyClass &lt;rows&gt; &lt;cols&gt;&quot;);\r\n          }    \r\n          int rows = Integer.parseInt(args[0]);\r\n          int cols = Integer.parseInt(args[1]);\r\n          int innerRows = rows - 2;\r\n          int innerCols = cols - 2;\r\n          String innerRow = innerRows &gt; 0 &amp;&amp; innerCols &gt; 0 ? &quot;O&quot;.repeat(innerCols) : &quot;&quot;;\r\n          List&lt;String&gt; box = new ArrayList&lt;&gt;();\r\n          box.add(&quot;X&quot;.repeat(cols));\r\n          for (int i = 0; i &lt; innerRows; i++) {\r\n              box.add(&quot;X&quot; + innerRow + &quot;X&quot;);\r\n          }\r\n          if (rows &gt; 1) {\r\n              box.add(box.get(0));\r\n          }\r\n          \r\n          for (String row : box) {\r\n              System.out.println(row);\r\n          }\r\n        }\r\n    }","title":"Creating a box in Java from user inputs, but how do I replace the interior of the box with a different input than its borders?","body":"<p>You can certainly use if-else control structures to do this, but a simpler option would be to create the inner box with 2 rows and 2 columns fewer than the given dimensions, and then append the borders. You didn’t say what the expectation is for boxes of 1 or 2 rows only, so, you’ll have to handle those cases as well.</p>\n<p>Also, for testability purposes, I’d create a method that accepts the dimensions as integers, and returns the box. You can then print the box in the main method. You can even take it one step further and create one method to create the inner box, and another to pad it with borders. Basically, try not to shove your entire project into one main method.</p>\n<p><strong>Implementation 1:</strong></p>\n<pre><code>import java.util.*;\nimport java.util.stream.*;\n\npublic class MyClass {\n    public static void main(String args[]) {\n      if (args.length &lt; 2) {\n          throw new IllegalArgumentException(&quot;Usage: java MyClass &lt;rows&gt; &lt;cols&gt;&quot;);\n      }    \n      int rows = Integer.parseInt(args[0]);\n      int cols = Integer.parseInt(args[1]);\n      List&lt;String&gt; inner = createBox(rows - 2, cols - 2);\n      List&lt;String&gt; box = new ArrayList&lt;&gt;();\n      box.add(&quot;X&quot;.repeat(cols));\n      for (String row : inner) {\n          box.add(&quot;X&quot; + row + &quot;X&quot;);\n      }\n      if (rows &gt; 1) {\n          box.add(box.get(0));\n      }\n      \n      for (String row : box) {\n          System.out.println(row);\n      }\n    }\n    \n    private static List&lt;String&gt; createBox(int rows, int cols) {\n        if (rows &lt;= 0 || cols &lt;= 0) {\n            return Collections.emptyList();\n        }\n        String row = &quot;O&quot;.repeat(cols);\n        return Collections.nCopies(rows, row);\n    }\n}\n</code></pre>\n<p><strong>Implementation 2, slightly optimized:</strong></p>\n<pre><code>import java.util.*;\nimport java.util.stream.*;\n\npublic class MyClass {\n    public static void main(String args[]) {\n      if (args.length &lt; 2) {\n          throw new IllegalArgumentException(&quot;Usage: java MyClass &lt;rows&gt; &lt;cols&gt;&quot;);\n      }    \n      int rows = Integer.parseInt(args[0]);\n      int cols = Integer.parseInt(args[1]);\n      int innerRows = rows - 2;\n      int innerCols = cols - 2;\n      String innerRow = innerRows &gt; 0 &amp;&amp; innerCols &gt; 0 ? &quot;O&quot;.repeat(innerCols) : &quot;&quot;;\n      List&lt;String&gt; box = new ArrayList&lt;&gt;();\n      box.add(&quot;X&quot;.repeat(cols));\n      for (int i = 0; i &lt; innerRows; i++) {\n          box.add(&quot;X&quot; + innerRow + &quot;X&quot;);\n      }\n      if (rows &gt; 1) {\n          box.add(box.get(0));\n      }\n      \n      for (String row : box) {\n          System.out.println(row);\n      }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674159873,"creation_date":1674159334,"answer_id":75177802,"question_id":75177605,"body_markdown":"Change:\r\n\r\n    for (int j = 0; j &lt; height; j++) {\r\n      for (int i = 1; i &lt; width; i++) {\r\n        System.out.print(border);\r\n      }\r\n      System.out.print(border);\r\n      System.out.println(&quot;&quot;);\r\n    }\r\n\r\nTo:\r\n\r\n    for (int j = 0; j &lt; height; j++) {\r\n      for (int i = 1; i &lt;= width; i++) {\r\n        if (j==0 || j==(height-1)) {\r\n          System.out.print(border);\r\n        }\r\n        else {\r\n          if (i==1 || i==width) {\r\n            System.out.print(border);\r\n          }\r\n          else {\r\n            System.out.print(interior);\r\n          }  \r\n        }\r\n      }\r\n      System.out.println();\r\n    }\r\n\r\nThis could obviously be written in many different ways, some much more compact than this. I think this way is easy to understand, though...\r\n\r\nFor instance, here&#39;s a shorter version that works, but is harder to interpret:\r\n\r\n    for (int j = 0; j &lt; height; j++) {\r\n      for (int i = 1; i &lt;= width; i++) {\r\n        System.out.print(((j==0 || j==(height-1)) || (i==1 || i==width)) ? border : interior);\r\n      }\r\n      System.out.println();\r\n    }\r\n","title":"Creating a box in Java from user inputs, but how do I replace the interior of the box with a different input than its borders?","body":"<p>Change:</p>\n<pre><code>for (int j = 0; j &lt; height; j++) {\n  for (int i = 1; i &lt; width; i++) {\n    System.out.print(border);\n  }\n  System.out.print(border);\n  System.out.println(&quot;&quot;);\n}\n</code></pre>\n<p>To:</p>\n<pre><code>for (int j = 0; j &lt; height; j++) {\n  for (int i = 1; i &lt;= width; i++) {\n    if (j==0 || j==(height-1)) {\n      System.out.print(border);\n    }\n    else {\n      if (i==1 || i==width) {\n        System.out.print(border);\n      }\n      else {\n        System.out.print(interior);\n      }  \n    }\n  }\n  System.out.println();\n}\n</code></pre>\n<p>This could obviously be written in many different ways, some much more compact than this. I think this way is easy to understand, though...</p>\n<p>For instance, here's a shorter version that works, but is harder to interpret:</p>\n<pre><code>for (int j = 0; j &lt; height; j++) {\n  for (int i = 1; i &lt;= width; i++) {\n    System.out.print(((j==0 || j==(height-1)) || (i==1 || i==width)) ? border : interior);\n  }\n  System.out.println();\n}\n</code></pre>\n"}],"owner":{"account_id":23269252,"reputation":13,"user_id":18367361,"display_name":"comingundone"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":349,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75177802,"answer_count":2,"score":0,"last_activity_date":1674168744,"creation_date":1674158075,"question_id":75177605,"body_markdown":"I need to create a box using user inputs. My inputs are the dimensions (height x width), the &quot;interior&quot; (the character that the box is filled with), and the &quot;border&quot; (the character surrounding the interior). I&#39;m almost done, I believe; I can assemble the box given the dimensions and border, but I&#39;m struggling to figure out how to fill the inside. \r\n\r\nI don&#39;t know how to use decision statements to determine which characters belong on which line. If the current line is the first line, I want to print only border characters, or if the current character on the line is the first character in that line, print a border character, but print the interior for the following characters (until the end char), etc.\r\n\r\nMy code:\r\n```\r\n// Below this comment: import the Scanner\r\nimport java.util.Scanner;\r\npublic class Box {\r\n   public static void main(String[] args) {\r\n      // Below this comment: declare and instantiate a Scanner\r\n      Scanner scnr = new Scanner(System.in);\r\n\r\n      // Below this comment: declare any other variables you may need\r\n      int width;\r\n      int height;\r\n      char border;\r\n      char interior;\r\n\r\n\r\n      // Below this comment: collect the required inputs\r\n      System.out.println(&quot;Enter width    : &quot;);\r\n      width = scnr.nextInt();\r\n      System.out.println(&quot;Enter height   : &quot;);\r\n      height = scnr.nextInt();\r\n      System.out.println(&quot;Enter border   : &quot;);\r\n      border = scnr.next().charAt(0);\r\n      System.out.print(&quot;Enter interior : &quot;);\r\n      interior = scnr.next().charAt(0);\r\n\r\n\r\n      // Below this comment: display the required results\r\n\r\n      for (int j = 0; j &lt; height; j++) {\r\n         for (int i = 1; i &lt; width; i++) {\r\n            System.out.print(border);\r\n         }\r\n         System.out.print(border);\r\n         System.out.println(&quot;&quot;);\r\n      }\r\n   }\r\n}\r\n```\r\nAs an arbitrary example, running my code with 7x5 dimensions and X and O characters gives me:\r\n```\r\nXXXXXXX\r\nXXXXXXX\r\nXXXXXXX\r\nXXXXXXX\r\n```\r\nBut my desired result would be:\r\n```\r\nXXXXXXX\r\nXOOOOOX\r\nXOOOOOX\r\nXOOOOOX\r\nXXXXXXX\r\n```","title":"Creating a box in Java from user inputs, but how do I replace the interior of the box with a different input than its borders?","body":"<p>I need to create a box using user inputs. My inputs are the dimensions (height x width), the &quot;interior&quot; (the character that the box is filled with), and the &quot;border&quot; (the character surrounding the interior). I'm almost done, I believe; I can assemble the box given the dimensions and border, but I'm struggling to figure out how to fill the inside.</p>\n<p>I don't know how to use decision statements to determine which characters belong on which line. If the current line is the first line, I want to print only border characters, or if the current character on the line is the first character in that line, print a border character, but print the interior for the following characters (until the end char), etc.</p>\n<p>My code:</p>\n<pre><code>// Below this comment: import the Scanner\nimport java.util.Scanner;\npublic class Box {\n   public static void main(String[] args) {\n      // Below this comment: declare and instantiate a Scanner\n      Scanner scnr = new Scanner(System.in);\n\n      // Below this comment: declare any other variables you may need\n      int width;\n      int height;\n      char border;\n      char interior;\n\n\n      // Below this comment: collect the required inputs\n      System.out.println(&quot;Enter width    : &quot;);\n      width = scnr.nextInt();\n      System.out.println(&quot;Enter height   : &quot;);\n      height = scnr.nextInt();\n      System.out.println(&quot;Enter border   : &quot;);\n      border = scnr.next().charAt(0);\n      System.out.print(&quot;Enter interior : &quot;);\n      interior = scnr.next().charAt(0);\n\n\n      // Below this comment: display the required results\n\n      for (int j = 0; j &lt; height; j++) {\n         for (int i = 1; i &lt; width; i++) {\n            System.out.print(border);\n         }\n         System.out.print(border);\n         System.out.println(&quot;&quot;);\n      }\n   }\n}\n</code></pre>\n<p>As an arbitrary example, running my code with 7x5 dimensions and X and O characters gives me:</p>\n<pre><code>XXXXXXX\nXXXXXXX\nXXXXXXX\nXXXXXXX\n</code></pre>\n<p>But my desired result would be:</p>\n<pre><code>XXXXXXX\nXOOOOOX\nXOOOOOX\nXOOOOOX\nXXXXXXX\n</code></pre>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":4,"creation_date":1673808356,"post_id":75127551,"comment_id":132575281,"body_markdown":"I would hope that this is impossible.  I wouldn&#39;t want an app to be able to change my phone language, only the settings...","body":"I would hope that this is impossible.  I wouldn&#39;t want an app to be able to change my phone language, only the settings..."}],"answers":[{"tags":[],"owner":{"account_id":1262856,"reputation":2627,"user_id":1220743,"accept_rate":74,"display_name":"mol"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673808706,"creation_date":1673808706,"answer_id":75127605,"question_id":75127551,"body_markdown":"It&#39;s impossible to do it programmatically. The best you can do is to open Locale Settings screen like this:\r\n\r\n    startActivityForResult(new Intent(Settings.ACTION_LOCALE_SETTINGS), 0);\r\n","title":"How can I change a phone&#39;s language using Kotlin?","body":"<p>It's impossible to do it programmatically. The best you can do is to open Locale Settings screen like this:</p>\n<pre><code>startActivityForResult(new Intent(Settings.ACTION_LOCALE_SETTINGS), 0);\n</code></pre>\n"}],"owner":{"account_id":17601680,"reputation":19,"user_id":12771529,"display_name":"lamine ml"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75127605,"answer_count":1,"score":-1,"last_activity_date":1674168274,"creation_date":1673808274,"question_id":75127551,"body_markdown":"How can I change the language of a phone using Kotlin?\r\n[![An example of what I want to change][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/uTpsc.jpg\r\nThis is a picture showing the thing that I want to change through the code. Can it be done through the code or not?","title":"How can I change a phone&#39;s language using Kotlin?","body":"<p>How can I change the language of a phone using Kotlin?\n<a href=\"https://i.stack.imgur.com/uTpsc.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uTpsc.jpg\" alt=\"An example of what I want to change\" /></a></p>\n<p>This is a picture showing the thing that I want to change through the code. Can it be done through the code or not?</p>\n"},{"tags":["java","exception","junit","mockito","ioexception"],"comments":[{"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"score":1,"creation_date":1674168921,"post_id":75179037,"comment_id":132663950,"body_markdown":"Try to call the tested method without wrapping it with `assertThrows`, the stack strace should be more helpful.","body":"Try to call the tested method without wrapping it with <code>assertThrows</code>, the stack strace should be more helpful."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1674170122,"post_id":75179037,"comment_id":132664119,"body_markdown":"Where do you define `staticConfigPartnerAliasesPersistenceFacade`?","body":"Where do you define <code>staticConfigPartnerAliasesPersistenceFacade</code>?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1674170186,"post_id":75179037,"comment_id":132664129,"body_markdown":"And personally I would just wrap the `Resources` class in a bean instead of messing about with mocking static methods.","body":"And personally I would just wrap the <code>Resources</code> class in a bean instead of messing about with mocking static methods."}],"owner":{"account_id":12076714,"reputation":151,"user_id":8829888,"display_name":"Neha Bhoi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674168155,"creation_date":1674168155,"question_id":75179037,"body_markdown":"here is the code for which I want to write a test case for catch block\r\n\r\n\r\n    public class X {\r\n    \r\n    protected String getInputString(final String inputPath) {\r\n            try {\r\n                return Resources.asCharSource(Resources.getResource(inputPath), UTF_8).read();\r\n            } catch (final IOException e) {\r\n                log.error(&quot;Error loading partner aliases from local config&quot;, e);\r\n                throw new UncheckedIOException(e);\r\n            }\r\n        }\r\n    \r\n    } \r\n\r\n have tried mocking the staic method asCharSource as bellow:\r\n\r\n    @Test\r\n        public void Failed() throws Exception{\r\n            URL url = Resources.getResource(&quot;resources/linearPartners.json&quot;);\r\n            CharSource s;\r\n            try{\r\n                s = new CharSource() {\r\n                    @Override\r\n                    public Reader openStream() throws IOException {\r\n                        throw new IOException(&quot;Expected as a test&quot;);\r\n                    }\r\n    \r\n                    @Override\r\n                    public String read() throws IOException {\r\n                        throw new IOException(&quot;Expected as a test&quot;);\r\n                    }\r\n                };\r\n                try (MockedStatic&lt;Resources&gt; resources = Mockito.mockStatic(Resources.class)) {\r\n                    resources.when(() -&gt; Resources.asCharSource(url, UTF_8))\r\n                        .thenReturn(s);\r\n                    Assertions.assertThrows(UncheckedIOException.class, () -&gt; staticConfigPartnerAliasesPersistenceFacade.getInputString(&quot;resources/file.json&quot;));\r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n        }\r\n\r\nbellow is the error\r\n\r\n    org.opentest4j.AssertionFailedError: Unexpected exception type thrown ==&gt; expected: &lt;java.io.UncheckedIOException&gt; but was: &lt;java.lang.NullPointerException&gt;\r\n         [java]        org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:65)\r\n         [java]        org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:37)\r\n         [java]        org.junit.jupiter.api.Assertions.assertThrows(Assertions.java:3082)\r\n\r\nI did not understand, where is the NullPointerException is coming from. Please guide me on this","title":"How to mock IOException for CharSource.read()?","body":"<p>here is the code for which I want to write a test case for catch block</p>\n<pre><code>public class X {\n\nprotected String getInputString(final String inputPath) {\n        try {\n            return Resources.asCharSource(Resources.getResource(inputPath), UTF_8).read();\n        } catch (final IOException e) {\n            log.error(&quot;Error loading partner aliases from local config&quot;, e);\n            throw new UncheckedIOException(e);\n        }\n    }\n\n} \n</code></pre>\n<p>have tried mocking the staic method asCharSource as bellow:</p>\n<pre><code>@Test\n    public void Failed() throws Exception{\n        URL url = Resources.getResource(&quot;resources/linearPartners.json&quot;);\n        CharSource s;\n        try{\n            s = new CharSource() {\n                @Override\n                public Reader openStream() throws IOException {\n                    throw new IOException(&quot;Expected as a test&quot;);\n                }\n\n                @Override\n                public String read() throws IOException {\n                    throw new IOException(&quot;Expected as a test&quot;);\n                }\n            };\n            try (MockedStatic&lt;Resources&gt; resources = Mockito.mockStatic(Resources.class)) {\n                resources.when(() -&gt; Resources.asCharSource(url, UTF_8))\n                    .thenReturn(s);\n                Assertions.assertThrows(UncheckedIOException.class, () -&gt; staticConfigPartnerAliasesPersistenceFacade.getInputString(&quot;resources/file.json&quot;));\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n    }\n</code></pre>\n<p>bellow is the error</p>\n<pre><code>org.opentest4j.AssertionFailedError: Unexpected exception type thrown ==&gt; expected: &lt;java.io.UncheckedIOException&gt; but was: &lt;java.lang.NullPointerException&gt;\n     [java]        org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:65)\n     [java]        org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:37)\n     [java]        org.junit.jupiter.api.Assertions.assertThrows(Assertions.java:3082)\n</code></pre>\n<p>I did not understand, where is the NullPointerException is coming from. Please guide me on this</p>\n"},{"tags":["java","spring-boot","spring-webflux"],"answers":[{"comments":[{"owner":{"account_id":307332,"reputation":2597,"user_id":618563,"accept_rate":47,"display_name":"samxiao"},"score":0,"creation_date":1611251308,"post_id":65827604,"comment_id":116397452,"body_markdown":"Thanks, what&#39;s the downside for using generic type as a wildcard (?) ?","body":"Thanks, what&#39;s the downside for using generic type as a wildcard (?) ?"},{"owner":{"account_id":3656032,"reputation":2735,"user_id":3047038,"display_name":"Michael McFadyen"},"score":0,"creation_date":1611328574,"post_id":65827604,"comment_id":116423824,"body_markdown":"the return type from `webClient.get()` is `RequestHeadersUriSpec&lt;?&gt;`, so I don&#39;t think you have a choice in whether to use the wildcard or not here.","body":"the return type from <code>webClient.get()</code> is <code>RequestHeadersUriSpec&lt;?&gt;</code>, so I don&#39;t think you have a choice in whether to use the wildcard or not here."}],"tags":[],"owner":{"account_id":3656032,"reputation":2735,"user_id":3047038,"display_name":"Michael McFadyen"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611232668,"creation_date":1611232668,"answer_id":65827604,"question_id":65822114,"body_markdown":"To resolve the generic type warning, you can set the generic type as a wildcard (?) ie.\r\n\r\n    WebClient.RequestHeadersSpec&lt;?&gt; requestBodySpec = webClient.get().uri(&quot;https://google.com&quot;);\r\n\r\nAn alternate solution for adding a header based off of a flag in config is to use an ExchangeFilterFunction. \r\n\r\n    public class RefreshExchangeFilterFunction implements ExchangeFilterFunction {\r\n\r\n        private Config config;\r\n\r\n        @Override\r\n        public Mono&lt;ClientResponse&gt; filter(ClientRequest request, ExchangeFunction next) {\r\n            if(config.isRefresh()) {\r\n                return next.exchange(ClientRequest.from(request)\r\n                        .header(&quot;Refresh-Cache&quot;, &quot;true&quot;)\r\n                        .build());\r\n            }\r\n            return next.exchange(request);\r\n        }\r\n    }\r\n\r\nThis can then be applied to any/all web clients that need this behaviour \r\n\r\n    WebClient.builder()\r\n             .filter(refreshExchangeFilterFunction)\r\n             .build();","title":"Add optional header to WebClient get request","body":"<p>To resolve the generic type warning, you can set the generic type as a wildcard (?) ie.</p>\n<pre><code>WebClient.RequestHeadersSpec&lt;?&gt; requestBodySpec = webClient.get().uri(&quot;https://google.com&quot;);\n</code></pre>\n<p>An alternate solution for adding a header based off of a flag in config is to use an ExchangeFilterFunction.</p>\n<pre><code>public class RefreshExchangeFilterFunction implements ExchangeFilterFunction {\n\n    private Config config;\n\n    @Override\n    public Mono&lt;ClientResponse&gt; filter(ClientRequest request, ExchangeFunction next) {\n        if(config.isRefresh()) {\n            return next.exchange(ClientRequest.from(request)\n                    .header(&quot;Refresh-Cache&quot;, &quot;true&quot;)\n                    .build());\n        }\n        return next.exchange(request);\n    }\n}\n</code></pre>\n<p>This can then be applied to any/all web clients that need this behaviour</p>\n<pre><code>WebClient.builder()\n         .filter(refreshExchangeFilterFunction)\n         .build();\n</code></pre>\n"}],"owner":{"account_id":307332,"reputation":2597,"user_id":618563,"accept_rate":47,"display_name":"samxiao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1647,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1674168033,"creation_date":1611210101,"question_id":65822114,"body_markdown":"\r\n\r\nIs there a way to add an optional header to `WebClient` `get()` request?  \r\n\r\n```\r\n    if (config.getRefresh()) {\r\n        webClient.header(&quot;Refresh-Cache&quot;, &quot;true&quot;);\r\n    }\r\n```\r\n\r\nIt seems the whole request is chained on `webClient`\r\n\r\n```\r\nreturn webClient\r\n  .get()\r\n  .uri(uri)\r\n  .header(&quot;Authorization&quot;, BEARER_TOKEN)\r\n  .retrieve()\r\n  .bodyToMono(String.class)\r\n  .block();\r\n```\r\n\r\n\r\nI try to switch to `RequestHeadersSpec` but got this generic type warning\r\n\r\n```\r\n\r\nWebClient.RequestHeadersSpec is a raw type. References to generic type \r\nWebClient.RequestHeadersSpec&lt;S&gt; should be parameterized Java(16777788)\r\n\r\n```\r\n\r\n\r\nI know with `post()`, we can do this\r\n\r\n```\r\nrequestBodySpec = webClientBuilder.build().post().uri(uri);\r\n```\r\n\r\n```\r\n    if (config.getRefresh()) {\r\n        requestBodySpec.header(&quot;Refresh-Cache&quot;, &quot;true&quot;);\r\n    }\r\n```\r\n\r\n\r\n```\r\nreturn requestBodySpec\r\n  .header(&quot;Authorization&quot;, BEARER_TOKEN)\r\n  .body(Mono.just(request), MyRequest.class)\r\n  .retrieve()\r\n  .bodyToMono(String.class)\r\n  .block();\r\n```\r\n","title":"Add optional header to WebClient get request","body":"<p>Is there a way to add an optional header to <code>WebClient</code> <code>get()</code> request?</p>\n<pre><code>    if (config.getRefresh()) {\n        webClient.header(&quot;Refresh-Cache&quot;, &quot;true&quot;);\n    }\n</code></pre>\n<p>It seems the whole request is chained on <code>webClient</code></p>\n<pre><code>return webClient\n  .get()\n  .uri(uri)\n  .header(&quot;Authorization&quot;, BEARER_TOKEN)\n  .retrieve()\n  .bodyToMono(String.class)\n  .block();\n</code></pre>\n<p>I try to switch to <code>RequestHeadersSpec</code> but got this generic type warning</p>\n<pre><code>\nWebClient.RequestHeadersSpec is a raw type. References to generic type \nWebClient.RequestHeadersSpec&lt;S&gt; should be parameterized Java(16777788)\n\n</code></pre>\n<p>I know with <code>post()</code>, we can do this</p>\n<pre><code>requestBodySpec = webClientBuilder.build().post().uri(uri);\n</code></pre>\n<pre><code>    if (config.getRefresh()) {\n        requestBodySpec.header(&quot;Refresh-Cache&quot;, &quot;true&quot;);\n    }\n</code></pre>\n<pre><code>return requestBodySpec\n  .header(&quot;Authorization&quot;, BEARER_TOKEN)\n  .body(Mono.just(request), MyRequest.class)\n  .retrieve()\n  .bodyToMono(String.class)\n  .block();\n</code></pre>\n"},{"tags":["java","jpa","openjpa"],"comments":[{"owner":{"account_id":10198614,"reputation":1,"user_id":7529693,"display_name":"Valeriy"},"score":0,"creation_date":1486482243,"post_id":19042416,"comment_id":71367000,"body_markdown":"also it happens when there is no @Embeddable in JPA key","body":"also it happens when there is no @Embeddable in JPA key"}],"answers":[{"tags":[],"owner":{"account_id":380946,"reputation":8180,"user_id":735284,"accept_rate":73,"display_name":"coderatchet"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1380264422,"creation_date":1380264422,"answer_id":19044352,"question_id":19042416,"body_markdown":"The ChangeRoutineConsumedPK class was not added to the persistence.xml and i had turned off automatic class scanning.\r\n\r\nAdding the class to the persistence.xml fixed the problem\r\n\r\n    &lt;persistence-unit ...&gt;\r\n    ...\r\n    &lt;class&gt;au.com.combined.domain.changeroutine.ChangeRoutineConsumedPK&lt;/class&gt;\r\n    ...\r\n    &lt;/persistence-unit&gt;\r\n","title":"The type &quot;class *&quot; has not been enhanced JPA exception","body":"<p>The ChangeRoutineConsumedPK class was not added to the persistence.xml and i had turned off automatic class scanning.</p>\n\n<p>Adding the class to the persistence.xml fixed the problem</p>\n\n<pre><code>&lt;persistence-unit ...&gt;\n...\n&lt;class&gt;au.com.combined.domain.changeroutine.ChangeRoutineConsumedPK&lt;/class&gt;\n...\n&lt;/persistence-unit&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8468952,"reputation":136,"user_id":6352279,"display_name":"Heath Thomann"},"score":0,"creation_date":1475689967,"post_id":39871780,"comment_id":67048036,"body_markdown":"Just one correction.  In WebSphere you don&#39;t need to use a javaagent for enhancement.  The JPA runtime will enhance your entities automatically (except in some cases where a user is using application managed entity managers).  Finally, in the case where a javaagent is needed (e.g. Eclipse/JSE environment), you need not specify your main class, simply do a -javaagent:&lt;path to jar&gt;; where &quot;&lt;path to jar&gt;&quot; is the location of your OpenJPA jar.  Any classes listed in the persistence.xml file will be enhanced, nothing else (as the originator of this post found out and mentioned in their answer).","body":"Just one correction.  In WebSphere you don&#39;t need to use a javaagent for enhancement.  The JPA runtime will enhance your entities automatically (except in some cases where a user is using application managed entity managers).  Finally, in the case where a javaagent is needed (e.g. Eclipse/JSE environment), you need not specify your main class, simply do a -javaagent:&lt;path to jar&gt;; where &quot;&lt;path to jar&gt;&quot; is the location of your OpenJPA jar.  Any classes listed in the persistence.xml file will be enhanced, nothing else (as the originator of this post found out and mentioned in their answer)."}],"tags":[],"owner":{"account_id":4312299,"reputation":1,"user_id":3523078,"display_name":"Dheeraj Pure"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1475664035,"creation_date":1475664035,"answer_id":39871780,"question_id":19042416,"body_markdown":"if you are executing from main class pass below parameter in execution\r\njava -javaagent:&lt;jar file path&gt;/openjpa.jar com.xyz.Main\r\n\r\nif using eclipse give above value in run Configuration &gt; arguments &gt; VM arguments.","title":"The type &quot;class *&quot; has not been enhanced JPA exception","body":"<p>if you are executing from main class pass below parameter in execution\njava -javaagent:/openjpa.jar com.xyz.Main</p>\n\n<p>if using eclipse give above value in run Configuration > arguments > VM arguments.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1674355011,"post_id":75178973,"comment_id":132696401,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75178973/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27576683,"reputation":1,"user_id":21046732,"display_name":"LucasS"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674167573,"creation_date":1674167573,"answer_id":75178973,"question_id":19042416,"body_markdown":"Similar to an answer above, on MacOS in Intellij I added the following to the JUnit run arguments:\r\n\r\n`-javaagent:/Users/YOUR_USERNAME/.ivy2/cache/org.apache.openjpa/openjpa/bundles/openjpa-3.1.1.jar`\r\n\r\nThis fixed the issue for me.","title":"The type &quot;class *&quot; has not been enhanced JPA exception","body":"<p>Similar to an answer above, on MacOS in Intellij I added the following to the JUnit run arguments:</p>\n<p><code>-javaagent:/Users/YOUR_USERNAME/.ivy2/cache/org.apache.openjpa/openjpa/bundles/openjpa-3.1.1.jar</code></p>\n<p>This fixed the issue for me.</p>\n"}],"owner":{"account_id":380946,"reputation":8180,"user_id":735284,"accept_rate":73,"display_name":"coderatchet"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13432,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":19044352,"answer_count":3,"score":1,"last_activity_date":1674167573,"creation_date":1380254055,"question_id":19042416,"body_markdown":"I am running WebSphere v8, and using JPA persistence in a Java EE 6 environment.\r\n\r\nWhen I attempt to run code that deals with a particular entity, I run into this exception:\r\n\r\n&gt; javax.ejb.EJBTransactionRolledbackException: nested exception is: javax.ejb.EJBTransactionRolledbackException: nested exception is: javax.ejb.EJBException: See nested exception; nested exception is: &lt;openjpa-2.1.2-SNAPSHOT-r422266:1497841 fatal user error&gt; org.apache.openjpa.persistence.ArgumentException: The type &quot;class au.com.combined.domain.changeroutine.ChangeRoutineConsumedPK&quot; has not been enhanced.\r\n\r\nHowever, [this article][1] says that my classes should already be enhanced at runtime. ChangeRoutineConsumedPK is an Embeddable Class. Could someone take a look at my class and tell me what i&#39;m doing wrong? thank you.\r\n\r\n&lt;b&gt;ChangeRoutineConsumed:&lt;/b&gt;\r\n\r\n\t@Entity\r\n\t@Table(name = ChangeRoutineConsumed.TABLE_NAME)\r\n\tpublic class ChangeRoutineConsumed extends BaseBusinessObject {\r\n\t\t\r\n\t\tpublic static final String TABLE_NAME = &quot;COCHANGEROUTINECONSUMED&quot;;\r\n\t\t\r\n\t\t@EmbeddedId\r\n\t\tprivate ChangeRoutineConsumedPK id;\r\n\t\t\r\n\t\tprotected ChangeRoutineConsumed() {\r\n\t\t\tsuper();\r\n\t\t}\r\n\t\t\r\n\t\tpublic ChangeRoutineConsumed(@Min(1) long changeRoutineId, @NotNull String consumedBy){\r\n\t\t\tthis(new ChangeRoutineConsumedPK(changeRoutineId, consumedBy));\r\n\t\t}\r\n\t\t\r\n\t\tpublic ChangeRoutineConsumed(@NotNull ChangeRoutineConsumedPK id){\r\n\t\t\tsuper();\r\n\t\t\tsetId(id);\r\n\t\t}\r\n\t\t...\r\n\t\tpublic int hashCode(){...};\r\n\t\tpublic boolean equals(Object obj){...}\r\n\t}\r\n\r\n&lt;b&gt;ChangeRoutineConsumedPK:&lt;/b&gt;\r\n\r\n\t@Embeddable\r\n\tpublic class ChangeRoutineConsumedPK {\r\n\r\n\t\t@Column\r\n\t\tprivate long changeRoutineId;\r\n\t\t@Column\r\n\t\tprivate String consumedBy;\r\n\t\t\r\n\t\tpublic ChangeRoutineConsumedPK(){}\r\n\t\t\r\n\t\tpublic ChangeRoutineConsumedPK(long changeRoutineId, String consumedBy) {\r\n\t\t\tsetChangeRoutineId(changeRoutineId);\r\n\t\t\tsetConsumedBy(consumedBy);\r\n\t\t}\r\n\t\t...\r\n\r\n\t\tpublic int hashCode() {...}\r\n\t\tpublic boolean equals(Object obj) {...}\r\n\t}\r\n\r\n\r\n[1]:http://webspherepersistence.blogspot.com.au/2009/02/openjpa-enhancement.html","title":"The type &quot;class *&quot; has not been enhanced JPA exception","body":"<p>I am running WebSphere v8, and using JPA persistence in a Java EE 6 environment.</p>\n\n<p>When I attempt to run code that deals with a particular entity, I run into this exception:</p>\n\n<blockquote>\n  <p>javax.ejb.EJBTransactionRolledbackException: nested exception is: javax.ejb.EJBTransactionRolledbackException: nested exception is: javax.ejb.EJBException: See nested exception; nested exception is:  org.apache.openjpa.persistence.ArgumentException: The type \"class au.com.combined.domain.changeroutine.ChangeRoutineConsumedPK\" has not been enhanced.</p>\n</blockquote>\n\n<p>However, <a href=\"http://webspherepersistence.blogspot.com.au/2009/02/openjpa-enhancement.html\" rel=\"nofollow\">this article</a> says that my classes should already be enhanced at runtime. ChangeRoutineConsumedPK is an Embeddable Class. Could someone take a look at my class and tell me what i'm doing wrong? thank you.</p>\n\n<p><b>ChangeRoutineConsumed:</b></p>\n\n<pre><code>@Entity\n@Table(name = ChangeRoutineConsumed.TABLE_NAME)\npublic class ChangeRoutineConsumed extends BaseBusinessObject {\n\n    public static final String TABLE_NAME = \"COCHANGEROUTINECONSUMED\";\n\n    @EmbeddedId\n    private ChangeRoutineConsumedPK id;\n\n    protected ChangeRoutineConsumed() {\n        super();\n    }\n\n    public ChangeRoutineConsumed(@Min(1) long changeRoutineId, @NotNull String consumedBy){\n        this(new ChangeRoutineConsumedPK(changeRoutineId, consumedBy));\n    }\n\n    public ChangeRoutineConsumed(@NotNull ChangeRoutineConsumedPK id){\n        super();\n        setId(id);\n    }\n    ...\n    public int hashCode(){...};\n    public boolean equals(Object obj){...}\n}\n</code></pre>\n\n<p><b>ChangeRoutineConsumedPK:</b></p>\n\n<pre><code>@Embeddable\npublic class ChangeRoutineConsumedPK {\n\n    @Column\n    private long changeRoutineId;\n    @Column\n    private String consumedBy;\n\n    public ChangeRoutineConsumedPK(){}\n\n    public ChangeRoutineConsumedPK(long changeRoutineId, String consumedBy) {\n        setChangeRoutineId(changeRoutineId);\n        setConsumedBy(consumedBy);\n    }\n    ...\n\n    public int hashCode() {...}\n    public boolean equals(Object obj) {...}\n}\n</code></pre>\n"},{"tags":["java","selenium","xpath","css-selectors","build-automation"],"answers":[{"tags":[],"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674167394,"creation_date":1674165842,"answer_id":75178768,"question_id":75178453,"body_markdown":"You can use this XPath to locate that element:\r\n```\r\n&quot;//a[contains(@href,&#39;Logout&#39;)]&quot;\r\n```\r\nOr this CSS Selector:\r\n```\r\n&quot;a[href*=&#39;Logout&#39;]&quot;\r\n```","title":"Java, Selenium. How to locate a hyperlink WebElement?","body":"<p>You can use this XPath to locate that element:</p>\n<pre><code>&quot;//a[contains(@href,'Logout')]&quot;\n</code></pre>\n<p>Or this CSS Selector:</p>\n<pre><code>&quot;a[href*='Logout']&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674167258,"creation_date":1674167258,"answer_id":75178932,"question_id":75178453,"body_markdown":"If you observe closely the text _**Sign out**_ is actually within a `&lt;div&gt;` which have an ancestor `&lt;span&gt;` which again have an ancestor `&lt;a&gt;`\r\n\r\nSo an effective [locator strategy](https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver) can be:\r\n\r\n- Using _xpath_:\r\n\r\n\t  @FindBy(xpath=&quot;//a//span//div[text()=&#39;Sign out&#39;]&quot;)\r\n\t  WebElement logoutLink;","title":"Java, Selenium. How to locate a hyperlink WebElement?","body":"<p>If you observe closely the text <em><strong>Sign out</strong></em> is actually within a <code>&lt;div&gt;</code> which have an ancestor <code>&lt;span&gt;</code> which again have an ancestor <code>&lt;a&gt;</code></p>\n<p>So an effective <a href=\"https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver\">locator strategy</a> can be:</p>\n<ul>\n<li><p>Using <em>xpath</em>:</p>\n<pre><code>@FindBy(xpath=&quot;//a//span//div[text()='Sign out']&quot;)\nWebElement logoutLink;\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":27523498,"reputation":1,"user_id":21003233,"display_name":"Thao Le"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1674167394,"creation_date":1674163608,"question_id":75178453,"body_markdown":"I&#39;m trying to perform a click action on the &quot;sign out&quot; link on Gmail but my console keep saying that it&#39;s unable to locate the element. Below is my code.Thank you!\r\n\r\n\r\n\r\n```\r\n@FindBy(linkText=&quot;Sign out&quot;)\r\nWebElement logoutLink;\r\n```\r\nThis is the HTML:\r\n\r\n[enter image description here](https://i.stack.imgur.com/OQ9SL.png)\r\n\r\nAnd this is the WebElement:\r\n\r\nhttps://i.stack.imgur.com/JI9r6.png\r\n\r\n\r\n","title":"Java, Selenium. How to locate a hyperlink WebElement?","body":"<p>I'm trying to perform a click action on the &quot;sign out&quot; link on Gmail but my console keep saying that it's unable to locate the element. Below is my code.Thank you!</p>\n<pre><code>@FindBy(linkText=&quot;Sign out&quot;)\nWebElement logoutLink;\n</code></pre>\n<p>This is the HTML:</p>\n<p><a href=\"https://i.stack.imgur.com/OQ9SL.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>And this is the WebElement:</p>\n<p><a href=\"https://i.stack.imgur.com/JI9r6.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/JI9r6.png</a></p>\n"},{"tags":["java","instrumentation","open-telemetry","telemetry","otlp-grpc"],"comments":[{"owner":{"account_id":6288724,"reputation":676,"user_id":8568673,"display_name":"Jeredriq Demas"},"score":0,"creation_date":1674126661,"post_id":75169063,"comment_id":132650336,"body_markdown":"Can you also add some exception logs?","body":"Can you also add some exception logs?"},{"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1674160146,"post_id":75169063,"comment_id":132661774,"body_markdown":"Sounds like you&#39;re not using a dependency manager like Maven?","body":"Sounds like you&#39;re not using a dependency manager like Maven?"},{"owner":{"account_id":4634829,"reputation":213,"user_id":3756360,"accept_rate":67,"display_name":"Rotem E"},"score":0,"creation_date":1674369231,"post_id":75169063,"comment_id":132697500,"body_markdown":"@Ga&#235;lJ it&#39;s true, we did it manually. Why do you ask?","body":"@Ga&#235;lJ it&#39;s true, we did it manually. Why do you ask?"},{"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1674370115,"post_id":75169063,"comment_id":132697553,"body_markdown":"I suppose using a dependency manager would avoid the trouble. Sounds the library you think is added to your project is not in reality.","body":"I suppose using a dependency manager would avoid the trouble. Sounds the library you think is added to your project is not in reality."},{"owner":{"account_id":3053597,"reputation":580,"user_id":2587704,"accept_rate":50,"display_name":"JackB"},"score":0,"creation_date":1680797253,"post_id":75169063,"comment_id":133961928,"body_markdown":"Are you sure all your dependencies are using the same version? We strongly recommend using the opentelemetry-bom to keep dependencies versions in sync: https://github.com/open-telemetry/opentelemetry-java#published-releases","body":"Are you sure all your dependencies are using the same version? We strongly recommend using the opentelemetry-bom to keep dependencies versions in sync: <a href=\"https://github.com/open-telemetry/opentelemetry-java#published-releases\" rel=\"nofollow noreferrer\">github.com/open-telemetry/opentelemetry-java#published-relea&zwnj;&#8203;ses</a>"}],"owner":{"account_id":14818098,"reputation":11,"user_id":10701360,"display_name":"AKH"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1778,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674166957,"creation_date":1674114192,"question_id":75169063,"body_markdown":"I&#39;ve been trying to create a SdkTracerProvider as described in the formal guide of OpenTelemetry (https://opentelemetry.io/docs/instrumentation/java/manual/)\r\nbut keep getting a &quot;**NoClassDefFoundError**&quot; for **Marshaler.java** which is in opentelemetry-exporter-otlp-common jar.\r\n\r\n```\r\nResource resource = Resource.getDefault()\r\n            .merge(Resource.create(Attributes.of(ResourceAttributes.SERVICE_NAME, &quot;logical-service-name&quot;)));\r\n\r\nSdkTracerProvider sdkTracerProvider = SdkTracerProvider.builder()\r\n            .addSpanProcessor(BatchSpanProcessor.builder(OtlpGrpcSpanExporter.builder().build()).build())\r\n            .setResource(resource)\r\n            .build();\r\n```\r\n\r\n\r\nThe exception is thrown at - \r\n```\r\nOtlpGrpcSpanExporter.builder()\r\n```\r\n\r\nI have defined a new library in the project structure with source and class, and created the dependency needed for the module I use. I see the class itself appears in the external libraries consumed by the project.\r\nAlso, I was able to consume other jars in the library without errors -\r\n```\r\nio.opentelemetry.sdk.resources.Resource \r\n```\r\nfor example.\r\n\r\nStack trace:\r\n\r\n    java.lang.NoClassDefFoundError: io/opentelemetry/exporter/internal/marshal/Marshaler    \r\n        at ---Calling class---\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:124)\r\n        at org.testng.internal.Invoker.invokeMethod(Invoker.java:583)\r\n        at org.testng.internal.Invoker.invokeTestMethod(Invoker.java:719)\r\n        at org.testng.internal.Invoker.invokeTestMethods(Invoker.java:989)\r\n        at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:125)\r\n        at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:109)\r\n        at org.testng.TestRunner.privateRun(TestRunner.java:648)\r\n        at org.testng.TestRunner.run(TestRunner.java:505)\r\n        at org.testng.SuiteRunner.runTest(SuiteRunner.java:455)\r\n        at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:450)\r\n        at org.testng.SuiteRunner.privateRun(SuiteRunner.java:415)\r\n        at org.testng.SuiteRunner.run(SuiteRunner.java:364)\r\n        at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n        at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:84)\r\n        at org.testng.TestNG.runSuitesSequentially(TestNG.java:1208)\r\n        at org.testng.TestNG.runSuitesLocally(TestNG.java:1137)\r\n        at org.testng.TestNG.runSuites(TestNG.java:1049)\r\n        at org.testng.TestNG.run(TestNG.java:1017)\r\n        at com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\r\n        at com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:109)\r\n    Caused by: java.lang.ClassNotFoundException: io.opentelemetry.exporter.internal.marshal.Marshaler\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n        ... 25 more","title":"OpenTelemetry manual instrumentation NoClassDefFoundError - Java","body":"<p>I've been trying to create a SdkTracerProvider as described in the formal guide of OpenTelemetry (<a href=\"https://opentelemetry.io/docs/instrumentation/java/manual/\" rel=\"nofollow noreferrer\">https://opentelemetry.io/docs/instrumentation/java/manual/</a>)\nbut keep getting a &quot;<strong>NoClassDefFoundError</strong>&quot; for <strong>Marshaler.java</strong> which is in opentelemetry-exporter-otlp-common jar.</p>\n<pre><code>Resource resource = Resource.getDefault()\n            .merge(Resource.create(Attributes.of(ResourceAttributes.SERVICE_NAME, &quot;logical-service-name&quot;)));\n\nSdkTracerProvider sdkTracerProvider = SdkTracerProvider.builder()\n            .addSpanProcessor(BatchSpanProcessor.builder(OtlpGrpcSpanExporter.builder().build()).build())\n            .setResource(resource)\n            .build();\n</code></pre>\n<p>The exception is thrown at -</p>\n<pre><code>OtlpGrpcSpanExporter.builder()\n</code></pre>\n<p>I have defined a new library in the project structure with source and class, and created the dependency needed for the module I use. I see the class itself appears in the external libraries consumed by the project.\nAlso, I was able to consume other jars in the library without errors -</p>\n<pre><code>io.opentelemetry.sdk.resources.Resource \n</code></pre>\n<p>for example.</p>\n<p>Stack trace:</p>\n<pre><code>java.lang.NoClassDefFoundError: io/opentelemetry/exporter/internal/marshal/Marshaler    \n    at ---Calling class---\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:124)\n    at org.testng.internal.Invoker.invokeMethod(Invoker.java:583)\n    at org.testng.internal.Invoker.invokeTestMethod(Invoker.java:719)\n    at org.testng.internal.Invoker.invokeTestMethods(Invoker.java:989)\n    at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:125)\n    at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:109)\n    at org.testng.TestRunner.privateRun(TestRunner.java:648)\n    at org.testng.TestRunner.run(TestRunner.java:505)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:455)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:450)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:415)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:364)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:84)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1208)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1137)\n    at org.testng.TestNG.runSuites(TestNG.java:1049)\n    at org.testng.TestNG.run(TestNG.java:1017)\n    at com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\n    at com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:109)\nCaused by: java.lang.ClassNotFoundException: io.opentelemetry.exporter.internal.marshal.Marshaler\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    ... 25 more\n</code></pre>\n"},{"tags":["java","android","jvm","android-studio"],"comments":[{"owner":{"account_id":1806723,"reputation":708,"user_id":1643692,"display_name":"Veselin Romić"},"score":0,"creation_date":1406067337,"post_id":24898684,"comment_id":38679770,"body_markdown":"Just for reference, my JAVA_HOME is identical to yours, so you can rule that out as an issue as long as you&#39;re sure your JDK is 64-bit.","body":"Just for reference, my JAVA_HOME is identical to yours, so you can rule that out as an issue as long as you&#39;re sure your JDK is 64-bit."},{"owner":{"account_id":263359,"reputation":4826,"user_id":548854,"accept_rate":100,"display_name":"Qarib Haider"},"score":0,"creation_date":1406067506,"post_id":24898684,"comment_id":38679830,"body_markdown":"I installed x64 bit version of JDK .. also as you can see my JDK path its not inside `Program Files (x86)` folder so that clears this also ..","body":"I installed x64 bit version of JDK .. also as you can see my JDK path its not inside <code>Program Files (x86)</code> folder so that clears this also .."},{"owner":{"account_id":2133493,"reputation":21013,"user_id":1893766,"display_name":"ozbek"},"score":0,"creation_date":1406080863,"post_id":24898684,"comment_id":38683372,"body_markdown":"Just be on the safe side, please include the output of `java -version` in the question body.","body":"Just be on the safe side, please include the output of <code>java -version</code> in the question body."},{"owner":{"account_id":147282,"reputation":33873,"user_id":358281,"display_name":"Varun"},"score":1,"creation_date":1406338745,"post_id":24898684,"comment_id":38807758,"body_markdown":"I think you cant run Android Studio with Java 8. I installed Studio on a Mac Yosemite today and studio complained that it needed Java 6. Try installing java 7. On windows I used to have a Java 7 installed.","body":"I think you cant run Android Studio with Java 8. I installed Studio on a Mac Yosemite today and studio complained that it needed Java 6. Try installing java 7. On windows I used to have a Java 7 installed."},{"owner":{"account_id":263359,"reputation":4826,"user_id":548854,"accept_rate":100,"display_name":"Qarib Haider"},"score":0,"creation_date":1406418866,"post_id":24898684,"comment_id":38826265,"body_markdown":"Well, that&#39;s my assumption too that it doesn&#39;t runs with java 8 .. but why and where it is reported ? as I can&#39;t see any where this thing listed ..","body":"Well, that&#39;s my assumption too that it doesn&#39;t runs with java 8 .. but why and where it is reported ? as I can&#39;t see any where this thing listed .."},{"owner":{"account_id":189621,"reputation":39951,"user_id":429063,"display_name":"Chris Stratton"},"score":0,"creation_date":1406441184,"post_id":24898684,"comment_id":38829479,"body_markdown":"Read the system requirements at developer.android.com","body":"Read the system requirements at developer.android.com"},{"owner":{"account_id":1855114,"reputation":364,"user_id":1680876,"display_name":"krunal shah"},"score":0,"creation_date":1441953652,"post_id":24898684,"comment_id":52892340,"body_markdown":"make sure java bin path also set in &quot;system variables&quot;.","body":"make sure java bin path also set in &quot;system variables&quot;."},{"owner":{"account_id":125851,"reputation":774,"user_id":321922,"accept_rate":86,"display_name":"Michael"},"score":0,"creation_date":1454038125,"post_id":24898684,"comment_id":57875296,"body_markdown":"For those getting this error on Windows 10, try installing JDK 7 64-bit from here - it worked for me. http://www.oracle.com/technetwork/java/javase/downloads/jdk7-downloads-1880260.html","body":"For those getting this error on Windows 10, try installing JDK 7 64-bit from here - it worked for me. <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk7-downloads-1880260.html\" rel=\"nofollow noreferrer\">oracle.com/technetwork/java/javase/downloads/&hellip;</a>"},{"owner":{"account_id":7009562,"reputation":529,"user_id":5376073,"accept_rate":80,"display_name":"Tomislav Brabec"},"score":0,"creation_date":1615216662,"post_id":24898684,"comment_id":117616039,"body_markdown":"I have [answered on another thread](https://stackoverflow.com/a/66532284/5376073) what was working for me.","body":"I have <a href=\"https://stackoverflow.com/a/66532284/5376073\">answered on another thread</a> what was working for me."}],"answers":[{"comments":[{"owner":{"account_id":263359,"reputation":4826,"user_id":548854,"accept_rate":100,"display_name":"Qarib Haider"},"score":0,"creation_date":1406418741,"post_id":24966609,"comment_id":38826241,"body_markdown":"I have installed the same JDK .. JDK runs fine .. as I have no problems running programs over eclipse ..","body":"I have installed the same JDK .. JDK runs fine .. as I have no problems running programs over eclipse .."},{"owner":{"account_id":411142,"reputation":34094,"user_id":783412,"accept_rate":100,"display_name":"hd1"},"score":0,"creation_date":1406436414,"post_id":24966609,"comment_id":38828868,"body_markdown":"Please compile/run the code I just added in and let me know what it says.","body":"Please compile/run the code I just added in and let me know what it says."},{"owner":{"account_id":555095,"reputation":1782,"user_id":1262187,"accept_rate":18,"display_name":"simar"},"score":0,"creation_date":1406701139,"post_id":24966609,"comment_id":38926760,"body_markdown":"usually for all idea product there is a &#39;bat&#39; launcher in bin directory. it clearly states that JDK_HOME and JAVA_HOME both are accepted. Try to launch it and see what will happend after. At least if there is a problem u will see it in console. Then u can look into source of bat file. It is relly self describing.","body":"usually for all idea product there is a &#39;bat&#39; launcher in bin directory. it clearly states that JDK_HOME and JAVA_HOME both are accepted. Try to launch it and see what will happend after. At least if there is a problem u will see it in console. Then u can look into source of bat file. It is relly self describing."}],"tags":[],"owner":{"account_id":411142,"reputation":34094,"user_id":783412,"accept_rate":100,"display_name":"hd1"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1406436392,"creation_date":1406337820,"answer_id":24966609,"question_id":24898684,"body_markdown":"According to Oracle&#39;s [installation notes](http://www.oracle.com/technetwork/java/javase/documentation/install-windows-142126.html), you should download/install [JDK for the correct system](http://download.oracle.com/otn-pub/java/jdk/8u11-b12/jdk-8u11-windows-x64.exe). For your convenience, I have linked to it from the sentence above. If you still encounter problems, leave a comment. I have written some quick code that will tell you if [your JVM is 64 or 32-bit](https://stackoverflow.com/questions/2062020/how-can-i-tell-if-im-running-in-64-bit-jvm-or-32-bit-jvm-from-within-a-program), below. I&#39;d suggest you run this class and leave a comment as to its output:\r\n\r\n    public class CheckMemoryMode {\r\n        public static void main(String[] args) {\r\n            System.err.println(System.getProperty(&quot;sun.arch.data.model&quot;));\r\n        }\r\n    }","title":"Android Studio - No JVM Installation found","body":"<p>According to Oracle's <a href=\"http://www.oracle.com/technetwork/java/javase/documentation/install-windows-142126.html\" rel=\"nofollow noreferrer\">installation notes</a>, you should download/install <a href=\"http://download.oracle.com/otn-pub/java/jdk/8u11-b12/jdk-8u11-windows-x64.exe\" rel=\"nofollow noreferrer\">JDK for the correct system</a>. For your convenience, I have linked to it from the sentence above. If you still encounter problems, leave a comment. I have written some quick code that will tell you if <a href=\"https://stackoverflow.com/questions/2062020/how-can-i-tell-if-im-running-in-64-bit-jvm-or-32-bit-jvm-from-within-a-program\">your JVM is 64 or 32-bit</a>, below. I'd suggest you run this class and leave a comment as to its output:</p>\n\n<pre><code>public class CheckMemoryMode {\n    public static void main(String[] args) {\n        System.err.println(System.getProperty(\"sun.arch.data.model\"));\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":263359,"reputation":4826,"user_id":548854,"accept_rate":100,"display_name":"Qarib Haider"},"score":0,"creation_date":1406641758,"post_id":25007422,"comment_id":38902280,"body_markdown":"I know I can make it work if I downgrade the JAVA version .. but why should I do so ? thats the question ..","body":"I know I can make it work if I downgrade the JAVA version .. but why should I do so ? thats the question .."},{"owner":{"account_id":469429,"reputation":3282,"user_id":876001,"accept_rate":100,"display_name":"Martin Revert"},"score":0,"creation_date":1406694278,"post_id":25007422,"comment_id":38924710,"body_markdown":"As I&#39;m trying to suggest, your JAVA enviromental paths are maybe dirty/duped from previous installations and confusing Android Studio. Intellij Idea is nearly JAVA 8 compatible, but you&#39;ll cannot exploit any JAVA 8 feature because Android doesn&#39;t support it yet. Just double check to clean it all and install JAVA 7, it will be fine.","body":"As I&#39;m trying to suggest, your JAVA enviromental paths are maybe dirty/duped from previous installations and confusing Android Studio. Intellij Idea is nearly JAVA 8 compatible, but you&#39;ll cannot exploit any JAVA 8 feature because Android doesn&#39;t support it yet. Just double check to clean it all and install JAVA 7, it will be fine."},{"owner":{"account_id":3633781,"reputation":996,"user_id":3029413,"accept_rate":43,"display_name":"a person"},"score":0,"creation_date":1406936970,"post_id":25007422,"comment_id":39040498,"body_markdown":"Because you can&#39;t use Java 8 in Android.","body":"Because you can&#39;t use Java 8 in Android."}],"tags":[],"owner":{"account_id":469429,"reputation":3282,"user_id":876001,"accept_rate":100,"display_name":"Martin Revert"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1406601406,"creation_date":1406601406,"answer_id":25007422,"question_id":24898684,"body_markdown":"Uninstall Java 8 and clean your JDK_HOME and your JAVA_HOME enviromental paths. Then install 64bit JAVA 6 or 7 JDK of your preference.","title":"Android Studio - No JVM Installation found","body":"<p>Uninstall Java 8 and clean your JDK_HOME and your JAVA_HOME enviromental paths. Then install 64bit JAVA 6 or 7 JDK of your preference.</p>\n"},{"comments":[{"owner":{"account_id":2882320,"reputation":684,"user_id":2472905,"display_name":"Robert Dean"},"score":0,"creation_date":1406772505,"post_id":25027037,"comment_id":38964268,"body_markdown":"What does `%JAVA_HOME%\\bin\\java -version` show for output?","body":"What does <code>%JAVA_HOME%\\bin\\java -version</code> show for output?"},{"owner":{"display_name":"user2993456"},"score":1,"creation_date":1406833034,"post_id":25027037,"comment_id":38996463,"body_markdown":"just a crazy thought, maybe rename the JAVE_HOME variable a second time as JAVA_HOME, in case there is a space or non-printable character interfering?","body":"just a crazy thought, maybe rename the JAVE_HOME variable a second time as JAVA_HOME, in case there is a space or non-printable character interfering?"},{"owner":{"account_id":3484522,"reputation":6667,"user_id":2915785,"accept_rate":82,"display_name":"Naveed Ahmad"},"score":1,"creation_date":1424153348,"post_id":25027037,"comment_id":45423740,"body_markdown":"This should be the selected ans","body":"This should be the selected ans"}],"tags":[],"owner":{"account_id":2882320,"reputation":684,"user_id":2472905,"display_name":"Robert Dean"},"comment_count":3,"down_vote_count":0,"up_vote_count":50,"is_accepted":false,"score":50,"last_activity_date":1418638669,"creation_date":1406680171,"answer_id":25027037,"question_id":24898684,"body_markdown":"I reproduced your issue on my **Windows 8.1** system :\r\n\r\n 1. Installed [64-bit JDK 1.8.0_11][1].\r\n 2. Installed latest Android Studio Bundle.\r\n 3. Went to **Control Panel -&gt; System -&gt; Advanced system settings -&gt; Environment Variables...**\r\n 4. Added **JDK_HOME** pointing to my 64-bit JDK.\r\n 5. Launched **studio64.exe**\r\n\r\nI got the same message you did. Thinking that it might be the environment variable, I did the following :\r\n\r\n 1. Went to **Control Panel -&gt; System -&gt; Advanced system settings -&gt; Environment Variables...**\r\n 2. Changed the name of **JDK_HOME** to **JAVA_HOME**.\r\n 3. Launched **studio64.exe**\r\n\r\nIt came up successfully !\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html","title":"Android Studio - No JVM Installation found","body":"<p>I reproduced your issue on my <strong>Windows 8.1</strong> system :</p>\n\n<ol>\n<li>Installed <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" rel=\"noreferrer\">64-bit JDK 1.8.0_11</a>.</li>\n<li>Installed latest Android Studio Bundle.</li>\n<li>Went to <strong>Control Panel -> System -> Advanced system settings -> Environment Variables...</strong></li>\n<li>Added <strong>JDK_HOME</strong> pointing to my 64-bit JDK.</li>\n<li>Launched <strong>studio64.exe</strong></li>\n</ol>\n\n<p>I got the same message you did. Thinking that it might be the environment variable, I did the following :</p>\n\n<ol>\n<li>Went to <strong>Control Panel -> System -> Advanced system settings -> Environment Variables...</strong></li>\n<li>Changed the name of <strong>JDK_HOME</strong> to <strong>JAVA_HOME</strong>.</li>\n<li>Launched <strong>studio64.exe</strong></li>\n</ol>\n\n<p>It came up successfully !</p>\n"},{"comments":[{"owner":{"account_id":263359,"reputation":4826,"user_id":548854,"accept_rate":100,"display_name":"Qarib Haider"},"score":0,"creation_date":1407062182,"post_id":25054118,"comment_id":39065189,"body_markdown":"This looks promising .. will give it a go .. will accept the answer if it works","body":"This looks promising .. will give it a go .. will accept the answer if it works"},{"owner":{"account_id":3187522,"reputation":2352,"user_id":2692747,"accept_rate":50,"display_name":"gderaco"},"score":53,"creation_date":1417264340,"post_id":25054118,"comment_id":42887630,"body_markdown":"No studio.bat in bin folder of Android Studio RC 1","body":"No studio.bat in bin folder of Android Studio RC 1"},{"owner":{"account_id":55135,"reputation":21845,"user_id":165071,"accept_rate":96,"display_name":"Alexander Farber"},"score":0,"creation_date":1418906988,"post_id":25054118,"comment_id":43520258,"body_markdown":"That&#39;s correct, you have to create your own file named &quot;studio.bat&quot;.","body":"That&#39;s correct, you have to create your own file named &quot;studio.bat&quot;."},{"owner":{"account_id":920861,"reputation":1078,"user_id":952595,"accept_rate":55,"display_name":"Vincy"},"score":14,"creation_date":1419345813,"post_id":25054118,"comment_id":43665592,"body_markdown":"FYI: I was getting the same error but in my case I was pointing it to the bin folder in my Java_Home path.  Once I changed it to its parent folder to C:\\Program Files\\Java\\jdk1.8.0_25, everything went smooth.","body":"FYI: I was getting the same error but in my case I was pointing it to the bin folder in my Java_Home path.  Once I changed it to its parent folder to C:\\Program Files\\Java\\jdk1.8.0_25, everything went smooth."},{"owner":{"account_id":1788462,"reputation":4464,"user_id":1629362,"accept_rate":69,"display_name":"bitkot"},"score":0,"creation_date":1419595937,"post_id":25054118,"comment_id":43729736,"body_markdown":"@Hudixt It could be because you don&#39;t have permission to do so. Login as Admin and try.","body":"@Hudixt It could be because you don&#39;t have permission to do so. Login as Admin and try."},{"owner":{"account_id":1050052,"reputation":380,"user_id":1054216,"display_name":"F2000"},"score":3,"creation_date":1422620114,"post_id":25054118,"comment_id":44832808,"body_markdown":"In addition to Alexander, here is the content needed by &quot;studio.bat&quot; : @echo off #NEXT_LINE# set JAVA_HOME=C:\\Program Files\\Java\\jdk1.8.0_31 #NEXT_LINE# cd &quot;C:\\Utilitaires\\Development\\Android Studio\\bin&quot; &amp; Start studio64.exe (#NEXT_LINE# is here only for formatting)","body":"In addition to Alexander, here is the content needed by &quot;studio.bat&quot; : @echo off #NEXT_LINE# set JAVA_HOME=C:\\Program Files\\Java\\jdk1.8.0_31 #NEXT_LINE# cd &quot;C:\\Utilitaires\\Development\\Android Studio\\bin&quot; &amp; Start studio64.exe (#NEXT_LINE# is here only for formatting)"},{"owner":{"account_id":1491459,"reputation":837,"user_id":1398461,"accept_rate":68,"display_name":"kuldeep"},"score":0,"creation_date":1428312078,"post_id":25054118,"comment_id":47098966,"body_markdown":"I came across this issue today. When I installed android studio and jdk one day back everything worked fine. I went home and came back today and restarted the system, i got this error. I went through this thread, however, i just clicked on the android studio binary and right clicked and did run as administrator. The android studio came up fine. I am not sure but I think may be because i installed jdk as administrator I got this error while I was not running android studio as administrator. Last thing i am happy it worked for me. My installation jdk 1.8 64 bit , windows 8.1 64 bit.","body":"I came across this issue today. When I installed android studio and jdk one day back everything worked fine. I went home and came back today and restarted the system, i got this error. I went through this thread, however, i just clicked on the android studio binary and right clicked and did run as administrator. The android studio came up fine. I am not sure but I think may be because i installed jdk as administrator I got this error while I was not running android studio as administrator. Last thing i am happy it worked for me. My installation jdk 1.8 64 bit , windows 8.1 64 bit."},{"owner":{"account_id":1866848,"reputation":18503,"user_id":1690193,"accept_rate":93,"display_name":"Nick.Mc"},"score":4,"creation_date":1447676783,"post_id":25054118,"comment_id":55239100,"body_markdown":"I had this issue. The problem was that the start menu shortcut was launching `studio64.exe` whereas my `JAVA_HOME` was pointing at a 32 bit version. When I ran `studio.exe` instead, it started fine. I used this path: `C:\\Program Files (x86)\\Java\\jdk1.7.0_55`","body":"I had this issue. The problem was that the start menu shortcut was launching <code>studio64.exe</code> whereas my <code>JAVA_HOME</code> was pointing at a 32 bit version. When I ran <code>studio.exe</code> instead, it started fine. I used this path: <code>C:\\Program Files (x86)\\Java\\jdk1.7.0_55</code>"},{"owner":{"account_id":470059,"reputation":422,"user_id":877033,"accept_rate":54,"display_name":"naviciroel"},"score":0,"creation_date":1467394218,"post_id":25054118,"comment_id":63731507,"body_markdown":"This answer seems to works for some of us. But on my other PC the funny this happened when I encountered this issue I just remove the JAVA_HOME just for curiosity then run the studio.exe well it works just try it might help you.","body":"This answer seems to works for some of us. But on my other PC the funny this happened when I encountered this issue I just remove the JAVA_HOME just for curiosity then run the studio.exe well it works just try it might help you."}],"tags":[],"owner":{"account_id":1788462,"reputation":4464,"user_id":1629362,"accept_rate":69,"display_name":"bitkot"},"comment_count":9,"down_vote_count":1,"up_vote_count":70,"is_accepted":true,"score":69,"last_activity_date":1406877201,"creation_date":1406795112,"answer_id":25054118,"question_id":24898684,"body_markdown":"I had the same problem. I tried setting all kind of paths but nothing worked. So I had to do some dirty fix. The only problem with this is that it opens a blank command line window.\r\n\r\nI did the following to make it work.\r\n\r\n * goto the AndroidStudio installation folder.\r\n * goto `bin` folder and open `studio.bat` in text editor\r\n * add `set JAVA_HOME=C:\\Program Files\\Java2\\jdk1.8.0`//your java path after the ECHO line.\r\n * goto `Start` -&gt; `All Programmes` -&gt; `Android Studio` -&gt; \r\n * right click on `Android Studio` and click on `properties`.\r\n * You will see the `Target` something like `&lt;installation path&gt;android-studio\\bin\\studio64.exe`\r\n * change it to `&lt;installation path&gt;android-studio\\bin\\studio.bat`\r\n\r\nNow you can access it by clicking it from the menu.\r\n\r\n**Note :** I tried it with 8, It works.","title":"Android Studio - No JVM Installation found","body":"<p>I had the same problem. I tried setting all kind of paths but nothing worked. So I had to do some dirty fix. The only problem with this is that it opens a blank command line window.</p>\n\n<p>I did the following to make it work.</p>\n\n<ul>\n<li>goto the AndroidStudio installation folder.</li>\n<li>goto <code>bin</code> folder and open <code>studio.bat</code> in text editor</li>\n<li>add <code>set JAVA_HOME=C:\\Program Files\\Java2\\jdk1.8.0</code>//your java path after the ECHO line.</li>\n<li>goto <code>Start</code> -> <code>All Programmes</code> -> <code>Android Studio</code> -> </li>\n<li>right click on <code>Android Studio</code> and click on <code>properties</code>.</li>\n<li>You will see the <code>Target</code> something like <code>&lt;installation path&gt;android-studio\\bin\\studio64.exe</code></li>\n<li>change it to <code>&lt;installation path&gt;android-studio\\bin\\studio.bat</code></li>\n</ul>\n\n<p>Now you can access it by clicking it from the menu.</p>\n\n<p><strong>Note :</strong> I tried it with 8, It works.</p>\n"},{"comments":[{"owner":{"account_id":235725,"reputation":1142,"user_id":502735,"display_name":"Dalinaum"},"score":1,"creation_date":1413526226,"post_id":25072904,"comment_id":41484388,"body_markdown":"No. Android supports JDK 7. You should check Android Studio instead of ADT. https://developer.android.com/sdk/installing/studio.html","body":"No. Android supports JDK 7. You should check Android Studio instead of ADT. <a href=\"https://developer.android.com/sdk/installing/studio.html\" rel=\"nofollow noreferrer\">developer.android.com/sdk/installing/studio.html</a>"}],"tags":[],"owner":{"account_id":2100275,"reputation":7433,"user_id":4390557,"accept_rate":27,"display_name":"VVB"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1406867489,"creation_date":1406867489,"answer_id":25072904,"question_id":24898684,"body_markdown":"I think Android does not support Java 8. Officially android need java 6 as mentioned at the below: \r\n\r\nhttps://developer.android.com/sdk/installing/installing-adt.html\r\n\r\nHere I&#39;m providing you a good link, hope those will clear this question :\r\n\r\nhttps://stackoverflow.com/questions/23318109/is-it-possible-to-use-java-8-for-android-development","title":"Android Studio - No JVM Installation found","body":"<p>I think Android does not support Java 8. Officially android need java 6 as mentioned at the below: </p>\n\n<p><a href=\"https://developer.android.com/sdk/installing/installing-adt.html\" rel=\"nofollow noreferrer\">https://developer.android.com/sdk/installing/installing-adt.html</a></p>\n\n<p>Here I'm providing you a good link, hope those will clear this question :</p>\n\n<p><a href=\"https://stackoverflow.com/questions/23318109/is-it-possible-to-use-java-8-for-android-development\">Is it possible to use Java 8 for Android development?</a></p>\n"},{"comments":[{"owner":{"account_id":387599,"reputation":106,"user_id":746046,"display_name":"Izzy Helianthus"},"score":0,"creation_date":1436524163,"post_id":25386926,"comment_id":50661114,"body_markdown":"Sometimes you don&#39;t need to run on 64-bit. This one solves my problem. I realized that Android Studio has both version of EXE. So now I&#39;m doing fine with latest JAVA SE 32 bit on 64 bit Windows 7. Thanks.","body":"Sometimes you don&#39;t need to run on 64-bit. This one solves my problem. I realized that Android Studio has both version of EXE. So now I&#39;m doing fine with latest JAVA SE 32 bit on 64 bit Windows 7. Thanks."},{"owner":{"account_id":302301,"reputation":3398,"user_id":610607,"accept_rate":61,"display_name":"Mian Ahmad"},"score":0,"creation_date":1463491921,"post_id":25386926,"comment_id":62080659,"body_markdown":"Replaced studio64.exe to studio.exe in C:\\Program Files\\Android\\Android Studio\\bin folder and created a new shortcut of studio.exe on desktop. All doing great now. Thanks.","body":"Replaced studio64.exe to studio.exe in C:\\Program Files\\Android\\Android Studio\\bin folder and created a new shortcut of studio.exe on desktop. All doing great now. Thanks."}],"tags":[],"owner":{"account_id":4911830,"reputation":127,"user_id":3956934,"display_name":"fatah amine"},"comment_count":2,"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1408460886,"creation_date":1408460886,"answer_id":25386926,"question_id":24898684,"body_markdown":"1-Right click on Android Studio and click on properties.\r\n\r\n2-Replace studio64.exe in link by studio.exe.","title":"Android Studio - No JVM Installation found","body":"<p>1-Right click on Android Studio and click on properties.</p>\n\n<p>2-Replace studio64.exe in link by studio.exe.</p>\n"},{"tags":[],"owner":{"account_id":5204800,"reputation":1,"user_id":4163099,"display_name":"Alberto Saint Martin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1419324596,"creation_date":1413829447,"answer_id":26472377,"question_id":24898684,"body_markdown":"In my case\r\n\r\nIn `Control Panel -&gt; System -&gt; Advanced system settings -&gt; Environment Variables` there is no `JDK_HOME` OR `JAVA_HOME`\r\n\r\nSO\r\n\r\n **I added** an entry named: **JDK_HOME**   pointing to: **C:\\Program Files\\Java\\jdk1.8.0_25\\\\** (you have to point this to your JDK instalation path)\r\n\r\n\r\nAnd all seems to work fine now","title":"Android Studio - No JVM Installation found","body":"<p>In my case</p>\n\n<p>In <code>Control Panel -&gt; System -&gt; Advanced system settings -&gt; Environment Variables</code> there is no <code>JDK_HOME</code> OR <code>JAVA_HOME</code></p>\n\n<p>SO</p>\n\n<p><strong>I added</strong> an entry named: <strong>JDK_HOME</strong>   pointing to: <strong>C:\\Program Files\\Java\\jdk1.8.0_25\\</strong> (you have to point this to your JDK instalation path)</p>\n\n<p>And all seems to work fine now</p>\n"},{"tags":[],"owner":{"account_id":1652470,"reputation":318,"user_id":1522765,"display_name":"Nigel Crasto"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1419323674,"creation_date":1414213158,"answer_id":26559477,"question_id":24898684,"body_markdown":"Android Studio Works Perfectly fine with `Java 1.8` or `Java 8`. I was also having invalid JVM error. The reason was including &quot;;&quot; (semicolon) at the end of `JAVA_HOME` path value. The correct format for path value is:\r\n\r\n&gt; C:\\Program Files\\Java\\jdk1.8.0_xx  (Replace xx with your current version)\r\n\r\nDo not include `;` (semicolon) at the end of `JAVA_HOME` value","title":"Android Studio - No JVM Installation found","body":"<p>Android Studio Works Perfectly fine with <code>Java 1.8</code> or <code>Java 8</code>. I was also having invalid JVM error. The reason was including \";\" (semicolon) at the end of <code>JAVA_HOME</code> path value. The correct format for path value is:</p>\n\n<blockquote>\n  <p>C:\\Program Files\\Java\\jdk1.8.0_xx  (Replace xx with your current version)</p>\n</blockquote>\n\n<p>Do not include <code>;</code> (semicolon) at the end of <code>JAVA_HOME</code> value</p>\n"},{"comments":[{"owner":{"display_name":"user586399"},"score":0,"creation_date":1417966300,"post_id":26790440,"comment_id":43143799,"body_markdown":"This has nothing to do with the problem. Try yourself","body":"This has nothing to do with the problem. Try yourself"}],"tags":[],"owner":{"account_id":5292740,"reputation":25,"user_id":4224789,"display_name":"Nico"},"comment_count":1,"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1415312204,"creation_date":1415312204,"answer_id":26790440,"question_id":24898684,"body_markdown":"Here comes the solution. \r\n\r\nJust start ANDROID STUDIO as **administrator** if you are using a non administrator windows profile!\r\n\r\nIf your environment variables are correct that will do the trick. Enjoy!","title":"Android Studio - No JVM Installation found","body":"<p>Here comes the solution. </p>\n\n<p>Just start ANDROID STUDIO as <strong>administrator</strong> if you are using a non administrator windows profile!</p>\n\n<p>If your environment variables are correct that will do the trick. Enjoy!</p>\n"},{"tags":[],"owner":{"account_id":5378497,"reputation":11,"user_id":4284548,"display_name":"Paul"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1416754910,"creation_date":1416754910,"answer_id":27090318,"question_id":24898684,"body_markdown":"* For me this turns out to be Environment Variables not being inherited.\r\n* Quick answer: reboot, than click on studio.bat, not studio.exe or studio64.exe\r\n\r\n================ Details =================\r\n\r\n* &quot;Right Click&quot;-&quot;Run as Administrator&quot; works for me **if**:\r\n**  JDK_HOME or JAVA_HOME was set. (PATH didn&#39;t need to be changed for me)\r\n** I run studio.bat, not studio.exe\r\n** Note: By Default I am an administrator on a Microsoft Account (That Microsoft part may be affecting things), and I seldom reboot. I&#39;m running Win8.1 64bit. I installed both JDKv1.8.0.0_25 32bit and 64 bit, and had JRE 32bit and 64 bit already installed (used by other software). \r\n\r\n* I found there was a difference in clicking on studio.bat, studio.exe, and running studio.bat from a command prompt. There is also a difference if I rebooted or not.\r\n\r\n* The difference: The System Environment Variables aren&#39;t all there depending on how I start the program.\r\n* To test:\r\n\r\n* In start menu drag a copy of &quot;command prompt&quot; to your desktop, then change properties so &quot;Start In&quot; is location of studio.bat\r\n* copy studio.bat to studio_debug.bat (one we can mess with)\r\n* drag a shortcut of studio_debug.bat to desktop for convenience.\r\n* edit studio_debug.bat (right click --&gt; edit) \r\n\r\n== Change:\r\n\r\n    @echo off\r\n\r\n== to \r\n\r\n    @echo on         \r\n    echo Set===================\r\n    set\r\n    echo ======================\r\n    pause\r\n\r\n* This may also help in debugging studio.bat:\r\n\r\n== change:\r\n\r\n    &quot;%JAVA_EXE%&quot; %ALL_JVM_ARGS% -cp &quot;%CLASS_PATH%&quot; %MAIN_CLASS_NAME% %*\r\n\r\n== to\r\n\r\n    echo =================\r\n    echo Starting: &quot;%JAVA_EXE%&quot; %ALL_JVM_ARGS% -cp &quot;%CLASS_PATH%&quot; %MAIN_CLASS_NAME% %*\r\n    pause\r\n    &quot;%JAVA_EXE%&quot; %ALL_JVM_ARGS% -cp &quot;%CLASS_PATH%&quot; %MAIN_CLASS_NAME% %*\r\n    echo =================\r\n\r\n* Now when you run studio.bat from command prompt versus double clicking you may see difference in environment variables including JAVA_HOME and PATH. If you do you have same problem as me. \r\n\r\n* The problem seems to depend on: \r\n 1. did you reboot since changing environment variables?\r\n 2. didn&#39;t seem to matter if I was local or microsoft account\r\n 3. may depend whether you are an administrator or other account type\r\n 4. whether you start using studio.bat, studio.exe, or studio64.exe\r\n\r\n* .\r\n* FYI: The actual successful startup command executed by studio.bat on my system was as follows (includes studio64.exe):\r\n\r\n    &quot;C:\\Program Files\\Java\\jdk1.8.0_25\\bin\\java.exe&quot; &quot;-Xms128m&quot; &quot;-Xmx750m&quot; &quot;-XX:MaxPermSize=350m&quot; &quot;-XX:ReservedCodeCacheSize=96m&quot; &quot;-ea&quot; &quot;-Dsun.io.useCanonCaches=false&quot; &quot;-Djava.net.preferIPv4Stack=true&quot; &quot;-Djsse.enableSNIExtension=false&quot; &quot;-XX:+UseCodeCacheFlushing&quot; &quot;-XX:+UseConcMarkSweepGC&quot; &quot;-XX:SoftRefLRUPolicyMSPerMB=50&quot; &quot;-XX:+HeapDumpOnOutOfMemoryError&quot; &quot;-Didea.platform.prefix=AndroidStudio&quot; &quot;-Didea.paths.selector=AndroidStudioBeta&quot; -Djb.vmOptionsFile=&quot;C:\\android-studio\\bin\\\\studio64.exe.vmoptions&quot; &quot;-Xbootclasspath/a:C:\\android-studio\\bin\\\\../lib/boot.jar&quot; -Didea.paths.selector=AndroidStudioBeta  -Didea.platform.prefix=AndroidStudio  -cp &quot;C:\\android-studio\\bin\\\\..\\lib\\bootstrap.jar;C:\\android-studio\\bin\\\\..\\lib\\extensions.jar;C:\\android-studio\\bin\\\\..\\lib\\util.jar;C:\\android-studio\\bin\\\\..\\lib\\jdom.jar;C:\\android-studio\\bin\\\\..\\lib\\log4j.jar;C:\\android-studio\\bin\\\\..\\lib\\trove4j.jar;C:\\android-studio\\bin\\\\..\\lib\\jna.jar;C:\\Program Files\\Java\\jdk1.8.0_25\\lib\\tools.jar&quot; com.intellij.idea.Main\r\n\r\n* Hope that helps someone else.\r\n\r\n\r\n","title":"Android Studio - No JVM Installation found","body":"<ul>\n<li>For me this turns out to be Environment Variables not being inherited.</li>\n<li>Quick answer: reboot, than click on studio.bat, not studio.exe or studio64.exe</li>\n</ul>\n\n<p>================ Details =================</p>\n\n<ul>\n<li><p>\"Right Click\"-\"Run as Administrator\" works for me <strong>if</strong>:\n**  JDK_HOME or JAVA_HOME was set. (PATH didn't need to be changed for me)\n** I run studio.bat, not studio.exe\n** Note: By Default I am an administrator on a Microsoft Account (That Microsoft part may be affecting things), and I seldom reboot. I'm running Win8.1 64bit. I installed both JDKv1.8.0.0_25 32bit and 64 bit, and had JRE 32bit and 64 bit already installed (used by other software). </p></li>\n<li><p>I found there was a difference in clicking on studio.bat, studio.exe, and running studio.bat from a command prompt. There is also a difference if I rebooted or not.</p></li>\n<li><p>The difference: The System Environment Variables aren't all there depending on how I start the program.</p></li>\n<li><p>To test:</p></li>\n<li><p>In start menu drag a copy of \"command prompt\" to your desktop, then change properties so \"Start In\" is location of studio.bat</p></li>\n<li>copy studio.bat to studio_debug.bat (one we can mess with)</li>\n<li>drag a shortcut of studio_debug.bat to desktop for convenience.</li>\n<li>edit studio_debug.bat (right click --> edit) </li>\n</ul>\n\n<p>== Change:</p>\n\n<pre><code>@echo off\n</code></pre>\n\n<p>== to </p>\n\n<pre><code>@echo on         \necho Set===================\nset\necho ======================\npause\n</code></pre>\n\n<ul>\n<li>This may also help in debugging studio.bat:</li>\n</ul>\n\n<p>== change:</p>\n\n<pre><code>\"%JAVA_EXE%\" %ALL_JVM_ARGS% -cp \"%CLASS_PATH%\" %MAIN_CLASS_NAME% %*\n</code></pre>\n\n<p>== to</p>\n\n<pre><code>echo =================\necho Starting: \"%JAVA_EXE%\" %ALL_JVM_ARGS% -cp \"%CLASS_PATH%\" %MAIN_CLASS_NAME% %*\npause\n\"%JAVA_EXE%\" %ALL_JVM_ARGS% -cp \"%CLASS_PATH%\" %MAIN_CLASS_NAME% %*\necho =================\n</code></pre>\n\n<ul>\n<li><p>Now when you run studio.bat from command prompt versus double clicking you may see difference in environment variables including JAVA_HOME and PATH. If you do you have same problem as me. </p></li>\n<li><p>The problem seems to depend on: </p>\n\n<ol>\n<li>did you reboot since changing environment variables?</li>\n<li>didn't seem to matter if I was local or microsoft account</li>\n<li>may depend whether you are an administrator or other account type</li>\n<li>whether you start using studio.bat, studio.exe, or studio64.exe</li>\n</ol></li>\n<li><p>.</p></li>\n<li><p>FYI: The actual successful startup command executed by studio.bat on my system was as follows (includes studio64.exe):</p>\n\n<p>\"C:\\Program Files\\Java\\jdk1.8.0_25\\bin\\java.exe\" \"-Xms128m\" \"-Xmx750m\" \"-XX:MaxPermSize=350m\" \"-XX:ReservedCodeCacheSize=96m\" \"-ea\" \"-Dsun.io.useCanonCaches=false\" \"-Djava.net.preferIPv4Stack=true\" \"-Djsse.enableSNIExtension=false\" \"-XX:+UseCodeCacheFlushing\" \"-XX:+UseConcMarkSweepGC\" \"-XX:SoftRefLRUPolicyMSPerMB=50\" \"-XX:+HeapDumpOnOutOfMemoryError\" \"-Didea.platform.prefix=AndroidStudio\" \"-Didea.paths.selector=AndroidStudioBeta\" -Djb.vmOptionsFile=\"C:\\android-studio\\bin\\studio64.exe.vmoptions\" \"-Xbootclasspath/a:C:\\android-studio\\bin\\../lib/boot.jar\" -Didea.paths.selector=AndroidStudioBeta  -Didea.platform.prefix=AndroidStudio  -cp \"C:\\android-studio\\bin\\..\\lib\\bootstrap.jar;C:\\android-studio\\bin\\..\\lib\\extensions.jar;C:\\android-studio\\bin\\..\\lib\\util.jar;C:\\android-studio\\bin\\..\\lib\\jdom.jar;C:\\android-studio\\bin\\..\\lib\\log4j.jar;C:\\android-studio\\bin\\..\\lib\\trove4j.jar;C:\\android-studio\\bin\\..\\lib\\jna.jar;C:\\Program Files\\Java\\jdk1.8.0_25\\lib\\tools.jar\" com.intellij.idea.Main</p></li>\n<li><p>Hope that helps someone else.</p></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":290925,"reputation":475,"user_id":592751,"accept_rate":44,"display_name":"randall"},"score":4,"creation_date":1421870217,"post_id":27241404,"comment_id":44530546,"body_markdown":"Just a suggestion, but try not talking down to people and I think you&#39;ll be better received. Many people, myself included, have done exactly what has been suggested - added the system env var `JAVA_HOME` to point to the JDK folder location, checked that it is correct by echoing `%JAVA_HOME%` (set to `C:\\Program Files\\Java\\jdk1.8.0_31`) in the cmd prompt and it appears to all be correctly set, but Android Studio fails to start, showing the &quot;invalid JVM installation&quot; message. With this much activity it&#39;s clearly not &quot;ridiculously simple to fix&quot; for everyone.","body":"Just a suggestion, but try not talking down to people and I think you&#39;ll be better received. Many people, myself included, have done exactly what has been suggested - added the system env var <code>JAVA_HOME</code> to point to the JDK folder location, checked that it is correct by echoing <code>%JAVA_HOME%</code> (set to <code>C:\\Program Files\\Java\\jdk1.8.0_31</code>) in the cmd prompt and it appears to all be correctly set, but Android Studio fails to start, showing the &quot;invalid JVM installation&quot; message. With this much activity it&#39;s clearly not &quot;ridiculously simple to fix&quot; for everyone."},{"owner":{"account_id":263359,"reputation":4826,"user_id":548854,"accept_rate":100,"display_name":"Qarib Haider"},"score":1,"creation_date":1425187300,"post_id":27241404,"comment_id":45856048,"body_markdown":"@randall: Most answers to this question are same like this one, but its sad that people do not even read the whole question before answering, in the question itself I have mentioned that I tried this.","body":"@randall: Most answers to this question are same like this one, but its sad that people do not even read the whole question before answering, in the question itself I have mentioned that I tried this."}],"tags":[],"owner":{"account_id":5420233,"reputation":23,"user_id":4314101,"display_name":"Orlando S. Gondar"},"comment_count":2,"down_vote_count":4,"up_vote_count":3,"is_accepted":false,"score":-1,"last_activity_date":1419324596,"creation_date":1417491173,"answer_id":27241404,"question_id":24898684,"body_markdown":"For crying out loud this is so VERY EASY TO Fix!!\r\n\r\n 1. Go to : &quot;Control Panel\\All Control Panel Items\\System&quot; once there click on &quot;Advanced system settings&quot; on the left hand side\r\n\r\n 2. The window that pops shows a box that says says `Environment Variables`! Click it.\r\n\r\n 3. Click &quot;add new&quot; to add new variable.\r\n\r\n 4. Type `JAVA_HOME` in the first box and in the second box the address to, IE / in my case `C:\\Program Files\\Java\\jdk1.8.0_25` save it. exit everything. THATS IT!! \r\n\r\nEnjoy Android Studio! \r\nObviously for the above to work you have to install java first or how else can you use it or point to it on your pc and all that. The above instructions are amazingly mislead and complicated. For the record I am on widows 8.1, YES it works on latest windows and is ridiculously simple to fix.\r\n\r\n-OSG","title":"Android Studio - No JVM Installation found","body":"<p>For crying out loud this is so VERY EASY TO Fix!!</p>\n\n<ol>\n<li><p>Go to : \"Control Panel\\All Control Panel Items\\System\" once there click on \"Advanced system settings\" on the left hand side</p></li>\n<li><p>The window that pops shows a box that says says <code>Environment Variables</code>! Click it.</p></li>\n<li><p>Click \"add new\" to add new variable.</p></li>\n<li><p>Type <code>JAVA_HOME</code> in the first box and in the second box the address to, IE / in my case <code>C:\\Program Files\\Java\\jdk1.8.0_25</code> save it. exit everything. THATS IT!! </p></li>\n</ol>\n\n<p>Enjoy Android Studio! \nObviously for the above to work you have to install java first or how else can you use it or point to it on your pc and all that. The above instructions are amazingly mislead and complicated. For the record I am on widows 8.1, YES it works on latest windows and is ridiculously simple to fix.</p>\n\n<p>-OSG</p>\n"},{"comments":[{"owner":{"account_id":1137541,"reputation":696,"user_id":1122272,"accept_rate":55,"display_name":"shihabudheen"},"score":0,"creation_date":1419673926,"post_id":27526867,"comment_id":43747229,"body_markdown":"Your sample path helped me .. thank you very much :)","body":"Your sample path helped me .. thank you very much :)"}],"tags":[],"owner":{"account_id":5065444,"reputation":57,"user_id":4065643,"display_name":"6abhishek jha"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1419323673,"creation_date":1418823483,"answer_id":27526867,"question_id":24898684,"body_markdown":"Make sure you set the path in the `SYSTEM VARIABLES` not in the `USER VARIABLES` also.....name the variable name as `JAVA_HOME` and the address as `C:\\Program Files\\Java\\jdk1.8.0_25\\`    be sure that you didn&#39;t place any semicolon. ","title":"Android Studio - No JVM Installation found","body":"<p>Make sure you set the path in the <code>SYSTEM VARIABLES</code> not in the <code>USER VARIABLES</code> also.....name the variable name as <code>JAVA_HOME</code> and the address as <code>C:\\Program Files\\Java\\jdk1.8.0_25\\</code>    be sure that you didn't place any semicolon. </p>\n"},{"tags":[],"owner":{"account_id":2640300,"reputation":1317,"user_id":2284107,"accept_rate":60,"display_name":"kAmol"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1419047984,"creation_date":1419047984,"answer_id":27576779,"question_id":24898684,"body_markdown":"Just make sure that the installed version of both, Android Studio and JDK, are of either 32-bit or 64-bit. If JDK is of 32-bit and Android Studio of 64-bit or vice-verse, then it won&#39;t work though you set up JAVA_HOME.","title":"Android Studio - No JVM Installation found","body":"<p>Just make sure that the installed version of both, Android Studio and JDK, are of either 32-bit or 64-bit. If JDK is of 32-bit and Android Studio of 64-bit or vice-verse, then it won't work though you set up JAVA_HOME.</p>\n"},{"tags":[],"owner":{"account_id":5216290,"reputation":2431,"user_id":4818540,"accept_rate":56,"display_name":"Farshid Shekari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1419497787,"creation_date":1419248858,"answer_id":27602108,"question_id":24898684,"body_markdown":"You must just install jdk1.8.0 and then right click on my computer icon and then select properties,then in left panel, select advanced system settings, then in dialog bog select Environment Variables, then in that&#39;s dialog box,in section user variables create new variable that&#39;s name must be `JAVA_HOME` and path is `C:\\Program Files\\Java\\jdk1.8.0`(in my pc) then sytem variable section, select `PATH` variable and append it&#39;s end this path `C:\\Program Files\\Java\\jdk1.8.0\\bin` and then select ok for all dialog box and after this steps run Android studio. And for test, run cmd in windows and run this command `java -version` if returned a java version and ... it is installed correctly.  \r\n\r\nNote: I get answer in windows 8.1 64 bit.","title":"Android Studio - No JVM Installation found","body":"<p>You must just install jdk1.8.0 and then right click on my computer icon and then select properties,then in left panel, select advanced system settings, then in dialog bog select Environment Variables, then in that's dialog box,in section user variables create new variable that's name must be <code>JAVA_HOME</code> and path is <code>C:\\Program Files\\Java\\jdk1.8.0</code>(in my pc) then sytem variable section, select <code>PATH</code> variable and append it's end this path <code>C:\\Program Files\\Java\\jdk1.8.0\\bin</code> and then select ok for all dialog box and after this steps run Android studio. And for test, run cmd in windows and run this command <code>java -version</code> if returned a java version and ... it is installed correctly.  </p>\n\n<p>Note: I get answer in windows 8.1 64 bit.</p>\n"},{"tags":[],"owner":{"account_id":2983940,"reputation":12531,"user_id":2533290,"accept_rate":53,"display_name":"Martin Pfeffer"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1419758364,"creation_date":1419757935,"answer_id":27675089,"question_id":24898684,"body_markdown":"This is tested on my Windows 7 64Bit machine.\r\n\r\nQuite strange... I had the same issue - WHILE IntelliJ Idea (including the Android Plug-in) was working perfectly. \r\n\r\nHowever, here is what I did to get Android Studio 1.0 working (no step missing -&gt; maybe it will help programming beginners).\r\n\r\nJust set up a **new** environment variable by...\r\n\r\n1. pressing Windows-Key and typing ***env***... you&#39;ll see &quot;Edit the system environment variables&quot;. Click! \r\n2. Now click &quot;Environment Variables...&quot;\r\n3. Under **System variables** (NOT &quot;User variables&quot;) add a new entry named `JAVA_HOME` and set the value to your Java folder (like `C:\\Program Files\\Java\\jdk1.8.0_25`)\r\n4. apply and you are good to go. \r\n\r\nPS: I don&#39;t know why some people writing about nuclear science when they want to explain how to set the Java path..","title":"Android Studio - No JVM Installation found","body":"<p>This is tested on my Windows 7 64Bit machine.</p>\n\n<p>Quite strange... I had the same issue - WHILE IntelliJ Idea (including the Android Plug-in) was working perfectly. </p>\n\n<p>However, here is what I did to get Android Studio 1.0 working (no step missing -> maybe it will help programming beginners).</p>\n\n<p>Just set up a <strong>new</strong> environment variable by...</p>\n\n<ol>\n<li>pressing Windows-Key and typing <strong><em>env</em></strong>... you'll see \"Edit the system environment variables\". Click! </li>\n<li>Now click \"Environment Variables...\"</li>\n<li>Under <strong>System variables</strong> (NOT \"User variables\") add a new entry named <code>JAVA_HOME</code> and set the value to your Java folder (like <code>C:\\Program Files\\Java\\jdk1.8.0_25</code>)</li>\n<li>apply and you are good to go. </li>\n</ol>\n\n<p>PS: I don't know why some people writing about nuclear science when they want to explain how to set the Java path..</p>\n"},{"tags":[],"owner":{"account_id":3534593,"reputation":1345,"user_id":2953225,"accept_rate":25,"display_name":"Testing Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1478858055,"creation_date":1420739085,"answer_id":27846328,"question_id":24898684,"body_markdown":"`My JAVA_HOME` was pointing to `c:/jre` directly. So I changed it to `C:/java/jre` because it was confused to pick up which one to use, so I changed it to the specific one and it works for me. Note: It is better to have only one JRE install on your machine","title":"Android Studio - No JVM Installation found","body":"<p><code>My JAVA_HOME</code> was pointing to <code>c:/jre</code> directly. So I changed it to <code>C:/java/jre</code> because it was confused to pick up which one to use, so I changed it to the specific one and it works for me. Note: It is better to have only one JRE install on your machine</p>\n"},{"comments":[{"owner":{"account_id":2239633,"reputation":3611,"user_id":1975002,"accept_rate":100,"display_name":"Micha&#235;l Polla"},"score":0,"creation_date":1424424787,"post_id":27914068,"comment_id":45552190,"body_markdown":"I did all these steps but kept getting the error message, so I restarted the computer and now Android Studio launches.\nI&#39;m on Windows 10 Tech Preview.","body":"I did all these steps but kept getting the error message, so I restarted the computer and now Android Studio launches. I&#39;m on Windows 10 Tech Preview."},{"owner":{"account_id":144494,"reputation":1447,"user_id":353593,"accept_rate":90,"display_name":"Muhammad Irfan"},"score":0,"creation_date":1432313708,"post_id":27914068,"comment_id":48891796,"body_markdown":"Restarting the computer solves the problem when i completed all the above mentiond steps.","body":"Restarting the computer solves the problem when i completed all the above mentiond steps."},{"owner":{"account_id":1525128,"reputation":53868,"user_id":2377343,"accept_rate":36,"display_name":"T.Todua"},"score":0,"creation_date":1469179967,"post_id":27914068,"comment_id":64440911,"body_markdown":"THAT DOES THE JOB!","body":"THAT DOES THE JOB!"}],"tags":[],"owner":{"account_id":4735230,"reputation":3415,"user_id":3829801,"display_name":"aknay"},"comment_count":3,"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1421116254,"creation_date":1421116254,"answer_id":27914068,"question_id":24898684,"body_markdown":"1 .Download 64 bit version of JDK from [here][1]\r\n\r\n![enter image description here][2]\r\n\r\n\r\n2. As shown in next picture, go to `Control Panel` -&gt; `System and Security` -&gt; `Advanced system settings` -&gt; `Environment Variables` -&gt; `New` (System variables)\r\n\r\n3. Then add variable name: JAVA_HOME and variable value: C:\\Program Files\\Java\\jdk1.8.0_25 \r\n\r\nPlease note that `jdk1.8.0_25` may be vary depending on JDK version. \r\n![enter image description here][3]\r\n\r\n4. Click OK button on the rest of the windows left.\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\r\n  [2]: http://i.stack.imgur.com/d6atp.jpg\r\n  [3]: http://i.stack.imgur.com/fhIhz.jpg","title":"Android Studio - No JVM Installation found","body":"<p>1 .Download 64 bit version of JDK from <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" rel=\"noreferrer\">here</a></p>\n\n<p><img src=\"https://i.stack.imgur.com/d6atp.jpg\" alt=\"enter image description here\"></p>\n\n<ol start=\"2\">\n<li><p>As shown in next picture, go to <code>Control Panel</code> -> <code>System and Security</code> -> <code>Advanced system settings</code> -> <code>Environment Variables</code> -> <code>New</code> (System variables)</p></li>\n<li><p>Then add variable name: JAVA_HOME and variable value: C:\\Program Files\\Java\\jdk1.8.0_25 </p></li>\n</ol>\n\n<p>Please note that <code>jdk1.8.0_25</code> may be vary depending on JDK version. \n<img src=\"https://i.stack.imgur.com/fhIhz.jpg\" alt=\"enter image description here\"></p>\n\n<ol start=\"4\">\n<li>Click OK button on the rest of the windows left.</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":72659,"reputation":3796,"user_id":209696,"accept_rate":70,"display_name":"John81"},"score":1,"creation_date":1440443570,"post_id":28076192,"comment_id":52265029,"body_markdown":"In Windows 10 this solved my problem where setup would not work because it could not detect where the JDK was installed.  Stupid crap like this is why I hate Java.","body":"In Windows 10 this solved my problem where setup would not work because it could not detect where the JDK was installed.  Stupid crap like this is why I hate Java."}],"tags":[],"owner":{"account_id":290925,"reputation":475,"user_id":592751,"accept_rate":44,"display_name":"randall"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1421872370,"creation_date":1421871962,"answer_id":28076192,"question_id":24898684,"body_markdown":"Ok, was having this issue as well and this is what fixed it for me. For the record I&#39;m using Windows 8.1 and Java JDK 1.8.31, all 64-bit.\r\n\r\nThe problem is with the space between &quot;Program&quot; and &quot;Files&quot; in the path set in `JAVA_HOME`. I&#39;ve had this problem before but didn&#39;t really realize until I was checking the instructions [here](https://confluence.atlassian.com/display/DOC/Setting+the+JAVA_HOME+Variable+in+Windows) for setting `JAVA HOME`, then it all made sense.\r\n\r\nIn a nutshell, change the `JAVA_HOME` path from:\r\n\r\n`C:\\Program Files\\Java\\jdk1.8.0_31`\r\n\r\nto\r\n\r\n`C:\\Progra~1\\Java\\jdk1.8.0_31`\r\n\r\nMake sure to set the correct JDK version number for your installation. Removing the space from the path fixed everything on my system.\r\n\r\nAs noted on the page linked above,\r\n\r\nuse `C:\\Progra~1\\` for `C:\\Program Files\\`\r\n\r\nand `C:\\Progra~2\\` for `C:\\Program Files(x86)\\`\r\n\r\ndepending on where you have the JDK installed on your system.\r\n\r\n\r\nNote: Just to be clear, before making this change my system correctly echoed the value of `JAVA_HOME` to be `C:\\Program Files\\Java\\jdk1.8.0_31` in the command window, leading me to believe all was well. However, attempting to run `%JAVA_HOME%\\bin\\javac` reported that the path could not be found. After removing the space from the `JAVA_HOME` path the same command runs perfectly.","title":"Android Studio - No JVM Installation found","body":"<p>Ok, was having this issue as well and this is what fixed it for me. For the record I'm using Windows 8.1 and Java JDK 1.8.31, all 64-bit.</p>\n\n<p>The problem is with the space between \"Program\" and \"Files\" in the path set in <code>JAVA_HOME</code>. I've had this problem before but didn't really realize until I was checking the instructions <a href=\"https://confluence.atlassian.com/display/DOC/Setting+the+JAVA_HOME+Variable+in+Windows\" rel=\"noreferrer\">here</a> for setting <code>JAVA HOME</code>, then it all made sense.</p>\n\n<p>In a nutshell, change the <code>JAVA_HOME</code> path from:</p>\n\n<p><code>C:\\Program Files\\Java\\jdk1.8.0_31</code></p>\n\n<p>to</p>\n\n<p><code>C:\\Progra~1\\Java\\jdk1.8.0_31</code></p>\n\n<p>Make sure to set the correct JDK version number for your installation. Removing the space from the path fixed everything on my system.</p>\n\n<p>As noted on the page linked above,</p>\n\n<p>use <code>C:\\Progra~1\\</code> for <code>C:\\Program Files\\</code></p>\n\n<p>and <code>C:\\Progra~2\\</code> for <code>C:\\Program Files(x86)\\</code></p>\n\n<p>depending on where you have the JDK installed on your system.</p>\n\n<p>Note: Just to be clear, before making this change my system correctly echoed the value of <code>JAVA_HOME</code> to be <code>C:\\Program Files\\Java\\jdk1.8.0_31</code> in the command window, leading me to believe all was well. However, attempting to run <code>%JAVA_HOME%\\bin\\javac</code> reported that the path could not be found. After removing the space from the <code>JAVA_HOME</code> path the same command runs perfectly.</p>\n"},{"tags":[],"owner":{"account_id":3182594,"reputation":332,"user_id":2688998,"display_name":"Gaurav Pangam"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1423378337,"creation_date":1423378337,"answer_id":28391391,"question_id":24898684,"body_markdown":"The solution is given in the error itself, Goto My computer(Right click)--&gt;properties--&gt;Advanced system settings--&gt;Environment variables--&gt;Create new variable.\r\n\r\nGive the following details to it:\r\n\r\nVariable name : JAVA_HOME.\r\n\r\nVariable value : (your path to java jdk installation folder).\r\n\r\nTo find the path for java installation, go to program files in your window installation drive (normally C drive). Find folder named JAVA, in that navigate to JDK folder.\r\n\r\nCopy the link address from the top, and paste it in the Variable value .\r\n\r\nNow Press Ok and once environment variable gets created restart the android studio.\r\n\r\nHope it helps.","title":"Android Studio - No JVM Installation found","body":"<p>The solution is given in the error itself, Goto My computer(Right click)-->properties-->Advanced system settings-->Environment variables-->Create new variable.</p>\n\n<p>Give the following details to it:</p>\n\n<p>Variable name : JAVA_HOME.</p>\n\n<p>Variable value : (your path to java jdk installation folder).</p>\n\n<p>To find the path for java installation, go to program files in your window installation drive (normally C drive). Find folder named JAVA, in that navigate to JDK folder.</p>\n\n<p>Copy the link address from the top, and paste it in the Variable value .</p>\n\n<p>Now Press Ok and once environment variable gets created restart the android studio.</p>\n\n<p>Hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1435001867,"creation_date":1435001867,"answer_id":30988392,"question_id":24898684,"body_markdown":"My fix was to **remove** the double quotes that I had enclosed the JAVA_HOME path in.\r\n\r\nInstead of declaring JAVA_HOME as &quot;C\\Program Files\\...&quot;\r\n\r\nI removed the &quot; and declared JAVA_HOME as C\\Program Files\\...\r\n\r\nI am on Win 7, x64","title":"Android Studio - No JVM Installation found","body":"<p>My fix was to <strong>remove</strong> the double quotes that I had enclosed the JAVA_HOME path in.</p>\n\n<p>Instead of declaring JAVA_HOME as \"C\\Program Files...\"</p>\n\n<p>I removed the \" and declared JAVA_HOME as C\\Program Files...</p>\n\n<p>I am on Win 7, x64</p>\n"},{"tags":[],"owner":{"account_id":3005450,"reputation":619,"user_id":2550068,"display_name":"Optimus Krish"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1435743692,"creation_date":1435743692,"answer_id":31157815,"question_id":24898684,"body_markdown":"I also faced the same issue. The solution which helped me was I downloaded and installed 64 bit JDK from this [link][1] and set the &quot;**java_home**&quot; variable to the new JDK installed path like C:\\Program Files\\Java\\jdk1.7.0_45. Hope this helps.\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javase/downloads/jdk7-downloads-1880260.html","title":"Android Studio - No JVM Installation found","body":"<p>I also faced the same issue. The solution which helped me was I downloaded and installed 64 bit JDK from this <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk7-downloads-1880260.html\" rel=\"nofollow\">link</a> and set the \"<strong>java_home</strong>\" variable to the new JDK installed path like C:\\Program Files\\Java\\jdk1.7.0_45. Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":1855114,"reputation":364,"user_id":1680876,"display_name":"krunal shah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1442051991,"creation_date":1442051991,"answer_id":32537511,"question_id":24898684,"body_markdown":"if your &quot;enviornment variables&quot; set well, than try to update\r\n **Start &gt; All Programs &gt; Android Studio &gt; Android Studio**\r\n\r\ndo right click, click **Properties** and set **android studio sdk** path\r\n\r\nin \r\n\r\n**shortcut &gt; Target**\r\n","title":"Android Studio - No JVM Installation found","body":"<p>if your \"enviornment variables\" set well, than try to update\n <strong>Start > All Programs > Android Studio > Android Studio</strong></p>\n\n<p>do right click, click <strong>Properties</strong> and set <strong>android studio sdk</strong> path</p>\n\n<p>in </p>\n\n<p><strong>shortcut > Target</strong></p>\n"},{"tags":[],"owner":{"account_id":5494668,"reputation":89,"user_id":4366227,"display_name":"Mansi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1452142957,"creation_date":1452142957,"answer_id":34647693,"question_id":24898684,"body_markdown":"If you are using **windows 7**, make sure you install jdk-xxxx-windows-x64.exe.\r\nhttp://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\r\nI had previously installed 32 bit instead of 64 bit version hence it was installed in program files x(86) folder. But if you install 64 bit sdk setup, its installed in program files folder.\r\nThen set the JAVA_HOME=&#39;C:\\Program Files\\Java\\jdk1.8.0_65&#39;\r\nIt should work fine.\r\n\r\n","title":"Android Studio - No JVM Installation found","body":"<p>If you are using <strong>windows 7</strong>, make sure you install jdk-xxxx-windows-x64.exe.\n<a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" rel=\"nofollow\">http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html</a>\nI had previously installed 32 bit instead of 64 bit version hence it was installed in program files x(86) folder. But if you install 64 bit sdk setup, its installed in program files folder.\nThen set the JAVA_HOME='C:\\Program Files\\Java\\jdk1.8.0_65'\nIt should work fine.</p>\n"},{"tags":[],"owner":{"account_id":4424737,"reputation":949,"user_id":3603499,"display_name":"Thanasis Kapelonis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461838260,"creation_date":1461838260,"answer_id":36911509,"question_id":24898684,"body_markdown":"My variables pointed to other system variables so JDK_HOME was\r\n\r\n`%programfiles%\\Java\\jdk1.8.0_45`\r\n\r\nand i had to explicitly change it to\r\n\r\n`C:\\Program Files\\Java\\jdk1.8.0_45`\r\n\r\nSimilar for JAVA_HOME","title":"Android Studio - No JVM Installation found","body":"<p>My variables pointed to other system variables so JDK_HOME was</p>\n\n<p><code>%programfiles%\\Java\\jdk1.8.0_45</code></p>\n\n<p>and i had to explicitly change it to</p>\n\n<p><code>C:\\Program Files\\Java\\jdk1.8.0_45</code></p>\n\n<p>Similar for JAVA_HOME</p>\n"},{"tags":[],"owner":{"account_id":5771266,"reputation":492,"user_id":4554652,"display_name":"pradip garala"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1464411166,"creation_date":1464411166,"answer_id":37495307,"question_id":24898684,"body_markdown":"**Control Panel -&gt; System -&gt; Advanced system settings -&gt; Environment Variables**\r\n\r\nI changed **JAVA_HOME** to **JAVA** and again changed **JAVA** to **JAVA_HOME**.\r\n\r\nand Its working fine.\r\n\r\n","title":"Android Studio - No JVM Installation found","body":"<p><strong>Control Panel -> System -> Advanced system settings -> Environment Variables</strong></p>\n\n<p>I changed <strong>JAVA_HOME</strong> to <strong>JAVA</strong> and again changed <strong>JAVA</strong> to <strong>JAVA_HOME</strong>.</p>\n\n<p>and Its working fine.</p>\n"},{"tags":[],"owner":{"account_id":7492474,"reputation":156,"user_id":5693691,"display_name":"NelsonRoberts"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1466031769,"creation_date":1466031769,"answer_id":37847245,"question_id":24898684,"body_markdown":"Had the same problem after upgrading my machine from 7 to 10 had to reinstall the JDK all overgain and took me only a few seconds.\r\nHere are the steps I followed.\r\n\r\nGo to this link\r\nhttp://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\r\n\r\n\r\nAgree to oracle contact agreement.Then pick your windows version in my case is 64 bit after that its ..Next..Next,,once compete you can relaunch your Android studio without any problem. Hope this helps","title":"Android Studio - No JVM Installation found","body":"<p>Had the same problem after upgrading my machine from 7 to 10 had to reinstall the JDK all overgain and took me only a few seconds.\nHere are the steps I followed.</p>\n\n<p>Go to this link\n<a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" rel=\"nofollow\">http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html</a></p>\n\n<p>Agree to oracle contact agreement.Then pick your windows version in my case is 64 bit after that its ..Next..Next,,once compete you can relaunch your Android studio without any problem. Hope this helps</p>\n"},{"tags":[],"owner":{"account_id":9046329,"reputation":704,"user_id":6738494,"accept_rate":100,"display_name":"RazaUsman_k"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520520374,"creation_date":1513467375,"answer_id":47850945,"question_id":24898684,"body_markdown":"I solved the problem in my case by deleting file \r\n\r\n&gt; **C:\\Users\\username\\.AndroidStudioX\\studio64.exe.vmoptions**\r\n\r\n ***( x denotes the version of your android studio so it can be different )*** , because I created it before to customize VM options.\r\nIt&#39;s that simple \r\n","title":"Android Studio - No JVM Installation found","body":"<p>I solved the problem in my case by deleting file </p>\n\n<blockquote>\n  <p><strong>C:\\Users\\username.AndroidStudioX\\studio64.exe.vmoptions</strong></p>\n</blockquote>\n\n<p><strong><em>( x denotes the version of your android studio so it can be different )</em></strong> , because I created it before to customize VM options.\nIt's that simple </p>\n"},{"tags":[],"owner":{"account_id":6973870,"reputation":117,"user_id":5349217,"display_name":"Vikram B"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529399329,"creation_date":1529399329,"answer_id":50924551,"question_id":24898684,"body_markdown":"Add the your installation path and java path to the default system path by separating the ;\r\n\r\nRight click on My Computer--&gt;Properties--&gt;Advances System Setting--&gt;Advanced --&gt;Environment Variables--&gt;Under System Variables category find the &quot;Path&quot;--&gt;add the android installation path and java path by separating with ;...\r\n\r\nBelieve it works","title":"Android Studio - No JVM Installation found","body":"<p>Add the your installation path and java path to the default system path by separating the ;</p>\n\n<p>Right click on My Computer-->Properties-->Advances System Setting-->Advanced -->Environment Variables-->Under System Variables category find the \"Path\"-->add the android installation path and java path by separating with ;...</p>\n\n<p>Believe it works</p>\n"},{"tags":[],"owner":{"account_id":4757190,"reputation":1167,"user_id":3845649,"accept_rate":0,"display_name":"Kerim Tim."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1535128203,"creation_date":1535128203,"answer_id":52008486,"question_id":24898684,"body_markdown":"If it does not work after setting paths in environment variables correctly,  \r\nReinstall Android Studio and it worked for me.","title":"Android Studio - No JVM Installation found","body":"<p>If it does not work after setting paths in environment variables correctly,<br>\nReinstall Android Studio and it worked for me.</p>\n"},{"tags":[],"owner":{"account_id":2008634,"reputation":766,"user_id":1797735,"accept_rate":61,"display_name":"PHPFan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562783908,"creation_date":1562783908,"answer_id":56976796,"question_id":24898684,"body_markdown":"Under my Android Studio\\bin there are two folder\r\n\r\n\r\n studio.exe  and studio64.exe \r\n\r\nI tried to run the first program and it gives me the mentioned error.\r\n\r\nBut when running  studio64.exe it works.","title":"Android Studio - No JVM Installation found","body":"<p>Under my Android Studio\\bin there are two folder</p>\n\n<p>studio.exe  and studio64.exe </p>\n\n<p>I tried to run the first program and it gives me the mentioned error.</p>\n\n<p>But when running  studio64.exe it works.</p>\n"},{"tags":[],"owner":{"account_id":6534124,"reputation":33,"user_id":5322146,"display_name":"Cloud Strifes"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674166868,"creation_date":1674166868,"answer_id":75178884,"question_id":24898684,"body_markdown":"If setting JAVA_HOME not works, install Visual Studio C++, you can download &quot;all versions in one&quot; installer here: https://www.techpowerup.com/download/visual-c-redistributable-runtime-package-all-in-one/","title":"Android Studio - No JVM Installation found","body":"<p>If setting JAVA_HOME not works, install Visual Studio C++, you can download &quot;all versions in one&quot; installer here: <a href=\"https://www.techpowerup.com/download/visual-c-redistributable-runtime-package-all-in-one/\" rel=\"nofollow noreferrer\">https://www.techpowerup.com/download/visual-c-redistributable-runtime-package-all-in-one/</a></p>\n"}],"owner":{"account_id":263359,"reputation":4826,"user_id":548854,"accept_rate":100,"display_name":"Qarib Haider"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":247923,"favorite_count":0,"down_vote_count":0,"up_vote_count":90,"accepted_answer_id":25054118,"answer_count":31,"score":90,"last_activity_date":1674166868,"creation_date":1406066777,"question_id":24898684,"body_markdown":"I&#39;m having issues trying to boot-up `Android Studio`\r\n\r\nWhen I try to launch it after installation I&#39;m getting this error:\r\n\r\n`No JVM Installation found. Please install a 64 bit JDK.`\r\n\r\n----------\r\n\r\n**My current system specification:**  \r\n\r\nOperating System: `Windows 8.0 64 bit version`  \r\nJDK installed: `JDK 1.8.0`  \r\n\r\n----------\r\n\r\n**What I have tried:**  \r\n\r\nI have tried what was reported in the error, and also in most of the solutions to set the `JDK_HOME` variable in environment variables to my JDK path (64 bit version) i.e. `C:\\Program Files\\Java\\jdk1.8.0_05`  \r\n\r\n*`*I also have tried rebooting system, just in case to test if the environment variable is not working without a restart`*\r\n\r\n----------\r\n\r\nI have seen these solutions and tried but none of them works, so don&#39;t mark it as a duplicate of any of these:   \r\nhttps://stackoverflow.com/questions/16574189/android-studio-installation-on-windows-7-fails-no-jdk-found  \r\nhttps://stackoverflow.com/questions/20033231/with-android-studio-no-jvm-found-java-home-has-been-set  \r\nhttps://stackoverflow.com/questions/16596520/android-studio-start-fails-on-windows-8-64bit  \r\nhttps://stackoverflow.com/questions/16574544/android-studio-does-not-launch-after-installation\r\n\r\n----------\r\n\r\nHere is the cmd output for java version:\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/peGJ9.jpg","title":"Android Studio - No JVM Installation found","body":"<p>I'm having issues trying to boot-up <code>Android Studio</code></p>\n\n<p>When I try to launch it after installation I'm getting this error:</p>\n\n<p><code>No JVM Installation found. Please install a 64 bit JDK.</code></p>\n\n<hr>\n\n<p><strong>My current system specification:</strong>  </p>\n\n<p>Operating System: <code>Windows 8.0 64 bit version</code><br>\nJDK installed: <code>JDK 1.8.0</code>  </p>\n\n<hr>\n\n<p><strong>What I have tried:</strong>  </p>\n\n<p>I have tried what was reported in the error, and also in most of the solutions to set the <code>JDK_HOME</code> variable in environment variables to my JDK path (64 bit version) i.e. <code>C:\\Program Files\\Java\\jdk1.8.0_05</code>  </p>\n\n<p><em><code>*I also have tried rebooting system, just in case to test if the environment variable is not working without a restart</code></em></p>\n\n<hr>\n\n<p>I have seen these solutions and tried but none of them works, so don't mark it as a duplicate of any of these:<br>\n<a href=\"https://stackoverflow.com/questions/16574189/android-studio-installation-on-windows-7-fails-no-jdk-found\">Android Studio installation on Windows 7 fails, no JDK found</a><br>\n<a href=\"https://stackoverflow.com/questions/20033231/with-android-studio-no-jvm-found-java-home-has-been-set\">With android studio no jvm found, JAVA_HOME has been set</a><br>\n<a href=\"https://stackoverflow.com/questions/16596520/android-studio-start-fails-on-windows-8-64bit\">Android Studio start fails on Windows 8 64bit</a><br>\n<a href=\"https://stackoverflow.com/questions/16574544/android-studio-does-not-launch-after-installation\">Android Studio does not launch after installation</a></p>\n\n<hr>\n\n<p>Here is the cmd output for java version:</p>\n\n<p><img src=\"https://i.stack.imgur.com/peGJ9.jpg\" alt=\"enter image description here\"></p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":5506151,"reputation":3498,"user_id":4373948,"accept_rate":88,"display_name":"Abder KRIMA"},"score":0,"creation_date":1553175506,"post_id":55281658,"comment_id":97293185,"body_markdown":"Your `CustomMethodSecurityExpressionRoot`  must be a spring component ! and to inject your `UserRepository`, you can do it by using `@Autowired`","body":"Your <code>CustomMethodSecurityExpressionRoot</code>  must be a spring component ! and to inject your <code>UserRepository</code>, you can do it by using <code>@Autowired</code>"},{"owner":{"account_id":6570811,"reputation":713,"user_id":5078902,"accept_rate":100,"display_name":"iStornZ"},"score":0,"creation_date":1553176125,"post_id":55281658,"comment_id":97293615,"body_markdown":"@TinyOS Thanks for your (very) fast reply ! I tried to add `@Component` at the top of the class &amp; set `@Autowired` to UserRepository and I have an exception when starting my server: `Error creating bean with name &#39;methodSecurityConfig&#39;: **Injection of autowired dependencies failed; nested exception is java.lang.RuntimeException: Could not postProcess` (sorry I&#39;m very new to SpringBoot, coming from Node.JS :p)","body":"@TinyOS Thanks for your (very) fast reply ! I tried to add <code>@Component</code> at the top of the class &amp; set <code>@Autowired</code> to UserRepository and I have an exception when starting my server: <code>Error creating bean with name &#39;methodSecurityConfig&#39;: **Injection of autowired dependencies failed; nested exception is java.lang.RuntimeException: Could not postProcess</code> (sorry I&#39;m very new to SpringBoot, coming from Node.JS :p)"},{"owner":{"account_id":2519330,"reputation":728,"user_id":2189998,"display_name":"user2189998"},"score":0,"creation_date":1553176739,"post_id":55281658,"comment_id":97294048,"body_markdown":"I&#39;m not familiar with SecurityExpressionRoot but that does not feel the right way to go.\n\nThe user should be already in the UserDetails at  this time, thus no call to database should be done in that expression.\n\nLook for DaoAuthenticationProvider and DaoAuthenticationProvider (spring security classes) for some pointers on how to do that.","body":"I&#39;m not familiar with SecurityExpressionRoot but that does not feel the right way to go.  The user should be already in the UserDetails at  this time, thus no call to database should be done in that expression.  Look for DaoAuthenticationProvider and DaoAuthenticationProvider (spring security classes) for some pointers on how to do that."},{"owner":{"account_id":6570811,"reputation":713,"user_id":5078902,"accept_rate":100,"display_name":"iStornZ"},"score":0,"creation_date":1553176977,"post_id":55281658,"comment_id":97294202,"body_markdown":"Thanks, I used this &quot;hack&quot; because user&#39;s informations in UserDetails was not updated (it seems user&#39;s informations was not refreshed from the database). I&#39;m going to check `DaoAuthenticationProvider` thanks for the tip !","body":"Thanks, I used this &quot;hack&quot; because user&#39;s informations in UserDetails was not updated (it seems user&#39;s informations was not refreshed from the database). I&#39;m going to check <code>DaoAuthenticationProvider</code> thanks for the tip !"}],"answers":[{"tags":[],"owner":{"account_id":7235311,"reputation":922,"user_id":5520794,"display_name":"vavasthi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553177900,"creation_date":1553177900,"answer_id":55282523,"question_id":55281658,"body_markdown":"If you can&#39;t make your class a spring component, the best approach is to pass `UserRepository` also in the constructor and pass it from a service as an argument.","title":"Can&#39;t access to UserRepository property inside a custom security expression","body":"<p>If you can't make your class a spring component, the best approach is to pass <code>UserRepository</code> also in the constructor and pass it from a service as an argument.</p>\n"},{"tags":[],"owner":{"account_id":10330710,"reputation":9,"user_id":7620621,"display_name":"dases"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641252624,"creation_date":1641247004,"answer_id":70571885,"question_id":55281658,"body_markdown":"the `CustomMethodSecurityExpressionRoot` must be a spring component and inject the `UserRepository` by using `@Autowired`.","title":"Can&#39;t access to UserRepository property inside a custom security expression","body":"<p>the <code>CustomMethodSecurityExpressionRoot</code> must be a spring component and inject the <code>UserRepository</code> by using <code>@Autowired</code>.</p>\n"},{"tags":[],"owner":{"account_id":14333512,"reputation":79,"user_id":10353679,"display_name":"argmnt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674166837,"creation_date":1674166837,"answer_id":75178883,"question_id":55281658,"body_markdown":"Maybe you can apply what is done in the link https://medium.com/@islamboulila/how-to-create-a-custom-security-expression-method-in-spring-security-e5b6353f062f\r\nIn the MethodSecurityConfig she passes ApplicationContext to MethodSecurityExpressionHandler. And inside of MethodSecurityExpressionHandler she gets UserService bean from ApplicationContext and passes to CustomMethodSecurityExpressionRoot via setter.","title":"Can&#39;t access to UserRepository property inside a custom security expression","body":"<p>Maybe you can apply what is done in the link <a href=\"https://medium.com/@islamboulila/how-to-create-a-custom-security-expression-method-in-spring-security-e5b6353f062f\" rel=\"nofollow noreferrer\">https://medium.com/@islamboulila/how-to-create-a-custom-security-expression-method-in-spring-security-e5b6353f062f</a>\nIn the MethodSecurityConfig she passes ApplicationContext to MethodSecurityExpressionHandler. And inside of MethodSecurityExpressionHandler she gets UserService bean from ApplicationContext and passes to CustomMethodSecurityExpressionRoot via setter.</p>\n"}],"owner":{"account_id":6570811,"reputation":713,"user_id":5078902,"accept_rate":100,"display_name":"iStornZ"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":538,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1674166837,"creation_date":1553175332,"question_id":55281658,"body_markdown":"I had a problem on my SpringBoot server REST API. In fact, I created a custom security expression in order to check if a specific user is allowed to access to a ressource (this is not a role).\r\n\r\nSo my class extends **SecurityExpressionRoot** and implements **MethodSecurityExpressionOperations**. Everything is working fine (method called successfully) but I can&quot;t use my UserRepository attribute: it&#39;s null.\r\n\r\nSo my question is, how to be able to use **UserRepository** instance inside a **custom security expression** ?\r\n\r\nThanks in advance !\r\n\r\n    public class CustomMethodSecurityExpressionRoot extends SecurityExpressionRoot implements MethodSecurityExpressionOperations {\r\n        public CustomMethodSecurityExpressionRoot(Authentication authentication) {\r\n            super(authentication);\r\n        }\r\n    \r\n        @Inject\r\n        private UserRepository userRepository; // This is always null\r\n    \r\n        @Override\r\n        public void setFilterObject(Object o) { }\r\n    \r\n        @Override\r\n        public Object getFilterObject() { return null; }\r\n    \r\n        @Override\r\n        public void setReturnObject(Object o) { }\r\n    \r\n        @Override\r\n        public Object getReturnObject() { return null; }\r\n    \r\n        @Override\r\n        public Object getThis() { return null; }\r\n    \r\n        public boolean isValidated() {\r\n            UserDetails principalUser = (UserDetails)authentication.getPrincipal();\r\n    \r\n            Optional&lt;User&gt; userFromDatabase = userRepository.findOneByLogin(principalUser.getUsername()); // Username is found here\r\n            return userFromDatabase.map(user -&gt; { // Not executed because userFromDatabase is null :/\r\n                return true;\r\n            }).orElseThrow(() -&gt; {\r\n                return new UsernameNotFoundException(&quot;user was not found in the database&quot;);\r\n            });\r\n        }\r\n    }","title":"Can&#39;t access to UserRepository property inside a custom security expression","body":"<p>I had a problem on my SpringBoot server REST API. In fact, I created a custom security expression in order to check if a specific user is allowed to access to a ressource (this is not a role).</p>\n\n<p>So my class extends <strong>SecurityExpressionRoot</strong> and implements <strong>MethodSecurityExpressionOperations</strong>. Everything is working fine (method called successfully) but I can\"t use my UserRepository attribute: it's null.</p>\n\n<p>So my question is, how to be able to use <strong>UserRepository</strong> instance inside a <strong>custom security expression</strong> ?</p>\n\n<p>Thanks in advance !</p>\n\n<pre><code>public class CustomMethodSecurityExpressionRoot extends SecurityExpressionRoot implements MethodSecurityExpressionOperations {\n    public CustomMethodSecurityExpressionRoot(Authentication authentication) {\n        super(authentication);\n    }\n\n    @Inject\n    private UserRepository userRepository; // This is always null\n\n    @Override\n    public void setFilterObject(Object o) { }\n\n    @Override\n    public Object getFilterObject() { return null; }\n\n    @Override\n    public void setReturnObject(Object o) { }\n\n    @Override\n    public Object getReturnObject() { return null; }\n\n    @Override\n    public Object getThis() { return null; }\n\n    public boolean isValidated() {\n        UserDetails principalUser = (UserDetails)authentication.getPrincipal();\n\n        Optional&lt;User&gt; userFromDatabase = userRepository.findOneByLogin(principalUser.getUsername()); // Username is found here\n        return userFromDatabase.map(user -&gt; { // Not executed because userFromDatabase is null :/\n            return true;\n        }).orElseThrow(() -&gt; {\n            return new UsernameNotFoundException(\"user was not found in the database\");\n        });\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","resttemplate"],"comments":[{"owner":{"account_id":13798611,"reputation":37885,"user_id":9959152,"display_name":"Ryuzaki L"},"score":1,"creation_date":1551374302,"post_id":54930449,"comment_id":96626423,"body_markdown":"what tom solved without code? show the code and explain the problem","body":"what tom solved without code? show the code and explain the problem"}],"answers":[{"comments":[{"owner":{"account_id":6420196,"reputation":604,"user_id":4977114,"display_name":"Hayo Baan"},"score":2,"creation_date":1604164740,"post_id":57829115,"comment_id":114266062,"body_markdown":"In my case making use of the URI vars didn&#39;t solve my problem, because it was in fact /receiving/ requests that was the issue. By (also) excluding WebMvcMetricsAutoConfiguration.class, I finally got rid of the warning!","body":"In my case making use of the URI vars didn&#39;t solve my problem, because it was in fact /receiving/ requests that was the issue. By (also) excluding WebMvcMetricsAutoConfiguration.class, I finally got rid of the warning!"},{"owner":{"account_id":4470329,"reputation":1272,"user_id":3636822,"display_name":"tomasulo"},"score":0,"creation_date":1678789947,"post_id":57829115,"comment_id":133597648,"body_markdown":"Do you know if using a `URI`, when invoking the `RestTemplate`, would have the same effect?","body":"Do you know if using a <code>URI</code>, when invoking the <code>RestTemplate</code>, would have the same effect?"}],"tags":[],"owner":{"account_id":12158451,"reputation":341,"user_id":8876737,"display_name":"Paul"},"comment_count":2,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1567808406,"creation_date":1567808406,"answer_id":57829115,"question_id":54930449,"body_markdown":"So, the Spring application collects metrics on all inbound and outbound API calls. These metrics may be queried to see how many times a certain URL has been called.\r\n\r\nIn your `public Maybevehicle call()` method, you are building the url by appending to a String. This will put every URL with a unique rfidtag in its own URI tag bucket. \r\n\r\nIn order to avoid this problem, you can use a uriVariables map:\r\n```\r\nString url = “http://url/{rfidtag}”;\r\nMap&lt;String, ?&gt; uriVariables = new HashMap&lt;&gt;();\r\nuriVariables.put(“rfidtag”, veh.getB().getRfidtag();\r\n…\r\nResponseEntity&lt;Bmwvehiclemain&gt; results = appRestTemplate\r\n        .exchange(url, HttpMethod.GET, requestEntity, Bmwvehiclemain.class, uriVariables);\r\n```\r\nThis lets Spring collect metrics on `http://url/{rfidtag}` instead of having a URI tag for `http://url/rfidtag1`, `http://url/rfidtag2`, `http://url/rfidtag3`, and so forth. \r\n\r\nThis should reduce the number of URI tags your application is creating.\r\n\r\nThe default value for the maximum number of URI tags is 100. If you want metrics on more than that, you can customize it by setting its property value to something else. For example, my Spring application is configured with my `projectname-ws/src/main/resources/config/application.yml` file. In this file I could put something like\r\n```\r\nmanagement:\r\n  metrics:\r\n    web:\r\n      client:\r\n        max-uri-tags: 200\r\n      server:\r\n        max-uri-tags: 200\r\n```\r\nto increase the maximum number of URI tags used for metrics.\r\n\r\nIf you simply don’t want the `Reached the maximum number of URI tags for http.client.requests` warning, you can put \r\n```\r\n@SpringBootApplication(exclude = HttpClientMetricsAutoConfiguration.class)\r\n``` \r\nat the top of whatever class you run your application from which will rid you of the warning message but probably not resolve the underlying issue.","title":"How do I solve &quot;Reached the maximum number of URI tags for http.client.requests&quot; warning?","body":"<p>So, the Spring application collects metrics on all inbound and outbound API calls. These metrics may be queried to see how many times a certain URL has been called.</p>\n\n<p>In your <code>public Maybevehicle call()</code> method, you are building the url by appending to a String. This will put every URL with a unique rfidtag in its own URI tag bucket. </p>\n\n<p>In order to avoid this problem, you can use a uriVariables map:</p>\n\n<pre><code>String url = “http://url/{rfidtag}”;\nMap&lt;String, ?&gt; uriVariables = new HashMap&lt;&gt;();\nuriVariables.put(“rfidtag”, veh.getB().getRfidtag();\n…\nResponseEntity&lt;Bmwvehiclemain&gt; results = appRestTemplate\n        .exchange(url, HttpMethod.GET, requestEntity, Bmwvehiclemain.class, uriVariables);\n</code></pre>\n\n<p>This lets Spring collect metrics on <code>http://url/{rfidtag}</code> instead of having a URI tag for <code>http://url/rfidtag1</code>, <code>http://url/rfidtag2</code>, <code>http://url/rfidtag3</code>, and so forth. </p>\n\n<p>This should reduce the number of URI tags your application is creating.</p>\n\n<p>The default value for the maximum number of URI tags is 100. If you want metrics on more than that, you can customize it by setting its property value to something else. For example, my Spring application is configured with my <code>projectname-ws/src/main/resources/config/application.yml</code> file. In this file I could put something like</p>\n\n<pre><code>management:\n  metrics:\n    web:\n      client:\n        max-uri-tags: 200\n      server:\n        max-uri-tags: 200\n</code></pre>\n\n<p>to increase the maximum number of URI tags used for metrics.</p>\n\n<p>If you simply don’t want the <code>Reached the maximum number of URI tags for http.client.requests</code> warning, you can put </p>\n\n<pre><code>@SpringBootApplication(exclude = HttpClientMetricsAutoConfiguration.class)\n</code></pre>\n\n<p>at the top of whatever class you run your application from which will rid you of the warning message but probably not resolve the underlying issue.</p>\n"},{"tags":[],"owner":{"account_id":3187733,"reputation":1050,"user_id":2692895,"display_name":"Michael Yakobi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674166512,"creation_date":1674166512,"answer_id":75178843,"question_id":54930449,"body_markdown":"Indeed this warning is about HTTP requests that concatenate variable data to the URL instead of using variables. \r\nAnd, as Paul explained, you should replace URL concatenation with parametric URLs.\r\nAnother way, using the &quot;fluent style&quot;, to achieve this using web-client is:\r\n```java\r\nwebClient\r\n   .method(HttpMethod.GET)\r\n   .uri(&quot;/.../...s/{id}/overview&quot;, id)\r\n   .retrieve()\r\n```\r\n\r\nHowever, please note that ignoring such warning has its implications... \r\n\r\nFor example, if you are using Prometheus to scrape metrics from your app, using such concatenated URLs results with huge number of metrics such as `http_client_requests_seconds_count{clientName=&quot;...&quot;,environment=&quot;&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,region=&quot;&quot;,service_name=&quot;&quot;,status=&quot;200&quot;,uri=&quot;/api/.../1234-5678-90/...&quot;,}` (because spring cannot tell that two such requests that only differ in the &quot;id&quot; are actually the same). \r\n&lt;br&gt;\r\nSo, in addition to spamming your Prometheus, such metrics are mostly useless.\r\n\r\nIn my case, my app was using a library that in turn is using web-client and is concatenating URLs.\r\n&lt;b&gt;\r\nI was looking for a way to identify these calls so I can ask them to be fixed.\r\nEventually I found I could use the `actuator/prometheus` endpoint to see all the web-client metrics which indeed was huge because of this issue.","title":"How do I solve &quot;Reached the maximum number of URI tags for http.client.requests&quot; warning?","body":"<p>Indeed this warning is about HTTP requests that concatenate variable data to the URL instead of using variables.\nAnd, as Paul explained, you should replace URL concatenation with parametric URLs.\nAnother way, using the &quot;fluent style&quot;, to achieve this using web-client is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>webClient\n   .method(HttpMethod.GET)\n   .uri(&quot;/.../...s/{id}/overview&quot;, id)\n   .retrieve()\n</code></pre>\n<p>However, please note that ignoring such warning has its implications...</p>\n<p>For example, if you are using Prometheus to scrape metrics from your app, using such concatenated URLs results with huge number of metrics such as <code>http_client_requests_seconds_count{clientName=&quot;...&quot;,environment=&quot;&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,region=&quot;&quot;,service_name=&quot;&quot;,status=&quot;200&quot;,uri=&quot;/api/.../1234-5678-90/...&quot;,}</code> (because spring cannot tell that two such requests that only differ in the &quot;id&quot; are actually the same).\n<br>\nSo, in addition to spamming your Prometheus, such metrics are mostly useless.</p>\n<p>In my case, my app was using a library that in turn is using web-client and is concatenating URLs.\n\nI was looking for a way to identify these calls so I can ask them to be fixed.\nEventually I found I could use the <code>actuator/prometheus</code> endpoint to see all the web-client metrics which indeed was huge because of this issue.</p>\n"}],"owner":{"account_id":13588864,"reputation":427,"user_id":9802794,"display_name":"Roro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20300,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":2,"score":18,"last_activity_date":1674166512,"creation_date":1551372186,"question_id":54930449,"body_markdown":"I receive this warning on my app.  I am reading rfidtags from about 30 readers at the same time.  Each time a tag comes in I am hitting the database to see if its in there. I have a rest api that I am using.  So I use a rest template to hit the rest api. Any ideas on how to solve this?  Thanks!\r\n\r\nHere&#39;s some of my code:\r\n\r\n    private void vehicleRequests(List&lt;Maybevehicle&gt; vehicles){\r\n\t\t//process list of unique tags to see if they are in the database and linked to a vehicle\r\n\t\tList&lt;Maybevehicle&gt; foundMaybeVehs= new ArrayList&lt;&gt;();\r\n\t\tList&lt;Maybevehicle&gt; notFound=new ArrayList&lt;&gt;();\r\n\t\t if(!vehicles.isEmpty()){\r\n\t\t\t\t for (Maybevehicle v: vehicles){\r\n\t\t\t\t\tFuture&lt;Maybevehicle&gt; r=aService.batchVehTags(v);\r\n\t\t\t\t\t\r\n\t\t\t\t\ttry{\r\n\t\t\t\t\t\tMaybevehicle m=r.get(2000, TimeUnit.SECONDS);\r\n\t\t\t\t\t\tif(r.isDone()){\r\n\t\t\t\t\t\t\tif (!(m.getB().getVin().equals(&quot;notindb&quot;))){\r\n\t\t\t\t\t\t\t\tfoundMaybeVehs.add(m);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}catch(InterruptedException | ExecutionException | TimeoutException e){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t }\r\n\t\t\t\t \r\n\t\t\t\t  if(!foundMaybeVehs.isEmpty()){\r\n\t\t\t\t\t addLocation(foundMaybeVehs);\r\n\t\t\t\t }\r\n\t\t }else{\r\n\t\t\t log.info(&quot;no vehicles to check.&quot;);\r\n\t\t }\r\n\t\t \r\n\t}\t\t\r\n\r\n\r\n    @Override\r\n\tpublic Future&lt;Maybevehicle&gt; batchVehTags(Maybevehicle v) {\r\n\t\tFuture&lt;Maybevehicle&gt; future=null;\r\n\t\t\t try{\r\n\t\t\t\t\t SimpleTaskMaybeveh task=new SimpleTaskMaybeveh(v, appRestTemplate);\r\n\t\t\t\t\t  future=dbService.submit(task);\r\n\t\t\t\t\t\r\n\t\t\t\t }catch(Exception e){\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t }\r\n\t\t\t\t\r\n\t\t\t\treturn future;\r\n\t\t\t}\r\n\r\n\r\n\t \r\n\t \r\n    }\r\n\r\n    public class SimpleTaskMaybeveh implements Callable&lt;Maybevehicle&gt;{\r\n\t\r\n\tprivate RestTemplate appRestTemplate;\r\n\tprivate Maybevehicle veh;\r\n\t\r\n\tpublic SimpleTaskMaybeveh(Maybevehicle veh, RestTemplate appRestTemplate){\r\n\t\tthis.veh=veh;\r\n\t\tthis.appRestTemplate=appRestTemplate;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Maybevehicle call(){\r\n\t  String url=&quot;http://url/&quot;+veh.getB().getRfidtag();\r\n\t\tString authString= &quot;&quot;;\r\n\t    byte[] encodedAuth= Base64.encodeBase64(authString.getBytes(Charset.forName(&quot;US-ASCII&quot;)));\r\n\t    String authHeader=&quot;Basic &quot;+new String(encodedAuth);\r\n\t    HttpHeaders headers = new HttpHeaders();\r\n\t\theaders.setAccept(Arrays.asList(MediaType.APPLICATION_JSON));\r\n\t\theaders.set(&quot;Authorization&quot;, authHeader);\r\n\t\tHttpEntity&lt;Bmwvehiclemain&gt; requestEntity=new HttpEntity &lt;Bmwvehiclemain&gt;(headers);\r\n\t\tResponseEntity&lt;Bmwvehiclemain&gt; results=appRestTemplate.exchange(url, HttpMethod.GET, requestEntity, Bmwvehiclemain.class);\r\n\t\ttry{\r\n\t\t\tBmwvehiclemain n=results.getBody();\r\n\t\t\tMaybevehicle d=new Maybevehicle(n,veh.getNewtaglocation());\r\n\t\t\treturn d;\r\n\t\t}catch(Exception e){\r\n\t\t\tMaybevehicle notveh=new Maybevehicle(&quot;notindb&quot;);\r\n\t\t\treturn notveh;\r\n\t\t}\r\n\t}\r\n\r\n    }\r\n","title":"How do I solve &quot;Reached the maximum number of URI tags for http.client.requests&quot; warning?","body":"<p>I receive this warning on my app.  I am reading rfidtags from about 30 readers at the same time.  Each time a tag comes in I am hitting the database to see if its in there. I have a rest api that I am using.  So I use a rest template to hit the rest api. Any ideas on how to solve this?  Thanks!</p>\n\n<p>Here's some of my code:</p>\n\n<pre><code>private void vehicleRequests(List&lt;Maybevehicle&gt; vehicles){\n    //process list of unique tags to see if they are in the database and linked to a vehicle\n    List&lt;Maybevehicle&gt; foundMaybeVehs= new ArrayList&lt;&gt;();\n    List&lt;Maybevehicle&gt; notFound=new ArrayList&lt;&gt;();\n     if(!vehicles.isEmpty()){\n             for (Maybevehicle v: vehicles){\n                Future&lt;Maybevehicle&gt; r=aService.batchVehTags(v);\n\n                try{\n                    Maybevehicle m=r.get(2000, TimeUnit.SECONDS);\n                    if(r.isDone()){\n                        if (!(m.getB().getVin().equals(\"notindb\"))){\n                            foundMaybeVehs.add(m);\n                        }\n                        }\n                    }\n                }catch(InterruptedException | ExecutionException | TimeoutException e){\n\n                }\n             }\n\n              if(!foundMaybeVehs.isEmpty()){\n                 addLocation(foundMaybeVehs);\n             }\n     }else{\n         log.info(\"no vehicles to check.\");\n     }\n\n}       \n\n\n@Override\npublic Future&lt;Maybevehicle&gt; batchVehTags(Maybevehicle v) {\n    Future&lt;Maybevehicle&gt; future=null;\n         try{\n                 SimpleTaskMaybeveh task=new SimpleTaskMaybeveh(v, appRestTemplate);\n                  future=dbService.submit(task);\n\n             }catch(Exception e){\n                    e.printStackTrace();\n                 }\n\n            return future;\n        }\n\n\n\n\n}\n\npublic class SimpleTaskMaybeveh implements Callable&lt;Maybevehicle&gt;{\n\nprivate RestTemplate appRestTemplate;\nprivate Maybevehicle veh;\n\npublic SimpleTaskMaybeveh(Maybevehicle veh, RestTemplate appRestTemplate){\n    this.veh=veh;\n    this.appRestTemplate=appRestTemplate;\n}\n\n@Override\npublic Maybevehicle call(){\n  String url=\"http://url/\"+veh.getB().getRfidtag();\n    String authString= \"\";\n    byte[] encodedAuth= Base64.encodeBase64(authString.getBytes(Charset.forName(\"US-ASCII\")));\n    String authHeader=\"Basic \"+new String(encodedAuth);\n    HttpHeaders headers = new HttpHeaders();\n    headers.setAccept(Arrays.asList(MediaType.APPLICATION_JSON));\n    headers.set(\"Authorization\", authHeader);\n    HttpEntity&lt;Bmwvehiclemain&gt; requestEntity=new HttpEntity &lt;Bmwvehiclemain&gt;(headers);\n    ResponseEntity&lt;Bmwvehiclemain&gt; results=appRestTemplate.exchange(url, HttpMethod.GET, requestEntity, Bmwvehiclemain.class);\n    try{\n        Bmwvehiclemain n=results.getBody();\n        Maybevehicle d=new Maybevehicle(n,veh.getNewtaglocation());\n        return d;\n    }catch(Exception e){\n        Maybevehicle notveh=new Maybevehicle(\"notindb\");\n        return notveh;\n    }\n}\n\n}\n</code></pre>\n"},{"tags":["java","spring","jdbc","jasper-reports"],"answers":[{"tags":[],"owner":{"account_id":11822,"reputation":18142,"user_id":22992,"accept_rate":76,"display_name":"Miguel Ping"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1224257047,"creation_date":1224257047,"answer_id":212632,"question_id":212569,"body_markdown":"If you want to just perform a query and get the results, why don&#39;t you use plain jdbc and grab the resultset? Notice that you don&#39;t need spring to do just this.\r\n\r\n        Connection c = ...\r\n        c.prepareCall(&quot;select ...&quot;).getResultSet();\r\n\r\nBesides, you get an advantage by using an object as a DTO. You don&#39;t need to change your DTO class even if your data acess or your report tool changes (let&#39;s say you start using xquery instead of jdbc or you use apache-poi instead of jasper.","title":"getResultSet from Spring-JDBC","body":"<p>If you want to just perform a query and get the results, why don't you use plain jdbc and grab the resultset? Notice that you don't need spring to do just this.</p>\n\n<pre><code>    Connection c = ...\n    c.prepareCall(\"select ...\").getResultSet();\n</code></pre>\n\n<p>Besides, you get an advantage by using an object as a DTO. You don't need to change your DTO class even if your data acess or your report tool changes (let's say you start using xquery instead of jdbc or you use apache-poi instead of jasper.</p>\n"},{"tags":[],"owner":{"account_id":972323,"reputation":667,"user_id":994605,"display_name":"Bill Poitras"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1319682911,"creation_date":1319682911,"answer_id":7911154,"question_id":212569,"body_markdown":"You can either invoke Jasper inside a JdbcTemplate callback (like a ResultSetExtractor) or use straight JDBC to pass the ResultSet to Jasper.  Either way when you call Jasper your connection to the database is still active until your report is finished.","title":"getResultSet from Spring-JDBC","body":"<p>You can either invoke Jasper inside a JdbcTemplate callback (like a ResultSetExtractor) or use straight JDBC to pass the ResultSet to Jasper.  Either way when you call Jasper your connection to the database is still active until your report is finished.</p>\n"}],"owner":{"account_id":1921,"reputation":185682,"user_id":2648,"accept_rate":52,"display_name":"D&#243;nal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14509,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":212632,"answer_count":2,"score":7,"last_activity_date":1674166508,"creation_date":1224256078,"question_id":212569,"body_markdown":"I&#39;m using Spring&#39;s support for JDBC. I&#39;d like to use [JdbcTemplate][1] (or SimpleJdbcTemplate) to execute a query and obtain the result as an instance of ResultSet.\r\n\r\nThe only way that I can see of achieving this is using:\r\n\r\n    String sql = &quot;select * from....&quot;;\r\n    SqlRowSet results = jdbcTemplate.queryForRowSet(sql);\r\n    ((ResultSetWrappingSqlRowSet) results).getResultSet();\r\n\r\nAn obvious shortcoming of this approach is that it requires me to make an assumption (by casting) about the implementation type of SqlRowSet, but is there a better way?\r\n\r\n**Background info...**\r\n\r\nThe reason I want to obtain the results as a ResultSet, rather than a collection of beans, is because the results will be passed straight to a Jasper report for display. In other words, the Java bean would be used for nothing other than temporarily storing each row in the ResultSet, and I&#39;d like to avoid creating such a bean for every Jasper report if possible.\r\n\r\nCheers, Don\r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/JdbcTemplate.html\r\n","title":"getResultSet from Spring-JDBC","body":"<p>I'm using Spring's support for JDBC. I'd like to use <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/JdbcTemplate.html\" rel=\"nofollow noreferrer\">JdbcTemplate</a> (or SimpleJdbcTemplate) to execute a query and obtain the result as an instance of ResultSet.</p>\n<p>The only way that I can see of achieving this is using:</p>\n<pre><code>String sql = &quot;select * from....&quot;;\nSqlRowSet results = jdbcTemplate.queryForRowSet(sql);\n((ResultSetWrappingSqlRowSet) results).getResultSet();\n</code></pre>\n<p>An obvious shortcoming of this approach is that it requires me to make an assumption (by casting) about the implementation type of SqlRowSet, but is there a better way?</p>\n<p><strong>Background info...</strong></p>\n<p>The reason I want to obtain the results as a ResultSet, rather than a collection of beans, is because the results will be passed straight to a Jasper report for display. In other words, the Java bean would be used for nothing other than temporarily storing each row in the ResultSet, and I'd like to avoid creating such a bean for every Jasper report if possible.</p>\n<p>Cheers, Don</p>\n"},{"tags":["java","spring","spring-boot","exception","controller-advice"],"comments":[{"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"score":0,"creation_date":1654630337,"post_id":72477541,"comment_id":128135278,"body_markdown":"Hmm, I did some test and it seems like you are right. I was conviced that it works like I explained. Need to investigate this further","body":"Hmm, I did some test and it seems like you are right. I was conviced that it works like I explained. Need to investigate this further"}],"answers":[{"comments":[{"owner":{"account_id":6299828,"reputation":615,"user_id":4894814,"accept_rate":38,"display_name":"Christophe Schutz"},"score":0,"creation_date":1674564966,"post_id":75178833,"comment_id":132736740,"body_markdown":"Thank you for the input. It doesn&#39;t exactly answer why no handler is called though, even when I specify one for Exception.class (which should catch a NestedServletException or RuntimeException for that matter)","body":"Thank you for the input. It doesn&#39;t exactly answer why no handler is called though, even when I specify one for Exception.class (which should catch a NestedServletException or RuntimeException for that matter)"},{"owner":{"account_id":14395021,"reputation":21,"user_id":10398579,"display_name":"Francisco"},"score":0,"creation_date":1674667901,"post_id":75178833,"comment_id":132765285,"body_markdown":"I think you need to add a filter or interceptor to do that: https://stackoverflow.com/questions/34595605/how-to-manage-exceptions-thrown-in-filters-in-spring","body":"I think you need to add a filter or interceptor to do that: <a href=\"https://stackoverflow.com/questions/34595605/how-to-manage-exceptions-thrown-in-filters-in-spring\" title=\"how to manage exceptions thrown in filters in spring\">stackoverflow.com/questions/34595605/&hellip;</a>"}],"tags":[],"owner":{"account_id":14395021,"reputation":21,"user_id":10398579,"display_name":"Francisco"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674166446,"creation_date":1674166446,"answer_id":75178833,"question_id":72477541,"body_markdown":"Although this may be an old question, I want to provide an answer for anyone who may come across it in the future.\r\n\r\nWhen you raise an exception in the preHandle method of a HandlerInterceptor, it may be wrapped in another exception called NestedServletException. This is a specific exception thrown by the Spring framework.\r\n\r\nIt&#39;s worth noting that NestedServletException is a runtime exception that occurs when a servlet or filter throws an exception. It encloses the original exception and provides additional information about the location where the exception occurred.","title":"ExceptionHandler doesn&#39;t catch HandlerInterceptor exception if endpoint path is unknown","body":"<p>Although this may be an old question, I want to provide an answer for anyone who may come across it in the future.</p>\n<p>When you raise an exception in the preHandle method of a HandlerInterceptor, it may be wrapped in another exception called NestedServletException. This is a specific exception thrown by the Spring framework.</p>\n<p>It's worth noting that NestedServletException is a runtime exception that occurs when a servlet or filter throws an exception. It encloses the original exception and provides additional information about the location where the exception occurred.</p>\n"}],"owner":{"account_id":6299828,"reputation":615,"user_id":4894814,"accept_rate":38,"display_name":"Christophe Schutz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":396,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674166446,"creation_date":1654178530,"question_id":72477541,"body_markdown":"I have a component that implements the HandlerInterceptor interface, and implements the preHandle method. In this method I retrieve a parameter from the request, and throw an IllegalArgumentException if that parameter is missing.\r\n\r\n```\r\n@Override\r\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) {\r\n        String parameter = request.getHeader(&quot;parameter123&quot;);\r\n        if (StringUtils.isEmpty(parameter)) {\r\n            throw new IllegalArgumentException(&quot;parameter123 not specified&quot;);\r\n        }\r\n        [...]\r\n        return true;\r\n    }\r\n```\r\n\r\n\r\nIn another class annotated with @ControllerAdvice, I have a ExceptionHandler that catches the IllegalArgumentExceptions and turns those into a formatted response with HTTP status code 400.\r\n\r\nWhen this is executed by triggering a valid path of my API, everything works just fine. Problems arise when I try to call an invalid/unexisting path of my API. The HandlerInterceptor is called and the exception is thrown but my ExceptionHandler is not triggered and the result is a basic HTTP status code 500 exception. It seems to both override the basic HTTP status 404 mechanism, while also preventing the triggering of my ExceptionHandlers (even an ExceptionHandler on Exception.class doesn&#39;t ever get called).\r\n\r\nAny explanations regarding this behaviour are welcome ! Thanks","title":"ExceptionHandler doesn&#39;t catch HandlerInterceptor exception if endpoint path is unknown","body":"<p>I have a component that implements the HandlerInterceptor interface, and implements the preHandle method. In this method I retrieve a parameter from the request, and throw an IllegalArgumentException if that parameter is missing.</p>\n<pre><code>@Override\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) {\n        String parameter = request.getHeader(&quot;parameter123&quot;);\n        if (StringUtils.isEmpty(parameter)) {\n            throw new IllegalArgumentException(&quot;parameter123 not specified&quot;);\n        }\n        [...]\n        return true;\n    }\n</code></pre>\n<p>In another class annotated with @ControllerAdvice, I have a ExceptionHandler that catches the IllegalArgumentExceptions and turns those into a formatted response with HTTP status code 400.</p>\n<p>When this is executed by triggering a valid path of my API, everything works just fine. Problems arise when I try to call an invalid/unexisting path of my API. The HandlerInterceptor is called and the exception is thrown but my ExceptionHandler is not triggered and the result is a basic HTTP status code 500 exception. It seems to both override the basic HTTP status 404 mechanism, while also preventing the triggering of my ExceptionHandlers (even an ExceptionHandler on Exception.class doesn't ever get called).</p>\n<p>Any explanations regarding this behaviour are welcome ! Thanks</p>\n"},{"tags":["java","swing","colors","jtable","jtabbedpane"],"answers":[{"comments":[{"owner":{"account_id":4906648,"reputation":698,"user_id":3953199,"accept_rate":89,"display_name":"KJaeg"},"score":0,"creation_date":1468483879,"post_id":38365332,"comment_id":64148661,"body_markdown":"Fantastic! It worked with setting `UIManager.put(&quot;TabbedPane.contentAreaColor&quot;, Color.GREEN);`","body":"Fantastic! It worked with setting <code>UIManager.put(&quot;TabbedPane.contentAreaColor&quot;, Color.GREEN);</code>"}],"tags":[],"owner":{"account_id":59184,"reputation":9708,"user_id":177145,"display_name":"aterai"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1468469420,"creation_date":1468469420,"answer_id":38365332,"question_id":38355163,"body_markdown":"Probably `TabbedPane.contentAreaColor`(top of the `TabbedPane.contentBorderInsets`):\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    import javax.swing.plaf.basic.*;\r\n    \r\n    public final class BasicTabbedPaneColorTest {\r\n      private JComponent makeUI() {\r\n        //UIManager.put(&quot;TabbedPane.contentBorderInsets&quot;,  new Insets(10, 10, 10, 10));\r\n        //UIManager.put(&quot;TabbedPane.contentBorderInsets&quot;,  new Insets(0, 10, 10, 10));\r\n    \r\n        UIManager.put(&quot;TabbedPane.contentAreaColor&quot;, Color.GREEN);\r\n        UIManager.put(&quot;TabbedPane.highlight&quot;,        Color.RED);\r\n    \r\n        JTabbedPane tabs = new JTabbedPane();\r\n        tabs.setUI(new BasicTabbedPaneUI());\r\n        //tabs.setBackground(Color.ORANGE);\r\n        //tabs.setOpaque(true);\r\n    \r\n        tabs.addTab(&quot;JTable&quot;, new JScrollPane(new JTable(20, 3)));\r\n        tabs.addTab(&quot;JTree&quot;,  new JScrollPane(new JTree()));\r\n        return tabs;\r\n      }\r\n      public static void main(String... args) {\r\n        EventQueue.invokeLater(() -&gt; {\r\n          JFrame f = new JFrame();\r\n          f.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n          f.getContentPane().add(new BasicTabbedPaneColorTest().makeUI());\r\n          f.setSize(320, 240);\r\n          f.setLocationRelativeTo(null);\r\n          f.setVisible(true);\r\n        });\r\n      }\r\n    }\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/m1LWc.png","title":"Change Color of Line between Tab and JTable","body":"<p>Probably <code>TabbedPane.contentAreaColor</code>(top of the <code>TabbedPane.contentBorderInsets</code>):</p>\n\n<p><a href=\"https://i.stack.imgur.com/m1LWc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/m1LWc.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>import java.awt.*;\nimport javax.swing.*;\nimport javax.swing.plaf.basic.*;\n\npublic final class BasicTabbedPaneColorTest {\n  private JComponent makeUI() {\n    //UIManager.put(\"TabbedPane.contentBorderInsets\",  new Insets(10, 10, 10, 10));\n    //UIManager.put(\"TabbedPane.contentBorderInsets\",  new Insets(0, 10, 10, 10));\n\n    UIManager.put(\"TabbedPane.contentAreaColor\", Color.GREEN);\n    UIManager.put(\"TabbedPane.highlight\",        Color.RED);\n\n    JTabbedPane tabs = new JTabbedPane();\n    tabs.setUI(new BasicTabbedPaneUI());\n    //tabs.setBackground(Color.ORANGE);\n    //tabs.setOpaque(true);\n\n    tabs.addTab(\"JTable\", new JScrollPane(new JTable(20, 3)));\n    tabs.addTab(\"JTree\",  new JScrollPane(new JTree()));\n    return tabs;\n  }\n  public static void main(String... args) {\n    EventQueue.invokeLater(() -&gt; {\n      JFrame f = new JFrame();\n      f.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n      f.getContentPane().add(new BasicTabbedPaneColorTest().makeUI());\n      f.setSize(320, 240);\n      f.setLocationRelativeTo(null);\n      f.setVisible(true);\n    });\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":4906648,"reputation":698,"user_id":3953199,"accept_rate":89,"display_name":"KJaeg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":436,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":38365332,"answer_count":1,"score":1,"last_activity_date":1674166300,"creation_date":1468421700,"question_id":38355163,"body_markdown":"I am customizing the visual appearance of my `JTabbedPane`, which contains three `JTables`.\r\n\r\nWhile I was successfully coloring the selection color of the tab, including a changing of the text color, I changed the tab border colors by creating an own `BasicTabbedPaneUI`. But there is still one line, which remained in the way it was. This line is located between the tab and the table. See the following picture:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe line I am talking about is marked with three litte red dots.\r\nWhat is this line? If it is a border, where does it belong to? I didn&#39;t find a way to set its color. I checked the `JTable`, he `JTabbedPane`, and even the components of the `JTabbedPane`.\r\n\r\nJust to show, what I am able to access, I painted every component green.\r\n[![enter image description here][2]][2]\r\n\r\nYou can see, that this blue line still remains.\r\nDoes anyone know how to change its color?\r\nRemoving it would be another acceptable option.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/upeXK.jpg\r\n  [2]: http://i.stack.imgur.com/JOrLh.jpg","title":"Change Color of Line between Tab and JTable","body":"<p>I am customizing the visual appearance of my <code>JTabbedPane</code>, which contains three <code>JTables</code>.</p>\n\n<p>While I was successfully coloring the selection color of the tab, including a changing of the text color, I changed the tab border colors by creating an own <code>BasicTabbedPaneUI</code>. But there is still one line, which remained in the way it was. This line is located between the tab and the table. See the following picture:</p>\n\n<p><a href=\"https://i.stack.imgur.com/upeXK.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/upeXK.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>The line I am talking about is marked with three litte red dots.\nWhat is this line? If it is a border, where does it belong to? I didn't find a way to set its color. I checked the <code>JTable</code>, he <code>JTabbedPane</code>, and even the components of the <code>JTabbedPane</code>.</p>\n\n<p>Just to show, what I am able to access, I painted every component green.\n<a href=\"https://i.stack.imgur.com/JOrLh.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JOrLh.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>You can see, that this blue line still remains.\nDoes anyone know how to change its color?\nRemoving it would be another acceptable option.</p>\n"},{"tags":["java","maven","kotlin"],"owner":{"account_id":288857,"reputation":2475,"user_id":589509,"accept_rate":89,"display_name":"NOCARRIER"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674166128,"creation_date":1674166128,"question_id":75178801,"body_markdown":"When a failure occurs in my maven build due to a klint violation, the report displays the line number **but not the file name**. \r\n\r\nThe error message is as follows:\r\n\r\n&gt;Failed to execute goal com.github.gantsign.maven:ktlint-maven-plugin:1.15.2:format (default-cli) on project foo-project: Execution default-cli of goal com.github.gantsign.maven:ktlint-maven-plugin:1.15.2:format failed: 89:33 Unexpected tokens (use &#39;;&#39; to separate expressions on the same line) -&gt; [Help 1]\r\n[ERROR]\r\n\r\n I have read through the gant docs (https://github.com/gantsign/ktlint-maven-plugin) but do not see any options to control this. My configuration is as follows: \r\n\r\n```\r\n  &lt;profiles&gt;\r\n    &lt;profile&gt;\r\n      &lt;id&gt;default&lt;/id&gt;\r\n      &lt;activation&gt;\r\n        &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n      &lt;/activation&gt;\r\n      &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n          &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;com.github.gantsign.maven&lt;/groupId&gt;\r\n              &lt;artifactId&gt;ktlint-maven-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;${ktlint-maven-plugin.version}&lt;/version&gt;\r\n              &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                  &lt;id&gt;format-and-check-sources&lt;/id&gt;\r\n                  &lt;phase&gt;validate&lt;/phase&gt; &lt;!-- run linting first --&gt;\r\n                  &lt;goals&gt;\r\n                    &lt;goal&gt;format&lt;/goal&gt;\r\n                    &lt;goal&gt;check&lt;/goal&gt;\r\n                  &lt;/goals&gt;\r\n                &lt;/execution&gt;\r\n                &lt;execution&gt;\r\n                  &lt;id&gt;format-and-check-tests&lt;/id&gt;\r\n                  &lt;phase&gt;validate&lt;/phase&gt; &lt;!-- run linting first --&gt;\r\n                  &lt;goals&gt;\r\n                    &lt;goal&gt;format&lt;/goal&gt;\r\n                    &lt;goal&gt;check&lt;/goal&gt;\r\n                  &lt;/goals&gt;\r\n                &lt;/execution&gt;\r\n              &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n          &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n      &lt;/build&gt;\r\n    &lt;/profile&gt;\r\n    &lt;profile&gt;\r\n      &lt;id&gt;build-pr&lt;/id&gt;\r\n      &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n          &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;com.github.gantsign.maven&lt;/groupId&gt;\r\n              &lt;artifactId&gt;ktlint-maven-plugin&lt;/artifactId&gt;\r\n              &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                  &lt;id&gt;format-and-check-sources&lt;/id&gt;\r\n                  &lt;phase&gt;validate&lt;/phase&gt; &lt;!-- run linting first --&gt;\r\n                  &lt;goals&gt;\r\n                    &lt;goal&gt;check&lt;/goal&gt;\r\n                  &lt;/goals&gt;\r\n                &lt;/execution&gt;\r\n                &lt;execution&gt;\r\n                  &lt;id&gt;format-and-check-tests&lt;/id&gt;\r\n                  &lt;phase&gt;validate&lt;/phase&gt; &lt;!-- run linting first --&gt;\r\n                  &lt;goals&gt;\r\n                    &lt;goal&gt;check&lt;/goal&gt;\r\n                  &lt;/goals&gt;\r\n                &lt;/execution&gt;\r\n              &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n          &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n      &lt;/build&gt;\r\n    &lt;/profile&gt;\r\n  &lt;/profiles&gt;\r\n```\r\n\r\nIs there any options that will allow the file name to appear or is this a bug in the build tool?","title":"Klint Maven CLI does not report file names during failure","body":"<p>When a failure occurs in my maven build due to a klint violation, the report displays the line number <strong>but not the file name</strong>.</p>\n<p>The error message is as follows:</p>\n<blockquote>\n<p>Failed to execute goal com.github.gantsign.maven:ktlint-maven-plugin:1.15.2:format (default-cli) on project foo-project: Execution default-cli of goal com.github.gantsign.maven:ktlint-maven-plugin:1.15.2:format failed: 89:33 Unexpected tokens (use ';' to separate expressions on the same line) -&gt; [Help 1]\n[ERROR]</p>\n</blockquote>\n<p>I have read through the gant docs (<a href=\"https://github.com/gantsign/ktlint-maven-plugin\" rel=\"nofollow noreferrer\">https://github.com/gantsign/ktlint-maven-plugin</a>) but do not see any options to control this. My configuration is as follows:</p>\n<pre><code>  &lt;profiles&gt;\n    &lt;profile&gt;\n      &lt;id&gt;default&lt;/id&gt;\n      &lt;activation&gt;\n        &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n      &lt;/activation&gt;\n      &lt;build&gt;\n        &lt;pluginManagement&gt;\n          &lt;plugins&gt;\n            &lt;plugin&gt;\n              &lt;groupId&gt;com.github.gantsign.maven&lt;/groupId&gt;\n              &lt;artifactId&gt;ktlint-maven-plugin&lt;/artifactId&gt;\n              &lt;version&gt;${ktlint-maven-plugin.version}&lt;/version&gt;\n              &lt;executions&gt;\n                &lt;execution&gt;\n                  &lt;id&gt;format-and-check-sources&lt;/id&gt;\n                  &lt;phase&gt;validate&lt;/phase&gt; &lt;!-- run linting first --&gt;\n                  &lt;goals&gt;\n                    &lt;goal&gt;format&lt;/goal&gt;\n                    &lt;goal&gt;check&lt;/goal&gt;\n                  &lt;/goals&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                  &lt;id&gt;format-and-check-tests&lt;/id&gt;\n                  &lt;phase&gt;validate&lt;/phase&gt; &lt;!-- run linting first --&gt;\n                  &lt;goals&gt;\n                    &lt;goal&gt;format&lt;/goal&gt;\n                    &lt;goal&gt;check&lt;/goal&gt;\n                  &lt;/goals&gt;\n                &lt;/execution&gt;\n              &lt;/executions&gt;\n            &lt;/plugin&gt;\n          &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n      &lt;/build&gt;\n    &lt;/profile&gt;\n    &lt;profile&gt;\n      &lt;id&gt;build-pr&lt;/id&gt;\n      &lt;build&gt;\n        &lt;pluginManagement&gt;\n          &lt;plugins&gt;\n            &lt;plugin&gt;\n              &lt;groupId&gt;com.github.gantsign.maven&lt;/groupId&gt;\n              &lt;artifactId&gt;ktlint-maven-plugin&lt;/artifactId&gt;\n              &lt;executions&gt;\n                &lt;execution&gt;\n                  &lt;id&gt;format-and-check-sources&lt;/id&gt;\n                  &lt;phase&gt;validate&lt;/phase&gt; &lt;!-- run linting first --&gt;\n                  &lt;goals&gt;\n                    &lt;goal&gt;check&lt;/goal&gt;\n                  &lt;/goals&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                  &lt;id&gt;format-and-check-tests&lt;/id&gt;\n                  &lt;phase&gt;validate&lt;/phase&gt; &lt;!-- run linting first --&gt;\n                  &lt;goals&gt;\n                    &lt;goal&gt;check&lt;/goal&gt;\n                  &lt;/goals&gt;\n                &lt;/execution&gt;\n              &lt;/executions&gt;\n            &lt;/plugin&gt;\n          &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n      &lt;/build&gt;\n    &lt;/profile&gt;\n  &lt;/profiles&gt;\n</code></pre>\n<p>Is there any options that will allow the file name to appear or is this a bug in the build tool?</p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":8732,"reputation":87908,"user_id":15880,"accept_rate":75,"display_name":"Powerlord"},"score":2,"creation_date":1546705978,"post_id":54053916,"comment_id":94942123,"body_markdown":"Why do these screenshots show different classes?","body":"Why do these screenshots show different classes?"},{"owner":{"account_id":8732,"reputation":87908,"user_id":15880,"accept_rate":75,"display_name":"Powerlord"},"score":0,"creation_date":1546706803,"post_id":54053916,"comment_id":94942338,"body_markdown":"As for the errors in question, you&#39;re likely getting different errors; the error in the first screenshot is caused by a missing `import`.  The error in the second screenshot is likely a missing method error because you misspelled [`Executors`](https://docs.oracle.com/javase/10/docs/api/java/util/concurrent/Executors.html) (a class with static methods) as [`Executor`](https://docs.oracle.com/javase/10/docs/api/java/util/concurrent/Executor.html) (an interface with no static methods)","body":"As for the errors in question, you&#39;re likely getting different errors; the error in the first screenshot is caused by a missing <code>import</code>.  The error in the second screenshot is likely a missing method error because you misspelled <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/concurrent/Executors.html\" rel=\"nofollow noreferrer\"><code>Executors</code></a> (a class with static methods) as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/concurrent/Executor.html\" rel=\"nofollow noreferrer\"><code>Executor</code></a> (an interface with no static methods)"},{"owner":{"account_id":984921,"reputation":1829,"user_id":1901823,"accept_rate":61,"display_name":"Mariano L"},"score":0,"creation_date":1546707387,"post_id":54053916,"comment_id":94942492,"body_markdown":"Is the same code, different class name. Those are just practice exercises. About the mispell, you are correct. But the problem is the same: Errors in Linux(doesn&#39;t matter wich error) are not highlighted, when in windows they are. Corrected the mispell error(now has the same error than windows), and still not highlighted.","body":"Is the same code, different class name. Those are just practice exercises. About the mispell, you are correct. But the problem is the same: Errors in Linux(doesn&#39;t matter wich error) are not highlighted, when in windows they are. Corrected the mispell error(now has the same error than windows), and still not highlighted."},{"owner":{"account_id":216144,"reputation":1333,"user_id":471199,"accept_rate":75,"display_name":"mithrandir"},"score":0,"creation_date":1556412602,"post_id":54053916,"comment_id":98430037,"body_markdown":"I seem to have the same issue with Mac.","body":"I seem to have the same issue with Mac."}],"answers":[{"tags":[],"owner":{"account_id":6271996,"reputation":2560,"user_id":4957620,"accept_rate":88,"display_name":"chris"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674165087,"creation_date":1674165087,"answer_id":75178666,"question_id":54053916,"body_markdown":"If it helps, this is how I solved it: \r\n\r\n 1. Shift + Ctrl + P\r\n 2. Type `Java: Clean Java Language Server Workspace` and select it\r\n 3. Reload VS Code","title":"Visual Studio Code with Java Extension Pack not highlighting errors in Linux","body":"<p>If it helps, this is how I solved it:</p>\n<ol>\n<li>Shift + Ctrl + P</li>\n<li>Type <code>Java: Clean Java Language Server Workspace</code> and select it</li>\n<li>Reload VS Code</li>\n</ol>\n"}],"owner":{"account_id":984921,"reputation":1829,"user_id":1901823,"accept_rate":61,"display_name":"Mariano L"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1818,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1674165087,"creation_date":1546705732,"question_id":54053916,"body_markdown":"I&#39;m using Visual Studio Code with the Java Extension. In windows, I get a highlight of all the errors in the IDE, as you can see in this screenshot:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nBut when I write the same code, with the same errors and with the same extensions in linux, the highlight doesn&#39;t work:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nBefore you say it, yes the error is there. If a run the code I get the error &quot;Executer&quot;. Compared settings and are all the same. Java is detected, the thumb is up. \r\n\r\nThe version in linux mint and windows is 1.30.1. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nGjMX.png\r\n  [2]: https://i.stack.imgur.com/6EOzp.png","title":"Visual Studio Code with Java Extension Pack not highlighting errors in Linux","body":"<p>I'm using Visual Studio Code with the Java Extension. In windows, I get a highlight of all the errors in the IDE, as you can see in this screenshot:</p>\n\n<p><a href=\"https://i.stack.imgur.com/nGjMX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nGjMX.png\" alt=\"enter image description here\"></a></p>\n\n<p>But when I write the same code, with the same errors and with the same extensions in linux, the highlight doesn't work:</p>\n\n<p><a href=\"https://i.stack.imgur.com/6EOzp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6EOzp.png\" alt=\"enter image description here\"></a></p>\n\n<p>Before you say it, yes the error is there. If a run the code I get the error \"Executer\". Compared settings and are all the same. Java is detected, the thumb is up. </p>\n\n<p>The version in linux mint and windows is 1.30.1. </p>\n"},{"tags":["java","linux","raspberry-pi","orange-pi"],"answers":[{"comments":[{"owner":{"account_id":7955508,"reputation":183,"user_id":6004973,"accept_rate":67,"display_name":"Goodwin"},"score":0,"creation_date":1456873775,"post_id":35735300,"comment_id":59145187,"body_markdown":"Ah yes I have looked at this link but it doesn&#39;t appear to actual work with the Orange Pi Plus 2.","body":"Ah yes I have looked at this link but it doesn&#39;t appear to actual work with the Orange Pi Plus 2."}],"tags":[],"owner":{"account_id":1681873,"reputation":2085,"user_id":1545952,"accept_rate":100,"display_name":"Xvolks"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1456873114,"creation_date":1456873114,"answer_id":35735300,"question_id":35735120,"body_markdown":"I saw this post that may help you : https://groups.google.com/forum/#!topic/pi4j/T30EUL2Z10I\r\n\r\nAs I do not own this device, so I cannot verify by myself.","title":"pi4J For Orange Pi Plus 2","body":"<p>I saw this post that may help you : <a href=\"https://groups.google.com/forum/#!topic/pi4j/T30EUL2Z10I\" rel=\"nofollow\">https://groups.google.com/forum/#!topic/pi4j/T30EUL2Z10I</a></p>\n\n<p>As I do not own this device, so I cannot verify by myself.</p>\n"},{"tags":[],"owner":{"account_id":3300524,"reputation":1,"user_id":2776819,"display_name":"Matt Brenner"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1479067247,"creation_date":1479067247,"answer_id":40578214,"question_id":35735120,"body_markdown":"For Raspberry Pi there is the well-known wiringPi library, written in C, for GPIO access and control. This library has been ported for the Orange Pi. The port is called wiringPO. I wrote a simple Java class with a native method. The native method gives me access to the wiringPO library, and I use JNI to allow my java application to interact with the native method. Works like a charm.","title":"pi4J For Orange Pi Plus 2","body":"<p>For Raspberry Pi there is the well-known wiringPi library, written in C, for GPIO access and control. This library has been ported for the Orange Pi. The port is called wiringPO. I wrote a simple Java class with a native method. The native method gives me access to the wiringPO library, and I use JNI to allow my java application to interact with the native method. Works like a charm.</p>\n"},{"comments":[{"owner":{"account_id":240809,"reputation":3247,"user_id":511250,"accept_rate":57,"display_name":"Todd Sharp"},"score":0,"creation_date":1481147303,"post_id":40987004,"comment_id":69263400,"body_markdown":"I&#39;m using the latest snapshot, but still getting the &#39;Unable to determine hardware version.  I see: Hardware : sun8i&#39; message when I try to use Pi4J.  Is there a config change necessary?","body":"I&#39;m using the latest snapshot, but still getting the &#39;Unable to determine hardware version.  I see: Hardware : sun8i&#39; message when I try to use Pi4J.  Is there a config change necessary?"}],"tags":[],"owner":{"account_id":9789988,"reputation":26,"user_id":7254956,"display_name":"The Pi4J Project"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1481000816,"creation_date":1480992417,"answer_id":40987004,"question_id":35735120,"body_markdown":"Experimental support for `OrangePi` is now included in the latest `Pi4J v1.2-SNAPSHOT` builds.  Please be aware that this is largely untested at this time.  Feel free to try it out and report issues to the project.\r\n\r\nI&#39;m afraid that the `WiringPi` port for `OrangePi (WiringOP)` may be slightly outdated and may not support the newer/latest `OrangePi` hardware models, but more testing is needed to confirm which models are working.\r\n","title":"pi4J For Orange Pi Plus 2","body":"<p>Experimental support for <code>OrangePi</code> is now included in the latest <code>Pi4J v1.2-SNAPSHOT</code> builds.  Please be aware that this is largely untested at this time.  Feel free to try it out and report issues to the project.</p>\n\n<p>I'm afraid that the <code>WiringPi</code> port for <code>OrangePi (WiringOP)</code> may be slightly outdated and may not support the newer/latest <code>OrangePi</code> hardware models, but more testing is needed to confirm which models are working.</p>\n"},{"tags":[],"owner":{"account_id":1677787,"reputation":63,"user_id":1542890,"accept_rate":25,"display_name":"Ankush"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485627883,"creation_date":1485626171,"answer_id":41912968,"question_id":35735120,"body_markdown":"Add the line: \r\n\r\n    GpioFactory.setDefaultProvider(new OrangePiGpioProvider());\r\n\r\nbefore getting instance: `gpio = GpioFactory.getInstance();`","title":"pi4J For Orange Pi Plus 2","body":"<p>Add the line: </p>\n\n<pre><code>GpioFactory.setDefaultProvider(new OrangePiGpioProvider());\n</code></pre>\n\n<p>before getting instance: <code>gpio = GpioFactory.getInstance();</code></p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1674405253,"post_id":75178564,"comment_id":132702878,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75178564/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27419094,"reputation":1,"user_id":20917826,"display_name":"james"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674164372,"creation_date":1674164372,"answer_id":75178564,"question_id":35735120,"body_markdown":"the problem is with every orange pi, the problem is with resolv.conf in /etc/resolv.conf.\r\ndo\r\nsudo nano /../etc/resolv.conf\r\nand then add\r\nnameserver 8.8.8.8\r\nto it\r\nand control-o to save it","title":"pi4J For Orange Pi Plus 2","body":"<p>the problem is with every orange pi, the problem is with resolv.conf in /etc/resolv.conf.\ndo\nsudo nano /../etc/resolv.conf\nand then add\nnameserver 8.8.8.8\nto it\nand control-o to save it</p>\n"}],"owner":{"account_id":7955508,"reputation":183,"user_id":6004973,"accept_rate":67,"display_name":"Goodwin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2256,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":40987004,"answer_count":5,"score":0,"last_activity_date":1674164372,"creation_date":1456872322,"question_id":35735120,"body_markdown":"for a school project I recently bought an Orange Pi +2 hoping to use it to control a few electronics with the GPIO pins. I have many years of Java experience so I naturally wanted to write my code in that language. When trying to install pi4j which is a java library for raspberry pi I get this error:\r\n\r\n    mackenzie@OrangePI:~$ sudo java -jar LCD.jar\r\n    sudo: unable to resolve host OrangePI\r\n    Unable to determine hardware version. I see: Hardware   : sun8i,\r\n    - expecting BCM2708 or BCM2709. Please report this to projects@drogon.net\r\nI was wondering if anyone had any ports for the Orange Pi and if not I will have to write my program in C. I am running Debian 8 jacer 2 as the os.\r\n","title":"pi4J For Orange Pi Plus 2","body":"<p>for a school project I recently bought an Orange Pi +2 hoping to use it to control a few electronics with the GPIO pins. I have many years of Java experience so I naturally wanted to write my code in that language. When trying to install pi4j which is a java library for raspberry pi I get this error:</p>\n\n<pre><code>mackenzie@OrangePI:~$ sudo java -jar LCD.jar\nsudo: unable to resolve host OrangePI\nUnable to determine hardware version. I see: Hardware   : sun8i,\n- expecting BCM2708 or BCM2709. Please report this to projects@drogon.net\n</code></pre>\n\n<p>I was wondering if anyone had any ports for the Orange Pi and if not I will have to write my program in C. I am running Debian 8 jacer 2 as the os.</p>\n"},{"tags":["java","spring-boot","graphql","java-17","spring-graphql"],"answers":[{"tags":[],"owner":{"account_id":7544544,"reputation":7144,"user_id":5728095,"accept_rate":76,"display_name":"Sergii"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1674164041,"creation_date":1674164041,"answer_id":75178516,"question_id":75173790,"body_markdown":"The issue can be resolved declaring correspond scalar type in `graphqls` file `scalar LocalDate`.\r\n\r\nSo `schema.graphqls` looks like:\r\n\r\n```\r\nscalar LocalDate\r\n\r\ntype Query {\r\n    bookById(id: ID): Book\r\n}\r\n\r\ntype Book {\r\n    id: ID\r\n    name: String\r\n    pageCount: Int\r\n    authors: [Author]!\r\n    productionDate: LocalDate\r\n}\r\n\r\ntype Author {\r\n    id: ID\r\n    firstName: String\r\n    lastName: String\r\n}\r\n```\r\n\r\nThe fix is [published to the git][1] also.\r\n\r\n\r\n  [1]: https://github.com/SergiiVlasiuk/stackoverflow-questions/blob/master/graphql-tutorials/src/main/resources/graphql/schema.graphqls","title":"GraphQL custom scalar type doesn&#39;t work in spring boot application","body":"<p>The issue can be resolved declaring correspond scalar type in <code>graphqls</code> file <code>scalar LocalDate</code>.</p>\n<p>So <code>schema.graphqls</code> looks like:</p>\n<pre><code>scalar LocalDate\n\ntype Query {\n    bookById(id: ID): Book\n}\n\ntype Book {\n    id: ID\n    name: String\n    pageCount: Int\n    authors: [Author]!\n    productionDate: LocalDate\n}\n\ntype Author {\n    id: ID\n    firstName: String\n    lastName: String\n}\n</code></pre>\n<p>The fix is <a href=\"https://github.com/SergiiVlasiuk/stackoverflow-questions/blob/master/graphql-tutorials/src/main/resources/graphql/schema.graphqls\" rel=\"nofollow noreferrer\">published to the git</a> also.</p>\n"}],"owner":{"account_id":7544544,"reputation":7144,"user_id":5728095,"accept_rate":76,"display_name":"Sergii"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":710,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75178516,"answer_count":1,"score":2,"last_activity_date":1674164041,"creation_date":1674138412,"question_id":75173790,"body_markdown":"I&#39;ve configured GraphQL in spring boot application which uses `java 17`. \r\nTo start application you need `gradle bootRun`.\r\n\r\nTo try `GrapqQL` request you can use `curl`:\r\n```\r\ncurl -X POST http://localhost:8085/graphql \\\r\n    -H &quot;Content-Type: application/json&quot; \\\r\n    -d &#39;{&quot;query&quot;:&quot;query {\\n  bookById(id: \\&quot;book-1\\&quot;){\\n    id\\n    name\\n    pageCount\\n    productionDate\\n    authors {\\n      id\\n      firstName\\n      lastName\\n    }\\n  }\\n}&quot;}&#39;\r\n```\r\n\r\nThe current configuration doesn&#39;t use custom type `LocalDate` and no date formatting with pattern`&quot;dd/MM/yyyy&quot;`.\r\n\r\nThe GraphQL configuration `schema.graphqls` \r\n```\r\ntype Query {\r\n    bookById(id: ID): Book\r\n}\r\n\r\ntype Book {\r\n    id: ID\r\n    name: String\r\n    pageCount: Int\r\n    authors: [Author]!\r\n    productionDate: String\r\n#    productionDate: LocalDate\r\n}\r\n\r\ntype Author {\r\n    id: ID\r\n    firstName: String\r\n    lastName: String\r\n}\r\n```\r\nrequires `productionDate: LocalDate` (in the line 10). The custom `java` configuration is managed in the `ScalarConfiguration.java` following [spring-boot][1],\r\n```\r\npackage com.graphqljava.tutorial.bookDetails;\r\n\r\nimport graphql.language.StringValue;\r\nimport graphql.schema.*;\r\nimport org.springframework.boot.autoconfigure.graphql.GraphQlSourceBuilderCustomizer;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.graphql.execution.RuntimeWiringConfigurer;\r\n\r\nimport java.time.LocalDate;\r\nimport java.time.format.DateTimeFormatter;\r\nimport java.time.format.DateTimeParseException;\r\n\r\n@Configuration(proxyBeanMethods = false)\r\npublic class ScalarConfiguration {\r\n\r\n    private final DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;);\r\n\r\n    @Bean\r\n    public GraphQLScalarType dateScalar() {\r\n        return GraphQLScalarType.newScalar()\r\n                .name(&quot;LocalDate&quot;)\r\n                .description(&quot;Java 8 LocalDate as scalar.&quot;)\r\n                .coercing(new Coercing&lt;Object, Object&gt;() {\r\n                    @Override\r\n                    public String serialize(final Object dataFetcherResult) {\r\n                        if (dataFetcherResult instanceof LocalDate) {\r\n                            return formatter.format((LocalDate) dataFetcherResult);\r\n                        } else {\r\n                            throw new CoercingSerializeException(&quot;Expected a LocalDate object.&quot;);\r\n                        }\r\n                    }\r\n\r\n                    @Override\r\n                    public LocalDate parseValue(final Object input) {\r\n                        try {\r\n                            if (input instanceof String) {\r\n                                return LocalDate.parse((String) input, formatter);\r\n                            } else {\r\n                                throw new CoercingParseValueException(&quot;Expected a String&quot;);\r\n                            }\r\n                        } catch (DateTimeParseException e) {\r\n                            throw new CoercingParseValueException(String.format(&quot;Not a valid date: &#39;%s&#39;.&quot;, input), e\r\n                            );\r\n                        }\r\n                    }\r\n\r\n                    @Override\r\n                    public LocalDate parseLiteral(final Object input) {\r\n                        if (input instanceof StringValue) {\r\n                            try {\r\n                                return LocalDate.parse(((StringValue) input).getValue(), formatter);\r\n                            } catch (DateTimeParseException e) {\r\n                                throw new CoercingParseLiteralException(e);\r\n                            }\r\n                        } else {\r\n                            throw new CoercingParseLiteralException(&quot;Expected a StringValue.&quot;);\r\n                        }\r\n                    }\r\n                }).build();\r\n    }\r\n\r\n    // https://docs.spring.io/spring-graphql/docs/1.1.0-RC1/reference/html/#execution-graphqlsource-runtimewiring-configurer\r\n    @Bean\r\n    RuntimeWiringConfigurer runtimeWiringConfigurer() {\r\n        GraphQLScalarType scalarType = dateScalar();\r\n        return wiringBuilder -&gt; wiringBuilder.scalar(scalarType);\r\n    }\r\n\r\n/*\r\n    // https://docs.spring.io/spring-graphql/docs/1.1.0-RC1/reference/html/#execution-graphqlsource\r\n    @Bean\r\n    public GraphQlSourceBuilderCustomizer sourceBuilderCustomizer() {\r\n        GraphQLScalarType scalarType = dateScalar();\r\n        return (builder) -&gt;\r\n                builder.configureGraphQl(graphQlBuilder -&gt;\r\n                        graphQlBuilder.executionIdProvider((query, operationName, context) -&gt; null));\r\n    }\r\n*/\r\n\r\n}\r\n```\r\nso `runtimeWiringConfigurer` loads correctly, but `LocalDate` doesn&#39;t work in my `schema.graphqls` and I&#39;m looking for help and solution with described issue.\r\n\r\nP.S.\r\n---\r\n- [The git source is here][2].\r\n- I&#39;ve detected there similar questions, but their answers didn&#39;t help me properly. In current question I&#39;ve provided git java project which can be fixed to make working it with `LocalDate`.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-graphql/docs/1.1.0-RC1/reference/html\r\n  [2]: https://github.com/SergiiVlasiuk/stackoverflow-questions/tree/master/graphql-tutorials","title":"GraphQL custom scalar type doesn&#39;t work in spring boot application","body":"<p>I've configured GraphQL in spring boot application which uses <code>java 17</code>.\nTo start application you need <code>gradle bootRun</code>.</p>\n<p>To try <code>GrapqQL</code> request you can use <code>curl</code>:</p>\n<pre><code>curl -X POST http://localhost:8085/graphql \\\n    -H &quot;Content-Type: application/json&quot; \\\n    -d '{&quot;query&quot;:&quot;query {\\n  bookById(id: \\&quot;book-1\\&quot;){\\n    id\\n    name\\n    pageCount\\n    productionDate\\n    authors {\\n      id\\n      firstName\\n      lastName\\n    }\\n  }\\n}&quot;}'\n</code></pre>\n<p>The current configuration doesn't use custom type <code>LocalDate</code> and no date formatting with pattern<code>&quot;dd/MM/yyyy&quot;</code>.</p>\n<p>The GraphQL configuration <code>schema.graphqls</code></p>\n<pre><code>type Query {\n    bookById(id: ID): Book\n}\n\ntype Book {\n    id: ID\n    name: String\n    pageCount: Int\n    authors: [Author]!\n    productionDate: String\n#    productionDate: LocalDate\n}\n\ntype Author {\n    id: ID\n    firstName: String\n    lastName: String\n}\n</code></pre>\n<p>requires <code>productionDate: LocalDate</code> (in the line 10). The custom <code>java</code> configuration is managed in the <code>ScalarConfiguration.java</code> following <a href=\"https://docs.spring.io/spring-graphql/docs/1.1.0-RC1/reference/html\" rel=\"nofollow noreferrer\">spring-boot</a>,</p>\n<pre><code>package com.graphqljava.tutorial.bookDetails;\n\nimport graphql.language.StringValue;\nimport graphql.schema.*;\nimport org.springframework.boot.autoconfigure.graphql.GraphQlSourceBuilderCustomizer;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.graphql.execution.RuntimeWiringConfigurer;\n\nimport java.time.LocalDate;\nimport java.time.format.DateTimeFormatter;\nimport java.time.format.DateTimeParseException;\n\n@Configuration(proxyBeanMethods = false)\npublic class ScalarConfiguration {\n\n    private final DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;);\n\n    @Bean\n    public GraphQLScalarType dateScalar() {\n        return GraphQLScalarType.newScalar()\n                .name(&quot;LocalDate&quot;)\n                .description(&quot;Java 8 LocalDate as scalar.&quot;)\n                .coercing(new Coercing&lt;Object, Object&gt;() {\n                    @Override\n                    public String serialize(final Object dataFetcherResult) {\n                        if (dataFetcherResult instanceof LocalDate) {\n                            return formatter.format((LocalDate) dataFetcherResult);\n                        } else {\n                            throw new CoercingSerializeException(&quot;Expected a LocalDate object.&quot;);\n                        }\n                    }\n\n                    @Override\n                    public LocalDate parseValue(final Object input) {\n                        try {\n                            if (input instanceof String) {\n                                return LocalDate.parse((String) input, formatter);\n                            } else {\n                                throw new CoercingParseValueException(&quot;Expected a String&quot;);\n                            }\n                        } catch (DateTimeParseException e) {\n                            throw new CoercingParseValueException(String.format(&quot;Not a valid date: '%s'.&quot;, input), e\n                            );\n                        }\n                    }\n\n                    @Override\n                    public LocalDate parseLiteral(final Object input) {\n                        if (input instanceof StringValue) {\n                            try {\n                                return LocalDate.parse(((StringValue) input).getValue(), formatter);\n                            } catch (DateTimeParseException e) {\n                                throw new CoercingParseLiteralException(e);\n                            }\n                        } else {\n                            throw new CoercingParseLiteralException(&quot;Expected a StringValue.&quot;);\n                        }\n                    }\n                }).build();\n    }\n\n    // https://docs.spring.io/spring-graphql/docs/1.1.0-RC1/reference/html/#execution-graphqlsource-runtimewiring-configurer\n    @Bean\n    RuntimeWiringConfigurer runtimeWiringConfigurer() {\n        GraphQLScalarType scalarType = dateScalar();\n        return wiringBuilder -&gt; wiringBuilder.scalar(scalarType);\n    }\n\n/*\n    // https://docs.spring.io/spring-graphql/docs/1.1.0-RC1/reference/html/#execution-graphqlsource\n    @Bean\n    public GraphQlSourceBuilderCustomizer sourceBuilderCustomizer() {\n        GraphQLScalarType scalarType = dateScalar();\n        return (builder) -&gt;\n                builder.configureGraphQl(graphQlBuilder -&gt;\n                        graphQlBuilder.executionIdProvider((query, operationName, context) -&gt; null));\n    }\n*/\n\n}\n</code></pre>\n<p>so <code>runtimeWiringConfigurer</code> loads correctly, but <code>LocalDate</code> doesn't work in my <code>schema.graphqls</code> and I'm looking for help and solution with described issue.</p>\n<h2>P.S.</h2>\n<ul>\n<li><a href=\"https://github.com/SergiiVlasiuk/stackoverflow-questions/tree/master/graphql-tutorials\" rel=\"nofollow noreferrer\">The git source is here</a>.</li>\n<li>I've detected there similar questions, but their answers didn't help me properly. In current question I've provided git java project which can be fixed to make working it with <code>LocalDate</code>.</li>\n</ul>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1674164055,"post_id":75178475,"comment_id":132662821,"body_markdown":"No,  it&#39;s not a &quot;race&quot; condition. You&#39;re blocking the Swing event thread with the long-running task and what you need to do is to run that task in a background thread, a SwingWorker, as per the &quot;[Lesson: Concurrency in Swing](http://docs.oracle.com/javase/tutorial/uiswing/concurrency/)&quot; tutorial.","body":"No,  it&#39;s not a &quot;race&quot; condition. You&#39;re blocking the Swing event thread with the long-running task and what you need to do is to run that task in a background thread, a SwingWorker, as per the &quot;<a href=\"http://docs.oracle.com/javase/tutorial/uiswing/concurrency/\" rel=\"nofollow noreferrer\">Lesson: Concurrency in Swing</a>&quot; tutorial."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1674164149,"post_id":75178475,"comment_id":132662848,"body_markdown":"If you need to change the state of the GUI once the long-running task has been completed, then use one of the call-back tools that the SwingWorker offers, either by responding to the `done()` method or by using a PropertyChangeListener and listening for the SwingWorker&#39;s state to change to `StateValue.DONE`.","body":"If you need to change the state of the GUI once the long-running task has been completed, then use one of the call-back tools that the SwingWorker offers, either by responding to the <code>done()</code> method or by using a PropertyChangeListener and listening for the SwingWorker&#39;s state to change to <code>StateValue.DONE</code>."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1674164175,"post_id":75178475,"comment_id":132662856,"body_markdown":"And no, don&#39;t use invokeAndWait here, since that does not solve the problem that you&#39;re running into.","body":"And no, don&#39;t use invokeAndWait here, since that does not solve the problem that you&#39;re running into."},{"owner":{"account_id":4773203,"reputation":383,"user_id":3857204,"display_name":"Beeker"},"score":0,"creation_date":1674164872,"post_id":75178475,"comment_id":132663043,"body_markdown":"@HovercraftFullOfEels Excellent information, it&#39;s overriding the &quot;done&quot; method was what to execute the rest of the ActionListener code that I was missing.  Love the name BTW, here&#39;s a box of matches.","body":"@HovercraftFullOfEels Excellent information, it&#39;s overriding the &quot;done&quot; method was what to execute the rest of the ActionListener code that I was missing.  Love the name BTW, here&#39;s a box of matches."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1674166762,"post_id":75178475,"comment_id":132663480,"body_markdown":"Glad that that worked. For my money, I usually use the PropertyChangeListener route, especially if my worker code is isolated from the gui code, since this allows for looser coupling, since the worker has to have no knowledge about the calling GUI. Also, don&#39;t forget to call `get()` from the worker once it has completed its task, if only to capture and handle any exceptions that might occur.","body":"Glad that that worked. For my money, I usually use the PropertyChangeListener route, especially if my worker code is isolated from the gui code, since this allows for looser coupling, since the worker has to have no knowledge about the calling GUI. Also, don&#39;t forget to call <code>get()</code> from the worker once it has completed its task, if only to capture and handle any exceptions that might occur."},{"owner":{"account_id":4773203,"reputation":383,"user_id":3857204,"display_name":"Beeker"},"score":0,"creation_date":1674167368,"post_id":75178475,"comment_id":132663634,"body_markdown":"@HovercraftFullOfEels good advice for get().  Not that there&#39;s much that could go wrong with enabling buttons/changing text, but it *IS* a computer lol.","body":"@HovercraftFullOfEels good advice for get().  Not that there&#39;s much that could go wrong with enabling buttons/changing text, but it <i>IS</i> a computer lol."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1674167497,"post_id":75178475,"comment_id":132663658,"body_markdown":"No, no, the get will capture any exceptions thrown from the worker&#39;s background thread. Often it is tricky to get those exceptions into the GUI.","body":"No, no, the get will capture any exceptions thrown from the worker&#39;s background thread. Often it is tricky to get those exceptions into the GUI."}],"owner":{"account_id":4773203,"reputation":383,"user_id":3857204,"display_name":"Beeker"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674164002,"answer_count":0,"score":0,"last_activity_date":1674163746,"creation_date":1674163746,"question_id":75178475,"body_markdown":"I know this is a race condition, and I&#39;ve tried a few methods to solve it, including an unsuccessful use of invokeAndWait to no avail.  All I want to do is have it change the text on the button to &quot;Connecting&quot;, however before the UI updates, it starts the ts = new TallyState(); call which freezes the program for up to 20 seconds while it tries to reach the controller.\r\n\r\n    JButton btnConnectSerial = new JButton(&quot;Connect Controller&quot;);\r\n    \tbtnConnectSerial.addActionListener(new ActionListener() {\r\n    \t\tpublic void actionPerformed(ActionEvent e) {\r\n    \t\t\tbtnConnectSerial.setText(&quot;Connecting&quot;);\r\n    \t\t\ttry {\r\n    \t\t\t\tts = new TallyState();\r\n    \t\t\t} catch (IOException tse) {\r\n    \t\t\t\tJOptionPane.showMessageDialog(null, &quot;Failed to Connect to Controller&quot;);\r\n    \t\t\t\treturn;\r\n    \t\t\t} catch (Exception tse2) {\r\n    \t\t\t\t\r\n    \t\t\t}\r\n\r\nI&#39;m sure this has been answered before but I can&#39;t seem to phrase my question correctly to Google to get the answer I need.\r\n\r\nAlso tried this but the rest of the ActionListener executes.  It needs wait to know if &quot;ts&quot; was able to be built (e.g. the connection doesn&#39;t time out and thus throw exception/message). \r\n\r\n\t\tJButton btnConnectSerial = new JButton(&quot;Connect Controller&quot;);\r\n\t\tbtnConnectSerial.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\tbtnConnectSerial.setText(&quot;Connecting&quot;);\r\n\t\t\t\tSwingWorker myWorker= new SwingWorker&lt;String, Void&gt;()  {\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tprotected String doInBackground() throws Exception {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tts = new TallyState();\r\n\t\t\t\t\t\t} catch (IOException tse) {\r\n\t\t\t\t\t\t\tJOptionPane.showMessageDialog(null, &quot;Failed to Connect to Controller&quot;);\r\n\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t} catch (Exception tse2) {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\tmyWorker.execute();\r\n\t\t\t\t\r\nReferenced: https://stackoverflow.com/questions/4921009/swing-how-to-properly-update-the-ui, https://stackoverflow.com/questions/5499921/invokeandwait-method-in-swingutilities and links off of them.","title":"Update GUI before executing new item","body":"<p>I know this is a race condition, and I've tried a few methods to solve it, including an unsuccessful use of invokeAndWait to no avail.  All I want to do is have it change the text on the button to &quot;Connecting&quot;, however before the UI updates, it starts the ts = new TallyState(); call which freezes the program for up to 20 seconds while it tries to reach the controller.</p>\n<pre><code>JButton btnConnectSerial = new JButton(&quot;Connect Controller&quot;);\n    btnConnectSerial.addActionListener(new ActionListener() {\n        public void actionPerformed(ActionEvent e) {\n            btnConnectSerial.setText(&quot;Connecting&quot;);\n            try {\n                ts = new TallyState();\n            } catch (IOException tse) {\n                JOptionPane.showMessageDialog(null, &quot;Failed to Connect to Controller&quot;);\n                return;\n            } catch (Exception tse2) {\n                \n            }\n</code></pre>\n<p>I'm sure this has been answered before but I can't seem to phrase my question correctly to Google to get the answer I need.</p>\n<p>Also tried this but the rest of the ActionListener executes.  It needs wait to know if &quot;ts&quot; was able to be built (e.g. the connection doesn't time out and thus throw exception/message).</p>\n<pre><code>    JButton btnConnectSerial = new JButton(&quot;Connect Controller&quot;);\n    btnConnectSerial.addActionListener(new ActionListener() {\n        public void actionPerformed(ActionEvent e) {\n            btnConnectSerial.setText(&quot;Connecting&quot;);\n            SwingWorker myWorker= new SwingWorker&lt;String, Void&gt;()  {\n                @Override\n                protected String doInBackground() throws Exception {\n                    try {\n                        ts = new TallyState();\n                    } catch (IOException tse) {\n                        JOptionPane.showMessageDialog(null, &quot;Failed to Connect to Controller&quot;);\n                        return null;\n                    } catch (Exception tse2) {\n                        \n                    }\n                    return null;\n                }\n            };\n            myWorker.execute();\n            \n</code></pre>\n<p>Referenced: <a href=\"https://stackoverflow.com/questions/4921009/swing-how-to-properly-update-the-ui\">Swing, how to properly update the UI</a>, <a href=\"https://stackoverflow.com/questions/5499921/invokeandwait-method-in-swingutilities\">invokeAndWait method in SwingUtilities</a> and links off of them.</p>\n"},{"tags":["java","spring-boot","csv"],"comments":[{"owner":{"account_id":1107169,"reputation":6727,"user_id":1098361,"accept_rate":86,"display_name":"Zack Macomber"},"score":0,"creation_date":1674154195,"post_id":75176776,"comment_id":132659910,"body_markdown":"Not sure if overkill or not, but you could create a POST endpoint that has a MultipartFile param and then use RestTemplate to POST to that endpoint with your file","body":"Not sure if overkill or not, but you could create a POST endpoint that has a MultipartFile param and then use RestTemplate to POST to that endpoint with your file"}],"answers":[{"comments":[{"owner":{"account_id":144187,"reputation":7338,"user_id":353046,"accept_rate":47,"display_name":"Mankind1023"},"score":0,"creation_date":1674158938,"post_id":75177663,"comment_id":132661383,"body_markdown":"The second option looks much cleaner, but StandardMultipartHttpServletRequest says it requires a HttpServletRequest, but got a FileSystemResource.","body":"The second option looks much cleaner, but StandardMultipartHttpServletRequest says it requires a HttpServletRequest, but got a FileSystemResource."},{"owner":{"account_id":8677048,"reputation":447,"user_id":6494163,"display_name":"T code"},"score":0,"creation_date":1674162502,"post_id":75177663,"comment_id":132662425,"body_markdown":"You&#39;re right, I re-edited my answer. Let me know if this works, please.","body":"You&#39;re right, I re-edited my answer. Let me know if this works, please."}],"tags":[],"owner":{"account_id":8677048,"reputation":447,"user_id":6494163,"display_name":"T code"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674163145,"creation_date":1674158479,"answer_id":75177663,"question_id":75176776,"body_markdown":"I think you have different ways of doing this. \r\n\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.InputStream;\r\n    \r\n    import org.springframework.web.multipart.MultipartFile;\r\n    import org.springframework.web.multipart.support.ByteArrayMultipartFileEditor;\r\n    \r\n    // read the csv file from disk\r\n    File csvFile = new File(&quot;/path/to/your/file.csv&quot;);\r\n    try(InputStream csvFileInputStream = new FileInputStream(csvFile)) {\r\n     \r\n        // create a ByteArrayMultipartFileEditor\r\n        ByteArrayMultipartFileEditor byteArrayMultipartFileEditor = new ByteArrayMultipartFileEditor();\r\n        \r\n        // set the data in the byteArrayMultipartFileEditor\r\n        byteArrayMultipartFileEditor.setValue(csvFileInputStream);\r\n        \r\n        // create a MultipartFile[]\r\n        MultipartFile[] multipartFiles = {byteArrayMultipartFileEditor.getValue()};\r\n        \r\n        // pass the multipartFiles to your existing function\r\n        yourFunction(multipartFiles);\r\n    }\r\n\r\n   \r\n`ByteArrayMultipartFileEditor` converts the inputStream to a `MultipartFile[]` named `multipartFiles` which can be passed to your existing function.\r\n\r\nThere is also this other way.\r\n\r\n    ...\r\n    import org.springframework.web.multipart.commons.CommonsMultipartFile;\r\n    import java.nio.file.Files;\r\n    \r\n    File csvFile = new File(&quot;/path/to/your/file.csv&quot;);\r\n    FileItem fileItem = new DiskFileItem(&quot;file&quot;, Files.probeContentType(csvFile.toPath()), false, csvFile.getName(), (int) csvFile.length(), csvFile.getParentFile());\r\n    CommonsMultipartFile multipartFile = new CommonsMultipartFile(fileItem);\r\n    \r\n    yourFunction(new MultipartFile[] { multipartFile });\r\n\r\nI hope this answers your question.\r\n","title":"Java - Create in memory csv and convert to MultipartFile[]","body":"<p>I think you have different ways of doing this.</p>\n<pre><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.io.InputStream;\n\nimport org.springframework.web.multipart.MultipartFile;\nimport org.springframework.web.multipart.support.ByteArrayMultipartFileEditor;\n\n// read the csv file from disk\nFile csvFile = new File(&quot;/path/to/your/file.csv&quot;);\ntry(InputStream csvFileInputStream = new FileInputStream(csvFile)) {\n \n    // create a ByteArrayMultipartFileEditor\n    ByteArrayMultipartFileEditor byteArrayMultipartFileEditor = new ByteArrayMultipartFileEditor();\n    \n    // set the data in the byteArrayMultipartFileEditor\n    byteArrayMultipartFileEditor.setValue(csvFileInputStream);\n    \n    // create a MultipartFile[]\n    MultipartFile[] multipartFiles = {byteArrayMultipartFileEditor.getValue()};\n    \n    // pass the multipartFiles to your existing function\n    yourFunction(multipartFiles);\n}\n</code></pre>\n<p><code>ByteArrayMultipartFileEditor</code> converts the inputStream to a <code>MultipartFile[]</code> named <code>multipartFiles</code> which can be passed to your existing function.</p>\n<p>There is also this other way.</p>\n<pre><code>...\nimport org.springframework.web.multipart.commons.CommonsMultipartFile;\nimport java.nio.file.Files;\n\nFile csvFile = new File(&quot;/path/to/your/file.csv&quot;);\nFileItem fileItem = new DiskFileItem(&quot;file&quot;, Files.probeContentType(csvFile.toPath()), false, csvFile.getName(), (int) csvFile.length(), csvFile.getParentFile());\nCommonsMultipartFile multipartFile = new CommonsMultipartFile(fileItem);\n\nyourFunction(new MultipartFile[] { multipartFile });\n</code></pre>\n<p>I hope this answers your question.</p>\n"}],"owner":{"account_id":144187,"reputation":7338,"user_id":353046,"accept_rate":47,"display_name":"Mankind1023"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":730,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674163145,"creation_date":1674152986,"question_id":75176776,"body_markdown":"I have some data that I need to attach to an email as a csv file, I&#39;m looking for a way to create the csv in memory, then pass to an existing function that only accepts attachments as MultipartFile[].\r\n\r\nI got as far as saving a csv to disk, but have no idea how to skip that step / convert it to a MultipartFile[].","title":"Java - Create in memory csv and convert to MultipartFile[]","body":"<p>I have some data that I need to attach to an email as a csv file, I'm looking for a way to create the csv in memory, then pass to an existing function that only accepts attachments as MultipartFile[].</p>\n<p>I got as far as saving a csv to disk, but have no idea how to skip that step / convert it to a MultipartFile[].</p>\n"},{"tags":["java","button"],"answers":[{"comments":[{"owner":{"account_id":88863,"reputation":126169,"user_id":245549,"accept_rate":66,"display_name":"Roman"},"score":0,"creation_date":1264854523,"post_id":2167759,"comment_id":2113014,"body_markdown":"What I do not understand is where the actionPerformed is called. I see that it is defined within the class but there is no place where this method is called.","body":"What I do not understand is where the actionPerformed is called. I see that it is defined within the class but there is no place where this method is called."}],"tags":[],"owner":{"account_id":57077,"reputation":39235,"user_id":170974,"accept_rate":70,"display_name":"tangens"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1264851911,"creation_date":1264851911,"answer_id":2167759,"question_id":2167751,"body_markdown":"You call `button.addActionListener( this )`, because `this` implements the interface [`ActionListener`][1]. When the button is clicked, the method `actionPerformed(ActionEvent e)` (defined by the interface and implemented by your class) is called.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/awt/event/ActionListener.html","title":"What does a addActionListener do?","body":"<p>You call <code>button.addActionListener( this )</code>, because <code>this</code> implements the interface <a href=\"http://java.sun.com/javase/6/docs/api/java/awt/event/ActionListener.html\" rel=\"nofollow noreferrer\"><code>ActionListener</code></a>. When the button is clicked, the method <code>actionPerformed(ActionEvent e)</code> (defined by the interface and implemented by your class) is called.</p>\n"},{"comments":[{"owner":{"account_id":9933732,"reputation":2018,"user_id":7352723,"display_name":"Jeffrey"},"score":0,"creation_date":1527084300,"post_id":2167761,"comment_id":87993766,"body_markdown":"So addActionListnener is a method within the button class?","body":"So addActionListnener is a method within the button class?"},{"owner":{"account_id":14718942,"reputation":413,"user_id":10630142,"display_name":"53c"},"score":0,"creation_date":1575555777,"post_id":2167761,"comment_id":104612458,"body_markdown":"In Java addActionListener is defined in AbstractButton which is the parent of JButton.","body":"In Java addActionListener is defined in AbstractButton which is the parent of JButton."}],"tags":[],"owner":{"account_id":246,"reputation":107913,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"comment_count":2,"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1264855958,"creation_date":1264851939,"answer_id":2167761,"question_id":2167751,"body_markdown":"An [`ActionListener`][1] is a callback mechanism. Whenever a control it is added to fires an `ActionEvent`, the `public void actionPerformed(ActionEvent e)` method will be invoked.\r\n\r\n&gt; What I do not understand is where the actionPerformed is called. I see that it is defined within the class but there is no place where this method is called.\r\n\r\nThis is called by the internal mechanisms of the UI component. Conceptually, you can think of the code looking a bit like this:\r\n\r\n    public class Button {\r\n      private final List&lt;ActionListener&gt; listeners = new ArrayList&lt;ActionListener&gt;();\r\n    \r\n      public void addActionListener(ActionListener l) {\r\n        listeners.add(l);\r\n      }\r\n    \r\n      public void click() {\r\n        ActionEvent event = new ActionEvent(this, 0, &quot;click&quot;);\r\n        for (ActionListener l : listeners) {\r\n          l.actionPerformed(event);\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/awt/event/ActionListener.html","title":"What does a addActionListener do?","body":"<p>An <a href=\"http://java.sun.com/javase/6/docs/api/java/awt/event/ActionListener.html\" rel=\"noreferrer\"><code>ActionListener</code></a> is a callback mechanism. Whenever a control it is added to fires an <code>ActionEvent</code>, the <code>public void actionPerformed(ActionEvent e)</code> method will be invoked.</p>\n\n<blockquote>\n  <p>What I do not understand is where the actionPerformed is called. I see that it is defined within the class but there is no place where this method is called.</p>\n</blockquote>\n\n<p>This is called by the internal mechanisms of the UI component. Conceptually, you can think of the code looking a bit like this:</p>\n\n<pre><code>public class Button {\n  private final List&lt;ActionListener&gt; listeners = new ArrayList&lt;ActionListener&gt;();\n\n  public void addActionListener(ActionListener l) {\n    listeners.add(l);\n  }\n\n  public void click() {\n    ActionEvent event = new ActionEvent(this, 0, \"click\");\n    for (ActionListener l : listeners) {\n      l.actionPerformed(event);\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1264859444,"creation_date":1264859444,"answer_id":2168061,"question_id":2167751,"body_markdown":"Each [`JButton`][1], has an [`EventListenerList`][2]. Calling `addActionListener(this)` adds your [`ActionListener `][3], a callback function named `actionPerformed()`, to the list. You can see an outline of the code that calls your method [here][2]. The actual `fireActionPerformed()` method is in [`AbstractButton`][6]. A [`JButton`][1] is a [`JComponent`][4], which you can [see listed][5] among the various classes that use the event listener list mechanism.\r\n\r\n[1]:http://java.sun.com/javase/6/docs/api/javax/swing/JButton.html\r\n[2]:http://java.sun.com/javase/6/docs/api/javax/swing/event/EventListenerList.html\r\n[3]:http://java.sun.com/javase/6/docs/api/java/awt/event/ActionListener.html\r\n[4]:http://java.sun.com/javase/6/docs/api/javax/swing/JComponent.html\r\n[5]:http://java.sun.com/javase/6/docs/api/javax/swing/event/class-use/EventListenerList.html\r\n[6]:http://java.sun.com/javase/6/docs/api/javax/swing/AbstractButton.html\r\n","title":"What does a addActionListener do?","body":"<p>Each <a href=\"http://java.sun.com/javase/6/docs/api/javax/swing/JButton.html\" rel=\"nofollow noreferrer\"><code>JButton</code></a>, has an <a href=\"http://java.sun.com/javase/6/docs/api/javax/swing/event/EventListenerList.html\" rel=\"nofollow noreferrer\"><code>EventListenerList</code></a>. Calling <code>addActionListener(this)</code> adds your <a href=\"http://java.sun.com/javase/6/docs/api/java/awt/event/ActionListener.html\" rel=\"nofollow noreferrer\"><code>ActionListener</code></a>, a callback function named <code>actionPerformed()</code>, to the list. You can see an outline of the code that calls your method <a href=\"http://java.sun.com/javase/6/docs/api/javax/swing/event/EventListenerList.html\" rel=\"nofollow noreferrer\">here</a>. The actual <code>fireActionPerformed()</code> method is in <a href=\"http://java.sun.com/javase/6/docs/api/javax/swing/AbstractButton.html\" rel=\"nofollow noreferrer\"><code>AbstractButton</code></a>. A <a href=\"http://java.sun.com/javase/6/docs/api/javax/swing/JButton.html\" rel=\"nofollow noreferrer\"><code>JButton</code></a> is a <a href=\"http://java.sun.com/javase/6/docs/api/javax/swing/JComponent.html\" rel=\"nofollow noreferrer\"><code>JComponent</code></a>, which you can <a href=\"http://java.sun.com/javase/6/docs/api/javax/swing/event/class-use/EventListenerList.html\" rel=\"nofollow noreferrer\">see listed</a> among the various classes that use the event listener list mechanism.</p>\n"},{"tags":[],"owner":{"account_id":1933358,"reputation":387,"user_id":1742288,"accept_rate":19,"display_name":"CCNA"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674162568,"creation_date":1483933904,"answer_id":41540790,"question_id":2167751,"body_markdown":"Basically, the mechanism of UI event handling is the JVM queue&#39;s events, and each type of event has its subscribers. When an event is fired, like the button is clicked, the JVM will accordingly delegate the processing to the event&#39;s subscriber. And this subscriber class has to define the method, or, event handler, to process the event.\r\n\r\nIn your case, when calling\r\n\r\n    button.addActionListener(this);\r\n\r\nthe code actually subscribes this KeyEventDemo instance to the event of type click. Then, when the button is clicked, the KeyEventDemo&#39;s method of actionPerformed will be triggered.\r\n\r\n\r\n","title":"What does a addActionListener do?","body":"<p>Basically, the mechanism of UI event handling is the JVM queue's events, and each type of event has its subscribers. When an event is fired, like the button is clicked, the JVM will accordingly delegate the processing to the event's subscriber. And this subscriber class has to define the method, or, event handler, to process the event.</p>\n<p>In your case, when calling</p>\n<pre><code>button.addActionListener(this);\n</code></pre>\n<p>the code actually subscribes this KeyEventDemo instance to the event of type click. Then, when the button is clicked, the KeyEventDemo's method of actionPerformed will be triggered.</p>\n"}],"owner":{"account_id":88863,"reputation":126169,"user_id":245549,"accept_rate":66,"display_name":"Roman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59151,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":2167761,"answer_count":4,"score":11,"last_activity_date":1674162568,"creation_date":1264851724,"question_id":2167751,"body_markdown":"I have the following code:\r\n\r\n    JButton button = new JButton(&quot;Clear&quot;);\r\n    button.addActionListener(this);\r\n\r\nAs far as I understand, I create a button on which it is written &quot;Clear&quot;. Then I have to associate an action with this button (what will happen if the button is pressed) and it is done by `addActionListener`. Is it right?\r\n\r\nBut what I do not understand is where the action is specified. The press of the button should clear text area and, as far as I understand, there should be somewhere a code which clear the text area. But in the given example there is only &quot;this&quot; in the arguments of the **`addActionListener()`**.\r\n\r\nHow does the program know that it should clear the text area when the button is pressed?\r\n\r\nIf it is needed, the full code is given [here][1].\r\n\r\n  [1]: http://java.sun.com/docs/books/tutorial/uiswing/examples/events/KeyEventDemoProject/src/events/KeyEventDemo.java\r\n\r\n\r\n","title":"What does a addActionListener do?","body":"<p>I have the following code:</p>\n<pre><code>JButton button = new JButton(&quot;Clear&quot;);\nbutton.addActionListener(this);\n</code></pre>\n<p>As far as I understand, I create a button on which it is written &quot;Clear&quot;. Then I have to associate an action with this button (what will happen if the button is pressed) and it is done by <code>addActionListener</code>. Is it right?</p>\n<p>But what I do not understand is where the action is specified. The press of the button should clear text area and, as far as I understand, there should be somewhere a code which clear the text area. But in the given example there is only &quot;this&quot; in the arguments of the <strong><code>addActionListener()</code></strong>.</p>\n<p>How does the program know that it should clear the text area when the button is pressed?</p>\n<p>If it is needed, the full code is given <a href=\"http://java.sun.com/docs/books/tutorial/uiswing/examples/events/KeyEventDemoProject/src/events/KeyEventDemo.java\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":347037,"reputation":79658,"user_id":680925,"display_name":"Perception"},"score":1,"creation_date":1353785029,"post_id":13544677,"comment_id":18549849,"body_markdown":"Unless you mean relative names, you are not doing what you say you are doing.","body":"Unless you mean relative names, you are not doing what you say you are doing."},{"owner":{"account_id":1524257,"reputation":8407,"user_id":1423083,"accept_rate":78,"display_name":"Mukul Goel"},"score":1,"creation_date":1353785904,"post_id":13544677,"comment_id":18550063,"body_markdown":"You need to compile shapeclass before Triangle class","body":"You need to compile shapeclass before Triangle class"},{"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1674159992,"post_id":13544677,"comment_id":132661732,"body_markdown":"What is the exact command you are using to compile `Triangle.java`?","body":"What is the exact command you are using to compile <code>Triangle.java</code>?"},{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1674160850,"post_id":13544677,"comment_id":132661976,"body_markdown":"Why was *&quot;separate folder&quot;* changed to *&quot;same folder&quot;* in revision 3? A guess (the OP is gone - *&quot;Last seen more than 8 years ago&quot;*)? Was it due to [Mukul Goel&#39;s answer](https://stackoverflow.com/questions/13544677/how-can-i-use-multiple-classes-in-one-package-in-java/13544721#13544721)? Related: *[Exit strategies for &quot;chameleon questions&quot;](https://meta.stackexchange.com/questions/43478/exit-strategies-for-chameleon-questions)*","body":"Why was <i>&quot;separate folder&quot;</i> changed to <i>&quot;same folder&quot;</i> in revision 3? A guess (the OP is gone - <i>&quot;Last seen more than 8 years ago&quot;</i>)? Was it due to <a href=\"https://stackoverflow.com/questions/13544677/how-can-i-use-multiple-classes-in-one-package-in-java/13544721#13544721\">Mukul Goel&#39;s answer</a>? Related: <i><a href=\"https://meta.stackexchange.com/questions/43478/exit-strategies-for-chameleon-questions\">Exit strategies for &quot;chameleon questions&quot;</a></i>"},{"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1674162040,"post_id":13544677,"comment_id":132662290,"body_markdown":"My bad...I didn&#39;t realize this is a very old question...","body":"My bad...I didn&#39;t realize this is a very old question..."}],"answers":[{"comments":[{"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"score":0,"creation_date":1353785155,"post_id":13544705,"comment_id":18549883,"body_markdown":"It goes in the right direction, but the rule is, that both classfiles are expected in folder `MyShape` because both classes are defined for the package `MyShape`. (This still isn&#39;t a strict rule, but correct for almost all use cases)","body":"It goes in the right direction, but the rule is, that both classfiles are expected in folder <code>MyShape</code> because both classes are defined for the package <code>MyShape</code>. (This still isn&#39;t a strict rule, but correct for almost all use cases)"},{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1674160321,"post_id":13544705,"comment_id":132661835,"body_markdown":"Re *&quot;...separate folder&quot;*: That was changed to the ***opposite*** in [revision 3](https://stackoverflow.com/revisions/13544677/3).","body":"Re <i>&quot;...separate folder&quot;</i>: That was changed to the <b><i>opposite</i></b> in <a href=\"https://stackoverflow.com/revisions/13544677/3\">revision 3</a>."}],"tags":[],"owner":{"account_id":481006,"reputation":31216,"user_id":894565,"accept_rate":76,"display_name":"Jatin"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674160260,"creation_date":1353784909,"answer_id":13544705,"question_id":13544677,"body_markdown":"You have mentioned\r\n\r\n&gt; I have put both classes in separate folder named MyShape \r\n\r\nAs per [JLS][1], it is required to have both of the classes in the same folder.\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-7.html\r\n","title":"How can I use multiple classes in one package in Java?","body":"<p>You have mentioned</p>\n<blockquote>\n<p>I have put both classes in separate folder named MyShape</p>\n</blockquote>\n<p>As per <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-7.html\" rel=\"nofollow noreferrer\">JLS</a>, it is required to have both of the classes in the same folder.</p>\n"},{"comments":[{"owner":{"account_id":2076930,"reputation":29,"user_id":1850015,"display_name":"Kameron"},"score":0,"creation_date":1353785254,"post_id":13544721,"comment_id":18549903,"body_markdown":"Both are in the same folder but still geting this error even i compiled the Shape class first and then triangle class.","body":"Both are in the same folder but still geting this error even i compiled the Shape class first and then triangle class."},{"owner":{"account_id":1524257,"reputation":8407,"user_id":1423083,"accept_rate":78,"display_name":"Mukul Goel"},"score":0,"creation_date":1353785420,"post_id":13544721,"comment_id":18549944,"body_markdown":"@Kameron what is the name of folder they.are in..it has to be same as package name","body":"@Kameron what is the name of folder they.are in..it has to be same as package name"},{"owner":{"account_id":2076930,"reputation":29,"user_id":1850015,"display_name":"Kameron"},"score":0,"creation_date":1353785914,"post_id":13544721,"comment_id":18550064,"body_markdown":"Both classes (Shapeclass.java and Triangle.java) and Shapeclass.class file resides in same folder MyShape which is the name of package MyShape. But don&#39;t know why getting the errors?","body":"Both classes (Shapeclass.java and Triangle.java) and Shapeclass.class file resides in same folder MyShape which is the name of package MyShape. But don&#39;t know why getting the errors?"},{"owner":{"account_id":1524257,"reputation":8407,"user_id":1423083,"accept_rate":78,"display_name":"Mukul Goel"},"score":0,"creation_date":1353786118,"post_id":13544721,"comment_id":18550117,"body_markdown":"@kameron Try `javac Shapeclass.java` when it completes try `javac -cp MyShape.Shapeclass Triangle.java` let me know if it works.","body":"@kameron Try <code>javac Shapeclass.java</code> when it completes try <code>javac -cp MyShape.Shapeclass Triangle.java</code> let me know if it works."},{"owner":{"account_id":2076930,"reputation":29,"user_id":1850015,"display_name":"Kameron"},"score":0,"creation_date":1353787024,"post_id":13544721,"comment_id":18550339,"body_markdown":"Tried when run javac -cp MyShape.Shapeclass Triangle.java got the same errors.","body":"Tried when run javac -cp MyShape.Shapeclass Triangle.java got the same errors."}],"tags":[],"owner":{"account_id":1524257,"reputation":8407,"user_id":1423083,"accept_rate":78,"display_name":"Mukul Goel"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674161840,"creation_date":1353785064,"answer_id":13544721,"question_id":13544677,"body_markdown":"Both classes, *ShapeClass* and *Triangle*, need to be in the same folder if you are using the basic *[javac][1]*.\r\n\r\nIf you have them in different folders, you would need to use the `-d` option of *javac* to specify the directory. Refer to here for details: [javac][2]\r\n\r\nSo it’s advisable to keep both files in the same folder, *MyShape*.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Javac\r\n  [2]: http://docs.oracle.com/javase/1.4.2/docs/tooldocs/windows/javac.html\r\n\r\n","title":"How can I use multiple classes in one package in Java?","body":"<p>Both classes, <em>ShapeClass</em> and <em>Triangle</em>, need to be in the same folder if you are using the basic <em><a href=\"https://en.wikipedia.org/wiki/Javac\" rel=\"nofollow noreferrer\">javac</a></em>.</p>\n<p>If you have them in different folders, you would need to use the <code>-d</code> option of <em>javac</em> to specify the directory. Refer to here for details: <a href=\"http://docs.oracle.com/javase/1.4.2/docs/tooldocs/windows/javac.html\" rel=\"nofollow noreferrer\">javac</a></p>\n<p>So it’s advisable to keep both files in the same folder, <em>MyShape</em>.</p>\n"},{"tags":[],"owner":{"account_id":1557597,"reputation":8312,"user_id":1448212,"display_name":"Richard Sitze"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674161030,"creation_date":1353786191,"answer_id":13544897,"question_id":13544677,"body_markdown":"1. Verify the *filenames* match the *class names*, exactly - upper/lower case on each letter.\r\n\r\n2. Verify that your *current working directory (CWD)* is at the root of your package hierarchy; according to your compiler output that would be &quot;C:\\Users\\Desktop&quot;.  This is so that the compiler can find the package path &quot;MyShape&quot; as an immediate subdirectory.\r\n\r\n3. Specify the fully qualified package\\class name (MyShape\\Triangle) as the filename to compile.\r\n\r\nThus your command-line, showing CWD as the prompt and the *javac* command, might look like (on Windows):\r\n\r\n```lang-none\r\ncd C:\\Users\\Desktop\r\njavac MyShape\\Triangle\r\n```\r\n","title":"How can I use multiple classes in one package in Java?","body":"<ol>\n<li><p>Verify the <em>filenames</em> match the <em>class names</em>, exactly - upper/lower case on each letter.</p>\n</li>\n<li><p>Verify that your <em>current working directory (CWD)</em> is at the root of your package hierarchy; according to your compiler output that would be &quot;C:\\Users\\Desktop&quot;.  This is so that the compiler can find the package path &quot;MyShape&quot; as an immediate subdirectory.</p>\n</li>\n<li><p>Specify the fully qualified package\\class name (MyShape\\Triangle) as the filename to compile.</p>\n</li>\n</ol>\n<p>Thus your command-line, showing CWD as the prompt and the <em>javac</em> command, might look like (on Windows):</p>\n<pre class=\"lang-none prettyprint-override\"><code>cd C:\\Users\\Desktop\njavac MyShape\\Triangle\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2076930,"reputation":29,"user_id":1850015,"display_name":"Kameron"},"score":1,"creation_date":1353788820,"post_id":13544996,"comment_id":18550821,"body_markdown":"many thanks But right now just conerend about how to compile Triangle class that is not working.","body":"many thanks But right now just conerend about how to compile Triangle class that is not working."}],"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1353786858,"creation_date":1353786858,"answer_id":13544996,"question_id":13544677,"body_markdown":"As long as they&#39;re in the same folder and package, you&#39;ll be OK.\r\n\r\nHowever, I would make the following changes to your classes:\r\n\r\n1. Rename `Shapeclass` to `Shape`... we *know* it&#39;s a class already. Putting &quot;class&quot; in a class name adds no value\r\n2. Since you require subclasses to declare an `area()` method, call *that* from within your `print()` method\r\n3. Don&#39;t store the `area` value in `your shape - just call the `area()` method if you need it\r\n\r\nMaking these changes simplifies your code a lot:\r\n\r\n    public abstract class Shape {\r\n        public abstract double area(double radius);\r\n    \r\n        protected void print() { // don&#39;t pass anything in!\r\n            System.out.print(&quot;Area is:&quot; + area()); // call the area() method\r\n        }\r\n    }\r\n    \r\n    public class Triangle extends Shape {\r\n        double radius; // triangles don&#39;t have radii, you&#39;ll need to store something else\r\n\r\n        public double area() {\r\n            return radius * radius; // This is a questionable calculation. fix it\r\n        }\r\n    }\r\n\r\n","title":"How can I use multiple classes in one package in Java?","body":"<p>As long as they're in the same folder and package, you'll be OK.</p>\n\n<p>However, I would make the following changes to your classes:</p>\n\n<ol>\n<li>Rename <code>Shapeclass</code> to <code>Shape</code>... we <em>know</em> it's a class already. Putting \"class\" in a class name adds no value</li>\n<li>Since you require subclasses to declare an <code>area()</code> method, call <em>that</em> from within your <code>print()</code> method</li>\n<li>Don't store the <code>area</code> value in <code>your shape - just call the</code>area()` method if you need it</li>\n</ol>\n\n<p>Making these changes simplifies your code a lot:</p>\n\n<pre><code>public abstract class Shape {\n    public abstract double area(double radius);\n\n    protected void print() { // don't pass anything in!\n        System.out.print(\"Area is:\" + area()); // call the area() method\n    }\n}\n\npublic class Triangle extends Shape {\n    double radius; // triangles don't have radii, you'll need to store something else\n\n    public double area() {\n        return radius * radius; // This is a questionable calculation. fix it\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":162781,"reputation":9602,"user_id":384464,"display_name":"xagyg"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1353796573,"creation_date":1353795652,"answer_id":13546223,"question_id":13544677,"body_markdown":"**From C:\\Users\\Desktop ...**\r\n    \r\n    javac -cp . MyShape\\Triangle.java\r\n\r\n**OR if you aren&#39;t in C:\\Users\\Desktop ...**\r\n\r\n    javac -cp C:\\Users\\Desktop C:\\Users\\Desktop\\MyShape\\Triangle.java\r\n","title":"How can I use multiple classes in one package in Java?","body":"<p><strong>From C:\\Users\\Desktop ...</strong></p>\n\n<pre><code>javac -cp . MyShape\\Triangle.java\n</code></pre>\n\n<p><strong>OR if you aren't in C:\\Users\\Desktop ...</strong></p>\n\n<pre><code>javac -cp C:\\Users\\Desktop C:\\Users\\Desktop\\MyShape\\Triangle.java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12549523,"reputation":1,"user_id":9131736,"display_name":"Avinish Panwar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674161720,"creation_date":1513959688,"answer_id":47944490,"question_id":13544677,"body_markdown":"Program of two classes in a single package\r\n\r\nHere is the code of package with two classes:\r\n\r\n    package pack;\r\n\r\n    class pack_add_sub\r\n    {\r\n        public void ad (int x, int y)\r\n        {\r\n            System.out.println(&quot;The Add of  &quot; + x + &quot; &amp; &quot; + y + &quot; is: &quot; + (x + y));\r\n        }\r\n    }\r\n\r\n    public class pack_add_subb extends pack_add_sub\r\n    {\r\n        public void su (int x, int y)\r\n        {\r\n            super.ad(x, y);\r\n            System.out.println(&quot;The Sub of  &quot; + x + &quot; &amp; &quot; + y + &quot; is: &quot;+  (x - y));\r\n        }\r\n    }\r\n\r\nNow we compile it and save class file in the package name folder. which created in bin folder.\r\n\r\nNow, here is the code to call both classes which created in package:\r\n\r\n    import java.io.*;\r\n    import java.util.*;\r\n    import pack.pack_add_subb;\r\n\r\n    class calling_pack_add_subb\r\n    {\r\n         public static void main (String arr[])\r\n         {\r\n             int a, b;\r\n             Scanner ob = new Scanner (System.in);\r\n             System.out.println(&quot;Enter the same value for add and sub: &quot;);\r\n             a = ob.nextInt();\r\n             b = ob.nextInt();\r\n\r\n             pack_add_subb ob1 = new pack_add_subb ();\r\n             ob1.su(a, b);\r\n         }\r\n    }\r\n","title":"How can I use multiple classes in one package in Java?","body":"<p>Program of two classes in a single package</p>\n<p>Here is the code of package with two classes:</p>\n<pre><code>package pack;\n\nclass pack_add_sub\n{\n    public void ad (int x, int y)\n    {\n        System.out.println(&quot;The Add of  &quot; + x + &quot; &amp; &quot; + y + &quot; is: &quot; + (x + y));\n    }\n}\n\npublic class pack_add_subb extends pack_add_sub\n{\n    public void su (int x, int y)\n    {\n        super.ad(x, y);\n        System.out.println(&quot;The Sub of  &quot; + x + &quot; &amp; &quot; + y + &quot; is: &quot;+  (x - y));\n    }\n}\n</code></pre>\n<p>Now we compile it and save class file in the package name folder. which created in bin folder.</p>\n<p>Now, here is the code to call both classes which created in package:</p>\n<pre><code>import java.io.*;\nimport java.util.*;\nimport pack.pack_add_subb;\n\nclass calling_pack_add_subb\n{\n     public static void main (String arr[])\n     {\n         int a, b;\n         Scanner ob = new Scanner (System.in);\n         System.out.println(&quot;Enter the same value for add and sub: &quot;);\n         a = ob.nextInt();\n         b = ob.nextInt();\n\n         pack_add_subb ob1 = new pack_add_subb ();\n         ob1.su(a, b);\n     }\n}\n</code></pre>\n"}],"owner":{"account_id":2076930,"reputation":29,"user_id":1850015,"display_name":"Kameron"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14874,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":6,"score":2,"last_activity_date":1674161840,"creation_date":1353784779,"question_id":13544677,"body_markdown":"Say I have the following two classes:\r\n\r\n    package MyShape;\r\n\r\n    public abstract class Shapeclass {\r\n        public abstract double area(double radius);\r\n\r\n        protected void print(double area) {\r\n            System.out.print(&quot;Area is:&quot; + area);\r\n        }\r\n    }\r\n\r\nAnd another class, *Triangle*;\r\n\r\n    package MyShape;\r\n\r\n    public class Triangle extends Shapeclass {\r\n        double area;\r\n\r\n        public double area(double radius) {\r\n            return radius * radius;\r\n        }\r\n\r\n        public void print() {\r\n            super.print(area);\r\n        }\r\n    }\r\n\r\nI have put both classes in the same folder named *MyShape*. But when I try to compile the Triangle class compiler, it shows the following error;\r\n\r\n```lang-none\r\nC:\\Users\\Desktop\\MyShape\\Triangle.java:3: error: cannot find symbol\r\npublic class Triangle extends Shapeclass\r\n                              ^\r\n  symbol: class Shapeclass\r\nC:\\Users\\Desktop\\MyShape\\Triangle.java:13: error: cannot find symbol\r\nsuper.print(area);\r\n^\r\n  symbol:   variable super\r\n  location: class Triangle\r\n```\r\n\r\nHow can I solve it?\r\n\r\n","title":"How can I use multiple classes in one package in Java?","body":"<p>Say I have the following two classes:</p>\n<pre><code>package MyShape;\n\npublic abstract class Shapeclass {\n    public abstract double area(double radius);\n\n    protected void print(double area) {\n        System.out.print(&quot;Area is:&quot; + area);\n    }\n}\n</code></pre>\n<p>And another class, <em>Triangle</em>;</p>\n<pre><code>package MyShape;\n\npublic class Triangle extends Shapeclass {\n    double area;\n\n    public double area(double radius) {\n        return radius * radius;\n    }\n\n    public void print() {\n        super.print(area);\n    }\n}\n</code></pre>\n<p>I have put both classes in the same folder named <em>MyShape</em>. But when I try to compile the Triangle class compiler, it shows the following error;</p>\n<pre class=\"lang-none prettyprint-override\"><code>C:\\Users\\Desktop\\MyShape\\Triangle.java:3: error: cannot find symbol\npublic class Triangle extends Shapeclass\n                              ^\n  symbol: class Shapeclass\nC:\\Users\\Desktop\\MyShape\\Triangle.java:13: error: cannot find symbol\nsuper.print(area);\n^\n  symbol:   variable super\n  location: class Triangle\n</code></pre>\n<p>How can I solve it?</p>\n"},{"tags":["java","arrays","multidimensional-array","boolean"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1674167550,"post_id":75178041,"comment_id":132663671,"body_markdown":"1) What is &quot;reverse Tetris&quot;?  2) I understand the game field and figure (piece) arrays.  What does the boolean array do?  3) Edit your question to include a [mre] as text that we can copy into our IDE, compile, run, and test.","body":"1) What is &quot;reverse Tetris&quot;?  2) I understand the game field and figure (piece) arrays.  What does the boolean array do?  3) Edit your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> as text that we can copy into our IDE, compile, run, and test."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1674175870,"post_id":75178041,"comment_id":132664874,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":27576055,"reputation":1,"user_id":21046231,"display_name":"Tanya Fondaj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674161809,"creation_date":1674160815,"question_id":75178041,"body_markdown":"I am trying to code a reverse tetris game for fun, but I am stumped on a part of my implementation :(\r\nSo I have a boolean 2D array of size m by n, another integer 2D array representing the field also of size m by n, and another integer 2D array of size r by c (the tetris piece). \r\n\r\nExample:\r\nGame field:\r\nint[][] field =  {{0, 0, 0, 0, 0},{0, 0, 0, 0, 0},{0, 0, 0, 0, 0},{1, 1, 0, 1, 0},{1, 0, 1, 0, 1}};\r\n\r\nTetris piece: \r\nint[][] figure = {{1, 1, 1}, {1, 0, 1}, {1, 0, 1}};\r\n\r\nBoolean 2d Array: (Wrote code for this)\r\nboolean[][] fieldbool = [[true, true, true, true, true], [true, true, true, true, true], [true, true, true, true, true], [false, false, true, true, true], [false, false, false, true, false]]\r\n\r\nExpected output:\r\nfinal field matrix \r\nint[][] field =  {{1, 1, 1, 0, 0},{1, 0, 1, 0, 0},{1, 0, 1, 0, 0},{1, 1, 0, 1, 0},{1, 0, 1, 0, 1}};\r\n\r\nI want to fit the tetris piece in the smallest row and column index possible. I am super confused on how to do this. Worked on it for four hours and still stumped :(\r\n\r\n\r\n\r\nSo far, I tried maintaining two integer variables that store count for the number of times there is true for row and for col. If the count is equal to the height/width of the tetris piece, I have a for loop that goes back from the index currently in minus that count and fill the values in the field. It&#39;s not working as I my output is the same as the given field. ","title":"Boolean 2d array of size m by n, another integer 2d array also with size m by n, and another integer 2d array of size r by c, replace values","body":"<p>I am trying to code a reverse tetris game for fun, but I am stumped on a part of my implementation :(\nSo I have a boolean 2D array of size m by n, another integer 2D array representing the field also of size m by n, and another integer 2D array of size r by c (the tetris piece).</p>\n<p>Example:\nGame field:\nint[][] field =  {{0, 0, 0, 0, 0},{0, 0, 0, 0, 0},{0, 0, 0, 0, 0},{1, 1, 0, 1, 0},{1, 0, 1, 0, 1}};</p>\n<p>Tetris piece:\nint[][] figure = {{1, 1, 1}, {1, 0, 1}, {1, 0, 1}};</p>\n<p>Boolean 2d Array: (Wrote code for this)\nboolean[][] fieldbool = [[true, true, true, true, true], [true, true, true, true, true], [true, true, true, true, true], [false, false, true, true, true], [false, false, false, true, false]]</p>\n<p>Expected output:\nfinal field matrix\nint[][] field =  {{1, 1, 1, 0, 0},{1, 0, 1, 0, 0},{1, 0, 1, 0, 0},{1, 1, 0, 1, 0},{1, 0, 1, 0, 1}};</p>\n<p>I want to fit the tetris piece in the smallest row and column index possible. I am super confused on how to do this. Worked on it for four hours and still stumped :(</p>\n<p>So far, I tried maintaining two integer variables that store count for the number of times there is true for row and for col. If the count is equal to the height/width of the tetris piece, I have a for loop that goes back from the index currently in minus that count and fill the values in the field. It's not working as I my output is the same as the given field.</p>\n"},{"tags":["java","open-telemetry","telemetry"],"comments":[{"owner":{"account_id":14812666,"reputation":733,"user_id":10697769,"display_name":"James Moessis"},"score":0,"creation_date":1674441738,"post_id":75160039,"comment_id":132708289,"body_markdown":"The 4th log line has a warning for the logging exporter, I would suggest updating your config to the logging exporter to not use the deprecated fields and see if that fixes it.","body":"The 4th log line has a warning for the logging exporter, I would suggest updating your config to the logging exporter to not use the deprecated fields and see if that fixes it."},{"owner":{"account_id":6925524,"reputation":405,"user_id":5316732,"accept_rate":50,"display_name":"Pramendra Raghuwanshi"},"score":1,"creation_date":1674655905,"post_id":75160039,"comment_id":132760903,"body_markdown":"I have tried with verbosity: detailed but same issue,...","body":"I have tried with verbosity: detailed but same issue,..."},{"owner":{"account_id":6925524,"reputation":405,"user_id":5316732,"accept_rate":50,"display_name":"Pramendra Raghuwanshi"},"score":0,"creation_date":1674656146,"post_id":75160039,"comment_id":132760995,"body_markdown":"It was not working for me so I have tried with sending binary instead of json and worked smoothly (https://github.com/open-telemetry/opentelemetry-specification/blob/main/specification/protocol/otlp.md#otlphttp)","body":"It was not working for me so I have tried with sending binary instead of json and worked smoothly (<a href=\"https://github.com/open-telemetry/opentelemetry-specification/blob/main/specification/protocol/otlp.md#otlphttp\" rel=\"nofollow noreferrer\">github.com/open-telemetry/opentelemetry-specification/blob/&zwnj;&#8203;main/&hellip;</a>)"}],"answers":[{"tags":[],"owner":{"account_id":4077251,"reputation":26288,"user_id":3348604,"display_name":"Jan Garaj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674161753,"creation_date":1674161753,"answer_id":75178199,"question_id":75160039,"body_markdown":"Use older OTLP collector version, which has older OTLP protocol version and you will get error response for your payload:\r\n```\r\n{\r\n\t&quot;code&quot;: 3,\r\n\t&quot;message&quot;: &quot;unknown field \\&quot;unknownFields\\&quot; in v1.ExportMetricsServiceRequest&quot;\r\n}\r\n```\r\nNewer versions ignore unknowns fields silently, so you don&#39;t see any error.\r\n\r\nTested with `public.ecr.aws/aws-observability/aws-otel-collector:v0.21.0`","title":"Telemetry Collector not logging/exporting http calls","body":"<p>Use older OTLP collector version, which has older OTLP protocol version and you will get error response for your payload:</p>\n<pre><code>{\n    &quot;code&quot;: 3,\n    &quot;message&quot;: &quot;unknown field \\&quot;unknownFields\\&quot; in v1.ExportMetricsServiceRequest&quot;\n}\n</code></pre>\n<p>Newer versions ignore unknowns fields silently, so you don't see any error.</p>\n<p>Tested with <code>public.ecr.aws/aws-observability/aws-otel-collector:v0.21.0</code></p>\n"}],"owner":{"account_id":6925524,"reputation":405,"user_id":5316732,"accept_rate":50,"display_name":"Pramendra Raghuwanshi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":811,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674161753,"creation_date":1674048829,"question_id":75160039,"body_markdown":"I am using Opentelemetry collector with below configuration which uses http receiver and export it to logs but when I call the API it returns 200 http code but in the console of collector I don&#39;t see any logs.\r\n\r\n\r\nNOTE: I am using otel/opentelemetry-collector-contrib:0.68.0 Image\r\n\r\n**collector-config.yaml**\r\n````\r\nreceivers:\r\n  otlp:\r\n    protocols:\r\n      http: http://localhost:4318\r\n      \r\nexporters:\r\n  logging:\r\n    loglevel: debug\r\n\r\nservice:\r\n  pipelines:\r\n    traces:\r\n      exporters: [logging]\r\n      receivers: [otlp]\r\n    metrics:\r\n      exporters: [logging]\r\n      receivers: [otlp]\r\n    logs:\r\n      exporters: [logging]\r\n      receivers: [otlp]\r\n  telemetry:\r\n    metrics:\r\n      level: detailed\r\n````\r\n**Http Call:**\r\nPOST: http://localhost:4318/v1/metrics\r\n\r\nRequest Body\r\n````\r\n{\r\n    &quot;resourceMetrics_&quot;: [\r\n        {\r\n            &quot;resource_&quot;: {\r\n                &quot;attributes_&quot;: [\r\n                    {\r\n                        &quot;key_&quot;: &quot;loki.attribute.labels&quot;,\r\n                        &quot;value_&quot;: {\r\n                            &quot;valueCase_&quot;: 1,\r\n                            &quot;value_&quot;: &quot;http.status&quot;,\r\n                            &quot;memoizedIsInitialized&quot;: -1,\r\n                            &quot;unknownFields&quot;: {\r\n                                &quot;fields&quot;: {}\r\n                            },\r\n                            &quot;memoizedSize&quot;: -1,\r\n                            &quot;memoizedHashCode&quot;: 0\r\n                        },\r\n                        &quot;memoizedIsInitialized&quot;: -1,\r\n                        &quot;unknownFields&quot;: {\r\n                            &quot;fields&quot;: {}\r\n                        },\r\n                        &quot;memoizedSize&quot;: -1,\r\n                        &quot;memoizedHashCode&quot;: 0\r\n                    },\r\n                    {\r\n                        &quot;key_&quot;: &quot;loki.resource.labels&quot;,\r\n                        &quot;value_&quot;: {\r\n                            &quot;valueCase_&quot;: 1,\r\n                            &quot;value_&quot;: &quot;host.name, pod.name&quot;,\r\n                            &quot;memoizedIsInitialized&quot;: -1,\r\n                            &quot;unknownFields&quot;: {\r\n                                &quot;fields&quot;: {}\r\n                            },\r\n                            &quot;memoizedSize&quot;: -1,\r\n                            &quot;memoizedHashCode&quot;: 0\r\n                        },\r\n                        &quot;memoizedIsInitialized&quot;: -1,\r\n                        &quot;unknownFields&quot;: {\r\n                            &quot;fields&quot;: {}\r\n                        },\r\n                        &quot;memoizedSize&quot;: -1,\r\n                        &quot;memoizedHashCode&quot;: 0\r\n                    }\r\n                ],\r\n                &quot;droppedAttributesCount_&quot;: 0,\r\n                &quot;memoizedIsInitialized&quot;: -1,\r\n                &quot;unknownFields&quot;: {\r\n                    &quot;fields&quot;: {}\r\n                },\r\n                &quot;memoizedSize&quot;: -1,\r\n                &quot;memoizedHashCode&quot;: 0\r\n            },\r\n            &quot;scopeMetrics_&quot;: [\r\n                {\r\n                    &quot;scope_&quot;: {\r\n                        &quot;name_&quot;: &quot;otelcol/hostmetricsreceiver/load&quot;,\r\n                        &quot;version_&quot;: &quot;0.68.0&quot;,\r\n                        &quot;attributes_&quot;: [],\r\n                        &quot;droppedAttributesCount_&quot;: 0,\r\n                        &quot;memoizedIsInitialized&quot;: -1,\r\n                        &quot;unknownFields&quot;: {\r\n                            &quot;fields&quot;: {}\r\n                        },\r\n                        &quot;memoizedSize&quot;: -1,\r\n                        &quot;memoizedHashCode&quot;: 0\r\n                    },\r\n                    &quot;metrics_&quot;: [\r\n                        {\r\n                            &quot;dataCase_&quot;: 5,\r\n                            &quot;data_&quot;: {\r\n                                &quot;dataPoints_&quot;: [\r\n                                    {\r\n                                        &quot;valueCase_&quot;: 4,\r\n                                        &quot;value_&quot;: 0.94,\r\n                                        &quot;attributes_&quot;: [\r\n                                            {\r\n                                                &quot;key_&quot;: &quot;loki.attribute.labels&quot;,\r\n                                                &quot;value_&quot;: {\r\n                                                    &quot;valueCase_&quot;: 1,\r\n                                                    &quot;value_&quot;: &quot;http.status_code&quot;,\r\n                                                    &quot;memoizedIsInitialized&quot;: -1,\r\n                                                    &quot;unknownFields&quot;: {\r\n                                                        &quot;fields&quot;: {}\r\n                                                    },\r\n                                                    &quot;memoizedSize&quot;: -1,\r\n                                                    &quot;memoizedHashCode&quot;: 0\r\n                                                },\r\n                                                &quot;memoizedIsInitialized&quot;: -1,\r\n                                                &quot;unknownFields&quot;: {\r\n                                                    &quot;fields&quot;: {}\r\n                                                },\r\n                                                &quot;memoizedSize&quot;: -1,\r\n                                                &quot;memoizedHashCode&quot;: 0\r\n                                            }\r\n                                        ],\r\n                                        &quot;startTimeUnixNano_&quot;: 1673933623000000000,\r\n                                        &quot;timeUnixNano_&quot;: 1673962743472355755,\r\n                                        &quot;exemplars_&quot;: [],\r\n                                        &quot;flags_&quot;: 0,\r\n                                        &quot;memoizedIsInitialized&quot;: -1,\r\n                                        &quot;unknownFields&quot;: {\r\n                                            &quot;fields&quot;: {}\r\n                                        },\r\n                                        &quot;memoizedSize&quot;: -1,\r\n                                        &quot;memoizedHashCode&quot;: 0\r\n                                    }\r\n                                ],\r\n                                &quot;memoizedIsInitialized&quot;: -1,\r\n                                &quot;unknownFields&quot;: {\r\n                                    &quot;fields&quot;: {}\r\n                                },\r\n                                &quot;memoizedSize&quot;: -1,\r\n                                &quot;memoizedHashCode&quot;: 0\r\n                            },\r\n                            &quot;name_&quot;: &quot;system.cpu.load_average.15m&quot;,\r\n                            &quot;description_&quot;: &quot;Average CPU Load over 15 minutes.&quot;,\r\n                            &quot;unit_&quot;: &quot;1&quot;,\r\n                            &quot;memoizedIsInitialized&quot;: -1,\r\n                            &quot;unknownFields&quot;: {\r\n                                &quot;fields&quot;: {}\r\n                            },\r\n                            &quot;memoizedSize&quot;: -1,\r\n                            &quot;memoizedHashCode&quot;: 0\r\n                        },\r\n                        {\r\n                            &quot;dataCase_&quot;: 5,\r\n                            &quot;data_&quot;: {\r\n                                &quot;dataPoints_&quot;: [\r\n                                    {\r\n                                        &quot;valueCase_&quot;: 4,\r\n                                        &quot;value_&quot;: 0.99,\r\n                                        &quot;attributes_&quot;: [\r\n                                            {\r\n                                                &quot;key_&quot;: &quot;loki.attribute.labels&quot;,\r\n                                                &quot;value_&quot;: {\r\n                                                    &quot;valueCase_&quot;: 1,\r\n                                                    &quot;value_&quot;: &quot;http.status_code&quot;,\r\n                                                    &quot;memoizedIsInitialized&quot;: -1,\r\n                                                    &quot;unknownFields&quot;: {\r\n                                                        &quot;fields&quot;: {}\r\n                                                    },\r\n                                                    &quot;memoizedSize&quot;: -1,\r\n                                                    &quot;memoizedHashCode&quot;: 0\r\n                                                },\r\n                                                &quot;memoizedIsInitialized&quot;: -1,\r\n                                                &quot;unknownFields&quot;: {\r\n                                                    &quot;fields&quot;: {}\r\n                                                },\r\n                                                &quot;memoizedSize&quot;: -1,\r\n                                                &quot;memoizedHashCode&quot;: 0\r\n                                            }\r\n                                        ],\r\n                                        &quot;startTimeUnixNano_&quot;: 1673933623000000000,\r\n                                        &quot;timeUnixNano_&quot;: 1673962743472355755,\r\n                                        &quot;exemplars_&quot;: [],\r\n                                        &quot;flags_&quot;: 0,\r\n                                        &quot;memoizedIsInitialized&quot;: -1,\r\n                                        &quot;unknownFields&quot;: {\r\n                                            &quot;fields&quot;: {}\r\n                                        },\r\n                                        &quot;memoizedSize&quot;: -1,\r\n                                        &quot;memoizedHashCode&quot;: 0\r\n                                    }\r\n                                ],\r\n                                &quot;memoizedIsInitialized&quot;: -1,\r\n                                &quot;unknownFields&quot;: {\r\n                                    &quot;fields&quot;: {}\r\n                                },\r\n                                &quot;memoizedSize&quot;: -1,\r\n                                &quot;memoizedHashCode&quot;: 0\r\n                            },\r\n                            &quot;name_&quot;: &quot;system.cpu.load_average.1m&quot;,\r\n                            &quot;description_&quot;: &quot;Average CPU Load over 1 minute.&quot;,\r\n                            &quot;unit_&quot;: &quot;1&quot;,\r\n                            &quot;memoizedIsInitialized&quot;: -1,\r\n                            &quot;unknownFields&quot;: {\r\n                                &quot;fields&quot;: {}\r\n                            },\r\n                            &quot;memoizedSize&quot;: -1,\r\n                            &quot;memoizedHashCode&quot;: 0\r\n                        },\r\n                        {\r\n                            &quot;dataCase_&quot;: 5,\r\n                            &quot;data_&quot;: {\r\n                                &quot;dataPoints_&quot;: [\r\n                                    {\r\n                                        &quot;valueCase_&quot;: 4,\r\n                                        &quot;value_&quot;: 0.81,\r\n                                        &quot;attributes_&quot;: [\r\n                                            {\r\n                                                &quot;key_&quot;: &quot;loki.attribute.labels&quot;,\r\n                                                &quot;value_&quot;: {\r\n                                                    &quot;valueCase_&quot;: 1,\r\n                                                    &quot;value_&quot;: &quot;http.status_code&quot;,\r\n                                                    &quot;memoizedIsInitialized&quot;: -1,\r\n                                                    &quot;unknownFields&quot;: {\r\n                                                        &quot;fields&quot;: {}\r\n                                                    },\r\n                                                    &quot;memoizedSize&quot;: -1,\r\n                                                    &quot;memoizedHashCode&quot;: 0\r\n                                                },\r\n                                                &quot;memoizedIsInitialized&quot;: -1,\r\n                                                &quot;unknownFields&quot;: {\r\n                                                    &quot;fields&quot;: {}\r\n                                                },\r\n                                                &quot;memoizedSize&quot;: -1,\r\n                                                &quot;memoizedHashCode&quot;: 0\r\n                                            }\r\n                                        ],\r\n                                        &quot;startTimeUnixNano_&quot;: 1673933623000000000,\r\n                                        &quot;timeUnixNano_&quot;: 1673962743472355755,\r\n                                        &quot;exemplars_&quot;: [],\r\n                                        &quot;flags_&quot;: 0,\r\n                                        &quot;memoizedIsInitialized&quot;: -1,\r\n                                        &quot;unknownFields&quot;: {\r\n                                            &quot;fields&quot;: {}\r\n                                        },\r\n                                        &quot;memoizedSize&quot;: -1,\r\n                                        &quot;memoizedHashCode&quot;: 0\r\n                                    }\r\n                                ],\r\n                                &quot;memoizedIsInitialized&quot;: -1,\r\n                                &quot;unknownFields&quot;: {\r\n                                    &quot;fields&quot;: {}\r\n                                },\r\n                                &quot;memoizedSize&quot;: -1,\r\n                                &quot;memoizedHashCode&quot;: 0\r\n                            },\r\n                            &quot;name_&quot;: &quot;system.cpu.load_average.5m&quot;,\r\n                            &quot;description_&quot;: &quot;Average CPU Load over 5 minutes.&quot;,\r\n                            &quot;unit_&quot;: &quot;1&quot;,\r\n                            &quot;memoizedIsInitialized&quot;: -1,\r\n                            &quot;unknownFields&quot;: {\r\n                                &quot;fields&quot;: {}\r\n                            },\r\n                            &quot;memoizedSize&quot;: -1,\r\n                            &quot;memoizedHashCode&quot;: 0\r\n                        }\r\n                    ],\r\n                    &quot;schemaUrl_&quot;: &quot;&quot;,\r\n                    &quot;memoizedIsInitialized&quot;: -1,\r\n                    &quot;unknownFields&quot;: {\r\n                        &quot;fields&quot;: {}\r\n                    },\r\n                    &quot;memoizedSize&quot;: -1,\r\n                    &quot;memoizedHashCode&quot;: 0\r\n                }\r\n            ],\r\n            &quot;schemaUrl_&quot;: &quot;https://opentelemetry.io/schemas/1.9.0&quot;,\r\n            &quot;memoizedIsInitialized&quot;: -1,\r\n            &quot;unknownFields&quot;: {\r\n                &quot;fields&quot;: {}\r\n            },\r\n            &quot;memoizedSize&quot;: -1,\r\n            &quot;memoizedHashCode&quot;: 0\r\n        }\r\n    ],\r\n    &quot;memoizedIsInitialized&quot;: 1,\r\n    &quot;unknownFields&quot;: {\r\n        &quot;fields&quot;: {}\r\n    },\r\n    &quot;memoizedSize&quot;: -1,\r\n    &quot;memoizedHashCode&quot;: 0\r\n}\r\n````\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**Collector Logs:**\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6vaM3.png\r\n  [2]: https://i.stack.imgur.com/az9G6.png","title":"Telemetry Collector not logging/exporting http calls","body":"<p>I am using Opentelemetry collector with below configuration which uses http receiver and export it to logs but when I call the API it returns 200 http code but in the console of collector I don't see any logs.</p>\n<p>NOTE: I am using otel/opentelemetry-collector-contrib:0.68.0 Image</p>\n<p><strong>collector-config.yaml</strong></p>\n<pre><code>receivers:\n  otlp:\n    protocols:\n      http: http://localhost:4318\n      \nexporters:\n  logging:\n    loglevel: debug\n\nservice:\n  pipelines:\n    traces:\n      exporters: [logging]\n      receivers: [otlp]\n    metrics:\n      exporters: [logging]\n      receivers: [otlp]\n    logs:\n      exporters: [logging]\n      receivers: [otlp]\n  telemetry:\n    metrics:\n      level: detailed\n</code></pre>\n<p><strong>Http Call:</strong>\nPOST: http://localhost:4318/v1/metrics</p>\n<p>Request Body</p>\n<pre><code>{\n    &quot;resourceMetrics_&quot;: [\n        {\n            &quot;resource_&quot;: {\n                &quot;attributes_&quot;: [\n                    {\n                        &quot;key_&quot;: &quot;loki.attribute.labels&quot;,\n                        &quot;value_&quot;: {\n                            &quot;valueCase_&quot;: 1,\n                            &quot;value_&quot;: &quot;http.status&quot;,\n                            &quot;memoizedIsInitialized&quot;: -1,\n                            &quot;unknownFields&quot;: {\n                                &quot;fields&quot;: {}\n                            },\n                            &quot;memoizedSize&quot;: -1,\n                            &quot;memoizedHashCode&quot;: 0\n                        },\n                        &quot;memoizedIsInitialized&quot;: -1,\n                        &quot;unknownFields&quot;: {\n                            &quot;fields&quot;: {}\n                        },\n                        &quot;memoizedSize&quot;: -1,\n                        &quot;memoizedHashCode&quot;: 0\n                    },\n                    {\n                        &quot;key_&quot;: &quot;loki.resource.labels&quot;,\n                        &quot;value_&quot;: {\n                            &quot;valueCase_&quot;: 1,\n                            &quot;value_&quot;: &quot;host.name, pod.name&quot;,\n                            &quot;memoizedIsInitialized&quot;: -1,\n                            &quot;unknownFields&quot;: {\n                                &quot;fields&quot;: {}\n                            },\n                            &quot;memoizedSize&quot;: -1,\n                            &quot;memoizedHashCode&quot;: 0\n                        },\n                        &quot;memoizedIsInitialized&quot;: -1,\n                        &quot;unknownFields&quot;: {\n                            &quot;fields&quot;: {}\n                        },\n                        &quot;memoizedSize&quot;: -1,\n                        &quot;memoizedHashCode&quot;: 0\n                    }\n                ],\n                &quot;droppedAttributesCount_&quot;: 0,\n                &quot;memoizedIsInitialized&quot;: -1,\n                &quot;unknownFields&quot;: {\n                    &quot;fields&quot;: {}\n                },\n                &quot;memoizedSize&quot;: -1,\n                &quot;memoizedHashCode&quot;: 0\n            },\n            &quot;scopeMetrics_&quot;: [\n                {\n                    &quot;scope_&quot;: {\n                        &quot;name_&quot;: &quot;otelcol/hostmetricsreceiver/load&quot;,\n                        &quot;version_&quot;: &quot;0.68.0&quot;,\n                        &quot;attributes_&quot;: [],\n                        &quot;droppedAttributesCount_&quot;: 0,\n                        &quot;memoizedIsInitialized&quot;: -1,\n                        &quot;unknownFields&quot;: {\n                            &quot;fields&quot;: {}\n                        },\n                        &quot;memoizedSize&quot;: -1,\n                        &quot;memoizedHashCode&quot;: 0\n                    },\n                    &quot;metrics_&quot;: [\n                        {\n                            &quot;dataCase_&quot;: 5,\n                            &quot;data_&quot;: {\n                                &quot;dataPoints_&quot;: [\n                                    {\n                                        &quot;valueCase_&quot;: 4,\n                                        &quot;value_&quot;: 0.94,\n                                        &quot;attributes_&quot;: [\n                                            {\n                                                &quot;key_&quot;: &quot;loki.attribute.labels&quot;,\n                                                &quot;value_&quot;: {\n                                                    &quot;valueCase_&quot;: 1,\n                                                    &quot;value_&quot;: &quot;http.status_code&quot;,\n                                                    &quot;memoizedIsInitialized&quot;: -1,\n                                                    &quot;unknownFields&quot;: {\n                                                        &quot;fields&quot;: {}\n                                                    },\n                                                    &quot;memoizedSize&quot;: -1,\n                                                    &quot;memoizedHashCode&quot;: 0\n                                                },\n                                                &quot;memoizedIsInitialized&quot;: -1,\n                                                &quot;unknownFields&quot;: {\n                                                    &quot;fields&quot;: {}\n                                                },\n                                                &quot;memoizedSize&quot;: -1,\n                                                &quot;memoizedHashCode&quot;: 0\n                                            }\n                                        ],\n                                        &quot;startTimeUnixNano_&quot;: 1673933623000000000,\n                                        &quot;timeUnixNano_&quot;: 1673962743472355755,\n                                        &quot;exemplars_&quot;: [],\n                                        &quot;flags_&quot;: 0,\n                                        &quot;memoizedIsInitialized&quot;: -1,\n                                        &quot;unknownFields&quot;: {\n                                            &quot;fields&quot;: {}\n                                        },\n                                        &quot;memoizedSize&quot;: -1,\n                                        &quot;memoizedHashCode&quot;: 0\n                                    }\n                                ],\n                                &quot;memoizedIsInitialized&quot;: -1,\n                                &quot;unknownFields&quot;: {\n                                    &quot;fields&quot;: {}\n                                },\n                                &quot;memoizedSize&quot;: -1,\n                                &quot;memoizedHashCode&quot;: 0\n                            },\n                            &quot;name_&quot;: &quot;system.cpu.load_average.15m&quot;,\n                            &quot;description_&quot;: &quot;Average CPU Load over 15 minutes.&quot;,\n                            &quot;unit_&quot;: &quot;1&quot;,\n                            &quot;memoizedIsInitialized&quot;: -1,\n                            &quot;unknownFields&quot;: {\n                                &quot;fields&quot;: {}\n                            },\n                            &quot;memoizedSize&quot;: -1,\n                            &quot;memoizedHashCode&quot;: 0\n                        },\n                        {\n                            &quot;dataCase_&quot;: 5,\n                            &quot;data_&quot;: {\n                                &quot;dataPoints_&quot;: [\n                                    {\n                                        &quot;valueCase_&quot;: 4,\n                                        &quot;value_&quot;: 0.99,\n                                        &quot;attributes_&quot;: [\n                                            {\n                                                &quot;key_&quot;: &quot;loki.attribute.labels&quot;,\n                                                &quot;value_&quot;: {\n                                                    &quot;valueCase_&quot;: 1,\n                                                    &quot;value_&quot;: &quot;http.status_code&quot;,\n                                                    &quot;memoizedIsInitialized&quot;: -1,\n                                                    &quot;unknownFields&quot;: {\n                                                        &quot;fields&quot;: {}\n                                                    },\n                                                    &quot;memoizedSize&quot;: -1,\n                                                    &quot;memoizedHashCode&quot;: 0\n                                                },\n                                                &quot;memoizedIsInitialized&quot;: -1,\n                                                &quot;unknownFields&quot;: {\n                                                    &quot;fields&quot;: {}\n                                                },\n                                                &quot;memoizedSize&quot;: -1,\n                                                &quot;memoizedHashCode&quot;: 0\n                                            }\n                                        ],\n                                        &quot;startTimeUnixNano_&quot;: 1673933623000000000,\n                                        &quot;timeUnixNano_&quot;: 1673962743472355755,\n                                        &quot;exemplars_&quot;: [],\n                                        &quot;flags_&quot;: 0,\n                                        &quot;memoizedIsInitialized&quot;: -1,\n                                        &quot;unknownFields&quot;: {\n                                            &quot;fields&quot;: {}\n                                        },\n                                        &quot;memoizedSize&quot;: -1,\n                                        &quot;memoizedHashCode&quot;: 0\n                                    }\n                                ],\n                                &quot;memoizedIsInitialized&quot;: -1,\n                                &quot;unknownFields&quot;: {\n                                    &quot;fields&quot;: {}\n                                },\n                                &quot;memoizedSize&quot;: -1,\n                                &quot;memoizedHashCode&quot;: 0\n                            },\n                            &quot;name_&quot;: &quot;system.cpu.load_average.1m&quot;,\n                            &quot;description_&quot;: &quot;Average CPU Load over 1 minute.&quot;,\n                            &quot;unit_&quot;: &quot;1&quot;,\n                            &quot;memoizedIsInitialized&quot;: -1,\n                            &quot;unknownFields&quot;: {\n                                &quot;fields&quot;: {}\n                            },\n                            &quot;memoizedSize&quot;: -1,\n                            &quot;memoizedHashCode&quot;: 0\n                        },\n                        {\n                            &quot;dataCase_&quot;: 5,\n                            &quot;data_&quot;: {\n                                &quot;dataPoints_&quot;: [\n                                    {\n                                        &quot;valueCase_&quot;: 4,\n                                        &quot;value_&quot;: 0.81,\n                                        &quot;attributes_&quot;: [\n                                            {\n                                                &quot;key_&quot;: &quot;loki.attribute.labels&quot;,\n                                                &quot;value_&quot;: {\n                                                    &quot;valueCase_&quot;: 1,\n                                                    &quot;value_&quot;: &quot;http.status_code&quot;,\n                                                    &quot;memoizedIsInitialized&quot;: -1,\n                                                    &quot;unknownFields&quot;: {\n                                                        &quot;fields&quot;: {}\n                                                    },\n                                                    &quot;memoizedSize&quot;: -1,\n                                                    &quot;memoizedHashCode&quot;: 0\n                                                },\n                                                &quot;memoizedIsInitialized&quot;: -1,\n                                                &quot;unknownFields&quot;: {\n                                                    &quot;fields&quot;: {}\n                                                },\n                                                &quot;memoizedSize&quot;: -1,\n                                                &quot;memoizedHashCode&quot;: 0\n                                            }\n                                        ],\n                                        &quot;startTimeUnixNano_&quot;: 1673933623000000000,\n                                        &quot;timeUnixNano_&quot;: 1673962743472355755,\n                                        &quot;exemplars_&quot;: [],\n                                        &quot;flags_&quot;: 0,\n                                        &quot;memoizedIsInitialized&quot;: -1,\n                                        &quot;unknownFields&quot;: {\n                                            &quot;fields&quot;: {}\n                                        },\n                                        &quot;memoizedSize&quot;: -1,\n                                        &quot;memoizedHashCode&quot;: 0\n                                    }\n                                ],\n                                &quot;memoizedIsInitialized&quot;: -1,\n                                &quot;unknownFields&quot;: {\n                                    &quot;fields&quot;: {}\n                                },\n                                &quot;memoizedSize&quot;: -1,\n                                &quot;memoizedHashCode&quot;: 0\n                            },\n                            &quot;name_&quot;: &quot;system.cpu.load_average.5m&quot;,\n                            &quot;description_&quot;: &quot;Average CPU Load over 5 minutes.&quot;,\n                            &quot;unit_&quot;: &quot;1&quot;,\n                            &quot;memoizedIsInitialized&quot;: -1,\n                            &quot;unknownFields&quot;: {\n                                &quot;fields&quot;: {}\n                            },\n                            &quot;memoizedSize&quot;: -1,\n                            &quot;memoizedHashCode&quot;: 0\n                        }\n                    ],\n                    &quot;schemaUrl_&quot;: &quot;&quot;,\n                    &quot;memoizedIsInitialized&quot;: -1,\n                    &quot;unknownFields&quot;: {\n                        &quot;fields&quot;: {}\n                    },\n                    &quot;memoizedSize&quot;: -1,\n                    &quot;memoizedHashCode&quot;: 0\n                }\n            ],\n            &quot;schemaUrl_&quot;: &quot;https://opentelemetry.io/schemas/1.9.0&quot;,\n            &quot;memoizedIsInitialized&quot;: -1,\n            &quot;unknownFields&quot;: {\n                &quot;fields&quot;: {}\n            },\n            &quot;memoizedSize&quot;: -1,\n            &quot;memoizedHashCode&quot;: 0\n        }\n    ],\n    &quot;memoizedIsInitialized&quot;: 1,\n    &quot;unknownFields&quot;: {\n        &quot;fields&quot;: {}\n    },\n    &quot;memoizedSize&quot;: -1,\n    &quot;memoizedHashCode&quot;: 0\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/6vaM3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6vaM3.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Collector Logs:</strong>\n<a href=\"https://i.stack.imgur.com/az9G6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/az9G6.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":13982649,"reputation":364,"user_id":10098462,"display_name":"jackssrt"},"score":0,"creation_date":1674153761,"post_id":75176873,"comment_id":132659767,"body_markdown":"Please don&#39;t post images of your code, but instead use code blocks.","body":"Please don&#39;t post images of your code, but instead use code blocks."},{"owner":{"account_id":14605414,"reputation":11,"user_id":19660868,"display_name":"lugowyties"},"score":0,"creation_date":1674153993,"post_id":75176873,"comment_id":132659839,"body_markdown":"Sorry, I don&#39;t use this website regularly","body":"Sorry, I don&#39;t use this website regularly"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":3,"creation_date":1674154447,"post_id":75176873,"comment_id":132659980,"body_markdown":"Off-topic:  A better design would be to have a class that has both a name and a score: `class Student { String name; int score; ...` You can create a [`Comparator`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Comparator.html) to find the Student with the maximum score. https://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#max(java.util.Collection,%20java.util.Comparator)","body":"Off-topic:  A better design would be to have a class that has both a name and a score: <code>class Student { String name; int score; ...</code> You can create a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Comparator.html\" rel=\"nofollow noreferrer\"><code>Comparator</code></a> to find the Student with the maximum score. <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#max(java.util.Collection,%20java.util.Comparator)\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":14605414,"reputation":11,"user_id":19660868,"display_name":"lugowyties"},"score":0,"creation_date":1674154899,"post_id":75176906,"comment_id":132660137,"body_markdown":"My original post had a few errors. I fixed them.","body":"My original post had a few errors. I fixed them."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1674165810,"post_id":75176906,"comment_id":132663253,"body_markdown":"@lugowyties Do you understand Queeg&#39;s answer?","body":"@lugowyties Do you understand Queeg&#39;s answer?"}],"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674161315,"creation_date":1674153720,"answer_id":75176906,"question_id":75176873,"body_markdown":"First find the element with the highest value. Remember the index at which you found that value.\r\n\r\nThen print from both arraylists the element with the index you remembered before.\r\n\r\nWith the line\r\n\r\n    Integer max = Collections.max(scores);\r\n\r\nyou get the maximum value easily, but you do not know at which index it occurred. Find another way to get the max, since actually you are interested in the index, not the value.","title":"Printing the corresponding item of two ArrayLists?","body":"<p>First find the element with the highest value. Remember the index at which you found that value.</p>\n<p>Then print from both arraylists the element with the index you remembered before.</p>\n<p>With the line</p>\n<pre><code>Integer max = Collections.max(scores);\n</code></pre>\n<p>you get the maximum value easily, but you do not know at which index it occurred. Find another way to get the max, since actually you are interested in the index, not the value.</p>\n"}],"owner":{"account_id":14605414,"reputation":11,"user_id":19660868,"display_name":"lugowyties"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1674161315,"creation_date":1674153536,"question_id":75176873,"body_markdown":"[1] I want to print out the highest value from the second ArrayList (300) with its corresponding name from the first ArrayList (in this case, Abraham Lincoln)\r\n\r\nEx. &quot;Abraham Lincoln 300&quot;\r\n\r\nWith the code I&#39;ve already written, the entirety of the first ArrayList and the highest value in the second ArrayList will print.\r\n\r\nHow could I go about this? I tried using an index method but I was unsure how to properly apply it.\r\n\r\n\r\n \r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    \r\n    public class Names {\r\n    \tpublic static void main(String args[]){\r\n    \r\n    ArrayList&lt;String&gt; students = new ArrayList&lt;&gt;();\r\n    students.add(&quot;John F. Kennedy&quot;);\r\n    students.add(&quot;Donald Trump&quot;);\r\n    students.add(&quot;Theodore Roosevelt&quot;);\r\n    students.add(&quot;Abraham Lincoln&quot;);\r\n    students.add(&quot;Millard Fillmore&quot;);\r\n    \r\n    System.out.println(students);\r\n    \r\n    ArrayList&lt;Integer&gt; scores = new ArrayList&lt;&gt;();\r\n    scores.add(100);\r\n    scores.add(250);\r\n    scores.add(120);\r\n    scores.add(300);\r\n    scores.add(200);\r\n    \r\n    Integer max = Collections.max(scores);\r\n    System.out.println(max); \r\n    \t}\r\n    }","title":"Printing the corresponding item of two ArrayLists?","body":"<p>[1] I want to print out the highest value from the second ArrayList (300) with its corresponding name from the first ArrayList (in this case, Abraham Lincoln)</p>\n<p>Ex. &quot;Abraham Lincoln 300&quot;</p>\n<p>With the code I've already written, the entirety of the first ArrayList and the highest value in the second ArrayList will print.</p>\n<p>How could I go about this? I tried using an index method but I was unsure how to properly apply it.</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\n\npublic class Names {\n    public static void main(String args[]){\n\nArrayList&lt;String&gt; students = new ArrayList&lt;&gt;();\nstudents.add(&quot;John F. Kennedy&quot;);\nstudents.add(&quot;Donald Trump&quot;);\nstudents.add(&quot;Theodore Roosevelt&quot;);\nstudents.add(&quot;Abraham Lincoln&quot;);\nstudents.add(&quot;Millard Fillmore&quot;);\n\nSystem.out.println(students);\n\nArrayList&lt;Integer&gt; scores = new ArrayList&lt;&gt;();\nscores.add(100);\nscores.add(250);\nscores.add(120);\nscores.add(300);\nscores.add(200);\n\nInteger max = Collections.max(scores);\nSystem.out.println(max); \n    }\n}\n</code></pre>\n"},{"tags":["java","eclipse","classpath"],"answers":[{"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"comment_count":0,"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1469799099,"creation_date":1407336147,"answer_id":25163361,"question_id":25162773,"body_markdown":"In Eclipse, there is a build classpath and a runtime classpath. There is also the build output location, which by default is `bin`. You don&#39;t want to add resources directly to `bin` because Eclipse can delete its contents when doing a clean build. What you need to do is add a `resources` folder in your project to contain any non-Java files that you want included in your build output.\r\n\r\nTo include the contents of this `resources` folder in the build output (`bin`), right-click the project and select Properties. In the Project Properties, select the **Java Build Path** section, then the **Source** tab.\r\n\r\n![enter image description here][1]\r\n\r\nUse the **Add Folder...** button to select the `resources` folder from your project, then **OK** to save the changes. At that point, Eclipse will automatically copy everything from `resources` into `bin` when it builds.\r\n\r\n  [1]: http://i.stack.imgur.com/zOOlY.png","title":"How do I add a directory to the eclipse classpath?","body":"<p>In Eclipse, there is a build classpath and a runtime classpath. There is also the build output location, which by default is <code>bin</code>. You don't want to add resources directly to <code>bin</code> because Eclipse can delete its contents when doing a clean build. What you need to do is add a <code>resources</code> folder in your project to contain any non-Java files that you want included in your build output.</p>\n\n<p>To include the contents of this <code>resources</code> folder in the build output (<code>bin</code>), right-click the project and select Properties. In the Project Properties, select the <strong>Java Build Path</strong> section, then the <strong>Source</strong> tab.</p>\n\n<p><img src=\"https://i.stack.imgur.com/zOOlY.png\" alt=\"enter image description here\"></p>\n\n<p>Use the <strong>Add Folder...</strong> button to select the <code>resources</code> folder from your project, then <strong>OK</strong> to save the changes. At that point, Eclipse will automatically copy everything from <code>resources</code> into <code>bin</code> when it builds.</p>\n"},{"tags":[],"owner":{"account_id":7394270,"reputation":41,"user_id":5626736,"display_name":"Vivek Vardhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1476779499,"creation_date":1476779499,"answer_id":40103303,"question_id":25162773,"body_markdown":"Right Click on the *project-name* in **Package Explorer**, select **Properties**, select **Java Build Path** on the left, select **Source** tab on the right, click on **Add Folder**, browse through the project&#39;s directories to select the resources folder or whatever you need to add to the eclipse classpath, hit **OK**, again hit **OK**. Done.","title":"How do I add a directory to the eclipse classpath?","body":"<p>Right Click on the <em>project-name</em> in <strong>Package Explorer</strong>, select <strong>Properties</strong>, select <strong>Java Build Path</strong> on the left, select <strong>Source</strong> tab on the right, click on <strong>Add Folder</strong>, browse through the project's directories to select the resources folder or whatever you need to add to the eclipse classpath, hit <strong>OK</strong>, again hit <strong>OK</strong>. Done.</p>\n"},{"tags":[],"owner":{"account_id":4041783,"reputation":71,"user_id":3324410,"display_name":"user3324410"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1502919904,"creation_date":1502917428,"answer_id":45722968,"question_id":25162773,"body_markdown":"This is for a maven project:\r\n\r\n 1. Right click on project\r\n 2. click on run configurations\r\n 3. click on the classpath tab (Oxygen Eclipse)\r\n 4. click on user entries\r\n 5.  click on Advanced\r\n 6. first radio selection default should be &#39;Add Folders&#39;\r\n 7. click OK\r\n\r\n\r\n\r\n","title":"How do I add a directory to the eclipse classpath?","body":"<p>This is for a maven project:</p>\n\n<ol>\n<li>Right click on project</li>\n<li>click on run configurations</li>\n<li>click on the classpath tab (Oxygen Eclipse)</li>\n<li>click on user entries</li>\n<li>click on Advanced</li>\n<li>first radio selection default should be 'Add Folders'</li>\n<li>click OK</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":13269596,"reputation":21,"user_id":9581112,"display_name":"Rajesh Guna"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1523223040,"creation_date":1523222929,"answer_id":49722956,"question_id":25162773,"body_markdown":"Follow these steps to get this issue fixed:\r\n\r\n1. Right click on Project\r\n1. Click on Run As and select Run Configurations\r\n1. Click on the classpath tab (Oxygen Eclipse)\r\n1. Click on user entries\r\n1. Click on Add External JARs.. and choose the downloaded JAR file\r\n1. Click Apply and run your project...\r\n","title":"How do I add a directory to the eclipse classpath?","body":"<p>Follow these steps to get this issue fixed:</p>\n\n<ol>\n<li>Right click on Project</li>\n<li>Click on Run As and select Run Configurations</li>\n<li>Click on the classpath tab (Oxygen Eclipse)</li>\n<li>Click on user entries</li>\n<li>Click on Add External JARs.. and choose the downloaded JAR file</li>\n<li>Click Apply and run your project...</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2168414,"reputation":1,"user_id":2521889,"display_name":"Phil A"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602127074,"creation_date":1602127074,"answer_id":64255284,"question_id":25162773,"body_markdown":"If you don&#39;t want the properties file to be copied to the bin folder, you can try the following:\r\n\r\n1. Right click your project, select **Build Path**, select **Configure Build Path..**\r\n\r\n2. Select **Libraries** tab\r\n\r\n3. Select **Add class folder..**\r\n\r\n4. Add your resource folder.","title":"How do I add a directory to the eclipse classpath?","body":"<p>If you don't want the properties file to be copied to the bin folder, you can try the following:</p>\n<ol>\n<li><p>Right click your project, select <strong>Build Path</strong>, select <strong>Configure Build Path..</strong></p>\n</li>\n<li><p>Select <strong>Libraries</strong> tab</p>\n</li>\n<li><p>Select <strong>Add class folder..</strong></p>\n</li>\n<li><p>Add your resource folder.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":2528231,"reputation":667,"user_id":2197116,"accept_rate":73,"display_name":"user2197116"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61465,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":25163361,"answer_count":5,"score":18,"last_activity_date":1674160200,"creation_date":1407334647,"question_id":25162773,"body_markdown":"I&#39;m attempting to run an already existing eclipse project created by another person.  \r\nAfter importing it to eclipse, and attempting to Run As-&gt;Java Application, it fails because it cannot find a .properties file in bin/resources\r\n\r\nI printed out the classpath eclipse was using\r\n\r\n    logger.info(System.getProperty(&quot;java.class.path&quot;));\r\n\r\nand sure enough, it includes bin, and all the lib/*.jars, but not bin/resources. Copying the .properties file into bin makes the program work, but I wanted to understand how to add a directory to the eclipse classpath. \r\n\r\nI tried several things, none of which worked\r\n\r\n    export CLASSPATH=$CLASSPATH:/home/me/programdir/bin/resources\r\n\r\nThis didn&#39;t work. I understand it&#39;s not a desirable way to approach the issue, but I had thought it would fix the problem (I have more of a windows than linux background so perhaps I am missing some nuances of system variables in linux)\r\n\r\nNext up, I tried modifying the VM arguments in the Run-&gt;Configurations dialog in Eclipse\r\n\r\n    -classpath &quot;/home/me/programdir/bin/resources&quot;\r\n\r\nNo luck here either, which confused me, as I was sure it would work and seemed like a reasonable solution to a specific program needing one additional folder added to the classpath. \r\n\r\nNext I tried modifying build.xml directly. I found the part that defines the classpath and added my own line for bin/resources, as follows:\r\n\r\n\t&lt;path id=&quot;classpath&quot;&gt;\r\n\t    &lt;fileset dir=&quot;./bin/resources&quot; includes=&quot;**/*.properties&quot;/&gt;\r\n\t\t&lt;fileset dir=&quot;./lib&quot; includes=&quot;**/*.jar&quot; /&gt; \r\n\t&lt;/path&gt;\r\n\r\nthis too was unsuccessful. This perplexed me even more, so I commented out the entire path element, and the classpath printed out  by the logger was unchanged, so it is apparent that whatever classpath eclipse was using, it certainly wasn&#39;t this one. This seemed to me the best solution, had it worked: the build.xml file could be checked in with the correct additions to prevent future users from experiencing the problem. \r\n\r\nNext I tried the IDE approach. Run-&gt;Configurations-&gt;Classpath-&gt; User Entries-&gt;Advanced and simply added the bin/resources folder. That worked perfectly, the program finds the properties file, all is well. However, I am dissatisfied that my previous efforts failed without me really understanding why. It seems that each one should have worked. \r\n\r\nAdditionally, I want to ensure that I fix this problem in such a way that it is captured by the code I check in so that subsequent users do not have to go through the same steps. My solution is thus not very satisfactory as I am not sure what actual piece of code changed, and thus cannot verify that the &#39;fix&#39; is checked in. \r\n\r\nHow do you find the actual definition that eclipse is using for its classpath? I had thought it would be the build.xml classpath definition, but that did not seem to be the case at all. ","title":"How do I add a directory to the eclipse classpath?","body":"<p>I'm attempting to run an already existing eclipse project created by another person.<br>\nAfter importing it to eclipse, and attempting to Run As->Java Application, it fails because it cannot find a .properties file in bin/resources</p>\n\n<p>I printed out the classpath eclipse was using</p>\n\n<pre><code>logger.info(System.getProperty(\"java.class.path\"));\n</code></pre>\n\n<p>and sure enough, it includes bin, and all the lib/*.jars, but not bin/resources. Copying the .properties file into bin makes the program work, but I wanted to understand how to add a directory to the eclipse classpath. </p>\n\n<p>I tried several things, none of which worked</p>\n\n<pre><code>export CLASSPATH=$CLASSPATH:/home/me/programdir/bin/resources\n</code></pre>\n\n<p>This didn't work. I understand it's not a desirable way to approach the issue, but I had thought it would fix the problem (I have more of a windows than linux background so perhaps I am missing some nuances of system variables in linux)</p>\n\n<p>Next up, I tried modifying the VM arguments in the Run->Configurations dialog in Eclipse</p>\n\n<pre><code>-classpath \"/home/me/programdir/bin/resources\"\n</code></pre>\n\n<p>No luck here either, which confused me, as I was sure it would work and seemed like a reasonable solution to a specific program needing one additional folder added to the classpath. </p>\n\n<p>Next I tried modifying build.xml directly. I found the part that defines the classpath and added my own line for bin/resources, as follows:</p>\n\n<pre><code>&lt;path id=\"classpath\"&gt;\n    &lt;fileset dir=\"./bin/resources\" includes=\"**/*.properties\"/&gt;\n    &lt;fileset dir=\"./lib\" includes=\"**/*.jar\" /&gt; \n&lt;/path&gt;\n</code></pre>\n\n<p>this too was unsuccessful. This perplexed me even more, so I commented out the entire path element, and the classpath printed out  by the logger was unchanged, so it is apparent that whatever classpath eclipse was using, it certainly wasn't this one. This seemed to me the best solution, had it worked: the build.xml file could be checked in with the correct additions to prevent future users from experiencing the problem. </p>\n\n<p>Next I tried the IDE approach. Run->Configurations->Classpath-> User Entries->Advanced and simply added the bin/resources folder. That worked perfectly, the program finds the properties file, all is well. However, I am dissatisfied that my previous efforts failed without me really understanding why. It seems that each one should have worked. </p>\n\n<p>Additionally, I want to ensure that I fix this problem in such a way that it is captured by the code I check in so that subsequent users do not have to go through the same steps. My solution is thus not very satisfactory as I am not sure what actual piece of code changed, and thus cannot verify that the 'fix' is checked in. </p>\n\n<p>How do you find the actual definition that eclipse is using for its classpath? I had thought it would be the build.xml classpath definition, but that did not seem to be the case at all. </p>\n"},{"tags":["java","android","animation","android-intent","android-activity"],"answers":[{"tags":[],"owner":{"account_id":217372,"reputation":774,"user_id":473140,"accept_rate":86,"display_name":"CoolMcGrrr"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1480313476,"creation_date":1286875756,"answer_id":3913210,"question_id":3504619,"body_markdown":"You should take a look [Activity.overridePendingTransition()][1].\r\n\r\nOf course, this requires that you run at least version 2.0 of the SDK.\r\n\r\n  [1]: http://developer.android.com/reference/android/app/Activity.html#overridePendingTransition(int,%20int)","title":"Animation transition between activities using FLAG_ACTIVITY_CLEAR_TOP","body":"<p>You should take a look <a href=\"http://developer.android.com/reference/android/app/Activity.html#overridePendingTransition(int,%20int)\" rel=\"nofollow noreferrer\">Activity.overridePendingTransition()</a>.</p>\n\n<p>Of course, this requires that you run at least version 2.0 of the SDK.</p>\n"},{"comments":[{"owner":{"account_id":485360,"reputation":20815,"user_id":901641,"accept_rate":78,"display_name":"ArtOfWarfare"},"score":1,"creation_date":1345211861,"post_id":6496809,"comment_id":16016633,"body_markdown":"Seems to be a better answer to me, given E-Riz actually answered the question rather than just post a link as CoolMcGrrr did. Then again E-Riz was 8 months later to answer it.","body":"Seems to be a better answer to me, given E-Riz actually answered the question rather than just post a link as CoolMcGrrr did. Then again E-Riz was 8 months later to answer it."},{"owner":{"account_id":404827,"reputation":4950,"user_id":773363,"accept_rate":93,"display_name":"Apqu"},"score":0,"creation_date":1395916077,"post_id":6496809,"comment_id":34559250,"body_markdown":"Where would you call the overridePendingTransition? Before or after startActivity?","body":"Where would you call the overridePendingTransition? Before or after startActivity?"},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1395923203,"post_id":6496809,"comment_id":34564272,"body_markdown":"@Tur, just read the Javadoc: http://developer.android.com/reference/android/app/Activity.html#overridePendingTransition(int, int)","body":"@Tur, just read the Javadoc: <a href=\"http://developer.android.com/reference/android/app/Activity.html#overridePendingTransition(int\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/app/&hellip;</a>, int)"}],"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"comment_count":3,"down_vote_count":0,"up_vote_count":47,"is_accepted":true,"score":47,"last_activity_date":1480313736,"creation_date":1309196862,"answer_id":6496809,"question_id":3504619,"body_markdown":"CoolMcGrr is right, you want to use [`overridePendingTransition(int enterAnim, int exitAnim)`][1].\r\n\r\nTo specifically get the standard &quot;back button&quot; transition, I use these as the `enterAnim` and `exitAnim` transitions:\r\n\r\n**push_right_in.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;set xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    \t&lt;translate android:fromXDelta=&quot;-100%p&quot; android:toXDelta=&quot;0&quot; android:duration=&quot;@android:integer/config_shortAnimTime&quot;/&gt;\r\n    \t&lt;alpha android:fromAlpha=&quot;0.0&quot; android:toAlpha=&quot;1.0&quot; android:duration=&quot;@android:integer/config_shortAnimTime&quot; /&gt;\r\n    &lt;/set&gt;\r\n\r\n\r\n----------\r\n**push_right_out.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;set xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    \t&lt;translate android:fromXDelta=&quot;0&quot; android:toXDelta=&quot;100%p&quot; android:duration=&quot;@android:integer/config_shortAnimTime&quot;/&gt;\r\n    \t&lt;alpha android:fromAlpha=&quot;1.0&quot; android:toAlpha=&quot;0.0&quot; android:duration=&quot;@android:integer/config_shortAnimTime&quot; /&gt;\r\n    &lt;/set&gt;\r\n\r\n[1]: https://developer.android.com/reference/android/app/Activity.html#overridePendingTransition(int%2C%20int)","title":"Animation transition between activities using FLAG_ACTIVITY_CLEAR_TOP","body":"<p>CoolMcGrr is right, you want to use <a href=\"https://developer.android.com/reference/android/app/Activity.html#overridePendingTransition(int%2C%20int)\" rel=\"nofollow noreferrer\"><code>overridePendingTransition(int enterAnim, int exitAnim)</code></a>.</p>\n\n<p>To specifically get the standard \"back button\" transition, I use these as the <code>enterAnim</code> and <code>exitAnim</code> transitions:</p>\n\n<p><strong>push_right_in.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;set xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n    &lt;translate android:fromXDelta=\"-100%p\" android:toXDelta=\"0\" android:duration=\"@android:integer/config_shortAnimTime\"/&gt;\n    &lt;alpha android:fromAlpha=\"0.0\" android:toAlpha=\"1.0\" android:duration=\"@android:integer/config_shortAnimTime\" /&gt;\n&lt;/set&gt;\n</code></pre>\n\n<hr>\n\n<p><strong>push_right_out.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;set xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n    &lt;translate android:fromXDelta=\"0\" android:toXDelta=\"100%p\" android:duration=\"@android:integer/config_shortAnimTime\"/&gt;\n    &lt;alpha android:fromAlpha=\"1.0\" android:toAlpha=\"0.0\" android:duration=\"@android:integer/config_shortAnimTime\" /&gt;\n&lt;/set&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":187685,"reputation":2246,"user_id":425932,"display_name":"dzeikei"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1350887821,"creation_date":1350887821,"answer_id":13006088,"question_id":3504619,"body_markdown":"Problem occurs nowadays because pre-ICS and ICS have different built-in activity transitions.\r\nThis is much cleaner than defining your own animation and SDK independant:\r\n\r\n    Intent intent = new Intent(this, MMConnection.class);\r\n    intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP|Intent.FLAG_ACTIVITY_NO_ANIMATION);\r\n    this.startActivity(intent);\r\n    finish();\r\n\r\nThis will start the activity (not visible yet) and play the &quot;activity finish&quot; transition to the new activity.","title":"Animation transition between activities using FLAG_ACTIVITY_CLEAR_TOP","body":"<p>Problem occurs nowadays because pre-ICS and ICS have different built-in activity transitions.\nThis is much cleaner than defining your own animation and SDK independant:</p>\n\n<pre><code>Intent intent = new Intent(this, MMConnection.class);\nintent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP|Intent.FLAG_ACTIVITY_NO_ANIMATION);\nthis.startActivity(intent);\nfinish();\n</code></pre>\n\n<p>This will start the activity (not visible yet) and play the \"activity finish\" transition to the new activity.</p>\n"},{"tags":[],"owner":{"account_id":2401597,"reputation":9579,"user_id":3240381,"accept_rate":74,"display_name":"Cabezas"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1486983901,"creation_date":1409845607,"answer_id":25669749,"question_id":3504619,"body_markdown":"I used this code:\r\n\r\n    overridePendingTransition(android.R.anim.fade_in, android.R.anim.fade_out);\r\n\r\nYou can see these examples in [GmailAnimation][1] or [LopeAnimations][2]. Also you can see more in this [Blog][3].\r\n\r\n\r\n  [1]: https://github.com/CabezasGonzalezJavier/GmailAnimation\r\n  [2]: https://github.com/CabezasGonzalezJavier/LopeAnimations\r\n  [3]: http://thedeveloperworldisyours.com/android/gmail-overriding-pending-transition/#sthash.CEhJwJLg.dpbs","title":"Animation transition between activities using FLAG_ACTIVITY_CLEAR_TOP","body":"<p>I used this code:</p>\n\n<pre><code>overridePendingTransition(android.R.anim.fade_in, android.R.anim.fade_out);\n</code></pre>\n\n<p>You can see these examples in <a href=\"https://github.com/CabezasGonzalezJavier/GmailAnimation\" rel=\"nofollow noreferrer\">GmailAnimation</a> or <a href=\"https://github.com/CabezasGonzalezJavier/LopeAnimations\" rel=\"nofollow noreferrer\">LopeAnimations</a>. Also you can see more in this <a href=\"http://thedeveloperworldisyours.com/android/gmail-overriding-pending-transition/#sthash.CEhJwJLg.dpbs\" rel=\"nofollow noreferrer\">Blog</a>.</p>\n"}],"owner":{"account_id":133099,"reputation":11077,"user_id":334209,"accept_rate":82,"display_name":"Romain Piel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59602,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":6496809,"answer_count":4,"score":35,"last_activity_date":1674160118,"creation_date":1282061765,"question_id":3504619,"body_markdown":"In my android app, I&#39;m making a method that pop all activities and bring up the first activity.\r\n\r\nI use this code:\r\n\r\n    Intent intent = new Intent(this, MMConnection.class);\r\n    intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n    this.startActivity(intent);\r\n\r\nAs I noticed that the transition was still a left to right animation, does someone know if there is a way to change system animation when starting an activity?\r\n\r\nActually, I&#39;d ideally like to have a right to left transition (like when the return button is tapped)\r\n\r\nthanks for help!","title":"Animation transition between activities using FLAG_ACTIVITY_CLEAR_TOP","body":"<p>In my android app, I'm making a method that pop all activities and bring up the first activity.</p>\n\n<p>I use this code:</p>\n\n<pre><code>Intent intent = new Intent(this, MMConnection.class);\nintent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\nthis.startActivity(intent);\n</code></pre>\n\n<p>As I noticed that the transition was still a left to right animation, does someone know if there is a way to change system animation when starting an activity?</p>\n\n<p>Actually, I'd ideally like to have a right to left transition (like when the return button is tapped)</p>\n\n<p>thanks for help!</p>\n"},{"tags":["java","android","eclipse","certificate","keystore"],"comments":[{"owner":{"account_id":1037230,"reputation":836,"user_id":1044153,"display_name":"Sebastian Olsson"},"score":0,"creation_date":1329925546,"post_id":9398019,"comment_id":11874696,"body_markdown":"Which OS are you running? ~/.android/debug.keystore will only work on unix like operating systems","body":"Which OS are you running? ~/.android/debug.keystore will only work on unix like operating systems"},{"owner":{"account_id":353320,"reputation":6609,"user_id":690952,"display_name":"Selvin"},"score":4,"creation_date":1329925873,"post_id":9398019,"comment_id":11874854,"body_markdown":"and %USERPROFILE%\\.android\\debug.keystore will work on windows","body":"and %USERPROFILE%\\.android\\debug.keystore will work on windows"},{"owner":{"account_id":1202824,"reputation":673,"user_id":1173126,"accept_rate":33,"display_name":"user1173126"},"score":0,"creation_date":1329926992,"post_id":9398019,"comment_id":11875372,"body_markdown":"OSX 10.6 If I remember correctly.","body":"OSX 10.6 If I remember correctly."}],"answers":[{"comments":[{"owner":{"account_id":1202824,"reputation":673,"user_id":1173126,"accept_rate":33,"display_name":"user1173126"},"score":0,"creation_date":1329927441,"post_id":9398066,"comment_id":11875544,"body_markdown":"the thing is with the cd command, I manage to go to smthg like ~/Documents/Work/Workspace/SDK Android(which is where i put my android sdk)/.DS_Store    and there, when i push tab there is the .android/debug.keystore file. But it makes no sense, it seems to be in a file.","body":"the thing is with the cd command, I manage to go to smthg like ~/Documents/Work/Workspace/SDK Android(which is where i put my android sdk)/.DS_Store    and there, when i push tab there is the .android/debug.keystore file. But it makes no sense, it seems to be in a file."}],"tags":[],"owner":{"account_id":185392,"reputation":17382,"user_id":422060,"accept_rate":100,"display_name":"Ben Weiss"},"comment_count":1,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1441878936,"creation_date":1329925547,"answer_id":9398066,"question_id":9398019,"body_markdown":"On Linux / OSX use your favorite terminal and type `rm ~/.android/debug.keystore` to remove the debug keystore.\r\n\r\nYou can create a new keystore after that by [following these steps][1].\r\n\r\n\r\n  [1]: http://developer.android.com/guide/publishing/app-signing.html#debugmode","title":"I can&#39;t find the debug.keystore file","body":"<p>On Linux / OSX use your favorite terminal and type <code>rm ~/.android/debug.keystore</code> to remove the debug keystore.</p>\n\n<p>You can create a new keystore after that by <a href=\"http://developer.android.com/guide/publishing/app-signing.html#debugmode\" rel=\"noreferrer\">following these steps</a>.</p>\n"},{"tags":[],"owner":{"account_id":262258,"reputation":64223,"user_id":546999,"accept_rate":97,"display_name":"Nanne"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1329925798,"creation_date":1329925798,"answer_id":9398138,"question_id":9398019,"body_markdown":"I believe it is in the `.android/avd/` directory in OSX, but it could also be just in `/.android/` as you suggest.\r\n\r\nRemember that `~` means your home directory, so you do not need to look for it in your SDK!\r\n\r\n(disclaimer) It&#39;s been a while since [I&#39;ve battled with this][1], and I didn&#39;t do it on a mac.\r\n\r\n\r\n  [1]: http://androblip.huiges.nl/2010/08/25/android-debug-key-expiration-sdkeclipse/","title":"I can&#39;t find the debug.keystore file","body":"<p>I believe it is in the <code>.android/avd/</code> directory in OSX, but it could also be just in <code>/.android/</code> as you suggest.</p>\n\n<p>Remember that <code>~</code> means your home directory, so you do not need to look for it in your SDK!</p>\n\n<p>(disclaimer) It's been a while since <a href=\"http://androblip.huiges.nl/2010/08/25/android-debug-key-expiration-sdkeclipse/\" rel=\"nofollow\">I've battled with this</a>, and I didn't do it on a mac.</p>\n"},{"comments":[{"owner":{"account_id":1202824,"reputation":673,"user_id":1173126,"accept_rate":33,"display_name":"user1173126"},"score":0,"creation_date":1329926748,"post_id":9398185,"comment_id":11875260,"body_markdown":"Yeah I know all this. The thing is, there is no debug.keystore file in mine. And that&#39;s my problem btw...","body":"Yeah I know all this. The thing is, there is no debug.keystore file in mine. And that&#39;s my problem btw..."}],"tags":[],"owner":{"account_id":296946,"reputation":973,"user_id":602198,"display_name":"Marcell"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1329925948,"creation_date":1329925948,"answer_id":9398185,"question_id":9398019,"body_markdown":"Expiry of the Debug Certificate\r\n\r\nThe self-signed certificate used to sign your application in debug mode (the default on Eclipse/ADT and Ant builds) will have an expiration date of 365 days from its creation date.\r\n\r\nWhen the certificate expires, you will get a build error. On Ant builds, the error looks like this:\r\n\r\ndebug:\r\n[echo] Packaging bin/samples-debug.apk, and signing it with a debug key...\r\n[exec] Debug Certificate expired on 8/4/08 3:43 PM\r\nIn Eclipse/ADT, you will see a similar error in the Android console.\r\n\r\nTo fix this problem, simply delete the debug.keystore file. The default storage location for AVDs is in ~/.android/ on OS X and Linux, in C:\\Documents and Settings\\&lt;user&gt;\\.android\\ on Windows XP, and in C:\\Users\\&lt;user&gt;\\.android\\ on Windows Vista and Windows 7.\r\n\r\nSource: Android Publishing Guide:\r\nhttp://developer.android.com/guide/publishing/app-signing.html","title":"I can&#39;t find the debug.keystore file","body":"<p>Expiry of the Debug Certificate</p>\n\n<p>The self-signed certificate used to sign your application in debug mode (the default on Eclipse/ADT and Ant builds) will have an expiration date of 365 days from its creation date.</p>\n\n<p>When the certificate expires, you will get a build error. On Ant builds, the error looks like this:</p>\n\n<p>debug:\n[echo] Packaging bin/samples-debug.apk, and signing it with a debug key...\n[exec] Debug Certificate expired on 8/4/08 3:43 PM\nIn Eclipse/ADT, you will see a similar error in the Android console.</p>\n\n<p>To fix this problem, simply delete the debug.keystore file. The default storage location for AVDs is in ~/.android/ on OS X and Linux, in C:\\Documents and Settings\\.android\\ on Windows XP, and in C:\\Users\\.android\\ on Windows Vista and Windows 7.</p>\n\n<p>Source: Android Publishing Guide:\n<a href=\"http://developer.android.com/guide/publishing/app-signing.html\" rel=\"nofollow\">http://developer.android.com/guide/publishing/app-signing.html</a></p>\n"},{"comments":[{"owner":{"account_id":1193354,"reputation":1898,"user_id":1165643,"accept_rate":47,"display_name":"pete"},"score":3,"creation_date":1498868881,"post_id":9398619,"comment_id":76693286,"body_markdown":"Where is it in android studio","body":"Where is it in android studio"}],"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"comment_count":1,"down_vote_count":1,"up_vote_count":122,"is_accepted":false,"score":121,"last_activity_date":1329927410,"creation_date":1329927410,"answer_id":9398619,"question_id":9398019,"body_markdown":"Open Eclipse Preferences, then navigate to **Android** &gt; **Build**. There you&#39;ll see a field that tells the location of your debug keystore.","title":"I can&#39;t find the debug.keystore file","body":"<p>Open Eclipse Preferences, then navigate to <strong>Android</strong> > <strong>Build</strong>. There you'll see a field that tells the location of your debug keystore.</p>\n"}],"owner":{"account_id":1202824,"reputation":673,"user_id":1173126,"accept_rate":33,"display_name":"user1173126"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70483,"favorite_count":0,"down_vote_count":1,"up_vote_count":53,"answer_count":4,"score":52,"last_activity_date":1674160052,"creation_date":1329925411,"question_id":9398019,"body_markdown":"I&#39;m having an error with Eclipse and Android&#39;s SDK. apparently, it comes from the fact that my certificate expired. So I googled the error and I found that I have to remove the ~/.android/debug.keystore file. The thing is I can&#39;t find this file. It&#39;s not in my SDK.\r\n\r\nCan someone help me with this ?\r\n\r\nEdit: I work on Mac.","title":"I can&#39;t find the debug.keystore file","body":"<p>I'm having an error with Eclipse and Android's SDK. apparently, it comes from the fact that my certificate expired. So I googled the error and I found that I have to remove the ~/.android/debug.keystore file. The thing is I can't find this file. It's not in my SDK.</p>\n\n<p>Can someone help me with this ?</p>\n\n<p>Edit: I work on Mac.</p>\n"},{"tags":["java","android","android-alertdialog"],"answers":[{"comments":[{"owner":{"account_id":204397,"reputation":1469,"user_id":452584,"accept_rate":71,"display_name":"LuckyStarr"},"score":3,"creation_date":1302774461,"post_id":5661039,"comment_id":6458904,"body_markdown":"from  variable is not final, you can&#39;t use it into the inner class.","body":"from  variable is not final, you can&#39;t use it into the inner class."}],"tags":[],"owner":{"account_id":310854,"reputation":33070,"user_id":624069,"accept_rate":66,"display_name":"Niranj Patel"},"comment_count":1,"down_vote_count":2,"up_vote_count":12,"is_accepted":false,"score":10,"last_activity_date":1494534514,"creation_date":1302773060,"answer_id":5661039,"question_id":5660887,"body_markdown":"    final CharSequence[] choice = {&quot;Choose from Gallery&quot;,&quot;Capture a photo&quot;};\r\n    \r\n    int from; //This must be declared as global !\r\n    \r\n    AlertDialog.Builder alert = new AlertDialog.Builder(activity);\r\n    alert.setTitle(&quot;Upload Photo&quot;);\r\n    alert.setSingleChoiceItems(choice, -1, new DialogInterface.OnClickListener() {\r\n        @Override\r\n        public void onClick(DialogInterface dialog, int which) {\r\n            if (choice[which] == &quot;Choose from Gallery&quot;) {\r\n                from = 1;\r\n            } else if (choice[which] == &quot;Capture a photo&quot;) {\r\n                from = 2;\r\n            }\r\n        }\r\n    });\r\n    alert.setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {\r\n        @Override\r\n        public void onClick(DialogInterface dialog, int which) {\r\n            if (from == 0) {\r\n                Toast.makeText(activity, &quot;Select One Choice&quot;, \r\n                            Toast.LENGTH_SHORT).show();\r\n            } else if (from == 1) {\r\n                // Your Code\r\n            } else if (from == 2) {\r\n                // Your Code\r\n            }\r\n        }\r\n    });\r\n    alert.show();\r\n\r\n","title":"How to select a entry in AlertDialog with single choice checkbox android?","body":"<pre><code>final CharSequence[] choice = {\"Choose from Gallery\",\"Capture a photo\"};\n\nint from; //This must be declared as global !\n\nAlertDialog.Builder alert = new AlertDialog.Builder(activity);\nalert.setTitle(\"Upload Photo\");\nalert.setSingleChoiceItems(choice, -1, new DialogInterface.OnClickListener() {\n    @Override\n    public void onClick(DialogInterface dialog, int which) {\n        if (choice[which] == \"Choose from Gallery\") {\n            from = 1;\n        } else if (choice[which] == \"Capture a photo\") {\n            from = 2;\n        }\n    }\n});\nalert.setPositiveButton(\"OK\", new DialogInterface.OnClickListener() {\n    @Override\n    public void onClick(DialogInterface dialog, int which) {\n        if (from == 0) {\n            Toast.makeText(activity, \"Select One Choice\", \n                        Toast.LENGTH_SHORT).show();\n        } else if (from == 1) {\n            // Your Code\n        } else if (from == 2) {\n            // Your Code\n        }\n    }\n});\nalert.show();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":445336,"reputation":9179,"user_id":837722,"accept_rate":87,"display_name":"Si8"},"score":1,"creation_date":1381527224,"post_id":6849534,"comment_id":28630212,"body_markdown":"What if I wanted to remember what was selected and the next time the dialog is opened the choice is pre selected?","body":"What if I wanted to remember what was selected and the next time the dialog is opened the choice is pre selected?"},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1381629440,"post_id":6849534,"comment_id":28653329,"body_markdown":"@SiKni8 you could store the selectedPosition (probably as an instance variable of the Activity) and then call getListView().setItemChecked() the next time the dialog is opened.","body":"@SiKni8 you could store the selectedPosition (probably as an instance variable of the Activity) and then call getListView().setItemChecked() the next time the dialog is opened."},{"owner":{"account_id":445336,"reputation":9179,"user_id":837722,"accept_rate":87,"display_name":"Si8"},"score":0,"creation_date":1381664895,"post_id":6849534,"comment_id":28659677,"body_markdown":"I got the selectedPosition but not sure where to call the .setItemChecked(). Here my question: http://stackoverflow.com/questions/19327170/remember-what-was-selected-in-single-choice-alertdialog","body":"I got the selectedPosition but not sure where to call the .setItemChecked(). Here my question: <a href=\"http://stackoverflow.com/questions/19327170/remember-what-was-selected-in-single-choice-alertdialog\" title=\"remember what was selected in single choice alertdialog\">stackoverflow.com/questions/19327170/&hellip;</a>"},{"owner":{"account_id":1619176,"reputation":2177,"user_id":1496122,"display_name":"k2col"},"score":0,"creation_date":1480182915,"post_id":6849534,"comment_id":68861669,"body_markdown":"tip:  you can use `android.R.string.ok` for your `R.string.ok_button_label`","body":"tip:  you can use <code>android.R.string.ok</code> for your <code>R.string.ok_button_label</code>"},{"owner":{"account_id":12010931,"reputation":474,"user_id":8787628,"display_name":"Llama"},"score":0,"creation_date":1680038643,"post_id":6849534,"comment_id":133828352,"body_markdown":"id tend to disagree","body":"id tend to disagree"}],"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"comment_count":5,"down_vote_count":0,"up_vote_count":152,"is_accepted":true,"score":152,"last_activity_date":1311792217,"creation_date":1311792217,"answer_id":6849534,"question_id":5660887,"body_markdown":"Using a final variable obviously won&#39;t work (since it can only be assigned once, at declaration time). So-called &quot;global&quot; variables are usually a code smell (especially when they become part of an Activity class, which is usually where AlertDialogs are created).\r\nThe cleaner solution is to cast the DialogInterface object to an AlertDialog and then call getListView().getCheckedItemPosition(). Like this:\r\n\r\n    new AlertDialog.Builder(this)\r\n    \t\t.setSingleChoiceItems(items, 0, null)\r\n    \t\t.setPositiveButton(R.string.ok_button_label, new DialogInterface.OnClickListener() {\r\n    \t\t\tpublic void onClick(DialogInterface dialog, int whichButton) {\r\n    \t\t\t\tdialog.dismiss();\r\n    \t\t\t\tint selectedPosition = ((AlertDialog)dialog).getListView().getCheckedItemPosition();\r\n    \t\t\t\t// Do something useful withe the position of the selected radio button\r\n    \t\t\t}\r\n    \t\t})\r\n    \t\t.show();\r\n","title":"How to select a entry in AlertDialog with single choice checkbox android?","body":"<p>Using a final variable obviously won't work (since it can only be assigned once, at declaration time). So-called \"global\" variables are usually a code smell (especially when they become part of an Activity class, which is usually where AlertDialogs are created).\nThe cleaner solution is to cast the DialogInterface object to an AlertDialog and then call getListView().getCheckedItemPosition(). Like this:</p>\n\n<pre><code>new AlertDialog.Builder(this)\n        .setSingleChoiceItems(items, 0, null)\n        .setPositiveButton(R.string.ok_button_label, new DialogInterface.OnClickListener() {\n            public void onClick(DialogInterface dialog, int whichButton) {\n                dialog.dismiss();\n                int selectedPosition = ((AlertDialog)dialog).getListView().getCheckedItemPosition();\n                // Do something useful withe the position of the selected radio button\n            }\n        })\n        .show();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":146433,"reputation":50504,"user_id":356895,"accept_rate":66,"display_name":"JJD"},"score":0,"creation_date":1381834470,"post_id":14825379,"comment_id":28718891,"body_markdown":"Thank you for your explanations. How would you implement the callback so that a `Fragment` instead of an `Activity` is informed when the listener fires?","body":"Thank you for your explanations. How would you implement the callback so that a <code>Fragment</code> instead of an <code>Activity</code> is informed when the listener fires?"},{"owner":{"account_id":899204,"reputation":16222,"user_id":935779,"accept_rate":94,"display_name":"Kirk"},"score":2,"creation_date":1381849702,"post_id":14825379,"comment_id":28728574,"body_markdown":"I&#39;ve added an explanation for how I use this in a `Fragment`","body":"I&#39;ve added an explanation for how I use this in a <code>Fragment</code>"}],"tags":[],"owner":{"account_id":899204,"reputation":16222,"user_id":935779,"accept_rate":94,"display_name":"Kirk"},"comment_count":2,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1381849657,"creation_date":1360643300,"answer_id":14825379,"question_id":5660887,"body_markdown":"This has been answered just fine, but I keep finding this answer from Google and I wanted to share a non-anonymous class solution. I prefer reusable classes myself and may be helpful to others.\r\n\r\nIn this example, I&#39;m using a `DialogFragment` implementation and retrieving a value via a _callback_ method.\r\n\r\nThe _callback_ method to get values from a _Dialog_ can be done by creating a public **interface**\r\n\r\n    public interface OnDialogSelectorListener {\r\n        public void onSelectedOption(int selectedIndex);\r\n    }\r\n\r\nAlso the `DialogFragment` implements `DialogInterface.OnClickListener` which means you can register the class you&#39;ve implemented as the _OnClickListener_ for the `DialogFragment` that is being created.\r\n\r\nFor example\r\n\r\n    public Dialog onCreateDialog(Bundle savedInstanceState) {\r\n    \tfinal AlertDialog.Builder builder = new AlertDialog.Builder(this.getActivity());\r\n    \t\r\n    \tbuilder.setTitle(R.string.select);\r\n    \tbuilder.setSingleChoiceItems(mResourceArray, mSelectedIndex, this);\r\n    \tbuilder.setPositiveButton(R.string.ok, this);\r\n    \tbuilder.setNegativeButton(R.string.cancel, this);\r\n    \treturn builder.create();\r\n    }\r\n\r\nThe line\r\n\r\n`builder.setSingleChoiceItems(mResourceArray, mSelectedIndex, this);`\r\n\r\nCreates a choice dialog with the options from a _resource array_ stored in _mResourceArray_. This also preselects an option index from what is stored in _mSelectedIndex_ and finally it sets `this` itself as the _OnClickListener_. (See full code at the end if this paragraph is a tad confusing)\r\n\r\n\r\nNow, the _OnClick_ method is where you grab the value that comes from the dialog\r\n\r\n\r\n    @Override\r\n    public void onClick(DialogInterface dialog, int which) {\r\n    \t\r\n    \tswitch (which) {\r\n    \t\tcase Dialog.BUTTON_NEGATIVE: // Cancel button selected, do nothing\r\n    \t\t\tdialog.cancel();\r\n    \t\t\tbreak;\r\n    \t\t\t\r\n    \t\tcase Dialog.BUTTON_POSITIVE: // OK button selected, send the data back\r\n    \t\t\tdialog.dismiss();\r\n    \t\t\t// message selected value to registered callbacks with the\r\n                        // selected value.\r\n    \t\t\tmDialogSelectorCallback.onSelectedOption(mSelectedIndex);\r\n    \t\t\tbreak;\r\n    \t\t\t\r\n    \t\tdefault: // choice item selected\r\n                        // store the new selected value in the static variable\r\n    \t\t\tmSelectedIndex = which;\r\n    \t\t\tbreak;\r\n    \t}\r\n    }\r\n\r\nWhat happens here is when an item is selected, it&#39;s stored in a variable. If the user clicks the _Cancel_ button, no update is sent back and nothing changes. If the user clicks the OK button, it returns the value to the `Activity` that created it via the _callback_ created.\r\n\r\nAs an example, here is how you would create the dialog from a `FragmentActivity`.\r\n\r\n    final SelectorDialog sd = SelectorDialog.newInstance(R.array.selector_array, preSelectedValue);\r\n    sd.show(getSupportFragmentManager(), TAG);\r\n\r\nHere, the resource array _R.array.selector_array_ is an array of strings to show in the dialog and _preSelectedValue_ is the index to select on open.\r\n\r\nFinally, your `FragmentActivity` will implement `OnDialogSelectorListener` and will receive the callback message.\r\n\r\n    public class MyActivity extends FragmentActivity implements OnDialogSelectorListener {\r\n    // ....\r\n    \r\n        public void onSelectedOption(int selectedIndex) {\r\n        \t// do something with the newly selected index\r\n        }\r\n    }\r\n\r\nI hope this is helpful to someone, as it took me MANY attempts to understand it. A full implementation of this type of `DialogFragment` with a _callback_ is here.\r\n\r\n    public class SelectorDialog extends DialogFragment implements OnClickListener {\r\n    \tstatic final String TAG = &quot;SelectorDialog&quot;;\r\n    \t\r\n    \tstatic int mResourceArray;\r\n    \tstatic int mSelectedIndex;\r\n        static OnDialogSelectorListener mDialogSelectorCallback;\r\n        \r\n        public interface OnDialogSelectorListener {\r\n        \tpublic void onSelectedOption(int dialogId);\r\n    \t}\r\n     \r\n        public static DialogSelectorDialog newInstance(int res, int selected) {\r\n        \tfinal DialogSelectorDialog dialog  = new DialogSelectorDialog();\r\n        \tmResourceArray = res;\r\n        \tmSelectedIndex = selected;\r\n        \t\r\n        \treturn dialog;\r\n        }\r\n        \r\n        @Override\r\n    \tpublic void onAttach(Activity activity) {\r\n    \t\tsuper.onAttach(activity);\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\tmDialogSelectorCallback = (OnDialogSelectorListener)activity;\r\n            } catch (final ClassCastException e) {\r\n                throw new ClassCastException(activity.toString() + &quot; must implement OnDialogSelectorListener&quot;);\r\n            }\r\n    \t}\r\n        \r\n        public Dialog onCreateDialog(Bundle savedInstanceState) {\r\n        \tfinal AlertDialog.Builder builder = new AlertDialog.Builder(this.getActivity());\r\n        \t\r\n        \tbuilder.setTitle(R.string.select);\r\n        \tbuilder.setSingleChoiceItems(mResourceArray, mSelectedIndex, this);\r\n            builder.setPositiveButton(R.string.ok, this);\r\n            builder.setNegativeButton(R.string.cancel, this);\r\n            return builder.create();\r\n        }\r\n    \r\n    \t@Override\r\n    \tpublic void onClick(DialogInterface dialog, int which) {\r\n    \t\t\r\n    \t\tswitch (which) {\r\n    \t\t\tcase Dialog.BUTTON_NEGATIVE:\r\n    \t\t\t\tdialog.cancel();\r\n    \t\t\t\tbreak;\r\n    \t\t\t\t\r\n    \t\t\tcase Dialog.BUTTON_POSITIVE:\r\n    \t\t        dialog.dismiss();\r\n    \t\t        // message selected value to registered calbacks\r\n    \t\t        mDialogSelectorCallback.onSelectedOption(mSelectedIndex);\r\n    \t\t\t\tbreak;\r\n    \t\t\t\t\r\n    \t\t\tdefault: // choice selected click\r\n    \t\t\t\tmSelectedIndex = which;\r\n    \t\t\t\tbreak;\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\n**Question from a comment** How to call this from a `Fragment` instead of an `Activity`.\r\n\r\nFirst make a few changes to the `DialogFragment`.\r\n\r\nRemove the `onAttach` event since that&#39;s not the easiest way in this scenario.\r\n\r\nAdd a new method to add a reference to the callback\r\n\r\n    public void setDialogSelectorListener (OnDialogSelectorListener listener) {\r\n    \tthis.mListener = listener;\r\n    }\r\n\r\nImplement the listener in your `Fragment`\r\n\r\n    public class MyFragment extends Fragment implements SelectorDialog.OnDialogSelectorListener {\r\n    // ....\r\n    \r\n        public void onSelectedOption(int selectedIndex) {\r\n            // do something with the newly selected index\r\n        }\r\n    }\r\n\r\nNow create a new instance and pass in a reference to the `Fragment` to use it.\r\n\r\n    final SelectorDialog sd = SelectorDialog.newInstance(R.array.selector_array, preSelectedValue);\r\n    // this is a reference to MyFragment\r\n    sd.setDialogSelectorListener(this);\r\n    // mActivity is just a reference to the activity attached to MyFragment\r\n    sd.show(this.mActivity.getSupportFragmentManager(), TAG);","title":"How to select a entry in AlertDialog with single choice checkbox android?","body":"<p>This has been answered just fine, but I keep finding this answer from Google and I wanted to share a non-anonymous class solution. I prefer reusable classes myself and may be helpful to others.</p>\n\n<p>In this example, I'm using a <code>DialogFragment</code> implementation and retrieving a value via a <em>callback</em> method.</p>\n\n<p>The <em>callback</em> method to get values from a <em>Dialog</em> can be done by creating a public <strong>interface</strong></p>\n\n<pre><code>public interface OnDialogSelectorListener {\n    public void onSelectedOption(int selectedIndex);\n}\n</code></pre>\n\n<p>Also the <code>DialogFragment</code> implements <code>DialogInterface.OnClickListener</code> which means you can register the class you've implemented as the <em>OnClickListener</em> for the <code>DialogFragment</code> that is being created.</p>\n\n<p>For example</p>\n\n<pre><code>public Dialog onCreateDialog(Bundle savedInstanceState) {\n    final AlertDialog.Builder builder = new AlertDialog.Builder(this.getActivity());\n\n    builder.setTitle(R.string.select);\n    builder.setSingleChoiceItems(mResourceArray, mSelectedIndex, this);\n    builder.setPositiveButton(R.string.ok, this);\n    builder.setNegativeButton(R.string.cancel, this);\n    return builder.create();\n}\n</code></pre>\n\n<p>The line</p>\n\n<p><code>builder.setSingleChoiceItems(mResourceArray, mSelectedIndex, this);</code></p>\n\n<p>Creates a choice dialog with the options from a <em>resource array</em> stored in <em>mResourceArray</em>. This also preselects an option index from what is stored in <em>mSelectedIndex</em> and finally it sets <code>this</code> itself as the <em>OnClickListener</em>. (See full code at the end if this paragraph is a tad confusing)</p>\n\n<p>Now, the <em>OnClick</em> method is where you grab the value that comes from the dialog</p>\n\n<pre><code>@Override\npublic void onClick(DialogInterface dialog, int which) {\n\n    switch (which) {\n        case Dialog.BUTTON_NEGATIVE: // Cancel button selected, do nothing\n            dialog.cancel();\n            break;\n\n        case Dialog.BUTTON_POSITIVE: // OK button selected, send the data back\n            dialog.dismiss();\n            // message selected value to registered callbacks with the\n                    // selected value.\n            mDialogSelectorCallback.onSelectedOption(mSelectedIndex);\n            break;\n\n        default: // choice item selected\n                    // store the new selected value in the static variable\n            mSelectedIndex = which;\n            break;\n    }\n}\n</code></pre>\n\n<p>What happens here is when an item is selected, it's stored in a variable. If the user clicks the <em>Cancel</em> button, no update is sent back and nothing changes. If the user clicks the OK button, it returns the value to the <code>Activity</code> that created it via the <em>callback</em> created.</p>\n\n<p>As an example, here is how you would create the dialog from a <code>FragmentActivity</code>.</p>\n\n<pre><code>final SelectorDialog sd = SelectorDialog.newInstance(R.array.selector_array, preSelectedValue);\nsd.show(getSupportFragmentManager(), TAG);\n</code></pre>\n\n<p>Here, the resource array _R.array.selector_array_ is an array of strings to show in the dialog and <em>preSelectedValue</em> is the index to select on open.</p>\n\n<p>Finally, your <code>FragmentActivity</code> will implement <code>OnDialogSelectorListener</code> and will receive the callback message.</p>\n\n<pre><code>public class MyActivity extends FragmentActivity implements OnDialogSelectorListener {\n// ....\n\n    public void onSelectedOption(int selectedIndex) {\n        // do something with the newly selected index\n    }\n}\n</code></pre>\n\n<p>I hope this is helpful to someone, as it took me MANY attempts to understand it. A full implementation of this type of <code>DialogFragment</code> with a <em>callback</em> is here.</p>\n\n<pre><code>public class SelectorDialog extends DialogFragment implements OnClickListener {\n    static final String TAG = \"SelectorDialog\";\n\n    static int mResourceArray;\n    static int mSelectedIndex;\n    static OnDialogSelectorListener mDialogSelectorCallback;\n\n    public interface OnDialogSelectorListener {\n        public void onSelectedOption(int dialogId);\n    }\n\n    public static DialogSelectorDialog newInstance(int res, int selected) {\n        final DialogSelectorDialog dialog  = new DialogSelectorDialog();\n        mResourceArray = res;\n        mSelectedIndex = selected;\n\n        return dialog;\n    }\n\n    @Override\n    public void onAttach(Activity activity) {\n        super.onAttach(activity);\n\n        try {\n            mDialogSelectorCallback = (OnDialogSelectorListener)activity;\n        } catch (final ClassCastException e) {\n            throw new ClassCastException(activity.toString() + \" must implement OnDialogSelectorListener\");\n        }\n    }\n\n    public Dialog onCreateDialog(Bundle savedInstanceState) {\n        final AlertDialog.Builder builder = new AlertDialog.Builder(this.getActivity());\n\n        builder.setTitle(R.string.select);\n        builder.setSingleChoiceItems(mResourceArray, mSelectedIndex, this);\n        builder.setPositiveButton(R.string.ok, this);\n        builder.setNegativeButton(R.string.cancel, this);\n        return builder.create();\n    }\n\n    @Override\n    public void onClick(DialogInterface dialog, int which) {\n\n        switch (which) {\n            case Dialog.BUTTON_NEGATIVE:\n                dialog.cancel();\n                break;\n\n            case Dialog.BUTTON_POSITIVE:\n                dialog.dismiss();\n                // message selected value to registered calbacks\n                mDialogSelectorCallback.onSelectedOption(mSelectedIndex);\n                break;\n\n            default: // choice selected click\n                mSelectedIndex = which;\n                break;\n        }\n\n    }\n}\n</code></pre>\n\n<p><strong>Question from a comment</strong> How to call this from a <code>Fragment</code> instead of an <code>Activity</code>.</p>\n\n<p>First make a few changes to the <code>DialogFragment</code>.</p>\n\n<p>Remove the <code>onAttach</code> event since that's not the easiest way in this scenario.</p>\n\n<p>Add a new method to add a reference to the callback</p>\n\n<pre><code>public void setDialogSelectorListener (OnDialogSelectorListener listener) {\n    this.mListener = listener;\n}\n</code></pre>\n\n<p>Implement the listener in your <code>Fragment</code></p>\n\n<pre><code>public class MyFragment extends Fragment implements SelectorDialog.OnDialogSelectorListener {\n// ....\n\n    public void onSelectedOption(int selectedIndex) {\n        // do something with the newly selected index\n    }\n}\n</code></pre>\n\n<p>Now create a new instance and pass in a reference to the <code>Fragment</code> to use it.</p>\n\n<pre><code>final SelectorDialog sd = SelectorDialog.newInstance(R.array.selector_array, preSelectedValue);\n// this is a reference to MyFragment\nsd.setDialogSelectorListener(this);\n// mActivity is just a reference to the activity attached to MyFragment\nsd.show(this.mActivity.getSupportFragmentManager(), TAG);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5065303,"reputation":149,"user_id":4124085,"display_name":"Nikhil jassal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1542277335,"creation_date":1542274962,"answer_id":53316480,"question_id":5660887,"body_markdown":"Try this. \r\n\r\n    final String[] fonts = {&quot;Small&quot;, &quot;Medium&quot;, &quot;Large&quot;, &quot;Huge&quot;};\r\n\r\n    AlertDialog.Builder builder = new AlertDialog.Builder(TopicDetails.this);\r\n    builder.setTitle(&quot;Select a text size&quot;);\r\n    builder.setItems(fonts, new DialogInterface.OnClickListener() {\r\n      @Override\r\n      public void onClick(DialogInterface dialog, int which) {\r\n        if (&quot;Small&quot;.equals(fonts[which])) {\r\n          Toast.makeText(MainActivity.this,&quot;you nailed it&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n        else if (&quot;Medium&quot;.equals(fonts[which])) {\r\n          Toast.makeText(MainActivity.this,&quot;you cracked it&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n        else if (&quot;Large&quot;.equals(fonts[which])){\r\n          Toast.makeText(MainActivity.this,&quot;you hacked it&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n        else if (&quot;Huge&quot;.equals(fonts[which])){\r\n         Toast.makeText(MainActivity.this,&quot;you digged it&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n      // the user clicked on colors[which]\r\n      }\r\n    });\r\n    builder.show();","title":"How to select a entry in AlertDialog with single choice checkbox android?","body":"<p>Try this. </p>\n\n<pre><code>final String[] fonts = {\"Small\", \"Medium\", \"Large\", \"Huge\"};\n\nAlertDialog.Builder builder = new AlertDialog.Builder(TopicDetails.this);\nbuilder.setTitle(\"Select a text size\");\nbuilder.setItems(fonts, new DialogInterface.OnClickListener() {\n  @Override\n  public void onClick(DialogInterface dialog, int which) {\n    if (\"Small\".equals(fonts[which])) {\n      Toast.makeText(MainActivity.this,\"you nailed it\", Toast.LENGTH_SHORT).show();\n    }\n    else if (\"Medium\".equals(fonts[which])) {\n      Toast.makeText(MainActivity.this,\"you cracked it\", Toast.LENGTH_SHORT).show();\n    }\n    else if (\"Large\".equals(fonts[which])){\n      Toast.makeText(MainActivity.this,\"you hacked it\", Toast.LENGTH_SHORT).show();\n    }\n    else if (\"Huge\".equals(fonts[which])){\n     Toast.makeText(MainActivity.this,\"you digged it\", Toast.LENGTH_SHORT).show();\n    }\n  // the user clicked on colors[which]\n  }\n});\nbuilder.show();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1750961,"reputation":13745,"user_id":1600058,"accept_rate":47,"display_name":"Amit Prajapati"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1545388037,"creation_date":1545388037,"answer_id":53883093,"question_id":5660887,"body_markdown":"As others have pointed out,  **implementation &#39;com.google.android.material:material:1.0.0&#39;** it is more simply \r\n\r\nRefere this material guide for more. https://material.io/develop/android/docs/getting-started/\r\n\r\n\r\n    CharSequence[] choices = {&quot;Choice1&quot;, &quot;Choice2&quot;, &quot;Choice3&quot;};\r\n    boolean[] choicesInitial = {false, true, false};\r\n    AlertDialog.Builder alertDialogBuilder = new MaterialAlertDialogBuilder(getContext())\r\n        .setTitle(title)\r\n        .setPositiveButton(&quot;Accept&quot;, null)\r\n        .setNeutralButton(&quot;Cancel&quot;, null)\r\n        .setMultiChoiceItems(choices, choicesInitial, new DialogInterface.OnMultiChoiceClickListener() {\r\n          @Override\r\n          public void onClick(DialogInterface dialog, int which, boolean isChecked) {\r\n\r\n          }\r\n        });\r\n    alertDialogBuilder.show();\r\n [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WalnQ.png","title":"How to select a entry in AlertDialog with single choice checkbox android?","body":"<p>As others have pointed out,  <strong>implementation 'com.google.android.material:material:1.0.0'</strong> it is more simply </p>\n\n<p>Refere this material guide for more. <a href=\"https://material.io/develop/android/docs/getting-started/\" rel=\"noreferrer\">https://material.io/develop/android/docs/getting-started/</a></p>\n\n<pre><code>CharSequence[] choices = {\"Choice1\", \"Choice2\", \"Choice3\"};\nboolean[] choicesInitial = {false, true, false};\nAlertDialog.Builder alertDialogBuilder = new MaterialAlertDialogBuilder(getContext())\n    .setTitle(title)\n    .setPositiveButton(\"Accept\", null)\n    .setNeutralButton(\"Cancel\", null)\n    .setMultiChoiceItems(choices, choicesInitial, new DialogInterface.OnMultiChoiceClickListener() {\n      @Override\n      public void onClick(DialogInterface dialog, int which, boolean isChecked) {\n\n      }\n    });\nalertDialogBuilder.show();\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/WalnQ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/WalnQ.png\" alt=\"enter image description here\"></a></p>\n"}],"owner":{"account_id":204397,"reputation":1469,"user_id":452584,"accept_rate":71,"display_name":"LuckyStarr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96037,"favorite_count":0,"down_vote_count":1,"up_vote_count":46,"accepted_answer_id":6849534,"answer_count":5,"score":45,"last_activity_date":1674159969,"creation_date":1302772145,"question_id":5660887,"body_markdown":"I have an alert dialog with a single-choice list and two buttons: an `OK` button and a `cancel` button. The code below show how I implemented it.\r\n\r\n    private final Dialog createListFile(final String[] fileList) {\r\n\t  AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n\t  builder.setTitle(&quot;Compare with:&quot;);\r\n\t\t\r\n      builder.setSingleChoiceItems(fileList, -1, new DialogInterface.OnClickListener() {\r\n        public void onClick(DialogInterface dialog, int whichButton) {\r\n          Log.d(TAG,&quot;The wrong button was tapped: &quot; + fileList[whichButton]);\r\n        }\r\n      });\r\n        \r\n      builder.setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {\r\n        public void onClick(DialogInterface dialog, int whichButton) {}\r\n      });\r\n        \r\n      builder.setNegativeButton(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\r\n        public void onClick(DialogInterface dialog, int whichButton) {}\r\n      });\r\n\t\t\r\n      return builder.create();\r\n\t}\r\n\r\nMy goal is to obtain the name of the selected radio button when the `OK` button is tapped. I tried to save the string in a variable, but inside an inner class it is possible to access only final variables. Is there a way to avoid using a final variable to store the selected radio button?","title":"How to select a entry in AlertDialog with single choice checkbox android?","body":"<p>I have an alert dialog with a single-choice list and two buttons: an <code>OK</code> button and a <code>cancel</code> button. The code below show how I implemented it.</p>\n\n<pre><code>private final Dialog createListFile(final String[] fileList) {\n  AlertDialog.Builder builder = new AlertDialog.Builder(this);\n  builder.setTitle(\"Compare with:\");\n\n  builder.setSingleChoiceItems(fileList, -1, new DialogInterface.OnClickListener() {\n    public void onClick(DialogInterface dialog, int whichButton) {\n      Log.d(TAG,\"The wrong button was tapped: \" + fileList[whichButton]);\n    }\n  });\n\n  builder.setPositiveButton(\"OK\", new DialogInterface.OnClickListener() {\n    public void onClick(DialogInterface dialog, int whichButton) {}\n  });\n\n  builder.setNegativeButton(\"Cancel\", new DialogInterface.OnClickListener() {\n    public void onClick(DialogInterface dialog, int whichButton) {}\n  });\n\n  return builder.create();\n}\n</code></pre>\n\n<p>My goal is to obtain the name of the selected radio button when the <code>OK</code> button is tapped. I tried to save the string in a variable, but inside an inner class it is possible to access only final variables. Is there a way to avoid using a final variable to store the selected radio button?</p>\n"},{"tags":["java","android","kotlin","broadcastreceiver","activity-recognition"],"comments":[{"owner":{"account_id":7541067,"reputation":763,"user_id":5725622,"display_name":"Parth Lotia"},"score":0,"creation_date":1666240393,"post_id":74132300,"comment_id":130890130,"body_markdown":"you need to use work manager for that","body":"you need to use work manager for that"},{"owner":{"account_id":8725718,"reputation":1712,"user_id":6527410,"accept_rate":53,"display_name":"androidXP"},"score":0,"creation_date":1666263551,"post_id":74132300,"comment_id":130897319,"body_markdown":"@ParthLotia For registering BR or Activity Manager ?","body":"@ParthLotia For registering BR or Activity Manager ?"},{"owner":{"account_id":10191483,"reputation":59,"user_id":7524755,"display_name":"Devdatta"},"score":0,"creation_date":1669265688,"post_id":74132300,"comment_id":131606543,"body_markdown":"@androidXP have you got resolution?","body":"@androidXP have you got resolution?"}],"answers":[{"comments":[{"owner":{"account_id":8725718,"reputation":1712,"user_id":6527410,"accept_rate":53,"display_name":"androidXP"},"score":0,"creation_date":1683206942,"post_id":75177895,"comment_id":134333554,"body_markdown":"I am running this for months.It stop working in background and stop detecting the user activities.","body":"I am running this for months.It stop working in background and stop detecting the user activities."},{"owner":{"account_id":16163774,"reputation":206,"user_id":11669229,"display_name":"Mehran Sahandi Far"},"score":0,"creation_date":1685026499,"post_id":75177895,"comment_id":134606504,"body_markdown":"did you use         return START_STICKY; for you services ?","body":"did you use         return START_STICKY; for you services ?"},{"owner":{"account_id":8725718,"reputation":1712,"user_id":6527410,"accept_rate":53,"display_name":"androidXP"},"score":0,"creation_date":1685051035,"post_id":75177895,"comment_id":134611265,"body_markdown":"Yes that was the first thing i tried after testing it&#39;s working in foreground","body":"Yes that was the first thing i tried after testing it&#39;s working in foreground"}],"tags":[],"owner":{"account_id":16163774,"reputation":206,"user_id":11669229,"display_name":"Mehran Sahandi Far"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674159904,"creation_date":1674159904,"answer_id":75177895,"question_id":74132300,"body_markdown":"I also had this problem with a new update, but after a deeper debugging I realised that it actually works but it takes more time to retrieve data, so just be patient or run for longer time","title":"Android 12 - Activity Recognition With broadcast receiver in background not working","body":"<p>I also had this problem with a new update, but after a deeper debugging I realised that it actually works but it takes more time to retrieve data, so just be patient or run for longer time</p>\n"}],"owner":{"account_id":8725718,"reputation":1712,"user_id":6527410,"accept_rate":53,"display_name":"androidXP"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":724,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1674159904,"creation_date":1666216302,"question_id":74132300,"body_markdown":"I am trying to get user activity states by `ActivityRecognition` API and it works in foreground and for few hours in background too (When user exit the app) but after more than 4/5 hours it stop sending user activity states by `ActivityRecognition` API. \r\n\r\nSetup Activity Recognition and Registering BroadcastReceiver In Main Activity\r\n\r\n    public static void ActivityRecognitionSetup() {\r\n            final String TRANSITIONS_RECEIVER_ACTION = &quot;com.example.TRANSITIONS_RECEIVER_ACTION&quot;;\r\n            Intent mintent = new Intent(TRANSITIONS_RECEIVER_ACTION);\r\n    \r\n            ActivityRecognitionClient client = ActivityRecognition.getClient(context);\r\n            PendingIntent pendingIntent;\r\n            if (App_Functions.runningSOrLater){\r\n                pendingIntent = PendingIntent.getBroadcast(Application.getmContext(), 255, mintent, PendingIntent.FLAG_UPDATE_CURRENT|PendingIntent.FLAG_MUTABLE);\r\n            }else {\r\n                pendingIntent = PendingIntent.getBroadcast(MyApplication.getmContext(), 255, mintent, PendingIntent.FLAG_UPDATE_CURRENT);\r\n            }\r\n            ActivityRecognitionBroadcastReceiver broadcastReceiver = new ActivityRecognitionBroadcastReceiver();\r\n    \r\n             Task&lt;Void&gt; task = client.requestActivityUpdates(6 * 60 * 60 * 1000, pendingIntent);\r\n                task.addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                    @Override\r\n                    public void onSuccess(Void unused) {\r\n                        Log.d(TAG, &quot;onSuccess: Activity recognition Started&quot;);\r\n                        context.registerReceiver(broadcastReceiver, new IntentFilter(TRANSITIONS_RECEIVER_ACTION));\r\n                    }\r\n                }).addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception e) {\r\n                        Log.d(TAG, &quot;onFailure: Activity recognition Failed&quot;);\r\n                    }\r\n                });\r\n        }\r\n\r\n\r\nAlso Registering BR in Manifest \r\n\r\n     &lt;receiver\r\n                android:name=&quot;.ActivityRecognitionBroadcastReceiver&quot;\r\n                android:exported=&quot;false&quot;\r\n                android:permission=&quot;com.google.android.gms.permission.ACTIVITY_RECOGNITION&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;com.example.TRANSITIONS_RECEIVER_ACTION&quot;/&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/receiver&gt;\r\n\r\n\r\nBroadcast Receiver \r\n\r\n    public class ActivityRecognitionBroadcastReceiver extends BroadcastReceiver {\r\n       \r\n        final String TRANSITIONS_RECEIVER_ACTION =&quot;com.example.TRANSITIONS_RECEIVER_ACTION&quot;;\r\n    \r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            if (!TextUtils.equals(TRANSITIONS_RECEIVER_ACTION, intent.getAction())) {            \r\n                return;\r\n            }\r\n            \r\n            if (ActivityRecognitionResult.hasResult(intent)) {\r\n                ActivityRecognitionResult result = ActivityRecognitionResult.extractResult(intent);\r\n                // This Method Will Show Notification On Every Activity Recognition Detection\r\n    \t\t\tshowNotification(&quot;Activity Recognition &quot;+activity.getConfidence(),result.getProbableActivities())\r\n            }else{\r\n                Log.d(TAG, &quot;ActivityRecognition Has NO Result &quot;+ActivityRecognitionResult.hasResult(intent));\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nEven on idle the device is getting notifications but after 4-5 hours or sometimes more it stop receiving any broadcast from activity recognition api. Any ideas why this happening?","title":"Android 12 - Activity Recognition With broadcast receiver in background not working","body":"<p>I am trying to get user activity states by <code>ActivityRecognition</code> API and it works in foreground and for few hours in background too (When user exit the app) but after more than 4/5 hours it stop sending user activity states by <code>ActivityRecognition</code> API.</p>\n<p>Setup Activity Recognition and Registering BroadcastReceiver In Main Activity</p>\n<pre><code>public static void ActivityRecognitionSetup() {\n        final String TRANSITIONS_RECEIVER_ACTION = &quot;com.example.TRANSITIONS_RECEIVER_ACTION&quot;;\n        Intent mintent = new Intent(TRANSITIONS_RECEIVER_ACTION);\n\n        ActivityRecognitionClient client = ActivityRecognition.getClient(context);\n        PendingIntent pendingIntent;\n        if (App_Functions.runningSOrLater){\n            pendingIntent = PendingIntent.getBroadcast(Application.getmContext(), 255, mintent, PendingIntent.FLAG_UPDATE_CURRENT|PendingIntent.FLAG_MUTABLE);\n        }else {\n            pendingIntent = PendingIntent.getBroadcast(MyApplication.getmContext(), 255, mintent, PendingIntent.FLAG_UPDATE_CURRENT);\n        }\n        ActivityRecognitionBroadcastReceiver broadcastReceiver = new ActivityRecognitionBroadcastReceiver();\n\n         Task&lt;Void&gt; task = client.requestActivityUpdates(6 * 60 * 60 * 1000, pendingIntent);\n            task.addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                @Override\n                public void onSuccess(Void unused) {\n                    Log.d(TAG, &quot;onSuccess: Activity recognition Started&quot;);\n                    context.registerReceiver(broadcastReceiver, new IntentFilter(TRANSITIONS_RECEIVER_ACTION));\n                }\n            }).addOnFailureListener(new OnFailureListener() {\n                @Override\n                public void onFailure(@NonNull Exception e) {\n                    Log.d(TAG, &quot;onFailure: Activity recognition Failed&quot;);\n                }\n            });\n    }\n</code></pre>\n<p>Also Registering BR in Manifest</p>\n<pre><code> &lt;receiver\n            android:name=&quot;.ActivityRecognitionBroadcastReceiver&quot;\n            android:exported=&quot;false&quot;\n            android:permission=&quot;com.google.android.gms.permission.ACTIVITY_RECOGNITION&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;com.example.TRANSITIONS_RECEIVER_ACTION&quot;/&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n</code></pre>\n<p>Broadcast Receiver</p>\n<pre><code>public class ActivityRecognitionBroadcastReceiver extends BroadcastReceiver {\n   \n    final String TRANSITIONS_RECEIVER_ACTION =&quot;com.example.TRANSITIONS_RECEIVER_ACTION&quot;;\n\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        if (!TextUtils.equals(TRANSITIONS_RECEIVER_ACTION, intent.getAction())) {            \n            return;\n        }\n        \n        if (ActivityRecognitionResult.hasResult(intent)) {\n            ActivityRecognitionResult result = ActivityRecognitionResult.extractResult(intent);\n            // This Method Will Show Notification On Every Activity Recognition Detection\n            showNotification(&quot;Activity Recognition &quot;+activity.getConfidence(),result.getProbableActivities())\n        }else{\n            Log.d(TAG, &quot;ActivityRecognition Has NO Result &quot;+ActivityRecognitionResult.hasResult(intent));\n        }\n    }\n\n}\n</code></pre>\n<p>Even on idle the device is getting notifications but after 4-5 hours or sometimes more it stop receiving any broadcast from activity recognition api. Any ideas why this happening?</p>\n"},{"tags":["java","cucumber-jvm"],"answers":[{"tags":[],"owner":{"account_id":425827,"reputation":87,"user_id":806687,"accept_rate":25,"display_name":"Shan C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674159319,"creation_date":1674159319,"answer_id":75177800,"question_id":75113559,"body_markdown":"Seems, the decision been taken already so the hooks should be called based on packages, not respect to classes.\r\n\r\nMore detailed conversation in this thread.\r\nhttps://github.com/cucumber/cucumber-jvm/issues/1005","title":"Cucumber - @BeforeStep only for that StepDef class","body":"<p>Seems, the decision been taken already so the hooks should be called based on packages, not respect to classes.</p>\n<p>More detailed conversation in this thread.\n<a href=\"https://github.com/cucumber/cucumber-jvm/issues/1005\" rel=\"nofollow noreferrer\">https://github.com/cucumber/cucumber-jvm/issues/1005</a></p>\n"}],"owner":{"account_id":425827,"reputation":87,"user_id":806687,"accept_rate":25,"display_name":"Shan C"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674159319,"creation_date":1673637014,"question_id":75113559,"body_markdown":"I am using @BeforeStep in my step definitions, and would like to understand how it actually works.\r\n\r\nLet&#39;s say, I have 2 step definitions SampleStepDef1 and SampleStepDef2\r\n\r\n    public class SampleStepDef1 {\r\n    \r\n        @BeforeStep\r\n        public void beforeStep() {\r\n           System.out.println(&quot;Before Step -- SampleStepDef1&quot;);\r\n        }\r\n    \r\n        @Given(&quot;just a gherkin step1 - app1&quot;)\r\n        public void just_a_gherkin_step1_app1() {\r\n           //implementations\r\n        }\r\n    }\r\n\r\n    public class SampleStepDef2 {\r\n    \r\n        @BeforeStep\r\n        public void beforeStep() {\r\n           System.out.println(&quot;Before Step -- SampleStepDef2&quot;);\r\n        }\r\n    \r\n        @Given(&quot;just another gherkin step1 - app2&quot;)\r\n        public void just_a_gherkin_step2_app2() {\r\n           //implementations\r\n        }\r\n    }\r\n\r\n\r\nAnd My Gherkins looks like\r\n\r\n    Scenario: Try Epic HyperDrive\r\n        Given just a gherkin step1 - app1\r\n        And just a gherkin step2 - app1\r\n\r\nNot sure if this was the design by cucumber-jvm; When I execute, the BeforeStep from both classes are executing but my gherkin doesn&#39;t have any steps implemented part of another class - StepDef2. I wonder if it&#39;s possible to make a BeforeStep execute only when a step def from that particular class executes.\r\nMay be a silly question, just wondering why is it so. Appreciate any clarifications or suggestions.\r\n\r\nNote:- I am not looking for filter by tags.\r\n","title":"Cucumber - @BeforeStep only for that StepDef class","body":"<p>I am using @BeforeStep in my step definitions, and would like to understand how it actually works.</p>\n<p>Let's say, I have 2 step definitions SampleStepDef1 and SampleStepDef2</p>\n<pre><code>public class SampleStepDef1 {\n\n    @BeforeStep\n    public void beforeStep() {\n       System.out.println(&quot;Before Step -- SampleStepDef1&quot;);\n    }\n\n    @Given(&quot;just a gherkin step1 - app1&quot;)\n    public void just_a_gherkin_step1_app1() {\n       //implementations\n    }\n}\n\npublic class SampleStepDef2 {\n\n    @BeforeStep\n    public void beforeStep() {\n       System.out.println(&quot;Before Step -- SampleStepDef2&quot;);\n    }\n\n    @Given(&quot;just another gherkin step1 - app2&quot;)\n    public void just_a_gherkin_step2_app2() {\n       //implementations\n    }\n}\n</code></pre>\n<p>And My Gherkins looks like</p>\n<pre><code>Scenario: Try Epic HyperDrive\n    Given just a gherkin step1 - app1\n    And just a gherkin step2 - app1\n</code></pre>\n<p>Not sure if this was the design by cucumber-jvm; When I execute, the BeforeStep from both classes are executing but my gherkin doesn't have any steps implemented part of another class - StepDef2. I wonder if it's possible to make a BeforeStep execute only when a step def from that particular class executes.\nMay be a silly question, just wondering why is it so. Appreciate any clarifications or suggestions.</p>\n<p>Note:- I am not looking for filter by tags.</p>\n"},{"tags":["java","azure","azure-devops","azure-pipelines","azure-pipelines-yaml"],"answers":[{"tags":[],"owner":{"account_id":4901788,"reputation":1554,"user_id":3949759,"display_name":"Roderick Bant"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674158639,"creation_date":1674158639,"answer_id":75177688,"question_id":75173486,"body_markdown":"The path supplied for selenium&#39;s `download.defaultdirectory` is different from the path you get in the error when retrieving the files. This is because `System.getProperty(&quot;user.dir&quot;)` gets the home directory for the current user (_vsts_) and that is `/home/vsts`.\r\n\r\nSo with the path statement in Selenium code you would get: `/home/vsts/src/test/resources/` as the default download directory.","title":"Unable to retrieve downloaded file through azure pipeline","body":"<p>The path supplied for selenium's <code>download.defaultdirectory</code> is different from the path you get in the error when retrieving the files. This is because <code>System.getProperty(&quot;user.dir&quot;)</code> gets the home directory for the current user (<em>vsts</em>) and that is <code>/home/vsts</code>.</p>\n<p>So with the path statement in Selenium code you would get: <code>/home/vsts/src/test/resources/</code> as the default download directory.</p>\n"}],"owner":{"account_id":10421616,"reputation":4105,"user_id":11061080,"display_name":"SeleniumUser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674158639,"creation_date":1674137145,"question_id":75173486,"body_markdown":"I am trying to download a pdf file while running my selenium test through the azure pipeline and then I want to retrieve the downloaded file but while doing that I am getting below exception\r\n\r\n \r\n       java.io.FileNotFoundException: /home/vsts/work/1/s/src/test/resources/MyPdf.pdf (No such file or directory)\r\n            at org.apache.pdfbox.io.RandomAccessBufferedFileInputStream.&lt;init&gt;(RandomAccessBufferedFileInputStream.java:99)\r\n            at org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:1079)\r\n            at org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:1041)\r\n            at org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:989)\r\n       \r\n**Selenium code:**\r\n\r\n\r\n    Map&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;();\r\n    prefs.put(&quot;googlegeolocationaccess.enabled&quot;, false);\r\n    prefs.put(&quot;profile.default_content_setting_values.geolocation&quot;, 2); // 1:allow 2:block\r\n    prefs.put(&quot;profile.default_content_setting_values.notifications&quot;, 1);\r\n    prefs.put(&quot;profile.managed_default_content_settings&quot;, 1);\r\n    prefs.put(&quot;download.default_directory&quot;,  System.getProperty(&quot;user.dir&quot;)+ File.separator + &quot;src&quot; + File.separator + &quot;test&quot; + File.separator + &quot;resources&quot;);\r\n    chromeOptions.setExperimentalOption(&quot;prefs&quot;, prefs);\r\n\r\n\r\n**yml file:**\r\n\r\n    jobs:\r\n          - job: Test Running\r\n            timeoutInMinutes: 180\r\n            pool:\r\n              vmImage: ubuntu-20.04\r\n            continueOnError: true\r\n            steps:\r\n              - task: Gradle@2\r\n                displayName: Run Tests against UK Region\r\n                inputs:\r\n                  gradleWrapperFile: gradlew\r\n                  tasks: test\r\n\r\nThe above code is working fine on my windows machine and saving file project directory (C:\\Selenium\\src\\test\\resources\\) but through the pipeline, it&#39;s failing. \r\n","title":"Unable to retrieve downloaded file through azure pipeline","body":"<p>I am trying to download a pdf file while running my selenium test through the azure pipeline and then I want to retrieve the downloaded file but while doing that I am getting below exception</p>\n<pre><code>   java.io.FileNotFoundException: /home/vsts/work/1/s/src/test/resources/MyPdf.pdf (No such file or directory)\n        at org.apache.pdfbox.io.RandomAccessBufferedFileInputStream.&lt;init&gt;(RandomAccessBufferedFileInputStream.java:99)\n        at org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:1079)\n        at org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:1041)\n        at org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:989)\n   \n</code></pre>\n<p><strong>Selenium code:</strong></p>\n<pre><code>Map&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;();\nprefs.put(&quot;googlegeolocationaccess.enabled&quot;, false);\nprefs.put(&quot;profile.default_content_setting_values.geolocation&quot;, 2); // 1:allow 2:block\nprefs.put(&quot;profile.default_content_setting_values.notifications&quot;, 1);\nprefs.put(&quot;profile.managed_default_content_settings&quot;, 1);\nprefs.put(&quot;download.default_directory&quot;,  System.getProperty(&quot;user.dir&quot;)+ File.separator + &quot;src&quot; + File.separator + &quot;test&quot; + File.separator + &quot;resources&quot;);\nchromeOptions.setExperimentalOption(&quot;prefs&quot;, prefs);\n</code></pre>\n<p><strong>yml file:</strong></p>\n<pre><code>jobs:\n      - job: Test Running\n        timeoutInMinutes: 180\n        pool:\n          vmImage: ubuntu-20.04\n        continueOnError: true\n        steps:\n          - task: Gradle@2\n            displayName: Run Tests against UK Region\n            inputs:\n              gradleWrapperFile: gradlew\n              tasks: test\n</code></pre>\n<p>The above code is working fine on my windows machine and saving file project directory (C:\\Selenium\\src\\test\\resources) but through the pipeline, it's failing.</p>\n"},{"tags":["java","angularjs","spring","spring-mvc","ng-file-upload"],"comments":[{"owner":{"account_id":2468965,"reputation":26460,"user_id":2151351,"display_name":"a better oliver"},"score":0,"creation_date":1454487929,"post_id":35160483,"comment_id":58061145,"body_markdown":"Your config? You need a library and a matching resolver for multipart uploads.","body":"Your config? You need a library and a matching resolver for multipart uploads."},{"owner":{"account_id":2468965,"reputation":26460,"user_id":2151351,"display_name":"a better oliver"},"score":0,"creation_date":1454488555,"post_id":35160483,"comment_id":58061475,"body_markdown":"I assumed you read the blog post you were referring to. `commons-fileupload` e.g.","body":"I assumed you read the blog post you were referring to. <code>commons-fileupload</code> e.g."},{"owner":{"account_id":471003,"reputation":20684,"user_id":878514,"accept_rate":73,"display_name":"fracz"},"score":0,"creation_date":1454488709,"post_id":35160483,"comment_id":58061559,"body_markdown":"Yes, I have all that set up. In fact, I can receive those files by reading them from `multipartRequest.getFileMap().values()`. What I&#39;m asking is why I cannot simply use `List&lt;MultipartFile&gt;` as suggested in the sources I refer to.","body":"Yes, I have all that set up. In fact, I can receive those files by reading them from <code>multipartRequest.getFileMap().values()</code>. What I&#39;m asking is why I cannot simply use <code>List&lt;MultipartFile&gt;</code> as suggested in the sources I refer to."},{"owner":{"account_id":2468965,"reputation":26460,"user_id":2151351,"display_name":"a better oliver"},"score":0,"creation_date":1454489511,"post_id":35160483,"comment_id":58062093,"body_markdown":"Presumably something is missing. If, for instance, the standard servlet multipart support is included but you use the commons multipart resolver - as suggested in the blog post - `files` won&#39;t get populated.","body":"Presumably something is missing. If, for instance, the standard servlet multipart support is included but you use the commons multipart resolver - as suggested in the blog post - <code>files</code> won&#39;t get populated."},{"owner":{"account_id":10927046,"reputation":438,"user_id":8031464,"display_name":"Sindhu Arju"},"score":0,"creation_date":1586266505,"post_id":35160483,"comment_id":108061049,"body_markdown":"Is it possible to get List&lt;User&gt; with List&lt;MultipartFile&gt; in request?","body":"Is it possible to get List&lt;User&gt; with List&lt;MultipartFile&gt; in request?"}],"answers":[{"comments":[{"owner":{"account_id":471003,"reputation":20684,"user_id":878514,"accept_rate":73,"display_name":"fracz"},"score":0,"creation_date":1454440089,"post_id":35160987,"comment_id":58041856,"body_markdown":"But I want to upload multiple files at once.","body":"But I want to upload multiple files at once."}],"tags":[],"owner":{"account_id":7230662,"reputation":8299,"user_id":5517633,"display_name":"Abdelhak"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1454445715,"creation_date":1454437111,"answer_id":35160987,"question_id":35160483,"body_markdown":"Try to use  `@ModelAttribute` like this:\r\n         \r\n        @RequestMapping(value = &quot;/{user}/attachment&quot;, method = RequestMethod.POST)\r\n        @PreAuthorize(...) \r\n        public void upload(@PathVariable User user,@ModelAttribute(&quot;uploadFile&quot;) FileUpload uploadFile) throws IllegalStateException, IOException {\r\n\r\n        List&lt;MultipartFile&gt; files = uploadFile.getFiles();\r\n        ...\r\nAnd create a class like:\r\n         \r\n         public class FileUpload {\r\n         private List&lt;MultipartFile&gt; files;\r\n         public List&lt;MultipartFile&gt; getFiles() {\r\n            return files;\r\n         }\r\n \r\n        public void setFiles(List&lt;MultipartFile&gt; files) {\r\n           this.files= files;\r\n          }\r\n       }","title":"Empty List&lt;MultipartFile&gt; when trying to upload many files in Spring with ng-file-upload","body":"<p>Try to use  <code>@ModelAttribute</code> like this:</p>\n\n<pre><code>    @RequestMapping(value = \"/{user}/attachment\", method = RequestMethod.POST)\n    @PreAuthorize(...) \n    public void upload(@PathVariable User user,@ModelAttribute(\"uploadFile\") FileUpload uploadFile) throws IllegalStateException, IOException {\n\n    List&lt;MultipartFile&gt; files = uploadFile.getFiles();\n    ...\n</code></pre>\n\n<p>And create a class like:</p>\n\n<pre><code>     public class FileUpload {\n     private List&lt;MultipartFile&gt; files;\n     public List&lt;MultipartFile&gt; getFiles() {\n        return files;\n     }\n\n    public void setFiles(List&lt;MultipartFile&gt; files) {\n       this.files= files;\n      }\n   }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":281803,"reputation":13299,"user_id":578318,"accept_rate":59,"display_name":"sparkyspider"},"score":0,"creation_date":1464790173,"post_id":35161512,"comment_id":62629538,"body_markdown":"Didn&#39;t work out-the-box for me, but I prefer the approach. Ended up using @francz method above.","body":"Didn&#39;t work out-the-box for me, but I prefer the approach. Ended up using @francz method above."},{"owner":{"account_id":176729,"reputation":511,"user_id":407597,"accept_rate":100,"display_name":"Jo&#227;o Dias Amaro"},"score":0,"creation_date":1477924898,"post_id":35161512,"comment_id":67943056,"body_markdown":"The solution you propose with the @RequestBody is, in fact, correct when the body of the request has a direct translation into a domain object you have on the backend. For instance, it can be used to parse the body from JSON data to an object. However, it will not work with MultipartFile.","body":"The solution you propose with the @RequestBody is, in fact, correct when the body of the request has a direct translation into a domain object you have on the backend. For instance, it can be used to parse the body from JSON data to an object. However, it will not work with MultipartFile."},{"owner":{"account_id":10927046,"reputation":438,"user_id":8031464,"display_name":"Sindhu Arju"},"score":0,"creation_date":1586266432,"post_id":35161512,"comment_id":108061014,"body_markdown":"Will i be able to get List&lt;User&gt; and List&lt;MultipartFile&gt; ?","body":"Will i be able to get List&lt;User&gt; and List&lt;MultipartFile&gt; ?"},{"owner":{"account_id":5448189,"reputation":429,"user_id":4333961,"display_name":"alexandrum"},"score":0,"creation_date":1586267048,"post_id":35161512,"comment_id":108061379,"body_markdown":"Not with this format of API structure, but you can make a POJO with both lists and try to work with that.","body":"Not with this format of API structure, but you can make a POJO with both lists and try to work with that."}],"tags":[],"owner":{"account_id":5448189,"reputation":429,"user_id":4333961,"display_name":"alexandrum"},"comment_count":4,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1458400071,"creation_date":1454438973,"answer_id":35161512,"question_id":35160483,"body_markdown":"I think that in the way you sent data from front, it can not **bound** with java.util.List. If you create a JSON data as request and you annotated your List with @RequestBody like:\r\n\r\n\r\n    @RequestMapping(value = &quot;/{user}/attachment&quot;, method = RequestMethod.POST)\r\n    @PreAuthorize(...)\r\n    public void upload(@PathVariable User user, \r\n                       @RequestBody List&lt;MultipartFile&gt; files) {\r\n      // handle files\r\n    }\r\nthis should work. Some info [here][1].\r\n\r\n\r\n  [1]: http://www.leveluplunch.com/java/tutorials/014-post-json-to-spring-rest-webservice/","title":"Empty List&lt;MultipartFile&gt; when trying to upload many files in Spring with ng-file-upload","body":"<p>I think that in the way you sent data from front, it can not <strong>bound</strong> with java.util.List. If you create a JSON data as request and you annotated your List with @RequestBody like:</p>\n\n<pre><code>@RequestMapping(value = \"/{user}/attachment\", method = RequestMethod.POST)\n@PreAuthorize(...)\npublic void upload(@PathVariable User user, \n                   @RequestBody List&lt;MultipartFile&gt; files) {\n  // handle files\n}\n</code></pre>\n\n<p>this should work. Some info <a href=\"http://www.leveluplunch.com/java/tutorials/014-post-json-to-spring-rest-webservice/\" rel=\"nofollow\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":471003,"reputation":20684,"user_id":878514,"accept_rate":73,"display_name":"fracz"},"comment_count":0,"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1454627983,"creation_date":1454627983,"answer_id":35213600,"question_id":35160483,"body_markdown":"The problem was that [ng-file-upload](https://github.com/danialfarid/ng-file-upload) by default submits array of files using names `file[0]`, `file[1]` etc. It is configurable with the [`arrayKey`](https://github.com/danialfarid/ng-file-upload#upload-service) value when using `Upload` Service. Setting it to empty string forces the files to be sent under the same `file` key, which is correctly resolved with Spring and the `@RequestParam(&quot;file&quot;) List&lt;MultipartFile&gt;` contains all files that has been submitted.\r\n\r\n    Upload.upload({url: url, data: {file: arrayOfFiles}, arrayKey: &#39;&#39;})","title":"Empty List&lt;MultipartFile&gt; when trying to upload many files in Spring with ng-file-upload","body":"<p>The problem was that <a href=\"https://github.com/danialfarid/ng-file-upload\" rel=\"noreferrer\">ng-file-upload</a> by default submits array of files using names <code>file[0]</code>, <code>file[1]</code> etc. It is configurable with the <a href=\"https://github.com/danialfarid/ng-file-upload#upload-service\" rel=\"noreferrer\"><code>arrayKey</code></a> value when using <code>Upload</code> Service. Setting it to empty string forces the files to be sent under the same <code>file</code> key, which is correctly resolved with Spring and the <code>@RequestParam(\"file\") List&lt;MultipartFile&gt;</code> contains all files that has been submitted.</p>\n\n<pre><code>Upload.upload({url: url, data: {file: arrayOfFiles}, arrayKey: ''})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1046620,"reputation":3372,"user_id":1051462,"display_name":"Dmitri Algazin"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1621427838,"creation_date":1541086571,"answer_id":53104500,"question_id":35160483,"body_markdown":"That works for me, sending big &#39;email&#39; object with multiple file attachments from UI to back-end:\r\n\r\nAngular\r\n\r\n    sendEmailWithAttachments(taskId: string, template: string, email: any, modelConfig: any, files: any[]) {\r\n        let formData = new FormData();\r\n        formData.append(&#39;form&#39;, new Blob([JSON.stringify(email)], {type: &#39;application/json&#39;}));\r\n        files.forEach(file  =&gt; {\r\n            formData.append(&#39;files&#39;, file);\r\n        });\r\n\r\n        return this.$http({\r\n            method: &#39;POST&#39;,\r\n            data: formData,\r\n            url: this.baseUrl + &#39;/&#39; + taskId + &#39;/email-with-attachment?template=&#39; + template,\r\n            headers: {\r\n                &#39;Content-Type&#39;: undefined\r\n            },\r\n            responseType: &#39;arraybuffer&#39;\r\n        });\r\n    }\r\n\r\nJava Spring\r\n\r\n    @RequestMapping(value = &quot;{taskId}/email-with-attachment&quot;, method = RequestMethod.POST, consumes = MULTIPART_FORM_DATA_VALUE)\r\n    public void sendEmailWithAttachment(\r\n            @PathVariable String taskId,\r\n            @RequestParam String template,\r\n            @RequestParam(&quot;form&quot;) MultipartFile form,\r\n            @RequestParam(&quot;files&quot;) List&lt;MultipartFile&gt; files) throws IOException {\r\n        Map&lt;String, String&gt; parameters = new ObjectMapper().readValue(form.getInputStream(), HashMap.class);\r\n        \r\n        System.out.println(&quot;taskId&quot;+ taskId);\r\n        System.out.println(&quot;template&quot;+ template);\r\n        System.out.println(&quot;files&quot;+ files);\r\n        System.out.println(&quot;parameters&quot;+ parameters);\r\n    }\r\n","title":"Empty List&lt;MultipartFile&gt; when trying to upload many files in Spring with ng-file-upload","body":"<p>That works for me, sending big 'email' object with multiple file attachments from UI to back-end:</p>\n<p>Angular</p>\n<pre><code>sendEmailWithAttachments(taskId: string, template: string, email: any, modelConfig: any, files: any[]) {\n    let formData = new FormData();\n    formData.append('form', new Blob([JSON.stringify(email)], {type: 'application/json'}));\n    files.forEach(file  =&gt; {\n        formData.append('files', file);\n    });\n\n    return this.$http({\n        method: 'POST',\n        data: formData,\n        url: this.baseUrl + '/' + taskId + '/email-with-attachment?template=' + template,\n        headers: {\n            'Content-Type': undefined\n        },\n        responseType: 'arraybuffer'\n    });\n}\n</code></pre>\n<p>Java Spring</p>\n<pre><code>@RequestMapping(value = &quot;{taskId}/email-with-attachment&quot;, method = RequestMethod.POST, consumes = MULTIPART_FORM_DATA_VALUE)\npublic void sendEmailWithAttachment(\n        @PathVariable String taskId,\n        @RequestParam String template,\n        @RequestParam(&quot;form&quot;) MultipartFile form,\n        @RequestParam(&quot;files&quot;) List&lt;MultipartFile&gt; files) throws IOException {\n    Map&lt;String, String&gt; parameters = new ObjectMapper().readValue(form.getInputStream(), HashMap.class);\n    \n    System.out.println(&quot;taskId&quot;+ taskId);\n    System.out.println(&quot;template&quot;+ template);\n    System.out.println(&quot;files&quot;+ files);\n    System.out.println(&quot;parameters&quot;+ parameters);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8102714,"reputation":1403,"user_id":6105280,"display_name":"Timetrax"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1674158300,"creation_date":1600547307,"answer_id":63973141,"question_id":35160483,"body_markdown":"for multiple files. do this in your javascript\r\n\r\n    //first add files to form data\r\n    var formData = new FormData();\r\n    for (let i = 0; i &lt; files.length; i++) {\r\n        formData.append(&quot;images&quot;, files[i]);\r\n    }\r\n\r\n    //post files to backend e.g using angular\r\n     $http.post(&#39;upload&#39;, formData, {\r\n         transformRequest: angular.identity,\r\n         headers: {&#39;Content-Type&#39;: undefined}\r\n     })\r\n     .then(function(response){\r\n          console.log(&quot;UPLOAD COMPLETE::=&gt; &quot;, response);\r\n     }, function (error) {\r\n          console.log(error);\r\n     });\r\n\r\nDo this in your java\r\n\r\n    //your java method signature\r\n    @PostMapping(value = &quot;/upload&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE )\r\n    public Response uploadImage(@RequestParam(value = &quot;images&quot;) MultipartFile[] images){\r\n\r\n    }","title":"Empty List&lt;MultipartFile&gt; when trying to upload many files in Spring with ng-file-upload","body":"<p>for multiple files. do this in your javascript</p>\n<pre><code>//first add files to form data\nvar formData = new FormData();\nfor (let i = 0; i &lt; files.length; i++) {\n    formData.append(&quot;images&quot;, files[i]);\n}\n\n//post files to backend e.g using angular\n $http.post('upload', formData, {\n     transformRequest: angular.identity,\n     headers: {'Content-Type': undefined}\n })\n .then(function(response){\n      console.log(&quot;UPLOAD COMPLETE::=&gt; &quot;, response);\n }, function (error) {\n      console.log(error);\n });\n</code></pre>\n<p>Do this in your java</p>\n<pre><code>//your java method signature\n@PostMapping(value = &quot;/upload&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE )\npublic Response uploadImage(@RequestParam(value = &quot;images&quot;) MultipartFile[] images){\n\n}\n</code></pre>\n"}],"owner":{"account_id":471003,"reputation":20684,"user_id":878514,"accept_rate":73,"display_name":"fracz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32068,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":35213600,"answer_count":5,"score":21,"last_activity_date":1674158300,"creation_date":1454435533,"question_id":35160483,"body_markdown":"I have the following controller method for uploading multiple files at once, inspired by [this blog post](http://crunchify.com/spring-mvc-tutorial-how-to-upload-multiple-files-to-specific-location/) and answers to [this question](https://stackoverflow.com/questions/2017807/spring-3-upload-many-files) as well:\r\n\r\n    @RequestMapping(value = &quot;/{user}/attachment&quot;, method = RequestMethod.POST)\r\n    @PreAuthorize(...)\r\n    public void upload(@PathVariable User user, \r\n                       @RequestParam(&quot;file&quot;) List&lt;MultipartFile&gt; files) {\r\n      // handle files\r\n    }\r\n\r\nHowever, the list of the files is always empty although request contains them.\r\n\r\nIf I add the third [`MultipartRequest`](http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/multipart/MultipartRequest.html) parameter to the method:\r\n\r\n    public void upload(@PathVariable User user, \r\n                       @RequestParam(&quot;file&quot;) List&lt;MultipartFile&gt; files,\r\n                       MultipartRequest request)\r\n\r\nI can see it contains my uploaded files correctly:\r\n\r\n![request contents][1]\r\n\r\nWhat might be the reason of empty `List&lt;MultipartFile&gt;`?\r\n\r\nI&#39;m using [ng-file-upload](https://github.com/danialfarid/ng-file-upload) to submit the files, but I don&#39;t think it is connected with the issue. Spring 4.2.4.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/pWTZF.png","title":"Empty List&lt;MultipartFile&gt; when trying to upload many files in Spring with ng-file-upload","body":"<p>I have the following controller method for uploading multiple files at once, inspired by <a href=\"http://crunchify.com/spring-mvc-tutorial-how-to-upload-multiple-files-to-specific-location/\" rel=\"noreferrer\">this blog post</a> and answers to <a href=\"https://stackoverflow.com/questions/2017807/spring-3-upload-many-files\">this question</a> as well:</p>\n\n<pre><code>@RequestMapping(value = \"/{user}/attachment\", method = RequestMethod.POST)\n@PreAuthorize(...)\npublic void upload(@PathVariable User user, \n                   @RequestParam(\"file\") List&lt;MultipartFile&gt; files) {\n  // handle files\n}\n</code></pre>\n\n<p>However, the list of the files is always empty although request contains them.</p>\n\n<p>If I add the third <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/multipart/MultipartRequest.html\" rel=\"noreferrer\"><code>MultipartRequest</code></a> parameter to the method:</p>\n\n<pre><code>public void upload(@PathVariable User user, \n                   @RequestParam(\"file\") List&lt;MultipartFile&gt; files,\n                   MultipartRequest request)\n</code></pre>\n\n<p>I can see it contains my uploaded files correctly:</p>\n\n<p><img src=\"https://i.stack.imgur.com/pWTZF.png\" alt=\"request contents\"></p>\n\n<p>What might be the reason of empty <code>List&lt;MultipartFile&gt;</code>?</p>\n\n<p>I'm using <a href=\"https://github.com/danialfarid/ng-file-upload\" rel=\"noreferrer\">ng-file-upload</a> to submit the files, but I don't think it is connected with the issue. Spring 4.2.4.</p>\n"},{"tags":["java","eclipse"],"answers":[{"comments":[{"owner":{"account_id":411865,"reputation":31713,"user_id":784597,"accept_rate":65,"display_name":"Pawan"},"score":0,"creation_date":1331815178,"post_id":9719645,"comment_id":12356760,"body_markdown":"Hi , Please see the screen shot , i could not find anything when i click on that triangle , please see the screen shot pasted in my actual question","body":"Hi , Please see the screen shot , i could not find anything when i click on that triangle , please see the screen shot pasted in my actual question"}],"tags":[],"owner":{"account_id":468537,"reputation":2527,"user_id":874596,"display_name":"Bela Vizer"},"comment_count":1,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1331821853,"creation_date":1331814349,"answer_id":9719645,"question_id":9719605,"body_markdown":"there is a triangle pointing down on the problems view, click on it, click configure contents, there will be &quot;Number of items visible per groups:&quot;, change it\r\n\r\n![http://sadpanda.us/images/875726-7ODRIBW.png][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/MIYO3.png","title":"How to view all items of Errors under Problems View in Eclipse Editor","body":"<p>there is a triangle pointing down on the problems view, click on it, click configure contents, there will be \"Number of items visible per groups:\", change it</p>\n\n<p><img src=\"https://i.stack.imgur.com/MIYO3.png\" alt=\"http://sadpanda.us/images/875726-7ODRIBW.png\"></p>\n"},{"comments":[{"owner":{"account_id":411865,"reputation":31713,"user_id":784597,"accept_rate":65,"display_name":"Pawan"},"score":0,"creation_date":1331816457,"post_id":9719989,"comment_id":12357257,"body_markdown":"But still its displaying first 100 only .","body":"But still its displaying first 100 only ."},{"owner":{"account_id":1386556,"reputation":7199,"user_id":1318479,"accept_rate":88,"display_name":"cb4"},"score":0,"creation_date":1564803862,"post_id":9719989,"comment_id":101160050,"body_markdown":"In 2019-06, it&#39;s called `Filters...` but same window with &quot;Use limits&quot; checkbox at bottom.","body":"In 2019-06, it&#39;s called <code>Filters...</code> but same window with &quot;Use limits&quot; checkbox at bottom."}],"tags":[],"owner":{"account_id":1308209,"reputation":465,"user_id":1256748,"accept_rate":0,"display_name":"MichaBa"},"comment_count":2,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1460655164,"creation_date":1331815571,"answer_id":9719989,"question_id":9719605,"body_markdown":"Just click on the arrow down in the Perspective and select Group by None.![enter image description here][1]\r\n\r\n\r\nor \r\n\r\nConfigure Contents...\r\n\r\n![enter image description here][2]\r\n![enter image description here][3]\r\n\r\n  [1]: http://i.stack.imgur.com/l9PUn.jpg\r\n  [2]: http://i.stack.imgur.com/SM3DK.jpg\r\n  [3]: http://i.stack.imgur.com/HFNEp.jpg","title":"How to view all items of Errors under Problems View in Eclipse Editor","body":"<p>Just click on the arrow down in the Perspective and select Group by None.<img src=\"https://i.stack.imgur.com/l9PUn.jpg\" alt=\"enter image description here\"></p>\n\n<p>or </p>\n\n<p>Configure Contents...</p>\n\n<p><img src=\"https://i.stack.imgur.com/SM3DK.jpg\" alt=\"enter image description here\">\n<img src=\"https://i.stack.imgur.com/HFNEp.jpg\" alt=\"enter image description here\"></p>\n"},{"comments":[{"owner":{"account_id":103429,"reputation":6646,"user_id":277023,"accept_rate":56,"display_name":"kellyfj"},"score":2,"creation_date":1460654549,"post_id":9720669,"comment_id":60855388,"body_markdown":"This answer is no longer accurate for recent Eclipse versions - see answers below","body":"This answer is no longer accurate for recent Eclipse versions - see answers below"},{"owner":{"account_id":915369,"reputation":8469,"user_id":948268,"accept_rate":71,"display_name":"Kuldeep Jain"},"score":0,"creation_date":1460864466,"post_id":9720669,"comment_id":60935821,"body_markdown":"Well I did mention that the answer is for `Eclipse Helio` in the very beginning of my answer.","body":"Well I did mention that the answer is for <code>Eclipse Helio</code> in the very beginning of my answer."}],"tags":[],"owner":{"account_id":915369,"reputation":8469,"user_id":948268,"accept_rate":71,"display_name":"Kuldeep Jain"},"comment_count":2,"down_vote_count":3,"up_vote_count":39,"is_accepted":true,"score":36,"last_activity_date":1331818121,"creation_date":1331818121,"answer_id":9720669,"question_id":9719605,"body_markdown":"On Eclipse Helios click on the triangle pointing down on the `Problems` view, select `Preferences` then in the Preference dialog that appear, you can change the `Limit visible items per group` to change the value. Or else uncheck `Use marker limits` checkbox to allow all items being visible.\r\n\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/HPYnC.jpg","title":"How to view all items of Errors under Problems View in Eclipse Editor","body":"<p>On Eclipse Helios click on the triangle pointing down on the <code>Problems</code> view, select <code>Preferences</code> then in the Preference dialog that appear, you can change the <code>Limit visible items per group</code> to change the value. Or else uncheck <code>Use marker limits</code> checkbox to allow all items being visible.</p>\n\n<p><img src=\"https://i.stack.imgur.com/HPYnC.jpg\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":717607,"reputation":4818,"user_id":635075,"accept_rate":100,"display_name":"Rob Pridham"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1397562789,"creation_date":1397562789,"answer_id":23082903,"question_id":9719605,"body_markdown":"The previous answers are all valid, but in Java, there is a further limit configured in the compiler preferences. This is why you may continue to see 100 items.\r\n\r\n[This article][1] describes where to find the preference in question.\r\n\r\n\r\n  [1]: http://www.anujgakhar.com/2009/08/26/how-to-get-eclipse-to-show-more-than-100-errorswarnings/","title":"How to view all items of Errors under Problems View in Eclipse Editor","body":"<p>The previous answers are all valid, but in Java, there is a further limit configured in the compiler preferences. This is why you may continue to see 100 items.</p>\n\n<p><a href=\"http://www.anujgakhar.com/2009/08/26/how-to-get-eclipse-to-show-more-than-100-errorswarnings/\" rel=\"nofollow\">This article</a> describes where to find the preference in question.</p>\n"},{"comments":[{"owner":{"account_id":349367,"reputation":487,"user_id":684617,"display_name":"GoldDragonTSU"},"score":0,"creation_date":1540318737,"post_id":47595556,"comment_id":92818603,"body_markdown":"Confirmed also for Eclipse 2018-09 (4.9.0), Build ID 20180917-1800.","body":"Confirmed also for Eclipse 2018-09 (4.9.0), Build ID 20180917-1800."}],"tags":[],"owner":{"account_id":8751701,"reputation":3543,"user_id":6544712,"accept_rate":50,"display_name":"UserF40"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1512138544,"creation_date":1512138544,"answer_id":47595556,"question_id":9719605,"body_markdown":"In Eclipse Oxygen : Click the down triangle on the Markers panel, select Filters... , then untick the Use Limits check box in the pop up and then click OK.","title":"How to view all items of Errors under Problems View in Eclipse Editor","body":"<p>In Eclipse Oxygen : Click the down triangle on the Markers panel, select Filters... , then untick the Use Limits check box in the pop up and then click OK.</p>\n"},{"tags":[],"owner":{"account_id":5099916,"reputation":61,"user_id":4089836,"display_name":"Hiep Pham"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1547795272,"creation_date":1547795272,"answer_id":54249202,"question_id":9719605,"body_markdown":"[![How to view all items of Errors under Problems View in Eclipse Editor][1]][1]\r\n\r\nChange the Fitter setting as following\r\n\r\n  [1]: https://i.stack.imgur.com/tBg02.png","title":"How to view all items of Errors under Problems View in Eclipse Editor","body":"<p><a href=\"https://i.stack.imgur.com/tBg02.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tBg02.png\" alt=\"How to view all items of Errors under Problems View in Eclipse Editor\"></a></p>\n\n<p>Change the Fitter setting as following</p>\n"},{"tags":[],"owner":{"account_id":72738,"reputation":1918,"user_id":209866,"accept_rate":81,"display_name":"glenneroo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1631198789,"creation_date":1631198789,"answer_id":69120297,"question_id":9719605,"body_markdown":"It looks like it&#39;s changed again - none of these answers seem to be valid with the current 2021-x versions.\r\n\r\nFirst, find the Problems tab and look to the very right where you will find the **Filters...** button:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nOnce inside the Filters panel, look down in the bottom-left corner and either uncheck the **Use limits** checkbox or increase the limit from 100:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LHlgV.png\r\n  [2]: https://i.stack.imgur.com/AVRba.png","title":"How to view all items of Errors under Problems View in Eclipse Editor","body":"<p>It looks like it's changed again - none of these answers seem to be valid with the current 2021-x versions.</p>\n<p>First, find the Problems tab and look to the very right where you will find the <strong>Filters...</strong> button:</p>\n<p><a href=\"https://i.stack.imgur.com/LHlgV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LHlgV.png\" alt=\"enter image description here\" /></a></p>\n<p>Once inside the Filters panel, look down in the bottom-left corner and either uncheck the <strong>Use limits</strong> checkbox or increase the limit from 100:</p>\n<p><a href=\"https://i.stack.imgur.com/AVRba.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AVRba.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":20448529,"reputation":41,"user_id":15003766,"display_name":"Still Learning Guy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674158055,"creation_date":1674158055,"answer_id":75177601,"question_id":9719605,"body_markdown":"I had once a less obvious, maybe rare case where no errors and warnings were shown in the problems view. I was wondering why I don&#39;t see any entries, although I see a certain number of errors and warnings in the header of the problems view. All filters were switched off. It looked like that:\r\n\r\n[![Number of errors and warnings shown, but no entries][1]][1]\r\n\r\nI found out that in my case the &quot;Description&quot; column was so small that I didn&#39;t realize, there is another column with entries that are just not visible. Resizing the column made the grouped warnings and entries visible again.\r\n\r\n[![Entries visible again][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/I876Y.png\r\n  [2]: https://i.stack.imgur.com/gR7On.png","title":"How to view all items of Errors under Problems View in Eclipse Editor","body":"<p>I had once a less obvious, maybe rare case where no errors and warnings were shown in the problems view. I was wondering why I don't see any entries, although I see a certain number of errors and warnings in the header of the problems view. All filters were switched off. It looked like that:</p>\n<p><a href=\"https://i.stack.imgur.com/I876Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I876Y.png\" alt=\"Number of errors and warnings shown, but no entries\" /></a></p>\n<p>I found out that in my case the &quot;Description&quot; column was so small that I didn't realize, there is another column with entries that are just not visible. Resizing the column made the grouped warnings and entries visible again.</p>\n<p><a href=\"https://i.stack.imgur.com/gR7On.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gR7On.png\" alt=\"Entries visible again\" /></a></p>\n"}],"owner":{"account_id":411865,"reputation":31713,"user_id":784597,"accept_rate":65,"display_name":"Pawan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41123,"favorite_count":0,"down_vote_count":0,"up_vote_count":48,"accepted_answer_id":9720669,"answer_count":8,"score":48,"last_activity_date":1674158055,"creation_date":1331814170,"question_id":9719605,"body_markdown":"I had checked out a Project from Our CVS. When I tried to build it in Eclipse by adding some jars, it showed a lot of errors under the Problems View in Eclipse.\r\n\r\nIt displayed nearly 12,000 errors, but I could see only the first 100 of those 12,000 errors. \r\nCould anybody please explain how I can see the next 100 errors?\r\n\r\nAnd I don&#39;t know why, but after I check out from CVS I am also getting these errors.\r\n\r\nThanks.\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/cxOiK.png","title":"How to view all items of Errors under Problems View in Eclipse Editor","body":"<p>I had checked out a Project from Our CVS. When I tried to build it in Eclipse by adding some jars, it showed a lot of errors under the Problems View in Eclipse.</p>\n<p>It displayed nearly 12,000 errors, but I could see only the first 100 of those 12,000 errors.\nCould anybody please explain how I can see the next 100 errors?</p>\n<p>And I don't know why, but after I check out from CVS I am also getting these errors.</p>\n<p>Thanks.</p>\n<p><img src=\"https://i.stack.imgur.com/cxOiK.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","oauth-2.0","wso2","wso2-identity-server"],"answers":[{"tags":[],"owner":{"account_id":4949717,"reputation":1119,"user_id":3984101,"accept_rate":60,"display_name":"Nipun Thathsara"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1606305447,"creation_date":1606305447,"answer_id":65004257,"question_id":65002175,"body_markdown":"Use the `BasicAuthRequestPathAuthenticator` from the Local Authenticator section to skip the login page as below.\r\nYou also might want to skip the login consent as well.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[Documentation][2]\r\n\r\nCheers\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cMAOk.png\r\n  [2]: https://docs.wso2.com/display/IS570/Basic+Auth+Request+Path+Authentication","title":"How to get authorize code to dismiss login page with oauth2 wso2 identity server","body":"<p>Use the <code>BasicAuthRequestPathAuthenticator</code> from the Local Authenticator section to skip the login page as below.\nYou also might want to skip the login consent as well.</p>\n<p><a href=\"https://i.stack.imgur.com/cMAOk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cMAOk.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://docs.wso2.com/display/IS570/Basic+Auth+Request+Path+Authentication\" rel=\"nofollow noreferrer\">Documentation</a></p>\n<p>Cheers</p>\n"}],"owner":{"account_id":11986105,"reputation":55,"user_id":8770576,"display_name":"Truong Huy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":413,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65004257,"answer_count":1,"score":0,"last_activity_date":1674157967,"creation_date":1606297822,"question_id":65002175,"body_markdown":"I&#39;m using WSO2 Identity with structure below:&lt;br/&gt;\r\nClient -&gt; My Web Application (/my-app) -&gt; WSO2-is (this is private zone)&lt;br/&gt;\r\nI created service provider on WSO2-is and config all of the necessary information (use OAuth2).&lt;br/&gt;\r\nClient access `/my-app/login?client-id=&lt;CLIENT_ID&gt;&amp;redirect_uri=&lt;REDIRECT_URI&gt;&amp;response_type=code...`&lt;br/&gt;\r\nThen will be submit username + password. My application catch the submit request, then send the request to [WSO2-is endpoint][1]: https://localhost:9443/oauth2/authorize.&lt;br/&gt;\r\nHow to init request with parameters to get authorization code directly?&lt;br/&gt;\r\nI was referenced wso2-is documentation. The authorization code will be insert into a table [`IDN_OAUTH2_AUTHORIZATION_CODE`][2]. With the authorization code, i gonna get access token from https://localhost:9443/oauth2/token endpoint. &lt;br/&gt;\r\nI can get access token directly with oauth2/token endpoint by grant_type is password, but I&#39;m only want to get access token by workflow description above\r\n\r\n\r\n  [1]: https://github.com/wso2-extensions/identity-inbound-auth-oauth/blob/master/components/org.wso2.carbon.identity.oauth.endpoint/src/main/java/org/wso2/carbon/identity/oauth/endpoint/authz/OAuth2AuthzEndpoint.java\r\n  [2]: https://github.com/wso2-extensions/identity-inbound-auth-oauth/blob/master/components/org.wso2.carbon.identity.oauth/src/main/java/org/wso2/carbon/identity/oauth2/dao/SQLQueries.java","title":"How to get authorize code to dismiss login page with oauth2 wso2 identity server","body":"<p>I'm using WSO2 Identity with structure below:<br/>\nClient -&gt; My Web Application (/my-app) -&gt; WSO2-is (this is private zone)<br/>\nI created service provider on WSO2-is and config all of the necessary information (use OAuth2).<br/>\nClient access <code>/my-app/login?client-id=&lt;CLIENT_ID&gt;&amp;redirect_uri=&lt;REDIRECT_URI&gt;&amp;response_type=code...</code><br/>\nThen will be submit username + password. My application catch the submit request, then send the request to <a href=\"https://github.com/wso2-extensions/identity-inbound-auth-oauth/blob/master/components/org.wso2.carbon.identity.oauth.endpoint/src/main/java/org/wso2/carbon/identity/oauth/endpoint/authz/OAuth2AuthzEndpoint.java\" rel=\"nofollow noreferrer\">WSO2-is endpoint</a>: https://localhost:9443/oauth2/authorize.<br/>\nHow to init request with parameters to get authorization code directly?<br/>\nI was referenced wso2-is documentation. The authorization code will be insert into a table <a href=\"https://github.com/wso2-extensions/identity-inbound-auth-oauth/blob/master/components/org.wso2.carbon.identity.oauth/src/main/java/org/wso2/carbon/identity/oauth2/dao/SQLQueries.java\" rel=\"nofollow noreferrer\"><code>IDN_OAUTH2_AUTHORIZATION_CODE</code></a>. With the authorization code, i gonna get access token from https://localhost:9443/oauth2/token endpoint. <br/>\nI can get access token directly with oauth2/token endpoint by grant_type is password, but I'm only want to get access token by workflow description above</p>\n"},{"tags":["java","android","widget","onupdate"],"comments":[{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1674161125,"post_id":75165053,"comment_id":132662048,"body_markdown":"You can&#39;t keep state in instance or `static` fields because a new `AppWidgetProvider` instance – and possibly a new process – is created for each Widget action; i.e., `UPDATE`, `ENABLED`, `DELETED`, etc. You&#39;ll need to persist that to, for example, a database or file. Also, the user can create multiple instances of the Widget itself, so you need to account for possibly multiple active IDs at once. Here&#39;s an old minimal example that I modified slightly for this setup: https://drive.google.com/file/d/1EFo7prmoOdLohe9vukaUAC6mSJTbEWC0/view?usp=share_link. It saves to `SharedPreferences`.","body":"You can&#39;t keep state in instance or <code>static</code> fields because a new <code>AppWidgetProvider</code> instance – and possibly a new process – is created for each Widget action; i.e., <code>UPDATE</code>, <code>ENABLED</code>, <code>DELETED</code>, etc. You&#39;ll need to persist that to, for example, a database or file. Also, the user can create multiple instances of the Widget itself, so you need to account for possibly multiple active IDs at once. Here&#39;s an old minimal example that I modified slightly for this setup: <a href=\"https://drive.google.com/file/d/1EFo7prmoOdLohe9vukaUAC6mSJTbEWC0/view?usp=share_link\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1EFo7prmoOdLohe9vukaUAC6mSJTbEWC0/&hellip;</a>. It saves to <code>SharedPreferences</code>."},{"owner":{"account_id":4473562,"reputation":1,"user_id":20922855,"display_name":"Luke Mills"},"score":0,"creation_date":1674331634,"post_id":75165053,"comment_id":132693600,"body_markdown":"Thanks. I had to make some slight changes. BuildConfig.APPLICATION_ID doesnt seem to work for me so I just pasted in the applicationId string from the gradle. Also the widget info.xml needed a lot more in it. But now I have a working template!\n\nI would be lying if I said I understood it all. I cannot seem to figure out how to differentiate clicks on different buttons. It looks like appWidgetId is used as the key for all clicks, how would you suggest I modify the code for multiple buttons. I think I want to keep the appWidgetId but also add another field to the shared preferences?","body":"Thanks. I had to make some slight changes. BuildConfig.APPLICATION_ID doesnt seem to work for me so I just pasted in the applicationId string from the gradle. Also the widget info.xml needed a lot more in it. But now I have a working template!  I would be lying if I said I understood it all. I cannot seem to figure out how to differentiate clicks on different buttons. It looks like appWidgetId is used as the key for all clicks, how would you suggest I modify the code for multiple buttons. I think I want to keep the appWidgetId but also add another field to the shared preferences?"},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1674335474,"post_id":75165053,"comment_id":132694223,"body_markdown":"`BuildConfig` often won&#39;t resolve unless you have a current valid build; you can compile while it shows an error. Didn&#39;t have to be exactly that anyway; just needs to be a relatively unique string. Also, that was a _minimal_ example to demo clicks, nothing else. The `widget_info` file technically isn&#39;t required at all, and that example works exactly as expected. It was tested on multiple devices before posting. Anyway, yeah, if you need to track more buttons per Widget, you&#39;ll need to add some other identifier to your saved state, but `SharedPreferences` is not going to work well if things…","body":"<code>BuildConfig</code> often won&#39;t resolve unless you have a current valid build; you can compile while it shows an error. Didn&#39;t have to be exactly that anyway; just needs to be a relatively unique string. Also, that was a <i>minimal</i> example to demo clicks, nothing else. The <code>widget_info</code> file technically isn&#39;t required at all, and that example works exactly as expected. It was tested on multiple devices before posting. Anyway, yeah, if you need to track more buttons per Widget, you&#39;ll need to add some other identifier to your saved state, but <code>SharedPreferences</code> is not going to work well if things…"},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1674335476,"post_id":75165053,"comment_id":132694224,"body_markdown":"…get much more complex. You should look into using a database. If you really want to stick with preferences, you&#39;ll need to devise some way translate all that saved stuff into key-value pairs, &#39;cause that&#39;s all it handles. For example, you could use keys like `widget_button_one_clicked:ID`, `widget_button_two_clicked:ID`, etc., and have a separate entry for each button in each Widget. Alternatively, you could use one entry per Widget – e.g, with keys like `widget:ID` – and encode all of its buttons&#39; state into one string – e.g., `&quot;on;off;off;on&quot;` – but that takes more processing, obviously.","body":"…get much more complex. You should look into using a database. If you really want to stick with preferences, you&#39;ll need to devise some way translate all that saved stuff into key-value pairs, &#39;cause that&#39;s all it handles. For example, you could use keys like <code>widget_button_one_clicked:ID</code>, <code>widget_button_two_clicked:ID</code>, etc., and have a separate entry for each button in each Widget. Alternatively, you could use one entry per Widget – e.g, with keys like <code>widget:ID</code> – and encode all of its buttons&#39; state into one string – e.g., <code>&quot;on;off;off;on&quot;</code> – but that takes more processing, obviously."},{"owner":{"account_id":4473562,"reputation":1,"user_id":20922855,"display_name":"Luke Mills"},"score":0,"creation_date":1674397574,"post_id":75165053,"comment_id":132701529,"body_markdown":"I probably implemented the info.xml wrong because nothing was showing up in my widgets menu (I am not a java pro). I am doing something sort of similar (i think) to what you suggest, I have an arraylist&lt;object&gt; saved to a gson which i am able to load, modify, and save from in my widget. All I need is a maximum of 8 image buttons which change their image based on their status. I really do not understand this keying though, how can I merge a key and the appWidgetId to work with the example code? Or what search terms can I use to find out more about this? Nothing I&#39;ve tried wants to work. Thanks!","body":"I probably implemented the info.xml wrong because nothing was showing up in my widgets menu (I am not a java pro). I am doing something sort of similar (i think) to what you suggest, I have an arraylist&lt;object&gt; saved to a gson which i am able to load, modify, and save from in my widget. All I need is a maximum of 8 image buttons which change their image based on their status. I really do not understand this keying though, how can I merge a key and the appWidgetId to work with the example code? Or what search terms can I use to find out more about this? Nothing I&#39;ve tried wants to work. Thanks!"},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1674441013,"post_id":75165053,"comment_id":132708220,"body_markdown":"Yeah, it can take a minute to get your head around; I&#39;ll try to clarify. The ultimate goal is to keep distinct settings for each instance (ID) of your Widget. For my simple example, it&#39;s sufficient to use `SharedPreferences`, which basically just manages an XML file containing values each labeled with a key to identify it, but those keys have to be unique within the file. That&#39;s all I&#39;m doing with the key+ID stuff in both of the alternatives mentioned above: making sure to keep distinct settings within a single `SharedPreferences` file. If this were a database, it&#39;d be cake &#39;cause we can look…","body":"Yeah, it can take a minute to get your head around; I&#39;ll try to clarify. The ultimate goal is to keep distinct settings for each instance (ID) of your Widget. For my simple example, it&#39;s sufficient to use <code>SharedPreferences</code>, which basically just manages an XML file containing values each labeled with a key to identify it, but those keys have to be unique within the file. That&#39;s all I&#39;m doing with the key+ID stuff in both of the alternatives mentioned above: making sure to keep distinct settings within a single <code>SharedPreferences</code> file. If this were a database, it&#39;d be cake &#39;cause we can look…"},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1674441015,"post_id":75165053,"comment_id":132708221,"body_markdown":"…up a whole row of individual values with just an ID, but with `SharedPreferences` we only get one value per key. There is a third option which I neglected to mention which might&#39;ve been easier to grasp: a separate file for each Widget ID, where you wouldn&#39;t have to worry about creating unique keys at runtime. In any case, you&#39;re also going to have to send more information on the `Intent` to tell which button was clicked. Here&#39;s an example with separate files: https://drive.google.com/file/d/1EJcGA8nVPP6VEEuzaTYZWz-ZJQUPnEb3/view?usp=share_link. Looks like: https://i.stack.imgur.com/AQpIj.gif.","body":"…up a whole row of individual values with just an ID, but with <code>SharedPreferences</code> we only get one value per key. There is a third option which I neglected to mention which might&#39;ve been easier to grasp: a separate file for each Widget ID, where you wouldn&#39;t have to worry about creating unique keys at runtime. In any case, you&#39;re also going to have to send more information on the <code>Intent</code> to tell which button was clicked. Here&#39;s an example with separate files: <a href=\"https://drive.google.com/file/d/1EJcGA8nVPP6VEEuzaTYZWz-ZJQUPnEb3/view?usp=share_link\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1EJcGA8nVPP6VEEuzaTYZWz-ZJQUPnEb3/&hellip;</a>. Looks like: <a href=\"https://i.stack.imgur.com/AQpIj.gif\" rel=\"nofollow noreferrer\">i.stack.imgur.com/AQpIj.gif</a>."},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1674441021,"post_id":75165053,"comment_id":132708222,"body_markdown":"If you&#39;d rather use a single file with one key per Widget instance, which sounds like what you&#39;re currently trying, I can modify that example, but I won&#39;t use Gson, as it&#39;s huge overkill.","body":"If you&#39;d rather use a single file with one key per Widget instance, which sounds like what you&#39;re currently trying, I can modify that example, but I won&#39;t use Gson, as it&#39;s huge overkill."},{"owner":{"account_id":4473562,"reputation":1,"user_id":20922855,"display_name":"Luke Mills"},"score":0,"creation_date":1674678277,"post_id":75165053,"comment_id":132768416,"body_markdown":"Thanks! What you provided is working great for me so far, I was able to get the basic functionality I was looking for to work. It is easier to understand now that I can see it working. I don&#39;t fully understand it, I need to read up on URI for example, but I think as I work with it more it will start to make more sense. Do you want to submit your code(s) as an answer? and I can mark this as answered. I think it would be pretty helpful for newer app developers as there aren&#39;t a lot of tutorials for something this complex.","body":"Thanks! What you provided is working great for me so far, I was able to get the basic functionality I was looking for to work. It is easier to understand now that I can see it working. I don&#39;t fully understand it, I need to read up on URI for example, but I think as I work with it more it will start to make more sense. Do you want to submit your code(s) as an answer? and I can mark this as answered. I think it would be pretty helpful for newer app developers as there aren&#39;t a lot of tutorials for something this complex."},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1674703074,"post_id":75165053,"comment_id":132772758,"body_markdown":"No problem. The URI thing is kinda cheating, and mildly hacky. We need a distinct `PendingIntent` for each button, but the system will only give us a new one if it&#39;s different than all the active ones we have already. Unfortunately, the `Intent`&#39;s extras are not considered when comparing to the old ones, so we have to differentiate them with other properties. We pass the `appWidgetId` in the `getBroadcast()` call as the `requestCode`, which is used in the comparisons. That only makes it distinct down to the Widget instance, though, so I used the data URI to make them distinct for the buttons.","body":"No problem. The URI thing is kinda cheating, and mildly hacky. We need a distinct <code>PendingIntent</code> for each button, but the system will only give us a new one if it&#39;s different than all the active ones we have already. Unfortunately, the <code>Intent</code>&#39;s extras are not considered when comparing to the old ones, so we have to differentiate them with other properties. We pass the <code>appWidgetId</code> in the <code>getBroadcast()</code> call as the <code>requestCode</code>, which is used in the comparisons. That only makes it distinct down to the Widget instance, though, so I used the data URI to make them distinct for the buttons."},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1674703077,"post_id":75165053,"comment_id":132772759,"body_markdown":"We could&#39;ve used a different action or category for each, but I thought that would be too confusing. There&#39;s a newer property called `identifier` that would&#39;ve been much more appropriate, but it&#39;s not available until API level 29. We only care about the third part of the URI, btw, the fragment; the other two parts don&#39;t matter at all, and can be anything, really. Anyhoo, glad I could help, but I&#39;m not posting new answers here atm. Please feel free to finish this up however you like. Thanks, though. I appreciate the offer. Cheers!","body":"We could&#39;ve used a different action or category for each, but I thought that would be too confusing. There&#39;s a newer property called <code>identifier</code> that would&#39;ve been much more appropriate, but it&#39;s not available until API level 29. We only care about the third part of the URI, btw, the fragment; the other two parts don&#39;t matter at all, and can be anything, really. Anyhoo, glad I could help, but I&#39;m not posting new answers here atm. Please feel free to finish this up however you like. Thanks, though. I appreciate the offer. Cheers!"}],"owner":{"account_id":4473562,"reputation":1,"user_id":20922855,"display_name":"Luke Mills"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674157554,"creation_date":1674074371,"question_id":75165053,"body_markdown":"I currently have the most basic widget possible for attempting to force an update on a button press, a single button which updates its own label from &quot;old text&quot; to &quot;new text&quot;.\r\n\r\nThis has worked exactly once, and then never again. According to the logs it should be working. All I want, is a consistent way to update my widget on a button press. \r\n\r\nThis is the entirety of the code aside from an empty main activity and XML files.\r\n\r\n```\r\npublic class ExampleAppWidgetProvider extends AppWidgetProvider {\r\n    private static final String MyOnClick = &quot;myOnClickTag&quot;;\r\n    private static final String REFRESH_ACTION = &quot;refresh&quot;;\r\n    String globalString = &quot;Blank&quot;;\r\n    static boolean globalBoolean = false;\r\n\r\n    @Override\r\n    public void onUpdate(Context context, AppWidgetManager appWidgetManager, int[] appWidgetIds) {\r\n        for (int appWidgetId : appWidgetIds) {\r\n\r\n            RemoteViews views = new RemoteViews(context.getPackageName(), R.layout.example_widget);\r\n            views.setOnClickPendingIntent(R.id.example_widget_button, getPendingSelfIntent(context, MyOnClick, appWidgetIds));\r\n\r\n            if(globalBoolean == true) {\r\n                views.setCharSequence(R.id.example_widget_button, &quot;setText&quot;, &quot;new text&quot;);\r\n                Log.w(&quot;Widget&quot;, &quot;displaying new text&quot;);\r\n            }else{\r\n                views.setCharSequence(R.id.example_widget_button, &quot;setText&quot;, &quot;old text&quot;);\r\n                Log.w(&quot;Widget&quot;, &quot;displaying old text&quot;);\r\n            }\r\n\r\n            appWidgetManager.updateAppWidget(appWidgetId, views);\r\n        }\r\n        super.onUpdate(context, appWidgetManager, appWidgetIds);\r\n    }\r\n\r\n    protected PendingIntent getPendingSelfIntent(Context context, String action, int[] appWidgetIds) {\r\n        Intent intent = new Intent(context, getClass());\r\n        intent.putExtra(AppWidgetManager.EXTRA_APPWIDGET_IDS, appWidgetIds);\r\n        intent.setAction(action);\r\n        return PendingIntent.getBroadcast(context, 0, intent, PendingIntent.FLAG_MUTABLE);\r\n    }\r\n\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n        super.onReceive(context, intent);//add this line\r\n        if (MyOnClick.equals(intent.getAction())) {\r\n            globalString = &quot;new text&quot;;\r\n            globalBoolean = !globalBoolean;\r\n\r\n            Bundle extras = intent.getExtras();\r\n            if(extras != null) {\r\n                int[] appWidgetIds = extras.getIntArray(AppWidgetManager.EXTRA_APPWIDGET_IDS);\r\n                if (appWidgetIds != null &amp;&amp; appWidgetIds.length &gt; 0) {\r\n                    Log.w(&quot;Widget&quot;, &quot;Calling onUpdate()&quot;);\r\n                    this.onUpdate(context, AppWidgetManager.getInstance(context), appWidgetIds);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhen I press the button I can see from the logs that it does enter onUpdate() and it even goes into the correct part of the if statement:\r\n\r\n2023-01-18 21:08:16.900 17447-17447/com.example.widget_test_2 W/Widget: Calling onUpdate()\r\n2023-01-18 21:08:16.901 17447-17447/com.example.widget_test_2 W/Widget: displaying new text\r\n\r\nAnd yet, the widget does not graphically update.\r\n\r\nI think that what I saw originally might have been a fluke. While learning to make widgets I followed Coding In Flows widget tutorial which is now 5 years old, and it only updates graphically once per hour despite also forcing an update on click (a lot of that tutorial doesnt work anymore). I think in 2023 I must need to do something else in order to force this update to work consistently, but the majority of the posts I can find on this subject are pretty old, or I&#39;ve attempted, or don&#39;t answer my question.\r\n\r\nCan someone please provide a code example of what I need to change to force an update?\r\n\r\nThanks!\r\n","title":"onUpdate is running but not updating the Widget graphically","body":"<p>I currently have the most basic widget possible for attempting to force an update on a button press, a single button which updates its own label from &quot;old text&quot; to &quot;new text&quot;.</p>\n<p>This has worked exactly once, and then never again. According to the logs it should be working. All I want, is a consistent way to update my widget on a button press.</p>\n<p>This is the entirety of the code aside from an empty main activity and XML files.</p>\n<pre><code>public class ExampleAppWidgetProvider extends AppWidgetProvider {\n    private static final String MyOnClick = &quot;myOnClickTag&quot;;\n    private static final String REFRESH_ACTION = &quot;refresh&quot;;\n    String globalString = &quot;Blank&quot;;\n    static boolean globalBoolean = false;\n\n    @Override\n    public void onUpdate(Context context, AppWidgetManager appWidgetManager, int[] appWidgetIds) {\n        for (int appWidgetId : appWidgetIds) {\n\n            RemoteViews views = new RemoteViews(context.getPackageName(), R.layout.example_widget);\n            views.setOnClickPendingIntent(R.id.example_widget_button, getPendingSelfIntent(context, MyOnClick, appWidgetIds));\n\n            if(globalBoolean == true) {\n                views.setCharSequence(R.id.example_widget_button, &quot;setText&quot;, &quot;new text&quot;);\n                Log.w(&quot;Widget&quot;, &quot;displaying new text&quot;);\n            }else{\n                views.setCharSequence(R.id.example_widget_button, &quot;setText&quot;, &quot;old text&quot;);\n                Log.w(&quot;Widget&quot;, &quot;displaying old text&quot;);\n            }\n\n            appWidgetManager.updateAppWidget(appWidgetId, views);\n        }\n        super.onUpdate(context, appWidgetManager, appWidgetIds);\n    }\n\n    protected PendingIntent getPendingSelfIntent(Context context, String action, int[] appWidgetIds) {\n        Intent intent = new Intent(context, getClass());\n        intent.putExtra(AppWidgetManager.EXTRA_APPWIDGET_IDS, appWidgetIds);\n        intent.setAction(action);\n        return PendingIntent.getBroadcast(context, 0, intent, PendingIntent.FLAG_MUTABLE);\n    }\n\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        super.onReceive(context, intent);//add this line\n        if (MyOnClick.equals(intent.getAction())) {\n            globalString = &quot;new text&quot;;\n            globalBoolean = !globalBoolean;\n\n            Bundle extras = intent.getExtras();\n            if(extras != null) {\n                int[] appWidgetIds = extras.getIntArray(AppWidgetManager.EXTRA_APPWIDGET_IDS);\n                if (appWidgetIds != null &amp;&amp; appWidgetIds.length &gt; 0) {\n                    Log.w(&quot;Widget&quot;, &quot;Calling onUpdate()&quot;);\n                    this.onUpdate(context, AppWidgetManager.getInstance(context), appWidgetIds);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>When I press the button I can see from the logs that it does enter onUpdate() and it even goes into the correct part of the if statement:</p>\n<p>2023-01-18 21:08:16.900 17447-17447/com.example.widget_test_2 W/Widget: Calling onUpdate()\n2023-01-18 21:08:16.901 17447-17447/com.example.widget_test_2 W/Widget: displaying new text</p>\n<p>And yet, the widget does not graphically update.</p>\n<p>I think that what I saw originally might have been a fluke. While learning to make widgets I followed Coding In Flows widget tutorial which is now 5 years old, and it only updates graphically once per hour despite also forcing an update on click (a lot of that tutorial doesnt work anymore). I think in 2023 I must need to do something else in order to force this update to work consistently, but the majority of the posts I can find on this subject are pretty old, or I've attempted, or don't answer my question.</p>\n<p>Can someone please provide a code example of what I need to change to force an update?</p>\n<p>Thanks!</p>\n"},{"tags":["java","spring","tomcat"],"comments":[{"owner":{"account_id":13874157,"reputation":584,"user_id":10016327,"display_name":"satyesht"},"score":0,"creation_date":1674157763,"post_id":75177496,"comment_id":132661004,"body_markdown":"would wrting a java filter to filter out request comming from other domains work ??\nalso try to network stack overflow tags here maybe there is a networking solution here that devs wont be able to provide .","body":"would wrting a java filter to filter out request comming from other domains work ?? also try to network stack overflow tags here maybe there is a networking solution here that devs wont be able to provide ."},{"owner":{"account_id":18741998,"reputation":1,"user_id":13665081,"display_name":"HukuToc2288"},"score":0,"creation_date":1674161151,"post_id":75177496,"comment_id":132662054,"body_markdown":"@satyesht any particular examples? how can I filter requests?","body":"@satyesht any particular examples? how can I filter requests?"},{"owner":{"account_id":13874157,"reputation":584,"user_id":10016327,"display_name":"satyesht"},"score":0,"creation_date":1674162751,"post_id":75177496,"comment_id":132662493,"body_markdown":"OncePerRequestFilter eg: https://www.baeldung.com/spring-onceperrequestfilter\nthen in that request :String domain = new URL(request.getRequestURL().toString()).getHost(); to get the domain of the request\nand match it with  valid domain names and reject or accept request based on that","body":"OncePerRequestFilter eg: <a href=\"https://www.baeldung.com/spring-onceperrequestfilter\" rel=\"nofollow noreferrer\">baeldung.com/spring-onceperrequestfilter</a> then in that request :String domain = new URL(request.getRequestURL().toString()).getHost(); to get the domain of the request and match it with  valid domain names and reject or accept request based on that"}],"owner":{"account_id":18741998,"reputation":1,"user_id":13665081,"display_name":"HukuToc2288"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674157420,"creation_date":1674157420,"question_id":75177496,"body_markdown":"I&#39;m developing spring application that run on port 8080. I have IP address `198.51.100.1` and domain `*.example.com`, so my app available on both http://example.com:8080, http://myservice.example.com:8080 and http://198.51.100.1:8080. That is the problem, as port scanner bots can find my service, and because service is doing large work when called and host machine is low-cost VM, even small attack can make service unavailable. So i want to make it answer only when requesting http://myservice.example.com:8080, and myservice.example.com will be known only for certain group of people. Also, domain should be dynamically configurable like `--server.port` option for port or in some file, as service will be deployed on certain number of machines\r\n\r\nI know about Apache reverse proxy, but as I said, service deployed on low-cost VM (it&#39;s literally potato PC!), and when using reverse proxy, it consumes about 30-50% CPU (other 50-70% goes to my service). I did some benchmarks and it shows that response time is about 1.5 times faster when accessing service directly without reverse proxy","title":"Spring respond only on specified domain","body":"<p>I'm developing spring application that run on port 8080. I have IP address <code>198.51.100.1</code> and domain <code>*.example.com</code>, so my app available on both <a href=\"http://example.com:8080\" rel=\"nofollow noreferrer\">http://example.com:8080</a>, <a href=\"http://myservice.example.com:8080\" rel=\"nofollow noreferrer\">http://myservice.example.com:8080</a> and <a href=\"http://198.51.100.1:8080\" rel=\"nofollow noreferrer\">http://198.51.100.1:8080</a>. That is the problem, as port scanner bots can find my service, and because service is doing large work when called and host machine is low-cost VM, even small attack can make service unavailable. So i want to make it answer only when requesting <a href=\"http://myservice.example.com:8080\" rel=\"nofollow noreferrer\">http://myservice.example.com:8080</a>, and myservice.example.com will be known only for certain group of people. Also, domain should be dynamically configurable like <code>--server.port</code> option for port or in some file, as service will be deployed on certain number of machines</p>\n<p>I know about Apache reverse proxy, but as I said, service deployed on low-cost VM (it's literally potato PC!), and when using reverse proxy, it consumes about 30-50% CPU (other 50-70% goes to my service). I did some benchmarks and it shows that response time is about 1.5 times faster when accessing service directly without reverse proxy</p>\n"},{"tags":["java","grpc","netty","rpc","http2"],"comments":[{"owner":{"account_id":5967476,"reputation":24635,"user_id":4690866,"display_name":"Eric Anderson"},"score":0,"creation_date":1674157385,"post_id":75177425,"comment_id":132660903,"body_markdown":"Why? What sort of data are you trying to send?","body":"Why? What sort of data are you trying to send?"},{"owner":{"account_id":3004149,"reputation":711,"user_id":2548990,"accept_rate":29,"display_name":"abhilash_goyal"},"score":0,"creation_date":1674163532,"post_id":75177425,"comment_id":132662680,"body_markdown":"For example, I want my server to handle connections from a certain client in a different way. That&#39;s the use case I am trying to work on.","body":"For example, I want my server to handle connections from a certain client in a different way. That&#39;s the use case I am trying to work on."},{"owner":{"account_id":3004149,"reputation":711,"user_id":2548990,"accept_rate":29,"display_name":"abhilash_goyal"},"score":0,"creation_date":1674669311,"post_id":75177425,"comment_id":132765719,"body_markdown":"@EricAnderson any help here please","body":"@EricAnderson any help here please"},{"owner":{"account_id":14947494,"reputation":521,"user_id":10792320,"display_name":"San P"},"score":0,"creation_date":1674769017,"post_id":75177425,"comment_id":132789911,"body_markdown":"Metadata is for an RPC and there is no connection level metadata. You may have to send a &quot;dummy&quot; RPC after connection establishment just to be able send your one-time metadata","body":"Metadata is for an RPC and there is no connection level metadata. You may have to send a &quot;dummy&quot; RPC after connection establishment just to be able send your one-time metadata"}],"owner":{"account_id":3004149,"reputation":711,"user_id":2548990,"accept_rate":29,"display_name":"abhilash_goyal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674157004,"creation_date":1674157004,"question_id":75177425,"body_markdown":"I am looking for some mechanism in which I can send some metadata(key: value) when the gRPC connection is being established. That means, only once per connection.\r\n\r\nI know how to send it per RPC but not sure how to so it per connection level.\r\n\r\nAny help will be appreciated.\r\n\r\nPS: I am working in Java framework.","title":"Sending metadata when gRPC connection is getting establised","body":"<p>I am looking for some mechanism in which I can send some metadata(key: value) when the gRPC connection is being established. That means, only once per connection.</p>\n<p>I know how to send it per RPC but not sure how to so it per connection level.</p>\n<p>Any help will be appreciated.</p>\n<p>PS: I am working in Java framework.</p>\n"},{"tags":["java","http","httprequest","apache-httpclient-4.x"],"comments":[{"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"score":0,"creation_date":1587393017,"post_id":61324831,"comment_id":108486726,"body_markdown":"Have you tried logging with the thread id?  The connection manager manages connections, not requests, so when the connection manager is doing it&#39;s thing (checking out or releasing) it doesn&#39;t, and shouldn&#39;t, know about any request details.  You could elsewhere log the request details with the thread id, and correlate it later?  You could also leverage the logging MDC to achieve this http://www.slf4j.org/manual.html#mdc","body":"Have you tried logging with the thread id?  The connection manager manages connections, not requests, so when the connection manager is doing it&#39;s thing (checking out or releasing) it doesn&#39;t, and shouldn&#39;t, know about any request details.  You could elsewhere log the request details with the thread id, and correlate it later?  You could also leverage the logging MDC to achieve this <a href=\"http://www.slf4j.org/manual.html#mdc\" rel=\"nofollow noreferrer\">slf4j.org/manual.html#mdc</a>"},{"owner":{"account_id":6469063,"reputation":26,"user_id":5009807,"display_name":"Archit Kansal"},"score":0,"creation_date":1587394590,"post_id":61324831,"comment_id":108487737,"body_markdown":"I agree that connection pool manager shouldn&#39;t care about request details. Can I instead obtain these details by overriding execute() method in http client somehow?","body":"I agree that connection pool manager shouldn&#39;t care about request details. Can I instead obtain these details by overriding execute() method in http client somehow?"},{"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"score":0,"creation_date":1587476054,"post_id":61324831,"comment_id":108521990,"body_markdown":"Maybe, but I would caution against too much tight coupling.  Have you considered turning on pool logging?","body":"Maybe, but I would caution against too much tight coupling.  Have you considered turning on pool logging?"}],"answers":[{"tags":[],"owner":{"account_id":1639895,"reputation":1340,"user_id":1512555,"display_name":"alegria"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674156918,"creation_date":1674156918,"answer_id":75177409,"question_id":61324831,"body_markdown":"If you&#39;re using Spring Boot, you could set the log level to DEBUG in the application.properties of your Java application\r\n\r\n```\r\nlogging.level.org.apache.http.impl.conn.PoolingHttpClientConnectionManager=DEBUG\r\n```\r\n\r\nThat logs the details when the connection was requested, leased and released.\r\n\r\nYou can combine it with using Spring Sleuth for trace id logging https://spring.io/projects/spring-cloud-sleuth#overview \r\n```\r\n2023-01-19 02:54:38.869 &#39;DEBUG [traceid=3247a65b81bfb99b]&#39; 1 --- [      task-7908] h.i.c.PoolingHttpClientConnectionManager : Connection request: [route: {s}-&gt;https://url][total available: 1; route allocated: 8 of 8; total allocated: 8 of 20]\r\n2023-01-19 02:54:38.869 &#39;DEBUG [traceid=3247a65b81bfb99b]&#39; 1 --- [      task-7908] h.i.c.PoolingHttpClientConnectionManager : Connection leased: [id: 6339][route: {s}-&gt;https://url][total available: 0; route allocated: 8 of 8; total allocated: 8 of 20]\r\n2023-01-19 02:54:39.097 &#39;DEBUG [traceid=3247a65b81bfb99b]&#39; 1 --- [      task-7908] h.i.c.PoolingHttpClientConnectionManager : Connection [id: 6339][route: {s}-&gt;https://url] can be kept alive indefinitely\r\n2023-01-19 02:54:39.097 &#39;DEBUG [traceid=3247a65b81bfb99b]&#39; 1 --- [      task-7908] h.i.c.PoolingHttpClientConnectionManager : Connection released: [id: 6339][route: {s}-&gt;https://url][total available: 1; route allocated: 8 of 8; total allocated: 8 of 20]\r\n```","title":"obtaining Apache PoolingHttpClientConnectionManager - per request - connection and actual execution time","body":"<p>If you're using Spring Boot, you could set the log level to DEBUG in the application.properties of your Java application</p>\n<pre><code>logging.level.org.apache.http.impl.conn.PoolingHttpClientConnectionManager=DEBUG\n</code></pre>\n<p>That logs the details when the connection was requested, leased and released.</p>\n<p>You can combine it with using Spring Sleuth for trace id logging <a href=\"https://spring.io/projects/spring-cloud-sleuth#overview\" rel=\"nofollow noreferrer\">https://spring.io/projects/spring-cloud-sleuth#overview</a></p>\n<pre><code>2023-01-19 02:54:38.869 'DEBUG [traceid=3247a65b81bfb99b]' 1 --- [      task-7908] h.i.c.PoolingHttpClientConnectionManager : Connection request: [route: {s}-&gt;https://url][total available: 1; route allocated: 8 of 8; total allocated: 8 of 20]\n2023-01-19 02:54:38.869 'DEBUG [traceid=3247a65b81bfb99b]' 1 --- [      task-7908] h.i.c.PoolingHttpClientConnectionManager : Connection leased: [id: 6339][route: {s}-&gt;https://url][total available: 0; route allocated: 8 of 8; total allocated: 8 of 20]\n2023-01-19 02:54:39.097 'DEBUG [traceid=3247a65b81bfb99b]' 1 --- [      task-7908] h.i.c.PoolingHttpClientConnectionManager : Connection [id: 6339][route: {s}-&gt;https://url] can be kept alive indefinitely\n2023-01-19 02:54:39.097 'DEBUG [traceid=3247a65b81bfb99b]' 1 --- [      task-7908] h.i.c.PoolingHttpClientConnectionManager : Connection released: [id: 6339][route: {s}-&gt;https://url][total available: 1; route allocated: 8 of 8; total allocated: 8 of 20]\n</code></pre>\n"}],"owner":{"account_id":6469063,"reputation":26,"user_id":5009807,"display_name":"Archit Kansal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":479,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674156918,"creation_date":1587392591,"question_id":61324831,"body_markdown":"I am using Apache 4.* HTTP Client and PoolingHttpClientConnectionManager for my application. I am interested in logging the per request time spent in obtaining a connection from Connection-Pool and the time spent in actual request execution.\r\n\r\nIs there some way I can do this ?\r\n\r\nI have already overridden PoolingHttpClientConnectionManager and I am overriding Connect(), releaseConnection() and requestConnection() methods to increment some counters.\r\n\r\nI am not sure how to obtain the actual http Request here in order to clearly state that : &quot;Request [request data] spent time [time value] in obtaining the connection and time [time value] in executing the request on the server.&quot; ","title":"obtaining Apache PoolingHttpClientConnectionManager - per request - connection and actual execution time","body":"<p>I am using Apache 4.* HTTP Client and PoolingHttpClientConnectionManager for my application. I am interested in logging the per request time spent in obtaining a connection from Connection-Pool and the time spent in actual request execution.</p>\n\n<p>Is there some way I can do this ?</p>\n\n<p>I have already overridden PoolingHttpClientConnectionManager and I am overriding Connect(), releaseConnection() and requestConnection() methods to increment some counters.</p>\n\n<p>I am not sure how to obtain the actual http Request here in order to clearly state that : \"Request [request data] spent time [time value] in obtaining the connection and time [time value] in executing the request on the server.\" </p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1600473711,"post_id":63963999,"comment_id":113109316,"body_markdown":"Hi Algebro, welcome to stackoverflow. I&#39;ve tried your code, and it works for me. Can you please [edit] your question and provide a [mcve]? See also [ask].","body":"Hi Algebro, welcome to stackoverflow. I&#39;ve tried your code, and it works for me. Can you please <a href=\"https://stackoverflow.com/posts/63963999/edit\">edit</a> your question and provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>? See also <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}],"answers":[{"comments":[{"owner":{"account_id":4902670,"reputation":13795,"user_id":3950370,"accept_rate":100,"display_name":"Lukas K&#246;rfer"},"score":0,"creation_date":1600500993,"post_id":63965462,"comment_id":113112999,"body_markdown":"There is so much unnecessary noise in your answer and the actual problem in the code of the question is not explained at all.","body":"There is so much unnecessary noise in your answer and the actual problem in the code of the question is not explained at all."}],"tags":[],"owner":{"account_id":7719031,"reputation":2254,"user_id":5845802,"display_name":"PrasadU"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1600492488,"creation_date":1600492488,"answer_id":63965462,"question_id":63963999,"body_markdown":"1. generate new code in the build folder (not main source)\r\n2. add the generated files to the source set\r\n3. link new task to the build chain\r\n-\r\n\r\n    ext.genRes = &#39;build/generated_src/main/resources&#39;\r\n    sourceSets {\r\n        main {\r\n            resources {\r\n                srcDir(genRes)\r\n            }\r\n        }\r\n    }\r\n    \r\n    ext.genResFoo = genRes + &#39;foo.properties&#39;\r\n    ext.releaseType = &#39;test&#39;\r\n        \r\n    task genResources(type: WriteProperties) {\r\n        outputFile genResFoo\r\n        property &#39;version&#39;, version\r\n        property &#39;releaseType&#39;, releaseType\r\n        property &#39;date&#39;, new java.util.Date()\r\n        doLast {\r\n            println(&quot;writeProperties ran ${genResFoo}&quot;)\r\n        }\r\n    }\r\n    processResources.dependsOn genResources\r\n\r\n","title":"gradle WriteProperties task does not create properties file unless the task is ran directly","body":"<ol>\n<li>generate new code in the build folder (not main source)</li>\n<li>add the generated files to the source set</li>\n<li>link new task to the build chain</li>\n</ol>\n<ul>\n<li></li>\n</ul>\n<pre><code>ext.genRes = 'build/generated_src/main/resources'\nsourceSets {\n    main {\n        resources {\n            srcDir(genRes)\n        }\n    }\n}\n\next.genResFoo = genRes + 'foo.properties'\next.releaseType = 'test'\n    \ntask genResources(type: WriteProperties) {\n    outputFile genResFoo\n    property 'version', version\n    property 'releaseType', releaseType\n    property 'date', new java.util.Date()\n    doLast {\n        println(&quot;writeProperties ran ${genResFoo}&quot;)\n    }\n}\nprocessResources.dependsOn genResources\n</code></pre>\n"},{"comments":[{"owner":{"account_id":14381678,"reputation":13,"user_id":14302840,"display_name":"Algebro"},"score":0,"creation_date":1600526339,"post_id":63966486,"comment_id":113118789,"body_markdown":"Thanks for the explanation. Is there a way to specify that the project&#39;s compile task depends on this task? I need that properties file to get written and bundled into the jar but I can&#39;t figure out how to set it up as a dependency.","body":"Thanks for the explanation. Is there a way to specify that the project&#39;s compile task depends on this task? I need that properties file to get written and bundled into the jar but I can&#39;t figure out how to set it up as a dependency."},{"owner":{"account_id":4902670,"reputation":13795,"user_id":3950370,"accept_rate":100,"display_name":"Lukas K&#246;rfer"},"score":0,"creation_date":1600527902,"post_id":63966486,"comment_id":113119204,"body_markdown":"If you want the resulting file to be present in the JAR file produced by the `jar` task, just add `jar { from writeProperties }` to your `build.gradle`. Gradle will automatically create the task dependency so that the task will be executed when the JAR file is created.","body":"If you want the resulting file to be present in the JAR file produced by the <code>jar</code> task, just add <code>jar { from writeProperties }</code> to your <code>build.gradle</code>. Gradle will automatically create the task dependency so that the task will be executed when the JAR file is created."},{"owner":{"account_id":4902670,"reputation":13795,"user_id":3950370,"accept_rate":100,"display_name":"Lukas K&#246;rfer"},"score":0,"creation_date":1600528239,"post_id":63966486,"comment_id":113119303,"body_markdown":"Additionally, you don&#39;t need to (and also should not) create the properties file inside `src/main/resources`. The source sets (everything under `src`) are only for source files, not for generated files.","body":"Additionally, you don&#39;t need to (and also should not) create the properties file inside <code>src&#47;main&#47;resources</code>. The source sets (everything under <code>src</code>) are only for source files, not for generated files."},{"owner":{"account_id":14381678,"reputation":13,"user_id":14302840,"display_name":"Algebro"},"score":0,"creation_date":1600530747,"post_id":63966486,"comment_id":113120028,"body_markdown":"Where would the recommended path for generated resource files be? Sorry for all the beginner questions--I&#39;m pretty new to Java project layouts and am trying to learn to do things the correct way.","body":"Where would the recommended path for generated resource files be? Sorry for all the beginner questions--I&#39;m pretty new to Java project layouts and am trying to learn to do things the correct way."},{"owner":{"account_id":14381678,"reputation":13,"user_id":14302840,"display_name":"Algebro"},"score":0,"creation_date":1600531321,"post_id":63966486,"comment_id":113120192,"body_markdown":"Also, adding `from writeProperties` to `jar { }` gave me the following error:\n\n```A problem occurred evaluating project &#39;:foo&#39;.\n&gt; Could not get unknown property &#39;writeProperties&#39; for task &#39;:foo:jar&#39; of type org.gradle.api.tasks.bundling.Jar.\n```","body":"Also, adding <code>from writeProperties</code> to <code>jar { }</code> gave me the following error:  <code>A problem occurred evaluating project &#39;:foo&#39;. &gt; Could not get unknown property &#39;writeProperties&#39; for task &#39;:foo:jar&#39; of type org.gradle.api.tasks.bundling.Jar. </code>"},{"owner":{"account_id":4902670,"reputation":13795,"user_id":3950370,"accept_rate":100,"display_name":"Lukas K&#246;rfer"},"score":0,"creation_date":1600531326,"post_id":63966486,"comment_id":113120195,"body_markdown":"Files that can be created as part of the build process should go somewhere inside the `build` directory (available via `buildDir` in your build script). This has the advantage that the default `clean` task will delete those generated files. You may also use the task property `temporaryDir` that provides a folder for the task.","body":"Files that can be created as part of the build process should go somewhere inside the <code>build</code> directory (available via <code>buildDir</code> in your build script). This has the advantage that the default <code>clean</code> task will delete those generated files. You may also use the task property <code>temporaryDir</code> that provides a folder for the task."},{"owner":{"account_id":4902670,"reputation":13795,"user_id":3950370,"accept_rate":100,"display_name":"Lukas K&#246;rfer"},"score":0,"creation_date":1600531726,"post_id":63966486,"comment_id":113120310,"body_markdown":"Put the task name `writeProperties` in quotes. Without quotes, the task instance will be used, but this is only possible,\t**after** the task has been defined. Since your `jar` is probably configured earlier, you may use the name of the task as a string and it will be evaluated later when all tasks are created.","body":"Put the task name <code>writeProperties</code> in quotes. Without quotes, the task instance will be used, but this is only possible,\t<b>after</b> the task has been defined. Since your <code>jar</code> is probably configured earlier, you may use the name of the task as a string and it will be evaluated later when all tasks are created."},{"owner":{"account_id":14381678,"reputation":13,"user_id":14302840,"display_name":"Algebro"},"score":0,"creation_date":1600533361,"post_id":63966486,"comment_id":113120768,"body_markdown":"Thanks, that got rid of the error but the properties file still doesn&#39;t get written when the jar task runs. Just so this discussion thread doesn&#39;t get too long, I&#39;ll keep digging (using your suggestions) and update the original post once I figure it out.","body":"Thanks, that got rid of the error but the properties file still doesn&#39;t get written when the jar task runs. Just so this discussion thread doesn&#39;t get too long, I&#39;ll keep digging (using your suggestions) and update the original post once I figure it out."}],"tags":[],"owner":{"account_id":4902670,"reputation":13795,"user_id":3950370,"accept_rate":100,"display_name":"Lukas K&#246;rfer"},"comment_count":8,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1600501652,"creation_date":1600501652,"answer_id":63966486,"question_id":63963999,"body_markdown":"The actual problem with your code is that your `println` statement is not telling the truth. The code in the task configuration closure runs when the task gets configured, not when it gets executed. So everytime you run another task from the command line, your task gets configured and the `println` writes to the command line, but the actual task action is not executed. You should pack your `println` into a `doLast`, so that it actually runs after the `.properties` file has been created.\n\n``` groovy\ntask myTask {\n    println &#39;task configured&#39;\n    doLast {\n        println &#39;task executed&#39; \n    } \n} \n```\n\nIf you want your task to run without specifying it on the command line, you need to setup task dependencies using `dependsOn` or `finalizedBy`. ","title":"gradle WriteProperties task does not create properties file unless the task is ran directly","body":"<p>The actual problem with your code is that your <code>println</code> statement is not telling the truth. The code in the task configuration closure runs when the task gets configured, not when it gets executed. So everytime you run another task from the command line, your task gets configured and the <code>println</code> writes to the command line, but the actual task action is not executed. You should pack your <code>println</code> into a <code>doLast</code>, so that it actually runs after the <code>.properties</code> file has been created.</p>\n<pre><code>task myTask {\n    println 'task configured'\n    doLast {\n        println 'task executed' \n    } \n} \n</code></pre>\n<p>If you want your task to run without specifying it on the command line, you need to setup task dependencies using <code>dependsOn</code> or <code>finalizedBy</code>.</p>\n"},{"tags":[],"owner":{"account_id":6869537,"reputation":1293,"user_id":5280512,"display_name":"Tom Rutchik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674156286,"creation_date":1674156286,"answer_id":75177317,"question_id":63963999,"body_markdown":"The described issue is not a problem. What&#39;s happening is exactly how Gradle works. I too have struggled with understanding why this behavior is correct! I&#39;m providing an answer to help bring some clarity as to what&#39;s going on. Algebo is not alone in trying to understand how Gradle works.  Algebo did a great job in describing what he observed and hopefully my answer takes out some of the mystery of what&#39;s going on.   \r\n\r\nFirst thing to understand is that gradle evaluates the code in three passes: initialization, configuration and execution.\r\n\r\nDuring initialization, gradle figures out which projects are to be included in the build.\r\n\r\nDuring configuration, the tasks are created and configured and added to the build graph.  When a task is configured, you need to tell gradle what are the inputs and outputs to the task.  Gradle uses that information to know whether it actually needs to execute the task or not. (i.e. if the inputs and outputs of a task is up-to-date, then you can skip the execution of the task)\r\n\r\nDuring execution, gradle then executes the actions associated with task.\r\n\r\nWith the above explanation, let&#39;s look at what&#39;s happening with Algebo&#39;s code. The first thing that Algebo notices is that he sees the &quot;task ran&quot; message.  So why was that?  That&#39;s because that code was executed during the gradle configuration phase.  (Lukas answer does a good job explaining this same observation) So, all that&#39;s done at this time is that the &quot;writeProperties&quot; task object (which is of type &quot;WriteProperties&quot;) get configured.  And of course, Algrebo correctly notices that the &quot;foo.properties&quot; file was not created. And that of course is because the task was only configured and not yet execute.\r\n\r\nThe next thing Algebo tries is to put the code in the task block in a doFirst and a doLast block.  When Algebo tries that, he gets the error message that the  path may be null or empty.  The doFirst and doLast the blocks of code that define a task action.  As I stated earlier, it the task actions that get executed during the task execution pass. So why does Algebo get that error.  In the case of the &quot;WriteProperties&quot; task, it requires that the &quot;outputFile&quot; to be configured.  But, Algebo moved the outputFile statement to a task action block.   In other words, the outputFile has not been defined at the time either the doFirst or doLast code gets executed. The &quot;WriteProperties&quot; task needs that define prior to the task actions being performed.  So that explains that observed behavior.\r\n\r\nSo why does it work when he executes the task directly using ./gradlew foo:writeProperties directly.  Well, that&#39;s because the task is properly configured, and when he executes it directly, it executes the task actions associated with the task.  Well, Algebo didn&#39;t define any task actions, so there&#39;s none to be executed, and once the task actions have completed (none), the WriteProperies task concludes by writing of the defined properties to the outputFile.  And that&#39;s of course what Algebo observed.\r\n\r\nAnd lastly, Algebo noticed that he could get the task to do what he wanted to by adding the statement: compileJava.finalizedBy(writeProperties).  In that case, the WiteProperties task has been configured. Additionally during the configuration pass, that task was added to the build graph.  In other words, that task was configured to be run when the &quot;compileJava&quot; task completed. When the &quot;writeProperties&quot; task is executed, it has been properly configured, so it executes the task actions for the task (none in this case) and when done the &quot;WriteProperties&quot; task concludes by writing the properties to the &quot;outputFile&quot;.\r\n\r\nWith all the above said, there&#39;s still another issue with the &quot;writeProperties&quot; task as defined. Gradle now wants user to define the inputs and outputs of all tasks.  Gradle uses that imformation to determine whether a task needs to be executed or skipped if it already up-to-date.  In Algebo&#39;s example, the inputs are: &quot;version&quot;, &quot;releaseType&quot; and &quot;date&quot; and the outputs are the file &quot;src/main/resources/foo.properties&quot;.  (Note: gradle doesn&#39;t know that &quot;outputFile&quot; is part of &quot;outputs&quot;).  The &quot;writeProperties&quot; task doesn&#39;t have its inputs and outputs configured.  So &quot;writeProperties&quot; will always get executed even if nothing has changed since it was last executed.  In Algebo final working solution, his properties file would not get rebuilt if for example &quot;version&quot; changed and the compileJava task was already up-to-date.\r\n\r\nFor additional information, I found [this][1] to be helpful.\r\n\r\n\r\n  [1]: https://blog.softwaremill.com/my-task-whats-wrong-with-your-gradle-task-82312100c595","title":"gradle WriteProperties task does not create properties file unless the task is ran directly","body":"<p>The described issue is not a problem. What's happening is exactly how Gradle works. I too have struggled with understanding why this behavior is correct! I'm providing an answer to help bring some clarity as to what's going on. Algebo is not alone in trying to understand how Gradle works.  Algebo did a great job in describing what he observed and hopefully my answer takes out some of the mystery of what's going on.</p>\n<p>First thing to understand is that gradle evaluates the code in three passes: initialization, configuration and execution.</p>\n<p>During initialization, gradle figures out which projects are to be included in the build.</p>\n<p>During configuration, the tasks are created and configured and added to the build graph.  When a task is configured, you need to tell gradle what are the inputs and outputs to the task.  Gradle uses that information to know whether it actually needs to execute the task or not. (i.e. if the inputs and outputs of a task is up-to-date, then you can skip the execution of the task)</p>\n<p>During execution, gradle then executes the actions associated with task.</p>\n<p>With the above explanation, let's look at what's happening with Algebo's code. The first thing that Algebo notices is that he sees the &quot;task ran&quot; message.  So why was that?  That's because that code was executed during the gradle configuration phase.  (Lukas answer does a good job explaining this same observation) So, all that's done at this time is that the &quot;writeProperties&quot; task object (which is of type &quot;WriteProperties&quot;) get configured.  And of course, Algrebo correctly notices that the &quot;foo.properties&quot; file was not created. And that of course is because the task was only configured and not yet execute.</p>\n<p>The next thing Algebo tries is to put the code in the task block in a doFirst and a doLast block.  When Algebo tries that, he gets the error message that the  path may be null or empty.  The doFirst and doLast the blocks of code that define a task action.  As I stated earlier, it the task actions that get executed during the task execution pass. So why does Algebo get that error.  In the case of the &quot;WriteProperties&quot; task, it requires that the &quot;outputFile&quot; to be configured.  But, Algebo moved the outputFile statement to a task action block.   In other words, the outputFile has not been defined at the time either the doFirst or doLast code gets executed. The &quot;WriteProperties&quot; task needs that define prior to the task actions being performed.  So that explains that observed behavior.</p>\n<p>So why does it work when he executes the task directly using ./gradlew foo:writeProperties directly.  Well, that's because the task is properly configured, and when he executes it directly, it executes the task actions associated with the task.  Well, Algebo didn't define any task actions, so there's none to be executed, and once the task actions have completed (none), the WriteProperies task concludes by writing of the defined properties to the outputFile.  And that's of course what Algebo observed.</p>\n<p>And lastly, Algebo noticed that he could get the task to do what he wanted to by adding the statement: compileJava.finalizedBy(writeProperties).  In that case, the WiteProperties task has been configured. Additionally during the configuration pass, that task was added to the build graph.  In other words, that task was configured to be run when the &quot;compileJava&quot; task completed. When the &quot;writeProperties&quot; task is executed, it has been properly configured, so it executes the task actions for the task (none in this case) and when done the &quot;WriteProperties&quot; task concludes by writing the properties to the &quot;outputFile&quot;.</p>\n<p>With all the above said, there's still another issue with the &quot;writeProperties&quot; task as defined. Gradle now wants user to define the inputs and outputs of all tasks.  Gradle uses that imformation to determine whether a task needs to be executed or skipped if it already up-to-date.  In Algebo's example, the inputs are: &quot;version&quot;, &quot;releaseType&quot; and &quot;date&quot; and the outputs are the file &quot;src/main/resources/foo.properties&quot;.  (Note: gradle doesn't know that &quot;outputFile&quot; is part of &quot;outputs&quot;).  The &quot;writeProperties&quot; task doesn't have its inputs and outputs configured.  So &quot;writeProperties&quot; will always get executed even if nothing has changed since it was last executed.  In Algebo final working solution, his properties file would not get rebuilt if for example &quot;version&quot; changed and the compileJava task was already up-to-date.</p>\n<p>For additional information, I found <a href=\"https://blog.softwaremill.com/my-task-whats-wrong-with-your-gradle-task-82312100c595\" rel=\"nofollow noreferrer\">this</a> to be helpful.</p>\n"}],"owner":{"account_id":14381678,"reputation":13,"user_id":14302840,"display_name":"Algebro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1316,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":63966486,"answer_count":3,"score":1,"last_activity_date":1674156286,"creation_date":1600472554,"question_id":63963999,"body_markdown":"I am trying to generate properties files in a non-Android Java project, but for some reason even though the task runs when I build the project with `./gradlew assembleDist` or run it with `./gradlew foo:run`, the properties file isn&#39;t created. The task is defined in a subproject and looks like this:\r\n\r\n```groovy\r\ntask writeProperties(type: WriteProperties) {\r\n    outputFile &#39;src/main/resources/foo.properties&#39;\r\n    property &#39;version&#39;, version\r\n    property &#39;releaseType&#39;, releaseType\r\n    property &#39;date&#39;, date\r\n    println(&quot;task ran&quot;)\r\n}\r\n```\r\n`task ran` gets printed when I execute the other gradle tasks, indicating that the task ran, but no `foo.properties` file shows up in the specified path. Weirdly enough, if I run the `writeProperties` task directly with `./gradlew foo:writeProperties`, the file gets created and populated with the correct variables.\r\n\r\nI&#39;ve tried wrapping the statements above with `doFirst{}` and `doLast{}` but I get errors like the following:\r\n\r\n```\r\nCause: path may not be null or empty string. path=&#39;null&#39;\r\n```\r\n\r\nDoes anyone have any idea what I could be doing wrong? I&#39;ve been banging my head against this for hours and am running out of ideas. Thanks!\r\n\r\n**update:** I managed to solve it with information provided in the accepted answer. I had to add `compileJava.finalizedBy(writeProperties)` to get the task to actually run as part of the build tasks. As the top answer mentioned, `println` was essentially lying to me, as that was being printed during the configuration phase but the task action was not being ran.","title":"gradle WriteProperties task does not create properties file unless the task is ran directly","body":"<p>I am trying to generate properties files in a non-Android Java project, but for some reason even though the task runs when I build the project with <code>./gradlew assembleDist</code> or run it with <code>./gradlew foo:run</code>, the properties file isn't created. The task is defined in a subproject and looks like this:</p>\n<pre><code>task writeProperties(type: WriteProperties) {\n    outputFile 'src/main/resources/foo.properties'\n    property 'version', version\n    property 'releaseType', releaseType\n    property 'date', date\n    println(&quot;task ran&quot;)\n}\n</code></pre>\n<p><code>task ran</code> gets printed when I execute the other gradle tasks, indicating that the task ran, but no <code>foo.properties</code> file shows up in the specified path. Weirdly enough, if I run the <code>writeProperties</code> task directly with <code>./gradlew foo:writeProperties</code>, the file gets created and populated with the correct variables.</p>\n<p>I've tried wrapping the statements above with <code>doFirst{}</code> and <code>doLast{}</code> but I get errors like the following:</p>\n<pre><code>Cause: path may not be null or empty string. path='null'\n</code></pre>\n<p>Does anyone have any idea what I could be doing wrong? I've been banging my head against this for hours and am running out of ideas. Thanks!</p>\n<p><strong>update:</strong> I managed to solve it with information provided in the accepted answer. I had to add <code>compileJava.finalizedBy(writeProperties)</code> to get the task to actually run as part of the build tasks. As the top answer mentioned, <code>println</code> was essentially lying to me, as that was being printed during the configuration phase but the task action was not being ran.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1673968912,"post_id":75148566,"comment_id":132612106,"body_markdown":"I don&#39;t believe that is possible how you want it. There are different ways. 1. Multiple datasources, one for each customer. 2. Add a field to `Order` that distinguishes by customer","body":"I don&#39;t believe that is possible how you want it. There are different ways. 1. Multiple datasources, one for each customer. 2. Add a field to <code>Order</code> that distinguishes by customer"},{"owner":{"account_id":24083109,"reputation":194,"user_id":18057525,"display_name":"Octavia"},"score":2,"creation_date":1673969212,"post_id":75148566,"comment_id":132612205,"body_markdown":"Your solution doesn&#39;t sound so good, maybe in your Order table you should have a field with the Costumer&#39;s id as foreign key. You should have a @ManyToOne relationship.","body":"Your solution doesn&#39;t sound so good, maybe in your Order table you should have a field with the Costumer&#39;s id as foreign key. You should have a @ManyToOne relationship."},{"owner":{"account_id":8718613,"reputation":41,"user_id":6522408,"display_name":"Songtao Lou"},"score":0,"creation_date":1675279662,"post_id":75148566,"comment_id":132896743,"body_markdown":"@OctaviaAdler There is a risk to store all of customers&#39; orders into a single table. If the developer forget to filter, a customer could query out other&#39;s orders. This is very dangerous.","body":"@OctaviaAdler There is a risk to store all of customers&#39; orders into a single table. If the developer forget to filter, a customer could query out other&#39;s orders. This is very dangerous."}],"owner":{"account_id":8718613,"reputation":41,"user_id":6522408,"display_name":"Songtao Lou"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674155826,"creation_date":1673968774,"question_id":75148566,"body_markdown":"I want to design a system. There are different customers using this system. I need to create the duplicated tables for every customer. For example, I have a table `Order`, then all of order records for `customerA` are in table `Order_A`, as well as `customerB` data are in table `Order_B`. I can distinct different customers from session, but how can I let Spring JPA to reflect the RDS table data to Java object? \r\n\r\nI know 2 solutions, but both are not satisfied.\r\n1. Consider to use Mybatis because it supports load SQL from xml file and parameters inside SQL;\r\n2. Consider to use `org.hibernate.EmptyInterceptor`. This is my current implement in my project. For every entity, I must define a subclass of it. It can update the SQL before Hibernate&#39;s execution. \r\nHowever, both are not graceful. I prefer the better solution.","title":"How to bind entity to different tables with SpringJPA/SpringBoot","body":"<p>I want to design a system. There are different customers using this system. I need to create the duplicated tables for every customer. For example, I have a table <code>Order</code>, then all of order records for <code>customerA</code> are in table <code>Order_A</code>, as well as <code>customerB</code> data are in table <code>Order_B</code>. I can distinct different customers from session, but how can I let Spring JPA to reflect the RDS table data to Java object?</p>\n<p>I know 2 solutions, but both are not satisfied.</p>\n<ol>\n<li>Consider to use Mybatis because it supports load SQL from xml file and parameters inside SQL;</li>\n<li>Consider to use <code>org.hibernate.EmptyInterceptor</code>. This is my current implement in my project. For every entity, I must define a subclass of it. It can update the SQL before Hibernate's execution.\nHowever, both are not graceful. I prefer the better solution.</li>\n</ol>\n"},{"tags":["java","spring-boot","casting","jackson","objectmapper"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1672085066,"post_id":74923571,"comment_id":132219160,"body_markdown":"Does it work? I&#39;d expect `get(&quot;data&quot;)` to return a `List&lt;Map&lt;String, Object&gt;&gt;`, not a `List&lt;Rating&gt;`.","body":"Does it work? I&#39;d expect <code>get(&quot;data&quot;)</code> to return a <code>List&lt;Map&lt;String, Object&gt;&gt;</code>, not a <code>List&lt;Rating&gt;</code>."},{"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"score":0,"creation_date":1672085956,"post_id":74923571,"comment_id":132219322,"body_markdown":"Yes, its working but with a warning as I stated above. I also expect the same, that&#39;s the reason I posted this question to have a better understanding.","body":"Yes, its working but with a warning as I stated above. I also expect the same, that&#39;s the reason I posted this question to have a better understanding."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1672087028,"post_id":74923571,"comment_id":132219509,"body_markdown":"When I say &quot;working&quot;, I meant &quot;can you execute it without (class cast) exceptions&quot;? It&#39;s compiling fine, but will it work at runtime?","body":"When I say &quot;working&quot;, I meant &quot;can you execute it without (class cast) exceptions&quot;? It&#39;s compiling fine, but will it work at runtime?"},{"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"score":0,"creation_date":1672122782,"post_id":74923571,"comment_id":132224029,"body_markdown":"Please check the question, I have elaborated the problem a bit more for better understanding.","body":"Please check the question, I have elaborated the problem a bit more for better understanding."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1672138864,"post_id":74923571,"comment_id":132227147,"body_markdown":"coder001 the class cast exception you encounter with forEach is exactly what I wrote in my first two comments: &quot;cannot cast LinkedHashMap to Rating&quot; (because `get(&quot;data&quot;)` returns a `List&lt;Map&lt;String, Object&gt;&gt;`, not a `List&lt;Rating&gt;`. So the answer to your question &quot;how is it possible that it is converted to a ratings list?&quot; is &quot;it&#39;s not possible and that&#39;s not what&#39;s happening; nothing is converted, you only have maps and lists of maps&quot;","body":"coder001 the class cast exception you encounter with forEach is exactly what I wrote in my first two comments: &quot;cannot cast LinkedHashMap to Rating&quot; (because <code>get(&quot;data&quot;)</code> returns a <code>List&lt;Map&lt;String, Object&gt;&gt;</code>, not a <code>List&lt;Rating&gt;</code>. So the answer to your question &quot;how is it possible that it is converted to a ratings list?&quot; is &quot;it&#39;s not possible and that&#39;s not what&#39;s happening; nothing is converted, you only have maps and lists of maps&quot;"}],"answers":[{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1672140244,"creation_date":1672140244,"answer_id":74928662,"question_id":74923571,"body_markdown":"You are overcomplicating the task, you can convert the json response from your `RestTemplate` to a `String` value, then extract the *data* part inside of it with jackson library like below:\r\n\r\n~~~\r\nJsonNode root =mapper.readTree(json); //&lt;--convert the json string to a JsonNode\r\nJsonNode data = root.at(&quot;/data&quot;); //&lt;-- selecting the &quot;data&quot; part\r\n//conversion to List&lt;Rating&gt; avoid problems due to list type erasure\r\n//with the help of jackson TypeReference class\r\nList&lt;Rating&gt; ratings = mapper.convertValue(data, new TypeReference&lt;List&lt;Rating&gt;&gt;() {});\r\n~~~\r\n\r\nThis is achieved using the [`JsonNode#at`](https://fasterxml.github.io/jackson-databind/javadoc/2.12/com/fasterxml/jackson/databind/JsonNode.html#at-java.lang.String-) method that locates the specific node with *data* label inside your json, to convert it to a `List&lt;Rating&gt;` it is necessary to use [`TypeReference`](https://fasterxml.github.io/jackson-core/javadoc/2.12/com/fasterxml/jackson/core/type/TypeReference.html) to instantiate reference to generic type `List&lt;Rating&gt;`.\r\n\r\n","title":"Conversion of JSON to Object","body":"<p>You are overcomplicating the task, you can convert the json response from your <code>RestTemplate</code> to a <code>String</code> value, then extract the <em>data</em> part inside of it with jackson library like below:</p>\n<pre><code>JsonNode root =mapper.readTree(json); //&lt;--convert the json string to a JsonNode\nJsonNode data = root.at(&quot;/data&quot;); //&lt;-- selecting the &quot;data&quot; part\n//conversion to List&lt;Rating&gt; avoid problems due to list type erasure\n//with the help of jackson TypeReference class\nList&lt;Rating&gt; ratings = mapper.convertValue(data, new TypeReference&lt;List&lt;Rating&gt;&gt;() {});\n</code></pre>\n<p>This is achieved using the <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.12/com/fasterxml/jackson/databind/JsonNode.html#at-java.lang.String-\" rel=\"nofollow noreferrer\"><code>JsonNode#at</code></a> method that locates the specific node with <em>data</em> label inside your json, to convert it to a <code>List&lt;Rating&gt;</code> it is necessary to use <a href=\"https://fasterxml.github.io/jackson-core/javadoc/2.12/com/fasterxml/jackson/core/type/TypeReference.html\" rel=\"nofollow noreferrer\"><code>TypeReference</code></a> to instantiate reference to generic type <code>List&lt;Rating&gt;</code>.</p>\n"}],"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":528,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74928662,"answer_count":1,"score":2,"last_activity_date":1674154948,"creation_date":1672084414,"question_id":74923571,"body_markdown":"I am working on a Microservices Project in Java, using Spring Boot and Eureka.\r\nI came across a scenario where I fetch the data from another microservice using-\r\n```\r\n        List&lt;Rating&gt; ratings=(List&lt;Rating&gt;) restTemplate.getForObject(&quot;http://localhost:8083/microservices/rating/get-all-ratings-by-user?userId=ddb8e2a9-ac6f-460d-a43e-eae23d18450c&quot;, Map.class).get(&quot;data&quot;);\r\n```\r\nI get a warning on this line-  \r\n[![enter image description here][1]][1]\r\n\r\n**Explanation-**\r\nI get the following response from the URL I used above-\r\n```\r\n{\r\n    &quot;data&quot;: [\r\n        {\r\n            &quot;ratingId&quot;: &quot;6140b240-9a97-430d-92b9-0fcfa8edc96f&quot;,\r\n            &quot;userId&quot;: &quot;ddb8e2a9-ac6f-460d-a43e-eae23d18450c&quot;,\r\n            &quot;hotelId&quot;: &quot;1093aa3f-8529-4330-8ce8-caa82546200b&quot;,\r\n            &quot;rating&quot;: 4,\r\n            &quot;feedback&quot;: &quot;Died peacefully&quot;\r\n        }\r\n    ],\r\n    &quot;message&quot;: &quot;Success&quot;,\r\n    &quot;code&quot;: &quot;2000&quot;\r\n}\r\n```\r\n**Aim-** I want to extract the list of **Rating** objects from the response&#39;s **data** field and store it as a **List&lt;Rating&gt;**. Further, I want to iterate over it and perform other operations.  \r\n\r\n1. I convert it to a **Map** (Map.class passed in **getForObject() method**). \r\n2. I get the list of type **Map** using **.get(&quot;data&quot;).**\r\n3. This is type casted to **List\\&lt;Rating\\&gt;**.  \r\n**My Question-**  \r\nUsing this above approach I am able to obtain a list of objects of **Rating** class. But, can somebody explain **how this map (obtained using .get(&quot;data&quot;)) automatically gets converted to List&lt;Rating&gt; using simple type conversion?** The code doesn&#39;t seem to use any Object Mapper like Jackson. Also, I am getting a warning. Is there any way to remove it?  I can send the List&lt;Rating&gt; as it is to a GET request.  \r\n **But If I try to use a method on the List I get errors-**  \r\n**Follow Up-**\r\n1. I tried using stream() and map() on the List&lt;Rating&gt; I obtained above, but got an error-\r\n```\r\n ratings=ratings.stream().map(rating-&gt;{\r\n            //api call to hotel service to obtain the hotel\r\n            Hotel hotel=(Hotel) restTemplate.getForEntity(&quot;http://localhost:8086/microservices/hotel/get-hotel-by-id?hotelId=&quot;+rating.getHotelId(), Map.class).getBody().get(&quot;data&quot;);\r\n            logger.info(&quot;fetched hotel: &quot;, hotel);\r\n            rating.setHotel(hotel);\r\n        }).collect(Collectors.toList());\r\n```\r\nGot a compile-time error on the **.map()**-\r\n\r\n[![enter image description here][2]][2]\r\n\r\n5. **forEach() gives class cast exception-**\r\n```\r\n  ratings.forEach((rating)-&gt;{\r\n            //api call to hotel service to obtain the hotel\r\n            Hotel hotel=(Hotel) restTemplate.getForEntity(&quot;http://localhost:8086/microservices/hotel/get-hotel-by-id?hotelId=&quot;+rating.getHotelId(), Map.class).getBody().get(&quot;data&quot;);\r\n            logger.info(&quot;fetched hotel: &quot;, hotel);\r\n            rating.setHotel(hotel);\r\n      });\r\n```\r\nError on **forEach()**-\r\n```\r\njava.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.example.user_service.entities.Rating (java.util.LinkedHashMap is in module java.base of loader &#39;bootstrap&#39;; com.example.user_service.entities.Rating is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @db2af5f)\r\n        at java.base/java.util.ArrayList.forEach(Unknown Source) ~[na:na]\r\n        at com.example.user_service.ServiceImpl.UserServiceImpl.getUser(UserServiceImpl.java:84) ~[classes/:na]\r\n        at com.example.user_service.controller.UserController.getUserById(UserController.java:53) ~[classes/:na]\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/UFYEw.png\r\n  [2]: https://i.stack.imgur.com/5qK51.png","title":"Conversion of JSON to Object","body":"<p>I am working on a Microservices Project in Java, using Spring Boot and Eureka.\nI came across a scenario where I fetch the data from another microservice using-</p>\n<pre><code>        List&lt;Rating&gt; ratings=(List&lt;Rating&gt;) restTemplate.getForObject(&quot;http://localhost:8083/microservices/rating/get-all-ratings-by-user?userId=ddb8e2a9-ac6f-460d-a43e-eae23d18450c&quot;, Map.class).get(&quot;data&quot;);\n</code></pre>\n<p>I get a warning on this line-<br />\n<a href=\"https://i.stack.imgur.com/UFYEw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UFYEw.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Explanation-</strong>\nI get the following response from the URL I used above-</p>\n<pre><code>{\n    &quot;data&quot;: [\n        {\n            &quot;ratingId&quot;: &quot;6140b240-9a97-430d-92b9-0fcfa8edc96f&quot;,\n            &quot;userId&quot;: &quot;ddb8e2a9-ac6f-460d-a43e-eae23d18450c&quot;,\n            &quot;hotelId&quot;: &quot;1093aa3f-8529-4330-8ce8-caa82546200b&quot;,\n            &quot;rating&quot;: 4,\n            &quot;feedback&quot;: &quot;Died peacefully&quot;\n        }\n    ],\n    &quot;message&quot;: &quot;Success&quot;,\n    &quot;code&quot;: &quot;2000&quot;\n}\n</code></pre>\n<p><strong>Aim-</strong> I want to extract the list of <strong>Rating</strong> objects from the response's <strong>data</strong> field and store it as a <strong>List</strong>. Further, I want to iterate over it and perform other operations.</p>\n<ol>\n<li>I convert it to a <strong>Map</strong> (Map.class passed in <strong>getForObject() method</strong>).</li>\n<li>I get the list of type <strong>Map</strong> using <strong>.get(&quot;data&quot;).</strong></li>\n<li>This is type casted to <strong>List&lt;Rating&gt;</strong>.<br />\n<strong>My Question-</strong><br />\nUsing this above approach I am able to obtain a list of objects of <strong>Rating</strong> class. But, can somebody explain <strong>how this map (obtained using .get(&quot;data&quot;)) automatically gets converted to List using simple type conversion?</strong> The code doesn't seem to use any Object Mapper like Jackson. Also, I am getting a warning. Is there any way to remove it?  I can send the List as it is to a GET request.<br />\n<strong>But If I try to use a method on the List I get errors-</strong><br />\n<strong>Follow Up-</strong></li>\n<li>I tried using stream() and map() on the List I obtained above, but got an error-</li>\n</ol>\n<pre><code> ratings=ratings.stream().map(rating-&gt;{\n            //api call to hotel service to obtain the hotel\n            Hotel hotel=(Hotel) restTemplate.getForEntity(&quot;http://localhost:8086/microservices/hotel/get-hotel-by-id?hotelId=&quot;+rating.getHotelId(), Map.class).getBody().get(&quot;data&quot;);\n            logger.info(&quot;fetched hotel: &quot;, hotel);\n            rating.setHotel(hotel);\n        }).collect(Collectors.toList());\n</code></pre>\n<p>Got a compile-time error on the <strong>.map()</strong>-</p>\n<p><a href=\"https://i.stack.imgur.com/5qK51.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5qK51.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"5\">\n<li><strong>forEach() gives class cast exception-</strong></li>\n</ol>\n<pre><code>  ratings.forEach((rating)-&gt;{\n            //api call to hotel service to obtain the hotel\n            Hotel hotel=(Hotel) restTemplate.getForEntity(&quot;http://localhost:8086/microservices/hotel/get-hotel-by-id?hotelId=&quot;+rating.getHotelId(), Map.class).getBody().get(&quot;data&quot;);\n            logger.info(&quot;fetched hotel: &quot;, hotel);\n            rating.setHotel(hotel);\n      });\n</code></pre>\n<p>Error on <strong>forEach()</strong>-</p>\n<pre><code>java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.example.user_service.entities.Rating (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; com.example.user_service.entities.Rating is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @db2af5f)\n        at java.base/java.util.ArrayList.forEach(Unknown Source) ~[na:na]\n        at com.example.user_service.ServiceImpl.UserServiceImpl.getUser(UserServiceImpl.java:84) ~[classes/:na]\n        at com.example.user_service.controller.UserController.getUserById(UserController.java:53) ~[classes/:na]\n</code></pre>\n"},{"tags":["java","jackson"],"comments":[{"owner":{"account_id":4058672,"reputation":886,"user_id":3335776,"accept_rate":42,"display_name":"LNT"},"score":0,"creation_date":1401881640,"post_id":24035326,"comment_id":37054264,"body_markdown":"As it is using json coming from JavaScript, anyway I removed it.","body":"As it is using json coming from JavaScript, anyway I removed it."},{"owner":{"account_id":4058672,"reputation":886,"user_id":3335776,"accept_rate":42,"display_name":"LNT"},"score":0,"creation_date":1401881735,"post_id":24035326,"comment_id":37054323,"body_markdown":"Why would somebody close it, without giving any reason?","body":"Why would somebody close it, without giving any reason?"},{"owner":{"account_id":1604752,"reputation":3710,"user_id":1485064,"accept_rate":74,"display_name":"Mikkel L&#248;kke"},"score":0,"creation_date":1401882005,"post_id":24035326,"comment_id":37054483,"body_markdown":"What is the semantic difference? Wouldn&#39;t those &quot;properties set by some other module&quot; have to be updated as well?","body":"What is the semantic difference? Wouldn&#39;t those &quot;properties set by some other module&quot; have to be updated as well?"},{"owner":{"account_id":4058672,"reputation":886,"user_id":3335776,"accept_rate":42,"display_name":"LNT"},"score":0,"creation_date":1401882423,"post_id":24035326,"comment_id":37054743,"body_markdown":"yes but not in same thread or one go, yes are being updated if i want to use jackson  to set what i will need to do is create temporary variables form existing one and then create new one and then set all those temps back to new One, its not lot of work and more importantly is that preferred?","body":"yes but not in same thread or one go, yes are being updated if i want to use jackson  to set what i will need to do is create temporary variables form existing one and then create new one and then set all those temps back to new One, its not lot of work and more importantly is that preferred?"},{"owner":{"account_id":1604752,"reputation":3710,"user_id":1485064,"accept_rate":74,"display_name":"Mikkel L&#248;kke"},"score":0,"creation_date":1401883053,"post_id":24035326,"comment_id":37055166,"body_markdown":"It depends on your data structure. If the &quot;properties set by some other module&quot; are derived from the properties of the object, you should encapsulate them in that object.","body":"It depends on your data structure. If the &quot;properties set by some other module&quot; are derived from the properties of the object, you should encapsulate them in that object."}],"answers":[{"comments":[{"owner":{"account_id":6542879,"reputation":369,"user_id":5059727,"accept_rate":60,"display_name":"Mayank Jain"},"score":1,"creation_date":1622010157,"post_id":24036728,"comment_id":119662881,"body_markdown":"The given links aren&#39;t accessible. Anyone who have the new or updated links, please update in answer.","body":"The given links aren&#39;t accessible. Anyone who have the new or updated links, please update in answer."}],"tags":[],"owner":{"account_id":4058672,"reputation":886,"user_id":3335776,"accept_rate":42,"display_name":"LNT"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1401882895,"creation_date":1401882895,"answer_id":24036728,"question_id":24035326,"body_markdown":"Ok found the answer, \r\nhttp://jira.codehaus.org/browse/JACKSON-857\r\nhttp://jira.codehaus.org/browse/JACKSON-824\r\n\r\n    mapper.readerForUpdating(object).readValue(json);\r\n","title":"Jackson : Updating (not creating new object) JavaObject from Json?","body":"<p>Ok found the answer, \n<a href=\"http://jira.codehaus.org/browse/JACKSON-857\">http://jira.codehaus.org/browse/JACKSON-857</a>\n<a href=\"http://jira.codehaus.org/browse/JACKSON-824\">http://jira.codehaus.org/browse/JACKSON-824</a></p>\n\n<pre><code>mapper.readerForUpdating(object).readValue(json);\n</code></pre>\n"}],"owner":{"account_id":4058672,"reputation":886,"user_id":3335776,"accept_rate":42,"display_name":"LNT"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3010,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":24036728,"answer_count":1,"score":7,"last_activity_date":1674154832,"creation_date":1401878571,"question_id":24035326,"body_markdown":"OK I have a json say\r\n\r\n    userjson = { fname : &quot;ABC&quot;, lname : &quot;DEF&quot; }\r\n\r\nand  a User Pojo Object\r\n\r\n\r\n    User {\r\n     String id, \r\n     String email,\r\n     String fname,\r\n     String lname\r\n    }\r\n\r\nnow using the Jackson, I know how to create User instance from userjson, but how do i update existing User instance from userjson, because my user instance has some properties already set by some other Module.\r\n\r\nFor now what i am doing is converting userjson to userHasMap and then set all the values manually\r\n\r\n    userInstance.setFName(userHasMap.get(&#39;fname&#39;))\r\n    userInstance.setLName(userHasMap.get(&#39;lname&#39;))\r\n\r\nwhich works fine, but I could have done some thing for converting userInstance to userjson when needed which would have made use of jackson-lib meaningless.\r\n\r\n\r\n\r\n\r\n","title":"Jackson : Updating (not creating new object) JavaObject from Json?","body":"<p>OK I have a json say</p>\n<pre><code>userjson = { fname : &quot;ABC&quot;, lname : &quot;DEF&quot; }\n</code></pre>\n<p>and  a User Pojo Object</p>\n<pre><code>User {\n String id, \n String email,\n String fname,\n String lname\n}\n</code></pre>\n<p>now using the Jackson, I know how to create User instance from userjson, but how do i update existing User instance from userjson, because my user instance has some properties already set by some other Module.</p>\n<p>For now what i am doing is converting userjson to userHasMap and then set all the values manually</p>\n<pre><code>userInstance.setFName(userHasMap.get('fname'))\nuserInstance.setLName(userHasMap.get('lname'))\n</code></pre>\n<p>which works fine, but I could have done some thing for converting userInstance to userjson when needed which would have made use of jackson-lib meaningless.</p>\n"},{"tags":["java","json","spring","parsing","jackson"],"answers":[{"comments":[{"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"score":0,"creation_date":1296242850,"post_id":4816384,"comment_id":5362308,"body_markdown":"Very good point about Smile -- it can be compact, esp. when enabling string-value back references (if there are many repeated string values, like enumerated values)","body":"Very good point about Smile -- it can be compact, esp. when enabling string-value back references (if there are many repeated string values, like enumerated values)"}],"tags":[],"owner":{"account_id":35397,"reputation":12362,"user_id":100237,"accept_rate":75,"display_name":"pingw33n"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1296131880,"creation_date":1296131880,"answer_id":4816384,"question_id":4815231,"body_markdown":"Seems like Jackson with `QUOTE_FIELD_NAMES` in certain cases produces such output that it can&#39;t read itself even with `ALLOW_UNQUOTED_FIELD_NAMES` on. You will probably need to implement custom `JsonParser` for non-standard input parsing. \r\n\r\nThe problem is that you&#39;re generating non-standard JSON and there&#39;s no guarantees that client will handle it properly. However if you don&#39;t expose it outside your application(s) and care about size much you could parse/generate binary format like Jackson&#39;s [Smile][1]. See http://www.cowtowncoder.com/blog/archives/2010/09/entry_418.html (2.4).\r\n\r\n\r\n  [1]: http://wiki.fasterxml.com/JacksonBinaryFormat","title":"ALLOW_UNQUOTED_FIELD_NAMES in jackon JSON library","body":"<p>Seems like Jackson with <code>QUOTE_FIELD_NAMES</code> in certain cases produces such output that it can't read itself even with <code>ALLOW_UNQUOTED_FIELD_NAMES</code> on. You will probably need to implement custom <code>JsonParser</code> for non-standard input parsing. </p>\n\n<p>The problem is that you're generating non-standard JSON and there's no guarantees that client will handle it properly. However if you don't expose it outside your application(s) and care about size much you could parse/generate binary format like Jackson's <a href=\"http://wiki.fasterxml.com/JacksonBinaryFormat\" rel=\"noreferrer\">Smile</a>. See <a href=\"http://www.cowtowncoder.com/blog/archives/2010/09/entry_418.html\" rel=\"noreferrer\">http://www.cowtowncoder.com/blog/archives/2010/09/entry_418.html</a> (2.4).</p>\n"},{"comments":[{"owner":{"account_id":90778,"reputation":19457,"user_id":249699,"accept_rate":88,"display_name":"Javi"},"score":0,"creation_date":1296133766,"post_id":4816565,"comment_id":5341053,"body_markdown":"Thanks I had thought about it but I was not sure if the variables were legal or not. Although the json is not used in javascript (it&#39;s sent from a Java client to a JEE application) what you say might be right. As regards gzip, I&#39;m already sending the json zipped, but thanks for the idea anyway.","body":"Thanks I had thought about it but I was not sure if the variables were legal or not. Although the json is not used in javascript (it&#39;s sent from a Java client to a JEE application) what you say might be right. As regards gzip, I&#39;m already sending the json zipped, but thanks for the idea anyway."}],"tags":[],"owner":{"account_id":89765,"reputation":8751,"user_id":247462,"accept_rate":82,"display_name":"Javier Ferrero"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1296132957,"creation_date":1296132957,"answer_id":4816565,"question_id":4815231,"body_markdown":"I believe the problem is related to Javascript sintax and not to Jackson nor JSON.\r\n\r\nIn Javascript a name is a letter optionally followed by one or more letters, digits, or underbars, so 90110a2e-febd-470f-afa4-cf7e890d31b9 is not a legal Javascript name.\r\n\r\nThe quotes around a property&#39;s name are optional if the name would be a legal JavaScript name and not a reserved word. So quotes are required around &quot;first-name&quot;, but are optional around first_name.\r\n\r\nBTW, if you are so concerned about JSON size why don&#39;t you gzip it?\r\n","title":"ALLOW_UNQUOTED_FIELD_NAMES in jackon JSON library","body":"<p>I believe the problem is related to Javascript sintax and not to Jackson nor JSON.</p>\n\n<p>In Javascript a name is a letter optionally followed by one or more letters, digits, or underbars, so 90110a2e-febd-470f-afa4-cf7e890d31b9 is not a legal Javascript name.</p>\n\n<p>The quotes around a property's name are optional if the name would be a legal JavaScript name and not a reserved word. So quotes are required around \"first-name\", but are optional around first_name.</p>\n\n<p>BTW, if you are so concerned about JSON size why don't you gzip it?</p>\n"},{"comments":[{"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"score":1,"creation_date":1302020120,"post_id":4820630,"comment_id":6316388,"body_markdown":"Oh. Actually, it&#39;s even simpler than that: since javascript identifiers can&#39;t start with numbers, that&#39;s what causes the problem. It might be possible to relax this, too, for ALLOW_UNQUOTED_FIELD_NAMES mode; for this a Jira feature request would help.","body":"Oh. Actually, it&#39;s even simpler than that: since javascript identifiers can&#39;t start with numbers, that&#39;s what causes the problem. It might be possible to relax this, too, for ALLOW_UNQUOTED_FIELD_NAMES mode; for this a Jira feature request would help."}],"tags":[],"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1296155026,"creation_date":1296155026,"answer_id":4820630,"question_id":4815231,"body_markdown":"Ok, Pingw33n&#39;s answer is pretty much correct I think. So: yes, you can use the feature; but it is rather heuristic -- since there is no specification as to how unquoted names should work (after all, JSON allows any and all characters for names!); or, what if any escape mechanism is to be used, it&#39;s anyone&#39;s guess as to what should be written or accepted.\r\n\r\nIn this particular case it is probably &#39;-&#39; character that causes an issue. It is not a legal part of Javascript name, which is the approximation Jackson uses.\r\n\r\nOne possible solution would be for Jackson to escape such characters in property names (I don&#39;t remember how it is done currently; if any name characters are quoted). If you can figure out a simple test case, you can file a Jira request-for-enchancement at [Jackson Jira][1] to get escaping added (and ensure parser can unescape the usual backslash version).\r\n\r\n\r\n  [1]: http://jira.codehaus.org/browse/JACKSON","title":"ALLOW_UNQUOTED_FIELD_NAMES in jackon JSON library","body":"<p>Ok, Pingw33n's answer is pretty much correct I think. So: yes, you can use the feature; but it is rather heuristic -- since there is no specification as to how unquoted names should work (after all, JSON allows any and all characters for names!); or, what if any escape mechanism is to be used, it's anyone's guess as to what should be written or accepted.</p>\n\n<p>In this particular case it is probably '-' character that causes an issue. It is not a legal part of Javascript name, which is the approximation Jackson uses.</p>\n\n<p>One possible solution would be for Jackson to escape such characters in property names (I don't remember how it is done currently; if any name characters are quoted). If you can figure out a simple test case, you can file a Jira request-for-enchancement at <a href=\"http://jira.codehaus.org/browse/JACKSON\" rel=\"noreferrer\">Jackson Jira</a> to get escaping added (and ensure parser can unescape the usual backslash version).</p>\n"},{"tags":[],"owner":{"account_id":6197622,"reputation":6095,"user_id":4828463,"accept_rate":91,"display_name":"Faraz"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1600960964,"creation_date":1576458329,"answer_id":59349455,"question_id":4815231,"body_markdown":"This is an old question, but if anyone stumbles here and wants to know a way to get ALLOW_UNQUOTED_FIELD_NAMES work in newer versions of jackson, use this:\r\n\r\n    new ObjectMapper().configure(com.fasterxml.jackson.core.JsonParser.Feature.ALLOW_UNQUOTED_FIELD_NAMES, true);","title":"ALLOW_UNQUOTED_FIELD_NAMES in jackon JSON library","body":"<p>This is an old question, but if anyone stumbles here and wants to know a way to get ALLOW_UNQUOTED_FIELD_NAMES work in newer versions of jackson, use this:</p>\n<pre><code>new ObjectMapper().configure(com.fasterxml.jackson.core.JsonParser.Feature.ALLOW_UNQUOTED_FIELD_NAMES, true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19475821,"reputation":1,"user_id":14247232,"display_name":"Nik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612526821,"creation_date":1612522916,"answer_id":66062075,"question_id":4815231,"body_markdown":"If you&#39;re using `Spring Boot`, you can autowire the `ObjectMapper`:\r\n\r\n```\r\n@Configuration\r\npublic class JacksonConfig {\r\n\r\n    @Autowired\r\n    private ObjectMapper objectMapper;\r\n\r\n    @PostConstruct\r\n    public void configureObjectMapper() {\r\n        objectMapper.configure(Feature.ALLOW_UNQUOTED_FIELD_NAMES, true);\r\n    }\r\n}\r\n```","title":"ALLOW_UNQUOTED_FIELD_NAMES in jackon JSON library","body":"<p>If you're using <code>Spring Boot</code>, you can autowire the <code>ObjectMapper</code>:</p>\n<pre><code>@Configuration\npublic class JacksonConfig {\n\n    @Autowired\n    private ObjectMapper objectMapper;\n\n    @PostConstruct\n    public void configureObjectMapper() {\n        objectMapper.configure(Feature.ALLOW_UNQUOTED_FIELD_NAMES, true);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3719550,"reputation":6826,"user_id":3094906,"accept_rate":71,"display_name":"Martin H&#228;usler"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674154506,"creation_date":1674154506,"answer_id":75177052,"question_id":4815231,"body_markdown":"In case somebody is looking this up: in newer versions of Jackson, there&#39;s the `JsonMapper.builder()`. All attempts at fiddling with the `objectMapper.deserializationConfig` have failed for me. This worked:\r\n\r\n```\r\nObjectMapper objectMapper = JsonMapper.builder()\r\n        .enable(JsonParser.Feature.ALLOW_UNQUOTED_FIELD_NAMES)\r\n        // other &quot;enable(...) calls&quot;\r\n        .build();\r\n```","title":"ALLOW_UNQUOTED_FIELD_NAMES in jackon JSON library","body":"<p>In case somebody is looking this up: in newer versions of Jackson, there's the <code>JsonMapper.builder()</code>. All attempts at fiddling with the <code>objectMapper.deserializationConfig</code> have failed for me. This worked:</p>\n<pre><code>ObjectMapper objectMapper = JsonMapper.builder()\n        .enable(JsonParser.Feature.ALLOW_UNQUOTED_FIELD_NAMES)\n        // other &quot;enable(...) calls&quot;\n        .build();\n</code></pre>\n"}],"owner":{"account_id":90778,"reputation":19457,"user_id":249699,"accept_rate":88,"display_name":"Javi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34974,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":4816384,"answer_count":6,"score":19,"last_activity_date":1674154506,"creation_date":1296124489,"question_id":4815231,"body_markdown":"I&#39;m using the jackson library for  serializing/deserializing to/from JSON. I need that this JSON has the smallest size as possible so I&#39;ve enabled the feature ALLOW_UNQUOTED_FIELD_NAMES to eliminate all the quotes. I know that removing quotes is not standard json, but making json small is a hard requirement of the project. The generated json works, but when I&#39;ve trying to read the json value I&#39;m getting an exception:\r\n\r\n&gt; org.codehaus.jackson.JsonParseException:\r\n&gt; Unexpected character (&#39;9&#39; (code 57)):\r\n&gt; was expecting either valid name\r\n&gt; character (for unquoted name) or\r\n&gt; double-quote (for quoted) to start\r\n&gt; field name  at [Source:\r\n&gt; java.io.StringReader@1347d75; line: 1,\r\n&gt; column: 3]\r\n\r\nThe exception above is thrown when I read this json:\r\n\r\n    {90110a2e-febd-470f-afa4-cf7e890d31b9:0,eec652ad-a4d9-4eb1-8d24-7c1a0c29449f:1}\r\n\r\nThe way I read it is:\r\n\r\n    Map&lt;String, Object&gt; valuesMap = oM.readValue(json, new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {});\r\n\r\nand the object mapper I use both for reading and writing the values is:\r\n\r\n    private static final ObjectMapper om = new ObjectMapper();\r\n    static {\r\n        om.configure(JsonGenerator.Feature.QUOTE_FIELD_NAMES, false);\r\n        om.configure(JsonParser.Feature.ALLOW_UNQUOTED_FIELD_NAMES, true);\r\n        om.configure(SerializationConfig.Feature.WRITE_DATES_AS_TIMESTAMPS, true);\r\n        om.configure(DeserializationConfig.Feature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n        om.getSerializationConfig().setSerializationInclusion(JsonSerialize.Inclusion.NON_NULL);\r\n    }\r\n\r\nI&#39;m using version 1.6.3 of Jackson, in both the sender and the receiver projects. The needed version for this feature is 1.2+ so I thought that maybe I wasn&#39;t using this version, but my receiver is a Spring application and I&#39;ve checked that the library installed in libs folder is 1.6.3.\r\n\r\nWhat may I be doing wrong? Maybe this feature cannot be used with maps.\r\n\r\nI have another question, So far I&#39;m just sending a map where the key is just a uuid value and the value is a number. May I have any problems if I send a value with special characters with ALLOW_UNQUOTED_FIELD_NAMES feature on? Will jackson escape this characters?\r\n\r\nThanks.","title":"ALLOW_UNQUOTED_FIELD_NAMES in jackon JSON library","body":"<p>I'm using the jackson library for  serializing/deserializing to/from JSON. I need that this JSON has the smallest size as possible so I've enabled the feature ALLOW_UNQUOTED_FIELD_NAMES to eliminate all the quotes. I know that removing quotes is not standard json, but making json small is a hard requirement of the project. The generated json works, but when I've trying to read the json value I'm getting an exception:</p>\n\n<blockquote>\n  <p>org.codehaus.jackson.JsonParseException:\n  Unexpected character ('9' (code 57)):\n  was expecting either valid name\n  character (for unquoted name) or\n  double-quote (for quoted) to start\n  field name  at [Source:\n  java.io.StringReader@1347d75; line: 1,\n  column: 3]</p>\n</blockquote>\n\n<p>The exception above is thrown when I read this json:</p>\n\n<pre><code>{90110a2e-febd-470f-afa4-cf7e890d31b9:0,eec652ad-a4d9-4eb1-8d24-7c1a0c29449f:1}\n</code></pre>\n\n<p>The way I read it is:</p>\n\n<pre><code>Map&lt;String, Object&gt; valuesMap = oM.readValue(json, new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {});\n</code></pre>\n\n<p>and the object mapper I use both for reading and writing the values is:</p>\n\n<pre><code>private static final ObjectMapper om = new ObjectMapper();\nstatic {\n    om.configure(JsonGenerator.Feature.QUOTE_FIELD_NAMES, false);\n    om.configure(JsonParser.Feature.ALLOW_UNQUOTED_FIELD_NAMES, true);\n    om.configure(SerializationConfig.Feature.WRITE_DATES_AS_TIMESTAMPS, true);\n    om.configure(DeserializationConfig.Feature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n    om.getSerializationConfig().setSerializationInclusion(JsonSerialize.Inclusion.NON_NULL);\n}\n</code></pre>\n\n<p>I'm using version 1.6.3 of Jackson, in both the sender and the receiver projects. The needed version for this feature is 1.2+ so I thought that maybe I wasn't using this version, but my receiver is a Spring application and I've checked that the library installed in libs folder is 1.6.3.</p>\n\n<p>What may I be doing wrong? Maybe this feature cannot be used with maps.</p>\n\n<p>I have another question, So far I'm just sending a map where the key is just a uuid value and the value is a number. May I have any problems if I send a value with special characters with ALLOW_UNQUOTED_FIELD_NAMES feature on? Will jackson escape this characters?</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","delay","keyevent"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1674154447,"post_id":75176704,"comment_id":132659981,"body_markdown":"Consider posting a [mcve]. Also, I think you should be using a [_Swing_ timer](https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html)","body":"Consider posting a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Also, I think you should be using a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\"><i>Swing</i> timer</a>"},{"owner":{"account_id":17966093,"reputation":597,"user_id":13055947,"display_name":"emilio"},"score":0,"creation_date":1674154658,"post_id":75176704,"comment_id":132660043,"body_markdown":"Don’t run the task in a thread. It seems every time you press space a new task in put at into the threadpool queue. That is the issue why so many bullets are fired. You need to check if you are already shooting. Further you need to consider KEY_PRESSED events","body":"Don’t run the task in a thread. It seems every time you press space a new task in put at into the threadpool queue. That is the issue why so many bullets are fired. You need to check if you are already shooting. Further you need to consider KEY_PRESSED events"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674154464,"creation_date":1674154464,"answer_id":75177040,"question_id":75176704,"body_markdown":"Check the documentation for [KeyEvent][1]. You will notice there are three types of events:\r\n- KEY_PRESSED\r\n- KEY_TYPED (is only generated if a valid Unicode character could be generated.)\r\n- KEY_RELEASED\r\n\r\nThe KEY_TYPED events are the problematic ones for you, since they are generated by the hardware/keyboard driver according to operating system settings. You cannot change the rate at which they fire.\r\n\r\nBut you can completely ignore them and go for KEY_PRESSED and KEY_RELEASED. So as soon as you notice a KEY_PRESSED event, start your timer that will fire at the rate you want, and stop that timer when you receive a KEY_RELEASED.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/java/awt/event/KeyEvent.html","title":"How to delay with use of keyevent?","body":"<p>Check the documentation for <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/java/awt/event/KeyEvent.html\" rel=\"nofollow noreferrer\">KeyEvent</a>. You will notice there are three types of events:</p>\n<ul>\n<li>KEY_PRESSED</li>\n<li>KEY_TYPED (is only generated if a valid Unicode character could be generated.)</li>\n<li>KEY_RELEASED</li>\n</ul>\n<p>The KEY_TYPED events are the problematic ones for you, since they are generated by the hardware/keyboard driver according to operating system settings. You cannot change the rate at which they fire.</p>\n<p>But you can completely ignore them and go for KEY_PRESSED and KEY_RELEASED. So as soon as you notice a KEY_PRESSED event, start your timer that will fire at the rate you want, and stop that timer when you receive a KEY_RELEASED.</p>\n"}],"owner":{"account_id":27456500,"reputation":13,"user_id":20947844,"display_name":"Uri Singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674154464,"creation_date":1674152568,"question_id":75176704,"body_markdown":"I want that when I press and hold space button that the spaceship&#39;s bullets shoot every 2 seconds. Now if I press and hold space button the spaceship shoots lots of bullets in one line. How can I fix this?  \r\n\r\nMethod in class `Game`\r\n```java\r\npublic void newBullet() {                 \r\n    Bullet k = new Bullet(this.spaceship.getX() + (Spaceship.WIDTH / 2), this.spaceship.getY() - 15, DEFAULT_SPEED,type.SPACESHIP);\r\n    bullets.add(k);\r\n}\r\n````\r\n-------------------\r\n```java\r\npublic class ShootBullet extends TimerTask {\r\n    private Game model;\r\n    private SpaceInvadersController controller;\r\n    \r\n    public ShootBullet(Game model, SpaceInvadersController controller) {\r\n        this.model = model;\r\n        this.controller = controller;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        long lastTime = System.nanoTime();             \r\n        final double amountOfTicks = 60.0;\r\n        final double ns = 1000000000 / amountOfTicks;\r\n        double delta = 0;\r\n        while(true){\r\n            long now = System.nanoTime();\r\n            delta += (now - lastTime) / ns;\r\n            lastTime = now;\r\n            while(delta &gt;= 1) {\r\n                this.model.tick();\r\n                Platform.runLater(controller::update);\r\n                delta--;\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nThis is in controller:\r\n```java\r\nprivate void move(KeyEvent k) {\r\n    switch(k.getCode()){\r\n        case LEFT:\r\n            this.model.spaceshipLeft();\r\n            break;\r\n        case RIGHT:\r\n            this.model.spaceshipRight();\r\n            break;\r\n        case UP:\r\n            this.model.spaceshipUp();\r\n            break;\r\n        case DOWN:                     \r\n            this.model.spaceshipDown();\r\n            break;\r\n        case SPACE:\r\n            this.shoot();\r\n            break;\r\n    }\r\n    view.update();      \r\n}\r\n\r\nprivate void shoot() {\r\n    ShootBullet task = new ShootBullet(this.model, this);\r\n    this.model.newBullet();\r\n    timer2.scheduleAtFixedRate(task, 0, 1000);\r\n    update();\r\n}\r\n```\r\n","title":"How to delay with use of keyevent?","body":"<p>I want that when I press and hold space button that the spaceship's bullets shoot every 2 seconds. Now if I press and hold space button the spaceship shoots lots of bullets in one line. How can I fix this?</p>\n<p>Method in class <code>Game</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public void newBullet() {                 \n    Bullet k = new Bullet(this.spaceship.getX() + (Spaceship.WIDTH / 2), this.spaceship.getY() - 15, DEFAULT_SPEED,type.SPACESHIP);\n    bullets.add(k);\n}\n</code></pre>\n<hr />\n<pre class=\"lang-java prettyprint-override\"><code>public class ShootBullet extends TimerTask {\n    private Game model;\n    private SpaceInvadersController controller;\n    \n    public ShootBullet(Game model, SpaceInvadersController controller) {\n        this.model = model;\n        this.controller = controller;\n    }\n\n    @Override\n    public void run() {\n        long lastTime = System.nanoTime();             \n        final double amountOfTicks = 60.0;\n        final double ns = 1000000000 / amountOfTicks;\n        double delta = 0;\n        while(true){\n            long now = System.nanoTime();\n            delta += (now - lastTime) / ns;\n            lastTime = now;\n            while(delta &gt;= 1) {\n                this.model.tick();\n                Platform.runLater(controller::update);\n                delta--;\n            }\n        }\n    }\n}\n</code></pre>\n<p>This is in controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void move(KeyEvent k) {\n    switch(k.getCode()){\n        case LEFT:\n            this.model.spaceshipLeft();\n            break;\n        case RIGHT:\n            this.model.spaceshipRight();\n            break;\n        case UP:\n            this.model.spaceshipUp();\n            break;\n        case DOWN:                     \n            this.model.spaceshipDown();\n            break;\n        case SPACE:\n            this.shoot();\n            break;\n    }\n    view.update();      \n}\n\nprivate void shoot() {\n    ShootBullet task = new ShootBullet(this.model, this);\n    this.model.newBullet();\n    timer2.scheduleAtFixedRate(task, 0, 1000);\n    update();\n}\n</code></pre>\n"},{"tags":["java","selenium","testng","page-factory"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1674155521,"post_id":75176979,"comment_id":132660320,"body_markdown":"you should probably include code for &quot;DriverManager&quot;.  Right now you are creating a new webdriver (I assume that&#39;s what TargetFactory is returning), then setting a reference to the driver in DriverManager.setDriver...   then using DriverManager.getDriver() and using get() method  (which is just a reference to masterDriver?, so might as well just use masterDriver here? it&#39;s also set private, so scope issue?)  Then your &quot;postCondition&quot; is using DriverManager quit() method and we can&#39;t see what that does.  Meanwhile you have another method here that also returns a reference to masterDriver.","body":"you should probably include code for &quot;DriverManager&quot;.  Right now you are creating a new webdriver (I assume that&#39;s what TargetFactory is returning), then setting a reference to the driver in DriverManager.setDriver...   then using DriverManager.getDriver() and using get() method  (which is just a reference to masterDriver?, so might as well just use masterDriver here? it&#39;s also set private, so scope issue?)  Then your &quot;postCondition&quot; is using DriverManager quit() method and we can&#39;t see what that does.  Meanwhile you have another method here that also returns a reference to masterDriver."}],"owner":{"account_id":27575295,"reputation":1,"user_id":21045660,"display_name":"Stokeley Gekyume"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674154094,"creation_date":1674154094,"question_id":75176979,"body_markdown":"I wrote a basic test using an open source Selenium framework. Whenever I run the individual test, it starts and runs fine. Whenever I add that test file to my local.xml (TestNG Suite), it does not run the test and gives me the error above.\r\n\r\nMy Test suite:\r\n\r\n```\r\n&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot; &gt;\r\n&lt;suite name=&quot;E2E Testing&quot; verbose=&quot;1&quot; parallel=&quot;tests&quot; thread-count=&quot;99&quot;&gt;\r\n\r\n    &lt;test name=&quot;Chrome execution&quot;&gt;\r\n        &lt;parameter name=&quot;browser&quot; value=&quot;chrome&quot;/&gt;\r\n        &lt;classes&gt;\r\n            &lt;class name=&quot;com.ryse.test.LoginTest&quot;/&gt;\r\n            &lt;class name=&quot;com.ryse.test.UserQueryTest&quot;/&gt;\r\n        &lt;/classes&gt;\r\n    &lt;/test&gt;\r\n\r\n&lt;/suite&gt;\r\n```\r\n\r\n\r\nLogin Test:\r\n\r\n```\r\npublic class LoginTest extends BaseWeb{\r\n\t\r\n\t  @Test(description = &quot;Login to Ryse using Google SSO/Okta&quot;)\r\n\t  public void loginTest() {\r\n\t\tLoginPage credlog = new LoginPage();\r\n\t\tcredlog.ssoLaunch();\r\n\t\tcredlog.getWindows(getDriver());\t\t\t\r\n\t\tcredlog.fillEmail(&quot;email@email.com&quot;);\r\n\t\tcredlog.fillPassword(&quot;234234234234&quot;);\r\n\t\tcredlog.getWindows(getDriver());\r\n\t\t\r\n\t  }\t \r\n\t  \r\n```\r\n\r\nBaseWeb:\r\n\r\n```\r\nimport com.ryse.driver.DriverManager;\r\nimport com.ryse.driver.TargetFactory;\r\nimport com.ryse.report.AllureManager;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.testng.annotations.AfterMethod;\r\nimport org.testng.annotations.BeforeMethod;\r\nimport org.testng.annotations.BeforeSuite;\r\nimport org.testng.annotations.Listeners;\r\nimport org.testng.annotations.Optional;\r\nimport org.testng.annotations.Parameters;\r\n\r\nimport static com.ryse.config.ConfigurationManager.configuration;\r\n\r\n@Listeners({TestListener.class})\r\npublic abstract class BaseWeb {\r\n\r\n\tprivate WebDriver masterDriver;\r\n\t\r\n    @BeforeSuite\r\n    public void beforeSuite() {\r\n        AllureManager.setAllureEnvironmentInformation();\r\n    }\r\n\r\n    @BeforeMethod(alwaysRun = true)\r\n    @Parameters(&quot;browser&quot;)\r\n    public void preCondition(@Optional(&quot;chrome&quot;) String browser) {\r\n        masterDriver = new TargetFactory().createInstance(browser);\r\n        DriverManager.setDriver(masterDriver);\r\n        DriverManager.getDriver().get(configuration().url());\r\n    }\r\n\r\n    @AfterMethod(alwaysRun = true)\r\n    public void postCondition() {\r\n        DriverManager.quit();\r\n    }\r\n    \r\n    public WebDriver getDriver()\r\n    {\r\n    \treturn masterDriver;\r\n    }\r\n    \r\n}\r\n\r\n```\r\n\r\n\r\nAny help or insights would be appreciated\r\n\r\n\r\nI was trying to create a TestNG Suite with functioning tests. While tests would work, suite execution would not","title":"Error When Executing TestNG Suite: Cannot invoke &quot;org.openqa.selenium.SearchContext.findElement&quot; because &quot;this.searchContext&quot; is null","body":"<p>I wrote a basic test using an open source Selenium framework. Whenever I run the individual test, it starts and runs fine. Whenever I add that test file to my local.xml (TestNG Suite), it does not run the test and gives me the error above.</p>\n<p>My Test suite:</p>\n<pre><code>&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot; &gt;\n&lt;suite name=&quot;E2E Testing&quot; verbose=&quot;1&quot; parallel=&quot;tests&quot; thread-count=&quot;99&quot;&gt;\n\n    &lt;test name=&quot;Chrome execution&quot;&gt;\n        &lt;parameter name=&quot;browser&quot; value=&quot;chrome&quot;/&gt;\n        &lt;classes&gt;\n            &lt;class name=&quot;com.ryse.test.LoginTest&quot;/&gt;\n            &lt;class name=&quot;com.ryse.test.UserQueryTest&quot;/&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n\n&lt;/suite&gt;\n</code></pre>\n<p>Login Test:</p>\n<pre><code>public class LoginTest extends BaseWeb{\n    \n      @Test(description = &quot;Login to Ryse using Google SSO/Okta&quot;)\n      public void loginTest() {\n        LoginPage credlog = new LoginPage();\n        credlog.ssoLaunch();\n        credlog.getWindows(getDriver());            \n        credlog.fillEmail(&quot;email@email.com&quot;);\n        credlog.fillPassword(&quot;234234234234&quot;);\n        credlog.getWindows(getDriver());\n        \n      }  \n      \n</code></pre>\n<p>BaseWeb:</p>\n<pre><code>import com.ryse.driver.DriverManager;\nimport com.ryse.driver.TargetFactory;\nimport com.ryse.report.AllureManager;\nimport org.openqa.selenium.WebDriver;\nimport org.testng.annotations.AfterMethod;\nimport org.testng.annotations.BeforeMethod;\nimport org.testng.annotations.BeforeSuite;\nimport org.testng.annotations.Listeners;\nimport org.testng.annotations.Optional;\nimport org.testng.annotations.Parameters;\n\nimport static com.ryse.config.ConfigurationManager.configuration;\n\n@Listeners({TestListener.class})\npublic abstract class BaseWeb {\n\n    private WebDriver masterDriver;\n    \n    @BeforeSuite\n    public void beforeSuite() {\n        AllureManager.setAllureEnvironmentInformation();\n    }\n\n    @BeforeMethod(alwaysRun = true)\n    @Parameters(&quot;browser&quot;)\n    public void preCondition(@Optional(&quot;chrome&quot;) String browser) {\n        masterDriver = new TargetFactory().createInstance(browser);\n        DriverManager.setDriver(masterDriver);\n        DriverManager.getDriver().get(configuration().url());\n    }\n\n    @AfterMethod(alwaysRun = true)\n    public void postCondition() {\n        DriverManager.quit();\n    }\n    \n    public WebDriver getDriver()\n    {\n        return masterDriver;\n    }\n    \n}\n\n</code></pre>\n<p>Any help or insights would be appreciated</p>\n<p>I was trying to create a TestNG Suite with functioning tests. While tests would work, suite execution would not</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":23444430,"reputation":55,"user_id":17501458,"display_name":"schlachsahne"},"score":1,"creation_date":1674067773,"post_id":75163707,"comment_id":132638196,"body_markdown":"i notice i should us the paintComponent Method to draw the balls right ?","body":"i notice i should us the paintComponent Method to draw the balls right ?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1674068261,"post_id":75163707,"comment_id":132638344,"body_markdown":"Yes, you should subclass JPanel (not JFrame) and override its paintComponent method.  The first line in your override must be `super.paintComponent`.  See https://docs.oracle.com/javase/tutorial/uiswing/painting/.","body":"Yes, you should subclass JPanel (not JFrame) and override its paintComponent method.  The first line in your override must be <code>super.paintComponent</code>.  See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/painting</a>."},{"owner":{"account_id":23444430,"reputation":55,"user_id":17501458,"display_name":"schlachsahne"},"score":0,"creation_date":1674068915,"post_id":75163707,"comment_id":132638555,"body_markdown":"so i should creat a new class which extends Jframe where i set up the frame and one which extends Jpanel where all the magic happens right ?","body":"so i should creat a new class which extends Jframe where i set up the frame and one which extends Jpanel where all the magic happens right ?"},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1674070641,"post_id":75163707,"comment_id":132639076,"body_markdown":"Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section. Pay particular attention to the [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) section.","body":"Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section. Pay particular attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> section."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674153685,"creation_date":1674103905,"answer_id":75167871,"question_id":75163707,"body_markdown":"A *Swing* application does not have to extend `JFrame`. However, if you want to perform [custom painting][1], then you should write a class that extends `JPanel` and override its `paintComponent` method and the first line in the overridden method should be: `super.paintComponent(g);`\r\n\r\nI made some minor changes to the code in your question.  \r\n- First, class `Animation` extends `JPanel` and not `JFrame`.\r\n- Second, I renamed method `paint` to `paintComponent` and added the line as described above.\r\n- Last, I added method `main` so as to make it [runnable][2].\r\n```java\r\nimport java.awt.Color;\r\nimport java.awt.EventQueue;\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\n\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.Timer;\r\nimport javax.swing.WindowConstants;\r\n\r\npublic class Animation extends JPanel {\r\n    int maus1x = 110;\r\n    int maus1y = 350;\r\n    int maus2x = 55;\r\n    int maus2y = 350;\r\n    int maus3x = 0;\r\n    int maus3y = 350;\r\n    ActionListener timeListener = new TimeListener();\r\n    Timer timer = new Timer(100,timeListener);\r\n\r\n    public Animation() {\r\n        JFrame frame = new JFrame(&quot;MausKampf&quot;);\r\n        frame.setContentPane(this);\r\n        frame.setSize(500, 500);\r\n        frame.setResizable(false);\r\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n        frame.setVisible(true);\r\n        timer.start();\r\n    }\r\n\r\n    public void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n        Graphics2D g2D = (Graphics2D) g;\r\n        g2D.setColor(Color.black);\r\n        g2D.drawLine(0,400,500,400);\r\n        g2D.drawLine(0,350,225,350);\r\n        g2D.drawLine(275,350,500,350);\r\n        g2D.drawLine(225,350,225,0);\r\n        g2D.drawLine(275,350,275,0);\r\n        g2D.setPaint(Color.CYAN);\r\n        g2D.fillOval(maus1x,maus1y,50,50);\r\n        g2D.setPaint(Color.GREEN);\r\n        g2D.fillOval(maus2x,maus2y,50,50);\r\n        g2D.setPaint(Color.RED);\r\n        g2D.fillOval(maus3x,maus3y,50,50);\r\n    }\r\n\r\n    public void move() {\r\n        maus1x = maus1x + 4;\r\n        maus2x = maus2x + 4;\r\n        maus3x = maus3x + 4;\r\n        if (maus1x &gt; 325) {\r\n            timer.stop();\r\n        }\r\n        repaint();\r\n    }\r\n\r\n    public class TimeListener implements ActionListener{\r\n\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            move();\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        EventQueue.invokeLater(() -&gt; new Animation());\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\r\n  [2]: https://stackoverflow.com/help/minimal-reproducible-example","title":"Java Swing GUI distort animation","body":"<p>A <em>Swing</em> application does not have to extend <code>JFrame</code>. However, if you want to perform <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">custom painting</a>, then you should write a class that extends <code>JPanel</code> and override its <code>paintComponent</code> method and the first line in the overridden method should be: <code>super.paintComponent(g);</code></p>\n<p>I made some minor changes to the code in your question.</p>\n<ul>\n<li>First, class <code>Animation</code> extends <code>JPanel</code> and not <code>JFrame</code>.</li>\n<li>Second, I renamed method <code>paint</code> to <code>paintComponent</code> and added the line as described above.</li>\n<li>Last, I added method <code>main</code> so as to make it <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">runnable</a>.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.Color;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.Timer;\nimport javax.swing.WindowConstants;\n\npublic class Animation extends JPanel {\n    int maus1x = 110;\n    int maus1y = 350;\n    int maus2x = 55;\n    int maus2y = 350;\n    int maus3x = 0;\n    int maus3y = 350;\n    ActionListener timeListener = new TimeListener();\n    Timer timer = new Timer(100,timeListener);\n\n    public Animation() {\n        JFrame frame = new JFrame(&quot;MausKampf&quot;);\n        frame.setContentPane(this);\n        frame.setSize(500, 500);\n        frame.setResizable(false);\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        frame.setVisible(true);\n        timer.start();\n    }\n\n    public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        Graphics2D g2D = (Graphics2D) g;\n        g2D.setColor(Color.black);\n        g2D.drawLine(0,400,500,400);\n        g2D.drawLine(0,350,225,350);\n        g2D.drawLine(275,350,500,350);\n        g2D.drawLine(225,350,225,0);\n        g2D.drawLine(275,350,275,0);\n        g2D.setPaint(Color.CYAN);\n        g2D.fillOval(maus1x,maus1y,50,50);\n        g2D.setPaint(Color.GREEN);\n        g2D.fillOval(maus2x,maus2y,50,50);\n        g2D.setPaint(Color.RED);\n        g2D.fillOval(maus3x,maus3y,50,50);\n    }\n\n    public void move() {\n        maus1x = maus1x + 4;\n        maus2x = maus2x + 4;\n        maus3x = maus3x + 4;\n        if (maus1x &gt; 325) {\n            timer.stop();\n        }\n        repaint();\n    }\n\n    public class TimeListener implements ActionListener{\n\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            move();\n        }\n    }\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(() -&gt; new Animation());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23444430,"reputation":55,"user_id":17501458,"display_name":"schlachsahne"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674153685,"creation_date":1674066316,"question_id":75163707,"body_markdown":"I want to build a simple animation of three balls going in one direction. Therefore I created a timer which edits the coordinates of the ball at every tick, but when I try to run it the balls just distort. They are moving in the right speed and direction but I want to remove the old balls when they change coordinates. I tried to add `super.paint()` in the `paint` method. It&#39;s deleting the old balls but most of the time the frame is just white. \r\n```java\r\npublic class Animation extends JFrame{\r\n    private JPanel panel2;\r\n    int maus1x = 110;\r\n    int maus1y = 350;\r\n    int maus2x = 55;\r\n    int maus2y = 350;\r\n    int maus3x = 0;\r\n    int maus3y = 350;\r\n    ActionListener timeListener = new TimeListener();\r\n    Timer timer = new Timer(100,timeListener);\r\n\r\n    public Animation() {\r\n        this.setContentPane(this.panel2);\r\n        this.setTitle(&quot;MausKampf&quot;);\r\n        this.setSize(500, 500);\r\n        this.setResizable(false);\r\n        this.setVisible(true);\r\n        this.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n        timer.start();\r\n    }\r\n\r\n    public void paint(Graphics g) {\r\n        Graphics2D g2D = (Graphics2D) g;\r\n        g2D.setColor(Color.black);\r\n        g2D.drawLine(0,400,500,400);\r\n        g2D.drawLine(0,350,225,350);\r\n        g2D.drawLine(275,350,500,350);\r\n        g2D.drawLine(225,350,225,0);\r\n        g2D.drawLine(275,350,275,0);\r\n        g2D.setPaint(Color.CYAN);\r\n        g2D.fillOval(maus1x,maus1y,50,50);\r\n        g2D.setPaint(Color.GREEN);\r\n        g2D.fillOval(maus2x,maus2y,50,50);\r\n        g2D.setPaint(Color.RED);\r\n        g2D.fillOval(maus3x,maus3y,50,50);\r\n    }\r\n\r\n    public void move() {\r\n        maus1x = maus1x + 4;\r\n        maus2x = maus2x + 4;\r\n        maus3x = maus3x + 4;\r\n        if (maus1x &gt; 325) {\r\n            timer.stop();\r\n        }\r\n        repaint();\r\n    }\r\n\r\n    public class TimeListener implements ActionListener{\r\n\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            move();\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Java Swing GUI distort animation","body":"<p>I want to build a simple animation of three balls going in one direction. Therefore I created a timer which edits the coordinates of the ball at every tick, but when I try to run it the balls just distort. They are moving in the right speed and direction but I want to remove the old balls when they change coordinates. I tried to add <code>super.paint()</code> in the <code>paint</code> method. It's deleting the old balls but most of the time the frame is just white.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Animation extends JFrame{\n    private JPanel panel2;\n    int maus1x = 110;\n    int maus1y = 350;\n    int maus2x = 55;\n    int maus2y = 350;\n    int maus3x = 0;\n    int maus3y = 350;\n    ActionListener timeListener = new TimeListener();\n    Timer timer = new Timer(100,timeListener);\n\n    public Animation() {\n        this.setContentPane(this.panel2);\n        this.setTitle(&quot;MausKampf&quot;);\n        this.setSize(500, 500);\n        this.setResizable(false);\n        this.setVisible(true);\n        this.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        timer.start();\n    }\n\n    public void paint(Graphics g) {\n        Graphics2D g2D = (Graphics2D) g;\n        g2D.setColor(Color.black);\n        g2D.drawLine(0,400,500,400);\n        g2D.drawLine(0,350,225,350);\n        g2D.drawLine(275,350,500,350);\n        g2D.drawLine(225,350,225,0);\n        g2D.drawLine(275,350,275,0);\n        g2D.setPaint(Color.CYAN);\n        g2D.fillOval(maus1x,maus1y,50,50);\n        g2D.setPaint(Color.GREEN);\n        g2D.fillOval(maus2x,maus2y,50,50);\n        g2D.setPaint(Color.RED);\n        g2D.fillOval(maus3x,maus3y,50,50);\n    }\n\n    public void move() {\n        maus1x = maus1x + 4;\n        maus2x = maus2x + 4;\n        maus3x = maus3x + 4;\n        if (maus1x &gt; 325) {\n            timer.stop();\n        }\n        repaint();\n    }\n\n    public class TimeListener implements ActionListener{\n\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            move();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","avro"],"comments":[{"owner":{"account_id":7810904,"reputation":12490,"user_id":6099347,"accept_rate":100,"display_name":"Aniket Sahrawat"},"score":0,"creation_date":1571038582,"post_id":58371779,"comment_id":103093507,"body_markdown":"[json-avro-converter](https://github.com/allegro/json-avro-converter/blob/master/README.md)","body":"<a href=\"https://github.com/allegro/json-avro-converter/blob/master/README.md\" rel=\"nofollow noreferrer\">json-avro-converter</a>"}],"answers":[{"tags":[],"owner":{"account_id":1543502,"reputation":1118,"user_id":1437593,"display_name":"Ryan Skraba"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1571128901,"creation_date":1571128901,"answer_id":58390574,"question_id":58371779,"body_markdown":"Avro specifies a binary format for serializing one object, but also a [Object Container File][1] (also known as data file) which can hold many objects in a useful way for file access. \r\n\r\n`DataFileStream` expects the container file, but from your description, it looks like you have a single serialized instance.\r\n\r\nYou probably want something like:\r\n\r\n```java\r\n  public String avroToJson(Schema schema, byte[] avroBinary) throws IOException {\r\n    // byte to datum\r\n    DatumReader&lt;Object&gt; datumReader = new GenericDatumReader&lt;&gt;(schema);\r\n    Decoder decoder = DecoderFactory.get().binaryDecoder(avroBinary, null);\r\n    Object avroDatum = datumReader.read(null, decoder);\r\n\r\n    // datum to json\r\n    String json = null;\r\n    try (ByteArrayOutputStream baos = new ByteArrayOutputStream()) {\r\n      DatumWriter&lt;Object&gt; writer = new GenericDatumWriter&lt;&gt;(schema);\r\n      JsonEncoder encoder = EncoderFactory.get().jsonEncoder(schema, baos, false);\r\n      writer.write(avroDatum, encoder);\r\n      encoder.flush();\r\n      baos.flush();\r\n      return new String(baos.toByteArray(), StandardCharsets.UTF_8);\r\n    }\r\n  }\r\n```\r\n\r\nNote that this means you *must* know the schema in advance to deserialize the binary data.  If it _were_ an Avro data file, you could get the schema from the file metadata.\r\n\r\n\r\n\r\n  [1]: https://avro.apache.org/docs/1.9.1/spec.html#Object+Container+Files","title":"Converting Avro Binary String to Json","body":"<p>Avro specifies a binary format for serializing one object, but also a <a href=\"https://avro.apache.org/docs/1.9.1/spec.html#Object+Container+Files\" rel=\"noreferrer\">Object Container File</a> (also known as data file) which can hold many objects in a useful way for file access. </p>\n\n<p><code>DataFileStream</code> expects the container file, but from your description, it looks like you have a single serialized instance.</p>\n\n<p>You probably want something like:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>  public String avroToJson(Schema schema, byte[] avroBinary) throws IOException {\n    // byte to datum\n    DatumReader&lt;Object&gt; datumReader = new GenericDatumReader&lt;&gt;(schema);\n    Decoder decoder = DecoderFactory.get().binaryDecoder(avroBinary, null);\n    Object avroDatum = datumReader.read(null, decoder);\n\n    // datum to json\n    String json = null;\n    try (ByteArrayOutputStream baos = new ByteArrayOutputStream()) {\n      DatumWriter&lt;Object&gt; writer = new GenericDatumWriter&lt;&gt;(schema);\n      JsonEncoder encoder = EncoderFactory.get().jsonEncoder(schema, baos, false);\n      writer.write(avroDatum, encoder);\n      encoder.flush();\n      baos.flush();\n      return new String(baos.toByteArray(), StandardCharsets.UTF_8);\n    }\n  }\n</code></pre>\n\n<p>Note that this means you <em>must</em> know the schema in advance to deserialize the binary data.  If it <em>were</em> an Avro data file, you could get the schema from the file metadata.</p>\n"}],"owner":{"account_id":5818973,"reputation":310,"user_id":4587635,"display_name":"Anuja Barve"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17845,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1674153361,"creation_date":1571037498,"question_id":58371779,"body_markdown":"I have a String in Avro Binary Format. I want to convert the String to json. Can someone please guide me ?. I tried using the solutions available online It did not work.\r\n\r\n    public String avroToJson(byte[] avro) throws IOException {\r\n            boolean pretty = false;\r\n            GenericDatumReader&lt;GenericRecord&gt; reader = null;\r\n            JsonEncoder encoder = null;\r\n            ByteArrayOutputStream output = null;\r\n            try {\r\n                reader = new GenericDatumReader&lt;GenericRecord&gt;();\r\n                InputStream input = new ByteArrayInputStream(avro);\r\n                DataFileStream&lt;GenericRecord&gt; streamReader = new DataFileStream&lt;GenericRecord&gt;(input, reader);\r\n                output = new ByteArrayOutputStream();\r\n                Schema schema = streamReader.getSchema();\r\n                DatumWriter&lt;GenericRecord&gt; writer = new GenericDatumWriter&lt;GenericRecord&gt;(schema);\r\n                encoder = EncoderFactory.get().jsonEncoder(schema, output, pretty);\r\n                for (GenericRecord datum : streamReader) {\r\n                    writer.write(datum, encoder);\r\n                }\r\n                encoder.flush();\r\n                output.flush();\r\n                return new String(output.toByteArray());\r\n            } finally {\r\n                try {\r\n                    if (output != null) output.close();\r\n                } catch (Exception e) {\r\n                }\r\n            }\r\n        }\r\n\r\n\r\nI am converting the my String to byte array using getBytes() and passing it to this function. I am getting this exception. \r\nException in thread &quot;main&quot; org.apache.avro.InvalidAvroMagicException: Not an Avro data file.","title":"Converting Avro Binary String to Json","body":"<p>I have a String in Avro Binary Format. I want to convert the String to json. Can someone please guide me ?. I tried using the solutions available online It did not work.</p>\n\n<pre><code>public String avroToJson(byte[] avro) throws IOException {\n        boolean pretty = false;\n        GenericDatumReader&lt;GenericRecord&gt; reader = null;\n        JsonEncoder encoder = null;\n        ByteArrayOutputStream output = null;\n        try {\n            reader = new GenericDatumReader&lt;GenericRecord&gt;();\n            InputStream input = new ByteArrayInputStream(avro);\n            DataFileStream&lt;GenericRecord&gt; streamReader = new DataFileStream&lt;GenericRecord&gt;(input, reader);\n            output = new ByteArrayOutputStream();\n            Schema schema = streamReader.getSchema();\n            DatumWriter&lt;GenericRecord&gt; writer = new GenericDatumWriter&lt;GenericRecord&gt;(schema);\n            encoder = EncoderFactory.get().jsonEncoder(schema, output, pretty);\n            for (GenericRecord datum : streamReader) {\n                writer.write(datum, encoder);\n            }\n            encoder.flush();\n            output.flush();\n            return new String(output.toByteArray());\n        } finally {\n            try {\n                if (output != null) output.close();\n            } catch (Exception e) {\n            }\n        }\n    }\n</code></pre>\n\n<p>I am converting the my String to byte array using getBytes() and passing it to this function. I am getting this exception. \nException in thread \"main\" org.apache.avro.InvalidAvroMagicException: Not an Avro data file.</p>\n"},{"tags":["java","arrays","sub-array"],"answers":[{"tags":[],"owner":{"account_id":27216231,"reputation":37,"user_id":20746216,"display_name":"JavaBoi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674153290,"creation_date":1674153290,"answer_id":75176837,"question_id":74937350,"body_markdown":"Here you can do this: \r\n\r\n```\r\nclass Solution {\r\n    public int maxSubArray(int[] nums) {\r\n    int sum=0,maxSum=0, i=0,negativeMaxSum=Integer.MIN_VALUE; //change here\r\n    if(nums.length==1) return nums[0];\r\n    for( i=0;i&lt;nums.length-1;i++){\r\n      sum+=nums[i];\r\n      negativeMaxSum = (nums[i]&lt;0 &amp;&amp; nums[i]&gt;negativeMaxSum) ? nums[i]: negativeMaxSum; //change here\r\n      negativeMaxSum = (nums[i]==0) ? 0: negativeMaxSum; //change here (if there exist a 0 in the array then we don&#39;t need to show the greatest negative integer)\r\n      for(int j=i+1;j&lt;nums.length;j++){\r\n        sum+=nums[j];\r\n        if(sum&gt;maxSum){\r\n          maxSum=sum;\r\n        }\r\n      }\r\n     sum=0;\r\n     }\r\n    maxSum= (maxSum == 0 &amp;&amp; negativeMaxSum&gt;Integer.MIN_VALUE) ? negativeMaxSum: maxSum; //change here\r\n    return (nums[i]&gt;maxSum)?nums[i]:maxSum;\r\n    }\r\n```\r\n\r\nYou can create a new variable negativeMaxSum and compare it with each element, eventually negativeMaxSum will always store the maximum negative element and we will check if our maxSum is 0 and negativeMaxSum &gt; least value for an integer(it means that there exist a negative integer) and we also checked if there existed a zero and if it did then we assigned it to our negativeMaxSum.","title":"How can I find the largest subarray sum if all the elements are negative and I have set the maxSum to 0, which is used to compare other elements?","body":"<p>Here you can do this:</p>\n<pre><code>class Solution {\n    public int maxSubArray(int[] nums) {\n    int sum=0,maxSum=0, i=0,negativeMaxSum=Integer.MIN_VALUE; //change here\n    if(nums.length==1) return nums[0];\n    for( i=0;i&lt;nums.length-1;i++){\n      sum+=nums[i];\n      negativeMaxSum = (nums[i]&lt;0 &amp;&amp; nums[i]&gt;negativeMaxSum) ? nums[i]: negativeMaxSum; //change here\n      negativeMaxSum = (nums[i]==0) ? 0: negativeMaxSum; //change here (if there exist a 0 in the array then we don't need to show the greatest negative integer)\n      for(int j=i+1;j&lt;nums.length;j++){\n        sum+=nums[j];\n        if(sum&gt;maxSum){\n          maxSum=sum;\n        }\n      }\n     sum=0;\n     }\n    maxSum= (maxSum == 0 &amp;&amp; negativeMaxSum&gt;Integer.MIN_VALUE) ? negativeMaxSum: maxSum; //change here\n    return (nums[i]&gt;maxSum)?nums[i]:maxSum;\n    }\n</code></pre>\n<p>You can create a new variable negativeMaxSum and compare it with each element, eventually negativeMaxSum will always store the maximum negative element and we will check if our maxSum is 0 and negativeMaxSum &gt; least value for an integer(it means that there exist a negative integer) and we also checked if there existed a zero and if it did then we assigned it to our negativeMaxSum.</p>\n"}],"owner":{"account_id":18576023,"reputation":23,"user_id":13536686,"display_name":"Shreyansh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674153290,"creation_date":1672212036,"question_id":74937350,"body_markdown":"Can someone help me with this. My code is working fine but consider a case of [-2,-1]. Since my maxSum is set to 0. My output is coming 0 instead of-1. How should I modify my code?\r\n\r\nSample i/o:\r\n```\r\nInput: nums = [-2,1,-3,4,-1,2,1,-5,4]\r\nOutput: 6\r\nExplanation: [4,-1,2,1] has the largest sum = 6.\r\n```\r\n\r\n\r\n```\r\nclass Solution {\r\n    public int maxSubArray(int[] nums) {\r\n    int sum=0,maxSum=0, i=0;\r\n    if(nums.length==1) return nums[0];\r\n    for( i=0;i&lt;nums.length-1;i++){``\r\n      sum+=nums[i];\r\n      for(int j=i+1;j&lt;nums.length;j++){\r\n        sum+=nums[j];\r\n        if(sum&gt;maxSum){\r\n          maxSum=sum;\r\n        }\r\n      }\r\n     sum=0;\r\n     }\r\n    return (nums[i]&gt;maxSum)?nums[i]:maxSum;\r\n    }\r\n    }\r\n```\r\n\r\nWhenever the sum&lt;maxSum I&#39;m not touching the maxSum but when all the elements are negative sum&lt;maxSum will always be true and I&#39;m getting returned 0, rather I should get the maximum negative number. I don&#39;t want to change my approach can I get it right by some slight modifications?","title":"How can I find the largest subarray sum if all the elements are negative and I have set the maxSum to 0, which is used to compare other elements?","body":"<p>Can someone help me with this. My code is working fine but consider a case of [-2,-1]. Since my maxSum is set to 0. My output is coming 0 instead of-1. How should I modify my code?</p>\n<p>Sample i/o:</p>\n<pre><code>Input: nums = [-2,1,-3,4,-1,2,1,-5,4]\nOutput: 6\nExplanation: [4,-1,2,1] has the largest sum = 6.\n</code></pre>\n<pre><code>class Solution {\n    public int maxSubArray(int[] nums) {\n    int sum=0,maxSum=0, i=0;\n    if(nums.length==1) return nums[0];\n    for( i=0;i&lt;nums.length-1;i++){``\n      sum+=nums[i];\n      for(int j=i+1;j&lt;nums.length;j++){\n        sum+=nums[j];\n        if(sum&gt;maxSum){\n          maxSum=sum;\n        }\n      }\n     sum=0;\n     }\n    return (nums[i]&gt;maxSum)?nums[i]:maxSum;\n    }\n    }\n</code></pre>\n<p>Whenever the sum&lt;maxSum I'm not touching the maxSum but when all the elements are negative sum&lt;maxSum will always be true and I'm getting returned 0, rather I should get the maximum negative number. I don't want to change my approach can I get it right by some slight modifications?</p>\n"},{"tags":["java","selenium","webdriver"],"answers":[{"tags":[],"owner":{"account_id":13875569,"reputation":2288,"user_id":10017326,"display_name":"rahul rai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1597987481,"creation_date":1597987481,"answer_id":63516970,"question_id":63516881,"body_markdown":"You no need to switch frame in your case, because there is no frame present in your page. Just inspect the &quot;Accept Cookies&quot; and click on that.\r\n\r\n \r\n\r\n    driver.get(&quot;https://www.zyyah.com/homeowner-lifestyle-perfected-home-value-protected/&quot;);\r\n     driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);\r\n    driver.findElement(By.id(&quot;cookie_action_close_header&quot;)).click();\r\n\r\n**Use of Switch to Frame:**\r\n\r\nhttps://www.browserstack.com/guide/handling-frames-in-selenium\r\n\r\n**Use of Alert:**\r\n\r\nhttps://www.browserstack.com/guide/alerts-and-popups-in-selenium","title":"Handle/Accept cookie pop-up in Selenium","body":"<p>You no need to switch frame in your case, because there is no frame present in your page. Just inspect the &quot;Accept Cookies&quot; and click on that.</p>\n<pre><code>driver.get(&quot;https://www.zyyah.com/homeowner-lifestyle-perfected-home-value-protected/&quot;);\n driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);\ndriver.findElement(By.id(&quot;cookie_action_close_header&quot;)).click();\n</code></pre>\n<p><strong>Use of Switch to Frame:</strong></p>\n<p><a href=\"https://www.browserstack.com/guide/handling-frames-in-selenium\" rel=\"nofollow noreferrer\">https://www.browserstack.com/guide/handling-frames-in-selenium</a></p>\n<p><strong>Use of Alert:</strong></p>\n<p><a href=\"https://www.browserstack.com/guide/alerts-and-popups-in-selenium\" rel=\"nofollow noreferrer\">https://www.browserstack.com/guide/alerts-and-popups-in-selenium</a></p>\n"},{"tags":[],"owner":{"account_id":18412051,"reputation":144,"user_id":13412076,"display_name":"arpita biswas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598091102,"creation_date":1598091102,"answer_id":63534979,"question_id":63516881,"body_markdown":"The code below worked for me. &quot;Accept Cookies&quot; button is not under any pop-window. So no frame or pop-up window is present here. Here, we just need to locate &quot;Accept Cookies&quot; button and click on it. \r\n\r\n    \r\n\t\tWebDriver Driver = new ChromeDriver();\r\n\t\tDriver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);\r\n\t\tString url = &quot;https://www.zyyah.com/homeowner-lifestyle-perfected-home-value-protected/&quot;;\r\n\t\tDriver.get(url);\r\n\t\tDriver.findElement(By.id(&quot;cookie_action_close_header&quot;)).click();\r\n\t\tSystem.out.println(&quot;completed&quot;);","title":"Handle/Accept cookie pop-up in Selenium","body":"<p>The code below worked for me. &quot;Accept Cookies&quot; button is not under any pop-window. So no frame or pop-up window is present here. Here, we just need to locate &quot;Accept Cookies&quot; button and click on it.</p>\n<pre><code>    WebDriver Driver = new ChromeDriver();\n    Driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);\n    String url = &quot;https://www.zyyah.com/homeowner-lifestyle-perfected-home-value-protected/&quot;;\n    Driver.get(url);\n    Driver.findElement(By.id(&quot;cookie_action_close_header&quot;)).click();\n    System.out.println(&quot;completed&quot;);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1674285947,"post_id":75176780,"comment_id":132686266,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75176780/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27575263,"reputation":1,"user_id":21045631,"display_name":"Krina Mandaliya"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674153001,"creation_date":1674153001,"answer_id":75176780,"question_id":63516881,"body_markdown":"    \t\tWebElement cookieAccept = driver.findElement(By.id(&quot;gdpr-banner-accept&quot;));\r\n\r\n\t\t// Explicit Wait\r\n\t\tWebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(60));\r\n\r\n\t\twait.until(ExpectedConditions.visibilityOf(cookieAccept));\r\n\r\n\t\twait.until(ExpectedConditions.elementToBeClickable(cookieAccept));\r\n\r\n\t\tcookieAccept.click();","title":"Handle/Accept cookie pop-up in Selenium","body":"<pre><code>        WebElement cookieAccept = driver.findElement(By.id(&quot;gdpr-banner-accept&quot;));\n\n    // Explicit Wait\n    WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(60));\n\n    wait.until(ExpectedConditions.visibilityOf(cookieAccept));\n\n    wait.until(ExpectedConditions.elementToBeClickable(cookieAccept));\n\n    cookieAccept.click();\n</code></pre>\n"}],"owner":{"account_id":19341938,"reputation":13,"user_id":14141265,"display_name":"Raj P"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16105,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":63516970,"answer_count":3,"score":1,"last_activity_date":1674153001,"creation_date":1597986840,"question_id":63516881,"body_markdown":"I am trying to &#39;accept the cookies&#39; on the homepage, but my code doesn&#39;t work. I tried to get the new window handles and then identify the subsequent Xpath for the frame and Accept button but it never work.\r\n\r\n\r\n```\r\npackage seleniumTestPack;\r\nimport java.util.concurrent.TimeUnit;\r\nimport org.openqa.selenium.*;\r\nimport org.openqa.selenium.chrome.*;\r\nimport org.openqa.selenium.support.ui.ExpectedConditions;\r\nimport org.openqa.selenium.support.ui.WebDriverWait;\r\nimport org.openqa.selenium.Cookie;\r\n\r\n\r\n@SuppressWarnings(&quot;unused&quot;)\r\npublic class firstSelTest {\r\n\tpublic static void main(String[] args) throws InterruptedException {\r\n\t\tChromeOptions options = new ChromeOptions();\r\n\r\n\t\t//Add chrome switch to disable notification - &quot;**--disable-notifications**&quot;\r\n\t\toptions.addArguments(&quot;--disable-notifications&quot;);\r\n\t\t\r\n\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\vmyna\\\\Downloads\\\\chromedriver_win32\\\\chromedriver.exe&quot;);\r\n\t\tWebDriver driver = new ChromeDriver(options);\r\n\t\t\r\n\t\tdriver.get(&quot;https://www.zyyah.com/homeowner-lifestyle-perfected-home-value-protected/&quot;);\r\n\t\t\r\n\t\tdriver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);\r\n\r\n\t\tdriver.switchTo().frame(0);\r\n\t\tdriver.getWindowHandles();\r\n\t\t\r\n\t\tdriver.switchTo().alert().accept();\r\n\t    By cookies_accept = By.xpath(&quot;//*[@id=\\&quot;cookie-law-info-bar\\&quot;]&quot;);\r\n\t    By cookies_gotIt = By.xpath(&quot;//*[@id=\\&quot;cookie_action_close_header\\&quot;]&quot;);\r\n\t    WebDriverWait wait = new WebDriverWait(driver, 10);\r\n\t    wait.until(ExpectedConditions.elementToBeClickable(cookies_accept)).click();\r\n\t    wait.until(ExpectedConditions.invisibilityOfElementLocated(cookies_accept));\r\n\t    wait.until(ExpectedConditions.elementToBeClickable(cookies_gotIt)).click();\r\n\r\n\t\tdriver.findElement(By.xpath(&quot;//*[@id=\\&#39;et-boc\\&#39;]/div/div/div[4]/div/div/div[2]/div[1]&quot;)).click();\r\n \r\n\t\tThread.sleep(10000);\r\n\t\tdriver.quit();\r\n\t\t\r\n\t}\r\n }\r\n```","title":"Handle/Accept cookie pop-up in Selenium","body":"<p>I am trying to 'accept the cookies' on the homepage, but my code doesn't work. I tried to get the new window handles and then identify the subsequent Xpath for the frame and Accept button but it never work.</p>\n<pre><code>package seleniumTestPack;\nimport java.util.concurrent.TimeUnit;\nimport org.openqa.selenium.*;\nimport org.openqa.selenium.chrome.*;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\nimport org.openqa.selenium.support.ui.WebDriverWait;\nimport org.openqa.selenium.Cookie;\n\n\n@SuppressWarnings(&quot;unused&quot;)\npublic class firstSelTest {\n    public static void main(String[] args) throws InterruptedException {\n        ChromeOptions options = new ChromeOptions();\n\n        //Add chrome switch to disable notification - &quot;**--disable-notifications**&quot;\n        options.addArguments(&quot;--disable-notifications&quot;);\n        \n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\vmyna\\\\Downloads\\\\chromedriver_win32\\\\chromedriver.exe&quot;);\n        WebDriver driver = new ChromeDriver(options);\n        \n        driver.get(&quot;https://www.zyyah.com/homeowner-lifestyle-perfected-home-value-protected/&quot;);\n        \n        driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);\n\n        driver.switchTo().frame(0);\n        driver.getWindowHandles();\n        \n        driver.switchTo().alert().accept();\n        By cookies_accept = By.xpath(&quot;//*[@id=\\&quot;cookie-law-info-bar\\&quot;]&quot;);\n        By cookies_gotIt = By.xpath(&quot;//*[@id=\\&quot;cookie_action_close_header\\&quot;]&quot;);\n        WebDriverWait wait = new WebDriverWait(driver, 10);\n        wait.until(ExpectedConditions.elementToBeClickable(cookies_accept)).click();\n        wait.until(ExpectedConditions.invisibilityOfElementLocated(cookies_accept));\n        wait.until(ExpectedConditions.elementToBeClickable(cookies_gotIt)).click();\n\n        driver.findElement(By.xpath(&quot;//*[@id=\\'et-boc\\']/div/div/div[4]/div/div/div[2]/div[1]&quot;)).click();\n \n        Thread.sleep(10000);\n        driver.quit();\n        \n    }\n }\n</code></pre>\n"},{"tags":["java","validation","exception","callback"],"comments":[{"owner":{"account_id":7066777,"reputation":1026,"user_id":5409856,"display_name":"Clayn"},"score":0,"creation_date":1445844575,"post_id":33339876,"comment_id":54476848,"body_markdown":"Does anything speaks against creating your own exception?","body":"Does anything speaks against creating your own exception?"},{"owner":{"account_id":1629327,"reputation":2020,"user_id":1504208,"accept_rate":62,"display_name":"Emerson Cod"},"score":1,"creation_date":1445844843,"post_id":33339876,"comment_id":54476970,"body_markdown":"the base problem is that there should be no work in the constructor (http://misko.hevery.com/code-reviewers-guide/flaw-constructor-does-real-work/), then this problem would not exist","body":"the base problem is that there should be no work in the constructor (<a href=\"http://misko.hevery.com/code-reviewers-guide/flaw-constructor-does-real-work/\" rel=\"nofollow noreferrer\">misko.hevery.com/code-reviewers-guide/&hellip;</a>), then this problem would not exist"},{"owner":{"account_id":953149,"reputation":177313,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"score":1,"creation_date":1445869394,"post_id":33339876,"comment_id":54491555,"body_markdown":"@EmersonCod: Feel free to ignore the &quot;work&quot; in the constructor, if you prefer. Despite what you claim, the problem exists with or without it.","body":"@EmersonCod: Feel free to ignore the &quot;work&quot; in the constructor, if you prefer. Despite what you claim, the problem exists with or without it."},{"owner":{"account_id":953149,"reputation":177313,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"score":1,"creation_date":1445869562,"post_id":33339876,"comment_id":54491693,"body_markdown":"@Clayn: Not really. But I think it&#39;s better to use standard exceptions, when they do exist, since their meaning is clear and well-known. (I&#39;d be annoyed if I had to deal with code that had its own `NullReferenceException` and `InvalidArgumentException` and `OutOfBoundsArrayIndexException` instead of using the similar JDK classes.)","body":"@Clayn: Not really. But I think it&#39;s better to use standard exceptions, when they do exist, since their meaning is clear and well-known. (I&#39;d be annoyed if I had to deal with code that had its own <code>NullReferenceException</code> and <code>InvalidArgumentException</code> and <code>OutOfBoundsArrayIndexException</code> instead of using the similar JDK classes.)"},{"owner":{"account_id":953149,"reputation":177313,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"score":0,"creation_date":1445871628,"post_id":33339876,"comment_id":54493117,"body_markdown":"@EmersonCod: (By the way, if you read the page that you link to, you&#39;ll see that this is not what it&#39;s complaining about.)","body":"@EmersonCod: (By the way, if you read the page that you link to, you&#39;ll see that this is not what it&#39;s complaining about.)"},{"owner":{"account_id":1047596,"reputation":9325,"user_id":1052284,"accept_rate":44,"display_name":"Mark Jeronimus"},"score":0,"creation_date":1671887931,"post_id":33339876,"comment_id":132192823,"body_markdown":"Does this answer your question? [What exception should I throw when method returns invalid result](https://stackoverflow.com/questions/26170310/what-exception-should-i-throw-when-method-returns-invalid-result)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/26170310/what-exception-should-i-throw-when-method-returns-invalid-result\">What exception should I throw when method returns invalid result</a>"},{"owner":{"account_id":953149,"reputation":177313,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"score":0,"creation_date":1671913339,"post_id":33339876,"comment_id":132196958,"body_markdown":"@MarkJeronimus: Thanks for the link! But that question is about C# / .Net, whereas this one is about Java / JDK. Additionally, the accepted answer there assumes a different relationship between the misbehaving method and the method detecting the misbehavior. As a result, it&#39;s not applicable to this question.","body":"@MarkJeronimus: Thanks for the link! But that question is about C# / .Net, whereas this one is about Java / JDK. Additionally, the accepted answer there assumes a different relationship between the misbehaving method and the method detecting the misbehavior. As a result, it&#39;s not applicable to this question."},{"owner":{"account_id":1047596,"reputation":9325,"user_id":1052284,"accept_rate":44,"display_name":"Mark Jeronimus"},"score":0,"creation_date":1671965763,"post_id":33339876,"comment_id":132201641,"body_markdown":"I retracted that. I don&#39;t know why it&#39;s still there","body":"I retracted that. I don&#39;t know why it&#39;s still there"}],"answers":[{"tags":[],"owner":{"account_id":291162,"reputation":2827,"user_id":593146,"accept_rate":83,"display_name":"Zyl"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674152927,"creation_date":1674151700,"answer_id":75176549,"question_id":33339876,"body_markdown":"&gt; Does the JDK include an exception-type that would be appropriate to throw an instance of if a callback returns an illegal value?\r\n\r\nNo, but let&#39;s examine some plausible candidates to be sure:\r\n\r\n* `IllegalArgumentException`: a return value is not an argument.\r\n* `IllegalStateException`: sounds like it might be appropriate, but demands that the problem exists because the method was **invoked at an illegal or inappropriate time**. However, timing isn&#39;t *necessarily* the issue given the question. The nuance here is with whether you can be sure who it is you are trying to complain about with this exception.\r\n* `UnsupportedOperationException`: suggests that the illegal operation *could* be legal (and supported) in a different implementation of the interface you are implementing, but you aren&#39;t implementing an interface.\r\n\r\n**What you need to do comes down to what you want your API contract to be.**\r\n\r\n## Exhibit A: Constructor specifies that argument must be valid\r\n\r\nIf your constructor specifies that `fieldValueSupplier` **must** be valid (i.e. it never supplies us with an invalid object) then your options are:\r\n\r\n1. throwing a custom exception deriving from `RuntimeException`.\r\n2. throwing a `RuntimeException`.\r\n3. engaging in undefined behavior.\r\n\r\nYou generally should choose (1): if nothing else, it improves testability. You should choose (2) if you really, really dislike how non-DRY (1) tends to make your code look; this admittedly is an issue stemming from the language specification, but you should be careful of letting the extra mile influence your decision making. You should choose (3) if the affected code is on a hot path and excessive checking causes an unacceptable performance impact. This is rare because of branch prediction, and the unfortunate developer will thank you for not choosing this option whenever possible.\r\n\r\nThe reason that the default library is so sparsely equipped with reusable exception types comes down to what the benefits of exception types are in the first place:\r\n\r\n1. the caller can decide which problems to deal with at which point in their code.\r\n2. developers can understand the cause of a problem faster when they read the exception&#39;s type name in the stack trace **and** are familiar with it.\r\n\r\nIf we use a standard library exception type, we don&#39;t get (1) because we cannot be certain what the origin of the exception is. If we create our own exception type, we don&#39;t get (2) because no one has ever seen it before. If there was a niche exception type in the standard library and we used it, we would get neither (1) nor (2).\r\n\r\n## Exhibit B: Constructor does not specify that argument must be valid\r\n\r\nIf your constructor does **not** specify that `fieldValueSupplier` must be valid, your only option becomes to throw a custom exception deriving from `Exception`, i.e. throwing a checked exception. Everything else would admit to the caller that your API is of poor quality, since you make no explanation as to what happens when an invalid input is provided, not even that it leads to undefined behavior (which, technically, *is* a definition of what happens).\r\n\r\nWhether you throw a checked or an unchecked exception is entirely within your power to decide. Unchecked exceptions hint at programming errors, but they don&#39;t tell you where the programming error is, or who made the programming error, so you want to throw them as far upwards in the call stack as possible as to not make the developer think the problem is in your code. (Unless it is, of course, in the case of which: go fix your code.)\r\n\r\n&gt; ```java\r\n&gt; public class Example {\r\n&gt;     private Object fField;\r\n&gt;     private Supplier&lt;Object&gt; fFieldValueSupplier;\r\n&gt; \r\n&gt;     public Example(final Supplier&lt;Object&gt; fieldValueSupplier) {\r\n&gt;         fFieldValueSupplier = fieldValueSupplier;\r\n&gt;         updateField();\r\n&gt;     }\r\n&gt; \r\n&gt;     public final void updateField() {\r\n&gt;         fField = fFieldValueSupplier.get();\r\n&gt;     }\r\n&gt; \r\n&gt;     // ... other stuff ...\r\n&gt; }\r\n&gt; ```\r\n\r\nIn this case, you would want to throw an `IllegalArgumentException` from the constructor, since you *do* have an opportunity to check the first value you get right then and there. In `updateField()`, you could throw an `IllegalStateException`: the method is public and you do not call it yourself, so the problem exists because the caller called it at a *time* when `fFieldValueSupplier` would supply an invalid object. (Notice why this is different from what I said about `IllegalStateException` earlier: we&#39;re clearly complaining about an outside force here, i.e. we are making the decision to rule out that this check is a sanity-check against bugs in our own code)\r\n\r\nHowever, you would really want to throw an exception of your own type which derives from `IllegalStateException`. The reason is that `fieldValueSupplier` is not only not controlled by your class (or package), but it may also not be controlled by the caller, either: unless the argument is immutable, there is no telling which code on the caller&#39;s side is at fault when this exception is thrown!\r\n\r\n```java\r\npublic class Example {\r\n    private Object fField;\r\n    private Supplier&lt;Object&gt; fFieldValueSupplier;\r\n\r\n    public Example(final Supplier&lt;Object&gt; fieldValueSupplier) {\r\n        if (fieldValueSupplier == null) {\r\n            throw new IllegalArgumentException(&quot;fieldValueSupplier must not be null.&quot;);\r\n        }\r\n        fFieldValueSupplier = fieldValueSupplier;\r\n        updateField(fFieldValueSupplier.get());\r\n    }\r\n\r\n    private final void updateField(Object field) {\r\n        if (!isValid(field)) {\r\n            throw new IllegalArgumentException(&quot;fieldValueSupplier must not supply an invalid field.&quot;)\r\n        }\r\n    }\r\n\r\n    public final void updateField() {\r\n        fField = fFieldValueSupplier.get();\r\n        if (!isValid(fField)) {\r\n            throw new SupplierInvalidatedException(&quot;received invalid value from fieldValueSupplier.&quot;);\r\n        }\r\n        updateField(fField);\r\n    }\r\n\r\n    // ... other stuff ...\r\n}\r\n```\r\n\r\n## From insight to wisdom\r\n\r\nGood principles are worth a lot, but doing everything out of principle is worthless. Instead of thinking &quot;what should I throw here?&quot;, ask &quot;what would I like the stack trace to look like if this happens?&quot;. The answer to this question shouldn&#39;t change depending on things outside of your code, but it will. As you see who pays the price for poor code, and who fails to benefit from good code, you can adjust things accordingly.\r\n","title":"Appropriate exception when a callback returns an illegal value?","body":"<blockquote>\n<p>Does the JDK include an exception-type that would be appropriate to throw an instance of if a callback returns an illegal value?</p>\n</blockquote>\n<p>No, but let's examine some plausible candidates to be sure:</p>\n<ul>\n<li><code>IllegalArgumentException</code>: a return value is not an argument.</li>\n<li><code>IllegalStateException</code>: sounds like it might be appropriate, but demands that the problem exists because the method was <strong>invoked at an illegal or inappropriate time</strong>. However, timing isn't <em>necessarily</em> the issue given the question. The nuance here is with whether you can be sure who it is you are trying to complain about with this exception.</li>\n<li><code>UnsupportedOperationException</code>: suggests that the illegal operation <em>could</em> be legal (and supported) in a different implementation of the interface you are implementing, but you aren't implementing an interface.</li>\n</ul>\n<p><strong>What you need to do comes down to what you want your API contract to be.</strong></p>\n<h2>Exhibit A: Constructor specifies that argument must be valid</h2>\n<p>If your constructor specifies that <code>fieldValueSupplier</code> <strong>must</strong> be valid (i.e. it never supplies us with an invalid object) then your options are:</p>\n<ol>\n<li>throwing a custom exception deriving from <code>RuntimeException</code>.</li>\n<li>throwing a <code>RuntimeException</code>.</li>\n<li>engaging in undefined behavior.</li>\n</ol>\n<p>You generally should choose (1): if nothing else, it improves testability. You should choose (2) if you really, really dislike how non-DRY (1) tends to make your code look; this admittedly is an issue stemming from the language specification, but you should be careful of letting the extra mile influence your decision making. You should choose (3) if the affected code is on a hot path and excessive checking causes an unacceptable performance impact. This is rare because of branch prediction, and the unfortunate developer will thank you for not choosing this option whenever possible.</p>\n<p>The reason that the default library is so sparsely equipped with reusable exception types comes down to what the benefits of exception types are in the first place:</p>\n<ol>\n<li>the caller can decide which problems to deal with at which point in their code.</li>\n<li>developers can understand the cause of a problem faster when they read the exception's type name in the stack trace <strong>and</strong> are familiar with it.</li>\n</ol>\n<p>If we use a standard library exception type, we don't get (1) because we cannot be certain what the origin of the exception is. If we create our own exception type, we don't get (2) because no one has ever seen it before. If there was a niche exception type in the standard library and we used it, we would get neither (1) nor (2).</p>\n<h2>Exhibit B: Constructor does not specify that argument must be valid</h2>\n<p>If your constructor does <strong>not</strong> specify that <code>fieldValueSupplier</code> must be valid, your only option becomes to throw a custom exception deriving from <code>Exception</code>, i.e. throwing a checked exception. Everything else would admit to the caller that your API is of poor quality, since you make no explanation as to what happens when an invalid input is provided, not even that it leads to undefined behavior (which, technically, <em>is</em> a definition of what happens).</p>\n<p>Whether you throw a checked or an unchecked exception is entirely within your power to decide. Unchecked exceptions hint at programming errors, but they don't tell you where the programming error is, or who made the programming error, so you want to throw them as far upwards in the call stack as possible as to not make the developer think the problem is in your code. (Unless it is, of course, in the case of which: go fix your code.)</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>public class Example {\n    private Object fField;\n    private Supplier&lt;Object&gt; fFieldValueSupplier;\n\n    public Example(final Supplier&lt;Object&gt; fieldValueSupplier) {\n        fFieldValueSupplier = fieldValueSupplier;\n        updateField();\n    }\n\n    public final void updateField() {\n        fField = fFieldValueSupplier.get();\n    }\n\n    // ... other stuff ...\n}\n</code></pre>\n</blockquote>\n<p>In this case, you would want to throw an <code>IllegalArgumentException</code> from the constructor, since you <em>do</em> have an opportunity to check the first value you get right then and there. In <code>updateField()</code>, you could throw an <code>IllegalStateException</code>: the method is public and you do not call it yourself, so the problem exists because the caller called it at a <em>time</em> when <code>fFieldValueSupplier</code> would supply an invalid object. (Notice why this is different from what I said about <code>IllegalStateException</code> earlier: we're clearly complaining about an outside force here, i.e. we are making the decision to rule out that this check is a sanity-check against bugs in our own code)</p>\n<p>However, you would really want to throw an exception of your own type which derives from <code>IllegalStateException</code>. The reason is that <code>fieldValueSupplier</code> is not only not controlled by your class (or package), but it may also not be controlled by the caller, either: unless the argument is immutable, there is no telling which code on the caller's side is at fault when this exception is thrown!</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Example {\n    private Object fField;\n    private Supplier&lt;Object&gt; fFieldValueSupplier;\n\n    public Example(final Supplier&lt;Object&gt; fieldValueSupplier) {\n        if (fieldValueSupplier == null) {\n            throw new IllegalArgumentException(&quot;fieldValueSupplier must not be null.&quot;);\n        }\n        fFieldValueSupplier = fieldValueSupplier;\n        updateField(fFieldValueSupplier.get());\n    }\n\n    private final void updateField(Object field) {\n        if (!isValid(field)) {\n            throw new IllegalArgumentException(&quot;fieldValueSupplier must not supply an invalid field.&quot;)\n        }\n    }\n\n    public final void updateField() {\n        fField = fFieldValueSupplier.get();\n        if (!isValid(fField)) {\n            throw new SupplierInvalidatedException(&quot;received invalid value from fieldValueSupplier.&quot;);\n        }\n        updateField(fField);\n    }\n\n    // ... other stuff ...\n}\n</code></pre>\n<h2>From insight to wisdom</h2>\n<p>Good principles are worth a lot, but doing everything out of principle is worthless. Instead of thinking &quot;what should I throw here?&quot;, ask &quot;what would I like the stack trace to look like if this happens?&quot;. The answer to this question shouldn't change depending on things outside of your code, but it will. As you see who pays the price for poor code, and who fails to benefit from good code, you can adjust things accordingly.</p>\n"}],"owner":{"account_id":953149,"reputation":177313,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":559,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1674152927,"creation_date":1445841945,"question_id":33339876,"body_markdown":"Does the JDK include an exception-type that it would be appropriate to throw if a callback returns an illegal value (or otherwise behaves unexpectedly)?\r\n\r\nFor example, consider a class that takes a supplier as a constructor argument, and invokes it both during and after the constructor call:\r\n\r\n    public class Example {\r\n        private Object fField;\r\n        private Supplier&lt;Object&gt; fFieldValueSupplier;\r\n\r\n        public Example(final Supplier&lt;Object&gt; fieldValueSupplier) {\r\n            fFieldValueSupplier = fieldValueSupplier;\r\n            updateField();\r\n        }\r\n\r\n        public final void updateField() {\r\n            fField = fFieldValueSupplier.get();\r\n        }\r\n\r\n        // ... other stuff ...\r\n    }\r\n\r\nIdeally `updateField()` should do whatever validation is appropriate before actually using the result of `fFieldValueSupplier.get()`, but &amp;mdash; what should it throw if the result is in fact invalid? In a simple `setField(Object)`, I&#39;d usually raise `IllegalArgumentException` if the argument were invalid; but that doesn&#39;t seem appropriate in this case, since the &quot;invalid argument&quot; is really the constructor argument, and the constructor may have already completed. Is there another predefined exception type that is more appropriate?\r\n\r\n(I&#39;ve tried to think of JDK classes where this might come up, so I can see how they handle it; but I can&#39;t find any good analogue. The closest I can find is `Collections.sort`, which can-but-need-not raise `IllegalArgumentException` if the list-element comparisons aren&#39;t conforming to the contract of `Comparable.compareTo` / `Comparator.compare`. I was hoping that `TreeSet` would provide a good example, since it depends on the same sort of thing but in a constructor argument; but its documentation doesn&#39;t seem to mention the issue.)","title":"Appropriate exception when a callback returns an illegal value?","body":"<p>Does the JDK include an exception-type that it would be appropriate to throw if a callback returns an illegal value (or otherwise behaves unexpectedly)?</p>\n\n<p>For example, consider a class that takes a supplier as a constructor argument, and invokes it both during and after the constructor call:</p>\n\n<pre><code>public class Example {\n    private Object fField;\n    private Supplier&lt;Object&gt; fFieldValueSupplier;\n\n    public Example(final Supplier&lt;Object&gt; fieldValueSupplier) {\n        fFieldValueSupplier = fieldValueSupplier;\n        updateField();\n    }\n\n    public final void updateField() {\n        fField = fFieldValueSupplier.get();\n    }\n\n    // ... other stuff ...\n}\n</code></pre>\n\n<p>Ideally <code>updateField()</code> should do whatever validation is appropriate before actually using the result of <code>fFieldValueSupplier.get()</code>, but &mdash; what should it throw if the result is in fact invalid? In a simple <code>setField(Object)</code>, I'd usually raise <code>IllegalArgumentException</code> if the argument were invalid; but that doesn't seem appropriate in this case, since the \"invalid argument\" is really the constructor argument, and the constructor may have already completed. Is there another predefined exception type that is more appropriate?</p>\n\n<p>(I've tried to think of JDK classes where this might come up, so I can see how they handle it; but I can't find any good analogue. The closest I can find is <code>Collections.sort</code>, which can-but-need-not raise <code>IllegalArgumentException</code> if the list-element comparisons aren't conforming to the contract of <code>Comparable.compareTo</code> / <code>Comparator.compare</code>. I was hoping that <code>TreeSet</code> would provide a good example, since it depends on the same sort of thing but in a constructor argument; but its documentation doesn't seem to mention the issue.)</p>\n"},{"tags":["java","arraylist","vscode-debugger"],"owner":{"account_id":16225261,"reputation":3,"user_id":11715767,"display_name":"David Habermehl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674152596,"creation_date":1674152596,"question_id":75176709,"body_markdown":"I created a MyArrayList class that extends ArrayList and has an instance variable:\r\n\r\n```\r\nclass MyArrayList extends java.util.ArrayList&lt;Object&gt; {\r\n    String listName;\r\n}\r\n\r\nclass DemonstrateIssue {\r\n    public static void main( String [] args ) {\r\n        MyArrayList myList = new MyArrayList();\r\n        myList.listName = &quot;Test&quot;;\r\n        // Set a breakpoint on next line. You won&#39;t see the listName instance\r\n        // variable when you examine myList in the Run view.\r\n        System.out.println( myList.listName);\r\n    }\r\n}\r\n```\r\n\r\nWhen I run DemonstrateIssue in the debugger and examine the myList variable, the debugger doesn&#39;t show the listName instance variable. Why is that? Thanks!","title":"VS Code Run and Debug View, ArrayList subclass&#39;s instance variable not showing","body":"<p>I created a MyArrayList class that extends ArrayList and has an instance variable:</p>\n<pre><code>class MyArrayList extends java.util.ArrayList&lt;Object&gt; {\n    String listName;\n}\n\nclass DemonstrateIssue {\n    public static void main( String [] args ) {\n        MyArrayList myList = new MyArrayList();\n        myList.listName = &quot;Test&quot;;\n        // Set a breakpoint on next line. You won't see the listName instance\n        // variable when you examine myList in the Run view.\n        System.out.println( myList.listName);\n    }\n}\n</code></pre>\n<p>When I run DemonstrateIssue in the debugger and examine the myList variable, the debugger doesn't show the listName instance variable. Why is that? Thanks!</p>\n"},{"tags":["java","spring","redis","spring-data"],"answers":[{"tags":[],"owner":{"account_id":4609695,"reputation":30874,"user_id":3738171,"display_name":"Guerric P"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1656487203,"creation_date":1656444957,"answer_id":72792229,"question_id":72785846,"body_markdown":"My problem was related with the Spring Boot Dev Tools.\r\n\r\nSpring Data has this [piece of code][1]:\r\n\r\n    Class&lt;?&gt; documentsTargetType = getDefaultedTypeToBeUsed(source);\r\n    \r\n    if (documentsTargetType == null) {\r\n        return basicType;\r\n    }\r\n\r\n    Class&lt;T&gt; rawType = basicType.getType();\r\n    \r\n    boolean isMoreConcreteCustomType = (rawType == null)\r\n        || (rawType.isAssignableFrom(documentsTargetType) &amp;&amp; !rawType.equals(documentsTargetType));\r\n    \r\n    if (!isMoreConcreteCustomType) {\r\n        return basicType;\r\n    }\r\n\r\nIn my case, `documentsTargetType` contained `Implementor` and `basicType` contained `Base`. The `rawType.isAssignableFrom(documentsTargetType)` condition is supposed to return `true`, but it my case it was returning `false`, because `Base` and `Implementor` were loaded by different classloaders because of the Dev Tools.\r\n\r\nSo this code was returning `Base` instead of `Implementor`.\r\n\r\nProblem fixed by removing `spring-boot-devtools` from the project&#39;s dependencies.\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-data-commons/blob/8b560f96c3ba49e86cfdca57340451330fe25fdf/src/main/java/org/springframework/data/convert/DefaultTypeMapper.java#L138","title":"Redis repository and polymorphism don&#39;t work together","body":"<p>My problem was related with the Spring Boot Dev Tools.</p>\n<p>Spring Data has this <a href=\"https://github.com/spring-projects/spring-data-commons/blob/8b560f96c3ba49e86cfdca57340451330fe25fdf/src/main/java/org/springframework/data/convert/DefaultTypeMapper.java#L138\" rel=\"nofollow noreferrer\">piece of code</a>:</p>\n<pre><code>Class&lt;?&gt; documentsTargetType = getDefaultedTypeToBeUsed(source);\n\nif (documentsTargetType == null) {\n    return basicType;\n}\n\nClass&lt;T&gt; rawType = basicType.getType();\n\nboolean isMoreConcreteCustomType = (rawType == null)\n    || (rawType.isAssignableFrom(documentsTargetType) &amp;&amp; !rawType.equals(documentsTargetType));\n\nif (!isMoreConcreteCustomType) {\n    return basicType;\n}\n</code></pre>\n<p>In my case, <code>documentsTargetType</code> contained <code>Implementor</code> and <code>basicType</code> contained <code>Base</code>. The <code>rawType.isAssignableFrom(documentsTargetType)</code> condition is supposed to return <code>true</code>, but it my case it was returning <code>false</code>, because <code>Base</code> and <code>Implementor</code> were loaded by different classloaders because of the Dev Tools.</p>\n<p>So this code was returning <code>Base</code> instead of <code>Implementor</code>.</p>\n<p>Problem fixed by removing <code>spring-boot-devtools</code> from the project's dependencies.</p>\n"}],"owner":{"account_id":4609695,"reputation":30874,"user_id":3738171,"display_name":"Guerric P"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1674152586,"creation_date":1656416817,"question_id":72785846,"body_markdown":"I have this code :\r\n\r\n    @Getter\r\n    @Setter\r\n    @RedisHash\r\n    class Root {\r\n      private Base base;\r\n    }\r\n    \r\n    public interface Base {\r\n    \r\n    }\r\n    \r\n    @Getter\r\n    @Setter\r\n    public class Implementor implements Base {\r\n      // ...\r\n    }\r\n\r\n    public class CustomKeyspaceConfiguration extends KeyspaceConfiguration {\r\n    \tprivate final String prefix;\r\n    \t\r\n    \tpublic SagtKeyspaceConfiguration(String prefix) {\r\n    \t\tsuper();\r\n    \t\t\r\n    \t\tthis.prefix = prefix;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic boolean hasSettingsFor(Class&lt;?&gt; type) {\r\n    \t\tif (super.hasSettingsFor(type) == false) {\r\n    \t\t\tKeyspaceSettings settings = new KeyspaceSettings(type, prefix + ClassUtils.getUserClass(type).getName());\r\n    \t\t\taddKeyspaceSettings(settings);\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn true;\r\n    \t}\r\n    }\r\n\r\nI have a `CrudRepository` for the `Root` class which allows me to successfully store objects of that type in Redis.\r\n\r\nBut when I retrieve an object with a simple `findById`, I get this error:\r\n\r\n&gt; Failed to instantiate some.package.name.Base using constructor\r\n&gt; NO_CONSTRUCTOR with arguments\r\n\r\nHowever, the `_class` attribute is correctly set in Redis for that property:\r\n\r\n    base._class: some.package.name.Implementor\r\n\r\nWhy does it try to instantiate an interface while the actual class is correctly set in the Redis HashMap?\r\n\r\n**Edit:**\r\n\r\nI tried to create a minimal reproducible example with the same version of spring-data-redis (2.6.4) but it worked...\r\n\r\nThere must be something else in my project but I can&#39;t figure out what.","title":"Redis repository and polymorphism don&#39;t work together","body":"<p>I have this code :</p>\n<pre><code>@Getter\n@Setter\n@RedisHash\nclass Root {\n  private Base base;\n}\n\npublic interface Base {\n\n}\n\n@Getter\n@Setter\npublic class Implementor implements Base {\n  // ...\n}\n\npublic class CustomKeyspaceConfiguration extends KeyspaceConfiguration {\n    private final String prefix;\n    \n    public SagtKeyspaceConfiguration(String prefix) {\n        super();\n        \n        this.prefix = prefix;\n    }\n    \n    @Override\n    public boolean hasSettingsFor(Class&lt;?&gt; type) {\n        if (super.hasSettingsFor(type) == false) {\n            KeyspaceSettings settings = new KeyspaceSettings(type, prefix + ClassUtils.getUserClass(type).getName());\n            addKeyspaceSettings(settings);\n        }\n        \n        return true;\n    }\n}\n</code></pre>\n<p>I have a <code>CrudRepository</code> for the <code>Root</code> class which allows me to successfully store objects of that type in Redis.</p>\n<p>But when I retrieve an object with a simple <code>findById</code>, I get this error:</p>\n<blockquote>\n<p>Failed to instantiate some.package.name.Base using constructor\nNO_CONSTRUCTOR with arguments</p>\n</blockquote>\n<p>However, the <code>_class</code> attribute is correctly set in Redis for that property:</p>\n<pre><code>base._class: some.package.name.Implementor\n</code></pre>\n<p>Why does it try to instantiate an interface while the actual class is correctly set in the Redis HashMap?</p>\n<p><strong>Edit:</strong></p>\n<p>I tried to create a minimal reproducible example with the same version of spring-data-redis (2.6.4) but it worked...</p>\n<p>There must be something else in my project but I can't figure out what.</p>\n"},{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1674225850,"post_id":75176703,"comment_id":132675193,"body_markdown":"When project B depends on project A, then in project B _Project &gt; Properties: Java Build Path_, tab _Projects_ project A has to be added. If in project B also dependencies/libraries of project A should be accessed, then project A has to export those dependencies/libraries (which is not the case by default): in project A _Project &gt; Properties: Java Build Path_, tab _Order And Export_ check the dependencies/libraries to export.","body":"When project B depends on project A, then in project B <i>Project &gt; Properties: Java Build Path</i>, tab <i>Projects</i> project A has to be added. If in project B also dependencies/libraries of project A should be accessed, then project A has to export those dependencies/libraries (which is not the case by default): in project A <i>Project &gt; Properties: Java Build Path</i>, tab <i>Order And Export</i> check the dependencies/libraries to export."}],"owner":{"account_id":9481501,"reputation":21,"user_id":7049326,"display_name":"Henrique"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674152564,"creation_date":1674152564,"question_id":75176703,"body_markdown":"I have a project that can be executed as is or I can pass in its classpath another project so that they run together.\r\n\r\nHowever, in the main project, I am getting an error because it can&#39;t instantiate a bean from the second project (since it is an maven dependency inside it).\r\n\r\nI saw that I can use maven assembly to export those dependencies as a jar an point in the classpath from first project.\r\nHowever, this way I will need to rebuild everytime, is there a way to export those dependencies in compile time? To make further development easier?\r\n\r\nThanks in advance.","title":"Make maven dependencies visible in classpath","body":"<p>I have a project that can be executed as is or I can pass in its classpath another project so that they run together.</p>\n<p>However, in the main project, I am getting an error because it can't instantiate a bean from the second project (since it is an maven dependency inside it).</p>\n<p>I saw that I can use maven assembly to export those dependencies as a jar an point in the classpath from first project.\nHowever, this way I will need to rebuild everytime, is there a way to export those dependencies in compile time? To make further development easier?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","android","kotlin","device","dalvik"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1674152855,"post_id":75176700,"comment_id":132659482,"body_markdown":"The user agent HTTP header is determined by the Web client (e.g., the Web browser). Are you using the same version of the same client across all of the devices? If so, what is that client and version?","body":"The user agent HTTP header is determined by the Web client (e.g., the Web browser). Are you using the same version of the same client across all of the devices? If so, what is that client and version?"}],"owner":{"account_id":8698461,"reputation":473,"user_id":11316163,"display_name":"Partha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674152552,"creation_date":1674152552,"question_id":75176700,"body_markdown":"On certain Android devices, I receive the user agent as shown below, and on other devices, the user agent is Android. Does this device depend on anything else?\r\n\r\n&gt;     Dalvik/x.x.x (Linux; U; Android x.x.x; &lt;phone model&gt; Build/XXXX\r\n\r\n","title":"Why we getting user agent as Dalvik instead of android?","body":"<p>On certain Android devices, I receive the user agent as shown below, and on other devices, the user agent is Android. Does this device depend on anything else?</p>\n<blockquote>\n<pre><code>Dalvik/x.x.x (Linux; U; Android x.x.x; &lt;phone model&gt; Build/XXXX\n</code></pre>\n</blockquote>\n"},{"tags":["java","android","wireguard"],"comments":[{"owner":{"account_id":6023206,"reputation":7990,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1641453194,"post_id":70603634,"comment_id":124809451,"body_markdown":"why use a library you can&#39;t find documentation on ?","body":"why use a library you can&#39;t find documentation on ?"},{"owner":{"account_id":22937478,"reputation":141,"user_id":17070737,"display_name":"User0987"},"score":0,"creation_date":1641453959,"post_id":70603634,"comment_id":124809651,"body_markdown":"If I do not use library then how to achieve that? I wanted to connect to wireguard server .","body":"If I do not use library then how to achieve that? I wanted to connect to wireguard server ."},{"owner":{"account_id":19326719,"reputation":117,"user_id":14129202,"display_name":"Weston"},"score":0,"creation_date":1642933821,"post_id":70603634,"comment_id":125200800,"body_markdown":"Have the same question. Did you find any sloutions?","body":"Have the same question. Did you find any sloutions?"},{"owner":{"account_id":22937478,"reputation":141,"user_id":17070737,"display_name":"User0987"},"score":0,"creation_date":1643009033,"post_id":70603634,"comment_id":125216479,"body_markdown":"Not yet........","body":"Not yet........"},{"owner":{"account_id":12232195,"reputation":111,"user_id":10708797,"display_name":"Optimus"},"score":0,"creation_date":1654267655,"post_id":70603634,"comment_id":128057444,"body_markdown":"Hello.I s there any news on this? I also want to use wireguard, but I didn&#39;t find any information","body":"Hello.I s there any news on this? I also want to use wireguard, but I didn&#39;t find any information"}],"answers":[{"comments":[{"owner":{"account_id":33037,"reputation":64635,"user_id":92153,"accept_rate":84,"display_name":"Houman"},"score":0,"creation_date":1676158363,"post_id":73676394,"comment_id":133082183,"body_markdown":"Amazing example. That was super helpful.  How do you disconnect the VPN tunnel though. I looked at the code extensively, but it&#39;s not clear. Thanks","body":"Amazing example. That was super helpful.  How do you disconnect the VPN tunnel though. I looked at the code extensively, but it&#39;s not clear. Thanks"},{"owner":{"account_id":15704276,"reputation":123,"user_id":11945017,"display_name":"Anton2319"},"score":3,"creation_date":1676246110,"post_id":73676394,"comment_id":133093628,"body_markdown":"I will update my documentation on github to include disconnect example as many people requested","body":"I will update my documentation on github to include disconnect example as many people requested"}],"tags":[],"owner":{"account_id":15704276,"reputation":123,"user_id":11945017,"display_name":"Anton2319"},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1666442585,"creation_date":1662862820,"answer_id":73676394,"question_id":70603634,"body_markdown":"**UPD**: added request intent, because it is necessary on first connection\r\n\r\n**UPD 2**: I have a made a step-by-step guide: [https://github.com/Anton2319/Anton2319/blob/master/articles/wireguard-guide/article.md][1]\r\n\r\nI think this code will work for you:\r\n\r\nIn your main activity, use this (replace IP, pubkey and privatekey):\r\n\r\n\r\n\r\n    Tunnel tunnel = new WgTunnel();\r\n    Intent intentPrepare = GoBackend.VpnService.prepare(this);\r\n    if(intentPrepare != null) {\r\n        startActivityForResult(intentPrepare, 0);\r\n    }\r\n    Interface.Builder interfaceBuilder = new Interface.Builder();\r\n    Peer.Builder peerBuilder = new Peer.Builder();\r\n    Backend backend = new GoBackend(this);\r\n\r\n    AsyncTask.execute(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            try {\r\n                backend.setState(tunnel, UP, new Config.Builder()\r\n                          .setInterface(interfaceBuilder.addAddress(InetNetwork.parse(&quot;10.0.0.2/32&quot;)).parsePrivateKey(&quot;privatekeybase64&quot;).build())\r\n                            .addPeer(peerBuilder.addAllowedIp(InetNetwork.parse(&quot;0.0.0.0/0&quot;)).setEndpoint(InetEndpoint.parse(&quot;yourhost:51820&quot;)).parsePublicKey(&quot;pubkeybase64&quot;).build())\r\n                            .build());\r\n    \r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    });\r\n\r\nIn the same package as your main activity, create this class:\r\n\r\n    package package.name.here;\r\n    \r\n    import com.wireguard.android.backend.Tunnel;\r\n    \r\n    public class WgTunnel implements Tunnel {\r\n        @Override\r\n        public String getName() {\r\n            return &quot;wgpreconf&quot;;\r\n        }\r\n    \r\n        @Override\r\n        public void onStateChange(State newState) {\r\n        }\r\n    }\r\n\r\nIn AndroidManifest.xml:\r\n\r\n    &lt;application ...&gt;\r\n        &lt;service android:name=&quot;com.wireguard.android.backend.GoBackend$VpnService&quot; android:permission=&quot;android.permission.BIND_VPN_SERVICE&quot; android:exported=&quot;true&quot;&gt;\r\n                    &lt;intent-filter&gt;\r\n                        &lt;action android:name=&quot;android.net.VpnService&quot;/&gt;\r\n                    &lt;/intent-filter&gt;\r\n        &lt;/service&gt;\r\n    &lt;/application&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n\r\n\r\n  [1]: https://github.com/Anton2319/Anton2319/blob/master/articles/wireguard-guide/article.md","title":"How to use wireguard tunnel library?","body":"<p><strong>UPD</strong>: added request intent, because it is necessary on first connection</p>\n<p><strong>UPD 2</strong>: I have a made a step-by-step guide: <a href=\"https://github.com/Anton2319/Anton2319/blob/master/articles/wireguard-guide/article.md\" rel=\"noreferrer\">https://github.com/Anton2319/Anton2319/blob/master/articles/wireguard-guide/article.md</a></p>\n<p>I think this code will work for you:</p>\n<p>In your main activity, use this (replace IP, pubkey and privatekey):</p>\n<pre><code>Tunnel tunnel = new WgTunnel();\nIntent intentPrepare = GoBackend.VpnService.prepare(this);\nif(intentPrepare != null) {\n    startActivityForResult(intentPrepare, 0);\n}\nInterface.Builder interfaceBuilder = new Interface.Builder();\nPeer.Builder peerBuilder = new Peer.Builder();\nBackend backend = new GoBackend(this);\n\nAsyncTask.execute(new Runnable() {\n    @Override\n    public void run() {\n        try {\n            backend.setState(tunnel, UP, new Config.Builder()\n                      .setInterface(interfaceBuilder.addAddress(InetNetwork.parse(&quot;10.0.0.2/32&quot;)).parsePrivateKey(&quot;privatekeybase64&quot;).build())\n                        .addPeer(peerBuilder.addAllowedIp(InetNetwork.parse(&quot;0.0.0.0/0&quot;)).setEndpoint(InetEndpoint.parse(&quot;yourhost:51820&quot;)).parsePublicKey(&quot;pubkeybase64&quot;).build())\n                        .build());\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n});\n</code></pre>\n<p>In the same package as your main activity, create this class:</p>\n<pre><code>package package.name.here;\n\nimport com.wireguard.android.backend.Tunnel;\n\npublic class WgTunnel implements Tunnel {\n    @Override\n    public String getName() {\n        return &quot;wgpreconf&quot;;\n    }\n\n    @Override\n    public void onStateChange(State newState) {\n    }\n}\n</code></pre>\n<p>In AndroidManifest.xml:</p>\n<pre><code>&lt;application ...&gt;\n    &lt;service android:name=&quot;com.wireguard.android.backend.GoBackend$VpnService&quot; android:permission=&quot;android.permission.BIND_VPN_SERVICE&quot; android:exported=&quot;true&quot;&gt;\n                &lt;intent-filter&gt;\n                    &lt;action android:name=&quot;android.net.VpnService&quot;/&gt;\n                &lt;/intent-filter&gt;\n    &lt;/service&gt;\n&lt;/application&gt;\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25489496,"reputation":31,"user_id":19284552,"display_name":"kimono"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669035507,"creation_date":1669035507,"answer_id":74519340,"question_id":70603634,"body_markdown":"in my case the dns address needed to be added and I added it to anton2319&#39;s code and the vpn worked. Like this. Thank you anton2319.\r\n    \r\n    backend.setState(tunnel, UP, new Config.Builder()\r\n                      .setInterface(interfaceBuilder.addDnsServer(InetAddress.getByName(&quot;your dns adress&quot;)).addAddress(InetNetwork.parse(&quot;10.0.0.2/32&quot;)).parsePrivateKey(&quot;privatekeybase64&quot;).build())\r\n","title":"How to use wireguard tunnel library?","body":"<p>in my case the dns address needed to be added and I added it to anton2319's code and the vpn worked. Like this. Thank you anton2319.</p>\n<pre><code>backend.setState(tunnel, UP, new Config.Builder()\n                  .setInterface(interfaceBuilder.addDnsServer(InetAddress.getByName(&quot;your dns adress&quot;)).addAddress(InetNetwork.parse(&quot;10.0.0.2/32&quot;)).parsePrivateKey(&quot;privatekeybase64&quot;).build())\n</code></pre>\n"}],"owner":{"account_id":22937478,"reputation":141,"user_id":17070737,"display_name":"User0987"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3563,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":2,"score":9,"last_activity_date":1674152243,"creation_date":1641453093,"question_id":70603634,"body_markdown":"I want to create a third-party VPN app by using the library  com.wireguard.android:tunnel (1.0.20211029) Can anyone help me to provide me any good resources or guide me?\r\n\r\nIn my app I am importing .config file from file manager now how to connect that file to server using tunnel library . I am using java .\r\n\r\nI did followed https://github.com/WireGuard/wireguard-android but The app wraps a lot of the tunnel library code. I am looking for a simple example of how to use the tunnel library directly without all the wrapping with TunnelManager and ObservableTunnel.\r\n\r\nPlease guide me ","title":"How to use wireguard tunnel library?","body":"<p>I want to create a third-party VPN app by using the library  com.wireguard.android:tunnel (1.0.20211029) Can anyone help me to provide me any good resources or guide me?</p>\n<p>In my app I am importing .config file from file manager now how to connect that file to server using tunnel library . I am using java .</p>\n<p>I did followed <a href=\"https://github.com/WireGuard/wireguard-android\" rel=\"noreferrer\">https://github.com/WireGuard/wireguard-android</a> but The app wraps a lot of the tunnel library code. I am looking for a simple example of how to use the tunnel library directly without all the wrapping with TunnelManager and ObservableTunnel.</p>\n<p>Please guide me</p>\n"},{"tags":["java","jcodec"],"owner":{"account_id":1594866,"reputation":7585,"user_id":1477299,"accept_rate":60,"display_name":"rlib"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674152204,"creation_date":1674152204,"question_id":75176644,"body_markdown":"I&#39;m trying to figure out how to add an audio from an existing WAV file to an existing MP4 file using [jcodec](https://github.com/jcodec). Looked at https://github.com/jcodec/jcodec/issues/187, https://github.com/jcodec/jcodec/issues/164 to get some clues, still cannot figure out how to do it. ","title":"Adding audio from WAV file to MP4 using JCODEC","body":"<p>I'm trying to figure out how to add an audio from an existing WAV file to an existing MP4 file using <a href=\"https://github.com/jcodec\" rel=\"nofollow noreferrer\">jcodec</a>. Looked at <a href=\"https://github.com/jcodec/jcodec/issues/187\" rel=\"nofollow noreferrer\">https://github.com/jcodec/jcodec/issues/187</a>, <a href=\"https://github.com/jcodec/jcodec/issues/164\" rel=\"nofollow noreferrer\">https://github.com/jcodec/jcodec/issues/164</a> to get some clues, still cannot figure out how to do it.</p>\n"},{"tags":["java","file","hdfs"],"answers":[{"tags":[],"owner":{"account_id":27543329,"reputation":51,"user_id":21019713,"display_name":"PerfectZERO"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1674116770,"creation_date":1673879130,"answer_id":75135622,"question_id":48906652,"body_markdown":"The short answer may or may not read as much data as `skip(n)`.\r\nAs you said, `seek()` internally calls `BlockReader.skip()`. `BlockReader` is an interface type and is created via `BlockReaderFactory()`. The `BlockReader` implementation that is created is either `BlockReaderRemote` or `BlockReaderLocal`. (Exactly, `ExternalBlockReader` is also possible, but it is excluded because it is a special case)\r\n\r\n`BlockReaderRemote` is used when a client reads data from a remote DataNode over the network via RPC over TCP. In this case, if you analyze the `skip()` method code, you can see that `readNextPacket` is repeatedly called as many times as n bytes to skip. **That is, it actually reads the data to be skipped.**\r\n\r\n`BlockReaderLocal` is used when the client is on the same machine as the DataNode where the block is stored. In this case, the client can read the block file directly, and change `dataPos` to **actually do an offset-based skip on the next read operation.**\r\n\r\n\r\n----------\r\n\r\n+Additional information (2023.01.19)  \r\nThe above applies to both Hadoop 3.x.x and 2.x.x, but the path and name of the implementation have been changed from version 2.8.0 due to a change in the project structure.\r\n\r\n&lt; 2.8.0  \r\nhadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/BlockReaderLocal.java  \r\nhadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/RemoteBlockReader.java\r\n\r\n\\&gt;= 2.8.0  \r\nhadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/client/impl/BlockReaderLocal.java  \r\nhadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/client/impl/BlockReaderRemote.java\r\n\r\nRelated Jira issues  \r\nhttps://issues.apache.org/jira/browse/HDFS-8057  \r\nhttps://issues.apache.org/jira/browse/HDFS-8925","title":"Will positioned read or seek() from HDFS file load and ignore whole content of the file?","body":"<p>The short answer may or may not read as much data as <code>skip(n)</code>.\nAs you said, <code>seek()</code> internally calls <code>BlockReader.skip()</code>. <code>BlockReader</code> is an interface type and is created via <code>BlockReaderFactory()</code>. The <code>BlockReader</code> implementation that is created is either <code>BlockReaderRemote</code> or <code>BlockReaderLocal</code>. (Exactly, <code>ExternalBlockReader</code> is also possible, but it is excluded because it is a special case)</p>\n<p><code>BlockReaderRemote</code> is used when a client reads data from a remote DataNode over the network via RPC over TCP. In this case, if you analyze the <code>skip()</code> method code, you can see that <code>readNextPacket</code> is repeatedly called as many times as n bytes to skip. <strong>That is, it actually reads the data to be skipped.</strong></p>\n<p><code>BlockReaderLocal</code> is used when the client is on the same machine as the DataNode where the block is stored. In this case, the client can read the block file directly, and change <code>dataPos</code> to <strong>actually do an offset-based skip on the next read operation.</strong></p>\n<hr />\n<p>+Additional information (2023.01.19)<br />\nThe above applies to both Hadoop 3.x.x and 2.x.x, but the path and name of the implementation have been changed from version 2.8.0 due to a change in the project structure.</p>\n<p>&lt; 2.8.0<br />\nhadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/BlockReaderLocal.java<br />\nhadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/RemoteBlockReader.java</p>\n<p>&gt;= 2.8.0<br />\nhadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/client/impl/BlockReaderLocal.java<br />\nhadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/client/impl/BlockReaderRemote.java</p>\n<p>Related Jira issues<br />\n<a href=\"https://issues.apache.org/jira/browse/HDFS-8057\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/HDFS-8057</a><br />\n<a href=\"https://issues.apache.org/jira/browse/HDFS-8925\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/HDFS-8925</a></p>\n"}],"owner":{"account_id":2460326,"reputation":2469,"user_id":5175180,"accept_rate":76,"display_name":"enator"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":855,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1674151975,"creation_date":1519218210,"question_id":48906652,"body_markdown":"I want to read sub-content the big file from some offset/position.\r\nFor example I have a file of 1M lines and I want to read 50 lines starting from 100th. (line no: 101 to 150 - both inclusive)\r\n\r\nI think I should be using PositionalReadable. \r\nhttps://issues.apache.org/jira/browse/HADOOP-519\r\n\r\nI see that `FSInputStream.readFully` actually uses `seek()` method of `Seekable`.\r\n\r\nWhen I check the underlying implementation of `seek()` I see that it uses `BlockReader.skip()`\r\n\r\nWouldn&#39;t the blockReader.skip() read the whole data till position to skip the bytes? Question is would HDFS load first 100 lines as well in order to get to 101th line.\r\n\r\nHow to make position to be at any desired offset in the file like 10000th line of the file without loading the rest of the content? Something what s3 offers in header-offsets.\r\n\r\nHere is the similar question I found: https://stackoverflow.com/questions/24064178/how-to-read-files-with-an-offset-from-hadoop-using-java, but it suggest using `seek()` and that is argued in the comments that `seek()` is expensive operation and should be used sparingly. Which I guess is correct because seek seems to read all the data in order to skip till the position.","title":"Will positioned read or seek() from HDFS file load and ignore whole content of the file?","body":"<p>I want to read sub-content the big file from some offset/position.\nFor example I have a file of 1M lines and I want to read 50 lines starting from 100th. (line no: 101 to 150 - both inclusive)</p>\n\n<p>I think I should be using PositionalReadable. \n<a href=\"https://issues.apache.org/jira/browse/HADOOP-519\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/HADOOP-519</a></p>\n\n<p>I see that <code>FSInputStream.readFully</code> actually uses <code>seek()</code> method of <code>Seekable</code>.</p>\n\n<p>When I check the underlying implementation of <code>seek()</code> I see that it uses <code>BlockReader.skip()</code></p>\n\n<p>Wouldn't the blockReader.skip() read the whole data till position to skip the bytes? Question is would HDFS load first 100 lines as well in order to get to 101th line.</p>\n\n<p>How to make position to be at any desired offset in the file like 10000th line of the file without loading the rest of the content? Something what s3 offers in header-offsets.</p>\n\n<p>Here is the similar question I found: <a href=\"https://stackoverflow.com/questions/24064178/how-to-read-files-with-an-offset-from-hadoop-using-java\">How to read files with an offset from Hadoop using Java</a>, but it suggest using <code>seek()</code> and that is argued in the comments that <code>seek()</code> is expensive operation and should be used sparingly. Which I guess is correct because seek seems to read all the data in order to skip till the position.</p>\n"},{"tags":["java","ssl","serversocket","ssl-security"],"comments":[{"owner":{"account_id":3395647,"reputation":8928,"user_id":2849346,"accept_rate":50,"display_name":"MWiesner"},"score":0,"creation_date":1564145741,"post_id":57168226,"comment_id":100945208,"body_markdown":"Well, the API says *should* which is not a strict *must*. Implementing classes could argument, they don&#39;t have to. This might be a reason that could explain your observation(s).","body":"Well, the API says <i>should</i> which is not a strict <i>must</i>. Implementing classes could argument, they don&#39;t have to. This might be a reason that could explain your observation(s)."},{"owner":{"account_id":5680389,"reputation":277,"user_id":4491815,"display_name":"Patrick Peer"},"score":1,"creation_date":1674150633,"post_id":57168226,"comment_id":132658773,"body_markdown":"Thanks for the nmap snippet! This streamlined my debugging and working things out process quite a bit :).","body":"Thanks for the nmap snippet! This streamlined my debugging and working things out process quite a bit :)."}],"answers":[{"tags":[],"owner":{"account_id":5680389,"reputation":277,"user_id":4491815,"display_name":"Patrick Peer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674151696,"creation_date":1674150574,"answer_id":75176344,"question_id":57168226,"body_markdown":"The behaviour seems to have changed since JDK 12. At least with JDK 17 the order proposed by the server seems to be preferred by default. Anyway, the correct way to use the API would be\r\n\r\n    \tSSLParameters parameters = serverSocket.getSSLParameters();\r\n\t\tparameters.setUseCipherSuitesOrder(true);\r\n\t\tserverSocket.setSSLParameters(parameters);\r\n\r\nThe crucial part is to call `setSSLParameters()`. Where you get the `SSLParameters` object from is secondary.","title":"Is it possible to order cipher suites from server side in Java?","body":"<p>The behaviour seems to have changed since JDK 12. At least with JDK 17 the order proposed by the server seems to be preferred by default. Anyway, the correct way to use the API would be</p>\n<pre><code>    SSLParameters parameters = serverSocket.getSSLParameters();\n    parameters.setUseCipherSuitesOrder(true);\n    serverSocket.setSSLParameters(parameters);\n</code></pre>\n<p>The crucial part is to call <code>setSSLParameters()</code>. Where you get the <code>SSLParameters</code> object from is secondary.</p>\n"}],"owner":{"account_id":2417303,"reputation":8587,"user_id":2111085,"accept_rate":64,"display_name":"Ernestas Gruodis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":507,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1674151696,"creation_date":1563898053,"question_id":57168226,"body_markdown":"In [Java docs](https://docs.oracle.com/en/java/javase/12/docs/api/java.base/javax/net/ssl/SSLParameters.html#setUseCipherSuitesOrder(boolean)) stated, that:\r\n\r\n&gt; `public final void setUseCipherSuitesOrder​(boolean honorOrder)`\r\n&gt; \r\n&gt; Sets whether the local cipher suites preference should be honored.\r\n&gt; \r\n&gt; Parameters:\r\n&gt;     honorOrder - whether local cipher suites order in #getCipherSuites should be honored during SSL/TLS/DTLS handshaking.\r\n\r\nThe order of cipher suits:\r\n\r\n    String[] cs = new String[]{\r\n     &quot;TLS_RSA_WITH_AES_256_GCM_SHA384&quot;,\r\n     &quot;TLS_RSA_WITH_AES_256_CBC_SHA256&quot;,\r\n     &quot;TLS_RSA_WITH_AES_256_CBC_SHA&quot;\r\n      };\r\n\r\n\r\n\r\nIf I set socket parameters like:\r\n\r\n    SSLServerSocket.getSSLParameters().setUseCipherSuitesOrder(true);\r\n    SSLServerSocket.setEnabledProtocols(....);\r\n    SSLServerSocket.setEnabledCipherSuites(cs);\r\n\r\nby using `# nmap -sT  -p 465 host_address --script ssl-enum-ciphers.nse` the result is:\r\n\r\n    PORT    STATE SERVICE\r\n    465/tcp open  smtps\r\n    | ssl-enum-ciphers:\r\n    |   TLSv1.2:\r\n    |     ciphers:\r\n    |       TLS_RSA_WITH_AES_256_CBC_SHA (rsa 4096) - A\r\n    |       TLS_RSA_WITH_AES_256_CBC_SHA256 (rsa 4096) - A\r\n    |       TLS_RSA_WITH_AES_256_GCM_SHA384 (rsa 4096) - A\r\n    |     compressors:\r\n    |       NULL\r\n    |     cipher preference: client\r\n    |_  least strength: A\r\n\r\nCipher order is still defined by client: `cipher preference: client`. Is it possible to set priority by server? Using JDK 12.\r\n\r\n","title":"Is it possible to order cipher suites from server side in Java?","body":"<p>In <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/javax/net/ssl/SSLParameters.html#setUseCipherSuitesOrder(boolean)\" rel=\"nofollow noreferrer\">Java docs</a> stated, that:</p>\n\n<blockquote>\n  <p><code>public final void setUseCipherSuitesOrder​(boolean honorOrder)</code></p>\n  \n  <p>Sets whether the local cipher suites preference should be honored.</p>\n  \n  <p>Parameters:\n      honorOrder - whether local cipher suites order in #getCipherSuites should be honored during SSL/TLS/DTLS handshaking.</p>\n</blockquote>\n\n<p>The order of cipher suits:</p>\n\n<pre><code>String[] cs = new String[]{\n \"TLS_RSA_WITH_AES_256_GCM_SHA384\",\n \"TLS_RSA_WITH_AES_256_CBC_SHA256\",\n \"TLS_RSA_WITH_AES_256_CBC_SHA\"\n  };\n</code></pre>\n\n<p>If I set socket parameters like:</p>\n\n<pre><code>SSLServerSocket.getSSLParameters().setUseCipherSuitesOrder(true);\nSSLServerSocket.setEnabledProtocols(....);\nSSLServerSocket.setEnabledCipherSuites(cs);\n</code></pre>\n\n<p>by using <code># nmap -sT  -p 465 host_address --script ssl-enum-ciphers.nse</code> the result is:</p>\n\n<pre><code>PORT    STATE SERVICE\n465/tcp open  smtps\n| ssl-enum-ciphers:\n|   TLSv1.2:\n|     ciphers:\n|       TLS_RSA_WITH_AES_256_CBC_SHA (rsa 4096) - A\n|       TLS_RSA_WITH_AES_256_CBC_SHA256 (rsa 4096) - A\n|       TLS_RSA_WITH_AES_256_GCM_SHA384 (rsa 4096) - A\n|     compressors:\n|       NULL\n|     cipher preference: client\n|_  least strength: A\n</code></pre>\n\n<p>Cipher order is still defined by client: <code>cipher preference: client</code>. Is it possible to set priority by server? Using JDK 12.</p>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":1266491,"reputation":58077,"user_id":1223693,"accept_rate":96,"display_name":"tckmn"},"score":3,"creation_date":1387140468,"post_id":20599579,"comment_id":30822349,"body_markdown":"ummmmmm... `::` is a syntax error in Java. What documentation did you read?","body":"ummmmmm... <code>::</code> is a syntax error in Java. What documentation did you read?"},{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":3,"creation_date":1387140481,"post_id":20599579,"comment_id":30822353,"body_markdown":"Are you reading a tutorial about Java 8 ?","body":"Are you reading a tutorial about Java 8 ?"},{"owner":{"account_id":1927748,"reputation":3317,"user_id":1737813,"display_name":"Bosko Mijin"},"score":1,"creation_date":1387140510,"post_id":20599579,"comment_id":30822369,"body_markdown":"Could you provide the link where you are read this? It&#39;s not Java, it&#39;s C++.","body":"Could you provide the link where you are read this? It&#39;s not Java, it&#39;s C++."},{"owner":{"account_id":3321430,"reputation":61779,"user_id":2792531,"accept_rate":79,"display_name":"nhgrif"},"score":6,"creation_date":1387140530,"post_id":20599579,"comment_id":30822374,"body_markdown":"`::` is `C++` syntax, not `Java`...","body":"<code>::</code> is <code>C++</code> syntax, not <code>Java</code>..."},{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":5,"creation_date":1387140564,"post_id":20599579,"comment_id":30822383,"body_markdown":"@nhgrif Not in Java 8 =)","body":"@nhgrif Not in Java 8 =)"},{"owner":{"account_id":202467,"reputation":9985,"user_id":449553,"accept_rate":54,"display_name":"msangel"},"score":0,"creation_date":1387140612,"post_id":20599579,"comment_id":30822396,"body_markdown":"@ZouZou, java8 have something like this?","body":"@ZouZou, java8 have something like this?"},{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":5,"creation_date":1387140636,"post_id":20599579,"comment_id":30822407,"body_markdown":"@msangel http://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html","body":"@msangel <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/javaOO/&hellip;</a>"},{"owner":{"account_id":19115,"reputation":29081,"user_id":44523,"accept_rate":95,"display_name":"Esko"},"score":1,"creation_date":1387140677,"post_id":20599579,"comment_id":30822417,"body_markdown":"*&quot;Beta Draft 2013-10-15\nThis section was updated to reflect features and conventions of the upcoming Java SE 8 release. You can download the current JDK 8 snapshot from java.net.&quot;* This stuff isn&#39;t ready yet, if you&#39;re new to Java you shouldn&#39;t go there yet.","body":"<i>&quot;Beta Draft 2013-10-15 This section was updated to reflect features and conventions of the upcoming Java SE 8 release. You can download the current JDK 8 snapshot from java.net.&quot;</i> This stuff isn&#39;t ready yet, if you&#39;re new to Java you shouldn&#39;t go there yet."},{"owner":{"account_id":2095246,"reputation":43828,"user_id":1864167,"accept_rate":90,"display_name":"Jeroen Vannevel"},"score":0,"creation_date":1387140680,"post_id":20599579,"comment_id":30822421,"body_markdown":"@msangel Yes, they&#39;re called Method Referenes in Java 8.","body":"@msangel Yes, they&#39;re called Method Referenes in Java 8."},{"owner":{"account_id":1258048,"reputation":16224,"user_id":1217087,"accept_rate":88,"display_name":"Adam S"},"score":0,"creation_date":1387140860,"post_id":20599579,"comment_id":30822500,"body_markdown":"[This answer](http://stackoverflow.com/a/20001866/1217087) explains how the `::` operator is used in Java 8.","body":"<a href=\"http://stackoverflow.com/a/20001866/1217087\">This answer</a> explains how the <code>::</code> operator is used in Java 8."},{"owner":{"account_id":236130,"reputation":5021,"user_id":503413,"accept_rate":78,"display_name":"Olimpiu POP"},"score":0,"creation_date":1387141163,"post_id":20599579,"comment_id":30822612,"body_markdown":"@Michanne a broader discussion on the :: operator from java 8, you can find here: http://stackoverflow.com/questions/20001427/double-colon-operator-in-java-8/20001548#20001548","body":"@Michanne a broader discussion on the :: operator from java 8, you can find here: <a href=\"http://stackoverflow.com/questions/20001427/double-colon-operator-in-java-8/20001548#20001548\" title=\"double colon operator in java 8\">stackoverflow.com/questions/20001427/&hellip;</a>"},{"owner":{"display_name":"user3094226"},"score":0,"creation_date":1387142095,"post_id":20599579,"comment_id":30823001,"body_markdown":"Thanks guys. I reached the point where I was learning about detailed features of classes and methods and stumbled on to method referencing while learning about Lambdas. They should have given it its own section","body":"Thanks guys. I reached the point where I was learning about detailed features of classes and methods and stumbled on to method referencing while learning about Lambdas. They should have given it its own section"}],"answers":[{"comments":[{"owner":{"display_name":"user3094226"},"score":0,"creation_date":1387141806,"post_id":20599643,"comment_id":30822868,"body_markdown":"That is exactly where I saw it, I was learning about Lambdas and it confused the hell out of me","body":"That is exactly where I saw it, I was learning about Lambdas and it confused the hell out of me"},{"owner":{"account_id":1883267,"reputation":7504,"user_id":1702990,"display_name":"Sinkingpoint"},"score":0,"creation_date":1387141854,"post_id":20599643,"comment_id":30822889,"body_markdown":"It is really to bring Java in line with C++ etc on the whole method pointers and anonymous functions things.","body":"It is really to bring Java in line with C++ etc on the whole method pointers and anonymous functions things."},{"owner":{"account_id":146068,"reputation":429,"user_id":356293,"accept_rate":50,"display_name":"peter"},"score":1,"creation_date":1664823861,"post_id":20599643,"comment_id":130554909,"body_markdown":"but what is Math.max, without arguments? couldnt that have served as the desired reference?","body":"but what is Math.max, without arguments? couldnt that have served as the desired reference?"}],"tags":[],"owner":{"account_id":1883267,"reputation":7504,"user_id":1702990,"display_name":"Sinkingpoint"},"comment_count":3,"down_vote_count":1,"up_vote_count":13,"is_accepted":true,"score":12,"last_activity_date":1387141074,"creation_date":1387140711,"answer_id":20599643,"question_id":20599579,"body_markdown":"The double colon operator is a new operator provided in Java8. It is syntactic sugar that tells the compiler to generate a lambda based on context which will call the method. This makes some lambda expression things a bit easier. Prior to Java8 this operator doesn&#39;t exist, and no, its not the same as the dot(.) operator. For example:\r\n\r\n    Math.max(4, 6) // Calls Math.max with the arguments 4 and 6\r\n    Math::max // A reference to the max method in the java.lang.Math class\r\n\r\nFor a bit of extra reading (Although this stuff is all in Beta and has not been officially released) try http://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html","title":"Why must we use double colons for method references?","body":"<p>The double colon operator is a new operator provided in Java8. It is syntactic sugar that tells the compiler to generate a lambda based on context which will call the method. This makes some lambda expression things a bit easier. Prior to Java8 this operator doesn't exist, and no, its not the same as the dot(.) operator. For example:</p>\n\n<pre><code>Math.max(4, 6) // Calls Math.max with the arguments 4 and 6\nMath::max // A reference to the max method in the java.lang.Math class\n</code></pre>\n\n<p>For a bit of extra reading (Although this stuff is all in Beta and has not been officially released) try <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\">http://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html</a></p>\n"}],"owner":{"display_name":"user3094226"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3952,"favorite_count":0,"down_vote_count":1,"up_vote_count":11,"accepted_answer_id":20599643,"answer_count":1,"score":10,"last_activity_date":1674151676,"creation_date":1387140395,"question_id":20599579,"body_markdown":"For instance why can I write the line\r\n\r\n    Character[] c = Arrays.sort(list.toArray(new Character[list.size()]))\r\n\r\nBut in documentation when I read about method referencing, they tell me to use `::` instead? Doesn&#39;t it do the same as the `.` operator?\r\n\r\nI dont know if the above code compiles, as I&#39;m typing this on my mobile. Consider it a loose example.","title":"Why must we use double colons for method references?","body":"<p>For instance why can I write the line</p>\n\n<pre><code>Character[] c = Arrays.sort(list.toArray(new Character[list.size()]))\n</code></pre>\n\n<p>But in documentation when I read about method referencing, they tell me to use <code>::</code> instead? Doesn't it do the same as the <code>.</code> operator?</p>\n\n<p>I dont know if the above code compiles, as I'm typing this on my mobile. Consider it a loose example.</p>\n"},{"tags":["java","php","aes"],"comments":[{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":2,"creation_date":1674152894,"post_id":75176542,"comment_id":132659492,"body_markdown":"During decryption, GCM uses a tag for authenticity checking that is implicitly generated during encryption. In the Java code, ciphertext and tag are automatically concatenated (ciphertext|tag). In the PHP code, the tag must be handled explicitly: It can be retrieved via the 6th parameter in `openssl_encrypt()` and specified during decryption with `openssl_decrypt()`.","body":"During decryption, GCM uses a tag for authenticity checking that is implicitly generated during encryption. In the Java code, ciphertext and tag are automatically concatenated (ciphertext|tag). In the PHP code, the tag must be handled explicitly: It can be retrieved via the 6th parameter in <code>openssl_encrypt()</code> and specified during decryption with <code>openssl_decrypt()</code>."},{"owner":{"account_id":11827645,"reputation":3065,"user_id":9011164,"accept_rate":50,"display_name":"KunLun"},"score":0,"creation_date":1674153143,"post_id":75176542,"comment_id":132659577,"body_markdown":"@Topaco, What if I encrypt in Java and after I want to decrypt in PHP. How I can create this tag. Or in reverse, encrypt in php and decrypt in java.","body":"@Topaco, What if I encrypt in Java and after I want to decrypt in PHP. How I can create this tag. Or in reverse, encrypt in php and decrypt in java."},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1674153422,"post_id":75176542,"comment_id":132659663,"body_markdown":"As already mentioned, the tag is *automatically* generated during encryption and implicitly concatenated in the Java code: ciphertext|tag. Since ciphertext and tag are handled separately in the PHP code, both parts must therefore be separated there. The tag is the last 16 bytes. Then ciphertext and tag must be passed individually as the 1st and 6th parameters in `openssl_decrypt()`. Conversely, ciphertext and tag from the Python code must be concatenated for decryption with the Java code.","body":"As already mentioned, the tag is <i>automatically</i> generated during encryption and implicitly concatenated in the Java code: ciphertext|tag. Since ciphertext and tag are handled separately in the PHP code, both parts must therefore be separated there. The tag is the last 16 bytes. Then ciphertext and tag must be passed individually as the 1st and 6th parameters in <code>openssl_decrypt()</code>. Conversely, ciphertext and tag from the Python code must be concatenated for decryption with the Java code."},{"owner":{"account_id":11827645,"reputation":3065,"user_id":9011164,"accept_rate":50,"display_name":"KunLun"},"score":0,"creation_date":1674158174,"post_id":75176542,"comment_id":132661147,"body_markdown":"@Topaco, I have encrypted my data in Java, and after I went to PHP to decrypt. Have split by your logic, but I receive an empty string after decryption. Can you give me some code/steps example, when you have time?","body":"@Topaco, I have encrypted my data in Java, and after I went to PHP to decrypt. Have split by your logic, but I receive an empty string after decryption. Can you give me some code/steps example, when you have time?"},{"owner":{"account_id":11827645,"reputation":3065,"user_id":9011164,"accept_rate":50,"display_name":"KunLun"},"score":0,"creation_date":1674158878,"post_id":75176542,"comment_id":132661362,"body_markdown":"@Topaco, I found it. The problem was that in PHP it was used &quot;aes-128-gcm&quot;, while in Java I was using 256 version. Thank you for help","body":"@Topaco, I found it. The problem was that in PHP it was used &quot;aes-128-gcm&quot;, while in Java I was using 256 version. Thank you for help"},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1674198792,"post_id":75176542,"comment_id":132666697,"body_markdown":"Another flaw, but without impact, is the use of `OPENSSL_NO_PADDING`. This flag is only intended in the context of *asymmetric* encryption and corresponds numerically to the combination `OPENSSL_ZERO_PADDING | OPENSSL_RAW_DATA` in the context of *symmetric* encryption. `OPENSSL_ZERO_PADDING` disables padding (which you probably wanted to achieve with `OPENSSL_NO_PADDING`) but does not need to be set as it is *implicitly* set for a stream cipher like GCM, `OPENSSL_RAW_DATA` disables the default Base64 encoding/decoding.","body":"Another flaw, but without impact, is the use of <code>OPENSSL_NO_PADDING</code>. This flag is only intended in the context of <i>asymmetric</i> encryption and corresponds numerically to the combination <code>OPENSSL_ZERO_PADDING | OPENSSL_RAW_DATA</code> in the context of <i>symmetric</i> encryption. <code>OPENSSL_ZERO_PADDING</code> disables padding (which you probably wanted to achieve with <code>OPENSSL_NO_PADDING</code>) but does not need to be set as it is <i>implicitly</i> set for a stream cipher like GCM, <code>OPENSSL_RAW_DATA</code> disables the default Base64 encoding/decoding."}],"owner":{"account_id":11827645,"reputation":3065,"user_id":9011164,"accept_rate":50,"display_name":"KunLun"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":401,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674151650,"creation_date":1674151650,"question_id":75176542,"body_markdown":"I have this code in java\r\n\r\n```\r\nString data = &quot;private-key&quot;;\r\nSystem.out.println(&quot;data: &quot; + data);\r\n\r\n//create Cipher\r\nCipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\r\n\r\n//generate key\r\nKeyGenerator keyGenerator = KeyGenerator.getInstance(&quot;AES&quot;);\r\nkeyGenerator.init(256);\r\nSecretKey skey = keyGenerator.generateKey();\r\nSystem.out.println(&quot;skey: &quot; + new String(Base64.getEncoder().encode(skey.getEncoded())));\r\n\r\n//generate iv\r\nbyte[] biv = new byte[12];\r\nSecureRandom random = new SecureRandom();\r\nrandom.nextBytes(biv);\r\nSystem.out.println(&quot;biv: &quot; + new String(Base64.getEncoder().encode(biv)));\r\n\r\n//init\r\nGCMParameterSpec spec = new GCMParameterSpec(128, biv);\r\ncipher.init(Cipher.ENCRYPT_MODE, skey, spec);\r\n\r\n//encrypt\r\nbyte[] encryption = cipher.doFinal(data.getBytes(StandardCharsets.UTF_8));\r\nbyte[] be = Base64.getEncoder().encode(encryption);\r\nSystem.out.println(&quot;encryption: &quot; + new String(be, StandardCharsets.UTF_8));\r\n\r\n//decrypt\r\ncipher.init(Cipher.DECRYPT_MODE, skey, spec);\r\nbyte[] decryption = cipher.doFinal(encryption);\r\nSystem.out.println(&quot;origin: &quot; + new String(decryption, StandardCharsets.UTF_8));\r\n```\r\n\r\nAnd I want to translate this code in PHP(I want to share infos between java app and php app).\r\n\r\nIn PHP I managed this:\r\n```\r\n$data = &quot;private-key&quot;;\r\n\r\n$skey = random_bytes(32);\r\n$biv = random_bytes(12);\r\n\r\n//encrypt\r\n$encryption = openssl_encrypt($data, &#39;aes-128-gcm&#39;, $skey, OPENSSL_NO_PADDING, $biv);\r\necho &quot;encryption: &quot; . base64_encode($encryption) . &quot;&lt;br&gt;&quot;;\r\n\r\n//decrypt\r\n$origin = openssl_decrypt($encryption, &quot;aes-128-gcm&quot;, $skey, OPENSSL_NO_PADDING, $biv);\r\necho &quot;origin: &quot; . $origin;\r\n```\r\n\r\nBut I get error in PHP at `openssl_encrypt`:\r\n`Warning: openssl_encrypt(): A tag should be provided when using AEAD mode` and I have no idea how to fix it.","title":"Encrypt/Decrypt AES/GCM/NoPadding from JAVA to PHP(A tag should be provided)","body":"<p>I have this code in java</p>\n<pre><code>String data = &quot;private-key&quot;;\nSystem.out.println(&quot;data: &quot; + data);\n\n//create Cipher\nCipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\n\n//generate key\nKeyGenerator keyGenerator = KeyGenerator.getInstance(&quot;AES&quot;);\nkeyGenerator.init(256);\nSecretKey skey = keyGenerator.generateKey();\nSystem.out.println(&quot;skey: &quot; + new String(Base64.getEncoder().encode(skey.getEncoded())));\n\n//generate iv\nbyte[] biv = new byte[12];\nSecureRandom random = new SecureRandom();\nrandom.nextBytes(biv);\nSystem.out.println(&quot;biv: &quot; + new String(Base64.getEncoder().encode(biv)));\n\n//init\nGCMParameterSpec spec = new GCMParameterSpec(128, biv);\ncipher.init(Cipher.ENCRYPT_MODE, skey, spec);\n\n//encrypt\nbyte[] encryption = cipher.doFinal(data.getBytes(StandardCharsets.UTF_8));\nbyte[] be = Base64.getEncoder().encode(encryption);\nSystem.out.println(&quot;encryption: &quot; + new String(be, StandardCharsets.UTF_8));\n\n//decrypt\ncipher.init(Cipher.DECRYPT_MODE, skey, spec);\nbyte[] decryption = cipher.doFinal(encryption);\nSystem.out.println(&quot;origin: &quot; + new String(decryption, StandardCharsets.UTF_8));\n</code></pre>\n<p>And I want to translate this code in PHP(I want to share infos between java app and php app).</p>\n<p>In PHP I managed this:</p>\n<pre><code>$data = &quot;private-key&quot;;\n\n$skey = random_bytes(32);\n$biv = random_bytes(12);\n\n//encrypt\n$encryption = openssl_encrypt($data, 'aes-128-gcm', $skey, OPENSSL_NO_PADDING, $biv);\necho &quot;encryption: &quot; . base64_encode($encryption) . &quot;&lt;br&gt;&quot;;\n\n//decrypt\n$origin = openssl_decrypt($encryption, &quot;aes-128-gcm&quot;, $skey, OPENSSL_NO_PADDING, $biv);\necho &quot;origin: &quot; . $origin;\n</code></pre>\n<p>But I get error in PHP at <code>openssl_encrypt</code>:\n<code>Warning: openssl_encrypt(): A tag should be provided when using AEAD mode</code> and I have no idea how to fix it.</p>\n"},{"tags":["java","properties","escaping","key-value"],"comments":[{"owner":{"account_id":76005,"reputation":38195,"user_id":217862,"accept_rate":64,"display_name":"ewernli"},"score":1,"creation_date":1337678424,"post_id":10699055,"comment_id":13889636,"body_markdown":"I fear you can&#39;t. Otherwise, how could the property files be read back without confusing &quot;your&quot; colons, and colons use to delimit key values?","body":"I fear you can&#39;t. Otherwise, how could the property files be read back without confusing &quot;your&quot; colons, and colons use to delimit key values?"},{"owner":{"account_id":134022,"reputation":717193,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"score":0,"creation_date":1337678960,"post_id":10699055,"comment_id":13889872,"body_markdown":"Make a StringWriter, write your properties file into it, go through the buffer line-by-line looking for `&quot;\\:&quot;`, and replacing it by a single `&quot;:&quot;`. This is not pretty, but then again what you are trying to do is also not very pretty.","body":"Make a StringWriter, write your properties file into it, go through the buffer line-by-line looking for <code>&quot;\\:&quot;</code>, and replacing it by a single <code>&quot;:&quot;</code>. This is not pretty, but then again what you are trying to do is also not very pretty."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1337681197,"post_id":10699055,"comment_id":13890735,"body_markdown":"@BhavikAmbani &#39;Use regular expressions&#39; for that *how?* Where exactly do you get a chance to specify a regular expression when saving a properties file, and what exactly would the RE look like?","body":"@BhavikAmbani &#39;Use regular expressions&#39; for that <i>how?</i> Where exactly do you get a chance to specify a regular expression when saving a properties file, and what exactly would the RE look like?"}],"answers":[{"comments":[{"owner":{"account_id":1749879,"reputation":3381,"user_id":1599213,"accept_rate":33,"display_name":"To Kra"},"score":0,"creation_date":1429270676,"post_id":10699133,"comment_id":47532203,"body_markdown":"I like this approach too, but XML format is bit harder to read for noobs (&quot;customers etc.&quot;)... I think there should be way how to escape :, or either use some utils to choose key value delimiter, as now : is taken as delimiter too...","body":"I like this approach too, but XML format is bit harder to read for noobs (&quot;customers etc.&quot;)... I think there should be way how to escape :, or either use some utils to choose key value delimiter, as now : is taken as delimiter too..."}],"tags":[],"owner":{"account_id":403847,"reputation":23234,"user_id":771837,"display_name":"trutheality"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1337678314,"creation_date":1337678314,"answer_id":10699133,"question_id":10699055,"body_markdown":"If you use the xml variant of the properties file (using `loadFromXML` and `storeToXML`) this shouldn&#39;t be a problem.","title":"How do you escape colon (:) in Properties file?","body":"<p>If you use the xml variant of the properties file (using <code>loadFromXML</code> and <code>storeToXML</code>) this shouldn't be a problem.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1396885947,"creation_date":1337678367,"answer_id":10699153,"question_id":10699055,"body_markdown":"Put the properties into the `Properties` object and save it using a `store(...)` method.  The method will perform any escaping required.  The [Java documentation][1] says:\r\n\r\n&gt; *&quot;... For the key, all space characters are written with a preceding \\ character. For the element, leading space characters, but not embedded or trailing space characters, are written with a preceding \\ character. The key and element characters #, !, =, and : are written with a preceding backslash to ensure that they are properly loaded.&quot;*\r\n\r\nYou only need to manually escape characters if you are creating / writing the file by hand.\r\n\r\n---------\r\n\r\nConversely, if you want the file to contain unescaped colon characters, you are out of luck.  Such a file is malformed and probably won&#39;t load properly using the `Properties.load(...)` methods.  If you go down this route, you&#39;ll need to implement your own custom load and/or store methods.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Properties.html#store%28java.io.Writer,%20java.lang.String%29","title":"How do you escape colon (:) in Properties file?","body":"<p>Put the properties into the <code>Properties</code> object and save it using a <code>store(...)</code> method.  The method will perform any escaping required.  The <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Properties.html#store%28java.io.Writer,%20java.lang.String%29\">Java documentation</a> says:</p>\n\n<blockquote>\n  <p><em>\"... For the key, all space characters are written with a preceding \\ character. For the element, leading space characters, but not embedded or trailing space characters, are written with a preceding \\ character. The key and element characters #, !, =, and : are written with a preceding backslash to ensure that they are properly loaded.\"</em></p>\n</blockquote>\n\n<p>You only need to manually escape characters if you are creating / writing the file by hand.</p>\n\n<hr>\n\n<p>Conversely, if you want the file to contain unescaped colon characters, you are out of luck.  Such a file is malformed and probably won't load properly using the <code>Properties.load(...)</code> methods.  If you go down this route, you'll need to implement your own custom load and/or store methods.</p>\n"},{"tags":[],"owner":{"account_id":32072,"reputation":1367,"user_id":88556,"accept_rate":80,"display_name":"Dave Patterson"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1481741513,"creation_date":1341344613,"answer_id":11318052,"question_id":10699055,"body_markdown":"We hit this question a couple of days ago. We were manipulating existing properties files with URLs as values.\r\n\r\nIt&#39;s risky but if your property values are less than 40 characters then you can use the &quot;list&quot; method instead of &quot;store&quot;:\r\n\r\nhttp://docs.oracle.com/javase/6/docs/api/java/util/Properties.html#list(java.io.PrintWriter)\r\n\r\nWe had a quick look at the JDK code and hacked out a custom implementation of store that works for our purposes:\r\n\r\n\tpublic void store(Properties props, String propertyFilePath) throws FileNotFoundException {\r\n\t\tPrintWriter pw = new PrintWriter(propertyFilePath);\t\r\n\t\tfor (Enumeration e = props.propertyNames(); e.hasMoreElements();) {\r\n\t\t\tString key = (String) e.nextElement();\r\n\t\t\tpw.println(key + &quot;=&quot; + props.getProperty(key));\r\n\t\t}\r\n\t\tpw.close();\r\n\t}","title":"How do you escape colon (:) in Properties file?","body":"<p>We hit this question a couple of days ago. We were manipulating existing properties files with URLs as values.</p>\n\n<p>It's risky but if your property values are less than 40 characters then you can use the \"list\" method instead of \"store\":</p>\n\n<p><a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Properties.html#list(java.io.PrintWriter)\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/6/docs/api/java/util/Properties.html#list(java.io.PrintWriter)</a></p>\n\n<p>We had a quick look at the JDK code and hacked out a custom implementation of store that works for our purposes:</p>\n\n<pre><code>public void store(Properties props, String propertyFilePath) throws FileNotFoundException {\n    PrintWriter pw = new PrintWriter(propertyFilePath); \n    for (Enumeration e = props.propertyNames(); e.hasMoreElements();) {\n        String key = (String) e.nextElement();\n        pw.println(key + \"=\" + props.getProperty(key));\n    }\n    pw.close();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3311051,"reputation":551,"user_id":2784563,"accept_rate":86,"display_name":"Despotars"},"score":0,"creation_date":1645107179,"post_id":16660799,"comment_id":125786934,"body_markdown":"Hi, my problem here is that when saving a property, Java is interpreting the property value and if it finds for example this: &#39;\\n&#39; it does a line break and saves a new property so the result is 2 property instead of one, any idea to fix it?","body":"Hi, my problem here is that when saving a property, Java is interpreting the property value and if it finds for example this: &#39;\\n&#39; it does a line break and saves a new property so the result is 2 property instead of one, any idea to fix it?"}],"tags":[],"owner":{"account_id":27945,"reputation":259,"user_id":74192,"accept_rate":56,"display_name":"Patrick Kiernan"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1481740899,"creation_date":1369100077,"answer_id":16660799,"question_id":10699055,"body_markdown":"I came across the same issue. Forward slashes `/` also get escaped by the `store()` method in `Properties`.\r\n\r\nI solved this issue by creating my own `CustomProperties` class (extending `java.util.Properties`) and commenting out the call to `saveConvert()` in the `customStore0()` method. \r\n\r\nHere is my `CustomProperties` class:\r\n\r\n    import java.io.BufferedWriter;\r\n    import java.io.IOException;\r\n    import java.io.OutputStream;\r\n    import java.io.OutputStreamWriter;\r\n    import java.util.Date;\r\n    import java.util.Enumeration;\r\n    import java.util.Properties;\r\n\r\n    public class CustomProperties extends Properties {\r\n\t  private static final long serialVersionUID = 1L;\r\n\t  @Override\r\n\t  public void store(OutputStream out, String comments) throws IOException {\r\n\t\t  customStore0(new BufferedWriter(new OutputStreamWriter(out, &quot;8859_1&quot;)),\r\n\t\t\t\t       comments, true);\r\n\t  }\r\n      //Override to stop &#39;/&#39; or &#39;:&#39; chars from being replaced by not called \r\n      //saveConvert(key, true, escUnicode)\r\n\t  private void customStore0(BufferedWriter bw, String comments, boolean escUnicode)\r\n\t\t\t  throws IOException {\r\n\t\t  bw.write(&quot;#&quot; + new Date().toString());\r\n\t\t  bw.newLine();\r\n\t\t  synchronized (this) {\r\n\t\t\t  for (Enumeration e = keys(); e.hasMoreElements();) {\r\n\t\t\t\t  String key = (String) e.nextElement();\r\n\t\t\t\t  String val = (String) get(key);\r\n\t\t\t\t  // Commented out to stop &#39;/&#39; or &#39;:&#39; chars being replaced\r\n\t\t\t\t  //key = saveConvert(key, true, escUnicode);\r\n\t\t\t\t  //val = saveConvert(val, false, escUnicode);\r\n\t\t\t\t  bw.write(key + &quot;=&quot; + val);\r\n\t\t\t\t  bw.newLine();\r\n\t\t\t  }\r\n\t\t  }\r\n\t\t  bw.flush();\r\n\t  }\r\n    }\r\n\r\n\r\n ","title":"How do you escape colon (:) in Properties file?","body":"<p>I came across the same issue. Forward slashes <code>/</code> also get escaped by the <code>store()</code> method in <code>Properties</code>.</p>\n\n<p>I solved this issue by creating my own <code>CustomProperties</code> class (extending <code>java.util.Properties</code>) and commenting out the call to <code>saveConvert()</code> in the <code>customStore0()</code> method. </p>\n\n<p>Here is my <code>CustomProperties</code> class:</p>\n\n<pre><code>import java.io.BufferedWriter;\nimport java.io.IOException;\nimport java.io.OutputStream;\nimport java.io.OutputStreamWriter;\nimport java.util.Date;\nimport java.util.Enumeration;\nimport java.util.Properties;\n\npublic class CustomProperties extends Properties {\n  private static final long serialVersionUID = 1L;\n  @Override\n  public void store(OutputStream out, String comments) throws IOException {\n      customStore0(new BufferedWriter(new OutputStreamWriter(out, \"8859_1\")),\n                   comments, true);\n  }\n  //Override to stop '/' or ':' chars from being replaced by not called \n  //saveConvert(key, true, escUnicode)\n  private void customStore0(BufferedWriter bw, String comments, boolean escUnicode)\n          throws IOException {\n      bw.write(\"#\" + new Date().toString());\n      bw.newLine();\n      synchronized (this) {\n          for (Enumeration e = keys(); e.hasMoreElements();) {\n              String key = (String) e.nextElement();\n              String val = (String) get(key);\n              // Commented out to stop '/' or ':' chars being replaced\n              //key = saveConvert(key, true, escUnicode);\n              //val = saveConvert(val, false, escUnicode);\n              bw.write(key + \"=\" + val);\n              bw.newLine();\n          }\n      }\n      bw.flush();\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13879530,"reputation":9,"user_id":10020217,"display_name":"Venkatesh A"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1623798484,"creation_date":1530521249,"answer_id":51132214,"question_id":10699055,"body_markdown":"Its simple,\r\njust use **Apostrophe** **&#39;   &#39;** over there\r\nE.g.:\r\n\r\nInstead of this(case 1)\r\n\r\n    File file= new File(&quot;f:\\\\properties\\\\gog\\\\esave\\\\apple&quot;);\r\n    prop.setProperty(&quot;basedir&quot;,file.toString());\r\n\r\n**Use this(case 2)**\r\n\r\n    File file= new File(&quot;f&#39;:&#39;\\\\properties\\\\gog\\\\esave\\\\apple&quot;);\r\n    prop.setProperty(&quot;basedir&quot;,file.toString());\r\n\r\n\r\nOutput will be\r\n\r\n\r\n----------\r\n\r\n\r\nCase 1: `basedir = f\\:\\\\properties\\\\gog\\\\esave\\\\apple`\r\n\r\nCase 2: `basedir = f:\\\\properties\\\\gog\\\\esave\\\\apple`\r\n\r\nI hope this will help you\r\n\t\r\n\r\n","title":"How do you escape colon (:) in Properties file?","body":"<p>Its simple,\njust use <strong>Apostrophe</strong> <strong>'   '</strong> over there\nE.g.:</p>\n<p>Instead of this(case 1)</p>\n<pre><code>File file= new File(&quot;f:\\\\properties\\\\gog\\\\esave\\\\apple&quot;);\nprop.setProperty(&quot;basedir&quot;,file.toString());\n</code></pre>\n<p><strong>Use this(case 2)</strong></p>\n<pre><code>File file= new File(&quot;f':'\\\\properties\\\\gog\\\\esave\\\\apple&quot;);\nprop.setProperty(&quot;basedir&quot;,file.toString());\n</code></pre>\n<p>Output will be</p>\n<hr />\n<p>Case 1: <code>basedir = f\\:\\\\properties\\\\gog\\\\esave\\\\apple</code></p>\n<p>Case 2: <code>basedir = f:\\\\properties\\\\gog\\\\esave\\\\apple</code></p>\n<p>I hope this will help you</p>\n"},{"tags":[],"owner":{"account_id":7388280,"reputation":438,"user_id":5622596,"display_name":"jspek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576172997,"creation_date":1575654597,"answer_id":59218045,"question_id":10699055,"body_markdown":"**Try using unicode.** \r\n\r\nThe unicode for a colon is`\\u003A`\r\n\r\nAdditionally the unicode for a space is: `\\u0020`\r\n\r\nFor a list of basic Latin characters see: https://en.wikipedia.org/wiki/Basic_Latin_(Unicode_block)\r\n\r\n**For example:**\r\n\r\n`ProperName\\u003A\\NameContinues=Some property value`\r\n\r\nWill expect a property with a key: \r\n\r\n`ProperName:NameContinues`\r\n\r\nAnd will have a value of:\r\n\r\n`Some property value`","title":"How do you escape colon (:) in Properties file?","body":"<p><strong>Try using unicode.</strong> </p>\n\n<p>The unicode for a colon is<code>\\u003A</code></p>\n\n<p>Additionally the unicode for a space is: <code>\\u0020</code></p>\n\n<p>For a list of basic Latin characters see: <a href=\"https://en.wikipedia.org/wiki/Basic_Latin_(Unicode_block)\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Basic_Latin_(Unicode_block)</a></p>\n\n<p><strong>For example:</strong></p>\n\n<p><code>ProperName\\u003A\\NameContinues=Some property value</code></p>\n\n<p>Will expect a property with a key: </p>\n\n<p><code>ProperName:NameContinues</code></p>\n\n<p>And will have a value of:</p>\n\n<p><code>Some property value</code></p>\n"},{"tags":[],"owner":{"account_id":18988243,"reputation":1,"user_id":13858044,"display_name":"Arun Chib"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594923093,"creation_date":1593767765,"answer_id":62712266,"question_id":10699055,"body_markdown":"For me it worked by using `\\` before special character,\r\n    \r\ne.g,\r\n\r\n    Before: VCS\\u003aIC\\u0020Server\\u003a=Migration\r\n    After: VCS\\:IC\\ Server\\:=Migration\r\n\r\n    \r\n`:` is escaped with `\\:` and ` ` (space) with `\\ ` (`\\` followed by \\&lt;Space&gt;).\r\n    \r\n\r\nFor more info : https://en.wikipedia.org/wiki/.properties","title":"How do you escape colon (:) in Properties file?","body":"<p>For me it worked by using <code>\\</code> before special character,</p>\n<p>e.g,</p>\n<pre><code>Before: VCS\\u003aIC\\u0020Server\\u003a=Migration\nAfter: VCS\\:IC\\ Server\\:=Migration\n</code></pre>\n<p><code>:</code> is escaped with <code>\\:</code> and <code> </code> (space) with <code>\\ </code> (<code>\\</code> followed by &lt;Space&gt;).</p>\n<p>For more info : <a href=\"https://en.wikipedia.org/wiki/.properties\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/.properties</a></p>\n"},{"tags":[],"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1610096162,"creation_date":1610096162,"answer_id":65625978,"question_id":10699055,"body_markdown":"For people like me that get here for this when using Spring Boot configuration properties files: You need to enclose in `[..]`:\r\n\r\nE.g.:\r\n\r\n```\r\nmy.test\\:key=value\r\n```\r\n\r\nis not enough, you need this in your `application.properties` for example:\r\n\r\n```\r\nmy.[test\\:key]=value\r\n```\r\n\r\nSee also [SpringBoot2 ConfigurationProperties removes colon from yaml keys](https://github.com/spring-projects/spring-boot/issues/11386)","title":"How do you escape colon (:) in Properties file?","body":"<p>For people like me that get here for this when using Spring Boot configuration properties files: You need to enclose in <code>[..]</code>:</p>\n<p>E.g.:</p>\n<pre><code>my.test\\:key=value\n</code></pre>\n<p>is not enough, you need this in your <code>application.properties</code> for example:</p>\n<pre><code>my.[test\\:key]=value\n</code></pre>\n<p>See also <a href=\"https://github.com/spring-projects/spring-boot/issues/11386\" rel=\"nofollow noreferrer\">SpringBoot2 ConfigurationProperties removes colon from yaml keys</a></p>\n"}],"owner":{"account_id":1280645,"reputation":283,"user_id":1234805,"display_name":"indiws"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43531,"favorite_count":0,"down_vote_count":2,"up_vote_count":25,"accepted_answer_id":10699153,"answer_count":8,"score":23,"last_activity_date":1674151513,"creation_date":1337678005,"question_id":10699055,"body_markdown":"I am using a properties file to store my application&#39;s configuration values.\r\nIn one of the instances, I have to store a value as\r\n`xxx:yyy:zzz`. When I do that, the colon is escaped with a back slash`\\` resulting in the value showing as `xxx\\:yyy\\:zzz` in the properties file.\r\n\r\nI am aware that the colon `:` is a standard delimiter of the `Properties` Java class. However I still need to save the value without the back slash `\\`.\r\n\r\nAny suggestions on how to handle this?","title":"How do you escape colon (:) in Properties file?","body":"<p>I am using a properties file to store my application's configuration values.\nIn one of the instances, I have to store a value as\n<code>xxx:yyy:zzz</code>. When I do that, the colon is escaped with a back slash<code>\\</code> resulting in the value showing as <code>xxx\\:yyy\\:zzz</code> in the properties file.</p>\n\n<p>I am aware that the colon <code>:</code> is a standard delimiter of the <code>Properties</code> Java class. However I still need to save the value without the back slash <code>\\</code>.</p>\n\n<p>Any suggestions on how to handle this?</p>\n"},{"tags":["java","spring","caching"],"answers":[{"comments":[{"owner":{"account_id":16658426,"reputation":13,"user_id":12039078,"display_name":"MichalWds"},"score":0,"creation_date":1674165844,"post_id":75176498,"comment_id":132663266,"body_markdown":"yes. I can not use #product.name because I&#39;m not passing whole Product in argument of the method. It would work if \n`public Product getProductFromExternalApi(Product product){`\n\n#p1 point to the first parameter of the method which is `100g banana` not just `banana`","body":"yes. I can not use #product.name because I&#39;m not passing whole Product in argument of the method. It would work if  <code>public Product getProductFromExternalApi(Product product){</code>  #p1 point to the first parameter of the method which is <code>100g banana</code> not just <code>banana</code>"},{"owner":{"account_id":10706708,"reputation":1,"user_id":7880266,"display_name":"Laerte Guedes"},"score":0,"creation_date":1674512868,"post_id":75176498,"comment_id":132726335,"body_markdown":"In this case, wouldn&#39;t it be better to use as a key an attribute that not changes... like an ID?","body":"In this case, wouldn&#39;t it be better to use as a key an attribute that not changes... like an ID?"}],"tags":[],"owner":{"account_id":10706708,"reputation":1,"user_id":7880266,"display_name":"Laerte Guedes"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674151413,"creation_date":1674151413,"answer_id":75176498,"question_id":75175905,"body_markdown":"Have you tried to use these?\r\n\r\n    @CachePut(value = &quot;products&quot;, key = &quot;#p1&quot;) \r\nOr\r\n\r\n    @CachePut(value = &quot;products&quot;, key = &quot;#product.name&quot;)\r\n\r\n \r\n","title":"Use DTO field as a key of @CachePut. Not mentioned in method argument","body":"<p>Have you tried to use these?</p>\n<pre><code>@CachePut(value = &quot;products&quot;, key = &quot;#p1&quot;) \n</code></pre>\n<p>Or</p>\n<pre><code>@CachePut(value = &quot;products&quot;, key = &quot;#product.name&quot;)\n</code></pre>\n"}],"owner":{"account_id":16658426,"reputation":13,"user_id":12039078,"display_name":"MichalWds"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674151413,"creation_date":1674148366,"question_id":75175905,"body_markdown":"I would like to use caches to take care of a lot of call to external API.\r\n\r\nLogic looks like this:\r\n 1. Make a call to my custom endpoint with the parameter `banana`\r\n 2. Checking cache\r\n 3. if cache is not there, check database\r\n 4. if it&#39;s not in db, make a call to external api\r\n 5. save to db, save to cache \r\n 6. return\r\n\r\nHere is a deal. I made some draft implementation which works but when I&#39;m making a call\r\nto the external API i need to provide not only banana but let&#39;s say `100g banana` \r\nwhich means, If I put annotation @CachePut and point to the parameter as a key. Then in my cache I will save String `100g banana` not banana. Is that possible to save cache by providing key as a field value of the response object? (just banana)\r\nLet&#39;s say external json payload goes to the \r\nProductDTO with fields \r\n- name\r\n- weight\r\n...\r\n\r\n```\r\n@Cacheable(value = &quot;products&quot;, key = &quot;#productName&quot;, unless = &quot;#result == null&quot;)\r\n    @GetMapping(&quot;/prod/{productName}&quot;)\r\n    public Product getProductCache(@PathVariable String productName) {\r\n        log.info(&quot;Getting product with name {}.&quot;, productName);\r\n\r\n        Product product = productRepository.getByName(productName);\r\n        log.info(&quot;Product in database is:{}&quot;, product);\r\n        if (product == null) {\r\n            product = productService.getProductFromExternalApi(productName);\r\n        }\r\n\r\n        return product;\r\n    }\r\n```\r\n```\r\n@CachePut(value = &quot;products&quot;, key = &quot;#I want product.getName without passing Product as a parameter&quot;)\r\n    public Product getProductFromExternalApi(String productName){\r\n\r\n        SOME CODE TO BUILD A REQUEST\r\n\r\n            productRepository.save(product);\r\n\r\n            return product;\r\n    }\r\n\r\n```\r\nBtw, I don&#39;t get root.target which points to the Controller class rather than Product.\r\nI can ofc make a regex or substring that 100g banana to banana but yea, I wonder if it&#39;s possible just directly from the annotation\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Use DTO field as a key of @CachePut. Not mentioned in method argument","body":"<p>I would like to use caches to take care of a lot of call to external API.</p>\n<p>Logic looks like this:</p>\n<ol>\n<li>Make a call to my custom endpoint with the parameter <code>banana</code></li>\n<li>Checking cache</li>\n<li>if cache is not there, check database</li>\n<li>if it's not in db, make a call to external api</li>\n<li>save to db, save to cache</li>\n<li>return</li>\n</ol>\n<p>Here is a deal. I made some draft implementation which works but when I'm making a call\nto the external API i need to provide not only banana but let's say <code>100g banana</code>\nwhich means, If I put annotation @CachePut and point to the parameter as a key. Then in my cache I will save String <code>100g banana</code> not banana. Is that possible to save cache by providing key as a field value of the response object? (just banana)\nLet's say external json payload goes to the\nProductDTO with fields</p>\n<ul>\n<li>name</li>\n<li>weight\n...</li>\n</ul>\n<pre><code>@Cacheable(value = &quot;products&quot;, key = &quot;#productName&quot;, unless = &quot;#result == null&quot;)\n    @GetMapping(&quot;/prod/{productName}&quot;)\n    public Product getProductCache(@PathVariable String productName) {\n        log.info(&quot;Getting product with name {}.&quot;, productName);\n\n        Product product = productRepository.getByName(productName);\n        log.info(&quot;Product in database is:{}&quot;, product);\n        if (product == null) {\n            product = productService.getProductFromExternalApi(productName);\n        }\n\n        return product;\n    }\n</code></pre>\n<pre><code>@CachePut(value = &quot;products&quot;, key = &quot;#I want product.getName without passing Product as a parameter&quot;)\n    public Product getProductFromExternalApi(String productName){\n\n        SOME CODE TO BUILD A REQUEST\n\n            productRepository.save(product);\n\n            return product;\n    }\n\n</code></pre>\n<p>Btw, I don't get root.target which points to the Controller class rather than Product.\nI can ofc make a regex or substring that 100g banana to banana but yea, I wonder if it's possible just directly from the annotation</p>\n"},{"tags":["java","android","menu","navigation","submenu"],"owner":{"account_id":8797649,"reputation":41,"user_id":6575044,"display_name":"MrSALSA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674150693,"creation_date":1674150693,"question_id":75176370,"body_markdown":"I am having problems getting my in-app menu navigation to work. Unfortunately, I have not been able to find a solution here so far. Since I&#39;m quite a newbie to Android development, I&#39;m not sure what info you guys need for better assistance, so bear with me.... ;\\]\r\n\r\n**Problem:**\r\n\r\nThe &quot;back to main menu&quot; submenu option triggers the menu.performIdentifierAction(R.id.back_to_main_menu, 0) action. This works fine in principle, but only once. So, suppose the user navigates from the main menu to submenu A, he can return to the main menu and also go to submenu A again. But if he now wants to return to the main menu for the second time, the entire menu will be completely closed. Then the user can still click on all items, but the &quot;Return to main menu&quot; option does not work and instead simply closes the entire menu.\r\n\r\nAll other methods/actions associated with the menu items will be invoked properly.\r\n\r\n**What I tried so far:**\r\n\r\nI tried closing and inflating the menu again. But it lead to different other problems mostely due to not being compatible with MaterialToolbar and using an optionsMenu and related functionalities instead. \r\n\r\nAlso the solutions I found for selecting a specific menu element programmatically were about using the above mentioned method &quot;menu.performIdentifierAction()&quot;.\r\n\r\n**App structure:** \r\n\r\nMy app consists of three activities and one background service. In all activities I use the same xml menu. And the behavior is the same in all activities. The in-app menu consists of several items and submenus. In each submenu, I added a &quot;back option&quot; so that the user can return to the main menu without closing and reopening the menu.\r\n\r\nThe menu is included in the activity xmls for each activity, like (simplified):\r\n\r\n```\r\n\\&lt;com.google.android.material.appbar.AppBarLayout\r\nandroid:id=&quot;@+id/appBarLayout_mainActivity&quot;\r\nandroid:layout_width=&quot;match_parent&quot;\r\nandroid:layout_height=&quot;wrap_content&quot;\\&gt;\r\n\r\n        &lt;com.google.android.material.appbar.MaterialToolbar\r\n            android:id=&quot;@+id/materialToolbar_mainActivity&quot;\r\n            style=&quot;@style/Widget.MaterialComponents.Toolbar.Primary&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            app:menu=&quot;@menu/material_toolbar_settings&quot;\r\n            app:title=&quot;@string/page_title_mainActivity_text&quot; /&gt;\r\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n```\r\n\r\nReferenced like:\r\n\r\n```\r\nmaterialToolbar_mainActivity = findViewById(R.id.materialToolbar_mainActivity);\r\n```\r\n\r\nClicked item handling like (simplified):\r\n\r\n```\r\nmaterialToolbar_mainActivity.setOnMenuItemClickListener(menuItem -\\&gt; {\r\n    // handle item selection\r\n    switch (menuItem.getItemId()) {\r\n\r\n        // ...\r\n\r\n        case (R.id.item_mainMenu_app_info):\r\n            showInfo();\r\n            return true;\r\n\r\n        // ...\r\n\r\n        case (R.id.item_submenu_backToMainMenu):\r\n            materialToolbar.getMenu().performIdentifierAction(R.id.item_main_menu, 0);\r\n            return true;\r\n\r\n       // ...\r\n\r\n        default:\r\n            return false;\r\n    }\r\n});\r\n```\r\n\r\nIf you have any suggestions or solutions, please don&#39;t hesitate and let me know. If you need any further information, please let me know as well.\r\n\r\nWith kind regards","title":"How to handle in-app main menu to submenu navigation and properly using MaterialToolbar and menu.performIdentifierAction()?","body":"<p>I am having problems getting my in-app menu navigation to work. Unfortunately, I have not been able to find a solution here so far. Since I'm quite a newbie to Android development, I'm not sure what info you guys need for better assistance, so bear with me.... ;]</p>\n<p><strong>Problem:</strong></p>\n<p>The &quot;back to main menu&quot; submenu option triggers the menu.performIdentifierAction(R.id.back_to_main_menu, 0) action. This works fine in principle, but only once. So, suppose the user navigates from the main menu to submenu A, he can return to the main menu and also go to submenu A again. But if he now wants to return to the main menu for the second time, the entire menu will be completely closed. Then the user can still click on all items, but the &quot;Return to main menu&quot; option does not work and instead simply closes the entire menu.</p>\n<p>All other methods/actions associated with the menu items will be invoked properly.</p>\n<p><strong>What I tried so far:</strong></p>\n<p>I tried closing and inflating the menu again. But it lead to different other problems mostely due to not being compatible with MaterialToolbar and using an optionsMenu and related functionalities instead.</p>\n<p>Also the solutions I found for selecting a specific menu element programmatically were about using the above mentioned method &quot;menu.performIdentifierAction()&quot;.</p>\n<p><strong>App structure:</strong></p>\n<p>My app consists of three activities and one background service. In all activities I use the same xml menu. And the behavior is the same in all activities. The in-app menu consists of several items and submenus. In each submenu, I added a &quot;back option&quot; so that the user can return to the main menu without closing and reopening the menu.</p>\n<p>The menu is included in the activity xmls for each activity, like (simplified):</p>\n<pre><code>\\&lt;com.google.android.material.appbar.AppBarLayout\nandroid:id=&quot;@+id/appBarLayout_mainActivity&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;wrap_content&quot;\\&gt;\n\n        &lt;com.google.android.material.appbar.MaterialToolbar\n            android:id=&quot;@+id/materialToolbar_mainActivity&quot;\n            style=&quot;@style/Widget.MaterialComponents.Toolbar.Primary&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            app:menu=&quot;@menu/material_toolbar_settings&quot;\n            app:title=&quot;@string/page_title_mainActivity_text&quot; /&gt;\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\n</code></pre>\n<p>Referenced like:</p>\n<pre><code>materialToolbar_mainActivity = findViewById(R.id.materialToolbar_mainActivity);\n</code></pre>\n<p>Clicked item handling like (simplified):</p>\n<pre><code>materialToolbar_mainActivity.setOnMenuItemClickListener(menuItem -\\&gt; {\n    // handle item selection\n    switch (menuItem.getItemId()) {\n\n        // ...\n\n        case (R.id.item_mainMenu_app_info):\n            showInfo();\n            return true;\n\n        // ...\n\n        case (R.id.item_submenu_backToMainMenu):\n            materialToolbar.getMenu().performIdentifierAction(R.id.item_main_menu, 0);\n            return true;\n\n       // ...\n\n        default:\n            return false;\n    }\n});\n</code></pre>\n<p>If you have any suggestions or solutions, please don't hesitate and let me know. If you need any further information, please let me know as well.</p>\n<p>With kind regards</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9507,"page":716,"page_size":100}
