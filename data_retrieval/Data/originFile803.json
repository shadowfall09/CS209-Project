{"items":[{"tags":["java","guice"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1518145478,"post_id":48698033,"comment_id":84394975,"body_markdown":"Where&#39;s your arraylist? What are you trying to inject it into?","body":"Where&#39;s your arraylist? What are you trying to inject it into?"}],"answers":[{"tags":[],"owner":{"account_id":321052,"reputation":232,"user_id":639646,"display_name":"NOLFXceptMe"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1518154705,"creation_date":1518154705,"answer_id":48699360,"question_id":48698033,"body_markdown":"Use `.toInstance()`\r\n\r\n    myList.addBinding().toInstance(&quot;Test1&quot;);\r\n    myList.addBinding().toInstance(&quot;Test2&quot;);`","title":"Injecting list of strings in Guice","body":"<p>Use <code>.toInstance()</code></p>\n\n<pre><code>myList.addBinding().toInstance(\"Test1\");\nmyList.addBinding().toInstance(\"Test2\");`\n</code></pre>\n"},{"tags":[],"owner":{"account_id":387508,"reputation":433,"user_id":745894,"display_name":"Jeff Vincent"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671233733,"creation_date":1671233310,"answer_id":74830724,"question_id":48698033,"body_markdown":"I realize this is an older post, but I&#39;ve been unsuccessful at finding a solution until today.  I&#39;ve wanted to inject a list of comma-delimited strings defined in a property file in a generic way without having to explicitly create @Named providers for every property that needed to be represented as a list of Strings.\r\n\r\nToday I found this post (https://stackoverflow.com/questions/69393266/injecting-a-list-of-strings-from-a-properties-file-using-guice).  The relevant part for me was this line in my configure method:\r\n\r\n     @Override \r\n     protected void configure() {\r\n        ...\r\n\r\n        binder().convertToTypes(Matchers.only(new TypeLiteral&lt;List&lt;String&gt;&gt;() {\r\n        }), (String value, TypeLiteral&lt;?&gt; toType) -&gt; Arrays.asList(value.split(&quot;,&quot;)));\r\n\r\n        ...\r\n     }\r\nI didn&#39;t use DefaultListDelimiterHandler as the original solution did, but instead just did a standard string split converted to a List&lt;String&gt;.  Now from a property file, I can have something like:\r\n\r\n    testList=one,two,three\r\nAnd I can inject it using:\r\n\r\n    @Inject\r\n    @Named(&quot;testList&quot;)\r\n    List&lt;String&gt; testList;\r\n\r\n","title":"Injecting list of strings in Guice","body":"<p>I realize this is an older post, but I've been unsuccessful at finding a solution until today.  I've wanted to inject a list of comma-delimited strings defined in a property file in a generic way without having to explicitly create @Named providers for every property that needed to be represented as a list of Strings.</p>\n<p>Today I found this post (<a href=\"https://stackoverflow.com/questions/69393266/injecting-a-list-of-strings-from-a-properties-file-using-guice\">Injecting a List of Strings From a Properties File Using Guice</a>).  The relevant part for me was this line in my configure method:</p>\n<pre><code> @Override \n protected void configure() {\n    ...\n\n    binder().convertToTypes(Matchers.only(new TypeLiteral&lt;List&lt;String&gt;&gt;() {\n    }), (String value, TypeLiteral&lt;?&gt; toType) -&gt; Arrays.asList(value.split(&quot;,&quot;)));\n\n    ...\n }\n</code></pre>\n<p>I didn't use DefaultListDelimiterHandler as the original solution did, but instead just did a standard string split converted to a List.  Now from a property file, I can have something like:</p>\n<pre><code>testList=one,two,three\n</code></pre>\n<p>And I can inject it using:</p>\n<pre><code>@Inject\n@Named(&quot;testList&quot;)\nList&lt;String&gt; testList;\n</code></pre>\n"}],"owner":{"account_id":2043101,"reputation":4295,"user_id":1823822,"accept_rate":29,"display_name":"Joy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":679,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":48699360,"answer_count":2,"score":0,"last_activity_date":1671233733,"creation_date":1518144684,"question_id":48698033,"body_markdown":"I am trying to inject one arraylist of Strings in Guice. For that I am trying to construct list as following in module, which I can inject later into any class:\r\n\r\n\r\n    Multibinder&lt;String&gt; myList =\r\n                Multibinder.newSetBinder(binder(), String.class);\r\n        \r\n        \r\n    myList.addBinding().to(&quot;Test1&quot;);\r\n    myList.addBinding().to(&quot;Test2&quot;);\r\n\r\nIn the above line I am getting following error:\r\n  \r\n    The method to(Class&lt;? extends String&gt;) in the type LinkedBindingBuilder&lt;String&gt; is not applicable for the arguments (String)\r\n\r\nIn this context, I have found this: https://stackoverflow.com/questions/30802384/guice-inject-an-arraylist-of-strings, but I think given solution does not fit my use case.\r\n","title":"Injecting list of strings in Guice","body":"<p>I am trying to inject one arraylist of Strings in Guice. For that I am trying to construct list as following in module, which I can inject later into any class:</p>\n\n<pre><code>Multibinder&lt;String&gt; myList =\n            Multibinder.newSetBinder(binder(), String.class);\n\n\nmyList.addBinding().to(\"Test1\");\nmyList.addBinding().to(\"Test2\");\n</code></pre>\n\n<p>In the above line I am getting following error:</p>\n\n<pre><code>The method to(Class&lt;? extends String&gt;) in the type LinkedBindingBuilder&lt;String&gt; is not applicable for the arguments (String)\n</code></pre>\n\n<p>In this context, I have found this: <a href=\"https://stackoverflow.com/questions/30802384/guice-inject-an-arraylist-of-strings\">Guice : Inject an ArrayList of Strings</a>, but I think given solution does not fit my use case.</p>\n"},{"tags":["java","postgresql","increment","auto-increment"],"comments":[{"owner":{"display_name":"user330315"},"score":0,"creation_date":1671200179,"post_id":74825660,"comment_id":132053980,"body_markdown":"https://blog.sql-workbench.eu/post/gapless-sequence/","body":"<a href=\"https://blog.sql-workbench.eu/post/gapless-sequence/\" rel=\"nofollow noreferrer\">blog.sql-workbench.eu/post/gapless-sequence</a>"},{"owner":{"account_id":8633322,"reputation":218443,"user_id":6464308,"display_name":"Laurenz Albe"},"score":0,"creation_date":1671200959,"post_id":74825660,"comment_id":132054278,"body_markdown":"You always have to serialize operations if you want a gap-less sequence.","body":"You always have to serialize operations if you want a gap-less sequence."}],"answers":[{"tags":[],"owner":{"account_id":10335627,"reputation":13845,"user_id":7623856,"display_name":"Belayer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671233022,"creation_date":1671233022,"answer_id":74830701,"question_id":74825660,"body_markdown":"You can have either scalability or a gap-less sequence **but not both**. However, you can get the appearance of both. Go ahead and generate orderNumber allowing gaps come as they may. Then create a view on your table that generates a new order number from the relative values. \r\n\r\n    create view  tickets_vw as \r\n       select id \r\n            , case_id\r\n            , row_number() over(partition by case_id order by order_number) order_number \r\n         from tickets;  \r\n\r\nSee [demo here][1]. I interpreted *range of one caseId* as meaning you wanted the sequence to restart for each Case_id. In addition to showing gap-less relative value the view implements restart as well. \r\n\r\nAlternative: As long as the id is always increasing (as demo would) you could use ID in the row_number() function and eliminate the oredeNumber from the table. I however tend to use a generated primary key for nothing but PK and referencing FK.     \r\n\r\n\r\n  [1]: https://dbfiddle.uk/WDGWYDca","title":"Conditional segmented auto increment in Postgres","body":"<p>You can have either scalability or a gap-less sequence <strong>but not both</strong>. However, you can get the appearance of both. Go ahead and generate orderNumber allowing gaps come as they may. Then create a view on your table that generates a new order number from the relative values.</p>\n<pre><code>create view  tickets_vw as \n   select id \n        , case_id\n        , row_number() over(partition by case_id order by order_number) order_number \n     from tickets;  \n</code></pre>\n<p>See <a href=\"https://dbfiddle.uk/WDGWYDca\" rel=\"nofollow noreferrer\">demo here</a>. I interpreted <em>range of one caseId</em> as meaning you wanted the sequence to restart for each Case_id. In addition to showing gap-less relative value the view implements restart as well.</p>\n<p>Alternative: As long as the id is always increasing (as demo would) you could use ID in the row_number() function and eliminate the oredeNumber from the table. I however tend to use a generated primary key for nothing but PK and referencing FK.</p>\n"}],"owner":{"account_id":12732750,"reputation":519,"user_id":9248765,"display_name":"Ludov Dmitrii"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671233022,"creation_date":1671200101,"question_id":74825660,"body_markdown":"```\r\nclass Ticket{\r\n\r\n    int id;\r\n    int caseId;\r\n    int orderNumber;\r\n\r\n}\r\n```\r\n Lets imagine I can&#39;t change data structure.\r\n The order is always have to be without jumps (1,2,4 not good) in range of one caseId, every\r\n caseId will have to start from 1.\r\n Currently, records is being written in synchronized method, this is not scalable solution\r\n and there is a performance is actual issue here.\r\n\r\n How can I use by Postgres DB to just throw\r\n the Ticket entities to it being certain that order number is always properly incremented on the db layer?\r\n","title":"Conditional segmented auto increment in Postgres","body":"<pre><code>class Ticket{\n\n    int id;\n    int caseId;\n    int orderNumber;\n\n}\n</code></pre>\n<p>Lets imagine I can't change data structure.\nThe order is always have to be without jumps (1,2,4 not good) in range of one caseId, every\ncaseId will have to start from 1.\nCurrently, records is being written in synchronized method, this is not scalable solution\nand there is a performance is actual issue here.</p>\n<p>How can I use by Postgres DB to just throw\nthe Ticket entities to it being certain that order number is always properly incremented on the db layer?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":5,"creation_date":1375380414,"post_id":18001371,"comment_id":26322638,"body_markdown":"Not in the standard JDK classes. But a collection should never be null. I&#39;d fix that instead.","body":"Not in the standard JDK classes. But a collection should never be null. I&#39;d fix that instead."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":2,"creation_date":1375380849,"post_id":18001371,"comment_id":26322898,"body_markdown":"Instead of using a `null` value you can use `Collections.emptyList()`","body":"Instead of using a <code>null</code> value you can use <code>Collections.emptyList()</code>"},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1375380979,"post_id":18001371,"comment_id":26322985,"body_markdown":"@PeterLawrey: that should really be a proper answer. Avoiding corner cases like that makes code so much nicer to read.","body":"@PeterLawrey: that should really be a proper answer. Avoiding corner cases like that makes code so much nicer to read."}],"answers":[{"tags":[],"owner":{"account_id":1435980,"reputation":127999,"user_id":1357341,"accept_rate":100,"display_name":"arshajii"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1375380730,"creation_date":1375380413,"answer_id":18001402,"question_id":18001371,"body_markdown":"What about\r\n\r\n    int size = (list == null) ? 0 : list.size();\r\n\r\nI&#39;m not sure why you would want a utility for this, since the above seems simple enough.","title":"Utility to check null and return size as 0 if empty for a collection/list in java","body":"<p>What about</p>\n\n<pre><code>int size = (list == null) ? 0 : list.size();\n</code></pre>\n\n<p>I'm not sure why you would want a utility for this, since the above seems simple enough.</p>\n"},{"tags":[],"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1375380859,"creation_date":1375380859,"answer_id":18001536,"question_id":18001371,"body_markdown":"Roll your own, put it in a method, preferably in a class.  Something like:\r\n\r\n\r\n    public class CollectionUtils\r\n    {\r\n        private CollectionUtils()\r\n        {\r\n        }\r\n    \r\n        public static getSize(final List&lt;?&gt; list)\r\n        {\r\n            // I try to make all my variables final, and I have a dislike of the ternary (?:)    \r\n            // operator...\r\n            final int size;\r\n    \r\n            if(list == null)\r\n            {\r\n                size = 0;\r\n            }\r\n            else\r\n            {\r\n                size = list.size();\r\n            }\r\n    \r\n            return (size);\r\n         }\r\n     }\r\n\r\nBy putting it in a method if you find a better way to do it later you can update the code only in one place.  If the language were to change in some way in the future as well, say some odd thing like `?list.size()` that returns 0 if it is null or the size if it is not null then you could simply delete the method and update all of the places that call it to be the new way of calling the method.","title":"Utility to check null and return size as 0 if empty for a collection/list in java","body":"<p>Roll your own, put it in a method, preferably in a class.  Something like:</p>\n\n<pre><code>public class CollectionUtils\n{\n    private CollectionUtils()\n    {\n    }\n\n    public static getSize(final List&lt;?&gt; list)\n    {\n        // I try to make all my variables final, and I have a dislike of the ternary (?:)    \n        // operator...\n        final int size;\n\n        if(list == null)\n        {\n            size = 0;\n        }\n        else\n        {\n            size = list.size();\n        }\n\n        return (size);\n     }\n }\n</code></pre>\n\n<p>By putting it in a method if you find a better way to do it later you can update the code only in one place.  If the language were to change in some way in the future as well, say some odd thing like <code>?list.size()</code> that returns 0 if it is null or the size if it is not null then you could simply delete the method and update all of the places that call it to be the new way of calling the method.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1375381117,"creation_date":1375381117,"answer_id":18001605,"question_id":18001371,"body_markdown":"Instead of using a null value you can use Collections.emptyList()\r\n\r\nThat way you have just\r\n\r\n    private List&lt;String&gt; list = Collections.&lt;String&gt;emptyList();\r\n\r\n    int size = list.size(); // list is never null, but could be an empty list.","title":"Utility to check null and return size as 0 if empty for a collection/list in java","body":"<p>Instead of using a null value you can use Collections.emptyList()</p>\n\n<p>That way you have just</p>\n\n<pre><code>private List&lt;String&gt; list = Collections.&lt;String&gt;emptyList();\n\nint size = list.size(); // list is never null, but could be an empty list.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":86926,"reputation":2892,"user_id":241379,"display_name":"Kenston Choi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1540812727,"creation_date":1540812727,"answer_id":53044637,"question_id":18001371,"body_markdown":"[org.apache.commons.collections4.CollectionUtils#size(Object object)][1] returns the following:\r\n\r\n&gt; the size of the specified collection or 0 if the object was null\r\n\r\nIt handles the following:\r\n\r\n&gt; - Collection - the collection size\r\n- Map - the map size\r\n- Array - the array size\r\n- Iterator - the number of elements remaining in the iterator\r\n- Enumeration - the number of elements remaining in the enumeration\r\n\r\nPersonally, I hope the parameter type is at least `Collection` instead of `Object` for added compile-time safety. As it can throw the ff. exception:\r\n\r\n&gt; IllegalArgumentException - thrown if object is not recognized\r\n\r\n  [1]: https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/CollectionUtils.html#size-java.lang.Object-","title":"Utility to check null and return size as 0 if empty for a collection/list in java","body":"<p><a href=\"https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/CollectionUtils.html#size-java.lang.Object-\" rel=\"nofollow noreferrer\">org.apache.commons.collections4.CollectionUtils#size(Object object)</a> returns the following:</p>\n\n<blockquote>\n  <p>the size of the specified collection or 0 if the object was null</p>\n</blockquote>\n\n<p>It handles the following:</p>\n\n<blockquote>\n  <ul>\n  <li>Collection - the collection size</li>\n  <li>Map - the map size</li>\n  <li>Array - the array size</li>\n  <li>Iterator - the number of elements remaining in the iterator</li>\n  <li>Enumeration - the number of elements remaining in the enumeration</li>\n  </ul>\n</blockquote>\n\n<p>Personally, I hope the parameter type is at least <code>Collection</code> instead of <code>Object</code> for added compile-time safety. As it can throw the ff. exception:</p>\n\n<blockquote>\n  <p>IllegalArgumentException - thrown if object is not recognized</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":123802,"reputation":37785,"user_id":318493,"accept_rate":67,"display_name":"RoToRa"},"score":2,"creation_date":1599639813,"post_id":63807213,"comment_id":112832103,"body_markdown":"`CollectionUtils` is not a standard Java class. You should mention which library its from.","body":"<code>CollectionUtils</code> is not a standard Java class. You should mention which library its from."}],"tags":[],"owner":{"account_id":14062486,"reputation":11,"user_id":10158151,"display_name":"Sam Fu"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1600142710,"creation_date":1599638358,"answer_id":63807213,"question_id":18001371,"body_markdown":"with the help of Goole `guava`, you case use `CollectionUtils.size()` function \r\n\r\n```\r\nimport org.apache.commons.collections.CollectionUtils;\r\n\r\n\r\n// Test case:\r\n\r\n// 0\r\nint size = CollectionUtils.size(null);\r\n//2\r\nint size2 = CollectionUtils.size(Lists.newArrayList(2,3));\r\n ```","title":"Utility to check null and return size as 0 if empty for a collection/list in java","body":"<p>with the help of Goole <code>guava</code>, you case use <code>CollectionUtils.size()</code> function</p>\n<pre><code>import org.apache.commons.collections.CollectionUtils;\n\n\n// Test case:\n\n// 0\nint size = CollectionUtils.size(null);\n//2\nint size2 = CollectionUtils.size(Lists.newArrayList(2,3));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":135551,"reputation":10101,"user_id":338479,"accept_rate":80,"display_name":"Edward Falk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671232773,"creation_date":1671232773,"answer_id":74830676,"question_id":18001371,"body_markdown":"While the accepted answer is arguably the best answer, I find typing it all the time to be tedious. I wound up writing these two tiny utilities:\r\n\r\n    static int csize(Collection&lt;?&gt; c) { return c != null ? c.size() : 0; }\r\n    static int csize(Map&lt;?&gt; m) { return m != null ? m.size() : 0; }\r\n\r\nand now I use e.g.:\r\n\r\n    int size = csize(list);","title":"Utility to check null and return size as 0 if empty for a collection/list in java","body":"<p>While the accepted answer is arguably the best answer, I find typing it all the time to be tedious. I wound up writing these two tiny utilities:</p>\n<pre><code>static int csize(Collection&lt;?&gt; c) { return c != null ? c.size() : 0; }\nstatic int csize(Map&lt;?&gt; m) { return m != null ? m.size() : 0; }\n</code></pre>\n<p>and now I use e.g.:</p>\n<pre><code>int size = csize(list);\n</code></pre>\n"}],"owner":{"account_id":1723893,"reputation":1525,"user_id":2323036,"accept_rate":69,"display_name":"user2323036"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10430,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":18001402,"answer_count":6,"score":4,"last_activity_date":1671232773,"creation_date":1375380276,"question_id":18001371,"body_markdown":"I have list which can be null sometimes, the return type should be int  ex: \r\n\r\n    int size = 0; \r\n    if(list != null) {\r\n        size = list.size;\r\n    } \r\n\r\nCould you please let me know whether any utility is available?\r\n\r\nThanks.","title":"Utility to check null and return size as 0 if empty for a collection/list in java","body":"<p>I have list which can be null sometimes, the return type should be int  ex: </p>\n\n<pre><code>int size = 0; \nif(list != null) {\n    size = list.size;\n} \n</code></pre>\n\n<p>Could you please let me know whether any utility is available?</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","mqtt","gateway"],"owner":{"account_id":27277200,"reputation":1,"user_id":20797624,"display_name":"Elias Beck"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671232747,"creation_date":1671232602,"question_id":74830657,"body_markdown":"Trying to build mqtt-sn-gateway from https://github.com/simon622/mqtt-sn. Instructions: \r\n\r\n```\r\nmvn -f mqtt-sn-codec clean install\r\nmvn -f mqtt-sn-core clean install\r\nmvn -f mqtt-sn-gateway clean package\r\nmvn -f mqtt-sn-client clean install\r\n```\r\n\r\nBuild completes, but only loopback jar, e.g. mqtt-sn-gateway-loopback-0.1.15-alpha.jar. Want to build full functional gateway for MQTT-SN aggregation forwarding to MQTT broker. Tried a few of the prior releases, built gateway jar is loopback only. \r\n\r\n","title":"can&#39;t build non-loopback version of mqtt-sn-gateway","body":"<p>Trying to build mqtt-sn-gateway from <a href=\"https://github.com/simon622/mqtt-sn\" rel=\"nofollow noreferrer\">https://github.com/simon622/mqtt-sn</a>. Instructions:</p>\n<pre><code>mvn -f mqtt-sn-codec clean install\nmvn -f mqtt-sn-core clean install\nmvn -f mqtt-sn-gateway clean package\nmvn -f mqtt-sn-client clean install\n</code></pre>\n<p>Build completes, but only loopback jar, e.g. mqtt-sn-gateway-loopback-0.1.15-alpha.jar. Want to build full functional gateway for MQTT-SN aggregation forwarding to MQTT broker. Tried a few of the prior releases, built gateway jar is loopback only.</p>\n"},{"tags":["java","elasticsearch"],"comments":[{"owner":{"account_id":5028364,"reputation":31224,"user_id":4039431,"accept_rate":94,"display_name":"Amit"},"score":0,"creation_date":1671181515,"post_id":74822161,"comment_id":132048024,"body_markdown":"it says clearly, build-tools-internal&#39;. Java 17 is required to build Elasticsearch but current Java is version 11, hope you are checking your java version in the same folder","body":"it says clearly, build-tools-internal&#39;. Java 17 is required to build Elasticsearch but current Java is version 11, hope you are checking your java version in the same folder"},{"owner":{"account_id":12817794,"reputation":400,"user_id":9273860,"display_name":"The Mir"},"score":0,"creation_date":1671181723,"post_id":74822161,"comment_id":132048081,"body_markdown":"In which folder? I cloned the package then ran the CMD. As I mentioned, current java version on my machine is 19 and I also installed 17.","body":"In which folder? I cloned the package then ran the CMD. As I mentioned, current java version on my machine is 19 and I also installed 17."},{"owner":{"account_id":5028364,"reputation":31224,"user_id":4039431,"accept_rate":94,"display_name":"Amit"},"score":0,"creation_date":1671182543,"post_id":74822161,"comment_id":132048315,"body_markdown":"you need see java 17 in Elasticsearch folder","body":"you need see java 17 in Elasticsearch folder"},{"owner":{"account_id":12817794,"reputation":400,"user_id":9273860,"display_name":"The Mir"},"score":0,"creation_date":1671183275,"post_id":74822161,"comment_id":132048555,"body_markdown":"@Amit you sure?!!! I think It&#39;s not related to the Elasticsearch folder. I read the code:if (JavaVersion.current() &lt; JavaVersion.toVersion(minCompilerJava)) {\n  throw new GradleException(&quot;Java ${minCompilerJava} is required to build Elasticsearch but current Java is version ${JavaVersion.current()}.&quot;)\n}","body":"@Amit you sure?!!! I think It&#39;s not related to the Elasticsearch folder. I read the code:if (JavaVersion.current() &lt; JavaVersion.toVersion(minCompilerJava)) {   throw new GradleException(&quot;Java ${minCompilerJava} is required to build Elasticsearch but current Java is version ${JavaVersion.current()}.&quot;) }"},{"owner":{"account_id":8158152,"reputation":807,"user_id":6143004,"display_name":"Piyush  Chauhan"},"score":0,"creation_date":1671261092,"post_id":74822161,"comment_id":132065569,"body_markdown":"You can try to use the docker it automatically handles the dependencies and also memory management.","body":"You can try to use the docker it automatically handles the dependencies and also memory management."}],"answers":[{"tags":[],"owner":{"account_id":7723774,"reputation":16,"user_id":20797647,"display_name":"Bill Nash"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671232234,"creation_date":1671232234,"answer_id":74830618,"question_id":74822161,"body_markdown":"You have another version of Java installed, that Elastic is locating when it starts, as indicated by the error message you&#39;re getting about version 11. This happens commonly when you&#39;ve been upgrading Java over time and have older versions still lurking about.","title":"Elasticsearch | Java version problem during installing Elasticsearch","body":"<p>You have another version of Java installed, that Elastic is locating when it starts, as indicated by the error message you're getting about version 11. This happens commonly when you've been upgrading Java over time and have older versions still lurking about.</p>\n"}],"owner":{"account_id":12817794,"reputation":400,"user_id":9273860,"display_name":"The Mir"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74830618,"answer_count":1,"score":0,"last_activity_date":1671232234,"creation_date":1671181000,"question_id":74822161,"body_markdown":"My machine runs Manjaro.\r\n\r\nI cloned **https://aur.archlinux.org/elasticsearch.git**\r\nthen ran: `makepkg -si`\r\n\r\nmy current Java version is: 19 according to: `java --version`:\r\n\r\n&gt; openjdk 19.0.1 2022-10-18 OpenJDK Runtime Environment (build\r\n&gt; 19.0.1+10) OpenJDK 64-Bit Server VM (build 19.0.1+10, mixed mode)\r\n\r\nWhile running makepkg -si I get the following error though: \r\n\r\n&gt; What went wrong: A problem occurred evaluating project &#39;:build-tools-internal&#39;.\r\n&gt; Java 17 is required to build Elasticsearch but current Java is version 11.\r\n\r\nI also installed java 17 by: \r\n\r\n    sudo pacman -S jre17-openjdk-headless jre17-openjdk jdk17-openjdk openjdk17-doc openjdk17-src\r\n\r\n\r\nStill getting the same error. Any idea?","title":"Elasticsearch | Java version problem during installing Elasticsearch","body":"<p>My machine runs Manjaro.</p>\n<p>I cloned <strong><a href=\"https://aur.archlinux.org/elasticsearch.git\" rel=\"nofollow noreferrer\">https://aur.archlinux.org/elasticsearch.git</a></strong>\nthen ran: <code>makepkg -si</code></p>\n<p>my current Java version is: 19 according to: <code>java --version</code>:</p>\n<blockquote>\n<p>openjdk 19.0.1 2022-10-18 OpenJDK Runtime Environment (build\n19.0.1+10) OpenJDK 64-Bit Server VM (build 19.0.1+10, mixed mode)</p>\n</blockquote>\n<p>While running makepkg -si I get the following error though:</p>\n<blockquote>\n<p>What went wrong: A problem occurred evaluating project ':build-tools-internal'.\nJava 17 is required to build Elasticsearch but current Java is version 11.</p>\n</blockquote>\n<p>I also installed java 17 by:</p>\n<pre><code>sudo pacman -S jre17-openjdk-headless jre17-openjdk jdk17-openjdk openjdk17-doc openjdk17-src\n</code></pre>\n<p>Still getting the same error. Any idea?</p>\n"},{"tags":["java","android","sharedpreferences"],"answers":[{"comments":[{"owner":{"account_id":6776456,"reputation":169,"user_id":5218083,"accept_rate":71,"display_name":"RichFounders"},"score":0,"creation_date":1439817435,"post_id":32050571,"comment_id":52002050,"body_markdown":"ok so the problem is because i put the Sharedpreferences onCreate method, so whats code should i change to make sharedpreferences work correctly? can you show me the repair of my code with an explain of the code?","body":"ok so the problem is because i put the Sharedpreferences onCreate method, so whats code should i change to make sharedpreferences work correctly? can you show me the repair of my code with an explain of the code?"},{"owner":{"account_id":5071927,"reputation":11287,"user_id":4070469,"accept_rate":79,"display_name":"Mauker"},"score":0,"creation_date":1439817517,"post_id":32050571,"comment_id":52002098,"body_markdown":"You can keep it on the onCreate() with some adjustments. I&#39;ll update my answer soon.","body":"You can keep it on the onCreate() with some adjustments. I&#39;ll update my answer soon."},{"owner":{"account_id":5071927,"reputation":11287,"user_id":4070469,"accept_rate":79,"display_name":"Mauker"},"score":0,"creation_date":1439818759,"post_id":32050571,"comment_id":52002951,"body_markdown":"@Chairizky Take a look now. And that&#39;s not the only way to solve it. It depends on what behavior you want to achieve on your game.","body":"@Chairizky Take a look now. And that&#39;s not the only way to solve it. It depends on what behavior you want to achieve on your game."},{"owner":{"account_id":5071927,"reputation":11287,"user_id":4070469,"accept_rate":79,"display_name":"Mauker"},"score":0,"creation_date":1439823318,"post_id":32050571,"comment_id":52006001,"body_markdown":"Actually, you could do that there instead of doing it on the `onCreate()`. Might even be better, because it&#39;ll check for your game status every time the user resume the `Activity`.","body":"Actually, you could do that there instead of doing it on the <code>onCreate()</code>. Might even be better, because it&#39;ll check for your game status every time the user resume the <code>Activity</code>."},{"owner":{"account_id":6776456,"reputation":169,"user_id":5218083,"accept_rate":71,"display_name":"RichFounders"},"score":0,"creation_date":1439823857,"post_id":32050571,"comment_id":52006363,"body_markdown":"oh ok, so i can put onResume() in else? at this else line //Player is alive, do whatever you want, or do nothing at all.","body":"oh ok, so i can put onResume() in else? at this else line //Player is alive, do whatever you want, or do nothing at all."},{"owner":{"account_id":5071927,"reputation":11287,"user_id":4070469,"accept_rate":79,"display_name":"Mauker"},"score":0,"creation_date":1439823934,"post_id":32050571,"comment_id":52006427,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/87177/discussion-between-mauker-and-chairizky).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/87177/discussion-between-mauker-and-chairizky\">continue this discussion in chat</a>."}],"tags":[],"owner":{"account_id":5071927,"reputation":11287,"user_id":4070469,"accept_rate":79,"display_name":"Mauker"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671232221,"creation_date":1439814902,"answer_id":32050571,"question_id":32050420,"body_markdown":"Thing is, on your `onCreate()` method you&#39;re **always** resetting the shared preferences here:\r\n\r\n    SharedPreferences pref = getSharedPreferences(&quot;SavedGame&quot;, MODE_PRIVATE); \r\n    SharedPreferences.Editor editor = pref.edit();      \r\n    editor.putInt(&quot;Lifes&quot;, 6);\r\n    editor.putInt(&quot;Hints&quot;, 6);          \r\n    editor.putInt(&quot;Level&quot;, 1);  \r\n    editor.commit();\r\n\r\nJust check if this file exists already before that line with an `if` statement. That should do the trick.\r\n\r\nSomething like:\r\n\r\n    if (pref.contains(&quot;Level&quot;)) {\r\n        // Do not reset\r\n    }\r\n    else {\r\n        // Create the prefs\r\n        SharedPreferences.Editor editor = pref.edit();      \r\n        editor.putInt(&quot;Lifes&quot;, 6);\r\n        editor.putInt(&quot;Hints&quot;, 6);          \r\n        editor.putInt(&quot;Level&quot;, 1);  \r\n        editor.commit();\r\n    }\r\n\r\nYou don&#39;t have to check for that exact field, it&#39;s just an example. Adjust it for your needs and game logic.\r\n\r\nTake a look at the `Activity` lifecycle to understand why this is happening.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n(diagram [source](http://web.archive.org/web/20140218132043/http://developer.android.com/training/basics/activity-lifecycle/starting.html))\r\n\r\nEverytime you open your app, the `onCreate()` method is called, so your prefs get reset before you read them.\r\n\r\nMore on the lifecycle [here][2].\r\n\r\n\r\n\r\n**EDIT:** The following snippet shows one way to solve your problem.\r\n\r\n    public static final String PREF_LIFES = &quot;Lifes&quot;;\r\n    public static final String PREF_HINTS = &quot;Hints&quot;;\r\n    public static final String PREF_LEVEL = &quot;Level&quot;;\r\n    public static final String PREF_IS_SET = &quot;isSet&quot;;\r\n    \r\n    \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        this.requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,\r\n        WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n        setContentView(R.layout.menu);\r\n    \r\n        SharedPreferences pref = getSharedPreferences(&quot;SavedGame&quot;, MODE_PRIVATE); \r\n    \r\n        // Check wether the pref is set or not.\r\n        if (pref.getBoolean(PREF_IS_SET.false)) {\r\n            // The prefs is set. Do some game logic here. Like checking for lifes.\r\n            if (pref.getInt(PREF_LIFES,0) == 0) {\r\n                // Player is &quot;dead&quot;, reset it.\r\n                resetPrefs(pref); \r\n            }\r\n            else {\r\n                // Player is alive, do whatever you want, or do nothing at all.\r\n            }\r\n        }\r\n        else {\r\n            // if it&#39;s not set, just create it.\r\n            resetPrefs(pref);\r\n        }\r\n    \r\n        // ...   \r\n    }\r\n    \r\n    private void resetPrefs(SharedPreferences pref) {\r\n        SharedPreferences.Editor editor = pref.edit();      \r\n        editor.putInt(PREF_LIFES, 6);\r\n        editor.putInt(PREF_HINTS, 6);          \r\n        editor.putInt(PREF_LEVEL, 1);\r\n        editor.putBoolean(PREF_IS_SET,true);\r\n        editor.commit();\r\n    }\r\n\r\n**EDIT 2:** You can put this logic on your `onResume()` method as well, as long as you remove it from the `onCreate()`, otherwise you&#39;ll be checking those conditions twice ;)\r\n\r\n  [1]: http://i.stack.imgur.com/PCU1p.png\r\n  [2]: http://developer.android.com/training/basics/activity-lifecycle/index.html","title":"SharedPreferences not Save if the application is re-open","body":"<p>Thing is, on your <code>onCreate()</code> method you're <strong>always</strong> resetting the shared preferences here:</p>\n<pre><code>SharedPreferences pref = getSharedPreferences(&quot;SavedGame&quot;, MODE_PRIVATE); \nSharedPreferences.Editor editor = pref.edit();      \neditor.putInt(&quot;Lifes&quot;, 6);\neditor.putInt(&quot;Hints&quot;, 6);          \neditor.putInt(&quot;Level&quot;, 1);  \neditor.commit();\n</code></pre>\n<p>Just check if this file exists already before that line with an <code>if</code> statement. That should do the trick.</p>\n<p>Something like:</p>\n<pre><code>if (pref.contains(&quot;Level&quot;)) {\n    // Do not reset\n}\nelse {\n    // Create the prefs\n    SharedPreferences.Editor editor = pref.edit();      \n    editor.putInt(&quot;Lifes&quot;, 6);\n    editor.putInt(&quot;Hints&quot;, 6);          \n    editor.putInt(&quot;Level&quot;, 1);  \n    editor.commit();\n}\n</code></pre>\n<p>You don't have to check for that exact field, it's just an example. Adjust it for your needs and game logic.</p>\n<p>Take a look at the <code>Activity</code> lifecycle to understand why this is happening.</p>\n<p><a href=\"https://i.stack.imgur.com/PCU1p.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PCU1p.png\" alt=\"enter image description here\" /></a></p>\n<p>(diagram <a href=\"http://web.archive.org/web/20140218132043/http://developer.android.com/training/basics/activity-lifecycle/starting.html\" rel=\"nofollow noreferrer\">source</a>)</p>\n<p>Everytime you open your app, the <code>onCreate()</code> method is called, so your prefs get reset before you read them.</p>\n<p>More on the lifecycle <a href=\"http://developer.android.com/training/basics/activity-lifecycle/index.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p><strong>EDIT:</strong> The following snippet shows one way to solve your problem.</p>\n<pre><code>public static final String PREF_LIFES = &quot;Lifes&quot;;\npublic static final String PREF_HINTS = &quot;Hints&quot;;\npublic static final String PREF_LEVEL = &quot;Level&quot;;\npublic static final String PREF_IS_SET = &quot;isSet&quot;;\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    this.requestWindowFeature(Window.FEATURE_NO_TITLE);\n    getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,\n    WindowManager.LayoutParams.FLAG_FULLSCREEN);\n    setContentView(R.layout.menu);\n\n    SharedPreferences pref = getSharedPreferences(&quot;SavedGame&quot;, MODE_PRIVATE); \n\n    // Check wether the pref is set or not.\n    if (pref.getBoolean(PREF_IS_SET.false)) {\n        // The prefs is set. Do some game logic here. Like checking for lifes.\n        if (pref.getInt(PREF_LIFES,0) == 0) {\n            // Player is &quot;dead&quot;, reset it.\n            resetPrefs(pref); \n        }\n        else {\n            // Player is alive, do whatever you want, or do nothing at all.\n        }\n    }\n    else {\n        // if it's not set, just create it.\n        resetPrefs(pref);\n    }\n\n    // ...   \n}\n\nprivate void resetPrefs(SharedPreferences pref) {\n    SharedPreferences.Editor editor = pref.edit();      \n    editor.putInt(PREF_LIFES, 6);\n    editor.putInt(PREF_HINTS, 6);          \n    editor.putInt(PREF_LEVEL, 1);\n    editor.putBoolean(PREF_IS_SET,true);\n    editor.commit();\n}\n</code></pre>\n<p><strong>EDIT 2:</strong> You can put this logic on your <code>onResume()</code> method as well, as long as you remove it from the <code>onCreate()</code>, otherwise you'll be checking those conditions twice ;)</p>\n"},{"tags":[],"owner":{"account_id":2305114,"reputation":8699,"user_id":2024527,"accept_rate":80,"display_name":"SANAT"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1439814908,"creation_date":1439814908,"answer_id":32050574,"question_id":32050420,"body_markdown":"This happens because when you start your app your menu.class reset or commit the shared preferences data by your code in menu.class file onCreate() like this : \r\n\r\n    SharedPreferences pref = getSharedPreferences(&quot;SavedGame&quot;, MODE_PRIVATE); \r\n    SharedPreferences.Editor editor = pref.edit();      \r\n    editor.putInt(&quot;Lifes&quot;, 6);\r\n    editor.putInt(&quot;Hints&quot;, 6);          \r\n    editor.putInt(&quot;Level&quot;, 1);  \r\n    editor.commit();\r\n\r\nYou need to check first if shared preferences already available with your shared preferences name, if no then initialise shared preferences code like this :\r\n\r\n    if() // Check your shared preferences already not available then initialise it\r\n    {\r\n         SharedPreferences pref = getSharedPreferences(&quot;SavedGame&quot;, MODE_PRIVATE); \r\n         SharedPreferences.Editor editor = pref.edit();      \r\n         editor.putInt(&quot;Lifes&quot;, 6);\r\n         editor.putInt(&quot;Hints&quot;, 6);          \r\n         editor.putInt(&quot;Level&quot;, 1);  \r\n         editor.commit();\r\n    }","title":"SharedPreferences not Save if the application is re-open","body":"<p>This happens because when you start your app your menu.class reset or commit the shared preferences data by your code in menu.class file onCreate() like this : </p>\n\n<pre><code>SharedPreferences pref = getSharedPreferences(\"SavedGame\", MODE_PRIVATE); \nSharedPreferences.Editor editor = pref.edit();      \neditor.putInt(\"Lifes\", 6);\neditor.putInt(\"Hints\", 6);          \neditor.putInt(\"Level\", 1);  \neditor.commit();\n</code></pre>\n\n<p>You need to check first if shared preferences already available with your shared preferences name, if no then initialise shared preferences code like this :</p>\n\n<pre><code>if() // Check your shared preferences already not available then initialise it\n{\n     SharedPreferences pref = getSharedPreferences(\"SavedGame\", MODE_PRIVATE); \n     SharedPreferences.Editor editor = pref.edit();      \n     editor.putInt(\"Lifes\", 6);\n     editor.putInt(\"Hints\", 6);          \n     editor.putInt(\"Level\", 1);  \n     editor.commit();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6776456,"reputation":169,"user_id":5218083,"accept_rate":71,"display_name":"RichFounders"},"score":0,"creation_date":1439816701,"post_id":32050575,"comment_id":52001567,"body_markdown":"so how to fix this condition sonic?","body":"so how to fix this condition sonic?"},{"owner":{"account_id":2447909,"reputation":505,"user_id":2134801,"display_name":"Raymond Lukanta"},"score":0,"creation_date":1439817520,"post_id":32050575,"comment_id":52002100,"body_markdown":"I think you should check whether the `pref` has been set or not.\nIf it has been set, do nothing. Otherwise, set the `pref`.","body":"I think you should check whether the <code>pref</code> has been set or not. If it has been set, do nothing. Otherwise, set the <code>pref</code>."},{"owner":{"account_id":5215474,"reputation":1894,"user_id":4170584,"display_name":"sonic"},"score":0,"creation_date":1439820113,"post_id":32050575,"comment_id":52003865,"body_markdown":"You can say like @Raymond Lukanta say. Or you can delete this line and set a default value to your preferences.","body":"You can say like @Raymond Lukanta say. Or you can delete this line and set a default value to your preferences."}],"tags":[],"owner":{"account_id":5215474,"reputation":1894,"user_id":4170584,"display_name":"sonic"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1439814908,"creation_date":1439814908,"answer_id":32050575,"question_id":32050420,"body_markdown":"You have the following lines in your `onCreate` method :\r\n\r\n    SharedPreferences pref = getSharedPreferences(&quot;SavedGame&quot;, MODE_PRIVATE); \r\n    SharedPreferences.Editor editor = pref.edit();      \r\n    editor.putInt(&quot;Lifes&quot;, 6);\r\n    editor.putInt(&quot;Hints&quot;, 6);          \r\n    editor.putInt(&quot;Level&quot;, 1);  \r\n    editor.commit();\r\n\r\nThe `onCreate` method is run every time needed by the actvity lifecycle. Especially when openning the app. So everytime your activity is created you set the preference level to one. This is the reason of your issue.","title":"SharedPreferences not Save if the application is re-open","body":"<p>You have the following lines in your <code>onCreate</code> method :</p>\n\n<pre><code>SharedPreferences pref = getSharedPreferences(\"SavedGame\", MODE_PRIVATE); \nSharedPreferences.Editor editor = pref.edit();      \neditor.putInt(\"Lifes\", 6);\neditor.putInt(\"Hints\", 6);          \neditor.putInt(\"Level\", 1);  \neditor.commit();\n</code></pre>\n\n<p>The <code>onCreate</code> method is run every time needed by the actvity lifecycle. Especially when openning the app. So everytime your activity is created you set the preference level to one. This is the reason of your issue.</p>\n"},{"tags":[],"owner":{"account_id":236188,"reputation":15922,"user_id":503508,"accept_rate":81,"display_name":"Knossos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1439814928,"creation_date":1439814928,"answer_id":32050581,"question_id":32050420,"body_markdown":"Everytime you create your Activity, you are reseting your saved `Preferences`:\r\n\r\n    SharedPreferences pref = getSharedPreferences(&quot;SavedGame&quot;, MODE_PRIVATE); \r\n    SharedPreferences.Editor editor = pref.edit();      \r\n    editor.putInt(&quot;Lifes&quot;, 6);\r\n    editor.putInt(&quot;Hints&quot;, 6);          \r\n    editor.putInt(&quot;Level&quot;, 1);  \r\n    editor.commit();\r\n\r\nYou should only save your `Preferences` when they are changed.","title":"SharedPreferences not Save if the application is re-open","body":"<p>Everytime you create your Activity, you are reseting your saved <code>Preferences</code>:</p>\n\n<pre><code>SharedPreferences pref = getSharedPreferences(\"SavedGame\", MODE_PRIVATE); \nSharedPreferences.Editor editor = pref.edit();      \neditor.putInt(\"Lifes\", 6);\neditor.putInt(\"Hints\", 6);          \neditor.putInt(\"Level\", 1);  \neditor.commit();\n</code></pre>\n\n<p>You should only save your <code>Preferences</code> when they are changed.</p>\n"},{"tags":[],"owner":{"account_id":4533024,"reputation":1112,"user_id":3682953,"display_name":"Vishwa"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1439815161,"creation_date":1439815161,"answer_id":32050656,"question_id":32050420,"body_markdown":"i think you didn&#39;t check the existence values of shared Preferences in Menu.class.You just simply assign a default value without proper checking whether the sharedpreferences holds data or not.\r\nIn onCreate\r\n\r\ntry this one on OnCreate of Menu.class\r\n    \r\n    SharedPreferences.Editor editor = pref.edit();   \r\n    //check it with your default value.I used default value as 0   \r\n    int lifes=pref.getInt(&quot;Lifes&quot;, 0);\r\n    if(lifes==0)\r\n    editor.putInt(&quot;Lifes&quot;, 6);\r\n    //check it with your default value.I used default value as 0 \r\n     int hints=pref.getInt(&quot;Hints&quot;, 0);\r\n     if(hints==0\r\n     editor.putInt(&quot;Hints&quot;, 6);          \r\n     //check it with your default value.I used default value as 0\r\n      int level=pref.getInt(&quot;Level&quot;, 0);\r\n      if(level==0)\r\n      editor.putInt(&quot;Level&quot;, 1);  \r\n      editor.commit();","title":"SharedPreferences not Save if the application is re-open","body":"<p>i think you didn't check the existence values of shared Preferences in Menu.class.You just simply assign a default value without proper checking whether the sharedpreferences holds data or not.\nIn onCreate</p>\n\n<p>try this one on OnCreate of Menu.class</p>\n\n<pre><code>SharedPreferences.Editor editor = pref.edit();   \n//check it with your default value.I used default value as 0   \nint lifes=pref.getInt(\"Lifes\", 0);\nif(lifes==0)\neditor.putInt(\"Lifes\", 6);\n//check it with your default value.I used default value as 0 \n int hints=pref.getInt(\"Hints\", 0);\n if(hints==0\n editor.putInt(\"Hints\", 6);          \n //check it with your default value.I used default value as 0\n  int level=pref.getInt(\"Level\", 0);\n  if(level==0)\n  editor.putInt(\"Level\", 1);  \n  editor.commit();\n</code></pre>\n"}],"owner":{"account_id":6776456,"reputation":169,"user_id":5218083,"accept_rate":71,"display_name":"RichFounders"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1100,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":32050571,"answer_count":5,"score":3,"last_activity_date":1671232221,"creation_date":1439814444,"question_id":32050420,"body_markdown":"My sharedpreferences does not save if i re-open my game the data that i saved before with SharedPreferences are not load, setting on my current activity is back to normal again or default\r\n\r\nthis is the image of my button in `menu.class`\r\n\r\n[![enter image description here][1]][1]\r\n\r\nthis is the following code of my `menu.class`\r\n\r\n\r\n\t@Override\r\n\t    protected void onCreate(Bundle savedInstanceState) {\r\n\t\tsuper.onCreate(savedInstanceState);\r\n        this.requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,\r\n        WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n\t\tsetContentView(R.layout.menu);\r\n\t\tSharedPreferences pref = getSharedPreferences(&quot;SavedGame&quot;, MODE_PRIVATE); \r\n\t\tSharedPreferences.Editor editor = pref.edit();\t\t\r\n\t\teditor.putInt(&quot;Lifes&quot;, 6);\r\n\t\teditor.putInt(&quot;Hints&quot;, 6);        \t\r\n\t\teditor.putInt(&quot;Level&quot;, 1);\t\r\n\t\teditor.commit();\r\n\t\t\r\n\t\t f1=(Button)findViewById(R.id.f1);\r\n\t\t   \r\n\t\t f2=(Button)findViewById(R.id.f2);\r\n\t\t f2lock=(ImageView)findViewById(R.id.f2lock);\r\n\t\t   \r\n\t\t\t\t\t\t\t  \t\t\r\n\t   f1.setOnClickListener(new View.OnClickListener() {\r\n\t            @Override\r\n\t            public void onClick(View v){\r\n\t                // TODO Auto-generated method stub\r\n\t            \tIntent i =new Intent(menu.this, levelone.class);\r\n\t                startActivity(i);             \r\n\t            }             \r\n\t        }); \r\n\t\t  \r\n\t    f2.setOnClickListener(new View.OnClickListener() {\r\n\r\n\t   \t     @Override\r\n\t   \t     public void onClick(View v){\r\n\t  \t\t   // TODO Auto-generated method stub\r\n\t              Intent i =new Intent(menu.this, leveltwo.class);\r\n\t              startActivity(i);  \t  \t \r\n\t            }   \t   \t  \r\n\t      });\r\n\t    \r\n\t    f3=(Button)findViewById(R.id.f3);\r\n\t\tf3lock=(ImageView)findViewById(R.id.f3lock);\r\n\t    \r\n\t}\r\n\tpublic void onResume() {\r\n    super.onResume();\r\n    \r\n\t   SharedPreferences pref = getSharedPreferences(&quot;SavedGame&quot;, MODE_PRIVATE); \r\n\t   levelunlocked = pref.getInt(&quot;Level&quot;, 0); \r\n\r\n\t   if(levelunlocked == 2)\r\n\t\t\t\r\n\t\t{\r\n\t\t\tf2.setVisibility(View.VISIBLE);\r\n\t\t\tf2lock.setVisibility(View.GONE);\r\n\t\t}\r\n\t    if(levelunlocked == 3)\r\n\t\t\t\r\n\t\t{\r\n\t\t\tf3.setVisibility(View.VISIBLE);\r\n\t\t\tf3lock.setVisibility(View.GONE);\r\n\t\t}\t\r\n\t\r\n\t\t   SharedPreferences.Editor editor = pref.edit();\r\n\t\t   editor.putInt(&quot;Level&quot;, levelunlocked);\r\n\t\t   editor.commit();\r\n\t}\r\n\t@Override\r\n\tpublic boolean onCreateOptionsMenu(Menu menu) {\r\n\t\t// Inflate the menu; this adds items to the action bar if it is present.\r\n\t\tgetMenuInflater().inflate(R.menu.splashscreen, menu);\r\n\t\treturn true;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean onOptionsItemSelected(MenuItem item) {\r\n\t\t// Handle action bar item clicks here. The action bar will\r\n\t\t// automatically handle clicks on the Home/Up button, so long\r\n\t\t// as you specify a parent activity in AndroidManifest.xml.\r\n\t\tint id = item.getItemId();\r\n\t\tif (id == R.id.action_settings) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn super.onOptionsItemSelected(item);\r\n\t}\r\n    }\r\n\r\nand i had this code in `levelone.class` to get the default value from `menu.class`\r\n\r\n    int gamelifes, gamehints, gamelevel, index=0; \r\n    \r\n    \r\n    SharedPreferences pref = getSharedPreferences(&quot;SavedGame&quot;, MODE_PRIVATE);\r\n    gamelifes = pref.getInt(&quot;Lifes&quot;, 0);\r\n    gamehints = pref.getInt(&quot;Hints&quot;, 0);\r\n    gamelevel = pref.getInt(&quot;Level&quot;, 0);\r\n    \r\n    //the value from sharedpreferences is use to be a text by use code below\r\n    \r\n    lifes1 =(TextView)findViewById(R.id.lifestext1);\r\n    lifes1.setTextColor(Color.RED);\r\n    lifes1.setText(String.valueOf(gamelifes));   \r\n    \r\n    hints1 =(TextView)findViewById(R.id.hintstext1);\r\n    hints1.setTextColor(Color.GRAY);\r\n    hints1.setText(String.valueOf(gamehints));\r\n\r\n \r\n\r\nand to save the sharedpreferences with new data\r\n\r\n    String answer=edittextanswer1.getText().toString();              \r\n                if(answer.equalsIgnoreCase(answer1[index]))\r\n                {\r\n                    gamelevel++;                \r\n                    image.setVisibility(View.GONE); \r\n                    finishbutton.setVisibility(View.VISIBLE);  \r\n                    SharedPreferences pref = getSharedPreferences(&quot;SavedGame&quot;, MODE_PRIVATE); \r\n                    SharedPreferences.Editor editor = pref.edit();      \r\n                    editor.putInt(&quot;Lifes&quot;, gamelifes);\r\n                    editor.putInt(&quot;Hints&quot;, gamehints);          \r\n                    editor.putInt(&quot;Level&quot;, gamelevel);  \r\n                    editor.commit();\r\n                else\r\n                {    \r\n                tryagain1.setVisibility(View.VISIBLE);\r\n                gamelifes--;\r\n                lifes1.setText(String.valueOf(gamelifes));\r\n                }\r\n\r\nthen if finish button is clicked it will be like this\r\n\r\n    finishbutton.setOnClickListener(new View.OnClickListener() {\r\n\r\n          public void onClick(View v){\r\n              finish();\r\n          }\r\n       }); \r\n\r\nso `levelone.class` are finish and back to `menu.class`\r\n\r\n[![enter image description here][2]][2]\r\n\r\nand SharedPreferences code its worked properly, every button in `my menu.class` work with the code and be visible!\r\n\r\nbut if i exit the application, its back to normal again\r\n\r\n[![enter image description here][3]][3]\r\n\r\nanyone have a solution to fix my problem here?\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/vnMVr.png\r\n  [2]: http://i.stack.imgur.com/gJSMJ.png\r\n  [3]: http://i.stack.imgur.com/dXhbk.png","title":"SharedPreferences not Save if the application is re-open","body":"<p>My sharedpreferences does not save if i re-open my game the data that i saved before with SharedPreferences are not load, setting on my current activity is back to normal again or default</p>\n\n<p>this is the image of my button in <code>menu.class</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/vnMVr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vnMVr.png\" alt=\"enter image description here\"></a></p>\n\n<p>this is the following code of my <code>menu.class</code></p>\n\n<pre><code>@Override\n    protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    this.requestWindowFeature(Window.FEATURE_NO_TITLE);\n    getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,\n    WindowManager.LayoutParams.FLAG_FULLSCREEN);\n    setContentView(R.layout.menu);\n    SharedPreferences pref = getSharedPreferences(\"SavedGame\", MODE_PRIVATE); \n    SharedPreferences.Editor editor = pref.edit();      \n    editor.putInt(\"Lifes\", 6);\n    editor.putInt(\"Hints\", 6);          \n    editor.putInt(\"Level\", 1);  \n    editor.commit();\n\n     f1=(Button)findViewById(R.id.f1);\n\n     f2=(Button)findViewById(R.id.f2);\n     f2lock=(ImageView)findViewById(R.id.f2lock);\n\n\n   f1.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v){\n                // TODO Auto-generated method stub\n                Intent i =new Intent(menu.this, levelone.class);\n                startActivity(i);             \n            }             \n        }); \n\n    f2.setOnClickListener(new View.OnClickListener() {\n\n         @Override\n         public void onClick(View v){\n           // TODO Auto-generated method stub\n              Intent i =new Intent(menu.this, leveltwo.class);\n              startActivity(i);          \n            }             \n      });\n\n    f3=(Button)findViewById(R.id.f3);\n    f3lock=(ImageView)findViewById(R.id.f3lock);\n\n}\npublic void onResume() {\nsuper.onResume();\n\n   SharedPreferences pref = getSharedPreferences(\"SavedGame\", MODE_PRIVATE); \n   levelunlocked = pref.getInt(\"Level\", 0); \n\n   if(levelunlocked == 2)\n\n    {\n        f2.setVisibility(View.VISIBLE);\n        f2lock.setVisibility(View.GONE);\n    }\n    if(levelunlocked == 3)\n\n    {\n        f3.setVisibility(View.VISIBLE);\n        f3lock.setVisibility(View.GONE);\n    }   \n\n       SharedPreferences.Editor editor = pref.edit();\n       editor.putInt(\"Level\", levelunlocked);\n       editor.commit();\n}\n@Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n    // Inflate the menu; this adds items to the action bar if it is present.\n    getMenuInflater().inflate(R.menu.splashscreen, menu);\n    return true;\n}\n\n@Override\npublic boolean onOptionsItemSelected(MenuItem item) {\n    // Handle action bar item clicks here. The action bar will\n    // automatically handle clicks on the Home/Up button, so long\n    // as you specify a parent activity in AndroidManifest.xml.\n    int id = item.getItemId();\n    if (id == R.id.action_settings) {\n        return true;\n    }\n    return super.onOptionsItemSelected(item);\n}\n}\n</code></pre>\n\n<p>and i had this code in <code>levelone.class</code> to get the default value from <code>menu.class</code></p>\n\n<pre><code>int gamelifes, gamehints, gamelevel, index=0; \n\n\nSharedPreferences pref = getSharedPreferences(\"SavedGame\", MODE_PRIVATE);\ngamelifes = pref.getInt(\"Lifes\", 0);\ngamehints = pref.getInt(\"Hints\", 0);\ngamelevel = pref.getInt(\"Level\", 0);\n\n//the value from sharedpreferences is use to be a text by use code below\n\nlifes1 =(TextView)findViewById(R.id.lifestext1);\nlifes1.setTextColor(Color.RED);\nlifes1.setText(String.valueOf(gamelifes));   \n\nhints1 =(TextView)findViewById(R.id.hintstext1);\nhints1.setTextColor(Color.GRAY);\nhints1.setText(String.valueOf(gamehints));\n</code></pre>\n\n<p>and to save the sharedpreferences with new data</p>\n\n<pre><code>String answer=edittextanswer1.getText().toString();              \n            if(answer.equalsIgnoreCase(answer1[index]))\n            {\n                gamelevel++;                \n                image.setVisibility(View.GONE); \n                finishbutton.setVisibility(View.VISIBLE);  \n                SharedPreferences pref = getSharedPreferences(\"SavedGame\", MODE_PRIVATE); \n                SharedPreferences.Editor editor = pref.edit();      \n                editor.putInt(\"Lifes\", gamelifes);\n                editor.putInt(\"Hints\", gamehints);          \n                editor.putInt(\"Level\", gamelevel);  \n                editor.commit();\n            else\n            {    \n            tryagain1.setVisibility(View.VISIBLE);\n            gamelifes--;\n            lifes1.setText(String.valueOf(gamelifes));\n            }\n</code></pre>\n\n<p>then if finish button is clicked it will be like this</p>\n\n<pre><code>finishbutton.setOnClickListener(new View.OnClickListener() {\n\n      public void onClick(View v){\n          finish();\n      }\n   }); \n</code></pre>\n\n<p>so <code>levelone.class</code> are finish and back to <code>menu.class</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/gJSMJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gJSMJ.png\" alt=\"enter image description here\"></a></p>\n\n<p>and SharedPreferences code its worked properly, every button in <code>my menu.class</code> work with the code and be visible!</p>\n\n<p>but if i exit the application, its back to normal again</p>\n\n<p><a href=\"https://i.stack.imgur.com/dXhbk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dXhbk.png\" alt=\"enter image description here\"></a></p>\n\n<p>anyone have a solution to fix my problem here?</p>\n"},{"tags":["java","android","media"],"comments":[{"owner":{"account_id":2574985,"reputation":3376,"user_id":2232889,"accept_rate":80,"display_name":"Mario Velasco"},"score":0,"creation_date":1441791040,"post_id":8498259,"comment_id":52812503,"body_markdown":"Take a look to this answer with an intent that merges both requests (Camera &amp; Gallery) in a unique Intent: http://stackoverflow.com/a/32475805/2232889","body":"Take a look to this answer with an intent that merges both requests (Camera &amp; Gallery) in a unique Intent: <a href=\"http://stackoverflow.com/a/32475805/2232889\">stackoverflow.com/a/32475805/2232889</a>"},{"owner":{"account_id":5392262,"reputation":4671,"user_id":4294399,"display_name":"General Grievance"},"score":0,"creation_date":1661893175,"post_id":8498259,"comment_id":129879365,"body_markdown":"Does this answer your question? [How to pick an image from gallery (SD Card) for my app?](https://stackoverflow.com/questions/2507898/how-to-pick-an-image-from-gallery-sd-card-for-my-app)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2507898/how-to-pick-an-image-from-gallery-sd-card-for-my-app\">How to pick an image from gallery (SD Card) for my app?</a>"}],"answers":[{"comments":[{"owner":{"account_id":464408,"reputation":26765,"user_id":867895,"accept_rate":75,"display_name":"coder_For_Life22"},"score":0,"creation_date":1323823540,"post_id":8498269,"comment_id":10517551,"body_markdown":"Also you can get more info here http://stackoverflow.com/questions/2507898/how-to-pick-a-image-from-gallery-sd-card-for-my-app-in-android","body":"Also you can get more info here <a href=\"http://stackoverflow.com/questions/2507898/how-to-pick-a-image-from-gallery-sd-card-for-my-app-in-android\" title=\"how to pick a image from gallery sd card for my app in android\">stackoverflow.com/questions/2507898/&hellip;</a>"},{"owner":{"account_id":455586,"reputation":32079,"user_id":853836,"accept_rate":84,"display_name":"Addev"},"score":0,"creation_date":1323824398,"post_id":8498269,"comment_id":10517687,"body_markdown":"Thanks for your answers, but I dont need the Bitmap at this moment, I&#39;m handling an int[] with the app&#39;s image resources and I want to add the image selected by the user","body":"Thanks for your answers, but I dont need the Bitmap at this moment, I&#39;m handling an int[] with the app&#39;s image resources and I want to add the image selected by the user"},{"owner":{"account_id":464408,"reputation":26765,"user_id":867895,"accept_rate":75,"display_name":"coder_For_Life22"},"score":0,"creation_date":1323824540,"post_id":8498269,"comment_id":10517707,"body_markdown":"The code i give you allows you to add the image selected by the user.","body":"The code i give you allows you to add the image selected by the user."},{"owner":{"account_id":1474818,"reputation":8157,"user_id":1385488,"accept_rate":71,"display_name":"Silvia H"},"score":0,"creation_date":1432812157,"post_id":8498269,"comment_id":49085647,"body_markdown":"this code only picks images from gallery, and does not give the user an option to capture an image from the camera like the original question suggested.","body":"this code only picks images from gallery, and does not give the user an option to capture an image from the camera like the original question suggested."}],"tags":[],"owner":{"account_id":464408,"reputation":26765,"user_id":867895,"accept_rate":75,"display_name":"coder_For_Life22"},"comment_count":4,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1671232096,"creation_date":1323823480,"answer_id":8498269,"question_id":8498259,"body_markdown":"Try this as an intent \r\n\r\n    Intent i = new Intent(Intent.ACTION_PICK,\r\n               android.provider.MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\r\n    startActivityForResult(i, ACTIVITY_SELECT_IMAGE);\r\n\r\nHere is how you retreive the returned image.\r\n\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent imageReturnedIntent) { \r\n    super.onActivityResult(requestCode, resultCode, imageReturnedIntent); \r\n\r\n    switch(requestCode) { \r\n    case REQ_CODE_PICK_IMAGE:\r\n        if(resultCode == RESULT_OK){  \r\n            Uri selectedImage = imageReturnedIntent.getData();\r\n            String[] filePathColumn = {MediaStore.Images.Media.DATA};\r\n\r\n            Cursor cursor = getContentResolver().query(selectedImage, filePathColumn, null, null, null);\r\n            cursor.moveToFirst();\r\n\r\n            int columnIndex = cursor.getColumnIndex(filePathColumn[0]);\r\n            String filePath = cursor.getString(columnIndex);\r\n            cursor.close();\r\n\r\n\r\n            Bitmap yourSelectedImage = BitmapFactory.decodeFile(filePath);\r\n        }\r\n    }\r\n    }\r\n\r\n(code from https://stackoverflow.com/a/2508138)\r\n\r\n","title":"Choose an image from camera or gallery","body":"<p>Try this as an intent</p>\n<pre><code>Intent i = new Intent(Intent.ACTION_PICK,\n           android.provider.MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\nstartActivityForResult(i, ACTIVITY_SELECT_IMAGE);\n</code></pre>\n<p>Here is how you retreive the returned image.</p>\n<pre><code>protected void onActivityResult(int requestCode, int resultCode, Intent imageReturnedIntent) { \nsuper.onActivityResult(requestCode, resultCode, imageReturnedIntent); \n\nswitch(requestCode) { \ncase REQ_CODE_PICK_IMAGE:\n    if(resultCode == RESULT_OK){  \n        Uri selectedImage = imageReturnedIntent.getData();\n        String[] filePathColumn = {MediaStore.Images.Media.DATA};\n\n        Cursor cursor = getContentResolver().query(selectedImage, filePathColumn, null, null, null);\n        cursor.moveToFirst();\n\n        int columnIndex = cursor.getColumnIndex(filePathColumn[0]);\n        String filePath = cursor.getString(columnIndex);\n        cursor.close();\n\n\n        Bitmap yourSelectedImage = BitmapFactory.decodeFile(filePath);\n    }\n}\n}\n</code></pre>\n<p>(code from <a href=\"https://stackoverflow.com/a/2508138\">https://stackoverflow.com/a/2508138</a>)</p>\n"}],"owner":{"account_id":455586,"reputation":32079,"user_id":853836,"accept_rate":84,"display_name":"Addev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9683,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":8498269,"answer_count":1,"score":0,"last_activity_date":1671232096,"creation_date":1323823365,"question_id":8498259,"body_markdown":"How can I offer the user the option of choosing an  image from the camera or gallery and retrieve the Resource id associated?","title":"Choose an image from camera or gallery","body":"<p>How can I offer the user the option of choosing an  image from the camera or gallery and retrieve the Resource id associated?</p>\n"},{"tags":["java","security","tomcat","ssl"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1489769818,"post_id":42857957,"comment_id":72832471,"body_markdown":"When the handshake (plaintext) fails usually you can simply use Wireshark on the host or a computer connected to mirroring port to find out what is going wrong. Set the filter to only record the traffic of the IP of the problematic REST client. Afterwards show the recorded handshake to someone that knows a bit on SSL/TLS or educate yourself...","body":"When the handshake (plaintext) fails usually you can simply use Wireshark on the host or a computer connected to mirroring port to find out what is going wrong. Set the filter to only record the traffic of the IP of the problematic REST client. Afterwards show the recorded handshake to someone that knows a bit on SSL/TLS or educate yourself..."},{"owner":{"account_id":1423833,"reputation":1379,"user_id":1347872,"accept_rate":41,"display_name":"Manu"},"score":0,"creation_date":1489842922,"post_id":42857957,"comment_id":72853936,"body_markdown":"@Robert , i think you got my question wrong. I am aware of using wireshark and analyzing the SSL debug logs to identify the issue from a debugging perceptive. But my requirement is different. I am looking for a way , how i can log the ssl handshake failure. Not from a debugging perceptive, but from a logging and auditing perceptive to be aware of the number of unsuccessful SSL handshakes that were tried to the application,","body":"@Robert , i think you got my question wrong. I am aware of using wireshark and analyzing the SSL debug logs to identify the issue from a debugging perceptive. But my requirement is different. I am looking for a way , how i can log the ssl handshake failure. Not from a debugging perceptive, but from a logging and auditing perceptive to be aware of the number of unsuccessful SSL handshakes that were tried to the application,"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1489843606,"post_id":42857957,"comment_id":72854157,"body_markdown":"So your main target is to gather statistical data on the TLD connections - how many fail, and how many work (and may be what TLS version and cipher suite client and server agreed on). This is what you want to achieve, right?","body":"So your main target is to gather statistical data on the TLD connections - how many fail, and how many work (and may be what TLS version and cipher suite client and server agreed on). This is what you want to achieve, right?"},{"owner":{"account_id":1423833,"reputation":1379,"user_id":1347872,"accept_rate":41,"display_name":"Manu"},"score":0,"creation_date":1489958491,"post_id":42857957,"comment_id":72886034,"body_markdown":"Yes @Robert. I am mainly looking for logging only SSL handshake failures.","body":"Yes @Robert. I am mainly looking for logging only SSL handshake failures."},{"owner":{"account_id":148887,"reputation":4330,"user_id":1700467,"display_name":"skadya"},"score":0,"creation_date":1505422454,"post_id":42857957,"comment_id":79419964,"body_markdown":"it appears that tomcat does not provide any way to customized or add listener to log the handshake errors. However you may try to set logging level of logger &quot;org.apache.tomcat.util.net.NioEndpoint&quot; to &quot;DEBUG&quot; and make sure it has appender which log the events at DEBUG level. In log you should someting &quot;Error during SSL handshake&quot;.  see [link](http://grepcode.com/file/repo1.maven.org/maven2/org.apache.tomcat/tomcat-coyote/8.0.24/org/apache/tomcat/util/net/NioEndpoint.java/#1517)","body":"it appears that tomcat does not provide any way to customized or add listener to log the handshake errors. However you may try to set logging level of logger &quot;org.apache.tomcat.util.net.NioEndpoint&quot; to &quot;DEBUG&quot; and make sure it has appender which log the events at DEBUG level. In log you should someting &quot;Error during SSL handshake&quot;.  see <a href=\"http://grepcode.com/file/repo1.maven.org/maven2/org.apache.tomcat/tomcat-coyote/8.0.24/org/apache/tomcat/util/net/NioEndpoint.java/#1517\" rel=\"nofollow noreferrer\">link</a>"}],"answers":[{"comments":[{"owner":{"account_id":1423833,"reputation":1379,"user_id":1347872,"accept_rate":41,"display_name":"Manu"},"score":0,"creation_date":1505491984,"post_id":46240319,"comment_id":79451359,"body_markdown":"Is it possible to enable the logging of underlying java classes tomcat uses for ssl handshake checking?","body":"Is it possible to enable the logging of underlying java classes tomcat uses for ssl handshake checking?"},{"owner":{"account_id":3635878,"reputation":2746,"user_id":3031010,"accept_rate":57,"display_name":"egorlitvinenko"},"score":1,"creation_date":1505508347,"post_id":46240319,"comment_id":79458700,"body_markdown":"Tomcat uses connectors. Nio connectors use JSSE, which I referred.","body":"Tomcat uses connectors. Nio connectors use JSSE, which I referred."}],"tags":[],"owner":{"account_id":3635878,"reputation":2746,"user_id":3031010,"accept_rate":57,"display_name":"egorlitvinenko"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1505564387,"creation_date":1505480722,"answer_id":46240319,"question_id":42857957,"body_markdown":"Unfortunately, it is not possible likely. And it is not related to Tomcat.\r\nLogging of SSL it is not part of standard logging in your application.\r\nYou could try reduce output with following option:\r\n\r\n    -Djava.net.debug=handshake\r\n\r\nSome others:\r\n\r\n* record - Print a trace of each SSL record (at the SSL protocol level).\r\n* handshake - Print each handshake message as it is received\r\n* keygen - Print key generation data for the secret key exchange.\r\n* session - Print SSL session activity.\r\n* defaultctx - Print the default SSL initialization information.\r\n* sslctx - Print information about the SSL context.\r\n* sessioncache - Print information about the SSL session cache.\r\n* keymanager - Print information about calls to the key manager.\r\n* trustmanager - Print information about calls to the trust manager.\r\n* data - For handshake tracing, print out a hex dump of each message.\r\n* verbose - For handshake tracing, print out verbose information.\r\n* plaintext - For record tracing, print out a hex dump of the record.\r\n\r\nSee [docs][1].\r\n\r\nIf you really need this and performance is critical for your application, you could instrument [SSLSocket][2] (in docs you could read about handshake process) with [ASM][3]/[Btrace][4] /etc and check the state of handshake inside it. But in that case you wouldn&#39;t have debug information - only true/false.\r\n\r\nSee also [Tomcat docs][5] with all available settings. There you can read that there is [JSSEImplementation][6] class, which is used in Tomcat. And it is wrapper for JSSE.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/technotes/guides/security/jsse/JSSERefGuide.html#Debug\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/javax/net/ssl/SSLSocket.html\r\n  [3]: http://asm.ow2.org\r\n  [4]: https://github.com/btraceio/btrace\r\n  [5]: https://tomcat.apache.org/tomcat-8.0-doc/config/http.html#SSL_Support\r\n  [6]: https://tomcat.apache.org/tomcat-8.0-doc/api/org/apache/tomcat/util/net/jsse/JSSEImplementation.html","title":"Enable Logging SSL handshake failure(Audit purpose logs) only on Tomcat 8+ with Java","body":"<p>Unfortunately, it is not possible likely. And it is not related to Tomcat.\nLogging of SSL it is not part of standard logging in your application.\nYou could try reduce output with following option:</p>\n\n<pre><code>-Djava.net.debug=handshake\n</code></pre>\n\n<p>Some others:</p>\n\n<ul>\n<li>record - Print a trace of each SSL record (at the SSL protocol level).</li>\n<li>handshake - Print each handshake message as it is received</li>\n<li>keygen - Print key generation data for the secret key exchange.</li>\n<li>session - Print SSL session activity.</li>\n<li>defaultctx - Print the default SSL initialization information.</li>\n<li>sslctx - Print information about the SSL context.</li>\n<li>sessioncache - Print information about the SSL session cache.</li>\n<li>keymanager - Print information about calls to the key manager.</li>\n<li>trustmanager - Print information about calls to the trust manager.</li>\n<li>data - For handshake tracing, print out a hex dump of each message.</li>\n<li>verbose - For handshake tracing, print out verbose information.</li>\n<li>plaintext - For record tracing, print out a hex dump of the record.</li>\n</ul>\n\n<p>See <a href=\"http://docs.oracle.com/javase/6/docs/technotes/guides/security/jsse/JSSERefGuide.html#Debug\" rel=\"noreferrer\">docs</a>.</p>\n\n<p>If you really need this and performance is critical for your application, you could instrument <a href=\"http://docs.oracle.com/javase/6/docs/api/javax/net/ssl/SSLSocket.html\" rel=\"noreferrer\">SSLSocket</a> (in docs you could read about handshake process) with <a href=\"http://asm.ow2.org\" rel=\"noreferrer\">ASM</a>/<a href=\"https://github.com/btraceio/btrace\" rel=\"noreferrer\">Btrace</a> /etc and check the state of handshake inside it. But in that case you wouldn't have debug information - only true/false.</p>\n\n<p>See also <a href=\"https://tomcat.apache.org/tomcat-8.0-doc/config/http.html#SSL_Support\" rel=\"noreferrer\">Tomcat docs</a> with all available settings. There you can read that there is <a href=\"https://tomcat.apache.org/tomcat-8.0-doc/api/org/apache/tomcat/util/net/jsse/JSSEImplementation.html\" rel=\"noreferrer\">JSSEImplementation</a> class, which is used in Tomcat. And it is wrapper for JSSE.</p>\n"},{"comments":[{"owner":{"account_id":2368929,"reputation":1135,"user_id":2074011,"display_name":"toddcscar"},"score":1,"creation_date":1663614860,"post_id":52007295,"comment_id":130277192,"body_markdown":"As the authur stated, they are not interested in solving the logging in a debugging context but a runtime context for auditing.","body":"As the authur stated, they are not interested in solving the logging in a debugging context but a runtime context for auditing."}],"tags":[],"owner":{"account_id":14216491,"reputation":29,"user_id":10270241,"display_name":"Dhaumik"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1535123779,"creation_date":1535123339,"answer_id":52007295,"question_id":42857957,"body_markdown":"I had same issue many times and i cracked it as following way. i had my project setup in intelliJ.\r\n\r\n1. set Debug level of the VM option  : -Djavax.net.debug=all (Edit Configurations-&gt;VM Options) save and apply.\r\n2. Run project(App) in debug mode and check the calls between server and client. you will find there will be additional CertificateRequest call from the server to client in console as below for instance.\r\n\r\n*** CertificateRequest\r\nCert Types: RSA, DSS, ECDSA\r\nSupported Signature Algorithms: SHA512withRSA, Unknown (hash:0x6, signature:0x2), SHA512withECDSA, SHA384withRSA, Unknown (hash:0x5, signature:0x2), SHA384withECDSA, SHA256withRSA, Unknown (hash:0x4, signature:0x2), SHA256withECDSA, SHA224withRSA, Unknown (hash:0x3, signature:0x2), SHA224withECDSA, SHA1withRSA, SHA1withDSA, SHA1withECDSA\r\nCert Authorities:\r\n\r\nCN=Symantec Public Class 3, O=Symantec Corporation, C=US\r\n\r\nCN=Symantec Class 3 Manage, OU=Symantec Trusted Network, O=Symantec, C=US\r\n\r\n[read] MD5 and SHA1 hashes:  len = 302 \r\n\r\n3. If you can see certificate request with &quot;CN&quot; as above that means you are missing these certs in cacert keystore. \r\n\r\nSolution : add missing certs (for our example two certs CN=Symantec Public Class 3 and CN=Symantec Class 3 Manage).\r\n\r\nwe have to understand the calls between server and client by the SSL Protocol, please check the following link to get more information how server and client communicate.\r\n\r\nhttps://docs.oracle.com/javase/6/docs/technotes/guides/security/jsse/JSSERefGuide.html#InstallProbs\r\n\r\n\r\nI will give youtube video demo if someone have issue.\r\n\r\nI hope this solution will help someone.\r\n\r\nThank You.","title":"Enable Logging SSL handshake failure(Audit purpose logs) only on Tomcat 8+ with Java","body":"<p>I had same issue many times and i cracked it as following way. i had my project setup in intelliJ.</p>\n\n<ol>\n<li>set Debug level of the VM option  : -Djavax.net.debug=all (Edit Configurations->VM Options) save and apply.</li>\n<li>Run project(App) in debug mode and check the calls between server and client. you will find there will be additional CertificateRequest call from the server to client in console as below for instance.</li>\n</ol>\n\n<p>*** CertificateRequest\nCert Types: RSA, DSS, ECDSA\nSupported Signature Algorithms: SHA512withRSA, Unknown (hash:0x6, signature:0x2), SHA512withECDSA, SHA384withRSA, Unknown (hash:0x5, signature:0x2), SHA384withECDSA, SHA256withRSA, Unknown (hash:0x4, signature:0x2), SHA256withECDSA, SHA224withRSA, Unknown (hash:0x3, signature:0x2), SHA224withECDSA, SHA1withRSA, SHA1withDSA, SHA1withECDSA\nCert Authorities:</p>\n\n<p>CN=Symantec Public Class 3, O=Symantec Corporation, C=US</p>\n\n<p>CN=Symantec Class 3 Manage, OU=Symantec Trusted Network, O=Symantec, C=US</p>\n\n<p>[read] MD5 and SHA1 hashes:  len = 302 </p>\n\n<ol start=\"3\">\n<li>If you can see certificate request with \"CN\" as above that means you are missing these certs in cacert keystore. </li>\n</ol>\n\n<p>Solution : add missing certs (for our example two certs CN=Symantec Public Class 3 and CN=Symantec Class 3 Manage).</p>\n\n<p>we have to understand the calls between server and client by the SSL Protocol, please check the following link to get more information how server and client communicate.</p>\n\n<p><a href=\"https://docs.oracle.com/javase/6/docs/technotes/guides/security/jsse/JSSERefGuide.html#InstallProbs\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/6/docs/technotes/guides/security/jsse/JSSERefGuide.html#InstallProbs</a></p>\n\n<p>I will give youtube video demo if someone have issue.</p>\n\n<p>I hope this solution will help someone.</p>\n\n<p>Thank You.</p>\n"},{"tags":[],"owner":{"account_id":11431245,"reputation":11,"user_id":16368113,"display_name":"Keith Boone"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671231872,"creation_date":1671231872,"answer_id":74830586,"question_id":42857957,"body_markdown":"I [wrote this up][1] years ago, something similar should work in more recent versions of Tomcat.\r\n\r\nSadly, that was in Tomcat 5 or 6.  I have the same problem today in Tomcat 9.  As soon as I figure it out, I&#39;ll let you know what the resolution is.  Basically, you want to capture and report the IOException on a handshake failure.  That needs to be done in the socket factory.\r\n\r\n\r\n  [1]: https://wiki.ihe.net/index.php/ATNA_FAQ#How_do_I_Log_a_message_when_someone_fails_to_connect_to_Tomcat.3F","title":"Enable Logging SSL handshake failure(Audit purpose logs) only on Tomcat 8+ with Java","body":"<p>I <a href=\"https://wiki.ihe.net/index.php/ATNA_FAQ#How_do_I_Log_a_message_when_someone_fails_to_connect_to_Tomcat.3F\" rel=\"nofollow noreferrer\">wrote this up</a> years ago, something similar should work in more recent versions of Tomcat.</p>\n<p>Sadly, that was in Tomcat 5 or 6.  I have the same problem today in Tomcat 9.  As soon as I figure it out, I'll let you know what the resolution is.  Basically, you want to capture and report the IOException on a handshake failure.  That needs to be done in the socket factory.</p>\n"}],"owner":{"account_id":1423833,"reputation":1379,"user_id":1347872,"accept_rate":41,"display_name":"Manu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37279,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":3,"score":18,"last_activity_date":1671231872,"creation_date":1489754737,"question_id":42857957,"body_markdown":"I need to log if a SSL handshake fails while a REST client tries to connect to my application. The application is build using Spring Boot and Java 8 and deployed on Tomcat 8. \r\n\r\nIn the scenario of SSL handshake failing, since the TLS connection is broken, the logging requirement might have to be done in the Tomcat layer or Java, since Tomcat is using underlying JVM for SSL certificate validation in my case.\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;Connector port=&quot;8443&quot; protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot; SSLEnabled=&quot;true&quot; scheme=&quot;https&quot; secure=&quot;true&quot; keystoreFile=&quot;keyStore-1.jks&quot; keystorePass=&quot;password&quot; keystoreType=&quot;jks&quot; truststoreFile=&quot;TrustStore.jks&quot; truststorePass=&quot;passwrd&quot; truststoreType=&quot;jks&quot; clientAuth=&quot;want&quot; sslProtocol=&quot;TLSv1.2&quot; /&gt;\r\n\r\nI am aware of enabling the debug level logging. \r\n\r\n&gt; -Djavax.net.debug=ssl\r\n\r\nBut this logs a lot of information and will slow down the process. And log the success SSL valdiations also. Is there a way to enable the failure cases alone with minimum logs either at Java or Tomcat level. \r\n\r\nI am NOT looking this from a debugging perspective, as the SSL debug logs are very good for that. \r\nThis requirement is more from a logging and auditing purpose and enabling the debug logs is not a feasible option.A mechanism that logs only the errors happening SSL and not all the hex/cert data.\r\n","title":"Enable Logging SSL handshake failure(Audit purpose logs) only on Tomcat 8+ with Java","body":"<p>I need to log if a SSL handshake fails while a REST client tries to connect to my application. The application is build using Spring Boot and Java 8 and deployed on Tomcat 8. </p>\n\n<p>In the scenario of SSL handshake failing, since the TLS connection is broken, the logging requirement might have to be done in the Tomcat layer or Java, since Tomcat is using underlying JVM for SSL certificate validation in my case.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Connector port=\"8443\" protocol=\"org.apache.coyote.http11.Http11NioProtocol\" SSLEnabled=\"true\" scheme=\"https\" secure=\"true\" keystoreFile=\"keyStore-1.jks\" keystorePass=\"password\" keystoreType=\"jks\" truststoreFile=\"TrustStore.jks\" truststorePass=\"passwrd\" truststoreType=\"jks\" clientAuth=\"want\" sslProtocol=\"TLSv1.2\" /&gt;\n</code></pre>\n\n<p>I am aware of enabling the debug level logging. </p>\n\n<blockquote>\n  <p>-Djavax.net.debug=ssl</p>\n</blockquote>\n\n<p>But this logs a lot of information and will slow down the process. And log the success SSL valdiations also. Is there a way to enable the failure cases alone with minimum logs either at Java or Tomcat level. </p>\n\n<p>I am NOT looking this from a debugging perspective, as the SSL debug logs are very good for that. \nThis requirement is more from a logging and auditing purpose and enabling the debug logs is not a feasible option.A mechanism that logs only the errors happening SSL and not all the hex/cert data.</p>\n"},{"tags":["java","arrays","if-statement","casting"],"comments":[{"owner":{"display_name":"user20716279"},"score":0,"creation_date":1671230365,"post_id":74830400,"comment_id":132062430,"body_markdown":"is X1 and x2 atterbuite has same data type of atterbuite x3 and x4  or what it&#39;s their data type? another way can not the record constructor has overloded version that accept cat and another one that accept dog and so on and in the constructor you do the instailizations of record atterbuite","body":"is X1 and x2 atterbuite has same data type of atterbuite x3 and x4  or what it&#39;s their data type? another way can not the record constructor has overloded version that accept cat and another one that accept dog and so on and in the constructor you do the instailizations of record atterbuite"},{"owner":{"account_id":26159406,"reputation":25,"user_id":19846208,"display_name":"Andre Silva"},"score":0,"creation_date":1671230926,"post_id":74830400,"comment_id":132062541,"body_markdown":"updated the answer. Data types are completely different","body":"updated the answer. Data types are completely different"},{"owner":{"display_name":"user20716279"},"score":0,"creation_date":1671231176,"post_id":74830400,"comment_id":132062580,"body_markdown":"then you can check the link by John or the answer below or if it possible to overload the record constructor as mentioned earlier also check those design pattern https://java-design-patterns.com/ using java","body":"then you can check the link by John or the answer below or if it possible to overload the record constructor as mentioned earlier also check those design pattern <a href=\"https://java-design-patterns.com/\" rel=\"nofollow noreferrer\">java-design-patterns.com</a> using java"}],"answers":[{"tags":[],"owner":{"account_id":134022,"reputation":717193,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671230518,"creation_date":1671230518,"answer_id":74830444,"question_id":74830400,"body_markdown":"One approach is to let each `Animal` map itself to `Record`:\r\n\r\n    abstract class Animal {\r\n        public abstract Record makeRecord();\r\n        ... // other methods\r\n    }\r\n    class Cat extends Animal {\r\n        public Record makeRecord() {\r\n            ... // map the Cat to Record\r\n        }\r\n    }\r\n    class Dog extends Animal {\r\n        public Record makeRecord() {\r\n            ... // map the Dog to Record\r\n        }\r\n    }\r\n\r\nThis lets you avoid the cast, because each class knows how to handle its own attributes.","title":"Avoid else-if statement with cast","body":"<p>One approach is to let each <code>Animal</code> map itself to <code>Record</code>:</p>\n<pre><code>abstract class Animal {\n    public abstract Record makeRecord();\n    ... // other methods\n}\nclass Cat extends Animal {\n    public Record makeRecord() {\n        ... // map the Cat to Record\n    }\n}\nclass Dog extends Animal {\n    public Record makeRecord() {\n        ... // map the Dog to Record\n    }\n}\n</code></pre>\n<p>This lets you avoid the cast, because each class knows how to handle its own attributes.</p>\n"}],"owner":{"account_id":26159406,"reputation":25,"user_id":19846208,"display_name":"Andre Silva"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1671230571,"answer_count":1,"score":0,"last_activity_date":1671231033,"creation_date":1671230168,"question_id":74830400,"body_markdown":"I have several java classes `Cat`, `Dog`, `Lion`, etc that extend class abstract class `Animal`. And these classes have different attributes. For example \r\n\r\nCat has attributes X1, X2. Dog has attributes X3, X4 etc. Data types X1, X2, X3 and X4 are completely different\r\n\r\nNow I have an array of Animals (`animals`) and I want to iterate through this array and map every animal (dog, cat, etc) to a `Record` class.\r\n\r\n\r\nCurrently I am doing it this way\r\n\r\n\r\n     for (Animal animal : animals){  \r\n      Record record = new Record();  \r\n        if (animal instance of Dog){ \r\n          record.setAttribute1 ((Dog)animal.getX1()); \r\n          record.setAttribute2 ((Dog)animal.getX2())\r\n        }\r\n        if (animal instance of Cat){  \r\n          record.setAttribute3 ((Dog)animal.getX3());   \r\n          record.setAttribute4 ((Dog)animal.getX4())\r\n        }    \r\n    \r\n        etc  \r\n     }\r\n\r\nthis is design ill because of the long if-else chain and the dynamic cast\r\n\r\nIs there a way to avoid these 2 problems. Appreciate your help\r\n\r\n","title":"Avoid else-if statement with cast","body":"<p>I have several java classes <code>Cat</code>, <code>Dog</code>, <code>Lion</code>, etc that extend class abstract class <code>Animal</code>. And these classes have different attributes. For example</p>\n<p>Cat has attributes X1, X2. Dog has attributes X3, X4 etc. Data types X1, X2, X3 and X4 are completely different</p>\n<p>Now I have an array of Animals (<code>animals</code>) and I want to iterate through this array and map every animal (dog, cat, etc) to a <code>Record</code> class.</p>\n<p>Currently I am doing it this way</p>\n<pre><code> for (Animal animal : animals){  \n  Record record = new Record();  \n    if (animal instance of Dog){ \n      record.setAttribute1 ((Dog)animal.getX1()); \n      record.setAttribute2 ((Dog)animal.getX2())\n    }\n    if (animal instance of Cat){  \n      record.setAttribute3 ((Dog)animal.getX3());   \n      record.setAttribute4 ((Dog)animal.getX4())\n    }    \n\n    etc  \n }\n</code></pre>\n<p>this is design ill because of the long if-else chain and the dynamic cast</p>\n<p>Is there a way to avoid these 2 problems. Appreciate your help</p>\n"},{"tags":["java","selenium","rest"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1648232581,"post_id":71621355,"comment_id":126580937,"body_markdown":"You might check here: https://www.selenium.dev/documentation/webdriver/bidirectional/bidi_api/#network-interception","body":"You might check here: <a href=\"https://www.selenium.dev/documentation/webdriver/bidirectional/bidi_api/#network-interception\" rel=\"nofollow noreferrer\">selenium.dev/documentation/webdriver/bidirectional/bidi_api/&zwnj;&#8203;&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":25468706,"reputation":11,"user_id":19267305,"display_name":"Colum Wilde"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671230946,"creation_date":1671230882,"answer_id":74830492,"question_id":71621355,"body_markdown":"Looks like this has been added in Selenium 4\r\n\r\n```\r\nNetworkInterceptor interceptor = new NetworkInterceptor(\r\n      driver,\r\n      Route.matching(req -&gt; req.getUri().contains(&quot;myRequestUrl&quot;))\r\n        .to(() -&gt; req -&gt; new HttpResponse()\r\n          .setStatus(200)\r\n          .addHeader(&quot;Content-Type&quot;, MediaType.HTML_UTF_8.toString())\r\n          .setContent(utf8String(&quot;Hello, World!&quot;))));\r\n\r\ndriver.get(&quot;https://www.mywebsite.com&quot;);\r\n\r\nString source = driver.getPageSource();\r\n\r\nassertThat(source).contains(&quot;Hello, World!&quot;);\r\n```\r\n\r\nSee [Network Interception](https://www.selenium.dev/documentation/webdriver/bidirectional/bidi_api/#network-interception)","title":"Is there any way to intercept GET api response via selenium webdriver or rest api and make the response body null to check the error handling on UI?","body":"<p>Looks like this has been added in Selenium 4</p>\n<pre><code>NetworkInterceptor interceptor = new NetworkInterceptor(\n      driver,\n      Route.matching(req -&gt; req.getUri().contains(&quot;myRequestUrl&quot;))\n        .to(() -&gt; req -&gt; new HttpResponse()\n          .setStatus(200)\n          .addHeader(&quot;Content-Type&quot;, MediaType.HTML_UTF_8.toString())\n          .setContent(utf8String(&quot;Hello, World!&quot;))));\n\ndriver.get(&quot;https://www.mywebsite.com&quot;);\n\nString source = driver.getPageSource();\n\nassertThat(source).contains(&quot;Hello, World!&quot;);\n</code></pre>\n<p>See <a href=\"https://www.selenium.dev/documentation/webdriver/bidirectional/bidi_api/#network-interception\" rel=\"nofollow noreferrer\">Network Interception</a></p>\n"}],"owner":{"account_id":24688976,"reputation":1,"user_id":18581758,"display_name":"Kushal Shinde"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671230946,"creation_date":1648231585,"question_id":71621355,"body_markdown":"Is there any way to intercept GET API response via selenium web driver or rest API and make the response body null to check the error handling on UI?","title":"Is there any way to intercept GET api response via selenium webdriver or rest api and make the response body null to check the error handling on UI?","body":"<p>Is there any way to intercept GET API response via selenium web driver or rest API and make the response body null to check the error handling on UI?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1470443087,"post_id":38799379,"comment_id":64968883,"body_markdown":"All of those values are OR&#39;d together, then passed to `setSystemUiVisibility` as a single integer.","body":"All of those values are OR&#39;d together, then passed to <code>setSystemUiVisibility</code> as a single integer."}],"answers":[{"tags":[],"owner":{"account_id":7350428,"reputation":1298,"user_id":5960850,"display_name":"Matthew Woo"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1671230759,"creation_date":1470444430,"answer_id":38799514,"question_id":38799379,"body_markdown":"`setSystemUiVisibility` is actually receiving 1 integer. What you&#39;re seeing here are **bit flags**. All those `View` constants you see are combined using bitwise or.\r\n\r\nThe idea is that a flag represents a toggle: on or off, 1 or 0. A typical way of representing that is with a `boolean` which has values `true` and `false`. But a `boolean` takes up 4 bytes (for simplicity), which is 32 bits. Well, this `boolean` could actually be used to represent 32 different flags then, with 32 places for 1 or 0! Same with an integer (of size 4 bytes). So lets use an integer to hold a bunch of flags, and set all of them to 0 initially.\r\n\r\nWe can then use the bitwise or operator (`|`, note 1 bar, not 2) to specify which bit flag to set to &quot;true&quot; like so:\r\n\r\n    00000000 | 00100000 = 00100000\r\n    00100000 | 00000001 = 00100001\r\n\r\nThe second number is showing which flag we want to set as true. Now your variables have the values (from [documentation][1]):\r\n\r\n    View.SYSTEM_UI_FLAG_LAYOUT_STABLE          = 0x0100 = 0000 0001 0000 0000\r\n    View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION = 0x0200 = 0000 0010 0000 0000\r\n    View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN      = 0x0400 = 0000 0100 0000 0000\r\n    View.SYSTEM_UI_FLAG_HIDE_NAVIGATION        = 0x0002 = 0000 0000 0000 0010\r\n    View.SYSTEM_UI_FLAG_FULLSCREEN             = 0x0004 = 0000 0000 0000 0100\r\n    View.SYSTEM_UI_FLAG_IMMERSIVE              = 0x0800 = 0000 1000 0000 0000\r\n\r\nWhen you combine them all together with bitwise or, you get `0000 1111 0000 0110` = `0x0F06` = 3846.\r\n\r\nNote: I&#39;m not representing 32 bits for simplicity and readability&#39;s sake. All the binary numbers I wrote should have leading 0&#39;s, in case that was confusing.\r\n\r\n  [1]: https://developer.android.com/reference/android/view/View.html#SYSTEM_UI_FLAG_FULLSCREEN","title":"How is this line of code is evaluated in Java (Android)?","body":"<p><code>setSystemUiVisibility</code> is actually receiving 1 integer. What you're seeing here are <strong>bit flags</strong>. All those <code>View</code> constants you see are combined using bitwise or.</p>\n<p>The idea is that a flag represents a toggle: on or off, 1 or 0. A typical way of representing that is with a <code>boolean</code> which has values <code>true</code> and <code>false</code>. But a <code>boolean</code> takes up 4 bytes (for simplicity), which is 32 bits. Well, this <code>boolean</code> could actually be used to represent 32 different flags then, with 32 places for 1 or 0! Same with an integer (of size 4 bytes). So lets use an integer to hold a bunch of flags, and set all of them to 0 initially.</p>\n<p>We can then use the bitwise or operator (<code>|</code>, note 1 bar, not 2) to specify which bit flag to set to &quot;true&quot; like so:</p>\n<pre><code>00000000 | 00100000 = 00100000\n00100000 | 00000001 = 00100001\n</code></pre>\n<p>The second number is showing which flag we want to set as true. Now your variables have the values (from <a href=\"https://developer.android.com/reference/android/view/View.html#SYSTEM_UI_FLAG_FULLSCREEN\" rel=\"nofollow noreferrer\">documentation</a>):</p>\n<pre><code>View.SYSTEM_UI_FLAG_LAYOUT_STABLE          = 0x0100 = 0000 0001 0000 0000\nView.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION = 0x0200 = 0000 0010 0000 0000\nView.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN      = 0x0400 = 0000 0100 0000 0000\nView.SYSTEM_UI_FLAG_HIDE_NAVIGATION        = 0x0002 = 0000 0000 0000 0010\nView.SYSTEM_UI_FLAG_FULLSCREEN             = 0x0004 = 0000 0000 0000 0100\nView.SYSTEM_UI_FLAG_IMMERSIVE              = 0x0800 = 0000 1000 0000 0000\n</code></pre>\n<p>When you combine them all together with bitwise or, you get <code>0000 1111 0000 0110</code> = <code>0x0F06</code> = 3846.</p>\n<p>Note: I'm not representing 32 bits for simplicity and readability's sake. All the binary numbers I wrote should have leading 0's, in case that was confusing.</p>\n"}],"owner":{"account_id":4694486,"reputation":1307,"user_id":3799695,"accept_rate":56,"display_name":"Sandoval0992"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":716,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":38799514,"answer_count":1,"score":2,"last_activity_date":1671230759,"creation_date":1470442890,"question_id":38799379,"body_markdown":"I&#39;m working on the android developer tutorial &quot;[Using Immersive Full-Screen Mode][1]&quot;\r\n\r\nEverything was ok until I found this code snippet. \r\n\r\n    private void hideSystemUI() {\r\n        // Set the IMMERSIVE flag.\r\n        // Set the content to appear under the system bars so that the content\r\n        // doesn&#39;t resize when the system bars hide and show.\r\n        mDecorView.setSystemUiVisibility(\r\n                View.SYSTEM_UI_FLAG_LAYOUT_STABLE\r\n                | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\r\n                | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN\r\n                | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION // hide nav bar\r\n                | View.SYSTEM_UI_FLAG_FULLSCREEN // hide status bar\r\n                | View.SYSTEM_UI_FLAG_IMMERSIVE);\r\n    }\r\n\r\nI&#39;m a little bit confused with the `setSystemUiVisibility(int)` method because I don&#39;t know how this condition is evaluated. \r\n\r\nWhy is this method receiving several integer values?\r\n\r\nMaybe it is a very basic concept about java language but I had never used or seen it before.\r\n\r\n\r\n  [1]: https://developer.android.com/training/system-ui/immersive.html#nonsticky","title":"How is this line of code is evaluated in Java (Android)?","body":"<p>I'm working on the android developer tutorial \"<a href=\"https://developer.android.com/training/system-ui/immersive.html#nonsticky\" rel=\"nofollow\">Using Immersive Full-Screen Mode</a>\"</p>\n\n<p>Everything was ok until I found this code snippet. </p>\n\n<pre><code>private void hideSystemUI() {\n    // Set the IMMERSIVE flag.\n    // Set the content to appear under the system bars so that the content\n    // doesn't resize when the system bars hide and show.\n    mDecorView.setSystemUiVisibility(\n            View.SYSTEM_UI_FLAG_LAYOUT_STABLE\n            | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\n            | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN\n            | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION // hide nav bar\n            | View.SYSTEM_UI_FLAG_FULLSCREEN // hide status bar\n            | View.SYSTEM_UI_FLAG_IMMERSIVE);\n}\n</code></pre>\n\n<p>I'm a little bit confused with the <code>setSystemUiVisibility(int)</code> method because I don't know how this condition is evaluated. </p>\n\n<p>Why is this method receiving several integer values?</p>\n\n<p>Maybe it is a very basic concept about java language but I had never used or seen it before.</p>\n"},{"tags":["java","linux"],"comments":[{"owner":{"display_name":"user1907906"},"score":0,"creation_date":1430386387,"post_id":29964042,"comment_id":48048297,"body_markdown":"How did you install Java? Where? Try `which java`.","body":"How did you install Java? Where? Try <code>which java</code>."},{"owner":{"account_id":4364878,"reputation":5041,"user_id":3560981,"accept_rate":63,"display_name":"Nidhoegger"},"score":1,"creation_date":1430386422,"post_id":29964042,"comment_id":48048319,"body_markdown":"Which distribution do you use and how did you install java? via packaging manager or manually?","body":"Which distribution do you use and how did you install java? via packaging manager or manually?"},{"owner":{"account_id":116285,"reputation":8397,"user_id":304974,"accept_rate":79,"display_name":"Programmer"},"score":0,"creation_date":1430386473,"post_id":29964042,"comment_id":48048351,"body_markdown":"# which java\n/usr/bin/java\n\nI am not sure how the old one was deployed","body":"# which java /usr/bin/java  I am not sure how the old one was deployed"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1430386549,"post_id":29964042,"comment_id":48048395,"body_markdown":"How to install software is not a programming question.  Please read the Help Centre documentation on what to ask *before* you ask questions.","body":"How to install software is not a programming question.  Please read the Help Centre documentation on what to ask <i>before</i> you ask questions."}],"answers":[{"comments":[{"owner":{"account_id":3333666,"reputation":2544,"user_id":2801909,"accept_rate":33,"display_name":"Vijay Nandwana"},"score":0,"creation_date":1469698066,"post_id":29964091,"comment_id":64648226,"body_markdown":"if you have installed it using rpm package, then default location is /usr/java/jdk1.7.0_xx","body":"if you have installed it using rpm package, then default location is /usr/java/jdk1.7.0_xx"}],"tags":[],"owner":{"display_name":"user1907906"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1430386473,"creation_date":1430386473,"answer_id":29964091,"question_id":29964042,"body_markdown":"Just unpack the new Java version, for example into `/opt`. Then do\r\n\r\n    export JAVA_HOME=/opt/jdk1.8.0_45 \r\n    export PATH=$JAVA_HOME/bin:$PATH\r\n\r\nPut these `export`s into the startup files for your shell and you should be set. It is not necessary to uninstall the Java 7 installation.","title":"How to remove old version of Java and install new version","body":"<p>Just unpack the new Java version, for example into <code>/opt</code>. Then do</p>\n\n<pre><code>export JAVA_HOME=/opt/jdk1.8.0_45 \nexport PATH=$JAVA_HOME/bin:$PATH\n</code></pre>\n\n<p>Put these <code>export</code>s into the startup files for your shell and you should be set. It is not necessary to uninstall the Java 7 installation.</p>\n"},{"comments":[{"owner":{"account_id":1312052,"reputation":4379,"user_id":1259865,"accept_rate":74,"display_name":"Asqan"},"score":0,"creation_date":1529196558,"post_id":29964538,"comment_id":88786165,"body_markdown":"Awesome tutorial! I couldn&#39;t reload PATH but restart the machine, however it works like a charm","body":"Awesome tutorial! I couldn&#39;t reload PATH but restart the machine, however it works like a charm"}],"tags":[],"owner":{"account_id":5684380,"reputation":306,"user_id":4494405,"display_name":"Ksheetij Saini"},"comment_count":1,"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1430387722,"creation_date":1430387722,"answer_id":29964538,"question_id":29964042,"body_markdown":"1. To remove OpenJDK (the one you&#39;ve already installed)\r\n\r\n     `sudo apt-get purge openjdk-\\* `\r\n2. Make a new directory for your new JDK\r\n\r\n    `sudo mkdir -p /usr/local/java `\r\n\r\n3. Copy the file to the directory (you should be in that file path)\r\n\r\n    ` sudo cp -r jdk-8u45-linux-x64.tar.gz /usr/local/java/`\r\n\r\n4. Extract the file \r\n\r\n     `sudo tar xvzf jdk-8u45-linux-x64.tar.gz`\r\n\r\n5. You should add this to your PATH now. To do that:\r\n\r\n   a. Open /etc/profile : `sudo gedit /etc/profile`\r\n\r\n  b. Scroll down (the end) and add the path where your jdk was installed\r\n\r\n   ` JAVA_HOME=/usr/local/java/jdk1.8.0_45\r\nPATH=$PATH:$HOME/bin:$JAVA_HOME/bin\r\nexport JAVA_HOME\r\nexport PATH`\r\n\r\n Save and exit\r\n\r\n6.  Inform your Linux system where your Oracle Java JDK/JRE is located.\r\n\r\n a. Notify the system that Oracle Java JRE is available for use\r\n\r\n `sudo update-alternatives --install &quot;/usr/bin/java&quot; &quot;java&quot; &quot;/usr/local/java/jdk1.8.0_45/bin/java&quot; 1 `\r\n\r\n b. Notify the system that Oracle Java JDK is available for use\r\n\r\n `sudo update-alternatives --install &quot;/usr/bin/javac&quot; &quot;javac&quot; &quot;/usr/local/java/jdk1.8.0_45/bin/javac&quot; 1 `\r\n\r\n c. Notify the system that Oracle Java Web start is available for use\r\n\r\n `sudo update-alternatives --install &quot;/usr/bin/javaws&quot; &quot;javaws&quot; &quot;/usr/local/java/jdk1.8.0_20/bin/javaws&quot; 1 `\r\n\r\n7.  Inform your Linux system that Oracle Java JDK/JRE must be the default Java.\r\n\r\n a. Set the java runtime environment for the system\r\n\r\n `sudo update-alternatives --set java /usr/local/java/jdk1.8.0_45/bin/java`\r\n\r\n b. Set the javac compiler for the system\r\n\r\n `sudo update-alternatives --set javac /usr/local/java/jdk1.8.0_45/bin/javac`\r\n\r\n c. Set Java Web start for the system\r\n\r\n `sudo update-alternatives --set javaws /usr/local/java/jdk1.8.0_20/bin/javaws `\r\n\r\n8. Reload your system wide PATH\r\n\r\n `source /etc/profile`\r\n\r\n9. Check the new version and you&#39;re done!\r\n\r\n     `java -version `","title":"How to remove old version of Java and install new version","body":"<ol>\n<li><p>To remove OpenJDK (the one you've already installed)</p>\n\n<p><code>sudo apt-get purge openjdk-\\*</code></p></li>\n<li><p>Make a new directory for your new JDK</p>\n\n<p><code>sudo mkdir -p /usr/local/java</code></p></li>\n<li><p>Copy the file to the directory (you should be in that file path)</p>\n\n<p><code>sudo cp -r jdk-8u45-linux-x64.tar.gz /usr/local/java/</code></p></li>\n<li><p>Extract the file </p>\n\n<p><code>sudo tar xvzf jdk-8u45-linux-x64.tar.gz</code></p></li>\n<li><p>You should add this to your PATH now. To do that:</p>\n\n<p>a. Open /etc/profile : <code>sudo gedit /etc/profile</code></p>\n\n<p>b. Scroll down (the end) and add the path where your jdk was installed</p>\n\n<p><code>JAVA_HOME=/usr/local/java/jdk1.8.0_45\nPATH=$PATH:$HOME/bin:$JAVA_HOME/bin\nexport JAVA_HOME\nexport PATH</code></p>\n\n<p>Save and exit</p></li>\n<li><p>Inform your Linux system where your Oracle Java JDK/JRE is located.</p>\n\n<p>a. Notify the system that Oracle Java JRE is available for use</p>\n\n<p><code>sudo update-alternatives --install \"/usr/bin/java\" \"java\" \"/usr/local/java/jdk1.8.0_45/bin/java\" 1</code></p>\n\n<p>b. Notify the system that Oracle Java JDK is available for use</p>\n\n<p><code>sudo update-alternatives --install \"/usr/bin/javac\" \"javac\" \"/usr/local/java/jdk1.8.0_45/bin/javac\" 1</code></p>\n\n<p>c. Notify the system that Oracle Java Web start is available for use</p>\n\n<p><code>sudo update-alternatives --install \"/usr/bin/javaws\" \"javaws\" \"/usr/local/java/jdk1.8.0_20/bin/javaws\" 1</code></p></li>\n<li><p>Inform your Linux system that Oracle Java JDK/JRE must be the default Java.</p>\n\n<p>a. Set the java runtime environment for the system</p>\n\n<p><code>sudo update-alternatives --set java /usr/local/java/jdk1.8.0_45/bin/java</code></p>\n\n<p>b. Set the javac compiler for the system</p>\n\n<p><code>sudo update-alternatives --set javac /usr/local/java/jdk1.8.0_45/bin/javac</code></p>\n\n<p>c. Set Java Web start for the system</p>\n\n<p><code>sudo update-alternatives --set javaws /usr/local/java/jdk1.8.0_20/bin/javaws</code></p></li>\n<li><p>Reload your system wide PATH</p>\n\n<p><code>source /etc/profile</code></p></li>\n<li><p>Check the new version and you're done!</p>\n\n<p><code>java -version</code></p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1160047,"reputation":1208,"user_id":1139754,"display_name":"ChaitanyaBhatt"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1504817982,"creation_date":1504817982,"answer_id":46105002,"question_id":29964042,"body_markdown":"On Centos/Redhat\r\n\r\nFirst do : ```rpm -qa|grep jdk```\r\nAnd then : ```rpm -e &lt;the version which you dont want&gt;```","title":"How to remove old version of Java and install new version","body":"<p>On Centos/Redhat</p>\n\n<p>First do : <code>rpm -qa|grep jdk</code>\nAnd then : <code>rpm -e &lt;the version which you dont want&gt;</code></p>\n"},{"tags":[],"owner":{"account_id":5129806,"reputation":151,"user_id":4110424,"display_name":"Rishikesh Fanse"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1580826755,"creation_date":1580826755,"answer_id":60059599,"question_id":29964042,"body_markdown":"I had java 7 installed on my ubuntu machine and wanted java 8. For that i followed the following steps\r\n\r\n 1. purge the older with `sudo apt-get purge openjdk-\\*`\r\n 2. Add repository `sudo add-apt-repository ppa:openjdk-r/ppa`\r\n 3. Update the packages `sudo apt-get update`\r\n 4. Install java 8 with `sudo apt-get install openjdk-8-jdk`\r\n 5. To check list of java versions installed do`sudo update-java-alternatives --list`\r\n 6. Select default java for **java** `sudo update-alternatives --config java`\r\n 7. Select default java for **javac** `sudo update-alternatives --config javac`\r\n 8. check with `java -version` and `javac -version` to check if update version is installed\r\n\r\nI referred following link [Install OpenJDK8 on Unbuntu Trusty][1]\r\n\r\nHope this helps!\r\n\r\n\r\n  [1]: https://www.geofis.org/en/install/install-on-linux/install-openjdk-8-on-ubuntu-trusty/","title":"How to remove old version of Java and install new version","body":"<p>I had java 7 installed on my ubuntu machine and wanted java 8. For that i followed the following steps</p>\n\n<ol>\n<li>purge the older with <code>sudo apt-get purge openjdk-\\*</code></li>\n<li>Add repository <code>sudo add-apt-repository ppa:openjdk-r/ppa</code></li>\n<li>Update the packages <code>sudo apt-get update</code></li>\n<li>Install java 8 with <code>sudo apt-get install openjdk-8-jdk</code></li>\n<li>To check list of java versions installed do<code>sudo update-java-alternatives --list</code></li>\n<li>Select default java for <strong>java</strong> <code>sudo update-alternatives --config java</code></li>\n<li>Select default java for <strong>javac</strong> <code>sudo update-alternatives --config javac</code></li>\n<li>check with <code>java -version</code> and <code>javac -version</code> to check if update version is installed</li>\n</ol>\n\n<p>I referred following link <a href=\"https://www.geofis.org/en/install/install-on-linux/install-openjdk-8-on-ubuntu-trusty/\" rel=\"nofollow noreferrer\">Install OpenJDK8 on Unbuntu Trusty</a></p>\n\n<p>Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":4666504,"reputation":13,"user_id":5427219,"display_name":"marcel uitnederland"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671229518,"creation_date":1670917889,"answer_id":74781540,"question_id":29964042,"body_markdown":"I went to [this article][1], the final option did it for me:\r\n\r\n&gt;A final option for you to consider is `yum remove libpcap`, see how many packages it wants to remove (`yum` won&#39;t actually remove anything until you hit the Y button and press enter), since you may be able to remove these packages and use yum, if it turns out you couldn&#39;t after all, you can roll back with `yum history undo` command (I don&#39;t remember in what version of yum this was implemented in yum, so check first if this sub command is available to you). Also, make sure that you got your repositories pointing to the repos which has these files available.\r\n\r\nAfter that I could remove my old jdk with:\r\n\r\n```\r\nsudo rpm -e java-1.8.0-openjdk-1.8.0.352.b08-2.el7_9\r\n```\r\n\r\n  [1]: https://unix.stackexchange.com/questions/139539/make-rpm-satisfy-dependency-requirements-of-other-installed-packages","title":"How to remove old version of Java and install new version","body":"<p>I went to <a href=\"https://unix.stackexchange.com/questions/139539/make-rpm-satisfy-dependency-requirements-of-other-installed-packages\">this article</a>, the final option did it for me:</p>\n<blockquote>\n<p>A final option for you to consider is <code>yum remove libpcap</code>, see how many packages it wants to remove (<code>yum</code> won't actually remove anything until you hit the Y button and press enter), since you may be able to remove these packages and use yum, if it turns out you couldn't after all, you can roll back with <code>yum history undo</code> command (I don't remember in what version of yum this was implemented in yum, so check first if this sub command is available to you). Also, make sure that you got your repositories pointing to the repos which has these files available.</p>\n</blockquote>\n<p>After that I could remove my old jdk with:</p>\n<pre><code>sudo rpm -e java-1.8.0-openjdk-1.8.0.352.b08-2.el7_9\n</code></pre>\n"}],"owner":{"account_id":116285,"reputation":8397,"user_id":304974,"accept_rate":79,"display_name":"Programmer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73598,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":29964538,"answer_count":5,"score":19,"last_activity_date":1671229518,"creation_date":1430386338,"question_id":29964042,"body_markdown":"I have a Linux box on which Java 1.7 is installed:\r\n\r\n    #java -version\r\n    java version &quot;1.7.0_09-icedtea&quot;\r\n    OpenJDK Runtime Environment (rhel-2.3.4.1.el6_3-x86_64)\r\n    OpenJDK 64-Bit Server VM (build 23.2-b09, mixed mode)\r\n\r\nBut for some new tool I need to install the [jdk-8u45-linux-x64.tar.gz][1]\r\n\r\nSo how can I remove old one and install the new one?\r\n\r\n\r\n  [1]: http://download.oracle.com/otn-pub/java/jdk/8u45-b14/jdk-8u45-linux-x64.tar.gz","title":"How to remove old version of Java and install new version","body":"<p>I have a Linux box on which Java 1.7 is installed:</p>\n\n<pre><code>#java -version\njava version \"1.7.0_09-icedtea\"\nOpenJDK Runtime Environment (rhel-2.3.4.1.el6_3-x86_64)\nOpenJDK 64-Bit Server VM (build 23.2-b09, mixed mode)\n</code></pre>\n\n<p>But for some new tool I need to install the <a href=\"http://download.oracle.com/otn-pub/java/jdk/8u45-b14/jdk-8u45-linux-x64.tar.gz\">jdk-8u45-linux-x64.tar.gz</a></p>\n\n<p>So how can I remove old one and install the new one?</p>\n"},{"tags":["java","bean-io","typehandler"],"answers":[{"tags":[],"owner":{"account_id":2300510,"reputation":2416,"user_id":2020886,"display_name":"nicoschl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671229477,"creation_date":1671229477,"answer_id":74830331,"question_id":32008975,"body_markdown":"You can do the following:\r\n\r\nCreate an instance of your `AmountHandler` for every variation you require in the same place where you define your `StreamBuilder`, for example:\r\n\r\n    AmountHandler amountHandler10_2 = new AmountHandler(10, 2);\r\n    AmountHandler amountHandler3_1 = new AmountHandler(3, 1);\r\n\r\nYou then register each instance with the `StreamBuilder`:\r\n\r\n    final StreamBuilder builder = new StreamBuilder(&quot;builder_name&quot;)\r\n      .format(&quot;xml&quot;)\r\n      .addTypeHandler(&quot;amountHandler10_2&quot;, amountHandler10_2)\r\n      .addTypeHandler(&quot;amountHandler3_1&quot;, amountHandler3_1)\r\n      .addRecord(CustomField.class);\r\n\r\n\r\nThen you reference the appropriate type handler on each `@Field`, using the name you have given the instance when registering it with the `StreamBuilder` and using the `handlerName` property instead of `handlerClass`:\r\n\r\n    @Field(ordinal = 2, length = 8, padding = &#39;0&#39;, align = Align.RIGHT, handlerName = &quot;amountHandler10_2&quot;)\r\n    private BigDecimal firstAmount;\r\n    @Field(ordinal = 3, length = 8, padding = &#39;0&#39;, align = Align.RIGHT, handlerName = &quot;amountHandler3_1&quot;)\r\n    private BigDecimal secondAmount;\r\n\r\nPS: I see this was asked several years ago, somehow it showed up on my RSS feed as a question today. So, I thought, let me answer it in any case, should someone else come across this question.\r\n\r\nA similar question and answer: [BeanIO: Format number with fixed length for integer and decimal places without separator][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/70117545/2020886","title":"BeanIO - Set Properties for @Field to get new instance of ConfigurableTypeHandler","body":"<p>You can do the following:</p>\n<p>Create an instance of your <code>AmountHandler</code> for every variation you require in the same place where you define your <code>StreamBuilder</code>, for example:</p>\n<pre><code>AmountHandler amountHandler10_2 = new AmountHandler(10, 2);\nAmountHandler amountHandler3_1 = new AmountHandler(3, 1);\n</code></pre>\n<p>You then register each instance with the <code>StreamBuilder</code>:</p>\n<pre><code>final StreamBuilder builder = new StreamBuilder(&quot;builder_name&quot;)\n  .format(&quot;xml&quot;)\n  .addTypeHandler(&quot;amountHandler10_2&quot;, amountHandler10_2)\n  .addTypeHandler(&quot;amountHandler3_1&quot;, amountHandler3_1)\n  .addRecord(CustomField.class);\n</code></pre>\n<p>Then you reference the appropriate type handler on each <code>@Field</code>, using the name you have given the instance when registering it with the <code>StreamBuilder</code> and using the <code>handlerName</code> property instead of <code>handlerClass</code>:</p>\n<pre><code>@Field(ordinal = 2, length = 8, padding = '0', align = Align.RIGHT, handlerName = &quot;amountHandler10_2&quot;)\nprivate BigDecimal firstAmount;\n@Field(ordinal = 3, length = 8, padding = '0', align = Align.RIGHT, handlerName = &quot;amountHandler3_1&quot;)\nprivate BigDecimal secondAmount;\n</code></pre>\n<p>PS: I see this was asked several years ago, somehow it showed up on my RSS feed as a question today. So, I thought, let me answer it in any case, should someone else come across this question.</p>\n<p>A similar question and answer: <a href=\"https://stackoverflow.com/a/70117545/2020886\">BeanIO: Format number with fixed length for integer and decimal places without separator</a></p>\n"}],"owner":{"account_id":5832971,"reputation":11,"user_id":4596920,"display_name":"Maraider"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1594,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671229477,"creation_date":1439551701,"question_id":32008975,"body_markdown":"I am using BeanIO to write a fixed format file, which should contain some custom fields. These fields should use the same basic handler class, but they have slightly different parameters. \r\n\r\nI have created a custom `@Record` that stores the data. Example:\r\n\r\n    @Record(minOccurs = 0, maxOccurs = -1)\r\n    @Fields({\r\n        @Field(name = &quot;recordType&quot;, ordinal = 1, length = 2, rid = true, literal = &quot;00&quot;)})         \r\n    public class CustomField{\r\n        @Field(ordinal = 2, length = 8, padding = &#39;0&#39;, align = Align.RIGHT, handlerclass = AmountHandler.class)\r\n        private BigDecimal firstAmount;\r\n\r\n        @Field(ordinal = 3, length = 8, padding = &#39;0&#39;, align = Align.RIGHT, handlerclass = AmountHandler.class)\r\n        private BigDecimal secondAmount;\r\n    }\r\n\r\nI now want to customize the handlerclass based on the field that is going to use it. So I created this class:\r\n\r\n    public class AmountHandler implements ConfigurableTypeHandler{\r\n        private int fraction, length;\r\n\r\n        public AmountHandler (int length, int fraction){\r\n            this.length = length;\r\n            this.fraction = fraction;\r\n        }\r\n\r\n        @Override\r\n        public TypeHandler newInstance(Properties properties) throws IllegalArgumentException {\r\n            length = Integer.parseInt(properties.getProperty(&quot;length&quot;));\r\n            fraction = Integer.parseInt(properties.getProperty(&quot;fraction&quot;));\r\n            return new CustomHandler(length, fraction);;\r\n        }\r\n        //parse and format are not yet implemented. \r\n        @Override\r\n        public Object parse(String text) throws TypeConversionException { return null;}\r\n\r\n        @Override\r\n        public String format(Object value) { return null; }\r\n\r\n        @Override\r\n        public Class&lt;?&gt; getType() { return BigDecimal.class; }\r\n    }\r\n  \r\nHowever, I can&#39;t seem to find any way to set the properties for each field.\r\nHow can I do this? Is there a way to define properties on a `@Field` type? Is there a better way to define a handler class for Objects with custom parameters?","title":"BeanIO - Set Properties for @Field to get new instance of ConfigurableTypeHandler","body":"<p>I am using BeanIO to write a fixed format file, which should contain some custom fields. These fields should use the same basic handler class, but they have slightly different parameters. </p>\n\n<p>I have created a custom <code>@Record</code> that stores the data. Example:</p>\n\n<pre><code>@Record(minOccurs = 0, maxOccurs = -1)\n@Fields({\n    @Field(name = \"recordType\", ordinal = 1, length = 2, rid = true, literal = \"00\")})         \npublic class CustomField{\n    @Field(ordinal = 2, length = 8, padding = '0', align = Align.RIGHT, handlerclass = AmountHandler.class)\n    private BigDecimal firstAmount;\n\n    @Field(ordinal = 3, length = 8, padding = '0', align = Align.RIGHT, handlerclass = AmountHandler.class)\n    private BigDecimal secondAmount;\n}\n</code></pre>\n\n<p>I now want to customize the handlerclass based on the field that is going to use it. So I created this class:</p>\n\n<pre><code>public class AmountHandler implements ConfigurableTypeHandler{\n    private int fraction, length;\n\n    public AmountHandler (int length, int fraction){\n        this.length = length;\n        this.fraction = fraction;\n    }\n\n    @Override\n    public TypeHandler newInstance(Properties properties) throws IllegalArgumentException {\n        length = Integer.parseInt(properties.getProperty(\"length\"));\n        fraction = Integer.parseInt(properties.getProperty(\"fraction\"));\n        return new CustomHandler(length, fraction);;\n    }\n    //parse and format are not yet implemented. \n    @Override\n    public Object parse(String text) throws TypeConversionException { return null;}\n\n    @Override\n    public String format(Object value) { return null; }\n\n    @Override\n    public Class&lt;?&gt; getType() { return BigDecimal.class; }\n}\n</code></pre>\n\n<p>However, I can't seem to find any way to set the properties for each field.\nHow can I do this? Is there a way to define properties on a <code>@Field</code> type? Is there a better way to define a handler class for Objects with custom parameters?</p>\n"},{"tags":["java","spring","jackson","openapi-generator"],"answers":[{"comments":[{"owner":{"account_id":25731249,"reputation":41,"user_id":19486800,"display_name":"bernd"},"score":0,"creation_date":1671469817,"post_id":74830330,"comment_id":132101100,"body_markdown":"thanks skidwiz,\ni tried the x-implements way. this creates for example this class\n`public class SectionItemInput extends SectionItemBase implements generated.model.spring.SectionItem`\nso far so good, but the `SectionItem` is generated as a class, not an interface\n`...\n@JsonSubTypes({\n  @JsonSubTypes.Type(value = SectionItemInput.class, name = &quot;SectionItemInput&quot;),\n  @JsonSubTypes.Type(value = SectionItemOutput.class, name = &quot;SectionItemOutput&quot;),\n})\npublic class SectionItem { ...`\nany idea why this happens and how to fix this?\nthanks, bernd","body":"thanks skidwiz, i tried the x-implements way. this creates for example this class <code>public class SectionItemInput extends SectionItemBase implements generated.model.spring.SectionItem</code> so far so good, but the <code>SectionItem</code> is generated as a class, not an interface <code>... @JsonSubTypes({   @JsonSubTypes.Type(value = SectionItemInput.class, name = &quot;SectionItemInput&quot;),   @JsonSubTypes.Type(value = SectionItemOutput.class, name = &quot;SectionItemOutput&quot;), }) public class SectionItem { ...</code> any idea why this happens and how to fix this? thanks, bernd"},{"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"score":0,"creation_date":1671470598,"post_id":74830330,"comment_id":132101370,"body_markdown":"The Java generator doesn&#39;t support polymorphism (You can see this with the X next to polymorphism in the screenshot I shared in my answer).  That means that, as of right now, it won&#39;t create the interface like you are wanting.  So, when you define the `x-implements` in your generator, you should implement the `SectionItem` generated from the spring generator.  The only other option would be to create your own generator.","body":"The Java generator doesn&#39;t support polymorphism (You can see this with the X next to polymorphism in the screenshot I shared in my answer).  That means that, as of right now, it won&#39;t create the interface like you are wanting.  So, when you define the <code>x-implements</code> in your generator, you should implement the <code>SectionItem</code> generated from the spring generator.  The only other option would be to create your own generator."},{"owner":{"account_id":25731249,"reputation":41,"user_id":19486800,"display_name":"bernd"},"score":0,"creation_date":1673778620,"post_id":74830330,"comment_id":132570069,"body_markdown":"why would the client have the interface generated by the spring generator?\nserver and client are two separate projects without any shared dependencies.","body":"why would the client have the interface generated by the spring generator? server and client are two separate projects without any shared dependencies."}],"tags":[],"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671229476,"creation_date":1671229476,"answer_id":74830330,"question_id":74814730,"body_markdown":"As of right now, the java client generator (and its libraries) doesn&#39;t [currently support polymorphism](https://github.com/OpenAPITools/openapi-generator/blob/master/docs/generators/java.md#schema-support-feature), but the `Spring` [generator does](https://github.com/OpenAPITools/openapi-generator/blob/master/docs/generators/spring.md).\r\n\r\n|**Spring**|**Java**|\r\n|:---:|:---:|\r\n| [![Spring schema support structure][1]][1] | [![enter image description here][2]][2]\r\n\r\nThere are several options to work around this:\r\n1.  You can force the webclient to implement the interface generated by the Spring generator by using the `x-implements` vendor extension.  However, this would require you to use two copies of the same schema, one with and one without the vendor extension.  \r\n2.  you can disable the model generation for your webclient and have it use all of the models generated by the spring generator.  \r\n\r\nHere&#39;s an example of your schema with the x-implements extension.  I took the liberty of cleaning it up a bit as well (I hate those inner classes).\r\n```yml\r\ncomponents:\r\n  schemas:\r\n    Section:\r\n      type: object\r\n      properties:\r\n        items:\r\n          type: array\r\n          items:\r\n            $ref: &quot;#/components/schemas/SectionItem&quot;\r\n    SectionItem:\r\n      oneOf:\r\n        - $ref: &#39;#/components/schemas/SectionItemInput&#39;\r\n        - $ref: &#39;#/components/schemas/SectionItemOutput&#39;\r\n      discriminator:\r\n        propertyName: type\r\n    SectionItemBase:\r\n      required:\r\n        - type\r\n      type: object\r\n      properties:\r\n        type:\r\n          type: string\r\n        name:\r\n          type: string\r\n      discriminator:\r\n        propertyName: type\r\n    SectionItemInput:\r\n      type: object\r\n      allOf:\r\n        - $ref: &#39;#/components/schemas/SectionItemBase&#39;\r\n        - type: object\r\n          title: SectionItemInputDetails\r\n          properties:\r\n            input:\r\n              type: string\r\n      x-implements:\r\n        - &#39;generated.model.spring.SectionItem&#39;\r\n    SectionItemOutput:\r\n      type: object\r\n      allOf:\r\n        - $ref: &#39;#/components/schemas/SectionItemBase&#39;\r\n        - type: object\r\n          title: SectionItemOutputDetails\r\n          properties:\r\n            output:\r\n              type: string\r\n      x-implements:\r\n        - &#39;generated.model.spring.SectionItem&#39;\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/o5X0L.png\r\n  [2]: https://i.stack.imgur.com/AQ1Kh.png","title":"OpenAPI Generator - Java Client generating different model than Spring Server","body":"<p>As of right now, the java client generator (and its libraries) doesn't <a href=\"https://github.com/OpenAPITools/openapi-generator/blob/master/docs/generators/java.md#schema-support-feature\" rel=\"nofollow noreferrer\">currently support polymorphism</a>, but the <code>Spring</code> <a href=\"https://github.com/OpenAPITools/openapi-generator/blob/master/docs/generators/spring.md\" rel=\"nofollow noreferrer\">generator does</a>.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: center;\"><strong>Spring</strong></th>\n<th style=\"text-align: center;\"><strong>Java</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: center;\"><a href=\"https://i.stack.imgur.com/o5X0L.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/o5X0L.png\" alt=\"Spring schema support structure\" /></a></td>\n<td style=\"text-align: center;\"><a href=\"https://i.stack.imgur.com/AQ1Kh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AQ1Kh.png\" alt=\"enter image description here\" /></a></td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>There are several options to work around this:</p>\n<ol>\n<li>You can force the webclient to implement the interface generated by the Spring generator by using the <code>x-implements</code> vendor extension.  However, this would require you to use two copies of the same schema, one with and one without the vendor extension.</li>\n<li>you can disable the model generation for your webclient and have it use all of the models generated by the spring generator.</li>\n</ol>\n<p>Here's an example of your schema with the x-implements extension.  I took the liberty of cleaning it up a bit as well (I hate those inner classes).</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>components:\n  schemas:\n    Section:\n      type: object\n      properties:\n        items:\n          type: array\n          items:\n            $ref: &quot;#/components/schemas/SectionItem&quot;\n    SectionItem:\n      oneOf:\n        - $ref: '#/components/schemas/SectionItemInput'\n        - $ref: '#/components/schemas/SectionItemOutput'\n      discriminator:\n        propertyName: type\n    SectionItemBase:\n      required:\n        - type\n      type: object\n      properties:\n        type:\n          type: string\n        name:\n          type: string\n      discriminator:\n        propertyName: type\n    SectionItemInput:\n      type: object\n      allOf:\n        - $ref: '#/components/schemas/SectionItemBase'\n        - type: object\n          title: SectionItemInputDetails\n          properties:\n            input:\n              type: string\n      x-implements:\n        - 'generated.model.spring.SectionItem'\n    SectionItemOutput:\n      type: object\n      allOf:\n        - $ref: '#/components/schemas/SectionItemBase'\n        - type: object\n          title: SectionItemOutputDetails\n          properties:\n            output:\n              type: string\n      x-implements:\n        - 'generated.model.spring.SectionItem'\n</code></pre>\n"}],"owner":{"account_id":25731249,"reputation":41,"user_id":19486800,"display_name":"bernd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671229476,"creation_date":1671121883,"question_id":74814730,"body_markdown":"I&#39;m trying to create the server and a client from the same api spec (v3.0.2) by using the openapi-generator-maven-plugin (v6.2.1).\r\n\r\nFor the server i&#39;m using\r\n\r\n```\r\n&lt;generatorName&gt;spring&lt;/generatorName&gt;\r\n&lt;library&gt;spring-boot&lt;/library&gt;\r\n```\r\nand for the client\r\n\r\n```\r\n&lt;generatorName&gt;java&lt;/generatorName&gt;\r\n&lt;library&gt;webclient&lt;/library&gt;\r\n```\r\nIn the api spec I&#39;m having an object with a list of items.\r\nThe items can be one of two types.\r\n\r\n```\r\n   Section:\r\n      type: object\r\n      properties:\r\n        items:\r\n          type: array\r\n          items:\r\n            oneOf:\r\n            - $ref: &#39;#/components/schemas/SectionItemInput&#39;\r\n            - $ref: &#39;#/components/schemas/SectionItemOutput&#39;\r\n```\r\nFor the two types I added a base class with a discriminator property set to &#39;type&#39;\r\n\r\n```\r\n    SectionItemBase:\r\n      required:\r\n      - type\r\n      type: object\r\n      properties:\r\n        type:\r\n          type: string\r\n        name:\r\n          type: string\r\n      discriminator:\r\n        propertyName: type\r\n```\r\nFinally the two types look like this\r\n\r\n```\r\n    SectionItemInput:\r\n      type: object\r\n      allOf:\r\n      - $ref: &#39;#/components/schemas/SectionItemBase&#39;\r\n      - type: object\r\n        properties:\r\n          input:\r\n            type: string\r\n\r\n    SectionItemOutput:\r\n      type: object\r\n      allOf:\r\n      - $ref: &#39;#/components/schemas/SectionItemBase&#39;\r\n      - type: object\r\n        properties:\r\n          output:\r\n            type: string\r\n```\r\nAfter building the server, I get these models\r\n\r\nSection.java\r\n```\r\npublic class Section {\r\n  @JsonProperty(&quot;items&quot;)\r\n  @Valid\r\n  private List&lt;SectionItemsInner&gt; items = null;\r\n  ...\r\n```\r\nSectionItemsInner.java\r\n\r\n```\r\n@JsonIgnoreProperties(\r\n  value = &quot;type&quot;, // ignore manually set type, it will be automatically generated by Jackson during serialization\r\n  allowSetters = true // allows the type to be set during deserialization\r\n)\r\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;type&quot;, visible = true)\r\n@JsonSubTypes({\r\n  @JsonSubTypes.Type(value = SectionItemInput.class, name = &quot;SectionItemInput&quot;),\r\n  @JsonSubTypes.Type(value = SectionItemOutput.class, name = &quot;SectionItemOutput&quot;)\r\n})\r\n\r\npublic interface SectionItemsInner {\r\n    public String getType();\r\n}\r\n```\r\nSectionItemBase.java\r\n\r\n```\r\n@JsonIgnoreProperties(\r\n  value = &quot;type&quot;, // ignore manually set type, it will be automatically generated by Jackson during serialization\r\n  allowSetters = true // allows the type to be set during deserialization\r\n)\r\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;type&quot;, visible = true)\r\n@JsonSubTypes({\r\n  @JsonSubTypes.Type(value = SectionItemInput.class, name = &quot;SectionItemInput&quot;),\r\n  @JsonSubTypes.Type(value = SectionItemOutput.class, name = &quot;SectionItemOutput&quot;)\r\n})\r\n\r\npublic class SectionItemBase { ...\r\n```\r\nSectionItemInput.java\r\n```\r\npublic class SectionItemInput extends SectionItemBase implements SectionItemsInner { ...\r\n```\r\nSectionItemOutput.java\r\n```\r\npublic class SectionItemOutput extends SectionItemBase implements SectionItemsInner { ...\r\n```\r\nThis seems fine.\r\n\r\nBut when I build the client I get\r\n\r\nSection.java\r\n\r\n```\r\npublic class Section {\r\n  public static final String JSON_PROPERTY_ITEMS = &quot;items&quot;;\r\n  private List&lt;SectionItemsInner&gt; items = null;\r\n  ...\r\n```\r\nUp until here, it also seems fine. But starting with the SectionItemsInner it differs.\r\n\r\nSectionItemsInner.java\r\n\r\n```\r\n@JsonTypeName(&quot;Section_items_inner&quot;)\r\n@JsonIgnoreProperties(\r\n  value = &quot;type&quot;, // ignore manually set type, it will be automatically generated by Jackson during serialization\r\n  allowSetters = true // allows the type to be set during deserialization\r\n)\r\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;type&quot;, visible = true)\r\n@JsonSubTypes({\r\n  @JsonSubTypes.Type(value = SectionItemInput.class, name = &quot;SectionItemInput&quot;),\r\n  @JsonSubTypes.Type(value = SectionItemOutput.class, name = &quot;SectionItemOutput&quot;),\r\n})\r\n\r\npublic class SectionItemsInner { ...\r\n```\r\nThe generator creates a class instead of an interface like with the server generator.\r\nAlso it has all the properties of the type whichever comes last in the spec for the Section schema.\r\n\r\nSectionItemBase.java\r\n\r\n```\r\n@JsonIgnoreProperties(\r\n  value = &quot;type&quot;, // ignore manually set type, it will be automatically generated by Jackson during serialization\r\n  allowSetters = true // allows the type to be set during deserialization\r\n)\r\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;type&quot;, visible = true)\r\n@JsonSubTypes({\r\n  @JsonSubTypes.Type(value = SectionItemInput.class, name = &quot;SectionItemInput&quot;),\r\n  @JsonSubTypes.Type(value = SectionItemOutput.class, name = &quot;SectionItemOutput&quot;),\r\n})\r\n\r\npublic class SectionItemBase { ...\r\n```\r\nSectionItemBase has just the base properties, but there is no relationship between the SectionItemsInner and the SectionItemBase.\r\n\r\nSectionItemInput.java\r\n\r\n```\r\n@JsonIgnoreProperties(\r\n  value = &quot;type&quot;, // ignore manually set type, it will be automatically generated by Jackson during serialization\r\n  allowSetters = true // allows the type to be set during deserialization\r\n)\r\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;type&quot;, visible = true)\r\n\r\npublic class SectionItemInput extends SectionItemBase { ...\r\n```\r\nSectionItemInput extends SectionItemBase but also has no relation to SectionItemsInner.\r\n\r\nAfter creating the server I wrote a body for a sample request\r\n\r\n```\r\n{\r\n  &quot;items&quot;: [\r\n    {\r\n      &quot;type&quot;: &quot;SectionItemOutput&quot;,\r\n      &quot;name&quot;: &quot;output&quot;,\r\n      &quot;output&quot;: &quot;TestOutput&quot;\r\n    },\r\n    {\r\n      &quot;type&quot;: &quot;SectionItemInput&quot;,\r\n      &quot;name&quot;: &quot;input&quot;,\r\n      &quot;output&quot;: &quot;TestInput&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\nWhen I post this to the server, it gets parsed correctly and I can do something with it.\r\nBut when I try to parse this on the client\r\n\r\n```\r\nInputStream json = ...\r\nObjectMapper mapper = new ObjectMapper();\r\nSection s = mapper.readValue(json, Section .class);\r\n```\r\nI get an error\r\n```\r\ncom.fasterxml.jackson.databind.exc.InvalidTypeIdException: Could not resolve type id &#39;SectionItemOutput&#39;\r\nas a subtype of `org.openapitools.client.model.SectionItemsInner`:\r\nClass `org.openapitools.client.model.SectionItemOutput` not subtype of\r\n`org.openapitools.client.model.SectionItemsInner`\r\n   at [Source: (BufferedInputStream); line: 4, column: 16] (through reference chain:\r\n      org.openapitools.client.model.Section[&quot;items&quot;]-&gt;java.util.ArrayList[0])\r\n```\r\n\r\nI&#39;m very sorry for this long post, but it seems that I&#39;m stucked.\r\nI tried a few different other libraries (okhttp-gson, resttemplate, webclient) but none of them generates code which is compatible.\r\n\r\nThanks for any help or hint, bernd","title":"OpenAPI Generator - Java Client generating different model than Spring Server","body":"<p>I'm trying to create the server and a client from the same api spec (v3.0.2) by using the openapi-generator-maven-plugin (v6.2.1).</p>\n<p>For the server i'm using</p>\n<pre><code>&lt;generatorName&gt;spring&lt;/generatorName&gt;\n&lt;library&gt;spring-boot&lt;/library&gt;\n</code></pre>\n<p>and for the client</p>\n<pre><code>&lt;generatorName&gt;java&lt;/generatorName&gt;\n&lt;library&gt;webclient&lt;/library&gt;\n</code></pre>\n<p>In the api spec I'm having an object with a list of items.\nThe items can be one of two types.</p>\n<pre><code>   Section:\n      type: object\n      properties:\n        items:\n          type: array\n          items:\n            oneOf:\n            - $ref: '#/components/schemas/SectionItemInput'\n            - $ref: '#/components/schemas/SectionItemOutput'\n</code></pre>\n<p>For the two types I added a base class with a discriminator property set to 'type'</p>\n<pre><code>    SectionItemBase:\n      required:\n      - type\n      type: object\n      properties:\n        type:\n          type: string\n        name:\n          type: string\n      discriminator:\n        propertyName: type\n</code></pre>\n<p>Finally the two types look like this</p>\n<pre><code>    SectionItemInput:\n      type: object\n      allOf:\n      - $ref: '#/components/schemas/SectionItemBase'\n      - type: object\n        properties:\n          input:\n            type: string\n\n    SectionItemOutput:\n      type: object\n      allOf:\n      - $ref: '#/components/schemas/SectionItemBase'\n      - type: object\n        properties:\n          output:\n            type: string\n</code></pre>\n<p>After building the server, I get these models</p>\n<p>Section.java</p>\n<pre><code>public class Section {\n  @JsonProperty(&quot;items&quot;)\n  @Valid\n  private List&lt;SectionItemsInner&gt; items = null;\n  ...\n</code></pre>\n<p>SectionItemsInner.java</p>\n<pre><code>@JsonIgnoreProperties(\n  value = &quot;type&quot;, // ignore manually set type, it will be automatically generated by Jackson during serialization\n  allowSetters = true // allows the type to be set during deserialization\n)\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;type&quot;, visible = true)\n@JsonSubTypes({\n  @JsonSubTypes.Type(value = SectionItemInput.class, name = &quot;SectionItemInput&quot;),\n  @JsonSubTypes.Type(value = SectionItemOutput.class, name = &quot;SectionItemOutput&quot;)\n})\n\npublic interface SectionItemsInner {\n    public String getType();\n}\n</code></pre>\n<p>SectionItemBase.java</p>\n<pre><code>@JsonIgnoreProperties(\n  value = &quot;type&quot;, // ignore manually set type, it will be automatically generated by Jackson during serialization\n  allowSetters = true // allows the type to be set during deserialization\n)\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;type&quot;, visible = true)\n@JsonSubTypes({\n  @JsonSubTypes.Type(value = SectionItemInput.class, name = &quot;SectionItemInput&quot;),\n  @JsonSubTypes.Type(value = SectionItemOutput.class, name = &quot;SectionItemOutput&quot;)\n})\n\npublic class SectionItemBase { ...\n</code></pre>\n<p>SectionItemInput.java</p>\n<pre><code>public class SectionItemInput extends SectionItemBase implements SectionItemsInner { ...\n</code></pre>\n<p>SectionItemOutput.java</p>\n<pre><code>public class SectionItemOutput extends SectionItemBase implements SectionItemsInner { ...\n</code></pre>\n<p>This seems fine.</p>\n<p>But when I build the client I get</p>\n<p>Section.java</p>\n<pre><code>public class Section {\n  public static final String JSON_PROPERTY_ITEMS = &quot;items&quot;;\n  private List&lt;SectionItemsInner&gt; items = null;\n  ...\n</code></pre>\n<p>Up until here, it also seems fine. But starting with the SectionItemsInner it differs.</p>\n<p>SectionItemsInner.java</p>\n<pre><code>@JsonTypeName(&quot;Section_items_inner&quot;)\n@JsonIgnoreProperties(\n  value = &quot;type&quot;, // ignore manually set type, it will be automatically generated by Jackson during serialization\n  allowSetters = true // allows the type to be set during deserialization\n)\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;type&quot;, visible = true)\n@JsonSubTypes({\n  @JsonSubTypes.Type(value = SectionItemInput.class, name = &quot;SectionItemInput&quot;),\n  @JsonSubTypes.Type(value = SectionItemOutput.class, name = &quot;SectionItemOutput&quot;),\n})\n\npublic class SectionItemsInner { ...\n</code></pre>\n<p>The generator creates a class instead of an interface like with the server generator.\nAlso it has all the properties of the type whichever comes last in the spec for the Section schema.</p>\n<p>SectionItemBase.java</p>\n<pre><code>@JsonIgnoreProperties(\n  value = &quot;type&quot;, // ignore manually set type, it will be automatically generated by Jackson during serialization\n  allowSetters = true // allows the type to be set during deserialization\n)\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;type&quot;, visible = true)\n@JsonSubTypes({\n  @JsonSubTypes.Type(value = SectionItemInput.class, name = &quot;SectionItemInput&quot;),\n  @JsonSubTypes.Type(value = SectionItemOutput.class, name = &quot;SectionItemOutput&quot;),\n})\n\npublic class SectionItemBase { ...\n</code></pre>\n<p>SectionItemBase has just the base properties, but there is no relationship between the SectionItemsInner and the SectionItemBase.</p>\n<p>SectionItemInput.java</p>\n<pre><code>@JsonIgnoreProperties(\n  value = &quot;type&quot;, // ignore manually set type, it will be automatically generated by Jackson during serialization\n  allowSetters = true // allows the type to be set during deserialization\n)\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;type&quot;, visible = true)\n\npublic class SectionItemInput extends SectionItemBase { ...\n</code></pre>\n<p>SectionItemInput extends SectionItemBase but also has no relation to SectionItemsInner.</p>\n<p>After creating the server I wrote a body for a sample request</p>\n<pre><code>{\n  &quot;items&quot;: [\n    {\n      &quot;type&quot;: &quot;SectionItemOutput&quot;,\n      &quot;name&quot;: &quot;output&quot;,\n      &quot;output&quot;: &quot;TestOutput&quot;\n    },\n    {\n      &quot;type&quot;: &quot;SectionItemInput&quot;,\n      &quot;name&quot;: &quot;input&quot;,\n      &quot;output&quot;: &quot;TestInput&quot;\n    }\n  ]\n}\n</code></pre>\n<p>When I post this to the server, it gets parsed correctly and I can do something with it.\nBut when I try to parse this on the client</p>\n<pre><code>InputStream json = ...\nObjectMapper mapper = new ObjectMapper();\nSection s = mapper.readValue(json, Section .class);\n</code></pre>\n<p>I get an error</p>\n<pre><code>com.fasterxml.jackson.databind.exc.InvalidTypeIdException: Could not resolve type id 'SectionItemOutput'\nas a subtype of `org.openapitools.client.model.SectionItemsInner`:\nClass `org.openapitools.client.model.SectionItemOutput` not subtype of\n`org.openapitools.client.model.SectionItemsInner`\n   at [Source: (BufferedInputStream); line: 4, column: 16] (through reference chain:\n      org.openapitools.client.model.Section[&quot;items&quot;]-&gt;java.util.ArrayList[0])\n</code></pre>\n<p>I'm very sorry for this long post, but it seems that I'm stucked.\nI tried a few different other libraries (okhttp-gson, resttemplate, webclient) but none of them generates code which is compatible.</p>\n<p>Thanks for any help or hint, bernd</p>\n"},{"tags":["java","redis","redis-cluster","lettuce"],"comments":[{"owner":{"account_id":7772347,"reputation":53,"user_id":5881435,"accept_rate":100,"display_name":"Rani Selvaraj"},"score":0,"creation_date":1672735703,"post_id":74488980,"comment_id":132336453,"body_markdown":"hi, have you fixed this?","body":"hi, have you fixed this?"},{"owner":{"account_id":17396826,"reputation":11,"user_id":12606426,"display_name":"Mandeep jain"},"score":0,"creation_date":1673434792,"post_id":74488980,"comment_id":132496848,"body_markdown":"yes, there was an issue in the library. ref :(https://github.com/lettuce-io/lettuce-core/issues/2252)","body":"yes, there was an issue in the library. ref :(<a href=\"https://github.com/lettuce-io/lettuce-core/issues/2252\" rel=\"nofollow noreferrer\">github.com/lettuce-io/lettuce-core/issues/2252</a>)"}],"answers":[{"tags":[],"owner":{"account_id":6523097,"reputation":780,"user_id":5046680,"display_name":"Joey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671229413,"creation_date":1671229413,"answer_id":74830315,"question_id":74488980,"body_markdown":"I had this same problem. I solved it by deleting and restarting my Kubernetes pods. It&#39;s possible that just a restart of Spring Boot would have also worked.","title":"Cannot determine a partition for slot","body":"<p>I had this same problem. I solved it by deleting and restarting my Kubernetes pods. It's possible that just a restart of Spring Boot would have also worked.</p>\n"}],"owner":{"account_id":17396826,"reputation":11,"user_id":12606426,"display_name":"Mandeep jain"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2149,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671229413,"creation_date":1668770868,"question_id":74488980,"body_markdown":"During certain redis operations, I am facing PartitionSelectorException.\r\n\r\n`Caused by: io.lettuce.core.cluster.PartitionSelectorException: Cannot determine a partition for slot 12004. \tat io.lettuce.core.cluster.PooledClusterConnectionProvider.getWriteConnection(PooledClusterConnectionProvider.java:164) \tat io.lettuce.core.cluster.PooledClusterConnectionProvider.getConnectionAsync(PooledClusterConnectionProvider.java:149) \tat io.lettuce.core.cluster.ClusterDistributionChannelWriter.doWrite(ClusterDistributionChannelWriter.java:170) \tat io.lettuce.core.cluster.ClusterDistributionChannelWriter.write(ClusterDistributionChannelWriter.java:103) \tat io.lettuce.core.RedisChannelHandler.dispatch(RedisChannelHandler.java:218) \tat io.lettuce.core.cluster.StatefulRedisClusterConnectionImpl.dispatch(StatefulRedisClusterConnectionImpl.java:216) \tat io.lettuce.core.AbstractRedisAsyncCommands.dispatch(AbstractRedisAsyncCommands.java:676) \tat io.lettuce.core.AbstractRedisAsyncCommands.get(AbstractRedisAsyncCommands.java:960) \tat sun.reflect.GeneratedMethodAccessor425.invoke(Unknown Source) \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) \tat java.lang.reflect.Method.invoke(Method.java:498) \tat io.lettuce.core.cluster.ClusterFutureSyncInvocationHandler.handleInvocation(ClusterFutureSyncInvocationHandler.java:122) \tat io.lettuce.core.internal.AbstractInvocationHandler.invoke(AbstractInvocationHandler.java:80) \tat com.sun.proxy.$Proxy254.get(Unknown Source) \tat org.springframework.data.redis.connection.lettuce.LettuceStringCommands.get(LettuceStringCommands.java:68)`\r\n\r\nCode Configuration\r\n\r\n`ClusterTopologyRefreshOptions topologyRefreshOptions = ClusterTopologyRefreshOptions.builder()`\r\n`.enablePeriodicRefresh(Duration.ofSeconds(30))`\r\n`.enableAllAdaptiveRefreshTriggers()`\r\n`.build();`\r\n\r\n`ClientOptions options = ClusterClientOptions.builder()`\r\n`.disconnectedBehavior(ClientOptions.DisconnectedBehavior.REJECT_COMMANDS)`\r\n`.autoReconnect(true)`\r\n`.topologyRefreshOptions(topologyRefreshOptions)`\r\n`.build();`\r\n\r\n`GenericObjectPoolConfig genericObjectPoolConfig = new GenericObjectPoolConfig();`\r\n`genericObjectPoolConfig.setMinIdle(8);`\r\n`genericObjectPoolConfig.setMaxIdle(16);`\r\n`genericObjectPoolConfig.setMaxTotal(16);`\r\n`LettucePoolingClientConfiguration.builder()`\r\n`.poolConfig(genericObjectPoolConfig)`\r\n`.clientOptions(options)`\r\n`.clientResources(clientResources)`\r\n`.build();`\r\n\r\n#### \r\n\r\nEnvironment\r\n\r\nLettuce version(s): \\[6.1.5.RELEASE\\]\r\n\r\nRedis version: \\[5.0.6\\]\r\n\r\nShards: 6\r\n\r\nNumber of nodes: 12\r\n\r\nAnalysis\r\n\r\nRedis cluster is healthy, all the metrics are as expected.\r\n\r\nSo, could you give me some suggestions. Thank you!","title":"Cannot determine a partition for slot","body":"<p>During certain redis operations, I am facing PartitionSelectorException.</p>\n<p><code>Caused by: io.lettuce.core.cluster.PartitionSelectorException: Cannot determine a partition for slot 12004.    at io.lettuce.core.cluster.PooledClusterConnectionProvider.getWriteConnection(PooledClusterConnectionProvider.java:164)     at io.lettuce.core.cluster.PooledClusterConnectionProvider.getConnectionAsync(PooledClusterConnectionProvider.java:149)     at io.lettuce.core.cluster.ClusterDistributionChannelWriter.doWrite(ClusterDistributionChannelWriter.java:170)  at io.lettuce.core.cluster.ClusterDistributionChannelWriter.write(ClusterDistributionChannelWriter.java:103)    at io.lettuce.core.RedisChannelHandler.dispatch(RedisChannelHandler.java:218)   at io.lettuce.core.cluster.StatefulRedisClusterConnectionImpl.dispatch(StatefulRedisClusterConnectionImpl.java:216)     at io.lettuce.core.AbstractRedisAsyncCommands.dispatch(AbstractRedisAsyncCommands.java:676)     at io.lettuce.core.AbstractRedisAsyncCommands.get(AbstractRedisAsyncCommands.java:960)  at sun.reflect.GeneratedMethodAccessor425.invoke(Unknown Source)    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)    at java.lang.reflect.Method.invoke(Method.java:498)     at io.lettuce.core.cluster.ClusterFutureSyncInvocationHandler.handleInvocation(ClusterFutureSyncInvocationHandler.java:122)     at io.lettuce.core.internal.AbstractInvocationHandler.invoke(AbstractInvocationHandler.java:80)     at com.sun.proxy.$Proxy254.get(Unknown Source)  at org.springframework.data.redis.connection.lettuce.LettuceStringCommands.get(LettuceStringCommands.java:68)</code></p>\n<p>Code Configuration</p>\n<p><code>ClusterTopologyRefreshOptions topologyRefreshOptions = ClusterTopologyRefreshOptions.builder()</code>\n<code>.enablePeriodicRefresh(Duration.ofSeconds(30))</code>\n<code>.enableAllAdaptiveRefreshTriggers()</code>\n<code>.build();</code></p>\n<p><code>ClientOptions options = ClusterClientOptions.builder()</code>\n<code>.disconnectedBehavior(ClientOptions.DisconnectedBehavior.REJECT_COMMANDS)</code>\n<code>.autoReconnect(true)</code>\n<code>.topologyRefreshOptions(topologyRefreshOptions)</code>\n<code>.build();</code></p>\n<p><code>GenericObjectPoolConfig genericObjectPoolConfig = new GenericObjectPoolConfig();</code>\n<code>genericObjectPoolConfig.setMinIdle(8);</code>\n<code>genericObjectPoolConfig.setMaxIdle(16);</code>\n<code>genericObjectPoolConfig.setMaxTotal(16);</code>\n<code>LettucePoolingClientConfiguration.builder()</code>\n<code>.poolConfig(genericObjectPoolConfig)</code>\n<code>.clientOptions(options)</code>\n<code>.clientResources(clientResources)</code>\n<code>.build();</code></p>\n<h4></h4>\n<p>Environment</p>\n<p>Lettuce version(s): [6.1.5.RELEASE]</p>\n<p>Redis version: [5.0.6]</p>\n<p>Shards: 6</p>\n<p>Number of nodes: 12</p>\n<p>Analysis</p>\n<p>Redis cluster is healthy, all the metrics are as expected.</p>\n<p>So, could you give me some suggestions. Thank you!</p>\n"},{"tags":["java","spring","spring-boot","validation","cucumber"],"answers":[{"comments":[{"owner":{"account_id":4397755,"reputation":790,"user_id":3584279,"accept_rate":100,"display_name":"RVA"},"score":0,"creation_date":1671265281,"post_id":74830308,"comment_id":132066031,"body_markdown":"How can I let spring boot set up the majority of my beans but not for some. I&#39;m using some &quot;InMemoryRepository&quot; in my context test to avoid the set up of a database. I need to tell spring to initialize those bean with the in memory implementation instead of the production one (mongodb actually)","body":"How can I let spring boot set up the majority of my beans but not for some. I&#39;m using some &quot;InMemoryRepository&quot; in my context test to avoid the set up of a database. I need to tell spring to initialize those bean with the in memory implementation instead of the production one (mongodb actually)"},{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1671270701,"post_id":74830308,"comment_id":132066672,"body_markdown":"Spring can do that. Read the document I linked. Look for `JDBC` or `JPA`. Though it would be a bad idea to keep trying to achieve your current objective without fully familiarizing yourself with Spring Boot and the tests it provides first.","body":"Spring can do that. Read the document I linked. Look for <code>JDBC</code> or <code>JPA</code>. Though it would be a bad idea to keep trying to achieve your current objective without fully familiarizing yourself with Spring Boot and the tests it provides first."}],"tags":[],"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671229355,"creation_date":1671229355,"answer_id":74830308,"question_id":74829535,"body_markdown":"The `@Valid` annotation [signals the caller of `addContact` that the object should be valid][1]. By directly calling `addContact` you are bypassing that. You may want to consider using `MockMvc` to call your controller instead.\r\n\r\n\r\nI would suggest using Spring boot to setup your application context instead. [Spring Boot has a rich set of features that let you test many aspects of your application easily][2].\r\n\r\n  [1]: https://stackoverflow.com/a/19426570/3945473\r\n  [2]: https://docs.spring.io/spring-boot/docs/2.7.6/reference/html/features.html#features.testing","title":"how to test @valid within cucumber scenario","body":"<p>The <code>@Valid</code> annotation <a href=\"https://stackoverflow.com/a/19426570/3945473\">signals the caller of <code>addContact</code> that the object should be valid</a>. By directly calling <code>addContact</code> you are bypassing that. You may want to consider using <code>MockMvc</code> to call your controller instead.</p>\n<p>I would suggest using Spring boot to setup your application context instead. <a href=\"https://docs.spring.io/spring-boot/docs/2.7.6/reference/html/features.html#features.testing\" rel=\"nofollow noreferrer\">Spring Boot has a rich set of features that let you test many aspects of your application easily</a>.</p>\n"}],"owner":{"account_id":4397755,"reputation":790,"user_id":3584279,"accept_rate":100,"display_name":"RVA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671229355,"creation_date":1671222997,"question_id":74829535,"body_markdown":"Given the following classes :\r\n\r\n```\r\nclass Contact{\r\n   @Getter\r\n   @Setter\r\n   @Email\r\n   private String mail;\r\n}\r\n@RestController\r\nclass ContactController{\r\n   @PostMapping(path = &quot;/contacts&quot;)\r\n    public ResponseEntity&lt;Contact&gt; addContact(\r\n            @Valid @RequestBody Contact contact) {\r\n     ....\r\n    }\r\n}\r\n```\r\nHow can I test in a gherkin scenario ? \r\n\r\nI&#39;ve tried the following :\r\n```  \r\n  Scenario Outline: validation failed use-case\r\n    Given I am authenticated as &quot;&lt;userFirstName&gt;&quot;\r\n    When I register a new contact &quot;&lt;contactJsonLocation&gt;&quot;\r\n    Then it should throw an ConstraintViolationException of contact\r\n    Examples:\r\n      | userFirstName | contactJsonLocation                  | \r\n      | Simon         | contactWithMailNotWellFormatted.json |\r\n```\r\nSteps code : \r\n```    \r\npublic CreateContactSteps(ContactController contactController) {\r\n  When(&quot;^I register a new contact \\&quot;([^\\&quot;]*)\\&quot;$&quot;,\r\n    (String contactJsonLocation) -&gt; {\r\n      try {\r\n        Contact contact;\r\n        String jsonContact = Files.readString(Paths.get(new ClassPathResource(&quot;files/&quot; + contactJsonLocation).getURI()));   \r\n        contact = objectMapper.readValue(jsonContact, Contact.class);\r\n        String id = UUID.randomUUID().toString();\r\n        contact.setId(id);\r\n        createContactAttempt.setId(id);\r\n        createContactAttempt.setMail(contact.getMail());\r\n        contactController.addContact(contact);\r\n      } catch (IOException e) {\r\n        throw new RuntimeException(e);\r\n      } catch (ConstraintViolationException e) {                                \r\n        createContactAttempt.lastException = e;\r\n       }\r\n  });\r\n  \r\n  Then(&quot;^it should throw an ConstraintViolationException of contact$&quot;,\r\n    () -&gt; {\r\n       Assertions.assertTrue(createContactAttempt.lastException instanceof ConstraintViolationException);\r\n        createContactAttempt.lastException = null;\r\n    });\r\n\r\n```\r\n\r\nWhen I&#39;m testing to create a new contact after starting my spring boot app all is going well on the validation part, meaning I&#39;m receiving the expected 400 error.\r\nBut when I&#39;m calling the ContactController from my test context, it fails to valid and the contact is created. \r\nI&#39;m guessing it has something to do with spring doing some magic behind the scene, but what ?\r\nRight now I&#39;m initiating myself the cucumber application context like this (and I might be doing something wrong, I&#39;m open to suggestion / good criticism) : \r\n```\r\n@RunWith(Cucumber.class)\r\n@CucumberOptions(plugin = {&quot;pretty&quot;, &quot;html:FeaturesReport.html&quot;},\r\n        features = {&quot;src/test/resources/features&quot;})\r\npublic class AllAcceptanceTest {\r\n}\r\n\r\n@CucumberContextConfiguration\r\n@ContextConfiguration(classes = {BeanConfiguration.class})\r\npublic class ContextConfigurationTesting implements En {\r\n}\r\n\r\n@Configuration\r\n@RequiredArgsConstructor\r\npublic class ControllerConfiguration {\r\n    @Bean\r\n    public ContactController contactController() {\r\n        return new ContactController(\r\n                ... //every other bean the controller need \r\n        );\r\n    }\r\n    ...\r\n}\r\n\r\n```","title":"how to test @valid within cucumber scenario","body":"<p>Given the following classes :</p>\n<pre><code>class Contact{\n   @Getter\n   @Setter\n   @Email\n   private String mail;\n}\n@RestController\nclass ContactController{\n   @PostMapping(path = &quot;/contacts&quot;)\n    public ResponseEntity&lt;Contact&gt; addContact(\n            @Valid @RequestBody Contact contact) {\n     ....\n    }\n}\n</code></pre>\n<p>How can I test in a gherkin scenario ?</p>\n<p>I've tried the following :</p>\n<pre><code>  Scenario Outline: validation failed use-case\n    Given I am authenticated as &quot;&lt;userFirstName&gt;&quot;\n    When I register a new contact &quot;&lt;contactJsonLocation&gt;&quot;\n    Then it should throw an ConstraintViolationException of contact\n    Examples:\n      | userFirstName | contactJsonLocation                  | \n      | Simon         | contactWithMailNotWellFormatted.json |\n</code></pre>\n<p>Steps code :</p>\n<pre><code>public CreateContactSteps(ContactController contactController) {\n  When(&quot;^I register a new contact \\&quot;([^\\&quot;]*)\\&quot;$&quot;,\n    (String contactJsonLocation) -&gt; {\n      try {\n        Contact contact;\n        String jsonContact = Files.readString(Paths.get(new ClassPathResource(&quot;files/&quot; + contactJsonLocation).getURI()));   \n        contact = objectMapper.readValue(jsonContact, Contact.class);\n        String id = UUID.randomUUID().toString();\n        contact.setId(id);\n        createContactAttempt.setId(id);\n        createContactAttempt.setMail(contact.getMail());\n        contactController.addContact(contact);\n      } catch (IOException e) {\n        throw new RuntimeException(e);\n      } catch (ConstraintViolationException e) {                                \n        createContactAttempt.lastException = e;\n       }\n  });\n  \n  Then(&quot;^it should throw an ConstraintViolationException of contact$&quot;,\n    () -&gt; {\n       Assertions.assertTrue(createContactAttempt.lastException instanceof ConstraintViolationException);\n        createContactAttempt.lastException = null;\n    });\n\n</code></pre>\n<p>When I'm testing to create a new contact after starting my spring boot app all is going well on the validation part, meaning I'm receiving the expected 400 error.\nBut when I'm calling the ContactController from my test context, it fails to valid and the contact is created.\nI'm guessing it has something to do with spring doing some magic behind the scene, but what ?\nRight now I'm initiating myself the cucumber application context like this (and I might be doing something wrong, I'm open to suggestion / good criticism) :</p>\n<pre><code>@RunWith(Cucumber.class)\n@CucumberOptions(plugin = {&quot;pretty&quot;, &quot;html:FeaturesReport.html&quot;},\n        features = {&quot;src/test/resources/features&quot;})\npublic class AllAcceptanceTest {\n}\n\n@CucumberContextConfiguration\n@ContextConfiguration(classes = {BeanConfiguration.class})\npublic class ContextConfigurationTesting implements En {\n}\n\n@Configuration\n@RequiredArgsConstructor\npublic class ControllerConfiguration {\n    @Bean\n    public ContactController contactController() {\n        return new ContactController(\n                ... //every other bean the controller need \n        );\n    }\n    ...\n}\n\n</code></pre>\n"},{"tags":["java","macos","gradle","java-8","ssl-certificate"],"comments":[{"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Michał Krzywański"},"score":0,"creation_date":1584448810,"post_id":60720241,"comment_id":107434648,"body_markdown":"Just to confirm, are you sure that `JAVA_HOME` environment variable correctly points to `/Library/Java/JavaVirtualMachines/jdk1.8.0_241.jdk`?","body":"Just to confirm, are you sure that <code>JAVA_HOME</code> environment variable correctly points to <code>&#47;Library&#47;Java&#47;JavaVirtualMachines&#47;jdk1.8.0_241.jdk</code>?"},{"owner":{"account_id":5310584,"reputation":1464,"user_id":4237080,"accept_rate":75,"display_name":"brienna"},"score":0,"creation_date":1584448854,"post_id":60720241,"comment_id":107434672,"body_markdown":"It points to `/Library/Java/JavaVirtualMachines/jdk1.8.0_241.jdk/Contents/Home` @michalk","body":"It points to <code>&#47;Library&#47;Java&#47;JavaVirtualMachines&#47;jdk1.8.0_241.jdk&#47;Contents&#47;&zwnj;&#8203;Home</code> @michalk"},{"owner":{"account_id":5310584,"reputation":1464,"user_id":4237080,"accept_rate":75,"display_name":"brienna"},"score":0,"creation_date":1584450366,"post_id":60720241,"comment_id":107435445,"body_markdown":"I set this with `echo export &quot;JAVA_HOME=\\$(/usr/libexec/java_home)&quot; &gt;&gt; ~/.bash_profile`.","body":"I set this with <code>echo export &quot;JAVA_HOME=\\$(&#47;usr&#47;libexec&#47;java_home)&quot; &gt;&gt; ~&#47;.bash_profile</code>."}],"answers":[{"comments":[{"owner":{"account_id":5310584,"reputation":1464,"user_id":4237080,"accept_rate":75,"display_name":"brienna"},"score":0,"creation_date":1584847220,"post_id":60762775,"comment_id":107562857,"body_markdown":"I have tried uninstalling and reinstalling Java, wiping my computer and reinstalling the OS. I have tried on my wifi, my school&#39;s wifi, my phone&#39;s hotspot. When I open that SSL session, I see these lines among other lines: `Verification error: unable to get local issuer certificate` and `Verify return code: 20 (unable to get local issuer certificate)` -- is this normal?","body":"I have tried uninstalling and reinstalling Java, wiping my computer and reinstalling the OS. I have tried on my wifi, my school&#39;s wifi, my phone&#39;s hotspot. When I open that SSL session, I see these lines among other lines: <code>Verification error: unable to get local issuer certificate</code> and <code>Verify return code: 20 (unable to get local issuer certificate)</code> -- is this normal?"},{"owner":{"account_id":5310584,"reputation":1464,"user_id":4237080,"accept_rate":75,"display_name":"brienna"},"score":0,"creation_date":1584854583,"post_id":60762775,"comment_id":107563883,"body_markdown":"I followed the steps in http://movingpackets.net/2015/03/18/telling-openssl-about-your-root-certificates/ and got that openssl command to return ok by specifying `-CAfile`, so I exported the CAfile to SSL_CERT_FILE. But the problem still is there with java","body":"I followed the steps in <a href=\"http://movingpackets.net/2015/03/18/telling-openssl-about-your-root-certificates/\" rel=\"nofollow noreferrer\">movingpackets.net/2015/03/18/&hellip;</a> and got that openssl command to return ok by specifying <code>-CAfile</code>, so I exported the CAfile to SSL_CERT_FILE. But the problem still is there with java"},{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":0,"creation_date":1584969323,"post_id":60762775,"comment_id":107596222,"body_markdown":"`$JAVA_HOME/jre/lib/security/cacerts` should be the same as passing `-CAfile`. Try `keytool -list -v -keystore $JAVA_HOME/jre/lib/security/cacerts | grep DigiCert` to see if that keystore works and knows about DigiCert, which is the issuer of the certificate in question.","body":"<code>$JAVA_HOME&#47;jre&#47;lib&#47;security&#47;cacerts</code> should be the same as passing <code>-CAfile</code>. Try <code>keytool -list -v -keystore $JAVA_HOME&#47;jre&#47;lib&#47;security&#47;cacerts | grep DigiCert</code> to see if that keystore works and knows about DigiCert, which is the issuer of the certificate in question."},{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":0,"creation_date":1584970038,"post_id":60762775,"comment_id":107596550,"body_markdown":"`openssl s_client -CAfile $JAVA_HOME/jre/lib/security/cacerts -connect repo1.maven.org:443` would _eventually_ connect with `openssl`, but still use the Java keystore (assuming it can read the format). This would be the CA certificate required to validate the chain: [DigiCertSHA2SecureServerCA.crt](http://cacerts.digicert.com/DigiCertSHA2SecureServerCA.crt)","body":"<code>openssl s_client -CAfile $JAVA_HOME&#47;jre&#47;lib&#47;security&#47;cacerts -connect repo1.maven.org:443</code> would <i>eventually</i> connect with <code>openssl</code>, but still use the Java keystore (assuming it can read the format). This would be the CA certificate required to validate the chain: <a href=\"http://cacerts.digicert.com/DigiCertSHA2SecureServerCA.crt\" rel=\"nofollow noreferrer\">DigiCertSHA2SecureServerCA.crt</a>"}],"tags":[],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"comment_count":4,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1584648132,"creation_date":1584641073,"answer_id":60762775,"question_id":60720241,"body_markdown":"That [SSL certificate][1] is not self-signed to begin with, therefore it does not require manual adding. Try re-installing Java or set an alternate install location as `$JAVA_HOME`, with a default `cacerts` file. Something seems to be broken, as it should not reject the certificate for [`repo1.maven.org`](https://repo1.maven.org/maven2). `ls -la $JAVA_HOME/jre/lib/security/cacerts` says `cacerts` should have about 114757 bytes. If you&#39;re behind a firewall, you might need to [configure a proxy][3] for Gradle.\r\n\r\nThis should attempt an SSL session (not through Java):\r\n\r\n    $ openssl s_client -connect repo1.maven.org:443\r\n\r\n ---\r\n\r\nThis project also uses a rather [outdated version][2] of Gradle, eg:\r\n\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-5.6.4-all.zip\r\n\r\n  [1]: https://www.ssllabs.com/ssltest/analyze.html?d=repo1.maven.org\r\n  [2]: https://github.com/lenskit/lenskit-hello/blob/master/gradle/wrapper/gradle-wrapper.properties#L6\r\n  [3]: https://docs.gradle.org/current/userguide/build_environment.html#sec:accessing_the_web_via_a_proxy","title":"Gradle build fails due to sun.security.validator.ValidatorException despite installing certificates","body":"<p>That <a href=\"https://www.ssllabs.com/ssltest/analyze.html?d=repo1.maven.org\" rel=\"noreferrer\">SSL certificate</a> is not self-signed to begin with, therefore it does not require manual adding. Try re-installing Java or set an alternate install location as <code>$JAVA_HOME</code>, with a default <code>cacerts</code> file. Something seems to be broken, as it should not reject the certificate for <a href=\"https://repo1.maven.org/maven2\" rel=\"noreferrer\"><code>repo1.maven.org</code></a>. <code>ls -la $JAVA_HOME/jre/lib/security/cacerts</code> says <code>cacerts</code> should have about 114757 bytes. If you're behind a firewall, you might need to <a href=\"https://docs.gradle.org/current/userguide/build_environment.html#sec:accessing_the_web_via_a_proxy\" rel=\"noreferrer\">configure a proxy</a> for Gradle.</p>\n\n<p>This should attempt an SSL session (not through Java):</p>\n\n<pre><code>$ openssl s_client -connect repo1.maven.org:443\n</code></pre>\n\n<hr>\n\n<p>This project also uses a rather <a href=\"https://github.com/lenskit/lenskit-hello/blob/master/gradle/wrapper/gradle-wrapper.properties#L6\" rel=\"noreferrer\">outdated version</a> of Gradle, eg:</p>\n\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-5.6.4-all.zip\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3569155,"reputation":3306,"user_id":2979955,"display_name":"Chris Sprague"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671229223,"creation_date":1671229223,"answer_id":74830293,"question_id":60720241,"body_markdown":"Setting my project Gradle JDK version to that used by JAVA_HOME solved it\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/x3ouy.png\r\n  [2]: https://i.stack.imgur.com/HOdH1.png\r\n  [3]: https://i.stack.imgur.com/YedJG.png","title":"Gradle build fails due to sun.security.validator.ValidatorException despite installing certificates","body":"<p>Setting my project Gradle JDK version to that used by JAVA_HOME solved it</p>\n<p><a href=\"https://i.stack.imgur.com/x3ouy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/x3ouy.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/HOdH1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HOdH1.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/YedJG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YedJG.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":5310584,"reputation":1464,"user_id":4237080,"accept_rate":75,"display_name":"brienna"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28985,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"answer_count":2,"score":9,"last_activity_date":1671229223,"creation_date":1584440176,"question_id":60720241,"body_markdown":"I&#39;m trying to run [lenskit-hello][1] according to their instructions. When I run `./gradlew build`, I receive the error\r\n\r\n```\r\n(base) Briennas-MBP:lenskit-hello-master briennakh$ ./gradlew build\r\n:compileJava\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nCould not resolve all dependencies for configuration &#39;:compileClasspath&#39;.\r\n&gt; Could not resolve org.lenskit:lenskit-all:3.0-M3.\r\n  Required by:\r\n      :lenskit-hello-master 4.50.57 AM:unspecified\r\n   &gt; Could not resolve org.lenskit:lenskit-all:3.0-M3.\r\n      &gt; Could not get resource &#39;https://repo1.maven.org/maven2/org/lenskit/lenskit-all/3.0-M3/lenskit-all-3.0-M3.pom&#39;.\r\n         &gt; Could not GET &#39;https://repo1.maven.org/maven2/org/lenskit/lenskit-all/3.0-M3/lenskit-all-3.0-M3.pom&#39;.\r\n            &gt; sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n   &gt; Could not resolve org.lenskit:lenskit-all:3.0-M3.\r\n      &gt; Could not get resource &#39;https://jcenter.bintray.com/org/lenskit/lenskit-all/3.0-M3/lenskit-all-3.0-M3.pom&#39;.\r\n         &gt; Could not GET &#39;https://jcenter.bintray.com/org/lenskit/lenskit-all/3.0-M3/lenskit-all-3.0-M3.pom&#39;.\r\n            &gt; sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\r\n\r\nBUILD FAILED\r\n\r\nTotal time: 4.009 secs\r\n```\r\n\r\nI am using Java 1.8.0_241 (and only that one is installed) on MacOS Mojave 10.14.6. I&#39;ve installed the most recent security updates, then restarted my computer. I have attempted this on my regular wifi and on my phone&#39;s hotspot. \r\n\r\nI followed instructions in the accepted answer [here][2], downloading the security certificates from both `https://repo1.maven.org/maven2/org/lenskit/lenskit-all/3.0-M2/lenskit-all-3.0-M2.pom` and `https://oss.sonatype.org/content/repositories/snapshots/org/lenskit/lenskit-all/3.0-M2/lenskit-all-3.0-M2.pom` and adding them to the keystore via the following command (only showing one of two):\r\n\r\n```\r\nkeytool -import -alias maven -file /Users/briennakh/Downloads/maven.cer -keystore \r\n/Library/Java/JavaVirtualMachines/jdk1.8.0_241.jdk/Contents/Home/jre/lib/security/cacerts\r\n```\r\n\r\nThen if I check \r\n\r\n```\r\nkeytool -list -keystore /Library/Java/JavaVirtualMachines/jdk1.8.0_241.jdk/Contents/Home/jre/lib/security/cacerts | grep maven\r\n```\r\n\r\nit shows that my certificate has been added, `maven, Mar 17, 2020, trustedCertEntry`, yet I&#39;m still getting the same error when running `./gradlew build`?\r\n\r\nI also checked `openssl x509 -in /Users/briennakh/Downloads/maven.pem -text` to make sure that the certificate looks all right.\r\n\r\n\r\n\r\n\r\n  \r\n\r\n\r\n  [1]: https://github.com/lenskit/lenskit-hello\r\n  [2]: https://stackoverflow.com/questions/9619030/resolving-javax-net-ssl-sslhandshakeexception-sun-security-validator-validatore","title":"Gradle build fails due to sun.security.validator.ValidatorException despite installing certificates","body":"<p>I'm trying to run <a href=\"https://github.com/lenskit/lenskit-hello\" rel=\"noreferrer\">lenskit-hello</a> according to their instructions. When I run <code>./gradlew build</code>, I receive the error</p>\n\n<pre><code>(base) Briennas-MBP:lenskit-hello-master briennakh$ ./gradlew build\n:compileJava\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nCould not resolve all dependencies for configuration ':compileClasspath'.\n&gt; Could not resolve org.lenskit:lenskit-all:3.0-M3.\n  Required by:\n      :lenskit-hello-master 4.50.57 AM:unspecified\n   &gt; Could not resolve org.lenskit:lenskit-all:3.0-M3.\n      &gt; Could not get resource 'https://repo1.maven.org/maven2/org/lenskit/lenskit-all/3.0-M3/lenskit-all-3.0-M3.pom'.\n         &gt; Could not GET 'https://repo1.maven.org/maven2/org/lenskit/lenskit-all/3.0-M3/lenskit-all-3.0-M3.pom'.\n            &gt; sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n   &gt; Could not resolve org.lenskit:lenskit-all:3.0-M3.\n      &gt; Could not get resource 'https://jcenter.bintray.com/org/lenskit/lenskit-all/3.0-M3/lenskit-all-3.0-M3.pom'.\n         &gt; Could not GET 'https://jcenter.bintray.com/org/lenskit/lenskit-all/3.0-M3/lenskit-all-3.0-M3.pom'.\n            &gt; sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\n\nBUILD FAILED\n\nTotal time: 4.009 secs\n</code></pre>\n\n<p>I am using Java 1.8.0_241 (and only that one is installed) on MacOS Mojave 10.14.6. I've installed the most recent security updates, then restarted my computer. I have attempted this on my regular wifi and on my phone's hotspot. </p>\n\n<p>I followed instructions in the accepted answer <a href=\"https://stackoverflow.com/questions/9619030/resolving-javax-net-ssl-sslhandshakeexception-sun-security-validator-validatore\">here</a>, downloading the security certificates from both <code>https://repo1.maven.org/maven2/org/lenskit/lenskit-all/3.0-M2/lenskit-all-3.0-M2.pom</code> and <code>https://oss.sonatype.org/content/repositories/snapshots/org/lenskit/lenskit-all/3.0-M2/lenskit-all-3.0-M2.pom</code> and adding them to the keystore via the following command (only showing one of two):</p>\n\n<pre><code>keytool -import -alias maven -file /Users/briennakh/Downloads/maven.cer -keystore \n/Library/Java/JavaVirtualMachines/jdk1.8.0_241.jdk/Contents/Home/jre/lib/security/cacerts\n</code></pre>\n\n<p>Then if I check </p>\n\n<pre><code>keytool -list -keystore /Library/Java/JavaVirtualMachines/jdk1.8.0_241.jdk/Contents/Home/jre/lib/security/cacerts | grep maven\n</code></pre>\n\n<p>it shows that my certificate has been added, <code>maven, Mar 17, 2020, trustedCertEntry</code>, yet I'm still getting the same error when running <code>./gradlew build</code>?</p>\n\n<p>I also checked <code>openssl x509 -in /Users/briennakh/Downloads/maven.pem -text</code> to make sure that the certificate looks all right.</p>\n"},{"tags":["java","spring","mysql-workbench","telegram-bot"],"answers":[{"tags":[],"owner":{"account_id":24011484,"reputation":16,"user_id":17995021,"display_name":"Aleh Khvasko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671228505,"creation_date":1671227479,"answer_id":74830087,"question_id":74783559,"body_markdown":"I&#39;m working on a similar project and had exactly the same issue. Spent plenty of time until figured out that it comes from pom.xml file. I just deleted all versions from the dependencies and reloaded it, seems to me that the problem is that some of the libraries were not loaded properly or the versions were incompatible. Let me know if it works for you.\r\n\r\n\r\n\r\nHere is my example:\r\n\r\n     &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.telegram&lt;/groupId&gt;\r\n            &lt;artifactId&gt;telegrambots&lt;/artifactId&gt;\r\n            &lt;version&gt;${telegram.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;appassembler-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.1.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;assembleDirectory&gt;target&lt;/assembleDirectory&gt;\r\n                    &lt;programs&gt;\r\n                        &lt;program&gt;\r\n                            &lt;mainClass&gt;com.telegarambot.customertgbot.CustomerTgBotApplication&lt;/mainClass&gt;\r\n                            &lt;name&gt;workerBot&lt;/name&gt;\r\n                        &lt;/program&gt;\r\n                    &lt;/programs&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;assemble&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n","title":"I have problems with bean while creating telegram bot using Spring","body":"<p>I'm working on a similar project and had exactly the same issue. Spent plenty of time until figured out that it comes from pom.xml file. I just deleted all versions from the dependencies and reloaded it, seems to me that the problem is that some of the libraries were not loaded properly or the versions were incompatible. Let me know if it works for you.</p>\n<p>Here is my example:</p>\n<pre><code> &lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.telegram&lt;/groupId&gt;\n        &lt;artifactId&gt;telegrambots&lt;/artifactId&gt;\n        &lt;version&gt;${telegram.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;appassembler-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;assembleDirectory&gt;target&lt;/assembleDirectory&gt;\n                &lt;programs&gt;\n                    &lt;program&gt;\n                        &lt;mainClass&gt;com.telegarambot.customertgbot.CustomerTgBotApplication&lt;/mainClass&gt;\n                        &lt;name&gt;workerBot&lt;/name&gt;\n                    &lt;/program&gt;\n                &lt;/programs&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;assemble&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n"}],"owner":{"account_id":27238691,"reputation":3,"user_id":20765212,"display_name":"Асем Маратбек"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":795,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74830087,"answer_count":1,"score":0,"last_activity_date":1671228505,"creation_date":1670928242,"question_id":74783559,"body_markdown":"My bot is about recipes. I have user entity with fields id, userName, firstName, lastName, and registeredAt; user repository that extends from CrudRepository; bot config, which contains fields botName, token and ownerId; bot initializer and service telegram bot. \r\n\r\n**BotInitializer**\r\n\r\n```\r\n@Slf4j\r\n@Component\r\npublic class BotInitializer {\r\n    @Autowired\r\n    TelegramBot tgBot;\r\n\r\n    @EventListener({ContextRefreshedEvent.class})\r\n    public void init() throws TelegramApiException {\r\n        TelegramBotsApi telegramBotsApi = new TelegramBotsApi(DefaultBotSession.class);\r\n        try{\r\n            telegramBotsApi.registerBot(tgBot);\r\n        } catch (TelegramApiException e) {\r\n            log.error(&quot;Error occurred: &quot; + e.getMessage());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**service TelegramBot**\r\n```\r\n@Slf4j\r\n@Component\r\npublic class TelegramBot extends TelegramLongPollingBot {\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n    final BotConfig botConfig;\r\n    static final String HELP_TEXT = &quot;This bot is created to help find recipes for cooking delicious foods.&quot;;\r\n\r\n    public TelegramBot(BotConfig botConfig, UserRepository userRepository) {\r\n        this.botConfig = botConfig;\r\n        List&lt;BotCommand&gt; commandList = new ArrayList&lt;&gt;();\r\n        commandList.add(new BotCommand(&quot;/start&quot;, &quot;start communicating with bot&quot;));\r\n        commandList.add(new BotCommand(&quot;/help&quot;, &quot;help info&quot;));\r\n        commandList.add(new BotCommand(&quot;/category&quot;, &quot;category of recipes&quot;));\r\n        commandList.add(new BotCommand(&quot;/find&quot;, &quot;search recipe by name&quot;));\r\n        commandList.add(new BotCommand(&quot;/random&quot;, &quot;random recipe&quot;));\r\n        try {\r\n            this.execute(new SetMyCommands(commandList, new BotCommandScopeDefault(), null));\r\n        } catch (TelegramApiException e) {\r\n            log.error(&quot;Error setting bots command list: &quot; + e.getMessage());\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public String getBotUsername() {\r\n        return botConfig.getBotName();\r\n    }\r\n\r\n    @Override\r\n    public String getBotToken() {\r\n        return botConfig.getToken();\r\n    }\r\n\r\n    @Override\r\n    public void onUpdateReceived(Update update) {\r\n        if(update.hasMessage() &amp;&amp; update.getMessage().hasText()) {\r\n            String messageText = update.getMessage().getText();\r\n            long chatId = update.getMessage().getChatId();\r\n\r\n            switch (messageText) {\r\n                case &quot;/start&quot;:\r\n                    registerNewUser(update.getMessage());\r\n                    handleStartCommand(chatId, update.getMessage().getChat().getFirstName());\r\n                    break;\r\n                case &quot;/help&quot; :\r\n                    sendMessage(chatId, HELP_TEXT);\r\n                    break;\r\n                default:\r\n                    sendMessage(chatId, &quot;Command was not recognized&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n    private void registerNewUser(Message message) {\r\n        if(userRepository.findById(message.getChatId()).isEmpty()) {\r\n            var chatId = message.getChatId();\r\n            var chat = message.getChat();\r\n\r\n            User user = new User();\r\n\r\n            user.setChatId(chatId);\r\n            user.setUserName(chat.getUserName());\r\n            user.setFirstName(chat.getFirstName());\r\n            user.setLastName(chat.getLastName());\r\n            user.setRegisteredAt(new Timestamp(System.currentTimeMillis()));\r\n\r\n            userRepository.save(user);\r\n            log.info(&quot;User &quot; + user.getUserName() + &quot; is saved&quot;);\r\n        }\r\n    }\r\n\r\n    public void handleStartCommand(long chatId, String userName) {\r\n        String answer = &quot;Hi, &quot; + userName + &quot; nice to meet you!&quot;;\r\n        log.info(&quot;Replied to user &quot; + userName + &quot; after getting start command.&quot;);\r\n        sendMessage(chatId, answer);\r\n    }\r\n\r\n    private void sendMessage(long chatId, String textToSend) {\r\n        SendMessage message = new SendMessage();\r\n        message.setChatId(String.valueOf(chatId));\r\n        message.setText(textToSend);\r\n        try {\r\n            execute(message);\r\n        } catch (TelegramApiException e) {\r\n            log.error(&quot;Error occurred: &quot; + e.getMessage());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**application.properties**\r\n```\r\nbot.name=goldenRecipes\r\nbot.token=Token\r\nbot.owner=OwnerId\r\n\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.datasource.url=jdbc:mysql://localhost:3307/golden-recipes-bot\r\nspring.datasource.username=dbusername\r\nspring.datasource.password=dbpass\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\nspring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect\r\nspring.jpa.show-sql=true\r\n```\r\n\r\nI am trying to connect my bot with mysql database, but i got some errors related to beans and entityManagerFactory.\r\n\r\n\r\n```\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;botInitializer&#39;: Unsatisfied dependency expressed through field &#39;tgBot&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;telegramBot&#39; defined in file [D:\\goldenRecipesBot\\target\\classes\\io\\project\\goldenRecipesBot\\service\\TelegramBot.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;userRepository&#39; defined in io.project.goldenRecipesBot.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot create inner bean &#39;(inner bean)#6bd16207&#39; of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property &#39;entityManager&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#6bd16207&#39;: Cannot resolve reference to bean &#39;entityManagerFactory&#39; while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;entityManagerFactory&#39; available\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639)\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\r\n\tat io.project.goldenRecipesBot.GoldenRecipesBotApplication.main(GoldenRecipesBotApplication.java:12)\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;telegramBot&#39; defined in file [D:\\goldenRecipesBot\\target\\classes\\io\\project\\goldenRecipesBot\\service\\TelegramBot.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;userRepository&#39; defined in io.project.goldenRecipesBot.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot create inner bean &#39;(inner bean)#6bd16207&#39; of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property &#39;entityManager&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#6bd16207&#39;: Cannot resolve reference to bean &#39;entityManagerFactory&#39; while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;entityManagerFactory&#39; available\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656)\r\n\t... 19 more\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;userRepository&#39; defined in io.project.goldenRecipesBot.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot create inner bean &#39;(inner bean)#6bd16207&#39; of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property &#39;entityManager&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#6bd16207&#39;: Cannot resolve reference to bean &#39;entityManagerFactory&#39; while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;entityManagerFactory&#39; available\r\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:389)\r\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:134)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1707)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1452)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)\r\n\t... 32 more\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#6bd16207&#39;: Cannot resolve reference to bean &#39;entityManagerFactory&#39; while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;entityManagerFactory&#39; available\r\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:342)\r\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:113)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:510)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:374)\r\n\t... 46 more\r\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;entityManagerFactory&#39; available\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:874)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1344)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:309)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:330)\r\n\t... 54 more\r\n\r\n```\r\n","title":"I have problems with bean while creating telegram bot using Spring","body":"<p>My bot is about recipes. I have user entity with fields id, userName, firstName, lastName, and registeredAt; user repository that extends from CrudRepository; bot config, which contains fields botName, token and ownerId; bot initializer and service telegram bot.</p>\n<p><strong>BotInitializer</strong></p>\n<pre><code>@Slf4j\n@Component\npublic class BotInitializer {\n    @Autowired\n    TelegramBot tgBot;\n\n    @EventListener({ContextRefreshedEvent.class})\n    public void init() throws TelegramApiException {\n        TelegramBotsApi telegramBotsApi = new TelegramBotsApi(DefaultBotSession.class);\n        try{\n            telegramBotsApi.registerBot(tgBot);\n        } catch (TelegramApiException e) {\n            log.error(&quot;Error occurred: &quot; + e.getMessage());\n        }\n    }\n}\n</code></pre>\n<p><strong>service TelegramBot</strong></p>\n<pre><code>@Slf4j\n@Component\npublic class TelegramBot extends TelegramLongPollingBot {\n    @Autowired\n    private UserRepository userRepository;\n    final BotConfig botConfig;\n    static final String HELP_TEXT = &quot;This bot is created to help find recipes for cooking delicious foods.&quot;;\n\n    public TelegramBot(BotConfig botConfig, UserRepository userRepository) {\n        this.botConfig = botConfig;\n        List&lt;BotCommand&gt; commandList = new ArrayList&lt;&gt;();\n        commandList.add(new BotCommand(&quot;/start&quot;, &quot;start communicating with bot&quot;));\n        commandList.add(new BotCommand(&quot;/help&quot;, &quot;help info&quot;));\n        commandList.add(new BotCommand(&quot;/category&quot;, &quot;category of recipes&quot;));\n        commandList.add(new BotCommand(&quot;/find&quot;, &quot;search recipe by name&quot;));\n        commandList.add(new BotCommand(&quot;/random&quot;, &quot;random recipe&quot;));\n        try {\n            this.execute(new SetMyCommands(commandList, new BotCommandScopeDefault(), null));\n        } catch (TelegramApiException e) {\n            log.error(&quot;Error setting bots command list: &quot; + e.getMessage());\n        }\n    }\n\n    @Override\n    public String getBotUsername() {\n        return botConfig.getBotName();\n    }\n\n    @Override\n    public String getBotToken() {\n        return botConfig.getToken();\n    }\n\n    @Override\n    public void onUpdateReceived(Update update) {\n        if(update.hasMessage() &amp;&amp; update.getMessage().hasText()) {\n            String messageText = update.getMessage().getText();\n            long chatId = update.getMessage().getChatId();\n\n            switch (messageText) {\n                case &quot;/start&quot;:\n                    registerNewUser(update.getMessage());\n                    handleStartCommand(chatId, update.getMessage().getChat().getFirstName());\n                    break;\n                case &quot;/help&quot; :\n                    sendMessage(chatId, HELP_TEXT);\n                    break;\n                default:\n                    sendMessage(chatId, &quot;Command was not recognized&quot;);\n            }\n        }\n    }\n\n    private void registerNewUser(Message message) {\n        if(userRepository.findById(message.getChatId()).isEmpty()) {\n            var chatId = message.getChatId();\n            var chat = message.getChat();\n\n            User user = new User();\n\n            user.setChatId(chatId);\n            user.setUserName(chat.getUserName());\n            user.setFirstName(chat.getFirstName());\n            user.setLastName(chat.getLastName());\n            user.setRegisteredAt(new Timestamp(System.currentTimeMillis()));\n\n            userRepository.save(user);\n            log.info(&quot;User &quot; + user.getUserName() + &quot; is saved&quot;);\n        }\n    }\n\n    public void handleStartCommand(long chatId, String userName) {\n        String answer = &quot;Hi, &quot; + userName + &quot; nice to meet you!&quot;;\n        log.info(&quot;Replied to user &quot; + userName + &quot; after getting start command.&quot;);\n        sendMessage(chatId, answer);\n    }\n\n    private void sendMessage(long chatId, String textToSend) {\n        SendMessage message = new SendMessage();\n        message.setChatId(String.valueOf(chatId));\n        message.setText(textToSend);\n        try {\n            execute(message);\n        } catch (TelegramApiException e) {\n            log.error(&quot;Error occurred: &quot; + e.getMessage());\n        }\n    }\n}\n</code></pre>\n<p><strong>application.properties</strong></p>\n<pre><code>bot.name=goldenRecipes\nbot.token=Token\nbot.owner=OwnerId\n\nspring.jpa.hibernate.ddl-auto=update\nspring.datasource.url=jdbc:mysql://localhost:3307/golden-recipes-bot\nspring.datasource.username=dbusername\nspring.datasource.password=dbpass\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect\nspring.jpa.show-sql=true\n</code></pre>\n<p>I am trying to connect my bot with mysql database, but i got some errors related to beans and entityManagerFactory.</p>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'botInitializer': Unsatisfied dependency expressed through field 'tgBot'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'telegramBot' defined in file [D:\\goldenRecipesBot\\target\\classes\\io\\project\\goldenRecipesBot\\service\\TelegramBot.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in io.project.goldenRecipesBot.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot create inner bean '(inner bean)#6bd16207' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#6bd16207': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'entityManagerFactory' available\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639)\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\n    at io.project.goldenRecipesBot.GoldenRecipesBotApplication.main(GoldenRecipesBotApplication.java:12)\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'telegramBot' defined in file [D:\\goldenRecipesBot\\target\\classes\\io\\project\\goldenRecipesBot\\service\\TelegramBot.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in io.project.goldenRecipesBot.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot create inner bean '(inner bean)#6bd16207' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#6bd16207': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'entityManagerFactory' available\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656)\n    ... 19 more\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in io.project.goldenRecipesBot.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot create inner bean '(inner bean)#6bd16207' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#6bd16207': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'entityManagerFactory' available\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:389)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:134)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1707)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1452)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)\n    ... 32 more\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#6bd16207': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'entityManagerFactory' available\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:342)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:113)\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:510)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:374)\n    ... 46 more\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'entityManagerFactory' available\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:874)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1344)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:309)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:330)\n    ... 54 more\n\n</code></pre>\n"},{"tags":["java","selenium","selenide","retry-logic"],"answers":[{"tags":[],"owner":{"account_id":6341970,"reputation":1,"user_id":4923601,"display_name":"Serhii Danyliuk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671227659,"creation_date":1671018108,"answer_id":74797748,"question_id":72366422,"body_markdown":"Try to add maven surefire plugin to your pom.xml if you don&#39;t have it\r\n\r\n```xml\r\n&lt;dependencies&gt;\r\n...\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n...\r\n&lt;build&gt;\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;argLine&gt;\r\n                    -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot;\r\n                &lt;/argLine&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```\r\n","title":"TestNG doesn&#39;t re-run all failed methods after ElementClickInterceptedException","body":"<p>Try to add maven surefire plugin to your pom.xml if you don't have it</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n...\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n...\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;argLine&gt;\n                    -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot;\n                &lt;/argLine&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"}],"owner":{"account_id":1591364,"reputation":125,"user_id":1474622,"accept_rate":75,"display_name":"braveleg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671227659,"creation_date":1653409943,"question_id":72366422,"body_markdown":"I have an automation framework TestNG + Selenide which runs jobs on Jenkins and provides Allure reports.\r\nI&#39;ve added a test class with some simple tests. One test occasionally fails when trying to click an element, but rerunning fixes the problem, so naturally I wanted to introduce retries for this test. \r\n\r\nHere comes the problem - failed tests are not retried. I&#39;ve tried IRetryAnalyzer/RetryAnalyzerCount added via annotation transformer or adding retryAnalyzer to @Test annotation, but no success.\r\n\r\nMy current configuration:\r\n```\r\npublic class RetryAnalyzer extends RetryAnalyzerCount {\r\n\r\n    private static final int MAX_RETRY_ATTEMPTS = 3;\r\n\r\n    public RetryAnalyzer() {\r\n        setCount(MAX_RETRY_ATTEMPTS);\r\n    }\r\n\r\n    @Override\r\n    public boolean retryMethod(ITestResult iTestResult) {\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class AnnotationTransformer implements IAnnotationTransformer {\r\n\r\n    private final Logger logger = LoggerFactory.getLogger(AnnotationTransformer.class);\r\n\r\n    @Override\r\n    public void transform(ITestAnnotation annotation, Class testClass, Constructor testConstructor, Method testMethod) {\r\n        annotation.setRetryAnalyzer(RetryAnalyzer.class);\r\n        logger.debug(&quot;SET RETRY ANALYZER FOR TEST {}&quot;, testMethod.getName());\r\n    }\r\n}\r\n```\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\r\n\r\n&lt;suite name=&quot;E2 widget tests&quot; thread-count=&quot;6&quot; parallel=&quot;classes&quot; data-provider-thread-count=&quot;3&quot;&gt;\r\n    &lt;listeners&gt;\r\n        &lt;listener class-name=&quot;framework.AnnotationTransformer&quot;/&gt;\r\n    &lt;/listeners&gt;\r\n    &lt;test name=&quot;E2 widgets - chrome&quot;&gt;\r\n        &lt;parameter name=&quot;browser&quot; value=&quot;chrome&quot;/&gt;\r\n        &lt;parameter name=&quot;width&quot; value=&quot;1366&quot;/&gt;\r\n        &lt;parameter name=&quot;height&quot; value=&quot;786&quot;/&gt;\r\n        &lt;packages&gt;\r\n            &lt;package name=&quot;tests.other.e2widgets&quot; /&gt;\r\n        &lt;/packages&gt;\r\n    &lt;/test&gt;\r\n\r\n&lt;/suite&gt;\r\n```\r\nMy test + dataprovider it&#39;s using\r\n```\r\n    @DataProvider(name = &quot;countries-with-odds-widget-enabled&quot;, parallel = true)\r\n    public Object[][] countriesWithOddsWidgetEnabled() {\r\n        List&lt;String&gt; oddsWidgetCountries = sevWidgetSteps.getOddsWidgetCountries(configUrl);\r\n        List&lt;Object[]&gt; parameters = oddsWidgetCountries.stream().map(country -&gt; new Object[]{country}).collect(Collectors.toList());\r\n        return parameters.toArray(new Object[1][parameters.size()]);\r\n    }\r\n\r\n    @Test(description = &quot;Check odds widget for all countries&quot;,\r\n            dataProvider = &quot;countries-with-odds-widget-enabled&quot;\r\n    )\r\n    public void checkOddsWidgetsForEnabledCountries(String country) {\r\n        ...some code...\r\n\r\n        // here test fails because of ElementClickInterceptedException\r\n        $(By.id(&quot;3__match-calendar-link&quot;)).click();\r\n\r\n        proxy.stop();\r\n        softly.assertAll();\r\n    }\r\n```\r\nError I see in the allure report:\r\n```\r\nInvalid element state [[id*=&#39;match-calendar-link&#39;][3]]: element click intercepted: Element &lt;a id=&quot;3__match-calendar-link&quot; class=&quot;zh Eh&quot;&gt;...&lt;/a&gt; is not clickable at point (690, 296). Other element would receive the click: &lt;div class=&quot;Mg&quot;&gt;&lt;/div&gt;\r\nScreenshot: file:/Users/jenkins/workspace/UI-SANDBOX/build/reports/tests/1653409276041.25.png\r\nPage source: file:/Users/jenkins/workspace/UI-SANDBOX/build/reports/tests/1653409276041.25.html\r\nTimeout: 10 s.\r\nCaused by: ElementClickInterceptedException: element click intercepted: Element &lt;a id=&quot;3__match-calendar-link&quot; class=&quot;zh Eh&quot;&gt;...&lt;/a&gt; is not clickable at point (690, 296). Other element would receive the click: &lt;div class=&quot;Mg&quot;&gt;&lt;/div&gt;\r\n```\r\n\r\nI expect the test to be retried if that click method fails, but in allure report I can see no retries, though if method doesn&#39;t fail at this point but later due to assertion - it will be retried. Hope somebody can help me to figure this out, thanks in advance","title":"TestNG doesn&#39;t re-run all failed methods after ElementClickInterceptedException","body":"<p>I have an automation framework TestNG + Selenide which runs jobs on Jenkins and provides Allure reports.\nI've added a test class with some simple tests. One test occasionally fails when trying to click an element, but rerunning fixes the problem, so naturally I wanted to introduce retries for this test.</p>\n<p>Here comes the problem - failed tests are not retried. I've tried IRetryAnalyzer/RetryAnalyzerCount added via annotation transformer or adding retryAnalyzer to @Test annotation, but no success.</p>\n<p>My current configuration:</p>\n<pre><code>public class RetryAnalyzer extends RetryAnalyzerCount {\n\n    private static final int MAX_RETRY_ATTEMPTS = 3;\n\n    public RetryAnalyzer() {\n        setCount(MAX_RETRY_ATTEMPTS);\n    }\n\n    @Override\n    public boolean retryMethod(ITestResult iTestResult) {\n        return true;\n    }\n}\n</code></pre>\n<pre><code>public class AnnotationTransformer implements IAnnotationTransformer {\n\n    private final Logger logger = LoggerFactory.getLogger(AnnotationTransformer.class);\n\n    @Override\n    public void transform(ITestAnnotation annotation, Class testClass, Constructor testConstructor, Method testMethod) {\n        annotation.setRetryAnalyzer(RetryAnalyzer.class);\n        logger.debug(&quot;SET RETRY ANALYZER FOR TEST {}&quot;, testMethod.getName());\n    }\n}\n</code></pre>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\n\n&lt;suite name=&quot;E2 widget tests&quot; thread-count=&quot;6&quot; parallel=&quot;classes&quot; data-provider-thread-count=&quot;3&quot;&gt;\n    &lt;listeners&gt;\n        &lt;listener class-name=&quot;framework.AnnotationTransformer&quot;/&gt;\n    &lt;/listeners&gt;\n    &lt;test name=&quot;E2 widgets - chrome&quot;&gt;\n        &lt;parameter name=&quot;browser&quot; value=&quot;chrome&quot;/&gt;\n        &lt;parameter name=&quot;width&quot; value=&quot;1366&quot;/&gt;\n        &lt;parameter name=&quot;height&quot; value=&quot;786&quot;/&gt;\n        &lt;packages&gt;\n            &lt;package name=&quot;tests.other.e2widgets&quot; /&gt;\n        &lt;/packages&gt;\n    &lt;/test&gt;\n\n&lt;/suite&gt;\n</code></pre>\n<p>My test + dataprovider it's using</p>\n<pre><code>    @DataProvider(name = &quot;countries-with-odds-widget-enabled&quot;, parallel = true)\n    public Object[][] countriesWithOddsWidgetEnabled() {\n        List&lt;String&gt; oddsWidgetCountries = sevWidgetSteps.getOddsWidgetCountries(configUrl);\n        List&lt;Object[]&gt; parameters = oddsWidgetCountries.stream().map(country -&gt; new Object[]{country}).collect(Collectors.toList());\n        return parameters.toArray(new Object[1][parameters.size()]);\n    }\n\n    @Test(description = &quot;Check odds widget for all countries&quot;,\n            dataProvider = &quot;countries-with-odds-widget-enabled&quot;\n    )\n    public void checkOddsWidgetsForEnabledCountries(String country) {\n        ...some code...\n\n        // here test fails because of ElementClickInterceptedException\n        $(By.id(&quot;3__match-calendar-link&quot;)).click();\n\n        proxy.stop();\n        softly.assertAll();\n    }\n</code></pre>\n<p>Error I see in the allure report:</p>\n<pre><code>Invalid element state [[id*='match-calendar-link'][3]]: element click intercepted: Element &lt;a id=&quot;3__match-calendar-link&quot; class=&quot;zh Eh&quot;&gt;...&lt;/a&gt; is not clickable at point (690, 296). Other element would receive the click: &lt;div class=&quot;Mg&quot;&gt;&lt;/div&gt;\nScreenshot: file:/Users/jenkins/workspace/UI-SANDBOX/build/reports/tests/1653409276041.25.png\nPage source: file:/Users/jenkins/workspace/UI-SANDBOX/build/reports/tests/1653409276041.25.html\nTimeout: 10 s.\nCaused by: ElementClickInterceptedException: element click intercepted: Element &lt;a id=&quot;3__match-calendar-link&quot; class=&quot;zh Eh&quot;&gt;...&lt;/a&gt; is not clickable at point (690, 296). Other element would receive the click: &lt;div class=&quot;Mg&quot;&gt;&lt;/div&gt;\n</code></pre>\n<p>I expect the test to be retried if that click method fails, but in allure report I can see no retries, though if method doesn't fail at this point but later due to assertion - it will be retried. Hope somebody can help me to figure this out, thanks in advance</p>\n"},{"tags":["java","visual-studio-code","encoding"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1671209137,"post_id":74827384,"comment_id":132057108,"body_markdown":"Please show your code - it&#39;s hard to help you find a problem in the code without seeing it. I suspect it&#39;s either a) the way you read it, perhaps using a default encoding; b) the way you display it, which may depend on the console support in the IDE. To determine whether b) is a problem, you should output the UTF-16 code point for each character, e.g. by using `charAt` to access each character, convert to `int` and display that.","body":"Please show your code - it&#39;s hard to help you find a problem in the code without seeing it. I suspect it&#39;s either a) the way you read it, perhaps using a default encoding; b) the way you display it, which may depend on the console support in the IDE. To determine whether b) is a problem, you should output the UTF-16 code point for each character, e.g. by using <code>charAt</code> to access each character, convert to <code>int</code> and display that."},{"owner":{"account_id":16468913,"reputation":23,"user_id":11898446,"display_name":"magistry"},"score":0,"creation_date":1671210651,"post_id":74827384,"comment_id":132057589,"body_markdown":"I added my full code. As I said, the problem is exclusive to VSCode, and if I get rid of the replaceAll, the Umlaute get transferred normally. Can you specify where/how exactly you want me to output each character?","body":"I added my full code. As I said, the problem is exclusive to VSCode, and if I get rid of the replaceAll, the Umlaute get transferred normally. Can you specify where/how exactly you want me to output each character?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1671211486,"post_id":74827384,"comment_id":132057800,"body_markdown":"Firstly, I&#39;d encourage you to specify the file encoding when you construct FileReader. Next, you may need to configure VSCode to specify the encoding of your *Java* code. (Or you could use `\\uxxxx` escaping for each of the non-ASCII characters in the `replaceAll` call.)\n\nTo work out exactly where the problem is, I&#39;d encourage you to create a [mcve] - it&#39;s likely to be about 10 lines of code instead of over 120. No need to read anything from disk (unless that&#39;s where the problem is) - hard-code the input text. I&#39;d *start* with just a hard-coded string that you print to the console.","body":"Firstly, I&#39;d encourage you to specify the file encoding when you construct FileReader. Next, you may need to configure VSCode to specify the encoding of your <i>Java</i> code. (Or you could use <code>\\uxxxx</code> escaping for each of the non-ASCII characters in the <code>replaceAll</code> call.)  To work out exactly where the problem is, I&#39;d encourage you to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> - it&#39;s likely to be about 10 lines of code instead of over 120. No need to read anything from disk (unless that&#39;s where the problem is) - hard-code the input text. I&#39;d <i>start</i> with just a hard-coded string that you print to the console."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1671211531,"post_id":74827384,"comment_id":132057814,"body_markdown":"As for &quot;how you output each character&quot; - just use a `for` loop to go through each index in the string, e.g. `for (int i =0; i &lt; text.length(); i++) { System.out.println((int) text.charAt(i)); }`","body":"As for &quot;how you output each character&quot; - just use a <code>for</code> loop to go through each index in the string, e.g. <code>for (int i =0; i &lt; text.length(); i++) { System.out.println((int) text.charAt(i)); }</code>"},{"owner":{"account_id":16468913,"reputation":23,"user_id":11898446,"display_name":"magistry"},"score":0,"creation_date":1671214234,"post_id":74827384,"comment_id":132058578,"body_markdown":"hey man, i added the minimal reproducable example. The characters get messed up when I print them to the console after reading, and the replaceAll regex doesnt pick them up, which should mean that they are messed up not only in the console output, but also internally. Can you specify how exactly I should construct the FileReader with the encoding? My .txt is in UTF-8 with BOM, my java files are in normal UTF-8","body":"hey man, i added the minimal reproducable example. The characters get messed up when I print them to the console after reading, and the replaceAll regex doesnt pick them up, which should mean that they are messed up not only in the console output, but also internally. Can you specify how exactly I should construct the FileReader with the encoding? My .txt is in UTF-8 with BOM, my java files are in normal UTF-8"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1671219456,"post_id":74827384,"comment_id":132059971,"body_markdown":"You can pass a `Charset` to the `FileReader` constructor. But I *suspect* the problem is actually with the encoding for the source code. That was why I was suggested hard-coding the text using a string literal with `\\uxxxx` escaping instead of reading from a file - to *really* make it minimal","body":"You can pass a <code>Charset</code> to the <code>FileReader</code> constructor. But I <i>suspect</i> the problem is actually with the encoding for the source code. That was why I was suggested hard-coding the text using a string literal with <code>\\uxxxx</code> escaping instead of reading from a file - to <i>really</i> make it minimal"},{"owner":{"account_id":16468913,"reputation":23,"user_id":11898446,"display_name":"magistry"},"score":0,"creation_date":1671221948,"post_id":74827384,"comment_id":132060646,"body_markdown":"Hey man, I think you solved it. I just changed all Files into UTF-8 and then passed the UTF-8 Charset into the FileReader. Now it reads the files correctly and modifies the string correctly. Before, the Reading would only work in ISO 8859-1 or W 1252 and the String modifications would only work in UTF-8, but now that I&#39;m doing the reading in UTF-8 as well, there are no more problems. And it also works in my main project, I also used the Charset for the FileWriter. Thank you so so much man :) Should Me or You write the solution as an answer so other people can reference it?","body":"Hey man, I think you solved it. I just changed all Files into UTF-8 and then passed the UTF-8 Charset into the FileReader. Now it reads the files correctly and modifies the string correctly. Before, the Reading would only work in ISO 8859-1 or W 1252 and the String modifications would only work in UTF-8, but now that I&#39;m doing the reading in UTF-8 as well, there are no more problems. And it also works in my main project, I also used the Charset for the FileWriter. Thank you so so much man :) Should Me or You write the solution as an answer so other people can reference it?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1671225960,"post_id":74827384,"comment_id":132061567,"body_markdown":"Well that doesn&#39;t make much sense in terms of the replacements, to be honest - there are so many places that could have been problematic that it&#39;s hard for me to know what was actually wrong. I suggest you write it up, after possibly editing your question to clarify it.","body":"Well that doesn&#39;t make much sense in terms of the replacements, to be honest - there are so many places that could have been problematic that it&#39;s hard for me to know what was actually wrong. I suggest you write it up, after possibly editing your question to clarify it."}],"answers":[{"tags":[],"owner":{"account_id":16468913,"reputation":23,"user_id":11898446,"display_name":"magistry"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671226427,"creation_date":1671226427,"answer_id":74829965,"question_id":74827384,"body_markdown":"I solved it by explicitly turning all java files and all .txt files into UTF-8 encoding (in the bottom bar in VSCode), setting UTF-8 as the standard encoding in the VSCode settings and modifying both the FileReader and FileWriter to work with the UTF-8 encoding like this:\r\n\r\n    FileReader fileReader = new FileReader(file, Charset.forName(&quot;UTF-8&quot;));\r\n    FileWriter fileWriter = new FileWriter(file, Charset.forName(&quot;UTF-8&quot;));\r\n","title":"Vscode doesn&#39;t recognize Umlaute (&#228;&#246;&#252;) when reading and writing files with Java","body":"<p>I solved it by explicitly turning all java files and all .txt files into UTF-8 encoding (in the bottom bar in VSCode), setting UTF-8 as the standard encoding in the VSCode settings and modifying both the FileReader and FileWriter to work with the UTF-8 encoding like this:</p>\n<pre><code>FileReader fileReader = new FileReader(file, Charset.forName(&quot;UTF-8&quot;));\nFileWriter fileWriter = new FileWriter(file, Charset.forName(&quot;UTF-8&quot;));\n</code></pre>\n"}],"owner":{"account_id":16468913,"reputation":23,"user_id":11898446,"display_name":"magistry"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":354,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671226427,"creation_date":1671208967,"question_id":74827384,"body_markdown":"I have a Java project which reads from a .txt file and counts the frequency of every word and saves every word along with its frequency in a .stat file. The way I do this is by reading the file with a BufferedReader, using replaceAll to replace all special characters with spaces and then iterating through the words and finally writing into a .stat with a PrintWriter.\r\n\r\nThis program works fine if I run it in Eclipse.\r\n\r\nHowever, if I run it in VSCode, the Umlaute (&#228;&#246;&#252;) get recognized as Special characters and are removed from the words.\r\n\r\n\r\nIf I don&#39;t use a replaceAll and leave all the special characters in the text, they will get recognized and displayed normally in the .stat.\r\n\r\n\r\nIf I use `replaceAll(&quot;[^\\\\p{IsAlphabetic}+]&quot;)`, the Umlaute will get replaced by all kinds of weird Unicode characters (for Example Ăbermut instead of &#220;bermut).\r\n\r\n\r\nIf I use `replaceAll(&quot;[^a-zA-Z&#228;&#246;&#252;&#196;&#214;&#220;&#223;]&quot;)`, the Umlaute will just get replaced by spaces. The same happens if I mention the Umlaute via their Unicode.\r\n\r\nThis has to be a problem with the encoding in VSCode or perhaps Powershell, as it works fine in other IDEs.\r\n\r\nI already checked if Eclipse and VSCode use the same Jdk version, which they did. It&#39;s 17.0.5 and the only one installed on my machine.\r\n\r\nI also tried out all the different encoding settings in VSCode and I recreated the project from scratch after changing the settings, to no avail.\r\n\r\nHere&#39;s the code of the minimal reproducable problem:\r\n\r\n    import java.io.*;\r\n    \r\n    public class App {\r\n        static String s;\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            Reader reader = new Reader();\r\n            reader.readFile();\r\n        }\r\n    \r\n    }\r\n    \r\n    public class Reader {\r\n    \r\n        public void readFile() {\r\n            String s = null;\r\n            File file = new File(&quot;./src/textfile.txt&quot;);\r\n    \r\n            try (FileReader fileReader = new FileReader(file);\r\n                    BufferedReader bufferedReader = new BufferedReader(fileReader);) {\r\n                s = bufferedReader.readLine();\r\n    \r\n            } catch (FileNotFoundException ex) {\r\n                // TODO: handle exception\r\n    \r\n            } catch (IOException ex) {\r\n                System.out.println(&quot;IOException&quot;);\r\n            }\r\n    \r\n            System.out.println(s);\r\n            System.out.println(s.replaceAll(&quot;[a-zA-Z&#228;&#246;&#252;&#196;&#214;&#220;&#223;]&quot;, &quot; &quot;));\r\n        }\r\n    }\r\n\r\nMy textfile.txt contains the line &quot;abcABC&#228;&#246;&#252;&#196;&#214;&#220;&#223;&quot;.\r\nThe above program outputs \r\n\r\n    &#239;&#187;&#191;abcABC&#195;&#164;&#195;&#182;&#195;&#188;&#195;?&#195;?&#195;?&#195;?\r\n    &#239;&#187;&#191;      &#195;&#164;&#195;&#182;&#195;&#188;&#195;?&#195;?&#195;?&#195;?\r\n\r\nWhich shows that the problem is presumably in the Reader, as the glibberish Unicode symbols don&#39;t get picked up by the replaceAll.","title":"Vscode doesn&#39;t recognize Umlaute (&#228;&#246;&#252;) when reading and writing files with Java","body":"<p>I have a Java project which reads from a .txt file and counts the frequency of every word and saves every word along with its frequency in a .stat file. The way I do this is by reading the file with a BufferedReader, using replaceAll to replace all special characters with spaces and then iterating through the words and finally writing into a .stat with a PrintWriter.</p>\n<p>This program works fine if I run it in Eclipse.</p>\n<p>However, if I run it in VSCode, the Umlaute (äöü) get recognized as Special characters and are removed from the words.</p>\n<p>If I don't use a replaceAll and leave all the special characters in the text, they will get recognized and displayed normally in the .stat.</p>\n<p>If I use <code>replaceAll(&quot;[^\\\\p{IsAlphabetic}+]&quot;)</code>, the Umlaute will get replaced by all kinds of weird Unicode characters (for Example Ăbermut instead of Übermut).</p>\n<p>If I use <code>replaceAll(&quot;[^a-zA-ZäöüÄÖÜß]&quot;)</code>, the Umlaute will just get replaced by spaces. The same happens if I mention the Umlaute via their Unicode.</p>\n<p>This has to be a problem with the encoding in VSCode or perhaps Powershell, as it works fine in other IDEs.</p>\n<p>I already checked if Eclipse and VSCode use the same Jdk version, which they did. It's 17.0.5 and the only one installed on my machine.</p>\n<p>I also tried out all the different encoding settings in VSCode and I recreated the project from scratch after changing the settings, to no avail.</p>\n<p>Here's the code of the minimal reproducable problem:</p>\n<pre><code>import java.io.*;\n\npublic class App {\n    static String s;\n\n    public static void main(String[] args) {\n\n        Reader reader = new Reader();\n        reader.readFile();\n    }\n\n}\n\npublic class Reader {\n\n    public void readFile() {\n        String s = null;\n        File file = new File(&quot;./src/textfile.txt&quot;);\n\n        try (FileReader fileReader = new FileReader(file);\n                BufferedReader bufferedReader = new BufferedReader(fileReader);) {\n            s = bufferedReader.readLine();\n\n        } catch (FileNotFoundException ex) {\n            // TODO: handle exception\n\n        } catch (IOException ex) {\n            System.out.println(&quot;IOException&quot;);\n        }\n\n        System.out.println(s);\n        System.out.println(s.replaceAll(&quot;[a-zA-ZäöüÄÖÜß]&quot;, &quot; &quot;));\n    }\n}\n</code></pre>\n<p>My textfile.txt contains the line &quot;abcABCäöüÄÖÜß&quot;.\nThe above program outputs</p>\n<pre><code>ï»¿abcABCÃ¤Ã¶Ã¼Ã?Ã?Ã?Ã?\nï»¿      Ã¤Ã¶Ã¼Ã?Ã?Ã?Ã?\n</code></pre>\n<p>Which shows that the problem is presumably in the Reader, as the glibberish Unicode symbols don't get picked up by the replaceAll.</p>\n"},{"tags":["java","loops","switch-statement","do-while","do-loops"],"comments":[{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1671223575,"post_id":74829559,"comment_id":132061046,"body_markdown":"How come you&#39;ve heard about switch/case, but not about methods?","body":"How come you&#39;ve heard about switch/case, but not about methods?"}],"answers":[{"tags":[],"owner":{"account_id":27262881,"reputation":83,"user_id":20785457,"display_name":"Vense"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671226331,"creation_date":1671226331,"answer_id":74829956,"question_id":74829559,"body_markdown":"I am having difficulties in reading the code but I believe you are using multiple nested switch statements to create a game.\r\n\r\nThis approach can work, but it can also make your code difficult to read and maintain, especially if you have many different options and branches (i.e. switch in another switch and on and on.)\r\n\r\nI can suggest in order to improve your code, use **functions** to organize your code into **logical blocks**.\r\n\r\nFor example, you could define a function for each action that the player can take, and call that function from the appropriate case in the switch statement. This would make it easier to see the different options available to the player and to modify the behavior of the game. Read more about [Functions][1].\r\n\r\n```\r\nswitch (choice) {\r\n        case 1: \r\n          // Player wants to join the rebellion\r\n          handleJoinRebellion(reader, name);\r\n          break;\r\n        case 2:\r\n          // Player does not want to join the rebellion\r\n          handleDeclineRebellion();\r\n          break;\r\n      }\r\n\r\n```\r\n```\r\nvoid handleJoinRebellion(String reader, String name) {\r\n   // Something here\r\n}\r\nvoid handleDeclineRebellion(input) {\r\n   // Something here\r\n}\r\n```\r\n\r\n\r\nYou could also consider using an Object-Oriented (OOP) approach, where an object with its own behavior represents each action. This would allow you to encapsulate the behavior of each action in a separate class, which can make your code more modular and easier to understand (Just like what I said, I am having difficulties in reading it).\r\n\r\nCorrect me if I am wrong. I hope this helps!\r\n\r\n\r\n  [1]: https://www.programiz.com/java-programming/methods","title":"i just did switch-case in a switch-case... in a switch-case. There maybe be a better way to do it right?","body":"<p>I am having difficulties in reading the code but I believe you are using multiple nested switch statements to create a game.</p>\n<p>This approach can work, but it can also make your code difficult to read and maintain, especially if you have many different options and branches (i.e. switch in another switch and on and on.)</p>\n<p>I can suggest in order to improve your code, use <strong>functions</strong> to organize your code into <strong>logical blocks</strong>.</p>\n<p>For example, you could define a function for each action that the player can take, and call that function from the appropriate case in the switch statement. This would make it easier to see the different options available to the player and to modify the behavior of the game. Read more about <a href=\"https://www.programiz.com/java-programming/methods\" rel=\"nofollow noreferrer\">Functions</a>.</p>\n<pre><code>switch (choice) {\n        case 1: \n          // Player wants to join the rebellion\n          handleJoinRebellion(reader, name);\n          break;\n        case 2:\n          // Player does not want to join the rebellion\n          handleDeclineRebellion();\n          break;\n      }\n\n</code></pre>\n<pre><code>void handleJoinRebellion(String reader, String name) {\n   // Something here\n}\nvoid handleDeclineRebellion(input) {\n   // Something here\n}\n</code></pre>\n<p>You could also consider using an Object-Oriented (OOP) approach, where an object with its own behavior represents each action. This would allow you to encapsulate the behavior of each action in a separate class, which can make your code more modular and easier to understand (Just like what I said, I am having difficulties in reading it).</p>\n<p>Correct me if I am wrong. I hope this helps!</p>\n"}],"owner":{"account_id":27276318,"reputation":13,"user_id":20796874,"display_name":"Ramm 4"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1671335311,"accepted_answer_id":74829956,"answer_count":1,"score":0,"last_activity_date":1671226331,"creation_date":1671223235,"question_id":74829559,"body_markdown":"```\r\nimport&#160;java.io.*;\r\nimport&#160;java.util.Scanner;\r\n\r\npublic&#160;class&#160;MyGame&#160;{\r\n&#160;&#160;public&#160;static&#160;void&#160;main(String&#160;argv[])&#160;throws&#160;IOException&#160;{\r\n&#160;&#160;&#160;&#160;\r\n&#160;&#160;&#160;&#160;String&#160;prompt;\r\n&#160;&#160;&#160;&#160;\r\n&#160;&#160;&#160;&#160;Scanner&#160;scanner&#160;=&#160;new&#160;Scanner(System.&#160;in);&#160;\r\n&#160;&#160;&#160;&#160;\r\n//TITLE ASCII text art \r\n\r\n\r\n&#160;&#160;&#160;&#160;do&#160;{\r\n&#160;&#160;&#160;&#160;&#160;&#160;\r\n&#160;&#160;&#160;&#160;&#160;&#160;BufferedReader&#160;reader&#160;=&#160;new&#160;BufferedReader(new&#160;InputStreamReader(System.in));\r\n&#160;&#160;&#160;&#160;&#160;&#160;System.out.print(&quot;What&#160;is&#160;your&#160;name?:&#160;&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;String&#160;name&#160;=&#160;reader.readLine();\r\n&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;Hello,&#160;comrade&#160;&quot;&#160;+&#160;name&#160;+&#160;&quot;.&#160;Do&#160;you&#160;want&#160;to&#160;be&#160;a&#160;rebel?&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;\r\n&#160;&#160;&#160;&#160;&#160;&#160;int&#160;i&#160;;\r\n&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;[1]&#160;Yes,&#160;i&#160;want&#160;to&#160;fight&#160;for&#160;Freedom!&#160;&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;[2]&#160;No,&#160;i&#160;want&#160;to&#160;live&#160;oppressed.&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;i&#160;=&#160;Integer.parseInt(reader.readLine());\r\n&#160;&#160;&#160;&#160;&#160;&#160;\r\n&#160;&#160;&#160;&#160;&#160;&#160;switch&#160;(i)&#160;{\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;case&#160;&#160;1:&#160;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;///&#160;00:13&#160;///&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;You&#160;go&#160;to&#160;a&#160;abandoned&#160;industrial&#160;building.&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;You&#160;go&#160;inside,&#160;because&#160;you&#160;think&#160;there&#160;is&#160;the&#160;man&#160;you&#160;need&#160;to&#160;contact.&quot;);\r\n&#160;// ASCII text art\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;A&#160;man&#160;comes&#160;to&#160;you.&#160;He&#160;is&#160;young,&#160;dressed&#160;in&#160;an&#160;uniform.&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;???:&#160;Here&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;He&#160;passes&#160;you&#160;an&#160;military&#160;uniform.&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;Grogor:&#160;My&#160;name&#160;is&#160;Grigor.&#160;You&#160;should&#160;be&#160;&quot;+name+&quot;?&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;int&#160;n&#160;;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;[1]&#160;Yes&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;[2]&#160;No&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;n&#160;=&#160;Integer.parseInt(reader.readLine());\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;switch&#160;(n)&#160;{\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;case&#160;&#160;1:&#160;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;Grigor:&#160;So&#160;you&#160;are&#160;the&#160;right&#160;one!&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;Grigor:&#160;You&#160;have&#160;your&#160;first&#160;mission.&#160;You&#160;need&#160;to&#160;get&#160;documents&#160;for&#160;me.&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;Grigor:&#160;The&#160;documents&#160;are&#160;in&#160;the&#160;mayor&#39;s&#160;bureau.&#160;You&#160;need&#160;to&#160;infiltrate&#160;there&#160;in&#160;the&#160;night.&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;Grigor:&#160;We&#160;think&#160;that&#160;there&#160;are&#160;in&#160;Room&#160;B102.&#160;The&#160;documents&#160;are&#160;about&#160;the&#160;payments&#160;of&#160;the&#160;city&#160;for&#160;12.1989&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;Grigor:&#160;I&#160;wish&#160;you&#160;luck!&#160;Don&#39;t&#160;forget...&#160;GOLDEN&#160;RING&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;You&#160;are&#160;ready&#160;to&#160;do&#160;the&#160;job.&#160;It&#160;will&#160;be&#160;dangerous.&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;///&#160;23:46&#160;///&#160;on&#160;the&#160;next&#160;day.&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;You&#160;stand&#160;in&#160;front&#160;of&#160;the&#160;political&#160;bureau&#160;of&#160;city.&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&quot;);\r\n// ASCII text art\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;You&#160;break&#160;in&#160;the&#160;building.&#160;Sweat&#160;runs&#160;down&#160;your&#160;back.&#160;It&#39;s&#160;cold&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;You&#160;go&#160;to&#160;room&#160;B102...&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;It&#39;s&#160;locked&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;What&#160;do&#160;you&#160;do&#160;now?&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;int&#160;lock&#160;;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;[1]&#160;Try&#160;to&#160;break&#160;in&#160;with&#160;force.&#160;You&#160;kick&#160;the&#160;door.&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;[2]&#160;Look&#160;around&#160;for&#160;a&#160;key.&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;lock&#160;=&#160;Integer.parseInt(reader.readLine());\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;switch&#160;(lock)&#160;{\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;case&#160;&#160;1:&#160;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;You&#160;kick&#160;the&#160;door.&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;The&#160;sound&#160;echoes&#160;in&#160;the&#160;corridors.&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;You&#160;enter&#160;Room&#160;B102.&#160;You&#160;see&#160;a&#160;window&#160;in&#160;front&#160;of&#160;you.&#160;Outside&#160;you&#160;see&#160;a&#160;block&#160;of&#160;flats&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;On&#160;one&#160;of&#160;the&#160;balkons&#160;is&#160;a&#160;man&#160;smoking.&#160;Does&#160;he&#160;heared&#160;you?&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;You&#160;search&#160;for&#160;the&#160;documents&#160;in&#160;the&#160;desk.&#160;Not&#160;long&#160;after&#160;you&#160;hear&#160;steps&#160;in&#160;the&#160;corridor.&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;You&#160;panic&#160;and&#160;try&#160;to&#160;open&#160;the&#160;window&#160;and&#160;jump&#160;outside.&#160;Someone&#160;is&#160;coming!&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;Police&#160;Officer:&#160;STAY&#160;RIGHT&#160;THERE!&#160;YOU&#160;ARE&#160;ARRESTED,&#160;BASTER!&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;They&#160;send&#160;you&#160;to&#160;a&#160;prison&#160;camp.&#160;&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;You&#160;are&#160;hungry.&#160;You&#160;need&#160;to&#160;work.&#160;You&#160;feel&#160;sick.&quot;);\r\n// ASCII text art\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;break;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;case&#160;&#160;2:&#160;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;You&#160;look&#160;around.&#160;You&#160;see&#160;down&#160;the&#160;dark&#160;corridor&#160;the&#160;staff&#160;room.&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;The&#160;door&#160;is&#160;open.&#160;You&#160;enter&#160;the&#160;room.&#160;There&#160;are&#160;keys&#160;hanging&#160;on&#160;the&#160;wall.&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;One&#160;of&#160;them&#160;has&#160;B102&#160;writen&#160;on.&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;You&#160;unlock&#160;Room&#160;B102&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;You&#160;enter&#160;and&#160;see&#160;a&#160;desk&#160;on&#160;the&#160;right,&#160;windows&#160;in&#160;front,&#160;on&#160;the&#160;wall&#160;is&#160;picture&#160;of&#160;the&#160;prime&#160;minister.&#160;&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;On&#160;the&#160;desk&#160;are&#160;scraps&#160;of&#160;paper&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;Next&#160;to&#160;it&#160;a&#160;cabinet&#160;with&#160;folders.&#160;You&#160;search&#160;for&#160;the&#160;documents.&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;You&#160;need&#160;to&#160;choose,&#160;which&#160;folder&#160;you&#160;need?&#160;Titles:&#160;&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;int&#160;doc&#160;;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;[1]&#160;Budget&#160;-&#160;City&#160;GOBROVSKA&#160;XXII.1989&quot;);&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;//RIGHT&#160;ONES\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;[2]&#160;Deposits&#160;and&#160;Withdrawals&#160;-&#160;City&#160;GOBROVSKA&#160;XXI.1989&quot;);&#160;&#160;&#160;&#160;//FALSE&#160;DOCS\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;[3]&#160;Budget&#160;-&#160;Cityhall&#160;Project&#160;Nr.&#160;423984&quot;);&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;//FALSE&#160;DOCS\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;doc&#160;=&#160;Integer.parseInt(reader.readLine());\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;switch&#160;(doc)&#160;{\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;case&#160;&#160;1:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;//RICHTIGE\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;doc&#160;1&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;You&#160;get&#160;the&#160;document&#160;and&#160;run&#160;away.&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;You&#160;walt&#160;to&#160;your&#160;home&#160;as&#160;fast&#160;as&#160;possible.&#160;You&#160;feel&#160;your&#160;breath&#160;in&#160;the&#160;throat&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;You&#160;enter&#160;the&#160;elevator&#160;of&#160;your&#160;block&#160;of&#160;flats.&#160;You&#160;throw&#160;the&#160;folder&#160;on&#160;the&#160;floor.&#160;You&#160;go&#160;to&#160;sleep&#160;with&#160;your&#160;clothes&#160;on.&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&#160;&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&#160;&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&#160;&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;///&#160;09:26&#160;///&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;Knocking&#160;on&#160;the&#160;door.&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;Who&#160;can&#160;it&#160;be?&#160;DID&#160;THEY&#160;CATCH&#160;YOU?&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;You:&#160;Who&#160;is&#160;there?&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(name&#160;+&#160;&quot;&#160;It&#39;s&#160;me.&#160;You&#160;remember...&#160;GOLDEN&#160;RING&quot;&#160;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;You&#160;open&#160;the&#160;door.&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&quot;);\r\n// ASCII text art\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;Grigor:&#160;It&#39;s&#160;me&#160;&quot;+&#160;name&#160;+&quot;.&#160;Do&#160;you&#160;have&#160;the&#160;documents?&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;You&#160;pass&#160;Grigor&#160;the&#160;documents.&quot;);&#160;&#160;&#160;&#160;//&#160;RIGHT&#160;DOCS\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;Grigor:&#160;...&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;Grigor:&#160;That&#160;are&#160;the&#160;right&#160;one.&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;Grigor&#160;pulls&#160;out&#160;a&#160;lighter.&#160;He&#160;sets&#160;the&#160;Folder&#160;in&#160;flames&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;Grigor:&#160;We&#160;don&#39;t&#160;need&#160;evidence,&#160;don&#39;t&#160;we?&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;I&#160;will&#160;be&#160;honest&#160;with&#160;you...&#160;we&#160;actually&#160;didn&#39;t&#160;need&#160;these&#160;documents.&#160;Let&#39;s&#160;say&#160;it&#160;was&#160;a&#160;test&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;Ah&#160;don&#39;t&#160;look&#160;at&#160;me&#160;like&#160;that.&#160;We&#160;just&#160;need&#160;to&#160;know&#160;if&#160;you&#160;are&#160;spy&#160;or&#160;not.&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;You&#160;need&#160;that&#160;one.&#160;Wait&#160;for&#160;next&#160;instructions...&#160;And&#160;get&#160;this...&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;int&#160;gun&#160;;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;[1]&#160;You&#160;strech&#160;your&#160;hand...&quot;);&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;//RIGHT&#160;DOCS\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;[2]&#160;You&#160;look&#160;at&#160;him...&quot;);&#160;&#160;&#160;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;gun&#160;=&#160;Integer.parseInt(reader.readLine());\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;Grigor&#160;passes&#160;you&#160;a&#160;handgun&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;He&#160;laughs&#160;at&#160;you,&#160;while&#160;pushing&#160;the&#160;button&#160;of&#160;the&#160;elevator.&#160;He&#160;has&#160;one&#160;teeth&#160;missing.&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;I&#160;needed&#160;to&#160;kill&#160;you&#160;with&#160;that&#160;one...&#160;hahaha&#160;welcome&#160;in&#160;small&#160;one.&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;He&#160;lefts.&#160;You&#160;look&#160;at&#160;the&#160;gun&#160;in&#160;your&#160;hand&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&quot;);&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;break;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;case&#160;&#160;2:&#160;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;You&#160;get&#160;the&#160;document&#160;and&#160;run&#160;away.&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;You&#160;walt&#160;to&#160;your&#160;home&#160;as&#160;fast&#160;as&#160;possible.&#160;You&#160;feel&#160;your&#160;breath&#160;in&#160;the&#160;throat&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;You&#160;enter&#160;the&#160;elevator&#160;of&#160;your&#160;block&#160;of&#160;flats.&#160;You&#160;throw&#160;the&#160;folder&#160;on&#160;the&#160;floor.&#160;You&#160;go&#160;to&#160;sleep&#160;with&#160;your&#160;clothes&#160;on.&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&#160;&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&#160;&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&#160;&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;///&#160;09:26&#160;///&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;Knocking&#160;on&#160;the&#160;door.&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;Who&#160;can&#160;it&#160;be?&#160;DID&#160;THEY&#160;CATCH&#160;YOU?&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;You:&#160;Who&#160;is&#160;there?&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(name&#160;+&#160;&quot;&#160;It&#39;s&#160;me.&#160;You&#160;remember...&#160;GOLDEN&#160;RING&quot;&#160;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;You&#160;open&#160;the&#160;door.&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&quot;);\r\n// ASCII text art\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;Grigor:&#160;It&#39;s&#160;me&#160;&quot;+&#160;name&#160;+&quot;.&#160;Do&#160;you&#160;have&#160;the&#160;documents?&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;You&#160;pass&#160;Grigor&#160;the&#160;documents.&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;Grigor:&#160;Deposits&#160;and&#160;Withdrawals&#160;-&#160;City&#160;GOBROVSKA&#160;...&#160;The&#160;Date&#160;is&#160;XXI.1989.&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;Grigor:&#160;WE&#160;NEEDED&#160;THE&#160;ONE&#160;FOR&#160;12.1989,&#160;NOT&#160;FOR&#160;11.&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;Grigor:&#160;ARE&#160;YOU&#160;A&#160;SPY&#160;YOU&#160;BASTERED!?&#160;DO&#160;YOU&#160;WANT&#160;TO&#160;SABOTAGE&#160;US?&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;int&#160;grigor&#160;;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;[1]&#160;&gt;&gt;&#160;NO.&#160;IT&#160;WAS&#160;A&#160;FAILURE!...&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;[2]&#160;&gt;&gt;&#160;Stay&#160;in&#160;silence&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;grigor&#160;=&#160;Integer.parseInt(reader.readLine());\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;switch&#160;(grigor)&#160;{\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;case&#160;&#160;1:&#160;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;GRIGOR&#160;PULLS&#160;OUT&#160;A&#160;GUN&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;// ASCII text art\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;break;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;default:&#160;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;GRIGOR&#160;PULLS&#160;OUT&#160;A&#160;GUN&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;// ASCII text art\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}&#160;//&#160;end&#160;of&#160;switch\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;break;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;case&#160;&#160;3:&#160;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;You&#160;get&#160;the&#160;document&#160;and&#160;run&#160;away.&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;You&#160;walt&#160;to&#160;your&#160;home&#160;as&#160;fast&#160;as&#160;possible.&#160;You&#160;feel&#160;your&#160;breath&#160;in&#160;the&#160;throat&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;You&#160;enter&#160;the&#160;elevator&#160;of&#160;your&#160;block&#160;of&#160;flats.&#160;You&#160;throw&#160;the&#160;folder&#160;on&#160;the&#160;floor.&#160;You&#160;go&#160;to&#160;sleep&#160;with&#160;your&#160;clothes&#160;on.&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&#160;&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&#160;&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&#160;&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;///&#160;09:26&#160;///&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;Knocking&#160;on&#160;the&#160;door.&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;Who&#160;can&#160;it&#160;be?&#160;DID&#160;THEY&#160;CATCH&#160;YOU?&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;You:&#160;Who&#160;is&#160;there?&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(name&#160;+&#160;&quot;&#160;It&#39;s&#160;me.&#160;You&#160;remember...&#160;GOLDEN&#160;RING&quot;&#160;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;You&#160;open&#160;the&#160;door.&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&quot;);\r\n// ASCII text art\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;Grigor:&#160;It&#39;s&#160;me&#160;&quot;+&#160;name&#160;+&quot;.&#160;Do&#160;you&#160;have&#160;the&#160;documents?&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;You&#160;pass&#160;Grigor&#160;the&#160;documents.&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;Grigor:&#160;WE&#160;NEEDED&#160;THE&#160;BUDGET&#160;OF&#160;THE&#160;CITY&#160;NOT&#160;FOR&#160;ONE&#160;PROJECT&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;Grigor:&#160;ARE&#160;YOU&#160;A&#160;SPY&#160;YOU&#160;BASTERED!?&#160;DO&#160;YOU&#160;WANT&#160;TO&#160;SABOTAGE&#160;US?&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;int&#160;grigorr&#160;;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;[1]&#160;&gt;&gt;&#160;NO.&#160;IT&#160;WAS&#160;A&#160;FAILURE!...&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;[2]&#160;&gt;&gt;&#160;Stay&#160;in&#160;silence&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;grigorr&#160;=&#160;Integer.parseInt(reader.readLine());\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;switch&#160;(grigorr)&#160;{\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;case&#160;&#160;1:&#160;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;GRIGOR&#160;PULLS&#160;OUT&#160;A&#160;GUN&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/ASCII text art\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;break;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;default:&#160;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;GRIGOR&#160;PULLS&#160;OUT&#160;A&#160;GUN&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;// ASCII text art\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}&#160;//&#160;end&#160;of&#160;switch\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;break;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;default:&#160;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;You&#160;didn&#39;t&#160;deside&#160;right.&#160;Only&#160;[1,2&#160;or&#160;3]&#160;is&#160;possible.&#160;You&#160;leave...&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;You&#160;failed&#160;the&#160;mission.&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;You&#160;live&#160;your&#160;live.&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;One&#160;day&#160;the&#160;secret&#160;police&#160;comes&#160;to&#160;your&#160;house.&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;They&#160;send&#160;you&#160;to&#160;a&#160;prison&#160;camp.&#160;&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;You&#160;found&#160;out&#160;that&#160;your&#160;neighbor&#160;called&#160;on&#160;you.&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;You&#160;are&#160;hungry.&#160;You&#160;need&#160;to&#160;work.&#160;You&#160;feel&#160;sick.&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;//ASCII text art\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}&#160;//&#160;end&#160;of&#160;switch\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;break;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;default:&#160;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;You&#160;didn&#39;t&#160;deside&#160;right.&#160;Only&#160;[1&#160;or&#160;2]&#160;is&#160;possible.&#160;You&#160;leave&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;You&#160;failed&#160;the&#160;mission.&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;You&#160;live&#160;your&#160;live.&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;One&#160;day&#160;the&#160;secret&#160;police&#160;comes&#160;to&#160;your&#160;house.&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;They&#160;send&#160;you&#160;to&#160;a&#160;prison&#160;camp.&#160;&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;You&#160;found&#160;out&#160;that&#160;your&#160;neighbor&#160;called&#160;on&#160;you.&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;You&#160;are&#160;hungry.&#160;You&#160;need&#160;to&#160;work.&#160;You&#160;feel&#160;sick.&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;// ASCII text art\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}&#160;//&#160;end&#160;of&#160;switch\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;break;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;default:&#160;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;Grigor:&#160;You&#160;are&#160;not&#160;the&#160;one&#160;we&#160;need.&#160;What&#160;are&#160;you&#160;doing&#160;here&#160;than?&#160;Go&#160;away.&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;You&#160;are&#160;send&#160;outside.&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;You&#160;live&#160;your&#160;live&#160;like&#160;always.&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;One&#160;day&#160;the&#160;secret&#160;police&#160;comes&#160;to&#160;your&#160;house.&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;They&#160;send&#160;you&#160;to&#160;a&#160;prison&#160;camp.&#160;&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;You&#160;found&#160;out&#160;that&#160;your&#160;neighbor&#160;called&#160;on&#160;you.&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;You&#160;are&#160;hungry.&#160;You&#160;need&#160;to&#160;work.&#160;You&#160;feel&#160;sick.&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;// ASCII text art\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&quot;);\r\n\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}&#160;//&#160;end&#160;of&#160;switch\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;break;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;case&#160;&#160;2:&#160;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;You&#160;live&#160;your&#160;live.&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;One&#160;day&#160;the&#160;secret&#160;police&#160;comes&#160;to&#160;your&#160;house.&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;They&#160;send&#160;you&#160;to&#160;a&#160;prison&#160;camp.&#160;&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;You&#160;found&#160;out&#160;that&#160;your&#160;neighbor&#160;called&#160;on&#160;you.&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;&gt;&gt;&#160;You&#160;are&#160;hungry.&#160;You&#160;need&#160;to&#160;work.&#160;You&#160;feel&#160;sick.&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;// ASCII text art\r\n\r\n\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;break;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;default:&#160;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;ERROR.&#160;Only&#160;1&#160;or&#160;2&#160;are&#160;possible!&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;}&#160;//&#160;end&#160;of&#160;switch\r\n&#160;&#160;&#160;&#160;&#160;&#160;\r\n&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(name&#160;+&#160;&quot;&#160;,&#160;Do&#160;you&#160;want&#160;to&#160;play&#160;one&#160;more&#160;time?&#160;If&#160;Yes&#160;tipp&#160;[1]&#160;and&#160;ENTER,&#160;if&#160;not&#160;[0]&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;prompt&#160;=&#160;scanner.next().toUpperCase();;&#160;&#160;&#160;&#160;\r\n&#160;&#160;&#160;&#160;}while(prompt.equals(&quot;1&quot;));&#160;\r\n&#160;&#160;}\r\n}\r\n```\r\n\r\nThe thing is, I&#39;m not sure how to do it right... it will be also awsome, if after a false answer you could just loop to the question youve answered wrong and not loop to the beginning. First i thought hmmm i could make some more do-while loops, but won&#39;t be overkill?\r\n\r\nI am total nood and the whole code is a mess.`your text`","title":"i just did switch-case in a switch-case... in a switch-case. There maybe be a better way to do it right?","body":"<pre><code>import java.io.*;\nimport java.util.Scanner;\n\npublic class MyGame {\n  public static void main(String argv[]) throws IOException {\n    \n    String prompt;\n    \n    Scanner scanner = new Scanner(System. in); \n    \n//TITLE ASCII text art \n\n\n    do {\n      \n      BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\n      System.out.print(&quot;What is your name?: &quot;);\n      String name = reader.readLine();\n      System.out.println(&quot;&quot;);\n      System.out.println(&quot;Hello, comrade &quot; + name + &quot;. Do you want to be a rebel?&quot;);\n      System.out.println(&quot;&quot;);\n      \n      int i ;\n      System.out.println(&quot;[1] Yes, i want to fight for Freedom! &quot;);\n      System.out.println(&quot;[2] No, i want to live oppressed.&quot;);\n      i = Integer.parseInt(reader.readLine());\n      \n      switch (i) {\n        case  1: \n              System.out.println(&quot;&quot;);\n          System.out.println(&quot;/// 00:13 ///&quot;);\n          System.out.println(&quot;&gt;&gt; You go to a abandoned industrial building.&quot;);\n          System.out.println(&quot;&gt;&gt; You go inside, because you think there is the man you need to contact.&quot;);\n // ASCII text art\n          System.out.println(&quot;&quot;);\n          System.out.println(&quot;&gt;&gt; A man comes to you. He is young, dressed in an uniform.&quot;);\n          System.out.println(&quot;???: Here&quot;);\n          System.out.println(&quot;&gt;&gt; He passes you an military uniform.&quot;);\n          System.out.println(&quot;Grogor: My name is Grigor. You should be &quot;+name+&quot;?&quot;);\n          \n          int n ;\n          System.out.println(&quot;[1] Yes&quot;);\n          System.out.println(&quot;[2] No&quot;);\n          n = Integer.parseInt(reader.readLine());\n          \n          switch (n) {\n            case  1: \n                  System.out.println(&quot;Grigor: So you are the right one!&quot;);\n                  System.out.println(&quot;Grigor: You have your first mission. You need to get documents for me.&quot;);\n              System.out.println(&quot;Grigor: The documents are in the mayor's bureau. You need to infiltrate there in the night.&quot;);\n              System.out.println(&quot;Grigor: We think that there are in Room B102. The documents are about the payments of the city for 12.1989&quot;);\n              System.out.println(&quot;Grigor: I wish you luck! Don't forget... GOLDEN RING&quot;);\n              System.out.println(&quot;&quot;);\n              System.out.println(&quot;&gt;&gt; You are ready to do the job. It will be dangerous.&quot;);\n              System.out.println(&quot;/// 23:46 /// on the next day.&quot;);\n              System.out.println(&quot;&gt;&gt; You stand in front of the political bureau of city.&quot;);\n              System.out.println(&quot;&quot;);\n// ASCII text art\n              System.out.println(&quot;&gt;&gt; You break in the building. Sweat runs down your back. It's cold&quot;);\n              System.out.println(&quot;&gt;&gt; You go to room B102...&quot;);\n              System.out.println(&quot;&gt;&gt; It's locked&quot;);\n              System.out.println(&quot;&gt;&gt; What do you do now?&quot;);\n              System.out.println(&quot;&quot;);\n          int lock ;\n          System.out.println(&quot;[1] Try to break in with force. You kick the door.&quot;);\n          System.out.println(&quot;[2] Look around for a key.&quot;);\n          System.out.println(&quot;&quot;);\n          lock = Integer.parseInt(reader.readLine());\n              \n              switch (lock) {\n                case  1: \n                  System.out.println(&quot;&gt;&gt; You kick the door.&quot;);\n                  System.out.println(&quot;&gt;&gt; The sound echoes in the corridors.&quot;);\n                  System.out.println(&quot;&gt;&gt; You enter Room B102. You see a window in front of you. Outside you see a block of flats&quot;);\n                  System.out.println(&quot;&gt;&gt; On one of the balkons is a man smoking. Does he heared you?&quot;);\n                  System.out.println(&quot;&gt;&gt; You search for the documents in the desk. Not long after you hear steps in the corridor.&quot;);\n                  System.out.println(&quot;&gt;&gt; You panic and try to open the window and jump outside. Someone is coming!&quot;);\n                  System.out.println(&quot;Police Officer: STAY RIGHT THERE! YOU ARE ARRESTED, BASTER!&quot;);\n                  System.out.println(&quot;&quot;);\n                  System.out.println(&quot;&quot;);\n                  \n                  System.out.println(&quot;&gt;&gt; They send you to a prison camp. &quot;);\n               \n               System.out.println(&quot;&gt;&gt; You are hungry. You need to work. You feel sick.&quot;);\n// ASCII text art\n        System.out.println(&quot;&quot;);\n                  break;\n                case  2: \n                  System.out.println(&quot;&quot;);\n                  System.out.println(&quot;&gt;&gt; You look around. You see down the dark corridor the staff room.&quot;);\n                  System.out.println(&quot;&gt;&gt; The door is open. You enter the room. There are keys hanging on the wall.&quot;);\n                  System.out.println(&quot;&gt;&gt; One of them has B102 writen on.&quot;);\n                  System.out.println(&quot;&gt;&gt; You unlock Room B102&quot;);\n                  System.out.println(&quot;&gt;&gt; You enter and see a desk on the right, windows in front, on the wall is picture of the prime minister. &quot;);\n                  System.out.println(&quot;&gt;&gt; On the desk are scraps of paper&quot;);\n                  System.out.println(&quot;&gt;&gt; Next to it a cabinet with folders. You search for the documents.&quot;);\n                  System.out.println(&quot;&gt;&gt; You need to choose, which folder you need? Titles: &quot;);\n                  System.out.println(&quot;&quot;);\n                  int doc ;\n          System.out.println(&quot;[1] Budget - City GOBROVSKA XXII.1989&quot;);                     //RIGHT ONES\n          System.out.println(&quot;[2] Deposits and Withdrawals - City GOBROVSKA XXI.1989&quot;);    //FALSE DOCS\n          System.out.println(&quot;[3] Budget - Cityhall Project Nr. 423984&quot;);                  //FALSE DOCS\n          System.out.println(&quot;&quot;);\n          doc = Integer.parseInt(reader.readLine());\n                  switch (doc) {\n                    case  1:                               //RICHTIGE\n                          System.out.println(&quot;doc 1&quot;);\n                      System.out.println(&quot;&gt;&gt; You get the document and run away.&quot;);\n                      System.out.println(&quot;&gt;&gt; You walt to your home as fast as possible. You feel your breath in the throat&quot;);\n                          System.out.println(&quot;&gt;&gt; You enter the elevator of your block of flats. You throw the folder on the floor. You go to sleep with your clothes on.&quot;);\n                          System.out.println(&quot; &quot;);\n                      System.out.println(&quot; &quot;);\n                      System.out.println(&quot; &quot;);\n                      System.out.println(&quot;/// 09:26 ///&quot;);\n                      System.out.println(&quot;&gt;&gt; Knocking on the door.&quot;);\n                      System.out.println(&quot;&gt;&gt; Who can it be? DID THEY CATCH YOU?&quot;);\n                      System.out.println(&quot;You: Who is there?&quot;);\n                      System.out.println(name + &quot; It's me. You remember... GOLDEN RING&quot; );\n                      System.out.println(&quot;&quot;);\n                      System.out.println(&quot;&gt;&gt; You open the door.&quot;);\n                      System.out.println(&quot;&quot;);\n// ASCII text art\n                      System.out.println(&quot;&quot;);\n                      System.out.println(&quot;Grigor: It's me &quot;+ name +&quot;. Do you have the documents?&quot;);\n                      System.out.println(&quot;&gt;&gt; You pass Grigor the documents.&quot;);    // RIGHT DOCS\n                      System.out.println(&quot;Grigor: ...&quot;);\n                      System.out.println(&quot;Grigor: That are the right one.&quot;);\n                      System.out.println(&quot;&quot;);\n                      System.out.println(&quot;&gt;&gt; Grigor pulls out a lighter. He sets the Folder in flames&quot;);\n                      System.out.println(&quot;Grigor: We don't need evidence, don't we?&quot;);\n                      System.out.println(&quot;I will be honest with you... we actually didn't need these documents. Let's say it was a test&quot;);\n                      System.out.println(&quot;Ah don't look at me like that. We just need to know if you are spy or not.&quot;);\n                      System.out.println(&quot;You need that one. Wait for next instructions... And get this...&quot;);\n                      int gun ;\n          System.out.println(&quot;[1] You strech your hand...&quot;);                     //RIGHT DOCS\n          System.out.println(&quot;[2] You look at him...&quot;);   \n          System.out.println(&quot;&quot;);\n          gun = Integer.parseInt(reader.readLine());\n                      System.out.println(&quot;&gt;&gt; Grigor passes you a handgun&quot;);\n                      System.out.println(&quot;&gt;&gt; He laughs at you, while pushing the button of the elevator. He has one teeth missing.&quot;);\n                      System.out.println(&quot;I needed to kill you with that one... hahaha welcome in small one.&quot;);\n                      System.out.println(&quot;&gt;&gt; He lefts. You look at the gun in your hand&quot;);\n                      \n                      System.out.println(&quot;&quot;);                                                                      \n                    \n                    \n                      break;\n                    case  2: \n                          System.out.println(&quot;&gt;&gt; You get the document and run away.&quot;);\n                      System.out.println(&quot;&gt;&gt; You walt to your home as fast as possible. You feel your breath in the throat&quot;);\n                          System.out.println(&quot;&gt;&gt; You enter the elevator of your block of flats. You throw the folder on the floor. You go to sleep with your clothes on.&quot;);\n                          System.out.println(&quot; &quot;);\n                      System.out.println(&quot; &quot;);\n                      System.out.println(&quot; &quot;);\n                      System.out.println(&quot;/// 09:26 ///&quot;);\n                      System.out.println(&quot;&gt;&gt; Knocking on the door.&quot;);\n                      System.out.println(&quot;&gt;&gt; Who can it be? DID THEY CATCH YOU?&quot;);\n                      System.out.println(&quot;You: Who is there?&quot;);\n                      System.out.println(name + &quot; It's me. You remember... GOLDEN RING&quot; );\n                      System.out.println(&quot;&quot;);\n                      System.out.println(&quot;&gt;&gt; You open the door.&quot;);\n                      System.out.println(&quot;&quot;);\n                      System.out.println(&quot;&quot;);\n// ASCII text art\n                      System.out.println(&quot;&quot;);\n                      System.out.println(&quot;Grigor: It's me &quot;+ name +&quot;. Do you have the documents?&quot;);\n                      System.out.println(&quot;&gt;&gt; You pass Grigor the documents.&quot;);\n                      System.out.println(&quot;Grigor: Deposits and Withdrawals - City GOBROVSKA ... The Date is XXI.1989.&quot;);\n                      System.out.println(&quot;Grigor: WE NEEDED THE ONE FOR 12.1989, NOT FOR 11.&quot;);\n                      System.out.println(&quot;Grigor: ARE YOU A SPY YOU BASTERED!? DO YOU WANT TO SABOTAGE US?&quot;);\n                      System.out.println(&quot;&quot;);\n                      int grigor ;\n          System.out.println(&quot;[1] &gt;&gt; NO. IT WAS A FAILURE!...&quot;);\n          System.out.println(&quot;[2] &gt;&gt; Stay in silence&quot;);\n          System.out.println(&quot;&quot;);\n          grigor = Integer.parseInt(reader.readLine());\n        switch (grigor) {\n          case  1: \n                  System.out.println(&quot;&quot;);\n                      System.out.println(&quot;&gt;&gt; GRIGOR PULLS OUT A GUN&quot;);\n        // ASCII text art\n            break;\n          default: \n                  System.out.println(&quot;&quot;);\n                      System.out.println(&quot;&gt;&gt; GRIGOR PULLS OUT A GUN&quot;);\n       // ASCII text art\n        System.out.println(&quot;&quot;);\n        } // end of switch\n                      \n                      break;\n                    case  3: \n                        System.out.println(&quot;&gt;&gt; You get the document and run away.&quot;);\n                      System.out.println(&quot;&gt;&gt; You walt to your home as fast as possible. You feel your breath in the throat&quot;);\n                          System.out.println(&quot;&gt;&gt; You enter the elevator of your block of flats. You throw the folder on the floor. You go to sleep with your clothes on.&quot;);\n                          System.out.println(&quot; &quot;);\n                      System.out.println(&quot; &quot;);\n                      System.out.println(&quot; &quot;);\n                      System.out.println(&quot;/// 09:26 ///&quot;);\n                      System.out.println(&quot;&gt;&gt; Knocking on the door.&quot;);\n                      System.out.println(&quot;&gt;&gt; Who can it be? DID THEY CATCH YOU?&quot;);\n                      System.out.println(&quot;You: Who is there?&quot;);\n                      System.out.println(name + &quot; It's me. You remember... GOLDEN RING&quot; );\n                      System.out.println(&quot;&quot;);\n                      System.out.println(&quot;&gt;&gt; You open the door.&quot;);\n                      System.out.println(&quot;&quot;);\n                      System.out.println(&quot;&quot;);\n// ASCII text art\n                      System.out.println(&quot;&quot;);\n                      System.out.println(&quot;Grigor: It's me &quot;+ name +&quot;. Do you have the documents?&quot;);\n                      System.out.println(&quot;&gt;&gt; You pass Grigor the documents.&quot;);\n                      System.out.println(&quot;Grigor: WE NEEDED THE BUDGET OF THE CITY NOT FOR ONE PROJECT&quot;);\n                      System.out.println(&quot;Grigor: ARE YOU A SPY YOU BASTERED!? DO YOU WANT TO SABOTAGE US?&quot;);\n                      System.out.println(&quot;&quot;);\n          int grigorr ;\n          System.out.println(&quot;[1] &gt;&gt; NO. IT WAS A FAILURE!...&quot;);\n          System.out.println(&quot;[2] &gt;&gt; Stay in silence&quot;);\n          System.out.println(&quot;&quot;);\n          grigorr = Integer.parseInt(reader.readLine());\n        switch (grigorr) {\n          case  1: \n                  System.out.println(&quot;&quot;);\n                      System.out.println(&quot;&gt;&gt; GRIGOR PULLS OUT A GUN&quot;);\n        /ASCII text art\n            break;\n          default: \n                  System.out.println(&quot;&quot;);\n                      System.out.println(&quot;&gt;&gt; GRIGOR PULLS OUT A GUN&quot;);\n       // ASCII text art\n        System.out.println(&quot;&quot;);\n        } // end of switch\n                      break;\n                    default: \n              System.out.println(&quot;&gt;&gt; You didn't deside right. Only [1,2 or 3] is possible. You leave...&quot;);\n                  System.out.println(&quot;&gt;&gt; You failed the mission.&quot;);\n                  System.out.println(&quot;&quot;);\n               System.out.println(&quot;&gt;&gt; You live your live.&quot;);\n               System.out.println(&quot;&gt;&gt; One day the secret police comes to your house.&quot;);\n               System.out.println(&quot;&gt;&gt; They send you to a prison camp. &quot;);\n               System.out.println(&quot;&gt;&gt; You found out that your neighbor called on you.&quot;);\n               System.out.println(&quot;&gt;&gt; You are hungry. You need to work. You feel sick.&quot;);\n        //ASCII text art\n                  } // end of switch\n                  break;\n                default: \n                  System.out.println(&quot;&gt;&gt; You didn't deside right. Only [1 or 2] is possible. You leave&quot;);\n                  System.out.println(&quot;&gt;&gt; You failed the mission.&quot;);\n                  System.out.println(&quot;&quot;);\n               System.out.println(&quot;&gt;&gt; You live your live.&quot;);\n               System.out.println(&quot;&gt;&gt; One day the secret police comes to your house.&quot;);\n               System.out.println(&quot;&gt;&gt; They send you to a prison camp. &quot;);\n               System.out.println(&quot;&gt;&gt; You found out that your neighbor called on you.&quot;);\n               System.out.println(&quot;&gt;&gt; You are hungry. You need to work. You feel sick.&quot;);\n        // ASCII text art\n        System.out.println(&quot;&quot;);\n                  \n              } // end of switch\n           \n              break;\n            \n            default: \n                  System.out.println(&quot;Grigor: You are not the one we need. What are you doing here than? Go away.&quot;);\n                  System.out.println(&quot;&gt;&gt; You are send outside.&quot;);\n                  System.out.println(&quot;&quot;);\n               System.out.println(&quot;&gt;&gt; You live your live like always.&quot;);\n               System.out.println(&quot;&gt;&gt; One day the secret police comes to your house.&quot;);\n               System.out.println(&quot;&gt;&gt; They send you to a prison camp. &quot;);\n               System.out.println(&quot;&gt;&gt; You found out that your neighbor called on you.&quot;);\n               System.out.println(&quot;&gt;&gt; You are hungry. You need to work. You feel sick.&quot;);\n        // ASCII text art\n        System.out.println(&quot;&quot;);\n\n          } // end of switch\n          \n        \n        \n          break;\n        case  2: \n               System.out.println(&quot;&quot;);\n               System.out.println(&quot;&gt;&gt; You live your live.&quot;);\n               System.out.println(&quot;&gt;&gt; One day the secret police comes to your house.&quot;);\n               System.out.println(&quot;&gt;&gt; They send you to a prison camp. &quot;);\n               System.out.println(&quot;&gt;&gt; You found out that your neighbor called on you.&quot;);\n               System.out.println(&quot;&gt;&gt; You are hungry. You need to work. You feel sick.&quot;);\n        // ASCII text art\n\n\n          break;\n        default: \n               System.out.println(&quot;ERROR. Only 1 or 2 are possible!&quot;);\n      } // end of switch\n      \n      System.out.println(name + &quot; , Do you want to play one more time? If Yes tipp [1] and ENTER, if not [0]&quot;);\n      prompt = scanner.next().toUpperCase();;    \n    }while(prompt.equals(&quot;1&quot;)); \n  }\n}\n</code></pre>\n<p>The thing is, I'm not sure how to do it right... it will be also awsome, if after a false answer you could just loop to the question youve answered wrong and not loop to the beginning. First i thought hmmm i could make some more do-while loops, but won't be overkill?</p>\n<p>I am total nood and the whole code is a mess.<code>your text</code></p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":7547772,"reputation":8593,"user_id":5730279,"display_name":"hc_dev"},"score":2,"creation_date":1671005419,"post_id":74795022,"comment_id":132001201,"body_markdown":"Can you explain, what is not working with your code? And what is your question exactly?","body":"Can you explain, what is not working with your code? And what is your question exactly?"},{"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":0,"creation_date":1671172041,"post_id":74795022,"comment_id":132045915,"body_markdown":"Why is your map inserting same key twice i.e. `Amit` ?","body":"Why is your map inserting same key twice i.e. <code>Amit</code> ?"}],"answers":[{"tags":[],"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671004645,"creation_date":1671004645,"answer_id":74795108,"question_id":74795022,"body_markdown":"I would collect the map into a TreeMap sorted by the keys in reverse order using `groupingBy`. Then get the 2nd element from it using *skip* as,\r\n\r\n    TreeMap&lt;Integer, List&lt;String&gt;&gt; treeMap = map.entrySet()\r\n                .stream()\r\n                .collect(Collectors.groupingBy(Map.Entry::getValue,\r\n                        () -&gt; new TreeMap&lt;&gt;(Comparator.&lt;Integer&gt;reverseOrder()),\r\n                        Collectors.mapping(Map.Entry::getKey, Collectors.toList())));\r\n\r\n    Map.Entry&lt;Integer, List&lt;String&gt;&gt; result = treeMap.entrySet()\r\n                .stream()\r\n                .skip(1)\r\n                .findFirst()\r\n                .get();\r\n    System.out.println(result);\r\n\r\nOutputs,\r\n\r\n    7=[Rajesh, Chetan]\r\n\r\nNote, we are assuming a second-max will always be present as we call `get` on an `Optional`.","title":"How to get all entries with second highest value of a Hashmap?","body":"<p>I would collect the map into a TreeMap sorted by the keys in reverse order using <code>groupingBy</code>. Then get the 2nd element from it using <em>skip</em> as,</p>\n<pre><code>TreeMap&lt;Integer, List&lt;String&gt;&gt; treeMap = map.entrySet()\n            .stream()\n            .collect(Collectors.groupingBy(Map.Entry::getValue,\n                    () -&gt; new TreeMap&lt;&gt;(Comparator.&lt;Integer&gt;reverseOrder()),\n                    Collectors.mapping(Map.Entry::getKey, Collectors.toList())));\n\nMap.Entry&lt;Integer, List&lt;String&gt;&gt; result = treeMap.entrySet()\n            .stream()\n            .skip(1)\n            .findFirst()\n            .get();\nSystem.out.println(result);\n</code></pre>\n<p>Outputs,</p>\n<pre><code>7=[Rajesh, Chetan]\n</code></pre>\n<p>Note, we are assuming a second-max will always be present as we call <code>get</code> on an <code>Optional</code>.</p>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671006511,"creation_date":1671006511,"answer_id":74795415,"question_id":74795022,"body_markdown":"**Be simple!** The key word is a **second max**. It means you should use `PriorityQueue`:\r\n\r\n```java \r\nQueue&lt;Map.Entry&lt;String, Integer&gt;&gt; maxQueue = new PriorityQueue&lt;&gt;((one, two) -&gt;\r\n                              Integer.compare(two.getValue(), one.getValue()));\r\nmaxQueue.addAll(map.entrySet());\r\n\r\nMap.Entry&lt;String, Integer&gt; firstMax = maxQueue.remove();\r\nMap.Entry&lt;String, Integer&gt; secondMax = maxQueue.remove();\r\n```","title":"How to get all entries with second highest value of a Hashmap?","body":"<p><strong>Be simple!</strong> The key word is a <strong>second max</strong>. It means you should use <code>PriorityQueue</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Queue&lt;Map.Entry&lt;String, Integer&gt;&gt; maxQueue = new PriorityQueue&lt;&gt;((one, two) -&gt;\n                              Integer.compare(two.getValue(), one.getValue()));\nmaxQueue.addAll(map.entrySet());\n\nMap.Entry&lt;String, Integer&gt; firstMax = maxQueue.remove();\nMap.Entry&lt;String, Integer&gt; secondMax = maxQueue.remove();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1671013032,"creation_date":1671013032,"answer_id":74796666,"question_id":74795022,"body_markdown":"&gt; If multiple values are present then also I want both key and value.\r\n\r\nYour code works only for a single value. In order to get the multiple values, group the entries on their values and then apply your code on the `Stream` derived from the resulting `Map`.\r\n\r\n**Demo**:\r\n\r\n    import java.util.Collections;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.Map.Entry;\r\n    import java.util.stream.Collectors;\r\n    \r\n    class Main {\r\n    \r\n        public static void main(String args[]) {\r\n            HashMap&lt;String, Integer&gt; map = new HashMap&lt;String, Integer&gt;();\r\n            map.put(&quot;Pankaj&quot;, 1);\r\n            map.put(&quot;Amit&quot;, 2);\r\n            map.put(&quot;Rahul&quot;, 5);\r\n            map.put(&quot;Chetan&quot;, 7);\r\n            map.put(&quot;Vinod&quot;, 6);\r\n            map.put(&quot;Amit&quot;, 8);\r\n            map.put(&quot;Rajesh&quot;, 7);\r\n    \r\n            List&lt;Entry&lt;String, Integer&gt;&gt; result = map.entrySet()\r\n                    .stream()\r\n                    .collect(Collectors.groupingBy(e -&gt; e.getValue()))\r\n                    .entrySet()\r\n                    .stream()\r\n                    .sorted(Collections.reverseOrder(Map.Entry.comparingByKey()))\r\n                    .skip(1)\r\n                    .findFirst()\r\n                    .get()\r\n                    .getValue();\r\n    \r\n            System.out.println(result);\r\n        }\r\n    }\r\n**Output**:\r\n\r\n    [Rajesh=7, Chetan=7]","title":"How to get all entries with second highest value of a Hashmap?","body":"<blockquote>\n<p>If multiple values are present then also I want both key and value.</p>\n</blockquote>\n<p>Your code works only for a single value. In order to get the multiple values, group the entries on their values and then apply your code on the <code>Stream</code> derived from the resulting <code>Map</code>.</p>\n<p><strong>Demo</strong>:</p>\n<pre><code>import java.util.Collections;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Map.Entry;\nimport java.util.stream.Collectors;\n\nclass Main {\n\n    public static void main(String args[]) {\n        HashMap&lt;String, Integer&gt; map = new HashMap&lt;String, Integer&gt;();\n        map.put(&quot;Pankaj&quot;, 1);\n        map.put(&quot;Amit&quot;, 2);\n        map.put(&quot;Rahul&quot;, 5);\n        map.put(&quot;Chetan&quot;, 7);\n        map.put(&quot;Vinod&quot;, 6);\n        map.put(&quot;Amit&quot;, 8);\n        map.put(&quot;Rajesh&quot;, 7);\n\n        List&lt;Entry&lt;String, Integer&gt;&gt; result = map.entrySet()\n                .stream()\n                .collect(Collectors.groupingBy(e -&gt; e.getValue()))\n                .entrySet()\n                .stream()\n                .sorted(Collections.reverseOrder(Map.Entry.comparingByKey()))\n                .skip(1)\n                .findFirst()\n                .get()\n                .getValue();\n\n        System.out.println(result);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>[Rajesh=7, Chetan=7]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671226230,"creation_date":1671226230,"answer_id":74829946,"question_id":74795022,"body_markdown":"Here is an efficient way to get all second highest elements without any sorting:\r\n\r\n[*Online Demo*][1]\r\n\r\n```sh\r\nstatic Map&lt;String, Integer&gt; map = Map.of(&quot;Pankaj&quot;,1, &quot;Amita&quot;,2,\r\n    &quot;Rahul&quot;,5, &quot;Chetan&quot;,7, &quot;Vinod&quot;,6, &quot;Amit&quot;,8, &quot;Rajesh&quot;,7, &quot;Foo&quot;,8);\r\nstatic Integer max2 = Integer.MIN_VALUE;\r\nstatic List&lt;String&gt; values = new ArrayList&lt;&gt;();\r\n\r\npublic static void main(String[] args) {\r\n    // find max value first\r\n\tInteger max = map.values()\r\n\t\t\t.stream()\r\n\t\t\t.mapToInt(v -&gt; v)\r\n\t\t\t.max().orElseThrow(NoSuchElementException::new);\r\n\r\n    // if it is not max then set max2\r\n\tmap.entrySet().forEach(el -&gt; {\r\n\t\tif (el.getValue() != max &amp;&amp; el.getValue() &gt;= max2) {\r\n\t\t\tif (el.getValue() != max2) {\r\n\t\t\t\tvalues.clear();\r\n\t\t\t\tmax2 = el.getValue();\r\n\t\t\t}\r\n\t\t\tvalues.add(el.getKey());\r\n\t\t}\r\n\t});\r\n\r\n\tSystem.out.println(max2 + &quot;=&quot; + values);\r\n}\r\n```\r\n\r\n**Output:**\r\n\r\n    7=[Rajesh, Chetan]\r\n\r\n  [1]: https://ideone.com/4cSPqI","title":"How to get all entries with second highest value of a Hashmap?","body":"<p>Here is an efficient way to get all second highest elements without any sorting:</p>\n<p><a href=\"https://ideone.com/4cSPqI\" rel=\"nofollow noreferrer\"><em>Online Demo</em></a></p>\n<pre class=\"lang-bash prettyprint-override\"><code>static Map&lt;String, Integer&gt; map = Map.of(&quot;Pankaj&quot;,1, &quot;Amita&quot;,2,\n    &quot;Rahul&quot;,5, &quot;Chetan&quot;,7, &quot;Vinod&quot;,6, &quot;Amit&quot;,8, &quot;Rajesh&quot;,7, &quot;Foo&quot;,8);\nstatic Integer max2 = Integer.MIN_VALUE;\nstatic List&lt;String&gt; values = new ArrayList&lt;&gt;();\n\npublic static void main(String[] args) {\n    // find max value first\n    Integer max = map.values()\n            .stream()\n            .mapToInt(v -&gt; v)\n            .max().orElseThrow(NoSuchElementException::new);\n\n    // if it is not max then set max2\n    map.entrySet().forEach(el -&gt; {\n        if (el.getValue() != max &amp;&amp; el.getValue() &gt;= max2) {\n            if (el.getValue() != max2) {\n                values.clear();\n                max2 = el.getValue();\n            }\n            values.add(el.getKey());\n        }\n    });\n\n    System.out.println(max2 + &quot;=&quot; + values);\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>7=[Rajesh, Chetan]\n</code></pre>\n"}],"owner":{"account_id":2601352,"reputation":21,"user_id":4711383,"display_name":"user4711383"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":410,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":4,"score":0,"last_activity_date":1671226230,"creation_date":1671004161,"question_id":74795022,"body_markdown":"I want to get the second max number or value of a Map by using Java Streams.\r\n\r\n**If multiple values are present then also I want both key and value.**\r\n\r\n```\r\nHashMap&lt;String, Integer&gt; map = new HashMap&lt;String,Integer&gt;();\t\t\r\n\tmap.put(&quot;Pankaj&quot;,1);\r\n\tmap.put(&quot;Amit&quot;,2);\r\n\tmap.put(&quot;Rahul&quot;,5);\r\n\tmap.put(&quot;Chetan&quot;,7);\r\n\tmap.put(&quot;Vinod&quot;,6);\r\n\tmap.put(&quot;Amit&quot;,8);\r\n\tmap.put(&quot;Rajesh&quot;, 7);\r\n\t\t\r\nEntry&lt;String, Integer&gt; m = map.entrySet().stream()\r\n    .sorted(Collections.reverseOrder(Map.Entry.comparingByValue()))\r\n\t.skip(1)\r\n\t.findFirst()\r\n\t.get();\r\n```\r\n","title":"How to get all entries with second highest value of a Hashmap?","body":"<p>I want to get the second max number or value of a Map by using Java Streams.</p>\n<p><strong>If multiple values are present then also I want both key and value.</strong></p>\n<pre><code>HashMap&lt;String, Integer&gt; map = new HashMap&lt;String,Integer&gt;();       \n    map.put(&quot;Pankaj&quot;,1);\n    map.put(&quot;Amit&quot;,2);\n    map.put(&quot;Rahul&quot;,5);\n    map.put(&quot;Chetan&quot;,7);\n    map.put(&quot;Vinod&quot;,6);\n    map.put(&quot;Amit&quot;,8);\n    map.put(&quot;Rajesh&quot;, 7);\n        \nEntry&lt;String, Integer&gt; m = map.entrySet().stream()\n    .sorted(Collections.reverseOrder(Map.Entry.comparingByValue()))\n    .skip(1)\n    .findFirst()\n    .get();\n</code></pre>\n"},{"tags":["java","spring","criteria","hibernate-criteria","criteria-api"],"comments":[{"owner":{"account_id":1522148,"reputation":597,"user_id":1421518,"accept_rate":100,"display_name":"amstegraf"},"score":0,"creation_date":1604391142,"post_id":64657744,"comment_id":114326190,"body_markdown":"Your join should be inverted, because your root is User. So you are actually looking for user in User object. eg Join&lt;Item, User&gt;. I&#39;ve also added a full example in my answer","body":"Your join should be inverted, because your root is User. So you are actually looking for user in User object. eg Join&lt;Item, User&gt;. I&#39;ve also added a full example in my answer"}],"answers":[{"tags":[],"owner":{"account_id":1522148,"reputation":597,"user_id":1421518,"accept_rate":100,"display_name":"amstegraf"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604391082,"creation_date":1604390579,"answer_id":64658873,"question_id":64657744,"body_markdown":"You would need to have something like\r\n\r\n    Join&lt;Item, User&gt; userJoin = root.join(Item_.user, JoinType.LEFT);\r\n\r\nand afterwards you can use `userJoin.get(...)` with your `criteriaBuilder`\r\n\r\nFull example with Specifications:\r\n\r\n    public static Specification&lt;Item&gt; methodName() {\r\n       return new Specification&lt;Item&gt;() {\r\n          @Override\r\n          public Predicate toPredicate(Root&lt;Item&gt; root, CriteriaQuery criteriaQuery, CriteriaBuilder criteriaBuilder) {\r\n             Join&lt;Item, User&gt; userJoin = root.join(Item_.user, JoinType.LEFT);\r\n\r\n             return criteriaBuilder.isTrue(\r\n                criteriaBuilder.and(\r\n                   criteriaBuilder.equal(userJoin.get(User_.id), 1),\r\n                   criteriaBuilder.equal(root.get(Item_.name), userJoin.get(User_.name))\r\n                )\r\n             );\r\n          }\r\n       }\r\n    }\r\n\r\n","title":"How to make left join criteria api in spring with ManyToOne?","body":"<p>You would need to have something like</p>\n<pre><code>Join&lt;Item, User&gt; userJoin = root.join(Item_.user, JoinType.LEFT);\n</code></pre>\n<p>and afterwards you can use <code>userJoin.get(...)</code> with your <code>criteriaBuilder</code></p>\n<p>Full example with Specifications:</p>\n<pre><code>public static Specification&lt;Item&gt; methodName() {\n   return new Specification&lt;Item&gt;() {\n      @Override\n      public Predicate toPredicate(Root&lt;Item&gt; root, CriteriaQuery criteriaQuery, CriteriaBuilder criteriaBuilder) {\n         Join&lt;Item, User&gt; userJoin = root.join(Item_.user, JoinType.LEFT);\n\n         return criteriaBuilder.isTrue(\n            criteriaBuilder.and(\n               criteriaBuilder.equal(userJoin.get(User_.id), 1),\n               criteriaBuilder.equal(root.get(Item_.name), userJoin.get(User_.name))\n            )\n         );\n      }\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18883412,"reputation":41,"user_id":13775363,"display_name":"Anton Galishnikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604391536,"creation_date":1604391536,"answer_id":64659056,"question_id":64657744,"body_markdown":"Try joining on a column that is part of your root.\r\nEither \r\n\r\n    Root&lt;User&gt; userRoot = ...\r\n    userRoot.join(&quot;items&quot;, JoinType.RIGHT);\r\n\r\nor\r\n\r\n    Root&lt;Item&gt; itemRoot = ...\r\n    itemRoot.join(&quot;user&quot;, JoinType.LEFT);","title":"How to make left join criteria api in spring with ManyToOne?","body":"<p>Try joining on a column that is part of your root.\nEither</p>\n<pre><code>Root&lt;User&gt; userRoot = ...\nuserRoot.join(&quot;items&quot;, JoinType.RIGHT);\n</code></pre>\n<p>or</p>\n<pre><code>Root&lt;Item&gt; itemRoot = ...\nitemRoot.join(&quot;user&quot;, JoinType.LEFT);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":37795,"reputation":1585,"user_id":108153,"accept_rate":25,"display_name":"codeDr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671226143,"creation_date":1671226143,"answer_id":74829938,"question_id":64657744,"body_markdown":"The following worked for me and produce working sql for finding User entries with matching values on User and Items.\r\n\r\n    CriteriaQuery&lt;User&gt; cq = cb.createQuery(User.class);\r\n\r\n    Root&lt;User&gt; root = cq.from(User.class);\r\n    Root&lt;Item&gt; item = cq.from(Item.class);\r\n    \r\n    cq.distinct(true);\r\n\r\n    Join&lt;Item, User&gt; itemJoin = item.join(Item_.user);\r\n    itemJoin.on( cb.equal( root.get(User_.id), itemJoin.get(User_.id) );\r\n\r\n    predicates.add( &lt;root predicate&gt; );\r\n    predicates.add( &lt;item predicate&gt; );\r\n    \r\n    [ ... ]\r\n","title":"How to make left join criteria api in spring with ManyToOne?","body":"<p>The following worked for me and produce working sql for finding User entries with matching values on User and Items.</p>\n<pre><code>CriteriaQuery&lt;User&gt; cq = cb.createQuery(User.class);\n\nRoot&lt;User&gt; root = cq.from(User.class);\nRoot&lt;Item&gt; item = cq.from(Item.class);\n\ncq.distinct(true);\n\nJoin&lt;Item, User&gt; itemJoin = item.join(Item_.user);\nitemJoin.on( cb.equal( root.get(User_.id), itemJoin.get(User_.id) );\n\npredicates.add( &lt;root predicate&gt; );\npredicates.add( &lt;item predicate&gt; );\n\n[ ... ]\n</code></pre>\n"}],"owner":{"account_id":14339953,"reputation":295,"user_id":10358410,"display_name":"Семен Немытов"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1727,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1671226143,"creation_date":1604384802,"question_id":64657744,"body_markdown":"I have two simple classes with many to one relationship \r\n\r\n```\r\npublic class User {\r\n\r\n  Long id; \r\n  String name;\r\n  ...\r\n  (getters, setters, methods)\r\n\r\n}\r\n\r\npublic class Item {\r\n\r\n  Long id; \r\n  String name;\r\n\r\n  @ManyToOne(cascade = PERSIST, fetch = LAZY, optional = false)\r\n  User user;\r\n  ...\r\n  (getters, setters, methods)\r\n\r\n}\r\n\r\n```\r\nI want to make a left join. I have tried : \r\n```\r\nSubquery&lt;Long&gt; subquery = query.subquery(Long.class)\r\nRoot&lt;User&gt; root = subquery.from(User .class);\r\nJoin&lt;User, Item&gt; join = root.join(&quot;user&quot;, JoinType.LEFT); \r\n```\r\nbut it trow exception that there is no &quot;user&quot; in User, and I understand why. \r\nHow to make this right? ","title":"How to make left join criteria api in spring with ManyToOne?","body":"<p>I have two simple classes with many to one relationship</p>\n<pre><code>public class User {\n\n  Long id; \n  String name;\n  ...\n  (getters, setters, methods)\n\n}\n\npublic class Item {\n\n  Long id; \n  String name;\n\n  @ManyToOne(cascade = PERSIST, fetch = LAZY, optional = false)\n  User user;\n  ...\n  (getters, setters, methods)\n\n}\n\n</code></pre>\n<p>I want to make a left join. I have tried :</p>\n<pre><code>Subquery&lt;Long&gt; subquery = query.subquery(Long.class)\nRoot&lt;User&gt; root = subquery.from(User .class);\nJoin&lt;User, Item&gt; join = root.join(&quot;user&quot;, JoinType.LEFT); \n</code></pre>\n<p>but it trow exception that there is no &quot;user&quot; in User, and I understand why.\nHow to make this right?</p>\n"},{"tags":["java","android","firebase","mobile-development"],"answers":[{"comments":[{"owner":{"account_id":23174992,"reputation":1,"user_id":17273649,"display_name":"peaky"},"score":0,"creation_date":1671225486,"post_id":74829840,"comment_id":132061462,"body_markdown":"Tho this is only for setting multiple alarms. Not yet solved for the problem with the recyclerview","body":"Tho this is only for setting multiple alarms. Not yet solved for the problem with the recyclerview"}],"tags":[],"owner":{"account_id":23174992,"reputation":1,"user_id":17273649,"display_name":"peaky"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671225411,"creation_date":1671225411,"answer_id":74829840,"question_id":74829428,"body_markdown":"Solved it by setting different requestCode everytime I set an alarm.\r\n\r\n    private void startAlarm(Calendar cal) {\r\n        AlarmManager alarmManager = (AlarmManager) getActivity().getSystemService(Context.ALARM_SERVICE);\r\n        Intent intent = new Intent(getActivity(), AlertReceiver.class);\r\n        final int id = (int) System.currentTimeMillis();\r\n        PendingIntent pendingIntent = PendingIntent.getBroadcast(getActivity(), id, intent, PendingIntent.FLAG_MUTABLE);\r\n\r\n        alarmManager.setExact(AlarmManager.RTC_WAKEUP, cal.getTimeInMillis(), pendingIntent);\r\n    }","title":"Do I still need database in setting multiple alarms or reminders?","body":"<p>Solved it by setting different requestCode everytime I set an alarm.</p>\n<pre><code>private void startAlarm(Calendar cal) {\n    AlarmManager alarmManager = (AlarmManager) getActivity().getSystemService(Context.ALARM_SERVICE);\n    Intent intent = new Intent(getActivity(), AlertReceiver.class);\n    final int id = (int) System.currentTimeMillis();\n    PendingIntent pendingIntent = PendingIntent.getBroadcast(getActivity(), id, intent, PendingIntent.FLAG_MUTABLE);\n\n    alarmManager.setExact(AlarmManager.RTC_WAKEUP, cal.getTimeInMillis(), pendingIntent);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":23174992,"reputation":1,"user_id":17273649,"display_name":"peaky"},"score":0,"creation_date":1671227133,"post_id":74829917,"comment_id":132061821,"body_markdown":"I see. Tho i want to just retrieve the alarm&#39;s task name and time in String format for the recycler view. And add a condition that when the set time is met, it will cancel and delete the data from the database. Is this a good approach?","body":"I see. Tho i want to just retrieve the alarm&#39;s task name and time in String format for the recycler view. And add a condition that when the set time is met, it will cancel and delete the data from the database. Is this a good approach?"},{"owner":{"account_id":1198166,"reputation":1484,"user_id":1169441,"display_name":"Varsha Kulkarni"},"score":0,"creation_date":1671228265,"post_id":74829917,"comment_id":132062071,"body_markdown":"Yes, that&#39;s correct.","body":"Yes, that&#39;s correct."}],"tags":[],"owner":{"account_id":1198166,"reputation":1484,"user_id":1169441,"display_name":"Varsha Kulkarni"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671225969,"creation_date":1671225969,"answer_id":74829917,"question_id":74829428,"body_markdown":"Yes, you need to **persist** the state of alarms set by your app and display the same to the user. Once set we cannot retrieve the alarms set by the system at the app level. All we can do is dump them using adb shell using:\r\n\r\n```\r\nadb shell dumpsys alarm &gt; alarms_dump.txt\r\n```","title":"Do I still need database in setting multiple alarms or reminders?","body":"<p>Yes, you need to <strong>persist</strong> the state of alarms set by your app and display the same to the user. Once set we cannot retrieve the alarms set by the system at the app level. All we can do is dump them using adb shell using:</p>\n<pre><code>adb shell dumpsys alarm &gt; alarms_dump.txt\n</code></pre>\n"}],"owner":{"account_id":23174992,"reputation":1,"user_id":17273649,"display_name":"peaky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1671225969,"creation_date":1671222253,"question_id":74829428,"body_markdown":"So I&#39;m developing this Android application which has many features, and one of them is the workout reminder. We used firebase database in setting up login authentication, and the user&#39;s information. \r\n\r\nNow for the last feature, I made a workout reminder which consists of ***Task Name*** and ***Time*** which also has a notification and. It only sets one alarm and I assume that if I applied and displayed it in a ***Recycler View***, it will set multiple alarms. Unfortunately, it doesn&#39;t. When the reminder is displayed in the Recycler View, and when I restart the application, the reminder is gone. \r\n\r\n**I just want to humbly ask if I need to store it in a database and then retrieve it?**\r\n\r\nThank you in advance!\r\n\r\nHere is my code below:\r\n\r\n    public class AlertReceiver extends BroadcastReceiver {\r\n    \r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n        NotificationHelper notificationHelper = new NotificationHelper(context);\r\n        NotificationCompat.Builder nb = notificationHelper.getChannel1Notification(reminderAddFragment.getTitle(), reminderAddFragment.getMessage());\r\n        notificationHelper.getManager().notify(1, nb.build());\r\n    }\r\n}\r\n\r\n     private void startAlarm(Calendar cal) {\r\n        AlarmManager alarmManager = (AlarmManager) getActivity().getSystemService(Context.ALARM_SERVICE);\r\n        Intent intent = new Intent(getActivity(), AlertReceiver.class);\r\n        PendingIntent pendingIntent = PendingIntent.getBroadcast(getActivity(), 1, intent, 0);\r\n\r\n        alarmManager.setExact(AlarmManager.RTC_WAKEUP, cal.getTimeInMillis(), pendingIntent);\r\n    }","title":"Do I still need database in setting multiple alarms or reminders?","body":"<p>So I'm developing this Android application which has many features, and one of them is the workout reminder. We used firebase database in setting up login authentication, and the user's information.</p>\n<p>Now for the last feature, I made a workout reminder which consists of <em><strong>Task Name</strong></em> and <em><strong>Time</strong></em> which also has a notification and. It only sets one alarm and I assume that if I applied and displayed it in a <em><strong>Recycler View</strong></em>, it will set multiple alarms. Unfortunately, it doesn't. When the reminder is displayed in the Recycler View, and when I restart the application, the reminder is gone.</p>\n<p><strong>I just want to humbly ask if I need to store it in a database and then retrieve it?</strong></p>\n<p>Thank you in advance!</p>\n<p>Here is my code below:</p>\n<pre><code>public class AlertReceiver extends BroadcastReceiver {\n\n@Override\npublic void onReceive(Context context, Intent intent) {\n    NotificationHelper notificationHelper = new NotificationHelper(context);\n    NotificationCompat.Builder nb = notificationHelper.getChannel1Notification(reminderAddFragment.getTitle(), reminderAddFragment.getMessage());\n    notificationHelper.getManager().notify(1, nb.build());\n}\n</code></pre>\n<p>}</p>\n<pre><code> private void startAlarm(Calendar cal) {\n    AlarmManager alarmManager = (AlarmManager) getActivity().getSystemService(Context.ALARM_SERVICE);\n    Intent intent = new Intent(getActivity(), AlertReceiver.class);\n    PendingIntent pendingIntent = PendingIntent.getBroadcast(getActivity(), 1, intent, 0);\n\n    alarmManager.setExact(AlarmManager.RTC_WAKEUP, cal.getTimeInMillis(), pendingIntent);\n}\n</code></pre>\n"},{"tags":["java","service","eclipse-plugin","osgi"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1669289461,"post_id":74559031,"comment_id":131613492,"body_markdown":"I&#39;m not an expert in this area. Several things in Eclipse use `open(true)`. Looking at the source it seems to come down to skipping the call to `org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.isAssignableTo`","body":"I&#39;m not an expert in this area. Several things in Eclipse use <code>open(true)</code>. Looking at the source it seems to come down to skipping the call to <code>org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.is&zwnj;&#8203;AssignableTo</code>"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1669290930,"post_id":74559031,"comment_id":131613975,"body_markdown":"I guess, without knowing it, it&#39;s only possible when specifying the service class as `String`, using `new ServiceTracker(BundleContext, String, ServiceTrackerCustomizer)` instead of `new ServiceTracker(BundleContext, Class, ServiceTrackerCustomizer)`.","body":"I guess, without knowing it, it&#39;s only possible when specifying the service class as <code>String</code>, using <code>new ServiceTracker(BundleContext, String, ServiceTrackerCustomizer)</code> instead of <code>new ServiceTracker(BundleContext, Class, ServiceTrackerCustomizer)</code>."}],"answers":[{"tags":[],"owner":{"account_id":201851,"reputation":9354,"user_id":448551,"display_name":"BJ Hargrave"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671225966,"creation_date":1669468222,"answer_id":74582449,"question_id":74559031,"body_markdown":"There can be different providers of the package of a service interface. For example, org.foo.service version=1.0 and org.foo.service version 1.2. There can also be two providers of the service registered, one using the version 1.0 package and another using the version 1.2 package for the service interface. As a user of the service, a bundle importing the org.foo.service package can only be wired to one of the providers of the package. This means it can only be type-compatible with one of the services.\r\n\r\n`open()` and `open(false)` is the normal way to use ServiceTracker as you only track services which use the same package for the service interface as your bundle. That is, you can safely cast the service object to the service interface type to which your bundle has access.\r\n\r\n`open(true)` is a special case where the bundle does not have a need to cast the service objects to a service interface type. This use case is rare and generally should not be used.","title":"What is the scenario of OSGi ServiceTracker.open(true) / ServiceTracker.AllTracked","body":"<p>There can be different providers of the package of a service interface. For example, org.foo.service version=1.0 and org.foo.service version 1.2. There can also be two providers of the service registered, one using the version 1.0 package and another using the version 1.2 package for the service interface. As a user of the service, a bundle importing the org.foo.service package can only be wired to one of the providers of the package. This means it can only be type-compatible with one of the services.</p>\n<p><code>open()</code> and <code>open(false)</code> is the normal way to use ServiceTracker as you only track services which use the same package for the service interface as your bundle. That is, you can safely cast the service object to the service interface type to which your bundle has access.</p>\n<p><code>open(true)</code> is a special case where the bundle does not have a need to cast the service objects to a service interface type. This use case is rare and generally should not be used.</p>\n"}],"owner":{"account_id":2583747,"reputation":3916,"user_id":2239897,"accept_rate":76,"display_name":"Stefan Winkler"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74582449,"answer_count":1,"score":0,"last_activity_date":1671225966,"creation_date":1669284892,"question_id":74559031,"body_markdown":"In `org.osgi.util.tracker.ServiceTracker` there is a method `open(boolean)`.\r\n\r\nThe documentation says that you can give `true` in which case the tracker _&quot;will track __all__ matching services regardless of class loader accessibility&quot;_.\r\n\r\nI don&#39;t really understand this part. As far as I understand, the common use case for services is that \r\n* a bundle `SI` (for Service Interface) contains a service interface, \r\n* a bundle `SP` (for Service Provider) contains a service component / implementation class (e.g., as a Declarative Service / `@Component`), and \r\n* a bundle `SU` (for Service User) wants to use the service, so it basically uses `var st = new ServiceTracker(bundleContext, IService.class, null); st.open();` to track and use the service (if, for some reason, it cannot use DS...).\r\n\r\nSo both `SU` and `SP` depend on `SI`, but `SU` does not depend on `SP`. (as far as I understand, that&#39;s one of the key points that the `SU` does not need to know about the `SP`...)\r\n\r\nSo, how can it happen that `open(true)` would track a service that is not &quot;class loader accessible&quot;? What does &quot;class loader accessibility&quot; mean in such a scenario? Because, since `SU` does not depend on `SP`, but the above scenario still works, the service implementation does not need to be known to `SP`, obviously.\r\n\r\nCould someone outline an example how this could happen?\r\n\r\nAnd, while I am asking, what would even be a use case for `open(true)`? If there is a scenario where I cannot access the service implementation, what&#39;s the point of tracking such a service  anyways?\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"What is the scenario of OSGi ServiceTracker.open(true) / ServiceTracker.AllTracked","body":"<p>In <code>org.osgi.util.tracker.ServiceTracker</code> there is a method <code>open(boolean)</code>.</p>\n<p>The documentation says that you can give <code>true</code> in which case the tracker <em>&quot;will track <strong>all</strong> matching services regardless of class loader accessibility&quot;</em>.</p>\n<p>I don't really understand this part. As far as I understand, the common use case for services is that</p>\n<ul>\n<li>a bundle <code>SI</code> (for Service Interface) contains a service interface,</li>\n<li>a bundle <code>SP</code> (for Service Provider) contains a service component / implementation class (e.g., as a Declarative Service / <code>@Component</code>), and</li>\n<li>a bundle <code>SU</code> (for Service User) wants to use the service, so it basically uses <code>var st = new ServiceTracker(bundleContext, IService.class, null); st.open();</code> to track and use the service (if, for some reason, it cannot use DS...).</li>\n</ul>\n<p>So both <code>SU</code> and <code>SP</code> depend on <code>SI</code>, but <code>SU</code> does not depend on <code>SP</code>. (as far as I understand, that's one of the key points that the <code>SU</code> does not need to know about the <code>SP</code>...)</p>\n<p>So, how can it happen that <code>open(true)</code> would track a service that is not &quot;class loader accessible&quot;? What does &quot;class loader accessibility&quot; mean in such a scenario? Because, since <code>SU</code> does not depend on <code>SP</code>, but the above scenario still works, the service implementation does not need to be known to <code>SP</code>, obviously.</p>\n<p>Could someone outline an example how this could happen?</p>\n<p>And, while I am asking, what would even be a use case for <code>open(true)</code>? If there is a scenario where I cannot access the service implementation, what's the point of tracking such a service  anyways?</p>\n"},{"tags":["java","intellij-idea","maven-plugin"],"comments":[{"owner":{"account_id":3629749,"reputation":24734,"user_id":3026283,"accept_rate":90,"display_name":"H&#233;ctor"},"score":0,"creation_date":1449160036,"post_id":34070599,"comment_id":55895477,"body_markdown":"Can you show your pom.xml file? It seems that you are not declaring dependencies.","body":"Can you show your pom.xml file? It seems that you are not declaring dependencies."},{"owner":{"account_id":6228752,"reputation":3346,"user_id":4846215,"accept_rate":66,"display_name":"D. M&#252;ller"},"score":0,"creation_date":1449160259,"post_id":34070599,"comment_id":55895665,"body_markdown":"I set the dependencies via the UI, see the screenshots above. I add a screenshot of my pom.xml...","body":"I set the dependencies via the UI, see the screenshots above. I add a screenshot of my pom.xml..."},{"owner":{"account_id":3629749,"reputation":24734,"user_id":3026283,"accept_rate":90,"display_name":"H&#233;ctor"},"score":2,"creation_date":1449160410,"post_id":34070599,"comment_id":55895793,"body_markdown":"Actually dependencies are not being included in your project. Note that `&lt;dependencies/&gt;` block is missing in your pom. You have to included them manually.","body":"Actually dependencies are not being included in your project. Note that <code>&lt;dependencies&#47;&gt;</code> block is missing in your pom. You have to included them manually."},{"owner":{"account_id":1220503,"reputation":1157,"user_id":1187237,"display_name":"kg_sYy"},"score":1,"creation_date":1449160981,"post_id":34070599,"comment_id":55896172,"body_markdown":"I have to agree with @bigdestroyer here, you need to put your dependencies in the pom. Otherwise Maven will not know anything about them and they will not be included.","body":"I have to agree with @bigdestroyer here, you need to put your dependencies in the pom. Otherwise Maven will not know anything about them and they will not be included."}],"answers":[{"comments":[{"owner":{"account_id":6228752,"reputation":3346,"user_id":4846215,"accept_rate":66,"display_name":"D. M&#252;ller"},"score":0,"creation_date":1449158980,"post_id":34070769,"comment_id":55894634,"body_markdown":"Thanks for the fast answer, I&#39;ll have a try. Where should I enter the &quot;mvn clean compile assembly:single&quot; command? in the parametes tab where I had &quot;package&quot;? Sorry I&#39;m new to Maven...","body":"Thanks for the fast answer, I&#39;ll have a try. Where should I enter the &quot;mvn clean compile assembly:single&quot; command? in the parametes tab where I had &quot;package&quot;? Sorry I&#39;m new to Maven..."},{"owner":{"account_id":3629749,"reputation":24734,"user_id":3026283,"accept_rate":90,"display_name":"H&#233;ctor"},"score":2,"creation_date":1449159048,"post_id":34070769,"comment_id":55894691,"body_markdown":"Yes, in &quot;Command line&quot; input you have to put `clean compile assembly:single`. These are the *goals* that you want to execute. `clean` the build directory, `compile` project and finally `assembly` it.","body":"Yes, in &quot;Command line&quot; input you have to put <code>clean compile assembly:single</code>. These are the <i>goals</i> that you want to execute. <code>clean</code> the build directory, <code>compile</code> project and finally <code>assembly</code> it."},{"owner":{"account_id":6228752,"reputation":3346,"user_id":4846215,"accept_rate":66,"display_name":"D. M&#252;ller"},"score":0,"creation_date":1449159977,"post_id":34070769,"comment_id":55895426,"body_markdown":"Thank you for your answer, bigdestroyer! But now I get another error message, see my edit of the question.","body":"Thank you for your answer, bigdestroyer! But now I get another error message, see my edit of the question."},{"owner":{"account_id":6228752,"reputation":3346,"user_id":4846215,"accept_rate":66,"display_name":"D. M&#252;ller"},"score":0,"creation_date":1449232028,"post_id":34070769,"comment_id":55928788,"body_markdown":"After adding the dependencies to the pom.xml manually, this plugin did the trick! Thank you! See also the &quot;SOLUTION&quot; section in the question block!","body":"After adding the dependencies to the pom.xml manually, this plugin did the trick! Thank you! See also the &quot;SOLUTION&quot; section in the question block!"},{"owner":{"account_id":6228752,"reputation":3346,"user_id":4846215,"accept_rate":66,"display_name":"D. M&#252;ller"},"score":0,"creation_date":1449233104,"post_id":34070769,"comment_id":55929345,"body_markdown":"If you know about IntelliJ and Maven, you can have a look at my other question http://stackoverflow.com/questions/34088277/intellij-idea-maven-plugin-manage-dependencies ;-) Thank you!","body":"If you know about IntelliJ and Maven, you can have a look at my other question <a href=\"http://stackoverflow.com/questions/34088277/intellij-idea-maven-plugin-manage-dependencies\" title=\"intellij idea maven plugin manage dependencies\">stackoverflow.com/questions/34088277/&hellip;</a> ;-) Thank you!"},{"owner":{"account_id":739058,"reputation":5786,"user_id":1730115,"accept_rate":60,"display_name":"Nadjib Mami"},"score":1,"creation_date":1486657765,"post_id":34070769,"comment_id":71450025,"body_markdown":"Thanks, you saved my day - I followed people asking to add this and that to the pom file, I ended up with a poo file instead.","body":"Thanks, you saved my day - I followed people asking to add this and that to the pom file, I ended up with a poo file instead."},{"owner":{"account_id":11915685,"reputation":1432,"user_id":8719655,"display_name":"Carlos L&#243;pez Mar&#237;"},"score":1,"creation_date":1522602090,"post_id":34070769,"comment_id":86207967,"body_markdown":"OK now It just doesn&#39;t export.","body":"OK now It just doesn&#39;t export."},{"owner":{"account_id":7068114,"reputation":624,"user_id":5410757,"accept_rate":86,"display_name":"PaulProgrammerNoob"},"score":0,"creation_date":1643734281,"post_id":34070769,"comment_id":125416155,"body_markdown":"Instead of adding `assembly::single` to the maven call you might also specify it in the pom file directly via:\n`\n&lt;executions&gt;\n  &lt;execution&gt;\n    &lt;phase&gt;package&lt;/phase&gt;\n    &lt;goals&gt;\n      &lt;goal&gt;single&lt;/goal&gt;\n    &lt;/goals&gt;\n  &lt;/execution&gt;\n&lt;/executions&gt;\n`\nInclude this snippet right below `&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;`.","body":"Instead of adding <code>assembly::single</code> to the maven call you might also specify it in the pom file directly via: ` &lt;executions&gt;   &lt;execution&gt;     &lt;phase&gt;package&lt;/phase&gt;     &lt;goals&gt;       &lt;goal&gt;single&lt;/goal&gt;     &lt;/goals&gt;   &lt;/execution&gt; &lt;/executions&gt; ` Include this snippet right below <code>&lt;artifactId&gt;maven-assembly-plugin&lt;&#47;artifactId&gt;</code>."}],"tags":[],"owner":{"account_id":3629749,"reputation":24734,"user_id":3026283,"accept_rate":90,"display_name":"H&#233;ctor"},"comment_count":8,"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1449158893,"creation_date":1449158893,"answer_id":34070769,"question_id":34070599,"body_markdown":"You need to use Maven Assembly Plugin to include dependencies:\r\n\r\n    &lt;build&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n          &lt;configuration&gt;\r\n            &lt;archive&gt;\r\n              &lt;manifest&gt;\r\n                &lt;mainClass&gt;your.package.MainClass&lt;/mainClass&gt;\r\n              &lt;/manifest&gt;\r\n            &lt;/archive&gt;\r\n            &lt;descriptorRefs&gt;\r\n              &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n            &lt;/descriptorRefs&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nand then: `mvn clean compile assembly:single`","title":"Intellij Maven: Create jar with all library dependencies","body":"<p>You need to use Maven Assembly Plugin to include dependencies:</p>\n\n<pre><code>&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n      &lt;configuration&gt;\n        &lt;archive&gt;\n          &lt;manifest&gt;\n            &lt;mainClass&gt;your.package.MainClass&lt;/mainClass&gt;\n          &lt;/manifest&gt;\n        &lt;/archive&gt;\n        &lt;descriptorRefs&gt;\n          &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n        &lt;/descriptorRefs&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>and then: <code>mvn clean compile assembly:single</code></p>\n"},{"comments":[{"owner":{"account_id":6228752,"reputation":3346,"user_id":4846215,"accept_rate":66,"display_name":"D. M&#252;ller"},"score":0,"creation_date":1449160205,"post_id":34071184,"comment_id":55895625,"body_markdown":"Thank you, but it seems that I get the same error as explained in the edit of the question... The goal I set to &quot;clean compile package&quot; - is this correct???","body":"Thank you, but it seems that I get the same error as explained in the edit of the question... The goal I set to &quot;clean compile package&quot; - is this correct???"},{"owner":{"account_id":90084,"reputation":1225,"user_id":248131,"accept_rate":80,"display_name":"emanciperingsivraren"},"score":0,"creation_date":1449161704,"post_id":34071184,"comment_id":55896688,"body_markdown":"I did not read the comment from @bigdestroyer but he is correct, maven will only include the dependencies that it handles. If you have jars that does not exist in any publicly available repositories, then you can add it to your local repository, or set up a repository (preffered). http://www.mkyong.com/maven/how-to-include-library-manully-into-maven-local-repository/","body":"I did not read the comment from @bigdestroyer but he is correct, maven will only include the dependencies that it handles. If you have jars that does not exist in any publicly available repositories, then you can add it to your local repository, or set up a repository (preffered). <a href=\"http://www.mkyong.com/maven/how-to-include-library-manully-into-maven-local-repository/\" rel=\"nofollow noreferrer\">mkyong.com/maven/&hellip;</a>"},{"owner":{"account_id":6228752,"reputation":3346,"user_id":4846215,"accept_rate":66,"display_name":"D. M&#252;ller"},"score":0,"creation_date":1449163641,"post_id":34071184,"comment_id":55897888,"body_markdown":"I added the .iml file of the project, which lists the dependencies.","body":"I added the .iml file of the project, which lists the dependencies."}],"tags":[],"owner":{"account_id":90084,"reputation":1225,"user_id":248131,"accept_rate":80,"display_name":"emanciperingsivraren"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1449159975,"creation_date":1449159975,"answer_id":34071184,"question_id":34070599,"body_markdown":"I recommend that you use the plugin [`shade`][1]. It is better than `Assembly` because it is possible to [relocate classes][2] if a conflict occur.\r\n\r\nA typical setup can look like this: (copied from the [official documentation][3])\r\n\r\n    &lt;project&gt;\r\n      ...\r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.2&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;phase&gt;package&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;shade&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;artifactSet&gt;\r\n                    &lt;excludes&gt;\r\n                      &lt;exclude&gt;classworlds:classworlds&lt;/exclude&gt;\r\n                      &lt;exclude&gt;junit:junit&lt;/exclude&gt;\r\n                      &lt;exclude&gt;jmock:*&lt;/exclude&gt;\r\n                      &lt;exclude&gt;*:xml-apis&lt;/exclude&gt;\r\n                      &lt;exclude&gt;org.apache.maven:lib:tests&lt;/exclude&gt;\r\n                      &lt;exclude&gt;log4j:log4j:jar:&lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                  &lt;/artifactSet&gt;\r\n                &lt;/configuration&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n      ...\r\n    &lt;/project&gt;\r\n\r\nIf size is important you can try to use the `&lt;minimizeJar&gt;true&lt;/minimizeJar&gt;` to reduce size.\r\n\r\n  [1]: http://maven.apache.org/plugins/maven-shade-plugin/\r\n  [2]: http://maven.apache.org/plugins/maven-shade-plugin/examples/class-relocation.html\r\n  [3]: https://maven.apache.org/plugins/maven-shade-plugin/examples/includes-excludes.html","title":"Intellij Maven: Create jar with all library dependencies","body":"<p>I recommend that you use the plugin <a href=\"http://maven.apache.org/plugins/maven-shade-plugin/\" rel=\"nofollow\"><code>shade</code></a>. It is better than <code>Assembly</code> because it is possible to <a href=\"http://maven.apache.org/plugins/maven-shade-plugin/examples/class-relocation.html\" rel=\"nofollow\">relocate classes</a> if a conflict occur.</p>\n\n<p>A typical setup can look like this: (copied from the <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/examples/includes-excludes.html\" rel=\"nofollow\">official documentation</a>)</p>\n\n<pre><code>&lt;project&gt;\n  ...\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.4.2&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;shade&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;artifactSet&gt;\n                &lt;excludes&gt;\n                  &lt;exclude&gt;classworlds:classworlds&lt;/exclude&gt;\n                  &lt;exclude&gt;junit:junit&lt;/exclude&gt;\n                  &lt;exclude&gt;jmock:*&lt;/exclude&gt;\n                  &lt;exclude&gt;*:xml-apis&lt;/exclude&gt;\n                  &lt;exclude&gt;org.apache.maven:lib:tests&lt;/exclude&gt;\n                  &lt;exclude&gt;log4j:log4j:jar:&lt;/exclude&gt;\n                &lt;/excludes&gt;\n              &lt;/artifactSet&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n  ...\n&lt;/project&gt;\n</code></pre>\n\n<p>If size is important you can try to use the <code>&lt;minimizeJar&gt;true&lt;/minimizeJar&gt;</code> to reduce size.</p>\n"},{"tags":[],"owner":{"account_id":4317025,"reputation":61,"user_id":3526555,"display_name":"amitgh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614772863,"creation_date":1614716534,"answer_id":66446578,"question_id":34070599,"body_markdown":"After adding the maven assembly plugin as suggested by Hector, he mentioned to run `mvn clean compile assembly:single`. I couldn&#39;t figure out where to run this command in Intellij. \r\n\r\nThis is what I ended up doing and successfully creating my `xxx-SNAPSHOT-jar-with-dependencies.jar` file.\r\n\r\n*View -&gt; Tool Windows -&gt; Maven -&gt; \\&lt;Your Package\\&gt; -&gt; Lifecycle -&gt; right click compile -&gt; Modify Run Configuration -&gt; update Command line with &#39;compile assembly:single -f pom.xml&#39; -&gt; OK*.\r\n\r\nThis created a new run configuration in the Maven tool window. There, double click on the recently created *[compile]*.\r\n\r\nYou&#39;ll see the jars getting created under the target directory. Attaching a screenshot of my IntelliJ for reference.\r\n![IntelliJ screenshot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/i9UPz.png","title":"Intellij Maven: Create jar with all library dependencies","body":"<p>After adding the maven assembly plugin as suggested by Hector, he mentioned to run <code>mvn clean compile assembly:single</code>. I couldn't figure out where to run this command in Intellij.</p>\n<p>This is what I ended up doing and successfully creating my <code>xxx-SNAPSHOT-jar-with-dependencies.jar</code> file.</p>\n<p><em>View -&gt; Tool Windows -&gt; Maven -&gt; &lt;Your Package&gt; -&gt; Lifecycle -&gt; right click compile -&gt; Modify Run Configuration -&gt; update Command line with 'compile assembly:single -f pom.xml' -&gt; OK</em>.</p>\n<p>This created a new run configuration in the Maven tool window. There, double click on the recently created <em>[compile]</em>.</p>\n<p>You'll see the jars getting created under the target directory. Attaching a screenshot of my IntelliJ for reference.\n<img src=\"https://i.stack.imgur.com/i9UPz.png\" alt=\"IntelliJ screenshot\" /></p>\n"},{"tags":[],"owner":{"account_id":26681786,"reputation":1,"user_id":20291626,"display_name":"John kerich"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671225441,"creation_date":1671225441,"answer_id":74829844,"question_id":34070599,"body_markdown":"For the maven-assembly-plugin compile problem, if you add `&lt;executions&gt;` block the SNAPSHOT-jar-with-dependencies.jar will be created automatically, so you don&#39;t need to modify the maven compile command.  see https://medium.com/@randilfernando/when-to-use-maven-jar-maven-assembly-or-maven-shade-ffc3f76ba7a6#:~:text=maven%2Dassembly%2Dplugin%20%3A%20This,Java%20class%20name%20conflict%20issue.\r\n\r\n\r\n        &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n                &lt;archive&gt;\r\n                    &lt;manifest&gt;\r\n                        &lt;mainClass&gt;com.xxx.Main&lt;/mainClass&gt;\r\n                    &lt;/manifest&gt;\r\n                &lt;/archive&gt;\r\n                &lt;descriptorRefs&gt;\r\n                    &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                &lt;/descriptorRefs&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;id&gt;make-assembly&lt;/id&gt;\r\n                    &lt;!-- bind to the packaging phase --&gt;\r\n                    &lt;phase&gt;package&lt;/phase&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;single&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n        &lt;/plugin&gt;","title":"Intellij Maven: Create jar with all library dependencies","body":"<p>For the maven-assembly-plugin compile problem, if you add <code>&lt;executions&gt;</code> block the SNAPSHOT-jar-with-dependencies.jar will be created automatically, so you don't need to modify the maven compile command.  see <a href=\"https://medium.com/@randilfernando/when-to-use-maven-jar-maven-assembly-or-maven-shade-ffc3f76ba7a6#:%7E:text=maven%2Dassembly%2Dplugin%20%3A%20This,Java%20class%20name%20conflict%20issue\" rel=\"nofollow noreferrer\">https://medium.com/@randilfernando/when-to-use-maven-jar-maven-assembly-or-maven-shade-ffc3f76ba7a6#:~:text=maven%2Dassembly%2Dplugin%20%3A%20This,Java%20class%20name%20conflict%20issue</a>.</p>\n<pre><code>    &lt;plugin&gt;\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n            &lt;archive&gt;\n                &lt;manifest&gt;\n                    &lt;mainClass&gt;com.xxx.Main&lt;/mainClass&gt;\n                &lt;/manifest&gt;\n            &lt;/archive&gt;\n            &lt;descriptorRefs&gt;\n                &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n            &lt;/descriptorRefs&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;id&gt;make-assembly&lt;/id&gt;\n                &lt;!-- bind to the packaging phase --&gt;\n                &lt;phase&gt;package&lt;/phase&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;single&lt;/goal&gt;\n                &lt;/goals&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":6228752,"reputation":3346,"user_id":4846215,"accept_rate":66,"display_name":"D. M&#252;ller"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21195,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":34070769,"answer_count":4,"score":11,"last_activity_date":1671225441,"creation_date":1449158483,"question_id":34070599,"body_markdown":"Working with IntelliJ Idea, I want to implement the following:\r\n\r\nI want to export an application to a jar, which contains all needed libraries. E.g. I need the AWS Java SDK libraries for S3 access, but if I upload the jar to the server and run the jar I get an NoClassDefFoundError, see below:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/amazonaws/auth/AWSCredentials\r\n        at java.lang.Class.getDeclaredMethods0(Native Method)\r\n        at java.lang.Class.privateGetDeclaredMethods(Class.java:2625)\r\n        at java.lang.Class.getMethod0(Class.java:2866)\r\n        at java.lang.Class.getMethod(Class.java:1676)\r\n        at sun.launcher.LauncherHelper.getMainMethod(LauncherHelper.java:494)\r\n        at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:486)\r\n    Caused by: java.lang.ClassNotFoundException: com.amazonaws.auth.AWSCredentials\r\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:366)\r\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:354)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:425)\r\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:358)\r\n        ... 6 more\r\n\r\nComparison: I created the same project in Eclipse and get no error! The jar file sizes are very different (Eclipse: ~35 MB vs. IntelliJ Idea: ~5,5 MB)! \r\n\r\nI included the libraries via Maven and downloaded them also into the &quot;lib&quot; folder of my project:\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nAs parameter in the run configurations I set &quot;package&quot;, see screenshot below:\r\n[![enter image description here][3]][3]\r\n\r\n**SOLUTION:**\r\n\r\nThanks for all your hints, I got it to work now! The trick was that I did&#39;t add the dependencies to the pom.xml file (because I thought that this would be done automatically after setting them in the Project Structure, but it didn&#39;t)!!! See also my other question: https://stackoverflow.com/questions/34088277/intellij-idea-maven-plugin-manage-dependencies and https://www.jetbrains.com/idea/help/maven.html! Add the dependencies by \r\n\r\n 1. Open pom.xml\r\n 2. Menu &quot;Code&quot; &gt; &quot;Generate&quot; &gt; &quot;Dependency&quot; (or shortcut ALT + INSERT)\r\n\r\n  [1]: http://i.stack.imgur.com/sfJ4o.png\r\n  [2]: http://i.stack.imgur.com/pFvao.png\r\n  [3]: http://i.stack.imgur.com/6mbaE.png","title":"Intellij Maven: Create jar with all library dependencies","body":"<p>Working with IntelliJ Idea, I want to implement the following:</p>\n\n<p>I want to export an application to a jar, which contains all needed libraries. E.g. I need the AWS Java SDK libraries for S3 access, but if I upload the jar to the server and run the jar I get an NoClassDefFoundError, see below:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: com/amazonaws/auth/AWSCredentials\n    at java.lang.Class.getDeclaredMethods0(Native Method)\n    at java.lang.Class.privateGetDeclaredMethods(Class.java:2625)\n    at java.lang.Class.getMethod0(Class.java:2866)\n    at java.lang.Class.getMethod(Class.java:1676)\n    at sun.launcher.LauncherHelper.getMainMethod(LauncherHelper.java:494)\n    at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:486)\nCaused by: java.lang.ClassNotFoundException: com.amazonaws.auth.AWSCredentials\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:366)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:354)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:425)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:358)\n    ... 6 more\n</code></pre>\n\n<p>Comparison: I created the same project in Eclipse and get no error! The jar file sizes are very different (Eclipse: ~35 MB vs. IntelliJ Idea: ~5,5 MB)! </p>\n\n<p>I included the libraries via Maven and downloaded them also into the \"lib\" folder of my project:\n<a href=\"https://i.stack.imgur.com/sfJ4o.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/sfJ4o.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/pFvao.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/pFvao.png\" alt=\"enter image description here\"></a></p>\n\n<p>As parameter in the run configurations I set \"package\", see screenshot below:\n<a href=\"https://i.stack.imgur.com/6mbaE.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/6mbaE.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>SOLUTION:</strong></p>\n\n<p>Thanks for all your hints, I got it to work now! The trick was that I did't add the dependencies to the pom.xml file (because I thought that this would be done automatically after setting them in the Project Structure, but it didn't)!!! See also my other question: <a href=\"https://stackoverflow.com/questions/34088277/intellij-idea-maven-plugin-manage-dependencies\">Intellij IDEA Maven Plugin - Manage Dependencies</a> and <a href=\"https://www.jetbrains.com/idea/help/maven.html\" rel=\"noreferrer\">https://www.jetbrains.com/idea/help/maven.html</a>! Add the dependencies by </p>\n\n<ol>\n<li>Open pom.xml</li>\n<li>Menu \"Code\" > \"Generate\" > \"Dependency\" (or shortcut ALT + INSERT)</li>\n</ol>\n"},{"tags":["java","class","extends","implements"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1671225978,"post_id":74829745,"comment_id":132061569,"body_markdown":"@IłyaBursov &#39;s comment is a good one. The answer is, it depends on the requirements of the program. But let me tell you, in the real world, this is big big problem that comes up a LOT. You start off with one set of requirements, and then half way through (or when you&#39;re doing version 2) the requirements change, and commonly create massive ETL headaches (https://learn.microsoft.com/en-us/azure/architecture/data-guide/relational-data/etl) - The point is to try to get your requirements as nailed down as possible before you start coding, and then to create agile code","body":"@IłyaBursov &#39;s comment is a good one. The answer is, it depends on the requirements of the program. But let me tell you, in the real world, this is big big problem that comes up a LOT. You start off with one set of requirements, and then half way through (or when you&#39;re doing version 2) the requirements change, and commonly create massive ETL headaches (<a href=\"https://learn.microsoft.com/en-us/azure/architecture/data-guide/relational-data/etl\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/azure/architecture/data-guide/&hellip;</a>) - The point is to try to get your requirements as nailed down as possible before you start coding, and then to create agile code"}],"answers":[{"tags":[],"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671225201,"creation_date":1671225201,"answer_id":74829816,"question_id":74829745,"body_markdown":"A common mistake that newcomers to object-oriented programming make is to try to fit every property of complex objects into one inheritance hierarchy. Inheritance is the most tightly coupled form of making a class X depend on a class Y. If X extends Y, then *every* change to Y must necessarily affect X, and all of X&#39;s methods must be careful not to violate Y&#39;s invariants (see Liskov substitution principle, for instance).\r\n\r\nInstead of shoving everything into one hierarchy, think about how your objects may have *properties* that can be modelled more neatly. You&#39;re right to be hesitant to use a bunch of Booleans, but that&#39;s not what I&#39;m suggesting. The flying/non-flying problem is orthogonal to the hostile/passive problem, so they need different solutions.\r\n\r\nFor the former, you might consider giving every creature type a `Movement` field. Perhaps something like\r\n\r\n    interface MovementAbility {\r\n      ...\r\n    }\r\n\r\n    class FlyingAbility implements MovementAbility {\r\n      ...\r\n    }\r\n\r\n    class WalkingAbility implements MovementAbility {\r\n      ...\r\n    }\r\n\r\nThen every creature gets one of these\r\n\r\n    class Creature {\r\n      private MovementAbility movementAbility;\r\n      ...\r\n    }\r\n\r\nor multiple, if there are creatures who can walk *and* fly and who need to be able to decide which one to do.\r\n\r\n    class Creature {\r\n      private List&lt;MovementAbility&gt; movementAbilities;\r\n      ...\r\n    }\r\n\r\nThen you can do the same thing for hostility. Something like\r\n\r\n    interface Disposition {\r\n      ...\r\n    }\r\n\r\n    class HostileDisposition extends Disposition {\r\n      ...\r\n    }\r\n\r\n    class PassiveDisposition extends Disposition {\r\n      ...\r\n    }\r\n\r\nThen your `Creature` could look like\r\n\r\n    public class Creature {\r\n      private MovementAbility movementAbility;\r\n      private Disposition disposition;\r\n    }\r\n\r\nand the creature can call methods on the `Disposition` object to determine how to behave in the presence of a player, then on the `MovementAbility` object to determine how to get from A to B.\r\n\r\nExactly *what* methods go in each of those classes is dependent on your needs for your particular project, but the key thing to aim for is not doing `instanceof` checks. It&#39;s really easy to write code in `Creature` that sits there and says `if (movementAbility instanceof FlyingAbility) { ... }`, but that&#39;s no better than just using a Boolean in the first place. Instead, when you need to do something that depends on *how* a creature moves, make it an abstract part of `MovementAbility` and call that function virtually.","title":"How to have a java class extend multiple attributes?","body":"<p>A common mistake that newcomers to object-oriented programming make is to try to fit every property of complex objects into one inheritance hierarchy. Inheritance is the most tightly coupled form of making a class X depend on a class Y. If X extends Y, then <em>every</em> change to Y must necessarily affect X, and all of X's methods must be careful not to violate Y's invariants (see Liskov substitution principle, for instance).</p>\n<p>Instead of shoving everything into one hierarchy, think about how your objects may have <em>properties</em> that can be modelled more neatly. You're right to be hesitant to use a bunch of Booleans, but that's not what I'm suggesting. The flying/non-flying problem is orthogonal to the hostile/passive problem, so they need different solutions.</p>\n<p>For the former, you might consider giving every creature type a <code>Movement</code> field. Perhaps something like</p>\n<pre><code>interface MovementAbility {\n  ...\n}\n\nclass FlyingAbility implements MovementAbility {\n  ...\n}\n\nclass WalkingAbility implements MovementAbility {\n  ...\n}\n</code></pre>\n<p>Then every creature gets one of these</p>\n<pre><code>class Creature {\n  private MovementAbility movementAbility;\n  ...\n}\n</code></pre>\n<p>or multiple, if there are creatures who can walk <em>and</em> fly and who need to be able to decide which one to do.</p>\n<pre><code>class Creature {\n  private List&lt;MovementAbility&gt; movementAbilities;\n  ...\n}\n</code></pre>\n<p>Then you can do the same thing for hostility. Something like</p>\n<pre><code>interface Disposition {\n  ...\n}\n\nclass HostileDisposition extends Disposition {\n  ...\n}\n\nclass PassiveDisposition extends Disposition {\n  ...\n}\n</code></pre>\n<p>Then your <code>Creature</code> could look like</p>\n<pre><code>public class Creature {\n  private MovementAbility movementAbility;\n  private Disposition disposition;\n}\n</code></pre>\n<p>and the creature can call methods on the <code>Disposition</code> object to determine how to behave in the presence of a player, then on the <code>MovementAbility</code> object to determine how to get from A to B.</p>\n<p>Exactly <em>what</em> methods go in each of those classes is dependent on your needs for your particular project, but the key thing to aim for is not doing <code>instanceof</code> checks. It's really easy to write code in <code>Creature</code> that sits there and says <code>if (movementAbility instanceof FlyingAbility) { ... }</code>, but that's no better than just using a Boolean in the first place. Instead, when you need to do something that depends on <em>how</em> a creature moves, make it an abstract part of <code>MovementAbility</code> and call that function virtually.</p>\n"}],"owner":{"account_id":9824740,"reputation":1,"user_id":7278121,"display_name":"Ender Hunter"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1671225397,"answer_count":1,"score":-3,"last_activity_date":1671225201,"creation_date":1671224687,"question_id":74829745,"body_markdown":"So let&#39;s say you have a Creature class. Now say you have a Hostile class that extends it, and a Passive class that extends it, for hostile and passive creatures respectively. If some creatures can fly and some can&#39;t it would make sense also for there to be a &quot;Flying&quot; class that extends Creature and also maybe a &quot;Nonflying&quot; class or something. But any class you make extending either Hostile or Passive couldn&#39;t also extend Flying or Nonflying. What&#39;s the solution for this? I want certain behaviors to only happen for some Creatures marked as flying, and some only to occur if the creature is non-flying, but I don&#39;t want to use a boolean as that would require checking every tick whether the creature is flying or not, and seems like an illegant solution. Any ideas?\r\n\r\nSo far I haven&#39;t known what to try, as implementing this through booleans seems clunky and inefficent.","title":"How to have a java class extend multiple attributes?","body":"<p>So let's say you have a Creature class. Now say you have a Hostile class that extends it, and a Passive class that extends it, for hostile and passive creatures respectively. If some creatures can fly and some can't it would make sense also for there to be a &quot;Flying&quot; class that extends Creature and also maybe a &quot;Nonflying&quot; class or something. But any class you make extending either Hostile or Passive couldn't also extend Flying or Nonflying. What's the solution for this? I want certain behaviors to only happen for some Creatures marked as flying, and some only to occur if the creature is non-flying, but I don't want to use a boolean as that would require checking every tick whether the creature is flying or not, and seems like an illegant solution. Any ideas?</p>\n<p>So far I haven't known what to try, as implementing this through booleans seems clunky and inefficent.</p>\n"},{"tags":["java","office365","jakarta-mail"],"owner":{"account_id":27227069,"reputation":1,"user_id":20755407,"display_name":"Daniel W"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671224591,"creation_date":1670838370,"question_id":74769233,"body_markdown":"I have this code that intended to save the email as draft, but it keeps sending the message anyway.\r\n\r\n\r\n```\r\n        final String username = &quot;xxx&quot;;\r\n        final String password = &quot;xxx&quot;;\r\n\r\n        Properties props = new Properties();\r\n        props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n        props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n        props.put(&quot;mail.smtp.host&quot;, &quot;outlook.office365.com&quot;);\r\n        props.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\r\n\r\n        Session session = Session.getInstance(props,\r\n                new javax.mail.Authenticator() {\r\n                    protected PasswordAuthentication getPasswordAuthentication() {\r\n                        return new PasswordAuthentication(username, password);\r\n                    }\r\n                });\r\n\r\n        try {\r\n\r\n            Message message = new MimeMessage(session);\r\n            message.setFrom(new InternetAddress(&quot;xxx&quot;));\r\n            message.setRecipients(Message.RecipientType.TO,\r\n                    InternetAddress.parse(&quot;xxx&quot;));\r\n            message.setSubject(&quot;Test&quot;);\r\n            message.setText(&quot;HI&quot;);\r\n\r\n            message.setFlag(Flags.Flag.DRAFT, true);\r\n            message.saveChanges();\r\n            Transport.send(message);\r\n\r\n        } catch (MessagingException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n```\r\n\r\ni tried removing the `Transport.send(message);` but then it just do nothing. What i wanted is that the email just saved in the Drafts folder on my outlook.","title":"How do i save the email I created using java mail API as a draft?","body":"<p>I have this code that intended to save the email as draft, but it keeps sending the message anyway.</p>\n<pre><code>        final String username = &quot;xxx&quot;;\n        final String password = &quot;xxx&quot;;\n\n        Properties props = new Properties();\n        props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n        props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n        props.put(&quot;mail.smtp.host&quot;, &quot;outlook.office365.com&quot;);\n        props.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\n\n        Session session = Session.getInstance(props,\n                new javax.mail.Authenticator() {\n                    protected PasswordAuthentication getPasswordAuthentication() {\n                        return new PasswordAuthentication(username, password);\n                    }\n                });\n\n        try {\n\n            Message message = new MimeMessage(session);\n            message.setFrom(new InternetAddress(&quot;xxx&quot;));\n            message.setRecipients(Message.RecipientType.TO,\n                    InternetAddress.parse(&quot;xxx&quot;));\n            message.setSubject(&quot;Test&quot;);\n            message.setText(&quot;HI&quot;);\n\n            message.setFlag(Flags.Flag.DRAFT, true);\n            message.saveChanges();\n            Transport.send(message);\n\n        } catch (MessagingException e) {\n            throw new RuntimeException(e);\n        }\n</code></pre>\n<p>i tried removing the <code>Transport.send(message);</code> but then it just do nothing. What i wanted is that the email just saved in the Drafts folder on my outlook.</p>\n"},{"tags":["java","xml","xml-parsing"],"comments":[{"owner":{"account_id":10753071,"reputation":2784,"user_id":7911776,"display_name":"Nicol&#225;s Alarc&#243;n Rapela"},"score":0,"creation_date":1617716101,"post_id":66969538,"comment_id":118377652,"body_markdown":"Are you generating that XML? (with Java)","body":"Are you generating that XML? (with Java)"},{"owner":{"account_id":12827279,"reputation":37,"user_id":9279806,"display_name":"NIkhil Rohilla"},"score":0,"creation_date":1617716124,"post_id":66969538,"comment_id":118377669,"body_markdown":"Yes, I have generated that XML.","body":"Yes, I have generated that XML."},{"owner":{"account_id":10753071,"reputation":2784,"user_id":7911776,"display_name":"Nicol&#225;s Alarc&#243;n Rapela"},"score":0,"creation_date":1617716282,"post_id":66969538,"comment_id":118377756,"body_markdown":"The basis of what you happen is that a carriage return is being added ... Investigate with this starting point and if you do not find anything, edit the post with the part that generates the XML.","body":"The basis of what you happen is that a carriage return is being added ... Investigate with this starting point and if you do not find anything, edit the post with the part that generates the XML."},{"owner":{"account_id":12827279,"reputation":37,"user_id":9279806,"display_name":"NIkhil Rohilla"},"score":0,"creation_date":1617716391,"post_id":66969538,"comment_id":118377825,"body_markdown":"How does a carriage return get added when i didnt add ?","body":"How does a carriage return get added when i didnt add ?"},{"owner":{"account_id":10753071,"reputation":2784,"user_id":7911776,"display_name":"Nicol&#225;s Alarc&#243;n Rapela"},"score":0,"creation_date":1617716807,"post_id":66969538,"comment_id":118378051,"body_markdown":"Better group the part that generates the XML :)","body":"Better group the part that generates the XML :)"},{"owner":{"account_id":9573561,"reputation":326,"user_id":7110488,"display_name":"Code Maverick"},"score":0,"creation_date":1617717197,"post_id":66969538,"comment_id":118378251,"body_markdown":"It looks like there is an issue with `LSSerializer`. See [this](https://stackoverflow.com/questions/28347767/prevent-wrapping-of-lines-when-pretty-printing-xml-string).","body":"It looks like there is an issue with <code>LSSerializer</code>. See <a href=\"https://stackoverflow.com/questions/28347767/prevent-wrapping-of-lines-when-pretty-printing-xml-string\">this</a>."},{"owner":{"account_id":12827279,"reputation":37,"user_id":9279806,"display_name":"NIkhil Rohilla"},"score":0,"creation_date":1617718685,"post_id":66969538,"comment_id":118379030,"body_markdown":"I checked out the link you shared but it seems the answer is outdated as the Class OutputFormat being used by them is deprecated.\nAlso I have noticed some discrepancies in the way the file is being generated when i execute the application from eclipse vs executing the application jar using java command.","body":"I checked out the link you shared but it seems the answer is outdated as the Class OutputFormat being used by them is deprecated. Also I have noticed some discrepancies in the way the file is being generated when i execute the application from eclipse vs executing the application jar using java command."},{"owner":{"account_id":10753071,"reputation":2784,"user_id":7911776,"display_name":"Nicol&#225;s Alarc&#243;n Rapela"},"score":0,"creation_date":1617725501,"post_id":66969538,"comment_id":118382644,"body_markdown":"How do you ingest data in &#39;document&#39;? I have made a small way trying to reproduce the error (inserting my own data) and in my case it works with that data\nComment that you see an xml in one way generated with Eclipse and another from a jar, does it have the same Java in both places?","body":"How do you ingest data in &#39;document&#39;? I have made a small way trying to reproduce the error (inserting my own data) and in my case it works with that data Comment that you see an xml in one way generated with Eclipse and another from a jar, does it have the same Java in both places?"},{"owner":{"account_id":12827279,"reputation":37,"user_id":9279806,"display_name":"NIkhil Rohilla"},"score":0,"creation_date":1617771008,"post_id":66969538,"comment_id":118395489,"body_markdown":"Yes, its the same java code in both places. the one with eclipse generates the XML with indented tags and the one with jar has indentation only for some tags and not for others. I was able to fix the carriage return inside the xml tag using the second answer available in the link but the formatting is still different in both places.","body":"Yes, its the same java code in both places. the one with eclipse generates the XML with indented tags and the one with jar has indentation only for some tags and not for others. I was able to fix the carriage return inside the xml tag using the second answer available in the link but the formatting is still different in both places."},{"owner":{"account_id":12827279,"reputation":37,"user_id":9279806,"display_name":"NIkhil Rohilla"},"score":0,"creation_date":1617772322,"post_id":66969538,"comment_id":118395751,"body_markdown":"The data is inserted in the document using createElementNS, createTextNode, appendChild methods","body":"The data is inserted in the document using createElementNS, createTextNode, appendChild methods"},{"owner":{"account_id":10753071,"reputation":2784,"user_id":7911776,"display_name":"Nicol&#225;s Alarc&#243;n Rapela"},"score":0,"creation_date":1617784567,"post_id":66969538,"comment_id":118400071,"body_markdown":"@NIkhilRohilla I see that if you have found a solution to this issue, you should answer how to solve it and open a new question referring to it and explaining your new problem in maximum detail.","body":"@NIkhilRohilla I see that if you have found a solution to this issue, you should answer how to solve it and open a new question referring to it and explaining your new problem in maximum detail."}],"owner":{"account_id":12827279,"reputation":37,"user_id":9279806,"display_name":"NIkhil Rohilla"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671224473,"creation_date":1617715436,"question_id":66969538,"body_markdown":"I have an XML document like this:\r\n\r\n    &lt;document&gt;\r\n      &lt;root&gt;\r\n        &lt;field1&gt;\r\n          &lt;a \r\n          Type=&quot;anyType&quot;&gt;\r\n            &lt;b&gt;Text&lt;/b&gt;\r\n          &lt;/a&gt;\r\n        &lt;field1&gt;\r\n      &lt;/root&gt;\r\n    &lt;/document&gt;\r\n\r\nI want to remove the whitespace in the XML attribute `Type` and the XML field `a`\r\n\r\nThe output should be like:\r\n\r\n    &lt;document&gt;\r\n      &lt;root&gt;\r\n        &lt;field1&gt;\r\n          &lt;a Type=&quot;anyType&quot;&gt;\r\n            &lt;b&gt;Text&lt;/b&gt;\r\n          &lt;/a&gt;\r\n        &lt;field1&gt;\r\n      &lt;/root&gt;\r\n    &lt;/document&gt;\r\n\r\nHow to do this in Java?\r\n\r\nThe code to generate the XML File is below:\r\n\r\n    DOMSource domSource = new DOMSource(document);\r\n    StringWriter writer = new StringWriter();\r\n    StreamResult result = new StreamResult(writer);\r\n    TransformerFactory tf = TransformerFactory.newInstance();\r\n    Transformer transformer = tf.newTransformer();\r\n    transformer.transform(domSource, result);\r\n    \r\n    String fileData = format(writer.toString());\r\n    \r\n    // remove CR(carriage return)\r\n    fileData = fileData.replaceAll(&quot;&amp;#[a-zA-Z0-9]{2};&quot;, &quot;&quot;);\r\n    saveDocumentIntoFile(fileData, fileName);\r\n\r\nmethod format()\r\n\r\n    public String format(String xml) {\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\tfinal InputSource src = new InputSource(new StringReader(xml));\r\n    \t\t\tfinal Node document = DocumentBuilderFactory.newInstance().newDocumentBuilder().parse(src).getDocumentElement();\r\n    \t\t\tfinal Boolean keepDeclaration = Boolean.valueOf(xml.startsWith(&quot;&lt;?xml&quot;));\r\n    \t\t\t\r\n    \t\t\tfinal DOMImplementationRegistry registry = DOMImplementationRegistry.newInstance();\r\n    \t\t\tfinal DOMImplementationLS impl = (DOMImplementationLS) registry.getDOMImplementation(&quot;LS&quot;);\r\n    \t\t\tfinal LSSerializer writer = impl.createLSSerializer();\r\n    \t\t\t\r\n    \t\t\t// Set this to true if the output needs to be beautified.\r\n    \t\t\twriter.getDomConfig().setParameter(&quot;format-pretty-print&quot;, Boolean.TRUE);\r\n    \t\t\t// Set this to true if the declaration is needed to be outputted.\r\n    \t\t\twriter.getDomConfig().setParameter(&quot;xml-declaration&quot;, keepDeclaration);\r\n    \t\t\t\r\n    \t\t\treturn writer.writeToString(document);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tthrow new RuntimeException(e);\r\n    \t\t}\r\n    \t}\r\n\r\nmethod saveDocumentIntoFile()\r\n\r\n    protected void saveDocumentIntoFile(String fileData, String fileName) throws IOException {\r\n    \t\tFileWriter batchFile = new FileWriter(fileName);\r\n    \t\t\r\n    \t\tbatchFile.write(fileData);\r\n    \t\tbatchFile.close();\r\n    \t}\r\n\r\n","title":"How to remove whitespaces in XML attributes","body":"<p>I have an XML document like this:</p>\n<pre><code>&lt;document&gt;\n  &lt;root&gt;\n    &lt;field1&gt;\n      &lt;a \n      Type=&quot;anyType&quot;&gt;\n        &lt;b&gt;Text&lt;/b&gt;\n      &lt;/a&gt;\n    &lt;field1&gt;\n  &lt;/root&gt;\n&lt;/document&gt;\n</code></pre>\n<p>I want to remove the whitespace in the XML attribute <code>Type</code> and the XML field <code>a</code></p>\n<p>The output should be like:</p>\n<pre><code>&lt;document&gt;\n  &lt;root&gt;\n    &lt;field1&gt;\n      &lt;a Type=&quot;anyType&quot;&gt;\n        &lt;b&gt;Text&lt;/b&gt;\n      &lt;/a&gt;\n    &lt;field1&gt;\n  &lt;/root&gt;\n&lt;/document&gt;\n</code></pre>\n<p>How to do this in Java?</p>\n<p>The code to generate the XML File is below:</p>\n<pre><code>DOMSource domSource = new DOMSource(document);\nStringWriter writer = new StringWriter();\nStreamResult result = new StreamResult(writer);\nTransformerFactory tf = TransformerFactory.newInstance();\nTransformer transformer = tf.newTransformer();\ntransformer.transform(domSource, result);\n\nString fileData = format(writer.toString());\n\n// remove CR(carriage return)\nfileData = fileData.replaceAll(&quot;&amp;#[a-zA-Z0-9]{2};&quot;, &quot;&quot;);\nsaveDocumentIntoFile(fileData, fileName);\n</code></pre>\n<p>method format()</p>\n<pre><code>public String format(String xml) {\n        \n        try {\n            final InputSource src = new InputSource(new StringReader(xml));\n            final Node document = DocumentBuilderFactory.newInstance().newDocumentBuilder().parse(src).getDocumentElement();\n            final Boolean keepDeclaration = Boolean.valueOf(xml.startsWith(&quot;&lt;?xml&quot;));\n            \n            final DOMImplementationRegistry registry = DOMImplementationRegistry.newInstance();\n            final DOMImplementationLS impl = (DOMImplementationLS) registry.getDOMImplementation(&quot;LS&quot;);\n            final LSSerializer writer = impl.createLSSerializer();\n            \n            // Set this to true if the output needs to be beautified.\n            writer.getDomConfig().setParameter(&quot;format-pretty-print&quot;, Boolean.TRUE);\n            // Set this to true if the declaration is needed to be outputted.\n            writer.getDomConfig().setParameter(&quot;xml-declaration&quot;, keepDeclaration);\n            \n            return writer.writeToString(document);\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n</code></pre>\n<p>method saveDocumentIntoFile()</p>\n<pre><code>protected void saveDocumentIntoFile(String fileData, String fileName) throws IOException {\n        FileWriter batchFile = new FileWriter(fileName);\n        \n        batchFile.write(fileData);\n        batchFile.close();\n    }\n</code></pre>\n"},{"tags":["java","time","java-time","datetime-parsing","localdatetime"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1671200517,"post_id":74825518,"comment_id":132054122,"body_markdown":"are you sure `pm` is the correct spelling for your default `Locale`? (I had no problem with posted code - using `Locale.UK`)","body":"are you sure <code>pm</code> is the correct spelling for your default <code>Locale</code>? (I had no problem with posted code - using <code>Locale.UK</code>)"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1671201177,"post_id":74825518,"comment_id":132054363,"body_markdown":"Is it common to use lower-case AM/PM in UK? That&#39;s interesting, I have to check it out soon…","body":"Is it common to use lower-case AM/PM in UK? That&#39;s interesting, I have to check it out soon…"}],"answers":[{"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1671201462,"creation_date":1671200659,"answer_id":74825761,"question_id":74825518,"body_markdown":"**tl;dr**  \r\nIndex 17 is *AM/PM of day*  \r\n**Problems:** \r\n- it&#39;s lower case in the `String`\r\n- its format and language depend on the `Locale` of the JVM if you don&#39;t apply one explicitly\r\n\r\nIf you can change the input `String`, you should make the `pm` (or `am`) upper case, otherwise use a `DateTimeFormatter` that parses case insensitive(ly). You can use a `DateTimeFormatterBuilder` for that.\r\n\r\nIn any case add a `Locale` since `AM/PM` is not everywhere exactly one of those two abbreviations (on my German JVM it would be `nachm.`, abbreviating `nachmittags`, which means something like `at noon`).\r\n\r\nHere&#39;s an example:\r\n\r\n```Java\r\npublic static void main(String[] args) {\r\n\t// define the pattern (your original one should do)\r\n\tString pattern = &quot;M/d/yyyy, h:mm a&quot;;\r\n    // build a formatter that handles the lower-case AM/PM of day\r\n    DateTimeFormatter formatter = new DateTimeFormatterBuilder()\r\n\t\t\t\t\t\t\t\t    \t\t.parseCaseInsensitive()\r\n    \t\t\t\t\t\t\t\t\t\t.appendPattern(pattern)\r\n    \t\t\t\t\t\t\t\t\t\t.toFormatter(Locale.ENGLISH);\r\n    // example input / datetime\r\n    String dateString = &quot;12/16/2022, 1:33 pm&quot;;\r\n    // parse with the formatter\r\n\tLocalDateTime resultB = LocalDateTime.parse(dateString, formatter);\r\n\t// print the result\r\n\tSystem.out.println(resultB);\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n```none\r\n2022-12-16T13:33\r\n```\r\n\r\n**Small hint** (because I just made that mistake myself):  \r\nthe call to `.parseCaseInsensitive()` must come before appending the (relevant part of) the pattern. Otherwise the formatter would only know to parse case insensitively afterwards, which then fails with the same `DateTimeParseException`.\r\n\r\n---\r\n\r\n**Update:**  \r\nObviously, UK&#39;s standard is lower case, so you can use `DateTimeFormatter.ofPattern(pattern, Locale.UK)`, too. There may be more such `Locale`s, but a fix one is less flexible than a formatter that parses case insensitively (IMHO).","title":"Cannot parse &#39;12/16/2022, 1:33 pm&#39; using &#39;M/d/yyyy, h:mm a&#39; format pattern into a LocalDateTime object","body":"<p><strong>tl;dr</strong><br />\nIndex 17 is <em>AM/PM of day</em><br />\n<strong>Problems:</strong></p>\n<ul>\n<li>it's lower case in the <code>String</code></li>\n<li>its format and language depend on the <code>Locale</code> of the JVM if you don't apply one explicitly</li>\n</ul>\n<p>If you can change the input <code>String</code>, you should make the <code>pm</code> (or <code>am</code>) upper case, otherwise use a <code>DateTimeFormatter</code> that parses case insensitive(ly). You can use a <code>DateTimeFormatterBuilder</code> for that.</p>\n<p>In any case add a <code>Locale</code> since <code>AM/PM</code> is not everywhere exactly one of those two abbreviations (on my German JVM it would be <code>nachm.</code>, abbreviating <code>nachmittags</code>, which means something like <code>at noon</code>).</p>\n<p>Here's an example:</p>\n<pre><code>public static void main(String[] args) {\n    // define the pattern (your original one should do)\n    String pattern = &quot;M/d/yyyy, h:mm a&quot;;\n    // build a formatter that handles the lower-case AM/PM of day\n    DateTimeFormatter formatter = new DateTimeFormatterBuilder()\n                                            .parseCaseInsensitive()\n                                            .appendPattern(pattern)\n                                            .toFormatter(Locale.ENGLISH);\n    // example input / datetime\n    String dateString = &quot;12/16/2022, 1:33 pm&quot;;\n    // parse with the formatter\n    LocalDateTime resultB = LocalDateTime.parse(dateString, formatter);\n    // print the result\n    System.out.println(resultB);\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>2022-12-16T13:33\n</code></pre>\n<p><strong>Small hint</strong> (because I just made that mistake myself):<br />\nthe call to <code>.parseCaseInsensitive()</code> must come before appending the (relevant part of) the pattern. Otherwise the formatter would only know to parse case insensitively afterwards, which then fails with the same <code>DateTimeParseException</code>.</p>\n<hr />\n<p><strong>Update:</strong><br />\nObviously, UK's standard is lower case, so you can use <code>DateTimeFormatter.ofPattern(pattern, Locale.UK)</code>, too. There may be more such <code>Locale</code>s, but a fix one is less flexible than a formatter that parses case insensitively (IMHO).</p>\n"}],"owner":{"account_id":292835,"reputation":6407,"user_id":595833,"accept_rate":94,"display_name":"bobbyrne01"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":74825761,"answer_count":1,"score":-2,"last_activity_date":1671224419,"creation_date":1671199420,"question_id":74825518,"body_markdown":"The value `12/16/2022, 1:33 pm` looks to match to expected format pattern `M/d/yyyy, h:mm a`, what is incorrect `at index 17`?\r\n\r\nJava unit test:\r\n\r\n```\r\n@Test\r\npublic void testLocalDateTime_shortDateTimePattern() {\r\n    String pattern = &quot;M/d/yyyy, h:mm a&quot;;\r\n    System.out.println(pattern);\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(pattern);\r\n\r\n    String dateString = &quot;12/16/2022, 1:33 pm&quot;;\r\n    System.out.println(dateString);\r\n\r\n    LocalDateTime result = LocalDateTime.parse(dateString, formatter);\r\n    System.out.println(result);\r\n}\r\n```\r\n\r\nConsole output:\r\n\r\n```\r\nM/d/yyyy, h:mm a\r\n12/16/2022, 1:33 pm\r\n\r\nText &#39;12/16/2022, 1:33 pm&#39; could not be parsed at index 17\r\njava.time.format.DateTimeParseException: Text &#39;12/16/2022, 1:33 pm&#39; could not be parsed at index 17\r\n\tat java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2046)\r\n\tat java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1948)\r\n\tat java.base/java.time.LocalDateTime.parse(LocalDateTime.java:492)\r\n```","title":"Cannot parse &#39;12/16/2022, 1:33 pm&#39; using &#39;M/d/yyyy, h:mm a&#39; format pattern into a LocalDateTime object","body":"<p>The value <code>12/16/2022, 1:33 pm</code> looks to match to expected format pattern <code>M/d/yyyy, h:mm a</code>, what is incorrect <code>at index 17</code>?</p>\n<p>Java unit test:</p>\n<pre><code>@Test\npublic void testLocalDateTime_shortDateTimePattern() {\n    String pattern = &quot;M/d/yyyy, h:mm a&quot;;\n    System.out.println(pattern);\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(pattern);\n\n    String dateString = &quot;12/16/2022, 1:33 pm&quot;;\n    System.out.println(dateString);\n\n    LocalDateTime result = LocalDateTime.parse(dateString, formatter);\n    System.out.println(result);\n}\n</code></pre>\n<p>Console output:</p>\n<pre><code>M/d/yyyy, h:mm a\n12/16/2022, 1:33 pm\n\nText '12/16/2022, 1:33 pm' could not be parsed at index 17\njava.time.format.DateTimeParseException: Text '12/16/2022, 1:33 pm' could not be parsed at index 17\n    at java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2046)\n    at java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1948)\n    at java.base/java.time.LocalDateTime.parse(LocalDateTime.java:492)\n</code></pre>\n"},{"tags":["java","jdo","datanucleus"],"comments":[{"owner":{"account_id":26568,"reputation":15517,"user_id":69258,"display_name":"DataNucleus"},"score":0,"creation_date":1334127999,"post_id":10096772,"comment_id":12940057,"body_markdown":"what &quot;executable jar&quot; ? made up of what ?","body":"what &quot;executable jar&quot; ? made up of what ?"},{"owner":{"account_id":988842,"reputation":389,"user_id":1006649,"accept_rate":50,"display_name":"Paul"},"score":1,"creation_date":1334135356,"post_id":10096772,"comment_id":12942445,"body_markdown":"Whole project with maven dependencies deployed as executable jar file.","body":"Whole project with maven dependencies deployed as executable jar file."},{"owner":{"account_id":26568,"reputation":15517,"user_id":69258,"display_name":"DataNucleus"},"score":0,"creation_date":1334141741,"post_id":10096772,"comment_id":12944718,"body_markdown":"you mean you unjarred the DN jars and put everything in a single jar?","body":"you mean you unjarred the DN jars and put everything in a single jar?"},{"owner":{"account_id":988842,"reputation":389,"user_id":1006649,"accept_rate":50,"display_name":"Paul"},"score":1,"creation_date":1334145178,"post_id":10096772,"comment_id":12945958,"body_markdown":"I have bundled everything into big jar, all dependency jars into executable jar. With a maven-repo style structure inside the jar for dependencies. \n\nWhat is the correct way to bundle everything, so I can have working jar, with all dependencies working properly?","body":"I have bundled everything into big jar, all dependency jars into executable jar. With a maven-repo style structure inside the jar for dependencies.   What is the correct way to bundle everything, so I can have working jar, with all dependencies working properly?"},{"owner":{"account_id":26568,"reputation":15517,"user_id":69258,"display_name":"DataNucleus"},"score":0,"creation_date":1334146902,"post_id":10096772,"comment_id":12946583,"body_markdown":"DN jars need to have their OSGi info in the right places (plugin.xml and META-INF/MANIFEST.MF). Are they?","body":"DN jars need to have their OSGi info in the right places (plugin.xml and META-INF/MANIFEST.MF). Are they?"},{"owner":{"account_id":988842,"reputation":389,"user_id":1006649,"accept_rate":50,"display_name":"Paul"},"score":1,"creation_date":1334148133,"post_id":10096772,"comment_id":12947109,"body_markdown":"No, I do not have that in my MANIFEST file. I am not creating a plugin, just a standalone java app, so I didn&#39;t take a look at that section of documentation. I am not really sure what to put there then, bundle information too, or just define imports?","body":"No, I do not have that in my MANIFEST file. I am not creating a plugin, just a standalone java app, so I didn&#39;t take a look at that section of documentation. I am not really sure what to put there then, bundle information too, or just define imports?"}],"answers":[{"comments":[{"owner":{"account_id":988842,"reputation":389,"user_id":1006649,"accept_rate":50,"display_name":"Paul"},"score":1,"creation_date":1335730264,"post_id":10106373,"comment_id":13374496,"body_markdown":"Ok, I am now pretty sure that my jar is correct and contains all required informations. I think I am missing something in properties, what can it be? Or are they correct? I have edited my post to include all properties. Can it be about datanucleus.ConnectionFactoryName missing? What value should it have?","body":"Ok, I am now pretty sure that my jar is correct and contains all required informations. I think I am missing something in properties, what can it be? Or are they correct? I have edited my post to include all properties. Can it be about datanucleus.ConnectionFactoryName missing? What value should it have?"},{"owner":{"account_id":1218327,"reputation":975,"user_id":1185482,"accept_rate":75,"display_name":"Fabien"},"score":1,"creation_date":1348138045,"post_id":10106373,"comment_id":16838535,"body_markdown":"Could you be more precise on a way to merge these files ? It&#39;s not obvious.","body":"Could you be more precise on a way to merge these files ? It&#39;s not obvious."},{"owner":{"account_id":2407384,"reputation":1706,"user_id":2103450,"accept_rate":25,"display_name":"jtravaglini"},"score":0,"creation_date":1389641369,"post_id":10106373,"comment_id":31741402,"body_markdown":"@DataNucleus yes explaining the best/right way to merge the manifest files would be great.  I compile a shaded JAR in a big project and there&#39;s too many things to merge manually","body":"@DataNucleus yes explaining the best/right way to merge the manifest files would be great.  I compile a shaded JAR in a big project and there&#39;s too many things to merge manually"},{"owner":{"account_id":26568,"reputation":15517,"user_id":69258,"display_name":"DataNucleus"},"score":0,"creation_date":1389642071,"post_id":10106373,"comment_id":31741800,"body_markdown":"@jtravaglini. The MANIFEST info is OSGi so any OSGi resource should help you on that (DataNucleus doesn&#39;t use it explicitly and won&#39;t stop working when you have some error in it AFAIK). The plugin.xml should be pretty obvious how to merge (being an XML file) ... put all extension-points at the top (from all plugin.xml files being merged), then put all extensions below (and all entries for each extension together).","body":"@jtravaglini. The MANIFEST info is OSGi so any OSGi resource should help you on that (DataNucleus doesn&#39;t use it explicitly and won&#39;t stop working when you have some error in it AFAIK). The plugin.xml should be pretty obvious how to merge (being an XML file) ... put all extension-points at the top (from all plugin.xml files being merged), then put all extensions below (and all entries for each extension together)."}],"tags":[],"owner":{"account_id":26568,"reputation":15517,"user_id":69258,"display_name":"DataNucleus"},"comment_count":4,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1334149115,"creation_date":1334149115,"answer_id":10106373,"question_id":10096772,"body_markdown":"DataNucleus jars are all OSGi-enabled and use a plugin mechanism to identify capabilities, so contain *plugin.xml* and *META-INF/MANIFEST.MF* files. These need to be in the same locations as they are in the original DN jars (from the root of the jar). If you unpack and then rejar them up you will need to merge any plugin.xml and META-INF/MANIFEST.MF from the DN jars ... ALL of the information there not just some of it. ","title":"Datanucleus, JDO and executable jar - how to do it?","body":"<p>DataNucleus jars are all OSGi-enabled and use a plugin mechanism to identify capabilities, so contain <em>plugin.xml</em> and <em>META-INF/MANIFEST.MF</em> files. These need to be in the same locations as they are in the original DN jars (from the root of the jar). If you unpack and then rejar them up you will need to merge any plugin.xml and META-INF/MANIFEST.MF from the DN jars ... ALL of the information there not just some of it. </p>\n"},{"tags":[],"owner":{"account_id":537281,"reputation":400,"user_id":905862,"accept_rate":60,"display_name":"Krzysztof Zielinski"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1334304136,"creation_date":1334304136,"answer_id":10137234,"question_id":10096772,"body_markdown":"Adding to DataNucleus answer.&lt;br&gt;\r\nTo acheave what you need you should use **maven-dependency-plugin**&lt;br&gt;\r\nand add following to your pom.xml&lt;br&gt;\r\n\r\n    &lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.4&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;copy-dependencies&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;outputDirectory&gt;${project.build.directory}/jars&lt;/outputDirectory&gt;\r\n\t\t\t\t\t\t\t&lt;overWriteReleases&gt;false&lt;/overWriteReleases&gt;\r\n\t\t\t\t\t\t\t&lt;overWriteSnapshots&gt;false&lt;/overWriteSnapshots&gt;\r\n\t\t\t\t\t\t\t&lt;overWriteIfNewer&gt;true&lt;/overWriteIfNewer&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\nThen the dependencies will be in *target/jars* dir.&lt;br&gt;\r\n&lt;br&gt;\r\nTo execute your app you use command:&lt;br&gt;\r\n&lt;br&gt;\r\nWindows:&lt;br&gt;\r\n*java  -cp &quot;yourFile.jar;jars/\\*&quot; package.className*&lt;br&gt;\r\n&lt;br&gt;\r\nLinux:&lt;br&gt;\r\n*java  -cp &quot;yourFile.jar:jars/\\*&quot; package.className*&lt;br&gt;\r\n&lt;br&gt;\r\nNOTE: do not use jars/*.jar, this will not work&lt;br&gt;","title":"Datanucleus, JDO and executable jar - how to do it?","body":"<p>Adding to DataNucleus answer.<br>\nTo acheave what you need you should use <strong>maven-dependency-plugin</strong><br>\nand add following to your pom.xml<br></p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.4&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;copy-dependencies&lt;/id&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;outputDirectory&gt;${project.build.directory}/jars&lt;/outputDirectory&gt;\n                        &lt;overWriteReleases&gt;false&lt;/overWriteReleases&gt;\n                        &lt;overWriteSnapshots&gt;false&lt;/overWriteSnapshots&gt;\n                        &lt;overWriteIfNewer&gt;true&lt;/overWriteIfNewer&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>Then the dependencies will be in <em>target/jars</em> dir.<br>\n<br>\nTo execute your app you use command:<br>\n<br>\nWindows:<br>\n<em>java  -cp \"yourFile.jar;jars/*\" package.className</em><br>\n<br>\nLinux:<br>\n<em>java  -cp \"yourFile.jar:jars/*\" package.className</em><br>\n<br>\nNOTE: do not use jars/*.jar, this will not work<br></p>\n"},{"comments":[{"owner":{"account_id":2268219,"reputation":1637,"user_id":1996296,"accept_rate":69,"display_name":"igreenfield"},"score":0,"creation_date":1575878765,"post_id":27030103,"comment_id":104699723,"body_markdown":"Can you explain which Ids?","body":"Can you explain which Ids?"}],"tags":[],"owner":{"account_id":253102,"reputation":2477,"user_id":531578,"accept_rate":100,"display_name":"Oscar Korz"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1416446180,"creation_date":1416446180,"answer_id":27030103,"question_id":10096772,"body_markdown":"In order to use DataNucleus 4.x in an Apache Storm topology which requires a single jar, I had to do two hacks in order to keep their PluginRegistry stuff working. The issue is that the DataNucleus core tries to load modules as OSGi bundles, even when it is not running in an OSGi container. This works fine as long as the jars are not merged (and I would prefer not to merge my dependencies, but this is not an option for me).\r\n\r\nFirst, I merged all the plugin.xml files into the datanucleus-core plugin.xml. The trick is that extension-point ids are relative to their parent plugin&#39;s id. So if any of the modules your are using define new extension-points, e.g. datanucleus-rdbms, you have to rewrite the ids so they are relative to their new parent plugin.\r\n\r\nSecond, I added the following entries to our jar&#39;s MANIFEST.MF:\r\n\r\n    Premain-Class: org.datanucleus.enhancer.DataNucleusClassFileTransformer\r\n    Bundle-SymbolicName: org.datanucleus;singleton:=true\r\n\r\nThis solution is not ideal as our application is essentially pretending to be the DataNucleus core OSGi bundle. However, this was what I ended up with after a few days off smashing my head on my desk.\r\n\r\nIt might be possible to provide a different PluginRegistry implementation, but I have not looked into this.","title":"Datanucleus, JDO and executable jar - how to do it?","body":"<p>In order to use DataNucleus 4.x in an Apache Storm topology which requires a single jar, I had to do two hacks in order to keep their PluginRegistry stuff working. The issue is that the DataNucleus core tries to load modules as OSGi bundles, even when it is not running in an OSGi container. This works fine as long as the jars are not merged (and I would prefer not to merge my dependencies, but this is not an option for me).</p>\n\n<p>First, I merged all the plugin.xml files into the datanucleus-core plugin.xml. The trick is that extension-point ids are relative to their parent plugin's id. So if any of the modules your are using define new extension-points, e.g. datanucleus-rdbms, you have to rewrite the ids so they are relative to their new parent plugin.</p>\n\n<p>Second, I added the following entries to our jar's MANIFEST.MF:</p>\n\n<pre><code>Premain-Class: org.datanucleus.enhancer.DataNucleusClassFileTransformer\nBundle-SymbolicName: org.datanucleus;singleton:=true\n</code></pre>\n\n<p>This solution is not ideal as our application is essentially pretending to be the DataNucleus core OSGi bundle. However, this was what I ended up with after a few days off smashing my head on my desk.</p>\n\n<p>It might be possible to provide a different PluginRegistry implementation, but I have not looked into this.</p>\n"},{"tags":[],"owner":{"account_id":7246979,"reputation":340,"user_id":5528570,"accept_rate":0,"display_name":"Lisa Clark"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593375147,"creation_date":1593375147,"answer_id":62627735,"question_id":10096772,"body_markdown":"For anyone else struggling to merge the datanucleus plugin.xml files, I used the following code to help.  Pipe the contents from the 3 separate datanucleus plugin.xml files using this command and this will tell you where there are extensions which explicitly need merging:\r\n\r\n`cat plugin_core.xml plugin_rdbms.xml plugin_api.xml | grep -h &quot;extension point&quot; | tr -d &quot;[:blank:]&quot;| sort | uniq -d`\r\n\r\nMore details are in a [separate post][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/62414127/apache-spark-project-with-single-executable-jar-with-datanucleus/62627698#62627698","title":"Datanucleus, JDO and executable jar - how to do it?","body":"<p>For anyone else struggling to merge the datanucleus plugin.xml files, I used the following code to help.  Pipe the contents from the 3 separate datanucleus plugin.xml files using this command and this will tell you where there are extensions which explicitly need merging:</p>\n<p><code>cat plugin_core.xml plugin_rdbms.xml plugin_api.xml | grep -h &quot;extension point&quot; | tr -d &quot;[:blank:]&quot;| sort | uniq -d</code></p>\n<p>More details are in a <a href=\"https://stackoverflow.com/questions/62414127/apache-spark-project-with-single-executable-jar-with-datanucleus/62627698#62627698\">separate post</a>.</p>\n"},{"tags":[],"owner":{"account_id":1714422,"reputation":5361,"user_id":1571826,"accept_rate":67,"display_name":"Def_Os"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671223763,"creation_date":1671223763,"answer_id":74829628,"question_id":10096772,"body_markdown":"Building on top of the existing answers (especially https://stackoverflow.com/a/27030103/1571826), overrode my `plugin.xml` once manually with the IDs for the RDBMS plugin. I followed this answer for that: https://stackoverflow.com/a/37511856/1571826\r\n\r\nAfter storing that new `plugin.xml` as a resource, I configured my `maven-shade-plugin` as follows:\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.4&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\r\n                    &lt;finalName&gt;${project.artifactId}-shaded&lt;/finalName&gt;\r\n                    &lt;filters&gt;\r\n                        &lt;filter&gt;\r\n                            &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                            &lt;excludes&gt;\r\n                                &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n                                &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n                                &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n                                &lt;exclude&gt;META-INF/DEPENDENCIES&lt;/exclude&gt;\r\n                                &lt;exclude&gt;META-INF/license/*&lt;/exclude&gt;\r\n                                &lt;exclude&gt;META-INF/LICENSE&lt;/exclude&gt;\r\n                                &lt;exclude&gt;META-INF/NOTICE&lt;/exclude&gt;\r\n                            &lt;/excludes&gt;\r\n                        &lt;/filter&gt;\r\n                    &lt;/filters&gt;\r\n                    &lt;transformers&gt;\r\n                        &lt;!--\r\n                        Metastore dependencies require below highly specific merging solutions:\r\n                        - https://github.com/apache/iceberg/issues/5946#issuecomment-1278674526\r\n                        - https://stackoverflow.com/a/10106373/1571826\r\n                        - https://stackoverflow.com/a/37511856/1571826\r\n                        --&gt;\r\n                        &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\r\n                        &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.DontIncludeResourceTransformer&quot;&gt;\r\n                            &lt;resource&gt;META-INF/MANIFEST&lt;/resource&gt;\r\n                        &lt;/transformer&gt;\r\n                        &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                            &lt;manifestEntries&gt;\r\n                                &lt;Main-Class&gt;${mainClass}&lt;/Main-Class&gt;\r\n                                &lt;Premain-Class&gt;org.datanucleus.enhancer.DataNucleusClassFileTransformer&lt;/Premain-Class&gt;\r\n                                &lt;Bundle-SymbolicName&gt;org.datanucleus;singleton:=true&lt;/Bundle-SymbolicName&gt;\r\n                            &lt;/manifestEntries&gt;\r\n                        &lt;/transformer&gt;\r\n                        &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.DontIncludeResourceTransformer&quot;&gt;\r\n                            &lt;resource&gt;plugin.xml&lt;/resource&gt;\r\n                        &lt;/transformer&gt;\r\n                        &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.IncludeResourceTransformer&quot;&gt;\r\n                            &lt;resource&gt;plugin.xml&lt;/resource&gt;\r\n                            &lt;file&gt;src/main/resources/plugin.xml&lt;/file&gt;\r\n                        &lt;/transformer&gt;\r\n                        &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.AppendingTransformer&quot;&gt;\r\n                            &lt;resource&gt;reference.conf&lt;/resource&gt;\r\n                        &lt;/transformer&gt;\r\n                    &lt;/transformers&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n","title":"Datanucleus, JDO and executable jar - how to do it?","body":"<p>Building on top of the existing answers (especially <a href=\"https://stackoverflow.com/a/27030103/1571826\">https://stackoverflow.com/a/27030103/1571826</a>), overrode my <code>plugin.xml</code> once manually with the IDs for the RDBMS plugin. I followed this answer for that: <a href=\"https://stackoverflow.com/a/37511856/1571826\">https://stackoverflow.com/a/37511856/1571826</a></p>\n<p>After storing that new <code>plugin.xml</code> as a resource, I configured my <code>maven-shade-plugin</code> as follows:</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.2.4&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;shade&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\n                &lt;finalName&gt;${project.artifactId}-shaded&lt;/finalName&gt;\n                &lt;filters&gt;\n                    &lt;filter&gt;\n                        &lt;artifact&gt;*:*&lt;/artifact&gt;\n                        &lt;excludes&gt;\n                            &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                            &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                            &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n                            &lt;exclude&gt;META-INF/DEPENDENCIES&lt;/exclude&gt;\n                            &lt;exclude&gt;META-INF/license/*&lt;/exclude&gt;\n                            &lt;exclude&gt;META-INF/LICENSE&lt;/exclude&gt;\n                            &lt;exclude&gt;META-INF/NOTICE&lt;/exclude&gt;\n                        &lt;/excludes&gt;\n                    &lt;/filter&gt;\n                &lt;/filters&gt;\n                &lt;transformers&gt;\n                    &lt;!--\n                    Metastore dependencies require below highly specific merging solutions:\n                    - https://github.com/apache/iceberg/issues/5946#issuecomment-1278674526\n                    - https://stackoverflow.com/a/10106373/1571826\n                    - https://stackoverflow.com/a/37511856/1571826\n                    --&gt;\n                    &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\n                    &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.DontIncludeResourceTransformer&quot;&gt;\n                        &lt;resource&gt;META-INF/MANIFEST&lt;/resource&gt;\n                    &lt;/transformer&gt;\n                    &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                        &lt;manifestEntries&gt;\n                            &lt;Main-Class&gt;${mainClass}&lt;/Main-Class&gt;\n                            &lt;Premain-Class&gt;org.datanucleus.enhancer.DataNucleusClassFileTransformer&lt;/Premain-Class&gt;\n                            &lt;Bundle-SymbolicName&gt;org.datanucleus;singleton:=true&lt;/Bundle-SymbolicName&gt;\n                        &lt;/manifestEntries&gt;\n                    &lt;/transformer&gt;\n                    &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.DontIncludeResourceTransformer&quot;&gt;\n                        &lt;resource&gt;plugin.xml&lt;/resource&gt;\n                    &lt;/transformer&gt;\n                    &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.IncludeResourceTransformer&quot;&gt;\n                        &lt;resource&gt;plugin.xml&lt;/resource&gt;\n                        &lt;file&gt;src/main/resources/plugin.xml&lt;/file&gt;\n                    &lt;/transformer&gt;\n                    &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.AppendingTransformer&quot;&gt;\n                        &lt;resource&gt;reference.conf&lt;/resource&gt;\n                    &lt;/transformer&gt;\n                &lt;/transformers&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"}],"owner":{"account_id":988842,"reputation":389,"user_id":1006649,"accept_rate":50,"display_name":"Paul"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7974,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":10137234,"answer_count":5,"score":6,"last_activity_date":1671223763,"creation_date":1334093633,"question_id":10096772,"body_markdown":"I am developing a desktop app with Datanucleus and JDO for embedded H2 database. It all works fine when I run it from Eclipse, but it stops working when I try to make executable jar out of it. I get a following error:\r\n\r\n**org.datanucleus.exceptions.NucleusUserException: Persistence process has been specified to use a ClassLoaderResolver of name &quot;jdo&quot; yet this has not been found by the DataNucleus plugin mechanism. Please check your CLASSPATH and plugin specification.**\r\n\r\nOf course it shows that I have not configured something properly - what am I missing? If I was missing something big, it wouldn&#39;t work at all, so I am assuming it&#39;s a flawed executable jar. I have seen that error in other apps, like JPOX, where it was fixed, but without any solution given.\r\n\r\nWhole error stacktrace:\r\n\r\n    Exception in thread &quot;main&quot; javax.jdo.JDOFatalInternalException: Unexpected exception caught.\r\n            at javax.jdo.JDOHelper.invokeGetPersistenceManagerFactoryOnImplementation(JDOHelper.java:1193)\r\n            at javax.jdo.JDOHelper.getPersistenceManagerFactory(JDOHelper.java:808)\r\n            at javax.jdo.JDOHelper.getPersistenceManagerFactory(JDOHelper.java:701)\r\n            at db.PersistenceManagerFilter.init(PersistenceManagerFilter.java:44)\r\n            at Main.main(Main.java:26)\r\n    NestedThrowablesStackTrace:\r\n    java.lang.reflect.InvocationTargetException\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n            at java.lang.reflect.Method.invoke(Unknown Source)\r\n            at javax.jdo.JDOHelper$16.run(JDOHelper.java:1965)\r\n            at java.security.AccessController.doPrivileged(Native Method)\r\n            at javax.jdo.JDOHelper.invoke(JDOHelper.java:1960)\r\n            at javax.jdo.JDOHelper.invokeGetPersistenceManagerFactoryOnImplementation(JDOHelper.java:1166)\r\n            at javax.jdo.JDOHelper.getPersistenceManagerFactory(JDOHelper.java:808)\r\n            at javax.jdo.JDOHelper.getPersistenceManagerFactory(JDOHelper.java:701)\r\n            at db.PersistenceManagerFilter.init(PersistenceManagerFilter.java:44)\r\n            at Main.main(Main.java:26)\r\n    Caused by: org.datanucleus.exceptions.NucleusUserException: Persistence process has been specified to use a ClassLoaderResolver of name &quot;jdo&quot; yet this has not been found by the DataNucleus plugin mechanism. Please check your CLASSPATH and plugin specification.\r\n            at org.datanucleus.NucleusContext.&lt;init&gt;(NucleusContext.java:233)\r\n            at org.datanucleus.NucleusContext.&lt;init&gt;(NucleusContext.java:196)\r\n            at org.datanucleus.NucleusContext.&lt;init&gt;(NucleusContext.java:174)\r\n            at org.datanucleus.api.jdo.JDOPersistenceManagerFactory.&lt;init&gt;(JDOPersistenceManagerFactory.java:364)\r\n            at org.datanucleus.api.jdo.JDOPersistenceManagerFactory.createPersistenceManagerFactory(JDOPersistenceManagerFactory.java:294)\r\n            at org.datanucleus.api.jdo.JDOPersistenceManagerFactory.getPersistenceManagerFactory(JDOPersistenceManagerFactory.java:195)\r\n            ... 12 more\r\n\r\n\r\nThe line it points to is PersistenceManagerFilter init method:\r\n\r\n    pmf = JDOHelper.getPersistenceManagerFactory(getProperties());\r\n\r\nProperties file looks like that:\r\n\r\n        javax.jdo.PersistenceManagerFactoryClass=org.datanucleus.api.jdo.JDOPersistenceManagerFactory\r\n    datanucleus.ConnectionDriverName=org.h2.Driver\r\n    datanucleus.ConnectionURL=jdbc:h2:datanucleus\r\n    datanucleus.ConnectionUserName=sa\r\n    datanucleus.ConnectionPassword=\r\n\r\nI have all dependencies from maven, with a goal to deploy with dependencies. Dependencies are as stated on datanucleus page http://www.datanucleus.org/products/datanucleus/jdo/maven.html\r\n\r\nAny ideas?","title":"Datanucleus, JDO and executable jar - how to do it?","body":"<p>I am developing a desktop app with Datanucleus and JDO for embedded H2 database. It all works fine when I run it from Eclipse, but it stops working when I try to make executable jar out of it. I get a following error:</p>\n\n<p><strong>org.datanucleus.exceptions.NucleusUserException: Persistence process has been specified to use a ClassLoaderResolver of name \"jdo\" yet this has not been found by the DataNucleus plugin mechanism. Please check your CLASSPATH and plugin specification.</strong></p>\n\n<p>Of course it shows that I have not configured something properly - what am I missing? If I was missing something big, it wouldn't work at all, so I am assuming it's a flawed executable jar. I have seen that error in other apps, like JPOX, where it was fixed, but without any solution given.</p>\n\n<p>Whole error stacktrace:</p>\n\n<pre><code>Exception in thread \"main\" javax.jdo.JDOFatalInternalException: Unexpected exception caught.\n        at javax.jdo.JDOHelper.invokeGetPersistenceManagerFactoryOnImplementation(JDOHelper.java:1193)\n        at javax.jdo.JDOHelper.getPersistenceManagerFactory(JDOHelper.java:808)\n        at javax.jdo.JDOHelper.getPersistenceManagerFactory(JDOHelper.java:701)\n        at db.PersistenceManagerFilter.init(PersistenceManagerFilter.java:44)\n        at Main.main(Main.java:26)\nNestedThrowablesStackTrace:\njava.lang.reflect.InvocationTargetException\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n        at java.lang.reflect.Method.invoke(Unknown Source)\n        at javax.jdo.JDOHelper$16.run(JDOHelper.java:1965)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at javax.jdo.JDOHelper.invoke(JDOHelper.java:1960)\n        at javax.jdo.JDOHelper.invokeGetPersistenceManagerFactoryOnImplementation(JDOHelper.java:1166)\n        at javax.jdo.JDOHelper.getPersistenceManagerFactory(JDOHelper.java:808)\n        at javax.jdo.JDOHelper.getPersistenceManagerFactory(JDOHelper.java:701)\n        at db.PersistenceManagerFilter.init(PersistenceManagerFilter.java:44)\n        at Main.main(Main.java:26)\nCaused by: org.datanucleus.exceptions.NucleusUserException: Persistence process has been specified to use a ClassLoaderResolver of name \"jdo\" yet this has not been found by the DataNucleus plugin mechanism. Please check your CLASSPATH and plugin specification.\n        at org.datanucleus.NucleusContext.&lt;init&gt;(NucleusContext.java:233)\n        at org.datanucleus.NucleusContext.&lt;init&gt;(NucleusContext.java:196)\n        at org.datanucleus.NucleusContext.&lt;init&gt;(NucleusContext.java:174)\n        at org.datanucleus.api.jdo.JDOPersistenceManagerFactory.&lt;init&gt;(JDOPersistenceManagerFactory.java:364)\n        at org.datanucleus.api.jdo.JDOPersistenceManagerFactory.createPersistenceManagerFactory(JDOPersistenceManagerFactory.java:294)\n        at org.datanucleus.api.jdo.JDOPersistenceManagerFactory.getPersistenceManagerFactory(JDOPersistenceManagerFactory.java:195)\n        ... 12 more\n</code></pre>\n\n<p>The line it points to is PersistenceManagerFilter init method:</p>\n\n<pre><code>pmf = JDOHelper.getPersistenceManagerFactory(getProperties());\n</code></pre>\n\n<p>Properties file looks like that:</p>\n\n<pre><code>    javax.jdo.PersistenceManagerFactoryClass=org.datanucleus.api.jdo.JDOPersistenceManagerFactory\ndatanucleus.ConnectionDriverName=org.h2.Driver\ndatanucleus.ConnectionURL=jdbc:h2:datanucleus\ndatanucleus.ConnectionUserName=sa\ndatanucleus.ConnectionPassword=\n</code></pre>\n\n<p>I have all dependencies from maven, with a goal to deploy with dependencies. Dependencies are as stated on datanucleus page <a href=\"http://www.datanucleus.org/products/datanucleus/jdo/maven.html\" rel=\"noreferrer\">http://www.datanucleus.org/products/datanucleus/jdo/maven.html</a></p>\n\n<p>Any ideas?</p>\n"},{"tags":["java","sql","hibernate","parameters","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1542264842,"creation_date":1542264842,"answer_id":53313915,"question_id":53311646,"body_markdown":"The SQL statement specified by `@SQLInsert` gets the fields of your entity bound as parameters. \r\n\r\nYou have at least 4 attributes in your `VipCode` entity directly, and I suspect even more from the `BaseModel` class it inherits from. But your SQL statment expects only two parameters. \r\n\r\nTo fix the problem remove the superfluous attributes from the entity, add parameters for them to the query or mark them as `@Transient`.","title":"JPA using @SQLInsert throws Parameter index out of range","body":"<p>The SQL statement specified by <code>@SQLInsert</code> gets the fields of your entity bound as parameters. </p>\n\n<p>You have at least 4 attributes in your <code>VipCode</code> entity directly, and I suspect even more from the <code>BaseModel</code> class it inherits from. But your SQL statment expects only two parameters. </p>\n\n<p>To fix the problem remove the superfluous attributes from the entity, add parameters for them to the query or mark them as <code>@Transient</code>.</p>\n"}],"owner":{"account_id":13053686,"reputation":21,"user_id":9433203,"display_name":"林永福"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1217,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671223360,"creation_date":1542249625,"question_id":53311646,"body_markdown":"    @Data\r\n    @MappedSuperclass\r\n    public class BaseModel implements Serializable {\r\n     private static final Long serialVersionUID = -1442801573244745790L;\r\n\r\n     @Id\r\n     @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n     private Long id;\r\n\r\n     @JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)\r\n     @Convert(converter = LocalDateTimeConverter.class)\r\n     private LocalDateTime createAt = LocalDateTime.now();\r\n\r\n     @JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)\r\n     @Convert(converter = LocalDateTimeConverter.class)\r\n     private LocalDateTime updateAt = LocalDateTime.now();\r\n    }\r\n\r\n\r\n    @Data\r\n    @Entity\r\n    @Table(name = &quot;tb_vip_code&quot;)\r\n    @SQLInsert(sql = &quot;insert ignore into tb_vip_code (code, duration) values (?, ?)&quot;)\r\n    public class VipCode extends BaseModel {\r\n    private static final Long serialVersionUID = -4697221755301869573L;\r\n\r\n    private String code;\r\n    private Integer duration;\r\n    private Integer status = 0;\r\n    private Long userId;\r\n\r\n    public VipCode() {}\r\n    }\r\n\r\n    @Test\r\n    public void addOne() throws Exception {\r\n        VipCode vipCode = new VipCode();\r\n        vipCode.setCode(&quot;123456&quot;);\r\n        vipCode.setDuration(1);\r\n        service.addOne(vipCode);\r\n    }\r\n\r\n    create table tb_vip_code\r\n    (\r\n\tid bigint auto_increment\r\n\t\tprimary key,\r\n\tcode varchar(20) not null,\r\n\tstatus int default &#39;0&#39; not null,\r\n\tuser_id bigint null,\r\n\tduration int not null,\r\n\tcreate_at datetime default CURRENT_TIMESTAMP not null,\r\n\tupdate_at timestamp default CURRENT_TIMESTAMP not null,\r\n\tconstraint tb_vip_code_code_uindex unique (code)\r\n    );\r\n\r\nAll code as above, I am trying to use a custom sql to save object, but it throws an exception: \r\n\r\n&gt; Caused by: java.sql.SQLException: Parameter index out of range (3 &gt; number of parameters, which is 2).\r\n\r\nI only have two parameters; why does it say it needed three?","title":"JPA using @SQLInsert throws Parameter index out of range","body":"<pre><code>@Data\n@MappedSuperclass\npublic class BaseModel implements Serializable {\n private static final Long serialVersionUID = -1442801573244745790L;\n\n @Id\n @GeneratedValue(strategy = GenerationType.IDENTITY)\n private Long id;\n\n @JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)\n @Convert(converter = LocalDateTimeConverter.class)\n private LocalDateTime createAt = LocalDateTime.now();\n\n @JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)\n @Convert(converter = LocalDateTimeConverter.class)\n private LocalDateTime updateAt = LocalDateTime.now();\n}\n\n\n@Data\n@Entity\n@Table(name = &quot;tb_vip_code&quot;)\n@SQLInsert(sql = &quot;insert ignore into tb_vip_code (code, duration) values (?, ?)&quot;)\npublic class VipCode extends BaseModel {\nprivate static final Long serialVersionUID = -4697221755301869573L;\n\nprivate String code;\nprivate Integer duration;\nprivate Integer status = 0;\nprivate Long userId;\n\npublic VipCode() {}\n}\n\n@Test\npublic void addOne() throws Exception {\n    VipCode vipCode = new VipCode();\n    vipCode.setCode(&quot;123456&quot;);\n    vipCode.setDuration(1);\n    service.addOne(vipCode);\n}\n\ncreate table tb_vip_code\n(\nid bigint auto_increment\n    primary key,\ncode varchar(20) not null,\nstatus int default '0' not null,\nuser_id bigint null,\nduration int not null,\ncreate_at datetime default CURRENT_TIMESTAMP not null,\nupdate_at timestamp default CURRENT_TIMESTAMP not null,\nconstraint tb_vip_code_code_uindex unique (code)\n);\n</code></pre>\n<p>All code as above, I am trying to use a custom sql to save object, but it throws an exception:</p>\n<blockquote>\n<p>Caused by: java.sql.SQLException: Parameter index out of range (3 &gt; number of parameters, which is 2).</p>\n</blockquote>\n<p>I only have two parameters; why does it say it needed three?</p>\n"},{"tags":["java","syntax","operators","increment"],"answers":[{"tags":[],"owner":{"account_id":27818,"reputation":39950,"user_id":73772,"accept_rate":80,"display_name":"Emil H"},"comment_count":0,"down_vote_count":1,"up_vote_count":339,"is_accepted":true,"score":338,"last_activity_date":1247000997,"creation_date":1247000997,"answer_id":1094894,"question_id":1094872,"body_markdown":"++x is called preincrement while x++ is called postincrement. \r\n\r\n    int x = 5, y = 5;\r\n\r\n    System.out.println(++x); // outputs 6\r\n    System.out.println(x); // outputs 6\r\n\r\n    System.out.println(y++); // outputs 5\r\n    System.out.println(y); // outputs 6\r\n\r\n","title":"Is there a difference between x++ and ++x in java?","body":"<p>++x is called preincrement while x++ is called postincrement. </p>\n\n<pre><code>int x = 5, y = 5;\n\nSystem.out.println(++x); // outputs 6\nSystem.out.println(x); // outputs 6\n\nSystem.out.println(y++); // outputs 5\nSystem.out.println(y); // outputs 6\n</code></pre>\n"},{"comments":[{"owner":{"account_id":41540,"reputation":1160,"user_id":120794,"display_name":"Alberto de Paola"},"score":1,"creation_date":1329531569,"post_id":1094898,"comment_id":11785609,"body_markdown":"This &quot;answer&quot; just tells you a test case output, and I consider that outputs are not answers. On the contrary, normally the (unexpected) result of some code execution leads as to the question. Hence my down vote.","body":"This &quot;answer&quot; just tells you a test case output, and I consider that outputs are not answers. On the contrary, normally the (unexpected) result of some code execution leads as to the question. Hence my down vote."}],"tags":[],"owner":{"account_id":22607,"reputation":52823,"user_id":55925,"accept_rate":82,"display_name":"Johannes Weiss"},"comment_count":1,"down_vote_count":3,"up_vote_count":14,"is_accepted":false,"score":11,"last_activity_date":1247001013,"creation_date":1247001013,"answer_id":1094898,"question_id":1094872,"body_markdown":"Yes,\r\n\r\n    int x=5;\r\n    System.out.println(++x);\r\n\r\nwill print ``6`` and\r\n\r\n    int x=5;\r\n    System.out.println(x++);\r\n\r\nwill print ``5``.\r\n\r\n","title":"Is there a difference between x++ and ++x in java?","body":"<p>Yes,</p>\n\n<pre><code>int x=5;\nSystem.out.println(++x);\n</code></pre>\n\n<p>will print <code>6</code> and</p>\n\n<pre><code>int x=5;\nSystem.out.println(x++);\n</code></pre>\n\n<p>will print <code>5</code>.</p>\n"},{"tags":[],"owner":{"account_id":43142,"reputation":5707,"user_id":125946,"accept_rate":87,"display_name":"Victor"},"comment_count":0,"down_vote_count":0,"up_vote_count":76,"is_accepted":false,"score":76,"last_activity_date":1247001027,"creation_date":1247001027,"answer_id":1094901,"question_id":1094872,"body_markdown":"yes\r\n\r\n++x increments the value of x and then returns x&lt;br/&gt;\r\nx++ returns the value of x and then increments\r\n\r\nexample:\r\n\r\n    x=0;\r\n    a=++x;\r\n    b=x++;\r\n\r\nafter the code is run both a and b will be 1 but x will be 2.","title":"Is there a difference between x++ and ++x in java?","body":"<p>yes</p>\n\n<p>++x increments the value of x and then returns x<br/>\nx++ returns the value of x and then increments</p>\n\n<p>example:</p>\n\n<pre><code>x=0;\na=++x;\nb=x++;\n</code></pre>\n\n<p>after the code is run both a and b will be 1 but x will be 2.</p>\n"},{"tags":[],"owner":{"account_id":37107,"reputation":3528,"user_id":105993,"accept_rate":67,"display_name":"nojevive"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1247001063,"creation_date":1247001063,"answer_id":1094904,"question_id":1094872,"body_markdown":"Yes, using ++X, X+1 will be used in the expression. Using X++, X will be used in the expression and X will only be increased after the expression has been evaluated.\r\n\r\nSo if X = 9, using ++X, the value 10 will be used, else, the value 9.","title":"Is there a difference between x++ and ++x in java?","body":"<p>Yes, using ++X, X+1 will be used in the expression. Using X++, X will be used in the expression and X will only be increased after the expression has been evaluated.</p>\n\n<p>So if X = 9, using ++X, the value 10 will be used, else, the value 9.</p>\n"},{"tags":[],"owner":{"account_id":21226,"reputation":22415,"user_id":51428,"accept_rate":82,"display_name":"flq"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1247001078,"creation_date":1247001078,"answer_id":1094905,"question_id":1094872,"body_markdown":"If it&#39;s like many other languages you may want to have a simple try:\r\n\r\n    i = 0;\r\n    if (0 == i++) // if true, increment happened after equality check\r\n    if (2 == ++i) // if true, increment happened before equality check\r\n\r\nIf the above doesn&#39;t happen like that, they may be equivalent","title":"Is there a difference between x++ and ++x in java?","body":"<p>If it's like many other languages you may want to have a simple try:</p>\n\n<pre><code>i = 0;\nif (0 == i++) // if true, increment happened after equality check\nif (2 == ++i) // if true, increment happened before equality check\n</code></pre>\n\n<p>If the above doesn't happen like that, they may be equivalent</p>\n"},{"tags":[],"owner":{"account_id":30171,"reputation":40012,"user_id":82118,"accept_rate":72,"display_name":"Carl Manaster"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1247001161,"creation_date":1247001161,"answer_id":1094914,"question_id":1094872,"body_markdown":"Yes.\r\n\r\n\r\n    public class IncrementTest extends TestCase {\r\n    \t\r\n    \tpublic void testPreIncrement() throws Exception {\r\n    \t\tint i = 0;\r\n    \t\tint j = i++;\r\n    \t\tassertEquals(0, j);\r\n    \t\tassertEquals(1, i);\r\n    \t}\r\n    \t\r\n    \tpublic void testPostIncrement() throws Exception {\r\n    \t\tint i = 0;\r\n    \t\tint j = ++i;\r\n    \t\tassertEquals(1, j);\r\n    \t\tassertEquals(1, i);\r\n    \t}\r\n    }\r\n\r\n","title":"Is there a difference between x++ and ++x in java?","body":"<p>Yes.</p>\n\n<pre><code>public class IncrementTest extends TestCase {\n\n    public void testPreIncrement() throws Exception {\n        int i = 0;\n        int j = i++;\n        assertEquals(0, j);\n        assertEquals(1, i);\n    }\n\n    public void testPostIncrement() throws Exception {\n        int i = 0;\n        int j = ++i;\n        assertEquals(1, j);\n        assertEquals(1, i);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":42036,"reputation":14781,"user_id":122321,"display_name":"Lars Haugseth"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1247001164,"creation_date":1247001164,"answer_id":1094915,"question_id":1094872,"body_markdown":"Yes, the value returned is the value after and before the incrementation, respectively.\r\n\r\n    class Foo {\r\n        public static void main(String args[]) {\r\n    \t    int x = 1;\r\n    \t    int a = x++;\r\n    \t    System.out.println(&quot;a is now &quot; + a);\r\n    \t    x = 1;\r\n    \t    a = ++x;\r\n    \t    System.out.println(&quot;a is now &quot; + a);\r\n        }\r\n    }\r\n\r\n    $ java Foo\r\n    a is now 1\r\n    a is now 2\r\n\r\n","title":"Is there a difference between x++ and ++x in java?","body":"<p>Yes, the value returned is the value after and before the incrementation, respectively.</p>\n\n<pre><code>class Foo {\n    public static void main(String args[]) {\n        int x = 1;\n        int a = x++;\n        System.out.println(\"a is now \" + a);\n        x = 1;\n        a = ++x;\n        System.out.println(\"a is now \" + a);\n    }\n}\n\n$ java Foo\na is now 1\na is now 2\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10839766,"reputation":5282,"user_id":8200485,"accept_rate":82,"display_name":"hyper-neutrino"},"score":0,"creation_date":1433122863,"post_id":1094916,"comment_id":49200272,"body_markdown":"Shouldn&#39;t it be `suffix`?","body":"Shouldn&#39;t it be <code>suffix</code>?"}],"tags":[],"owner":{"account_id":38490,"reputation":8552,"user_id":110478,"accept_rate":63,"display_name":"Pablojim"},"comment_count":1,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1671223045,"creation_date":1247001181,"answer_id":1094916,"question_id":1094872,"body_markdown":"These are known as postfix and prefix operators. Both will add 1 to the variable but there is a difference in the result of the statement.\r\n\r\n    int x = 0;\r\n    int y = 0;\r\n    y = ++x;            // result: x=1, y=1\r\n\r\n    int x = 0;\r\n    int y = 0;\r\n    y = x++;            // result: x=1, y=0\r\n","title":"Is there a difference between x++ and ++x in java?","body":"<p>These are known as postfix and prefix operators. Both will add 1 to the variable but there is a difference in the result of the statement.</p>\n<pre><code>int x = 0;\nint y = 0;\ny = ++x;            // result: x=1, y=1\n\nint x = 0;\nint y = 0;\ny = x++;            // result: x=1, y=0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":179989,"reputation":5011,"user_id":413020,"accept_rate":67,"display_name":"Alberto"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1345822964,"creation_date":1345818346,"answer_id":12111301,"question_id":1094872,"body_markdown":"I landed here from one of its recent [dup][1]&#39;s, and though this question is more than answered, I couldn&#39;t help decompiling the code and adding &quot;yet another answer&quot; :-)\r\n\r\nTo be accurate (and probably, a bit pedantic),\r\n\r\n    int y = 2;\r\n    y = y++;\r\n\r\nis compiled into:\r\n\r\n    int y = 2;\r\n    int tmp = y;\r\n    y = y+1;\r\n    y = tmp;\r\n\r\nIf you `javac` this `Y.java` class:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public class Y {\r\n        public static void main(String []args) {\r\n            int y = 2;\r\n            y = y++;\r\n        }\r\n    }\r\n\r\nand `javap -c Y`, you get the following jvm code (I have allowed me to comment the main method with the help of the [Java Virtual Machine Specification][2]):\r\n\r\n    public class Y extends java.lang.Object{\r\n    public Y();\r\n      Code:\r\n       0:   aload_0\r\n       1:   invokespecial  #1; //Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\r\n       4:   return\r\n    \r\n    public static void main(java.lang.String[]);\r\n      Code:\r\n       0:   iconst_2 // Push int constant `2` onto the operand stack. \r\n\r\n       1:   istore_1 // Pop the value on top of the operand stack (`2`) and set the\r\n                     // value of the local variable at index `1` (`y`) to this value.\r\n\r\n       2:   iload_1  // Push the value (`2`) of the local variable at index `1` (`y`)\r\n                     // onto the operand stack\r\n\r\n       3:   iinc  1, 1 // Sign-extend the constant value `1` to an int, and increment\r\n                       // by this amount the local variable at index `1` (`y`)\r\n\r\n       6:   istore_1 // Pop the value on top of the operand stack (`2`) and set the\r\n                     // value of the local variable at index `1` (`y`) to this value.\r\n       7:   return\r\n    \r\n    }\r\n\r\nThus, we finally have:\r\n\r\n    0,1: y=2\r\n    2: tmp=y\r\n    3: y=y+1\r\n    6: y=tmp\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/12033676/if-y-1-and-y-y-why-when-i-print-y-is-the-value-1 &quot;Recent duplicated question&quot;\r\n  [2]: http://docs.oracle.com/javase/specs/ &quot;Java Virtual Machine Specification&quot;","title":"Is there a difference between x++ and ++x in java?","body":"<p>I landed here from one of its recent <a href=\"https://stackoverflow.com/questions/12033676/if-y-1-and-y-y-why-when-i-print-y-is-the-value-1\" title=\"Recent duplicated question\">dup</a>'s, and though this question is more than answered, I couldn't help decompiling the code and adding \"yet another answer\" :-)</p>\n\n<p>To be accurate (and probably, a bit pedantic),</p>\n\n<pre><code>int y = 2;\ny = y++;\n</code></pre>\n\n<p>is compiled into:</p>\n\n<pre><code>int y = 2;\nint tmp = y;\ny = y+1;\ny = tmp;\n</code></pre>\n\n<p>If you <code>javac</code> this <code>Y.java</code> class:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Y {\n    public static void main(String []args) {\n        int y = 2;\n        y = y++;\n    }\n}\n</code></pre>\n\n<p>and <code>javap -c Y</code>, you get the following jvm code (I have allowed me to comment the main method with the help of the <a href=\"http://docs.oracle.com/javase/specs/\" rel=\"nofollow noreferrer\" title=\"Java Virtual Machine Specification\">Java Virtual Machine Specification</a>):</p>\n\n<pre><code>public class Y extends java.lang.Object{\npublic Y();\n  Code:\n   0:   aload_0\n   1:   invokespecial  #1; //Method java/lang/Object.\"&lt;init&gt;\":()V\n   4:   return\n\npublic static void main(java.lang.String[]);\n  Code:\n   0:   iconst_2 // Push int constant `2` onto the operand stack. \n\n   1:   istore_1 // Pop the value on top of the operand stack (`2`) and set the\n                 // value of the local variable at index `1` (`y`) to this value.\n\n   2:   iload_1  // Push the value (`2`) of the local variable at index `1` (`y`)\n                 // onto the operand stack\n\n   3:   iinc  1, 1 // Sign-extend the constant value `1` to an int, and increment\n                   // by this amount the local variable at index `1` (`y`)\n\n   6:   istore_1 // Pop the value on top of the operand stack (`2`) and set the\n                 // value of the local variable at index `1` (`y`) to this value.\n   7:   return\n\n}\n</code></pre>\n\n<p>Thus, we finally have:</p>\n\n<pre><code>0,1: y=2\n2: tmp=y\n3: y=y+1\n6: y=tmp\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2663127,"reputation":21,"user_id":2302327,"display_name":"kasaquan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1392643807,"creation_date":1392643390,"answer_id":21830252,"question_id":1094872,"body_markdown":"OK, I landed here because I recently came across the same issue when checking the classic stack implementation. Just a reminder that this is used in the array based implementation of Stack, which is a bit faster than the linked-list one.\r\n\r\nCode below, check the push and pop func.\r\n\r\n    public class FixedCapacityStackOfStrings\r\n    {\r\n      private String[] s;\r\n      private int N=0;\r\n    \r\n      public FixedCapacityStackOfStrings(int capacity)\r\n      { s = new String[capacity];}\r\n    \r\n      public boolean isEmpty()\r\n      { return N == 0;}\r\n    \r\n      public void push(String item)\r\n      { s[N++] = item; }\r\n    \r\n      public String pop()\r\n      { \r\n        String item = s[--N];\r\n        s[N] = null;\r\n        return item;\r\n      }\r\n    }\r\n\r\n   ","title":"Is there a difference between x++ and ++x in java?","body":"<p>OK, I landed here because I recently came across the same issue when checking the classic stack implementation. Just a reminder that this is used in the array based implementation of Stack, which is a bit faster than the linked-list one.</p>\n\n<p>Code below, check the push and pop func.</p>\n\n<pre><code>public class FixedCapacityStackOfStrings\n{\n  private String[] s;\n  private int N=0;\n\n  public FixedCapacityStackOfStrings(int capacity)\n  { s = new String[capacity];}\n\n  public boolean isEmpty()\n  { return N == 0;}\n\n  public void push(String item)\n  { s[N++] = item; }\n\n  public String pop()\n  { \n    String item = s[--N];\n    s[N] = null;\n    return item;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4394923,"reputation":550,"user_id":3582295,"display_name":"Rohit Goyal"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1403096676,"creation_date":1403096676,"answer_id":24286373,"question_id":1094872,"body_markdown":"Yes, there is a difference, incase of x++(postincrement), value of x will be used in the expression and x will be incremented by 1 after the expression has been evaluated, on the other hand ++x(preincrement), x+1 will be used in the expression. \r\nTake an example:\r\n\r\n    public static void main(String args[])\r\n    {\r\n    \tint i , j , k = 0;\r\n    \tj = k++; // Value of j is 0\r\n    \ti = ++j; // Value of i becomes 1\r\n    \tk = i++; // Value of k is 1\r\n    \tSystem.out.println(k);\t\r\n    }\r\n\r\n","title":"Is there a difference between x++ and ++x in java?","body":"<p>Yes, there is a difference, incase of x++(postincrement), value of x will be used in the expression and x will be incremented by 1 after the expression has been evaluated, on the other hand ++x(preincrement), x+1 will be used in the expression. \nTake an example:</p>\n\n<pre><code>public static void main(String args[])\n{\n    int i , j , k = 0;\n    j = k++; // Value of j is 0\n    i = ++j; // Value of i becomes 1\n    k = i++; // Value of k is 1\n    System.out.println(k);  \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":938881,"reputation":14223,"user_id":967330,"accept_rate":90,"display_name":"Thom"},"score":1,"creation_date":1429618300,"post_id":29771789,"comment_id":47674097,"body_markdown":"This response would be even better if accompanied by a few words of explanation.","body":"This response would be even better if accompanied by a few words of explanation."}],"tags":[],"owner":{"account_id":6111236,"reputation":305,"user_id":4767497,"display_name":"Saif"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1429620132,"creation_date":1429618044,"answer_id":29771789,"question_id":1094872,"body_markdown":"The Question is already answered, but allow me to add from my side too. \r\n\r\nFirst of all **++** means increment by one and **--** means decrement by one.\r\n\r\nNow **x++** means Increment **x** after this line and **++x** means Increment **x** before this line.\r\n\r\n\r\nCheck this Example\r\n\r\n    class Example {\r\n    public static void main (String args[]) {\r\n          int x=17,a,b;\r\n          a=x++;\r\n          b=++x;\r\n          System.out.println(“x=” + x +“a=” +a);\r\n          System.out.println(“x=” + x + “b=” +b);\r\n          a = x--;\r\n          b = --x;\r\n          System.out.println(“x=” + x + “a=” +a);\r\n          System.out.println(“x=” + x + “b=” +b);\r\n          }\r\n    }\r\n\r\nIt will give the following output:\r\n\r\n    x=19 a=17\r\n    x=19 b=19\r\n    x=18 a=19\r\n    x=17 b=17","title":"Is there a difference between x++ and ++x in java?","body":"<p>The Question is already answered, but allow me to add from my side too. </p>\n\n<p>First of all <strong>++</strong> means increment by one and <strong>--</strong> means decrement by one.</p>\n\n<p>Now <strong>x++</strong> means Increment <strong>x</strong> after this line and <strong>++x</strong> means Increment <strong>x</strong> before this line.</p>\n\n<p>Check this Example</p>\n\n<pre><code>class Example {\npublic static void main (String args[]) {\n      int x=17,a,b;\n      a=x++;\n      b=++x;\n      System.out.println(“x=” + x +“a=” +a);\n      System.out.println(“x=” + x + “b=” +b);\n      a = x--;\n      b = --x;\n      System.out.println(“x=” + x + “a=” +a);\n      System.out.println(“x=” + x + “b=” +b);\n      }\n}\n</code></pre>\n\n<p>It will give the following output:</p>\n\n<pre><code>x=19 a=17\nx=19 b=19\nx=18 a=19\nx=17 b=17\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5830136,"reputation":457,"user_id":4594967,"accept_rate":57,"display_name":"takra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1431969713,"creation_date":1431969713,"answer_id":30309316,"question_id":1094872,"body_markdown":"With i++, it&#39;s called postincrement, and the value is used in whatever context then incremented; ++i is preincrement increments the value first and then uses it in context. \r\n\r\nIf you&#39;re not using it in any context, it doesn&#39;t matter what you use, but postincrement is used by convention. ","title":"Is there a difference between x++ and ++x in java?","body":"<p>With i++, it's called postincrement, and the value is used in whatever context then incremented; ++i is preincrement increments the value first and then uses it in context. </p>\n\n<p>If you're not using it in any context, it doesn't matter what you use, but postincrement is used by convention. </p>\n"},{"tags":[],"owner":{"account_id":8570859,"reputation":91,"user_id":6421825,"display_name":"Cornell"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1465006987,"creation_date":1465006987,"answer_id":37625734,"question_id":1094872,"body_markdown":"When considering what the computer actually does...\r\n\r\n++x: load x from memory, increment, use, store back to memory.\r\n\r\nx++: load x from memory, use, increment, store back to memory.\r\n\r\nConsider:\r\n    a = 0\r\n    x = f(a++)\r\n    y = f(++a)\r\n\r\nwhere function f(p) returns p + 1\r\n\r\nx will be 1 (or 2)\r\n\r\ny will be 2 (or 1)\r\n\r\nAnd therein lies the problem.  Did the author of the compiler pass the parameter after retrieval, after use, or after storage.\r\n\r\nGenerally, just use x = x + 1.  It&#39;s way simpler.\r\n","title":"Is there a difference between x++ and ++x in java?","body":"<p>When considering what the computer actually does...</p>\n\n<p>++x: load x from memory, increment, use, store back to memory.</p>\n\n<p>x++: load x from memory, use, increment, store back to memory.</p>\n\n<p>Consider:\n    a = 0\n    x = f(a++)\n    y = f(++a)</p>\n\n<p>where function f(p) returns p + 1</p>\n\n<p>x will be 1 (or 2)</p>\n\n<p>y will be 2 (or 1)</p>\n\n<p>And therein lies the problem.  Did the author of the compiler pass the parameter after retrieval, after use, or after storage.</p>\n\n<p>Generally, just use x = x + 1.  It's way simpler.</p>\n"},{"tags":[],"owner":{"account_id":1592127,"reputation":18171,"user_id":1475228,"accept_rate":84,"display_name":"Pritam Banerjee"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499046368,"creation_date":1499046368,"answer_id":44876732,"question_id":1094872,"body_markdown":"There is a huge difference. \r\n\r\nAs most of the answers have already pointed out the theory, I would like to point out an easy example:\r\n\r\n    int x = 1;\r\n    //would print 1 as first statement will x = x and then x will increase\r\n    int x = x++;\r\n    System.out.println(x);\r\n    \r\nNow let&#39;s see `++x`:\r\n    \r\n    int x = 1;\r\n    //would print 2 as first statement will increment x and then x will be stored\r\n    int x = ++x;\r\n    System.out.println(x);\r\n\r\n \r\n","title":"Is there a difference between x++ and ++x in java?","body":"<p>There is a huge difference. </p>\n\n<p>As most of the answers have already pointed out the theory, I would like to point out an easy example:</p>\n\n<pre><code>int x = 1;\n//would print 1 as first statement will x = x and then x will increase\nint x = x++;\nSystem.out.println(x);\n</code></pre>\n\n<p>Now let's see <code>++x</code>:</p>\n\n<pre><code>int x = 1;\n//would print 2 as first statement will increment x and then x will be stored\nint x = ++x;\nSystem.out.println(x);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11814784,"reputation":939,"user_id":8645290,"display_name":"Jeremy Levett"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1507584574,"creation_date":1506987809,"answer_id":46535200,"question_id":1094872,"body_markdown":"In Java **there is a difference** between **x++ and ++x**\r\n\r\n**++x is a prefix form:**\r\nIt increments the variables expression then uses the new value in the expression.\r\n\r\nFor example if used in code:\r\n\r\n    int x = 3;\r\n\r\n    int y = ++x;\r\n    //Using ++x in the above is a two step operation.\r\n    //The first operation is to increment x, so x = 1 + 3 = 4\r\n    //The second operation is y = x so y = 4\r\n   \r\n    System.out.println(y); //It will print out &#39;4&#39;\r\n    System.out.println(x); //It will print out &#39;4&#39;\r\n\r\n\r\n**x++ is a postfix form:**\r\nThe variables value is first used in the expression and then it is incremented after the operation.\r\n\r\nFor example if used in code:\r\n\r\n    int x = 3;\r\n\r\n    int y = x++;\r\n    //Using x++ in the above is a two step operation.\r\n    //The first operation is y = x so y = 3\r\n    //The second operation is to increment x, so x = 1 + 3 = 4\r\n\r\n    System.out.println(y); //It will print out &#39;3&#39;\r\n    System.out.println(x); //It will print out &#39;4&#39; \r\n\r\nHope this is clear. Running and playing with the above code should help your understanding.","title":"Is there a difference between x++ and ++x in java?","body":"<p>In Java <strong>there is a difference</strong> between <strong>x++ and ++x</strong></p>\n\n<p><strong>++x is a prefix form:</strong>\nIt increments the variables expression then uses the new value in the expression.</p>\n\n<p>For example if used in code:</p>\n\n<pre><code>int x = 3;\n\nint y = ++x;\n//Using ++x in the above is a two step operation.\n//The first operation is to increment x, so x = 1 + 3 = 4\n//The second operation is y = x so y = 4\n\nSystem.out.println(y); //It will print out '4'\nSystem.out.println(x); //It will print out '4'\n</code></pre>\n\n<p><strong>x++ is a postfix form:</strong>\nThe variables value is first used in the expression and then it is incremented after the operation.</p>\n\n<p>For example if used in code:</p>\n\n<pre><code>int x = 3;\n\nint y = x++;\n//Using x++ in the above is a two step operation.\n//The first operation is y = x so y = 3\n//The second operation is to increment x, so x = 1 + 3 = 4\n\nSystem.out.println(y); //It will print out '3'\nSystem.out.println(x); //It will print out '4' \n</code></pre>\n\n<p>Hope this is clear. Running and playing with the above code should help your understanding.</p>\n"},{"tags":[],"owner":{"account_id":24161630,"reputation":11,"user_id":18125074,"display_name":"brudermoren"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644193289,"creation_date":1644193289,"answer_id":71012284,"question_id":1094872,"body_markdown":"    public static void main(String[] args) {    \r\n\r\n    int a = 1;    \r\n    int b = a++; // this means b = whatever value a has but, I want to    \r\n    increment a by 1    \r\n\t\t\r\n    System.out.println(&quot;a is --&gt; &quot; + a);    //2    \r\n    System.out.println(&quot;b is --&gt; &quot; + b);    //1    \t\r\n    a = 1;    \r\n    b = ++a;  // this means b = a+1    \r\n\t\t\r\n    System.out.println(&quot;now a is still  --&gt; &quot; + a);    //2    \r\n    System.out.println(&quot;but b is --&gt; &quot; + b);           //2    \r\n\r\n    }    ","title":"Is there a difference between x++ and ++x in java?","body":"<pre><code>public static void main(String[] args) {    \n\nint a = 1;    \nint b = a++; // this means b = whatever value a has but, I want to    \nincrement a by 1    \n    \nSystem.out.println(&quot;a is --&gt; &quot; + a);    //2    \nSystem.out.println(&quot;b is --&gt; &quot; + b);    //1     \na = 1;    \nb = ++a;  // this means b = a+1    \n    \nSystem.out.println(&quot;now a is still  --&gt; &quot; + a);    //2    \nSystem.out.println(&quot;but b is --&gt; &quot; + b);           //2    \n\n}    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":4066349,"reputation":116,"user_id":3673682,"display_name":"zguell"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658574431,"creation_date":1658574431,"answer_id":73090200,"question_id":1094872,"body_markdown":"Try to look at it this way:\r\nfrom left to right do what you encounter first. If you see the x first, then that value is going to be used in evaluating the currently processing expression, if you see the increment (++) first, then add one to the current value of the variable and continue with the evaluation of the expression. Simple","title":"Is there a difference between x++ and ++x in java?","body":"<p>Try to look at it this way:\nfrom left to right do what you encounter first. If you see the x first, then that value is going to be used in evaluating the currently processing expression, if you see the increment (++) first, then add one to the current value of the variable and continue with the evaluation of the expression. Simple</p>\n"}],"owner":{"account_id":39205,"reputation":2779,"user_id":112957,"accept_rate":50,"display_name":"erickreutz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":309262,"favorite_count":0,"down_vote_count":2,"up_vote_count":142,"accepted_answer_id":1094894,"answer_count":18,"score":140,"last_activity_date":1671223045,"creation_date":1247000827,"question_id":1094872,"body_markdown":"Is there a difference between ++x and x++ in java?","title":"Is there a difference between x++ and ++x in java?","body":"<p>Is there a difference between ++x and x++ in java?</p>\n"},{"tags":["java","spring","grails","groovy","spring-session"],"owner":{"account_id":19807385,"reputation":126,"user_id":14507039,"display_name":"joe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671222794,"creation_date":1671222794,"question_id":74829509,"body_markdown":"Trying to integrate Spring Session into a grails app.  Successfully have gotten the sessions to persist on the back end and now I am looking at trying to manually expire sessions.\r\n\r\nThe problem is when I expire a session manually as shown below.  I am not logged out of the application.  Further more, when I interrogate the session object, it thinks that it is not expired.\r\n\r\nAm I doing something wrong?\r\n\r\n```\r\n// Gets my user\r\ndef user = ctx.springSecurityService.getPrincipal()\r\n\r\n// Gets my current session\r\nSpringSessionBackedSessionInformation session = ctx.sessionRegistry.getAllSessions(user, false)[0] \r\n\r\n// Expires my session (Can see change in database)\r\nsession.expireNow() \r\n\r\n// returns false.  When I look at the code for the method it is only checking if the session has \r\n// expired due to a timeout\r\nsession.session.isExpired()\r\n```\r\n\r\nI tried looking through the docs on Spring Session for Expiry and didn&#39;t see anything for JDBC specifically.  Thought I&#39;d post it to see if anyone out there is well versed in Spring Session.","title":"Spring Session JDBC not respecting Expired Attribute","body":"<p>Trying to integrate Spring Session into a grails app.  Successfully have gotten the sessions to persist on the back end and now I am looking at trying to manually expire sessions.</p>\n<p>The problem is when I expire a session manually as shown below.  I am not logged out of the application.  Further more, when I interrogate the session object, it thinks that it is not expired.</p>\n<p>Am I doing something wrong?</p>\n<pre><code>// Gets my user\ndef user = ctx.springSecurityService.getPrincipal()\n\n// Gets my current session\nSpringSessionBackedSessionInformation session = ctx.sessionRegistry.getAllSessions(user, false)[0] \n\n// Expires my session (Can see change in database)\nsession.expireNow() \n\n// returns false.  When I look at the code for the method it is only checking if the session has \n// expired due to a timeout\nsession.session.isExpired()\n</code></pre>\n<p>I tried looking through the docs on Spring Session for Expiry and didn't see anything for JDBC specifically.  Thought I'd post it to see if anyone out there is well versed in Spring Session.</p>\n"},{"tags":["java","amazon-web-services","spring-boot","terraform","amazon-ecs"],"comments":[{"owner":{"account_id":11380463,"reputation":14217,"user_id":8343484,"display_name":"Marko E"},"score":1,"creation_date":1671218223,"post_id":74828710,"comment_id":132059603,"body_markdown":"You can probably use `entryPoint` and/or `command` but I guess some details are lacking in your question.","body":"You can probably use <code>entryPoint</code> and/or <code>command</code> but I guess some details are lacking in your question."},{"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1671222858,"post_id":74828710,"comment_id":132060870,"body_markdown":"According to the documentation here: https://docs.spring.io/spring-boot/docs/1.5.6.RELEASE/reference/html/boot-features-external-config.html what you have should work just fine.  You can also try using `SPRING_PROFILES_ACTIVE` as the environment variable name, instead of `spring.profiles.active` as mentioned in the documentation I linked.","body":"According to the documentation here: <a href=\"https://docs.spring.io/spring-boot/docs/1.5.6.RELEASE/reference/html/boot-features-external-config.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/1.5.6.RELEASE/reference/html&zwnj;&#8203;/&hellip;</a> what you have should work just fine.  You can also try using <code>SPRING_PROFILES_ACTIVE</code> as the environment variable name, instead of <code>spring.profiles.active</code> as mentioned in the documentation I linked."},{"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1671225065,"post_id":74828710,"comment_id":132061393,"body_markdown":"Please note that if you are also setting VM arguments, using `-Dspring.profiles.active=&quot;test&quot;` via the `CMD` or `ENDPOINT` settings, then that is going to override the environment variable you are trying to set. Your question asks about setting VM arguments, but the code you show is setting environment variables.","body":"Please note that if you are also setting VM arguments, using <code>-Dspring.profiles.active=&quot;test&quot;</code> via the <code>CMD</code> or <code>ENDPOINT</code> settings, then that is going to override the environment variable you are trying to set. Your question asks about setting VM arguments, but the code you show is setting environment variables."},{"owner":{"account_id":23358723,"reputation":17,"user_id":17431300,"display_name":"Carry Flag"},"score":0,"creation_date":1671454085,"post_id":74828710,"comment_id":132095677,"body_markdown":"Setting CMD or ENDPOINT is just a testing. I tried using those two that you mentioned (spring.profiles.active and SPRING_PROFILES_ACTIVE). Both did not work :(","body":"Setting CMD or ENDPOINT is just a testing. I tried using those two that you mentioned (spring.profiles.active and SPRING_PROFILES_ACTIVE). Both did not work :("}],"owner":{"account_id":23358723,"reputation":17,"user_id":17431300,"display_name":"Carry Flag"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":442,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671222731,"creation_date":1671217081,"question_id":74828710,"body_markdown":"I have this application that depends on two types of profiles, when I pass a VM arguments as &quot;-Dspring.profiles.active=&quot;test&quot;&quot;, it loads some specific beans, and when I load the application with &quot;-Dspring.profiles.active=&quot;test2&quot;, it loads the application with other beans. I&#39;m loading a docker with this application&#39;s image inside an ECS using terraform. Here&#39;s the container definition:\r\n\r\n```\r\n  {\r\n    &quot;essential&quot;: true,\r\n    &quot;image&quot;: &quot;docker-image&quot;,\r\n    &quot;name&quot;: &quot;app&quot;,\r\n    &quot;environment&quot;: [\r\n      {\r\n        &quot;name&quot;: &quot;spring.profiles.active&quot;,\r\n        &quot;value&quot;: &quot;test1&quot;\r\n      },\r\n     ]&quot;\r\n}\r\n```\r\nI&#39;ve tried passing the spring profile inside the environent value, but without any success. Is there something I can do? Thanks!\r\n","title":"How to add VM arguments to ECS container definition in Terraform?","body":"<p>I have this application that depends on two types of profiles, when I pass a VM arguments as &quot;-Dspring.profiles.active=&quot;test&quot;&quot;, it loads some specific beans, and when I load the application with &quot;-Dspring.profiles.active=&quot;test2&quot;, it loads the application with other beans. I'm loading a docker with this application's image inside an ECS using terraform. Here's the container definition:</p>\n<pre><code>  {\n    &quot;essential&quot;: true,\n    &quot;image&quot;: &quot;docker-image&quot;,\n    &quot;name&quot;: &quot;app&quot;,\n    &quot;environment&quot;: [\n      {\n        &quot;name&quot;: &quot;spring.profiles.active&quot;,\n        &quot;value&quot;: &quot;test1&quot;\n      },\n     ]&quot;\n}\n</code></pre>\n<p>I've tried passing the spring profile inside the environent value, but without any success. Is there something I can do? Thanks!</p>\n"},{"tags":["java","maven","spring-mvc","dependencies","pom.xml"],"comments":[{"owner":{"account_id":446042,"reputation":12428,"user_id":838841,"accept_rate":100,"display_name":"Shreyos Adikari"},"score":0,"creation_date":1365578058,"post_id":15919267,"comment_id":22675139,"body_markdown":"Can you please check the position of the jar inside repository.Is it present in the proper folder structure?","body":"Can you please check the position of the jar inside repository.Is it present in the proper folder structure?"},{"owner":{"account_id":290461,"reputation":5558,"user_id":592025,"accept_rate":100,"display_name":"midhunhk"},"score":1,"creation_date":1365578214,"post_id":15919267,"comment_id":22675223,"body_markdown":"Do you have the apache-commons jar file in your project&#39;s build path?","body":"Do you have the apache-commons jar file in your project&#39;s build path?"},{"owner":{"account_id":386304,"reputation":3612,"user_id":743982,"accept_rate":54,"display_name":"Shahzeb Khan"},"score":0,"creation_date":1365578271,"post_id":15919267,"comment_id":22675254,"body_markdown":"yes it is there in build path.","body":"yes it is there in build path."}],"answers":[{"comments":[{"owner":{"account_id":446042,"reputation":12428,"user_id":838841,"accept_rate":100,"display_name":"Shreyos Adikari"},"score":0,"creation_date":1365578143,"post_id":15919328,"comment_id":22675187,"body_markdown":"This is a maven project. No need to add the jar in the classpath.","body":"This is a maven project. No need to add the jar in the classpath."},{"owner":{"account_id":1291294,"reputation":1764,"user_id":1243350,"accept_rate":72,"display_name":"Ugur Artun"},"score":0,"creation_date":1365578527,"post_id":15919328,"comment_id":22675375,"body_markdown":"Sorry I meant local repository.","body":"Sorry I meant local repository."},{"owner":{"account_id":2845447,"reputation":1487,"user_id":2443988,"accept_rate":50,"display_name":"Sumit Ramteke"},"score":1,"creation_date":1382485768,"post_id":15919328,"comment_id":28975904,"body_markdown":"I take this reason into account and directly extracted manually downloaded libraries into Maven desire folder. At last, a clean build solves the issue. Thanks!","body":"I take this reason into account and directly extracted manually downloaded libraries into Maven desire folder. At last, a clean build solves the issue. Thanks!"}],"tags":[],"owner":{"account_id":1291294,"reputation":1764,"user_id":1243350,"accept_rate":72,"display_name":"Ugur Artun"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1365578066,"creation_date":1365578066,"answer_id":15919328,"question_id":15919267,"body_markdown":"If you sure that jar file includes StringEscapeUtils in the classpath you should clean the project. ","title":"StringEscapeUtils can not be resolved","body":"<p>If you sure that jar file includes StringEscapeUtils in the classpath you should clean the project. </p>\n"},{"tags":[],"owner":{"account_id":386304,"reputation":3612,"user_id":743982,"accept_rate":54,"display_name":"Shahzeb Khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1365579221,"creation_date":1365579221,"answer_id":15919641,"question_id":15919267,"body_markdown":"Thanks for all replies, i solved it by downloading manually the .jar file from the following link and overwrite the existing jar downloaded by maven. (i don&#39;t know why it started working after manual download, but after all, its working)\r\n\r\n[http://commons.apache.org/proper/commons-lang/download_lang.cgi][1]\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-lang/download_lang.cgi","title":"StringEscapeUtils can not be resolved","body":"<p>Thanks for all replies, i solved it by downloading manually the .jar file from the following link and overwrite the existing jar downloaded by maven. (i don't know why it started working after manual download, but after all, its working)</p>\n\n<p><a href=\"http://commons.apache.org/proper/commons-lang/download_lang.cgi\" rel=\"noreferrer\">http://commons.apache.org/proper/commons-lang/download_lang.cgi</a></p>\n"},{"tags":[],"owner":{"account_id":27169,"reputation":4357,"user_id":71410,"accept_rate":78,"display_name":"Andrea Girardi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1441962543,"creation_date":1441962543,"answer_id":32519717,"question_id":15919267,"body_markdown":"I had a similar issue and I solved using this:\r\n\r\n    org.apache.commons.lang3.StringEscapeUtils.escapeHtml4(testToBeTranslated)","title":"StringEscapeUtils can not be resolved","body":"<p>I had a similar issue and I solved using this:</p>\n\n<pre><code>org.apache.commons.lang3.StringEscapeUtils.escapeHtml4(testToBeTranslated)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8092853,"reputation":133,"user_id":6098255,"display_name":"vsvishnu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1517563703,"creation_date":1517563703,"answer_id":48579558,"question_id":15919267,"body_markdown":"Delete contents inside .m2\\repository\\org\\apache\\commons\\commons-lang3.\r\n\r\nUpdate project - Go to eclipse project -&gt; maven -&gt; Update Project and Check force update.","title":"StringEscapeUtils can not be resolved","body":"<p>Delete contents inside .m2\\repository\\org\\apache\\commons\\commons-lang3.</p>\n\n<p>Update project - Go to eclipse project -> maven -> Update Project and Check force update.</p>\n"},{"tags":[],"owner":{"account_id":3732221,"reputation":566,"user_id":4361933,"accept_rate":0,"display_name":"&#214;MER TAŞCI"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671220695,"creation_date":1671220695,"answer_id":74829224,"question_id":15919267,"body_markdown":"In my case, my maven project contains both pom.xml and module-info.java files. I thought that they conflicted. Then I deleted the module-info.java file. And problem is solved. ","title":"StringEscapeUtils can not be resolved","body":"<p>In my case, my maven project contains both pom.xml and module-info.java files. I thought that they conflicted. Then I deleted the module-info.java file. And problem is solved.</p>\n"}],"owner":{"account_id":386304,"reputation":3612,"user_id":743982,"accept_rate":54,"display_name":"Shahzeb Khan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28611,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":15919641,"answer_count":5,"score":6,"last_activity_date":1671220695,"creation_date":1365577900,"question_id":15919267,"body_markdown":"I have added the dependency in pom.xml\r\n\r\n \r\n\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n                \r\nbut when i update maven dependencies and import the `EscapeStringUtils` using \r\n\r\n    import org.apache.commons.lang3.StringEscapeUtils;\r\n\r\ni get it red underlined and error which states : \r\n\r\n    The import org.apache.commons.lang3.StringEscapeUtils cannot be resolved\r\n\r\n\r\nJar file is there (downloaded) now how can i fix it, i have no idea.\r\nKindly help me.\r\n\r\nThanks","title":"StringEscapeUtils can not be resolved","body":"<p>I have added the dependency in pom.xml</p>\n\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<p>but when i update maven dependencies and import the <code>EscapeStringUtils</code> using </p>\n\n<pre><code>import org.apache.commons.lang3.StringEscapeUtils;\n</code></pre>\n\n<p>i get it red underlined and error which states : </p>\n\n<pre><code>The import org.apache.commons.lang3.StringEscapeUtils cannot be resolved\n</code></pre>\n\n<p>Jar file is there (downloaded) now how can i fix it, i have no idea.\nKindly help me.</p>\n\n<p>Thanks</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"display_name":"user20716279"},"score":0,"creation_date":1671217735,"post_id":74828072,"comment_id":132059481,"body_markdown":"and here are some tutorial for stream https://dev.java/learn/the-stream-api/","body":"and here are some tutorial for stream <a href=\"https://dev.java/learn/the-stream-api/\" rel=\"nofollow noreferrer\">dev.java/learn/the-stream-api</a>"}],"answers":[{"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1671218879,"post_id":74828270,"comment_id":132059800,"body_markdown":"It&#39;s worth to note that this approach has quadratic Time complexity **O(n^2)** because it relies on the string-concatenation to merge `name` property.","body":"It&#39;s worth to note that this approach has quadratic Time complexity <b>O(n^2)</b> because it relies on the string-concatenation to merge <code>name</code> property."}],"tags":[],"owner":{"account_id":4008309,"reputation":3688,"user_id":3302424,"accept_rate":70,"display_name":"Hari Krishna"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671214141,"creation_date":1671214141,"answer_id":74828270,"question_id":74828072,"body_markdown":"You might be looking for reduce operaiton. Check the below code.\r\n\r\n    List&lt;Node&gt; list = Arrays.asList(new Node(&quot;a&quot;, Arrays.asList(1, 2)), new Node(&quot;b&quot;, Arrays.asList(3, 4)));\r\n    \r\n    Node finalNode = new Node(&quot;&quot;, new ArrayList&lt;&gt;());\r\n    Node result = list.stream().reduce(finalNode, (finalResult, currentNode) -&gt; {\r\n    \r\n    \tfinalResult.name = finalResult.name + currentNode.name;\r\n    \r\n    \tfinalResult.list.addAll(currentNode.list);\r\n    \treturn finalResult;\r\n    \r\n    });","title":"Apply different transformations for each element in the stream","body":"<p>You might be looking for reduce operaiton. Check the below code.</p>\n<pre><code>List&lt;Node&gt; list = Arrays.asList(new Node(&quot;a&quot;, Arrays.asList(1, 2)), new Node(&quot;b&quot;, Arrays.asList(3, 4)));\n\nNode finalNode = new Node(&quot;&quot;, new ArrayList&lt;&gt;());\nNode result = list.stream().reduce(finalNode, (finalResult, currentNode) -&gt; {\n\n    finalResult.name = finalResult.name + currentNode.name;\n\n    finalResult.list.addAll(currentNode.list);\n    return finalResult;\n\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9725613,"reputation":53332,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671214395,"creation_date":1671214395,"answer_id":74828310,"question_id":74828072,"body_markdown":"You can merge 2 nodes again and again, until you get one, that is called reducing\r\n\r\n\r\n    List&lt;Node&gt; nodes = Arrays.asList(\r\n            new Node(&quot;a&quot;, Arrays.asList(1, 2)),\r\n            new Node(&quot;b&quot;, Arrays.asList(3, 4)),\r\n            new Node(&quot;c&quot;, Arrays.asList(5, 6))\r\n    );\r\n    Node result = nodes.stream().reduce(new Node(&quot;&quot;), Node::merge);\r\n    System.out.println(result);\r\n    // Node{name=&#39;abc&#39;, list=[1, 2, 3, 4, 5, 6]}\r\n\r\n```java\r\nclass Node {\r\n    String name;\r\n    List&lt;Integer&gt; list;\r\n    public Node() {\r\n        this(&quot;&quot;);\r\n    }\r\n    public Node(String name) {\r\n        this(name, new ArrayList&lt;&gt;());\r\n    }\r\n    public Node(String name, List&lt;Integer&gt; list) {\r\n        this.name = name;\r\n        this.list = list;\r\n    }\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Node{&quot; + &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; + &quot;, list=&quot; + list + &#39;}&#39;;\r\n    }\r\n    public Node merge(Node other) {\r\n        Node n = new Node(name + other.name);\r\n        n.list.addAll(this.list);\r\n        n.list.addAll(other.list);\r\n        return n;\r\n    }\r\n}\r\n```","title":"Apply different transformations for each element in the stream","body":"<p>You can merge 2 nodes again and again, until you get one, that is called reducing</p>\n<pre><code>List&lt;Node&gt; nodes = Arrays.asList(\n        new Node(&quot;a&quot;, Arrays.asList(1, 2)),\n        new Node(&quot;b&quot;, Arrays.asList(3, 4)),\n        new Node(&quot;c&quot;, Arrays.asList(5, 6))\n);\nNode result = nodes.stream().reduce(new Node(&quot;&quot;), Node::merge);\nSystem.out.println(result);\n// Node{name='abc', list=[1, 2, 3, 4, 5, 6]}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class Node {\n    String name;\n    List&lt;Integer&gt; list;\n    public Node() {\n        this(&quot;&quot;);\n    }\n    public Node(String name) {\n        this(name, new ArrayList&lt;&gt;());\n    }\n    public Node(String name, List&lt;Integer&gt; list) {\n        this.name = name;\n        this.list = list;\n    }\n    @Override\n    public String toString() {\n        return &quot;Node{&quot; + &quot;name='&quot; + name + '\\'' + &quot;, list=&quot; + list + '}';\n    }\n    public Node merge(Node other) {\n        Node n = new Node(name + other.name);\n        n.list.addAll(this.list);\n        n.list.addAll(other.list);\n        return n;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1671220425,"creation_date":1671214457,"answer_id":74828322,"question_id":74828072,"body_markdown":"# [`Collectors.teeing()`][teeing]\r\n\r\nYou can achieve this by using Java 12 Collector `teeing()`, which expects three arguments: two *downstream Collectors* and a `merger` *Function* combining the results produced by these Collectors.\r\n\r\nAs downstream Collectors, we can make use of:\r\n\r\n* A combination of Collectors [`mapping()`][mapping] and [`joining()`][joining] to join the `name` properties;\r\n\r\n* And to in order to group lists Collector [`flatMapping()`][flatMapping] in conjunction with `toList()`.\r\n\r\nAs the merger function, we can a reference to the all-arguments constructor of the `Node`.\r\n\r\n```\r\nList&lt;Node&gt; nodes = getMyNodes();\r\n        \r\nNode aggregatedNode = nodes.stream()\r\n    .collect(Collectors.teeing(\r\n        Collectors.mapping(Node1::getName, Collectors.joining()),\r\n        Collectors.flatMapping(node -&gt; node.getList().stream(), Collectors.toList()),\r\n        Node::new // method reference to the all-args constructor\r\n    ));\r\n```\r\n\r\n# Mutable Reduction\r\n\r\nAn alternative option would be to perform mutable reduction of the stream elements using by making use of `collect()` operation and a custom accumulation type.\r\n\r\nThat&#39;s how such accumulation type can be implemented:\r\n\r\n    public class NodeJoiner implements Consumer&lt;Node&gt; {\r\n        private StringBuilder names = new StringBuilder();\r\n        private List&lt;Integer&gt; lists = new ArrayList&lt;&gt;();\r\n    \r\n        @Override\r\n        public void accept(Node node) {\r\n            update(node.getName(), node.getList());\r\n        }\r\n        \r\n        public NodeJoiner merge(NodeJoiner other) {\r\n            update(other.names, other.lists);\r\n            return this;\r\n        }\r\n        \r\n        private void update(CharSequence name, List&lt;Integer&gt; list) {\r\n            names.append(name);\r\n            lists.addAll(list);\r\n        }\r\n        \r\n        public Node toNode() {\r\n            return new Node(names.toString(), lists);\r\n        }\r\n    }\r\n\r\nAnd the stream would look like this:\r\n\r\n```\r\nList&lt;Node&gt; nodes = getMyNodes();\r\n    \r\nNode aggregatedNode = nodes.stream()\r\n    .collect(Collector.of(\r\n        NodeJoiner::new,\r\n        NodeJoiner::accept,\r\n        NodeJoiner::merge,\r\n        NodeJoiner::toNode\r\n    ));\r\n```\r\n\r\n# Note\r\n\r\nThere might be a temptation to use `reduce()` to perform mutable reduction, but it&#39;s not a use-case for `reduce()` since this operation is meant to fold a stream by producing a new object at each step of folding (*in other words, perform immutable reduction*).\r\n\r\nAnd [Stream API documentation - Mutable reduction][mutableReduction] warns against such usage of `reduce()`:\r\n\r\n&gt; A mutable reduction operation accumulates input elements into a \r\n&gt; mutable result container, such as a `Collection` or `StringBuilder`, as it\r\n&gt; processes the elements in the stream.\r\n&gt; \r\n&gt; If we wanted to take a stream of strings and concatenate them into a\r\n&gt; single long string, we could achieve this with ordinary reduction:\r\n&gt; \r\n&gt; ```\r\n&gt; String concatenated = strings.reduce(&quot;&quot;, String::concat)\r\n&gt; ```  \r\n&gt; \r\n&gt; We would get the desired result, and it would even work in parallel.\r\n&gt; However, we might not be happy about the performance! Such an\r\n&gt; implementation would do a great deal of string copying, and the run\r\n&gt; time would be **O(n^2)** in the number of characters. A more performant\r\n&gt; approach would be to accumulate the results into a `StringBuilder`,\r\n&gt; which is a mutable container for accumulating strings. We can use the\r\n&gt; same technique to parallelize mutable reduction as we do with ordinary\r\n&gt; reduction.\r\n&gt; \r\n&gt; The **mutable reduction operation is called** `collect()`, as it collects\r\n&gt; together the desired results into a result container such as a\r\n&gt; `Collection`.\r\n\r\nThe stream in [this answer](https://stackoverflow.com/a/74828270/17949945) resembles the above code from the documentation, illustrating a not-recommended way of utilizing `reduce`.\r\n\r\nThe [answer by @azro](https://stackoverflow.com/a/74828310/17949945) is an example of ***correct*** usage of `reduce`, a new object gets created at each step of folding the stream (but since we can accomplish the same using mutable objects, it would be performance wise to replace `reduce()` with `collect()`).\r\n\r\n\r\n\r\n   [teeing]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#teeing(java.util.stream.Collector,java.util.stream.Collector,java.util.function.BiFunction)\r\n\r\n   [mapping]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#mapping(java.util.function.Function,java.util.stream.Collector)\r\n\r\n   [joining]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#joining()\r\n\r\n   [flatMapping]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#flatMapping(java.util.function.Function,java.util.stream.Collector)\r\n\r\n   [mutableReduction]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#MutableReduction","title":"Apply different transformations for each element in the stream","body":"<h1><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#teeing(java.util.stream.Collector,java.util.stream.Collector,java.util.function.BiFunction)\" rel=\"nofollow noreferrer\"><code>Collectors.teeing()</code></a></h1>\n<p>You can achieve this by using Java 12 Collector <code>teeing()</code>, which expects three arguments: two <em>downstream Collectors</em> and a <code>merger</code> <em>Function</em> combining the results produced by these Collectors.</p>\n<p>As downstream Collectors, we can make use of:</p>\n<ul>\n<li><p>A combination of Collectors <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#mapping(java.util.function.Function,java.util.stream.Collector)\" rel=\"nofollow noreferrer\"><code>mapping()</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#joining()\" rel=\"nofollow noreferrer\"><code>joining()</code></a> to join the <code>name</code> properties;</p>\n</li>\n<li><p>And to in order to group lists Collector <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#flatMapping(java.util.function.Function,java.util.stream.Collector)\" rel=\"nofollow noreferrer\"><code>flatMapping()</code></a> in conjunction with <code>toList()</code>.</p>\n</li>\n</ul>\n<p>As the merger function, we can a reference to the all-arguments constructor of the <code>Node</code>.</p>\n<pre><code>List&lt;Node&gt; nodes = getMyNodes();\n        \nNode aggregatedNode = nodes.stream()\n    .collect(Collectors.teeing(\n        Collectors.mapping(Node1::getName, Collectors.joining()),\n        Collectors.flatMapping(node -&gt; node.getList().stream(), Collectors.toList()),\n        Node::new // method reference to the all-args constructor\n    ));\n</code></pre>\n<h1>Mutable Reduction</h1>\n<p>An alternative option would be to perform mutable reduction of the stream elements using by making use of <code>collect()</code> operation and a custom accumulation type.</p>\n<p>That's how such accumulation type can be implemented:</p>\n<pre><code>public class NodeJoiner implements Consumer&lt;Node&gt; {\n    private StringBuilder names = new StringBuilder();\n    private List&lt;Integer&gt; lists = new ArrayList&lt;&gt;();\n\n    @Override\n    public void accept(Node node) {\n        update(node.getName(), node.getList());\n    }\n    \n    public NodeJoiner merge(NodeJoiner other) {\n        update(other.names, other.lists);\n        return this;\n    }\n    \n    private void update(CharSequence name, List&lt;Integer&gt; list) {\n        names.append(name);\n        lists.addAll(list);\n    }\n    \n    public Node toNode() {\n        return new Node(names.toString(), lists);\n    }\n}\n</code></pre>\n<p>And the stream would look like this:</p>\n<pre><code>List&lt;Node&gt; nodes = getMyNodes();\n    \nNode aggregatedNode = nodes.stream()\n    .collect(Collector.of(\n        NodeJoiner::new,\n        NodeJoiner::accept,\n        NodeJoiner::merge,\n        NodeJoiner::toNode\n    ));\n</code></pre>\n<h1>Note</h1>\n<p>There might be a temptation to use <code>reduce()</code> to perform mutable reduction, but it's not a use-case for <code>reduce()</code> since this operation is meant to fold a stream by producing a new object at each step of folding (<em>in other words, perform immutable reduction</em>).</p>\n<p>And <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#MutableReduction\" rel=\"nofollow noreferrer\">Stream API documentation - Mutable reduction</a> warns against such usage of <code>reduce()</code>:</p>\n<blockquote>\n<p>A mutable reduction operation accumulates input elements into a\nmutable result container, such as a <code>Collection</code> or <code>StringBuilder</code>, as it\nprocesses the elements in the stream.</p>\n<p>If we wanted to take a stream of strings and concatenate them into a\nsingle long string, we could achieve this with ordinary reduction:</p>\n<pre><code>String concatenated = strings.reduce(&quot;&quot;, String::concat)\n</code></pre>\n<p>We would get the desired result, and it would even work in parallel.\nHowever, we might not be happy about the performance! Such an\nimplementation would do a great deal of string copying, and the run\ntime would be <strong>O(n^2)</strong> in the number of characters. A more performant\napproach would be to accumulate the results into a <code>StringBuilder</code>,\nwhich is a mutable container for accumulating strings. We can use the\nsame technique to parallelize mutable reduction as we do with ordinary\nreduction.</p>\n<p>The <strong>mutable reduction operation is called</strong> <code>collect()</code>, as it collects\ntogether the desired results into a result container such as a\n<code>Collection</code>.</p>\n</blockquote>\n<p>The stream in <a href=\"https://stackoverflow.com/a/74828270/17949945\">this answer</a> resembles the above code from the documentation, illustrating a not-recommended way of utilizing <code>reduce</code>.</p>\n<p>The <a href=\"https://stackoverflow.com/a/74828310/17949945\">answer by @azro</a> is an example of <em><strong>correct</strong></em> usage of <code>reduce</code>, a new object gets created at each step of folding the stream (but since we can accomplish the same using mutable objects, it would be performance wise to replace <code>reduce()</code> with <code>collect()</code>).</p>\n"}],"owner":{"account_id":1699452,"reputation":966,"user_id":1765621,"accept_rate":87,"display_name":"Dejan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74828322,"answer_count":3,"score":1,"last_activity_date":1671220425,"creation_date":1671212871,"question_id":74828072,"body_markdown":"I have a class `Node`\r\n\r\n    public class Node {\r\n        private String name;\r\n        private List&lt;Integer&gt; list;\r\n        \r\n        // constructor, getters, etc.\r\n    }\r\n\r\nI want to join `Stream&lt;Node&gt;` into a single `Node` so that I apply different aggregation for the `name` and the `list`. In my case, I want to concatenate all names and flatten all lists.\r\n\r\nExample\r\n\r\n*Input:*\r\n\r\n```\r\nnodes = [\r\n    { Node(name=&quot;a&quot;, list=[1,2]) },\r\n    { Node(name=&quot;b&quot;, list=[3,4]) }\r\n]\r\n```\r\n\r\n*Output:*\r\n\r\n```\r\nresult = { Node(name=&quot;ab&quot;, list=[1,2,3,4]) }\r\n```\r\n\r\nHow can I do this with streams?\r\n\r\n```\r\nList&lt;Node&gt; nodes = getMyNodes();\r\nnodes.stream().????\r\n```\r\nI know that I can use `flatMap()` to flatten lists and that I can use `Collectors.joining()` to join strings, but I don&#39;t know how to apply two different transformations on the same stream.\r\n","title":"Apply different transformations for each element in the stream","body":"<p>I have a class <code>Node</code></p>\n<pre><code>public class Node {\n    private String name;\n    private List&lt;Integer&gt; list;\n    \n    // constructor, getters, etc.\n}\n</code></pre>\n<p>I want to join <code>Stream&lt;Node&gt;</code> into a single <code>Node</code> so that I apply different aggregation for the <code>name</code> and the <code>list</code>. In my case, I want to concatenate all names and flatten all lists.</p>\n<p>Example</p>\n<p><em>Input:</em></p>\n<pre><code>nodes = [\n    { Node(name=&quot;a&quot;, list=[1,2]) },\n    { Node(name=&quot;b&quot;, list=[3,4]) }\n]\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>result = { Node(name=&quot;ab&quot;, list=[1,2,3,4]) }\n</code></pre>\n<p>How can I do this with streams?</p>\n<pre><code>List&lt;Node&gt; nodes = getMyNodes();\nnodes.stream().????\n</code></pre>\n<p>I know that I can use <code>flatMap()</code> to flatten lists and that I can use <code>Collectors.joining()</code> to join strings, but I don't know how to apply two different transformations on the same stream.</p>\n"},{"tags":["java","arrays","sum","type-2-dimension"],"answers":[{"comments":[{"owner":{"account_id":1577202,"reputation":377,"user_id":1621532,"display_name":"user71404"},"score":0,"creation_date":1378801629,"post_id":18713973,"comment_id":27574274,"body_markdown":"Na, he wants `i == map.length - 1` on all his checks I think he still wants to iterate over the last row.","body":"Na, he wants <code>i == map.length - 1</code> on all his checks I think he still wants to iterate over the last row."},{"owner":{"display_name":"user2541019"},"score":0,"creation_date":1378801930,"post_id":18713973,"comment_id":27574452,"body_markdown":"Yes. I need to iterate over all rows and columns and build a new array with the sum.","body":"Yes. I need to iterate over all rows and columns and build a new array with the sum."},{"owner":{"display_name":"user2541019"},"score":0,"creation_date":1378802451,"post_id":18713973,"comment_id":27574727,"body_markdown":"Changed. But now it throws another out of bounds : -1 on the 1st result += of the &#39;else&#39; statement. The last statement in the if, if else, else block","body":"Changed. But now it throws another out of bounds : -1 on the 1st result += of the &#39;else&#39; statement. The last statement in the if, if else, else block"},{"owner":{"account_id":1864007,"reputation":4453,"user_id":1687972,"accept_rate":64,"display_name":"Amin Abu-Taleb"},"score":0,"creation_date":1378803432,"post_id":18713973,"comment_id":27575201,"body_markdown":"Now you are accessing -1 position when i=0","body":"Now you are accessing -1 position when i=0"}],"tags":[],"owner":{"account_id":1864007,"reputation":4453,"user_id":1687972,"accept_rate":64,"display_name":"Amin Abu-Taleb"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1378801940,"creation_date":1378801468,"answer_id":18713973,"question_id":18713770,"body_markdown":"You&#39;re getting an ArrayOutOfBounds exception in the line: \r\n\r\n    result += map[i][j+1]; // right value\r\n\r\nbecause you&#39;re reaching the last position `map[i].length` in the for loop and accessing the next (out of bounds) position `map[i][j+1]`;\r\n\r\nNotice you are checking you&#39;ve reached the last position incorrectly:\r\n\r\n    Example: map[0].length = 4 (0,1,2,3)\r\n\r\n    else if (i == 0 &amp;&amp; j != 0 &amp;&amp; j != map[0].length){ // j=3 but j!=4\r\n         result += map[i][j+1] //&lt;- error\r\n    }\r\n\r\nYou should check: \r\n\r\n    else if (i == 0 &amp;&amp; j != 0 &amp;&amp; j != (map[0].length -1)){\r\n\r\n\r\n\r\n\r\n    ","title":"2d array. Finding the sum of neighbor values","body":"<p>You're getting an ArrayOutOfBounds exception in the line: </p>\n\n<pre><code>result += map[i][j+1]; // right value\n</code></pre>\n\n<p>because you're reaching the last position <code>map[i].length</code> in the for loop and accessing the next (out of bounds) position <code>map[i][j+1]</code>;</p>\n\n<p>Notice you are checking you've reached the last position incorrectly:</p>\n\n<pre><code>Example: map[0].length = 4 (0,1,2,3)\n\nelse if (i == 0 &amp;&amp; j != 0 &amp;&amp; j != map[0].length){ // j=3 but j!=4\n     result += map[i][j+1] //&lt;- error\n}\n</code></pre>\n\n<p>You should check: </p>\n\n<pre><code>else if (i == 0 &amp;&amp; j != 0 &amp;&amp; j != (map[0].length -1)){\n</code></pre>\n"},{"comments":[{"owner":{"display_name":"user2541019"},"score":0,"creation_date":1378866315,"post_id":18714361,"comment_id":27604923,"body_markdown":"This is close but the values are getting summed incorrectly somewhere. EXample: double [][] baseMap = {{2, 10, 7}, {4, 5, 8}, {5, 6, 9}}; has an output of val: 0.0\nval: 0.0\nval: 7.0\nval: 0.0\nval: 0.0\nval: 8.0\nval: 5.0\nval: 6.0\nval: 9.0","body":"This is close but the values are getting summed incorrectly somewhere. EXample: double [][] baseMap = {{2, 10, 7}, {4, 5, 8}, {5, 6, 9}}; has an output of val: 0.0 val: 0.0 val: 7.0 val: 0.0 val: 0.0 val: 8.0 val: 5.0 val: 6.0 val: 9.0"},{"owner":{"display_name":"user2541019"},"score":0,"creation_date":1378866335,"post_id":18714361,"comment_id":27604928,"body_markdown":"when it should be {{18, 24, 32}, {16, 28, 29}, {20, 25, 32}};","body":"when it should be {{18, 24, 32}, {16, 28, 29}, {20, 25, 32}};"},{"owner":{"account_id":2387299,"reputation":10346,"user_id":2088000,"accept_rate":92,"display_name":"Vimal Bera"},"score":0,"creation_date":1378874214,"post_id":18714361,"comment_id":27606570,"body_markdown":"@Keystone1722 I am getting the correct answer. Show me what are you doing? and check the type of variable again.","body":"@Keystone1722 I am getting the correct answer. Show me what are you doing? and check the type of variable again."},{"owner":{"display_name":"user2541019"},"score":0,"creation_date":1378874957,"post_id":18714361,"comment_id":27606765,"body_markdown":"You are correct. For your [][] &#39;a&#39; I was using sum[][]. Thank you so much!","body":"You are correct. For your [][] &#39;a&#39; I was using sum[][]. Thank you so much!"}],"tags":[],"owner":{"account_id":2387299,"reputation":10346,"user_id":2088000,"accept_rate":92,"display_name":"Vimal Bera"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1378802796,"creation_date":1378802796,"answer_id":18714361,"question_id":18713770,"body_markdown":"This is your solution. I know there are lots of `if else` statements but this is my best.\r\n\r\n    for(int i=0;i&lt;a.length;i++){\r\n\t\t\tfor(int j=0;j&lt;a[i].length;j++){\r\n\t\t\t\tif(i==0){\r\n\t\t\t\t\tif(j==0){\r\n\t\t\t\t\t\tsum[i][j] = a[i][j]*2 + a[i+1][j] + a[i][j+1];\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(j==a[i].length-1){\r\n\t\t\t\t\t\tsum[i][j] = a[i][j]*2 + a[i][j-1] + a[i+1][j] ;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tsum[i][j] = a[i][j] + a[i][j-1] + a[i+1][j] + a[i][j+1];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse if(i==a.length-1){\r\n\t\t\t\t\tif(j==0){\r\n\t\t\t\t\t\tsum[i][j] = a[i][j]*2 + a[i-1][j] + a[i][j+1];\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(j==a[i].length-1){\r\n\t\t\t\t\t\tsum[i][j] = a[i][j]*2 + a[i][j-1] + a[i-1][j] ;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tsum[i][j] = a[i][j] + a[i][j-1] + a[i-1][j] + a[i][j+1];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse if(j==0){\r\n\t\t\t\t\tsum[i][j] = a[i][j] + a[i-1][j] + a[i+1][j] + a[i][j+1];\r\n\t\t\t\t}\r\n\t\t\t\telse if(j==a[i].length-1){\r\n\t\t\t\t\tsum[i][j] = a[i][j] + a[i-1][j] + a[i+1][j] + a[i][j-1];\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tsum[i][j] = a[i][j-1] + a[i-1][j] + a[i+1][j] + a[i][j+1];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}","title":"2d array. Finding the sum of neighbor values","body":"<p>This is your solution. I know there are lots of <code>if else</code> statements but this is my best.</p>\n\n<pre><code>for(int i=0;i&lt;a.length;i++){\n        for(int j=0;j&lt;a[i].length;j++){\n            if(i==0){\n                if(j==0){\n                    sum[i][j] = a[i][j]*2 + a[i+1][j] + a[i][j+1];\n                }\n                else if(j==a[i].length-1){\n                    sum[i][j] = a[i][j]*2 + a[i][j-1] + a[i+1][j] ;\n                }\n                else{\n                    sum[i][j] = a[i][j] + a[i][j-1] + a[i+1][j] + a[i][j+1];\n                }\n            }\n            else if(i==a.length-1){\n                if(j==0){\n                    sum[i][j] = a[i][j]*2 + a[i-1][j] + a[i][j+1];\n                }\n                else if(j==a[i].length-1){\n                    sum[i][j] = a[i][j]*2 + a[i][j-1] + a[i-1][j] ;\n                }\n                else{\n                    sum[i][j] = a[i][j] + a[i][j-1] + a[i-1][j] + a[i][j+1];\n                }\n            }\n            else if(j==0){\n                sum[i][j] = a[i][j] + a[i-1][j] + a[i+1][j] + a[i][j+1];\n            }\n            else if(j==a[i].length-1){\n                sum[i][j] = a[i][j] + a[i-1][j] + a[i+1][j] + a[i][j-1];\n            }\n            else{\n                sum[i][j] = a[i][j-1] + a[i-1][j] + a[i+1][j] + a[i][j+1];\n            }\n        }\n    }\n</code></pre>\n"},{"comments":[{"owner":{"display_name":"user2541019"},"score":0,"creation_date":1378865790,"post_id":18716873,"comment_id":27604838,"body_markdown":"This is close but the values are getting summed incorrectly somewhere. EXample: double [][] baseMap = {{2, 10, 7}, {4, 5, 8}, {5, 6, 9}}; has an output of val: 28.0\nval: 19.0\nval: 36.0\nval: 17.0\nval: 28.0\nval: 26.0\nval: 20.0\nval: 24.0\nval: 28.0","body":"This is close but the values are getting summed incorrectly somewhere. EXample: double [][] baseMap = {{2, 10, 7}, {4, 5, 8}, {5, 6, 9}}; has an output of val: 28.0 val: 19.0 val: 36.0 val: 17.0 val: 28.0 val: 26.0 val: 20.0 val: 24.0 val: 28.0"},{"owner":{"display_name":"user2541019"},"score":0,"creation_date":1378865819,"post_id":18716873,"comment_id":27604844,"body_markdown":"when it should be sumMap = {{18, 24, 32}, {16, 28, 29}, {20, 25, 32}};","body":"when it should be sumMap = {{18, 24, 32}, {16, 28, 29}, {20, 25, 32}};"},{"owner":{"account_id":2914719,"reputation":2069,"user_id":2498192,"accept_rate":75,"display_name":"blackbird014"},"score":0,"creation_date":1378882257,"post_id":18716873,"comment_id":27609253,"body_markdown":"@Keystone1722 why? the element (0,0) is 2 in your example. therefore the sum to calculate the result is 4+4+10+10 = 28 and so on. This is my result. Did I miss a requirement? Can you recheck?","body":"@Keystone1722 why? the element (0,0) is 2 in your example. therefore the sum to calculate the result is 4+4+10+10 = 28 and so on. This is my result. Did I miss a requirement? Can you recheck?"},{"owner":{"account_id":2914719,"reputation":2069,"user_id":2498192,"accept_rate":75,"display_name":"blackbird014"},"score":0,"creation_date":1378883345,"post_id":18716873,"comment_id":27609780,"body_markdown":"I understood finally the requirements and corrected the calculation. I think is cleaner.","body":"I understood finally the requirements and corrected the calculation. I think is cleaner."}],"tags":[],"owner":{"account_id":2914719,"reputation":2069,"user_id":2498192,"accept_rate":75,"display_name":"blackbird014"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1378884264,"creation_date":1378810027,"answer_id":18716873,"question_id":18713770,"body_markdown":"The algoritm is much more simple (I changed the first solution as I understood the requirement wrong the requirements at a first glance); all the logic is in the first for. I got rid of mainly all the unrequired loops.....  \r\n\r\n        public class MatrixAlgoritm {\r\n        \r\n        \r\n            public static double[][] getSumWeight(double[][] map) {\r\n                int row = map.length;\r\n                int col = map[0].length;\r\n        \r\n                double[][] sumMap = new double[row][col];\r\n        \r\n                for (int i = 0; i &lt; map.length; i++) {\r\n                    for (int j = 0; j &lt; map[i].length; j++) {\r\n                        double result = 0;\r\n                        result += map[Math.max(0, i - 1)][j];\r\n                        if (i == map.length - 1) {\r\n                            result += map[i][j];\r\n                        } else {\r\n                            result += map[i + 1][j];\r\n                        }\r\n                        result += map[i][Math.max(0, j - 1)];\r\n                        if (j == map[0].length - 1) {\r\n                            result += map[i][j];\r\n                        } else {\r\n                            result += map[i][j + 1];\r\n                        }\r\n                        sumMap[i][j] = result;\r\n                    }        \r\n                }\r\n                for (int i = 0; i &lt; row; i++) {\r\n                    for (int j = 0; j &lt; col; j++) {\r\n                        System.out.println(sumMap[i][j]);\r\n                    }\r\n                }\r\n                return sumMap;\r\n            }\r\n        \r\n        \r\n            public static void main(String[] args) {\r\n                double[][] baseMap = {{2, 10, 7}, {4, 5, 8}, {5, 6, 9}};\r\n                getSumWeight(baseMap);\r\n            }\r\n        }","title":"2d array. Finding the sum of neighbor values","body":"<p>The algoritm is much more simple (I changed the first solution as I understood the requirement wrong the requirements at a first glance); all the logic is in the first for. I got rid of mainly all the unrequired loops.....  </p>\n\n<pre><code>    public class MatrixAlgoritm {\n\n\n        public static double[][] getSumWeight(double[][] map) {\n            int row = map.length;\n            int col = map[0].length;\n\n            double[][] sumMap = new double[row][col];\n\n            for (int i = 0; i &lt; map.length; i++) {\n                for (int j = 0; j &lt; map[i].length; j++) {\n                    double result = 0;\n                    result += map[Math.max(0, i - 1)][j];\n                    if (i == map.length - 1) {\n                        result += map[i][j];\n                    } else {\n                        result += map[i + 1][j];\n                    }\n                    result += map[i][Math.max(0, j - 1)];\n                    if (j == map[0].length - 1) {\n                        result += map[i][j];\n                    } else {\n                        result += map[i][j + 1];\n                    }\n                    sumMap[i][j] = result;\n                }        \n            }\n            for (int i = 0; i &lt; row; i++) {\n                for (int j = 0; j &lt; col; j++) {\n                    System.out.println(sumMap[i][j]);\n                }\n            }\n            return sumMap;\n        }\n\n\n        public static void main(String[] args) {\n            double[][] baseMap = {{2, 10, 7}, {4, 5, 8}, {5, 6, 9}};\n            getSumWeight(baseMap);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4417047,"reputation":545,"user_id":3598311,"display_name":"sgupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1482799812,"creation_date":1482799812,"answer_id":41337720,"question_id":18713770,"body_markdown":"The algorithm is pretty simple\r\n\r\n    int sum[][] = new int[c][c];\r\n    for(int i = 0; i &lt; arr.length; i++)\r\n    {\r\n            for(int j = 0; j &lt; arr[i].length; j++)\r\n                {\r\n                    int result = 0;\r\n    \r\n                    if(j &gt; 0)\r\n                        result += arr[i][j-1];\r\n                    if(j &lt; arr[i].length - 1)\r\n                        result += arr[i][j+1];\r\n                    if(i &gt; 0)\r\n                        result += arr[i-1][j];\r\n                    \r\n                    if(i &gt; 0 &amp;&amp; j &gt; 0)\r\n                        result += arr[i-1][j-1];\r\n                    if(i &gt; 0 &amp;&amp; j &lt; arr[i].length - 1)\r\n                        result += arr[i-1][j+1];\r\n                    \r\n                    if(j &gt; 0 &amp;&amp; i &lt; arr.length -1)\r\n                        result += arr[i+1][j-1];\r\n                    if(j &lt; arr[i].length - 1 &amp;&amp; i &lt; arr.length -1)\r\n                        result += arr[i+1][j+1];\r\n                    if(i &lt; arr.length -1)\r\n                        result += arr[i+1][j];\r\n                    sum[i][j] = result;\r\n                }\r\n            }","title":"2d array. Finding the sum of neighbor values","body":"<p>The algorithm is pretty simple</p>\n\n<pre><code>int sum[][] = new int[c][c];\nfor(int i = 0; i &lt; arr.length; i++)\n{\n        for(int j = 0; j &lt; arr[i].length; j++)\n            {\n                int result = 0;\n\n                if(j &gt; 0)\n                    result += arr[i][j-1];\n                if(j &lt; arr[i].length - 1)\n                    result += arr[i][j+1];\n                if(i &gt; 0)\n                    result += arr[i-1][j];\n\n                if(i &gt; 0 &amp;&amp; j &gt; 0)\n                    result += arr[i-1][j-1];\n                if(i &gt; 0 &amp;&amp; j &lt; arr[i].length - 1)\n                    result += arr[i-1][j+1];\n\n                if(j &gt; 0 &amp;&amp; i &lt; arr.length -1)\n                    result += arr[i+1][j-1];\n                if(j &lt; arr[i].length - 1 &amp;&amp; i &lt; arr.length -1)\n                    result += arr[i+1][j+1];\n                if(i &lt; arr.length -1)\n                    result += arr[i+1][j];\n                sum[i][j] = result;\n            }\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16619151,"reputation":45,"user_id":12010020,"display_name":"kuty"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1608726091,"creation_date":1608726091,"answer_id":65424217,"question_id":18713770,"body_markdown":"     **//The function receives a matrix and replaces each value in the matrix with the value of the sum of its neighbors \r\n        public static int[][] sumOfNeighbours(int[][] mat) {\r\n            int[][] sum = new int[mat.length][mat[0].length];\r\n            for (int i = 0; i &lt; mat.length; i++) {\r\n                for (int j = 0; j &lt; mat[i].length; j++) {\r\n                    if (i == 0) {\r\n                        if (j == 0) {\r\n                            sum[i][j] = mat[i + 1][j + 1] + mat[i][j + 1] + mat[i + 1][j];//dells with the top left corner\r\n                        } else if (j == mat[i].length - 1) {\r\n                            sum[i][j] = mat[i + 1][j - 1] + mat[i][j - 1] + mat[i + 1][j];//dells with the top right corner\r\n                        } else {\r\n                            sum[i][j] = mat[i][j - 1] + mat[i][j + 1] + mat[i + 1][j + 1] + mat[i + 1][j - 1] + mat[i + 1][j];//top middles\r\n                        }\r\n                    } else if (i == mat.length - 1) {\r\n                        if (j == 0) {\r\n                            sum[i][j] = mat[i - 1][j] + mat[i - 1][j + 1] + mat[i][j + 1];//dells with the bottom left corner\r\n                        } else if (j == mat[i].length - 1) {\r\n                            sum[i][j] = mat[i - 1][j] + mat[i][j - 1] + mat[i - 1][j - 1];//dells with the bottom right corner\r\n                        } else {\r\n                            sum[i][j] = mat[i - 1][j] + mat[i - 1][j - 1] + mat[i - 1][j + 1] + mat[i][j + 1] + mat[i][j - 1];//dells with the bottom middles\r\n                        }\r\n                    } else if (j == 0) {//first column\r\n                        if ((i != 0) &amp;&amp; (i != mat.length - 1))\r\n                            sum[i][j] = mat[i - 1][j] + mat[i + 1][j] + mat[i + 1][j + 1] + mat[i - 1][j + 1] + mat[i][j + 1];//dells with the left middles\r\n                    } else if (j == mat[i].length - 1) {//last column\r\n                        if ((i != 0) &amp;&amp; (i != mat.length - 1))\r\n                            sum[i][j] = mat[i - 1][j] + mat[i + 1][j] + mat[i - 1][j - 1] + mat[i][j - 1] + mat[i + 1][j - 1];//dells with the right  middles\r\n                    } else {\r\n                        sum[i][j] = mat[i][j - 1] + mat[i][j + 1] + mat[i + 1][j] + mat[i + 1][j - 1] + mat[i + 1][j + 1] + mat[i - 1][j] + mat[i - 1][j - 1] + mat[i - 1][j + 1];//dells with the all the rest\r\n                    }\r\n                }\r\n    \r\n            }\r\n    \r\n            return sum;\r\n        }**\r\n\r\n","title":"2d array. Finding the sum of neighbor values","body":"<pre><code> **//The function receives a matrix and replaces each value in the matrix with the value of the sum of its neighbors \n    public static int[][] sumOfNeighbours(int[][] mat) {\n        int[][] sum = new int[mat.length][mat[0].length];\n        for (int i = 0; i &lt; mat.length; i++) {\n            for (int j = 0; j &lt; mat[i].length; j++) {\n                if (i == 0) {\n                    if (j == 0) {\n                        sum[i][j] = mat[i + 1][j + 1] + mat[i][j + 1] + mat[i + 1][j];//dells with the top left corner\n                    } else if (j == mat[i].length - 1) {\n                        sum[i][j] = mat[i + 1][j - 1] + mat[i][j - 1] + mat[i + 1][j];//dells with the top right corner\n                    } else {\n                        sum[i][j] = mat[i][j - 1] + mat[i][j + 1] + mat[i + 1][j + 1] + mat[i + 1][j - 1] + mat[i + 1][j];//top middles\n                    }\n                } else if (i == mat.length - 1) {\n                    if (j == 0) {\n                        sum[i][j] = mat[i - 1][j] + mat[i - 1][j + 1] + mat[i][j + 1];//dells with the bottom left corner\n                    } else if (j == mat[i].length - 1) {\n                        sum[i][j] = mat[i - 1][j] + mat[i][j - 1] + mat[i - 1][j - 1];//dells with the bottom right corner\n                    } else {\n                        sum[i][j] = mat[i - 1][j] + mat[i - 1][j - 1] + mat[i - 1][j + 1] + mat[i][j + 1] + mat[i][j - 1];//dells with the bottom middles\n                    }\n                } else if (j == 0) {//first column\n                    if ((i != 0) &amp;&amp; (i != mat.length - 1))\n                        sum[i][j] = mat[i - 1][j] + mat[i + 1][j] + mat[i + 1][j + 1] + mat[i - 1][j + 1] + mat[i][j + 1];//dells with the left middles\n                } else if (j == mat[i].length - 1) {//last column\n                    if ((i != 0) &amp;&amp; (i != mat.length - 1))\n                        sum[i][j] = mat[i - 1][j] + mat[i + 1][j] + mat[i - 1][j - 1] + mat[i][j - 1] + mat[i + 1][j - 1];//dells with the right  middles\n                } else {\n                    sum[i][j] = mat[i][j - 1] + mat[i][j + 1] + mat[i + 1][j] + mat[i + 1][j - 1] + mat[i + 1][j + 1] + mat[i - 1][j] + mat[i - 1][j - 1] + mat[i - 1][j + 1];//dells with the all the rest\n                }\n            }\n\n        }\n\n        return sum;\n    }**\n</code></pre>\n"}],"owner":{"display_name":"user2541019"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12006,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":18714361,"answer_count":5,"score":1,"last_activity_date":1671220340,"creation_date":1378800873,"question_id":18713770,"body_markdown":"I am having a hard time coming up with a good way of finding the sum of the neighbouring values in a 2d array. I need to find the sum of all neighbouring values at an index position. If the position is an edge, I need to transpose it&#39;s value into the sum. So every element will have 4 values contributing to its sum. \r\n\r\nExample. \r\n\r\n&gt; Element at index[0][0] = 5.0. [0][1] = 2, and [1][0] = 4. The sum of\r\n&gt; index[0][0] = 5(left/mirror of itself) + 5 (up/mirror of itself) +\r\n&gt; 2(right of it) + 4 (below it) = 16.\r\n\r\n My code so far is below. Suggestions for a better way would be appreciated. This code is getting an\r\n\r\n&gt;   ArrayOutOfBounds: 3 \r\n\r\non the line after the comment saying //ERROR**\r\n\r\n    Public static double [][] getSumWeight(double [][] map){\r\n\t\tint base = 0;\r\n\t\t//int count = getEnhancementLevel();\r\n\t\tint row = map.length;\r\n\t\tint col = map[0].length;\r\n\t\t\r\n\t\tint newRow = row*2;\r\n\t\tint newCol = col*2;\r\n\t\t\r\n\t\tdouble [] [] sumMap = new double [row][col];\r\n\t\tdouble [][] weightMap = new double [newRow][newCol];\r\n\t\t//getting the corner sum weights\r\n\t\t\tfor (int i = 0; i &lt; map.length; i++){\r\n\t\t\t\tfor (int j = 0; j &lt; map[i].length; j++){\r\n\t\t\t\t\tif (i == 0 &amp;&amp; j == 0){\r\n\t\t\t\t\t\tdouble result = 0;\r\n\t\t\t\t\t\tresult += (map[0][0])*2; \r\n\t\t\t\t\t\tresult += map[0][1];\r\n\t\t\t\t\t\tresult += map[1][0];\r\n\t\t\t\t\t\tsumMap[0][0] = result;\r\n\t\t\t\t\t\tSystem.out.println(&quot;corner&quot; + sumMap[0][0]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (i == 0 &amp;&amp; j == map[0].length){\r\n\t\t\t\t\t\tdouble result = 0;\r\n\t\t\t\t\t\tresult += map[0][map[0].length];\r\n\t\t\t\t\t\tresult += map[0][map[0].length-1];\r\n\t\t\t\t\t\tresult += map[1][map[0].length];\r\n\t\t\t\t\t\tsumMap[i][j] = result;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}else if (i == map.length &amp;&amp; j == 0){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}else if (i == map.length &amp;&amp; j == map[map.length].length){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//getting the mid(s) of the top row\r\n\t\t\t\t\telse if (i == 0 &amp;&amp; j != 0 &amp;&amp; j != map[0].length){\r\n\t\t\t\t\t\tdouble result = 0;\r\n\t\t\t\t\t\tresult += map[i][j]; //top value or mirror\r\n\t\t\t\t\t\tresult += map[i][j-1]; // left value\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t//ERROR****\r\n\t\t\t\t\t\tresult += map[i][j+1]; // right value\r\n\t\t\t\t\t\tresult += map[i+1][j]; // bottom value\r\n\t\t\t\t\t\tsumMap[i][j] = result;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//getting the mid(s) of the bottom row\r\n\t\t\t\t\telse if (i == map.length &amp;&amp; j != 0 &amp;&amp; j != map[map.length].length){\r\n\t\t\t\t\t\tdouble result = 0;\r\n\t\t\t\t\t\tresult += map[i][j];\r\n\t\t\t\t\t\tresult += map[i][j-1];\r\n\t\t\t\t\t\tresult += map[i][j+1];\r\n\t\t\t\t\t\tresult += map[i-1][j];\r\n\t\t\t\t\t\tsumMap[i][j] = result;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//getting the mid(s) of the left most column\r\n\t\t\t\t\telse if (j == 0 &amp;&amp; i != 0 &amp;&amp; i != map.length){\r\n\t\t\t\t\t\tdouble result = 0;\r\n\t\t\t\t\t\tresult += map[i][j];\r\n\t\t\t\t\t\tresult += map[i-1][j];\r\n\t\t\t\t\t\tresult += map[i+1][j];\r\n\t\t\t\t\t\tresult += map[i][j+1];\r\n\t\t\t\t\t\tsumMap[i][j] = result;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//getting the mid(s) of the right most column\r\n\t\t\t\t\telse if (j == map[0].length &amp;&amp; i != 0 &amp;&amp; i != map.length){\r\n\t\t\t\t\t\tdouble result = 0;\r\n\t\t\t\t\t\tresult += map[i][j];\r\n\t\t\t\t\t\tresult += map[i-1][j];\r\n\t\t\t\t\t\tresult += map[i+1][j];\r\n\t\t\t\t\t\tresult += map[i][j-1];\r\n\t\t\t\t\t\tsumMap[i][j] = result;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//filling in all the remaining values\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tdouble result = 0;\r\n\t\t\t\t\t\tresult += map[i-1][j];\r\n\t\t\t\t\t\tresult += map[i+1][j];\r\n\t\t\t\t\t\tresult += map[i][j-1];\r\n\t\t\t\t\t\tresult += map[i][j+1];\r\n\t\t\t\t\t\tsumMap[i][j] = result;\r\n\t\t\t\t\t}\r\n\t\t\t}\r\n\t\t\r\n\t\r\n\t\t\t\t\r\n\t}\r\n\t\t\tfor (int i = 0; i &lt; map.length; i++){\r\n\t\t\t\tfor (int j = 0; j &lt; map[i].length; j++){\r\n\t\t\t\t\tSystem.out.println(sumMap[i][j]);\r\n\t\t\t}}\r\n\t\t\treturn sumMap;\r\n\t}","title":"2d array. Finding the sum of neighbor values","body":"<p>I am having a hard time coming up with a good way of finding the sum of the neighbouring values in a 2d array. I need to find the sum of all neighbouring values at an index position. If the position is an edge, I need to transpose it's value into the sum. So every element will have 4 values contributing to its sum. </p>\n\n<p>Example. </p>\n\n<blockquote>\n  <p>Element at index[0][0] = 5.0. [0][1] = 2, and [1][0] = 4. The sum of\n  index[0][0] = 5(left/mirror of itself) + 5 (up/mirror of itself) +\n  2(right of it) + 4 (below it) = 16.</p>\n</blockquote>\n\n<p>My code so far is below. Suggestions for a better way would be appreciated. This code is getting an</p>\n\n<blockquote>\n  <p>ArrayOutOfBounds: 3 </p>\n</blockquote>\n\n<p>on the line after the comment saying //ERROR**</p>\n\n<pre><code>Public static double [][] getSumWeight(double [][] map){\n    int base = 0;\n    //int count = getEnhancementLevel();\n    int row = map.length;\n    int col = map[0].length;\n\n    int newRow = row*2;\n    int newCol = col*2;\n\n    double [] [] sumMap = new double [row][col];\n    double [][] weightMap = new double [newRow][newCol];\n    //getting the corner sum weights\n        for (int i = 0; i &lt; map.length; i++){\n            for (int j = 0; j &lt; map[i].length; j++){\n                if (i == 0 &amp;&amp; j == 0){\n                    double result = 0;\n                    result += (map[0][0])*2; \n                    result += map[0][1];\n                    result += map[1][0];\n                    sumMap[0][0] = result;\n                    System.out.println(\"corner\" + sumMap[0][0]);\n                }\n                else if (i == 0 &amp;&amp; j == map[0].length){\n                    double result = 0;\n                    result += map[0][map[0].length];\n                    result += map[0][map[0].length-1];\n                    result += map[1][map[0].length];\n                    sumMap[i][j] = result;\n\n                }else if (i == map.length &amp;&amp; j == 0){\n\n                }else if (i == map.length &amp;&amp; j == map[map.length].length){\n\n                }\n                //getting the mid(s) of the top row\n                else if (i == 0 &amp;&amp; j != 0 &amp;&amp; j != map[0].length){\n                    double result = 0;\n                    result += map[i][j]; //top value or mirror\n                    result += map[i][j-1]; // left value\n\n                    //ERROR****\n                    result += map[i][j+1]; // right value\n                    result += map[i+1][j]; // bottom value\n                    sumMap[i][j] = result;\n\n                }\n                //getting the mid(s) of the bottom row\n                else if (i == map.length &amp;&amp; j != 0 &amp;&amp; j != map[map.length].length){\n                    double result = 0;\n                    result += map[i][j];\n                    result += map[i][j-1];\n                    result += map[i][j+1];\n                    result += map[i-1][j];\n                    sumMap[i][j] = result;\n                }\n                //getting the mid(s) of the left most column\n                else if (j == 0 &amp;&amp; i != 0 &amp;&amp; i != map.length){\n                    double result = 0;\n                    result += map[i][j];\n                    result += map[i-1][j];\n                    result += map[i+1][j];\n                    result += map[i][j+1];\n                    sumMap[i][j] = result;\n                }\n                //getting the mid(s) of the right most column\n                else if (j == map[0].length &amp;&amp; i != 0 &amp;&amp; i != map.length){\n                    double result = 0;\n                    result += map[i][j];\n                    result += map[i-1][j];\n                    result += map[i+1][j];\n                    result += map[i][j-1];\n                    sumMap[i][j] = result;\n                }\n                //filling in all the remaining values\n                else{\n                    double result = 0;\n                    result += map[i-1][j];\n                    result += map[i+1][j];\n                    result += map[i][j-1];\n                    result += map[i][j+1];\n                    sumMap[i][j] = result;\n                }\n        }\n\n\n\n}\n        for (int i = 0; i &lt; map.length; i++){\n            for (int j = 0; j &lt; map[i].length; j++){\n                System.out.println(sumMap[i][j]);\n        }}\n        return sumMap;\n}\n</code></pre>\n"},{"tags":["java","multithreading","networking","tcp","inputstream"],"comments":[{"owner":{"account_id":20167003,"reputation":344,"user_id":14790684,"display_name":"Al-Anazi"},"score":1,"creation_date":1671223960,"post_id":74829167,"comment_id":132061136,"body_markdown":"Indeed the data received via Socket is stored. However, nothing prevents you from dictating a thread for this, most of the time it&#39;s a good idea. Nevertheless, your code will probably never complete successful. This&#39;s because `isClosed`  only return true if the server ITSELF closes the connection (via [close()](https://docs.oracle.com/javase/7/docs/api/java/net/Socket.html#close())), not the client. This issue is discussed [here](https://stackoverflow.com/a/10241044/14790684).","body":"Indeed the data received via Socket is stored. However, nothing prevents you from dictating a thread for this, most of the time it&#39;s a good idea. Nevertheless, your code will probably never complete successful. This&#39;s because <code>isClosed</code>  only return true if the server ITSELF closes the connection (via <a href=\"https://docs.oracle.com/javase/7/docs/api/java/net/Socket.html#close()\" rel=\"nofollow noreferrer\">close()</a>), not the client. This issue is discussed <a href=\"https://stackoverflow.com/a/10241044/14790684\">here</a>."},{"owner":{"account_id":17244046,"reputation":189,"user_id":14934258,"display_name":"tweekz"},"score":0,"creation_date":1671225860,"post_id":74829167,"comment_id":132061539,"body_markdown":"Thank you very much. You could post this as answer, so I can check it.","body":"Thank you very much. You could post this as answer, so I can check it."}],"owner":{"account_id":17244046,"reputation":189,"user_id":14934258,"display_name":"tweekz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671220282,"creation_date":1671220282,"question_id":74829167,"body_markdown":"I get an InputStream from a TCP connection and read from it (via BufferedReader). When receiving a message, my program will process that request. This includes some database operations. It will do so continuously in a while loop (TCP long connection).\r\n\r\nSchematically it looks like this:\r\n\r\n    while(!clientSocket.isClosed()) {\r\n        in.read(request);\r\n        // process request\r\n    }\r\n\r\nWhat happens, if a new message arrives, while my program is still busy processing the previous request? \r\nWill it be &quot;stored&quot; and fetched with the next in.read() call? Or do I have to create a thread for the database operations to not miss requests?","title":"Can I read from InputStream, while program is busy?","body":"<p>I get an InputStream from a TCP connection and read from it (via BufferedReader). When receiving a message, my program will process that request. This includes some database operations. It will do so continuously in a while loop (TCP long connection).</p>\n<p>Schematically it looks like this:</p>\n<pre><code>while(!clientSocket.isClosed()) {\n    in.read(request);\n    // process request\n}\n</code></pre>\n<p>What happens, if a new message arrives, while my program is still busy processing the previous request?\nWill it be &quot;stored&quot; and fetched with the next in.read() call? Or do I have to create a thread for the database operations to not miss requests?</p>\n"},{"tags":["java","android","dagger-2","dagger","dagger-hilt"],"owner":{"account_id":15400898,"reputation":21,"user_id":11110432,"display_name":"Zack R"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1671219860,"creation_date":1670992515,"question_id":74793618,"body_markdown":"I am instantiating a service in a fragment that uses its `childFragmentManager` to add child fragments within it&#39;s view. I&#39;d like for these child fragments to `@Inject` the same instance of that service that was created by the parent.\r\n\r\nI have a parent fragment like so:\r\n\r\n```kt\r\n@AndroidEntrypoint\r\nclass ParentFragment : Hilt_ParentFragment {\r\n  var service: SomeService = SomeService(/* ... */)\r\n\r\n  // ...\r\n\r\n  childFragmentManager.commit {\r\n    add(R.id.container, ChildFragment())\r\n  }\r\n}\r\n\r\n```\r\n\r\nAnd I have a child fragment like so:\r\n\r\n```kt\r\n@AndroidEntrypoint\r\nclass ChildFragment : Hilt_ChildFragment {\r\n  @Inject lateinit var service: SomeService\r\n}\r\n```\r\n\r\nHow can I set this up so that the `ChildFragment` injects `SomeService` from the instance instantiated by the `ParentFragment`?","title":"Provide instance instantiated in parent fragment to @Inject in children fragments in Dagger/Hilt","body":"<p>I am instantiating a service in a fragment that uses its <code>childFragmentManager</code> to add child fragments within it's view. I'd like for these child fragments to <code>@Inject</code> the same instance of that service that was created by the parent.</p>\n<p>I have a parent fragment like so:</p>\n<pre><code>@AndroidEntrypoint\nclass ParentFragment : Hilt_ParentFragment {\n  var service: SomeService = SomeService(/* ... */)\n\n  // ...\n\n  childFragmentManager.commit {\n    add(R.id.container, ChildFragment())\n  }\n}\n\n</code></pre>\n<p>And I have a child fragment like so:</p>\n<pre><code>@AndroidEntrypoint\nclass ChildFragment : Hilt_ChildFragment {\n  @Inject lateinit var service: SomeService\n}\n</code></pre>\n<p>How can I set this up so that the <code>ChildFragment</code> injects <code>SomeService</code> from the instance instantiated by the <code>ParentFragment</code>?</p>\n"},{"tags":["java","unit-testing","junit","automated-tests","integration-testing"],"answers":[{"comments":[{"owner":{"account_id":2771704,"reputation":1219,"user_id":2386187,"accept_rate":83,"display_name":"Corey Wu"},"score":0,"creation_date":1394812195,"post_id":22398390,"comment_id":34073069,"body_markdown":"Okay thanks, do you have any suggestions on how to implement the functionality that I am looking for?","body":"Okay thanks, do you have any suggestions on how to implement the functionality that I am looking for?"},{"owner":{"account_id":34025,"reputation":23628,"user_id":95725,"display_name":"NamshubWriter"},"score":0,"creation_date":1395526314,"post_id":22398390,"comment_id":34381200,"body_markdown":"@CoreyWu could you let us know what exact problem you are trying to solve?","body":"@CoreyWu could you let us know what exact problem you are trying to solve?"},{"owner":{"account_id":3342792,"reputation":849,"user_id":2808664,"accept_rate":100,"display_name":"bobanahalf"},"score":0,"creation_date":1431972441,"post_id":22398390,"comment_id":48715319,"body_markdown":"I have this problem, too. I&#39;m trying to do database prep before I set up my tests. \n\nMy @Parameters method queries the database to find test values. I&#39;d like to set up the database before getting my test values.\n\nNo, this is not strictly unit testing....","body":"I have this problem, too. I&#39;m trying to do database prep before I set up my tests.   My @Parameters method queries the database to find test values. I&#39;d like to set up the database before getting my test values.  No, this is not strictly unit testing...."},{"owner":{"account_id":34025,"reputation":23628,"user_id":95725,"display_name":"NamshubWriter"},"score":0,"creation_date":1432046453,"post_id":22398390,"comment_id":48752223,"body_markdown":"@bobanahalf You could try setting up the database in your `@Parameters` method, but if it fails I&#39;m not sure if JUnit will make the root cause of the error obvious. Personally I wouldn&#39;t use `Parameterized` if my parameters were from a data source that could fail or was slow to query.","body":"@bobanahalf You could try setting up the database in your <code>@Parameters</code> method, but if it fails I&#39;m not sure if JUnit will make the root cause of the error obvious. Personally I wouldn&#39;t use <code>Parameterized</code> if my parameters were from a data source that could fail or was slow to query."},{"owner":{"account_id":3342792,"reputation":849,"user_id":2808664,"accept_rate":100,"display_name":"bobanahalf"},"score":0,"creation_date":1432838083,"post_id":22398390,"comment_id":49104079,"body_markdown":"@NamshubWriter, do you know another way to dynamically discover test data? We&#39;re running our tests over different databases. Even if it was all one database, I wouldn&#39;t really be able to count on today&#39;s data being the same as next month&#39;s.\n\nFor now, I&#39;ve got my discovery code in a static initializer. I&#39;m sure there are undesirable side-affects if my initializer doesn&#39;t behave as I hope.","body":"@NamshubWriter, do you know another way to dynamically discover test data? We&#39;re running our tests over different databases. Even if it was all one database, I wouldn&#39;t really be able to count on today&#39;s data being the same as next month&#39;s.  For now, I&#39;ve got my discovery code in a static initializer. I&#39;m sure there are undesirable side-affects if my initializer doesn&#39;t behave as I hope."},{"owner":{"account_id":34025,"reputation":23628,"user_id":95725,"display_name":"NamshubWriter"},"score":0,"creation_date":1432877095,"post_id":22398390,"comment_id":49117480,"body_markdown":"@bebanahalf I don&#39;t know of another way to dynamically discover data. I recommend never calling code that could fail in a static initializer.","body":"@bebanahalf I don&#39;t know of another way to dynamically discover data. I recommend never calling code that could fail in a static initializer."}],"tags":[],"owner":{"account_id":34025,"reputation":23628,"user_id":95725,"display_name":"NamshubWriter"},"comment_count":6,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1394781107,"creation_date":1394781107,"answer_id":22398390,"question_id":22391202,"body_markdown":"This is, unfortunately, working as intended. JUnit needs to enumerate all of the test cases before starting the test, and for parameterized tests, the method annotated with `@Parameterized.Parameters` is used to determine how many tests there are.\r\n","title":"JUnit @Parameterized function is run before @BeforeClass in a test suite?","body":"<p>This is, unfortunately, working as intended. JUnit needs to enumerate all of the test cases before starting the test, and for parameterized tests, the method annotated with <code>@Parameterized.Parameters</code> is used to determine how many tests there are.</p>\n"},{"tags":[],"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1464251923,"creation_date":1464251923,"answer_id":37455700,"question_id":22391202,"body_markdown":"Although beeing a bit [different][1] solution, a static block does the trick. Also note, that it must be in the Test1.class. But beside of that it works ;-)\r\n\r\n    @RunWith(Parameterized.class)\r\n    public class Test1 {\r\n    \t\r\n    \tstatic{\r\n    \t\tSystem.out.println(&quot;Executed before everything&quot;);\r\n    \t}\r\n    \r\n        private String value;\r\n    \r\n        // @Parameterized function which appears to run before @BeforeClass setup()\r\n        @Parameterized.Parameters\r\n        public static Collection&lt;Object[]&gt; configurations() throws InterruptedException {\r\n        \t// Code which relies on setup() to be run first\r\n        }\r\n    \r\n        public Test1(String value) {\r\n            this.value = value;\r\n        }\r\n    \r\n        @Test\r\n        public void testA() {\r\n            // Test  \r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/15493189/beforeclass-vs-static","title":"JUnit @Parameterized function is run before @BeforeClass in a test suite?","body":"<p>Although beeing a bit <a href=\"https://stackoverflow.com/questions/15493189/beforeclass-vs-static\">different</a> solution, a static block does the trick. Also note, that it must be in the Test1.class. But beside of that it works ;-)</p>\n\n<pre><code>@RunWith(Parameterized.class)\npublic class Test1 {\n\n    static{\n        System.out.println(\"Executed before everything\");\n    }\n\n    private String value;\n\n    // @Parameterized function which appears to run before @BeforeClass setup()\n    @Parameterized.Parameters\n    public static Collection&lt;Object[]&gt; configurations() throws InterruptedException {\n        // Code which relies on setup() to be run first\n    }\n\n    public Test1(String value) {\n        this.value = value;\n    }\n\n    @Test\n    public void testA() {\n        // Test  \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12131776,"reputation":51,"user_id":8858505,"display_name":"Derek"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1509395595,"creation_date":1509392335,"answer_id":47023002,"question_id":22391202,"body_markdown":"Recently ran into similar issue and solved problem using Function. Example below.\r\n\r\n    @RunWith(Parameterized.class)\r\n    public class MyClassTest {\r\n    \r\n        @Parameterized.Parameters\r\n        public static Iterable functions() {\r\n            return Arrays.&lt;Object, Object&gt;asList(\r\n                param -&gt; new Object()\r\n            );\r\n        }\r\n\r\n        Object param;\r\n        Function function;\r\n\r\n        public MyClassTest(Function f) {\r\n            this.function = f;\r\n        }\r\n\r\n        @Before\r\n        public void before() {\r\n            // construct dependency\r\n            param = &quot;some value&quot;;\r\n        }\r\n\r\n        @Test\r\n        public void test() {\r\n            assertThat(myClass.doSomething(function.apply(param)), is(equalTo(expectedValue)));\r\n        }\r\n    }\r\n\r\nIn your scenario, do database setup in @Before or @BeforeClass then inject into function","title":"JUnit @Parameterized function is run before @BeforeClass in a test suite?","body":"<p>Recently ran into similar issue and solved problem using Function. Example below.</p>\n\n<pre><code>@RunWith(Parameterized.class)\npublic class MyClassTest {\n\n    @Parameterized.Parameters\n    public static Iterable functions() {\n        return Arrays.&lt;Object, Object&gt;asList(\n            param -&gt; new Object()\n        );\n    }\n\n    Object param;\n    Function function;\n\n    public MyClassTest(Function f) {\n        this.function = f;\n    }\n\n    @Before\n    public void before() {\n        // construct dependency\n        param = \"some value\";\n    }\n\n    @Test\n    public void test() {\n        assertThat(myClass.doSomething(function.apply(param)), is(equalTo(expectedValue)));\n    }\n}\n</code></pre>\n\n<p>In your scenario, do database setup in @Before or @BeforeClass then inject into function</p>\n"},{"tags":[],"owner":{"account_id":3031823,"reputation":2768,"user_id":2570677,"display_name":"Liran Funaro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603802111,"creation_date":1603802111,"answer_id":64554556,"question_id":22391202,"body_markdown":"I found a hack to force a code segment to run before all other methods that are annotated with `@Parameterized.Parameters`.\r\nJust create a parameterized dummy test as follows:\r\n\r\n```java\r\n@RunWith(Parameterized.class)\r\npublic class DummyInitTest\r\n{\r\n  @Parameterized.Parameters\r\n  public static Collection&lt;?&gt; constructorFeeder()\r\n  {\r\n    // Your setup here. This will run before anything else.\r\n    // Return empty list so no tests will be executed for this test class.\r\n    return ImmutableList.of();\r\n  }\r\n}\r\n\r\n```\r\n\r\nThen in your test suite, add this test first:\r\n```java\r\n@RunWith(Suite.class)\r\n@SuiteClasses({ DummyInitTest.class, Test1.class, Test2.class })\r\npublic class TestSuite {\r\n  // ...\r\n}\r\n```","title":"JUnit @Parameterized function is run before @BeforeClass in a test suite?","body":"<p>I found a hack to force a code segment to run before all other methods that are annotated with <code>@Parameterized.Parameters</code>.\nJust create a parameterized dummy test as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RunWith(Parameterized.class)\npublic class DummyInitTest\n{\n  @Parameterized.Parameters\n  public static Collection&lt;?&gt; constructorFeeder()\n  {\n    // Your setup here. This will run before anything else.\n    // Return empty list so no tests will be executed for this test class.\n    return ImmutableList.of();\n  }\n}\n\n</code></pre>\n<p>Then in your test suite, add this test first:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RunWith(Suite.class)\n@SuiteClasses({ DummyInitTest.class, Test1.class, Test2.class })\npublic class TestSuite {\n  // ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1065188,"reputation":680,"user_id":1065953,"display_name":"Martin P."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671219559,"creation_date":1671219559,"answer_id":74829048,"question_id":22391202,"body_markdown":"Hoping this can help someone, I simply did it this way:\r\n\r\n```lang-java\r\n    //@BeforeClass does not run before Parameters annotation\r\n    public static void beforeClassSetup() throws IOException {\r\n       InputStream is = Test.class.getResourceAsStream(&quot;/TestData.json&quot;);\r\n       // load data...\r\n    }\r\n       \r\n    @Parameters(name = &quot;testProductFunctionality&quot;)\r\n    public static Collection&lt;Object[]&gt; data() throws IOException {\r\n\t   \tbeforeClassSetup();\r\n        // create parameters...\r\n     }\r\n\r\n\t@Test\r\n\tpublic void testProductFunctionality() {\r\n    //...\r\n```","title":"JUnit @Parameterized function is run before @BeforeClass in a test suite?","body":"<p>Hoping this can help someone, I simply did it this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    //@BeforeClass does not run before Parameters annotation\n    public static void beforeClassSetup() throws IOException {\n       InputStream is = Test.class.getResourceAsStream(&quot;/TestData.json&quot;);\n       // load data...\n    }\n       \n    @Parameters(name = &quot;testProductFunctionality&quot;)\n    public static Collection&lt;Object[]&gt; data() throws IOException {\n        beforeClassSetup();\n        // create parameters...\n     }\n\n    @Test\n    public void testProductFunctionality() {\n    //...\n</code></pre>\n"}],"owner":{"account_id":2771704,"reputation":1219,"user_id":2386187,"accept_rate":83,"display_name":"Corey Wu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14677,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":22398390,"answer_count":5,"score":11,"last_activity_date":1671219559,"creation_date":1394745756,"question_id":22391202,"body_markdown":"I am using a JUnit test suite to run a few tests, one of which is run multiple times using @Parameterized. I am finding that when I run my tests, the @Parameterized function is run before @BeforeClass. Is this expected behavior or is something else happening? I would have expected that @BeforeClass would run before any of the tests are started.\r\n\r\nHere is my test suite:\r\n\r\n    @RunWith(Suite.class)\r\n    @SuiteClasses({ Test1.class, Test2.class })\r\n    public class TestSuite {\r\n\r\n        @BeforeClass\r\n        public static void setup() throws Exception {\r\n            // setup, I want this to be run before anything else\r\n        }\r\n\r\n    }\r\n\r\nTest1 uses @Parameterized:\r\n\r\n    public class Test1 {\r\n\r\n        private String value;\r\n\r\n        // @Parameterized function which appears to run before @BeforeClass setup()\r\n        @Parameterized.Parameters\r\n        public static Collection&lt;Object[]&gt; configurations() throws InterruptedException {\r\n        \r\n            // Code which relies on setup() to be run first\r\n\r\n        }\r\n\r\n        public Test1(String value) {\r\n            this.value = value;\r\n        }\r\n\r\n        @Test\r\n        public void testA() {\r\n            // Test  \r\n        }\r\n    }\r\n\r\nHow can I fix this to run the @BeforeClass setup() function before running anything else?","title":"JUnit @Parameterized function is run before @BeforeClass in a test suite?","body":"<p>I am using a JUnit test suite to run a few tests, one of which is run multiple times using @Parameterized. I am finding that when I run my tests, the @Parameterized function is run before @BeforeClass. Is this expected behavior or is something else happening? I would have expected that @BeforeClass would run before any of the tests are started.</p>\n\n<p>Here is my test suite:</p>\n\n<pre><code>@RunWith(Suite.class)\n@SuiteClasses({ Test1.class, Test2.class })\npublic class TestSuite {\n\n    @BeforeClass\n    public static void setup() throws Exception {\n        // setup, I want this to be run before anything else\n    }\n\n}\n</code></pre>\n\n<p>Test1 uses @Parameterized:</p>\n\n<pre><code>public class Test1 {\n\n    private String value;\n\n    // @Parameterized function which appears to run before @BeforeClass setup()\n    @Parameterized.Parameters\n    public static Collection&lt;Object[]&gt; configurations() throws InterruptedException {\n\n        // Code which relies on setup() to be run first\n\n    }\n\n    public Test1(String value) {\n        this.value = value;\n    }\n\n    @Test\n    public void testA() {\n        // Test  \n    }\n}\n</code></pre>\n\n<p>How can I fix this to run the @BeforeClass setup() function before running anything else?</p>\n"},{"tags":["java","mockito","junit4","powermockito"],"comments":[{"owner":{"account_id":954558,"reputation":11913,"user_id":980097,"accept_rate":87,"display_name":"Popeye"},"score":1,"creation_date":1458724823,"post_id":36173947,"comment_id":59983920,"body_markdown":"This link might be helpful to you http://stackoverflow.com/questions/13645571/how-to-mock-a-private-dao-variable","body":"This link might be helpful to you <a href=\"http://stackoverflow.com/questions/13645571/how-to-mock-a-private-dao-variable\" title=\"how to mock a private dao variable\">stackoverflow.com/questions/13645571/&hellip;</a>"},{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":3,"creation_date":1458725025,"post_id":36173947,"comment_id":59984053,"body_markdown":"You should refactor your code so that you can pass in a mock for `Person`.  Options include adding a constructor to do this, or adding a setter method.","body":"You should refactor your code so that you can pass in a mock for <code>Person</code>.  Options include adding a constructor to do this, or adding a setter method."}],"answers":[{"comments":[{"owner":{"account_id":6761459,"reputation":2390,"user_id":5208067,"accept_rate":33,"display_name":"Arun"},"score":0,"creation_date":1458739972,"post_id":36174798,"comment_id":59994282,"body_markdown":"I&#39;m spying my target object because of other reasons and in this case when my object is spy, I cannot set internal state this way.","body":"I&#39;m spying my target object because of other reasons and in this case when my object is spy, I cannot set internal state this way."},{"owner":{"account_id":1051678,"reputation":6775,"user_id":3063077,"accept_rate":33,"display_name":"Ralf"},"score":0,"creation_date":1458741753,"post_id":36174798,"comment_id":59995642,"body_markdown":"Why not? I am using it with spies. Create a Person instance. Stub whatever needs stubbing, then set it on your Test instance.","body":"Why not? I am using it with spies. Create a Person instance. Stub whatever needs stubbing, then set it on your Test instance."},{"owner":{"account_id":4764718,"reputation":423,"user_id":3851150,"accept_rate":63,"display_name":"Nova"},"score":0,"creation_date":1484499097,"post_id":36174798,"comment_id":70525498,"body_markdown":"Warning: Whitebox is in the `internal` package and does not seem to work anymore on Mockito 2.6.2.","body":"Warning: Whitebox is in the <code>internal</code> package and does not seem to work anymore on Mockito 2.6.2."},{"owner":{"account_id":4633327,"reputation":1567,"user_id":3755196,"accept_rate":50,"display_name":"Raj Kumar"},"score":0,"creation_date":1534228385,"post_id":36174798,"comment_id":90623681,"body_markdown":"You can use FieldSetter.setField(). I&#39;ve given an example below for the same.","body":"You can use FieldSetter.setField(). I&#39;ve given an example below for the same."},{"owner":{"account_id":53390,"reputation":4508,"user_id":159570,"display_name":"Joe Coder"},"score":0,"creation_date":1572924470,"post_id":36174798,"comment_id":103703425,"body_markdown":"This seems brittle because there is no compiler check that you are using the correct field name, and it could break when the code changes without notification.  Using the `@PowerMockRunner` class annotation as described in another answer seems like the way to go.","body":"This seems brittle because there is no compiler check that you are using the correct field name, and it could break when the code changes without notification.  Using the <code>@PowerMockRunner</code> class annotation as described in another answer seems like the way to go."},{"owner":{"account_id":1051678,"reputation":6775,"user_id":3063077,"accept_rate":33,"display_name":"Ralf"},"score":0,"creation_date":1572942208,"post_id":36174798,"comment_id":103708593,"body_markdown":"@JoeCoder, depending on the code change the PowerMock solution is very likely to break just the same without the compiler catching it. E.g. if you add another `Person` field to the class under test or remove the person member. I don&#39;t see the harm though. As long as the test verifies expected behavior properly it will go red after the code change and thus fulfills its purpose.","body":"@JoeCoder, depending on the code change the PowerMock solution is very likely to break just the same without the compiler catching it. E.g. if you add another <code>Person</code> field to the class under test or remove the person member. I don&#39;t see the harm though. As long as the test verifies expected behavior properly it will go red after the code change and thus fulfills its purpose."},{"owner":{"account_id":53390,"reputation":4508,"user_id":159570,"display_name":"Joe Coder"},"score":0,"creation_date":1572943003,"post_id":36174798,"comment_id":103708940,"body_markdown":"@Ralf PowerMock&#39;s injection of `Person::new` occurs for all instances of `Person`, so it would still work.  The one drawback I&#39;ve found is that some test runners (such as SonarQube&#39;s code coverage tool) do not work with `@PowerMockRunner`.","body":"@Ralf PowerMock&#39;s injection of <code>Person::new</code> occurs for all instances of <code>Person</code>, so it would still work.  The one drawback I&#39;ve found is that some test runners (such as SonarQube&#39;s code coverage tool) do not work with <code>@PowerMockRunner</code>."},{"owner":{"account_id":1051678,"reputation":6775,"user_id":3063077,"accept_rate":33,"display_name":"Ralf"},"score":0,"creation_date":1572943113,"post_id":36174798,"comment_id":103709007,"body_markdown":"@JoeCoder, the behavior to be verified for the second `Person` is likely to be different from the first person...","body":"@JoeCoder, the behavior to be verified for the second <code>Person</code> is likely to be different from the first person..."},{"owner":{"account_id":53390,"reputation":4508,"user_id":159570,"display_name":"Joe Coder"},"score":0,"creation_date":1572944321,"post_id":36174798,"comment_id":103709615,"body_markdown":"@Ralf Not a problem. `Person::new` is only injected in the class referenced in the `@PrepareForTest` annotation, e.g `@PrepareForTest({PersonFactory.class})`.  You could create regular mock `Person` instances and pass them into the injector as needed in the test code, e.g. `PowerMockito.whenNew(Person.class).withArguments(&quot;Frank&quot;).thenReturn(frank);`","body":"@Ralf Not a problem. <code>Person::new</code> is only injected in the class referenced in the <code>@PrepareForTest</code> annotation, e.g <code>@PrepareForTest({PersonFactory.class})</code>.  You could create regular mock <code>Person</code> instances and pass them into the injector as needed in the test code, e.g. <code>PowerMockito.whenNew(Person.class).withArguments(&quot;Frank&quot;).th&zwnj;&#8203;enReturn(frank);</code>"},{"owner":{"account_id":1051678,"reputation":6775,"user_id":3063077,"accept_rate":33,"display_name":"Ralf"},"score":0,"creation_date":1573020938,"post_id":36174798,"comment_id":103739959,"body_markdown":"@JoeCoder, of course you can do that. Just like you can adapt the plain vanilla Mockito test. But in both cases the compiler won&#39;t tell you that you have to do it. Which was your criticism of the solution using just Mockito and some reflection support.","body":"@JoeCoder, of course you can do that. Just like you can adapt the plain vanilla Mockito test. But in both cases the compiler won&#39;t tell you that you have to do it. Which was your criticism of the solution using just Mockito and some reflection support."},{"owner":{"account_id":53390,"reputation":4508,"user_id":159570,"display_name":"Joe Coder"},"score":0,"creation_date":1573024129,"post_id":36174798,"comment_id":103741172,"body_markdown":"@Ralk My criticism is this: if the private instance member `Test::person` is changed to `Test::human`, this is an implementation detail and the unit test should not fail on that, but it does when reflection is used, and it fails silently.","body":"@Ralk My criticism is this: if the private instance member <code>Test::person</code> is changed to <code>Test::human</code>, this is an implementation detail and the unit test should not fail on that, but it does when reflection is used, and it fails silently."},{"owner":{"account_id":1051678,"reputation":6775,"user_id":3063077,"accept_rate":33,"display_name":"Ralf"},"score":0,"creation_date":1573025712,"post_id":36174798,"comment_id":103741877,"body_markdown":"@JoeCoder, I don&#39;t see why it should fail silently? The test will go red, most likely because the reflection code will through an exception or at the latest because the code under test throws an NPE.","body":"@JoeCoder, I don&#39;t see why it should fail silently? The test will go red, most likely because the reflection code will through an exception or at the latest because the code under test throws an NPE."},{"owner":{"account_id":53390,"reputation":4508,"user_id":159570,"display_name":"Joe Coder"},"score":1,"creation_date":1573219202,"post_id":36174798,"comment_id":103820387,"body_markdown":"@Ralf Because changing a reference name in Java should always result in a compilation error.","body":"@Ralf Because changing a reference name in Java should always result in a compilation error."}],"tags":[],"owner":{"account_id":1051678,"reputation":6775,"user_id":3063077,"accept_rate":33,"display_name":"Ralf"},"comment_count":13,"down_vote_count":1,"up_vote_count":150,"is_accepted":false,"score":149,"last_activity_date":1606776497,"creation_date":1458726777,"answer_id":36174798,"question_id":36173947,"body_markdown":"Mockito comes with a helper class to save you some reflection boiler plate code:\r\n\r\n    import org.mockito.internal.util.reflection.Whitebox;\r\n    \r\n    //...\r\n    \r\n    @Mock\r\n    private Person mockedPerson;\r\n    private Test underTest;\r\n    \r\n    // ...\r\n    \r\n    @Test\r\n    public void testMethod() {\r\n        Whitebox.setInternalState(underTest, &quot;person&quot;, mockedPerson);\r\n        // ...\r\n    }\r\n\r\n**Update:**\r\nUnfortunately the mockito team decided to [remove the class][1] in Mockito 2. So you are back to writing your own reflection boilerplate code, use another library (e.g. [Apache Commons Lang][2]), or simply pilfer the [Whitebox][3] class (it is [MIT licensed][4]).\r\n\r\n**Update 2:**\r\nJUnit 5 comes with its own [ReflectionSupport][5] and [AnnotationSupport][6] classes that might be useful and save you from pulling in yet another library.\r\n\r\n\r\n  [1]: https://github.com/mockito/mockito/issues/489\r\n  [2]: https://commons.apache.org/proper/commons-lang/javadocs/api-3.5/org/apache/commons/lang3/reflect/package-summary.html\r\n  [3]: https://github.com/mockito/mockito/blob/fea4074f8d4a7b1f7b8e89d4819bef25b1b6228f/src/main/java/org/mockito/internal/util/reflection/Whitebox.java\r\n  [4]: https://en.wikipedia.org/wiki/MIT_License\r\n  [5]: https://junit.org/junit5/docs/current/api/org.junit.platform.commons/org/junit/platform/commons/support/ReflectionSupport.html\r\n  [6]: https://junit.org/junit5/docs/current/api/org.junit.platform.commons/org/junit/platform/commons/support/AnnotationSupport.html","title":"Mockito: Mock private field initialization","body":"<p>Mockito comes with a helper class to save you some reflection boiler plate code:</p>\n<pre><code>import org.mockito.internal.util.reflection.Whitebox;\n\n//...\n\n@Mock\nprivate Person mockedPerson;\nprivate Test underTest;\n\n// ...\n\n@Test\npublic void testMethod() {\n    Whitebox.setInternalState(underTest, &quot;person&quot;, mockedPerson);\n    // ...\n}\n</code></pre>\n<p><strong>Update:</strong>\nUnfortunately the mockito team decided to <a href=\"https://github.com/mockito/mockito/issues/489\" rel=\"noreferrer\">remove the class</a> in Mockito 2. So you are back to writing your own reflection boilerplate code, use another library (e.g. <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-3.5/org/apache/commons/lang3/reflect/package-summary.html\" rel=\"noreferrer\">Apache Commons Lang</a>), or simply pilfer the <a href=\"https://github.com/mockito/mockito/blob/fea4074f8d4a7b1f7b8e89d4819bef25b1b6228f/src/main/java/org/mockito/internal/util/reflection/Whitebox.java\" rel=\"noreferrer\">Whitebox</a> class (it is <a href=\"https://en.wikipedia.org/wiki/MIT_License\" rel=\"noreferrer\">MIT licensed</a>).</p>\n<p><strong>Update 2:</strong>\nJUnit 5 comes with its own <a href=\"https://junit.org/junit5/docs/current/api/org.junit.platform.commons/org/junit/platform/commons/support/ReflectionSupport.html\" rel=\"noreferrer\">ReflectionSupport</a> and <a href=\"https://junit.org/junit5/docs/current/api/org.junit.platform.commons/org/junit/platform/commons/support/AnnotationSupport.html\" rel=\"noreferrer\">AnnotationSupport</a> classes that might be useful and save you from pulling in yet another library.</p>\n"},{"comments":[{"owner":{"account_id":1446471,"reputation":1326,"user_id":1364759,"accept_rate":78,"display_name":"Shadoninja"},"score":12,"creation_date":1539725940,"post_id":42294608,"comment_id":92604809,"body_markdown":"Your explanation talks about the `mockStatic` function, but that is not represented in your code example. Should the code example have the `mockStatic` call, or is that not required for constructors?","body":"Your explanation talks about the <code>mockStatic</code> function, but that is not represented in your code example. Should the code example have the <code>mockStatic</code> call, or is that not required for constructors?"}],"tags":[],"owner":{"account_id":6761459,"reputation":2390,"user_id":5208067,"accept_rate":33,"display_name":"Arun"},"comment_count":1,"down_vote_count":3,"up_vote_count":39,"is_accepted":true,"score":36,"last_activity_date":1535060252,"creation_date":1487324901,"answer_id":42294608,"question_id":36173947,"body_markdown":"I already found the solution to this problem which I forgot to post here. \r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest({ Test.class })\r\n    public class SampleTest {\r\n\r\n    @Mock\r\n    Person person;\r\n\r\n    @Test\r\n    public void testPrintName() throws Exception {\r\n        PowerMockito.whenNew(Person.class).withNoArguments().thenReturn(person);\r\n        Test test= new Test();\r\n        test.testMethod();\r\n        }\r\n    }\r\n\r\nKey points to this solution are:\r\n\r\n1. Running my test cases with PowerMockRunner: `@RunWith(PowerMockRunner.class)`\r\n\r\n2. Instruct Powermock to prepare `Test.class` for manipulation of private fields: `@PrepareForTest({ Test.class })`\r\n\r\n3. And finally mock the constructor for Person class:\r\n\r\n    `PowerMockito.mockStatic(Person.class);`\r\n    `PowerMockito.whenNew(Person.class).withNoArguments().thenReturn(person);`\r\n        ","title":"Mockito: Mock private field initialization","body":"<p>I already found the solution to this problem which I forgot to post here. </p>\n\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest({ Test.class })\npublic class SampleTest {\n\n@Mock\nPerson person;\n\n@Test\npublic void testPrintName() throws Exception {\n    PowerMockito.whenNew(Person.class).withNoArguments().thenReturn(person);\n    Test test= new Test();\n    test.testMethod();\n    }\n}\n</code></pre>\n\n<p>Key points to this solution are:</p>\n\n<ol>\n<li><p>Running my test cases with PowerMockRunner: <code>@RunWith(PowerMockRunner.class)</code></p></li>\n<li><p>Instruct Powermock to prepare <code>Test.class</code> for manipulation of private fields: <code>@PrepareForTest({ Test.class })</code></p></li>\n<li><p>And finally mock the constructor for Person class:</p>\n\n<p><code>PowerMockito.mockStatic(Person.class);</code>\n<code>PowerMockito.whenNew(Person.class).withNoArguments().thenReturn(person);</code></p></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":1051678,"reputation":6775,"user_id":3063077,"accept_rate":33,"display_name":"Ralf"},"score":11,"creation_date":1534232754,"post_id":51499019,"comment_id":90625844,"body_markdown":"`FieldSetter` is not available anymore in Mockito 2.x.","body":"<code>FieldSetter</code> is not available anymore in Mockito 2.x."},{"owner":{"account_id":4633327,"reputation":1567,"user_id":3755196,"accept_rate":50,"display_name":"Raj Kumar"},"score":5,"creation_date":1534826263,"post_id":51499019,"comment_id":90832846,"body_markdown":"@Ralf I&#39;m using version mockito-core-2.15.0. It&#39;s available there. https://static.javadoc.io/org.mockito/mockito-core/2.0.15-beta/org/mockito/internal/util/reflection/FieldSetter.html.\nStill beta though.","body":"@Ralf I&#39;m using version mockito-core-2.15.0. It&#39;s available there. <a href=\"https://static.javadoc.io/org.mockito/mockito-core/2.0.15-beta/org/mockito/internal/util/reflection/FieldSetter.html\" rel=\"nofollow noreferrer\">static.javadoc.io/org.mockito/mockito-core/2.0.15-beta/org/&hellip;</a>&zwnj;&#8203;. Still beta though."},{"owner":{"account_id":155967,"reputation":3342,"user_id":1215410,"display_name":"Dapeng Li"},"score":1,"creation_date":1561535643,"post_id":51499019,"comment_id":100091505,"body_markdown":"@RajKumar the `Class#getDeclaredField` accepts single param, so the parens need to look like this`FieldSetter.setField(underTest, underTest.getClass().getDeclaredField(&quot;person&quot;), mockedPerson);`. That was how I got it wrong and thought might be a good idea to fix it in your example. Thanks for replying.","body":"@RajKumar the <code>Class#getDeclaredField</code> accepts single param, so the parens need to look like this<code>FieldSetter.setField(underTest, underTest.getClass().getDeclaredField(&quot;person&quot;), mockedPerson);</code>. That was how I got it wrong and thought might be a good idea to fix it in your example. Thanks for replying."},{"owner":{"account_id":7774883,"reputation":2335,"user_id":5883307,"accept_rate":71,"display_name":"David stands with Ukraine"},"score":3,"creation_date":1575361426,"post_id":51499019,"comment_id":104530212,"body_markdown":"using internal API is not the best idea","body":"using internal API is not the best idea"},{"owner":{"account_id":1995799,"reputation":28352,"user_id":1788806,"accept_rate":94,"display_name":"Willi Mentzel"},"score":0,"creation_date":1594217529,"post_id":51499019,"comment_id":111049981,"body_markdown":"@RajKumar Nice, but as Zimbo Rodger mentioned: Is it a good idea to use an internal API? Why is it internal acutally? It is so useful for testing.","body":"@RajKumar Nice, but as Zimbo Rodger mentioned: Is it a good idea to use an internal API? Why is it internal acutally? It is so useful for testing."},{"owner":{"account_id":8761412,"reputation":165,"user_id":6551267,"display_name":"lidlesseye"},"score":2,"creation_date":1653273649,"post_id":51499019,"comment_id":127802951,"body_markdown":"I don&#39;t understand, how could this work with private field? underTest.getClass().getDeclaredField(&quot;person&quot;) will throw NoSuchFieldException I think.","body":"I don&#39;t understand, how could this work with private field? underTest.getClass().getDeclaredField(&quot;person&quot;) will throw NoSuchFieldException I think."}],"tags":[],"owner":{"account_id":4633327,"reputation":1567,"user_id":3755196,"accept_rate":50,"display_name":"Raj Kumar"},"comment_count":6,"down_vote_count":0,"up_vote_count":98,"is_accepted":false,"score":98,"last_activity_date":1594217243,"creation_date":1532436476,"answer_id":51499019,"question_id":36173947,"body_markdown":"Pretty late to the party, but I was struck here and got help from a friend. The thing was not to use PowerMock. This works with the latest version of Mockito.\r\n\r\nMockito comes with this `org.mockito.internal.util.reflection.FieldSetter`.\r\n\r\nWhat it basically does is helps you modify private fields using reflection. \r\n\r\nThis is how you use it:\r\n\r\n    @Mock\r\n    private Person mockedPerson;\r\n    private Test underTest;\r\n    \r\n    // ...\r\n    \r\n    @Test\r\n    public void testMethod() {\r\n        FieldSetter.setField(underTest, underTest.getClass().getDeclaredField(&quot;person&quot;), mockedPerson);\r\n        // ...\r\n        verify(mockedPerson).someMethod();\r\n    }\r\n\r\nThis way you can pass a mock object and then verify it later.\r\n\r\n[Here][1] is the reference.\r\n\r\n\r\n  [1]: https://www.codota.com/code/java/methods/org.mockito.internal.util.reflection.FieldSetter/set","title":"Mockito: Mock private field initialization","body":"<p>Pretty late to the party, but I was struck here and got help from a friend. The thing was not to use PowerMock. This works with the latest version of Mockito.</p>\n<p>Mockito comes with this <code>org.mockito.internal.util.reflection.FieldSetter</code>.</p>\n<p>What it basically does is helps you modify private fields using reflection.</p>\n<p>This is how you use it:</p>\n<pre><code>@Mock\nprivate Person mockedPerson;\nprivate Test underTest;\n\n// ...\n\n@Test\npublic void testMethod() {\n    FieldSetter.setField(underTest, underTest.getClass().getDeclaredField(&quot;person&quot;), mockedPerson);\n    // ...\n    verify(mockedPerson).someMethod();\n}\n</code></pre>\n<p>This way you can pass a mock object and then verify it later.</p>\n<p><a href=\"https://www.codota.com/code/java/methods/org.mockito.internal.util.reflection.FieldSetter/set\" rel=\"noreferrer\">Here</a> is the reference.</p>\n"},{"tags":[],"owner":{"account_id":4831654,"reputation":1706,"user_id":3899713,"display_name":"Jarda Pavl&#237;ček"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1534916348,"creation_date":1534916348,"answer_id":51960453,"question_id":36173947,"body_markdown":"Following code can be used to initialize mapper in REST client mock. The `mapper` field is private and needs to be set during unit test setup. \r\n\r\n    import org.mockito.internal.util.reflection.FieldSetter;\r\n\r\n    new FieldSetter(client, Client.class.getDeclaredField(&quot;mapper&quot;)).set(new Mapper());","title":"Mockito: Mock private field initialization","body":"<p>Following code can be used to initialize mapper in REST client mock. The <code>mapper</code> field is private and needs to be set during unit test setup. </p>\n\n<pre><code>import org.mockito.internal.util.reflection.FieldSetter;\n\nnew FieldSetter(client, Client.class.getDeclaredField(\"mapper\")).set(new Mapper());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1266961,"reputation":361,"user_id":1224081,"display_name":"Hugo Dias"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1540203579,"creation_date":1540203579,"answer_id":52927015,"question_id":36173947,"body_markdown":"Using @Jarda&#39;s guide you can define this if you need to set the variable the same value for all tests:\r\n\r\n\t@Before\r\n\tpublic void setClientMapper() throws NoSuchFieldException, SecurityException{\r\n\t\tFieldSetter.setField(client, client.getClass().getDeclaredField(&quot;mapper&quot;), new Mapper());\r\n\t}\r\n\r\nBut beware that setting private values to be different should be handled with care. If they are private are for some reason.\r\n\r\nExample, I use it, for example, to change the wait time of a sleep in the unit tests. In real examples I want to sleep for 10 seconds but in unit-test I&#39;m satisfied if it&#39;s immediate. In integration tests you should test the real value.","title":"Mockito: Mock private field initialization","body":"<p>Using @Jarda's guide you can define this if you need to set the variable the same value for all tests:</p>\n\n<pre><code>@Before\npublic void setClientMapper() throws NoSuchFieldException, SecurityException{\n    FieldSetter.setField(client, client.getClass().getDeclaredField(\"mapper\"), new Mapper());\n}\n</code></pre>\n\n<p>But beware that setting private values to be different should be handled with care. If they are private are for some reason.</p>\n\n<p>Example, I use it, for example, to change the wait time of a sleep in the unit tests. In real examples I want to sleep for 10 seconds but in unit-test I'm satisfied if it's immediate. In integration tests you should test the real value.</p>\n"},{"comments":[{"owner":{"account_id":1995799,"reputation":28352,"user_id":1788806,"accept_rate":94,"display_name":"Willi Mentzel"},"score":2,"creation_date":1594217065,"post_id":54055978,"comment_id":111049650,"body_markdown":"Great! Might help to link to this article and maybe include the dependencies one needs from it: https://www.baeldung.com/spring-reflection-test-utils","body":"Great! Might help to link to this article and maybe include the dependencies one needs from it: <a href=\"https://www.baeldung.com/spring-reflection-test-utils\" rel=\"nofollow noreferrer\">baeldung.com/spring-reflection-test-utils</a>"},{"owner":{"account_id":1995799,"reputation":28352,"user_id":1788806,"accept_rate":94,"display_name":"Willi Mentzel"},"score":1,"creation_date":1594217708,"post_id":54055978,"comment_id":111050101,"body_markdown":"build.gradle.kts: `testImplementation(&quot;org.springframework:spring-test:5.1.2.RELEASE&quot;)`","body":"build.gradle.kts: <code>testImplementation(&quot;org.springframework:spring-test:5.1.2.RE&zwnj;&#8203;LEASE&quot;)</code>"},{"owner":{"account_id":12735021,"reputation":459,"user_id":9250232,"display_name":"Solanki Vaibhav"},"score":1,"creation_date":1612785481,"post_id":54055978,"comment_id":116866153,"body_markdown":"This is not useful for JUnit 5 or spring: 2.4.2 version","body":"This is not useful for JUnit 5 or spring: 2.4.2 version"},{"owner":{"account_id":4459006,"reputation":117,"user_id":3628435,"display_name":"Elle"},"score":3,"creation_date":1614071487,"post_id":54055978,"comment_id":117265737,"body_markdown":"@SolankiVaibhav why not?","body":"@SolankiVaibhav why not?"}],"tags":[],"owner":{"account_id":7774883,"reputation":2335,"user_id":5883307,"accept_rate":71,"display_name":"David stands with Ukraine"},"comment_count":4,"down_vote_count":0,"up_vote_count":117,"is_accepted":false,"score":117,"last_activity_date":1546720171,"creation_date":1546720171,"answer_id":54055978,"question_id":36173947,"body_markdown":"In case you use Spring Test try *org.springframework.test.util.ReflectionTestUtils*\r\n\r\n     ReflectionTestUtils.setField(testObject, &quot;person&quot;, mockedPerson);","title":"Mockito: Mock private field initialization","body":"<p>In case you use Spring Test try <em>org.springframework.test.util.ReflectionTestUtils</em></p>\n\n<pre><code> ReflectionTestUtils.setField(testObject, \"person\", mockedPerson);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8601381,"reputation":1496,"user_id":6442877,"accept_rate":64,"display_name":"Seyed Ali Roshan"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1634555444,"creation_date":1634555444,"answer_id":69615028,"question_id":36173947,"body_markdown":"if u are using spring boot test and cant find neither of `WhiteBox`, `FeildSetter`; u can simply use `org.springframework.test.util.ReflectionTestUtils`\r\n\r\nthis is an example:\r\n\r\n```java\r\nimport org.springframework.test.util.ReflectionTestUtils;\r\n\r\n//...\r\n\r\n@Mock\r\nprivate Person mockedPerson;\r\nprivate Test underTest;\r\n\r\n// ...\r\n\r\n@Test\r\npublic void testMethod() {\r\n    ReflectionTestUtils.setField(underTestObject, &quot;person&quot;, mockedPerson);\r\n    // ...\r\n}\r\n```","title":"Mockito: Mock private field initialization","body":"<p>if u are using spring boot test and cant find neither of <code>WhiteBox</code>, <code>FeildSetter</code>; u can simply use <code>org.springframework.test.util.ReflectionTestUtils</code></p>\n<p>this is an example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.test.util.ReflectionTestUtils;\n\n//...\n\n@Mock\nprivate Person mockedPerson;\nprivate Test underTest;\n\n// ...\n\n@Test\npublic void testMethod() {\n    ReflectionTestUtils.setField(underTestObject, &quot;person&quot;, mockedPerson);\n    // ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18213303,"reputation":91,"user_id":13255397,"display_name":"Le Vu"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1642221395,"creation_date":1642221395,"answer_id":70718898,"question_id":36173947,"body_markdown":"The best way until now, I think that is \r\n\r\n`org.springframework.test.util.ReflectionTestUtils`\r\n\r\nIm about to mock the `private String mockField` in FooService.class inside FooServiceTest.java\r\n\r\nFooService.java:\r\n\r\n      @Value(&quot;${url.image.latest}&quot;)\r\n      private String latestImageUrl;\r\n\r\n\r\nFooServiceTest.java:\r\n\r\n      @InjectMocks\r\n      FooService service;\r\n\r\n      @BeforeEach\r\n      void setUp() {\r\n        ReflectionTestUtils.setField(service, // inject into this object\r\n            &quot;latestImageUrl&quot;, // assign to this field\r\n            &quot;your value here&quot;); // object to be injected\r\n      }","title":"Mockito: Mock private field initialization","body":"<p>The best way until now, I think that is</p>\n<p><code>org.springframework.test.util.ReflectionTestUtils</code></p>\n<p>Im about to mock the <code>private String mockField</code> in FooService.class inside FooServiceTest.java</p>\n<p>FooService.java:</p>\n<pre><code>  @Value(&quot;${url.image.latest}&quot;)\n  private String latestImageUrl;\n</code></pre>\n<p>FooServiceTest.java:</p>\n<pre><code>  @InjectMocks\n  FooService service;\n\n  @BeforeEach\n  void setUp() {\n    ReflectionTestUtils.setField(service, // inject into this object\n        &quot;latestImageUrl&quot;, // assign to this field\n        &quot;your value here&quot;); // object to be injected\n  }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5751511,"reputation":16798,"user_id":4541045,"display_name":"ti7"},"score":0,"creation_date":1671391946,"post_id":74829034,"comment_id":132084601,"body_markdown":"(from review) could you add a little more about how this works?","body":"(from review) could you add a little more about how this works?"}],"tags":[],"owner":{"account_id":201558,"reputation":20199,"user_id":448078,"accept_rate":61,"display_name":"Mike"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1671219467,"creation_date":1671219467,"answer_id":74829034,"question_id":36173947,"body_markdown":"commons-lang3\r\n\r\n    import org.apache.commons.lang3.reflect.FieldUtils;\r\n    \r\n    FieldUtils.writeField(object, fieldName, value, true);","title":"Mockito: Mock private field initialization","body":"<p>commons-lang3</p>\n<pre><code>import org.apache.commons.lang3.reflect.FieldUtils;\n\nFieldUtils.writeField(object, fieldName, value, true);\n</code></pre>\n"}],"owner":{"account_id":6761459,"reputation":2390,"user_id":5208067,"accept_rate":33,"display_name":"Arun"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":329443,"favorite_count":0,"down_vote_count":0,"up_vote_count":171,"accepted_answer_id":42294608,"answer_count":9,"score":171,"last_activity_date":1671219467,"creation_date":1458724456,"question_id":36173947,"body_markdown":"How I can mock a field variable which is being initialized inline?\r\n\r\n    class Test {\r\n        private Person person = new Person();\r\n        ...\r\n        public void testMethod() {\r\n            person.someMethod();\r\n            ...\r\n        }\r\n    }\r\n\r\nHere I want to mock `person.someMethod()` while testing the `Test.testMethod()` method for which I need to mock initialization of `person` variable. Any clue?\r\n\r\n**Edit:** I&#39;m not allowed to modify Person class.","title":"Mockito: Mock private field initialization","body":"<p>How I can mock a field variable which is being initialized inline?</p>\n<pre><code>class Test {\n    private Person person = new Person();\n    ...\n    public void testMethod() {\n        person.someMethod();\n        ...\n    }\n}\n</code></pre>\n<p>Here I want to mock <code>person.someMethod()</code> while testing the <code>Test.testMethod()</code> method for which I need to mock initialization of <code>person</code> variable. Any clue?</p>\n<p><strong>Edit:</strong> I'm not allowed to modify Person class.</p>\n"},{"tags":["java","vaadin-flow","vaadin14"],"answers":[{"tags":[],"owner":{"account_id":2759852,"reputation":7920,"user_id":2376954,"display_name":"Leif &#197;strand"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1671219122,"creation_date":1671219122,"answer_id":74828990,"question_id":74825920,"body_markdown":"You can only rely on `BeforeLeaveObserver` for situations when the user navigates from one view to another in the same UI. Reloading the page causes a new UI to be created which means that `BeforeLeaveObserver` isn&#39;t triggered. The old UI instance is still there with the old view active.\r\n\r\nThe framework could in theory detect the situation specifically for a reload that is triggered from code but it&#39;s not trivially detectable when the user reloads through the web browser. It would be just as confusing if different types of reloading would lead to different outcomes.\r\n\r\nFor you case, you might want to instead redirect the user to a URL that contains a parameter that you can use to identify the custom configuration that the new UI is supposed to adopt.","title":"BeforeLeaveObserver is not invoked after page reload in Vaadin","body":"<p>You can only rely on <code>BeforeLeaveObserver</code> for situations when the user navigates from one view to another in the same UI. Reloading the page causes a new UI to be created which means that <code>BeforeLeaveObserver</code> isn't triggered. The old UI instance is still there with the old view active.</p>\n<p>The framework could in theory detect the situation specifically for a reload that is triggered from code but it's not trivially detectable when the user reloads through the web browser. It would be just as confusing if different types of reloading would lead to different outcomes.</p>\n<p>For you case, you might want to instead redirect the user to a URL that contains a parameter that you can use to identify the custom configuration that the new UI is supposed to adopt.</p>\n"}],"owner":{"account_id":18960455,"reputation":81,"user_id":13836091,"display_name":"Paweł Dąbrowski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74828990,"answer_count":1,"score":1,"last_activity_date":1671219122,"creation_date":1671201529,"question_id":74825920,"body_markdown":"I have a problem: \r\n`BeforeLeaveObserver` is not invoked after `ui.getPage().reload();` \r\nI need to reload view after the user change the application language, so this action is invoked after the user change and save. Then the view is translated to another language dynamically. \r\nAfter that another functionality which is using BeforeLeaveObserver is not invoked.\r\nAny ideas how to make observer work again? Or maybe there is another way which will work?\r\n\r\nI was trying with `LocaleChangeObserver` a had a trouble to refresh layout and translate it - it&#39;s too complicated. ","title":"BeforeLeaveObserver is not invoked after page reload in Vaadin","body":"<p>I have a problem:\n<code>BeforeLeaveObserver</code> is not invoked after <code>ui.getPage().reload();</code>\nI need to reload view after the user change the application language, so this action is invoked after the user change and save. Then the view is translated to another language dynamically.\nAfter that another functionality which is using BeforeLeaveObserver is not invoked.\nAny ideas how to make observer work again? Or maybe there is another way which will work?</p>\n<p>I was trying with <code>LocaleChangeObserver</code> a had a trouble to refresh layout and translate it - it's too complicated.</p>\n"},{"tags":["java","javafx","scenebuilder","fxmlloader","java-19"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1671217490,"post_id":74828719,"comment_id":132059429,"body_markdown":"Post your module-info.java file","body":"Post your module-info.java file"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1671218782,"post_id":74828719,"comment_id":132059773,"body_markdown":"You are missing `requires javafx.fxml`.  You don&#39;t need `requires javafx.graphics` as that will be acquired transitively.","body":"You are missing <code>requires javafx.fxml</code>.  You don&#39;t need <code>requires javafx.graphics</code> as that will be acquired transitively."},{"owner":{"account_id":7609968,"reputation":21,"user_id":5771172,"display_name":"SilentThief"},"score":0,"creation_date":1671219969,"post_id":74828719,"comment_id":132060110,"body_markdown":"Thank you @jewelsea! I didn&#39;t catch that. Learning FXML so I really appreciate your help.","body":"Thank you @jewelsea! I didn&#39;t catch that. Learning FXML so I really appreciate your help."}],"owner":{"account_id":7609968,"reputation":21,"user_id":5771172,"display_name":"SilentThief"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1671218973,"answer_count":0,"score":0,"last_activity_date":1671218342,"creation_date":1671217138,"question_id":74828719,"body_markdown":"When I was searching for a solution I noticed most people&#39;s issues was an incorrect installation. I believe my installation is correct as a normal JavaFX project works fine. However, I am not able to import the FXMLLoader or use it in my Java project. All jars have been added to my JavaFX19 user library.\r\n\r\nI am using Eclipse 09-2022, Java 19, JavaFX19.\r\n\r\n```\r\nError Message on Import: The type javafx.fxml.FXMLLoader is not accessible\r\n\r\n\r\npackage application;\r\n\t\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.stage.Stage;\r\nimport javafx.scene.Group;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.image.Image;\r\nimport javafx.scene.image.ImageView;\r\nimport javafx.scene.layout.BorderPane;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.text.Font;\r\nimport javafx.scene.text.Text;\r\n\r\n\r\npublic class Main extends Application {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t// Launches stage and goes to start.\r\n\t\tlaunch(args);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void start(Stage stage) throws Exception {\r\n\t\t\r\n\t\tParent root = FXMLLoader.load(getClass().getResource(&quot;FXMLHomeScreen.fxml&quot;));\r\n\t\tScene homeScreen = new Scene(root, 1000, 700, Color.BLACK);\r\n\t\tstage.setScene(homeScreen);\r\n\t\tstage.show();\r\n\t}\r\n}\r\n\r\n```\r\n\r\nEDIT: Adding module-info.java as requested.\r\n\r\n```\r\nmodule ResellingManager {\r\n\trequires javafx.controls;\r\n\trequires javafx.graphics;\r\n\t\r\n\topens application to javafx.graphics, javafx.fxml;\r\n}\r\n```","title":"JavaFX Working Except for FXMLLoader Import","body":"<p>When I was searching for a solution I noticed most people's issues was an incorrect installation. I believe my installation is correct as a normal JavaFX project works fine. However, I am not able to import the FXMLLoader or use it in my Java project. All jars have been added to my JavaFX19 user library.</p>\n<p>I am using Eclipse 09-2022, Java 19, JavaFX19.</p>\n<pre><code>Error Message on Import: The type javafx.fxml.FXMLLoader is not accessible\n\n\npackage application;\n    \nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.stage.Stage;\nimport javafx.scene.Group;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.image.Image;\nimport javafx.scene.image.ImageView;\nimport javafx.scene.layout.BorderPane;\nimport javafx.scene.paint.Color;\nimport javafx.scene.text.Font;\nimport javafx.scene.text.Text;\n\n\npublic class Main extends Application {\n    \n    public static void main(String[] args) {\n        // Launches stage and goes to start.\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage stage) throws Exception {\n        \n        Parent root = FXMLLoader.load(getClass().getResource(&quot;FXMLHomeScreen.fxml&quot;));\n        Scene homeScreen = new Scene(root, 1000, 700, Color.BLACK);\n        stage.setScene(homeScreen);\n        stage.show();\n    }\n}\n\n</code></pre>\n<p>EDIT: Adding module-info.java as requested.</p>\n<pre><code>module ResellingManager {\n    requires javafx.controls;\n    requires javafx.graphics;\n    \n    opens application to javafx.graphics, javafx.fxml;\n}\n</code></pre>\n"},{"tags":["java","lambda","functional-programming"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":1,"creation_date":1609351533,"post_id":65511486,"comment_id":115821901,"body_markdown":"If those classes like `A` are not related, you anyway cannot derive a method reference resolving to their implementations of `get()`. The simplest is to make them implement a common interface (the closest being `Supplier&lt;String&gt;`)","body":"If those classes like <code>A</code> are not related, you anyway cannot derive a method reference resolving to their implementations of <code>get()</code>. The simplest is to make them implement a common interface (the closest being <code>Supplier&lt;String&gt;</code>)"},{"owner":{"account_id":1399667,"reputation":347,"user_id":1328673,"accept_rate":22,"display_name":"MS13"},"score":0,"creation_date":1609352772,"post_id":65511486,"comment_id":115822374,"body_markdown":"I get &quot;non static function cannot be referenced from a static context&quot; when I do that. I want to be able to store the function call/name somehow and later apply it for lots of  objects of type A","body":"I get &quot;non static function cannot be referenced from a static context&quot; when I do that. I want to be able to store the function call/name somehow and later apply it for lots of  objects of type A"},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1609352946,"post_id":65511486,"comment_id":115822457,"body_markdown":"Well, you have to sort that out before even asking the question in your post. Without the context and code leading to it, we have no idea what you&#39;re doing wrong (beside guesses)","body":"Well, you have to sort that out before even asking the question in your post. Without the context and code leading to it, we have no idea what you&#39;re doing wrong (beside guesses)"},{"owner":{"account_id":1399667,"reputation":347,"user_id":1328673,"accept_rate":22,"display_name":"MS13"},"score":0,"creation_date":1609353287,"post_id":65511486,"comment_id":115822578,"body_markdown":"this was the context but there is no code so far, this is what I am trying to do but I I dont know how and I expect an idea from you if its even possible","body":"this was the context but there is no code so far, this is what I am trying to do but I I dont know how and I expect an idea from you if its even possible"}],"answers":[{"comments":[{"owner":{"account_id":1399667,"reputation":347,"user_id":1328673,"accept_rate":22,"display_name":"MS13"},"score":0,"creation_date":1609356477,"post_id":65511974,"comment_id":115823842,"body_markdown":"I want to be able to use case: &quot;An Instance Method of an Arbitrary Object of a Particular Type&quot; but for some reason i get that error","body":"I want to be able to use case: &quot;An Instance Method of an Arbitrary Object of a Particular Type&quot; but for some reason i get that error"}],"tags":[],"owner":{"account_id":318746,"reputation":1188,"user_id":636131,"display_name":"Simeon G"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609353585,"creation_date":1609353585,"answer_id":65511974,"question_id":65511486,"body_markdown":"A::get is a [Java Method Reference][1]. You should be able to store it for use later. As it&#39;s an instance method you&#39;ll need the instance object as well. So something like this might work:\r\n\r\n    Function&lt;A,String&gt; getFunction = A::get;\r\n\r\nAnd whenever you need to use it you can do \r\n\r\n    //assuming you have an object instance of A which is a\r\n    getFunction.apply(a)\r\n\r\nYou can also pass it to other methods by declaring the method to take a functional parameter like this:\r\n\r\n    public void someOtherMethod(Function&lt;A,String&gt; param) {\r\n         //do whatever with param.\r\n         //invoke this with an instance of A when you&#39;re ready\r\n         param.apply(a);\r\n    }\r\n\r\nHere&#39;s a reference that might help: https://www.baeldung.com/java-8-double-colon-operator\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html","title":"Calling a lambda function later with different objects/arguments","body":"<p>A::get is a <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow noreferrer\">Java Method Reference</a>. You should be able to store it for use later. As it's an instance method you'll need the instance object as well. So something like this might work:</p>\n<pre><code>Function&lt;A,String&gt; getFunction = A::get;\n</code></pre>\n<p>And whenever you need to use it you can do</p>\n<pre><code>//assuming you have an object instance of A which is a\ngetFunction.apply(a)\n</code></pre>\n<p>You can also pass it to other methods by declaring the method to take a functional parameter like this:</p>\n<pre><code>public void someOtherMethod(Function&lt;A,String&gt; param) {\n     //do whatever with param.\n     //invoke this with an instance of A when you're ready\n     param.apply(a);\n}\n</code></pre>\n<p>Here's a reference that might help: <a href=\"https://www.baeldung.com/java-8-double-colon-operator\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-8-double-colon-operator</a></p>\n"},{"tags":[],"owner":{"account_id":1399667,"reputation":347,"user_id":1328673,"accept_rate":22,"display_name":"MS13"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609361628,"creation_date":1609361628,"answer_id":65513464,"question_id":65511486,"body_markdown":"Made 2 mistakes\r\n\r\n  1. should have used Function&lt;T, R&gt; instead of Supplier&lt;T&gt;\r\n    \r\n  2. the error is thrown even if there is a slight mismatch of parameters even on the generic types. So an example of my function which accepts the Function parameter should be declared like this:\r\n\r\n    public &lt;T extends Base&gt; init (Function &lt;T, String&gt; f){\r\n      this.f = f;\r\n    }\r\n\r\nand later I do something like:\r\n  \r\n\r\n    public String build (A a){\r\n      return this.f.apply(a);\r\n    }\r\n\r\n(so I had to make A, B implement some useless interface)\r\n\r\n","title":"Calling a lambda function later with different objects/arguments","body":"<p>Made 2 mistakes</p>\n<ol>\n<li><p>should have used Function&lt;T, R&gt; instead of Supplier</p>\n</li>\n<li><p>the error is thrown even if there is a slight mismatch of parameters even on the generic types. So an example of my function which accepts the Function parameter should be declared like this:</p>\n</li>\n</ol>\n<pre><code>public &lt;T extends Base&gt; init (Function &lt;T, String&gt; f){\n  this.f = f;\n}\n</code></pre>\n<p>and later I do something like:</p>\n<pre><code>public String build (A a){\n  return this.f.apply(a);\n}\n</code></pre>\n<p>(so I had to make A, B implement some useless interface)</p>\n"}],"owner":{"account_id":1399667,"reputation":347,"user_id":1328673,"accept_rate":22,"display_name":"MS13"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1671218248,"creation_date":1609351223,"question_id":65511486,"body_markdown":"I am a newbie in java functional interfaces so I want to see if this is possible and if not please explain me why not and what is possible in order to achieve my idea\r\n\r\nI have these classes\r\n\r\n    public class A {\r\n    ...\r\n    public String getInfo();\r\n    ...\r\n    }\r\n\r\n    public class B {\r\n    ...\r\n    public String getOtherInfo();\r\n    ...\r\n    }\r\nI want to pass the references to these functions to another object like this:\r\n\r\n    obj.init(A::getInfo)\r\n    obj.init(B::getOtherInfo)\r\n\r\nso that later I can use/call these functions on different objects of type A or B inside the build functions:\r\n\r\n  \r\n    obj.build(a1);\r\n    obj.build(a2);\r\n    ...\r\n    obj.build(b1);\r\n    obj.build(b2);\r\n\r\nPS1 I cannot use regular interfaces for this cause there are lot of getters and lots of classes similar to A which I want to use for this procedure and they are not related with one another\r\n\r\nPS2 I try to avoid reflection cause you cannot trace the function calls\r\n\r\nPS3 my example is not exactly working as is it throws this error: &quot;non static method cannot be referenced from a static context&quot;\r\n","title":"Calling a lambda function later with different objects/arguments","body":"<p>I am a newbie in java functional interfaces so I want to see if this is possible and if not please explain me why not and what is possible in order to achieve my idea</p>\n<p>I have these classes</p>\n<pre><code>public class A {\n...\npublic String getInfo();\n...\n}\n\npublic class B {\n...\npublic String getOtherInfo();\n...\n}\n</code></pre>\n<p>I want to pass the references to these functions to another object like this:</p>\n<pre><code>obj.init(A::getInfo)\nobj.init(B::getOtherInfo)\n</code></pre>\n<p>so that later I can use/call these functions on different objects of type A or B inside the build functions:</p>\n<pre><code>obj.build(a1);\nobj.build(a2);\n...\nobj.build(b1);\nobj.build(b2);\n</code></pre>\n<p>PS1 I cannot use regular interfaces for this cause there are lot of getters and lots of classes similar to A which I want to use for this procedure and they are not related with one another</p>\n<p>PS2 I try to avoid reflection cause you cannot trace the function calls</p>\n<p>PS3 my example is not exactly working as is it throws this error: &quot;non static method cannot be referenced from a static context&quot;</p>\n"},{"tags":["java","spring","spring-boot","unit-testing","junit"],"comments":[{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1671218133,"post_id":74827988,"comment_id":132059579,"body_markdown":"In the test class there are many method. Can you please share which method is not working ?","body":"In the test class there are many method. Can you please share which method is not working ?"},{"owner":{"account_id":18312681,"reputation":11,"user_id":19496254,"display_name":"Murillo N.S"},"score":0,"creation_date":1671499008,"post_id":74827988,"comment_id":132108114,"body_markdown":"It&#39;s whenUpdateThenReturnSuccess method","body":"It&#39;s whenUpdateThenReturnSuccess method"}],"answers":[{"tags":[],"owner":{"account_id":5714353,"reputation":48,"user_id":6038296,"display_name":"Marc Lacharite Laframboise"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671218062,"creation_date":1671218062,"answer_id":74828863,"question_id":74827988,"body_markdown":"I think in your test case whenUpdateThenReturnSuccess(), you forgot to mock the userRepository.findById(id) that you call when updating your user.\r\n\r\nIf not mocked, it returns null.\r\n\r\n    @Test\r\n    void whenUpdateThenReturnSuccess() {\r\n        when(userRepository.findById(anyLong())).thenReturn(optionalUser);\r\n        when(userRepository.saveAndFlush(any(User.class))).thenReturn(user);\r\n\r\n        User response = userServiceImpl.updateUser(1L, user);\r\n\r\n        assertNotNull(response);\r\n        assertEquals(User.class, response.getClass());\r\n    }","title":"User Update Test in the Junit Doesn&#39;t Work","body":"<p>I think in your test case whenUpdateThenReturnSuccess(), you forgot to mock the userRepository.findById(id) that you call when updating your user.</p>\n<p>If not mocked, it returns null.</p>\n<pre><code>@Test\nvoid whenUpdateThenReturnSuccess() {\n    when(userRepository.findById(anyLong())).thenReturn(optionalUser);\n    when(userRepository.saveAndFlush(any(User.class))).thenReturn(user);\n\n    User response = userServiceImpl.updateUser(1L, user);\n\n    assertNotNull(response);\n    assertEquals(User.class, response.getClass());\n}\n</code></pre>\n"}],"owner":{"account_id":18312681,"reputation":11,"user_id":19496254,"display_name":"Murillo N.S"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671218062,"creation_date":1671212414,"question_id":74827988,"body_markdown":"I&#39;m trying make a test to Update User method that first get a User by id and after update the user , work it, but when I try to make a test in the Junit show me that couldn&#39;t find the user by Id. Can anyone help me, please?\r\n\r\n**UserClass**\r\n```\r\npackage br.com.projectsmanagement.entities;\r\n\r\nimport java.util.Date;\r\nimport java.util.Objects;\r\n\r\nimport jakarta.persistence.*;\r\n\r\n@Entity\r\n@Table(name = &quot;tb_users&quot;)\r\npublic class User {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Long id;\r\n\tprivate String name;\r\n\tprivate String email;\r\n\tprivate String password;\r\n\t@Temporal(TemporalType.TIMESTAMP)\r\n\tprivate Date dataCadastro;\r\n\r\n\tpublic User() {\r\n\t}\r\n\r\n\tpublic User(String name, String email, String password, Date dataCadastro) {\r\n\t\tthis.name = name;\r\n\t\tthis.email = email;\r\n\t\tthis.password = password;\r\n\t\tthis.dataCadastro = dataCadastro;\r\n\t}\r\n\r\n\tpublic Long getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(Long id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n\tpublic String getEmail() {\r\n\t\treturn email;\r\n\t}\r\n\r\n\tpublic void setEmail(String email) {\r\n\t\tthis.email = email;\r\n\t}\r\n\r\n\tpublic String getPassword() {\r\n\t\treturn password;\r\n\t}\r\n\r\n\tpublic void setPassword(String password) {\r\n\t\tthis.password = password;\r\n\t}\r\n\r\n\tpublic Date getDataCadastro() {\r\n\t\treturn dataCadastro;\r\n\t}\r\n\r\n\tpublic void setDataCadastro(Date dataCadastro) {\r\n\t\tthis.dataCadastro = dataCadastro;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int hashCode() {\r\n\t\treturn Objects.hash(id);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean equals(Object obj) {\r\n\t\tif (this == obj)\r\n\t\t\treturn true;\r\n\t\tif (obj == null)\r\n\t\t\treturn false;\r\n\t\tif (getClass() != obj.getClass())\r\n\t\t\treturn false;\r\n\t\tUser other = (User) obj;\r\n\t\treturn Objects.equals(id, other.id);\r\n\t}\r\n}\r\n```\r\n\r\n\r\n**UserServiceImpl**\r\n```\r\n@Override\r\n\tpublic User updateUser(Long id, User user) {\r\n\t\ttry {\r\n\t\t\tUser userUpdated = userRepository.findById(id).get();\r\n\t\t\tuserUpdated.setName(user.getName());\r\n\t\t\tuserUpdated.setPassword(user.getPassword());\r\n\t\t\treturn userRepository.saveAndFlush(userUpdated);\r\n\t\t} catch (NoSuchElementException e) {\r\n\t\t\tthrow new InvalidIdException(&quot;Usu&#225;rio n&#227;o encontrado!&quot;);\r\n\t\t}\r\n\t}\r\n```\r\n\r\nAnd finally my **UserServiceImplTest**\r\n```\r\npackage br.com.projectsmanagement.services.impl;\r\n\r\nimport static org.assertj.core.api.Assertions.assertThat;\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\nimport static org.junit.jupiter.api.Assertions.assertNotNull;\r\nimport static org.junit.jupiter.api.Assertions.fail;\r\nimport static org.mockito.ArgumentMatchers.any;\r\nimport static org.mockito.ArgumentMatchers.anyLong;\r\nimport static org.mockito.ArgumentMatchers.anyString;\r\nimport static org.mockito.Mockito.when;\r\n\r\nimport java.util.Date;\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.mockito.InjectMocks;\r\nimport org.mockito.Mock;\r\nimport org.mockito.MockitoAnnotations;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\n\r\nimport br.com.projectsmanagement.entities.User;\r\nimport br.com.projectsmanagement.exception.EmailExistException;\r\nimport br.com.projectsmanagement.repositories.UserRepository;\r\n\r\n@SpringBootTest\r\nclass UserServiceImplTest {\r\n\t@InjectMocks\r\n\tprivate UserServiceImpl userServiceImpl;\r\n\r\n\t@Mock\r\n\tprivate UserRepository userRepository;\r\n\r\n\tprivate User user;\r\n\tprivate Optional&lt;User&gt; optionalUser;\r\n\r\n\t@BeforeEach\r\n\tvoid setUp() {\r\n\t\tMockitoAnnotations.openMocks(this);\r\n\t\tstartUser();\r\n\t}\r\n\r\n\t@Test\r\n\tvoid whenFindAllThenReturnAnListofUsers() {\r\n\t\twhen(userRepository.findAll()).thenReturn(List.of(user));\r\n\r\n\t\tList&lt;User&gt; response = userServiceImpl.listUsers();\r\n\r\n\t\tassertNotNull(response);\r\n\t\tassertEquals(1, response.size());\r\n\t\tassertEquals(User.class, response.get(0).getClass());\r\n\t}\r\n\r\n\t@Test\r\n\tvoid whenFindByIdThenReturnAnUserInstance() {\r\n\t\twhen(userRepository.findById(anyLong())).thenReturn(optionalUser);\r\n\r\n\t\tOptional&lt;User&gt; response = userServiceImpl.getUserById(1L);\r\n\r\n\t\tassertThat(response).isPresent();\r\n\t\tassertEquals(optionalUser.getClass(), response.getClass());\r\n\t\tassertEquals(optionalUser.get().getName(), &quot;Valdir&quot;);\r\n\t}\r\n\r\n\t@Test\r\n\tvoid whenRegisterThenReturnSuccess() {\r\n\t\twhen(userRepository.saveAndFlush(any())).thenReturn(user);\r\n\r\n\t\tUser response = userServiceImpl.registerUser(user);\r\n\r\n\t\tassertNotNull(response);\r\n\t\tassertEquals(User.class, response.getClass());\r\n\t\tassertEquals(user.getId(), response.getId());\r\n\t}\r\n\r\n\t@Test\r\n\tvoid whenRegisterThenReturnAnEmailExistException() {\r\n\t\twhen(userRepository.findByEmail(anyString())).thenReturn(user);\r\n\r\n\t\ttry {\r\n\t\t\tuserServiceImpl.registerUser(user);\r\n\t\t} catch (ClassCastException e) {\r\n\t\t\tassertEquals(EmailExistException.class, e.getClass());\r\n\t\t\tassertEquals(&quot;Esse e-mail j&#225; est&#225; cadastrado!&quot;, e.getMessage());\r\n\t\t}\r\n\r\n\t\tUser response = userServiceImpl.registerUser(user);\r\n\r\n\t\tassertNotNull(response);\r\n\t\tassertEquals(User.class, response.getClass());\r\n\t\tassertEquals(user.getId(), response.getId());\r\n\t}\r\n\r\n\t@Test\r\n\tvoid whenUpdateThenReturnSuccess() {\r\n\t\twhen(userRepository.saveAndFlush(any())).thenReturn(user);\r\n\r\n\t\tUser response = userServiceImpl.updateUser(1L, user);\r\n\r\n\t\tassertNotNull(response);\r\n\t\tassertEquals(User.class, response.getClass());\r\n\t}\r\n\r\n\t@Test\r\n\tvoid testDeleteUser() {\r\n\t\tfail(&quot;Not yet implemented&quot;);\r\n\t}\r\n\r\n\tprivate void startUser() {\r\n\t\tuser = new User(&quot;Valdir&quot;, &quot;valdir@gmail.com&quot;, &quot;123456&quot;, new Date());\r\n\t\toptionalUser = Optional.of(new User(&quot;Valdir&quot;, &quot;valdir@gmail.com&quot;, &quot;123456&quot;, new Date()));\r\n\t}\r\n}\r\n```\r\n\r\n\r\nI modified my class many times, but even doesn&#39;t work it","title":"User Update Test in the Junit Doesn&#39;t Work","body":"<p>I'm trying make a test to Update User method that first get a User by id and after update the user , work it, but when I try to make a test in the Junit show me that couldn't find the user by Id. Can anyone help me, please?</p>\n<p><strong>UserClass</strong></p>\n<pre><code>package br.com.projectsmanagement.entities;\n\nimport java.util.Date;\nimport java.util.Objects;\n\nimport jakarta.persistence.*;\n\n@Entity\n@Table(name = &quot;tb_users&quot;)\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n    private String email;\n    private String password;\n    @Temporal(TemporalType.TIMESTAMP)\n    private Date dataCadastro;\n\n    public User() {\n    }\n\n    public User(String name, String email, String password, Date dataCadastro) {\n        this.name = name;\n        this.email = email;\n        this.password = password;\n        this.dataCadastro = dataCadastro;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public Date getDataCadastro() {\n        return dataCadastro;\n    }\n\n    public void setDataCadastro(Date dataCadastro) {\n        this.dataCadastro = dataCadastro;\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(id);\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (this == obj)\n            return true;\n        if (obj == null)\n            return false;\n        if (getClass() != obj.getClass())\n            return false;\n        User other = (User) obj;\n        return Objects.equals(id, other.id);\n    }\n}\n</code></pre>\n<p><strong>UserServiceImpl</strong></p>\n<pre><code>@Override\n    public User updateUser(Long id, User user) {\n        try {\n            User userUpdated = userRepository.findById(id).get();\n            userUpdated.setName(user.getName());\n            userUpdated.setPassword(user.getPassword());\n            return userRepository.saveAndFlush(userUpdated);\n        } catch (NoSuchElementException e) {\n            throw new InvalidIdException(&quot;Usuário não encontrado!&quot;);\n        }\n    }\n</code></pre>\n<p>And finally my <strong>UserServiceImplTest</strong></p>\n<pre><code>package br.com.projectsmanagement.services.impl;\n\nimport static org.assertj.core.api.Assertions.assertThat;\nimport static org.junit.jupiter.api.Assertions.assertEquals;\nimport static org.junit.jupiter.api.Assertions.assertNotNull;\nimport static org.junit.jupiter.api.Assertions.fail;\nimport static org.mockito.ArgumentMatchers.any;\nimport static org.mockito.ArgumentMatchers.anyLong;\nimport static org.mockito.ArgumentMatchers.anyString;\nimport static org.mockito.Mockito.when;\n\nimport java.util.Date;\nimport java.util.List;\nimport java.util.Optional;\n\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.mockito.MockitoAnnotations;\nimport org.springframework.boot.test.context.SpringBootTest;\n\nimport br.com.projectsmanagement.entities.User;\nimport br.com.projectsmanagement.exception.EmailExistException;\nimport br.com.projectsmanagement.repositories.UserRepository;\n\n@SpringBootTest\nclass UserServiceImplTest {\n    @InjectMocks\n    private UserServiceImpl userServiceImpl;\n\n    @Mock\n    private UserRepository userRepository;\n\n    private User user;\n    private Optional&lt;User&gt; optionalUser;\n\n    @BeforeEach\n    void setUp() {\n        MockitoAnnotations.openMocks(this);\n        startUser();\n    }\n\n    @Test\n    void whenFindAllThenReturnAnListofUsers() {\n        when(userRepository.findAll()).thenReturn(List.of(user));\n\n        List&lt;User&gt; response = userServiceImpl.listUsers();\n\n        assertNotNull(response);\n        assertEquals(1, response.size());\n        assertEquals(User.class, response.get(0).getClass());\n    }\n\n    @Test\n    void whenFindByIdThenReturnAnUserInstance() {\n        when(userRepository.findById(anyLong())).thenReturn(optionalUser);\n\n        Optional&lt;User&gt; response = userServiceImpl.getUserById(1L);\n\n        assertThat(response).isPresent();\n        assertEquals(optionalUser.getClass(), response.getClass());\n        assertEquals(optionalUser.get().getName(), &quot;Valdir&quot;);\n    }\n\n    @Test\n    void whenRegisterThenReturnSuccess() {\n        when(userRepository.saveAndFlush(any())).thenReturn(user);\n\n        User response = userServiceImpl.registerUser(user);\n\n        assertNotNull(response);\n        assertEquals(User.class, response.getClass());\n        assertEquals(user.getId(), response.getId());\n    }\n\n    @Test\n    void whenRegisterThenReturnAnEmailExistException() {\n        when(userRepository.findByEmail(anyString())).thenReturn(user);\n\n        try {\n            userServiceImpl.registerUser(user);\n        } catch (ClassCastException e) {\n            assertEquals(EmailExistException.class, e.getClass());\n            assertEquals(&quot;Esse e-mail já está cadastrado!&quot;, e.getMessage());\n        }\n\n        User response = userServiceImpl.registerUser(user);\n\n        assertNotNull(response);\n        assertEquals(User.class, response.getClass());\n        assertEquals(user.getId(), response.getId());\n    }\n\n    @Test\n    void whenUpdateThenReturnSuccess() {\n        when(userRepository.saveAndFlush(any())).thenReturn(user);\n\n        User response = userServiceImpl.updateUser(1L, user);\n\n        assertNotNull(response);\n        assertEquals(User.class, response.getClass());\n    }\n\n    @Test\n    void testDeleteUser() {\n        fail(&quot;Not yet implemented&quot;);\n    }\n\n    private void startUser() {\n        user = new User(&quot;Valdir&quot;, &quot;valdir@gmail.com&quot;, &quot;123456&quot;, new Date());\n        optionalUser = Optional.of(new User(&quot;Valdir&quot;, &quot;valdir@gmail.com&quot;, &quot;123456&quot;, new Date()));\n    }\n}\n</code></pre>\n<p>I modified my class many times, but even doesn't work it</p>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-s3","telegram"],"comments":[{"owner":{"account_id":1918407,"reputation":7287,"user_id":1730461,"accept_rate":57,"display_name":"Tomanow"},"score":1,"creation_date":1671235503,"post_id":74828817,"comment_id":132063216,"body_markdown":"How does the app authenticate with telegram? If it&#39;s doing token requests it could add some overhead. Otherwise, that number makes sense given you could see 2880 per day if running a request every 30 seconds.","body":"How does the app authenticate with telegram? If it&#39;s doing token requests it could add some overhead. Otherwise, that number makes sense given you could see 2880 per day if running a request every 30 seconds."},{"owner":{"account_id":12148272,"reputation":923,"user_id":8869640,"display_name":"Roman Shmandrovskyi"},"score":0,"creation_date":1671276802,"post_id":74828817,"comment_id":132067550,"body_markdown":"@Tomanow, yes, it makes 2880 requests per day, but it GET requests only, not the Put, Copy, Post or List Requests","body":"@Tomanow, yes, it makes 2880 requests per day, but it GET requests only, not the Put, Copy, Post or List Requests"}],"owner":{"account_id":12148272,"reputation":923,"user_id":8869640,"display_name":"Roman Shmandrovskyi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671217735,"creation_date":1671217735,"question_id":74828817,"body_markdown":"I&#39;m from Ukraine! As you know, we have difficult situation with electricity now, so I created a bot for Telegram, that check is the electricity on or off in our house. Bot written on Java + Spring Boot + Hibernate (with MySQL, store some data when electricity become off or on).\r\n\r\nUsed the most popular API for telegram bots on Java [org.telegrambots][1], it [spring-boot-starter][2] particularly TelegramLongPollingBot implementation.\r\n\r\nI deployed code on AWS on ElasticBeanstalk. Database also stored on AWS RDS (without making backups). Use it Free tire account.\r\n\r\nWhat actually bot do - it has scheduled Spring task (java function), that executes ones  per 30 seconds in next way:\r\n\r\n 1. Firstly it call some service (that can provide info about electricity in my house) using simple HTTP GET request - actual result;\r\n 2. Then it call DataBase to get last row with data about electricity - last remembered result;\r\n 3. If actual result is the same as last remembered, function end it execution and wait 30 seconds more. And repeat all.\r\n 4. Else it will send appropriate message to telegram chat (electricity off/on) and store new row in DB. This case works twice a day.\r\n\r\nThat&#39;s all a bot do.\r\n\r\nSorry for all this text, hope it needed.  \r\nNow my question: today I got email from AWS that I exceeded 85% of the usage limit for one or more AWS Free Tier-eligible services for the month of December.[![enter image description here][3]][3]\r\n\r\nWhat actually are those **2,000 Put, Copy, Post or List Requests**? Maybe telegram API make some requests on background or what...  \r\nHas anybody problems like this? And how to reduce this calls?\r\n\r\nThanks!\r\n\r\n\r\n  [1]: https://github.com/rubenlagus/TelegramBots\r\n  [2]: https://github.com/rubenlagus/TelegramBots/tree/master/telegrambots-spring-boot-starter\r\n  [3]: https://i.stack.imgur.com/20Fgf.png","title":"Telegram long polling bot on AWS on Java","body":"<p>I'm from Ukraine! As you know, we have difficult situation with electricity now, so I created a bot for Telegram, that check is the electricity on or off in our house. Bot written on Java + Spring Boot + Hibernate (with MySQL, store some data when electricity become off or on).</p>\n<p>Used the most popular API for telegram bots on Java <a href=\"https://github.com/rubenlagus/TelegramBots\" rel=\"nofollow noreferrer\">org.telegrambots</a>, it <a href=\"https://github.com/rubenlagus/TelegramBots/tree/master/telegrambots-spring-boot-starter\" rel=\"nofollow noreferrer\">spring-boot-starter</a> particularly TelegramLongPollingBot implementation.</p>\n<p>I deployed code on AWS on ElasticBeanstalk. Database also stored on AWS RDS (without making backups). Use it Free tire account.</p>\n<p>What actually bot do - it has scheduled Spring task (java function), that executes ones  per 30 seconds in next way:</p>\n<ol>\n<li>Firstly it call some service (that can provide info about electricity in my house) using simple HTTP GET request - actual result;</li>\n<li>Then it call DataBase to get last row with data about electricity - last remembered result;</li>\n<li>If actual result is the same as last remembered, function end it execution and wait 30 seconds more. And repeat all.</li>\n<li>Else it will send appropriate message to telegram chat (electricity off/on) and store new row in DB. This case works twice a day.</li>\n</ol>\n<p>That's all a bot do.</p>\n<p>Sorry for all this text, hope it needed.<br />\nNow my question: today I got email from AWS that I exceeded 85% of the usage limit for one or more AWS Free Tier-eligible services for the month of December.<a href=\"https://i.stack.imgur.com/20Fgf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/20Fgf.png\" alt=\"enter image description here\" /></a></p>\n<p>What actually are those <strong>2,000 Put, Copy, Post or List Requests</strong>? Maybe telegram API make some requests on background or what...<br />\nHas anybody problems like this? And how to reduce this calls?</p>\n<p>Thanks!</p>\n"},{"tags":["java","spring","spring-mvc","freemarker"],"comments":[{"owner":{"account_id":6932710,"reputation":3956,"user_id":5321729,"accept_rate":67,"display_name":"Ajit Soman"},"score":0,"creation_date":1504959036,"post_id":46128893,"comment_id":79223173,"body_markdown":"Did you got any exception? . If you have received email inspect `img` tag value","body":"Did you got any exception? . If you have received email inspect <code>img</code> tag value"},{"owner":{"account_id":3197891,"reputation":157,"user_id":2700673,"accept_rate":47,"display_name":"The Old County"},"score":0,"creation_date":1504960142,"post_id":46128893,"comment_id":79223492,"body_markdown":"-- well the email image - just goes to a 404 path - that&#39;s my bug -- a friend gave me some sample code - I will try and revise it later today and see if it goes somewhere","body":"-- well the email image - just goes to a 404 path - that&#39;s my bug -- a friend gave me some sample code - I will try and revise it later today and see if it goes somewhere"}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1671458080,"post_id":74828693,"comment_id":132096944,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74828693/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":4098458,"reputation":1,"user_id":3364620,"display_name":"user3364620"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671216974,"creation_date":1671216974,"answer_id":74828693,"question_id":46128893,"body_markdown":"I also had same kind of issue of not able to insert the images into the freemarker template.\r\n\r\nI followed the example mentioned [here][1]\r\n\r\nNow able to add the images with this approach.\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#mail-javamail-mime-attachments-inline","title":"Freemarker templates unable to gain access to images - Java Spring Boot","body":"<p>I also had same kind of issue of not able to insert the images into the freemarker template.</p>\n<p>I followed the example mentioned <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#mail-javamail-mime-attachments-inline\" rel=\"nofollow noreferrer\">here</a></p>\n<p>Now able to add the images with this approach.</p>\n"}],"owner":{"account_id":3197891,"reputation":157,"user_id":2700673,"accept_rate":47,"display_name":"The Old County"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1051,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671216974,"creation_date":1504947310,"question_id":46128893,"body_markdown":"I am trying to gain access for images on an email template. I&#39;ve tried following this guide.\r\nhttps://stackoverflow.com/questions/36768656/spring-refering-the-resources-static-folder and this https://stackoverflow.com/questions/25061237/spring-4-addresourcehandlers-not-resolving-the-static-resources\r\n\r\n\r\n [![enter image description here][1]][1]\r\n\r\n\r\nI am storing the templates in this location\r\n\r\n    my-project\\complete\\src\\main\\resources\\templates\r\n\r\n    http://localhost:8080/static/templates/forgotemail/images/bottompodmiddleb.jpg\r\n^ I want to gain access to this image -- I have a reactjs build and I am unsure if the reactjs routing is interfering with this.\r\n\r\nI have access to this image for example.\r\n\r\n    http://localhost:8080/static/media/-bach.4f9c4b25.jpg\r\n\r\nI create a configuration class -but I am unsure if I need to invoke it or what.\r\n\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.web.servlet.config.annotation.ResourceHandlerRegistration;\r\n    import org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;\r\n    import org.springframework.web.servlet.config.annotation.WebMvcConfigurerAdapter;\r\n    \r\n    \r\n    //@Configuration\r\n    @ComponentScan(&quot;Application&quot;)\r\n    public class Configuration extends WebMvcConfigurerAdapter {\r\n         public void addResourceHandlers(ResourceHandlerRegistry registry) {  \r\n            // I tried these many combinations separately.\r\n    \r\n            ResourceHandlerRegistration resourceRegistration = registry\r\n                .addResourceHandler(&quot;resources/**&quot;);\r\n            resourceRegistration.addResourceLocations(&quot;/resources/**&quot;);\r\n            registry.addResourceHandler(&quot;/templates/**&quot;).addResourceLocations(&quot;/templates/**&quot;);\r\n            //registry.addResourceHandler(&quot;/img/**&quot;).addResourceLocations(&quot;/img/**&quot;);\r\n            //registry.addResourceHandler(&quot;/js/**&quot;).addResourceLocations(&quot;/js/**&quot;);\r\n            registry.addResourceHandler(&quot;/resources/**&quot;)\r\n                    .addResourceLocations(&quot;classpath:/resources/&quot;); \r\n                  // do the classpath works with the directory under webapp?\r\n         }\r\n    \r\n    }\r\n \r\n\r\nhere is the code that launches the email. &quot;fmConfiguration.getTemplate(&quot;email-template.html&quot;)&quot; appears to get access to the html email.\r\n\r\n\r\n    public void sendEmail(JSONObject model, JavaMailSender mailSender, Configuration fmConfiguration) throws Exception{\r\n    \tSystem.out.println(&quot;type&gt;&gt;&gt;&quot;+model);\r\n    \tSystem.out.println(&quot;mailSender&quot;+ mailSender);\r\n    \r\n    \tif(mailSender != null){\r\n        \t\r\n            try {\r\n                MimeMessage mimeMessage = mailSender.createMimeMessage();\r\n                System.out.println(&quot;mimeMessage &gt;&gt;&gt;&quot;+ mimeMessage);\r\n                \r\n                MimeMessageHelper mimeMessageHelper = new MimeMessageHelper(mimeMessage, true);\r\n     \r\n                mimeMessageHelper.setSubject(&quot;Hi&quot;);\r\n                mimeMessageHelper.setFrom(&quot;test2@gmail.com&quot;);\r\n                mimeMessageHelper.setTo(&quot;test@gmail.com&quot;);\r\n                \r\n                //Map &lt; String, Object &gt; model = new HashMap &lt; String, Object &gt; ();\r\n                model.put(&quot;firstName&quot;, &quot;Yashwant&quot;);\r\n                model.put(&quot;lastName&quot;, &quot;Chavan&quot;);\r\n                model.put(&quot;imgPath&quot;, &quot;resources/static/images/&quot;);\r\n                \r\n                mimeMessageHelper.setText(geContentFromTemplate(fmConfiguration, model), true);\r\n     \r\n                mailSender.send(mimeMessageHelper.getMimeMessage());\r\n            } catch (MessagingException e) {\r\n            \tSystem.out.println(&quot;ERROR - mimeMessage&gt;&gt;&gt;&quot;);\r\n                e.printStackTrace();\r\n            }        \r\n    \t}\r\n        \r\n    }\r\n    \r\n    public String geContentFromTemplate(Configuration fmConfiguration, Map &lt; String, Object &gt; model) {\r\n        StringBuffer content = new StringBuffer();\r\n     \r\n        try {\r\n            content.append(FreeMarkerTemplateUtils\r\n                .processTemplateIntoString(fmConfiguration.getTemplate(&quot;email-template.html&quot;), model));\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return content.toString();\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gVOBw.png","title":"Freemarker templates unable to gain access to images - Java Spring Boot","body":"<p>I am trying to gain access for images on an email template. I've tried following this guide.\n<a href=\"https://stackoverflow.com/questions/36768656/spring-refering-the-resources-static-folder\">Spring: refering the resources/static folder</a> and this <a href=\"https://stackoverflow.com/questions/25061237/spring-4-addresourcehandlers-not-resolving-the-static-resources\">Spring 4 - addResourceHandlers not resolving the static resources</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/gVOBw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gVOBw.png\" alt=\"enter image description here\"></a></p>\n\n<p>I am storing the templates in this location</p>\n\n<pre><code>my-project\\complete\\src\\main\\resources\\templates\n\nhttp://localhost:8080/static/templates/forgotemail/images/bottompodmiddleb.jpg\n</code></pre>\n\n<p>^ I want to gain access to this image -- I have a reactjs build and I am unsure if the reactjs routing is interfering with this.</p>\n\n<p>I have access to this image for example.</p>\n\n<pre><code>http://localhost:8080/static/media/-bach.4f9c4b25.jpg\n</code></pre>\n\n<p>I create a configuration class -but I am unsure if I need to invoke it or what.</p>\n\n<pre><code>import org.springframework.context.annotation.ComponentScan;\nimport org.springframework.web.servlet.config.annotation.ResourceHandlerRegistration;\nimport org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurerAdapter;\n\n\n//@Configuration\n@ComponentScan(\"Application\")\npublic class Configuration extends WebMvcConfigurerAdapter {\n     public void addResourceHandlers(ResourceHandlerRegistry registry) {  \n        // I tried these many combinations separately.\n\n        ResourceHandlerRegistration resourceRegistration = registry\n            .addResourceHandler(\"resources/**\");\n        resourceRegistration.addResourceLocations(\"/resources/**\");\n        registry.addResourceHandler(\"/templates/**\").addResourceLocations(\"/templates/**\");\n        //registry.addResourceHandler(\"/img/**\").addResourceLocations(\"/img/**\");\n        //registry.addResourceHandler(\"/js/**\").addResourceLocations(\"/js/**\");\n        registry.addResourceHandler(\"/resources/**\")\n                .addResourceLocations(\"classpath:/resources/\"); \n              // do the classpath works with the directory under webapp?\n     }\n\n}\n</code></pre>\n\n<p>here is the code that launches the email. \"fmConfiguration.getTemplate(\"email-template.html\")\" appears to get access to the html email.</p>\n\n<pre><code>public void sendEmail(JSONObject model, JavaMailSender mailSender, Configuration fmConfiguration) throws Exception{\n    System.out.println(\"type&gt;&gt;&gt;\"+model);\n    System.out.println(\"mailSender\"+ mailSender);\n\n    if(mailSender != null){\n\n        try {\n            MimeMessage mimeMessage = mailSender.createMimeMessage();\n            System.out.println(\"mimeMessage &gt;&gt;&gt;\"+ mimeMessage);\n\n            MimeMessageHelper mimeMessageHelper = new MimeMessageHelper(mimeMessage, true);\n\n            mimeMessageHelper.setSubject(\"Hi\");\n            mimeMessageHelper.setFrom(\"test2@gmail.com\");\n            mimeMessageHelper.setTo(\"test@gmail.com\");\n\n            //Map &lt; String, Object &gt; model = new HashMap &lt; String, Object &gt; ();\n            model.put(\"firstName\", \"Yashwant\");\n            model.put(\"lastName\", \"Chavan\");\n            model.put(\"imgPath\", \"resources/static/images/\");\n\n            mimeMessageHelper.setText(geContentFromTemplate(fmConfiguration, model), true);\n\n            mailSender.send(mimeMessageHelper.getMimeMessage());\n        } catch (MessagingException e) {\n            System.out.println(\"ERROR - mimeMessage&gt;&gt;&gt;\");\n            e.printStackTrace();\n        }        \n    }\n\n}\n\npublic String geContentFromTemplate(Configuration fmConfiguration, Map &lt; String, Object &gt; model) {\n    StringBuffer content = new StringBuffer();\n\n    try {\n        content.append(FreeMarkerTemplateUtils\n            .processTemplateIntoString(fmConfiguration.getTemplate(\"email-template.html\"), model));\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return content.toString();\n}\n</code></pre>\n"},{"tags":["java","arrays","data-structures","java-8"],"comments":[{"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":0,"creation_date":1670584074,"post_id":74741764,"comment_id":131912958,"body_markdown":"This type of problems are purposed to enhance your own programming skills. What&#39;s the point if you are asking for complete solution without trying it yourself? If it&#39;s your homework then StackOverflow is a wrong choice to ask at.","body":"This type of problems are purposed to enhance your own programming skills. What&#39;s the point if you are asking for complete solution without trying it yourself? If it&#39;s your homework then StackOverflow is a wrong choice to ask at."},{"owner":{"account_id":9206845,"reputation":31,"user_id":13734449,"display_name":"user13734449"},"score":0,"creation_date":1670584932,"post_id":74741764,"comment_id":131913203,"body_markdown":"not homework, but a competitive coding interview question. I could not do it, so thought to ask how one should approach it.","body":"not homework, but a competitive coding interview question. I could not do it, so thought to ask how one should approach it."}],"answers":[{"tags":[],"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671216791,"creation_date":1671216791,"answer_id":74828675,"question_id":74741764,"body_markdown":"Conceptually, here&#39;s what you can think of doing:\r\n\r\n1. Create an array &quot;`signums`&quot; of length `arr.length - 1` which holds the [signum](https://en.wikipedia.org/wiki/Sign_function) of the differences between consecutive values in `arr`.\r\n\r\n2. Loop over `signums`, and any time the last non-zero signum value is not the same as the current non-zero signum value, take note of the absolute value of the difference between the corresponding original inputs in `arr`. Keep track of the largest absolute difference.\r\n\r\n3. Return the largest absolute difference.\r\n\r\nBut you can factor out the intermediate step of creating the signum array. Try to think of how.","title":"Largest Single Movement in Array","body":"<p>Conceptually, here's what you can think of doing:</p>\n<ol>\n<li><p>Create an array &quot;<code>signums</code>&quot; of length <code>arr.length - 1</code> which holds the <a href=\"https://en.wikipedia.org/wiki/Sign_function\" rel=\"nofollow noreferrer\">signum</a> of the differences between consecutive values in <code>arr</code>.</p>\n</li>\n<li><p>Loop over <code>signums</code>, and any time the last non-zero signum value is not the same as the current non-zero signum value, take note of the absolute value of the difference between the corresponding original inputs in <code>arr</code>. Keep track of the largest absolute difference.</p>\n</li>\n<li><p>Return the largest absolute difference.</p>\n</li>\n</ol>\n<p>But you can factor out the intermediate step of creating the signum array. Try to think of how.</p>\n"}],"owner":{"account_id":9206845,"reputation":31,"user_id":13734449,"display_name":"user13734449"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1671216791,"creation_date":1670581426,"question_id":74741764,"body_markdown":"The poles that hold our devices can sway a bit in the wind. Suppose we track the amount a pole has swayed over time as a sequence of values, where each value corresponds to degrees of tilt in one dimension taken at uniform time intervals. For example, [-1, 0, 1] would indicate 1 degree of tilt to the left at t=0 0 degrees of tilt (vertical) at t=1 1 degree of tilt to the right at t=2. \r\n\r\nNow write a function that will determine the largest single movement in degrees the device made from one direction to another given a sequence of tilt values. \r\n\r\n&gt; For example, given the input: [1, 0, -1, 2, 3, 1] \r\n&gt; The function should output: \r\n&gt; {“t2”: &quot;-1,&quot; “t4”: 3}\r\n&gt;  \r\nExplanation: The device swayed right to left 2 degrees from t0 to t2, left to right 4 degrees from t2 to t4, and right to left 2 degrees from t4 to t5. The largest single movement was left to right 4 degrees from t=2 to t=4. Explain the time and space complexity of your function. \r\n\r\nWas not able to code it, not sure, what approach is best suited for this sort of question.Can you please help.\r\n\r\n```\r\nstatic int[] largestSingleMovement(int arr[]){\r\nint x = arr.length;\r\n\r\n\r\n\r\n\r\n}\r\n```\r\n\r\n","title":"Largest Single Movement in Array","body":"<p>The poles that hold our devices can sway a bit in the wind. Suppose we track the amount a pole has swayed over time as a sequence of values, where each value corresponds to degrees of tilt in one dimension taken at uniform time intervals. For example, [-1, 0, 1] would indicate 1 degree of tilt to the left at t=0 0 degrees of tilt (vertical) at t=1 1 degree of tilt to the right at t=2.</p>\n<p>Now write a function that will determine the largest single movement in degrees the device made from one direction to another given a sequence of tilt values.</p>\n<blockquote>\n<p>For example, given the input: [1, 0, -1, 2, 3, 1]\nThe function should output:\n{“t2”: &quot;-1,&quot; “t4”: 3}</p>\n</blockquote>\n<p>Explanation: The device swayed right to left 2 degrees from t0 to t2, left to right 4 degrees from t2 to t4, and right to left 2 degrees from t4 to t5. The largest single movement was left to right 4 degrees from t=2 to t=4. Explain the time and space complexity of your function.</p>\n<p>Was not able to code it, not sure, what approach is best suited for this sort of question.Can you please help.</p>\n<pre><code>static int[] largestSingleMovement(int arr[]){\nint x = arr.length;\n\n\n\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1664441077,"post_id":73892406,"comment_id":130473928,"body_markdown":"Have you tried removing the `@EnableWebSecurity` annotation?","body":"Have you tried removing the <code>@EnableWebSecurity</code> annotation?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1664441079,"post_id":73892406,"comment_id":130473929,"body_markdown":"`SpringSecurityConfiguration` missing `@Configuration`! (In post only..or indeed?:) (Yes, EnableWebSecurity is (only) documented with `@Configuration`..)","body":"<code>SpringSecurityConfiguration</code> missing <code>@Configuration</code>! (In post only..or indeed?:) (Yes, EnableWebSecurity is (only) documented with <code>@Configuration</code>..)"},{"owner":{"account_id":2544073,"reputation":359,"user_id":2209264,"accept_rate":85,"display_name":"Antonio E."},"score":0,"creation_date":1664458508,"post_id":73892406,"comment_id":130480290,"body_markdown":"@grekier didn&#39;t work.","body":"@grekier didn&#39;t work."},{"owner":{"account_id":2544073,"reputation":359,"user_id":2209264,"accept_rate":85,"display_name":"Antonio E."},"score":1,"creation_date":1664458575,"post_id":73892406,"comment_id":130480321,"body_markdown":"@xerx593  Isn&#39;t it included inside @EnableWebSecurity?","body":"@xerx593  Isn&#39;t it included inside @EnableWebSecurity?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1664459421,"post_id":73892406,"comment_id":130480691,"body_markdown":"Nope, it isn&#39;t.https://github.com/spring-projects/spring-security/blob/main/config/src/main/java/org/springframework/security/config/annotation/web/configuration/EnableWebSecurity.java and javadoc clearly states: &quot;add this annotation to...&quot;","body":"Nope, it isn&#39;t.<a href=\"https://github.com/spring-projects/spring-security/blob/main/config/src/main/java/org/springframework/security/config/annotation/web/configuration/EnableWebSecurity.java\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-security/blob/main/c&zwnj;&#8203;onfig/src/&hellip;</a> and javadoc clearly states: &quot;add this annotation to...&quot;"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1664459551,"post_id":73892406,"comment_id":130480756,"body_markdown":"It imports configurations (for this to work, it should be a configuration), but it is none implicitly..","body":"It imports configurations (for this to work, it should be a configuration), but it is none implicitly.."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1664459809,"post_id":73892406,"comment_id":130480875,"body_markdown":"..and since it is (among others) HttpSecurityConfiguration, which should be/failed to import, the error message becomes more comprehendable","body":"..and since it is (among others) HttpSecurityConfiguration, which should be/failed to import, the error message becomes more comprehendable"},{"owner":{"account_id":2544073,"reputation":359,"user_id":2209264,"accept_rate":85,"display_name":"Antonio E."},"score":0,"creation_date":1664461906,"post_id":73892406,"comment_id":130481816,"body_markdown":"By the way I was trying to solve this with and without the @Configuration the basis of the problem was the one explained in the 2 first answers.","body":"By the way I was trying to solve this with and without the @Configuration the basis of the problem was the one explained in the 2 first answers."}],"answers":[{"comments":[{"owner":{"account_id":2544073,"reputation":359,"user_id":2209264,"accept_rate":85,"display_name":"Antonio E."},"score":0,"creation_date":1664461675,"post_id":73895929,"comment_id":130481709,"body_markdown":"This is the one that worked. I still have have some problem to discern what things is doing Spring boot behind the scene","body":"This is the one that worked. I still have have some problem to discern what things is doing Spring boot behind the scene"},{"owner":{"account_id":25690087,"reputation":1360,"user_id":19451633,"display_name":"Andrei Titov"},"score":1,"creation_date":1664529749,"post_id":73895929,"comment_id":130497625,"body_markdown":"@AntonioE. in Intellij IDEA you can always CTRL + click on the class name and look if it&#39;s mentioned in some `...AutoConfiguration` class of spring-boot - the code there will help you understand what spring-boot does and in what cases","body":"@AntonioE. in Intellij IDEA you can always CTRL + click on the class name and look if it&#39;s mentioned in some <code>...AutoConfiguration</code> class of spring-boot - the code there will help you understand what spring-boot does and in what cases"}],"tags":[],"owner":{"account_id":25690087,"reputation":1360,"user_id":19451633,"display_name":"Andrei Titov"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1671216175,"creation_date":1664456110,"answer_id":73895929,"question_id":73892406,"body_markdown":"It&#39;s a problem with `AuthenticationManager` bean.\r\nIf you don&#39;t use it anywhere, just try to remove it, because spring-boot will create it automatically applying your defined `AuthenticationProvider` bean (with your custom `PasswordEncoder` and `UserDetailsService`).\r\n\r\nIf you need `AuthenticationManager` elsewhere (e.g. injected in a `Filter`), change your bean definition to the following:\r\n\r\n```java\r\n@Bean\r\npublic AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n    return authenticationConfiguration.getAuthenticationManager();\r\n}\r\n```\r\n\r\nThe reason is in the new spring-security `AuthenticationManager` is already created with the desired parameters when you&#39;re trying to inject AuthenticationManagerBuilder, so you can&#39;t configure it again.\r\n\r\nAlso you don&#39;t even need to define a `AuthenticationProvider` bean, because `DaoAuthenticationProvider` is the default provider which is used if a `UserDetailsService` bean found in the context, and it also automatically will utilize your `PasswordEncoder` bean.\r\n\r\nEdit: this way of creating the `AuthenticationManager` bean can lead to unexpected behaviors, like StackOverflowError, please [refer to this answer][1] for a better way to do that\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/74694980/authenticationmanager-authenticate-throws-java-lang-stackoverflowerror-null-w/74706573#74706573","title":"Already existing SecurityFilterChain is preventing my configuration on Spring Security?","body":"<p>It's a problem with <code>AuthenticationManager</code> bean.\nIf you don't use it anywhere, just try to remove it, because spring-boot will create it automatically applying your defined <code>AuthenticationProvider</code> bean (with your custom <code>PasswordEncoder</code> and <code>UserDetailsService</code>).</p>\n<p>If you need <code>AuthenticationManager</code> elsewhere (e.g. injected in a <code>Filter</code>), change your bean definition to the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\n    return authenticationConfiguration.getAuthenticationManager();\n}\n</code></pre>\n<p>The reason is in the new spring-security <code>AuthenticationManager</code> is already created with the desired parameters when you're trying to inject AuthenticationManagerBuilder, so you can't configure it again.</p>\n<p>Also you don't even need to define a <code>AuthenticationProvider</code> bean, because <code>DaoAuthenticationProvider</code> is the default provider which is used if a <code>UserDetailsService</code> bean found in the context, and it also automatically will utilize your <code>PasswordEncoder</code> bean.</p>\n<p>Edit: this way of creating the <code>AuthenticationManager</code> bean can lead to unexpected behaviors, like StackOverflowError, please <a href=\"https://stackoverflow.com/questions/74694980/authenticationmanager-authenticate-throws-java-lang-stackoverflowerror-null-w/74706573#74706573\">refer to this answer</a> for a better way to do that</p>\n"},{"comments":[{"owner":{"account_id":2544073,"reputation":359,"user_id":2209264,"accept_rate":85,"display_name":"Antonio E."},"score":0,"creation_date":1664461724,"post_id":73895991,"comment_id":130481732,"body_markdown":"Thank you very much for your answer it gave me a good context for the problem.","body":"Thank you very much for your answer it gave me a good context for the problem."},{"owner":{"account_id":3077431,"reputation":1329,"user_id":2606441,"accept_rate":77,"display_name":"Manuel Pap"},"score":1,"creation_date":1667239931,"post_id":73895991,"comment_id":131118825,"body_markdown":"Using your suggestion worked for me, any reason why we cannot use `AuthenticationManagerBuilder` or `AuthenticationConfiguration`? Would love to read more about it.","body":"Using your suggestion worked for me, any reason why we cannot use <code>AuthenticationManagerBuilder</code> or <code>AuthenticationConfiguration</code>? Would love to read more about it."}],"tags":[],"owner":{"account_id":7134819,"reputation":5068,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1664456443,"creation_date":1664456443,"answer_id":73895991,"question_id":73892406,"body_markdown":"```\r\nCaused by: java.lang.IllegalStateException: Cannot apply org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer@2942c1a2 to already built object\r\n```\r\n\r\nSpring Security is telling you that you cannot apply a new configurer to the already built object (`HttpSecurity`). Often times you should not need an `AuthenticationManager`.\r\n\r\nIf you really want to expose an `AuthenticationManager` do it by yourself instead of using the `AuthenticationConfiguration`. Instead of doing:\r\n\r\n```java\r\n@Bean\r\npublic AuthenticationManager authenticationManager( AuthenticationManagerBuilder amb) throws Exception {\r\n        return amb.authenticationProvider(userDetailsAuthProvider()).build();\r\n}\r\n```\r\n\r\nYou can do:\r\n\r\n```java\r\n@Bean\r\npublic AuthenticationManager authenticationManager() {\r\n    return new ProviderManager(userDetailsAuthProvider());\r\n}\r\n```","title":"Already existing SecurityFilterChain is preventing my configuration on Spring Security?","body":"<pre><code>Caused by: java.lang.IllegalStateException: Cannot apply org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer@2942c1a2 to already built object\n</code></pre>\n<p>Spring Security is telling you that you cannot apply a new configurer to the already built object (<code>HttpSecurity</code>). Often times you should not need an <code>AuthenticationManager</code>.</p>\n<p>If you really want to expose an <code>AuthenticationManager</code> do it by yourself instead of using the <code>AuthenticationConfiguration</code>. Instead of doing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic AuthenticationManager authenticationManager( AuthenticationManagerBuilder amb) throws Exception {\n        return amb.authenticationProvider(userDetailsAuthProvider()).build();\n}\n</code></pre>\n<p>You can do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic AuthenticationManager authenticationManager() {\n    return new ProviderManager(userDetailsAuthProvider());\n}\n</code></pre>\n"}],"owner":{"account_id":2544073,"reputation":359,"user_id":2209264,"accept_rate":85,"display_name":"Antonio E."},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6001,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":73895929,"answer_count":2,"score":6,"last_activity_date":1671216175,"creation_date":1664439559,"question_id":73892406,"body_markdown":"I&#39;m making a configuration on the newest Spring Security version. Based on Beans rather than the deprecated `WebSecurityConfigurerAdapter`.\r\n\r\nI follow the Spring recomendation on configure a `Bean`for `SecurityFilterChain` and another for `WebSecurityCustomizer`\r\n\r\nThis is a Spring Boot project with MVC for a rest API.\r\n\r\nI&#39;m getting this error about trying to modify the `SecurityFilterChain` Bean and not being allowed to:\r\n\r\n~~~\r\n20... ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration&#39;: Unsatisfied dependency expressed through method &#39;setFilterChains&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: \r\nError creating bean with name &#39;filterChainApi&#39; defined in class path resource [.../config/jwt/config/JWTWebSecurityConfig.class]: Unsatisfied dependency expressed through method &#39;filterChainApi&#39; parameter 0; nested exception is \r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration.httpSecurity&#39; defined in class path resource [org/springframework/security/config/annotation/web/configuration/HttpSecurityConfiguration.class]: \r\nBean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException:\r\nFailed to instantiate [org.springframework.security.config.annotation.web.builders.HttpSecurity]: \r\nFactory method &#39;httpSecurity&#39; threw exception; nested exception is java.lang.IllegalStateException: Cannot apply org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer@2942c1a2 to already built object\r\n~~~\r\n\r\nMore StackTrace:\r\n\r\n~~~\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration&#39;: Unsatisfied dependency expressed through method &#39;setFilterChains&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;filterChainApi&#39; defined in class path resource [.../config/jwt/config/JWTWebSecurityConfig.class]: Unsatisfied dependency expressed through method &#39;filterChainApi&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration.httpSecurity&#39; defined in class path resource [org/springframework/security/config/annotation/web/configuration/HttpSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.config.annotation.web.builders.HttpSecurity]: Factory method &#39;httpSecurity&#39; threw exception; nested exception is java.lang.IllegalStateException: Cannot apply org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer@2942c1a2 to already built object\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:767) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:719) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.22.jar:5.3.22]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.22.jar:5.3.22]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.3.jar:2.7.3]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) [spring-boot-2.7.3.jar:2.7.3]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) [spring-boot-2.7.3.jar:2.7.3]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) [spring-boot-2.7.3.jar:2.7.3]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) [spring-boot-2.7.3.jar:2.7.3]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) [spring-boot-2.7.3.jar:2.7.3]\r\n\tat ....main(ManiClass.java:17) [classes/:na]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_341]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_341]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_341]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_341]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-2.7.3.jar:2.7.3]\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;filterChainApi&#39; defined in class path resource [.../config/jwt/config/JWTWebSecurityConfig.class]: Unsatisfied dependency expressed through method &#39;filterChainApi&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration.httpSecurity&#39; defined in class path resource [org/springframework/security/config/annotation/web/configuration/HttpSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.config.annotation.web.builders.HttpSecurity]: Factory method &#39;httpSecurity&#39; threw exception; nested exception is java.lang.IllegalStateException: Cannot apply org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer@2942c1a2 to already built object\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1609) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1573) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1462) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1349) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:759) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\t... 25 common frames omitted\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration.httpSecurity&#39; defined in class path resource [org/springframework/security/config/annotation/web/configuration/HttpSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.config.annotation.web.builders.HttpSecurity]: Factory method &#39;httpSecurity&#39; threw exception; nested exception is java.lang.IllegalStateException: Cannot apply org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer@2942c1a2 to already built object\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:353) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\t... 41 common frames omitted\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.config.annotation.web.builders.HttpSecurity]: Factory method &#39;httpSecurity&#39; threw exception; nested exception is java.lang.IllegalStateException: Cannot apply org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer@2942c1a2 to already built object\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\t... 53 common frames omitted\r\nCaused by: java.lang.IllegalStateException: Cannot apply org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer@2942c1a2 to already built object\r\n\tat org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.add(AbstractConfiguredSecurityBuilder.java:182) ~[spring-security-config-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.apply(AbstractConfiguredSecurityBuilder.java:138) ~[spring-security-config-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration.getAuthenticationManager(AuthenticationConfiguration.java:119) ~[spring-security-config-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration.authenticationManager(HttpSecurityConfiguration.java:109) ~[spring-security-config-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration.httpSecurity(HttpSecurityConfiguration.java:87) ~[spring-security-config-5.7.3.jar:5.7.3]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_341]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_341]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_341]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_341]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\t... 54 common frames omitted\r\n\r\n~~~\r\n\r\nRelevant pom.xml parts:\r\n\r\n~~~xml\r\n&lt;parent&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    &lt;version&gt;2.7.3&lt;/version&gt;\r\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n&lt;/parent&gt;\r\n\r\n&lt;dependencies&gt;\r\n\r\n&lt;!-- ... --&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;optional&gt;true&lt;/optional&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\r\n    &lt;version&gt;0.11.5&lt;/version&gt;\r\n    &lt;scope&gt;runtime&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\r\n    &lt;version&gt;0.11.5&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\r\n    &lt;version&gt;0.11.5&lt;/version&gt;\r\n    &lt;scope&gt;runtime&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;!-- ...--&gt;\r\n\r\n&lt;/dependencies&gt;\r\n~~~\r\n\r\nThis gets:\r\n - Spring v 5.3.22\r\n - Spring boot v 2.7.3\r\n - Spring Security 5.7.3\r\n\r\nSpring security configuration class:\r\n\r\n~~~java\r\n@EnableWebSecurity\r\n@EnableMethodSecurity(securedEnabled = true)\r\npublic class SpringSecurityConfiguration {\r\n\r\n    @Autowired\r\n    private UserDetailsService jwtUserDetailsService;\r\n\r\n    @Autowired\r\n    private JwtUnAuthorizedResponseAuthenticationEntryPoint jwtUnAuthorizedResponseAuthenticationEntryPoint;\r\n\r\n    @Autowired\r\n    private JwtTokenAuthorizationOncePerRequestFilter jwtAuthenticationTokenFilter;\r\n\r\n    @Bean(name =&quot;passwordEncoder&quot;)\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder(12);\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChainApi(HttpSecurity http) throws Exception {\r\n        return http\r\n\r\n                .csrf(csrf -&gt; csrf.disable())\r\n                .authorizeRequests(auth -&gt; {\r\n                    auth.anyRequest().authenticated();\r\n                })\r\n                .exceptionHandling(configurer -&gt;\r\n                    configurer.authenticationEntryPoint(jwtUnAuthorizedResponseAuthenticationEntryPoint))\r\n                .sessionManagement(management -&gt; management.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n                .addFilterBefore(jwtAuthenticationTokenFilter, UsernamePasswordAuthenticationFilter.class)\r\n                .headers(headersConfigurer -&gt; {\r\n                    headersConfigurer.cacheControl();             // disable caching\r\n                    headersConfigurer.frameOptions().sameOrigin();// H2 Console Needs this setting\r\n                })\r\n               .cors(cors -&gt; cors.disable())\r\n                .build();\r\n    }\r\n\r\n//    @Bean // I don&#39;t declare this until I see the other one working.\r\n    public WebSecurityCustomizer webSecurityCustomizer() {\r\n        return (web) -&gt; web\r\n                .ignoring()\r\n                .antMatchers(... )\r\n                .antMatchers(...)\r\n                .antMatchers(...)\r\n                \r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationProvider userDetailsAuthProvider(){\r\n        DaoAuthenticationProvider a = new DaoAuthenticationProvider();\r\n        a.setUserDetailsService(jwtUserDetailsService);\r\n        a.setPasswordEncoder(passwordEncoder());\r\n        return a;\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager( AuthenticationManagerBuilder amb) throws Exception {\r\n        return amb.authenticationProvider(userDetailsAuthProvider()).build();\r\n    }\r\n\r\n}\r\n\r\n\r\n~~~\r\n\r\n","title":"Already existing SecurityFilterChain is preventing my configuration on Spring Security?","body":"<p>I'm making a configuration on the newest Spring Security version. Based on Beans rather than the deprecated <code>WebSecurityConfigurerAdapter</code>.</p>\n<p>I follow the Spring recomendation on configure a <code>Bean</code>for <code>SecurityFilterChain</code> and another for <code>WebSecurityCustomizer</code></p>\n<p>This is a Spring Boot project with MVC for a rest API.</p>\n<p>I'm getting this error about trying to modify the <code>SecurityFilterChain</code> Bean and not being allowed to:</p>\n<pre><code>20... ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: \nError creating bean with name 'filterChainApi' defined in class path resource [.../config/jwt/config/JWTWebSecurityConfig.class]: Unsatisfied dependency expressed through method 'filterChainApi' parameter 0; nested exception is \norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration.httpSecurity' defined in class path resource [org/springframework/security/config/annotation/web/configuration/HttpSecurityConfiguration.class]: \nBean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException:\nFailed to instantiate [org.springframework.security.config.annotation.web.builders.HttpSecurity]: \nFactory method 'httpSecurity' threw exception; nested exception is java.lang.IllegalStateException: Cannot apply org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer@2942c1a2 to already built object\n</code></pre>\n<p>More StackTrace:</p>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'filterChainApi' defined in class path resource [.../config/jwt/config/JWTWebSecurityConfig.class]: Unsatisfied dependency expressed through method 'filterChainApi' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration.httpSecurity' defined in class path resource [org/springframework/security/config/annotation/web/configuration/HttpSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.config.annotation.web.builders.HttpSecurity]: Factory method 'httpSecurity' threw exception; nested exception is java.lang.IllegalStateException: Cannot apply org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer@2942c1a2 to already built object\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:767) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:719) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.22.jar:5.3.22]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.22.jar:5.3.22]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.3.jar:2.7.3]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) [spring-boot-2.7.3.jar:2.7.3]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) [spring-boot-2.7.3.jar:2.7.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) [spring-boot-2.7.3.jar:2.7.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) [spring-boot-2.7.3.jar:2.7.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) [spring-boot-2.7.3.jar:2.7.3]\n    at ....main(ManiClass.java:17) [classes/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_341]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_341]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_341]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_341]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-2.7.3.jar:2.7.3]\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'filterChainApi' defined in class path resource [.../config/jwt/config/JWTWebSecurityConfig.class]: Unsatisfied dependency expressed through method 'filterChainApi' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration.httpSecurity' defined in class path resource [org/springframework/security/config/annotation/web/configuration/HttpSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.config.annotation.web.builders.HttpSecurity]: Factory method 'httpSecurity' threw exception; nested exception is java.lang.IllegalStateException: Cannot apply org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer@2942c1a2 to already built object\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1609) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1573) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1462) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1349) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:759) ~[spring-beans-5.3.22.jar:5.3.22]\n    ... 25 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration.httpSecurity' defined in class path resource [org/springframework/security/config/annotation/web/configuration/HttpSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.config.annotation.web.builders.HttpSecurity]: Factory method 'httpSecurity' threw exception; nested exception is java.lang.IllegalStateException: Cannot apply org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer@2942c1a2 to already built object\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:353) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.22.jar:5.3.22]\n    ... 41 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.config.annotation.web.builders.HttpSecurity]: Factory method 'httpSecurity' threw exception; nested exception is java.lang.IllegalStateException: Cannot apply org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer@2942c1a2 to already built object\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.22.jar:5.3.22]\n    ... 53 common frames omitted\nCaused by: java.lang.IllegalStateException: Cannot apply org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer@2942c1a2 to already built object\n    at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.add(AbstractConfiguredSecurityBuilder.java:182) ~[spring-security-config-5.7.3.jar:5.7.3]\n    at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.apply(AbstractConfiguredSecurityBuilder.java:138) ~[spring-security-config-5.7.3.jar:5.7.3]\n    at org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration.getAuthenticationManager(AuthenticationConfiguration.java:119) ~[spring-security-config-5.7.3.jar:5.7.3]\n    at org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration.authenticationManager(HttpSecurityConfiguration.java:109) ~[spring-security-config-5.7.3.jar:5.7.3]\n    at org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration.httpSecurity(HttpSecurityConfiguration.java:87) ~[spring-security-config-5.7.3.jar:5.7.3]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_341]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_341]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_341]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_341]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.22.jar:5.3.22]\n    ... 54 common frames omitted\n\n</code></pre>\n<p>Relevant pom.xml parts:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.7.3&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n\n&lt;dependencies&gt;\n\n&lt;!-- ... --&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;optional&gt;true&lt;/optional&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n    &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\n    &lt;version&gt;0.11.5&lt;/version&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n    &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\n    &lt;version&gt;0.11.5&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n    &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\n    &lt;version&gt;0.11.5&lt;/version&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;!-- ...--&gt;\n\n&lt;/dependencies&gt;\n</code></pre>\n<p>This gets:</p>\n<ul>\n<li>Spring v 5.3.22</li>\n<li>Spring boot v 2.7.3</li>\n<li>Spring Security 5.7.3</li>\n</ul>\n<p>Spring security configuration class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableWebSecurity\n@EnableMethodSecurity(securedEnabled = true)\npublic class SpringSecurityConfiguration {\n\n    @Autowired\n    private UserDetailsService jwtUserDetailsService;\n\n    @Autowired\n    private JwtUnAuthorizedResponseAuthenticationEntryPoint jwtUnAuthorizedResponseAuthenticationEntryPoint;\n\n    @Autowired\n    private JwtTokenAuthorizationOncePerRequestFilter jwtAuthenticationTokenFilter;\n\n    @Bean(name =&quot;passwordEncoder&quot;)\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder(12);\n    }\n\n    @Bean\n    public SecurityFilterChain filterChainApi(HttpSecurity http) throws Exception {\n        return http\n\n                .csrf(csrf -&gt; csrf.disable())\n                .authorizeRequests(auth -&gt; {\n                    auth.anyRequest().authenticated();\n                })\n                .exceptionHandling(configurer -&gt;\n                    configurer.authenticationEntryPoint(jwtUnAuthorizedResponseAuthenticationEntryPoint))\n                .sessionManagement(management -&gt; management.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n                .addFilterBefore(jwtAuthenticationTokenFilter, UsernamePasswordAuthenticationFilter.class)\n                .headers(headersConfigurer -&gt; {\n                    headersConfigurer.cacheControl();             // disable caching\n                    headersConfigurer.frameOptions().sameOrigin();// H2 Console Needs this setting\n                })\n               .cors(cors -&gt; cors.disable())\n                .build();\n    }\n\n//    @Bean // I don't declare this until I see the other one working.\n    public WebSecurityCustomizer webSecurityCustomizer() {\n        return (web) -&gt; web\n                .ignoring()\n                .antMatchers(... )\n                .antMatchers(...)\n                .antMatchers(...)\n                \n    }\n\n    @Bean\n    public AuthenticationProvider userDetailsAuthProvider(){\n        DaoAuthenticationProvider a = new DaoAuthenticationProvider();\n        a.setUserDetailsService(jwtUserDetailsService);\n        a.setPasswordEncoder(passwordEncoder());\n        return a;\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager( AuthenticationManagerBuilder amb) throws Exception {\n        return amb.authenticationProvider(userDetailsAuthProvider()).build();\n    }\n\n}\n\n\n</code></pre>\n"},{"tags":["java","jboss","drools","redhat","jbpm"],"answers":[{"tags":[],"owner":{"account_id":10900583,"reputation":31,"user_id":8012950,"display_name":"Manikandan sankar"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1494835383,"creation_date":1494834348,"answer_id":43973966,"question_id":42012441,"body_markdown":"What you need to do is *install the JDK* and *include the `bin` folder of JDK in your `Path` system variable*.\r\n\r\nSee: [No ‘jar’ binary detected in PATH][1]\r\n\r\n\r\n  [1]: http://big.info/2017/01/redhat-jboss-bpm-suite-installation-error-no-jar-binary-detected-in-path.html","title":"JBOSS BPM Suite Installer Error: No &#39;jar&#39; binary detected in PATH. Please make sure this binary exists before continuing the installation","body":"<p>What you need to do is <em>install the JDK</em> and <em>include the <code>bin</code> folder of JDK in your <code>Path</code> system variable</em>.</p>\n\n<p>See: <a href=\"http://big.info/2017/01/redhat-jboss-bpm-suite-installation-error-no-jar-binary-detected-in-path.html\" rel=\"nofollow noreferrer\">No ‘jar’ binary detected in PATH</a></p>\n"},{"tags":[],"owner":{"account_id":2829469,"reputation":29,"user_id":2431326,"display_name":"user2431326"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525931674,"creation_date":1525931674,"answer_id":50266358,"question_id":42012441,"body_markdown":"Run it from the bin folder of JDK.\r\ne.g. C:\\Program Files\\Java\\jdk1.8.0_131\\bin&gt;java -Dizpack.mode=privileged -jar D:\\BPM\\jboss-bpmsuite-installer-6.2.0.BZ-1299002.jar","title":"JBOSS BPM Suite Installer Error: No &#39;jar&#39; binary detected in PATH. Please make sure this binary exists before continuing the installation","body":"<p>Run it from the bin folder of JDK.\ne.g. C:\\Program Files\\Java\\jdk1.8.0_131\\bin>java -Dizpack.mode=privileged -jar D:\\BPM\\jboss-bpmsuite-installer-6.2.0.BZ-1299002.jar</p>\n"},{"tags":[],"owner":{"account_id":27275597,"reputation":1,"user_id":20796268,"display_name":"Stephen Perez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671215699,"creation_date":1671215699,"answer_id":74828527,"question_id":42012441,"body_markdown":"I had the same issue.  My issue was resolved by adding the additional java components on top of the included openjdk in RHEL:\r\nyum install java-devel","title":"JBOSS BPM Suite Installer Error: No &#39;jar&#39; binary detected in PATH. Please make sure this binary exists before continuing the installation","body":"<p>I had the same issue.  My issue was resolved by adding the additional java components on top of the included openjdk in RHEL:\nyum install java-devel</p>\n"}],"owner":{"account_id":9489527,"reputation":27,"user_id":7054856,"accept_rate":25,"display_name":"Austin Hardesty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1760,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1671215699,"creation_date":1486070222,"question_id":42012441,"body_markdown":"[![enter image description here][1]][1]\r\n\r\nI am trying to install JBOSS BPM Suite but get this error. I have looked around the web for a solution but did not find anything that really explains how to resolve this. I have JBOSS EAP 7 installed but have no idea how to set the &#39;jar&#39; binary in PATH. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CnOdP.png","title":"JBOSS BPM Suite Installer Error: No &#39;jar&#39; binary detected in PATH. Please make sure this binary exists before continuing the installation","body":"<p><a href=\"https://i.stack.imgur.com/CnOdP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CnOdP.png\" alt=\"enter image description here\"></a></p>\n\n<p>I am trying to install JBOSS BPM Suite but get this error. I have looked around the web for a solution but did not find anything that really explains how to resolve this. I have JBOSS EAP 7 installed but have no idea how to set the 'jar' binary in PATH. </p>\n"},{"tags":["java","xml","parsing","xml-parsing","domparser"],"answers":[{"tags":[],"owner":{"account_id":2182770,"reputation":77,"user_id":3170024,"display_name":"skreutzer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671214576,"creation_date":1671214576,"answer_id":74828347,"question_id":74736646,"body_markdown":"But you&#39;ve basically done it already, you wrote the code for the three categories. &quot;Failing to find information according to each category&quot; might mean that the output is not the desired output. The reason could be that `Document.getElementsByTagName()` searches globally for all elements that have the name passed as the argument. As your root element too is named `employee`, it&#39;s included as an additional `Node` in your `NodeList` on `doc.getElementsByTagName(&quot;employee&quot;)`, which btw. doesn&#39;t have an ID attribute of it&#39;s own (note: these are case-sensitive). Hence a &quot;Total Category inside = 4&quot;. If you then do `getElementsByTagName(&quot;lastname&quot;)` on this first `Node`/`Element` that&#39;s the root, sure enough, it has a `&lt;lastname/&gt;` element below it, just not as a direct child, but two levels down, the element of the first &quot;actual&quot;/desired `&lt;employee/&gt;`.\r\n\r\nSo what you probably want to do is to not search for your element names globally, but in the local context of the category, as you already do successfully elsewhere inside the loops. Maybe just change\r\n``` lang-java\r\nNodeList nList = doc.getElementsByTagName(&quot;employee&quot;);\r\n```\r\nto\r\n``` lang-java\r\nNodeList nList = doc.getElementsByTagName(&quot;employee_list&quot;);\r\nnList = ((Element)nList.item(0)).getElementsByTagName(&quot;employee&quot;);\r\n```\r\nfor the employee_list category, and likewise for the other categories.\r\n\r\nIn order to group records more nicely, you don&#39;t need to output/print them immediately. You can copy/store the values you get from the DOM in the members of an object of a class you could define, or make a more generic class which stores the field values in a `List` that contains a `Map`, or something like that. With such, you can iterate/loop over the objects or list you created, and output/print the field values in your preferred order.","title":"Parsing the multilevel XML File with Java - Dom Parser","body":"<p>But you've basically done it already, you wrote the code for the three categories. &quot;Failing to find information according to each category&quot; might mean that the output is not the desired output. The reason could be that <code>Document.getElementsByTagName()</code> searches globally for all elements that have the name passed as the argument. As your root element too is named <code>employee</code>, it's included as an additional <code>Node</code> in your <code>NodeList</code> on <code>doc.getElementsByTagName(&quot;employee&quot;)</code>, which btw. doesn't have an ID attribute of it's own (note: these are case-sensitive). Hence a &quot;Total Category inside = 4&quot;. If you then do <code>getElementsByTagName(&quot;lastname&quot;)</code> on this first <code>Node</code>/<code>Element</code> that's the root, sure enough, it has a <code>&lt;lastname/&gt;</code> element below it, just not as a direct child, but two levels down, the element of the first &quot;actual&quot;/desired <code>&lt;employee/&gt;</code>.</p>\n<p>So what you probably want to do is to not search for your element names globally, but in the local context of the category, as you already do successfully elsewhere inside the loops. Maybe just change</p>\n<pre class=\"lang-java prettyprint-override\"><code>NodeList nList = doc.getElementsByTagName(&quot;employee&quot;);\n</code></pre>\n<p>to</p>\n<pre class=\"lang-java prettyprint-override\"><code>NodeList nList = doc.getElementsByTagName(&quot;employee_list&quot;);\nnList = ((Element)nList.item(0)).getElementsByTagName(&quot;employee&quot;);\n</code></pre>\n<p>for the employee_list category, and likewise for the other categories.</p>\n<p>In order to group records more nicely, you don't need to output/print them immediately. You can copy/store the values you get from the DOM in the members of an object of a class you could define, or make a more generic class which stores the field values in a <code>List</code> that contains a <code>Map</code>, or something like that. With such, you can iterate/loop over the objects or list you created, and output/print the field values in your preferred order.</p>\n"}],"owner":{"account_id":24912859,"reputation":1,"user_id":18782189,"display_name":"Andrei Rus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671214576,"creation_date":1670535785,"question_id":74736646,"body_markdown":"I have this xml file that contains 3 categories:employee_list, position_details and employee_info.\r\n\r\n```lang-xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;employee&gt;\r\n    &lt;employee_list&gt;\r\n        &lt;employee ID=&quot;1&quot;&gt;\r\n            &lt;firstname&gt;Andrei&lt;/firstname&gt;\r\n            &lt;lastname&gt;Rus&lt;/lastname&gt;\r\n            &lt;age&gt;23&lt;/age&gt;\r\n            &lt;position-skill ref=&quot;Java&quot;/&gt;\r\n            &lt;detail-ref ref=&quot;AndreiR&quot;/&gt;\r\n        &lt;/employee&gt;\r\n\r\n        &lt;employee ID=&quot;2&quot;&gt;\r\n            &lt;firstname&gt;Ion&lt;/firstname&gt;\r\n            &lt;lastname&gt;Popescu&lt;/lastname&gt;\r\n            &lt;age&gt;25&lt;/age&gt;\r\n            &lt;position-skill ref=&quot;Python&quot;/&gt;\r\n            &lt;detail-ref ref=&quot;IonP&quot;/&gt;\r\n        &lt;/employee&gt;\r\n\r\n        &lt;employee ID=&quot;3&quot;&gt;\r\n            &lt;firstname&gt;Georgiana&lt;/firstname&gt;\r\n            &lt;lastname&gt;Domide&lt;/lastname&gt;\r\n            &lt;age&gt;33&lt;/age&gt;\r\n            &lt;position-skill ref=&quot;C&quot;/&gt;\r\n            &lt;detail-ref ref=&quot;GeorgianaD&quot;/&gt;\r\n        &lt;/employee&gt;\r\n\r\n    &lt;/employee_list&gt;\r\n\r\n    &lt;position_details&gt;\r\n        &lt;position ID=&quot;Java&quot;&gt;\r\n            &lt;role&gt;Junior Developer&lt;/role&gt;\r\n            &lt;skill_name&gt;Java&lt;/skill_name&gt;\r\n            &lt;experience&gt;1&lt;/experience&gt;&lt;!-- years of experience --&gt;\r\n        &lt;/position&gt;\r\n\r\n        &lt;position ID=&quot;Python&quot;&gt;\r\n            &lt;role&gt;Developer&lt;/role&gt;\r\n            &lt;skill_name&gt;Python&lt;/skill_name&gt;\r\n            &lt;experience&gt;3&lt;/experience&gt; \r\n        &lt;/position&gt;\r\n\r\n        &lt;position ID=&quot;C&quot;&gt;\r\n            &lt;role&gt;Senior Developer&lt;/role&gt;\r\n            &lt;skill_name&gt;C&lt;/skill_name&gt;\r\n            &lt;experience&gt;5&lt;/experience&gt;\r\n        &lt;/position&gt;\r\n    &lt;/position_details&gt;\r\n\r\n    &lt;employee_info&gt;\r\n        &lt;detail ID=&quot;AndreiR&quot;&gt;\r\n            &lt;username&gt;AndreiR&lt;/username&gt;\r\n            &lt;residence&gt;Timisoara&lt;/residence&gt;\r\n            &lt;yearOfBirth&gt;1999&lt;/yearOfBirth&gt;\r\n            &lt;phone&gt;0&lt;/phone&gt;\r\n        &lt;/detail&gt;\r\n\r\n        &lt;detail ID=&quot;IonP&quot;&gt;\r\n            &lt;username&gt;IonP&lt;/username&gt;\r\n            &lt;residence&gt;Timisoara&lt;/residence&gt;\r\n            &lt;yearOfBirth&gt;1997&lt;/yearOfBirth&gt;\r\n            &lt;phone&gt;0&lt;/phone&gt;\r\n        &lt;/detail&gt;\r\n\r\n        &lt;detail ID=&quot;GeorgianaD&quot;&gt;\r\n            &lt;username&gt;GeorgianaD&lt;/username&gt;\r\n            &lt;residence&gt;Arad&lt;/residence&gt;\r\n            &lt;yearOfBirth&gt;1989&lt;/yearOfBirth&gt;\r\n            &lt;phone&gt;0&lt;/phone&gt;\r\n        &lt;/detail&gt;\r\n    &lt;/employee_info&gt;\r\n&lt;/employee&gt;\r\n```\r\n\r\nI would like to write java code for all 3 categories, but so far I have only managed to get past the first category (employee_list). When I try to retrieve information from the position_list or employee_info category, the program fails to find information according to each category.\r\n\r\nI wrote the Java code for the 3 categories and the result looks like this: \r\n\r\n```lang-java\r\npackage Dom;\r\n\r\nimport org.w3c.dom.Document;\r\nimport org.w3c.dom.Element;\r\nimport org.w3c.dom.Node;\r\nimport org.w3c.dom.NodeList;\r\nimport org.xml.sax.SAXException;\r\n\r\nimport javax.xml.parsers.DocumentBuilder;\r\nimport javax.xml.parsers.DocumentBuilderFactory;\r\nimport javax.xml.parsers.ParserConfigurationException;\r\n\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.util.Scanner;\r\n\r\npublic class main {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\ttry {\r\n\t\t\tFile xmlDoc = new File(&quot;employees.xml&quot;);\r\n\t\t\tDocumentBuilderFactory dbFact = DocumentBuilderFactory.newInstance();\r\n\t\t\tDocumentBuilder dBuild = dbFact.newDocumentBuilder(); \r\n\t\t\tDocument doc = dBuild.parse(xmlDoc);\r\n\t\t\t\r\n\t\t\t//Citim radacina\r\n\t\t\t//                                    doc localizeaza radacina   da numele ei\r\n\t\t\tSystem.out.println(&quot;Root element: &quot; + doc.getDocumentElement().getNodeName());\r\n\t\t\tSystem.out.println(&quot;-----------------------------------------------------------------------------&quot;);\r\n\t\t\t\r\n\t\t\t//citim un array de studenti pe care il denumim NodeList\r\n\t\t\tNodeList nList = doc.getElementsByTagName(&quot;employee&quot;);\r\n\t\t\tSystem.out.println(&quot;Total Category inside = &quot; + nList.getLength());\r\n\t\t\tSystem.out.println(&quot;-----------------------------------------------------&quot;);\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tfor(int i = 0 ; i&lt;nList.getLength();i++) {\r\n\t\t\t\tNode nNode = nList.item(i);\r\n\t\t\t\t//System.out.println(&quot;Node name: &quot; + nNode.getNodeName()+&quot; &quot; + (i+1));\r\n\t\t\t\tif(nNode.getNodeType() == Node.ELEMENT_NODE) {\r\n\t\t\t\t\tElement eElement = (Element) nNode;\r\n\t\t\t\t\tSystem.out.println(&quot;Person id#: &quot; + eElement.getAttribute(&quot;id&quot;));\r\n\t\t\t\t\tSystem.out.println(&quot;Person Last Name: &quot; + eElement.getElementsByTagName(&quot;lastname&quot;).item(0).getTextContent());\r\n\t\t\t\t\tSystem.out.println(&quot;Person First name: &quot; + eElement.getElementsByTagName(&quot;firstname&quot;).item(0).getTextContent());\r\n\t\t\t\t\tSystem.out.println(&quot;Person Age: &quot; + eElement.getElementsByTagName(&quot;age&quot;).item(0).getTextContent());\r\n\t\t\t\t\tSystem.out.println(&quot;--------------------------------------------------------------------------&quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;=============================================================================================&quot;);\r\n\t\t\t\r\n\t\t\tnList = doc.getElementsByTagName(&quot;position&quot;);\r\n\t\t\tSystem.out.println(&quot;Total Category inside = &quot; + nList.getLength());\r\n\t\t\tSystem.out.println(&quot;-----------------------------------------------------&quot;);\r\n\t\t\tfor(int i = 0 ; i&lt;nList.getLength();i++) {\r\n\t\t\t\tNode nNode = nList.item(i);\r\n\t\t\t\t//System.out.println(&quot;Node name: &quot; + nNode.getNodeName()+&quot; &quot; + (i+1));\r\n\t\t\t\tif(nNode.getNodeType() == Node.ELEMENT_NODE) {\r\n\t\t\t\t\tElement eElement = (Element) nNode;\r\n\t\t\t\t\tSystem.out.println(&quot;Role: &quot; + eElement.getElementsByTagName(&quot;role&quot;).item(0).getTextContent());\r\n\t\t\t\t\tSystem.out.println(&quot;Skill: &quot;+ eElement.getElementsByTagName(&quot;skill_name&quot;).item(0).getTextContent());\r\n\t\t\t\t\tSystem.out.println(&quot;Experience: &quot;+ eElement.getElementsByTagName(&quot;experience&quot;).item(0).getTextContent());\r\n\t\t\t\t\tSystem.out.println(&quot;--------------------------------------------------------------------------&quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;=============================================================================================&quot;);\r\n\t\t\t\r\n\t\t\tnList = doc.getElementsByTagName(&quot;detail&quot;);\r\n\t\t\tSystem.out.println(&quot;Total Category inside = &quot; + nList.getLength());\r\n\t\t\tSystem.out.println(&quot;-----------------------------------------------------&quot;);\r\n\t\t\tfor(int i = 0 ; i&lt;nList.getLength();i++) {\r\n\t\t\t\tNode nNode = nList.item(i);\r\n\t\t\t\t//System.out.println(&quot;Node name: &quot; + nNode.getNodeName()+&quot; &quot; + (i+1));\r\n\t\t\t\tif(nNode.getNodeType() == Node.ELEMENT_NODE) {\r\n\t\t\t\t\tElement eElement = (Element) nNode;\r\n\t\t\t\t\tSystem.out.println(&quot;Person with username: &quot; +  eElement.getElementsByTagName(&quot;username&quot;).item(0).getTextContent());\r\n\t\t\t\t\tSystem.out.println(&quot;Username: &quot; + eElement.getElementsByTagName(&quot;username&quot;).item(0).getTextContent());\r\n\t\t\t\t\tSystem.out.println(&quot;Residence: &quot;+ eElement.getElementsByTagName(&quot;residence&quot;).item(0).getTextContent());\r\n\t\t\t\t\tSystem.out.println(&quot;Year of birth: &quot;+ eElement.getElementsByTagName(&quot;yearOfBirth&quot;).item(0).getTextContent());\r\n\t\t\t\t\tSystem.out.println(&quot;Phone: &quot;+ eElement.getElementsByTagName(&quot;phone&quot;).item(0).getTextContent());\r\n\t\t\t\t\tSystem.out.println(&quot;--------------------------------------------------------------------------&quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t}catch(Exception e) {\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\noutput:\r\n```lang-bash \r\nRoot element: employee\r\n-----------------------------------------------------------------------------\r\nTotal Category inside = 4\r\n-----------------------------------------------------\r\nPerson id#: \r\nPerson Last Name: Rus\r\nPerson First name: Andrei\r\nPerson Age: 23\r\n--------------------------------------------------------------------------\r\nPerson id#: \r\nPerson Last Name: Rus\r\nPerson First name: Andrei\r\nPerson Age: 23\r\n--------------------------------------------------------------------------\r\nPerson id#: \r\nPerson Last Name: Popescu\r\nPerson First name: Ion\r\nPerson Age: 25\r\n--------------------------------------------------------------------------\r\nPerson id#: \r\nPerson Last Name: Domide\r\nPerson First name: Georgiana\r\nPerson Age: 33\r\n--------------------------------------------------------------------------\r\n=============================================================================================\r\nTotal Category inside = 3\r\n-----------------------------------------------------\r\nRole: Junior Developer\r\nSkill: Java\r\nExperience: 1\r\n--------------------------------------------------------------------------\r\nRole: Developer\r\nSkill: Python\r\nExperience: 3\r\n--------------------------------------------------------------------------\r\nRole: Senior Developer\r\nSkill: C\r\nExperience: 5\r\n--------------------------------------------------------------------------\r\n=============================================================================================\r\nTotal Category inside = 3\r\n-----------------------------------------------------\r\nPerson with username: AndreiR\r\nUsername: AndreiR\r\nResidence: Timisoara\r\nYear of birth: 1999\r\nPhone: 0\r\n--------------------------------------------------------------------------\r\nPerson with username: IonP\r\nUsername: IonP\r\nResidence: Timisoara\r\nYear of birth: 1997\r\nPhone: 0\r\n--------------------------------------------------------------------------\r\nPerson with username: GeorgianaD\r\nUsername: GeorgianaD\r\nResidence: Arad\r\nYear of birth: 1989\r\nPhone: 0\r\n--------------------------------------------------------------------------\r\n```\r\n\r\n\r\nIs there any possibility that the output could be slightly more grouped, in the following form for each person: \r\n\r\n```\r\nPersonId\r\nfirstname\r\nlastname\r\nage\r\nrole\r\nskill_name\r\nexperience\r\nusername\r\nresidence\r\nyearOfBirth\r\nphone\r\n```","title":"Parsing the multilevel XML File with Java - Dom Parser","body":"<p>I have this xml file that contains 3 categories:employee_list, position_details and employee_info.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;employee&gt;\n    &lt;employee_list&gt;\n        &lt;employee ID=&quot;1&quot;&gt;\n            &lt;firstname&gt;Andrei&lt;/firstname&gt;\n            &lt;lastname&gt;Rus&lt;/lastname&gt;\n            &lt;age&gt;23&lt;/age&gt;\n            &lt;position-skill ref=&quot;Java&quot;/&gt;\n            &lt;detail-ref ref=&quot;AndreiR&quot;/&gt;\n        &lt;/employee&gt;\n\n        &lt;employee ID=&quot;2&quot;&gt;\n            &lt;firstname&gt;Ion&lt;/firstname&gt;\n            &lt;lastname&gt;Popescu&lt;/lastname&gt;\n            &lt;age&gt;25&lt;/age&gt;\n            &lt;position-skill ref=&quot;Python&quot;/&gt;\n            &lt;detail-ref ref=&quot;IonP&quot;/&gt;\n        &lt;/employee&gt;\n\n        &lt;employee ID=&quot;3&quot;&gt;\n            &lt;firstname&gt;Georgiana&lt;/firstname&gt;\n            &lt;lastname&gt;Domide&lt;/lastname&gt;\n            &lt;age&gt;33&lt;/age&gt;\n            &lt;position-skill ref=&quot;C&quot;/&gt;\n            &lt;detail-ref ref=&quot;GeorgianaD&quot;/&gt;\n        &lt;/employee&gt;\n\n    &lt;/employee_list&gt;\n\n    &lt;position_details&gt;\n        &lt;position ID=&quot;Java&quot;&gt;\n            &lt;role&gt;Junior Developer&lt;/role&gt;\n            &lt;skill_name&gt;Java&lt;/skill_name&gt;\n            &lt;experience&gt;1&lt;/experience&gt;&lt;!-- years of experience --&gt;\n        &lt;/position&gt;\n\n        &lt;position ID=&quot;Python&quot;&gt;\n            &lt;role&gt;Developer&lt;/role&gt;\n            &lt;skill_name&gt;Python&lt;/skill_name&gt;\n            &lt;experience&gt;3&lt;/experience&gt; \n        &lt;/position&gt;\n\n        &lt;position ID=&quot;C&quot;&gt;\n            &lt;role&gt;Senior Developer&lt;/role&gt;\n            &lt;skill_name&gt;C&lt;/skill_name&gt;\n            &lt;experience&gt;5&lt;/experience&gt;\n        &lt;/position&gt;\n    &lt;/position_details&gt;\n\n    &lt;employee_info&gt;\n        &lt;detail ID=&quot;AndreiR&quot;&gt;\n            &lt;username&gt;AndreiR&lt;/username&gt;\n            &lt;residence&gt;Timisoara&lt;/residence&gt;\n            &lt;yearOfBirth&gt;1999&lt;/yearOfBirth&gt;\n            &lt;phone&gt;0&lt;/phone&gt;\n        &lt;/detail&gt;\n\n        &lt;detail ID=&quot;IonP&quot;&gt;\n            &lt;username&gt;IonP&lt;/username&gt;\n            &lt;residence&gt;Timisoara&lt;/residence&gt;\n            &lt;yearOfBirth&gt;1997&lt;/yearOfBirth&gt;\n            &lt;phone&gt;0&lt;/phone&gt;\n        &lt;/detail&gt;\n\n        &lt;detail ID=&quot;GeorgianaD&quot;&gt;\n            &lt;username&gt;GeorgianaD&lt;/username&gt;\n            &lt;residence&gt;Arad&lt;/residence&gt;\n            &lt;yearOfBirth&gt;1989&lt;/yearOfBirth&gt;\n            &lt;phone&gt;0&lt;/phone&gt;\n        &lt;/detail&gt;\n    &lt;/employee_info&gt;\n&lt;/employee&gt;\n</code></pre>\n<p>I would like to write java code for all 3 categories, but so far I have only managed to get past the first category (employee_list). When I try to retrieve information from the position_list or employee_info category, the program fails to find information according to each category.</p>\n<p>I wrote the Java code for the 3 categories and the result looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package Dom;\n\nimport org.w3c.dom.Document;\nimport org.w3c.dom.Element;\nimport org.w3c.dom.Node;\nimport org.w3c.dom.NodeList;\nimport org.xml.sax.SAXException;\n\nimport javax.xml.parsers.DocumentBuilder;\nimport javax.xml.parsers.DocumentBuilderFactory;\nimport javax.xml.parsers.ParserConfigurationException;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.Scanner;\n\npublic class main {\n\n    public static void main(String[] args) {\n        try {\n            File xmlDoc = new File(&quot;employees.xml&quot;);\n            DocumentBuilderFactory dbFact = DocumentBuilderFactory.newInstance();\n            DocumentBuilder dBuild = dbFact.newDocumentBuilder(); \n            Document doc = dBuild.parse(xmlDoc);\n            \n            //Citim radacina\n            //                                    doc localizeaza radacina   da numele ei\n            System.out.println(&quot;Root element: &quot; + doc.getDocumentElement().getNodeName());\n            System.out.println(&quot;-----------------------------------------------------------------------------&quot;);\n            \n            //citim un array de studenti pe care il denumim NodeList\n            NodeList nList = doc.getElementsByTagName(&quot;employee&quot;);\n            System.out.println(&quot;Total Category inside = &quot; + nList.getLength());\n            System.out.println(&quot;-----------------------------------------------------&quot;);\n            \n            \n            for(int i = 0 ; i&lt;nList.getLength();i++) {\n                Node nNode = nList.item(i);\n                //System.out.println(&quot;Node name: &quot; + nNode.getNodeName()+&quot; &quot; + (i+1));\n                if(nNode.getNodeType() == Node.ELEMENT_NODE) {\n                    Element eElement = (Element) nNode;\n                    System.out.println(&quot;Person id#: &quot; + eElement.getAttribute(&quot;id&quot;));\n                    System.out.println(&quot;Person Last Name: &quot; + eElement.getElementsByTagName(&quot;lastname&quot;).item(0).getTextContent());\n                    System.out.println(&quot;Person First name: &quot; + eElement.getElementsByTagName(&quot;firstname&quot;).item(0).getTextContent());\n                    System.out.println(&quot;Person Age: &quot; + eElement.getElementsByTagName(&quot;age&quot;).item(0).getTextContent());\n                    System.out.println(&quot;--------------------------------------------------------------------------&quot;);\n                }\n            }\n            \n            System.out.println(&quot;=============================================================================================&quot;);\n            \n            nList = doc.getElementsByTagName(&quot;position&quot;);\n            System.out.println(&quot;Total Category inside = &quot; + nList.getLength());\n            System.out.println(&quot;-----------------------------------------------------&quot;);\n            for(int i = 0 ; i&lt;nList.getLength();i++) {\n                Node nNode = nList.item(i);\n                //System.out.println(&quot;Node name: &quot; + nNode.getNodeName()+&quot; &quot; + (i+1));\n                if(nNode.getNodeType() == Node.ELEMENT_NODE) {\n                    Element eElement = (Element) nNode;\n                    System.out.println(&quot;Role: &quot; + eElement.getElementsByTagName(&quot;role&quot;).item(0).getTextContent());\n                    System.out.println(&quot;Skill: &quot;+ eElement.getElementsByTagName(&quot;skill_name&quot;).item(0).getTextContent());\n                    System.out.println(&quot;Experience: &quot;+ eElement.getElementsByTagName(&quot;experience&quot;).item(0).getTextContent());\n                    System.out.println(&quot;--------------------------------------------------------------------------&quot;);\n                }\n            }\n            \n            System.out.println(&quot;=============================================================================================&quot;);\n            \n            nList = doc.getElementsByTagName(&quot;detail&quot;);\n            System.out.println(&quot;Total Category inside = &quot; + nList.getLength());\n            System.out.println(&quot;-----------------------------------------------------&quot;);\n            for(int i = 0 ; i&lt;nList.getLength();i++) {\n                Node nNode = nList.item(i);\n                //System.out.println(&quot;Node name: &quot; + nNode.getNodeName()+&quot; &quot; + (i+1));\n                if(nNode.getNodeType() == Node.ELEMENT_NODE) {\n                    Element eElement = (Element) nNode;\n                    System.out.println(&quot;Person with username: &quot; +  eElement.getElementsByTagName(&quot;username&quot;).item(0).getTextContent());\n                    System.out.println(&quot;Username: &quot; + eElement.getElementsByTagName(&quot;username&quot;).item(0).getTextContent());\n                    System.out.println(&quot;Residence: &quot;+ eElement.getElementsByTagName(&quot;residence&quot;).item(0).getTextContent());\n                    System.out.println(&quot;Year of birth: &quot;+ eElement.getElementsByTagName(&quot;yearOfBirth&quot;).item(0).getTextContent());\n                    System.out.println(&quot;Phone: &quot;+ eElement.getElementsByTagName(&quot;phone&quot;).item(0).getTextContent());\n                    System.out.println(&quot;--------------------------------------------------------------------------&quot;);\n                }\n            }\n            \n            \n        }catch(Exception e) {\n            \n        }\n        \n    }\n\n}\n\n</code></pre>\n<p>output:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>Root element: employee\n-----------------------------------------------------------------------------\nTotal Category inside = 4\n-----------------------------------------------------\nPerson id#: \nPerson Last Name: Rus\nPerson First name: Andrei\nPerson Age: 23\n--------------------------------------------------------------------------\nPerson id#: \nPerson Last Name: Rus\nPerson First name: Andrei\nPerson Age: 23\n--------------------------------------------------------------------------\nPerson id#: \nPerson Last Name: Popescu\nPerson First name: Ion\nPerson Age: 25\n--------------------------------------------------------------------------\nPerson id#: \nPerson Last Name: Domide\nPerson First name: Georgiana\nPerson Age: 33\n--------------------------------------------------------------------------\n=============================================================================================\nTotal Category inside = 3\n-----------------------------------------------------\nRole: Junior Developer\nSkill: Java\nExperience: 1\n--------------------------------------------------------------------------\nRole: Developer\nSkill: Python\nExperience: 3\n--------------------------------------------------------------------------\nRole: Senior Developer\nSkill: C\nExperience: 5\n--------------------------------------------------------------------------\n=============================================================================================\nTotal Category inside = 3\n-----------------------------------------------------\nPerson with username: AndreiR\nUsername: AndreiR\nResidence: Timisoara\nYear of birth: 1999\nPhone: 0\n--------------------------------------------------------------------------\nPerson with username: IonP\nUsername: IonP\nResidence: Timisoara\nYear of birth: 1997\nPhone: 0\n--------------------------------------------------------------------------\nPerson with username: GeorgianaD\nUsername: GeorgianaD\nResidence: Arad\nYear of birth: 1989\nPhone: 0\n--------------------------------------------------------------------------\n</code></pre>\n<p>Is there any possibility that the output could be slightly more grouped, in the following form for each person:</p>\n<pre><code>PersonId\nfirstname\nlastname\nage\nrole\nskill_name\nexperience\nusername\nresidence\nyearOfBirth\nphone\n</code></pre>\n"},{"tags":["java","lambda","java-8","functional-interface"],"comments":[{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1602368101,"post_id":64298743,"comment_id":113699515,"body_markdown":"When the _lambda expression_ is evaluated, an instance of the `ResourceValidator` interface is created as the result.","body":"When the <i>lambda expression</i> is evaluated, an instance of the <code>ResourceValidator</code> interface is created as the result."},{"owner":{"account_id":19706293,"reputation":13,"user_id":14427902,"display_name":"deprecated"},"score":0,"creation_date":1602368468,"post_id":64298743,"comment_id":113699595,"body_markdown":"@chrylis-cautiouslyoptimistic-\nThis is where I&#39;m getting confused, I&#39;m struggling with the concept.\nInterfaces don&#39;t have constructors because they are Interfaces, yet as you are saying when the lambda expression is   evaluated the interface is created.\nIs this just something I have to accept in java 8?","body":"@chrylis-cautiouslyoptimistic- This is where I&#39;m getting confused, I&#39;m struggling with the concept. Interfaces don&#39;t have constructors because they are Interfaces, yet as you are saying when the lambda expression is   evaluated the interface is created. Is this just something I have to accept in java 8?"},{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1602368521,"post_id":64298743,"comment_id":113699608,"body_markdown":"_Interfaces_ don&#39;t have constructors, but _objects_ do, and you use that all the time. The lambda expression creates _an object_ (via some magic means not specified) that implements that interface.","body":"<i>Interfaces</i> don&#39;t have constructors, but <i>objects</i> do, and you use that all the time. The lambda expression creates <i>an object</i> (via some magic means not specified) that implements that interface."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1602501435,"post_id":64298743,"comment_id":113731123,"body_markdown":"Creating an instance of an interface implementation without declaring a class, [is possible since JDK&#160;1.3](https://docs.oracle.com/javase/8/docs/api/?java/lang/reflect/Proxy.html). The difference is, lambda expressions 1) have a simpler and concise syntax, 2) provide compile-time type safety, and 3) are more efficient in most cases. But they can only implement functional interfaces, that are interfaces declaring only a single abstract method that does not match a public method of java.lang.Object [(see also this)](https://docs.oracle.com/javase/8/docs/api/?java/lang/FunctionalInterface.html).","body":"Creating an instance of an interface implementation without declaring a class, <a href=\"https://docs.oracle.com/javase/8/docs/api/?java/lang/reflect/Proxy.html\" rel=\"nofollow noreferrer\">is possible since JDK 1.3</a>. The difference is, lambda expressions 1) have a simpler and concise syntax, 2) provide compile-time type safety, and 3) are more efficient in most cases. But they can only implement functional interfaces, that are interfaces declaring only a single abstract method that does not match a public method of java.lang.Object <a href=\"https://docs.oracle.com/javase/8/docs/api/?java/lang/FunctionalInterface.html\" rel=\"nofollow noreferrer\">(see also this)</a>."}],"answers":[{"comments":[{"owner":{"account_id":19706293,"reputation":13,"user_id":14427902,"display_name":"deprecated"},"score":0,"creation_date":1602369149,"post_id":64298869,"comment_id":113699718,"body_markdown":"Brilliant, thanks that makes a lot of sense and my question a lot more ridiculous.","body":"Brilliant, thanks that makes a lot of sense and my question a lot more ridiculous."},{"owner":{"account_id":1354373,"reputation":4359,"user_id":1293087,"display_name":"Laksitha Ranasingha"},"score":0,"creation_date":1602369528,"post_id":64298869,"comment_id":113699782,"body_markdown":"No problem, if you use Intellij (not sure how Eclipse etc do) you could play around and see different variations of the same implementation of lambdas, method references etc.  Just press Option/Alt + Enter on the lambda for instance, which is called intention actions.","body":"No problem, if you use Intellij (not sure how Eclipse etc do) you could play around and see different variations of the same implementation of lambdas, method references etc.  Just press Option/Alt + Enter on the lambda for instance, which is called intention actions."}],"tags":[],"owner":{"account_id":1354373,"reputation":4359,"user_id":1293087,"display_name":"Laksitha Ranasingha"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1602368708,"creation_date":1602368708,"answer_id":64298869,"question_id":64298743,"body_markdown":"You provided the implementation of those static methods. For example; when you created a lambda as `resource -&gt; resource.containsKey(property)`, what you essentially did was;\r\n```\r\n return new ResourceValidator() {\r\n            @Override\r\n            public Boolean apply(Map&lt;String, String&gt; resource) {\r\n                return resource.containsKey(property);\r\n            }\r\n        };\r\n```\r\n\r\nyou implemented the `apply` of `ResourceValidator` function (is subtype of `Function` interface, which is marked as a functional interface). \r\n\r\nSo now you could invoke it like;\r\n\r\n`ResourceValidator.containsProperty(&quot;foo&quot;).apply(Map.of(&quot;foo&quot;, &quot;bar&quot;));`\r\n\r\nYou may have come across Java lambda expressions. Otherwise, this is quite comprehensive https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html, \r\n","title":"How the Lambda in static method instantiates the interface","body":"<p>You provided the implementation of those static methods. For example; when you created a lambda as <code>resource -&gt; resource.containsKey(property)</code>, what you essentially did was;</p>\n<pre><code> return new ResourceValidator() {\n            @Override\n            public Boolean apply(Map&lt;String, String&gt; resource) {\n                return resource.containsKey(property);\n            }\n        };\n</code></pre>\n<p>you implemented the <code>apply</code> of <code>ResourceValidator</code> function (is subtype of <code>Function</code> interface, which is marked as a functional interface).</p>\n<p>So now you could invoke it like;</p>\n<p><code>ResourceValidator.containsProperty(&quot;foo&quot;).apply(Map.of(&quot;foo&quot;, &quot;bar&quot;));</code></p>\n<p>You may have come across Java lambda expressions. Otherwise, this is quite comprehensive <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html</a>,</p>\n"}],"owner":{"account_id":19706293,"reputation":13,"user_id":14427902,"display_name":"deprecated"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":64298869,"answer_count":1,"score":1,"last_activity_date":1671213572,"creation_date":1602367558,"question_id":64298743,"body_markdown":"I&#39;ve been doing java for some time, due to corporate and personal inertia, mostly java 1.7.\r\nRecently I decided to start learning a bit more about the functional side o java, so I started playing  with the Function interface and building a **Validator** that would check **if a Map would match the Validator criteria**.\r\nSo that the Validator could be built programatically like\r\n\r\n    Usage:\r\n    \r\n    Map&lt;String, String&gt; book = new LinkedHashMap&lt;String, String&gt;();\r\n    \r\n    book.put(&quot;Title&quot;, &quot;Leviathan Wakes&quot;);\r\n    book.put(&quot;Subject&quot;, &quot;A proto molecule&quot;);\r\n    book.put(&quot;Category&quot;, &quot;sci-fi&quot;);\r\n    book.put(&quot;TotalPages&quot;, &quot;350&quot;)\r\n    \r\n    final ResourceValidator filter = ResourceValidator.containsProperty(&quot;Title&quot;).and(ResourceValidator.containsProperty(&quot;Category&quot;));\r\n    assert filter.apply(book);\r\n\r\n\r\nThis is code I&#39;ve produced  \r\n\r\n\r\n        public interface ResourceValidator extends Function&lt;Map&lt;String,String&gt;,Boolean&gt; {\r\n        \r\n        static ResourceValidator containsProperty(String property) {\r\n                return resource -&gt; resource.containsKey(property);\r\n            }\r\n    \r\n        default ResourceValidator and(ResourceValidator other){\r\n            return resource -&gt; this.apply(resource) &amp;&amp; other.apply(resource);\r\n        }\r\n    }\r\n\r\n\r\nSo far it seems to be behaving as expected, what I can&#39;t understand is how  the interface gets instantiated.\r\nThe call to \r\n\r\n    final ResourceValidator filter = ResourceValidator.containsProperty(&quot;Title&quot;);\r\n\r\ncalls static method of the interface, **how and where in the static method is ResourceValidator  instantiated?**\r\n\r\n    static ResourceValidator containsProperty(String property) {\r\n                return resource -&gt; resource.containsKey(property);\r\n            }\r\n\r\n\r\nI&#39;ve been looking and I&#39;m struggling to find an answer \r\n\r\n","title":"How the Lambda in static method instantiates the interface","body":"<p>I've been doing java for some time, due to corporate and personal inertia, mostly java 1.7.\nRecently I decided to start learning a bit more about the functional side o java, so I started playing  with the Function interface and building a <strong>Validator</strong> that would check <strong>if a Map would match the Validator criteria</strong>.\nSo that the Validator could be built programatically like</p>\n<pre><code>Usage:\n\nMap&lt;String, String&gt; book = new LinkedHashMap&lt;String, String&gt;();\n\nbook.put(&quot;Title&quot;, &quot;Leviathan Wakes&quot;);\nbook.put(&quot;Subject&quot;, &quot;A proto molecule&quot;);\nbook.put(&quot;Category&quot;, &quot;sci-fi&quot;);\nbook.put(&quot;TotalPages&quot;, &quot;350&quot;)\n\nfinal ResourceValidator filter = ResourceValidator.containsProperty(&quot;Title&quot;).and(ResourceValidator.containsProperty(&quot;Category&quot;));\nassert filter.apply(book);\n</code></pre>\n<p>This is code I've produced</p>\n<pre><code>    public interface ResourceValidator extends Function&lt;Map&lt;String,String&gt;,Boolean&gt; {\n    \n    static ResourceValidator containsProperty(String property) {\n            return resource -&gt; resource.containsKey(property);\n        }\n\n    default ResourceValidator and(ResourceValidator other){\n        return resource -&gt; this.apply(resource) &amp;&amp; other.apply(resource);\n    }\n}\n</code></pre>\n<p>So far it seems to be behaving as expected, what I can't understand is how  the interface gets instantiated.\nThe call to</p>\n<pre><code>final ResourceValidator filter = ResourceValidator.containsProperty(&quot;Title&quot;);\n</code></pre>\n<p>calls static method of the interface, <strong>how and where in the static method is ResourceValidator  instantiated?</strong></p>\n<pre><code>static ResourceValidator containsProperty(String property) {\n            return resource -&gt; resource.containsKey(property);\n        }\n</code></pre>\n<p>I've been looking and I'm struggling to find an answer</p>\n"},{"tags":["java","object","dependency-injection"],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1574766270,"creation_date":1280745305,"answer_id":3386912,"question_id":3386889,"body_markdown":"When using an inversion-of-control container to perform dependency injection, the container creates the objects, and not the developer. This is done so that the container can &quot;inject&quot; these objects into other objects.","title":"Difference between creating new object and dependency injection","body":"<p>When using an inversion-of-control container to perform dependency injection, the container creates the objects, and not the developer. This is done so that the container can \"inject\" these objects into other objects.</p>\n"},{"comments":[{"owner":{"account_id":482565,"reputation":2076,"user_id":897033,"accept_rate":55,"display_name":"Radu"},"score":4,"creation_date":1496326159,"post_id":3386918,"comment_id":75624990,"body_markdown":"How is that different than using a Singleton?","body":"How is that different than using a Singleton?"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1496332903,"post_id":3386918,"comment_id":75630237,"body_markdown":"@Radu a Singleton is a design pattern that restricts the number of instances of a specific class to a maximum of one. So the creation of the instance is part of the pattern implementation. The singleton doesn&#39;t get injected into the places where you need it, that&#39;s what you need dependency injection for.","body":"@Radu a Singleton is a design pattern that restricts the number of instances of a specific class to a maximum of one. So the creation of the instance is part of the pattern implementation. The singleton doesn&#39;t get injected into the places where you need it, that&#39;s what you need dependency injection for."},{"owner":{"account_id":482565,"reputation":2076,"user_id":897033,"accept_rate":55,"display_name":"Radu"},"score":3,"creation_date":1496760445,"post_id":3386918,"comment_id":75786077,"body_markdown":"How is that single instance of the class that gets &quot;magically&quot; instanced and distributed better than calling a SingletonClass.getSingleInstance() is my question. This dependency injection looks redundant for me if you only have 1 instance, just use the singleton pattern.","body":"How is that single instance of the class that gets &quot;magically&quot; instanced and distributed better than calling a SingletonClass.getSingleInstance() is my question. This dependency injection looks redundant for me if you only have 1 instance, just use the singleton pattern."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1496786286,"post_id":3386918,"comment_id":75800685,"body_markdown":"@Radu you can switch the instances that dependency injection gives you. For instance in unit tests you get a subclass that&#39;s designed to work with the unit tests. Also who said that the injected instances are singletons?","body":"@Radu you can switch the instances that dependency injection gives you. For instance in unit tests you get a subclass that&#39;s designed to work with the unit tests. Also who said that the injected instances are singletons?"},{"owner":{"account_id":482565,"reputation":2076,"user_id":897033,"accept_rate":55,"display_name":"Radu"},"score":2,"creation_date":1496910451,"post_id":3386918,"comment_id":75858636,"body_markdown":"&quot;you usually only have one instance of that class.&quot; - which is true. The only benefit I see over singletons is you can garbage collect that single instance when not needed and reinstance it when needed.","body":"&quot;you usually only have one instance of that class.&quot; - which is true. The only benefit I see over singletons is you can garbage collect that single instance when not needed and reinstance it when needed."},{"owner":{"account_id":1769857,"reputation":1011,"user_id":1614903,"display_name":"Holger B&#246;hnke"},"score":0,"creation_date":1610711858,"post_id":3386918,"comment_id":116224734,"body_markdown":"@Radu The difference is very important. `SingletonClass.getSingleInstance()` gives you an instance of the concrete `SingletonClass`. You may use that in many locations of your code. DI usually injects an interface `ISingletonClass` that matches the `SingletonClass` signature. You determine which concrete implementation gets used in the single spot where you create the DI. So you can reuse your code without changing it with different implementations of `ISingletonClass`. Eg. in unit testing or on different platforms.","body":"@Radu The difference is very important. <code>SingletonClass.getSingleInstance()</code> gives you an instance of the concrete <code>SingletonClass</code>. You may use that in many locations of your code. DI usually injects an interface <code>ISingletonClass</code> that matches the <code>SingletonClass</code> signature. You determine which concrete implementation gets used in the single spot where you create the DI. So you can reuse your code without changing it with different implementations of <code>ISingletonClass</code>. Eg. in unit testing or on different platforms."}],"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"comment_count":6,"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1280745377,"creation_date":1280745377,"answer_id":3386918,"question_id":3386889,"body_markdown":"Well,\r\ncreating a new object is as explicit as it can get - you create a new instance of the desired class.\r\n\r\nDependency injections is a mechanism that provides you with references where you need them.\r\nImagine a class that represents a connection pool to your database - you usually only have one instance of that class. Now you need to distribute that reference to all the classes that use it.\r\nHere is where Dependency Injection comes in handy - by using a DI framework such as Spring you can define that the one instance of your pool will be injected into the classes that need it.\r\n\r\nYour question itself is not easy to answer since the creation of an object and dependency injection can&#39;t be compared that easily...","title":"Difference between creating new object and dependency injection","body":"<p>Well,\ncreating a new object is as explicit as it can get - you create a new instance of the desired class.</p>\n\n<p>Dependency injections is a mechanism that provides you with references where you need them.\nImagine a class that represents a connection pool to your database - you usually only have one instance of that class. Now you need to distribute that reference to all the classes that use it.\nHere is where Dependency Injection comes in handy - by using a DI framework such as Spring you can define that the one instance of your pool will be injected into the classes that need it.</p>\n\n<p>Your question itself is not easy to answer since the creation of an object and dependency injection can't be compared that easily...</p>\n"},{"comments":[{"owner":{"account_id":3707342,"reputation":6756,"user_id":3085495,"accept_rate":39,"display_name":"I Love Stackoverflow"},"score":1,"creation_date":1612471931,"post_id":3386923,"comment_id":116785226,"body_markdown":"This is an excellent answer as I am also trying to understand that when we design class how do we decide that whether we should be injecting it as a dependency or creating a new instance of the object inside the class.","body":"This is an excellent answer as I am also trying to understand that when we design class how do we decide that whether we should be injecting it as a dependency or creating a new instance of the object inside the class."}],"tags":[],"owner":{"account_id":78181,"reputation":46967,"user_id":222674,"accept_rate":97,"display_name":"Petar Minchev"},"comment_count":1,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1671213547,"creation_date":1280745419,"answer_id":3386923,"question_id":3386889,"body_markdown":"Of course, both create objects. The difference is in who is responsible for the creation. Is it the class that needs its dependencies or a container like Spring for example, which wires the component&#39;s dependencies? You configure the dependencies in a separate(typically XML) configuration file.\r\n\r\nIt is really a separation of concerns. The class says I need this, this, and this component to function properly. The class doesn&#39;t care how it gets its components. You plug them into the class with a separate configuration file.\r\n\r\nTo give you an example let&#39;s consider having a shopping class that needs a payment module. You don&#39;t want to hardcode which payment module will be used. To achieve this you inverse the control. You can change the used payment module with a few keystrokes in the configuration file of the container. The power is that you aren&#39;t touching any Java code.","title":"Difference between creating new object and dependency injection","body":"<p>Of course, both create objects. The difference is in who is responsible for the creation. Is it the class that needs its dependencies or a container like Spring for example, which wires the component's dependencies? You configure the dependencies in a separate(typically XML) configuration file.</p>\n<p>It is really a separation of concerns. The class says I need this, this, and this component to function properly. The class doesn't care how it gets its components. You plug them into the class with a separate configuration file.</p>\n<p>To give you an example let's consider having a shopping class that needs a payment module. You don't want to hardcode which payment module will be used. To achieve this you inverse the control. You can change the used payment module with a few keystrokes in the configuration file of the container. The power is that you aren't touching any Java code.</p>\n"},{"comments":[{"owner":{"account_id":1230939,"reputation":103,"user_id":1195549,"accept_rate":67,"display_name":"Anearion"},"score":0,"creation_date":1481639326,"post_id":3387013,"comment_id":69450777,"body_markdown":"I just logged to upvote this, it&#39;s way better than the accepted anwser and explain thing is a proper way.","body":"I just logged to upvote this, it&#39;s way better than the accepted anwser and explain thing is a proper way."},{"owner":{"account_id":1138466,"reputation":17496,"user_id":1123020,"accept_rate":60,"display_name":"Yoda"},"score":0,"creation_date":1503327511,"post_id":3387013,"comment_id":78558414,"body_markdown":"But how the `injectedHandle` is being initilized outside our control when we create a `Holder`? What if there are more parameters, how it knows how to initilize them, or notto initialize at all?","body":"But how the <code>injectedHandle</code> is being initilized outside our control when we create a <code>Holder</code>? What if there are more parameters, how it knows how to initilize them, or notto initialize at all?"},{"owner":{"account_id":70637,"reputation":3185,"user_id":204658,"accept_rate":88,"display_name":"thoni56"},"score":1,"creation_date":1503391378,"post_id":3387013,"comment_id":78583154,"body_markdown":"@Yoda, added a description of how to do the actual injection. Hope that helps.","body":"@Yoda, added a description of how to do the actual injection. Hope that helps."},{"owner":{"account_id":6339935,"reputation":337,"user_id":5765162,"display_name":"Gonzdn"},"score":0,"creation_date":1568927959,"post_id":3387013,"comment_id":102441584,"body_markdown":"Great Explanation, hope this gelps many devs who are learning more about design patterns","body":"Great Explanation, hope this gelps many devs who are learning more about design patterns"}],"tags":[],"owner":{"account_id":70637,"reputation":3185,"user_id":204658,"accept_rate":88,"display_name":"thoni56"},"comment_count":4,"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1562153257,"creation_date":1280746262,"answer_id":3387013,"question_id":3386889,"body_markdown":"Well, they&#39;re not exactly comparable. You will always have to create a new object by instantiating a class at some point. Dependency injection also requires creating new objects.\r\n\r\nDependency injection really comes into play when you want to control or verify the behavior of instances used by a class that you use or want to test. (For Test Driven Development, dependency injection is key for all but the smallest example).\r\n\r\nAssume a class Holder which requires an object of class Handle. The traditional way to do that would be to let the Holder instance create and own it:\r\n\r\n    class Holder {\r\n        private Handle myHandle = new Handle();\r\n        public void handleIt() {\r\n            handle.handleIt();\r\n        }\r\n    }\r\n\r\nThe Holder instance creates myHandle and no one outside the class can get at it. In some cases, unit-testing being one of them, this is a problem because it is not possible to test the Holder class without creating the Handle instance which in turn might depend on many other classes and instances. This makes testing unwieldy and cumbersome.\r\n\r\nBy injecting the Handle instance, for example in the constructor, someone from the outside becomes responsible for the creation of the instance.\r\n\r\n    class Holder {\r\n        private Handle myHandle;\r\n    \r\n        public Holder(Handle injectedHandle) {\r\n            myHandle = injectedHandle;\r\n        }\r\n    \r\n        public void handleIt() {\r\n            handle.handleIt();\r\n        }\r\n    }\r\n\r\nAs you can see the code is almost the same, and the Handle is still private, but the Holder class now has a much loser coupling to its outside world which makes many things simpler. And when testing the Holder class a mock or stub object can be injected instead of a real instance making it possible to verify or control the interaction between the Holder, its caller and the handle.\r\n\r\nThe actual injection would take place at some other place, usually some &quot;main&quot; program. There are multiple frameworks that can help you do that without programming, but essentially this is the code in the &quot;main&quot; program:\r\n\r\n    ...\r\n    private Handle myHandle = new Handle(); // Create the instance to inject\r\n    private Handler theHandler = new Handler(myHandle); // Inject the handle\r\n    ...\r\n\r\nIn essence, the injection is nothing more than a fancy `set` method. And of course, you can implement the injection mechanism using that instead of in the constructor like the simple example above.\r\n    ","title":"Difference between creating new object and dependency injection","body":"<p>Well, they're not exactly comparable. You will always have to create a new object by instantiating a class at some point. Dependency injection also requires creating new objects.</p>\n\n<p>Dependency injection really comes into play when you want to control or verify the behavior of instances used by a class that you use or want to test. (For Test Driven Development, dependency injection is key for all but the smallest example).</p>\n\n<p>Assume a class Holder which requires an object of class Handle. The traditional way to do that would be to let the Holder instance create and own it:</p>\n\n<pre><code>class Holder {\n    private Handle myHandle = new Handle();\n    public void handleIt() {\n        handle.handleIt();\n    }\n}\n</code></pre>\n\n<p>The Holder instance creates myHandle and no one outside the class can get at it. In some cases, unit-testing being one of them, this is a problem because it is not possible to test the Holder class without creating the Handle instance which in turn might depend on many other classes and instances. This makes testing unwieldy and cumbersome.</p>\n\n<p>By injecting the Handle instance, for example in the constructor, someone from the outside becomes responsible for the creation of the instance.</p>\n\n<pre><code>class Holder {\n    private Handle myHandle;\n\n    public Holder(Handle injectedHandle) {\n        myHandle = injectedHandle;\n    }\n\n    public void handleIt() {\n        handle.handleIt();\n    }\n}\n</code></pre>\n\n<p>As you can see the code is almost the same, and the Handle is still private, but the Holder class now has a much loser coupling to its outside world which makes many things simpler. And when testing the Holder class a mock or stub object can be injected instead of a real instance making it possible to verify or control the interaction between the Holder, its caller and the handle.</p>\n\n<p>The actual injection would take place at some other place, usually some \"main\" program. There are multiple frameworks that can help you do that without programming, but essentially this is the code in the \"main\" program:</p>\n\n<pre><code>...\nprivate Handle myHandle = new Handle(); // Create the instance to inject\nprivate Handler theHandler = new Handler(myHandle); // Inject the handle\n...\n</code></pre>\n\n<p>In essence, the injection is nothing more than a fancy <code>set</code> method. And of course, you can implement the injection mechanism using that instead of in the constructor like the simple example above.</p>\n"},{"tags":[],"owner":{"account_id":176511,"reputation":2643,"user_id":407257,"display_name":"carlsborg"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1280746643,"creation_date":1280746643,"answer_id":3387055,"question_id":3386889,"body_markdown":"Dependency injections adds a layer of configurability into your application. In the sense, when you hard code object construction, you need to re-build and re-deploy your app, but when you use dependency injection, you can re configure the XML and change the behavior without re-building and re-deploying. There are a large variety of use cases where this can save a lot of tie and effort. ","title":"Difference between creating new object and dependency injection","body":"<p>Dependency injections adds a layer of configurability into your application. In the sense, when you hard code object construction, you need to re-build and re-deploy your app, but when you use dependency injection, you can re configure the XML and change the behavior without re-building and re-deploying. There are a large variety of use cases where this can save a lot of tie and effort. </p>\n"},{"comments":[{"owner":{"account_id":6065237,"reputation":21,"user_id":4735770,"display_name":"wjohnson"},"score":0,"creation_date":1586694868,"post_id":61171537,"comment_id":108216030,"body_markdown":"Better late than never I hope!","body":"Better late than never I hope!"}],"tags":[],"owner":{"account_id":6065237,"reputation":21,"user_id":4735770,"display_name":"wjohnson"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1586694793,"creation_date":1586694793,"answer_id":61171537,"question_id":3386889,"body_markdown":"The answer to the following question may also give the answer you are looking for: Why is the new operator an anti-pattern? Well, the simple answer is that using the new operator may create a hidden, inaccessible dependency within the containing class. This makes testing the containing class more difficult because it involves testing the hidden dependency at the same time (barring MOCK frameworks of course). However, you can avoid this situation by not using the new operator and injecting the dependent object instead. This also has the following advantages:  \r\n\r\n - For test purposes you can inject a different object. \r\n - The resulting containing class is more reusable because it can support different implementations of the dependent object.\r\n","title":"Difference between creating new object and dependency injection","body":"<p>The answer to the following question may also give the answer you are looking for: Why is the new operator an anti-pattern? Well, the simple answer is that using the new operator may create a hidden, inaccessible dependency within the containing class. This makes testing the containing class more difficult because it involves testing the hidden dependency at the same time (barring MOCK frameworks of course). However, you can avoid this situation by not using the new operator and injecting the dependent object instead. This also has the following advantages:  </p>\n\n<ul>\n<li>For test purposes you can inject a different object. </li>\n<li>The resulting containing class is more reusable because it can support different implementations of the dependent object.</li>\n</ul>\n"}],"owner":{"account_id":161174,"reputation":1295,"user_id":381737,"accept_rate":50,"display_name":"TaherT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41755,"favorite_count":0,"down_vote_count":1,"up_vote_count":36,"accepted_answer_id":3386918,"answer_count":6,"score":35,"last_activity_date":1671213547,"creation_date":1280745100,"question_id":3386889,"body_markdown":"What is the difference between creating a new object and dependency injection? Please explain in detail.","title":"Difference between creating new object and dependency injection","body":"<p>What is the difference between creating a new object and dependency injection? Please explain in detail.</p>\n"},{"tags":["java","collections","hashmap","concurrenthashmap"],"comments":[{"owner":{"account_id":4829578,"reputation":4682,"user_id":3898076,"accept_rate":72,"display_name":"Naman Gala"},"score":0,"creation_date":1441110256,"post_id":32331484,"comment_id":52537143,"body_markdown":"This might help [How does ConcurrentHashMap work internally?](http://stackoverflow.com/questions/11793067/how-does-concurrenthashmap-work-internally)","body":"This might help <a href=\"http://stackoverflow.com/questions/11793067/how-does-concurrenthashmap-work-internally\">How does ConcurrentHashMap work internally?</a>"}],"answers":[{"comments":[{"owner":{"account_id":5795564,"reputation":698,"user_id":4571486,"accept_rate":31,"display_name":"chepaiytrath"},"score":0,"creation_date":1441110984,"post_id":32331743,"comment_id":52537658,"body_markdown":"For pt. 1 in your answer : Does that mean that the buckets in CHM are divided too? And under those segments there are HashEntry linked lists?","body":"For pt. 1 in your answer : Does that mean that the buckets in CHM are divided too? And under those segments there are HashEntry linked lists?"},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1441113484,"post_id":32331743,"comment_id":52539606,"body_markdown":"Buckets cannot be divided, they are linked lists. A segment is a bucket array, there&#39;s just more of them per one map instance.","body":"Buckets cannot be divided, they are linked lists. A segment is a bucket array, there&#39;s just more of them per one map instance."},{"owner":{"account_id":5795564,"reputation":698,"user_id":4571486,"accept_rate":31,"display_name":"chepaiytrath"},"score":0,"creation_date":1441117748,"post_id":32331743,"comment_id":52542650,"body_markdown":"But the structure as i saw in code is like:\n\nCHM has an instance of Segment\nSegment has an instance of HashEntry\n\nWhere does the bucket come into picture","body":"But the structure as i saw in code is like:  CHM has an instance of Segment Segment has an instance of HashEntry  Where does the bucket come into picture"},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":1,"creation_date":1441118431,"post_id":32331743,"comment_id":52543121,"body_markdown":"I guess you saw wrong, both are arrays. http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/concurrent/ConcurrentHashMap.java#169  and   http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/concurrent/ConcurrentHashMap.java#307","body":"I guess you saw wrong, both are arrays. <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/concurrent/ConcurrentHashMap.java#169\" rel=\"nofollow noreferrer\">grepcode.com/file/repository.grepcode.com/java/root/jdk/open&zwnj;&#8203;jdk/&hellip;</a>  and   <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/concurrent/ConcurrentHashMap.java#307\" rel=\"nofollow noreferrer\">grepcode.com/file/repository.grepcode.com/java/root/jdk/open&zwnj;&#8203;jdk/&hellip;</a>"},{"owner":{"account_id":5795564,"reputation":698,"user_id":4571486,"accept_rate":31,"display_name":"chepaiytrath"},"score":0,"creation_date":1441170204,"post_id":32331743,"comment_id":52563876,"body_markdown":"Yeah, I meant to say that there is an array of Segment in CHM and an array of HashEntry in Segment. Now you said that &quot;A segment is a bucket array&quot;? Please elaborate on that.","body":"Yeah, I meant to say that there is an array of Segment in CHM and an array of HashEntry in Segment. Now you said that &quot;A segment is a bucket array&quot;? Please elaborate on that."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":3,"creation_date":1441175221,"post_id":32331743,"comment_id":52565777,"body_markdown":"Segment = array of HashEntry. One HashEntry = one bucket. Does that clear your vision?","body":"Segment = array of HashEntry. One HashEntry = one bucket. Does that clear your vision?"}],"tags":[],"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"comment_count":6,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1441123206,"creation_date":1441110725,"answer_id":32331743,"question_id":32331484,"body_markdown":"1. A bucket is an individual slot in the map&#39;s array. This is the same with both `HashMap` and `ConcurrentHashMap`. Conceptually, the latter has its array broken into segments (each segment is an array of references), but that&#39;s it. Note that the CHM in Java 8 no longer has segments, it&#39;s all a single array.\r\n\r\n2. Yes, it&#39;s the scheme known as _segmented locking_. It reduces inter-thread contention, but does not eliminate it.","title":"What is the difference between Segment of ConcurrentHashMap and buckets of HashMap theoretically?","body":"<ol>\n<li><p>A bucket is an individual slot in the map's array. This is the same with both <code>HashMap</code> and <code>ConcurrentHashMap</code>. Conceptually, the latter has its array broken into segments (each segment is an array of references), but that's it. Note that the CHM in Java 8 no longer has segments, it's all a single array.</p></li>\n<li><p>Yes, it's the scheme known as <em>segmented locking</em>. It reduces inter-thread contention, but does not eliminate it.</p></li>\n</ol>\n"}],"owner":{"account_id":5795564,"reputation":698,"user_id":4571486,"accept_rate":31,"display_name":"chepaiytrath"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8741,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":32331743,"answer_count":1,"score":7,"last_activity_date":1671213469,"creation_date":1441110011,"question_id":32331484,"body_markdown":"I understand that in HashMap, the entries (Key, Value) are placed in buckets based on hash(`Key.hashCode`)--&gt; The index that denotes the bucket location. In case an entry is already placed at that location, there is a linked list created and the new entry (if it has a different key --&gt; via `equals()` method) is placed at the beginning of the linked list. \r\n\r\n1. Can I co-relate this concept with that of ConcurrentHashMap, but instead of Buckets, there are Segments upon which individual threads have a lock. And instead of Entries, there are HashEntry(ies). In similar fashion, a linked list is created and if the Key-Value pair being inserted is different, based on `equals()` of the key, it is placed at end of the linked list.\r\n2. Am I correct when I say that:\r\n`put` of CHM is not synchronized, thus any thread can access this method, this put method calculates hash value of the key passed to it and gets the segment index (kind of like buckets). Then for that segment only, it calls the `put` method. Now under Segment, the `put` method specifies that there will be a `lock()`, so that only one thread can alter data in a particular segment, thus concluding that if the concurrency level is 16 there shall be 16 threads and thus these threads will be able to **PUT** values only one segment at a time.\r\n\r\n","title":"What is the difference between Segment of ConcurrentHashMap and buckets of HashMap theoretically?","body":"<p>I understand that in HashMap, the entries (Key, Value) are placed in buckets based on hash(<code>Key.hashCode</code>)--&gt; The index that denotes the bucket location. In case an entry is already placed at that location, there is a linked list created and the new entry (if it has a different key --&gt; via <code>equals()</code> method) is placed at the beginning of the linked list.</p>\n<ol>\n<li>Can I co-relate this concept with that of ConcurrentHashMap, but instead of Buckets, there are Segments upon which individual threads have a lock. And instead of Entries, there are HashEntry(ies). In similar fashion, a linked list is created and if the Key-Value pair being inserted is different, based on <code>equals()</code> of the key, it is placed at end of the linked list.</li>\n<li>Am I correct when I say that:\n<code>put</code> of CHM is not synchronized, thus any thread can access this method, this put method calculates hash value of the key passed to it and gets the segment index (kind of like buckets). Then for that segment only, it calls the <code>put</code> method. Now under Segment, the <code>put</code> method specifies that there will be a <code>lock()</code>, so that only one thread can alter data in a particular segment, thus concluding that if the concurrency level is 16 there shall be 16 threads and thus these threads will be able to <strong>PUT</strong> values only one segment at a time.</li>\n</ol>\n"},{"tags":["java","javafx","mouseevent","gridpane"],"comments":[{"owner":{"account_id":15242029,"reputation":1,"user_id":16665649,"display_name":"R. Tayyip Barbaros"},"score":0,"creation_date":1633301258,"post_id":69429420,"comment_id":122716745,"body_markdown":"https://stackoverflow.com/questions/53458534/i-want-to-get-gridpanes-index-when-i-act-click-event?noredirect=1&amp;lq=1 Check this!","body":"<a href=\"https://stackoverflow.com/questions/53458534/i-want-to-get-gridpanes-index-when-i-act-click-event?noredirect=1&amp;lq=1\" title=\"i want to get gridpanes index when i act click event\">stackoverflow.com/questions/53458534/&hellip;</a> Check this!"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1633302189,"post_id":69429420,"comment_id":122716858,"body_markdown":"A [complicated solution using custom events](https://stackoverflow.com/a/27423430/1155209). There are simpler solutions than the linked example. It was designed to demonstrate creating and handling custom events, which isn’t necessary to solve this problem, but it does provide one potential solution.","body":"A <a href=\"https://stackoverflow.com/a/27423430/1155209\">complicated solution using custom events</a>. There are simpler solutions than the linked example. It was designed to demonstrate creating and handling custom events, which isn’t necessary to solve this problem, but it does provide one potential solution."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1633302852,"post_id":69429420,"comment_id":122716946,"body_markdown":"It would _probably_ be easier to add a unique event handler to each &quot;cell&quot; (the &quot;cell&quot; is the node you place in the grid pane). That way you &quot;just know&quot; which cell was interacted with because only interacting with that specific cell will invoke that specific event handler.","body":"It would <i>probably</i> be easier to add a unique event handler to each &quot;cell&quot; (the &quot;cell&quot; is the node you place in the grid pane). That way you &quot;just know&quot; which cell was interacted with because only interacting with that specific cell will invoke that specific event handler."}],"answers":[{"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1650837043,"post_id":69429741,"comment_id":127211198,"body_markdown":"A related example is seen [here](https://stackoverflow.com/a/70855044/230513).","body":"A related example is seen <a href=\"https://stackoverflow.com/a/70855044/230513\">here</a>."}],"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1671213396,"creation_date":1633305369,"answer_id":69429741,"question_id":69429420,"body_markdown":"Starting from this [example][1], the variation below fills a [`GridPane`][2] with `N` x `N` instances of `Button`, adding each to a `List&lt;Button&gt;`. The method `getGridButton()` shows how to obtain a button reference efficiently based on its grid coordinates, and the action listener shows that the clicked and found buttons are identical.\r\n\r\nHow does each grid button know its own location on the grid? Each one gets its own instance of an [anonymous class][3]—the button&#39;s event handler—that has access to the row and column parameters passed to `createGridButton()`. These parameters are [_effectively final_][4]; in contrast, the original [example][1] using an earlier version of Java had to make the parameters explicitly final.\r\n\r\nWhile this approach obtains the row and column of any `Node` in the grid, a `Button` or ` ToggleButton` may be more convenient in this context. In particular, you can use `setGraphic​()` with `ContentDisplay.GRAPHIC_ONLY` to get the desired appearance.\r\n\r\nAs an aside, the `GridPane` methods `getColumnIndex` and `getRowIndex` return `null` as they refer to the child&#39;s index constraints, _only_ if set, as illustrated [here][5].\r\n\r\n[![row major order][6]][6]\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport javafx.application.Application;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.geometry.Insets;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.layout.GridPane;\r\nimport javafx.stage.Stage;\r\n\r\n/** @see https://stackoverflow.com/a/69429741/230513 */\r\npublic class GridButtonTest extends Application {\r\n    \r\n    private static final int N = 5;\r\n    private final List&lt;Button&gt; list = new ArrayList&lt;&gt;();\r\n    \r\n    private Button getGridButton(int r, int c) {\r\n        int index = r * N + c;\r\n        return list.get(index);\r\n    }\r\n    \r\n    private Button createGridButton(int row, int col) {\r\n        Button button = new Button(&quot;r&quot; + row + &quot;,c&quot; + col);\r\n        button.setOnAction((ActionEvent event) -&gt; {\r\n            System.out.println(event.getSource() == getGridButton(row, col));\r\n        });\r\n        return button;\r\n    }\r\n    \r\n    @Override\r\n    public void start(Stage stage) {\r\n        stage.setTitle(&quot;GridButtonTest&quot;);\r\n        GridPane root = new GridPane();\r\n        for (int i = 0; i &lt; N * N; i++) {\r\n            int row = i / N;\r\n            int col = i % N;\r\n            Button gb = createGridButton(row, col);\r\n            list.add(gb);\r\n            root.add(gb, col, row);\r\n            GridPane.setMargin(gb, new Insets(N));\r\n        }\r\n        Scene scene = new Scene(root);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n}\r\n```\r\n\r\nFor models using a two dimensional array, also consider a `List&lt;List&lt;Button&gt;&gt;`, illustrated below:\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport javafx.application.Application;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.geometry.Insets;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.layout.GridPane;\r\nimport javafx.stage.Stage;\r\n\r\n/** @see https://stackoverflow.com/a/69429741/230513 */\r\npublic class GridButtonTest extends Application {\r\n\r\n    private static final int N = 5;\r\n    private final List&lt;List&lt;Button&gt;&gt; list = new ArrayList&lt;&gt;();\r\n\r\n    private Button getGridButton(int r, int c) {\r\n        return list.get(r).get(c);\r\n    }\r\n\r\n    private Button createGridButton(int row, int col) {\r\n        Button button = new Button(&quot;r&quot; + row + &quot;,c&quot; + col);\r\n        button.setOnAction((ActionEvent event) -&gt; {\r\n            System.out.println(event.getSource() == getGridButton(row, col));\r\n        });\r\n        return button;\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage stage) {\r\n        stage.setTitle(&quot;GridButtonTest&quot;);\r\n        GridPane root = new GridPane();\r\n        for (int row = 0; row &lt; N; row++) {\r\n            list.add(new ArrayList&lt;&gt;());\r\n            for (int col = 0; col &lt; N; col++) {\r\n                Button gb = createGridButton(row, col);\r\n                list.get(row).add(gb);\r\n                root.add(gb, col, row);\r\n                GridPane.setMargin(gb, new Insets(N));\r\n            }\r\n        }\r\n        Scene scene = new Scene(root);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/7706684/230513\r\n  [2]: https://openjfx.io/javadoc/16/javafx.graphics/javafx/scene/layout/GridPane.html\r\n  [3]: https://docs.oracle.com/javase/tutorial/java/javaOO/anonymousclasses.html#accessing\r\n  [4]: https://stackoverflow.com/q/20938095/230513\r\n  [5]: https://stackoverflow.com/a/69432313/230513\r\n  [6]: https://i.stack.imgur.com/OyEHS.png\r\n  [7]: https://i.stack.imgur.com/Q1Azy.png","title":"JavaFX: Update ImageView on GridPane click","body":"<p>Starting from this <a href=\"https://stackoverflow.com/a/7706684/230513\">example</a>, the variation below fills a <a href=\"https://openjfx.io/javadoc/16/javafx.graphics/javafx/scene/layout/GridPane.html\" rel=\"nofollow noreferrer\"><code>GridPane</code></a> with <code>N</code> x <code>N</code> instances of <code>Button</code>, adding each to a <code>List&lt;Button&gt;</code>. The method <code>getGridButton()</code> shows how to obtain a button reference efficiently based on its grid coordinates, and the action listener shows that the clicked and found buttons are identical.</p>\n<p>How does each grid button know its own location on the grid? Each one gets its own instance of an <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/anonymousclasses.html#accessing\" rel=\"nofollow noreferrer\">anonymous class</a>—the button's event handler—that has access to the row and column parameters passed to <code>createGridButton()</code>. These parameters are <a href=\"https://stackoverflow.com/q/20938095/230513\"><em>effectively final</em></a>; in contrast, the original <a href=\"https://stackoverflow.com/a/7706684/230513\">example</a> using an earlier version of Java had to make the parameters explicitly final.</p>\n<p>While this approach obtains the row and column of any <code>Node</code> in the grid, a <code>Button</code> or <code> ToggleButton</code> may be more convenient in this context. In particular, you can use <code>setGraphic​()</code> with <code>ContentDisplay.GRAPHIC_ONLY</code> to get the desired appearance.</p>\n<p>As an aside, the <code>GridPane</code> methods <code>getColumnIndex</code> and <code>getRowIndex</code> return <code>null</code> as they refer to the child's index constraints, <em>only</em> if set, as illustrated <a href=\"https://stackoverflow.com/a/69432313/230513\">here</a>.</p>\n<p><a href=\"https://i.stack.imgur.com/OyEHS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OyEHS.png\" alt=\"row major order\" /></a></p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport javafx.application.Application;\nimport javafx.event.ActionEvent;\nimport javafx.geometry.Insets;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.layout.GridPane;\nimport javafx.stage.Stage;\n\n/** @see https://stackoverflow.com/a/69429741/230513 */\npublic class GridButtonTest extends Application {\n    \n    private static final int N = 5;\n    private final List&lt;Button&gt; list = new ArrayList&lt;&gt;();\n    \n    private Button getGridButton(int r, int c) {\n        int index = r * N + c;\n        return list.get(index);\n    }\n    \n    private Button createGridButton(int row, int col) {\n        Button button = new Button(&quot;r&quot; + row + &quot;,c&quot; + col);\n        button.setOnAction((ActionEvent event) -&gt; {\n            System.out.println(event.getSource() == getGridButton(row, col));\n        });\n        return button;\n    }\n    \n    @Override\n    public void start(Stage stage) {\n        stage.setTitle(&quot;GridButtonTest&quot;);\n        GridPane root = new GridPane();\n        for (int i = 0; i &lt; N * N; i++) {\n            int row = i / N;\n            int col = i % N;\n            Button gb = createGridButton(row, col);\n            list.add(gb);\n            root.add(gb, col, row);\n            GridPane.setMargin(gb, new Insets(N));\n        }\n        Scene scene = new Scene(root);\n        stage.setScene(scene);\n        stage.show();\n    }\n    \n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>For models using a two dimensional array, also consider a <code>List&lt;List&lt;Button&gt;&gt;</code>, illustrated below:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport javafx.application.Application;\nimport javafx.event.ActionEvent;\nimport javafx.geometry.Insets;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.layout.GridPane;\nimport javafx.stage.Stage;\n\n/** @see https://stackoverflow.com/a/69429741/230513 */\npublic class GridButtonTest extends Application {\n\n    private static final int N = 5;\n    private final List&lt;List&lt;Button&gt;&gt; list = new ArrayList&lt;&gt;();\n\n    private Button getGridButton(int r, int c) {\n        return list.get(r).get(c);\n    }\n\n    private Button createGridButton(int row, int col) {\n        Button button = new Button(&quot;r&quot; + row + &quot;,c&quot; + col);\n        button.setOnAction((ActionEvent event) -&gt; {\n            System.out.println(event.getSource() == getGridButton(row, col));\n        });\n        return button;\n    }\n\n    @Override\n    public void start(Stage stage) {\n        stage.setTitle(&quot;GridButtonTest&quot;);\n        GridPane root = new GridPane();\n        for (int row = 0; row &lt; N; row++) {\n            list.add(new ArrayList&lt;&gt;());\n            for (int col = 0; col &lt; N; col++) {\n                Button gb = createGridButton(row, col);\n                list.get(row).add(gb);\n                root.add(gb, col, row);\n                GridPane.setMargin(gb, new Insets(N));\n            }\n        }\n        Scene scene = new Scene(root);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1633348127,"post_id":69432313,"comment_id":122727406,"body_markdown":"If I understand correctly, [`addRow()`](https://openjfx.io/javadoc/16/javafx.graphics/javafx/scene/layout/GridPane.html#addRow(int,javafx.scene.Node...)) sets the constraints implicitly; cited [here](https://stackoverflow.com/a/69429741/230513)","body":"If I understand correctly, <a href=\"https://openjfx.io/javadoc/16/javafx.graphics/javafx/scene/layout/GridPane.html#addRow(int,javafx.scene.Node...)\" rel=\"nofollow noreferrer\"><code>addRow()</code></a> sets the constraints implicitly; cited <a href=\"https://stackoverflow.com/a/69429741/230513\">here</a>"},{"owner":{"account_id":7717111,"reputation":8774,"user_id":5844477,"display_name":"Sai Dandem"},"score":1,"creation_date":1633392823,"post_id":69432313,"comment_id":122742470,"body_markdown":"@trashgod, Thanks for the correction :). I quickly checked by adding the node using getChildren().add() and it is not setting the constraint.","body":"@trashgod, Thanks for the correction :). I quickly checked by adding the node using getChildren().add() and it is not setting the constraint."}],"tags":[],"owner":{"account_id":7717111,"reputation":8774,"user_id":5844477,"display_name":"Sai Dandem"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1633393151,"creation_date":1633332413,"answer_id":69432313,"question_id":69429420,"body_markdown":"+1 for all the comments and the answer provided by @trashgod.\r\n\r\nBut trying to address your actual issue, I think using event.getSource is the root cause for your issue. The source returned from the event will be always the GridPane.\r\n\r\nevent.getTarget() method will give you the target node you clicked. So I think changing it to getTarget() will fix your issue. \r\n\r\nBelow is the working demo of what I mean. &lt;strike&gt;This works even if I dont set the index contraint explicitly&lt;/strike&gt;. \r\n\r\n**Update:** I was mistaken that explicit constraint settings is done only through GridPane.add method. But using add/addRow/addColumn methods sets the index constraints as well.\r\n\r\n*Note: This will work if the target node you clicked is a direct child of GridPane (in your case). But if your target node is not a direct child of GridPane, like if the StackPane has a Label and if you clicked on that Label, a null exception will be thrown.*\r\n```\r\nimport javafx.application.Application;\r\nimport javafx.scene.Node;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.layout.GridPane;\r\nimport javafx.scene.layout.StackPane;\r\nimport javafx.stage.Stage;\r\n\r\npublic class GridPaneIndexingDemo extends Application {\r\n    @Override\r\n    public void start(Stage stage) throws Exception {\r\n        StackPane root = new StackPane();\r\n        Scene scene = new Scene(root, 450, 450);\r\n        stage.setScene(scene);\r\n        stage.setTitle(&quot;GridPane&quot;);\r\n        stage.show();\r\n\r\n        GridPane grid = new GridPane();\r\n        grid.setGridLinesVisible(true);\r\n        grid.addRow(0, getPane(1), getPane(2), getPane(3));\r\n        grid.addRow(1, getPane(4), getPane(5), getPane(6));\r\n        grid.addRow(2, getPane(7), getPane(8), getPane(9));\r\n        grid.setOnMouseClicked(event -&gt; {\r\n            Node source = (Node) event.getTarget();\r\n            int columnIndex = GridPane.getColumnIndex(source);\r\n            int rowIndex = GridPane.getRowIndex(source);\r\n            System.out.println(&quot;Row : &quot; + rowIndex + &quot;, Col : &quot; + columnIndex);\r\n        });\r\n        root.getChildren().add(grid);\r\n    }\r\n\r\n    private StackPane getPane(int i) {\r\n        String[] colors = {&quot;grey&quot;, &quot;yellow&quot;, &quot;blue&quot;, &quot;pink&quot;, &quot;brown&quot;, &quot;white&quot;, &quot;silver&quot;, &quot;orange&quot;, &quot;lightblue&quot;, &quot;grey&quot;};\r\n        StackPane pane = new StackPane();\r\n        pane.setPrefSize(150,150);\r\n        pane.setStyle(&quot;-fx-background-color:&quot; + colors[i] + &quot;;-fx-border-width:2px;&quot;);\r\n        return pane;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Application.launch(args);\r\n    }\r\n}\r\n```","title":"JavaFX: Update ImageView on GridPane click","body":"<p>+1 for all the comments and the answer provided by @trashgod.</p>\n<p>But trying to address your actual issue, I think using event.getSource is the root cause for your issue. The source returned from the event will be always the GridPane.</p>\n<p>event.getTarget() method will give you the target node you clicked. So I think changing it to getTarget() will fix your issue.</p>\n<p>Below is the working demo of what I mean. <strike>This works even if I dont set the index contraint explicitly</strike>.</p>\n<p><strong>Update:</strong> I was mistaken that explicit constraint settings is done only through GridPane.add method. But using add/addRow/addColumn methods sets the index constraints as well.</p>\n<p><em>Note: This will work if the target node you clicked is a direct child of GridPane (in your case). But if your target node is not a direct child of GridPane, like if the StackPane has a Label and if you clicked on that Label, a null exception will be thrown.</em></p>\n<pre><code>import javafx.application.Application;\nimport javafx.scene.Node;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.GridPane;\nimport javafx.scene.layout.StackPane;\nimport javafx.stage.Stage;\n\npublic class GridPaneIndexingDemo extends Application {\n    @Override\n    public void start(Stage stage) throws Exception {\n        StackPane root = new StackPane();\n        Scene scene = new Scene(root, 450, 450);\n        stage.setScene(scene);\n        stage.setTitle(&quot;GridPane&quot;);\n        stage.show();\n\n        GridPane grid = new GridPane();\n        grid.setGridLinesVisible(true);\n        grid.addRow(0, getPane(1), getPane(2), getPane(3));\n        grid.addRow(1, getPane(4), getPane(5), getPane(6));\n        grid.addRow(2, getPane(7), getPane(8), getPane(9));\n        grid.setOnMouseClicked(event -&gt; {\n            Node source = (Node) event.getTarget();\n            int columnIndex = GridPane.getColumnIndex(source);\n            int rowIndex = GridPane.getRowIndex(source);\n            System.out.println(&quot;Row : &quot; + rowIndex + &quot;, Col : &quot; + columnIndex);\n        });\n        root.getChildren().add(grid);\n    }\n\n    private StackPane getPane(int i) {\n        String[] colors = {&quot;grey&quot;, &quot;yellow&quot;, &quot;blue&quot;, &quot;pink&quot;, &quot;brown&quot;, &quot;white&quot;, &quot;silver&quot;, &quot;orange&quot;, &quot;lightblue&quot;, &quot;grey&quot;};\n        StackPane pane = new StackPane();\n        pane.setPrefSize(150,150);\n        pane.setStyle(&quot;-fx-background-color:&quot; + colors[i] + &quot;;-fx-border-width:2px;&quot;);\n        return pane;\n    }\n\n    public static void main(String[] args) {\n        Application.launch(args);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22932730,"reputation":21,"user_id":17066696,"display_name":"NaturalBottle"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1174,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1671213396,"creation_date":1633300670,"question_id":69429420,"body_markdown":"I&#39;m working on a Minesweeper game using JavaFX:\r\n\r\n![(On game start)][1]\r\n\r\n  [1]: https://i.stack.imgur.com/G4B3E.png\r\n\r\nMy `GridPane` is made of `ImageViews`, and I&#39;m trying to find a way to figure out the column and row indexes of the image that was clicked on the `GridPane`. I have this code currently:\r\n\r\n    gameGrid.setOnMouseClicked(event -&gt; //gameGrid is my GridPane\r\n    {\r\n        Node source = (Node)event.getSource();\r\n        int columnIndex = GridPane.getColumnIndex(source);\r\n        System.out.println(columnIndex);\r\n        int rowIndex = GridPane.getRowIndex(source);\r\n        if(event.getButton()== MouseButton.PRIMARY)\r\n        game.newRevealCell(columnIndex,rowIndex);\r\n        else if(event.getButton()==MouseButton.SECONDARY)\r\n\r\n        game.getGrid()[columnIndex][rowIndex].setFlagged(true);\r\n        //game.getGrid is a 2D array containing the game cells\r\n\r\n    });\r\n\r\nHowever, the methods `getColumnIndex` and `getRowIndex` are returning `null`. What am I doing wrong?\r\n","title":"JavaFX: Update ImageView on GridPane click","body":"<p>I'm working on a Minesweeper game using JavaFX:</p>\n<p><img src=\"https://i.stack.imgur.com/G4B3E.png\" alt=\"(On game start)\" /></p>\n<p>My <code>GridPane</code> is made of <code>ImageViews</code>, and I'm trying to find a way to figure out the column and row indexes of the image that was clicked on the <code>GridPane</code>. I have this code currently:</p>\n<pre><code>gameGrid.setOnMouseClicked(event -&gt; //gameGrid is my GridPane\n{\n    Node source = (Node)event.getSource();\n    int columnIndex = GridPane.getColumnIndex(source);\n    System.out.println(columnIndex);\n    int rowIndex = GridPane.getRowIndex(source);\n    if(event.getButton()== MouseButton.PRIMARY)\n    game.newRevealCell(columnIndex,rowIndex);\n    else if(event.getButton()==MouseButton.SECONDARY)\n\n    game.getGrid()[columnIndex][rowIndex].setFlagged(true);\n    //game.getGrid is a 2D array containing the game cells\n\n});\n</code></pre>\n<p>However, the methods <code>getColumnIndex</code> and <code>getRowIndex</code> are returning <code>null</code>. What am I doing wrong?</p>\n"},{"tags":["java","maps","2d","game-development"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1652921430,"post_id":72297466,"comment_id":127726962,"body_markdown":"Never silently ignore exceptions `catch (Exception e) {\n\n        }\n`","body":"Never silently ignore exceptions <code>catch (Exception e) {          } </code>"}],"answers":[{"tags":[],"owner":{"account_id":21386503,"reputation":11,"user_id":15751408,"display_name":"Christian Rechdan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671213103,"creation_date":1671213103,"answer_id":74828111,"question_id":72297466,"body_markdown":"In the public tile manager call the getTileImage method to initialize the tiles\r\n```\r\n    public TileManager(GamePanel gp) {\r\n\tthis.gp = gp;\r\n\ttile = new Tile[10];\r\n\tgetTileImage();  // Call the getTileImage method to initialize the tiles\r\n}\r\n```","title":"Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.ArrayIndexOutOfBoundsException:Index 12 out of bounds for length 12","body":"<p>In the public tile manager call the getTileImage method to initialize the tiles</p>\n<pre><code>    public TileManager(GamePanel gp) {\n    this.gp = gp;\n    tile = new Tile[10];\n    getTileImage();  // Call the getTileImage method to initialize the tiles\n}\n</code></pre>\n"}],"owner":{"account_id":25329201,"reputation":1,"user_id":19149293,"display_name":"cDubz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671213103,"creation_date":1652921215,"question_id":72297466,"body_markdown":"I&#39;m currently trying to make a 2D game using VSCode, I am on a MacBook, and keep getting this error whenever trying to load the map. My map for some reason will only appear as all white, without the character, and I get this error in the terminal:\r\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.ArrayIndexOutOfBoundsException: Index 12 out of bounds for length 12\r\n        at tile.TileManager.draw(TileManager.java:102)\r\n        at main.GamePanel.paintComponent(GamePanel.java:94)\r\n\r\nHere is my TileManager class\r\n\r\n    package tile;\r\n    \r\n    import main.GamePanel;\r\n    import java.io.IOException;\r\n    import javax.imageio.ImageIO;\r\n    import java.awt.Graphics2D;\r\n    import java.io.InputStream;\r\n    import java.io.*;\r\n    \r\n    public class TileManager {\r\n    \r\n        GamePanel gp;\r\n        Tile[] tile;\r\n        int mapTileNum[][];\r\n    \r\n        public TileManager(GamePanel gp) {\r\n            this.gp = gp;\r\n    \r\n            tile = new Tile[10];\r\n    \r\n            mapTileNum = new int[gp.maxWorldCol][gp.maxScreenRow];\r\n    \r\n            getTileImage();\r\n            loadMap(&quot;res/maps/world01.txt&quot;);\r\n        }\r\n    \r\n        public void getTileImage() {\r\n    \r\n            System.out.println(&quot;image loading started&quot;);\r\n    \r\n            try {\r\n    \r\n                this.tile[0] = new Tile();\r\n                this.tile[0].image = ImageIO.read(new FileInputStream(&quot;res/tiles/grass01.png&quot;));\r\n    \r\n                this.tile[1] = new Tile();\r\n                this.tile[1].image = ImageIO.read(new FileInputStream(&quot;res/tiles/wall.png&quot;));\r\n    \r\n                this.tile[2] = new Tile();\r\n                this.tile[2].image = ImageIO.read(new FileInputStream(&quot;res/tiles/water01.png&quot;));\r\n    \r\n                this.tile[3] = new Tile();\r\n                this.tile[3].image = ImageIO.read(new FileInputStream(&quot;res/tiles/earth.png&quot;));\r\n    \r\n                this.tile[4] = new Tile();\r\n                this.tile[4].image = ImageIO.read(new FileInputStream(&quot;res/tiles/tree.png&quot;));\r\n    \r\n                this.tile[5] = new Tile();\r\n                this.tile[5].image = ImageIO.read(new FileInputStream(&quot;res/tiles/sand.png&quot;));\r\n    \r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            System.out.println(&quot;Image loading finished&quot;);\r\n        }\r\n    \r\n        public void loadMap(String filePath) {\r\n            try {\r\n                InputStream is = getClass().getResourceAsStream(filePath);\r\n                BufferedReader br = new BufferedReader(new InputStreamReader(is));\r\n    \r\n                int col = 0;\r\n                int row = 0;\r\n    \r\n                while (col &lt; gp.maxWorldCol &amp;&amp; row &lt; gp.maxWorldRow) {\r\n                    String line = br.readLine();\r\n    \r\n                    while (col &lt; gp.maxWorldCol) {\r\n                        String numbers[] = line.split(&quot; &quot;); // splits up strings at space\r\n                        int num = Integer.parseInt(numbers[col]);\r\n                        mapTileNum[col][row] = num;\r\n                        col++;\r\n                    }\r\n    \r\n                    if (col == gp.maxWorldCol) {\r\n                        col = 0;\r\n                        row++;\r\n                    }\r\n                }\r\n                br.close();\r\n    \r\n            } catch (Exception e) {\r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n        public void draw(Graphics2D g2) {\r\n    \r\n            int worldCol = 0;\r\n            int worldRow = 0;\r\n    \r\n            while (worldCol &lt; gp.maxWorldCol &amp;&amp; worldRow &lt; gp.maxWorldRow) {\r\n    \r\n                int tileNum = mapTileNum[worldCol][worldRow];\r\n    \r\n                int worldX = worldCol * gp.tileSize;\r\n                int worldY = worldRow * gp.tileSize;\r\n                int screenX = worldX - gp.player.worldX + gp.player.screenX;\r\n                int screenY = worldY - gp.player.worldY + gp.player.screenY;\r\n    \r\n                if (worldX + gp.tileSize &gt; gp.player.worldX - gp.player.screenX &amp;&amp;\r\n                        worldX - gp.tileSize &lt; gp.player.worldX + gp.player.screenX &amp;&amp;\r\n                        worldY + gp.tileSize &gt; gp.player.worldY - gp.player.screenY &amp;&amp;\r\n                        worldY - gp.tileSize &lt; gp.player.worldY + gp.player.screenY) {\r\n    \r\n                            g2.drawImage(tile[tileNum].image, screenX, screenY, gp.tileSize, gp.tileSize, null);\r\n                }\r\n    \r\n                g2.drawImage(tile[tileNum].image, screenX, screenY, gp.tileSize, gp.tileSize, null);\r\n                worldCol++;\r\n    \r\n                if (worldCol == gp.maxWorldCol) {\r\n                    worldCol = 0;\r\n                    worldRow++;\r\n                }\r\n            }\r\n        }\r\n    }","title":"Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.ArrayIndexOutOfBoundsException:Index 12 out of bounds for length 12","body":"<p>I'm currently trying to make a 2D game using VSCode, I am on a MacBook, and keep getting this error whenever trying to load the map. My map for some reason will only appear as all white, without the character, and I get this error in the terminal:\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.ArrayIndexOutOfBoundsException: Index 12 out of bounds for length 12\nat tile.TileManager.draw(TileManager.java:102)\nat main.GamePanel.paintComponent(GamePanel.java:94)</p>\n<p>Here is my TileManager class</p>\n<pre><code>package tile;\n\nimport main.GamePanel;\nimport java.io.IOException;\nimport javax.imageio.ImageIO;\nimport java.awt.Graphics2D;\nimport java.io.InputStream;\nimport java.io.*;\n\npublic class TileManager {\n\n    GamePanel gp;\n    Tile[] tile;\n    int mapTileNum[][];\n\n    public TileManager(GamePanel gp) {\n        this.gp = gp;\n\n        tile = new Tile[10];\n\n        mapTileNum = new int[gp.maxWorldCol][gp.maxScreenRow];\n\n        getTileImage();\n        loadMap(&quot;res/maps/world01.txt&quot;);\n    }\n\n    public void getTileImage() {\n\n        System.out.println(&quot;image loading started&quot;);\n\n        try {\n\n            this.tile[0] = new Tile();\n            this.tile[0].image = ImageIO.read(new FileInputStream(&quot;res/tiles/grass01.png&quot;));\n\n            this.tile[1] = new Tile();\n            this.tile[1].image = ImageIO.read(new FileInputStream(&quot;res/tiles/wall.png&quot;));\n\n            this.tile[2] = new Tile();\n            this.tile[2].image = ImageIO.read(new FileInputStream(&quot;res/tiles/water01.png&quot;));\n\n            this.tile[3] = new Tile();\n            this.tile[3].image = ImageIO.read(new FileInputStream(&quot;res/tiles/earth.png&quot;));\n\n            this.tile[4] = new Tile();\n            this.tile[4].image = ImageIO.read(new FileInputStream(&quot;res/tiles/tree.png&quot;));\n\n            this.tile[5] = new Tile();\n            this.tile[5].image = ImageIO.read(new FileInputStream(&quot;res/tiles/sand.png&quot;));\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        System.out.println(&quot;Image loading finished&quot;);\n    }\n\n    public void loadMap(String filePath) {\n        try {\n            InputStream is = getClass().getResourceAsStream(filePath);\n            BufferedReader br = new BufferedReader(new InputStreamReader(is));\n\n            int col = 0;\n            int row = 0;\n\n            while (col &lt; gp.maxWorldCol &amp;&amp; row &lt; gp.maxWorldRow) {\n                String line = br.readLine();\n\n                while (col &lt; gp.maxWorldCol) {\n                    String numbers[] = line.split(&quot; &quot;); // splits up strings at space\n                    int num = Integer.parseInt(numbers[col]);\n                    mapTileNum[col][row] = num;\n                    col++;\n                }\n\n                if (col == gp.maxWorldCol) {\n                    col = 0;\n                    row++;\n                }\n            }\n            br.close();\n\n        } catch (Exception e) {\n\n        }\n\n    }\n\n    public void draw(Graphics2D g2) {\n\n        int worldCol = 0;\n        int worldRow = 0;\n\n        while (worldCol &lt; gp.maxWorldCol &amp;&amp; worldRow &lt; gp.maxWorldRow) {\n\n            int tileNum = mapTileNum[worldCol][worldRow];\n\n            int worldX = worldCol * gp.tileSize;\n            int worldY = worldRow * gp.tileSize;\n            int screenX = worldX - gp.player.worldX + gp.player.screenX;\n            int screenY = worldY - gp.player.worldY + gp.player.screenY;\n\n            if (worldX + gp.tileSize &gt; gp.player.worldX - gp.player.screenX &amp;&amp;\n                    worldX - gp.tileSize &lt; gp.player.worldX + gp.player.screenX &amp;&amp;\n                    worldY + gp.tileSize &gt; gp.player.worldY - gp.player.screenY &amp;&amp;\n                    worldY - gp.tileSize &lt; gp.player.worldY + gp.player.screenY) {\n\n                        g2.drawImage(tile[tileNum].image, screenX, screenY, gp.tileSize, gp.tileSize, null);\n            }\n\n            g2.drawImage(tile[tileNum].image, screenX, screenY, gp.tileSize, gp.tileSize, null);\n            worldCol++;\n\n            if (worldCol == gp.maxWorldCol) {\n                worldCol = 0;\n                worldRow++;\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","h2","spring-boot-test"],"owner":{"account_id":21889052,"reputation":3,"user_id":16176313,"display_name":"leonardo.mazzoli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671213093,"creation_date":1671213031,"question_id":74828100,"body_markdown":"i&#39;m trying to insert a bidirectional relationship, after persisting data. I&#39;m fighting with hibernate trying to solve this problem. What i&#39;d like to happen is, after persisting the data, update, (when needed) adding an item to the relationship and update all the connected data. For example: i&#39;m creating an activity, the activity is persisted to the database and it&#39;s ok. I&#39;m creating a customer, the customer is persisted to the database and it&#39;s ok. After this, if the customer would like to partecipate in the activity i&#39;ve to add this relationship in the database using a third table (activities_customers) and updating their lists (customersInThisActivity and bookedActivities (you can find them below)). I&#39;ve tried many ways, always failing (hibernate gives me detached entity passed to persist, lazyinitializationexception ecc) So can someone please help me, with this problem? Thanks.. Here my classes and the test that should pass. I&#39;m using H2 as DB\r\n\r\nActivity.java\r\n\r\n```\r\n@Entity\r\n@Table\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\npublic class Activity {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;activity_id&quot;)\r\n    @SequenceGenerator(name = &quot;activity_id&quot;, sequenceName = &quot;activity_id&quot;, allocationSize = 1)\r\n    private Long id;\r\n\r\n    @Column\r\n    private String info;\r\n\r\n    @Column\r\n    private LocalDate activityBeginDate;\r\n\r\n    @Column\r\n    private LocalDate activityEndDate;\r\n\r\n    @Column\r\n    private int maxNumberOfPeople;\r\n\r\n    @ManyToMany\r\n    @JoinTable(\r\n            name = &quot;ACTIVITIES_CUSTOMERS&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;ACTIVITY_ID&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;CUSTOMER_ID&quot;))\r\n    Set&lt;Customer&gt; customersInThisActivity = new HashSet&lt;&gt;();\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        Activity activity = (Activity) o;\r\n        return maxNumberOfPeople == activity.maxNumberOfPeople &amp;&amp; id.equals(activity.id) &amp;&amp; info.equals(activity.info) &amp;&amp; activityBeginDate.equals(activity.activityBeginDate) &amp;&amp; activityEndDate.equals(activity.activityEndDate);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(id, info, activityBeginDate, activityEndDate, maxNumberOfPeople);\r\n    }\r\n```\r\n\r\nCustomer.java\r\n\r\n```\r\n@Entity\r\n@Table\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\npublic class Customer {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;customer_id&quot;)\r\n    @SequenceGenerator(name = &quot;customer_id&quot;, sequenceName = &quot;customer_id&quot;, allocationSize = 1)\r\n    private Long id;\r\n\r\n    @Column\r\n    private String firstName;\r\n\r\n    @Column\r\n    private String lastName;\r\n\r\n    @Column\r\n    private String email;\r\n\r\n    @ManyToMany(mappedBy = &quot;customersInThisActivity&quot;)\r\n    Set&lt;Activity&gt; bookedActivities = new HashSet&lt;&gt;();\r\n```\r\n\r\nActivityManager.java\r\n\r\n```\r\n@Service\r\npublic class ActivityManager {\r\n\r\n    @PersistenceContext\r\n    private EntityManager entityManager;\r\n\r\n    public List&lt;Activity&gt; getActivities() {\r\n        return this.entityManager.createQuery(&quot;SELECT a from Activity a&quot;, Activity.class).getResultList();\r\n    }\r\n\r\n    @Transactional\r\n    public void saveActivity(Activity activity) {\r\n        this.entityManager.persist(activity);\r\n    }\r\n\r\n    @Transactional\r\n    public void addParticipant(Activity activity, Customer customer) {\r\n        //ADD CUSTOMER TO ACTIVITY\r\n        //ADD ACTIVITY TO CUSTOMER (TO HAVE CONSISTENT DATA)\r\n        //PERSIST ALL THE ENTITIES\r\n    }\r\n}\r\n```\r\n\r\nThe test that should pass\r\n\r\n```\r\n@SpringBootTest\r\nclass CasottoApplicationTests {\r\n\r\n   private final ActivityManager activityManager;\r\n\r\n   private final CustomerManager customerManager;\r\n\r\n   @Autowired\r\n   public CasottoApplicationTests(ActivityManager activityManager, CustomerManager customerManager) {\r\n      this.activityManager = activityManager;\r\n      this.customerManager = customerManager;\r\n   }\r\n\r\n   @Test\r\n   void testCasotto() {\r\n      Activity a = new Activity();\r\n      a.setInfo(&quot;INFO&quot;);\r\n      a.setActivityBeginDate(LocalDate.now());\r\n      a.setActivityEndDate(LocalDate.now());\r\n      a.setMaxNumberOfPeople(-1);\r\n      activityManager.saveActivity(a);\r\n      Customer c = new Customer();\r\n      c.setEmail(&quot;TEST@TEST.COM&quot;);\r\n      c.setFirstName(&quot;TEST&quot;);\r\n      c.setLastName(&quot;TEST&quot;);\r\n      customerManager.saveCustomer(c);\r\n      activityManager.addParticipant(a, c);\r\n      Assertions.assertEquals(1, a.getCustomersInThisActivity().size());\r\n      Assertions.assertEquals(1, c.getBookedActivities().size());\r\n   }\r\n\r\n}\r\n```\r\n\r\nThanks in advance.","title":"How to insert bidirectional many to many relationship after persisting data hibernate and springboot","body":"<p>i'm trying to insert a bidirectional relationship, after persisting data. I'm fighting with hibernate trying to solve this problem. What i'd like to happen is, after persisting the data, update, (when needed) adding an item to the relationship and update all the connected data. For example: i'm creating an activity, the activity is persisted to the database and it's ok. I'm creating a customer, the customer is persisted to the database and it's ok. After this, if the customer would like to partecipate in the activity i've to add this relationship in the database using a third table (activities_customers) and updating their lists (customersInThisActivity and bookedActivities (you can find them below)). I've tried many ways, always failing (hibernate gives me detached entity passed to persist, lazyinitializationexception ecc) So can someone please help me, with this problem? Thanks.. Here my classes and the test that should pass. I'm using H2 as DB</p>\n<p>Activity.java</p>\n<pre><code>@Entity\n@Table\n@Getter\n@Setter\n@NoArgsConstructor\npublic class Activity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;activity_id&quot;)\n    @SequenceGenerator(name = &quot;activity_id&quot;, sequenceName = &quot;activity_id&quot;, allocationSize = 1)\n    private Long id;\n\n    @Column\n    private String info;\n\n    @Column\n    private LocalDate activityBeginDate;\n\n    @Column\n    private LocalDate activityEndDate;\n\n    @Column\n    private int maxNumberOfPeople;\n\n    @ManyToMany\n    @JoinTable(\n            name = &quot;ACTIVITIES_CUSTOMERS&quot;,\n            joinColumns = @JoinColumn(name = &quot;ACTIVITY_ID&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;CUSTOMER_ID&quot;))\n    Set&lt;Customer&gt; customersInThisActivity = new HashSet&lt;&gt;();\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        Activity activity = (Activity) o;\n        return maxNumberOfPeople == activity.maxNumberOfPeople &amp;&amp; id.equals(activity.id) &amp;&amp; info.equals(activity.info) &amp;&amp; activityBeginDate.equals(activity.activityBeginDate) &amp;&amp; activityEndDate.equals(activity.activityEndDate);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(id, info, activityBeginDate, activityEndDate, maxNumberOfPeople);\n    }\n</code></pre>\n<p>Customer.java</p>\n<pre><code>@Entity\n@Table\n@Getter\n@Setter\n@NoArgsConstructor\npublic class Customer {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;customer_id&quot;)\n    @SequenceGenerator(name = &quot;customer_id&quot;, sequenceName = &quot;customer_id&quot;, allocationSize = 1)\n    private Long id;\n\n    @Column\n    private String firstName;\n\n    @Column\n    private String lastName;\n\n    @Column\n    private String email;\n\n    @ManyToMany(mappedBy = &quot;customersInThisActivity&quot;)\n    Set&lt;Activity&gt; bookedActivities = new HashSet&lt;&gt;();\n</code></pre>\n<p>ActivityManager.java</p>\n<pre><code>@Service\npublic class ActivityManager {\n\n    @PersistenceContext\n    private EntityManager entityManager;\n\n    public List&lt;Activity&gt; getActivities() {\n        return this.entityManager.createQuery(&quot;SELECT a from Activity a&quot;, Activity.class).getResultList();\n    }\n\n    @Transactional\n    public void saveActivity(Activity activity) {\n        this.entityManager.persist(activity);\n    }\n\n    @Transactional\n    public void addParticipant(Activity activity, Customer customer) {\n        //ADD CUSTOMER TO ACTIVITY\n        //ADD ACTIVITY TO CUSTOMER (TO HAVE CONSISTENT DATA)\n        //PERSIST ALL THE ENTITIES\n    }\n}\n</code></pre>\n<p>The test that should pass</p>\n<pre><code>@SpringBootTest\nclass CasottoApplicationTests {\n\n   private final ActivityManager activityManager;\n\n   private final CustomerManager customerManager;\n\n   @Autowired\n   public CasottoApplicationTests(ActivityManager activityManager, CustomerManager customerManager) {\n      this.activityManager = activityManager;\n      this.customerManager = customerManager;\n   }\n\n   @Test\n   void testCasotto() {\n      Activity a = new Activity();\n      a.setInfo(&quot;INFO&quot;);\n      a.setActivityBeginDate(LocalDate.now());\n      a.setActivityEndDate(LocalDate.now());\n      a.setMaxNumberOfPeople(-1);\n      activityManager.saveActivity(a);\n      Customer c = new Customer();\n      c.setEmail(&quot;TEST@TEST.COM&quot;);\n      c.setFirstName(&quot;TEST&quot;);\n      c.setLastName(&quot;TEST&quot;);\n      customerManager.saveCustomer(c);\n      activityManager.addParticipant(a, c);\n      Assertions.assertEquals(1, a.getCustomersInThisActivity().size());\n      Assertions.assertEquals(1, c.getBookedActivities().size());\n   }\n\n}\n</code></pre>\n<p>Thanks in advance.</p>\n"},{"tags":["java","json","spring-boot","jackson"],"owner":{"account_id":6129689,"reputation":79,"user_id":4780359,"accept_rate":14,"display_name":"vinu_ser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671212830,"creation_date":1671212830,"question_id":74828064,"body_markdown":"I have a DTO which is returned as json  in a rest api which looks like \r\n\r\n```\r\n   public class Pojo{   \r\n\r\n    @JsonInclude(Include.NON_NULL)\r\n    private String encryptedString;\r\n   \r\n    @JsonInclude(Include.NON_NULL)\r\n    private String normalString;\r\n    \r\n    }\r\n```\r\n\r\nIn Some cases i may  get  both  ```encryptedString``` and  ```normalString```   as ```null``` and by using  ```@JsonInclude(Include.NON_NULL)```,i wont get these two  json nodes from api.My Requirements is that based on a condition i need to return either of these String with value as null from the api. For Example,  Based on a boolean variable  ```isEncrypted``` which is coming from user input , i need to return either of one variable as json node i.e If ```isEncrypted``` is ```true```,the expected output is \r\n  ```{&quot;encryptedString&quot; :null}``` . If ```isEncrypted``` is ```false```,the expected output is \r\n  ```{&quot;normalString&quot; :null}``` .","title":"Show Json Node whose value is null Conditionally","body":"<p>I have a DTO which is returned as json  in a rest api which looks like</p>\n<pre><code>   public class Pojo{   \n\n    @JsonInclude(Include.NON_NULL)\n    private String encryptedString;\n   \n    @JsonInclude(Include.NON_NULL)\n    private String normalString;\n    \n    }\n</code></pre>\n<p>In Some cases i may  get  both  <code>encryptedString</code> and  <code>normalString</code>   as <code>null</code> and by using  <code>@JsonInclude(Include.NON_NULL)</code>,i wont get these two  json nodes from api.My Requirements is that based on a condition i need to return either of these String with value as null from the api. For Example,  Based on a boolean variable  <code>isEncrypted</code> which is coming from user input , i need to return either of one variable as json node i.e If <code>isEncrypted</code> is <code>true</code>,the expected output is\n<code>{&quot;encryptedString&quot; :null}</code> . If <code>isEncrypted</code> is <code>false</code>,the expected output is\n<code>{&quot;normalString&quot; :null}</code> .</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1671212859,"post_id":74827992,"comment_id":132058219,"body_markdown":"use java.awt.Point","body":"use java.awt.Point"}],"owner":{"account_id":27275068,"reputation":1,"user_id":20795820,"display_name":"Unknown TorUser"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671212724,"creation_date":1671212458,"question_id":74827992,"body_markdown":"I have a few methods that fill a 8 by 8 2D boolean Array with possible Chess Figure Moves (&quot;true&quot; if possible, &quot;false&quot; as standard), depending on their current location.\r\n\r\nMy task is to take those boolean Arrays depending on a Case, And convert them into a 2D int Array that I can return, which should hold all those boolean Values as coordinates (x1: ; x2: ;...y1: ;y2: ;....\r\n\r\nIs there an easy&#39;ish  way to do this?\r\n\r\n    public static int[][] getPossibleMoves(int Current_X, int Current_Y, boolean Team, int Figure) {\r\n        int[][] Chessboard = new int[8][8];\r\n\r\n        switch(Figure) {\r\n            case 0:\r\n                // do nothing\r\n                break;\r\n            case 1:\r\n                Chessboard = getPossibleMovesPawns(Current_X, Current_Y, Team);\r\n                break;\r\n            case 2:\r\n                Chessboard = getPossibleMovesRooks(Current_X, Current_Y, Team);\r\n                break;\r\n            case 3:\r\n                Chessboard = getPossibleMovesKnights(Current_X, Current_Y, Team);\r\n                break;\r\n            case 4:\r\n                Chessboard = getPossibleMovesBishops(Current_X, Current_Y, Team);\r\n                break;\r\n            case 5:\r\n                Chessboard = getPossibleMovesQueens(Current_X, Current_Y, Team);\r\n                break;\r\n            case 6:\r\n                Chessboard = getPossibleMovesKings(Current_X, Current_Y, Team);\r\n                break;\r\n            default:\r\n                System.out.println(&quot;Please choose a number that corresponds to a figure.&quot;);\r\n                return null;\r\n            }\r\n            return getCoordinates(Chessboard ); //as a Placeholder for the converting Method \r\n    }\r\n\r\n\r\n\r\nCouldn&#39;t really find any Syntax to this","title":"Converting a 2D boolean Array into a 2D int Array in Java","body":"<p>I have a few methods that fill a 8 by 8 2D boolean Array with possible Chess Figure Moves (&quot;true&quot; if possible, &quot;false&quot; as standard), depending on their current location.</p>\n<p>My task is to take those boolean Arrays depending on a Case, And convert them into a 2D int Array that I can return, which should hold all those boolean Values as coordinates (x1: ; x2: ;...y1: ;y2: ;....</p>\n<p>Is there an easy'ish  way to do this?</p>\n<pre><code>public static int[][] getPossibleMoves(int Current_X, int Current_Y, boolean Team, int Figure) {\n    int[][] Chessboard = new int[8][8];\n\n    switch(Figure) {\n        case 0:\n            // do nothing\n            break;\n        case 1:\n            Chessboard = getPossibleMovesPawns(Current_X, Current_Y, Team);\n            break;\n        case 2:\n            Chessboard = getPossibleMovesRooks(Current_X, Current_Y, Team);\n            break;\n        case 3:\n            Chessboard = getPossibleMovesKnights(Current_X, Current_Y, Team);\n            break;\n        case 4:\n            Chessboard = getPossibleMovesBishops(Current_X, Current_Y, Team);\n            break;\n        case 5:\n            Chessboard = getPossibleMovesQueens(Current_X, Current_Y, Team);\n            break;\n        case 6:\n            Chessboard = getPossibleMovesKings(Current_X, Current_Y, Team);\n            break;\n        default:\n            System.out.println(&quot;Please choose a number that corresponds to a figure.&quot;);\n            return null;\n        }\n        return getCoordinates(Chessboard ); //as a Placeholder for the converting Method \n}\n</code></pre>\n<p>Couldn't really find any Syntax to this</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1671164757,"post_id":74820174,"comment_id":132044839,"body_markdown":"Do you have a more specific question? We won&#39;t do your assignments for you.","body":"Do you have a more specific question? We won&#39;t do your assignments for you."},{"owner":{"account_id":21718374,"reputation":3,"user_id":16029036,"display_name":"Yury"},"score":0,"creation_date":1671165053,"post_id":74820174,"comment_id":132044881,"body_markdown":"I’m sorry, maybe I didn’t write it correctly, you don’t need a ready-made solution, you need to dig in which direction.","body":"I’m sorry, maybe I didn’t write it correctly, you don’t need a ready-made solution, you need to dig in which direction."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1671178716,"post_id":74820174,"comment_id":132047305,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":27275117,"reputation":16,"user_id":20795858,"display_name":"Nestor-afk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671212515,"creation_date":1671212515,"answer_id":74828011,"question_id":74820174,"body_markdown":"Create int[4][4], in which &#39;1&#39; means existence of brick (or its part), and &#39;0&#39; otherwise. Then try to put two adjacent &#39;1&#39; for each character in string.They may be in the one array (arr[i][j] arr[i][j+1]), and may be not (arr[i][j] arr[i+1][j]). Be sure you are not try to put it out of array. And after each put you should check whether some colums or rows are full (pay attention to the plurals), then empty necessary ones. Oh, take some sequence which will fullfill your array if you will just put brick on the first available place.\r\n0100110010101010100101010101001010101010101010010100101\r\nGood luck","title":"How to put all the bricks on the field 4&#215;4 rectangles or 2&#215;1 or 1&#215;2 if a column or row is fully occupied, all cells in that column or row are released","body":"<p>Create int[4][4], in which '1' means existence of brick (or its part), and '0' otherwise. Then try to put two adjacent '1' for each character in string.They may be in the one array (arr[i][j] arr[i][j+1]), and may be not (arr[i][j] arr[i+1][j]). Be sure you are not try to put it out of array. And after each put you should check whether some colums or rows are full (pay attention to the plurals), then empty necessary ones. Oh, take some sequence which will fullfill your array if you will just put brick on the first available place.\n0100110010101010100101010101001010101010101010010100101\nGood luck</p>\n"}],"owner":{"account_id":21718374,"reputation":3,"user_id":16029036,"display_name":"Yury"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1671212683,"accepted_answer_id":74828011,"answer_count":1,"score":-3,"last_activity_date":1671212515,"creation_date":1671164711,"question_id":74820174,"body_markdown":"Help solve the problem in Java, I do not know how to approach. You are given a field 4 4 and a sequence of bricks representing rectangles either 2 1 or 1 2. You need to put the bricks in order on the field, and if any column or row is occupied, then all the cells of this column or row are released (sometimes this can mean that only half of the brick 2 1 will be left on the field). You can’t put bricks on top of the ones that are on the board right now.\r\n\r\ninput format:\r\nThe sequence of bricks is given at the input as the only string s, consisting of zeros and ones. Zero means vertical brick, one means horizontal brick. In the sequence, not more than 1000 elements.\r\n\r\nOutput format:\r\nFor each brick in a separate row print two natural numbers r, c, 1 ≤ r, c ≤ 4, denoting the coordinates of the minimum row and the column intersecting with it.\r\n\r\n\r\nExample\r\n\r\ninput:\r\n010\r\n\r\noutput\r\n1 1\r\n1 2\r\n1 4\r\n\r\n\r\nTell me which way to dig.\r\nI’d appreciate any help, any advice. ","title":"How to put all the bricks on the field 4&#215;4 rectangles or 2&#215;1 or 1&#215;2 if a column or row is fully occupied, all cells in that column or row are released","body":"<p>Help solve the problem in Java, I do not know how to approach. You are given a field 4 4 and a sequence of bricks representing rectangles either 2 1 or 1 2. You need to put the bricks in order on the field, and if any column or row is occupied, then all the cells of this column or row are released (sometimes this can mean that only half of the brick 2 1 will be left on the field). You can’t put bricks on top of the ones that are on the board right now.</p>\n<p>input format:\nThe sequence of bricks is given at the input as the only string s, consisting of zeros and ones. Zero means vertical brick, one means horizontal brick. In the sequence, not more than 1000 elements.</p>\n<p>Output format:\nFor each brick in a separate row print two natural numbers r, c, 1 ≤ r, c ≤ 4, denoting the coordinates of the minimum row and the column intersecting with it.</p>\n<p>Example</p>\n<p>input:\n010</p>\n<p>output\n1 1\n1 2\n1 4</p>\n<p>Tell me which way to dig.\nI’d appreciate any help, any advice.</p>\n"},{"tags":["java","inheritance","constructor","abstract-class"],"answers":[{"comments":[{"owner":{"account_id":7547772,"reputation":8593,"user_id":5730279,"display_name":"hc_dev"},"score":0,"creation_date":1671212476,"post_id":74821739,"comment_id":132058102,"body_markdown":"Better to mark the added or changed lines with explaining comments. Especially the first call of super-class constructor with `super(nm, legs);` is solving the compiler-error.","body":"Better to mark the added or changed lines with explaining comments. Especially the first call of super-class constructor with <code>super(nm, legs);</code> is solving the compiler-error."},{"owner":{"account_id":7247195,"reputation":742,"user_id":5528725,"accept_rate":60,"display_name":"Thomas W."},"score":0,"creation_date":1671217207,"post_id":74821739,"comment_id":132059327,"body_markdown":"Thank you for the hint. Will take it into account. \nRelated to the post. The super was not ‚necessary‘ the nm = super.getName() was syntactically okay but equivalent to nm = null. The issue was the super class as inner class at least my compiler complained about that","body":"Thank you for the hint. Will take it into account.  Related to the post. The super was not ‚necessary‘ the nm = super.getName() was syntactically okay but equivalent to nm = null. The issue was the super class as inner class at least my compiler complained about that"}],"tags":[],"owner":{"account_id":7247195,"reputation":742,"user_id":5528725,"accept_rate":60,"display_name":"Thomas W."},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671181833,"creation_date":1671178360,"answer_id":74821739,"question_id":74821543,"body_markdown":"There are a couple of things you should change. \r\n\r\nFirst of all, it is the best way to put the super class into a separate file. If you want to keep in one file you need drag it out of the Cat class and remove the scope (not public or private). But this is not a good coding style for a super class.\r\n\r\nThe next thing is, with the name/nm and legs/numOfLegs. Either you call the super constructor and provide the two variables (see my example) or you use  name = nm; and numOfLegs = legs;\r\n\r\nYou should also reconsider if the name and numOfLegs varialbes need to be protected or if is fine to provide the access only through the getter.\r\n\r\nIf the number of legs, the name, sound and color will not change you could also make them immutable (with the key word final, e.g. private final String sound). If not you can make them accessible with a setter.\r\n\r\nFinally you need to implement the abstract method in the Cat class...\r\n\r\n    public class Cat extends Animal {\r\n\r\n        private String sound;\r\n        private String colour;\r\n\r\n        public Cat(String nm, int legs, String sd, String col) {\r\n            super(nm, legs);\r\n            sound = sd;\r\n            colour = col;\r\n        }\r\n\r\n        @Override\r\n        public String display() {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    abstract class Animal {\r\n\r\n        protected String name;\r\n        protected int numOfLegs;\r\n\r\n        public Animal(String nm, int legs) {\r\n            name = nm;\r\n            numOfLegs = legs;\r\n        }\r\n\r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public int getNumOfLegs() {\r\n            return numOfLegs;\r\n        }\r\n\r\n        public abstract String display();\r\n        \r\n    }\r\n","title":"Error when extending from abstract parent class","body":"<p>There are a couple of things you should change.</p>\n<p>First of all, it is the best way to put the super class into a separate file. If you want to keep in one file you need drag it out of the Cat class and remove the scope (not public or private). But this is not a good coding style for a super class.</p>\n<p>The next thing is, with the name/nm and legs/numOfLegs. Either you call the super constructor and provide the two variables (see my example) or you use  name = nm; and numOfLegs = legs;</p>\n<p>You should also reconsider if the name and numOfLegs varialbes need to be protected or if is fine to provide the access only through the getter.</p>\n<p>If the number of legs, the name, sound and color will not change you could also make them immutable (with the key word final, e.g. private final String sound). If not you can make them accessible with a setter.</p>\n<p>Finally you need to implement the abstract method in the Cat class...</p>\n<pre><code>public class Cat extends Animal {\n\n    private String sound;\n    private String colour;\n\n    public Cat(String nm, int legs, String sd, String col) {\n        super(nm, legs);\n        sound = sd;\n        colour = col;\n    }\n\n    @Override\n    public String display() {\n        return null;\n    }\n}\n\nabstract class Animal {\n\n    protected String name;\n    protected int numOfLegs;\n\n    public Animal(String nm, int legs) {\n        name = nm;\n        numOfLegs = legs;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public int getNumOfLegs() {\n        return numOfLegs;\n    }\n\n    public abstract String display();\n    \n}\n</code></pre>\n"}],"owner":{"account_id":25521047,"reputation":5,"user_id":19310909,"display_name":"jaytee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74821739,"answer_count":1,"score":0,"last_activity_date":1671212235,"creation_date":1671177075,"question_id":74821543,"body_markdown":"### Error\r\n`public Cat (String nm, int legs, String sd, String col)`\r\n\r\nFor this  constructor I got following compiler error:\r\n```\r\nconstructor Animal in class Animal cannot be applied to given types;\r\nrequired: String, int\r\nfound: no arguments\r\nreason: actual and formal arguments lists differ in length\r\n```\r\n### Code\r\nThe parent class is right below the child class. \r\n\r\n```java\r\npublic class Cat extends Animal {\r\n    \r\n    private String sound;\r\n    private String colour;\r\n    \r\n    public Cat (String nm, int legs, String sd, String col) {\r\n        \r\n        nm = super.getName();\r\n        legs = super.getNumOfLegs();\r\n        sound = sd;\r\n        colour = col;\r\n    }\r\n    \r\n    public abstract class Animal {\r\n    \r\n        protected String name;\r\n        protected int numOfLegs;\r\n        \r\n        public Animal() {    \r\n        }\r\n\r\n        public Animal(String nm, int legs) {\r\n            name = nm;\r\n            numOfLegs = legs;      \r\n        }\r\n\r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n        public int getNumOfLegs() {\r\n            return numOfLegs;\r\n        }\r\n    \r\n        public abstract String display();\r\n    }\r\n}\r\n```\r\n\r\nShould the parent abstract class be placed in a separate file instead? \r\n\r\nI&#39;ve tried that initially but it returned way more errors than it did now, especially from the abstract method `display()`.\r\n\r\nWhat is causing the error?","title":"Error when extending from abstract parent class","body":"<h3>Error</h3>\n<p><code>public Cat (String nm, int legs, String sd, String col)</code></p>\n<p>For this  constructor I got following compiler error:</p>\n<pre><code>constructor Animal in class Animal cannot be applied to given types;\nrequired: String, int\nfound: no arguments\nreason: actual and formal arguments lists differ in length\n</code></pre>\n<h3>Code</h3>\n<p>The parent class is right below the child class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Cat extends Animal {\n    \n    private String sound;\n    private String colour;\n    \n    public Cat (String nm, int legs, String sd, String col) {\n        \n        nm = super.getName();\n        legs = super.getNumOfLegs();\n        sound = sd;\n        colour = col;\n    }\n    \n    public abstract class Animal {\n    \n        protected String name;\n        protected int numOfLegs;\n        \n        public Animal() {    \n        }\n\n        public Animal(String nm, int legs) {\n            name = nm;\n            numOfLegs = legs;      \n        }\n\n        public String getName() {\n            return name;\n        }\n\n        public int getNumOfLegs() {\n            return numOfLegs;\n        }\n    \n        public abstract String display();\n    }\n}\n</code></pre>\n<p>Should the parent abstract class be placed in a separate file instead?</p>\n<p>I've tried that initially but it returned way more errors than it did now, especially from the abstract method <code>display()</code>.</p>\n<p>What is causing the error?</p>\n"},{"tags":["java","kotlin","jar"],"comments":[{"owner":{"account_id":20640528,"reputation":31,"user_id":15153321,"display_name":"Apelsinovi_sok"},"score":0,"creation_date":1670912982,"post_id":74780771,"comment_id":131976862,"body_markdown":"Command :     &quot;Main.kt -d hello.jar&quot;\nError &quot;Main.kt:2:16: error: unresolved reference: Bird\n    val bird = Bird()\n               ^&quot;","body":"Command :     &quot;Main.kt -d hello.jar&quot; Error &quot;Main.kt:2:16: error: unresolved reference: Bird     val bird = Bird()                ^&quot;"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1670915974,"post_id":74780771,"comment_id":131977495,"body_markdown":"This seems obvious, but you don&#39;t seem to have also compiled Bird.kt...","body":"This seems obvious, but you don&#39;t seem to have also compiled Bird.kt..."}],"answers":[{"tags":[],"owner":{"account_id":20640528,"reputation":31,"user_id":15153321,"display_name":"Apelsinovi_sok"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671211936,"creation_date":1670922942,"answer_id":74782437,"question_id":74780771,"body_markdown":"Try to run:\r\n\r\n```sh\r\nkotlinc *kt -include-runtime -d hello.jar\r\n```\r\n\r\nIn order to compile all `*.kt` files.","title":"I&#39;m trying to compile a Kotlin project on fire with the &quot;kotlinc Main.kt -d hello.jar&quot; command and I&#39;m getting this error unresolved reference: Bird","body":"<p>Try to run:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>kotlinc *kt -include-runtime -d hello.jar\n</code></pre>\n<p>In order to compile all <code>*.kt</code> files.</p>\n"}],"owner":{"account_id":20640528,"reputation":31,"user_id":15153321,"display_name":"Apelsinovi_sok"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671211936,"creation_date":1670912844,"question_id":74780771,"body_markdown":"My program has two classes Main.kt and Bird.kt \r\n\r\nMain.kt :\r\n\r\n`\r\n```\r\nfun main(args: Array&lt;String&gt;) {\r\n    val bird = Bird()\r\n    bird.echo()\r\n}\r\n```\r\n`\r\nBird.kt \r\n\r\n`\r\n```\r\nclass Bird {\r\n    fun echo() {\r\n        println(&quot;Hello&quot;)\r\n    }\r\n}\r\n\r\n```\r\n`\r\n\r\nCommand : Main.kt -d hello.jar\r\nError \r\n```\r\nMain.kt:2:16: error: unresolved reference: Bird\r\n    val bird = Bird()\r\n               ^\r\n```\r\nHow can I fix this? ","title":"I&#39;m trying to compile a Kotlin project on fire with the &quot;kotlinc Main.kt -d hello.jar&quot; command and I&#39;m getting this error unresolved reference: Bird","body":"<p>My program has two classes Main.kt and Bird.kt</p>\n<p>Main.kt :</p>\n<p>`</p>\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val bird = Bird()\n    bird.echo()\n}\n</code></pre>\n<p>`\nBird.kt</p>\n<p>`</p>\n<pre><code>class Bird {\n    fun echo() {\n        println(&quot;Hello&quot;)\n    }\n}\n\n</code></pre>\n<p>`</p>\n<p>Command : Main.kt -d hello.jar\nError</p>\n<pre><code>Main.kt:2:16: error: unresolved reference: Bird\n    val bird = Bird()\n               ^\n</code></pre>\n<p>How can I fix this?</p>\n"},{"tags":["java","generics","lambda","java-8","predicate"],"comments":[{"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"score":2,"creation_date":1455081928,"post_id":35306595,"comment_id":58324710,"body_markdown":"`extends` compiles too -- `Predicate&lt;? extends String&gt; predicate = s -&gt; s.startsWith(&quot;g&quot;)` -- though, we cannot feed a `String` to this predicate:) see also my [article](http://bayou.io/draft/Capturing_Wildcards.html) on wildcard","body":"<code>extends</code> compiles too -- <code>Predicate&lt;? extends String&gt; predicate = s -&gt; s.startsWith(&quot;g&quot;)</code> -- though, we cannot feed a <code>String</code> to this predicate:) see also my <a href=\"http://bayou.io/draft/Capturing_Wildcards.html\" rel=\"nofollow noreferrer\">article</a> on wildcard"},{"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"score":1,"creation_date":1455082561,"post_id":35306595,"comment_id":58324969,"body_markdown":"http://stackoverflow.com/questions/33085151/bad-return-type-in-lambda-expression/33085893#33085893","body":"<a href=\"http://stackoverflow.com/questions/33085151/bad-return-type-in-lambda-expression/33085893#33085893\" title=\"bad return type in lambda expression\">stackoverflow.com/questions/33085151/&hellip;</a>"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1455093699,"post_id":35306595,"comment_id":58330042,"body_markdown":"`Predicate&lt;? super String&gt;` does *not* imply that you can pass `Object` to it (and trying so will create a compiler error). The signature `Predicate&lt;? super String&gt;` just implies that it *might* be a `Predicate&lt;Object&gt;` which is ok, as that predicate still is able to process `String` inputs. In other words, `Predicate&lt;? super String&gt;` says that this predicate can consume strings, regardless of its actual type, so `Predicate&lt;String&gt;` is a valid implementation of `Predicate&lt;? super String&gt;`.","body":"<code>Predicate&lt;? super String&gt;</code> does <i>not</i> imply that you can pass <code>Object</code> to it (and trying so will create a compiler error). The signature <code>Predicate&lt;? super String&gt;</code> just implies that it <i>might</i> be a <code>Predicate&lt;Object&gt;</code> which is ok, as that predicate still is able to process <code>String</code> inputs. In other words, <code>Predicate&lt;? super String&gt;</code> says that this predicate can consume strings, regardless of its actual type, so <code>Predicate&lt;String&gt;</code> is a valid implementation of <code>Predicate&lt;? super String&gt;</code>."},{"owner":{"account_id":5482002,"reputation":518,"user_id":4358133,"accept_rate":0,"display_name":"piper1970"},"score":0,"creation_date":1455117385,"post_id":35306595,"comment_id":58346565,"body_markdown":"My apologies for not giving the complete code.  The actual code that didn&#39;t compile was the line **boolean test = anyMatch(predicate);** that came afterwards.  The actual predicate line by itself does compile in both upper and lower bounds syntax.  After thinking about it logically for a while, I understand why the anyMatch would have such a signature.","body":"My apologies for not giving the complete code.  The actual code that didn&#39;t compile was the line <b>boolean test = anyMatch(predicate);</b> that came afterwards.  The actual predicate line by itself does compile in both upper and lower bounds syntax.  After thinking about it logically for a while, I understand why the anyMatch would have such a signature."}],"answers":[{"comments":[{"owner":{"account_id":5482002,"reputation":518,"user_id":4358133,"accept_rate":0,"display_name":"piper1970"},"score":0,"creation_date":1455117760,"post_id":35307138,"comment_id":58346896,"body_markdown":"Thank you for the clarification.  Lambda default behavior with bounded parameters was at the heart of my confusion.","body":"Thank you for the clarification.  Lambda default behavior with bounded parameters was at the heart of my confusion."}],"tags":[],"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1455080859,"creation_date":1455080317,"answer_id":35307138,"question_id":35306595,"body_markdown":"Lambda argument type is exact, it cannot be `? super` or `? extends`. This is covered by [JLS 15.27.3. Type of a Lambda Expression](https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.27). It introduces the *ground target type* concept (which is basically the lambda type). Among other things it&#39;s stated that:\r\n\r\n&gt; If `T` is a wildcard-parameterized functional interface type and the lambda expression is implicitly typed, then the ground target type is the **non-wildcard parameterization** ([&#167;9.9](https://docs.oracle.com/javase/specs/jls/se8/html/jls-9.html#jls-9.9)) of T.\r\n\r\nEmphasis mine. So essentially when you write \r\n\r\n    Predicate&lt;? super String&gt; predicate = s -&gt; s.startsWith(&quot;g&quot;);\r\n\r\nYour lambda type is `Predicate&lt;String&gt;`. It&#39;s the same as:\r\n\r\n    Predicate&lt;? super String&gt; predicate = (Predicate&lt;String&gt;)(s -&gt; s.startsWith(&quot;g&quot;));\r\n\r\nOr even\r\n\r\n\tPredicate&lt;String&gt; pred = (Predicate&lt;String&gt;)(s -&gt; s.startsWith(&quot;g&quot;));\r\n\tPredicate&lt;? super String&gt; predicate = pred;\r\n\r\nGiven the fact that lambdas type arguments are concrete, after that normal type conversion rules apply: `Predicate&lt;String&gt;` is a `Predicate&lt;? super String&gt;`, or `Predicate&lt;? extends String&gt;`. So both `Predicate&lt;? super String&gt;` and `Predicate&lt;? extends String&gt;` should compile. And both actually work for me on javac 8u25, 8u45, 8u71 as well as ecj 3.11.1.","title":"Problems understanding lower bounds when used with lambda and Functional Interface","body":"<p>Lambda argument type is exact, it cannot be <code>? super</code> or <code>? extends</code>. This is covered by <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.27\">JLS 15.27.3. Type of a Lambda Expression</a>. It introduces the <em>ground target type</em> concept (which is basically the lambda type). Among other things it's stated that:</p>\n\n<blockquote>\n  <p>If <code>T</code> is a wildcard-parameterized functional interface type and the lambda expression is implicitly typed, then the ground target type is the <strong>non-wildcard parameterization</strong> (<a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-9.html#jls-9.9\">§9.9</a>) of T.</p>\n</blockquote>\n\n<p>Emphasis mine. So essentially when you write </p>\n\n<pre><code>Predicate&lt;? super String&gt; predicate = s -&gt; s.startsWith(\"g\");\n</code></pre>\n\n<p>Your lambda type is <code>Predicate&lt;String&gt;</code>. It's the same as:</p>\n\n<pre><code>Predicate&lt;? super String&gt; predicate = (Predicate&lt;String&gt;)(s -&gt; s.startsWith(\"g\"));\n</code></pre>\n\n<p>Or even</p>\n\n<pre><code>Predicate&lt;String&gt; pred = (Predicate&lt;String&gt;)(s -&gt; s.startsWith(\"g\"));\nPredicate&lt;? super String&gt; predicate = pred;\n</code></pre>\n\n<p>Given the fact that lambdas type arguments are concrete, after that normal type conversion rules apply: <code>Predicate&lt;String&gt;</code> is a <code>Predicate&lt;? super String&gt;</code>, or <code>Predicate&lt;? extends String&gt;</code>. So both <code>Predicate&lt;? super String&gt;</code> and <code>Predicate&lt;? extends String&gt;</code> should compile. And both actually work for me on javac 8u25, 8u45, 8u71 as well as ecj 3.11.1.</p>\n"},{"comments":[{"owner":{"account_id":5482002,"reputation":518,"user_id":4358133,"accept_rate":0,"display_name":"piper1970"},"score":0,"creation_date":1455117967,"post_id":35307189,"comment_id":58347076,"body_markdown":"Thank you for your insight. The return type/parameter summarization makes it much easier to understand their usage.","body":"Thank you for your insight. The return type/parameter summarization makes it much easier to understand their usage."},{"owner":{"account_id":4788690,"reputation":877,"user_id":3868454,"accept_rate":60,"display_name":"Nick Legend"},"score":0,"creation_date":1671231980,"post_id":35307189,"comment_id":132062708,"body_markdown":"There&#39;s one thing I cannot understand: &quot;The actual instance will always have a non-wildcard type argument&quot;. If we say `GenericClass&lt;? extends Bar&gt; g = GenericClass&lt;&gt;();` then, well, in run time `g` will be subject to type erasure. But in compile time the type is known, so looks like at least a `Bar` may be sent as a parameter.","body":"There&#39;s one thing I cannot understand: &quot;The actual instance will always have a non-wildcard type argument&quot;. If we say <code>GenericClass&lt;? extends Bar&gt; g = GenericClass&lt;&gt;();</code> then, well, in run time <code>g</code> will be subject to type erasure. But in compile time the type is known, so looks like at least a <code>Bar</code> may be sent as a parameter."},{"owner":{"account_id":4788690,"reputation":877,"user_id":3868454,"accept_rate":60,"display_name":"Nick Legend"},"score":0,"creation_date":1671232954,"post_id":35307189,"comment_id":132062842,"body_markdown":"Ok, [this answer](https://stackoverflow.com/a/45610023/3868454) clarifies it really well.","body":"Ok, <a href=\"https://stackoverflow.com/a/45610023/3868454\">this answer</a> clarifies it really well."}],"tags":[],"owner":{"account_id":4644547,"reputation":5037,"user_id":3763321,"accept_rate":0,"display_name":"Douglas"},"comment_count":3,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1671211844,"creation_date":1455080572,"answer_id":35307189,"question_id":35306595,"body_markdown":"I just tested it, the assignment itself compiles. What changes is whether you can actually call `predicate.test()`.\r\n\r\nLet&#39;s take a step back and use a placeholder `GenericClass&lt;T&gt;` for explanation. For type arguments, `Foo` extends `Bar` and `Bar` extends `Baz`.\r\n\r\nExtends:\r\nWhen you declare a `GenericClass&lt;? extends Bar&gt;`, you are saying &quot;I don&#39;t know what its generic type argument actually is, but it&#39;s a subclass of `Bar`.&quot; The actual instance will always have a non-wildcard type argument, but in this part of the code you don&#39;t know what the value of it is. Now consider what that means for method invocations.\r\n\r\nYou know what you&#39;ve actually got is either a `GenericClass&lt;Foo&gt;` or a `GenericClass&lt;Bar&gt;`. Consider a method that returns `T`. In the former case, its return type is `Foo`. In the latter, `Bar`. Either way, it&#39;s a subtype of `Bar` and is safe to assign to a `Bar` variable.\r\n\r\nConsider a method that has a `T` parameter. If it&#39;s a `GenericClass&lt;Foo&gt;`, then passing it a `Bar` is an error - `Bar` is not a subtype of `Foo`.\r\n\r\nSo, with an upper bound you can use generic return values, but not generic method parameters.\r\n\r\nSuper:\r\nWhen you declare a `GenericClass&lt;? super Bar&gt;`, you are saying &quot;I don&#39;t know what its generic type argument actually is, but it&#39;s a superclass of `Bar`.&quot; Now consider what that means for method invocations.\r\n\r\nYou know what you&#39;ve actually got is either a `GenericClass&lt;Bar&gt;` or a `GenericClass&lt;Baz&gt;`. Consider a method that returns `T`. In the former case, it returns `Bar`. In the latter, `Baz`. If it returns a `Baz`, then assigning that value to a `Bar` variable is an error. You don&#39;t know which it is, so you can&#39;t safely assume anything here.\r\n\r\nConsider a method that has a `T` parameter. If it&#39;s a `GenericClass&lt;Bar&gt;`, then passing it a `Bar` is legal. If it&#39;s a `GenericClass&lt;Baz&gt;`, then passing it a `Bar` is still legal because `Bar` is a subtype of `Baz`.\r\n\r\nSo, with a lower bound you can use generic method parameters, but not generic return values.\r\n\r\nIn summary: `&lt;? extends T&gt;` means you can use generic return values but not parameters. `&lt;? super T&gt;` means you can use generic parameters but not return values. `Predicate.test()` has a generic parameter, so you need `super`.\r\n\r\nAnother thing to consider: The bounds stated by a wildcard are about the actual type argument of the object. Their consequences on the types that you can *use with* that object are the opposite. An upper bound wildcard (`extends`) is a lower bound on the types of variables you can assign return values to. A lower bound wildcard (`super`) is an upper bound on the types you can pass in as parameters. `predicate.test(new Object())` will not compile because, with a lower bound of `String`, it will only accept subclasses of `String`.\r\n\r\nMore explanations: [Guidelines for Wildcard Use](https://docs.oracle.com/javase/tutorial/java/generics/wildcardGuidelines.html).","title":"Problems understanding lower bounds when used with lambda and Functional Interface","body":"<p>I just tested it, the assignment itself compiles. What changes is whether you can actually call <code>predicate.test()</code>.</p>\n<p>Let's take a step back and use a placeholder <code>GenericClass&lt;T&gt;</code> for explanation. For type arguments, <code>Foo</code> extends <code>Bar</code> and <code>Bar</code> extends <code>Baz</code>.</p>\n<p>Extends:\nWhen you declare a <code>GenericClass&lt;? extends Bar&gt;</code>, you are saying &quot;I don't know what its generic type argument actually is, but it's a subclass of <code>Bar</code>.&quot; The actual instance will always have a non-wildcard type argument, but in this part of the code you don't know what the value of it is. Now consider what that means for method invocations.</p>\n<p>You know what you've actually got is either a <code>GenericClass&lt;Foo&gt;</code> or a <code>GenericClass&lt;Bar&gt;</code>. Consider a method that returns <code>T</code>. In the former case, its return type is <code>Foo</code>. In the latter, <code>Bar</code>. Either way, it's a subtype of <code>Bar</code> and is safe to assign to a <code>Bar</code> variable.</p>\n<p>Consider a method that has a <code>T</code> parameter. If it's a <code>GenericClass&lt;Foo&gt;</code>, then passing it a <code>Bar</code> is an error - <code>Bar</code> is not a subtype of <code>Foo</code>.</p>\n<p>So, with an upper bound you can use generic return values, but not generic method parameters.</p>\n<p>Super:\nWhen you declare a <code>GenericClass&lt;? super Bar&gt;</code>, you are saying &quot;I don't know what its generic type argument actually is, but it's a superclass of <code>Bar</code>.&quot; Now consider what that means for method invocations.</p>\n<p>You know what you've actually got is either a <code>GenericClass&lt;Bar&gt;</code> or a <code>GenericClass&lt;Baz&gt;</code>. Consider a method that returns <code>T</code>. In the former case, it returns <code>Bar</code>. In the latter, <code>Baz</code>. If it returns a <code>Baz</code>, then assigning that value to a <code>Bar</code> variable is an error. You don't know which it is, so you can't safely assume anything here.</p>\n<p>Consider a method that has a <code>T</code> parameter. If it's a <code>GenericClass&lt;Bar&gt;</code>, then passing it a <code>Bar</code> is legal. If it's a <code>GenericClass&lt;Baz&gt;</code>, then passing it a <code>Bar</code> is still legal because <code>Bar</code> is a subtype of <code>Baz</code>.</p>\n<p>So, with a lower bound you can use generic method parameters, but not generic return values.</p>\n<p>In summary: <code>&lt;? extends T&gt;</code> means you can use generic return values but not parameters. <code>&lt;? super T&gt;</code> means you can use generic parameters but not return values. <code>Predicate.test()</code> has a generic parameter, so you need <code>super</code>.</p>\n<p>Another thing to consider: The bounds stated by a wildcard are about the actual type argument of the object. Their consequences on the types that you can <em>use with</em> that object are the opposite. An upper bound wildcard (<code>extends</code>) is a lower bound on the types of variables you can assign return values to. A lower bound wildcard (<code>super</code>) is an upper bound on the types you can pass in as parameters. <code>predicate.test(new Object())</code> will not compile because, with a lower bound of <code>String</code>, it will only accept subclasses of <code>String</code>.</p>\n<p>More explanations: <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/wildcardGuidelines.html\" rel=\"nofollow noreferrer\">Guidelines for Wildcard Use</a>.</p>\n"}],"owner":{"account_id":5482002,"reputation":518,"user_id":4358133,"accept_rate":0,"display_name":"piper1970"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1358,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":2,"score":16,"last_activity_date":1671211844,"creation_date":1455077059,"question_id":35306595,"body_markdown":"While studying up on Java8 Streams, I came across the following code snippet:\r\n\r\n    Predicate&lt;? super String&gt; predicate = s -&gt; s.startsWith(&quot;g&quot;);\r\n\r\nSince the generic parameter is a lower bound, I figured this would not compile.  The way I see it, if an Object is a supertype to a String, then passing in an Object type should break it, since Object does not have a startsWith() function.  However, I was surprised to see it work without any problems. \r\n\r\nFurther yet, when I tweaked the predicate to take an upper bound:\r\n\r\n    &lt;? extends String&gt;,\r\nit would not compile.\r\n\r\nI thought I understood the meaning of upper and lower bounds, but obviously, I am missing something.  Can anyone help explain why the lower bound works with this lambda?","title":"Problems understanding lower bounds when used with lambda and Functional Interface","body":"<p>While studying up on Java8 Streams, I came across the following code snippet:</p>\n\n<pre><code>Predicate&lt;? super String&gt; predicate = s -&gt; s.startsWith(\"g\");\n</code></pre>\n\n<p>Since the generic parameter is a lower bound, I figured this would not compile.  The way I see it, if an Object is a supertype to a String, then passing in an Object type should break it, since Object does not have a startsWith() function.  However, I was surprised to see it work without any problems. </p>\n\n<p>Further yet, when I tweaked the predicate to take an upper bound:</p>\n\n<pre><code>&lt;? extends String&gt;,\n</code></pre>\n\n<p>it would not compile.</p>\n\n<p>I thought I understood the meaning of upper and lower bounds, but obviously, I am missing something.  Can anyone help explain why the lower bound works with this lambda?</p>\n"},{"tags":["java","spring","spring-boot","tomcat"],"comments":[{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":2,"creation_date":1671212179,"post_id":74827888,"comment_id":132058022,"body_markdown":"I would be careful trying to do this too much.  Tomcat already has a pretty generous header size but if you were to use some other server in front of Tomcat (i.e. Apache, Nginx, etc) it may have something different.  Are you really trying to put ~8k of data into the header?  These restrictions were put in place to reduce denial of service attacks.  How big do you need?","body":"I would be careful trying to do this too much.  Tomcat already has a pretty generous header size but if you were to use some other server in front of Tomcat (i.e. Apache, Nginx, etc) it may have something different.  Are you really trying to put ~8k of data into the header?  These restrictions were put in place to reduce denial of service attacks.  How big do you need?"},{"owner":{"account_id":34671,"reputation":8309,"user_id":98044,"accept_rate":95,"display_name":"Vini"},"score":5,"creation_date":1671214116,"post_id":74827888,"comment_id":132058545,"body_markdown":"In case you still want to use the property. I think `server.max-http-header-size` is deprecated in favor of `server.max-http-request-header-size` in Spring Boot 3.0.0","body":"In case you still want to use the property. I think <code>server.max-http-header-size</code> is deprecated in favor of <code>server.max-http-request-header-size</code> in Spring Boot 3.0.0"}],"owner":{"account_id":11740144,"reputation":70,"user_id":8592736,"display_name":"Shuvradeb Saha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2416,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671211828,"creation_date":1671211828,"question_id":74827888,"body_markdown":"I am getting the following error when doing a simple GET request to an endpoint. After running the app I just hit `http://localhost:8080/api/user`.\r\n\r\n```\r\njava.lang.IllegalArgumentException: Request header is too large\r\n\torg.apache.coyote.http11.Http11InputBuffer.fill(Http11InputBuffer.java:790)\r\n\torg.apache.coyote.http11.Http11InputBuffer.parseHeader(Http11InputBuffer.java:975)\r\n\torg.apache.coyote.http11.Http11InputBuffer.parseHeaders(Http11InputBuffer.java:604)\r\n\torg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:295)\r\n\torg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\torg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861)\r\n\torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739)\r\n\torg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\torg.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\torg.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tjava.base/java.lang.Thread.run(Thread.java:833)\r\n```\r\nThe embedded tomcat core version is `10.1.1` and java version is `17`.\r\n\r\nI know we can specify the max header size in `server.max-http-header-size` inside application properties but in Spring Boot 3.0.0 that are deprecated and will be removed soon. So, I don&#39;t want to use that for resolving this issue.\r\n\r\nIf anybody knows how to solve this issue in latest release if spring boot (3.x.x) that would be a great help for me. Thanks in advance.","title":"How to resolve &#39;Request header is too large&#39; error in Spring Boot 3.0.0","body":"<p>I am getting the following error when doing a simple GET request to an endpoint. After running the app I just hit <code>http://localhost:8080/api/user</code>.</p>\n<pre><code>java.lang.IllegalArgumentException: Request header is too large\n    org.apache.coyote.http11.Http11InputBuffer.fill(Http11InputBuffer.java:790)\n    org.apache.coyote.http11.Http11InputBuffer.parseHeader(Http11InputBuffer.java:975)\n    org.apache.coyote.http11.Http11InputBuffer.parseHeaders(Http11InputBuffer.java:604)\n    org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:295)\n    org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739)\n    org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n    org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>The embedded tomcat core version is <code>10.1.1</code> and java version is <code>17</code>.</p>\n<p>I know we can specify the max header size in <code>server.max-http-header-size</code> inside application properties but in Spring Boot 3.0.0 that are deprecated and will be removed soon. So, I don't want to use that for resolving this issue.</p>\n<p>If anybody knows how to solve this issue in latest release if spring boot (3.x.x) that would be a great help for me. Thanks in advance.</p>\n"},{"tags":["java","spring-boot"],"owner":{"account_id":8082093,"reputation":5,"user_id":6090907,"display_name":"Taha Iqbal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671211740,"creation_date":1671211740,"question_id":74827872,"body_markdown":"This is class A where I have one method which need to run before class B\r\n```\r\nclass test_a {\r\n@Test(enabled = true, priority = 1)\r\npublic void Verify_Code_Email_Registration() {\r\nSystem.out.println(&quot;Verify_Code_Email_Registration&quot;);\r\n}\r\n\r\n}\r\nThis is class b.This should run after class A\r\nclass Test_b {\r\n@Test(enabled = true, priority = 1)\r\npublic void Generate_Code_PHONE() {\r\nSystem.out.println(&quot;Generate_Code_phone&quot;);\r\n}\r\n}\r\n```","title":"Springboot based framework Each classes has different methods or test. the probelm class b running first instead of class A","body":"<p>This is class A where I have one method which need to run before class B</p>\n<pre><code>class test_a {\n@Test(enabled = true, priority = 1)\npublic void Verify_Code_Email_Registration() {\nSystem.out.println(&quot;Verify_Code_Email_Registration&quot;);\n}\n\n}\nThis is class b.This should run after class A\nclass Test_b {\n@Test(enabled = true, priority = 1)\npublic void Generate_Code_PHONE() {\nSystem.out.println(&quot;Generate_Code_phone&quot;);\n}\n}\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671190905,"creation_date":1671190372,"answer_id":74823879,"question_id":74823855,"body_markdown":"Your inner loop increments `j` but has a condition based on `i`. Change it to `j` and you should be OK:\r\n\r\n```java\r\nfor(int i = 0; i &lt; arr.length; i++) {\r\n    for(int j = i + 1; j &lt; arr.length; j++) {\r\n        // Here -------^\r\n```","title":"The error :ava.lang.ArrayIndexOutOfBoundsException: Index 9 out of bounds for length 9 ? #java","body":"<p>Your inner loop increments <code>j</code> but has a condition based on <code>i</code>. Change it to <code>j</code> and you should be OK:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for(int i = 0; i &lt; arr.length; i++) {\n    for(int j = i + 1; j &lt; arr.length; j++) {\n        // Here -------^\n</code></pre>\n"}],"owner":{"account_id":27271811,"reputation":1,"user_id":20793021,"display_name":"user20793021"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1671190848,"answer_count":1,"score":-3,"last_activity_date":1671211533,"creation_date":1671190247,"question_id":74823855,"body_markdown":"the code:\r\nFind the frequency of elements in an array::\r\n\r\n``` \r\nint array=-1;\r\nint arr[]=new int[] {101,88,3,65,6,3,0,0,88};\r\nint arr2[]=new int[arr.length];\r\nint count=0;\r\n\r\nfor (int i = 0; i &lt; arr.length; i++) {\r\n  for (int j = i + 1; i &lt; arr.length; j++) {\r\n    if (arr[i] == arr[j]) {\r\n      count++;\r\n      arr2[i] = array;\r\n    }\r\n  }\r\n  if (arr[i] != array) {\r\n    arr[i] = count;\r\n\r\n  }\r\n}\r\nfor (int i = 0; i &lt; arr.length; i++) {\r\n  if (arr[i] != array) {\r\n    System.out.println(&quot;Count of  &quot; + arr[i] + &quot; = &quot; + arr2[i]);\r\n  }\r\n}\r\n\r\n```\r\n**your The error :ava.lang.ArrayIndexOutOfBoundsException: Index 9 out of bounds for length 9 ?? #java**\r\n\r\nCould you Plz help me &gt;&gt;\r\nThank you\r\n","title":"The error :ava.lang.ArrayIndexOutOfBoundsException: Index 9 out of bounds for length 9 ? #java","body":"<p>the code:\nFind the frequency of elements in an array::</p>\n<pre><code>int array=-1;\nint arr[]=new int[] {101,88,3,65,6,3,0,0,88};\nint arr2[]=new int[arr.length];\nint count=0;\n\nfor (int i = 0; i &lt; arr.length; i++) {\n  for (int j = i + 1; i &lt; arr.length; j++) {\n    if (arr[i] == arr[j]) {\n      count++;\n      arr2[i] = array;\n    }\n  }\n  if (arr[i] != array) {\n    arr[i] = count;\n\n  }\n}\nfor (int i = 0; i &lt; arr.length; i++) {\n  if (arr[i] != array) {\n    System.out.println(&quot;Count of  &quot; + arr[i] + &quot; = &quot; + arr2[i]);\n  }\n}\n\n</code></pre>\n<p><strong>your The error :ava.lang.ArrayIndexOutOfBoundsException: Index 9 out of bounds for length 9 ?? #java</strong></p>\n<p>Could you Plz help me &gt;&gt;\nThank you</p>\n"},{"tags":["java","unit-testing","testing","junit","mockito"],"answers":[{"comments":[{"owner":{"account_id":390557,"reputation":1327,"user_id":750703,"accept_rate":62,"display_name":"Pierre"},"score":1,"creation_date":1461690737,"post_id":36869435,"comment_id":61309824,"body_markdown":"Saw this but how can I integrate this with @Mock way of creating my mocks?","body":"Saw this but how can I integrate this with @Mock way of creating my mocks?"},{"owner":{"account_id":84979,"reputation":3840,"user_id":237225,"accept_rate":75,"display_name":"JJ Zabkar"},"score":4,"creation_date":1493957193,"post_id":36869435,"comment_id":74633018,"body_markdown":"@Pierre Using annotation-driven declarations won&#39;t work. You need to switch to in-line instantiation.","body":"@Pierre Using annotation-driven declarations won&#39;t work. You need to switch to in-line instantiation."}],"tags":[],"owner":{"account_id":8247,"reputation":17915,"user_id":14753,"accept_rate":100,"display_name":"Glennular"},"comment_count":2,"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1671211418,"creation_date":1461684664,"answer_id":36869435,"question_id":36869036,"body_markdown":"You can enable verbose logging on your Mocked objects:\r\n\r\n```java\r\n    import org.mockito.Mockito.mock;\r\n    import org.mockito.Mockito.withSettings;\r\n\r\n    List mockWithLogger = mock(List.class, withSettings().verboseLogging());\r\n```\r\n\r\nThis should give you more information to understand the interactions.\r\n\r\nhttps://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/MockSettings.html#verboseLogging()\r\n","title":"How to debug mockito mocks/stubs/matchers?","body":"<p>You can enable verbose logging on your Mocked objects:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    import org.mockito.Mockito.mock;\n    import org.mockito.Mockito.withSettings;\n\n    List mockWithLogger = mock(List.class, withSettings().verboseLogging());\n</code></pre>\n<p>This should give you more information to understand the interactions.</p>\n<p><a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/MockSettings.html#verboseLogging()\" rel=\"nofollow noreferrer\">https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/MockSettings.html#verboseLogging()</a></p>\n"}],"owner":{"account_id":390557,"reputation":1327,"user_id":750703,"accept_rate":62,"display_name":"Pierre"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12357,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":36869435,"answer_count":1,"score":19,"last_activity_date":1671211418,"creation_date":1461683686,"question_id":36869036,"body_markdown":"During normal test development using mockito, I (and many others for sure) run into many situations where our when(service.doSomething(paramMatcher, paramMatcher2, ...).thenReturn(...) drives me crazy. So many combinations that are possible between lists, vargars, null values, etc. it is often hours spent just trying to get the formula right and even then I give up and just use any() with thenAnswer(manual matching).\r\n\r\nHow can I debug the parameter matching mechanism of mockito? For added difficulty, I run my tests using Mockito runner which means that I use annotation to initialize and automatically inject my mocked services.","title":"How to debug mockito mocks/stubs/matchers?","body":"<p>During normal test development using mockito, I (and many others for sure) run into many situations where our when(service.doSomething(paramMatcher, paramMatcher2, ...).thenReturn(...) drives me crazy. So many combinations that are possible between lists, vargars, null values, etc. it is often hours spent just trying to get the formula right and even then I give up and just use any() with thenAnswer(manual matching).</p>\n\n<p>How can I debug the parameter matching mechanism of mockito? For added difficulty, I run my tests using Mockito runner which means that I use annotation to initialize and automatically inject my mocked services.</p>\n"},{"tags":["java","android","android-edittext","window","imeoptions"],"comments":[{"owner":{"account_id":13447169,"reputation":1234,"user_id":9702804,"display_name":"G. Ciardini"},"score":0,"creation_date":1671192088,"post_id":74643482,"comment_id":132051278,"body_markdown":"You should add a link of the problem answered in kotlin.","body":"You should add a link of the problem answered in kotlin."}],"answers":[{"comments":[{"owner":{"account_id":26784748,"reputation":27,"user_id":20379107,"display_name":"Orest"},"score":0,"creation_date":1670961773,"post_id":74790287,"comment_id":131993091,"body_markdown":"I went to look for it, thanks","body":"I went to look for it, thanks"}],"tags":[],"owner":{"account_id":23050657,"reputation":117,"user_id":17167547,"display_name":"Орест Третяк"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670961703,"creation_date":1670961703,"answer_id":74790287,"question_id":74643482,"body_markdown":"you are not what you are looking for, everything is fine with imeoptioins. \r\n\r\nThis kind of error can occur if there are recyclerView in your layout (that is, if you remove recyclerView , everything will work), but this is another issue.","title":"why imeOptions in my Edit text stops work","body":"<p>you are not what you are looking for, everything is fine with imeoptioins.</p>\n<p>This kind of error can occur if there are recyclerView in your layout (that is, if you remove recyclerView , everything will work), but this is another issue.</p>\n"}],"owner":{"account_id":26784748,"reputation":27,"user_id":20379107,"display_name":"Orest"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74790287,"answer_count":1,"score":1,"last_activity_date":1671211327,"creation_date":1669904979,"question_id":74643482,"body_markdown":"`ImeOptions` in my `EditText` stops work before add `WindowCompat.setDecorFitsSystemWindows(window, false);`\r\n when expanding the frame, the `ImeOptions` in `EditText` stops working and I can&#39;t see what I&#39;m typing \r\n\r\nHere are the examples:\r\n\r\n - [Before][1] \r\n - [After][2]\r\n\r\nI set the following attributes\r\n```xml\r\n&lt;EditText\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot; \r\n    android:maxLines=&quot;1&quot;\r\n    android:inputType=&quot;text&quot;\r\n    android:imeOptions=&quot;actionSend&quot;/&gt;       \r\n```\r\n\r\nI found the same problem but it was answered on kotlin so I created this one\r\n\r\nI will be very grateful for every reply\r\n\r\n  [1]: https://i.stack.imgur.com/cZB3c.png\r\n  [2]: https://i.stack.imgur.com/cFieO.png","title":"why imeOptions in my Edit text stops work","body":"<p><code>ImeOptions</code> in my <code>EditText</code> stops work before add <code>WindowCompat.setDecorFitsSystemWindows(window, false);</code>\nwhen expanding the frame, the <code>ImeOptions</code> in <code>EditText</code> stops working and I can't see what I'm typing</p>\n<p>Here are the examples:</p>\n<ul>\n<li><a href=\"https://i.stack.imgur.com/cZB3c.png\" rel=\"nofollow noreferrer\">Before</a></li>\n<li><a href=\"https://i.stack.imgur.com/cFieO.png\" rel=\"nofollow noreferrer\">After</a></li>\n</ul>\n<p>I set the following attributes</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;EditText\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot; \n    android:maxLines=&quot;1&quot;\n    android:inputType=&quot;text&quot;\n    android:imeOptions=&quot;actionSend&quot;/&gt;       \n</code></pre>\n<p>I found the same problem but it was answered on kotlin so I created this one</p>\n<p>I will be very grateful for every reply</p>\n"},{"tags":["java","apache-camel"],"owner":{"account_id":27264871,"reputation":11,"user_id":20787091,"display_name":"lynn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":407,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671210579,"creation_date":1671136492,"question_id":74817263,"body_markdown":"I was working on upgrade camel from 3.0 to 3.4, but I am facing issue when I trying to start the app. JDK8 and All current camel related version: 3.4.0, except for those 2 artifact:\r\n```\r\ncamel-restlet(3.0.0-M1)\r\ncamel-http4(3.0.0-M1)\r\n```\r\n\r\nDefine Route and Transformer:\r\n\r\n```\r\nRouteKafkaMessageTransformer(&quot;direct:kafkaMessageTransformer&quot;, false),\r\nStepKafkaMessageTransformer(&quot;kafkaMessageTransformer&quot;, true),\r\n```\r\n\r\n```\r\n@Component\r\npublic class KafkaMessageTransformer {\r\n    @Transactable\r\n    @Loggable\r\n    @Handler\r\n    public void process(Exchange exchange) throws Exception {\r\n        processing Logic...\r\n    }\r\n}\r\n```\r\n\r\nRoute Usage:\r\n\r\n```\r\nfrom(RouteDispatchKafkaMessage.getEndpoint()).id(RouteDispatchKafkaMessage.getEndpoint()).routeId(RouteDispatchKafkaMessage.getEndpoint())\r\n    .bean(StepKafkaMessageTransformer.getEndpoint())\r\n\r\nfrom(RouteKafkaMessageTransformer.getEndpoint())\r\n    .routeId(RouteKafkaMessageTransformer.getEndpoint())\r\n    .bean(StepKafkaMessageTransformer.getEndpoint())\r\n    .id(StepKafkaMessageTransformer.getEndpoint())\r\n;\r\n```\r\nERROR CONSOLE:\r\n\r\n```\r\norg.apache.camel.FailedToCreateRouteException: Failed to create route route12 at: &gt;&gt;&gt; To[kafkaMessageTransformer] &lt;&lt;&lt; in route: Route(route12)[From[direct:xxxDispatcher] -&gt; [OnExce... because of No endpoint could be found for: kafkaMessageTransformer, please check your classpath contains the needed Camel component jar.\r\n\tat org.apache.camel.reifier.RouteReifier.doCreateRoute(RouteReifier.java:393)\r\n\tat org.apache.camel.reifier.RouteReifier.createRoute(RouteReifier.java:117)\r\n\tat org.apache.camel.impl.DefaultCamelContext.startRouteDefinitions(DefaultCamelContext.java:368)\r\n\tat org.apache.camel.impl.DefaultCamelContext.startRouteDefinitions(DefaultCamelContext.java:342)\r\n\tat org.apache.camel.impl.engine.AbstractCamelContext.doInit(AbstractCamelContext.java:2612)\r\n\tat org.apache.camel.support.service.BaseService.init(BaseService.java:83)\r\n\tat org.apache.camel.impl.engine.AbstractCamelContext.init(AbstractCamelContext.java:2435)\r\n\tat org.apache.camel.support.service.BaseService.start(BaseService.java:111)\r\n\tat org.apache.camel.impl.engine.AbstractCamelContext.start(AbstractCamelContext.java:2452)\r\n\tat org.apache.camel.spring.SpringCamelContext.start(SpringCamelContext.java:121)\r\n\tat org.apache.camel.spring.CamelContextFactoryBean.start(CamelContextFactoryBean.java:381)\r\n\tat org.apache.camel.spring.CamelContextFactoryBean.onApplicationEvent(CamelContextFactoryBean.java:428)\r\n\tat org.apache.camel.spring.CamelContextFactoryBean.onApplicationEvent(CamelContextFactoryBean.java:96)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:151)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:128)\r\n\tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:331)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:773)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:483)\r\n\tat com.walmart.platform.scm.client.execution.ScmServletContextListener.configureAndRefreshWebApplicationContext(ScmServletContextListener.java:87)\r\n\tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:306)\r\n\tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:106)\r\n\tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:5128)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5653)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:1007)\r\n\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:983)\r\n\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:639)\r\n\tat org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1898)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:302)\r\n\tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\r\n\tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\r\n\tat org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:633)\r\n\tat org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:577)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:302)\r\n\tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\r\n\tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\r\n\tat com.sun.jmx.remote.security.MBeanServerAccessController.invoke(MBeanServerAccessController.java:468)\r\n\tat javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)\r\n\tat javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)\r\n\tat javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1408)\r\n\tat javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)\r\n\tat sun.rmi.transport.Transport$1.run(Transport.java:200)\r\n\tat sun.rmi.transport.Transport$1.run(Transport.java:197)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat sun.rmi.transport.Transport.serviceCall(Transport.java:196)\r\n\tat sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573)\r\n\tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:834)\r\n\tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: org.apache.camel.NoSuchEndpointException: No endpoint could be found for: kafkaMessageTransformer, please check your classpath contains the needed Camel component jar.\r\n\tat org.apache.camel.impl.engine.AbstractCamelContext.doGetEndpoint(AbstractCamelContext.java:831)\r\n\tat org.apache.camel.impl.engine.AbstractCamelContext.getEndpoint(AbstractCamelContext.java:768)\r\n\tat org.apache.camel.support.CamelContextHelper.resolveEndpoint(CamelContextHelper.java:123)\r\n\tat org.apache.camel.reifier.SendReifier.resolveEndpoint(SendReifier.java:43)\r\n\tat org.apache.camel.reifier.SendReifier.createProcessor(SendReifier.java:36)\r\n\tat org.apache.camel.reifier.ProcessorReifier.makeProcessor(ProcessorReifier.java:766)\r\n\tat org.apache.camel.reifier.ProcessorReifier.addRoutes(ProcessorReifier.java:511)\r\n\tat org.apache.camel.reifier.RouteReifier.doCreateRoute(RouteReifier.java:391)\r\n\t... 67 more\r\n```\r\n\r\n\r\n1. tried to import camel-direct in pom file.\r\n2. tried to add bean name in the component.","title":"org.apache.camel.NoSuchEndpointException: No endpoint could be found for: kafkaMessageTransformer","body":"<p>I was working on upgrade camel from 3.0 to 3.4, but I am facing issue when I trying to start the app. JDK8 and All current camel related version: 3.4.0, except for those 2 artifact:</p>\n<pre><code>camel-restlet(3.0.0-M1)\ncamel-http4(3.0.0-M1)\n</code></pre>\n<p>Define Route and Transformer:</p>\n<pre><code>RouteKafkaMessageTransformer(&quot;direct:kafkaMessageTransformer&quot;, false),\nStepKafkaMessageTransformer(&quot;kafkaMessageTransformer&quot;, true),\n</code></pre>\n<pre><code>@Component\npublic class KafkaMessageTransformer {\n    @Transactable\n    @Loggable\n    @Handler\n    public void process(Exchange exchange) throws Exception {\n        processing Logic...\n    }\n}\n</code></pre>\n<p>Route Usage:</p>\n<pre><code>from(RouteDispatchKafkaMessage.getEndpoint()).id(RouteDispatchKafkaMessage.getEndpoint()).routeId(RouteDispatchKafkaMessage.getEndpoint())\n    .bean(StepKafkaMessageTransformer.getEndpoint())\n\nfrom(RouteKafkaMessageTransformer.getEndpoint())\n    .routeId(RouteKafkaMessageTransformer.getEndpoint())\n    .bean(StepKafkaMessageTransformer.getEndpoint())\n    .id(StepKafkaMessageTransformer.getEndpoint())\n;\n</code></pre>\n<p>ERROR CONSOLE:</p>\n<pre><code>org.apache.camel.FailedToCreateRouteException: Failed to create route route12 at: &gt;&gt;&gt; To[kafkaMessageTransformer] &lt;&lt;&lt; in route: Route(route12)[From[direct:xxxDispatcher] -&gt; [OnExce... because of No endpoint could be found for: kafkaMessageTransformer, please check your classpath contains the needed Camel component jar.\n    at org.apache.camel.reifier.RouteReifier.doCreateRoute(RouteReifier.java:393)\n    at org.apache.camel.reifier.RouteReifier.createRoute(RouteReifier.java:117)\n    at org.apache.camel.impl.DefaultCamelContext.startRouteDefinitions(DefaultCamelContext.java:368)\n    at org.apache.camel.impl.DefaultCamelContext.startRouteDefinitions(DefaultCamelContext.java:342)\n    at org.apache.camel.impl.engine.AbstractCamelContext.doInit(AbstractCamelContext.java:2612)\n    at org.apache.camel.support.service.BaseService.init(BaseService.java:83)\n    at org.apache.camel.impl.engine.AbstractCamelContext.init(AbstractCamelContext.java:2435)\n    at org.apache.camel.support.service.BaseService.start(BaseService.java:111)\n    at org.apache.camel.impl.engine.AbstractCamelContext.start(AbstractCamelContext.java:2452)\n    at org.apache.camel.spring.SpringCamelContext.start(SpringCamelContext.java:121)\n    at org.apache.camel.spring.CamelContextFactoryBean.start(CamelContextFactoryBean.java:381)\n    at org.apache.camel.spring.CamelContextFactoryBean.onApplicationEvent(CamelContextFactoryBean.java:428)\n    at org.apache.camel.spring.CamelContextFactoryBean.onApplicationEvent(CamelContextFactoryBean.java:96)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:151)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:128)\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:331)\n    at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:773)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:483)\n    at com.walmart.platform.scm.client.execution.ScmServletContextListener.configureAndRefreshWebApplicationContext(ScmServletContextListener.java:87)\n    at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:306)\n    at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:106)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:5128)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5653)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:1007)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:983)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:639)\n    at org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1898)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:302)\n    at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\n    at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\n    at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:633)\n    at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:577)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:302)\n    at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\n    at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\n    at com.sun.jmx.remote.security.MBeanServerAccessController.invoke(MBeanServerAccessController.java:468)\n    at javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)\n    at javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)\n    at javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1408)\n    at javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)\n    at sun.rmi.transport.Transport$1.run(Transport.java:200)\n    at sun.rmi.transport.Transport$1.run(Transport.java:197)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.Transport.serviceCall(Transport.java:196)\n    at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:834)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: org.apache.camel.NoSuchEndpointException: No endpoint could be found for: kafkaMessageTransformer, please check your classpath contains the needed Camel component jar.\n    at org.apache.camel.impl.engine.AbstractCamelContext.doGetEndpoint(AbstractCamelContext.java:831)\n    at org.apache.camel.impl.engine.AbstractCamelContext.getEndpoint(AbstractCamelContext.java:768)\n    at org.apache.camel.support.CamelContextHelper.resolveEndpoint(CamelContextHelper.java:123)\n    at org.apache.camel.reifier.SendReifier.resolveEndpoint(SendReifier.java:43)\n    at org.apache.camel.reifier.SendReifier.createProcessor(SendReifier.java:36)\n    at org.apache.camel.reifier.ProcessorReifier.makeProcessor(ProcessorReifier.java:766)\n    at org.apache.camel.reifier.ProcessorReifier.addRoutes(ProcessorReifier.java:511)\n    at org.apache.camel.reifier.RouteReifier.doCreateRoute(RouteReifier.java:391)\n    ... 67 more\n</code></pre>\n<ol>\n<li>tried to import camel-direct in pom file.</li>\n<li>tried to add bean name in the component.</li>\n</ol>\n"},{"tags":["java","mockito","spring-webflux","reactor"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1671204223,"post_id":74826199,"comment_id":132055460,"body_markdown":"Instead of `private UserService userService = new UserService(authService);`, you should annotate the field with `@InjectMocks` (and remove the assignment).","body":"Instead of <code>private UserService userService = new UserService(authService);</code>, you should annotate the field with <code>@InjectMocks</code> (and remove the assignment)."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1671355720,"post_id":74826199,"comment_id":132078426,"body_markdown":"`@Mock` annotations are only applied once an instance of the class has been created. During instantiation, your field initializers are evaluated. `UserService` is therefore created with `null` as first parameter (because the mock for `authService` was not created yet). This boils down to &quot;pass-by-value vs pass-by-reference&quot;. This problematic pattern is mentioned in the question [Why is my class not calling my mocked methods in unit test?](https://stackoverflow.com/q/74027324/112968) too; with several solutions and further reading links.","body":"<code>@Mock</code> annotations are only applied once an instance of the class has been created. During instantiation, your field initializers are evaluated. <code>UserService</code> is therefore created with <code>null</code> as first parameter (because the mock for <code>authService</code> was not created yet). This boils down to &quot;pass-by-value vs pass-by-reference&quot;. This problematic pattern is mentioned in the question <a href=\"https://stackoverflow.com/q/74027324/112968\">Why is my class not calling my mocked methods in unit test?</a> too; with several solutions and further reading links."}],"answers":[{"comments":[{"owner":{"account_id":3033104,"reputation":1296,"user_id":2571728,"accept_rate":60,"display_name":"mpartan"},"score":0,"creation_date":1671797960,"post_id":74827492,"comment_id":132178487,"body_markdown":"Didn&#39;t get it working this way, with StepVerifier I&#39;m getting ClassCastException:\n\njava.lang.AssertionError: expectation failed (failed running expectation on signal [onNext(com.example.User] with [java.lang.ClassCastException]: class com.example.User cannot be cast to class com.example.ExpectedResult","body":"Didn&#39;t get it working this way, with StepVerifier I&#39;m getting ClassCastException:  java.lang.AssertionError: expectation failed (failed running expectation on signal [onNext(com.example.User] with [java.lang.ClassCastException]: class com.example.User cannot be cast to class com.example.ExpectedResult"}],"tags":[],"owner":{"account_id":5431662,"reputation":659,"user_id":4322337,"accept_rate":75,"display_name":"rilent"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671209555,"creation_date":1671209555,"answer_id":74827492,"question_id":74826199,"body_markdown":"I would mock it like that :\r\n\r\n    @Test\r\n    public void testMeaningfulStuff() {\r\n      User user = new User();\r\n      Mono&lt;User&gt; userMono = Mono.just(user);\r\n      \r\n      when(authService.withUser(any())).thenReturn(userMono);\r\n    \r\n      userService.doSomethingMeaningfulWithUser().subscribe(result -&gt; {\r\n         //test stuffs\r\n      });\r\n    }\r\n\r\nThis way, you can test the business logic in doSomethingMeaningfulWithUser without having to wire up the full AuthenticationService implementation.","title":"Testing a generic function with function as a paremeter","body":"<p>I would mock it like that :</p>\n<pre><code>@Test\npublic void testMeaningfulStuff() {\n  User user = new User();\n  Mono&lt;User&gt; userMono = Mono.just(user);\n  \n  when(authService.withUser(any())).thenReturn(userMono);\n\n  userService.doSomethingMeaningfulWithUser().subscribe(result -&gt; {\n     //test stuffs\n  });\n}\n</code></pre>\n<p>This way, you can test the business logic in doSomethingMeaningfulWithUser without having to wire up the full AuthenticationService implementation.</p>\n"}],"owner":{"account_id":3033104,"reputation":1296,"user_id":2571728,"accept_rate":60,"display_name":"mpartan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671209555,"creation_date":1671202955,"question_id":74826199,"body_markdown":"    AuthenticationService.java\r\n    public &lt;T&gt; Mono&lt;T&gt; withUser(Function&lt;User, Mono&lt;T&gt;&gt; function){\r\n        return Mono.deferContextual(ctx -&gt; {\r\n            User user = ctx.get(User.class);\r\n            function.apply(user);\r\n        })\r\n    }\r\n\r\nThen I have a separate client using this\r\n\r\n    UserService.java\r\n    public Mono&lt;Boolean&gt; doSomethingMeaningfulWithUser(){\r\n        authenticationService.withUser(user -&gt; {\r\n            ... \r\n        }\r\n    }\r\n\r\nIn my test I would have \r\n\r\n    @Mock\r\n    private AuthenticationService authService;\r\n\r\n    private UserService userService = new UserService(authService);\r\n\r\n    @Test\r\n    public void testMeaningfulStuff(){\r\n       ...when(...)\r\n       ...userService.doSomethingMeaningfulWithUser()\r\n    }\r\n\r\nIs there an idiomatic way to setup a @Mock with AuthenticationService here, so that I can test the business logic with User in doSomethingMeaningfulWithUser, or is it easier to wire AuthenticationService fully in this case here?\r\n","title":"Testing a generic function with function as a paremeter","body":"<pre><code>AuthenticationService.java\npublic &lt;T&gt; Mono&lt;T&gt; withUser(Function&lt;User, Mono&lt;T&gt;&gt; function){\n    return Mono.deferContextual(ctx -&gt; {\n        User user = ctx.get(User.class);\n        function.apply(user);\n    })\n}\n</code></pre>\n<p>Then I have a separate client using this</p>\n<pre><code>UserService.java\npublic Mono&lt;Boolean&gt; doSomethingMeaningfulWithUser(){\n    authenticationService.withUser(user -&gt; {\n        ... \n    }\n}\n</code></pre>\n<p>In my test I would have</p>\n<pre><code>@Mock\nprivate AuthenticationService authService;\n\nprivate UserService userService = new UserService(authService);\n\n@Test\npublic void testMeaningfulStuff(){\n   ...when(...)\n   ...userService.doSomethingMeaningfulWithUser()\n}\n</code></pre>\n<p>Is there an idiomatic way to setup a @Mock with AuthenticationService here, so that I can test the business logic with User in doSomethingMeaningfulWithUser, or is it easier to wire AuthenticationService fully in this case here?</p>\n"},{"tags":["java","datetime"],"comments":[{"owner":{"account_id":1353302,"reputation":7232,"user_id":1292203,"accept_rate":78,"display_name":"Usman Kurd"},"score":0,"creation_date":1448088337,"post_id":33840522,"comment_id":55446015,"body_markdown":"change your formater from yyyy-MM-dd&#39;T&#39;HH:mm:ss to yyyy-MM-dd&#39;T&#39;HH:mm and then start parsing.","body":"change your formater from yyyy-MM-dd&#39;T&#39;HH:mm:ss to yyyy-MM-dd&#39;T&#39;HH:mm and then start parsing."},{"owner":{"account_id":5176886,"reputation":1030,"user_id":4143698,"display_name":"blld"},"score":0,"creation_date":1448088653,"post_id":33840522,"comment_id":55446086,"body_markdown":"You&#39;re missing the seconds in your input time. Either add seconds, or as Usman said change your formatter.","body":"You&#39;re missing the seconds in your input time. Either add seconds, or as Usman said change your formatter."},{"owner":{"account_id":4077669,"reputation":412,"user_id":3348903,"accept_rate":87,"display_name":"SkyvrawleR"},"score":0,"creation_date":1448116961,"post_id":33840522,"comment_id":55453651,"body_markdown":"@UsmanKurd I have second in my database. The problem occur when the second is 00. Other values seem working well. Any solution?","body":"@UsmanKurd I have second in my database. The problem occur when the second is 00. Other values seem working well. Any solution?"}],"answers":[{"comments":[{"owner":{"account_id":4077669,"reputation":412,"user_id":3348903,"accept_rate":87,"display_name":"SkyvrawleR"},"score":1,"creation_date":1448116903,"post_id":33840583,"comment_id":55453636,"body_markdown":"I have second in my database. The problem occur when the second is 00. Other values seem working well. Any solution?","body":"I have second in my database. The problem occur when the second is 00. Other values seem working well. Any solution?"},{"owner":{"account_id":5995725,"reputation":4137,"user_id":4710425,"accept_rate":59,"display_name":"SatyaTNV"},"score":0,"creation_date":1448444959,"post_id":33840583,"comment_id":55588105,"body_markdown":"If seconds in 00, use `yyyy-MM-dd&#39;T&#39;HH:mm:ss`. @SkyvrawleR","body":"If seconds in 00, use <code>yyyy-MM-dd&#39;T&#39;HH:mm:ss</code>. @SkyvrawleR"}],"tags":[],"owner":{"account_id":5995725,"reputation":4137,"user_id":4710425,"accept_rate":59,"display_name":"SatyaTNV"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1448088625,"creation_date":1448088625,"answer_id":33840583,"question_id":33840522,"body_markdown":"&gt; Exception in thread &quot;Thread-5&quot;\r\n&gt; java.time.format.DateTimeParseException: Text &#39;2015-11-21T14:15&#39; could\r\n&gt; not be parsed at index 16\r\n\r\n\r\nChange \r\n\r\n\r\n    yyyy-MM-dd&#39;T&#39;HH:mm:ss\r\n\r\n\r\nto\r\n    \r\n    yyyy-MM-dd&#39;T&#39;HH:mm\r\n\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm&quot;, Locale.US);\r\n\r\nSince you are formatting upto minutes (`2015-11-21T14:15`) only not included seconds (`ss`) \r\n\r\nor add the seconds part.","title":"DateTimeParseException could not be parsed at index 16 Java Seldomly Triggered","body":"<blockquote>\n  <p>Exception in thread \"Thread-5\"\n  java.time.format.DateTimeParseException: Text '2015-11-21T14:15' could\n  not be parsed at index 16</p>\n</blockquote>\n\n<p>Change </p>\n\n<pre><code>yyyy-MM-dd'T'HH:mm:ss\n</code></pre>\n\n<p>to</p>\n\n<pre><code>yyyy-MM-dd'T'HH:mm\n\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(\"yyyy-MM-dd'T'HH:mm\", Locale.US);\n</code></pre>\n\n<p>Since you are formatting upto minutes (<code>2015-11-21T14:15</code>) only not included seconds (<code>ss</code>) </p>\n\n<p>or add the seconds part.</p>\n"},{"tags":[],"owner":{"account_id":4727881,"reputation":1345,"user_id":3824267,"display_name":"Dhruv Rai Puri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1448090191,"creation_date":1448088649,"answer_id":33840591,"question_id":33840522,"body_markdown":"You are not getting ss in your date string sometimes as seen in error producing date - `2015-11-21T14:15`. Use `yyyy-MM-dd&#39;T&#39;HH:mm` instead of `yyyy-MM-dd&#39;T&#39;HH:mm:ss`","title":"DateTimeParseException could not be parsed at index 16 Java Seldomly Triggered","body":"<p>You are not getting ss in your date string sometimes as seen in error producing date - <code>2015-11-21T14:15</code>. Use <code>yyyy-MM-dd'T'HH:mm</code> instead of <code>yyyy-MM-dd'T'HH:mm:ss</code></p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671208791,"creation_date":1671208791,"answer_id":74827357,"question_id":33840522,"body_markdown":"You do not need a `DateTimeFormatter`\r\n--\r\n\r\n`java.time` API is based on [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) and therefore you do not need a `DateTimeFormatter` to parse a date-time string which is already in ISO 8601 format (e.g. `2015-11-21T14:15`). \r\n\r\nWhat&#39;s wrong with your pattern?\r\n--\r\n\r\nYour date-time string doesn&#39;t have seconds but you have used `ss`. Your pattern, `yyyy-MM-dd&#39;T&#39;HH:mm:ss` can be used after removing `:ss` from it.\r\n\r\n**Demo**:\r\n\r\n    class Main {\r\n        public static void main(String args[]) {\r\n            String strDateTime = &quot;2015-11-21T14:15&quot;;\r\n            LocalDateTime ldt = LocalDateTime.parse(strDateTime);\r\n            System.out.println(ldt);\r\n    \r\n            // Parsing with your pattern after correction\r\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm&quot;);\r\n            System.out.println(LocalDateTime.parse(strDateTime, formatter));\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    2015-11-21T14:15\r\n    2015-11-21T14:15\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.","title":"DateTimeParseException could not be parsed at index 16 Java Seldomly Triggered","body":"<h2>You do not need a <code>DateTimeFormatter</code></h2>\n<p><code>java.time</code> API is based on <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> and therefore you do not need a <code>DateTimeFormatter</code> to parse a date-time string which is already in ISO 8601 format (e.g. <code>2015-11-21T14:15</code>).</p>\n<h2>What's wrong with your pattern?</h2>\n<p>Your date-time string doesn't have seconds but you have used <code>ss</code>. Your pattern, <code>yyyy-MM-dd'T'HH:mm:ss</code> can be used after removing <code>:ss</code> from it.</p>\n<p><strong>Demo</strong>:</p>\n<pre><code>class Main {\n    public static void main(String args[]) {\n        String strDateTime = &quot;2015-11-21T14:15&quot;;\n        LocalDateTime ldt = LocalDateTime.parse(strDateTime);\n        System.out.println(ldt);\n\n        // Parsing with your pattern after correction\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm&quot;);\n        System.out.println(LocalDateTime.parse(strDateTime, formatter));\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2015-11-21T14:15\n2015-11-21T14:15\n</code></pre>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":4077669,"reputation":412,"user_id":3348903,"accept_rate":87,"display_name":"SkyvrawleR"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5353,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":33840583,"answer_count":3,"score":2,"last_activity_date":1671208791,"creation_date":1448088010,"question_id":33840522,"body_markdown":"recently I faced this problem. But this happen seldomly and sometime my program run smoothly. What is triggering this exception? How to completely solve this problem:\r\n\r\nCode:\r\n\r\n    63: DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;, Locale.US);\r\n    64: String strLocalDate = loginRecords.getLoginDate().toLocalDateTime().toString();\r\n    65: LocalDateTime lastLogin = LocalDateTime.parse(strLocalDate, formatter);\r\n\r\nException text:\r\n\r\n    Exception in thread &quot;Thread-5&quot; java.time.format.DateTimeParseException: Text &#39;2015-11-21T14:15&#39; could not be parsed at index 16\r\n\t    at java.time.format.DateTimeFormatter.parseResolved0(Unknown Source)\r\n\t    at java.time.format.DateTimeFormatter.parse(Unknown Source)\r\n\t    at java.time.LocalDateTime.parse(Unknown Source)\r\n\t    at com.fesca.view.MainMenuFrame.&lt;init&gt;(MainMenuFrame.java:65)\r\n\t    at com.fesca.control.listener.CheckingRehabDateListener.run(CheckingRehabDateListener.java:287)","title":"DateTimeParseException could not be parsed at index 16 Java Seldomly Triggered","body":"<p>recently I faced this problem. But this happen seldomly and sometime my program run smoothly. What is triggering this exception? How to completely solve this problem:</p>\n\n<p>Code:</p>\n\n<pre><code>63: DateTimeFormatter formatter = DateTimeFormatter.ofPattern(\"yyyy-MM-dd'T'HH:mm:ss\", Locale.US);\n64: String strLocalDate = loginRecords.getLoginDate().toLocalDateTime().toString();\n65: LocalDateTime lastLogin = LocalDateTime.parse(strLocalDate, formatter);\n</code></pre>\n\n<p>Exception text:</p>\n\n<pre><code>Exception in thread \"Thread-5\" java.time.format.DateTimeParseException: Text '2015-11-21T14:15' could not be parsed at index 16\n    at java.time.format.DateTimeFormatter.parseResolved0(Unknown Source)\n    at java.time.format.DateTimeFormatter.parse(Unknown Source)\n    at java.time.LocalDateTime.parse(Unknown Source)\n    at com.fesca.view.MainMenuFrame.&lt;init&gt;(MainMenuFrame.java:65)\n    at com.fesca.control.listener.CheckingRehabDateListener.run(CheckingRehabDateListener.java:287)\n</code></pre>\n"},{"tags":["java","vaadin"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":2,"creation_date":1671125160,"post_id":74815064,"comment_id":132036217,"body_markdown":"You must filter the list you are passing to setItems","body":"You must filter the list you are passing to setItems"}],"answers":[{"tags":[],"owner":{"account_id":295383,"reputation":4686,"user_id":599765,"accept_rate":22,"display_name":"Andr&#233; Schild"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1671208683,"creation_date":1671125225,"answer_id":74815379,"question_id":74815064,"body_markdown":"You can either filter the list of items filled in as mentioned in the comment.\r\n\r\nOr you could switch to the Select component which supports disabled items, but has a slightly different behaviour than the ComboBox\r\n\r\nhttps://vaadin.com/docs/latest/components/select/#disabled-items\r\n","title":"Skip a particular item in ComboBox .setItemLabelGenerator()","body":"<p>You can either filter the list of items filled in as mentioned in the comment.</p>\n<p>Or you could switch to the Select component which supports disabled items, but has a slightly different behaviour than the ComboBox</p>\n<p><a href=\"https://vaadin.com/docs/latest/components/select/#disabled-items\" rel=\"nofollow noreferrer\">https://vaadin.com/docs/latest/components/select/#disabled-items</a></p>\n"}],"owner":{"account_id":27264199,"reputation":1,"user_id":20786539,"display_name":"javaGuy223"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671208683,"creation_date":1671123501,"question_id":74815064,"body_markdown":"I am currently working on a custom ComboBox where an employee needs to select a replacement for himself. The problem is that while I&#39;m adding all the empolyees in the combobox I want to skip myself (cause I shouldn&#39;t be able to select myself as a replacement for myself). How can I do this?\r\n\r\n```\r\nreplacement.setItemLabelGenerator(Employee -&gt; {\r\n    if (!currentEmployee.getName().equals(Employee.getName())) {\r\n        return Employee.getName();\r\n    } else {\r\n        return &quot;current Employee Name that doesn&#39;t need to apear&quot;; //this needs skipped or ignored\r\n    }\r\n});\r\n```\r\n","title":"Skip a particular item in ComboBox .setItemLabelGenerator()","body":"<p>I am currently working on a custom ComboBox where an employee needs to select a replacement for himself. The problem is that while I'm adding all the empolyees in the combobox I want to skip myself (cause I shouldn't be able to select myself as a replacement for myself). How can I do this?</p>\n<pre><code>replacement.setItemLabelGenerator(Employee -&gt; {\n    if (!currentEmployee.getName().equals(Employee.getName())) {\n        return Employee.getName();\n    } else {\n        return &quot;current Employee Name that doesn't need to apear&quot;; //this needs skipped or ignored\n    }\n});\n</code></pre>\n"},{"tags":["java","collections","hashmap","priority-queue"],"answers":[{"tags":[],"owner":{"account_id":27270496,"reputation":7,"user_id":20791880,"display_name":"Ali Elmorsy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671191380,"creation_date":1671191380,"answer_id":74824054,"question_id":74823985,"body_markdown":"The Answer in the question itself. You put the comparator inside the Priority Queue instance so.\r\n```java\r\nHashMap&lt;Integer, PriorityQueue&lt;Integer&gt;&gt; someMap = new HashMap&lt;&gt;();\r\nPriorityQueue&lt;Integer&gt; queue = new PriorityQueue&lt;&gt;(Comparator.reverseOrder());\r\nsomeMap.put(1,queue);\r\n```\r\nthat for initialization and when you put data in your queue you can use the same queue to put data.\r\n\r\n","title":"Initialize a Priority Queue with custom comparator, which is inside a HashMap","body":"<p>The Answer in the question itself. You put the comparator inside the Priority Queue instance so.</p>\n<pre class=\"lang-java prettyprint-override\"><code>HashMap&lt;Integer, PriorityQueue&lt;Integer&gt;&gt; someMap = new HashMap&lt;&gt;();\nPriorityQueue&lt;Integer&gt; queue = new PriorityQueue&lt;&gt;(Comparator.reverseOrder());\nsomeMap.put(1,queue);\n</code></pre>\n<p>that for initialization and when you put data in your queue you can use the same queue to put data.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671208451,"creation_date":1671191417,"answer_id":74824061,"question_id":74823985,"body_markdown":"The `Comparator` which `PriorityQueue` uses internally doesn&#39;t change its type anyhow.\r\n\r\nA `PriorityQueue&lt;Integer&gt;` which uses the natural ordering, or `Comparator.reverseOrder()`, or for instance `Comparator.nullsFirst(Comparator.reverseOrder())` (or any other Comparator) is still a `PriorityQueue&lt;Integer&gt;`. And you can store all these Queues in a map of type `Map&lt;Integer,PriorityQueue&lt;Integer&gt;&gt;`\r\n\r\nYou don&#39;t need to do anything special while instantiating the Map, just simply invoke the constructor `new HashMap&lt;&gt;()` as you did.\r\n\r\n```java\r\nMap&lt;Integer, Queue&lt;Integer&gt;&gt; someMap = new HashMap&lt;&gt;();\r\n        \r\nQueue&lt;Integer&gt; pq1 = new PriorityQueue&lt;&gt;();\r\nQueue&lt;Integer&gt; pq2 = new PriorityQueue&lt;&gt;(Comparator.reverseOrder());\r\nQueue&lt;Integer&gt; pq3 = new PriorityQueue&lt;&gt;(Comparator.nullsFirst(Comparator.reverseOrder());\r\n        \r\nsomeMap.put(1, pq1);\r\nsomeMap.put(2, pq1);\r\nsomeMap.put(3, pq1);\r\n```\r\n\r\n**Note** \r\n\r\n* That generic type parameters like `&lt;Integer,Queue&lt;Integer&gt;&gt;` are meant to allow the compiler to verify that you&#39;re using the appropriate types. It is a compile-type mechanism for preventing problems like Heap-pollution, and it has nothing to do with how the memory would be allocated at Runtime.\r\n\r\n* You might be interested in reading https://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface to learn what are the benefits of using high-level abstractions like `Map` and `Queue`.","title":"Initialize a Priority Queue with custom comparator, which is inside a HashMap","body":"<p>The <code>Comparator</code> which <code>PriorityQueue</code> uses internally doesn't change its type anyhow.</p>\n<p>A <code>PriorityQueue&lt;Integer&gt;</code> which uses the natural ordering, or <code>Comparator.reverseOrder()</code>, or for instance <code>Comparator.nullsFirst(Comparator.reverseOrder())</code> (or any other Comparator) is still a <code>PriorityQueue&lt;Integer&gt;</code>. And you can store all these Queues in a map of type <code>Map&lt;Integer,PriorityQueue&lt;Integer&gt;&gt;</code></p>\n<p>You don't need to do anything special while instantiating the Map, just simply invoke the constructor <code>new HashMap&lt;&gt;()</code> as you did.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Integer, Queue&lt;Integer&gt;&gt; someMap = new HashMap&lt;&gt;();\n        \nQueue&lt;Integer&gt; pq1 = new PriorityQueue&lt;&gt;();\nQueue&lt;Integer&gt; pq2 = new PriorityQueue&lt;&gt;(Comparator.reverseOrder());\nQueue&lt;Integer&gt; pq3 = new PriorityQueue&lt;&gt;(Comparator.nullsFirst(Comparator.reverseOrder());\n        \nsomeMap.put(1, pq1);\nsomeMap.put(2, pq1);\nsomeMap.put(3, pq1);\n</code></pre>\n<p><strong>Note</strong></p>\n<ul>\n<li><p>That generic type parameters like <code>&lt;Integer,Queue&lt;Integer&gt;&gt;</code> are meant to allow the compiler to verify that you're using the appropriate types. It is a compile-type mechanism for preventing problems like Heap-pollution, and it has nothing to do with how the memory would be allocated at Runtime.</p>\n</li>\n<li><p>You might be interested in reading <a href=\"https://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface\">What does it mean to &quot;program to an interface&quot;?</a> to learn what are the benefits of using high-level abstractions like <code>Map</code> and <code>Queue</code>.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":4758084,"reputation":3541,"user_id":3846291,"accept_rate":95,"display_name":"vdep"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":270,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74824061,"answer_count":2,"score":0,"last_activity_date":1671208451,"creation_date":1671190959,"question_id":74823985,"body_markdown":"Assume that I have a `HashMap`, where the value is of type `PriorityQueue` like:\r\n\r\n    HashMap&lt;Integer, PriorityQueue&lt;Integer&gt;&gt; someMap = new HashMap&lt;&gt;();\r\n\r\nBut how do I initialize this `HashMap`, if I need the `PriorityQueue` to have a custom comparator?\r\n\r\nThe actual comparator is much more complex, But for simplicity let&#39;s assume that I need the `PriorityQueue` to sort by reverse order, which I can do by:\r\n\r\n    PriorityQueue&lt;Integer&gt; queue = new PriorityQueue&lt;&gt;(Comparator.reverseOrder());\r\n\r\nWhere and How should I define the comparator for the value in `HashMap`?\r\n\r\n","title":"Initialize a Priority Queue with custom comparator, which is inside a HashMap","body":"<p>Assume that I have a <code>HashMap</code>, where the value is of type <code>PriorityQueue</code> like:</p>\n<pre><code>HashMap&lt;Integer, PriorityQueue&lt;Integer&gt;&gt; someMap = new HashMap&lt;&gt;();\n</code></pre>\n<p>But how do I initialize this <code>HashMap</code>, if I need the <code>PriorityQueue</code> to have a custom comparator?</p>\n<p>The actual comparator is much more complex, But for simplicity let's assume that I need the <code>PriorityQueue</code> to sort by reverse order, which I can do by:</p>\n<pre><code>PriorityQueue&lt;Integer&gt; queue = new PriorityQueue&lt;&gt;(Comparator.reverseOrder());\n</code></pre>\n<p>Where and How should I define the comparator for the value in <code>HashMap</code>?</p>\n"},{"tags":["java","maven","odata","olingo"],"owner":{"account_id":17268121,"reputation":149,"user_id":12504411,"display_name":"prathyusha magam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671208432,"creation_date":1671208432,"question_id":74827293,"body_markdown":"We&#39;re using odata-server-core-4.0.0 in our code.But,as it has vulnerabilities in maven till the version 4.6.0,we are trying to replace it with the latest version,4.9.0.\r\nBut,we use antlr(org.apache.olingo.server.core.uri.antlr) package classes such as UriLexer,UriParserParser.AllEOFContext etc.,\r\nLatest version odata-server-core-4.9.0 doesn&#39;t contain antlr package.\r\nCan anyone please help how to substitute antlr package classes in our code?\r\n\r\n    import org.apache.olingo.server.core.uri.antlr.UriLexer;\r\n    import org.apache.olingo.server.core.uri.antlr.UriParserParser;\r\n    import org.apache.olingo.server.core.uri.antlr.UriParserParser.AllEOFContext;\r\n    import org.apache.olingo.server.core.uri.antlr.UriParserParser.BatchEOFContext;\r\n    import org.apache.olingo.server.core.uri.antlr.UriParserParser.CrossjoinEOFContext;\r\n    import org.apache.olingo.server.core.uri.antlr.UriParserParser.EntityEOFContext;\r\n    import org.apache.olingo.server.core.uri.antlr.UriParserParser.ExpandItemsEOFContext;\r\n    import org.apache.olingo.server.core.uri.antlr.UriParserParser.FilterExpressionEOFContext;\r\n    import org.apache.olingo.server.core.uri.antlr.UriParserParser.MetadataEOFContext;\r\n    import org.apache.olingo.server.core.uri.antlr.UriParserParser.OrderByEOFContext;\r\n    import org.apache.olingo.server.core.uri.antlr.UriParserParser.PathSegmentEOFContext;\r\n    import org.apache.olingo.server.core.uri.antlr.UriParserParser.SelectEOFContext;\r\n    \r\n    UriContext context = new UriContext();\r\n    \t\tUriParseTreeVisitor uriParseTreeVisitor = new UriParseTreeVisitor(edm, context);\r\n    \t\t\r\n    \t\t\tfinal RawUri uri = UriDecoder.decodeUri(path, query, fragment, 0); // -&gt;0 segments are before the service url\r\n    \r\n    \t\t\t// first, read the decoded path segments\r\n    \t\t\tfinal String firstSegment = uri.pathSegmentListDecoded.isEmpty() ? &quot;&quot; : uri.pathSegmentListDecoded.get(0);\r\n    \r\n    \t\t\tif (firstSegment.isEmpty()) {\r\n    \t\t\t\tensureLastSegment(firstSegment, 0, uri.pathSegmentListDecoded.size());\r\n    \t\t\t\tcontext.contextUriInfo = new UriInfoImpl().setKind(UriInfoKind.service);\r\n    \t\t\t\t\r\n    \t\t\t} else if (firstSegment.startsWith(&quot;$batch&quot;)) {\r\n    \t\t\t\tensureLastSegment(firstSegment, 1, uri.pathSegmentListDecoded.size());\r\n    \t\t\t\tBatchEOFContext ctxBatchEOF = (BatchEOFContext) parseRule(uri.pathSegmentListDecoded.get(0), ParserEntryRules.Batch);\r\n    \t\t\t\turiParseTreeVisitor.visitBatchEOF(ctxBatchEOF);\r\n    \r\n    \t\t\t} else if (firstSegment.startsWith(&quot;$metadata&quot;)) {\r\n    \t\t\t\tensureLastSegment(firstSegment, 1, uri.pathSegmentListDecoded.size());\r\n    \t\t\t\tMetadataEOFContext ctxMetadataEOF = (MetadataEOFContext) parseRule(uri.pathSegmentListDecoded.get(0),ParserEntryRules.Metadata);\r\n    \t\t\t\turiParseTreeVisitor.visitMetadataEOF(ctxMetadataEOF);\r\n    \t\t\t\tcontext.contextUriInfo.setFragment(uri.fragment);\r\n    \r\n    \t\t\t} else if (firstSegment.startsWith(&quot;$entity&quot;)) {\r\n    \t\t\t\tcontext.contextUriInfo = new UriInfoImpl().setKind(UriInfoKind.entityId);\r\n    \t\t\t\tif (uri.pathSegmentListDecoded.size() &gt; 1) {\r\n    \t\t\t\t\tfinal String typeCastSegment = uri.pathSegmentListDecoded.get(1);\r\n    \t\t\t\t\tensureLastSegment(typeCastSegment, 2, uri.pathSegmentListDecoded.size());\r\n    \t\t\t\t\tEntityEOFContext ctxEntityEOF = (EntityEOFContext) parseRule(typeCastSegment, ParserEntryRules.Entity);\r\n    \t\t\t\t\turiParseTreeVisitor.visitEntityEOF(ctxEntityEOF);\r\n    \t\t\t\t}\r\n    \t\t\t\t//Todo need todo the parameters\r\n    \r\n    \t\t\t} else if (firstSegment.startsWith(&quot;$all&quot;)) {\r\n    \t\t\t\tensureLastSegment(firstSegment, 1, uri.pathSegmentListDecoded.size());\r\n    \t\t\t\tAllEOFContext ctxResourcePathEOF = (AllEOFContext) parseRule(uri.pathSegmentListDecoded.get(0), ParserEntryRules.All);\r\n    \t\t\t\turiParseTreeVisitor.visitAllEOF(ctxResourcePathEOF);\r\n    \t\t\t\t//Todo Need todo the parameters\r\n    \t\t\t\t\r\n    \t\t\t}","title":"How to make avail of antlr package of odata-server-core as the latest version of 4.9.0 doesn&#39;t contain it?","body":"<p>We're using odata-server-core-4.0.0 in our code.But,as it has vulnerabilities in maven till the version 4.6.0,we are trying to replace it with the latest version,4.9.0.\nBut,we use antlr(org.apache.olingo.server.core.uri.antlr) package classes such as UriLexer,UriParserParser.AllEOFContext etc.,\nLatest version odata-server-core-4.9.0 doesn't contain antlr package.\nCan anyone please help how to substitute antlr package classes in our code?</p>\n<pre><code>import org.apache.olingo.server.core.uri.antlr.UriLexer;\nimport org.apache.olingo.server.core.uri.antlr.UriParserParser;\nimport org.apache.olingo.server.core.uri.antlr.UriParserParser.AllEOFContext;\nimport org.apache.olingo.server.core.uri.antlr.UriParserParser.BatchEOFContext;\nimport org.apache.olingo.server.core.uri.antlr.UriParserParser.CrossjoinEOFContext;\nimport org.apache.olingo.server.core.uri.antlr.UriParserParser.EntityEOFContext;\nimport org.apache.olingo.server.core.uri.antlr.UriParserParser.ExpandItemsEOFContext;\nimport org.apache.olingo.server.core.uri.antlr.UriParserParser.FilterExpressionEOFContext;\nimport org.apache.olingo.server.core.uri.antlr.UriParserParser.MetadataEOFContext;\nimport org.apache.olingo.server.core.uri.antlr.UriParserParser.OrderByEOFContext;\nimport org.apache.olingo.server.core.uri.antlr.UriParserParser.PathSegmentEOFContext;\nimport org.apache.olingo.server.core.uri.antlr.UriParserParser.SelectEOFContext;\n\nUriContext context = new UriContext();\n        UriParseTreeVisitor uriParseTreeVisitor = new UriParseTreeVisitor(edm, context);\n        \n            final RawUri uri = UriDecoder.decodeUri(path, query, fragment, 0); // -&gt;0 segments are before the service url\n\n            // first, read the decoded path segments\n            final String firstSegment = uri.pathSegmentListDecoded.isEmpty() ? &quot;&quot; : uri.pathSegmentListDecoded.get(0);\n\n            if (firstSegment.isEmpty()) {\n                ensureLastSegment(firstSegment, 0, uri.pathSegmentListDecoded.size());\n                context.contextUriInfo = new UriInfoImpl().setKind(UriInfoKind.service);\n                \n            } else if (firstSegment.startsWith(&quot;$batch&quot;)) {\n                ensureLastSegment(firstSegment, 1, uri.pathSegmentListDecoded.size());\n                BatchEOFContext ctxBatchEOF = (BatchEOFContext) parseRule(uri.pathSegmentListDecoded.get(0), ParserEntryRules.Batch);\n                uriParseTreeVisitor.visitBatchEOF(ctxBatchEOF);\n\n            } else if (firstSegment.startsWith(&quot;$metadata&quot;)) {\n                ensureLastSegment(firstSegment, 1, uri.pathSegmentListDecoded.size());\n                MetadataEOFContext ctxMetadataEOF = (MetadataEOFContext) parseRule(uri.pathSegmentListDecoded.get(0),ParserEntryRules.Metadata);\n                uriParseTreeVisitor.visitMetadataEOF(ctxMetadataEOF);\n                context.contextUriInfo.setFragment(uri.fragment);\n\n            } else if (firstSegment.startsWith(&quot;$entity&quot;)) {\n                context.contextUriInfo = new UriInfoImpl().setKind(UriInfoKind.entityId);\n                if (uri.pathSegmentListDecoded.size() &gt; 1) {\n                    final String typeCastSegment = uri.pathSegmentListDecoded.get(1);\n                    ensureLastSegment(typeCastSegment, 2, uri.pathSegmentListDecoded.size());\n                    EntityEOFContext ctxEntityEOF = (EntityEOFContext) parseRule(typeCastSegment, ParserEntryRules.Entity);\n                    uriParseTreeVisitor.visitEntityEOF(ctxEntityEOF);\n                }\n                //Todo need todo the parameters\n\n            } else if (firstSegment.startsWith(&quot;$all&quot;)) {\n                ensureLastSegment(firstSegment, 1, uri.pathSegmentListDecoded.size());\n                AllEOFContext ctxResourcePathEOF = (AllEOFContext) parseRule(uri.pathSegmentListDecoded.get(0), ParserEntryRules.All);\n                uriParseTreeVisitor.visitAllEOF(ctxResourcePathEOF);\n                //Todo Need todo the parameters\n                \n            }\n</code></pre>\n"},{"tags":["java","spring-mvc"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1671239849,"post_id":74827231,"comment_id":132063664,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":27274430,"reputation":11,"user_id":20795284,"display_name":"Karthik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671208089,"creation_date":1671208089,"question_id":74827231,"body_markdown":"Need to remove the Admin login page from the existing Spring mvc project without code scan issues\r\n\r\nTried with jsp changes and controller method changes but it will create scan issues","title":"How to dismandle the existing admin login page from the Spring mvc project","body":"<p>Need to remove the Admin login page from the existing Spring mvc project without code scan issues</p>\n<p>Tried with jsp changes and controller method changes but it will create scan issues</p>\n"},{"tags":["java","json","serialization","jackson"],"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1484609223,"post_id":41686629,"comment_id":70570461,"body_markdown":"Why don&#39;t you just initialize a `Bar` object where `bar` is declared?","body":"Why don&#39;t you just initialize a <code>Bar</code> object where <code>bar</code> is declared?"},{"owner":{"account_id":4057995,"reputation":55,"user_id":3335313,"display_name":"user3335313"},"score":0,"creation_date":1484609530,"post_id":41686629,"comment_id":70570568,"body_markdown":"Sorry I forgot to clarify this, I do not own Foo and Bar and cannot change them.","body":"Sorry I forgot to clarify this, I do not own Foo and Bar and cannot change them."}],"answers":[{"tags":[],"owner":{"display_name":"user7207455"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1484611011,"creation_date":1484611011,"answer_id":41686934,"question_id":41686629,"body_markdown":"No. I don&#39;t see any way doing this. If you don&#39;t initialize your `Bar`, it&#39;ll be `null` inside the `JSON`. \r\n\r\nSince you can&#39;t alter these classes, you can just check if the `Bar` inside the `Foo` is `null` and if it is, just initialize it and you&#39;ll get what you want. \r\n\r\n    Bar bar = foo.getBar();\r\n    if (bar == null) {\r\n        foo.setBar(new Bar());\r\n    }\r\n    String json = objectMapper.writeValueAsString(foo);\r\n\r\nThe `json` will be the following: \r\n\r\n    {\r\n        &quot;bar&quot; : {\r\n            &quot;fizz&quot; : null, \r\n            &quot;bang&quot; : null \r\n        } \r\n    }\r\n\r\nHope this helps.","title":"Jackson Mapper serialize empty object instead of null","body":"<p>No. I don't see any way doing this. If you don't initialize your <code>Bar</code>, it'll be <code>null</code> inside the <code>JSON</code>. </p>\n\n<p>Since you can't alter these classes, you can just check if the <code>Bar</code> inside the <code>Foo</code> is <code>null</code> and if it is, just initialize it and you'll get what you want. </p>\n\n<pre><code>Bar bar = foo.getBar();\nif (bar == null) {\n    foo.setBar(new Bar());\n}\nString json = objectMapper.writeValueAsString(foo);\n</code></pre>\n\n<p>The <code>json</code> will be the following: </p>\n\n<pre><code>{\n    \"bar\" : {\n        \"fizz\" : null, \n        \"bang\" : null \n    } \n}\n</code></pre>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":271512,"reputation":915,"user_id":562080,"accept_rate":67,"display_name":"eshayne"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1484611739,"creation_date":1484611739,"answer_id":41687046,"question_id":41686629,"body_markdown":"You could create a custom serializer for serializing Foo objects. Then in your custom FooSerializer implementation, you could check for a null bar value and serialize it as a default Bar instance. See https://spin.atomicobject.com/2016/07/01/custom-serializer-jackson/ or http://www.baeldung.com/jackson-custom-serialization for some examples of how to create custom serializers.","title":"Jackson Mapper serialize empty object instead of null","body":"<p>You could create a custom serializer for serializing Foo objects. Then in your custom FooSerializer implementation, you could check for a null bar value and serialize it as a default Bar instance. See <a href=\"https://spin.atomicobject.com/2016/07/01/custom-serializer-jackson/\" rel=\"nofollow noreferrer\">https://spin.atomicobject.com/2016/07/01/custom-serializer-jackson/</a> or <a href=\"http://www.baeldung.com/jackson-custom-serialization\" rel=\"nofollow noreferrer\">http://www.baeldung.com/jackson-custom-serialization</a> for some examples of how to create custom serializers.</p>\n"},{"tags":[],"owner":{"account_id":296506,"reputation":2368,"user_id":1079659,"display_name":"Cmyker"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1551448060,"creation_date":1551436077,"answer_id":54942666,"question_id":41686629,"body_markdown":"I was also required to produce such a structure for legacy client compatibility, here is my solution (depends on Spring Boot since uses @JsonComponent annotation)\r\n\r\nCreate &quot;special object&quot; that will be treated as empty\r\n\r\n    public class EmptyObject {\r\n    }\r\n\r\nCreate property in your model\r\n\r\n    @JsonProperty(&quot;data&quot;)\r\n    private EmptyObject data = new EmptyObject();\r\n    \r\n    public EmptyObject getData() {\r\n        return data;\r\n    }\r\n\r\nCreate serializer that will process empty object above\r\n\r\n    import com.fasterxml.jackson.core.JsonGenerator;\r\n    import com.fasterxml.jackson.databind.SerializerProvider;\r\n    import com.fasterxml.jackson.databind.ser.std.StdSerializer;\r\n    import com.sevensenders.datahub.api.service.response.model.EmptyObject;\r\n    import org.springframework.boot.jackson.JsonComponent;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    @JsonComponent\r\n    public class EmptyObjectSerializer extends StdSerializer&lt;EmptyObject&gt; {\r\n    \r\n        public EmptyObjectSerializer() {\r\n            this(null);\r\n        }\r\n    \r\n        public EmptyObjectSerializer(Class&lt;EmptyObject&gt; t) {\r\n            super(t);\r\n        }\r\n    \r\n        @Override\r\n        public void serialize(EmptyObject value, JsonGenerator gen, SerializerProvider provider) throws IOException {\r\n            // to maintain AF compatible format it is required to write {} instead of null\r\n            gen.writeStartObject();\r\n            gen.writeEndObject();\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n    {\r\n      ...\r\n      &quot;data&quot;: {}\r\n    }","title":"Jackson Mapper serialize empty object instead of null","body":"<p>I was also required to produce such a structure for legacy client compatibility, here is my solution (depends on Spring Boot since uses @JsonComponent annotation)</p>\n\n<p>Create \"special object\" that will be treated as empty</p>\n\n<pre><code>public class EmptyObject {\n}\n</code></pre>\n\n<p>Create property in your model</p>\n\n<pre><code>@JsonProperty(\"data\")\nprivate EmptyObject data = new EmptyObject();\n\npublic EmptyObject getData() {\n    return data;\n}\n</code></pre>\n\n<p>Create serializer that will process empty object above</p>\n\n<pre><code>import com.fasterxml.jackson.core.JsonGenerator;\nimport com.fasterxml.jackson.databind.SerializerProvider;\nimport com.fasterxml.jackson.databind.ser.std.StdSerializer;\nimport com.sevensenders.datahub.api.service.response.model.EmptyObject;\nimport org.springframework.boot.jackson.JsonComponent;\n\nimport java.io.IOException;\n\n@JsonComponent\npublic class EmptyObjectSerializer extends StdSerializer&lt;EmptyObject&gt; {\n\n    public EmptyObjectSerializer() {\n        this(null);\n    }\n\n    public EmptyObjectSerializer(Class&lt;EmptyObject&gt; t) {\n        super(t);\n    }\n\n    @Override\n    public void serialize(EmptyObject value, JsonGenerator gen, SerializerProvider provider) throws IOException {\n        // to maintain AF compatible format it is required to write {} instead of null\n        gen.writeStartObject();\n        gen.writeEndObject();\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>{\n  ...\n  \"data\": {}\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2394344,"reputation":707,"user_id":2093490,"accept_rate":89,"display_name":"soni"},"score":1,"creation_date":1687776979,"post_id":71428267,"comment_id":134979191,"body_markdown":"Just the problem I was having! Thanks!","body":"Just the problem I was having! Thanks!"}],"tags":[],"owner":{"account_id":2052982,"reputation":32,"user_id":11442980,"display_name":"SKO"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646932840,"creation_date":1646932840,"answer_id":71428267,"question_id":41686629,"body_markdown":"It&#39;s a bit unrelated to this, but if you define members as private on data class in Kotlin, then, Jackson serializer will produce empty json such as `{}`.","title":"Jackson Mapper serialize empty object instead of null","body":"<p>It's a bit unrelated to this, but if you define members as private on data class in Kotlin, then, Jackson serializer will produce empty json such as <code>{}</code>.</p>\n"},{"tags":[],"owner":{"account_id":18204838,"reputation":181,"user_id":13248380,"display_name":"Ferdynand Kiepski"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671207518,"creation_date":1671207518,"answer_id":74827122,"question_id":41686629,"body_markdown":"If you don&#39;t want to write your own serializer you can use this approach of declaring type of field as *ObjectNode*:\r\n\r\n```\r\nprivate ObjectNode data;\r\n```\r\n\r\nYou can set/initialize it like this:\r\n```\r\ndata = new ObjectNode(JsonNodeFactory.instance)\r\n```","title":"Jackson Mapper serialize empty object instead of null","body":"<p>If you don't want to write your own serializer you can use this approach of declaring type of field as <em>ObjectNode</em>:</p>\n<pre><code>private ObjectNode data;\n</code></pre>\n<p>You can set/initialize it like this:</p>\n<pre><code>data = new ObjectNode(JsonNodeFactory.instance)\n</code></pre>\n"}],"owner":{"account_id":4057995,"reputation":55,"user_id":3335313,"display_name":"user3335313"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15233,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":5,"score":4,"last_activity_date":1671207518,"creation_date":1484609030,"question_id":41686629,"body_markdown":"Say I have classes Foo\r\n\r\n    public class Foo {\r\n        private Bar bar;\r\n    }\r\n\r\nand Bar\r\n\r\n    public class Bar {\r\n        private String fizz;\r\n        private String bang;\r\n    }\r\n\r\n*EDIT*: For clarification I do not own `Foo` and `Bar` and cannot alter these classes.\r\n\r\nIf I want to serialize an empty object of type Foo, it&#39;s member, which is of type Bar, will be returned as null.\r\n\r\n    String json = objectMapper.writeValueAsString(new Foo()); // &quot;{&quot;bar&quot; : null}&quot;\r\n\r\nIs there any way I can get the object mapper to serialize an empty Bar object without having to instantiate a new instance of Bar and then adding it to a new instance of Foo?\r\n\r\n    String json = objectMapper.writeValueAsString(new Foo()) // &quot;{bar&quot;: {&quot;fizz&quot; : null, &quot;bang&quot; : null } }&quot;","title":"Jackson Mapper serialize empty object instead of null","body":"<p>Say I have classes Foo</p>\n\n<pre><code>public class Foo {\n    private Bar bar;\n}\n</code></pre>\n\n<p>and Bar</p>\n\n<pre><code>public class Bar {\n    private String fizz;\n    private String bang;\n}\n</code></pre>\n\n<p><em>EDIT</em>: For clarification I do not own <code>Foo</code> and <code>Bar</code> and cannot alter these classes.</p>\n\n<p>If I want to serialize an empty object of type Foo, it's member, which is of type Bar, will be returned as null.</p>\n\n<pre><code>String json = objectMapper.writeValueAsString(new Foo()); // \"{\"bar\" : null}\"\n</code></pre>\n\n<p>Is there any way I can get the object mapper to serialize an empty Bar object without having to instantiate a new instance of Bar and then adding it to a new instance of Foo?</p>\n\n<pre><code>String json = objectMapper.writeValueAsString(new Foo()) // \"{bar\": {\"fizz\" : null, \"bang\" : null } }\"\n</code></pre>\n"},{"tags":["java","multithreading","synchronization","synchronized"],"answers":[{"tags":[],"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1313026939,"creation_date":1313026411,"answer_id":7019889,"question_id":7019745,"body_markdown":"Someone more experienced with multithreading should feel free to step in, but I believe this would remove the versatility of synchonized blocks.  The point of using them is to synchronize on a particular object which functions as the monitored resource/semaphore. wait/notify methods are then used to control execution flow *within* the synchronized block.\r\n\r\nNote that synchronized methods are shorthand for synchronizing on `this` for the duration of the method (or the class for static methods). Synchronizing wait/notify methods themselves would remove the point of their use as stop/go signals between threads.","title":"why wait/notify/notifyAll methods are not synchronized in java ?","body":"<p>Someone more experienced with multithreading should feel free to step in, but I believe this would remove the versatility of synchonized blocks.  The point of using them is to synchronize on a particular object which functions as the monitored resource/semaphore. wait/notify methods are then used to control execution flow <em>within</em> the synchronized block.</p>\n\n<p>Note that synchronized methods are shorthand for synchronizing on <code>this</code> for the duration of the method (or the class for static methods). Synchronizing wait/notify methods themselves would remove the point of their use as stop/go signals between threads.</p>\n"},{"comments":[{"owner":{"account_id":43861,"reputation":59786,"user_id":128397,"accept_rate":82,"display_name":"Daniel Pryden"},"score":0,"creation_date":1313027711,"post_id":7019946,"comment_id":8384366,"body_markdown":"+1 Good answer.  FYI: I fixed the code formatting in the javadoc quote.","body":"+1 Good answer.  FYI: I fixed the code formatting in the javadoc quote."},{"owner":{"account_id":76511,"reputation":44893,"user_id":218978,"accept_rate":100,"display_name":"irreputable"},"score":1,"creation_date":1313070929,"post_id":7019946,"comment_id":8394300,"body_markdown":"incorrect. there is no problem with `synchronized(obj){ obj.wait(); }`","body":"incorrect. there is no problem with <code>synchronized(obj){ obj.wait(); }</code>"},{"owner":{"account_id":301489,"reputation":54254,"user_id":609251,"accept_rate":82,"display_name":"aroth"},"score":0,"creation_date":1313099426,"post_id":7019946,"comment_id":8403683,"body_markdown":"@irreputable  - Huh?  I never said there was any sort of problem with `synchronized(obj){ obj.wait(); }`.  I&#39;m suggesting ideas as to why the `synchronized(obj)` bit is required.  Nothing more.","body":"@irreputable  - Huh?  I never said there was any sort of problem with <code>synchronized(obj){ obj.wait(); }</code>.  I&#39;m suggesting ideas as to why the <code>synchronized(obj)</code> bit is required.  Nothing more."}],"tags":[],"owner":{"account_id":301489,"reputation":54254,"user_id":609251,"accept_rate":82,"display_name":"aroth"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1313027690,"creation_date":1313027090,"answer_id":7019946,"question_id":7019745,"body_markdown":"Good question.  The comments in the [JDK7 Object implementation][1] shed some light on this, I think (emphasis mine):\r\n\r\n&gt; This method causes the current thread (call it `T`) to place\r\n&gt; itself in the wait set for this object **and then to relinquish any\r\n&gt; and all synchronization claims on this object**.\r\n&gt;\r\n&gt;...\r\n&gt;\r\n&gt; The thread `T` is then removed from the wait set for this\r\n&gt; usual manner with other threads for the right to synchronize on the\r\n&gt; object; once it has gained control of the object, **all its\r\n&gt; synchronization claims on the object are restored to the status quo\r\n&gt; ante - that is, to the situation as of the time that the `wait`\r\n&gt; method was invoked**. **Thread `T` then returns from the\r\n&gt; invocation of the `wait` method**. Thus, on return from the\r\n&gt; `wait` method, the synchronization state of the object and of thread\r\n&gt; `T` is exactly as it was when the `wait` method was\r\n&gt; invoked.\r\n\r\n\r\nSo I think the first point to note is that `wait()` doesn&#39;t return until the caller is done waiting (obviously).  Meaning that if `wait()` itself were synchronized then the caller would continue to hold the lock on the object, and nobody else would be able to `wait()` or `notify()`.\r\n\r\nNow obviously `wait()` is doing something tricky behind the scenes to force the caller to lose its ownership of the lock on the object anyways, but perhaps this trick would not work (or would be significantly more difficult to make work) if `wait()` itself were synchronized.\r\n\r\nThe second point is that if multiple threads are waiting on an object, when `notify()` is used to wake exactly one of them the standard contention method is used to allow only one thread to synchronize on the object, and that `wait()` is supposed to restore the caller&#39;s synchronization claims to the exact state they were in prior to the call to `wait()`.  It seems possible to me that requiring the caller to hold the lock prior to calling `wait()` simplifies this, as it removes the need to check to see if the caller should or should not continue holding the lock after `wait()` returns.  The contract stipulates that the caller must continue holding the lock, and thus some of the implementation is simplified.\r\n\r\nOr perhaps it was simply done to avoid the appearance of the logical paradox of &quot;if `wait()` and `notify()` are both synchronized, and `wait()` doesn&#39;t return until `notify()` is called, how can either ever be used successfully?&quot;.  \r\n\r\nThose are my thoughts, anyways.\r\n\r\n  [1]: http://www.docjar.com/html/api/java/lang/Object.java.html","title":"why wait/notify/notifyAll methods are not synchronized in java ?","body":"<p>Good question.  The comments in the <a href=\"http://www.docjar.com/html/api/java/lang/Object.java.html\" rel=\"noreferrer\">JDK7 Object implementation</a> shed some light on this, I think (emphasis mine):</p>\n\n<blockquote>\n  <p>This method causes the current thread (call it <code>T</code>) to place\n  itself in the wait set for this object <strong>and then to relinquish any\n  and all synchronization claims on this object</strong>.</p>\n  \n  <p>...</p>\n  \n  <p>The thread <code>T</code> is then removed from the wait set for this\n  usual manner with other threads for the right to synchronize on the\n  object; once it has gained control of the object, <strong>all its\n  synchronization claims on the object are restored to the status quo\n  ante - that is, to the situation as of the time that the <code>wait</code>\n  method was invoked</strong>. <strong>Thread <code>T</code> then returns from the\n  invocation of the <code>wait</code> method</strong>. Thus, on return from the\n  <code>wait</code> method, the synchronization state of the object and of thread\n  <code>T</code> is exactly as it was when the <code>wait</code> method was\n  invoked.</p>\n</blockquote>\n\n<p>So I think the first point to note is that <code>wait()</code> doesn't return until the caller is done waiting (obviously).  Meaning that if <code>wait()</code> itself were synchronized then the caller would continue to hold the lock on the object, and nobody else would be able to <code>wait()</code> or <code>notify()</code>.</p>\n\n<p>Now obviously <code>wait()</code> is doing something tricky behind the scenes to force the caller to lose its ownership of the lock on the object anyways, but perhaps this trick would not work (or would be significantly more difficult to make work) if <code>wait()</code> itself were synchronized.</p>\n\n<p>The second point is that if multiple threads are waiting on an object, when <code>notify()</code> is used to wake exactly one of them the standard contention method is used to allow only one thread to synchronize on the object, and that <code>wait()</code> is supposed to restore the caller's synchronization claims to the exact state they were in prior to the call to <code>wait()</code>.  It seems possible to me that requiring the caller to hold the lock prior to calling <code>wait()</code> simplifies this, as it removes the need to check to see if the caller should or should not continue holding the lock after <code>wait()</code> returns.  The contract stipulates that the caller must continue holding the lock, and thus some of the implementation is simplified.</p>\n\n<p>Or perhaps it was simply done to avoid the appearance of the logical paradox of \"if <code>wait()</code> and <code>notify()</code> are both synchronized, and <code>wait()</code> doesn't return until <code>notify()</code> is called, how can either ever be used successfully?\".  </p>\n\n<p>Those are my thoughts, anyways.</p>\n"},{"comments":[{"owner":{"account_id":301489,"reputation":54254,"user_id":609251,"accept_rate":82,"display_name":"aroth"},"score":0,"creation_date":1313028087,"post_id":7019970,"comment_id":8384418,"body_markdown":"Not sure I agree that you&#39;d always need synchronized blocks anyways.  Consider an application with a &quot;Download&quot; thread and a &quot;Print&quot; thread, and a single lock object.  The &quot;Download&quot; thread just downloads data from a url, and calls `notify()` on the lock when it is done, and the &quot;Print&quot; thread just calls `wait()` on the lock object when it starts, and prints &quot;Download finished&quot; once the `wait()` returns.  None of this strictly requires the addition of synchronized blocks in either thread.","body":"Not sure I agree that you&#39;d always need synchronized blocks anyways.  Consider an application with a &quot;Download&quot; thread and a &quot;Print&quot; thread, and a single lock object.  The &quot;Download&quot; thread just downloads data from a url, and calls <code>notify()</code> on the lock when it is done, and the &quot;Print&quot; thread just calls <code>wait()</code> on the lock object when it starts, and prints &quot;Download finished&quot; once the <code>wait()</code> returns.  None of this strictly requires the addition of synchronized blocks in either thread."},{"owner":{"account_id":399566,"reputation":5316,"user_id":765009,"accept_rate":60,"display_name":"toto2"},"score":3,"creation_date":1313028272,"post_id":7019970,"comment_id":8384436,"body_markdown":"@Nathan Yes, most of the time your `wait` is inside some condition checking loop: `while(conditionVar) {... o.wait() ...}` where the `conditionVar` is set by some other thread, which also fires the `notify`.  You get in serious trouble if the second thread does its business when the original thread has checked the conditionVar, but has not yet started waiting.  This does not happen if the whole `while` loop is in the synchronized block (no race condition).","body":"@Nathan Yes, most of the time your <code>wait</code> is inside some condition checking loop: <code>while(conditionVar) {... o.wait() ...}</code> where the <code>conditionVar</code> is set by some other thread, which also fires the <code>notify</code>.  You get in serious trouble if the second thread does its business when the original thread has checked the conditionVar, but has not yet started waiting.  This does not happen if the whole <code>while</code> loop is in the synchronized block (no race condition)."},{"owner":{"account_id":76511,"reputation":44893,"user_id":218978,"accept_rate":100,"display_name":"irreputable"},"score":6,"creation_date":1313071014,"post_id":7019970,"comment_id":8394332,"body_markdown":"@aroth due to spurious wake up, you have to re-check condition after `wait()`. since the condition is touched concurrently, that means `wait()` must be inside a bigger `synchronized` block.","body":"@aroth due to spurious wake up, you have to re-check condition after <code>wait()</code>. since the condition is touched concurrently, that means <code>wait()</code> must be inside a bigger <code>synchronized</code> block."},{"owner":{"account_id":301489,"reputation":54254,"user_id":609251,"accept_rate":82,"display_name":"aroth"},"score":0,"creation_date":1313099368,"post_id":7019970,"comment_id":8403669,"body_markdown":"@irreputable - You don&#39;t have to, you&#39;re simply encouraged to do so.  The documentation even mentions that although spurious wake-up may technically occur, it really should not actually happen in a typical application.","body":"@irreputable - You don&#39;t have to, you&#39;re simply encouraged to do so.  The documentation even mentions that although spurious wake-up may technically occur, it really should not actually happen in a typical application."},{"owner":{"account_id":76511,"reputation":44893,"user_id":218978,"accept_rate":100,"display_name":"irreputable"},"score":1,"creation_date":1313101836,"post_id":7019970,"comment_id":8404152,"body_markdown":"@aroth &quot;While this will rarely occur in practice, applications must guard against it&quot;. Another form of fruitless wakeup is by `notifyAll` when all waiters are woken, but only the first one can do anything; others must go back to wait. Anyway, because `wait` released lock, it&#39;s quite dangerous not to double check condition when `wait` returns.","body":"@aroth &quot;While this will rarely occur in practice, applications must guard against it&quot;. Another form of fruitless wakeup is by <code>notifyAll</code> when all waiters are woken, but only the first one can do anything; others must go back to wait. Anyway, because <code>wait</code> released lock, it&#39;s quite dangerous not to double check condition when <code>wait</code> returns."},{"owner":{"account_id":76511,"reputation":44893,"user_id":218978,"accept_rate":100,"display_name":"irreputable"},"score":2,"creation_date":1313102026,"post_id":7019970,"comment_id":8404195,"body_markdown":"@aroth a more serious problem is checking condition before entering wait. it must be done, and must be done atomically ( check and wait under the same lock). otherwise you can miss notify(), and the waiter never wakes up. I don&#39;t believe there is a use case where a &quot;naked wait&quot; can be used correctly.","body":"@aroth a more serious problem is checking condition before entering wait. it must be done, and must be done atomically ( check and wait under the same lock). otherwise you can miss notify(), and the waiter never wakes up. I don&#39;t believe there is a use case where a &quot;naked wait&quot; can be used correctly."}],"tags":[],"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"comment_count":6,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1671207389,"creation_date":1313027434,"answer_id":7019970,"question_id":7019745,"body_markdown":"For notify and notifyAll, the problem with your idea is that when you notify you also have other stuff you&#39;re typically doing in the same synchronized block. So making the notify method synchronized wouldn&#39;t buy you anything, you&#39;d still need the block. Likewise wait has to be in a synchronized block or method in order to be useful, such as being inside a spinlock where the test has to be synchronized anyway. So the granularity of locking is all wrong for what you suggest.\r\n\r\nHere&#39;s an example, this is about the simplest queue implementation you can have in Java:\r\n\r\n    public class MyQueue&lt;T&gt; {\r\n    \r\n        private List&lt;T&gt; list = new ArrayList&lt;T&gt;();\r\n    \r\n        public T take() throws InterruptedException {\r\n            synchronized(list) {\r\n                while (list.size() == 0) {\r\n                    list.wait();\r\n                }\r\n                return list.remove(0);\r\n            }\r\n        }\r\n    \r\n        public void put(T object) {\r\n            synchronized(list) {\r\n                list.add(object);\r\n                list.notify();\r\n            }\r\n        }\r\n    }\r\n\r\nSo you can have producer threads that add things to the queue and consumer threads that take things out. When a thread goes to get something out of the queue it needs to check within the synchronized block that there&#39;s something in the list, and once it&#39;s been notified it needs to reacquire the lock and make sure there is still something in the list (because some other consumer thread could have stepped in and grabbed it).There&#39;s also the &quot;spurious wake-up&quot; phenomenon: you can&#39;t rely on getting woken up as sufficient evidence that something happened, you need to check that whatever condition you&#39;re waiting for is actually true, and that needs to be done within the synchronized block.\r\n\r\nIn both of these cases, checks surrounding the wait need to be made with the lock held so that when the code takes action based on those checks it knows that those results are currently valid.\r\n\r\n(If your use case does not have state that needs changing as described above, synchronized is probably the wrong tool for the job. Using some other means, such as CountdownLatch, may give you a simpler solution.)\r\n","title":"why wait/notify/notifyAll methods are not synchronized in java ?","body":"<p>For notify and notifyAll, the problem with your idea is that when you notify you also have other stuff you're typically doing in the same synchronized block. So making the notify method synchronized wouldn't buy you anything, you'd still need the block. Likewise wait has to be in a synchronized block or method in order to be useful, such as being inside a spinlock where the test has to be synchronized anyway. So the granularity of locking is all wrong for what you suggest.</p>\n<p>Here's an example, this is about the simplest queue implementation you can have in Java:</p>\n<pre><code>public class MyQueue&lt;T&gt; {\n\n    private List&lt;T&gt; list = new ArrayList&lt;T&gt;();\n\n    public T take() throws InterruptedException {\n        synchronized(list) {\n            while (list.size() == 0) {\n                list.wait();\n            }\n            return list.remove(0);\n        }\n    }\n\n    public void put(T object) {\n        synchronized(list) {\n            list.add(object);\n            list.notify();\n        }\n    }\n}\n</code></pre>\n<p>So you can have producer threads that add things to the queue and consumer threads that take things out. When a thread goes to get something out of the queue it needs to check within the synchronized block that there's something in the list, and once it's been notified it needs to reacquire the lock and make sure there is still something in the list (because some other consumer thread could have stepped in and grabbed it).There's also the &quot;spurious wake-up&quot; phenomenon: you can't rely on getting woken up as sufficient evidence that something happened, you need to check that whatever condition you're waiting for is actually true, and that needs to be done within the synchronized block.</p>\n<p>In both of these cases, checks surrounding the wait need to be made with the lock held so that when the code takes action based on those checks it knows that those results are currently valid.</p>\n<p>(If your use case does not have state that needs changing as described above, synchronized is probably the wrong tool for the job. Using some other means, such as CountdownLatch, may give you a simpler solution.)</p>\n"},{"comments":[{"owner":{"account_id":2785,"reputation":76174,"user_id":3916,"accept_rate":100,"display_name":"Vineet Reynolds"},"score":0,"creation_date":1313029617,"post_id":7019976,"comment_id":8384595,"body_markdown":"The naked notify warning is quite valid - it implies that one ought to be using the plain old mutual exclusion model.","body":"The naked notify warning is quite valid - it implies that one ought to be using the plain old mutual exclusion model."}],"tags":[],"owner":{"account_id":43861,"reputation":59786,"user_id":128397,"accept_rate":82,"display_name":"Daniel Pryden"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1313027589,"creation_date":1313027589,"answer_id":7019976,"question_id":7019745,"body_markdown":"My guess would be that the reason the `synchronized` block is required is that the use of `wait()` or `notify()` as the only action in a `synchronized` block is almost always a bug anyway.\r\n\r\n[Findbugs][1] even has a warning for this, which it calls a &quot;[naked notify][2]&quot;.\r\n\r\n\r\n  [1]: http://findbugs.sourceforge.net/index.html\r\n  [2]: http://findbugs.sourceforge.net/bugDescriptions.html#NN_NAKED_NOTIFY","title":"why wait/notify/notifyAll methods are not synchronized in java ?","body":"<p>My guess would be that the reason the <code>synchronized</code> block is required is that the use of <code>wait()</code> or <code>notify()</code> as the only action in a <code>synchronized</code> block is almost always a bug anyway.</p>\n\n<p><a href=\"http://findbugs.sourceforge.net/index.html\" rel=\"nofollow\">Findbugs</a> even has a warning for this, which it calls a \"<a href=\"http://findbugs.sourceforge.net/bugDescriptions.html#NN_NAKED_NOTIFY\" rel=\"nofollow\">naked notify</a>\".</p>\n"},{"tags":[],"owner":{"account_id":2785,"reputation":76174,"user_id":3916,"accept_rate":100,"display_name":"Vineet Reynolds"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1313030649,"creation_date":1313029367,"answer_id":7020145,"question_id":7019745,"body_markdown":"The wait-notify model of synchronization requires that you acquire the monitors on an object first, before proceeding to perform any work. It is different from the mutual exclusion model that is used by a synchronized block.\r\n\r\nThe wait-notify or mutual cooperation model is typically used in a producer-consumer scenario where one thread produces events that are consumed by another thread. Well-written implementations will strive to avoid the scenarios where a consumer is starved or the producer overruns the consumer with too many events. To avoid this, you would use the wait-notify protocol where\r\n\r\n* the consumer `wait`s for the producer to produce an event.\r\n* the producer produces the event and `notifies` the consumer, and then usually goes to sleep, until it is `notified` by the consumer.\r\n* when the consumer is notified of an event, it wakes up, processes the event and the `notifies` the producer that it has finished processing the event.\r\n\r\nYou could have many producers and consumers in this scenario. Acquiring the monitor through the mutual exclusion model, on `wait`, `notify` or `notifyAll` is bound to destroy this model, since the producer and the consumer do not perform the waiting explicitly. The underlying threads will be present in either the wait set (used by the wait-notify model) or the entry set (used by the mutual exclusion model) of a monitor. Invoking `notify` or `notifyAll` signals thread(s) to be moved from the wait set to the entry set of the monitor (where there may be contention for the monitor, among several threads, and not just the recently notified one).\r\n\r\nNow, when you want to automatically acquire the monitor on `wait`, `notify` and `notifyAll` using the mutual exclusion model, it is usually an indication that you do not need to be using the wait-notify model. This is by inference - you would typically signal other threads, only after doing some work in one thread, i.e. on a change in state. If you are automatically acquiring the monitor and invoking `notify` or `notifyAll`, you are merely moving threads from the wait set to the entry set, without any intermediate state in your program, implying that the transition is unnecessary. Quite obviously, the authors of the JVM were aware of this, and have not declared the methods as synchronized.\r\n\r\nYou can read more about the wait sets and entry sets of monitors in Bill Venner&#39;s book - [Inside the Java Virtual Machine][1].\r\n\r\n\r\n  [1]: http://www.artima.com/insidejvm/ed2/threadsynch.html","title":"why wait/notify/notifyAll methods are not synchronized in java ?","body":"<p>The wait-notify model of synchronization requires that you acquire the monitors on an object first, before proceeding to perform any work. It is different from the mutual exclusion model that is used by a synchronized block.</p>\n\n<p>The wait-notify or mutual cooperation model is typically used in a producer-consumer scenario where one thread produces events that are consumed by another thread. Well-written implementations will strive to avoid the scenarios where a consumer is starved or the producer overruns the consumer with too many events. To avoid this, you would use the wait-notify protocol where</p>\n\n<ul>\n<li>the consumer <code>wait</code>s for the producer to produce an event.</li>\n<li>the producer produces the event and <code>notifies</code> the consumer, and then usually goes to sleep, until it is <code>notified</code> by the consumer.</li>\n<li>when the consumer is notified of an event, it wakes up, processes the event and the <code>notifies</code> the producer that it has finished processing the event.</li>\n</ul>\n\n<p>You could have many producers and consumers in this scenario. Acquiring the monitor through the mutual exclusion model, on <code>wait</code>, <code>notify</code> or <code>notifyAll</code> is bound to destroy this model, since the producer and the consumer do not perform the waiting explicitly. The underlying threads will be present in either the wait set (used by the wait-notify model) or the entry set (used by the mutual exclusion model) of a monitor. Invoking <code>notify</code> or <code>notifyAll</code> signals thread(s) to be moved from the wait set to the entry set of the monitor (where there may be contention for the monitor, among several threads, and not just the recently notified one).</p>\n\n<p>Now, when you want to automatically acquire the monitor on <code>wait</code>, <code>notify</code> and <code>notifyAll</code> using the mutual exclusion model, it is usually an indication that you do not need to be using the wait-notify model. This is by inference - you would typically signal other threads, only after doing some work in one thread, i.e. on a change in state. If you are automatically acquiring the monitor and invoking <code>notify</code> or <code>notifyAll</code>, you are merely moving threads from the wait set to the entry set, without any intermediate state in your program, implying that the transition is unnecessary. Quite obviously, the authors of the JVM were aware of this, and have not declared the methods as synchronized.</p>\n\n<p>You can read more about the wait sets and entry sets of monitors in Bill Venner's book - <a href=\"http://www.artima.com/insidejvm/ed2/threadsynch.html\" rel=\"nofollow\">Inside the Java Virtual Machine</a>.</p>\n"},{"tags":[],"owner":{"account_id":76511,"reputation":44893,"user_id":218978,"accept_rate":100,"display_name":"irreputable"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1313071638,"creation_date":1313071638,"answer_id":7027327,"question_id":7019745,"body_markdown":"Among all the non-buggy codes I&#39;ve read and written, all the them use `wait/notify` in a bigger synchronization block involving read/write of other conditions\r\n\r\n    synchronized(lock)\r\n        update condition\r\n        lock.notify()\r\n\r\n    synchronized(lock)\r\n        while( condition not met)\r\n            lock.wait()\r\n\r\nIf `wait/notify` are themselves `synchronized`, no harm is done to all the correct codes (may a small performance penalty); it won&#39;t do any good either to all the correct codes.\r\n\r\nHowever, it would have permitted and encouraged a lot more incorrect codes. ","title":"why wait/notify/notifyAll methods are not synchronized in java ?","body":"<p>Among all the non-buggy codes I've read and written, all the them use <code>wait/notify</code> in a bigger synchronization block involving read/write of other conditions</p>\n\n<pre><code>synchronized(lock)\n    update condition\n    lock.notify()\n\nsynchronized(lock)\n    while( condition not met)\n        lock.wait()\n</code></pre>\n\n<p>If <code>wait/notify</code> are themselves <code>synchronized</code>, no harm is done to all the correct codes (may a small performance penalty); it won't do any good either to all the correct codes.</p>\n\n<p>However, it would have permitted and encouraged a lot more incorrect codes. </p>\n"},{"tags":[],"owner":{"account_id":2171891,"reputation":506,"user_id":1923650,"display_name":"BobJiang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524281328,"creation_date":1524281328,"answer_id":49952095,"question_id":7019745,"body_markdown":"I think `wait` without `synchronized` can work good in some scenario. But it can&#39;t be used for complicated scenario without **race condition**, &quot;spurious wakeups&quot; might occur.\r\n\r\nCode works for the queue.\r\n\r\n    // producer\r\n    give(element){\r\n      list.add(element)\r\n      lock.notify()\r\n    }\r\n\r\n    // consumer\r\n    take(){\r\n      obj = null;\r\n      while(obj == null)\r\n        lock.wait()\r\n        obj = list.remove(0) // ignore error indexoutofrange\r\n      return obj\r\n    }\r\n\r\nThis code haven&#39;t explain the state of shared data, it will ignore the last element and may not work in mutil-thread condition. Without race condition, this list in `1`, `2` may have totally different states.\r\n\r\n    // consumer\r\n    take(){\r\n      while(list.isEmpty()) // 1\r\n        lock.wait()\r\n      return list.remove(0) // 2\r\n    }\r\n\r\n\r\nAnd now, makes it a little more complicated and obvious. \r\n\r\nexecution of instruction \r\n\r\n  - `give(element) lock.notify()-&gt;take() lock.wait() resurrected-&gt;take() list.remove(0)-&gt;rollback(element)`\r\n  - `give(element) lock.notify()-&gt;take() lock.wait() resurrected-&gt;rollback(element)-&gt;take() list.remove(0)`\r\n\r\n&quot;spurious wakeups&quot; occur, also makes code unpredicatable.\r\n\r\n    // producer\r\n    give(element){\r\n      list.add(element)\r\n      lock.notify()\r\n    }\r\n    rollback(element){\r\n      list.remove(element)\r\n    }\r\n    \r\n    // business code \r\n    produce(element){\r\n       try{\r\n         give(element)\r\n       }catch(Exception e){\r\n         rollback(element) // or happen in another thread\r\n       }\r\n    }\r\n\r\n    // consumer\r\n    take(){\r\n      obj = null;\r\n      while(obj == null)\r\n        lock.wait()\r\n        obj = list.remove(0) // ignore error indexoutofrange\r\n      return obj\r\n    }\r\n\r\n[Reference of Chris Smith](http://coding.derkeiler.com/Archive/Java/comp.lang.java.programmer/2006-01/msg01130.html)\r\n[Reference of insidevm](https://www.artima.com/insidejvm/ed2/threadsynch.html)\r\n","title":"why wait/notify/notifyAll methods are not synchronized in java ?","body":"<p>I think <code>wait</code> without <code>synchronized</code> can work good in some scenario. But it can't be used for complicated scenario without <strong>race condition</strong>, \"spurious wakeups\" might occur.</p>\n\n<p>Code works for the queue.</p>\n\n<pre><code>// producer\ngive(element){\n  list.add(element)\n  lock.notify()\n}\n\n// consumer\ntake(){\n  obj = null;\n  while(obj == null)\n    lock.wait()\n    obj = list.remove(0) // ignore error indexoutofrange\n  return obj\n}\n</code></pre>\n\n<p>This code haven't explain the state of shared data, it will ignore the last element and may not work in mutil-thread condition. Without race condition, this list in <code>1</code>, <code>2</code> may have totally different states.</p>\n\n<pre><code>// consumer\ntake(){\n  while(list.isEmpty()) // 1\n    lock.wait()\n  return list.remove(0) // 2\n}\n</code></pre>\n\n<p>And now, makes it a little more complicated and obvious. </p>\n\n<p>execution of instruction </p>\n\n<ul>\n<li><code>give(element) lock.notify()-&gt;take() lock.wait() resurrected-&gt;take() list.remove(0)-&gt;rollback(element)</code></li>\n<li><code>give(element) lock.notify()-&gt;take() lock.wait() resurrected-&gt;rollback(element)-&gt;take() list.remove(0)</code></li>\n</ul>\n\n<p>\"spurious wakeups\" occur, also makes code unpredicatable.</p>\n\n<pre><code>// producer\ngive(element){\n  list.add(element)\n  lock.notify()\n}\nrollback(element){\n  list.remove(element)\n}\n\n// business code \nproduce(element){\n   try{\n     give(element)\n   }catch(Exception e){\n     rollback(element) // or happen in another thread\n   }\n}\n\n// consumer\ntake(){\n  obj = null;\n  while(obj == null)\n    lock.wait()\n    obj = list.remove(0) // ignore error indexoutofrange\n  return obj\n}\n</code></pre>\n\n<p><a href=\"http://coding.derkeiler.com/Archive/Java/comp.lang.java.programmer/2006-01/msg01130.html\" rel=\"nofollow noreferrer\">Reference of Chris Smith</a>\n<a href=\"https://www.artima.com/insidejvm/ed2/threadsynch.html\" rel=\"nofollow noreferrer\">Reference of insidevm</a></p>\n"}],"owner":{"account_id":102508,"reputation":2531,"user_id":275131,"accept_rate":62,"display_name":"Ashish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6350,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"answer_count":7,"score":23,"last_activity_date":1671207389,"creation_date":1313024943,"question_id":7019745,"body_markdown":"in Java whenever we need to call wait/notify/notifyAll, we need to have access to object monitor (either through synchronized method or through synchronized block).  So my question is why java didn&#39;t go for synchronized wait/notify methods removing the restriction of calling these methods from synchronized block or methods.  \r\n\r\nIn case these are declared as synchronized, it would have automatically taken the monitor access. \r\n\r\n","title":"why wait/notify/notifyAll methods are not synchronized in java ?","body":"<p>in Java whenever we need to call wait/notify/notifyAll, we need to have access to object monitor (either through synchronized method or through synchronized block).  So my question is why java didn't go for synchronized wait/notify methods removing the restriction of calling these methods from synchronized block or methods.  </p>\n\n<p>In case these are declared as synchronized, it would have automatically taken the monitor access. </p>\n"},{"tags":["java","smtp","jakarta-mail"],"answers":[{"comments":[{"owner":{"account_id":1759428,"reputation":338,"user_id":1606933,"display_name":"Sz&#233;pe Viktor"},"score":0,"creation_date":1439144625,"post_id":4738388,"comment_id":51728736,"body_markdown":"I use it in a WordPress plugin for convenience.\nhttps://github.com/szepeviktor/smtp-uri","body":"I use it in a WordPress plugin for convenience. <a href=\"https://github.com/szepeviktor/smtp-uri\" rel=\"nofollow noreferrer\">github.com/szepeviktor/smtp-uri</a>"},{"owner":{"account_id":1522995,"reputation":2162,"user_id":1422164,"accept_rate":87,"display_name":"Dom Ramirez"},"score":0,"creation_date":1635186205,"post_id":4738388,"comment_id":123223720,"body_markdown":"The Meteor framework tends to use the SMTP string.","body":"The Meteor framework tends to use the SMTP string."}],"tags":[],"owner":{"account_id":20648,"reputation":3330,"user_id":49553,"accept_rate":83,"display_name":"Tim Jansen"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1295457194,"creation_date":1295457194,"answer_id":4738388,"question_id":4738348,"body_markdown":"While there is a [SMTP URL Scheme][1], I have never seen anyone use it. In practice, most applications provide four separate fields for host, port, user name and password. But if you really need to put those four components into a single string, the example you provided is probably the best-known format for something like this.\r\n\r\n\r\n  [1]: https://datatracker.ietf.org/doc/html/draft-earhart-url-smtp-00","title":"Is there an accepted syntax for SMTP server? (and how to parse it)","body":"<p>While there is a <a href=\"https://datatracker.ietf.org/doc/html/draft-earhart-url-smtp-00\" rel=\"nofollow noreferrer\">SMTP URL Scheme</a>, I have never seen anyone use it. In practice, most applications provide four separate fields for host, port, user name and password. But if you really need to put those four components into a single string, the example you provided is probably the best-known format for something like this.</p>\n"},{"comments":[{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":0,"creation_date":1295462452,"post_id":4738474,"comment_id":5238274,"body_markdown":"I&#39;ve used `java.net.URI` :) and works just fine. Look at my own answer.","body":"I&#39;ve used <code>java.net.URI</code> :) and works just fine. Look at my own answer."}],"tags":[],"owner":{"account_id":43373,"reputation":224943,"user_id":126769,"accept_rate":94,"display_name":"nos"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1295457709,"creation_date":1295457709,"answer_id":4738474,"question_id":4738348,"body_markdown":"Using an URI for specifying a network resource, such as an SMTP server is probably the cloeset thing to a &quot;accepted&quot; format you&#39;d see, an SMTP URI, would be something like smtp://user:host@example.com:port or perhaps just smtp://example.com . You&#39;d use a generic URI parsing library to extract the various components.\r\n\r\nThere&#39;s also an _old_ RFC draft for [SMTP URL][1]s\r\n\r\n\r\n  [1]: https://datatracker.ietf.org/doc/html/draft-earhart-url-smtp-00","title":"Is there an accepted syntax for SMTP server? (and how to parse it)","body":"<p>Using an URI for specifying a network resource, such as an SMTP server is probably the cloeset thing to a &quot;accepted&quot; format you'd see, an SMTP URI, would be something like smtp://user:host@example.com:port or perhaps just smtp://example.com . You'd use a generic URI parsing library to extract the various components.</p>\n<p>There's also an <em>old</em> RFC draft for <a href=\"https://datatracker.ietf.org/doc/html/draft-earhart-url-smtp-00\" rel=\"nofollow noreferrer\">SMTP URL</a>s</p>\n"},{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1295460198,"creation_date":1295460198,"answer_id":4738905,"question_id":4738348,"body_markdown":"I think that would work. \r\n\r\nI would like to add as answer, how I&#39;m using java.net.URI class get information from that URI.\r\n\r\n\r\n    class Demo { \r\n      public static void main( String ... args ) throws Exception  { \r\n        System.out.println( inspect( new URI(&quot;smtp://user:port@host:25&quot;)));\r\n      }\r\n      // invoke all the getXyz methods on object and construct \r\n      // a string with the result. \r\n      private static String inspect( Object o ) throws Exception  { \r\n        StringBuilder builder = new StringBuilder();\r\n        for( Method m : o.getClass().getMethods() ) { \r\n          String name = m.getName();\r\n          if( name.startsWith(&quot;get&quot;)) { \r\n            builder.append( name )\r\n            .append(&quot; = &quot; )\r\n            .append( m.invoke( o ) )\r\n            .append( &quot;\\n&quot; );\r\n          }\r\n        }\r\n        return builder.toString();\r\n      }\r\n    }\r\n\r\nOutput \r\n\r\n    getAuthority = user:port@host:25\r\n    getFragment = null\r\n    getPath =\r\n    getQuery = null\r\n    getScheme = smtp\r\n    getHost = host\r\n    getPort = 25\r\n    getUserInfo = user:port\r\n    getRawAuthority = user:port@host:25\r\n    getRawFragment = null\r\n    getRawPath =\r\n    getRawQuery = null\r\n    getRawSchemeSpecificPart = //user:port@host:25\r\n    getRawUserInfo = user:port\r\n    getSchemeSpecificPart = //user:port@host:25\r\n    getClass = class java.net.URI\r\n\r\n","title":"Is there an accepted syntax for SMTP server? (and how to parse it)","body":"<p>I think that would work. </p>\n\n<p>I would like to add as answer, how I'm using java.net.URI class get information from that URI.</p>\n\n<pre><code>class Demo { \n  public static void main( String ... args ) throws Exception  { \n    System.out.println( inspect( new URI(\"smtp://user:port@host:25\")));\n  }\n  // invoke all the getXyz methods on object and construct \n  // a string with the result. \n  private static String inspect( Object o ) throws Exception  { \n    StringBuilder builder = new StringBuilder();\n    for( Method m : o.getClass().getMethods() ) { \n      String name = m.getName();\n      if( name.startsWith(\"get\")) { \n        builder.append( name )\n        .append(\" = \" )\n        .append( m.invoke( o ) )\n        .append( \"\\n\" );\n      }\n    }\n    return builder.toString();\n  }\n}\n</code></pre>\n\n<p>Output </p>\n\n<pre><code>getAuthority = user:port@host:25\ngetFragment = null\ngetPath =\ngetQuery = null\ngetScheme = smtp\ngetHost = host\ngetPort = 25\ngetUserInfo = user:port\ngetRawAuthority = user:port@host:25\ngetRawFragment = null\ngetRawPath =\ngetRawQuery = null\ngetRawSchemeSpecificPart = //user:port@host:25\ngetRawUserInfo = user:port\ngetSchemeSpecificPart = //user:port@host:25\ngetClass = class java.net.URI\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27274366,"reputation":1,"user_id":20795228,"display_name":"Legacy Gaming27"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671207298,"creation_date":1671207298,"answer_id":74827085,"question_id":4738348,"body_markdown":"Was configuring node app and had a hard time getting it.\r\n\r\nsmtp://username:password@smtphost:port\r\n\r\nThe funny part was my password was having an &#39;@&#39; so it was presuming the hostname has started. \r\nThe username also had an &#39;@&#39; server but it was good as it was separated by the colon &quot;:&quot;\r\n\r\nHope this helps.\r\nCheers\r\n","title":"Is there an accepted syntax for SMTP server? (and how to parse it)","body":"<p>Was configuring node app and had a hard time getting it.</p>\n<p>smtp://username:password@smtphost:port</p>\n<p>The funny part was my password was having an '@' so it was presuming the hostname has started.\nThe username also had an '@' server but it was good as it was separated by the colon &quot;:&quot;</p>\n<p>Hope this helps.\nCheers</p>\n"}],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9784,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":4738474,"answer_count":4,"score":4,"last_activity_date":1671207298,"creation_date":1295456984,"question_id":4738348,"body_markdown":"I&#39;ve seen things like:\r\n\r\n    user:password@smtpserver:port\r\n\r\n\r\nIn the past, but I&#39;m not sure if the some library parsed that to build a properties to create a session or is there some sort of accepted format.\r\n\r\n\r\n\r\n\r\n\r\n","title":"Is there an accepted syntax for SMTP server? (and how to parse it)","body":"<p>I've seen things like:</p>\n\n<pre><code>user:password@smtpserver:port\n</code></pre>\n\n<p>In the past, but I'm not sure if the some library parsed that to build a properties to create a session or is there some sort of accepted format.</p>\n"},{"tags":["java","jpanel"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1671207340,"post_id":74827055,"comment_id":132056513,"body_markdown":"Try calling g.setColor before g.fillRect","body":"Try calling g.setColor before g.fillRect"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1671209358,"post_id":74827055,"comment_id":132057192,"body_markdown":"I recommend always to use the `@Override` annotation to annotate a method intended to override another method - in this code `PaintComponent()` is never being called, it should start with a lowercase letter (as is convention for methods in Java) and be `public` - if you had annotated it with `@Override`, the compiler would have given your an error","body":"I recommend always to use the <code>@Override</code> annotation to annotate a method intended to override another method - in this code <code>PaintComponent()</code> is never being called, it should start with a lowercase letter (as is convention for methods in Java) and be <code>public</code> - if you had annotated it with <code>@Override</code>, the compiler would have given your an error"},{"owner":{"account_id":27133904,"reputation":1,"user_id":20675712,"display_name":"goldern"},"score":0,"creation_date":1671211844,"post_id":74827055,"comment_id":132057903,"body_markdown":"@ControlAltDel I tried that and it didn&#39;t work but thank you for the suggestion :)","body":"@ControlAltDel I tried that and it didn&#39;t work but thank you for the suggestion :)"},{"owner":{"account_id":27133904,"reputation":1,"user_id":20675712,"display_name":"goldern"},"score":0,"creation_date":1671212139,"post_id":74827055,"comment_id":132058008,"body_markdown":"@user16320675 thank you I changed paint component methods first letter to lower case and it worked :)","body":"@user16320675 thank you I changed paint component methods first letter to lower case and it worked :)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1671297605,"post_id":74827055,"comment_id":132071169,"body_markdown":"Do yourself a favour - *always* use `@Override` then that sort of thing will never happen again","body":"Do yourself a favour - <i>always</i> use <code>@Override</code> then that sort of thing will never happen again"}],"owner":{"account_id":27133904,"reputation":1,"user_id":20675712,"display_name":"goldern"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671207154,"creation_date":1671207154,"question_id":74827055,"body_markdown":"so I&#39;m trying to display a png image on a JPanel and the frame runs fine and its the size I want and everything but it doesn&#39;t display the image, I don&#39;t think its the image im using because I used the same method to display it on another project and it showed up fine. I&#39;ve also tried to see if g.fillRect(); works and that doesn&#39;t show up either so is it a problem with my panel not showing up?\r\n\r\n\r\n```\r\npackage main;\r\nimport java.io.InputStream;\r\nimport java.awt.Dimension;\r\nimport java.awt.Graphics;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.FileInputStream;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\n\r\nimport javax.imageio.ImageIO;\r\nimport javax.swing.JPanel;\r\n\r\n\r\npublic class GamePanel extends JPanel{\r\n\r\n\tprivate BufferedImage img, subImg;\r\n\tprivate float xDelta = 0, yDelta = 0;\r\n\t\r\n\tpublic GamePanel() {\r\n\t\timportImg();\r\n\t\tsetPanelSize();\r\n\t}\r\n\t\r\n\tpublic void importImg() {\r\n\t\tInputStream is = getClass().getResourceAsStream(&quot;/TetrisBlocksTextureAtlas.png&quot;);\r\n\t\ttry {\r\n\t\timg = ImageIO.read(is);\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void setPanelSize() {\r\n\t\tDimension size = new Dimension(200, 400);\r\n\t\tsetPreferredSize(size);\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\t void PaintComponent(Graphics g) {\r\n\t\tsuper.paintComponent(g);\r\n\t\t\r\n\t\t\r\n\t\tg.fillRect(0, 0, 50, 50);\r\n\t\tg.drawImage(img, 0, 0, null);\r\n\t\t\r\n\t\t\r\n\r\n\t}\r\n}\r\n\r\n```\r\n\r\n","title":"why does png image not show up in JPanel in java using g.drawImage()?","body":"<p>so I'm trying to display a png image on a JPanel and the frame runs fine and its the size I want and everything but it doesn't display the image, I don't think its the image im using because I used the same method to display it on another project and it showed up fine. I've also tried to see if g.fillRect(); works and that doesn't show up either so is it a problem with my panel not showing up?</p>\n<pre><code>package main;\nimport java.io.InputStream;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.image.BufferedImage;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\n\nimport javax.imageio.ImageIO;\nimport javax.swing.JPanel;\n\n\npublic class GamePanel extends JPanel{\n\n    private BufferedImage img, subImg;\n    private float xDelta = 0, yDelta = 0;\n    \n    public GamePanel() {\n        importImg();\n        setPanelSize();\n    }\n    \n    public void importImg() {\n        InputStream is = getClass().getResourceAsStream(&quot;/TetrisBlocksTextureAtlas.png&quot;);\n        try {\n        img = ImageIO.read(is);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        \n    }\n    \n    public void setPanelSize() {\n        Dimension size = new Dimension(200, 400);\n        setPreferredSize(size);\n    }\n    \n    \n    \n     void PaintComponent(Graphics g) {\n        super.paintComponent(g);\n        \n        \n        g.fillRect(0, 0, 50, 50);\n        g.drawImage(img, 0, 0, null);\n        \n        \n\n    }\n}\n\n</code></pre>\n"},{"tags":["java","swing","jpanel","paintcomponent","repaint"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1671206430,"post_id":74825903,"comment_id":132056209,"body_markdown":"note: you _must not_ change a component off the EDT! It&#39;s not entirely clear whether you do (repaint is safe), but if updateBoard changes the ui in any other way you might be in trouble. Also: don&#39;t swallow exceptions, instead handle or at the very least print its stacktrace to be able to get a hint of what&#39;s wrong.","body":"note: you <i>must not</i> change a component off the EDT! It&#39;s not entirely clear whether you do (repaint is safe), but if updateBoard changes the ui in any other way you might be in trouble. Also: don&#39;t swallow exceptions, instead handle or at the very least print its stacktrace to be able to get a hint of what&#39;s wrong."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1671206716,"post_id":74825903,"comment_id":132056297,"body_markdown":"as to your problem: [mcve] please ..","body":"as to your problem: <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1671209385,"post_id":74825903,"comment_id":132057202,"body_markdown":"Components need to be added to the frame BEFORE the frame is made visible. Otherwise, the layout manager is not invoked and the component has a size of (0, 0) so there is nothing to paint.","body":"Components need to be added to the frame BEFORE the frame is made visible. Otherwise, the layout manager is not invoked and the component has a size of (0, 0) so there is nothing to paint."},{"owner":{"account_id":26693086,"reputation":1,"user_id":20301373,"display_name":"Rotem Hanoch"},"score":0,"creation_date":1671375398,"post_id":74825903,"comment_id":132081799,"body_markdown":"thank you the problem solved, I didn&#39;t notice I forgot to increase size.","body":"thank you the problem solved, I didn&#39;t notice I forgot to increase size."}],"owner":{"account_id":26693086,"reputation":1,"user_id":20301373,"display_name":"Rotem Hanoch"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671206728,"creation_date":1671201433,"question_id":74825903,"body_markdown":"this code is part of client. the part of getting information from the server is working, but it&#39;s not calling to repaint function (line 6).\r\n\r\n\r\n```\r\npublic class Client extends JPanel implements Runnable{\r\n\r\n\r\npublic Client() throws IOException{  \r\n        f = new JFrame(&quot;Bad Ice Cream by - Rotem Hanoch&quot;);\r\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        f.setSize(this.width,this.height);\r\n        f.setResizable(false);\r\n        f.setFocusable(false);\r\n        f.setVisible(true);\r\n        initBoard();\r\n        f.add(this);\r\n    }\r\n\r\n    public void run(){\r\n        while(true){\r\n            try {\r\n                Board.Type mat[][] = (Board.Type[][]) this.objectInputStream.readObject();\r\n                updateBoard(mat);\r\n                this.repaint();\r\n            } catch (IOException ex) {} catch (ClassNotFoundException ex) {}\r\n        }\r\n    }\r\n\r\n    public void paintComponent(Graphics g){\r\n        System.out.println(&quot;hello&quot;);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nI tried to figure out why it doesn&#39;t work because it doesn&#39;t recognize the function. I expect it to print me a message so I know it has reached the function.","title":"Why repaint doesn&#39;t call to paintComponent function?","body":"<p>this code is part of client. the part of getting information from the server is working, but it's not calling to repaint function (line 6).</p>\n<pre><code>public class Client extends JPanel implements Runnable{\n\n\npublic Client() throws IOException{  \n        f = new JFrame(&quot;Bad Ice Cream by - Rotem Hanoch&quot;);\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        f.setSize(this.width,this.height);\n        f.setResizable(false);\n        f.setFocusable(false);\n        f.setVisible(true);\n        initBoard();\n        f.add(this);\n    }\n\n    public void run(){\n        while(true){\n            try {\n                Board.Type mat[][] = (Board.Type[][]) this.objectInputStream.readObject();\n                updateBoard(mat);\n                this.repaint();\n            } catch (IOException ex) {} catch (ClassNotFoundException ex) {}\n        }\n    }\n\n    public void paintComponent(Graphics g){\n        System.out.println(&quot;hello&quot;);\n    }\n}\n</code></pre>\n<p>I tried to figure out why it doesn't work because it doesn't recognize the function. I expect it to print me a message so I know it has reached the function.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","entitymanager"],"comments":[{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1671189043,"post_id":74822979,"comment_id":132050291,"body_markdown":"Does anybody else have ever used Hibernate and update parent_id field?","body":"Does anybody else have ever used Hibernate and update parent_id field?"},{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1671191421,"post_id":74822979,"comment_id":132051056,"body_markdown":"you should have a categoryId field (and the corresponding public setter) in your Recipe class (it looks that your db table Recipe already has a category_id column,  referenced by the JoinColumn annotation)","body":"you should have a categoryId field (and the corresponding public setter) in your Recipe class (it looks that your db table Recipe already has a category_id column,  referenced by the JoinColumn annotation)"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1671198339,"post_id":74822979,"comment_id":132053292,"body_markdown":"@dsp_user I also think of it, but is there a more elegant way? Because it is not meaningful to add an extra field just for setting. Any idea?","body":"@dsp_user I also think of it, but is there a more elegant way? Because it is not meaningful to add an extra field just for setting. Any idea?"},{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1671200020,"post_id":74822979,"comment_id":132053915,"body_markdown":"I think it makes sense to add it because you have to set that column in your database when you&#39;re adding a new Recipe. Otherwise, you have to set category field and you certainly don&#39;t need the category field set when just inserting/adding new Recipes.","body":"I think it makes sense to add it because you have to set that column in your database when you&#39;re adding a new Recipe. Otherwise, you have to set category field and you certainly don&#39;t need the category field set when just inserting/adding new Recipes."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1671201834,"post_id":74822979,"comment_id":132054607,"body_markdown":"I am wondering what Hibernate users would do for this kind of scenarios. Do they retrieve the related parent record from db or do they add a new column for parentId ? Any idea?","body":"I am wondering what Hibernate users would do for this kind of scenarios. Do they retrieve the related parent record from db or do they add a new column for parentId ? Any idea?"},{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1671202624,"post_id":74822979,"comment_id":132054901,"body_markdown":"Hibernate users? I&#39;m sure you&#39;ll get all kinds of views from them as well.","body":"Hibernate users? I&#39;m sure you&#39;ll get all kinds of views from them as well."},{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1671203056,"post_id":74822979,"comment_id":132055046,"body_markdown":"But imagine a scenario where you have to add thousands of Recipes at once. What would be more efficient?","body":"But imagine a scenario where you have to add thousands of Recipes at once. What would be more efficient?"}],"answers":[{"comments":[{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1671198464,"post_id":74824683,"comment_id":132053335,"body_markdown":"Do you mean that first I call ``repository.getCategoryById(id);` and then `recipe.setCategoryId(request.getCategoryId());` ? Is there any other way to solve this problem in Hibernate?","body":"Do you mean that first I call ``repository.getCategoryById(id);` and then <code>recipe.setCategoryId(request.getCategoryId());</code> ? Is there any other way to solve this problem in Hibernate?"},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1671198770,"post_id":74824683,"comment_id":132053420,"body_markdown":"`recipe.setCategory(categoryRepository.getReferenceById(request.getCategoryId()))`","body":"<code>recipe.setCategory(categoryRepository.getReferenceById(reque&zwnj;&#8203;st.getCategoryId()))</code>"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1671201453,"post_id":74824683,"comment_id":132054468,"body_markdown":"As a result, I think we have to retrieve category from database in order to set its id in Recipe. There is not a more elegant way?  Is that true?","body":"As a result, I think we have to retrieve category from database in order to set its id in Recipe. There is not a more elegant way?  Is that true?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1671204255,"post_id":74824683,"comment_id":132055467,"body_markdown":"It seems good, but when I compare 2 approaches, it seems that using `findById` with .orElseThrow() seems the best way as it also throws exception for null cases. Any idea?","body":"It seems good, but when I compare 2 approaches, it seems that using <code>findById</code> with .orElseThrow() seems the best way as it also throws exception for null cases. Any idea?"}],"tags":[],"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671195322,"creation_date":1671194952,"answer_id":74824683,"question_id":74822979,"body_markdown":"If your repository implements `org.springframework.data.jpa.repository.JpaRepository` you may take advantage of using `JpaRepository#getReferenceById` method, in that case Hibernate instead of querying DB for data will return proxy object. However, such implementation may cause issues in some cases, for example:\r\n\r\n```java\r\n// this call typically returns entity\r\n// or null if entity wasn&#39;t found\r\nrepository.findById(id);\r\n```\r\n\r\nbut:\r\n\r\n```java\r\n// this call returns proxy object\r\nrepository.getReferenceById(id);\r\n\r\n// now instead of returning entity\r\n// repository either returns initialized proxy \r\n// object or throws EntityNotFoundException\r\n// if entity wasn&#39;t found\r\nrepository.findById(id);\r\n```","title":"Hibernate: How to update parent_id field without retrieving parent from db?","body":"<p>If your repository implements <code>org.springframework.data.jpa.repository.JpaRepository</code> you may take advantage of using <code>JpaRepository#getReferenceById</code> method, in that case Hibernate instead of querying DB for data will return proxy object. However, such implementation may cause issues in some cases, for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// this call typically returns entity\n// or null if entity wasn't found\nrepository.findById(id);\n</code></pre>\n<p>but:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// this call returns proxy object\nrepository.getReferenceById(id);\n\n// now instead of returning entity\n// repository either returns initialized proxy \n// object or throws EntityNotFoundException\n// if entity wasn't found\nrepository.findById(id);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1671232482,"post_id":74826819,"comment_id":132062781,"body_markdown":"Good, it is working. But I needed to update as `@JoinColumn(name = &quot;category_id&quot;, referencedColumnName = &quot;id&quot;, insertable=false, updatable=false)`","body":"Good, it is working. But I needed to update as <code>@JoinColumn(name = &quot;category_id&quot;, referencedColumnName = &quot;id&quot;, insertable=false, updatable=false)</code>"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1671232543,"post_id":74826819,"comment_id":132062787,"body_markdown":"On the other hand, is it the only way I think if I don&#39;t want to set category_id field of recipe before saving or updating it. Right?","body":"On the other hand, is it the only way I think if I don&#39;t want to set category_id field of recipe before saving or updating it. Right?"},{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1671266639,"post_id":74826819,"comment_id":132066177,"body_markdown":"@Jack, it&#39;s not the only way, you can always resort to using native queries via either the Query annotation or JdbcTemplate. In fact, for more complex queries (regardless of if they&#39;re inserts, updates or selects) using native queries is often preferred because this way you&#39;ll generate more efficient/optimized queries. But , in the end, category_id will still need to be set.","body":"@Jack, it&#39;s not the only way, you can always resort to using native queries via either the Query annotation or JdbcTemplate. In fact, for more complex queries (regardless of if they&#39;re inserts, updates or selects) using native queries is often preferred because this way you&#39;ll generate more efficient/optimized queries. But , in the end, category_id will still need to be set."}],"tags":[],"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671205999,"creation_date":1671205999,"answer_id":74826819,"question_id":74822979,"body_markdown":"I would just add a categoryId field along with the corresponding getter and settter methods to the Recipe class. \r\n\r\n    @Entity\r\n    public class Recipe {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(nullable = false, length = 50)\r\n    private String title;\r\n\r\n     @ManyToOne(optional = true, fetch = FetchType.LAZY)\r\n     @JoinColumn(name = &quot;category_id&quot;, referencedColumnName = &quot;id&quot;)\r\n     private Category category;\r\n    \r\n    @Column(name = &quot;category_id&quot;, nullable = false)\r\n    private Integer categoryId;\r\n\r\n    // getters/setters\r\n\r\n     }\r\n\r\n\r\nHaving a categoryId field means that when we don&#39;t have to create an instance of Category when adding new Recipes. Sure, Recipe.category will be null but that&#39;s ok if we&#39;re just adding new Recipes. This approach could also prove beneficial if we later decide that we need to add many Recipes simultaneously.","title":"Hibernate: How to update parent_id field without retrieving parent from db?","body":"<p>I would just add a categoryId field along with the corresponding getter and settter methods to the Recipe class.</p>\n<pre><code>@Entity\npublic class Recipe {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\n\n@Column(nullable = false, length = 50)\nprivate String title;\n\n @ManyToOne(optional = true, fetch = FetchType.LAZY)\n @JoinColumn(name = &quot;category_id&quot;, referencedColumnName = &quot;id&quot;)\n private Category category;\n\n@Column(name = &quot;category_id&quot;, nullable = false)\nprivate Integer categoryId;\n\n// getters/setters\n\n }\n</code></pre>\n<p>Having a categoryId field means that when we don't have to create an instance of Category when adding new Recipes. Sure, Recipe.category will be null but that's ok if we're just adding new Recipes. This approach could also prove beneficial if we later decide that we need to add many Recipes simultaneously.</p>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":343,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74826819,"answer_count":2,"score":1,"last_activity_date":1671205999,"creation_date":1671185478,"question_id":74822979,"body_markdown":"In a Spring Boot app, I have the following entities that have one-to-many relationship (Category is the parent of Recipe):\r\n\r\n```\r\n@Entity\r\npublic class Recipe {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(nullable = false, length = 50)\r\n    private String title;\r\n\r\n    @ManyToOne(optional = true, fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;category_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Category category;\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\npublic class Category {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(unique = true, nullable = false, length = 50)\r\n    private String name;\r\n\r\n    @OneToMany(mappedBy = &quot;category&quot;, cascade = CascadeType.ALL)\r\n    private Set&lt;Recipe&gt; recipes = new HashSet&lt;&gt;();\r\n\r\n    public void addRecipe(Recipe recipe) {\r\n        recipes.add(recipe);\r\n        recipe.setCategory(this);\r\n    }\r\n\r\n    public void removeRecipe(Recipe recipe) {\r\n        recipes.remove(recipe);\r\n        recipe.setCategory(null);\r\n    }\r\n}\r\n```\r\n\r\nWhen I create a Recipe, I send `categoryId` that is selected from Dropdown list and create Recipe by retrieving and adding category to the recipe as shown below:\r\n\r\n```\r\n@Transactional\r\npublic void update(RecipeRequest request) {\r\n    final Category category = categoryRepository.findById(request.getCategoryId())\r\n            .orElseThrow(() -&gt; new NoSuchElementFoundException(NOT_FOUND_CATEGORY));\r\n\r\n    /* instead of retrieving category, I want to set the categoryId field of Recipe, \r\n       but there is not such kind of setter */\r\n    recipe.setCategoryId(request.getCategoryId());\r\n    \r\n    recipe.setTitle(capitalizeFully(request.getTitle()));\r\n    recipe.setCategory(category);\r\n    \r\n    recipeRepository.save(recipe);\r\n}\r\n```\r\n\r\nInstead of retrieving category, I want to set the categoryId field of Recipe, but there is not such kind of setter:\r\n\r\n```\r\nrecipe.setCategoryId(request.getCategoryId());\r\n```\r\n\r\nSo, what is the most proper way for just setting the categoryId of the recipe and then saving it without requiring the category from db? Do I need a setter for categoryId field to the Recipe (I thought it, but does not seem elegant way)?","title":"Hibernate: How to update parent_id field without retrieving parent from db?","body":"<p>In a Spring Boot app, I have the following entities that have one-to-many relationship (Category is the parent of Recipe):</p>\n<pre><code>@Entity\npublic class Recipe {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(nullable = false, length = 50)\n    private String title;\n\n    @ManyToOne(optional = true, fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;category_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Category category;\n}\n</code></pre>\n<pre><code>@Entity\npublic class Category {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(unique = true, nullable = false, length = 50)\n    private String name;\n\n    @OneToMany(mappedBy = &quot;category&quot;, cascade = CascadeType.ALL)\n    private Set&lt;Recipe&gt; recipes = new HashSet&lt;&gt;();\n\n    public void addRecipe(Recipe recipe) {\n        recipes.add(recipe);\n        recipe.setCategory(this);\n    }\n\n    public void removeRecipe(Recipe recipe) {\n        recipes.remove(recipe);\n        recipe.setCategory(null);\n    }\n}\n</code></pre>\n<p>When I create a Recipe, I send <code>categoryId</code> that is selected from Dropdown list and create Recipe by retrieving and adding category to the recipe as shown below:</p>\n<pre><code>@Transactional\npublic void update(RecipeRequest request) {\n    final Category category = categoryRepository.findById(request.getCategoryId())\n            .orElseThrow(() -&gt; new NoSuchElementFoundException(NOT_FOUND_CATEGORY));\n\n    /* instead of retrieving category, I want to set the categoryId field of Recipe, \n       but there is not such kind of setter */\n    recipe.setCategoryId(request.getCategoryId());\n    \n    recipe.setTitle(capitalizeFully(request.getTitle()));\n    recipe.setCategory(category);\n    \n    recipeRepository.save(recipe);\n}\n</code></pre>\n<p>Instead of retrieving category, I want to set the categoryId field of Recipe, but there is not such kind of setter:</p>\n<pre><code>recipe.setCategoryId(request.getCategoryId());\n</code></pre>\n<p>So, what is the most proper way for just setting the categoryId of the recipe and then saving it without requiring the category from db? Do I need a setter for categoryId field to the Recipe (I thought it, but does not seem elegant way)?</p>\n"},{"tags":["java","aws-lambda","activemq","spring-jms","amazon-mq"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1671201971,"post_id":74825863,"comment_id":132054661,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":6958899,"reputation":325,"user_id":5339049,"display_name":"Altay Akkus"},"score":0,"creation_date":1671203971,"post_id":74825863,"comment_id":132055346,"body_markdown":"Are the 200ms end to end, from executing your lambda function (manually?) to the message being published? Because then you could look into preventing cold starts, making your function and dependencies smaller so Lambda can spin it up faster et cetera.","body":"Are the 200ms end to end, from executing your lambda function (manually?) to the message being published? Because then you could look into preventing cold starts, making your function and dependencies smaller so Lambda can spin it up faster et cetera."},{"owner":{"account_id":18537767,"reputation":126,"user_id":13507049,"display_name":"Vaibhav"},"score":0,"creation_date":1671207069,"post_id":74825863,"comment_id":132056415,"body_markdown":"@AltayAkkus no. The lambda function is already initialized. The 200 ms is the time difference when I invoke the method which has the logic to publish the message to mq.","body":"@AltayAkkus no. The lambda function is already initialized. The 200 ms is the time difference when I invoke the method which has the logic to publish the message to mq."},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1673062441,"post_id":74825863,"comment_id":132419420,"body_markdown":"Any feedback here? Did you get this sorted?","body":"Any feedback here? Did you get this sorted?"}],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671205866,"creation_date":1671205866,"answer_id":74826785,"question_id":74825863,"body_markdown":"This is a well-known issue with Spring&#39;s JmsTemplate. It&#39;s documented in both [ActiveMQ][1] and in [Spring&#39;s JmsTemplate JavaDoc][2] which states:\r\n\r\n&gt; **NOTE: The ConnectionFactory used with this template should return pooled Connections (or a single shared Connection) as well as pooled Sessions and MessageProducers. Otherwise, performance of ad-hoc JMS operations is going to suffer.**\r\n\r\nPlease ensure you&#39;re using a connection pool with Spring JmsTemplate otherwise it&#39;s going to create a new connection, session, &amp; producer *every* time it sends a message which is a massive waste of resources.\r\n\r\n\r\n  [1]: https://activemq.apache.org/jmstemplate-gotchas\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jms/core/JmsTemplate.html\r\n","title":"How to Improve Performance of Lambda Function which Connects to Amazon MQ","body":"<p>This is a well-known issue with Spring's JmsTemplate. It's documented in both <a href=\"https://activemq.apache.org/jmstemplate-gotchas\" rel=\"nofollow noreferrer\">ActiveMQ</a> and in <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jms/core/JmsTemplate.html\" rel=\"nofollow noreferrer\">Spring's JmsTemplate JavaDoc</a> which states:</p>\n<blockquote>\n<p><strong>NOTE: The ConnectionFactory used with this template should return pooled Connections (or a single shared Connection) as well as pooled Sessions and MessageProducers. Otherwise, performance of ad-hoc JMS operations is going to suffer.</strong></p>\n</blockquote>\n<p>Please ensure you're using a connection pool with Spring JmsTemplate otherwise it's going to create a new connection, session, &amp; producer <em>every</em> time it sends a message which is a massive waste of resources.</p>\n"}],"owner":{"account_id":18537767,"reputation":126,"user_id":13507049,"display_name":"Vaibhav"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671205950,"creation_date":1671201239,"question_id":74825863,"body_markdown":"Context: I have an AWS lambda function which is trying to publish messages to Amazon MQ after all the functionality of function is completed. The lambda function is build on Spring Boot. For the JMS connectivity I have used the Spring JmsTemplate.\r\n\r\nProblem: Since the bean required for connectivity are already handled by Spring&#39;s JmsTemplate at initialization I expected the time taken to publish message to the queue would be less but I observe the time taken to publish a message is over 200ms.\r\n\r\nQuestion 1: How can I reduce the time taken to publish message to MQ?\r\nQuestion 2: Should I remove JMS template and manually manage the connection to MQ?\r\n\r\nSince spring JMS template is a singleton bean I expected to see the lambda function use less time publishing the messages during subsequent invocation but it was not the case. The publishing time remained same across all the lambda function invocation. ","title":"How to Improve Performance of Lambda Function which Connects to Amazon MQ","body":"<p>Context: I have an AWS lambda function which is trying to publish messages to Amazon MQ after all the functionality of function is completed. The lambda function is build on Spring Boot. For the JMS connectivity I have used the Spring JmsTemplate.</p>\n<p>Problem: Since the bean required for connectivity are already handled by Spring's JmsTemplate at initialization I expected the time taken to publish message to the queue would be less but I observe the time taken to publish a message is over 200ms.</p>\n<p>Question 1: How can I reduce the time taken to publish message to MQ?\nQuestion 2: Should I remove JMS template and manually manage the connection to MQ?</p>\n<p>Since spring JMS template is a singleton bean I expected to see the lambda function use less time publishing the messages during subsequent invocation but it was not the case. The publishing time remained same across all the lambda function invocation.</p>\n"},{"tags":["java","android","swipe"],"comments":[{"owner":{"account_id":4118202,"reputation":1760,"user_id":3379262,"accept_rate":52,"display_name":"BSK-Team"},"score":0,"creation_date":1395742267,"post_id":22631258,"comment_id":34464694,"body_markdown":"You can use the ScrollView","body":"You can use the ScrollView"},{"owner":{"account_id":3445551,"reputation":86,"user_id":2886457,"accept_rate":71,"display_name":"Kevin"},"score":0,"creation_date":1395742509,"post_id":22631258,"comment_id":34464863,"body_markdown":"The XML file that contains the birthday&#39;s is coming from a database, is it possible to use scrollview then?","body":"The XML file that contains the birthday&#39;s is coming from a database, is it possible to use scrollview then?"}],"answers":[{"comments":[{"owner":{"account_id":3445551,"reputation":86,"user_id":2886457,"accept_rate":71,"display_name":"Kevin"},"score":0,"creation_date":1395743154,"post_id":22631589,"comment_id":34465320,"body_markdown":"But how would it know wich month to show? I start by showing the current month, so right now month = 3. Then when I swipe I need it to show month 4.","body":"But how would it know wich month to show? I start by showing the current month, so right now month = 3. Then when I swipe I need it to show month 4."}],"tags":[],"owner":{"account_id":4118202,"reputation":1760,"user_id":3379262,"accept_rate":52,"display_name":"BSK-Team"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395742993,"creation_date":1395742993,"answer_id":22631589,"question_id":22631258,"body_markdown":"In your xml :\r\n\r\n    &lt;ScrollView\r\n        android:layout_width=&quot;240dp&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        android:fillViewport=&quot;true&quot; &gt;\r\n    \r\n        &lt;--! Your xml --&gt;\r\n    \r\n    &lt;/ScrollView&gt;\r\n\r\n","title":"How can I swipe horizontal left and right with android","body":"<p>In your xml :</p>\n\n<pre><code>&lt;ScrollView\n    android:layout_width=\"240dp\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"horizontal\"\n    android:fillViewport=\"true\" &gt;\n\n    &lt;--! Your xml --&gt;\n\n&lt;/ScrollView&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12918139,"reputation":51,"user_id":9341603,"display_name":"Ashok"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671205835,"creation_date":1671205835,"answer_id":74826779,"question_id":22631258,"body_markdown":"I know this is very late reply but it may helps to someone.\r\nPlease check updated code below.\r\n\r\n    public boolean onTouchEvent(MotionEvent event)\r\n     {     \r\n         switch(event.getAction())\r\n         {\r\n           case MotionEvent.ACTION_DOWN:\r\n               x1 = event.getX();                         \r\n           break;         \r\n           case MotionEvent.ACTION_UP:\r\n               x2 = event.getX();\r\n               float deltaX = x2 - x1;\r\n               if (Math.abs(deltaX) &gt; MIN_DISTANCE)\r\n               {\r\n                 if (deltaX &gt; 0) {\r\n                    month++; \r\n                    Log.v(&quot;test&quot;, &quot;test&quot;);\r\n                    theCursor = dbh.getDiaries(month);\r\n                    adapter = new MyCursorAdapter(this, theCursor);\r\n                    this.setListAdapter(adapter);\r\n                 } else {\r\n                    month--; \r\n                    Log.v(&quot;test&quot;, &quot;test&quot;);\r\n                    theCursor = dbh.getDiaries(month);\r\n                    adapter = new MyCursorAdapter(this, theCursor);\r\n                    this.setListAdapter(adapter);\r\n                 }\r\n               }                          \r\n           break;   \r\n         }           \r\n         return super.onTouchEvent(event);       \r\n     }","title":"How can I swipe horizontal left and right with android","body":"<p>I know this is very late reply but it may helps to someone.\nPlease check updated code below.</p>\n<pre><code>public boolean onTouchEvent(MotionEvent event)\n {     \n     switch(event.getAction())\n     {\n       case MotionEvent.ACTION_DOWN:\n           x1 = event.getX();                         \n       break;         \n       case MotionEvent.ACTION_UP:\n           x2 = event.getX();\n           float deltaX = x2 - x1;\n           if (Math.abs(deltaX) &gt; MIN_DISTANCE)\n           {\n             if (deltaX &gt; 0) {\n                month++; \n                Log.v(&quot;test&quot;, &quot;test&quot;);\n                theCursor = dbh.getDiaries(month);\n                adapter = new MyCursorAdapter(this, theCursor);\n                this.setListAdapter(adapter);\n             } else {\n                month--; \n                Log.v(&quot;test&quot;, &quot;test&quot;);\n                theCursor = dbh.getDiaries(month);\n                adapter = new MyCursorAdapter(this, theCursor);\n                this.setListAdapter(adapter);\n             }\n           }                          \n       break;   \n     }           \n     return super.onTouchEvent(event);       \n }\n</code></pre>\n"}],"owner":{"account_id":3445551,"reputation":86,"user_id":2886457,"accept_rate":71,"display_name":"Kevin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1671205835,"creation_date":1395742090,"question_id":22631258,"body_markdown":"I&#39;m new to android and I am making a calendar application to practice. It&#39;s almost done but there&#39;s 1 thing I can&#39;t get to work. I would like to swipe horizontal from left to right to browse months. I&#39;ve been trying it with this piece of code:\r\n\r\n    public boolean onTouchEvent(MotionEvent event)\r\n    \t {     \r\n    \t     switch(event.getAction())\r\n    \t     {\r\n    \t       case MotionEvent.ACTION_DOWN:\r\n    \t           x1 = event.getX();                         \r\n    \t       break;         \r\n    \t       case MotionEvent.ACTION_UP:\r\n    \t           x2 = event.getX();\r\n    \t           float deltaX = x2 - x1;\r\n    \t           if (Math.abs(deltaX) &gt; MIN_DISTANCE)\r\n    \t           {\r\n    \t        \t    month++; \r\n    \t        \t    Log.v(&quot;test&quot;, &quot;test&quot;);\r\n    \t        \t    theCursor = dbh.getDiaries(month);\r\n    \t\t       \t\tadapter = new MyCursorAdapter(this, theCursor);\r\n    \t\t       \t\tthis.setListAdapter(adapter);\r\n    \t           }\r\n    \t           else\r\n    \t           {\r\n    \t        \t    month--; \r\n    \t        \t    Log.v(&quot;test&quot;, &quot;test&quot;);\r\n    \t        \t    theCursor = dbh.getDiaries(month);\r\n    \t\t       \t\tadapter = new MyCursorAdapter(this, theCursor);\r\n    \t\t       \t\tthis.setListAdapter(adapter);\r\n    \t           }                          \r\n    \t       break;   \r\n    \t     }           \r\n    \t     return super.onTouchEvent(event);       \r\n    \t }\r\n\r\nThis only swipes from top to bottom and not back, can someone help me fix this code so I can swipe from left to right and back?\r\n\r\nThanks!","title":"How can I swipe horizontal left and right with android","body":"<p>I'm new to android and I am making a calendar application to practice. It's almost done but there's 1 thing I can't get to work. I would like to swipe horizontal from left to right to browse months. I've been trying it with this piece of code:</p>\n\n<pre><code>public boolean onTouchEvent(MotionEvent event)\n     {     \n         switch(event.getAction())\n         {\n           case MotionEvent.ACTION_DOWN:\n               x1 = event.getX();                         \n           break;         \n           case MotionEvent.ACTION_UP:\n               x2 = event.getX();\n               float deltaX = x2 - x1;\n               if (Math.abs(deltaX) &gt; MIN_DISTANCE)\n               {\n                    month++; \n                    Log.v(\"test\", \"test\");\n                    theCursor = dbh.getDiaries(month);\n                    adapter = new MyCursorAdapter(this, theCursor);\n                    this.setListAdapter(adapter);\n               }\n               else\n               {\n                    month--; \n                    Log.v(\"test\", \"test\");\n                    theCursor = dbh.getDiaries(month);\n                    adapter = new MyCursorAdapter(this, theCursor);\n                    this.setListAdapter(adapter);\n               }                          \n           break;   \n         }           \n         return super.onTouchEvent(event);       \n     }\n</code></pre>\n\n<p>This only swipes from top to bottom and not back, can someone help me fix this code so I can swipe from left to right and back?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","arraylist"],"answers":[{"tags":[],"owner":{"account_id":428580,"reputation":35982,"user_id":811001,"accept_rate":85,"display_name":"tskuzzy"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1343170864,"creation_date":1343170864,"answer_id":11640528,"question_id":11640507,"body_markdown":"- An [array][1] is a fixed length collection of objects. e.g. `new int[5];`\r\n- An [`ArrayList`][2] is a variable length collection of objects. e.g. `new ArrayList&lt;Integer&gt;();`\r\n- The `...` in [variadic functions][3] is a part of a method signature denoting an array of parameters. e.g. `public void printLines(String... lines)`\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html\r\n  [3]: http://en.wikipedia.org/wiki/Variadic_function","title":"Difference between Arrays and 3 dots (Varargs) in java","body":"<ul>\n<li>An <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html\" rel=\"noreferrer\">array</a> is a fixed length collection of objects. e.g. <code>new int[5];</code></li>\n<li>An <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html\" rel=\"noreferrer\"><code>ArrayList</code></a> is a variable length collection of objects. e.g. <code>new ArrayList&lt;Integer&gt;();</code></li>\n<li>The <code>...</code> in <a href=\"http://en.wikipedia.org/wiki/Variadic_function\" rel=\"noreferrer\">variadic functions</a> is a part of a method signature denoting an array of parameters. e.g. <code>public void printLines(String... lines)</code></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":32,"creation_date":1343174887,"post_id":11640566,"comment_id":15421208,"body_markdown":"It&#39;s worth noting that the varargs are just sugar. The method actually takes an array, plain array. `method(String... args)` can be invoked as `method(&quot;first&quot;, &quot;second&quot;)`, but it can just as well be invoked as `method(new String[]{&quot;first&quot;, &quot;second&quot;})`.","body":"It&#39;s worth noting that the varargs are just sugar. The method actually takes an array, plain array. <code>method(String... args)</code> can be invoked as <code>method(&quot;first&quot;, &quot;second&quot;)</code>, but it can just as well be invoked as <code>method(new String[]{&quot;first&quot;, &quot;second&quot;})</code>."}],"tags":[],"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":1,"down_vote_count":0,"up_vote_count":142,"is_accepted":true,"score":142,"last_activity_date":1343171029,"creation_date":1343171029,"answer_id":11640566,"question_id":11640507,"body_markdown":"The three dots can only be used in a method argument, and are called &#39;varargs&#39;. It means you can pass in an array of parameters without explicitly creating the array.\r\n\r\n`private void method(String[] args) {}` is called like `method(new String[]{&quot;first&quot;, &quot;second&quot;});`\r\n\r\n`private void method(String... args) {}` is called like `method(&quot;first&quot;, &quot;second&quot;);`","title":"Difference between Arrays and 3 dots (Varargs) in java","body":"<p>The three dots can only be used in a method argument, and are called 'varargs'. It means you can pass in an array of parameters without explicitly creating the array.</p>\n\n<p><code>private void method(String[] args) {}</code> is called like <code>method(new String[]{\"first\", \"second\"});</code></p>\n\n<p><code>private void method(String... args) {}</code> is called like <code>method(\"first\", \"second\");</code></p>\n"},{"comments":[{"owner":{"account_id":4635520,"reputation":192,"user_id":3756878,"display_name":"S_intg"},"score":0,"creation_date":1583926387,"post_id":54392224,"comment_id":107274352,"body_markdown":"Or passing no parameter in case of a method with one parameter (Varargs) because they&#39;re optional. \nIt&#39;s up to the developer to properly implement the method to handle having zero or more of them.","body":"Or passing no parameter in case of a method with one parameter (Varargs) because they&#39;re optional.  It&#39;s up to the developer to properly implement the method to handle having zero or more of them."}],"tags":[],"owner":{"account_id":7646618,"reputation":505,"user_id":5797056,"display_name":"Aliaksandr Dvoineu"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1548618451,"creation_date":1548618451,"answer_id":54392224,"question_id":11640507,"body_markdown":"In other words, method(String...) means passing a variable number of parameters to the method.","title":"Difference between Arrays and 3 dots (Varargs) in java","body":"<p>In other words, method(String...) means passing a variable number of parameters to the method.</p>\n"}],"owner":{"account_id":1686975,"reputation":812,"user_id":1550048,"display_name":"user1550048"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58816,"favorite_count":0,"down_vote_count":0,"up_vote_count":71,"accepted_answer_id":11640566,"answer_count":3,"score":71,"last_activity_date":1671205698,"creation_date":1343170698,"question_id":11640507,"body_markdown":"Need to figure out what is the difference between `...` and arrays in JAVA, also an array list.\r\n\r\nIt seems we can use both as unlimited, but `...` is rarely used.\r\n\r\nReally appreciate any help you can.","title":"Difference between Arrays and 3 dots (Varargs) in java","body":"<p>Need to figure out what is the difference between <code>...</code> and arrays in JAVA, also an array list.</p>\n<p>It seems we can use both as unlimited, but <code>...</code> is rarely used.</p>\n<p>Really appreciate any help you can.</p>\n"},{"tags":["java","spring","spring-boot","validation"],"comments":[{"owner":{"account_id":5068874,"reputation":4011,"user_id":4068240,"display_name":"Clijsters"},"score":0,"creation_date":1619022461,"post_id":67199768,"comment_id":118781188,"body_markdown":"With the spring-boot-starter-validation, like described at this post: https://www.baeldung.com/spring-boot-bean-validation I see no reason for this to not work.","body":"With the spring-boot-starter-validation, like described at this post: <a href=\"https://www.baeldung.com/spring-boot-bean-validation\" rel=\"nofollow noreferrer\">baeldung.com/spring-boot-bean-validation</a> I see no reason for this to not work."},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1619024195,"post_id":67199768,"comment_id":118781944,"body_markdown":"give us some concrete examples of what non valid values have passed without failing","body":"give us some concrete examples of what non valid values have passed without failing"},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":1,"creation_date":1619024473,"post_id":67199768,"comment_id":118782018,"body_markdown":"`@Size(min = 2)` does not mean it can not be null. In that case you also want another annotation `@NotNull `","body":"<code>@Size(min = 2)</code> does not mean it can not be null. In that case you also want another annotation <code>@NotNull </code>"},{"owner":{"account_id":11805990,"reputation":840,"user_id":8638467,"display_name":"Sumit Monapara"},"score":0,"creation_date":1619065811,"post_id":67199768,"comment_id":118793439,"body_markdown":"@Boug : I have added @NotNull and @Size(min=2), and when I am passing ```{\n&quot;name&quot;: &quot;b&quot;,\n&quot;city&quot;: &quot;A&quot; \n}``` it still got 201 created.","body":"@Boug : I have added @NotNull and @Size(min=2), and when I am passing <code>{ &quot;name&quot;: &quot;b&quot;, &quot;city&quot;: &quot;A&quot;  }</code> it still got 201 created."}],"answers":[{"comments":[{"owner":{"account_id":5068874,"reputation":4011,"user_id":4068240,"display_name":"Clijsters"},"score":0,"creation_date":1619025252,"post_id":67200403,"comment_id":118782362,"body_markdown":"Unfortunately, that&#39;s wrong. As I demonstrated in my answer, the code OP provided works. I assume the requests contained null values.","body":"Unfortunately, that&#39;s wrong. As I demonstrated in my answer, the code OP provided works. I assume the requests contained null values."},{"owner":{"account_id":2229513,"reputation":5172,"user_id":1967484,"display_name":"Deadron"},"score":1,"creation_date":1619025534,"post_id":67200403,"comment_id":118782495,"body_markdown":"Probably, however a post controller receiving a form post still needs to use the BindingResult object anyway so it can intelligently forward to the correct page to display errors and ask for corrected input.","body":"Probably, however a post controller receiving a form post still needs to use the BindingResult object anyway so it can intelligently forward to the correct page to display errors and ask for corrected input."},{"owner":{"account_id":5068874,"reputation":4011,"user_id":4068240,"display_name":"Clijsters"},"score":0,"creation_date":1619027367,"post_id":67200403,"comment_id":118783202,"body_markdown":"It depends on several aspects. If OP is just providing an api for data which should be validates, he doesn&#39;t nee dto provide user information. Yes, it would be good (and he can implement this in a exception handler, like I have linked), but not necessary. Especially if hes using that entity in multiple requests.","body":"It depends on several aspects. If OP is just providing an api for data which should be validates, he doesn&#39;t nee dto provide user information. Yes, it would be good (and he can implement this in a exception handler, like I have linked), but not necessary. Especially if hes using that entity in multiple requests."}],"tags":[],"owner":{"account_id":2229513,"reputation":5172,"user_id":1967484,"display_name":"Deadron"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619024730,"creation_date":1619024730,"answer_id":67200403,"question_id":67199768,"body_markdown":"You need to inject the BindingResult object as the param immediately following your form object and then manually check if there were any errors.\r\n\r\nSee https://spring.io/guides/gs/validating-form-input/ Create a Web Controller for a good example of how this should be done in your controller.","title":"@Valid Not working @PostMapping spring boot","body":"<p>You need to inject the BindingResult object as the param immediately following your form object and then manually check if there were any errors.</p>\n<p>See <a href=\"https://spring.io/guides/gs/validating-form-input/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/validating-form-input/</a> Create a Web Controller for a good example of how this should be done in your controller.</p>\n"},{"comments":[{"owner":{"account_id":11805990,"reputation":840,"user_id":8638467,"display_name":"Sumit Monapara"},"score":0,"creation_date":1619066754,"post_id":67200429,"comment_id":118793593,"body_markdown":"Thanks, I had some weird experience, I removed the json body that I passed in postman and I typed again the same json body and now I am getting proper validation response and proper HTTPStatus.","body":"Thanks, I had some weird experience, I removed the json body that I passed in postman and I typed again the same json body and now I am getting proper validation response and proper HTTPStatus."}],"tags":[],"owner":{"account_id":5068874,"reputation":4011,"user_id":4068240,"display_name":"Clijsters"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671205688,"creation_date":1619024820,"answer_id":67200429,"question_id":67199768,"body_markdown":"I created a Test Application reproducing the state of your code. As stated under the comments, the code you provided should definitely work. You definitely **don&#39;t** neet to provide a `BindingResult` to the method. Spring Boot throws a [MethodArgumentNotValidException](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/MethodArgumentNotValidException.html) and therefore returns a bad request http status if the validation fails.\r\n\r\nI created a project with following content:\r\n\r\npom.xml\r\n\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4.5&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nDemoEntity:\r\n\r\n    public class DemoEntity {\r\n        @NotNull\r\n        public String name;\r\n        @Size(min = 3)\r\n        public String greeting;\r\n    }\r\n\r\nDemoController:\r\n\r\n    @Controller\r\n    public class DemoController {\r\n        @PostMapping(&quot;/post&quot;)\r\n        public ResponseEntity&lt;DemoEntity&gt; put(@Valid @RequestBody DemoEntity demoEntity) {\r\n            return ResponseEntity.ok(demoEntity);\r\n        }\r\n    }\r\n\r\nNow, that&#39;s what happens with my requests:\r\n\r\n| Name    | Greeting | Result |\r\n|---------|----------|--------|\r\n| Peter   | Mr       | 400    |\r\n| Stephen | Monsieur | 200    |\r\n| Clara   | null     | 200    |\r\n| Jenny   | Madamme  | 200    |\r\n\r\nAs you see from the table above, when `greeting` is `null` the result is an ok status. If you want to guarantee that the string is at least `min` characters long _and_ not null, you need to declare this explicitely.\r\n\r\nThat&#39;s, for example, if you want to validate optional fields like a mobile number. You know, it should be n numbers long and contain only numbers, but you don&#39;t want to make it mandatory. Like I showed with the greeting above.\r\n","title":"@Valid Not working @PostMapping spring boot","body":"<p>I created a Test Application reproducing the state of your code. As stated under the comments, the code you provided should definitely work. You definitely <strong>don't</strong> neet to provide a <code>BindingResult</code> to the method. Spring Boot throws a <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/MethodArgumentNotValidException.html\" rel=\"nofollow noreferrer\">MethodArgumentNotValidException</a> and therefore returns a bad request http status if the validation fails.</p>\n<p>I created a project with following content:</p>\n<p>pom.xml</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.4.5&lt;/version&gt;\n&lt;/parent&gt;\n&lt;properties&gt;\n    &lt;java.version&gt;11&lt;/java.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>DemoEntity:</p>\n<pre><code>public class DemoEntity {\n    @NotNull\n    public String name;\n    @Size(min = 3)\n    public String greeting;\n}\n</code></pre>\n<p>DemoController:</p>\n<pre><code>@Controller\npublic class DemoController {\n    @PostMapping(&quot;/post&quot;)\n    public ResponseEntity&lt;DemoEntity&gt; put(@Valid @RequestBody DemoEntity demoEntity) {\n        return ResponseEntity.ok(demoEntity);\n    }\n}\n</code></pre>\n<p>Now, that's what happens with my requests:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Name</th>\n<th>Greeting</th>\n<th>Result</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Peter</td>\n<td>Mr</td>\n<td>400</td>\n</tr>\n<tr>\n<td>Stephen</td>\n<td>Monsieur</td>\n<td>200</td>\n</tr>\n<tr>\n<td>Clara</td>\n<td>null</td>\n<td>200</td>\n</tr>\n<tr>\n<td>Jenny</td>\n<td>Madamme</td>\n<td>200</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>As you see from the table above, when <code>greeting</code> is <code>null</code> the result is an ok status. If you want to guarantee that the string is at least <code>min</code> characters long <em>and</em> not null, you need to declare this explicitely.</p>\n<p>That's, for example, if you want to validate optional fields like a mobile number. You know, it should be n numbers long and contain only numbers, but you don't want to make it mandatory. Like I showed with the greeting above.</p>\n"}],"owner":{"account_id":11805990,"reputation":840,"user_id":8638467,"display_name":"Sumit Monapara"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1674,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":67200429,"answer_count":2,"score":0,"last_activity_date":1671205688,"creation_date":1619022244,"question_id":67199768,"body_markdown":"I am learning spring boot, I am adding Validation for @PostMapping, but somehow it always create a object even with non-valid value.\r\n\r\nHospital.java\r\n```\r\npublic class Hospital {\r\n    private Integer id;\r\n    @Size(min = 2)\r\n    private String name;\r\n    @Size(min = 2)\r\n    private String city;\r\n\r\n    public Hospital(Integer id, String name, String city) {\r\n        this.id = id;\r\n        this.name = name;\r\n        this.city = city;\r\n    }\r\n```\r\n\r\nController\r\n```\r\n@Autowired\r\n    HospitalData data;\r\n...\r\n@PostMapping(&quot;/hospital&quot;)\r\n    public ResponseEntity&lt;Hospital&gt; addHospital(@Valid @RequestBody Hospital hospital){\r\n        Hospital newHospital = data.addHospital(hospital);\r\n\r\n        URI location = ServletUriComponentsBuilder\r\n        .fromCurrentRequest()\r\n        .path(&quot;/{id}&quot;)\r\n        .buildAndExpand(newHospital.getId()).toUri();\r\n\r\n        return ResponseEntity.created(location).build();\r\n    }\r\n```\r\npom.xml\r\n```\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nAnd previously I have added below dependency as I am using Spring 2.3.10 RELEASE, but it doesn&#39;t work, so I have added above dependency.\r\n```\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n```","title":"@Valid Not working @PostMapping spring boot","body":"<p>I am learning spring boot, I am adding Validation for @PostMapping, but somehow it always create a object even with non-valid value.</p>\n<p>Hospital.java</p>\n<pre><code>public class Hospital {\n    private Integer id;\n    @Size(min = 2)\n    private String name;\n    @Size(min = 2)\n    private String city;\n\n    public Hospital(Integer id, String name, String city) {\n        this.id = id;\n        this.name = name;\n        this.city = city;\n    }\n</code></pre>\n<p>Controller</p>\n<pre><code>@Autowired\n    HospitalData data;\n...\n@PostMapping(&quot;/hospital&quot;)\n    public ResponseEntity&lt;Hospital&gt; addHospital(@Valid @RequestBody Hospital hospital){\n        Hospital newHospital = data.addHospital(hospital);\n\n        URI location = ServletUriComponentsBuilder\n        .fromCurrentRequest()\n        .path(&quot;/{id}&quot;)\n        .buildAndExpand(newHospital.getId()).toUri();\n\n        return ResponseEntity.created(location).build();\n    }\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>And previously I have added below dependency as I am using Spring 2.3.10 RELEASE, but it doesn't work, so I have added above dependency.</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","android","speech-recognition","microphone","noise-reduction"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1671207818,"post_id":74826528,"comment_id":132056666,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"comments":[{"owner":{"account_id":10654430,"reputation":69,"user_id":7844378,"display_name":"Amir Eleuch"},"score":1,"creation_date":1671241144,"post_id":74826729,"comment_id":132063785,"body_markdown":"Good one. But how to set the record as an input for SpeechRecognizer?","body":"Good one. But how to set the record as an input for SpeechRecognizer?"}],"tags":[],"owner":{"account_id":26114434,"reputation":31,"user_id":19807807,"display_name":"Zain Khalid"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671205619,"creation_date":1671205619,"answer_id":74826729,"question_id":74826528,"body_markdown":"You can look out this blog\r\n\r\nhttps://twigstechtips.blogspot.com/2013/07/android-enable-noise-cancellation-in.html.\r\n\r\nUse MediaRecorder.AudioSource.VOICE_RECOGNITION instead of AudioSource.MIC, which will give you really good results and noise in the background will reduce very much.\r\n\r\nThe great thing about this solution is, it can be used with both AudioRecord and MediaRecorder class.\r\n\r\nHope it helps.","title":"Android, add noise cancelling to SpeechRecognizer","body":"<p>You can look out this blog</p>\n<p><a href=\"https://twigstechtips.blogspot.com/2013/07/android-enable-noise-cancellation-in.html\" rel=\"nofollow noreferrer\">https://twigstechtips.blogspot.com/2013/07/android-enable-noise-cancellation-in.html</a>.</p>\n<p>Use MediaRecorder.AudioSource.VOICE_RECOGNITION instead of AudioSource.MIC, which will give you really good results and noise in the background will reduce very much.</p>\n<p>The great thing about this solution is, it can be used with both AudioRecord and MediaRecorder class.</p>\n<p>Hope it helps.</p>\n"}],"owner":{"account_id":10654430,"reputation":69,"user_id":7844378,"display_name":"Amir Eleuch"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":403,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671205619,"creation_date":1671204587,"question_id":74826528,"body_markdown":"I&#39;m creating an Android app which based on vocal commands. The idea here is to apply a noise reduction filter to the mic before starting speech recognizer.\r\n\r\nIs that possible?\r\n\r\nThanks.\r\n","title":"Android, add noise cancelling to SpeechRecognizer","body":"<p>I'm creating an Android app which based on vocal commands. The idea here is to apply a noise reduction filter to the mic before starting speech recognizer.</p>\n<p>Is that possible?</p>\n<p>Thanks.</p>\n"},{"tags":["java","datetime","java-8","java-time"],"comments":[{"owner":{"account_id":228633,"reputation":3657,"user_id":491066,"accept_rate":38,"display_name":"paiego"},"score":0,"creation_date":1511906731,"post_id":35881681,"comment_id":82040589,"body_markdown":"You might want to change to &quot;yyyy-M-d&#39; to handle single digit months and days.","body":"You might want to change to &quot;yyyy-M-d&#39; to handle single digit months and days."}],"answers":[{"tags":[],"owner":{"account_id":159676,"reputation":88203,"user_id":379235,"accept_rate":62,"display_name":"daydreamer"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1457490185,"creation_date":1457490185,"answer_id":35881775,"question_id":35881681,"body_markdown":"The following worked for me\r\n\r\n    import java.time.*;\r\n    import java.time.format.*;\r\n    \r\n    public class Times {\r\n    \r\n      public static void main(String[] args) {\r\n        final String dateTime = &quot;2012-02-22T02:06:58.147Z&quot;;\r\n        DateTimeFormatter formatter = DateTimeFormatter.ISO_INSTANT;\r\n        final ZonedDateTime parsed = ZonedDateTime.parse(dateTime, formatter.withZone(ZoneId.of(&quot;UTC&quot;)));\r\n        System.out.println(parsed.toLocalDateTime());\r\n      }\r\n    }\r\n\r\nand gave me output as  \r\n\r\n    2012-02-22T02:06:58.147","title":"java.time.format.DateTimeParseException: Text could not be parsed at index 21","body":"<p>The following worked for me</p>\n\n<pre><code>import java.time.*;\nimport java.time.format.*;\n\npublic class Times {\n\n  public static void main(String[] args) {\n    final String dateTime = \"2012-02-22T02:06:58.147Z\";\n    DateTimeFormatter formatter = DateTimeFormatter.ISO_INSTANT;\n    final ZonedDateTime parsed = ZonedDateTime.parse(dateTime, formatter.withZone(ZoneId.of(\"UTC\")));\n    System.out.println(parsed.toLocalDateTime());\n  }\n}\n</code></pre>\n\n<p>and gave me output as  </p>\n\n<pre><code>2012-02-22T02:06:58.147\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2906108,"reputation":42988,"user_id":2491410,"accept_rate":100,"display_name":"Meno Hochschild"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1457493225,"creation_date":1457490378,"answer_id":35881797,"question_id":35881681,"body_markdown":"Your original problem was wrong pattern symbol &quot;h&quot; which stands for the clock hour (range 1-12). In this case, the am-pm-information is missing. Better, use [the pattern symbol &quot;H&quot;][1] instead (hour of day in range 0-23). So the pattern should rather have been like:\r\n\r\nuuuu-MM-dd&#39;T&#39;HH:mm:ss.SSSX (best pattern also suitable for strict mode)\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html","title":"java.time.format.DateTimeParseException: Text could not be parsed at index 21","body":"<p>Your original problem was wrong pattern symbol \"h\" which stands for the clock hour (range 1-12). In this case, the am-pm-information is missing. Better, use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow\">the pattern symbol \"H\"</a> instead (hour of day in range 0-23). So the pattern should rather have been like:</p>\n\n<p>uuuu-MM-dd'T'HH:mm:ss.SSSX (best pattern also suitable for strict mode)</p>\n"},{"comments":[{"owner":{"account_id":2906108,"reputation":42988,"user_id":2491410,"accept_rate":100,"display_name":"Meno Hochschild"},"score":0,"creation_date":1457493630,"post_id":35881898,"comment_id":59427463,"body_markdown":"Good observation regarding strict or lenient mode! I had originally assumed lenient mode in my answer. For information: Pattern with only one S-symbol instead of &quot;.SSS&quot; is okay in lenient mode.","body":"Good observation regarding strict or lenient mode! I had originally assumed lenient mode in my answer. For information: Pattern with only one S-symbol instead of &quot;.SSS&quot; is okay in lenient mode."},{"owner":{"account_id":267345,"reputation":2131,"user_id":555467,"accept_rate":50,"display_name":"UserBSS1"},"score":0,"creation_date":1622736856,"post_id":35881898,"comment_id":119883731,"body_markdown":"Saved by &quot;format &quot;+01:00&quot; or &quot;+01:00:00&quot; (when not &quot;Z&quot;), then you can use  DateTimeFormatter.ISO_OFFSET_DATE_TIME&quot;","body":"Saved by &quot;format &quot;+01:00&quot; or &quot;+01:00:00&quot; (when not &quot;Z&quot;), then you can use  DateTimeFormatter.ISO_OFFSET_DATE_TIME&quot;"}],"tags":[],"owner":{"account_id":6501856,"reputation":6516,"user_id":5032339,"display_name":"Roman"},"comment_count":2,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1457491594,"creation_date":1457491167,"answer_id":35881898,"question_id":35881681,"body_markdown":"If your input always has a time zone of &quot;zulu&quot; (&quot;Z&quot; = UTC), then you can use `DateTimeFormatter.ISO_INSTANT` (implicitly):\r\n\r\n    final Instant parsed = Instant.parse(dateTime);\r\n\r\nIf time zone varies and has the form of &quot;+01:00&quot; or &quot;+01:00:00&quot; (when not &quot;Z&quot;), then you can use `DateTimeFormatter.ISO_OFFSET_DATE_TIME`:\r\n\r\n\tDateTimeFormatter formatter = DateTimeFormatter.ISO_OFFSET_DATE_TIME;\r\n\tfinal ZonedDateTime parsed = ZonedDateTime.parse(dateTime, formatter);\r\n\r\nIf neither is the case, you can construct a `DateTimeFormatter` in the same manner as `DateTimeFormatter.ISO_OFFSET_DATE_TIME` is constructed.\r\n\r\n---\r\n\r\nYour current pattern has several problems:\r\n\r\n* not using strict mode (`ResolverStyle.STRICT`);\r\n* using `yyyy` instead of `uuuu` (`yyyy` will not work in strict mode);\r\n* using 12-hour `hh` instead of 24-hour `HH`;\r\n* using only one digit `S` for fractional seconds, but input has three.","title":"java.time.format.DateTimeParseException: Text could not be parsed at index 21","body":"<p>If your input always has a time zone of \"zulu\" (\"Z\" = UTC), then you can use <code>DateTimeFormatter.ISO_INSTANT</code> (implicitly):</p>\n\n<pre><code>final Instant parsed = Instant.parse(dateTime);\n</code></pre>\n\n<p>If time zone varies and has the form of \"+01:00\" or \"+01:00:00\" (when not \"Z\"), then you can use <code>DateTimeFormatter.ISO_OFFSET_DATE_TIME</code>:</p>\n\n<pre><code>DateTimeFormatter formatter = DateTimeFormatter.ISO_OFFSET_DATE_TIME;\nfinal ZonedDateTime parsed = ZonedDateTime.parse(dateTime, formatter);\n</code></pre>\n\n<p>If neither is the case, you can construct a <code>DateTimeFormatter</code> in the same manner as <code>DateTimeFormatter.ISO_OFFSET_DATE_TIME</code> is constructed.</p>\n\n<hr>\n\n<p>Your current pattern has several problems:</p>\n\n<ul>\n<li>not using strict mode (<code>ResolverStyle.STRICT</code>);</li>\n<li>using <code>yyyy</code> instead of <code>uuuu</code> (<code>yyyy</code> will not work in strict mode);</li>\n<li>using 12-hour <code>hh</code> instead of 24-hour <code>HH</code>;</li>\n<li>using only one digit <code>S</code> for fractional seconds, but input has three.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"comment_count":0,"down_vote_count":3,"up_vote_count":42,"is_accepted":true,"score":39,"last_activity_date":1457509529,"creation_date":1457509529,"answer_id":35885773,"question_id":35881681,"body_markdown":"The default parser can parse your input. So you don&#39;t need a custom formatter and\r\n\r\n    String dateTime = &quot;2012-02-22T02:06:58.147Z&quot;;\r\n    ZonedDateTime d = ZonedDateTime.parse(dateTime);\r\n\r\nworks as expected.","title":"java.time.format.DateTimeParseException: Text could not be parsed at index 21","body":"<p>The default parser can parse your input. So you don't need a custom formatter and</p>\n\n<pre><code>String dateTime = \"2012-02-22T02:06:58.147Z\";\nZonedDateTime d = ZonedDateTime.parse(dateTime);\n</code></pre>\n\n<p>works as expected.</p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671205575,"creation_date":1671205575,"answer_id":74826721,"question_id":35881681,"body_markdown":"`java.time` API is based on [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) and therefore you do not need a `DateTimeFormatter` to parse a date-time string which is already in ISO 8601 format (e.g. `2012-02-22T02:06:58.147Z`). \r\n\r\nWhat&#39;s wrong with your pattern?\r\n--\r\n\r\nThere are two problems with your pattern, `yyyy-MM-dd&#39;T&#39;hh:mm:ss.SX`:\r\n\r\n 1. It has `h` which is used for AM/PM time and therefore it is the wrong symbol for an hour in 24-hour format. The symbol for an hour in 24-hour format is `H`.\r\n 2. Your date-time string has a fraction of a second in milliseconds resolution but you have used only one `S`. To match the resolution of milliseconds, the pattern should be `SSS`.\r\n\r\n**Demo**:\r\n\r\n    class Main {\r\n        public static void main(String args[]) {\r\n            String strDateTime = &quot;2012-02-22T02:06:58.147Z&quot;;\r\n            System.out.println(Instant.parse(strDateTime));\r\n            System.out.println(ZonedDateTime.parse(strDateTime));\r\n            System.out.println(OffsetDateTime.parse(strDateTime));\r\n    \r\n            // Parsing with your pattern after correction\r\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSX&quot;);\r\n            System.out.println(ZonedDateTime.parse(strDateTime, formatter));\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    2012-02-22T02:06:58.147Z\r\n    2012-02-22T02:06:58.147Z\r\n    2012-02-22T02:06:58.147Z\r\n    2012-02-22T02:06:58.147Z\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.","title":"java.time.format.DateTimeParseException: Text could not be parsed at index 21","body":"<p><code>java.time</code> API is based on <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> and therefore you do not need a <code>DateTimeFormatter</code> to parse a date-time string which is already in ISO 8601 format (e.g. <code>2012-02-22T02:06:58.147Z</code>).</p>\n<h2>What's wrong with your pattern?</h2>\n<p>There are two problems with your pattern, <code>yyyy-MM-dd'T'hh:mm:ss.SX</code>:</p>\n<ol>\n<li>It has <code>h</code> which is used for AM/PM time and therefore it is the wrong symbol for an hour in 24-hour format. The symbol for an hour in 24-hour format is <code>H</code>.</li>\n<li>Your date-time string has a fraction of a second in milliseconds resolution but you have used only one <code>S</code>. To match the resolution of milliseconds, the pattern should be <code>SSS</code>.</li>\n</ol>\n<p><strong>Demo</strong>:</p>\n<pre><code>class Main {\n    public static void main(String args[]) {\n        String strDateTime = &quot;2012-02-22T02:06:58.147Z&quot;;\n        System.out.println(Instant.parse(strDateTime));\n        System.out.println(ZonedDateTime.parse(strDateTime));\n        System.out.println(OffsetDateTime.parse(strDateTime));\n\n        // Parsing with your pattern after correction\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss.SSSX&quot;);\n        System.out.println(ZonedDateTime.parse(strDateTime, formatter));\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2012-02-22T02:06:58.147Z\n2012-02-22T02:06:58.147Z\n2012-02-22T02:06:58.147Z\n2012-02-22T02:06:58.147Z\n</code></pre>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":159676,"reputation":88203,"user_id":379235,"accept_rate":62,"display_name":"daydreamer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":212324,"favorite_count":0,"down_vote_count":0,"up_vote_count":45,"accepted_answer_id":35885773,"answer_count":5,"score":45,"last_activity_date":1671205575,"creation_date":1457489584,"question_id":35881681,"body_markdown":"I get the datetime value as  \r\n\r\n    created_at\t&#39;2012-02-22T02:06:58.147Z&#39;\r\n    Read-only. The time at which this task was created.\r\n\r\nWhich is given by Asana [API][1]\r\n\r\nI am using `Java 8` to parse the date time as following\r\n\r\n    import java.time.*;\r\n    import java.time.format.*;\r\n    \r\n    public class Times {\r\n    \r\n      public static void main(String[] args) {\r\n        final String dateTime = &quot;2012-02-22T02:06:58.147Z&quot;;\r\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;hh:mm:ss.SX&quot;);\r\n    \r\n    \r\n        final ZonedDateTime parsed = ZonedDateTime.parse(dateTime, formatter);\r\n        System.out.println(parsed);\r\n      }\r\n    }\r\nWhen I run this, I get the following error\r\n\r\n    Exception in thread &quot;main&quot; java.time.format.DateTimeParseException: Text &#39;2012-02-22T02:06:58.147Z&#39; could not be parsed at index 21\r\n    \tat java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:1947)\r\n    \tat java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1849)\r\n    \tat java.time.ZonedDateTime.parse(ZonedDateTime.java:597)\r\n    \tat Times.main(Times.java:11)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:497)\r\n    \tat com.intellij.rt.execution.application.AppMain.main(AppMain.java:140)\r\n\r\nWhat is not right here?\r\n\r\n\r\n  [1]: https://asana.com/developers/api-reference/tasks","title":"java.time.format.DateTimeParseException: Text could not be parsed at index 21","body":"<p>I get the datetime value as  </p>\n\n<pre><code>created_at  '2012-02-22T02:06:58.147Z'\nRead-only. The time at which this task was created.\n</code></pre>\n\n<p>Which is given by Asana <a href=\"https://asana.com/developers/api-reference/tasks\" rel=\"noreferrer\">API</a></p>\n\n<p>I am using <code>Java 8</code> to parse the date time as following</p>\n\n<pre><code>import java.time.*;\nimport java.time.format.*;\n\npublic class Times {\n\n  public static void main(String[] args) {\n    final String dateTime = \"2012-02-22T02:06:58.147Z\";\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(\"yyyy-MM-dd'T'hh:mm:ss.SX\");\n\n\n    final ZonedDateTime parsed = ZonedDateTime.parse(dateTime, formatter);\n    System.out.println(parsed);\n  }\n}\n</code></pre>\n\n<p>When I run this, I get the following error</p>\n\n<pre><code>Exception in thread \"main\" java.time.format.DateTimeParseException: Text '2012-02-22T02:06:58.147Z' could not be parsed at index 21\n    at java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:1947)\n    at java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1849)\n    at java.time.ZonedDateTime.parse(ZonedDateTime.java:597)\n    at Times.main(Times.java:11)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:497)\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:140)\n</code></pre>\n\n<p>What is not right here?</p>\n"},{"tags":["java","protocol-buffers","protobuf-java"],"answers":[{"tags":[],"owner":{"account_id":81168,"reputation":234365,"user_id":229044,"accept_rate":83,"display_name":"user229044"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671205523,"creation_date":1671205523,"answer_id":74826708,"question_id":74826673,"body_markdown":"Just use an `if` to conditionally call `setName` only if you have a name to set, rather than always calling `setName` even when there is no argument to give it:\r\n\r\n    A a = A.newBuilder().setId(B.getId())\r\n\r\n    if (b.hasC()) {\r\n      a = a.setName(b.getC());\r\n    }\r\n\r\n    return a.build();\r\n","title":"Conditionally set a field of a Protobuf message","body":"<p>Just use an <code>if</code> to conditionally call <code>setName</code> only if you have a name to set, rather than always calling <code>setName</code> even when there is no argument to give it:</p>\n<pre><code>A a = A.newBuilder().setId(B.getId())\n\nif (b.hasC()) {\n  a = a.setName(b.getC());\n}\n\nreturn a.build();\n</code></pre>\n"}],"owner":{"account_id":16924914,"reputation":63,"user_id":12240772,"display_name":"tigoa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":555,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671205523,"creation_date":1671205338,"question_id":74826673,"body_markdown":"I am creating a converter method between two protobuf messages A and B:\r\n\r\n```\r\nmessage A {\r\n optional int64 id = 1;\r\n optional string name = 2;\r\n}\r\n \r\nmessage B {\r\n optional int64 id = 1;\r\n optional C c= 2;\r\n}\r\n\r\nmessage C {\r\n optional string name = 1; \r\n}\r\n```\r\n\r\nMy code is the following:\r\n```\r\n    private A convertFromBToA(B b) {\r\n        return A.newBuilder()\r\n                .setId(B.getId())\r\n                .setName(b.hasC() ? b.getC().getName() : null).build();\r\n    }\r\n```\r\nEssentially, I only want to set the name field of message A if B&#39;s C field has a name field. Otherwise I want to leave A&#39;s name field unset. Is this the correct way to do so?","title":"Conditionally set a field of a Protobuf message","body":"<p>I am creating a converter method between two protobuf messages A and B:</p>\n<pre><code>message A {\n optional int64 id = 1;\n optional string name = 2;\n}\n \nmessage B {\n optional int64 id = 1;\n optional C c= 2;\n}\n\nmessage C {\n optional string name = 1; \n}\n</code></pre>\n<p>My code is the following:</p>\n<pre><code>    private A convertFromBToA(B b) {\n        return A.newBuilder()\n                .setId(B.getId())\n                .setName(b.hasC() ? b.getC().getName() : null).build();\n    }\n</code></pre>\n<p>Essentially, I only want to set the name field of message A if B's C field has a name field. Otherwise I want to leave A's name field unset. Is this the correct way to do so?</p>\n"},{"tags":["java","json","list","arraylist"],"answers":[{"tags":[],"owner":{"account_id":1281287,"reputation":4633,"user_id":1235336,"accept_rate":100,"display_name":"Alex Stybaev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1338285830,"creation_date":1338285830,"answer_id":10796950,"question_id":10796881,"body_markdown":"try gson: [Serializing-and-Deserializing-Generic-Types][1]\r\n\r\n\r\n  [1]: http://sites.google.com/site/gson/gson-user-guide#TOC-Serializing-and-Deserializing-Generic-Types","title":"How to Create JSONArray for a List&lt;Class name&gt;","body":"<p>try gson: <a href=\"http://sites.google.com/site/gson/gson-user-guide#TOC-Serializing-and-Deserializing-Generic-Types\" rel=\"nofollow\">Serializing-and-Deserializing-Generic-Types</a></p>\n"},{"tags":[],"owner":{"account_id":239282,"reputation":1674,"user_id":508760,"accept_rate":69,"display_name":"W. Goeman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1338285835,"creation_date":1338285835,"answer_id":10796953,"question_id":10796881,"body_markdown":"json-lib is likely the library you are looking for. you can find som examples of usage [here][1].\r\n\r\n\r\n  [1]: http://json-lib.sourceforge.net/usage.html","title":"How to Create JSONArray for a List&lt;Class name&gt;","body":"<p>json-lib is likely the library you are looking for. you can find som examples of usage <a href=\"http://json-lib.sourceforge.net/usage.html\" rel=\"nofollow\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":1458820,"reputation":7821,"user_id":1373711,"accept_rate":83,"display_name":"JHS"},"comment_count":0,"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1448306688,"creation_date":1338286155,"answer_id":10797047,"question_id":10796881,"body_markdown":"You will have to include the `jettison` jar in you project and import the required classes.\r\n\r\n    JSONObject jObject = new JSONObject();\r\n\ttry\r\n    {\r\n        JSONArray jArray = new JSONArray();\r\n\t    for (Student student : sudentList)\r\n        {\r\n\t         JSONObject studentJSON = new JSONObject();\r\n\t         studentJSON.put(&quot;name&quot;, student.getName());\r\n             studentJSON.put(&quot;age&quot;, student.getAge());\r\n\t         jArray.put(studentJSON);\r\n        }\r\n\t    jObject.put(&quot;StudentList&quot;, jArray);\r\n\t} catch (JSONException jse) {\r\n\t    jse.printStacktrace();\r\n\t}","title":"How to Create JSONArray for a List&lt;Class name&gt;","body":"<p>You will have to include the <code>jettison</code> jar in you project and import the required classes.</p>\n\n<pre><code>JSONObject jObject = new JSONObject();\ntry\n{\n    JSONArray jArray = new JSONArray();\n    for (Student student : sudentList)\n    {\n         JSONObject studentJSON = new JSONObject();\n         studentJSON.put(\"name\", student.getName());\n         studentJSON.put(\"age\", student.getAge());\n         jArray.put(studentJSON);\n    }\n    jObject.put(\"StudentList\", jArray);\n} catch (JSONException jse) {\n    jse.printStacktrace();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2033668,"reputation":3140,"user_id":1816603,"accept_rate":57,"display_name":"Jose G&#243;mez"},"score":5,"creation_date":1592691711,"post_id":10798055,"comment_id":110517384,"body_markdown":"Would you care to elaborate what @Juniad answer is? It is not present as of now.","body":"Would you care to elaborate what @Juniad answer is? It is not present as of now."}],"tags":[],"owner":{"account_id":552637,"reputation":334,"user_id":917819,"accept_rate":25,"display_name":"Mohan Kumar"},"comment_count":1,"down_vote_count":2,"up_vote_count":6,"is_accepted":true,"score":4,"last_activity_date":1477181007,"creation_date":1338290187,"answer_id":10798055,"question_id":10796881,"body_markdown":"I think you need not download the jettison jar file. \r\n\r\nUsing `JSONArray` and `JSONObject` you can easily convert that list into JSON object like @Juniad answer","title":"How to Create JSONArray for a List&lt;Class name&gt;","body":"<p>I think you need not download the jettison jar file. </p>\n\n<p>Using <code>JSONArray</code> and <code>JSONObject</code> you can easily convert that list into JSON object like @Juniad answer</p>\n"},{"tags":[],"owner":{"account_id":1284185,"reputation":3821,"user_id":1237610,"accept_rate":25,"display_name":"kundan bora"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1338291895,"creation_date":1338291895,"answer_id":10798476,"question_id":10796881,"body_markdown":"When you want to map Object to json directly or want to convert json to object, you can use GSON library . this will give you more flexibility and control.\r\n\r\n \r\nDownload link - http://code.google.com/p/google-gson/\r\n\r\nTutorial link - http://www.mkyong.com/java/how-do-convert-java-object-to-from-json-format-gson-api/","title":"How to Create JSONArray for a List&lt;Class name&gt;","body":"<p>When you want to map Object to json directly or want to convert json to object, you can use GSON library . this will give you more flexibility and control.</p>\n\n<p>Download link - <a href=\"http://code.google.com/p/google-gson/\" rel=\"nofollow\">http://code.google.com/p/google-gson/</a></p>\n\n<p>Tutorial link - <a href=\"http://www.mkyong.com/java/how-do-convert-java-object-to-from-json-format-gson-api/\" rel=\"nofollow\">http://www.mkyong.com/java/how-do-convert-java-object-to-from-json-format-gson-api/</a></p>\n"},{"tags":[],"owner":{"account_id":2031219,"reputation":2191,"user_id":1814867,"accept_rate":50,"display_name":"Mandar Pandit"},"comment_count":0,"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1448303716,"creation_date":1448303716,"answer_id":33878132,"question_id":10796881,"body_markdown":"Using `Gson` Library it will be very simple.\r\n\r\nFrom JSON String to ArrayList of Object as:\r\n\r\n    Type listType = \r\n         new TypeToken&lt;ArrayList&lt;Student&gt;&gt;(){}.getType();\r\n    ArrayList&lt;Student&gt; yourClassList = new Gson().fromJson(jsonArray, listType);\r\n\r\nAnd to Json from Array List of Object as:\r\n\r\n    ArrayList&lt;Student&gt; sampleList = new ArrayList&lt;Student&gt;();\r\n    String json = new Gson().toJson(sampleList);\r\n\r\nThe Gson Library is more simple to use than `JSONObject` and `JSONArray` implementation.","title":"How to Create JSONArray for a List&lt;Class name&gt;","body":"<p>Using <code>Gson</code> Library it will be very simple.</p>\n\n<p>From JSON String to ArrayList of Object as:</p>\n\n<pre><code>Type listType = \n     new TypeToken&lt;ArrayList&lt;Student&gt;&gt;(){}.getType();\nArrayList&lt;Student&gt; yourClassList = new Gson().fromJson(jsonArray, listType);\n</code></pre>\n\n<p>And to Json from Array List of Object as:</p>\n\n<pre><code>ArrayList&lt;Student&gt; sampleList = new ArrayList&lt;Student&gt;();\nString json = new Gson().toJson(sampleList);\n</code></pre>\n\n<p>The Gson Library is more simple to use than <code>JSONObject</code> and <code>JSONArray</code> implementation.</p>\n"},{"comments":[{"owner":{"account_id":4255943,"reputation":398,"user_id":3481644,"accept_rate":50,"display_name":"user3481644"},"score":3,"creation_date":1641946404,"post_id":55217261,"comment_id":124940072,"body_markdown":"If only that worked. I got a JSONArray full of nulls.","body":"If only that worked. I got a JSONArray full of nulls."}],"tags":[],"owner":{"account_id":3622997,"reputation":590,"user_id":3021287,"display_name":"vitralyoz"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1552897811,"creation_date":1552897811,"answer_id":55217261,"question_id":10796881,"body_markdown":"Create JSONArray like below. \r\n\r\n`JSONArray jsArray = new JSONArray(arrayList);`  ","title":"How to Create JSONArray for a List&lt;Class name&gt;","body":"<p>Create JSONArray like below. </p>\n\n<p><code>JSONArray jsArray = new JSONArray(arrayList);</code>  </p>\n"},{"tags":[],"owner":{"account_id":12037792,"reputation":1783,"user_id":8805742,"display_name":"mahfuj asif"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646559910,"creation_date":1646559910,"answer_id":71369169,"question_id":10796881,"body_markdown":"You can use `ObjectMapper` from &#39;com.fasterxml.jackson.core&#39; like this\r\n```\r\nList&lt;Student&gt; list = Arrays.asList(new Student(&quot;sam&quot;, &quot;12&quot;), new Student(&quot;sri&quot;, &quot;5&quot;));\r\nObjectMapper objectMapper = new ObjectMapper();\r\nString listAsString = objectMapper.writeValueAsString(list));\r\n```","title":"How to Create JSONArray for a List&lt;Class name&gt;","body":"<p>You can use <code>ObjectMapper</code> from 'com.fasterxml.jackson.core' like this</p>\n<pre><code>List&lt;Student&gt; list = Arrays.asList(new Student(&quot;sam&quot;, &quot;12&quot;), new Student(&quot;sri&quot;, &quot;5&quot;));\nObjectMapper objectMapper = new ObjectMapper();\nString listAsString = objectMapper.writeValueAsString(list));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6410870,"reputation":1742,"user_id":4970679,"display_name":"ahuemmer"},"score":0,"creation_date":1671270149,"post_id":74788680,"comment_id":132066598,"body_markdown":"Welcome to SO! Please don&#39;t post code-only answers but add a little textual explanation about how and why your approach works and what makes it different from the other answers given. You can find out more at our [&quot;How to write a good answer&quot;](https://stackoverflow.com/help/how-to-answer) page.","body":"Welcome to SO! Please don&#39;t post code-only answers but add a little textual explanation about how and why your approach works and what makes it different from the other answers given. You can find out more at our <a href=\"https://stackoverflow.com/help/how-to-answer\">&quot;How to write a good answer&quot;</a> page."}],"tags":[],"owner":{"account_id":6372489,"reputation":1,"user_id":4944508,"display_name":"tribhuwan kumar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671205507,"creation_date":1670952243,"answer_id":74788680,"question_id":10796881,"body_markdown":"    import org.json.simple.JSONArray;\r\n    import org.json.simple.JSONObject;\r\n    \r\n    public class Test {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tJSONObject json = new JSONObject();\r\n    \r\n    \t\tjson.put(&quot;userId&quot;,&quot;&quot;);\r\n    \t\t\t\r\n    \t\tJSONObject que1 = new JSONObject();\r\n    \t\tque1.put(&quot;questionId&quot;, &quot;&quot;);\r\n    \t\tque1.put(&quot;groupId&quot;, &quot;&quot;);\r\n    \t\tque1.put(&quot;answer&quot;, &quot;&quot;);\r\n    \t\tJSONObject que2 = new JSONObject();\r\n    \t\tque2.put(&quot;questionId&quot;, &quot;&quot;);\r\n    \t\tque2.put(&quot;groupId&quot;, &quot;&quot;);\r\n    \t\tque2.put(&quot;answer&quot;, &quot;&quot;);\r\n    \t\tJSONObject que3 = new JSONObject();\r\n    \t\tque3.put(&quot;questionId&quot;, &quot;&quot;);\r\n    \t\tque3.put(&quot;groupId&quot;, &quot;&quot;);\r\n    \t\tque3.put(&quot;answer&quot;, &quot;&quot;);\r\n    \t\t\r\n    \t\tJSONArray jsonArray =new JSONArray();\r\n    \t\tjsonArray.add(que1);\r\n    \t\tjsonArray.add(que2);\r\n    \t\tjsonArray.add(que3);\r\n    \t\t\r\n    \t\tjson.put(&quot;answers&quot;, jsonArray);\r\n    \r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Answer request : &quot;+json.toString());\r\n    \t\t\r\n    \t\t\r\n    \r\n    \t}\r\n    \r\n    \r\n    }\r\n\r\n","title":"How to Create JSONArray for a List&lt;Class name&gt;","body":"<pre><code>import org.json.simple.JSONArray;\nimport org.json.simple.JSONObject;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        JSONObject json = new JSONObject();\n\n        json.put(&quot;userId&quot;,&quot;&quot;);\n            \n        JSONObject que1 = new JSONObject();\n        que1.put(&quot;questionId&quot;, &quot;&quot;);\n        que1.put(&quot;groupId&quot;, &quot;&quot;);\n        que1.put(&quot;answer&quot;, &quot;&quot;);\n        JSONObject que2 = new JSONObject();\n        que2.put(&quot;questionId&quot;, &quot;&quot;);\n        que2.put(&quot;groupId&quot;, &quot;&quot;);\n        que2.put(&quot;answer&quot;, &quot;&quot;);\n        JSONObject que3 = new JSONObject();\n        que3.put(&quot;questionId&quot;, &quot;&quot;);\n        que3.put(&quot;groupId&quot;, &quot;&quot;);\n        que3.put(&quot;answer&quot;, &quot;&quot;);\n        \n        JSONArray jsonArray =new JSONArray();\n        jsonArray.add(que1);\n        jsonArray.add(que2);\n        jsonArray.add(que3);\n        \n        json.put(&quot;answers&quot;, jsonArray);\n\n        \n        System.out.println(&quot;Answer request : &quot;+json.toString());\n        \n        \n\n    }\n\n\n}\n</code></pre>\n"}],"owner":{"account_id":1099549,"reputation":568,"user_id":1092301,"accept_rate":83,"display_name":"Navamani Samuel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93927,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":10798055,"answer_count":9,"score":20,"last_activity_date":1671205507,"creation_date":1338285582,"question_id":10796881,"body_markdown":"I have a class called\r\n\r\n    class Student {\r\n       String name;\r\n       String age;\r\n    }\r\n\r\nI have a method that returns List object like \r\n\r\n    public List&lt;Student&gt; getList(){\r\n    \r\n     List&lt;Student&gt; li =new ArrayList();\r\n     ....\r\n    \r\n     li.add(new Student(&#39;aaa&#39;,&#39;12&#39;));\r\n     ... \r\n    \r\n     return li;    \r\n    }\r\n\r\nI need to convert that list into JSONArray like this\r\n\r\n    [{&quot;name&quot;:&quot;sam&quot;,&quot;age&quot;:&quot;12&quot;},{&quot;name&quot;:&quot;sri&quot;,&quot;age&quot;:&quot;5&quot;}]\r\n\r\nCan anyone help me to get this?","title":"How to Create JSONArray for a List&lt;Class name&gt;","body":"<p>I have a class called</p>\n<pre><code>class Student {\n   String name;\n   String age;\n}\n</code></pre>\n<p>I have a method that returns List object like</p>\n<pre><code>public List&lt;Student&gt; getList(){\n\n List&lt;Student&gt; li =new ArrayList();\n ....\n\n li.add(new Student('aaa','12'));\n ... \n\n return li;    \n}\n</code></pre>\n<p>I need to convert that list into JSONArray like this</p>\n<pre><code>[{&quot;name&quot;:&quot;sam&quot;,&quot;age&quot;:&quot;12&quot;},{&quot;name&quot;:&quot;sri&quot;,&quot;age&quot;:&quot;5&quot;}]\n</code></pre>\n<p>Can anyone help me to get this?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":78881,"reputation":154,"user_id":224155,"display_name":"Arturas Gusevas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671205409,"creation_date":1671205409,"answer_id":74826691,"question_id":74826490,"body_markdown":"You can take a look at the [JobRunr][1] and [Quartz Scheduler][2] libs. \r\n\r\nAlternatively you could just use [Spring Scheduler][3] and check manually, if there new/unfinished jobs. \r\n\r\n\r\n  [1]: https://www.jobrunr.io/en/\r\n  [2]: https://www.quartz-scheduler.org/\r\n  [3]: https://reflectoring.io/spring-scheduler/","title":"Java retry logic after migration or application restart","body":"<p>You can take a look at the <a href=\"https://www.jobrunr.io/en/\" rel=\"nofollow noreferrer\">JobRunr</a> and <a href=\"https://www.quartz-scheduler.org/\" rel=\"nofollow noreferrer\">Quartz Scheduler</a> libs.</p>\n<p>Alternatively you could just use <a href=\"https://reflectoring.io/spring-scheduler/\" rel=\"nofollow noreferrer\">Spring Scheduler</a> and check manually, if there new/unfinished jobs.</p>\n"}],"owner":{"account_id":11149486,"reputation":69,"user_id":8183198,"accept_rate":50,"display_name":"Warszawski Koks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74826691,"answer_count":1,"score":0,"last_activity_date":1671205409,"creation_date":1671204409,"question_id":74826490,"body_markdown":"I am looking for a library that can retry faied jobs after server restart. For example my API expose endpoint that allow end user to upload photo and then I need asynchronusly upload this photo to third part API. \r\n\r\nSpring Retry seemed a perfect option for me, but I can&#39;t be sure the faild job will resume after application restart. I tried to implement RetryContextCache that stores serialized objects in the database, but it does not work. \r\n\r\nIf there is any production ready library or any other way I can achive this? ","title":"Java retry logic after migration or application restart","body":"<p>I am looking for a library that can retry faied jobs after server restart. For example my API expose endpoint that allow end user to upload photo and then I need asynchronusly upload this photo to third part API.</p>\n<p>Spring Retry seemed a perfect option for me, but I can't be sure the faild job will resume after application restart. I tried to implement RetryContextCache that stores serialized objects in the database, but it does not work.</p>\n<p>If there is any production ready library or any other way I can achive this?</p>\n"},{"tags":["java","image"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":1,"creation_date":1671203457,"post_id":74826240,"comment_id":132055177,"body_markdown":"Maybe this? https://docs.oracle.com/javase/8/docs/api/java/awt/Toolkit.html#getScreenResolution--","body":"Maybe this? <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/Toolkit.html#getScreenResolution--\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/awt/&hellip;</a>"},{"owner":{"account_id":464548,"reputation":11,"user_id":4638046,"display_name":"Sergio"},"score":0,"creation_date":1671203918,"post_id":74826240,"comment_id":132055322,"body_markdown":"The code in the server is run by a backend process, without any user interaction (basically, we use a file listener and process the pdf to output the images). Can you elaborate on how using this method can help me out?","body":"The code in the server is run by a backend process, without any user interaction (basically, we use a file listener and process the pdf to output the images). Can you elaborate on how using this method can help me out?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1671204344,"post_id":74826240,"comment_id":132055494,"body_markdown":"Isn&#39;t `outputImage` already in the right size right after being returned from `renderImageWithDPI(...)`? Why are you drawing the image into itself?","body":"Isn&#39;t <code>outputImage</code> already in the right size right after being returned from <code>renderImageWithDPI(...)</code>? Why are you drawing the image into itself?"},{"owner":{"account_id":464548,"reputation":11,"user_id":4638046,"display_name":"Sergio"},"score":0,"creation_date":1671205275,"post_id":74826240,"comment_id":132055790,"body_markdown":"@K J   when I try using DPI = 186, on my machine it is rendering as 957x1370. As for the 299 dpi, I used an online tool to calculate the dpi from the pixel width and height with an 8in page size and then adjusted it through empirical testing.","body":"@K J   when I try using DPI = 186, on my machine it is rendering as 957x1370. As for the 299 dpi, I used an online tool to calculate the dpi from the pixel width and height with an 8in page size and then adjusted it through empirical testing."},{"owner":{"account_id":464548,"reputation":11,"user_id":4638046,"display_name":"Sergio"},"score":0,"creation_date":1671205302,"post_id":74826240,"comment_id":132055800,"body_markdown":"@matt, I have already removed that from my code. updated the code in the question as well","body":"@matt, I have already removed that from my code. updated the code in the question as well"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1671205798,"post_id":74826240,"comment_id":132055978,"body_markdown":"You could, create the size of BufferedImage you want. Then render the pdf to create a BufferedImage and then draw that to the BufferedImage you created. That way you know it will be the correct size. Right now it looks like the &quot;problem&quot; is solely with PDFRenderer, I would expect that rendering the pdf at a specified DPI should always produce the same size image.","body":"You could, create the size of BufferedImage you want. Then render the pdf to create a BufferedImage and then draw that to the BufferedImage you created. That way you know it will be the correct size. Right now it looks like the &quot;problem&quot; is solely with PDFRenderer, I would expect that rendering the pdf at a specified DPI should always produce the same size image."},{"owner":{"account_id":464548,"reputation":11,"user_id":4638046,"display_name":"Sergio"},"score":0,"creation_date":1671211542,"post_id":74826240,"comment_id":132057816,"body_markdown":"@K J, I used float at the renderImageWithDPI takes a float dpi as a parameter and to do a fine tuning to reach the value we wanted. with it I got from 299 -&gt; 1537 pixels to 299.3 -&gt; 1540.","body":"@K J, I used float at the renderImageWithDPI takes a float dpi as a parameter and to do a fine tuning to reach the value we wanted. with it I got from 299 -&gt; 1537 pixels to 299.3 -&gt; 1540."}],"owner":{"account_id":464548,"reputation":11,"user_id":4638046,"display_name":"Sergio"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671205352,"creation_date":1671203196,"question_id":74826240,"body_markdown":"I have a requirement for generating images from the pages of pdf files so it can be processed by a legacy application that will send them to a very specific printer. \r\n\r\nI have written some code to convert the pages in the ***.pdf*** file to ***.png*** files using a mix of pdfbox and awt. Below is the code adapted for publishing here:\r\n\r\n\r\n```\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport javax.imageio.ImageIO;\r\n\r\nimport java.awt.image.BufferedImage;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.RenderingHints;\r\n\r\nimport org.apache.pdfbox.pdmodel.PDDocument;\r\nimport org.apache.pdfbox.rendering.ImageType;\r\nimport org.apache.pdfbox.rendering.PDFRenderer;\r\n\r\n\r\npublic class ImageConverter {\r\n\r\n\tpublic static void main(String[] args) throws IOException {\t\t\r\n\t\tString pdfFilePath = &quot;input_folder&quot;;\r\n\t\tString imageFilePath = &quot;output_folder&quot;;\t\r\n\t\tint width = 1540;\r\n\t\tint height = 2200;\r\n\t\tfloat dpi = (float) 299.3;\r\n\t\tPDDocument document = PDDocument.load(new File(pdfFilePath));\t\t\r\n\t\tconvertPdftoPng(document, imageFilePath, width, height, dpi);\t\r\n\t}\r\n\r\n\tprivate static void convertPdftoPng(PDDocument document, String imageFilePath, int width, int height, float dpi)\r\n\t\t\tthrows IOException {\t\t\r\n\t\tPDFRenderer pdfRenderer = new PDFRenderer(document);\r\n\t\t\r\n\t\tfor (int page = 0; page &lt; document.getNumberOfPages(); page++)\r\n\t\t{ \r\n\t\t    BufferedImage outputImage = pdfRenderer.renderImageWithDPI(page, dpi, ImageType.RGB);\r\n\t\t    ImageIO.write(outputImage, &quot;png&quot;, new java.io.File(imageFilePath + &quot;00&quot; + (page + 1) + &quot;.png&quot;));\r\n\t\t}\r\n\t\tdocument.close();\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nNow, while testing the code, I found an odd behaviour, where depending on the environment the code runs, the output file has a different resolution (x and y pixels), based on the DPI. \r\n\r\nWhen running on my windows machine, with DPI 299.3, the output is 1540 x 2204, which is close to the intended result, whilst to achieve a similar resolution in our KaaS environment, DPI needs to be 186, to achieve a resolution of 1537x 2197.\r\n\r\nNow, on my machine, I&#39;m running this with eclipse bundled JVM (Java 19), and the project is configured to run on Java 11. \r\n\r\nOn the server, which is running inside a Kubernetes pod with tomcat, where we&#39;re running the code for testing purposes, the JVM is running Java 11 (OpenJDK).\r\n\r\nedit. Additionally, this code is to be run on the backend. There is a file listener for the input_folder, that will start the pdf processing (as soon as another system uploads the file through sftp) and output the images. There is no user interaction for this.\r\n\r\nAny suggestions on what might be causing the difference on the resolution and how I can address it?","title":"Why is Graphics2D drrawing diferrent sized images with the same code in different environments","body":"<p>I have a requirement for generating images from the pages of pdf files so it can be processed by a legacy application that will send them to a very specific printer.</p>\n<p>I have written some code to convert the pages in the <em><strong>.pdf</strong></em> file to <em><strong>.png</strong></em> files using a mix of pdfbox and awt. Below is the code adapted for publishing here:</p>\n<pre><code>import java.io.File;\nimport java.io.IOException;\nimport javax.imageio.ImageIO;\n\nimport java.awt.image.BufferedImage;\nimport java.awt.Graphics2D;\nimport java.awt.RenderingHints;\n\nimport org.apache.pdfbox.pdmodel.PDDocument;\nimport org.apache.pdfbox.rendering.ImageType;\nimport org.apache.pdfbox.rendering.PDFRenderer;\n\n\npublic class ImageConverter {\n\n    public static void main(String[] args) throws IOException {     \n        String pdfFilePath = &quot;input_folder&quot;;\n        String imageFilePath = &quot;output_folder&quot;; \n        int width = 1540;\n        int height = 2200;\n        float dpi = (float) 299.3;\n        PDDocument document = PDDocument.load(new File(pdfFilePath));       \n        convertPdftoPng(document, imageFilePath, width, height, dpi);   \n    }\n\n    private static void convertPdftoPng(PDDocument document, String imageFilePath, int width, int height, float dpi)\n            throws IOException {        \n        PDFRenderer pdfRenderer = new PDFRenderer(document);\n        \n        for (int page = 0; page &lt; document.getNumberOfPages(); page++)\n        { \n            BufferedImage outputImage = pdfRenderer.renderImageWithDPI(page, dpi, ImageType.RGB);\n            ImageIO.write(outputImage, &quot;png&quot;, new java.io.File(imageFilePath + &quot;00&quot; + (page + 1) + &quot;.png&quot;));\n        }\n        document.close();\n    }\n}\n\n</code></pre>\n<p>Now, while testing the code, I found an odd behaviour, where depending on the environment the code runs, the output file has a different resolution (x and y pixels), based on the DPI.</p>\n<p>When running on my windows machine, with DPI 299.3, the output is 1540 x 2204, which is close to the intended result, whilst to achieve a similar resolution in our KaaS environment, DPI needs to be 186, to achieve a resolution of 1537x 2197.</p>\n<p>Now, on my machine, I'm running this with eclipse bundled JVM (Java 19), and the project is configured to run on Java 11.</p>\n<p>On the server, which is running inside a Kubernetes pod with tomcat, where we're running the code for testing purposes, the JVM is running Java 11 (OpenJDK).</p>\n<p>edit. Additionally, this code is to be run on the backend. There is a file listener for the input_folder, that will start the pdf processing (as soon as another system uploads the file through sftp) and output the images. There is no user interaction for this.</p>\n<p>Any suggestions on what might be causing the difference on the resolution and how I can address it?</p>\n"},{"tags":["java","security","cryptography","rsa"],"comments":[{"owner":{"account_id":36137,"reputation":178799,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1671190629,"post_id":74823885,"comment_id":132050802,"body_markdown":"How would a decryption program know you used the wrong key?  It will happily accept any key you provide it.","body":"How would a decryption program know you used the wrong key?  It will happily accept any key you provide it."},{"owner":{"account_id":25614961,"reputation":3,"user_id":19387708,"display_name":"John Smith"},"score":0,"creation_date":1671190824,"post_id":74823885,"comment_id":132050859,"body_markdown":"@RobertHarvey:But why did it produced the correct answer? As you can see, it printed &quot;uwu&quot; correctly.","body":"@RobertHarvey:But why did it produced the correct answer? As you can see, it printed &quot;uwu&quot; correctly."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1671190950,"post_id":74823885,"comment_id":132050908,"body_markdown":"Encrypting with the private key will work, because that is what is also done when you sign something with your private key. The normal direction is encrypt with public, decrypt with private, but the other direction works just as well (but is generally the wrong choice if you want to keep the data private), but it is a method which can be used so recipients know that the encryption was performed by the owner of the private key (hence why it is generally used for signing).","body":"Encrypting with the private key will work, because that is what is also done when you sign something with your private key. The normal direction is encrypt with public, decrypt with private, but the other direction works just as well (but is generally the wrong choice if you want to keep the data private), but it is a method which can be used so recipients know that the encryption was performed by the owner of the private key (hence why it is generally used for signing)."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1671191116,"post_id":74823885,"comment_id":132050971,"body_markdown":"In other words, the fact this works is correct and entirely expected for asymmetrical cryptography systems like RSA.","body":"In other words, the fact this works is correct and entirely expected for asymmetrical cryptography systems like RSA."}],"answers":[{"tags":[],"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671205045,"creation_date":1671204686,"answer_id":74826552,"question_id":74823885,"body_markdown":"Trying to *encrypt* data using RSA with a private key doesn&#39;t make sense. However, instead of throwing an exception when trying to do so, the `Cipher` class does something a little different. It assumes that you want to perform a signature operation and that you are supplying just the *payload* portion of the signature. It will then apply the PKCS1 padding string directly to your data, in this case the padding is 0x00 0x01 followed by as many 0xff 0xff ... 0xff 0x00 bytes as needed to fill out the length of the RSA block (128 bytes in this case) apply the exponentiation primitive with the private exponent.\r\nThus the padded contents look like this in hex:\r\n```\r\n0001ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00757775\r\n```\r\nProper PKCS1 signing requires that the data is hashed and then encapsulated into a DigestInfo ASN.1 structure, but Cipher doesn&#39;t do that. The Signature class will do that however.\r\n\r\nThe result can only be verified (or &quot;decrypted&quot;) with the correct public key. You can&#39;t get the plaintext unless you have the public key.","title":"Decrypt with public key?","body":"<p>Trying to <em>encrypt</em> data using RSA with a private key doesn't make sense. However, instead of throwing an exception when trying to do so, the <code>Cipher</code> class does something a little different. It assumes that you want to perform a signature operation and that you are supplying just the <em>payload</em> portion of the signature. It will then apply the PKCS1 padding string directly to your data, in this case the padding is 0x00 0x01 followed by as many 0xff 0xff ... 0xff 0x00 bytes as needed to fill out the length of the RSA block (128 bytes in this case) apply the exponentiation primitive with the private exponent.\nThus the padded contents look like this in hex:</p>\n<pre><code>0001ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00757775\n</code></pre>\n<p>Proper PKCS1 signing requires that the data is hashed and then encapsulated into a DigestInfo ASN.1 structure, but Cipher doesn't do that. The Signature class will do that however.</p>\n<p>The result can only be verified (or &quot;decrypted&quot;) with the correct public key. You can't get the plaintext unless you have the public key.</p>\n"}],"owner":{"account_id":25614961,"reputation":3,"user_id":19387708,"display_name":"John Smith"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74826552,"answer_count":1,"score":0,"last_activity_date":1671205045,"creation_date":1671190406,"question_id":74823885,"body_markdown":"I&#39;ve made a mistake when I was writing a promgram in Java.\r\n\r\n```\r\npackage cf.huzpsb.jnip.security;\r\n\r\nimport java.security.KeyFactory;\r\nimport java.security.PrivateKey;\r\nimport java.security.PublicKey;\r\nimport java.security.spec.PKCS8EncodedKeySpec;\r\nimport java.security.spec.X509EncodedKeySpec;\r\nimport java.util.Base64;\r\n\r\npublic class Cipher {\r\n    private static final byte[] pub = Base64.getDecoder().decode(&quot;MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCUjb+/Ea3i9W53tASAu5OJ8vxf7+7oGberM5B6GIfu2uBMD0YfaQuGqInREop6kho7AHYd4oCq68fhQ4DbAtE+RSy9Us4sCMpvvE4luLWoR3iZQtii7hyIoDSeXGaNVu6L3xbjFji7kSDPpWubdCuD6dCVYD5kS2N07m74d5grOwIDAQAB&quot;);\r\n    private static final byte[] pri = Base64.getDecoder().decode(&quot;MIICdwIBADANBgkqhkiG9w0BAQEFAASCAmEwggJdAgEAAoGBAJSNv78RreL1bne0BIC7k4ny/F/v7ugZt6szkHoYh+7a4EwPRh9pC4aoidESinqSGjsAdh3igKrrx+FDgNsC0T5FLL1SziwIym+8TiW4tahHeJlC2KLuHIigNJ5cZo1W7ovfFuMWOLuRIM+la5t0K4Pp0JVgPmRLY3Tubvh3mCs7AgMBAAECgYAPimSs0GSogZR04Vg3P2hH3iuYvbj4fvg/6L0MiNRvoGYmjtJ/JrYV+Duyq4XhHLexxHKW3cMoHlJitnUcdEb/W5L0iOSXRN4W1WGBkGLv+FE3TbFT0ruxbLTdcK+cmiE6hWh2sO9xVXjIPxixuTrDvd7qyO0XyX0aNUU0/42FQQJBANwpKF6ZJRIHvF32RIfPjAxkTEY6Mq8IbxeuxsbN3IJ1aywK3bQdSxz0rd+b/gR/3CJhjp9OUGt0KqYm6emVJrcCQQCsvHu30wrK8qfjQmlVxYlwgVitb3u+pgRPO64neuucsbXPUEYnB/Ae9Y1QrdRUBWInhWfXpRK7m4LzK0udJvudAkEArWU9BkRXjfvJv7dWAiDUjG3yJN1xTam21VAx/iHkqlsQLX/hXRo1LnkG+DZDugd5uRpc2ds0O20iqfm8ANwXwQJBAIVagdy5lfR1/zzIkY+BEAkGIpLKpWrauir9NQcPs4PmAilJnM8XJr6P7YgimvA+s7c1G6T0sJCbjy3x988cQFUCQBnPIMFNyfz+t9Cg+gA42ivbKQC9OnIpTD0Jsm8gyvh1C15Pkb4I0WYOQuh66AWHwrlqlkF6IdUVyM8JlNArI/M=&quot;);\r\n\r\n    public static String encrypt(String text) {\r\n        try {\r\n            PKCS8EncodedKeySpec pkcs8KeySpec = new PKCS8EncodedKeySpec(pri);\r\n            KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n            PrivateKey privateKey = keyFactory.generatePrivate(pkcs8KeySpec);\r\n            javax.crypto.Cipher cipher = javax.crypto.Cipher.getInstance(keyFactory.getAlgorithm());\r\n            cipher.init(javax.crypto.Cipher.ENCRYPT_MODE, privateKey);\r\n            return Base64.getEncoder().encodeToString(cipher.doFinal(text.getBytes()));\r\n        } catch (Exception e) {\r\n            return &quot;Failed&quot;;\r\n        }\r\n    }\r\n\r\n    public static String decrypt(String text) {\r\n        try {\r\n            KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n            X509EncodedKeySpec x509KeySpec = new X509EncodedKeySpec(pub);\r\n            PublicKey pubKey = keyFactory.generatePublic(x509KeySpec);\r\n            javax.crypto.Cipher cipher = javax.crypto.Cipher.getInstance(keyFactory.getAlgorithm());\r\n            cipher.init(javax.crypto.Cipher.DECRYPT_MODE, pubKey);\r\n            return new String(cipher.doFinal(Base64.getDecoder().decode(text)));\r\n        } catch (Exception e) {\r\n            return &quot;Failed&quot;;\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nAs you can see, I&#39;ve used the wrong key when trying to encrypt/decrypt the data.\r\nHowever, the code didn&#39;t generate any exception.\r\n\r\n\r\nIf I compile and run:\r\n\r\n```\r\nString str = Cipher.encrypt(&quot;uwu&quot;);\r\nSystem.out.println(str);\r\nSystem.out.println(Cipher.decrypt(str));\r\n```\r\n\r\nThe console would show:\r\n\r\n```\r\nGrKyCCML73yuJN/fsdevN00eOvWUDl7MTpW50iWhhnhqhMxelWPEQ4I2A7PPd0G8flVaZrabAIsYNNUBpEg96x+8zj3ZTh5u9rXbhJKbzHXSMbsuPCY39WqUOf6qqqWRxGL44E3ltIdE/wQr7XeRvqJa4Z089mSxl6VYB468BnA=\r\nuwu\r\n```\r\n\r\nAlthough I&#39;ve fixed the mistake, I still have a question:\r\n\r\nWhat&#39;s going on here? Why did it seemingly running &quot;properly&quot;?\r\n\r\n---\r\n\r\nEdit:\r\n\r\nI&#39;ve seen some may say that it&#39;s a type of &quot;sign&quot;. But if that&#39;s the case, is there a way that I read the data without either key, if I don&#39;t care whether or not the data is tampered? Why or why not? Thanks!","title":"Decrypt with public key?","body":"<p>I've made a mistake when I was writing a promgram in Java.</p>\n<pre><code>package cf.huzpsb.jnip.security;\n\nimport java.security.KeyFactory;\nimport java.security.PrivateKey;\nimport java.security.PublicKey;\nimport java.security.spec.PKCS8EncodedKeySpec;\nimport java.security.spec.X509EncodedKeySpec;\nimport java.util.Base64;\n\npublic class Cipher {\n    private static final byte[] pub = Base64.getDecoder().decode(&quot;MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCUjb+/Ea3i9W53tASAu5OJ8vxf7+7oGberM5B6GIfu2uBMD0YfaQuGqInREop6kho7AHYd4oCq68fhQ4DbAtE+RSy9Us4sCMpvvE4luLWoR3iZQtii7hyIoDSeXGaNVu6L3xbjFji7kSDPpWubdCuD6dCVYD5kS2N07m74d5grOwIDAQAB&quot;);\n    private static final byte[] pri = Base64.getDecoder().decode(&quot;MIICdwIBADANBgkqhkiG9w0BAQEFAASCAmEwggJdAgEAAoGBAJSNv78RreL1bne0BIC7k4ny/F/v7ugZt6szkHoYh+7a4EwPRh9pC4aoidESinqSGjsAdh3igKrrx+FDgNsC0T5FLL1SziwIym+8TiW4tahHeJlC2KLuHIigNJ5cZo1W7ovfFuMWOLuRIM+la5t0K4Pp0JVgPmRLY3Tubvh3mCs7AgMBAAECgYAPimSs0GSogZR04Vg3P2hH3iuYvbj4fvg/6L0MiNRvoGYmjtJ/JrYV+Duyq4XhHLexxHKW3cMoHlJitnUcdEb/W5L0iOSXRN4W1WGBkGLv+FE3TbFT0ruxbLTdcK+cmiE6hWh2sO9xVXjIPxixuTrDvd7qyO0XyX0aNUU0/42FQQJBANwpKF6ZJRIHvF32RIfPjAxkTEY6Mq8IbxeuxsbN3IJ1aywK3bQdSxz0rd+b/gR/3CJhjp9OUGt0KqYm6emVJrcCQQCsvHu30wrK8qfjQmlVxYlwgVitb3u+pgRPO64neuucsbXPUEYnB/Ae9Y1QrdRUBWInhWfXpRK7m4LzK0udJvudAkEArWU9BkRXjfvJv7dWAiDUjG3yJN1xTam21VAx/iHkqlsQLX/hXRo1LnkG+DZDugd5uRpc2ds0O20iqfm8ANwXwQJBAIVagdy5lfR1/zzIkY+BEAkGIpLKpWrauir9NQcPs4PmAilJnM8XJr6P7YgimvA+s7c1G6T0sJCbjy3x988cQFUCQBnPIMFNyfz+t9Cg+gA42ivbKQC9OnIpTD0Jsm8gyvh1C15Pkb4I0WYOQuh66AWHwrlqlkF6IdUVyM8JlNArI/M=&quot;);\n\n    public static String encrypt(String text) {\n        try {\n            PKCS8EncodedKeySpec pkcs8KeySpec = new PKCS8EncodedKeySpec(pri);\n            KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\n            PrivateKey privateKey = keyFactory.generatePrivate(pkcs8KeySpec);\n            javax.crypto.Cipher cipher = javax.crypto.Cipher.getInstance(keyFactory.getAlgorithm());\n            cipher.init(javax.crypto.Cipher.ENCRYPT_MODE, privateKey);\n            return Base64.getEncoder().encodeToString(cipher.doFinal(text.getBytes()));\n        } catch (Exception e) {\n            return &quot;Failed&quot;;\n        }\n    }\n\n    public static String decrypt(String text) {\n        try {\n            KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\n            X509EncodedKeySpec x509KeySpec = new X509EncodedKeySpec(pub);\n            PublicKey pubKey = keyFactory.generatePublic(x509KeySpec);\n            javax.crypto.Cipher cipher = javax.crypto.Cipher.getInstance(keyFactory.getAlgorithm());\n            cipher.init(javax.crypto.Cipher.DECRYPT_MODE, pubKey);\n            return new String(cipher.doFinal(Base64.getDecoder().decode(text)));\n        } catch (Exception e) {\n            return &quot;Failed&quot;;\n        }\n    }\n}\n\n</code></pre>\n<p>As you can see, I've used the wrong key when trying to encrypt/decrypt the data.\nHowever, the code didn't generate any exception.</p>\n<p>If I compile and run:</p>\n<pre><code>String str = Cipher.encrypt(&quot;uwu&quot;);\nSystem.out.println(str);\nSystem.out.println(Cipher.decrypt(str));\n</code></pre>\n<p>The console would show:</p>\n<pre><code>GrKyCCML73yuJN/fsdevN00eOvWUDl7MTpW50iWhhnhqhMxelWPEQ4I2A7PPd0G8flVaZrabAIsYNNUBpEg96x+8zj3ZTh5u9rXbhJKbzHXSMbsuPCY39WqUOf6qqqWRxGL44E3ltIdE/wQr7XeRvqJa4Z089mSxl6VYB468BnA=\nuwu\n</code></pre>\n<p>Although I've fixed the mistake, I still have a question:</p>\n<p>What's going on here? Why did it seemingly running &quot;properly&quot;?</p>\n<hr />\n<p>Edit:</p>\n<p>I've seen some may say that it's a type of &quot;sign&quot;. But if that's the case, is there a way that I read the data without either key, if I don't care whether or not the data is tampered? Why or why not? Thanks!</p>\n"},{"tags":["java","solr"],"comments":[{"owner":{"account_id":121840,"reputation":36551,"user_id":315228,"accept_rate":100,"display_name":"SMA"},"score":0,"creation_date":1492521050,"post_id":43473114,"comment_id":74001141,"body_markdown":"what&#39;s wrong with above?","body":"what&#39;s wrong with above?"}],"answers":[{"comments":[{"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"score":0,"creation_date":1492521207,"post_id":43473190,"comment_id":74001278,"body_markdown":"@KarthickVijay  `SolrClient solrClient = new HttpSolrClient.Builder(urlString).build();`","body":"@KarthickVijay  <code>SolrClient solrClient = new HttpSolrClient.Builder(urlString).build();</code>"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1492521214,"post_id":43473190,"comment_id":74001286,"body_markdown":"@KarthickVijay `HttpSolrServer` is deprecated, you should use `HttpSolrClient` instead","body":"@KarthickVijay <code>HttpSolrServer</code> is deprecated, you should use <code>HttpSolrClient</code> instead"},{"owner":{"account_id":10627264,"reputation":41,"user_id":7826551,"display_name":"Karthick Vijay"},"score":0,"creation_date":1492521270,"post_id":43473190,"comment_id":74001331,"body_markdown":"the intention here is... I dont want to use any deprecated classes in my program..","body":"the intention here is... I dont want to use any deprecated classes in my program.."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1492521315,"post_id":43473190,"comment_id":74001366,"body_markdown":"@KarthickVijay It is ok. See the code that i suggest, what is there deprecated?","body":"@KarthickVijay It is ok. See the code that i suggest, what is there deprecated?"}],"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1492521055,"creation_date":1492521055,"answer_id":43473190,"question_id":43473114,"body_markdown":"As the [documentation][1] says:\r\n\r\n&gt; Deprecated.   Use HttpSolrClient\r\n&gt; \r\n&gt; @Deprecated public class HttpSolrServer extends HttpSolrClient\r\n\r\n\r\n    HttpSolrClient solrServer = new HttpSolrClient (builder.build().toString());\r\n\r\n  [1]: https://lucene.apache.org/solr/5_2_0/solr-solrj/org/apache/solr/client/solrj/impl/HttpSolrServer.html#HttpSolrServer(java.lang.String)","title":"What is Replacement for HttpSolrServer solrServer = new HttpSolrServer(builder.build().toString());","body":"<p>As the <a href=\"https://lucene.apache.org/solr/5_2_0/solr-solrj/org/apache/solr/client/solrj/impl/HttpSolrServer.html#HttpSolrServer(java.lang.String)\" rel=\"nofollow noreferrer\">documentation</a> says:</p>\n\n<blockquote>\n  <p>Deprecated.   Use HttpSolrClient</p>\n  \n  <p>@Deprecated public class HttpSolrServer extends HttpSolrClient</p>\n</blockquote>\n\n<pre><code>HttpSolrClient solrServer = new HttpSolrClient (builder.build().toString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4539573,"reputation":1608,"user_id":3687849,"accept_rate":50,"display_name":"Divyang Shah"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1506489978,"creation_date":1506489978,"answer_id":46440078,"question_id":43473114,"body_markdown":"This is one solution:\r\n\r\nSolrClient solrServer = new HttpSolrClient.Builder(solrLocation).build();","title":"What is Replacement for HttpSolrServer solrServer = new HttpSolrServer(builder.build().toString());","body":"<p>This is one solution:</p>\n\n<p>SolrClient solrServer = new HttpSolrClient.Builder(solrLocation).build();</p>\n"},{"tags":[],"owner":{"account_id":27239123,"reputation":11,"user_id":20765585,"display_name":"Santanu Mukherjee"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671204983,"creation_date":1670929706,"answer_id":74783874,"question_id":43473114,"body_markdown":"Use below for Solrj 9.x \r\n\r\n    SolrClient client = new Http2SolrClient.Builder(&quot;http://localhost:8983/solr/Collection1&quot;).build()\r\n\r\n","title":"What is Replacement for HttpSolrServer solrServer = new HttpSolrServer(builder.build().toString());","body":"<p>Use below for Solrj 9.x</p>\n<pre><code>SolrClient client = new Http2SolrClient.Builder(&quot;http://localhost:8983/solr/Collection1&quot;).build()\n</code></pre>\n"}],"owner":{"account_id":10627264,"reputation":41,"user_id":7826551,"display_name":"Karthick Vijay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2299,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1671204983,"creation_date":1492520876,"question_id":43473114,"body_markdown":"What is Replacement for\r\n\r\n    HttpSolrServer solrServer = new HttpSolrServer(builder.build().toString());","title":"What is Replacement for HttpSolrServer solrServer = new HttpSolrServer(builder.build().toString());","body":"<p>What is Replacement for</p>\n\n<pre><code>HttpSolrServer solrServer = new HttpSolrServer(builder.build().toString());\n</code></pre>\n"},{"tags":["java","itext"],"answers":[{"tags":[],"owner":{"account_id":14956061,"reputation":103,"user_id":10797322,"display_name":"nd_"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671204825,"creation_date":1671204825,"answer_id":74826573,"question_id":74798012,"body_markdown":"With a newer iText 7 version (I used 7.0.1 before) and a slightly different code  it&#39;s working now:\r\n\r\n```java\r\nBasicConfigurator.configure();// Satisfy the logger\r\ntry (PdfWriter writer = new PdfWriter(&quot;test.pdf&quot;);\r\n\t\tPdfDocument pdf = new PdfDocument(writer)) {\r\n\t// Create a page\r\n\tPdfPage currentPage = pdf.addNewPage(PageSize.A4);\r\n\t// Create the position rectangle\r\n\tRectangle rect = new Rectangle(\r\n\t\t\t75f, \r\n\t\t\tcurrentPage.getPageSize().getHeight() - 315f - 22f, \r\n\t\t\t75f, \r\n\t\t\t22f\r\n\t);\r\n\t// Create the font\r\n\tPdfFont currentFont = PdfFontFactory.createFont(\r\n\t\t\t&quot;Helvetica&quot;, \r\n\t\t\t&quot;Cp1252&quot;\r\n\t);\r\n\t// Create the paragraph\r\n\tParagraph p = (new Paragraph(&quot;Some longer value&quot;))\r\n\t\t\t.setFont(currentFont)\r\n\t\t\t.setFontSize(12f)\r\n\t\t\t.setWidth(75f)\r\n\t\t\t.setHeight(22f)\r\n\t\t\t.setTextAlignment(TextAlignment.LEFT);\r\n\t// Override the renderer\r\n\tp.setNextRenderer(new ParagraphRenderer(p){\r\n\t\t@Override\r\n\t\tpublic List initElementAreas(LayoutArea area) {\r\n\t\t\tList list = new ArrayList();\r\n\t\t\tlist.add(rect);\r\n\t\t\treturn list;\r\n\t\t}\r\n\t});\r\n\t// Add the paragraph\r\n\t(new Canvas(new PdfCanvas(currentPage), rect))\r\n\t\t\t.add((BlockElement)p);\r\n```","title":"iText fails to render paragraph with overlength text","body":"<p>With a newer iText 7 version (I used 7.0.1 before) and a slightly different code  it's working now:</p>\n<pre class=\"lang-java prettyprint-override\"><code>BasicConfigurator.configure();// Satisfy the logger\ntry (PdfWriter writer = new PdfWriter(&quot;test.pdf&quot;);\n        PdfDocument pdf = new PdfDocument(writer)) {\n    // Create a page\n    PdfPage currentPage = pdf.addNewPage(PageSize.A4);\n    // Create the position rectangle\n    Rectangle rect = new Rectangle(\n            75f, \n            currentPage.getPageSize().getHeight() - 315f - 22f, \n            75f, \n            22f\n    );\n    // Create the font\n    PdfFont currentFont = PdfFontFactory.createFont(\n            &quot;Helvetica&quot;, \n            &quot;Cp1252&quot;\n    );\n    // Create the paragraph\n    Paragraph p = (new Paragraph(&quot;Some longer value&quot;))\n            .setFont(currentFont)\n            .setFontSize(12f)\n            .setWidth(75f)\n            .setHeight(22f)\n            .setTextAlignment(TextAlignment.LEFT);\n    // Override the renderer\n    p.setNextRenderer(new ParagraphRenderer(p){\n        @Override\n        public List initElementAreas(LayoutArea area) {\n            List list = new ArrayList();\n            list.add(rect);\n            return list;\n        }\n    });\n    // Add the paragraph\n    (new Canvas(new PdfCanvas(currentPage), rect))\n            .add((BlockElement)p);\n</code></pre>\n"}],"owner":{"account_id":14956061,"reputation":103,"user_id":10797322,"display_name":"nd_"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74826573,"answer_count":1,"score":0,"last_activity_date":1671204825,"creation_date":1671019398,"question_id":74798012,"body_markdown":"I want to add a variable string to a fixed drawing rectangle using iText 7 - this is a sample code:\r\n\r\n```java\r\ntry (PdfWriter writer = new PdfWriter(&quot;test.pdf&quot;);\r\n\t\tPdfDocument pdf = new PdfDocument(writer)) {\r\n\t// Create a page\r\n\tPdfPage currentPage = pdf.addNewPage(PageSize.A4);\r\n\t// Create the position rectangle\r\n\tRectangle rect = new Rectangle(\r\n\t\t\t75f, \r\n\t\t\tcurrentPage.getPageSize().getHeight() - 315f - 22f, \r\n\t\t\t75f, \r\n\t\t\t22f\r\n\t);\r\n\t// Create the font\r\n\tPdfFont currentFont = PdfFontFactory.createFont(\r\n\t\t\t&quot;Helvetica&quot;, \r\n\t\t\t&quot;Cp1252&quot;\r\n\t);\r\n\t// Create the paragraph\r\n\tParagraph p = (new Paragraph(&quot;Some longer value&quot;))\r\n\t\t\t.setFont(currentFont)\r\n\t\t\t.setFontSize(12f)\r\n\t\t\t.setWidth(75f)\r\n\t\t\t.setHeight(22f)\r\n\t\t\t.setTextAlignment(TextAlignment.LEFT);\r\n\t// Add the paragraph\r\n\t(new Canvas(new PdfCanvas(currentPage), pdf, rect))\r\n\t\t\t.add((BlockElement)p);\r\n}\r\n```\r\n\r\nWhen I run this code, I&#39;ll get this exception when the last line is being executed:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: fromIndex(0) &gt; toIndex(-1)\r\n        at java.base/java.util.AbstractList.subListRangeCheck(AbstractList.java:509)\r\n        at java.base/java.util.ArrayList.subList(ArrayList.java:1138)\r\n        at com.itextpdf.layout.renderer.ParagraphRenderer.layout(ParagraphRenderer.java:235)\r\n        at com.itextpdf.layout.renderer.RootRenderer.addChild(RootRenderer.java:84)\r\n        at com.itextpdf.layout.renderer.CanvasRenderer.addChild(CanvasRenderer.java:86)\r\n        at com.itextpdf.layout.RootElement.add(RootElement.java:98)\r\n        at itext.bug.reproduce.ITextBugReproduce.main(ITextBugReproduce.java:50)\r\n```\r\n\r\nWhen I replace `Some longer value` with `test`, everything works. So it seems adding an overlength string to a small drawing area fails.\r\n\r\nThe problem is: In real know only the destination drawing area, but I don&#39;t know the string which is going to be processed. This leads to my question: How can I draw even an overlength string to the PDF without pre-measuring etc.?\r\n\r\n**Update**: When I expand the paragraph dimensions, I still have the same exception, so I assume its not a problem with the paragraph, but with the canvas which I use to restrict drawing to the destination rectangle (for not overwriting any contents outside of the rectangle).","title":"iText fails to render paragraph with overlength text","body":"<p>I want to add a variable string to a fixed drawing rectangle using iText 7 - this is a sample code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (PdfWriter writer = new PdfWriter(&quot;test.pdf&quot;);\n        PdfDocument pdf = new PdfDocument(writer)) {\n    // Create a page\n    PdfPage currentPage = pdf.addNewPage(PageSize.A4);\n    // Create the position rectangle\n    Rectangle rect = new Rectangle(\n            75f, \n            currentPage.getPageSize().getHeight() - 315f - 22f, \n            75f, \n            22f\n    );\n    // Create the font\n    PdfFont currentFont = PdfFontFactory.createFont(\n            &quot;Helvetica&quot;, \n            &quot;Cp1252&quot;\n    );\n    // Create the paragraph\n    Paragraph p = (new Paragraph(&quot;Some longer value&quot;))\n            .setFont(currentFont)\n            .setFontSize(12f)\n            .setWidth(75f)\n            .setHeight(22f)\n            .setTextAlignment(TextAlignment.LEFT);\n    // Add the paragraph\n    (new Canvas(new PdfCanvas(currentPage), pdf, rect))\n            .add((BlockElement)p);\n}\n</code></pre>\n<p>When I run this code, I'll get this exception when the last line is being executed:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: fromIndex(0) &gt; toIndex(-1)\n        at java.base/java.util.AbstractList.subListRangeCheck(AbstractList.java:509)\n        at java.base/java.util.ArrayList.subList(ArrayList.java:1138)\n        at com.itextpdf.layout.renderer.ParagraphRenderer.layout(ParagraphRenderer.java:235)\n        at com.itextpdf.layout.renderer.RootRenderer.addChild(RootRenderer.java:84)\n        at com.itextpdf.layout.renderer.CanvasRenderer.addChild(CanvasRenderer.java:86)\n        at com.itextpdf.layout.RootElement.add(RootElement.java:98)\n        at itext.bug.reproduce.ITextBugReproduce.main(ITextBugReproduce.java:50)\n</code></pre>\n<p>When I replace <code>Some longer value</code> with <code>test</code>, everything works. So it seems adding an overlength string to a small drawing area fails.</p>\n<p>The problem is: In real know only the destination drawing area, but I don't know the string which is going to be processed. This leads to my question: How can I draw even an overlength string to the PDF without pre-measuring etc.?</p>\n<p><strong>Update</strong>: When I expand the paragraph dimensions, I still have the same exception, so I assume its not a problem with the paragraph, but with the canvas which I use to restrict drawing to the destination rectangle (for not overwriting any contents outside of the rectangle).</p>\n"},{"tags":["java","spring","mapstruct"],"comments":[{"owner":{"account_id":16249442,"reputation":4026,"user_id":11733759,"display_name":"lczapski"},"score":0,"creation_date":1582283447,"post_id":60327672,"comment_id":106732697,"body_markdown":"Check if your generated mappers are seen by Spring? If you can @Autowired to other class. Maybe here is the problem.","body":"Check if your generated mappers are seen by Spring? If you can @Autowired to other class. Maybe here is the problem."},{"owner":{"account_id":1402854,"reputation":3712,"user_id":1331297,"accept_rate":82,"display_name":"Sjaak"},"score":0,"creation_date":1583268357,"post_id":60327672,"comment_id":107057183,"body_markdown":"can you share the code that MapStruct generates?","body":"can you share the code that MapStruct generates?"}],"answers":[{"comments":[{"owner":{"account_id":7011618,"reputation":328,"user_id":5374277,"display_name":"Tarnished-Coder"},"score":0,"creation_date":1634766253,"post_id":67725744,"comment_id":123117360,"body_markdown":"I am stuck in a similar issue, the generated code has my Mapper which is being used by the main mapper but when running tests, my Mapper is null and throws a NPE. What does changing from `Spring` to `default` actually do? @Matthew K.","body":"I am stuck in a similar issue, the generated code has my Mapper which is being used by the main mapper but when running tests, my Mapper is null and throws a NPE. What does changing from <code>Spring</code> to <code>default</code> actually do? @Matthew K."},{"owner":{"account_id":16503638,"reputation":56,"user_id":16038722,"display_name":"Matthew K."},"score":1,"creation_date":1634879162,"post_id":67725744,"comment_id":123149772,"body_markdown":"@shapandashore Changing it to `default` means you are using Core Java. You use `Mappers.getMapper()` as sort of a factory method to instantiate your mappers. The downside of using `default` is no dependency injection. This can easily be worked around by using package-private fields and assigning Mockito Spy instances to them from the test code.","body":"@shapandashore Changing it to <code>default</code> means you are using Core Java. You use <code>Mappers.getMapper()</code> as sort of a factory method to instantiate your mappers. The downside of using <code>default</code> is no dependency injection. This can easily be worked around by using package-private fields and assigning Mockito Spy instances to them from the test code."},{"owner":{"account_id":7011618,"reputation":328,"user_id":5374277,"display_name":"Tarnished-Coder"},"score":0,"creation_date":1635886876,"post_id":67725744,"comment_id":123411585,"body_markdown":"Thanks @Matthew K. Yes, since we are using a spring for all dependency injection, I could not convert the mapper to be used as default. I rather ended up using the generated Impl file for my tests. I found that to be cleaner way to test, even If I need to use multiple nested mappers for verifying funcationality.","body":"Thanks @Matthew K. Yes, since we are using a spring for all dependency injection, I could not convert the mapper to be used as default. I rather ended up using the generated Impl file for my tests. I found that to be cleaner way to test, even If I need to use multiple nested mappers for verifying funcationality."}],"tags":[],"owner":{"account_id":16503638,"reputation":56,"user_id":16038722,"display_name":"Matthew K."},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1622130773,"creation_date":1622130773,"answer_id":67725744,"question_id":60327672,"body_markdown":"I&#39;ve encountered this issue myself. I was able to get around it by using the **default component model**. Here was my situation:\r\n\r\n 1. I was using `componentModel = &quot;spring&quot;`.\r\n 2. I was trying to utilize my Mappers in a separate Spring component.\r\n 3. My `@Autowired` fields referencing the Mappers **were** giving _NullPointerException_&#39;s when running tests.\r\n\r\n\r\nIf this sounds like what is happening to you, you have to use `componentModel = &quot;default&quot;`.\r\nI wanted to use the Spring component model; but, after an hour of banging my head against the wall, I decided to try the default component model.\r\n\r\nAfter changing my Mappers to the default component model and replacing the `@Autowired` fields, I no longer received that dreaded _NullPointerException_!!\r\n\r\nWorking Code:\r\n-------------\r\n```Java\r\n@Component\r\npublic class Mapper implements MapperTranslator&lt;Output, Input&gt; {\r\n    private final MappingVisitor mappingVisitor = Mappers.getMapper(MappingVisitor.class);\r\n    private final MappingDefault mappingDefault = Mappers.getMapper(MappingDefault.class);\r\n\r\n    @Override\r\n    public Output translate(Input source) {\r\n        if (source instanceof InputType1) {\r\n            return ((InputType1)source).acceptAndMap(mappingVisitor);\r\n        }\r\n        else if (source instanceof InputType2) {\r\n            return ((InputType2)source).acceptAndMap(mappingVisitor);\r\n        }\r\n\r\n        // default\r\n        return mappingDefault.translate(source);\r\n    }\r\n}\r\n```\r\n\r\n","title":"mapstruct using mapper inside another return null in test","body":"<p>I've encountered this issue myself. I was able to get around it by using the <strong>default component model</strong>. Here was my situation:</p>\n<ol>\n<li>I was using <code>componentModel = &quot;spring&quot;</code>.</li>\n<li>I was trying to utilize my Mappers in a separate Spring component.</li>\n<li>My <code>@Autowired</code> fields referencing the Mappers <strong>were</strong> giving <em>NullPointerException</em>'s when running tests.</li>\n</ol>\n<p>If this sounds like what is happening to you, you have to use <code>componentModel = &quot;default&quot;</code>.\nI wanted to use the Spring component model; but, after an hour of banging my head against the wall, I decided to try the default component model.</p>\n<p>After changing my Mappers to the default component model and replacing the <code>@Autowired</code> fields, I no longer received that dreaded <em>NullPointerException</em>!!</p>\n<h2>Working Code:</h2>\n<pre><code>@Component\npublic class Mapper implements MapperTranslator&lt;Output, Input&gt; {\n    private final MappingVisitor mappingVisitor = Mappers.getMapper(MappingVisitor.class);\n    private final MappingDefault mappingDefault = Mappers.getMapper(MappingDefault.class);\n\n    @Override\n    public Output translate(Input source) {\n        if (source instanceof InputType1) {\n            return ((InputType1)source).acceptAndMap(mappingVisitor);\n        }\n        else if (source instanceof InputType2) {\n            return ((InputType2)source).acceptAndMap(mappingVisitor);\n        }\n\n        // default\n        return mappingDefault.translate(source);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1682284,"reputation":43,"user_id":1576325,"display_name":"jtth"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671204753,"creation_date":1671204753,"answer_id":74826564,"question_id":60327672,"body_markdown":"I, too, was using the `spring` component model, and found this SO thread while troubleshooting. What worked for me was that in my test class, I needed to add these fields rather than reference the mapper class directly in my test method.\r\n\r\n```java\r\n@Autowired\r\nprivate final MyCustomMapper pMapper = Mappers.getMapper(MyCustomMapper.class);\r\n```","title":"mapstruct using mapper inside another return null in test","body":"<p>I, too, was using the <code>spring</code> component model, and found this SO thread while troubleshooting. What worked for me was that in my test class, I needed to add these fields rather than reference the mapper class directly in my test method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\nprivate final MyCustomMapper pMapper = Mappers.getMapper(MyCustomMapper.class);\n</code></pre>\n"}],"owner":{"account_id":8381673,"reputation":451,"user_id":6293374,"accept_rate":76,"display_name":"Omar B."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3769,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1671204753,"creation_date":1582228888,"question_id":60327672,"body_markdown":"I m using mapstruct to generate mappers. when I see in the generated code it is autowired the `Mymapper` in `MainMapper` but  when debug it is  showing that myMapper is null. When I change in the generated code  \r\n```\r\n@Autowired MyMapper myMapper\r\n``` \r\nwith : \r\n```\r\nMyMapper myMapper=Mappers.getMaper(MyMapper.class)\r\n``` \r\n, it is working but this is not what I want. I want it to be auto-generated like expected from the framwork.\r\nnb : `MainMapper` uses `MyMapper` , and `MyMapper` uses `Mapper2`\r\n\r\nmainMapper:\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;, \r\n    \tunmappedTargetPolicy = ReportingPolicy.IGNORE, \r\n    \tuses = MyMapper.class ,\r\n    \tnullValueMappingStrategy = NullValueMappingStrategy.RETURN_NULL)\r\n    public interface MainMapper {\r\n    \t\r\n    \t@Mappings({ @Mapping(target = &quot;year&quot;, source = &quot;Period.year&quot;) })\r\n    \tResource toResource(MyObject myObject);\r\n\r\n\t\t@Mapping(target = &quot;Period.year&quot;, source = &quot;year&quot;)\r\n\t    MyObject toModel(Resource resource);\r\n\t}\r\n\r\nMyMapper :\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;, \r\n    \tunmappedTargetPolicy = ReportingPolicy.IGNORE,\r\n    \tuses = Mapper2.class,\r\n    \tnullValueMappingStrategy = NullValueMappingStrategy.RETURN_NULL)\r\n    public interface MyMapper {\r\n    \r\n    \tRequestResource toResource(Request request);\r\n    \r\n    \tRequest toModel(RequestResource requestResource);\r\n    }\r\nany help is appreciated .","title":"mapstruct using mapper inside another return null in test","body":"<p>I m using mapstruct to generate mappers. when I see in the generated code it is autowired the <code>Mymapper</code> in <code>MainMapper</code> but  when debug it is  showing that myMapper is null. When I change in the generated code  </p>\n\n<pre><code>@Autowired MyMapper myMapper\n</code></pre>\n\n<p>with : </p>\n\n<pre><code>MyMapper myMapper=Mappers.getMaper(MyMapper.class)\n</code></pre>\n\n<p>, it is working but this is not what I want. I want it to be auto-generated like expected from the framwork.\nnb : <code>MainMapper</code> uses <code>MyMapper</code> , and <code>MyMapper</code> uses <code>Mapper2</code></p>\n\n<p>mainMapper:</p>\n\n<pre><code>@Mapper(componentModel = \"spring\", \n    unmappedTargetPolicy = ReportingPolicy.IGNORE, \n    uses = MyMapper.class ,\n    nullValueMappingStrategy = NullValueMappingStrategy.RETURN_NULL)\npublic interface MainMapper {\n\n    @Mappings({ @Mapping(target = \"year\", source = \"Period.year\") })\n    Resource toResource(MyObject myObject);\n\n    @Mapping(target = \"Period.year\", source = \"year\")\n    MyObject toModel(Resource resource);\n}\n</code></pre>\n\n<p>MyMapper :</p>\n\n<pre><code>@Mapper(componentModel = \"spring\", \n    unmappedTargetPolicy = ReportingPolicy.IGNORE,\n    uses = Mapper2.class,\n    nullValueMappingStrategy = NullValueMappingStrategy.RETURN_NULL)\npublic interface MyMapper {\n\n    RequestResource toResource(Request request);\n\n    Request toModel(RequestResource requestResource);\n}\n</code></pre>\n\n<p>any help is appreciated .</p>\n"},{"tags":["java","input","whitespace"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1671203204,"post_id":74826181,"comment_id":132055099,"body_markdown":"Getting the last number in a String and removing white spaces from a String are completely different things. You should clarify which one of those 2 things it is you want.","body":"Getting the last number in a String and removing white spaces from a String are completely different things. You should clarify which one of those 2 things it is you want."},{"owner":{"account_id":26814816,"reputation":1,"user_id":20404908,"display_name":"Codrunnr"},"score":0,"creation_date":1671203327,"post_id":74826181,"comment_id":132055135,"body_markdown":"@OHGODSPIDERS both work for what I want to do, I couldn&#39;t do both of them that&#39;s why I&#39;m asking","body":"@OHGODSPIDERS both work for what I want to do, I couldn&#39;t do both of them that&#39;s why I&#39;m asking"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671204495,"creation_date":1671203714,"answer_id":74826357,"question_id":74826181,"body_markdown":"If you want the last number you can do it like this.\r\n- `.*?` reluctantly grab the characters\r\n- `(\\\\d+)$` - capture one or more digits at end of string.\r\n- `$1` back reference to captured value (21 in this case)\r\n- and convert to an int.\r\n```\r\nString s = &quot;kssk sk k22 s 21&quot;;\r\nint v = Integer.parseInt(s.replaceAll(&quot;.*?(\\\\d+)$&quot;,&quot;$1&quot;));\r\nSystem.out.println(v);\r\n```\r\nprints\r\n```\r\n21\r\n```\r\nA somewhat better alternative might be to do the following **if** there is always a space before the last number.\r\n- get the last index of a white space\r\n- and starting with the next character, get the substring and convert to an integer.\r\n```\r\nint i = s.lastIndexOf(&#39; &#39;); // returns -1 if no space is found.\r\nint v = Integer.parseInt(s.substring(i+1)); \r\n","title":"How can I remove white spaces from an input?","body":"<p>If you want the last number you can do it like this.</p>\n<ul>\n<li><code>.*?</code> reluctantly grab the characters</li>\n<li><code>(\\\\d+)$</code> - capture one or more digits at end of string.</li>\n<li><code>$1</code> back reference to captured value (21 in this case)</li>\n<li>and convert to an int.</li>\n</ul>\n<pre><code>String s = &quot;kssk sk k22 s 21&quot;;\nint v = Integer.parseInt(s.replaceAll(&quot;.*?(\\\\d+)$&quot;,&quot;$1&quot;));\nSystem.out.println(v);\n</code></pre>\n<p>prints</p>\n<pre><code>21\n</code></pre>\n<p>A somewhat better alternative might be to do the following <strong>if</strong> there is always a space before the last number.</p>\n<ul>\n<li>get the last index of a white space</li>\n<li>and starting with the next character, get the substring and convert to an integer.</li>\n</ul>\n<pre><code>int i = s.lastIndexOf(' '); // returns -1 if no space is found.\nint v = Integer.parseInt(s.substring(i+1)); \n</code></pre>\n"}],"owner":{"account_id":26814816,"reputation":1,"user_id":20404908,"display_name":"Codrunnr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1671204495,"creation_date":1671202865,"question_id":74826181,"body_markdown":"This is the input: [enter image description here][1]\r\n\r\nI want to get the last number but how? (1,2,6)\r\n\r\nI tried this:\r\n\r\n\r\n  String line = scanner.nextLine();\r\n\r\n  String[] parts = line.split(&quot; &quot;);\r\n\r\n  int ProductCount =Integer.parseInt(parts[3].replaceAll(&quot; &quot;, &quot;&quot;));\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uHDJI.png","title":"How can I remove white spaces from an input?","body":"<p>This is the input: <a href=\"https://i.stack.imgur.com/uHDJI.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I want to get the last number but how? (1,2,6)</p>\n<p>I tried this:</p>\n<p>String line = scanner.nextLine();</p>\n<p>String[] parts = line.split(&quot; &quot;);</p>\n<p>int ProductCount =Integer.parseInt(parts[3].replaceAll(&quot; &quot;, &quot;&quot;));</p>\n"},{"tags":["java","interface","lambda"],"comments":[{"owner":{"account_id":2023908,"reputation":4939,"user_id":1809463,"accept_rate":84,"display_name":"mike"},"score":1,"creation_date":1418934039,"post_id":27554918,"comment_id":43536257,"body_markdown":"I think only interfaces that are tagged with the `@interface FunctionalInterface` annotation, can be instantiated with lambdas.","body":"I think only interfaces that are tagged with the <code>@interface FunctionalInterface</code> annotation, can be instantiated with lambdas."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1418934210,"post_id":27554918,"comment_id":43536342,"body_markdown":"You&#39;ll have to use a class, but that class can have a constructor that takes a string and a lambda.","body":"You&#39;ll have to use a class, but that class can have a constructor that takes a string and a lambda."},{"owner":{"account_id":41594,"reputation":152717,"user_id":120955,"accept_rate":88,"display_name":"StriplingWarrior"},"score":3,"creation_date":1418934764,"post_id":27554918,"comment_id":43536628,"body_markdown":"You may want to rethink how you&#39;re representing this data. Most people, when calling a method like `addFoo(&quot;key&quot;, myFoo)` would not expect properties to get set on the value that they pass in. This could cause all kinds of unexpected behavior if they try to pass the same instance in with different strings. Maybe you should *not* have `Foo` implement `IFoo`, and have your overloaded method create a new `Foo` instance, whose implementation calls the given lambda&#39;s action?","body":"You may want to rethink how you&#39;re representing this data. Most people, when calling a method like <code>addFoo(&quot;key&quot;, myFoo)</code> would not expect properties to get set on the value that they pass in. This could cause all kinds of unexpected behavior if they try to pass the same instance in with different strings. Maybe you should <i>not</i> have <code>Foo</code> implement <code>IFoo</code>, and have your overloaded method create a new <code>Foo</code> instance, whose implementation calls the given lambda&#39;s action?"},{"owner":{"account_id":1962038,"reputation":890,"user_id":1763295,"accept_rate":77,"display_name":"user1763295"},"score":0,"creation_date":1418935151,"post_id":27554918,"comment_id":43536798,"body_markdown":"That&#39;s what I&#39;ve ended up doing for the time being, creating an instance with a method that just calls an interface method feels so wrong though.","body":"That&#39;s what I&#39;ve ended up doing for the time being, creating an instance with a method that just calls an interface method feels so wrong though."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":4,"creation_date":1418937290,"post_id":27554918,"comment_id":43537818,"body_markdown":"@mike A functional interface is any interface with a Single Abstract Method (aka. a SAM type). The annotation is optional.","body":"@mike A functional interface is any interface with a Single Abstract Method (aka. a SAM type). The annotation is optional."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1418939311,"post_id":27554918,"comment_id":43538810,"body_markdown":"@user1763295 can we see that code?  That sort of sounds fine.","body":"@user1763295 can we see that code?  That sort of sounds fine."},{"owner":{"account_id":1962038,"reputation":890,"user_id":1763295,"accept_rate":77,"display_name":"user1763295"},"score":0,"creation_date":1418940761,"post_id":27554918,"comment_id":43539446,"body_markdown":"Yeah sure, I&#39;ve added it now for you.","body":"Yeah sure, I&#39;ve added it now for you."}],"owner":{"account_id":1962038,"reputation":890,"user_id":1763295,"accept_rate":77,"display_name":"user1763295"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1671204393,"creation_date":1418933718,"question_id":27554918,"body_markdown":"I am trying to create an object which has two parts, a string and a method. For my handling of this I want the user to be able to do add(Instance) or add(string, lambda).\r\n\r\nThe way I understand it, I can&#39;t use an interface because they don&#39;t have public only properties (Not static), I can&#39;t use a class because then I couldn&#39;t pass it as an argument and I can&#39;t pass an interface then call the method directly because that would be bad practice.\r\n\r\nSo how / what is the best way to do this?\r\n\r\nEG:\r\n\r\n    interface IFoo {\r\n        void DoBar();\r\n    }\r\n\r\n    class Foo implmenets IFoo {\r\n        public string Bar;\r\n    }\r\n\r\nEG add:\r\n\r\n    void addFoo(Foo foo) {\r\n         this.foos.add(foo);\r\n    }\r\n\r\n    void addFoo(String bar, IFoo foo) {\r\n        foo.Bar = bar;\r\n        this.foos.add(foo);\r\n    }\r\n\r\n\r\nEG usage:\r\n\r\n    addFoo(&quot;yes&quot;, () -&gt; {\r\n        //some code\r\n    });\r\n\r\n\r\nEDIT: My current solution, feels like it would be bad practice, but it&#39;s the best I can come up with until someone else has a better idea.\r\n\r\nInterface (For the Lambda to use)\r\n\r\n    @FunctionalInterface\r\n    public interface ICommand\r\n    {\r\n        void processCommand(CommandArgument[] args);\r\n    }\r\n\r\nClass (For instancing)\r\n\r\n    public abstract class Command implements ICommand\r\n    {\r\n        public String command = &quot;&quot;;\r\n    \r\n        public abstract void processCommand(CommandArgument[] args);\r\n    }\r\n\r\nAdd method\r\n\r\n    public void addCommand(String commandName, ICommand action) {\r\n        Command command = new Command() {\r\n            @Override\r\n            public void processCommand(CommandArgument[] args) {\r\n                action.processCommand(args);\r\n            }\r\n        };\r\n        command.command = commandName;\r\n\r\n        this.addCommand(command);\r\n    }\r\n\r\nUsage:\r\n\r\n    CommandHandler handler = new CommandHandler();\r\n    handler.addCommand(&quot;quit&quot;, (CommandArgument[] args) -&gt; System.exit(0));","title":"Java passing lambda as argument with properties","body":"<p>I am trying to create an object which has two parts, a string and a method. For my handling of this I want the user to be able to do add(Instance) or add(string, lambda).</p>\n\n<p>The way I understand it, I can't use an interface because they don't have public only properties (Not static), I can't use a class because then I couldn't pass it as an argument and I can't pass an interface then call the method directly because that would be bad practice.</p>\n\n<p>So how / what is the best way to do this?</p>\n\n<p>EG:</p>\n\n<pre><code>interface IFoo {\n    void DoBar();\n}\n\nclass Foo implmenets IFoo {\n    public string Bar;\n}\n</code></pre>\n\n<p>EG add:</p>\n\n<pre><code>void addFoo(Foo foo) {\n     this.foos.add(foo);\n}\n\nvoid addFoo(String bar, IFoo foo) {\n    foo.Bar = bar;\n    this.foos.add(foo);\n}\n</code></pre>\n\n<p>EG usage:</p>\n\n<pre><code>addFoo(\"yes\", () -&gt; {\n    //some code\n});\n</code></pre>\n\n<p>EDIT: My current solution, feels like it would be bad practice, but it's the best I can come up with until someone else has a better idea.</p>\n\n<p>Interface (For the Lambda to use)</p>\n\n<pre><code>@FunctionalInterface\npublic interface ICommand\n{\n    void processCommand(CommandArgument[] args);\n}\n</code></pre>\n\n<p>Class (For instancing)</p>\n\n<pre><code>public abstract class Command implements ICommand\n{\n    public String command = \"\";\n\n    public abstract void processCommand(CommandArgument[] args);\n}\n</code></pre>\n\n<p>Add method</p>\n\n<pre><code>public void addCommand(String commandName, ICommand action) {\n    Command command = new Command() {\n        @Override\n        public void processCommand(CommandArgument[] args) {\n            action.processCommand(args);\n        }\n    };\n    command.command = commandName;\n\n    this.addCommand(command);\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>CommandHandler handler = new CommandHandler();\nhandler.addCommand(\"quit\", (CommandArgument[] args) -&gt; System.exit(0));\n</code></pre>\n"},{"tags":["java","android-studio","gradle","module","access-modifiers"],"owner":{"account_id":27273769,"reputation":1,"user_id":20794713,"display_name":"or 1324"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":250,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671204005,"creation_date":1671204005,"question_id":74826416,"body_markdown":"I have recently found out about an option in android studio to create modules. I have searched the internet for an option to restrict access to the module&#39;s classes from other modules, and found nothing. I saw that it is possible in kotlin using the &quot;internal&quot; keyword, but this keyword does not exist in java.\r\nIn the official Android Developers website, they talk about the benefits of modularity, about encapsulation, like modules somehow help in that. How can they help in that if the visibility modifiers stay the same?\r\nFrom what I have seen, the modules in android studio just seperate the code into multiple folders, exactly like packages, but force you to import the module to the other module in order to use it.\r\nAlso, in the official website, they have best practices for using modules, and as a part of it they say that it is important to expose only the main parts of the module, and not the inner code that make it work.\r\nIf I can not control the exposure of my classes and packages, how can I do that?\r\n\r\nI tried to search for module access modifiers to android studio in google, I tried to search for gradle options for restricting access, I tried to create a module myself and look for options during the creation process, I tried using kotlin&#39;s internal access modifier.\r\n\r\nNothing gave me answers. Nothing allowed me to restrict the access of parts of the module.\r\n\r\n Thanks in advance!","title":"Is there any way to restrict access to specific packages in modules in android while using java?","body":"<p>I have recently found out about an option in android studio to create modules. I have searched the internet for an option to restrict access to the module's classes from other modules, and found nothing. I saw that it is possible in kotlin using the &quot;internal&quot; keyword, but this keyword does not exist in java.\nIn the official Android Developers website, they talk about the benefits of modularity, about encapsulation, like modules somehow help in that. How can they help in that if the visibility modifiers stay the same?\nFrom what I have seen, the modules in android studio just seperate the code into multiple folders, exactly like packages, but force you to import the module to the other module in order to use it.\nAlso, in the official website, they have best practices for using modules, and as a part of it they say that it is important to expose only the main parts of the module, and not the inner code that make it work.\nIf I can not control the exposure of my classes and packages, how can I do that?</p>\n<p>I tried to search for module access modifiers to android studio in google, I tried to search for gradle options for restricting access, I tried to create a module myself and look for options during the creation process, I tried using kotlin's internal access modifier.</p>\n<p>Nothing gave me answers. Nothing allowed me to restrict the access of parts of the module.</p>\n<p>Thanks in advance!</p>\n"},{"tags":["javascript","java","jquery","jsp"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1671129605,"post_id":74815532,"comment_id":132037509,"body_markdown":"Please see [ask] then [edit] your question and add a [mcve].","body":"Please see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> then <a href=\"https://stackoverflow.com/posts/74815532/edit\">edit</a> your question and add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":20167003,"reputation":344,"user_id":14790684,"display_name":"Al-Anazi"},"score":0,"creation_date":1671158718,"post_id":74815532,"comment_id":132044004,"body_markdown":"You want AJAX see [this](https://stackoverflow.com/a/22786996/14790684).","body":"You want AJAX see <a href=\"https://stackoverflow.com/a/22786996/14790684\">this</a>."},{"owner":{"account_id":27113282,"reputation":11,"user_id":20658086,"display_name":"Vlad Phokhnitskyi"},"score":0,"creation_date":1671201681,"post_id":74815532,"comment_id":132054551,"body_markdown":"I actually posted a solution without ajax. I would really appreciate it if you could offer any suggestions for my answer. Thank you!","body":"I actually posted a solution without ajax. I would really appreciate it if you could offer any suggestions for my answer. Thank you!"}],"answers":[{"comments":[{"owner":{"account_id":20167003,"reputation":344,"user_id":14790684,"display_name":"Al-Anazi"},"score":0,"creation_date":1671202713,"post_id":74825932,"comment_id":132054941,"body_markdown":"If you read the docs [here](https://api.jquery.com/jquery.get), then you will notice that `$.get` is &quot;a shorthand Ajax function...&quot;.","body":"If you read the docs <a href=\"https://api.jquery.com/jquery.get\" rel=\"nofollow noreferrer\">here</a>, then you will notice that <code>$.get</code> is &quot;a shorthand Ajax function...&quot;."}],"tags":[],"owner":{"account_id":27113282,"reputation":11,"user_id":20658086,"display_name":"Vlad Phokhnitskyi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671203704,"creation_date":1671201603,"answer_id":74825932,"question_id":74815532,"body_markdown":"I actually found a solution to the problem, just wondering if it is save.\r\n\r\nI am using the following code:\r\nJsp file which I load data to:\r\n\r\n     &lt;c:import url=&quot;AllPendingMyDeals.jsp?&lt;%= UserID %&gt;&quot; var=&quot;dataPending&quot; /&gt;\r\n    //creating span to load data into\r\n    &lt;span id=&quot;AllPendingMyDealsSpan&quot;&gt;&lt;/span&gt;\r\n\r\nfile AllPendingMyDeals.jsp:\r\n\r\n    //loading all libs and classes\r\n    &lt;%@ page import=&quot;java.sql.*&quot; ..... %&gt;\r\n    \r\n    //Calling the functions from java to load the data\r\n    ArrayList&lt;Transaction&gt; AllPendingMyDeals = new ArrayList&lt;Transaction&gt;();\r\n    AllPendingMyDeals=myRDS.GetAllPendingBrokerDeals( 1,BrokerID, BrokerID ,&quot;0&quot;);\r\n    &lt;html&gt;\r\n    //creating the template for my data to be displayed (with classes and styles)\r\n     for( Transaction Trans : AllPendingMyDeals){\r\n    &lt;div&gt;.....&lt;/div&gt;\r\n    }\r\n    &lt;/html&gt;\r\n    \r\nAnd the javascript function to call and load data:\r\n\r\n    function getDataPending(callback){\r\n       $.get(&#39;AllPendingMyDeals.jsp&#39;, function(response) {\r\n         // Dynamically insert the data into the page\r\n         $(&#39;#AllPendingMyDealsSpan&#39;).html(response).ready(checkdata());\r\n       });\r\n     }\r\n    //function for checking loaded data after loading\r\n     function checkdata(){...}\r\n\r\nNow I am unsure how safe it is and am still solving a few issues with it. Is it a good way to do it or Ajax is better? \r\n","title":"How to dynamically load more data to the jsp page after it&#39;s loaded?","body":"<p>I actually found a solution to the problem, just wondering if it is save.</p>\n<p>I am using the following code:\nJsp file which I load data to:</p>\n<pre><code> &lt;c:import url=&quot;AllPendingMyDeals.jsp?&lt;%= UserID %&gt;&quot; var=&quot;dataPending&quot; /&gt;\n//creating span to load data into\n&lt;span id=&quot;AllPendingMyDealsSpan&quot;&gt;&lt;/span&gt;\n</code></pre>\n<p>file AllPendingMyDeals.jsp:</p>\n<pre><code>//loading all libs and classes\n&lt;%@ page import=&quot;java.sql.*&quot; ..... %&gt;\n\n//Calling the functions from java to load the data\nArrayList&lt;Transaction&gt; AllPendingMyDeals = new ArrayList&lt;Transaction&gt;();\nAllPendingMyDeals=myRDS.GetAllPendingBrokerDeals( 1,BrokerID, BrokerID ,&quot;0&quot;);\n&lt;html&gt;\n//creating the template for my data to be displayed (with classes and styles)\n for( Transaction Trans : AllPendingMyDeals){\n&lt;div&gt;.....&lt;/div&gt;\n}\n&lt;/html&gt;\n</code></pre>\n<p>And the javascript function to call and load data:</p>\n<pre><code>function getDataPending(callback){\n   $.get('AllPendingMyDeals.jsp', function(response) {\n     // Dynamically insert the data into the page\n     $('#AllPendingMyDealsSpan').html(response).ready(checkdata());\n   });\n }\n//function for checking loaded data after loading\n function checkdata(){...}\n</code></pre>\n<p>Now I am unsure how safe it is and am still solving a few issues with it. Is it a good way to do it or Ajax is better?</p>\n"}],"owner":{"account_id":27113282,"reputation":11,"user_id":20658086,"display_name":"Vlad Phokhnitskyi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":268,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1671203704,"creation_date":1671125997,"question_id":74815532,"body_markdown":"I have a problem here.\r\n\r\n**Pre-problem**\r\n\r\nI am frontend mostly but trying to solve one important problem. All my backend is on java and I know you can load data to the page before it loads and then display it in html between the &lt;%= data %&gt; tags. But it takes a very long time to load all the data I need. \r\n\r\n**Problem**\r\n\r\nIs there a way to dynamically load more data to the page after it had been loaded? Or make it work on the background (some king of async, etc.)? \r\n\r\nRight now waiting time before page loads is 5-10 seconds and it is extremely long. Also, while page loads everything looks like it froze.\r\n\r\n**More info**\r\n\r\nPlease let me know if you need an example of my code, etc. Thank you!\r\n\r\nI tried researching about it but only found some suggestions to use jQuery or other languages/plugins which i did not quite understand. I would like to make a solution which works with only jave, JS, jQuery if possible.","title":"How to dynamically load more data to the jsp page after it&#39;s loaded?","body":"<p>I have a problem here.</p>\n<p><strong>Pre-problem</strong></p>\n<p>I am frontend mostly but trying to solve one important problem. All my backend is on java and I know you can load data to the page before it loads and then display it in html between the &lt;%= data %&gt; tags. But it takes a very long time to load all the data I need.</p>\n<p><strong>Problem</strong></p>\n<p>Is there a way to dynamically load more data to the page after it had been loaded? Or make it work on the background (some king of async, etc.)?</p>\n<p>Right now waiting time before page loads is 5-10 seconds and it is extremely long. Also, while page loads everything looks like it froze.</p>\n<p><strong>More info</strong></p>\n<p>Please let me know if you need an example of my code, etc. Thank you!</p>\n<p>I tried researching about it but only found some suggestions to use jQuery or other languages/plugins which i did not quite understand. I would like to make a solution which works with only jave, JS, jQuery if possible.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9420,"page":803,"page_size":100}
