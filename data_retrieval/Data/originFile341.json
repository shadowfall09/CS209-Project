{"items":[{"tags":["java","kotlin","mocking","mockito","powermockito"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1688123204,"post_id":76571504,"comment_id":135034965,"body_markdown":"It&#39;s an implementation detail, you shouldn&#39;t be required to test it. Also, your method is always returning &quot;Wow&quot;, never anything else (because the static call is static, even and especially at runtime)","body":"It&#39;s an implementation detail, you shouldn&#39;t be required to test it. Also, your method is always returning &quot;Wow&quot;, never anything else (because the static call is static, even and especially at runtime)"}],"answers":[{"tags":[],"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687974028,"creation_date":1687974028,"answer_id":76575535,"question_id":76571504,"body_markdown":"Since Mockito version 3.4.0 it&#39;s possible to mock static methods when using `mockito-inline` dependency - see: [Mockito docs][1] or [you can read more here][2].\r\n\r\nIn your case it would look like this:\r\n```java\r\n@Test\r\nvoid notHelloTest() {\r\n    try (var mocked = Mockito.mockStatic(MyClass.class, CALLS_REAL_METHODS)) {\r\n        mocked.when(MyClass::something)\r\n              .thenReturn(&quot;not hello&quot;);\r\n\r\n        var result = MyClass.testAble();\r\n\r\n        assertEquals(&quot;LoL&quot;, result);\r\n    }\r\n}\r\n\r\n@Test\r\nvoid helloTest() {\r\n    try (var mocked = Mockito.mockStatic(MyClass.class, CALLS_REAL_METHODS)) {\r\n        mocked.when(MyClass::something)\r\n              .thenReturn(&quot;Hello&quot;);\r\n\r\n        var result = MyClass.testAble();\r\n\r\n        assertEquals(&quot;Wow&quot;, result);\r\n    }\r\n}\r\n```\r\n\r\nPlease note the `CALLS_REAL_METHODS` parameter (static import from `org.mockito.Answers`) passed to `mockStatic` method - it&#39;s required since we&#39;re testing the same class that we&#39;re mocking. Without it `MyClass.testAble()` returns `null` as we&#39;re not defining its behavior (and we want to test it, not mock it).\r\n\r\nI&#39;ve created a [GitHub repository][3] reproducing your question, where I&#39;ve also added the tests above - they both pass.\r\n\r\nAdditional note: you could solve the problem by using non-static methods instead of static ones and injecting the instance of your class into another class (and inject a [test double][4] in tests). [Dependency injection mechanisms][5] make it easy for us.\r\n\r\nYou may also want to read about the [try-with-resources block][6] - static mocking works only within the `try` block and the static mock is closed when the block ends.\r\n\r\n\r\n  [1]: https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#static_mocks\r\n  [2]: https://www.baeldung.com/mockito-mock-static-methods\r\n  [3]: https://github.com/Jonarzz/stack-overflow/commit/c4874faa946b457bea5ef6f5fbf4a41e036697a8\r\n  [4]: https://martinfowler.com/bliki/TestDouble.html\r\n  [5]: https://stackoverflow.com/questions/8578104/how-dependency-injection-fosters-testability\r\n  [6]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html","title":"I&#39;m creating unit test for a static class and it has method call of another static method from same class? How to can mock that method call?","body":"<p>Since Mockito version 3.4.0 it's possible to mock static methods when using <code>mockito-inline</code> dependency - see: <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#static_mocks\" rel=\"nofollow noreferrer\">Mockito docs</a> or <a href=\"https://www.baeldung.com/mockito-mock-static-methods\" rel=\"nofollow noreferrer\">you can read more here</a>.</p>\n<p>In your case it would look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid notHelloTest() {\n    try (var mocked = Mockito.mockStatic(MyClass.class, CALLS_REAL_METHODS)) {\n        mocked.when(MyClass::something)\n              .thenReturn(&quot;not hello&quot;);\n\n        var result = MyClass.testAble();\n\n        assertEquals(&quot;LoL&quot;, result);\n    }\n}\n\n@Test\nvoid helloTest() {\n    try (var mocked = Mockito.mockStatic(MyClass.class, CALLS_REAL_METHODS)) {\n        mocked.when(MyClass::something)\n              .thenReturn(&quot;Hello&quot;);\n\n        var result = MyClass.testAble();\n\n        assertEquals(&quot;Wow&quot;, result);\n    }\n}\n</code></pre>\n<p>Please note the <code>CALLS_REAL_METHODS</code> parameter (static import from <code>org.mockito.Answers</code>) passed to <code>mockStatic</code> method - it's required since we're testing the same class that we're mocking. Without it <code>MyClass.testAble()</code> returns <code>null</code> as we're not defining its behavior (and we want to test it, not mock it).</p>\n<p>I've created a <a href=\"https://github.com/Jonarzz/stack-overflow/commit/c4874faa946b457bea5ef6f5fbf4a41e036697a8\" rel=\"nofollow noreferrer\">GitHub repository</a> reproducing your question, where I've also added the tests above - they both pass.</p>\n<p>Additional note: you could solve the problem by using non-static methods instead of static ones and injecting the instance of your class into another class (and inject a <a href=\"https://martinfowler.com/bliki/TestDouble.html\" rel=\"nofollow noreferrer\">test double</a> in tests). <a href=\"https://stackoverflow.com/questions/8578104/how-dependency-injection-fosters-testability\">Dependency injection mechanisms</a> make it easy for us.</p>\n<p>You may also want to read about the <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources block</a> - static mocking works only within the <code>try</code> block and the static mock is closed when the block ends.</p>\n"}],"owner":{"account_id":20893477,"reputation":13,"user_id":15348315,"display_name":"Gul Ahmed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":438,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76575535,"answer_count":1,"score":1,"last_activity_date":1687974028,"creation_date":1687942015,"question_id":76571504,"body_markdown":"How can I create unit test for testAble() method and mock the behavior of something() method?\r\n\r\n\r\n```\r\npublic class MyClass {\r\n    public static String something() {\r\n        return &quot;Hello&quot;;\r\n    }\r\n\r\n    public static String testAble() {\r\n        if (something().equals(&quot;Hello&quot;)) {\r\n            return &quot;Wow&quot;;\r\n        }\r\n        return &quot;LoL&quot;;\r\n    }\r\n}\r\n```\r\n\r\n\r\nI was trying to do it using Mockito but I came to know that we can&#39;t mock static using Mockito.","title":"I&#39;m creating unit test for a static class and it has method call of another static method from same class? How to can mock that method call?","body":"<p>How can I create unit test for testAble() method and mock the behavior of something() method?</p>\n<pre><code>public class MyClass {\n    public static String something() {\n        return &quot;Hello&quot;;\n    }\n\n    public static String testAble() {\n        if (something().equals(&quot;Hello&quot;)) {\n            return &quot;Wow&quot;;\n        }\n        return &quot;LoL&quot;;\n    }\n}\n</code></pre>\n<p>I was trying to do it using Mockito but I came to know that we can't mock static using Mockito.</p>\n"},{"tags":["java","jdbc","log4j2"],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1687973921,"creation_date":1687973921,"answer_id":76575526,"question_id":76575232,"body_markdown":"The [documentation][1] says that the DataSource that you use for the connector should use a connection pool:\r\n&gt; It can be configured to obtain JDBC connections using a JNDI DataSource or a custom factory method.\r\n&gt;\r\n&gt; ...\r\n&gt;\r\n&gt; Whichever approach you take, it must be backed by a connection pool. Otherwise, logging performance will suffer greatly.\r\n\r\nSo it is up to your implementation, that you didn&#39;t share here. It is not log4j2 responsibility to implement a JDBC connection pool.\r\n\r\nIt would not be a good idea to try to implement a custom database connection pool. Use one of the existing libraries for that.\r\n\r\n  [1]: https://logging.apache.org/log4j/2.x/manual/appenders.html#JDBCAppender","title":"Does the log4j2 JDBC Appender close the connection by itself?","body":"<p>The <a href=\"https://logging.apache.org/log4j/2.x/manual/appenders.html#JDBCAppender\" rel=\"nofollow noreferrer\">documentation</a> says that the DataSource that you use for the connector should use a connection pool:</p>\n<blockquote>\n<p>It can be configured to obtain JDBC connections using a JNDI DataSource or a custom factory method.</p>\n<p>...</p>\n<p>Whichever approach you take, it must be backed by a connection pool. Otherwise, logging performance will suffer greatly.</p>\n</blockquote>\n<p>So it is up to your implementation, that you didn't share here. It is not log4j2 responsibility to implement a JDBC connection pool.</p>\n<p>It would not be a good idea to try to implement a custom database connection pool. Use one of the existing libraries for that.</p>\n"}],"owner":{"account_id":17019559,"reputation":15,"user_id":19583397,"display_name":"Will W."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76575526,"answer_count":1,"score":0,"last_activity_date":1687973933,"creation_date":1687970916,"question_id":76575232,"body_markdown":"I&#39;ve been finding that the log4j2 jdbc appender is really slow every single time an error is being pushed to the database. I think the jdbc appender is closing the connection every single time and then making a new connection. If this is the case, is there some way I can have the appender stop closing the connection everytime? I have the connection stored in the database connection class that I made and I close the connection before the program terminates.","title":"Does the log4j2 JDBC Appender close the connection by itself?","body":"<p>I've been finding that the log4j2 jdbc appender is really slow every single time an error is being pushed to the database. I think the jdbc appender is closing the connection every single time and then making a new connection. If this is the case, is there some way I can have the appender stop closing the connection everytime? I have the connection stored in the database connection class that I made and I close the connection before the program terminates.</p>\n"},{"tags":["java","xml","dom","xml-parsing"],"answers":[{"tags":[],"owner":{"account_id":15763,"reputation":24196,"user_id":33663,"accept_rate":74,"display_name":"jishi"},"down_vote_count":0,"up_vote_count":49,"is_accepted":true,"score":49,"last_activity_date":1303387677,"creation_date":1303380451,"answer_id":5742563,"question_id":5742543,"body_markdown":"There are a few characters that are dissallowed in XML documents, even when you encapsulate data in CDATA-blocks.\r\n\r\nIf you generated the document you will need to &lt;strike&gt;entity encode it or&lt;/strike&gt; strip it out. If you have an errorneous document, you should strip away these characters before trying to parse it.\r\n\r\nSee dolmens answer in this thread: https://stackoverflow.com/questions/730133/invalid-characters-in-xml\r\n\r\nWhere he links to this article: http://www.w3.org/TR/xml/#charsets\r\n\r\nBasically, all characters below 0x20 is disallowed, except 0x9 (TAB), 0xA (CR?), 0xD (LF?) ","title":"An invalid XML character (Unicode: 0xc) was found","body":"<p>There are a few characters that are dissallowed in XML documents, even when you encapsulate data in CDATA-blocks.</p>\n\n<p>If you generated the document you will need to <strike>entity encode it or</strike> strip it out. If you have an errorneous document, you should strip away these characters before trying to parse it.</p>\n\n<p>See dolmens answer in this thread: <a href=\"https://stackoverflow.com/questions/730133/invalid-characters-in-xml\">Invalid Characters in XML</a></p>\n\n<p>Where he links to this article: <a href=\"http://www.w3.org/TR/xml/#charsets\" rel=\"noreferrer\">http://www.w3.org/TR/xml/#charsets</a></p>\n\n<p>Basically, all characters below 0x20 is disallowed, except 0x9 (TAB), 0xA (CR?), 0xD (LF?) </p>\n"},{"tags":[],"owner":{"account_id":47176,"reputation":33749,"user_id":139595,"accept_rate":88,"display_name":"J&#246;rn Horstmann"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1303384142,"creation_date":1303384142,"answer_id":5743262,"question_id":5742543,"body_markdown":"The character 0x0C is be invalid in XML 1.0 but would be a [valid character in XML 1.1][1]. So unless the xml file specifies the version as 1.1 in the prolog it is simply invalid and you should complain to the producer of this file.\r\n\r\n\r\n [1]: http://www.w3.org/TR/xml11/#NT-Char","title":"An invalid XML character (Unicode: 0xc) was found","body":"<p>The character 0x0C is be invalid in XML 1.0 but would be a <a href=\"http://www.w3.org/TR/xml11/#NT-Char\" rel=\"noreferrer\">valid character in XML 1.1</a>. So unless the xml file specifies the version as 1.1 in the prolog it is simply invalid and you should complain to the producer of this file.</p>\n"},{"tags":[],"owner":{"account_id":137166,"reputation":1740,"user_id":341170,"display_name":"Mohit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392367562,"creation_date":1392367562,"answer_id":21774580,"question_id":5742543,"body_markdown":"I faced a similar issue where XML was containing control characters. After looking into the code, I found that a deprecated class,StringBufferInputStream, was used for reading string content.\r\n\r\n http://docs.oracle.com/javase/7/docs/api/java/io/StringBufferInputStream.html\r\n\r\n    This class does not properly convert characters into bytes. As of JDK 1.1, the preferred way to create a stream from a string is via the StringReader class.\r\n\r\nI changed it to ByteArrayInputStream and it worked fine.","title":"An invalid XML character (Unicode: 0xc) was found","body":"<p>I faced a similar issue where XML was containing control characters. After looking into the code, I found that a deprecated class,StringBufferInputStream, was used for reading string content.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/StringBufferInputStream.html\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/api/java/io/StringBufferInputStream.html</a></p>\n\n<pre><code>This class does not properly convert characters into bytes. As of JDK 1.1, the preferred way to create a stream from a string is via the StringReader class.\n</code></pre>\n\n<p>I changed it to ByteArrayInputStream and it worked fine.</p>\n"},{"tags":[],"owner":{"account_id":5556973,"reputation":200,"user_id":4408007,"display_name":"Komal"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1462605046,"creation_date":1420021998,"answer_id":27719860,"question_id":5742543,"body_markdown":"Whenever invalid xml character comes xml, it gives such error. When u open it in notepad++ it look like VT, SOH,FF like these are invalid xml chars. I m using xml version 1.0 and i validate text data before entering it in database by pattern \r\n\r\n    Pattern p = Pattern.compile(&quot;[^\\u0009\\u000A\\u000D\\u0020-\\uD7FF\\uE000-\\uFFFD\\u10000-\\u10FFF]+&quot;); \r\n    retunContent = p.matcher(retunContent).replaceAll(&quot;&quot;);\r\n\r\nIt will ensure that no invalid special char will enter in xml\r\n","title":"An invalid XML character (Unicode: 0xc) was found","body":"<p>Whenever invalid xml character comes xml, it gives such error. When u open it in notepad++ it look like VT, SOH,FF like these are invalid xml chars. I m using xml version 1.0 and i validate text data before entering it in database by pattern </p>\n\n<pre><code>Pattern p = Pattern.compile(\"[^\\u0009\\u000A\\u000D\\u0020-\\uD7FF\\uE000-\\uFFFD\\u10000-\\u10FFF]+\"); \nretunContent = p.matcher(retunContent).replaceAll(\"\");\n</code></pre>\n\n<p>It will ensure that no invalid special char will enter in xml</p>\n"},{"tags":[],"owner":{"account_id":1454819,"reputation":1045,"user_id":1370705,"accept_rate":75,"display_name":"Dima"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1447346808,"creation_date":1447346808,"answer_id":33676819,"question_id":5742543,"body_markdown":"    public String stripNonValidXMLCharacters(String in) {\r\n        StringBuffer out = new StringBuffer(); // Used to hold the output.\r\n        char current; // Used to reference the current character.\r\n\r\n        if (in == null || (&quot;&quot;.equals(in))) return &quot;&quot;; // vacancy test.\r\n        for (int i = 0; i &lt; in.length(); i++) {\r\n            current = in.charAt(i); // NOTE: No IndexOutOfBoundsException caught here; it should not happen.\r\n            if ((current == 0x9) ||\r\n                (current == 0xA) ||\r\n                (current == 0xD) ||\r\n                ((current &gt;= 0x20) &amp;&amp; (current &lt;= 0xD7FF)) ||\r\n                ((current &gt;= 0xE000) &amp;&amp; (current &lt;= 0xFFFD)) ||\r\n                ((current &gt;= 0x10000) &amp;&amp; (current &lt;= 0x10FFFF)))\r\n                out.append(current);\r\n        }\r\n        return out.toString();\r\n    }    ","title":"An invalid XML character (Unicode: 0xc) was found","body":"<pre><code>public String stripNonValidXMLCharacters(String in) {\n    StringBuffer out = new StringBuffer(); // Used to hold the output.\n    char current; // Used to reference the current character.\n\n    if (in == null || (\"\".equals(in))) return \"\"; // vacancy test.\n    for (int i = 0; i &lt; in.length(); i++) {\n        current = in.charAt(i); // NOTE: No IndexOutOfBoundsException caught here; it should not happen.\n        if ((current == 0x9) ||\n            (current == 0xA) ||\n            (current == 0xD) ||\n            ((current &gt;= 0x20) &amp;&amp; (current &lt;= 0xD7FF)) ||\n            ((current &gt;= 0xE000) &amp;&amp; (current &lt;= 0xFFFD)) ||\n            ((current &gt;= 0x10000) &amp;&amp; (current &lt;= 0x10FFFF)))\n            out.append(current);\n    }\n    return out.toString();\n}    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1400419,"reputation":1726,"user_id":1329308,"display_name":"Vadim Zin4uk"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1497533132,"creation_date":1497533132,"answer_id":44568779,"question_id":5742543,"body_markdown":"You can filter all &#39;invalid&#39; chars with a custom FilterReader class:\r\n\r\n\r\n    public class InvalidXmlCharacterFilter extends FilterReader {\r\n    \r\n        protected InvalidXmlCharacterFilter(Reader in) {\r\n            super(in);\r\n        }\r\n    \r\n        @Override\r\n        public int read(char[] cbuf, int off, int len) throws IOException {\r\n            int read = super.read(cbuf, off, len);\r\n            if (read == -1) return read;\r\n    \r\n            for (int i = off; i &lt; off + read; i++) {\r\n                if (!XMLChar.isValid(cbuf[i])) cbuf[i] = &#39;?&#39;;\r\n            }\r\n            return read;\r\n        }\r\n    }\r\n\r\nAnd run it like this:\r\n\r\n    InputStream fileStream = new FileInputStream(xmlFile);\r\n    Reader reader = new BufferedReader(new InputStreamReader(fileStream, charset));\r\n    InvalidXmlCharacterFilter filter = new InvalidXmlCharacterFilter(reader);\r\n    InputSource is = new InputSource(filter);\r\n    xmlReader.parse(is);","title":"An invalid XML character (Unicode: 0xc) was found","body":"<p>You can filter all 'invalid' chars with a custom FilterReader class:</p>\n\n<pre><code>public class InvalidXmlCharacterFilter extends FilterReader {\n\n    protected InvalidXmlCharacterFilter(Reader in) {\n        super(in);\n    }\n\n    @Override\n    public int read(char[] cbuf, int off, int len) throws IOException {\n        int read = super.read(cbuf, off, len);\n        if (read == -1) return read;\n\n        for (int i = off; i &lt; off + read; i++) {\n            if (!XMLChar.isValid(cbuf[i])) cbuf[i] = '?';\n        }\n        return read;\n    }\n}\n</code></pre>\n\n<p>And run it like this:</p>\n\n<pre><code>InputStream fileStream = new FileInputStream(xmlFile);\nReader reader = new BufferedReader(new InputStreamReader(fileStream, charset));\nInvalidXmlCharacterFilter filter = new InvalidXmlCharacterFilter(reader);\nInputSource is = new InputSource(filter);\nxmlReader.parse(is);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3292390,"reputation":21,"user_id":2770401,"display_name":"BatBold"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513182575,"creation_date":1513182575,"answer_id":47797961,"question_id":5742543,"body_markdown":"For people who are reading byte array into String and trying to convert to object with JAXB, you can add &quot;iso-8859-1&quot; encoding by creating String from byte array like this:\r\n\r\nString JAXBallowedString= new String(byte[] input, &quot;iso-8859-1&quot;);\r\n\r\nThis would replace the conflicting byte to single-byte encoding which JAXB can handle. Obviously this solution is only to parse the xml.","title":"An invalid XML character (Unicode: 0xc) was found","body":"<p>For people who are reading byte array into String and trying to convert to object with JAXB, you can add \"iso-8859-1\" encoding by creating String from byte array like this:</p>\n\n<p>String JAXBallowedString= new String(byte[] input, \"iso-8859-1\");</p>\n\n<p>This would replace the conflicting byte to single-byte encoding which JAXB can handle. Obviously this solution is only to parse the xml.</p>\n"},{"tags":[],"owner":{"account_id":2114916,"reputation":921,"user_id":1879439,"accept_rate":0,"display_name":"Jerry Miller"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559748390,"creation_date":1559748390,"answer_id":56463549,"question_id":5742543,"body_markdown":"All of these answers seem to assume that the user is generating the bad XML, rather than receiving it from gSOAP, which should know better!","title":"An invalid XML character (Unicode: 0xc) was found","body":"<p>All of these answers seem to assume that the user is generating the bad XML, rather than receiving it from gSOAP, which should know better!</p>\n"},{"tags":[],"owner":{"account_id":11219671,"reputation":31,"user_id":8231192,"display_name":"P. Wolff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580295332,"creation_date":1580295332,"answer_id":59965566,"question_id":5742543,"body_markdown":"Today, I&#39;ve got a similar error:\r\n\r\n`Servlet.service() for servlet [remoting] in context with path [/***] threw exception [Request processing failed; nested exception is java.lang.RuntimeException: buildDocument failed.] with root cause\r\norg.xml.sax.SAXParseException; lineNumber: 19; columnNumber: 91; An invalid XML character (Unicode: 0xc) was found in the value of attribute &quot;text&quot; and element is &quot;label&quot;.`\r\n\r\n-----\r\n\r\nAfter my first encouter with the error, I had re-typed the entire line by hand, so that there was no way for a special character to creep in, and Notepad++ didn&#39;t show any non-printable characters (black on white), nevertheless I got the same error over and over.\r\n\r\nWhen I looked up what I&#39;ve done different than my predecessors, it turned out it was one additional space just before the closing /&gt; (as I&#39;ve heard was recommended for older parsers, but it shouldn&#39;t make any difference anyway, by the XML standards):\r\n\r\n`&lt;label text=&quot;this label&#39;s text&quot; layout=&quot;cell 0 0, align left&quot; /&gt;`\r\n\r\nWhen I removed the space:\r\n\r\n`&lt;label text=&quot;this label&#39;s text&quot; layout=&quot;cell 0 0, align left&quot;/&gt;`\r\n\r\neverything worked just fine.\r\n\r\n-----\r\n\r\nSo it&#39;s definitely a misleading error message.","title":"An invalid XML character (Unicode: 0xc) was found","body":"<p>Today, I've got a similar error:</p>\n\n<p><code>Servlet.service() for servlet [remoting] in context with path [/***] threw exception [Request processing failed; nested exception is java.lang.RuntimeException: buildDocument failed.] with root cause\norg.xml.sax.SAXParseException; lineNumber: 19; columnNumber: 91; An invalid XML character (Unicode: 0xc) was found in the value of attribute \"text\" and element is \"label\".</code></p>\n\n<hr>\n\n<p>After my first encouter with the error, I had re-typed the entire line by hand, so that there was no way for a special character to creep in, and Notepad++ didn't show any non-printable characters (black on white), nevertheless I got the same error over and over.</p>\n\n<p>When I looked up what I've done different than my predecessors, it turned out it was one additional space just before the closing /> (as I've heard was recommended for older parsers, but it shouldn't make any difference anyway, by the XML standards):</p>\n\n<p><code>&lt;label text=\"this label's text\" layout=\"cell 0 0, align left\" /&gt;</code></p>\n\n<p>When I removed the space:</p>\n\n<p><code>&lt;label text=\"this label's text\" layout=\"cell 0 0, align left\"/&gt;</code></p>\n\n<p>everything worked just fine.</p>\n\n<hr>\n\n<p>So it's definitely a misleading error message.</p>\n"},{"tags":[],"owner":{"account_id":178949,"reputation":12261,"user_id":411247,"accept_rate":91,"display_name":"Topera"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1638204474,"creation_date":1638194232,"answer_id":70155865,"question_id":5742543,"body_markdown":"On UTF-8, all the codes on these ranges are not allowed, for XML 1.0:\r\n\r\n - 0..8\r\n - B..C\r\n - E..1F\r\n - D800..DFFF\r\n - FFFE..FFFF\r\n\r\nA regex that can remove then is:\r\n\r\n    text.replaceAll(&#39;[\\\\x{0}-\\\\x{8}]|[\\\\x{B}-\\\\x{C}]|[\\\\x{E}-\\\\x{1F}]|[\\\\x{D800}-\\\\x{DFFF}]|[\\\\x{FFFE}-\\\\x{FFFF}]&#39;, &quot;&quot;)\r\n\r\nNote: if you are working with XML 1.1, you also need to remove these intervals:\r\n - 7F..84\r\n - 86..9F\r\n\r\nRefs:\r\n - XML 1.0 chars: https://www.w3.org/TR/xml/#charsets\r\n - XML 1.1 chars: https://www.w3.org/TR/xml11/#charsets","title":"An invalid XML character (Unicode: 0xc) was found","body":"<p>On UTF-8, all the codes on these ranges are not allowed, for XML 1.0:</p>\n<ul>\n<li>0..8</li>\n<li>B..C</li>\n<li>E..1F</li>\n<li>D800..DFFF</li>\n<li>FFFE..FFFF</li>\n</ul>\n<p>A regex that can remove then is:</p>\n<pre><code>text.replaceAll('[\\\\x{0}-\\\\x{8}]|[\\\\x{B}-\\\\x{C}]|[\\\\x{E}-\\\\x{1F}]|[\\\\x{D800}-\\\\x{DFFF}]|[\\\\x{FFFE}-\\\\x{FFFF}]', &quot;&quot;)\n</code></pre>\n<p>Note: if you are working with XML 1.1, you also need to remove these intervals:</p>\n<ul>\n<li>7F..84</li>\n<li>86..9F</li>\n</ul>\n<p>Refs:</p>\n<ul>\n<li>XML 1.0 chars: <a href=\"https://www.w3.org/TR/xml/#charsets\" rel=\"nofollow noreferrer\">https://www.w3.org/TR/xml/#charsets</a></li>\n<li>XML 1.1 chars: <a href=\"https://www.w3.org/TR/xml11/#charsets\" rel=\"nofollow noreferrer\">https://www.w3.org/TR/xml11/#charsets</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5437142,"reputation":54,"user_id":5663495,"display_name":"Martin Husted Hartvig"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687973455,"creation_date":1687521771,"answer_id":76539935,"question_id":5742543,"body_markdown":"I just used this project, and found it very handy: https://github.com/rwitzel/streamflyer\r\n\r\nUsing the InvalidXmlCharacterModifier, as the documentation says.\r\n\r\nLike this example:\r\n\r\n    public String stripNonValidXMLCharacters(final String in) {\r\n\r\n      final Modifier modifier = new InvalidXmlCharacterModifier(&quot;&quot;,\r\n        InvalidXmlCharacterModifier.XML_10_VERSION);\r\n    \r\n      final ModifyingReader modifyingReader = \r\n             new ModifyingReader(new StringReader(in), modifier);\r\n\r\n      return IOUtils.toString(modifyingReader);\r\n    }\r\n\r\n\r\n","title":"An invalid XML character (Unicode: 0xc) was found","body":"<p>I just used this project, and found it very handy: <a href=\"https://github.com/rwitzel/streamflyer\" rel=\"nofollow noreferrer\">https://github.com/rwitzel/streamflyer</a></p>\n<p>Using the InvalidXmlCharacterModifier, as the documentation says.</p>\n<p>Like this example:</p>\n<pre><code>public String stripNonValidXMLCharacters(final String in) {\n\n  final Modifier modifier = new InvalidXmlCharacterModifier(&quot;&quot;,\n    InvalidXmlCharacterModifier.XML_10_VERSION);\n\n  final ModifyingReader modifyingReader = \n         new ModifyingReader(new StringReader(in), modifier);\n\n  return IOUtils.toString(modifyingReader);\n}\n</code></pre>\n"}],"owner":{"account_id":324087,"reputation":1527,"user_id":644474,"accept_rate":67,"display_name":"Ashish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205179,"favorite_count":0,"down_vote_count":1,"up_vote_count":49,"accepted_answer_id":5742563,"answer_count":11,"score":48,"last_activity_date":1687973455,"creation_date":1303380344,"question_id":5742543,"body_markdown":"Parsing an XML file using the Java DOM parser results in:\r\n\r\n    [Fatal Error] os__flag_8c.xml:103:135: An invalid XML character (Unicode: 0xc) was found in the element content of the document.\r\n    org.xml.sax.SAXParseException: An invalid XML character (Unicode: 0xc) was found in the element content of the document.\r\n    \tat com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(Unknown Source)\r\n    \tat com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(Unknown Source)\r\n    \tat javax.xml.parsers.DocumentBuilder.parse(Unknown Source)","title":"An invalid XML character (Unicode: 0xc) was found","body":"<p>Parsing an XML file using the Java DOM parser results in:</p>\n\n<pre><code>[Fatal Error] os__flag_8c.xml:103:135: An invalid XML character (Unicode: 0xc) was found in the element content of the document.\norg.xml.sax.SAXParseException: An invalid XML character (Unicode: 0xc) was found in the element content of the document.\n    at com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(Unknown Source)\n    at com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(Unknown Source)\n    at javax.xml.parsers.DocumentBuilder.parse(Unknown Source)\n</code></pre>\n"},{"tags":["java","arrays","sorting","arraylist"],"answers":[{"tags":[],"owner":{"display_name":"user6073886"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687968154,"creation_date":1687968154,"answer_id":76574915,"question_id":76574563,"body_markdown":"There are 2 problems in your code.\r\n\r\nThe first one is that you constantly initialize sum as\r\n\r\n    sum = &quot; &quot;;\r\n\r\nThis is not an empty String, but a String already containing a space. Because you keep adding this extra space at the beginning of your Strings all your comparisons via equalsIgnoreCase will fail. (Because you will for example compare &quot; it&quot; with &quot;it&quot;) \r\n\r\nYour second problem is the second nested loop, because you tell your loop to iterate over the length of the list, but then add 2 additional objects to the list with each iteration:\r\n\r\n    for (int i = 0; i &lt; list.size() - 1; i++) {\r\n        // irrelevant code cut ....\r\n        list.add(i, list.get(minIndex));\r\n        list.add(minIndex, temp);\r\n    }\r\n\r\nSo the list will keep on growing and the loop will never reach the end of the List.\r\n\r\nMy guess is that you are trying to sort the list, but whatever your idea was it would be best to just start over and look up how lists are sorted.\r\n\r\nThe fixed version of your code:\r\n\r\n\r\n    class Solution {\r\n\r\n        public static boolean isPalindrome(final String check) {\r\n            String sum = &quot;&quot;;\r\n            for (int i = check.length() - 1; i &gt;= 0; i--) {\r\n                sum = sum + check.charAt(i);\r\n            }\r\n            if (sum.equalsIgnoreCase(check) == true) {\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        public static String longestPalindrome(final String s) {\r\n            final ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n            String sum = &quot;&quot;;\r\n            for (int i = 0; i &lt; s.length() - 1; i++) {\r\n                for (int j = i + 1; j &lt; s.length(); j++) {\r\n                    sum = s.substring(i, j + 1);\r\n                    if (isPalindrome(sum) == true) {\r\n                        list.add(sum);\r\n                        sum = &quot;&quot;;\r\n                    } else {\r\n                        sum = &quot;&quot;;\r\n                        continue;\r\n                    }\r\n                }\r\n            }\r\n\r\n\t\t\t\r\n            // Sort Strings by length\r\n            Collections.sort(list, (a, b)-&gt;Integer.compare(a.length(), b.length()));\r\n\r\n            if (list.size() != 0) {\r\n                final String get = list.get(list.size() - 1);\r\n                return get;\r\n            } else {\r\n                return null;\r\n            }\r\n        }\r\n\t\r\n        public static void main(final String[] args) {\r\n            final String palindrome = longestPalindrome(&quot;Polagerregale&quot;);\r\n            System.out.println(palindrome);\r\n        }\r\n    }\r\n\r\n\r\nRunning this code will give you the correcvt result of &quot;lagerregal&quot; as output.","title":"Longest Palindrome from a given String","body":"<p>There are 2 problems in your code.</p>\n<p>The first one is that you constantly initialize sum as</p>\n<pre><code>sum = &quot; &quot;;\n</code></pre>\n<p>This is not an empty String, but a String already containing a space. Because you keep adding this extra space at the beginning of your Strings all your comparisons via equalsIgnoreCase will fail. (Because you will for example compare &quot; it&quot; with &quot;it&quot;)</p>\n<p>Your second problem is the second nested loop, because you tell your loop to iterate over the length of the list, but then add 2 additional objects to the list with each iteration:</p>\n<pre><code>for (int i = 0; i &lt; list.size() - 1; i++) {\n    // irrelevant code cut ....\n    list.add(i, list.get(minIndex));\n    list.add(minIndex, temp);\n}\n</code></pre>\n<p>So the list will keep on growing and the loop will never reach the end of the List.</p>\n<p>My guess is that you are trying to sort the list, but whatever your idea was it would be best to just start over and look up how lists are sorted.</p>\n<p>The fixed version of your code:</p>\n<pre><code>class Solution {\n\n    public static boolean isPalindrome(final String check) {\n        String sum = &quot;&quot;;\n        for (int i = check.length() - 1; i &gt;= 0; i--) {\n            sum = sum + check.charAt(i);\n        }\n        if (sum.equalsIgnoreCase(check) == true) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    public static String longestPalindrome(final String s) {\n        final ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\n        String sum = &quot;&quot;;\n        for (int i = 0; i &lt; s.length() - 1; i++) {\n            for (int j = i + 1; j &lt; s.length(); j++) {\n                sum = s.substring(i, j + 1);\n                if (isPalindrome(sum) == true) {\n                    list.add(sum);\n                    sum = &quot;&quot;;\n                } else {\n                    sum = &quot;&quot;;\n                    continue;\n                }\n            }\n        }\n\n        \n        // Sort Strings by length\n        Collections.sort(list, (a, b)-&gt;Integer.compare(a.length(), b.length()));\n\n        if (list.size() != 0) {\n            final String get = list.get(list.size() - 1);\n            return get;\n        } else {\n            return null;\n        }\n    }\n\n    public static void main(final String[] args) {\n        final String palindrome = longestPalindrome(&quot;Polagerregale&quot;);\n        System.out.println(palindrome);\n    }\n}\n</code></pre>\n<p>Running this code will give you the correcvt result of &quot;lagerregal&quot; as output.</p>\n"},{"tags":[],"owner":{"account_id":250529,"reputation":11921,"user_id":527312,"accept_rate":73,"display_name":"ktm5124"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687973271,"creation_date":1687968926,"answer_id":76575016,"question_id":76574563,"body_markdown":"Here is one way of doing it. It uses a map (to try to make things more efficient). The other way — without using a map — is a little simpler, but it might  take longer to run, especially for large strings.\r\n\r\n    import java.util.Map;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.ArrayList;\r\n    \r\n    public class LongestPalindrome {\r\n        private String input, output = &quot;&quot;;\r\n        private Map&lt;Character, List&lt;Integer&gt;&gt; map;\r\n    \r\n        public LongestPalindrome(String input) {\r\n            this.input = input;\r\n            populate();\r\n            compute();\r\n        }\r\n    \r\n        private void populate() {\r\n            map = new HashMap&lt;&gt;();\r\n            for (int i = 0; i &lt; input.length(); i++) {\r\n                Character c = input.charAt(i);\r\n                if (!map.containsKey(c)) \r\n                    map.put(c, new ArrayList&lt;Integer&gt;());\r\n                map.get(c).add(i);\r\n            }\r\n        }\r\n    \r\n        private boolean isPalindrome(String substring) {\r\n            boolean palindrome = true;\r\n            int len = substring.length();\r\n            for (int i = 0; i &lt; len/2; i++) {\r\n                if (substring.charAt(i) != substring.charAt(len-1-i)) {\r\n                    palindrome = false;\r\n                    break;\r\n                }\r\n            }\r\n            return palindrome;\r\n        }\r\n    \r\n        private void compute() {\r\n            if (input.isEmpty()) { \r\n                return;\r\n            }\r\n            output = input.substring(0, 1);\r\n            for (Character c : map.keySet()) {\r\n                List&lt;Integer&gt; lst = map.get(c);\r\n                int len = lst.size();\r\n                for (int i = 0; i &lt; len; i++) {\r\n                    for (int j = len-1; j &gt; i; j--) {\r\n                        int begin = lst.get(i);\r\n                        int end = lst.get(j);\r\n                        if (end - begin + 1 &gt; output.length()) {\r\n                            String substring = input.substring(begin, end + 1);\r\n                            if (isPalindrome(substring)) {\r\n                                output = substring;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return output;\r\n        }\r\n    \r\n        public static void test(String testCase) {\r\n            System.out.println(&quot;Test case: &quot; + testCase);\r\n            long start = System.currentTimeMillis();\r\n            LongestPalindrome result = new LongestPalindrome(testCase);\r\n            long time = System.currentTimeMillis() - start;\r\n            System.out.println(&quot;Longest palindrome: &quot; + result);\r\n            System.out.printf(&quot;Time taken: %d ms\\n&quot;, time);\r\n            System.out.println(&quot;====================&quot;);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            test(&quot;x&quot;);\r\n            test(&quot;xx&quot;);\r\n            test(&quot;xyyx&quot;);\r\n            test(&quot;1xyyx2&quot;);\r\n            test(&quot;abcdedcba&quot;);\r\n            test(&quot;xx1abcdedcba1y&quot;);\r\n            test(&quot;&quot;);\r\n            test(&quot;  xyyx&quot;);\r\n        }\r\n    }\r\n\r\nI think that the map approach avoids a lot of unnecessary operations. Without a map, we could use a nested for loop, but the time complexity would be O(n^2).\r\n\r\nIn the code above, the populate() method is O(n), the isPalindrome method is O(n), and the compute() method is hopefully a lot faster than the O(n^2) approach, because it minimizes the number of operations.\r\n\r\nThere might be a more efficient algorithm for finding the longest palindrome in a given string. I tested the code above with several test cases and it seems to work fine.","title":"Longest Palindrome from a given String","body":"<p>Here is one way of doing it. It uses a map (to try to make things more efficient). The other way — without using a map — is a little simpler, but it might  take longer to run, especially for large strings.</p>\n<pre><code>import java.util.Map;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.ArrayList;\n\npublic class LongestPalindrome {\n    private String input, output = &quot;&quot;;\n    private Map&lt;Character, List&lt;Integer&gt;&gt; map;\n\n    public LongestPalindrome(String input) {\n        this.input = input;\n        populate();\n        compute();\n    }\n\n    private void populate() {\n        map = new HashMap&lt;&gt;();\n        for (int i = 0; i &lt; input.length(); i++) {\n            Character c = input.charAt(i);\n            if (!map.containsKey(c)) \n                map.put(c, new ArrayList&lt;Integer&gt;());\n            map.get(c).add(i);\n        }\n    }\n\n    private boolean isPalindrome(String substring) {\n        boolean palindrome = true;\n        int len = substring.length();\n        for (int i = 0; i &lt; len/2; i++) {\n            if (substring.charAt(i) != substring.charAt(len-1-i)) {\n                palindrome = false;\n                break;\n            }\n        }\n        return palindrome;\n    }\n\n    private void compute() {\n        if (input.isEmpty()) { \n            return;\n        }\n        output = input.substring(0, 1);\n        for (Character c : map.keySet()) {\n            List&lt;Integer&gt; lst = map.get(c);\n            int len = lst.size();\n            for (int i = 0; i &lt; len; i++) {\n                for (int j = len-1; j &gt; i; j--) {\n                    int begin = lst.get(i);\n                    int end = lst.get(j);\n                    if (end - begin + 1 &gt; output.length()) {\n                        String substring = input.substring(begin, end + 1);\n                        if (isPalindrome(substring)) {\n                            output = substring;\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    @Override\n    public String toString() {\n        return output;\n    }\n\n    public static void test(String testCase) {\n        System.out.println(&quot;Test case: &quot; + testCase);\n        long start = System.currentTimeMillis();\n        LongestPalindrome result = new LongestPalindrome(testCase);\n        long time = System.currentTimeMillis() - start;\n        System.out.println(&quot;Longest palindrome: &quot; + result);\n        System.out.printf(&quot;Time taken: %d ms\\n&quot;, time);\n        System.out.println(&quot;====================&quot;);\n    }\n\n    public static void main(String[] args) {\n        test(&quot;x&quot;);\n        test(&quot;xx&quot;);\n        test(&quot;xyyx&quot;);\n        test(&quot;1xyyx2&quot;);\n        test(&quot;abcdedcba&quot;);\n        test(&quot;xx1abcdedcba1y&quot;);\n        test(&quot;&quot;);\n        test(&quot;  xyyx&quot;);\n    }\n}\n</code></pre>\n<p>I think that the map approach avoids a lot of unnecessary operations. Without a map, we could use a nested for loop, but the time complexity would be O(n^2).</p>\n<p>In the code above, the populate() method is O(n), the isPalindrome method is O(n), and the compute() method is hopefully a lot faster than the O(n^2) approach, because it minimizes the number of operations.</p>\n<p>There might be a more efficient algorithm for finding the longest palindrome in a given string. I tested the code above with several test cases and it seems to work fine.</p>\n"}],"owner":{"account_id":28814087,"reputation":9,"user_id":22068130,"display_name":"kuljotSB"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1687973271,"creation_date":1687965482,"question_id":76574563,"body_markdown":"[PROBLEM STATEMENT](https://i.stack.imgur.com/iMDnX.png)\r\n\r\nthe problem statement is in the image to which link is given. Basically I have to print the longest palindrome in the String given to me in the problem statement.\r\n\r\n\r\n\r\nMy Approach: I have basically tried to solve the problem with use of ArrayList collection framework in Java. So I have extracted bits of the String periodically through the substring function and the have checked whether that bit is a palindrome or not by invoking another function, if yes then store in the ArrayList (called as list here). Then through selection sort algorithm, sort the bits of Strings in the ArrayList and then print the longest possible palindrome, but for some reason it just doesn&#39;t print the desired output.\r\n\r\nAttaching the code below:\r\n\r\n\r\n```\r\nclass Solution {\r\n\r\n    public boolean isPalindrome(String check)\r\n    {\r\n        String sum = &quot; &quot;;\r\n        for(int i=check.length()-1;i&gt;=0;i--)\r\n        {\r\n          sum = sum + check.charAt(i);\r\n        }\r\n        if(sum.equalsIgnoreCase(check)==true)\r\n        {\r\n            return true;\r\n        }\r\n        else\r\n        {\r\n            return false;\r\n        }\r\n    }\r\n    public String longestPalindrome(String s) {\r\n       ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n        String sum = &quot; &quot;;\r\n        for(int i=0;i&lt;s.length()-1;i++)\r\n        {\r\n          for(int j=i+1;j&lt;s.length();j++)\r\n          {\r\n               sum = s.substring(i,j+1);\r\n          \r\n          if(isPalindrome(sum)==true)\r\n          {\r\n              list.add(sum);\r\n              sum= &quot; &quot;;\r\n          }\r\n          else\r\n          {\r\n              sum=&quot; &quot;;\r\n              continue;\r\n          }\r\n          }\r\n        }\r\n\r\n        for(int i = 0;i&lt;list.size()-1;i++)\r\n        {\r\n            int minIndex=i;\r\n            for(int j=i+1;j&lt;list.size();j++)\r\n            {\r\n               if(list.get(j).length()&lt;list.get(minIndex).length())\r\n               {\r\n                   minIndex=j;\r\n               }\r\n            }\r\n            String temp = list.get(i);\r\n            list.add(i, list.get(minIndex));\r\n            list.add(minIndex, temp);\r\n        }\r\n\r\n        if(list.size()!=0)\r\n        {\r\n\r\n        \r\n        String get = list.get(list.size()-1);\r\n        return get;\r\n        }\r\n        else\r\n        {\r\n            return null;\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Longest Palindrome from a given String","body":"<p><a href=\"https://i.stack.imgur.com/iMDnX.png\" rel=\"nofollow noreferrer\">PROBLEM STATEMENT</a></p>\n<p>the problem statement is in the image to which link is given. Basically I have to print the longest palindrome in the String given to me in the problem statement.</p>\n<p>My Approach: I have basically tried to solve the problem with use of ArrayList collection framework in Java. So I have extracted bits of the String periodically through the substring function and the have checked whether that bit is a palindrome or not by invoking another function, if yes then store in the ArrayList (called as list here). Then through selection sort algorithm, sort the bits of Strings in the ArrayList and then print the longest possible palindrome, but for some reason it just doesn't print the desired output.</p>\n<p>Attaching the code below:</p>\n<pre><code>class Solution {\n\n    public boolean isPalindrome(String check)\n    {\n        String sum = &quot; &quot;;\n        for(int i=check.length()-1;i&gt;=0;i--)\n        {\n          sum = sum + check.charAt(i);\n        }\n        if(sum.equalsIgnoreCase(check)==true)\n        {\n            return true;\n        }\n        else\n        {\n            return false;\n        }\n    }\n    public String longestPalindrome(String s) {\n       ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\n        String sum = &quot; &quot;;\n        for(int i=0;i&lt;s.length()-1;i++)\n        {\n          for(int j=i+1;j&lt;s.length();j++)\n          {\n               sum = s.substring(i,j+1);\n          \n          if(isPalindrome(sum)==true)\n          {\n              list.add(sum);\n              sum= &quot; &quot;;\n          }\n          else\n          {\n              sum=&quot; &quot;;\n              continue;\n          }\n          }\n        }\n\n        for(int i = 0;i&lt;list.size()-1;i++)\n        {\n            int minIndex=i;\n            for(int j=i+1;j&lt;list.size();j++)\n            {\n               if(list.get(j).length()&lt;list.get(minIndex).length())\n               {\n                   minIndex=j;\n               }\n            }\n            String temp = list.get(i);\n            list.add(i, list.get(minIndex));\n            list.add(minIndex, temp);\n        }\n\n        if(list.size()!=0)\n        {\n\n        \n        String get = list.get(list.size()-1);\n        return get;\n        }\n        else\n        {\n            return null;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","sql","oracle","jdbc"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1628265442,"post_id":68684357,"comment_id":121382786,"body_markdown":"You actually can&#39;t use a set in a bind variable. What would be the problem with constructing the statement `String`-wise?","body":"You actually can&#39;t use a set in a bind variable. What would be the problem with constructing the statement <code>String</code>-wise?"},{"owner":{"account_id":2110340,"reputation":461,"user_id":1875747,"accept_rate":47,"display_name":"Peter Burkert"},"score":0,"creation_date":1628265489,"post_id":68684357,"comment_id":121382811,"body_markdown":"Using string concatenation leads to the security issue of sql injections","body":"Using string concatenation leads to the security issue of sql injections"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1628265608,"post_id":68684357,"comment_id":121382858,"body_markdown":"That&#39;s not the case here (unless you&#39;re allowing external passing of statements/queries into your code and you&#39;re not showing us…)","body":"That&#39;s not the case here (unless you&#39;re allowing external passing of statements/queries into your code and you&#39;re not showing us…)"},{"owner":{"account_id":2110340,"reputation":461,"user_id":1875747,"accept_rate":47,"display_name":"Peter Burkert"},"score":0,"creation_date":1628265668,"post_id":68684357,"comment_id":121382876,"body_markdown":"The strings are inputs from other systems/users, this was easier to explain","body":"The strings are inputs from other systems/users, this was easier to explain"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1628265880,"post_id":68684357,"comment_id":121382963,"body_markdown":"If it&#39;s just the set parameters, then injection shouldn&#39;t matter","body":"If it&#39;s just the set parameters, then injection shouldn&#39;t matter"}],"answers":[{"tags":[],"owner":{"account_id":779805,"reputation":4963,"user_id":836215,"display_name":"ibre5041"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687973132,"creation_date":1628267146,"answer_id":68684825,"question_id":68684357,"body_markdown":"Oracle&#39;s SQL supports two forms of IN operator\r\n\r\n- in values like `IN (1, 2, 3, :4)` . The the values are scalar, can be constants or bind variables and their amount MUST be defied/known before SQL is executed.\r\n\r\n- in subquery `IN (select single_column from ...)`. In this case there is a subquery returning a cursor.\r\n\r\nNeither of options is applicable for you directly.\r\nIf you have a luck and JDBC drivers support it, you can use `TABLE()` operator to convert a collection into in memory table:\r\n\r\n    SELECT * from example where tag in (select * from TABLE(?));\r\n\r\nThe `TABLE` operator will convert collection into a table and subquery will return a cursor.\r\n\r\nSee this [example][1]:\r\n\r\n    import java.math.BigDecimal;\r\n    \r\n    import java.sql.Connection;\r\n    import java.sql.PreparedStatement;\r\n    import java.sql.ResultSet;\r\n    \r\n    import javax.sql.DataSource;\r\n    \r\n    import oracle.sql.ARRAY;\r\n    import oracle.sql.ArrayDescriptor;\r\n    \r\n    import oracle.jdbc.pool.OracleDataSource;\r\n    \r\n    /**\r\n     * Tests an SQL query that uses the IN operator and the TABLE keyword.\r\n     * The TABLE keyword transforms a PL/SQL collection into a regular table.\r\n     * Hence a query can use the IN operator with a PL/SQL collection.\r\n     * A PL/SQL collection maps to a java array.\r\n     * Hence you can execute a query using a &lt;code&gt;PreparedStatement&lt;/code&gt; and an\r\n     * array as the parameter value.\r\n     * Note, however, that the PL/SQL collection type &lt;em&gt;must&lt;/em&gt; be a database\r\n     * named type, one that is defined using the CREATE TYPE [DDL] statement.\r\n     */\r\n    public class SqlQuery {\r\n      public static void main(String[] args) {\r\n        Connection c = null;\r\n        Object[] oa = new Object[3];\r\n        oa[0] = new BigDecimal(&quot;9712061&quot;);\r\n        oa[1] = new BigDecimal(&quot;9712062&quot;);\r\n        oa[2] = new BigDecimal(&quot;9712063&quot;);\r\n        PreparedStatement ps = null;\r\n        ResultSet rs = null;\r\n        String sql = &quot;select ENAME &quot; +\r\n                       &quot;from EMP &quot; +\r\n                      &quot;where EMPNO in (&quot; +\r\n                                      &quot;select * &quot; +\r\n                                        &quot;from table(?)&quot; +\r\n                                     &quot;)&quot;;\r\n        String url = &quot;jdbc:oracle:thin:scott/tiger@//localhost:1521/orcl&quot;;\r\n        try {\r\n          OracleDataSource ods = new OracleDataSource();\r\n          ods.setURL(url);\r\n          c = ods.getConnection();\r\n          ArrayDescriptor ad = ArrayDescriptor.createDescriptor(\r\n                                                           &quot;&lt;nested table type name&gt;&quot;,\r\n                                                           c);\r\n          ARRAY a = new ARRAY(ad, c, (Object) oa);\r\n          ps = c.prepareStatement(sql);\r\n          ps.setArray(1, a);\r\n\r\n          /* overcome deprecated ArrayDescriptor \r\n          int[] values = { 1, 2, 3 };\r\n          Array javaSqlArray = ((OracleConnection) conn).createOracleArray(&quot;&lt;nested table type name&gt;&quot;, values);\r\n          ps.setObject(1, javaSqlArray);\r\n          */\r\n          rs = ps.executeQuery();\r\n          while (rs.next()) {\r\n            System.out.println(rs.getString(1));\r\n          }\r\n        }\r\n        catch (Exception x) {\r\n          x.printStackTrace();\r\n        }\r\n        finally {\r\n          if (rs != null) {\r\n            try {\r\n              rs.close();\r\n            }\r\n            catch (Exception x) {\r\n              System.err.println(&quot;Failed to close result set.&quot;);\r\n              x.printStackTrace();\r\n            }\r\n          }\r\n          if (ps != null) {\r\n            try {\r\n              ps.close();\r\n            }\r\n            catch (Exception x) {\r\n              System.err.println(&quot;Failed to close statement.&quot;);\r\n              x.printStackTrace();\r\n            }\r\n          }\r\n          if (c != null) {\r\n            try {\r\n              c.close();\r\n            }\r\n            catch (Exception x) {\r\n              System.err.println(&quot;Failed to close database connection.&quot;);\r\n              x.printStackTrace();\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n\r\n**UPDATE:** @gouessej, I did check Metalink notes (Doc ID 2563257.1) and (Doc ID 1364193.1) and now it looks like Oracle JDBC **will not** support Connection.createArrayOf.\r\n\r\n    int[] intArray = { 5, 7, 9};\r\n    oracle.sql.ArrayDescriptor aDescriptor = new oracle.sql.ArrayDescriptor(&quot;&lt;user&gt;.TYPE1&quot;, connection);\r\n    oracle.sql.ARRAY array = new oracle.sql.ARRAY(aDescriptor, connection, intArray);\r\n    \r\n    Should be changed to:\r\n    \r\n    int[] intArray = { 5, 7, 9};\r\n    java.sql.Array array = (OracleConnection)connection.createOracleArray(&quot;&lt;user&gt;.TYPE1&quot;, intArray);\r\n\r\n&gt; NOTE:Oracle does not support anonymous array types and so does not\r\n&gt; support the standard Connection.createArrayOf method.\r\n\r\nI&#39;d say the reason is that PL/SQL is inspired by ADA and ADA is strongly typed language. Oracle does not have generic type for array of Strings, users have to create a named type for each use of non-scalar type.\r\n\r\n  [1]: https://community.oracle.com/tech/developers/discussion/532650/using-in-and-table-operators-via-jdbc\r\n\r\n","title":"Use createOracleArray with a prepared statement","body":"<p>Oracle's SQL supports two forms of IN operator</p>\n<ul>\n<li><p>in values like <code>IN (1, 2, 3, :4)</code> . The the values are scalar, can be constants or bind variables and their amount MUST be defied/known before SQL is executed.</p>\n</li>\n<li><p>in subquery <code>IN (select single_column from ...)</code>. In this case there is a subquery returning a cursor.</p>\n</li>\n</ul>\n<p>Neither of options is applicable for you directly.\nIf you have a luck and JDBC drivers support it, you can use <code>TABLE()</code> operator to convert a collection into in memory table:</p>\n<pre><code>SELECT * from example where tag in (select * from TABLE(?));\n</code></pre>\n<p>The <code>TABLE</code> operator will convert collection into a table and subquery will return a cursor.</p>\n<p>See this <a href=\"https://community.oracle.com/tech/developers/discussion/532650/using-in-and-table-operators-via-jdbc\" rel=\"nofollow noreferrer\">example</a>:</p>\n<pre><code>import java.math.BigDecimal;\n\nimport java.sql.Connection;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\n\nimport javax.sql.DataSource;\n\nimport oracle.sql.ARRAY;\nimport oracle.sql.ArrayDescriptor;\n\nimport oracle.jdbc.pool.OracleDataSource;\n\n/**\n * Tests an SQL query that uses the IN operator and the TABLE keyword.\n * The TABLE keyword transforms a PL/SQL collection into a regular table.\n * Hence a query can use the IN operator with a PL/SQL collection.\n * A PL/SQL collection maps to a java array.\n * Hence you can execute a query using a &lt;code&gt;PreparedStatement&lt;/code&gt; and an\n * array as the parameter value.\n * Note, however, that the PL/SQL collection type &lt;em&gt;must&lt;/em&gt; be a database\n * named type, one that is defined using the CREATE TYPE [DDL] statement.\n */\npublic class SqlQuery {\n  public static void main(String[] args) {\n    Connection c = null;\n    Object[] oa = new Object[3];\n    oa[0] = new BigDecimal(&quot;9712061&quot;);\n    oa[1] = new BigDecimal(&quot;9712062&quot;);\n    oa[2] = new BigDecimal(&quot;9712063&quot;);\n    PreparedStatement ps = null;\n    ResultSet rs = null;\n    String sql = &quot;select ENAME &quot; +\n                   &quot;from EMP &quot; +\n                  &quot;where EMPNO in (&quot; +\n                                  &quot;select * &quot; +\n                                    &quot;from table(?)&quot; +\n                                 &quot;)&quot;;\n    String url = &quot;jdbc:oracle:thin:scott/tiger@//localhost:1521/orcl&quot;;\n    try {\n      OracleDataSource ods = new OracleDataSource();\n      ods.setURL(url);\n      c = ods.getConnection();\n      ArrayDescriptor ad = ArrayDescriptor.createDescriptor(\n                                                       &quot;&lt;nested table type name&gt;&quot;,\n                                                       c);\n      ARRAY a = new ARRAY(ad, c, (Object) oa);\n      ps = c.prepareStatement(sql);\n      ps.setArray(1, a);\n\n      /* overcome deprecated ArrayDescriptor \n      int[] values = { 1, 2, 3 };\n      Array javaSqlArray = ((OracleConnection) conn).createOracleArray(&quot;&lt;nested table type name&gt;&quot;, values);\n      ps.setObject(1, javaSqlArray);\n      */\n      rs = ps.executeQuery();\n      while (rs.next()) {\n        System.out.println(rs.getString(1));\n      }\n    }\n    catch (Exception x) {\n      x.printStackTrace();\n    }\n    finally {\n      if (rs != null) {\n        try {\n          rs.close();\n        }\n        catch (Exception x) {\n          System.err.println(&quot;Failed to close result set.&quot;);\n          x.printStackTrace();\n        }\n      }\n      if (ps != null) {\n        try {\n          ps.close();\n        }\n        catch (Exception x) {\n          System.err.println(&quot;Failed to close statement.&quot;);\n          x.printStackTrace();\n        }\n      }\n      if (c != null) {\n        try {\n          c.close();\n        }\n        catch (Exception x) {\n          System.err.println(&quot;Failed to close database connection.&quot;);\n          x.printStackTrace();\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p><strong>UPDATE:</strong> @gouessej, I did check Metalink notes (Doc ID 2563257.1) and (Doc ID 1364193.1) and now it looks like Oracle JDBC <strong>will not</strong> support Connection.createArrayOf.</p>\n<pre><code>int[] intArray = { 5, 7, 9};\noracle.sql.ArrayDescriptor aDescriptor = new oracle.sql.ArrayDescriptor(&quot;&lt;user&gt;.TYPE1&quot;, connection);\noracle.sql.ARRAY array = new oracle.sql.ARRAY(aDescriptor, connection, intArray);\n\nShould be changed to:\n\nint[] intArray = { 5, 7, 9};\njava.sql.Array array = (OracleConnection)connection.createOracleArray(&quot;&lt;user&gt;.TYPE1&quot;, intArray);\n</code></pre>\n<blockquote>\n<p>NOTE:Oracle does not support anonymous array types and so does not\nsupport the standard Connection.createArrayOf method.</p>\n</blockquote>\n<p>I'd say the reason is that PL/SQL is inspired by ADA and ADA is strongly typed language. Oracle does not have generic type for array of Strings, users have to create a named type for each use of non-scalar type.</p>\n"}],"owner":{"account_id":2110340,"reputation":461,"user_id":1875747,"accept_rate":47,"display_name":"Peter Burkert"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2443,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687973132,"creation_date":1628264789,"question_id":68684357,"body_markdown":"I need to query data from an Oracle 19c Enterprise Edition through JDBC using read-only access.\r\nI am using Quarkus (https://quarkus.io) and an AgroalDataSource (ds in the following).\r\n\r\nI have a the following code (try/catch omitted for readability):\r\n\r\n```\r\nvar oSql = &quot;SELECT * FROM example WHERE tag in (?)&quot;;\r\nvar connection = ds.getConnection();\r\nvar oracleCon = connection.unwrap(OracleConnection.class);\r\nvar prepStmt = connection.preparedStatement(oSql);\r\n\r\n// here I would like to set the ? to a list and I found createOracleArray, but it needs a first parameter. How do I create it?\r\nvar arr = oracleCon.createOracleArray(&quot;???&quot;, new String[] {&quot;tag1&quot;, &quot;tag2&quot;});\r\nprepStmt.setArray(1, arr);\r\n```\r\n\r\n","title":"Use createOracleArray with a prepared statement","body":"<p>I need to query data from an Oracle 19c Enterprise Edition through JDBC using read-only access.\nI am using Quarkus (<a href=\"https://quarkus.io\" rel=\"nofollow noreferrer\">https://quarkus.io</a>) and an AgroalDataSource (ds in the following).</p>\n<p>I have a the following code (try/catch omitted for readability):</p>\n<pre><code>var oSql = &quot;SELECT * FROM example WHERE tag in (?)&quot;;\nvar connection = ds.getConnection();\nvar oracleCon = connection.unwrap(OracleConnection.class);\nvar prepStmt = connection.preparedStatement(oSql);\n\n// here I would like to set the ? to a list and I found createOracleArray, but it needs a first parameter. How do I create it?\nvar arr = oracleCon.createOracleArray(&quot;???&quot;, new String[] {&quot;tag1&quot;, &quot;tag2&quot;});\nprepStmt.setArray(1, arr);\n</code></pre>\n"},{"tags":["java","spring","spring-webflux","netty","spring-cloud-gateway"],"comments":[{"owner":{"account_id":556695,"reputation":3222,"user_id":918858,"accept_rate":86,"display_name":"Dexter Legaspi"},"score":0,"creation_date":1687910348,"post_id":76119529,"comment_id":135002407,"body_markdown":"are you saying you are using RestTemplate in one of the filters?  you shouldn&#39;t use RestTemplate in a reactive stack; you should be using WebClient instead.","body":"are you saying you are using RestTemplate in one of the filters?  you shouldn&#39;t use RestTemplate in a reactive stack; you should be using WebClient instead."},{"owner":{"account_id":6742230,"reputation":145,"user_id":5195090,"accept_rate":60,"display_name":"Abhishek Verma"},"score":0,"creation_date":1687971705,"post_id":76119529,"comment_id":135012609,"body_markdown":"Yes,you are correct, I should be using WebClient but in my case, I can&#39;t. I have tried using WebClient too. But to fulfill my requirement, I need to make all the subsequent 50+ API calls in a synchronized manner. I must process the 1st API call response 1st then the 2nd and so on. As I am using the XSLTs to construct the final response, and the XSLT contains the other API references which I am processing using the ExtensionFunctionDefinition. I think now that there is only one solution to my problem that I process the XSLT 1st to get all the APIs,fetch all the resp then parse the XSLT w/ resp.","body":"Yes,you are correct, I should be using WebClient but in my case, I can&#39;t. I have tried using WebClient too. But to fulfill my requirement, I need to make all the subsequent 50+ API calls in a synchronized manner. I must process the 1st API call response 1st then the 2nd and so on. As I am using the XSLTs to construct the final response, and the XSLT contains the other API references which I am processing using the ExtensionFunctionDefinition. I think now that there is only one solution to my problem that I process the XSLT 1st to get all the APIs,fetch all the resp then parse the XSLT w/ resp."},{"owner":{"account_id":556695,"reputation":3222,"user_id":918858,"accept_rate":86,"display_name":"Dexter Legaspi"},"score":0,"creation_date":1687976892,"post_id":76119529,"comment_id":135013474,"body_markdown":"well, you can also compose Mono/Flux if result of one is dependent on another by using `Publisher::flatMap` or `Mono::zip` or `Flux::mergeWith` or `Flux::concat` so you can _still_ use `WebClient`.  I cannot further comment on this since i don&#39;t have full picture of your use case so we&#39;ll leave it at that :-)","body":"well, you can also compose Mono/Flux if result of one is dependent on another by using <code>Publisher::flatMap</code> or <code>Mono::zip</code> or <code>Flux::mergeWith</code> or <code>Flux::concat</code> so you can <i>still</i> use <code>WebClient</code>.  I cannot further comment on this since i don&#39;t have full picture of your use case so we&#39;ll leave it at that :-)"},{"owner":{"account_id":16779732,"reputation":95,"user_id":12130212,"display_name":"Yevhenii Smyrnov"},"score":0,"creation_date":1692049968,"post_id":76119529,"comment_id":135570604,"body_markdown":"Actually, we have similar deadlock with a regular SpringMVC. Even when making a sequence of requests via the same RestTemplate (meaning that second call goes after the first finishes request) in one thread, it randomly might hang up the whole application. This problem only occurs when we change all our underlying services&#39; links to the WireMock instance (i.e. same host and port but endpoint is different). Also, there wasn&#39;t any problem even with WireMock mocks when we had RestTemplate bean being initialized via `new RestTemplate()` instead of `RestTemplateBuilder.build()`","body":"Actually, we have similar deadlock with a regular SpringMVC. Even when making a sequence of requests via the same RestTemplate (meaning that second call goes after the first finishes request) in one thread, it randomly might hang up the whole application. This problem only occurs when we change all our underlying services&#39; links to the WireMock instance (i.e. same host and port but endpoint is different). Also, there wasn&#39;t any problem even with WireMock mocks when we had RestTemplate bean being initialized via <code>new RestTemplate()</code> instead of <code>RestTemplateBuilder.build()</code>"},{"owner":{"account_id":6742230,"reputation":145,"user_id":5195090,"accept_rate":60,"display_name":"Abhishek Verma"},"score":0,"creation_date":1692089148,"post_id":76119529,"comment_id":135574205,"body_markdown":"Just for the update, recently we have resolved the issue, thanks to @dexter-legaspi for pointing me in the correct direction. Since I am new to the reactive APIs and Spring Gateway I was not following the best practices and I was not aware about most of the APIs in Mono object. I solved it by wrapping the entire service call in future objects and returning mono of void to the GatewayHandler which frees the netty server thread and allows other API calls on the same thread. Now it works even with a single Netty server thread. I will share the code soon as an answer to this question.","body":"Just for the update, recently we have resolved the issue, thanks to @dexter-legaspi for pointing me in the correct direction. Since I am new to the reactive APIs and Spring Gateway I was not following the best practices and I was not aware about most of the APIs in Mono object. I solved it by wrapping the entire service call in future objects and returning mono of void to the GatewayHandler which frees the netty server thread and allows other API calls on the same thread. Now it works even with a single Netty server thread. I will share the code soon as an answer to this question."}],"owner":{"account_id":6742230,"reputation":145,"user_id":5195090,"accept_rate":60,"display_name":"Abhishek Verma"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687972626,"creation_date":1682592690,"question_id":76119529,"body_markdown":"I am using Spring Cloud gateway, Spring boot webflux starter, and default embedded netty server.\r\n\r\nI have created two routes\r\n\r\nRoute1: /api/v1/task\r\n &amp;\r\nRoute2: /api/v1/general\r\n\r\nRoute1: There are a few filters used by it that will update the request path and filter chain will continue and spring cloud gateway will call the proxy server, after receiving the response, custom filter will modify the response and update the headers, and then return the modified response.\r\n\r\nRoute2: There are different sets of filters that will do some work, call the localhost/api/v1/task using RestTemplate and do some modification on the response and return the modified response. The filter which is doing modification of RestTemplate response stops the filter chain and returns the response using `return exchange.mutate().response(res).build().getResponse().setComplete();`. As there is no proxy endpoint available I am stoping the chain.\r\n\r\nHere, I am getting the response properly, but sometimes the service is getting stuck in some kind of deadlock.\r\n\r\nI did some analysis and what I found is that, if the same `reactor-http-nio` thread is used by the inner API call(Using restTemplate to call Route1) which is used by route2 then the service is getting stuck and no other request will be served by the services. In order to confirm this behavior I updated the netty workerCount to 1 and saw that If I only call Route1 then services always returns the response. And if I use Route2 then the service will always get stuck and I need to restart the service to start using the other Routes.\r\n\r\nIn my application, I have 10+ routes and for the above-mentioned Route2, I have to call the other Routes with different parameters which will make 50+ API calls using localhost.\r\n\r\nBy looking at the behavior of the netty server, it looks like the first request will be served first, until the first request is not served, the 2nd request received on the same thread will get stuck and other threads will not pick it up. Due to this, I am facing a deadlock.\r\n\r\nCould someone suggest a way to serve the 2nd request without waiting for the previous one to get clear? I looked into the thread dump and saw that RestTemplate.execute method was waiting for the response, even if other threads are free no other requests are getting accepted after the service gets stuck.\r\n\r\nFor now I have applied two things to stop the deadlock from occurring.\r\n\r\n1. Increased the worker count to 80\r\n2. Making the RestTemplate call in completable future and kept the timeout so that if timeout error is received I can fail the Route2 with 500 error.\r\n\r\n--- Added after @DexterLegaspi  comment.\r\n\r\nIn my case, I am using XSLTs to construct the response for Route2. And my XSLT contains all the other API routes URLs using which I need to construct the response. To process XSLT I am using javax.xml TransformerFactory. To get the response from the API configured in XSLT I am using saxon library ExtensionFunctionDefinition(It allows to write custom functions in Java which can be called using the XSLT transformer). This function definition accepts the API path and returns the response of the API which needs to be a blocking function. If I use webClient blocking function then I am receiving a netty server `java.lang.IllegalStateException: block()/blockFirst()/blockLast() are blocking, which is not supported in thread reactor-http-nio-1` exception.","title":"Spring boot embedded nettey server deadlock when calling the same service other endpoint","body":"<p>I am using Spring Cloud gateway, Spring boot webflux starter, and default embedded netty server.</p>\n<p>I have created two routes</p>\n<p>Route1: /api/v1/task\n&amp;\nRoute2: /api/v1/general</p>\n<p>Route1: There are a few filters used by it that will update the request path and filter chain will continue and spring cloud gateway will call the proxy server, after receiving the response, custom filter will modify the response and update the headers, and then return the modified response.</p>\n<p>Route2: There are different sets of filters that will do some work, call the localhost/api/v1/task using RestTemplate and do some modification on the response and return the modified response. The filter which is doing modification of RestTemplate response stops the filter chain and returns the response using <code>return exchange.mutate().response(res).build().getResponse().setComplete();</code>. As there is no proxy endpoint available I am stoping the chain.</p>\n<p>Here, I am getting the response properly, but sometimes the service is getting stuck in some kind of deadlock.</p>\n<p>I did some analysis and what I found is that, if the same <code>reactor-http-nio</code> thread is used by the inner API call(Using restTemplate to call Route1) which is used by route2 then the service is getting stuck and no other request will be served by the services. In order to confirm this behavior I updated the netty workerCount to 1 and saw that If I only call Route1 then services always returns the response. And if I use Route2 then the service will always get stuck and I need to restart the service to start using the other Routes.</p>\n<p>In my application, I have 10+ routes and for the above-mentioned Route2, I have to call the other Routes with different parameters which will make 50+ API calls using localhost.</p>\n<p>By looking at the behavior of the netty server, it looks like the first request will be served first, until the first request is not served, the 2nd request received on the same thread will get stuck and other threads will not pick it up. Due to this, I am facing a deadlock.</p>\n<p>Could someone suggest a way to serve the 2nd request without waiting for the previous one to get clear? I looked into the thread dump and saw that RestTemplate.execute method was waiting for the response, even if other threads are free no other requests are getting accepted after the service gets stuck.</p>\n<p>For now I have applied two things to stop the deadlock from occurring.</p>\n<ol>\n<li>Increased the worker count to 80</li>\n<li>Making the RestTemplate call in completable future and kept the timeout so that if timeout error is received I can fail the Route2 with 500 error.</li>\n</ol>\n<p>--- Added after @DexterLegaspi  comment.</p>\n<p>In my case, I am using XSLTs to construct the response for Route2. And my XSLT contains all the other API routes URLs using which I need to construct the response. To process XSLT I am using javax.xml TransformerFactory. To get the response from the API configured in XSLT I am using saxon library ExtensionFunctionDefinition(It allows to write custom functions in Java which can be called using the XSLT transformer). This function definition accepts the API path and returns the response of the API which needs to be a blocking function. If I use webClient blocking function then I am receiving a netty server <code>java.lang.IllegalStateException: block()/blockFirst()/blockLast() are blocking, which is not supported in thread reactor-http-nio-1</code> exception.</p>\n"},{"tags":["java","docker-compose","postgis"],"owner":{"account_id":1615315,"reputation":7232,"user_id":1493192,"accept_rate":65,"display_name":"Gianni Spear"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687972460,"creation_date":1687972460,"question_id":76575380,"body_markdown":"I have a docker-compose.yml file with two image (Postgres extended PostGIS and pgadmin4) for a spring boot application:\r\n\r\n    version: &quot;3.8&quot;\r\n    \r\n    services:\r\n    \r\n      postgis:\r\n        image: postgis/postgis:15-3.3\r\n        container_name: postgis_container\r\n        ports:\r\n          - &quot;5432:5432&quot;\r\n        expose:\r\n          - 5432\r\n        restart: always\r\n        environment:\r\n          - POSTGRES_USER=user\r\n          - POSTGRES_PASSWORD=postgres\r\n          - POSTGRES_DB=dem\r\n          - POSTGRES_MULTIPLE_EXTENSIONS=postgis,hstore,postgis_topology,postgis_raster,pgrouting\r\n        networks:\r\n          - postgis_net\r\n        volumes:\r\n          - postgis-data:/var/lib/postgresql/data\r\n            # postgis_logs:/var/lib/postgresql/logs\r\n    \r\n      pgadmin:\r\n        image: dpage/pgadmin4\r\n        container_name: pgadmin4_container\r\n        ports:\r\n          - &quot;5050:80&quot;\r\n        restart: always\r\n        environment:\r\n          PGADMIN_DEFAULT_EMAIL: admin@admin.com\r\n          PGADMIN_DEFAULT_PASSWORD: admin\r\n        networks:\r\n          - postgis_net\r\n        volumes:\r\n          - pgadmin-data:/var/lib/pgadmin\r\n        depends_on:\r\n          - postgis\r\n    \r\n    \r\n    volumes:\r\n      postgis-data:\r\n      pgadmin-data:\r\n    \r\n    networks:\r\n      postgis_net:\r\n        driver: bridge\r\n\r\nEverything works perfectly (I can enter the DB postgis in pgadmin4) but I can&#39;t seem to connect the docker container with the QGIS application:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nand\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nI&#39;ve been reading all the possible solutions for several days but I can&#39;t get over this hurdle. In general, it is my understanding (but I could be wrong) that you have to operate in changing the `postgresql.conf` and `pg_hba.conf` files. Of course, each proposed solution is different and I tried to apply all of them by building containers from scratch several times.\r\n\r\nmy `pg_hba.conf` in the docker container (postgis)[`var/lib/postgresql/data/pg_hba.conf`] is:\r\n\r\n\r\n    # PostgreSQL Client Authentication Configuration File\r\n    # ===================================================\r\n    #\r\n    # Refer to the &quot;Client Authentication&quot; section in the PostgreSQL\r\n    # documentation for a complete description of this file.  A short\r\n    # synopsis follows.\r\n    #\r\n    # This file controls: which hosts are allowed to connect, how clients\r\n    # are authenticated, which PostgreSQL user names they can use, which\r\n    # databases they can access.  Records take one of these forms:\r\n    #\r\n    # local         DATABASE  USER  METHOD  [OPTIONS]\r\n    # host          DATABASE  USER  ADDRESS  METHOD  [OPTIONS]\r\n    # hostssl       DATABASE  USER  ADDRESS  METHOD  [OPTIONS]\r\n    # hostnossl     DATABASE  USER  ADDRESS  METHOD  [OPTIONS]\r\n    # hostgssenc    DATABASE  USER  ADDRESS  METHOD  [OPTIONS]\r\n    # hostnogssenc  DATABASE  USER  ADDRESS  METHOD  [OPTIONS]\r\n    #\r\n    # (The uppercase items must be replaced by actual values.)\r\n    #\r\n    # The first field is the connection type:\r\n    # - &quot;local&quot; is a Unix-domain socket\r\n    # - &quot;host&quot; is a TCP/IP socket (encrypted or not)\r\n    # - &quot;hostssl&quot; is a TCP/IP socket that is SSL-encrypted\r\n    # - &quot;hostnossl&quot; is a TCP/IP socket that is not SSL-encrypted\r\n    # - &quot;hostgssenc&quot; is a TCP/IP socket that is GSSAPI-encrypted\r\n    # - &quot;hostnogssenc&quot; is a TCP/IP socket that is not GSSAPI-encrypted\r\n    #\r\n    # DATABASE can be &quot;all&quot;, &quot;sameuser&quot;, &quot;samerole&quot;, &quot;replication&quot;, a\r\n    # database name, or a comma-separated list thereof. The &quot;all&quot;\r\n    # keyword does not match &quot;replication&quot;. Access to replication\r\n    # must be enabled in a separate record (see example below).\r\n    #\r\n    # USER can be &quot;all&quot;, a user name, a group name prefixed with &quot;+&quot;, or a\r\n    # comma-separated list thereof.  In both the DATABASE and USER fields\r\n    # you can also write a file name prefixed with &quot;@&quot; to include names\r\n    # from a separate file.\r\n    #\r\n    # ADDRESS specifies the set of hosts the record matches.  It can be a\r\n    # host name, or it is made up of an IP address and a CIDR mask that is\r\n    # an integer (between 0 and 32 (IPv4) or 128 (IPv6) inclusive) that\r\n    # specifies the number of significant bits in the mask.  A host name\r\n    # that starts with a dot (.) matches a suffix of the actual host name.\r\n    # Alternatively, you can write an IP address and netmask in separate\r\n    # columns to specify the set of hosts.  Instead of a CIDR-address, you\r\n    # can write &quot;samehost&quot; to match any of the server&#39;s own IP addresses,\r\n    # or &quot;samenet&quot; to match any address in any subnet that the server is\r\n    # directly connected to.\r\n    #\r\n    # METHOD can be &quot;trust&quot;, &quot;reject&quot;, &quot;md5&quot;, &quot;password&quot;, &quot;scram-sha-256&quot;,\r\n    # &quot;gss&quot;, &quot;sspi&quot;, &quot;ident&quot;, &quot;peer&quot;, &quot;pam&quot;, &quot;ldap&quot;, &quot;radius&quot; or &quot;cert&quot;.\r\n    # Note that &quot;password&quot; sends passwords in clear text; &quot;md5&quot; or\r\n    # &quot;scram-sha-256&quot; are preferred since they send encrypted passwords.\r\n    #\r\n    # OPTIONS are a set of options for the authentication in the format\r\n    # NAME=VALUE.  The available options depend on the different\r\n    # authentication methods -- refer to the &quot;Client Authentication&quot;\r\n    # section in the documentation for a list of which options are\r\n    # available for which authentication methods.\r\n    #\r\n    # Database and user names containing spaces, commas, quotes and other\r\n    # special characters must be quoted.  Quoting one of the keywords\r\n    # &quot;all&quot;, &quot;sameuser&quot;, &quot;samerole&quot; or &quot;replication&quot; makes the name lose\r\n    # its special character, and just match a database or username with\r\n    # that name.\r\n    #\r\n    # This file is read on server startup and when the server receives a\r\n    # SIGHUP signal.  If you edit the file on a running system, you have to\r\n    # SIGHUP the server for the changes to take effect, run &quot;pg_ctl reload&quot;,\r\n    # or execute &quot;SELECT pg_reload_conf()&quot;.\r\n    #\r\n    # Put your actual configuration here\r\n    # ----------------------------------\r\n    #\r\n    # If you want to allow non-local connections, you need to add more\r\n    # &quot;host&quot; records.  In that case you will also need to make PostgreSQL\r\n    # listen on a non-local interface via the listen_addresses\r\n    # configuration parameter, or via the -i or -h command line switches.\r\n    \r\n    # CAUTION: Configuring the system for local &quot;trust&quot; authentication\r\n    # allows any local user to connect as any PostgreSQL user, including\r\n    # the database superuser.  If you do not trust all your local users,\r\n    # use another authentication method.\r\n    \r\n    \r\n    # TYPE  DATABASE        USER            ADDRESS                 METHOD\r\n    \r\n    # &quot;local&quot; is for Unix domain socket connections only\r\n    local   all             all                                     trust\r\n    # IPv4 local connections:\r\n    host    all             all             127.0.0.1/32            trust\r\n    # IPv6 local connections:\r\n    host    all             all             ::1/128                 trust\r\n    # Allow replication connections from localhost, by a user with the\r\n    # replication privilege.\r\n    local   replication     all                                     trust\r\n    host    replication     all             127.0.0.1/32            trust\r\n    host    replication     all             ::1/128                 trust\r\n    \r\n    host all all all scram-sha-256\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GHGLt.png\r\n  [2]: https://i.stack.imgur.com/F2ZnT.png\r\n","title":"conncect QGIS to Postgis in a container return error message Failed: FATAL: password authentication failed for user &quot;user&quot;","body":"<p>I have a docker-compose.yml file with two image (Postgres extended PostGIS and pgadmin4) for a spring boot application:</p>\n<pre><code>version: &quot;3.8&quot;\n\nservices:\n\n  postgis:\n    image: postgis/postgis:15-3.3\n    container_name: postgis_container\n    ports:\n      - &quot;5432:5432&quot;\n    expose:\n      - 5432\n    restart: always\n    environment:\n      - POSTGRES_USER=user\n      - POSTGRES_PASSWORD=postgres\n      - POSTGRES_DB=dem\n      - POSTGRES_MULTIPLE_EXTENSIONS=postgis,hstore,postgis_topology,postgis_raster,pgrouting\n    networks:\n      - postgis_net\n    volumes:\n      - postgis-data:/var/lib/postgresql/data\n        # postgis_logs:/var/lib/postgresql/logs\n\n  pgadmin:\n    image: dpage/pgadmin4\n    container_name: pgadmin4_container\n    ports:\n      - &quot;5050:80&quot;\n    restart: always\n    environment:\n      PGADMIN_DEFAULT_EMAIL: admin@admin.com\n      PGADMIN_DEFAULT_PASSWORD: admin\n    networks:\n      - postgis_net\n    volumes:\n      - pgadmin-data:/var/lib/pgadmin\n    depends_on:\n      - postgis\n\n\nvolumes:\n  postgis-data:\n  pgadmin-data:\n\nnetworks:\n  postgis_net:\n    driver: bridge\n</code></pre>\n<p>Everything works perfectly (I can enter the DB postgis in pgadmin4) but I can't seem to connect the docker container with the QGIS application:</p>\n<p><a href=\"https://i.stack.imgur.com/GHGLt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GHGLt.png\" alt=\"enter image description here\" /></a></p>\n<p>and</p>\n<p><a href=\"https://i.stack.imgur.com/F2ZnT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/F2ZnT.png\" alt=\"enter image description here\" /></a></p>\n<p>I've been reading all the possible solutions for several days but I can't get over this hurdle. In general, it is my understanding (but I could be wrong) that you have to operate in changing the <code>postgresql.conf</code> and <code>pg_hba.conf</code> files. Of course, each proposed solution is different and I tried to apply all of them by building containers from scratch several times.</p>\n<p>my <code>pg_hba.conf</code> in the docker container (postgis)[<code>var/lib/postgresql/data/pg_hba.conf</code>] is:</p>\n<pre><code># PostgreSQL Client Authentication Configuration File\n# ===================================================\n#\n# Refer to the &quot;Client Authentication&quot; section in the PostgreSQL\n# documentation for a complete description of this file.  A short\n# synopsis follows.\n#\n# This file controls: which hosts are allowed to connect, how clients\n# are authenticated, which PostgreSQL user names they can use, which\n# databases they can access.  Records take one of these forms:\n#\n# local         DATABASE  USER  METHOD  [OPTIONS]\n# host          DATABASE  USER  ADDRESS  METHOD  [OPTIONS]\n# hostssl       DATABASE  USER  ADDRESS  METHOD  [OPTIONS]\n# hostnossl     DATABASE  USER  ADDRESS  METHOD  [OPTIONS]\n# hostgssenc    DATABASE  USER  ADDRESS  METHOD  [OPTIONS]\n# hostnogssenc  DATABASE  USER  ADDRESS  METHOD  [OPTIONS]\n#\n# (The uppercase items must be replaced by actual values.)\n#\n# The first field is the connection type:\n# - &quot;local&quot; is a Unix-domain socket\n# - &quot;host&quot; is a TCP/IP socket (encrypted or not)\n# - &quot;hostssl&quot; is a TCP/IP socket that is SSL-encrypted\n# - &quot;hostnossl&quot; is a TCP/IP socket that is not SSL-encrypted\n# - &quot;hostgssenc&quot; is a TCP/IP socket that is GSSAPI-encrypted\n# - &quot;hostnogssenc&quot; is a TCP/IP socket that is not GSSAPI-encrypted\n#\n# DATABASE can be &quot;all&quot;, &quot;sameuser&quot;, &quot;samerole&quot;, &quot;replication&quot;, a\n# database name, or a comma-separated list thereof. The &quot;all&quot;\n# keyword does not match &quot;replication&quot;. Access to replication\n# must be enabled in a separate record (see example below).\n#\n# USER can be &quot;all&quot;, a user name, a group name prefixed with &quot;+&quot;, or a\n# comma-separated list thereof.  In both the DATABASE and USER fields\n# you can also write a file name prefixed with &quot;@&quot; to include names\n# from a separate file.\n#\n# ADDRESS specifies the set of hosts the record matches.  It can be a\n# host name, or it is made up of an IP address and a CIDR mask that is\n# an integer (between 0 and 32 (IPv4) or 128 (IPv6) inclusive) that\n# specifies the number of significant bits in the mask.  A host name\n# that starts with a dot (.) matches a suffix of the actual host name.\n# Alternatively, you can write an IP address and netmask in separate\n# columns to specify the set of hosts.  Instead of a CIDR-address, you\n# can write &quot;samehost&quot; to match any of the server's own IP addresses,\n# or &quot;samenet&quot; to match any address in any subnet that the server is\n# directly connected to.\n#\n# METHOD can be &quot;trust&quot;, &quot;reject&quot;, &quot;md5&quot;, &quot;password&quot;, &quot;scram-sha-256&quot;,\n# &quot;gss&quot;, &quot;sspi&quot;, &quot;ident&quot;, &quot;peer&quot;, &quot;pam&quot;, &quot;ldap&quot;, &quot;radius&quot; or &quot;cert&quot;.\n# Note that &quot;password&quot; sends passwords in clear text; &quot;md5&quot; or\n# &quot;scram-sha-256&quot; are preferred since they send encrypted passwords.\n#\n# OPTIONS are a set of options for the authentication in the format\n# NAME=VALUE.  The available options depend on the different\n# authentication methods -- refer to the &quot;Client Authentication&quot;\n# section in the documentation for a list of which options are\n# available for which authentication methods.\n#\n# Database and user names containing spaces, commas, quotes and other\n# special characters must be quoted.  Quoting one of the keywords\n# &quot;all&quot;, &quot;sameuser&quot;, &quot;samerole&quot; or &quot;replication&quot; makes the name lose\n# its special character, and just match a database or username with\n# that name.\n#\n# This file is read on server startup and when the server receives a\n# SIGHUP signal.  If you edit the file on a running system, you have to\n# SIGHUP the server for the changes to take effect, run &quot;pg_ctl reload&quot;,\n# or execute &quot;SELECT pg_reload_conf()&quot;.\n#\n# Put your actual configuration here\n# ----------------------------------\n#\n# If you want to allow non-local connections, you need to add more\n# &quot;host&quot; records.  In that case you will also need to make PostgreSQL\n# listen on a non-local interface via the listen_addresses\n# configuration parameter, or via the -i or -h command line switches.\n\n# CAUTION: Configuring the system for local &quot;trust&quot; authentication\n# allows any local user to connect as any PostgreSQL user, including\n# the database superuser.  If you do not trust all your local users,\n# use another authentication method.\n\n\n# TYPE  DATABASE        USER            ADDRESS                 METHOD\n\n# &quot;local&quot; is for Unix domain socket connections only\nlocal   all             all                                     trust\n# IPv4 local connections:\nhost    all             all             127.0.0.1/32            trust\n# IPv6 local connections:\nhost    all             all             ::1/128                 trust\n# Allow replication connections from localhost, by a user with the\n# replication privilege.\nlocal   replication     all                                     trust\nhost    replication     all             127.0.0.1/32            trust\nhost    replication     all             ::1/128                 trust\n\nhost all all all scram-sha-256\n</code></pre>\n"},{"tags":["java","go","ubuntu","cassandra","gocql"],"answers":[{"tags":[],"owner":{"account_id":60456,"reputation":55961,"user_id":1054558,"accept_rate":100,"display_name":"Aaron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687972182,"creation_date":1687972182,"answer_id":76575355,"question_id":76573238,"body_markdown":"&gt; But Cassandra crashes after large requests.\r\n\r\nI&#39;ve seen folks run Cassandra on small amounts of system resources, and this is always the problem.\r\n\r\n&gt; I counted these values according to the formulas that are written in that file.\r\n\r\nFirst, there&#39;s more going into the Java heap than your 10 MB records.  In fact, the 10 MB records are going into the _new generation_ area of the heap, which is probably not nearly as large as it needs to be.\r\n\r\nNext, the advice given in that file was written in 2011, and is fairly out of date.  Especially this part:\r\n\r\n    # ...go with\r\n    # 100 MB per physical CPU core.\r\n\r\nThe ticket [CASSANDRA-8150][1] was an attempt to rectify some of this guidance.  It was never resolved but remains as a trove of information on ways to get the most out of CMS GC.\r\n\r\nI should note that I&#39;m _assuming_ that you&#39;re using CMS GC here.  G1 wouldn&#39;t run very well on a 1/2 GB heap. \r\n\r\nIn that ticket came the recommendation of allocating anywhere from 1/3 to 1/2 of the Java heap to the new generation.  By default, the new generation (`HEAP_NEWSIZE`) computes at %25  of the heap (`MAX_HEAP_SIZE`).  In your case, that comes out to 128 MB, which is just not enough.\r\n\r\nGiven the current hardware resources, I&#39;d say you should double that by explicitly setting it to 256 MB.\r\n\r\nWhat&#39;s probably happening here, is that the Cassandra node&#39;s tiny memory is getting overwhelmed before garbage collection can even be run.  The easiest way to solve this is to add more RAM.  A 1 GB instance with a 512 MB heap is seriously underpowered for Cassandra.\r\n\r\nAnyway, give that ticket read and see if there are any additional improvements that you can make.  Make sure that you read it thoroughly, though.  Applying bits and pieces of settings here and there is probably going to cause more trouble.  In your case, I&#39;d suspect that a larger new gen with a short tenuring threshold should help get things through GC quicker, but then you&#39;ll probably be suspect to GC pauses.\r\n\r\nOr...Increase the system RAM to 8 GB and bump the heap `MAX_HEAP_SIZE` to at least 4 GB.  And even then, I&#39;d still go with a CMS GC `HEAP_NEWSIZE` of half of it (2 GB).\r\n\r\n\r\n  [1]: https://issues.apache.org/jira/browse/CASSANDRA-8150","title":"Apache Cassandra with go server on low resources","body":"<blockquote>\n<p>But Cassandra crashes after large requests.</p>\n</blockquote>\n<p>I've seen folks run Cassandra on small amounts of system resources, and this is always the problem.</p>\n<blockquote>\n<p>I counted these values according to the formulas that are written in that file.</p>\n</blockquote>\n<p>First, there's more going into the Java heap than your 10 MB records.  In fact, the 10 MB records are going into the <em>new generation</em> area of the heap, which is probably not nearly as large as it needs to be.</p>\n<p>Next, the advice given in that file was written in 2011, and is fairly out of date.  Especially this part:</p>\n<pre><code># ...go with\n# 100 MB per physical CPU core.\n</code></pre>\n<p>The ticket <a href=\"https://issues.apache.org/jira/browse/CASSANDRA-8150\" rel=\"nofollow noreferrer\">CASSANDRA-8150</a> was an attempt to rectify some of this guidance.  It was never resolved but remains as a trove of information on ways to get the most out of CMS GC.</p>\n<p>I should note that I'm <em>assuming</em> that you're using CMS GC here.  G1 wouldn't run very well on a 1/2 GB heap.</p>\n<p>In that ticket came the recommendation of allocating anywhere from 1/3 to 1/2 of the Java heap to the new generation.  By default, the new generation (<code>HEAP_NEWSIZE</code>) computes at %25  of the heap (<code>MAX_HEAP_SIZE</code>).  In your case, that comes out to 128 MB, which is just not enough.</p>\n<p>Given the current hardware resources, I'd say you should double that by explicitly setting it to 256 MB.</p>\n<p>What's probably happening here, is that the Cassandra node's tiny memory is getting overwhelmed before garbage collection can even be run.  The easiest way to solve this is to add more RAM.  A 1 GB instance with a 512 MB heap is seriously underpowered for Cassandra.</p>\n<p>Anyway, give that ticket read and see if there are any additional improvements that you can make.  Make sure that you read it thoroughly, though.  Applying bits and pieces of settings here and there is probably going to cause more trouble.  In your case, I'd suspect that a larger new gen with a short tenuring threshold should help get things through GC quicker, but then you'll probably be suspect to GC pauses.</p>\n<p>Or...Increase the system RAM to 8 GB and bump the heap <code>MAX_HEAP_SIZE</code> to at least 4 GB.  And even then, I'd still go with a CMS GC <code>HEAP_NEWSIZE</code> of half of it (2 GB).</p>\n"}],"owner":{"account_id":28911871,"reputation":21,"user_id":22144712,"display_name":"Zlat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1687972338,"creation_date":1687955682,"question_id":76573238,"body_markdown":"I have a website that accepts files with a maximum size of 10 MB from users. It sends information about them in two messages by websocket - in the first the name and time of sending, in the second - the ArrayBuffer of the file. This all works well in Java Script.\r\n\r\n```\r\nconst reader = new FileReader();\r\nlet inFiles = document.getElementById(&quot;inFiles&quot;);\r\nlet socket = new WebSocket(&quot;ws://&quot; + document.location.host + &quot;/speaker&quot;);\r\n\r\n...\r\n\r\nfunction goodDate(date) {\r\n\treturn date.getUTCFullYear() + &quot;-&quot; +\r\n\t\t(&quot;0&quot; + (date.getUTCMonth() + 1)).slice(-2) + &quot;-&quot; +\r\n\t\t(&quot;0&quot; + date.getUTCDate()).slice(-2) + &quot;T&quot; +\r\n\t\t(&quot;0&quot; + date.getUTCHours()).slice(-2) + &quot;:&quot; +\r\n\t\t(&quot;0&quot; + date.getUTCMinutes()).slice(-2) + &quot;:&quot; +\r\n\t\t(&quot;0&quot; + date.getUTCSeconds()).slice(-2) + &quot;.&quot; +\r\n\t\t(date.getUTCMilliseconds()+&quot;00&quot;).slice(-3) + &quot;+0000&quot;;\r\n}\r\n\r\nfunction send() {\r\n\t...\r\n\r\n\tfunction readFile(i) {\r\n\t\tlet file = inFiles.files[i];\r\n\t\tlet gd = goodDate(new Date());\r\n\t\tif (file.size &lt; 10485760) {\r\n\t\t\taddMessage({ code: 1, text:  &quot;File &quot; + file.name + &quot; sending, do not close the page until a message with his name appears&quot;, time: gd }); // Displays information about sending a file on the user&#39;s page\r\n\t\t\tsocket.send(JSON.stringify({ code: 2, text: file.name, time: gd }));\r\n\t\t\treader.readAsArrayBuffer(file);\r\n\t\t\treader.onload = function(e) {\r\n\t\t\t\tsocket.send(e.target.result);\r\n\t\t\t\tif (i&lt;inFiles.files.length){\r\n\t\t\t\t\treadFile(i+1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\taddMessage({code: 0, text: &quot;Error sending the file, exceeded the maximum size of 10 MB&quot;, time: gd});\r\n\t\t}\r\n\t}\r\n\r\n\tif (inFiles.files.length &gt; 0){\r\n\t\treadFile(0);\r\n\t}\r\n\r\n\t...\r\n}\r\n```\r\n\r\nI also have a server on Ubuntu 22.04. It has only 1 core and 1 GB of RAM. The server code is written in Go. It actually receives these messages, collects a request from them and sends it to the Cassandra database. This also works fine.\r\n\r\n```\r\ntype Message struct {\r\n\tCode int    `json:&quot;code&quot;`\r\n\tText string `json:&quot;text&quot;`\r\n\tTime string `json:&quot;time&quot;`\r\n}\r\n\r\nfunc save(chatID string, mess Message, seconddata []byte) {\r\n        // mess - name and date of send of file, seconddata - arraybuffer of file in go (so it is []byte)\r\n\r\n\tmtype := false // Message is text, not file. No matter\r\n\tif mess.Code == 2 {\r\n\t\tmtype = true // Now it is file\r\n\t}\r\n\tthetime, err := time.Parse(timeLayout, mess.Time)\r\n\tif err != nil {\r\n\t\tlog.Panic(err)\r\n\t}\r\n\terr = ExecuteQuery(&quot;INSERT INTO messes (chatID, type, mess, date, seconddata) VALUES (?,?,?,?,?)&quot;, chatID, mtype, mess.Text, thetime, seconddata)\r\n\tif err != nil {\r\n\t\tlog.Panic(err)\r\n\t}\r\n\tbyteMess, err := json.Marshal(mess)\r\n\tif err != nil {\r\n\t\tlog.Panic(err)\r\n\t}\r\n\tWriteMessageToAll(chatID, byteMess) // Send all users in chat name and date of message\r\n}\r\n```\r\n\r\nBut Cassandra crashes after large requests. Its go in Active: failed (Result: oom-kill). In logs of Go server it looks like:\r\n```\r\n2023/06/28 15:17:08 Client: ip1.ip2.ip3.ip4:port, chat: dne12. Received file name: Video.mp4\r\n2023/06/28 15:17:13 gocql: unable to dial control conn 127.0.0.1:9042: dial tcp 127.0.0.1:9042: connect: connection refused\r\n2023/06/28 15:17:13 gocql: control unable to register events: dial tcp 127.0.0.1:9042: connect: connection refused\r\n2023/06/28 15:17:13 gocql: no hosts available in the pool\r\n2023/06/28 15:17:13 http: panic serving ip1.ip2.ip3.ip4:port: gocql: no hosts available in the pool\r\n```\r\n\r\nI tried to change cassandra-env.sh, here is my changes:\r\n```\r\nsystem_memory_in_mb=&quot;1024&quot;\r\nsystem_cpu_cores=&quot;1&quot;\r\n\r\nMAX_HEAP_SIZE=&quot;512M&quot;\r\nmax_sensible_yg_per_core_in_mb=&quot;128&quot;\r\n```\r\n\r\nI counted these values according to the formulas that are written in that file.\r\nHow can I fix this? I think that this DB can save file in 10MB, isnt it?\r\n","title":"Apache Cassandra with go server on low resources","body":"<p>I have a website that accepts files with a maximum size of 10 MB from users. It sends information about them in two messages by websocket - in the first the name and time of sending, in the second - the ArrayBuffer of the file. This all works well in Java Script.</p>\n<pre><code>const reader = new FileReader();\nlet inFiles = document.getElementById(&quot;inFiles&quot;);\nlet socket = new WebSocket(&quot;ws://&quot; + document.location.host + &quot;/speaker&quot;);\n\n...\n\nfunction goodDate(date) {\n    return date.getUTCFullYear() + &quot;-&quot; +\n        (&quot;0&quot; + (date.getUTCMonth() + 1)).slice(-2) + &quot;-&quot; +\n        (&quot;0&quot; + date.getUTCDate()).slice(-2) + &quot;T&quot; +\n        (&quot;0&quot; + date.getUTCHours()).slice(-2) + &quot;:&quot; +\n        (&quot;0&quot; + date.getUTCMinutes()).slice(-2) + &quot;:&quot; +\n        (&quot;0&quot; + date.getUTCSeconds()).slice(-2) + &quot;.&quot; +\n        (date.getUTCMilliseconds()+&quot;00&quot;).slice(-3) + &quot;+0000&quot;;\n}\n\nfunction send() {\n    ...\n\n    function readFile(i) {\n        let file = inFiles.files[i];\n        let gd = goodDate(new Date());\n        if (file.size &lt; 10485760) {\n            addMessage({ code: 1, text:  &quot;File &quot; + file.name + &quot; sending, do not close the page until a message with his name appears&quot;, time: gd }); // Displays information about sending a file on the user's page\n            socket.send(JSON.stringify({ code: 2, text: file.name, time: gd }));\n            reader.readAsArrayBuffer(file);\n            reader.onload = function(e) {\n                socket.send(e.target.result);\n                if (i&lt;inFiles.files.length){\n                    readFile(i+1);\n                }\n            }\n        } else {\n            addMessage({code: 0, text: &quot;Error sending the file, exceeded the maximum size of 10 MB&quot;, time: gd});\n        }\n    }\n\n    if (inFiles.files.length &gt; 0){\n        readFile(0);\n    }\n\n    ...\n}\n</code></pre>\n<p>I also have a server on Ubuntu 22.04. It has only 1 core and 1 GB of RAM. The server code is written in Go. It actually receives these messages, collects a request from them and sends it to the Cassandra database. This also works fine.</p>\n<pre><code>type Message struct {\n    Code int    `json:&quot;code&quot;`\n    Text string `json:&quot;text&quot;`\n    Time string `json:&quot;time&quot;`\n}\n\nfunc save(chatID string, mess Message, seconddata []byte) {\n        // mess - name and date of send of file, seconddata - arraybuffer of file in go (so it is []byte)\n\n    mtype := false // Message is text, not file. No matter\n    if mess.Code == 2 {\n        mtype = true // Now it is file\n    }\n    thetime, err := time.Parse(timeLayout, mess.Time)\n    if err != nil {\n        log.Panic(err)\n    }\n    err = ExecuteQuery(&quot;INSERT INTO messes (chatID, type, mess, date, seconddata) VALUES (?,?,?,?,?)&quot;, chatID, mtype, mess.Text, thetime, seconddata)\n    if err != nil {\n        log.Panic(err)\n    }\n    byteMess, err := json.Marshal(mess)\n    if err != nil {\n        log.Panic(err)\n    }\n    WriteMessageToAll(chatID, byteMess) // Send all users in chat name and date of message\n}\n</code></pre>\n<p>But Cassandra crashes after large requests. Its go in Active: failed (Result: oom-kill). In logs of Go server it looks like:</p>\n<pre><code>2023/06/28 15:17:08 Client: ip1.ip2.ip3.ip4:port, chat: dne12. Received file name: Video.mp4\n2023/06/28 15:17:13 gocql: unable to dial control conn 127.0.0.1:9042: dial tcp 127.0.0.1:9042: connect: connection refused\n2023/06/28 15:17:13 gocql: control unable to register events: dial tcp 127.0.0.1:9042: connect: connection refused\n2023/06/28 15:17:13 gocql: no hosts available in the pool\n2023/06/28 15:17:13 http: panic serving ip1.ip2.ip3.ip4:port: gocql: no hosts available in the pool\n</code></pre>\n<p>I tried to change cassandra-env.sh, here is my changes:</p>\n<pre><code>system_memory_in_mb=&quot;1024&quot;\nsystem_cpu_cores=&quot;1&quot;\n\nMAX_HEAP_SIZE=&quot;512M&quot;\nmax_sensible_yg_per_core_in_mb=&quot;128&quot;\n</code></pre>\n<p>I counted these values according to the formulas that are written in that file.\nHow can I fix this? I think that this DB can save file in 10MB, isnt it?</p>\n"},{"tags":["java","mapping","mapstruct"],"comments":[{"owner":{"account_id":30898,"reputation":8917,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"score":0,"creation_date":1687974219,"post_id":76575341,"comment_id":135013010,"body_markdown":"It sounds like it ought to be possible. Do you have some sample code where you have tried it?","body":"It sounds like it ought to be possible. Do you have some sample code where you have tried it?"},{"owner":{"account_id":1887821,"reputation":2984,"user_id":1706691,"accept_rate":69,"display_name":"James"},"score":0,"creation_date":1687975504,"post_id":76575341,"comment_id":135013243,"body_markdown":"@jonhanson - Just the code above where I iterate over the two collections. I&#39;m not sure how to use MapStruct to do this","body":"@jonhanson - Just the code above where I iterate over the two collections. I&#39;m not sure how to use MapStruct to do this"}],"owner":{"account_id":1887821,"reputation":2984,"user_id":1706691,"accept_rate":69,"display_name":"James"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687972060,"creation_date":1687972060,"question_id":76575341,"body_markdown":"I have two collections of different types and want to map to a third collection type. For example, I have a `Set&lt;Model&gt;` and a `Set&lt;Make&gt;` that I want to map to `Set&lt;CarDto&gt;`. \r\n\r\nI have a mapper that maps the two parameterized types to the third type: \r\n\r\n    @Mapping(source = &quot;model.name&quot;, target = &quot;modelName&quot;)\r\n    @Mapping(source = &quot;make.name&quot;, target = &quot;makeName&quot;)\r\n    CarDto from(Model model, Make make);\r\n\r\n`Model` and `Make` both have a `carId` property. I use it to tie them to the same `CarDto`. \r\n\r\nI know I can iterate over both sets and call `from(model, make)` when both objects have the same `carId`. \r\n\r\n    for(Make make: makes) {\r\n        for (Model model : models) {\r\n            if (make.getCarId() = model.getCarId()) {\r\n                 carDtoSet.add(mapper.from(make, model));\r\n            }\r\n        }\r\n     }\r\n\r\nBut is there a way to have MapStruct do this?\r\n\r\nI found `@IterableMapping` and it has `elementMappingControl` but I&#39;m not sure how that can help. \r\n\r\n","title":"Can MapStruct map two collections of different types into one collection by key?","body":"<p>I have two collections of different types and want to map to a third collection type. For example, I have a <code>Set&lt;Model&gt;</code> and a <code>Set&lt;Make&gt;</code> that I want to map to <code>Set&lt;CarDto&gt;</code>.</p>\n<p>I have a mapper that maps the two parameterized types to the third type:</p>\n<pre><code>@Mapping(source = &quot;model.name&quot;, target = &quot;modelName&quot;)\n@Mapping(source = &quot;make.name&quot;, target = &quot;makeName&quot;)\nCarDto from(Model model, Make make);\n</code></pre>\n<p><code>Model</code> and <code>Make</code> both have a <code>carId</code> property. I use it to tie them to the same <code>CarDto</code>.</p>\n<p>I know I can iterate over both sets and call <code>from(model, make)</code> when both objects have the same <code>carId</code>.</p>\n<pre><code>for(Make make: makes) {\n    for (Model model : models) {\n        if (make.getCarId() = model.getCarId()) {\n             carDtoSet.add(mapper.from(make, model));\n        }\n    }\n }\n</code></pre>\n<p>But is there a way to have MapStruct do this?</p>\n<p>I found <code>@IterableMapping</code> and it has <code>elementMappingControl</code> but I'm not sure how that can help.</p>\n"},{"tags":["java","anylogic"],"comments":[{"owner":{"account_id":4196914,"reputation":8751,"user_id":3438111,"accept_rate":100,"display_name":"Felipe"},"score":0,"creation_date":1687976158,"post_id":76575112,"comment_id":135013356,"body_markdown":"your question has missing information... we see that the queue assumes a agent of type Bolt, but the sources do not generate agents of type Bolt... The problem really is that you are at a level that is way too beginner so you don&#39;t even know how to ask questions.... go take our courses at noorjax.teachable.com or do some other tutorials to learn the basics before you engage in any modeling activity","body":"your question has missing information... we see that the queue assumes a agent of type Bolt, but the sources do not generate agents of type Bolt... The problem really is that you are at a level that is way too beginner so you don&#39;t even know how to ask questions.... go take our courses at noorjax.teachable.com or do some other tutorials to learn the basics before you engage in any modeling activity"},{"owner":{"account_id":28741279,"reputation":1,"user_id":22011342,"display_name":"Figa Wafi"},"score":0,"creation_date":1687979635,"post_id":76575112,"comment_id":135014002,"body_markdown":"sir, bolt agent, I made this because previously there was an expert who suggested using block combine to enter the queue based on the time limit, then I did. so this bolt is a new agent whose contents contain the parameters that I named the two agents (weldbolt and SPC along with the parameters that I specified in the weldbolt and SPC agents, the pictures can be seen in the link in the post). but I&#39;m confused when it&#39;s blocked in the queue, the code I&#39;m trying to error by calling the due date for the two agents respectively. so I ask like this.","body":"sir, bolt agent, I made this because previously there was an expert who suggested using block combine to enter the queue based on the time limit, then I did. so this bolt is a new agent whose contents contain the parameters that I named the two agents (weldbolt and SPC along with the parameters that I specified in the weldbolt and SPC agents, the pictures can be seen in the link in the post). but I&#39;m confused when it&#39;s blocked in the queue, the code I&#39;m trying to error by calling the due date for the two agents respectively. so I ask like this."},{"owner":{"account_id":28741279,"reputation":1,"user_id":22011342,"display_name":"Figa Wafi"},"score":0,"creation_date":1687979911,"post_id":76575112,"comment_id":135014056,"body_markdown":"Well, before following this suggestion, there are 2 sources. but I&#39;m confused about which type of agent to choose? whereas I can only choose 1 agent, but I have 2 agents who must enter the queue.","body":"Well, before following this suggestion, there are 2 sources. but I&#39;m confused about which type of agent to choose? whereas I can only choose 1 agent, but I have 2 agents who must enter the queue."}],"answers":[{"tags":[],"owner":{"account_id":2486375,"reputation":11083,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687971056,"creation_date":1687971056,"answer_id":76575246,"question_id":76575112,"body_markdown":"You can simply have both sources &quot;feed&quot; into a queue without anything in between. Just &quot;draw&quot; the connectors into the queue.\r\n\r\nThis may still cause issues in the queue if you need some specifics from the agents moving through, but that is a much more advanced topic, tbh","title":"what code is suitable to run both agents in one queue?","body":"<p>You can simply have both sources &quot;feed&quot; into a queue without anything in between. Just &quot;draw&quot; the connectors into the queue.</p>\n<p>This may still cause issues in the queue if you need some specifics from the agents moving through, but that is a much more advanced topic, tbh</p>\n"}],"owner":{"account_id":28741279,"reputation":1,"user_id":22011342,"display_name":"Figa Wafi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1687971056,"creation_date":1687969950,"question_id":76575112,"body_markdown":"I have implemented the suggestions from the comments on my post yesterday, namely by creating 2 different sources if they have different agents, so they have different images. but I&#39;m confused, how do I get the two agents to enter into 1 queue and based on the priority due date enter into the grooving process? but in arrival i have created table start_date and due_ date\r\n\r\n\r\nin queue i use code &quot; -agent.due_date_wb.due_date_spc22_1.getTime(); &quot;. Is that true?\r\n\r\nif true. Why is there still an error in that section when I build it?\r\n\r\ncan you see the picture that I sent sir\r\n\r\n[enter image description here](https://i.stack.imgur.com/1Ghsf.png)\r\n\r\n[enter image description here](https://i.stack.imgur.com/BUZTl.png)\r\n\r\nI&#39;ve tried with other code, but still error. is there any solution? and I have also created a bolt agent variable\r\n[enter image description here](https://i.stack.imgur.com/qCaXg.png)\r\n[enter image description here](https://i.stack.imgur.com/Ab4Uy.png)","title":"what code is suitable to run both agents in one queue?","body":"<p>I have implemented the suggestions from the comments on my post yesterday, namely by creating 2 different sources if they have different agents, so they have different images. but I'm confused, how do I get the two agents to enter into 1 queue and based on the priority due date enter into the grooving process? but in arrival i have created table start_date and due_ date</p>\n<p>in queue i use code &quot; -agent.due_date_wb.due_date_spc22_1.getTime(); &quot;. Is that true?</p>\n<p>if true. Why is there still an error in that section when I build it?</p>\n<p>can you see the picture that I sent sir</p>\n<p><a href=\"https://i.stack.imgur.com/1Ghsf.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><a href=\"https://i.stack.imgur.com/BUZTl.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I've tried with other code, but still error. is there any solution? and I have also created a bolt agent variable\n<a href=\"https://i.stack.imgur.com/qCaXg.png\" rel=\"nofollow noreferrer\">enter image description here</a>\n<a href=\"https://i.stack.imgur.com/Ab4Uy.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","libgdx","box2d"],"owner":{"account_id":25741180,"reputation":21,"user_id":19495165,"display_name":"EdwardT2021"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687970859,"creation_date":1687949611,"question_id":76572463,"body_markdown":"I have a game using libGDX and box2D in which I use a ContactListener to detect collisions between entities and projectiles. For some reason, despite the physics moving the bodies due to the collision, my code is not causing the entity to die or register a hit at all. Putting the same code as I put in beginContact in preSolve seems to result in more of them colliding properly but not all. The entity is a dynamic body with bullet = true and the bullet itself is a kinematic body. \r\nHere is the code for my contact listener:\r\n\r\n```\r\npublic class CollisionManager implements ContactListener\r\n{\r\n\r\n    @Override\r\n    public void preSolve(Contact contact, Manifold oldManifold)\r\n    {\r\n        Object o1 = contact.getFixtureA().getBody().getUserData();\r\n        Object o2 = contact.getFixtureB().getBody().getUserData();\r\n        if (contact.isTouching())\r\n        {\r\n            if (o1 instanceof Entity &amp;&amp; o2 instanceof Projectile)\r\n            {\r\n                collideBullet((Entity) o1, (Projectile) o2, contact);\r\n            }\r\n            else if (o1 instanceof Projectile &amp;&amp; o2 instanceof Entity)\r\n            {\r\n                collideBullet((Entity) o2, (Projectile) o1, contact);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    private void collideBullet(Entity entity, Projectile projectile, Contact contact)\r\n    {\r\n        if (entity instanceof Enemy &amp;&amp; projectile.getOwner() instanceof Defence)\r\n        {\r\n            projectile.setCollided();\r\n            entity.takeDamage(projectile.getDamage());\r\n        }\r\n        else if (entity instanceof Defence &amp;&amp; projectile.getOwner() instanceof Enemy)\r\n        {\r\n            projectile.setCollided();\r\n            entity.takeDamage(projectile.getDamage());\r\n        }\r\n        contact.setEnabled(false);\r\n    }\r\n}\r\n```\r\n\r\nAnd here is the code for takeDamage in case im an idiot.\r\n\r\n\r\n```\r\n    public void takeDamage(float damage)\r\n    {\r\n        this.health -= damage;\r\n        if (health &lt;= 0)\r\n        {\r\n            health = 0;\r\n            setState(EntityState.DYING);\r\n            body.setActive(false);\r\n        }\r\n    }\r\n```\r\n\r\nThe entities all have one health and the bullets do 10 damage for testing purposes.\r\n\r\n\r\n\r\nI have tried moving code to presolve instead of beginContact, I have poured through the docs but cannot find what is going wrong, I have tried turning the entity into a bullet, with no changes from that.","title":"beginContact not working despite physics working","body":"<p>I have a game using libGDX and box2D in which I use a ContactListener to detect collisions between entities and projectiles. For some reason, despite the physics moving the bodies due to the collision, my code is not causing the entity to die or register a hit at all. Putting the same code as I put in beginContact in preSolve seems to result in more of them colliding properly but not all. The entity is a dynamic body with bullet = true and the bullet itself is a kinematic body.\nHere is the code for my contact listener:</p>\n<pre><code>public class CollisionManager implements ContactListener\n{\n\n    @Override\n    public void preSolve(Contact contact, Manifold oldManifold)\n    {\n        Object o1 = contact.getFixtureA().getBody().getUserData();\n        Object o2 = contact.getFixtureB().getBody().getUserData();\n        if (contact.isTouching())\n        {\n            if (o1 instanceof Entity &amp;&amp; o2 instanceof Projectile)\n            {\n                collideBullet((Entity) o1, (Projectile) o2, contact);\n            }\n            else if (o1 instanceof Projectile &amp;&amp; o2 instanceof Entity)\n            {\n                collideBullet((Entity) o2, (Projectile) o1, contact);\n            }\n        }\n    }\n\n\n    private void collideBullet(Entity entity, Projectile projectile, Contact contact)\n    {\n        if (entity instanceof Enemy &amp;&amp; projectile.getOwner() instanceof Defence)\n        {\n            projectile.setCollided();\n            entity.takeDamage(projectile.getDamage());\n        }\n        else if (entity instanceof Defence &amp;&amp; projectile.getOwner() instanceof Enemy)\n        {\n            projectile.setCollided();\n            entity.takeDamage(projectile.getDamage());\n        }\n        contact.setEnabled(false);\n    }\n}\n</code></pre>\n<p>And here is the code for takeDamage in case im an idiot.</p>\n<pre><code>    public void takeDamage(float damage)\n    {\n        this.health -= damage;\n        if (health &lt;= 0)\n        {\n            health = 0;\n            setState(EntityState.DYING);\n            body.setActive(false);\n        }\n    }\n</code></pre>\n<p>The entities all have one health and the bullets do 10 damage for testing purposes.</p>\n<p>I have tried moving code to presolve instead of beginContact, I have poured through the docs but cannot find what is going wrong, I have tried turning the entity into a bullet, with no changes from that.</p>\n"},{"tags":["java","azure","devops","pipeline"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1687975094,"post_id":76575223,"comment_id":135013167,"body_markdown":"Where do you checkout the repository?","body":"Where do you checkout the repository?"},{"owner":{"account_id":10362164,"reputation":31,"user_id":11964957,"display_name":"Andrea"},"score":0,"creation_date":1688113576,"post_id":76575223,"comment_id":135033105,"body_markdown":"Ok it worked, thanks! Apparently in a multi stage job I have to specify the checkout task. Thanks for the tip!","body":"Ok it worked, thanks! Apparently in a multi stage job I have to specify the checkout task. Thanks for the tip!"}],"owner":{"account_id":10362164,"reputation":31,"user_id":11964957,"display_name":"Andrea"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687970850,"creation_date":1687970850,"question_id":76575223,"body_markdown":"I&#39;m trying to release a pipeline to deploy an azure function written in Java to QA stage in case the change happens in release branch, or into production slot if the change is done in the master branch. I receive the following error:\r\n##[error]Unhandled: Not found mavenPOMFile: /home/vsts/work/1/s/AzureServerless/pom.xml\r\n\r\nI&#39;ve tried several configuration but I&#39;m not findind the solution.. You can find below the pipeline configuration:\r\n```\r\n# Maven\r\n# Build your Java project and run tests with Apache Maven.\r\n# Add steps that analyze code, save build artifacts, deploy, and more:\r\n# https://docs.microsoft.com/azure/devops/pipelines/languages/java\r\ntrigger:\r\n  branches:\r\n    include:\r\n      - release\r\n      - master\r\n\r\nstages:\r\n  - stage: Staging\r\n    displayName: &#39;Deploy to Staging Slot&#39;\r\n    condition: and(succeeded(), eq(variables[&#39;Build.SourceBranch&#39;], &#39;refs/heads/release&#39;))\r\n    jobs:\r\n      - deployment: DeploymentJob\r\n        displayName: &#39;Deployment Job&#39;\r\n        pool:\r\n          vmImage: &#39;ubuntu-latest&#39;\r\n        environment: &#39;staging&#39;\r\n        strategy:\r\n          runOnce:\r\n            deploy:\r\n              steps:\r\n                - task: Maven@2\r\n                  displayName: &#39;Maven pom.xml&#39;\r\n                  inputs:\r\n                    mavenPomFile: &#39;$(system.defaultWorkingDirectory)/pom.xml&#39;\r\n                # Copy files\r\n                - task: CopyFiles@2\r\n                  displayName: &#39;Copy Files to: $(build.ArtifactStagingDirectory)&#39;\r\n                  inputs:\r\n                    SourceFolder: &#39;$(system.defaultworkingdirectory)&#39;\r\n                    Contents: &#39;**/azure-functions/**&#39;\r\n                    TargetFolder: &#39;$(build.ArtifactStagingDirectory)&#39;\r\n                # Create Archive : zip file\r\n                - task: ArchiveFiles@2\r\n                  displayName: &#39;Archive $(build.ArtifactStagingDirectory)/target/azure-functions/AzureServerless-1686925779077&#39;\r\n                  inputs:\r\n                    rootFolderOrFile: &#39;$(build.ArtifactStagingDirectory)/target/azure-functions/AzureServerless-1686925779077&#39;\r\n                    includeRootFolder: false\r\n                    archiveType: &#39;zip&#39;\r\n                    archiveFile: &#39;$(Build.ArtifactStagingDirectory)/$(Build.BuildId).zip&#39;\r\n\r\n                - task: AzureFunctionApp@2\r\n                  inputs:\r\n                    azureSubscription: &#39;xxxxxxxxxxxxxxxxxxxx&#39;\r\n                    appType: &#39;functionAppLinux&#39;\r\n                    appName: &#39;serverlesstest&#39;\r\n                    deployToSlotOrASE: true\r\n                    resourceGroupName: &#39;pilot-rg&#39;\r\n                    slotName: &#39;qa&#39;\r\n                    package: &#39;$(Build.ArtifactStagingDirectory)/$(Build.BuildId).zip&#39;\r\n                    runtimeStack: &#39;JAVA|8&#39;\r\n                    deploymentMethod: &#39;auto&#39;\r\n                  displayName: &#39;Release to Staging Slot&#39;\r\n\r\n  - stage: Production\r\n    displayName: &#39;Deploy to Production Slot&#39;\r\n    condition: and(succeeded(), eq(variables[&#39;Build.SourceBranch&#39;], &#39;refs/heads/master&#39;))\r\n    jobs:\r\n      - deployment: DeploymentJob\r\n        displayName: &#39;Deployment Job&#39;\r\n        pool:\r\n          vmImage: &#39;ubuntu-latest&#39;\r\n        environment: &#39;production&#39;\r\n        strategy:\r\n          runOnce:\r\n            deploy:\r\n              steps:\r\n                - task: Maven@2\r\n                  displayName: &#39;Maven pom.xml&#39;\r\n                  inputs:\r\n                    mavenPomFile: pom.xml\r\n                # Copy files\r\n                - task: CopyFiles@2\r\n                  displayName: &#39;Copy Files to: $(build.ArtifactStagingDirectory)&#39;\r\n                  inputs:\r\n                    SourceFolder: &#39;$(system.defaultworkingdirectory)&#39;\r\n                    Contents: &#39;**/azure-functions/**&#39;\r\n                    TargetFolder: &#39;$(build.ArtifactStagingDirectory)&#39;\r\n                # Create Archive : zip file\r\n                - task: ArchiveFiles@2\r\n                  displayName: &#39;Archive $(build.ArtifactStagingDirectory)/target/azure-functions/AzureServerless-1686925779077&#39;\r\n                  inputs:\r\n                    rootFolderOrFile: &#39;$(build.ArtifactStagingDirectory)/target/azure-functions/AzureServerless-1686925779077&#39;\r\n                    includeRootFolder: false\r\n                    archiveType: &#39;zip&#39;\r\n                    archiveFile: &#39;$(Build.ArtifactStagingDirectory)/$(Build.BuildId).zip&#39;\r\n\r\n                - task: AzureFunctionApp@2\r\n                  inputs:\r\n                    azureSubscription: &#39;xxxxxxxxxxxxxxxxxxxxxxxx&#39;\r\n                    appType: &#39;functionAppLinux&#39;\r\n                    appName: &#39;serverlesstest&#39;\r\n                    deployToSlotOrASE: true\r\n                    resourceGroupName: &#39;pilot-rg&#39;\r\n                    slotName: &#39;production&#39;\r\n                    package: &#39;$(Build.ArtifactStagingDirectory)/$(Build.BuildId).zip&#39;\r\n                    runtimeStack: &#39;JAVA|8&#39;\r\n                    deploymentMethod: &#39;auto&#39;\r\n```\r\nThanks!","title":"Azure DevOps Java fuction deploy multi stage","body":"<p>I'm trying to release a pipeline to deploy an azure function written in Java to QA stage in case the change happens in release branch, or into production slot if the change is done in the master branch. I receive the following error:\n##[error]Unhandled: Not found mavenPOMFile: /home/vsts/work/1/s/AzureServerless/pom.xml</p>\n<p>I've tried several configuration but I'm not findind the solution.. You can find below the pipeline configuration:</p>\n<pre><code># Maven\n# Build your Java project and run tests with Apache Maven.\n# Add steps that analyze code, save build artifacts, deploy, and more:\n# https://docs.microsoft.com/azure/devops/pipelines/languages/java\ntrigger:\n  branches:\n    include:\n      - release\n      - master\n\nstages:\n  - stage: Staging\n    displayName: 'Deploy to Staging Slot'\n    condition: and(succeeded(), eq(variables['Build.SourceBranch'], 'refs/heads/release'))\n    jobs:\n      - deployment: DeploymentJob\n        displayName: 'Deployment Job'\n        pool:\n          vmImage: 'ubuntu-latest'\n        environment: 'staging'\n        strategy:\n          runOnce:\n            deploy:\n              steps:\n                - task: Maven@2\n                  displayName: 'Maven pom.xml'\n                  inputs:\n                    mavenPomFile: '$(system.defaultWorkingDirectory)/pom.xml'\n                # Copy files\n                - task: CopyFiles@2\n                  displayName: 'Copy Files to: $(build.ArtifactStagingDirectory)'\n                  inputs:\n                    SourceFolder: '$(system.defaultworkingdirectory)'\n                    Contents: '**/azure-functions/**'\n                    TargetFolder: '$(build.ArtifactStagingDirectory)'\n                # Create Archive : zip file\n                - task: ArchiveFiles@2\n                  displayName: 'Archive $(build.ArtifactStagingDirectory)/target/azure-functions/AzureServerless-1686925779077'\n                  inputs:\n                    rootFolderOrFile: '$(build.ArtifactStagingDirectory)/target/azure-functions/AzureServerless-1686925779077'\n                    includeRootFolder: false\n                    archiveType: 'zip'\n                    archiveFile: '$(Build.ArtifactStagingDirectory)/$(Build.BuildId).zip'\n\n                - task: AzureFunctionApp@2\n                  inputs:\n                    azureSubscription: 'xxxxxxxxxxxxxxxxxxxx'\n                    appType: 'functionAppLinux'\n                    appName: 'serverlesstest'\n                    deployToSlotOrASE: true\n                    resourceGroupName: 'pilot-rg'\n                    slotName: 'qa'\n                    package: '$(Build.ArtifactStagingDirectory)/$(Build.BuildId).zip'\n                    runtimeStack: 'JAVA|8'\n                    deploymentMethod: 'auto'\n                  displayName: 'Release to Staging Slot'\n\n  - stage: Production\n    displayName: 'Deploy to Production Slot'\n    condition: and(succeeded(), eq(variables['Build.SourceBranch'], 'refs/heads/master'))\n    jobs:\n      - deployment: DeploymentJob\n        displayName: 'Deployment Job'\n        pool:\n          vmImage: 'ubuntu-latest'\n        environment: 'production'\n        strategy:\n          runOnce:\n            deploy:\n              steps:\n                - task: Maven@2\n                  displayName: 'Maven pom.xml'\n                  inputs:\n                    mavenPomFile: pom.xml\n                # Copy files\n                - task: CopyFiles@2\n                  displayName: 'Copy Files to: $(build.ArtifactStagingDirectory)'\n                  inputs:\n                    SourceFolder: '$(system.defaultworkingdirectory)'\n                    Contents: '**/azure-functions/**'\n                    TargetFolder: '$(build.ArtifactStagingDirectory)'\n                # Create Archive : zip file\n                - task: ArchiveFiles@2\n                  displayName: 'Archive $(build.ArtifactStagingDirectory)/target/azure-functions/AzureServerless-1686925779077'\n                  inputs:\n                    rootFolderOrFile: '$(build.ArtifactStagingDirectory)/target/azure-functions/AzureServerless-1686925779077'\n                    includeRootFolder: false\n                    archiveType: 'zip'\n                    archiveFile: '$(Build.ArtifactStagingDirectory)/$(Build.BuildId).zip'\n\n                - task: AzureFunctionApp@2\n                  inputs:\n                    azureSubscription: 'xxxxxxxxxxxxxxxxxxxxxxxx'\n                    appType: 'functionAppLinux'\n                    appName: 'serverlesstest'\n                    deployToSlotOrASE: true\n                    resourceGroupName: 'pilot-rg'\n                    slotName: 'production'\n                    package: '$(Build.ArtifactStagingDirectory)/$(Build.BuildId).zip'\n                    runtimeStack: 'JAVA|8'\n                    deploymentMethod: 'auto'\n</code></pre>\n<p>Thanks!</p>\n"},{"tags":["java","io"],"answers":[{"tags":[],"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611720565,"creation_date":1611720565,"answer_id":65912776,"question_id":65912541,"body_markdown":"As described in the javadoc: \r\n\r\n&gt; Reads up to len bytes of data from this input stream into an array of bytes. If len is not zero, the method blocks until at least 1 byte of input is available; otherwise, no bytes are read and 0 is returned.\r\nThe read method of SequenceInputStream tries to read the data from the current substream. If it fails to read any characters because the substream has reached the end of the stream, it calls the close method of the current substream and begins reading from the next substream.\r\n\r\nSo read will only return characters from the current substream up to EOF. After that a new read is required.\r\n\r\nFor example:\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        InputStream in1 = new ByteArrayInputStream(&quot;Foo&quot;.getBytes());\r\n        InputStream in2 = new ByteArrayInputStream(&quot;Barbar&quot;.getBytes());\r\n        SequenceInputStream seq = new SequenceInputStream(in1, in2);\r\n        read(seq);\r\n        read(seq);\r\n        read(seq);\r\n        System.out.println(&quot;avail &quot; + seq.available());\r\n    }\r\n\r\n    private static void read(SequenceInputStream seq) throws IOException {\r\n        byte[] buffer = new byte[50];\r\n        System.out.println(&quot;avail &quot; + seq.available() + &quot; read &quot; + seq.read(buffer, 0, 5) + &quot; &quot;);\r\n        System.out.println(new String(buffer));\r\n    }\r\n\r\nResults in:\r\n\r\n    avail 3 read 3 \r\n    Foo\r\n    avail 0 read 5 \r\n    Barba\r\n    avail 1 read 1 \r\n    r\r\n    avail 0","title":"How to use SequenceInputStream?","body":"<p>As described in the javadoc:</p>\n<blockquote>\n<p>Reads up to len bytes of data from this input stream into an array of bytes. If len is not zero, the method blocks until at least 1 byte of input is available; otherwise, no bytes are read and 0 is returned.\nThe read method of SequenceInputStream tries to read the data from the current substream. If it fails to read any characters because the substream has reached the end of the stream, it calls the close method of the current substream and begins reading from the next substream.</p>\n</blockquote>\n<p>So read will only return characters from the current substream up to EOF. After that a new read is required.</p>\n<p>For example:</p>\n<pre><code>public static void main(String[] args) throws IOException {\n    InputStream in1 = new ByteArrayInputStream(&quot;Foo&quot;.getBytes());\n    InputStream in2 = new ByteArrayInputStream(&quot;Barbar&quot;.getBytes());\n    SequenceInputStream seq = new SequenceInputStream(in1, in2);\n    read(seq);\n    read(seq);\n    read(seq);\n    System.out.println(&quot;avail &quot; + seq.available());\n}\n\nprivate static void read(SequenceInputStream seq) throws IOException {\n    byte[] buffer = new byte[50];\n    System.out.println(&quot;avail &quot; + seq.available() + &quot; read &quot; + seq.read(buffer, 0, 5) + &quot; &quot;);\n    System.out.println(new String(buffer));\n}\n</code></pre>\n<p>Results in:</p>\n<pre><code>avail 3 read 3 \nFoo\navail 0 read 5 \nBarba\navail 1 read 1 \nr\navail 0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1611721206,"creation_date":1611721206,"answer_id":65912838,"question_id":65912541,"body_markdown":"**Why did the method(read) stop when meet EOF?**\r\n\r\nYou might be expecting it to read &quot;learn!java&quot; on the first call to `read`, but that&#39;s not what [`read`][1] is documented to do (emphasis mine):\r\n\r\n&gt; The `read` method of `SequenceInputStream` tries to read the data from the ***current substream***. If it fails to read any characters because the substream has reached the end of the stream, it calls the `close` method of the current substream and begins reading from the next substream.\r\n\r\n&quot;Current substream&quot; is the keyword here. It doesn&#39;t try to read data from any other substream, but the _current_ one. Just after you created the `SequenceInputStream`, the current substream is the first one - `fin1`. The first call to `read` will hence read from `fin1`, and you won&#39;t get anything from `fin2`.\r\n\r\nThe parameterless [`read`][2] also says something similar.\r\n\r\n&gt; This method tries to read one character from the current substream. If it reaches the end of the stream, it calls the `close` method of the current substream and begins reading from the next substream.\r\n\r\n**How to read the next Stream?**\r\n\r\nWell, according to the second half of each quote, the `SequenceInputStream` reads from the next stream when it can&#39;t read anything from the current stream anymore. In your code, the first call to `finAll.read` read everything in `fin1`, so the second call can&#39;t read anything from `fin1` anymore, so it starts reading from `fin2`.\r\n\r\nIf you want the data that is read to be in the same byte array, just change the offset parameter to the number of bytes read:\r\n\r\n    int bytesRead = finAll.read(box, 0, 10);\r\n    finAll.read(box, bytesRead, 10 - bytesRead);\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/io/SequenceInputStream.html#read(byte[],%20int,%20int)\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/io/SequenceInputStream.html#read()","title":"How to use SequenceInputStream?","body":"<p><strong>Why did the method(read) stop when meet EOF?</strong></p>\n<p>You might be expecting it to read &quot;learn!java&quot; on the first call to <code>read</code>, but that's not what <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/SequenceInputStream.html#read(byte%5B%5D,%20int,%20int)\" rel=\"nofollow noreferrer\"><code>read</code></a> is documented to do (emphasis mine):</p>\n<blockquote>\n<p>The <code>read</code> method of <code>SequenceInputStream</code> tries to read the data from the <em><strong>current substream</strong></em>. If it fails to read any characters because the substream has reached the end of the stream, it calls the <code>close</code> method of the current substream and begins reading from the next substream.</p>\n</blockquote>\n<p>&quot;Current substream&quot; is the keyword here. It doesn't try to read data from any other substream, but the <em>current</em> one. Just after you created the <code>SequenceInputStream</code>, the current substream is the first one - <code>fin1</code>. The first call to <code>read</code> will hence read from <code>fin1</code>, and you won't get anything from <code>fin2</code>.</p>\n<p>The parameterless <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/SequenceInputStream.html#read()\" rel=\"nofollow noreferrer\"><code>read</code></a> also says something similar.</p>\n<blockquote>\n<p>This method tries to read one character from the current substream. If it reaches the end of the stream, it calls the <code>close</code> method of the current substream and begins reading from the next substream.</p>\n</blockquote>\n<p><strong>How to read the next Stream?</strong></p>\n<p>Well, according to the second half of each quote, the <code>SequenceInputStream</code> reads from the next stream when it can't read anything from the current stream anymore. In your code, the first call to <code>finAll.read</code> read everything in <code>fin1</code>, so the second call can't read anything from <code>fin1</code> anymore, so it starts reading from <code>fin2</code>.</p>\n<p>If you want the data that is read to be in the same byte array, just change the offset parameter to the number of bytes read:</p>\n<pre><code>int bytesRead = finAll.read(box, 0, 10);\nfinAll.read(box, bytesRead, 10 - bytesRead);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6957804,"reputation":21,"user_id":5338312,"display_name":"Elektrowolle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687970480,"creation_date":1687970480,"answer_id":76575180,"question_id":65912541,"body_markdown":"I stumbled upon the same _weird_ behaviour and decided to fix it by reimplementing the functionality (in kotlin, converting to java should be easy).\r\n\r\nBackground: Some libraries (postgres-jdbc in particular) uses a code-block like this to copy data:\r\n\r\n```kotlin\r\nval buf = ByteArray(8192)\r\nwhile (true) {\r\n  val len = stream.read(buf, 0, 8192) \r\n  // do something with the len bytes\r\n\r\n  if (len &lt; 8192) {\r\n    // nothing more to read\r\n    break\r\n  }\r\n}\r\n```\r\n\r\nSo, here is the _correct_ implementation:\r\n\r\n```kotlin\r\npackage de.elektrowolle.commons.kotlin.streams\r\n\r\nimport java.io.InputStream\r\n\r\n\r\n/** Reimplementation of java.io.SequenceInputStream with _correct_ implementation of available(), skip() and read(byte[], int, int)\r\n * @see java.io.SequenceInputStream\r\n */\r\nclass SequenceInputStream(\r\n    private val stream1: InputStream,\r\n    private val stream2: InputStream\r\n) : InputStream() {\r\n\r\n    override fun close() {\r\n        // close both streams. If one fails, the other one is still closed\r\n        // first stream1 is closed\r\n        stream2.use { stream1.use {} }\r\n    }\r\n\r\n    override fun read(): Int {\r\n        val charFromStream = stream1.read()\r\n        return if (charFromStream != -1) charFromStream else stream2.read()\r\n    }\r\n\r\n    override fun available(): Int {\r\n        return stream1.available() + stream2.available()\r\n    }\r\n\r\n    override fun skip(n: Long): Long {\r\n        val skippedBytesFromFirstStream = stream1.skip(n)\r\n        return skippedBytesFromFirstStream + stream2.skip(n - skippedBytesFromFirstStream)\r\n    }\r\n\r\n    override fun read(b: ByteArray, off: Int, len: Int): Int {\r\n        // first read len bytes from s1, then read the remaining bytes from s2\r\n        val bytesReadFromFirstStream = stream1.read(b, off, len)\r\n        if (bytesReadFromFirstStream == -1) {\r\n            // nothing read from first stream, read from second stream\r\n            return stream2.read(b, off, len)\r\n        }\r\n        // some bytes read from first stream, read remaining bytes from second stream\r\n        return bytesReadFromFirstStream + stream2.read(\r\n            b,\r\n            off + bytesReadFromFirstStream,\r\n            len - bytesReadFromFirstStream\r\n        )\r\n    }\r\n}\r\n```","title":"How to use SequenceInputStream?","body":"<p>I stumbled upon the same <em>weird</em> behaviour and decided to fix it by reimplementing the functionality (in kotlin, converting to java should be easy).</p>\n<p>Background: Some libraries (postgres-jdbc in particular) uses a code-block like this to copy data:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val buf = ByteArray(8192)\nwhile (true) {\n  val len = stream.read(buf, 0, 8192) \n  // do something with the len bytes\n\n  if (len &lt; 8192) {\n    // nothing more to read\n    break\n  }\n}\n</code></pre>\n<p>So, here is the <em>correct</em> implementation:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>package de.elektrowolle.commons.kotlin.streams\n\nimport java.io.InputStream\n\n\n/** Reimplementation of java.io.SequenceInputStream with _correct_ implementation of available(), skip() and read(byte[], int, int)\n * @see java.io.SequenceInputStream\n */\nclass SequenceInputStream(\n    private val stream1: InputStream,\n    private val stream2: InputStream\n) : InputStream() {\n\n    override fun close() {\n        // close both streams. If one fails, the other one is still closed\n        // first stream1 is closed\n        stream2.use { stream1.use {} }\n    }\n\n    override fun read(): Int {\n        val charFromStream = stream1.read()\n        return if (charFromStream != -1) charFromStream else stream2.read()\n    }\n\n    override fun available(): Int {\n        return stream1.available() + stream2.available()\n    }\n\n    override fun skip(n: Long): Long {\n        val skippedBytesFromFirstStream = stream1.skip(n)\n        return skippedBytesFromFirstStream + stream2.skip(n - skippedBytesFromFirstStream)\n    }\n\n    override fun read(b: ByteArray, off: Int, len: Int): Int {\n        // first read len bytes from s1, then read the remaining bytes from s2\n        val bytesReadFromFirstStream = stream1.read(b, off, len)\n        if (bytesReadFromFirstStream == -1) {\n            // nothing read from first stream, read from second stream\n            return stream2.read(b, off, len)\n        }\n        // some bytes read from first stream, read remaining bytes from second stream\n        return bytesReadFromFirstStream + stream2.read(\n            b,\n            off + bytesReadFromFirstStream,\n            len - bytesReadFromFirstStream\n        )\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20473039,"reputation":405,"user_id":15022977,"display_name":"axlis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":758,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65912838,"answer_count":3,"score":0,"last_activity_date":1687970480,"creation_date":1611718328,"question_id":65912541,"body_markdown":"&#127859;**Background**\r\n\r\n* 1.I was learning the basic grammar of input and output in java.\r\n* 2.But I found that the SequenceInputStream worked strangely.\r\n\r\n⚡**Code**\r\n\r\n```java\r\npackage book1.chapter10;\r\n\r\nimport java.io.FileInputStream;\r\nimport java.io.IOException;\r\nimport java.io.SequenceInputStream;\r\n\r\npublic class Test1 {\r\n    public static void main(String[] args) throws IOException {\r\n        byte[] box = new byte[50];\r\n        FileInputStream fin1 = new FileInputStream(&quot;D:/Workspace/Java/src/book1/chapter10/data1.txt&quot;);\r\n        FileInputStream fin2 = new FileInputStream(&quot;D:/Workspace/Java/src/book1/chapter10/data2.txt&quot;);\r\n        //fin1&#39;s content:&quot;learn!&quot;.\r\n        //fin2&#39;s content:&quot;java!&quot;.\r\n        SequenceInputStream finAll = new SequenceInputStream(fin1,fin2);\r\n        System.out.println(&quot;available:&quot; + finAll.available());\r\n        //try read ten:\r\n        finAll.read(box,0,10);\r\n        System.out.println(&quot;available:&quot; + finAll.available());\r\n        //try read one more:\r\n        int temp = fin1.read();\r\n        System.out.println(&quot;available:&quot; + finAll.available());\r\n        //outcome:\r\n        for(byte x: box) {\r\n            if (x != 0) System.out.print(x +&quot;,&quot;);\r\n        }\r\n        System.out.println(temp == -1);\r\n        //try read ten again!\r\n        byte[] newBox = new byte[50];\r\n        finAll.read(newBox,0,10);\r\n        System.out.println(&quot;available:&quot; + finAll.available());\r\n        //outcome:\r\n        for(byte x: newBox) {\r\n            if (x != 0) System.out.print(x +&quot;,&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n⚡**outcome**\r\n\r\n```\r\navailable:6\r\navailable:0\r\navailable:0\r\n108,101,97,114,110,33,true\r\navailable:0\r\n106,97,118,97,33,\r\n```\r\n\r\n&#128273;**Question**\r\n\r\n* 1.Why did the method(read) stop when meet EOF?\r\n* 2.How to read the next Stream?\r\n  \r\n  \r\n\r\n","title":"How to use SequenceInputStream?","body":"<p>🍳<strong>Background</strong></p>\n<ul>\n<li>1.I was learning the basic grammar of input and output in java.</li>\n<li>2.But I found that the SequenceInputStream worked strangely.</li>\n</ul>\n<p>⚡<strong>Code</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package book1.chapter10;\n\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.io.SequenceInputStream;\n\npublic class Test1 {\n    public static void main(String[] args) throws IOException {\n        byte[] box = new byte[50];\n        FileInputStream fin1 = new FileInputStream(&quot;D:/Workspace/Java/src/book1/chapter10/data1.txt&quot;);\n        FileInputStream fin2 = new FileInputStream(&quot;D:/Workspace/Java/src/book1/chapter10/data2.txt&quot;);\n        //fin1's content:&quot;learn!&quot;.\n        //fin2's content:&quot;java!&quot;.\n        SequenceInputStream finAll = new SequenceInputStream(fin1,fin2);\n        System.out.println(&quot;available:&quot; + finAll.available());\n        //try read ten:\n        finAll.read(box,0,10);\n        System.out.println(&quot;available:&quot; + finAll.available());\n        //try read one more:\n        int temp = fin1.read();\n        System.out.println(&quot;available:&quot; + finAll.available());\n        //outcome:\n        for(byte x: box) {\n            if (x != 0) System.out.print(x +&quot;,&quot;);\n        }\n        System.out.println(temp == -1);\n        //try read ten again!\n        byte[] newBox = new byte[50];\n        finAll.read(newBox,0,10);\n        System.out.println(&quot;available:&quot; + finAll.available());\n        //outcome:\n        for(byte x: newBox) {\n            if (x != 0) System.out.print(x +&quot;,&quot;);\n        }\n    }\n}\n</code></pre>\n<p>⚡<strong>outcome</strong></p>\n<pre><code>available:6\navailable:0\navailable:0\n108,101,97,114,110,33,true\navailable:0\n106,97,118,97,33,\n</code></pre>\n<p>🔑<strong>Question</strong></p>\n<ul>\n<li>1.Why did the method(read) stop when meet EOF?</li>\n<li>2.How to read the next Stream?</li>\n</ul>\n"},{"tags":["java","web","model-view-controller","servlets","frameworks"],"answers":[{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687970459,"creation_date":1687970459,"answer_id":76575173,"question_id":76575060,"body_markdown":"&gt; I was able to load a css file as I can see its content in the navigator sources \r\n\r\nI&#39;m not sure I understand what &quot;I can see its content in the navigator sources&quot; means, but if indeed your server correctly delivers the full contents of the CSS file in response to requests for the same, then that&#39;s the limit of its responsibility with respect to those files.\r\n\r\n&gt; However the css doesn&#39; t apply to the page unless if I modify it in the browser\r\n\r\nThat suggests that either the page that references the stylesheet does so incorrectly, or else that the CSS, as served, is incorrect.  It is unlikely to be a matter of the bits presented in the question, though those are too incomplete for certainty on that score.\r\n","title":"Created a simple java web framework, don&#39; t find a way to load css, js and other ressources into the jsp pages","body":"<blockquote>\n<p>I was able to load a css file as I can see its content in the navigator sources</p>\n</blockquote>\n<p>I'm not sure I understand what &quot;I can see its content in the navigator sources&quot; means, but if indeed your server correctly delivers the full contents of the CSS file in response to requests for the same, then that's the limit of its responsibility with respect to those files.</p>\n<blockquote>\n<p>However the css doesn' t apply to the page unless if I modify it in the browser</p>\n</blockquote>\n<p>That suggests that either the page that references the stylesheet does so incorrectly, or else that the CSS, as served, is incorrect.  It is unlikely to be a matter of the bits presented in the question, though those are too incomplete for certainty on that score.</p>\n"}],"owner":{"account_id":23255114,"reputation":1,"user_id":17342295,"display_name":"Maloda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1687970459,"creation_date":1687969365,"question_id":76575060,"body_markdown":"I created a simple java web framework with jakarta servlet\r\nEvery url is mapped to MainServlet\r\nThe web.xml is:\r\n\r\n```\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;MainServlet&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n```\r\n\r\nIn the MainServlet, everything is handled by the function processor\r\n\r\n```\r\npublic void processor(HttpServletRequest req, HttpServletResponse resp) throws Exception {\r\n        String url = req.getRequestURL().toString();\r\n        String last = url.substring(url.lastIndexOf(getContext())+getContext().length()+1);\r\n        if (getMappingUrls().containsKey(last)){\r\n            // handle normal for controller to view dispatch\r\n        }\r\n        else {\r\n            // check for css,js and other ressources\r\n            String tot = &quot;&quot;;\r\n            ServletContext servletContext = req.getServletContext();\r\n            URL resourceUrl = servletContext.getResource(last);\r\n               try {\r\n                    File cssFile = new File(resourceUrl.toURI());\r\n                    FileReader fileReader = new FileReader(cssFile);\r\n                    BufferedReader reader = new BufferedReader(fileReader);\r\n\r\n                    String line;\r\n                    while ((line = reader.readLine()) != null) {\r\n                        tot += line;\r\n                    }\r\n\r\n                    reader.close();\r\n                } catch (IOException | URISyntaxException e) {\r\n                  \r\n                }\r\n            writer(resp,tot);\r\n        }\r\n```\r\n\r\nIn my code above, I was able to load a css file as I can see its content in the navigator sources\r\nHowever the css doesn&#39; t apply to the page unless if I modify it in the browser\r\nEvery help would be appreciated","title":"Created a simple java web framework, don&#39; t find a way to load css, js and other ressources into the jsp pages","body":"<p>I created a simple java web framework with jakarta servlet\nEvery url is mapped to MainServlet\nThe web.xml is:</p>\n<pre><code>    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;MainServlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n</code></pre>\n<p>In the MainServlet, everything is handled by the function processor</p>\n<pre><code>public void processor(HttpServletRequest req, HttpServletResponse resp) throws Exception {\n        String url = req.getRequestURL().toString();\n        String last = url.substring(url.lastIndexOf(getContext())+getContext().length()+1);\n        if (getMappingUrls().containsKey(last)){\n            // handle normal for controller to view dispatch\n        }\n        else {\n            // check for css,js and other ressources\n            String tot = &quot;&quot;;\n            ServletContext servletContext = req.getServletContext();\n            URL resourceUrl = servletContext.getResource(last);\n               try {\n                    File cssFile = new File(resourceUrl.toURI());\n                    FileReader fileReader = new FileReader(cssFile);\n                    BufferedReader reader = new BufferedReader(fileReader);\n\n                    String line;\n                    while ((line = reader.readLine()) != null) {\n                        tot += line;\n                    }\n\n                    reader.close();\n                } catch (IOException | URISyntaxException e) {\n                  \n                }\n            writer(resp,tot);\n        }\n</code></pre>\n<p>In my code above, I was able to load a css file as I can see its content in the navigator sources\nHowever the css doesn' t apply to the page unless if I modify it in the browser\nEvery help would be appreciated</p>\n"},{"tags":["java","java-time"],"answers":[{"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687970252,"creation_date":1687965535,"answer_id":76574572,"question_id":76574408,"body_markdown":"## idea\r\nTo be honest, I don&#39;t have any idea why your attempt returns `&quot;IT&quot;`, maybe it is just *well known*, but not included in any (global) standard. \r\n\r\nHowever, I know a way to get the desired `&quot;IST&quot;`. It can be achieved by formatting `ZonedDateTime.now(ZoneId)` with the `ZoneId` of the system in a special way:  \r\nOutput only the time zone by using the pattern `z` and you will get the desired result `&quot;IST&quot;`. `zzzz` is also possible for the full representation  `&quot;India Standard Time&quot;`.\r\n\r\n### example\r\n```Java\r\npublic static void main(String[] args) {\r\n\t// create a zone id\r\n\tZoneId zoneId = ZoneId.of(&quot;Asia/Kolkata&quot;);\r\n\t// [UNDESIRED] print its toString()\r\n\tSystem.out.println(zoneId);\r\n\t// [UNDESIRED] print its id\r\n\tSystem.out.println(zoneId.getId());\r\n\t// [UNDESIRED] print its short name (timezone), this is exactly your attempt\r\n\tSystem.out.println(zoneId.getDisplayName(TextStyle.SHORT, Locale.ENGLISH));\r\n\t// [DESIRED] print its timezone…\r\n\tSystem.out.println(\r\n\t\t// depending on the current time in that zone…\r\n\t\tZonedDateTime.now(zoneId)\r\n\t\t\t// by simply formatting…\r\n\t\t \t.format(\r\n\t\t \t\t// just that zone using a specific locale\r\n\t \t\t\tDateTimeFormatter.ofPattern(\r\n\t \t\t\t\t\t&quot;z&quot;,\r\n\t\t \t\t\t\tLocale.ENGLISH\r\n\t\t\t\t)\r\n \t\t\t)\r\n \t);\r\n}\r\n```\r\n\r\n### output\r\n```none\r\nAsia/Kolkata\r\nAsia/Kolkata\r\nIT\r\nIST\r\n```\r\n\r\nYou will have to specify a `Locale`, e.g. to always have English short names, otherwise the output will depend on the system locale of the server like the zone id depends on the system default.","title":"Short name for timezones from java.time.ZoneId","body":"<h2>idea</h2>\n<p>To be honest, I don't have any idea why your attempt returns <code>&quot;IT&quot;</code>, maybe it is just <em>well known</em>, but not included in any (global) standard.</p>\n<p>However, I know a way to get the desired <code>&quot;IST&quot;</code>. It can be achieved by formatting <code>ZonedDateTime.now(ZoneId)</code> with the <code>ZoneId</code> of the system in a special way:<br />\nOutput only the time zone by using the pattern <code>z</code> and you will get the desired result <code>&quot;IST&quot;</code>. <code>zzzz</code> is also possible for the full representation  <code>&quot;India Standard Time&quot;</code>.</p>\n<h3>example</h3>\n<pre><code>public static void main(String[] args) {\n    // create a zone id\n    ZoneId zoneId = ZoneId.of(&quot;Asia/Kolkata&quot;);\n    // [UNDESIRED] print its toString()\n    System.out.println(zoneId);\n    // [UNDESIRED] print its id\n    System.out.println(zoneId.getId());\n    // [UNDESIRED] print its short name (timezone), this is exactly your attempt\n    System.out.println(zoneId.getDisplayName(TextStyle.SHORT, Locale.ENGLISH));\n    // [DESIRED] print its timezone…\n    System.out.println(\n        // depending on the current time in that zone…\n        ZonedDateTime.now(zoneId)\n            // by simply formatting…\n            .format(\n                // just that zone using a specific locale\n                DateTimeFormatter.ofPattern(\n                        &quot;z&quot;,\n                        Locale.ENGLISH\n                )\n            )\n    );\n}\n</code></pre>\n<h3>output</h3>\n<pre class=\"lang-none prettyprint-override\"><code>Asia/Kolkata\nAsia/Kolkata\nIT\nIST\n</code></pre>\n<p>You will have to specify a <code>Locale</code>, e.g. to always have English short names, otherwise the output will depend on the system locale of the server like the zone id depends on the system default.</p>\n"}],"owner":{"account_id":7556535,"reputation":1528,"user_id":5735939,"accept_rate":57,"display_name":"darecoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76574572,"answer_count":1,"score":1,"last_activity_date":1687970252,"creation_date":1687964194,"question_id":76574408,"body_markdown":"I am using `java.time.ZoneId` class to set system default timezone. I need to return the short name for the system timezone. If the server is in `Asia/Kolkata`, the short name returned is `IT` instead of IST. The similar thing is when `PT` is returned instead of `PST`.\r\nBelow is my code snippet.\r\n\r\n```\r\n//String timeZone = ZoneId.of(&quot;Asia/Kolkata&quot;).getDisplayName(TextStyle.SHORT, Locale.ENGLISH);\r\nString timeZone = ZoneId.systemDefault().getDisplayName(TextStyle.SHORT, Locale.ENGLISH);\r\n```\r\n\r\nReturns :\r\n\r\n```\r\nIT\r\n```\r\n\r\nIt would be great if this can return the well known short name for the timezones. Can anybody help?\r\n","title":"Short name for timezones from java.time.ZoneId","body":"<p>I am using <code>java.time.ZoneId</code> class to set system default timezone. I need to return the short name for the system timezone. If the server is in <code>Asia/Kolkata</code>, the short name returned is <code>IT</code> instead of IST. The similar thing is when <code>PT</code> is returned instead of <code>PST</code>.\nBelow is my code snippet.</p>\n<pre><code>//String timeZone = ZoneId.of(&quot;Asia/Kolkata&quot;).getDisplayName(TextStyle.SHORT, Locale.ENGLISH);\nString timeZone = ZoneId.systemDefault().getDisplayName(TextStyle.SHORT, Locale.ENGLISH);\n</code></pre>\n<p>Returns :</p>\n<pre><code>IT\n</code></pre>\n<p>It would be great if this can return the well known short name for the timezones. Can anybody help?</p>\n"},{"tags":["java","angular","auth0"],"owner":{"account_id":27778382,"reputation":13,"user_id":21207249,"display_name":"Charanjot Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687970164,"creation_date":1687970164,"question_id":76575134,"body_markdown":"I have an login flow setup that should register the userId created in the database when a user registers for the first time, otherwise return the existing userId if the user already exists.\r\n\r\n\r\n\r\n\r\n\r\n\r\nThe auth0 application has allowed callback url: http://localhost:4200/callback.\r\n\r\n/callback injects a service and uses that service to call a registerUser method.\r\n\r\nregisterUser then makes an http get call to the backend and attempts to capture the response.\r\n```\r\n  registerUser() {\r\n    this.httpClient.get(&quot;http://localhost:8080/api/user/register&quot;, {responseType:&quot;text&quot;})\r\n      .subscribe(data =&gt; {\r\n        this.userId= data;\r\n      })\r\n  }\r\n```\r\n\r\nThe backend code checks if user already exists in DB, returns string userId;\r\n\r\n\r\n```\r\n    //Grabs the token value from authentication in order to extract User info and save to DB\r\n    @GetMapping(&quot;/register&quot;)\r\n    @ResponseStatus(HttpStatus.OK)\r\n    public String register(Authentication authentication){\r\n        Jwt jwt = (Jwt) authentication.getPrincipal();\r\n\r\n        try{\r\n            return userRegistrationService.registerUser(jwt.getTokenValue());\r\n        }catch (Exception e){\r\n            return e.getMessage();\r\n        }\r\n    }\r\n\r\n---------------------------------------------------------------------\r\nUserRegistrationService\r\n\r\npublic String registerUser(String tokenValue){\r\n        //Call User info endpoint\r\n\r\n        HttpRequest httpRequest = HttpRequest.newBuilder()\r\n                .GET()\r\n                .uri(URI.create(userinfoEndpoint))\r\n                .setHeader(&quot;Authorization&quot;, String.format(&quot;Bearer %s&quot;, tokenValue))\r\n                .build();\r\n\r\n        HttpClient httpClient = HttpClient.newBuilder()\r\n                .version(HttpClient.Version.HTTP_2)\r\n                .build();\r\n\r\n\r\n        //Fetch Details and save to DB\r\n        try {\r\n            // Get Http response body\r\n            HttpResponse&lt;String&gt; responseString = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());\r\n            String body = responseString.body();\r\n\r\n            // Map response onto User fields, set deserialization on unknown false as we do not need all fields\r\n\r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n            UserInfoDTO userInfoDTO = objectMapper.readValue(body, UserInfoDTO.class);\r\n            //Check if the user is already in DB\r\n            Optional&lt;User&gt; userBySub = userRepository.findBySub(userInfoDTO.getSub());\r\n            if(userBySub.isPresent()){\r\n                return userBySub.get().getId();\r\n            } else {\r\n                // Map body onto User object\r\n                User user = new User();\r\n                user.setFirstName(userInfoDTO.getGivenName());\r\n                user.setLastName(userInfoDTO.getFamilyName());\r\n                user.setFullName(userInfoDTO.getName());\r\n                user.setEmailAddress(userInfoDTO.getEmail());\r\n                user.setSub(userInfoDTO.getSub());\r\n\r\n                // Save to DB\r\n                return userRepository.save(user).getId();\r\n            }\r\n        }catch(Exception exception){\r\n            throw new RuntimeException(&quot;Exception occurred while registering user&quot;, exception);\r\n        }\r\n    }\r\n```\r\n\r\nWhen I sign in, I get a 401 error from register endpoint and then get get redirected to /home despite there being no navigation/router elements in the html or .ts files for /callback (or app-routing.module.ts). If I manually navigate back to /callback then the register endpoint returns a userId correctly and I can see it added to the DB. I am also not navigated away from the /callback page.\r\n\r\n","title":"Unable to register/check userId after authorization from Auth0","body":"<p>I have an login flow setup that should register the userId created in the database when a user registers for the first time, otherwise return the existing userId if the user already exists.</p>\n<p>The auth0 application has allowed callback url: http://localhost:4200/callback.</p>\n<p>/callback injects a service and uses that service to call a registerUser method.</p>\n<p>registerUser then makes an http get call to the backend and attempts to capture the response.</p>\n<pre><code>  registerUser() {\n    this.httpClient.get(&quot;http://localhost:8080/api/user/register&quot;, {responseType:&quot;text&quot;})\n      .subscribe(data =&gt; {\n        this.userId= data;\n      })\n  }\n</code></pre>\n<p>The backend code checks if user already exists in DB, returns string userId;</p>\n<pre><code>    //Grabs the token value from authentication in order to extract User info and save to DB\n    @GetMapping(&quot;/register&quot;)\n    @ResponseStatus(HttpStatus.OK)\n    public String register(Authentication authentication){\n        Jwt jwt = (Jwt) authentication.getPrincipal();\n\n        try{\n            return userRegistrationService.registerUser(jwt.getTokenValue());\n        }catch (Exception e){\n            return e.getMessage();\n        }\n    }\n\n---------------------------------------------------------------------\nUserRegistrationService\n\npublic String registerUser(String tokenValue){\n        //Call User info endpoint\n\n        HttpRequest httpRequest = HttpRequest.newBuilder()\n                .GET()\n                .uri(URI.create(userinfoEndpoint))\n                .setHeader(&quot;Authorization&quot;, String.format(&quot;Bearer %s&quot;, tokenValue))\n                .build();\n\n        HttpClient httpClient = HttpClient.newBuilder()\n                .version(HttpClient.Version.HTTP_2)\n                .build();\n\n\n        //Fetch Details and save to DB\n        try {\n            // Get Http response body\n            HttpResponse&lt;String&gt; responseString = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());\n            String body = responseString.body();\n\n            // Map response onto User fields, set deserialization on unknown false as we do not need all fields\n\n            ObjectMapper objectMapper = new ObjectMapper();\n            objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n            UserInfoDTO userInfoDTO = objectMapper.readValue(body, UserInfoDTO.class);\n            //Check if the user is already in DB\n            Optional&lt;User&gt; userBySub = userRepository.findBySub(userInfoDTO.getSub());\n            if(userBySub.isPresent()){\n                return userBySub.get().getId();\n            } else {\n                // Map body onto User object\n                User user = new User();\n                user.setFirstName(userInfoDTO.getGivenName());\n                user.setLastName(userInfoDTO.getFamilyName());\n                user.setFullName(userInfoDTO.getName());\n                user.setEmailAddress(userInfoDTO.getEmail());\n                user.setSub(userInfoDTO.getSub());\n\n                // Save to DB\n                return userRepository.save(user).getId();\n            }\n        }catch(Exception exception){\n            throw new RuntimeException(&quot;Exception occurred while registering user&quot;, exception);\n        }\n    }\n</code></pre>\n<p>When I sign in, I get a 401 error from register endpoint and then get get redirected to /home despite there being no navigation/router elements in the html or .ts files for /callback (or app-routing.module.ts). If I manually navigate back to /callback then the register endpoint returns a userId correctly and I can see it added to the DB. I am also not navigated away from the /callback page.</p>\n"},{"tags":["java","spring-mvc","tomcat"],"owner":{"account_id":28913579,"reputation":1,"user_id":22146063,"display_name":"Tema"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687970037,"creation_date":1687970037,"question_id":76575119,"body_markdown":"So I&#39;m new to Spring and found difficult to access html files through controller. Project build on Maven. Here is project structure: [project structure](https://i.stack.imgur.com/VQZUk.png)\r\nI&#39;d configured my file by such classes:\r\n\r\n```\r\npublic class MySpringMvcDispatcherServletInitializer extends AbstractAnnotationConfigDispatcherServletInitializer {\r\n\r\n    @Override\r\n    protected Class&lt;?&gt;[] getRootConfigClasses() {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    protected Class&lt;?&gt;[] getServletConfigClasses() {\r\n        return new Class[] {SpringConfig.class};\r\n    }\r\n\r\n    @Override\r\n    protected String[] getServletMappings() {\r\n        return new String[] {&quot;/&quot;};\r\n    }\r\n}\r\n```\r\nand\r\n```\r\n@Configuration\r\n@ComponentScan(&quot;eng.springmvc&quot;)\r\n@EnableWebMvc\r\npublic class SpringConfig implements WebMvcConfigurer {\r\n\r\n    private final ApplicationContext applicationContext;\r\n\r\n    @Autowired\r\n    public SpringConfig(ApplicationContext applicationContext) {\r\n        this.applicationContext = applicationContext;\r\n    }\r\n\r\n    @Bean\r\n    public SpringResourceTemplateResolver templateResolver() {\r\n        SpringResourceTemplateResolver templateResolver = new SpringResourceTemplateResolver();\r\n        templateResolver.setApplicationContext(applicationContext);\r\n        templateResolver.setPrefix(&quot;WEB-INF/views/&quot;);\r\n        templateResolver.setSuffix(&quot;.html&quot;);\r\n        return templateResolver;\r\n    }\r\n\r\n    @Bean\r\n    public SpringTemplateEngine templateEngine() {\r\n        SpringTemplateEngine templateEngine = new SpringTemplateEngine();\r\n        templateEngine.setTemplateResolver(templateResolver());\r\n        templateEngine.setEnableSpringELCompiler(true);\r\n        return templateEngine;\r\n    }\r\n\r\n    @Override\r\n    public void configureViewResolvers(ViewResolverRegistry registry) {\r\n        ThymeleafViewResolver resolver = new ThymeleafViewResolver();\r\n        resolver.setTemplateEngine(templateEngine());\r\n        registry.viewResolver(resolver);\r\n    }\r\n}\r\n```\r\nhere is my controller: \r\n```\r\n@Controller\r\npublic class FirstController {\r\n\r\n    @GetMapping(&quot;/hello&quot;)\r\n    public String helloPage() {\r\n        return &quot;first/hello&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/goodbye&quot;)\r\n    public String goodByePage() {\r\n        return &quot;first/goodbye&quot;;\r\n    }\r\n}\r\n```\r\nCould anyone tell me what&#39;s the reason I&#39;m accessing 404 not found page instead of hello page?\r\n\r\n\r\n\r\nI&#39;ve tried to view few posts on stack overflow and rebuild my project from 0. Have no idea why it&#39;s not working:(","title":"Spring Application doesn&#39;t see internal files","body":"<p>So I'm new to Spring and found difficult to access html files through controller. Project build on Maven. Here is project structure: <a href=\"https://i.stack.imgur.com/VQZUk.png\" rel=\"nofollow noreferrer\">project structure</a>\nI'd configured my file by such classes:</p>\n<pre><code>public class MySpringMvcDispatcherServletInitializer extends AbstractAnnotationConfigDispatcherServletInitializer {\n\n    @Override\n    protected Class&lt;?&gt;[] getRootConfigClasses() {\n        return null;\n    }\n\n    @Override\n    protected Class&lt;?&gt;[] getServletConfigClasses() {\n        return new Class[] {SpringConfig.class};\n    }\n\n    @Override\n    protected String[] getServletMappings() {\n        return new String[] {&quot;/&quot;};\n    }\n}\n</code></pre>\n<p>and</p>\n<pre><code>@Configuration\n@ComponentScan(&quot;eng.springmvc&quot;)\n@EnableWebMvc\npublic class SpringConfig implements WebMvcConfigurer {\n\n    private final ApplicationContext applicationContext;\n\n    @Autowired\n    public SpringConfig(ApplicationContext applicationContext) {\n        this.applicationContext = applicationContext;\n    }\n\n    @Bean\n    public SpringResourceTemplateResolver templateResolver() {\n        SpringResourceTemplateResolver templateResolver = new SpringResourceTemplateResolver();\n        templateResolver.setApplicationContext(applicationContext);\n        templateResolver.setPrefix(&quot;WEB-INF/views/&quot;);\n        templateResolver.setSuffix(&quot;.html&quot;);\n        return templateResolver;\n    }\n\n    @Bean\n    public SpringTemplateEngine templateEngine() {\n        SpringTemplateEngine templateEngine = new SpringTemplateEngine();\n        templateEngine.setTemplateResolver(templateResolver());\n        templateEngine.setEnableSpringELCompiler(true);\n        return templateEngine;\n    }\n\n    @Override\n    public void configureViewResolvers(ViewResolverRegistry registry) {\n        ThymeleafViewResolver resolver = new ThymeleafViewResolver();\n        resolver.setTemplateEngine(templateEngine());\n        registry.viewResolver(resolver);\n    }\n}\n</code></pre>\n<p>here is my controller:</p>\n<pre><code>@Controller\npublic class FirstController {\n\n    @GetMapping(&quot;/hello&quot;)\n    public String helloPage() {\n        return &quot;first/hello&quot;;\n    }\n\n    @GetMapping(&quot;/goodbye&quot;)\n    public String goodByePage() {\n        return &quot;first/goodbye&quot;;\n    }\n}\n</code></pre>\n<p>Could anyone tell me what's the reason I'm accessing 404 not found page instead of hello page?</p>\n<p>I've tried to view few posts on stack overflow and rebuild my project from 0. Have no idea why it's not working:(</p>\n"},{"tags":["java","android","image"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":1,"creation_date":1584550984,"post_id":60744179,"comment_id":107473466,"body_markdown":"I think you need a server-side service (Java/ASP/PHP) to send your image file to and get back in the YUV format","body":"I think you need a server-side service (Java/ASP/PHP) to send your image file to and get back in the YUV format"},{"owner":{"account_id":4445413,"reputation":2752,"user_id":3618854,"display_name":"Yakov Dan"},"score":0,"creation_date":1584551155,"post_id":60744179,"comment_id":107473557,"body_markdown":"@ControlAltDel this particular application runs entirely on device. No server-side anything.","body":"@ControlAltDel this particular application runs entirely on device. No server-side anything."},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":1,"creation_date":1584551232,"post_id":60744179,"comment_id":107473589,"body_markdown":"I understand that this is just on the device. What I&#39;m saying is that you may need to add a server part to do your image file type conversion","body":"I understand that this is just on the device. What I&#39;m saying is that you may need to add a server part to do your image file type conversion"},{"owner":{"account_id":4445413,"reputation":2752,"user_id":3618854,"display_name":"Yakov Dan"},"score":0,"creation_date":1584551912,"post_id":60744179,"comment_id":107473904,"body_markdown":"@ControlAltDel I&#39;d rather not, for various performance reasons.","body":"@ControlAltDel I&#39;d rather not, for various performance reasons."},{"owner":{"account_id":6778270,"reputation":6791,"user_id":5288316,"accept_rate":79,"display_name":"Nicolas"},"score":0,"creation_date":1584553566,"post_id":60744179,"comment_id":107474556,"body_markdown":"You want to do the opposite of [this](https://en.wikipedia.org/wiki/YUV#Y%E2%80%B2UV420sp_(NV21)_to_RGB_conversion_(Android)) conversion right?","body":"You want to do the opposite of <a href=\"https://en.wikipedia.org/wiki/YUV#Y%E2%80%B2UV420sp_(NV21)_to_RGB_conversion_(Android)\" rel=\"nofollow noreferrer\">this</a> conversion right?"},{"owner":{"account_id":4445413,"reputation":2752,"user_id":3618854,"display_name":"Yakov Dan"},"score":0,"creation_date":1584554056,"post_id":60744179,"comment_id":107474747,"body_markdown":"@Nicolas - not quite. You&#39;ve linked to YUV-&gt;RGB, I want JPEG-&gt;YUV, not RGB-&gt;YUV.","body":"@Nicolas - not quite. You&#39;ve linked to YUV-&gt;RGB, I want JPEG-&gt;YUV, not RGB-&gt;YUV."},{"owner":{"account_id":6778270,"reputation":6791,"user_id":5288316,"accept_rate":79,"display_name":"Nicolas"},"score":1,"creation_date":1584555521,"post_id":60744179,"comment_id":107475306,"body_markdown":"There&#39;s a [Java wrapper for handling YUV](https://github.com/Gekkio/robotic-chameleon). JPEG to RGB is easy, it can probably do RGB to YUV. That said I just learned about YUV so I can&#39;t do much more.","body":"There&#39;s a <a href=\"https://github.com/Gekkio/robotic-chameleon\" rel=\"nofollow noreferrer\">Java wrapper for handling YUV</a>. JPEG to RGB is easy, it can probably do RGB to YUV. That said I just learned about YUV so I can&#39;t do much more."}],"answers":[{"tags":[],"owner":{"account_id":2145125,"reputation":2114,"user_id":1902910,"display_name":"Dustin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687969926,"creation_date":1687969926,"answer_id":76575111,"question_id":60744179,"body_markdown":"So, you can do it, but it&#39;s going to likely require some C.  First, if it&#39;s possible, see if you can change doSomething() to use an RGB Bitmap.  If so you can use BitmapFactory or ImageDecoder to convert Image.Plane[0].  That is going to be the easiest solution.\r\n\r\nIf not, you are going to have to find a libjpeg-turbo library to decompress the JPEG Image to YUV.  Once you get the yuv into a buffer, you can subclass Image to wrap said buffer.\r\n\r\nUnfortunately, there is a wrinkle.  The JPEG data may contain a YUV_422_888 image.  If doSomething() can handle that, great!  If not you will need something like libyuv to convert the YUV_422_888 to YUV_420_888.\r\n\r\nIn short, it&#39;s not trivial.  Luckily this transformation is very common in USB Video Camera apps and there are a number of open source examples.","title":"Converting an image from JPEG to YUV on android","body":"<p>So, you can do it, but it's going to likely require some C.  First, if it's possible, see if you can change doSomething() to use an RGB Bitmap.  If so you can use BitmapFactory or ImageDecoder to convert Image.Plane[0].  That is going to be the easiest solution.</p>\n<p>If not, you are going to have to find a libjpeg-turbo library to decompress the JPEG Image to YUV.  Once you get the yuv into a buffer, you can subclass Image to wrap said buffer.</p>\n<p>Unfortunately, there is a wrinkle.  The JPEG data may contain a YUV_422_888 image.  If doSomething() can handle that, great!  If not you will need something like libyuv to convert the YUV_422_888 to YUV_420_888.</p>\n<p>In short, it's not trivial.  Luckily this transformation is very common in USB Video Camera apps and there are a number of open source examples.</p>\n"}],"owner":{"account_id":4445413,"reputation":2752,"user_id":3618854,"display_name":"Yakov Dan"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":525,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687969926,"creation_date":1584550816,"question_id":60744179,"body_markdown":"This is a really general question. I have a callback that looks like this:\r\n\r\n```\r\npublic void onCapturedImage(Image image) {\r\n    doSomething(image);\r\n}\r\n```\r\n\r\nMy problem is that ```image``` is in JPEG format, and ```doSomething()``` expects an image in YUV_420_888 \r\nformat. The **reverse** conversion has an easy API, but for this direction I couldn&#39;t find anything. Due to various considerations, assume it is impossible to configure the system in such a away that image will originally be in YUV. \r\n\r\nAny ideas?\r\n","title":"Converting an image from JPEG to YUV on android","body":"<p>This is a really general question. I have a callback that looks like this:</p>\n\n<pre><code>public void onCapturedImage(Image image) {\n    doSomething(image);\n}\n</code></pre>\n\n<p>My problem is that <code>image</code> is in JPEG format, and <code>doSomething()</code> expects an image in YUV_420_888 \nformat. The <strong>reverse</strong> conversion has an easy API, but for this direction I couldn't find anything. Due to various considerations, assume it is impossible to configure the system in such a away that image will originally be in YUV. </p>\n\n<p>Any ideas?</p>\n"},{"tags":["java","spring","multithreading","java-8"],"comments":[{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1687968506,"post_id":76574741,"comment_id":135011955,"body_markdown":"Why do you think that the error has any connection to the `sleep` call? What is `jwtTokenUtils`? How was that variable assigned or initialized? I don&#39;t know Spring, but the exception obviously was raised _by_ Spring (`at org.springframework...`), and `IllegalStateException` probably means that you are using Spring in some incorrect way.","body":"Why do you think that the error has any connection to the <code>sleep</code> call? What is <code>jwtTokenUtils</code>? How was that variable assigned or initialized? I don&#39;t know Spring, but the exception obviously was raised <i>by</i> Spring (<code>at org.springframework...</code>), and <code>IllegalStateException</code> probably means that you are using Spring in some incorrect way."},{"owner":{"account_id":25525434,"reputation":47,"user_id":19314590,"display_name":"Shalini Gupta"},"score":0,"creation_date":1687969819,"post_id":76574741,"comment_id":135012238,"body_markdown":"@SolomonSlow updated jwt token class , I am just Autowiring it","body":"@SolomonSlow updated jwt token class , I am just Autowiring it"},{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1687970237,"post_id":76574741,"comment_id":135012316,"body_markdown":"`RequestContextHolder.currentRequestAttributes()` is only going to work if you call it while processing a request. Are you doing that? What happens if you call `getToken()` before waiting 30 minutes?","body":"<code>RequestContextHolder.currentRequestAttributes()</code> is only going to work if you call it while processing a request. Are you doing that? What happens if you call <code>getToken()</code> before waiting 30 minutes?"},{"owner":{"account_id":131213,"reputation":47334,"user_id":331052,"display_name":"Affe"},"score":1,"creation_date":1687970267,"post_id":76574741,"comment_id":135012321,"body_markdown":"You&#39;re trying to access the headers of a 30 minute old web request?  Are you trying to block one of your app server&#39;s handler threads for 30 minutes?  You should probably get the headers first and save them in the thread that&#39;s waiting.  (and then switch to a proper delayed queueing mechanism :) )","body":"You&#39;re trying to access the headers of a 30 minute old web request?  Are you trying to block one of your app server&#39;s handler threads for 30 minutes?  You should probably get the headers first and save them in the thread that&#39;s waiting.  (and then switch to a proper delayed queueing mechanism :) )"},{"owner":{"account_id":25525434,"reputation":47,"user_id":19314590,"display_name":"Shalini Gupta"},"score":0,"creation_date":1687970490,"post_id":76574741,"comment_id":135012370,"body_markdown":"@erickson issue with getToken() only, its giving that particular error without even sleep","body":"@erickson issue with getToken() only, its giving that particular error without even sleep"},{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1688052508,"post_id":76574741,"comment_id":135024979,"body_markdown":"Okay, you should rewrite your question to include only the parts that make a difference. You are sending people in the wrong direction by including unnecessary details, and leaving out the important parts. This method is only going to work while servicing a call to a web service endpoint, from the thread that is handling the call. Is that the case here?","body":"Okay, you should rewrite your question to include only the parts that make a difference. You are sending people in the wrong direction by including unnecessary details, and leaving out the important parts. This method is only going to work while servicing a call to a web service endpoint, from the thread that is handling the call. Is that the case here?"}],"owner":{"account_id":25525434,"reputation":47,"user_id":19314590,"display_name":"Shalini Gupta"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687969780,"creation_date":1687966857,"question_id":76574741,"body_markdown":"I want to make an API call but wait for 30 minutes post that I create a JWT token and call the API,\r\nBut I am getting below error , the exception starts after the thread resumes to process, Below is some line of code\r\n\r\n    log.debug(&quot;Reached here ======================== {}&quot;+ Instant.now());\r\n\tTimeUnit.MINUTES.sleep(30);\r\n\tlog.error(&quot;again starting&quot; +Instant.now());\r\n\tString accesstoken = &quot;Bearer &quot; + jwtTokenUtils.getToken();\r\n\r\njwttokenclass:-\r\n\r\n        public class JwtTokenUtils {\r\n\t\r\n\t@Value(&quot;${security.jwt.token.secret-key:secret-key}&quot;)\r\n\tprivate String secretKey;\r\n\r\n\t@PostConstruct\r\n\tprotected void init() {\r\n\t\tsecretKey = Base64.getEncoder().encodeToString(secretKey.getBytes());\r\n\t}\r\n    \r\n    public String getToken() {\r\n    \tString authToken = getAuthorizationHeader();\r\n    \t\r\n    \tif (authToken != null &amp;&amp; authToken.startsWith(&quot;Bearer &quot;)) {\r\n\t\t\treturn authToken.substring(7);\r\n\t\t} \r\n    }\r\n\r\n    public String getAuthorizationHeader() {\r\n    \tlog.debug(&quot;Inside getAuthorizationHeader()&quot;);\r\n        HttpServletRequest request = ((ServletRequestAttributes) RequestContextHolder.currentRequestAttributes()).getRequest();\r\n        if(request != null) {\r\n        \treturn request.getHeader(&quot;Authorization&quot;);\r\n        } \r\n    }\r\nGetting below error:-\r\n\r\n    java.lang.IllegalStateException: No thread-bound request found: Are you\r\n    referring to request attributes outside of an actual web request, or\r\n    processing a request outside of the originally receiving thread? If you\r\n    are actually operating within a web request and still receive this\r\n    message, your code is probably running outside of DispatcherServlet: In\r\n    this case, use RequestContextListener or RequestContextFilter to expose \r\n    the current request.\r\n    at org.springframework.web.context.request.RequestContextHolder.currentRequestAttributes(RequestContextHolder.java:131) ~[spring-web-5.1.19.RELEASE.jar!/:5.1.19.RELEASE]\r\n    at com.dummy.org.util.JwtTokenUtils.getAuthorizationHeader(JwtTokenUtils.java:45) ~[classes!/:2021.1.0.0-SNAPSHOT]\r\n    at com.dummy.org.util.JwtTokenUtils.getToken(JwtTokenUtils.java:34) ~[classes!/:2021.1.0.0-SNAPSHOT]\r\n\r\n  I have written below code snippet, but getting error\r\n      \r\n    log.debug(&quot;Reached here ======================== {}&quot;+ Instant.now());\r\n\tTimeUnit.MINUTES.sleep(30);\r\n\tlog.error(&quot;again starting&quot; +Instant.now());\r\n\tString accesstoken = &quot;Bearer &quot; + jwtTokenUtils.getToken();\r\n\r\nExpected:- new token should be created and API call should be successfull\r\n","title":"Getting &quot;java.lang.IllegalStateException&quot; if I am making thread sleep for 30 minutes","body":"<p>I want to make an API call but wait for 30 minutes post that I create a JWT token and call the API,\nBut I am getting below error , the exception starts after the thread resumes to process, Below is some line of code</p>\n<pre><code>log.debug(&quot;Reached here ======================== {}&quot;+ Instant.now());\nTimeUnit.MINUTES.sleep(30);\nlog.error(&quot;again starting&quot; +Instant.now());\nString accesstoken = &quot;Bearer &quot; + jwtTokenUtils.getToken();\n</code></pre>\n<p>jwttokenclass:-</p>\n<pre><code>    public class JwtTokenUtils {\n\n@Value(&quot;${security.jwt.token.secret-key:secret-key}&quot;)\nprivate String secretKey;\n\n@PostConstruct\nprotected void init() {\n    secretKey = Base64.getEncoder().encodeToString(secretKey.getBytes());\n}\n\npublic String getToken() {\n    String authToken = getAuthorizationHeader();\n    \n    if (authToken != null &amp;&amp; authToken.startsWith(&quot;Bearer &quot;)) {\n        return authToken.substring(7);\n    } \n}\n\npublic String getAuthorizationHeader() {\n    log.debug(&quot;Inside getAuthorizationHeader()&quot;);\n    HttpServletRequest request = ((ServletRequestAttributes) RequestContextHolder.currentRequestAttributes()).getRequest();\n    if(request != null) {\n        return request.getHeader(&quot;Authorization&quot;);\n    } \n}\n</code></pre>\n<p>Getting below error:-</p>\n<pre><code>java.lang.IllegalStateException: No thread-bound request found: Are you\nreferring to request attributes outside of an actual web request, or\nprocessing a request outside of the originally receiving thread? If you\nare actually operating within a web request and still receive this\nmessage, your code is probably running outside of DispatcherServlet: In\nthis case, use RequestContextListener or RequestContextFilter to expose \nthe current request.\nat org.springframework.web.context.request.RequestContextHolder.currentRequestAttributes(RequestContextHolder.java:131) ~[spring-web-5.1.19.RELEASE.jar!/:5.1.19.RELEASE]\nat com.dummy.org.util.JwtTokenUtils.getAuthorizationHeader(JwtTokenUtils.java:45) ~[classes!/:2021.1.0.0-SNAPSHOT]\nat com.dummy.org.util.JwtTokenUtils.getToken(JwtTokenUtils.java:34) ~[classes!/:2021.1.0.0-SNAPSHOT]\n</code></pre>\n<p>I have written below code snippet, but getting error</p>\n<pre><code>log.debug(&quot;Reached here ======================== {}&quot;+ Instant.now());\nTimeUnit.MINUTES.sleep(30);\nlog.error(&quot;again starting&quot; +Instant.now());\nString accesstoken = &quot;Bearer &quot; + jwtTokenUtils.getToken();\n</code></pre>\n<p>Expected:- new token should be created and API call should be successfull</p>\n"},{"tags":["java","spring","spring-mvc","aspectj"],"answers":[{"tags":[],"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1401834012,"creation_date":1401834012,"answer_id":24025943,"question_id":24025924,"body_markdown":"With your pointcut expression, you&#39;re basically proxying every bean and applying that advice. Some beans exist and operate outside the context of an `HttpServletRequest`. This means it cannot be retrieved. \r\n\r\nYou can only inject the `HttpServletRequest` in places where a Servlet container request handling thread will pass through.","title":"java.lang.IllegalStateException: No thread-bound request found, exception in aspect","body":"<p>With your pointcut expression, you're basically proxying every bean and applying that advice. Some beans exist and operate outside the context of an <code>HttpServletRequest</code>. This means it cannot be retrieved. </p>\n\n<p>You can only inject the <code>HttpServletRequest</code> in places where a Servlet container request handling thread will pass through.</p>\n"},{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1489992690,"creation_date":1401861152,"answer_id":24029989,"question_id":24025924,"body_markdown":"You shouldn&#39;t autowire a `HttpServletRequest` in your aspect as this will tie your aspect to be only runnable for classes that are called from within an executing `HttpServletRequest`. \r\n\r\nInstead use the `RequestContextHolder` to get the request when you need one.\r\n\r\n\tprivate String getRemoteAddress() {\r\n\t\tRequestAttributes attribs = RequestContextHolder.getRequestAttributes();\r\n\t\tif (attribs instanceof NativeWebRequest) {\r\n\t\t\tHttpServletRequest request = (HttpServletRequest) ((NativeWebRequest) attribs).getNativeRequest();\r\n\t\t\treturn request.getRemoteAddr();\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n     ","title":"java.lang.IllegalStateException: No thread-bound request found, exception in aspect","body":"<p>You shouldn't autowire a <code>HttpServletRequest</code> in your aspect as this will tie your aspect to be only runnable for classes that are called from within an executing <code>HttpServletRequest</code>. </p>\n\n<p>Instead use the <code>RequestContextHolder</code> to get the request when you need one.</p>\n\n<pre><code>private String getRemoteAddress() {\n    RequestAttributes attribs = RequestContextHolder.getRequestAttributes();\n    if (attribs instanceof NativeWebRequest) {\n        HttpServletRequest request = (HttpServletRequest) ((NativeWebRequest) attribs).getNativeRequest();\n        return request.getRemoteAddr();\n    }\n    return null;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1103179,"reputation":1695,"user_id":1095120,"display_name":"Nicholas Lu"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1467289009,"creation_date":1467289009,"answer_id":38122853,"question_id":24025924,"body_markdown":"As the error message said: In this case, use RequestContextListener or RequestContextFilter to expose the current request.\r\n\r\nTo fix it, register a RequestContextListener listener in web.xml file.\r\n\r\n    &lt;web-app ...&gt;\r\n       &lt;listener&gt;\r\n    \t&lt;listener-class&gt;\r\n    \t\torg.springframework.web.context.request.RequestContextListener\r\n    \t&lt;/listener-class&gt;\r\n       &lt;/listener&gt;\r\n    &lt;/web-app&gt;","title":"java.lang.IllegalStateException: No thread-bound request found, exception in aspect","body":"<p>As the error message said: In this case, use RequestContextListener or RequestContextFilter to expose the current request.</p>\n\n<p>To fix it, register a RequestContextListener listener in web.xml file.</p>\n\n<pre><code>&lt;web-app ...&gt;\n   &lt;listener&gt;\n    &lt;listener-class&gt;\n        org.springframework.web.context.request.RequestContextListener\n    &lt;/listener-class&gt;\n   &lt;/listener&gt;\n&lt;/web-app&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1861986,"reputation":1003,"user_id":1686407,"display_name":"min"},"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1671598892,"creation_date":1498754197,"answer_id":44830684,"question_id":24025924,"body_markdown":"@M. Deinum answer doesn&#39;t work for me. I use these codes instead  \r\n\r\n```java\r\nRequestAttributes attributes = RequestContextHolder.getRequestAttributes();\r\nif (attributes != null) {\r\n    HttpServletRequest request = ((ServletRequestAttributes) attributes).getRequest();\r\n    return request.getRemoteAddr();\r\n}\r\n```","title":"java.lang.IllegalStateException: No thread-bound request found, exception in aspect","body":"<p>@M. Deinum answer doesn't work for me. I use these codes instead</p>\n<pre class=\"lang-java prettyprint-override\"><code>RequestAttributes attributes = RequestContextHolder.getRequestAttributes();\nif (attributes != null) {\n    HttpServletRequest request = ((ServletRequestAttributes) attributes).getRequest();\n    return request.getRemoteAddr();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5877843,"reputation":455,"user_id":4628201,"accept_rate":50,"display_name":"Avijit Biswas"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1587843912,"creation_date":1587843912,"answer_id":61431621,"question_id":24025924,"body_markdown":"Create bean for RequestContextListener.\r\nI got the same error for autowiring HttpServletRequest And the following two lines of code works for me\r\n\r\n    @Bean\r\n\tpublic RequestContextListener requestContextListener() {\r\n\t\treturn new RequestContextListener();\r\n\t}\r\n    ","title":"java.lang.IllegalStateException: No thread-bound request found, exception in aspect","body":"<p>Create bean for RequestContextListener.\nI got the same error for autowiring HttpServletRequest And the following two lines of code works for me</p>\n\n<pre><code>@Bean\npublic RequestContextListener requestContextListener() {\n    return new RequestContextListener();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1041463,"reputation":3845,"user_id":1047418,"display_name":"Torben"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1620628320,"creation_date":1620628320,"answer_id":67465756,"question_id":24025924,"body_markdown":"In case you came here because you searched the error message from the Internet around or after the year 2021... I did that too and eventually realized I had two `@Configuration` classes that implemented `WebMvcConfigurer`. Removing the duplicate solved the problem.","title":"java.lang.IllegalStateException: No thread-bound request found, exception in aspect","body":"<p>In case you came here because you searched the error message from the Internet around or after the year 2021... I did that too and eventually realized I had two <code>@Configuration</code> classes that implemented <code>WebMvcConfigurer</code>. Removing the duplicate solved the problem.</p>\n"},{"tags":[],"owner":{"account_id":11418021,"reputation":4780,"user_id":8370334,"display_name":"Abd Abughazaleh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671651427,"creation_date":1671651427,"answer_id":74881013,"question_id":24025924,"body_markdown":"I solved by adding the following: \r\n\r\n    @Around(value = &quot;@annotation(JwtSecure)&quot;)\r\n    @Pointcut(&quot;within(@org.springframework.stereotype.Repository *)&quot;\r\n            + &quot; || within(@org.springframework.stereotype.Service *)&quot;\r\n            + &quot;|| within(@org.springframework.stereotype.Component *)&quot;\r\n            + &quot; || within(@org.springframework.web.bind.annotation.RestController *)&quot;)\r\n    public Object around(ProceedingJoinPoint joinPoint) throws Throwable {","title":"java.lang.IllegalStateException: No thread-bound request found, exception in aspect","body":"<p>I solved by adding the following:</p>\n<pre><code>@Around(value = &quot;@annotation(JwtSecure)&quot;)\n@Pointcut(&quot;within(@org.springframework.stereotype.Repository *)&quot;\n        + &quot; || within(@org.springframework.stereotype.Service *)&quot;\n        + &quot;|| within(@org.springframework.stereotype.Component *)&quot;\n        + &quot; || within(@org.springframework.web.bind.annotation.RestController *)&quot;)\npublic Object around(ProceedingJoinPoint joinPoint) throws Throwable {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11574148,"reputation":399,"user_id":8480036,"display_name":"Ashish Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687969652,"creation_date":1687969652,"answer_id":76575082,"question_id":24025924,"body_markdown":"If you are getting this issue in Spring boot when you have received a request from postman/web and you are trying to spawn a new thread (may be by using CompletableFuture) to get a response. Then you might be trying to **get** something within the spawned thread which is related to the original request like the sessionId. Instead, you should get them (sessionId and other parameters) in main thread and **pass** the sessionId and other parameters which is associated to the original request method argument which you&#39;ll call in the CompletableFuture. I have shared a screenshot of the same where I am extracting the sessionId from original request and passing it through to the someMethodCall() as a parameter.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bBzov.png","title":"java.lang.IllegalStateException: No thread-bound request found, exception in aspect","body":"<p>If you are getting this issue in Spring boot when you have received a request from postman/web and you are trying to spawn a new thread (may be by using CompletableFuture) to get a response. Then you might be trying to <strong>get</strong> something within the spawned thread which is related to the original request like the sessionId. Instead, you should get them (sessionId and other parameters) in main thread and <strong>pass</strong> the sessionId and other parameters which is associated to the original request method argument which you'll call in the CompletableFuture. I have shared a screenshot of the same where I am extracting the sessionId from original request and passing it through to the someMethodCall() as a parameter.</p>\n<p><a href=\"https://i.stack.imgur.com/bBzov.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bBzov.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":891554,"reputation":8848,"user_id":929701,"accept_rate":79,"display_name":"hrishikeshp19"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137555,"favorite_count":0,"down_vote_count":0,"up_vote_count":46,"accepted_answer_id":24029989,"answer_count":8,"score":46,"last_activity_date":1687969652,"creation_date":1401833931,"question_id":24025924,"body_markdown":"Following is my aspect:\r\n\r\n        @Configurable\r\n        @Aspect\r\n        public class TimingAspect {\r\n        \r\n            @Autowired\r\n            private HttpServletRequest httpServletRequest;\r\n        \r\n            // Generic performance logger for any mothod\r\n            private Object logPerfomanceInfo(ProceedingJoinPoint joinPoint, String remoteAddress) {\r\n                StringBuilder tag = new StringBuilder();\r\n                if (joinPoint.getTarget() != null) {\r\n                    tag.append(joinPoint.getTarget().getClass().getName());\r\n                    tag.append(&quot;.&quot;);\r\n                }\r\n                tag.append(joinPoint.getSignature().getName());\r\n                StopWatch stopWatch = new StopWatch(tag.toString());\r\n                Object result = joinPoint.proceed(); // continue on the intercepted method\r\n                stopWatch.stop();\r\n        \r\n                PerformanceUtils.logInPerf4jFormat(stopWatch.getStartTime(), stopWatch.getElapsedTime(), stopWatch.getTag(), stopWatch.getMessage(), remoteAddress);\r\n                return result;\r\n            }\r\n        \r\n            @Around(&quot;execution(* $$$.$$$.$$$.api.controller.*.*(..))&quot;)\r\n            public Object logAroundApis(ProceedingJoinPoint joinPoint) throws Throwable {\r\n                String remoteAddress = null;\r\n                if (httpServletRequest != null) {\r\n                   remoteAddress = httpServletRequest.getRemoteAddr();\r\n                }\r\n                return logPerfomanceInfo(joinPoint, remoteAddress);\r\n            }\r\n            \r\n            @Around(&quot;execution(* $$$.$$$.$$$.$$$.$$$.$$$.*(..))&quot;)\r\n            public Object logAroundService(ProceedingJoinPoint joinPoint) throws Throwable {\r\n                String remoteAddress = null;\r\n                if (httpServletRequest != null) {\r\n                    remoteAddress = httpServletRequest.getRemoteAddr();\r\n                }\r\n                return logPerfomanceInfo(joinPoint, remoteAddress);\r\n            }\r\n\r\n\r\nI do not get any compile time errors but I do following exception when I start my jetty server:\r\n\r\n&gt; nested exception is java.lang.IllegalStateException: No thread-bound\r\n&gt; request found: Are you referring to request attributes outside of an\r\n&gt; actual web request, or processing a request outside of the originally\r\n&gt; receiving thread? If you are actually operating within a web request\r\n&gt; and still receive this message, your code is probably running outside\r\n&gt; of DispatcherServlet/DispatcherPortlet: In this case, use\r\n&gt; RequestContextListener or RequestContextFilter to expose the current\r\n&gt; request.\r\n\r\nOne thing to note here is, if I remove &quot;logAroundService&quot; method, I do not get any exceptions.","title":"java.lang.IllegalStateException: No thread-bound request found, exception in aspect","body":"<p>Following is my aspect:</p>\n\n<pre><code>    @Configurable\n    @Aspect\n    public class TimingAspect {\n\n        @Autowired\n        private HttpServletRequest httpServletRequest;\n\n        // Generic performance logger for any mothod\n        private Object logPerfomanceInfo(ProceedingJoinPoint joinPoint, String remoteAddress) {\n            StringBuilder tag = new StringBuilder();\n            if (joinPoint.getTarget() != null) {\n                tag.append(joinPoint.getTarget().getClass().getName());\n                tag.append(\".\");\n            }\n            tag.append(joinPoint.getSignature().getName());\n            StopWatch stopWatch = new StopWatch(tag.toString());\n            Object result = joinPoint.proceed(); // continue on the intercepted method\n            stopWatch.stop();\n\n            PerformanceUtils.logInPerf4jFormat(stopWatch.getStartTime(), stopWatch.getElapsedTime(), stopWatch.getTag(), stopWatch.getMessage(), remoteAddress);\n            return result;\n        }\n\n        @Around(\"execution(* $$$.$$$.$$$.api.controller.*.*(..))\")\n        public Object logAroundApis(ProceedingJoinPoint joinPoint) throws Throwable {\n            String remoteAddress = null;\n            if (httpServletRequest != null) {\n               remoteAddress = httpServletRequest.getRemoteAddr();\n            }\n            return logPerfomanceInfo(joinPoint, remoteAddress);\n        }\n\n        @Around(\"execution(* $$$.$$$.$$$.$$$.$$$.$$$.*(..))\")\n        public Object logAroundService(ProceedingJoinPoint joinPoint) throws Throwable {\n            String remoteAddress = null;\n            if (httpServletRequest != null) {\n                remoteAddress = httpServletRequest.getRemoteAddr();\n            }\n            return logPerfomanceInfo(joinPoint, remoteAddress);\n        }\n</code></pre>\n\n<p>I do not get any compile time errors but I do following exception when I start my jetty server:</p>\n\n<blockquote>\n  <p>nested exception is java.lang.IllegalStateException: No thread-bound\n  request found: Are you referring to request attributes outside of an\n  actual web request, or processing a request outside of the originally\n  receiving thread? If you are actually operating within a web request\n  and still receive this message, your code is probably running outside\n  of DispatcherServlet/DispatcherPortlet: In this case, use\n  RequestContextListener or RequestContextFilter to expose the current\n  request.</p>\n</blockquote>\n\n<p>One thing to note here is, if I remove \"logAroundService\" method, I do not get any exceptions.</p>\n"},{"tags":["java","eclipse","web-services","eclipse-plugin","websphere"],"answers":[{"tags":[],"owner":{"account_id":7228310,"reputation":263,"user_id":5516116,"display_name":"PabloBuendia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617391898,"creation_date":1617391898,"answer_id":66924326,"question_id":66922352,"body_markdown":"The problem might be that the server is serving stale content.\r\n\r\nTry deleting the folder `~/.eclipse/org.eclipse.oomph.p2/cache`","title":"Cannot complete the install WebSphere in Eclipse","body":"<p>The problem might be that the server is serving stale content.</p>\n<p>Try deleting the folder <code>~/.eclipse/org.eclipse.oomph.p2/cache</code></p>\n"},{"tags":[],"owner":{"account_id":10204791,"reputation":81,"user_id":7533851,"display_name":"Matt Colegate"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687969246,"creation_date":1687969246,"answer_id":76575052,"question_id":66922352,"body_markdown":"I think you might have the wrong link - the Install links at https://marketplace.eclipse.org/content/ibm-websphere-application-server-v85x-developer-tools#maint-content-area say that for Eclipse 2020-03 and 2019-12 the URL should be https://public.dhe.ibm.com/ibmdl/export/pub/software/websphere/wasdev/updates/wdt/2020-09_comp_was/\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iiP0L.png","title":"Cannot complete the install WebSphere in Eclipse","body":"<p>I think you might have the wrong link - the Install links at <a href=\"https://marketplace.eclipse.org/content/ibm-websphere-application-server-v85x-developer-tools#maint-content-area\" rel=\"nofollow noreferrer\">https://marketplace.eclipse.org/content/ibm-websphere-application-server-v85x-developer-tools#maint-content-area</a> say that for Eclipse 2020-03 and 2019-12 the URL should be <a href=\"https://public.dhe.ibm.com/ibmdl/export/pub/software/websphere/wasdev/updates/wdt/2020-09_comp_was/\" rel=\"nofollow noreferrer\">https://public.dhe.ibm.com/ibmdl/export/pub/software/websphere/wasdev/updates/wdt/2020-09_comp_was/</a></p>\n<p><a href=\"https://i.stack.imgur.com/iiP0L.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iiP0L.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":15803770,"reputation":1,"user_id":11919579,"display_name":"Carlos Contreras Salas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":878,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687969246,"creation_date":1617380962,"question_id":66922352,"body_markdown":"I can&#39;t install WebSphere in eclipse by &quot;Install New Software&quot; with the link:\r\nhttp://public.dhe.ibm.com/ibmdl/export/pub/software/websphere/wasdev/updates/wdt/2020-09_comp/\r\n\r\nI probe in eclipse 2020-03 and eclipse 2019-12\r\n\r\nI get this error:\r\n\r\n        Cannot complete the install because one or more required items could not be found.\r\n      Software being installed: Web Development Tools\t 20.0.900.v20200826_1754 (com.ibm.wdt.webtools.top.feature.feature.group 20.0.900.v20200826_1754)\r\n      Missing requirement: Web Development Tools\t 20.0.900.v20200826_1754 (com.ibm.wdt.webtools.top.feature.feature.group 20.0.900.v20200826_1754) requires &#39;org.eclipse.equinox.p2.iu; com.ibm.etools.attrview.feature.feature.group 1.0.100&#39; but it could not be found\r\n\r\nImage:\r\n\r\n[enter image description here][1]\r\n\r\nI also tried to install IBM WebSphere Application Server V8.5x Developer Tools via Eclipse Marketplace, but failed.\r\n\r\nImage:\r\n[enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0cI5h.png\r\n  [2]: https://i.stack.imgur.com/hsMCd.png","title":"Cannot complete the install WebSphere in Eclipse","body":"<p>I can't install WebSphere in eclipse by &quot;Install New Software&quot; with the link:\n<a href=\"http://public.dhe.ibm.com/ibmdl/export/pub/software/websphere/wasdev/updates/wdt/2020-09_comp/\" rel=\"nofollow noreferrer\">http://public.dhe.ibm.com/ibmdl/export/pub/software/websphere/wasdev/updates/wdt/2020-09_comp/</a></p>\n<p>I probe in eclipse 2020-03 and eclipse 2019-12</p>\n<p>I get this error:</p>\n<pre><code>    Cannot complete the install because one or more required items could not be found.\n  Software being installed: Web Development Tools    20.0.900.v20200826_1754 (com.ibm.wdt.webtools.top.feature.feature.group 20.0.900.v20200826_1754)\n  Missing requirement: Web Development Tools     20.0.900.v20200826_1754 (com.ibm.wdt.webtools.top.feature.feature.group 20.0.900.v20200826_1754) requires 'org.eclipse.equinox.p2.iu; com.ibm.etools.attrview.feature.feature.group 1.0.100' but it could not be found\n</code></pre>\n<p>Image:</p>\n<p><a href=\"https://i.stack.imgur.com/0cI5h.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I also tried to install IBM WebSphere Application Server V8.5x Developer Tools via Eclipse Marketplace, but failed.</p>\n<p>Image:\n<a href=\"https://i.stack.imgur.com/hsMCd.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","xml","spring-integration","spring-integration-sftp"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687968693,"creation_date":1687968693,"answer_id":76574981,"question_id":76574678,"body_markdown":"What you are asking for is typical usage of the Wire Tap EI pattern: \r\n\r\nhttps://www.enterpriseintegrationpatterns.com/patterns/messaging/WireTap.html\r\n\r\nhttps://docs.spring.io/spring-integration/docs/current/reference/html/core.html#channel-wiretap\r\n\r\nSo, what you need is just a configuration of that wire-tap for channels to intercept and forward to your `loggingChannel`:\r\n\r\n    &lt;int:wire-tap pattern=&quot;getChannel, removeChannel&quot; channel=&quot;loggingChannel&quot;/&gt;","title":"Spring-integration-sftp: how to get logging","body":"<p>What you are asking for is typical usage of the Wire Tap EI pattern:</p>\n<p><a href=\"https://www.enterpriseintegrationpatterns.com/patterns/messaging/WireTap.html\" rel=\"nofollow noreferrer\">https://www.enterpriseintegrationpatterns.com/patterns/messaging/WireTap.html</a></p>\n<p><a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/core.html#channel-wiretap\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/core.html#channel-wiretap</a></p>\n<p>So, what you need is just a configuration of that wire-tap for channels to intercept and forward to your <code>loggingChannel</code>:</p>\n<pre><code>&lt;int:wire-tap pattern=&quot;getChannel, removeChannel&quot; channel=&quot;loggingChannel&quot;/&gt;\n</code></pre>\n"}],"owner":{"account_id":17204995,"reputation":61,"user_id":12455768,"display_name":"terrinizer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76574981,"answer_count":1,"score":0,"last_activity_date":1687968693,"creation_date":1687966404,"question_id":76574678,"body_markdown":"I have the following code who fetches files from a directory on a sftp server and moves them locally. First I list the files, then I get them and then I do a rm with 3 different outbound gateways. How do I get logging from the &#39;loggingChannel&#39;. Also I would like logging from the &#39;getChannel&#39; and &#39;removeChannel&#39;. Thanks in advance!\r\n\r\nHere I get the xml config and call the method from the gateway interface.\r\n\r\nAppOutboundGateway.java\r\n\r\n    public class AppOutboundGateway {\r\n        \r\n            public static void main(String[] args) {\r\n                ConfigurableApplicationContext ctx = new ClassPathXmlApplicationContext(\r\n                        &quot;classpath:SftpOutboundGateway.xml&quot;);\r\n        \r\n                ToSftpFlowGateway sftpFlowGateway = ctx.getBean(ToSftpFlowGateway.class);\r\n        \r\n                try {\r\n                    sftpFlowGateway.lsGetAndRmFiles(&quot;/files/&quot;);\r\n                } catch (NestedIOException e) {\r\n                    System.out.println(&quot;Directory not found&quot;);\r\n                }\r\n            }\r\n        \r\n        }\r\n\r\nThis is the gateway interface with one method to get a list from the files and remove them after.\r\n\r\nToSftpFlowGateway.java\r\n\r\n    public interface ToSftpFlowGateway\r\n    {\r\n        List&lt;Boolean&gt; lsGetAndRmFiles(String dir) throws NestedIOException;\r\n    }\r\n\r\nThis is my xml configuration. The factory is mady in web.xml which I will not share.\r\n\r\nSftpOutboundGateway.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n           xmlns:int=&quot;http://www.springframework.org/schema/integration&quot;\r\n           xmlns:int-sftp=&quot;http://www.springframework.org/schema/integration/sftp&quot;\r\n           xsi:schemaLocation=&quot;http://www.springframework.org/schema/integration\r\n                               http://www.springframework.org/schema/integration/spring-integration-4.1.xsd\r\n                               http://www.springframework.org/schema/beans\r\n                               https://www.springframework.org/schema/beans/spring-beans.xsd\r\n                               http://www.springframework.org/schema/integration/sftp \r\n                               https://www.springframework.org/schema/integration/sftp/spring-integration-sftp-4.1.xsd&quot;&gt;\r\n    \r\n        &lt;import resource=&quot;web.xml&quot;/&gt;\r\n    \r\n        &lt;int:gateway id=&quot;gw&quot; service-interface=&quot;ToSftpFlowGateway&quot;\r\n                     default-request-channel=&quot;inputChannel&quot; default-reply-timeout=&quot;1000&quot;/&gt;\r\n    \r\n        &lt;int:channel id=&quot;inputChannel&quot;&gt;\r\n        &lt;/int:channel&gt;\r\n    \r\n        &lt;int-sftp:outbound-gateway id=&quot;gatewayLS&quot;\r\n                                   auto-startup=&quot;true&quot;\r\n                                   session-factory=&quot;sftpSessionFactory&quot;\r\n                                   request-channel=&quot;inputChannel&quot;\r\n                                   command=&quot;ls&quot;\r\n                                   expression=&quot;payload&quot;\r\n                                   reply-channel=&quot;toSplitter&quot;&gt;\r\n        &lt;/int-sftp:outbound-gateway&gt;\r\n    \r\n        &lt;int:splitter input-channel=&quot;toSplitter&quot; output-channel=&quot;getChannel&quot; delimiters=&quot;/&quot;/&gt;\r\n    \r\n        &lt;int:channel id=&quot;getChannel&quot; &gt;\r\n        &lt;/int:channel&gt;\r\n    \r\n        &lt;int-sftp:outbound-gateway id=&quot;gatewayGET&quot;\r\n                                   local-directory-expression=&quot;&#39;C:/temp/&#39;&quot;\r\n                                   auto-create-local-directory=&quot;true&quot;\r\n                                   session-factory=&quot;sftpSessionFactory&quot;\r\n                                   request-channel=&quot;getChannel&quot;\r\n                                   reply-channel=&quot;removeChannel&quot;    \r\n                                   command=&quot;get&quot;\r\n                                   mode=&quot;IGNORE&quot;\r\n                                   expression=&quot;payload.remoteDirectory + &#39;/&#39; + payload.filename&quot;&gt;\r\n        &lt;/int-sftp:outbound-gateway&gt;\r\n    \r\n        &lt;int:channel id=&quot;removeChannel&quot;&gt;\r\n        &lt;/int:channel&gt;\r\n    \r\n        &lt;int-sftp:outbound-gateway id=&quot;gatewayRM&quot;\r\n                                   request-channel=&quot;removeChannel&quot;\r\n                                   session-factory=&quot;sftpSessionFactory&quot;\r\n                                   expression=&quot;headers[&#39;file_remoteDirectory&#39;] + headers[&#39;file_remoteFile&#39;]&quot;\r\n                                   reply-channel=&quot;loggingChannel&quot;\r\n                                   command=&quot;rm&quot;&gt;\r\n        &lt;/int-sftp:outbound-gateway&gt;\r\n        \r\n        &lt;int:logging-channel-adapter id=&quot;loggingChannel&quot;/&gt;\r\n        \r\n    &lt;/beans&gt;\r\n\r\n","title":"Spring-integration-sftp: how to get logging","body":"<p>I have the following code who fetches files from a directory on a sftp server and moves them locally. First I list the files, then I get them and then I do a rm with 3 different outbound gateways. How do I get logging from the 'loggingChannel'. Also I would like logging from the 'getChannel' and 'removeChannel'. Thanks in advance!</p>\n<p>Here I get the xml config and call the method from the gateway interface.</p>\n<p>AppOutboundGateway.java</p>\n<pre><code>public class AppOutboundGateway {\n    \n        public static void main(String[] args) {\n            ConfigurableApplicationContext ctx = new ClassPathXmlApplicationContext(\n                    &quot;classpath:SftpOutboundGateway.xml&quot;);\n    \n            ToSftpFlowGateway sftpFlowGateway = ctx.getBean(ToSftpFlowGateway.class);\n    \n            try {\n                sftpFlowGateway.lsGetAndRmFiles(&quot;/files/&quot;);\n            } catch (NestedIOException e) {\n                System.out.println(&quot;Directory not found&quot;);\n            }\n        }\n    \n    }\n</code></pre>\n<p>This is the gateway interface with one method to get a list from the files and remove them after.</p>\n<p>ToSftpFlowGateway.java</p>\n<pre><code>public interface ToSftpFlowGateway\n{\n    List&lt;Boolean&gt; lsGetAndRmFiles(String dir) throws NestedIOException;\n}\n</code></pre>\n<p>This is my xml configuration. The factory is mady in web.xml which I will not share.</p>\n<p>SftpOutboundGateway.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xmlns:int=&quot;http://www.springframework.org/schema/integration&quot;\n       xmlns:int-sftp=&quot;http://www.springframework.org/schema/integration/sftp&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/integration\n                           http://www.springframework.org/schema/integration/spring-integration-4.1.xsd\n                           http://www.springframework.org/schema/beans\n                           https://www.springframework.org/schema/beans/spring-beans.xsd\n                           http://www.springframework.org/schema/integration/sftp \n                           https://www.springframework.org/schema/integration/sftp/spring-integration-sftp-4.1.xsd&quot;&gt;\n\n    &lt;import resource=&quot;web.xml&quot;/&gt;\n\n    &lt;int:gateway id=&quot;gw&quot; service-interface=&quot;ToSftpFlowGateway&quot;\n                 default-request-channel=&quot;inputChannel&quot; default-reply-timeout=&quot;1000&quot;/&gt;\n\n    &lt;int:channel id=&quot;inputChannel&quot;&gt;\n    &lt;/int:channel&gt;\n\n    &lt;int-sftp:outbound-gateway id=&quot;gatewayLS&quot;\n                               auto-startup=&quot;true&quot;\n                               session-factory=&quot;sftpSessionFactory&quot;\n                               request-channel=&quot;inputChannel&quot;\n                               command=&quot;ls&quot;\n                               expression=&quot;payload&quot;\n                               reply-channel=&quot;toSplitter&quot;&gt;\n    &lt;/int-sftp:outbound-gateway&gt;\n\n    &lt;int:splitter input-channel=&quot;toSplitter&quot; output-channel=&quot;getChannel&quot; delimiters=&quot;/&quot;/&gt;\n\n    &lt;int:channel id=&quot;getChannel&quot; &gt;\n    &lt;/int:channel&gt;\n\n    &lt;int-sftp:outbound-gateway id=&quot;gatewayGET&quot;\n                               local-directory-expression=&quot;'C:/temp/'&quot;\n                               auto-create-local-directory=&quot;true&quot;\n                               session-factory=&quot;sftpSessionFactory&quot;\n                               request-channel=&quot;getChannel&quot;\n                               reply-channel=&quot;removeChannel&quot;    \n                               command=&quot;get&quot;\n                               mode=&quot;IGNORE&quot;\n                               expression=&quot;payload.remoteDirectory + '/' + payload.filename&quot;&gt;\n    &lt;/int-sftp:outbound-gateway&gt;\n\n    &lt;int:channel id=&quot;removeChannel&quot;&gt;\n    &lt;/int:channel&gt;\n\n    &lt;int-sftp:outbound-gateway id=&quot;gatewayRM&quot;\n                               request-channel=&quot;removeChannel&quot;\n                               session-factory=&quot;sftpSessionFactory&quot;\n                               expression=&quot;headers['file_remoteDirectory'] + headers['file_remoteFile']&quot;\n                               reply-channel=&quot;loggingChannel&quot;\n                               command=&quot;rm&quot;&gt;\n    &lt;/int-sftp:outbound-gateway&gt;\n    \n    &lt;int:logging-channel-adapter id=&quot;loggingChannel&quot;/&gt;\n    \n&lt;/beans&gt;\n</code></pre>\n"},{"tags":["java","xml","jaxb","dtd"],"answers":[{"tags":[],"owner":{"account_id":3909931,"reputation":406,"user_id":3235583,"display_name":"Rick O&#39;Sullivan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687968415,"creation_date":1687968415,"answer_id":76574948,"question_id":76573014,"body_markdown":"One approach is to generate your JAXB classes from the DTD using XJC. It may provide you with some ideas for your design. For example, here&#39;s your example with simple *value* declarations of your elements:\r\n\r\n**Slir.dtd**\r\n~~~\r\n&lt;!-- Document Type Definition: Slir                                --&gt;\r\n&lt;!-- Slir.dtd - from https://stackoverflow.com/questions/76573014/ --&gt;\r\n\r\n&lt;!ELEMENT\tmsids (#PCDATA) &gt;\r\n&lt;!ELEMENT\tmsid (#PCDATA) &gt;\r\n&lt;!ELEMENT\tcodeword (#PCDATA) &gt;\r\n&lt;!ELEMENT\tgsm_net_param (#PCDATA) &gt;\r\n&lt;!ELEMENT\ttrans_id (#PCDATA) &gt;\r\n&lt;!ELEMENT\teqop (#PCDATA) &gt;\r\n&lt;!ELEMENT\tgeo_info (#PCDATA) &gt;\r\n&lt;!ELEMENT\tloc_type (#PCDATA) &gt;\r\n&lt;!ELEMENT\tprio (#PCDATA) &gt;\r\n&lt;!ELEMENT\tpushaddr (#PCDATA) &gt;\r\n&lt;!ELEMENT\tservice_coverage (#PCDATA) &gt;\r\n\r\n&lt;!ELEMENT slir\t((msids | (msid, codeword?, gsm_net_param, trans_id?)+),\r\n\t\t\t\teqop?, geo_info?, loc_type?, prio?, pushaddr?,\r\n\t\t\t\tservice_coverage?)&gt;\r\n~~~\r\n\r\nI modified this [zip][1] to generate the JAXB classes from your DTD.\r\n\r\n&gt; Note: JAXB uses `List&lt;Object&gt;` to represent a *choice* of heterogeneous elements.\r\n\r\n**Slir.java**\r\n~~~\r\npackage generated;\r\n\r\nimport java.util.*;\r\nimport jakarta.xml.bind.annotation.*;\r\n\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(name = &quot;&quot;, propOrder = {\r\n    &quot;msidsOrMsidOrCodewordOrGsmNetParamOrTransId&quot;,\r\n    &quot;eqop&quot;,\r\n    &quot;geoInfo&quot;,\r\n    &quot;locType&quot;,\r\n    &quot;prio&quot;,\r\n    &quot;pushaddr&quot;,\r\n    &quot;serviceCoverage&quot;\r\n})\r\n@XmlRootElement(name = &quot;slir&quot;)\r\npublic class Slir\r\n{\r\n    @XmlElements({\r\n        @XmlElement(name = &quot;msids&quot;, required = true, type = Msids.class),\r\n        @XmlElement(name = &quot;msid&quot;, required = true, type = Msid.class),\r\n        @XmlElement(name = &quot;codeword&quot;, required = true, type = Codeword.class),\r\n        @XmlElement(name = &quot;gsm_net_param&quot;, required = true, type = GsmNetParam.class),\r\n        @XmlElement(name = &quot;trans_id&quot;, required = true, type = TransId.class)\r\n    })\r\n    protected List&lt;Object&gt; msidsOrMsidOrCodewordOrGsmNetParamOrTransId;\r\n    public List&lt;Object&gt; getMsidsOrMsidOrCodewordOrGsmNetParamOrTransId()\r\n\t{\r\n        if (msidsOrMsidOrCodewordOrGsmNetParamOrTransId == null)\r\n            msidsOrMsidOrCodewordOrGsmNetParamOrTransId = new ArrayList&lt;&gt;();\r\n        return this.msidsOrMsidOrCodewordOrGsmNetParamOrTransId;\r\n    }\r\n\r\n    protected String eqop;\r\n    public String getEqop() { return eqop; }\r\n    public void setEqop(String value) { this.eqop = value; }\r\n\r\n    @XmlElement(name = &quot;geo_info&quot;)\r\n    protected String geoInfo;\r\n    public String getGeoInfo() { return geoInfo; }\r\n    public void setGeoInfo(String value) { this.geoInfo = value; }\r\n\r\n    @XmlElement(name = &quot;loc_type&quot;)\r\n    protected String locType;\r\n    public String getLocType() { return locType; }\r\n    public void setLocType(String value) { this.locType = value; }\r\n\r\n    protected String prio;\r\n    public String getPrio() { return prio; }\r\n    public void setPrio(String value) { this.prio = value; }\r\n\r\n    protected String pushaddr;\r\n    public String getPushaddr() { return pushaddr; }\r\n    public void setPushaddr(String value) { this.pushaddr = value; }\r\n\r\n    @XmlElement(name = &quot;service_coverage&quot;)\r\n    protected String serviceCoverage;\r\n    public String getServiceCoverage() { return serviceCoverage; }\r\n    public void setServiceCoverage(String value) { this.serviceCoverage = value; }\r\n}\r\n~~~\r\n\r\n**Codeword.java**\r\n~~~\r\npackage generated;\r\n\r\nimport jakarta.xml.bind.annotation.*;\r\n\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(name = &quot;&quot;, propOrder = { &quot;value&quot; })\r\n@XmlRootElement(name = &quot;codeword&quot;)\r\npublic class Codeword\r\n{\r\n    @XmlValue\r\n    protected String value;\r\n    public String getValue() { return value; }\r\n    public void setValue(String value) { this.value = value; }\r\n}\r\n~~~\r\n\r\n**GsmNetParam.java**\r\n~~~\r\npackage generated;\r\n\r\nimport jakarta.xml.bind.annotation.*;\r\n\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(name = &quot;&quot;, propOrder = { &quot;value&quot; })\r\n@XmlRootElement(name = &quot;gsm_net_param&quot;)\r\npublic class GsmNetParam\r\n{\r\n    @XmlValue\r\n    protected String value;\r\n    public String getValue() { return value; }\r\n    public void setValue(String value) { this.value = value; }\r\n}\r\n~~~\r\n\r\n**Msid.java**\r\n~~~\r\npackage generated;\r\n\r\nimport jakarta.xml.bind.annotation.*;\r\n\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(name = &quot;&quot;, propOrder = { &quot;value&quot; })\r\n@XmlRootElement(name = &quot;msid&quot;)\r\npublic class Msid\r\n{\r\n    @XmlValue\r\n    protected String value;\r\n    public String getValue() { return value; }\r\n    public void setValue(String value) { this.value = value; }\r\n}\r\n~~~\r\n\r\n**Msids.java**\r\n~~~\r\npackage generated;\r\n\r\nimport jakarta.xml.bind.annotation.*;\r\n\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(name = &quot;&quot;, propOrder = { &quot;value&quot; })\r\n@XmlRootElement(name = &quot;msids&quot;)\r\npublic class Msids\r\n{\r\n    @XmlValue\r\n    protected String value;\r\n    public String getValue() { return value; }\r\n    public void setValue(String value) { this.value = value; }\r\n}\r\n~~~\r\n\r\n**TransId.java**\r\n~~~\r\npackage generated;\r\n\r\nimport jakarta.xml.bind.annotation.*;\r\n\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(name = &quot;&quot;, propOrder = { &quot;value&quot; })\r\n@XmlRootElement(name = &quot;trans_id&quot;)\r\npublic class TransId\r\n{\r\n    @XmlValue\r\n    protected String value;\r\n    public String getValue() { return value; }\r\n    public void setValue(String value) { this.value = value; }\r\n}\r\n~~~\r\n\r\n**ObjectFactory.java**\r\n~~~\r\npackage generated;\r\n\r\nimport jakarta.xml.bind.annotation.XmlRegistry;\r\n\r\n@XmlRegistry\r\npublic class ObjectFactory\r\n{\r\n    public ObjectFactory() { }\r\n    public Msid createMsid() { return new Msid(); }\r\n    public Codeword createCodeword() { return new Codeword(); }\r\n    public GsmNetParam createGsmNetParam() { return new GsmNetParam(); }\r\n    public Msids createMsids() { return new Msids(); }\r\n    public Slir createSlir() { return new Slir(); }\r\n    public TransId createTransId() { return new TransId(); }\r\n}\r\n~~~\r\n\r\n*Disclaimer:* I am the maintainer for the [HiSrc HigherJAXB][2] project.\r\n\r\n&lt;!-- References --&gt;\r\n[1]: https://github.com/patrodyne/hisrc-higherjaxb/releases/download/2.1.0/hisrc-higherjaxb-ex001-2.1.0-mvn-src.zip\r\n[2]: https://github.com/patrodyne/hisrc-higherjaxb#readme","title":"JAXB 2 - mapping OR relationship between an ELEMENT and a combination of several unwrapped ELEMENTs","body":"<p>One approach is to generate your JAXB classes from the DTD using XJC. It may provide you with some ideas for your design. For example, here's your example with simple <em>value</em> declarations of your elements:</p>\n<p><strong>Slir.dtd</strong></p>\n<pre><code>&lt;!-- Document Type Definition: Slir                                --&gt;\n&lt;!-- Slir.dtd - from https://stackoverflow.com/questions/76573014/ --&gt;\n\n&lt;!ELEMENT   msids (#PCDATA) &gt;\n&lt;!ELEMENT   msid (#PCDATA) &gt;\n&lt;!ELEMENT   codeword (#PCDATA) &gt;\n&lt;!ELEMENT   gsm_net_param (#PCDATA) &gt;\n&lt;!ELEMENT   trans_id (#PCDATA) &gt;\n&lt;!ELEMENT   eqop (#PCDATA) &gt;\n&lt;!ELEMENT   geo_info (#PCDATA) &gt;\n&lt;!ELEMENT   loc_type (#PCDATA) &gt;\n&lt;!ELEMENT   prio (#PCDATA) &gt;\n&lt;!ELEMENT   pushaddr (#PCDATA) &gt;\n&lt;!ELEMENT   service_coverage (#PCDATA) &gt;\n\n&lt;!ELEMENT slir  ((msids | (msid, codeword?, gsm_net_param, trans_id?)+),\n                eqop?, geo_info?, loc_type?, prio?, pushaddr?,\n                service_coverage?)&gt;\n</code></pre>\n<p>I modified this <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/releases/download/2.1.0/hisrc-higherjaxb-ex001-2.1.0-mvn-src.zip\" rel=\"nofollow noreferrer\">zip</a> to generate the JAXB classes from your DTD.</p>\n<blockquote>\n<p>Note: JAXB uses <code>List&lt;Object&gt;</code> to represent a <em>choice</em> of heterogeneous elements.</p>\n</blockquote>\n<p><strong>Slir.java</strong></p>\n<pre><code>package generated;\n\nimport java.util.*;\nimport jakarta.xml.bind.annotation.*;\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;&quot;, propOrder = {\n    &quot;msidsOrMsidOrCodewordOrGsmNetParamOrTransId&quot;,\n    &quot;eqop&quot;,\n    &quot;geoInfo&quot;,\n    &quot;locType&quot;,\n    &quot;prio&quot;,\n    &quot;pushaddr&quot;,\n    &quot;serviceCoverage&quot;\n})\n@XmlRootElement(name = &quot;slir&quot;)\npublic class Slir\n{\n    @XmlElements({\n        @XmlElement(name = &quot;msids&quot;, required = true, type = Msids.class),\n        @XmlElement(name = &quot;msid&quot;, required = true, type = Msid.class),\n        @XmlElement(name = &quot;codeword&quot;, required = true, type = Codeword.class),\n        @XmlElement(name = &quot;gsm_net_param&quot;, required = true, type = GsmNetParam.class),\n        @XmlElement(name = &quot;trans_id&quot;, required = true, type = TransId.class)\n    })\n    protected List&lt;Object&gt; msidsOrMsidOrCodewordOrGsmNetParamOrTransId;\n    public List&lt;Object&gt; getMsidsOrMsidOrCodewordOrGsmNetParamOrTransId()\n    {\n        if (msidsOrMsidOrCodewordOrGsmNetParamOrTransId == null)\n            msidsOrMsidOrCodewordOrGsmNetParamOrTransId = new ArrayList&lt;&gt;();\n        return this.msidsOrMsidOrCodewordOrGsmNetParamOrTransId;\n    }\n\n    protected String eqop;\n    public String getEqop() { return eqop; }\n    public void setEqop(String value) { this.eqop = value; }\n\n    @XmlElement(name = &quot;geo_info&quot;)\n    protected String geoInfo;\n    public String getGeoInfo() { return geoInfo; }\n    public void setGeoInfo(String value) { this.geoInfo = value; }\n\n    @XmlElement(name = &quot;loc_type&quot;)\n    protected String locType;\n    public String getLocType() { return locType; }\n    public void setLocType(String value) { this.locType = value; }\n\n    protected String prio;\n    public String getPrio() { return prio; }\n    public void setPrio(String value) { this.prio = value; }\n\n    protected String pushaddr;\n    public String getPushaddr() { return pushaddr; }\n    public void setPushaddr(String value) { this.pushaddr = value; }\n\n    @XmlElement(name = &quot;service_coverage&quot;)\n    protected String serviceCoverage;\n    public String getServiceCoverage() { return serviceCoverage; }\n    public void setServiceCoverage(String value) { this.serviceCoverage = value; }\n}\n</code></pre>\n<p><strong>Codeword.java</strong></p>\n<pre><code>package generated;\n\nimport jakarta.xml.bind.annotation.*;\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;&quot;, propOrder = { &quot;value&quot; })\n@XmlRootElement(name = &quot;codeword&quot;)\npublic class Codeword\n{\n    @XmlValue\n    protected String value;\n    public String getValue() { return value; }\n    public void setValue(String value) { this.value = value; }\n}\n</code></pre>\n<p><strong>GsmNetParam.java</strong></p>\n<pre><code>package generated;\n\nimport jakarta.xml.bind.annotation.*;\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;&quot;, propOrder = { &quot;value&quot; })\n@XmlRootElement(name = &quot;gsm_net_param&quot;)\npublic class GsmNetParam\n{\n    @XmlValue\n    protected String value;\n    public String getValue() { return value; }\n    public void setValue(String value) { this.value = value; }\n}\n</code></pre>\n<p><strong>Msid.java</strong></p>\n<pre><code>package generated;\n\nimport jakarta.xml.bind.annotation.*;\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;&quot;, propOrder = { &quot;value&quot; })\n@XmlRootElement(name = &quot;msid&quot;)\npublic class Msid\n{\n    @XmlValue\n    protected String value;\n    public String getValue() { return value; }\n    public void setValue(String value) { this.value = value; }\n}\n</code></pre>\n<p><strong>Msids.java</strong></p>\n<pre><code>package generated;\n\nimport jakarta.xml.bind.annotation.*;\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;&quot;, propOrder = { &quot;value&quot; })\n@XmlRootElement(name = &quot;msids&quot;)\npublic class Msids\n{\n    @XmlValue\n    protected String value;\n    public String getValue() { return value; }\n    public void setValue(String value) { this.value = value; }\n}\n</code></pre>\n<p><strong>TransId.java</strong></p>\n<pre><code>package generated;\n\nimport jakarta.xml.bind.annotation.*;\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;&quot;, propOrder = { &quot;value&quot; })\n@XmlRootElement(name = &quot;trans_id&quot;)\npublic class TransId\n{\n    @XmlValue\n    protected String value;\n    public String getValue() { return value; }\n    public void setValue(String value) { this.value = value; }\n}\n</code></pre>\n<p><strong>ObjectFactory.java</strong></p>\n<pre><code>package generated;\n\nimport jakarta.xml.bind.annotation.XmlRegistry;\n\n@XmlRegistry\npublic class ObjectFactory\n{\n    public ObjectFactory() { }\n    public Msid createMsid() { return new Msid(); }\n    public Codeword createCodeword() { return new Codeword(); }\n    public GsmNetParam createGsmNetParam() { return new GsmNetParam(); }\n    public Msids createMsids() { return new Msids(); }\n    public Slir createSlir() { return new Slir(); }\n    public TransId createTransId() { return new TransId(); }\n}\n</code></pre>\n<p><em>Disclaimer:</em> I am the maintainer for the <a href=\"https://github.com/patrodyne/hisrc-higherjaxb#readme\" rel=\"nofollow noreferrer\">HiSrc HigherJAXB</a> project.</p>\n\n"}],"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687968415,"creation_date":1687953976,"question_id":76573014,"body_markdown":"I have a DTD defining  an element as such:\r\n\r\n```xml\r\n&lt;!ELEMENT slir             ((msids | (msid, codeword?, gsm_net_param, trans_id?)+), \r\n                           eqop?, geo_info?, loc_type?, prio?, pushaddr?, \r\n                           service_coverage? %extension.param;)&gt;\r\n```\r\n\r\nAs I understand it, it means that:\r\n\r\n - element `slir` can contain only one `msids`\r\n\r\nor, \r\n\r\n - element `slir` can contain the whole of `msid, codeword?, gsm_net_param, trans_id?` combination and at least once\r\n\r\nThey cannot appear at the same time.\r\n\r\nSo a valid xml should be like:\r\n\r\n```xml\r\n&lt;slir&gt;\r\n    &lt;msids&gt;\r\n        ...\r\n    &lt;/msids&gt;\r\n&lt;/slir&gt;\r\n```\r\n\r\nOr,\r\n\r\n```xml\r\n&lt;slir&gt;\r\n    &lt;!-- set 1 --&gt;\r\n    &lt;msid&gt;\r\n    &lt;codeword&gt;\r\n    &lt;gsm_net_param&gt;\r\n    &lt;trans_id&gt;\r\n    &lt;!-- set 2 --&gt;\r\n    &lt;msid&gt;\r\n    &lt;gsm_net_param&gt;\r\n&lt;/slir&gt;\r\n```\r\n\r\nSo, if we want to map it in an entity Java class, how should this be? \r\n\r\nIdeally I want to wrap the combination into a wrapper class, which is better. Let&#39;s call it `MsidGsmData` **but** when marshalling it cannot have the field name print out, but only child element names. Same goes for unmarshalling.\r\n\r\nI now have \r\n\r\n```java\r\n\r\nclass Slir {\r\n    @XmlElement\r\n    private Msids msids;\r\n\r\n    @XmlElement\r\n    private Msid msid;\r\n\r\n    ...\r\n\r\n}\r\n```\r\n\r\nBut I don&#39;t know how to map the OR relationship; i.e., `Msid` and the other 4 elements cannot appear at the same time.\r\n\r\n(BTW I think it&#39;s silly that the combination is not defined as another element, but appear as a whole and stands on the same level as `msids`)","title":"JAXB 2 - mapping OR relationship between an ELEMENT and a combination of several unwrapped ELEMENTs","body":"<p>I have a DTD defining  an element as such:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!ELEMENT slir             ((msids | (msid, codeword?, gsm_net_param, trans_id?)+), \n                           eqop?, geo_info?, loc_type?, prio?, pushaddr?, \n                           service_coverage? %extension.param;)&gt;\n</code></pre>\n<p>As I understand it, it means that:</p>\n<ul>\n<li>element <code>slir</code> can contain only one <code>msids</code></li>\n</ul>\n<p>or,</p>\n<ul>\n<li>element <code>slir</code> can contain the whole of <code>msid, codeword?, gsm_net_param, trans_id?</code> combination and at least once</li>\n</ul>\n<p>They cannot appear at the same time.</p>\n<p>So a valid xml should be like:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;slir&gt;\n    &lt;msids&gt;\n        ...\n    &lt;/msids&gt;\n&lt;/slir&gt;\n</code></pre>\n<p>Or,</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;slir&gt;\n    &lt;!-- set 1 --&gt;\n    &lt;msid&gt;\n    &lt;codeword&gt;\n    &lt;gsm_net_param&gt;\n    &lt;trans_id&gt;\n    &lt;!-- set 2 --&gt;\n    &lt;msid&gt;\n    &lt;gsm_net_param&gt;\n&lt;/slir&gt;\n</code></pre>\n<p>So, if we want to map it in an entity Java class, how should this be?</p>\n<p>Ideally I want to wrap the combination into a wrapper class, which is better. Let's call it <code>MsidGsmData</code> <strong>but</strong> when marshalling it cannot have the field name print out, but only child element names. Same goes for unmarshalling.</p>\n<p>I now have</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nclass Slir {\n    @XmlElement\n    private Msids msids;\n\n    @XmlElement\n    private Msid msid;\n\n    ...\n\n}\n</code></pre>\n<p>But I don't know how to map the OR relationship; i.e., <code>Msid</code> and the other 4 elements cannot appear at the same time.</p>\n<p>(BTW I think it's silly that the combination is not defined as another element, but appear as a whole and stands on the same level as <code>msids</code>)</p>\n"},{"tags":["java","google-earth-engine","sentinel2"],"owner":{"account_id":18752099,"reputation":25,"user_id":13672967,"display_name":"relayyyyy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687968390,"creation_date":1687968390,"question_id":76574944,"body_markdown":"I am trying to make a random forest classifier for mangroves on an island in the Philippines. I have already produced the desired outcome for dates in 2019 using exactly the same code, but I need the dates changed to ones in December 2021.\r\n\r\n```// functions\r\n// cloud filtering \r\nfunction maskS2clouds(image) {\r\n  var cloudBitMask = ee.Number(2).pow(10).int();\r\n  var cirrusBitMask = ee.Number(2).pow(11).int();\r\n  var qa = image.select(&#39;QA60&#39;);\r\n  var mask = qa.bitwiseAnd(cloudBitMask).eq(0).and(qa.bitwiseAnd(cirrusBitMask).eq(0));\r\n  return image.updateMask(mask);\r\n}\r\n\r\n// rename bands\r\nfunction renameS2bands(image){\r\n  return image.rename(&#39;B&#39;, &#39;G&#39;, &#39;R&#39;, &#39;NIR&#39;, &#39;SWIR&#39;, &#39;SWIR2&#39;, &#39;QA60&#39;)\r\n}\r\n\r\n// load Sentinel-2 TOA reflectance data.\r\nvar s2collection = ee.ImageCollection(&quot;COPERNICUS/S2_SR_HARMONIZED&quot;)\r\n              .filterDate(&#39;2021-10-01&#39;, &#39;2021-12-15&#39;)\r\n              .filter(ee.Filter.lt(&#39;CLOUDY_PIXEL_PERCENTAGE&#39;, 10))\r\n              .filterBounds(geometry)\r\n              .select(&#39;B2&#39;, &#39;B3&#39;, &#39;B4&#39;, &#39;B8&#39;, &#39;B11&#39;, &#39;B12&#39;, &#39;QA60&#39;)\r\n              .map(maskS2clouds)\r\n              .map(renameS2bands);\r\n\r\n//Reduce the first collection (median reducer in this case)\r\nvar s2_median = s2collection.median()\r\n\r\n// load the pre-computed Sentinel-2 composite as input\r\nvar input = s2_median;\r\n\r\n// define a region in which to generate a sample of the input\r\nvar region = geometry;\r\n\r\n// make the training dataset\r\nvar training = input.sample({\r\n  region: region,\r\n  scale: 20,\r\n  numPixels: 40\r\n});\r\n\r\n// print training (feature collection)\r\nprint(training)\r\n```\r\n\r\nThe error is: ```FeatureCollection (Error)\r\nImage.sample: Unable to find a crs.```\r\n\r\nMy geometry variable is a geometry drawn around an island in the Philippines.\r\nAny help would be much appreciated.","title":"How to fix Google Earth Engine Error: &#39;FeatureCollection (Error) Image.sample: Unable to find a crs.&#39;","body":"<p>I am trying to make a random forest classifier for mangroves on an island in the Philippines. I have already produced the desired outcome for dates in 2019 using exactly the same code, but I need the dates changed to ones in December 2021.</p>\n<pre><code>// cloud filtering \nfunction maskS2clouds(image) {\n  var cloudBitMask = ee.Number(2).pow(10).int();\n  var cirrusBitMask = ee.Number(2).pow(11).int();\n  var qa = image.select('QA60');\n  var mask = qa.bitwiseAnd(cloudBitMask).eq(0).and(qa.bitwiseAnd(cirrusBitMask).eq(0));\n  return image.updateMask(mask);\n}\n\n// rename bands\nfunction renameS2bands(image){\n  return image.rename('B', 'G', 'R', 'NIR', 'SWIR', 'SWIR2', 'QA60')\n}\n\n// load Sentinel-2 TOA reflectance data.\nvar s2collection = ee.ImageCollection(&quot;COPERNICUS/S2_SR_HARMONIZED&quot;)\n              .filterDate('2021-10-01', '2021-12-15')\n              .filter(ee.Filter.lt('CLOUDY_PIXEL_PERCENTAGE', 10))\n              .filterBounds(geometry)\n              .select('B2', 'B3', 'B4', 'B8', 'B11', 'B12', 'QA60')\n              .map(maskS2clouds)\n              .map(renameS2bands);\n\n//Reduce the first collection (median reducer in this case)\nvar s2_median = s2collection.median()\n\n// load the pre-computed Sentinel-2 composite as input\nvar input = s2_median;\n\n// define a region in which to generate a sample of the input\nvar region = geometry;\n\n// make the training dataset\nvar training = input.sample({\n  region: region,\n  scale: 20,\n  numPixels: 40\n});\n\n// print training (feature collection)\nprint(training)\n</code></pre>\n<p>The error is: <code>FeatureCollection (Error) Image.sample: Unable to find a crs.</code></p>\n<p>My geometry variable is a geometry drawn around an island in the Philippines.\nAny help would be much appreciated.</p>\n"},{"tags":["java","jms","activemq"],"comments":[{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":1,"creation_date":1687857304,"post_id":76563153,"comment_id":134991814,"body_markdown":"According to [docs](https://docs.spring.io/spring-framework/docs/3.0.0.M4/reference/html/ch21s02.html#:~:text=Instances%20of%20the%20JmsTemplate%20class,shared%20reference%20into%20multiple%20collaborators.), `JmsTemplate` is thread safe: &quot;Instances of the JmsTemplate class are thread-safe once configured.&quot;. Your `MessageCreator ` is stateless. What are your concerns?","body":"According to <a href=\"https://docs.spring.io/spring-framework/docs/3.0.0.M4/reference/html/ch21s02.html#:~:text=Instances%20of%20the%20JmsTemplate%20class,shared%20reference%20into%20multiple%20collaborators.\" rel=\"nofollow noreferrer\">docs</a>, <code>JmsTemplate</code> is thread safe: &quot;Instances of the JmsTemplate class are thread-safe once configured.&quot;. Your <code>MessageCreator </code> is stateless. What are your concerns?"},{"owner":{"account_id":2660877,"reputation":38533,"user_id":2300597,"accept_rate":55,"display_name":"peter.petrov"},"score":0,"creation_date":1687857598,"post_id":76563153,"comment_id":134991886,"body_markdown":"@gdomo Well, I had a concern because I didn&#39;t know about this quote which you posted here. What about the `this.queue` instance. Can it get messed up when accessed from multiple threads (which call `sendObjectMessage`)?","body":"@gdomo Well, I had a concern because I didn&#39;t know about this quote which you posted here. What about the <code>this.queue</code> instance. Can it get messed up when accessed from multiple threads (which call <code>sendObjectMessage</code>)?"},{"owner":{"account_id":2660877,"reputation":38533,"user_id":2300597,"accept_rate":55,"display_name":"peter.petrov"},"score":0,"creation_date":1687858129,"post_id":76563153,"comment_id":134991976,"body_markdown":"I know the `MessageCreator` instance is not a problem, it&#39;s created each time when `sendObjectMessage` is called so it can cause no issues related to multi-threading.","body":"I know the <code>MessageCreator</code> instance is not a problem, it&#39;s created each time when <code>sendObjectMessage</code> is called so it can cause no issues related to multi-threading."},{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1687858181,"post_id":76563153,"comment_id":134991983,"body_markdown":"Using `this.queue` is OK if it&#39;s final. Otherwise it depends, however if it not changes then usually also OK","body":"Using <code>this.queue</code> is OK if it&#39;s final. Otherwise it depends, however if it not changes then usually also OK"},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1687866850,"post_id":76563153,"comment_id":134993835,"body_markdown":"FWIW, you should try to avoid JMS `ObjectMessage` if at all possible. It depends on Java serialization to marshal and unmarshal the object payload. This process is generally considered unsafe, because a malicious payload can exploit the host system. Lots of CVEs have been created for this which is why most JMS providers force users to explicitly whitelist packages that can be exchanged using `ObjectMessage` messages. Aside from the security issues Java serialization is _slow_.","body":"FWIW, you should try to avoid JMS <code>ObjectMessage</code> if at all possible. It depends on Java serialization to marshal and unmarshal the object payload. This process is generally considered unsafe, because a malicious payload can exploit the host system. Lots of CVEs have been created for this which is why most JMS providers force users to explicitly whitelist packages that can be exchanged using <code>ObjectMessage</code> messages. Aside from the security issues Java serialization is <i>slow</i>."},{"owner":{"account_id":2660877,"reputation":38533,"user_id":2300597,"accept_rate":55,"display_name":"peter.petrov"},"score":0,"creation_date":1687871213,"post_id":76563153,"comment_id":134994967,"body_markdown":"@JustinBertram The Spring version which we are using is 4.3.30","body":"@JustinBertram The Spring version which we are using is 4.3.30"}],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687967831,"creation_date":1687872043,"answer_id":76565327,"question_id":76563153,"body_markdown":"You shouldn&#39;t have any problems.\r\n\r\nAs noted in the [Spring documentation][1]:\r\n\r\n&gt; Instances of the `JmsTemplate` class are *thread-safe once configured*. This is important because it means that you can configure a single instance of a `JmsTemplate` and then safely inject this shared reference into multiple collaborators. To be clear, the `JmsTemplate` is stateful, in that it maintains a reference to a `ConnectionFactory`, but this state is *not* conversational state.\r\n\r\nAlso, a JMS destination (e.g. [`ActiveMQQueue`][2] which extends [`ActiveMQDestination`][3] which implements [`javax.jms.Destination`][4]) is one of the few thread-safe objects in JMS. From [the JavaDoc][4]:\r\n\r\n&gt; `Destination` objects support concurrent use. \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/4.3.30.RELEASE/spring-framework-reference/html/jms.html#jms-jmstemplate\r\n  [2]: https://github.com/apache/activemq/blob/main/activemq-client/src/main/java/org/apache/activemq/command/ActiveMQQueue.java\r\n  [3]: https://github.com/apache/activemq/blob/main/activemq-client/src/main/java/org/apache/activemq/command/ActiveMQDestination.java\r\n  [4]: https://docs.oracle.com/javaee/7/api/javax/jms/Destination.html","title":"Is this way of sending messages to a queue thread-safe?","body":"<p>You shouldn't have any problems.</p>\n<p>As noted in the <a href=\"https://docs.spring.io/spring-framework/docs/4.3.30.RELEASE/spring-framework-reference/html/jms.html#jms-jmstemplate\" rel=\"nofollow noreferrer\">Spring documentation</a>:</p>\n<blockquote>\n<p>Instances of the <code>JmsTemplate</code> class are <em>thread-safe once configured</em>. This is important because it means that you can configure a single instance of a <code>JmsTemplate</code> and then safely inject this shared reference into multiple collaborators. To be clear, the <code>JmsTemplate</code> is stateful, in that it maintains a reference to a <code>ConnectionFactory</code>, but this state is <em>not</em> conversational state.</p>\n</blockquote>\n<p>Also, a JMS destination (e.g. <a href=\"https://github.com/apache/activemq/blob/main/activemq-client/src/main/java/org/apache/activemq/command/ActiveMQQueue.java\" rel=\"nofollow noreferrer\"><code>ActiveMQQueue</code></a> which extends <a href=\"https://github.com/apache/activemq/blob/main/activemq-client/src/main/java/org/apache/activemq/command/ActiveMQDestination.java\" rel=\"nofollow noreferrer\"><code>ActiveMQDestination</code></a> which implements <a href=\"https://docs.oracle.com/javaee/7/api/javax/jms/Destination.html\" rel=\"nofollow noreferrer\"><code>javax.jms.Destination</code></a>) is one of the few thread-safe objects in JMS. From <a href=\"https://docs.oracle.com/javaee/7/api/javax/jms/Destination.html\" rel=\"nofollow noreferrer\">the JavaDoc</a>:</p>\n<blockquote>\n<p><code>Destination</code> objects support concurrent use.</p>\n</blockquote>\n"}],"owner":{"account_id":2660877,"reputation":38533,"user_id":2300597,"accept_rate":55,"display_name":"peter.petrov"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76565327,"answer_count":1,"score":1,"last_activity_date":1687967831,"creation_date":1687855697,"question_id":76563153,"body_markdown":"I am using an instance of [JmsTemplate][1] from Spring 4.3.30 to write messages to a message queue. The code looks like this:\r\n\r\n```java\r\npublic void sendObjectMessage(final Serializable msg, final Long scheduledDelaySeconds) {\r\n    try {\r\n        this.jmsTemplate.send(this.queue, new MessageCreator() {\r\n            public Message createMessage(final Session session) throws JMSException {\r\n            \tMessage m = session.createObjectMessage(msg);\r\n            \tif (scheduledDelaySeconds != null){\r\n            \t\tm.setLongProperty(ScheduledMessage.AMQ_SCHEDULED_DELAY, 1000 * scheduledDelaySeconds);\r\n            \t}\r\n            \treturn m;\r\n            }\r\n        });\r\n    } catch (Exception e) {\r\n        Logging.logError(&quot;Error sending MQ object message&quot;, e);\r\n    }\r\n}\r\n```\r\n\r\nAlso, in the code above `this.queue` is an instance of \r\n\r\n`org.apache.activemq.command.ActiveMQQueue`\r\n\r\nSo I wonder if this usage of `this.jmsTemplate` and of `this.queue` is thread safe. \r\n\r\nWhat will happen if this code is called simultaneously within multiple threads (while using these shared instances of the `JmsTemplate` and of the queue)? Could that cause any problems?   \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jms/core/JmsTemplate.html","title":"Is this way of sending messages to a queue thread-safe?","body":"<p>I am using an instance of <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jms/core/JmsTemplate.html\" rel=\"nofollow noreferrer\">JmsTemplate</a> from Spring 4.3.30 to write messages to a message queue. The code looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void sendObjectMessage(final Serializable msg, final Long scheduledDelaySeconds) {\n    try {\n        this.jmsTemplate.send(this.queue, new MessageCreator() {\n            public Message createMessage(final Session session) throws JMSException {\n                Message m = session.createObjectMessage(msg);\n                if (scheduledDelaySeconds != null){\n                    m.setLongProperty(ScheduledMessage.AMQ_SCHEDULED_DELAY, 1000 * scheduledDelaySeconds);\n                }\n                return m;\n            }\n        });\n    } catch (Exception e) {\n        Logging.logError(&quot;Error sending MQ object message&quot;, e);\n    }\n}\n</code></pre>\n<p>Also, in the code above <code>this.queue</code> is an instance of</p>\n<p><code>org.apache.activemq.command.ActiveMQQueue</code></p>\n<p>So I wonder if this usage of <code>this.jmsTemplate</code> and of <code>this.queue</code> is thread safe.</p>\n<p>What will happen if this code is called simultaneously within multiple threads (while using these shared instances of the <code>JmsTemplate</code> and of the queue)? Could that cause any problems?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":4934162,"reputation":192,"user_id":3972906,"display_name":"ahmed mahmoud"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1569145443,"creation_date":1569145443,"answer_id":58047992,"question_id":58047952,"body_markdown":"you need to declare LoginActivity in manifest file like\r\nin AndroidManifest.xml\r\n\r\n    &lt;activity\r\n    android:name=&quot;com.connex.connexsocial.LoginActivity&quot;\r\n         /&gt;","title":"Buttons not clickable + crashes app when clicked on","body":"<p>you need to declare LoginActivity in manifest file like\nin AndroidManifest.xml</p>\n\n<pre><code>&lt;activity\nandroid:name=\"com.connex.connexsocial.LoginActivity\"\n     /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7458238,"reputation":6066,"user_id":5670752,"display_name":"Taslim Oseni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687967668,"creation_date":1569148960,"answer_id":58048381,"question_id":58047952,"body_markdown":"Anytime your app crashes, the first debugging step should be to check your logcat, there are always clues in the logcat. If you checked the logs you posted, you&#39;ll see the line:\r\n\r\n&gt; android.content.ActivityNotFoundException: Unable to find explicit activity class {com.connex.connexsocial/com.connex.connexsocial.LoginActivity}; have you declared this activity in your AndroidManifest.xml?\r\n\r\nLiterally, this means that **you are getting this error because you have not declared the activity in your manifest**.\r\n\r\nTo fix this, simply paste this inside the application element of your manifest file:\r\n\r\n    &lt;activity android:name=&quot;com.connex.connexsocial.LoginActivity&quot;&gt;&lt;/activity&gt;\r\n\r\nThis same debugging pattern works for almost every crash event. You&#39;ll always get a clue from your logcat.\r\n","title":"Buttons not clickable + crashes app when clicked on","body":"<p>Anytime your app crashes, the first debugging step should be to check your logcat, there are always clues in the logcat. If you checked the logs you posted, you'll see the line:</p>\n<blockquote>\n<p>android.content.ActivityNotFoundException: Unable to find explicit activity class {com.connex.connexsocial/com.connex.connexsocial.LoginActivity}; have you declared this activity in your AndroidManifest.xml?</p>\n</blockquote>\n<p>Literally, this means that <strong>you are getting this error because you have not declared the activity in your manifest</strong>.</p>\n<p>To fix this, simply paste this inside the application element of your manifest file:</p>\n<pre><code>&lt;activity android:name=&quot;com.connex.connexsocial.LoginActivity&quot;&gt;&lt;/activity&gt;\n</code></pre>\n<p>This same debugging pattern works for almost every crash event. You'll always get a clue from your logcat.</p>\n"}],"owner":{"account_id":16737164,"reputation":23,"user_id":12097917,"display_name":"Erin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":58048381,"answer_count":2,"score":1,"last_activity_date":1687967668,"creation_date":1569145070,"question_id":58047952,"body_markdown":"This is the crash error logcat, every single time I clock on my register btn the app crashes.\r\n\r\nMy emulator is at 2gb ram on an AndroidQ emulator device.\r\n\r\n&gt;2019-09-22 16:36:39.307 6454-6454/com.connex.connexsocial E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: com.connex.connexsocial, PID: 6454\r\n        android.content.ActivityNotFoundException: Unable to find explicit activity class {com.connex.connexsocial/com.connex.connexsocial.LoginActivity}; have you declared this activity in your AndroidManifest.xml?\r\n            at android.app.Instrumentation.checkStartActivityResult(Instrumentation.java:1933)\r\n            at android.app.Instrumentation.execStartActivity(Instrumentation.java:1616)\r\n            at android.app.Activity.startActivityForResult(Activity.java:4487)\r\n            at androidx.fragment.app.FragmentActivity.startActivityForResult(FragmentActivity.java:676)\r\n            at android.app.Activity.startActivityForResult(Activity.java:4445)\r\n            at androidx.fragment.app.FragmentActivity.startActivityForResult(FragmentActivity.java:663)\r\n            at android.app.Activity.startActivity(Activity.java:4806)\r\n            at android.app.Activity.startActivity(Activity.java:4774)\r\n            at com.connex.connexsocial.MainActivity.openLoginActivity(MainActivity.java:50)\r\n            at com.connex.connexsocial.MainActivity$2.onClick(MainActivity.java:39)\r\n            at android.view.View.performClick(View.java:6294)\r\n            at android.view.View$PerformClick.run(View.java:24770)\r\n            at android.os.Handler.handleCallback(Handler.java:790)\r\n            at android.os.Handler.dispatchMessage(Handler.java:99)\r\n            at android.os.Looper.loop(Looper.java:164)\r\n            at android.app.ActivityThread.main(ActivityThread.java:6494)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\r\n\r\nThis is my main_activity\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;#7ed957&quot;\r\n        android:padding=&quot;20dp&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n    \r\n        &lt;ImageView\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:src=&quot;@drawable/logo1&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:contentDescription=&quot;@string/todo&quot; /&gt;\r\n    \r\n            &lt;!--Button: Register--&gt;\r\n        &lt;Button\r\n            android:id=&quot;@+id/register_btn&quot;\r\n            android:text=&quot;@string/register&quot;\r\n            android:layout_above=&quot;@+id/login_btn&quot;\r\n            style=&quot;@style/Widget.AppCompat.Button.Colored&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n    \r\n        &lt;!--Button: Login--&gt;\r\n        &lt;Button\r\n            android:id=&quot;@+id/login_btn&quot;\r\n            android:text=&quot;@string/login&quot;\r\n            android:layout_alignParentBottom=&quot;true&quot;\r\n            android:layout_marginBottom=&quot;100dp&quot;\r\n            style=&quot;@style/Widget.AppCompat.Button.Colored&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\nEverytime I click on Login is does nothing, and everytime I click on Register it crashes.","title":"Buttons not clickable + crashes app when clicked on","body":"<p>This is the crash error logcat, every single time I clock on my register btn the app crashes.</p>\n\n<p>My emulator is at 2gb ram on an AndroidQ emulator device.</p>\n\n<blockquote>\n  <p>2019-09-22 16:36:39.307 6454-6454/com.connex.connexsocial E/AndroidRuntime: FATAL EXCEPTION: main\n          Process: com.connex.connexsocial, PID: 6454\n          android.content.ActivityNotFoundException: Unable to find explicit activity class {com.connex.connexsocial/com.connex.connexsocial.LoginActivity}; have you declared this activity in your AndroidManifest.xml?\n              at android.app.Instrumentation.checkStartActivityResult(Instrumentation.java:1933)\n              at android.app.Instrumentation.execStartActivity(Instrumentation.java:1616)\n              at android.app.Activity.startActivityForResult(Activity.java:4487)\n              at androidx.fragment.app.FragmentActivity.startActivityForResult(FragmentActivity.java:676)\n              at android.app.Activity.startActivityForResult(Activity.java:4445)\n              at androidx.fragment.app.FragmentActivity.startActivityForResult(FragmentActivity.java:663)\n              at android.app.Activity.startActivity(Activity.java:4806)\n              at android.app.Activity.startActivity(Activity.java:4774)\n              at com.connex.connexsocial.MainActivity.openLoginActivity(MainActivity.java:50)\n              at com.connex.connexsocial.MainActivity$2.onClick(MainActivity.java:39)\n              at android.view.View.performClick(View.java:6294)\n              at android.view.View$PerformClick.run(View.java:24770)\n              at android.os.Handler.handleCallback(Handler.java:790)\n              at android.os.Handler.dispatchMessage(Handler.java:99)\n              at android.os.Looper.loop(Looper.java:164)\n              at android.app.ActivityThread.main(ActivityThread.java:6494)\n              at java.lang.reflect.Method.invoke(Native Method)\n              at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\n              at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)</p>\n</blockquote>\n\n<p>This is my main_activity</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:background=\"#7ed957\"\n    android:padding=\"20dp\"\n    tools:context=\".MainActivity\"&gt;\n\n    &lt;ImageView\n        android:layout_height=\"match_parent\"\n        android:layout_width=\"match_parent\"\n        android:src=\"@drawable/logo1\"\n        android:layout_centerHorizontal=\"true\"\n        android:contentDescription=\"@string/todo\" /&gt;\n\n        &lt;!--Button: Register--&gt;\n    &lt;Button\n        android:id=\"@+id/register_btn\"\n        android:text=\"@string/register\"\n        android:layout_above=\"@+id/login_btn\"\n        style=\"@style/Widget.AppCompat.Button.Colored\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\" /&gt;\n\n    &lt;!--Button: Login--&gt;\n    &lt;Button\n        android:id=\"@+id/login_btn\"\n        android:text=\"@string/login\"\n        android:layout_alignParentBottom=\"true\"\n        android:layout_marginBottom=\"100dp\"\n        style=\"@style/Widget.AppCompat.Button.Colored\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\" /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>Everytime I click on Login is does nothing, and everytime I click on Register it crashes.</p>\n"},{"tags":["java","android","firebase","android-studio"],"answers":[{"tags":[],"owner":{"account_id":13689459,"reputation":185,"user_id":9877665,"display_name":"kiteandwindsurfer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1687967508,"creation_date":1687967508,"answer_id":76574825,"question_id":76567383,"body_markdown":"Found the problem, was in the `build.gradle (Project: )` file, specifically this line:\r\n\r\n    classpath &#39;com.google.gms:google-services:4.3.10&#39;\r\n\r\nneeded to be changed to:\r\n\r\n    classpath &#39;com.google.gms:google-services:4.3.15&#39;\r\n\r\nSo the entire gradle file now is:\r\n\r\n    buildscript {\r\n        dependencies {\r\n            classpath &#39;com.google.gms:google-services:4.3.15&#39;\r\n        }\r\n    }// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n    plugins {\r\n        id &#39;com.android.application&#39; version &#39;7.4.0&#39; apply false\r\n        id &#39;com.android.library&#39; version &#39;7.4.0&#39; apply false\r\n    }\r\n\r\nThis will undoubtedly change as new releases come down the pike but as of June 28, 2023 my program is compiling perfectly!","title":"Firebase Error - Failed to calculate the value of property &#39;extraGeneratedResDir&#39; in Android Studio","body":"<p>Found the problem, was in the <code>build.gradle (Project: )</code> file, specifically this line:</p>\n<pre><code>classpath 'com.google.gms:google-services:4.3.10'\n</code></pre>\n<p>needed to be changed to:</p>\n<pre><code>classpath 'com.google.gms:google-services:4.3.15'\n</code></pre>\n<p>So the entire gradle file now is:</p>\n<pre><code>buildscript {\n    dependencies {\n        classpath 'com.google.gms:google-services:4.3.15'\n    }\n}// Top-level build file where you can add configuration options common to all sub-projects/modules.\nplugins {\n    id 'com.android.application' version '7.4.0' apply false\n    id 'com.android.library' version '7.4.0' apply false\n}\n</code></pre>\n<p>This will undoubtedly change as new releases come down the pike but as of June 28, 2023 my program is compiling perfectly!</p>\n"}],"owner":{"account_id":13689459,"reputation":185,"user_id":9877665,"display_name":"kiteandwindsurfer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":846,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76574825,"answer_count":1,"score":2,"last_activity_date":1687967508,"creation_date":1687887382,"question_id":76567383,"body_markdown":"I am running a simple app using Firebase database in Android Studio - have set up the  project on the Firebase dashboard and connected into my Android Studio app.  When building the project I am getting this error:\r\n\r\n    Execution failed for task &#39;:app:mapDebugSourceSetPaths&#39;.\r\n    &gt; Error while evaluating property &#39;extraGeneratedResDir&#39; of task &#39;:app:mapDebugSourceSetPaths&#39;\r\n       &gt; Failed to calculate the value of task &#39;:app:mapDebugSourceSetPaths&#39; property &#39;extraGeneratedResDir&#39;.\r\n          &gt; Querying the mapped value of provider(java.util.Set) before task &#39;:app:processDebugGoogleServices&#39; has completed is not supported\r\n\r\nHere is the stack trace:\r\n\r\n    Executing tasks: [:app:assembleDebug] in project D:\\work\\Android Studio\\FirebaseExample2\r\n    \r\n        Download https://plugins.gradle.org/m2/com/gradle/gradle-enterprise-gradle-plugin/3.10.2/gradle-enterprise-gradle-plugin-3.10.2.jar, took 1 s 705 ms (2.21 MB)\r\n        &gt; Task :app:createDebugVariantModel\r\n        &gt; Task :app:preBuild UP-TO-DATE\r\n        &gt; Task :app:preDebugBuild UP-TO-DATE\r\n        &gt; Task :app:mergeDebugNativeDebugMetadata NO-SOURCE\r\n        &gt; Task :app:compileDebugAidl NO-SOURCE\r\n        &gt; Task :app:compileDebugRenderscript NO-SOURCE\r\n        &gt; Task :app:generateDebugBuildConfig\r\n        &gt; Task :app:javaPreCompileDebug\r\n        &gt; Task :app:checkDebugAarMetadata\r\n        &gt; Task :app:generateDebugResValues\r\n        &gt; Task :app:mapDebugSourceSetPaths FAILED\r\n        &gt; Task :app:generateDebugResources\r\n        &gt; Task :app:mergeDebugResources\r\n        &gt; Task :app:processDebugGoogleServices\r\n        Execution optimizations have been disabled for task &#39;:app:processDebugGoogleServices&#39; to ensure correctness due to the following reasons:\r\n          - Gradle detected a problem with the following location: &#39;D:\\work\\Android Studio\\FirebaseExample2\\app\\build\\generated\\res\\google-services\\debug&#39;. Reason: Task &#39;:app:mergeDebugResources&#39; uses this output of task &#39;:app:processDebugGoogleServices&#39; without declaring an explicit or implicit dependency. This can lead to incorrect results being produced, depending on what order the tasks are executed. Please refer to https://docs.gradle.org/7.5/userguide/validation_problems.html#implicit_dependency for more details about this problem.\r\n        &gt; Task :app:packageDebugResources\r\n        &gt; Task :app:createDebugCompatibleScreenManifests\r\n        &gt; Task :app:extractDeepLinksDebug\r\n        &gt; Task :app:parseDebugLocalResources\r\n        &gt; Task :app:processDebugMainManifest\r\n        &gt; Task :app:processDebugManifest\r\n        &gt; Task :app:mergeDebugShaders\r\n        &gt; Task :app:compileDebugShaders NO-SOURCE\r\n        &gt; Task :app:generateDebugAssets UP-TO-DATE\r\n        &gt; Task :app:mergeDebugAssets\r\n        &gt; Task :app:compressDebugAssets\r\n        &gt; Task :app:processDebugJavaRes NO-SOURCE\r\n        &gt; Task :app:desugarDebugFileDependencies\r\n        &gt; Task :app:checkDebugDuplicateClasses\r\n        &gt; Task :app:mergeDebugJniLibFolders\r\n        &gt; Task :app:processDebugManifestForPackage\r\n        &gt; Task :app:mergeDebugJavaResource\r\n        &gt; Task :app:mergeExtDexDebug\r\n\r\nHere is `google-services.json` (downloaded from Firebase console and pasted into the app directory here (`D:\\work\\Android Studio\\FirebaseExample2\\app`):\r\n[![directory location for google-services.json file][1]][1]\r\n\r\n\r\n    {\r\n      &quot;project_info&quot;: {\r\n        &quot;project_number&quot;: &quot;102836682558&quot;,\r\n        &quot;firebase_url&quot;: &quot;https://example-d3da6-default-rtdb.firebaseio.com&quot;,\r\n        &quot;project_id&quot;: &quot;example-d3da6&quot;,\r\n        &quot;storage_bucket&quot;: &quot;example-d3da6.appspot.com&quot;\r\n      },\r\n      &quot;client&quot;: [\r\n        {\r\n          &quot;client_info&quot;: {\r\n            &quot;mobilesdk_app_id&quot;: &quot;1:102836682558:android:b20556c6763de16c5c766f&quot;,\r\n            &quot;android_client_info&quot;: {\r\n              &quot;package_name&quot;: &quot;com.enetapplications.firebaseexample&quot;\r\n            }\r\n          },\r\n          &quot;oauth_client&quot;: [\r\n            {\r\n              &quot;client_id&quot;: &quot;102836682558-j851bq7699ovchhcufcn1o60jul1fpm3.apps.googleusercontent.com&quot;,\r\n              &quot;client_type&quot;: 1,\r\n              &quot;android_info&quot;: {\r\n                &quot;package_name&quot;: &quot;com.enetapplications.firebaseexample&quot;,\r\n                &quot;certificate_hash&quot;: &quot;1dad8469cb2080d8e92693b394b0791456170041&quot;\r\n              }\r\n            },\r\n            {\r\n              &quot;client_id&quot;: &quot;102836682558-9rgt5a9e3s1305joulfhpugrjhdrpm7v.apps.googleusercontent.com&quot;,\r\n              &quot;client_type&quot;: 3\r\n            }\r\n          ],\r\n          &quot;api_key&quot;: [\r\n            {\r\n              &quot;current_key&quot;: &quot;AIzaSyCKFtgpzJ7ITDeC8LBIysH1B5PyKjOrXJc&quot;\r\n            }\r\n          ],\r\n          &quot;services&quot;: {\r\n            &quot;appinvite_service&quot;: {\r\n              &quot;other_platform_oauth_client&quot;: [\r\n                {\r\n                  &quot;client_id&quot;: &quot;102836682558-9rgt5a9e3s1305joulfhpugrjhdrpm7v.apps.googleusercontent.com&quot;,\r\n                  &quot;client_type&quot;: 3\r\n                }\r\n              ]\r\n            }\r\n          }\r\n        }\r\n      ],\r\n      &quot;configuration_version&quot;: &quot;1&quot;\r\n    }\r\nHere is `build.gradle`:\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39;\r\n        id &#39;com.google.gms.google-services&#39;\r\n    }\r\n    \r\n    android {\r\n        namespace &#39;com.enetapplications.firebaseexample&#39;\r\n        compileSdkVersion 33\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.enetapplications.firebaseexample&quot;\r\n            minSdkVersion 27\r\n            targetSdkVersion 33\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n    \r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n        implementation &#39;com.google.android.material:material:1.9.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n        implementation &#39;com.google.firebase:firebase-database:20.0.4&#39;\r\n        testImplementation &#39;junit:junit:4.13.2&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n    }\r\n\r\nLastly here is `MainActivity.java`:\r\n\r\n    package com.enetapplications.firebaseexample;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    \r\n    import com.google.firebase.database.DatabaseReference;\r\n    import com.google.firebase.database.FirebaseDatabase;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        Button send;\r\n        EditText name;\r\n    \r\n        FirebaseDatabase database = FirebaseDatabase.getInstance();\r\n        DatabaseReference reference = database.getReference().child(&quot;users&quot;);\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            name = findViewById(R.id.editText);\r\n            send = findViewById(R.id.button);\r\n    \r\n            send.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    String userName = name.getText().toString();\r\n                    reference.child(&quot;userName&quot;).setValue(userName);\r\n                }\r\n            });\r\n    \r\n        }\r\n    }\r\n\r\nI have already tried invalidating caches and restarting Android Studio, but the issue persists. \r\n\r\nThank you!!!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WAS1O.png\r\n  [2]: https://i.stack.imgur.com/cvvxg.png","title":"Firebase Error - Failed to calculate the value of property &#39;extraGeneratedResDir&#39; in Android Studio","body":"<p>I am running a simple app using Firebase database in Android Studio - have set up the  project on the Firebase dashboard and connected into my Android Studio app.  When building the project I am getting this error:</p>\n<pre><code>Execution failed for task ':app:mapDebugSourceSetPaths'.\n&gt; Error while evaluating property 'extraGeneratedResDir' of task ':app:mapDebugSourceSetPaths'\n   &gt; Failed to calculate the value of task ':app:mapDebugSourceSetPaths' property 'extraGeneratedResDir'.\n      &gt; Querying the mapped value of provider(java.util.Set) before task ':app:processDebugGoogleServices' has completed is not supported\n</code></pre>\n<p>Here is the stack trace:</p>\n<pre><code>Executing tasks: [:app:assembleDebug] in project D:\\work\\Android Studio\\FirebaseExample2\n\n    Download https://plugins.gradle.org/m2/com/gradle/gradle-enterprise-gradle-plugin/3.10.2/gradle-enterprise-gradle-plugin-3.10.2.jar, took 1 s 705 ms (2.21 MB)\n    &gt; Task :app:createDebugVariantModel\n    &gt; Task :app:preBuild UP-TO-DATE\n    &gt; Task :app:preDebugBuild UP-TO-DATE\n    &gt; Task :app:mergeDebugNativeDebugMetadata NO-SOURCE\n    &gt; Task :app:compileDebugAidl NO-SOURCE\n    &gt; Task :app:compileDebugRenderscript NO-SOURCE\n    &gt; Task :app:generateDebugBuildConfig\n    &gt; Task :app:javaPreCompileDebug\n    &gt; Task :app:checkDebugAarMetadata\n    &gt; Task :app:generateDebugResValues\n    &gt; Task :app:mapDebugSourceSetPaths FAILED\n    &gt; Task :app:generateDebugResources\n    &gt; Task :app:mergeDebugResources\n    &gt; Task :app:processDebugGoogleServices\n    Execution optimizations have been disabled for task ':app:processDebugGoogleServices' to ensure correctness due to the following reasons:\n      - Gradle detected a problem with the following location: 'D:\\work\\Android Studio\\FirebaseExample2\\app\\build\\generated\\res\\google-services\\debug'. Reason: Task ':app:mergeDebugResources' uses this output of task ':app:processDebugGoogleServices' without declaring an explicit or implicit dependency. This can lead to incorrect results being produced, depending on what order the tasks are executed. Please refer to https://docs.gradle.org/7.5/userguide/validation_problems.html#implicit_dependency for more details about this problem.\n    &gt; Task :app:packageDebugResources\n    &gt; Task :app:createDebugCompatibleScreenManifests\n    &gt; Task :app:extractDeepLinksDebug\n    &gt; Task :app:parseDebugLocalResources\n    &gt; Task :app:processDebugMainManifest\n    &gt; Task :app:processDebugManifest\n    &gt; Task :app:mergeDebugShaders\n    &gt; Task :app:compileDebugShaders NO-SOURCE\n    &gt; Task :app:generateDebugAssets UP-TO-DATE\n    &gt; Task :app:mergeDebugAssets\n    &gt; Task :app:compressDebugAssets\n    &gt; Task :app:processDebugJavaRes NO-SOURCE\n    &gt; Task :app:desugarDebugFileDependencies\n    &gt; Task :app:checkDebugDuplicateClasses\n    &gt; Task :app:mergeDebugJniLibFolders\n    &gt; Task :app:processDebugManifestForPackage\n    &gt; Task :app:mergeDebugJavaResource\n    &gt; Task :app:mergeExtDexDebug\n</code></pre>\n<p>Here is <code>google-services.json</code> (downloaded from Firebase console and pasted into the app directory here (<code>D:\\work\\Android Studio\\FirebaseExample2\\app</code>):\n<a href=\"https://i.stack.imgur.com/WAS1O.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WAS1O.png\" alt=\"directory location for google-services.json file\" /></a></p>\n<pre><code>{\n  &quot;project_info&quot;: {\n    &quot;project_number&quot;: &quot;102836682558&quot;,\n    &quot;firebase_url&quot;: &quot;https://example-d3da6-default-rtdb.firebaseio.com&quot;,\n    &quot;project_id&quot;: &quot;example-d3da6&quot;,\n    &quot;storage_bucket&quot;: &quot;example-d3da6.appspot.com&quot;\n  },\n  &quot;client&quot;: [\n    {\n      &quot;client_info&quot;: {\n        &quot;mobilesdk_app_id&quot;: &quot;1:102836682558:android:b20556c6763de16c5c766f&quot;,\n        &quot;android_client_info&quot;: {\n          &quot;package_name&quot;: &quot;com.enetapplications.firebaseexample&quot;\n        }\n      },\n      &quot;oauth_client&quot;: [\n        {\n          &quot;client_id&quot;: &quot;102836682558-j851bq7699ovchhcufcn1o60jul1fpm3.apps.googleusercontent.com&quot;,\n          &quot;client_type&quot;: 1,\n          &quot;android_info&quot;: {\n            &quot;package_name&quot;: &quot;com.enetapplications.firebaseexample&quot;,\n            &quot;certificate_hash&quot;: &quot;1dad8469cb2080d8e92693b394b0791456170041&quot;\n          }\n        },\n        {\n          &quot;client_id&quot;: &quot;102836682558-9rgt5a9e3s1305joulfhpugrjhdrpm7v.apps.googleusercontent.com&quot;,\n          &quot;client_type&quot;: 3\n        }\n      ],\n      &quot;api_key&quot;: [\n        {\n          &quot;current_key&quot;: &quot;AIzaSyCKFtgpzJ7ITDeC8LBIysH1B5PyKjOrXJc&quot;\n        }\n      ],\n      &quot;services&quot;: {\n        &quot;appinvite_service&quot;: {\n          &quot;other_platform_oauth_client&quot;: [\n            {\n              &quot;client_id&quot;: &quot;102836682558-9rgt5a9e3s1305joulfhpugrjhdrpm7v.apps.googleusercontent.com&quot;,\n              &quot;client_type&quot;: 3\n            }\n          ]\n        }\n      }\n    }\n  ],\n  &quot;configuration_version&quot;: &quot;1&quot;\n}\n</code></pre>\n<p>Here is <code>build.gradle</code>:</p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'com.google.gms.google-services'\n}\n\nandroid {\n    namespace 'com.enetapplications.firebaseexample'\n    compileSdkVersion 33\n\n    defaultConfig {\n        applicationId &quot;com.enetapplications.firebaseexample&quot;\n        minSdkVersion 27\n        targetSdkVersion 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'com.google.android.material:material:1.9.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation 'com.google.firebase:firebase-database:20.0.4'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n}\n</code></pre>\n<p>Lastly here is <code>MainActivity.java</code>:</p>\n<pre><code>package com.enetapplications.firebaseexample;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\n\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\n\npublic class MainActivity extends AppCompatActivity {\n\n    Button send;\n    EditText name;\n\n    FirebaseDatabase database = FirebaseDatabase.getInstance();\n    DatabaseReference reference = database.getReference().child(&quot;users&quot;);\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        name = findViewById(R.id.editText);\n        send = findViewById(R.id.button);\n\n        send.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                String userName = name.getText().toString();\n                reference.child(&quot;userName&quot;).setValue(userName);\n            }\n        });\n\n    }\n}\n</code></pre>\n<p>I have already tried invalidating caches and restarting Android Studio, but the issue persists.</p>\n<p>Thank you!!!</p>\n"},{"tags":["java","processbuilder","outputstream"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1687967499,"post_id":76574771,"comment_id":135011700,"body_markdown":"I would read from `Process#getInputStream` and `Process#getErrorStream`, to ensure you&#39;re not hitting some weird error. For the hell of it, throw a `writer.flush()` after anyhow, even though there&#39;s a newline. Alternatively, use the `PrintWriter#print*` methods instead of `#write`.","body":"I would read from <code>Process#getInputStream</code> and <code>Process#getErrorStream</code>, to ensure you&#39;re not hitting some weird error. For the hell of it, throw a <code>writer.flush()</code> after anyhow, even though there&#39;s a newline. Alternatively, use the <code>PrintWriter#print*</code> methods instead of <code>#write</code>."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1687979089,"post_id":76574771,"comment_id":135013882,"body_markdown":"Looks like the `writer.flush()` was what I was missing.","body":"Looks like the <code>writer.flush()</code> was what I was missing."}],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687967113,"creation_date":1687967113,"question_id":76574771,"body_markdown":"I want to start a process that asks for a password. The password should be provided automatically. I tried:\r\n\r\n````java\r\nProcess process = processBuilder.start();\r\nThread.sleep(10000);\r\nOutputStream os = process.getOutputStream();\r\nPrintWriter writer = new PrintWriter(os);\r\nwriter.write(new String(password) + &quot;\\n&quot;);\r\n````\r\nBut the password is apparently not written to the process. The process instead waits forever until it is killed.\r\n\r\nHow can I answer password prompts from within Java?","title":"Start process in Java which has password prompt","body":"<p>I want to start a process that asks for a password. The password should be provided automatically. I tried:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Process process = processBuilder.start();\nThread.sleep(10000);\nOutputStream os = process.getOutputStream();\nPrintWriter writer = new PrintWriter(os);\nwriter.write(new String(password) + &quot;\\n&quot;);\n</code></pre>\n<p>But the password is apparently not written to the process. The process instead waits forever until it is killed.</p>\n<p>How can I answer password prompts from within Java?</p>\n"},{"tags":["java","exception","serialization","jboss","software-design"],"owner":{"account_id":28913157,"reputation":1,"user_id":22145718,"display_name":"olijaun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687967015,"creation_date":1687965864,"question_id":76574611,"body_markdown":"Throwable implements Serializable. So all Throwables should actually be serializable. I get it. But is there really still a need to make them actually serializable? I think in many cases the answer is no.\r\n\r\nIf I&#39;m using RMI then this makes sense. But if I implement a REST resource using jax-rs and I have an ExceptionMapper that maps my Exceptions to - let&#39;s say - &quot;application/problem+json&quot; then it is not really necessary to make my exceptions actually serializable.\r\n\r\n\r\nI&#39;m usually not making my Exceptions serializable because it means extra work and I don&#39;t see the point. Maybe if I would write a library it would make sense. Any thoughts on this?\r\n\r\nThe reason I started thinking about this is that our code analysis tool states the following if the exception is not serializable: \r\n\r\n&gt; Fields in a Serializable class must themselves be either Serializable\r\n&gt; or transient even if the class is never explicitly serialized or\r\n&gt; deserialized. For instance, under load, most J2EE application\r\n&gt; frameworks flush objects to disk, and an allegedly Serializable object\r\n&gt; with non-transient, non-serializable data members could cause program\r\n&gt; crashes, and open the door to attackers. In general a Serializable\r\n&gt; class is expected to fulfil its contract and not have an unexpected\r\n&gt; behaviour when an instance is serialized.\r\n&gt; \r\n&gt; This rule raises an issue on non-Serializable fields, and on\r\n&gt; collection fields when they are not private (because they could be\r\n&gt; assigned non-Serializable values externally), and when they are\r\n&gt; assigned non-Serializable types within the class.\r\n\r\nI cannot really think of a case where a J2EE application framework would have to flush an exception to disk.\r\n\r\nMy application runs in a JBoss AS.","title":"Is there still a reason to make my Throwables serializable?","body":"<p>Throwable implements Serializable. So all Throwables should actually be serializable. I get it. But is there really still a need to make them actually serializable? I think in many cases the answer is no.</p>\n<p>If I'm using RMI then this makes sense. But if I implement a REST resource using jax-rs and I have an ExceptionMapper that maps my Exceptions to - let's say - &quot;application/problem+json&quot; then it is not really necessary to make my exceptions actually serializable.</p>\n<p>I'm usually not making my Exceptions serializable because it means extra work and I don't see the point. Maybe if I would write a library it would make sense. Any thoughts on this?</p>\n<p>The reason I started thinking about this is that our code analysis tool states the following if the exception is not serializable:</p>\n<blockquote>\n<p>Fields in a Serializable class must themselves be either Serializable\nor transient even if the class is never explicitly serialized or\ndeserialized. For instance, under load, most J2EE application\nframeworks flush objects to disk, and an allegedly Serializable object\nwith non-transient, non-serializable data members could cause program\ncrashes, and open the door to attackers. In general a Serializable\nclass is expected to fulfil its contract and not have an unexpected\nbehaviour when an instance is serialized.</p>\n<p>This rule raises an issue on non-Serializable fields, and on\ncollection fields when they are not private (because they could be\nassigned non-Serializable values externally), and when they are\nassigned non-Serializable types within the class.</p>\n</blockquote>\n<p>I cannot really think of a case where a J2EE application framework would have to flush an exception to disk.</p>\n<p>My application runs in a JBoss AS.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1687828712,"post_id":76559876,"comment_id":134988036,"body_markdown":"Hi there, please provide more details about the problem","body":"Hi there, please provide more details about the problem"}],"owner":{"account_id":28900127,"reputation":1,"user_id":22135297,"display_name":"Đức"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687966987,"creation_date":1687809431,"question_id":76559876,"body_markdown":"I am developing an Android application using Android Studio and I am using VideoView to play a live video directly from a URL. However, I am experiencing stability issues with the video playback and I would like to adjust the delay of the VideoView to make it more stable.\r\n\r\n```\r\nvideoview1 = (VideoView) findViewById(R.id.videoview1);\r\n      videoview1.setVideoURI(Uri.parse(_map.get(&quot;link&quot;).toString()));\r\n    videoview1.setVideoURI(Uri.parse(_map.get(&quot;link&quot;).toString()));\r\nvideoview1.start();\r\n```","title":"How to set VideoView delay in Android Studio for live video playback from a URL?","body":"<p>I am developing an Android application using Android Studio and I am using VideoView to play a live video directly from a URL. However, I am experiencing stability issues with the video playback and I would like to adjust the delay of the VideoView to make it more stable.</p>\n<pre><code>videoview1 = (VideoView) findViewById(R.id.videoview1);\n      videoview1.setVideoURI(Uri.parse(_map.get(&quot;link&quot;).toString()));\n    videoview1.setVideoURI(Uri.parse(_map.get(&quot;link&quot;).toString()));\nvideoview1.start();\n</code></pre>\n"},{"tags":["java","project-reactor"],"owner":{"account_id":9764181,"reputation":436,"user_id":7238234,"display_name":"Ivan Denchev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687966068,"creation_date":1687966068,"question_id":76574637,"body_markdown":"using Project Reactor and Java 8 (I know...) I would like to implement the following:\r\n\r\nI have a supplier (0..n) that produces `String`s (directory paths to run a process on). The supplier function is:\r\n\r\n```java\r\npublic Optional&lt;String&gt; nextPath();\r\n```\r\n\r\nI have a consumer (a process run on the directory) that looks like:\r\n```java\r\nvoid process(String directoryPath);\r\n```\r\n\r\nIt&#39;s dummy implementation might look like this:\r\n```java\r\nvoid process(String directoryPath) {\r\n    // process runs in a different Thread started by an application server\r\n    // I don&#39;t have access to changing this\r\n    new Thread(() -&gt; {\r\n        Thread.sleep(randomTimeToComplete);\r\n        // complete\r\n    })\r\n    .start();\r\n}\r\n```\r\n\r\nI need to be able to **concurrently run up to 4 of those processes at a time**. \r\n1. This means that I start the app with 0 processes running.\r\n2. An event triggers the flow, 4 directory paths are requested initially.\r\n3. After each process completes a new `directoryPath` is requested to start a new process at the spot of the finished one.\r\n\r\nI am not sure how to go about this *signaling* at the end of the process.\r\n\r\nMy na&#239;ve implementation looks like this:\r\n```java\r\nFlux.&lt;String&gt;generate(sink -&gt; {\r\n    Optional&lt;String&gt; = possiblyNextPath = pathService.nextPath();\r\n    if (possiblyNextPath.isPresent()) {\r\n        sink.next(possiblyNextPath.get());\r\n    } else {\r\n        sink.complete();\r\n    }\r\n})\r\n// here I&#39;m using a future, I can eventually make the process\r\n// signal completion via a CompletableFuture\r\n// but I don&#39;t think this is the &#39;reactor&#39; way\r\n.flatMap(path -&gt; Mono.fromFuture(startProcess(path)), 4) // 4 is max processes at a time\r\n.subscribe();\r\n```\r\n```java\r\npublic CompletableFuture&lt;Object&gt; startProcess(String path) {\r\n    CompletableFuture&lt;Object&gt; future = new CompletableFuture&lt;&gt;();\r\n\r\n    new Thread(() -&gt; {\r\n        // Thread.sleep(15_000);\r\n        future.complete(null);\r\n    })\r\n    .start();\r\n\r\n    return future;\r\n}\r\n```\r\n\r\nIs there a way to better implement backpressure with my requirements of having 4 processes running at a time, one after each completes.\r\n\r\nI am thinking about something to signal completion, but using a semaphore or any other Java concurrency technique seems to be either blocking or not something I&#39;ve seen in code snippets about reactor.","title":"Parallel Backpressure on Downstream Process Completion","body":"<p>using Project Reactor and Java 8 (I know...) I would like to implement the following:</p>\n<p>I have a supplier (0..n) that produces <code>String</code>s (directory paths to run a process on). The supplier function is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Optional&lt;String&gt; nextPath();\n</code></pre>\n<p>I have a consumer (a process run on the directory) that looks like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void process(String directoryPath);\n</code></pre>\n<p>It's dummy implementation might look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void process(String directoryPath) {\n    // process runs in a different Thread started by an application server\n    // I don't have access to changing this\n    new Thread(() -&gt; {\n        Thread.sleep(randomTimeToComplete);\n        // complete\n    })\n    .start();\n}\n</code></pre>\n<p>I need to be able to <strong>concurrently run up to 4 of those processes at a time</strong>.</p>\n<ol>\n<li>This means that I start the app with 0 processes running.</li>\n<li>An event triggers the flow, 4 directory paths are requested initially.</li>\n<li>After each process completes a new <code>directoryPath</code> is requested to start a new process at the spot of the finished one.</li>\n</ol>\n<p>I am not sure how to go about this <em>signaling</em> at the end of the process.</p>\n<p>My naïve implementation looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Flux.&lt;String&gt;generate(sink -&gt; {\n    Optional&lt;String&gt; = possiblyNextPath = pathService.nextPath();\n    if (possiblyNextPath.isPresent()) {\n        sink.next(possiblyNextPath.get());\n    } else {\n        sink.complete();\n    }\n})\n// here I'm using a future, I can eventually make the process\n// signal completion via a CompletableFuture\n// but I don't think this is the 'reactor' way\n.flatMap(path -&gt; Mono.fromFuture(startProcess(path)), 4) // 4 is max processes at a time\n.subscribe();\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public CompletableFuture&lt;Object&gt; startProcess(String path) {\n    CompletableFuture&lt;Object&gt; future = new CompletableFuture&lt;&gt;();\n\n    new Thread(() -&gt; {\n        // Thread.sleep(15_000);\n        future.complete(null);\n    })\n    .start();\n\n    return future;\n}\n</code></pre>\n<p>Is there a way to better implement backpressure with my requirements of having 4 processes running at a time, one after each completes.</p>\n<p>I am thinking about something to signal completion, but using a semaphore or any other Java concurrency technique seems to be either blocking or not something I've seen in code snippets about reactor.</p>\n"},{"tags":["java","linux"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1687966412,"post_id":76574620,"comment_id":135011475,"body_markdown":"I&#39;m not sure I understand--`java` runs Java code, `-D` sets a system property for the Java code that&#39;s being run. You set the properties the way you&#39;re doing it--are you expecting them to be persistent somehow?","body":"I&#39;m not sure I understand--<code>java</code> runs Java code, <code>-D</code> sets a system property for the Java code that&#39;s being run. You set the properties the way you&#39;re doing it--are you expecting them to be persistent somehow?"},{"owner":{"account_id":25565621,"reputation":13,"user_id":19347115,"display_name":"PeterWegner90"},"score":0,"creation_date":1687966746,"post_id":76574620,"comment_id":135011548,"body_markdown":"I need to reach some dependencies and plugins for opensearch . The pod is getting errors because can&#39;t reach the sources. It is a behind a corporate proxy.","body":"I need to reach some dependencies and plugins for opensearch . The pod is getting errors because can&#39;t reach the sources. It is a behind a corporate proxy."},{"owner":{"account_id":25565621,"reputation":13,"user_id":19347115,"display_name":"PeterWegner90"},"score":0,"creation_date":1687966917,"post_id":76574620,"comment_id":135011583,"body_markdown":"I have not worked so much with java, so i dont undertand if running console command java -Dhttp.proxyHost=http://www-proxy.com -Dhttp.proxyPort=80 ,  is normal behaivor it shows me the help resume ?\nListing system properties  after running the above commnad i dont  not see them set.","body":"I have not worked so much with java, so i dont undertand if running console command java -Dhttp.proxyHost=<a href=\"http://www-proxy.com\" rel=\"nofollow noreferrer\">www-proxy.com</a> -Dhttp.proxyPort=80 ,  is normal behaivor it shows me the help resume ? Listing system properties  after running the above commnad i dont  not see them set."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1687967567,"post_id":76574620,"comment_id":135011718,"body_markdown":"The `java` command is for running Java code. You are not running Java code, so it&#39;s an error. If you need properties set in a (k8s?) pod that&#39;s a separate issue (and you may want environment variables, not system properties).","body":"The <code>java</code> command is for running Java code. You are not running Java code, so it&#39;s an error. If you need properties set in a (k8s?) pod that&#39;s a separate issue (and you may want environment variables, not system properties)."}],"owner":{"account_id":25565621,"reputation":13,"user_id":19347115,"display_name":"PeterWegner90"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687965941,"creation_date":1687965941,"question_id":76574620,"body_markdown":"I am triying to set system java properties for proxy. But each time i tried to run the commnad &quot;\r\n\r\n&gt; java -Dhttp.proxyHost=http://www-proxy.com -Dhttp.proxyPort=80\r\n\r\n&quot; just i get the help summarize even for all below: \r\n\r\n 1. java -Dhttp.proxyHost=http://www-proxy.com -Dhttp.proxyPort=80 \r\n 2. java -Dhttp.proxyHost=&quot;http://www-proxy.com&quot; -Dhttp.proxyPort=&quot;80&quot; \r\n 3. java -Dhttp.proxyHost http://www-proxy.com -Dhttp.proxyPort 80\r\n\r\nrunning verbose mode i see :\r\n\r\n    [0.007s][info][class,load] java.lang.Error source: shared objects file\r\n    [0.049s][info][class,load] java.text.MessageFormat$Field source: jrt:/java.base\r\n    Usage: java [options] &lt;mainclass&gt; [args...]\r\n               (to execute a class)\r\n\r\n\r\nHow can i set the above properties without errors. i am using  \r\n\r\n&gt; java -version openjdk version &quot;11.0.19&quot; 2023-04-18 LTS OpenJDK Runtime\r\n&gt; Environment (Red_Hat-11.0.19.0.7-2.0.1) (build 11.0.19+7-LTS) OpenJDK\r\n&gt; 64-Bit Server VM (Red_Hat-11.0.19.0.7-2.0.1) (build 11.0.19+7-LTS,\r\n&gt; mixed mode, sharing)\r\n\r\n\r\n\r\n","title":"How to set java system properties Linux","body":"<p>I am triying to set system java properties for proxy. But each time i tried to run the commnad &quot;</p>\n<blockquote>\n<p>java -Dhttp.proxyHost=http://www-proxy.com -Dhttp.proxyPort=80</p>\n</blockquote>\n<p>&quot; just i get the help summarize even for all below:</p>\n<ol>\n<li>java -Dhttp.proxyHost=http://www-proxy.com -Dhttp.proxyPort=80</li>\n<li>java -Dhttp.proxyHost=&quot;http://www-proxy.com&quot; -Dhttp.proxyPort=&quot;80&quot;</li>\n<li>java -Dhttp.proxyHost <a href=\"http://www-proxy.com\" rel=\"nofollow noreferrer\">http://www-proxy.com</a> -Dhttp.proxyPort 80</li>\n</ol>\n<p>running verbose mode i see :</p>\n<pre><code>[0.007s][info][class,load] java.lang.Error source: shared objects file\n[0.049s][info][class,load] java.text.MessageFormat$Field source: jrt:/java.base\nUsage: java [options] &lt;mainclass&gt; [args...]\n           (to execute a class)\n</code></pre>\n<p>How can i set the above properties without errors. i am using</p>\n<blockquote>\n<p>java -version openjdk version &quot;11.0.19&quot; 2023-04-18 LTS OpenJDK Runtime\nEnvironment (Red_Hat-11.0.19.0.7-2.0.1) (build 11.0.19+7-LTS) OpenJDK\n64-Bit Server VM (Red_Hat-11.0.19.0.7-2.0.1) (build 11.0.19+7-LTS,\nmixed mode, sharing)</p>\n</blockquote>\n"},{"tags":["java","junit5","rest-assured"],"comments":[{"owner":{"account_id":13342760,"reputation":1334,"user_id":9630486,"display_name":"Egor"},"score":0,"creation_date":1686673091,"post_id":76466723,"comment_id":134830218,"body_markdown":"What field do you want to extract?","body":"What field do you want to extract?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686745610,"post_id":76466723,"comment_id":134840994,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":28813600,"reputation":9,"user_id":22067761,"display_name":"Андрей Шамурадов"},"score":0,"creation_date":1686832428,"post_id":76466723,"comment_id":134855474,"body_markdown":"I need to extract everything that is inside &quot;Model&quot; and convert this to string","body":"I need to extract everything that is inside &quot;Model&quot; and convert this to string"}],"answers":[{"tags":[],"owner":{"account_id":7912553,"reputation":345,"user_id":5976130,"display_name":"Samira Kumar Nanda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687965840,"creation_date":1687965840,"answer_id":76574606,"question_id":76466723,"body_markdown":"To extract the &quot;Model&quot; object from the JSON response and convert it to a string using Java and Rest-Assured, you can modify your code as follows:\r\n\r\n    String city = response.jsonPath().getString(&quot;Model&quot;);\r\n        return city;\r\n    }\r\nHope this helps!!!","title":"How to take only a specific object from JSON using rest assured","body":"<p>To extract the &quot;Model&quot; object from the JSON response and convert it to a string using Java and Rest-Assured, you can modify your code as follows:</p>\n<pre><code>String city = response.jsonPath().getString(&quot;Model&quot;);\n    return city;\n}\n</code></pre>\n<p>Hope this helps!!!</p>\n"}],"owner":{"account_id":28813600,"reputation":9,"user_id":22067761,"display_name":"Андрей Шамурадов"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1687965840,"creation_date":1686671855,"question_id":76466723,"body_markdown":"I write API tests. In response, I get a JSON file in which I need to take only the object (what is inside &quot;Model&quot;) and pass it to a string. Using java, rest-assured.\r\n\r\n\r\n\r\nThis is my test\r\n```\r\npublic static String returnCity(String CityId) {\r\n        String string = &quot;&quot;;\r\n        Response response = given().spec(returnRequest(token))\r\n                .when().get(Configuration.baseUrl + &quot;/api/v1/city/&quot; + CityId)\r\n                .then()\r\n                .log().all()\r\n                .contentType(JSON)\r\n                .assertThat()\r\n                .statusCode(200)\r\n                .extract().response();\r\n        string = response.body(&quot;Model&quot;);\r\n        String city = JsonPath.read(string, &quot;$.Model&quot;).toString();\r\n        return city;\r\n\r\n    }\r\n```\r\nthis is an example json file i get in response.\r\n\r\n```\r\n{\r\n    &quot;Model&quot;: {\r\n        &quot;Id&quot;: 1489,\r\n        &quot;Name&quot;: &quot;New-York&quot;,\r\n        &quot;CountryId&quot;: 14,\r\n        &quot;OraId&quot;: 88,\r\n        &quot;DistrictId&quot;: 6,\r\n        &quot;Lat&quot;: 25.158855465,\r\n        &quot;Long&quot;: 7.4703558,\r\n        &quot;GoogleGeoId&quot;: &quot;&quot;,\r\n        &quot;TimezoneId&quot;: 3,\r\n        &quot;AreaId&quot;: 4,\r\n        &quot;District&quot;: {\r\n            &quot;Id&quot;: 12,\r\n            &quot;Name&quot;: &quot;Uganda&quot;,\r\n            &quot;OraId&quot;: 51,\r\n            &quot;Cities&quot;: null,\r\n            &quot;CountryId&quot;: 9,\r\n            &quot;OraParishId&quot;: 0\r\n        },\r\n        &quot;Area&quot;: {\r\n            &quot;Id&quot;: 4,\r\n            &quot;Name&quot;: &quot;New-Orlean&quot;,\r\n            &quot;DistrictId&quot;: 14,\r\n            &quot;CountryId&quot;: 88,\r\n            &quot;OraId&quot;: 666\r\n        },\r\n        &quot;IsShowArea&quot;: false,\r\n        &quot;StoreId&quot;: 9,\r\n        &quot;DeliveryPointsNumber&quot;: 0,\r\n        &quot;MajorOrder&quot;: 1\r\n    }\r\n}\r\n```","title":"How to take only a specific object from JSON using rest assured","body":"<p>I write API tests. In response, I get a JSON file in which I need to take only the object (what is inside &quot;Model&quot;) and pass it to a string. Using java, rest-assured.</p>\n<p>This is my test</p>\n<pre><code>public static String returnCity(String CityId) {\n        String string = &quot;&quot;;\n        Response response = given().spec(returnRequest(token))\n                .when().get(Configuration.baseUrl + &quot;/api/v1/city/&quot; + CityId)\n                .then()\n                .log().all()\n                .contentType(JSON)\n                .assertThat()\n                .statusCode(200)\n                .extract().response();\n        string = response.body(&quot;Model&quot;);\n        String city = JsonPath.read(string, &quot;$.Model&quot;).toString();\n        return city;\n\n    }\n</code></pre>\n<p>this is an example json file i get in response.</p>\n<pre><code>{\n    &quot;Model&quot;: {\n        &quot;Id&quot;: 1489,\n        &quot;Name&quot;: &quot;New-York&quot;,\n        &quot;CountryId&quot;: 14,\n        &quot;OraId&quot;: 88,\n        &quot;DistrictId&quot;: 6,\n        &quot;Lat&quot;: 25.158855465,\n        &quot;Long&quot;: 7.4703558,\n        &quot;GoogleGeoId&quot;: &quot;&quot;,\n        &quot;TimezoneId&quot;: 3,\n        &quot;AreaId&quot;: 4,\n        &quot;District&quot;: {\n            &quot;Id&quot;: 12,\n            &quot;Name&quot;: &quot;Uganda&quot;,\n            &quot;OraId&quot;: 51,\n            &quot;Cities&quot;: null,\n            &quot;CountryId&quot;: 9,\n            &quot;OraParishId&quot;: 0\n        },\n        &quot;Area&quot;: {\n            &quot;Id&quot;: 4,\n            &quot;Name&quot;: &quot;New-Orlean&quot;,\n            &quot;DistrictId&quot;: 14,\n            &quot;CountryId&quot;: 88,\n            &quot;OraId&quot;: 666\n        },\n        &quot;IsShowArea&quot;: false,\n        &quot;StoreId&quot;: 9,\n        &quot;DeliveryPointsNumber&quot;: 0,\n        &quot;MajorOrder&quot;: 1\n    }\n}\n</code></pre>\n"},{"tags":["java","https","certificate"],"answers":[{"tags":[],"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1312889788,"creation_date":1312889788,"answer_id":6995562,"question_id":6994944,"body_markdown":"Adding this as an answer as I need more space to write.\r\n\r\nFirst, a question: Is the certificate signed by a trusted authority such as Verisign? If it&#39;s not, the truststore should have the CA Certificate (usually a .pem file) which makes the p12 cert &#39;valid&#39;. The default java trust store contains most (if not all) of the CA certificates from the big companies, such as Verisign and Thawte.\r\n\r\nAlso, you can test your app to connect to the secure server without coding the SSL configuration, but with some command line parameters, for example:\r\n\r\n    java -Djavax.net.ssl.keyStore=[path_to_p12_cert] \\\r\n     -Djavax.net.ssl.keyStorePassword=[p12_password] \\\r\n     -Djavax.net.ssl.keyStoreType=PKCS12 \\\r\n     -Djavax.net.ssl.trustStore=[path_to_trust_store_with_CA_certificates] \\\r\n     -Djavax.net.ssl.trustStorePassword=[trust_store_password] \\\r\n     [MainClass]\r\n\r\nand then your code becomes just\r\n\r\n    HttpsURLConnection con = (HttpsURLConnection) (new URL(urlString)).openConnection();\r\n    con.connect();\r\n    con.getInputStream();\r\n    con.disconnect();\r\n\r\nIf you feel masochistic, the [JSSE ref guide][1] is great fun.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1,5.0/docs/guide/security/jsse/JSSERefGuide.html","title":"Connect to a https site with a given p12 certificate","body":"<p>Adding this as an answer as I need more space to write.</p>\n\n<p>First, a question: Is the certificate signed by a trusted authority such as Verisign? If it's not, the truststore should have the CA Certificate (usually a .pem file) which makes the p12 cert 'valid'. The default java trust store contains most (if not all) of the CA certificates from the big companies, such as Verisign and Thawte.</p>\n\n<p>Also, you can test your app to connect to the secure server without coding the SSL configuration, but with some command line parameters, for example:</p>\n\n<pre><code>java -Djavax.net.ssl.keyStore=[path_to_p12_cert] \\\n -Djavax.net.ssl.keyStorePassword=[p12_password] \\\n -Djavax.net.ssl.keyStoreType=PKCS12 \\\n -Djavax.net.ssl.trustStore=[path_to_trust_store_with_CA_certificates] \\\n -Djavax.net.ssl.trustStorePassword=[trust_store_password] \\\n [MainClass]\n</code></pre>\n\n<p>and then your code becomes just</p>\n\n<pre><code>HttpsURLConnection con = (HttpsURLConnection) (new URL(urlString)).openConnection();\ncon.connect();\ncon.getInputStream();\ncon.disconnect();\n</code></pre>\n\n<p>If you feel masochistic, the <a href=\"http://download.oracle.com/javase/1,5.0/docs/guide/security/jsse/JSSERefGuide.html\" rel=\"noreferrer\">JSSE ref guide</a> is great fun.</p>\n"},{"tags":[],"owner":{"account_id":409137,"reputation":684,"user_id":780211,"display_name":"bobz32"},"down_vote_count":0,"up_vote_count":50,"is_accepted":true,"score":50,"last_activity_date":1313006389,"creation_date":1313006389,"answer_id":7016969,"question_id":6994944,"body_markdown":"If you want to attempt to code up the SSL configuration, you could use the P12 file given to you without having to convert it into a JKS. Also, you will need to use the private key in the P12, and not just the certificates that you copied into the JKS. Not sure if this will suit your needs directly, but this may put you on the right path:\r\n\r\n            KeyStore clientStore = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n\t\t\tclientStore.load(new FileInputStream(&quot;test.p12&quot;), &quot;testPass&quot;.toCharArray());\r\n\t\t\t\r\n\t\t\tKeyManagerFactory kmf = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\r\n\t\t\tkmf.init(clientStore, &quot;testPass&quot;.toCharArray());\r\n\t\t\tKeyManager[] kms = kmf.getKeyManagers();\r\n\t\t\t\r\n\t\t\tKeyStore trustStore = KeyStore.getInstance(&quot;JKS&quot;);\r\n\t\t\ttrustStore.load(new FileInputStream(&quot;cacerts&quot;), &quot;changeit&quot;.toCharArray());\r\n\t\t\t\r\n\t\t\tTrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n\t\t\ttmf.init(trustStore);\r\n\t\t\tTrustManager[] tms = tmf.getTrustManagers();\r\n\t\t\t\r\n\t\t\tSSLContext sslContext = null;\r\n\t\t\tsslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n\t\t\tsslContext.init(kms, tms, new SecureRandom());\r\n\t\t    \r\n\t\t    HttpsURLConnection.setDefaultSSLSocketFactory(sslContext.getSocketFactory());\r\n\t\t    URL url = new URL(&quot;https://www.testurl.com&quot;);\r\n\t\t    \r\n\t\t    HttpsURLConnection urlConn = (HttpsURLConnection) url.openConnection();\r\n\r\nConfiguring the trustStore this way is optional. You could create a JKS with all of the certificates in the chain of your P12, or just make sure they are in your JRE&#39;s cacerts file. As for keytool, for reference, you can run keytool commands on a P12 (specify -storetype pkcs12), but cannot import a P12 into a JKS. You also cannot export just a key from a P12 with the keytool command.\r\n\r\nI have no servers setup at the moment to test out this code, so give it a shot and see if you still receive the 403 error.","title":"Connect to a https site with a given p12 certificate","body":"<p>If you want to attempt to code up the SSL configuration, you could use the P12 file given to you without having to convert it into a JKS. Also, you will need to use the private key in the P12, and not just the certificates that you copied into the JKS. Not sure if this will suit your needs directly, but this may put you on the right path:</p>\n\n<pre><code>        KeyStore clientStore = KeyStore.getInstance(\"PKCS12\");\n        clientStore.load(new FileInputStream(\"test.p12\"), \"testPass\".toCharArray());\n\n        KeyManagerFactory kmf = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\n        kmf.init(clientStore, \"testPass\".toCharArray());\n        KeyManager[] kms = kmf.getKeyManagers();\n\n        KeyStore trustStore = KeyStore.getInstance(\"JKS\");\n        trustStore.load(new FileInputStream(\"cacerts\"), \"changeit\".toCharArray());\n\n        TrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n        tmf.init(trustStore);\n        TrustManager[] tms = tmf.getTrustManagers();\n\n        SSLContext sslContext = null;\n        sslContext = SSLContext.getInstance(\"TLS\");\n        sslContext.init(kms, tms, new SecureRandom());\n\n        HttpsURLConnection.setDefaultSSLSocketFactory(sslContext.getSocketFactory());\n        URL url = new URL(\"https://www.testurl.com\");\n\n        HttpsURLConnection urlConn = (HttpsURLConnection) url.openConnection();\n</code></pre>\n\n<p>Configuring the trustStore this way is optional. You could create a JKS with all of the certificates in the chain of your P12, or just make sure they are in your JRE's cacerts file. As for keytool, for reference, you can run keytool commands on a P12 (specify -storetype pkcs12), but cannot import a P12 into a JKS. You also cannot export just a key from a P12 with the keytool command.</p>\n\n<p>I have no servers setup at the moment to test out this code, so give it a shot and see if you still receive the 403 error.</p>\n"},{"tags":[],"owner":{"account_id":1291897,"reputation":139,"user_id":1243839,"accept_rate":57,"display_name":"Rauno Veberson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1372928914,"creation_date":1372928914,"answer_id":17466307,"question_id":6994944,"body_markdown":"Simple keytool command would export your .p12 keystore into .jks keystore:\r\n \r\n`keytool -importkeystore -srckeystore keystore.p12 -srcstoretype PKCS12 -deststoretype JKS -destkeystore keystore.jks`","title":"Connect to a https site with a given p12 certificate","body":"<p>Simple keytool command would export your .p12 keystore into .jks keystore:</p>\n\n<p><code>keytool -importkeystore -srckeystore keystore.p12 -srcstoretype PKCS12 -deststoretype JKS -destkeystore keystore.jks</code></p>\n"},{"tags":[],"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1458289519,"creation_date":1415283223,"answer_id":26781595,"question_id":6994944,"body_markdown":"This is what worked for me:\r\n\r\n       KeyStore keyStore  = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n        FileInputStream instream = new FileInputStream(new File(&quot;client-p12-keystore.p12&quot;));\r\n        try {\r\n            keyStore.load(instream, &quot;password&quot;.toCharArray());\r\n        } finally {\r\n            instream.close();\r\n        }\r\n\r\n        // Trust own CA and all self-signed certs\r\n        SSLContext sslcontext = SSLContexts.custom()\r\n            .loadKeyMaterial(keyStore, &quot;password&quot;.toCharArray())\r\n            //.loadTrustMaterial(trustStore, new TrustSelfSignedStrategy())\r\n            .build();\r\n        // Allow TLSv1 protocol only\r\n        SSLConnectionSocketFactory sslsf = new SSLConnectionSocketFactory(\r\n            sslcontext,\r\n            SSLConnectionSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER);\r\n        CloseableHttpClient httpclient = HttpClients.custom()\r\n            .setHostnameVerifier(SSLConnectionSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER)\r\n            .setSSLSocketFactory(sslsf)\r\n            .build();\r\n        try {\r\n\r\n            HttpGet httpget = new HttpGet(&quot;https://localhost:8443/secure/index&quot;);\r\n\r\n            System.out.println(&quot;executing request&quot; + httpget.getRequestLine());\r\n\r\n            CloseableHttpResponse response = httpclient.execute(httpget);\r\n            try {\r\n                HttpEntity entity = response.getEntity();\r\n\r\n                System.out.println(&quot;----------------------------------------&quot;);\r\n                System.out.println(response.getStatusLine());\r\n                if (entity != null) {\r\n                    System.out.println(&quot;Response content length: &quot; + entity.getContentLength());\r\n                }\r\n                EntityUtils.consume(entity);\r\n            } finally {\r\n                response.close();\r\n            }\r\n        } finally {\r\n            httpclient.close();\r\n        }\r\n    }","title":"Connect to a https site with a given p12 certificate","body":"<p>This is what worked for me:</p>\n\n<pre><code>   KeyStore keyStore  = KeyStore.getInstance(\"PKCS12\");\n    FileInputStream instream = new FileInputStream(new File(\"client-p12-keystore.p12\"));\n    try {\n        keyStore.load(instream, \"password\".toCharArray());\n    } finally {\n        instream.close();\n    }\n\n    // Trust own CA and all self-signed certs\n    SSLContext sslcontext = SSLContexts.custom()\n        .loadKeyMaterial(keyStore, \"password\".toCharArray())\n        //.loadTrustMaterial(trustStore, new TrustSelfSignedStrategy())\n        .build();\n    // Allow TLSv1 protocol only\n    SSLConnectionSocketFactory sslsf = new SSLConnectionSocketFactory(\n        sslcontext,\n        SSLConnectionSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER);\n    CloseableHttpClient httpclient = HttpClients.custom()\n        .setHostnameVerifier(SSLConnectionSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER)\n        .setSSLSocketFactory(sslsf)\n        .build();\n    try {\n\n        HttpGet httpget = new HttpGet(\"https://localhost:8443/secure/index\");\n\n        System.out.println(\"executing request\" + httpget.getRequestLine());\n\n        CloseableHttpResponse response = httpclient.execute(httpget);\n        try {\n            HttpEntity entity = response.getEntity();\n\n            System.out.println(\"----------------------------------------\");\n            System.out.println(response.getStatusLine());\n            if (entity != null) {\n                System.out.println(\"Response content length: \" + entity.getContentLength());\n            }\n            EntityUtils.consume(entity);\n        } finally {\n            response.close();\n        }\n    } finally {\n        httpclient.close();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5709458,"reputation":191,"user_id":4511976,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1598392825,"creation_date":1598392825,"answer_id":63587704,"question_id":6994944,"body_markdown":"In case you are using Spring, it could be reached by RestTemplate:\r\n\r\n    public RestTemplate restTemplate() throws Exception {\r\n        KeyStore clientStore = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n        InputStream resource = this.getClass().getClassLoader().getResourceAsStream(&quot;path_to_certificate.p12&quot;);\r\n        clientStore.load(resource, &quot;p12_password&quot;.toCharArray());\r\n\r\n        SSLContextBuilder sslContextBuilder = new SSLContextBuilder();\r\n        sslContextBuilder.setProtocol(&quot;TLS&quot;);\r\n        sslContextBuilder.loadKeyMaterial(clientStore, &quot;p12_password&quot;.toCharArray());\r\n        sslContextBuilder.loadTrustMaterial(new TrustSelfSignedStrategy());\r\n\r\n        SSLConnectionSocketFactory sslConnectionSocketFactory = new SSLConnectionSocketFactory(sslContextBuilder.build());\r\n        CloseableHttpClient httpClient = HttpClients.custom()\r\n            .setSSLSocketFactory(sslConnectionSocketFactory)\r\n            .build();\r\n        HttpComponentsClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory(httpClient);\r\n        return new RestTemplate(requestFactory);\r\n    }","title":"Connect to a https site with a given p12 certificate","body":"<p>In case you are using Spring, it could be reached by RestTemplate:</p>\n<pre><code>public RestTemplate restTemplate() throws Exception {\n    KeyStore clientStore = KeyStore.getInstance(&quot;PKCS12&quot;);\n    InputStream resource = this.getClass().getClassLoader().getResourceAsStream(&quot;path_to_certificate.p12&quot;);\n    clientStore.load(resource, &quot;p12_password&quot;.toCharArray());\n\n    SSLContextBuilder sslContextBuilder = new SSLContextBuilder();\n    sslContextBuilder.setProtocol(&quot;TLS&quot;);\n    sslContextBuilder.loadKeyMaterial(clientStore, &quot;p12_password&quot;.toCharArray());\n    sslContextBuilder.loadTrustMaterial(new TrustSelfSignedStrategy());\n\n    SSLConnectionSocketFactory sslConnectionSocketFactory = new SSLConnectionSocketFactory(sslContextBuilder.build());\n    CloseableHttpClient httpClient = HttpClients.custom()\n        .setSSLSocketFactory(sslConnectionSocketFactory)\n        .build();\n    HttpComponentsClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory(httpClient);\n    return new RestTemplate(requestFactory);\n}\n</code></pre>\n"}],"owner":{"account_id":475441,"reputation":413,"user_id":885773,"display_name":"Namela"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72398,"favorite_count":0,"down_vote_count":0,"up_vote_count":41,"accepted_answer_id":7016969,"answer_count":5,"score":41,"last_activity_date":1687965521,"creation_date":1312886698,"question_id":6994944,"body_markdown":"The server side gave me a `.p12` certificate file which I&#39;ve clicked and installed on my machine and then I can access the `HTTPS` site through browser. Now they want me to crawl their site with the certificate given. I&#39;m stuck at the very first stage of it, trying to get the `inputStream` from the `httpsURLConnection`. The site has no login. It only checks if you have the certificate or not.\r\n\r\nWhat I&#39;ve done so far was to use Firefox to export out the certificate in a `.crt` file format. Then I used the keytool command to import it (the `.crt` file, not the `.p12`) into java keystore. Then in the code:\r\n\r\n    KeyStore ks = KeyStore.getInstance(KeyStore.getDefaultType());\r\n    File ksFile = new File(keystorePath);\r\n    in = new FileInputStream(ksFile);\r\n    ks.load(in, &quot;changeit&quot;.toCharArray());\r\n    X509Certificate cert = (X509Certificate) ks.getCertificate(certificateAlias);\r\n\r\n    SSLContext sc = SSLContext.getInstance(&quot;TLS&quot;);\r\n    sc.init(null, trustAllCerts, new java.security.SecureRandom());\r\n    HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\r\n\r\n    HttpsURLConnection con = (HttpsURLConnection) (new URL(urlString)).openConnection();\r\n    con.connect();\r\n    con.getInputStream();\r\n    con.disconnect();\r\n\r\nThe `getInputStream()` will give me 403 error forbidden access. I&#39;ve searched through other related topics and are actually deeply more confused than before reading them. Would greatly appreciate answers.\r\n\r\nAdditional Details:\r\n\r\n- I&#39;ve only just instantiated the certificate, and have not let the program knows any sort of keys (private, public, etc.). So what I believe I must present these keys to the server, letting it know I&#39;m actually holding the certificate. I have absolutely no idea how to do this, both logic and syntax wise.\r\n- I&#39;ve tried keytool command to import the .p12 cert file into the keystore but somehow, the -pkcs12 option is not recognized by the keytool. Any idea on how to directly use this .p12 cert would be great as well.\r\n- trustAllCert is a one element array of TrustMangers which does not validate anything (trust all). I don&#39;t know if I should continue to use this. In fact, now I actually have a single cert to trust. What is the proper way to write a trustManger in this case?\r\n- I have no control over the server side. All I was given are the URL to access their site, which is under HTTPS protocol, and a .p12 certificate. The site has no login. If the certificate is installed, I can go in.\r\n","title":"Connect to a https site with a given p12 certificate","body":"<p>The server side gave me a <code>.p12</code> certificate file which I've clicked and installed on my machine and then I can access the <code>HTTPS</code> site through browser. Now they want me to crawl their site with the certificate given. I'm stuck at the very first stage of it, trying to get the <code>inputStream</code> from the <code>httpsURLConnection</code>. The site has no login. It only checks if you have the certificate or not.</p>\n\n<p>What I've done so far was to use Firefox to export out the certificate in a <code>.crt</code> file format. Then I used the keytool command to import it (the <code>.crt</code> file, not the <code>.p12</code>) into java keystore. Then in the code:</p>\n\n<pre><code>KeyStore ks = KeyStore.getInstance(KeyStore.getDefaultType());\nFile ksFile = new File(keystorePath);\nin = new FileInputStream(ksFile);\nks.load(in, \"changeit\".toCharArray());\nX509Certificate cert = (X509Certificate) ks.getCertificate(certificateAlias);\n\nSSLContext sc = SSLContext.getInstance(\"TLS\");\nsc.init(null, trustAllCerts, new java.security.SecureRandom());\nHttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\n\nHttpsURLConnection con = (HttpsURLConnection) (new URL(urlString)).openConnection();\ncon.connect();\ncon.getInputStream();\ncon.disconnect();\n</code></pre>\n\n<p>The <code>getInputStream()</code> will give me 403 error forbidden access. I've searched through other related topics and are actually deeply more confused than before reading them. Would greatly appreciate answers.</p>\n\n<p>Additional Details:</p>\n\n<ul>\n<li>I've only just instantiated the certificate, and have not let the program knows any sort of keys (private, public, etc.). So what I believe I must present these keys to the server, letting it know I'm actually holding the certificate. I have absolutely no idea how to do this, both logic and syntax wise.</li>\n<li>I've tried keytool command to import the .p12 cert file into the keystore but somehow, the -pkcs12 option is not recognized by the keytool. Any idea on how to directly use this .p12 cert would be great as well.</li>\n<li>trustAllCert is a one element array of TrustMangers which does not validate anything (trust all). I don't know if I should continue to use this. In fact, now I actually have a single cert to trust. What is the proper way to write a trustManger in this case?</li>\n<li>I have no control over the server side. All I was given are the URL to access their site, which is under HTTPS protocol, and a .p12 certificate. The site has no login. If the certificate is installed, I can go in.</li>\n</ul>\n"},{"tags":["java","user-interface","jpanel"],"comments":[{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":2,"creation_date":1687961959,"post_id":76574063,"comment_id":135010482,"body_markdown":"Swing more or less expects you **not** to specify bounds, but to use Swing layout managers. Read through the [Swing tutorial](https://docs.oracle.com/javase/tutorial/uiswing/) for more information.","body":"Swing more or less expects you <b>not</b> to specify bounds, but to use Swing layout managers. Read through the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/\" rel=\"nofollow noreferrer\">Swing tutorial</a> for more information."},{"owner":{"account_id":9722462,"reputation":4365,"user_id":7210739,"display_name":"DontKnowMuchBut Getting Better"},"score":0,"creation_date":1687962738,"post_id":76574063,"comment_id":135010679,"body_markdown":"And the layout managers don&#39;t respect size for the most part. Instead, most look for the component&#39;s preferred size. Consider overriding getPreferredSize.","body":"And the layout managers don&#39;t respect size for the most part. Instead, most look for the component&#39;s preferred size. Consider overriding getPreferredSize."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1687964678,"post_id":76574063,"comment_id":135011124,"body_markdown":"BTW despite not recommended, you can `panel.setLayout(null);` and do the layout yourself, setting size and location of every component in that panel. Usually that gets *messy* very fast (window being resized, different display resolutions, different scales, font size, ...)","body":"BTW despite not recommended, you can <code>panel.setLayout(null);</code> and do the layout yourself, setting size and location of every component in that panel. Usually that gets <i>messy</i> very fast (window being resized, different display resolutions, different scales, font size, ...)"}],"answers":[{"tags":[],"owner":{"account_id":28821612,"reputation":11,"user_id":22074018,"display_name":"huski1018"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687963792,"creation_date":1687963792,"answer_id":76574355,"question_id":76574063,"body_markdown":"You might want to look into setting the layout of your container. For example:\r\n```\r\npublic void run() {\r\n  JFrame = new JFrame(&quot;Title&quot;);\r\n  Container content = frame.getContentPane();\r\n  content.setLayout(new GridBagLayout());\r\n\r\n  JPanel buttons = new JPanel(new GridBagLayout());\r\n  JButton continueButton = new JButton(&quot;Continue&quot;);\r\n\r\n  GridBagConstraints c = new GridBagConstraints();\r\n  c.gridx = 0;\r\n  c.gridy = 0;\r\n  buttons.add(continueButton, c);\r\n\r\n  content.add(buttons, c);\r\n}\r\n\r\n```\r\nIn the above code snippet, I first created a JFrame and set the layout of its Content Pane to GridBagLayout() (other examples of layouts include BorderLayout() and others which I recommend you look into to decide which one you like most). Then I initialized my GridBagConstraints which essentially acts like a coordinate system for the JFrame content pane. I initialized my first button at (0, 0) in my JPanel, then I assigned my entire JPanel to (0,0) in my content pane. I hope this helps. ","title":"Size of components in a JPanel","body":"<p>You might want to look into setting the layout of your container. For example:</p>\n<pre><code>public void run() {\n  JFrame = new JFrame(&quot;Title&quot;);\n  Container content = frame.getContentPane();\n  content.setLayout(new GridBagLayout());\n\n  JPanel buttons = new JPanel(new GridBagLayout());\n  JButton continueButton = new JButton(&quot;Continue&quot;);\n\n  GridBagConstraints c = new GridBagConstraints();\n  c.gridx = 0;\n  c.gridy = 0;\n  buttons.add(continueButton, c);\n\n  content.add(buttons, c);\n}\n\n</code></pre>\n<p>In the above code snippet, I first created a JFrame and set the layout of its Content Pane to GridBagLayout() (other examples of layouts include BorderLayout() and others which I recommend you look into to decide which one you like most). Then I initialized my GridBagConstraints which essentially acts like a coordinate system for the JFrame content pane. I initialized my first button at (0, 0) in my JPanel, then I assigned my entire JPanel to (0,0) in my content pane. I hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687965432,"creation_date":1687964522,"answer_id":76574453,"question_id":76574063,"body_markdown":"Try it like this. Notice that when you resize the main panel, the label and textbox get repositioned.  It is best to use one of the layout managers rather than use absolute positioning.  In this example, the [FlowLayout](https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/java/awt/FlowLayout.html) manager is used and is the default for `JPanels`.\r\n```\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\n\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JTextField;\r\nimport javax.swing.SwingUtilities;\r\n\r\npublic class UsingLayout extends JPanel {\r\n\r\n    JFrame frame = new JFrame();\r\n\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(() -&gt; new UsingLayout());\r\n    }\r\n\r\n    public UsingLayout() {\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        setBackground(Color.white); // main panel\r\n        Font font = new Font(&quot;Arial&quot;, Font.BOLD, 18);\r\n        JPanel panel2 = new JPanel();\r\n        panel2.setBackground(Color.cyan);\r\n        add(panel2);\r\n        JLabel label2 = new JLabel(&quot;NutriGYM&quot;);\r\n        label2.setFont(font);\r\n        panel2.add(label2);\r\n\r\n        JTextField weight = new JTextField();\r\n        weight.setFont(font);\r\n        weight.setColumns(10); // setting columns instead of size\r\n        panel2.add(weight);\r\n        \r\n        frame.add(this);\r\n        frame.pack();\r\n        frame.setLocationRelativeTo(null); // center on screen\r\n        frame.setVisible(true);\r\n\r\n    }\r\n    @Override\r\n    public Dimension getPreferredSize() {\r\n        return new Dimension(500,500);\r\n    }\r\n\r\n}\r\n```\r\nNote:  Instead of setting the size for the `JLabel` and `JTextField`, you may just want to set the [Font](https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/java/awt/Font.html) you are using.  In the above, the two components match and line up.  Of course, setting the preferred size is also an option depending on your design considerations.\r\n","title":"Size of components in a JPanel","body":"<p>Try it like this. Notice that when you resize the main panel, the label and textbox get repositioned.  It is best to use one of the layout managers rather than use absolute positioning.  In this example, the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/java/awt/FlowLayout.html\" rel=\"nofollow noreferrer\">FlowLayout</a> manager is used and is the default for <code>JPanels</code>.</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\n\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JTextField;\nimport javax.swing.SwingUtilities;\n\npublic class UsingLayout extends JPanel {\n\n    JFrame frame = new JFrame();\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; new UsingLayout());\n    }\n\n    public UsingLayout() {\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setBackground(Color.white); // main panel\n        Font font = new Font(&quot;Arial&quot;, Font.BOLD, 18);\n        JPanel panel2 = new JPanel();\n        panel2.setBackground(Color.cyan);\n        add(panel2);\n        JLabel label2 = new JLabel(&quot;NutriGYM&quot;);\n        label2.setFont(font);\n        panel2.add(label2);\n\n        JTextField weight = new JTextField();\n        weight.setFont(font);\n        weight.setColumns(10); // setting columns instead of size\n        panel2.add(weight);\n        \n        frame.add(this);\n        frame.pack();\n        frame.setLocationRelativeTo(null); // center on screen\n        frame.setVisible(true);\n\n    }\n    @Override\n    public Dimension getPreferredSize() {\n        return new Dimension(500,500);\n    }\n\n}\n</code></pre>\n<p>Note:  Instead of setting the size for the <code>JLabel</code> and <code>JTextField</code>, you may just want to set the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/java/awt/Font.html\" rel=\"nofollow noreferrer\">Font</a> you are using.  In the above, the two components match and line up.  Of course, setting the preferred size is also an option depending on your design considerations.</p>\n"}],"owner":{"account_id":26986666,"reputation":1,"user_id":20550217,"display_name":"Ryan Guard"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1687965432,"creation_date":1687961685,"question_id":76574063,"body_markdown":"Ian trying to create a panel with a title at the top and a few JTextFields and JLabels however when I put the First JLabel in and a JTextField no matter what I change the size to or change the coordinates on the panel it doesn’t change size or place.\r\n```\r\n\r\n    JPanel Panel2 = new JPanel();\r\n  Panel2.setBackground(Color.cyan);\r\nFrame.add(panel2);\r\n    Panel2.setBounds(100,100,250,200);\r\n\r\n    JLabel label2 = new      JLabel(“NutriGYM”)\r\n    Label2.setSize(200,200);\r\n    Pane.add(label2);\r\n\r\n    JTextField Weight = new        JTextField();\r\n    Weight.setBounds(0,0,250,250);\r\n    Panel2.add(label2);\r\n```","title":"Size of components in a JPanel","body":"<p>Ian trying to create a panel with a title at the top and a few JTextFields and JLabels however when I put the First JLabel in and a JTextField no matter what I change the size to or change the coordinates on the panel it doesn’t change size or place.</p>\n<pre><code>\n    JPanel Panel2 = new JPanel();\n  Panel2.setBackground(Color.cyan);\nFrame.add(panel2);\n    Panel2.setBounds(100,100,250,200);\n\n    JLabel label2 = new      JLabel(“NutriGYM”)\n    Label2.setSize(200,200);\n    Pane.add(label2);\n\n    JTextField Weight = new        JTextField();\n    Weight.setBounds(0,0,250,250);\n    Panel2.add(label2);\n</code></pre>\n"},{"tags":["java","spring-mvc","trace","zipkin","forkjoinpool"],"answers":[{"tags":[],"owner":{"account_id":2574452,"reputation":114,"user_id":2232476,"display_name":"Brian Devins-Suresh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1554401281,"creation_date":1537798845,"answer_id":52481424,"question_id":52474703,"body_markdown":"**EDIT:** We discovered during answering of this question that `ForkJoinPool` does not work currently with Brave. Due to API constraints on the class we were not able to find a solution yet.\r\n\r\nThe following assumes using Brave version 5 (it might work on 4 also):\r\n\r\nThe `CurrentTraceContext` API gives us a method: `executorService` that we can use to wrap an `ExecutorService`. So you would need to do something like the following:\r\n\r\n&lt;pre&gt;\r\n\r\n    ForkJoinPool fjp = ...;\r\n    CurrentTraceContext ctc = Tracing.currentTraceContext();\r\n    ExecutorService wrappedExecutorService = ctc.executorService(fjp);\r\n\r\n&lt;/pre&gt;\r\n\r\nThen you use the `wrappedExecutorService` as you were using your `ForkJoinPool`","title":"Use Openzipkin Brave for tracing with ForkJoinPool","body":"<p><strong>EDIT:</strong> We discovered during answering of this question that <code>ForkJoinPool</code> does not work currently with Brave. Due to API constraints on the class we were not able to find a solution yet.</p>\n\n<p>The following assumes using Brave version 5 (it might work on 4 also):</p>\n\n<p>The <code>CurrentTraceContext</code> API gives us a method: <code>executorService</code> that we can use to wrap an <code>ExecutorService</code>. So you would need to do something like the following:</p>\n\n<pre>\n\n    ForkJoinPool fjp = ...;\n    CurrentTraceContext ctc = Tracing.currentTraceContext();\n    ExecutorService wrappedExecutorService = ctc.executorService(fjp);\n\n</pre>\n\n<p>Then you use the <code>wrappedExecutorService</code> as you were using your <code>ForkJoinPool</code></p>\n"},{"tags":[],"owner":{"account_id":6878179,"reputation":4548,"user_id":5285908,"display_name":"Amith Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687965209,"creation_date":1687965209,"answer_id":76574535,"question_id":52474703,"body_markdown":"Knowing how the ForkJoinPool designed/operates using ForkJoinWorkerThreadFactory &amp; ForkJoinWorkerThread and being a native java feature where worker threads executes outside the Spring Context. The only way to add tracing to your ForkJoinPool execution is to customize the Task itself. \r\n\r\nHere is the [blog](https://amithkumarg.medium.com/distributed-tracing-spring-boot-micrometer-and-forkjoinpool-3dc8f06885f5) on adding tracing to your ForkJoinPool Tasks execution, in Spring Boot 3x using Micrometer.\r\n","title":"Use Openzipkin Brave for tracing with ForkJoinPool","body":"<p>Knowing how the ForkJoinPool designed/operates using ForkJoinWorkerThreadFactory &amp; ForkJoinWorkerThread and being a native java feature where worker threads executes outside the Spring Context. The only way to add tracing to your ForkJoinPool execution is to customize the Task itself.</p>\n<p>Here is the <a href=\"https://amithkumarg.medium.com/distributed-tracing-spring-boot-micrometer-and-forkjoinpool-3dc8f06885f5\" rel=\"nofollow noreferrer\">blog</a> on adding tracing to your ForkJoinPool Tasks execution, in Spring Boot 3x using Micrometer.</p>\n"}],"owner":{"account_id":7923934,"reputation":51,"user_id":5983948,"display_name":"Tom Chi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1306,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1687965209,"creation_date":1537774948,"question_id":52474703,"body_markdown":"I am trying to apply Openzipkin Brave to an application to help log tracing using Logback. The application is a spring webmvc application and it uses ForkJoinPool. \r\n\r\nTracing in the main thread (spring webmvc part) is working, but I have difficulties on passing the trace context to the ForkJoinThread. In my understanding, trace context is stored in threadlocal, which obviously is not accessible by ForkJoinWorkerThread (or ForkJoinTask). I wonder how I can make it work.","title":"Use Openzipkin Brave for tracing with ForkJoinPool","body":"<p>I am trying to apply Openzipkin Brave to an application to help log tracing using Logback. The application is a spring webmvc application and it uses ForkJoinPool. </p>\n\n<p>Tracing in the main thread (spring webmvc part) is working, but I have difficulties on passing the trace context to the ForkJoinThread. In my understanding, trace context is stored in threadlocal, which obviously is not accessible by ForkJoinWorkerThread (or ForkJoinTask). I wonder how I can make it work.</p>\n"},{"tags":["java","android","react-native","kotlin","gradle"],"answers":[{"tags":[],"owner":{"account_id":2897949,"reputation":193,"user_id":2485358,"display_name":"Yodgorbek Komilov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687965082,"creation_date":1687766571,"answer_id":76554696,"question_id":76554669,"body_markdown":"change java version from 17 to 11 it will work \r\nchange in your app.gradle java version like this\r\n\r\n    compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_11\r\n            targetCompatibility JavaVersion.VERSION_11\r\n        }\r\n        kotlinOptions {\r\n            jvmTarget = &#39;11&#39;\r\n        }\r\n\r\n\r\n   \r\nand download Javajdk 11 version like this [![like this picture][1]][1]\r\n    \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VMfKy.png","title":"compileDebugJavaWithJava&#39; task (current target is 11) and compileDebugKotlin task (current target is 17) jvm target compatibility should be same Java","body":"<p>change java version from 17 to 11 it will work\nchange in your app.gradle java version like this</p>\n<pre><code>compileOptions {\n        sourceCompatibility JavaVersion.VERSION_11\n        targetCompatibility JavaVersion.VERSION_11\n    }\n    kotlinOptions {\n        jvmTarget = '11'\n    }\n</code></pre>\n<p>and download Javajdk 11 version like this <a href=\"https://i.stack.imgur.com/VMfKy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VMfKy.png\" alt=\"like this picture\" /></a></p>\n"}],"owner":{"account_id":13227889,"reputation":137,"user_id":9552485,"display_name":"BraveEvidence"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76554696,"answer_count":1,"score":1,"last_activity_date":1687965082,"creation_date":1687766384,"question_id":76554669,"body_markdown":"I just updated my `react-native` project to 0.72 and i am facing issue with my `TurboModule`. I did add\r\n\r\n    compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_17\r\n            targetCompatibility JavaVersion.VERSION_17\r\n        }\r\n    \r\n       kotlinOptions {\r\n            jvmTarget = &#39;17&#39;\r\n        }\r\n\r\nin my project&#39;s `build.gradle` as well as in turbomodule&#39;s `build.gradle` file. \r\n\r\nI also changed `build.gradle.kts`\r\n\r\n    java {\r\n      sourceCompatibility = JavaVersion.VERSION_17\r\n      targetCompatibility = JavaVersion.VERSION_17\r\n    }\r\n    \r\n    tasks.withType&lt;KotlinCompile&gt; {\r\n      kotlinOptions {\r\n        jvmTarget = JavaVersion.VERSION_17.majorVersion\r\n        apiVersion = &quot;1.5&quot;\r\n        languageVersion = &quot;1.5&quot;\r\n      }\r\n    }\r\n\r\nUpdated the same in android studio as well\r\n\r\n[![enter image description here][1]][1]\r\n\r\nEntire source code [here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dLKW4.png\r\n  [2]: https://github.com/CodingWithNobody/ReactNativeDummy","title":"compileDebugJavaWithJava&#39; task (current target is 11) and compileDebugKotlin task (current target is 17) jvm target compatibility should be same Java","body":"<p>I just updated my <code>react-native</code> project to 0.72 and i am facing issue with my <code>TurboModule</code>. I did add</p>\n<pre><code>compileOptions {\n        sourceCompatibility JavaVersion.VERSION_17\n        targetCompatibility JavaVersion.VERSION_17\n    }\n\n   kotlinOptions {\n        jvmTarget = '17'\n    }\n</code></pre>\n<p>in my project's <code>build.gradle</code> as well as in turbomodule's <code>build.gradle</code> file.</p>\n<p>I also changed <code>build.gradle.kts</code></p>\n<pre><code>java {\n  sourceCompatibility = JavaVersion.VERSION_17\n  targetCompatibility = JavaVersion.VERSION_17\n}\n\ntasks.withType&lt;KotlinCompile&gt; {\n  kotlinOptions {\n    jvmTarget = JavaVersion.VERSION_17.majorVersion\n    apiVersion = &quot;1.5&quot;\n    languageVersion = &quot;1.5&quot;\n  }\n}\n</code></pre>\n<p>Updated the same in android studio as well</p>\n<p><a href=\"https://i.stack.imgur.com/dLKW4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dLKW4.png\" alt=\"enter image description here\" /></a></p>\n<p>Entire source code <a href=\"https://github.com/CodingWithNobody/ReactNativeDummy\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":["java","oracle","jdbc","plsql","boolean"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":1,"creation_date":1687895352,"post_id":76567700,"comment_id":135000509,"body_markdown":"Does this answer your question? [Why does Oracle&#39;s JDBC driver not support Oracle&#39;s Boolean type](https://stackoverflow.com/questions/27132648/why-does-oracles-jdbc-driver-not-support-oracles-boolean-type)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/27132648/why-does-oracles-jdbc-driver-not-support-oracles-boolean-type\">Why does Oracle&#39;s JDBC driver not support Oracle&#39;s Boolean type</a>"},{"owner":{"account_id":10003396,"reputation":1990,"user_id":7398653,"display_name":"gsalem"},"score":1,"creation_date":1687939042,"post_id":76567700,"comment_id":135005378,"body_markdown":"I think you better raise the question in the [23c](https://forums.oracle.com/ords/apexds/domain/dev-community/category/oracle-database-free) forum dedicated to that version. It probably has to do with the introduction of boolean type in the DB","body":"I think you better raise the question in the <a href=\"https://forums.oracle.com/ords/apexds/domain/dev-community/category/oracle-database-free\" rel=\"nofollow noreferrer\">23c</a> forum dedicated to that version. It probably has to do with the introduction of boolean type in the DB"}],"answers":[{"tags":[],"owner":{"account_id":5854892,"reputation":3571,"user_id":4612499,"display_name":"Jean de Lavarene"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687965043,"creation_date":1687941191,"answer_id":76571406,"question_id":76567700,"body_markdown":"This has to do with the new `BOOLEAN` type introduced in the 23c Oracle Database. The new 23c driver sends the boolean value set through `setBoolean` as a `BOOLEAN` (as opposed to a `NUMBER` in previous versions) and hence you&#39;re getting this `ORA-06550` error because the Database is expecting a `VARCHAR` (your parameters are all `VARCHAR`).\r\n\r\nYou have 3 options:\r\n\r\n 1. Change your PLSQL procedure and make the parameters be BOOLEAN instead of VARCHAR\r\n 2. Or change your Java code to use `setInt(1/0)` instead of `setBoolean(true/false)`\r\n 3. Or set the JDBC property `oracle.jdbc.sendBooleanInPLSQL` to `false` which is a compatibility flag used to make the driver revert to its old behavior. This property can be set on the DataSource or as a Java system property with `-Doracle.jdbc.sendBooleanInPLSQL=false`.\r\n\r\nIf your PLSQL procedure truely deals with `BOOLEAN` parameters then option #1 is the best. Your code would look like this:\r\n\r\n    try { stmt.execute(&quot;CREATE OR REPLACE PROCEDURE TEMP_SENSOR&quot; +\r\n              &quot; (switch1 IN BOOLEAN, switch2 OUT BOOLEAN, switch3 IN OUT BOOLEAN) IS&quot; +\r\n              &quot;  BEGIN &quot; +\r\n              &quot;  switch2  := switch3; &quot; +\r\n              &quot;  switch3 := switch1; &quot; +\r\n              &quot;  END;&quot;); } catch (SQLException sqlex) { }\r\n    \r\n    try ( CallableStatement cstmt = conn.prepareCall(&quot;{ call TEMP_SENSOR(?,?,?) }&quot;); ) {\r\n      cstmt.setBoolean(1, false);\r\n      cstmt.setBoolean(3, true);\r\n      cstmt.registerOutParameter(2, Types.BOOLEAN);\r\n      cstmt.registerOutParameter(3, Types.BOOLEAN);\r\n      cstmt.execute();\r\n    } catch (SQLException sqlex) {sqlex.printStackTrace(); }\r\n\r\nNote the `Types.BOOLEAN` type used in `registerOutParameter`.\r\n\r\nAlso note that option #3 is not recommended and should just be used as a temporary workaround because you will loose the benefits of the new BOOLEAN type. For example, indexes on a BOOLEAN column won&#39;t work.","title":"Oracle JDBC 23c driver throws ORA-06550 error when executing PL/SQL with setBoolean against a 23c Database","body":"<p>This has to do with the new <code>BOOLEAN</code> type introduced in the 23c Oracle Database. The new 23c driver sends the boolean value set through <code>setBoolean</code> as a <code>BOOLEAN</code> (as opposed to a <code>NUMBER</code> in previous versions) and hence you're getting this <code>ORA-06550</code> error because the Database is expecting a <code>VARCHAR</code> (your parameters are all <code>VARCHAR</code>).</p>\n<p>You have 3 options:</p>\n<ol>\n<li>Change your PLSQL procedure and make the parameters be BOOLEAN instead of VARCHAR</li>\n<li>Or change your Java code to use <code>setInt(1/0)</code> instead of <code>setBoolean(true/false)</code></li>\n<li>Or set the JDBC property <code>oracle.jdbc.sendBooleanInPLSQL</code> to <code>false</code> which is a compatibility flag used to make the driver revert to its old behavior. This property can be set on the DataSource or as a Java system property with <code>-Doracle.jdbc.sendBooleanInPLSQL=false</code>.</li>\n</ol>\n<p>If your PLSQL procedure truely deals with <code>BOOLEAN</code> parameters then option #1 is the best. Your code would look like this:</p>\n<pre><code>try { stmt.execute(&quot;CREATE OR REPLACE PROCEDURE TEMP_SENSOR&quot; +\n          &quot; (switch1 IN BOOLEAN, switch2 OUT BOOLEAN, switch3 IN OUT BOOLEAN) IS&quot; +\n          &quot;  BEGIN &quot; +\n          &quot;  switch2  := switch3; &quot; +\n          &quot;  switch3 := switch1; &quot; +\n          &quot;  END;&quot;); } catch (SQLException sqlex) { }\n\ntry ( CallableStatement cstmt = conn.prepareCall(&quot;{ call TEMP_SENSOR(?,?,?) }&quot;); ) {\n  cstmt.setBoolean(1, false);\n  cstmt.setBoolean(3, true);\n  cstmt.registerOutParameter(2, Types.BOOLEAN);\n  cstmt.registerOutParameter(3, Types.BOOLEAN);\n  cstmt.execute();\n} catch (SQLException sqlex) {sqlex.printStackTrace(); }\n</code></pre>\n<p>Note the <code>Types.BOOLEAN</code> type used in <code>registerOutParameter</code>.</p>\n<p>Also note that option #3 is not recommended and should just be used as a temporary workaround because you will loose the benefits of the new BOOLEAN type. For example, indexes on a BOOLEAN column won't work.</p>\n"}],"owner":{"account_id":17598499,"reputation":166,"user_id":12768970,"display_name":"Saurabh Verma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":257,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76571406,"answer_count":1,"score":2,"last_activity_date":1687965043,"creation_date":1687890430,"question_id":76567700,"body_markdown":"I am getting the following error message while executing PLSQL procedure with boolean type using Oracle 23c JDBC driver against 23c Database.\r\n\r\n    java.sql.SQLException: ORA-06550: line 1, column 7:\r\n    PLS-00306: wrong number or types of arguments in call to &#39;TEMP_SENSOR&#39;\r\n    ORA-06550: line 1, column 7:\r\n    PLS-00306: wrong number or types of arguments in call to &#39;TEMP_SENSOR&#39;\r\n    ORA-06550: line 1, column 7:\r\n    PL/SQL: Statement ignored\r\n\r\n\tat oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:702)\r\n\tat oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:608)\r\n\tat oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:1330)\r\n\tat oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:1109)\r\n\tat oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:455)\r\n\tat oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:498)\r\n\tat oracle.jdbc.driver.T4CCallableStatement.doOall8(T4CCallableStatement.java:229)\r\n\tat oracle.jdbc.driver.T4CCallableStatement.executeForRows(T4CCallableStatement.java:1408)\r\n\tat oracle.jdbc.driver.OracleStatement.executeSQLStatement(OracleStatement.ja va:1958)\r\n\tat oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1594)\r\n\tat oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3754)\r\n\tat oracle.jdbc.driver.OraclePreparedStatement.execute(OraclePreparedStatement.java:4202)\r\n\tat oracle.jdbc.driver.OracleCallableStatement.execute(OracleCallableStatement.java:4206)\r\n\tat oracle.jdbc.driver.OraclePreparedStatementWrapper.execute(OraclePreparedStatementWrapper.java:1015)\r\n    Caused by: Error : 6550, Position : 6, SQL = BEGIN \r\n    TEMP_SENSOR(:1,:2,:3) ; END;, Original SQL = { call \r\n    TEMP_SENSOR(?,?,?) }, Error Message = ORA-06550: line 1, column 7:\r\n    PLS-00306: wrong number or types of arguments in call to &#39;TEMP_SENSOR&#39;\r\n    ORA-06550: line 1, column 7:\r\n    PLS-00306: wrong number or types of arguments in call to &#39;TEMP_SENSOR&#39;\r\n    ORA-06550: line 1, column 7:\r\n    PL/SQL: Statement ignored\r\n\r\n\tat oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:710)\r\n\t... 16 more\r\n\r\nThis is my code:\r\n\r\n    try(Statement stmt = conn.createStatement()) {\r\n      try { stmt.execute(&quot;CREATE OR REPLACE PROCEDURE TEMP_SENSOR&quot; +\r\n              &quot; (switch1 IN VARCHAR, switch2 OUT VARCHAR, switch3 IN OUT \r\n    VARCHAR) IS&quot; +\r\n              &quot;  BEGIN &quot; +\r\n              ...\r\n              &quot;  END;&quot;); } catch (SQLException sqlex) { }\r\n    }\r\n    try ( CallableStatement cstmt = conn.prepareCall(&quot;{ call \r\n    TEMP_SENSOR(?,?,?) }&quot;); ) {\r\n      cstmt.setBoolean(1, false);\r\n      cstmt.setBoolean(3, true);\r\n      cstmt.registerOutParameter(2, Types.BIT);\r\n      cstmt.registerOutParameter(3, Types.BIT);\r\n      cstmt.execute();\r\n    } catch (SQLException sqlex) {sqlex.printStackTrace(); }\r\n\r\nThe issue occurs only when Oracle JDBC driver 23c is used against 23c database.(ojdbc8.jar and ojdbc11.jar) The issue does not occur with older JDBC driver and database release versions.","title":"Oracle JDBC 23c driver throws ORA-06550 error when executing PL/SQL with setBoolean against a 23c Database","body":"<p>I am getting the following error message while executing PLSQL procedure with boolean type using Oracle 23c JDBC driver against 23c Database.</p>\n<pre><code>java.sql.SQLException: ORA-06550: line 1, column 7:\nPLS-00306: wrong number or types of arguments in call to 'TEMP_SENSOR'\nORA-06550: line 1, column 7:\nPLS-00306: wrong number or types of arguments in call to 'TEMP_SENSOR'\nORA-06550: line 1, column 7:\nPL/SQL: Statement ignored\n\nat oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:702)\nat oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:608)\nat oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:1330)\nat oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:1109)\nat oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:455)\nat oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:498)\nat oracle.jdbc.driver.T4CCallableStatement.doOall8(T4CCallableStatement.java:229)\nat oracle.jdbc.driver.T4CCallableStatement.executeForRows(T4CCallableStatement.java:1408)\nat oracle.jdbc.driver.OracleStatement.executeSQLStatement(OracleStatement.ja va:1958)\nat oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1594)\nat oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3754)\nat oracle.jdbc.driver.OraclePreparedStatement.execute(OraclePreparedStatement.java:4202)\nat oracle.jdbc.driver.OracleCallableStatement.execute(OracleCallableStatement.java:4206)\nat oracle.jdbc.driver.OraclePreparedStatementWrapper.execute(OraclePreparedStatementWrapper.java:1015)\nCaused by: Error : 6550, Position : 6, SQL = BEGIN \nTEMP_SENSOR(:1,:2,:3) ; END;, Original SQL = { call \nTEMP_SENSOR(?,?,?) }, Error Message = ORA-06550: line 1, column 7:\nPLS-00306: wrong number or types of arguments in call to 'TEMP_SENSOR'\nORA-06550: line 1, column 7:\nPLS-00306: wrong number or types of arguments in call to 'TEMP_SENSOR'\nORA-06550: line 1, column 7:\nPL/SQL: Statement ignored\n\nat oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:710)\n... 16 more\n</code></pre>\n<p>This is my code:</p>\n<pre><code>try(Statement stmt = conn.createStatement()) {\n  try { stmt.execute(&quot;CREATE OR REPLACE PROCEDURE TEMP_SENSOR&quot; +\n          &quot; (switch1 IN VARCHAR, switch2 OUT VARCHAR, switch3 IN OUT \nVARCHAR) IS&quot; +\n          &quot;  BEGIN &quot; +\n          ...\n          &quot;  END;&quot;); } catch (SQLException sqlex) { }\n}\ntry ( CallableStatement cstmt = conn.prepareCall(&quot;{ call \nTEMP_SENSOR(?,?,?) }&quot;); ) {\n  cstmt.setBoolean(1, false);\n  cstmt.setBoolean(3, true);\n  cstmt.registerOutParameter(2, Types.BIT);\n  cstmt.registerOutParameter(3, Types.BIT);\n  cstmt.execute();\n} catch (SQLException sqlex) {sqlex.printStackTrace(); }\n</code></pre>\n<p>The issue occurs only when Oracle JDBC driver 23c is used against 23c database.(ojdbc8.jar and ojdbc11.jar) The issue does not occur with older JDBC driver and database release versions.</p>\n"},{"tags":["java","jar","gradle"],"comments":[{"owner":{"account_id":1405229,"reputation":8733,"user_id":1333133,"accept_rate":51,"display_name":"Satya"},"score":2,"creation_date":1387709893,"post_id":20728621,"comment_id":31055807,"body_markdown":"if you have an executable jar just use java -jar path-to-jar-file","body":"if you have an executable jar just use java -jar path-to-jar-file"},{"owner":{"account_id":22194,"reputation":18092,"user_id":54506,"accept_rate":78,"display_name":"Jayan"},"score":0,"creation_date":1387710634,"post_id":20728621,"comment_id":31055955,"body_markdown":"Consider using application plugin. See http://www.gradle.org/docs/current/userguide/application_plugin.html","body":"Consider using application plugin. See <a href=\"http://www.gradle.org/docs/current/userguide/application_plugin.html\" rel=\"nofollow noreferrer\">gradle.org/docs/current/userguide/application_plugin.html</a>"},{"owner":{"account_id":243106,"reputation":1911,"user_id":515068,"accept_rate":40,"display_name":"coder"},"score":1,"creation_date":1387710787,"post_id":20728621,"comment_id":31055991,"body_markdown":"@Satya I get Failed to load Main-Class manifest attribute error. When I run it using gradle (gradle run -DmainClass=&lt;main_package_class&gt;), it adds all jars (from ~/.gradle/caches directory) as part of classpath. Is there any other way of doing it with just the jar file that is built?","body":"@Satya I get Failed to load Main-Class manifest attribute error. When I run it using gradle (gradle run -DmainClass=&lt;main_package_class&gt;), it adds all jars (from ~/.gradle/caches directory) as part of classpath. Is there any other way of doing it with just the jar file that is built?"},{"owner":{"account_id":243106,"reputation":1911,"user_id":515068,"accept_rate":40,"display_name":"coder"},"score":2,"creation_date":1387710910,"post_id":20728621,"comment_id":31056018,"body_markdown":"@Jayan I&#39;m using application plugin to build and run on my local dev box. But on a production environment, gradle may not be there and I would have to just copy the jar to prod and run.","body":"@Jayan I&#39;m using application plugin to build and run on my local dev box. But on a production environment, gradle may not be there and I would have to just copy the jar to prod and run."},{"owner":{"account_id":261539,"reputation":19938,"user_id":981715,"accept_rate":74,"display_name":"Eugen Martynov"},"score":0,"creation_date":1387711446,"post_id":20728621,"comment_id":31056142,"body_markdown":"As of topic: use `gradlew` if you are not sure about availability of gradle","body":"As of topic: use <code>gradlew</code> if you are not sure about availability of gradle"},{"owner":{"account_id":96769,"reputation":8248,"user_id":262852,"accept_rate":65,"display_name":"Thufir"},"score":0,"creation_date":1454582415,"post_id":20728621,"comment_id":58113649,"body_markdown":"`java -jar build/libs/foo.jar` is the correct syntax.","body":"<code>java -jar build&#47;libs&#47;foo.jar</code> is the correct syntax."}],"answers":[{"tags":[],"owner":{"account_id":261539,"reputation":19938,"user_id":981715,"accept_rate":74,"display_name":"Eugen Martynov"},"down_vote_count":2,"up_vote_count":24,"is_accepted":false,"score":22,"last_activity_date":1590126908,"creation_date":1387711358,"answer_id":20728827,"question_id":20728621,"body_markdown":"Since question is marked with gradle tag I assume you want to run jar from gradle build. I also assume you use `java` plugin for your gradle build.\r\n\r\nAdd next lines in your gradle:\r\n\r\n    task runFinalJar(type: JavaExec) {\r\n       classpath = files(&#39;build/libs/foo.jar&#39;)\r\n       classpath += sourceSets.main.runtimeClasspath\r\n       main = full.package.classname\r\n    }\r\n\r\nYou can now include your task to the build process:\r\n\r\n    build.dependsOn.add(&quot;runFinalJar&quot;)\r\n\r\nOr just run it form command line:\r\n\r\n    gradle build runFinalJar\r\n\r\n**UPDATE**: It is cleaner to use application plugin [as Peter suggested][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/20731688/392847","title":"Running an executable jar file built from a gradle based project","body":"<p>Since question is marked with gradle tag I assume you want to run jar from gradle build. I also assume you use <code>java</code> plugin for your gradle build.</p>\n\n<p>Add next lines in your gradle:</p>\n\n<pre><code>task runFinalJar(type: JavaExec) {\n   classpath = files('build/libs/foo.jar')\n   classpath += sourceSets.main.runtimeClasspath\n   main = full.package.classname\n}\n</code></pre>\n\n<p>You can now include your task to the build process:</p>\n\n<pre><code>build.dependsOn.add(\"runFinalJar\")\n</code></pre>\n\n<p>Or just run it form command line:</p>\n\n<pre><code>gradle build runFinalJar\n</code></pre>\n\n<p><strong>UPDATE</strong>: It is cleaner to use application plugin <a href=\"https://stackoverflow.com/a/20731688/392847\">as Peter suggested</a></p>\n"},{"tags":[],"owner":{"account_id":31011,"reputation":122006,"user_id":84889,"display_name":"Peter Niederwieser"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1387730968,"creation_date":1387730968,"answer_id":20731688,"question_id":20728621,"body_markdown":"Either use the [application plugin](http://www.gradle.org/docs/current/userguide/userguide_single.html#application_plugin) to create an archive containing your code, its dependencies, and startup scripts, or create an executable fat Jar. The latter shouldn&#39;t be done in the naive way, but with the [gradle-one-jar](https://github.com/rholder/gradle-one-jar) (or a similar) plugin.","title":"Running an executable jar file built from a gradle based project","body":"<p>Either use the <a href=\"http://www.gradle.org/docs/current/userguide/userguide_single.html#application_plugin\" rel=\"noreferrer\">application plugin</a> to create an archive containing your code, its dependencies, and startup scripts, or create an executable fat Jar. The latter shouldn't be done in the naive way, but with the <a href=\"https://github.com/rholder/gradle-one-jar\" rel=\"noreferrer\">gradle-one-jar</a> (or a similar) plugin.</p>\n"},{"tags":[],"owner":{"account_id":96769,"reputation":8248,"user_id":262852,"accept_rate":65,"display_name":"Thufir"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1454582699,"creation_date":1454582699,"answer_id":35198919,"question_id":20728621,"body_markdown":"I think that the answers go beyond what the question actually is.  The question is, or can be restated as, how to run a JAR which gradle builds.\r\n\r\nThe questioner states that they&#39;ve tried `java -cp build/libs/foo.jar full.package.classname` to no avail.\r\n\r\nThe correct syntax is `java -jar build/libs/foo.jar`, or if the JAR is right there, obviously it&#39;s  then just `java -jar foo.jar` as normally.\r\n\r\n\r\nThe question should be edited for clarity, IMHO.","title":"Running an executable jar file built from a gradle based project","body":"<p>I think that the answers go beyond what the question actually is.  The question is, or can be restated as, how to run a JAR which gradle builds.</p>\n\n<p>The questioner states that they've tried <code>java -cp build/libs/foo.jar full.package.classname</code> to no avail.</p>\n\n<p>The correct syntax is <code>java -jar build/libs/foo.jar</code>, or if the JAR is right there, obviously it's  then just <code>java -jar foo.jar</code> as normally.</p>\n\n<p>The question should be edited for clarity, IMHO.</p>\n"},{"tags":[],"owner":{"account_id":1645848,"reputation":886,"user_id":1517414,"display_name":"Sylvain"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1596959155,"creation_date":1533293865,"answer_id":51671119,"question_id":20728621,"body_markdown":"Add a simple task to run jar\r\n\r\n    task runJar(type: JavaExec) {\r\n        main = &quot;-jar&quot;;\r\n        args jar.archivePath\r\n    }\r\n\r\n**UPDATE**: `jar.archivePath` is now deprecated, you can use `jar.archiveFile.get()`\r\n\r\n    task runJar(type: JavaExec) {\r\n        main = &quot;-jar&quot;;\r\n        args jar.archiveFile.get()\r\n    }\r\n","title":"Running an executable jar file built from a gradle based project","body":"<p>Add a simple task to run jar</p>\n<pre><code>task runJar(type: JavaExec) {\n    main = &quot;-jar&quot;;\n    args jar.archivePath\n}\n</code></pre>\n<p><strong>UPDATE</strong>: <code>jar.archivePath</code> is now deprecated, you can use <code>jar.archiveFile.get()</code></p>\n<pre><code>task runJar(type: JavaExec) {\n    main = &quot;-jar&quot;;\n    args jar.archiveFile.get()\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3404868,"reputation":3924,"user_id":2856202,"accept_rate":50,"display_name":"daparic"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1574248660,"creation_date":1574248660,"answer_id":58953091,"question_id":20728621,"body_markdown":"I am a newbie, so my explanations here will be simplistic. My `build.gradle` file contains only one line: `apply plugin: &#39;java&#39;`. I have a `hello world` java code in `src/main/java/org/dx/test/App.java`. From the command shell, I typed: `gradle build`. And then I saw this jar file magically created:\r\n\r\n    build/libs/helloworld.jar\r\n\r\nAll of the above answers did not work. What worked for me is:\r\n\r\n    java -cp build/libs/helloworld.jar org.dx.test.App\r\n\r\nNow, I know gradle is full of sorcercy so I am sure my situation may not fully reflect your situation. The actions are did were:\r\n\r\n 1. Create that one line `build.gradle` file\r\n 2. Create the `App.java` under the doctor&#39;s prescribed folder location\r\n 3. Type `gradle build` \r\n\r\n","title":"Running an executable jar file built from a gradle based project","body":"<p>I am a newbie, so my explanations here will be simplistic. My <code>build.gradle</code> file contains only one line: <code>apply plugin: 'java'</code>. I have a <code>hello world</code> java code in <code>src/main/java/org/dx/test/App.java</code>. From the command shell, I typed: <code>gradle build</code>. And then I saw this jar file magically created:</p>\n\n<pre><code>build/libs/helloworld.jar\n</code></pre>\n\n<p>All of the above answers did not work. What worked for me is:</p>\n\n<pre><code>java -cp build/libs/helloworld.jar org.dx.test.App\n</code></pre>\n\n<p>Now, I know gradle is full of sorcercy so I am sure my situation may not fully reflect your situation. The actions are did were:</p>\n\n<ol>\n<li>Create that one line <code>build.gradle</code> file</li>\n<li>Create the <code>App.java</code> under the doctor's prescribed folder location</li>\n<li>Type <code>gradle build</code> </li>\n</ol>\n"},{"tags":[],"owner":{"account_id":24730420,"reputation":1,"user_id":18618462,"display_name":"anant singh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1648547230,"creation_date":1648545284,"answer_id":71659375,"question_id":20728621,"body_markdown":"To run a jar in terminal, first build a jar using &quot;gradle clean build&quot; then , navigate to -&gt; build -&gt; distribution -&gt; `unzip &lt;filename&gt;.zip file`\r\n    -&gt; cd to unzipped file \r\n    -&gt; `cd bin`\r\n    there will be 2 files - projectname &amp; &lt;projectname.bat&gt; run the jar with ./projectname\r\n    \r\nIf there are some args to be passed to main method use : run the jar with ./projectname params","title":"Running an executable jar file built from a gradle based project","body":"<p>To run a jar in terminal, first build a jar using &quot;gradle clean build&quot; then , navigate to -&gt; build -&gt; distribution -&gt; <code>unzip &lt;filename&gt;.zip file</code>\n-&gt; cd to unzipped file\n-&gt; <code>cd bin</code>\nthere will be 2 files - projectname &amp; &lt;projectname.bat&gt; run the jar with ./projectname</p>\n<p>If there are some args to be passed to main method use : run the jar with ./projectname params</p>\n"},{"tags":[],"owner":{"account_id":105656,"reputation":10424,"user_id":281815,"display_name":"rbento"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687964994,"creation_date":1687964203,"answer_id":76574411,"question_id":20728621,"body_markdown":"The **application** Gradle plugin adds a task called **run** to a Gradle module.\r\n\r\nWith this plugin a Gradle module named **app** can be executed like so:\r\n\r\n```\r\n./gradlew :app:run\r\n```\r\n\r\n**Output**\r\n\r\n```\r\nBUILD SUCCESSFUL in 534ms\r\n17 actionable tasks: 1 executed, 16 up-to-date\r\n ~/Workspace/so20728621 $ ./gradlew clean :app:run\r\n\r\n&gt; Task :app:run\r\n[main] INFO rbento.app.Main - Running...\r\n```\r\n\r\nThe relevant settings can be found below:\r\n\r\n**~/Workspace/so20728621/settings.gradle**\r\n```\r\nrootProject.name = &#39;so20728621&#39;\r\n\r\ninclude(&#39;app&#39;)\r\n```\r\n\r\n**~/Workspace/so20728621/app/build.gradle**\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;application&#39;\r\n}\r\n\r\napplication {\r\n\tmainClass = &#39;rbento.app.Main&#39;\r\n}\r\n```\r\n\r\n**Environment**\r\n\r\n```\r\nGradle: 8.1.1\r\nJVM:    17.0.6 (Azul Systems, Inc. 17.0.6+10-LTS)\r\nOS:     Mac OS X 13.4.1 aarch64\r\n```\r\n\r\n  [1]: https://github.com/rbento/java-gradle-starter","title":"Running an executable jar file built from a gradle based project","body":"<p>The <strong>application</strong> Gradle plugin adds a task called <strong>run</strong> to a Gradle module.</p>\n<p>With this plugin a Gradle module named <strong>app</strong> can be executed like so:</p>\n<pre><code>./gradlew :app:run\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>BUILD SUCCESSFUL in 534ms\n17 actionable tasks: 1 executed, 16 up-to-date\n ~/Workspace/so20728621 $ ./gradlew clean :app:run\n\n&gt; Task :app:run\n[main] INFO rbento.app.Main - Running...\n</code></pre>\n<p>The relevant settings can be found below:</p>\n<p><strong>~/Workspace/so20728621/settings.gradle</strong></p>\n<pre><code>rootProject.name = 'so20728621'\n\ninclude('app')\n</code></pre>\n<p><strong>~/Workspace/so20728621/app/build.gradle</strong></p>\n<pre><code>plugins {\n    id 'java'\n    id 'application'\n}\n\napplication {\n    mainClass = 'rbento.app.Main'\n}\n</code></pre>\n<p><strong>Environment</strong></p>\n<pre><code>Gradle: 8.1.1\nJVM:    17.0.6 (Azul Systems, Inc. 17.0.6+10-LTS)\nOS:     Mac OS X 13.4.1 aarch64\n</code></pre>\n"}],"owner":{"account_id":243106,"reputation":1911,"user_id":515068,"accept_rate":40,"display_name":"coder"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53002,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"answer_count":7,"score":27,"last_activity_date":1687964994,"creation_date":1387709789,"question_id":20728621,"body_markdown":"I have a standalone project which is gradle based. When I do gradle build, the jar is generated under build/libs. How do I run this executable jar from command line? I tried : `java -cp build/libs/foo.jar full.package.classname` but I get noClassFoundException for the classes that were imported. How do I include dependent jars as part of classpath?","title":"Running an executable jar file built from a gradle based project","body":"<p>I have a standalone project which is gradle based. When I do gradle build, the jar is generated under build/libs. How do I run this executable jar from command line? I tried : <code>java -cp build/libs/foo.jar full.package.classname</code> but I get noClassFoundException for the classes that were imported. How do I include dependent jars as part of classpath?</p>\n"},{"tags":["java","spring","apache-kafka","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687964723,"creation_date":1687964723,"answer_id":76574476,"question_id":76574422,"body_markdown":"Use of `enable.auto.commit-true` is not recommended; supported versions of the framework automatically set it to `false` (unless the user has explicitly set it to `true`).\r\n\r\nIt is not recommended because the listener container will commit the offsets in a more deterministic manner, using `AckMode.BATCH` (default) or `AckMode.RECORD`.\r\n\r\nThe redelivery of a failed record is performed by the default error handler (up to 9 retries with no back off, by default).\r\n\r\n&quot;failed record&quot; means the listener threw an exception.","title":"Kafka auto-commit listener reads failed message repeatedly","body":"<p>Use of <code>enable.auto.commit-true</code> is not recommended; supported versions of the framework automatically set it to <code>false</code> (unless the user has explicitly set it to <code>true</code>).</p>\n<p>It is not recommended because the listener container will commit the offsets in a more deterministic manner, using <code>AckMode.BATCH</code> (default) or <code>AckMode.RECORD</code>.</p>\n<p>The redelivery of a failed record is performed by the default error handler (up to 9 retries with no back off, by default).</p>\n<p>&quot;failed record&quot; means the listener threw an exception.</p>\n"}],"owner":{"account_id":14294872,"reputation":107,"user_id":10325838,"display_name":"dh1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687964723,"creation_date":1687964282,"question_id":76574422,"body_markdown":"I have defined a `@KafkaListener` with following consumer properties. `enable.auto.commit` is by default `true`.\r\n\r\nFor one of the messages consumed, it threw an exception which was not caught anywhere. Now my console is getting filled with the same error again and again since the `@KafkaListener` is repeatedly consuming the same message. Two question about this:\r\n\r\n**1.** To check my understanding, the message is read again and again because the message was not committed at that time because the consumer thread ended with the exception and the auto commit interval, 5 seconds, wasn&#39;t reached. And the listener always starts reading from the latest committed offset, so it again tries to read the failed msg.\r\n\r\nActually, I read the answer given by **Gary Russell** on this one, https://stackoverflow.com/questions/49404156/spring-kafka-auto-commit-offset-in-case-of-failures.. But didn&#39;t understand what he meant by \r\n\r\n*With auto-commit, the offset will be committed regardless of success/failure. The container won&#39;t commit after a failure, unless ackOnError is true (another reason to not use auto commit).*\r\n\r\n**2.** How can we avoid reading failed messages(meaning messages that threw off exception) again and again?\r\n\r\n[![Consumer properties][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SbAlD.png","title":"Kafka auto-commit listener reads failed message repeatedly","body":"<p>I have defined a <code>@KafkaListener</code> with following consumer properties. <code>enable.auto.commit</code> is by default <code>true</code>.</p>\n<p>For one of the messages consumed, it threw an exception which was not caught anywhere. Now my console is getting filled with the same error again and again since the <code>@KafkaListener</code> is repeatedly consuming the same message. Two question about this:</p>\n<p><strong>1.</strong> To check my understanding, the message is read again and again because the message was not committed at that time because the consumer thread ended with the exception and the auto commit interval, 5 seconds, wasn't reached. And the listener always starts reading from the latest committed offset, so it again tries to read the failed msg.</p>\n<p>Actually, I read the answer given by <strong>Gary Russell</strong> on this one, <a href=\"https://stackoverflow.com/questions/49404156/spring-kafka-auto-commit-offset-in-case-of-failures.\">Spring Kafka Auto Commit Offset In Case of Failures</a>. But didn't understand what he meant by</p>\n<p><em>With auto-commit, the offset will be committed regardless of success/failure. The container won't commit after a failure, unless ackOnError is true (another reason to not use auto commit).</em></p>\n<p><strong>2.</strong> How can we avoid reading failed messages(meaning messages that threw off exception) again and again?</p>\n<p><a href=\"https://i.stack.imgur.com/SbAlD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SbAlD.png\" alt=\"Consumer properties\" /></a></p>\n"},{"tags":["java","reflection","maven-plugin"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1688025173,"post_id":76573904,"comment_id":135018999,"body_markdown":"Do these jars contain their own version of `MyAnnotation`?","body":"Do these jars contain their own version of <code>MyAnnotation</code>?"},{"owner":{"account_id":1179355,"reputation":4521,"user_id":1154644,"accept_rate":52,"display_name":"user1154644"},"score":0,"creation_date":1688045768,"post_id":76573904,"comment_id":135023285,"body_markdown":"good question. the annotations and the plugin are maven modules under the same parent project. the jar file that the maven plugin is trying to process was built from a project that has a dependency on that annotations module","body":"good question. the annotations and the plugin are maven modules under the same parent project. the jar file that the maven plugin is trying to process was built from a project that has a dependency on that annotations module"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1688108998,"post_id":76573904,"comment_id":135032322,"body_markdown":"You can use `urlClassLoader.loadClass(MyAnnotation.class.getName()) == MyAnnotation.class` to test whether they agree or have different versions.","body":"You can use <code>urlClassLoader.loadClass(MyAnnotation.class.getName()) == MyAnnotation.class</code> to test whether they agree or have different versions."},{"owner":{"account_id":1179355,"reputation":4521,"user_id":1154644,"accept_rate":52,"display_name":"user1154644"},"score":0,"creation_date":1688133942,"post_id":76573904,"comment_id":135037292,"body_markdown":"@Holger I actually get a ClassNotFoundException on the loadClass() call. I think that tells me what the problem is? The annotation class files aren&#39;t being packaged in the JAR. Would the solution be to enforce that a project using the plugin produce a -jar-with-dependencies?","body":"@Holger I actually get a ClassNotFoundException on the loadClass() call. I think that tells me what the problem is? The annotation class files aren&#39;t being packaged in the JAR. Would the solution be to enforce that a project using the plugin produce a -jar-with-dependencies?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1688136166,"post_id":76573904,"comment_id":135037781,"body_markdown":"The parent loader of the `urlClassLoader` should be a class loader which knows your current runtime class, i.e. use `MyAnnotation.class.getClassLoader()` as parent. Adding the class to the jar is not a good idea; that would lead to the scenario of having two different runtime classes.","body":"The parent loader of the <code>urlClassLoader</code> should be a class loader which knows your current runtime class, i.e. use <code>MyAnnotation.class.getClassLoader()</code> as parent. Adding the class to the jar is not a good idea; that would lead to the scenario of having two different runtime classes."},{"owner":{"account_id":1179355,"reputation":4521,"user_id":1154644,"accept_rate":52,"display_name":"user1154644"},"score":0,"creation_date":1688406679,"post_id":76573904,"comment_id":135067290,"body_markdown":"@Holger I think one problem I&#39;m running into is that the JAR file that I&#39;m analyzing does not contain all of the dependencies (i.e. imports etc). So, when I call load for the class I&#39;m interested in (the annotated class), the classloader is complaining that it can&#39;t find the classes referenced by the imports. I&#39;m not guaranteed to be parsing a JAR with all dependencies (fat jar). So I may have to rethink my plugin?","body":"@Holger I think one problem I&#39;m running into is that the JAR file that I&#39;m analyzing does not contain all of the dependencies (i.e. imports etc). So, when I call load for the class I&#39;m interested in (the annotated class), the classloader is complaining that it can&#39;t find the classes referenced by the imports. I&#39;m not guaranteed to be parsing a JAR with all dependencies (fat jar). So I may have to rethink my plugin?"}],"owner":{"account_id":1179355,"reputation":4521,"user_id":1154644,"accept_rate":52,"display_name":"user1154644"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687964663,"creation_date":1687960651,"question_id":76573904,"body_markdown":"I have a Maven Plugin that processes some custom annotations.\r\n\r\nThe plugin uses the Reflections API as follows:\r\n\r\n    ConfigurationBuilder cb = new ConfigurationBuilder()\r\n                              .addClassLoaders(urlClassLoader)\r\n                              .addURLs(urls)\r\n                              .forPackages(packages)\r\n                              .addScanners(Scanners.TypesAnnotated);\r\n    Reflections reflections = new Reflections(cb);\r\n\r\nThe URLClassLoader is generated based on the JAR file that contains the classes I am inspecting, same with the urls.\r\n\r\nThe problem is when I try to actually load the classes.\r\n\r\nThis method call returns the names of the classes that are annotated\r\n\r\n    Set&lt;String&gt; classNames = reflections.get(Scanners.TypesAnnotated.with(MyAnnotation.class));\r\n\r\nThis method call returns an empty Set\r\n\r\n    Set&lt;Class&lt;?&gt;&gt; classes = reflections.get(Scanners.TypesAnnotated.with(MyAnnotation.class).asClass());","title":"loading classes from JAR using Reflections API","body":"<p>I have a Maven Plugin that processes some custom annotations.</p>\n<p>The plugin uses the Reflections API as follows:</p>\n<pre><code>ConfigurationBuilder cb = new ConfigurationBuilder()\n                          .addClassLoaders(urlClassLoader)\n                          .addURLs(urls)\n                          .forPackages(packages)\n                          .addScanners(Scanners.TypesAnnotated);\nReflections reflections = new Reflections(cb);\n</code></pre>\n<p>The URLClassLoader is generated based on the JAR file that contains the classes I am inspecting, same with the urls.</p>\n<p>The problem is when I try to actually load the classes.</p>\n<p>This method call returns the names of the classes that are annotated</p>\n<pre><code>Set&lt;String&gt; classNames = reflections.get(Scanners.TypesAnnotated.with(MyAnnotation.class));\n</code></pre>\n<p>This method call returns an empty Set</p>\n<pre><code>Set&lt;Class&lt;?&gt;&gt; classes = reflections.get(Scanners.TypesAnnotated.with(MyAnnotation.class).asClass());\n</code></pre>\n"},{"tags":["java","image","path","bufferedimage"],"answers":[{"tags":[],"owner":{"account_id":15648333,"reputation":79,"user_id":11290144,"display_name":"Alice Turner"},"down_vote_count":2,"up_vote_count":0,"is_accepted":true,"score":-2,"last_activity_date":1560017167,"creation_date":1560017167,"answer_id":56508957,"question_id":56497869,"body_markdown":"The solution was to set the project up correctly.\r\n\r\n**Step 1:** Press Ctrl + Shift + P\r\n\r\n**Step 2:** Type Java\r\n\r\n**Step 3:** Select Java: Create Java Project\r\n\r\n**Step 4:** Name project\r\n\r\nThis will build a standard blank Java project for use.","title":"VSCode getResource cannot find the resource","body":"<p>The solution was to set the project up correctly.</p>\n\n<p><strong>Step 1:</strong> Press Ctrl + Shift + P</p>\n\n<p><strong>Step 2:</strong> Type Java</p>\n\n<p><strong>Step 3:</strong> Select Java: Create Java Project</p>\n\n<p><strong>Step 4:</strong> Name project</p>\n\n<p>This will build a standard blank Java project for use.</p>\n"},{"tags":[],"owner":{"account_id":27786809,"reputation":1,"user_id":21214088,"display_name":"Nathnael Dereje"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687963410,"creation_date":1687963410,"answer_id":76574298,"question_id":56497869,"body_markdown":"I faced the same problem building 2d games in java. I couldn&#39;t find a way around. VSCODE settings are annoying. But finally I found this solution. I tried building a `netbeans` or `eclipse` for that matter. Then after that I coded using VSCODE and It worked just fine and now It is getting the resources.\r\n\r\n---\r\nFor this case if you have already started coding on your project start a new project using `netbeans` or `eclipse` and copy paste configuration folders and files at the same relative location to your new project. Not a professional answer but it worked for me.\r\n\r\nI copied:\r\n- `nbproject` folder : copied the full folder into the vscode project. Then edited the files in it a little bit, not that much but things like names of project.\r\n- `build.xml` file:\r\n- `manifest.mf` file:\r\n","title":"VSCode getResource cannot find the resource","body":"<p>I faced the same problem building 2d games in java. I couldn't find a way around. VSCODE settings are annoying. But finally I found this solution. I tried building a <code>netbeans</code> or <code>eclipse</code> for that matter. Then after that I coded using VSCODE and It worked just fine and now It is getting the resources.</p>\n<hr />\n<p>For this case if you have already started coding on your project start a new project using <code>netbeans</code> or <code>eclipse</code> and copy paste configuration folders and files at the same relative location to your new project. Not a professional answer but it worked for me.</p>\n<p>I copied:</p>\n<ul>\n<li><code>nbproject</code> folder : copied the full folder into the vscode project. Then edited the files in it a little bit, not that much but things like names of project.</li>\n<li><code>build.xml</code> file:</li>\n<li><code>manifest.mf</code> file:</li>\n</ul>\n"}],"owner":{"account_id":15648333,"reputation":79,"user_id":11290144,"display_name":"Alice Turner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2420,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":56508957,"answer_count":2,"score":2,"last_activity_date":1687963410,"creation_date":1559923557,"question_id":56497869,"body_markdown":"I am trying to load a Sprite file in to a game from a tutorial.\r\n\r\nThe tutorial is built in Eclipse and the person uses the IDE settings to add a resource folder allowing him to use getResource().\r\n\r\nI am using VSCode, VSCode misses the .classpath path file in which the setting seems to of been placed. VSCode doesn&#39;t have a settings option for setting a Java Resource Directory.\r\n\r\nI wish to be able to use getResource(&quot;directory/file.png&quot;)\r\n\r\nI have tried adding a .classpath file and inputting the resources directory and results were the same.\r\n\r\nI have tried loading it in different ways nothing is working.\r\n\r\n    package n0ngames.SandboxRPG.graphics;\r\n\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.IOException;\r\n\r\n    import javax.imageio.ImageIO;\r\n\r\n    public class SpriteSheet {\r\n        private String path = null;\r\n        public final int SIZE;\r\n\r\n        public int[] pixels = null;\r\n\r\n        public static SpriteSheet tiles = null;\r\n\r\n        public SpriteSheet(String _path, int size) {\r\n            this.path = _path;\r\n            this.SIZE = size;\r\n            this.pixels = new int[size * size];\r\n\r\n            load();\r\n\r\n            tiles = new SpriteSheet(&quot;C:/dev/SandboxRPG/res/textures/spritesheet.png&quot;, 256);\r\n        }\r\n\r\n        private void load() {\r\n            try {\r\n                BufferedImage image = ImageIO.read(SpriteSheet.class.getResource(path));\r\n                int w = image.getWidth();\r\n                int h = image.getHeight();\r\n\r\n                image.getRGB(0, 0, w, h, pixels, 0, w);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nThe offending line is this one `BufferedImage image = ImageIO.read(SpriteSheet.class.getResource(path));` the `getResource(path)` isn&#39;t working.\r\n\r\nI would assume there is a way to get this line working as if VSCode couldn&#39;t it would be a large language feature missing form the Java language while using VSCode, so there must be a way.\r\n\r\nCan anyone explain how to get this line to work correctly?","title":"VSCode getResource cannot find the resource","body":"<p>I am trying to load a Sprite file in to a game from a tutorial.</p>\n\n<p>The tutorial is built in Eclipse and the person uses the IDE settings to add a resource folder allowing him to use getResource().</p>\n\n<p>I am using VSCode, VSCode misses the .classpath path file in which the setting seems to of been placed. VSCode doesn't have a settings option for setting a Java Resource Directory.</p>\n\n<p>I wish to be able to use getResource(\"directory/file.png\")</p>\n\n<p>I have tried adding a .classpath file and inputting the resources directory and results were the same.</p>\n\n<p>I have tried loading it in different ways nothing is working.</p>\n\n<pre><code>package n0ngames.SandboxRPG.graphics;\n\nimport java.awt.image.BufferedImage;\nimport java.io.IOException;\n\nimport javax.imageio.ImageIO;\n\npublic class SpriteSheet {\n    private String path = null;\n    public final int SIZE;\n\n    public int[] pixels = null;\n\n    public static SpriteSheet tiles = null;\n\n    public SpriteSheet(String _path, int size) {\n        this.path = _path;\n        this.SIZE = size;\n        this.pixels = new int[size * size];\n\n        load();\n\n        tiles = new SpriteSheet(\"C:/dev/SandboxRPG/res/textures/spritesheet.png\", 256);\n    }\n\n    private void load() {\n        try {\n            BufferedImage image = ImageIO.read(SpriteSheet.class.getResource(path));\n            int w = image.getWidth();\n            int h = image.getHeight();\n\n            image.getRGB(0, 0, w, h, pixels, 0, w);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>The offending line is this one <code>BufferedImage image = ImageIO.read(SpriteSheet.class.getResource(path));</code> the <code>getResource(path)</code> isn't working.</p>\n\n<p>I would assume there is a way to get this line working as if VSCode couldn't it would be a large language feature missing form the Java language while using VSCode, so there must be a way.</p>\n\n<p>Can anyone explain how to get this line to work correctly?</p>\n"},{"tags":["java","pdf","itext"],"owner":{"account_id":23207499,"reputation":49,"user_id":17301498,"display_name":"Mario Rovelli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687963070,"creation_date":1687963070,"question_id":76574254,"body_markdown":"I&#39;ve this cose with iText 5\r\n\r\n```\r\n        \tPdfWriter writer = PdfWriter.getInstance(doc, new FileOutputStream(&quot;/Users/mac02/Desktop/AnchorDemo.pdf&quot;));\r\n            doc.open();\r\n            String content = &quot;Text: &quot;;\r\n            Paragraph paragraph = new Paragraph(content);\r\n            // Creates a new anchor that link to external website\r\n            // and add this anchor to the paragraph.\r\n            Anchor anchor = new Anchor(&quot;Examples&quot;);\r\n            anchor.setReference(&quot;https://www.google.it/&quot;);\r\n            paragraph.add(anchor);\r\n```\r\nThis write text at the top of the page of pdf. How can i write at a certain position of the page?\r\n\r\nThanks\r\n\r\n\r\n","title":"iText - Anchor at position","body":"<p>I've this cose with iText 5</p>\n<pre><code>            PdfWriter writer = PdfWriter.getInstance(doc, new FileOutputStream(&quot;/Users/mac02/Desktop/AnchorDemo.pdf&quot;));\n            doc.open();\n            String content = &quot;Text: &quot;;\n            Paragraph paragraph = new Paragraph(content);\n            // Creates a new anchor that link to external website\n            // and add this anchor to the paragraph.\n            Anchor anchor = new Anchor(&quot;Examples&quot;);\n            anchor.setReference(&quot;https://www.google.it/&quot;);\n            paragraph.add(anchor);\n</code></pre>\n<p>This write text at the top of the page of pdf. How can i write at a certain position of the page?</p>\n<p>Thanks</p>\n"},{"tags":["java","windows"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1687961118,"post_id":76573758,"comment_id":135010248,"body_markdown":"No there isn&#39;t a way to do that using `Files.copy`.","body":"No there isn&#39;t a way to do that using <code>Files.copy</code>."},{"owner":{"display_name":"user21296068"},"score":0,"creation_date":1687961299,"post_id":76573758,"comment_id":135010307,"body_markdown":"That is unfortunate, thanks. I&#39;ll have to decide then if I should remove the speed, or use a different way, even if it is slower.","body":"That is unfortunate, thanks. I&#39;ll have to decide then if I should remove the speed, or use a different way, even if it is slower."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687963062,"creation_date":1687962306,"answer_id":76574146,"question_id":76573758,"body_markdown":"No there isn&#39;t a way to do that using Files.copy.\r\n\r\n1.  The Files.copy API doesn&#39;t provide any way to monitor the transfer.\r\n\r\n2.  In some cases (e.g. on UNIX / Linux / MacOS) the copying may be done using the `sendfile` syscall.  The copy is performed in kernel space so there is no buffer that could be monitored&lt;sup&gt;1&lt;/sup&gt;.  This is so-called &quot;zero copy&quot; I/O.\r\n\r\nThe use of the `sendfile` syscall is a large part of what makes the `Files.copy` a lot faster than using `InputStream` and `OutputStream` and buffers.  As they say ... you can&#39;t have your cake and eat it.\r\n\r\n---------------\r\n\r\n&lt;sup&gt;1 ... even if you were willing and able to use reflection to break class abstraction, etc.&lt;/sup&gt;","title":"Java copy speed using NIO Files.copy()","body":"<p>No there isn't a way to do that using Files.copy.</p>\n<ol>\n<li><p>The Files.copy API doesn't provide any way to monitor the transfer.</p>\n</li>\n<li><p>In some cases (e.g. on UNIX / Linux / MacOS) the copying may be done using the <code>sendfile</code> syscall.  The copy is performed in kernel space so there is no buffer that could be monitored<sup>1</sup>.  This is so-called &quot;zero copy&quot; I/O.</p>\n</li>\n</ol>\n<p>The use of the <code>sendfile</code> syscall is a large part of what makes the <code>Files.copy</code> a lot faster than using <code>InputStream</code> and <code>OutputStream</code> and buffers.  As they say ... you can't have your cake and eat it.</p>\n<hr />\n<p><sup>1 ... even if you were willing and able to use reflection to break class abstraction, etc.</sup></p>\n"}],"owner":{"display_name":"user21296068"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76574146,"answer_count":1,"score":0,"last_activity_date":1687963062,"creation_date":1687959615,"question_id":76573758,"body_markdown":"When using **Files.copy(Path, Path, CopyOption...)** is there a way to tell the speed at which the file is being copied? I was thinking that I would check the size of the target each second and do the math new - old size, but this function is allocating the whole size from the start on disk, so this would return no change. I could use **InputStream/OutputStream** and that way I can easily do the math from buffer, but **Files.copy** is faster.","title":"Java copy speed using NIO Files.copy()","body":"<p>When using <strong>Files.copy(Path, Path, CopyOption...)</strong> is there a way to tell the speed at which the file is being copied? I was thinking that I would check the size of the target each second and do the math new - old size, but this function is allocating the whole size from the start on disk, so this would return no change. I could use <strong>InputStream/OutputStream</strong> and that way I can easily do the math from buffer, but <strong>Files.copy</strong> is faster.</p>\n"},{"tags":["java","flutter","kotlin","dart","gradle"],"answers":[{"tags":[],"owner":{"account_id":6235682,"reputation":758,"user_id":4851073,"accept_rate":35,"display_name":"Javierd98"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1669545744,"creation_date":1669545744,"answer_id":74589294,"question_id":74576677,"body_markdown":"I was having the same error, and as it states the problem seems to be that that specific version of the transcoder lib is not available on maven or google repos.\r\n\r\nWith a rapid google search I found [this][1] webpage which shows that it&#39;s available on the jcenter repository. So, just by adding `jcenter()` to the android/build.gradle file I was able to solve the issue. It should be looks similar to this:\r\n```\r\nallprojects {\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n        jcenter()\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nHope it helps!\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/com.otaliastudios/transcoder/0.9.1","title":"Flutter gradle Build failed with an exception. &gt; Could not find com.otaliastudios:transcoder:0.9.1","body":"<p>I was having the same error, and as it states the problem seems to be that that specific version of the transcoder lib is not available on maven or google repos.</p>\n<p>With a rapid google search I found <a href=\"https://mvnrepository.com/artifact/com.otaliastudios/transcoder/0.9.1\" rel=\"noreferrer\">this</a> webpage which shows that it's available on the jcenter repository. So, just by adding <code>jcenter()</code> to the android/build.gradle file I was able to solve the issue. It should be looks similar to this:</p>\n<pre><code>allprojects {\n    repositories {\n        google()\n        mavenCentral()\n        jcenter()\n    }\n}\n</code></pre>\n<p>Hope it helps!</p>\n"},{"tags":[],"owner":{"account_id":17645425,"reputation":12764,"user_id":12806961,"display_name":"Code on the Rocks"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1677356416,"creation_date":1677356416,"answer_id":75568184,"question_id":74576677,"body_markdown":"Use version 3.1.1. Remember to remove the ^ in your dependency line.\r\n```\r\nvideo_compress: 3.1.1\r\n```\r\nhttps://github.com/jonataslaw/VideoCompress/issues/207#issuecomment-1327373676","title":"Flutter gradle Build failed with an exception. &gt; Could not find com.otaliastudios:transcoder:0.9.1","body":"<p>Use version 3.1.1. Remember to remove the ^ in your dependency line.</p>\n<pre><code>video_compress: 3.1.1\n</code></pre>\n<p><a href=\"https://github.com/jonataslaw/VideoCompress/issues/207#issuecomment-1327373676\" rel=\"nofollow noreferrer\">https://github.com/jonataslaw/VideoCompress/issues/207#issuecomment-1327373676</a></p>\n"},{"tags":[],"owner":{"account_id":20344507,"reputation":1,"user_id":14922840,"display_name":"Kaushik Ghori"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687962935,"creation_date":1687857526,"answer_id":76563386,"question_id":74576677,"body_markdown":"Add this one in `app/build.gradle` :\r\n\r\n```groovy\r\ndependencies {\r\n.../\r\nimplementation &#39;com.otaliastudios:transcoder:0.10.5&#39;\r\n}\r\n```","title":"Flutter gradle Build failed with an exception. &gt; Could not find com.otaliastudios:transcoder:0.9.1","body":"<p>Add this one in <code>app/build.gradle</code> :</p>\n<pre><code>dependencies {\n.../\nimplementation 'com.otaliastudios:transcoder:0.10.5'\n}\n</code></pre>\n"}],"owner":{"account_id":17874214,"reputation":41,"user_id":12984726,"display_name":"Mustafa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2017,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1687962935,"creation_date":1669400669,"question_id":74576677,"body_markdown":"Hi when i try to run my app on android emulator i get the following error, \r\n\r\niam using video_compress 3.1.2 dependency for my project , \r\n\r\nIt works on ios emulator but gradle gives this error i couldn&#39;t figure it out\r\n\r\ni found this link on maven repositories but I couldn&#39;t find how to use it\r\n\r\nhttps://mvnrepository.com/artifact/com.otaliastudios/transcoder/0.9.1\r\n\r\n```\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:app:mergeDebugAssets&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:app:debugRuntimeClasspath&#39;.\r\n   &gt; Could not find com.otaliastudios:transcoder:0.9.1.\r\n     Searched in the following locations:\r\n       - https://dl.google.com/dl/android/maven2/com/otaliastudios/transcoder/0.9.1/transcoder-0.9.1.pom\r\n       - https://repo.maven.apache.org/maven2/com/otaliastudios/transcoder/0.9.1/transcoder-0.9.1.pom\r\n       - https://storage.googleapis.com/download.flutter.io/com/otaliastudios/transcoder/0.9.1/transcoder-0.9.1.pom\r\n     Required by:\r\n         project :app &gt; project :video_compress\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUİLD FAILED in 20s\r\nException: Gradle task assembleDebug failed with exit code 1\r\nExited\r\n```\r\n\r\n---Gradle kotlin----\r\n// https://mvnrepository.com/artifact/com.otaliastudios/transcoder\r\nimplementation(&quot;com.otaliastudios:transcoder:0.9.1&quot;)\r\n\r\nI put this dependency in the build.gradle file under the android -&gt; app, but I couldn&#39;t run it.\r\n\r\nlike this--\r\n\r\n```\r\n\r\ndependencies {\r\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\r\n    implementation platform(&#39;com.google.firebase:firebase-bom:31.0.2&#39;)\r\n    implementation(&quot;com.otaliastudios:transcoder:0.9.1&quot;) //------------------------&gt;new added\r\n}\r\n```\r\n","title":"Flutter gradle Build failed with an exception. &gt; Could not find com.otaliastudios:transcoder:0.9.1","body":"<p>Hi when i try to run my app on android emulator i get the following error,</p>\n<p>iam using video_compress 3.1.2 dependency for my project ,</p>\n<p>It works on ios emulator but gradle gives this error i couldn't figure it out</p>\n<p>i found this link on maven repositories but I couldn't find how to use it</p>\n<p><a href=\"https://mvnrepository.com/artifact/com.otaliastudios/transcoder/0.9.1\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.otaliastudios/transcoder/0.9.1</a></p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:mergeDebugAssets'.\n&gt; Could not resolve all files for configuration ':app:debugRuntimeClasspath'.\n   &gt; Could not find com.otaliastudios:transcoder:0.9.1.\n     Searched in the following locations:\n       - https://dl.google.com/dl/android/maven2/com/otaliastudios/transcoder/0.9.1/transcoder-0.9.1.pom\n       - https://repo.maven.apache.org/maven2/com/otaliastudios/transcoder/0.9.1/transcoder-0.9.1.pom\n       - https://storage.googleapis.com/download.flutter.io/com/otaliastudios/transcoder/0.9.1/transcoder-0.9.1.pom\n     Required by:\n         project :app &gt; project :video_compress\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUİLD FAILED in 20s\nException: Gradle task assembleDebug failed with exit code 1\nExited\n</code></pre>\n<p>---Gradle kotlin----\n// <a href=\"https://mvnrepository.com/artifact/com.otaliastudios/transcoder\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.otaliastudios/transcoder</a>\nimplementation(&quot;com.otaliastudios:transcoder:0.9.1&quot;)</p>\n<p>I put this dependency in the build.gradle file under the android -&gt; app, but I couldn't run it.</p>\n<p>like this--</p>\n<pre><code>\ndependencies {\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\n    implementation platform('com.google.firebase:firebase-bom:31.0.2')\n    implementation(&quot;com.otaliastudios:transcoder:0.9.1&quot;) //------------------------&gt;new added\n}\n</code></pre>\n"},{"tags":["java","split","line-separator"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1687727663,"post_id":76552425,"comment_id":134973332,"body_markdown":"As per the [ask], please [**do not** post images of code, data, error message, etc](https://meta.stackoverflow.com/questions/285551). Instead, copy or type the text into your question, [formatted as code](https://meta.stackoverflow.com/questions/251361#251362). Reserve the use of images for diagrams or demonstrating rendering bugs; things that are impossible to describe accurately via text.","body":"As per the <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>, please <a href=\"https://meta.stackoverflow.com/questions/285551\"><b>do not</b> post images of code, data, error message, etc</a>. Instead, copy or type the text into your question, <a href=\"https://meta.stackoverflow.com/questions/251361#251362\">formatted as code</a>. Reserve the use of images for diagrams or demonstrating rendering bugs; things that are impossible to describe accurately via text."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687728087,"post_id":76552425,"comment_id":134973373,"body_markdown":"You&#39;re trying to get all the numbers into an array. Why `String[]` (and not `Integer[]` or `int[]`) ?btw","body":"You&#39;re trying to get all the numbers into an array. Why <code>String[]</code> (and not <code>Integer[]</code> or <code>int[]</code>) ?btw"}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687731915,"creation_date":1687727773,"answer_id":76552442,"question_id":76552425,"body_markdown":"Use `\\R` to match (any) system line separator:\r\n\r\n    String[] values = str.split(&quot;\\\\R|,&quot;);\r\n\r\nSee [live demo][1].\r\n\r\nNote: `\\R` doesn&#39;t work within a character class.\r\n\r\n---\r\n\r\nIf you want the values as an array or `int`:\r\n\r\n    int[] ints = Arrays.stream(str.split(&quot;\\\\R|,&quot;))\r\n      .mapToInt(Integer::parseInt)\r\n      .toArray();\r\n\r\n\r\n  [1]: https://ideone.com/AuYz0N","title":"How do I split a string in Java with System.lineseparator AND commas?","body":"<p>Use <code>\\R</code> to match (any) system line separator:</p>\n<pre><code>String[] values = str.split(&quot;\\\\R|,&quot;);\n</code></pre>\n<p>See <a href=\"https://ideone.com/AuYz0N\" rel=\"nofollow noreferrer\">live demo</a>.</p>\n<p>Note: <code>\\R</code> doesn't work within a character class.</p>\n<hr />\n<p>If you want the values as an array or <code>int</code>:</p>\n<pre><code>int[] ints = Arrays.stream(str.split(&quot;\\\\R|,&quot;))\n  .mapToInt(Integer::parseInt)\n  .toArray();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687750811,"creation_date":1687729479,"answer_id":76552529,"question_id":76552425,"body_markdown":"You can use the _[String#replaceAll](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#replaceAll(java.lang.String,java.lang.String))_ method to remove the line separators, first.\r\n\r\nThe following pattern should be sufficient to remove the _[new-line delimiters](https://en.wikipedia.org/wiki/Newline#Representation)_.\r\n\r\n```none\r\n(?:\\r\\n?|\\n)+\r\n```\r\n\r\nHere is an example.\r\n\r\n```java\r\nString string = &quot;1,2,3&quot; + System.lineSeparator() + &quot;4,5,6&quot;;\r\nString[] strings = string.replaceAll(&quot;(?:\\\\r\\\\n?|\\\\n)+&quot;, &quot;,&quot;).split(&quot;,&quot;);\r\nSystem.out.println(Arrays.toString(strings));\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n[1, 2, 3, 4, 5, 6]\r\n```","title":"How do I split a string in Java with System.lineseparator AND commas?","body":"<p>You can use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#replaceAll(java.lang.String,java.lang.String)\" rel=\"nofollow noreferrer\">String#replaceAll</a></em> method to remove the line separators, first.</p>\n<p>The following pattern should be sufficient to remove the <em><a href=\"https://en.wikipedia.org/wiki/Newline#Representation\" rel=\"nofollow noreferrer\">new-line delimiters</a></em>.</p>\n<pre class=\"lang-none prettyprint-override\"><code>(?:\\r\\n?|\\n)+\n</code></pre>\n<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String string = &quot;1,2,3&quot; + System.lineSeparator() + &quot;4,5,6&quot;;\nString[] strings = string.replaceAll(&quot;(?:\\\\r\\\\n?|\\\\n)+&quot;, &quot;,&quot;).split(&quot;,&quot;);\nSystem.out.println(Arrays.toString(strings));\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>[1, 2, 3, 4, 5, 6]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687729654,"creation_date":1687729654,"answer_id":76552537,"question_id":76552425,"body_markdown":"A variant on @Bohemian, using `Scanner` from file:\r\n\r\n```\r\nimport java.nio.file.*;\r\nimport java.util.*;\r\n\r\npublic class Nums {\r\n    public static void main(String[] args) {\r\n        try (Scanner s = new Scanner(Files.newBufferedReader(Path.of(&quot;numbers.txt&quot;)))) {\r\n                s.useDelimiter(&quot;[,\\r\\n]&quot;);\r\n                String[] numbers = s.tokens().\r\n                map(String::trim).\r\n                toArray(String[]::new);\r\n            System.out.println(Arrays.toString(numbers));\r\n        }\r\n        catch(Throwable t) {\r\n            t.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```","title":"How do I split a string in Java with System.lineseparator AND commas?","body":"<p>A variant on @Bohemian, using <code>Scanner</code> from file:</p>\n<pre><code>import java.nio.file.*;\nimport java.util.*;\n\npublic class Nums {\n    public static void main(String[] args) {\n        try (Scanner s = new Scanner(Files.newBufferedReader(Path.of(&quot;numbers.txt&quot;)))) {\n                s.useDelimiter(&quot;[,\\r\\n]&quot;);\n                String[] numbers = s.tokens().\n                map(String::trim).\n                toArray(String[]::new);\n            System.out.println(Arrays.toString(numbers));\n        }\n        catch(Throwable t) {\n            t.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687962784,"creation_date":1687737798,"answer_id":76552864,"question_id":76552425,"body_markdown":"Assuming you want to use them as `ints`, you can split on white space while also splitting on a comma and the line separator.\r\n```\r\n    String s = &quot;&quot;&quot;\r\n9,4, 11, 2, 40, 17,11,20,9,20, 15,13, 19, 35,12,14, 13,1, 0,20,9, 1\r\n40,29, 40, 25, 30, 12, 31, 27,39,7,37,15,31,1,26, 36,36, 35,30, 5, 24\r\n25, 9, 20,31, 18, 11, 33,22, 39,40, 4, 23,34, 13, 16, 19, 22,3, 36, 2 \r\n18,23,16,2, 28,0, 9,15, 5,22, 35, 40,2,14,18, 33, 22,16,12, 35, 37,38,2\r\n0,24, 29,37, 13,3, 9,18,39, 8,24,9,1,39,22,2, 27, 38,5, 38, 6, 11,13,10 \r\n31,25,22, 16,2, 1,25, 26,30, 10, 36, 18,33,31, 27, 30,25, 12, 5,5,2, 35\r\n7,7,36,16, 33,12,34, 19, 29, 40,5,7\r\n&quot;&quot;&quot;;\r\n\r\nString[] stringArray = s.split(&quot;\\\\R|[\\\\s,]+&quot;);       \r\nint count = 1;\r\nfor (String str : stringArray) {\r\n    System.out.print(str + &quot; &quot; );\r\n    if (count % 20 == 0) {\r\n        System.out.println();\r\n    }\r\n    count++;\r\n}\r\n```\r\nprints no more than 20 per line to avoid horizontal scrolling.\r\n```\r\n9 4 11 2 40 17 11 20 9 20 15 13 19 35 12 14 13 1 0 20 \r\n9 1 40 29 40 25 30 12 31 27 39 7 37 15 31 1 26 36 36 35 \r\n30 5 24 25 9 20 31 18 11 33 22 39 40 4 23 34 13 16 19 22 \r\n3 36 2 18 23 16 2 28 0 9 15 5 22 35 40 2 14 18 33 22 \r\n16 12 35 37 38 2 0 24 29 37 13 3 9 18 39 8 24 9 1 39 \r\n22 2 27 38 5 38 6 11 13 10 31 25 22 16 2 1 25 26 30 10 \r\n36 18 33 31 27 30 25 12 5 5 2 35 7 7 36 16 33 12 34 19 \r\n29 40 5 7 \r\n```\r\nIf you want to convert them to an `int` array, do it like so.  Note you need to eliminate white space to avoid a `NumberFormatException`.\r\n```\r\nint[] intArray = Arrays.stream(s.split(&quot;\\\\R|[\\\\s,]+&quot;))\r\n                .mapToInt(Integer::parseInt).toArray();","title":"How do I split a string in Java with System.lineseparator AND commas?","body":"<p>Assuming you want to use them as <code>ints</code>, you can split on white space while also splitting on a comma and the line separator.</p>\n<pre><code>    String s = &quot;&quot;&quot;\n9,4, 11, 2, 40, 17,11,20,9,20, 15,13, 19, 35,12,14, 13,1, 0,20,9, 1\n40,29, 40, 25, 30, 12, 31, 27,39,7,37,15,31,1,26, 36,36, 35,30, 5, 24\n25, 9, 20,31, 18, 11, 33,22, 39,40, 4, 23,34, 13, 16, 19, 22,3, 36, 2 \n18,23,16,2, 28,0, 9,15, 5,22, 35, 40,2,14,18, 33, 22,16,12, 35, 37,38,2\n0,24, 29,37, 13,3, 9,18,39, 8,24,9,1,39,22,2, 27, 38,5, 38, 6, 11,13,10 \n31,25,22, 16,2, 1,25, 26,30, 10, 36, 18,33,31, 27, 30,25, 12, 5,5,2, 35\n7,7,36,16, 33,12,34, 19, 29, 40,5,7\n&quot;&quot;&quot;;\n\nString[] stringArray = s.split(&quot;\\\\R|[\\\\s,]+&quot;);       \nint count = 1;\nfor (String str : stringArray) {\n    System.out.print(str + &quot; &quot; );\n    if (count % 20 == 0) {\n        System.out.println();\n    }\n    count++;\n}\n</code></pre>\n<p>prints no more than 20 per line to avoid horizontal scrolling.</p>\n<pre><code>9 4 11 2 40 17 11 20 9 20 15 13 19 35 12 14 13 1 0 20 \n9 1 40 29 40 25 30 12 31 27 39 7 37 15 31 1 26 36 36 35 \n30 5 24 25 9 20 31 18 11 33 22 39 40 4 23 34 13 16 19 22 \n3 36 2 18 23 16 2 28 0 9 15 5 22 35 40 2 14 18 33 22 \n16 12 35 37 38 2 0 24 29 37 13 3 9 18 39 8 24 9 1 39 \n22 2 27 38 5 38 6 11 13 10 31 25 22 16 2 1 25 26 30 10 \n36 18 33 31 27 30 25 12 5 5 2 35 7 7 36 16 33 12 34 19 \n29 40 5 7 \n</code></pre>\n<p>If you want to convert them to an <code>int</code> array, do it like so.  Note you need to eliminate white space to avoid a <code>NumberFormatException</code>.</p>\n<pre><code>int[] intArray = Arrays.stream(s.split(&quot;\\\\R|[\\\\s,]+&quot;))\n                .mapToInt(Integer::parseInt).toArray();\n</code></pre>\n"}],"owner":{"account_id":28893544,"reputation":3,"user_id":22130111,"display_name":"A_J"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76552864,"answer_count":4,"score":-1,"last_activity_date":1687962784,"creation_date":1687727475,"question_id":76552425,"body_markdown":"I have a file of integers, similar to the following:\r\n```\r\n9,4, 11, 2, 40, 17,11,20,9,20, 15,13, 19, 35,12,14, 13,1, 0,20,9, 1\r\n40,29, 40, 25, 30, 12, 31, 27,39,7,37,15,31,1,26, 36,36, 35,30, 5, 24\r\n25, 9, 20,31, 18, 11, 33,22, 39,40, 4, 23,34, 13, 16, 19, 22,3, 36, 2 \r\n18,23,16,2, 28,0, 9,15, 5,22, 35, 40,2,14,18, 33, 22,16,12, 35, 37,38,2\r\n0,24, 29,37, 13,3, 9,18,39, 8,24,9,1,39,22,2, 27, 38,5, 38, 6, 11,13,10 \r\n31,25,22, 16,2, 1,25, 26,30, 10, 36, 18,33,31, 27, 30,25, 12, 5,5,2, 35\r\n7,7,36,16, 33,12,34, 19, 29, 40,5,7\r\n``` \r\nThe integers are separated by commas and the rows are separated by the System.lineseparator().\r\n\r\nThe TextFile is converted into a string by the use of the readFile method. Now I would like to convert that string into a 1D array of strings of the integer values.\r\n\r\n However, when I split the string by commas (&quot;,&quot;) I loose the values at the end of a row as they are not separated by commas but by the lineseparator. How can I solve this problem?\r\n\r\nI tried to separate it only by commas, as I thought that the lineseparator gets automatically read by the split. However, this is not the case. Also Java does not allow to split a string twice. ","title":"How do I split a string in Java with System.lineseparator AND commas?","body":"<p>I have a file of integers, similar to the following:</p>\n<pre><code>9,4, 11, 2, 40, 17,11,20,9,20, 15,13, 19, 35,12,14, 13,1, 0,20,9, 1\n40,29, 40, 25, 30, 12, 31, 27,39,7,37,15,31,1,26, 36,36, 35,30, 5, 24\n25, 9, 20,31, 18, 11, 33,22, 39,40, 4, 23,34, 13, 16, 19, 22,3, 36, 2 \n18,23,16,2, 28,0, 9,15, 5,22, 35, 40,2,14,18, 33, 22,16,12, 35, 37,38,2\n0,24, 29,37, 13,3, 9,18,39, 8,24,9,1,39,22,2, 27, 38,5, 38, 6, 11,13,10 \n31,25,22, 16,2, 1,25, 26,30, 10, 36, 18,33,31, 27, 30,25, 12, 5,5,2, 35\n7,7,36,16, 33,12,34, 19, 29, 40,5,7\n</code></pre>\n<p>The integers are separated by commas and the rows are separated by the System.lineseparator().</p>\n<p>The TextFile is converted into a string by the use of the readFile method. Now I would like to convert that string into a 1D array of strings of the integer values.</p>\n<p>However, when I split the string by commas (&quot;,&quot;) I loose the values at the end of a row as they are not separated by commas but by the lineseparator. How can I solve this problem?</p>\n<p>I tried to separate it only by commas, as I thought that the lineseparator gets automatically read by the split. However, this is not the case. Also Java does not allow to split a string twice.</p>\n"},{"tags":["java","mocking"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1687911155,"post_id":76568873,"comment_id":135002478,"body_markdown":"Are you trying to inject a mock `Player` into `game` or a real one? The title makes it sound like you want a mock, but the code in the question makes it look like you want a real one. Please edit the question to clarify.","body":"Are you trying to inject a mock <code>Player</code> into <code>game</code> or a real one? The title makes it sound like you want a mock, but the code in the question makes it look like you want a real one. Please edit the question to clarify."},{"owner":{"account_id":990443,"reputation":5575,"user_id":1007922,"accept_rate":52,"display_name":"kane"},"score":0,"creation_date":1687918229,"post_id":76568873,"comment_id":135003023,"body_markdown":"Sorry, that was confusing. I updated the title. I want to inject a real `Player` object into `game`","body":"Sorry, that was confusing. I updated the title. I want to inject a real <code>Player</code> object into <code>game</code>"}],"answers":[{"tags":[],"owner":{"account_id":6857935,"reputation":1648,"user_id":5272951,"display_name":"Dumbo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687935245,"creation_date":1687935245,"answer_id":76570720,"question_id":76568873,"body_markdown":"# Mocked object injection\r\nIf you want to use mocked `Player` in tests you should use `@Mock` and `@InjectMocks`.  \r\nSuggestion to add `@ExtendWith(MockitoExtension.class)` which has built in method call `MockitoAnnotations.initMocks(this);` in `@BeforeEach` method.\r\n```java\r\n@ExtendWith(MockitoExtension.class)\r\nclass GameTest {\r\n\r\n  @Mock\r\n  private Player player;\r\n\r\n  @InjectMocks\r\n  private Game game;\r\n  \r\n  @Test\r\n  void getPlayer() {\r\n    when(player.getPlayer()).thenReturn(&quot;player1&quot;);\r\n    var gamePlayer = game.getPlayer();\r\n    assertEquals(&quot;player1&quot;, gamePlayer);\r\n  }\r\n\r\n}\r\n```\r\n---\r\n# Real object injection\r\nReal object injection has nothing with mockito. Mockito framework is used to mock objects to test unit, not full flow.\r\n**How to use real object - depends on used framework**.  \r\n# Spring\r\n```java\r\n@ExtendWith(SpringExtension.class)\r\n@ContextConfiguration(classes = {Tool.class, Player.class})\r\nclass GameTest {\r\n\r\n  @Inject\r\n  private Game game;\r\n\r\n  @Test\r\n  void getPlayer() {\r\n    var gamePlayer = game.getPlayer();\r\n    assertEquals(&quot;player1&quot;, gamePlayer);\r\n  }\r\n\r\n}\r\n```\r\n\r\n# Spring-boot\r\n```java\r\n@SpringBootTest\r\nclass GameTest {\r\n\r\n  @Autowired\r\n  private Game game;\r\n\r\n  @Test\r\n  void getPlayer() {\r\n    var gamePlayer = game.getPlayer();\r\n    assertEquals(&quot;player1&quot;, gamePlayer);\r\n  }\r\n\r\n}\r\n```\r\n\r\n# No framework\r\n```java\r\nclass GameTest {\r\n\r\n  private Game game;\r\n\r\n  @BeforeEach\r\n  void setUp() {\r\n    var tool = new Tool();\r\n    var player = new Player(tool);\r\n    game = new Game(player);\r\n  }\r\n\r\n  @Test\r\n  void getPlayer() {\r\n    var gamePlayer = game.getPlayer();\r\n    assertEquals(&quot;player1&quot;, gamePlayer);\r\n  }\r\n}\r\n```","title":"How to inject an object that is annotated with @InjectMock","body":"<h1>Mocked object injection</h1>\n<p>If you want to use mocked <code>Player</code> in tests you should use <code>@Mock</code> and <code>@InjectMocks</code>.<br />\nSuggestion to add <code>@ExtendWith(MockitoExtension.class)</code> which has built in method call <code>MockitoAnnotations.initMocks(this);</code> in <code>@BeforeEach</code> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(MockitoExtension.class)\nclass GameTest {\n\n  @Mock\n  private Player player;\n\n  @InjectMocks\n  private Game game;\n  \n  @Test\n  void getPlayer() {\n    when(player.getPlayer()).thenReturn(&quot;player1&quot;);\n    var gamePlayer = game.getPlayer();\n    assertEquals(&quot;player1&quot;, gamePlayer);\n  }\n\n}\n</code></pre>\n<hr />\n<h1>Real object injection</h1>\n<p>Real object injection has nothing with mockito. Mockito framework is used to mock objects to test unit, not full flow.\n<strong>How to use real object - depends on used framework</strong>.</p>\n<h1>Spring</h1>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(SpringExtension.class)\n@ContextConfiguration(classes = {Tool.class, Player.class})\nclass GameTest {\n\n  @Inject\n  private Game game;\n\n  @Test\n  void getPlayer() {\n    var gamePlayer = game.getPlayer();\n    assertEquals(&quot;player1&quot;, gamePlayer);\n  }\n\n}\n</code></pre>\n<h1>Spring-boot</h1>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest\nclass GameTest {\n\n  @Autowired\n  private Game game;\n\n  @Test\n  void getPlayer() {\n    var gamePlayer = game.getPlayer();\n    assertEquals(&quot;player1&quot;, gamePlayer);\n  }\n\n}\n</code></pre>\n<h1>No framework</h1>\n<pre class=\"lang-java prettyprint-override\"><code>class GameTest {\n\n  private Game game;\n\n  @BeforeEach\n  void setUp() {\n    var tool = new Tool();\n    var player = new Player(tool);\n    game = new Game(player);\n  }\n\n  @Test\n  void getPlayer() {\n    var gamePlayer = game.getPlayer();\n    assertEquals(&quot;player1&quot;, gamePlayer);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687962369,"creation_date":1687962369,"answer_id":76574157,"question_id":76568873,"body_markdown":"It seems you have tests design issue instead of how to inject your dependencies. The purpose of a unit test is to isolate and test at the best case, one functionality or one class. Here you have to isolate your Game test and test it only.\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    class GameTest {\r\n    \r\n      @Mock\r\n      private Player player;\r\n    \r\n      @InjectMocks\r\n      private Game game;\r\n      \r\n      @Test\r\n      void testGetPlayer() {\r\n        when(player.getPlayer()).thenReturn(&quot;player&quot;);\r\n        var gamePlayer = game.getPlayer();\r\n        assertEquals(&quot;player&quot;, gamePlayer);\r\n      }\r\n    }\r\n\r\nWe use `@InjectMocks` for the class `undertest`, so here `Game`. Apply separation of concerns here.","title":"How to inject an object that is annotated with @InjectMock","body":"<p>It seems you have tests design issue instead of how to inject your dependencies. The purpose of a unit test is to isolate and test at the best case, one functionality or one class. Here you have to isolate your Game test and test it only.</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass GameTest {\n\n  @Mock\n  private Player player;\n\n  @InjectMocks\n  private Game game;\n  \n  @Test\n  void testGetPlayer() {\n    when(player.getPlayer()).thenReturn(&quot;player&quot;);\n    var gamePlayer = game.getPlayer();\n    assertEquals(&quot;player&quot;, gamePlayer);\n  }\n}\n</code></pre>\n<p>We use <code>@InjectMocks</code> for the class <code>undertest</code>, so here <code>Game</code>. Apply separation of concerns here.</p>\n"}],"owner":{"account_id":990443,"reputation":5575,"user_id":1007922,"accept_rate":52,"display_name":"kane"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687962369,"creation_date":1687902760,"question_id":76568873,"body_markdown":"Suppose I have the following code\r\n\r\n    class Player {\r\n      @Inject\r\n      Player(Tool tool) ...\r\n    }\r\n\r\n    class Game {\r\n      @Inject\r\n      Game(Player player) ...\r\n    }\r\n\r\n    @Mock Tool tool;\r\n\r\n    @InjectMocks Player player;\r\n\r\n\r\nHow would I automatically inject `Player` into `Game`?\r\n\r\nIdeally I&#39;d like to just do\r\n\r\n    @InjectMocks Game game;\r\n\r\nBut seems I need to\r\n\r\n    @BeforeEach\r\n    void setup() {\r\n      game = new Game(player);\r\n    }","title":"How to inject an object that is annotated with @InjectMock","body":"<p>Suppose I have the following code</p>\n<pre><code>class Player {\n  @Inject\n  Player(Tool tool) ...\n}\n\nclass Game {\n  @Inject\n  Game(Player player) ...\n}\n\n@Mock Tool tool;\n\n@InjectMocks Player player;\n</code></pre>\n<p>How would I automatically inject <code>Player</code> into <code>Game</code>?</p>\n<p>Ideally I'd like to just do</p>\n<pre><code>@InjectMocks Game game;\n</code></pre>\n<p>But seems I need to</p>\n<pre><code>@BeforeEach\nvoid setup() {\n  game = new Game(player);\n}\n</code></pre>\n"},{"tags":["java","keyevent","awtrobot"],"owner":{"account_id":28797647,"reputation":1,"user_id":22055423,"display_name":"Double"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687962292,"creation_date":1687962292,"question_id":76574145,"body_markdown":"I am trying to make a Macro class that will execute macro&#39;s and I&#39;ve run into a little problem where I don&#39;t know how to Manipulate the Media keys. there is a Robot.Keyevent.VK_PAUSE but this doesn&#39;t actually do anything.\r\n\r\nI am wondering how I could just press the media keys So i can put them in a macro.\r\n\r\nI am working with gradle, and I haven&#39;t found an implementation yet that could fix this for me.\r\n\r\n```\r\nimport java.awt.*;\r\nimport java.awt.event.KeyEvent;\r\nimport java.io.IOException;\r\n\r\npublic class Macros {\r\n    private static Robot robot;\r\n\r\n\r\n    protected Macros() throws AWTException {\r\n        robot = new Robot();\r\n    }\r\n\r\n    public static void cameraChange() {\r\n        robot.delay(1000);\r\n        robot.keyPress(17); // Ctrl\r\n        robot.keyPress(16); // Shift\r\n        robot.keyPress(33); // Page Up\r\n        robot.delay(500);\r\n        robot.keyRelease(17); // Release Ctrl\r\n        robot.keyRelease(16); // Release Shift\r\n        robot.keyRelease(33); // Release Page Up\r\n    }\r\n\r\n    public static void cameraDelay(){\r\n        robot.keyPress(17);   // Ctrl\r\n        robot.keyPress(18);   // Alt\r\n        robot.keyPress(91);   // Left Bracket\r\n        robot.delay(500);\r\n        robot.keyRelease(91); // Release Left Bracket\r\n        robot.keyRelease(18); // Release Alt\r\n        robot.keyRelease(17); // Release Ctrl\r\n    }\r\n\r\n    public static void switchDisplayRight() {\r\n        robot.keyPress(17);    // Ctrl\r\n        robot.keyPress(524);   // Windows\r\n        robot.keyPress(39);    // Arrow Right\r\n        robot.delay(500);\r\n        robot.keyRelease(39);  // Release Arrow Right\r\n        robot.keyRelease(524); // Release Windows\r\n        robot.keyRelease(17);  // Release Ctrl\r\n    }\r\n\r\n    public static void switchDisplayLeft(){\r\n        robot.keyPress(17);    // Ctrl\r\n        robot.keyPress(524);   // Windows\r\n        robot.keyPress(37);    // Arrow Left\r\n        robot.delay(500);\r\n        robot.keyRelease(37);  // Release Arrow Left\r\n        robot.keyRelease(524); // Release Windows\r\n        robot.keyRelease(17);  // Release Ctrl\r\n    }\r\n\r\n    public static void logOff() {\r\n        String shutdownCmd = &quot;rundll32.exe user32.dll,LockWorkStation&quot;;\r\n        try {\r\n            Process child = Runtime.getRuntime().exec(shutdownCmd);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    public static void pausePlayMedia() {\r\n        //key press for media keys. \r\n    }\r\n\r\n}\r\n```\r\n\r\nI tried Using media keys from .bat files like I use Logoff but there is no way to do that.","title":"Macros for media keys in Java","body":"<p>I am trying to make a Macro class that will execute macro's and I've run into a little problem where I don't know how to Manipulate the Media keys. there is a Robot.Keyevent.VK_PAUSE but this doesn't actually do anything.</p>\n<p>I am wondering how I could just press the media keys So i can put them in a macro.</p>\n<p>I am working with gradle, and I haven't found an implementation yet that could fix this for me.</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.KeyEvent;\nimport java.io.IOException;\n\npublic class Macros {\n    private static Robot robot;\n\n\n    protected Macros() throws AWTException {\n        robot = new Robot();\n    }\n\n    public static void cameraChange() {\n        robot.delay(1000);\n        robot.keyPress(17); // Ctrl\n        robot.keyPress(16); // Shift\n        robot.keyPress(33); // Page Up\n        robot.delay(500);\n        robot.keyRelease(17); // Release Ctrl\n        robot.keyRelease(16); // Release Shift\n        robot.keyRelease(33); // Release Page Up\n    }\n\n    public static void cameraDelay(){\n        robot.keyPress(17);   // Ctrl\n        robot.keyPress(18);   // Alt\n        robot.keyPress(91);   // Left Bracket\n        robot.delay(500);\n        robot.keyRelease(91); // Release Left Bracket\n        robot.keyRelease(18); // Release Alt\n        robot.keyRelease(17); // Release Ctrl\n    }\n\n    public static void switchDisplayRight() {\n        robot.keyPress(17);    // Ctrl\n        robot.keyPress(524);   // Windows\n        robot.keyPress(39);    // Arrow Right\n        robot.delay(500);\n        robot.keyRelease(39);  // Release Arrow Right\n        robot.keyRelease(524); // Release Windows\n        robot.keyRelease(17);  // Release Ctrl\n    }\n\n    public static void switchDisplayLeft(){\n        robot.keyPress(17);    // Ctrl\n        robot.keyPress(524);   // Windows\n        robot.keyPress(37);    // Arrow Left\n        robot.delay(500);\n        robot.keyRelease(37);  // Release Arrow Left\n        robot.keyRelease(524); // Release Windows\n        robot.keyRelease(17);  // Release Ctrl\n    }\n\n    public static void logOff() {\n        String shutdownCmd = &quot;rundll32.exe user32.dll,LockWorkStation&quot;;\n        try {\n            Process child = Runtime.getRuntime().exec(shutdownCmd);\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    public static void pausePlayMedia() {\n        //key press for media keys. \n    }\n\n}\n</code></pre>\n<p>I tried Using media keys from .bat files like I use Logoff but there is no way to do that.</p>\n"},{"tags":["java","java-8","ubuntu-14.04"],"comments":[{"owner":{"account_id":1854924,"reputation":4600,"user_id":1680728,"accept_rate":56,"display_name":"Felix"},"score":0,"creation_date":1472711789,"post_id":39263819,"comment_id":65863684,"body_markdown":"Kiran I think you are better off asking in a ubuntu related &#39;channel&#39; (askubuntu.com).","body":"Kiran I think you are better off asking in a ubuntu related &#39;channel&#39; (askubuntu.com)."}],"answers":[{"tags":[],"owner":{"account_id":1114060,"reputation":1976,"user_id":2723001,"accept_rate":62,"display_name":"Alexiy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1472710810,"creation_date":1472710810,"answer_id":39263996,"question_id":39263819,"body_markdown":"You can edit file `/etc/profile` with sudo and add following lines at the end:\r\n\r\n    export JAVA_HOME=&quot;/path/to/java/folder&quot;\r\n    export PATH=$JAVA_HOME/bin:$PATH\r\nMy example:\r\n\r\n    export JAVA_HOME=&quot;/usr/lib/jvm/java-8-oracle&quot;\r\n    export PATH=$JAVA_HOME/bin:$PATH\r\n\r\nThen save the file, and enter `source /etc/profile` in the terminal. Then relaunch the terminal and check the version again.","title":"How to configure Java 1.8 in Ubuntu 14.04?","body":"<p>You can edit file <code>/etc/profile</code> with sudo and add following lines at the end:</p>\n\n<pre><code>export JAVA_HOME=\"/path/to/java/folder\"\nexport PATH=$JAVA_HOME/bin:$PATH\n</code></pre>\n\n<p>My example:</p>\n\n<pre><code>export JAVA_HOME=\"/usr/lib/jvm/java-8-oracle\"\nexport PATH=$JAVA_HOME/bin:$PATH\n</code></pre>\n\n<p>Then save the file, and enter <code>source /etc/profile</code> in the terminal. Then relaunch the terminal and check the version again.</p>\n"},{"tags":[],"owner":{"account_id":8860912,"reputation":4843,"user_id":6617152,"display_name":"Ramachandran.A.G"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1472710877,"creation_date":1472710877,"answer_id":39264012,"question_id":39263819,"body_markdown":"Kiran , you will have to set the right alternatives once you install the Oracle JDK. A very detailed explanation of it is available [here][1]. The alternatives can be listed as \r\n\r\n    sudo update-alternatives --config java \r\n\r\nyou can then choose the JDK of choice\r\n\r\nThe Path that you have right now points to the Open JDK. You may have to edit your .bash files and add the path to the Oracle JDK binaries as well\r\n\r\n\r\n  [1]: https://www.digitalocean.com/community/tutorials/how-to-install-java-with-apt-get-on-ubuntu-16-04\r\n","title":"How to configure Java 1.8 in Ubuntu 14.04?","body":"<p>Kiran , you will have to set the right alternatives once you install the Oracle JDK. A very detailed explanation of it is available <a href=\"https://www.digitalocean.com/community/tutorials/how-to-install-java-with-apt-get-on-ubuntu-16-04\" rel=\"nofollow\">here</a>. The alternatives can be listed as </p>\n\n<pre><code>sudo update-alternatives --config java \n</code></pre>\n\n<p>you can then choose the JDK of choice</p>\n\n<p>The Path that you have right now points to the Open JDK. You may have to edit your .bash files and add the path to the Oracle JDK binaries as well</p>\n"},{"tags":[],"owner":{"account_id":28912795,"reputation":1,"user_id":22145420,"display_name":"ravi sagar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687962270,"creation_date":1687961807,"answer_id":76574079,"question_id":39263819,"body_markdown":"1. Download jdk from oracle https://www.oracle.com/in/java/technologies/javase/javase8-archive-downloads.html\r\n\r\n2. extract downloaded jdk file jdk-8u271-linux-x64.tar.gz :-\r\n\r\n#tar -xvf jdk-8u271-linux-x64.tar.gz -C /usr/local\r\n\r\n3. configure java manually:- \r\n\r\n#update-alternatives --install /usr/bin/java java /usr/local/jdk1.8.0_271/bin/java 100\r\n\r\n#update-alternatives --install /usr/bin/javac javac /usr/local/jdk1.8.0_271/bin/javac 100\r\n\r\ngive any number to your java i.e 100 above command\r\n\r\n4. switch to your java version:-\r\n\r\n#update-alternatives --config java\r\n\r\n\r\nselect number according to your java version and press enter\r\n\r\nNote: * mean this version currently set or default set\r\n\r\nsame command use if you installed by yum or rpm package\r\n\r\ncheck java version:-\r\n\r\n#java -version\r\n\r\n5. Java home path configure in linux:-\r\n\r\n#vim ~/.bashrc\r\n\r\nexport JAVA_HOME=/usr/local/jdk1.8.0_271\r\n\r\nexport PATH=$JAVA_HOME/bin:$PATH\r\n\r\nsave with :wq!\r\n\r\n#source ~/.bashrc    \r\n\r\nnow check path\r\n\r\n#echo $JAVA_HOME\r\n\r\ncomplete demo:- https://www.youtube.com/watch?v=-v-Zbu6wEkw&amp;list=PL5gKsZrSyQQIBNOTLGedvzlKLD9hKoTmS&amp;index=3","title":"How to configure Java 1.8 in Ubuntu 14.04?","body":"<ol>\n<li><p>Download jdk from oracle <a href=\"https://www.oracle.com/in/java/technologies/javase/javase8-archive-downloads.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/in/java/technologies/javase/javase8-archive-downloads.html</a></p>\n</li>\n<li><p>extract downloaded jdk file jdk-8u271-linux-x64.tar.gz :-</p>\n</li>\n</ol>\n<p>#tar -xvf jdk-8u271-linux-x64.tar.gz -C /usr/local</p>\n<ol start=\"3\">\n<li>configure java manually:-</li>\n</ol>\n<p>#update-alternatives --install /usr/bin/java java /usr/local/jdk1.8.0_271/bin/java 100</p>\n<p>#update-alternatives --install /usr/bin/javac javac /usr/local/jdk1.8.0_271/bin/javac 100</p>\n<p>give any number to your java i.e 100 above command</p>\n<ol start=\"4\">\n<li>switch to your java version:-</li>\n</ol>\n<p>#update-alternatives --config java</p>\n<p>select number according to your java version and press enter</p>\n<p>Note: * mean this version currently set or default set</p>\n<p>same command use if you installed by yum or rpm package</p>\n<p>check java version:-</p>\n<p>#java -version</p>\n<ol start=\"5\">\n<li>Java home path configure in linux:-</li>\n</ol>\n<p>#vim ~/.bashrc</p>\n<p>export JAVA_HOME=/usr/local/jdk1.8.0_271</p>\n<p>export PATH=$JAVA_HOME/bin:$PATH</p>\n<p>save with :wq!</p>\n<p>#source ~/.bashrc</p>\n<p>now check path</p>\n<p>#echo $JAVA_HOME</p>\n<p>complete demo:- <a href=\"https://www.youtube.com/watch?v=-v-Zbu6wEkw&amp;list=PL5gKsZrSyQQIBNOTLGedvzlKLD9hKoTmS&amp;index=3\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=-v-Zbu6wEkw&amp;list=PL5gKsZrSyQQIBNOTLGedvzlKLD9hKoTmS&amp;index=3</a></p>\n"}],"owner":{"account_id":7708376,"reputation":1062,"user_id":5838619,"accept_rate":26,"display_name":"Jaccs"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1589,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1687962270,"creation_date":1472710132,"question_id":39263819,"body_markdown":"I downloaded the java latest version from http://www.oracle.com/technetwork/java/javase/downloads/index.html this site for Linux 64-bit. I installed default-jdk, now when i run \r\n$java -version \r\nthis command i got \r\n\r\n    java version &quot;1.7.0_111&quot;\r\n    OpenJDK Runtime Environment (IcedTea 2.6.7) (7u111-2.6.7-0ubuntu0.14.04.3)\r\n    OpenJDK 64-Bit Server VM (build 24.111-b01, mixed mode)\r\n\r\nNow i would like to configure java what i have downloaded.\r\nIs it possible to configure manually to the latest version?\r\n\r\nThanks &amp; Regards\r\n\r\n","title":"How to configure Java 1.8 in Ubuntu 14.04?","body":"<p>I downloaded the java latest version from <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/index.html\" rel=\"nofollow\">http://www.oracle.com/technetwork/java/javase/downloads/index.html</a> this site for Linux 64-bit. I installed default-jdk, now when i run \n$java -version \nthis command i got </p>\n\n<pre><code>java version \"1.7.0_111\"\nOpenJDK Runtime Environment (IcedTea 2.6.7) (7u111-2.6.7-0ubuntu0.14.04.3)\nOpenJDK 64-Bit Server VM (build 24.111-b01, mixed mode)\n</code></pre>\n\n<p>Now i would like to configure java what i have downloaded.\nIs it possible to configure manually to the latest version?</p>\n\n<p>Thanks &amp; Regards</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1687961989,"post_id":76573059,"comment_id":135010494,"body_markdown":"Please add the **full stacktrace** instead of a snippet.","body":"Please add the <b>full stacktrace</b> instead of a snippet."}],"owner":{"account_id":23540670,"reputation":11,"user_id":17584913,"display_name":"lulzeR"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687961974,"creation_date":1687954337,"question_id":76573059,"body_markdown":"here is the code , where I changed \r\n```\r\n.oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt)\r\n``` \r\nwith this \r\n```\r\n.oauth2ResourceServer((oauth2) -&gt; oauth2.jwt(Customizer.withDefaults()))\r\n``` \r\nbecause first one was deprecated  \r\n```\r\n@Bean\r\npublic SecurityFilterChain security(HttpSecurity http) throws Exception {\r\n        return http.\r\n                csrf(AbstractHttpConfigurer::disable)\r\n                .authorizeHttpRequests(auth -&gt; auth\r\n                        .anyRequest().authenticated()\r\n                )\r\n                .oauth2ResourceServer((oauth2) -&gt; oauth2.jwt(Customizer.withDefaults()))\r\n                .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n                .httpBasic(withDefaults())\r\n                .build();\r\n    }\r\n```\r\n\r\n**but i am getting an error**\r\n\r\n    Error starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n    2023-06-28T21:04:52.508+09:00 ERROR 29616 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration&#39;: Unsatisfied dependency expressed through method &#39;setFilterChains&#39; parameter 0: Error creating bean with name &#39;security&#39; defined in class path resource [com/example/webbackend/Config/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method &#39;security&#39; threw exception with message: org/springframework/security/oauth2/server/resource/web/BearerTokenResolver\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:818) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:770) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\r\n","title":"getting &#39;Unsatisfied dependency expressed through method&#39; in Spring security while trying to secure APIs jwt","body":"<p>here is the code , where I changed</p>\n<pre><code>.oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt)\n</code></pre>\n<p>with this</p>\n<pre><code>.oauth2ResourceServer((oauth2) -&gt; oauth2.jwt(Customizer.withDefaults()))\n</code></pre>\n<p>because first one was deprecated</p>\n<pre><code>@Bean\npublic SecurityFilterChain security(HttpSecurity http) throws Exception {\n        return http.\n                csrf(AbstractHttpConfigurer::disable)\n                .authorizeHttpRequests(auth -&gt; auth\n                        .anyRequest().authenticated()\n                )\n                .oauth2ResourceServer((oauth2) -&gt; oauth2.jwt(Customizer.withDefaults()))\n                .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n                .httpBasic(withDefaults())\n                .build();\n    }\n</code></pre>\n<p><strong>but i am getting an error</strong></p>\n<pre><code>Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-06-28T21:04:52.508+09:00 ERROR 29616 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'security' defined in class path resource [com/example/webbackend/Config/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'security' threw exception with message: org/springframework/security/oauth2/server/resource/web/BearerTokenResolver\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:818) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:770) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133) ~[spring-beans-6.0.9.jar:6.0.9]\n</code></pre>\n"},{"tags":["java","openapi-generator"],"answers":[{"tags":[],"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687961346,"creation_date":1687961346,"answer_id":76574007,"question_id":76572007,"body_markdown":"What you are looking for is [templating][1].  The pom that is generated by the `java` generator depends on which library you have specified in your generation command.  Since you are using the `webclient`, [this template][2] is used (*Note*: you can also get this and all the other templates using the cli command `openapi-generator author template -g java --library webclient`). You can copy the `pom.mustache` template into your own templates folder, add the necessary new dependencies, and then add the template folder to your generator command.\r\n\r\nIn order to add the template folder to your generator, you will need to add the `-t` flag to your generation command, and then specify the directory location of the new template.  For example, `-t ~/.openapi-generator/templates/Java` would use the Java folder, inside the templates folder, inside the `.openapi-generator` folder.\r\n\r\n\r\n  [1]: https://github.com/OpenAPITools/openapi-generator/blob/master/docs/templating.md\r\n  [2]: https://github.com/OpenAPITools/openapi-generator/blob/master/modules/openapi-generator/src/main/resources/Java/libraries/webclient/pom.mustache","title":"Using my own model library in openapi generated client","body":"<p>What you are looking for is <a href=\"https://github.com/OpenAPITools/openapi-generator/blob/master/docs/templating.md\" rel=\"nofollow noreferrer\">templating</a>.  The pom that is generated by the <code>java</code> generator depends on which library you have specified in your generation command.  Since you are using the <code>webclient</code>, <a href=\"https://github.com/OpenAPITools/openapi-generator/blob/master/modules/openapi-generator/src/main/resources/Java/libraries/webclient/pom.mustache\" rel=\"nofollow noreferrer\">this template</a> is used (<em>Note</em>: you can also get this and all the other templates using the cli command <code>openapi-generator author template -g java --library webclient</code>). You can copy the <code>pom.mustache</code> template into your own templates folder, add the necessary new dependencies, and then add the template folder to your generator command.</p>\n<p>In order to add the template folder to your generator, you will need to add the <code>-t</code> flag to your generation command, and then specify the directory location of the new template.  For example, <code>-t ~/.openapi-generator/templates/Java</code> would use the Java folder, inside the templates folder, inside the <code>.openapi-generator</code> folder.</p>\n"}],"owner":{"account_id":3624611,"reputation":458,"user_id":3022586,"accept_rate":100,"display_name":"CptWasp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":329,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76574007,"answer_count":1,"score":0,"last_activity_date":1687961651,"creation_date":1687946018,"question_id":76572007,"body_markdown":"I have a Java user-service microservice composed of two sub-modules, one for the API itself (springboot, exposing the controllers) and one for the model (java library containing all the model classes: User, Company...).\r\nThe model library is used by other consumer microservices as a dependency.\r\nI&#39;m trying to use an openapi generated client to consume the user-service.\r\nI generated the Java client with this command line:\r\n\r\n    openapi-generator generate -i openapi.yaml \\\r\n      -o ./generated_client/  \\\r\n      -g java  \\\r\n      --additional-properties=library=webclient\r\n\r\nbut I see that a full new model has been generated inside the client. I want instead that my model library is used. I see that import mappings can be specified, so I tried the following command line:\r\n\r\n    openapi-generator generate -i openapi.yaml \\\r\n      -o ./generated_client/ \\ \r\n      -g java \\\r\n      --import-mappings User=com.mypackage.userservice.model.entity.user.User \\\r\n      --additional-properties=library=webclient\r\n\r\nNow the import is correct: the correct User class is used in generated code.\r\n\r\n**The problem is that now the generated POM is missing a dependency... What should I do now to be able to compile and build the generated code?**\r\n\r\nI need to &quot;point&quot; to the model library inside the POM... but I don&#39;t think that manually modifying the POM would be correct. Is there a way to instruct openapi-generator to add the needed external dependency to the generated POM?\r\n\r\n*Update:*\r\n\r\n*I&#39;m trying to resolve the dependency setting a parent pom... but the parent POM can&#39;t be the model library itself, because its packaging is &quot;jar&quot;...* \r\n\r\n    openapi-generator generate -i openapi.yaml \\\r\n      -o ./generated_client/ \\ \r\n      -g java \\ \r\n      --import-mappings=User=com.package.userservice.model.entity.user.User \\\r\n      --additional-properties=library=webclient,groupId=com.package,parentArtifactId=user-service-pom,parentGroupId=com.package,parentVersion=1.87.182\r\n\r\n\r\n\r\n\r\n\r\n","title":"Using my own model library in openapi generated client","body":"<p>I have a Java user-service microservice composed of two sub-modules, one for the API itself (springboot, exposing the controllers) and one for the model (java library containing all the model classes: User, Company...).\nThe model library is used by other consumer microservices as a dependency.\nI'm trying to use an openapi generated client to consume the user-service.\nI generated the Java client with this command line:</p>\n<pre><code>openapi-generator generate -i openapi.yaml \\\n  -o ./generated_client/  \\\n  -g java  \\\n  --additional-properties=library=webclient\n</code></pre>\n<p>but I see that a full new model has been generated inside the client. I want instead that my model library is used. I see that import mappings can be specified, so I tried the following command line:</p>\n<pre><code>openapi-generator generate -i openapi.yaml \\\n  -o ./generated_client/ \\ \n  -g java \\\n  --import-mappings User=com.mypackage.userservice.model.entity.user.User \\\n  --additional-properties=library=webclient\n</code></pre>\n<p>Now the import is correct: the correct User class is used in generated code.</p>\n<p><strong>The problem is that now the generated POM is missing a dependency... What should I do now to be able to compile and build the generated code?</strong></p>\n<p>I need to &quot;point&quot; to the model library inside the POM... but I don't think that manually modifying the POM would be correct. Is there a way to instruct openapi-generator to add the needed external dependency to the generated POM?</p>\n<p><em>Update:</em></p>\n<p><em>I'm trying to resolve the dependency setting a parent pom... but the parent POM can't be the model library itself, because its packaging is &quot;jar&quot;...</em></p>\n<pre><code>openapi-generator generate -i openapi.yaml \\\n  -o ./generated_client/ \\ \n  -g java \\ \n  --import-mappings=User=com.package.userservice.model.entity.user.User \\\n  --additional-properties=library=webclient,groupId=com.package,parentArtifactId=user-service-pom,parentGroupId=com.package,parentVersion=1.87.182\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1678668868,"post_id":75717252,"comment_id":133573110,"body_markdown":"Android uses code names for each version of Android. &#39;UpsideDownCake&#39; is for Android U which is still in beta. Check your targetSDK settings and library dependences in gradle (avoid the alpha for now). And if you are including source from a third-party library, check that it is the release version.","body":"Android uses code names for each version of Android. &#39;UpsideDownCake&#39; is for Android U which is still in beta. Check your targetSDK settings and library dependences in gradle (avoid the alpha for now). And if you are including source from a third-party library, check that it is the release version."},{"owner":{"account_id":2345937,"reputation":3332,"user_id":2056201,"accept_rate":23,"display_name":"Mich"},"score":0,"creation_date":1678669904,"post_id":75717252,"comment_id":133573235,"body_markdown":"where exactly do I check for this? And how do I set it? I literally did not change anything in any of the settings files","body":"where exactly do I check for this? And how do I set it? I literally did not change anything in any of the settings files"},{"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1678670720,"post_id":75717252,"comment_id":133573329,"body_markdown":"Please include your `dependencies` block from your `build.gradle` file. Sounds like you have a dependency that includes a `+` that automatically upgrades the version...which is never what you want","body":"Please include your <code>dependencies</code> block from your <code>build.gradle</code> file. Sounds like you have a dependency that includes a <code>+</code> that automatically upgrades the version...which is never what you want"}],"answers":[{"tags":[],"owner":{"account_id":509308,"reputation":209,"user_id":2632842,"display_name":"zehawk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687961376,"creation_date":1687961376,"answer_id":76574017,"question_id":75717252,"body_markdown":"I had the exact same issue, suddenly out of the blue it gave me dozens of `Cannot resolve symbol X`.\r\n\r\nI did the following:\r\n1. Clean project - no impact\r\n2. Closed and reopened - no impact immediately\r\n\r\nHowever, after a few minutes, grade sync started, and took a fair amount of time and at the end of it resolved all symbols. Looking at the log I see some salient items:\r\n\r\n    2023-06-28 18:52:58,249 [      6]   INFO - #c.i.i.StartupUtil - ------------------------------------------------------ IDE STARTED ------------------------------------------------------\r\n    2023-06-28 18:53:43,834 [  45591]   INFO - #c.a.t.i.g.p.AndroidGradleProjectStartupActivity - Up-to-date models found in the cache. Not invoking Gradle sync.\r\n    2023-06-28 18:54:57,608 [ 119365]   INFO - #o.j.p.g.GradleManager - Instructing gradle to use java from C:/Program Files/Java/jdk-17.0.1\r\n    2023-06-28 18:55:00,203 [ 121960]   INFO - #o.j.a.u.ViewLoader - getPackageName: failed to find packageName for library androidx.core:core:1.9.0@aar\r\n    2023-06-28 18:55:00,203 [ 121960]   INFO - #o.j.a.u.ViewLoader - loadAndParseRClass: failed to find manifest package for project &lt;ProjectName&gt;\r\n    2023-06-28 18:55:00,323 [ 122080]   INFO - #o.j.a.u.ViewLoader - getPackageName: failed to find packageName for library androidx.core:core-ktx:1.9.0@aar\r\n    2023-06-28 18:55:00,323 [ 122080]   INFO - #o.j.a.u.ViewLoader - loadAndParseRClass: failed to find manifest package for project &lt;ProjectName&gt;\r\n    2023-06-28 18:55:00,710 [ 122467]   INFO - #o.j.a.u.ViewLoader - getPackageName: failed to find packageName for library com.google.android.material:material:1.8.0@aar\r\n    2023-06-28 18:55:00,710 [ 122467]   INFO - #o.j.a.u.ViewLoader - loadAndParseRClass: failed to find manifest package for project &lt;ProjectName&gt;\r\n    2023-06-28 18:55:00,985 [ 122742]   INFO - #o.j.a.u.ViewLoader - getPackageName: failed to find packageName for library com.google.android.gms:play-services-basement:18.1.0@aar\r\n    2023-06-28 18:55:00,986 [ 122743]   INFO - #o.j.a.u.ViewLoader - loadAndParseRClass: failed to find manifest package for project &lt;ProjectName&gt;\r\n    2023-06-28 18:55:01,675 [ 123432]   INFO - #o.j.a.u.ViewLoader - getPackageName: failed to find packageName for library com.google.android.gms:play-services-auth:20.4.1@aar\r\n    2023-06-28 18:55:01,675 [ 123432]   INFO - #o.j.a.u.ViewLoader - loadAndParseRClass: failed to find manifest package for project &lt;ProjectName&gt;\r\n    2023-06-28 18:55:01,705 [ 123462]   INFO - #o.j.a.u.ViewLoader - getPackageName: failed to find packageName for library com.google.android.gms:play-services-fido:19.0.1@aar\r\n    2023-06-28 18:55:01,705 [ 123462]   INFO - #o.j.a.u.ViewLoader - loadAndParseRClass: failed to find manifest package for project &lt;ProjectName&gt;\r\n    \r\n    ...\r\n    \r\n    2023-06-28 19:01:04,591 [      5]   INFO - #c.i.i.StartupUtil - ------------------------------------------------------ IDE STARTED ------------------------------------------------------\r\n    2023-06-28 19:01:32,269 [  27683]   INFO - #c.i.u.i.UnindexedFilesUpdater - Started scanning for indexing of &lt;ProjectName&gt;. Reason: On project open\r\n    2023-06-28 19:04:50,786 [ 226200]   INFO - #c.i.u.i.UnindexedFilesUpdater - Started scanning for indexing of &lt;ProjectName&gt;. Reason: On updated roots of library &#39;Kotlin Script dependencies&#39;\r\n    2023-06-28 19:04:57,473 [ 232887]   INFO - #c.i.u.i.UnindexedFilesUpdater - Started scanning for indexing of &lt;ProjectName&gt;. Reason: Merged changes in: &quot;Library Gradle: androidx.annotation:annotation-jvm:1.6.0&quot;, &quot;Library Gradle: org.jetbrains.kotlin:kotlin-stdlib:1.8.10&quot;, &quot;Library Gradle: org.jetbrains.kotlin:kotlin-stdlib-common:1.8.10&quot;, &quot;Library Gradle: org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.8.0&quot;, &quot;Library Gradle: org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.8.0&quot;, &quot;Library Gradle: androidx.core:core:1.10.1@aar&quot;, &quot;Library Gradle: androidx.core:core-ktx:1.10.1@aar&quot;, &quot;Library Gradle: com.google.android.material:material:1.9.0@aar&quot;, &quot;Library Gradle: com.google.android.gms:play-services-basement:18.2.0@aar&quot;, &quot;Library Gradle: com.google.android.gms:play-services-auth:20.5.0@aar&quot; and 1 iterators more with changes in: &quot;Library Gradle: androidx.arch.core:core-runtime:2.0.0@aar&quot; with changes in: &quot;Library Gradle: androidx.core:core-ktx:1.3.2@aar&quot; with changes in: &quot;Library Gradle: androidx.test.espresso:espresso-idling-resource:3.5.1@aar&quot; with changes in: &quot;Library Gradle: androidx.test:runner:1.5.2@aar&quot; with changes in: &quot;Library Gradle: androidx.test.espresso:espresso-core:3.5.1@aar&quot; with changes in: &quot;Library Gradle: androidx.test.services:storage:1.4.2@aar&quot; with changes in: &quot;Library Gradle: androidx.test:annotation:1.0.1@aar&quot; with changes in: &quot;Library Gradle: androidx.test:monitor:1.6.1@aar&quot; with changes in: &quot;Library Gradle: androidx.test:core:1.5.0@aar&quot; with changes in: &quot;Library Gradle: androidx.test.ext:junit:1.1.5@aar&quot;\r\n    2023-06-28 19:06:24,828 [ 320242]   INFO - #c.i.d.PerformanceWatcherImpl - Reindexing refreshed files of &lt;ProjectName&gt; took 76ms; general responsiveness: ok; EDT responsiveness: ok\r\n\r\n","title":"Java Android ContextCompat and ActivityCompat imports suddenly cannot be resolved","body":"<p>I had the exact same issue, suddenly out of the blue it gave me dozens of <code>Cannot resolve symbol X</code>.</p>\n<p>I did the following:</p>\n<ol>\n<li>Clean project - no impact</li>\n<li>Closed and reopened - no impact immediately</li>\n</ol>\n<p>However, after a few minutes, grade sync started, and took a fair amount of time and at the end of it resolved all symbols. Looking at the log I see some salient items:</p>\n<pre><code>2023-06-28 18:52:58,249 [      6]   INFO - #c.i.i.StartupUtil - ------------------------------------------------------ IDE STARTED ------------------------------------------------------\n2023-06-28 18:53:43,834 [  45591]   INFO - #c.a.t.i.g.p.AndroidGradleProjectStartupActivity - Up-to-date models found in the cache. Not invoking Gradle sync.\n2023-06-28 18:54:57,608 [ 119365]   INFO - #o.j.p.g.GradleManager - Instructing gradle to use java from C:/Program Files/Java/jdk-17.0.1\n2023-06-28 18:55:00,203 [ 121960]   INFO - #o.j.a.u.ViewLoader - getPackageName: failed to find packageName for library androidx.core:core:1.9.0@aar\n2023-06-28 18:55:00,203 [ 121960]   INFO - #o.j.a.u.ViewLoader - loadAndParseRClass: failed to find manifest package for project &lt;ProjectName&gt;\n2023-06-28 18:55:00,323 [ 122080]   INFO - #o.j.a.u.ViewLoader - getPackageName: failed to find packageName for library androidx.core:core-ktx:1.9.0@aar\n2023-06-28 18:55:00,323 [ 122080]   INFO - #o.j.a.u.ViewLoader - loadAndParseRClass: failed to find manifest package for project &lt;ProjectName&gt;\n2023-06-28 18:55:00,710 [ 122467]   INFO - #o.j.a.u.ViewLoader - getPackageName: failed to find packageName for library com.google.android.material:material:1.8.0@aar\n2023-06-28 18:55:00,710 [ 122467]   INFO - #o.j.a.u.ViewLoader - loadAndParseRClass: failed to find manifest package for project &lt;ProjectName&gt;\n2023-06-28 18:55:00,985 [ 122742]   INFO - #o.j.a.u.ViewLoader - getPackageName: failed to find packageName for library com.google.android.gms:play-services-basement:18.1.0@aar\n2023-06-28 18:55:00,986 [ 122743]   INFO - #o.j.a.u.ViewLoader - loadAndParseRClass: failed to find manifest package for project &lt;ProjectName&gt;\n2023-06-28 18:55:01,675 [ 123432]   INFO - #o.j.a.u.ViewLoader - getPackageName: failed to find packageName for library com.google.android.gms:play-services-auth:20.4.1@aar\n2023-06-28 18:55:01,675 [ 123432]   INFO - #o.j.a.u.ViewLoader - loadAndParseRClass: failed to find manifest package for project &lt;ProjectName&gt;\n2023-06-28 18:55:01,705 [ 123462]   INFO - #o.j.a.u.ViewLoader - getPackageName: failed to find packageName for library com.google.android.gms:play-services-fido:19.0.1@aar\n2023-06-28 18:55:01,705 [ 123462]   INFO - #o.j.a.u.ViewLoader - loadAndParseRClass: failed to find manifest package for project &lt;ProjectName&gt;\n\n...\n\n2023-06-28 19:01:04,591 [      5]   INFO - #c.i.i.StartupUtil - ------------------------------------------------------ IDE STARTED ------------------------------------------------------\n2023-06-28 19:01:32,269 [  27683]   INFO - #c.i.u.i.UnindexedFilesUpdater - Started scanning for indexing of &lt;ProjectName&gt;. Reason: On project open\n2023-06-28 19:04:50,786 [ 226200]   INFO - #c.i.u.i.UnindexedFilesUpdater - Started scanning for indexing of &lt;ProjectName&gt;. Reason: On updated roots of library 'Kotlin Script dependencies'\n2023-06-28 19:04:57,473 [ 232887]   INFO - #c.i.u.i.UnindexedFilesUpdater - Started scanning for indexing of &lt;ProjectName&gt;. Reason: Merged changes in: &quot;Library Gradle: androidx.annotation:annotation-jvm:1.6.0&quot;, &quot;Library Gradle: org.jetbrains.kotlin:kotlin-stdlib:1.8.10&quot;, &quot;Library Gradle: org.jetbrains.kotlin:kotlin-stdlib-common:1.8.10&quot;, &quot;Library Gradle: org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.8.0&quot;, &quot;Library Gradle: org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.8.0&quot;, &quot;Library Gradle: androidx.core:core:1.10.1@aar&quot;, &quot;Library Gradle: androidx.core:core-ktx:1.10.1@aar&quot;, &quot;Library Gradle: com.google.android.material:material:1.9.0@aar&quot;, &quot;Library Gradle: com.google.android.gms:play-services-basement:18.2.0@aar&quot;, &quot;Library Gradle: com.google.android.gms:play-services-auth:20.5.0@aar&quot; and 1 iterators more with changes in: &quot;Library Gradle: androidx.arch.core:core-runtime:2.0.0@aar&quot; with changes in: &quot;Library Gradle: androidx.core:core-ktx:1.3.2@aar&quot; with changes in: &quot;Library Gradle: androidx.test.espresso:espresso-idling-resource:3.5.1@aar&quot; with changes in: &quot;Library Gradle: androidx.test:runner:1.5.2@aar&quot; with changes in: &quot;Library Gradle: androidx.test.espresso:espresso-core:3.5.1@aar&quot; with changes in: &quot;Library Gradle: androidx.test.services:storage:1.4.2@aar&quot; with changes in: &quot;Library Gradle: androidx.test:annotation:1.0.1@aar&quot; with changes in: &quot;Library Gradle: androidx.test:monitor:1.6.1@aar&quot; with changes in: &quot;Library Gradle: androidx.test:core:1.5.0@aar&quot; with changes in: &quot;Library Gradle: androidx.test.ext:junit:1.1.5@aar&quot;\n2023-06-28 19:06:24,828 [ 320242]   INFO - #c.i.d.PerformanceWatcherImpl - Reindexing refreshed files of &lt;ProjectName&gt; took 76ms; general responsiveness: ok; EDT responsiveness: ok\n</code></pre>\n"}],"owner":{"account_id":2345937,"reputation":3332,"user_id":2056201,"accept_rate":23,"display_name":"Mich"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687961376,"creation_date":1678668433,"question_id":75717252,"body_markdown":"I am having an issue with a Java project that was previously working fine, until I loaded it and it cannot resolve the ActivityCompat and ContextCompat symbols all of a sudden. \r\n\r\nHow can I fix this? \r\n\r\nThere are some suggestions, `Recommended action: Use a different version of dependency &#39;androidx.core:core:1.12.0-alpha01&#39;,\r\n      or set compileSdkPreview to &quot;UpsideDownCake&quot; in your build.gradle\r\n      file if you intend to experiment with that preview SDK.\r\n`\r\nBut I didn&#39;t change anything. How do I set this, will this fix the issue, and was this caused by some kind of update?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8s9lc.png","title":"Java Android ContextCompat and ActivityCompat imports suddenly cannot be resolved","body":"<p>I am having an issue with a Java project that was previously working fine, until I loaded it and it cannot resolve the ActivityCompat and ContextCompat symbols all of a sudden.</p>\n<p>How can I fix this?</p>\n<p>There are some suggestions, <code>Recommended action: Use a different version of dependency 'androidx.core:core:1.12.0-alpha01', or set compileSdkPreview to &quot;UpsideDownCake&quot; in your build.gradle file if you intend to experiment with that preview SDK. </code>\nBut I didn't change anything. How do I set this, will this fix the issue, and was this caused by some kind of update?</p>\n<p><a href=\"https://i.stack.imgur.com/8s9lc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8s9lc.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","path","classpath"],"comments":[{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":2,"creation_date":1687962047,"post_id":76573928,"comment_id":135010513,"body_markdown":"Remove the spaces around the equal sign ...","body":"Remove the spaces around the equal sign ..."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1687962232,"post_id":76573928,"comment_id":135010559,"body_markdown":"I used to have hair. If you want to keep your hair learn this now; `set &quot;PATH=C:\\Java\\jdk1.8.0_202\\bin;%PATH%&quot;` is how you do this on Windows. Or, **better**, `set &quot;JAVA_HOME=C:\\Java\\jdk1.8.0_202&quot;` and then `set &quot;PATH=%JAVA_HOME%\\bin;%PATH%&quot;` -- because you might want to keep multiple jdk(s).","body":"I used to have hair. If you want to keep your hair learn this now; <code>set &quot;PATH=C:\\Java\\jdk1.8.0_202\\bin;%PATH%&quot;</code> is how you do this on Windows. Or, <b>better</b>, <code>set &quot;JAVA_HOME=C:\\Java\\jdk1.8.0_202&quot;</code> and then <code>set &quot;PATH=%JAVA_HOME%\\bin;%PATH%&quot;</code> -- because you might want to keep multiple jdk(s)."}],"owner":{"account_id":18335425,"reputation":29,"user_id":13352913,"display_name":"Rakibul Islam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687961161,"creation_date":1687960782,"question_id":76573928,"body_markdown":"```\r\nC:\\Windows\\System32&gt;set path = C:\\Java\\jdk1.8.0_202\\bin;\r\n\r\nC:\\Windows\\System32&gt;javac -version\r\n&#39;javac&#39; is not recognized as an internal or external command,\r\noperable program or batch file.\r\n```\r\n\r\nI don&#39;t want to set permanent path I am setting temporary java path so that I can work with different java version but the but the temporary path setting using set path is not working in my computer","title":"I don&#39;t want to set permanent path , Java temporary path set using set path command is not working","body":"<pre><code>C:\\Windows\\System32&gt;set path = C:\\Java\\jdk1.8.0_202\\bin;\n\nC:\\Windows\\System32&gt;javac -version\n'javac' is not recognized as an internal or external command,\noperable program or batch file.\n</code></pre>\n<p>I don't want to set permanent path I am setting temporary java path so that I can work with different java version but the but the temporary path setting using set path is not working in my computer</p>\n"},{"tags":["java","keycloak","freemarker","keycloak-services"],"answers":[{"tags":[],"owner":{"account_id":15433729,"reputation":92,"user_id":11134379,"display_name":"Shayan"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1600414796,"creation_date":1600414617,"answer_id":63951231,"question_id":62815811,"body_markdown":"Assuming you have created a page in your local, then run the following command from a cli:\r\n\r\n    docker cp special-number.ftl containerId:/opt/jboss/keycloak/themes/base/account\r\n\r\nContainerId will be your docker container id.\r\nIn the above example, it is going to the base themes, you can change it to wherever you want it to go.","title":"How to add custom FTL pages in Keycloak?","body":"<p>Assuming you have created a page in your local, then run the following command from a cli:</p>\n<pre><code>docker cp special-number.ftl containerId:/opt/jboss/keycloak/themes/base/account\n</code></pre>\n<p>ContainerId will be your docker container id.\nIn the above example, it is going to the base themes, you can change it to wherever you want it to go.</p>\n"},{"tags":[],"owner":{"account_id":11961317,"reputation":670,"user_id":8752286,"display_name":"Georg Moser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687960934,"creation_date":1687960934,"answer_id":76573950,"question_id":62815811,"body_markdown":"What you can do is write a Keycloak extension and implement a custom `RealmResourceProvider`:\r\n\r\nTo do so start with a `RealmResourceProviderFactory`\r\n\r\n```\r\npublic class CustomRealmResourceProviderFactory implements RealmResourceProviderFactory {\r\n\r\n    public static final String ID = &quot;my-custom-pages&quot;;\r\n\r\n    @Override\r\n    public RealmResourceProvider create(KeycloakSession keycloakSession) {\r\n        return new CustomRealmResourceProvider();\r\n    }\r\n\r\n    @Override\r\n    public void init(Config.Scope scope) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void postInit(KeycloakSessionFactory keycloakSessionFactory) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void close() {\r\n\r\n    }\r\n\r\n    @Override\r\n    public String getId() {\r\n        return ID;\r\n    }\r\n}\r\n```\r\n\r\nAnd the according `RealmResourceProvider`:\r\n\r\n```\r\npublic class CustomRealmResourceProvider implements RealmResourceProvider {\r\n\r\n\r\n\r\n    @Override\r\n    public Object getResource() {\r\n        return this;\r\n    }\r\n\r\n    @Override\r\n    public void close() {\r\n\r\n    }\r\n\r\n    @GET\r\n    @Path(&quot;mypage&quot;)\r\n    @Produces(MediaType.TEXT_HTML)\r\n    public Response getSuccessPage() {\r\n        LoginFormsProvider forms = keycloakSession.getProvider(LoginFormsProvider.class);\r\n        return forms.createForm(&quot;my-form-template.ftl&quot;);\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nCreate the freemarker template `theme-resources/templates/my-form-template.ftl`\r\n\r\n```\r\n&lt;#import &quot;template.ftl&quot; as layout&gt;\r\n&lt;@layout.registrationLayout displayInfo=true; section&gt;\r\n    &lt;#if section = &quot;header&quot;&gt;\r\n        ${msg(&quot;welcome&quot;)}\r\n    &lt;#elseif section = &quot;form&quot;&gt;\r\n     CONTENT\r\n    &lt;/#if&gt;\r\n&lt;/@layout.registrationLayout&gt;\r\n```\r\n\r\nThen add the path of the `CustomRealmResourceProviderFactory` to the following file in you project:\r\n`META-INF/services/org.keycloak.services.resource.RealmResourceProviderFactory`\r\n\r\nBuild and add as provider to your keycloak setup.\r\nYour endpoints will be available at:\r\n`/realms/{realmName}/{RealmResourceProviderId}/{path}`\r\n\r\nIn this example:\r\n`/realms/{realmName}/my-custom-pages/mypage`\r\n\r\n\r\nFor more information see: https://www.keycloak.org/docs/latest/server_development/#_extensions_rest","title":"How to add custom FTL pages in Keycloak?","body":"<p>What you can do is write a Keycloak extension and implement a custom <code>RealmResourceProvider</code>:</p>\n<p>To do so start with a <code>RealmResourceProviderFactory</code></p>\n<pre><code>public class CustomRealmResourceProviderFactory implements RealmResourceProviderFactory {\n\n    public static final String ID = &quot;my-custom-pages&quot;;\n\n    @Override\n    public RealmResourceProvider create(KeycloakSession keycloakSession) {\n        return new CustomRealmResourceProvider();\n    }\n\n    @Override\n    public void init(Config.Scope scope) {\n\n    }\n\n    @Override\n    public void postInit(KeycloakSessionFactory keycloakSessionFactory) {\n\n    }\n\n    @Override\n    public void close() {\n\n    }\n\n    @Override\n    public String getId() {\n        return ID;\n    }\n}\n</code></pre>\n<p>And the according <code>RealmResourceProvider</code>:</p>\n<pre><code>public class CustomRealmResourceProvider implements RealmResourceProvider {\n\n\n\n    @Override\n    public Object getResource() {\n        return this;\n    }\n\n    @Override\n    public void close() {\n\n    }\n\n    @GET\n    @Path(&quot;mypage&quot;)\n    @Produces(MediaType.TEXT_HTML)\n    public Response getSuccessPage() {\n        LoginFormsProvider forms = keycloakSession.getProvider(LoginFormsProvider.class);\n        return forms.createForm(&quot;my-form-template.ftl&quot;);\n    }\n\n\n}\n</code></pre>\n<p>Create the freemarker template <code>theme-resources/templates/my-form-template.ftl</code></p>\n<pre><code>&lt;#import &quot;template.ftl&quot; as layout&gt;\n&lt;@layout.registrationLayout displayInfo=true; section&gt;\n    &lt;#if section = &quot;header&quot;&gt;\n        ${msg(&quot;welcome&quot;)}\n    &lt;#elseif section = &quot;form&quot;&gt;\n     CONTENT\n    &lt;/#if&gt;\n&lt;/@layout.registrationLayout&gt;\n</code></pre>\n<p>Then add the path of the <code>CustomRealmResourceProviderFactory</code> to the following file in you project:\n<code>META-INF/services/org.keycloak.services.resource.RealmResourceProviderFactory</code></p>\n<p>Build and add as provider to your keycloak setup.\nYour endpoints will be available at:\n<code>/realms/{realmName}/{RealmResourceProviderId}/{path}</code></p>\n<p>In this example:\n<code>/realms/{realmName}/my-custom-pages/mypage</code></p>\n<p>For more information see: <a href=\"https://www.keycloak.org/docs/latest/server_development/#_extensions_rest\" rel=\"nofollow noreferrer\">https://www.keycloak.org/docs/latest/server_development/#_extensions_rest</a></p>\n"}],"owner":{"account_id":2381417,"reputation":99,"user_id":2083362,"accept_rate":78,"display_name":"Jack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1402,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1687960934,"creation_date":1594300722,"question_id":62815811,"body_markdown":"I want to add a custom FTL-page to the existing Keycloak pages.\r\nLet&#39;s call it &#39;special-number.ftl&#39; that contains a form where you can enter a number and send it to the backend. The submit button should trigger custom java code that I wrote.\r\nHow do I do this? How do I trigger a custom FTL-page to be shown and trigger some code I wrote with a click on the submit button?\r\n","title":"How to add custom FTL pages in Keycloak?","body":"<p>I want to add a custom FTL-page to the existing Keycloak pages.\nLet's call it 'special-number.ftl' that contains a form where you can enter a number and send it to the backend. The submit button should trigger custom java code that I wrote.\nHow do I do this? How do I trigger a custom FTL-page to be shown and trigger some code I wrote with a click on the submit button?</p>\n"},{"tags":["java","akka","akka-stream"],"answers":[{"tags":[],"owner":{"account_id":1260777,"reputation":11299,"user_id":1219125,"display_name":"johanandren"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687956120,"creation_date":1687956120,"answer_id":76573291,"question_id":76572918,"body_markdown":"That is probably related to that half-closed not being supported (end of input stream is reached directly after that single element). \r\n\r\nSee docs here for explanation and an example how to keep the source open but not produce any more elements and complete at a later time using `Source.maybe`: https://doc.akka.io/docs/akka-http/current/client-side/websocket-support.html#half-closed-websockets","title":"Akka streams over web socket fails to process/.receive data after successful authorise (Java)","body":"<p>That is probably related to that half-closed not being supported (end of input stream is reached directly after that single element).</p>\n<p>See docs here for explanation and an example how to keep the source open but not produce any more elements and complete at a later time using <code>Source.maybe</code>: <a href=\"https://doc.akka.io/docs/akka-http/current/client-side/websocket-support.html#half-closed-websockets\" rel=\"nofollow noreferrer\">https://doc.akka.io/docs/akka-http/current/client-side/websocket-support.html#half-closed-websockets</a></p>\n"}],"owner":{"account_id":215504,"reputation":52462,"user_id":470184,"accept_rate":91,"display_name":"blue-sky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76573291,"answer_count":1,"score":0,"last_activity_date":1687960773,"creation_date":1687953274,"question_id":76572918,"body_markdown":"I&#39;m attempting to learn about Akka web sockets using a publicly available finance stream of data, the socket authenticates but does not receive the stream of data.\r\n\r\nReading https://doc.akka.io/docs/akka-http/current/client-side/websocket-support.html I&#39;ve written :\r\n\r\n\r\n    import akka.Done;\r\n    import akka.NotUsed;\r\n    import akka.actor.ActorSystem;\r\n    import akka.http.javadsl.Http;\r\n    import akka.http.javadsl.model.ws.Message;\r\n    import akka.http.javadsl.model.ws.TextMessage;\r\n    import akka.http.javadsl.model.ws.WebSocketRequest;\r\n    import akka.stream.Materializer;\r\n    import akka.stream.SystemMaterializer;\r\n    import akka.stream.javadsl.Flow;\r\n    import akka.stream.javadsl.Sink;\r\n    import akka.stream.javadsl.Source;\r\n    \r\n    import java.util.concurrent.CompletionStage;\r\n    \r\n    public class EodHistoricalDataTest {\r\n    \r\n        public static void main(String[] args) {\r\n            final ActorSystem system = ActorSystem.create(&quot;eodhistoricaldata-example&quot;);\r\n            final Materializer materializer = SystemMaterializer.get(system).materializer();\r\n            Http http = Http.get(system);\r\n    \r\n            Sink&lt;Message, CompletionStage&lt;Done&gt;&gt; printSink =\r\n                    Sink.foreach((message) -&gt;\r\n                            System.out.println(&quot;Got message: &quot; + message.asTextMessage().getStrictText())\r\n                    );\r\n    \r\n            final String subscribeMessage = &quot;{\\&quot;action\\&quot;:\\&quot;subscribe\\&quot;,\\&quot;symbols\\&quot;:\\&quot;AMZN\\&quot; }&quot;;\r\n            \r\n            final Source&lt;Message, NotUsed&gt; initialSource = Source.single(TextMessage.create(subscribeMessage));\r\n    \r\n            final Flow&lt;Message, Message, NotUsed&gt; flow =\r\n                    Flow.fromSinkAndSource(\r\n                            printSink,  // This will print the incoming messages\r\n                            initialSource);   // This sends the subscribe message when the WebSocket connection is established\r\n    \r\n            http.singleWebSocketRequest(\r\n                    WebSocketRequest.create(&quot;wss://ws.eodhistoricaldata.com/ws/us?api_token=demo&quot;),\r\n                    flow,\r\n                    materializer);\r\n        }\r\n    }\r\n\r\nprints : \r\n\r\n    Got message: {&quot;status_code&quot;:200,&quot;message&quot;:&quot;Authorized&quot;}\r\n\r\nBut no further messages are received.\r\n\r\nThere is no issue with the web socket server as can see messages coming through : \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ti2et.png\r\n\r\nHere is a modified code sample to keep source open based on https://doc.akka.io/docs/akka-http/current/client-side/websocket-support.html#half-closed-websockets \r\n\r\n:\r\n\r\n   \r\n\r\n     public class EodHistoricalDataTest {\r\n        \r\n            public static void main(String[] args) {\r\n                final ActorSystem system = ActorSystem.create(&quot;eodhistoricaldata-example&quot;);\r\n                final Materializer materializer = SystemMaterializer.get(system).materializer();\r\n                Http http = Http.get(system);\r\n        \r\n                final Message subscribeMessage = TextMessage.create(&quot;{\\&quot;action\\&quot;:\\&quot;subscribe\\&quot;,\\&quot;symbols\\&quot;:\\&quot;AMZN\\&quot; }&quot;);  // This is the subscribe message you want to send\r\n        \r\n                Sink&lt;Message, CompletionStage&lt;Done&gt;&gt; printSink =\r\n                        Sink.foreach((message) -&gt;\r\n                                System.out.println(&quot;Got message: &quot; + message.asTextMessage().getStrictText())\r\n                        );\r\n        \r\n                final Flow&lt;Message, Message, NotUsed&gt; flow =\r\n                        Flow.fromSinkAndSource(\r\n                                printSink,  // This will print the incoming messages\r\n                                Source.single(subscribeMessage));   // This sends the subscribe message when the WebSocket connection is established\r\n        \r\n                http.singleWebSocketRequest(\r\n                        WebSocketRequest.create(&quot;wss://ws.eodhistoricaldata.com/ws/us?api_token=demo&quot;),\r\n                        flow,\r\n                        materializer);\r\n            }\r\n        }\r\n\r\nBut the result is same.","title":"Akka streams over web socket fails to process/.receive data after successful authorise (Java)","body":"<p>I'm attempting to learn about Akka web sockets using a publicly available finance stream of data, the socket authenticates but does not receive the stream of data.</p>\n<p>Reading <a href=\"https://doc.akka.io/docs/akka-http/current/client-side/websocket-support.html\" rel=\"nofollow noreferrer\">https://doc.akka.io/docs/akka-http/current/client-side/websocket-support.html</a> I've written :</p>\n<pre><code>import akka.Done;\nimport akka.NotUsed;\nimport akka.actor.ActorSystem;\nimport akka.http.javadsl.Http;\nimport akka.http.javadsl.model.ws.Message;\nimport akka.http.javadsl.model.ws.TextMessage;\nimport akka.http.javadsl.model.ws.WebSocketRequest;\nimport akka.stream.Materializer;\nimport akka.stream.SystemMaterializer;\nimport akka.stream.javadsl.Flow;\nimport akka.stream.javadsl.Sink;\nimport akka.stream.javadsl.Source;\n\nimport java.util.concurrent.CompletionStage;\n\npublic class EodHistoricalDataTest {\n\n    public static void main(String[] args) {\n        final ActorSystem system = ActorSystem.create(&quot;eodhistoricaldata-example&quot;);\n        final Materializer materializer = SystemMaterializer.get(system).materializer();\n        Http http = Http.get(system);\n\n        Sink&lt;Message, CompletionStage&lt;Done&gt;&gt; printSink =\n                Sink.foreach((message) -&gt;\n                        System.out.println(&quot;Got message: &quot; + message.asTextMessage().getStrictText())\n                );\n\n        final String subscribeMessage = &quot;{\\&quot;action\\&quot;:\\&quot;subscribe\\&quot;,\\&quot;symbols\\&quot;:\\&quot;AMZN\\&quot; }&quot;;\n        \n        final Source&lt;Message, NotUsed&gt; initialSource = Source.single(TextMessage.create(subscribeMessage));\n\n        final Flow&lt;Message, Message, NotUsed&gt; flow =\n                Flow.fromSinkAndSource(\n                        printSink,  // This will print the incoming messages\n                        initialSource);   // This sends the subscribe message when the WebSocket connection is established\n\n        http.singleWebSocketRequest(\n                WebSocketRequest.create(&quot;wss://ws.eodhistoricaldata.com/ws/us?api_token=demo&quot;),\n                flow,\n                materializer);\n    }\n}\n</code></pre>\n<p>prints :</p>\n<pre><code>Got message: {&quot;status_code&quot;:200,&quot;message&quot;:&quot;Authorized&quot;}\n</code></pre>\n<p>But no further messages are received.</p>\n<p>There is no issue with the web socket server as can see messages coming through :</p>\n<p><a href=\"https://i.stack.imgur.com/Ti2et.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ti2et.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is a modified code sample to keep source open based on <a href=\"https://doc.akka.io/docs/akka-http/current/client-side/websocket-support.html#half-closed-websockets\" rel=\"nofollow noreferrer\">https://doc.akka.io/docs/akka-http/current/client-side/websocket-support.html#half-closed-websockets</a></p>\n<p>:</p>\n<pre><code> public class EodHistoricalDataTest {\n    \n        public static void main(String[] args) {\n            final ActorSystem system = ActorSystem.create(&quot;eodhistoricaldata-example&quot;);\n            final Materializer materializer = SystemMaterializer.get(system).materializer();\n            Http http = Http.get(system);\n    \n            final Message subscribeMessage = TextMessage.create(&quot;{\\&quot;action\\&quot;:\\&quot;subscribe\\&quot;,\\&quot;symbols\\&quot;:\\&quot;AMZN\\&quot; }&quot;);  // This is the subscribe message you want to send\n    \n            Sink&lt;Message, CompletionStage&lt;Done&gt;&gt; printSink =\n                    Sink.foreach((message) -&gt;\n                            System.out.println(&quot;Got message: &quot; + message.asTextMessage().getStrictText())\n                    );\n    \n            final Flow&lt;Message, Message, NotUsed&gt; flow =\n                    Flow.fromSinkAndSource(\n                            printSink,  // This will print the incoming messages\n                            Source.single(subscribeMessage));   // This sends the subscribe message when the WebSocket connection is established\n    \n            http.singleWebSocketRequest(\n                    WebSocketRequest.create(&quot;wss://ws.eodhistoricaldata.com/ws/us?api_token=demo&quot;),\n                    flow,\n                    materializer);\n        }\n    }\n</code></pre>\n<p>But the result is same.</p>\n"},{"tags":["java","apache-spark","spark-structured-streaming","apache-spark-ml"],"answers":[{"tags":[],"owner":{"account_id":10478004,"reputation":116,"user_id":7723926,"display_name":"Hamed Heidarian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687960524,"creation_date":1675181322,"answer_id":75299932,"question_id":75259047,"body_markdown":"Finally I found out it&#39;s not possible so I switched to DStream instead of Structured Streaming","title":"Use Spark structured streaming with StreamingKMeans","body":"<p>Finally I found out it's not possible so I switched to DStream instead of Structured Streaming</p>\n"}],"owner":{"account_id":10478004,"reputation":116,"user_id":7723926,"display_name":"Hamed Heidarian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75299932,"answer_count":1,"score":1,"last_activity_date":1687960524,"creation_date":1674827547,"question_id":75259047,"body_markdown":"I want cluster a streaming dataset using Spark. I first tried to use Kmeans but it throws a runtime exception on calling fit method saying it cannot be used with streaming data:\r\n\r\n```\r\norg.apache.spark.sql.AnalysisException: Queries with streaming sources must be executed with writeStream.start();\r\n```\r\nThen I tried to use StreamingKmeans but it seams this model works only with legacy streaming in Spark and accepts DStream. Does anyone know a workaround for this or other solutions to this problem?\r\n\r\n\r\n\r\n\r\n\r\nCodes I&#39;ve written sofar is as follow:\r\n\r\n\r\n```\r\n        Dataset&lt;Row&gt; df = spark.readStream()\r\n                .format(&quot;kafka&quot;)\r\n                .option(&quot;kafka.bootstrap.servers&quot;, &quot;localhost:9092&quot;)\r\n                .option(&quot;subscribe&quot;, topic)\r\n                .load()\r\n                .selectExpr(&quot;CAST(value AS String)&quot;)\r\n                .select(functions.from_json(new Column(&quot;value&quot;), schema).as(&quot;data&quot;))\r\n                .select(&quot;data.*&quot;);\r\n\r\n        VectorAssembler assembler = new VectorAssembler()\r\n                .setInputCols(features)\r\n                .setOutputCol(&quot;features&quot;);\r\n        df = assembler.transform(df);\r\n\r\n\r\n        StreamingKMeans kmeans = new StreamingKMeans().setK(3).setDecayFactor(1.0);\r\n        StreamingKMeansModel model = kmeans.predictOn(df);\r\n```\r\nCannot resolve method &#39;predictOn(org.apache.spark.sql.Dataset&lt;org.apache.spark.sql.Row&gt;)","title":"Use Spark structured streaming with StreamingKMeans","body":"<p>I want cluster a streaming dataset using Spark. I first tried to use Kmeans but it throws a runtime exception on calling fit method saying it cannot be used with streaming data:</p>\n<pre><code>org.apache.spark.sql.AnalysisException: Queries with streaming sources must be executed with writeStream.start();\n</code></pre>\n<p>Then I tried to use StreamingKmeans but it seams this model works only with legacy streaming in Spark and accepts DStream. Does anyone know a workaround for this or other solutions to this problem?</p>\n<p>Codes I've written sofar is as follow:</p>\n<pre><code>        Dataset&lt;Row&gt; df = spark.readStream()\n                .format(&quot;kafka&quot;)\n                .option(&quot;kafka.bootstrap.servers&quot;, &quot;localhost:9092&quot;)\n                .option(&quot;subscribe&quot;, topic)\n                .load()\n                .selectExpr(&quot;CAST(value AS String)&quot;)\n                .select(functions.from_json(new Column(&quot;value&quot;), schema).as(&quot;data&quot;))\n                .select(&quot;data.*&quot;);\n\n        VectorAssembler assembler = new VectorAssembler()\n                .setInputCols(features)\n                .setOutputCol(&quot;features&quot;);\n        df = assembler.transform(df);\n\n\n        StreamingKMeans kmeans = new StreamingKMeans().setK(3).setDecayFactor(1.0);\n        StreamingKMeansModel model = kmeans.predictOn(df);\n</code></pre>\n<p>Cannot resolve method 'predictOn(org.apache.spark.sql.Dataset&lt;org.apache.spark.sql.Row&gt;)</p>\n"},{"tags":["java","android","opengl-es","opengl-es-2.0"],"answers":[{"tags":[],"owner":{"account_id":15674917,"reputation":1,"user_id":11310409,"display_name":"Lucas Ri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687960384,"creation_date":1687960384,"answer_id":76573860,"question_id":64087683,"body_markdown":"To solve that just add this on your camera fragment :\r\n\r\n    override fun onPause() {\r\n        super.onPause()\r\n        cameraProvider?.unbindAll()\r\n    }\r\n\r\nDon&#39;t forget to init camera into &quot;onResume&quot;\r\n\r\nTo debug an android application from crashlytics you have to use a service like LambdaTest which allows you to test your app on many real devices","title":"Android OpenGL stuff doesn&#39;t work on some devices: eglMakeCurrent failed and glDrawArrays: glError 0x505","body":"<p>To solve that just add this on your camera fragment :</p>\n<pre><code>override fun onPause() {\n    super.onPause()\n    cameraProvider?.unbindAll()\n}\n</code></pre>\n<p>Don't forget to init camera into &quot;onResume&quot;</p>\n<p>To debug an android application from crashlytics you have to use a service like LambdaTest which allows you to test your app on many real devices</p>\n"}],"owner":{"account_id":10541959,"reputation":8906,"user_id":7767664,"accept_rate":63,"display_name":"user924"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":320,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1687960384,"creation_date":1601204317,"question_id":64087683,"body_markdown":"So I used very similar code from official Google Grafika Sample for video processing in my own app: https://github.com/google/grafika/blob/master/app/src/main/java/com/android/grafika/ContinuousCaptureActivity.java\r\n\r\nI tested that this code works fine on Nexus 5X, Xiaomi S2, Samsung S9 devices but Firebase Crashlytics reports errors (crashes) on other devices, and usually it&#39;s Huawei devices and Samsung of A series (A20, A30 and so on..) and some others\r\n\r\nSo I can&#39;t reproduce this error on my testing devices at all and I don&#39;t have devices which were reported by Firebase Crashlytics.\r\n\r\nSo can it be that this is device issue and not the code problem? It&#39;s from official Google sample so everything should be fine, but...\r\n\r\nHas anyone run into the same problem? Any solutions for such devices?\r\n\r\nSo there are two errors were reported:\r\n\r\nat this line (`GlUtil.checkGlError(&quot;glDrawArrays&quot;);`) https://github.com/google/grafika/blob/master/app/src/main/java/com/android/grafika/gles/Texture2dProgram.java#L335\r\n\r\nor at this line (`.makeCurrent();`) https://github.com/google/grafika/blob/master/app/src/main/java/com/android/grafika/ContinuousCaptureActivity.java#L472\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VCjVb.png\r\n  [2]: https://i.stack.imgur.com/nfV2p.png\r\n  [3]: https://i.stack.imgur.com/BlVt8.png\r\n  [4]: https://i.stack.imgur.com/ZXUv2.png","title":"Android OpenGL stuff doesn&#39;t work on some devices: eglMakeCurrent failed and glDrawArrays: glError 0x505","body":"<p>So I used very similar code from official Google Grafika Sample for video processing in my own app: <a href=\"https://github.com/google/grafika/blob/master/app/src/main/java/com/android/grafika/ContinuousCaptureActivity.java\" rel=\"nofollow noreferrer\">https://github.com/google/grafika/blob/master/app/src/main/java/com/android/grafika/ContinuousCaptureActivity.java</a></p>\n<p>I tested that this code works fine on Nexus 5X, Xiaomi S2, Samsung S9 devices but Firebase Crashlytics reports errors (crashes) on other devices, and usually it's Huawei devices and Samsung of A series (A20, A30 and so on..) and some others</p>\n<p>So I can't reproduce this error on my testing devices at all and I don't have devices which were reported by Firebase Crashlytics.</p>\n<p>So can it be that this is device issue and not the code problem? It's from official Google sample so everything should be fine, but...</p>\n<p>Has anyone run into the same problem? Any solutions for such devices?</p>\n<p>So there are two errors were reported:</p>\n<p>at this line (<code>GlUtil.checkGlError(&quot;glDrawArrays&quot;);</code>) <a href=\"https://github.com/google/grafika/blob/master/app/src/main/java/com/android/grafika/gles/Texture2dProgram.java#L335\" rel=\"nofollow noreferrer\">https://github.com/google/grafika/blob/master/app/src/main/java/com/android/grafika/gles/Texture2dProgram.java#L335</a></p>\n<p>or at this line (<code>.makeCurrent();</code>) <a href=\"https://github.com/google/grafika/blob/master/app/src/main/java/com/android/grafika/ContinuousCaptureActivity.java#L472\" rel=\"nofollow noreferrer\">https://github.com/google/grafika/blob/master/app/src/main/java/com/android/grafika/ContinuousCaptureActivity.java#L472</a></p>\n<p><a href=\"https://i.stack.imgur.com/VCjVb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VCjVb.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/nfV2p.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nfV2p.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/BlVt8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BlVt8.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/ZXUv2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZXUv2.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","intellij-idea","spring-initializr"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1687826464,"post_id":76560550,"comment_id":134987823,"body_markdown":"Hi there, you said you are using Java 14? But your spring application you&#39;ve chosen Java 11! Is there any specific reason to use Java oldest versions? Why don&#39;t you use Java 17 or 20 in both IntelliJ IDEA and Spring Application. Try to update the Java version and make it same in both IDE and Spring.","body":"Hi there, you said you are using Java 14? But your spring application you&#39;ve chosen Java 11! Is there any specific reason to use Java oldest versions? Why don&#39;t you use Java 17 or 20 in both IntelliJ IDEA and Spring Application. Try to update the Java version and make it same in both IDE and Spring."},{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1687826529,"post_id":76560550,"comment_id":134987827,"body_markdown":"As an addition you can simply create any Spring application in IntelliJ IDEA as well, there is no need to unzip.","body":"As an addition you can simply create any Spring application in IntelliJ IDEA as well, there is no need to unzip."}],"answers":[{"tags":[],"owner":{"account_id":16380562,"reputation":882,"user_id":11831707,"display_name":"ekalin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687960146,"creation_date":1687960146,"answer_id":76573817,"question_id":76560550,"body_markdown":"The &quot;group&quot; and &quot;package name&quot; starting with a &quot;.&quot; seem wrong. Could you try again with other values?","title":"used spring initializr in intellij and I cannot run the demo application","body":"<p>The &quot;group&quot; and &quot;package name&quot; starting with a &quot;.&quot; seem wrong. Could you try again with other values?</p>\n"}],"owner":{"account_id":25233116,"reputation":1,"user_id":19068017,"display_name":"egzoow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687960146,"creation_date":1687817922,"question_id":76560550,"body_markdown":"So I used these settings to generate my spring file \r\n\r\n[enter image description here](https://i.stack.imgur.com/rLXxg.png)\r\n\r\nThen I extracted that zip file and went into intellij and opened the new project.\r\n\r\nThe issue now is the src folder seems open although it shouldn&#39;t and if I navigate through to the DemoApplication.java I cannot run it.\r\n\r\nThis is how it looks like.\r\n\r\nReally think it comes down to certain dependencies or so. I use java version 14 in intellij I think.\r\n\r\nI watched lots of tutorials already and it seems simple but doesn&#39;t work for me.\r\n\r\n[enter image description here](https://i.stack.imgur.com/kutqx.png)\r\n\r\nI tried adding a module or changing the java version but both didn&#39;t seem to work","title":"used spring initializr in intellij and I cannot run the demo application","body":"<p>So I used these settings to generate my spring file</p>\n<p><a href=\"https://i.stack.imgur.com/rLXxg.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Then I extracted that zip file and went into intellij and opened the new project.</p>\n<p>The issue now is the src folder seems open although it shouldn't and if I navigate through to the DemoApplication.java I cannot run it.</p>\n<p>This is how it looks like.</p>\n<p>Really think it comes down to certain dependencies or so. I use java version 14 in intellij I think.</p>\n<p>I watched lots of tutorials already and it seems simple but doesn't work for me.</p>\n<p><a href=\"https://i.stack.imgur.com/kutqx.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I tried adding a module or changing the java version but both didn't seem to work</p>\n"},{"tags":["java","quarkus","optaplanner","timefold"],"answers":[{"tags":[],"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687959439,"creation_date":1687959439,"answer_id":76573738,"question_id":76571895,"body_markdown":"Create a separate SolverConfig (or solverConfig.xml) for each one. For example:\r\n\r\n    SolverConfig sc1 = new SolverConfig()\r\n          .withSolutionClass(Sol1.class)\r\n          .with...;\r\n    SolverConfig sc2 = new SolverConfig()\r\n          .withSolutionClass(Sol2.class)\r\n          .with...;\r\n\r\nThen create a seperate `SolverManager` for each one. Both `Sol1` and `Sol2` need a `@PlanningSolution` annotation.\r\n\r\nThis is already possible in [Timefold][1]/OptaPlanner today. The Quarkus and Spring Boot integration can&#39;t deal with this currently. Feel free to open an issue on Timefold to support this through `@Named` etc.\r\n\r\n  [1]: https://timefold.ai/blog/2023/optaplanner-fork/","title":"The solutionClass (class Solution) has been specified as a solution in the configuration, but does not have a @PlanningSolution annotation","body":"<p>Create a separate SolverConfig (or solverConfig.xml) for each one. For example:</p>\n<pre><code>SolverConfig sc1 = new SolverConfig()\n      .withSolutionClass(Sol1.class)\n      .with...;\nSolverConfig sc2 = new SolverConfig()\n      .withSolutionClass(Sol2.class)\n      .with...;\n</code></pre>\n<p>Then create a seperate <code>SolverManager</code> for each one. Both <code>Sol1</code> and <code>Sol2</code> need a <code>@PlanningSolution</code> annotation.</p>\n<p>This is already possible in <a href=\"https://timefold.ai/blog/2023/optaplanner-fork/\" rel=\"nofollow noreferrer\">Timefold</a>/OptaPlanner today. The Quarkus and Spring Boot integration can't deal with this currently. Feel free to open an issue on Timefold to support this through <code>@Named</code> etc.</p>\n"}],"owner":{"account_id":15345671,"reputation":31,"user_id":11071166,"display_name":"chalapathinagavarma bhupathira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687960050,"creation_date":1687945160,"question_id":76571895,"body_markdown":"I want to have multiple solution classes and multiple constraint providers, So instead of using @PlanningSolution used solverConfigs(xml). while creating SolverFactory.create() I am getting this error.  \r\n\r\n&gt; java.lang.IllegalStateException: The solutionClass (class Solution) has been specified as a solution in the configuration, but does not have a @PlanningSolution annotation.\r\n\r\nMy ultimate goal is to use multiple solution classes in a single application.","title":"The solutionClass (class Solution) has been specified as a solution in the configuration, but does not have a @PlanningSolution annotation","body":"<p>I want to have multiple solution classes and multiple constraint providers, So instead of using @PlanningSolution used solverConfigs(xml). while creating SolverFactory.create() I am getting this error.</p>\n<blockquote>\n<p>java.lang.IllegalStateException: The solutionClass (class Solution) has been specified as a solution in the configuration, but does not have a @PlanningSolution annotation.</p>\n</blockquote>\n<p>My ultimate goal is to use multiple solution classes in a single application.</p>\n"},{"tags":["java","spring-boot","spring-cloud-config"],"comments":[{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":0,"creation_date":1687952740,"post_id":76569957,"comment_id":135008189,"body_markdown":"please show us the `spring.config.location` declaration","body":"please show us the <code>spring.config.location</code> declaration"}],"answers":[{"tags":[],"owner":{"account_id":14794402,"reputation":1,"user_id":10684385,"display_name":"Soheil Babadi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687959953,"creation_date":1687959953,"answer_id":76573796,"question_id":76569957,"body_markdown":" 1. Make sure you have the following dependencies in your pom.xml file:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n 2. Update bootstrap.properties\r\nIn your bootstrap.properties file, make the following changes:\r\n\r\n&gt;     server.port=8081\r\n&gt;     spring.application.name=myapp\r\n&gt;     spring.main.allow-bean-definition-overriding=true\r\n&gt;     spring.cloud.config.uri=${config.uri:http://localhost:8888}\r\n&gt;     spring.cloud.config.username=xxxxx\r\n&gt;     spring.cloud.config.password=xxxxx\r\n&gt;     spring.cloud.config.name=${spring.application.name}\r\n&gt;     spring.cloud.config.profile=${spring.profiles.active}\r\n&gt;     spring.cloud.config.label=${spring.cloud.config.label:master}\r\n&gt;     spring.cloud.config.allow-override=false\r\n&gt;     spring.cloud.config.fail-fast=true\r\n\r\n3. Place the file in the appropriate search path on the configuration server, such as config/myapp.json.\r\n\r\n4. Read JSON Configurations:\r\nIn your application, you can use `@ConfigurationProperties` annotation to bind the properties from the JSON file to a Java bean.\r\n\r\n5. Make sure that your Spring Boot application has access to the configuration server&#39;s URL and credentials to fetch the JSON config files successfully.\r\n\r\n[Here][1] is very good guide for spring config server you can read\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-cloud-configuration","title":"Externalize configuration files","body":"<ol>\n<li><p>Make sure you have the following dependencies in your pom.xml file:</p>\n\n    org.springframework.cloud\n    spring-cloud-starter-config\n\n</li>\n<li><p>Update bootstrap.properties\nIn your bootstrap.properties file, make the following changes:</p>\n</li>\n</ol>\n<blockquote>\n<pre><code>server.port=8081\nspring.application.name=myapp\nspring.main.allow-bean-definition-overriding=true\nspring.cloud.config.uri=${config.uri:http://localhost:8888}\nspring.cloud.config.username=xxxxx\nspring.cloud.config.password=xxxxx\nspring.cloud.config.name=${spring.application.name}\nspring.cloud.config.profile=${spring.profiles.active}\nspring.cloud.config.label=${spring.cloud.config.label:master}\nspring.cloud.config.allow-override=false\nspring.cloud.config.fail-fast=true\n</code></pre>\n</blockquote>\n<ol start=\"3\">\n<li><p>Place the file in the appropriate search path on the configuration server, such as config/myapp.json.</p>\n</li>\n<li><p>Read JSON Configurations:\nIn your application, you can use <code>@ConfigurationProperties</code> annotation to bind the properties from the JSON file to a Java bean.</p>\n</li>\n<li><p>Make sure that your Spring Boot application has access to the configuration server's URL and credentials to fetch the JSON config files successfully.</p>\n</li>\n</ol>\n<p><a href=\"https://www.baeldung.com/spring-cloud-configuration\" rel=\"nofollow noreferrer\">Here</a> is very good guide for spring config server you can read</p>\n"}],"owner":{"account_id":28422513,"reputation":11,"user_id":21744380,"display_name":"Ragu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687959953,"creation_date":1687925019,"question_id":76569957,"body_markdown":"Title: How can a Java Spring Boot application read JSON config files from a configuration server?\r\n\r\nDescription:\r\nI have recently moved the config folder from the Resources directory to a configuration server. The application.properties file is already present under the properties directory on the configuration server and is working as expected. I have made the necessary updates to the search path and provided spring.config.location in the bootstrap.properties file. However, my application context is not reading the JSON config files. Interestingly, if I directly hit the URI, it returns the JSON response, but the application fails to read it.\r\n\r\nProperties added in my Spring Config server:\r\n```properties\r\nspring.application.name=config-server\r\nrepository.name=app-config\r\nspring.cloud.config.server.git.uri=${repository.uri:https://myapp.repo.dev.com/${repository.name}.git}\r\nspring.cloud.config.server.git.username=xxxx\r\nspring.cloud.config.server.git.password=xxxx\r\nspring.cloud.config.server.git.label=${repository.label:master}\r\nspring.cloud.config.server.git.searchPaths=${repository.searchpaths:properties,properties/{profile},${repository.searchPath:config,config/{profile}}\r\n```\r\n\r\nConfig changes made in Spring Boot Application:\r\nbootstrap.properties:\r\n```properties\r\nserver.port:8081\r\nspring.application.name=myapp\r\nspring.main.allow-bean-definition-overriding=true\r\nspring.cloud.config.uri=${config.uri:https://localhost:8088}\r\nspring.cloud.config.username=xxxxx\r\nspring.cloud.config.password=xxxxx\r\nspring.cloud.config.name=${spring.application.name}\r\nspring.cloud.config.location=classpath:/properties, classpath:/config\r\n```\r\n\r\nI would greatly appreciate any insights or suggestions on how to resolve this issue. Thank you in advance!","title":"Externalize configuration files","body":"<p>Title: How can a Java Spring Boot application read JSON config files from a configuration server?</p>\n<p>Description:\nI have recently moved the config folder from the Resources directory to a configuration server. The application.properties file is already present under the properties directory on the configuration server and is working as expected. I have made the necessary updates to the search path and provided spring.config.location in the bootstrap.properties file. However, my application context is not reading the JSON config files. Interestingly, if I directly hit the URI, it returns the JSON response, but the application fails to read it.</p>\n<p>Properties added in my Spring Config server:</p>\n<pre><code>spring.application.name=config-server\nrepository.name=app-config\nspring.cloud.config.server.git.uri=${repository.uri:https://myapp.repo.dev.com/${repository.name}.git}\nspring.cloud.config.server.git.username=xxxx\nspring.cloud.config.server.git.password=xxxx\nspring.cloud.config.server.git.label=${repository.label:master}\nspring.cloud.config.server.git.searchPaths=${repository.searchpaths:properties,properties/{profile},${repository.searchPath:config,config/{profile}}\n</code></pre>\n<p>Config changes made in Spring Boot Application:\nbootstrap.properties:</p>\n<pre><code>server.port:8081\nspring.application.name=myapp\nspring.main.allow-bean-definition-overriding=true\nspring.cloud.config.uri=${config.uri:https://localhost:8088}\nspring.cloud.config.username=xxxxx\nspring.cloud.config.password=xxxxx\nspring.cloud.config.name=${spring.application.name}\nspring.cloud.config.location=classpath:/properties, classpath:/config\n</code></pre>\n<p>I would greatly appreciate any insights or suggestions on how to resolve this issue. Thank you in advance!</p>\n"},{"tags":["java","jbpm","bpmn"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1688001189,"post_id":76573720,"comment_id":135016531,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":18317706,"reputation":1,"user_id":15006009,"display_name":"Kekcoe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687959326,"creation_date":1687959326,"question_id":76573720,"body_markdown":"I am starting my business process by rest call and get an error:\r\n```15:06:43,988 ERROR [org.kie.server.remote.rest.jbpm.ProcessResource] (default task-5) Unexpected error during processing [hardcollect.ControlDeadlinesStep:78,208 - init:2] -- null: org.jbpm.workflow.instance.WorkflowRuntimeException: [hardcollect.ControlDeadlinesStep:78,208 - init:2] -- null```.\r\nWhat do the numder 78,208 mean? and if it means number of line where error happend then where i could look source code of this process? \r\n\r\ni m trying to see that number line in xml intellij idea and in eclipse codereadystudio but there is clearly something else but not  invoking of variables.","title":"How to read WorkflowRuntimeException when executing jbpm process instance","body":"<p>I am starting my business process by rest call and get an error:\n<code>15:06:43,988 ERROR [org.kie.server.remote.rest.jbpm.ProcessResource] (default task-5) Unexpected error during processing [hardcollect.ControlDeadlinesStep:78,208 - init:2] -- null: org.jbpm.workflow.instance.WorkflowRuntimeException: [hardcollect.ControlDeadlinesStep:78,208 - init:2] -- null</code>.\nWhat do the numder 78,208 mean? and if it means number of line where error happend then where i could look source code of this process?</p>\n<p>i m trying to see that number line in xml intellij idea and in eclipse codereadystudio but there is clearly something else but not  invoking of variables.</p>\n"},{"tags":["java","apache-httpclient-4.x"],"comments":[{"owner":{"account_id":3590209,"reputation":1021,"user_id":2996452,"accept_rate":62,"display_name":"Jokkeri"},"score":1,"creation_date":1683798922,"post_id":76226322,"comment_id":134423103,"body_markdown":"Please don&#39;t post code as picture, copy paste the relevant code and format it accordinlgy in question","body":"Please don&#39;t post code as picture, copy paste the relevant code and format it accordinlgy in question"},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1683815179,"post_id":76226322,"comment_id":134427003,"body_markdown":"Sorry, I can&#39;t believe you. That method did not exist (and work) in 8u151 or any other update of 8 below 8u251. 8u251 up does support it and should solve your problem.","body":"Sorry, I can&#39;t believe you. That method did not exist (and work) in 8u151 or any other update of 8 below 8u251. 8u251 up does support it and should solve your problem."}],"answers":[{"tags":[],"owner":{"account_id":6228011,"reputation":1121,"user_id":4845660,"display_name":"Loic Mouchard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683807789,"creation_date":1683807789,"answer_id":76227612,"question_id":76226322,"body_markdown":"in Java 8, the method setApplicationProtocol has an array of String (also String[]) as parameter (but in Oracle&#39;s Java 11 too )\r\n\r\nsee : https://docs.oracle.com/javase/8/docs/api/javax/net/ssl/SSLParameters.html","title":"Exception in thread &quot;httpclient-dispatch-1&quot; java.lang.NoSuchMethodError: javax.net.ssl.SSLParameters.setApplicationProtocols([Ljava/lang/String;)V","body":"<p>in Java 8, the method setApplicationProtocol has an array of String (also String[]) as parameter (but in Oracle's Java 11 too )</p>\n<p>see : <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/net/ssl/SSLParameters.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/javax/net/ssl/SSLParameters.html</a></p>\n"}],"owner":{"account_id":12612665,"reputation":1,"user_id":9171190,"display_name":"Swain.Ho"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":518,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687959118,"creation_date":1683798663,"question_id":76226322,"body_markdown":"My jdk version is 1.8_0_151. I tried to change into version 144 or 191 but neither works.\r\n\r\nhttpclient5,org.apache.httpcomponents.core5 version are both 5.2.1\r\n\r\nIt seems that upgrading to jdk11 can solve the issue, but I have to continue using jdk8, so is there any good solution?\r\n\r\nError info:\r\n&gt; Exception in thread &quot;httpclient-dispatch-1&quot; java.lang.NoSuchMethodError: javax.net.ssl.SSLParameters.setApplicationProtocols([Ljava/lang/String;)V\r\n\tat org.apache.hc.client5.http.ssl.DefaultClientTlsStrategy.applyParameters(DefaultClientTlsStrategy.java:108)\r\n\tat org.apache.hc.client5.http.ssl.AbstractClientTlsStrategy.lambda$upgrade$0(AbstractClientTlsStrategy.java:138)\r\n\tat org.apache.hc.core5.reactor.ssl.SSLIOSession.initialize(SSLIOSession.java:293)\r\n\tat org.apache.hc.core5.reactor.ssl.SSLIOSession.beginHandshake(SSLIOSession.java:268)\r\n\tat org.apache.hc.core5.reactor.InternalDataChannel.startTls(InternalDataChannel.java:258)\r\n\tat org.apache.hc.client5.http.impl.nio.DefaultManagedAsyncClientConnection.startTls(DefaultManagedAsyncClientConnection.java:158)\r\n\tat org.apache.hc.client5.http.ssl.AbstractClientTlsStrategy.upgrade(AbstractClientTlsStrategy.java:111)\r\n\tat org.apache.hc.client5.http.ssl.DefaultClientTlsStrategy.upgrade(DefaultClientTlsStrategy.java:48)\r\n\tat org.apache.hc.client5.http.impl.nio.DefaultAsyncClientConnectionOperator.upgrade(DefaultAsyncClientConnectionOperator.java:179)\r\n\tat org.apache.hc.client5.http.impl.nio.PoolingAsyncClientConnectionManager.upgrade(PoolingAsyncClientConnectionManager.java:505)\r\n\tat org.apache.hc.client5.http.impl.async.InternalHttpAsyncExecRuntime.upgradeTls(InternalHttpAsyncExecRuntime.java:249)\r\n\tat org.apache.hc.client5.http.impl.async.AsyncConnectExec.proceedToNextHop(AsyncConnectExec.java:323)\r\n\tat org.apache.hc.client5.http.impl.async.AsyncConnectExec.access$000(AsyncConnectExec.java:82)\r\n\tat org.apache.hc.client5.http.impl.async.AsyncConnectExec$4.completed(AsyncConnectExec.java:298)\r\n\tat org.apache.hc.client5.http.impl.async.AsyncConnectExec$6.completed(AsyncConnectExec.java:423)\r\n\tat org.apache.hc.client5.http.impl.async.HttpAsyncMainClientExec$1.consumeResponse(HttpAsyncMainClientExec.java:224)\r\n\tat org.apache.hc.core5.http.impl.nio.ClientHttp1StreamHandler.consumeHeader(ClientHttp1StreamHandler.java:243)\r\n\tat org.apache.hc.core5.http.impl.nio.ClientHttp1StreamDuplexer.consumeHeader(ClientHttp1StreamDuplexer.java:348)\r\n\tat org.apache.hc.core5.http.impl.nio.ClientHttp1StreamDuplexer.consumeHeader(ClientHttp1StreamDuplexer.java:80)\r\n\tat org.apache.hc.core5.http.impl.nio.AbstractHttp1StreamDuplexer.onInput(AbstractHttp1StreamDuplexer.java:298)\r\n\tat org.apache.hc.core5.http.impl.nio.AbstractHttp1IOEventHandler.inputReady(AbstractHttp1IOEventHandler.java:64)\r\n\tat org.apache.hc.core5.http.impl.nio.ClientHttp1IOEventHandler.inputReady(ClientHttp1IOEventHandler.java:41)\r\n\tat org.apache.hc.core5.reactor.InternalDataChannel.onIOEvent(InternalDataChannel.java:142)\r\n\tat org.apache.hc.core5.reactor.InternalChannel.handleIOEvent(InternalChannel.java:51)\r\n\tat org.apache.hc.core5.reactor.SingleCoreIOReactor.processEvents(SingleCoreIOReactor.java:178)\r\n\tat org.apache.hc.core5.reactor.SingleCoreIOReactor.doExecute(SingleCoreIOReactor.java:127)\r\n\tat org.apache.hc.core5.reactor.AbstractSingleCoreIOReactor.execute(AbstractSingleCoreIOReactor.java:86)\r\n\tat org.apache.hc.core5.reactor.IOReactorWorker.run(IOReactorWorker.java:44)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n","title":"Exception in thread &quot;httpclient-dispatch-1&quot; java.lang.NoSuchMethodError: javax.net.ssl.SSLParameters.setApplicationProtocols([Ljava/lang/String;)V","body":"<p>My jdk version is 1.8_0_151. I tried to change into version 144 or 191 but neither works.</p>\n<p>httpclient5,org.apache.httpcomponents.core5 version are both 5.2.1</p>\n<p>It seems that upgrading to jdk11 can solve the issue, but I have to continue using jdk8, so is there any good solution?</p>\n<p>Error info:</p>\n<blockquote>\n<p>Exception in thread &quot;httpclient-dispatch-1&quot; java.lang.NoSuchMethodError: javax.net.ssl.SSLParameters.setApplicationProtocols([Ljava/lang/String;)V\nat org.apache.hc.client5.http.ssl.DefaultClientTlsStrategy.applyParameters(DefaultClientTlsStrategy.java:108)\nat org.apache.hc.client5.http.ssl.AbstractClientTlsStrategy.lambda$upgrade$0(AbstractClientTlsStrategy.java:138)\nat org.apache.hc.core5.reactor.ssl.SSLIOSession.initialize(SSLIOSession.java:293)\nat org.apache.hc.core5.reactor.ssl.SSLIOSession.beginHandshake(SSLIOSession.java:268)\nat org.apache.hc.core5.reactor.InternalDataChannel.startTls(InternalDataChannel.java:258)\nat org.apache.hc.client5.http.impl.nio.DefaultManagedAsyncClientConnection.startTls(DefaultManagedAsyncClientConnection.java:158)\nat org.apache.hc.client5.http.ssl.AbstractClientTlsStrategy.upgrade(AbstractClientTlsStrategy.java:111)\nat org.apache.hc.client5.http.ssl.DefaultClientTlsStrategy.upgrade(DefaultClientTlsStrategy.java:48)\nat org.apache.hc.client5.http.impl.nio.DefaultAsyncClientConnectionOperator.upgrade(DefaultAsyncClientConnectionOperator.java:179)\nat org.apache.hc.client5.http.impl.nio.PoolingAsyncClientConnectionManager.upgrade(PoolingAsyncClientConnectionManager.java:505)\nat org.apache.hc.client5.http.impl.async.InternalHttpAsyncExecRuntime.upgradeTls(InternalHttpAsyncExecRuntime.java:249)\nat org.apache.hc.client5.http.impl.async.AsyncConnectExec.proceedToNextHop(AsyncConnectExec.java:323)\nat org.apache.hc.client5.http.impl.async.AsyncConnectExec.access$000(AsyncConnectExec.java:82)\nat org.apache.hc.client5.http.impl.async.AsyncConnectExec$4.completed(AsyncConnectExec.java:298)\nat org.apache.hc.client5.http.impl.async.AsyncConnectExec$6.completed(AsyncConnectExec.java:423)\nat org.apache.hc.client5.http.impl.async.HttpAsyncMainClientExec$1.consumeResponse(HttpAsyncMainClientExec.java:224)\nat org.apache.hc.core5.http.impl.nio.ClientHttp1StreamHandler.consumeHeader(ClientHttp1StreamHandler.java:243)\nat org.apache.hc.core5.http.impl.nio.ClientHttp1StreamDuplexer.consumeHeader(ClientHttp1StreamDuplexer.java:348)\nat org.apache.hc.core5.http.impl.nio.ClientHttp1StreamDuplexer.consumeHeader(ClientHttp1StreamDuplexer.java:80)\nat org.apache.hc.core5.http.impl.nio.AbstractHttp1StreamDuplexer.onInput(AbstractHttp1StreamDuplexer.java:298)\nat org.apache.hc.core5.http.impl.nio.AbstractHttp1IOEventHandler.inputReady(AbstractHttp1IOEventHandler.java:64)\nat org.apache.hc.core5.http.impl.nio.ClientHttp1IOEventHandler.inputReady(ClientHttp1IOEventHandler.java:41)\nat org.apache.hc.core5.reactor.InternalDataChannel.onIOEvent(InternalDataChannel.java:142)\nat org.apache.hc.core5.reactor.InternalChannel.handleIOEvent(InternalChannel.java:51)\nat org.apache.hc.core5.reactor.SingleCoreIOReactor.processEvents(SingleCoreIOReactor.java:178)\nat org.apache.hc.core5.reactor.SingleCoreIOReactor.doExecute(SingleCoreIOReactor.java:127)\nat org.apache.hc.core5.reactor.AbstractSingleCoreIOReactor.execute(AbstractSingleCoreIOReactor.java:86)\nat org.apache.hc.core5.reactor.IOReactorWorker.run(IOReactorWorker.java:44)\nat java.lang.Thread.run(Thread.java:748)</p>\n</blockquote>\n"},{"tags":["java","selenium-webdriver","page-factory"],"comments":[{"owner":{"account_id":11847560,"reputation":205,"user_id":8669719,"display_name":"Knight"},"score":0,"creation_date":1687961273,"post_id":76439006,"comment_id":135010297,"body_markdown":"There are a lot of factors you have to consider. For example what kind of application are you testing on? Is it a responsive Webapp with lots of variations of layout and dynamically loading elements or is it more like a Website only containing unformatted  lists and the data you&#180;d like to scrape. Depending on those factors it might even be less helpful to convert to page/object based pattern.","body":"There are a lot of factors you have to consider. For example what kind of application are you testing on? Is it a responsive Webapp with lots of variations of layout and dynamically loading elements or is it more like a Website only containing unformatted  lists and the data you&#180;d like to scrape. Depending on those factors it might even be less helpful to convert to page/object based pattern."},{"owner":{"account_id":11847560,"reputation":205,"user_id":8669719,"display_name":"Knight"},"score":0,"creation_date":1687961284,"post_id":76439006,"comment_id":135010301,"body_markdown":"Here is some information to decide whether it could be worth for you: https://www.selenium.dev/documentation/test_practices/encouraged/page_object_models/     https://daniel-delimata.medium.com/is-page-object-model-overrated-4a6777b7a7ed","body":"Here is some information to decide whether it could be worth for you: <a href=\"https://www.selenium.dev/documentation/test_practices/encouraged/page_object_models/\" rel=\"nofollow noreferrer\">selenium.dev/documentation/test_practices/encouraged/&hellip;</a>     <a href=\"https://daniel-delimata.medium.com/is-page-object-model-overrated-4a6777b7a7ed\" rel=\"nofollow noreferrer\">daniel-delimata.medium.com/&hellip;</a>"},{"owner":{"account_id":28561896,"reputation":39,"user_id":21865321,"display_name":"Word Place"},"score":0,"creation_date":1688455630,"post_id":76439006,"comment_id":135072731,"body_markdown":"I have to use page object pattern, this is normal responsive webapp.","body":"I have to use page object pattern, this is normal responsive webapp."}],"owner":{"account_id":28561896,"reputation":39,"user_id":21865321,"display_name":"Word Place"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687958971,"creation_date":1686303253,"question_id":76439006,"body_markdown":"I want to convert static webDriver to non static webDriver in page factory pattern. Could you tell me how should I modify all classes to make it work ? I want to avoid null pointer exception in sharing webDriver between page objects.\r\n\r\n    public class Page {\r\n    \r\n    @Getter @Setter\r\n    public static WebDriver driver;\r\n    \r\n    public Page(WebDriver driver) {\r\n        this.driver = driver;\r\n        PageFactory.initElements(driver, this);\r\n    }\r\n    }\r\n\r\nThis is my step def class:\r\n\r\n    import static utils.Page.driver;\r\n    \r\n    public class LandingPageStepDefs {\r\n    \r\n        private LandingPage landingPage = new LandingPage(driver);\r\n       \r\n        @And(&quot;Customer does something&quot;)\r\n        public void customerDoesSomething() {\r\n            landingPage.doSomething();\r\n        }\r\n    }\r\n\r\nThis is my page object class\r\n\r\n    public class LandingPage extends Page {\r\n    \r\n        @FindBy(xpath = &quot;this is xpath&quot;)\r\n        private WebElement pageWebElement;\r\n    \r\n    }\r\n    \r\n    public LandingPage(WebDriver driver) {\r\n        super(driver);\r\n    }\r\n    \r\n    public void doSomething() {\r\n        pageWebElement.click();\r\n    }\r\n\r\n","title":"Java selenium - how to convert static webDriver to non static in page object pattern?","body":"<p>I want to convert static webDriver to non static webDriver in page factory pattern. Could you tell me how should I modify all classes to make it work ? I want to avoid null pointer exception in sharing webDriver between page objects.</p>\n<pre><code>public class Page {\n\n@Getter @Setter\npublic static WebDriver driver;\n\npublic Page(WebDriver driver) {\n    this.driver = driver;\n    PageFactory.initElements(driver, this);\n}\n}\n</code></pre>\n<p>This is my step def class:</p>\n<pre><code>import static utils.Page.driver;\n\npublic class LandingPageStepDefs {\n\n    private LandingPage landingPage = new LandingPage(driver);\n   \n    @And(&quot;Customer does something&quot;)\n    public void customerDoesSomething() {\n        landingPage.doSomething();\n    }\n}\n</code></pre>\n<p>This is my page object class</p>\n<pre><code>public class LandingPage extends Page {\n\n    @FindBy(xpath = &quot;this is xpath&quot;)\n    private WebElement pageWebElement;\n\n}\n\npublic LandingPage(WebDriver driver) {\n    super(driver);\n}\n\npublic void doSomething() {\n    pageWebElement.click();\n}\n</code></pre>\n"},{"tags":["java","apache-kafka","quarkus"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1571040710,"post_id":58340609,"comment_id":103094529,"body_markdown":"Can you show rest of you classes as well?","body":"Can you show rest of you classes as well?"}],"answers":[{"tags":[],"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1571259867,"creation_date":1571259867,"answer_id":58421690,"question_id":58340609,"body_markdown":"The documentation on this topic is terse and incomplete at this time (Quarkus 0.25.0). I managed to do it, but it took a lot of experimentation and something I believe is a hack that hopefully will be remedied in later versions of Quarkus.\r\n\r\nThe principle is that the `@Outgoing` method must produce a *stream* that is controlled *externally*. This is accomplished by creating the stream through `Flowable.create()` in a `@PostConstruct` method, and exposing the emitter to a class member. The `@Outgoing` method simply returns the already constructed stream.\r\n\r\nThe following component exposes one public method, `produce(String message)` that will send that text message to Kafka:\r\n\r\n\tpackage ...\r\n\r\n\timport java.util.UUID;\r\n\t\r\n\timport javax.annotation.PostConstruct;\r\n\timport javax.annotation.PreDestroy;\r\n\timport javax.enterprise.context.ApplicationScoped;\r\n\t\r\n\timport org.eclipse.microprofile.reactive.messaging.Incoming;\r\n\timport org.eclipse.microprofile.reactive.messaging.Message;\r\n\timport org.eclipse.microprofile.reactive.messaging.Outgoing;\r\n\timport org.reactivestreams.Publisher;\r\n\t\r\n\timport io.reactivex.BackpressureStrategy;\r\n\timport io.reactivex.Flowable;\r\n\timport io.reactivex.FlowableEmitter;\r\n\timport io.smallrye.reactive.messaging.kafka.KafkaMessage;\r\n\t\r\n\t@ApplicationScoped\r\n\tpublic class KafkaController {\r\n\t\t\r\n\t\tprivate FlowableEmitter&lt;KafkaMessage&lt;String, String&gt;&gt; emitter;\r\n\t\t\r\n\t\tprivate Flowable&lt;KafkaMessage&lt;String, String&gt;&gt; outgoingStream;\r\n\t\t\r\n\t\t@PostConstruct\r\n\t\tvoid init() {\r\n\t\t\toutgoingStream = Flowable.create(emitter -&gt; this.emitter = emitter, BackpressureStrategy.BUFFER);\r\n\t\t}\r\n\t\r\n\t\tpublic void produce(String message) {\r\n\t\t\temitter.onNext(KafkaMessage.of(UUID.randomUUID().toString(), message));\r\n\t\t}\r\n\t\t\r\n\t\t@PreDestroy\r\n\t\tvoid dispose() {\r\n\t\t\temitter.onComplete();\r\n\t\t}\r\n\t\t\r\n\t\t@Outgoing(&quot;internal&quot;)\r\n\t\tPublisher&lt;KafkaMessage&lt;String, String&gt;&gt; produceKafkaMessage() {\r\n\t\t\treturn outgoingStream;\r\n\t\t}\r\n\t\t\r\n\t\t@Incoming(&quot;internal&quot;)\r\n\t\t@Outgoing(&quot;kafka-test&quot;)\r\n\t\tKafkaMessage&lt;String, String&gt; transform(Message&lt;KafkaMessage&lt;String, String&gt;&gt; arg) {\r\n\t\t\treturn arg.getPayload();\r\n\t\t}\r\n\t}\r\n\r\nI created this class in a generated Quarkus application, as documented [here](https://quarkus.io/guides/kafka-guide):\r\n\r\n    mvn io.quarkus:quarkus-maven-plugin:0.25.0:create \\\r\n        -DprojectGroupId=org.acme \\\r\n        -DprojectArtifactId=kafka-quickstart \\\r\n        -Dextensions=&quot;kafka&quot;\r\n\r\nAnd configured (`application.properties`) as follows:\r\n\r\n\tkafka.bootstrap.servers=localhost:9092\r\n\t\r\n\tmp.messaging.outgoing.kafka-test.connector=smallrye-kafka\r\n\tmp.messaging.outgoing.kafka-test.topic=test\r\n\tmp.messaging.outgoing.kafka-test.key.serializer=org.apache.kafka.common.serialization.StringSerializer\r\n\tmp.messaging.outgoing.kafka-test.value.serializer=org.apache.kafka.common.serialization.StringSerializer\r\n\r\nA Kafka instance is started exactly as described in the [quickstart](https://kafka.apache.org/documentation/#quickstart). You can watch the `test` topic with a console listener as follows:\r\n\r\n    ./bin/kafka-console-consumer.sh --bootstrap-server localhost:9092 \\\r\n        --topic test --from-beginning --group test-console.consumer\r\n\r\nTo test it, you can create a JAX-RS resource to invoke `produce()`:\r\n\r\n\tpackage ...\r\n\t\r\n\timport javax.inject.Inject;\r\n\timport javax.ws.rs.POST;\r\n\timport javax.ws.rs.Path;\r\n\t\r\n\t@Path(&quot;/control&quot;)\r\n\tpublic class KafkaProduceControlResource {\r\n\t\t\r\n\t\t@Inject\r\n\t\tKafkaController kafkaController;\r\n\t\r\n\t\t@POST\r\n\t\t@Path(&quot;/produce&quot;)\r\n\t\tpublic void produceMessage(String message) {\r\n\t\t\tkafkaController.produce(message);\r\n\t\t}\r\n\t}\r\n\r\nInvoke it from command line as follows and watch the console consumer:\r\n\r\n    curl -i -s -X POST -d &quot;A text message&quot; \\\r\n        http://localhost:8080/control/produce\r\n\r\n**THE HACK:** It seems that annotating `produceKafkaMessage()` with `@Outgoing(&quot;kafka-test&quot;)` fails, because Quarkus does NOT understand that a `KafkaMessage` *is* a `Message`, and is wrapping it in one, resulting in serialization errors. I am bypassing this with the `&quot;internal&quot;` stream.","title":"Is there any function in Quarkus to send message to Kafka","body":"<p>The documentation on this topic is terse and incomplete at this time (Quarkus 0.25.0). I managed to do it, but it took a lot of experimentation and something I believe is a hack that hopefully will be remedied in later versions of Quarkus.</p>\n\n<p>The principle is that the <code>@Outgoing</code> method must produce a <em>stream</em> that is controlled <em>externally</em>. This is accomplished by creating the stream through <code>Flowable.create()</code> in a <code>@PostConstruct</code> method, and exposing the emitter to a class member. The <code>@Outgoing</code> method simply returns the already constructed stream.</p>\n\n<p>The following component exposes one public method, <code>produce(String message)</code> that will send that text message to Kafka:</p>\n\n<pre><code>package ...\n\nimport java.util.UUID;\n\nimport javax.annotation.PostConstruct;\nimport javax.annotation.PreDestroy;\nimport javax.enterprise.context.ApplicationScoped;\n\nimport org.eclipse.microprofile.reactive.messaging.Incoming;\nimport org.eclipse.microprofile.reactive.messaging.Message;\nimport org.eclipse.microprofile.reactive.messaging.Outgoing;\nimport org.reactivestreams.Publisher;\n\nimport io.reactivex.BackpressureStrategy;\nimport io.reactivex.Flowable;\nimport io.reactivex.FlowableEmitter;\nimport io.smallrye.reactive.messaging.kafka.KafkaMessage;\n\n@ApplicationScoped\npublic class KafkaController {\n\n    private FlowableEmitter&lt;KafkaMessage&lt;String, String&gt;&gt; emitter;\n\n    private Flowable&lt;KafkaMessage&lt;String, String&gt;&gt; outgoingStream;\n\n    @PostConstruct\n    void init() {\n        outgoingStream = Flowable.create(emitter -&gt; this.emitter = emitter, BackpressureStrategy.BUFFER);\n    }\n\n    public void produce(String message) {\n        emitter.onNext(KafkaMessage.of(UUID.randomUUID().toString(), message));\n    }\n\n    @PreDestroy\n    void dispose() {\n        emitter.onComplete();\n    }\n\n    @Outgoing(\"internal\")\n    Publisher&lt;KafkaMessage&lt;String, String&gt;&gt; produceKafkaMessage() {\n        return outgoingStream;\n    }\n\n    @Incoming(\"internal\")\n    @Outgoing(\"kafka-test\")\n    KafkaMessage&lt;String, String&gt; transform(Message&lt;KafkaMessage&lt;String, String&gt;&gt; arg) {\n        return arg.getPayload();\n    }\n}\n</code></pre>\n\n<p>I created this class in a generated Quarkus application, as documented <a href=\"https://quarkus.io/guides/kafka-guide\" rel=\"nofollow noreferrer\">here</a>:</p>\n\n<pre><code>mvn io.quarkus:quarkus-maven-plugin:0.25.0:create \\\n    -DprojectGroupId=org.acme \\\n    -DprojectArtifactId=kafka-quickstart \\\n    -Dextensions=\"kafka\"\n</code></pre>\n\n<p>And configured (<code>application.properties</code>) as follows:</p>\n\n<pre><code>kafka.bootstrap.servers=localhost:9092\n\nmp.messaging.outgoing.kafka-test.connector=smallrye-kafka\nmp.messaging.outgoing.kafka-test.topic=test\nmp.messaging.outgoing.kafka-test.key.serializer=org.apache.kafka.common.serialization.StringSerializer\nmp.messaging.outgoing.kafka-test.value.serializer=org.apache.kafka.common.serialization.StringSerializer\n</code></pre>\n\n<p>A Kafka instance is started exactly as described in the <a href=\"https://kafka.apache.org/documentation/#quickstart\" rel=\"nofollow noreferrer\">quickstart</a>. You can watch the <code>test</code> topic with a console listener as follows:</p>\n\n<pre><code>./bin/kafka-console-consumer.sh --bootstrap-server localhost:9092 \\\n    --topic test --from-beginning --group test-console.consumer\n</code></pre>\n\n<p>To test it, you can create a JAX-RS resource to invoke <code>produce()</code>:</p>\n\n<pre><code>package ...\n\nimport javax.inject.Inject;\nimport javax.ws.rs.POST;\nimport javax.ws.rs.Path;\n\n@Path(\"/control\")\npublic class KafkaProduceControlResource {\n\n    @Inject\n    KafkaController kafkaController;\n\n    @POST\n    @Path(\"/produce\")\n    public void produceMessage(String message) {\n        kafkaController.produce(message);\n    }\n}\n</code></pre>\n\n<p>Invoke it from command line as follows and watch the console consumer:</p>\n\n<pre><code>curl -i -s -X POST -d \"A text message\" \\\n    http://localhost:8080/control/produce\n</code></pre>\n\n<p><strong>THE HACK:</strong> It seems that annotating <code>produceKafkaMessage()</code> with <code>@Outgoing(\"kafka-test\")</code> fails, because Quarkus does NOT understand that a <code>KafkaMessage</code> <em>is</em> a <code>Message</code>, and is wrapping it in one, resulting in serialization errors. I am bypassing this with the <code>\"internal\"</code> stream.</p>\n"},{"tags":[],"owner":{"account_id":7228220,"reputation":1559,"user_id":5516057,"display_name":"Marc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687958803,"creation_date":1687958803,"answer_id":76573647,"question_id":58340609,"body_markdown":"It&#39;s been a while since this was asked but at the moment this can be achieved using the following:\r\n\r\n\r\n    import io.smallrye.reactive.messaging.kafka.Record;\r\n    import org.eclipse.microprofile.reactive.messaging.Channel;\r\n    import jakarta.inject.Inject;\r\n    import jakarta.ws.rs.GET;\r\n    import jakarta.ws.rs.Produces;\r\n    import jakarta.ws.rs.core.MediaType;\r\n    import org.eclipse.microprofile.reactive.messaging.Emitter;\r\n\r\n    public class ExampleProducer {\r\n    \r\n        @Inject\r\n        @Channel(&quot;single-stations&quot;)\r\n        Emitter&lt;Record&lt;Integer, String&gt;&gt; stationEmitter;\r\n    \r\n    \r\n        // when GET called send message to topic\r\n        @GET\r\n        @Produces(MediaType.TEXT_PLAIN)\r\n        public String hello() {\r\n            var message = generateSingle();\r\n            stationEmitter.send(message);\r\n            return &quot;hello&quot;;\r\n        }\r\n        \r\n        public Record&lt;Integer, String&gt; generateSingle() {\r\n            return Record.of(1, &quot;value&quot;);\r\n        };\r\n    }\r\n\r\nThe Emitter object allows you to send messages on a non continuous manner. \r\n\r\nBut a lot more information is available here https://quarkus.io/guides/kafka#sending-messages-to-kafka","title":"Is there any function in Quarkus to send message to Kafka","body":"<p>It's been a while since this was asked but at the moment this can be achieved using the following:</p>\n<pre><code>import io.smallrye.reactive.messaging.kafka.Record;\nimport org.eclipse.microprofile.reactive.messaging.Channel;\nimport jakarta.inject.Inject;\nimport jakarta.ws.rs.GET;\nimport jakarta.ws.rs.Produces;\nimport jakarta.ws.rs.core.MediaType;\nimport org.eclipse.microprofile.reactive.messaging.Emitter;\n\npublic class ExampleProducer {\n\n    @Inject\n    @Channel(&quot;single-stations&quot;)\n    Emitter&lt;Record&lt;Integer, String&gt;&gt; stationEmitter;\n\n\n    // when GET called send message to topic\n    @GET\n    @Produces(MediaType.TEXT_PLAIN)\n    public String hello() {\n        var message = generateSingle();\n        stationEmitter.send(message);\n        return &quot;hello&quot;;\n    }\n    \n    public Record&lt;Integer, String&gt; generateSingle() {\n        return Record.of(1, &quot;value&quot;);\n    };\n}\n</code></pre>\n<p>The Emitter object allows you to send messages on a non continuous manner.</p>\n<p>But a lot more information is available here <a href=\"https://quarkus.io/guides/kafka#sending-messages-to-kafka\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/kafka#sending-messages-to-kafka</a></p>\n"}],"owner":{"account_id":16872561,"reputation":95,"user_id":12200758,"display_name":"Jithin S"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2463,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":58421690,"answer_count":2,"score":2,"last_activity_date":1687958803,"creation_date":1570794318,"question_id":58340609,"body_markdown":"I&#39;m new to kafka and quarkus, i want to send message to kafka topic when a user request has processed. \r\n\r\nI have gone through kafka example provided in quarkus-quickstart. I have tried with KafkaMessage\r\n\r\n```\r\n// when GET called send message to topic\r\n@GET\r\n@Produces(MediaType.TEXT_PLAIN)\r\npublic String hello() {\r\n    generateSingle();\r\n    return &quot;hello&quot;;\r\n}\r\n\r\n@Outgoing(&quot;single-stations&quot;)\r\npublic KafkaMessage&lt;Integer, String&gt; generateSingle() {\r\n    return KafkaMessage.of(1, &quot;value&quot;);\r\n};\r\n```\r\n\r\nBut i got a result that sending Message to kafka topic continously.\r\n\r\nI want to know is there any other method or is there any problem with my code. \r\n\r\nHelp appreciated","title":"Is there any function in Quarkus to send message to Kafka","body":"<p>I'm new to kafka and quarkus, i want to send message to kafka topic when a user request has processed. </p>\n\n<p>I have gone through kafka example provided in quarkus-quickstart. I have tried with KafkaMessage</p>\n\n<pre><code>// when GET called send message to topic\n@GET\n@Produces(MediaType.TEXT_PLAIN)\npublic String hello() {\n    generateSingle();\n    return \"hello\";\n}\n\n@Outgoing(\"single-stations\")\npublic KafkaMessage&lt;Integer, String&gt; generateSingle() {\n    return KafkaMessage.of(1, \"value\");\n};\n</code></pre>\n\n<p>But i got a result that sending Message to kafka topic continously.</p>\n\n<p>I want to know is there any other method or is there any problem with my code. </p>\n\n<p>Help appreciated</p>\n"},{"tags":["java","maven","jar","dependencies","executable-jar"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1687957459,"post_id":76573377,"comment_id":135009286,"body_markdown":"Does this answer your question? [FileNotFoundException in src/main/resources](https://stackoverflow.com/questions/23547488/filenotfoundexception-in-src-main-resources)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/23547488/filenotfoundexception-in-src-main-resources\">FileNotFoundException in src/main/resources</a>"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1687957503,"post_id":76573377,"comment_id":135009300,"body_markdown":"In short: files in `src/main/resources` should not be treated as _files_ but as _resources_. Load them as such. If the file does not exist then the call to `getResourceAsStream` will return `null`.","body":"In short: files in <code>src&#47;main&#47;resources</code> should not be treated as <i>files</i> but as <i>resources</i>. Load them as such. If the file does not exist then the call to <code>getResourceAsStream</code> will return <code>null</code>."}],"owner":{"account_id":28804495,"reputation":1,"user_id":22141691,"display_name":"John Smith"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687957756,"creation_date":1687956729,"question_id":76573377,"body_markdown":"I have created a JAR file using Maven plugins and it runs. I read and write data using a .JSON file during my program. It is specified in the source code like this:\r\n```java\r\nprivate static File getJsonFile() {\r\n        File file = new File(&quot;src/main/resources/database/database.json&quot;);\r\n        if (!file.exists()) {\r\n            try {\r\n                //noinspection ResultOfMethodCallIgnored\r\n                file.createNewFile();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        return file;\r\n    }\r\n```\r\n\r\nBut after running my program JAR file using `java -jar super-mario-bros-1.0-SNAPSHOT-jar-with-dependencies.jar` it gives me this  error:\r\n```\r\njava.io.IOException: The system cannot find the path specified\r\n        at java.base/java.io.WinNTFileSystem.createFileExclusively0(Native Method)\r\n        at java.base/java.io.WinNTFileSystem.createFileExclusively(WinNTFileSystem.java:645)\r\n        at java.base/java.io.File.createNewFile(File.java:1045)\r\n        at ir.sharif.math.ap2023.project.model.Database.getJsonFile(Database.java:54)\r\n        at ir.sharif.math.ap2023.project.model.Database.getInstance(Database.java:37)\r\n        at ir.sharif.math.ap2023.project.view.UIManager.&lt;init&gt;(UIManager.java:59)\r\n        at ir.sharif.math.ap2023.project.view.UIManager.getInstance(UIManager.java:143)\r\n        at ir.sharif.math.ap2023.project.controller.GameEngine.init(GameEngine.java:71)\r\n        at ir.sharif.math.ap2023.project.controller.GameEngine.&lt;init&gt;(GameEngine.java:54)\r\n        at ir.sharif.math.ap2023.project.controller.GameEngine.getInstance(GameEngine.java:60)\r\n        at ir.sharif.math.ap2023.project.Main.main(Main.java:7)\r\njava.io.FileNotFoundException: src\\main\\resources\\database\\database.json (The system cannot find the path specified)\r\n        at java.base/java.io.FileInputStream.open0(Native Method)\r\n        at java.base/java.io.FileInputStream.open(FileInputStream.java:219)\r\n        at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:158)\r\n        at com.fasterxml.jackson.core.TokenStreamFactory._fileInputStream(TokenStreamFactory.java:278)\r\n        at com.fasterxml.jackson.core.JsonFactory.createParser(JsonFactory.java:1089)\r\n        at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3637)\r\n        at ir.sharif.math.ap2023.project.model.Database.getInstance(Database.java:37)\r\n        at ir.sharif.math.ap2023.project.view.UIManager.&lt;init&gt;(UIManager.java:59)\r\n        at ir.sharif.math.ap2023.project.view.UIManager.getInstance(UIManager.java:143)\r\n        at ir.sharif.math.ap2023.project.controller.GameEngine.init(GameEngine.java:71)\r\n        at ir.sharif.math.ap2023.project.controller.GameEngine.&lt;init&gt;(GameEngine.java:54)\r\n        at ir.sharif.math.ap2023.project.controller.GameEngine.getInstance(GameEngine.java:60)\r\n        at ir.sharif.math.ap2023.project.Main.main(Main.java:7)\r\n```\r\n\r\nIt runs without any problem after building project, but when I run this JAR file it gives me errors. This is my `pom.xml` by the way:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;ir.sharif.math.ap2023.project&lt;/groupId&gt;\r\n    &lt;artifactId&gt;super-mario-bros&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;2.15.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;20&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;20&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;mainClass&gt;ir.sharif.math.ap2023.project.Main&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                    &lt;descriptorRefs&gt;\r\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                    &lt;/descriptorRefs&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;make-assembly&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nI created the JAR file using `mvn clean compile assembly:single`.","title":"Finding file path after creating a JAR file with Maven","body":"<p>I have created a JAR file using Maven plugins and it runs. I read and write data using a .JSON file during my program. It is specified in the source code like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static File getJsonFile() {\n        File file = new File(&quot;src/main/resources/database/database.json&quot;);\n        if (!file.exists()) {\n            try {\n                //noinspection ResultOfMethodCallIgnored\n                file.createNewFile();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n        return file;\n    }\n</code></pre>\n<p>But after running my program JAR file using <code>java -jar super-mario-bros-1.0-SNAPSHOT-jar-with-dependencies.jar</code> it gives me this  error:</p>\n<pre><code>java.io.IOException: The system cannot find the path specified\n        at java.base/java.io.WinNTFileSystem.createFileExclusively0(Native Method)\n        at java.base/java.io.WinNTFileSystem.createFileExclusively(WinNTFileSystem.java:645)\n        at java.base/java.io.File.createNewFile(File.java:1045)\n        at ir.sharif.math.ap2023.project.model.Database.getJsonFile(Database.java:54)\n        at ir.sharif.math.ap2023.project.model.Database.getInstance(Database.java:37)\n        at ir.sharif.math.ap2023.project.view.UIManager.&lt;init&gt;(UIManager.java:59)\n        at ir.sharif.math.ap2023.project.view.UIManager.getInstance(UIManager.java:143)\n        at ir.sharif.math.ap2023.project.controller.GameEngine.init(GameEngine.java:71)\n        at ir.sharif.math.ap2023.project.controller.GameEngine.&lt;init&gt;(GameEngine.java:54)\n        at ir.sharif.math.ap2023.project.controller.GameEngine.getInstance(GameEngine.java:60)\n        at ir.sharif.math.ap2023.project.Main.main(Main.java:7)\njava.io.FileNotFoundException: src\\main\\resources\\database\\database.json (The system cannot find the path specified)\n        at java.base/java.io.FileInputStream.open0(Native Method)\n        at java.base/java.io.FileInputStream.open(FileInputStream.java:219)\n        at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:158)\n        at com.fasterxml.jackson.core.TokenStreamFactory._fileInputStream(TokenStreamFactory.java:278)\n        at com.fasterxml.jackson.core.JsonFactory.createParser(JsonFactory.java:1089)\n        at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3637)\n        at ir.sharif.math.ap2023.project.model.Database.getInstance(Database.java:37)\n        at ir.sharif.math.ap2023.project.view.UIManager.&lt;init&gt;(UIManager.java:59)\n        at ir.sharif.math.ap2023.project.view.UIManager.getInstance(UIManager.java:143)\n        at ir.sharif.math.ap2023.project.controller.GameEngine.init(GameEngine.java:71)\n        at ir.sharif.math.ap2023.project.controller.GameEngine.&lt;init&gt;(GameEngine.java:54)\n        at ir.sharif.math.ap2023.project.controller.GameEngine.getInstance(GameEngine.java:60)\n        at ir.sharif.math.ap2023.project.Main.main(Main.java:7)\n</code></pre>\n<p>It runs without any problem after building project, but when I run this JAR file it gives me errors. This is my <code>pom.xml</code> by the way:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;ir.sharif.math.ap2023.project&lt;/groupId&gt;\n    &lt;artifactId&gt;super-mario-bros&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.15.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;20&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;20&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;mainClass&gt;ir.sharif.math.ap2023.project.Main&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;make-assembly&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I created the JAR file using <code>mvn clean compile assembly:single</code>.</p>\n"},{"tags":["java","jsch"],"owner":{"account_id":24449442,"reputation":93,"user_id":18371893,"display_name":"Alessandro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1688154297,"answer_count":0,"score":0,"last_activity_date":1687957356,"creation_date":1687957356,"question_id":76573457,"body_markdown":"I&#39;d like to use Jsch to copy a file from a remote directory to another remote directory.\r\n\r\nFor now I&#39;ve just done a simple ssh command: `cp remoteSource remoteDest` but is there a &quot;better&quot; way to accomplish that? \r\n\r\nBy better I mean a method in charge of doing it, in order to avoid potential mistakes or injection attacks while performing string manipulations.","title":"How to use Jsch to copy a file from a remote directory to another remote directory","body":"<p>I'd like to use Jsch to copy a file from a remote directory to another remote directory.</p>\n<p>For now I've just done a simple ssh command: <code>cp remoteSource remoteDest</code> but is there a &quot;better&quot; way to accomplish that?</p>\n<p>By better I mean a method in charge of doing it, in order to avoid potential mistakes or injection attacks while performing string manipulations.</p>\n"},{"tags":["java","intellij-idea","unsupported-class-version","java-runtime-compiler"],"comments":[{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1565041392,"post_id":57366359,"comment_id":101219013,"body_markdown":"Do you have [this option enabled](https://i.imgur.com/Kq837wX.png)? What are the [source/target level](https://stackoverflow.com/a/12900859/104891) settings in your project?","body":"Do you have <a href=\"https://i.imgur.com/Kq837wX.png\" rel=\"nofollow noreferrer\">this option enabled</a>? What are the <a href=\"https://stackoverflow.com/a/12900859/104891\">source/target level</a> settings in your project?"},{"owner":{"account_id":11347285,"reputation":141,"user_id":8319409,"display_name":"Armino"},"score":0,"creation_date":1565042234,"post_id":57366359,"comment_id":101219237,"body_markdown":"I have the &quot;Use compiler for module target...&quot; enabled. Under Project bytecode version, I had nothing selected, so I now tried selecting 12 and 13. Under &quot;Per-module bytecode version:&quot; I selected the module with &quot;Same as language level&quot;, but still I get the same error.","body":"I have the &quot;Use compiler for module target...&quot; enabled. Under Project bytecode version, I had nothing selected, so I now tried selecting 12 and 13. Under &quot;Per-module bytecode version:&quot; I selected the module with &quot;Same as language level&quot;, but still I get the same error."},{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1565042271,"post_id":57366359,"comment_id":101219242,"body_markdown":"What IntelliJ IDEA version do you use? Please share the [Minimal, Complete, and Verifiable example](https://stackoverflow.com/help/mcve).","body":"What IntelliJ IDEA version do you use? Please share the <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>."},{"owner":{"account_id":11347285,"reputation":141,"user_id":8319409,"display_name":"Armino"},"score":0,"creation_date":1565121964,"post_id":57366359,"comment_id":101250851,"body_markdown":"I&#39;m using Intellij IDEA 2019.2. I don&#39;t know if there is anything else I can share regarding this topic, besides the stuff above. The example has very little code and produces the same error (well at least on my IDE). P.S. Sorry for a somewhat late response. Additionally, I have tried running the Main function through terminal, and get the error obviously related to the same issue (I&#39;ll add this error to the post)","body":"I&#39;m using Intellij IDEA 2019.2. I don&#39;t know if there is anything else I can share regarding this topic, besides the stuff above. The example has very little code and produces the same error (well at least on my IDE). P.S. Sorry for a somewhat late response. Additionally, I have tried running the Main function through terminal, and get the error obviously related to the same issue (I&#39;ll add this error to the post)"},{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1565121999,"post_id":57366359,"comment_id":101250865,"body_markdown":"Zip and share the project directory.","body":"Zip and share the project directory."},{"owner":{"account_id":11347285,"reputation":141,"user_id":8319409,"display_name":"Armino"},"score":0,"creation_date":1565123481,"post_id":57366359,"comment_id":101251358,"body_markdown":"Oh I see. Unfortunately I don&#39;t see a file sharing option here, so here&#39;s a link (as I understand this might be unethical for people who will view this post in the future, but I guess we can explain how we solved the problem - even without access to the file) https://www.dropbox.com/s/he51lgd0mh1d8cl/Test.rar?dl=0","body":"Oh I see. Unfortunately I don&#39;t see a file sharing option here, so here&#39;s a link (as I understand this might be unethical for people who will view this post in the future, but I guess we can explain how we solved the problem - even without access to the file) <a href=\"https://www.dropbox.com/s/he51lgd0mh1d8cl/Test.rar?dl=0\" rel=\"nofollow noreferrer\">dropbox.com/s/he51lgd0mh1d8cl/Test.rar?dl=0</a>"},{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1565123697,"post_id":57366359,"comment_id":101251423,"body_markdown":"I [can&#39;t reproduce the problem](https://i.imgur.com/GxmX2Re.png) with this project. Please share idea.log and build.log files (enable debug logging for build.log). See https://intellij-support.jetbrains.com/hc/articles/207241085 for the instructions. Do you run using Java 12 from the command line just like in IntelliJ IDEA?","body":"I <a href=\"https://i.imgur.com/GxmX2Re.png\" rel=\"nofollow noreferrer\">can&#39;t reproduce the problem</a> with this project. Please share idea.log and build.log files (enable debug logging for build.log). See <a href=\"https://intellij-support.jetbrains.com/hc/articles/207241085\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/articles/207241085</a> for the instructions. Do you run using Java 12 from the command line just like in IntelliJ IDEA?"},{"owner":{"account_id":7172249,"reputation":8197,"user_id":5479362,"accept_rate":48,"display_name":"9ilsdx 9rvj 0lo"},"score":0,"creation_date":1623064678,"post_id":57366359,"comment_id":119963277,"body_markdown":"Does this answer your question? [How to fix java.lang.UnsupportedClassVersionError: Unsupported major.minor version](https://stackoverflow.com/questions/10382929/how-to-fix-java-lang-unsupportedclassversionerror-unsupported-major-minor-versi)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/10382929/how-to-fix-java-lang-unsupportedclassversionerror-unsupported-major-minor-versi\">How to fix java.lang.UnsupportedClassVersionError: Unsupported major.minor version</a>"}],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1565124347,"creation_date":1565124347,"answer_id":57383768,"question_id":57366359,"body_markdown":"Run `java -version` in the command line. If it&#39;s not Java 12 or later, it will explain the issue. You are targeting Java 12 version while run it on an older Java version.\r\n\r\nThe solution would be to either [adjust the target language level](https://stackoverflow.com/a/12900859/104891) so that your code can run on older Java versions or to adjust your `PATH` environment so that `java` from JDK 12 install directory is the first. Or you can specify the full path to `java.exe` in the command line when trying to run the code:\r\n\r\n```\r\nE:\\Software Projects\\Test\\out\\production\\Test&gt;&quot;C:\\Program Files\\Java\\jdk-12.0.1\\bin\\java.exe&quot; com.company.Main\r\n```","title":"Troubleshooting UnsupportedClassVersionError in IntelliJ IDEA","body":"<p>Run <code>java -version</code> in the command line. If it's not Java 12 or later, it will explain the issue. You are targeting Java 12 version while run it on an older Java version.</p>\n\n<p>The solution would be to either <a href=\"https://stackoverflow.com/a/12900859/104891\">adjust the target language level</a> so that your code can run on older Java versions or to adjust your <code>PATH</code> environment so that <code>java</code> from JDK 12 install directory is the first. Or you can specify the full path to <code>java.exe</code> in the command line when trying to run the code:</p>\n\n<pre><code>E:\\Software Projects\\Test\\out\\production\\Test&gt;\"C:\\Program Files\\Java\\jdk-12.0.1\\bin\\java.exe\" com.company.Main\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21647615,"reputation":1,"user_id":15968725,"display_name":"user15968725"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1621407040,"creation_date":1621407040,"answer_id":67598241,"question_id":57366359,"body_markdown":"Solved by editing file &quot;idea.properties&quot; and setting proper JVMVersion","title":"Troubleshooting UnsupportedClassVersionError in IntelliJ IDEA","body":"<p>Solved by editing file &quot;idea.properties&quot; and setting proper JVMVersion</p>\n"},{"tags":[],"owner":{"account_id":4562322,"reputation":323,"user_id":3704307,"accept_rate":100,"display_name":"Code Eyez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687957181,"creation_date":1687957181,"answer_id":76573437,"question_id":57366359,"body_markdown":"I had this issue when my &#39;Run/Debug Configurations&#39; were set to a different version.\r\n\r\nI updated them to default to the module level and it solved it for me.","title":"Troubleshooting UnsupportedClassVersionError in IntelliJ IDEA","body":"<p>I had this issue when my 'Run/Debug Configurations' were set to a different version.</p>\n<p>I updated them to default to the module level and it solved it for me.</p>\n"}],"owner":{"account_id":11347285,"reputation":141,"user_id":8319409,"display_name":"Armino"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19117,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":57383768,"answer_count":3,"score":3,"last_activity_date":1687957181,"creation_date":1565040945,"question_id":57366359,"body_markdown":"I&#39;m going through a Java course, using Intellij IDEA. In this &quot;Test&quot; project, I have only two test classes as shown below (they really don&#39;t have any code). \r\nBefore I get into the problem, I just need to state that all my projects run correctly, it&#39;s just that I have the following problem with running the terminal command, and I&#39;m afraid I messed something up with my IDE:\r\n\r\nThe problem occurs when I need to get the serial version of the class BankAccount using the following command: \r\n\r\n```\r\nE:\\Software Projects\\Test\\out\\production\\Test&gt;serialver com.company.BankAccount\r\n```\r\n\r\nI get the error that is shown below, and I understand that the classes were compiled by a newer Java Runtime error, but how do I troubleshoot this in Intellij? I get the same error when running the command on any class in any project.\r\n\r\nAdditional note: I also get an error related to this one when running the Main class in terminal using java com.company.Main\r\n\r\nWhat I think could be the cause of the problem: Prior to even trying &quot;serialver&quot; for the first time, I changed the name of a project folder (I just used &quot;Rename&quot; in my file explorer in Windows, and it messed everything up in Intellij (whatever project I opened, it had no SDK and no Run/Debug Configurations). So, I selected &quot;Add SDK&quot; on a project (or something similar, and selected a JRE 12 from the list.\r\nThen I ran &quot;Debug Main&quot; and the Run/Debug Configurations were set automatically.\r\n\r\nWhen I go to Project Structure &gt; Project Settings &gt; SDKs I only have one SDK :&quot;C:\\Program Files\\Java\\jdk-12.0.1&quot;.\r\n\r\nWhen I go to &quot;Run/Debug Configurations&quot; in a project, in the JRE of Application &gt; Main I have the following to select (but as far as I understand, these are all one and the same SDK, right?):\r\n\r\n- Default (12 - SDK of &#39;Test&#39; module)\r\n- 12(java version &quot;12.0.1&quot;)\r\n- &quot;C:\\Program Files\\Java\\jdk-12.0.1&quot;\r\n\r\n\r\nSo I don&#39;t know how I can adjust anything here? How was I able to compile these classes at a newer Java Runtime version at any point?\r\n\r\nThe problem here is that I&#39;m not sure if something else is wrong, or if the prior adjustments I&#39;ve made have messed something up. \r\n\r\n\r\nThe classes:\r\n\r\n    package com.company;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n    \t// write your code here\r\n        }\r\n    }\r\n    \r\n    package com.company;\r\n    \r\n    public class BankAccount {\r\n    }\r\n\r\nWhen running \r\n`E:\\Software Projects\\Test\\out\\production\\Test&gt;serialver com.company.BankAccount` \r\n\r\nWhat  I get in the terminal is the following error:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: com/company/BankAccount has been compiled by a more recent version of the Java Runtime (class file version 56.\r\n0), this version of the Java Runtime only recognizes class file versions up to 55.0\r\n        at java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n        at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\r\n        at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)\r\n        at java.base/java.net.URLClassLoader.defineClass(URLClassLoader.java:550)\r\n        at java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:458)\r\n        at java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:452)\r\n        at java.base/java.security.AccessController.doPrivileged(Native Method)\r\n        at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:451)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:588)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n        at java.base/java.lang.Class.forName0(Native Method)\r\n        at java.base/java.lang.Class.forName(Class.java:398)\r\n        at jdk.compiler/sun.tools.serialver.SerialVer.resolveClass(SerialVer.java:108)\r\n        at jdk.compiler/sun.tools.serialver.SerialVer.serialSyntax(SerialVer.java:80)\r\n        at jdk.compiler/sun.tools.serialver.SerialVer.main(SerialVer.java:188)\r\n```\r\n\r\n\r\nError when running the Main class with `E:\\Software Projects\\Test\\out\\production\\Test&gt;java com.company.Main`:\r\n\r\n```\r\nError: LinkageError occurred while loading main class com.company.Main\r\n        java.lang.UnsupportedClassVersionError: com/company/Main has been compiled by a more recent version of the Java Runtime (class file version 56.0), this version of the Java Runtime only recognizes class file versions up to 55.0\r\n```","title":"Troubleshooting UnsupportedClassVersionError in IntelliJ IDEA","body":"<p>I'm going through a Java course, using Intellij IDEA. In this \"Test\" project, I have only two test classes as shown below (they really don't have any code). \nBefore I get into the problem, I just need to state that all my projects run correctly, it's just that I have the following problem with running the terminal command, and I'm afraid I messed something up with my IDE:</p>\n\n<p>The problem occurs when I need to get the serial version of the class BankAccount using the following command: </p>\n\n<pre><code>E:\\Software Projects\\Test\\out\\production\\Test&gt;serialver com.company.BankAccount\n</code></pre>\n\n<p>I get the error that is shown below, and I understand that the classes were compiled by a newer Java Runtime error, but how do I troubleshoot this in Intellij? I get the same error when running the command on any class in any project.</p>\n\n<p>Additional note: I also get an error related to this one when running the Main class in terminal using java com.company.Main</p>\n\n<p>What I think could be the cause of the problem: Prior to even trying \"serialver\" for the first time, I changed the name of a project folder (I just used \"Rename\" in my file explorer in Windows, and it messed everything up in Intellij (whatever project I opened, it had no SDK and no Run/Debug Configurations). So, I selected \"Add SDK\" on a project (or something similar, and selected a JRE 12 from the list.\nThen I ran \"Debug Main\" and the Run/Debug Configurations were set automatically.</p>\n\n<p>When I go to Project Structure > Project Settings > SDKs I only have one SDK :\"C:\\Program Files\\Java\\jdk-12.0.1\".</p>\n\n<p>When I go to \"Run/Debug Configurations\" in a project, in the JRE of Application > Main I have the following to select (but as far as I understand, these are all one and the same SDK, right?):</p>\n\n<ul>\n<li>Default (12 - SDK of 'Test' module)</li>\n<li>12(java version \"12.0.1\")</li>\n<li>\"C:\\Program Files\\Java\\jdk-12.0.1\"</li>\n</ul>\n\n<p>So I don't know how I can adjust anything here? How was I able to compile these classes at a newer Java Runtime version at any point?</p>\n\n<p>The problem here is that I'm not sure if something else is wrong, or if the prior adjustments I've made have messed something up. </p>\n\n<p>The classes:</p>\n\n<pre><code>package com.company;\n\npublic class Main {\n\n    public static void main(String[] args) {\n    // write your code here\n    }\n}\n\npackage com.company;\n\npublic class BankAccount {\n}\n</code></pre>\n\n<p>When running \n<code>E:\\Software Projects\\Test\\out\\production\\Test&gt;serialver com.company.BankAccount</code> </p>\n\n<p>What  I get in the terminal is the following error:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.UnsupportedClassVersionError: com/company/BankAccount has been compiled by a more recent version of the Java Runtime (class file version 56.\n0), this version of the Java Runtime only recognizes class file versions up to 55.0\n        at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n        at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\n        at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)\n        at java.base/java.net.URLClassLoader.defineClass(URLClassLoader.java:550)\n        at java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:458)\n        at java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:452)\n        at java.base/java.security.AccessController.doPrivileged(Native Method)\n        at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:451)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:588)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n        at java.base/java.lang.Class.forName0(Native Method)\n        at java.base/java.lang.Class.forName(Class.java:398)\n        at jdk.compiler/sun.tools.serialver.SerialVer.resolveClass(SerialVer.java:108)\n        at jdk.compiler/sun.tools.serialver.SerialVer.serialSyntax(SerialVer.java:80)\n        at jdk.compiler/sun.tools.serialver.SerialVer.main(SerialVer.java:188)\n</code></pre>\n\n<p>Error when running the Main class with <code>E:\\Software Projects\\Test\\out\\production\\Test&gt;java com.company.Main</code>:</p>\n\n<pre><code>Error: LinkageError occurred while loading main class com.company.Main\n        java.lang.UnsupportedClassVersionError: com/company/Main has been compiled by a more recent version of the Java Runtime (class file version 56.0), this version of the Java Runtime only recognizes class file versions up to 55.0\n</code></pre>\n"},{"tags":["java","mysql","jasper-reports"],"answers":[{"tags":[],"owner":{"account_id":2000366,"reputation":1729,"user_id":1791574,"accept_rate":47,"display_name":"user1791574"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1406488866,"creation_date":1406488866,"answer_id":24984684,"question_id":24981331,"body_markdown":"You can try this:\r\n\r\n1. Send your formatted date using param.\r\ne.g.:\r\n\r\n`parametersMap.put(&quot;date&quot;, new SimpleDateFormat(&quot;MMM dd yyyy&quot;, Locale.FRANCE)\r\n            .format(new Date()));`\r\n\r\nSet this date in your report.\r\n\r\nEnjoy.","title":"Date locale in JasperReports","body":"<p>You can try this:</p>\n\n<ol>\n<li>Send your formatted date using param.\ne.g.:</li>\n</ol>\n\n<p><code>parametersMap.put(\"date\", new SimpleDateFormat(\"MMM dd yyyy\", Locale.FRANCE)\n            .format(new Date()));</code></p>\n\n<p>Set this date in your report.</p>\n\n<p>Enjoy.</p>\n"},{"tags":[],"owner":{"account_id":3924827,"reputation":907,"user_id":3245747,"accept_rate":75,"display_name":"user3245747"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1406618687,"creation_date":1406618687,"answer_id":25010149,"question_id":24981331,"body_markdown":"The answer provided by user1791574 worked fine for me. However, I found a better way especially if the date field appears in a sub report in several records. In that case it would not be possible to send the date as a parameter because we don&#39;t know how many records are in the sub report. The solution I found was obtained from http://community.jaspersoft.com/questions/532484/default-date-format-only-date and it consisted of using the following piece of code:\r\n\r\n    DateFormat.getDateInstance(DateFormat.SHORT, $P{REPORT_LOCALE}).format( $P{MyDateParam} )\r\n\r\nBoth ways worked fine but this &quot;is more natural&quot; in that jasper reports do the work and not the user through extra lines of code.","title":"Date locale in JasperReports","body":"<p>The answer provided by user1791574 worked fine for me. However, I found a better way especially if the date field appears in a sub report in several records. In that case it would not be possible to send the date as a parameter because we don't know how many records are in the sub report. The solution I found was obtained from <a href=\"http://community.jaspersoft.com/questions/532484/default-date-format-only-date\" rel=\"nofollow\">http://community.jaspersoft.com/questions/532484/default-date-format-only-date</a> and it consisted of using the following piece of code:</p>\n\n<pre><code>DateFormat.getDateInstance(DateFormat.SHORT, $P{REPORT_LOCALE}).format( $P{MyDateParam} )\n</code></pre>\n\n<p>Both ways worked fine but this \"is more natural\" in that jasper reports do the work and not the user through extra lines of code.</p>\n"},{"tags":[],"owner":{"account_id":28912314,"reputation":1,"user_id":22145063,"display_name":"Syaba_dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687956772,"creation_date":1687956772,"answer_id":76573386,"question_id":24981331,"body_markdown":"in my country indonesia, i am using this code\r\n\r\n    parametersMap.put(JRParameter.REPORT_LOCALE, new Locale(&quot;id&quot;));\r\n\r\nI wish this can help anyone using java EE or java","title":"Date locale in JasperReports","body":"<p>in my country indonesia, i am using this code</p>\n<pre><code>parametersMap.put(JRParameter.REPORT_LOCALE, new Locale(&quot;id&quot;));\n</code></pre>\n<p>I wish this can help anyone using java EE or java</p>\n"}],"owner":{"account_id":3924827,"reputation":907,"user_id":3245747,"accept_rate":75,"display_name":"user3245747"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4844,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":24984684,"answer_count":3,"score":1,"last_activity_date":1687956772,"creation_date":1406466965,"question_id":24981331,"body_markdown":"I am writing a program in Java that uses *JasperReports* to produce reports. One of the fields of the reports is a date field. I send the locale variable as such:\r\n\r\n        Map parametersMap = new HashMap();\r\n        parametersMap.put(JRParameter.REPORT_LOCALE, myLocale2);\r\n\r\nThis is working fine but the problem is that the time is also appearing in the date field. I used the DATE() function in MySQL but I still kept getting the time in my report. I only need the date to show (in the proper locale). If I set the pattern variable in report such that the date is shown in a specific format then the time would not appear, but this would cancel the locale setting and I don&#39;t want that. Can someone please tell me how to get rid of the time information? ","title":"Date locale in JasperReports","body":"<p>I am writing a program in Java that uses <em>JasperReports</em> to produce reports. One of the fields of the reports is a date field. I send the locale variable as such:</p>\n\n<pre><code>    Map parametersMap = new HashMap();\n    parametersMap.put(JRParameter.REPORT_LOCALE, myLocale2);\n</code></pre>\n\n<p>This is working fine but the problem is that the time is also appearing in the date field. I used the DATE() function in MySQL but I still kept getting the time in my report. I only need the date to show (in the proper locale). If I set the pattern variable in report such that the date is shown in a specific format then the time would not appear, but this would cancel the locale setting and I don't want that. Can someone please tell me how to get rid of the time information? </p>\n"},{"tags":["java","sorting","matrix","ojalgo"],"answers":[{"tags":[],"owner":{"account_id":5578339,"reputation":1275,"user_id":4421592,"display_name":"apete"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686159985,"creation_date":1686158349,"answer_id":76425694,"question_id":76424586,"body_markdown":"`Primitive64Matrix` is immutable. Maybe you&#39;ll find it more natural to work with the various classes in the `org.ojalgo.matrix.store` package. Further, `Primitive64Matrix` has been renamed `MatrixR064` in newer versions.\r\n\r\nHere something you can do, that is close to what you&#39;re currently doing:\r\n\r\n        double[][] tab = { { 1, 3, 4, 2 }, { 0, 4, 3, 1 } };\r\n        MatrixR064 matrix = MatrixR064.FACTORY.rows(tab);\r\n\r\n        DenseReceiver receiver = matrix.copy();\r\n\r\n        ArrayR064 temp = ArrayR064.make(matrix.getColDim());\r\n\r\n        for (RowView&lt;Double&gt; view : matrix.rows()) {\r\n            view.supplyTo(temp.data);\r\n            Arrays.sort(temp.data);\r\n            receiver.fillRow(view.row(), temp);\r\n        }\r\n\r\n        matrix = receiver.get();\r\n\r\n\r\nIf you use `Primitive64Store` (not yet renamed) instead of `MatrixR064` you can avoid copying the matrix, but still do essentially the same thing as above.\r\n\r\n        double[][] tab = { { 1, 3, 4, 2 }, { 0, 4, 3, 1 } };\r\n        Primitive64Store matrix = Primitive64Store.FACTORY.rows(tab);\r\n\r\n        ArrayR064 temp = ArrayR064.make(matrix.getColDim());\r\n\r\n        for (RowView&lt;Double&gt; view : matrix.rows()) {\r\n            view.supplyTo(temp.data);\r\n            Arrays.sort(temp.data);\r\n            matrix.fillRow(view.row(), temp);\r\n        }\r\n","title":"ojalgo : How to sort each row of a matrix?","body":"<p><code>Primitive64Matrix</code> is immutable. Maybe you'll find it more natural to work with the various classes in the <code>org.ojalgo.matrix.store</code> package. Further, <code>Primitive64Matrix</code> has been renamed <code>MatrixR064</code> in newer versions.</p>\n<p>Here something you can do, that is close to what you're currently doing:</p>\n<pre><code>    double[][] tab = { { 1, 3, 4, 2 }, { 0, 4, 3, 1 } };\n    MatrixR064 matrix = MatrixR064.FACTORY.rows(tab);\n\n    DenseReceiver receiver = matrix.copy();\n\n    ArrayR064 temp = ArrayR064.make(matrix.getColDim());\n\n    for (RowView&lt;Double&gt; view : matrix.rows()) {\n        view.supplyTo(temp.data);\n        Arrays.sort(temp.data);\n        receiver.fillRow(view.row(), temp);\n    }\n\n    matrix = receiver.get();\n</code></pre>\n<p>If you use <code>Primitive64Store</code> (not yet renamed) instead of <code>MatrixR064</code> you can avoid copying the matrix, but still do essentially the same thing as above.</p>\n<pre><code>    double[][] tab = { { 1, 3, 4, 2 }, { 0, 4, 3, 1 } };\n    Primitive64Store matrix = Primitive64Store.FACTORY.rows(tab);\n\n    ArrayR064 temp = ArrayR064.make(matrix.getColDim());\n\n    for (RowView&lt;Double&gt; view : matrix.rows()) {\n        view.supplyTo(temp.data);\n        Arrays.sort(temp.data);\n        matrix.fillRow(view.row(), temp);\n    }\n</code></pre>\n"}],"owner":{"account_id":28772117,"reputation":31,"user_id":22035658,"display_name":"user642308"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":219,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1687956483,"creation_date":1686149357,"question_id":76424586,"body_markdown":"I have a question about using the oj algo library,\r\n\r\nI would like to know if there is an easy and efficient way to take a row out of a Primitive64Matrix, sort it, and then replace it in the matrix,\r\nOr alternatively to sort each row of a Primitive64Matrix (but even then I would still like to know how to fill a row of a matrix efficiently)\r\n\r\nHere is what I&#39;m doing now : \r\n\r\n```\r\n\r\n        final double[][] tab = {\r\n            {\r\n                1, 3, 4, 2 },\r\n            {\r\n                0, 4, 3, 1 } };\r\n        Primitive64Matrix matrix = Primitive64Matrix.FACTORY.rows(tab);\r\n        for (int iRow = 0; iRow &lt; matrix.countRows(); iRow++) {\r\n            final double[] rowSorted = matrix.row(iRow).toRawCopy1D();\r\n\r\n            Arrays.sort(rowSorted);\r\n            final Primitive64Matrix.DenseReceiver receiver = matrix.copy();\r\n            receiver.fillRow(iRow, Primitive64Matrix.FACTORY.rows(rowSorted));\r\n            matrix = receiver.get();\r\n        }\r\n```\r\n\r\n\r\nI think it&#39;s ugly and surely they must be other more efficient ways to do that (especially the .copy is awful)\r\n\r\n\r\n","title":"ojalgo : How to sort each row of a matrix?","body":"<p>I have a question about using the oj algo library,</p>\n<p>I would like to know if there is an easy and efficient way to take a row out of a Primitive64Matrix, sort it, and then replace it in the matrix,\nOr alternatively to sort each row of a Primitive64Matrix (but even then I would still like to know how to fill a row of a matrix efficiently)</p>\n<p>Here is what I'm doing now :</p>\n<pre><code>\n        final double[][] tab = {\n            {\n                1, 3, 4, 2 },\n            {\n                0, 4, 3, 1 } };\n        Primitive64Matrix matrix = Primitive64Matrix.FACTORY.rows(tab);\n        for (int iRow = 0; iRow &lt; matrix.countRows(); iRow++) {\n            final double[] rowSorted = matrix.row(iRow).toRawCopy1D();\n\n            Arrays.sort(rowSorted);\n            final Primitive64Matrix.DenseReceiver receiver = matrix.copy();\n            receiver.fillRow(iRow, Primitive64Matrix.FACTORY.rows(rowSorted));\n            matrix = receiver.get();\n        }\n</code></pre>\n<p>I think it's ugly and surely they must be other more efficient ways to do that (especially the .copy is awful)</p>\n"},{"tags":["java","spring-boot","spring-security","jwt"],"comments":[{"owner":{"account_id":1074107,"reputation":238,"user_id":1072625,"display_name":"Neeraj"},"score":0,"creation_date":1674696013,"post_id":75240011,"comment_id":132771962,"body_markdown":"Please share your security config so that people can help better.. migrating to spring 6 has its nuances...","body":"Please share your security config so that people can help better.. migrating to spring 6 has its nuances..."},{"owner":{"account_id":24206123,"reputation":21,"user_id":18163311,"display_name":"Eu tamb&#233;m sou aluno _"},"score":0,"creation_date":1674782176,"post_id":75240011,"comment_id":132792124,"body_markdown":"I just changed it.","body":"I just changed it."}],"answers":[{"tags":[],"owner":{"account_id":4627939,"reputation":29,"user_id":3751177,"display_name":"lbos"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1687956046,"creation_date":1687956046,"answer_id":76573284,"question_id":75240011,"body_markdown":"By default, Spring handles all incoming requests, even if you did not define a specific `@Controller` for it yourself. It tries to handle such an unmapped request as a static resource request, because the default static path pattern includes everything: `/**`. If that fails, it will try to render the error web page (by default `/error`), which falls under your `anyRequest().authenticated()` config and lead to a `401` response. To see the error page, add `/error` to your `permitAll()` config. \r\n\r\nAlternatively, if you do not want to make use of the default error page and handle the error yourself, you will need to do the following:\r\n\r\n1. Define an exception handler, such as:\r\n   ```\r\n   @ControllerAdvice\r\n   public class MyAdvice {\r\n\r\n        @ExceptionHandler(NoHandlerFoundException.class)\r\n        @ResponseStatus(HttpStatus.NOT_FOUND)\r\n        public MyResponse handleUnknownResource(NoHandlerFoundException e) {\r\n           // handle it\r\n        }\r\n   }\r\n   ```\r\n 2. Override the static path pattern, such that it does not handle everything. For example, to only include the `/static` folder, configure `spring.mvc.static-path-pattern: /static`.\r\n3. Now it won&#39;t find a handler for your request, but by default it will still redirect you to `/error`, instead of throwing an exception that you can handle yourself. To override that behaviour, configure `spring.mvc.throw-exception-if-no-handler-found: true`","title":"Spring Security 6 returns error 401 intead of 404","body":"<p>By default, Spring handles all incoming requests, even if you did not define a specific <code>@Controller</code> for it yourself. It tries to handle such an unmapped request as a static resource request, because the default static path pattern includes everything: <code>/**</code>. If that fails, it will try to render the error web page (by default <code>/error</code>), which falls under your <code>anyRequest().authenticated()</code> config and lead to a <code>401</code> response. To see the error page, add <code>/error</code> to your <code>permitAll()</code> config.</p>\n<p>Alternatively, if you do not want to make use of the default error page and handle the error yourself, you will need to do the following:</p>\n<ol>\n<li>Define an exception handler, such as:\n<pre><code>@ControllerAdvice\npublic class MyAdvice {\n\n     @ExceptionHandler(NoHandlerFoundException.class)\n     @ResponseStatus(HttpStatus.NOT_FOUND)\n     public MyResponse handleUnknownResource(NoHandlerFoundException e) {\n        // handle it\n     }\n}\n</code></pre>\n</li>\n<li>Override the static path pattern, such that it does not handle everything. For example, to only include the <code>/static</code> folder, configure <code>spring.mvc.static-path-pattern: /static</code>.</li>\n<li>Now it won't find a handler for your request, but by default it will still redirect you to <code>/error</code>, instead of throwing an exception that you can handle yourself. To override that behaviour, configure <code>spring.mvc.throw-exception-if-no-handler-found: true</code></li>\n</ol>\n"}],"owner":{"account_id":24206123,"reputation":21,"user_id":18163311,"display_name":"Eu tamb&#233;m sou aluno _"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":766,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1687956046,"creation_date":1674681852,"question_id":75240011,"body_markdown":"When we are logged in the system and we access a resource that is not mapped ( doesn&#39;t exist) we get back a 404 error but it&#39;s not happening to me, I&#39;m getting 401 error but it doesnt&#39; make any sense because I&#39;m already logged and i think its a spring security bug.\r\n\r\nFilter :\r\n\r\n    if (tokenJWT != null) { \r\n\r\n        User user = recoverUser(tokenJWT); \r\n\r\n        Authentication authentication = new UsernamePasswordAuthenticationToken(user, null, user.getAuthorities()); \r\n        SecurityContextHolder.getContext().setAuthentication(authentication); // The authentication is being done here, the user is already logged!\r\n\r\n    }\r\n\r\n      filterChain.doFilter(request, response); // Here, the request goes to the next class, SecurityConfigurations.\r\n}\r\n\r\nSecurityConfigurations :\r\n\r\n\r\n    @RequiredArgsConstructor\r\n    @EnableWebSecurity\r\n    @Configuration\r\n    @Primary\r\n    public class SecurityConfigurationsImpl {\r\n\r\n    private final TokenService tokenService;\r\n\r\n    private final UserRepository userRepository;\r\n\r\n\r\n    @Bean\r\n    public PasswordEncoder encoder() { \r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n  \r\n    @Bean\r\n    public AuthenticationManager \r\n         authenticationManager(AuthenticationConfiguration \r\n         authenticationConfiguration) throws Exception {\r\n       return authenticationConfiguration.getAuthenticationManager();\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws \r\n      Exception {\r\n\r\n        http.authorizeHttpRequests()\r\n                .requestMatchers(&quot;/v3/api-docs/**&quot;, &quot;/swagger-ui.html&quot;, \r\n                &quot;/swagger-ui/**&quot;).permitAll()\r\n                .requestMatchers(AntPathRequestMatcher.antMatcher(&quot;/h2- \r\n                 console/**&quot;)).permitAll()\r\n                .requestMatchers(&quot;/auth&quot;, &quot;/users/register&quot;).permitAll() \r\n                .requestMatchers(&quot;/users&quot;, &quot;/users/**&quot;).hasRole(&quot;ADMIN&quot;) \r\n                .anyRequest().authenticated() \r\n                .and().cors()\r\n                .and().headers().frameOptions().disable()\r\n                .and().csrf().disable()        \r\n                .sessionManagement().sessionCreationPolicy\r\n                (SessionCreationPolicy.STATELESS)   \r\n                .sessionCreationPolicy\r\n                .and().addFilterBefore(new \r\n                 AuthenticationJWTFilter(tokenService, userRepository),          \r\n                 UsernamePasswordAuthenticationFilter.class()\r\n                .exceptionHandling().authenticationEntryPoint(new \r\n                 UnauthorizedHandler())\r\n                .and().exceptionHandling().accessDeniedHandler(new \r\n                ForbiddenHandler());\r\n\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public CorsConfigurationSource corsConfigurationSource() {\r\n        CorsConfiguration configuration = new \r\n        CorsConfiguration().applyPermitDefaultValues();\r\n        configuration.setAllowedMethods(Arrays.asList(&quot;POST&quot;, &quot;GET&quot;, \r\n        &quot;PUT&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;));\r\n        final UrlBasedCorsConfigurationSource source = new \r\n        UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n        return source;\r\n    }  \r\n\r\n\r\nWhen i&#39;m logged and access any resource that doesn&#39;t exist i had do get back 404 error but i&#39;m getting 401.[enter image description here](https://i.stack.imgur.com/uGBrb.png)\r\n\r\nI&#39;m sure the token is valid, the problem just happens when i try to access a resource that doesn&#39;t exist!\r\nIt started happening when I updated the spring boot version to 3.0.1\r\n\r\nI tried to watch videos on  youtube, look for the error solucion on the Google...","title":"Spring Security 6 returns error 401 intead of 404","body":"<p>When we are logged in the system and we access a resource that is not mapped ( doesn't exist) we get back a 404 error but it's not happening to me, I'm getting 401 error but it doesnt' make any sense because I'm already logged and i think its a spring security bug.</p>\n<p>Filter :</p>\n<pre><code>if (tokenJWT != null) { \n\n    User user = recoverUser(tokenJWT); \n\n    Authentication authentication = new UsernamePasswordAuthenticationToken(user, null, user.getAuthorities()); \n    SecurityContextHolder.getContext().setAuthentication(authentication); // The authentication is being done here, the user is already logged!\n\n}\n\n  filterChain.doFilter(request, response); // Here, the request goes to the next class, SecurityConfigurations.\n</code></pre>\n<p>}</p>\n<p>SecurityConfigurations :</p>\n<pre><code>@RequiredArgsConstructor\n@EnableWebSecurity\n@Configuration\n@Primary\npublic class SecurityConfigurationsImpl {\n\nprivate final TokenService tokenService;\n\nprivate final UserRepository userRepository;\n\n\n@Bean\npublic PasswordEncoder encoder() { \n    return new BCryptPasswordEncoder();\n}\n\n\n@Bean\npublic AuthenticationManager \n     authenticationManager(AuthenticationConfiguration \n     authenticationConfiguration) throws Exception {\n   return authenticationConfiguration.getAuthenticationManager();\n}\n\n@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws \n  Exception {\n\n    http.authorizeHttpRequests()\n            .requestMatchers(&quot;/v3/api-docs/**&quot;, &quot;/swagger-ui.html&quot;, \n            &quot;/swagger-ui/**&quot;).permitAll()\n            .requestMatchers(AntPathRequestMatcher.antMatcher(&quot;/h2- \n             console/**&quot;)).permitAll()\n            .requestMatchers(&quot;/auth&quot;, &quot;/users/register&quot;).permitAll() \n            .requestMatchers(&quot;/users&quot;, &quot;/users/**&quot;).hasRole(&quot;ADMIN&quot;) \n            .anyRequest().authenticated() \n            .and().cors()\n            .and().headers().frameOptions().disable()\n            .and().csrf().disable()        \n            .sessionManagement().sessionCreationPolicy\n            (SessionCreationPolicy.STATELESS)   \n            .sessionCreationPolicy\n            .and().addFilterBefore(new \n             AuthenticationJWTFilter(tokenService, userRepository),          \n             UsernamePasswordAuthenticationFilter.class()\n            .exceptionHandling().authenticationEntryPoint(new \n             UnauthorizedHandler())\n            .and().exceptionHandling().accessDeniedHandler(new \n            ForbiddenHandler());\n\n    return http.build();\n}\n\n@Bean\npublic CorsConfigurationSource corsConfigurationSource() {\n    CorsConfiguration configuration = new \n    CorsConfiguration().applyPermitDefaultValues();\n    configuration.setAllowedMethods(Arrays.asList(&quot;POST&quot;, &quot;GET&quot;, \n    &quot;PUT&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;));\n    final UrlBasedCorsConfigurationSource source = new \n    UrlBasedCorsConfigurationSource();\n    source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n    return source;\n}  \n</code></pre>\n<p>When i'm logged and access any resource that doesn't exist i had do get back 404 error but i'm getting 401.<a href=\"https://i.stack.imgur.com/uGBrb.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I'm sure the token is valid, the problem just happens when i try to access a resource that doesn't exist!\nIt started happening when I updated the spring boot version to 3.0.1</p>\n<p>I tried to watch videos on  youtube, look for the error solucion on the Google...</p>\n"},{"tags":["java","kotlin","jackson"],"comments":[{"owner":{"account_id":1642711,"reputation":19842,"user_id":1514861,"accept_rate":86,"display_name":"Ivo"},"score":0,"creation_date":1648734833,"post_id":71693732,"comment_id":126704172,"body_markdown":"YAML and JSON are not the same","body":"YAML and JSON are not the same"},{"owner":{"display_name":"user4093955"},"score":0,"creation_date":1648735053,"post_id":71693732,"comment_id":126704267,"body_markdown":"@IvoBeckers of course they are not. Just fixed the `val mapper` line which was not correct in the text of the question","body":"@IvoBeckers of course they are not. Just fixed the <code>val mapper</code> line which was not correct in the text of the question"}],"answers":[{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1648735666,"creation_date":1648735666,"answer_id":71693996,"question_id":71693732,"body_markdown":"You need to include the `jackson-dataformat-yaml` dependency and then create your ObjectMapper like this:\r\n\r\n    val mapper = ObjectMapper(YAMLFactory()).registerModule(KotlinModule())","title":"Reading from a YAML file in Kotlin","body":"<p>You need to include the <code>jackson-dataformat-yaml</code> dependency and then create your ObjectMapper like this:</p>\n<pre><code>val mapper = ObjectMapper(YAMLFactory()).registerModule(KotlinModule())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7926575,"reputation":16936,"user_id":5985853,"display_name":"Alexey Soshin"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1659435822,"creation_date":1659435822,"answer_id":73205919,"question_id":71693732,"body_markdown":"An alternative would be to use [Kaml][1]:\r\n\r\nAdd the following dependency to your `build.gradle.kts`\r\n```kotlin\r\nimplementation(&quot;com.charleskorn.kaml:kaml:0.46.0&quot;)\r\n```\r\n\r\nThen add @Serializable annotation to your data classes:\r\n```kotlin\r\n@Serializable\r\ndata class Cloud (\r\n    val owners: List&lt;Owner&gt;\r\n)\r\n```\r\n\r\nThen you can parse it from YAML:\r\n```kotlin\r\n\r\nval parsedYaml = Yaml.default.decodeFromString(Cloud.serializer(), Path.of(&quot;accounts.yaml&quot;).toFile().readText())\r\n```\r\n\r\n  [1]: https://github.com/charleskorn/kaml","title":"Reading from a YAML file in Kotlin","body":"<p>An alternative would be to use <a href=\"https://github.com/charleskorn/kaml\" rel=\"noreferrer\">Kaml</a>:</p>\n<p>Add the following dependency to your <code>build.gradle.kts</code></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>implementation(&quot;com.charleskorn.kaml:kaml:0.46.0&quot;)\n</code></pre>\n<p>Then add @Serializable annotation to your data classes:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Serializable\ndata class Cloud (\n    val owners: List&lt;Owner&gt;\n)\n</code></pre>\n<p>Then you can parse it from YAML:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>\nval parsedYaml = Yaml.default.decodeFromString(Cloud.serializer(), Path.of(&quot;accounts.yaml&quot;).toFile().readText())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15358663,"reputation":66,"user_id":11080242,"display_name":"Alex Kunni"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687955258,"creation_date":1687955258,"answer_id":76573182,"question_id":71693732,"body_markdown":"Add dependencies:\r\n\r\n    implementation(&quot;com.fasterxml.jackson.dataformat:jackson-dataformat-yaml:2.15.2&quot;)\r\n    implementation(&quot;com.fasterxml.jackson.module:jackson-module-kotlin:2.15.2&quot;)\r\n\r\nCreate mapper:\r\n\r\n    val mapper = ObjectMapper(YAMLFactory()).registerKotlinModule()","title":"Reading from a YAML file in Kotlin","body":"<p>Add dependencies:</p>\n<pre><code>implementation(&quot;com.fasterxml.jackson.dataformat:jackson-dataformat-yaml:2.15.2&quot;)\nimplementation(&quot;com.fasterxml.jackson.module:jackson-module-kotlin:2.15.2&quot;)\n</code></pre>\n<p>Create mapper:</p>\n<pre><code>val mapper = ObjectMapper(YAMLFactory()).registerKotlinModule()\n</code></pre>\n"}],"owner":{"display_name":"user4093955"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9155,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":71693996,"answer_count":3,"score":3,"last_activity_date":1687955258,"creation_date":1648734705,"question_id":71693732,"body_markdown":"I&#39;m having a hard time trying to figure out how to read a YAML file in Kotlin.\r\n\r\nIn short, the YAML has the following format:\r\n\r\n```yaml\r\naws:\r\n  foo:\r\n    dev:\r\n      id: &#39;1111&#39;\r\n    pro:\r\n      id: &#39;2222&#39;\r\n  bar:\r\n    dev:\r\n      id: &#39;3333&#39;\r\n    pro:\r\n      id: &#39;4444&#39;\r\n```\r\n\r\nI have created these data classes:\r\n\r\n```kotlin\r\ndata class Account (\r\n        val id: String\r\n)\r\n\r\ndata class Owner (\r\n        val accounts: List&lt;Account&gt;\r\n)\r\n\r\ndata class Cloud (\r\n        val owners: List&lt;Owner&gt;\r\n)\r\n```\r\n\r\nAnd then I try to parse the file with:\r\n\r\n```kotlin\r\nval mapper = ObjectMapper().registerModule(KotlinModule())\r\nval settings: Cloud = mapper.readValue(Path.of(&quot;accounts.yaml&quot;).toFile())\r\n# also tried this\r\nval settings: List&lt;Cloud&gt; = mapper.readValue(Path.of(&quot;accounts.yaml&quot;).toFile())\r\nprintln(settings)\r\n```\r\n\r\nthe `println` fails with `Exception in thread &quot;main&quot; com.fasterxml.jackson.core.JsonParseException: Unrecognized token &#39;aws&#39;: was expecting (JSON String, Number, Array, Object or token &#39;null&#39;, &#39;true&#39; or &#39;false&#39;)`\r\n\r\nWhy?\r\n\r\n","title":"Reading from a YAML file in Kotlin","body":"<p>I'm having a hard time trying to figure out how to read a YAML file in Kotlin.</p>\n<p>In short, the YAML has the following format:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>aws:\n  foo:\n    dev:\n      id: '1111'\n    pro:\n      id: '2222'\n  bar:\n    dev:\n      id: '3333'\n    pro:\n      id: '4444'\n</code></pre>\n<p>I have created these data classes:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>data class Account (\n        val id: String\n)\n\ndata class Owner (\n        val accounts: List&lt;Account&gt;\n)\n\ndata class Cloud (\n        val owners: List&lt;Owner&gt;\n)\n</code></pre>\n<p>And then I try to parse the file with:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val mapper = ObjectMapper().registerModule(KotlinModule())\nval settings: Cloud = mapper.readValue(Path.of(&quot;accounts.yaml&quot;).toFile())\n# also tried this\nval settings: List&lt;Cloud&gt; = mapper.readValue(Path.of(&quot;accounts.yaml&quot;).toFile())\nprintln(settings)\n</code></pre>\n<p>the <code>println</code> fails with <code>Exception in thread &quot;main&quot; com.fasterxml.jackson.core.JsonParseException: Unrecognized token 'aws': was expecting (JSON String, Number, Array, Object or token 'null', 'true' or 'false')</code></p>\n<p>Why?</p>\n"},{"tags":["java","spring","database","spring-boot","annotations"],"answers":[{"tags":[],"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687954951,"creation_date":1687954951,"answer_id":76573140,"question_id":76573084,"body_markdown":"sounds like a good case for `EventListener`:\r\n\r\n```\r\n@EventListener\r\npublic void handleContextRefreshEvent(ContextStartedEvent ctxStartEvt) {\r\n    System.out.println(&quot;Context Start Event received.&quot;);\r\n}\r\n```\r\n\r\nhere you can implement custom logic looking for annotation and setting values correspondingly.\r\n\r\nfor more info see [here][1]\r\n\r\n---\r\n\r\nSimple approach, that I would rather advise is simple `@PostConstruct` - it is called after all the dependencies are injected at a specific bean, and you can use it to finalize setting properties for that one bean - see [here][2]\r\n\r\nExample:\r\n\r\n```\r\n@Component\r\npublic class DbInit {\r\n\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @PostConstruct\r\n    private void postConstruct() {\r\n        User admin = new User(&quot;admin&quot;, &quot;admin password&quot;);\r\n        User normalUser = new User(&quot;user&quot;, &quot;user password&quot;);\r\n        userRepository.save(admin, normalUser);\r\n    }\r\n}\r\n```\r\n \r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-context-events\r\n  [2]: https://www.baeldung.com/spring-postconstruct-predestroy","title":"Custom ConfigurationProperties Spring Boot annotation relying on DB content","body":"<p>sounds like a good case for <code>EventListener</code>:</p>\n<pre><code>@EventListener\npublic void handleContextRefreshEvent(ContextStartedEvent ctxStartEvt) {\n    System.out.println(&quot;Context Start Event received.&quot;);\n}\n</code></pre>\n<p>here you can implement custom logic looking for annotation and setting values correspondingly.</p>\n<p>for more info see <a href=\"https://www.baeldung.com/spring-context-events\" rel=\"nofollow noreferrer\">here</a></p>\n<hr />\n<p>Simple approach, that I would rather advise is simple <code>@PostConstruct</code> - it is called after all the dependencies are injected at a specific bean, and you can use it to finalize setting properties for that one bean - see <a href=\"https://www.baeldung.com/spring-postconstruct-predestroy\" rel=\"nofollow noreferrer\">here</a></p>\n<p>Example:</p>\n<pre><code>@Component\npublic class DbInit {\n\n    @Autowired\n    private UserRepository userRepository;\n\n    @PostConstruct\n    private void postConstruct() {\n        User admin = new User(&quot;admin&quot;, &quot;admin password&quot;);\n        User normalUser = new User(&quot;user&quot;, &quot;user password&quot;);\n        userRepository.save(admin, normalUser);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1205314,"reputation":161,"user_id":1175107,"accept_rate":83,"display_name":"Oleg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687954951,"creation_date":1687954494,"question_id":76573084,"body_markdown":"I&#39;m looking to create a custom Spring Boot annotation that would inject parameters in my Spring Beans based on values stored in DB.\r\nThis means, **I need to tell Spring to go look for these values in DB at start-up and then make them available to the custom annotation.**\r\n\r\nI am not sure this is feasible, I went through ConfigurationProperties source code (init, binding, etc.) but didn&#39;t help much.\r\n\r\nIf you have any clue that could help going in the right direction, please don&#39;t hesitate.","title":"Custom ConfigurationProperties Spring Boot annotation relying on DB content","body":"<p>I'm looking to create a custom Spring Boot annotation that would inject parameters in my Spring Beans based on values stored in DB.\nThis means, <strong>I need to tell Spring to go look for these values in DB at start-up and then make them available to the custom annotation.</strong></p>\n<p>I am not sure this is feasible, I went through ConfigurationProperties source code (init, binding, etc.) but didn't help much.</p>\n<p>If you have any clue that could help going in the right direction, please don't hesitate.</p>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":3461571,"reputation":325,"user_id":2898507,"display_name":"Rambabu Kokkiligadda"},"score":0,"creation_date":1626699312,"post_id":68440079,"comment_id":120955636,"body_markdown":"@K.Nicholas thanks for your suggestion. I changed .map() to .peek() based on IntelliJ&#39;s suggestion. Can you please elaborate why I can&#39;t use peek()? Is the above code executed in sequential or async order?","body":"@K.Nicholas thanks for your suggestion. I changed .map() to .peek() based on IntelliJ&#39;s suggestion. Can you please elaborate why I can&#39;t use peek()? Is the above code executed in sequential or async order?"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687954943,"creation_date":1626701513,"answer_id":68441361,"question_id":68440079,"body_markdown":"The direct answer to your question is a resounding &#39;no&#39;, but you&#39;re misusing streams, which presumably is part of why you are even asking this question. You&#39;re operating on mutables in stream code, which you shouldn&#39;t be doing: It&#39;s why I&#39;m saying &#39;misusing&#39; - this code compiles and works but leads to hard to read and had to maintain code that will fail in weird ways as you use more and more of the stream API. The solution is not to go against the grain so much.\r\n\r\nYou&#39;re also engaging in stringly based typing which is another style mistake.\r\n\r\nFinally, your `collect` call is misleading.\r\n\r\nSo, to answer the question:\r\n\r\n&gt; Does it lead to data corruption in production?\r\n\r\nNo. How would you imagine it would?\r\n\r\n### Style mistake #1: mutables\r\n\r\nStreams don&#39;t work nearly as well when you&#39;re working with mutables. The general idea is that you have immutable classes (classes without any setters; the instances of these classes cannot change after construction. `String` is immutable, so is `Integer`, and so is `BigDecimal`. There is no `.setValue()` on an integer instance, there is no `setChar()` on a string, or even a `clear()` or an `append()` - all operations on immutables that appear to modify things actually return a new instance that contains the result of the operation. `someBigDecimal.add()` doesn&#39;t change what `someBigDecimal` is pointing at; it constructs a new bigDecimal instance and returns that.\r\n\r\nWith immutables, if you want to change things, Stream&#39;s `map` method is the right one to use: For example, if you have a stream of BigDecimal objects and you want to, say, print them all, but with 2.5 added to them, you&#39;d be calling `map`: You want to map each input BigDecimal into an output BD by asking the BD instance to make a new BD instance by adding 2.5 to itself.\r\n\r\nWith mutables, both `map` and `peek` are more relevant. Style debates are rife on what to do. `peek` just lets you witness what&#39;s going through a stream pipeline. It can be misleading because stream pipelines dont process anything until you stick a terminator on the end (something like `collect`, or `max()` or whatnot, those are &#39;terminators&#39;). When talking about mutables, `peek` in theory works just as well as map does and some (evidently, including intellij&#39;s auto-suggest authors) are of the belief that a map operation that really just mutates the underlying object in the stream and returns the same reference is a style violation and should be replaced with a `peek` operation instead.\r\n\r\nBut the far more relevant observation is that __stream operations should not be mutating anything at all__. Do not call setters.\r\n\r\nYou have 2 options:\r\n\r\n1. Massively refactor this code, make `CustomIdentifier` immutable (get rid of the setters, make all fields final, consider adding with-ers and builders and the like), change your peek code to something like:\r\n\r\n```\r\n.map(identifier -&gt; {\r\n    if (....) return customerIdentifier.with(RefType.REF);\r\n    return identifier.withCountry(new Country(summary.get..., summary.get...));\r\n})\r\n```\r\n\r\nNote that `Country` also needs this treatment.\r\n\r\n2. Do not use streams.\r\n\r\nThis is much simpler. This code is __vastly__ less confusing and better style if you just write a foreach loop. I have no idea why you thought streams were appropriate here. Streams are not &#39;better&#39;. A problem is that adherents of functional style are so incredibly convinced they are correct they spread copious FUD (Fear, Uncertainty, Doubt) about non-functional approaches and strongly insinuate that functional style is &#39;just better&#39;. This is not true - it&#39;s merely a different style that is more suitable to some domains and less to others. This style goes __a lot__ further than just &#39;turn for loops into streams&#39;, and unawareness of what &#39;functional style&#39; really means just leads to hard to maintain, hard to read, weird code like what you pasted.\r\n\r\n### I really, really want to use streams here\r\n\r\nThis is just a bad idea here (unless you do the full rewrite to immutables), but if you __MUST__, the actual right answer is not what intellij said, it&#39;s to use forEach. This is peek and the terminal in one package. It gets rid of the pointless `collect` (which just recreates a list that is 100% identical to what `customerSummary.getCustomerIdentifiers()` returns) call and properly represents what is actually happening (which is NOT that you&#39;re writing code that witnesses what is flowing through the stream pipe, you&#39;re writing code that you intend to execute on each element in the stream).\r\n\r\nBut that&#39;s still much worse than this:\r\n\r\n```\r\nCustomerSummary summary = customerSummaryDTO.getCustomerSummary();\r\nfor (CustomerIdentifier identifier : summary.getCustomerIdentifiers()) {\r\n    if (getCustomerReferenceTypes().contains(customerIdentifier.getIdentifierType())) {\r\n        customerIdentifier.setRefType(RefType.REF.toString());\r\n    } else {\r\n        customerIdentifier.setRefType(RefType.TAX.toString());\r\n        Country country = new Country();\r\n        country.setIsoCountryCode(customerSummary.getCustomerAddresses().get(0).getIsoCountryCode());\r\n        country.setCountryName(customerSummary.getCustomerAddresses().get(0).getCountryName());\r\n        customerIdentifier.setCountry(country);\r\n    }\r\n}\r\n\r\nreturn customerSummary;\r\n```\r\n\r\n## Style mistake #2: stringly typing\r\n\r\nWhy isn&#39;t the refType field in `CustomerIdentifier` just `RefType`? Why are you converting RefType instances to strings and back?\r\n\r\nDB engines support enums and if they don&#39;t, the in-between layer (your DTO) should support marshalling enums into strings and back.\r\n","title":"Does it lead to data corruption when we access an outside object in a Java 8 map function?","body":"<p>The direct answer to your question is a resounding 'no', but you're misusing streams, which presumably is part of why you are even asking this question. You're operating on mutables in stream code, which you shouldn't be doing: It's why I'm saying 'misusing' - this code compiles and works but leads to hard to read and had to maintain code that will fail in weird ways as you use more and more of the stream API. The solution is not to go against the grain so much.</p>\n<p>You're also engaging in stringly based typing which is another style mistake.</p>\n<p>Finally, your <code>collect</code> call is misleading.</p>\n<p>So, to answer the question:</p>\n<blockquote>\n<p>Does it lead to data corruption in production?</p>\n</blockquote>\n<p>No. How would you imagine it would?</p>\n<h3>Style mistake #1: mutables</h3>\n<p>Streams don't work nearly as well when you're working with mutables. The general idea is that you have immutable classes (classes without any setters; the instances of these classes cannot change after construction. <code>String</code> is immutable, so is <code>Integer</code>, and so is <code>BigDecimal</code>. There is no <code>.setValue()</code> on an integer instance, there is no <code>setChar()</code> on a string, or even a <code>clear()</code> or an <code>append()</code> - all operations on immutables that appear to modify things actually return a new instance that contains the result of the operation. <code>someBigDecimal.add()</code> doesn't change what <code>someBigDecimal</code> is pointing at; it constructs a new bigDecimal instance and returns that.</p>\n<p>With immutables, if you want to change things, Stream's <code>map</code> method is the right one to use: For example, if you have a stream of BigDecimal objects and you want to, say, print them all, but with 2.5 added to them, you'd be calling <code>map</code>: You want to map each input BigDecimal into an output BD by asking the BD instance to make a new BD instance by adding 2.5 to itself.</p>\n<p>With mutables, both <code>map</code> and <code>peek</code> are more relevant. Style debates are rife on what to do. <code>peek</code> just lets you witness what's going through a stream pipeline. It can be misleading because stream pipelines dont process anything until you stick a terminator on the end (something like <code>collect</code>, or <code>max()</code> or whatnot, those are 'terminators'). When talking about mutables, <code>peek</code> in theory works just as well as map does and some (evidently, including intellij's auto-suggest authors) are of the belief that a map operation that really just mutates the underlying object in the stream and returns the same reference is a style violation and should be replaced with a <code>peek</code> operation instead.</p>\n<p>But the far more relevant observation is that <strong>stream operations should not be mutating anything at all</strong>. Do not call setters.</p>\n<p>You have 2 options:</p>\n<ol>\n<li>Massively refactor this code, make <code>CustomIdentifier</code> immutable (get rid of the setters, make all fields final, consider adding with-ers and builders and the like), change your peek code to something like:</li>\n</ol>\n<pre><code>.map(identifier -&gt; {\n    if (....) return customerIdentifier.with(RefType.REF);\n    return identifier.withCountry(new Country(summary.get..., summary.get...));\n})\n</code></pre>\n<p>Note that <code>Country</code> also needs this treatment.</p>\n<ol start=\"2\">\n<li>Do not use streams.</li>\n</ol>\n<p>This is much simpler. This code is <strong>vastly</strong> less confusing and better style if you just write a foreach loop. I have no idea why you thought streams were appropriate here. Streams are not 'better'. A problem is that adherents of functional style are so incredibly convinced they are correct they spread copious FUD (Fear, Uncertainty, Doubt) about non-functional approaches and strongly insinuate that functional style is 'just better'. This is not true - it's merely a different style that is more suitable to some domains and less to others. This style goes <strong>a lot</strong> further than just 'turn for loops into streams', and unawareness of what 'functional style' really means just leads to hard to maintain, hard to read, weird code like what you pasted.</p>\n<h3>I really, really want to use streams here</h3>\n<p>This is just a bad idea here (unless you do the full rewrite to immutables), but if you <strong>MUST</strong>, the actual right answer is not what intellij said, it's to use forEach. This is peek and the terminal in one package. It gets rid of the pointless <code>collect</code> (which just recreates a list that is 100% identical to what <code>customerSummary.getCustomerIdentifiers()</code> returns) call and properly represents what is actually happening (which is NOT that you're writing code that witnesses what is flowing through the stream pipe, you're writing code that you intend to execute on each element in the stream).</p>\n<p>But that's still much worse than this:</p>\n<pre><code>CustomerSummary summary = customerSummaryDTO.getCustomerSummary();\nfor (CustomerIdentifier identifier : summary.getCustomerIdentifiers()) {\n    if (getCustomerReferenceTypes().contains(customerIdentifier.getIdentifierType())) {\n        customerIdentifier.setRefType(RefType.REF.toString());\n    } else {\n        customerIdentifier.setRefType(RefType.TAX.toString());\n        Country country = new Country();\n        country.setIsoCountryCode(customerSummary.getCustomerAddresses().get(0).getIsoCountryCode());\n        country.setCountryName(customerSummary.getCustomerAddresses().get(0).getCountryName());\n        customerIdentifier.setCountry(country);\n    }\n}\n\nreturn customerSummary;\n</code></pre>\n<h2>Style mistake #2: stringly typing</h2>\n<p>Why isn't the refType field in <code>CustomerIdentifier</code> just <code>RefType</code>? Why are you converting RefType instances to strings and back?</p>\n<p>DB engines support enums and if they don't, the in-between layer (your DTO) should support marshalling enums into strings and back.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1626702474,"creation_date":1626701650,"answer_id":68441405,"question_id":68440079,"body_markdown":"The literal answer to your question is No ... assuming that the access is thread-safe.\r\n\r\n-----------------\r\n\r\nBut your code *probably* doesn&#39;t do what you think it does.\r\n\r\nThe `peek()` method returns the precise stream of objects that it is called on.  So your code is effectively doing this:\r\n\r\n     summary.setCustomerIdentifiers(\r\n            new SomeListClass&lt;&gt;(summary.getCustomerIdentifiers()));\r\n\r\n... while doing some operations on the identifier objects.\r\n\r\nYou are (AFAIK unnecessarily) copying the list and reassigning it to the field of the `summary` object.\r\n\r\n-----------------\r\n\r\nIt would be simpler AND more efficient to write it as:\r\n\r\n    for (CustomerIdentifier id: summary.getCustomerIdentifiers()) {\r\n        if (getCustomerReferenceTypes().contains(id.getIdentifierType())) {\r\n            id.setRefType(RefType.REF.toString());\r\n        } else {\r\n            id.setRefType(RefType.TAX.toString());\r\n            Country country = new Country();\r\n            Address address = summary.getCustomerAddresses().get(0);\r\n            country.setIsoCountryCode(address.getIsoCountryCode());\r\n            country.setCountryName(address.getCountryName());\r\n            id.setCountry(country);\r\n        }\r\n    }\r\n\r\nYou could do the above using a `list.stream().forEach()`, or a `list.forEach()`, but the code is (IMO) neither simpler or substantially more concise than a plain loop. \r\n\r\n    summary.getCustomerIdentifiers().forEach(\r\n        id -&gt; {\r\n            if (getCustomerReferenceTypes().contains(id.getIdentifierType())) {\r\n                id.setRefType(RefType.REF.toString());\r\n            } else {\r\n                id.setRefType(RefType.TAX.toString());\r\n                Country country = new Country();\r\n                Address address = summary.getCustomerAddresses().get(0);\r\n                country.setIsoCountryCode(address.getIsoCountryCode());\r\n                country.setCountryName(address.getCountryName());\r\n                id.setCountry(country);\r\n            }\r\n        }\r\n    );\r\n\r\n(A final micro-optimization would be to declare and initialize `address` outside of the loop.)\r\n\r\nJava 8 streams are not the solution to all problems.","title":"Does it lead to data corruption when we access an outside object in a Java 8 map function?","body":"<p>The literal answer to your question is No ... assuming that the access is thread-safe.</p>\n<hr />\n<p>But your code <em>probably</em> doesn't do what you think it does.</p>\n<p>The <code>peek()</code> method returns the precise stream of objects that it is called on.  So your code is effectively doing this:</p>\n<pre><code> summary.setCustomerIdentifiers(\n        new SomeListClass&lt;&gt;(summary.getCustomerIdentifiers()));\n</code></pre>\n<p>... while doing some operations on the identifier objects.</p>\n<p>You are (AFAIK unnecessarily) copying the list and reassigning it to the field of the <code>summary</code> object.</p>\n<hr />\n<p>It would be simpler AND more efficient to write it as:</p>\n<pre><code>for (CustomerIdentifier id: summary.getCustomerIdentifiers()) {\n    if (getCustomerReferenceTypes().contains(id.getIdentifierType())) {\n        id.setRefType(RefType.REF.toString());\n    } else {\n        id.setRefType(RefType.TAX.toString());\n        Country country = new Country();\n        Address address = summary.getCustomerAddresses().get(0);\n        country.setIsoCountryCode(address.getIsoCountryCode());\n        country.setCountryName(address.getCountryName());\n        id.setCountry(country);\n    }\n}\n</code></pre>\n<p>You could do the above using a <code>list.stream().forEach()</code>, or a <code>list.forEach()</code>, but the code is (IMO) neither simpler or substantially more concise than a plain loop.</p>\n<pre><code>summary.getCustomerIdentifiers().forEach(\n    id -&gt; {\n        if (getCustomerReferenceTypes().contains(id.getIdentifierType())) {\n            id.setRefType(RefType.REF.toString());\n        } else {\n            id.setRefType(RefType.TAX.toString());\n            Country country = new Country();\n            Address address = summary.getCustomerAddresses().get(0);\n            country.setIsoCountryCode(address.getIsoCountryCode());\n            country.setCountryName(address.getCountryName());\n            id.setCountry(country);\n        }\n    }\n);\n</code></pre>\n<p>(A final micro-optimization would be to declare and initialize <code>address</code> outside of the loop.)</p>\n<p>Java 8 streams are not the solution to all problems.</p>\n"}],"owner":{"account_id":3461571,"reputation":325,"user_id":2898507,"display_name":"Rambabu Kokkiligadda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687954943,"creation_date":1626695717,"question_id":68440079,"body_markdown":"I have object customerSummary at line #2 and accessing it at lines #11 &amp; #12. Does it lead to data corruption in production?\r\n\r\n```\r\nprivate CustomerSummary enrichCustomerIdentifiers(CustomerSummaryDTO customerSummaryDTO) {\r\n    CustomerSummary customerSummary = customerSummaryDTO.getCustomerSummary();\r\n\r\n    List&lt;CustomerIdentifier&gt; customerIdentifiers = customerSummary\r\n            .getCustomerIdentifiers().stream()\r\n            .peek(customerIdentifier -&gt; {\r\n                if (getCustomerReferenceTypes().contains(customerIdentifier.getIdentifierType())) {\r\n                    customerIdentifier.setRefType(RefType.REF.toString());\r\n                } else {\r\n                    customerIdentifier.setRefType(RefType.TAX.toString());\r\n                    Country country = new Country();\r\n                    country.setIsoCountryCode(customerSummary.getCustomerAddresses().get(0).getIsoCountryCode());\r\n                    country.setCountryName(customerSummary.getCustomerAddresses().get(0).getCountryName());\r\n                    customerIdentifier.setCountry(country);\r\n                }\r\n            }).collect(Collectors.toList());\r\n    customerSummary.setCustomerIdentifiers(customerIdentifiers);\r\n\r\n    return customerSummary;\r\n}\r\n\r\n```","title":"Does it lead to data corruption when we access an outside object in a Java 8 map function?","body":"<p>I have object customerSummary at line #2 and accessing it at lines #11 &amp; #12. Does it lead to data corruption in production?</p>\n<pre><code>private CustomerSummary enrichCustomerIdentifiers(CustomerSummaryDTO customerSummaryDTO) {\n    CustomerSummary customerSummary = customerSummaryDTO.getCustomerSummary();\n\n    List&lt;CustomerIdentifier&gt; customerIdentifiers = customerSummary\n            .getCustomerIdentifiers().stream()\n            .peek(customerIdentifier -&gt; {\n                if (getCustomerReferenceTypes().contains(customerIdentifier.getIdentifierType())) {\n                    customerIdentifier.setRefType(RefType.REF.toString());\n                } else {\n                    customerIdentifier.setRefType(RefType.TAX.toString());\n                    Country country = new Country();\n                    country.setIsoCountryCode(customerSummary.getCustomerAddresses().get(0).getIsoCountryCode());\n                    country.setCountryName(customerSummary.getCustomerAddresses().get(0).getCountryName());\n                    customerIdentifier.setCountry(country);\n                }\n            }).collect(Collectors.toList());\n    customerSummary.setCustomerIdentifiers(customerIdentifiers);\n\n    return customerSummary;\n}\n\n</code></pre>\n"},{"tags":["java","string","enums","format"],"answers":[{"tags":[],"owner":{"account_id":4008309,"reputation":3678,"user_id":3302424,"accept_rate":70,"display_name":"Hari Krishna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687954575,"creation_date":1671617273,"answer_id":74874353,"question_id":74874267,"body_markdown":"You can use [String.format][1] method.\r\n\r\n    public static String finalMsg(final CustomErrorEnum customErrorEnum, Object... args) {\r\n    \t\tfinal String formattedMsg = String.format(customErrorEnum.label, args);\r\n    \t\treturn customErrorEnum.code + &quot;,&quot; + formattedMsg;\r\n    \t}\r\n\r\nComplete applicaiton is given below.\r\n\r\n    public class App {\r\n    \r\n    \tprivate static enum CustomErrorEnum {\r\n    \t\tMISSING_VALUE1(&quot;CODE1&quot;, &quot;the label %s is missing&quot;), WRONG_VALUE1(&quot;CODE2&quot;, &quot;the label %s is wrong&quot;);\r\n    \r\n    \t\tprivate String code;\r\n    \t\tprivate String label;\r\n    \r\n    \t\tCustomErrorEnum(String code, String label) {\r\n    \t\t\tthis.code = code;\r\n    \t\t\tthis.label = label;\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tpublic static String finalMsg(final CustomErrorEnum customErrorEnum, Object... args) {\r\n    \t\tfinal String formattedMsg = String.format(customErrorEnum.label, args);\r\n    \t\treturn customErrorEnum.code + &quot;,&quot; + formattedMsg;\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(finalMsg(CustomErrorEnum.MISSING_VALUE1, &quot;city&quot;));\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://self-learning-java-tutorial.blogspot.com/2014/06/format-string-format-object-args.html","title":"How to dynamic formating Enum label at runtime","body":"<p>You can use <a href=\"https://self-learning-java-tutorial.blogspot.com/2014/06/format-string-format-object-args.html\" rel=\"nofollow noreferrer\">String.format</a> method.</p>\n<pre><code>public static String finalMsg(final CustomErrorEnum customErrorEnum, Object... args) {\n        final String formattedMsg = String.format(customErrorEnum.label, args);\n        return customErrorEnum.code + &quot;,&quot; + formattedMsg;\n    }\n</code></pre>\n<p>Complete applicaiton is given below.</p>\n<pre><code>public class App {\n\n    private static enum CustomErrorEnum {\n        MISSING_VALUE1(&quot;CODE1&quot;, &quot;the label %s is missing&quot;), WRONG_VALUE1(&quot;CODE2&quot;, &quot;the label %s is wrong&quot;);\n\n        private String code;\n        private String label;\n\n        CustomErrorEnum(String code, String label) {\n            this.code = code;\n            this.label = label;\n        }\n\n    }\n\n    public static String finalMsg(final CustomErrorEnum customErrorEnum, Object... args) {\n        final String formattedMsg = String.format(customErrorEnum.label, args);\n        return customErrorEnum.code + &quot;,&quot; + formattedMsg;\n    }\n\n    public static void main(String[] args) {\n        System.out.println(finalMsg(CustomErrorEnum.MISSING_VALUE1, &quot;city&quot;));\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23991256,"reputation":11,"user_id":17977380,"display_name":"Krypt0n112"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671617508,"creation_date":1671617508,"answer_id":74874399,"question_id":74874267,"body_markdown":"For adding Values inside a String you can do:\r\n\r\n```\r\nString error = &quot;W001, The Value &quot; + variable + &quot; is wrong&quot;\r\n```\r\n\r\nIn combination with your enum, if you get a String than create a new one like\r\n\r\n```\r\nString error = yourString.subString(index1,index2) + variables + sourString.subString(index3, index4);\r\n```\r\n","title":"How to dynamic formating Enum label at runtime","body":"<p>For adding Values inside a String you can do:</p>\n<pre><code>String error = &quot;W001, The Value &quot; + variable + &quot; is wrong&quot;\n</code></pre>\n<p>In combination with your enum, if you get a String than create a new one like</p>\n<pre><code>String error = yourString.subString(index1,index2) + variables + sourString.subString(index3, index4);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687954594,"creation_date":1687954594,"answer_id":76573095,"question_id":74874267,"body_markdown":"I would introduce a method on `enum` to provide a formatted message based on the arguments provided:\r\n\r\n```java\r\n@RequiredArgsConstructor\r\npublic enum CustomErrorEnum {\r\n\r\n\tMISSING_VALUE1(&quot;CODE1&quot;,&quot;the label %s is missing&quot;),\r\n\tWRONG_VALUE1(&quot;CODE2&quot;,&quot;the label %s is wrong&quot;);\r\n\r\n\tprivate final String code;\r\n\tprivate final String message;\r\n\r\n\tpublic final String format(Object... args) {\r\n\t\treturn String.format(message, args);\r\n\t}\r\n}\r\n```\r\n```java\r\nSystem.out.println(CustomErrorEnum.WRONG_VALUE1.format(&quot;*2026-13-13*&quot;));\r\n```\r\n&gt; ```\r\n&gt; the label *2026-13-13* is wrong\r\n&gt; ```\r\n\r\nIf you use Java 15+ you can use `message.formatted(args)` instead.","title":"How to dynamic formating Enum label at runtime","body":"<p>I would introduce a method on <code>enum</code> to provide a formatted message based on the arguments provided:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequiredArgsConstructor\npublic enum CustomErrorEnum {\n\n    MISSING_VALUE1(&quot;CODE1&quot;,&quot;the label %s is missing&quot;),\n    WRONG_VALUE1(&quot;CODE2&quot;,&quot;the label %s is wrong&quot;);\n\n    private final String code;\n    private final String message;\n\n    public final String format(Object... args) {\n        return String.format(message, args);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(CustomErrorEnum.WRONG_VALUE1.format(&quot;*2026-13-13*&quot;));\n</code></pre>\n<blockquote>\n<pre><code>the label *2026-13-13* is wrong\n</code></pre>\n</blockquote>\n<p>If you use Java 15+ you can use <code>message.formatted(args)</code> instead.</p>\n"}],"owner":{"account_id":6411000,"reputation":39,"user_id":4970770,"display_name":"Severin Mbekou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76573095,"answer_count":3,"score":0,"last_activity_date":1687954717,"creation_date":1671616865,"question_id":74874267,"body_markdown":"I created a custom `enum` type for error handling with two variables code and label, and I would like the value of the label property of the enum to be formatted at runtime using `String.format(key, value)`.\r\n\r\n```\r\npublic enum CustomErrorEnum {\r\n\r\n\tMISSING_VALUE1(&quot;CODE1&quot;,&quot;the label %s is missing&quot;),\r\n\tWRONG_VALUE1(&quot;CODE2&quot;,&quot;the label %s is wrong&quot;);\r\n\t\r\n\tprivate String code;\r\n\tprivate String label;\r\n\t\r\n\tCustomErrorEnum(String code, String label)\r\n    {\r\n\t\tthis.code = code;\r\n\t\tthis.label = label;\r\n\t}\r\n}\r\n```\r\n\r\nI am trying to customize the log by specifying the reason and the value that throw the exception.\r\n\r\nFor example, when the user field a wrong, for example, I need the output to be:\r\n\r\n    W001, The value *2026-13-13* is wrong\r\n","title":"How to dynamic formating Enum label at runtime","body":"<p>I created a custom <code>enum</code> type for error handling with two variables code and label, and I would like the value of the label property of the enum to be formatted at runtime using <code>String.format(key, value)</code>.</p>\n<pre><code>public enum CustomErrorEnum {\n\n    MISSING_VALUE1(&quot;CODE1&quot;,&quot;the label %s is missing&quot;),\n    WRONG_VALUE1(&quot;CODE2&quot;,&quot;the label %s is wrong&quot;);\n    \n    private String code;\n    private String label;\n    \n    CustomErrorEnum(String code, String label)\n    {\n        this.code = code;\n        this.label = label;\n    }\n}\n</code></pre>\n<p>I am trying to customize the log by specifying the reason and the value that throw the exception.</p>\n<p>For example, when the user field a wrong, for example, I need the output to be:</p>\n<pre><code>W001, The value *2026-13-13* is wrong\n</code></pre>\n"},{"tags":["javascript","java","web-frontend"],"answers":[{"tags":[],"owner":{"account_id":10827831,"reputation":143,"user_id":7963227,"display_name":"Sametcey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687954693,"creation_date":1687954693,"answer_id":76573111,"question_id":76572023,"body_markdown":"you cannot directly access the Session Attribute from Client side!\r\n\r\nfirst: (not the best solution)\r\nyou can save username and passwort (-&gt; Passwort MD5 decrypt) -&gt; The MD5 decrypt Passwort must also store in Database.\r\n\r\nsecond:\r\nyou must save the JSESSIONID Coockie (over the Servlet in Backend)\r\n\r\n    String sessionId = session.getId();\r\n    Cookie userCookie = new Cookie(&quot;JSESSIONID&quot;, sessionId);\r\n    response.addCookie(userCookie);\r\n\r\nthird:\r\non every request you must read username and Passwort like this on your servlet in back-end:\r\n\r\n    HttpSession session = request.getSession();\r\n    String username= session.getAttribute(&quot;username&quot;);\r\n    String passwort= session.getAttribute(&quot;passwort&quot;);\r\n\r\nthen you must write a Check-Logic like (only a example):\r\n\r\n    boolean logged=false;\r\n    if(session == null){\r\n                    logged = false;\r\n    }else{\r\n                    if(session.getAttribute(&quot;name&quot;)==null || session.getAttribute(&quot;passwort&quot;)==null){\r\n                        logged = false;\r\n                    }else{\r\n                    \r\n                    if(chklog.checkLoginUser((String)session.getAttribute(&quot;name&quot;), (String)session.getAttribute(&quot;passwort&quot;), &quot;1&quot;)){\r\n                        name = (String)session.getAttribute(&quot;name&quot;);\r\n                        passwort = (String)session.getAttribute(&quot;passwort&quot;);\r\n                        logged = true;\r\n                    }\r\n                    else{\r\n                        logged=false;\r\n                        userlock=true;\r\n                        if(session != null){\r\n                            session.invalidate();\r\n                        }\r\n                    }\r\n                    }\r\n                }\r\n    \r\n    if(logged){\r\n     //the show is going on here\r\n    }\r\n\r\n\r\nImportant:\r\nFor Login you must check the Passwort:\r\n\r\n    select count(*) as existscol FROM USER where username=&#39;x&#39; AND Password=CONVERT(VARCHAR(32), HashBytes(&#39;MD5&#39;, &#39;pwinput&#39;), 2)\r\n\r\nand for every request you must check the Session Attributes username and password:\r\n\r\nselect count(*) as existscol FROM USER where username=&#39;x&#39; AND Passwort=&#39;sessinpassword&#39;\r\n\r\ni hope this answers your question.","title":"How to access session data as java object in javascript?","body":"<p>you cannot directly access the Session Attribute from Client side!</p>\n<p>first: (not the best solution)\nyou can save username and passwort (-&gt; Passwort MD5 decrypt) -&gt; The MD5 decrypt Passwort must also store in Database.</p>\n<p>second:\nyou must save the JSESSIONID Coockie (over the Servlet in Backend)</p>\n<pre><code>String sessionId = session.getId();\nCookie userCookie = new Cookie(&quot;JSESSIONID&quot;, sessionId);\nresponse.addCookie(userCookie);\n</code></pre>\n<p>third:\non every request you must read username and Passwort like this on your servlet in back-end:</p>\n<pre><code>HttpSession session = request.getSession();\nString username= session.getAttribute(&quot;username&quot;);\nString passwort= session.getAttribute(&quot;passwort&quot;);\n</code></pre>\n<p>then you must write a Check-Logic like (only a example):</p>\n<pre><code>boolean logged=false;\nif(session == null){\n                logged = false;\n}else{\n                if(session.getAttribute(&quot;name&quot;)==null || session.getAttribute(&quot;passwort&quot;)==null){\n                    logged = false;\n                }else{\n                \n                if(chklog.checkLoginUser((String)session.getAttribute(&quot;name&quot;), (String)session.getAttribute(&quot;passwort&quot;), &quot;1&quot;)){\n                    name = (String)session.getAttribute(&quot;name&quot;);\n                    passwort = (String)session.getAttribute(&quot;passwort&quot;);\n                    logged = true;\n                }\n                else{\n                    logged=false;\n                    userlock=true;\n                    if(session != null){\n                        session.invalidate();\n                    }\n                }\n                }\n            }\n\nif(logged){\n //the show is going on here\n}\n</code></pre>\n<p>Important:\nFor Login you must check the Passwort:</p>\n<pre><code>select count(*) as existscol FROM USER where username='x' AND Password=CONVERT(VARCHAR(32), HashBytes('MD5', 'pwinput'), 2)\n</code></pre>\n<p>and for every request you must check the Session Attributes username and password:</p>\n<p>select count(*) as existscol FROM USER where username='x' AND Passwort='sessinpassword'</p>\n<p>i hope this answers your question.</p>\n"}],"owner":{"account_id":28567675,"reputation":1,"user_id":21870335,"display_name":"Pier Paolo Lanzi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687954693,"creation_date":1687946123,"question_id":76572023,"body_markdown":"I&#39;m working with javascript for the first time for a uni project, and can&#39;t find any resource on how to solve this issue online. I am coding the back end in java\r\nWhen I handle the login procedure of the website, the client invokes a servlet that consults the database and creates the session, saving the user data in a bean object (which is a class with a bunch of private variables, and with getter and setter methods), and adding it to the session\r\n\r\nServlet code inside the doPost\r\n```\r\nHttpSession session = request.getSession(true);\r\nsession.setAttribute(&quot;userData&quot;, bean);\r\n```\r\nOnce this is done, how do I access a specific attribute of the bean object from front-end javascript? \r\n\r\n\r\nI tried with `sessionStorage.getItem(&quot;userData.getFirstName()&quot;)` or `sessionStorage.getItem(&quot;firstName)` but they obviously don&#39;t work","title":"How to access session data as java object in javascript?","body":"<p>I'm working with javascript for the first time for a uni project, and can't find any resource on how to solve this issue online. I am coding the back end in java\nWhen I handle the login procedure of the website, the client invokes a servlet that consults the database and creates the session, saving the user data in a bean object (which is a class with a bunch of private variables, and with getter and setter methods), and adding it to the session</p>\n<p>Servlet code inside the doPost</p>\n<pre><code>HttpSession session = request.getSession(true);\nsession.setAttribute(&quot;userData&quot;, bean);\n</code></pre>\n<p>Once this is done, how do I access a specific attribute of the bean object from front-end javascript?</p>\n<p>I tried with <code>sessionStorage.getItem(&quot;userData.getFirstName()&quot;)</code> or <code>sessionStorage.getItem(&quot;firstName)</code> but they obviously don't work</p>\n"},{"tags":["java","arrays","sorting"],"answers":[{"tags":[],"owner":{"account_id":1899729,"reputation":10922,"user_id":1715829,"display_name":"Buddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1542574210,"creation_date":1542574210,"answer_id":53365327,"question_id":53365303,"body_markdown":"Try using different indices for each list.  Don’t use `i` for both lists.\n\nConceptually you’ll be pulling an item off of one list (and incrementing the index for just that list).","title":"Merge two sorted arrays in java","body":"<p>Try using different indices for each list.  Don’t use <code>i</code> for both lists.</p>\n\n<p>Conceptually you’ll be pulling an item off of one list (and incrementing the index for just that list).</p>\n"},{"tags":[],"owner":{"account_id":1754145,"reputation":43950,"user_id":1602555,"display_name":"Karol Dowbecki"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1542576087,"creation_date":1542574610,"answer_id":53365372,"question_id":53365303,"body_markdown":"This is well explained in multiple places on the Internet. Take a look at [Java program to merge two sorted arrays][1] which showes a graphical explanation of the algorithm. You can change your method to use a single `while` loop as:\r\n\r\n    public static int[] merge(int[] arr1, int[] arr2) {\r\n      if (arr1 == null &amp;&amp; arr2 == null) return null;\r\n      if (arr1 == null) return arr2.clone();\r\n      if (arr2 == null) return arr1.clone();       \r\n\r\n      int[] result = new int[arr1.length + arr2.length];\r\n      int i = 0, j = 0, r = 0;\r\n      while (i &lt; arr1.length &amp;&amp; j &lt; arr2.length) {\r\n        if (arr1[i] &lt; arr2[j]) {\r\n          result[r] = arr1[i];\r\n          i++;\r\n        } else {\r\n          result[r] = arr2[j];\r\n          j++;\r\n        }\r\n        r++;\r\n      }\r\n      // Copy the remaining elements in array 1 to result\r\n      if (i &lt; arr1.length) {\r\n        System.arraycopy(arr1, i, result, r, (arr1.length - i));\r\n      }\r\n      // Copy the remaining elements in array 2 to result\r\n      if (j &lt; arr2.length) {\r\n        System.arraycopy(arr2, j, result, r, (arr2.length - j));\r\n      }\r\n      return result;\r\n    }\r\n\r\n  [1]: http://www.javatechblog.com/java/write-a-java-program-to-merge-two-sorted-arrays/","title":"Merge two sorted arrays in java","body":"<p>This is well explained in multiple places on the Internet. Take a look at <a href=\"http://www.javatechblog.com/java/write-a-java-program-to-merge-two-sorted-arrays/\" rel=\"nofollow noreferrer\">Java program to merge two sorted arrays</a> which showes a graphical explanation of the algorithm. You can change your method to use a single <code>while</code> loop as:</p>\n\n<pre><code>public static int[] merge(int[] arr1, int[] arr2) {\n  if (arr1 == null &amp;&amp; arr2 == null) return null;\n  if (arr1 == null) return arr2.clone();\n  if (arr2 == null) return arr1.clone();       \n\n  int[] result = new int[arr1.length + arr2.length];\n  int i = 0, j = 0, r = 0;\n  while (i &lt; arr1.length &amp;&amp; j &lt; arr2.length) {\n    if (arr1[i] &lt; arr2[j]) {\n      result[r] = arr1[i];\n      i++;\n    } else {\n      result[r] = arr2[j];\n      j++;\n    }\n    r++;\n  }\n  // Copy the remaining elements in array 1 to result\n  if (i &lt; arr1.length) {\n    System.arraycopy(arr1, i, result, r, (arr1.length - i));\n  }\n  // Copy the remaining elements in array 2 to result\n  if (j &lt; arr2.length) {\n    System.arraycopy(arr2, j, result, r, (arr2.length - j));\n  }\n  return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6767703,"reputation":1,"user_id":5212179,"display_name":"Shubham Gaur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687954421,"creation_date":1687954421,"answer_id":76573069,"question_id":53365303,"body_markdown":"    Basically merge two unsorted and sorted array both its works:\r\n\r\n    private static void mergeSorted(int[] arr1, int[] arr2) {\r\n    \t\tint len = arr1.length + arr2.length;\r\n    \t\tint[] arr3 = new int[len];\r\n    \t\tint count = 0;\r\n    \t\tint arrcount = 0;\r\n    \t\twhile (arrcount &lt; arr3.length) {\r\n    \t\t\tif (count &lt; arr1.length &amp;&amp; count &lt; arr2.length) {\r\n    \t\t\t\tif (arr1[count] &lt; arr2[count]) {\r\n    \t\t\t\t\tarr3 = arrcount &gt; 1 ? sortArray(arr3, arr1[count],arrcount++) : mapArray(arr3, arrcount++, arr1[count]);\r\n    \t\t\t\t\tarr3 = arrcount &gt; 1 ? sortArray(arr3, arr2[count],arrcount++) : mapArray(arr3, arrcount++, arr2[count]);\r\n    \r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tarr3 = arrcount &gt; 1 ? sortArray(arr3, arr2[count],arrcount++) : mapArray(arr3, arrcount++, arr2[count]);\r\n    \t\t\t\t\tarr3 = arrcount &gt; 1 ? sortArray(arr3, arr1[count],arrcount++) : mapArray(arr3, arrcount++, arr1[count]);\r\n    \r\n    \t\t\t\t}\r\n    \t\t\t} else if (count &lt; arr1.length) {\r\n    \t\t\t\tarr3 = arrcount &gt; 1 ? sortArray(arr3, arr1[count],arrcount++) : mapArray(arr3, arrcount++, arr1[count]);\r\n    \t\t\t} else if (count &lt; arr2.length) {\r\n    \t\t\t\tarr3 = arrcount &gt; 1 ? sortArray(arr3, arr2[count],arrcount++) : mapArray(arr3, arrcount++, arr2[count]);\r\n    \t\t\t}\r\n    \t\t\tcount++;\r\n    \t\t}\r\n    \r\n    \t\tSystem.out.println(Arrays.toString(arr3));\r\n    \t}\r\n    \r\n    \r\n    private static int[] sortArray(int[] arr, int val,int count) {\r\n    \t\tboolean putVal = false;\r\n    \t\tfor (int i = 0; i &lt;= count; i++) {\r\n    \t\t\tif (val &lt; arr[i]) {\r\n    \t\t\t\tint temp = arr[i];\r\n    \t\t\t\tint index = i+1;\r\n    \t\t\t\tarr[i] = val;\r\n    \t\t\t\tif(arr[index] &gt;0) {\r\n    \t\t\t\t\tval = temp;\r\n    \t\t\t\t}else {\r\n    \t\t\t\t\ti =index;\r\n    \t\t\t\t\tarr[i] = temp;\r\n    \t\t\t\t}\r\n    \t\t\t\tputVal=true;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tif(!putVal)\r\n    \t\t\tarr[count]=val;\r\n    \t\treturn arr;\r\n    \t}\r\n    \r\n    \tprivate static int[] mapArray(int[] arr, int count, int val) {\r\n    \t\tarr[count] = val;\r\n    \t\treturn arr;\r\n    \t}","title":"Merge two sorted arrays in java","body":"<pre><code>Basically merge two unsorted and sorted array both its works:\n\nprivate static void mergeSorted(int[] arr1, int[] arr2) {\n        int len = arr1.length + arr2.length;\n        int[] arr3 = new int[len];\n        int count = 0;\n        int arrcount = 0;\n        while (arrcount &lt; arr3.length) {\n            if (count &lt; arr1.length &amp;&amp; count &lt; arr2.length) {\n                if (arr1[count] &lt; arr2[count]) {\n                    arr3 = arrcount &gt; 1 ? sortArray(arr3, arr1[count],arrcount++) : mapArray(arr3, arrcount++, arr1[count]);\n                    arr3 = arrcount &gt; 1 ? sortArray(arr3, arr2[count],arrcount++) : mapArray(arr3, arrcount++, arr2[count]);\n\n                } else {\n                    arr3 = arrcount &gt; 1 ? sortArray(arr3, arr2[count],arrcount++) : mapArray(arr3, arrcount++, arr2[count]);\n                    arr3 = arrcount &gt; 1 ? sortArray(arr3, arr1[count],arrcount++) : mapArray(arr3, arrcount++, arr1[count]);\n\n                }\n            } else if (count &lt; arr1.length) {\n                arr3 = arrcount &gt; 1 ? sortArray(arr3, arr1[count],arrcount++) : mapArray(arr3, arrcount++, arr1[count]);\n            } else if (count &lt; arr2.length) {\n                arr3 = arrcount &gt; 1 ? sortArray(arr3, arr2[count],arrcount++) : mapArray(arr3, arrcount++, arr2[count]);\n            }\n            count++;\n        }\n\n        System.out.println(Arrays.toString(arr3));\n    }\n\n\nprivate static int[] sortArray(int[] arr, int val,int count) {\n        boolean putVal = false;\n        for (int i = 0; i &lt;= count; i++) {\n            if (val &lt; arr[i]) {\n                int temp = arr[i];\n                int index = i+1;\n                arr[i] = val;\n                if(arr[index] &gt;0) {\n                    val = temp;\n                }else {\n                    i =index;\n                    arr[i] = temp;\n                }\n                putVal=true;\n            }\n        }\n        if(!putVal)\n            arr[count]=val;\n        return arr;\n    }\n\n    private static int[] mapArray(int[] arr, int count, int val) {\n        arr[count] = val;\n        return arr;\n    }\n</code></pre>\n"}],"owner":{"display_name":"user10671805"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3352,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":53365372,"answer_count":3,"score":2,"last_activity_date":1687954421,"creation_date":1542574052,"question_id":53365303,"body_markdown":"&gt; I know that similar questions have been asked and I have researched\r\n&gt; many websites. I have tried to use some of the answers but my code is\r\n&gt; still not working.\r\n&gt; \r\n&gt; I am going through a previous assignments to help build my knowledge\r\n&gt; of Java. Please forgive any errors in my code, I am still learning\r\n&gt; Java.\r\n&gt; \r\n&gt; Here is my question:\r\n\r\nImplement a method merge that, given two arrays of sorted integer elements, returns a new sorted array with all the elements of the two input arrays.\r\n\r\nAssume that the elements in both input arrays are sorted in non-decreasing order (e.g. [0, 1, 2, 2] and [1, 2, 3, 3, 4, 5]). The returned “merged” array must keep this property (e.g. [0, 1, 1, 2, 2, 2, 3, 3, 4, 5]).\r\n\r\nDuplicates are allowed in both the input and the output.\r\n\r\nIf either one of the arrays are null, return the non-null array as a copy, if both arrays are null, the result should be null as well.\r\n\r\nEfficiency requirement: the arrays should be merged in a single pass over the arrays.\r\n\r\n&gt; Here is what I&#39;ve done so far, it doesn&#39;t meet the requirements so I need help in order to find the right solution:\r\n\r\n\r\n    public class MergeArray {\r\n    \tpublic static int[] merge(int[] arr1, int[] arr2) {\r\n    \t\tif (arr1 == null &amp;&amp; arr2 == null) {\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t\tif (arr1 != null &amp; arr2 == null) {\r\n    \t\t\treturn arr1;\r\n    \t\t}\r\n    \t\tif (arr2 != null &amp; arr1 == null) {\r\n    \t\t\treturn arr2;\r\n    \t\t}\r\n    \t\tint[] merged = new int [arr1.length+arr2.length];\r\n    \r\n    \t\tif (arr1.length &gt; arr2.length) {\r\n    \t\t\tfor (int i = 0; i &lt; arr1.length; i++) {\r\n    \r\n    \t\t\t\tif (arr1[i] &lt;= arr2[i]) {\r\n    \t\t\t\t\tmerged[i] = arr1[i];\r\n    \t\t\t\t\tmerged[i + 1] = arr2[i];\r\n    \t\t\t\t}\r\n    \t\t\t\tif (arr2[i] &lt; arr1[i]) {\r\n    \t\t\t\t\tmerged[i] = arr2[i];\r\n    \t\t\t\t\tmerged[i + 1] = arr1[i];\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tif (arr1.length &lt; arr2.length) {\r\n    \t\t\t\tfor (int i = 0; i &lt; arr2.length; i++) {\r\n    \r\n    \t\t\t\t\tif (arr1[i] &lt;= arr2[i]) {\r\n    \t\t\t\t\t\tmerged[i] = arr1[i];\r\n    \t\t\t\t\t\tmerged[i + 1] = arr2[i];\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tif (arr2[i] &lt; arr1[i]) {\r\n    \t\t\t\t\t\tmerged[i] = arr2[i];\r\n    \t\t\t\t\t\tmerged[i + 1] = arr1[i];\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n    \t\treturn merged;\r\n    \r\n    \t}\r\n    }\r\n\r\n","title":"Merge two sorted arrays in java","body":"<blockquote>\n  <p>I know that similar questions have been asked and I have researched\n  many websites. I have tried to use some of the answers but my code is\n  still not working.</p>\n  \n  <p>I am going through a previous assignments to help build my knowledge\n  of Java. Please forgive any errors in my code, I am still learning\n  Java.</p>\n  \n  <p>Here is my question:</p>\n</blockquote>\n\n<p>Implement a method merge that, given two arrays of sorted integer elements, returns a new sorted array with all the elements of the two input arrays.</p>\n\n<p>Assume that the elements in both input arrays are sorted in non-decreasing order (e.g. [0, 1, 2, 2] and [1, 2, 3, 3, 4, 5]). The returned “merged” array must keep this property (e.g. [0, 1, 1, 2, 2, 2, 3, 3, 4, 5]).</p>\n\n<p>Duplicates are allowed in both the input and the output.</p>\n\n<p>If either one of the arrays are null, return the non-null array as a copy, if both arrays are null, the result should be null as well.</p>\n\n<p>Efficiency requirement: the arrays should be merged in a single pass over the arrays.</p>\n\n<blockquote>\n  <p>Here is what I've done so far, it doesn't meet the requirements so I need help in order to find the right solution:</p>\n</blockquote>\n\n<pre><code>public class MergeArray {\n    public static int[] merge(int[] arr1, int[] arr2) {\n        if (arr1 == null &amp;&amp; arr2 == null) {\n            return null;\n        }\n        if (arr1 != null &amp; arr2 == null) {\n            return arr1;\n        }\n        if (arr2 != null &amp; arr1 == null) {\n            return arr2;\n        }\n        int[] merged = new int [arr1.length+arr2.length];\n\n        if (arr1.length &gt; arr2.length) {\n            for (int i = 0; i &lt; arr1.length; i++) {\n\n                if (arr1[i] &lt;= arr2[i]) {\n                    merged[i] = arr1[i];\n                    merged[i + 1] = arr2[i];\n                }\n                if (arr2[i] &lt; arr1[i]) {\n                    merged[i] = arr2[i];\n                    merged[i + 1] = arr1[i];\n                }\n            }\n            if (arr1.length &lt; arr2.length) {\n                for (int i = 0; i &lt; arr2.length; i++) {\n\n                    if (arr1[i] &lt;= arr2[i]) {\n                        merged[i] = arr1[i];\n                        merged[i + 1] = arr2[i];\n                    }\n                    if (arr2[i] &lt; arr1[i]) {\n                        merged[i] = arr2[i];\n                        merged[i + 1] = arr1[i];\n                    }\n                }\n\n            }\n\n        }\n        return merged;\n\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","user-interface","jtable","refresh"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1654472825,"post_id":72511790,"comment_id":128093025,"body_markdown":"Avoid extending from top level containers, like `JFrame`, instead, base your UIs on `JPanel`s and then add them to what ever container you want.  You should make use of a modal `JDialog` to present the add customer view.  This provides a lot more control over the execution flow.  Basically, you have two chocies.  Either pass back the newly added record (a number of ways you might do this) or reload the data from the database when the window is closed","body":"Avoid extending from top level containers, like <code>JFrame</code>, instead, base your UIs on <code>JPanel</code>s and then add them to what ever container you want.  You should make use of a modal <code>JDialog</code> to present the add customer view.  This provides a lot more control over the execution flow.  Basically, you have two chocies.  Either pass back the newly added record (a number of ways you might do this) or reload the data from the database when the window is closed"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1654483469,"post_id":72511790,"comment_id":128094313,"body_markdown":"Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.","body":"Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section."},{"owner":{"account_id":7633,"reputation":737663,"user_id":13302,"accept_rate":99,"display_name":"marc_s"},"score":0,"creation_date":1687954364,"post_id":72511790,"comment_id":135008500,"body_markdown":"It&#39;s a **customer** - not a &quot;custumer&quot; ...","body":"It&#39;s a <b>customer</b> - not a &quot;custumer&quot; ..."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654484373,"creation_date":1654484373,"answer_id":72512613,"question_id":72511790,"body_markdown":"There are a number of ways you might achieve this, but they all basically boil down to the same thing, a modal dialog.  See [How to Make Dialogs](https://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html#:~:text=The%20JDialog%20class%20is%20a,very%20similar%20to%20using%20JFrame%20.) for more details.\r\n\r\nYou should avoid extending from top level containers like `JFrame` (and `JDialog`).  You&#39;re not adding any new functionality to the class and are locking yourself into a single use case.\r\n\r\nThe following examples are intended to show how you ask users for input by using modal dialogs.  Through same &quot;black magic&quot;, when you show a modal dialog, the code execution will stop while the dialog is visible and resume when it&#39;s closed (don&#39;t ask, I don&#39;t care, it just works).\r\n\r\nThis means you can present a dialog and then wait till it&#39;s closed and then carry on making what ever decisions you need to.\r\n\r\n# You could...\r\n\r\nMake use `JOptionPane`, which is neat and handy API for making, well, dialogs.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Component;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Insets;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JDialog;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JOptionPane;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTable;\r\n    import javax.swing.JTextField;\r\n    import javax.swing.JToolBar;\r\n    import javax.swing.SwingUtilities;\r\n    import javax.swing.event.DocumentEvent;\r\n    import javax.swing.event.DocumentListener;\r\n    import javax.swing.table.AbstractTableModel;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new MainPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public static class Person {\r\n            private long id;\r\n            private String firstName;\r\n            private String lastName;\r\n\r\n            public Person(long id, String firstName, String lastName) {\r\n                this.id = id;\r\n                this.firstName = firstName;\r\n                this.lastName = lastName;\r\n            }\r\n\r\n            public long getId() {\r\n                return id;\r\n            }\r\n\r\n            public String getFirstName() {\r\n                return firstName;\r\n            }\r\n\r\n            public String getLastName() {\r\n                return lastName;\r\n            }\r\n\r\n            @Override\r\n            public int hashCode() {\r\n                int hash = 7;\r\n                hash = 37 * hash + (int) (this.id ^ (this.id &gt;&gt;&gt; 32));\r\n                return hash;\r\n            }\r\n\r\n            @Override\r\n            public boolean equals(Object obj) {\r\n                if (this == obj) {\r\n                    return true;\r\n                }\r\n                if (obj == null) {\r\n                    return false;\r\n                }\r\n                if (getClass() != obj.getClass()) {\r\n                    return false;\r\n                }\r\n                final Person other = (Person) obj;\r\n                if (this.id != other.id) {\r\n                    return false;\r\n                }\r\n                return true;\r\n            }\r\n\r\n        }\r\n\r\n        public class PersonPane extends JPanel {\r\n            private Person person;\r\n\r\n            private JTextField firstName;\r\n            private JTextField lastName;\r\n\r\n            public PersonPane(Person person) {\r\n                this();\r\n                this.person = person;\r\n\r\n                if (person == null) {\r\n                    return;\r\n                }\r\n                firstName.setText(person.getFirstName());\r\n                lastName.setText(person.getLastName());\r\n            }\r\n\r\n            public PersonPane() {\r\n                firstName = new JTextField(10);\r\n                lastName = new JTextField(10);\r\n\r\n                setLayout(new GridBagLayout());\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridx = 0;\r\n                gbc.gridy = 0;\r\n                gbc.anchor = GridBagConstraints.LINE_END;\r\n                gbc.insets = new Insets(4, 4, 4, 4);\r\n\r\n                add(new JLabel(&quot;First name: &quot;), gbc);\r\n                gbc.gridy++;\r\n                add(new JLabel(&quot;Last name: &quot;), gbc);\r\n\r\n                gbc.gridx++;\r\n                gbc.gridy = 0;\r\n                gbc.anchor = GridBagConstraints.LINE_START;\r\n\r\n                add(firstName, gbc);\r\n                gbc.gridy++;\r\n                add(lastName, gbc);\r\n            }\r\n\r\n            public Person save() {\r\n                if (person == null) {\r\n                    return new Person(System.currentTimeMillis(), firstName.getText(), lastName.getText());\r\n                }\r\n                long id = person.getId();\r\n                return new Person(id, firstName.getText(), lastName.getText());\r\n            }\r\n        }\r\n\r\n        public class PersonTableModel extends AbstractTableModel {\r\n\r\n            private List&lt;Person&gt; people = new ArrayList&lt;&gt;();\r\n            private List&lt;String&gt; columNames = new ArrayList&lt;&gt;(Arrays.asList(new String[]{&quot;First name&quot;, &quot;Last name&quot;}));\r\n\r\n            public PersonTableModel() {\r\n            }\r\n\r\n            @Override\r\n            public int getRowCount() {\r\n                return people.size();\r\n            }\r\n\r\n            @Override\r\n            public int getColumnCount() {\r\n                return columNames.size();\r\n            }\r\n\r\n            @Override\r\n            public String getColumnName(int column) {\r\n                return columNames.get(column);\r\n            }\r\n\r\n            @Override\r\n            public Class&lt;?&gt; getColumnClass(int columnIndex) {\r\n                return String.class;\r\n            }\r\n\r\n            @Override\r\n            public Object getValueAt(int rowIndex, int columnIndex) {\r\n                Person person = people.get(rowIndex);\r\n                switch (columnIndex) {\r\n                    case 0:\r\n                        return person.getFirstName();\r\n                    case 1:\r\n                        return person.getLastName();\r\n                }\r\n                return null;\r\n            }\r\n\r\n            public void addOrUpdate(Person person) {\r\n                int index = people.indexOf(person);\r\n                if (index &gt;= 0) {\r\n                    people.set(index, person);\r\n                    fireTableRowsUpdated(index, index);\r\n                } else {\r\n                    int lastIndex = people.size();\r\n                    people.add(person);\r\n                    fireTableRowsInserted(lastIndex, lastIndex);\r\n                }\r\n            }\r\n\r\n            public Person getPersonAtRow(int row) {\r\n                return people.get(row);\r\n            }\r\n\r\n        }\r\n\r\n        public class MainPane extends JPanel {\r\n\r\n            private PersonTableModel model = new PersonTableModel();\r\n\r\n            public MainPane() {\r\n                setLayout(new BorderLayout());\r\n\r\n                JButton newPersonButton = new JButton(&quot;New&quot;);\r\n                newPersonButton.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        PersonPane personPane = new PersonPane();\r\n                        int option = JOptionPane.showConfirmDialog(MainPane.this, personPane, &quot;New Person&quot;, JOptionPane.OK_CANCEL_OPTION, JOptionPane.PLAIN_MESSAGE);\r\n                        if (option == JOptionPane.OK_OPTION) {\r\n                            Person person = personPane.save();\r\n                            if (person != null) {\r\n                                model.addOrUpdate(person);\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n\r\n                JToolBar toolBar = new JToolBar();\r\n                toolBar.add(newPersonButton);\r\n\r\n                JTable table = new JTable(model);\r\n                table.addMouseListener(new MouseAdapter() {\r\n                    @Override\r\n                    public void mouseClicked(MouseEvent e) {\r\n                        if (e.getClickCount() == 2) {\r\n                            int rowIndex = table.convertRowIndexToModel(table.getSelectedRow());\r\n                            Person person = model.getPersonAtRow(rowIndex);\r\n                            PersonPane personPane = new PersonPane(person);\r\n                            int option = JOptionPane.showConfirmDialog(MainPane.this, personPane, &quot;Edit Person&quot;, JOptionPane.OK_CANCEL_OPTION, JOptionPane.PLAIN_MESSAGE);\r\n                            if (option == JOptionPane.OK_OPTION) {\r\n                                person = personPane.save();\r\n                                if (person != null) {\r\n                                    model.addOrUpdate(person);\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n\r\n                add(toolBar, BorderLayout.NORTH);\r\n                add(new JScrollPane(table));\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n# You could...\r\n\r\nIf you need something more flexible or want to more detailed validation, you could roll your own dialog (and validation workflows), but you should have a look at https://stackoverflow.com/questions/14334931/disable-ok-button-on-joptionpane-dialog-until-user-gives-an-input/14335083#14335083, which demonstrates a means by which you could control the `enabled` state of the buttons and still make use of a `JOptionPane`.\r\n\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Component;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Insets;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JDialog;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTable;\r\n    import javax.swing.JTextField;\r\n    import javax.swing.JToolBar;\r\n    import javax.swing.SwingUtilities;\r\n    import javax.swing.event.DocumentEvent;\r\n    import javax.swing.event.DocumentListener;\r\n    import javax.swing.table.AbstractTableModel;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new MainPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public static class Person {\r\n            private long id;\r\n            private String firstName;\r\n            private String lastName;\r\n\r\n            public Person(long id, String firstName, String lastName) {\r\n                this.id = id;\r\n                this.firstName = firstName;\r\n                this.lastName = lastName;\r\n            }\r\n\r\n            public long getId() {\r\n                return id;\r\n            }\r\n\r\n            public String getFirstName() {\r\n                return firstName;\r\n            }\r\n\r\n            public String getLastName() {\r\n                return lastName;\r\n            }\r\n\r\n            @Override\r\n            public int hashCode() {\r\n                int hash = 7;\r\n                hash = 37 * hash + (int) (this.id ^ (this.id &gt;&gt;&gt; 32));\r\n                return hash;\r\n            }\r\n\r\n            @Override\r\n            public boolean equals(Object obj) {\r\n                if (this == obj) {\r\n                    return true;\r\n                }\r\n                if (obj == null) {\r\n                    return false;\r\n                }\r\n                if (getClass() != obj.getClass()) {\r\n                    return false;\r\n                }\r\n                final Person other = (Person) obj;\r\n                if (this.id != other.id) {\r\n                    return false;\r\n                }\r\n                return true;\r\n            }\r\n\r\n        }\r\n\r\n        public static class PersonPane extends JPanel {\r\n            public interface ValidationObserver {\r\n                public void validStateDidChange(PersonPane source, boolean isValid);\r\n            }\r\n\r\n            private Person person;\r\n\r\n            private JTextField firstName;\r\n            private JTextField lastName;\r\n\r\n            private List&lt;ValidationObserver&gt; validationObservers = new ArrayList&lt;&gt;(8);\r\n\r\n            public PersonPane(Person person) {\r\n                this();\r\n                this.person = person;\r\n\r\n                if (person == null) {\r\n                    return;\r\n                }\r\n                firstName.setText(person.getFirstName());\r\n                lastName.setText(person.getLastName());\r\n            }\r\n\r\n            public PersonPane() {\r\n                firstName = new JTextField(10);\r\n                lastName = new JTextField(10);\r\n\r\n                DocumentListener documentListener = new DocumentListener() {\r\n                    @Override\r\n                    public void insertUpdate(DocumentEvent e) {\r\n                        validateForm();\r\n                    }\r\n\r\n                    @Override\r\n                    public void removeUpdate(DocumentEvent e) {\r\n                        validateForm();\r\n                    }\r\n\r\n                    @Override\r\n                    public void changedUpdate(DocumentEvent e) {\r\n                        validateForm();\r\n                    }\r\n                };\r\n\r\n                firstName.getDocument().addDocumentListener(documentListener);\r\n                lastName.getDocument().addDocumentListener(documentListener);\r\n\r\n                setLayout(new GridBagLayout());\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridx = 0;\r\n                gbc.gridy = 0;\r\n                gbc.anchor = GridBagConstraints.LINE_END;\r\n                gbc.insets = new Insets(4, 4, 4, 4);\r\n\r\n                add(new JLabel(&quot;First name: &quot;), gbc);\r\n                gbc.gridy++;\r\n                add(new JLabel(&quot;Last name: &quot;), gbc);\r\n\r\n                gbc.gridx++;\r\n                gbc.gridy = 0;\r\n                gbc.anchor = GridBagConstraints.LINE_START;\r\n\r\n                add(firstName, gbc);\r\n                gbc.gridy++;\r\n                add(lastName, gbc);\r\n            }\r\n\r\n            public void addValidationObserver(ValidationObserver observer) {\r\n                validationObservers.add(observer);\r\n            }\r\n\r\n            public void removeValidationObserver(ValidationObserver observer) {\r\n                validationObservers.remove(observer);\r\n            }\r\n\r\n            protected void fireValidateStateDidChange(boolean isValid) {\r\n                for (ValidationObserver observer : validationObservers) {\r\n                    observer.validStateDidChange(this, isValid);\r\n                }\r\n            }\r\n\r\n            protected void validateForm() {\r\n                boolean isValid = !firstName.getText().isBlank() &amp;&amp; !lastName.getText().isBlank();\r\n                fireValidateStateDidChange(isValid);\r\n            }\r\n\r\n            public Person save() {\r\n                if (person == null) {\r\n                    return new Person(System.currentTimeMillis(), firstName.getText(), lastName.getText());\r\n                }\r\n                long id = person.getId();\r\n                return new Person(id, firstName.getText(), lastName.getText());\r\n            }\r\n\r\n            public static Person createPerson(Component parent) {\r\n                return editPerson(parent, null);\r\n            }\r\n\r\n            public static Person editPerson(Component parent, Person person) {\r\n                enum State {\r\n                    OKAY, CANCEL\r\n                }\r\n\r\n                JPanel actionPane = new JPanel(new GridBagLayout());\r\n                JButton okayButton = new JButton(&quot;Okay&quot;);\r\n                okayButton.setEnabled(false);\r\n                JButton cancelButton = new JButton(&quot;Cancel&quot;);\r\n\r\n                actionPane.add(okayButton);\r\n                actionPane.add(cancelButton);\r\n\r\n                PersonPane personPane = new PersonPane(person);\r\n                personPane.addValidationObserver(new ValidationObserver() {\r\n                    @Override\r\n                    public void validStateDidChange(PersonPane source, boolean isValid) {\r\n                        okayButton.setEnabled(isValid);\r\n                    }\r\n                });\r\n\r\n                JDialog dialog = new JDialog(SwingUtilities.windowForComponent(parent));\r\n                dialog.setModal(true);\r\n                dialog.add(personPane);\r\n                dialog.add(actionPane, BorderLayout.SOUTH);\r\n\r\n                okayButton.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        personPane.putClientProperty(&quot;state&quot;, State.OKAY);\r\n                        dialog.dispose();\r\n                    }\r\n                });\r\n                cancelButton.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        personPane.putClientProperty(&quot;state&quot;, State.CANCEL);\r\n                        dialog.dispose();\r\n                    }\r\n                });\r\n\r\n                dialog.pack();\r\n                dialog.setLocationRelativeTo(parent);\r\n                dialog.setVisible(true);\r\n\r\n                Object stateValue = personPane.getClientProperty(&quot;state&quot;);\r\n                if (stateValue instanceof State) {\r\n                    State state = (State) stateValue;\r\n                    if (state == State.OKAY) {\r\n                        return personPane.save();\r\n                    }\r\n                }\r\n\r\n                return null;\r\n            }\r\n        }\r\n\r\n        public class PersonTableModel extends AbstractTableModel {\r\n\r\n            private List&lt;Person&gt; people = new ArrayList&lt;&gt;();\r\n            private List&lt;String&gt; columNames = new ArrayList&lt;&gt;(Arrays.asList(new String[]{&quot;First name&quot;, &quot;Last name&quot;}));\r\n\r\n            public PersonTableModel() {\r\n            }\r\n\r\n            @Override\r\n            public int getRowCount() {\r\n                return people.size();\r\n            }\r\n\r\n            @Override\r\n            public int getColumnCount() {\r\n                return columNames.size();\r\n            }\r\n\r\n            @Override\r\n            public String getColumnName(int column) {\r\n                return columNames.get(column);\r\n            }\r\n\r\n            @Override\r\n            public Class&lt;?&gt; getColumnClass(int columnIndex) {\r\n                return String.class;\r\n            }\r\n\r\n            @Override\r\n            public Object getValueAt(int rowIndex, int columnIndex) {\r\n                Person person = people.get(rowIndex);\r\n                switch (columnIndex) {\r\n                    case 0:\r\n                        return person.getFirstName();\r\n                    case 1:\r\n                        return person.getLastName();\r\n                }\r\n                return null;\r\n            }\r\n\r\n            public void addOrUpdate(Person person) {\r\n                int index = people.indexOf(person);\r\n                if (index &gt;= 0) {\r\n                    people.set(index, person);\r\n                    fireTableRowsUpdated(index, index);\r\n                } else {\r\n                    int lastIndex = people.size();\r\n                    people.add(person);\r\n                    fireTableRowsInserted(lastIndex, lastIndex);\r\n                }\r\n            }\r\n\r\n            public Person getPersonAtRow(int row) {\r\n                return people.get(row);\r\n            }\r\n\r\n        }\r\n\r\n        public class MainPane extends JPanel {\r\n\r\n            private PersonTableModel model = new PersonTableModel();\r\n\r\n            public MainPane() {\r\n                setLayout(new BorderLayout());\r\n\r\n                JButton newPersonButton = new JButton(&quot;New&quot;);\r\n                newPersonButton.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        Person person = PersonPane.createPerson(MainPane.this);\r\n                        if (person != null) {\r\n                            model.addOrUpdate(person);\r\n                        }\r\n                    }\r\n                });\r\n\r\n                JToolBar toolBar = new JToolBar();\r\n                toolBar.add(newPersonButton);\r\n\r\n                JTable table = new JTable(model);\r\n                table.addMouseListener(new MouseAdapter() {\r\n                    @Override\r\n                    public void mouseClicked(MouseEvent e) {\r\n                        if (e.getClickCount() == 2) {\r\n                            int rowIndex = table.convertRowIndexToModel(table.getSelectedRow());\r\n                            Person person = model.getPersonAtRow(rowIndex);\r\n                            person = PersonPane.editPerson(MainPane.this, person);\r\n                            if (person != null) {\r\n                                model.addOrUpdate(person);\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n\r\n                add(toolBar, BorderLayout.NORTH);\r\n                add(new JScrollPane(table));\r\n            }\r\n        }\r\n    }\r\n","title":"Can&#39;t dynamically refresh JTable","body":"<p>There are a number of ways you might achieve this, but they all basically boil down to the same thing, a modal dialog.  See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html#:%7E:text=The%20JDialog%20class%20is%20a,very%20similar%20to%20using%20JFrame%20.\" rel=\"nofollow noreferrer\">How to Make Dialogs</a> for more details.</p>\n<p>You should avoid extending from top level containers like <code>JFrame</code> (and <code>JDialog</code>).  You're not adding any new functionality to the class and are locking yourself into a single use case.</p>\n<p>The following examples are intended to show how you ask users for input by using modal dialogs.  Through same &quot;black magic&quot;, when you show a modal dialog, the code execution will stop while the dialog is visible and resume when it's closed (don't ask, I don't care, it just works).</p>\n<p>This means you can present a dialog and then wait till it's closed and then carry on making what ever decisions you need to.</p>\n<h1>You could...</h1>\n<p>Make use <code>JOptionPane</code>, which is neat and handy API for making, well, dialogs.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Component;\nimport java.awt.EventQueue;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.Insets;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport javax.swing.JButton;\nimport javax.swing.JDialog;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTable;\nimport javax.swing.JTextField;\nimport javax.swing.JToolBar;\nimport javax.swing.SwingUtilities;\nimport javax.swing.event.DocumentEvent;\nimport javax.swing.event.DocumentListener;\nimport javax.swing.table.AbstractTableModel;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new MainPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public static class Person {\n        private long id;\n        private String firstName;\n        private String lastName;\n\n        public Person(long id, String firstName, String lastName) {\n            this.id = id;\n            this.firstName = firstName;\n            this.lastName = lastName;\n        }\n\n        public long getId() {\n            return id;\n        }\n\n        public String getFirstName() {\n            return firstName;\n        }\n\n        public String getLastName() {\n            return lastName;\n        }\n\n        @Override\n        public int hashCode() {\n            int hash = 7;\n            hash = 37 * hash + (int) (this.id ^ (this.id &gt;&gt;&gt; 32));\n            return hash;\n        }\n\n        @Override\n        public boolean equals(Object obj) {\n            if (this == obj) {\n                return true;\n            }\n            if (obj == null) {\n                return false;\n            }\n            if (getClass() != obj.getClass()) {\n                return false;\n            }\n            final Person other = (Person) obj;\n            if (this.id != other.id) {\n                return false;\n            }\n            return true;\n        }\n\n    }\n\n    public class PersonPane extends JPanel {\n        private Person person;\n\n        private JTextField firstName;\n        private JTextField lastName;\n\n        public PersonPane(Person person) {\n            this();\n            this.person = person;\n\n            if (person == null) {\n                return;\n            }\n            firstName.setText(person.getFirstName());\n            lastName.setText(person.getLastName());\n        }\n\n        public PersonPane() {\n            firstName = new JTextField(10);\n            lastName = new JTextField(10);\n\n            setLayout(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridx = 0;\n            gbc.gridy = 0;\n            gbc.anchor = GridBagConstraints.LINE_END;\n            gbc.insets = new Insets(4, 4, 4, 4);\n\n            add(new JLabel(&quot;First name: &quot;), gbc);\n            gbc.gridy++;\n            add(new JLabel(&quot;Last name: &quot;), gbc);\n\n            gbc.gridx++;\n            gbc.gridy = 0;\n            gbc.anchor = GridBagConstraints.LINE_START;\n\n            add(firstName, gbc);\n            gbc.gridy++;\n            add(lastName, gbc);\n        }\n\n        public Person save() {\n            if (person == null) {\n                return new Person(System.currentTimeMillis(), firstName.getText(), lastName.getText());\n            }\n            long id = person.getId();\n            return new Person(id, firstName.getText(), lastName.getText());\n        }\n    }\n\n    public class PersonTableModel extends AbstractTableModel {\n\n        private List&lt;Person&gt; people = new ArrayList&lt;&gt;();\n        private List&lt;String&gt; columNames = new ArrayList&lt;&gt;(Arrays.asList(new String[]{&quot;First name&quot;, &quot;Last name&quot;}));\n\n        public PersonTableModel() {\n        }\n\n        @Override\n        public int getRowCount() {\n            return people.size();\n        }\n\n        @Override\n        public int getColumnCount() {\n            return columNames.size();\n        }\n\n        @Override\n        public String getColumnName(int column) {\n            return columNames.get(column);\n        }\n\n        @Override\n        public Class&lt;?&gt; getColumnClass(int columnIndex) {\n            return String.class;\n        }\n\n        @Override\n        public Object getValueAt(int rowIndex, int columnIndex) {\n            Person person = people.get(rowIndex);\n            switch (columnIndex) {\n                case 0:\n                    return person.getFirstName();\n                case 1:\n                    return person.getLastName();\n            }\n            return null;\n        }\n\n        public void addOrUpdate(Person person) {\n            int index = people.indexOf(person);\n            if (index &gt;= 0) {\n                people.set(index, person);\n                fireTableRowsUpdated(index, index);\n            } else {\n                int lastIndex = people.size();\n                people.add(person);\n                fireTableRowsInserted(lastIndex, lastIndex);\n            }\n        }\n\n        public Person getPersonAtRow(int row) {\n            return people.get(row);\n        }\n\n    }\n\n    public class MainPane extends JPanel {\n\n        private PersonTableModel model = new PersonTableModel();\n\n        public MainPane() {\n            setLayout(new BorderLayout());\n\n            JButton newPersonButton = new JButton(&quot;New&quot;);\n            newPersonButton.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    PersonPane personPane = new PersonPane();\n                    int option = JOptionPane.showConfirmDialog(MainPane.this, personPane, &quot;New Person&quot;, JOptionPane.OK_CANCEL_OPTION, JOptionPane.PLAIN_MESSAGE);\n                    if (option == JOptionPane.OK_OPTION) {\n                        Person person = personPane.save();\n                        if (person != null) {\n                            model.addOrUpdate(person);\n                        }\n                    }\n                }\n            });\n\n            JToolBar toolBar = new JToolBar();\n            toolBar.add(newPersonButton);\n\n            JTable table = new JTable(model);\n            table.addMouseListener(new MouseAdapter() {\n                @Override\n                public void mouseClicked(MouseEvent e) {\n                    if (e.getClickCount() == 2) {\n                        int rowIndex = table.convertRowIndexToModel(table.getSelectedRow());\n                        Person person = model.getPersonAtRow(rowIndex);\n                        PersonPane personPane = new PersonPane(person);\n                        int option = JOptionPane.showConfirmDialog(MainPane.this, personPane, &quot;Edit Person&quot;, JOptionPane.OK_CANCEL_OPTION, JOptionPane.PLAIN_MESSAGE);\n                        if (option == JOptionPane.OK_OPTION) {\n                            person = personPane.save();\n                            if (person != null) {\n                                model.addOrUpdate(person);\n                            }\n                        }\n                    }\n                }\n            });\n\n            add(toolBar, BorderLayout.NORTH);\n            add(new JScrollPane(table));\n        }\n    }\n}\n</code></pre>\n<h1>You could...</h1>\n<p>If you need something more flexible or want to more detailed validation, you could roll your own dialog (and validation workflows), but you should have a look at <a href=\"https://stackoverflow.com/questions/14334931/disable-ok-button-on-joptionpane-dialog-until-user-gives-an-input/14335083#14335083\">Disable ok button on JOptionPane.dialog until user gives an input</a>, which demonstrates a means by which you could control the <code>enabled</code> state of the buttons and still make use of a <code>JOptionPane</code>.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Component;\nimport java.awt.EventQueue;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.Insets;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport javax.swing.JButton;\nimport javax.swing.JDialog;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTable;\nimport javax.swing.JTextField;\nimport javax.swing.JToolBar;\nimport javax.swing.SwingUtilities;\nimport javax.swing.event.DocumentEvent;\nimport javax.swing.event.DocumentListener;\nimport javax.swing.table.AbstractTableModel;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new MainPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public static class Person {\n        private long id;\n        private String firstName;\n        private String lastName;\n\n        public Person(long id, String firstName, String lastName) {\n            this.id = id;\n            this.firstName = firstName;\n            this.lastName = lastName;\n        }\n\n        public long getId() {\n            return id;\n        }\n\n        public String getFirstName() {\n            return firstName;\n        }\n\n        public String getLastName() {\n            return lastName;\n        }\n\n        @Override\n        public int hashCode() {\n            int hash = 7;\n            hash = 37 * hash + (int) (this.id ^ (this.id &gt;&gt;&gt; 32));\n            return hash;\n        }\n\n        @Override\n        public boolean equals(Object obj) {\n            if (this == obj) {\n                return true;\n            }\n            if (obj == null) {\n                return false;\n            }\n            if (getClass() != obj.getClass()) {\n                return false;\n            }\n            final Person other = (Person) obj;\n            if (this.id != other.id) {\n                return false;\n            }\n            return true;\n        }\n\n    }\n\n    public static class PersonPane extends JPanel {\n        public interface ValidationObserver {\n            public void validStateDidChange(PersonPane source, boolean isValid);\n        }\n\n        private Person person;\n\n        private JTextField firstName;\n        private JTextField lastName;\n\n        private List&lt;ValidationObserver&gt; validationObservers = new ArrayList&lt;&gt;(8);\n\n        public PersonPane(Person person) {\n            this();\n            this.person = person;\n\n            if (person == null) {\n                return;\n            }\n            firstName.setText(person.getFirstName());\n            lastName.setText(person.getLastName());\n        }\n\n        public PersonPane() {\n            firstName = new JTextField(10);\n            lastName = new JTextField(10);\n\n            DocumentListener documentListener = new DocumentListener() {\n                @Override\n                public void insertUpdate(DocumentEvent e) {\n                    validateForm();\n                }\n\n                @Override\n                public void removeUpdate(DocumentEvent e) {\n                    validateForm();\n                }\n\n                @Override\n                public void changedUpdate(DocumentEvent e) {\n                    validateForm();\n                }\n            };\n\n            firstName.getDocument().addDocumentListener(documentListener);\n            lastName.getDocument().addDocumentListener(documentListener);\n\n            setLayout(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridx = 0;\n            gbc.gridy = 0;\n            gbc.anchor = GridBagConstraints.LINE_END;\n            gbc.insets = new Insets(4, 4, 4, 4);\n\n            add(new JLabel(&quot;First name: &quot;), gbc);\n            gbc.gridy++;\n            add(new JLabel(&quot;Last name: &quot;), gbc);\n\n            gbc.gridx++;\n            gbc.gridy = 0;\n            gbc.anchor = GridBagConstraints.LINE_START;\n\n            add(firstName, gbc);\n            gbc.gridy++;\n            add(lastName, gbc);\n        }\n\n        public void addValidationObserver(ValidationObserver observer) {\n            validationObservers.add(observer);\n        }\n\n        public void removeValidationObserver(ValidationObserver observer) {\n            validationObservers.remove(observer);\n        }\n\n        protected void fireValidateStateDidChange(boolean isValid) {\n            for (ValidationObserver observer : validationObservers) {\n                observer.validStateDidChange(this, isValid);\n            }\n        }\n\n        protected void validateForm() {\n            boolean isValid = !firstName.getText().isBlank() &amp;&amp; !lastName.getText().isBlank();\n            fireValidateStateDidChange(isValid);\n        }\n\n        public Person save() {\n            if (person == null) {\n                return new Person(System.currentTimeMillis(), firstName.getText(), lastName.getText());\n            }\n            long id = person.getId();\n            return new Person(id, firstName.getText(), lastName.getText());\n        }\n\n        public static Person createPerson(Component parent) {\n            return editPerson(parent, null);\n        }\n\n        public static Person editPerson(Component parent, Person person) {\n            enum State {\n                OKAY, CANCEL\n            }\n\n            JPanel actionPane = new JPanel(new GridBagLayout());\n            JButton okayButton = new JButton(&quot;Okay&quot;);\n            okayButton.setEnabled(false);\n            JButton cancelButton = new JButton(&quot;Cancel&quot;);\n\n            actionPane.add(okayButton);\n            actionPane.add(cancelButton);\n\n            PersonPane personPane = new PersonPane(person);\n            personPane.addValidationObserver(new ValidationObserver() {\n                @Override\n                public void validStateDidChange(PersonPane source, boolean isValid) {\n                    okayButton.setEnabled(isValid);\n                }\n            });\n\n            JDialog dialog = new JDialog(SwingUtilities.windowForComponent(parent));\n            dialog.setModal(true);\n            dialog.add(personPane);\n            dialog.add(actionPane, BorderLayout.SOUTH);\n\n            okayButton.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    personPane.putClientProperty(&quot;state&quot;, State.OKAY);\n                    dialog.dispose();\n                }\n            });\n            cancelButton.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    personPane.putClientProperty(&quot;state&quot;, State.CANCEL);\n                    dialog.dispose();\n                }\n            });\n\n            dialog.pack();\n            dialog.setLocationRelativeTo(parent);\n            dialog.setVisible(true);\n\n            Object stateValue = personPane.getClientProperty(&quot;state&quot;);\n            if (stateValue instanceof State) {\n                State state = (State) stateValue;\n                if (state == State.OKAY) {\n                    return personPane.save();\n                }\n            }\n\n            return null;\n        }\n    }\n\n    public class PersonTableModel extends AbstractTableModel {\n\n        private List&lt;Person&gt; people = new ArrayList&lt;&gt;();\n        private List&lt;String&gt; columNames = new ArrayList&lt;&gt;(Arrays.asList(new String[]{&quot;First name&quot;, &quot;Last name&quot;}));\n\n        public PersonTableModel() {\n        }\n\n        @Override\n        public int getRowCount() {\n            return people.size();\n        }\n\n        @Override\n        public int getColumnCount() {\n            return columNames.size();\n        }\n\n        @Override\n        public String getColumnName(int column) {\n            return columNames.get(column);\n        }\n\n        @Override\n        public Class&lt;?&gt; getColumnClass(int columnIndex) {\n            return String.class;\n        }\n\n        @Override\n        public Object getValueAt(int rowIndex, int columnIndex) {\n            Person person = people.get(rowIndex);\n            switch (columnIndex) {\n                case 0:\n                    return person.getFirstName();\n                case 1:\n                    return person.getLastName();\n            }\n            return null;\n        }\n\n        public void addOrUpdate(Person person) {\n            int index = people.indexOf(person);\n            if (index &gt;= 0) {\n                people.set(index, person);\n                fireTableRowsUpdated(index, index);\n            } else {\n                int lastIndex = people.size();\n                people.add(person);\n                fireTableRowsInserted(lastIndex, lastIndex);\n            }\n        }\n\n        public Person getPersonAtRow(int row) {\n            return people.get(row);\n        }\n\n    }\n\n    public class MainPane extends JPanel {\n\n        private PersonTableModel model = new PersonTableModel();\n\n        public MainPane() {\n            setLayout(new BorderLayout());\n\n            JButton newPersonButton = new JButton(&quot;New&quot;);\n            newPersonButton.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    Person person = PersonPane.createPerson(MainPane.this);\n                    if (person != null) {\n                        model.addOrUpdate(person);\n                    }\n                }\n            });\n\n            JToolBar toolBar = new JToolBar();\n            toolBar.add(newPersonButton);\n\n            JTable table = new JTable(model);\n            table.addMouseListener(new MouseAdapter() {\n                @Override\n                public void mouseClicked(MouseEvent e) {\n                    if (e.getClickCount() == 2) {\n                        int rowIndex = table.convertRowIndexToModel(table.getSelectedRow());\n                        Person person = model.getPersonAtRow(rowIndex);\n                        person = PersonPane.editPerson(MainPane.this, person);\n                        if (person != null) {\n                            model.addOrUpdate(person);\n                        }\n                    }\n                }\n            });\n\n            add(toolBar, BorderLayout.NORTH);\n            add(new JScrollPane(table));\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4171983,"reputation":13,"user_id":3556484,"display_name":"afreto"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72512613,"answer_count":1,"score":1,"last_activity_date":1687954351,"creation_date":1654471865,"question_id":72511790,"body_markdown":"First of all I&#39;m new to Java. I make an Gui  with 4 panels (`MainProgram`). \r\n\r\n[image ][1]\r\n\r\nIn `centerPanel` is JTable which shows data from database. \r\n\r\nIn `topPanel` I put button that open new class / window - (ADD CUSTOMER) with some input fields. After click save button data is saved into database, and `dispose()`. The data is saved correctly into database. The question is how to refresh table in MainProgram after saving? Thanks in advance.\r\n\r\nThere is some code:\r\n\r\nMainProgram.java\r\n    \r\n    public class MainProgram extends JFrame {\r\n    \tConnection connection = MysqlConnect.dbConnector();\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \tpublic JPanel contentPane;\r\n    \tpublic String selectedRowIndex;\r\n    \r\n    \t\r\n    \tObject[][] data;\r\n    \tString columns[];\r\n    \r\n    \tpublic JPanel centerPanel;\r\n    \r\n    \tpublic JScrollPane  pane;\r\n    \r\n    \tprivate JTable table;\r\n    \r\n    \t\r\n    \r\n    \tpublic MainProgram() throws IOException {\r\n    \r\n    \t\tsetTitle(&quot;Main Program&quot;);\r\n    \t\tsetDefaultCloseOperation(JFrame.DO_NOTHING_ON_CLOSE);\r\n    \t\tsetBounds(100, 100, 1086, 501);\r\n    \t\tsetLocationRelativeTo(null);\r\n    \r\n    \t\t// setExtendedState(getExtendedState() | JFrame.MAXIMIZED_BOTH);\r\n    \r\n    \t\tcontentPane = new JPanel();\r\n    \t\tcontentPane.setBorder(new EmptyBorder(5, 5, 5, 5));\r\n    \t\tsetContentPane(contentPane);\r\n    \t\tcontentPane.setLayout(new BorderLayout(0, 0));\r\n    \t\taddWindowListener((WindowListener) new WindowAdapter() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void windowClosing(WindowEvent we) {\r\n    \t\t\t\tString ObjButtons[] = { &quot;Yes&quot;, &quot;No&quot; };\r\n    \t\t\t\tint PromptResult = JOptionPane.showOptionDialog(null, &quot;Are you sure you want to exit?&quot;, &quot;SkladModule&quot;,\r\n    \t\t\t\t\t\tJOptionPane.DEFAULT_OPTION, JOptionPane.WARNING_MESSAGE, null, ObjButtons, ObjButtons[1]);\r\n    \t\t\t\tif (PromptResult == 0) {\r\n    \t\t\t\t\tSystem.exit(0);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \r\n    \t\t// left panel\r\n    \t\tJPanel leftPanel = new JPanel();\r\n    \t\tcontentPane.add(leftPanel, BorderLayout.WEST);\r\n    \r\n    \t\t// center panel\r\n    \t\tcenterPanel = new JPanel(new GridLayout());\r\n    \t\tcenterPanel.setBorder(new TitledBorder(\r\n    \t\t\t\tnew EtchedBorder(EtchedBorder.LOWERED, new Color(255, 255, 255), new Color(160, 160, 160)), &quot;INFO&quot;,\r\n    \t\t\t\tTitledBorder.LEADING, TitledBorder.TOP, null, new Color(0, 0, 0)));\r\n    \t\tcontentPane.add(centerPanel, BorderLayout.CENTER);\r\n    \r\n    \t\ttry {\r\n    \t\t\tint count = 0;\r\n    \t\t\tString query = &quot;SELECT * FROM vehicles&quot;;\r\n    \t\t\tString queryRow = &quot;select count(*) from vehicles&quot;;\r\n    \r\n    \t\t\tStatement stm = connection.createStatement();\r\n    \r\n    \t\t\tResultSet rows = stm.executeQuery(queryRow);\r\n    \r\n    \t\t\tif (rows.next()) {\r\n    \t\t\t\tcount = rows.getInt(1);\r\n    \t\t\t\trows.close();\r\n    \t\t\t}\r\n    \r\n    \t\t\tResultSet res = stm.executeQuery(query);\r\n    \r\n    \t\t\t// client_id, plate, make, model, year, engine_cc, color, vehicle_owner,\r\n    \t\t\t// vehicle_owner_contact, mechanic, in_garage, service_start, service_end,\r\n    \t\t\t// service_cost, parts_cost, service_paid, notes\r\n    \t\t\tcolumns = new String[] { &quot;ID&quot;, &quot;Plate&quot;, &quot;Make&quot;, &quot;Model&quot;, &quot;Year&quot;, &quot;Engine&quot;, &quot;Color&quot;, &quot;Owner&quot;, &quot;Owner Tel.&quot;,\r\n    \t\t\t\t\t&quot;In Garage&quot;, &quot;Service Paid&quot;, &quot;Notes&quot; };\r\n    \t\t\tdata = new Object[count][12];\r\n    \t\t\tint i = 0;\r\n    \t\t\twhile (res.next()) {\r\n    \t\t\t\tint id = res.getInt(&quot;client_id&quot;);\r\n    \r\n    \t\t\t\tdata[i][0] = id + &quot;&quot;;\r\n    \t\t\t\tdata[i][1] = res.getString(&quot;plate&quot;);\r\n    \t\t\t\tdata[i][2] = res.getString(&quot;make&quot;);\r\n    \t\t\t\tdata[i][3] = res.getString(&quot;model&quot;);\r\n    \t\t\t\tdata[i][4] = res.getString(&quot;year&quot;);\r\n    \t\t\t\tdata[i][5] = res.getString(&quot;engine_cc&quot;);\r\n    \t\t\t\tdata[i][6] = res.getString(&quot;color&quot;);\r\n    \t\t\t\tdata[i][7] = res.getString(&quot;vehicle_owner&quot;);\r\n    \t\t\t\tdata[i][8] = res.getString(&quot;vehicle_owner_contact&quot;);\r\n    \t\t\t\tdata[i][9] = res.getString(&quot;in_garage&quot;);\r\n    \t\t\t\tdata[i][10] = res.getString(&quot;service_paid&quot;);\r\n    \t\t\t\tdata[i][11] = res.getString(&quot;notes&quot;);\r\n    \r\n    \t\t\t\ti++;\r\n    \t\t\t}\r\n    \t\t\ttable = new JTable();\r\n    \t\t\tTableModel model = new DefaultTableModel(data, columns);\r\n    \r\n    \t\t\ttable.setModel(model);\r\n    \r\n    \t\t\t// JTable table = new JTable(data, columns);\r\n    \r\n    \t\t\ttable.setAutoResizeMode(JTable.AUTO_RESIZE_OFF);\r\n    \t\t\tfinal TableColumnModel columnModel = table.getColumnModel();\r\n    \t\t\tfor (int column = 0; column &lt; table.getColumnCount(); column++) {\r\n    \t\t\t\tint width = 15; // Min width\r\n    \t\t\t\tfor (int row = 0; row &lt; table.getRowCount(); row++) {\r\n    \t\t\t\t\tTableCellRenderer renderer = table.getCellRenderer(row, column);\r\n    \t\t\t\t\tComponent comp = table.prepareRenderer(renderer, row, column);\r\n    \t\t\t\t\twidth = Math.max(comp.getPreferredSize().width + 10, width);\r\n    \t\t\t\t}\r\n    \t\t\t\twidth = Math.max(width, table.getColumnModel().getColumn(column).getPreferredWidth());\r\n    \t\t\t\tif (width &gt; 300)\r\n    \r\n    \t\t\t\t\twidth = 300;\r\n    \t\t\t\tcolumnModel.getColumn(column).setPreferredWidth(width);\r\n    \t\t\t}\r\n    \r\n    \t\t\ttable.setFocusable(false);\r\n    \t\t\ttable.setRowSelectionAllowed(true);\r\n    \r\n    \t\t\ttable.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);\r\n    \t\t\ttable.setDefaultEditor(Object.class, null);\r\n    \t\t\ttable.setShowGrid(true);\r\n    \t\t\ttable.setShowVerticalLines(true);\r\n    \t\t\tpane = new JScrollPane(table);\r\n    \t\t\tcenterPanel.add(pane);\r\n    \r\n    \t\t\ttable.addMouseListener(new MouseListener() {\r\n    \t\t\t\tpublic void mouseReleased(MouseEvent e) {\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tpublic void mousePressed(MouseEvent e) {\r\n    \r\n    \t\t\t\t\tselectedRowIndex = table.getModel().getValueAt(table.getSelectedRow(), 0).toString();\r\n    \r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tpublic void mouseExited(MouseEvent e) {\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tpublic void mouseEntered(MouseEvent e) {\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tpublic void mouseClicked(MouseEvent e) {\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \r\n    \t\t\tJButton btnNewButton = new JButton(&quot;New button&quot;);\r\n    \t\t\tbtnNewButton.addActionListener(new ActionListener() {\r\n    \t\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n    \r\n    \t\t\t\t\tif (selectedRowIndex != null) {\r\n    \r\n    \t\t\t\t\t\tint rowID = Integer.parseInt(selectedRowIndex);\r\n    \r\n    \t\t\t\t\t\tSystem.out.println(rowID);\r\n    \r\n    \t\t\t\t\t} else {\r\n    \r\n    \t\t\t\t\t\tJOptionPane.showMessageDialog(null, &quot;Please select row!&quot;, &quot;No selected vehicle&quot;,\r\n    \t\t\t\t\t\t\t\tJOptionPane.INFORMATION_MESSAGE);\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \t\t\tleftPanel.add(btnNewButton);\r\n    \r\n    \t\t} catch (SQLException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t\t// bottom panel\r\n    \t\t// create the status bar panel and shove it down the bottom of the frame\r\n    \t\tJPanel statusPanel = new JPanel();\r\n    \t\tstatusPanel.setBorder((Border) new BevelBorder(BevelBorder.LOWERED));\r\n    \t\tcontentPane.add(statusPanel, BorderLayout.SOUTH);\r\n    \t\tstatusPanel.setPreferredSize(new Dimension(contentPane.getWidth(), 20));\r\n    \t\tstatusPanel.setLayout(new BoxLayout(statusPanel, BoxLayout.X_AXIS));\r\n    \t\tJLabel statusLabel = new JLabel(&quot;&quot;);\r\n    \t\tstatusLabel.setHorizontalAlignment(SwingConstants.LEFT);\r\n    \t\tstatusPanel.add(statusLabel);\r\n    \t\tcontentPane.setVisible(true);\r\n    \r\n    \t\t// add username from login to statusbar\r\n    \t\tString username = Login.uname;\r\n    \r\n    \t\tstatusLabel.setText(&quot;Logged user: &quot; + username);\r\n    \r\n    \t\tJPanel topPanel = new JPanel();\r\n    \t\tcontentPane.add(topPanel, BorderLayout.NORTH);\r\n    \r\n    \t\tBufferedImage buttonIcon = ImageIO\r\n    \t\t\t\t.read(new File(&quot;C:\\\\Users\\\\User\\\\eclipse-workspace\\\\SkladModule\\\\images\\\\plus.png&quot;));\r\n    \t\tJButton btnAddCustomer = new JButton(new ImageIcon(buttonIcon));\r\n    \t\tbtnAddCustomer.setText(&quot;ADD&quot;);\r\n    \t\t// btnAddCustomer.setBorder(null);\r\n    \t\tbtnAddCustomer.setContentAreaFilled(false);\r\n\r\n    \t\tbtnAddCustomer.addActionListener(new ActionListener() {\r\n    \t\t\tpublic void actionPerformed(ActionEvent e) {\r\n    \r\n    \t\t\t\tAddCustomer addCustomer;\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\taddCustomer = new AddCustomer();\r\n    \t\t\t\t\taddCustomer.setVisible(true);\r\n    \t\t\t\t} catch (IOException e1) {\r\n    \r\n    \t\t\t\t\te1.printStackTrace();\r\n    \t\t\t\t}\r\n     \t\t\t}\r\n    \t\t});\r\n    \r\n    \t\ttopPanel.add(btnAddCustomer);\r\n    \r\n    \t\tJButton btnNewButton_1 = new JButton(&quot;New button&quot;);\r\n    \t\ttopPanel.add(btnNewButton_1);\r\n    \t}\r\n    \r\n    \tpublic void refresh() {\r\n    \t\tTableModel model =new DefaultTableModel(data, columns);\r\n    \t\tmodel.insertRow(res.getRow() - 1, row);\r\n    \t\tmodel.addRow(row);\r\n    \t}\r\n    \t\r\n    \t\r\n    \r\n    }\r\n\r\n`AddCustomer.java`:\r\n\r\n    public class AddCustomer extends JFrame {\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \tprivate JTextField plateField;\r\n    \tprivate JTextField makeField;\r\n    \tprivate JTextField modelField;\r\n    \tprivate JTextField yearField;\r\n    \tprivate JTextField engineField;\r\n    \tprivate JTextField colorField;\r\n    \tprivate JTextField ownerField;\r\n    \tprivate JTextField ownerPhoneField;\r\n    \r\n    \tConnection connection = null;\r\n    \r\n    \tpublic AddCustomer() throws IOException {\r\n    \t\tsetResizable(false);\r\n    \t\tsetType(Type.POPUP);\r\n    \t\tsetTitle(&quot;ADD CUSTOMER&quot;);\r\n    \t\tsetBounds(100, 100, 700, 300);\r\n    \t\tsetLocationRelativeTo(null);\r\n    \t\tsetDefaultCloseOperation(JFrame.DO_NOTHING_ON_CLOSE);\r\n    \t\tgetContentPane().setLayout(new BorderLayout(0, 0));\r\n    \t\taddWindowListener((WindowListener) new WindowAdapter() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void windowClosing(WindowEvent we) {\r\n    \t\t\t\tString ObjButtons[] = { &quot;Yes&quot;, &quot;No&quot; };\r\n    \t\t\t\tint PromptResult = JOptionPane.showOptionDialog(null, &quot;Are you sure you want to exit?&quot;, &quot;SkladModule&quot;,\r\n    \t\t\t\t\t\tJOptionPane.DEFAULT_OPTION, JOptionPane.WARNING_MESSAGE, null, ObjButtons, ObjButtons[1]);\r\n    \t\t\t\tif (PromptResult == 0) {\r\n    \t\t\t\t\tdispose();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\tJPanel leftPanel = new JPanel();\r\n    \t\tleftPanel.setBorder(BorderFactory.createTitledBorder(&quot; CAR INFO &quot;));\r\n    \t\tgetContentPane().add(leftPanel, BorderLayout.WEST);\r\n    \t\tleftPanel.setLayout(new MigLayout(&quot;&quot;, &quot;[left][][grow,left]&quot;, &quot;[][][][][][][][][]&quot;));\r\n    \t\tJLabel lblPlate = new JLabel(&quot;Plate: *&quot;);\r\n    \t\tleftPanel.add(lblPlate, &quot;cell 0 1,alignx trailing&quot;);\r\n    \r\n    \t\tplateField = new JTextField();\r\n    \t\tleftPanel.add(plateField, &quot;cell 2 1,growx&quot;);\r\n    \t\tplateField.setColumns(10);\r\n    \r\n    \t\tJLabel lblMake = new JLabel(&quot;Make: *&quot;);\r\n    \t\tleftPanel.add(lblMake, &quot;cell 0 2,alignx trailing&quot;);\r\n    \r\n    \t\tmakeField = new JTextField();\r\n    \t\tleftPanel.add(makeField, &quot;cell 2 2,growx&quot;);\r\n    \t\tmakeField.setColumns(10);\r\n    \r\n    \t\tJLabel lblModel = new JLabel(&quot;Model: *&quot;);\r\n    \t\tleftPanel.add(lblModel, &quot;cell 0 3,alignx trailing&quot;);\r\n    \r\n    \t\tmodelField = new JTextField();\r\n    \t\tleftPanel.add(modelField, &quot;cell 2 3,growx&quot;);\r\n    \t\tmodelField.setColumns(10);\r\n    \r\n    \t\tJLabel lblYear = new JLabel(&quot;Year: *&quot;);\r\n    \t\tleftPanel.add(lblYear, &quot;cell 0 4,alignx trailing&quot;);\r\n    \r\n    \t\tyearField = new JTextField();\r\n    \t\tleftPanel.add(yearField, &quot;cell 2 4,growx&quot;);\r\n    \t\tyearField.setColumns(10);\r\n    \r\n    \t\tJLabel lblEngCC = new JLabel(&quot;Engine size (cc): *&quot;);\r\n    \t\tleftPanel.add(lblEngCC, &quot;cell 0 5,alignx trailing&quot;);\r\n    \r\n    \t\tengineField = new JTextField();\r\n    \t\tleftPanel.add(engineField, &quot;cell 2 5,growx&quot;);\r\n    \t\tengineField.setColumns(10);\r\n    \r\n    \t\tJLabel lblColor = new JLabel(&quot;Color: *&quot;);\r\n    \t\tleftPanel.add(lblColor, &quot;cell 0 6,alignx trailing&quot;);\r\n    \r\n    \t\tcolorField = new JTextField();\r\n    \t\tleftPanel.add(colorField, &quot;cell 2 6,growx&quot;);\r\n    \t\tcolorField.setColumns(10);\r\n    \r\n    \t\tJLabel lblNewLabel = new JLabel(&quot;*  Required fields&quot;);\r\n    \t\tleftPanel.add(lblNewLabel, &quot;cell 2 8&quot;);\r\n    \r\n    \t\tJPanel rightPanel = new JPanel();\r\n    \t\trightPanel.setBorder(BorderFactory.createTitledBorder(&quot; CLIENT INFO &quot;));\r\n    \t\tgetContentPane().add(rightPanel, BorderLayout.CENTER);\r\n    \t\trightPanel.setLayout(new MigLayout(&quot;&quot;, &quot;[100px:n,trailing][250px:300px:500,trailing]&quot;, &quot;[][][][][grow]&quot;));\r\n    \r\n    \t\tJLabel lblOwnerName = new JLabel(&quot;Car owner names: *&quot;);\r\n    \t\trightPanel.add(lblOwnerName, &quot;cell 0 1,alignx trailing&quot;);\r\n    \r\n    \t\townerField = new JTextField();\r\n    \t\trightPanel.add(ownerField, &quot;cell 1 1,growx&quot;);\r\n    \t\townerField.setColumns(10);\r\n    \r\n    \t\tJLabel lblOwnerPhone = new JLabel(&quot;Car owner telephone: *&quot;);\r\n    \t\trightPanel.add(lblOwnerPhone, &quot;cell 0 2,alignx trailing&quot;);\r\n    \r\n    \t\townerPhoneField = new JTextField();\r\n    \t\trightPanel.add(ownerPhoneField, &quot;cell 1 2,growx&quot;);\r\n    \t\townerPhoneField.setColumns(10);\r\n    \r\n    \t\tJLabel lblNotes = new JLabel(&quot;Notes: &quot;);\r\n    \t\trightPanel.add(lblNotes, &quot;cell 0 3,alignx trailing,aligny top&quot;);\r\n    \r\n    \t\tJTextArea notesField = new JTextArea(16, 58);\r\n    \t\tnotesField.setWrapStyleWord(true);\r\n    \t\tnotesField.setLineWrap(true);\r\n    \t\tnotesField.setBorder(BorderFactory.createLineBorder(Color.lightGray));\r\n    \t\tJScrollPane scrollNotes = new JScrollPane(notesField);\r\n    \t\tscrollNotes.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS);\r\n    \t\trightPanel.add(scrollNotes, &quot;cell 1 3,grow&quot;);\r\n    \r\n    \t\tJPanel bottomPanel = new JPanel(new FlowLayout(FlowLayout.RIGHT));\r\n    \t\tgetContentPane().add(bottomPanel, BorderLayout.SOUTH);\r\n    \r\n    \t\tBufferedImage saveButtonIcon = ImageIO\r\n    \t\t\t\t.read(new File(&quot;C:\\\\Users\\\\User\\\\eclipse-workspace\\\\SkladModule\\\\images\\\\accept.png&quot;));\r\n    \t\tJButton save_btn = new JButton(new ImageIcon(saveButtonIcon));\r\n    \t\tsave_btn.addActionListener(new ActionListener() {\r\n    \t\t\tpublic void actionPerformed(ActionEvent e) {\r\n    \r\n    \t\t\t\t/*\r\n    \t\t\t\t * if (plateField.getText().isBlank() || makeField.getText().isBlank() ||\r\n    \t\t\t\t * modelField.getText().isBlank() || yearField.getText().isBlank() ||\r\n    \t\t\t\t * engineField.getText().isBlank() || colorField.getText().isBlank() ||\r\n    \t\t\t\t * ownerField.getText().isBlank() || ownerPhoneField.getText().isBlank()) {\r\n    \t\t\t\t * \r\n    \t\t\t\t * JOptionPane.showMessageDialog(null, &quot;* required fields incomplete. Please\r\n    \t\t\t\t * review and resubmit&quot;, &quot;Incomplete data&quot;, JOptionPane.WARNING_MESSAGE);\r\n    \t\t\t\t * \r\n    \t\t\t\t * } else {\r\n    \t\t\t\t */\r\n    \r\n    \t\t\t\tconnection = MysqlConnect.dbConnector();\r\n    \r\n    \t\t\t\ttry {\r\n    \r\n    \t\t\t\t\tString query = &quot;INSERT INTO vehicles (plate, make, model, year, engine_cc, color, vehicle_owner, vehicle_owner_contact, notes) VALUES (&#39;&quot;\r\n    \t\t\t\t\t\t\t+ plateField.getText() + &quot;&#39;,&#39;&quot; + makeField.getText() + &quot;&#39;,&#39;&quot; + modelField.getText() + &quot;&#39;,&#39;&quot;\r\n    \t\t\t\t\t\t\t+ yearField.getText() + &quot;&#39;,&#39;&quot; + engineField.getText() + &quot;&#39;,&#39;&quot; + colorField.getText() + &quot;&#39;,&#39;&quot;\r\n    \t\t\t\t\t\t\t+ ownerField.getText() + &quot;&#39;,&#39;&quot; + ownerPhoneField.getText() + &quot;&#39;,&#39;&quot; + notesField.getText()\r\n    \t\t\t\t\t\t\t+ &quot;&#39;)&quot;;\r\n    \r\n    \t\t\t\t\tPreparedStatement pst = connection.prepareStatement(query);\r\n    \t\t\t\t\tpst.executeUpdate(query);\r\n    \t\t\t\t\tMainProgram main = new MainProgram();\r\n    \t\t\t\t\tmain.refresh();\r\n    \t\t\t\t\tJOptionPane.showMessageDialog(null, &quot;Data was saved&quot;, &quot;SUCCESS&quot;, JOptionPane.INFORMATION_MESSAGE);\r\n    \t\t\t\t\tdispose();\r\n    \t\t\t\t\t\r\n    \r\n    \t\t\t\t} catch (Exception e1) {\r\n    \t\t\t\t\tJOptionPane.showMessageDialog(null, &quot;SQLException: &quot; + e1.getMessage(), &quot;ERROR&quot;,\r\n    \t\t\t\t\t\t\tJOptionPane.ERROR_MESSAGE);\r\n    \r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\t/* } */\r\n    \r\n    \t\t\t}\r\n    \t\t});\r\n    \t\tsave_btn.setText(&quot;SAVE&quot;);\r\n    \t\tsave_btn.setBorder(null);\r\n    \t\tsave_btn.setContentAreaFilled(true);\r\n    \t\tsave_btn.setToolTipText(&quot;SAVE&quot;);\r\n    \t\tbottomPanel.add(save_btn);\r\n    \r\n    \t\tComponent horizontalStrut = Box.createHorizontalStrut(25);\r\n    \t\tbottomPanel.add(horizontalStrut);\r\n    \r\n    \t\tBufferedImage cancelButtonIcon = ImageIO\r\n    \t\t\t\t.read(new File(&quot;C:\\\\Users\\\\User\\\\eclipse-workspace\\\\SkladModule\\\\images\\\\remove.png&quot;));\r\n    \t\tJButton cancel_btn = new JButton(new ImageIcon(cancelButtonIcon));\r\n    \t\tcancel_btn.addActionListener(new ActionListener() {\r\n    \t\t\tpublic void actionPerformed(ActionEvent e) {\r\n    \t\t\t\tdispose();\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\tcancel_btn.setText(&quot;CANCEL&quot;);\r\n    \t\tcancel_btn.setBorder(null);\r\n    \t\tcancel_btn.setContentAreaFilled(false);\r\n    \t\tcancel_btn.setToolTipText(&quot;CANCEL&quot;);\r\n    \t\tcancel_btn.setHorizontalAlignment(SwingConstants.RIGHT);\r\n    \t\tbottomPanel.add(cancel_btn);\r\n    \r\n    \t\tComponent horizontalStrut_1 = Box.createHorizontalStrut(20);\r\n    \t\tbottomPanel.add(horizontalStrut_1);\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/K6FCP.jpg","title":"Can&#39;t dynamically refresh JTable","body":"<p>First of all I'm new to Java. I make an Gui  with 4 panels (<code>MainProgram</code>).</p>\n<p><a href=\"https://i.stack.imgur.com/K6FCP.jpg\" rel=\"nofollow noreferrer\">image </a></p>\n<p>In <code>centerPanel</code> is JTable which shows data from database.</p>\n<p>In <code>topPanel</code> I put button that open new class / window - (ADD CUSTOMER) with some input fields. After click save button data is saved into database, and <code>dispose()</code>. The data is saved correctly into database. The question is how to refresh table in MainProgram after saving? Thanks in advance.</p>\n<p>There is some code:</p>\n<p>MainProgram.java</p>\n<pre><code>public class MainProgram extends JFrame {\n    Connection connection = MysqlConnect.dbConnector();\n\n    private static final long serialVersionUID = 1L;\n\n    public JPanel contentPane;\n    public String selectedRowIndex;\n\n    \n    Object[][] data;\n    String columns[];\n\n    public JPanel centerPanel;\n\n    public JScrollPane  pane;\n\n    private JTable table;\n\n    \n\n    public MainProgram() throws IOException {\n\n        setTitle(&quot;Main Program&quot;);\n        setDefaultCloseOperation(JFrame.DO_NOTHING_ON_CLOSE);\n        setBounds(100, 100, 1086, 501);\n        setLocationRelativeTo(null);\n\n        // setExtendedState(getExtendedState() | JFrame.MAXIMIZED_BOTH);\n\n        contentPane = new JPanel();\n        contentPane.setBorder(new EmptyBorder(5, 5, 5, 5));\n        setContentPane(contentPane);\n        contentPane.setLayout(new BorderLayout(0, 0));\n        addWindowListener((WindowListener) new WindowAdapter() {\n            @Override\n            public void windowClosing(WindowEvent we) {\n                String ObjButtons[] = { &quot;Yes&quot;, &quot;No&quot; };\n                int PromptResult = JOptionPane.showOptionDialog(null, &quot;Are you sure you want to exit?&quot;, &quot;SkladModule&quot;,\n                        JOptionPane.DEFAULT_OPTION, JOptionPane.WARNING_MESSAGE, null, ObjButtons, ObjButtons[1]);\n                if (PromptResult == 0) {\n                    System.exit(0);\n                }\n            }\n        });\n\n        // left panel\n        JPanel leftPanel = new JPanel();\n        contentPane.add(leftPanel, BorderLayout.WEST);\n\n        // center panel\n        centerPanel = new JPanel(new GridLayout());\n        centerPanel.setBorder(new TitledBorder(\n                new EtchedBorder(EtchedBorder.LOWERED, new Color(255, 255, 255), new Color(160, 160, 160)), &quot;INFO&quot;,\n                TitledBorder.LEADING, TitledBorder.TOP, null, new Color(0, 0, 0)));\n        contentPane.add(centerPanel, BorderLayout.CENTER);\n\n        try {\n            int count = 0;\n            String query = &quot;SELECT * FROM vehicles&quot;;\n            String queryRow = &quot;select count(*) from vehicles&quot;;\n\n            Statement stm = connection.createStatement();\n\n            ResultSet rows = stm.executeQuery(queryRow);\n\n            if (rows.next()) {\n                count = rows.getInt(1);\n                rows.close();\n            }\n\n            ResultSet res = stm.executeQuery(query);\n\n            // client_id, plate, make, model, year, engine_cc, color, vehicle_owner,\n            // vehicle_owner_contact, mechanic, in_garage, service_start, service_end,\n            // service_cost, parts_cost, service_paid, notes\n            columns = new String[] { &quot;ID&quot;, &quot;Plate&quot;, &quot;Make&quot;, &quot;Model&quot;, &quot;Year&quot;, &quot;Engine&quot;, &quot;Color&quot;, &quot;Owner&quot;, &quot;Owner Tel.&quot;,\n                    &quot;In Garage&quot;, &quot;Service Paid&quot;, &quot;Notes&quot; };\n            data = new Object[count][12];\n            int i = 0;\n            while (res.next()) {\n                int id = res.getInt(&quot;client_id&quot;);\n\n                data[i][0] = id + &quot;&quot;;\n                data[i][1] = res.getString(&quot;plate&quot;);\n                data[i][2] = res.getString(&quot;make&quot;);\n                data[i][3] = res.getString(&quot;model&quot;);\n                data[i][4] = res.getString(&quot;year&quot;);\n                data[i][5] = res.getString(&quot;engine_cc&quot;);\n                data[i][6] = res.getString(&quot;color&quot;);\n                data[i][7] = res.getString(&quot;vehicle_owner&quot;);\n                data[i][8] = res.getString(&quot;vehicle_owner_contact&quot;);\n                data[i][9] = res.getString(&quot;in_garage&quot;);\n                data[i][10] = res.getString(&quot;service_paid&quot;);\n                data[i][11] = res.getString(&quot;notes&quot;);\n\n                i++;\n            }\n            table = new JTable();\n            TableModel model = new DefaultTableModel(data, columns);\n\n            table.setModel(model);\n\n            // JTable table = new JTable(data, columns);\n\n            table.setAutoResizeMode(JTable.AUTO_RESIZE_OFF);\n            final TableColumnModel columnModel = table.getColumnModel();\n            for (int column = 0; column &lt; table.getColumnCount(); column++) {\n                int width = 15; // Min width\n                for (int row = 0; row &lt; table.getRowCount(); row++) {\n                    TableCellRenderer renderer = table.getCellRenderer(row, column);\n                    Component comp = table.prepareRenderer(renderer, row, column);\n                    width = Math.max(comp.getPreferredSize().width + 10, width);\n                }\n                width = Math.max(width, table.getColumnModel().getColumn(column).getPreferredWidth());\n                if (width &gt; 300)\n\n                    width = 300;\n                columnModel.getColumn(column).setPreferredWidth(width);\n            }\n\n            table.setFocusable(false);\n            table.setRowSelectionAllowed(true);\n\n            table.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);\n            table.setDefaultEditor(Object.class, null);\n            table.setShowGrid(true);\n            table.setShowVerticalLines(true);\n            pane = new JScrollPane(table);\n            centerPanel.add(pane);\n\n            table.addMouseListener(new MouseListener() {\n                public void mouseReleased(MouseEvent e) {\n                }\n\n                public void mousePressed(MouseEvent e) {\n\n                    selectedRowIndex = table.getModel().getValueAt(table.getSelectedRow(), 0).toString();\n\n                }\n\n                public void mouseExited(MouseEvent e) {\n                }\n\n                public void mouseEntered(MouseEvent e) {\n                }\n\n                public void mouseClicked(MouseEvent e) {\n                }\n            });\n\n            JButton btnNewButton = new JButton(&quot;New button&quot;);\n            btnNewButton.addActionListener(new ActionListener() {\n                public void actionPerformed(ActionEvent e) {\n\n                    if (selectedRowIndex != null) {\n\n                        int rowID = Integer.parseInt(selectedRowIndex);\n\n                        System.out.println(rowID);\n\n                    } else {\n\n                        JOptionPane.showMessageDialog(null, &quot;Please select row!&quot;, &quot;No selected vehicle&quot;,\n                                JOptionPane.INFORMATION_MESSAGE);\n                    }\n\n                }\n            });\n            leftPanel.add(btnNewButton);\n\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n\n        // bottom panel\n        // create the status bar panel and shove it down the bottom of the frame\n        JPanel statusPanel = new JPanel();\n        statusPanel.setBorder((Border) new BevelBorder(BevelBorder.LOWERED));\n        contentPane.add(statusPanel, BorderLayout.SOUTH);\n        statusPanel.setPreferredSize(new Dimension(contentPane.getWidth(), 20));\n        statusPanel.setLayout(new BoxLayout(statusPanel, BoxLayout.X_AXIS));\n        JLabel statusLabel = new JLabel(&quot;&quot;);\n        statusLabel.setHorizontalAlignment(SwingConstants.LEFT);\n        statusPanel.add(statusLabel);\n        contentPane.setVisible(true);\n\n        // add username from login to statusbar\n        String username = Login.uname;\n\n        statusLabel.setText(&quot;Logged user: &quot; + username);\n\n        JPanel topPanel = new JPanel();\n        contentPane.add(topPanel, BorderLayout.NORTH);\n\n        BufferedImage buttonIcon = ImageIO\n                .read(new File(&quot;C:\\\\Users\\\\User\\\\eclipse-workspace\\\\SkladModule\\\\images\\\\plus.png&quot;));\n        JButton btnAddCustomer = new JButton(new ImageIcon(buttonIcon));\n        btnAddCustomer.setText(&quot;ADD&quot;);\n        // btnAddCustomer.setBorder(null);\n        btnAddCustomer.setContentAreaFilled(false);\n\n        btnAddCustomer.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n\n                AddCustomer addCustomer;\n                try {\n                    addCustomer = new AddCustomer();\n                    addCustomer.setVisible(true);\n                } catch (IOException e1) {\n\n                    e1.printStackTrace();\n                }\n            }\n        });\n\n        topPanel.add(btnAddCustomer);\n\n        JButton btnNewButton_1 = new JButton(&quot;New button&quot;);\n        topPanel.add(btnNewButton_1);\n    }\n\n    public void refresh() {\n        TableModel model =new DefaultTableModel(data, columns);\n        model.insertRow(res.getRow() - 1, row);\n        model.addRow(row);\n    }\n    \n    \n\n}\n</code></pre>\n<p><code>AddCustomer.java</code>:</p>\n<pre><code>public class AddCustomer extends JFrame {\n\n    private static final long serialVersionUID = 1L;\n    private JTextField plateField;\n    private JTextField makeField;\n    private JTextField modelField;\n    private JTextField yearField;\n    private JTextField engineField;\n    private JTextField colorField;\n    private JTextField ownerField;\n    private JTextField ownerPhoneField;\n\n    Connection connection = null;\n\n    public AddCustomer() throws IOException {\n        setResizable(false);\n        setType(Type.POPUP);\n        setTitle(&quot;ADD CUSTOMER&quot;);\n        setBounds(100, 100, 700, 300);\n        setLocationRelativeTo(null);\n        setDefaultCloseOperation(JFrame.DO_NOTHING_ON_CLOSE);\n        getContentPane().setLayout(new BorderLayout(0, 0));\n        addWindowListener((WindowListener) new WindowAdapter() {\n            @Override\n            public void windowClosing(WindowEvent we) {\n                String ObjButtons[] = { &quot;Yes&quot;, &quot;No&quot; };\n                int PromptResult = JOptionPane.showOptionDialog(null, &quot;Are you sure you want to exit?&quot;, &quot;SkladModule&quot;,\n                        JOptionPane.DEFAULT_OPTION, JOptionPane.WARNING_MESSAGE, null, ObjButtons, ObjButtons[1]);\n                if (PromptResult == 0) {\n                    dispose();\n                }\n            }\n        });\n        JPanel leftPanel = new JPanel();\n        leftPanel.setBorder(BorderFactory.createTitledBorder(&quot; CAR INFO &quot;));\n        getContentPane().add(leftPanel, BorderLayout.WEST);\n        leftPanel.setLayout(new MigLayout(&quot;&quot;, &quot;[left][][grow,left]&quot;, &quot;[][][][][][][][][]&quot;));\n        JLabel lblPlate = new JLabel(&quot;Plate: *&quot;);\n        leftPanel.add(lblPlate, &quot;cell 0 1,alignx trailing&quot;);\n\n        plateField = new JTextField();\n        leftPanel.add(plateField, &quot;cell 2 1,growx&quot;);\n        plateField.setColumns(10);\n\n        JLabel lblMake = new JLabel(&quot;Make: *&quot;);\n        leftPanel.add(lblMake, &quot;cell 0 2,alignx trailing&quot;);\n\n        makeField = new JTextField();\n        leftPanel.add(makeField, &quot;cell 2 2,growx&quot;);\n        makeField.setColumns(10);\n\n        JLabel lblModel = new JLabel(&quot;Model: *&quot;);\n        leftPanel.add(lblModel, &quot;cell 0 3,alignx trailing&quot;);\n\n        modelField = new JTextField();\n        leftPanel.add(modelField, &quot;cell 2 3,growx&quot;);\n        modelField.setColumns(10);\n\n        JLabel lblYear = new JLabel(&quot;Year: *&quot;);\n        leftPanel.add(lblYear, &quot;cell 0 4,alignx trailing&quot;);\n\n        yearField = new JTextField();\n        leftPanel.add(yearField, &quot;cell 2 4,growx&quot;);\n        yearField.setColumns(10);\n\n        JLabel lblEngCC = new JLabel(&quot;Engine size (cc): *&quot;);\n        leftPanel.add(lblEngCC, &quot;cell 0 5,alignx trailing&quot;);\n\n        engineField = new JTextField();\n        leftPanel.add(engineField, &quot;cell 2 5,growx&quot;);\n        engineField.setColumns(10);\n\n        JLabel lblColor = new JLabel(&quot;Color: *&quot;);\n        leftPanel.add(lblColor, &quot;cell 0 6,alignx trailing&quot;);\n\n        colorField = new JTextField();\n        leftPanel.add(colorField, &quot;cell 2 6,growx&quot;);\n        colorField.setColumns(10);\n\n        JLabel lblNewLabel = new JLabel(&quot;*  Required fields&quot;);\n        leftPanel.add(lblNewLabel, &quot;cell 2 8&quot;);\n\n        JPanel rightPanel = new JPanel();\n        rightPanel.setBorder(BorderFactory.createTitledBorder(&quot; CLIENT INFO &quot;));\n        getContentPane().add(rightPanel, BorderLayout.CENTER);\n        rightPanel.setLayout(new MigLayout(&quot;&quot;, &quot;[100px:n,trailing][250px:300px:500,trailing]&quot;, &quot;[][][][][grow]&quot;));\n\n        JLabel lblOwnerName = new JLabel(&quot;Car owner names: *&quot;);\n        rightPanel.add(lblOwnerName, &quot;cell 0 1,alignx trailing&quot;);\n\n        ownerField = new JTextField();\n        rightPanel.add(ownerField, &quot;cell 1 1,growx&quot;);\n        ownerField.setColumns(10);\n\n        JLabel lblOwnerPhone = new JLabel(&quot;Car owner telephone: *&quot;);\n        rightPanel.add(lblOwnerPhone, &quot;cell 0 2,alignx trailing&quot;);\n\n        ownerPhoneField = new JTextField();\n        rightPanel.add(ownerPhoneField, &quot;cell 1 2,growx&quot;);\n        ownerPhoneField.setColumns(10);\n\n        JLabel lblNotes = new JLabel(&quot;Notes: &quot;);\n        rightPanel.add(lblNotes, &quot;cell 0 3,alignx trailing,aligny top&quot;);\n\n        JTextArea notesField = new JTextArea(16, 58);\n        notesField.setWrapStyleWord(true);\n        notesField.setLineWrap(true);\n        notesField.setBorder(BorderFactory.createLineBorder(Color.lightGray));\n        JScrollPane scrollNotes = new JScrollPane(notesField);\n        scrollNotes.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS);\n        rightPanel.add(scrollNotes, &quot;cell 1 3,grow&quot;);\n\n        JPanel bottomPanel = new JPanel(new FlowLayout(FlowLayout.RIGHT));\n        getContentPane().add(bottomPanel, BorderLayout.SOUTH);\n\n        BufferedImage saveButtonIcon = ImageIO\n                .read(new File(&quot;C:\\\\Users\\\\User\\\\eclipse-workspace\\\\SkladModule\\\\images\\\\accept.png&quot;));\n        JButton save_btn = new JButton(new ImageIcon(saveButtonIcon));\n        save_btn.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n\n                /*\n                 * if (plateField.getText().isBlank() || makeField.getText().isBlank() ||\n                 * modelField.getText().isBlank() || yearField.getText().isBlank() ||\n                 * engineField.getText().isBlank() || colorField.getText().isBlank() ||\n                 * ownerField.getText().isBlank() || ownerPhoneField.getText().isBlank()) {\n                 * \n                 * JOptionPane.showMessageDialog(null, &quot;* required fields incomplete. Please\n                 * review and resubmit&quot;, &quot;Incomplete data&quot;, JOptionPane.WARNING_MESSAGE);\n                 * \n                 * } else {\n                 */\n\n                connection = MysqlConnect.dbConnector();\n\n                try {\n\n                    String query = &quot;INSERT INTO vehicles (plate, make, model, year, engine_cc, color, vehicle_owner, vehicle_owner_contact, notes) VALUES ('&quot;\n                            + plateField.getText() + &quot;','&quot; + makeField.getText() + &quot;','&quot; + modelField.getText() + &quot;','&quot;\n                            + yearField.getText() + &quot;','&quot; + engineField.getText() + &quot;','&quot; + colorField.getText() + &quot;','&quot;\n                            + ownerField.getText() + &quot;','&quot; + ownerPhoneField.getText() + &quot;','&quot; + notesField.getText()\n                            + &quot;')&quot;;\n\n                    PreparedStatement pst = connection.prepareStatement(query);\n                    pst.executeUpdate(query);\n                    MainProgram main = new MainProgram();\n                    main.refresh();\n                    JOptionPane.showMessageDialog(null, &quot;Data was saved&quot;, &quot;SUCCESS&quot;, JOptionPane.INFORMATION_MESSAGE);\n                    dispose();\n                    \n\n                } catch (Exception e1) {\n                    JOptionPane.showMessageDialog(null, &quot;SQLException: &quot; + e1.getMessage(), &quot;ERROR&quot;,\n                            JOptionPane.ERROR_MESSAGE);\n\n                }\n\n                /* } */\n\n            }\n        });\n        save_btn.setText(&quot;SAVE&quot;);\n        save_btn.setBorder(null);\n        save_btn.setContentAreaFilled(true);\n        save_btn.setToolTipText(&quot;SAVE&quot;);\n        bottomPanel.add(save_btn);\n\n        Component horizontalStrut = Box.createHorizontalStrut(25);\n        bottomPanel.add(horizontalStrut);\n\n        BufferedImage cancelButtonIcon = ImageIO\n                .read(new File(&quot;C:\\\\Users\\\\User\\\\eclipse-workspace\\\\SkladModule\\\\images\\\\remove.png&quot;));\n        JButton cancel_btn = new JButton(new ImageIcon(cancelButtonIcon));\n        cancel_btn.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                dispose();\n            }\n        });\n        cancel_btn.setText(&quot;CANCEL&quot;);\n        cancel_btn.setBorder(null);\n        cancel_btn.setContentAreaFilled(false);\n        cancel_btn.setToolTipText(&quot;CANCEL&quot;);\n        cancel_btn.setHorizontalAlignment(SwingConstants.RIGHT);\n        bottomPanel.add(cancel_btn);\n\n        Component horizontalStrut_1 = Box.createHorizontalStrut(20);\n        bottomPanel.add(horizontalStrut_1);\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","maven","jar","manifest","executable-jar"],"owner":{"account_id":28804495,"reputation":1,"user_id":22141691,"display_name":"John Smith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1687952251,"answer_count":0,"score":0,"last_activity_date":1687953791,"creation_date":1687949026,"question_id":76572405,"body_markdown":"I have created a JAR file using Maven plugins and it runs. I read and write data using a .JSON file during my program. It is specified in the source code like this:\r\n```java\r\nprivate static File getJsonFile() {\r\n        File file = new File(&quot;src/main/resources/database/database.json&quot;);\r\n        if (!file.exists()) {\r\n            try {\r\n                //noinspection ResultOfMethodCallIgnored\r\n                file.createNewFile();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        return file;\r\n    }\r\n```\r\n\r\nBut after running my program JAR file using `java -jar super-mario-bros-1.0-SNAPSHOT-jar-with-dependencies.jar` it gives me this  error:\r\n```\r\njava.io.IOException: The system cannot find the path specified\r\n        at java.base/java.io.WinNTFileSystem.createFileExclusively0(Native Method)\r\n        at java.base/java.io.WinNTFileSystem.createFileExclusively(WinNTFileSystem.java:645)\r\n        at java.base/java.io.File.createNewFile(File.java:1045)\r\n        at ir.sharif.math.ap2023.project.model.Database.getJsonFile(Database.java:54)\r\n        at ir.sharif.math.ap2023.project.model.Database.getInstance(Database.java:37)\r\n        at ir.sharif.math.ap2023.project.view.UIManager.&lt;init&gt;(UIManager.java:59)\r\n        at ir.sharif.math.ap2023.project.view.UIManager.getInstance(UIManager.java:143)\r\n        at ir.sharif.math.ap2023.project.controller.GameEngine.init(GameEngine.java:71)\r\n        at ir.sharif.math.ap2023.project.controller.GameEngine.&lt;init&gt;(GameEngine.java:54)\r\n        at ir.sharif.math.ap2023.project.controller.GameEngine.getInstance(GameEngine.java:60)\r\n        at ir.sharif.math.ap2023.project.Main.main(Main.java:7)\r\njava.io.FileNotFoundException: src\\main\\resources\\database\\database.json (The system cannot find the path specified)\r\n        at java.base/java.io.FileInputStream.open0(Native Method)\r\n        at java.base/java.io.FileInputStream.open(FileInputStream.java:219)\r\n        at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:158)\r\n        at com.fasterxml.jackson.core.TokenStreamFactory._fileInputStream(TokenStreamFactory.java:278)\r\n        at com.fasterxml.jackson.core.JsonFactory.createParser(JsonFactory.java:1089)\r\n        at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3637)\r\n        at ir.sharif.math.ap2023.project.model.Database.getInstance(Database.java:37)\r\n        at ir.sharif.math.ap2023.project.view.UIManager.&lt;init&gt;(UIManager.java:59)\r\n        at ir.sharif.math.ap2023.project.view.UIManager.getInstance(UIManager.java:143)\r\n        at ir.sharif.math.ap2023.project.controller.GameEngine.init(GameEngine.java:71)\r\n        at ir.sharif.math.ap2023.project.controller.GameEngine.&lt;init&gt;(GameEngine.java:54)\r\n        at ir.sharif.math.ap2023.project.controller.GameEngine.getInstance(GameEngine.java:60)\r\n        at ir.sharif.math.ap2023.project.Main.main(Main.java:7)\r\n```\r\n\r\nIt runs without any problem after building project, but when I run this JAR file it gives me errors. This is my `pom.xml` by the way:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;ir.sharif.math.ap2023.project&lt;/groupId&gt;\r\n    &lt;artifactId&gt;super-mario-bros&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;2.15.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;20&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;20&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;mainClass&gt;ir.sharif.math.ap2023.project.Main&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                    &lt;descriptorRefs&gt;\r\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                    &lt;/descriptorRefs&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;make-assembly&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nI created the JAR file using `mvn clean compile assembly:single`.","title":"Finding a file path after creating a JAR file using Maven","body":"<p>I have created a JAR file using Maven plugins and it runs. I read and write data using a .JSON file during my program. It is specified in the source code like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static File getJsonFile() {\n        File file = new File(&quot;src/main/resources/database/database.json&quot;);\n        if (!file.exists()) {\n            try {\n                //noinspection ResultOfMethodCallIgnored\n                file.createNewFile();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n        return file;\n    }\n</code></pre>\n<p>But after running my program JAR file using <code>java -jar super-mario-bros-1.0-SNAPSHOT-jar-with-dependencies.jar</code> it gives me this  error:</p>\n<pre><code>java.io.IOException: The system cannot find the path specified\n        at java.base/java.io.WinNTFileSystem.createFileExclusively0(Native Method)\n        at java.base/java.io.WinNTFileSystem.createFileExclusively(WinNTFileSystem.java:645)\n        at java.base/java.io.File.createNewFile(File.java:1045)\n        at ir.sharif.math.ap2023.project.model.Database.getJsonFile(Database.java:54)\n        at ir.sharif.math.ap2023.project.model.Database.getInstance(Database.java:37)\n        at ir.sharif.math.ap2023.project.view.UIManager.&lt;init&gt;(UIManager.java:59)\n        at ir.sharif.math.ap2023.project.view.UIManager.getInstance(UIManager.java:143)\n        at ir.sharif.math.ap2023.project.controller.GameEngine.init(GameEngine.java:71)\n        at ir.sharif.math.ap2023.project.controller.GameEngine.&lt;init&gt;(GameEngine.java:54)\n        at ir.sharif.math.ap2023.project.controller.GameEngine.getInstance(GameEngine.java:60)\n        at ir.sharif.math.ap2023.project.Main.main(Main.java:7)\njava.io.FileNotFoundException: src\\main\\resources\\database\\database.json (The system cannot find the path specified)\n        at java.base/java.io.FileInputStream.open0(Native Method)\n        at java.base/java.io.FileInputStream.open(FileInputStream.java:219)\n        at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:158)\n        at com.fasterxml.jackson.core.TokenStreamFactory._fileInputStream(TokenStreamFactory.java:278)\n        at com.fasterxml.jackson.core.JsonFactory.createParser(JsonFactory.java:1089)\n        at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3637)\n        at ir.sharif.math.ap2023.project.model.Database.getInstance(Database.java:37)\n        at ir.sharif.math.ap2023.project.view.UIManager.&lt;init&gt;(UIManager.java:59)\n        at ir.sharif.math.ap2023.project.view.UIManager.getInstance(UIManager.java:143)\n        at ir.sharif.math.ap2023.project.controller.GameEngine.init(GameEngine.java:71)\n        at ir.sharif.math.ap2023.project.controller.GameEngine.&lt;init&gt;(GameEngine.java:54)\n        at ir.sharif.math.ap2023.project.controller.GameEngine.getInstance(GameEngine.java:60)\n        at ir.sharif.math.ap2023.project.Main.main(Main.java:7)\n</code></pre>\n<p>It runs without any problem after building project, but when I run this JAR file it gives me errors. This is my <code>pom.xml</code> by the way:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;ir.sharif.math.ap2023.project&lt;/groupId&gt;\n    &lt;artifactId&gt;super-mario-bros&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.15.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;20&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;20&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;mainClass&gt;ir.sharif.math.ap2023.project.Main&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;make-assembly&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I created the JAR file using <code>mvn clean compile assembly:single</code>.</p>\n"},{"tags":["java","security","cryptography","bouncycastle","public-key"],"comments":[{"owner":{"account_id":3315185,"reputation":774,"user_id":3076107,"display_name":"Egl"},"score":0,"creation_date":1488983866,"post_id":42639620,"comment_id":72472923,"body_markdown":"Why do you think you can get a public key from a private key ?","body":"Why do you think you can get a public key from a private key ?"},{"owner":{"account_id":2359148,"reputation":321,"user_id":2066281,"accept_rate":55,"display_name":"markw"},"score":0,"creation_date":1488996830,"post_id":42639620,"comment_id":72481999,"body_markdown":"Using ECC it&#39;s just point multiplication if you know the curve (secp256r1)","body":"Using ECC it&#39;s just point multiplication if you know the curve (secp256r1)"},{"owner":{"account_id":3315185,"reputation":774,"user_id":3076107,"display_name":"Egl"},"score":0,"creation_date":1489066723,"post_id":42639620,"comment_id":72515507,"body_markdown":"I hope it is not true in the reverse way. I mean, I hope an ECC private key cannot be obtained just knowing the public key and the curve. Is it?","body":"I hope it is not true in the reverse way. I mean, I hope an ECC private key cannot be obtained just knowing the public key and the curve. Is it?"},{"owner":{"account_id":2359148,"reputation":321,"user_id":2066281,"accept_rate":55,"display_name":"markw"},"score":0,"creation_date":1489074117,"post_id":42639620,"comment_id":72520927,"body_markdown":"No. https://en.wikipedia.org/wiki/Public-key_cryptography","body":"No. <a href=\"https://en.wikipedia.org/wiki/Public-key_cryptography\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Public-key_cryptography</a>"}],"answers":[{"tags":[],"owner":{"account_id":2359148,"reputation":321,"user_id":2066281,"accept_rate":55,"display_name":"markw"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1687953757,"creation_date":1489164783,"answer_id":42723681,"question_id":42639620,"body_markdown":"In case my future self needs the solution:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n\t// Generate Keys\r\n\tECGenParameterSpec ecGenSpec = new ECGenParameterSpec(&quot;secp256r1&quot;);\r\n\tKeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(&quot;ECDSA&quot;, &quot;BC&quot;);\r\n\tkeyPairGenerator.initialize(ecGenSpec, new SecureRandom());\r\n\tjava.security.KeyPair pair = keyPairGenerator.generateKeyPair();\r\n\tECPrivateKey privateKey = (ECPrivateKey) pair.getPrivate();\r\n\tECPublicKey publicKeyExpected = (ECPublicKey) pair.getPublic();\r\n\r\n\t// Expected public key\r\n\tSystem.out.print(&quot;Expected Public Key: &quot; +\r\n\t        BaseEncoding.base64Url().encode(publicKeyExpected.getEncoded()));\r\n\r\n\t// Generate public key from private key\r\n\tKeyFactory keyFactory = KeyFactory.getInstance(&quot;ECDSA&quot;, &quot;BC&quot;);\r\n\tECParameterSpec ecSpec = ECNamedCurveTable.getParameterSpec(&quot;secp256r1&quot;);\r\n\r\n\tECPoint Q = ecSpec.getG().multiply(privateKey.getD());\r\n\tECPublicKeySpec pubSpec = new ECPublicKeySpec(Q, ecSpec);\r\n\tECPublicKey publicKeyGenerated = (ECPublicKey) keyFactory.generatePublic(pubSpec);\r\n\r\n\t// Generated public key from private key\r\n\tSystem.out.print(&quot;Generated Public Key: &quot; +\r\n\t        BaseEncoding.base64Url().encode(publicKeyGenerated.getEncoded()));","title":"Generate ECPublicKey from ECPrivateKey","body":"<p>In case my future self needs the solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Generate Keys\nECGenParameterSpec ecGenSpec = new ECGenParameterSpec(&quot;secp256r1&quot;);\nKeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(&quot;ECDSA&quot;, &quot;BC&quot;);\nkeyPairGenerator.initialize(ecGenSpec, new SecureRandom());\njava.security.KeyPair pair = keyPairGenerator.generateKeyPair();\nECPrivateKey privateKey = (ECPrivateKey) pair.getPrivate();\nECPublicKey publicKeyExpected = (ECPublicKey) pair.getPublic();\n\n// Expected public key\nSystem.out.print(&quot;Expected Public Key: &quot; +\n        BaseEncoding.base64Url().encode(publicKeyExpected.getEncoded()));\n\n// Generate public key from private key\nKeyFactory keyFactory = KeyFactory.getInstance(&quot;ECDSA&quot;, &quot;BC&quot;);\nECParameterSpec ecSpec = ECNamedCurveTable.getParameterSpec(&quot;secp256r1&quot;);\n\nECPoint Q = ecSpec.getG().multiply(privateKey.getD());\nECPublicKeySpec pubSpec = new ECPublicKeySpec(Q, ecSpec);\nECPublicKey publicKeyGenerated = (ECPublicKey) keyFactory.generatePublic(pubSpec);\n\n// Generated public key from private key\nSystem.out.print(&quot;Generated Public Key: &quot; +\n        BaseEncoding.base64Url().encode(publicKeyGenerated.getEncoded()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1556882,"reputation":390,"user_id":1447710,"display_name":"plajko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1535311214,"creation_date":1535311214,"answer_id":52029550,"question_id":42639620,"body_markdown":"Some more improvement to the answer of [@markw](https://stackoverflow.com/users/2066281/markw), extended with curve name detection by [@bas-goossen](https://stackoverflow.com/users/739986/bas-goossen) from here: https://stackoverflow.com/questions/49895713/how-to-find-the-matching-curve-name-from-an-ecpublickey\r\n\r\n\r\n    public static ECPublicKey publicFromPrivate(final ECPrivateKey privateKey) throws Exception {\r\n        ECParameterSpec params = privateKey.getParams();\r\n        org.bouncycastle.jce.spec.ECParameterSpec bcSpec = org.bouncycastle.jcajce.provider.asymmetric.util.EC5Util\r\n            .convertSpec(params, false);\r\n        org.bouncycastle.math.ec.ECPoint q = bcSpec.getG().multiply(privateKey.getS());\r\n        org.bouncycastle.math.ec.ECPoint bcW = bcSpec.getCurve().decodePoint(q.getEncoded(false));\r\n        ECPoint w = new ECPoint(\r\n            bcW.getAffineXCoord().toBigInteger(),\r\n            bcW.getAffineYCoord().toBigInteger());\r\n        ECPublicKeySpec keySpec = new ECPublicKeySpec(w, tryFindNamedCurveSpec(params));\r\n        return (ECPublicKey) KeyFactory\r\n            .getInstance(&quot;EC&quot;, org.bouncycastle.jce.provider.BouncyCastleProvider.PROVIDER_NAME)\r\n            .generatePublic(keySpec);\r\n    }\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public static ECParameterSpec tryFindNamedCurveSpec(ECParameterSpec params) {\r\n        org.bouncycastle.jce.spec.ECParameterSpec bcSpec\r\n            = org.bouncycastle.jcajce.provider.asymmetric.util.EC5Util.convertSpec(params, false);\r\n        for (Object name : Collections.list(org.bouncycastle.jce.ECNamedCurveTable.getNames())) {\r\n            org.bouncycastle.jce.spec.ECNamedCurveParameterSpec bcNamedSpec\r\n                = org.bouncycastle.jce.ECNamedCurveTable.getParameterSpec((String) name);\r\n            if (bcNamedSpec.getN().equals(bcSpec.getN())\r\n                &amp;&amp; bcNamedSpec.getH().equals(bcSpec.getH())\r\n                &amp;&amp; bcNamedSpec.getCurve().equals(bcSpec.getCurve())\r\n                &amp;&amp; bcNamedSpec.getG().equals(bcSpec.getG())) {\r\n                return new org.bouncycastle.jce.spec.ECNamedCurveSpec(\r\n                    bcNamedSpec.getName(),\r\n                    bcNamedSpec.getCurve(),\r\n                    bcNamedSpec.getG(),\r\n                    bcNamedSpec.getN(),\r\n                    bcNamedSpec.getH(),\r\n                    bcNamedSpec.getSeed());\r\n            }\r\n        }\r\n        return params;\r\n    }","title":"Generate ECPublicKey from ECPrivateKey","body":"<p>Some more improvement to the answer of <a href=\"https://stackoverflow.com/users/2066281/markw\">@markw</a>, extended with curve name detection by <a href=\"https://stackoverflow.com/users/739986/bas-goossen\">@bas-goossen</a> from here: <a href=\"https://stackoverflow.com/questions/49895713/how-to-find-the-matching-curve-name-from-an-ecpublickey\">How to find the matching curve name from an ECPublicKey</a></p>\n\n<pre><code>public static ECPublicKey publicFromPrivate(final ECPrivateKey privateKey) throws Exception {\n    ECParameterSpec params = privateKey.getParams();\n    org.bouncycastle.jce.spec.ECParameterSpec bcSpec = org.bouncycastle.jcajce.provider.asymmetric.util.EC5Util\n        .convertSpec(params, false);\n    org.bouncycastle.math.ec.ECPoint q = bcSpec.getG().multiply(privateKey.getS());\n    org.bouncycastle.math.ec.ECPoint bcW = bcSpec.getCurve().decodePoint(q.getEncoded(false));\n    ECPoint w = new ECPoint(\n        bcW.getAffineXCoord().toBigInteger(),\n        bcW.getAffineYCoord().toBigInteger());\n    ECPublicKeySpec keySpec = new ECPublicKeySpec(w, tryFindNamedCurveSpec(params));\n    return (ECPublicKey) KeyFactory\n        .getInstance(\"EC\", org.bouncycastle.jce.provider.BouncyCastleProvider.PROVIDER_NAME)\n        .generatePublic(keySpec);\n}\n\n@SuppressWarnings(\"unchecked\")\npublic static ECParameterSpec tryFindNamedCurveSpec(ECParameterSpec params) {\n    org.bouncycastle.jce.spec.ECParameterSpec bcSpec\n        = org.bouncycastle.jcajce.provider.asymmetric.util.EC5Util.convertSpec(params, false);\n    for (Object name : Collections.list(org.bouncycastle.jce.ECNamedCurveTable.getNames())) {\n        org.bouncycastle.jce.spec.ECNamedCurveParameterSpec bcNamedSpec\n            = org.bouncycastle.jce.ECNamedCurveTable.getParameterSpec((String) name);\n        if (bcNamedSpec.getN().equals(bcSpec.getN())\n            &amp;&amp; bcNamedSpec.getH().equals(bcSpec.getH())\n            &amp;&amp; bcNamedSpec.getCurve().equals(bcSpec.getCurve())\n            &amp;&amp; bcNamedSpec.getG().equals(bcSpec.getG())) {\n            return new org.bouncycastle.jce.spec.ECNamedCurveSpec(\n                bcNamedSpec.getName(),\n                bcNamedSpec.getCurve(),\n                bcNamedSpec.getG(),\n                bcNamedSpec.getN(),\n                bcNamedSpec.getH(),\n                bcNamedSpec.getSeed());\n        }\n    }\n    return params;\n}\n</code></pre>\n"}],"owner":{"account_id":2359148,"reputation":321,"user_id":2066281,"accept_rate":55,"display_name":"markw"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7124,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":42723681,"answer_count":2,"score":5,"last_activity_date":1687953757,"creation_date":1488857112,"question_id":42639620,"body_markdown":"I&#39;m trying to generate a public key given a private key and known curve. Below is my code:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    // Generate Keys\r\n    ECGenParameterSpec ecGenSpec = new ECGenParameterSpec(&quot;secp256r1&quot;);\r\n    KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(&quot;ECDSA&quot;, &quot;BC&quot;);\r\n    keyPairGenerator.initialize(ecGenSpec, new SecureRandom());\r\n    java.security.KeyPair pair = keyPairGenerator.generateKeyPair();\r\n    ECPrivateKey privateKey = (ECPrivateKey) pair.getPrivate();\r\n    ECPublicKey publicKeyExpected = (ECPublicKey) pair.getPublic();\r\n\r\n    // Expected public key\r\n    System.out.print(&quot;Expected Public Key: &quot; +\r\n            BaseEncoding.base64Url().encode(publicKeyExpected.getEncoded()));\r\n\r\n    // Generate public key from private key\r\n    X9ECParameters ecp = SECNamedCurves.getByName(&quot;secp256r1&quot;);\r\n    ECDomainParameters domainParams = new ECDomainParameters(ecp.getCurve(),\r\n            ecp.getG(), ecp.getN(), ecp.getH(),\r\n            ecp.getSeed());\r\n    ECPoint Q = domainParams.getG().multiply(privateKey.getS()); // is this correct?\r\n    KeyFactory kf = KeyFactory.getInstance(&quot;ECDSA&quot;, &quot;BC&quot;);\r\n    ECPublicKey publicKeyGenerated =\r\n            (ECPublicKey) kf.generatePublic(new X509EncodedKeySpec(Q.getEncoded(false)));  // exception here\r\n\r\n    // Generated public key from private key\r\n    System.out.print(&quot;Generated Public Key: &quot; +\r\n            BaseEncoding.base64Url().encode(publicKeyGenerated.getEncoded()));\r\n\r\nHowever, when I call: `kf.generatePublic(new X509EncodedKeySpec(Q.getEncoded(false)))`\r\nI get the exception: `java.security.spec.InvalidKeySpecException: encoded key spec not recognised` (not my misspelling)\r\n\r\nI appears I&#39;m incorrectly calculating `Q`, but I&#39;m not sure where my error is.\r\n\r\nThanks for the help!","title":"Generate ECPublicKey from ECPrivateKey","body":"<p>I'm trying to generate a public key given a private key and known curve. Below is my code:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// Generate Keys\nECGenParameterSpec ecGenSpec = new ECGenParameterSpec(\"secp256r1\");\nKeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(\"ECDSA\", \"BC\");\nkeyPairGenerator.initialize(ecGenSpec, new SecureRandom());\njava.security.KeyPair pair = keyPairGenerator.generateKeyPair();\nECPrivateKey privateKey = (ECPrivateKey) pair.getPrivate();\nECPublicKey publicKeyExpected = (ECPublicKey) pair.getPublic();\n\n// Expected public key\nSystem.out.print(\"Expected Public Key: \" +\n        BaseEncoding.base64Url().encode(publicKeyExpected.getEncoded()));\n\n// Generate public key from private key\nX9ECParameters ecp = SECNamedCurves.getByName(\"secp256r1\");\nECDomainParameters domainParams = new ECDomainParameters(ecp.getCurve(),\n        ecp.getG(), ecp.getN(), ecp.getH(),\n        ecp.getSeed());\nECPoint Q = domainParams.getG().multiply(privateKey.getS()); // is this correct?\nKeyFactory kf = KeyFactory.getInstance(\"ECDSA\", \"BC\");\nECPublicKey publicKeyGenerated =\n        (ECPublicKey) kf.generatePublic(new X509EncodedKeySpec(Q.getEncoded(false)));  // exception here\n\n// Generated public key from private key\nSystem.out.print(\"Generated Public Key: \" +\n        BaseEncoding.base64Url().encode(publicKeyGenerated.getEncoded()));\n</code></pre>\n\n<p>However, when I call: <code>kf.generatePublic(new X509EncodedKeySpec(Q.getEncoded(false)))</code>\nI get the exception: <code>java.security.spec.InvalidKeySpecException: encoded key spec not recognised</code> (not my misspelling)</p>\n\n<p>I appears I'm incorrectly calculating <code>Q</code>, but I'm not sure where my error is.</p>\n\n<p>Thanks for the help!</p>\n"},{"tags":["java","groovy","lambda","java-8"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1409305150,"post_id":25565020,"comment_id":39924686,"body_markdown":"Instead of `(String name) -&gt; { return &quot;Hello &quot; + name; }` you can simply write `name -&gt; &quot;Hello&#160;&quot;+name` which is much shorter. By the way, without knowing much about Groovy, the examples do not look equivalent to me. The Java example is a function mapping a `String` value to a `String` value while your Groovy example looks like an action consuming a `String`.","body":"Instead of <code>(String name) -&gt; { return &quot;Hello &quot; + name; }</code> you can simply write <code>name -&gt; &quot;Hello &quot;+name</code> which is much shorter. By the way, without knowing much about Groovy, the examples do not look equivalent to me. The Java example is a function mapping a <code>String</code> value to a <code>String</code> value while your Groovy example looks like an action consuming a <code>String</code>."},{"owner":{"account_id":4860165,"reputation":27613,"user_id":3920048,"display_name":"Misha"},"score":1,"creation_date":1409312654,"post_id":25565020,"comment_id":39928343,"body_markdown":"@Holger or, even shorter, `&quot;Hello &quot;::concat`","body":"@Holger or, even shorter, <code>&quot;Hello &quot;::concat</code>"}],"answers":[{"tags":[],"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1409305224,"creation_date":1409303509,"answer_id":25565185,"question_id":25565020,"body_markdown":"Java&#39;s lambdas are closures as well. These are the same feature on an abstract level, but in detail and depending on exact version, Groovy may just be creating ad-hoc implementing classes, whereas Java 8 specifies a complete mechanism, consisting of lambda Metafactory, lambda factory, and a mechanism involving `invokedynamic` to acquire the lambda Metafactory.\r\n\r\n","title":"Is Java Lambda expression is similar logic of Groovy closure?","body":"<p>Java's lambdas are closures as well. These are the same feature on an abstract level, but in detail and depending on exact version, Groovy may just be creating ad-hoc implementing classes, whereas Java 8 specifies a complete mechanism, consisting of lambda Metafactory, lambda factory, and a mechanism involving <code>invokedynamic</code> to acquire the lambda Metafactory.</p>\n"},{"tags":[],"owner":{"account_id":4429795,"reputation":366,"user_id":3607194,"display_name":"jst"},"down_vote_count":0,"up_vote_count":33,"is_accepted":true,"score":33,"last_activity_date":1687953738,"creation_date":1409310327,"answer_id":25567047,"question_id":25565020,"body_markdown":"Implementing a so-called functional interface in Java 8 (with lambdas) or in Groovy (with closures) looks quite the same, but underlying mechanisms are pretty different. Let&#39;s take the `java.util.function.Consumer` functional interface as an example. We use it to call the new Java 8 `forEach()` method on a hypothetic `java.util.List` instance called `myList`.\r\n\r\nIn Java it looks like this:\r\n\r\n    myList.forEach ((s) -&gt; System.out.println(s));\r\n\r\nThe same in Groovy:\r\n\r\n    myList.forEach { s -&gt; println s }\r\n\r\nBoth compilers generate new Classes from the lambda / closure code. The class generated by Java 8 implements the target interface (`Consumer` in this case), not derived from anything, similar to an embedded anonymous class like this:\r\n\r\n    myList.forEach(new Consumer&lt;Object&gt;() {\r\n        @Override\r\n        public void accept (Object s) {\r\n            System.out.println(s);\r\n        }\r\n    });\r\n\r\nIn contrast, what Groovy generates looks a little bit like the following:\r\n\r\n    myList.forEach (new Closure(this) {\r\n        void doCall(Object s) {\r\n            println s\r\n        }\r\n    }\r\n\r\nThis creates an anonymous class derived from `groovy.lang.Closure` that does *not* implement any specific interface. Nevertheless, it can be used as parameter here. This is possible because Groovy generates a dynamic proxy object at runtime, implementing the &#180;Consumer&#180; interface and forwarding any calls to the generated Closure instance.\r\n\r\nAs a consequence, in Groovy, you can replace Java 8 lambdas by Groovy closures, but not the other way round. When you want to use a Groovy API in Java 8 code, you cannot call a method expecting a Closure with a lambda expression. `Closure` isn&#39;t a functional interface but an abstract class, and that can simply not be implemented by a lambda expression. \r\n","title":"Is Java Lambda expression is similar logic of Groovy closure?","body":"<p>Implementing a so-called functional interface in Java 8 (with lambdas) or in Groovy (with closures) looks quite the same, but underlying mechanisms are pretty different. Let's take the <code>java.util.function.Consumer</code> functional interface as an example. We use it to call the new Java 8 <code>forEach()</code> method on a hypothetic <code>java.util.List</code> instance called <code>myList</code>.</p>\n<p>In Java it looks like this:</p>\n<pre><code>myList.forEach ((s) -&gt; System.out.println(s));\n</code></pre>\n<p>The same in Groovy:</p>\n<pre><code>myList.forEach { s -&gt; println s }\n</code></pre>\n<p>Both compilers generate new Classes from the lambda / closure code. The class generated by Java 8 implements the target interface (<code>Consumer</code> in this case), not derived from anything, similar to an embedded anonymous class like this:</p>\n<pre><code>myList.forEach(new Consumer&lt;Object&gt;() {\n    @Override\n    public void accept (Object s) {\n        System.out.println(s);\n    }\n});\n</code></pre>\n<p>In contrast, what Groovy generates looks a little bit like the following:</p>\n<pre><code>myList.forEach (new Closure(this) {\n    void doCall(Object s) {\n        println s\n    }\n}\n</code></pre>\n<p>This creates an anonymous class derived from <code>groovy.lang.Closure</code> that does <em>not</em> implement any specific interface. Nevertheless, it can be used as parameter here. This is possible because Groovy generates a dynamic proxy object at runtime, implementing the ´Consumer´ interface and forwarding any calls to the generated Closure instance.</p>\n<p>As a consequence, in Groovy, you can replace Java 8 lambdas by Groovy closures, but not the other way round. When you want to use a Groovy API in Java 8 code, you cannot call a method expecting a Closure with a lambda expression. <code>Closure</code> isn't a functional interface but an abstract class, and that can simply not be implemented by a lambda expression.</p>\n"},{"tags":[],"owner":{"account_id":1750411,"reputation":189,"user_id":1599616,"display_name":"Scott Langeberg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1589210629,"creation_date":1589210629,"answer_id":61733272,"question_id":25565020,"body_markdown":"I wanted a simple local closure to pass / execute. I never found this answer anywhere, so adding my spin, so you can see actual mapping from local groovy closure to local java lambda.\r\n\r\nGroovy:\r\n    \r\n    def clos = {name -&gt; sayHello(name)} \r\n    clos(&#39;John Doe&#39;)\r\n\r\nJava:\r\n\r\n    Consumer&lt;String&gt; clos = name -&gt; sayHello(name);\r\n    clos.accept(&quot;John Doe&quot;);\r\n\r\nThe key being that bloody Consumer interface with accept() method to invoke - you must match the params and return type of your Java lambda based on their pre-canned Function interfaces (java.util.function.*). That bit is a drag, compared to untyped Groovy version.","title":"Is Java Lambda expression is similar logic of Groovy closure?","body":"<p>I wanted a simple local closure to pass / execute. I never found this answer anywhere, so adding my spin, so you can see actual mapping from local groovy closure to local java lambda.</p>\n\n<p>Groovy:</p>\n\n<pre><code>def clos = {name -&gt; sayHello(name)} \nclos('John Doe')\n</code></pre>\n\n<p>Java:</p>\n\n<pre><code>Consumer&lt;String&gt; clos = name -&gt; sayHello(name);\nclos.accept(\"John Doe\");\n</code></pre>\n\n<p>The key being that bloody Consumer interface with accept() method to invoke - you must match the params and return type of your Java lambda based on their pre-canned Function interfaces (java.util.function.*). That bit is a drag, compared to untyped Groovy version.</p>\n"}],"owner":{"account_id":1250235,"reputation":6632,"user_id":1210779,"accept_rate":65,"display_name":"Sai Ye Yan Naing Aye"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29655,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":25567047,"answer_count":3,"score":17,"last_activity_date":1687953738,"creation_date":1409302965,"question_id":25565020,"body_markdown":"I&#39;m learning about Java 8 new feature **Lambda expressions**. This is my &quot;HelloWorld&quot; class using Lambda expression\r\n\r\n    public class LambdaHelloWorld {\r\n    \tinterface HelloWorld {\r\n    \t\tString sayHello(String name);\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\t      \r\n    \t\t HelloWorld helloWorld = (String name) -&gt; { return &quot;Hello &quot; + name; };\r\n    \t\t System.out.println(helloWorld.sayHello(&quot;John Doe&quot;));\r\n    \t}\r\n    }\r\n\r\nThis style is so similar to Groovy closure. This is groovy &quot;HelloWorld&quot;\r\n\r\n    def sayHello(name) {\r\n            println(&quot;Hello $name!&quot;)\r\n    }\r\n    \r\n    def clos = {name -&gt; sayHello(name)} \r\n    clos.call(&#39;John Doe&#39;)\r\n\r\nI think these two codes are less difference between each others.Is Java Lambda expression is similar logic or style of Groovy closure?","title":"Is Java Lambda expression is similar logic of Groovy closure?","body":"<p>I'm learning about Java 8 new feature <strong>Lambda expressions</strong>. This is my &quot;HelloWorld&quot; class using Lambda expression</p>\n<pre><code>public class LambdaHelloWorld {\n    interface HelloWorld {\n        String sayHello(String name);\n    }\n\n    public static void main(String[] args) {          \n         HelloWorld helloWorld = (String name) -&gt; { return &quot;Hello &quot; + name; };\n         System.out.println(helloWorld.sayHello(&quot;John Doe&quot;));\n    }\n}\n</code></pre>\n<p>This style is so similar to Groovy closure. This is groovy &quot;HelloWorld&quot;</p>\n<pre><code>def sayHello(name) {\n        println(&quot;Hello $name!&quot;)\n}\n\ndef clos = {name -&gt; sayHello(name)} \nclos.call('John Doe')\n</code></pre>\n<p>I think these two codes are less difference between each others.Is Java Lambda expression is similar logic or style of Groovy closure?</p>\n"},{"tags":["java","regex","spring","payment-gateway"],"comments":[{"owner":{"account_id":1387645,"reputation":7926,"user_id":1319284,"accept_rate":69,"display_name":"kutschkem"},"score":0,"creation_date":1675931056,"post_id":75395886,"comment_id":133034661,"body_markdown":"Have you tried reading the documentation ;-)  https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html  Also, it would help here to have an example input that should match, but isn&#39;t matching.","body":"Have you tried reading the documentation ;-)  <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.ht&zwnj;&#8203;ml</a>  Also, it would help here to have an example input that should match, but isn&#39;t matching."},{"owner":{"account_id":128739,"reputation":3915,"user_id":326807,"accept_rate":100,"display_name":"Reporter"},"score":0,"creation_date":1675931093,"post_id":75395886,"comment_id":133034670,"body_markdown":"Please review your question. It seems you have dublicated your text. Also add example data wich you used to apply the mentioned regex pattern.","body":"Please review your question. It seems you have dublicated your text. Also add example data wich you used to apply the mentioned regex pattern."},{"owner":{"account_id":374094,"reputation":6654,"user_id":724109,"accept_rate":100,"display_name":"Avishek Bhattacharya"},"score":0,"creation_date":1675932045,"post_id":75395886,"comment_id":133034942,"body_markdown":"My suggestion would be to validate the regex with the test cases in https://regex101.com/","body":"My suggestion would be to validate the regex with the test cases in <a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">regex101.com</a>"}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675938165,"creation_date":1675931105,"answer_id":75395938,"question_id":75395886,"body_markdown":"Appreciate that the [`String#matches()`][1] method applies the regex to the entire string input by default.  So you may think of the `^` and `$` operators as being implicitly added around your regex pattern.  Here is a correct usage of your pattern:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String input = &quot;000.100.1&quot;;\r\n    String pattern = &quot;(?:000.000.|000.100.1|000.[36]|000.400.[1][12]0).*&quot;;\r\n    if (input.matches(pattern)) {\r\n        System.out.println(&quot;MATCH&quot;);\r\n    }\r\n\r\nNote that the pattern I used above in the Java code is really equivalent to this:\r\n\r\n    ^(?:000.000.|000.100.1|000.[36]|000.400.[1][12]0).*$\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#matches(java.lang.String)","title":"How to use regex in java","body":"<p>Appreciate that the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#matches(java.lang.String)\" rel=\"nofollow noreferrer\"><code>String#matches()</code></a> method applies the regex to the entire string input by default.  So you may think of the <code>^</code> and <code>$</code> operators as being implicitly added around your regex pattern.  Here is a correct usage of your pattern:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;000.100.1&quot;;\nString pattern = &quot;(?:000.000.|000.100.1|000.[36]|000.400.[1][12]0).*&quot;;\nif (input.matches(pattern)) {\n    System.out.println(&quot;MATCH&quot;);\n}\n</code></pre>\n<p>Note that the pattern I used above in the Java code is really equivalent to this:</p>\n<pre><code>^(?:000.000.|000.100.1|000.[36]|000.400.[1][12]0).*$\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27742192,"reputation":1,"user_id":21178441,"display_name":"Ravi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676195421,"creation_date":1675932837,"answer_id":75396215,"question_id":75395886,"body_markdown":"The regular expression \r\n```\r\n/^(000.000.|000.100.1|000.[36]|000.400.[1][12]0)/\r\n```\r\nwill never match with `000.100.110`\r\n\r\nTo match `000.100.110` the below changes can be done \r\n\r\n```\r\n/^(000.000.|000.100.1[0-9][0-9]|000.[36]|000.400.[1][12]0)/\r\n```\r\n\r\n```\r\n// create a REGEX String\r\nString REGEX = &quot;^(000.000.|000.100.1[0-9][0-9]|000.[36]|000.400.[1][12]0)&quot;;\r\n\r\n// creare the string\r\n// in which you want to search\r\nString actualString\r\n    = &quot;000.100.110&quot;;\r\n\r\n// compile the regex to create pattern\r\n// using compile() method\r\nPattern pattern = Pattern.compile(REGEX);\r\n\r\n// get a matcher object from pattern\r\nMatcher matcher = pattern.matcher(actualString);\r\n\r\n// check whether Regex string is\r\n// found in actualString or not\r\nboolean matches = matcher.matches();\r\n```   ","title":"How to use regex in java","body":"<p>The regular expression</p>\n<pre><code>/^(000.000.|000.100.1|000.[36]|000.400.[1][12]0)/\n</code></pre>\n<p>will never match with <code>000.100.110</code></p>\n<p>To match <code>000.100.110</code> the below changes can be done</p>\n<pre><code>/^(000.000.|000.100.1[0-9][0-9]|000.[36]|000.400.[1][12]0)/\n</code></pre>\n<pre><code>// create a REGEX String\nString REGEX = &quot;^(000.000.|000.100.1[0-9][0-9]|000.[36]|000.400.[1][12]0)&quot;;\n\n// creare the string\n// in which you want to search\nString actualString\n    = &quot;000.100.110&quot;;\n\n// compile the regex to create pattern\n// using compile() method\nPattern pattern = Pattern.compile(REGEX);\n\n// get a matcher object from pattern\nMatcher matcher = pattern.matcher(actualString);\n\n// check whether Regex string is\n// found in actualString or not\nboolean matches = matcher.matches();\n</code></pre>\n"}],"owner":{"account_id":27742169,"reputation":1,"user_id":21178421,"display_name":"Anas Hammoudeh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687953715,"creation_date":1675930791,"question_id":75395886,"body_markdown":"I am integrating with hyperpay payment gateway,\r\n\r\nthey have this regex to check payment status\r\n\r\nThe regular expression pattern for filtering out this group is:\r\n\r\n `/^(000.000.|000.100.1|000.[36]|000.400.[1][12]0)/`\r\n\r\nI have tried to consume it as follow:\r\n\r\n1- `Pattern.matches(&quot;/^(000.000.|000.100.1|000.[36]|000.400.[1][12]0)/&quot;,responseCode);`\r\ndid not work as I have received 000.100.110 but the value was false.\r\n\r\n2- `Pattern.matches(&quot;000.000.|000.100.1|000.[36]|000.400.[1][12]0&quot;,responseCode);`\r\n\r\ndid not work as well the result was false.\r\n\r\nplease what is the correct way to use the regex.\r\nThanks in advance","title":"How to use regex in java","body":"<p>I am integrating with hyperpay payment gateway,</p>\n<p>they have this regex to check payment status</p>\n<p>The regular expression pattern for filtering out this group is:</p>\n<p><code>/^(000.000.|000.100.1|000.[36]|000.400.[1][12]0)/</code></p>\n<p>I have tried to consume it as follow:</p>\n<p>1- <code>Pattern.matches(&quot;/^(000.000.|000.100.1|000.[36]|000.400.[1][12]0)/&quot;,responseCode);</code>\ndid not work as I have received 000.100.110 but the value was false.</p>\n<p>2- <code>Pattern.matches(&quot;000.000.|000.100.1|000.[36]|000.400.[1][12]0&quot;,responseCode);</code></p>\n<p>did not work as well the result was false.</p>\n<p>please what is the correct way to use the regex.\nThanks in advance</p>\n"},{"tags":["java","hbase"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1687952463,"post_id":76572761,"comment_id":135008117,"body_markdown":"PLease share the last `caused by` of the stacktrace","body":"PLease share the last <code>caused by</code> of the stacktrace"},{"owner":{"account_id":7366296,"reputation":739,"user_id":5607943,"display_name":"Nuwan Sameera"},"score":0,"creation_date":1687953155,"post_id":76572761,"comment_id":135008272,"body_markdown":"@Jens question updated","body":"@Jens question updated"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1687953348,"post_id":76572761,"comment_id":135008308,"body_markdown":"Maybe [this](https://issues.apache.org/jira/browse/HBASE-25338) helps?","body":"Maybe <a href=\"https://issues.apache.org/jira/browse/HBASE-25338\" rel=\"nofollow noreferrer\">this</a> helps?"},{"owner":{"account_id":7366296,"reputation":739,"user_id":5607943,"display_name":"Nuwan Sameera"},"score":0,"creation_date":1687953422,"post_id":76572761,"comment_id":135008324,"body_markdown":"@Jens that is same issue. But no clear answer in that question","body":"@Jens that is same issue. But no clear answer in that question"}],"owner":{"account_id":7366296,"reputation":739,"user_id":5607943,"display_name":"Nuwan Sameera"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687953647,"creation_date":1687951887,"question_id":76572761,"body_markdown":"We use HBase Java client to read and write data to HBase service running in GCP Dataproc cluster. Recently we update Java version, HBase client version and Spring boot version.\r\n\r\n    Java runtime version from 8 to 17\r\n    \r\n    HBase shaded client version from 2.2.4 to 2.5.4\r\n    \r\n    Spring boot version from 2.13 to 3.1.0\r\n\r\n    Environment : Docker image in Kubernetes. Runtime docker image openjdk:17.0.2-jdk-slim\r\n\r\n\r\nClient connect to server sometimes but it getting failed mostly. \r\n\r\nError message\r\n\r\n   \r\n\r\n    java.io.IOException: Call to address=150.1.3.7:16020 failed on local exception: java.io.IOException: java.lang.IllegalStateException: Failed to load SIMPLE, KERBEROS, and DIGEST authentication providers. Classpath is not sane.\r\n    \tat java.base/jdk.internal.reflect.GeneratedConstructorAccessor41.newInstance(Unknown Source)\r\n    \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n    \tat org.apache.hadoop.hbase.ipc.IPCUtil.wrapException(IPCUtil.java:239)\r\n    \tat org.apache.hadoop.hbase.ipc.AbstractRpcClient.onCallFinished(AbstractRpcClient.java:391)\r\n    \tat org.apache.hadoop.hbase.ipc.AbstractRpcClient.access$100(AbstractRpcClient.java:92)\r\n    \tat org.apache.hadoop.hbase.ipc.AbstractRpcClient$3.run(AbstractRpcClient.java:425)\r\n    \tat org.apache.hadoop.hbase.ipc.AbstractRpcClient$3.run(AbstractRpcClient.java:420)\r\n    \tat org.apache.hadoop.hbase.ipc.Call.callComplete(Call.java:114)\r\n    \tat org.apache.hadoop.hbase.ipc.Call.setException(Call.java:129)\r\n    \tat org.apache.hadoop.hbase.ipc.AbstractRpcClient.callMethod(AbstractRpcClient.java:446)\r\n    \tat org.apache.hadoop.hbase.ipc.AbstractRpcClient.access$300(AbstractRpcClient.java:92)\r\n    \tat org.apache.hadoop.hbase.ipc.AbstractRpcClient$RpcChannelImplementation.callMethod(AbstractRpcClient.java:617)\r\n    \tat org.apache.hadoop.hbase.shaded.protobuf.generated.ClientProtos$ClientService$Stub.scan(ClientProtos.java:45339)\r\n    \tat org.apache.hadoop.hbase.client.AsyncClientScanner.callOpenScanner(AsyncClientScanner.java:172)\r\n    \tat org.apache.hadoop.hbase.client.AsyncSingleRequestRpcRetryingCaller.call(AsyncSingleRequestRpcRetryingCaller.java:82)\r\n    \tat org.apache.hadoop.hbase.client.AsyncSingleRequestRpcRetryingCaller.lambda$doCall$7(AsyncSingleRequestRpcRetryingCaller.java:115)\r\n    \tat org.apache.hadoop.hbase.util.FutureUtils.lambda$addListener$0(FutureUtils.java:71)\r\n    \tat java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863)\r\n    \tat java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:841)\r\n    \tat java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)\r\n    \tat java.base/java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2147)\r\n    \tat org.apache.hadoop.hbase.client.AsyncRegionLocator.lambda$null$5(AsyncRegionLocator.java:181)\r\n    \tat org.apache.hadoop.hbase.util.FutureUtils.lambda$addListener$0(FutureUtils.java:71)\r\n    \tat java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863)\r\n    \tat java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:841)\r\n    \tat java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)\r\n    \tat java.base/java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2147)\r\n    \tat org.apache.hadoop.hbase.client.ConnectionUtils.lambda$getOrFetch$4(ConnectionUtils.java:586)\r\n    \tat org.apache.hadoop.hbase.util.FutureUtils.lambda$addListener$0(FutureUtils.java:71)\r\n    \tat java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863)\r\n    \tat java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:841)\r\n    \tat java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)\r\n    \tat java.base/java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2147)\r\n    \tat org.apache.hadoop.hbase.client.ZKConnectionRegistry.tryComplete(ZKConnectionRegistry.java:126)\r\n    \tat org.apache.hadoop.hbase.client.ZKConnectionRegistry.lambda$getMetaRegionLocation$2(ZKConnectionRegistry.java:175)\r\n    \tat org.apache.hadoop.hbase.util.FutureUtils.lambda$addListener$0(FutureUtils.java:71)\r\n    \tat java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863)\r\n    \tat java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:841)\r\n    \tat java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)\r\n    \tat java.base/java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2147)\r\n    \tat org.apache.hadoop.hbase.client.ZKConnectionRegistry.lambda$getAndConvert$0(ZKConnectionRegistry.java:83)\r\n    \tat org.apache.hadoop.hbase.util.FutureUtils.lambda$addListener$0(FutureUtils.java:71)\r\n    \tat java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863)\r\n    \tat java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:841)\r\n    \tat java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)\r\n    \tat java.base/java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2147)\r\n    \tat org.apache.hadoop.hbase.zookeeper.ReadOnlyZKClient$ZKTask$1.exec(ReadOnlyZKClient.java:171)\r\n    \tat org.apache.hadoop.hbase.zookeeper.ReadOnlyZKClient.run(ReadOnlyZKClient.java:344)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n    Caused by: java.io.IOException: java.lang.IllegalStateException: Failed to load SIMPLE, KERBEROS, and DIGEST authentication providers. Classpath is not sane.\r\n    \tat org.apache.hadoop.hbase.ipc.IPCUtil.toIOE(IPCUtil.java:159)\r\n    \t... 40 common frames omitted\r\n    Caused by: java.lang.IllegalStateException: Failed to load SIMPLE, KERBEROS, and DIGEST authentication providers. Classpath is not sane.\r\n    \tat org.apache.hadoop.hbase.security.provider.BuiltInProviderSelector.configure(BuiltInProviderSelector.java:93)\r\n    \tat org.apache.hadoop.hbase.security.provider.SaslClientAuthenticationProviders.instantiateSelector(SaslClientAuthenticationProviders.java:114)\r\n    \tat org.apache.hadoop.hbase.security.provider.SaslClientAuthenticationProviders.instantiate(SaslClientAuthenticationProviders.java:187)\r\n    \tat org.apache.hadoop.hbase.security.provider.SaslClientAuthenticationProviders.getInstance(SaslClientAuthenticationProviders.java:76)\r\n    \tat org.apache.hadoop.hbase.ipc.RpcConnection.&lt;init&gt;(RpcConnection.java:101)\r\n    \tat org.apache.hadoop.hbase.ipc.NettyRpcConnection.&lt;init&gt;(NettyRpcConnection.java:102)\r\n    \tat org.apache.hadoop.hbase.ipc.NettyRpcClient.createConnection(NettyRpcClient.java:76)\r\n    \tat org.apache.hadoop.hbase.ipc.NettyRpcClient.createConnection(NettyRpcClient.java:40)\r\n    \tat org.apache.hadoop.hbase.ipc.AbstractRpcClient.lambda$getConnection$0(AbstractRpcClient.java:364)\r\n    \tat org.apache.hadoop.hbase.util.PoolMap.createResource(PoolMap.java:127)\r\n    \tat org.apache.hadoop.hbase.util.PoolMap$RoundRobinPool.getOrCreate(PoolMap.java:211)\r\n    \tat org.apache.hadoop.hbase.util.PoolMap.getOrCreate(PoolMap.java:68)\r\n    \tat org.apache.hadoop.hbase.ipc.AbstractRpcClient.getConnection(AbstractRpcClient.java:364)\r\n    \tat org.apache.hadoop.hbase.ipc.AbstractRpcClient.callMethod(AbstractRpcClient.java:443)\r\n    \t... 39 common frames omitted&quot;\r\n\r\n\r\nAfter revert to old versions application is working without any issue.\r\n\r\nSame Java and HBase shaded clients versions are working on Plain java (Not Spring boot) applications.\r\n\r\nHow I solve this.","title":"java.lang.IllegalStateException: Failed to load SIMPLE, KERBEROS, and DIGEST authentication providers. Classpath is not sane","body":"<p>We use HBase Java client to read and write data to HBase service running in GCP Dataproc cluster. Recently we update Java version, HBase client version and Spring boot version.</p>\n<pre><code>Java runtime version from 8 to 17\n\nHBase shaded client version from 2.2.4 to 2.5.4\n\nSpring boot version from 2.13 to 3.1.0\n\nEnvironment : Docker image in Kubernetes. Runtime docker image openjdk:17.0.2-jdk-slim\n</code></pre>\n<p>Client connect to server sometimes but it getting failed mostly.</p>\n<p>Error message</p>\n<pre><code>java.io.IOException: Call to address=150.1.3.7:16020 failed on local exception: java.io.IOException: java.lang.IllegalStateException: Failed to load SIMPLE, KERBEROS, and DIGEST authentication providers. Classpath is not sane.\n    at java.base/jdk.internal.reflect.GeneratedConstructorAccessor41.newInstance(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at org.apache.hadoop.hbase.ipc.IPCUtil.wrapException(IPCUtil.java:239)\n    at org.apache.hadoop.hbase.ipc.AbstractRpcClient.onCallFinished(AbstractRpcClient.java:391)\n    at org.apache.hadoop.hbase.ipc.AbstractRpcClient.access$100(AbstractRpcClient.java:92)\n    at org.apache.hadoop.hbase.ipc.AbstractRpcClient$3.run(AbstractRpcClient.java:425)\n    at org.apache.hadoop.hbase.ipc.AbstractRpcClient$3.run(AbstractRpcClient.java:420)\n    at org.apache.hadoop.hbase.ipc.Call.callComplete(Call.java:114)\n    at org.apache.hadoop.hbase.ipc.Call.setException(Call.java:129)\n    at org.apache.hadoop.hbase.ipc.AbstractRpcClient.callMethod(AbstractRpcClient.java:446)\n    at org.apache.hadoop.hbase.ipc.AbstractRpcClient.access$300(AbstractRpcClient.java:92)\n    at org.apache.hadoop.hbase.ipc.AbstractRpcClient$RpcChannelImplementation.callMethod(AbstractRpcClient.java:617)\n    at org.apache.hadoop.hbase.shaded.protobuf.generated.ClientProtos$ClientService$Stub.scan(ClientProtos.java:45339)\n    at org.apache.hadoop.hbase.client.AsyncClientScanner.callOpenScanner(AsyncClientScanner.java:172)\n    at org.apache.hadoop.hbase.client.AsyncSingleRequestRpcRetryingCaller.call(AsyncSingleRequestRpcRetryingCaller.java:82)\n    at org.apache.hadoop.hbase.client.AsyncSingleRequestRpcRetryingCaller.lambda$doCall$7(AsyncSingleRequestRpcRetryingCaller.java:115)\n    at org.apache.hadoop.hbase.util.FutureUtils.lambda$addListener$0(FutureUtils.java:71)\n    at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863)\n    at java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:841)\n    at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)\n    at java.base/java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2147)\n    at org.apache.hadoop.hbase.client.AsyncRegionLocator.lambda$null$5(AsyncRegionLocator.java:181)\n    at org.apache.hadoop.hbase.util.FutureUtils.lambda$addListener$0(FutureUtils.java:71)\n    at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863)\n    at java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:841)\n    at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)\n    at java.base/java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2147)\n    at org.apache.hadoop.hbase.client.ConnectionUtils.lambda$getOrFetch$4(ConnectionUtils.java:586)\n    at org.apache.hadoop.hbase.util.FutureUtils.lambda$addListener$0(FutureUtils.java:71)\n    at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863)\n    at java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:841)\n    at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)\n    at java.base/java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2147)\n    at org.apache.hadoop.hbase.client.ZKConnectionRegistry.tryComplete(ZKConnectionRegistry.java:126)\n    at org.apache.hadoop.hbase.client.ZKConnectionRegistry.lambda$getMetaRegionLocation$2(ZKConnectionRegistry.java:175)\n    at org.apache.hadoop.hbase.util.FutureUtils.lambda$addListener$0(FutureUtils.java:71)\n    at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863)\n    at java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:841)\n    at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)\n    at java.base/java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2147)\n    at org.apache.hadoop.hbase.client.ZKConnectionRegistry.lambda$getAndConvert$0(ZKConnectionRegistry.java:83)\n    at org.apache.hadoop.hbase.util.FutureUtils.lambda$addListener$0(FutureUtils.java:71)\n    at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863)\n    at java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:841)\n    at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)\n    at java.base/java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2147)\n    at org.apache.hadoop.hbase.zookeeper.ReadOnlyZKClient$ZKTask$1.exec(ReadOnlyZKClient.java:171)\n    at org.apache.hadoop.hbase.zookeeper.ReadOnlyZKClient.run(ReadOnlyZKClient.java:344)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.io.IOException: java.lang.IllegalStateException: Failed to load SIMPLE, KERBEROS, and DIGEST authentication providers. Classpath is not sane.\n    at org.apache.hadoop.hbase.ipc.IPCUtil.toIOE(IPCUtil.java:159)\n    ... 40 common frames omitted\nCaused by: java.lang.IllegalStateException: Failed to load SIMPLE, KERBEROS, and DIGEST authentication providers. Classpath is not sane.\n    at org.apache.hadoop.hbase.security.provider.BuiltInProviderSelector.configure(BuiltInProviderSelector.java:93)\n    at org.apache.hadoop.hbase.security.provider.SaslClientAuthenticationProviders.instantiateSelector(SaslClientAuthenticationProviders.java:114)\n    at org.apache.hadoop.hbase.security.provider.SaslClientAuthenticationProviders.instantiate(SaslClientAuthenticationProviders.java:187)\n    at org.apache.hadoop.hbase.security.provider.SaslClientAuthenticationProviders.getInstance(SaslClientAuthenticationProviders.java:76)\n    at org.apache.hadoop.hbase.ipc.RpcConnection.&lt;init&gt;(RpcConnection.java:101)\n    at org.apache.hadoop.hbase.ipc.NettyRpcConnection.&lt;init&gt;(NettyRpcConnection.java:102)\n    at org.apache.hadoop.hbase.ipc.NettyRpcClient.createConnection(NettyRpcClient.java:76)\n    at org.apache.hadoop.hbase.ipc.NettyRpcClient.createConnection(NettyRpcClient.java:40)\n    at org.apache.hadoop.hbase.ipc.AbstractRpcClient.lambda$getConnection$0(AbstractRpcClient.java:364)\n    at org.apache.hadoop.hbase.util.PoolMap.createResource(PoolMap.java:127)\n    at org.apache.hadoop.hbase.util.PoolMap$RoundRobinPool.getOrCreate(PoolMap.java:211)\n    at org.apache.hadoop.hbase.util.PoolMap.getOrCreate(PoolMap.java:68)\n    at org.apache.hadoop.hbase.ipc.AbstractRpcClient.getConnection(AbstractRpcClient.java:364)\n    at org.apache.hadoop.hbase.ipc.AbstractRpcClient.callMethod(AbstractRpcClient.java:443)\n    ... 39 common frames omitted&quot;\n</code></pre>\n<p>After revert to old versions application is working without any issue.</p>\n<p>Same Java and HBase shaded clients versions are working on Plain java (Not Spring boot) applications.</p>\n<p>How I solve this.</p>\n"},{"tags":["java","android","android-webview","dailymotion-api"],"comments":[{"owner":{"account_id":4757305,"reputation":223,"user_id":3845737,"accept_rate":20,"display_name":"Muhammad Natiq"},"score":0,"creation_date":1516965483,"post_id":47859014,"comment_id":83913386,"body_markdown":"i have same problem.. did u got any solution??","body":"i have same problem.. did u got any solution??"}],"answers":[{"tags":[],"owner":{"account_id":12580398,"reputation":21,"user_id":9151314,"display_name":"moezsf"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1514516505,"creation_date":1514509686,"answer_id":48016252,"question_id":47859014,"body_markdown":"If you are using Android Studio&#39;s emulator, this can be the cause you are not seeing the video, only audio is perceived. Use your phone, there your video probably will show (if your code is correct). So don&#39;t use the emulator to test this. Best luck.","title":"Video does not play in a WebView, but audio plays","body":"<p>If you are using Android Studio's emulator, this can be the cause you are not seeing the video, only audio is perceived. Use your phone, there your video probably will show (if your code is correct). So don't use the emulator to test this. Best luck.</p>\n"},{"tags":[],"owner":{"account_id":18199344,"reputation":1,"user_id":15455943,"display_name":"Егор Жир"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687953576,"creation_date":1687953576,"answer_id":76572962,"question_id":47859014,"body_markdown":"Thanks to [this][1] answer, I was able to solve the issue with webview.\r\n\r\nCode you need to create WebView:\r\n\r\n        private fun createWebView(iframeCode: String): WebView {\r\n        val webView = WebView(this.requireContext())\r\n        webView.layoutParams = LinearLayout.LayoutParams(\r\n            LinearLayout.LayoutParams.WRAP_CONTENT,\r\n            LinearLayout.LayoutParams.WRAP_CONTENT\r\n            ).apply {\r\n            setMargins(0, 0, 0, 32.dp)\r\n        }\r\n        webView.setBackgroundColor(Color.TRANSPARENT)\r\n        webView.setLayerType(View.LAYER_TYPE_HARDWARE, null)\r\n        webView.webViewClient = WebViewClient()\r\n        webView.webChromeClient = WebChromeClient()\r\n        webView.scrollBarStyle = View.SCROLLBARS_INSIDE_OVERLAY\r\n        webView.settings.setSupportZoom(false)\r\n        webView.settings.builtInZoomControls = false\r\n        webView.settings.displayZoomControls = false\r\n        webView.settings.loadsImagesAutomatically = true\r\n        webView.settings.javaScriptEnabled = true\r\n        webView.settings.javaScriptCanOpenWindowsAutomatically = true\r\n        webView.settings.pluginState = PluginState.ON_DEMAND\r\n\r\n        webView.loadData(iframeCode, &quot;text/html&quot;, &quot;UTF-8&quot;)\r\n\r\n        return webView\r\n    }\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/62753264","title":"Video does not play in a WebView, but audio plays","body":"<p>Thanks to <a href=\"https://stackoverflow.com/a/62753264\">this</a> answer, I was able to solve the issue with webview.</p>\n<p>Code you need to create WebView:</p>\n<pre><code>    private fun createWebView(iframeCode: String): WebView {\n    val webView = WebView(this.requireContext())\n    webView.layoutParams = LinearLayout.LayoutParams(\n        LinearLayout.LayoutParams.WRAP_CONTENT,\n        LinearLayout.LayoutParams.WRAP_CONTENT\n        ).apply {\n        setMargins(0, 0, 0, 32.dp)\n    }\n    webView.setBackgroundColor(Color.TRANSPARENT)\n    webView.setLayerType(View.LAYER_TYPE_HARDWARE, null)\n    webView.webViewClient = WebViewClient()\n    webView.webChromeClient = WebChromeClient()\n    webView.scrollBarStyle = View.SCROLLBARS_INSIDE_OVERLAY\n    webView.settings.setSupportZoom(false)\n    webView.settings.builtInZoomControls = false\n    webView.settings.displayZoomControls = false\n    webView.settings.loadsImagesAutomatically = true\n    webView.settings.javaScriptEnabled = true\n    webView.settings.javaScriptCanOpenWindowsAutomatically = true\n    webView.settings.pluginState = PluginState.ON_DEMAND\n\n    webView.loadData(iframeCode, &quot;text/html&quot;, &quot;UTF-8&quot;)\n\n    return webView\n}\n</code></pre>\n"}],"owner":{"display_name":"user7792932"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":851,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1687953576,"creation_date":1513541541,"question_id":47859014,"body_markdown":"I am using DailyMotion SDK in my android app to load the dailymotion videos in my app. The problem is when I play the video, Only audio is coming out but not video. Black screen is showing instead of video. Please help me this thanks in advance. My codes are\r\n\r\nMainActivity.java\r\n\r\n    package com.example.rajeshkumarreddy.videoplayered;\r\n    import android.graphics.Color; \r\n    import android.os.Build;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n    import android.webkit.WebSettings;\r\n    import com.dailymotion.android.player.sdk.PlayerWebView;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n\r\n    public class DailyMotionActivity extends AppCompatActivity {\r\n        PlayerWebView playerWebView;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        playerWebView=(PlayerWebView)findViewById(R.id.dm_player_web_view);\r\n        playerWebView.load(&quot;x1owz8e&quot;);\r\n        \r\n      }\r\n   \r\n    }\r\n\r\nactivity_main.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;com.example.rajeshkumarreddy.videoplayered.MainActivity&quot;&gt;\r\n\r\n    &lt;com.dailymotion.android.player.sdk.PlayerWebView\r\n        android:id=&quot;@+id/dm_player_web_view&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;215dp&quot;&gt;\r\n    &lt;/com.dailymotion.android.player.sdk.PlayerWebView&gt;\r\n\r\n    \r\n\r\n    &lt;/RelativeLayout&gt;\r\n\r\n","title":"Video does not play in a WebView, but audio plays","body":"<p>I am using DailyMotion SDK in my android app to load the dailymotion videos in my app. The problem is when I play the video, Only audio is coming out but not video. Black screen is showing instead of video. Please help me this thanks in advance. My codes are</p>\n\n<p>MainActivity.java</p>\n\n<pre><code>package com.example.rajeshkumarreddy.videoplayered;\nimport android.graphics.Color; \nimport android.os.Build;\nimport android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.webkit.WebSettings;\nimport com.dailymotion.android.player.sdk.PlayerWebView;\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class DailyMotionActivity extends AppCompatActivity {\n    PlayerWebView playerWebView;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    playerWebView=(PlayerWebView)findViewById(R.id.dm_player_web_view);\n    playerWebView.load(\"x1owz8e\");\n\n  }\n\n}\n</code></pre>\n\n<p>activity_main.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\ntools:context=\"com.example.rajeshkumarreddy.videoplayered.MainActivity\"&gt;\n\n&lt;com.dailymotion.android.player.sdk.PlayerWebView\n    android:id=\"@+id/dm_player_web_view\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"215dp\"&gt;\n&lt;/com.dailymotion.android.player.sdk.PlayerWebView&gt;\n\n\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":937095,"reputation":14646,"user_id":965834,"accept_rate":83,"display_name":"Jeto"},"score":0,"creation_date":1551719582,"post_id":54988242,"comment_id":96734228,"body_markdown":"&quot;Project SDK is not defined&quot; probably has something to do with it.","body":"&quot;Project SDK is not defined&quot; probably has something to do with it."},{"owner":{"account_id":14953344,"reputation":11,"user_id":10795601,"display_name":"Jake Mellor"},"score":0,"creation_date":1551719639,"post_id":54988242,"comment_id":96734252,"body_markdown":"how would i go about changing this? it worked before i uploaded my file to github. Then when i cloned the repo and tried to run this &quot;project SDK is not defined&quot; appeared.","body":"how would i go about changing this? it worked before i uploaded my file to github. Then when i cloned the repo and tried to run this &quot;project SDK is not defined&quot; appeared."},{"owner":{"account_id":937095,"reputation":14646,"user_id":965834,"accept_rate":83,"display_name":"Jeto"},"score":0,"creation_date":1551719705,"post_id":54988242,"comment_id":96734289,"body_markdown":"Don&#39;t you have a &quot;Fix&quot; link on the far right of that warning message? Other than that,  try `File &gt; Project Structure` then there should be a section to set up your SDK.","body":"Don&#39;t you have a &quot;Fix&quot; link on the far right of that warning message? Other than that,  try <code>File &gt; Project Structure</code> then there should be a section to set up your SDK."},{"owner":{"account_id":5169747,"reputation":11586,"user_id":4138801,"accept_rate":97,"display_name":"Clashsoft"},"score":0,"creation_date":1551720344,"post_id":54988242,"comment_id":96734579,"body_markdown":"You should learn how to use Gradle: https://www.jetbrains.com/help/idea/gradle.html","body":"You should learn how to use Gradle: <a href=\"https://www.jetbrains.com/help/idea/gradle.html\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/gradle.html</a>"},{"owner":{"account_id":14953344,"reputation":11,"user_id":10795601,"display_name":"Jake Mellor"},"score":0,"creation_date":1551720431,"post_id":54988242,"comment_id":96734612,"body_markdown":"My lecturers put all of the work on github so we have been almost forced to learn it. Is gradle used more in industry?","body":"My lecturers put all of the work on github so we have been almost forced to learn it. Is gradle used more in industry?"}],"answers":[{"tags":[],"owner":{"account_id":6615217,"reputation":6120,"user_id":5108737,"display_name":"Ruslan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1551719820,"creation_date":1551719820,"answer_id":54988329,"question_id":54988242,"body_markdown":"You should set up the JDK in the project structure &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;Alt&lt;/kbd&gt; + &lt;kbd&gt;Shift&lt;/kbd&gt; + &lt;kbd&gt;S&lt;/kbd&gt;. Also you need to mark the directory (usually `main`) as a sources root:\r\n\r\n [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wgO0T.png\r\n\r\nThen IDE will recognize the files inside that directory as a java classes","title":"IntelliJ is not letting me run my Java code, src folder is not blue after uploading file to git repo","body":"<p>You should set up the JDK in the project structure <kbd>Ctrl</kbd> + <kbd>Alt</kbd> + <kbd>Shift</kbd> + <kbd>S</kbd>. Also you need to mark the directory (usually <code>main</code>) as a sources root:</p>\n\n<p><a href=\"https://i.stack.imgur.com/wgO0T.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wgO0T.png\" alt=\"enter image description here\"></a></p>\n\n<p>Then IDE will recognize the files inside that directory as a java classes</p>\n"},{"tags":[],"owner":{"account_id":16921011,"reputation":2463,"user_id":12237837,"display_name":"Aditya Rewari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687953245,"creation_date":1687953245,"answer_id":76572912,"question_id":54988242,"body_markdown":"If any folder other than `java` folder is marked as blue. Follow below steps to rectify it\r\n\r\n1. Right click on the folder marked as blue. `Marked as Directory` -&gt; `Exclude`\r\n2. Right click on `java folder` and then `Marked as Directory` -&gt; `Sources Root`\r\n3. Right click on the folder in use at point 1. Now `Marked as Directory` -&gt; `Cancel Exclusion` ","title":"IntelliJ is not letting me run my Java code, src folder is not blue after uploading file to git repo","body":"<p>If any folder other than <code>java</code> folder is marked as blue. Follow below steps to rectify it</p>\n<ol>\n<li>Right click on the folder marked as blue. <code>Marked as Directory</code> -&gt; <code>Exclude</code></li>\n<li>Right click on <code>java folder</code> and then <code>Marked as Directory</code> -&gt; <code>Sources Root</code></li>\n<li>Right click on the folder in use at point 1. Now <code>Marked as Directory</code> -&gt; <code>Cancel Exclusion</code></li>\n</ol>\n"}],"owner":{"account_id":14953344,"reputation":11,"user_id":10795601,"display_name":"Jake Mellor"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2814,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":54988329,"answer_count":2,"score":0,"last_activity_date":1687953245,"creation_date":1551719512,"question_id":54988242,"body_markdown":"This is the initial error;\r\n[intelliJ][1]\r\n\r\nI cannot get the option to run my code using intelliJ after uploading my file to the github repository. Can anyone help? By the way i use linux.\r\n\r\nafter selecting the correct sdk this is what is displayed[2]\r\n\r\ni have now changed the source directory to src so the folder is now blue. When i go to run the project i get this error;\r\n[error][2]\r\n \r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jYkE2.png\r\n  [2]: https://i.stack.imgur.com/alVnh.png","title":"IntelliJ is not letting me run my Java code, src folder is not blue after uploading file to git repo","body":"<p>This is the initial error;\n<a href=\"https://i.stack.imgur.com/jYkE2.png\" rel=\"nofollow noreferrer\">intelliJ</a></p>\n\n<p>I cannot get the option to run my code using intelliJ after uploading my file to the github repository. Can anyone help? By the way i use linux.</p>\n\n<p>after selecting the correct sdk this is what is displayed<a href=\"https://i.stack.imgur.com/alVnh.png\" rel=\"nofollow noreferrer\">2</a></p>\n\n<p>i have now changed the source directory to src so the folder is now blue. When i go to run the project i get this error;\n<a href=\"https://i.stack.imgur.com/alVnh.png\" rel=\"nofollow noreferrer\">error</a></p>\n"},{"tags":["java","eclipse","jsp","recaptcha"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1687937548,"post_id":76564722,"comment_id":135005120,"body_markdown":"Where else did you use the string `ReCaptchaImpl`? Do you have a file or a folder named `ReCaptchaImpl`? Randomly adding a character like a semicolon somewhere is not the solution, but might be the cause of your problem (avoid trial and error and read the documentation when in doubt): please provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Where else did you use the string <code>ReCaptchaImpl</code>? Do you have a file or a folder named <code>ReCaptchaImpl</code>? Randomly adding a character like a semicolon somewhere is not the solution, but might be the cause of your problem (avoid trial and error and read the documentation when in doubt): please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687952809,"creation_date":1687952809,"answer_id":76572859,"question_id":76564722,"body_markdown":"You should not try to import `RecaptchaImpl` class, but instead you can import an interface that this class implements.\r\n\r\n```\r\n&lt;%@ page import=&quot;net.tanesha.recaptcha.ReCaptcha&quot; %&gt;\r\n``` \r\n\r\n---\r\n\r\nYou have got the error:\r\n\r\n&gt;Only a type can be imported. net.tanesha.recaptcha.ReCaptchaImpl resolves to a package\r\n\r\nIt is because you use a semicolon `;` at the end of the class name. This problem well explained [here][1].\r\n\r\n&gt;The semicolon causes a syntax error, but triggers a recheck in Eclipse, some how after deleting the semicolon then the import is back to normal without the wiggly under line red, weird but works! \r\n\r\n  [1]: https://stackoverflow.com/a/1858635/573032\r\n   ","title":"Only a type can be imported. net.tanesha.recaptcha.ReCaptchaImpl resolves to a package","body":"<p>You should not try to import <code>RecaptchaImpl</code> class, but instead you can import an interface that this class implements.</p>\n<pre><code>&lt;%@ page import=&quot;net.tanesha.recaptcha.ReCaptcha&quot; %&gt;\n</code></pre>\n<hr />\n<p>You have got the error:</p>\n<blockquote>\n<p>Only a type can be imported. net.tanesha.recaptcha.ReCaptchaImpl resolves to a package</p>\n</blockquote>\n<p>It is because you use a semicolon <code>;</code> at the end of the class name. This problem well explained <a href=\"https://stackoverflow.com/a/1858635/573032\">here</a>.</p>\n<blockquote>\n<p>The semicolon causes a syntax error, but triggers a recheck in Eclipse, some how after deleting the semicolon then the import is back to normal without the wiggly under line red, weird but works!</p>\n</blockquote>\n"}],"owner":{"account_id":11317917,"reputation":51,"user_id":8299076,"display_name":"Bharath Naidu Yenumula"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687953146,"creation_date":1687867812,"question_id":76564722,"body_markdown":"I am building a test application for learning purpose. I have implemented google recaptcha v2 at my signup page. while writing captcha validation at back end, I am getting the following error:\r\n \r\n&gt;Only a type can be imported. net.tanesha.recaptcha.ReCaptchaImpl resolves to a package\r\n\r\nLet me tell you what scenarios I have tried.\r\n1. Added recaptcha4j-0.0.7.jar to the Referenced Libraries path. The jar file has `net.tanesha.recaptcha` package which has `ReCaptchaImpl.class`\r\n\r\n2. Tried adding semicolumn at the end of import statement\r\n```\r\n  &lt;%@ page import=&quot;net.tanesha.recaptcha.ReCaptchaImpl&quot; %&gt;\r\n  &lt;%@ page import=&quot;net.tanesha.recaptcha.ReCaptchaResponse;&quot; %&gt; \r\n```\r\nbut issue still persists.\r\n\r\n\r\nThis is the code that i have written for importing the package from jar file.\r\n\r\n```\r\n&lt;%@ page import=&quot;net.tanesha.recaptcha.ReCaptchaImpl&quot; %&gt;\r\n&lt;%@ page import=&quot;net.tanesha.recaptcha.ReCaptchaResponse&quot; %&gt;\r\n```\r\n\r\nI am new to java web development. Any insights or inputs would be very much helpful to me. I am using jsp as my backend.\r\n\r\n ","title":"Only a type can be imported. net.tanesha.recaptcha.ReCaptchaImpl resolves to a package","body":"<p>I am building a test application for learning purpose. I have implemented google recaptcha v2 at my signup page. while writing captcha validation at back end, I am getting the following error:</p>\n<blockquote>\n<p>Only a type can be imported. net.tanesha.recaptcha.ReCaptchaImpl resolves to a package</p>\n</blockquote>\n<p>Let me tell you what scenarios I have tried.</p>\n<ol>\n<li><p>Added recaptcha4j-0.0.7.jar to the Referenced Libraries path. The jar file has <code>net.tanesha.recaptcha</code> package which has <code>ReCaptchaImpl.class</code></p>\n</li>\n<li><p>Tried adding semicolumn at the end of import statement</p>\n</li>\n</ol>\n<pre><code>  &lt;%@ page import=&quot;net.tanesha.recaptcha.ReCaptchaImpl&quot; %&gt;\n  &lt;%@ page import=&quot;net.tanesha.recaptcha.ReCaptchaResponse;&quot; %&gt; \n</code></pre>\n<p>but issue still persists.</p>\n<p>This is the code that i have written for importing the package from jar file.</p>\n<pre><code>&lt;%@ page import=&quot;net.tanesha.recaptcha.ReCaptchaImpl&quot; %&gt;\n&lt;%@ page import=&quot;net.tanesha.recaptcha.ReCaptchaResponse&quot; %&gt;\n</code></pre>\n<p>I am new to java web development. Any insights or inputs would be very much helpful to me. I am using jsp as my backend.</p>\n"},{"tags":["java","jenkins-plugins"],"answers":[{"tags":[],"owner":{"account_id":28849706,"reputation":1,"user_id":22095863,"display_name":"kev4020"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687952528,"creation_date":1687952528,"answer_id":76572831,"question_id":76505359,"body_markdown":"I found out that the problem is the AppSigner Plugin itself. It&#39;s meant to run with Java8 but it also runs with Java11. Knowing this means you can change the default java version using &quot;update-alternatives --config java&quot; and restart Jenkins. Now you see the correct java version in the interface at Manage Jenkins --&gt; System Information. It&#39;s not sufficient to just change the default java version assuming that this is used at pipeline execution stage because the error comes from the plugin running in the context of jenkins. ","title":"com.android.apksig.internal.apk.v1.V1SchemeSigner cannot access class sun.security.x509.AlgorithmId","body":"<p>I found out that the problem is the AppSigner Plugin itself. It's meant to run with Java8 but it also runs with Java11. Knowing this means you can change the default java version using &quot;update-alternatives --config java&quot; and restart Jenkins. Now you see the correct java version in the interface at Manage Jenkins --&gt; System Information. It's not sufficient to just change the default java version assuming that this is used at pipeline execution stage because the error comes from the plugin running in the context of jenkins.</p>\n"}],"owner":{"account_id":28849706,"reputation":1,"user_id":22095863,"display_name":"kev4020"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687952528,"creation_date":1687167236,"question_id":76505359,"body_markdown":"after installing openjdk17 on my jenkins, I get the following stacktrace while signing the apk-package using [https://plugins.jenkins.io/android-signing](https://plugins.jenkins.io/android-signing)/:\r\n\r\n```\r\n10:59:59 FATAL: class com.android.apksig.internal.apk.v1.V1SchemeSigner (in unnamed module @0x38dba2ff) cannot access class sun.security.x509.AlgorithmId (in module java.base) because module java.base does not export sun.security.x509 to unnamed module @0x38dba2ff\r\n10:59:59 java.lang.IllegalAccessError: class com.android.apksig.internal.apk.v1.V1SchemeSigner (in unnamed module @0x38dba2ff) cannot access class sun.security.x509.AlgorithmId (in module java.base) because module java.base does not export sun.security.x509 to unnamed module @0x38dba2ff\r\n10:59:59 \tat com.android.apksig.internal.apk.v1.V1SchemeSigner.getSupportedAlgorithmId(V1SchemeSigner.java:625)\r\n10:59:59 \tat com.android.apksig.internal.apk.v1.V1SchemeSigner.&lt;clinit&gt;(V1SchemeSigner.java:541)\r\n10:59:59 \tat com.android.apksig.DefaultApkSignerEngine.&lt;init&gt;(DefaultApkSignerEngine.java:149)\r\n10:59:59 \tat com.android.apksig.DefaultApkSignerEngine.&lt;init&gt;(DefaultApkSignerEngine.java:52)\r\n10:59:59 \tat com.android.apksig.DefaultApkSignerEngine$Builder.build(DefaultApkSignerEngine.java:902)\r\n10:59:59 \tat com.android.apksig.ApkSigner.sign(ApkSigner.java:260)\r\n10:59:59 \tat com.android.apksig.ApkSigner.sign(ApkSigner.java:179)\r\n10:59:59 \tat org.jenkinsci.plugins.androidsigning.SignApksBuilder$SignApkCallable.invoke(SignApksBuilder.java:510)\r\n10:59:59 \tat org.jenkinsci.plugins.androidsigning.SignApksBuilder$SignApkCallable.invoke(SignApksBuilder.java:464)\r\n10:59:59 \tat hudson.FilePath.act(FilePath.java:1198)\r\n10:59:59 \tat hudson.FilePath.act(FilePath.java:1181)\r\n10:59:59 \tat org.jenkinsci.plugins.androidsigning.SignApksBuilder.perform(SignApksBuilder.java:359)\r\n10:59:59 \tat jenkins.tasks.SimpleBuildStep.perform(SimpleBuildStep.java:123)\r\n10:59:59 \tat hudson.tasks.BuildStepCompatibilityLayer.perform(BuildStepCompatibilityLayer.java:80)\r\n10:59:59 \tat hudson.tasks.BuildStepMonitor$1.perform(BuildStepMonitor.java:20)\r\n10:59:59 \tat hudson.model.AbstractBuild$AbstractBuildExecution.perform(AbstractBuild.java:818)\r\n10:59:59 \tat hudson.model.Build$BuildExecution.build(Build.java:199)\r\n10:59:59 \tat hudson.model.Build$BuildExecution.doRun(Build.java:164)\r\n10:59:59 \tat hudson.model.AbstractBuild$AbstractBuildExecution.run(AbstractBuild.java:526)\r\n10:59:59 \tat hudson.model.Run.execute(Run.java:1900)\r\n10:59:59 \tat hudson.model.FreeStyleBuild.run(FreeStyleBuild.java:44)\r\n10:59:59 \tat hudson.model.ResourceController.execute(ResourceController.java:101)\r\n10:59:59 \tat hudson.model.Executor.run(Executor.java:442)\r\n```\r\nAs this worked with openjdk11 I configured my pipeline for using openjkd11 again. To verify this, I added a build step that executes &quot;java --version&quot; before starting the Android Signing Plugin and it says\r\n\r\n```\r\n10:59:59 + java --version\r\n10:59:59 openjdk 11.0.18 2023-01-17\r\n10:59:59 OpenJDK Runtime Environment (build 11.0.18+10-post-Debian-1deb11u1)\r\n10:59:59 OpenJDK 64-Bit Server VM (build 11.0.18+10-post-Debian-1deb11u1, mixed mode, sharing)\r\n```\r\n\r\nDoes anybody have a suggestion?\r\n\r\nThanks in advance!\r\n\r\n\r\nChanged environment using &quot;update-alternatives --config java&quot; to openjdk 11 does not help anymore (?).\r\n","title":"com.android.apksig.internal.apk.v1.V1SchemeSigner cannot access class sun.security.x509.AlgorithmId","body":"<p>after installing openjdk17 on my jenkins, I get the following stacktrace while signing the apk-package using <a href=\"https://plugins.jenkins.io/android-signing\" rel=\"nofollow noreferrer\">https://plugins.jenkins.io/android-signing</a>/:</p>\n<pre><code>10:59:59 FATAL: class com.android.apksig.internal.apk.v1.V1SchemeSigner (in unnamed module @0x38dba2ff) cannot access class sun.security.x509.AlgorithmId (in module java.base) because module java.base does not export sun.security.x509 to unnamed module @0x38dba2ff\n10:59:59 java.lang.IllegalAccessError: class com.android.apksig.internal.apk.v1.V1SchemeSigner (in unnamed module @0x38dba2ff) cannot access class sun.security.x509.AlgorithmId (in module java.base) because module java.base does not export sun.security.x509 to unnamed module @0x38dba2ff\n10:59:59    at com.android.apksig.internal.apk.v1.V1SchemeSigner.getSupportedAlgorithmId(V1SchemeSigner.java:625)\n10:59:59    at com.android.apksig.internal.apk.v1.V1SchemeSigner.&lt;clinit&gt;(V1SchemeSigner.java:541)\n10:59:59    at com.android.apksig.DefaultApkSignerEngine.&lt;init&gt;(DefaultApkSignerEngine.java:149)\n10:59:59    at com.android.apksig.DefaultApkSignerEngine.&lt;init&gt;(DefaultApkSignerEngine.java:52)\n10:59:59    at com.android.apksig.DefaultApkSignerEngine$Builder.build(DefaultApkSignerEngine.java:902)\n10:59:59    at com.android.apksig.ApkSigner.sign(ApkSigner.java:260)\n10:59:59    at com.android.apksig.ApkSigner.sign(ApkSigner.java:179)\n10:59:59    at org.jenkinsci.plugins.androidsigning.SignApksBuilder$SignApkCallable.invoke(SignApksBuilder.java:510)\n10:59:59    at org.jenkinsci.plugins.androidsigning.SignApksBuilder$SignApkCallable.invoke(SignApksBuilder.java:464)\n10:59:59    at hudson.FilePath.act(FilePath.java:1198)\n10:59:59    at hudson.FilePath.act(FilePath.java:1181)\n10:59:59    at org.jenkinsci.plugins.androidsigning.SignApksBuilder.perform(SignApksBuilder.java:359)\n10:59:59    at jenkins.tasks.SimpleBuildStep.perform(SimpleBuildStep.java:123)\n10:59:59    at hudson.tasks.BuildStepCompatibilityLayer.perform(BuildStepCompatibilityLayer.java:80)\n10:59:59    at hudson.tasks.BuildStepMonitor$1.perform(BuildStepMonitor.java:20)\n10:59:59    at hudson.model.AbstractBuild$AbstractBuildExecution.perform(AbstractBuild.java:818)\n10:59:59    at hudson.model.Build$BuildExecution.build(Build.java:199)\n10:59:59    at hudson.model.Build$BuildExecution.doRun(Build.java:164)\n10:59:59    at hudson.model.AbstractBuild$AbstractBuildExecution.run(AbstractBuild.java:526)\n10:59:59    at hudson.model.Run.execute(Run.java:1900)\n10:59:59    at hudson.model.FreeStyleBuild.run(FreeStyleBuild.java:44)\n10:59:59    at hudson.model.ResourceController.execute(ResourceController.java:101)\n10:59:59    at hudson.model.Executor.run(Executor.java:442)\n</code></pre>\n<p>As this worked with openjdk11 I configured my pipeline for using openjkd11 again. To verify this, I added a build step that executes &quot;java --version&quot; before starting the Android Signing Plugin and it says</p>\n<pre><code>10:59:59 + java --version\n10:59:59 openjdk 11.0.18 2023-01-17\n10:59:59 OpenJDK Runtime Environment (build 11.0.18+10-post-Debian-1deb11u1)\n10:59:59 OpenJDK 64-Bit Server VM (build 11.0.18+10-post-Debian-1deb11u1, mixed mode, sharing)\n</code></pre>\n<p>Does anybody have a suggestion?</p>\n<p>Thanks in advance!</p>\n<p>Changed environment using &quot;update-alternatives --config java&quot; to openjdk 11 does not help anymore (?).</p>\n"},{"tags":["java","string","validation","bigdecimal"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":3,"creation_date":1687949812,"post_id":76572422,"comment_id":135007628,"body_markdown":"Why do you think that `BigDecimal`, which is a **number**, can be any random string like `abcd`?","body":"Why do you think that <code>BigDecimal</code>, which is a <b>number</b>, can be any random string like <code>abcd</code>?"}],"answers":[{"tags":[],"owner":{"account_id":294406,"reputation":24602,"user_id":598289,"accept_rate":85,"display_name":"SJuan76"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687949967,"creation_date":1687949967,"answer_id":76572514,"question_id":76572422,"body_markdown":"*BigDecimal* is a number, but it could be 45.465468494456156.\r\n\r\nIf you want to restrict the number of decimal places, you will need to define your own validation. [*@Pattern*](https://docs.oracle.com/javaee/7/api/javax/validation/constraints/Pattern.html) won&#39;t do it because it accepts instances of *CharSequence*.\r\n\r\nThere is a *java.util.Currency* that might be useful, but perhaps you will need to handle serialization and deserialization.","title":"Do I need to have an additional validation for a BigDecimal to check if it is a number and not any string in Java?","body":"<p><em>BigDecimal</em> is a number, but it could be 45.465468494456156.</p>\n<p>If you want to restrict the number of decimal places, you will need to define your own validation. <a href=\"https://docs.oracle.com/javaee/7/api/javax/validation/constraints/Pattern.html\" rel=\"nofollow noreferrer\"><em>@Pattern</em></a> won't do it because it accepts instances of <em>CharSequence</em>.</p>\n<p>There is a <em>java.util.Currency</em> that might be useful, but perhaps you will need to handle serialization and deserialization.</p>\n"},{"tags":[],"owner":{"account_id":3533906,"reputation":522,"user_id":2952709,"accept_rate":71,"display_name":"Alex Lemesios"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687952251,"creation_date":1687950770,"answer_id":76572621,"question_id":76572422,"body_markdown":"BigDecimal is a number by definition and can&#39;t be a string . Running the code below will give you `java.lang.NumberFormatException` : \r\n\r\n\r\n\r\n    import java.math.BigDecimal;\r\n    class HelloWorld {\r\n    public static void main(String[] args) {  \r\n        \r\n        BigDecimal test = new BigDecimal(&quot;abcd&quot;);\r\n      \r\n     }\r\n    }\r\n\r\n\r\nAbout decimal places you could use ROUND\r\n\r\n    BigDecimal a = new BigDecimal(&quot;10.12345&quot;);\r\n\r\n    a.setScale(2, BigDecimal.ROUND_UP)\r\n    a.setScale(2, BigDecimal.ROUND_CEILING)\r\n    a.setScale(2, BigDecimal.ROUND_DOWN)\r\n    a.setScale(2, BigDecimal.ROUND_FLOOR)\r\n    a.setScale(2, BigDecimal.ROUND_HALF_DOWN)\r\n    a.setScale(2, BigDecimal.ROUND_HALF_EVEN)\r\n    a.setScale(2, BigDecimal.ROUND_HALF_UP)","title":"Do I need to have an additional validation for a BigDecimal to check if it is a number and not any string in Java?","body":"<p>BigDecimal is a number by definition and can't be a string . Running the code below will give you <code>java.lang.NumberFormatException</code> :</p>\n<pre><code>import java.math.BigDecimal;\nclass HelloWorld {\npublic static void main(String[] args) {  \n    \n    BigDecimal test = new BigDecimal(&quot;abcd&quot;);\n  \n }\n}\n</code></pre>\n<p>About decimal places you could use ROUND</p>\n<pre><code>BigDecimal a = new BigDecimal(&quot;10.12345&quot;);\n\na.setScale(2, BigDecimal.ROUND_UP)\na.setScale(2, BigDecimal.ROUND_CEILING)\na.setScale(2, BigDecimal.ROUND_DOWN)\na.setScale(2, BigDecimal.ROUND_FLOOR)\na.setScale(2, BigDecimal.ROUND_HALF_DOWN)\na.setScale(2, BigDecimal.ROUND_HALF_EVEN)\na.setScale(2, BigDecimal.ROUND_HALF_UP)\n</code></pre>\n"}],"owner":{"account_id":2090997,"reputation":840,"user_id":7516740,"display_name":"elvis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":283,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687952251,"creation_date":1687949214,"question_id":76572422,"body_markdown":"I&#39;m working on a Rest API in Java and Spring Boot and I have a POST request and it contains a request body, an object RequestCustomer and one of the field is of type BigDecimal. I need to do a regex for this variable to accept only numbers, not any other value like for example &quot;abcd&quot;, it should accept only numbers like 100, 75.30, these values represents money. And this variable is of type BigDecimal and I can&#39;t change this variable type. \r\n\r\nI want to use the @Pattern annotation from javax.validation.constraints like this:\r\n\r\n    @Pattern(\r\n       regexp = &quot;...&quot;\r\n    )\r\n    \r\n    @NotNull\r\n    private BigDecimal value;\r\n\r\nIf the variable is of type BigDecimal, do I need to have an additional validation to check if it is a number and not any string? If yes, what regex should I use for that variable to accept only numbers? Any feedback will be apreciated!","title":"Do I need to have an additional validation for a BigDecimal to check if it is a number and not any string in Java?","body":"<p>I'm working on a Rest API in Java and Spring Boot and I have a POST request and it contains a request body, an object RequestCustomer and one of the field is of type BigDecimal. I need to do a regex for this variable to accept only numbers, not any other value like for example &quot;abcd&quot;, it should accept only numbers like 100, 75.30, these values represents money. And this variable is of type BigDecimal and I can't change this variable type.</p>\n<p>I want to use the @Pattern annotation from javax.validation.constraints like this:</p>\n<pre><code>@Pattern(\n   regexp = &quot;...&quot;\n)\n\n@NotNull\nprivate BigDecimal value;\n</code></pre>\n<p>If the variable is of type BigDecimal, do I need to have an additional validation to check if it is a number and not any string? If yes, what regex should I use for that variable to accept only numbers? Any feedback will be apreciated!</p>\n"},{"tags":["java","wildfly","java-11","jmc","jfr"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1599578166,"post_id":63791462,"comment_id":112813445,"body_markdown":"Have you checked if your Corretto JDK contains the module jdk.security.jgss at all?","body":"Have you checked if your Corretto JDK contains the module jdk.security.jgss at all?"},{"owner":{"account_id":431269,"reputation":981,"user_id":815218,"accept_rate":83,"display_name":"sprockets"},"score":0,"creation_date":1599642436,"post_id":63791462,"comment_id":112833436,"body_markdown":"yes it does jdk.security.jgss.jmod","body":"yes it does jdk.security.jgss.jmod"},{"owner":{"account_id":12458416,"reputation":1488,"user_id":9070798,"display_name":"Patrick"},"score":0,"creation_date":1604930918,"post_id":63791462,"comment_id":114489538,"body_markdown":"Maybe an issue with the version you are using?","body":"Maybe an issue with the version you are using?"},{"owner":{"account_id":916182,"reputation":2081,"user_id":948938,"display_name":"Juan Ignacio Barisich"},"score":0,"creation_date":1624913341,"post_id":63791462,"comment_id":120482492,"body_markdown":"Same issue here. Only works on Java 8.","body":"Same issue here. Only works on Java 8."}],"answers":[{"tags":[],"owner":{"account_id":139453,"reputation":3746,"user_id":345057,"accept_rate":96,"display_name":"f4lco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687952242,"creation_date":1687952242,"answer_id":76572799,"question_id":63791462,"body_markdown":"I got the same error and found a solution by putting together the following pieces. From the Oracle documentation:\r\n\r\n&gt; JDK Mission Control (JMC) 8.0 and 8.0.1 starts with Oracle JDK 8 (64-bit), and from JMC 8.1.0 onwards it requires Oracle JDK 11 and later. However, JMC 8 supports Java Management Console (JMX) monitoring and Java Flight Recorder (JFR) profiling of JVMs (JDK 7u40 and later) on any supported platform.\r\n\r\nhttps://www.oracle.com/java/technologies/javase/jmc8-install.html\r\n\r\nFor a working configuration, we will need JDK 8. And because we will be running JDK 8, we will need an old version of the JDK mission control.\r\n\r\nThus, we will avoid `NoClassDefFoundError: org/ietf/jgss/GSSManager`, because JDK 8 puts the class on the classpath by default.\r\n\r\n### Step 1: Grab JDK 8\r\n\r\nDownload and install JDK 8 on your machine. I got it working with Eclipse Temurin.\r\n\r\n### Step 2: Download Java Mission Control 8.0.0\r\n\r\nWe need to find a distributor of the Java Mission Control. I went with Eclipse Mission Control. Find older releases, which still work with Java 8, on the following channels:\r\n\r\n- https://github.com/adoptium/jmc-build/releases/tag/8.0.0\r\n- https://adoptium.net/de/jmc/\r\n\r\n### Step 3: Configure Java Mission Control\r\n\r\nWe need to instruct JMC to use the Java 8, and add the additional JAR from Wildfly.\r\n\r\nLocate `jmc.ini`, and put the following lines in:\r\n\r\nThe `-vm` parameter, followed by newline, followed by the path of the JDK you just downloaded:\r\n\r\n```\r\n-vm\r\n/path/to/your/Java/JavaVirtualMachines/temurin-1.8.0_362/Contents/Home/bin\r\n```\r\n\r\nSecond, a VM option to include the Wildfly JAR:\r\n\r\n```\r\n-Xbootclasspath/a:/path/to/your/wildfly-18.0.1.Final/bin/client/jboss-client.jar\r\n```\r\n\r\nChange the path names to match your local configuration, and insert the `-vm` parameter _above_ `-vmargs`!\r\n\r\nThe following config file shows a full example of `jmc.ini`:\r\n\r\n&lt;pre&gt;&lt;code&gt;-startup\r\n../Eclipse/plugins/org.eclipse.equinox.launcher_1.5.800.v20200727-1323.jar\r\n--launcher.library\r\n../Eclipse/plugins/org.eclipse.equinox.launcher.cocoa.macosx.x86_64_1.1.1300.v20200819-0940\r\n--launcher.appendVmargs\r\n-ws\r\ncocoa\r\n&lt;b&gt;-vm\r\n/path/to/your/Java/JavaVirtualMachines/temurin-1.8.0_362/Contents/Home/bin&lt;/b&gt;\r\n-vmargs\r\n-XX:+IgnoreUnrecognizedVMOptions\r\n-XX:+UnlockDiagnosticVMOptions\r\n-XX:+DebugNonSafepoints\r\n-XX:FlightRecorderOptions=stackdepth=128\r\n-XX:+FlightRecorder\r\n-XX:StartFlightRecording=name=JMC_Default,maxsize=100m\r\n-Djava.net.preferIPv4Stack=true\r\n-Djdk.attach.allowAttachSelf=true\r\n--add-exports=java.xml/com.sun.org.apache.xerces.internal.parsers=ALL-UNNAMED\r\n--add-exports=jdk.internal.jvmstat/sun.jvmstat.monitor=ALL-UNNAMED\r\n--add-exports=java.management/sun.management=ALL-UNNAMED\r\n--add-exports=java.management/sun.management.counter.perf=ALL-UNNAMED\r\n--add-exports=jdk.management.agent/jdk.internal.agent=ALL-UNNAMED\r\n--add-exports=jdk.attach/sun.tools.attach=ALL-UNNAMED\r\n--add-opens=java.base/java.net=ALL-UNNAMED\r\n--add-opens=jdk.attach/sun.tools.attach=ALL-UNNAMED\r\n-Dsun.java.command=JMC\r\n--add-exports=java.desktop/sun.lwawt.macosx=ALL-UNNAMED\r\n-XstartOnFirstThread\r\n-Dorg.eclipse.swt.internal.carbon.smallFonts\r\n&lt;b&gt;-Xbootclasspath/a:/path/to/your/wildfly-18.0.1.Final/bin/client/jboss-client.jar&lt;/b&gt;\r\n&lt;/pre&gt;&lt;/code&gt;\r\n\r\n### Connect\r\n\r\nNow we should be able to connect using a URL like `service:jmx:http-remoting-jmx://localhost:9990`, and with the credentials of a Wildfly management user.\r\n\r\n\r\n\r\n\r\n","title":"Java Mission Control 7 running on Java 11 cannot connect to Wildfly with &quot;jmx:remoting-jmx&quot; protocol","body":"<p>I got the same error and found a solution by putting together the following pieces. From the Oracle documentation:</p>\n<blockquote>\n<p>JDK Mission Control (JMC) 8.0 and 8.0.1 starts with Oracle JDK 8 (64-bit), and from JMC 8.1.0 onwards it requires Oracle JDK 11 and later. However, JMC 8 supports Java Management Console (JMX) monitoring and Java Flight Recorder (JFR) profiling of JVMs (JDK 7u40 and later) on any supported platform.</p>\n</blockquote>\n<p><a href=\"https://www.oracle.com/java/technologies/javase/jmc8-install.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/javase/jmc8-install.html</a></p>\n<p>For a working configuration, we will need JDK 8. And because we will be running JDK 8, we will need an old version of the JDK mission control.</p>\n<p>Thus, we will avoid <code>NoClassDefFoundError: org/ietf/jgss/GSSManager</code>, because JDK 8 puts the class on the classpath by default.</p>\n<h3>Step 1: Grab JDK 8</h3>\n<p>Download and install JDK 8 on your machine. I got it working with Eclipse Temurin.</p>\n<h3>Step 2: Download Java Mission Control 8.0.0</h3>\n<p>We need to find a distributor of the Java Mission Control. I went with Eclipse Mission Control. Find older releases, which still work with Java 8, on the following channels:</p>\n<ul>\n<li><a href=\"https://github.com/adoptium/jmc-build/releases/tag/8.0.0\" rel=\"nofollow noreferrer\">https://github.com/adoptium/jmc-build/releases/tag/8.0.0</a></li>\n<li><a href=\"https://adoptium.net/de/jmc/\" rel=\"nofollow noreferrer\">https://adoptium.net/de/jmc/</a></li>\n</ul>\n<h3>Step 3: Configure Java Mission Control</h3>\n<p>We need to instruct JMC to use the Java 8, and add the additional JAR from Wildfly.</p>\n<p>Locate <code>jmc.ini</code>, and put the following lines in:</p>\n<p>The <code>-vm</code> parameter, followed by newline, followed by the path of the JDK you just downloaded:</p>\n<pre><code>-vm\n/path/to/your/Java/JavaVirtualMachines/temurin-1.8.0_362/Contents/Home/bin\n</code></pre>\n<p>Second, a VM option to include the Wildfly JAR:</p>\n<pre><code>-Xbootclasspath/a:/path/to/your/wildfly-18.0.1.Final/bin/client/jboss-client.jar\n</code></pre>\n<p>Change the path names to match your local configuration, and insert the <code>-vm</code> parameter <em>above</em> <code>-vmargs</code>!</p>\n<p>The following config file shows a full example of <code>jmc.ini</code>:</p>\n<pre><code>-startup\n../Eclipse/plugins/org.eclipse.equinox.launcher_1.5.800.v20200727-1323.jar\n--launcher.library\n../Eclipse/plugins/org.eclipse.equinox.launcher.cocoa.macosx.x86_64_1.1.1300.v20200819-0940\n--launcher.appendVmargs\n-ws\ncocoa\n<b>-vm\n/path/to/your/Java/JavaVirtualMachines/temurin-1.8.0_362/Contents/Home/bin</b>\n-vmargs\n-XX:+IgnoreUnrecognizedVMOptions\n-XX:+UnlockDiagnosticVMOptions\n-XX:+DebugNonSafepoints\n-XX:FlightRecorderOptions=stackdepth=128\n-XX:+FlightRecorder\n-XX:StartFlightRecording=name=JMC_Default,maxsize=100m\n-Djava.net.preferIPv4Stack=true\n-Djdk.attach.allowAttachSelf=true\n--add-exports=java.xml/com.sun.org.apache.xerces.internal.parsers=ALL-UNNAMED\n--add-exports=jdk.internal.jvmstat/sun.jvmstat.monitor=ALL-UNNAMED\n--add-exports=java.management/sun.management=ALL-UNNAMED\n--add-exports=java.management/sun.management.counter.perf=ALL-UNNAMED\n--add-exports=jdk.management.agent/jdk.internal.agent=ALL-UNNAMED\n--add-exports=jdk.attach/sun.tools.attach=ALL-UNNAMED\n--add-opens=java.base/java.net=ALL-UNNAMED\n--add-opens=jdk.attach/sun.tools.attach=ALL-UNNAMED\n-Dsun.java.command=JMC\n--add-exports=java.desktop/sun.lwawt.macosx=ALL-UNNAMED\n-XstartOnFirstThread\n-Dorg.eclipse.swt.internal.carbon.smallFonts\n<b>-Xbootclasspath/a:/path/to/your/wildfly-18.0.1.Final/bin/client/jboss-client.jar</b>\n</pre></code>\n<h3>Connect</h3>\n<p>Now we should be able to connect using a URL like <code>service:jmx:http-remoting-jmx://localhost:9990</code>, and with the credentials of a Wildfly management user.</p>\n"}],"owner":{"account_id":431269,"reputation":981,"user_id":815218,"accept_rate":83,"display_name":"sprockets"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":724,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1687952242,"creation_date":1599558959,"question_id":63791462,"body_markdown":"As far as I can tell, I am having the same issue described here:\r\nhttps://developer.jboss.org/thread/278895 \r\n\r\n(That forum is closed and no additional comments are allowed, their recommendation is to post to SO)\r\n\r\nI am trying to run JMC 7.1.2 on OpenJDK 64-Bit Server VM Corretto-11.0.8.10.1 (build 11.0.8+10-LTS, mixed mode) on my workstation and connect to a remote Wildfly server using the &quot;jmx:remoting-jmx&quot; protocol. This worked for years, but AFAICT does not work in the constellation Java-11 and JMC7.\r\n\r\n\r\nThere is no error about unknown protocol or similar \r\n(Yes, I have already read and followed instructions in:\r\nhttps://stackoverflow.com/questions/56207317/connect-java-mission-control-to-wildfly-16), but I get this error when connecting:\r\n\r\n```\r\norg.openjdk.jmc.rjmx.ConnectionException caused by javax.security.sasl.SaslException: org/ietf/jgss/GSSManager [Caused by java.lang.NoClassDefFoundError: org/ietf/jgss/GSSManager]\r\n\tat org.openjdk.jmc.rjmx.internal.RJMXConnection.connect(RJMXConnection.java:441)\r\n\tat org.openjdk.jmc.rjmx.internal.ServerHandle.doConnect(ServerHandle.java:116)\r\n\tat org.openjdk.jmc.rjmx.internal.ServerHandle.connect(ServerHandle.java:106)\r\n\tat org.openjdk.jmc.console.ui.editor.internal.ConsoleEditor$ConnectJob.run(ConsoleEditor.java:99)\r\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)\r\nCaused by: javax.security.sasl.SaslException: org/ietf/jgss/GSSManager [Caused by java.lang.NoClassDefFoundError: org/ietf/jgss/GSSManager]\r\n\tat org.jboss.remoting3.remote.ClientConnectionOpenListener$Capabilities.handleEvent(ClientConnectionOpenListener.java:426)\r\n\tat org.jboss.remoting3.remote.ClientConnectionOpenListener$Capabilities.handleEvent(ClientConnectionOpenListener.java:242)\r\n\tat org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)\r\n\tat org.xnio.conduits.ReadReadyHandler$ChannelListenerHandler.readReady(ReadReadyHandler.java:66)\r\n\tat org.xnio.nio.NioSocketConduit.handleReady(NioSocketConduit.java:89)\r\n\tat org.xnio.nio.WorkerThread.run(WorkerThread.java:591)\r\n\tat ...asynchronous invocation...(Unknown Source)\r\n\tat org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:599)\r\n\tat org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:561)\r\n\tat org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:549)\r\n\tat org.jboss.remotingjmx.RemotingConnector.internalRemotingConnect(RemotingConnector.java:268)\r\n\tat org.jboss.remotingjmx.RemotingConnector.internalConnect(RemotingConnector.java:156)\r\n\tat org.jboss.remotingjmx.RemotingConnector.connect(RemotingConnector.java:103)\r\n\tat org.openjdk.jmc.rjmx.internal.RJMXConnection.connectJmxConnector(RJMXConnection.java:487)\r\n\tat org.openjdk.jmc.rjmx.internal.RJMXConnection.establishConnection(RJMXConnection.java:464)\r\n\tat org.openjdk.jmc.rjmx.internal.RJMXConnection.connect(RJMXConnection.java:434)\r\n\t... 4 more\r\nCaused by: java.lang.NoClassDefFoundError: org/ietf/jgss/GSSManager\r\n\tat java.base/java.lang.Class.getDeclaredConstructors0(Native Method)\r\n\tat java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3137)\r\n\tat java.base/java.lang.Class.getConstructor0(Class.java:3342)\r\n\tat java.base/java.lang.Class.getConstructor(Class.java:2151)\r\n\tat java.base/java.security.Provider.newInstanceUtil(Provider.java:153)\r\n\tat java.base/java.security.Provider$Service.newInstance(Provider.java:1891)\r\n\tat org.wildfly.security.WildFlyElytronBaseProvider$ProviderService.newInstance(WildFlyElytronBaseProvider.java:218)\r\n\tat org.wildfly.security.sasl.util.SecurityProviderSaslClientFactory.createSaslClient(SecurityProviderSaslClientFactory.java:94)\r\n\tat org.wildfly.security.sasl.util.AbstractDelegatingSaslClientFactory.createSaslClient(AbstractDelegatingSaslClientFactory.java:66)\r\n\tat org.wildfly.security.sasl.util.ProtocolSaslClientFactory.createSaslClient(ProtocolSaslClientFactory.java:50)\r\n\tat org.wildfly.security.sasl.util.AbstractDelegatingSaslClientFactory.createSaslClient(AbstractDelegatingSaslClientFactory.java:66)\r\n\tat org.wildfly.security.sasl.util.ServerNameSaslClientFactory.createSaslClient(ServerNameSaslClientFactory.java:50)\r\n\tat org.wildfly.security.sasl.util.AbstractDelegatingSaslClientFactory.createSaslClient(AbstractDelegatingSaslClientFactory.java:66)\r\n\tat org.wildfly.security.sasl.util.ServerNameSaslClientFactory.createSaslClient(ServerNameSaslClientFactory.java:50)\r\n\tat org.wildfly.security.sasl.util.FilterMechanismSaslClientFactory.createSaslClient(FilterMechanismSaslClientFactory.java:102)\r\n\tat org.wildfly.security.sasl.util.AbstractDelegatingSaslClientFactory.createSaslClient(AbstractDelegatingSaslClientFactory.java:66)\r\n\tat org.wildfly.security.sasl.util.LocalPrincipalSaslClientFactory.createSaslClient(LocalPrincipalSaslClientFactory.java:76)\r\n\tat org.wildfly.security.sasl.util.PrivilegedSaslClientFactory.lambda$createSaslClient$0(PrivilegedSaslClientFactory.java:64)\r\n\tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\tat org.wildfly.security.sasl.util.PrivilegedSaslClientFactory.createSaslClient(PrivilegedSaslClientFactory.java:64)\r\n\tat org.wildfly.security.auth.client.AuthenticationConfiguration.createSaslClient(AuthenticationConfiguration.java:1496)\r\n\tat org.wildfly.security.auth.client.AuthenticationContextConfigurationClient.createSaslClient(AuthenticationContextConfigurationClient.java:408)\r\n\tat org.jboss.remoting3.remote.ClientConnectionOpenListener$Capabilities.handleEvent(ClientConnectionOpenListener.java:420)\r\n\tat org.jboss.remoting3.remote.ClientConnectionOpenListener$Capabilities.handleEvent(ClientConnectionOpenListener.java:242)\r\n\tat org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)\r\n\tat org.xnio.conduits.ReadReadyHandler$ChannelListenerHandler.readReady(ReadReadyHandler.java:66)\r\n\tat org.xnio.nio.NioSocketConduit.handleReady(NioSocketConduit.java:89)\r\n\tat org.xnio.nio.WorkerThread.run(WorkerThread.java:591)\r\n```\r\n\r\nIf I use OpenJDK 8 with JMC 7 then it works (that is, I can connect and also read jfr files created with jdk11) but is that really the only way to get this configuration to work?\r\n","title":"Java Mission Control 7 running on Java 11 cannot connect to Wildfly with &quot;jmx:remoting-jmx&quot; protocol","body":"<p>As far as I can tell, I am having the same issue described here:\n<a href=\"https://developer.jboss.org/thread/278895\" rel=\"nofollow noreferrer\">https://developer.jboss.org/thread/278895</a></p>\n<p>(That forum is closed and no additional comments are allowed, their recommendation is to post to SO)</p>\n<p>I am trying to run JMC 7.1.2 on OpenJDK 64-Bit Server VM Corretto-11.0.8.10.1 (build 11.0.8+10-LTS, mixed mode) on my workstation and connect to a remote Wildfly server using the &quot;jmx:remoting-jmx&quot; protocol. This worked for years, but AFAICT does not work in the constellation Java-11 and JMC7.</p>\n<p>There is no error about unknown protocol or similar\n(Yes, I have already read and followed instructions in:\n<a href=\"https://stackoverflow.com/questions/56207317/connect-java-mission-control-to-wildfly-16\">Connect Java Mission Control to Wildfly 16</a>), but I get this error when connecting:</p>\n<pre><code>org.openjdk.jmc.rjmx.ConnectionException caused by javax.security.sasl.SaslException: org/ietf/jgss/GSSManager [Caused by java.lang.NoClassDefFoundError: org/ietf/jgss/GSSManager]\n    at org.openjdk.jmc.rjmx.internal.RJMXConnection.connect(RJMXConnection.java:441)\n    at org.openjdk.jmc.rjmx.internal.ServerHandle.doConnect(ServerHandle.java:116)\n    at org.openjdk.jmc.rjmx.internal.ServerHandle.connect(ServerHandle.java:106)\n    at org.openjdk.jmc.console.ui.editor.internal.ConsoleEditor$ConnectJob.run(ConsoleEditor.java:99)\n    at org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)\nCaused by: javax.security.sasl.SaslException: org/ietf/jgss/GSSManager [Caused by java.lang.NoClassDefFoundError: org/ietf/jgss/GSSManager]\n    at org.jboss.remoting3.remote.ClientConnectionOpenListener$Capabilities.handleEvent(ClientConnectionOpenListener.java:426)\n    at org.jboss.remoting3.remote.ClientConnectionOpenListener$Capabilities.handleEvent(ClientConnectionOpenListener.java:242)\n    at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)\n    at org.xnio.conduits.ReadReadyHandler$ChannelListenerHandler.readReady(ReadReadyHandler.java:66)\n    at org.xnio.nio.NioSocketConduit.handleReady(NioSocketConduit.java:89)\n    at org.xnio.nio.WorkerThread.run(WorkerThread.java:591)\n    at ...asynchronous invocation...(Unknown Source)\n    at org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:599)\n    at org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:561)\n    at org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:549)\n    at org.jboss.remotingjmx.RemotingConnector.internalRemotingConnect(RemotingConnector.java:268)\n    at org.jboss.remotingjmx.RemotingConnector.internalConnect(RemotingConnector.java:156)\n    at org.jboss.remotingjmx.RemotingConnector.connect(RemotingConnector.java:103)\n    at org.openjdk.jmc.rjmx.internal.RJMXConnection.connectJmxConnector(RJMXConnection.java:487)\n    at org.openjdk.jmc.rjmx.internal.RJMXConnection.establishConnection(RJMXConnection.java:464)\n    at org.openjdk.jmc.rjmx.internal.RJMXConnection.connect(RJMXConnection.java:434)\n    ... 4 more\nCaused by: java.lang.NoClassDefFoundError: org/ietf/jgss/GSSManager\n    at java.base/java.lang.Class.getDeclaredConstructors0(Native Method)\n    at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3137)\n    at java.base/java.lang.Class.getConstructor0(Class.java:3342)\n    at java.base/java.lang.Class.getConstructor(Class.java:2151)\n    at java.base/java.security.Provider.newInstanceUtil(Provider.java:153)\n    at java.base/java.security.Provider$Service.newInstance(Provider.java:1891)\n    at org.wildfly.security.WildFlyElytronBaseProvider$ProviderService.newInstance(WildFlyElytronBaseProvider.java:218)\n    at org.wildfly.security.sasl.util.SecurityProviderSaslClientFactory.createSaslClient(SecurityProviderSaslClientFactory.java:94)\n    at org.wildfly.security.sasl.util.AbstractDelegatingSaslClientFactory.createSaslClient(AbstractDelegatingSaslClientFactory.java:66)\n    at org.wildfly.security.sasl.util.ProtocolSaslClientFactory.createSaslClient(ProtocolSaslClientFactory.java:50)\n    at org.wildfly.security.sasl.util.AbstractDelegatingSaslClientFactory.createSaslClient(AbstractDelegatingSaslClientFactory.java:66)\n    at org.wildfly.security.sasl.util.ServerNameSaslClientFactory.createSaslClient(ServerNameSaslClientFactory.java:50)\n    at org.wildfly.security.sasl.util.AbstractDelegatingSaslClientFactory.createSaslClient(AbstractDelegatingSaslClientFactory.java:66)\n    at org.wildfly.security.sasl.util.ServerNameSaslClientFactory.createSaslClient(ServerNameSaslClientFactory.java:50)\n    at org.wildfly.security.sasl.util.FilterMechanismSaslClientFactory.createSaslClient(FilterMechanismSaslClientFactory.java:102)\n    at org.wildfly.security.sasl.util.AbstractDelegatingSaslClientFactory.createSaslClient(AbstractDelegatingSaslClientFactory.java:66)\n    at org.wildfly.security.sasl.util.LocalPrincipalSaslClientFactory.createSaslClient(LocalPrincipalSaslClientFactory.java:76)\n    at org.wildfly.security.sasl.util.PrivilegedSaslClientFactory.lambda$createSaslClient$0(PrivilegedSaslClientFactory.java:64)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at org.wildfly.security.sasl.util.PrivilegedSaslClientFactory.createSaslClient(PrivilegedSaslClientFactory.java:64)\n    at org.wildfly.security.auth.client.AuthenticationConfiguration.createSaslClient(AuthenticationConfiguration.java:1496)\n    at org.wildfly.security.auth.client.AuthenticationContextConfigurationClient.createSaslClient(AuthenticationContextConfigurationClient.java:408)\n    at org.jboss.remoting3.remote.ClientConnectionOpenListener$Capabilities.handleEvent(ClientConnectionOpenListener.java:420)\n    at org.jboss.remoting3.remote.ClientConnectionOpenListener$Capabilities.handleEvent(ClientConnectionOpenListener.java:242)\n    at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)\n    at org.xnio.conduits.ReadReadyHandler$ChannelListenerHandler.readReady(ReadReadyHandler.java:66)\n    at org.xnio.nio.NioSocketConduit.handleReady(NioSocketConduit.java:89)\n    at org.xnio.nio.WorkerThread.run(WorkerThread.java:591)\n</code></pre>\n<p>If I use OpenJDK 8 with JMC 7 then it works (that is, I can connect and also read jfr files created with jdk11) but is that really the only way to get this configuration to work?</p>\n"},{"tags":["java","spring","spring-boot","spring-security","keycloak"],"comments":[{"owner":{"account_id":20251935,"reputation":6409,"user_id":14852784,"display_name":"J. M. Arnold"},"score":0,"creation_date":1687453600,"post_id":76534031,"comment_id":134942462,"body_markdown":"On a slight off-topic note (as it couldn&#39;t be seen in the dependencies), I&#39;m using Maven.","body":"On a slight off-topic note (as it couldn&#39;t be seen in the dependencies), I&#39;m using Maven."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1687466607,"post_id":76534031,"comment_id":134944908,"body_markdown":"I suggest you have a look at [my tutorials](https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials), **starting with the OAuth2 essential section of the introduction readme**. All samples and tutorials work with Keycloak (with and without &quot;my&quot; starters).","body":"I suggest you have a look at <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials\" rel=\"nofollow noreferrer\">my tutorials</a>, <b>starting with the OAuth2 essential section of the introduction readme</b>. All samples and tutorials work with Keycloak (with and without &quot;my&quot; starters)."},{"owner":{"account_id":20251935,"reputation":6409,"user_id":14852784,"display_name":"J. M. Arnold"},"score":0,"creation_date":1687469853,"post_id":76534031,"comment_id":134945476,"body_markdown":"Thanks @ch4mp! I&#39;ve went through your material and it seems like an in-depth explanation of the topic. Though my question remains: Aren&#39;t there any small configurations (such as all the &quot;old&quot; tutorials imply) to basic test JWT tokens issued by KeyCloak? I just want to test securing some endpoints and go on from there...","body":"Thanks @ch4mp! I&#39;ve went through your material and it seems like an in-depth explanation of the topic. Though my question remains: Aren&#39;t there any small configurations (such as all the &quot;old&quot; tutorials imply) to basic test JWT tokens issued by KeyCloak? I just want to test securing some endpoints and go on from there..."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1687471366,"post_id":76534031,"comment_id":134945640,"body_markdown":"It is certainly not &quot;in depth&quot;. If you don&#39;t master these essentials, you&#39;ll have no idea of what you are actually configuring (and why your app doesn&#39;t behave as you expect). If you mean something simpler than [that](https://github.com/ch4mpy/spring-addons/tree/master/samples/webmvc-jwt-default), no.","body":"It is certainly not &quot;in depth&quot;. If you don&#39;t master these essentials, you&#39;ll have no idea of what you are actually configuring (and why your app doesn&#39;t behave as you expect). If you mean something simpler than <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/webmvc-jwt-default\" rel=\"nofollow noreferrer\">that</a>, no."},{"owner":{"account_id":20251935,"reputation":6409,"user_id":14852784,"display_name":"J. M. Arnold"},"score":0,"creation_date":1687522026,"post_id":76534031,"comment_id":134952390,"body_markdown":"Out of curiosity, why do you accept identities issued by 3 different OIDC authorization-servers? Like in most set-ups you use one server (e.g. setting up KeyCloak for my project)? @ch4mp","body":"Out of curiosity, why do you accept identities issued by 3 different OIDC authorization-servers? Like in most set-ups you use one server (e.g. setting up KeyCloak for my project)? @ch4mp"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1687543494,"post_id":76534031,"comment_id":134957129,"body_markdown":"I have projects with separate OpenID Providers for &quot;corporate users&quot; and &quot;clients&quot;. I have others where most APIs (resource server) accept identities from a &quot;relaxed&quot; (public) OP, but some critical APIs (healthcare) require identities from an OP with reinforced security (multi-factor authentication and firewall making the OP accessible from the local network only). Last, I have cases where a client uses a main OP to communicate with &quot;my&quot; resource servers and maintain a Google identity to issue direct calls to Google APIs.","body":"I have projects with separate OpenID Providers for &quot;corporate users&quot; and &quot;clients&quot;. I have others where most APIs (resource server) accept identities from a &quot;relaxed&quot; (public) OP, but some critical APIs (healthcare) require identities from an OP with reinforced security (multi-factor authentication and firewall making the OP accessible from the local network only). Last, I have cases where a client uses a main OP to communicate with &quot;my&quot; resource servers and maintain a Google identity to issue direct calls to Google APIs."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1687543642,"post_id":76534031,"comment_id":134957167,"body_markdown":"In the specific case of these tutorials, it has a double benefit: demoes that multi-tenancy is rather easy to achieve and illustrates working configuration for 3 of the most frequently used OPs.","body":"In the specific case of these tutorials, it has a double benefit: demoes that multi-tenancy is rather easy to achieve and illustrates working configuration for 3 of the most frequently used OPs."},{"owner":{"account_id":20251935,"reputation":6409,"user_id":14852784,"display_name":"J. M. Arnold"},"score":0,"creation_date":1687602716,"post_id":76534031,"comment_id":134962025,"body_markdown":"But in reality, it would be most likely to just implement one provider, right? I mean if KeyCloak is properly configured, it would suffice? @ch4mp","body":"But in reality, it would be most likely to just implement one provider, right? I mean if KeyCloak is properly configured, it would suffice? @ch4mp"},{"owner":{"account_id":20251935,"reputation":6409,"user_id":14852784,"display_name":"J. M. Arnold"},"score":0,"creation_date":1687608505,"post_id":76534031,"comment_id":134962529,"body_markdown":"Furthermore, do you have a tutorial on how to use advanced log-in methods like &quot;Log-in with Google&quot;, &quot;Apple Log-In&quot; and so forth? Preferably with KeyCloak? Like similar to your current tutorials.","body":"Furthermore, do you have a tutorial on how to use advanced log-in methods like &quot;Log-in with Google&quot;, &quot;Apple Log-In&quot; and so forth? Preferably with KeyCloak? Like similar to your current tutorials."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1687620433,"post_id":76534031,"comment_id":134963757,"body_markdown":"No, and no. When different groups of resource servers trust different authorization servers, OAuth2 clients have to maintain access tokens for each of this groups. For instance, an app calling both a corporate API trusting corporate Keycloak and Google APIs trusting its own authorization server (you can&#39;t call Google API with a token issued by your Keycloak, even if it was using &quot;Log-in with Google&quot;). You&#39;ll find how to configure &quot;Log-in with Google&quot; in Keycloak in docs and on many tutorials, but not in mine: it is not related to Spring.","body":"No, and no. When different groups of resource servers trust different authorization servers, OAuth2 clients have to maintain access tokens for each of this groups. For instance, an app calling both a corporate API trusting corporate Keycloak and Google APIs trusting its own authorization server (you can&#39;t call Google API with a token issued by your Keycloak, even if it was using &quot;Log-in with Google&quot;). You&#39;ll find how to configure &quot;Log-in with Google&quot; in Keycloak in docs and on many tutorials, but not in mine: it is not related to Spring."},{"owner":{"account_id":20251935,"reputation":6409,"user_id":14852784,"display_name":"J. M. Arnold"},"score":0,"creation_date":1687632557,"post_id":76534031,"comment_id":134965112,"body_markdown":"But for my understanding: We’re currently developing a back-end for multiple front-ends (an app, websites, etc.) - but everything internal. In such a set-up one would need one authorization server (like Keycloak) and that would suffice? Or am I misunderstanding this..? Can you give a concrete example of where two or more OPs are useful?","body":"But for my understanding: We’re currently developing a back-end for multiple front-ends (an app, websites, etc.) - but everything internal. In such a set-up one would need one authorization server (like Keycloak) and that would suffice? Or am I misunderstanding this..? Can you give a concrete example of where two or more OPs are useful?"},{"owner":{"account_id":20251935,"reputation":6409,"user_id":14852784,"display_name":"J. M. Arnold"},"score":0,"creation_date":1687632606,"post_id":76534031,"comment_id":134965115,"body_markdown":"Furthermore, do you want to add your answer to my question? I’d like to upvote and accept it. Your tutorial only uses a few deprecated methods (in comparison to most non-working tutorials)! @ch4mp","body":"Furthermore, do you want to add your answer to my question? I’d like to upvote and accept it. Your tutorial only uses a few deprecated methods (in comparison to most non-working tutorials)! @ch4mp"}],"answers":[{"tags":[],"owner":{"account_id":4329546,"reputation":494,"user_id":3535421,"display_name":"dasniko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687952048,"creation_date":1687952048,"answer_id":76572781,"question_id":76534031,"body_markdown":"If your Spring app just acts as an resource server, see my example here:\r\nhttps://github.com/dasniko/keycloak-bookshop-demo/tree/master/msgbroker\r\n\r\nIn the dependencies, there&#39;s just the `org.springframework.boot:spring-boot-starter-oauth2-resource-server`.  \r\nThe `application.properties` just need the `spring.security.oauth2.resourceserver.jwt.issuer-uri` configured and the [SecurityConfig](https://github.com/dasniko/keycloak-bookshop-demo/blob/master/msgbroker/src/main/java/dasniko/keycloak/shop/broker/SecurityConfig.java) class is also small and lean.","title":"How to integrate Keycloak into simple Spring Boot back-end with Spring Security?","body":"<p>If your Spring app just acts as an resource server, see my example here:\n<a href=\"https://github.com/dasniko/keycloak-bookshop-demo/tree/master/msgbroker\" rel=\"nofollow noreferrer\">https://github.com/dasniko/keycloak-bookshop-demo/tree/master/msgbroker</a></p>\n<p>In the dependencies, there's just the <code>org.springframework.boot:spring-boot-starter-oauth2-resource-server</code>.<br />\nThe <code>application.properties</code> just need the <code>spring.security.oauth2.resourceserver.jwt.issuer-uri</code> configured and the <a href=\"https://github.com/dasniko/keycloak-bookshop-demo/blob/master/msgbroker/src/main/java/dasniko/keycloak/shop/broker/SecurityConfig.java\" rel=\"nofollow noreferrer\">SecurityConfig</a> class is also small and lean.</p>\n"}],"owner":{"account_id":20251935,"reputation":6409,"user_id":14852784,"display_name":"J. M. Arnold"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":901,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76572781,"answer_count":1,"score":2,"last_activity_date":1687952048,"creation_date":1687452305,"question_id":76534031,"body_markdown":"I&#39;m currently trying to implement security for a simple Spring Boot Back-End application. For that I intended to use Keycloak in combination with Spring Security. After trying a dozens of tutorial set-ups (just a basic filter / SecurityConfig), I&#39;m left clueless as to why the `SecurityFilterChain` won&#39;t work.\r\n\r\nAs a reference - the following are my dependencies:\r\n\r\n - org.springframework.boot:spring-boot-starter:3.1.0\r\n -  org.springframework.boot:spring-boot-starter-web:3.1.0\r\n -  org.springframework.boot:spring-boot-starter-oauth2-client:3.1.0\r\n -  org.springframework.boot:spring-boot-starter-security:3.1.0\r\n -  org.springframework.boot:spring-boot-starter-oauth2-resource-server:3.1.0\r\n -  org.projectlombok:lombok:1.18.26\r\n -  org.springframework.boot:spring-boot-starter-test:3.1.0\r\n\r\nall with Spring Boot 3.1.0! Due to the fact that the online material was from the last two years, I also tried different versions through (e.g. `&lt;spring-security.version&gt;6.1.1&lt;/spring-security.version&gt;`, etc.)\r\n\r\nAs to my `application.properties` I added the most basic set-up:\r\n\r\n    spring.security.oauth2.client.registration.keycloak.client-id=[client-id]\r\n    spring.security.oauth2.client.registration.keycloak.authorization-grant-type=authorization_code\r\n    spring.security.oauth2.client.registration.keycloak.scope=openid\r\n    spring.security.oauth2.client.provider.keycloak.issuer-uri=http://localhost:8080/realms/dev\r\n    spring.security.oauth2.client.provider.keycloak.user-name-attribute=preferred_username\r\n\r\nThat&#39;s that! Now onto the different approaches I&#39;ve went through *unsuccessfully*:\r\n\r\n[**1. Tutorial from Baeldung**][1] \r\n\r\nOn there it specified the SecurityConfig to be used with a `@Bean` returning a `SecurityFilterChain`:\r\n\r\n```\r\n @Bean\r\n public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n     http.authorizeRequests()\r\n             .antMatchers(&quot;/customers*&quot;)\r\n             .hasRole(&quot;USER&quot;)\r\n             .anyRequest()\r\n             .permitAll();\r\n     http.oauth2Login()\r\n             .and()\r\n             .logout()\r\n             .addLogoutHandler(keycloakLogoutHandler)\r\n             .logoutSuccessUrl(&quot;/&quot;);\r\n     http.oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt);\r\n     return http.build();\r\n }\r\n```\r\n... Apparently, `&#39;authorizeRequests()&#39;` is deprecated. Same applies for `&#39;oauth2Login()&#39;` (even marked for removal)!\r\n\r\n[**2. GitHub Issue #10187 discussion**][2]\r\n\r\nIn the before-mentioned issue, a in-depth discussion broke out with lots of members sharing their code snippet. It&#39;s a very recent topic (2022) and thus I thought it would still apply to current standards.\r\n\r\n```\r\n@Configuration\r\n@RequiredArgsConstructor\r\nclass WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    private final KeycloakLogoutHandler keycloakLogoutHandler;\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.authorizeRequests() //\r\n                .anyRequest().fullyAuthenticated() //\r\n                .and().oauth2Client() //\r\n                .and().oauth2Login().tokenEndpoint().and().userInfoEndpoint().userAuthoritiesMapper(userAuthoritiesMapper()) //\r\n                .and().and()\r\n                .logout().addLogoutHandler(keycloakLogoutHandler)\r\n        ;\r\n    }\r\n\r\n    private GrantedAuthoritiesMapper userAuthoritiesMapper() {\r\n    [...]\r\n```\r\nI played with something along those lines. Again... Besides the known culprits marked as `deprecated` (`oauth2Client()`, `oauth2Login()`, etc.) the big issue was [`WebSecurityConfigurerAdapter`][3] is **ALSO** deprecated. When opening [issue #12514][4] I was then informed that I should proceed with a `SecurityFilterChain` similar to the first approach.\r\n\r\n\r\nEither way, I&#39;ve burnt through approximately 10+ tutorials now and am not able to find one working project which is - considering the size of KeyCloak - very odd. The only good information I found was that the old [KeyCloak adapters were deprecated][5] as of last year... though I haven&#39;t used them as you can see above.\r\n\r\n**Is anyone able to help me out?** I want to set-up a **SIMPLE** `SecurityConfig` to build by base upon. Just fetching the bearer token (btw KeyCloak related set-up works) from the request, then validating the JWT and comparing the user roles / permissions to the needed role on an endpoint *(preferably not a global setting, but a local one per endpoint basis)*.\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-boot-keycloak\r\n  [2]: https://github.com/keycloak/keycloak/discussions/10187#discussioncomment-2203263\r\n  [3]: https://docs.spring.io/spring-security/site/docs/5.7.0-M2/api/org/springframework/security/config/annotation/web/configuration/WebSecurityConfigurerAdapter.html\r\n  [4]: https://github.com/keycloak/keycloak/issues/12514\r\n  [5]: https://www.keycloak.org/2023/03/adapter-deprecation-update.html","title":"How to integrate Keycloak into simple Spring Boot back-end with Spring Security?","body":"<p>I'm currently trying to implement security for a simple Spring Boot Back-End application. For that I intended to use Keycloak in combination with Spring Security. After trying a dozens of tutorial set-ups (just a basic filter / SecurityConfig), I'm left clueless as to why the <code>SecurityFilterChain</code> won't work.</p>\n<p>As a reference - the following are my dependencies:</p>\n<ul>\n<li>org.springframework.boot:spring-boot-starter:3.1.0</li>\n<li>org.springframework.boot:spring-boot-starter-web:3.1.0</li>\n<li>org.springframework.boot:spring-boot-starter-oauth2-client:3.1.0</li>\n<li>org.springframework.boot:spring-boot-starter-security:3.1.0</li>\n<li>org.springframework.boot:spring-boot-starter-oauth2-resource-server:3.1.0</li>\n<li>org.projectlombok:lombok:1.18.26</li>\n<li>org.springframework.boot:spring-boot-starter-test:3.1.0</li>\n</ul>\n<p>all with Spring Boot 3.1.0! Due to the fact that the online material was from the last two years, I also tried different versions through (e.g. <code>&lt;spring-security.version&gt;6.1.1&lt;/spring-security.version&gt;</code>, etc.)</p>\n<p>As to my <code>application.properties</code> I added the most basic set-up:</p>\n<pre><code>spring.security.oauth2.client.registration.keycloak.client-id=[client-id]\nspring.security.oauth2.client.registration.keycloak.authorization-grant-type=authorization_code\nspring.security.oauth2.client.registration.keycloak.scope=openid\nspring.security.oauth2.client.provider.keycloak.issuer-uri=http://localhost:8080/realms/dev\nspring.security.oauth2.client.provider.keycloak.user-name-attribute=preferred_username\n</code></pre>\n<p>That's that! Now onto the different approaches I've went through <em>unsuccessfully</em>:</p>\n<p><a href=\"https://www.baeldung.com/spring-boot-keycloak\" rel=\"nofollow noreferrer\"><strong>1. Tutorial from Baeldung</strong></a></p>\n<p>On there it specified the SecurityConfig to be used with a <code>@Bean</code> returning a <code>SecurityFilterChain</code>:</p>\n<pre><code> @Bean\n public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n     http.authorizeRequests()\n             .antMatchers(&quot;/customers*&quot;)\n             .hasRole(&quot;USER&quot;)\n             .anyRequest()\n             .permitAll();\n     http.oauth2Login()\n             .and()\n             .logout()\n             .addLogoutHandler(keycloakLogoutHandler)\n             .logoutSuccessUrl(&quot;/&quot;);\n     http.oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt);\n     return http.build();\n }\n</code></pre>\n<p>... Apparently, <code>'authorizeRequests()'</code> is deprecated. Same applies for <code>'oauth2Login()'</code> (even marked for removal)!</p>\n<p><a href=\"https://github.com/keycloak/keycloak/discussions/10187#discussioncomment-2203263\" rel=\"nofollow noreferrer\"><strong>2. GitHub Issue #10187 discussion</strong></a></p>\n<p>In the before-mentioned issue, a in-depth discussion broke out with lots of members sharing their code snippet. It's a very recent topic (2022) and thus I thought it would still apply to current standards.</p>\n<pre><code>@Configuration\n@RequiredArgsConstructor\nclass WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    private final KeycloakLogoutHandler keycloakLogoutHandler;\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.authorizeRequests() //\n                .anyRequest().fullyAuthenticated() //\n                .and().oauth2Client() //\n                .and().oauth2Login().tokenEndpoint().and().userInfoEndpoint().userAuthoritiesMapper(userAuthoritiesMapper()) //\n                .and().and()\n                .logout().addLogoutHandler(keycloakLogoutHandler)\n        ;\n    }\n\n    private GrantedAuthoritiesMapper userAuthoritiesMapper() {\n    [...]\n</code></pre>\n<p>I played with something along those lines. Again... Besides the known culprits marked as <code>deprecated</code> (<code>oauth2Client()</code>, <code>oauth2Login()</code>, etc.) the big issue was <a href=\"https://docs.spring.io/spring-security/site/docs/5.7.0-M2/api/org/springframework/security/config/annotation/web/configuration/WebSecurityConfigurerAdapter.html\" rel=\"nofollow noreferrer\"><code>WebSecurityConfigurerAdapter</code></a> is <strong>ALSO</strong> deprecated. When opening <a href=\"https://github.com/keycloak/keycloak/issues/12514\" rel=\"nofollow noreferrer\">issue #12514</a> I was then informed that I should proceed with a <code>SecurityFilterChain</code> similar to the first approach.</p>\n<p>Either way, I've burnt through approximately 10+ tutorials now and am not able to find one working project which is - considering the size of KeyCloak - very odd. The only good information I found was that the old <a href=\"https://www.keycloak.org/2023/03/adapter-deprecation-update.html\" rel=\"nofollow noreferrer\">KeyCloak adapters were deprecated</a> as of last year... though I haven't used them as you can see above.</p>\n<p><strong>Is anyone able to help me out?</strong> I want to set-up a <strong>SIMPLE</strong> <code>SecurityConfig</code> to build by base upon. Just fetching the bearer token (btw KeyCloak related set-up works) from the request, then validating the JWT and comparing the user roles / permissions to the needed role on an endpoint <em>(preferably not a global setting, but a local one per endpoint basis)</em>.</p>\n"},{"tags":["java","spring-boot","soap","marshalling","soap-client"],"comments":[{"owner":{"account_id":11523649,"reputation":23,"user_id":19555541,"display_name":"P D"},"score":1,"creation_date":1687951744,"post_id":76572717,"comment_id":135007997,"body_markdown":"Ugh, this really is due to the 3.1.0 version of Spring that I am using here.\nAfter changing to 2.7.9, the tests are successful. \nAnyways I would like to know how to get this to run with the newer Spring version.","body":"Ugh, this really is due to the 3.1.0 version of Spring that I am using here. After changing to 2.7.9, the tests are successful.  Anyways I would like to know how to get this to run with the newer Spring version."}],"owner":{"account_id":11523649,"reputation":23,"user_id":19555541,"display_name":"P D"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":339,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687951545,"creation_date":1687951545,"question_id":76572717,"body_markdown":"I am trying to create a Java Spring Boot SOAP client.\r\nI followed this instruction: https://www.baeldung.com/spring-soap-web-service\r\n\r\nI am using Java 17 with Spring 3.1.0.\r\n\r\nThe basic steps are:\r\n1. generate classes from wsdl\r\n - here I did a minor change to the instruction. I change the generate directory to:    \r\n${project.basedir}/target/generate-sources, so that I do not have generated files as part of my project\r\n - this is not the source of the problem though, since I changed it to the value from the instruction (src/main/java) and nothing changed\r\n\r\nThis is the part of my pom file\r\n\r\n```\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.14.0&lt;/version&gt;\r\n\t&lt;executions&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t\t&lt;goals&gt;\r\n\t\t\t\t&lt;goal&gt;generate&lt;/goal&gt;\r\n\t\t\t&lt;/goals&gt;\r\n\t\t&lt;/execution&gt;\r\n\t&lt;/executions&gt;\r\n\t&lt;configuration&gt;\r\n\t\t&lt;schemaLanguage&gt;WSDL&lt;/schemaLanguage&gt;\r\n\t\t&lt;generateDirectory&gt;${project.basedir}/target/generate-sources&lt;/generateDirectory&gt;\r\n\t\t&lt;generatePackage&gt;de.mat.test.country&lt;/generatePackage&gt;\r\n\t\t&lt;schemaDirectory&gt;${project.basedir}/src/main/resources/wsdl&lt;/schemaDirectory&gt;\r\n\t\t&lt;schemaIncludes&gt;\r\n\t\t\t&lt;include&gt;countries.wsdl&lt;/include&gt;\r\n\t\t&lt;/schemaIncludes&gt;\r\n\t&lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nThe class generation works fine as I can import and use the classes in the following classes.\r\n\r\n2. I created Client &amp; ClientConfig with the following code\r\n\r\n```\r\npublic class CountryClient extends WebServiceGatewaySupport {\r\n\r\n  public GetCountryResponse getCountry(String country) {\r\n    GetCountryRequest request = new GetCountryRequest();\r\n    request.setName(country);\r\n\r\n    var webServiceTemplate = getWebServiceTemplate();\r\n    var response = webServiceTemplate.marshalSendAndReceive(request);\r\n    GetCountryResponse getCountryResponse = (GetCountryResponse) response;\r\n    return getCountryResponse;\r\n  }\r\n}\r\n```\r\n\r\n\r\n```\r\n@Configuration\r\npublic class CountryClientConfig {\r\n\r\n    @Bean\r\n    public Jaxb2Marshaller marshaller() {\r\n        Jaxb2Marshaller marshaller = new Jaxb2Marshaller();\r\n        marshaller.setContextPath(&quot;de.mat.test.country&quot;); // this is the only thing changed here\r\n        return marshaller;\r\n    }\r\n\r\n    @Bean\r\n    public CountryClient countryClient(Jaxb2Marshaller marshaller) {\r\n        CountryClient client = new CountryClient();\r\n        client.setDefaultUri(&quot;http://localhost:8080/ws&quot;);\r\n        client.setMarshaller(marshaller);\r\n        client.setUnmarshaller(marshaller);\r\n        return client;\r\n    }\r\n}\r\n```\r\n\r\n3. Finally I created the test class, with a change to the annotation due to newer spring version\r\n\r\n\r\n```\r\n@SpringBootTest // this was @RunWith(SpringJUnit4ClassRunner.class)\r\n@ContextConfiguration(classes = CountryClientConfig.class, loader = AnnotationConfigContextLoader.class)\r\npublic class ClientLiveTest {\r\n\r\n    @Autowired\r\n    CountryClient client;\r\n\r\n    @Test\r\n    public void givenCountryService_whenCountryGermany_thenCapitalIsBerlin() {\r\n        GetCountryResponse response = client.getCountry(&quot;GER&quot;);\r\n        assertEquals(&quot;BLN&quot;, response.getCountry().getCapital());\r\n    }\r\n\r\n    @Test\r\n    public void givenCountryService_whenCountrySpain_thenCurrencyEUR() {\r\n        GetCountryResponse response = client.getCountry(&quot;ESP&quot;);\r\n        assertEquals(Currency.EUR, response.getCountry().getCurrency());\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\nAfter doing all this and running the test I get an JAXB exception:\r\n```\r\norg.springframework.oxm.UncategorizedMappingException: Unknown JAXB exception\r\n at org.springframework.oxm.jaxb.Jaxb2Marshaller.convertJaxbException(Jaxb2Marshaller.java:958)\r\n at org.springframework.oxm.jaxb.Jaxb2Marshaller.marshal(Jaxb2Marshaller.java:716)\r\n at org.springframework.ws.support.MarshallingUtils.marshal(MarshallingUtils.java:80)\r\n at org.springframework.ws.client.core.WebServiceTemplate$2.doWithMessage(WebServiceTemplate.java:399)\r\n at org.springframework.ws.client.core.WebServiceTemplate.doSendAndReceive(WebServiceTemplate.java:569)\r\n at org.springframework.ws.client.core.WebServiceTemplate.sendAndReceive(WebServiceTemplate.java:539)\r\n at org.springframework.ws.client.core.WebServiceTemplate.marshalSendAndReceive(WebServiceTemplate.java:391)\r\n at org.springframework.ws.client.core.WebServiceTemplate.marshalSendAndReceive(WebServiceTemplate.java:385)\r\n at org.springframework.ws.client.core.WebServiceTemplate.marshalSendAndReceive(WebServiceTemplate.java:375)\r\n at de.mat.test.client.CountryClient2.getCountry(CountryClient2.java:15)\r\n at de.mat.test.ClientLiveTest.givenCountryService_whenCountrySpain_thenCurrencyEUR(ClientLiveTest.java:31)\r\n at java.base/java.util.ArrayList.forEach(Unknown Source)\r\n at java.base/java.util.ArrayList.forEach(Unknown Source)\r\nCaused by: jakarta.xml.bind.JAXBException: class de.mat.test.country.GetCountryRequest nor any of its super class is known to this context.\r\n at org.glassfish.jaxb.runtime.v2.runtime.JAXBContextImpl.getBeanInfo(JAXBContextImpl.java:543)\r\n at org.glassfish.jaxb.runtime.v2.runtime.XMLSerializer.childAsRoot(XMLSerializer.java:444)\r\n at org.glassfish.jaxb.runtime.v2.runtime.MarshallerImpl.write(MarshallerImpl.java:265)\r\n at org.glassfish.jaxb.runtime.v2.runtime.MarshallerImpl.marshal(MarshallerImpl.java:197)\r\n at org.springframework.oxm.jaxb.Jaxb2Marshaller.marshal(Jaxb2Marshaller.java:712)\r\n```\r\n\r\nDoes anyone know what the problem here might be?\r\nAm I missing an annotation or something?\r\nIs it due to me using a newer Spring Boot version?\r\n\r\nIf needed I am happy to provide more information.\r\n\r\nThanks in advance, \r\nPaul","title":"JAXB Exception in Java Spring Boot SOAP client","body":"<p>I am trying to create a Java Spring Boot SOAP client.\nI followed this instruction: <a href=\"https://www.baeldung.com/spring-soap-web-service\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-soap-web-service</a></p>\n<p>I am using Java 17 with Spring 3.1.0.</p>\n<p>The basic steps are:</p>\n<ol>\n<li>generate classes from wsdl</li>\n</ol>\n<ul>\n<li>here I did a minor change to the instruction. I change the generate directory to:<br />\n${project.basedir}/target/generate-sources, so that I do not have generated files as part of my project</li>\n<li>this is not the source of the problem though, since I changed it to the value from the instruction (src/main/java) and nothing changed</li>\n</ul>\n<p>This is the part of my pom file</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\n    &lt;version&gt;0.14.0&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;generate&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n        &lt;schemaLanguage&gt;WSDL&lt;/schemaLanguage&gt;\n        &lt;generateDirectory&gt;${project.basedir}/target/generate-sources&lt;/generateDirectory&gt;\n        &lt;generatePackage&gt;de.mat.test.country&lt;/generatePackage&gt;\n        &lt;schemaDirectory&gt;${project.basedir}/src/main/resources/wsdl&lt;/schemaDirectory&gt;\n        &lt;schemaIncludes&gt;\n            &lt;include&gt;countries.wsdl&lt;/include&gt;\n        &lt;/schemaIncludes&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>The class generation works fine as I can import and use the classes in the following classes.</p>\n<ol start=\"2\">\n<li>I created Client &amp; ClientConfig with the following code</li>\n</ol>\n<pre><code>public class CountryClient extends WebServiceGatewaySupport {\n\n  public GetCountryResponse getCountry(String country) {\n    GetCountryRequest request = new GetCountryRequest();\n    request.setName(country);\n\n    var webServiceTemplate = getWebServiceTemplate();\n    var response = webServiceTemplate.marshalSendAndReceive(request);\n    GetCountryResponse getCountryResponse = (GetCountryResponse) response;\n    return getCountryResponse;\n  }\n}\n</code></pre>\n<pre><code>@Configuration\npublic class CountryClientConfig {\n\n    @Bean\n    public Jaxb2Marshaller marshaller() {\n        Jaxb2Marshaller marshaller = new Jaxb2Marshaller();\n        marshaller.setContextPath(&quot;de.mat.test.country&quot;); // this is the only thing changed here\n        return marshaller;\n    }\n\n    @Bean\n    public CountryClient countryClient(Jaxb2Marshaller marshaller) {\n        CountryClient client = new CountryClient();\n        client.setDefaultUri(&quot;http://localhost:8080/ws&quot;);\n        client.setMarshaller(marshaller);\n        client.setUnmarshaller(marshaller);\n        return client;\n    }\n}\n</code></pre>\n<ol start=\"3\">\n<li>Finally I created the test class, with a change to the annotation due to newer spring version</li>\n</ol>\n<pre><code>@SpringBootTest // this was @RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(classes = CountryClientConfig.class, loader = AnnotationConfigContextLoader.class)\npublic class ClientLiveTest {\n\n    @Autowired\n    CountryClient client;\n\n    @Test\n    public void givenCountryService_whenCountryGermany_thenCapitalIsBerlin() {\n        GetCountryResponse response = client.getCountry(&quot;GER&quot;);\n        assertEquals(&quot;BLN&quot;, response.getCountry().getCapital());\n    }\n\n    @Test\n    public void givenCountryService_whenCountrySpain_thenCurrencyEUR() {\n        GetCountryResponse response = client.getCountry(&quot;ESP&quot;);\n        assertEquals(Currency.EUR, response.getCountry().getCurrency());\n    }\n}\n\n</code></pre>\n<p>After doing all this and running the test I get an JAXB exception:</p>\n<pre><code>org.springframework.oxm.UncategorizedMappingException: Unknown JAXB exception\n at org.springframework.oxm.jaxb.Jaxb2Marshaller.convertJaxbException(Jaxb2Marshaller.java:958)\n at org.springframework.oxm.jaxb.Jaxb2Marshaller.marshal(Jaxb2Marshaller.java:716)\n at org.springframework.ws.support.MarshallingUtils.marshal(MarshallingUtils.java:80)\n at org.springframework.ws.client.core.WebServiceTemplate$2.doWithMessage(WebServiceTemplate.java:399)\n at org.springframework.ws.client.core.WebServiceTemplate.doSendAndReceive(WebServiceTemplate.java:569)\n at org.springframework.ws.client.core.WebServiceTemplate.sendAndReceive(WebServiceTemplate.java:539)\n at org.springframework.ws.client.core.WebServiceTemplate.marshalSendAndReceive(WebServiceTemplate.java:391)\n at org.springframework.ws.client.core.WebServiceTemplate.marshalSendAndReceive(WebServiceTemplate.java:385)\n at org.springframework.ws.client.core.WebServiceTemplate.marshalSendAndReceive(WebServiceTemplate.java:375)\n at de.mat.test.client.CountryClient2.getCountry(CountryClient2.java:15)\n at de.mat.test.ClientLiveTest.givenCountryService_whenCountrySpain_thenCurrencyEUR(ClientLiveTest.java:31)\n at java.base/java.util.ArrayList.forEach(Unknown Source)\n at java.base/java.util.ArrayList.forEach(Unknown Source)\nCaused by: jakarta.xml.bind.JAXBException: class de.mat.test.country.GetCountryRequest nor any of its super class is known to this context.\n at org.glassfish.jaxb.runtime.v2.runtime.JAXBContextImpl.getBeanInfo(JAXBContextImpl.java:543)\n at org.glassfish.jaxb.runtime.v2.runtime.XMLSerializer.childAsRoot(XMLSerializer.java:444)\n at org.glassfish.jaxb.runtime.v2.runtime.MarshallerImpl.write(MarshallerImpl.java:265)\n at org.glassfish.jaxb.runtime.v2.runtime.MarshallerImpl.marshal(MarshallerImpl.java:197)\n at org.springframework.oxm.jaxb.Jaxb2Marshaller.marshal(Jaxb2Marshaller.java:712)\n</code></pre>\n<p>Does anyone know what the problem here might be?\nAm I missing an annotation or something?\nIs it due to me using a newer Spring Boot version?</p>\n<p>If needed I am happy to provide more information.</p>\n<p>Thanks in advance,\nPaul</p>\n"},{"tags":["java","spring","hibernate","lombok"],"comments":[{"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"score":0,"creation_date":1687973946,"post_id":76572715,"comment_id":135012974,"body_markdown":"Everything is fine with that code. You just have `@Builder` on `Price`, thus MapStruct uses the builder.","body":"Everything is fine with that code. You just have <code>@Builder</code> on <code>Price</code>, thus MapStruct uses the builder."},{"owner":{"account_id":19978711,"reputation":11,"user_id":14642381,"display_name":"anodino"},"score":0,"creation_date":1688066109,"post_id":76572715,"comment_id":135027668,"body_markdown":"Hi Jan Rieke, I&#39;ve delete @Buider anotation and thi&#39;s done, Thanks you.","body":"Hi Jan Rieke, I&#39;ve delete @Buider anotation and thi&#39;s done, Thanks you."}],"owner":{"account_id":19978711,"reputation":11,"user_id":14642381,"display_name":"anodino"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687951528,"creation_date":1687951528,"question_id":76572715,"body_markdown":"\r\n \r\n\r\n\r\ngreetings to all, in an example of a course we have used an entity and its corresponding entity that acts as a DTO that is called entidadRest but that annotates it with @json, what advantage does this approach have when performing DTOS, I am developing a mini project and I am using DTOS to use them with MapStruct but the fact is that when I generate the conversion, even though it generates and compiles them, it does not show me the settters\r\n\r\n    @Override\r\n    public Price dtoToModel(PriceDTO pricesDTO) {\r\n        if ( pricesDTO == null ) {\r\n            return null;\r\n        }\r\n\r\n        Price.PriceBuilder price = Price.builder();\r\n\r\n            price.priceId( pricesDTO.getPrice_Id() );\r\n            price.productId( pricesDTO.getProduct_Id() );\r\n            price.brandId( pricesDTO.getBrand_Id() );\r\n            price.starDate( pricesDTO.getStarDate() );\r\n            price.endDate( pricesDTO.getEndDate() );\r\n            price.priority( pricesDTO.getPriority() );\r\n            price.price( pricesDTO.getPrice_dto() );\r\n            if ( pricesDTO.getCurr() != null ) {\r\n                price.curr( String.valueOf( pricesDTO.getCurr() ) );\r\n        }\r\n            price.price_List( priceDTOSetToPriceSet( pricesDTO.getPriceList_dto() ) );\r\n            price.produc( pricesDTO.getProduc() );\r\n\r\n        return price.build();\r\n    }\r\n \r\n  \r\n\r\n   the form correct for that&#39;s   price.SetPriceId( pricesDTO.getPrice_Id() );","title":"How generated setter inside implements class from MapStruct","body":"<p>greetings to all, in an example of a course we have used an entity and its corresponding entity that acts as a DTO that is called entidadRest but that annotates it with @json, what advantage does this approach have when performing DTOS, I am developing a mini project and I am using DTOS to use them with MapStruct but the fact is that when I generate the conversion, even though it generates and compiles them, it does not show me the settters</p>\n<pre><code>@Override\npublic Price dtoToModel(PriceDTO pricesDTO) {\n    if ( pricesDTO == null ) {\n        return null;\n    }\n\n    Price.PriceBuilder price = Price.builder();\n\n        price.priceId( pricesDTO.getPrice_Id() );\n        price.productId( pricesDTO.getProduct_Id() );\n        price.brandId( pricesDTO.getBrand_Id() );\n        price.starDate( pricesDTO.getStarDate() );\n        price.endDate( pricesDTO.getEndDate() );\n        price.priority( pricesDTO.getPriority() );\n        price.price( pricesDTO.getPrice_dto() );\n        if ( pricesDTO.getCurr() != null ) {\n            price.curr( String.valueOf( pricesDTO.getCurr() ) );\n    }\n        price.price_List( priceDTOSetToPriceSet( pricesDTO.getPriceList_dto() ) );\n        price.produc( pricesDTO.getProduc() );\n\n    return price.build();\n}\n</code></pre>\n<p>the form correct for that's   price.SetPriceId( pricesDTO.getPrice_Id() );</p>\n"},{"tags":["java","android","ios","security","robovm"],"comments":[{"owner":{"account_id":2441570,"reputation":109948,"user_id":3418066,"accept_rate":100,"display_name":"Paulw11"},"score":0,"creation_date":1687952274,"post_id":76572692,"comment_id":135008080,"body_markdown":"https://developer.apple.com/documentation/devicecheck/establishing_your_app_s_integrity","body":"<a href=\"https://developer.apple.com/documentation/devicecheck/establishing_your_app_s_integrity\" rel=\"nofollow noreferrer\">developer.apple.com/documentation/devicecheck/&hellip;</a>"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1687965783,"post_id":76572692,"comment_id":135011363,"body_markdown":"iOS apps are signed by Apple before the are published in their app store. What signature certificate is used for signing by Apple is AFAIK not specified by Apple (and it can change at any time).","body":"iOS apps are signed by Apple before the are published in their app store. What signature certificate is used for signing by Apple is AFAIK not specified by Apple (and it can change at any time)."}],"owner":{"account_id":13828030,"reputation":169,"user_id":9981772,"display_name":"ilya_kas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687951320,"creation_date":1687951320,"question_id":76572692,"body_markdown":"I have an Android and IOS cross-platform app. It needs some data for security purposes that prevents decompiled app to work after recompiling. The idea is to use info about key that is used to sign apps. I&#39;ve found a way to get some key by using signature, now I&#39;m struggling to find a solution for IOS. Is there something available to use in IOS app? What do you think is the best approach? Is it possible for potential hacker to get same information from built apk/ipa?\r\n\r\nP.S. I&#39;m using Java/Kotlin for Android and same + robovm for IOS. If you are not familiar with robovm, but ok with native development - feel free to answer - I&#39;ll translate.","title":"Getting IOS signing key information","body":"<p>I have an Android and IOS cross-platform app. It needs some data for security purposes that prevents decompiled app to work after recompiling. The idea is to use info about key that is used to sign apps. I've found a way to get some key by using signature, now I'm struggling to find a solution for IOS. Is there something available to use in IOS app? What do you think is the best approach? Is it possible for potential hacker to get same information from built apk/ipa?</p>\n<p>P.S. I'm using Java/Kotlin for Android and same + robovm for IOS. If you are not familiar with robovm, but ok with native development - feel free to answer - I'll translate.</p>\n"},{"tags":["java","spring-boot","swagger-ui"],"owner":{"account_id":16595871,"reputation":1,"user_id":11992739,"display_name":"Kiruthika"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687951245,"creation_date":1687946368,"question_id":76572061,"body_markdown":"I am using Swagger(version 3.0.0) with spring boot(2.5.14). I have an unreachable model class named SampleModel that I have added to swagger using the Docket object\r\n\r\n```\r\n\t@Bean\r\n\tpublic Docket api(TypeResolver typeResolver) {\r\n\t\treturn new Docket(DocumentationType.SWAGGER_2)\r\n\t\t\t\t.select()\r\n\t\t\t\t.apis(RequestHandlerSelectors.any())\r\n\t\t\t\t.paths(PathSelectors.any())\r\n\t\t\t\t.build()\r\n\t\t\t\t.additionalModels(typeResolver.resolve(SampleModel.class));\r\n\t}\r\n```\r\n\r\nSampleModel.java\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@ApiModel\r\npublic class SampleModel {\r\n    @ApiModelProperty(value=&quot;student id&quot;)\r\n    String id;\r\n    String name;\r\n    Integer age;\r\n    Object address;\r\n    @ApiModelProperty(value=&quot;I need to add some description here&quot;,reference = &quot;Foo.java&quot;)\r\n    public HashMap&lt;String, Object&gt; mapObj;\r\n}\r\n```\r\n\r\nThis class appears on the UI under Models, but the metadata for mapObj does not appear. \r\n\r\nThe value added to **id** reflects though.\r\n\r\nCan someone help me add properties/metadata to a Map please","title":"ApiModelProperty annotation of Swagger is not working on Map","body":"<p>I am using Swagger(version 3.0.0) with spring boot(2.5.14). I have an unreachable model class named SampleModel that I have added to swagger using the Docket object</p>\n<pre><code>    @Bean\n    public Docket api(TypeResolver typeResolver) {\n        return new Docket(DocumentationType.SWAGGER_2)\n                .select()\n                .apis(RequestHandlerSelectors.any())\n                .paths(PathSelectors.any())\n                .build()\n                .additionalModels(typeResolver.resolve(SampleModel.class));\n    }\n</code></pre>\n<p>SampleModel.java</p>\n<pre><code>@Getter\n@Setter\n@ApiModel\npublic class SampleModel {\n    @ApiModelProperty(value=&quot;student id&quot;)\n    String id;\n    String name;\n    Integer age;\n    Object address;\n    @ApiModelProperty(value=&quot;I need to add some description here&quot;,reference = &quot;Foo.java&quot;)\n    public HashMap&lt;String, Object&gt; mapObj;\n}\n</code></pre>\n<p>This class appears on the UI under Models, but the metadata for mapObj does not appear.</p>\n<p>The value added to <strong>id</strong> reflects though.</p>\n<p>Can someone help me add properties/metadata to a Map please</p>\n"},{"tags":["java","spring","aop","aspectj","pointcut"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1525361277,"post_id":50139365,"comment_id":87335225,"body_markdown":"No, they do not executed twice (unless someone calls the twice, too), you only think they do. But this cannot be analysed without the target code. So please provide an [MCVE](http://stackoverflow.com/help/mcve) including aspect + application code incl. class and package names.","body":"No, they do not executed twice (unless someone calls the twice, too), you only think they do. But this cannot be analysed without the target code. So please provide an <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a> including aspect + application code incl. class and package names."},{"owner":{"account_id":2853075,"reputation":7038,"user_id":2699901,"display_name":"N&#225;ndor Előd Fekete"},"score":0,"creation_date":1525434896,"post_id":50139365,"comment_id":87365501,"body_markdown":"I&#39;m voting to close this question as it lacks the necessary [mcve] to reproduce the issue.","body":"I&#39;m voting to close this question as it lacks the necessary <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> to reproduce the issue."}],"answers":[{"tags":[],"owner":{"account_id":911459,"reputation":2140,"user_id":945214,"display_name":"gargkshitiz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525279394,"creation_date":1525278618,"answer_id":50139425,"question_id":50139365,"body_markdown":"Spring should not be processing aspect multiple times. Check if you are having @component or @service on top of the class. If yes, remove them and see. Also play around with @EnableJAutoproxy. It may be that two proxies are created, hence aspect is executing twice. Also, check if an annotated method is being called from another sibling method of the class. That might be also problematic.\r\n","title":"AOP advice called twice apart from first pointcut","body":"<p>Spring should not be processing aspect multiple times. Check if you are having @component or @service on top of the class. If yes, remove them and see. Also play around with @EnableJAutoproxy. It may be that two proxies are created, hence aspect is executing twice. Also, check if an annotated method is being called from another sibling method of the class. That might be also problematic.</p>\n"},{"tags":[],"owner":{"account_id":28911724,"reputation":1,"user_id":22144599,"display_name":"Vishnu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687951174,"creation_date":1687951174,"answer_id":76572672,"question_id":50139365,"body_markdown":"I know it is late but I am answering it in order to help others like me who are going to encounter it in the future:\r\nCheck if your code is calling the method(with pointcut which is executing twice) multiple times.\r\nIf you are using &quot;within&quot;, there is a high chance that there is more than 1 method in its range. So pointcut is getting executed for every method call.\r\nThe above code is not having the part where the method is getting called. I think addToDownloaded() is getting called twice.","title":"AOP advice called twice apart from first pointcut","body":"<p>I know it is late but I am answering it in order to help others like me who are going to encounter it in the future:\nCheck if your code is calling the method(with pointcut which is executing twice) multiple times.\nIf you are using &quot;within&quot;, there is a high chance that there is more than 1 method in its range. So pointcut is getting executed for every method call.\nThe above code is not having the part where the method is getting called. I think addToDownloaded() is getting called twice.</p>\n"}],"owner":{"account_id":6301767,"reputation":49,"user_id":4896168,"display_name":"Naz Haque"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1210,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1687951174,"creation_date":1525278385,"question_id":50139365,"body_markdown":"I am using annotation based AOP in my Java Spring Application. There is no XML configuration at all (apart from log4j2.xml).\r\n\r\nMy first pointcut gets executed once as expected but every pointcut after that will get executed twice and I can&#39;t figure out why.\r\n\r\nHere is my configuration class:\r\n\r\n    @Configuration @EnableAspectJAutoProxy\r\n    public class LoggingConfig\r\n    {\r\n        @Bean public PreProcessLogs preProcessLogs(){\r\n            return new PreProcessLogs();\r\n        }\r\n    }\r\n\r\nand the Aspect class:\r\n\r\n    @Aspect\r\n    public class PreProcessLogs\r\n    {\r\n        @Before(&quot;execution(* &lt;package&gt;.preprocessor.services.DownloadService.addToDownloading(..)) &quot; + &quot;&amp;&amp; args(event)&quot;)\r\n        public void LogFTPFile(JoinPoint joinPoint, WatchEvent&lt;?&gt; event) {\r\n            Logger logger = (org.apache.logging.log4j.core.Logger) LogManager.getLogger(joinPoint.getSignature().getDeclaringTypeName());\r\n            logger.log(Level.INFO, event.context().toString() + &quot; has appeared in the FTP\\n&quot;);\r\n        }\r\n\r\n        @AfterReturning(&quot;execution(void &lt;package&gt;.preprocessor.services.DownloadService.addToDownloaded(..)) &quot; + &quot;&amp;&amp; args(filePath)&quot;)\r\n        public void logDownloadedFile(JoinPoint joinPoint, Path filePath) {\r\n            //Logger logger = (org.apache.logging.log4j.core.Logger) LogManager.getLogger(joinPoint.getSignature().getDeclaringTypeName());\r\n            //logger.log(Level.INFO, file.getFileName() + &quot; has finished downloading&quot;);\r\n            //System.out.println(joinPoint.getSourceLocation());\r\n            System.out.println(filePath.getFileName() +&quot; has been downloaded&quot;);\r\n        }\r\n\r\n        @After(&quot;execution(void &lt;package&gt;.preprocessor.services.FileTransferService.moveToStagingFolder(..)) &quot; + &quot;&amp;&amp; args(file)&quot;)\r\n        public void logFileTransfer(JoinPoint jp, Path file) {\r\n            System.out.println(file.getFileName() + &quot; has been moved to the Staging Folder&quot;);\r\n        }\r\n    }\r\n\r\nSo basically the @AfterReturning and @After Pointcuts get executed twice instead of once. The @Before annotation gets executed once as expected. I have tried @Before with the bottom two pointcuts but same effect. I have also tried to define a pointcut using @Pointcut but the same thing happens. I have also tried to specify the type where the (..)) is.\r\n\r\nAt the end of my tether trying to get this to work, please someone push me in the right direction.\r\n\r\nThanks.","title":"AOP advice called twice apart from first pointcut","body":"<p>I am using annotation based AOP in my Java Spring Application. There is no XML configuration at all (apart from log4j2.xml).</p>\n\n<p>My first pointcut gets executed once as expected but every pointcut after that will get executed twice and I can't figure out why.</p>\n\n<p>Here is my configuration class:</p>\n\n<pre><code>@Configuration @EnableAspectJAutoProxy\npublic class LoggingConfig\n{\n    @Bean public PreProcessLogs preProcessLogs(){\n        return new PreProcessLogs();\n    }\n}\n</code></pre>\n\n<p>and the Aspect class:</p>\n\n<pre><code>@Aspect\npublic class PreProcessLogs\n{\n    @Before(\"execution(* &lt;package&gt;.preprocessor.services.DownloadService.addToDownloading(..)) \" + \"&amp;&amp; args(event)\")\n    public void LogFTPFile(JoinPoint joinPoint, WatchEvent&lt;?&gt; event) {\n        Logger logger = (org.apache.logging.log4j.core.Logger) LogManager.getLogger(joinPoint.getSignature().getDeclaringTypeName());\n        logger.log(Level.INFO, event.context().toString() + \" has appeared in the FTP\\n\");\n    }\n\n    @AfterReturning(\"execution(void &lt;package&gt;.preprocessor.services.DownloadService.addToDownloaded(..)) \" + \"&amp;&amp; args(filePath)\")\n    public void logDownloadedFile(JoinPoint joinPoint, Path filePath) {\n        //Logger logger = (org.apache.logging.log4j.core.Logger) LogManager.getLogger(joinPoint.getSignature().getDeclaringTypeName());\n        //logger.log(Level.INFO, file.getFileName() + \" has finished downloading\");\n        //System.out.println(joinPoint.getSourceLocation());\n        System.out.println(filePath.getFileName() +\" has been downloaded\");\n    }\n\n    @After(\"execution(void &lt;package&gt;.preprocessor.services.FileTransferService.moveToStagingFolder(..)) \" + \"&amp;&amp; args(file)\")\n    public void logFileTransfer(JoinPoint jp, Path file) {\n        System.out.println(file.getFileName() + \" has been moved to the Staging Folder\");\n    }\n}\n</code></pre>\n\n<p>So basically the @AfterReturning and @After Pointcuts get executed twice instead of once. The @Before annotation gets executed once as expected. I have tried @Before with the bottom two pointcuts but same effect. I have also tried to define a pointcut using @Pointcut but the same thing happens. I have also tried to specify the type where the (..)) is.</p>\n\n<p>At the end of my tether trying to get this to work, please someone push me in the right direction.</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","android","webrtc"],"comments":[{"owner":{"account_id":8725718,"reputation":1712,"user_id":6527410,"accept_rate":53,"display_name":"androidXP"},"score":0,"creation_date":1687964997,"post_id":76558014,"comment_id":135011192,"body_markdown":"Check this for more information about your issue:- https://datatracker.ietf.org/doc/html/draft-ietf-rtcweb-sdp-14","body":"Check this for more information about your issue:- <a href=\"https://datatracker.ietf.org/doc/html/draft-ietf-rtcweb-sdp-14\" rel=\"nofollow noreferrer\">datatracker.ietf.org/doc/html/draft-ietf-rtcweb-sdp-14</a>"}],"answers":[{"tags":[],"owner":{"account_id":2569702,"reputation":16087,"user_id":4352772,"display_name":"Philipp Hancke"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687793874,"creation_date":1687793874,"answer_id":76558201,"question_id":76558014,"body_markdown":"ICE candidates are only generated after you call setLocalDescription, see https://w3c.github.io/webrtc-pc/#set-the-session-description step 4 substep 2.\r\n\r\n(please also note that org.webrtc:google-webrtc:1.0.32006 is an outdated version that has known security vulnerabilities)","title":"WebRTC ICE candidate not generating after setRemoteDescription","body":"<p>ICE candidates are only generated after you call setLocalDescription, see <a href=\"https://w3c.github.io/webrtc-pc/#set-the-session-description\" rel=\"nofollow noreferrer\">https://w3c.github.io/webrtc-pc/#set-the-session-description</a> step 4 substep 2.</p>\n<p>(please also note that org.webrtc:google-webrtc:1.0.32006 is an outdated version that has known security vulnerabilities)</p>\n"}],"owner":{"account_id":9069534,"reputation":548,"user_id":6753279,"accept_rate":63,"display_name":"Ritu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687951097,"creation_date":1687792528,"question_id":76558014,"body_markdown":"I am trying to setup WebRTC ( implementation &#39;org.webrtc:google-webrtc:1.0.32006&#39; )for video and voice call. I can see the exchange of SDP via websocket by creating offer then receive the answer from other user. However, after successfully receiving SDP answer from user, I save it via `peerConnection.setRemoteDescription().`\r\n\r\n    SessionDescription sessionDescription = new SessionDescription(SessionDescription.Type.ANSWER,sdp_ice_VALUE);\r\n    peerConnection.setRemoteDescription(new SdpObserver() {\r\n         @Override\r\n         public void onCreateSuccess(SessionDescription sessionDescription) {\r\n                     Log.d(TAG, &quot;onCreateSuccess: &quot;);\r\n            }\r\n    \r\n           @Override\r\n           public void onSetSuccess() {\r\n              Log.d(TAG, &quot;onSetSuccess: &quot;);\r\n           }\r\n    \r\n           @Override\r\n           public void onCreateFailure(String s) {\r\n              Log.d(TAG, &quot;onCreateFailure: &quot;);\r\n           }\r\n    \r\n           @Override\r\n           public void onSetFailure(String s) {\r\n              Log.d(TAG, &quot;onSetFailure: &quot;);\r\n           }}, sessionDescription);\r\n\r\n\r\nI can see the onSetSuccess call in logcat, which means the remote description is set successfully. However, ICE candidate is not generating.\r\n\r\nI have checked the code several times and I can&#39;t find any obvious errors. Could anyone help me to debug this issue?\r\n\r\nHere is the complete code/fragment \r\n\r\n\r\n    public class Video_Voice_Call_Fragment extends Fragment {\r\n    \r\n        \r\n    \r\n        @Override\r\n        public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n            super.onViewCreated(view, savedInstanceState);\r\n            greenCallButton = view.findViewById(R.id.call_connect);\r\n            redCallButton = view.findViewById(R.id.call_disconnect);\r\n            initializeWebRTC();\r\n            startCall();\r\n        }\r\n    \r\n    \r\n        \r\n    \r\n        private void initializeWebRTC() {\r\n            rootEglBase = EglBase.create();\r\n    \r\n            // Initialize PeerConnectionFactory\r\n            PeerConnectionFactory.initialize(PeerConnectionFactory.InitializationOptions.builder(requireContext())\r\n                    .setEnableInternalTracer(true)\r\n                    .createInitializationOptions());\r\n    \r\n            DefaultVideoEncoderFactory videoEncoderFactory = new DefaultVideoEncoderFactory(rootEglBase.getEglBaseContext(),true,true);\r\n            DefaultVideoDecoderFactory videoDecoderFactory = new DefaultVideoDecoderFactory(rootEglBase.getEglBaseContext());\r\n            PeerConnectionFactory.Options options = new PeerConnectionFactory.Options();\r\n            peerConnectionFactory = PeerConnectionFactory.builder()\r\n                    .setVideoDecoderFactory(videoDecoderFactory)\r\n                    .setVideoEncoderFactory(videoEncoderFactory)\r\n                    .setOptions(options)\r\n                    .createPeerConnectionFactory();\r\n    \r\n        }\r\n    \r\n    \r\n    \r\n    \r\n        private void startCall() {\r\n            // Create an offer and set local description\r\n            peerConnection = generateICE();\r\n            peerConnection.createOffer(new SimpleSdpObserver() {\r\n                @Override\r\n                public void onCreateSuccess(SessionDescription sessionDescription) {\r\n                    Log.d(TAG, &quot;onCreateSuccess: &quot; + sessionDescription.description);\r\n                    peerConnection.setLocalDescription(new SimpleSdpObserver(), sessionDescription);\r\n                    Websocket.connectWebSocket(new WebSocketCallback() {\r\n                        @Override\r\n                        public void onConnectionSuccess() {\r\n                            //Websocket Connected\r\n                            Log.d(TAG, &quot;onConnectionSuccess: Websocket Connected&quot;);\r\n                            String message = generateJSON(sessionDescription.description,true,&quot;offer&quot;);\r\n                            Websocket.sendMessage(message);\r\n                        }\r\n    \r\n                        @Override\r\n                        public void onConnectionFailure(String message) {\r\n                            Log.d(TAG, &quot;onConnectionFailure: Message = &quot;+message);\r\n                        }\r\n    \r\n                        @Override\r\n                        public void onConnectionClosed(String reason) {\r\n                            Log.d(TAG, &quot;onConnectionClosed: Reason = &quot;+reason);\r\n                        }\r\n    \r\n                        @Override\r\n                        public void onConnectionsMessage(String message) {\r\n                            Log.d(TAG, &quot;onConnectionsMessage: Message = &quot;+message);\r\n                            // Here User will receive the message from the websocket\r\n                            try{\r\n                                JSONObject socketMessage = new JSONObject(message);\r\n                                String type = socketMessage.getString(&quot;type&quot;);\r\n                                String sdp_ice_VALUE = socketMessage.getString(&quot;SDP_ICE_info&quot;);\r\n                                if (type.equals(&quot;SDP&quot;)){\r\n                                    Log.d(TAG, &quot;onConnectionsMessage: Type SDP&quot;);\r\n                                    SessionDescription sessionDescription = new SessionDescription(SessionDescription.Type.ANSWER,sdp_ice_VALUE);\r\n                                    peerConnection.setRemoteDescription(new SdpObserver() {\r\n                                        @Override\r\n                                        public void onCreateSuccess(SessionDescription sessionDescription) {\r\n                                            Log.d(TAG, &quot;onCreateSuccess: &quot;);\r\n                                        }\r\n    \r\n                                        @Override\r\n                                        public void onSetSuccess() {\r\n                                            Log.d(TAG, &quot;onSetSuccess: &quot;);\r\n                                        }\r\n    \r\n                                        @Override\r\n                                        public void onCreateFailure(String s) {\r\n                                            Log.d(TAG, &quot;onCreateFailure: &quot;);\r\n                                        }\r\n    \r\n                                        @Override\r\n                                        public void onSetFailure(String s) {\r\n                                            Log.d(TAG, &quot;onSetFailure: &quot;);\r\n                                        }\r\n                                    }, sessionDescription);\r\n                                   \r\n                                }else {\r\n                                    // Received ICE from server as answer, This is the last step in exchanging info\r\n                                    WebRTCUtils.addIceCandidate(peerConnection,sdp_ice_VALUE);\r\n                                }\r\n                            }catch (JSONException e){\r\n                                Log.d(TAG, &quot;onMessage: Error &quot;+e.getMessage());\r\n                            }\r\n                        }\r\n                    });\r\n    \r\n                    // Send the offer to the remote peer\r\n                    // Example code for sending the offer\r\n                }\r\n    \r\n                @Override\r\n                public void onCreateFailure(String s) {\r\n                    Log.e(TAG, &quot;onCreateFailure: &quot; + s);\r\n                }\r\n            }, new MediaConstraints());\r\n        }\r\n    \r\n        private PeerConnection generateICE (){\r\n            Log.d(TAG, &quot;generateICE: &quot;);\r\n            ArrayList&lt;PeerConnection.IceServer&gt; iceServers = new ArrayList&lt;&gt;();\r\n            List&lt;String&gt; STUNList= Arrays.asList(\r\n                    &quot;stun:stun.l.google.com:19302&quot;,\r\n                    &quot;stun:stun1.l.google.com:19302&quot;,\r\n                    &quot;stun:stun2.l.google.com:19302&quot;,\r\n                    &quot;stun:stun3.l.google.com:19302&quot;,\r\n                    &quot;stun:stun4.l.google.com:19302&quot;,\r\n                    &quot;stun:stun.vodafone.ro:3478&quot;,\r\n                    &quot;stun:stun.samsungsmartcam.com:3478&quot;,\r\n                    &quot;stun:stun.services.mozilla.com:3478&quot;\r\n    \r\n            );\r\n            for(String i:STUNList){\r\n                PeerConnection.IceServer.Builder iceServerBuilder = PeerConnection.IceServer.builder(i);\r\n                iceServerBuilder.setTlsCertPolicy(PeerConnection.TlsCertPolicy.TLS_CERT_POLICY_INSECURE_NO_CHECK); //this does the magic.\r\n                PeerConnection.IceServer iceServer =  iceServerBuilder.createIceServer();\r\n                iceServers.add(iceServer);\r\n            }\r\n            PeerConnection.RTCConfiguration rtcConfig = new PeerConnection.RTCConfiguration(iceServers);\r\n    \r\n            PeerConnection.Observer observer = new PeerConnection.Observer() {\r\n                @Override\r\n                public void onSignalingChange(PeerConnection.SignalingState signalingState) {\r\n                    Log.d(TAG, &quot;onSignalingChange: &quot;+signalingState);\r\n                }\r\n    \r\n                @Override\r\n                public void onIceConnectionChange(PeerConnection.IceConnectionState iceConnectionState) {\r\n                    Log.d(TAG, &quot;onIceConnectionChange: &quot;+iceConnectionState);\r\n                }\r\n    \r\n                @Override\r\n                public void onIceConnectionReceivingChange(boolean b) {\r\n                    Log.d(TAG, &quot;onIceConnectionReceivingChange: Boolean = &quot;+b);\r\n                }\r\n    \r\n                @Override\r\n                public void onIceGatheringChange(PeerConnection.IceGatheringState iceGatheringState) {\r\n                    Log.d(TAG, &quot;onIceGatheringChange: &quot;+iceGatheringState);\r\n                }\r\n    \r\n                @Override\r\n                public void onIceCandidate(IceCandidate iceCandidate) {\r\n                    Log.d(TAG, &quot;onIceCandidate: &quot;+iceCandidate);\r\n                }\r\n    \r\n                @Override\r\n                public void onIceCandidatesRemoved(IceCandidate[] iceCandidates) {\r\n                    Log.d(TAG, &quot;onIceCandidatesRemoved: &quot;+iceCandidates);\r\n                }\r\n    \r\n                @Override\r\n                public void onAddStream(MediaStream mediaStream) {\r\n                    Log.d(TAG, &quot;onAddStream: &quot;+mediaStream);\r\n                }\r\n    \r\n                @Override\r\n                public void onRemoveStream(MediaStream mediaStream) {\r\n                    Log.d(TAG, &quot;onRemoveStream: &quot;+mediaStream);\r\n                }\r\n    \r\n                @Override\r\n                public void onDataChannel(DataChannel dataChannel) {\r\n                    Log.d(TAG, &quot;onDataChannel: &quot;+dataChannel);\r\n                }\r\n    \r\n                @Override\r\n                public void onRenegotiationNeeded() {\r\n                    Log.d(TAG, &quot;onRenegotiationNeeded: &quot;);\r\n                }\r\n    \r\n                @Override\r\n                public void onAddTrack(RtpReceiver rtpReceiver, MediaStream[] mediaStreams) {\r\n                    Log.d(TAG, &quot;onAddTrack: &quot;+rtpReceiver+&quot;--- &quot;+mediaStreams);\r\n                }\r\n            };\r\n            Log.d(TAG, &quot;generateICE: &quot;);\r\n            return peerConnectionFactory.createPeerConnection(rtcConfig,observer);\r\n            \r\n    \t\t\r\n    \t}\r\n    \r\n    \r\n    }\r\n\r\n**Update:-** With the suggestions from @PhilippHancke. I edit my code:-\r\n\r\n    private void setupLocalTracks() {\r\n            // Create video capturer\r\n            videoCapturer = createVideoCapturer();\r\n    \r\n            // Create video source\r\n            videoSource = peerConnectionFactory.createVideoSource(false);\r\n            localVideoTrack = peerConnectionFactory.createVideoTrack(&quot;local_video&quot;, videoSource);\r\n            // Create audio source and track\r\n            AudioSource audioSource = peerConnectionFactory.createAudioSource(new MediaConstraints());\r\n            localAudioTrack = peerConnectionFactory.createAudioTrack(&quot;local_audio&quot;, audioSource);\r\n    \r\n            // Create local media stream\r\n            localMediaStream = peerConnectionFactory.createLocalMediaStream(&quot;local_stream&quot;);\r\n            localMediaStream.addTrack(localVideoTrack);\r\n            localMediaStream.addTrack(localAudioTrack);\r\n            peerConnection.addStream(localMediaStream);\r\n    \r\n        }\r\n\r\n\r\nNow i can see much more details in log which has SDP offer/answer and ice too.I first call  `peerConnection.createOffer(new SimpleSdpObserver()`which generate SessionDescription for User ID 4. \r\n\r\n\r\n\r\n    Message Received From User ID == 4 Message = v=0\r\n    o=- 5794866635417549132 2 IN IP4 127.0.0.1\r\n    s=-\r\n    t=0 0\r\n    a=group:BUNDLE audio video\r\n    a=msid-semantic: WMS local_stream\r\n    m=audio 9 UDP/TLS/RTP/SAVPF 111 103 104 9 102 0 8 106 105 13 110 112 113 126\r\n    c=IN IP4 0.0.0.0\r\n    a=rtcp:9 IN IP4 0.0.0.0\r\n    a=ice-ufrag:EXXZ\r\n    a=ice-pwd:NuOsEt2YVDiZkxFomvHPhUW+\r\n    a=ice-options:trickle renomination\r\n    a=fingerprint:sha-256 F2:1E:77:5D:21:00:15:65:00:CA:24:BE:65:66:95:09:B4:10:4C:80:C0:16:90:4A:22:E7:ED:BA:D4:A8:F5:56\r\n    a=setup:actpass\r\n    a=mid:audio\r\n    a=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\n    a=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\n    a=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\n    a=sendrecv\r\n    a=rtcp-mux\r\n    a=rtpmap:111 opus/48000/2\r\n    a=rtcp-fb:111 transport-cc\r\n    a=fmtp:111 minptime=10;useinbandfec=1\r\n    a=rtpmap:103 ISAC/16000\r\n    a=rtpmap:104 ISAC/32000\r\n    a=rtpmap:9 G722/8000\r\n    a=rtpmap:102 ILBC/8000\r\n    a=rtpmap:0 PCMU/8000\r\n    a=rtpmap:8 PCMA/8000\r\n    a=rtpmap:106 CN/32000\r\n    a=rtpmap:105 CN/16000\r\n    a=rtpmap:13 CN/8000\r\n    a=rtpmap:110 telephone-event/48000\r\n    a=rtpmap:112 telephone-event/32000\r\n    a=rtpmap:113 telephone-event/16000\r\n    a=rtpmap:126 telephone-event/8000\r\n    a=ssrc:473446091 cname:WQlLPNcKBxol0kL2\r\n    a=ssrc:473446091 msid:local_stream local_audio\r\n    a=ssrc:473446091 mslabel:local_stream\r\n    a=ssrc:473446091 label:local_audio\r\n    m=video 9 UDP/TLS/RTP/SAVPF 96 97 98 99 100 101 127 123 125\r\n    c=IN IP4 0.0.0.0\r\n    a=rtcp:9 IN IP4 0.0.0.0\r\n    a=ice-ufrag:EXXZ\r\n    a=ice-pwd:NuOsEt2YVDiZkxFomvHPhUW+\r\n    a=ice-options:trickle renomination\r\n    a=fingerprint:sha-256 F2:1E:77:5D:21:00:15:65:00:CA:24:BE:65:66:95:09:B4:10:4C:80:C0:16:90:4A:22:E7:ED:BA:D4:A8:F5:56\r\n    a=setup:actpass\r\n    a=mid:video\r\n    a=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\n    a=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\n    a=extmap:13 urn:3gpp:video-orientation\r\n    a=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\n    a=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\n    a=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\n    a=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\n    a=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\n    a=sendrecv\r\n    a=rtcp-mux\r\n    a=rtcp-rsize\r\n    a=rtpmap:96 VP8/90000\r\n    a=rtcp-fb:96 goog-remb\r\n    a=rtcp-fb:96 transport-cc\r\n    a=rtcp-fb:96 ccm fir\r\n    a=rtcp-fb:96 nack\r\n    a=rtcp-fb:96 nack pli\r\n    a=rtpmap:97 rtx/90000\r\n    a=fmtp:97 apt=96\r\n    a=rtpmap:98 VP9/90000\r\n    a=rtcp-fb:98 goog-remb\r\n    a=rtcp-fb:98 transport-cc\r\n    a=rtcp-fb:98 ccm fir\r\n    a=rtcp-fb:98 nack\r\n    a=rtcp-fb:98 nack pli\r\n    a=rtpmap:99 rtx/90000\r\n    a=fmtp:99 apt=98\r\n    a=rtpmap:100 H264/90000\r\n    a=rtcp-fb:100 goog-remb\r\n    a=rtcp-fb:100 transport-cc\r\n    a=rtcp-fb:100 ccm fir\r\n    a=rtcp-fb:100 nack\r\n    a=rtcp-fb:100 nack pli\r\n    a=fmtp:100 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\n    a=rtpmap:101 rtx/90000\r\n    a=fmtp:101 apt=100\r\n    a=rtpmap:127 red/90000\r\n    a=rtpmap:123 rtx/90000\r\n    a=fmtp:123 apt=127\r\n    a=rtpmap:125 ulpfec/90000\r\n    a=ssrc-group:FID 1370797121 3619002051\r\n    a=ssrc:1370797121 cname:WQlLPNcKBxol0kL2\r\n    a=ssrc:1370797121 msid:local_stream local_video\r\n    a=ssrc:1370797121 mslabel:local_stream\r\n    a=ssrc:1370797121 label:local_video\r\n    a=ssrc:3619002051 cname:WQlLPNcKBxol0kL2\r\n    a=ssrc:3619002051 msid:local_stream local_video\r\n    a=ssrc:3619002051 mslabel:local_stream\r\n    a=ssrc:3619002051 label:local_video\r\n    \r\n    Message Received From User ID == 206 Message = v=0\r\n    o=- 3655990368999828607 2 IN IP4 127.0.0.1\r\n    s=-\r\n    t=0 0\r\n    a=group:BUNDLE audio video\r\n    a=msid-semantic: WMS remote_stream\r\n    m=audio 9 UDP/TLS/RTP/SAVPF 111 103 104 9 102 0 8 106 105 13 110 112 113 126\r\n    c=IN IP4 0.0.0.0\r\n    a=rtcp:9 IN IP4 0.0.0.0\r\n    a=ice-ufrag:0O57\r\n    a=ice-pwd:FSyUVENoJglSvKVpeih/bzXA\r\n    a=ice-options:trickle renomination\r\n    a=fingerprint:sha-256 B8:43:6B:EE:38:08:19:85:DA:97:AA:45:2D:46:17:90:9E:8B:D2:D8:D7:9D:04:97:22:DE:C9:CB:FC:A1:DB:5B\r\n    a=setup:active\r\n    a=mid:audio\r\n    a=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\n    a=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\n    a=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\n    a=sendrecv\r\n    a=rtcp-mux\r\n    a=rtpmap:111 opus/48000/2\r\n    a=rtcp-fb:111 transport-cc\r\n    a=fmtp:111 minptime=10;useinbandfec=1\r\n    a=rtpmap:103 ISAC/16000\r\n    a=rtpmap:104 ISAC/32000\r\n    a=rtpmap:9 G722/8000\r\n    a=rtpmap:102 ILBC/8000\r\n    a=rtpmap:0 PCMU/8000\r\n    a=rtpmap:8 PCMA/8000\r\n    a=rtpmap:106 CN/32000\r\n    a=rtpmap:105 CN/16000\r\n    a=rtpmap:13 CN/8000\r\n    a=rtpmap:110 telephone-event/48000\r\n    a=rtpmap:112 telephone-event/32000\r\n    a=rtpmap:113 telephone-event/16000\r\n    a=rtpmap:126 telephone-event/8000\r\n    a=ssrc:624557633 cname:PYJF7YMAd+hgS7Zk\r\n    a=ssrc:624557633 msid:remote_stream remote_audio\r\n    a=ssrc:624557633 mslabel:remote_stream\r\n    a=ssrc:624557633 label:remote_audio\r\n    m=video 9 UDP/TLS/RTP/SAVPF 96 97 98 99 100 101 127 123 125\r\n    c=IN IP4 0.0.0.0\r\n    a=rtcp:9 IN IP4 0.0.0.0\r\n    a=ice-ufrag:0O57\r\n    a=ice-pwd:FSyUVENoJglSvKVpeih/bzXA\r\n    a=ice-options:trickle renomination\r\n    a=fingerprint:sha-256 B8:43:6B:EE:38:08:19:85:DA:97:AA:45:2D:46:17:90:9E:8B:D2:D8:D7:9D:04:97:22:DE:C9:CB:FC:A1:DB:5B\r\n    a=setup:active\r\n    a=mid:video\r\n    a=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\n    a=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\n    a=extmap:13 urn:3gpp:video-orientation\r\n    a=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\n    a=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\n    a=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\n    a=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\n    a=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\n    a=sendrecv\r\n    a=rtcp-mux\r\n    a=rtcp-rsize\r\n    a=rtpmap:96 VP8/90000\r\n    a=rtcp-fb:96 goog-remb\r\n    a=rtcp-fb:96 transport-cc\r\n    a=rtcp-fb:96 ccm fir\r\n    a=rtcp-fb:96 nack\r\n    a=rtcp-fb:96 nack pli\r\n    a=rtpmap:97 rtx/90000\r\n    a=fmtp:97 apt=96\r\n    a=rtpmap:98 VP9/90000\r\n    a=rtcp-fb:98 goog-remb\r\n    a=rtcp-fb:98 transport-cc\r\n    a=rtcp-fb:98 ccm fir\r\n    a=rtcp-fb:98 nack\r\n    a=rtcp-fb:98 nack pli\r\n    a=rtpmap:99 rtx/90000\r\n    a=fmtp:99 apt=98\r\n    a=rtpmap:100 H264/90000\r\n    a=rtcp-fb:100 goog-remb\r\n    a=rtcp-fb:100 transport-cc\r\n    a=rtcp-fb:100 ccm fir\r\n    a=rtcp-fb:100 nack\r\n    a=rtcp-fb:100 nack pli\r\n    a=fmtp:100 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\n    a=rtpmap:101 rtx/90000\r\n    a=fmtp:101 apt=100\r\n    a=rtpmap:127 red/90000\r\n    a=rtpmap:123 rtx/90000\r\n    a=fmtp:123 apt=127\r\n    a=rtpmap:125 ulpfec/90000\r\n    a=ssrc-group:FID 2171330257 4072720398\r\n    a=ssrc:2171330257 cname:PYJF7YMAd+hgS7Zk\r\n    a=ssrc:2171330257 msid:remote_stream remote_video\r\n    a=ssrc:2171330257 mslabel:remote_stream\r\n    a=ssrc:2171330257 label:remote_video\r\n    a=ssrc:4072720398 cname:PYJF7YMAd+hgS7Zk\r\n    a=ssrc:4072720398 msid:remote_stream remote_video\r\n    a=ssrc:4072720398 mslabel:remote_stream\r\n    a=ssrc:4072720398 label:remote_video\r\n\r\n\r\n\r\nIn the SDP above i can ICE candidates too which creates confusion for me because when other receive this SDP then how user would save it, as SDP (setRemoteDescription) or treat it as ICE candidates beucase it contains both.\r\n\r\nAlso i can see in log that `onIceCandidate` calls multiples times with these kinds of values\r\n\r\n\r\n    audio:0:candidate:1587269880 1 udp 2122262783 2406:b400:52:820d:70e0:90ff:fe12:3352 35364 typ host generation 0 ufrag B/Tc network-id 4 network-cost 10::UNKNOWN\r\n    \r\n    audio:0:candidate:393917512 1 udp 2122194687 192.168.0.123 42552 typ host generation 0 ufrag B/Tc network-id 3 network-cost 10::UNKNOWN\r\n    \r\n    audio:0:candidate:559267639 1 udp 2122136831 ::1 50036 typ host generation 0 ufrag B/Tc network-id 2::UNKNOWN\r\n\r\n\r\nDo i need to send these information to other user as ICE (it calls around 10 times approx) every time it calls `onIceCandidate`? \r\n\r\nAfter these exchange which method should i call to initiate the call?","title":"WebRTC ICE candidate not generating after setRemoteDescription","body":"<p>I am trying to setup WebRTC ( implementation 'org.webrtc:google-webrtc:1.0.32006' )for video and voice call. I can see the exchange of SDP via websocket by creating offer then receive the answer from other user. However, after successfully receiving SDP answer from user, I save it via <code>peerConnection.setRemoteDescription().</code></p>\n<pre><code>SessionDescription sessionDescription = new SessionDescription(SessionDescription.Type.ANSWER,sdp_ice_VALUE);\npeerConnection.setRemoteDescription(new SdpObserver() {\n     @Override\n     public void onCreateSuccess(SessionDescription sessionDescription) {\n                 Log.d(TAG, &quot;onCreateSuccess: &quot;);\n        }\n\n       @Override\n       public void onSetSuccess() {\n          Log.d(TAG, &quot;onSetSuccess: &quot;);\n       }\n\n       @Override\n       public void onCreateFailure(String s) {\n          Log.d(TAG, &quot;onCreateFailure: &quot;);\n       }\n\n       @Override\n       public void onSetFailure(String s) {\n          Log.d(TAG, &quot;onSetFailure: &quot;);\n       }}, sessionDescription);\n</code></pre>\n<p>I can see the onSetSuccess call in logcat, which means the remote description is set successfully. However, ICE candidate is not generating.</p>\n<p>I have checked the code several times and I can't find any obvious errors. Could anyone help me to debug this issue?</p>\n<p>Here is the complete code/fragment</p>\n<pre><code>public class Video_Voice_Call_Fragment extends Fragment {\n\n    \n\n    @Override\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n        greenCallButton = view.findViewById(R.id.call_connect);\n        redCallButton = view.findViewById(R.id.call_disconnect);\n        initializeWebRTC();\n        startCall();\n    }\n\n\n    \n\n    private void initializeWebRTC() {\n        rootEglBase = EglBase.create();\n\n        // Initialize PeerConnectionFactory\n        PeerConnectionFactory.initialize(PeerConnectionFactory.InitializationOptions.builder(requireContext())\n                .setEnableInternalTracer(true)\n                .createInitializationOptions());\n\n        DefaultVideoEncoderFactory videoEncoderFactory = new DefaultVideoEncoderFactory(rootEglBase.getEglBaseContext(),true,true);\n        DefaultVideoDecoderFactory videoDecoderFactory = new DefaultVideoDecoderFactory(rootEglBase.getEglBaseContext());\n        PeerConnectionFactory.Options options = new PeerConnectionFactory.Options();\n        peerConnectionFactory = PeerConnectionFactory.builder()\n                .setVideoDecoderFactory(videoDecoderFactory)\n                .setVideoEncoderFactory(videoEncoderFactory)\n                .setOptions(options)\n                .createPeerConnectionFactory();\n\n    }\n\n\n\n\n    private void startCall() {\n        // Create an offer and set local description\n        peerConnection = generateICE();\n        peerConnection.createOffer(new SimpleSdpObserver() {\n            @Override\n            public void onCreateSuccess(SessionDescription sessionDescription) {\n                Log.d(TAG, &quot;onCreateSuccess: &quot; + sessionDescription.description);\n                peerConnection.setLocalDescription(new SimpleSdpObserver(), sessionDescription);\n                Websocket.connectWebSocket(new WebSocketCallback() {\n                    @Override\n                    public void onConnectionSuccess() {\n                        //Websocket Connected\n                        Log.d(TAG, &quot;onConnectionSuccess: Websocket Connected&quot;);\n                        String message = generateJSON(sessionDescription.description,true,&quot;offer&quot;);\n                        Websocket.sendMessage(message);\n                    }\n\n                    @Override\n                    public void onConnectionFailure(String message) {\n                        Log.d(TAG, &quot;onConnectionFailure: Message = &quot;+message);\n                    }\n\n                    @Override\n                    public void onConnectionClosed(String reason) {\n                        Log.d(TAG, &quot;onConnectionClosed: Reason = &quot;+reason);\n                    }\n\n                    @Override\n                    public void onConnectionsMessage(String message) {\n                        Log.d(TAG, &quot;onConnectionsMessage: Message = &quot;+message);\n                        // Here User will receive the message from the websocket\n                        try{\n                            JSONObject socketMessage = new JSONObject(message);\n                            String type = socketMessage.getString(&quot;type&quot;);\n                            String sdp_ice_VALUE = socketMessage.getString(&quot;SDP_ICE_info&quot;);\n                            if (type.equals(&quot;SDP&quot;)){\n                                Log.d(TAG, &quot;onConnectionsMessage: Type SDP&quot;);\n                                SessionDescription sessionDescription = new SessionDescription(SessionDescription.Type.ANSWER,sdp_ice_VALUE);\n                                peerConnection.setRemoteDescription(new SdpObserver() {\n                                    @Override\n                                    public void onCreateSuccess(SessionDescription sessionDescription) {\n                                        Log.d(TAG, &quot;onCreateSuccess: &quot;);\n                                    }\n\n                                    @Override\n                                    public void onSetSuccess() {\n                                        Log.d(TAG, &quot;onSetSuccess: &quot;);\n                                    }\n\n                                    @Override\n                                    public void onCreateFailure(String s) {\n                                        Log.d(TAG, &quot;onCreateFailure: &quot;);\n                                    }\n\n                                    @Override\n                                    public void onSetFailure(String s) {\n                                        Log.d(TAG, &quot;onSetFailure: &quot;);\n                                    }\n                                }, sessionDescription);\n                               \n                            }else {\n                                // Received ICE from server as answer, This is the last step in exchanging info\n                                WebRTCUtils.addIceCandidate(peerConnection,sdp_ice_VALUE);\n                            }\n                        }catch (JSONException e){\n                            Log.d(TAG, &quot;onMessage: Error &quot;+e.getMessage());\n                        }\n                    }\n                });\n\n                // Send the offer to the remote peer\n                // Example code for sending the offer\n            }\n\n            @Override\n            public void onCreateFailure(String s) {\n                Log.e(TAG, &quot;onCreateFailure: &quot; + s);\n            }\n        }, new MediaConstraints());\n    }\n\n    private PeerConnection generateICE (){\n        Log.d(TAG, &quot;generateICE: &quot;);\n        ArrayList&lt;PeerConnection.IceServer&gt; iceServers = new ArrayList&lt;&gt;();\n        List&lt;String&gt; STUNList= Arrays.asList(\n                &quot;stun:stun.l.google.com:19302&quot;,\n                &quot;stun:stun1.l.google.com:19302&quot;,\n                &quot;stun:stun2.l.google.com:19302&quot;,\n                &quot;stun:stun3.l.google.com:19302&quot;,\n                &quot;stun:stun4.l.google.com:19302&quot;,\n                &quot;stun:stun.vodafone.ro:3478&quot;,\n                &quot;stun:stun.samsungsmartcam.com:3478&quot;,\n                &quot;stun:stun.services.mozilla.com:3478&quot;\n\n        );\n        for(String i:STUNList){\n            PeerConnection.IceServer.Builder iceServerBuilder = PeerConnection.IceServer.builder(i);\n            iceServerBuilder.setTlsCertPolicy(PeerConnection.TlsCertPolicy.TLS_CERT_POLICY_INSECURE_NO_CHECK); //this does the magic.\n            PeerConnection.IceServer iceServer =  iceServerBuilder.createIceServer();\n            iceServers.add(iceServer);\n        }\n        PeerConnection.RTCConfiguration rtcConfig = new PeerConnection.RTCConfiguration(iceServers);\n\n        PeerConnection.Observer observer = new PeerConnection.Observer() {\n            @Override\n            public void onSignalingChange(PeerConnection.SignalingState signalingState) {\n                Log.d(TAG, &quot;onSignalingChange: &quot;+signalingState);\n            }\n\n            @Override\n            public void onIceConnectionChange(PeerConnection.IceConnectionState iceConnectionState) {\n                Log.d(TAG, &quot;onIceConnectionChange: &quot;+iceConnectionState);\n            }\n\n            @Override\n            public void onIceConnectionReceivingChange(boolean b) {\n                Log.d(TAG, &quot;onIceConnectionReceivingChange: Boolean = &quot;+b);\n            }\n\n            @Override\n            public void onIceGatheringChange(PeerConnection.IceGatheringState iceGatheringState) {\n                Log.d(TAG, &quot;onIceGatheringChange: &quot;+iceGatheringState);\n            }\n\n            @Override\n            public void onIceCandidate(IceCandidate iceCandidate) {\n                Log.d(TAG, &quot;onIceCandidate: &quot;+iceCandidate);\n            }\n\n            @Override\n            public void onIceCandidatesRemoved(IceCandidate[] iceCandidates) {\n                Log.d(TAG, &quot;onIceCandidatesRemoved: &quot;+iceCandidates);\n            }\n\n            @Override\n            public void onAddStream(MediaStream mediaStream) {\n                Log.d(TAG, &quot;onAddStream: &quot;+mediaStream);\n            }\n\n            @Override\n            public void onRemoveStream(MediaStream mediaStream) {\n                Log.d(TAG, &quot;onRemoveStream: &quot;+mediaStream);\n            }\n\n            @Override\n            public void onDataChannel(DataChannel dataChannel) {\n                Log.d(TAG, &quot;onDataChannel: &quot;+dataChannel);\n            }\n\n            @Override\n            public void onRenegotiationNeeded() {\n                Log.d(TAG, &quot;onRenegotiationNeeded: &quot;);\n            }\n\n            @Override\n            public void onAddTrack(RtpReceiver rtpReceiver, MediaStream[] mediaStreams) {\n                Log.d(TAG, &quot;onAddTrack: &quot;+rtpReceiver+&quot;--- &quot;+mediaStreams);\n            }\n        };\n        Log.d(TAG, &quot;generateICE: &quot;);\n        return peerConnectionFactory.createPeerConnection(rtcConfig,observer);\n        \n        \n    }\n\n\n}\n</code></pre>\n<p><strong>Update:-</strong> With the suggestions from @PhilippHancke. I edit my code:-</p>\n<pre><code>private void setupLocalTracks() {\n        // Create video capturer\n        videoCapturer = createVideoCapturer();\n\n        // Create video source\n        videoSource = peerConnectionFactory.createVideoSource(false);\n        localVideoTrack = peerConnectionFactory.createVideoTrack(&quot;local_video&quot;, videoSource);\n        // Create audio source and track\n        AudioSource audioSource = peerConnectionFactory.createAudioSource(new MediaConstraints());\n        localAudioTrack = peerConnectionFactory.createAudioTrack(&quot;local_audio&quot;, audioSource);\n\n        // Create local media stream\n        localMediaStream = peerConnectionFactory.createLocalMediaStream(&quot;local_stream&quot;);\n        localMediaStream.addTrack(localVideoTrack);\n        localMediaStream.addTrack(localAudioTrack);\n        peerConnection.addStream(localMediaStream);\n\n    }\n</code></pre>\n<p>Now i can see much more details in log which has SDP offer/answer and ice too.I first call  <code>peerConnection.createOffer(new SimpleSdpObserver()</code>which generate SessionDescription for User ID 4.</p>\n<pre><code>Message Received From User ID == 4 Message = v=0\no=- 5794866635417549132 2 IN IP4 127.0.0.1\ns=-\nt=0 0\na=group:BUNDLE audio video\na=msid-semantic: WMS local_stream\nm=audio 9 UDP/TLS/RTP/SAVPF 111 103 104 9 102 0 8 106 105 13 110 112 113 126\nc=IN IP4 0.0.0.0\na=rtcp:9 IN IP4 0.0.0.0\na=ice-ufrag:EXXZ\na=ice-pwd:NuOsEt2YVDiZkxFomvHPhUW+\na=ice-options:trickle renomination\na=fingerprint:sha-256 F2:1E:77:5D:21:00:15:65:00:CA:24:BE:65:66:95:09:B4:10:4C:80:C0:16:90:4A:22:E7:ED:BA:D4:A8:F5:56\na=setup:actpass\na=mid:audio\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\na=sendrecv\na=rtcp-mux\na=rtpmap:111 opus/48000/2\na=rtcp-fb:111 transport-cc\na=fmtp:111 minptime=10;useinbandfec=1\na=rtpmap:103 ISAC/16000\na=rtpmap:104 ISAC/32000\na=rtpmap:9 G722/8000\na=rtpmap:102 ILBC/8000\na=rtpmap:0 PCMU/8000\na=rtpmap:8 PCMA/8000\na=rtpmap:106 CN/32000\na=rtpmap:105 CN/16000\na=rtpmap:13 CN/8000\na=rtpmap:110 telephone-event/48000\na=rtpmap:112 telephone-event/32000\na=rtpmap:113 telephone-event/16000\na=rtpmap:126 telephone-event/8000\na=ssrc:473446091 cname:WQlLPNcKBxol0kL2\na=ssrc:473446091 msid:local_stream local_audio\na=ssrc:473446091 mslabel:local_stream\na=ssrc:473446091 label:local_audio\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 98 99 100 101 127 123 125\nc=IN IP4 0.0.0.0\na=rtcp:9 IN IP4 0.0.0.0\na=ice-ufrag:EXXZ\na=ice-pwd:NuOsEt2YVDiZkxFomvHPhUW+\na=ice-options:trickle renomination\na=fingerprint:sha-256 F2:1E:77:5D:21:00:15:65:00:CA:24:BE:65:66:95:09:B4:10:4C:80:C0:16:90:4A:22:E7:ED:BA:D4:A8:F5:56\na=setup:actpass\na=mid:video\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\na=extmap:13 urn:3gpp:video-orientation\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\na=sendrecv\na=rtcp-mux\na=rtcp-rsize\na=rtpmap:96 VP8/90000\na=rtcp-fb:96 goog-remb\na=rtcp-fb:96 transport-cc\na=rtcp-fb:96 ccm fir\na=rtcp-fb:96 nack\na=rtcp-fb:96 nack pli\na=rtpmap:97 rtx/90000\na=fmtp:97 apt=96\na=rtpmap:98 VP9/90000\na=rtcp-fb:98 goog-remb\na=rtcp-fb:98 transport-cc\na=rtcp-fb:98 ccm fir\na=rtcp-fb:98 nack\na=rtcp-fb:98 nack pli\na=rtpmap:99 rtx/90000\na=fmtp:99 apt=98\na=rtpmap:100 H264/90000\na=rtcp-fb:100 goog-remb\na=rtcp-fb:100 transport-cc\na=rtcp-fb:100 ccm fir\na=rtcp-fb:100 nack\na=rtcp-fb:100 nack pli\na=fmtp:100 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\na=rtpmap:101 rtx/90000\na=fmtp:101 apt=100\na=rtpmap:127 red/90000\na=rtpmap:123 rtx/90000\na=fmtp:123 apt=127\na=rtpmap:125 ulpfec/90000\na=ssrc-group:FID 1370797121 3619002051\na=ssrc:1370797121 cname:WQlLPNcKBxol0kL2\na=ssrc:1370797121 msid:local_stream local_video\na=ssrc:1370797121 mslabel:local_stream\na=ssrc:1370797121 label:local_video\na=ssrc:3619002051 cname:WQlLPNcKBxol0kL2\na=ssrc:3619002051 msid:local_stream local_video\na=ssrc:3619002051 mslabel:local_stream\na=ssrc:3619002051 label:local_video\n\nMessage Received From User ID == 206 Message = v=0\no=- 3655990368999828607 2 IN IP4 127.0.0.1\ns=-\nt=0 0\na=group:BUNDLE audio video\na=msid-semantic: WMS remote_stream\nm=audio 9 UDP/TLS/RTP/SAVPF 111 103 104 9 102 0 8 106 105 13 110 112 113 126\nc=IN IP4 0.0.0.0\na=rtcp:9 IN IP4 0.0.0.0\na=ice-ufrag:0O57\na=ice-pwd:FSyUVENoJglSvKVpeih/bzXA\na=ice-options:trickle renomination\na=fingerprint:sha-256 B8:43:6B:EE:38:08:19:85:DA:97:AA:45:2D:46:17:90:9E:8B:D2:D8:D7:9D:04:97:22:DE:C9:CB:FC:A1:DB:5B\na=setup:active\na=mid:audio\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\na=sendrecv\na=rtcp-mux\na=rtpmap:111 opus/48000/2\na=rtcp-fb:111 transport-cc\na=fmtp:111 minptime=10;useinbandfec=1\na=rtpmap:103 ISAC/16000\na=rtpmap:104 ISAC/32000\na=rtpmap:9 G722/8000\na=rtpmap:102 ILBC/8000\na=rtpmap:0 PCMU/8000\na=rtpmap:8 PCMA/8000\na=rtpmap:106 CN/32000\na=rtpmap:105 CN/16000\na=rtpmap:13 CN/8000\na=rtpmap:110 telephone-event/48000\na=rtpmap:112 telephone-event/32000\na=rtpmap:113 telephone-event/16000\na=rtpmap:126 telephone-event/8000\na=ssrc:624557633 cname:PYJF7YMAd+hgS7Zk\na=ssrc:624557633 msid:remote_stream remote_audio\na=ssrc:624557633 mslabel:remote_stream\na=ssrc:624557633 label:remote_audio\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 98 99 100 101 127 123 125\nc=IN IP4 0.0.0.0\na=rtcp:9 IN IP4 0.0.0.0\na=ice-ufrag:0O57\na=ice-pwd:FSyUVENoJglSvKVpeih/bzXA\na=ice-options:trickle renomination\na=fingerprint:sha-256 B8:43:6B:EE:38:08:19:85:DA:97:AA:45:2D:46:17:90:9E:8B:D2:D8:D7:9D:04:97:22:DE:C9:CB:FC:A1:DB:5B\na=setup:active\na=mid:video\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\na=extmap:13 urn:3gpp:video-orientation\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\na=sendrecv\na=rtcp-mux\na=rtcp-rsize\na=rtpmap:96 VP8/90000\na=rtcp-fb:96 goog-remb\na=rtcp-fb:96 transport-cc\na=rtcp-fb:96 ccm fir\na=rtcp-fb:96 nack\na=rtcp-fb:96 nack pli\na=rtpmap:97 rtx/90000\na=fmtp:97 apt=96\na=rtpmap:98 VP9/90000\na=rtcp-fb:98 goog-remb\na=rtcp-fb:98 transport-cc\na=rtcp-fb:98 ccm fir\na=rtcp-fb:98 nack\na=rtcp-fb:98 nack pli\na=rtpmap:99 rtx/90000\na=fmtp:99 apt=98\na=rtpmap:100 H264/90000\na=rtcp-fb:100 goog-remb\na=rtcp-fb:100 transport-cc\na=rtcp-fb:100 ccm fir\na=rtcp-fb:100 nack\na=rtcp-fb:100 nack pli\na=fmtp:100 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\na=rtpmap:101 rtx/90000\na=fmtp:101 apt=100\na=rtpmap:127 red/90000\na=rtpmap:123 rtx/90000\na=fmtp:123 apt=127\na=rtpmap:125 ulpfec/90000\na=ssrc-group:FID 2171330257 4072720398\na=ssrc:2171330257 cname:PYJF7YMAd+hgS7Zk\na=ssrc:2171330257 msid:remote_stream remote_video\na=ssrc:2171330257 mslabel:remote_stream\na=ssrc:2171330257 label:remote_video\na=ssrc:4072720398 cname:PYJF7YMAd+hgS7Zk\na=ssrc:4072720398 msid:remote_stream remote_video\na=ssrc:4072720398 mslabel:remote_stream\na=ssrc:4072720398 label:remote_video\n</code></pre>\n<p>In the SDP above i can ICE candidates too which creates confusion for me because when other receive this SDP then how user would save it, as SDP (setRemoteDescription) or treat it as ICE candidates beucase it contains both.</p>\n<p>Also i can see in log that <code>onIceCandidate</code> calls multiples times with these kinds of values</p>\n<pre><code>audio:0:candidate:1587269880 1 udp 2122262783 2406:b400:52:820d:70e0:90ff:fe12:3352 35364 typ host generation 0 ufrag B/Tc network-id 4 network-cost 10::UNKNOWN\n\naudio:0:candidate:393917512 1 udp 2122194687 192.168.0.123 42552 typ host generation 0 ufrag B/Tc network-id 3 network-cost 10::UNKNOWN\n\naudio:0:candidate:559267639 1 udp 2122136831 ::1 50036 typ host generation 0 ufrag B/Tc network-id 2::UNKNOWN\n</code></pre>\n<p>Do i need to send these information to other user as ICE (it calls around 10 times approx) every time it calls <code>onIceCandidate</code>?</p>\n<p>After these exchange which method should i call to initiate the call?</p>\n"},{"tags":["java","networking","pcap","jnetpcap","pcap4j"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1678837730,"post_id":75739324,"comment_id":133610373,"body_markdown":"Is this related to you [previous question](https://stackoverflow.com/questions/75737958/jnetpcap-pcap-loop-issues)?  If so, consider updating the previous question instead and avoid &quot;double posting&quot; - it&#39;s not helpful","body":"Is this related to you <a href=\"https://stackoverflow.com/questions/75737958/jnetpcap-pcap-loop-issues\">previous question</a>?  If so, consider updating the previous question instead and avoid &quot;double posting&quot; - it&#39;s not helpful"},{"owner":{"account_id":299745,"reputation":739,"user_id":606513,"accept_rate":74,"display_name":"schneida"},"score":0,"creation_date":1687514788,"post_id":75739324,"comment_id":134950919,"body_markdown":"I have exactly the same problem - for me it worked very reliable with Java 8, but after switching to Java 11 I have this issue almost all the time. I&#39;ve opened a ticket in the jnetpcap repository - see https://github.com/slytechs-repos/jnetpcap-legacy/issues/8","body":"I have exactly the same problem - for me it worked very reliable with Java 8, but after switching to Java 11 I have this issue almost all the time. I&#39;ve opened a ticket in the jnetpcap repository - see <a href=\"https://github.com/slytechs-repos/jnetpcap-legacy/issues/8\" rel=\"nofollow noreferrer\">github.com/slytechs-repos/jnetpcap-legacy/issues/8</a>"}],"answers":[{"tags":[],"owner":{"account_id":299745,"reputation":739,"user_id":606513,"accept_rate":74,"display_name":"schneida"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687950948,"creation_date":1687950948,"answer_id":76572647,"question_id":75739324,"body_markdown":"I had the same issues with jnetpcap loop not working reliably any more (in my case with Java 11, Java 8 worked fine). The solution was to switch to using the `nextEx` API like so:\r\n\r\n    StringBuilder errorBuffer = new StringBuilder();\r\n    final Pcap pcap = Pcap.openOffline(&quot;C:\\\\dumpcap.pcap&quot;, errorBuffer);\r\n    final PcapPacket packet = new PcapPacket(JMemory.Type.POINTER);\r\n\r\n    int packetCount = 0;\r\n    while (!Thread.currentThread().isInterrupted()) {\r\n        int resultCode = pcap.nextEx(packet);\r\n        if (resultCode == 1) {\r\n            System.out.println(&quot;Recorded packet &quot; + packet);\r\n            packetCount++;\r\n        } else if (resultCode != 0) {\r\n            System.out.println(&quot;Finished reading: &quot; + resultCode);\r\n            //0 means that there was not packet, but that&#39;s generally OK - aynthing else and we should abort\r\n            break;\r\n        }\r\n    }\r\n    System.out.println(&quot;Read packets: &quot; + packetCount);\r\n\r\n    pcap.close();","title":"Issue capturing packets from pcap file using JNetPcap","body":"<p>I had the same issues with jnetpcap loop not working reliably any more (in my case with Java 11, Java 8 worked fine). The solution was to switch to using the <code>nextEx</code> API like so:</p>\n<pre><code>StringBuilder errorBuffer = new StringBuilder();\nfinal Pcap pcap = Pcap.openOffline(&quot;C:\\\\dumpcap.pcap&quot;, errorBuffer);\nfinal PcapPacket packet = new PcapPacket(JMemory.Type.POINTER);\n\nint packetCount = 0;\nwhile (!Thread.currentThread().isInterrupted()) {\n    int resultCode = pcap.nextEx(packet);\n    if (resultCode == 1) {\n        System.out.println(&quot;Recorded packet &quot; + packet);\n        packetCount++;\n    } else if (resultCode != 0) {\n        System.out.println(&quot;Finished reading: &quot; + resultCode);\n        //0 means that there was not packet, but that's generally OK - aynthing else and we should abort\n        break;\n    }\n}\nSystem.out.println(&quot;Read packets: &quot; + packetCount);\n\npcap.close();\n</code></pre>\n"}],"owner":{"account_id":28017761,"reputation":31,"user_id":21399209,"display_name":"elnino17"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1687950948,"creation_date":1678837186,"question_id":75739324,"body_markdown":"I&#39;m using JNetPcap to capture packets from a pcap file in Java. The code works fine sometimes, but other times it doesn&#39;t capture any packets even though the pcap file is full of packets.\r\n\r\nHere&#39;s my code:\r\n\r\n\r\n```\r\nimport org.jnetpcap.Pcap;\r\nimport org.jnetpcap.packet.PcapPacketHandler;\r\n\r\npublic class OfflinePcapCapture {\r\n    public static void main(String[] args) {\r\n        String pcapFilePath = &quot;D:/hello/1212.pcap&quot;;\r\n        StringBuilder errorBuffer = new StringBuilder();\r\n        Pcap pcap = Pcap.openOffline(pcapFilePath, errorBuffer);\r\n        if (pcap == null) {\r\n            System.err.println(&quot;Error opening pcap file: &quot; + errorBuffer);\r\n            return;\r\n        }\r\n\r\n        PcapPacketHandler&lt;String&gt; packetHandler = (packet, user) -&gt; System.out.println(packet.toString());\r\n\r\n        int packetCount = pcap.loop(-1, packetHandler, &quot;&quot;);\r\n        if (packetCount &lt; 0) {\r\n            System.err.println(&quot;Error capturing packets: &quot; + pcap.getErr());\r\n        } else {\r\n            System.out.println(&quot;Captured &quot; + packetCount + &quot; packets from &quot; + pcapFilePath);\r\n        }\r\n        pcap.close();\r\n    }\r\n}\r\n```\r\n\r\n\r\nI&#39;ve tried removing the filter expression to capture all packets in the file, but that didn&#39;t change anything. Sometimes the code captures packets from the file, and other times it doesn&#39;t capture any packets even though the file is full of packets.\r\n\r\nOne thing I noticed is that sometimes the code captures packets from the file on the first try, and other times I have to rerun the code multiple times to get a result.\r\n\r\nAny help on resolving this issue would be greatly appreciated. Thank you in advance!","title":"Issue capturing packets from pcap file using JNetPcap","body":"<p>I'm using JNetPcap to capture packets from a pcap file in Java. The code works fine sometimes, but other times it doesn't capture any packets even though the pcap file is full of packets.</p>\n<p>Here's my code:</p>\n<pre><code>import org.jnetpcap.Pcap;\nimport org.jnetpcap.packet.PcapPacketHandler;\n\npublic class OfflinePcapCapture {\n    public static void main(String[] args) {\n        String pcapFilePath = &quot;D:/hello/1212.pcap&quot;;\n        StringBuilder errorBuffer = new StringBuilder();\n        Pcap pcap = Pcap.openOffline(pcapFilePath, errorBuffer);\n        if (pcap == null) {\n            System.err.println(&quot;Error opening pcap file: &quot; + errorBuffer);\n            return;\n        }\n\n        PcapPacketHandler&lt;String&gt; packetHandler = (packet, user) -&gt; System.out.println(packet.toString());\n\n        int packetCount = pcap.loop(-1, packetHandler, &quot;&quot;);\n        if (packetCount &lt; 0) {\n            System.err.println(&quot;Error capturing packets: &quot; + pcap.getErr());\n        } else {\n            System.out.println(&quot;Captured &quot; + packetCount + &quot; packets from &quot; + pcapFilePath);\n        }\n        pcap.close();\n    }\n}\n</code></pre>\n<p>I've tried removing the filter expression to capture all packets in the file, but that didn't change anything. Sometimes the code captures packets from the file, and other times it doesn't capture any packets even though the file is full of packets.</p>\n<p>One thing I noticed is that sometimes the code captures packets from the file on the first try, and other times I have to rerun the code multiple times to get a result.</p>\n<p>Any help on resolving this issue would be greatly appreciated. Thank you in advance!</p>\n"},{"tags":["java","json","jsonschema"],"comments":[{"owner":{"account_id":13115303,"reputation":1248,"user_id":9474700,"display_name":"behrad"},"score":0,"creation_date":1645175503,"post_id":71170652,"comment_id":125806365,"body_markdown":"Is shop an array on an object? if the shop is an object it has just 2 property or it is dynamic too?","body":"Is shop an array on an object? if the shop is an object it has just 2 property or it is dynamic too?"},{"owner":{"account_id":24298114,"reputation":41,"user_id":18242025,"display_name":"Anuja"},"score":0,"creation_date":1645176413,"post_id":71170652,"comment_id":125806685,"body_markdown":"@behrad it is like shop having &quot;c73bcdcc-2669-4bf6-81d3-e4ae73fb11fd&quot; as a shopId , &quot;123e4567-e89b-12d3-a456-426655443210&quot; and &quot;123e4567-e89b-12d3-a456-426655443211&quot; are the variants of shopId. shop is an object having only one shopId but shopId has variants as many as we want.","body":"@behrad it is like shop having &quot;c73bcdcc-2669-4bf6-81d3-e4ae73fb11fd&quot; as a shopId , &quot;123e4567-e89b-12d3-a456-426655443210&quot; and &quot;123e4567-e89b-12d3-a456-426655443211&quot; are the variants of shopId. shop is an object having only one shopId but shopId has variants as many as we want."}],"answers":[{"tags":[],"owner":{"account_id":9320960,"reputation":476,"user_id":6919700,"display_name":"pxcv7r"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645176288,"creation_date":1645175987,"answer_id":71171014,"question_id":71170652,"body_markdown":"To validate in JSON schema that a string conforms to a regular expression pattern use\r\n`{ &quot;type&quot;: &quot;string&quot;, &quot;pattern&quot;: &quot;\\b[0-9a-f]{8}\\b-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-\\b[0-9a-f]{12}\\b&quot; }`\r\n\r\nThe concrete pattern is adapted from the question https://stackoverflow.com/questions/136505/searching-for-uuids-in-text-with-regex; see there for more details.\r\n\r\nTo validate UUID in particular, you may use `format` in JSON schema, which provides built-in support for the UUID syntax: `{ &quot;type&quot;: &quot;string&quot;, &quot;format&quot;: &quot;uuid&quot; }`\r\n\r\nSee https://json-schema.org/understanding-json-schema/reference/string.html","title":"How to validate property field which is UUID in json schema?","body":"<p>To validate in JSON schema that a string conforms to a regular expression pattern use\n<code>{ &quot;type&quot;: &quot;string&quot;, &quot;pattern&quot;: &quot;\\b[0-9a-f]{8}\\b-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-\\b[0-9a-f]{12}\\b&quot; }</code></p>\n<p>The concrete pattern is adapted from the question <a href=\"https://stackoverflow.com/questions/136505/searching-for-uuids-in-text-with-regex;\">Searching for UUIDs in text with regex</a> see there for more details.</p>\n<p>To validate UUID in particular, you may use <code>format</code> in JSON schema, which provides built-in support for the UUID syntax: <code>{ &quot;type&quot;: &quot;string&quot;, &quot;format&quot;: &quot;uuid&quot; }</code></p>\n<p>See <a href=\"https://json-schema.org/understanding-json-schema/reference/string.html\" rel=\"nofollow noreferrer\">https://json-schema.org/understanding-json-schema/reference/string.html</a></p>\n"},{"tags":[],"owner":{"account_id":80583,"reputation":1756,"user_id":227785,"display_name":"Clemens"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1645204500,"creation_date":1645204500,"answer_id":71177414,"question_id":71170652,"body_markdown":"You need &quot;patternProperties&quot;:\r\n\r\n    { \r\n      &quot;$schema&quot;:&quot;http://json-schema.org/draft-07/schema#&quot;,\r\n      &quot;type&quot;:&quot;object&quot;,\r\n      &quot;properties&quot;: {\r\n        &quot;shop&quot;:{\r\n          &quot;type&quot;:&quot;object&quot;,\r\n          &quot;additionalProperties&quot;:false,\r\n          &quot;patternProperties&quot;:{\r\n            &quot;[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}&quot;: {\r\n              &quot;type&quot;:&quot;object&quot;,\r\n              &quot;patternProperties&quot; :{\r\n                &quot;[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}&quot;:{\r\n                  &quot;type&quot;:&quot;object&quot;,\r\n                   &quot;properties&quot;:{\r\n                     &quot;quantity&quot;:{\r\n                       &quot;type&quot;:&quot;object&quot;,\r\n                       &quot;properties&quot;:{\r\n                         &quot;value&quot;:{\r\n                           &quot;type&quot;:&quot;integer&quot;\r\n                        }\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n[![Viewes in JSONBuddy][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iWRYm.png","title":"How to validate property field which is UUID in json schema?","body":"<p>You need &quot;patternProperties&quot;:</p>\n<pre><code>{ \n  &quot;$schema&quot;:&quot;http://json-schema.org/draft-07/schema#&quot;,\n  &quot;type&quot;:&quot;object&quot;,\n  &quot;properties&quot;: {\n    &quot;shop&quot;:{\n      &quot;type&quot;:&quot;object&quot;,\n      &quot;additionalProperties&quot;:false,\n      &quot;patternProperties&quot;:{\n        &quot;[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}&quot;: {\n          &quot;type&quot;:&quot;object&quot;,\n          &quot;patternProperties&quot; :{\n            &quot;[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}&quot;:{\n              &quot;type&quot;:&quot;object&quot;,\n               &quot;properties&quot;:{\n                 &quot;quantity&quot;:{\n                   &quot;type&quot;:&quot;object&quot;,\n                   &quot;properties&quot;:{\n                     &quot;value&quot;:{\n                       &quot;type&quot;:&quot;integer&quot;\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/iWRYm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iWRYm.png\" alt=\"Viewes in JSONBuddy\" /></a></p>\n"},{"tags":[],"owner":{"account_id":6642040,"reputation":2057,"user_id":5127499,"accept_rate":100,"display_name":"Carsten"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647287684,"creation_date":1647287684,"answer_id":71473506,"question_id":71170652,"body_markdown":"Building on @pxcv7r&#39;s answer:\r\n&gt; To validate UUID in particular, you may use format in JSON schema, which provides built-in support for the UUID syntax: { &quot;type&quot;: &quot;string&quot;, &quot;format&quot;: &quot;uuid&quot; }\r\n&gt; \r\n&gt; See https://json-schema.org/understanding-json-schema/reference/string.html\r\n\r\nAdditionally, you can use a combination of [`&quot;propertyNames&quot;`][1] and [`&quot;unevaluatedProperties&quot;`][2] to avoid the need for any regular expression:\r\n\r\n```json\r\n{\r\n  &quot;$schema&quot;: &quot;https://json-schema.org/draft/2019-09/schema&quot;,\r\n  &quot;type&quot;: &quot;object&quot;,\r\n  &quot;properties&quot;: {\r\n    &quot;status&quot;: {\r\n      &quot;type&quot;: &quot;integer&quot;\r\n    },\r\n    &quot;id&quot;: {\r\n      &quot;type&quot;: &quot;string&quot;,\r\n      &quot;format&quot;: &quot;uuid&quot;\r\n    },\r\n    &quot;shop&quot;: {\r\n      &quot;type&quot;: &quot;object&quot;,\r\n      &quot;minProperties&quot;: 1,\r\n      &quot;maxProperties&quot;: 1,\r\n      &quot;propertyNames&quot;: {\r\n        &quot;format&quot;: &quot;uuid&quot;\r\n      },\r\n      &quot;unevaluatedProperties&quot;: {\r\n        &quot;type&quot;:&quot;object&quot;,\r\n        &quot;minProperties&quot;: 1,\r\n        &quot;propertyNames&quot;: {\r\n          &quot;format&quot;: &quot;uuid&quot;\r\n        },\r\n        &quot;unevaluatedProperties&quot;: {\r\n          &quot;title&quot;: &quot;single variant of a shop&quot;,\r\n          &quot;type&quot;: &quot;object&quot;,\r\n          &quot;properties&quot;: {\r\n            &quot;quantity&quot;: {\r\n              &quot;type&quot;: &quot;object&quot;,\r\n              &quot;properties&quot;: {\r\n                &quot;value&quot;: {\r\n                  &quot;type&quot;: &quot;integer&quot;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n  [1]: https://json-schema.org/understanding-json-schema/reference/object.html#property-names\r\n  [2]: https://json-schema.org/understanding-json-schema/reference/object.html#unevaluated-properties","title":"How to validate property field which is UUID in json schema?","body":"<p>Building on @pxcv7r's answer:</p>\n<blockquote>\n<p>To validate UUID in particular, you may use format in JSON schema, which provides built-in support for the UUID syntax: { &quot;type&quot;: &quot;string&quot;, &quot;format&quot;: &quot;uuid&quot; }</p>\n<p>See <a href=\"https://json-schema.org/understanding-json-schema/reference/string.html\" rel=\"nofollow noreferrer\">https://json-schema.org/understanding-json-schema/reference/string.html</a></p>\n</blockquote>\n<p>Additionally, you can use a combination of <a href=\"https://json-schema.org/understanding-json-schema/reference/object.html#property-names\" rel=\"nofollow noreferrer\"><code>&quot;propertyNames&quot;</code></a> and <a href=\"https://json-schema.org/understanding-json-schema/reference/object.html#unevaluated-properties\" rel=\"nofollow noreferrer\"><code>&quot;unevaluatedProperties&quot;</code></a> to avoid the need for any regular expression:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;$schema&quot;: &quot;https://json-schema.org/draft/2019-09/schema&quot;,\n  &quot;type&quot;: &quot;object&quot;,\n  &quot;properties&quot;: {\n    &quot;status&quot;: {\n      &quot;type&quot;: &quot;integer&quot;\n    },\n    &quot;id&quot;: {\n      &quot;type&quot;: &quot;string&quot;,\n      &quot;format&quot;: &quot;uuid&quot;\n    },\n    &quot;shop&quot;: {\n      &quot;type&quot;: &quot;object&quot;,\n      &quot;minProperties&quot;: 1,\n      &quot;maxProperties&quot;: 1,\n      &quot;propertyNames&quot;: {\n        &quot;format&quot;: &quot;uuid&quot;\n      },\n      &quot;unevaluatedProperties&quot;: {\n        &quot;type&quot;:&quot;object&quot;,\n        &quot;minProperties&quot;: 1,\n        &quot;propertyNames&quot;: {\n          &quot;format&quot;: &quot;uuid&quot;\n        },\n        &quot;unevaluatedProperties&quot;: {\n          &quot;title&quot;: &quot;single variant of a shop&quot;,\n          &quot;type&quot;: &quot;object&quot;,\n          &quot;properties&quot;: {\n            &quot;quantity&quot;: {\n              &quot;type&quot;: &quot;object&quot;,\n              &quot;properties&quot;: {\n                &quot;value&quot;: {\n                  &quot;type&quot;: &quot;integer&quot;\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":24298114,"reputation":41,"user_id":18242025,"display_name":"Anuja"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3404,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1687950879,"creation_date":1645174101,"question_id":71170652,"body_markdown":"       {\r\n      &quot;status&quot;: 200,\r\n      &quot;id&quot;: &quot;123e4567-e89b-12d3-a456-426655440000&quot;,\r\n      &quot;shop&quot;: {\r\n        &quot;c73bcdcc-2669-4bf6-81d3-e4ae73fb11fd&quot;: {\r\n          &quot;123e4567-e89b-12d3-a456-426655443210&quot;: {\r\n            &quot;quantity&quot;: {\r\n              &quot;value&quot;: 10\r\n            }\r\n          },\r\n          &quot;123e4567-e89b-12d3-a456-426655443211&quot;: {\r\n            &quot;quantity&quot;: {\r\n              &quot;value&quot;: 20\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\nThis is my json response. I want to validate the fields &quot;c73bcdcc-2669-4bf6-81d3-e4ae73fb11fd&quot; , &quot;123e4567-e89b-12d3-a456-426655443210&quot; and &quot;123e4567-e89b-12d3-a456-426655443211&quot;, which are uniquely generated every time whenever hits the endpoint.","title":"How to validate property field which is UUID in json schema?","body":"<pre><code>   {\n  &quot;status&quot;: 200,\n  &quot;id&quot;: &quot;123e4567-e89b-12d3-a456-426655440000&quot;,\n  &quot;shop&quot;: {\n    &quot;c73bcdcc-2669-4bf6-81d3-e4ae73fb11fd&quot;: {\n      &quot;123e4567-e89b-12d3-a456-426655443210&quot;: {\n        &quot;quantity&quot;: {\n          &quot;value&quot;: 10\n        }\n      },\n      &quot;123e4567-e89b-12d3-a456-426655443211&quot;: {\n        &quot;quantity&quot;: {\n          &quot;value&quot;: 20\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>This is my json response. I want to validate the fields &quot;c73bcdcc-2669-4bf6-81d3-e4ae73fb11fd&quot; , &quot;123e4567-e89b-12d3-a456-426655443210&quot; and &quot;123e4567-e89b-12d3-a456-426655443211&quot;, which are uniquely generated every time whenever hits the endpoint.</p>\n"},{"tags":["java","json","android-recyclerview","retrofit","expandable"],"owner":{"account_id":28273933,"reputation":1,"user_id":21616712,"display_name":"Vishal Aparnathi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687950437,"creation_date":1687950437,"question_id":76572573,"body_markdown":"How to print this Json response from api Call using Retrofit (parent-child) hirarchy or tree? in exandable recycler view or listview, one by one?\r\n\r\nHow to print this Json response from api Call using Retrofit (parent-child) hirarchy or tree? in exandable recycler view or listview, one by one?\r\n\r\nHow to print this Json response from api Call using Retrofit (parent-child) hirarchy or tree? in exandable recycler view or listview, one by one?\r\n\r\nHow to print this Json response from api Call using Retrofit (parent-child) hirarchy or tree? in exandable recycler view or listview, one by one?\r\n\r\nHow to print this Json response from api Call using Retrofit (parent-child) hirarchy or tree? in exandable recycler view or listview, one by one?\r\n\r\nHow to print this Json response from api Call using Retrofit (parent-child) hirarchy or tree? in exandable recycler view or listview, one by one?\r\n\r\n\r\n[enter image description here](https://i.stack.imgur.com/aqXrc.png)","title":"How to print this Json response from api Call using Retrofit (parent-child) hirarchy or tree? in exandable recycler view or listview, one by one?","body":"<p>How to print this Json response from api Call using Retrofit (parent-child) hirarchy or tree? in exandable recycler view or listview, one by one?</p>\n<p>How to print this Json response from api Call using Retrofit (parent-child) hirarchy or tree? in exandable recycler view or listview, one by one?</p>\n<p>How to print this Json response from api Call using Retrofit (parent-child) hirarchy or tree? in exandable recycler view or listview, one by one?</p>\n<p>How to print this Json response from api Call using Retrofit (parent-child) hirarchy or tree? in exandable recycler view or listview, one by one?</p>\n<p>How to print this Json response from api Call using Retrofit (parent-child) hirarchy or tree? in exandable recycler view or listview, one by one?</p>\n<p>How to print this Json response from api Call using Retrofit (parent-child) hirarchy or tree? in exandable recycler view or listview, one by one?</p>\n<p><a href=\"https://i.stack.imgur.com/aqXrc.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","swagger","openapi","swagger-codegen","openapi-generator"],"comments":[{"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"score":0,"creation_date":1613845052,"post_id":66294655,"comment_id":117204333,"body_markdown":"I am pretty sure you can generate your server without Delegate.. At work we only generate the API interface, which is then overridden by the controller","body":"I am pretty sure you can generate your server without Delegate.. At work we only generate the API interface, which is then overridden by the controller"},{"owner":{"account_id":5248284,"reputation":2046,"user_id":4193280,"accept_rate":31,"display_name":"Saurabh Chaturvedi"},"score":2,"creation_date":1613853112,"post_id":66294655,"comment_id":117206452,"body_markdown":"Yes , we can by putting useLombok=false in open-api generator plugin . But i want to understand for which use-case we use this pattern ?","body":"Yes , we can by putting useLombok=false in open-api generator plugin . But i want to understand for which use-case we use this pattern ?"}],"answers":[{"tags":[],"owner":{"account_id":446229,"reputation":1630,"user_id":839158,"display_name":"gere"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1613853479,"creation_date":1613853479,"answer_id":66296299,"question_id":66294655,"body_markdown":"First of all a clarification: as already mentioned in a comment, you are not forced to use the delegation. On the contrary, the default behavior of the Spring generator is to not use the delegation pattern, as you can easily check in the [docs][1]. In this case it will generate only the PersonApi interface and PersonApiController.\r\n\r\nComing to your question, why using delegation?\r\n\r\nThis allows you to write a class that implements PersonApiDelegate, that can be easily injected in the generated code, without any need to manually touch generated sources, and keeping the implementation safe from possible future changes in the code generation.\r\n\r\nLet&#39;s think what could happen without delegation. \r\n\r\nA naive approach would be to generate the sources and then write directly the implementation inside the generated PersonController. Of course the next time there is a need to run the generator, it would be a big mess. All the implementation would be lost...\r\n\r\nA slightly better scenario, but not perfect, would be to write a class that extends PersonController. That would keep the implementation safe from being overwritten during generation, but would not protect it from future changes of the generation engine: as a bare minimum the implementation class would need to implement the PersonController constructor. Right now the constructor of a generated controller has the following signature `PersonApiController(ObjectMapper objectMapper, HttpServletRequest request)`, but the developers of the generator may need to change it in the future. So the implementation would need to change too. \r\n\r\nA third approach would be to forget completely about the generated PersonApiController, and just write a class that implements the PersonApi interface. That would be fine, but every time the code is generated you would need to delete the PersonApiController, otherwise Spring router will complain. Still manual work...\r\n\r\nBut with the delegation, the implementation code is completely safe. No need to manually delete stuff, no need to adapt in case of future changes. Also the class that implements PersonApiDelegate can be treated as an independent service, so you can inject / autowire into it whatever you need. \r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://openapi-generator.tech/docs/generators/spring/","title":"Significance of Delegate Design Pattern in Swagger Generated Code?","body":"<p>First of all a clarification: as already mentioned in a comment, you are not forced to use the delegation. On the contrary, the default behavior of the Spring generator is to not use the delegation pattern, as you can easily check in the <a href=\"https://openapi-generator.tech/docs/generators/spring/\" rel=\"noreferrer\">docs</a>. In this case it will generate only the PersonApi interface and PersonApiController.</p>\n<p>Coming to your question, why using delegation?</p>\n<p>This allows you to write a class that implements PersonApiDelegate, that can be easily injected in the generated code, without any need to manually touch generated sources, and keeping the implementation safe from possible future changes in the code generation.</p>\n<p>Let's think what could happen without delegation.</p>\n<p>A naive approach would be to generate the sources and then write directly the implementation inside the generated PersonController. Of course the next time there is a need to run the generator, it would be a big mess. All the implementation would be lost...</p>\n<p>A slightly better scenario, but not perfect, would be to write a class that extends PersonController. That would keep the implementation safe from being overwritten during generation, but would not protect it from future changes of the generation engine: as a bare minimum the implementation class would need to implement the PersonController constructor. Right now the constructor of a generated controller has the following signature <code>PersonApiController(ObjectMapper objectMapper, HttpServletRequest request)</code>, but the developers of the generator may need to change it in the future. So the implementation would need to change too.</p>\n<p>A third approach would be to forget completely about the generated PersonApiController, and just write a class that implements the PersonApi interface. That would be fine, but every time the code is generated you would need to delete the PersonApiController, otherwise Spring router will complain. Still manual work...</p>\n<p>But with the delegation, the implementation code is completely safe. No need to manually delete stuff, no need to adapt in case of future changes. Also the class that implements PersonApiDelegate can be treated as an independent service, so you can inject / autowire into it whatever you need.</p>\n"},{"tags":[],"owner":{"account_id":4648084,"reputation":41,"user_id":3765694,"display_name":"Mikka"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687950341,"creation_date":1687950341,"answer_id":76572555,"question_id":66294655,"body_markdown":"@BSL\r\n\r\nI also stumbled about the problem of testing the controller, when it is generated via Delegate pattern: All my WebMvcTests returned a 404 error.\r\n\r\nThe reason for that is, if you only import the (in this case) `PersonApiController` (e.g. via a `@WebMvcTest(PersonApiController.class)` annotation, there is no information about the endpoints provided to Spring. The `PersonApiController` implements the `PersonApiDelegate`, but all endpoint information is only available on the `PersonApi` interface, which is not imported.\r\n\r\nSo you need to also import `PersonApi` additionally to your test:\r\n\r\n```java\r\n@WebMvcTest(PersonApiController.class) // the controller you want to test\r\n@Import(PersonApi.class) // the interface containing the endpoint path information\r\nclass PersonApiControllerTest {\r\n   ...\r\n}\r\n\r\n```","title":"Significance of Delegate Design Pattern in Swagger Generated Code?","body":"<p>@BSL</p>\n<p>I also stumbled about the problem of testing the controller, when it is generated via Delegate pattern: All my WebMvcTests returned a 404 error.</p>\n<p>The reason for that is, if you only import the (in this case) <code>PersonApiController</code> (e.g. via a <code>@WebMvcTest(PersonApiController.class)</code> annotation, there is no information about the endpoints provided to Spring. The <code>PersonApiController</code> implements the <code>PersonApiDelegate</code>, but all endpoint information is only available on the <code>PersonApi</code> interface, which is not imported.</p>\n<p>So you need to also import <code>PersonApi</code> additionally to your test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@WebMvcTest(PersonApiController.class) // the controller you want to test\n@Import(PersonApi.class) // the interface containing the endpoint path information\nclass PersonApiControllerTest {\n   ...\n}\n\n</code></pre>\n"}],"owner":{"account_id":5248284,"reputation":2046,"user_id":4193280,"accept_rate":31,"display_name":"Saurabh Chaturvedi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8092,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":66296299,"answer_count":2,"score":16,"last_activity_date":1687950341,"creation_date":1613842887,"question_id":66294655,"body_markdown":"When i generate code for `Spring` from my swagger yaml , usually controller layer is generated using `delegate` pattern , such that for a single model three files are generated . For example , if i defined a model named `Person` in my swagger/open API yaml file , three files get generated as :\r\n\r\n&gt; 1. PersonApi     (interface that contains signatures of all person operations/methods)\r\n&gt; 2. PersonApiDelegate ( interface that  provides default implementation of all PersonApi methods . Meant to be overriden )\r\n&gt; 3. PersonApiController (Which has a reference to PersonApiDelegate so that any implementation can override and provide custom implementation)\r\n\r\n\r\nMy question is for anyone who is familiar with building swagger/openapi generated code based apis that what is the significance of having such a pattern , instead of just exposing your service endpoints using a PersonController class , and not going through a PersonApi interface and then to a PersonApiDelegate and finally exposing the service through a PersonApiController ?\r\n\r\nWhat is the valuable design extensibility we gain through this pattern ?  I tried to find information from other resources on internet , but couldn&#39;t find a good answer in context of swagger first API development approach . Any insights on this will be really helpful . \r\n\r\n","title":"Significance of Delegate Design Pattern in Swagger Generated Code?","body":"<p>When i generate code for <code>Spring</code> from my swagger yaml , usually controller layer is generated using <code>delegate</code> pattern , such that for a single model three files are generated . For example , if i defined a model named <code>Person</code> in my swagger/open API yaml file , three files get generated as :</p>\n<blockquote>\n<ol>\n<li>PersonApi     (interface that contains signatures of all person operations/methods)</li>\n<li>PersonApiDelegate ( interface that  provides default implementation of all PersonApi methods . Meant to be overriden )</li>\n<li>PersonApiController (Which has a reference to PersonApiDelegate so that any implementation can override and provide custom implementation)</li>\n</ol>\n</blockquote>\n<p>My question is for anyone who is familiar with building swagger/openapi generated code based apis that what is the significance of having such a pattern , instead of just exposing your service endpoints using a PersonController class , and not going through a PersonApi interface and then to a PersonApiDelegate and finally exposing the service through a PersonApiController ?</p>\n<p>What is the valuable design extensibility we gain through this pattern ?  I tried to find information from other resources on internet , but couldn't find a good answer in context of swagger first API development approach . Any insights on this will be really helpful .</p>\n"},{"tags":["java","spring","debugging","spring-boot","performance-testing"],"answers":[{"tags":[],"owner":{"account_id":9186222,"reputation":1,"user_id":6828337,"display_name":"Diego da Costa Porto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687950244,"creation_date":1687950244,"answer_id":76572545,"question_id":50160458,"body_markdown":"You have to profiling the API, the besty choice is with visual VM https://visualvm.github.io/gettingstarted.html\r\nYou can see what happens and where the time is waste","title":"How to debug performance problems with REST calls in Spring Boot","body":"<p>You have to profiling the API, the besty choice is with visual VM <a href=\"https://visualvm.github.io/gettingstarted.html\" rel=\"nofollow noreferrer\">https://visualvm.github.io/gettingstarted.html</a>\nYou can see what happens and where the time is waste</p>\n"}],"owner":{"account_id":5205254,"reputation":73,"user_id":4163408,"display_name":"Todd347"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":322,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687950244,"creation_date":1525367154,"question_id":50160458,"body_markdown":"The good and the bad with the Spring Framework is that a lot of magic happens behind **annotations**.\r\nI have built what I would consider a fairly `vanilla REST api` that makes **GET, PUT, and POST** on the same `URL`.When calling the `PUT` or `POST` call there is a severe `delay` between when I send the query from **Postman** to when the controller method gets control (8 to 10 seconds).   However, the `GET` call is almost instantaneous. I need a way to trace through the `spring` magic to see where the performance bottleneck is before the controller method is called.  How do I debug this code?\r\n\r\n\t@RequestMapping(value = &quot;/{collection}/branches&quot;, method = RequestMethod.GET)\r\n\tpublic ResponseEntity&lt;CollectionApi&lt;BranchApi&gt;&gt; getBranches(@PathVariable String collection,\r\n\t\t\t@RequestParam(defaultValue = ModelsController.DEF_OFFSET) Long _offset,\r\n\t\t\t@RequestParam(defaultValue = ModelsController.DEF_LIMIT) Integer _limit,\r\n\t\t\t@RequestParam(required = false) String rep,\r\n\t\t\t@RequestParam(defaultValue = ModelsController.DEF_SYNC) Integer _sync) {\r\n\r\n\t\ttry {\r\n\t\t\tCollectionApi&lt;BranchApi&gt; branches = branchesService.getBranches(collection);\r\n\t\t\tif (branches == null) {\r\n\t\t\t\tthrow new NotFoundException(&quot;Collection not found&quot;);\r\n\t\t\t}\r\n\t\t\treturn ResponseEntity.ok(branches);\r\n\t\t} catch (NucleusModelingException e) {\r\n\t\t\tthrow new BadRequestException(e.getLocalizedMessage(), e);\r\n\t\t}\r\n\t}\r\n\r\n\t@RequestMapping(value = &quot;/{collection}/branches&quot;, method = RequestMethod.PUT)\r\n\tpublic ResponseEntity&lt;CollectionApi&lt;BranchApi&gt;&gt; setActiveBranch(\r\n\t\t\t@PathVariable String collection, \r\n\t\t\t@RequestParam String branch) {\r\n\r\n\t\ttry {\r\n\t\t\tCollectionApi&lt;BranchApi&gt; branches = branchesService.setActiveBranch(collection, branch);\r\n\t\t\treturn ResponseEntity.ok(branches);\r\n\t\t} catch (NucleusModelingException e) {\r\n\t\t\tthrow new BadRequestException(e.getLocalizedMessage(),e);\r\n\t\t}\r\n\t}\r\n\r\n\t@RequestMapping(value = &quot;/{collection}/branches&quot;, method = RequestMethod.POST)\r\n\tpublic ResponseEntity&lt;CollectionApi&lt;BranchApi&gt;&gt; createBranch(\r\n\t\t\t@PathVariable String collection, \r\n\t\t\t@RequestParam String branch) {\r\n\r\n\t\ttry {\r\n\t\t\tCollectionApi&lt;BranchApi&gt; branches = branchesService.checkoutBranch(collection, branch);\r\n\t\t\treturn ResponseEntity.status(HttpStatus.CREATED).body(branches);\r\n\t\t} catch (NucleusModelingException e) {\r\n\t\t\tthrow new BadRequestException(e.getLocalizedMessage(),e);\r\n\t\t}\r\n\t}\r\n","title":"How to debug performance problems with REST calls in Spring Boot","body":"<p>The good and the bad with the Spring Framework is that a lot of magic happens behind <strong>annotations</strong>.\nI have built what I would consider a fairly <code>vanilla REST api</code> that makes <strong>GET, PUT, and POST</strong> on the same <code>URL</code>.When calling the <code>PUT</code> or <code>POST</code> call there is a severe <code>delay</code> between when I send the query from <strong>Postman</strong> to when the controller method gets control (8 to 10 seconds).   However, the <code>GET</code> call is almost instantaneous. I need a way to trace through the <code>spring</code> magic to see where the performance bottleneck is before the controller method is called.  How do I debug this code?</p>\n\n<pre><code>@RequestMapping(value = \"/{collection}/branches\", method = RequestMethod.GET)\npublic ResponseEntity&lt;CollectionApi&lt;BranchApi&gt;&gt; getBranches(@PathVariable String collection,\n        @RequestParam(defaultValue = ModelsController.DEF_OFFSET) Long _offset,\n        @RequestParam(defaultValue = ModelsController.DEF_LIMIT) Integer _limit,\n        @RequestParam(required = false) String rep,\n        @RequestParam(defaultValue = ModelsController.DEF_SYNC) Integer _sync) {\n\n    try {\n        CollectionApi&lt;BranchApi&gt; branches = branchesService.getBranches(collection);\n        if (branches == null) {\n            throw new NotFoundException(\"Collection not found\");\n        }\n        return ResponseEntity.ok(branches);\n    } catch (NucleusModelingException e) {\n        throw new BadRequestException(e.getLocalizedMessage(), e);\n    }\n}\n\n@RequestMapping(value = \"/{collection}/branches\", method = RequestMethod.PUT)\npublic ResponseEntity&lt;CollectionApi&lt;BranchApi&gt;&gt; setActiveBranch(\n        @PathVariable String collection, \n        @RequestParam String branch) {\n\n    try {\n        CollectionApi&lt;BranchApi&gt; branches = branchesService.setActiveBranch(collection, branch);\n        return ResponseEntity.ok(branches);\n    } catch (NucleusModelingException e) {\n        throw new BadRequestException(e.getLocalizedMessage(),e);\n    }\n}\n\n@RequestMapping(value = \"/{collection}/branches\", method = RequestMethod.POST)\npublic ResponseEntity&lt;CollectionApi&lt;BranchApi&gt;&gt; createBranch(\n        @PathVariable String collection, \n        @RequestParam String branch) {\n\n    try {\n        CollectionApi&lt;BranchApi&gt; branches = branchesService.checkoutBranch(collection, branch);\n        return ResponseEntity.status(HttpStatus.CREATED).body(branches);\n    } catch (NucleusModelingException e) {\n        throw new BadRequestException(e.getLocalizedMessage(),e);\n    }\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9651,"page":341,"page_size":100}
