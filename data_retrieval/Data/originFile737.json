{"items":[{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1673506870,"post_id":75092559,"comment_id":132515625,"body_markdown":"Is there a *caused by*  in the stactrace?","body":"Is there a <i>caused by</i>  in the stactrace?"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1673510350,"post_id":75092559,"comment_id":132516444,"body_markdown":"probably `@JdbcTypeCode(SqlTypes.UUID)` together with `@GeneratedValue(strategy = GenerationType.IDENTITY)`","body":"probably <code>@JdbcTypeCode(SqlTypes.UUID)</code> together with <code>@GeneratedValue(strategy = GenerationType.IDENTITY)</code>"}],"owner":{"account_id":25239741,"reputation":1,"user_id":19073772,"display_name":"KuyuGama"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673506300,"creation_date":1673506300,"question_id":75092559,"body_markdown":"I&#39;m learning how to make ORM databases in Java. But after I created the table model, it gives me an error.\r\n\r\nI want to combine minecraft api with orm database for easily store data of the players(his modified items data) and now i creating my &#39;magical storage&#39; where players can store his items.\r\n\r\n\r\nModels:\r\n```\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\npublic class User {\r\n\r\n    @Id\r\n    @Column(name = &quot;uuid&quot;)\r\n    @JdbcTypeCode(SqlTypes.UUID)\r\n    private UUID uuid;\r\n\r\n    @Column(name = &quot;username&quot;)\r\n    private String username;\r\n\r\n    @Column(name = &quot;storage_id&quot;)\r\n    @JdbcTypeCode(SqlTypes.UUID)\r\n    private UUID storageId;\r\n\r\n    @OneToOne(orphanRemoval = true)\r\n    private UserStorage userStorage;\r\n\r\n    public UserStorage getUserStorage() {\r\n        return userStorage;\r\n    }\r\n\r\n    public void setUserStorage(UserStorage userStorage) {\r\n        this.userStorage = userStorage;\r\n    }\r\n\r\n    public User() {\r\n    }\r\n\r\n    public User(UUID uuid, String username, UUID storageId) {\r\n        this.uuid = uuid;\r\n        this.username = username;\r\n        this.storageId = storageId;\r\n    }\r\n\r\n    public UUID getUUID() {\r\n        return this.uuid;\r\n    }\r\n\r\n    public void setUUID(UUID uuid) {\r\n        this.uuid = uuid;\r\n    }\r\n\r\n    public UUID getStorageId() {\r\n        return storageId;\r\n    }\r\n\r\n    public void setStorageId(UUID storageId) {\r\n        this.storageId = storageId;\r\n    }\r\n\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n\r\n    public void setUsername(String username) {\r\n        this.username = username;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;User &quot; +\r\n                &quot;[uuid = \\&quot;&quot; +\r\n                this.uuid.toString() +\r\n                &quot;\\&quot;, username = \\&quot;&quot; +\r\n                this.username +\r\n                &quot;\\&quot;, storageId = &quot; +\r\n                this.storageId +\r\n                &quot;]&quot;;\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;items&quot;)\r\npublic class RawItem {\r\n    @Id\r\n    @Column(name = &quot;storage_id&quot;, nullable = false)\r\n    @JdbcTypeCode(SqlTypes.UUID)\r\n    private UUID storageId;\r\n\r\n    @ManyToOne\r\n    private UserStorage userStorage;\r\n\r\n    @Column(name = &quot;type&quot;)\r\n    private String type;\r\n\r\n    @Column(name = &quot;data&quot;, length = 4096)\r\n    private String data;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    public JSONObject getData() throws ParseException {\r\n        return (JSONObject) new JSONParser().parse(this.data);\r\n    }\r\n\r\n    public void setData(JSONObject data) {\r\n        this.data = data.toJSONString();\r\n    }\r\n\r\n\r\n    public String getType() {\r\n        return type;\r\n    }\r\n\r\n    public void setType(String type) {\r\n        this.type = type;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public UserStorage getUserStorage() {\r\n        return userStorage;\r\n    }\r\n\r\n    public void setUserStorage(UserStorage userStorage) {\r\n        this.userStorage = userStorage;\r\n    }\r\n\r\n    public UUID getStorageId() {\r\n        return storageId;\r\n    }\r\n\r\n    public void setStorageId(UUID storageId) {\r\n        this.storageId = storageId;\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;user_storage&quot;)\r\npublic class UserStorage {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;, nullable = false)\r\n    @JdbcTypeCode(SqlTypes.UUID)\r\n    private UUID id;\r\n\r\n    @Column(name = &quot;slots_count&quot;)\r\n    @JdbcTypeCode(SqlTypes.BIGINT)\r\n    private Integer slotsCount;\r\n\r\n    @OneToOne(mappedBy = &quot;userStorage&quot;, orphanRemoval = true)\r\n    private User user;\r\n\r\n    public User getUser() {\r\n        return user;\r\n    }\r\n\r\n    public void setUser(User user) {\r\n        this.user = user;\r\n    }\r\n\r\n    public Integer getSlotsCount() {\r\n        return slotsCount;\r\n    }\r\n\r\n    public void setSlotsCount(Integer slotsCount) {\r\n        this.slotsCount = slotsCount;\r\n    }\r\n\r\n    public UUID getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(UUID id) {\r\n        this.id = id;\r\n    }\r\n\r\n    @OneToMany(mappedBy = &quot;userStorage&quot;, orphanRemoval = true)\r\n    private List&lt;RawItem&gt; rawItems = new ArrayList&lt;&gt;();\r\n\r\n    public List&lt;RawItem&gt; getRawItems() {\r\n        return rawItems;\r\n    }\r\n\r\n    public void setRawItems(List&lt;RawItem&gt; rawItems) {\r\n        this.rawItems = rawItems;\r\n    }\r\n\r\n    public UserStorage() {}\r\n\r\n    public UserStorage(Integer slotsCount) {\r\n        this.slotsCount = slotsCount;\r\n    }\r\n}\r\n```\r\n\r\nError:\r\n```\r\norg.hibernate.MappingException: Error creating SQL create commands for table : user_storage\r\n        at org.hibernate.tool.schema.internal.StandardTableExporter.getSqlCreateStrings(StandardTableExporter.java:174) ~[?:?]\r\n        at org.hibernate.tool.schema.internal.StandardTableExporter.getSqlCreateStrings(StandardTableExporter.java:33) ~[?:?]\r\n        at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:364) ~[?:?]\r\n        at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:176) ~[?:?]\r\n        at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:144) ~[?:?]\r\n        at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:128) ~[?:?]\r\n        at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:254) ~[?:?]\r\n        at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143) ~[?:?]\r\n        at java.util.HashMap.forEach(HashMap.java:1421) ~[?:?]\r\n        at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140) ~[?:?]\r\n        at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:336) ~[?:?]\r\n        at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415) ~[?:?]\r\n        at org.hibernate.boot.internal.MetadataImpl.buildSessionFactory(MetadataImpl.java:186) ~[?:?]\r\n```","title":"Problem with creating an table with hibernate","body":"<p>I'm learning how to make ORM databases in Java. But after I created the table model, it gives me an error.</p>\n<p>I want to combine minecraft api with orm database for easily store data of the players(his modified items data) and now i creating my 'magical storage' where players can store his items.</p>\n<p>Models:</p>\n<pre><code>@Entity\n@Table(name = &quot;users&quot;)\npublic class User {\n\n    @Id\n    @Column(name = &quot;uuid&quot;)\n    @JdbcTypeCode(SqlTypes.UUID)\n    private UUID uuid;\n\n    @Column(name = &quot;username&quot;)\n    private String username;\n\n    @Column(name = &quot;storage_id&quot;)\n    @JdbcTypeCode(SqlTypes.UUID)\n    private UUID storageId;\n\n    @OneToOne(orphanRemoval = true)\n    private UserStorage userStorage;\n\n    public UserStorage getUserStorage() {\n        return userStorage;\n    }\n\n    public void setUserStorage(UserStorage userStorage) {\n        this.userStorage = userStorage;\n    }\n\n    public User() {\n    }\n\n    public User(UUID uuid, String username, UUID storageId) {\n        this.uuid = uuid;\n        this.username = username;\n        this.storageId = storageId;\n    }\n\n    public UUID getUUID() {\n        return this.uuid;\n    }\n\n    public void setUUID(UUID uuid) {\n        this.uuid = uuid;\n    }\n\n    public UUID getStorageId() {\n        return storageId;\n    }\n\n    public void setStorageId(UUID storageId) {\n        this.storageId = storageId;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;User &quot; +\n                &quot;[uuid = \\&quot;&quot; +\n                this.uuid.toString() +\n                &quot;\\&quot;, username = \\&quot;&quot; +\n                this.username +\n                &quot;\\&quot;, storageId = &quot; +\n                this.storageId +\n                &quot;]&quot;;\n    }\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;items&quot;)\npublic class RawItem {\n    @Id\n    @Column(name = &quot;storage_id&quot;, nullable = false)\n    @JdbcTypeCode(SqlTypes.UUID)\n    private UUID storageId;\n\n    @ManyToOne\n    private UserStorage userStorage;\n\n    @Column(name = &quot;type&quot;)\n    private String type;\n\n    @Column(name = &quot;data&quot;, length = 4096)\n    private String data;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    public JSONObject getData() throws ParseException {\n        return (JSONObject) new JSONParser().parse(this.data);\n    }\n\n    public void setData(JSONObject data) {\n        this.data = data.toJSONString();\n    }\n\n\n    public String getType() {\n        return type;\n    }\n\n    public void setType(String type) {\n        this.type = type;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public UserStorage getUserStorage() {\n        return userStorage;\n    }\n\n    public void setUserStorage(UserStorage userStorage) {\n        this.userStorage = userStorage;\n    }\n\n    public UUID getStorageId() {\n        return storageId;\n    }\n\n    public void setStorageId(UUID storageId) {\n        this.storageId = storageId;\n    }\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;user_storage&quot;)\npublic class UserStorage {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, nullable = false)\n    @JdbcTypeCode(SqlTypes.UUID)\n    private UUID id;\n\n    @Column(name = &quot;slots_count&quot;)\n    @JdbcTypeCode(SqlTypes.BIGINT)\n    private Integer slotsCount;\n\n    @OneToOne(mappedBy = &quot;userStorage&quot;, orphanRemoval = true)\n    private User user;\n\n    public User getUser() {\n        return user;\n    }\n\n    public void setUser(User user) {\n        this.user = user;\n    }\n\n    public Integer getSlotsCount() {\n        return slotsCount;\n    }\n\n    public void setSlotsCount(Integer slotsCount) {\n        this.slotsCount = slotsCount;\n    }\n\n    public UUID getId() {\n        return id;\n    }\n\n    public void setId(UUID id) {\n        this.id = id;\n    }\n\n    @OneToMany(mappedBy = &quot;userStorage&quot;, orphanRemoval = true)\n    private List&lt;RawItem&gt; rawItems = new ArrayList&lt;&gt;();\n\n    public List&lt;RawItem&gt; getRawItems() {\n        return rawItems;\n    }\n\n    public void setRawItems(List&lt;RawItem&gt; rawItems) {\n        this.rawItems = rawItems;\n    }\n\n    public UserStorage() {}\n\n    public UserStorage(Integer slotsCount) {\n        this.slotsCount = slotsCount;\n    }\n}\n</code></pre>\n<p>Error:</p>\n<pre><code>org.hibernate.MappingException: Error creating SQL create commands for table : user_storage\n        at org.hibernate.tool.schema.internal.StandardTableExporter.getSqlCreateStrings(StandardTableExporter.java:174) ~[?:?]\n        at org.hibernate.tool.schema.internal.StandardTableExporter.getSqlCreateStrings(StandardTableExporter.java:33) ~[?:?]\n        at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:364) ~[?:?]\n        at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:176) ~[?:?]\n        at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:144) ~[?:?]\n        at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:128) ~[?:?]\n        at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:254) ~[?:?]\n        at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143) ~[?:?]\n        at java.util.HashMap.forEach(HashMap.java:1421) ~[?:?]\n        at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140) ~[?:?]\n        at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:336) ~[?:?]\n        at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415) ~[?:?]\n        at org.hibernate.boot.internal.MetadataImpl.buildSessionFactory(MetadataImpl.java:186) ~[?:?]\n</code></pre>\n"},{"tags":["java","macos","terminal","glpk"],"comments":[{"owner":{"account_id":1586009,"reputation":123,"user_id":1470354,"accept_rate":75,"display_name":"Behzad"},"score":0,"creation_date":1639596926,"post_id":57603837,"comment_id":124392084,"body_markdown":"Did you ever solve this? I&#39;m currently hitting the same problem","body":"Did you ever solve this? I&#39;m currently hitting the same problem"}],"answers":[{"tags":[],"owner":{"account_id":20412114,"reputation":94,"user_id":14975219,"display_name":"wutao"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673506088,"creation_date":1673506088,"answer_id":75092532,"question_id":57603837,"body_markdown":"You may check the `configure.log` file. In my `configure.log` file, it shows:\r\n\r\n```\r\nconfigure:13062: gcc -E  -I/usr/bin/java/include -I/usr/bin/java/include/linux conftest.c\r\ncc1: error: /usr/bin/java/include: Not a directory\r\ncc1: error: /usr/bin/java/include/linux: Not a directory\r\nconfigure:13062: $? = 1\r\nconfigure: failed program was:\r\n| /* confdefs.h */\r\n| #define PACKAGE_NAME &quot;GLPK for Java&quot;\r\n| #define PACKAGE_TARNAME &quot;libglpk-java&quot;\r\n| #define PACKAGE_VERSION &quot;1.12.0&quot;\r\n| #define PACKAGE_STRING &quot;GLPK for Java 1.12.0&quot;\r\n| #define PACKAGE_BUGREPORT &quot;xypron.glpk@gmx.de&quot;\r\n| #define PACKAGE_URL &quot;http://glpk-java.sourceforge.net&quot;\r\n| #define PACKAGE &quot;libglpk-java&quot;\r\n| #define VERSION &quot;1.12.0&quot;\r\n| #define STDC_HEADERS 1\r\n| #define HAVE_SYS_TYPES_H 1\r\n| #define HAVE_SYS_STAT_H 1\r\n| #define HAVE_STDLIB_H 1\r\n| #define HAVE_STRING_H 1\r\n| #define HAVE_MEMORY_H 1\r\n| #define HAVE_STRINGS_H 1\r\n| #define HAVE_INTTYPES_H 1\r\n| #define HAVE_STDINT_H 1\r\n| #define HAVE_UNISTD_H 1\r\n| #define HAVE_DLFCN_H 1\r\n| #define LT_OBJDIR &quot;.libs/&quot;\r\n| #define TLS /**/\r\n| /* end confdefs.h.  */\r\n| #include &lt;glpk.h&gt;\r\nconfigure:13062: result: no\r\nconfigure:13062: checking for glpk.h\r\nconfigure:13062: result: no\r\nconfigure:13066: error: glpk.h not found\r\n```\r\n\r\nI found that my JAVA_HOME is not set up properly. From this question (https://stackoverflow.com/questions/24641536/how-to-set-java-home-in-linux-for-all-users):\r\n\r\n```\r\nreadlink -f $(which java)\r\n##I got\r\n#/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.352.b08-2.el7_9.x86_64/jre/bin/java\r\n\r\n##Then I set the JAVA_HOME\r\nexport JAVA_HOME=&quot;/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.352.b08-2.el7_9.x86_64&quot;\r\n```\r\nThen `./configure`. It works for me.","title":"&#39;configure: error: jni.h not found&#39; while configuring glpk for java on OS X","body":"<p>You may check the <code>configure.log</code> file. In my <code>configure.log</code> file, it shows:</p>\n<pre><code>configure:13062: gcc -E  -I/usr/bin/java/include -I/usr/bin/java/include/linux conftest.c\ncc1: error: /usr/bin/java/include: Not a directory\ncc1: error: /usr/bin/java/include/linux: Not a directory\nconfigure:13062: $? = 1\nconfigure: failed program was:\n| /* confdefs.h */\n| #define PACKAGE_NAME &quot;GLPK for Java&quot;\n| #define PACKAGE_TARNAME &quot;libglpk-java&quot;\n| #define PACKAGE_VERSION &quot;1.12.0&quot;\n| #define PACKAGE_STRING &quot;GLPK for Java 1.12.0&quot;\n| #define PACKAGE_BUGREPORT &quot;xypron.glpk@gmx.de&quot;\n| #define PACKAGE_URL &quot;http://glpk-java.sourceforge.net&quot;\n| #define PACKAGE &quot;libglpk-java&quot;\n| #define VERSION &quot;1.12.0&quot;\n| #define STDC_HEADERS 1\n| #define HAVE_SYS_TYPES_H 1\n| #define HAVE_SYS_STAT_H 1\n| #define HAVE_STDLIB_H 1\n| #define HAVE_STRING_H 1\n| #define HAVE_MEMORY_H 1\n| #define HAVE_STRINGS_H 1\n| #define HAVE_INTTYPES_H 1\n| #define HAVE_STDINT_H 1\n| #define HAVE_UNISTD_H 1\n| #define HAVE_DLFCN_H 1\n| #define LT_OBJDIR &quot;.libs/&quot;\n| #define TLS /**/\n| /* end confdefs.h.  */\n| #include &lt;glpk.h&gt;\nconfigure:13062: result: no\nconfigure:13062: checking for glpk.h\nconfigure:13062: result: no\nconfigure:13066: error: glpk.h not found\n</code></pre>\n<p>I found that my JAVA_HOME is not set up properly. From this question (<a href=\"https://stackoverflow.com/questions/24641536/how-to-set-java-home-in-linux-for-all-users\">How to set JAVA_HOME in Linux for all users</a>):</p>\n<pre><code>readlink -f $(which java)\n##I got\n#/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.352.b08-2.el7_9.x86_64/jre/bin/java\n\n##Then I set the JAVA_HOME\nexport JAVA_HOME=&quot;/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.352.b08-2.el7_9.x86_64&quot;\n</code></pre>\n<p>Then <code>./configure</code>. It works for me.</p>\n"}],"owner":{"account_id":11329909,"reputation":51,"user_id":8307738,"display_name":"Nanda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1673506088,"creation_date":1566457869,"question_id":57603837,"body_markdown":"I&#39;m trying to install glpk for java and have followed the instructions for installing glpk on OS X [here] until `./configure`. During this step, the error `configure: error: jni.h not found` appears. \r\nAs the instruction states, I tried \r\n```\r\n./configure \\\r\nCPPFLAGS=-I/System/Library/Frameworks/JavaVM.framework/Headers \\\r\nSWIGFLAGS=-I/System/Library/Frameworks/JavaVM.framework/Headers\r\n``` \r\nbut it doesn&#39;t seem to work, since the same error still comes up. After doing some digging, I found out:\r\n- I don&#39;t have a JavaVM.framework within the Frameworks folder\r\n- Instead, my Java VMs are in `Library/Java/JavaVirtualMachines/`\r\n\r\nSo I tried executing \r\n```\r\n./configure \\\r\nCPPFLAGS=-I/Library/Java/JavaVirtualMachines/jdk1.8.0_211.jdk/Contents/Home/include/ \\\r\nSWIGFLAGS=-I/Library/Java/JavaVirtualMachines/jdk1.8.0_211.jdk/Contents/Home/include/\r\n```\r\nI also tried it with ...`/include/jni.h` and with `jdk-12.0.1.jdk`. All resulting in the same error. \r\n\r\nI&#39;m a newbie to those things, so I would be very thankful for a hint to anything I could try.\r\n\r\n[here]: http://glpk-java.sourceforge.net/gettingStarted.html","title":"&#39;configure: error: jni.h not found&#39; while configuring glpk for java on OS X","body":"<p>I'm trying to install glpk for java and have followed the instructions for installing glpk on OS X <a href=\"http://glpk-java.sourceforge.net/gettingStarted.html\" rel=\"nofollow noreferrer\">here</a> until <code>./configure</code>. During this step, the error <code>configure: error: jni.h not found</code> appears. \nAs the instruction states, I tried </p>\n\n<pre><code>./configure \\\nCPPFLAGS=-I/System/Library/Frameworks/JavaVM.framework/Headers \\\nSWIGFLAGS=-I/System/Library/Frameworks/JavaVM.framework/Headers\n</code></pre>\n\n<p>but it doesn't seem to work, since the same error still comes up. After doing some digging, I found out:\n- I don't have a JavaVM.framework within the Frameworks folder\n- Instead, my Java VMs are in <code>Library/Java/JavaVirtualMachines/</code></p>\n\n<p>So I tried executing </p>\n\n<pre><code>./configure \\\nCPPFLAGS=-I/Library/Java/JavaVirtualMachines/jdk1.8.0_211.jdk/Contents/Home/include/ \\\nSWIGFLAGS=-I/Library/Java/JavaVirtualMachines/jdk1.8.0_211.jdk/Contents/Home/include/\n</code></pre>\n\n<p>I also tried it with ...<code>/include/jni.h</code> and with <code>jdk-12.0.1.jdk</code>. All resulting in the same error. </p>\n\n<p>I'm a newbie to those things, so I would be very thankful for a hint to anything I could try.</p>\n"},{"tags":["java","json","gson"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1400321488,"post_id":23710037,"comment_id":36437377,"body_markdown":"The enclosing `[` and `]` just mean that the data is an array of objects.","body":"The enclosing <code>[</code> and <code>]</code> just mean that the data is an array of objects."},{"owner":{"account_id":4483189,"reputation":105,"user_id":3646662,"accept_rate":50,"display_name":"Jeremy"},"score":0,"creation_date":1400321873,"post_id":23710037,"comment_id":36437476,"body_markdown":"@geoand Yea i know. But how can I deserialize it? Usually it will like this `Data[] data;` but there is no `data` before `[`","body":"@geoand Yea i know. But how can I deserialize it? Usually it will like this <code>Data[] data;</code> but there is no <code>data</code> before <code>[</code>"},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1400328235,"post_id":23710037,"comment_id":36439213,"body_markdown":"Go to json.org and learn the JSON syntax.  It only takes 5-10 minutes to learn.  Sometimes the outer layer of a JSON string is an object (Map) sometimes an array (List).  It simply depends on the data being described.","body":"Go to json.org and learn the JSON syntax.  It only takes 5-10 minutes to learn.  Sometimes the outer layer of a JSON string is an object (Map) sometimes an array (List).  It simply depends on the data being described."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1400328300,"post_id":23710037,"comment_id":36439237,"body_markdown":"And if you don&#39;t know what a Map or a List is, study up on those before you try to tackle JSON.","body":"And if you don&#39;t know what a Map or a List is, study up on those before you try to tackle JSON."},{"owner":{"account_id":4483189,"reputation":105,"user_id":3646662,"accept_rate":50,"display_name":"Jeremy"},"score":0,"creation_date":1400330050,"post_id":23710037,"comment_id":36439692,"body_markdown":"@HotLicks I said I know JSON. Actually I just don&#39;t know how to deserialize it...","body":"@HotLicks I said I know JSON. Actually I just don&#39;t know how to deserialize it..."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1400332707,"post_id":23710037,"comment_id":36440478,"body_markdown":"To deserialize it you use a deserializer.  There are about two dozen kits to choose from for Java (some listed on json.org).  The problem is that the Java folks in particular are really into these complex ones (eg, Jackson) that spit out custom Java objects, rather than simple Maps and Lists, and those are hard to understand and hard to get working right.  With JSON simple is good.","body":"To deserialize it you use a deserializer.  There are about two dozen kits to choose from for Java (some listed on json.org).  The problem is that the Java folks in particular are really into these complex ones (eg, Jackson) that spit out custom Java objects, rather than simple Maps and Lists, and those are hard to understand and hard to get working right.  With JSON simple is good."},{"owner":{"account_id":4483189,"reputation":105,"user_id":3646662,"accept_rate":50,"display_name":"Jeremy"},"score":0,"creation_date":1400334892,"post_id":23710037,"comment_id":36441087,"body_markdown":"@HotLicks I know.. I said I know. I just don&#39;t how to to deserialize THIS type of json","body":"@HotLicks I know.. I said I know. I just don&#39;t how to to deserialize THIS type of json"},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1400335613,"post_id":23710037,"comment_id":36441261,"body_markdown":"You deserialize it the way you&#39;d deserialize any JSON.  Only instead of getting a Map out you get a List.","body":"You deserialize it the way you&#39;d deserialize any JSON.  Only instead of getting a Map out you get a List."}],"answers":[{"comments":[{"owner":{"account_id":4483189,"reputation":105,"user_id":3646662,"accept_rate":50,"display_name":"Jeremy"},"score":0,"creation_date":1400322251,"post_id":23710119,"comment_id":36437585,"body_markdown":"nop. `com.google.gson.internal.LinkedTreeMap` i got this","body":"nop. <code>com.google.gson.internal.LinkedTreeMap</code> i got this"},{"owner":{"account_id":3887004,"reputation":46525,"user_id":3218114,"accept_rate":84,"display_name":"Braj"},"score":0,"creation_date":1400324675,"post_id":23710119,"comment_id":36438260,"body_markdown":"@user3646662 I think now you can proceed.","body":"@user3646662 I think now you can proceed."},{"owner":{"account_id":3887004,"reputation":46525,"user_id":3218114,"accept_rate":84,"display_name":"Braj"},"score":0,"creation_date":1400339256,"post_id":23710119,"comment_id":36442393,"body_markdown":"@user3646662 Here is the complete updated in post. Its array not map.","body":"@user3646662 Here is the complete updated in post. Its array not map."},{"owner":{"account_id":3887004,"reputation":46525,"user_id":3218114,"accept_rate":84,"display_name":"Braj"},"score":0,"creation_date":1400339752,"post_id":23710119,"comment_id":36442534,"body_markdown":"@user3646662 If still you are getting Map then modify my program accordingly.","body":"@user3646662 If still you are getting Map then modify my program accordingly."},{"owner":{"account_id":4483189,"reputation":105,"user_id":3646662,"accept_rate":50,"display_name":"Jeremy"},"score":0,"creation_date":1400341813,"post_id":23710119,"comment_id":36443250,"body_markdown":"Thanks! &lt;3 I will try it soon. Btw you forgot to put `mana`, `def` and `&quot;min_dam` and `max_dam`","body":"Thanks! &lt;3 I will try it soon. Btw you forgot to put <code>mana</code>, <code>def</code> and <code>&quot;min_dam</code> and <code>max_dam</code>"},{"owner":{"account_id":3887004,"reputation":46525,"user_id":3218114,"accept_rate":84,"display_name":"Braj"},"score":0,"creation_date":1400341968,"post_id":23710119,"comment_id":36443308,"body_markdown":"@user3646662 Should I do it perfectly 100% complete code for you. Now you have an idea. just add/remove as per your requirement.","body":"@user3646662 Should I do it perfectly 100% complete code for you. Now you have an idea. just add/remove as per your requirement."},{"owner":{"account_id":4483189,"reputation":105,"user_id":3646662,"accept_rate":50,"display_name":"Jeremy"},"score":0,"creation_date":1400378607,"post_id":23710119,"comment_id":36452397,"body_markdown":"Hi, I got this error. `Expected BEGIN_ARRAY but was BEGIN_OBJECT at line 1 column 2`","body":"Hi, I got this error. <code>Expected BEGIN_ARRAY but was BEGIN_OBJECT at line 1 column 2</code>"},{"owner":{"account_id":4483189,"reputation":105,"user_id":3646662,"accept_rate":50,"display_name":"Jeremy"},"score":0,"creation_date":1400379650,"post_id":23710119,"comment_id":36452540,"body_markdown":"I fixed it. Now is `Expected BEGIN_ARRAY but was BEGIN_OBJECT at line 1 column 5030`. I use json validator to valid it. It said it is a valid json","body":"I fixed it. Now is <code>Expected BEGIN_ARRAY but was BEGIN_OBJECT at line 1 column 5030</code>. I use json validator to valid it. It said it is a valid json"},{"owner":{"account_id":4483189,"reputation":105,"user_id":3646662,"accept_rate":50,"display_name":"Jeremy"},"score":0,"creation_date":1400382711,"post_id":23710119,"comment_id":36453011,"body_markdown":"Column 5030 is an empty array. It doesn&#39;t have `enchantment`.\nOthers item: `enchantment: { &quot;whatever&quot;: &quot;whatever&quot;}` but this item is `enchantment: []`","body":"Column 5030 is an empty array. It doesn&#39;t have <code>enchantment</code>. Others item: <code>enchantment: { &quot;whatever&quot;: &quot;whatever&quot;}</code> but this item is <code>enchantment: []</code>"},{"owner":{"account_id":3887004,"reputation":46525,"user_id":3218114,"accept_rate":84,"display_name":"Braj"},"score":0,"creation_date":1400392729,"post_id":23710119,"comment_id":36454553,"body_markdown":"All the entries must be in the same structure otherwise it will not work. Let me provide some other alternative.","body":"All the entries must be in the same structure otherwise it will not work. Let me provide some other alternative."},{"owner":{"account_id":4483189,"reputation":105,"user_id":3646662,"accept_rate":50,"display_name":"Jeremy"},"score":0,"creation_date":1400393925,"post_id":23710119,"comment_id":36454838,"body_markdown":"Thanks your method work! But, it is just like remove `&quot;` from the json?","body":"Thanks your method work! But, it is just like remove <code>&quot;</code> from the json?"},{"owner":{"account_id":3887004,"reputation":46525,"user_id":3218114,"accept_rate":84,"display_name":"Braj"},"score":0,"creation_date":1400393985,"post_id":23710119,"comment_id":36454850,"body_markdown":"Can you tell me what do you want? Now you have a List of Map. Simply iterate and access by key. I am working on your another question.","body":"Can you tell me what do you want? Now you have a List of Map. Simply iterate and access by key. I am working on your another question."},{"owner":{"account_id":4483189,"reputation":105,"user_id":3646662,"accept_rate":50,"display_name":"Jeremy"},"score":0,"creation_date":1400394294,"post_id":23710119,"comment_id":36454933,"body_markdown":"I know. But since I need to loop it, does it cause high performance? There will be 100+ of items","body":"I know. But since I need to loop it, does it cause high performance? There will be 100+ of items"},{"owner":{"account_id":3887004,"reputation":46525,"user_id":3218114,"accept_rate":84,"display_name":"Braj"},"score":0,"creation_date":1400394366,"post_id":23710119,"comment_id":36454941,"body_markdown":"No there will not any issue for just 100 items. It will hamper the performance if they are in millions or more. Just try it yourself.","body":"No there will not any issue for just 100 items. It will hamper the performance if they are in millions or more. Just try it yourself."}],"tags":[],"owner":{"account_id":3887004,"reputation":46525,"user_id":3218114,"accept_rate":84,"display_name":"Braj"},"comment_count":14,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1400393480,"creation_date":1400321809,"answer_id":23710119,"question_id":23710037,"body_markdown":"Try with this code. You will get the answer of your question. It&#39;s an List with 2 items.\r\n\r\n    StringBuilder builder = new StringBuilder();\r\n    BufferedReader reader = new BufferedReader(new FileReader(new File(&quot;resources/json1.txt&quot;)));\r\n    String line = null;\r\n    while ((line = reader.readLine()) != null) {\r\n        builder.append(line);\r\n    }\r\n    reader.close();\r\n\r\n    Gson gson = new Gson();\r\n    Type listType = new TypeToken&lt;ArrayList&lt;MyJSON&gt;&gt;() {\r\n    }.getType();\r\n    List&lt;MyJSON&gt; list = gson.fromJson(builder.toString(), listType);\r\n    // you can try this form as well\r\n    // MyJSON[] list = gson.fromJson(builder.toString(), MyJSON[].class);\r\n\r\n    for (MyJSON json : list) {\r\n        System.out.println(json.toString());\r\n    }\r\n\r\n    ...\r\n\r\n    class MyJSON {\r\n        String item_name;\r\n        String item_type;\r\n        String item;\r\n        String item_min_lvl;\r\n        Enchantment enchantment;\r\n\r\n        @Override\r\n        public String toString() {\r\n            StringBuilder builder = new StringBuilder();\r\n\r\n            builder.append(&quot;\\nitem_name:&quot;).append(item_name);\r\n            builder.append(&quot;\\nitem_type:&quot;).append(item_type);\r\n            builder.append(&quot;\\nitem:&quot;).append(item);\r\n            builder.append(&quot;\\nitem_min_lvl:&quot;).append(item_min_lvl);\r\n\r\n            builder.append(&quot;\\n\\nEnchantment Details:&quot;);\r\n            builder.append(&quot;\\nhealth:&quot;).append(enchantment.health);\r\n            builder.append(&quot;\\ndam:&quot;).append(enchantment.dam);\r\n            builder.append(&quot;\\nlife:&quot;).append(enchantment.life);\r\n            builder.append(&quot;\\nxp:&quot;).append(enchantment.xp);\r\n            builder.append(&quot;\\nloot:&quot;).append(enchantment.loot);\r\n            return builder.toString();\r\n        }\r\n    }\r\n\r\n    class Enchantment {\r\n        String health;\r\n        String dam;\r\n        String life;\r\n        String xp;\r\n        String loot;\r\n    }\r\n\r\noutput:\r\n    \r\n    item_name:Adame\r\n    item_type:Special\r\n    item:Chestplate\r\n    item_min_lvl:50\r\n    \r\n    Enchantment Details:\r\n    health:0.3\r\n    dam:24%\r\n    life:0.1\r\n    xp:24%\r\n    loot:22%\r\n    \r\n    \r\n    item_name:Sticks&#39;\r\n    item_type:Unique\r\n    item:Stick\r\n    item_min_lvl:4\r\n    \r\n    Enchantment Details:\r\n    health:0.6\r\n    dam:12%\r\n    life:0.3\r\n    xp:17%\r\n    loot:17%\r\n\r\n____________\r\n\r\n**EDIT**\r\n\r\nThe structure of each entry is not same hence you can&#39;t use POJO for this type of JSON.\r\n\r\nSimply use `ArrayList&lt;Map&lt;String, Object&gt;&gt;` and access the value based on key from the map.\r\n\r\n    Gson gson = new Gson();\r\n    Type listType = new TypeToken&lt;ArrayList&lt;Map&lt;String, Object&gt;&gt;&gt;() {\r\n    }.getType();\r\n    ArrayList&lt;Map&lt;String, Object&gt;&gt; list = gson.fromJson(builder.toString(), listType);\r\n\r\n    for (Map&lt;String, Object&gt; json : list) {\r\n        for (String key : json.keySet()) {\r\n            System.out.println(key + &quot;:&quot; + json.get(key));\r\n        }\r\n        System.out.println(&quot;===========&quot;);\r\n    } \r\n\r\noutput:\r\n\r\n\r\n    item_name:Adame\r\n    item_type:Special\r\n    item:Chestplate\r\n    item_min_lvl:50\r\n    enchantment:{health=0.3, dam=24%, life=0.1, xp=24%, loot=22%}\r\n    def:73\r\n    ===========\r\n    item_name:Sticks&#39;\r\n    item_type:Unique\r\n    item:Stick\r\n    item_min_lvl:4\r\n    enchantment:{health=0.6, mana=1, dam=12%, life=0.3, xp=17%, loot=17%}\r\n    min_dam:39\r\n    max_dam:34\r\n    ===========\r\n","title":"Java - Json deserialize data []","body":"<p>Try with this code. You will get the answer of your question. It's an List with 2 items.</p>\n\n<pre><code>StringBuilder builder = new StringBuilder();\nBufferedReader reader = new BufferedReader(new FileReader(new File(\"resources/json1.txt\")));\nString line = null;\nwhile ((line = reader.readLine()) != null) {\n    builder.append(line);\n}\nreader.close();\n\nGson gson = new Gson();\nType listType = new TypeToken&lt;ArrayList&lt;MyJSON&gt;&gt;() {\n}.getType();\nList&lt;MyJSON&gt; list = gson.fromJson(builder.toString(), listType);\n// you can try this form as well\n// MyJSON[] list = gson.fromJson(builder.toString(), MyJSON[].class);\n\nfor (MyJSON json : list) {\n    System.out.println(json.toString());\n}\n\n...\n\nclass MyJSON {\n    String item_name;\n    String item_type;\n    String item;\n    String item_min_lvl;\n    Enchantment enchantment;\n\n    @Override\n    public String toString() {\n        StringBuilder builder = new StringBuilder();\n\n        builder.append(\"\\nitem_name:\").append(item_name);\n        builder.append(\"\\nitem_type:\").append(item_type);\n        builder.append(\"\\nitem:\").append(item);\n        builder.append(\"\\nitem_min_lvl:\").append(item_min_lvl);\n\n        builder.append(\"\\n\\nEnchantment Details:\");\n        builder.append(\"\\nhealth:\").append(enchantment.health);\n        builder.append(\"\\ndam:\").append(enchantment.dam);\n        builder.append(\"\\nlife:\").append(enchantment.life);\n        builder.append(\"\\nxp:\").append(enchantment.xp);\n        builder.append(\"\\nloot:\").append(enchantment.loot);\n        return builder.toString();\n    }\n}\n\nclass Enchantment {\n    String health;\n    String dam;\n    String life;\n    String xp;\n    String loot;\n}\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>item_name:Adame\nitem_type:Special\nitem:Chestplate\nitem_min_lvl:50\n\nEnchantment Details:\nhealth:0.3\ndam:24%\nlife:0.1\nxp:24%\nloot:22%\n\n\nitem_name:Sticks'\nitem_type:Unique\nitem:Stick\nitem_min_lvl:4\n\nEnchantment Details:\nhealth:0.6\ndam:12%\nlife:0.3\nxp:17%\nloot:17%\n</code></pre>\n\n<hr>\n\n<p><strong>EDIT</strong></p>\n\n<p>The structure of each entry is not same hence you can't use POJO for this type of JSON.</p>\n\n<p>Simply use <code>ArrayList&lt;Map&lt;String, Object&gt;&gt;</code> and access the value based on key from the map.</p>\n\n<pre><code>Gson gson = new Gson();\nType listType = new TypeToken&lt;ArrayList&lt;Map&lt;String, Object&gt;&gt;&gt;() {\n}.getType();\nArrayList&lt;Map&lt;String, Object&gt;&gt; list = gson.fromJson(builder.toString(), listType);\n\nfor (Map&lt;String, Object&gt; json : list) {\n    for (String key : json.keySet()) {\n        System.out.println(key + \":\" + json.get(key));\n    }\n    System.out.println(\"===========\");\n} \n</code></pre>\n\n<p>output:</p>\n\n<pre><code>item_name:Adame\nitem_type:Special\nitem:Chestplate\nitem_min_lvl:50\nenchantment:{health=0.3, dam=24%, life=0.1, xp=24%, loot=22%}\ndef:73\n===========\nitem_name:Sticks'\nitem_type:Unique\nitem:Stick\nitem_min_lvl:4\nenchantment:{health=0.6, mana=1, dam=12%, life=0.3, xp=17%, loot=17%}\nmin_dam:39\nmax_dam:34\n===========\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3887004,"reputation":46525,"user_id":3218114,"accept_rate":84,"display_name":"Braj"},"score":0,"creation_date":1400394608,"post_id":23719197,"comment_id":36455001,"body_markdown":"Please share the code. What will be the structure of `YourObject` here? Look at the JSON string again, it&#39;s not symmetric.","body":"Please share the code. What will be the structure of <code>YourObject</code> here? Look at the JSON string again, it&#39;s not symmetric."},{"owner":{"account_id":3887004,"reputation":46525,"user_id":3218114,"accept_rate":84,"display_name":"Braj"},"score":0,"creation_date":1400394685,"post_id":23719197,"comment_id":36455014,"body_markdown":"And for you information I have already shared this line in my post.","body":"And for you information I have already shared this line in my post."},{"owner":{"account_id":4417251,"reputation":277,"user_id":3598436,"display_name":"Ani Fichadia"},"score":0,"creation_date":1400395907,"post_id":23719197,"comment_id":36455254,"body_markdown":"@Braj Sorry, didn&#39;t notice, had this question open for a while.\n\nYou can have a fully formed POJO with `min_dam` and `max_dam` as a `String` attributes. GSON will parse it and just set the values to `null` if they aren&#39;t set in the original JSON anyway. An example from your MyJSON above:\n`class MyJSON\n    {\n        String item_name;\n        String item_type;\n        String item;\n        String item_min_lvl;\n        Enchantment enchantment;\n\n        String min_dam;\n        String max_dam;\n    }`\nYou can make a distinction between the types by checking if those values are `null`","body":"@Braj Sorry, didn&#39;t notice, had this question open for a while.  You can have a fully formed POJO with <code>min_dam</code> and <code>max_dam</code> as a <code>String</code> attributes. GSON will parse it and just set the values to <code>null</code> if they aren&#39;t set in the original JSON anyway. An example from your MyJSON above: <code>class MyJSON     {         String item_name;         String item_type;         String item;         String item_min_lvl;         Enchantment enchantment;          String min_dam;         String max_dam;     }</code> You can make a distinction between the types by checking if those values are <code>null</code>"},{"owner":{"account_id":3887004,"reputation":46525,"user_id":3218114,"accept_rate":84,"display_name":"Braj"},"score":0,"creation_date":1400396031,"post_id":23719197,"comment_id":36455277,"body_markdown":"The values are dynamic. some time `&quot;enchantment&quot;: {}`, `&quot;enchantment&quot;: []` or not at all.","body":"The values are dynamic. some time <code>&quot;enchantment&quot;: {}</code>, <code>&quot;enchantment&quot;: []</code> or not at all."},{"owner":{"account_id":3887004,"reputation":46525,"user_id":3218114,"accept_rate":84,"display_name":"Braj"},"score":0,"creation_date":1400396090,"post_id":23719197,"comment_id":36455290,"body_markdown":"Yes you can add more information in your post to make it clear.","body":"Yes you can add more information in your post to make it clear."},{"owner":{"account_id":3887004,"reputation":46525,"user_id":3218114,"accept_rate":84,"display_name":"Braj"},"score":0,"creation_date":1400396252,"post_id":23719197,"comment_id":36455326,"body_markdown":"Look at other post of the OP [Java - JSON Parser Error](http://stackoverflow.com/questions/23718739/java-json-parser-error)","body":"Look at other post of the OP <a href=\"http://stackoverflow.com/questions/23718739/java-json-parser-error\">Java - JSON Parser Error</a>"},{"owner":{"account_id":4417251,"reputation":277,"user_id":3598436,"display_name":"Ani Fichadia"},"score":0,"creation_date":1400397131,"post_id":23719197,"comment_id":36455497,"body_markdown":"@Braj Just had a look at that now, it seems like the JSON from the OP is not structured consistently. If its structured properly, i.e, the &quot;enchantment&quot; is always provided as a JSON array (single, multiple, non-existent values or otherwise), you can just have it as an Enchantment[] in the POJO.\n\nI&#39;ll update my post, was busy with something else. Sorry about that.","body":"@Braj Just had a look at that now, it seems like the JSON from the OP is not structured consistently. If its structured properly, i.e, the &quot;enchantment&quot; is always provided as a JSON array (single, multiple, non-existent values or otherwise), you can just have it as an Enchantment[] in the POJO.  I&#39;ll update my post, was busy with something else. Sorry about that."},{"owner":{"account_id":3887004,"reputation":46525,"user_id":3218114,"accept_rate":84,"display_name":"Braj"},"score":0,"creation_date":1400487507,"post_id":23719197,"comment_id":36481203,"body_markdown":"Have you tried with all the possibilities of `enchantment` as mentioned in my above comments?","body":"Have you tried with all the possibilities of <code>enchantment</code> as mentioned in my above comments?"},{"owner":{"account_id":4417251,"reputation":277,"user_id":3598436,"display_name":"Ani Fichadia"},"score":0,"creation_date":1400749322,"post_id":23719197,"comment_id":36612275,"body_markdown":"@Braj it crashes with an `IllegalStateException`. Again, its not &quot;well/consistently&quot; formed JSON","body":"@Braj it crashes with an <code>IllegalStateException</code>. Again, its not &quot;well/consistently&quot; formed JSON"}],"tags":[],"owner":{"account_id":4417251,"reputation":277,"user_id":3598436,"display_name":"Ani Fichadia"},"comment_count":9,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1400397861,"creation_date":1400394431,"answer_id":23719197,"question_id":23710037,"body_markdown":"This is actually valid in Java and with GSON:\r\n\r\n    YourObject[] locs = gson.fromJson (someJsonString, YourObject[].class);\r\n\r\nIt&#39;ll parse and return an array of `YourObject`. Just create Java Classes that represent your JSON objects, and replace the placeholders as necessary.\r\n\r\nEDIT:\r\nAs Braj said before, you can create a fully formed POJO, including the other, (non-symmetrical) attributes (I&#39;m borrowing the code from from Braj&#39;s answer here):\r\n\r\n    //... snip ...\r\n    class MyJSON\r\n    {\r\n       \tString\t\titem_name;\r\n       \tString\t\titem_type;\r\n       \tString\t\titem;\r\n       \tString\t\titem_min_lvl;\r\n       \tEnchantment\tenchantment;\r\n        \r\n        // Heres the other attributes\r\n       \tString\t\tmin_dam;\r\n    \tString\t\tmax_dam;\r\n    }\r\n    //... snip ...\r\n\r\nGSON will parse it and set the values to `null` if they aren&#39;t provided in the original JSON.\r\n\r\nHowever, from the other question, it seems that the JSON (https://stackoverflow.com/questions/23718739/java-json-parser-error) for enchantment is provided inconsistently, so this will cause issues. I would recommend sending JSON for enchantment as an array for consistency, then you could structure your POJO as:\r\n\r\n     //... snip ...\r\n    class MyJSON\r\n    {\r\n       \tString\t\titem_name;\r\n       \tString\t\titem_type;\r\n       \tString\t\titem;\r\n       \tString\t\titem_min_lvl;\r\n       \tEnchantment[]\tenchantment;\r\n        \r\n        // Heres the other attributes\r\n       \tString\t\tmin_dam;\r\n    \tString\t\tmax_dam;\r\n    }\r\n    //... snip ...","title":"Java - Json deserialize data []","body":"<p>This is actually valid in Java and with GSON:</p>\n\n<pre><code>YourObject[] locs = gson.fromJson (someJsonString, YourObject[].class);\n</code></pre>\n\n<p>It'll parse and return an array of <code>YourObject</code>. Just create Java Classes that represent your JSON objects, and replace the placeholders as necessary.</p>\n\n<p>EDIT:\nAs Braj said before, you can create a fully formed POJO, including the other, (non-symmetrical) attributes (I'm borrowing the code from from Braj's answer here):</p>\n\n<pre><code>//... snip ...\nclass MyJSON\n{\n    String      item_name;\n    String      item_type;\n    String      item;\n    String      item_min_lvl;\n    Enchantment enchantment;\n\n    // Heres the other attributes\n    String      min_dam;\n    String      max_dam;\n}\n//... snip ...\n</code></pre>\n\n<p>GSON will parse it and set the values to <code>null</code> if they aren't provided in the original JSON.</p>\n\n<p>However, from the other question, it seems that the JSON (<a href=\"https://stackoverflow.com/questions/23718739/java-json-parser-error\">Java - JSON Parser Error</a>) for enchantment is provided inconsistently, so this will cause issues. I would recommend sending JSON for enchantment as an array for consistency, then you could structure your POJO as:</p>\n\n<pre><code> //... snip ...\nclass MyJSON\n{\n    String      item_name;\n    String      item_type;\n    String      item;\n    String      item_min_lvl;\n    Enchantment[]   enchantment;\n\n    // Heres the other attributes\n    String      min_dam;\n    String      max_dam;\n}\n//... snip ...\n</code></pre>\n"}],"owner":{"account_id":4483189,"reputation":105,"user_id":3646662,"accept_rate":50,"display_name":"Jeremy"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":280,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":23710119,"answer_count":2,"score":1,"last_activity_date":1673505886,"creation_date":1400321318,"question_id":23710037,"body_markdown":"I am new to stackoverflow.\r\n\r\nI am creating an Java application which it will get data from a web server. The data is in json format. Example&quot;\r\n\r\n    [\r\n      {\r\n        &quot;item_name&quot;: &quot;Adame&quot;,\r\n        &quot;item_type&quot;: &quot;Special&quot;,\r\n        &quot;item&quot;: &quot;Chestplate&quot;,\r\n        &quot;item_min_lvl&quot;: &quot;50&quot;,\r\n        &quot;enchantment&quot;: {\r\n          &quot;health&quot;: &quot;0.3&quot;,\r\n          &quot;dam&quot;: &quot;24%&quot;,\r\n          &quot;life&quot;: &quot;0.1&quot;,\r\n          &quot;xp&quot;: &quot;24%&quot;,\r\n          &quot;loot&quot;: &quot;22%&quot;\r\n        },\r\n        &quot;def&quot;: &quot;73&quot;\r\n      },\r\n      {\r\n        &quot;item_name&quot;: &quot;Sticks&#39;&quot;,\r\n        &quot;item_type&quot;: &quot;Unique&quot;,\r\n        &quot;item&quot;: &quot;Stick&quot;,\r\n        &quot;item_min_lvl&quot;: &quot;4&quot;,\r\n        &quot;enchantment&quot;: {\r\n          &quot;health&quot;: &quot;0.6&quot;,\r\n          &quot;mana&quot;: &quot;1&quot;,\r\n          &quot;dam&quot;: &quot;12%&quot;,\r\n          &quot;life&quot;: &quot;0.3&quot;,\r\n          &quot;xp&quot;: &quot;17%&quot;,\r\n          &quot;loot&quot;: &quot;17%&quot;\r\n        },\r\n        &quot;min_dam&quot;: &quot;39&quot;,\r\n        &quot;max_dam&quot;: &quot;34&quot;\r\n      }\r\n    ]\r\n\r\nI know how to deserialize json using Gson. As you can see, it&#39;s started with `[`. I never deserialize this case before. Also, the json data is not the same(e.g. `enchantment`). I also searched in Google but I can&#39;t find any similar case. Can anyone help me with the code?","title":"Java - Json deserialize data []","body":"<p>I am new to stackoverflow.</p>\n<p>I am creating an Java application which it will get data from a web server. The data is in json format. Example&quot;</p>\n<pre><code>[\n  {\n    &quot;item_name&quot;: &quot;Adame&quot;,\n    &quot;item_type&quot;: &quot;Special&quot;,\n    &quot;item&quot;: &quot;Chestplate&quot;,\n    &quot;item_min_lvl&quot;: &quot;50&quot;,\n    &quot;enchantment&quot;: {\n      &quot;health&quot;: &quot;0.3&quot;,\n      &quot;dam&quot;: &quot;24%&quot;,\n      &quot;life&quot;: &quot;0.1&quot;,\n      &quot;xp&quot;: &quot;24%&quot;,\n      &quot;loot&quot;: &quot;22%&quot;\n    },\n    &quot;def&quot;: &quot;73&quot;\n  },\n  {\n    &quot;item_name&quot;: &quot;Sticks'&quot;,\n    &quot;item_type&quot;: &quot;Unique&quot;,\n    &quot;item&quot;: &quot;Stick&quot;,\n    &quot;item_min_lvl&quot;: &quot;4&quot;,\n    &quot;enchantment&quot;: {\n      &quot;health&quot;: &quot;0.6&quot;,\n      &quot;mana&quot;: &quot;1&quot;,\n      &quot;dam&quot;: &quot;12%&quot;,\n      &quot;life&quot;: &quot;0.3&quot;,\n      &quot;xp&quot;: &quot;17%&quot;,\n      &quot;loot&quot;: &quot;17%&quot;\n    },\n    &quot;min_dam&quot;: &quot;39&quot;,\n    &quot;max_dam&quot;: &quot;34&quot;\n  }\n]\n</code></pre>\n<p>I know how to deserialize json using Gson. As you can see, it's started with <code>[</code>. I never deserialize this case before. Also, the json data is not the same(e.g. <code>enchantment</code>). I also searched in Google but I can't find any similar case. Can anyone help me with the code?</p>\n"},{"tags":["java","swing","awt"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1673321684,"post_id":75065176,"comment_id":132467392,"body_markdown":"Put a &quot;filler&quot; component between them with a `weighty` of `1`","body":"Put a &quot;filler&quot; component between them with a <code>weighty</code> of <code>1</code>"},{"owner":{"account_id":18862568,"reputation":183,"user_id":13759058,"display_name":"Coder100"},"score":0,"creation_date":1673323333,"post_id":75065176,"comment_id":132467583,"body_markdown":"Thank you so much!! This worked for me. Do you want to make this an answer so I can mark as accepted?","body":"Thank you so much!! This worked for me. Do you want to make this an answer so I can mark as accepted?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1673328495,"post_id":75065176,"comment_id":132468242,"body_markdown":"No, you can self answer &#128521;","body":"No, you can self answer "},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1673363584,"post_id":75065176,"comment_id":132478868,"body_markdown":"I would use a BorderLayout. Add one component to the BorderLayout.LINE_START and one to the BorderLayout.LINE_END.","body":"I would use a BorderLayout. Add one component to the BorderLayout.LINE_START and one to the BorderLayout.LINE_END."},{"owner":{"account_id":18862568,"reputation":183,"user_id":13759058,"display_name":"Coder100"},"score":0,"creation_date":1673393140,"post_id":75065176,"comment_id":132487913,"body_markdown":"@camickr that&#39;s a good solution too, I&#39;m not sure which one I like better","body":"@camickr that&#39;s a good solution too, I&#39;m not sure which one I like better"}],"answers":[{"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1673363552,"post_id":75066677,"comment_id":132478856,"body_markdown":"(1-) A GridLayout does not leave space between components. The above code sort of works because of how the text is painted in a JLabel. However it would not work for a JButton which paints a border around the component so you will so there is no space between components.","body":"(1-) A GridLayout does not leave space between components. The above code sort of works because of how the text is painted in a JLabel. However it would not work for a JButton which paints a border around the component so you will so there is no space between components."},{"owner":{"account_id":1465939,"reputation":85,"user_id":1378759,"display_name":"Matt Hovey"},"score":0,"creation_date":1673505554,"post_id":75066677,"comment_id":132515337,"body_markdown":"It works with buttons if you put them first into JPanels with FlowLayout, then add them to the GridLayout. I do it all the time.","body":"It works with buttons if you put them first into JPanels with FlowLayout, then add them to the GridLayout. I do it all the time."}],"tags":[],"owner":{"account_id":1465939,"reputation":85,"user_id":1378759,"display_name":"Matt Hovey"},"comment_count":2,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1673505853,"creation_date":1673335286,"answer_id":75066677,"question_id":75065176,"body_markdown":"You can use GridBagLayout, but I find using the constraints painful and sometimes unpredictable. This is easier with GridLayout and specifying the justification of the JLabel. \r\n\r\nHere&#39;s an example that puts two JLabels in a row as in your drawing:\r\n\r\n    JPanel labelrow = new JPanel(new GridLayout(1,2));\r\n    JLabel left = new JLabel(&quot;left side&quot;, JLabel.LEFT);\r\n    JLabel right = new JLabel(&quot;right side&quot;, JLabel.RIGHT);\r\n\r\nYou can do the same with other controls, like buttons, if you put them inside JPanels with FlowLayouts that are left and right-justified.\r\n\r\nHere&#39;s an example showing it with buttons off to each side:\r\n\r\n    JPanel buttons = new JPanel(new GridLayout(1,2));\r\n    JPanel left = new JPanel(new FlowLayout(FlowLayout.LEFT));\r\n    JPanel right = new JPanel(new FlowLayout(FlowLayout.RIGHT));\r\n    left.add(new JButton(&quot;Left&quot;));\r\n    right.add(new JButton(&quot;Right&quot;));\r\n    buttons.add(left);\r\n    buttons.add(right);\r\n\r\n","title":"How do I make two JLabels on opposite sides of the screen?","body":"<p>You can use GridBagLayout, but I find using the constraints painful and sometimes unpredictable. This is easier with GridLayout and specifying the justification of the JLabel.</p>\n<p>Here's an example that puts two JLabels in a row as in your drawing:</p>\n<pre><code>JPanel labelrow = new JPanel(new GridLayout(1,2));\nJLabel left = new JLabel(&quot;left side&quot;, JLabel.LEFT);\nJLabel right = new JLabel(&quot;right side&quot;, JLabel.RIGHT);\n</code></pre>\n<p>You can do the same with other controls, like buttons, if you put them inside JPanels with FlowLayouts that are left and right-justified.</p>\n<p>Here's an example showing it with buttons off to each side:</p>\n<pre><code>JPanel buttons = new JPanel(new GridLayout(1,2));\nJPanel left = new JPanel(new FlowLayout(FlowLayout.LEFT));\nJPanel right = new JPanel(new FlowLayout(FlowLayout.RIGHT));\nleft.add(new JButton(&quot;Left&quot;));\nright.add(new JButton(&quot;Right&quot;));\nbuttons.add(left);\nbuttons.add(right);\n</code></pre>\n"}],"owner":{"account_id":18862568,"reputation":183,"user_id":13759058,"display_name":"Coder100"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673505853,"creation_date":1673321418,"question_id":75065176,"body_markdown":"I&#39;m trying to make something that looks like this:\r\n[![enter image description here][1]][1]\r\n\r\nAs you can see, I want the labels on opposite sides of each other on the same line in the same parent container.\r\n\r\nI tried using the `GridBagLayout`, and here is my code:\r\n\r\n```java\r\nJPanel cont = new JPanel();\r\n\r\nJLabel left = new JLabel(&quot;left&quot;);\r\nJLabel right = new JLabel(&quot;right&quot;);\r\n\r\nGridBagConstraints gbc = new GridBagConstraints();\r\ngbc.anchor = GridBagConstraints.WEST;\r\ncont.add(left, gbc);\r\n\r\ngbc = new GridBagConstraints();\r\ngbc.anchor = GridBagConstraints.EAST;\r\ncont.add(right, gbc);\r\n```\r\n\r\n[1]: https://i.stack.imgur.com/nQ0WB.png","title":"How do I make two JLabels on opposite sides of the screen?","body":"<p>I'm trying to make something that looks like this:\n<a href=\"https://i.stack.imgur.com/nQ0WB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nQ0WB.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see, I want the labels on opposite sides of each other on the same line in the same parent container.</p>\n<p>I tried using the <code>GridBagLayout</code>, and here is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JPanel cont = new JPanel();\n\nJLabel left = new JLabel(&quot;left&quot;);\nJLabel right = new JLabel(&quot;right&quot;);\n\nGridBagConstraints gbc = new GridBagConstraints();\ngbc.anchor = GridBagConstraints.WEST;\ncont.add(left, gbc);\n\ngbc = new GridBagConstraints();\ngbc.anchor = GridBagConstraints.EAST;\ncont.add(right, gbc);\n</code></pre>\n"},{"tags":["java","spring-session","java-melody"],"owner":{"account_id":8321086,"reputation":83,"user_id":6252772,"display_name":"Gleb  Shadrin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673505579,"creation_date":1673339420,"question_id":75067304,"body_markdown":"We use Spring-session. And we use JavaMelody for monitoring sessions.\r\n\r\nJavaMelody uses net.bull.javamelody.SessionListener for monitoring sessions. It is implementation of HttpSessionListener from servlet API.\r\n\r\nSpring-session have SessionEventHttpSessionListenerAdapter for capability with servlet api session listeners. It listens Spring session events and submit http session events. Wherein it creates ExpiringSessionHttpSession (wrapper for spring session).\r\n\r\n    private HttpSessionEvent createHttpSessionEvent(AbstractSessionEvent event) {\r\n    \tExpiringSession session = event.getSession();\r\n    \tHttpSession httpSession = new ExpiringSessionHttpSession&lt;ExpiringSession&gt;(session,\r\n    \t\t\t\tthis.context);\r\n    \tHttpSessionEvent httpSessionEvent = new HttpSessionEvent(httpSession);\r\n    \treturn httpSessionEvent;\r\n    }\r\n\r\nWe use SessionEventHttpSessionListenerAdapter for working net.bull.javamelody.SessionListener. Spring sessions successful displays in JavaMelody sessions view.\r\n\r\nBut we have a problem. JavaMelody button &quot;invalidate session&quot; doesn&#39;t work correct. JavaMelody uses http session method invalidate for handling this button. The implementation method in ExpiringSessionHttpSession (part of Spring) looks like dummy:\r\n\r\n    public void invalidate() {\r\n    \tcheckState();\r\n    \tthis.invalidated = true;\r\n    }\r\n\r\nIn facts, it only set invalidate = true in adapter, but it is not invalidate session in Spring session registry. Real spring session continues be valid, and user can be used this session.\r\n\r\nCould you have solution for this problem?\r\n\r\nI found some solution but I don&#39;t think that it&#39;s good. We can override spring SessionEventHttpSessionListenerAdapter and ExpiringSessionHttpSession. And we can override method invalidate (adding call session registry). In this case, JavaMelody will invalidate session in registry.\r\n\r\nProbably exists solution is better. I would be glad to get it.","title":"JavaMelody and Spring Session","body":"<p>We use Spring-session. And we use JavaMelody for monitoring sessions.</p>\n<p>JavaMelody uses net.bull.javamelody.SessionListener for monitoring sessions. It is implementation of HttpSessionListener from servlet API.</p>\n<p>Spring-session have SessionEventHttpSessionListenerAdapter for capability with servlet api session listeners. It listens Spring session events and submit http session events. Wherein it creates ExpiringSessionHttpSession (wrapper for spring session).</p>\n<pre><code>private HttpSessionEvent createHttpSessionEvent(AbstractSessionEvent event) {\n    ExpiringSession session = event.getSession();\n    HttpSession httpSession = new ExpiringSessionHttpSession&lt;ExpiringSession&gt;(session,\n                this.context);\n    HttpSessionEvent httpSessionEvent = new HttpSessionEvent(httpSession);\n    return httpSessionEvent;\n}\n</code></pre>\n<p>We use SessionEventHttpSessionListenerAdapter for working net.bull.javamelody.SessionListener. Spring sessions successful displays in JavaMelody sessions view.</p>\n<p>But we have a problem. JavaMelody button &quot;invalidate session&quot; doesn't work correct. JavaMelody uses http session method invalidate for handling this button. The implementation method in ExpiringSessionHttpSession (part of Spring) looks like dummy:</p>\n<pre><code>public void invalidate() {\n    checkState();\n    this.invalidated = true;\n}\n</code></pre>\n<p>In facts, it only set invalidate = true in adapter, but it is not invalidate session in Spring session registry. Real spring session continues be valid, and user can be used this session.</p>\n<p>Could you have solution for this problem?</p>\n<p>I found some solution but I don't think that it's good. We can override spring SessionEventHttpSessionListenerAdapter and ExpiringSessionHttpSession. And we can override method invalidate (adding call session registry). In this case, JavaMelody will invalidate session in registry.</p>\n<p>Probably exists solution is better. I would be glad to get it.</p>\n"},{"tags":["java","for-loop","timer"],"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1673503081,"post_id":75092082,"comment_id":132514834,"body_markdown":"Do you want a 5 second *gap* between executions for your 20-second method, or do you want to start your 20-second method every 5 seconds?","body":"Do you want a 5 second <i>gap</i> between executions for your 20-second method, or do you want to start your 20-second method every 5 seconds?"},{"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"score":0,"creation_date":1673503344,"post_id":75092082,"comment_id":132514888,"body_markdown":"Why the condition `timesRun[0] == 10`? Also using `final int[] timesRun = {0};` is super unsafe. There is a reason why the compiler does not allow you to use a simple `int` for that and you tried to trick it with an array. Each timer will run in its own thread and modify the same variable without any protection. You can use `AtomicInteger timesRun = new AtomicInteger(0);` instead.","body":"Why the condition <code>timesRun[0] == 10</code>? Also using <code>final int[] timesRun = {0};</code> is super unsafe. There is a reason why the compiler does not allow you to use a simple <code>int</code> for that and you tried to trick it with an array. Each timer will run in its own thread and modify the same variable without any protection. You can use <code>AtomicInteger timesRun = new AtomicInteger(0);</code> instead."},{"owner":{"account_id":23466937,"reputation":1,"user_id":17520947,"display_name":"User52 1"},"score":0,"creation_date":1673503803,"post_id":75092082,"comment_id":132514966,"body_markdown":"@Bohemian I want a 5 second gap between execution for the 20-second method..\nand the 20 second method should execute on the next iteration.","body":"@Bohemian I want a 5 second gap between execution for the 20-second method.. and the 20 second method should execute on the next iteration."},{"owner":{"account_id":23466937,"reputation":1,"user_id":17520947,"display_name":"User52 1"},"score":0,"creation_date":1673504663,"post_id":75092082,"comment_id":132515155,"body_markdown":"@Pavel I have updated the code with AtomicIntegar as well. But the results are no different. Logcat is same.","body":"@Pavel I have updated the code with AtomicIntegar as well. But the results are no different. Logcat is same."}],"answers":[{"comments":[{"owner":{"account_id":23466937,"reputation":1,"user_id":17520947,"display_name":"User52 1"},"score":0,"creation_date":1673506161,"post_id":75092413,"comment_id":132515474,"body_markdown":"This isn&#39;t working.. \nI have used Thread.sleep in several ways but it blocks my code. and somehow the whole app is stuck.\nAs I asked before **without blocking the thread** .. \nplease is there any way to overcome this without Thread.sleep","body":"This isn&#39;t working..  I have used Thread.sleep in several ways but it blocks my code. and somehow the whole app is stuck. As I asked before <b>without blocking the thread</b> ..  please is there any way to overcome this without Thread.sleep"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1673506471,"post_id":75092413,"comment_id":132515538,"body_markdown":"@User521 this does *not* block anything in the &quot;Do other stuff while the Thread is running&quot; section - it can&#39;t. It&#39;s running in the background. Unless your `myProcessfor20Seconds()` does something that blocks what you claim is being blocked or your hardware has only one thread available.","body":"@User521 this does <i>not</i> block anything in the &quot;Do other stuff while the Thread is running&quot; section - it can&#39;t. It&#39;s running in the background. Unless your <code>myProcessfor20Seconds()</code> does something that blocks what you claim is being blocked or your hardware has only one thread available."}],"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673505196,"creation_date":1673505196,"answer_id":75092413,"question_id":75092082,"body_markdown":"I would keep it simple: Start a thread to run your method with a gap between executions and wait in the main thread for it to finish.\r\n\r\n```\r\nThread t = new Thread(() -&gt; {\r\n    for (int i = 0, len = ids.length; i &lt; len; i++) {\r\n        myProcessfor20Seconds();\r\n        try {\r\n            if (i &lt; len - 1) // don&#39;t sleep after the last execution\r\n                Thread.sleep(5000);\r\n        } catch (InterruptedException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}); // create the Thread with your background code as a Runnable\r\n\r\nt.start(); // start the background thread\r\n\r\n// Do other stuff while the Thread is running\r\n\r\ntry {\r\n    t.join(); // wait for thread to finish\r\n} catch (InterruptedException e) {\r\n    throw new RuntimeException(e);\r\n}\r\n```\r\n\r\nThere are more elegant ways to handle the exceptions, but this is the basics.","title":"delay for loop before Iteration not working","body":"<p>I would keep it simple: Start a thread to run your method with a gap between executions and wait in the main thread for it to finish.</p>\n<pre><code>Thread t = new Thread(() -&gt; {\n    for (int i = 0, len = ids.length; i &lt; len; i++) {\n        myProcessfor20Seconds();\n        try {\n            if (i &lt; len - 1) // don't sleep after the last execution\n                Thread.sleep(5000);\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}); // create the Thread with your background code as a Runnable\n\nt.start(); // start the background thread\n\n// Do other stuff while the Thread is running\n\ntry {\n    t.join(); // wait for thread to finish\n} catch (InterruptedException e) {\n    throw new RuntimeException(e);\n}\n</code></pre>\n<p>There are more elegant ways to handle the exceptions, but this is the basics.</p>\n"}],"owner":{"account_id":23466937,"reputation":1,"user_id":17520947,"display_name":"User52 1"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673505196,"creation_date":1673502437,"question_id":75092082,"body_markdown":"All I want is to wait for a little time before next iteration **without blocking the thread** since other process must go on.\r\n\r\nTried Timer, but nothing works inside the for loop.\r\n\r\nI&#39;m stuck.\r\n\r\nThere is a method which must execute and it takes about 20 seconds to execute.\r\n\r\n\r\n\r\nMy for loop is below\r\n\r\n```\r\n\r\nint[] ids ={1,2,3,4,5,6,87,234,6,346,3,4634,12};\r\n\r\n        for (int i= 0, len = ids.length; i&lt;len;i++) {\r\n            Log.e(&quot; Need to wait: &quot;, &quot; for every widget to update~&quot;);\r\n            final int[] timesRun = {0};\r\n            Timer timer = new Timer();\r\n            timer.scheduleAtFixedRate(new TimerTask() {\r\n                @Override\r\n                public void run() {\r\n                    timesRun[0] = timesRun[0] + 1;\r\n                    Log.e(&quot;timesRun&quot;, String.valueOf(timesRun[0]));\r\n\r\n                    Log.i(&quot;tag&quot;, &quot;runs every 5 seconds&quot;);\r\n                    if (timesRun[0] == 10) {\r\n                        myProcessfor20Seconds();\r\n                        timer.cancel();\r\n\r\n                    }\r\n                }\r\n            }, 0, 5000);\r\n\r\n            Log.i(&quot;tag&quot;, &quot;Exiting the Timer&quot;);\r\n\r\n\r\n        }\r\n```\r\n\r\n\r\n\r\nand this also \r\n\r\n    \r\n    int[] ids ={1,2,3,4,5,6,87,234,6,346,3,4634,12};\r\n\r\n        for (int i= 0, len = ids.length; i&lt;len;i++) {\r\n            Log.e(&quot; Need to wait: &quot;, &quot; for every widget to update~&quot;);\r\n           final AtomicInteger timesRun = new AtomicInteger(0);\r\n\r\n            Timer timer = new Timer();\r\n            timer.scheduleAtFixedRate(new TimerTask() {\r\n                @Override\r\n                public void run() {\r\n                    timesRun.addAndGet(1);\r\n\r\n                    Log.e(&quot;timesRun&quot;, String.valueOf(timesRun.get()));\r\n\r\n                    Log.i(&quot;tag&quot;, &quot;runs every 5 seconds&quot;);\r\n                    if (timesRun.intValue() ==  10) {\r\n                        timer.cancel();\r\n\r\n                    }\r\n                }\r\n            }, 0, 5000);\r\n\r\n            Log.i(&quot;tag&quot;, &quot;Exiting the Timer&quot;);\r\n\r\n\r\n        }\r\n\r\n\r\nHowever the logcat is like this\r\n\r\n```\r\n2023-01-12 11:14:28.919 15096-15096/com.my.app E/&#160;Need&#160;to&#160;wait::  for every widget to update~\r\n2023-01-12 11:14:28.920 15096-15096/com.my.app I/tag: Exiting the Timer\r\n2023-01-12 11:14:28.920 15096-15096/com.my.app E/&#160;Need&#160;to&#160;wait::  for every widget to update~\r\n2023-01-12 11:14:28.920 15096-15096/com.my.app I/tag: Exiting the Timer\r\n2023-01-12 11:14:28.920 15096-15096/com.my.app E/&#160;Need&#160;to&#160;wait::  for every widget to update~\r\n2023-01-12 11:14:28.920 15096-15096/com.my.app I/tag: Exiting the Timer\r\n2023-01-12 11:14:28.921 15096-15096/com.my.app E/&#160;Need&#160;to&#160;wait::  for every widget to update~\r\n2023-01-12 11:14:28.921 15096-15175/com.my.app E/timesRun: 1\r\n2023-01-12 11:14:28.921 15096-15175/com.my.app I/tag: runs every 5 seconds\r\n2023-01-12 11:14:28.921 15096-15174/com.my.app E/timesRun: 1\r\n2023-01-12 11:14:28.921 15096-15174/com.my.app I/tag: runs every 5 seconds\r\n2023-01-12 11:14:28.921 15096-15176/com.my.app E/timesRun: 1\r\n2023-01-12 11:14:28.921 15096-15096/com.my.app I/tag: Exiting the Timer\r\n2023-01-12 11:14:28.921 15096-15096/com.my.app E/&#160;Need&#160;to&#160;wait::  for every widget to update~\r\n2023-01-12 11:14:28.921 15096-15177/com.my.app E/timesRun: 1\r\n2023-01-12 11:14:28.921 15096-15096/com.my.app I/tag: Exiting the Timer\r\n2023-01-12 11:14:28.921 15096-15177/com.my.app I/tag: runs every 5 seconds\r\n2023-01-12 11:14:28.921 15096-15096/com.my.app E/&#160;Need&#160;to&#160;wait::  for every widget to update~\r\n2023-01-12 11:14:28.922 15096-15178/com.my.app E/timesRun: 1\r\n2023-01-12 11:14:28.922 15096-15178/com.my.app I/tag: runs every 5 seconds\r\n2023-01-12 11:14:28.922 15096-15096/com.my.app I/tag: Exiting the Timer\r\n2023-01-12 11:14:28.922 15096-15096/com.my.app E/&#160;Need&#160;to&#160;wait::  for every widget to update~\r\n2023-01-12 11:14:28.922 15096-15096/com.my.app I/tag: Exiting the Timer\r\n2023-01-12 11:14:28.922 15096-15096/com.my.app E/&#160;Need&#160;to&#160;wait::  for every widget to update~\r\n2023-01-12 11:14:28.922 15096-15180/com.my.app E/timesRun: 1\r\n2023-01-12 11:14:28.922 15096-15096/com.my.app I/tag: Exiting the Timer\r\n2023-01-12 11:14:28.922 15096-15180/com.my.app I/tag: runs every 5 seconds\r\n2023-01-12 11:14:28.922 15096-15096/com.my.app E/&#160;Need&#160;to&#160;wait::  for every widget to update~\r\n2023-01-12 11:14:28.922 15096-15181/com.my.app E/timesRun: 1\r\n2023-01-12 11:14:28.922 15096-15176/com.my.app I/tag: runs every 5 seconds\r\n2023-01-12 11:14:28.922 15096-15181/com.my.app I/tag: runs every 5 seconds\r\n2023-01-12 11:14:28.922 15096-15096/com.my.app I/tag: Exiting the Timer\r\n2023-01-12 11:14:28.922 15096-15179/com.my.app E/timesRun: 1\r\n2023-01-12 11:14:28.922 15096-15096/com.my.app E/&#160;Need&#160;to&#160;wait::  for every widget to update~\r\n2023-01-12 11:14:28.922 15096-15182/com.my.app E/timesRun: 1\r\n2023-01-12 11:14:28.923 15096-15179/com.my.app I/tag: runs every 5 seconds\r\n2023-01-12 11:14:28.923 15096-15182/com.my.app I/tag: runs every 5 seconds\r\n2023-01-12 11:14:28.923 15096-15096/com.my.app I/tag: Exiting the Timer\r\n2023-01-12 11:14:28.923 15096-15096/com.my.app E/&#160;Need&#160;to&#160;wait::  for every widget to update~\r\n2023-01-12 11:14:28.923 15096-15183/com.my.app E/timesRun: 1\r\n2023-01-12 11:14:28.923 15096-15183/com.my.app I/tag: runs every 5 seconds\r\n2023-01-12 11:14:28.923 15096-15096/com.my.app I/tag: Exiting the Timer\r\n2023-01-12 11:14:28.923 15096-15096/com.my.app E/&#160;Need&#160;to&#160;wait::  for every widget to update~\r\n2023-01-12 11:14:28.923 15096-15184/com.my.app E/timesRun: 1\r\n2023-01-12 11:14:28.923 15096-15184/com.my.app I/tag: runs every 5 seconds\r\n2023-01-12 11:14:28.923 15096-15096/com.my.app I/tag: Exiting the Timer\r\n2023-01-12 11:14:28.923 15096-15096/com.my.app E/&#160;Need&#160;to&#160;wait::  for every widget to update~\r\n2023-01-12 11:14:28.923 15096-15185/com.my.app E/timesRun: 1\r\n2023-01-12 11:14:28.923 15096-15185/com.my.app I/tag: runs every 5 seconds\r\n2023-01-12 11:14:28.923 15096-15096/com.my.app I/tag: Exiting the Timer\r\n2023-01-12 11:14:28.923 15096-15186/com.my.app E/timesRun: 1\r\n2023-01-12 11:14:28.923 15096-15186/com.my.app I/tag: runs every 5 seconds\r\n2023-01-12 11:14:28.946 15096-15096/com.my.app D/IS_CTS_MODE: false\r\n2023-01-12 11:14:28.946 15096-15096/com.my.app D/MULTI_WINDOW_SWITCH_ENABLED: false\r\n2023-01-12 11:14:29.026 15096-15096/com.my.app E/getting&#160;from&#160;HAWK&#160;:: 1\r\n```\r\n\r\n\r\n\r\n```\r\n\r\nmyProcessfor20Seconds();\r\n```\r\nis executed after all iteration are completed.\r\n\r\nSeems like I need something Synchronized but I&#39;m stuck and I&#39;m still learning.\r\nPlease help.","title":"delay for loop before Iteration not working","body":"<p>All I want is to wait for a little time before next iteration <strong>without blocking the thread</strong> since other process must go on.</p>\n<p>Tried Timer, but nothing works inside the for loop.</p>\n<p>I'm stuck.</p>\n<p>There is a method which must execute and it takes about 20 seconds to execute.</p>\n<p>My for loop is below</p>\n<pre><code>\nint[] ids ={1,2,3,4,5,6,87,234,6,346,3,4634,12};\n\n        for (int i= 0, len = ids.length; i&lt;len;i++) {\n            Log.e(&quot; Need to wait: &quot;, &quot; for every widget to update~&quot;);\n            final int[] timesRun = {0};\n            Timer timer = new Timer();\n            timer.scheduleAtFixedRate(new TimerTask() {\n                @Override\n                public void run() {\n                    timesRun[0] = timesRun[0] + 1;\n                    Log.e(&quot;timesRun&quot;, String.valueOf(timesRun[0]));\n\n                    Log.i(&quot;tag&quot;, &quot;runs every 5 seconds&quot;);\n                    if (timesRun[0] == 10) {\n                        myProcessfor20Seconds();\n                        timer.cancel();\n\n                    }\n                }\n            }, 0, 5000);\n\n            Log.i(&quot;tag&quot;, &quot;Exiting the Timer&quot;);\n\n\n        }\n</code></pre>\n<p>and this also</p>\n<pre><code>int[] ids ={1,2,3,4,5,6,87,234,6,346,3,4634,12};\n\n    for (int i= 0, len = ids.length; i&lt;len;i++) {\n        Log.e(&quot; Need to wait: &quot;, &quot; for every widget to update~&quot;);\n       final AtomicInteger timesRun = new AtomicInteger(0);\n\n        Timer timer = new Timer();\n        timer.scheduleAtFixedRate(new TimerTask() {\n            @Override\n            public void run() {\n                timesRun.addAndGet(1);\n\n                Log.e(&quot;timesRun&quot;, String.valueOf(timesRun.get()));\n\n                Log.i(&quot;tag&quot;, &quot;runs every 5 seconds&quot;);\n                if (timesRun.intValue() ==  10) {\n                    timer.cancel();\n\n                }\n            }\n        }, 0, 5000);\n\n        Log.i(&quot;tag&quot;, &quot;Exiting the Timer&quot;);\n\n\n    }\n</code></pre>\n<p>However the logcat is like this</p>\n<pre><code>2023-01-12 11:14:28.919 15096-15096/com.my.app E/Needtowait::  for every widget to update~\n2023-01-12 11:14:28.920 15096-15096/com.my.app I/tag: Exiting the Timer\n2023-01-12 11:14:28.920 15096-15096/com.my.app E/Needtowait::  for every widget to update~\n2023-01-12 11:14:28.920 15096-15096/com.my.app I/tag: Exiting the Timer\n2023-01-12 11:14:28.920 15096-15096/com.my.app E/Needtowait::  for every widget to update~\n2023-01-12 11:14:28.920 15096-15096/com.my.app I/tag: Exiting the Timer\n2023-01-12 11:14:28.921 15096-15096/com.my.app E/Needtowait::  for every widget to update~\n2023-01-12 11:14:28.921 15096-15175/com.my.app E/timesRun: 1\n2023-01-12 11:14:28.921 15096-15175/com.my.app I/tag: runs every 5 seconds\n2023-01-12 11:14:28.921 15096-15174/com.my.app E/timesRun: 1\n2023-01-12 11:14:28.921 15096-15174/com.my.app I/tag: runs every 5 seconds\n2023-01-12 11:14:28.921 15096-15176/com.my.app E/timesRun: 1\n2023-01-12 11:14:28.921 15096-15096/com.my.app I/tag: Exiting the Timer\n2023-01-12 11:14:28.921 15096-15096/com.my.app E/Needtowait::  for every widget to update~\n2023-01-12 11:14:28.921 15096-15177/com.my.app E/timesRun: 1\n2023-01-12 11:14:28.921 15096-15096/com.my.app I/tag: Exiting the Timer\n2023-01-12 11:14:28.921 15096-15177/com.my.app I/tag: runs every 5 seconds\n2023-01-12 11:14:28.921 15096-15096/com.my.app E/Needtowait::  for every widget to update~\n2023-01-12 11:14:28.922 15096-15178/com.my.app E/timesRun: 1\n2023-01-12 11:14:28.922 15096-15178/com.my.app I/tag: runs every 5 seconds\n2023-01-12 11:14:28.922 15096-15096/com.my.app I/tag: Exiting the Timer\n2023-01-12 11:14:28.922 15096-15096/com.my.app E/Needtowait::  for every widget to update~\n2023-01-12 11:14:28.922 15096-15096/com.my.app I/tag: Exiting the Timer\n2023-01-12 11:14:28.922 15096-15096/com.my.app E/Needtowait::  for every widget to update~\n2023-01-12 11:14:28.922 15096-15180/com.my.app E/timesRun: 1\n2023-01-12 11:14:28.922 15096-15096/com.my.app I/tag: Exiting the Timer\n2023-01-12 11:14:28.922 15096-15180/com.my.app I/tag: runs every 5 seconds\n2023-01-12 11:14:28.922 15096-15096/com.my.app E/Needtowait::  for every widget to update~\n2023-01-12 11:14:28.922 15096-15181/com.my.app E/timesRun: 1\n2023-01-12 11:14:28.922 15096-15176/com.my.app I/tag: runs every 5 seconds\n2023-01-12 11:14:28.922 15096-15181/com.my.app I/tag: runs every 5 seconds\n2023-01-12 11:14:28.922 15096-15096/com.my.app I/tag: Exiting the Timer\n2023-01-12 11:14:28.922 15096-15179/com.my.app E/timesRun: 1\n2023-01-12 11:14:28.922 15096-15096/com.my.app E/Needtowait::  for every widget to update~\n2023-01-12 11:14:28.922 15096-15182/com.my.app E/timesRun: 1\n2023-01-12 11:14:28.923 15096-15179/com.my.app I/tag: runs every 5 seconds\n2023-01-12 11:14:28.923 15096-15182/com.my.app I/tag: runs every 5 seconds\n2023-01-12 11:14:28.923 15096-15096/com.my.app I/tag: Exiting the Timer\n2023-01-12 11:14:28.923 15096-15096/com.my.app E/Needtowait::  for every widget to update~\n2023-01-12 11:14:28.923 15096-15183/com.my.app E/timesRun: 1\n2023-01-12 11:14:28.923 15096-15183/com.my.app I/tag: runs every 5 seconds\n2023-01-12 11:14:28.923 15096-15096/com.my.app I/tag: Exiting the Timer\n2023-01-12 11:14:28.923 15096-15096/com.my.app E/Needtowait::  for every widget to update~\n2023-01-12 11:14:28.923 15096-15184/com.my.app E/timesRun: 1\n2023-01-12 11:14:28.923 15096-15184/com.my.app I/tag: runs every 5 seconds\n2023-01-12 11:14:28.923 15096-15096/com.my.app I/tag: Exiting the Timer\n2023-01-12 11:14:28.923 15096-15096/com.my.app E/Needtowait::  for every widget to update~\n2023-01-12 11:14:28.923 15096-15185/com.my.app E/timesRun: 1\n2023-01-12 11:14:28.923 15096-15185/com.my.app I/tag: runs every 5 seconds\n2023-01-12 11:14:28.923 15096-15096/com.my.app I/tag: Exiting the Timer\n2023-01-12 11:14:28.923 15096-15186/com.my.app E/timesRun: 1\n2023-01-12 11:14:28.923 15096-15186/com.my.app I/tag: runs every 5 seconds\n2023-01-12 11:14:28.946 15096-15096/com.my.app D/IS_CTS_MODE: false\n2023-01-12 11:14:28.946 15096-15096/com.my.app D/MULTI_WINDOW_SWITCH_ENABLED: false\n2023-01-12 11:14:29.026 15096-15096/com.my.app E/gettingfromHAWK:: 1\n</code></pre>\n<pre><code>\nmyProcessfor20Seconds();\n</code></pre>\n<p>is executed after all iteration are completed.</p>\n<p>Seems like I need something Synchronized but I'm stuck and I'm still learning.\nPlease help.</p>\n"},{"tags":["java","android-studio","android-recyclerview"],"answers":[{"comments":[{"owner":{"account_id":17974852,"reputation":17,"user_id":13062707,"display_name":"Code9"},"score":0,"creation_date":1673506027,"post_id":75092289,"comment_id":132515441,"body_markdown":"Using specifically this method no but I did use https://pastebin.com/haELAEDY which does everything asynchronously and didn&#39;t do anything","body":"Using specifically this method no but I did use <a href=\"https://pastebin.com/haELAEDY\" rel=\"nofollow noreferrer\">pastebin.com/haELAEDY</a> which does everything asynchronously and didn&#39;t do anything"},{"owner":{"account_id":27506111,"reputation":1,"user_id":20988830,"display_name":"klem3n"},"score":0,"creation_date":1673529254,"post_id":75092289,"comment_id":132522836,"body_markdown":"UI needs to be updated on the UI thread, not asynchronously. So try this.","body":"UI needs to be updated on the UI thread, not asynchronously. So try this."},{"owner":{"account_id":17974852,"reputation":17,"user_id":13062707,"display_name":"Code9"},"score":0,"creation_date":1673546907,"post_id":75092289,"comment_id":132529337,"body_markdown":"Sadly it doesn&#39;t work, I tried to run on UI thread the adapter#notifyItemChanged","body":"Sadly it doesn&#39;t work, I tried to run on UI thread the adapter#notifyItemChanged"},{"owner":{"account_id":17974852,"reputation":17,"user_id":13062707,"display_name":"Code9"},"score":0,"creation_date":1673560527,"post_id":75092289,"comment_id":132533343,"body_markdown":"If I change the imageView base height from wrap_content to a fixed height it works even without calling notifyItemChanged","body":"If I change the imageView base height from wrap_content to a fixed height it works even without calling notifyItemChanged"}],"tags":[],"owner":{"account_id":27506111,"reputation":1,"user_id":20988830,"display_name":"klem3n"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673504275,"creation_date":1673504275,"answer_id":75092289,"question_id":75092220,"body_markdown":"Have you tried running it on the UI thread?\r\n\r\n    runOnUiThread(() -&gt; notifyItemChanged(position));","title":"How to update Recyclerview image at position after downloading the image from internet?","body":"<p>Have you tried running it on the UI thread?</p>\n<pre><code>runOnUiThread(() -&gt; notifyItemChanged(position));\n</code></pre>\n"}],"owner":{"account_id":17974852,"reputation":17,"user_id":13062707,"display_name":"Code9"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673504275,"creation_date":1673503780,"question_id":75092220,"body_markdown":"I&#39;m trying to update my recyclerview after the download of the image is complete `onSuccess` method, however calling `notifyItemChanged(position);` doesn&#39;t work, I want to update the recyclerview at position once the `onSuccess` is called. The temporary solution is to call each time `notifyDataSetChanged();` but it messes with the images and their scale. Can I update the recyclerview when an image is successfully downloaded? How can I solve this? I could update everything when everything is downloaded but android studio suggests to not use notifyDataSetChanged.\r\nI know the `ImageLoader` class might (and probably is) inefficient or not greatly coded so please if you want suggest me changes that helps me improve it, I don&#39;t need to know how bad it is, I know\r\n\r\n```import android.content.Context;\r\nimport android.graphics.Bitmap;\r\nimport android.text.TextUtils;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageView;\r\n&#160;\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n&#160;\r\nimport java.util.List;\r\n&#160;\r\npublic class ComicViewAdapter extends RecyclerView.Adapter&lt;ComicViewAdapter.ComicViewHolder&gt; {\r\n&#160;\r\n    Context context;\r\n    List&lt;String&gt; linksList;\r\n&#160;\r\n    public ComicViewAdapter(Context context, List&lt;String&gt; linksList) {\r\n        this.context = context;\r\n        this.linksList = linksList;\r\n        if (TextUtils.isEmpty(PrefUtils.PREF))\r\n            PrefUtils.with(context).setSharedPref(context.getResources().getString(R.string.app_name));\r\n    }\r\n&#160;\r\n    @NonNull\r\n    @Override\r\n    public ComicViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.comic_view_pager, parent, false);\r\n        return new ComicViewHolder(view);\r\n    }\r\n&#160;\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ComicViewHolder holder, int position) {\r\n        Manga.imageLoader.with(context, context.getCacheDir() + &quot;/cache&quot;).load(Manga.resolveURL(linksList.get(position), context),\r\n                holder.comic_page, new LoadImage() {\r\n                    @Override\r\n                    public void onSuccess(Bitmap bitmap) {\r\n                        holder.comic_page.setScaleType(ImageView.ScaleType.CENTER_INSIDE);\r\n                        notifyItemChanged(position);\r\n                    }\r\n&#160;\r\n                    @Override\r\n                    public void onFail() {\r\n&#160;\r\n                    }\r\n                }, null);\r\n    }\r\n&#160;\r\n&#160;\r\n    @Override\r\n    public int getItemCount() {\r\n        return linksList.size();\r\n    }\r\n&#160;\r\n    static class ComicViewHolder extends RecyclerView.ViewHolder {\r\n&#160;\r\n        private final ImageView comic_page;\r\n&#160;\r\n        public ComicViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            comic_page = itemView.findViewById(R.id.comic_page);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe class used &quot;ImageLoader&quot; and it&#39;s classes can be found ImageLoader: https://pastebin.com/mi3txZ7d MemoryCache: https://pastebin.com/PcikSwfX FileCache: https://pastebin.com/wKv2Du2g\r\n\r\n\r\n```import android.content.Context;\r\nimport android.graphics.Bitmap;\r\nimport android.graphics.BitmapFactory;\r\nimport android.os.Handler;\r\nimport android.os.Looper;\r\nimport android.util.Base64;\r\nimport android.widget.ImageView;\r\n\r\nimport androidx.annotation.DrawableRes;\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.RawRes;\r\n\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.OutputStream;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.URL;\r\nimport java.util.Arrays;\r\nimport java.util.Collections;\r\nimport java.util.Map;\r\nimport java.util.WeakHashMap;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\n\r\npublic class ImageLoader {\r\n\r\n    private final Map&lt;ImageView, String&gt; imageViews = Collections.synchronizedMap(new WeakHashMap&lt;&gt;());\r\n    MemoryCache memoryCache = new MemoryCache();\r\n    FileCache fileCache;\r\n    ExecutorService executor = Executors.newSingleThreadExecutor();\r\n    Handler handler = new Handler(Looper.getMainLooper());\r\n    private FileUtils fileUtils;\r\n    private Context context;\r\n    private boolean asBitmap = false;\r\n\r\n   /* public static ImageLoader with(Context _context, String path) {\r\n        ImageLoader imageLoader = new ImageLoader();\r\n        imageLoader.fileCache = new FileCache(path);\r\n        imageLoader.executor = Executors.newFixedThreadPool(3);\r\n        imageLoader.fileUtils = new FileUtils();\r\n        imageLoader.context = _context;\r\n        imageLoader.init();\r\n        return imageLoader;\r\n    }\r\n    public static ImageLoader with(Context _context) {\r\n        ImageLoader imageLoader = new ImageLoader();\r\n        imageLoader.fileCache = new FileCache(_context);\r\n        imageLoader.executor = Executors.newFixedThreadPool(3);\r\n        imageLoader.fileUtils = new FileUtils();\r\n        imageLoader.context = _context;\r\n        return imageLoader;\r\n    }*/\r\n\r\n    public static ImageLoader get() {\r\n        return new ImageLoader();\r\n    }\r\n\r\n    public ImageLoader with(Context _context, String path) {\r\n        fileCache = new FileCache(path);\r\n        executor = Executors.newFixedThreadPool(3);\r\n        fileUtils = new FileUtils();\r\n        context = _context;\r\n        /*init();*/\r\n        return this;\r\n    }\r\n\r\n    public void fileCache(Context _context) {\r\n        fileCache = new FileCache(_context);\r\n    }\r\n\r\n    public void fileCache(String path) {\r\n        fileCache = new FileCache(path);\r\n    }\r\n\r\n    public ImageLoader with(Context _context) {\r\n        fileCache = new FileCache(_context);\r\n        executor = Executors.newFixedThreadPool(3);\r\n        fileUtils = new FileUtils();\r\n        context = _context;\r\n        /*init();*/\r\n        return this;\r\n    }\r\n\r\n    public void init() {\r\n        memoryCache.loadCache(fileCache.getCacheDir().getAbsolutePath());\r\n    }\r\n\r\n    public ImageLoader asBitmap() {\r\n        asBitmap = true;\r\n        return this;\r\n    }\r\n\r\n    public void load(String url, ImageView imageView, LoadImage loadImage, ConnectionErrors connectionErrors) {\r\n        imageView.setImageBitmap(null);\r\n        imageView.setImageDrawable(null);\r\n        Bitmap bitmap = memoryCache.get(url);\r\n        if (bitmap != null) {\r\n            imageView.setImageBitmap(bitmap);\r\n            imageView.invalidate();\r\n        } else {\r\n            imageViews.put(imageView, url);\r\n            queuePhoto(url, imageView, loadImage, connectionErrors);\r\n        }\r\n    }\r\n\r\n    public void load(byte[] bytes, ImageView imageView, LoadImage loadImage, ConnectionErrors connectionErrors) {\r\n        imageView.setImageBitmap(null);\r\n        imageView.setImageDrawable(null);\r\n        Base64Utils.Base64Encoder encoder = new Base64Utils.Base64Encoder();\r\n        String url = encoder.encrypt(Arrays.toString(bytes), Base64.NO_WRAP, null);\r\n        Bitmap bitmap = memoryCache.get(url);\r\n        if (bitmap != null) {\r\n            imageView.setImageBitmap(bitmap);\r\n            imageView.invalidate();\r\n        } else {\r\n            imageViews.put(imageView, url);\r\n            queuePhoto(bytes, imageView, loadImage, connectionErrors);\r\n        }\r\n    }\r\n\r\n\r\n    public void load(Bitmap bitmap, ImageView imageView) {\r\n        imageView.setImageBitmap(null);\r\n        imageView.setImageDrawable(null);\r\n        if (bitmap != null) {\r\n            imageView.setImageBitmap(bitmap);\r\n            imageView.invalidate();\r\n        }\r\n    }\r\n\r\n    public void load(@RawRes @DrawableRes @NonNull Integer resourceId, ImageView imageView) {\r\n        imageView.setImageBitmap(null);\r\n        imageView.setImageDrawable(null);\r\n        Bitmap bitmap = BitmapFactory.decodeResource(context.getResources(), resourceId);\r\n        if (bitmap != null) {\r\n            imageView.setImageBitmap(bitmap);\r\n            imageView.invalidate();\r\n        }\r\n    }\r\n\r\n    public void queuePhoto(String url, ImageView imageView, LoadImage loadImage, ConnectionErrors connectionErrors) {\r\n        PhotoToLoad photoToLoad = new PhotoToLoad(url, imageView);\r\n        executor.submit(new PhotoLoader(photoToLoad, loadImage, connectionErrors));\r\n    }\r\n\r\n    public void queuePhoto(byte[] bytes, ImageView imageView, LoadImage loadImage, ConnectionErrors connectionErrors) {\r\n        PhotoToLoad photoToLoad = new PhotoToLoad(bytes, imageView);\r\n        executor.submit(new PhotoLoader(photoToLoad, loadImage, connectionErrors));\r\n    }\r\n\r\n    private Bitmap getBitmap(String url, ConnectionErrors connectionErrors) {\r\n        File file = fileCache.getFile(url);\r\n        Bitmap _image = fileUtils.decodeFile(file);\r\n        if (_image != null)\r\n            return _image;\r\n        try {\r\n            Bitmap _webImage;\r\n            URL imageURL = new URL(url);\r\n            HttpURLConnection connection = (HttpURLConnection) imageURL.openConnection();\r\n            connection.setConnectTimeout(0);\r\n            connection.setReadTimeout(0);\r\n            connection.setInstanceFollowRedirects(true);\r\n            InputStream is = connection.getInputStream();\r\n            OutputStream os = new FileOutputStream(file);\r\n            fileUtils.copyStream(is, os);\r\n            os.close();\r\n            is.close();\r\n            connection.disconnect();\r\n            _webImage = fileUtils.decodeFile(file);\r\n            return _webImage;\r\n        } catch (OutOfMemoryError outOfMemoryError) {\r\n            if (connectionErrors != null)\r\n                connectionErrors.OutOfMemory(memoryCache);\r\n            else\r\n                memoryCache.clear();\r\n            return null;\r\n        } catch (FileNotFoundException fileNotFoundException) {\r\n            if (connectionErrors != null)\r\n                connectionErrors.FileNotFound(url);\r\n            return null;\r\n        } catch (IOException ioException) {\r\n            if (connectionErrors != null)\r\n                connectionErrors.NormalError();\r\n            return null;\r\n        }\r\n    }\r\n\r\n    public Bitmap getBitmap(byte[] bytes) {\r\n        Base64Utils.Base64Encoder encoder = new Base64Utils.Base64Encoder();\r\n        File file = fileCache.getFile(encoder.encrypt(Arrays.toString(bytes), Base64.NO_WRAP, null));\r\n        Bitmap _image = fileUtils.decodeFile(file);\r\n        if (_image != null)\r\n            return _image;\r\n        return BitmapFactory.decodeByteArray(bytes, 0, bytes.length);\r\n    }\r\n\r\n    boolean imageViewReused(PhotoToLoad _photoToLoad) {\r\n        String tag = imageViews.get(_photoToLoad.imageView);\r\n        return tag == null || !tag.equals(_photoToLoad.url);\r\n    }\r\n\r\n    public void clearCache() {\r\n        memoryCache.clear();\r\n        fileCache.clear();\r\n    }\r\n\r\n    static class PhotoToLoad {\r\n        public String url;\r\n        public ImageView imageView;\r\n        public byte[] bytes;\r\n\r\n        public PhotoToLoad(String _url, ImageView _imageView) {\r\n            url = _url;\r\n            imageView = _imageView;\r\n        }\r\n\r\n        public PhotoToLoad(byte[] _bytes, ImageView _imageView) {\r\n            bytes = _bytes;\r\n            imageView = _imageView;\r\n        }\r\n    }\r\n\r\n    class PhotoLoader implements Runnable {\r\n\r\n        PhotoToLoad photoToLoad;\r\n        LoadImage loadImage;\r\n        ConnectionErrors connectionErrors;\r\n\r\n        PhotoLoader(PhotoToLoad _photoToLoad, LoadImage _loadImage, ConnectionErrors _connectionErrors) {\r\n            photoToLoad = _photoToLoad;\r\n            loadImage = _loadImage;\r\n            connectionErrors = _connectionErrors;\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            if (imageViewReused(photoToLoad))\r\n                return;\r\n            Bitmap bitmap;\r\n            if (asBitmap) {\r\n                bitmap = getBitmap(photoToLoad.bytes);\r\n                Base64Utils.Base64Encoder encoder = new Base64Utils.Base64Encoder();\r\n                String bytes = encoder.encrypt(Arrays.toString(photoToLoad.bytes), Base64.NO_WRAP, null);\r\n                memoryCache.put(bytes, bitmap);\r\n            } else {\r\n                bitmap = getBitmap(photoToLoad.url, connectionErrors);\r\n                memoryCache.put(photoToLoad.url, bitmap);\r\n            }\r\n            if (imageViewReused(photoToLoad))\r\n                return;\r\n            Displacer displacer = new Displacer(bitmap, photoToLoad, loadImage);\r\n            executor.execute(displacer);\r\n            photoToLoad.imageView.invalidate();\r\n        }\r\n    }\r\n\r\n    public class Displacer implements Runnable {\r\n\r\n        Bitmap bitmap;\r\n        PhotoToLoad photoToLoad;\r\n        LoadImage loadImage;\r\n\r\n        public Displacer(Bitmap bitmap, PhotoToLoad photoToLoad, LoadImage _loadImage) {\r\n            this.bitmap = bitmap;\r\n            this.photoToLoad = photoToLoad;\r\n            this.loadImage = _loadImage;\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            handler.post(() -&gt; {\r\n                if (imageViewReused(photoToLoad))\r\n                    return;\r\n                if (bitmap != null) {\r\n                    if (loadImage != null)\r\n                        loadImage.onSuccess(bitmap);\r\n                    photoToLoad.imageView.setImageBitmap(bitmap);\r\n                    photoToLoad.imageView.invalidate();\r\n                } else {\r\n                    if (loadImage != null)\r\n                        loadImage.onFail();\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\n```import android.graphics.Bitmap;\r\nimport android.graphics.BitmapFactory;\r\nimport android.util.Base64;\r\n\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.nio.file.Files;\r\nimport java.util.Arrays;\r\nimport java.util.Collections;\r\nimport java.util.Iterator;\r\nimport java.util.LinkedHashMap;\r\nimport java.util.Map;\r\n\r\npublic class MemoryCache {\r\n\r\n    private final Map&lt;String, Bitmap&gt; cache = Collections.synchronizedMap(new LinkedHashMap&lt;&gt;(10, 1.5f, true));\r\n    private long size = 0;\r\n    private long imageSize;\r\n    private long limit = Long.MAX_VALUE;\r\n\r\n    public MemoryCache() {\r\n        setLimit(Runtime.getRuntime().maxMemory() / 4);\r\n    }\r\n\r\n    public void loadCache(String path) {\r\n        File[] files = new File(path).listFiles();\r\n        if (files != null &amp;&amp; files.length &gt; 0) {\r\n            for (File file : files) {\r\n\r\n                if (!cache.containsKey(file.getAbsolutePath()))\r\n                    try {\r\n                        cache.put(file.getAbsolutePath(), getBitmap(Files.readAllBytes(file.toPath())));\r\n                        System.out.println(&quot;cache doesn&#39;t contain &quot; + file.getPath() + &quot; adding it&quot;);\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n            }\r\n        }\r\n    }\r\n\r\n    public Bitmap getBitmap(byte[] bytes) {\r\n        Base64Utils.Base64Encoder encoder = new Base64Utils.Base64Encoder();\r\n        FileUtils fileUtils = new FileUtils();\r\n        File file = new File(encoder.encrypt(Arrays.toString(bytes), Base64.NO_WRAP, null));\r\n        Bitmap _image = fileUtils.decodeFile(file);\r\n        if (_image != null)\r\n            return _image;\r\n        return BitmapFactory.decodeByteArray(bytes, 0, bytes.length);\r\n    }\r\n\r\n    public void setLimit(long _limit) {\r\n        limit = _limit;\r\n    }\r\n\r\n\r\n    public Bitmap get(String id) {\r\n        try {\r\n            if (!cache.containsKey(id))\r\n                return null;\r\n            return cache.get(id);\r\n        } catch (NullPointerException ex) {\r\n            ex.printStackTrace();\r\n            return null;\r\n        }\r\n    }\r\n\r\n    public void remove(String id) {\r\n        try {\r\n            if (cache.containsKey(id)) {\r\n                size -= sizeInBytes(cache.get(id));\r\n                cache.remove(id);\r\n                checkSize();\r\n            }\r\n        } catch (Throwable ex) {\r\n            ex.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public boolean isCacheValid(String id, int size) {\r\n        System.out.println(sizeInBytes(cache.get(id)) + &quot; / &quot; + size);\r\n        return sizeInBytes(cache.get(id)) == size;\r\n    }\r\n\r\n    public void put(String id, Bitmap bitmap) {\r\n        try {\r\n            if (cache.containsKey(id))\r\n                size -= sizeInBytes(cache.get(id));\r\n            cache.put(id, bitmap);\r\n            size += sizeInBytes(bitmap);\r\n            checkSize();\r\n        } catch (Throwable ex) {\r\n            ex.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private void checkSize() {\r\n        if (size &gt; limit) {\r\n            Iterator&lt;Map.Entry&lt;String, Bitmap&gt;&gt; iterator = cache.entrySet().iterator();\r\n            while (iterator.hasNext()) {\r\n                Map.Entry&lt;String, Bitmap&gt; entry = iterator.next();\r\n                size -= sizeInBytes(entry.getValue());\r\n                iterator.remove();\r\n                if (size &lt;= limit)\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n\r\n    public void clear() {\r\n        try {\r\n            cache.clear();\r\n            size = 0;\r\n        } catch (NullPointerException ex) {\r\n            ex.printStackTrace();\r\n        }\r\n    }\r\n\r\n    long sizeInBytes(Bitmap bitmap) {\r\n        if (bitmap == null)\r\n            return 0;\r\n        ByteArrayOutputStream stream = new ByteArrayOutputStream();\r\n        bitmap.compress(Bitmap.CompressFormat.PNG, 100, stream);\r\n        byte[] imageInByte = stream.toByteArray();\r\n        return imageInByte.length;\r\n    }\r\n}\r\n```\r\n\r\n```import android.content.Context;\r\n\r\nimport java.io.File;\r\nimport java.io.UnsupportedEncodingException;\r\nimport java.net.URLEncoder;\r\n\r\npublic class FileCache {\r\n\r\n    private final File cacheDir;\r\n\r\n    public FileCache(Context context) {\r\n        cacheDir = context.getCacheDir();\r\n        if (!cacheDir.exists())\r\n            cacheDir.mkdirs();\r\n    }\r\n\r\n    public FileCache(String path) {\r\n        cacheDir = new File(path);\r\n        if (!cacheDir.exists())\r\n            cacheDir.mkdirs();\r\n    }\r\n\r\n    public File getFile(String url) {\r\n        String file_name = null;\r\n        try {\r\n            file_name = URLEncoder.encode(url, &quot;UTF-8&quot;);\r\n        } catch (UnsupportedEncodingException e) {\r\n            e.printStackTrace();\r\n        }\r\n        if (file_name != null) {\r\n            return new File(cacheDir, file_name);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public File getCacheDir() {\r\n        return cacheDir;\r\n    }\r\n\r\n    public long lenght() {\r\n        long size = 0;\r\n        size += cacheDir.length();\r\n        for (File file : cacheDir.listFiles()) {\r\n            if (file != null &amp;&amp; file.isFile())\r\n                size += file.length();\r\n        }\r\n        return size;\r\n    }\r\n\r\n    public int size() {\r\n        File[] files = cacheDir.listFiles();\r\n        if (files != null)\r\n            return files.length;\r\n        return 0;\r\n    }\r\n\r\n    public void clear() {\r\n        File[] files = cacheDir.listFiles();\r\n        if (files == null)\r\n            return;\r\n        for (File file : files)\r\n            file.delete();\r\n    }\r\n}\r\n```","title":"How to update Recyclerview image at position after downloading the image from internet?","body":"<p>I'm trying to update my recyclerview after the download of the image is complete <code>onSuccess</code> method, however calling <code>notifyItemChanged(position);</code> doesn't work, I want to update the recyclerview at position once the <code>onSuccess</code> is called. The temporary solution is to call each time <code>notifyDataSetChanged();</code> but it messes with the images and their scale. Can I update the recyclerview when an image is successfully downloaded? How can I solve this? I could update everything when everything is downloaded but android studio suggests to not use notifyDataSetChanged.\nI know the <code>ImageLoader</code> class might (and probably is) inefficient or not greatly coded so please if you want suggest me changes that helps me improve it, I don't need to know how bad it is, I know</p>\n<pre><code>import android.graphics.Bitmap;\nimport android.text.TextUtils;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.List;\n\npublic class ComicViewAdapter extends RecyclerView.Adapter&lt;ComicViewAdapter.ComicViewHolder&gt; {\n\n    Context context;\n    List&lt;String&gt; linksList;\n\n    public ComicViewAdapter(Context context, List&lt;String&gt; linksList) {\n        this.context = context;\n        this.linksList = linksList;\n        if (TextUtils.isEmpty(PrefUtils.PREF))\n            PrefUtils.with(context).setSharedPref(context.getResources().getString(R.string.app_name));\n    }\n\n    @NonNull\n    @Override\n    public ComicViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.comic_view_pager, parent, false);\n        return new ComicViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ComicViewHolder holder, int position) {\n        Manga.imageLoader.with(context, context.getCacheDir() + &quot;/cache&quot;).load(Manga.resolveURL(linksList.get(position), context),\n                holder.comic_page, new LoadImage() {\n                    @Override\n                    public void onSuccess(Bitmap bitmap) {\n                        holder.comic_page.setScaleType(ImageView.ScaleType.CENTER_INSIDE);\n                        notifyItemChanged(position);\n                    }\n\n                    @Override\n                    public void onFail() {\n\n                    }\n                }, null);\n    }\n\n\n    @Override\n    public int getItemCount() {\n        return linksList.size();\n    }\n\n    static class ComicViewHolder extends RecyclerView.ViewHolder {\n\n        private final ImageView comic_page;\n\n        public ComicViewHolder(@NonNull View itemView) {\n            super(itemView);\n            comic_page = itemView.findViewById(R.id.comic_page);\n        }\n    }\n}\n</code></pre>\n<p>The class used &quot;ImageLoader&quot; and it's classes can be found ImageLoader: <a href=\"https://pastebin.com/mi3txZ7d\" rel=\"nofollow noreferrer\">https://pastebin.com/mi3txZ7d</a> MemoryCache: <a href=\"https://pastebin.com/PcikSwfX\" rel=\"nofollow noreferrer\">https://pastebin.com/PcikSwfX</a> FileCache: <a href=\"https://pastebin.com/wKv2Du2g\" rel=\"nofollow noreferrer\">https://pastebin.com/wKv2Du2g</a></p>\n<pre><code>import android.graphics.Bitmap;\nimport android.graphics.BitmapFactory;\nimport android.os.Handler;\nimport android.os.Looper;\nimport android.util.Base64;\nimport android.widget.ImageView;\n\nimport androidx.annotation.DrawableRes;\nimport androidx.annotation.NonNull;\nimport androidx.annotation.RawRes;\n\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.Map;\nimport java.util.WeakHashMap;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\npublic class ImageLoader {\n\n    private final Map&lt;ImageView, String&gt; imageViews = Collections.synchronizedMap(new WeakHashMap&lt;&gt;());\n    MemoryCache memoryCache = new MemoryCache();\n    FileCache fileCache;\n    ExecutorService executor = Executors.newSingleThreadExecutor();\n    Handler handler = new Handler(Looper.getMainLooper());\n    private FileUtils fileUtils;\n    private Context context;\n    private boolean asBitmap = false;\n\n   /* public static ImageLoader with(Context _context, String path) {\n        ImageLoader imageLoader = new ImageLoader();\n        imageLoader.fileCache = new FileCache(path);\n        imageLoader.executor = Executors.newFixedThreadPool(3);\n        imageLoader.fileUtils = new FileUtils();\n        imageLoader.context = _context;\n        imageLoader.init();\n        return imageLoader;\n    }\n    public static ImageLoader with(Context _context) {\n        ImageLoader imageLoader = new ImageLoader();\n        imageLoader.fileCache = new FileCache(_context);\n        imageLoader.executor = Executors.newFixedThreadPool(3);\n        imageLoader.fileUtils = new FileUtils();\n        imageLoader.context = _context;\n        return imageLoader;\n    }*/\n\n    public static ImageLoader get() {\n        return new ImageLoader();\n    }\n\n    public ImageLoader with(Context _context, String path) {\n        fileCache = new FileCache(path);\n        executor = Executors.newFixedThreadPool(3);\n        fileUtils = new FileUtils();\n        context = _context;\n        /*init();*/\n        return this;\n    }\n\n    public void fileCache(Context _context) {\n        fileCache = new FileCache(_context);\n    }\n\n    public void fileCache(String path) {\n        fileCache = new FileCache(path);\n    }\n\n    public ImageLoader with(Context _context) {\n        fileCache = new FileCache(_context);\n        executor = Executors.newFixedThreadPool(3);\n        fileUtils = new FileUtils();\n        context = _context;\n        /*init();*/\n        return this;\n    }\n\n    public void init() {\n        memoryCache.loadCache(fileCache.getCacheDir().getAbsolutePath());\n    }\n\n    public ImageLoader asBitmap() {\n        asBitmap = true;\n        return this;\n    }\n\n    public void load(String url, ImageView imageView, LoadImage loadImage, ConnectionErrors connectionErrors) {\n        imageView.setImageBitmap(null);\n        imageView.setImageDrawable(null);\n        Bitmap bitmap = memoryCache.get(url);\n        if (bitmap != null) {\n            imageView.setImageBitmap(bitmap);\n            imageView.invalidate();\n        } else {\n            imageViews.put(imageView, url);\n            queuePhoto(url, imageView, loadImage, connectionErrors);\n        }\n    }\n\n    public void load(byte[] bytes, ImageView imageView, LoadImage loadImage, ConnectionErrors connectionErrors) {\n        imageView.setImageBitmap(null);\n        imageView.setImageDrawable(null);\n        Base64Utils.Base64Encoder encoder = new Base64Utils.Base64Encoder();\n        String url = encoder.encrypt(Arrays.toString(bytes), Base64.NO_WRAP, null);\n        Bitmap bitmap = memoryCache.get(url);\n        if (bitmap != null) {\n            imageView.setImageBitmap(bitmap);\n            imageView.invalidate();\n        } else {\n            imageViews.put(imageView, url);\n            queuePhoto(bytes, imageView, loadImage, connectionErrors);\n        }\n    }\n\n\n    public void load(Bitmap bitmap, ImageView imageView) {\n        imageView.setImageBitmap(null);\n        imageView.setImageDrawable(null);\n        if (bitmap != null) {\n            imageView.setImageBitmap(bitmap);\n            imageView.invalidate();\n        }\n    }\n\n    public void load(@RawRes @DrawableRes @NonNull Integer resourceId, ImageView imageView) {\n        imageView.setImageBitmap(null);\n        imageView.setImageDrawable(null);\n        Bitmap bitmap = BitmapFactory.decodeResource(context.getResources(), resourceId);\n        if (bitmap != null) {\n            imageView.setImageBitmap(bitmap);\n            imageView.invalidate();\n        }\n    }\n\n    public void queuePhoto(String url, ImageView imageView, LoadImage loadImage, ConnectionErrors connectionErrors) {\n        PhotoToLoad photoToLoad = new PhotoToLoad(url, imageView);\n        executor.submit(new PhotoLoader(photoToLoad, loadImage, connectionErrors));\n    }\n\n    public void queuePhoto(byte[] bytes, ImageView imageView, LoadImage loadImage, ConnectionErrors connectionErrors) {\n        PhotoToLoad photoToLoad = new PhotoToLoad(bytes, imageView);\n        executor.submit(new PhotoLoader(photoToLoad, loadImage, connectionErrors));\n    }\n\n    private Bitmap getBitmap(String url, ConnectionErrors connectionErrors) {\n        File file = fileCache.getFile(url);\n        Bitmap _image = fileUtils.decodeFile(file);\n        if (_image != null)\n            return _image;\n        try {\n            Bitmap _webImage;\n            URL imageURL = new URL(url);\n            HttpURLConnection connection = (HttpURLConnection) imageURL.openConnection();\n            connection.setConnectTimeout(0);\n            connection.setReadTimeout(0);\n            connection.setInstanceFollowRedirects(true);\n            InputStream is = connection.getInputStream();\n            OutputStream os = new FileOutputStream(file);\n            fileUtils.copyStream(is, os);\n            os.close();\n            is.close();\n            connection.disconnect();\n            _webImage = fileUtils.decodeFile(file);\n            return _webImage;\n        } catch (OutOfMemoryError outOfMemoryError) {\n            if (connectionErrors != null)\n                connectionErrors.OutOfMemory(memoryCache);\n            else\n                memoryCache.clear();\n            return null;\n        } catch (FileNotFoundException fileNotFoundException) {\n            if (connectionErrors != null)\n                connectionErrors.FileNotFound(url);\n            return null;\n        } catch (IOException ioException) {\n            if (connectionErrors != null)\n                connectionErrors.NormalError();\n            return null;\n        }\n    }\n\n    public Bitmap getBitmap(byte[] bytes) {\n        Base64Utils.Base64Encoder encoder = new Base64Utils.Base64Encoder();\n        File file = fileCache.getFile(encoder.encrypt(Arrays.toString(bytes), Base64.NO_WRAP, null));\n        Bitmap _image = fileUtils.decodeFile(file);\n        if (_image != null)\n            return _image;\n        return BitmapFactory.decodeByteArray(bytes, 0, bytes.length);\n    }\n\n    boolean imageViewReused(PhotoToLoad _photoToLoad) {\n        String tag = imageViews.get(_photoToLoad.imageView);\n        return tag == null || !tag.equals(_photoToLoad.url);\n    }\n\n    public void clearCache() {\n        memoryCache.clear();\n        fileCache.clear();\n    }\n\n    static class PhotoToLoad {\n        public String url;\n        public ImageView imageView;\n        public byte[] bytes;\n\n        public PhotoToLoad(String _url, ImageView _imageView) {\n            url = _url;\n            imageView = _imageView;\n        }\n\n        public PhotoToLoad(byte[] _bytes, ImageView _imageView) {\n            bytes = _bytes;\n            imageView = _imageView;\n        }\n    }\n\n    class PhotoLoader implements Runnable {\n\n        PhotoToLoad photoToLoad;\n        LoadImage loadImage;\n        ConnectionErrors connectionErrors;\n\n        PhotoLoader(PhotoToLoad _photoToLoad, LoadImage _loadImage, ConnectionErrors _connectionErrors) {\n            photoToLoad = _photoToLoad;\n            loadImage = _loadImage;\n            connectionErrors = _connectionErrors;\n        }\n\n        @Override\n        public void run() {\n            if (imageViewReused(photoToLoad))\n                return;\n            Bitmap bitmap;\n            if (asBitmap) {\n                bitmap = getBitmap(photoToLoad.bytes);\n                Base64Utils.Base64Encoder encoder = new Base64Utils.Base64Encoder();\n                String bytes = encoder.encrypt(Arrays.toString(photoToLoad.bytes), Base64.NO_WRAP, null);\n                memoryCache.put(bytes, bitmap);\n            } else {\n                bitmap = getBitmap(photoToLoad.url, connectionErrors);\n                memoryCache.put(photoToLoad.url, bitmap);\n            }\n            if (imageViewReused(photoToLoad))\n                return;\n            Displacer displacer = new Displacer(bitmap, photoToLoad, loadImage);\n            executor.execute(displacer);\n            photoToLoad.imageView.invalidate();\n        }\n    }\n\n    public class Displacer implements Runnable {\n\n        Bitmap bitmap;\n        PhotoToLoad photoToLoad;\n        LoadImage loadImage;\n\n        public Displacer(Bitmap bitmap, PhotoToLoad photoToLoad, LoadImage _loadImage) {\n            this.bitmap = bitmap;\n            this.photoToLoad = photoToLoad;\n            this.loadImage = _loadImage;\n        }\n\n        @Override\n        public void run() {\n            handler.post(() -&gt; {\n                if (imageViewReused(photoToLoad))\n                    return;\n                if (bitmap != null) {\n                    if (loadImage != null)\n                        loadImage.onSuccess(bitmap);\n                    photoToLoad.imageView.setImageBitmap(bitmap);\n                    photoToLoad.imageView.invalidate();\n                } else {\n                    if (loadImage != null)\n                        loadImage.onFail();\n                }\n            });\n        }\n    }\n\n}\n</code></pre>\n<pre><code>import android.graphics.BitmapFactory;\nimport android.util.Base64;\n\nimport java.io.ByteArrayOutputStream;\nimport java.io.File;\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.Iterator;\nimport java.util.LinkedHashMap;\nimport java.util.Map;\n\npublic class MemoryCache {\n\n    private final Map&lt;String, Bitmap&gt; cache = Collections.synchronizedMap(new LinkedHashMap&lt;&gt;(10, 1.5f, true));\n    private long size = 0;\n    private long imageSize;\n    private long limit = Long.MAX_VALUE;\n\n    public MemoryCache() {\n        setLimit(Runtime.getRuntime().maxMemory() / 4);\n    }\n\n    public void loadCache(String path) {\n        File[] files = new File(path).listFiles();\n        if (files != null &amp;&amp; files.length &gt; 0) {\n            for (File file : files) {\n\n                if (!cache.containsKey(file.getAbsolutePath()))\n                    try {\n                        cache.put(file.getAbsolutePath(), getBitmap(Files.readAllBytes(file.toPath())));\n                        System.out.println(&quot;cache doesn't contain &quot; + file.getPath() + &quot; adding it&quot;);\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n            }\n        }\n    }\n\n    public Bitmap getBitmap(byte[] bytes) {\n        Base64Utils.Base64Encoder encoder = new Base64Utils.Base64Encoder();\n        FileUtils fileUtils = new FileUtils();\n        File file = new File(encoder.encrypt(Arrays.toString(bytes), Base64.NO_WRAP, null));\n        Bitmap _image = fileUtils.decodeFile(file);\n        if (_image != null)\n            return _image;\n        return BitmapFactory.decodeByteArray(bytes, 0, bytes.length);\n    }\n\n    public void setLimit(long _limit) {\n        limit = _limit;\n    }\n\n\n    public Bitmap get(String id) {\n        try {\n            if (!cache.containsKey(id))\n                return null;\n            return cache.get(id);\n        } catch (NullPointerException ex) {\n            ex.printStackTrace();\n            return null;\n        }\n    }\n\n    public void remove(String id) {\n        try {\n            if (cache.containsKey(id)) {\n                size -= sizeInBytes(cache.get(id));\n                cache.remove(id);\n                checkSize();\n            }\n        } catch (Throwable ex) {\n            ex.printStackTrace();\n        }\n    }\n\n    public boolean isCacheValid(String id, int size) {\n        System.out.println(sizeInBytes(cache.get(id)) + &quot; / &quot; + size);\n        return sizeInBytes(cache.get(id)) == size;\n    }\n\n    public void put(String id, Bitmap bitmap) {\n        try {\n            if (cache.containsKey(id))\n                size -= sizeInBytes(cache.get(id));\n            cache.put(id, bitmap);\n            size += sizeInBytes(bitmap);\n            checkSize();\n        } catch (Throwable ex) {\n            ex.printStackTrace();\n        }\n    }\n\n    private void checkSize() {\n        if (size &gt; limit) {\n            Iterator&lt;Map.Entry&lt;String, Bitmap&gt;&gt; iterator = cache.entrySet().iterator();\n            while (iterator.hasNext()) {\n                Map.Entry&lt;String, Bitmap&gt; entry = iterator.next();\n                size -= sizeInBytes(entry.getValue());\n                iterator.remove();\n                if (size &lt;= limit)\n                    break;\n            }\n        }\n    }\n\n    public void clear() {\n        try {\n            cache.clear();\n            size = 0;\n        } catch (NullPointerException ex) {\n            ex.printStackTrace();\n        }\n    }\n\n    long sizeInBytes(Bitmap bitmap) {\n        if (bitmap == null)\n            return 0;\n        ByteArrayOutputStream stream = new ByteArrayOutputStream();\n        bitmap.compress(Bitmap.CompressFormat.PNG, 100, stream);\n        byte[] imageInByte = stream.toByteArray();\n        return imageInByte.length;\n    }\n}\n</code></pre>\n<pre><code>\nimport java.io.File;\nimport java.io.UnsupportedEncodingException;\nimport java.net.URLEncoder;\n\npublic class FileCache {\n\n    private final File cacheDir;\n\n    public FileCache(Context context) {\n        cacheDir = context.getCacheDir();\n        if (!cacheDir.exists())\n            cacheDir.mkdirs();\n    }\n\n    public FileCache(String path) {\n        cacheDir = new File(path);\n        if (!cacheDir.exists())\n            cacheDir.mkdirs();\n    }\n\n    public File getFile(String url) {\n        String file_name = null;\n        try {\n            file_name = URLEncoder.encode(url, &quot;UTF-8&quot;);\n        } catch (UnsupportedEncodingException e) {\n            e.printStackTrace();\n        }\n        if (file_name != null) {\n            return new File(cacheDir, file_name);\n        }\n        return null;\n    }\n\n    public File getCacheDir() {\n        return cacheDir;\n    }\n\n    public long lenght() {\n        long size = 0;\n        size += cacheDir.length();\n        for (File file : cacheDir.listFiles()) {\n            if (file != null &amp;&amp; file.isFile())\n                size += file.length();\n        }\n        return size;\n    }\n\n    public int size() {\n        File[] files = cacheDir.listFiles();\n        if (files != null)\n            return files.length;\n        return 0;\n    }\n\n    public void clear() {\n        File[] files = cacheDir.listFiles();\n        if (files == null)\n            return;\n        for (File file : files)\n            file.delete();\n    }\n}\n</code></pre>\n"},{"tags":["java","android","json","string","parsing"],"answers":[{"comments":[{"owner":{"account_id":4526516,"reputation":208,"user_id":4013399,"accept_rate":39,"display_name":"Zac1"},"score":0,"creation_date":1672598952,"post_id":74973484,"comment_id":132311346,"body_markdown":"Thanks for your comment. However, the data that I am after is still showing on the Page Source (the 394,328,000 example I provided in the question). It&#39;s not hidden at all. Just like a human reading that data, I want to get that data read by a program. It&#39;s allowed by Yahoo Finance&#39;s policies. Question&#39;s about how to do that programmatically, and it&#39;s not a philosophical discussion.","body":"Thanks for your comment. However, the data that I am after is still showing on the Page Source (the 394,328,000 example I provided in the question). It&#39;s not hidden at all. Just like a human reading that data, I want to get that data read by a program. It&#39;s allowed by Yahoo Finance&#39;s policies. Question&#39;s about how to do that programmatically, and it&#39;s not a philosophical discussion."},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1673448575,"post_id":74973484,"comment_id":132501863,"body_markdown":"You&#39;re using &#39;right click, inspect element&#39;. This shows the DOM, not the downloaded source. The DOM is the result of loading the HTML __and running the javascript__. JSoup loads the HTML.. but doesn&#39;t run the javascript.","body":"You&#39;re using &#39;right click, inspect element&#39;. This shows the DOM, not the downloaded source. The DOM is the result of loading the HTML <b>and running the javascript</b>. JSoup loads the HTML.. but doesn&#39;t run the javascript."}],"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1672557368,"creation_date":1672557368,"answer_id":74973484,"question_id":74973453,"body_markdown":"A browser downloads the HTML and runs it as if it is a software program. This particular page uses javascript to build up the entire page. jsoup doesn&#39;t run javascript. Hence, nothing gets built up, hence, the page is seemingly empty. More and more of the web is done like this (javascript renders everything, the HTML sent by the server doesn&#39;t contain any DOM nodes at all, or if it does, they are all hidden, &#39;templates&#39; for the benefit of the javascript to builds up the page).\r\n\r\nIf you must do this programatically, you&#39;d fire up an actual browser and control it like a puppet. Tools like selenium can do this (but it was designed for testing).\r\n\r\nNote that Yahoo has explicitly done all this __to stop you from doing it__. They will continue to try to stop you; every day your code may (and probably will) break as they try to stop you from doing this by changing stuff. Also, they will likely use whatever legal means available to them to sue you if you try. The laws in your country may indicate that they won&#39;t succeed, but they&#39;ll try.\r\n\r\nIn general, then, maybe stop using something that is being provided by someone who is bending over backwards to stop you from doing just that. There are APIs that are designed specifically for you to read them out programatically. Various sites and services offer APIs for reading stock price data.\r\n","title":"How to extract data from HTML page source within a webpage?","body":"<p>A browser downloads the HTML and runs it as if it is a software program. This particular page uses javascript to build up the entire page. jsoup doesn't run javascript. Hence, nothing gets built up, hence, the page is seemingly empty. More and more of the web is done like this (javascript renders everything, the HTML sent by the server doesn't contain any DOM nodes at all, or if it does, they are all hidden, 'templates' for the benefit of the javascript to builds up the page).</p>\n<p>If you must do this programatically, you'd fire up an actual browser and control it like a puppet. Tools like selenium can do this (but it was designed for testing).</p>\n<p>Note that Yahoo has explicitly done all this <strong>to stop you from doing it</strong>. They will continue to try to stop you; every day your code may (and probably will) break as they try to stop you from doing this by changing stuff. Also, they will likely use whatever legal means available to them to sue you if you try. The laws in your country may indicate that they won't succeed, but they'll try.</p>\n<p>In general, then, maybe stop using something that is being provided by someone who is bending over backwards to stop you from doing just that. There are APIs that are designed specifically for you to read them out programatically. Various sites and services offer APIs for reading stock price data.</p>\n"},{"tags":[],"owner":{"account_id":15872218,"reputation":109,"user_id":11506626,"display_name":"DHC19"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1673112368,"creation_date":1673112368,"answer_id":75042361,"question_id":74973453,"body_markdown":"You should probably *not scrape the data from the Webpage*, just *use the Yahoo API*. There are arguments for and against web scraping, take a look [here][1] from my personal experience, Yahoo Finance isn&#39;t a place to scrape. \r\n\r\nYou don&#39;t have to do all the work, there are existing tutorials on getting data over the **yahoo API** on this. Take a look [here][2] for example or this **Java Library** sounds like just what you need, and there are a lot of code examples just like you wanted to have [here][3] \r\n\r\nWebscraping these kinds of information is kinda solving a problem that you don&#39;t have. The API gives you all the things you want to know in a nice format, prepackaged no Regex or other clean-up action on HTML needed.\r\n\r\n\r\n  [1]: https://scrape-it.cloud/blog/web-scraping-vs-api\r\n  [2]: https://algotrading101.com/learn/yahoo-finance-api-guide/\r\n  [3]: https://financequotes-api.com/","title":"How to extract data from HTML page source within a webpage?","body":"<p>You should probably <em>not scrape the data from the Webpage</em>, just <em>use the Yahoo API</em>. There are arguments for and against web scraping, take a look <a href=\"https://scrape-it.cloud/blog/web-scraping-vs-api\" rel=\"nofollow noreferrer\">here</a> from my personal experience, Yahoo Finance isn't a place to scrape.</p>\n<p>You don't have to do all the work, there are existing tutorials on getting data over the <strong>yahoo API</strong> on this. Take a look <a href=\"https://algotrading101.com/learn/yahoo-finance-api-guide/\" rel=\"nofollow noreferrer\">here</a> for example or this <strong>Java Library</strong> sounds like just what you need, and there are a lot of code examples just like you wanted to have <a href=\"https://financequotes-api.com/\" rel=\"nofollow noreferrer\">here</a></p>\n<p>Webscraping these kinds of information is kinda solving a problem that you don't have. The API gives you all the things you want to know in a nice format, prepackaged no Regex or other clean-up action on HTML needed.</p>\n"},{"comments":[{"owner":{"account_id":4526516,"reputation":208,"user_id":4013399,"accept_rate":39,"display_name":"Zac1"},"score":0,"creation_date":1673326868,"post_id":75043260,"comment_id":132468008,"body_markdown":"Hi, can you please provide working code along with a sample output? I am not sure how to import Curl.","body":"Hi, can you please provide working code along with a sample output? I am not sure how to import Curl."},{"owner":{"account_id":19959048,"reputation":96,"user_id":14627084,"display_name":"Balazs Papp"},"score":0,"creation_date":1673433792,"post_id":75043260,"comment_id":132496443,"body_markdown":"Hi Zac1, the code above is tested and working :) see https://github.com/gepito/stackowerflow_q1 for details","body":"Hi Zac1, the code above is tested and working :) see <a href=\"https://github.com/gepito/stackowerflow_q1\" rel=\"nofollow noreferrer\">github.com/gepito/stackowerflow_q1</a> for details"}],"tags":[],"owner":{"account_id":19959048,"reputation":96,"user_id":14627084,"display_name":"Balazs Papp"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673122108,"creation_date":1673120363,"answer_id":75043260,"question_id":74973453,"body_markdown":"I guess your main problem is getting the page source!?\r\n\r\nThe solution is using [CURL][1]\r\n\r\nJsoup isn&#39;t smart enough getting the page source while CURL is.\r\n\r\nJsoup may select the necessary elements, so you doesn&#39;t have to bother with separate pattern matcher.\r\n\r\nBe warned, webpages are not stable. This heuristics may fail when the page get restructured! Use structural checks to detect changes!\r\n\r\nHint: use &quot;Left click&quot;, Inspect in your browser. Howering over the page source will highlight corresponding element.\r\n\r\n    \t\tCUrl curl = new CUrl(requestURL);\r\n\t\t\tString htmlDoc = new String(curl.exec());\r\n\t\t\tassert(curl.getHttpCode() == 200);\r\n\t\t\t\r\n\t\t\tDocument doc = new Document(&quot;&quot;);\r\n\t\t\tdoc.append(htmlDoc);\r\n\r\n\t\t\torg.jsoup.select.Elements divTags = doc.getElementsByTag(&quot;div&quot;);\r\n\r\n\t\t\tfor (org.jsoup.nodes.Element div : divTags) {\r\n\r\n\t\t\t\tif (div.className().contains(&quot;D(tbhg)&quot;)) {\r\n\t\t\t\t\t// fetch header row\r\n\t\t\t\t\tSystem.out.printf(&quot;Processing header %s\\n&quot;, div.className());\r\n\r\n\t\t\t\t\t// display D(tbr) section - containing table header\r\n\t\t\t\t\torg.jsoup.select.Elements tRow = div.getElementsByAttributeValueContaining(&quot;class&quot;, &quot;D(tbr)&quot;);\r\n\t\t\t\t\tSystem.out.println(tRow.text());\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (div.className().contains(&quot;D(tbrg)&quot;)) {\r\n\t\t\t\t\t// fetch data rows\r\n\t\t\t\t\tSystem.out.printf(&quot;Processing table data %s\\n&quot;, div.className());\r\n\r\n\t\t\t\t\t// display D(tbr) sections - containing table data\r\n\t\t\t\t\torg.jsoup.select.Elements tRow = div.getElementsByAttributeValueContaining(&quot;class&quot;, &quot;D(tbr)&quot;);\r\n\t\t\t\t\tfor (org.jsoup.nodes.Element divData : tRow) {\r\n\t\t\t\t\t\tSystem.out.println(divData.text());\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\r\n  [1]: https://github.com/rockswang/java-curl","title":"How to extract data from HTML page source within a webpage?","body":"<p>I guess your main problem is getting the page source!?</p>\n<p>The solution is using <a href=\"https://github.com/rockswang/java-curl\" rel=\"nofollow noreferrer\">CURL</a></p>\n<p>Jsoup isn't smart enough getting the page source while CURL is.</p>\n<p>Jsoup may select the necessary elements, so you doesn't have to bother with separate pattern matcher.</p>\n<p>Be warned, webpages are not stable. This heuristics may fail when the page get restructured! Use structural checks to detect changes!</p>\n<p>Hint: use &quot;Left click&quot;, Inspect in your browser. Howering over the page source will highlight corresponding element.</p>\n<pre><code>        CUrl curl = new CUrl(requestURL);\n        String htmlDoc = new String(curl.exec());\n        assert(curl.getHttpCode() == 200);\n        \n        Document doc = new Document(&quot;&quot;);\n        doc.append(htmlDoc);\n\n        org.jsoup.select.Elements divTags = doc.getElementsByTag(&quot;div&quot;);\n\n        for (org.jsoup.nodes.Element div : divTags) {\n\n            if (div.className().contains(&quot;D(tbhg)&quot;)) {\n                // fetch header row\n                System.out.printf(&quot;Processing header %s\\n&quot;, div.className());\n\n                // display D(tbr) section - containing table header\n                org.jsoup.select.Elements tRow = div.getElementsByAttributeValueContaining(&quot;class&quot;, &quot;D(tbr)&quot;);\n                System.out.println(tRow.text());\n            }\n\n            if (div.className().contains(&quot;D(tbrg)&quot;)) {\n                // fetch data rows\n                System.out.printf(&quot;Processing table data %s\\n&quot;, div.className());\n\n                // display D(tbr) sections - containing table data\n                org.jsoup.select.Elements tRow = div.getElementsByAttributeValueContaining(&quot;class&quot;, &quot;D(tbr)&quot;);\n                for (org.jsoup.nodes.Element divData : tRow) {\n                    System.out.println(divData.text());\n                }\n            }\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13641857,"reputation":763,"user_id":9841751,"display_name":"pismy"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673423144,"creation_date":1673423144,"answer_id":75079726,"question_id":74973453,"body_markdown":"As answered by @DHC19 you should always prefer using an API over scrapping web pages whenever possible.\r\n\r\nThis said, one of the best Web Scrapping libraries available in Java IMHO is [HtmlUnit](https://htmlunit.sourceforge.io/).\r\n\r\nVery easy to load pages, interact with the page ([fill forms](https://htmlunit.sourceforge.io/gettingStarted.html#Submitting_a_form), click, ...), supports JavaScript, provides many options to search elements (by ID, [XPath queries](https://htmlunit.sourceforge.io/gettingStarted.html#XPath_queries), [CSS Selectors](https://htmlunit.sourceforge.io/gettingStarted.html#CSS_Selectors), ...)\r\n\r\nGive it a try :)","title":"How to extract data from HTML page source within a webpage?","body":"<p>As answered by @DHC19 you should always prefer using an API over scrapping web pages whenever possible.</p>\n<p>This said, one of the best Web Scrapping libraries available in Java IMHO is <a href=\"https://htmlunit.sourceforge.io/\" rel=\"nofollow noreferrer\">HtmlUnit</a>.</p>\n<p>Very easy to load pages, interact with the page (<a href=\"https://htmlunit.sourceforge.io/gettingStarted.html#Submitting_a_form\" rel=\"nofollow noreferrer\">fill forms</a>, click, ...), supports JavaScript, provides many options to search elements (by ID, <a href=\"https://htmlunit.sourceforge.io/gettingStarted.html#XPath_queries\" rel=\"nofollow noreferrer\">XPath queries</a>, <a href=\"https://htmlunit.sourceforge.io/gettingStarted.html#CSS_Selectors\" rel=\"nofollow noreferrer\">CSS Selectors</a>, ...)</p>\n<p>Give it a try :)</p>\n"},{"tags":[],"owner":{"account_id":6163228,"reputation":2754,"user_id":4804091,"display_name":"RBRi"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673504202,"creation_date":1673504202,"answer_id":75092275,"question_id":74973453,"body_markdown":"You can use HtmlUnit - check https://htmlunit.sourceforge.io/ for all the detais.\r\n\r\nSimple example that gets the text content of the whole page.\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        final String url = &quot;https://finance.yahoo.com/quote/AAPL/financials?p=AAPL&amp;guccounter=2&quot;;\r\n\r\n        try (final WebClient webClient = new WebClient()) {\r\n            webClient.getOptions().setThrowExceptionOnScriptError(false);\r\n\r\n            HtmlPage page = webClient.getPage(url);\r\n            webClient.waitForBackgroundJavaScriptStartingBefore(1_000);\r\n\r\n            System.out.println(&quot;----&quot;);\r\n            System.out.println(page.asNormalizedText());\r\n        }\r\n    }\r\n\r\nYou can use asNormalizedText() also for elements on the page. See https://htmlunit.sourceforge.io/gettingStarted.html for some first info about finding elements inside the page.","title":"How to extract data from HTML page source within a webpage?","body":"<p>You can use HtmlUnit - check <a href=\"https://htmlunit.sourceforge.io/\" rel=\"nofollow noreferrer\">https://htmlunit.sourceforge.io/</a> for all the detais.</p>\n<p>Simple example that gets the text content of the whole page.</p>\n<pre><code>public static void main(String[] args) throws IOException {\n    final String url = &quot;https://finance.yahoo.com/quote/AAPL/financials?p=AAPL&amp;guccounter=2&quot;;\n\n    try (final WebClient webClient = new WebClient()) {\n        webClient.getOptions().setThrowExceptionOnScriptError(false);\n\n        HtmlPage page = webClient.getPage(url);\n        webClient.waitForBackgroundJavaScriptStartingBefore(1_000);\n\n        System.out.println(&quot;----&quot;);\n        System.out.println(page.asNormalizedText());\n    }\n}\n</code></pre>\n<p>You can use asNormalizedText() also for elements on the page. See <a href=\"https://htmlunit.sourceforge.io/gettingStarted.html\" rel=\"nofollow noreferrer\">https://htmlunit.sourceforge.io/gettingStarted.html</a> for some first info about finding elements inside the page.</p>\n"}],"owner":{"account_id":4526516,"reputation":208,"user_id":4013399,"accept_rate":39,"display_name":"Zac1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":900,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":5,"score":1,"last_activity_date":1673504202,"creation_date":1672556528,"question_id":74973453,"body_markdown":"This is a follow up from: How to extract data from HTML page source of (a tab within) a webpage?\r\n\r\nWe&#39;re currently extracting the tabular data available here from the Financials section of a company. The table of data from here, for example: https://finance.yahoo.com/quote/AAPL/financials?p=AAPL&amp;guccounter=2\r\n\r\nHowever, the response I get for my code has been an empty string. When I look at the Root.App.main section that we were previously extracting, it looks like a bunch of encryped strings. I am not sure if I am making a mistake in reading this. What&#39;s the best way to extract this on Java for Android?\r\n\r\nIs there a better way to extract a specific value, for example, I want to extract 394,328,000, which is the Total Revenue on 9/30/2022. I&#39;d preferably like to have the entire table data as a Map.\r\n\r\nHere&#39;s my current code that may throw more light into how it&#39;s currently being done.\r\n\r\n    String requestURL = &quot;https://finance.yahoo.com/quote/AAPL/financials?p=AAPL&amp;guccounter=2&quot;;\r\n    String userAgent = &quot;My UAString&quot;;\r\n    Document doc = Jsoup.connect(requestURL).userAgent(userAgent).get();\r\n    \r\n    Elements scriptTags = doc.getElementsByTag(&quot;script&quot;);\r\n    String re = &quot;root\\\\.App\\\\.main\\\\s*\\\\=\\\\s*(.*?);\\\\s*\\\\}\\\\(this\\\\)\\\\)\\\\s*;&quot;;\r\n    String data = null;\r\n    \r\n    for (Element script : scriptTags) {\r\n        Pattern pattern = Pattern.compile(re, Pattern.DOTALL);\r\n        Matcher matcher = pattern.matcher(script.html());\r\n    \r\n        if (matcher.find()) {\r\n            data = matcher.group(1);\r\n            break;\r\n        }\r\n    }\r\n    \r\n    String requestURL = &quot;https://finance.yahoo.com/quote/AAPL/financials?p=AAPL&quot;;\r\n    String userAgent = &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36 OPR/56.0.3051.43&quot;;\r\n    String row = &quot;totalRevenue&quot;;\r\n    \r\n    try {\r\n        Document doc = Jsoup.connect(requestURL).userAgent(userAgent).get();\r\n        String html = doc.html();\r\n        //Log.d(&quot;html&quot;, html);\r\n    \r\n        Elements scriptTags = doc.getElementsByTag(&quot;script&quot;);\r\n        String re = &quot;root\\\\.App\\\\.main\\\\s*\\\\=\\\\s*(.*?);\\\\s*\\\\}\\\\(this\\\\)\\\\)\\\\s*;&quot;;\r\n    \r\n        for (Element script : scriptTags) {\r\n            Pattern pattern = Pattern.compile(re, Pattern.DOTALL);\r\n            Matcher matcher = pattern.matcher(script.html());\r\n    \r\n            if (matcher.find()) {\r\n                String data = matcher.group(1);\r\n                //Log.d(&quot;data&quot;, data);\r\n    \r\n                JSONObject jo = new JSONObject(data);\r\n                JSONArray table = getTable(jo);\r\n                //Log.d(&quot;table&quot;, table.toString());\r\n    \r\n                String[] tableRow = getRow(table, row);\r\n                String values = TextUtils.join(&quot;, &quot;, tableRow);\r\n                Log.d(&quot;values&quot;, values);\r\n            }\r\n        }\r\n    } catch (Exception e) {\r\n        Log.e(&quot;err&quot;, &quot;err&quot;, e);\r\n    }\r\n    \r\n    private JSONArray getTable(JSONObject json) throws JSONException {\r\n        JSONArray table = (JSONArray) json.getJSONObject(&quot;context&quot;)\r\n                .getJSONObject(&quot;dispatcher&quot;)\r\n                .getJSONObject(&quot;stores&quot;)\r\n                .getJSONObject(&quot;QuoteSummaryStore&quot;)\r\n                .getJSONObject(&quot;incomeStatementHistoryQuarterly&quot;)\r\n                .getJSONArray(&quot;incomeStatementHistory&quot;);\r\n        return table;\r\n    }\r\n    \r\n    private String[] getRow(JSONArray table, String name) throws JSONException {\r\n        String[] values = new String[table.length()];\r\n        for (int i = 0; i &lt; table.length(); i++) {\r\n            JSONObject jo = table.getJSONObject(i);\r\n            if (jo.has(name)) {\r\n                jo = jo.getJSONObject(name);\r\n                values[i] = jo.has(&quot;longFmt&quot;) ? jo.get(&quot;longFmt&quot;).toString() : &quot;-&quot;;\r\n            } else {\r\n                values[i] = &quot;-&quot;;\r\n            }\r\n        }\r\n        return values;\r\n    }\r\n    \r\n    private String[] getDates(JSONArray table) throws JSONException {\r\n        String[] values = new String[table.length()];\r\n        for (int i = 0; i &lt; table.length(); i++) {\r\n            values[i] = table.getJSONObject(i).getJSONObject(&quot;endDate&quot;)\r\n                    .get(&quot;fmt&quot;).toString();\r\n        }\r\n        return values;\r\n    }\r\n    \r\n    \r\n    Map&lt;String, Map&lt;String, String&gt;&gt; getTableNames() {\r\n        final Map&lt;String, String&gt; revenue = new LinkedHashMap&lt;String, String&gt;() {\r\n            { put(&quot;Total Revenue&quot;, &quot;totalRevenue&quot;); }\r\n            { put(&quot;Cost of Revenue&quot;, &quot;costOfRevenue&quot;); }\r\n            { put(&quot;Gross Profit&quot;, &quot;grossProfit&quot;); }\r\n        };\r\n        final Map&lt;String, String&gt; operatingExpenses = new LinkedHashMap&lt;String, String&gt;() {\r\n            { put(&quot;Research Development&quot;, &quot;researchDevelopment&quot;); }\r\n            { put(&quot;Selling General and Administrative&quot;, &quot;sellingGeneralAdministrative&quot;); }\r\n            { put(&quot;Non Recurring&quot;, &quot;nonRecurring&quot;); }\r\n            { put(&quot;Others&quot;, &quot;otherOperatingExpenses&quot;); }\r\n            { put(&quot;Total Operating Expenses&quot;, &quot;totalOperatingExpenses&quot;); }\r\n            { put(&quot;Operating Income or Loss&quot;, &quot;operatingIncome&quot;); }\r\n        };\r\n        Map&lt;String, Map&lt;String, String&gt;&gt; allTableNames = new LinkedHashMap&lt;String, Map&lt;String, String&gt;&gt;() {\r\n            { put(&quot;Revenue&quot;, revenue); }\r\n            { put(&quot;Operating Expenses&quot;, operatingExpenses); }\r\n    \r\n        };\r\n        return allTableNames;\r\n    }\r\n    \r\n    JSONObject jo = new JSONObject(jsData);\r\n    JSONArray table = getTable(jo);\r\n    \r\n    Map&lt;String, Map&lt;String, String&gt;&gt; tableNames = getTableNames();\r\n    String totalRevenueKey = tableNames.get(&quot;Revenue&quot;).get(&quot;Total Revenue&quot;);\r\n    String[] totalRevenueValues = getRow(table, totalRevenueKey);\r\n    String value = totalRevenueValues[0];\r\n    \r\n    List&lt;String&gt; tableData = new ArrayList&lt;&gt;();\r\n    Map&lt;String, Map&lt;String, String&gt;&gt; tableNames = getTableNames();\r\n    String[] dates = getDates(table);\r\n    \r\n    for (Map.Entry&lt;String, Map&lt;String, String&gt;&gt; tableEntry : tableNames.entrySet()) {\r\n        tableData.add(tableEntry.getKey());\r\n        tableData.addAll(Arrays.asList(dates));\r\n    \r\n        for (Map.Entry&lt;String, String&gt; row : tableEntry.getValue().entrySet()) {\r\n            String[] tableRow = getRow(table, row.getValue());\r\n            tableData.add(row.getKey());\r\n            for (String column: tableRow) {\r\n                tableData.add(column);\r\n            }\r\n        }\r\n    }\r\n    String tableDataString = TextUtils.join(&quot;, &quot;, tableData);","title":"How to extract data from HTML page source within a webpage?","body":"<p>This is a follow up from: How to extract data from HTML page source of (a tab within) a webpage?</p>\n<p>We're currently extracting the tabular data available here from the Financials section of a company. The table of data from here, for example: <a href=\"https://finance.yahoo.com/quote/AAPL/financials?p=AAPL&amp;guccounter=2\" rel=\"nofollow noreferrer\">https://finance.yahoo.com/quote/AAPL/financials?p=AAPL&amp;guccounter=2</a></p>\n<p>However, the response I get for my code has been an empty string. When I look at the Root.App.main section that we were previously extracting, it looks like a bunch of encryped strings. I am not sure if I am making a mistake in reading this. What's the best way to extract this on Java for Android?</p>\n<p>Is there a better way to extract a specific value, for example, I want to extract 394,328,000, which is the Total Revenue on 9/30/2022. I'd preferably like to have the entire table data as a Map.</p>\n<p>Here's my current code that may throw more light into how it's currently being done.</p>\n<pre><code>String requestURL = &quot;https://finance.yahoo.com/quote/AAPL/financials?p=AAPL&amp;guccounter=2&quot;;\nString userAgent = &quot;My UAString&quot;;\nDocument doc = Jsoup.connect(requestURL).userAgent(userAgent).get();\n\nElements scriptTags = doc.getElementsByTag(&quot;script&quot;);\nString re = &quot;root\\\\.App\\\\.main\\\\s*\\\\=\\\\s*(.*?);\\\\s*\\\\}\\\\(this\\\\)\\\\)\\\\s*;&quot;;\nString data = null;\n\nfor (Element script : scriptTags) {\n    Pattern pattern = Pattern.compile(re, Pattern.DOTALL);\n    Matcher matcher = pattern.matcher(script.html());\n\n    if (matcher.find()) {\n        data = matcher.group(1);\n        break;\n    }\n}\n\nString requestURL = &quot;https://finance.yahoo.com/quote/AAPL/financials?p=AAPL&quot;;\nString userAgent = &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36 OPR/56.0.3051.43&quot;;\nString row = &quot;totalRevenue&quot;;\n\ntry {\n    Document doc = Jsoup.connect(requestURL).userAgent(userAgent).get();\n    String html = doc.html();\n    //Log.d(&quot;html&quot;, html);\n\n    Elements scriptTags = doc.getElementsByTag(&quot;script&quot;);\n    String re = &quot;root\\\\.App\\\\.main\\\\s*\\\\=\\\\s*(.*?);\\\\s*\\\\}\\\\(this\\\\)\\\\)\\\\s*;&quot;;\n\n    for (Element script : scriptTags) {\n        Pattern pattern = Pattern.compile(re, Pattern.DOTALL);\n        Matcher matcher = pattern.matcher(script.html());\n\n        if (matcher.find()) {\n            String data = matcher.group(1);\n            //Log.d(&quot;data&quot;, data);\n\n            JSONObject jo = new JSONObject(data);\n            JSONArray table = getTable(jo);\n            //Log.d(&quot;table&quot;, table.toString());\n\n            String[] tableRow = getRow(table, row);\n            String values = TextUtils.join(&quot;, &quot;, tableRow);\n            Log.d(&quot;values&quot;, values);\n        }\n    }\n} catch (Exception e) {\n    Log.e(&quot;err&quot;, &quot;err&quot;, e);\n}\n\nprivate JSONArray getTable(JSONObject json) throws JSONException {\n    JSONArray table = (JSONArray) json.getJSONObject(&quot;context&quot;)\n            .getJSONObject(&quot;dispatcher&quot;)\n            .getJSONObject(&quot;stores&quot;)\n            .getJSONObject(&quot;QuoteSummaryStore&quot;)\n            .getJSONObject(&quot;incomeStatementHistoryQuarterly&quot;)\n            .getJSONArray(&quot;incomeStatementHistory&quot;);\n    return table;\n}\n\nprivate String[] getRow(JSONArray table, String name) throws JSONException {\n    String[] values = new String[table.length()];\n    for (int i = 0; i &lt; table.length(); i++) {\n        JSONObject jo = table.getJSONObject(i);\n        if (jo.has(name)) {\n            jo = jo.getJSONObject(name);\n            values[i] = jo.has(&quot;longFmt&quot;) ? jo.get(&quot;longFmt&quot;).toString() : &quot;-&quot;;\n        } else {\n            values[i] = &quot;-&quot;;\n        }\n    }\n    return values;\n}\n\nprivate String[] getDates(JSONArray table) throws JSONException {\n    String[] values = new String[table.length()];\n    for (int i = 0; i &lt; table.length(); i++) {\n        values[i] = table.getJSONObject(i).getJSONObject(&quot;endDate&quot;)\n                .get(&quot;fmt&quot;).toString();\n    }\n    return values;\n}\n\n\nMap&lt;String, Map&lt;String, String&gt;&gt; getTableNames() {\n    final Map&lt;String, String&gt; revenue = new LinkedHashMap&lt;String, String&gt;() {\n        { put(&quot;Total Revenue&quot;, &quot;totalRevenue&quot;); }\n        { put(&quot;Cost of Revenue&quot;, &quot;costOfRevenue&quot;); }\n        { put(&quot;Gross Profit&quot;, &quot;grossProfit&quot;); }\n    };\n    final Map&lt;String, String&gt; operatingExpenses = new LinkedHashMap&lt;String, String&gt;() {\n        { put(&quot;Research Development&quot;, &quot;researchDevelopment&quot;); }\n        { put(&quot;Selling General and Administrative&quot;, &quot;sellingGeneralAdministrative&quot;); }\n        { put(&quot;Non Recurring&quot;, &quot;nonRecurring&quot;); }\n        { put(&quot;Others&quot;, &quot;otherOperatingExpenses&quot;); }\n        { put(&quot;Total Operating Expenses&quot;, &quot;totalOperatingExpenses&quot;); }\n        { put(&quot;Operating Income or Loss&quot;, &quot;operatingIncome&quot;); }\n    };\n    Map&lt;String, Map&lt;String, String&gt;&gt; allTableNames = new LinkedHashMap&lt;String, Map&lt;String, String&gt;&gt;() {\n        { put(&quot;Revenue&quot;, revenue); }\n        { put(&quot;Operating Expenses&quot;, operatingExpenses); }\n\n    };\n    return allTableNames;\n}\n\nJSONObject jo = new JSONObject(jsData);\nJSONArray table = getTable(jo);\n\nMap&lt;String, Map&lt;String, String&gt;&gt; tableNames = getTableNames();\nString totalRevenueKey = tableNames.get(&quot;Revenue&quot;).get(&quot;Total Revenue&quot;);\nString[] totalRevenueValues = getRow(table, totalRevenueKey);\nString value = totalRevenueValues[0];\n\nList&lt;String&gt; tableData = new ArrayList&lt;&gt;();\nMap&lt;String, Map&lt;String, String&gt;&gt; tableNames = getTableNames();\nString[] dates = getDates(table);\n\nfor (Map.Entry&lt;String, Map&lt;String, String&gt;&gt; tableEntry : tableNames.entrySet()) {\n    tableData.add(tableEntry.getKey());\n    tableData.addAll(Arrays.asList(dates));\n\n    for (Map.Entry&lt;String, String&gt; row : tableEntry.getValue().entrySet()) {\n        String[] tableRow = getRow(table, row.getValue());\n        tableData.add(row.getKey());\n        for (String column: tableRow) {\n            tableData.add(column);\n        }\n    }\n}\nString tableDataString = TextUtils.join(&quot;, &quot;, tableData);\n</code></pre>\n"},{"tags":["java","spring","spring-boot","validation","spring-mvc"],"answers":[{"comments":[{"owner":{"account_id":16598500,"reputation":117,"user_id":11994829,"display_name":"scoll"},"score":0,"creation_date":1673371756,"post_id":75072880,"comment_id":132482006,"body_markdown":"This successfully parses the argument and throws IllegalArgumentException. \n\nUnfortunately, this subsequently gets caught by ConversionUtils.invokeConverter, which throws ConversinFailedException, which in turn gets caught by TypeConverterDelegate.convertIfNecessary. I want to keep the IllegalArgumentException up the stack so the endpoint can return the error.","body":"This successfully parses the argument and throws IllegalArgumentException.   Unfortunately, this subsequently gets caught by ConversionUtils.invokeConverter, which throws ConversinFailedException, which in turn gets caught by TypeConverterDelegate.convertIfNecessary. I want to keep the IllegalArgumentException up the stack so the endpoint can return the error."},{"owner":{"account_id":4561654,"reputation":3050,"user_id":3703819,"display_name":"dey"},"score":1,"creation_date":1673459587,"post_id":75072880,"comment_id":132506012,"body_markdown":"It&#39;s hard to tell without debugging the code, but there is a throw at the end of `convertIfNecessary` method, you can try to debug this method and see what should be done to throw this exception in such a case. Maybe the problem is because of defaultValue for this param?","body":"It&#39;s hard to tell without debugging the code, but there is a throw at the end of <code>convertIfNecessary</code> method, you can try to debug this method and see what should be done to throw this exception in such a case. Maybe the problem is because of defaultValue for this param?"}],"tags":[],"owner":{"account_id":4561654,"reputation":3050,"user_id":3703819,"display_name":"dey"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673367505,"creation_date":1673367505,"answer_id":75072880,"question_id":75072513,"body_markdown":"Try to create your own `Converter`:\r\n\r\n```\r\n@Component\r\npublic class BooleanConverter implements Converter&lt;String, Boolean&gt; {\r\n\r\n    @Override\r\n    public Boolean convert(String bool) {\r\n        if (&quot;true&quot;.equals(bool)) {\r\n            return true;\r\n        }\r\n        if (&quot;false&quot;.equals(bool)) {\r\n            return false;\r\n        }\r\n        throw new IllegalArgumentException(&quot;Invalid boolean value &#39;&quot; + source + &quot;&#39;&quot;);\r\n    }\r\n}\r\n```","title":"Spring API Boolean Parameter Strict Validation","body":"<p>Try to create your own <code>Converter</code>:</p>\n<pre><code>@Component\npublic class BooleanConverter implements Converter&lt;String, Boolean&gt; {\n\n    @Override\n    public Boolean convert(String bool) {\n        if (&quot;true&quot;.equals(bool)) {\n            return true;\n        }\n        if (&quot;false&quot;.equals(bool)) {\n            return false;\n        }\n        throw new IllegalArgumentException(&quot;Invalid boolean value '&quot; + source + &quot;'&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25770182,"reputation":29,"user_id":19519118,"display_name":"surendra ingle"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673504138,"creation_date":1673504138,"answer_id":75092265,"question_id":75072513,"body_markdown":"In spring Boolean parameters have a value of 1/0  if you want to catch the value \r\nboolean type make parameter as String String withDetails and convert it .valueOf into boolean type (true\\false)\r\nor you to make your own converter convert 1 as true and 0 as false","title":"Spring API Boolean Parameter Strict Validation","body":"<p>In spring Boolean parameters have a value of 1/0  if you want to catch the value\nboolean type make parameter as String String withDetails and convert it .valueOf into boolean type (true\\false)\nor you to make your own converter convert 1 as true and 0 as false</p>\n"}],"owner":{"account_id":16598500,"reputation":117,"user_id":11994829,"display_name":"scoll"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673504138,"creation_date":1673365912,"question_id":75072513,"body_markdown":"I wish to perform strict validation on a boolean parameter, seen below as &quot;withDetails.&quot; \r\n\r\n       @ApiResponses(value = {@ApiResponse(responseCode = &quot;200&quot;, description = &quot;Success&quot;)})\r\n        @GetMapping(value = &quot;/order&quot;, produces = &quot;application/json&quot;)\r\n        public ResponseEntity&lt;ResponseClass&gt; getOrders( String id,\r\n                @RequestParam(value = &quot;withDetails&quot;, defaultValue = &quot;true&quot;)\r\n                Boolean withDetails){\r\n            ResponseClass responseClass = this.service.getResponse(id, withDetails);\r\n            return ResponseEntity.ok(responseClass);\r\n        }\r\n\r\nSpring accepts non-boolean substitutions for this value, such as 0/1. This is apparently by design, as described here: \r\nhttps://stackoverflow.com/a/25123000/11994829\r\n\r\nHowever, I want to strictly only allow &quot;true/false&quot; in requests. Can I do that while still defining the parameter as Boolean?","title":"Spring API Boolean Parameter Strict Validation","body":"<p>I wish to perform strict validation on a boolean parameter, seen below as &quot;withDetails.&quot;</p>\n<pre><code>   @ApiResponses(value = {@ApiResponse(responseCode = &quot;200&quot;, description = &quot;Success&quot;)})\n    @GetMapping(value = &quot;/order&quot;, produces = &quot;application/json&quot;)\n    public ResponseEntity&lt;ResponseClass&gt; getOrders( String id,\n            @RequestParam(value = &quot;withDetails&quot;, defaultValue = &quot;true&quot;)\n            Boolean withDetails){\n        ResponseClass responseClass = this.service.getResponse(id, withDetails);\n        return ResponseEntity.ok(responseClass);\n    }\n</code></pre>\n<p>Spring accepts non-boolean substitutions for this value, such as 0/1. This is apparently by design, as described here:\n<a href=\"https://stackoverflow.com/a/25123000/11994829\">https://stackoverflow.com/a/25123000/11994829</a></p>\n<p>However, I want to strictly only allow &quot;true/false&quot; in requests. Can I do that while still defining the parameter as Boolean?</p>\n"},{"tags":["java","spring","spring-boot","exception"],"answers":[{"tags":[],"owner":{"account_id":27321132,"reputation":102,"user_id":20834798,"display_name":"Udit Mishra"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673475251,"creation_date":1673475251,"answer_id":75089568,"question_id":75088670,"body_markdown":"    @RestControllerAdvice\r\n    public class GeneralExceptionHandler {\r\n    private static final Logger logger = \r\n    LoggerFactory.getLogger(GeneralExceptionHandler.class);\r\n\r\n    @ExceptionHandler(Exception.class)\r\n    public static ResponseEntity&lt;Object&gt; handleExceptions(Exception e) {\r\n        logger.info(&quot;Exception handled:&quot; + e.getMessage() + &quot; with http \r\n    status: &quot; + e.getHttpStatus());\r\n        return new ResponseEntity&lt;&gt;(e.getMessage(), e.getHttpStatus());\r\n      }\r\n      }\r\n\r\n\r\nAlso add following code to your application.properties\r\n\r\n       spring.mvc.throw-exception-if-no-handler-found=true\r\n       spring.resources.add-mappings=false","title":"Exception Handler does not catch custom exceptions","body":"<pre><code>@RestControllerAdvice\npublic class GeneralExceptionHandler {\nprivate static final Logger logger = \nLoggerFactory.getLogger(GeneralExceptionHandler.class);\n\n@ExceptionHandler(Exception.class)\npublic static ResponseEntity&lt;Object&gt; handleExceptions(Exception e) {\n    logger.info(&quot;Exception handled:&quot; + e.getMessage() + &quot; with http \nstatus: &quot; + e.getHttpStatus());\n    return new ResponseEntity&lt;&gt;(e.getMessage(), e.getHttpStatus());\n  }\n  }\n</code></pre>\n<p>Also add following code to your application.properties</p>\n<pre><code>   spring.mvc.throw-exception-if-no-handler-found=true\n   spring.resources.add-mappings=false\n</code></pre>\n"},{"comments":[{"owner":{"account_id":24614997,"reputation":13,"user_id":18516116,"display_name":"Leo"},"score":0,"creation_date":1673511248,"post_id":75092260,"comment_id":132516696,"body_markdown":"It looks like the project structure is alright","body":"It looks like the project structure is alright"}],"tags":[],"owner":{"account_id":26453216,"reputation":51,"user_id":20096126,"display_name":"i"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673504127,"creation_date":1673504127,"answer_id":75092260,"question_id":75088670,"body_markdown":"Based on the code provided, I found that it works fine. Make sure that spring can scan the folder where the GeneralExceptionHandler resides","title":"Exception Handler does not catch custom exceptions","body":"<p>Based on the code provided, I found that it works fine. Make sure that spring can scan the folder where the GeneralExceptionHandler resides</p>\n"}],"owner":{"account_id":24614997,"reputation":13,"user_id":18516116,"display_name":"Leo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673504127,"creation_date":1673468795,"question_id":75088670,"body_markdown":"I am working at a exception handler and a custom exception class\r\n\r\n    @ControllerAdvice\r\n    public class GeneralExceptionHandler {\r\n        private static final Logger logger = LoggerFactory.getLogger(GeneralExceptionHandler.class);\r\n    \r\n        @ExceptionHandler(ApiException.class)\r\n        public static ResponseEntity&lt;Object&gt; handleExceptions(ApiException e) {\r\n            logger.info(&quot;Exception handled:&quot; + e.getMessage() + &quot; with http status: &quot; + e.getHttpStatus());\r\n            return new ResponseEntity&lt;&gt;(e.getMessage(), e.getHttpStatus());\r\n        }\r\n    }\r\n\r\n\r\nAnd \r\n\r\n    public class ApiException extends Exception{\r\n    \r\n        private final String message;\r\n        private final HttpStatus httpStatus;\r\n    \r\n        public ApiException(String message, HttpStatus httpStatus) {\r\n            this.message = message;\r\n            this.httpStatus = httpStatus;\r\n        }\r\n        @Override\r\n        public String getMessage() {\r\n            return message;\r\n        }\r\n    \r\n        public HttpStatus getHttpStatus() {\r\n            return httpStatus;\r\n        }\r\n    }\r\n\r\nWhen i throw an ApiException in my service class, it should be catched in controller layer but it doesn&#39;t work. These are my service and controller functions.\r\n\r\n     @Override\r\n        public Boolean deleteSubjectType(int subjectTypeId) throws ApiException {\r\n        SubjectType subjectType=subjectTypeRepository.findById(subjectTypeId)\r\n                .orElseThrow(()-&gt;new ApiException(&quot;Subject Type Id not found&quot;, HttpStatus.NOT_FOUND));\r\n        return true;\r\n        } \r\n\r\n\r\nAnd \r\n\r\n\r\n        @DeleteMapping(&quot;/{subjectTypeId}&quot;)\r\n    public ResponseEntity&lt;Object&gt; deleteSubjectType(@PathVariable int subjectTypeId) {\r\n        subjectTypeService.deleteSubjectType(subjectTypeId);\r\n        return ResponseEntity.ok().body(null);\r\n    }","title":"Exception Handler does not catch custom exceptions","body":"<p>I am working at a exception handler and a custom exception class</p>\n<pre><code>@ControllerAdvice\npublic class GeneralExceptionHandler {\n    private static final Logger logger = LoggerFactory.getLogger(GeneralExceptionHandler.class);\n\n    @ExceptionHandler(ApiException.class)\n    public static ResponseEntity&lt;Object&gt; handleExceptions(ApiException e) {\n        logger.info(&quot;Exception handled:&quot; + e.getMessage() + &quot; with http status: &quot; + e.getHttpStatus());\n        return new ResponseEntity&lt;&gt;(e.getMessage(), e.getHttpStatus());\n    }\n}\n</code></pre>\n<p>And</p>\n<pre><code>public class ApiException extends Exception{\n\n    private final String message;\n    private final HttpStatus httpStatus;\n\n    public ApiException(String message, HttpStatus httpStatus) {\n        this.message = message;\n        this.httpStatus = httpStatus;\n    }\n    @Override\n    public String getMessage() {\n        return message;\n    }\n\n    public HttpStatus getHttpStatus() {\n        return httpStatus;\n    }\n}\n</code></pre>\n<p>When i throw an ApiException in my service class, it should be catched in controller layer but it doesn't work. These are my service and controller functions.</p>\n<pre><code> @Override\n    public Boolean deleteSubjectType(int subjectTypeId) throws ApiException {\n    SubjectType subjectType=subjectTypeRepository.findById(subjectTypeId)\n            .orElseThrow(()-&gt;new ApiException(&quot;Subject Type Id not found&quot;, HttpStatus.NOT_FOUND));\n    return true;\n    } \n</code></pre>\n<p>And</p>\n<pre><code>    @DeleteMapping(&quot;/{subjectTypeId}&quot;)\npublic ResponseEntity&lt;Object&gt; deleteSubjectType(@PathVariable int subjectTypeId) {\n    subjectTypeService.deleteSubjectType(subjectTypeId);\n    return ResponseEntity.ok().body(null);\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-mvc","checkmarx"],"comments":[{"owner":{"account_id":4996428,"reputation":362,"user_id":4016860,"accept_rate":75,"display_name":"Popeye"},"score":0,"creation_date":1673504067,"post_id":75092166,"comment_id":132515012,"body_markdown":"Your error says, your test code created the file, also, it is not good idea to have same class name in the test, since you have same package, it will be a hazard.","body":"Your error says, your test code created the file, also, it is not good idea to have same class name in the test, since you have same package, it will be a hazard."}],"owner":{"account_id":11250359,"reputation":117,"user_id":8251619,"display_name":"suresh kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":436,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673503212,"creation_date":1673503212,"question_id":75092166,"body_markdown":"We are using Spring Boot application to develop an API project. and it has swagger as well. \r\nWe are using Checkmarx for the identifying the vulnerabilities in the project. \r\nAnd in resource methods we are using @GetMapping. \r\nThe usage  @GetMapping and @PostMapping is resulting &quot;Incorrect Permission Assignment For Critical Resources&quot;\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/test&quot;)\r\n    @Tag(name = &quot;User Details&quot;)\r\n    public class UserDataController {\r\n    \r\n    \tprivate static final Logger LOGGER = ESAPI.getLogger(UserDataController.class);\r\n    @Operation(summary = &quot;Get Details&quot;, tags = { &quot;User Details&quot; })\r\n\t@GetMapping(path = &quot;/v1.3/userData&quot;)\r\n\tpublic ResponseEntity&lt;UserDataResponseV3&gt; getUserDataV3(\r\n\t\t\t@RequestParam(value = &quot;changeFromDate&quot;, required = false) @DateTimeFormat(pattern = &quot;yyyy-MM-dd HH:mm:Ss.SSS&quot;) LocalDate changeFromDate,\r\n\t\t\t@RequestParam(value = &quot;changeToDate&quot;, required = false) @DateTimeFormat(pattern = &quot;yyyy-MM-dd HH:mm:Ss.SSS&quot;) LocalDate changeToDate) {\r\n\t\tLOGGER.info(Logger.EVENT_SUCCESS,\r\n\t\t\t\t&quot;Request processing for UserDataController.getUserDataV3() execution Started&quot;);\r\n\r\n\t\tLOGGER.debug(Logger.EVENT_SUCCESS, &quot;userData Criteria-&gt; from &quot; + changeFromDate + &quot; to {}&quot; + changeToDate);\r\n\r\n\t\t\r\n\t\tLOGGER.info(Logger.EVENT_SUCCESS,\r\n\t\t\t\t&quot;Request processing for UserDataController.getUserDataV3() execution Ended&quot;);\r\n\r\n\t\treturn new ResponseEntity&lt;&gt;(userData, HttpStatus.OK);\r\n\t}\r\n    }\r\n\r\nIn Checkmarx report the below is the vulnerability getting listed. \r\n\r\n&gt; A file is created on the file system by path in\r\n&gt; src/main/java/com/test/codes/controller/UserDataController.java at\r\n&gt; line 202 with potentially dangerous permissions.","title":"Incorrect Permission Assignment For Critical Resources on using @GetMapping, @PostMapping","body":"<p>We are using Spring Boot application to develop an API project. and it has swagger as well.\nWe are using Checkmarx for the identifying the vulnerabilities in the project.\nAnd in resource methods we are using @GetMapping.\nThe usage  @GetMapping and @PostMapping is resulting &quot;Incorrect Permission Assignment For Critical Resources&quot;</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/test&quot;)\n@Tag(name = &quot;User Details&quot;)\npublic class UserDataController {\n\n    private static final Logger LOGGER = ESAPI.getLogger(UserDataController.class);\n@Operation(summary = &quot;Get Details&quot;, tags = { &quot;User Details&quot; })\n@GetMapping(path = &quot;/v1.3/userData&quot;)\npublic ResponseEntity&lt;UserDataResponseV3&gt; getUserDataV3(\n        @RequestParam(value = &quot;changeFromDate&quot;, required = false) @DateTimeFormat(pattern = &quot;yyyy-MM-dd HH:mm:Ss.SSS&quot;) LocalDate changeFromDate,\n        @RequestParam(value = &quot;changeToDate&quot;, required = false) @DateTimeFormat(pattern = &quot;yyyy-MM-dd HH:mm:Ss.SSS&quot;) LocalDate changeToDate) {\n    LOGGER.info(Logger.EVENT_SUCCESS,\n            &quot;Request processing for UserDataController.getUserDataV3() execution Started&quot;);\n\n    LOGGER.debug(Logger.EVENT_SUCCESS, &quot;userData Criteria-&gt; from &quot; + changeFromDate + &quot; to {}&quot; + changeToDate);\n\n    \n    LOGGER.info(Logger.EVENT_SUCCESS,\n            &quot;Request processing for UserDataController.getUserDataV3() execution Ended&quot;);\n\n    return new ResponseEntity&lt;&gt;(userData, HttpStatus.OK);\n}\n}\n</code></pre>\n<p>In Checkmarx report the below is the vulnerability getting listed.</p>\n<blockquote>\n<p>A file is created on the file system by path in\nsrc/main/java/com/test/codes/controller/UserDataController.java at\nline 202 with potentially dangerous permissions.</p>\n</blockquote>\n"},{"tags":["java","logging","configuration","log4j","log4j2"],"comments":[{"owner":{"account_id":16269349,"reputation":13462,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1675082392,"post_id":75091192,"comment_id":132845148,"body_markdown":"Your configuration does not have the **required** property `age` in the `IfLastModified` condition. Since the error message is not really helpful, I reported this as [issue#1231](https://github.com/apache/logging-log4j2/issues/1231).","body":"Your configuration does not have the <b>required</b> property <code>age</code> in the <code>IfLastModified</code> condition. Since the error message is not really helpful, I reported this as <a href=\"https://github.com/apache/logging-log4j2/issues/1231\" rel=\"nofollow noreferrer\">issue#1231</a>."}],"owner":{"account_id":8550479,"reputation":31,"user_id":6407543,"display_name":"kyc"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":572,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673503121,"creation_date":1673493204,"question_id":75091192,"body_markdown":"I am trying to use TimeBasedTriggeringPolicy for RollingFileAppender. Log4J (v2.18) is throwing NullPointerException due to AGE. \r\n\r\n**Error:**\r\n\r\n```\r\n2023-01-12 08:05:00,903 main ERROR Unable to invoke factory method in class org.apache.logging.log4j.core.appender.rolling.action.IfLastModified for element IfLastModified: java.lang.NullPointerException: age java.lang.reflect.InvocationTargetException\r\n\r\nCaused by: java.lang.NullPointerException: age\r\n\tat java.util.Objects.requireNonNull(Unknown Source)\r\n\tat org.apache.logging.log4j.core.appender.rolling.action.IfLastModified.&lt;init&gt;(IfLastModified.java:49)\r\n\tat org.apache.logging.log4j.core.appender.rolling.action.IfLastModified.createAgeCondition(IfLastModified.java:105)\r\n\t... 23 more\r\n```\r\n\r\n**Log4j.properties file:**\r\n\r\n```\r\nname= RollingFileLogConfig\r\nappenders = console, rolling\r\n\r\n# Log files location\r\nproperty.basePath = ./logs\r\n\r\n# Console appender\r\nappender.console.type = Console\r\nappender.console.name = STDOUT\r\nappender.console.layout.type = PatternLayout\r\nappender.console.layout.pattern = %d{yyyy-MM-dd HH:mm:ss.SSS} %level [%t] [%l] - %msg%n\r\n\r\n# RollingFileAppender name, pattern, path and rollover policy\r\nappender.rolling.type = RollingFile\r\nappender.rolling.name = fileLogger\r\nappender.rolling.fileName= ${basePath}/app.log\r\nappender.rolling.filePattern= ${basePath}/app_%d{yyyyMMdd}.log.gz\r\nappender.rolling.layout.type = PatternLayout\r\nappender.rolling.layout.pattern = %d{yyyy-MM-dd HH:mm:ss.SSS} %level [%t] [%l] - %msg%n\r\nappender.rolling.policies.type = Policies\r\n\r\n# RollingFileAppender rotation policy\r\nappender.rolling.policies.size.type = SizeBasedTriggeringPolicy\r\nappender.rolling.policies.size.size = 10MB\r\nappender.rolling.policies.time.type = TimeBasedTriggeringPolicy\r\nappender.rolling.policies.time.interval = 1\r\nappender.rolling.policies.time.modulate = true\r\nappender.rolling.strategy.type = DefaultRolloverStrategy\r\nappender.rolling.strategy.delete.type = Delete\r\nappender.rolling.strategy.delete.basePath = ${basePath}\r\nappender.rolling.strategy.delete.maxDepth = 10\r\nappender.rolling.strategy.delete.ifLastModified.type = IfLastModified\r\n\r\n# Configure root logger\r\nrootLogger.level = trace\r\nrootLogger.appenderRefs = stdout, rolling\r\nrootLogger.appenderRef.rolling.ref = fileLogger\r\nrootLogger.appenderRef.stdout.ref = STDOUT\r\n\r\n```\r\n\r\nI have tried changing file pattern as mentioned in other [similar questions asked in stack over flow](https://stackoverflow.com/questions/19304165/time-based-triggering-policy-in-log4j2) but still getting the same error.","title":"Log4j: Null object returned for IfLastModified in Delete","body":"<p>I am trying to use TimeBasedTriggeringPolicy for RollingFileAppender. Log4J (v2.18) is throwing NullPointerException due to AGE.</p>\n<p><strong>Error:</strong></p>\n<pre><code>2023-01-12 08:05:00,903 main ERROR Unable to invoke factory method in class org.apache.logging.log4j.core.appender.rolling.action.IfLastModified for element IfLastModified: java.lang.NullPointerException: age java.lang.reflect.InvocationTargetException\n\nCaused by: java.lang.NullPointerException: age\n    at java.util.Objects.requireNonNull(Unknown Source)\n    at org.apache.logging.log4j.core.appender.rolling.action.IfLastModified.&lt;init&gt;(IfLastModified.java:49)\n    at org.apache.logging.log4j.core.appender.rolling.action.IfLastModified.createAgeCondition(IfLastModified.java:105)\n    ... 23 more\n</code></pre>\n<p><strong>Log4j.properties file:</strong></p>\n<pre><code>name= RollingFileLogConfig\nappenders = console, rolling\n\n# Log files location\nproperty.basePath = ./logs\n\n# Console appender\nappender.console.type = Console\nappender.console.name = STDOUT\nappender.console.layout.type = PatternLayout\nappender.console.layout.pattern = %d{yyyy-MM-dd HH:mm:ss.SSS} %level [%t] [%l] - %msg%n\n\n# RollingFileAppender name, pattern, path and rollover policy\nappender.rolling.type = RollingFile\nappender.rolling.name = fileLogger\nappender.rolling.fileName= ${basePath}/app.log\nappender.rolling.filePattern= ${basePath}/app_%d{yyyyMMdd}.log.gz\nappender.rolling.layout.type = PatternLayout\nappender.rolling.layout.pattern = %d{yyyy-MM-dd HH:mm:ss.SSS} %level [%t] [%l] - %msg%n\nappender.rolling.policies.type = Policies\n\n# RollingFileAppender rotation policy\nappender.rolling.policies.size.type = SizeBasedTriggeringPolicy\nappender.rolling.policies.size.size = 10MB\nappender.rolling.policies.time.type = TimeBasedTriggeringPolicy\nappender.rolling.policies.time.interval = 1\nappender.rolling.policies.time.modulate = true\nappender.rolling.strategy.type = DefaultRolloverStrategy\nappender.rolling.strategy.delete.type = Delete\nappender.rolling.strategy.delete.basePath = ${basePath}\nappender.rolling.strategy.delete.maxDepth = 10\nappender.rolling.strategy.delete.ifLastModified.type = IfLastModified\n\n# Configure root logger\nrootLogger.level = trace\nrootLogger.appenderRefs = stdout, rolling\nrootLogger.appenderRef.rolling.ref = fileLogger\nrootLogger.appenderRef.stdout.ref = STDOUT\n\n</code></pre>\n<p>I have tried changing file pattern as mentioned in other <a href=\"https://stackoverflow.com/questions/19304165/time-based-triggering-policy-in-log4j2\">similar questions asked in stack over flow</a> but still getting the same error.</p>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":2124329,"reputation":612,"user_id":1886904,"display_name":"egeorge"},"score":1,"creation_date":1672772476,"post_id":74997241,"comment_id":132348230,"body_markdown":"This is not a solution to your problem, but you can simplify this greatly by adding `Pageable pageable` as a parameter to the endpoint method, and Spring will automatically create it from the query parameters &quot;size&quot;, &quot;pageNumber&quot;, &quot;sort=name,asc&quot;, etc. You can then pass that same pageable object to your repository as long as it is a descendant of `PagingAndSortingRepository`.  This may simplify your code enough to eliminate some errors.","body":"This is not a solution to your problem, but you can simplify this greatly by adding <code>Pageable pageable</code> as a parameter to the endpoint method, and Spring will automatically create it from the query parameters &quot;size&quot;, &quot;pageNumber&quot;, &quot;sort=name,asc&quot;, etc. You can then pass that same pageable object to your repository as long as it is a descendant of <code>PagingAndSortingRepository</code>.  This may simplify your code enough to eliminate some errors."},{"owner":{"account_id":21374280,"reputation":1,"user_id":15741311,"display_name":"Antonio Della Luce"},"score":0,"creation_date":1672772851,"post_id":74997241,"comment_id":132348331,"body_markdown":"Thanks for the advice but it not solved main problem, as you said.","body":"Thanks for the advice but it not solved main problem, as you said."}],"answers":[{"comments":[{"owner":{"account_id":27321132,"reputation":102,"user_id":20834798,"display_name":"Udit Mishra"},"score":0,"creation_date":1673587962,"post_id":75092146,"comment_id":132537295,"body_markdown":"is that solve your problem?","body":"is that solve your problem?"}],"tags":[],"owner":{"account_id":27321132,"reputation":102,"user_id":20834798,"display_name":"Udit Mishra"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673503021,"creation_date":1673503021,"answer_id":75092146,"question_id":74997241,"body_markdown":"As you are not passing the pageNumber when you are using &quot;/categories&quot; to fetch record it will print all records you have to set default value as attribute so that if you are not passing the value it is still limited by that value use following code:-\r\n\r\n    @PathVariable(value=&quot;pageNum&quot;,defaultValue=&quot;1&quot;,reuired=&quot;false&quot;)int \r\n    pageNum)\r\n\r\n","title":"Why List is not paged in client side but show all results?","body":"<p>As you are not passing the pageNumber when you are using &quot;/categories&quot; to fetch record it will print all records you have to set default value as attribute so that if you are not passing the value it is still limited by that value use following code:-</p>\n<pre><code>@PathVariable(value=&quot;pageNum&quot;,defaultValue=&quot;1&quot;,reuired=&quot;false&quot;)int \npageNum)\n</code></pre>\n"}],"owner":{"account_id":21374280,"reputation":1,"user_id":15741311,"display_name":"Antonio Della Luce"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673503021,"creation_date":1672770135,"question_id":74997241,"body_markdown":"I&#39;m experiencing a very strange bug. Basically in the controller, when I contact the &quot;/categories/page/{pageNum}&quot; endpoint passing a keyword as a parameter, the client returns the paginated list. When instead, I contact the &quot;/categories&quot; endpoint in the client, the list is not paginated but returns all the results. Below I show you the classes inherent in the execution of all the code.\r\n\r\n```\r\n@GetMapping(&quot;/categories&quot;)\r\n\t@PreAuthorize(&quot;hasAnyAuthority(&#39;Admin&#39;, &#39;Editor&#39;)&quot;)\r\n\tpublic String listFirstPage(@Param(&quot;sortDir&quot;) String sortDir, Model model) {\r\n\t\tif(sortDir == null)\r\n\t\t\tsortDir = &quot;asc&quot;;\r\n\t\treturn listByPage(1, &quot;name&quot;, null, model);\r\n\t}\r\n\t\r\n\t@GetMapping(&quot;/categories/page/{pageNum}&quot;)\r\n\tpublic String listByPage(@PathVariable(&quot;pageNum&quot;)int pageNum,\r\n\t\t\t@Param(&quot;sortDir&quot;) String sortDir,\r\n\t\t\t@Param(&quot;keyword&quot;) String keyword,\r\n\t\t\tModel model) {\r\n\t\tif (sortDir == null || sortDir.isEmpty()) {\r\n\t\t\tsortDir = &quot;asc&quot;;\r\n\t\t}\r\n\t\t\r\n\t\tCategoryPageInfo pageInfo = new CategoryPageInfo();\r\n\t\tList&lt;Category&gt; listByPage = service.listByPage(pageInfo, pageNum, sortDir, model, keyword);\r\n\t\t\r\n\t\t long startCount = (pageNum - 1) * CategoryService.ROOT_CATEGORY_PER_PAGE + 1;\r\n\t\t long endCount = startCount + CategoryService.ROOT_CATEGORY_PER_PAGE -1;\r\n\t\t if(endCount &gt; pageInfo.getTotalElement())\r\n\t\t\t endCount = pageInfo.getTotalElement();\r\n\t\t\r\n\t\tString reverseSortDir = sortDir.equals(&quot;asc&quot;) ? &quot;desc&quot; : &quot;asc&quot;;\r\n\t\t\r\n\t\tmodel.addAttribute(&quot;totalPages&quot;, pageInfo.getTotalPages());\r\n\t\tmodel.addAttribute(&quot;totalElements&quot;, pageInfo.getTotalElement());\r\n\t\tmodel.addAttribute(&quot;currentPage&quot;, pageNum);\r\n\t\tmodel.addAttribute(&quot;pageNum&quot;, pageNum);\r\n\t\tmodel.addAttribute(&quot;sortField&quot;, &quot;name&quot;);\r\n\t\tmodel.addAttribute(&quot;sortDir&quot;, sortDir);\r\n\t\tmodel.addAttribute(&quot;keyword&quot;, keyword);\r\n\t\tmodel.addAttribute(&quot;categories&quot;, listByPage);\r\n\t\tmodel.addAttribute(&quot;startCount&quot;, startCount);\r\n\t\tmodel.addAttribute(&quot;endCount&quot;, endCount);\r\n\t\tmodel.addAttribute(&quot;reverseSortDir&quot;, reverseSortDir);\r\n\t\treturn &quot;categories/categories.html&quot;;\r\n\t}\r\n```\r\n\r\n\r\n```\r\npackage com.shopme.admin.category;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Comparator;\r\nimport java.util.List;\r\nimport java.util.Optional;\r\nimport java.util.Set;\r\nimport java.util.SortedSet;\r\nimport java.util.TreeSet;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.data.domain.Page;\r\nimport org.springframework.data.domain.PageRequest;\r\nimport org.springframework.data.domain.Pageable;\r\nimport org.springframework.data.domain.Sort;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.ui.Model;\r\nimport com.shopme.admin.FileUploadUtil;\r\nimport com.shopme.common.entity.Category;\r\n\r\nimport jakarta.transaction.Transactional;\r\n\r\n@Service\r\n@Transactional\r\npublic class CategoryService {\r\n\tpublic static final int ROOT_CATEGORY_PER_PAGE = 4;\r\n\r\n\t@Autowired\r\n\tprivate CategoryRepository repo;\r\n\r\n\tpublic List&lt;Category&gt; listByPage(CategoryPageInfo pageInfo, int pageNum, String sortDir, Model model,\r\n\t\t\tString keyword) {\r\n\t\tSort sort = Sort.by(&quot;name&quot;);\r\n\r\n\t\tif (sortDir.equals(&quot;asc&quot;)) {\r\n\t\t\tsort = sort.ascending();\r\n\t\t} else if (sortDir.equals(&quot;desc&quot;)) {\r\n\t\t\tsort = sort.descending();\r\n\t\t}\r\n\r\n\t\tPageable pageable = PageRequest.of(pageNum - 1, ROOT_CATEGORY_PER_PAGE, sort);\r\n\r\n\t\tPage&lt;Category&gt; categoriesPage = null;\r\n\r\n\t\tif (keyword != null &amp;&amp; !keyword.isEmpty()) {\r\n\t\t\tcategoriesPage = repo.search(keyword, pageable);\r\n\t\t} else {\r\n\t\t\tcategoriesPage = repo.findRootCategoriesPage(pageable);\r\n\t\t}\r\n\r\n\t\tList&lt;Category&gt; rootCategories = categoriesPage.getContent();\r\n\r\n\t\tpageInfo.setTotalElement(categoriesPage.getTotalElements());\r\n\t\tpageInfo.setTotalPages(categoriesPage.getTotalPages());\r\n\r\n\t\tif (keyword != null &amp;&amp; !keyword.isEmpty()) {\r\n\t\t\tList&lt;Category&gt; searchResult = categoriesPage.getContent();\r\n\t\t\tfor(Category category : searchResult) {\r\n\t\t\t\tcategory.setHasChildren(category.getChildren().size() &gt; 0);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn searchResult;\r\n\t\t\t\r\n\t\t} else {\r\n\t\t\treturn listHierarchicalCategories(rootCategories, sortDir);\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t}\r\n\r\n\tprivate List&lt;Category&gt; listHierarchicalCategories(List&lt;Category&gt; rootCategories, String sortDir) {\r\n\t\tList&lt;Category&gt; listHierarchicalCategories = new ArrayList&lt;&gt;();\r\n\r\n\t\tfor (Category rootCategory : rootCategories) {\r\n\t\t\tlistHierarchicalCategories.add(Category.copyFull(rootCategory));\r\n\r\n\t\t\tSet&lt;Category&gt; children = sortSubCategory(rootCategory.getChildren(), sortDir);\r\n\r\n\t\t\tfor (Category subCategory : children) {\r\n\t\t\t\tString name = &quot;--&quot; + subCategory.getName();\r\n\t\t\t\tlistHierarchicalCategories.add(Category.copyFull(subCategory, name));\r\n\r\n\t\t\t\tlistSubHierarchicalCategories(listHierarchicalCategories, subCategory, 1, sortDir);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn listHierarchicalCategories;\r\n\t}\r\n\r\n\tprivate void listSubHierarchicalCategories(List&lt;Category&gt; listHierarchicalCategories, Category parent, int subLevel,\r\n\t\t\tString sortDir) {\r\n\t\tSet&lt;Category&gt; children = sortSubCategory(parent.getChildren(), sortDir);\r\n\t\tint newSubLevel = subLevel + 1;\r\n\r\n\t\tfor (Category subCategory : children) {\r\n\t\t\tStringBuilder name = new StringBuilder();\r\n\t\t\tfor (int i = 0; i &lt; newSubLevel; i++) {\r\n\t\t\t\tname.append(&quot;--&quot;);\r\n\t\t\t}\r\n\t\t\tname.append(subCategory.getName());\r\n\r\n\t\t\tlistHierarchicalCategories.add(Category.copyFull(subCategory, name.toString()));\r\n\r\n\t\t\tlistSubHierarchicalCategories(listHierarchicalCategories, subCategory, newSubLevel, sortDir);\r\n\t\t}\r\n\r\n\t}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\nIn my opinion i think i need to limit the search results also in all SubCategory that i add  ","title":"Why List is not paged in client side but show all results?","body":"<p>I'm experiencing a very strange bug. Basically in the controller, when I contact the &quot;/categories/page/{pageNum}&quot; endpoint passing a keyword as a parameter, the client returns the paginated list. When instead, I contact the &quot;/categories&quot; endpoint in the client, the list is not paginated but returns all the results. Below I show you the classes inherent in the execution of all the code.</p>\n<pre><code>@GetMapping(&quot;/categories&quot;)\n    @PreAuthorize(&quot;hasAnyAuthority('Admin', 'Editor')&quot;)\n    public String listFirstPage(@Param(&quot;sortDir&quot;) String sortDir, Model model) {\n        if(sortDir == null)\n            sortDir = &quot;asc&quot;;\n        return listByPage(1, &quot;name&quot;, null, model);\n    }\n    \n    @GetMapping(&quot;/categories/page/{pageNum}&quot;)\n    public String listByPage(@PathVariable(&quot;pageNum&quot;)int pageNum,\n            @Param(&quot;sortDir&quot;) String sortDir,\n            @Param(&quot;keyword&quot;) String keyword,\n            Model model) {\n        if (sortDir == null || sortDir.isEmpty()) {\n            sortDir = &quot;asc&quot;;\n        }\n        \n        CategoryPageInfo pageInfo = new CategoryPageInfo();\n        List&lt;Category&gt; listByPage = service.listByPage(pageInfo, pageNum, sortDir, model, keyword);\n        \n         long startCount = (pageNum - 1) * CategoryService.ROOT_CATEGORY_PER_PAGE + 1;\n         long endCount = startCount + CategoryService.ROOT_CATEGORY_PER_PAGE -1;\n         if(endCount &gt; pageInfo.getTotalElement())\n             endCount = pageInfo.getTotalElement();\n        \n        String reverseSortDir = sortDir.equals(&quot;asc&quot;) ? &quot;desc&quot; : &quot;asc&quot;;\n        \n        model.addAttribute(&quot;totalPages&quot;, pageInfo.getTotalPages());\n        model.addAttribute(&quot;totalElements&quot;, pageInfo.getTotalElement());\n        model.addAttribute(&quot;currentPage&quot;, pageNum);\n        model.addAttribute(&quot;pageNum&quot;, pageNum);\n        model.addAttribute(&quot;sortField&quot;, &quot;name&quot;);\n        model.addAttribute(&quot;sortDir&quot;, sortDir);\n        model.addAttribute(&quot;keyword&quot;, keyword);\n        model.addAttribute(&quot;categories&quot;, listByPage);\n        model.addAttribute(&quot;startCount&quot;, startCount);\n        model.addAttribute(&quot;endCount&quot;, endCount);\n        model.addAttribute(&quot;reverseSortDir&quot;, reverseSortDir);\n        return &quot;categories/categories.html&quot;;\n    }\n</code></pre>\n<pre><code>package com.shopme.admin.category;\n\nimport java.util.ArrayList;\nimport java.util.Comparator;\nimport java.util.List;\nimport java.util.Optional;\nimport java.util.Set;\nimport java.util.SortedSet;\nimport java.util.TreeSet;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.data.domain.Page;\nimport org.springframework.data.domain.PageRequest;\nimport org.springframework.data.domain.Pageable;\nimport org.springframework.data.domain.Sort;\nimport org.springframework.stereotype.Service;\nimport org.springframework.ui.Model;\nimport com.shopme.admin.FileUploadUtil;\nimport com.shopme.common.entity.Category;\n\nimport jakarta.transaction.Transactional;\n\n@Service\n@Transactional\npublic class CategoryService {\n    public static final int ROOT_CATEGORY_PER_PAGE = 4;\n\n    @Autowired\n    private CategoryRepository repo;\n\n    public List&lt;Category&gt; listByPage(CategoryPageInfo pageInfo, int pageNum, String sortDir, Model model,\n            String keyword) {\n        Sort sort = Sort.by(&quot;name&quot;);\n\n        if (sortDir.equals(&quot;asc&quot;)) {\n            sort = sort.ascending();\n        } else if (sortDir.equals(&quot;desc&quot;)) {\n            sort = sort.descending();\n        }\n\n        Pageable pageable = PageRequest.of(pageNum - 1, ROOT_CATEGORY_PER_PAGE, sort);\n\n        Page&lt;Category&gt; categoriesPage = null;\n\n        if (keyword != null &amp;&amp; !keyword.isEmpty()) {\n            categoriesPage = repo.search(keyword, pageable);\n        } else {\n            categoriesPage = repo.findRootCategoriesPage(pageable);\n        }\n\n        List&lt;Category&gt; rootCategories = categoriesPage.getContent();\n\n        pageInfo.setTotalElement(categoriesPage.getTotalElements());\n        pageInfo.setTotalPages(categoriesPage.getTotalPages());\n\n        if (keyword != null &amp;&amp; !keyword.isEmpty()) {\n            List&lt;Category&gt; searchResult = categoriesPage.getContent();\n            for(Category category : searchResult) {\n                category.setHasChildren(category.getChildren().size() &gt; 0);\n            }\n            \n            return searchResult;\n            \n        } else {\n            return listHierarchicalCategories(rootCategories, sortDir);\n        }\n        \n        \n    }\n\n    private List&lt;Category&gt; listHierarchicalCategories(List&lt;Category&gt; rootCategories, String sortDir) {\n        List&lt;Category&gt; listHierarchicalCategories = new ArrayList&lt;&gt;();\n\n        for (Category rootCategory : rootCategories) {\n            listHierarchicalCategories.add(Category.copyFull(rootCategory));\n\n            Set&lt;Category&gt; children = sortSubCategory(rootCategory.getChildren(), sortDir);\n\n            for (Category subCategory : children) {\n                String name = &quot;--&quot; + subCategory.getName();\n                listHierarchicalCategories.add(Category.copyFull(subCategory, name));\n\n                listSubHierarchicalCategories(listHierarchicalCategories, subCategory, 1, sortDir);\n            }\n        }\n\n        return listHierarchicalCategories;\n    }\n\n    private void listSubHierarchicalCategories(List&lt;Category&gt; listHierarchicalCategories, Category parent, int subLevel,\n            String sortDir) {\n        Set&lt;Category&gt; children = sortSubCategory(parent.getChildren(), sortDir);\n        int newSubLevel = subLevel + 1;\n\n        for (Category subCategory : children) {\n            StringBuilder name = new StringBuilder();\n            for (int i = 0; i &lt; newSubLevel; i++) {\n                name.append(&quot;--&quot;);\n            }\n            name.append(subCategory.getName());\n\n            listHierarchicalCategories.add(Category.copyFull(subCategory, name.toString()));\n\n            listSubHierarchicalCategories(listHierarchicalCategories, subCategory, newSubLevel, sortDir);\n        }\n\n    }\n\n</code></pre>\n<p>In my opinion i think i need to limit the search results also in all SubCategory that i add</p>\n"},{"tags":["java","google-app-engine","spring-boot-maven-plugin","unsupported-class-version"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1673513245,"post_id":75091975,"comment_id":132517299,"body_markdown":"Spring Boot 3 needs Java 17 or higher. Either switch to Spring Boot 2.7 (which is end-of-life in November, so you&#39;ll need to switch to 3 eventually), or to Java 17.","body":"Spring Boot 3 needs Java 17 or higher. Either switch to Spring Boot 2.7 (which is end-of-life in November, so you&#39;ll need to switch to 3 eventually), or to Java 17."}],"owner":{"account_id":27505827,"reputation":3,"user_id":20988599,"display_name":"Angelica"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1673502078,"answer_count":0,"score":0,"last_activity_date":1673502875,"creation_date":1673501373,"question_id":75091975,"body_markdown":"I am getting an error when deploying a server that is using spring boot. The logic works locally, but I get a 500 error when I deploy to gCloud using App Engine. I am on MacOS.\r\n\r\nAny ideas what is misconfigured here? Thank you!\r\n\r\nThe error looks like this:\r\n```\r\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: com/modernmail/ModernMailApplication has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0\r\n```\r\n\r\nFrom searching around, it seems that the root cause is that I&#39;m compiling with a version that isn&#39;t supported with app engine (if I understand correctly, 55.0 = java 11 and 61.0 = java 17). I do think app engine supports java 11 now from: https://cloud.google.com/appengine/docs/standard/java-gen2/runtime.\r\n\r\nI&#39;m trying to configure my app and environment to use java11 but something must be misconfigured somewhere?\r\n\r\nIn my appengine/app.yaml:\r\n```\r\nenv: standard\r\nservice: server\r\nruntime: java11\r\n```\r\n\r\nIn my pom.xml:\r\n```\r\n&lt;properties&gt;\r\n  &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n  &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n&lt;/properties&gt;\r\n```\r\n\r\nThe output of my java version command is:\r\n```\r\n  ~ java -version\r\nopenjdk version &quot;11.0.17&quot; 2022-10-18\r\nOpenJDK Runtime Environment OpenLogic-OpenJDK (build 11.0.17+8-adhoc.admin.jdk11u)\r\nOpenJDK 64-Bit Server VM OpenLogic-OpenJDK (build 11.0.17+8-adhoc.admin.jdk11u, mixed mode)\r\n```\r\n\r\nAnd my JAVA_HOME matches:\r\n```\r\n ~ echo $JAVA_HOME\r\n/Library/Java/JavaVirtualMachines/openlogic-openjdk-11.jre/Contents/Home\r\n```\r\n\r\nI&#39;m deploying the server using:\r\n```\r\n./mvnw -DskipTests package appengine:deploy\r\n```\r\n\r\nI&#39;m not exactly clear how to apply the solution from a question like [this](https://stackoverflow.com/questions/10382929/how-to-fix-java-lang-unsupportedclassversionerror-unsupported-major-minor-versi) because java 11 doesn&#39;t have a separation between JDK and JRE anymore? My JDK is using java 11, but I&#39;m not sure how check JRE for java11.","title":"java.lang.UnsupportedClassVersionError when deploying Spring Boot server on App Engine","body":"<p>I am getting an error when deploying a server that is using spring boot. The logic works locally, but I get a 500 error when I deploy to gCloud using App Engine. I am on MacOS.</p>\n<p>Any ideas what is misconfigured here? Thank you!</p>\n<p>The error looks like this:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: com/modernmail/ModernMailApplication has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0\n</code></pre>\n<p>From searching around, it seems that the root cause is that I'm compiling with a version that isn't supported with app engine (if I understand correctly, 55.0 = java 11 and 61.0 = java 17). I do think app engine supports java 11 now from: <a href=\"https://cloud.google.com/appengine/docs/standard/java-gen2/runtime\" rel=\"nofollow noreferrer\">https://cloud.google.com/appengine/docs/standard/java-gen2/runtime</a>.</p>\n<p>I'm trying to configure my app and environment to use java11 but something must be misconfigured somewhere?</p>\n<p>In my appengine/app.yaml:</p>\n<pre><code>env: standard\nservice: server\nruntime: java11\n</code></pre>\n<p>In my pom.xml:</p>\n<pre><code>&lt;properties&gt;\n  &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n  &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>The output of my java version command is:</p>\n<pre><code>  ~ java -version\nopenjdk version &quot;11.0.17&quot; 2022-10-18\nOpenJDK Runtime Environment OpenLogic-OpenJDK (build 11.0.17+8-adhoc.admin.jdk11u)\nOpenJDK 64-Bit Server VM OpenLogic-OpenJDK (build 11.0.17+8-adhoc.admin.jdk11u, mixed mode)\n</code></pre>\n<p>And my JAVA_HOME matches:</p>\n<pre><code> ~ echo $JAVA_HOME\n/Library/Java/JavaVirtualMachines/openlogic-openjdk-11.jre/Contents/Home\n</code></pre>\n<p>I'm deploying the server using:</p>\n<pre><code>./mvnw -DskipTests package appengine:deploy\n</code></pre>\n<p>I'm not exactly clear how to apply the solution from a question like <a href=\"https://stackoverflow.com/questions/10382929/how-to-fix-java-lang-unsupportedclassversionerror-unsupported-major-minor-versi\">this</a> because java 11 doesn't have a separation between JDK and JRE anymore? My JDK is using java 11, but I'm not sure how check JRE for java11.</p>\n"},{"tags":["java","selenium","xpath"],"comments":[{"owner":{"account_id":10081892,"reputation":1547,"user_id":7451892,"display_name":"Andrew Ryan"},"score":1,"creation_date":1673492183,"post_id":75090716,"comment_id":132513235,"body_markdown":"Are you selecting the elements (are you getting the correct path to the element)? If you do `.getAttribute(&quot;outerHTML&quot;)` do you find the element that you are looking for? Second you are missing `driver.findElement` for your `sale` variable.","body":"Are you selecting the elements (are you getting the correct path to the element)? If you do <code>.getAttribute(&quot;outerHTML&quot;)</code> do you find the element that you are looking for? Second you are missing <code>driver.findElement</code> for your <code>sale</code> variable."}],"answers":[{"comments":[{"owner":{"account_id":27504205,"reputation":1,"user_id":20987235,"display_name":"Ivan"},"score":0,"creation_date":1673516709,"post_id":75092100,"comment_id":132518531,"body_markdown":"Thanks,it turned out there was simply not enough time to get the values\nadded wait and it worked","body":"Thanks,it turned out there was simply not enough time to get the values added wait and it worked"}],"tags":[],"owner":{"account_id":27303905,"reputation":41,"user_id":20820178,"display_name":"Tarun reddy"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673502614,"creation_date":1673502614,"answer_id":75092100,"question_id":75090716,"body_markdown":"    List&lt;WebElement&gt; Ele =  driver.findElements(By.xpath(&quot;//span[@class=&#39;line-chart-tab-value ng-star-inserted&#39;]&quot;));\r\n    \t\tfor(int i=0;i&lt;Ele.size();i++) {\r\n    \t\t\tSystem.out.println(&quot;Sale &quot;+Ele.get(0).getText());\r\n    \t\t\tSystem.out.println(&quot;Return &quot;+Ele.get(1).getText());\r\n    \t\t}","title":"Selenium getText() returns empty string","body":"<pre><code>List&lt;WebElement&gt; Ele =  driver.findElements(By.xpath(&quot;//span[@class='line-chart-tab-value ng-star-inserted']&quot;));\n        for(int i=0;i&lt;Ele.size();i++) {\n            System.out.println(&quot;Sale &quot;+Ele.get(0).getText());\n            System.out.println(&quot;Return &quot;+Ele.get(1).getText());\n        }\n</code></pre>\n"}],"owner":{"account_id":27504205,"reputation":1,"user_id":20987235,"display_name":"Ivan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673502614,"creation_date":1673487551,"question_id":75090716,"body_markdown":"Just started studying Selenium. I have a problem. an&#39;t get text. getText() returns empty string. getAttribute() returns null.\r\n\r\nThe getText() is used on a HTML element that looks like this:\r\nfirst element:\r\n\r\n    &lt;span _ngcontent-enu-c116=&quot;&quot; class=&quot;line-chart-tab-value ng-star-inserted&quot;&gt; 2&#160;807,60 $ &lt;/span&gt;\r\n\r\nsecond element:\r\n\r\n    &lt;span _ngcontent-enu-c116=&quot;&quot; class=&quot;line-chart-tab-value ng-star-inserted&quot;&gt; 200,00 $ &lt;/span&gt;\r\n\r\nfind by xpath:\r\n```\r\nWebElement sale = (By.xpath(&quot;//label[1]//span[@class=&#39;line-chart-tab-value ng-star-inserted&#39;]&quot;)));\r\nSystem.out.println(&quot;Sale=&quot; + sale.getText());\r\nWebElement saleReturn= driver.findElement((By.xpath(&quot;//label[2]//span[@class=&#39;line-chart-tab-value ng-star-inserted&#39;]&quot;)));\r\nSystem.out.println(&quot;Return=&quot; + saleReturn.getText());\r\n```\r\n\r\n I would be grateful for any help.","title":"Selenium getText() returns empty string","body":"<p>Just started studying Selenium. I have a problem. an't get text. getText() returns empty string. getAttribute() returns null.</p>\n<p>The getText() is used on a HTML element that looks like this:\nfirst element:</p>\n<pre><code>&lt;span _ngcontent-enu-c116=&quot;&quot; class=&quot;line-chart-tab-value ng-star-inserted&quot;&gt; 2807,60 $ &lt;/span&gt;\n</code></pre>\n<p>second element:</p>\n<pre><code>&lt;span _ngcontent-enu-c116=&quot;&quot; class=&quot;line-chart-tab-value ng-star-inserted&quot;&gt; 200,00 $ &lt;/span&gt;\n</code></pre>\n<p>find by xpath:</p>\n<pre><code>WebElement sale = (By.xpath(&quot;//label[1]//span[@class='line-chart-tab-value ng-star-inserted']&quot;)));\nSystem.out.println(&quot;Sale=&quot; + sale.getText());\nWebElement saleReturn= driver.findElement((By.xpath(&quot;//label[2]//span[@class='line-chart-tab-value ng-star-inserted']&quot;)));\nSystem.out.println(&quot;Return=&quot; + saleReturn.getText());\n</code></pre>\n<p>I would be grateful for any help.</p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":7767429,"reputation":674,"user_id":5878215,"display_name":"Zorglube"},"score":0,"creation_date":1673275859,"post_id":75058853,"comment_id":132456109,"body_markdown":"First read the doc of `@Column(columnDefinition)` to be sure that the definition is used when the table is created, or, second if you want SQL timestamp, just set a default value to your `c_date` column : `CREATE TABLE t_org (..., c_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, ... );`","body":"First read the doc of <code>@Column(columnDefinition)</code> to be sure that the definition is used when the table is created, or, second if you want SQL timestamp, just set a default value to your <code>c_date</code> column : <code>CREATE TABLE t_org (..., c_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, ... );</code>"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1673277092,"post_id":75058853,"comment_id":132456585,"body_markdown":"AFAIK `saveAndFlush()` does not update (all) fields on a new entity, as it calls `persist()` under the hood. Only for updates this could work, as it calls `merge()` in those cases. [SimpleJpaRepository](https://github.com/spring-projects/spring-data-jpa/blob/2.7.3/src/main/java/org/springframework/data/jpa/repository/support/SimpleJpaRepository.java#L661)","body":"AFAIK <code>saveAndFlush()</code> does not update (all) fields on a new entity, as it calls <code>persist()</code> under the hood. Only for updates this could work, as it calls <code>merge()</code> in those cases. <a href=\"https://github.com/spring-projects/spring-data-jpa/blob/2.7.3/src/main/java/org/springframework/data/jpa/repository/support/SimpleJpaRepository.java#L661\" rel=\"nofollow noreferrer\">SimpleJpaRepository</a>"},{"owner":{"account_id":26862371,"reputation":1,"user_id":20445631,"display_name":"DUMBLEDHOR"},"score":0,"creation_date":1673279323,"post_id":75058853,"comment_id":132457552,"body_markdown":"@Zorglube I already have defined c_date column with  TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP","body":"@Zorglube I already have defined c_date column with  TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP"},{"owner":{"account_id":7767429,"reputation":674,"user_id":5878215,"display_name":"Zorglube"},"score":0,"creation_date":1673375672,"post_id":75058853,"comment_id":132483225,"body_markdown":"@DUMBLEDHOR: based on @XtremeBaumer you should try to refresh the entity. For that use the EntityManager. `Entity e = saveAndFlush(e); em.refresh(e); e.getTs();`","body":"@DUMBLEDHOR: based on @XtremeBaumer you should try to refresh the entity. For that use the EntityManager. <code>Entity e = saveAndFlush(e); em.refresh(e); e.getTs();</code>"}],"answers":[{"tags":[],"owner":{"account_id":26862571,"reputation":1,"user_id":20445801,"display_name":"HIMANSHU RANJAN"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673502350,"creation_date":1673502298,"answer_id":75092073,"question_id":75058853,"body_markdown":"I tried like this and this is fetching the timestamp. I created an entity class called post. and made API controller and service class for that. Here is the whole code. \r\n\r\n**Post entity class**\r\n```\r\npackage com.project.demo.entity;\r\n\r\nimport java.time.Instant;\r\n\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.Table;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Builder;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n@Entity\r\n@Data\r\n@Builder \r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Table(name = &quot;post&quot;)\r\npublic class Post {\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id; \r\n    private String thePost; \r\n    private Instant creationTime; \r\n}\r\n```\r\n**service class**\r\n```\r\npackage com.project.demo.service;\r\n\r\nimport java.time.Instant;\r\nimport java.util.List;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport com.project.demo.entity.Post;\r\nimport com.project.demo.repository.PostRepository;\r\n\r\nimport jakarta.transaction.Transactional;\r\n\r\n@Service\r\npublic class PostService {\r\n    @Autowired\r\n    private PostRepository postRepository; \r\n\r\n    @Transactional\r\n    public List&lt;Post&gt; getPosts(){\r\n        return postRepository.findAll(); \r\n    }\r\n\r\n    @Transactional\r\n    public void savePost(Post post) {\r\n        post.setCreationTime(Instant.now());\r\n        postRepository.save(post);\r\n    }\r\n}\r\n```\r\n**controller class for rest API**\r\n```\r\npackage com.project.demo.controller;\r\n\r\nimport java.util.List;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.project.demo.entity.Post;\r\nimport com.project.demo.service.PostService;\r\n\r\n@RestController\r\n@RequestMapping\r\npublic class Controller {\r\n    @Autowired\r\n    private PostService postService;\r\n\r\n    @GetMapping(&quot;/posts&quot;)\r\n    public List&lt;Post&gt; getPost() {\r\n        return postService.getPosts();\r\n    }\r\n\r\n    @PostMapping(&quot;/posts&quot;)\r\n    public String savePost(@RequestBody Post post) {\r\n        post.setId(0);\r\n        postService.savePost(post);\r\n        return &quot;Post saved&quot;;\r\n    }\r\n}\r\n```\r\n**application.property**\r\n```\r\nspring.datasource.name=test\r\nspring.datasource.driver-class-name=org.postgresql.Driver\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\r\nspring.jpa.hibernate.ddl-auto=update\r\n\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/stackoverflow\r\nspring.datasource.username=postgres\r\nspring.datasource.password=123\r\nspring.jpa.show-sql=true\r\n```\r\n**The screenshots of fetched data in postman**\r\n\r\n[The screenshot][1]\r\n\r\nHope this helps. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SdAUK.png","title":"Jpa repository saveAndFlush returning timestamps as null","body":"<p>I tried like this and this is fetching the timestamp. I created an entity class called post. and made API controller and service class for that. Here is the whole code.</p>\n<p><strong>Post entity class</strong></p>\n<pre><code>package com.project.demo.entity;\n\nimport java.time.Instant;\n\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Table;\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Entity\n@Data\n@Builder \n@AllArgsConstructor\n@NoArgsConstructor\n@Table(name = &quot;post&quot;)\npublic class Post {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id; \n    private String thePost; \n    private Instant creationTime; \n}\n</code></pre>\n<p><strong>service class</strong></p>\n<pre><code>package com.project.demo.service;\n\nimport java.time.Instant;\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport com.project.demo.entity.Post;\nimport com.project.demo.repository.PostRepository;\n\nimport jakarta.transaction.Transactional;\n\n@Service\npublic class PostService {\n    @Autowired\n    private PostRepository postRepository; \n\n    @Transactional\n    public List&lt;Post&gt; getPosts(){\n        return postRepository.findAll(); \n    }\n\n    @Transactional\n    public void savePost(Post post) {\n        post.setCreationTime(Instant.now());\n        postRepository.save(post);\n    }\n}\n</code></pre>\n<p><strong>controller class for rest API</strong></p>\n<pre><code>package com.project.demo.controller;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.project.demo.entity.Post;\nimport com.project.demo.service.PostService;\n\n@RestController\n@RequestMapping\npublic class Controller {\n    @Autowired\n    private PostService postService;\n\n    @GetMapping(&quot;/posts&quot;)\n    public List&lt;Post&gt; getPost() {\n        return postService.getPosts();\n    }\n\n    @PostMapping(&quot;/posts&quot;)\n    public String savePost(@RequestBody Post post) {\n        post.setId(0);\n        postService.savePost(post);\n        return &quot;Post saved&quot;;\n    }\n}\n</code></pre>\n<p><strong>application.property</strong></p>\n<pre><code>spring.datasource.name=test\nspring.datasource.driver-class-name=org.postgresql.Driver\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\nspring.jpa.hibernate.ddl-auto=update\n\nspring.datasource.url=jdbc:postgresql://localhost:5432/stackoverflow\nspring.datasource.username=postgres\nspring.datasource.password=123\nspring.jpa.show-sql=true\n</code></pre>\n<p><strong>The screenshots of fetched data in postman</strong></p>\n<p><a href=\"https://i.stack.imgur.com/SdAUK.png\" rel=\"nofollow noreferrer\">The screenshot</a></p>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":26862371,"reputation":1,"user_id":20445631,"display_name":"DUMBLEDHOR"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673502350,"creation_date":1673275134,"question_id":75058853,"body_markdown":"I have a entity\r\n\r\n```\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Setter\r\n@Getter\r\n@Entity\r\n@Table(name = &quot;t_org&quot;)\r\npublic class Organization {\r\n\r\n  /**\r\n   * id of the organization.\r\n   */\r\n  @Id\r\n  @GeneratedValue(generator = &quot;UUID&quot;)\r\n  @Column(name = &quot;c_id&quot;, columnDefinition = &quot;BINARY(16) DEFAULT (UUID_TO_BIN(UUID(), TRUE))&quot;)\r\n  private UUID id;\r\n\r\n  /**\r\n   * legal name of the organization.\r\n   */\r\n  @Column(name = &quot;c_legal_name&quot;, nullable = false, unique = true)\r\n  private String legalName;\r\n\r\n  /**\r\n   * alias name of the organization.\r\n   */\r\n  @Column(name = &quot;c_alias&quot;, nullable = false, unique = true)\r\n  private String alias;\r\n\r\n  /**\r\n   * timestamp when the organization was created.\r\n   */\r\n  @Column(name = &quot;c_date&quot;, insertable = false, updatable = false,\r\n      columnDefinition = &quot;TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP&quot;,\r\n      nullable = false)\r\n  private Instant ts;\r\n}\r\n```\r\n\r\nnow when I am saving this entity from service and when I want to access timestamp by calling saveAndFlush(orgObject).getTs();\r\n\r\nTimestamp is always null but I can see it is getting saved in database but jpa not returning it.\r\n\r\nI tried annotating it with @CreationTimestamp but that will set jvm&#39;s timestamp and I want db&#39;s timestamp.","title":"Jpa repository saveAndFlush returning timestamps as null","body":"<p>I have a entity</p>\n<pre><code>@AllArgsConstructor\n@NoArgsConstructor\n@Setter\n@Getter\n@Entity\n@Table(name = &quot;t_org&quot;)\npublic class Organization {\n\n  /**\n   * id of the organization.\n   */\n  @Id\n  @GeneratedValue(generator = &quot;UUID&quot;)\n  @Column(name = &quot;c_id&quot;, columnDefinition = &quot;BINARY(16) DEFAULT (UUID_TO_BIN(UUID(), TRUE))&quot;)\n  private UUID id;\n\n  /**\n   * legal name of the organization.\n   */\n  @Column(name = &quot;c_legal_name&quot;, nullable = false, unique = true)\n  private String legalName;\n\n  /**\n   * alias name of the organization.\n   */\n  @Column(name = &quot;c_alias&quot;, nullable = false, unique = true)\n  private String alias;\n\n  /**\n   * timestamp when the organization was created.\n   */\n  @Column(name = &quot;c_date&quot;, insertable = false, updatable = false,\n      columnDefinition = &quot;TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP&quot;,\n      nullable = false)\n  private Instant ts;\n}\n</code></pre>\n<p>now when I am saving this entity from service and when I want to access timestamp by calling saveAndFlush(orgObject).getTs();</p>\n<p>Timestamp is always null but I can see it is getting saved in database but jpa not returning it.</p>\n<p>I tried annotating it with @CreationTimestamp but that will set jvm's timestamp and I want db's timestamp.</p>\n"},{"tags":["java","jackson","yaml"],"comments":[{"owner":{"account_id":2567170,"reputation":10683,"user_id":3537858,"display_name":"Alexey Gavrilov"},"score":0,"creation_date":1407617139,"post_id":25222327,"comment_id":39287137,"body_markdown":"This does not look like it is well supported. You probably notice this already - https://github.com/FasterXML/jackson-dataformat-yaml/blob/master/src/main/java/com/fasterxml/jackson/dataformat/yaml/YAMLParser.java#L401","body":"This does not look like it is well supported. You probably notice this already - <a href=\"https://github.com/FasterXML/jackson-dataformat-yaml/blob/master/src/main/java/com/fasterxml/jackson/dataformat/yaml/YAMLParser.java#L401\" rel=\"nofollow noreferrer\">github.com/FasterXML/jackson-dataformat-yaml/blob/master/src&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":39694,"reputation":7326,"user_id":114583,"accept_rate":91,"display_name":"Dathan"},"score":0,"creation_date":1407618274,"post_id":25222327,"comment_id":39287410,"body_markdown":"Ah, I hadn&#39;t seen that. Looks like there&#39;s a bug somewhere else in the code, then: the comment on consuming `DocumentEnd` says `do NOT close`, which seems like it ought to terminate parsing, leaving the stream open, and I ought to be able to apply a new object read operation to the stream at that point. )c: Thanks for pointing that out. Want to change your comment to an answer so I can accept?","body":"Ah, I hadn&#39;t seen that. Looks like there&#39;s a bug somewhere else in the code, then: the comment on consuming <code>DocumentEnd</code> says <code>do NOT close</code>, which seems like it ought to terminate parsing, leaving the stream open, and I ought to be able to apply a new object read operation to the stream at that point. )c: Thanks for pointing that out. Want to change your comment to an answer so I can accept?"},{"owner":{"account_id":2567170,"reputation":10683,"user_id":3537858,"display_name":"Alexey Gavrilov"},"score":0,"creation_date":1407618870,"post_id":25222327,"comment_id":39287550,"body_markdown":"I have posted an answer with a sample code and the exception stack trace. I think it might be useful.","body":"I have posted an answer with a sample code and the exception stack trace. I think it might be useful."}],"answers":[{"comments":[{"owner":{"account_id":257968,"reputation":2359,"user_id":539812,"accept_rate":100,"display_name":"alampada"},"score":1,"creation_date":1485181165,"post_id":25223125,"comment_id":70804911,"body_markdown":"The document separator is &quot;---&quot;, not four dashes: http://yaml.org/spec/1.0/#ns-ns-document-start","body":"The document separator is &quot;---&quot;, not four dashes: <a href=\"http://yaml.org/spec/1.0/#ns-ns-document-start\" rel=\"nofollow noreferrer\">yaml.org/spec/1.0/#ns-ns-document-start</a>"}],"tags":[],"owner":{"account_id":2567170,"reputation":10683,"user_id":3537858,"display_name":"Alexey Gavrilov"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1407618797,"creation_date":1407618797,"answer_id":25223125,"question_id":25222327,"body_markdown":"This does not seem to be supported at this point. Here is the link to [the YAMLParser source code][1].\r\n\r\nIf the input YAML contains several documents then Jackson fails. Here is an example:\r\n\r\n    public class JacksonYAML {\r\n        public static final String YAML = &quot;---\\n&quot; +\r\n                &quot;name: Sam\\n&quot; +\r\n                &quot;tags:\\n&quot; +\r\n                &quot;    -   Dev\\n&quot; +\r\n                &quot;    -   Java\\n&quot; +\r\n                &quot;----\\n&quot; +\r\n                &quot;name: Bob\\n&quot; +\r\n                &quot;tags:\\n&quot; +\r\n                &quot;    -   PM&quot;;\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            ObjectMapper mapper = new ObjectMapper(new YAMLFactory());\r\n            System.out.println(mapper.readValue(YAML, Object.class));\r\n        }\r\n    }\r\n\r\nThe exception error points to the second item in the input source:\r\n\r\n    Exception in thread &quot;main&quot; while scanning a simple key\r\n     in &#39;reader&#39;, line 6, column 1:\r\n        ----\r\n        ^\r\n    could not found expected &#39;:&#39;\r\n     in &#39;reader&#39;, line 7, column 1:\r\n        name: Bob\r\n        ^\r\n    \r\n    \tat com.fasterxml.jackson.dataformat.yaml.snakeyaml.scanner.ScannerImpl.stalePossibleSimpleKeys(ScannerImpl.java:465)\r\n    \tat com.fasterxml.jackson.dataformat.yaml.snakeyaml.scanner.ScannerImpl.needMoreTokens(ScannerImpl.java:280)\r\n    \tat com.fasterxml.jackson.dataformat.yaml.snakeyaml.scanner.ScannerImpl.checkToken(ScannerImpl.java:225)\r\n    \tat com.fasterxml.jackson.dataformat.yaml.snakeyaml.parser.ParserImpl$ParseBlockSequenceEntry.produce(ParserImpl.java:502)\r\n    \tat com.fasterxml.jackson.dataformat.yaml.snakeyaml.parser.ParserImpl.peekEvent(ParserImpl.java:158)\r\n    \tat com.fasterxml.jackson.dataformat.yaml.snakeyaml.parser.ParserImpl.getEvent(ParserImpl.java:168)\r\n    \tat com.fasterxml.jackson.dataformat.yaml.YAMLParser.nextToken(YAMLParser.java:331)\r\n    \tat com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializer$Vanilla.mapArray(UntypedObjectDeserializer.java:529)\r\n    \tat com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializer$Vanilla.deserialize(UntypedObjectDeserializer.java:449)\r\n    \tat com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializer$Vanilla.mapObject(UntypedObjectDeserializer.java:572)\r\n    \tat com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializer$Vanilla.deserialize(UntypedObjectDeserializer.java:435)\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:3051)\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:2146)\r\n    \tat stackoverflow.JacksonYAML.main(JacksonYAML.java:26)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:606)\r\n    \tat com.intellij.rt.execution.application.AppMain.main(AppMain.java:134)\r\n\r\n  [1]: https://github.com/FasterXML/jackson-dataformat-yaml/blob/master/src/main/java/com/fasterxml/jackson/dataformat/yaml/YAMLParser.java#L401\r\n","title":"Deserialize POJOs from multiple YAML documents in a single file in Jackson","body":"<p>This does not seem to be supported at this point. Here is the link to <a href=\"https://github.com/FasterXML/jackson-dataformat-yaml/blob/master/src/main/java/com/fasterxml/jackson/dataformat/yaml/YAMLParser.java#L401\" rel=\"nofollow\">the YAMLParser source code</a>.</p>\n\n<p>If the input YAML contains several documents then Jackson fails. Here is an example:</p>\n\n<pre><code>public class JacksonYAML {\n    public static final String YAML = \"---\\n\" +\n            \"name: Sam\\n\" +\n            \"tags:\\n\" +\n            \"    -   Dev\\n\" +\n            \"    -   Java\\n\" +\n            \"----\\n\" +\n            \"name: Bob\\n\" +\n            \"tags:\\n\" +\n            \"    -   PM\";\n\n    public static void main(String[] args) throws IOException {\n        ObjectMapper mapper = new ObjectMapper(new YAMLFactory());\n        System.out.println(mapper.readValue(YAML, Object.class));\n    }\n}\n</code></pre>\n\n<p>The exception error points to the second item in the input source:</p>\n\n<pre><code>Exception in thread \"main\" while scanning a simple key\n in 'reader', line 6, column 1:\n    ----\n    ^\ncould not found expected ':'\n in 'reader', line 7, column 1:\n    name: Bob\n    ^\n\n    at com.fasterxml.jackson.dataformat.yaml.snakeyaml.scanner.ScannerImpl.stalePossibleSimpleKeys(ScannerImpl.java:465)\n    at com.fasterxml.jackson.dataformat.yaml.snakeyaml.scanner.ScannerImpl.needMoreTokens(ScannerImpl.java:280)\n    at com.fasterxml.jackson.dataformat.yaml.snakeyaml.scanner.ScannerImpl.checkToken(ScannerImpl.java:225)\n    at com.fasterxml.jackson.dataformat.yaml.snakeyaml.parser.ParserImpl$ParseBlockSequenceEntry.produce(ParserImpl.java:502)\n    at com.fasterxml.jackson.dataformat.yaml.snakeyaml.parser.ParserImpl.peekEvent(ParserImpl.java:158)\n    at com.fasterxml.jackson.dataformat.yaml.snakeyaml.parser.ParserImpl.getEvent(ParserImpl.java:168)\n    at com.fasterxml.jackson.dataformat.yaml.YAMLParser.nextToken(YAMLParser.java:331)\n    at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializer$Vanilla.mapArray(UntypedObjectDeserializer.java:529)\n    at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializer$Vanilla.deserialize(UntypedObjectDeserializer.java:449)\n    at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializer$Vanilla.mapObject(UntypedObjectDeserializer.java:572)\n    at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializer$Vanilla.deserialize(UntypedObjectDeserializer.java:435)\n    at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:3051)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:2146)\n    at stackoverflow.JacksonYAML.main(JacksonYAML.java:26)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:134)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":39694,"reputation":7326,"user_id":114583,"accept_rate":91,"display_name":"Dathan"},"score":0,"creation_date":1455644181,"post_id":35433558,"comment_id":58576452,"body_markdown":"Thanks! Unfortunately I&#39;ve moved on from that project (and to a new job where I don&#39;t use Java at all, so far), so I can&#39;t use this. But it is exactly what I wanted.","body":"Thanks! Unfortunately I&#39;ve moved on from that project (and to a new job where I don&#39;t use Java at all, so far), so I can&#39;t use this. But it is exactly what I wanted."},{"owner":{"account_id":2826196,"reputation":687,"user_id":2428804,"display_name":"user2428804"},"score":0,"creation_date":1455703710,"post_id":35433558,"comment_id":58603783,"body_markdown":"Your question is first when you ask google about reading multiple documents by Jackson. This problem is still valid, hope it will help somebody else ;-).","body":"Your question is first when you ask google about reading multiple documents by Jackson. This problem is still valid, hope it will help somebody else ;-)."},{"owner":{"account_id":39694,"reputation":7326,"user_id":114583,"accept_rate":91,"display_name":"Dathan"},"score":0,"creation_date":1455743895,"post_id":35433558,"comment_id":58631417,"body_markdown":"Yep - and that&#39;s exactly why I un-accepted the previously-accepted answer and accepted yours, so it&#39;ll show up first. Yay for curation!","body":"Yep - and that&#39;s exactly why I un-accepted the previously-accepted answer and accepted yours, so it&#39;ll show up first. Yay for curation!"}],"tags":[],"owner":{"account_id":2826196,"reputation":687,"user_id":2428804,"display_name":"user2428804"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1455703471,"creation_date":1455628285,"answer_id":35433558,"question_id":25222327,"body_markdown":"You can use directly SnakeYaml (Jackson YAML parser is using it internally):\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    try (InputStream input = new FileInputStream(file)) {\r\n        Yaml yaml = new Yaml(new SafeConstructor());\r\n        yaml.loadAll(input).forEach( System.out::println );\r\n    } catch (Throwable e) {\r\n        System.out.println(&quot;ERROR: &quot; + e.getMessage());\r\n    }\r\n\r\nWill Produce:\r\n\r\n    {name=Sam, tags=[Dev, Java]}\r\n    {name=Bob, tags=[PM]}","title":"Deserialize POJOs from multiple YAML documents in a single file in Jackson","body":"<p>You can use directly SnakeYaml (Jackson YAML parser is using it internally):\n</p>\n\n<pre><code>try (InputStream input = new FileInputStream(file)) {\n    Yaml yaml = new Yaml(new SafeConstructor());\n    yaml.loadAll(input).forEach( System.out::println );\n} catch (Throwable e) {\n    System.out.println(\"ERROR: \" + e.getMessage());\n}\n</code></pre>\n\n<p>Will Produce:</p>\n\n<pre><code>{name=Sam, tags=[Dev, Java]}\n{name=Bob, tags=[PM]}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":39694,"reputation":7326,"user_id":114583,"accept_rate":91,"display_name":"Dathan"},"score":2,"creation_date":1521670950,"post_id":49413921,"comment_id":85836779,"body_markdown":"Nice! That&#39;s exactly what I wanted when I asked the question, though I regret to say that it&#39;s no longer useful to me as I mostly don&#39;t work in Java these days. I&#39;ve unaccepted the previous answer to accept yours instead -- hopefully that&#39;ll help anyone who shows up here find the right way forward.","body":"Nice! That&#39;s exactly what I wanted when I asked the question, though I regret to say that it&#39;s no longer useful to me as I mostly don&#39;t work in Java these days. I&#39;ve unaccepted the previous answer to accept yours instead -- hopefully that&#39;ll help anyone who shows up here find the right way forward."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1524476780,"post_id":49413921,"comment_id":86971970,"body_markdown":"Thanks for answering even though this was years later, and thanks Dathan for accepting, because only a few weeks later this has already helped me out. :)","body":"Thanks for answering even though this was years later, and thanks Dathan for accepting, because only a few weeks later this has already helped me out. :)"},{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1601074873,"post_id":49413921,"comment_id":113301783,"body_markdown":"Note that this feature is not yet properly documented: https://github.com/FasterXML/jackson-dataformats-text/issues/133","body":"Note that this feature is not yet properly documented: <a href=\"https://github.com/FasterXML/jackson-dataformats-text/issues/133\" rel=\"nofollow noreferrer\">github.com/FasterXML/jackson-dataformats-text/issues/133</a>"},{"owner":{"account_id":5002392,"reputation":464,"user_id":4599129,"display_name":"leo"},"score":0,"creation_date":1660176923,"post_id":49413921,"comment_id":129473993,"body_markdown":"I feel the SnakeYaml metioned below is a better solution to load multiple documentations. However, if you prefer to use the Jackson lib, the solution here can help, but not very clear. The key point here is to concat multiple yaml files into a sequence (string or inputStream, but must be a valid yaml format) to create the yamlParser. The mappingIterator may help, but not necessary. \n``` final SequenceInputStream sis = new SequenceInputStream(is1, is2);\n        final InputStreamReader isr = new InputStreamReader(sis);\n        final YAMLParser yamlParser = yamlFactory.createParser(isr);\n```","body":"I feel the SnakeYaml metioned below is a better solution to load multiple documentations. However, if you prefer to use the Jackson lib, the solution here can help, but not very clear. The key point here is to concat multiple yaml files into a sequence (string or inputStream, but must be a valid yaml format) to create the yamlParser. The mappingIterator may help, but not necessary.  ``` final SequenceInputStream sis = new SequenceInputStream(is1, is2);         final InputStreamReader isr = new InputStreamReader(sis);         final YAMLParser yamlParser = yamlFactory.createParser(isr); ```"}],"tags":[],"owner":{"account_id":172182,"reputation":4913,"user_id":400048,"accept_rate":96,"display_name":"zcourts"},"comment_count":4,"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1673502173,"creation_date":1521656435,"answer_id":49413921,"question_id":25222327,"body_markdown":"This is years later but it&#39;s worth pointing out that this is supported.\r\nThe Jackson semantics are slightly different, probably due to it&#39;s JSON origins. This can be achieved by using the [`MappingIterator`][1] from `ObjectMapper`.\r\n\r\n    YAMLFactory yamlFactory;\r\n    ObjectMapper mapper;\r\n    \r\n    YAMLParser yamlParser = yamlFactory.createParser(&quot;file-with-multiple-docs.yaml&quot;)\r\n    List&lt;ObjectNode&gt; docs = mapper\r\n          .readValues(yamlParser, new TypeReference&lt;ObjectNode&gt;(){})\r\n          .readAll();\r\n\r\n\r\nReplace `ObjectNode` with your own POJOs if desired.\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson-dataformats-text/issues/66#issuecomment-357794557","title":"Deserialize POJOs from multiple YAML documents in a single file in Jackson","body":"<p>This is years later but it's worth pointing out that this is supported.\nThe Jackson semantics are slightly different, probably due to it's JSON origins. This can be achieved by using the <a href=\"https://github.com/FasterXML/jackson-dataformats-text/issues/66#issuecomment-357794557\" rel=\"noreferrer\"><code>MappingIterator</code></a> from <code>ObjectMapper</code>.</p>\n<pre><code>YAMLFactory yamlFactory;\nObjectMapper mapper;\n\nYAMLParser yamlParser = yamlFactory.createParser(&quot;file-with-multiple-docs.yaml&quot;)\nList&lt;ObjectNode&gt; docs = mapper\n      .readValues(yamlParser, new TypeReference&lt;ObjectNode&gt;(){})\n      .readAll();\n</code></pre>\n<p>Replace <code>ObjectNode</code> with your own POJOs if desired.</p>\n"}],"owner":{"account_id":39694,"reputation":7326,"user_id":114583,"accept_rate":91,"display_name":"Dathan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8739,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":49413921,"answer_count":3,"score":16,"last_activity_date":1673502173,"creation_date":1407613088,"question_id":25222327,"body_markdown":"I have a YAML file that looks something like this:\r\n\r\n    ---\r\n    name: Sam\r\n    tags:\r\n        -   Dev\r\n        -   Java\r\n    ----\r\n    name: Bob\r\n    tags:\r\n        -   PM\r\n\r\nI&#39;d like to use Jackson to deserialize all documents from the file, but I don&#39;t see a way to use a normal `ObjectMapper` to do it. &lt;del&gt;If I use the `YAMLFactory` to create a parser for my file I can step through all tokens, so the parser is obviously capable of dealing with multiple documents - but how do I tie them together?&lt;/del&gt; Looks like the parser created by my YAMLFactory only parses a single document out of the file.\r\n\r\nI&#39;ve also tried creating a YAMLParser directly and using `ObjectMapper#readValue(JsonParser, Class)`, but the ObjectMapper exhausts the entire YAMLParser to deserialize a single instance.\r\n","title":"Deserialize POJOs from multiple YAML documents in a single file in Jackson","body":"<p>I have a YAML file that looks something like this:</p>\n\n<pre><code>---\nname: Sam\ntags:\n    -   Dev\n    -   Java\n----\nname: Bob\ntags:\n    -   PM\n</code></pre>\n\n<p>I'd like to use Jackson to deserialize all documents from the file, but I don't see a way to use a normal <code>ObjectMapper</code> to do it. <del>If I use the <code>YAMLFactory</code> to create a parser for my file I can step through all tokens, so the parser is obviously capable of dealing with multiple documents - but how do I tie them together?</del> Looks like the parser created by my YAMLFactory only parses a single document out of the file.</p>\n\n<p>I've also tried creating a YAMLParser directly and using <code>ObjectMapper#readValue(JsonParser, Class)</code>, but the ObjectMapper exhausts the entire YAMLParser to deserialize a single instance.</p>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":1014852,"reputation":16091,"user_id":1026645,"accept_rate":39,"display_name":"ssantos"},"score":0,"creation_date":1379952882,"post_id":18963922,"comment_id":28008554,"body_markdown":"Which line is `KeyFileManager.java:76`?","body":"Which line is <code>KeyFileManager.java:76</code>?"}],"answers":[{"comments":[{"owner":{"account_id":3321042,"reputation":159,"user_id":2792228,"accept_rate":40,"display_name":"Otacon Rex"},"score":0,"creation_date":1379962282,"post_id":18964664,"comment_id":28013254,"body_markdown":"the problem is this is not going  to work in activity at all, it is going to work as a thread in other class, the think is use the string.xml file but after i look a little, i concluded that is bad idea to work that way because a change of language in the device could make the library get confused about the file names and make the app crash, that is why i will discard this way of work, and use constans for do what i really need, finally i understand that i cant extends from activity class for use the resources to many thinks to control","body":"the problem is this is not going  to work in activity at all, it is going to work as a thread in other class, the think is use the string.xml file but after i look a little, i concluded that is bad idea to work that way because a change of language in the device could make the library get confused about the file names and make the app crash, that is why i will discard this way of work, and use constans for do what i really need, finally i understand that i cant extends from activity class for use the resources to many thinks to control"}],"tags":[],"owner":{"account_id":27071,"reputation":11482,"user_id":71034,"display_name":"Dan Breslau"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1379958356,"creation_date":1379954962,"answer_id":18964664,"question_id":18963922,"body_markdown":"I think the problem -- or at least part of it -- is that you&#39;re trying to call `this.getResources()` during your Activity&#39;s constructor, as shown by this line in the stack trace:\r\n\r\n    09-14 02:41:25.753: E/AndroidRuntime(23748):    at com.idyseg.movilsecure.MSMasterControler.&lt;init&gt;(MSMasterControler.java:34)\r\n\r\nAs far as I know, the Resources are not available until the Activity&#39;s `onCreate` method has been called. Try moving the call to `createCertificateLogTxt` to your Activity&#39;s `onCreate` method.\r\n\r\nAlso, if you defined the `KeyFileManager` class as an Activity just so that you could invoke `getResources` on it, then that&#39;s also part of the problem: If it&#39;s not being _used_ as an Activity (that is, if it doesn&#39;t use the standard Activity lifecyle methods), then once again the Resources won&#39;t be available through this class. In this case, you want to modify `KeyFileManager.createCertificateLogTxt()` to pass the main Activity&#39;s Context as a parameter:\r\n\r\n    KeyFileManager.createCertificateLogTxt(Context context) {\r\n       //....\r\n                  Log.i(LOGFILE, &quot;certificadoLog.txt Creado&quot;+ context.getResources().getString(R.string.app_name));\r\n    }\r\n\r\n\r\nAnd by the way: although it&#39;s not important, this line:\r\n\r\n            Log.e(LOGFILE, &quot;No se puede crear certificadoLog.txt&quot;+ R.string.LOGFILE, e);\r\n\r\nlooks suspicious to me; don&#39;t you want something like this?\r\n\r\n            Log.e(LOGFILE, &quot;No se puede crear certificadoLog.txt &quot; + getString(R.string.LOGFILE), e);\r\n","title":"string.xml in Android library","body":"<p>I think the problem -- or at least part of it -- is that you're trying to call <code>this.getResources()</code> during your Activity's constructor, as shown by this line in the stack trace:</p>\n\n<pre><code>09-14 02:41:25.753: E/AndroidRuntime(23748):    at com.idyseg.movilsecure.MSMasterControler.&lt;init&gt;(MSMasterControler.java:34)\n</code></pre>\n\n<p>As far as I know, the Resources are not available until the Activity's <code>onCreate</code> method has been called. Try moving the call to <code>createCertificateLogTxt</code> to your Activity's <code>onCreate</code> method.</p>\n\n<p>Also, if you defined the <code>KeyFileManager</code> class as an Activity just so that you could invoke <code>getResources</code> on it, then that's also part of the problem: If it's not being <em>used</em> as an Activity (that is, if it doesn't use the standard Activity lifecyle methods), then once again the Resources won't be available through this class. In this case, you want to modify <code>KeyFileManager.createCertificateLogTxt()</code> to pass the main Activity's Context as a parameter:</p>\n\n<pre><code>KeyFileManager.createCertificateLogTxt(Context context) {\n   //....\n              Log.i(LOGFILE, \"certificadoLog.txt Creado\"+ context.getResources().getString(R.string.app_name));\n}\n</code></pre>\n\n<p>And by the way: although it's not important, this line:</p>\n\n<pre><code>        Log.e(LOGFILE, \"No se puede crear certificadoLog.txt\"+ R.string.LOGFILE, e);\n</code></pre>\n\n<p>looks suspicious to me; don't you want something like this?</p>\n\n<pre><code>        Log.e(LOGFILE, \"No se puede crear certificadoLog.txt \" + getString(R.string.LOGFILE), e);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11383064,"reputation":494,"user_id":8345451,"display_name":"Divya Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673502067,"creation_date":1673499967,"answer_id":75091834,"question_id":18963922,"body_markdown":"I know this question has been asked few years back, but recently due to advancements in Android Studio, I found a more feasible solution. \r\n\r\nWhen creating module, most of the time, we forget to update manifest of module, since we rarely use it when there is no `&lt;activity&gt;` present in our module for our use case. But, if we want to use a resource file like `strings.xml or drawables`, we need to define package in our Manifest, otherwise, we cannot use any resources in `res` directory of the module.\r\n\r\nLike this,\r\n\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.example.yourpackagename&quot;&gt;      &lt;!-- this line --&gt;\r\n    \r\n    &lt;/manifest&gt;\r\n\r\n","title":"string.xml in Android library","body":"<p>I know this question has been asked few years back, but recently due to advancements in Android Studio, I found a more feasible solution.</p>\n<p>When creating module, most of the time, we forget to update manifest of module, since we rarely use it when there is no <code>&lt;activity&gt;</code> present in our module for our use case. But, if we want to use a resource file like <code>strings.xml or drawables</code>, we need to define package in our Manifest, otherwise, we cannot use any resources in <code>res</code> directory of the module.</p>\n<p>Like this,</p>\n<pre><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.example.yourpackagename&quot;&gt;      &lt;!-- this line --&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n"}],"owner":{"account_id":3321042,"reputation":159,"user_id":2792228,"accept_rate":40,"display_name":"Otacon Rex"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1673502067,"creation_date":1379952441,"question_id":18963922,"body_markdown":"I am working in a library for android apps, and I am trying to use the string.xml to put some message in key points for the users.\r\n\r\nMy problem is when I test the library in an android testing app to see the workflow and reach the point where am I displaying a message (in this case in the logs) that occurs a fatal error and the app crash.\r\n\r\nI am thinking that collide with the `string.xml` from the testing app and overwrite the `string.xml` that I have in the library. Can this be solved in some way or I have forcibly use the testing app string.xml to workout with the library?? \r\n\r\nDo i have to make my class extends from Activity for use getResources()? or is any other way to get access to string.xml, I will leave the code and the logs.\r\n\r\nCode\r\n\r\n    public void createCertificateLogTxt(){\r\n\t\tFile certificado = new File (this.KeyFolderContainer.getAbsoluteFile(),&quot;certificadoLog.txt&quot;);\r\n\t\tif(!certificado.exists()){\r\n\t\t\ttry {\r\n\t\t\t\tcertificado.createNewFile();\r\n\t\t\t\tthis.CertificadoLog = certificado;\r\n\t\t\t\tLog.i(LOGFILE, &quot;certificadoLog.txt Creado&quot;+ this.getResources().getString(R.string.app_name));\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\tLog.e(LOGFILE, &quot;No se puede crear certificadoLog.txt&quot;+ R.string.LOGFILE, e);\r\n\t\t\t}\r\n\t\t}\r\n\r\nLogs \r\n\r\n    09-14 02:41:24.032: I/Choreographer(23748): Skipped 105 frames!  The application may be doing too much work on its main thread.\r\n    09-14 02:41:25.593: D/AndroidRuntime(23748): Shutting down VM\r\n    09-14 02:41:25.593: W/dalvikvm(23748): threadid=1: thread exiting with uncaught exception (group=0x414c4700)\r\n    09-14 02:41:25.753: E/AndroidRuntime(23748): FATAL EXCEPTION: main\r\n    09-14 02:41:25.753: E/AndroidRuntime(23748): java.lang.IllegalStateException: Could not execute method of the activity\r\n    09-14 02:41:25.753: E/AndroidRuntime(23748): \tat android.view.View$1.onClick(View.java:3633)\r\n    09-14 02:41:25.753: E/AndroidRuntime(23748): \tat android.view.View.performClick(View.java:4240)\r\n    09-14 02:41:25.753: E/AndroidRuntime(23748): \tat android.view.View$PerformClick.run(View.java:17721)\r\n    09-14 02:41:25.753: E/AndroidRuntime(23748): \tat android.os.Handler.handleCallback(Handler.java:730)\r\n    09-14 02:41:25.753: E/AndroidRuntime(23748): \tat android.os.Handler.dispatchMessage(Handler.java:92)\r\n    09-14 02:41:25.753: E/AndroidRuntime(23748): \tat android.os.Looper.loop(Looper.java:137)\r\n    09-14 02:41:25.753: E/AndroidRuntime(23748): \tat android.app.ActivityThread.main(ActivityThread.java:5103)\r\n    09-14 02:41:25.753: E/AndroidRuntime(23748): \tat java.lang.reflect.Method.invokeNative(Native Method)\r\n    09-14 02:41:25.753: E/AndroidRuntime(23748): \tat java.lang.reflect.Method.invoke(Method.java:525)\r\n    09-14 02:41:25.753: E/AndroidRuntime(23748): \tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:737)\r\n    09-14 02:41:25.753: E/AndroidRuntime(23748): \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)\r\n    09-14 02:41:25.753: E/AndroidRuntime(23748): \tat dalvik.system.NativeStart.main(Native Method)\r\n    09-14 02:41:25.753: E/AndroidRuntime(23748): Caused by: java.lang.reflect.InvocationTargetException\r\n    09-14 02:41:25.753: E/AndroidRuntime(23748): \tat java.lang.reflect.Method.invokeNative(Native Method)\r\n    09-14 02:41:25.753: E/AndroidRuntime(23748): \tat java.lang.reflect.Method.invoke(Method.java:525)\r\n    09-14 02:41:25.753: E/AndroidRuntime(23748): \tat android.view.View$1.onClick(View.java:3628)\r\n    09-14 02:41:25.753: E/AndroidRuntime(23748): \t... 11 more\r\n    09-14 02:41:25.753: E/AndroidRuntime(23748): Caused by: java.lang.NullPointerException\r\n    09-14 02:41:25.753: E/AndroidRuntime(23748): \tat android.content.ContextWrapper.getResources(ContextWrapper.java:89)\r\n    09-14 02:41:25.753: E/AndroidRuntime(23748): \tat android.view.ContextThemeWrapper.getResources(ContextThemeWrapper.java:78)\r\n    09-14 02:41:25.753: E/AndroidRuntime(23748): \tat com.idyseg.movilsecure.files.KeyFileManager.createCertificateLogTxt(KeyFileManager.java:76)\r\n    09-14 02:41:25.753: E/AndroidRuntime(23748): \tat com.idyseg.movilsecure.MSMasterControler.&lt;init&gt;(MSMasterControler.java:34)\r\n    09-14 02:41:25.753: E/AndroidRuntime(23748): \tat com.idyseg.librerytester.MainActivity.Conector(MainActivity.java:33)\r\n    09-14 02:41:25.753: E/AndroidRuntime(23748): \t... 14 more\r\n    09-14 02:41:28.253: I/Process(23748): Sending signal. PID: 23748 SIG: 9\r\n","title":"string.xml in Android library","body":"<p>I am working in a library for android apps, and I am trying to use the string.xml to put some message in key points for the users.</p>\n\n<p>My problem is when I test the library in an android testing app to see the workflow and reach the point where am I displaying a message (in this case in the logs) that occurs a fatal error and the app crash.</p>\n\n<p>I am thinking that collide with the <code>string.xml</code> from the testing app and overwrite the <code>string.xml</code> that I have in the library. Can this be solved in some way or I have forcibly use the testing app string.xml to workout with the library?? </p>\n\n<p>Do i have to make my class extends from Activity for use getResources()? or is any other way to get access to string.xml, I will leave the code and the logs.</p>\n\n<p>Code</p>\n\n<pre><code>public void createCertificateLogTxt(){\n    File certificado = new File (this.KeyFolderContainer.getAbsoluteFile(),\"certificadoLog.txt\");\n    if(!certificado.exists()){\n        try {\n            certificado.createNewFile();\n            this.CertificadoLog = certificado;\n            Log.i(LOGFILE, \"certificadoLog.txt Creado\"+ this.getResources().getString(R.string.app_name));\n        } catch (IOException e) {\n            Log.e(LOGFILE, \"No se puede crear certificadoLog.txt\"+ R.string.LOGFILE, e);\n        }\n    }\n</code></pre>\n\n<p>Logs </p>\n\n<pre><code>09-14 02:41:24.032: I/Choreographer(23748): Skipped 105 frames!  The application may be doing too much work on its main thread.\n09-14 02:41:25.593: D/AndroidRuntime(23748): Shutting down VM\n09-14 02:41:25.593: W/dalvikvm(23748): threadid=1: thread exiting with uncaught exception (group=0x414c4700)\n09-14 02:41:25.753: E/AndroidRuntime(23748): FATAL EXCEPTION: main\n09-14 02:41:25.753: E/AndroidRuntime(23748): java.lang.IllegalStateException: Could not execute method of the activity\n09-14 02:41:25.753: E/AndroidRuntime(23748):    at android.view.View$1.onClick(View.java:3633)\n09-14 02:41:25.753: E/AndroidRuntime(23748):    at android.view.View.performClick(View.java:4240)\n09-14 02:41:25.753: E/AndroidRuntime(23748):    at android.view.View$PerformClick.run(View.java:17721)\n09-14 02:41:25.753: E/AndroidRuntime(23748):    at android.os.Handler.handleCallback(Handler.java:730)\n09-14 02:41:25.753: E/AndroidRuntime(23748):    at android.os.Handler.dispatchMessage(Handler.java:92)\n09-14 02:41:25.753: E/AndroidRuntime(23748):    at android.os.Looper.loop(Looper.java:137)\n09-14 02:41:25.753: E/AndroidRuntime(23748):    at android.app.ActivityThread.main(ActivityThread.java:5103)\n09-14 02:41:25.753: E/AndroidRuntime(23748):    at java.lang.reflect.Method.invokeNative(Native Method)\n09-14 02:41:25.753: E/AndroidRuntime(23748):    at java.lang.reflect.Method.invoke(Method.java:525)\n09-14 02:41:25.753: E/AndroidRuntime(23748):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:737)\n09-14 02:41:25.753: E/AndroidRuntime(23748):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)\n09-14 02:41:25.753: E/AndroidRuntime(23748):    at dalvik.system.NativeStart.main(Native Method)\n09-14 02:41:25.753: E/AndroidRuntime(23748): Caused by: java.lang.reflect.InvocationTargetException\n09-14 02:41:25.753: E/AndroidRuntime(23748):    at java.lang.reflect.Method.invokeNative(Native Method)\n09-14 02:41:25.753: E/AndroidRuntime(23748):    at java.lang.reflect.Method.invoke(Method.java:525)\n09-14 02:41:25.753: E/AndroidRuntime(23748):    at android.view.View$1.onClick(View.java:3628)\n09-14 02:41:25.753: E/AndroidRuntime(23748):    ... 11 more\n09-14 02:41:25.753: E/AndroidRuntime(23748): Caused by: java.lang.NullPointerException\n09-14 02:41:25.753: E/AndroidRuntime(23748):    at android.content.ContextWrapper.getResources(ContextWrapper.java:89)\n09-14 02:41:25.753: E/AndroidRuntime(23748):    at android.view.ContextThemeWrapper.getResources(ContextThemeWrapper.java:78)\n09-14 02:41:25.753: E/AndroidRuntime(23748):    at com.idyseg.movilsecure.files.KeyFileManager.createCertificateLogTxt(KeyFileManager.java:76)\n09-14 02:41:25.753: E/AndroidRuntime(23748):    at com.idyseg.movilsecure.MSMasterControler.&lt;init&gt;(MSMasterControler.java:34)\n09-14 02:41:25.753: E/AndroidRuntime(23748):    at com.idyseg.librerytester.MainActivity.Conector(MainActivity.java:33)\n09-14 02:41:25.753: E/AndroidRuntime(23748):    ... 14 more\n09-14 02:41:28.253: I/Process(23748): Sending signal. PID: 23748 SIG: 9\n</code></pre>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":3,"creation_date":1673498589,"post_id":75091675,"comment_id":132514059,"body_markdown":"You&#39;ve nested your upper case check inside your lower case check.  Which means you&#39;re only ever checking for upper case letters if you already know they&#39;re lower case.  You need to insert a `}` character to close off the lower case check before you do your upper case check.","body":"You&#39;ve nested your upper case check inside your lower case check.  Which means you&#39;re only ever checking for upper case letters if you already know they&#39;re lower case.  You need to insert a <code>}</code> character to close off the lower case check before you do your upper case check."},{"owner":{"account_id":25836061,"reputation":3,"user_id":19572458,"display_name":"Rustam Abdiyev"},"score":0,"creation_date":1673498975,"post_id":75091675,"comment_id":132514119,"body_markdown":"I have checked that one too but the code still fails.","body":"I have checked that one too but the code still fails."}],"answers":[{"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1673499210,"post_id":75091717,"comment_id":132514147,"body_markdown":"Can we discuess the issues with [`StringBuffer`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/StringBuffer.html) and the fact that even the JavaDocs recommend `StringBuilder` in a single threaded environment - just saying","body":"Can we discuess the issues with <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/StringBuffer.html\" rel=\"nofollow noreferrer\"><code>StringBuffer</code></a> and the fact that even the JavaDocs recommend <code>StringBuilder</code> in a single threaded environment - just saying"}],"tags":[],"owner":{"account_id":26131331,"reputation":118,"user_id":19822001,"display_name":"YOGENDRA SINGH"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673498841,"creation_date":1673498841,"answer_id":75091717,"question_id":75091675,"body_markdown":"Convert using predefine method try this\r\n```\r\nstatic void convertOpposite(StringBuffer str)\r\n    {\r\n        int ln = str.length();\r\n \r\n        // Conversion using predefined methods\r\n        for (int i = 0; i &lt; ln; i++) {\r\n            Character c = str.charAt(i);\r\n            if (Character.isLowerCase(c))\r\n                str.replace(i, i + 1,\r\n                            Character.toUpperCase(c) + &quot;&quot;);\r\n            else\r\n                str.replace(i, i + 1,\r\n                            Character.toLowerCase(c) + &quot;&quot;);\r\n        }\r\n    }\r\n\r\npublic static void main(String[] args)\r\n    {\r\n        StringBuffer str = new StringBuffer(&quot;asasDAaQWADa&quot;);\r\n        convertOpposite(str);\r\n \r\n        System.out.println(str);\r\n    }\r\n```\r\nDont take extra variable it will convert by replace character.","title":"Trying To convert String to lower/upper case respectively","body":"<p>Convert using predefine method try this</p>\n<pre><code>static void convertOpposite(StringBuffer str)\n    {\n        int ln = str.length();\n \n        // Conversion using predefined methods\n        for (int i = 0; i &lt; ln; i++) {\n            Character c = str.charAt(i);\n            if (Character.isLowerCase(c))\n                str.replace(i, i + 1,\n                            Character.toUpperCase(c) + &quot;&quot;);\n            else\n                str.replace(i, i + 1,\n                            Character.toLowerCase(c) + &quot;&quot;);\n        }\n    }\n\npublic static void main(String[] args)\n    {\n        StringBuffer str = new StringBuffer(&quot;asasDAaQWADa&quot;);\n        convertOpposite(str);\n \n        System.out.println(str);\n    }\n</code></pre>\n<p>Dont take extra variable it will convert by replace character.</p>\n"},{"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1673499783,"post_id":75091789,"comment_id":132514245,"body_markdown":"What&#39;s the reason for the casts?","body":"What&#39;s the reason for the casts?"}],"tags":[],"owner":{"account_id":27303905,"reputation":41,"user_id":20820178,"display_name":"Tarun reddy"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673501544,"creation_date":1673499530,"answer_id":75091789,"question_id":75091675,"body_markdown":"    import java.util.*;\r\n    public class Main\r\n    {\r\n    \tpublic static void main(String[] args) {\r\n    \t    Scanner sc=new Scanner(System.in);\r\n    \t\tString a=sc.nextLine();\r\n    \t\tString res=&quot;&quot;;\r\n    \t\tfor(int i=0;i&lt;a.length();i++){\r\n    \t\t    if(Character.isLowerCase(a.charAt(i))){\r\n    \t\t        res=res+Character.toUpperCase(a.charAt(i)));\r\n    \t\t    }\r\n    \t\t    else{\r\n    \t\t        res=res+Character.toLowerCase(a.charAt(i)));\r\n    \t\t    }\r\n    \t\t}\r\n    \t\tSystem.out.println(res);\r\n    \t}\r\n    }","title":"Trying To convert String to lower/upper case respectively","body":"<pre><code>import java.util.*;\npublic class Main\n{\n    public static void main(String[] args) {\n        Scanner sc=new Scanner(System.in);\n        String a=sc.nextLine();\n        String res=&quot;&quot;;\n        for(int i=0;i&lt;a.length();i++){\n            if(Character.isLowerCase(a.charAt(i))){\n                res=res+Character.toUpperCase(a.charAt(i)));\n            }\n            else{\n                res=res+Character.toLowerCase(a.charAt(i)));\n            }\n        }\n        System.out.println(res);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":25836061,"reputation":3,"user_id":19572458,"display_name":"Rustam Abdiyev"},"score":0,"creation_date":1673525799,"post_id":75091862,"comment_id":132521615,"body_markdown":"Thank you so much for the clarification. Your code is much clear and lesser than mine.","body":"Thank you so much for the clarification. Your code is much clear and lesser than mine."}],"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673500195,"creation_date":1673500195,"answer_id":75091862,"question_id":75091675,"body_markdown":"So, your basic problem is in your logic (I know, obvious right)\r\n\r\n    if (Character.isLetter(c)) {\r\n        if (Character.isLowerCase(c)) {\r\n            output += Character.toUpperCase(c);\r\n            if (Character.isUpperCase(c)) {\r\n                output += Character.toLowerCase(c);\r\n            } else {\r\n                output += c;\r\n            }\r\n        }\r\n    }\r\n\r\n* if `c` is not a letter ... do nothing &#128563;\r\n* else if `c` is lower case, append upper cased `c`. Now this is where is gets interesting, if `c` is upper case, which it can&#39;t be since we know it&#39;s lower case, append (the original) `c` to output ... again &#128563;\r\n\r\nThis is where doing &quot;desk checking&quot; (ie, layout your variables and walking through your code by hand and writing down what&#39;s going) is so very powerful.\r\n\r\nWhat you probably mean to do, is something more like...\r\n\r\n    if (Character.isLetter(c)) {\r\n        if (Character.isLowerCase(c)) {\r\n            output += Character.toUpperCase(c);\r\n        } else if (Character.isUpperCase(c)) {\r\n            output += Character.toLowerCase(c);\r\n        }\r\n    } else {\r\n        output += c;\r\n    }\r\n\r\nAlthough you probably don&#39;t &quot;really&quot; need the `isLetter` check (I mean, what is upper/lower case `1` anyway &#129335;).\r\n\r\nThis would make your method look more like...\r\n\r\n    public static String toAlternativeString(String string) {\r\n        String output = &quot;&quot;;\r\n        for (int i = 0; i &lt; string.length(); i++) {\r\n            char c = string.charAt(i);\r\n            if (Character.isLetter(c)) {\r\n                if (Character.isLowerCase(c)) {\r\n                    output += Character.toUpperCase(c);\r\n                } else if (Character.isUpperCase(c)) {\r\n                    output += Character.toLowerCase(c);\r\n                }\r\n            } else {\r\n                output += c;\r\n            }\r\n        }\r\n        return output;\r\n    }\r\n\r\nNow, before any one jumps down my throat over the poor performance of `String` concatenation, I know, but I don&#39;t really think that&#39;s the point of the question\r\n\r\nBut just in case...\r\n\r\n    public static String toAlternativeString(String string) {\r\n        StringBuilder sb = new StringBuilder(string.length());\r\n        for (char c : string.toCharArray()) {\r\n            if (Character.isUpperCase(c)) {\r\n                sb.append(Character.toLowerCase(c));\r\n            } else {\r\n                sb.append(Character.toUpperCase(c));\r\n            }\r\n        }\r\n        return sb.toString();\r\n    }\r\n\r\n`StringBuilder` is &quot;generally&quot; a better solution if you want to do `String` concatenation in Java, but this might be some what of a over kill for this example.\r\n\r\nSo, taking an input like `Elmar DidOkLTWdeee 123456` the above methods will output `eLMAR dIDoKltwDEEE 123456`","title":"Trying To convert String to lower/upper case respectively","body":"<p>So, your basic problem is in your logic (I know, obvious right)</p>\n<pre><code>if (Character.isLetter(c)) {\n    if (Character.isLowerCase(c)) {\n        output += Character.toUpperCase(c);\n        if (Character.isUpperCase(c)) {\n            output += Character.toLowerCase(c);\n        } else {\n            output += c;\n        }\n    }\n}\n</code></pre>\n<ul>\n<li>if <code>c</code> is not a letter ... do nothing </li>\n<li>else if <code>c</code> is lower case, append upper cased <code>c</code>. Now this is where is gets interesting, if <code>c</code> is upper case, which it can't be since we know it's lower case, append (the original) <code>c</code> to output ... again </li>\n</ul>\n<p>This is where doing &quot;desk checking&quot; (ie, layout your variables and walking through your code by hand and writing down what's going) is so very powerful.</p>\n<p>What you probably mean to do, is something more like...</p>\n<pre><code>if (Character.isLetter(c)) {\n    if (Character.isLowerCase(c)) {\n        output += Character.toUpperCase(c);\n    } else if (Character.isUpperCase(c)) {\n        output += Character.toLowerCase(c);\n    }\n} else {\n    output += c;\n}\n</code></pre>\n<p>Although you probably don't &quot;really&quot; need the <code>isLetter</code> check (I mean, what is upper/lower case <code>1</code> anyway ).</p>\n<p>This would make your method look more like...</p>\n<pre><code>public static String toAlternativeString(String string) {\n    String output = &quot;&quot;;\n    for (int i = 0; i &lt; string.length(); i++) {\n        char c = string.charAt(i);\n        if (Character.isLetter(c)) {\n            if (Character.isLowerCase(c)) {\n                output += Character.toUpperCase(c);\n            } else if (Character.isUpperCase(c)) {\n                output += Character.toLowerCase(c);\n            }\n        } else {\n            output += c;\n        }\n    }\n    return output;\n}\n</code></pre>\n<p>Now, before any one jumps down my throat over the poor performance of <code>String</code> concatenation, I know, but I don't really think that's the point of the question</p>\n<p>But just in case...</p>\n<pre><code>public static String toAlternativeString(String string) {\n    StringBuilder sb = new StringBuilder(string.length());\n    for (char c : string.toCharArray()) {\n        if (Character.isUpperCase(c)) {\n            sb.append(Character.toLowerCase(c));\n        } else {\n            sb.append(Character.toUpperCase(c));\n        }\n    }\n    return sb.toString();\n}\n</code></pre>\n<p><code>StringBuilder</code> is &quot;generally&quot; a better solution if you want to do <code>String</code> concatenation in Java, but this might be some what of a over kill for this example.</p>\n<p>So, taking an input like <code>Elmar DidOkLTWdeee 123456</code> the above methods will output <code>eLMAR dIDoKltwDEEE 123456</code></p>\n"},{"comments":[{"owner":{"account_id":4996428,"reputation":362,"user_id":4016860,"accept_rate":75,"display_name":"Popeye"},"score":0,"creation_date":1673503553,"post_id":75091872,"comment_id":132514923,"body_markdown":"I will encourage StringBuilder and whole ordeal should should be as simple as `c = Character.isLowerCase(c)?Character.toUpperCase(c):c;`. There is no good reason to check isLetter","body":"I will encourage StringBuilder and whole ordeal should should be as simple as <code>c = Character.isLowerCase(c)?Character.toUpperCase(c):c;</code>. There is no good reason to check isLetter"}],"tags":[],"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673500266,"creation_date":1673500266,"answer_id":75091872,"question_id":75091675,"body_markdown":"Elaborating @Dawood ibn Kareem&#39;s comment, you don&#39;t need the nested loop a simple `if-else` would do it.\r\n\r\n\tif(Character.isLetter(c)){\r\n\t\tif(Character.isLowerCase(c)){\r\n\t\t\toutput += Character.toUpperCase(c);\r\n\t\t}\r\n\t\telse {\r\n\t\t\toutput += Character.toLowerCase(c);\r\n\t\t}\r\n\t}","title":"Trying To convert String to lower/upper case respectively","body":"<p>Elaborating @Dawood ibn Kareem's comment, you don't need the nested loop a simple <code>if-else</code> would do it.</p>\n<pre><code>if(Character.isLetter(c)){\n    if(Character.isLowerCase(c)){\n        output += Character.toUpperCase(c);\n    }\n    else {\n        output += Character.toLowerCase(c);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673501968,"creation_date":1673501968,"answer_id":75092040,"question_id":75091675,"body_markdown":"Here&#39;s how to do it using the [stream API](https://www.oracle.com/technical-resources/articles/java/architect-streams-pt2.html).\r\n```java\r\nimport java.util.Objects;\r\n\r\npublic class LowerAndUpperCase {\r\n\r\n    public static void main(String[] args) {\r\n        String output = &quot;Elmar DidOkLTWdeee&quot;;\r\n        System.out.println(toAlternativeString(output));\r\n    }\r\n\r\n    public static String toAlternativeString(String string) {\r\n        Objects.requireNonNull(string);\r\n        StringBuilder sb = string.chars()\r\n                                 .map(c -&gt; Character.isLowerCase((char) c) ? Character.toUpperCase((char) c) : Character.isUpperCase((char) c) ? Character.toLowerCase((char) c) : (char) c)\r\n                                 .collect(() -&gt; new StringBuilder(),\r\n                                          (s, c) -&gt; s.append((char) c),\r\n                                          (s1, s2) -&gt; s1.append(s2));\r\n        return sb.toString();\r\n    }\r\n}\r\n```\r\n- Method [isLowerCase](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Character.html#isLowerCase(char)) also checks whether its method argument is a letter so no need to call method `isLetter` first.\r\n- Method [chars](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#chars()) returns an `IntStream`, hence the casts to `char`.\r\n- The mapper returns the upper-case of the supplied character &amp;ndash; if it is lower-case &amp;ndash; or the lower-case of the supplied character &amp;ndash; if it is upper-case &amp;ndash; or the character itself if it is neither upper nor lower case.\r\n- In the arguments to the `collect` method, the type of `s` and `s1` and `s2` is `StringBuilder`.\r\n\r\nHere is the output when I run the above code.\r\n```none\r\neLMAR dIDoKltwDEEE\r\n```\r\nNote that the space in the original string is maintained (since the space character is neither upper-case nor lower-case).\r\n","title":"Trying To convert String to lower/upper case respectively","body":"<p>Here's how to do it using the <a href=\"https://www.oracle.com/technical-resources/articles/java/architect-streams-pt2.html\" rel=\"nofollow noreferrer\">stream API</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Objects;\n\npublic class LowerAndUpperCase {\n\n    public static void main(String[] args) {\n        String output = &quot;Elmar DidOkLTWdeee&quot;;\n        System.out.println(toAlternativeString(output));\n    }\n\n    public static String toAlternativeString(String string) {\n        Objects.requireNonNull(string);\n        StringBuilder sb = string.chars()\n                                 .map(c -&gt; Character.isLowerCase((char) c) ? Character.toUpperCase((char) c) : Character.isUpperCase((char) c) ? Character.toLowerCase((char) c) : (char) c)\n                                 .collect(() -&gt; new StringBuilder(),\n                                          (s, c) -&gt; s.append((char) c),\n                                          (s1, s2) -&gt; s1.append(s2));\n        return sb.toString();\n    }\n}\n</code></pre>\n<ul>\n<li>Method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Character.html#isLowerCase(char)\" rel=\"nofollow noreferrer\">isLowerCase</a> also checks whether its method argument is a letter so no need to call method <code>isLetter</code> first.</li>\n<li>Method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#chars()\" rel=\"nofollow noreferrer\">chars</a> returns an <code>IntStream</code>, hence the casts to <code>char</code>.</li>\n<li>The mapper returns the upper-case of the supplied character  if it is lower-case  or the lower-case of the supplied character  if it is upper-case  or the character itself if it is neither upper nor lower case.</li>\n<li>In the arguments to the <code>collect</code> method, the type of <code>s</code> and <code>s1</code> and <code>s2</code> is <code>StringBuilder</code>.</li>\n</ul>\n<p>Here is the output when I run the above code.</p>\n<pre class=\"lang-none prettyprint-override\"><code>eLMAR dIDoKltwDEEE\n</code></pre>\n<p>Note that the space in the original string is maintained (since the space character is neither upper-case nor lower-case).</p>\n"}],"owner":{"account_id":25836061,"reputation":3,"user_id":19572458,"display_name":"Rustam Abdiyev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":5,"score":0,"last_activity_date":1673501968,"creation_date":1673498390,"question_id":75091675,"body_markdown":"I&#39;m trying to convert string to lowercase if it is uppercase and vice-versa. The code doesn&#39;t work as expected. Any idea what I&#39;m doing wrong?\r\n```java\r\npublic class LowerNadUpperCase {\r\n\r\n    public static void main(String[] args) {\r\n        String output = &quot;Elmar DidOkLTWdeee&quot;;\r\n        System.out.println(toAlternativeString(output));\r\n    }\r\n\r\n    public static String toAlternativeString(String string) {\r\n        String output = &quot;&quot;;\r\n        for(int i = 0; i &lt; string.length(); i++) {\r\n            char c = string.charAt(i);\r\n            if(Character.isLetter(c)){\r\n                if(Character.isLowerCase(c)){\r\n                    output += Character.toUpperCase(c);\r\n                    if(Character.isUpperCase(c)){\r\n                        output += Character.toLowerCase(c);\r\n                    }  else{\r\n                        output += c;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return output;\r\n    }\r\n}\r\n```\r\n","title":"Trying To convert String to lower/upper case respectively","body":"<p>I'm trying to convert string to lowercase if it is uppercase and vice-versa. The code doesn't work as expected. Any idea what I'm doing wrong?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class LowerNadUpperCase {\n\n    public static void main(String[] args) {\n        String output = &quot;Elmar DidOkLTWdeee&quot;;\n        System.out.println(toAlternativeString(output));\n    }\n\n    public static String toAlternativeString(String string) {\n        String output = &quot;&quot;;\n        for(int i = 0; i &lt; string.length(); i++) {\n            char c = string.charAt(i);\n            if(Character.isLetter(c)){\n                if(Character.isLowerCase(c)){\n                    output += Character.toUpperCase(c);\n                    if(Character.isUpperCase(c)){\n                        output += Character.toLowerCase(c);\n                    }  else{\n                        output += c;\n                    }\n                }\n            }\n        }\n        return output;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-cloud","spring-cloud-stream"],"answers":[{"comments":[{"owner":{"account_id":445335,"reputation":5970,"user_id":837717,"display_name":"Oleg Zhurakousky"},"score":1,"creation_date":1673511943,"post_id":75092030,"comment_id":132516896,"body_markdown":"Primary reason is to support function with multiple inputs and outputs, hence 0 signifies the index of such in or out which as pointed out by Nikolai is what is mostly used - https://docs.spring.io/spring-cloud-stream/docs/current/reference/html/spring-cloud-stream.html#_functions_with_multiple_input_and_output_arguments","body":"Primary reason is to support function with multiple inputs and outputs, hence 0 signifies the index of such in or out which as pointed out by Nikolai is what is mostly used - <a href=\"https://docs.spring.io/spring-cloud-stream/docs/current/reference/html/spring-cloud-stream.html#_functions_with_multiple_input_and_output_arguments\" rel=\"nofollow noreferrer\">docs.spring.io/spring-cloud-stream/docs/current/reference/ht&zwnj;&#8203;ml/&hellip;</a>"}],"tags":[],"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1673501918,"creation_date":1673501918,"answer_id":75092030,"question_id":75091686,"body_markdown":"Yes, you can have multiple suffixes `-1`, `-2`, etc but you won&#39;t need it often.\r\n\r\nIt&#39;s called partial function chaining or currying and you can read more about it at Spring Cloud reference: https://docs.spring.io/spring-cloud-stream-binder-kafka/docs/current/reference/html/spring-cloud-stream-binder-kafka.html#_beyond_two_inputs\r\n\r\n","title":"Spring cloud stream what is the meaning of in-0","body":"<p>Yes, you can have multiple suffixes <code>-1</code>, <code>-2</code>, etc but you won't need it often.</p>\n<p>It's called partial function chaining or currying and you can read more about it at Spring Cloud reference: <a href=\"https://docs.spring.io/spring-cloud-stream-binder-kafka/docs/current/reference/html/spring-cloud-stream-binder-kafka.html#_beyond_two_inputs\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-cloud-stream-binder-kafka/docs/current/reference/html/spring-cloud-stream-binder-kafka.html#_beyond_two_inputs</a></p>\n"}],"owner":{"account_id":15062605,"reputation":967,"user_id":10870817,"display_name":"SoT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":713,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75092030,"answer_count":1,"score":1,"last_activity_date":1673501918,"creation_date":1673498520,"question_id":75091686,"body_markdown":"I have see this config of spring cloud stream\r\n\r\n    spring:\r\n      cloud:\r\n        function:\r\n          definition: topic1\r\n        stream:\r\n          bindings:\r\n            topic1-in-0:\r\n              destination: topic1\r\n              group: topic1\r\n\r\nCould you guys explain me what is `-0` at the end of bindings? Can we have `-1`, `-10`, ..., `-100`?","title":"Spring cloud stream what is the meaning of in-0","body":"<p>I have see this config of spring cloud stream</p>\n<pre><code>spring:\n  cloud:\n    function:\n      definition: topic1\n    stream:\n      bindings:\n        topic1-in-0:\n          destination: topic1\n          group: topic1\n</code></pre>\n<p>Could you guys explain me what is <code>-0</code> at the end of bindings? Can we have <code>-1</code>, <code>-10</code>, ..., <code>-100</code>?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15151266,"reputation":335,"user_id":10933532,"display_name":"ericgithinji"},"score":0,"creation_date":1666220036,"post_id":72470651,"comment_id":130887274,"body_markdown":"Did you find a solution? Mine is passing all tests except 6, 7, and 9 and haven&#39;t been able to figure out why.","body":"Did you find a solution? Mine is passing all tests except 6, 7, and 9 and haven&#39;t been able to figure out why."}],"owner":{"account_id":25452182,"reputation":31,"user_id":19253389,"display_name":"Jack Ton"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":321,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"closed_date":1673517764,"answer_count":0,"score":3,"last_activity_date":1673501774,"creation_date":1654143776,"question_id":72470651,"body_markdown":"I have been working on this java code for the doomsday-fuel problem which deals with the absorbing markov chains. It has passed every test except for test four. Is there any particular type of input I may have missed while testing my code? I have only about 12 hours left. I have tested four one dimensional arrays and am curious as to if this test failure is somehow a precision error or something else.\r\n\r\nContext:\r\n\r\nMaking fuel for the LAMBCHOP&#39;s reactor core is a tricky process because of the exotic matter involved. It starts as raw ore, then during processing, begins randomly changing between forms, eventually reaching a stable form. There may be multiple stable forms that a sample could ultimately reach, not all of which are useful as fuel. \r\n\r\nCommander Lambda has tasked you to help the scientists increase fuel creation efficiency by predicting the end state of a given ore sample. You have carefully studied the different structures that the ore can take and which transitions it undergoes. It appears that, while random, the probability of each structure transforming is fixed. That is, each time the ore is in 1 state, it has the same probabilities of entering the next state (which might be the same state).  You have recorded the observed transitions in a matrix. The others in the lab have hypothesized more exotic forms that the ore can become, but you haven&#39;t seen all of them.\r\n\r\nWrite a function solution(m) that takes an array of array of nonnegative ints representing how many times that state has gone to the next state and return an array of ints for each terminal state giving the exact probabilities of each terminal state, represented as the numerator for each state, then the denominator for all of them at the end and in simplest form. The matrix is at most 10 by 10. It is guaranteed that no matter which state the ore is in, there is a path from that state to a terminal state. That is, the processing will always eventually end in a stable state. The ore starts in state 0. The denominator will fit within a signed 32-bit integer during the calculation, as long as the fraction is simplified regularly. \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n```\r\n    public static int[] returnFractionPair(double x) {\r\n        double tolerance = 1.0E-14;//Handles the extent of precision used\r\n        double numerator=1;//Kept as one because initially the decimal may be greater than zero\r\n        double numeratorStorage=0;\r\n        double denominator=0;\r\n        double denominatorStorage=1;//prevents division by zero\r\n        double decimal = x;\r\n        double comparison = 0;\r\n        do {\r\n            double flooredDecimal = (double)(int)decimal;//Floors decimal\r\n            double aux = numerator;//Sets auxilary to be the numerator\r\n            numerator =(flooredDecimal*numerator)+numeratorStorage;\r\n            numeratorStorage = aux;\r\n      \r\n            aux = denominator;\r\n        \r\n            denominator = (flooredDecimal*denominator)+denominatorStorage;\r\n            denominatorStorage = aux;\r\n            decimal = 1/(decimal-flooredDecimal);\r\n            comparison = x-(numerator/denominator);\r\n        } while( returnAbs(comparison) &gt; (x*tolerance) );//Tests if the difference between the initial decimal and this new numerator/denominator is greater than that of x multiplied by the level of tolerance it has\r\n        int[] res = new int[]{(int)numerator, (int)denominator};\r\n        return res;\r\n    }\r\n    public static double returnAbs(double value){\r\n        if(value &lt; 0){\r\n        value *= -1;\r\n        }\r\n        return value;\r\n    }\r\n    public static int getLCD(int[][] fractions){\r\n        int num = 0;\r\n        int den = 1;\r\n\r\n        int lcd = 1;\r\n        for(int i = 0; i &lt; fractions.length; i++){\r\n        lcd *= fractions[i][den];\r\n        }\r\n        for(int i = 2; i &lt; lcd; i++){\r\n            boolean foundLeastCommon = true;\r\n            for(int j = 0; j &lt; fractions.length; j++){\r\n                if( (double)( i%fractions[j][den] ) != 0){\r\n                    foundLeastCommon = false;\r\n                }\r\n            }\r\n            if(foundLeastCommon == true){\r\n                lcd = i;\r\n                return lcd;\r\n            }\r\n        }\r\n        return lcd;\r\n    }\r\n    public static double[] returnRowSums(int[][] matrix){    \r\n      //Assume all values in matrix are positive\r\n        double[] sumsOfEachRow = new double[matrix.length];\r\n            for(int i = 0; i &lt; matrix.length; i++){\r\n              for(int j = 0; j &lt; matrix.length; j++){\r\n                  sumsOfEachRow[i] += matrix[i][j];\r\n              }\r\n            }\r\n            return sumsOfEachRow;\r\n    }\r\n    public static double returnMatrixCellSum(double[] row, double[] column){//Assume row size == column size.\r\n        if(row.length != column.length){\r\n            return 0;\r\n        }\r\n        double sum = 0;\r\n        for(int i = 0; i &lt; row.length; i++){\r\n            sum += (column[i] * row[i]);\r\n        }\r\n        return sum;\r\n    }\r\n    public static int[] returnRearrangedIndices(double[] sumsOfEachRow){\r\n      int[] indicesOfRearrangedMatrix = new int[sumsOfEachRow.length];  \r\n\r\n      int indicesIndex = 0;\r\n      for(int i = 0; i &lt; sumsOfEachRow.length; i++){ \r\n        if(sumsOfEachRow[i] &lt;= 1){\r\n          indicesOfRearrangedMatrix[indicesIndex] = i;\r\n          indicesIndex++;\r\n        }//TerminalStates first\r\n      }\r\n      for(int i = 0; i &lt; sumsOfEachRow.length; i++){ \r\n        if(sumsOfEachRow[i] &gt; 1){\r\n          indicesOfRearrangedMatrix[indicesIndex] = i;\r\n          indicesIndex++;\r\n        }\r\n      }\r\n      return indicesOfRearrangedMatrix;\r\n    }\r\n  \r\n    public static double[][] subtractMatrix(double[][] matrix1, double[][] matrix2){//assumes matrices are of same dimensions\r\n        double[][] matrix3 = new double[matrix1.length][matrix1.length];\r\n        for(int i = 0; i &lt; matrix1.length;i++){\r\n            for(int j = 0; j &lt; matrix1[i].length; j++){\r\n                matrix3[i][j] = matrix1[i][j] - matrix2[i][j];\r\n            }\r\n        }\r\n        return matrix3;\r\n    }\r\n    public static double[][] rotateMatrix(double[][] matrix){\r\n        double[][] rotatedMatrix = new double[matrix[0].length][matrix.length];\r\n        for(int i = 0; i &lt; rotatedMatrix.length;i++){\r\n          for(int j = 0; j &lt; rotatedMatrix[0].length; j++){\r\n            rotatedMatrix[i][j] = matrix[j][i];\r\n          }\r\n        }\r\n      return rotatedMatrix;\r\n    }\r\n    public static double[][] getRemainingValues(double[][] matrix, int rowIgnored, int columnIgnored){\r\n      double[][] newMatrix = new double[matrix.length-1][matrix.length-1];\r\n      int iC = 0;\r\n      int iR = 0;\r\n      for(int k = 0; k &lt; matrix.length; k++){\r\n        if(k != rowIgnored){\r\n          iR = 0;\r\n          for(int j = 0; j &lt; matrix[k].length;j++){\r\n            if(j != columnIgnored){\r\n              newMatrix[iC][iR] = matrix[k][j];\r\n              iR++;\r\n            }\r\n          }\r\n          iC++;\r\n        }\r\n      }\r\n      return newMatrix;\r\n    }\r\n\r\n    public static double getDeterminant(double[][] matrix){\r\n      //uses top rows only\r\n      double determinant = 0;\r\n      if(matrix.length == 1 &amp;&amp; matrix[0].length == 1){\r\n        return matrix[0][0];\r\n      }\r\n\r\n      boolean negative = false;\r\n      double[][] newMatrix = new double[matrix.length-1][matrix.length-1];\r\n      for(int i = 0; i &lt; matrix.length; i++){\r\n        newMatrix = getRemainingValues(matrix, 0, i);\r\n        if(negative == false){\r\n          determinant += matrix[0][i]*getDeterminant(newMatrix);\r\n          negative = true;\r\n          }else{\r\n          determinant -= matrix[0][i]*getDeterminant(newMatrix);\r\n          negative = false;\r\n        }\r\n        //System.out.println(determinant);\r\n      }\r\n      return determinant;\r\n    }\r\n  \r\n    public static double[][] getMinorMatrix(double[][] matrix){\r\n      double[][] newMatrix = new double[matrix.length][matrix.length];\r\n        double[][] remainderMatrix;\r\n      if(matrix.length-1 != 0){\r\n        remainderMatrix = new double[matrix.length-1][matrix.length-1];\r\n      }else{\r\n        remainderMatrix = new double[matrix.length][matrix.length];\r\n      }\r\n      for(int i = 0; i &lt; newMatrix.length;i++){\r\n        for(int j = 0; j &lt; newMatrix.length;j++){\r\n          remainderMatrix = getRemainingValues(matrix, i, j);\r\n          newMatrix[i][j] = getDeterminant(remainderMatrix) + 0.0;//Prevent -0.0 float values\r\n        }\r\n      }\r\n      return newMatrix;\r\n    }\r\n\r\n    public static double[][] divideMatrixByScalar(double[][] matrix, double scalar){\r\n      double[][] newMatrix = new double[matrix.length][matrix[0].length];\r\n      newMatrix = matrix;\r\n      for(int i = 0; i &lt; matrix.length; i++){\r\n        for(int j = 0; j &lt; matrix[i].length;j++){\r\n          newMatrix[i][j] /= scalar;\r\n        }\r\n      }\r\n      return newMatrix;\r\n    }\r\n  \r\n    public static double[][] invertMatrix(double[][] matrix){\r\n      double[][] minorMatrix = new double[matrix.length][matrix.length];\r\n      if(minorMatrix.length == 2){\r\n        minorMatrix = matrix;\r\n\r\n        double temp = minorMatrix[0][0];\r\n        minorMatrix[0][0] = minorMatrix[1][1];\r\n        minorMatrix[1][1] = temp;\r\n        minorMatrix[0][1] *= -1;\r\n        minorMatrix[0][1] += 0;\r\n        minorMatrix[1][0] *= -1;\r\n        minorMatrix[1][0] += 0;\r\n      for(int i = 0; i &lt; minorMatrix.length; i++){\r\n        for(int j = 0; j &lt; minorMatrix[i].length; j++){\r\n            System.out.print(minorMatrix[i][j] + &quot; &quot;);\r\n          }\r\n        System.out.print(&quot;\\n&quot;);\r\n      }\r\n        }else{\r\n      minorMatrix = getMinorMatrix(matrix);\r\n      System.out.println(&quot;Getting minorMatrix&quot;);\r\n      for(int i = 0; i &lt; minorMatrix.length; i++){\r\n        for(int j = 0; j &lt; minorMatrix[i].length; j++){\r\n            System.out.print(minorMatrix[i][j] + &quot; &quot;);\r\n          }\r\n        System.out.print(&quot;\\n&quot;);\r\n      }\r\n      boolean isNegative = false;\r\n      System.out.println(&quot;Getting adjoint of minorMatrix&quot;);//Not doing things correctly\r\n      for(int i = 0; i &lt; minorMatrix.length;i++){\r\n        for(int j = 0; j &lt; minorMatrix[i].length;j++){\r\n            if(isNegative == true){\r\n              minorMatrix[i][j] *= -1;\r\n              minorMatrix[i][j] += 0;\r\n              isNegative = false;\r\n            }else{\r\n              isNegative = true;\r\n            }\r\n            System.out.print(minorMatrix[i][j] + &quot; &quot;);\r\n          }\r\n          if(minorMatrix[i].length % 2 == 0){\r\n            if(isNegative == true){\r\n                isNegative = false;\r\n              }else{\r\n                isNegative = true;\r\n              }\r\n            }\r\n          System.out.print(&quot;\\n&quot;);\r\n        }\r\n      \r\n        minorMatrix = rotateMatrix(minorMatrix);//rotates the minorMatrix\r\n      }\r\n      \r\n      double determinant = getDeterminant(matrix);\r\n      System.out.println(determinant);\r\n      if(determinant != 0){\r\n        minorMatrix = divideMatrixByScalar(minorMatrix, determinant);\r\n        System.out.println(&quot;Result&quot;);\r\n              for(int i = 0; i &lt; minorMatrix.length; i++){\r\n        for(int j = 0; j &lt; minorMatrix[i].length; j++){\r\n            System.out.print(minorMatrix[i][j] + &quot; &quot;);\r\n          }\r\n        System.out.print(&quot;\\n&quot;);\r\n      }\r\n      return minorMatrix;//Inverse is good\r\n      }else{\r\n        return matrix;\r\n      }\r\n      \r\n    }\r\n    public static double[][] returnUnabsorbedToUnabsorbed(double[][] matrix, int terminalStates){//Assumes matrix layers go from absorbed to unabsorbed\r\n        double[][] unabsorbedToUnabsorbed = new double[matrix.length-terminalStates][matrix.length-terminalStates];\r\n        int uIndex = 0;\r\n        int uuIndex = 0;\r\n        for(int i = terminalStates; i &lt; matrix.length;i++){\r\n          uuIndex = 0;\r\n          for(int j = terminalStates; j &lt; matrix.length;j++){\r\n            unabsorbedToUnabsorbed[uIndex][uuIndex] = matrix[i][j];\r\n            uuIndex++;\r\n          }\r\n          uIndex++;\r\n        }\r\n      return unabsorbedToUnabsorbed;\r\n    }\r\n    public static double[][] returnUnabsorbedToAbsorbed(double[][] matrix, int terminalStates){//Assumes matrix layers go from absorbed to unabsorbed\r\n        double[][] unabsorbedToAbsorbed = new double[matrix.length-terminalStates][terminalStates];\r\n        int uIndex = 0;\r\n        int uuIndex = 0;\r\n        for(int i = terminalStates; i &lt; matrix.length;i++){\r\n          uuIndex = 0;\r\n          for(int j = 0; j &lt; terminalStates;j++){\r\n            unabsorbedToAbsorbed[uIndex][uuIndex] = matrix[i][j];\r\n            uuIndex++;\r\n          }\r\n          uIndex++;\r\n        }\r\n      return unabsorbedToAbsorbed;\r\n    }\r\n  \r\n  public static double[][] getFundamental(double[][] matrix){\r\n      double[][] modifiedMatrix = new double[matrix.length][matrix[0].length];\r\n      modifiedMatrix = matrix;\r\n      double[][] identity = new double[matrix.length][matrix.length];\r\n      for(int i = 0; i &lt; identity.length; i++){\r\n        for(int j = 0;j &lt; identity[i].length;j++){\r\n          if(i == j){\r\n            identity[i][j] = 1;\r\n          }else{\r\n            identity[i][j] = 0;\r\n          }\r\n        }\r\n      }\r\n      modifiedMatrix = subtractMatrix(identity, modifiedMatrix);//Modified matrix is returning properly\r\n      /*System.out.println(&quot;Getting matrix to be inverted&quot;);\r\n      for(int i = 0; i &lt; modifiedMatrix.length; i++){\r\n        for(int j = 0; j &lt; modifiedMatrix[i].length; j++){\r\n            System.out.print(modifiedMatrix[i][j] + &quot; &quot;);\r\n          }\r\n        System.out.print(&quot;\\n&quot;);\r\n      }*/\r\n      modifiedMatrix = invertMatrix(modifiedMatrix);//Problem here(?)\r\n      return modifiedMatrix;\r\n    }\r\n\r\n  public static double[][] multiplyMatrix(double[][] matrix1, double[][] matrix2){//Assume all rows are equal.\r\n      double[][] result = new double[matrix1.length][matrix2[0].length];\r\n      double[][] rotatedM2 = new double[matrix2[0].length][matrix2.length];\r\n      rotatedM2 = rotateMatrix(matrix2);\r\n      for(int i = 0; i &lt; result.length;i++){\r\n          for(int j = 0; j &lt; result[i].length; j++){\r\n              result[i][j] = returnMatrixCellSum(matrix1[i], rotatedM2[j]);\r\n            //RotateMatrix does not increase matrix sums by how it should be\r\n          }\r\n      }\r\n      return result;\r\n    }\r\n  public static int[] algorithm(int[][] matrix, int startingPoint){\r\n        if(matrix.length == 0){\r\n          return new int[]{0, 1};\r\n        }\r\n        if(matrix.length == 1){\r\n          int[] ans = new int[matrix.length+1];\r\n          for(int i = 0; i &lt; ans.length;i++){\r\n            ans[i] = 1;\r\n          }\r\n          for(int i = 0; i &lt; ans.length; i++){\r\n            System.out.println(ans[i]);\r\n          }\r\n          return ans;\r\n        }\r\n        double[] sumsOfEachRow = new double[matrix.length];\r\n          sumsOfEachRow = returnRowSums(matrix);\r\n          \r\n          double[][] probMatrix = new double[matrix.length][matrix.length];\r\n          int terminalStates = 0;//Number of terminal states\r\n            for(int i = 0; i &lt; probMatrix.length; i++){\r\n              for(int j = 0; j &lt; probMatrix[i].length; j++){\r\n              if(sumsOfEachRow[i] != 0){\r\n                probMatrix[i][j] = (double)matrix[i][j];\r\n                probMatrix[i][j] /= sumsOfEachRow[i];\r\n              }else{\r\n                probMatrix[i][j] = 0;\r\n              }\r\n            }\r\n            }\r\n            boolean startingIsTerminal = false;\r\n            for(int i = 0; i &lt; probMatrix.length;i++){\r\n              boolean foundOne = false;\r\n              for(int j = 0; j &lt; probMatrix[i].length;j++){\r\n                if(probMatrix[i][j] == 1 &amp;&amp; i == j){\r\n                  terminalStates++;\r\n                  foundOne = true;\r\n                  if(i == startingPoint){\r\n                    startingIsTerminal = true;\r\n                  }\r\n                }\r\n              }\r\n              if(foundOne == false){\r\n                if(sumsOfEachRow[i] == 0){\r\n                  terminalStates++;\r\n                }\r\n              }\r\n            }\r\n            if( (sumsOfEachRow[startingPoint] == 0) || startingIsTerminal == true){\r\n              int[] ans = new int[terminalStates+1];\r\n              for(int i = 0; i &lt; terminalStates;i++){\r\n                if(i != startingPoint){\r\n                  ans[i] = 0;\r\n                }else{\r\n                  ans[i] = 1;\r\n                }\r\n              }\r\n              ans[terminalStates] = 1;\r\n                        for(int i = 0; i &lt; ans.length; i++){\r\n            System.out.println(ans[i]);\r\n          }\r\n              return ans;\r\n            }\r\n          int[] indicesOfRearrangedMatrix = new int[probMatrix.length];\r\n          indicesOfRearrangedMatrix = returnRearrangedIndices(sumsOfEachRow);\r\n          double[][] rearranged = new double[probMatrix.length][probMatrix[0].length];\r\n          \r\n          for(int i = 0; i &lt; matrix.length; i++){\r\n            for(int j = 0; j &lt; matrix[i].length; j++){\r\n              rearranged[i][j] = probMatrix[indicesOfRearrangedMatrix[i]][indicesOfRearrangedMatrix[j]];\r\n              System.out.print(rearranged[i][j] + &quot; &quot;);\r\n            }\r\n            System.out.print(&quot;\\n&quot;);\r\n          }//Get rearranged matrix divided\r\n          System.out.println(&quot;Matrix rearranged&quot;);\r\n          double[][] unabsorbedToUnabsorbed = new double[probMatrix.length-terminalStates][probMatrix.length-terminalStates];\r\n          unabsorbedToUnabsorbed = returnUnabsorbedToUnabsorbed(rearranged, terminalStates);//Get Unabsorbed Matrix\r\n          for(int i = 0; i &lt; unabsorbedToUnabsorbed.length; i++){\r\n            for(int j = 0; j &lt; unabsorbedToUnabsorbed[i].length; j++){\r\n              System.out.print(unabsorbedToUnabsorbed[i][j] + &quot; &quot;);\r\n            }\r\n            System.out.print(&quot;\\n&quot;);\r\n          }\r\n          System.out.println(&quot;unabsorbedToUnabsorbed&quot;);\r\n        double[][] unabsorbedToAbsorbed = new double[probMatrix.length-terminalStates][terminalStates];\r\n          unabsorbedToAbsorbed = returnUnabsorbedToAbsorbed(rearranged, terminalStates);\r\n          for(int i = 0; i &lt; unabsorbedToAbsorbed.length; i++){\r\n            for(int j = 0; j &lt; unabsorbedToAbsorbed[i].length; j++){\r\n                System.out.print(unabsorbedToAbsorbed[i][j] + &quot; &quot;);\r\n              }\r\n            System.out.print(&quot;\\n&quot;);\r\n          }\r\n          System.out.println(&quot;unabsorbedToAbsorbed&quot;);\r\n        double[][] fundamental = new double[unabsorbedToUnabsorbed.length][unabsorbedToUnabsorbed.length];\r\n          fundamental = getFundamental(unabsorbedToUnabsorbed);//Gets fundamental\r\n\r\n          double[][] probResult = multiplyMatrix(fundamental, unabsorbedToAbsorbed);\r\n          System.out.println(&quot;ProbResult got&quot;);\r\n          for(int i = 0; i &lt; probResult.length; i++){\r\n            for(int j = 0; j &lt; probResult[i].length; j++){\r\n                System.out.print(probResult[i][j] + &quot; &quot;);\r\n              }\r\n            System.out.print(&quot;\\n&quot;);\r\n          }\r\n          int[][] fractionPairs = new int[terminalStates][2];\r\n          for(int i = 0; i &lt; probResult[startingPoint].length; i++){\r\n            fractionPairs[i] = returnFractionPair(probResult[startingPoint][i]);\r\n          }\r\n          int lcd = getLCD(fractionPairs);\r\n          int[] ans = new int[terminalStates+1];\r\n          int num = 0;\r\n          int den = 1;\r\n          for(int i = 0; i &lt; fractionPairs.length;++i){\r\n          int newNumerator = (lcd/fractionPairs[i][den]) * fractionPairs[i][num];\r\n            ans[i] = newNumerator;\r\n          }\r\n          ans[ans.length-1] = lcd;\r\n          for(int i = 0; i &lt; ans.length; i++){\r\n            System.out.println(ans[i]);\r\n          }\r\n          \r\n          return ans;\r\n        }\r\n    public static int[] solution(int[][] m) {\r\n        return algorithm(m, 0);\r\n    }\r\n}\r\n```","title":"java - Google Foobar Challenge Level 3: doomsday-fuel","body":"<p>I have been working on this java code for the doomsday-fuel problem which deals with the absorbing markov chains. It has passed every test except for test four. Is there any particular type of input I may have missed while testing my code? I have only about 12 hours left. I have tested four one dimensional arrays and am curious as to if this test failure is somehow a precision error or something else.</p>\n<p>Context:</p>\n<p>Making fuel for the LAMBCHOP's reactor core is a tricky process because of the exotic matter involved. It starts as raw ore, then during processing, begins randomly changing between forms, eventually reaching a stable form. There may be multiple stable forms that a sample could ultimately reach, not all of which are useful as fuel.</p>\n<p>Commander Lambda has tasked you to help the scientists increase fuel creation efficiency by predicting the end state of a given ore sample. You have carefully studied the different structures that the ore can take and which transitions it undergoes. It appears that, while random, the probability of each structure transforming is fixed. That is, each time the ore is in 1 state, it has the same probabilities of entering the next state (which might be the same state).  You have recorded the observed transitions in a matrix. The others in the lab have hypothesized more exotic forms that the ore can become, but you haven't seen all of them.</p>\n<p>Write a function solution(m) that takes an array of array of nonnegative ints representing how many times that state has gone to the next state and return an array of ints for each terminal state giving the exact probabilities of each terminal state, represented as the numerator for each state, then the denominator for all of them at the end and in simplest form. The matrix is at most 10 by 10. It is guaranteed that no matter which state the ore is in, there is a path from that state to a terminal state. That is, the processing will always eventually end in a stable state. The ore starts in state 0. The denominator will fit within a signed 32-bit integer during the calculation, as long as the fraction is simplified regularly.</p>\n<pre><code>    public static int[] returnFractionPair(double x) {\n        double tolerance = 1.0E-14;//Handles the extent of precision used\n        double numerator=1;//Kept as one because initially the decimal may be greater than zero\n        double numeratorStorage=0;\n        double denominator=0;\n        double denominatorStorage=1;//prevents division by zero\n        double decimal = x;\n        double comparison = 0;\n        do {\n            double flooredDecimal = (double)(int)decimal;//Floors decimal\n            double aux = numerator;//Sets auxilary to be the numerator\n            numerator =(flooredDecimal*numerator)+numeratorStorage;\n            numeratorStorage = aux;\n      \n            aux = denominator;\n        \n            denominator = (flooredDecimal*denominator)+denominatorStorage;\n            denominatorStorage = aux;\n            decimal = 1/(decimal-flooredDecimal);\n            comparison = x-(numerator/denominator);\n        } while( returnAbs(comparison) &gt; (x*tolerance) );//Tests if the difference between the initial decimal and this new numerator/denominator is greater than that of x multiplied by the level of tolerance it has\n        int[] res = new int[]{(int)numerator, (int)denominator};\n        return res;\n    }\n    public static double returnAbs(double value){\n        if(value &lt; 0){\n        value *= -1;\n        }\n        return value;\n    }\n    public static int getLCD(int[][] fractions){\n        int num = 0;\n        int den = 1;\n\n        int lcd = 1;\n        for(int i = 0; i &lt; fractions.length; i++){\n        lcd *= fractions[i][den];\n        }\n        for(int i = 2; i &lt; lcd; i++){\n            boolean foundLeastCommon = true;\n            for(int j = 0; j &lt; fractions.length; j++){\n                if( (double)( i%fractions[j][den] ) != 0){\n                    foundLeastCommon = false;\n                }\n            }\n            if(foundLeastCommon == true){\n                lcd = i;\n                return lcd;\n            }\n        }\n        return lcd;\n    }\n    public static double[] returnRowSums(int[][] matrix){    \n      //Assume all values in matrix are positive\n        double[] sumsOfEachRow = new double[matrix.length];\n            for(int i = 0; i &lt; matrix.length; i++){\n              for(int j = 0; j &lt; matrix.length; j++){\n                  sumsOfEachRow[i] += matrix[i][j];\n              }\n            }\n            return sumsOfEachRow;\n    }\n    public static double returnMatrixCellSum(double[] row, double[] column){//Assume row size == column size.\n        if(row.length != column.length){\n            return 0;\n        }\n        double sum = 0;\n        for(int i = 0; i &lt; row.length; i++){\n            sum += (column[i] * row[i]);\n        }\n        return sum;\n    }\n    public static int[] returnRearrangedIndices(double[] sumsOfEachRow){\n      int[] indicesOfRearrangedMatrix = new int[sumsOfEachRow.length];  \n\n      int indicesIndex = 0;\n      for(int i = 0; i &lt; sumsOfEachRow.length; i++){ \n        if(sumsOfEachRow[i] &lt;= 1){\n          indicesOfRearrangedMatrix[indicesIndex] = i;\n          indicesIndex++;\n        }//TerminalStates first\n      }\n      for(int i = 0; i &lt; sumsOfEachRow.length; i++){ \n        if(sumsOfEachRow[i] &gt; 1){\n          indicesOfRearrangedMatrix[indicesIndex] = i;\n          indicesIndex++;\n        }\n      }\n      return indicesOfRearrangedMatrix;\n    }\n  \n    public static double[][] subtractMatrix(double[][] matrix1, double[][] matrix2){//assumes matrices are of same dimensions\n        double[][] matrix3 = new double[matrix1.length][matrix1.length];\n        for(int i = 0; i &lt; matrix1.length;i++){\n            for(int j = 0; j &lt; matrix1[i].length; j++){\n                matrix3[i][j] = matrix1[i][j] - matrix2[i][j];\n            }\n        }\n        return matrix3;\n    }\n    public static double[][] rotateMatrix(double[][] matrix){\n        double[][] rotatedMatrix = new double[matrix[0].length][matrix.length];\n        for(int i = 0; i &lt; rotatedMatrix.length;i++){\n          for(int j = 0; j &lt; rotatedMatrix[0].length; j++){\n            rotatedMatrix[i][j] = matrix[j][i];\n          }\n        }\n      return rotatedMatrix;\n    }\n    public static double[][] getRemainingValues(double[][] matrix, int rowIgnored, int columnIgnored){\n      double[][] newMatrix = new double[matrix.length-1][matrix.length-1];\n      int iC = 0;\n      int iR = 0;\n      for(int k = 0; k &lt; matrix.length; k++){\n        if(k != rowIgnored){\n          iR = 0;\n          for(int j = 0; j &lt; matrix[k].length;j++){\n            if(j != columnIgnored){\n              newMatrix[iC][iR] = matrix[k][j];\n              iR++;\n            }\n          }\n          iC++;\n        }\n      }\n      return newMatrix;\n    }\n\n    public static double getDeterminant(double[][] matrix){\n      //uses top rows only\n      double determinant = 0;\n      if(matrix.length == 1 &amp;&amp; matrix[0].length == 1){\n        return matrix[0][0];\n      }\n\n      boolean negative = false;\n      double[][] newMatrix = new double[matrix.length-1][matrix.length-1];\n      for(int i = 0; i &lt; matrix.length; i++){\n        newMatrix = getRemainingValues(matrix, 0, i);\n        if(negative == false){\n          determinant += matrix[0][i]*getDeterminant(newMatrix);\n          negative = true;\n          }else{\n          determinant -= matrix[0][i]*getDeterminant(newMatrix);\n          negative = false;\n        }\n        //System.out.println(determinant);\n      }\n      return determinant;\n    }\n  \n    public static double[][] getMinorMatrix(double[][] matrix){\n      double[][] newMatrix = new double[matrix.length][matrix.length];\n        double[][] remainderMatrix;\n      if(matrix.length-1 != 0){\n        remainderMatrix = new double[matrix.length-1][matrix.length-1];\n      }else{\n        remainderMatrix = new double[matrix.length][matrix.length];\n      }\n      for(int i = 0; i &lt; newMatrix.length;i++){\n        for(int j = 0; j &lt; newMatrix.length;j++){\n          remainderMatrix = getRemainingValues(matrix, i, j);\n          newMatrix[i][j] = getDeterminant(remainderMatrix) + 0.0;//Prevent -0.0 float values\n        }\n      }\n      return newMatrix;\n    }\n\n    public static double[][] divideMatrixByScalar(double[][] matrix, double scalar){\n      double[][] newMatrix = new double[matrix.length][matrix[0].length];\n      newMatrix = matrix;\n      for(int i = 0; i &lt; matrix.length; i++){\n        for(int j = 0; j &lt; matrix[i].length;j++){\n          newMatrix[i][j] /= scalar;\n        }\n      }\n      return newMatrix;\n    }\n  \n    public static double[][] invertMatrix(double[][] matrix){\n      double[][] minorMatrix = new double[matrix.length][matrix.length];\n      if(minorMatrix.length == 2){\n        minorMatrix = matrix;\n\n        double temp = minorMatrix[0][0];\n        minorMatrix[0][0] = minorMatrix[1][1];\n        minorMatrix[1][1] = temp;\n        minorMatrix[0][1] *= -1;\n        minorMatrix[0][1] += 0;\n        minorMatrix[1][0] *= -1;\n        minorMatrix[1][0] += 0;\n      for(int i = 0; i &lt; minorMatrix.length; i++){\n        for(int j = 0; j &lt; minorMatrix[i].length; j++){\n            System.out.print(minorMatrix[i][j] + &quot; &quot;);\n          }\n        System.out.print(&quot;\\n&quot;);\n      }\n        }else{\n      minorMatrix = getMinorMatrix(matrix);\n      System.out.println(&quot;Getting minorMatrix&quot;);\n      for(int i = 0; i &lt; minorMatrix.length; i++){\n        for(int j = 0; j &lt; minorMatrix[i].length; j++){\n            System.out.print(minorMatrix[i][j] + &quot; &quot;);\n          }\n        System.out.print(&quot;\\n&quot;);\n      }\n      boolean isNegative = false;\n      System.out.println(&quot;Getting adjoint of minorMatrix&quot;);//Not doing things correctly\n      for(int i = 0; i &lt; minorMatrix.length;i++){\n        for(int j = 0; j &lt; minorMatrix[i].length;j++){\n            if(isNegative == true){\n              minorMatrix[i][j] *= -1;\n              minorMatrix[i][j] += 0;\n              isNegative = false;\n            }else{\n              isNegative = true;\n            }\n            System.out.print(minorMatrix[i][j] + &quot; &quot;);\n          }\n          if(minorMatrix[i].length % 2 == 0){\n            if(isNegative == true){\n                isNegative = false;\n              }else{\n                isNegative = true;\n              }\n            }\n          System.out.print(&quot;\\n&quot;);\n        }\n      \n        minorMatrix = rotateMatrix(minorMatrix);//rotates the minorMatrix\n      }\n      \n      double determinant = getDeterminant(matrix);\n      System.out.println(determinant);\n      if(determinant != 0){\n        minorMatrix = divideMatrixByScalar(minorMatrix, determinant);\n        System.out.println(&quot;Result&quot;);\n              for(int i = 0; i &lt; minorMatrix.length; i++){\n        for(int j = 0; j &lt; minorMatrix[i].length; j++){\n            System.out.print(minorMatrix[i][j] + &quot; &quot;);\n          }\n        System.out.print(&quot;\\n&quot;);\n      }\n      return minorMatrix;//Inverse is good\n      }else{\n        return matrix;\n      }\n      \n    }\n    public static double[][] returnUnabsorbedToUnabsorbed(double[][] matrix, int terminalStates){//Assumes matrix layers go from absorbed to unabsorbed\n        double[][] unabsorbedToUnabsorbed = new double[matrix.length-terminalStates][matrix.length-terminalStates];\n        int uIndex = 0;\n        int uuIndex = 0;\n        for(int i = terminalStates; i &lt; matrix.length;i++){\n          uuIndex = 0;\n          for(int j = terminalStates; j &lt; matrix.length;j++){\n            unabsorbedToUnabsorbed[uIndex][uuIndex] = matrix[i][j];\n            uuIndex++;\n          }\n          uIndex++;\n        }\n      return unabsorbedToUnabsorbed;\n    }\n    public static double[][] returnUnabsorbedToAbsorbed(double[][] matrix, int terminalStates){//Assumes matrix layers go from absorbed to unabsorbed\n        double[][] unabsorbedToAbsorbed = new double[matrix.length-terminalStates][terminalStates];\n        int uIndex = 0;\n        int uuIndex = 0;\n        for(int i = terminalStates; i &lt; matrix.length;i++){\n          uuIndex = 0;\n          for(int j = 0; j &lt; terminalStates;j++){\n            unabsorbedToAbsorbed[uIndex][uuIndex] = matrix[i][j];\n            uuIndex++;\n          }\n          uIndex++;\n        }\n      return unabsorbedToAbsorbed;\n    }\n  \n  public static double[][] getFundamental(double[][] matrix){\n      double[][] modifiedMatrix = new double[matrix.length][matrix[0].length];\n      modifiedMatrix = matrix;\n      double[][] identity = new double[matrix.length][matrix.length];\n      for(int i = 0; i &lt; identity.length; i++){\n        for(int j = 0;j &lt; identity[i].length;j++){\n          if(i == j){\n            identity[i][j] = 1;\n          }else{\n            identity[i][j] = 0;\n          }\n        }\n      }\n      modifiedMatrix = subtractMatrix(identity, modifiedMatrix);//Modified matrix is returning properly\n      /*System.out.println(&quot;Getting matrix to be inverted&quot;);\n      for(int i = 0; i &lt; modifiedMatrix.length; i++){\n        for(int j = 0; j &lt; modifiedMatrix[i].length; j++){\n            System.out.print(modifiedMatrix[i][j] + &quot; &quot;);\n          }\n        System.out.print(&quot;\\n&quot;);\n      }*/\n      modifiedMatrix = invertMatrix(modifiedMatrix);//Problem here(?)\n      return modifiedMatrix;\n    }\n\n  public static double[][] multiplyMatrix(double[][] matrix1, double[][] matrix2){//Assume all rows are equal.\n      double[][] result = new double[matrix1.length][matrix2[0].length];\n      double[][] rotatedM2 = new double[matrix2[0].length][matrix2.length];\n      rotatedM2 = rotateMatrix(matrix2);\n      for(int i = 0; i &lt; result.length;i++){\n          for(int j = 0; j &lt; result[i].length; j++){\n              result[i][j] = returnMatrixCellSum(matrix1[i], rotatedM2[j]);\n            //RotateMatrix does not increase matrix sums by how it should be\n          }\n      }\n      return result;\n    }\n  public static int[] algorithm(int[][] matrix, int startingPoint){\n        if(matrix.length == 0){\n          return new int[]{0, 1};\n        }\n        if(matrix.length == 1){\n          int[] ans = new int[matrix.length+1];\n          for(int i = 0; i &lt; ans.length;i++){\n            ans[i] = 1;\n          }\n          for(int i = 0; i &lt; ans.length; i++){\n            System.out.println(ans[i]);\n          }\n          return ans;\n        }\n        double[] sumsOfEachRow = new double[matrix.length];\n          sumsOfEachRow = returnRowSums(matrix);\n          \n          double[][] probMatrix = new double[matrix.length][matrix.length];\n          int terminalStates = 0;//Number of terminal states\n            for(int i = 0; i &lt; probMatrix.length; i++){\n              for(int j = 0; j &lt; probMatrix[i].length; j++){\n              if(sumsOfEachRow[i] != 0){\n                probMatrix[i][j] = (double)matrix[i][j];\n                probMatrix[i][j] /= sumsOfEachRow[i];\n              }else{\n                probMatrix[i][j] = 0;\n              }\n            }\n            }\n            boolean startingIsTerminal = false;\n            for(int i = 0; i &lt; probMatrix.length;i++){\n              boolean foundOne = false;\n              for(int j = 0; j &lt; probMatrix[i].length;j++){\n                if(probMatrix[i][j] == 1 &amp;&amp; i == j){\n                  terminalStates++;\n                  foundOne = true;\n                  if(i == startingPoint){\n                    startingIsTerminal = true;\n                  }\n                }\n              }\n              if(foundOne == false){\n                if(sumsOfEachRow[i] == 0){\n                  terminalStates++;\n                }\n              }\n            }\n            if( (sumsOfEachRow[startingPoint] == 0) || startingIsTerminal == true){\n              int[] ans = new int[terminalStates+1];\n              for(int i = 0; i &lt; terminalStates;i++){\n                if(i != startingPoint){\n                  ans[i] = 0;\n                }else{\n                  ans[i] = 1;\n                }\n              }\n              ans[terminalStates] = 1;\n                        for(int i = 0; i &lt; ans.length; i++){\n            System.out.println(ans[i]);\n          }\n              return ans;\n            }\n          int[] indicesOfRearrangedMatrix = new int[probMatrix.length];\n          indicesOfRearrangedMatrix = returnRearrangedIndices(sumsOfEachRow);\n          double[][] rearranged = new double[probMatrix.length][probMatrix[0].length];\n          \n          for(int i = 0; i &lt; matrix.length; i++){\n            for(int j = 0; j &lt; matrix[i].length; j++){\n              rearranged[i][j] = probMatrix[indicesOfRearrangedMatrix[i]][indicesOfRearrangedMatrix[j]];\n              System.out.print(rearranged[i][j] + &quot; &quot;);\n            }\n            System.out.print(&quot;\\n&quot;);\n          }//Get rearranged matrix divided\n          System.out.println(&quot;Matrix rearranged&quot;);\n          double[][] unabsorbedToUnabsorbed = new double[probMatrix.length-terminalStates][probMatrix.length-terminalStates];\n          unabsorbedToUnabsorbed = returnUnabsorbedToUnabsorbed(rearranged, terminalStates);//Get Unabsorbed Matrix\n          for(int i = 0; i &lt; unabsorbedToUnabsorbed.length; i++){\n            for(int j = 0; j &lt; unabsorbedToUnabsorbed[i].length; j++){\n              System.out.print(unabsorbedToUnabsorbed[i][j] + &quot; &quot;);\n            }\n            System.out.print(&quot;\\n&quot;);\n          }\n          System.out.println(&quot;unabsorbedToUnabsorbed&quot;);\n        double[][] unabsorbedToAbsorbed = new double[probMatrix.length-terminalStates][terminalStates];\n          unabsorbedToAbsorbed = returnUnabsorbedToAbsorbed(rearranged, terminalStates);\n          for(int i = 0; i &lt; unabsorbedToAbsorbed.length; i++){\n            for(int j = 0; j &lt; unabsorbedToAbsorbed[i].length; j++){\n                System.out.print(unabsorbedToAbsorbed[i][j] + &quot; &quot;);\n              }\n            System.out.print(&quot;\\n&quot;);\n          }\n          System.out.println(&quot;unabsorbedToAbsorbed&quot;);\n        double[][] fundamental = new double[unabsorbedToUnabsorbed.length][unabsorbedToUnabsorbed.length];\n          fundamental = getFundamental(unabsorbedToUnabsorbed);//Gets fundamental\n\n          double[][] probResult = multiplyMatrix(fundamental, unabsorbedToAbsorbed);\n          System.out.println(&quot;ProbResult got&quot;);\n          for(int i = 0; i &lt; probResult.length; i++){\n            for(int j = 0; j &lt; probResult[i].length; j++){\n                System.out.print(probResult[i][j] + &quot; &quot;);\n              }\n            System.out.print(&quot;\\n&quot;);\n          }\n          int[][] fractionPairs = new int[terminalStates][2];\n          for(int i = 0; i &lt; probResult[startingPoint].length; i++){\n            fractionPairs[i] = returnFractionPair(probResult[startingPoint][i]);\n          }\n          int lcd = getLCD(fractionPairs);\n          int[] ans = new int[terminalStates+1];\n          int num = 0;\n          int den = 1;\n          for(int i = 0; i &lt; fractionPairs.length;++i){\n          int newNumerator = (lcd/fractionPairs[i][den]) * fractionPairs[i][num];\n            ans[i] = newNumerator;\n          }\n          ans[ans.length-1] = lcd;\n          for(int i = 0; i &lt; ans.length; i++){\n            System.out.println(ans[i]);\n          }\n          \n          return ans;\n        }\n    public static int[] solution(int[][] m) {\n        return algorithm(m, 0);\n    }\n}\n</code></pre>\n"},{"tags":["java","constructor","polymorphism","overriding"],"comments":[{"owner":{"account_id":248321,"reputation":62668,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":1,"creation_date":1673500772,"post_id":75091893,"comment_id":132514426,"body_markdown":"Welcome to Stack Overflow. Did you try actually running the code? Did you try using a debugger, in order to see what happens step by step? Also, [please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551)","body":"Welcome to Stack Overflow. Did you try actually running the code? Did you try using a debugger, in order to see what happens step by step? Also, <a href=\"//meta.stackoverflow.com/q/285551\">please do not upload images of code/data/errors.</a>"},{"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"score":0,"creation_date":1673500958,"post_id":75091893,"comment_id":132514459,"body_markdown":"please don&#39;t post code as pictures","body":"please don&#39;t post code as pictures"},{"owner":{"account_id":152400,"reputation":240448,"user_id":366904,"accept_rate":82,"display_name":"Cody Gray - on strike"},"score":0,"creation_date":1673501050,"post_id":75091893,"comment_id":132514475,"body_markdown":"You are still calling the constructor for class `B` because you&#39;re creating an object of type `B` (`new B(...)`). It doesn&#39;t matter that you&#39;ve stored a reference to that object of type `B` in a variable of type `A`. The object&#39;s type is still `B`.","body":"You are still calling the constructor for class <code>B</code> because you&#39;re creating an object of type <code>B</code> (<code>new B(...)</code>). It doesn&#39;t matter that you&#39;ve stored a reference to that object of type <code>B</code> in a variable of type <code>A</code>. The object&#39;s type is still <code>B</code>."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1673512424,"post_id":75091893,"comment_id":132517031,"body_markdown":"A subclass constructor can update the fields of the superclass. In your specific case however the class `B` has two fields named `value`: the one from the class `B` itself and an inherited and hidden one from the class `A`. Without special constructs within the class `B` you always access the class `B`s field. However when referencing a `B` object through a class `A` reference you access class `A`s field.","body":"A subclass constructor can update the fields of the superclass. In your specific case however the class <code>B</code> has two fields named <code>value</code>: the one from the class <code>B</code> itself and an inherited and hidden one from the class <code>A</code>. Without special constructs within the class <code>B</code> you always access the class <code>B</code>s field. However when referencing a <code>B</code> object through a class <code>A</code> reference you access class <code>A</code>s field."}],"answers":[{"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1673501226,"post_id":75091936,"comment_id":132514508,"body_markdown":"&quot;If the variable is calling a constructor&quot; That doesn&#39;t make sense. At all.","body":"&quot;If the variable is calling a constructor&quot; That doesn&#39;t make sense. At all."},{"owner":{"account_id":27505734,"reputation":1,"user_id":20988521,"display_name":"JavaCoder1984"},"score":0,"creation_date":1673501931,"post_id":75091936,"comment_id":132514642,"body_markdown":"Oops, I meant method.","body":"Oops, I meant method."}],"tags":[],"owner":{"account_id":27505734,"reputation":1,"user_id":20988521,"display_name":"JavaCoder1984"},"comment_count":2,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1673501022,"creation_date":1673501022,"answer_id":75091936,"question_id":75091893,"body_markdown":"No. If the variable is calling a constructor from a different class, it will not update anything in the A class at all even though the two classes use a constructor with the same name. The two constructors go to two different locations in memory. ","title":"Can the constructor of a child class update the values of variables in the parent class","body":"<p>No. If the variable is calling a constructor from a different class, it will not update anything in the A class at all even though the two classes use a constructor with the same name. The two constructors go to two different locations in memory.</p>\n"}],"owner":{"account_id":24469843,"reputation":1,"user_id":18389749,"display_name":"Bruce "},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":309,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1673501055,"answer_count":1,"score":-4,"last_activity_date":1673501119,"creation_date":1673500411,"question_id":75091893,"body_markdown":"[question problem](https://i.stack.imgur.com/6vHBU.jpg)\r\n\r\nIn the question above var 1 is of type A but is calling the constructor of class B. So will passing the parameter 4 to the constructor update the &quot;value&quot; variable to 4 or will it remain 3. \r\n\r\nI was expecting the answer of the final question to be 11 but it was actually 10. ","title":"Can the constructor of a child class update the values of variables in the parent class","body":"<p><a href=\"https://i.stack.imgur.com/6vHBU.jpg\" rel=\"nofollow noreferrer\">question problem</a></p>\n<p>In the question above var 1 is of type A but is calling the constructor of class B. So will passing the parameter 4 to the constructor update the &quot;value&quot; variable to 4 or will it remain 3.</p>\n<p>I was expecting the answer of the final question to be 11 but it was actually 10.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1673406986,"post_id":75077931,"comment_id":132490000,"body_markdown":"*&quot;And it works well.&quot;* ... really? Then how do you stop it in a way which doesn&#39;t work for the second example?","body":"<i>&quot;And it works well.&quot;</i> ... really? Then how do you stop it in a way which doesn&#39;t work for the second example?"},{"owner":{"account_id":27292715,"reputation":3,"user_id":20810832,"display_name":"Ogurcius"},"score":0,"creation_date":1673407792,"post_id":75077931,"comment_id":132490111,"body_markdown":"I don&#39;t know, but every source gives similar examples, and what I cant figure out, why in the first case it does work propely, and compiler doesnt read infinitely, but in the second case within adding another operations and similar code it starts infinite reading. I cannot see the problem with logic here, but may be this is peculiarity of console input.","body":"I don&#39;t know, but every source gives similar examples, and what I cant figure out, why in the first case it does work propely, and compiler doesnt read infinitely, but in the second case within adding another operations and similar code it starts infinite reading. I cannot see the problem with logic here, but may be this is peculiarity of console input."},{"owner":{"account_id":8197608,"reputation":822,"user_id":6169894,"display_name":"AminM"},"score":0,"creation_date":1673408612,"post_id":75077931,"comment_id":132490226,"body_markdown":"I hate these book examples that fail to put a close in a finally (or better yet use a try with resources statement).. it just teaches people bad habits.","body":"I hate these book examples that fail to put a close in a finally (or better yet use a try with resources statement).. it just teaches people bad habits."}],"answers":[{"comments":[{"owner":{"account_id":27292715,"reputation":3,"user_id":20810832,"display_name":"Ogurcius"},"score":1,"creation_date":1673410892,"post_id":75078179,"comment_id":132490467,"body_markdown":"Thanks for help and your answer! Unfortunately, I dont have enough reputation to make &quot;+1&quot; to your reply. But if I understood this correct, this is quite difficult to input interactively from console using StreamTokenizer ?","body":"Thanks for help and your answer! Unfortunately, I dont have enough reputation to make &quot;+1&quot; to your reply. But if I understood this correct, this is quite difficult to input interactively from console using StreamTokenizer ?"},{"owner":{"account_id":5534380,"reputation":268,"user_id":4472711,"display_name":"MNEMO"},"score":0,"creation_date":1673411442,"post_id":75078179,"comment_id":132490557,"body_markdown":"for redirection, you just need to write filename, no need to &quot;cat&quot; it.","body":"for redirection, you just need to write filename, no need to &quot;cat&quot; it."},{"owner":{"account_id":8197608,"reputation":822,"user_id":6169894,"display_name":"AminM"},"score":0,"creation_date":1673501022,"post_id":75078179,"comment_id":132514470,"body_markdown":"ok.. got rid of the cat","body":"ok.. got rid of the cat"},{"owner":{"account_id":8197608,"reputation":822,"user_id":6169894,"display_name":"AminM"},"score":0,"creation_date":1673501108,"post_id":75078179,"comment_id":132514484,"body_markdown":"@Ogurcius it&#39;s not difficult to input an end of file signal","body":"@Ogurcius it&#39;s not difficult to input an end of file signal"}],"tags":[],"owner":{"account_id":8197608,"reputation":822,"user_id":6169894,"display_name":"AminM"},"comment_count":4,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673501006,"creation_date":1673409033,"answer_id":75078179,"question_id":75077931,"body_markdown":"The source of your problem is using `System.in`.\r\n\r\nTry reading from a file:\r\n\r\n```\r\nimport java.io.*;\r\nimport java.util.ArrayList;\r\n\r\npublic class pr_23 {\r\n    public static void main(String[] args) throws IOException {\r\n        BufferedReader br = new BufferedReader(new FileReader(&quot;myfile.txt&quot;));\r\n        StreamTokenizer st = new StreamTokenizer(br);\r\n    \r\n        ArrayList&lt;Integer&gt; a = new ArrayList&lt;&gt;();\r\n        \r\n        while (st.nextToken() != st.TT_EOF) {\r\n            a.add((int)st.nval);   // infinite cycle\r\n        }\r\n        System.out.print(a);\r\n        \r\n        br.close();\r\n    }\r\n}\r\n```\r\n\r\nThe problem is that you won&#39;t get an EOF in a System.in if you run it interactively. Though you would get it if you run it like this:\r\n\r\n```\r\njava pr_23  &lt; myfile.txt\r\n```\r\n\r\nBy the way a better way to write this without the dangling close() would be:\r\n\r\n```java\r\nimport java.io.*;\r\nimport java.util.ArrayList;\r\n\r\npublic class pr_23 {\r\n    public static void main(String[] args) throws IOException {\r\n\r\n        // using try this way will close br automagically\r\n        try (BufferedReader br = new BufferedReader(new FileReader(&quot;myfile.txt&quot;))) { \r\n\r\n           StreamTokenizer st = new StreamTokenizer(br);\r\n    \r\n           ArrayList&lt;Integer&gt; a = new ArrayList&lt;&gt;();\r\n        \r\n           while (st.nextToken() != st.TT_EOF) {\r\n              a.add((int)st.nval);   // infinite cycle\r\n           }\r\n           System.out.print(a);\r\n        \r\n        }\r\n    }\r\n}\r\n```","title":"StreamTokenizer infinite input problem from console","body":"<p>The source of your problem is using <code>System.in</code>.</p>\n<p>Try reading from a file:</p>\n<pre><code>import java.io.*;\nimport java.util.ArrayList;\n\npublic class pr_23 {\n    public static void main(String[] args) throws IOException {\n        BufferedReader br = new BufferedReader(new FileReader(&quot;myfile.txt&quot;));\n        StreamTokenizer st = new StreamTokenizer(br);\n    \n        ArrayList&lt;Integer&gt; a = new ArrayList&lt;&gt;();\n        \n        while (st.nextToken() != st.TT_EOF) {\n            a.add((int)st.nval);   // infinite cycle\n        }\n        System.out.print(a);\n        \n        br.close();\n    }\n}\n</code></pre>\n<p>The problem is that you won't get an EOF in a System.in if you run it interactively. Though you would get it if you run it like this:</p>\n<pre><code>java pr_23  &lt; myfile.txt\n</code></pre>\n<p>By the way a better way to write this without the dangling close() would be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.*;\nimport java.util.ArrayList;\n\npublic class pr_23 {\n    public static void main(String[] args) throws IOException {\n\n        // using try this way will close br automagically\n        try (BufferedReader br = new BufferedReader(new FileReader(&quot;myfile.txt&quot;))) { \n\n           StreamTokenizer st = new StreamTokenizer(br);\n    \n           ArrayList&lt;Integer&gt; a = new ArrayList&lt;&gt;();\n        \n           while (st.nextToken() != st.TT_EOF) {\n              a.add((int)st.nval);   // infinite cycle\n           }\n           System.out.print(a);\n        \n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":27292715,"reputation":3,"user_id":20810832,"display_name":"Ogurcius"},"score":0,"creation_date":1673413219,"post_id":75078317,"comment_id":132490795,"body_markdown":"Thank you! That really explains a lot. But is there no way to accomplish this with code instructions instead of shortcuts ?","body":"Thank you! That really explains a lot. But is there no way to accomplish this with code instructions instead of shortcuts ?"},{"owner":{"account_id":5534380,"reputation":268,"user_id":4472711,"display_name":"MNEMO"},"score":0,"creation_date":1673420129,"post_id":75078317,"comment_id":132492025,"body_markdown":"Ctrl-D is not a shortcut, but it is bare ascii code 0x04.  7bit ascii code system, 0x00 ~ 0x1F are called &quot;control code&quot; which controls data communication. For example, your &quot;new line&quot; characters are 0x0d or 0x0d 0x0a, and they are, Ctrl-J (10th alphabet) for 0x0a and Ctrl-M (13th alphabet) of 0xd. In &quot;text terminal&quot; system, keyboards &quot;Ctrl&quot; button are for this purpose. Using Ctrl for shortcut was much modern days invention.  Command Prompt and Unix Shells are used to be used on the text terminal and keyboards are treated like that. ref: https://en.wikipedia.org/wiki/Control_character","body":"Ctrl-D is not a shortcut, but it is bare ascii code 0x04.  7bit ascii code system, 0x00 ~ 0x1F are called &quot;control code&quot; which controls data communication. For example, your &quot;new line&quot; characters are 0x0d or 0x0d 0x0a, and they are, Ctrl-J (10th alphabet) for 0x0a and Ctrl-M (13th alphabet) of 0xd. In &quot;text terminal&quot; system, keyboards &quot;Ctrl&quot; button are for this purpose. Using Ctrl for shortcut was much modern days invention.  Command Prompt and Unix Shells are used to be used on the text terminal and keyboards are treated like that. ref: <a href=\"https://en.wikipedia.org/wiki/Control_character\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Control_character</a>"},{"owner":{"account_id":5534380,"reputation":268,"user_id":4472711,"display_name":"MNEMO"},"score":0,"creation_date":1673421762,"post_id":75078317,"comment_id":132492441,"body_markdown":"Historically, unix systems are using 0x04 as a mark of the end of the text file. DOS and its ancesters are unable to use it for their reasons, they chose to use 0x1a (Ctrl-Z) as EOF mark. In those days Operating Systems cannot detetmine real file length so they decided to terminate processing when they reached to the EOF mark.","body":"Historically, unix systems are using 0x04 as a mark of the end of the text file. DOS and its ancesters are unable to use it for their reasons, they chose to use 0x1a (Ctrl-Z) as EOF mark. In those days Operating Systems cannot detetmine real file length so they decided to terminate processing when they reached to the EOF mark."}],"tags":[],"owner":{"account_id":5534380,"reputation":268,"user_id":4472711,"display_name":"MNEMO"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673410997,"creation_date":1673410997,"answer_id":75078317,"question_id":75077931,"body_markdown":"Please understand that your loop is repeating until the input reaches to the EOF. And, your latter code does not output anything before your loop would exit. So, if you want to see your output with the latter code, you must close your standard input stream first. To close standard input, you should send EOF code from keyboard. On Linux and macos, you can close standard input with Ctrl-D, and on Windows, it is Ctrl-Z.","title":"StreamTokenizer infinite input problem from console","body":"<p>Please understand that your loop is repeating until the input reaches to the EOF. And, your latter code does not output anything before your loop would exit. So, if you want to see your output with the latter code, you must close your standard input stream first. To close standard input, you should send EOF code from keyboard. On Linux and macos, you can close standard input with Ctrl-D, and on Windows, it is Ctrl-Z.</p>\n"}],"owner":{"account_id":27292715,"reputation":3,"user_id":20810832,"display_name":"Ogurcius"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75078317,"answer_count":2,"score":0,"last_activity_date":1673501006,"creation_date":1673405900,"question_id":75077931,"body_markdown":"I am beginner in Java, so during my learning another topic as StreamTokenizer, I faced some kind of intresting problem. And I didn&#39;t found any close solutions or hints in the Internet. \r\n\r\nSo, basically, almost every educational source give us an example like this:\r\n\r\n```\r\nimport java.io.*;\r\n\r\npublic class pr_23 {\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\tBufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n\t\tStreamTokenizer st = new StreamTokenizer(br);\r\n\t\t\r\n\t\twhile (st.nextToken() != st.TT_EOF)\r\n\t\t\tif (st.ttype == st.TT_NUMBER)\r\n\t\t\t\tSystem.out.print(st.nval + &quot; &quot;); // not infinite cycle\r\n\t\t\r\n\t\tbr.close();\r\n\t}\r\n}\r\n```\r\nAnd it works well. But if I include in the cycle some other operators with st.nval, like double b = st.nval and exclude this System.out.print() code, compiler cant determine the end of the Stream in this case anymore, so it starts infinite reading. I wanted StreamTokenizer gave numbers to my ArrayList, but magically it cant see the end of Stream in this case with similar cycle. What&#39;s intresting it does work correctly if I use FileInputStream instead of InputStreamReader. But I need to get input from the console, not from a file. Also, using FIS in Tokenizer is deprecated. So here&#39;s similar code, but it doesnt work properly:\r\n\r\n```\r\nimport java.io.*;\r\nimport java.util.ArrayList;\r\n\r\npublic class pr_23 {\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\tBufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n\t\tStreamTokenizer st = new StreamTokenizer(br);\r\n\t\r\n\t\tArrayList&lt;Integer&gt; a = new ArrayList&lt;&gt;();\r\n\t\t\r\n\t\twhile (st.nextToken() != st.TT_EOF) {\r\n\t\t\ta.add((int)st.nval);   // infinite cycle\r\n\t\t}\r\n\t\tSystem.out.print(a);\r\n\t\t\r\n\t\tbr.close();\r\n\t}\r\n}\r\n```\r\n\r\n\r\nP.S. input is meant to be only int numbers for simplicity","title":"StreamTokenizer infinite input problem from console","body":"<p>I am beginner in Java, so during my learning another topic as StreamTokenizer, I faced some kind of intresting problem. And I didn't found any close solutions or hints in the Internet.</p>\n<p>So, basically, almost every educational source give us an example like this:</p>\n<pre><code>import java.io.*;\n\npublic class pr_23 {\n    public static void main(String[] args) throws IOException {\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n        StreamTokenizer st = new StreamTokenizer(br);\n        \n        while (st.nextToken() != st.TT_EOF)\n            if (st.ttype == st.TT_NUMBER)\n                System.out.print(st.nval + &quot; &quot;); // not infinite cycle\n        \n        br.close();\n    }\n}\n</code></pre>\n<p>And it works well. But if I include in the cycle some other operators with st.nval, like double b = st.nval and exclude this System.out.print() code, compiler cant determine the end of the Stream in this case anymore, so it starts infinite reading. I wanted StreamTokenizer gave numbers to my ArrayList, but magically it cant see the end of Stream in this case with similar cycle. What's intresting it does work correctly if I use FileInputStream instead of InputStreamReader. But I need to get input from the console, not from a file. Also, using FIS in Tokenizer is deprecated. So here's similar code, but it doesnt work properly:</p>\n<pre><code>import java.io.*;\nimport java.util.ArrayList;\n\npublic class pr_23 {\n    public static void main(String[] args) throws IOException {\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n        StreamTokenizer st = new StreamTokenizer(br);\n    \n        ArrayList&lt;Integer&gt; a = new ArrayList&lt;&gt;();\n        \n        while (st.nextToken() != st.TT_EOF) {\n            a.add((int)st.nval);   // infinite cycle\n        }\n        System.out.print(a);\n        \n        br.close();\n    }\n}\n</code></pre>\n<p>P.S. input is meant to be only int numbers for simplicity</p>\n"},{"tags":["java","json","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":27321132,"reputation":102,"user_id":20834798,"display_name":"Udit Mishra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673500188,"creation_date":1673500188,"answer_id":75091861,"question_id":74996289,"body_markdown":"There are two functions that return the &#39;current&#39; date/time timestamp:\r\n\r\n    1-$now() returns the timestamp in an ISO 8601 formatted string.\r\n   2-$millis() returns the same timestamp as the number of milliseconds since \r\n      midnight on 1st January 1970 UTC (the Unix epoch).\r\n\r\nexample:-\r\n\r\n     {\r\n     &quot;invoiceTime&quot;: $now(),\r\n     &quot;total&quot;: $sum(Account.Order.Product.(Price * Quantity)),\r\n     &quot;closingTime&quot;: $now()\r\n      }","title":"Dynamic Json File Value Update","body":"<p>There are two functions that return the 'current' date/time timestamp:</p>\n<pre><code>1-$now() returns the timestamp in an ISO 8601 formatted string.\n</code></pre>\n<p>2-$millis() returns the same timestamp as the number of milliseconds since\nmidnight on 1st January 1970 UTC (the Unix epoch).</p>\n<p>example:-</p>\n<pre><code> {\n &quot;invoiceTime&quot;: $now(),\n &quot;total&quot;: $sum(Account.Order.Product.(Price * Quantity)),\n &quot;closingTime&quot;: $now()\n  }\n</code></pre>\n"}],"owner":{"account_id":17217062,"reputation":23,"user_id":12464817,"display_name":"kselvan9000"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75091861,"answer_count":1,"score":0,"last_activity_date":1673500188,"creation_date":1672764761,"question_id":74996289,"body_markdown":"I want to dynamically change a JSON File.\r\nex, JSON:\r\n\r\n    {\r\n      &quot;name&quot;:&quot;Andrew&quot;;\r\n      &quot;Date of Birth&quot;:&quot;22-12-2000&quot;\r\n    }\r\n\r\nbut instead of the value of Date of Birth in JSON file being hard coded, I want it to be current System date. ex.\r\n\r\n    {\r\n      &quot;name&quot;:&quot;Andrew&quot;;\r\n      &quot;Date of Birth&quot;:var\r\n    }\r\n\r\nHow can this be done? Using variables in Java code to load the JSON data and make changes is not feasible. I wanted to know if its possible to dynamically change the file itself.","title":"Dynamic Json File Value Update","body":"<p>I want to dynamically change a JSON File.\nex, JSON:</p>\n<pre><code>{\n  &quot;name&quot;:&quot;Andrew&quot;;\n  &quot;Date of Birth&quot;:&quot;22-12-2000&quot;\n}\n</code></pre>\n<p>but instead of the value of Date of Birth in JSON file being hard coded, I want it to be current System date. ex.</p>\n<pre><code>{\n  &quot;name&quot;:&quot;Andrew&quot;;\n  &quot;Date of Birth&quot;:var\n}\n</code></pre>\n<p>How can this be done? Using variables in Java code to load the JSON data and make changes is not feasible. I wanted to know if its possible to dynamically change the file itself.</p>\n"},{"tags":["java","eclipse","maven","jsf","maven-war-plugin"],"comments":[{"owner":{"account_id":910975,"reputation":14592,"user_id":944849,"accept_rate":87,"display_name":"user944849"},"score":2,"creation_date":1619623239,"post_id":67302402,"comment_id":118962341,"body_markdown":"The versions of Maven and Java are very current, but the war plugin version is not. Try using the most current version, which per [website](https://maven.apache.org/plugins/maven-war-plugin/) is 3.3.1.","body":"The versions of Maven and Java are very current, but the war plugin version is not. Try using the most current version, which per <a href=\"https://maven.apache.org/plugins/maven-war-plugin/\" rel=\"nofollow noreferrer\">website</a> is 3.3.1."},{"owner":{"account_id":13969896,"reputation":83,"user_id":10088788,"display_name":"Domenico Romano"},"score":0,"creation_date":1619709734,"post_id":67302402,"comment_id":118992994,"body_markdown":"Oh, it was so easy.. Thank you!!","body":"Oh, it was so easy.. Thank you!!"},{"owner":{"account_id":910975,"reputation":14592,"user_id":944849,"accept_rate":87,"display_name":"user944849"},"score":1,"creation_date":1619720424,"post_id":67302402,"comment_id":118997785,"body_markdown":"Wonderful. I added as an answer, please accept it so future folks know what to do.","body":"Wonderful. I added as an answer, please accept it so future folks know what to do."}],"answers":[{"tags":[],"owner":{"account_id":910975,"reputation":14592,"user_id":944849,"accept_rate":87,"display_name":"user944849"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1619720400,"creation_date":1619720400,"answer_id":67323039,"question_id":67302402,"body_markdown":"The versions of Maven and Java are very current, but the war plugin version is not. Try using the most current version, which per [website](https://maven.apache.org/plugins/maven-war-plugin/) is 3.3.1 (at the time of original answer).","title":"Problem with Maven war plugin 3.0.0 due to an API incompatibility","body":"<p>The versions of Maven and Java are very current, but the war plugin version is not. Try using the most current version, which per <a href=\"https://maven.apache.org/plugins/maven-war-plugin/\" rel=\"noreferrer\">website</a> is 3.3.1 (at the time of original answer).</p>\n"}],"owner":{"account_id":13969896,"reputation":83,"user_id":10088788,"display_name":"Domenico Romano"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13103,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":67323039,"answer_count":1,"score":8,"last_activity_date":1673500001,"creation_date":1619620884,"question_id":67302402,"body_markdown":"I&#39;m following this JSF tutorial https://www.tutorialspoint.com/jsf/index.htm.\r\nI think I&#39;ve done everything that was written there (downloading all the required sw, setting the environment with path to the variables, etc.) but I cannot resolve a compilation problem with Maven war plugin. I&#39;ve already read a lot of questions and possible solutions and I think I&#39;ve tried most of the combination proposed (mvn clean then install, set the correct version of jdk, point to jdk directory instead of jde, remove .m2 repository, forced upgrade of the project, etc.). So, here I am, maybe describing my specific problem will help to understand how to solve it.\r\n\r\nOutput of mvn clean install:\r\n```\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-war-plugin:3.0.0:war (default-war) on project helloworld: Execution default-war of goal org.apache.maven.plugins:maven-war-plugin:3.0.0:war failed: Unable to load the mojo &#39;war&#39; in the plugin &#39;org.apache.maven.plugins:maven-war-plugin:3.0.0&#39; due to an API incompatibility: org.codehaus.plexus.component.repository.exception.ComponentLookupException: null\r\n[ERROR] -----------------------------------------------------\r\n[ERROR] realm =    plugin&gt;org.apache.maven.plugins:maven-war-plugin:3.0.0\r\n[ERROR] strategy = org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy\r\n[ERROR] urls[0] = file:/C:/Users/do.romano/.m2/repository/org/apache/maven/plugins/maven-war-plugin/3.0.0/maven-war-plugin-3.0.0.jar\r\n[ERROR] urls[1] = file:/C:/Users/do.romano/.m2/repository/org/sonatype/sisu/sisu-inject-bean/1.4.2/sisu-inject-bean-1.4.2.jar\r\n[ERROR] urls[2] = file:/C:/Users/do.romano/.m2/repository/org/sonatype/sisu/sisu-guice/2.1.7/sisu-guice-2.1.7-noaop.jar\r\n[ERROR] urls[3] = file:/C:/Users/do.romano/.m2/repository/org/sonatype/aether/aether-util/1.7/aether-util-1.7.jar\r\n[ERROR] urls[4] = file:/C:/Users/do.romano/.m2/repository/org/codehaus/plexus/plexus-component-annotations/1.6/plexus-component-annotations-1.6.jar\r\n[ERROR] urls[5] = file:/C:/Users/do.romano/.m2/repository/org/sonatype/plexus/plexus-sec-dispatcher/1.3/plexus-sec-dispatcher-1.3.jar\r\n[ERROR] urls[6] = file:/C:/Users/do.romano/.m2/repository/org/sonatype/plexus/plexus-cipher/1.4/plexus-cipher-1.4.jar\r\n[ERROR] urls[7] = file:/C:/Users/do.romano/.m2/repository/org/apache/maven/maven-archiver/3.1.1/maven-archiver-3.1.1.jar\r\n[ERROR] urls[8] = file:/C:/Users/do.romano/.m2/repository/org/apache/maven/shared/maven-shared-utils/3.0.1/maven-shared-utils-3.0.1.jar\r\n[ERROR] urls[9] = file:/C:/Users/do.romano/.m2/repository/commons-io/commons-io/2.5/commons-io-2.5.jar\r\n[ERROR] urls[10] = file:/C:/Users/do.romano/.m2/repository/org/codehaus/plexus/plexus-archiver/3.4/plexus-archiver-3.4.jar\r\n[ERROR] urls[11] = file:/C:/Users/do.romano/.m2/repository/org/codehaus/plexus/plexus-io/2.7.1/plexus-io-2.7.1.jar\r\n[ERROR] urls[12] = file:/C:/Users/do.romano/.m2/repository/org/apache/commons/commons-compress/1.11/commons-compress-1.11.jar\r\n[ERROR] urls[13] = file:/C:/Users/do.romano/.m2/repository/org/iq80/snappy/snappy/0.4/snappy-0.4.jar\r\n[ERROR] urls[14] = file:/C:/Users/do.romano/.m2/repository/org/tukaani/xz/1.5/xz-1.5.jar\r\n[ERROR] urls[15] = file:/C:/Users/do.romano/.m2/repository/org/codehaus/plexus/plexus-interpolation/1.22/plexus-interpolation-1.22.jar\r\n[ERROR] urls[16] = file:/C:/Users/do.romano/.m2/repository/com/thoughtworks/xstream/xstream/1.4.9/xstream-1.4.9.jar\r\n[ERROR] urls[17] = file:/C:/Users/do.romano/.m2/repository/xmlpull/xmlpull/1.1.3.1/xmlpull-1.1.3.1.jar\r\n[ERROR] urls[18] = file:/C:/Users/do.romano/.m2/repository/xpp3/xpp3_min/1.1.4c/xpp3_min-1.1.4c.jar\r\n[ERROR] urls[19] = file:/C:/Users/do.romano/.m2/repository/org/codehaus/plexus/plexus-utils/3.0.24/plexus-utils-3.0.24.jar\r\n[ERROR] urls[20] = file:/C:/Users/do.romano/.m2/repository/org/apache/maven/shared/maven-filtering/3.1.1/maven-filtering-3.1.1.jar\r\n[ERROR] urls[21] = file:/C:/Users/do.romano/.m2/repository/org/sonatype/plexus/plexus-build-api/0.0.7/plexus-build-api-0.0.7.jar\r\n[ERROR] urls[22] = file:/C:/Users/do.romano/.m2/repository/org/apache/maven/shared/maven-mapping/3.0.0/maven-mapping-3.0.0.jar\r\n[ERROR] Number of foreign imports: 1\r\n[ERROR] import: Entry[import  from realm ClassRealm[maven.api, parent: null]]\r\n[ERROR]\r\n[ERROR] -----------------------------------------------------\r\n[ERROR] : ExceptionInInitializerError: Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @6f798482\r\n[ERROR] -&gt; [Help 1]\r\n```\r\n\r\nMaven version:\r\n```\r\nApache Maven 3.8.1 (05c21c65bdfed0f71a2f2ada8b84da59348c4c5d)\r\nMaven home: C:\\Program Files\\apache-maven-3.8.1\\bin\\..\r\nJava version: 16.0.1, vendor: Oracle Corporation, runtime: C:\\Program Files\\Java\\jdk-16.0.1\r\nDefault locale: it_IT, platform encoding: Cp1252\r\nOS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\r\n```\r\nJava version:\r\n```\r\njava version &quot;16.0.1&quot; 2021-04-20\r\nJava(TM) SE Runtime Environment (build 16.0.1+9-24)\r\nJava HotSpot(TM) 64-Bit Server VM (build 16.0.1+9-24, mixed mode, sharing)\r\n```\r\n\r\nEclipse error which point the the first row of pom.xml: https://i.ibb.co/t4CNwR3/problema4.png\r\n\r\npom.xml:\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;com.tutorialspoint.test&lt;/groupId&gt;\r\n  &lt;artifactId&gt;helloworld&lt;/artifactId&gt;\r\n  &lt;packaging&gt;war&lt;/packaging&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;name&gt;helloworld Maven Webapp&lt;/name&gt;\r\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n  \r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;3.8.1&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  \r\n    &lt;dependency&gt;\r\n\t  &lt;groupId&gt;com.sun.faces&lt;/groupId&gt;\r\n\t  &lt;artifactId&gt;jsf-api&lt;/artifactId&gt;\r\n\t  &lt;version&gt;2.1.7&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\t\r\n    &lt;dependency&gt;\r\n\t  &lt;groupId&gt;com.sun.faces&lt;/groupId&gt;\r\n\t  &lt;artifactId&gt;jsf-impl&lt;/artifactId&gt;\r\n\t  &lt;version&gt;2.1.7&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n  \r\n  &lt;build&gt;\r\n    &lt;finalName&gt;helloworld&lt;/finalName&gt;\r\n\t&lt;plugins&gt;\r\n\t\r\n\t     &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n               &lt;source&gt;16.0.1&lt;/source&gt;\r\n               &lt;target&gt;16.0.1&lt;/target&gt;\r\n               &lt;compilerArgument&gt;-Xlint:all&lt;/compilerArgument&gt;\r\n               &lt;showWarnings&gt;true&lt;/showWarnings&gt;\r\n               &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\r\n            &lt;/configuration&gt;\r\n         &lt;/plugin&gt;\r\n         \r\n         &lt;plugin&gt;\r\n\t\t    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t    &lt;configuration&gt;\r\n\t\t\t    &lt;webResources&gt;\r\n\t               &lt;resource&gt;\r\n\t                  &lt;directory&gt;WebContent&lt;/directory&gt;\r\n\t               &lt;/resource&gt;\r\n\t            &lt;/webResources&gt;\r\n\t\t        &lt;useCache&gt;false&lt;/useCache&gt;\r\n\t\t    &lt;/configuration&gt;\r\n         &lt;/plugin&gt;\r\n\r\n\t&lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\n","title":"Problem with Maven war plugin 3.0.0 due to an API incompatibility","body":"<p>I'm following this JSF tutorial <a href=\"https://www.tutorialspoint.com/jsf/index.htm\" rel=\"noreferrer\">https://www.tutorialspoint.com/jsf/index.htm</a>.\nI think I've done everything that was written there (downloading all the required sw, setting the environment with path to the variables, etc.) but I cannot resolve a compilation problem with Maven war plugin. I've already read a lot of questions and possible solutions and I think I've tried most of the combination proposed (mvn clean then install, set the correct version of jdk, point to jdk directory instead of jde, remove .m2 repository, forced upgrade of the project, etc.). So, here I am, maybe describing my specific problem will help to understand how to solve it.</p>\n<p>Output of mvn clean install:</p>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-war-plugin:3.0.0:war (default-war) on project helloworld: Execution default-war of goal org.apache.maven.plugins:maven-war-plugin:3.0.0:war failed: Unable to load the mojo 'war' in the plugin 'org.apache.maven.plugins:maven-war-plugin:3.0.0' due to an API incompatibility: org.codehaus.plexus.component.repository.exception.ComponentLookupException: null\n[ERROR] -----------------------------------------------------\n[ERROR] realm =    plugin&gt;org.apache.maven.plugins:maven-war-plugin:3.0.0\n[ERROR] strategy = org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy\n[ERROR] urls[0] = file:/C:/Users/do.romano/.m2/repository/org/apache/maven/plugins/maven-war-plugin/3.0.0/maven-war-plugin-3.0.0.jar\n[ERROR] urls[1] = file:/C:/Users/do.romano/.m2/repository/org/sonatype/sisu/sisu-inject-bean/1.4.2/sisu-inject-bean-1.4.2.jar\n[ERROR] urls[2] = file:/C:/Users/do.romano/.m2/repository/org/sonatype/sisu/sisu-guice/2.1.7/sisu-guice-2.1.7-noaop.jar\n[ERROR] urls[3] = file:/C:/Users/do.romano/.m2/repository/org/sonatype/aether/aether-util/1.7/aether-util-1.7.jar\n[ERROR] urls[4] = file:/C:/Users/do.romano/.m2/repository/org/codehaus/plexus/plexus-component-annotations/1.6/plexus-component-annotations-1.6.jar\n[ERROR] urls[5] = file:/C:/Users/do.romano/.m2/repository/org/sonatype/plexus/plexus-sec-dispatcher/1.3/plexus-sec-dispatcher-1.3.jar\n[ERROR] urls[6] = file:/C:/Users/do.romano/.m2/repository/org/sonatype/plexus/plexus-cipher/1.4/plexus-cipher-1.4.jar\n[ERROR] urls[7] = file:/C:/Users/do.romano/.m2/repository/org/apache/maven/maven-archiver/3.1.1/maven-archiver-3.1.1.jar\n[ERROR] urls[8] = file:/C:/Users/do.romano/.m2/repository/org/apache/maven/shared/maven-shared-utils/3.0.1/maven-shared-utils-3.0.1.jar\n[ERROR] urls[9] = file:/C:/Users/do.romano/.m2/repository/commons-io/commons-io/2.5/commons-io-2.5.jar\n[ERROR] urls[10] = file:/C:/Users/do.romano/.m2/repository/org/codehaus/plexus/plexus-archiver/3.4/plexus-archiver-3.4.jar\n[ERROR] urls[11] = file:/C:/Users/do.romano/.m2/repository/org/codehaus/plexus/plexus-io/2.7.1/plexus-io-2.7.1.jar\n[ERROR] urls[12] = file:/C:/Users/do.romano/.m2/repository/org/apache/commons/commons-compress/1.11/commons-compress-1.11.jar\n[ERROR] urls[13] = file:/C:/Users/do.romano/.m2/repository/org/iq80/snappy/snappy/0.4/snappy-0.4.jar\n[ERROR] urls[14] = file:/C:/Users/do.romano/.m2/repository/org/tukaani/xz/1.5/xz-1.5.jar\n[ERROR] urls[15] = file:/C:/Users/do.romano/.m2/repository/org/codehaus/plexus/plexus-interpolation/1.22/plexus-interpolation-1.22.jar\n[ERROR] urls[16] = file:/C:/Users/do.romano/.m2/repository/com/thoughtworks/xstream/xstream/1.4.9/xstream-1.4.9.jar\n[ERROR] urls[17] = file:/C:/Users/do.romano/.m2/repository/xmlpull/xmlpull/1.1.3.1/xmlpull-1.1.3.1.jar\n[ERROR] urls[18] = file:/C:/Users/do.romano/.m2/repository/xpp3/xpp3_min/1.1.4c/xpp3_min-1.1.4c.jar\n[ERROR] urls[19] = file:/C:/Users/do.romano/.m2/repository/org/codehaus/plexus/plexus-utils/3.0.24/plexus-utils-3.0.24.jar\n[ERROR] urls[20] = file:/C:/Users/do.romano/.m2/repository/org/apache/maven/shared/maven-filtering/3.1.1/maven-filtering-3.1.1.jar\n[ERROR] urls[21] = file:/C:/Users/do.romano/.m2/repository/org/sonatype/plexus/plexus-build-api/0.0.7/plexus-build-api-0.0.7.jar\n[ERROR] urls[22] = file:/C:/Users/do.romano/.m2/repository/org/apache/maven/shared/maven-mapping/3.0.0/maven-mapping-3.0.0.jar\n[ERROR] Number of foreign imports: 1\n[ERROR] import: Entry[import  from realm ClassRealm[maven.api, parent: null]]\n[ERROR]\n[ERROR] -----------------------------------------------------\n[ERROR] : ExceptionInInitializerError: Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @6f798482\n[ERROR] -&gt; [Help 1]\n</code></pre>\n<p>Maven version:</p>\n<pre><code>Apache Maven 3.8.1 (05c21c65bdfed0f71a2f2ada8b84da59348c4c5d)\nMaven home: C:\\Program Files\\apache-maven-3.8.1\\bin\\..\nJava version: 16.0.1, vendor: Oracle Corporation, runtime: C:\\Program Files\\Java\\jdk-16.0.1\nDefault locale: it_IT, platform encoding: Cp1252\nOS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\n</code></pre>\n<p>Java version:</p>\n<pre><code>java version &quot;16.0.1&quot; 2021-04-20\nJava(TM) SE Runtime Environment (build 16.0.1+9-24)\nJava HotSpot(TM) 64-Bit Server VM (build 16.0.1+9-24, mixed mode, sharing)\n</code></pre>\n<p>Eclipse error which point the the first row of pom.xml: <a href=\"https://i.ibb.co/t4CNwR3/problema4.png\" rel=\"noreferrer\">https://i.ibb.co/t4CNwR3/problema4.png</a></p>\n<p>pom.xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.tutorialspoint.test&lt;/groupId&gt;\n  &lt;artifactId&gt;helloworld&lt;/artifactId&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;helloworld Maven Webapp&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n  \n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  \n    &lt;dependency&gt;\n      &lt;groupId&gt;com.sun.faces&lt;/groupId&gt;\n      &lt;artifactId&gt;jsf-api&lt;/artifactId&gt;\n      &lt;version&gt;2.1.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n      &lt;groupId&gt;com.sun.faces&lt;/groupId&gt;\n      &lt;artifactId&gt;jsf-impl&lt;/artifactId&gt;\n      &lt;version&gt;2.1.7&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  \n  &lt;build&gt;\n    &lt;finalName&gt;helloworld&lt;/finalName&gt;\n    &lt;plugins&gt;\n    \n         &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.3&lt;/version&gt;\n            &lt;configuration&gt;\n               &lt;source&gt;16.0.1&lt;/source&gt;\n               &lt;target&gt;16.0.1&lt;/target&gt;\n               &lt;compilerArgument&gt;-Xlint:all&lt;/compilerArgument&gt;\n               &lt;showWarnings&gt;true&lt;/showWarnings&gt;\n               &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\n            &lt;/configuration&gt;\n         &lt;/plugin&gt;\n         \n         &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;webResources&gt;\n                   &lt;resource&gt;\n                      &lt;directory&gt;WebContent&lt;/directory&gt;\n                   &lt;/resource&gt;\n                &lt;/webResources&gt;\n                &lt;useCache&gt;false&lt;/useCache&gt;\n            &lt;/configuration&gt;\n         &lt;/plugin&gt;\n\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n\n</code></pre>\n"},{"tags":["java","spring","jpa"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1673343700,"post_id":75067966,"comment_id":132472048,"body_markdown":"https://hibernate.atlassian.net/browse/HHH-13638 known issue for version 5.4.4. It is fixed in 5.4.9","body":"<a href=\"https://hibernate.atlassian.net/browse/HHH-13638\" rel=\"nofollow noreferrer\">hibernate.atlassian.net/browse/HHH-13638</a> known issue for version 5.4.4. It is fixed in 5.4.9"},{"owner":{"account_id":3142246,"reputation":2632,"user_id":2657515,"accept_rate":75,"display_name":"JonathanDavidArndt"},"score":0,"creation_date":1673457987,"post_id":75067966,"comment_id":132505486,"body_markdown":"Ah, the good old `StackOverflowError`... it&#39;s like a secret achievement!","body":"Ah, the good old <code>StackOverflowError</code>... it&#39;s like a secret achievement!"}],"answers":[{"comments":[{"owner":{"account_id":18229382,"reputation":105,"user_id":13268597,"display_name":"msadasjwd"},"score":0,"creation_date":1681208752,"post_id":75091787,"comment_id":134015809,"body_markdown":"Which one, i could not get it","body":"Which one, i could not get it"}],"tags":[],"owner":{"account_id":27459886,"reputation":61,"user_id":20950641,"display_name":"sanah saleem"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673499518,"creation_date":1673499518,"answer_id":75091787,"question_id":75067966,"body_markdown":"I think instead of ```BooksForHealthPolicyId``` in ```JpaRepository&lt;BooksForHealthPolicy, BooksForHealthPolicyId&gt;```\r\nyou are supposed to give the Wrapper class type of the id if i&#39;m not wrong.","title":"Exception: java.lang.StackOverflowError org.hibernate.hql.internal.ast.util.JoinProcessor.doFindAllNodes(JoinProcessor.java:116) error before running","body":"<p>I think instead of <code>BooksForHealthPolicyId</code> in <code>JpaRepository&lt;BooksForHealthPolicy, BooksForHealthPolicyId&gt;</code>\nyou are supposed to give the Wrapper class type of the id if i'm not wrong.</p>\n"}],"owner":{"account_id":18229382,"reputation":105,"user_id":13268597,"display_name":"msadasjwd"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673499518,"creation_date":1673343229,"question_id":75067966,"body_markdown":"This is repository:\r\n\r\n\r\n    @Repository\r\n    public interface BooksForHealthPolicyRepository extends JpaRepository&lt;BooksForHealthPolicy, BooksForHealthPolicyId&gt;{\r\n    \r\n    \tpublic List&lt;BooksForHealthPolicy&gt; findByCollectionDateGreaterThanEqualAndCollectionDateLessThanEqualAndProductCodeAndProductSubCodeAndBs1100Not(int collectionStartDate,int collectionEndDate, int productCode, int productSubCode,char bs1100);\r\n    }\r\n\r\nand in entity, field is:\r\n\r\n    &quot;\t@Column(name = &quot;BS1100&quot;, nullable = false, length = 1)\r\n    \tprivate char bs1100;&quot;\r\n\r\n\r\nWhen i ran the service, it cant even start and it gave the error:\r\n\r\n\r\n    Exception: java.lang.StackOverflowError org.hibernate.hql.internal.ast.util.JoinProcessor.doFindAllNodes(JoinProcessor.java:116) org.hibernate.hql.internal.ast.util.JoinProcessor.doFindAllNodes(JoinProcessor.java:120) org.hibernate.hql.internal.ast.util.JoinProcessor.doFindAllNodes(JoinProcessor.java:120) org.hibernate.hql.internal.ast.util.JoinProcessor.doFindAllNodes(JoinProcessor.java:120) org.hibernate.hql.internal.ast.util.JoinProcessor.doFindAllNodes(JoinProcessor.java:120) org.hibernate.hql.internal.ast.util.JoinProcessor.doFindAllNodes(JoinProcessor.java:120) org.hibernate.hql.internal.ast.util.JoinProcessor.doFindAllNodes(JoinProcessor.java:120) org.hibernate.hql.internal.ast.util.JoinProcessor.doFindAllNodes(JoinProcessor.java:120) org.hibernate.hql.internal.ast.util.JoinProcessor.doFindAllNodes(JoinProcessor.java:120) org.hibernate.hql.internal.ast.util.JoinProcessor.doFindAllNodes(JoinProcessor.java:120) \r\n\r\n\r\nso, that is why i think it is about &quot;not in&quot; keyword. Can it be? but at my local, it works.","title":"Exception: java.lang.StackOverflowError org.hibernate.hql.internal.ast.util.JoinProcessor.doFindAllNodes(JoinProcessor.java:116) error before running","body":"<p>This is repository:</p>\n<pre><code>@Repository\npublic interface BooksForHealthPolicyRepository extends JpaRepository&lt;BooksForHealthPolicy, BooksForHealthPolicyId&gt;{\n\n    public List&lt;BooksForHealthPolicy&gt; findByCollectionDateGreaterThanEqualAndCollectionDateLessThanEqualAndProductCodeAndProductSubCodeAndBs1100Not(int collectionStartDate,int collectionEndDate, int productCode, int productSubCode,char bs1100);\n}\n</code></pre>\n<p>and in entity, field is:</p>\n<pre><code>&quot;   @Column(name = &quot;BS1100&quot;, nullable = false, length = 1)\n    private char bs1100;&quot;\n</code></pre>\n<p>When i ran the service, it cant even start and it gave the error:</p>\n<pre><code>Exception: java.lang.StackOverflowError org.hibernate.hql.internal.ast.util.JoinProcessor.doFindAllNodes(JoinProcessor.java:116) org.hibernate.hql.internal.ast.util.JoinProcessor.doFindAllNodes(JoinProcessor.java:120) org.hibernate.hql.internal.ast.util.JoinProcessor.doFindAllNodes(JoinProcessor.java:120) org.hibernate.hql.internal.ast.util.JoinProcessor.doFindAllNodes(JoinProcessor.java:120) org.hibernate.hql.internal.ast.util.JoinProcessor.doFindAllNodes(JoinProcessor.java:120) org.hibernate.hql.internal.ast.util.JoinProcessor.doFindAllNodes(JoinProcessor.java:120) org.hibernate.hql.internal.ast.util.JoinProcessor.doFindAllNodes(JoinProcessor.java:120) org.hibernate.hql.internal.ast.util.JoinProcessor.doFindAllNodes(JoinProcessor.java:120) org.hibernate.hql.internal.ast.util.JoinProcessor.doFindAllNodes(JoinProcessor.java:120) org.hibernate.hql.internal.ast.util.JoinProcessor.doFindAllNodes(JoinProcessor.java:120) \n</code></pre>\n<p>so, that is why i think it is about &quot;not in&quot; keyword. Can it be? but at my local, it works.</p>\n"},{"tags":["java","string","for-loop","substring"],"comments":[{"owner":{"account_id":4996428,"reputation":362,"user_id":4016860,"accept_rate":75,"display_name":"Popeye"},"score":0,"creation_date":1673498622,"post_id":75091658,"comment_id":132514066,"body_markdown":"Your str2 is empty, but your index start with 2, substring function throws exception.","body":"Your str2 is empty, but your index start with 2, substring function throws exception."},{"owner":{"account_id":27505085,"reputation":7,"user_id":20987987,"display_name":"Paul Mayrion"},"score":0,"creation_date":1673498923,"post_id":75091658,"comment_id":132514113,"body_markdown":"@Popeye what do you think i should do to fix this?","body":"@Popeye what do you think i should do to fix this?"}],"answers":[{"tags":[],"owner":{"account_id":11146382,"reputation":283,"user_id":8180996,"display_name":"Kiran Kandel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673499349,"creation_date":1673499349,"answer_id":75091767,"question_id":75091658,"body_markdown":"The variable `str2` is an empty string, so when you call `str2.substring(k, sentence.length()-1)`, it is trying to extract a substring from an index that does not exist, resulting in a `StringIndexOutOfBoundsException`.\r\n\r\nHere `str2` is of no use. And it looks like you are trying to extract a `substring` from the variable sentence using the variable `k` as the starting index and `sentence.length()-1` as the ending index.\r\n\r\n    for(int k = 0; k &lt; sentence.length(); k++){\r\n      String subString = sentence.substring(k, sentence.length());\r\n      if(isPalindrome(subString)) {\r\n        // do something\r\n      }\r\n    }\r\n","title":"How to fix Exception in thread &quot;main&quot; java.lang.StringIndexOutOfBoundsException: begin 2, end 3, length 0 error?","body":"<p>The variable <code>str2</code> is an empty string, so when you call <code>str2.substring(k, sentence.length()-1)</code>, it is trying to extract a substring from an index that does not exist, resulting in a <code>StringIndexOutOfBoundsException</code>.</p>\n<p>Here <code>str2</code> is of no use. And it looks like you are trying to extract a <code>substring</code> from the variable sentence using the variable <code>k</code> as the starting index and <code>sentence.length()-1</code> as the ending index.</p>\n<pre><code>for(int k = 0; k &lt; sentence.length(); k++){\n  String subString = sentence.substring(k, sentence.length());\n  if(isPalindrome(subString)) {\n    // do something\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":27505085,"reputation":7,"user_id":20987987,"display_name":"Paul Mayrion"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":386,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1673501476,"answer_count":1,"score":-1,"last_activity_date":1673499349,"creation_date":1673498227,"question_id":75091658,"body_markdown":"I am writing a java program to use a `for` loop and substrings to return a palindrome, but I&#39;m confused on what to put in the substring?\r\n\r\nThis is the code I used, and the error I received: \r\n```java\r\nString str2 = &quot;&quot;;\r\nfor(int k = 2; k &lt; sentence.length(); k++)\r\n{\r\n    String str3 = &quot;&quot;;\r\n    str3 = str2.substring(k , sentence.length()-1);\r\n......\r\n```\r\n-------------\r\n```none\r\nException in thread &quot;main&quot; java.lang.StringIndexOutOfBoundsException: begin 2, end 22, length 0\r\n```\r\nDoes anyone know how to fix this? I believe the issue is in the substring.","title":"How to fix Exception in thread &quot;main&quot; java.lang.StringIndexOutOfBoundsException: begin 2, end 3, length 0 error?","body":"<p>I am writing a java program to use a <code>for</code> loop and substrings to return a palindrome, but I'm confused on what to put in the substring?</p>\n<p>This is the code I used, and the error I received:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String str2 = &quot;&quot;;\nfor(int k = 2; k &lt; sentence.length(); k++)\n{\n    String str3 = &quot;&quot;;\n    str3 = str2.substring(k , sentence.length()-1);\n......\n</code></pre>\n<hr />\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.StringIndexOutOfBoundsException: begin 2, end 22, length 0\n</code></pre>\n<p>Does anyone know how to fix this? I believe the issue is in the substring.</p>\n"},{"tags":["java","spring","oracle"],"answers":[{"tags":[],"owner":{"account_id":27495287,"reputation":26,"user_id":20979896,"display_name":"Peruri Rahul"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673499041,"creation_date":1673499041,"answer_id":75091734,"question_id":75083789,"body_markdown":"Use @Transactional annotation for both databases by specifying its value explicitly. Example @Transactional(value=&quot;chainedTransactionManager&quot;). So that spring takes care of that.","title":"How to create a @Transaction in Spring to control rollback with two different databases?","body":"<p>Use @Transactional annotation for both databases by specifying its value explicitly. Example @Transactional(value=&quot;chainedTransactionManager&quot;). So that spring takes care of that.</p>\n"}],"owner":{"account_id":7993603,"reputation":1201,"user_id":6030719,"accept_rate":50,"display_name":"S&#233;rgio Thiago Mendon&#231;a"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673499041,"creation_date":1673443602,"question_id":75083789,"body_markdown":"I have two different databases oracle.\r\n\r\nI have implemented the confuration to work with two databases Using SpringBoot:\r\n\r\n        @Configuration\r\n    @EnableTransactionManagement\r\n    @EnableJpaRepositories(basePackages = &quot;br.com.xyz.univers.ms.universcontractsync.repository.universcontract&quot;,\r\n            entityManagerFactoryRef = &quot;universContractEntityManagerFactory&quot;,\r\n            transactionManagerRef= &quot;universContractTransactionManager&quot;\r\n    )\r\n    public class UniversContractDatasourceConfiguration {\r\n    \r\n        @Bean\r\n        @ConfigurationProperties(&quot;app.datasource.universcontract&quot;)\r\n        public DataSourceProperties universContractDataSourceProperties() {\r\n            return new DataSourceProperties();\r\n        }\r\n        @Bean\r\n        @ConfigurationProperties(&quot;app.datasource.universcontract.hikari&quot;)\r\n        public DataSource universContractDataSource() {\r\n            return universContractDataSourceProperties().initializeDataSourceBuilder()\r\n                    .type(HikariDataSource.class).build();\r\n        }\r\n    \r\n        @Bean(name = &quot;universContractEntityManagerFactory&quot;)\r\n        public LocalContainerEntityManagerFactoryBean universContractEntityManagerFactory(\r\n                EntityManagerFactoryBuilder builder) {\r\n            return builder\r\n                    .dataSource(universContractDataSource())\r\n                    .packages(&quot;br.com.xyz.univers.ms.universcontractsync.models.universcontract&quot;)\r\n                    .build();\r\n        }\r\n    \r\n        @Bean(name = &quot;universContractTransactionManager&quot;)\r\n        public PlatformTransactionManager universContractTransactionManager(\r\n                final @Qualifier(&quot;universContractEntityManagerFactory&quot;) LocalContainerEntityManagerFactoryBean universContractEntityManagerFactory) {\r\n            if (universContractEntityManagerFactory == null) {\r\n                throw new SyncUnknowException(&quot;universContractEntityManagerFactory is null&quot;);\r\n            }\r\n            EntityManagerFactory entityManagerFactory = universContractEntityManagerFactory.getObject();\r\n            if (entityManagerFactory == null) {\r\n                throw new SyncUnknowException(&quot;entityManagerFactory is null&quot;);\r\n            }\r\n            return new JpaTransactionManager(entityManagerFactory);\r\n        }\r\n    \r\n    }\r\n\r\n\r\n**The problem is how can i control the transaction when a method call the two databases? It&#39;s necessary because my method needs to all the both databases.**\r\n\r\nExample the method:\r\n\r\n    @Override\r\n    @Transactional(&quot;chainedTransactionManager&quot;)\r\n    public void save(CompanyDTO companyDTO) {\r\n        log.info(&quot;method=save  &#39; - CompanyServiceImpl&quot;);\r\n        CompanyDTO companyDTOWithLegacyCode = companyDTO.toBuilder().build();\r\n        legacyCodeService.changeToLegacyCode(companyDTOWithLegacyCode);\r\n        Company company = companyBuilder.universContractDtoToSisbfEntity(companyDTOWithLegacyCode);\r\n        companyRepository.save(company);\r\n        legacyCodeService.updateLegacyCode(ClassTypeEnum.COMPANY, companyDTO.getCompanyCode(), company.getCompanyCode());\r\n        log.info(&quot;finish method=save  &#39; - CompanyServiceImpl&quot;);\r\n    }","title":"How to create a @Transaction in Spring to control rollback with two different databases?","body":"<p>I have two different databases oracle.</p>\n<p>I have implemented the confuration to work with two databases Using SpringBoot:</p>\n<pre><code>    @Configuration\n@EnableTransactionManagement\n@EnableJpaRepositories(basePackages = &quot;br.com.xyz.univers.ms.universcontractsync.repository.universcontract&quot;,\n        entityManagerFactoryRef = &quot;universContractEntityManagerFactory&quot;,\n        transactionManagerRef= &quot;universContractTransactionManager&quot;\n)\npublic class UniversContractDatasourceConfiguration {\n\n    @Bean\n    @ConfigurationProperties(&quot;app.datasource.universcontract&quot;)\n    public DataSourceProperties universContractDataSourceProperties() {\n        return new DataSourceProperties();\n    }\n    @Bean\n    @ConfigurationProperties(&quot;app.datasource.universcontract.hikari&quot;)\n    public DataSource universContractDataSource() {\n        return universContractDataSourceProperties().initializeDataSourceBuilder()\n                .type(HikariDataSource.class).build();\n    }\n\n    @Bean(name = &quot;universContractEntityManagerFactory&quot;)\n    public LocalContainerEntityManagerFactoryBean universContractEntityManagerFactory(\n            EntityManagerFactoryBuilder builder) {\n        return builder\n                .dataSource(universContractDataSource())\n                .packages(&quot;br.com.xyz.univers.ms.universcontractsync.models.universcontract&quot;)\n                .build();\n    }\n\n    @Bean(name = &quot;universContractTransactionManager&quot;)\n    public PlatformTransactionManager universContractTransactionManager(\n            final @Qualifier(&quot;universContractEntityManagerFactory&quot;) LocalContainerEntityManagerFactoryBean universContractEntityManagerFactory) {\n        if (universContractEntityManagerFactory == null) {\n            throw new SyncUnknowException(&quot;universContractEntityManagerFactory is null&quot;);\n        }\n        EntityManagerFactory entityManagerFactory = universContractEntityManagerFactory.getObject();\n        if (entityManagerFactory == null) {\n            throw new SyncUnknowException(&quot;entityManagerFactory is null&quot;);\n        }\n        return new JpaTransactionManager(entityManagerFactory);\n    }\n\n}\n</code></pre>\n<p><strong>The problem is how can i control the transaction when a method call the two databases? It's necessary because my method needs to all the both databases.</strong></p>\n<p>Example the method:</p>\n<pre><code>@Override\n@Transactional(&quot;chainedTransactionManager&quot;)\npublic void save(CompanyDTO companyDTO) {\n    log.info(&quot;method=save  ' - CompanyServiceImpl&quot;);\n    CompanyDTO companyDTOWithLegacyCode = companyDTO.toBuilder().build();\n    legacyCodeService.changeToLegacyCode(companyDTOWithLegacyCode);\n    Company company = companyBuilder.universContractDtoToSisbfEntity(companyDTOWithLegacyCode);\n    companyRepository.save(company);\n    legacyCodeService.updateLegacyCode(ClassTypeEnum.COMPANY, companyDTO.getCompanyCode(), company.getCompanyCode());\n    log.info(&quot;finish method=save  ' - CompanyServiceImpl&quot;);\n}\n</code></pre>\n"},{"tags":["java","algorithm","matrix","graph","breadth-first-search"],"comments":[{"owner":{"account_id":5026356,"reputation":7226,"user_id":4038191,"display_name":"EvilTak"},"score":2,"creation_date":1673485897,"post_id":75090107,"comment_id":132512475,"body_markdown":"You might want to reconsider how you are keeping track of seen cells, especially when your maze dimensions have more than one decimal digits. For instance, in `map_seen`, does the presence of the key `&quot;111&quot;` refer to the cell at `(11, 1)` or the cell at `(1, 11)`?","body":"You might want to reconsider how you are keeping track of seen cells, especially when your maze dimensions have more than one decimal digits. For instance, in <code>map_seen</code>, does the presence of the key <code>&quot;111&quot;</code> refer to the cell at <code>(11, 1)</code> or the cell at <code>(1, 11)</code>?"},{"owner":{"account_id":18465061,"reputation":375,"user_id":13451504,"display_name":"beatmaister"},"score":0,"creation_date":1673491797,"post_id":75090107,"comment_id":132513183,"body_markdown":"@EvilTak That&#39;s a rly good observation, thanks I fixed it by adding a comma in the string, but unfortunately the problem persists.","body":"@EvilTak That&#39;s a rly good observation, thanks I fixed it by adding a comma in the string, but unfortunately the problem persists."},{"owner":{"account_id":9061,"reputation":19437,"user_id":16582,"accept_rate":67,"display_name":"ravenspoint"},"score":1,"creation_date":1673493558,"post_id":75090107,"comment_id":132513393,"body_markdown":"Have you tried with a very small maze, say 3 by 3.  If problem persists, step through the program to see where it goes wrong.  Otherwise, do a binary search to find out minimum size maze that gives problem, then step through that, paying especial attention to what happens at the maximum x and y cells.","body":"Have you tried with a very small maze, say 3 by 3.  If problem persists, step through the program to see where it goes wrong.  Otherwise, do a binary search to find out minimum size maze that gives problem, then step through that, paying especial attention to what happens at the maximum x and y cells."},{"owner":{"account_id":18465061,"reputation":375,"user_id":13451504,"display_name":"beatmaister"},"score":0,"creation_date":1673500429,"post_id":75090107,"comment_id":132514366,"body_markdown":"@ravenspoint I found that moving the box creation inside the if statement, worked for some reason.","body":"@ravenspoint I found that moving the box creation inside the if statement, worked for some reason."}],"answers":[{"comments":[{"owner":{"account_id":18465061,"reputation":375,"user_id":13451504,"display_name":"beatmaister"},"score":0,"creation_date":1673481889,"post_id":75090197,"comment_id":132511894,"body_markdown":"That did not do much. Wouldn&#39;t really help to add them to the map the first time they are seen, because they are not yet dequeued","body":"That did not do much. Wouldn&#39;t really help to add them to the map the first time they are seen, because they are not yet dequeued"},{"owner":{"account_id":27441870,"reputation":199,"user_id":20936568,"display_name":"Melvin Lang"},"score":0,"creation_date":1673498964,"post_id":75090197,"comment_id":132514117,"body_markdown":"Sorry, My code had some error. You will try again upper code. I have edited. If you insert the first point, you must insert to map that point and do not need to insert to map while you are popping from the queue.","body":"Sorry, My code had some error. You will try again upper code. I have edited. If you insert the first point, you must insert to map that point and do not need to insert to map while you are popping from the queue."}],"tags":[],"owner":{"account_id":27441870,"reputation":199,"user_id":20936568,"display_name":"Melvin Lang"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1673498922,"creation_date":1673481064,"answer_id":75090197,"question_id":75090107,"body_markdown":"I think your code may be changed like this.\r\n\r\n    public static Queue&lt;Box&gt; q = new LinkedList&lt;Box&gt;();\r\n        public static HashMap&lt;String,Boolean&gt; map_seen = new HashMap&lt;String,Boolean&gt;();\r\n        public static void searchPath(int[][] maze, int x, int y, ArrayList&lt;Integer&gt; path) {\r\n        \tauto b = new Box(x,y,null);\r\n            q.add(b);\r\n    \t\tmap_seen.put(*b, true);\r\n    \r\n            while(!q.isEmpty()) {\r\n                \r\n                Box p = q.poll();\r\n                String ps = Integer.toString(p.x) + Integer.toString(p.y);\r\n    \r\n                if (maze[p.y][p.x] == 9) {\r\n                    System.out.println(&quot;target found! &quot;);\r\n                    getPath(p, maze, path);\r\n                    return;\r\n                }\r\n    \r\n                if(isFree(maze, p.x+1,p.y)) {             \r\n                    Box nextP= new Box(p.x+1,p.y,p);\r\n                    String nextS= Integer.toString(p.x+1) + Integer.toString(p.y);\r\n                    if(!map_seen.containsKey(nextS)) {\r\n                \t\tmap_seen.put(nextS, true);\r\n                        q.add(nextP);\r\n                    }\r\n                }\r\n    \r\n                if(isFree(maze, p.x-1,p.y)) {               \r\n                    Box nextP= new Box(p.x-1,p.y,p);\r\n                    String nextS= Integer.toString(p.x-1) + Integer.toString(p.y);\r\n                    if(!map_seen.containsKey(nextS)) {\r\n                \t\tmap_seen.put(nextS, true);\r\n                        q.add(nextP);\r\n                    }\r\n                }\r\n    \r\n                if(isFree(maze, p.x,p.y+1)) {               \r\n                    Box nextP= new Box(p.x,p.y+1,p);\r\n                    String nextS= Integer.toString(p.x) + Integer.toString(p.y+1);\r\n                    if(!map_seen.containsKey(nextS)) {\r\n                \t\tmap_seen.put(nextS, true);\r\n                        q.add(nextP);\r\n                    }\r\n                }\r\n    \r\n                if(isFree(maze, p.x,p.y-1)) {\r\n                    Box nextP= new Box(p.x,p.y-1,p);\r\n                    String nextS= Integer.toString(p.x) + Integer.toString(p.y-1);\r\n                    if(!map_seen.containsKey(nextS)) {\r\n                \t\tmap_seen.put(nextS, true);\r\n                        q.add(nextP);\r\n                    }\r\n                }\r\n            }\r\n            System.out.println(&quot;exited reached&quot;);\r\n        }\r\n    }","title":"Simple Breadth First Search not finding target","body":"<p>I think your code may be changed like this.</p>\n<pre><code>public static Queue&lt;Box&gt; q = new LinkedList&lt;Box&gt;();\n    public static HashMap&lt;String,Boolean&gt; map_seen = new HashMap&lt;String,Boolean&gt;();\n    public static void searchPath(int[][] maze, int x, int y, ArrayList&lt;Integer&gt; path) {\n        auto b = new Box(x,y,null);\n        q.add(b);\n        map_seen.put(*b, true);\n\n        while(!q.isEmpty()) {\n            \n            Box p = q.poll();\n            String ps = Integer.toString(p.x) + Integer.toString(p.y);\n\n            if (maze[p.y][p.x] == 9) {\n                System.out.println(&quot;target found! &quot;);\n                getPath(p, maze, path);\n                return;\n            }\n\n            if(isFree(maze, p.x+1,p.y)) {             \n                Box nextP= new Box(p.x+1,p.y,p);\n                String nextS= Integer.toString(p.x+1) + Integer.toString(p.y);\n                if(!map_seen.containsKey(nextS)) {\n                    map_seen.put(nextS, true);\n                    q.add(nextP);\n                }\n            }\n\n            if(isFree(maze, p.x-1,p.y)) {               \n                Box nextP= new Box(p.x-1,p.y,p);\n                String nextS= Integer.toString(p.x-1) + Integer.toString(p.y);\n                if(!map_seen.containsKey(nextS)) {\n                    map_seen.put(nextS, true);\n                    q.add(nextP);\n                }\n            }\n\n            if(isFree(maze, p.x,p.y+1)) {               \n                Box nextP= new Box(p.x,p.y+1,p);\n                String nextS= Integer.toString(p.x) + Integer.toString(p.y+1);\n                if(!map_seen.containsKey(nextS)) {\n                    map_seen.put(nextS, true);\n                    q.add(nextP);\n                }\n            }\n\n            if(isFree(maze, p.x,p.y-1)) {\n                Box nextP= new Box(p.x,p.y-1,p);\n                String nextS= Integer.toString(p.x) + Integer.toString(p.y-1);\n                if(!map_seen.containsKey(nextS)) {\n                    map_seen.put(nextS, true);\n                    q.add(nextP);\n                }\n            }\n        }\n        System.out.println(&quot;exited reached&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2258335,"reputation":7818,"user_id":3403834,"display_name":"user58697"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673492354,"creation_date":1673492354,"answer_id":75091131,"question_id":75090107,"body_markdown":"I don&#39;t know if it is the only problem, but using\r\n\r\n            String ps = Integer.toString(p.x) + Integer.toString(p.y);\r\n\r\nas a key is definitely wrong. The boxes `[1, 10]` and `[11, 0]` produce the same string. It means that once you visit `[1, 10]`, you will consider `[11, 0]` as visited, and never explore its paths. At least add a separator\r\n\r\n            String ps = Integer.toString(p.x) + &quot;:&quot; + Integer.toString(p.y);\r\n\r\nBut why not use the boxes themselves as keys?\r\n\r\nAs a side note, `map&lt;whatever, bool&gt;` is a set on steroids. Just use a set.\r\n","title":"Simple Breadth First Search not finding target","body":"<p>I don't know if it is the only problem, but using</p>\n<pre><code>        String ps = Integer.toString(p.x) + Integer.toString(p.y);\n</code></pre>\n<p>as a key is definitely wrong. The boxes <code>[1, 10]</code> and <code>[11, 0]</code> produce the same string. It means that once you visit <code>[1, 10]</code>, you will consider <code>[11, 0]</code> as visited, and never explore its paths. At least add a separator</p>\n<pre><code>        String ps = Integer.toString(p.x) + &quot;:&quot; + Integer.toString(p.y);\n</code></pre>\n<p>But why not use the boxes themselves as keys?</p>\n<p>As a side note, <code>map&lt;whatever, bool&gt;</code> is a set on steroids. Just use a set.</p>\n"}],"owner":{"account_id":18465061,"reputation":375,"user_id":13451504,"display_name":"beatmaister"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1673498922,"creation_date":1673480048,"question_id":75090107,"body_markdown":"This is a standard BFS finding the path through a 2D array maze of 1s and 0s to find a 9.\r\n\r\nwhen dequeue-ing, node coordinates are stored as a string to a hashMap. Items are only added to the queue if they are within bounds, contain a 0, or 9, and are not in the hashMap keys.\r\n\r\nThe loop exits without ever reaching the target. And I have no idea which part is wrong.\r\n\r\n        public static Queue&lt;Box&gt; q = new LinkedList&lt;Box&gt;();\r\n        public static HashMap&lt;String,Boolean&gt; map_seen = new HashMap&lt;String,Boolean&gt;();\r\n        public static void searchPath(int[][] maze, int x, int y, ArrayList&lt;Integer&gt; path) {\r\n            q.add(new Box(x,y,null));\r\n    \r\n            while(!q.isEmpty()) {\r\n                \r\n                Box p = q.poll();\r\n                String ps = Integer.toString(p.x) + Integer.toString(p.y);\r\n                map_seen.put(ps, true);\r\n    \r\n                if (maze[p.y][p.x] == 9) {\r\n                    System.out.println(&quot;target found! &quot;);\r\n                    getPath(p, maze, path);\r\n                    return;\r\n                }\r\n    \r\n                if(isFree(maze, p.x+1,p.y)) {             \r\n                    Box nextP= new Box(p.x+1,p.y,p);\r\n                    String nextS= Integer.toString(p.x+1) + Integer.toString(p.y);\r\n                    if(!map_seen.containsKey(nextS)) {\r\n                        q.add(nextP);\r\n                    }\r\n                }\r\n    \r\n                if(isFree(maze, p.x-1,p.y)) {               \r\n                    Box nextP= new Box(p.x-1,p.y,p);\r\n                    String nextS= Integer.toString(p.x-1) + Integer.toString(p.y);\r\n                    if(!map_seen.containsKey(nextS)) {\r\n                        q.add(nextP);\r\n                    }\r\n                }\r\n    \r\n                if(isFree(maze, p.x,p.y+1)) {               \r\n                    Box nextP= new Box(p.x,p.y+1,p);\r\n                    String nextS= Integer.toString(p.x) + Integer.toString(p.y+1);\r\n                    if(!map_seen.containsKey(nextS)) {\r\n                        q.add(nextP);\r\n                    }\r\n                }\r\n    \r\n                if(isFree(maze, p.x,p.y-1)) {\r\n                    Box nextP= new Box(p.x,p.y-1,p);\r\n                    String nextS= Integer.toString(p.x) + Integer.toString(p.y-1);\r\n                    if(!map_seen.containsKey(nextS)) {\r\n                        q.add(nextP);\r\n                    }\r\n                }\r\n            }\r\n            System.out.println(&quot;exited reached&quot;);\r\n        }\r\n    \r\n    \r\n        public static boolean isFree(int[][] maze, int x, int y) {\r\n            if((x &gt;= 0 &amp;&amp; x &lt; maze[0].length) &amp;&amp; (y &gt;= 0 &amp;&amp; y &lt; maze.length) &amp;&amp; (maze[y][x] == 0 || maze[y][x] == 9)) {\r\n                return true;\r\n            }\r\n            return false;\r\n            \r\n                \r\n        }\r\n    \r\n        public static ArrayList&lt;Integer&gt; getPath(Box node, int[][] maze, ArrayList&lt;Integer&gt; path){\r\n            while(node!=null){\r\n                path.add(node.x);\r\n                path.add(node.y);\r\n                maze[node.y][node.x] = 2;\r\n                node = node.parent;\r\n            }\r\n            return path;\r\n        }","title":"Simple Breadth First Search not finding target","body":"<p>This is a standard BFS finding the path through a 2D array maze of 1s and 0s to find a 9.</p>\n<p>when dequeue-ing, node coordinates are stored as a string to a hashMap. Items are only added to the queue if they are within bounds, contain a 0, or 9, and are not in the hashMap keys.</p>\n<p>The loop exits without ever reaching the target. And I have no idea which part is wrong.</p>\n<pre><code>    public static Queue&lt;Box&gt; q = new LinkedList&lt;Box&gt;();\n    public static HashMap&lt;String,Boolean&gt; map_seen = new HashMap&lt;String,Boolean&gt;();\n    public static void searchPath(int[][] maze, int x, int y, ArrayList&lt;Integer&gt; path) {\n        q.add(new Box(x,y,null));\n\n        while(!q.isEmpty()) {\n            \n            Box p = q.poll();\n            String ps = Integer.toString(p.x) + Integer.toString(p.y);\n            map_seen.put(ps, true);\n\n            if (maze[p.y][p.x] == 9) {\n                System.out.println(&quot;target found! &quot;);\n                getPath(p, maze, path);\n                return;\n            }\n\n            if(isFree(maze, p.x+1,p.y)) {             \n                Box nextP= new Box(p.x+1,p.y,p);\n                String nextS= Integer.toString(p.x+1) + Integer.toString(p.y);\n                if(!map_seen.containsKey(nextS)) {\n                    q.add(nextP);\n                }\n            }\n\n            if(isFree(maze, p.x-1,p.y)) {               \n                Box nextP= new Box(p.x-1,p.y,p);\n                String nextS= Integer.toString(p.x-1) + Integer.toString(p.y);\n                if(!map_seen.containsKey(nextS)) {\n                    q.add(nextP);\n                }\n            }\n\n            if(isFree(maze, p.x,p.y+1)) {               \n                Box nextP= new Box(p.x,p.y+1,p);\n                String nextS= Integer.toString(p.x) + Integer.toString(p.y+1);\n                if(!map_seen.containsKey(nextS)) {\n                    q.add(nextP);\n                }\n            }\n\n            if(isFree(maze, p.x,p.y-1)) {\n                Box nextP= new Box(p.x,p.y-1,p);\n                String nextS= Integer.toString(p.x) + Integer.toString(p.y-1);\n                if(!map_seen.containsKey(nextS)) {\n                    q.add(nextP);\n                }\n            }\n        }\n        System.out.println(&quot;exited reached&quot;);\n    }\n\n\n    public static boolean isFree(int[][] maze, int x, int y) {\n        if((x &gt;= 0 &amp;&amp; x &lt; maze[0].length) &amp;&amp; (y &gt;= 0 &amp;&amp; y &lt; maze.length) &amp;&amp; (maze[y][x] == 0 || maze[y][x] == 9)) {\n            return true;\n        }\n        return false;\n        \n            \n    }\n\n    public static ArrayList&lt;Integer&gt; getPath(Box node, int[][] maze, ArrayList&lt;Integer&gt; path){\n        while(node!=null){\n            path.add(node.x);\n            path.add(node.y);\n            maze[node.y][node.x] = 2;\n            node = node.parent;\n        }\n        return path;\n    }\n</code></pre>\n"},{"tags":["java","android","unity-game-engine"],"comments":[{"owner":{"account_id":2426236,"reputation":183,"user_id":2118151,"accept_rate":75,"display_name":"Daniel Cazares"},"score":0,"creation_date":1673492848,"post_id":75091067,"comment_id":132513311,"body_markdown":"To have a new activity without having to pause or hide Unity, you can use the Android Intent system. You can create a new activity and set it up to receive the results from the startActivityForResult call. Then, you can set up the new activity to return the user back to the main Unity activity when finished.","body":"To have a new activity without having to pause or hide Unity, you can use the Android Intent system. You can create a new activity and set it up to receive the results from the startActivityForResult call. Then, you can set up the new activity to return the user back to the main Unity activity when finished."},{"owner":{"account_id":13842478,"reputation":33,"user_id":9992391,"display_name":"hellaeon"},"score":0,"creation_date":1673493773,"post_id":75091067,"comment_id":132513421,"body_markdown":"Do you mean call it via my unity code something like ```using AndroidJavaClass pluginClass = new AndroidJavaClass(&quot;net.****.****.anotherActivity&quot;);\npluginClass.Call(&quot;startActivityForResult&quot;, intentObj, code);``` or similar? I would need to pass the Unity activity into that wouldn&#39;t I","body":"Do you mean call it via my unity code something like <code>using AndroidJavaClass pluginClass = new AndroidJavaClass(&quot;net.****.****.anotherActivity&quot;); pluginClass.Call(&quot;startActivityForResult&quot;, intentObj, code);</code> or similar? I would need to pass the Unity activity into that wouldn&#39;t I"},{"owner":{"account_id":2426236,"reputation":183,"user_id":2118151,"accept_rate":75,"display_name":"Daniel Cazares"},"score":0,"creation_date":1673495290,"post_id":75091067,"comment_id":132513601,"body_markdown":"I&#39;ve added my answer. Please let me know if that&#39;s what you had in mind, you need clarity, or if it&#39;s correct mark it as such. I hope I helped!","body":"I&#39;ve added my answer. Please let me know if that&#39;s what you had in mind, you need clarity, or if it&#39;s correct mark it as such. I hope I helped!"},{"owner":{"account_id":2426236,"reputation":183,"user_id":2118151,"accept_rate":75,"display_name":"Daniel Cazares"},"score":0,"creation_date":1673497845,"post_id":75091067,"comment_id":132513920,"body_markdown":"I just noticed your last bullet point. D&#39;oh! Then in that case use FLAG_ACTIVITY_NEW_DOCUMENT","body":"I just noticed your last bullet point. D&#39;oh! Then in that case use FLAG_ACTIVITY_NEW_DOCUMENT"},{"owner":{"account_id":13842478,"reputation":33,"user_id":9992391,"display_name":"hellaeon"},"score":0,"creation_date":1673498375,"post_id":75091067,"comment_id":132514018,"body_markdown":"Excellent, let me give this a try.","body":"Excellent, let me give this a try."},{"owner":{"account_id":2426236,"reputation":183,"user_id":2118151,"accept_rate":75,"display_name":"Daniel Cazares"},"score":0,"creation_date":1673498895,"post_id":75091067,"comment_id":132514106,"body_markdown":"Updated my answer, as well. Wasn&#39;t able to invest as much time in detailing my answer but I do explain the flag&#39;s function a bit. Hope it&#39;s what you need!","body":"Updated my answer, as well. Wasn&#39;t able to invest as much time in detailing my answer but I do explain the flag&#39;s function a bit. Hope it&#39;s what you need!"},{"owner":{"account_id":2426236,"reputation":183,"user_id":2118151,"accept_rate":75,"display_name":"Daniel Cazares"},"score":0,"creation_date":1673500765,"post_id":75091067,"comment_id":132514423,"body_markdown":"Going to log off now but please let me know how it goes. I thought of an alternative way using a DialogFragment to launch your package installer.","body":"Going to log off now but please let me know how it goes. I thought of an alternative way using a DialogFragment to launch your package installer."}],"answers":[{"comments":[{"owner":{"account_id":13842478,"reputation":33,"user_id":9992391,"display_name":"hellaeon"},"score":0,"creation_date":1673497945,"post_id":75091270,"comment_id":132513931,"body_markdown":"Thanks for the detailed response. I missed a crucial detail in my code argh! sorry about that. I am extending the UnityPlayerActivity currently and I can get the results that&#39;s not a problem. Please see my java class signature.\n\nMy issue is the flow of this is really clunky. I don&#39;t like using the main unity task (as you noted above) as it switches between my activity and the main unity one, making it a jaded user experience.\n\nI want to implement your suggestion - launching a second activity - passing in the unity context - and when it&#39;s done, returning. This way Unity wont hide.","body":"Thanks for the detailed response. I missed a crucial detail in my code argh! sorry about that. I am extending the UnityPlayerActivity currently and I can get the results that&#39;s not a problem. Please see my java class signature.  My issue is the flow of this is really clunky. I don&#39;t like using the main unity task (as you noted above) as it switches between my activity and the main unity one, making it a jaded user experience.  I want to implement your suggestion - launching a second activity - passing in the unity context - and when it&#39;s done, returning. This way Unity wont hide."},{"owner":{"account_id":13842478,"reputation":33,"user_id":9992391,"display_name":"hellaeon"},"score":0,"creation_date":1673498095,"post_id":75091270,"comment_id":132513960,"body_markdown":"&#39;hide&#39; - That is switch between the Unity activity and mine. &#39;Stacking&#39; the activity I believe I can do?","body":"&#39;hide&#39; - That is switch between the Unity activity and mine. &#39;Stacking&#39; the activity I believe I can do?"},{"owner":{"account_id":13842478,"reputation":33,"user_id":9992391,"display_name":"hellaeon"},"score":0,"creation_date":1673501651,"post_id":75091270,"comment_id":132514594,"body_markdown":"Thanks for the updated code. And the explanation, you have helped clarify a heap of android knowledge. \nOn the VR devices I am using (running an app in 2D mode!) this does work as expected, but the unity activity still `stops` for my activity to do it&#39;s thing, and I can see this in the log. Before calling install prompt it calls `OnPause`, `OnStop`. Once I get a result, it calls `OnResume`. This may be a limitation of the android systems I am using in VR. Can I run an independent activity over the unity app? (callback to unity from the separate java class, and resume the main unity context?)","body":"Thanks for the updated code. And the explanation, you have helped clarify a heap of android knowledge.  On the VR devices I am using (running an app in 2D mode!) this does work as expected, but the unity activity still <code>stops</code> for my activity to do it&#39;s thing, and I can see this in the log. Before calling install prompt it calls <code>OnPause</code>, <code>OnStop</code>. Once I get a result, it calls <code>OnResume</code>. This may be a limitation of the android systems I am using in VR. Can I run an independent activity over the unity app? (callback to unity from the separate java class, and resume the main unity context?)"},{"owner":{"account_id":2426236,"reputation":183,"user_id":2118151,"accept_rate":75,"display_name":"Daniel Cazares"},"score":0,"creation_date":1673503300,"post_id":75091270,"comment_id":132514874,"body_markdown":"Potentially, but there is always a workaround.  It&#39;s highly likely that it&#39;s due to the new activity&#39;s behavior requirements that cause Unity to pause or lose focus. If that&#39;s the case, you can easily try intentObject.Call&lt;AndroidJavaObject&gt;(&quot;addFlags&quot;, FLAG_ACTIVITY_NO_HISTORY);","body":"Potentially, but there is always a workaround.  It&#39;s highly likely that it&#39;s due to the new activity&#39;s behavior requirements that cause Unity to pause or lose focus. If that&#39;s the case, you can easily try intentObject.Call&lt;AndroidJavaObject&gt;(&quot;addFlags&quot;, FLAG_ACTIVITY_NO_HISTORY);"},{"owner":{"account_id":2426236,"reputation":183,"user_id":2118151,"accept_rate":75,"display_name":"Daniel Cazares"},"score":0,"creation_date":1673504152,"post_id":75091270,"comment_id":132515024,"body_markdown":"When you start a new activity with the `FLAG_ACTIVITY_NO_HISTORY` flag, the current activity will call onPause and the new activity will call onCreate, onStart and onResume. We start a new activity that doesn&#39;t have FLAG_ACTIVITY_NO_HISTORY, so the current Unity activity calls onPause and onStop and the new activity calls onCreate, onStart and onResume. As a result, Unity ends up losing focus and becomes paused. When you use FLAG_ACTIVITY_NO_HISTORY flag and FLAG_ACTIVITY_NEW_DOCUMENT in tandem, the new activity will be launched in a new task, but it will not be added to the task&#39;s back stack.","body":"When you start a new activity with the <code>FLAG_ACTIVITY_NO_HISTORY</code> flag, the current activity will call onPause and the new activity will call onCreate, onStart and onResume. We start a new activity that doesn&#39;t have FLAG_ACTIVITY_NO_HISTORY, so the current Unity activity calls onPause and onStop and the new activity calls onCreate, onStart and onResume. As a result, Unity ends up losing focus and becomes paused. When you use FLAG_ACTIVITY_NO_HISTORY flag and FLAG_ACTIVITY_NEW_DOCUMENT in tandem, the new activity will be launched in a new task, but it will not be added to the task&#39;s back stack."},{"owner":{"account_id":2426236,"reputation":183,"user_id":2118151,"accept_rate":75,"display_name":"Daniel Cazares"},"score":0,"creation_date":1673505700,"post_id":75091270,"comment_id":132515374,"body_markdown":"Let me give it some thought and get back to you.","body":"Let me give it some thought and get back to you."},{"owner":{"account_id":13842478,"reputation":33,"user_id":9992391,"display_name":"hellaeon"},"score":0,"creation_date":1673568821,"post_id":75091270,"comment_id":132534868,"body_markdown":"Big thank you for all the help. It&#39;s an important problem to solve so the user experience is much smoother. Cheers.","body":"Big thank you for all the help. It&#39;s an important problem to solve so the user experience is much smoother. Cheers."},{"owner":{"account_id":13842478,"reputation":33,"user_id":9992391,"display_name":"hellaeon"},"score":0,"creation_date":1673575394,"post_id":75091270,"comment_id":132535822,"body_markdown":"Its much better now but it still minimises the unity3d app. I was able to validate this by simply clicking on the unity icon and noticing the app comes up in the same place as it was. I could &#39;hide&#39; it again by clicking the icon once more. Is there some other flag I can add to prevent it from minimising?","body":"Its much better now but it still minimises the unity3d app. I was able to validate this by simply clicking on the unity icon and noticing the app comes up in the same place as it was. I could &#39;hide&#39; it again by clicking the icon once more. Is there some other flag I can add to prevent it from minimising?"},{"owner":{"account_id":13842478,"reputation":33,"user_id":9992391,"display_name":"hellaeon"},"score":0,"creation_date":1673827346,"post_id":75091270,"comment_id":132578572,"body_markdown":"Would love to get your input on my other problem `@Daniel Cazares` , cheers https://stackoverflow.com/questions/75129226/use-an-observer-to-watch-a-settings-change-in-a-unity3d-android-application-or","body":"Would love to get your input on my other problem <code>@Daniel Cazares</code> , cheers <a href=\"https://stackoverflow.com/questions/75129226/use-an-observer-to-watch-a-settings-change-in-a-unity3d-android-application-or\" title=\"use an observer to watch a settings change in a unity3d android application or\">stackoverflow.com/questions/75129226/&hellip;</a>"}],"tags":[],"owner":{"account_id":2426236,"reputation":183,"user_id":2118151,"accept_rate":75,"display_name":"Daniel Cazares"},"comment_count":9,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673498649,"creation_date":1673494155,"answer_id":75091270,"question_id":75091067,"body_markdown":"Based on the above information, try using `FLAG_ACTIVITY_NEW_DOCUMENT` which starts an activity as the new root of an existing task, allowing the user to navigate back to the previous task when it finishes. Unlike `FLAG_ACTIVITY_NEW_TASK`, it doesn&#39;t clear the existing task.\r\n\r\nBe sure to note that this flag should only be used when the activity is the primary entry point of a task (which it is in your case) and doesn&#39;t have any entry point ancestors in the task&#39;s stack.\r\n\r\n```java\r\nusing AndroidJavaClass unityPlayer = new AndroidJavaClass(&quot;com.unity3d.player.UnityPlayer&quot;);\r\nusing AndroidJavaObject currentActivity = unityPlayer.GetStatic&lt;AndroidJavaObject&gt;(&quot;currentActivity&quot;);\r\nusing AndroidJavaObject unityContext = currentActivity.Call&lt;AndroidJavaObject&gt;(&quot;getApplicationContext&quot;);\r\n\r\nstring packageName = unityContext.Call&lt;string&gt;(&quot;getPackageName&quot;);\r\nstring authority = packageName + &quot;.provider&quot;;\r\n\r\nAndroidJavaClass intentClass = new AndroidJavaClass (&quot;android.content.Intent&quot;);\r\nstring ACTION_VIEW = intentClass.GetStatic&lt;string&gt;(&quot;ACTION_VIEW&quot;);\r\nAndroidJavaObject intentObject = new AndroidJavaObject(&quot;android.content.Intent&quot;, ACTION_VIEW);\r\n\r\nint FLAG_GRANT_READ_URI_PERMISSION = intentClass.GetStatic&lt;int&gt;(&quot;FLAG_GRANT_READ_URI_PERMISSION&quot;);\r\nint FLAG_GRANT_WRITE_URI_PERMISSION = intentClass.GetStatic&lt;int&gt;(&quot;FLAG_GRANT_WRITE_URI_PERMISSION&quot;);\r\nint FLAG_ACTIVITY_NEW_DOCUMENT = intentClass.GetStatic&lt;int&gt;(&quot;FLAG_ACTIVITY_NEW_DOCUMENT&quot;);\r\n\r\nusing AndroidJavaObject fileObj = new AndroidJavaObject(&quot;java.io.File&quot;, apkPath);\r\nusing AndroidJavaClass fileProvider = new AndroidJavaClass(&quot;androidx.core.content.FileProvider&quot;);\r\n\r\nobject[] providerParams = new object[3];\r\nproviderParams[0] = unityContext;\r\nproviderParams[1] = authority;\r\nproviderParams[2] = fileObj;\r\n\r\nusing AndroidJavaObject uri = fileProvider.CallStatic&lt;AndroidJavaObject&gt;(&quot;getUriForFile&quot;, providerParams);\r\n\r\nintentObject.Call&lt;AndroidJavaObject&gt;(&quot;setDataAndType&quot;, uri, &quot;application/vnd.android.package-archive&quot;);\r\nintentObject.Call&lt;AndroidJavaObject&gt;(&quot;addFlags&quot;, FLAG_ACTIVITY_NEW_DOCUMENT );\r\nintentObject.Call&lt;AndroidJavaObject&gt;(&quot;addFlags&quot;, FLAG_GRANT_READ_URI_PERMISSION | FLAG_GRANT_WRITE_URI_PERMISSION);\r\ncurrentActivity.Call(&quot;startActivityForResult&quot;, intentObject, INSTALL_CODE);\r\n```","title":"Run my android activity separate to the main unity3D activity","body":"<p>Based on the above information, try using <code>FLAG_ACTIVITY_NEW_DOCUMENT</code> which starts an activity as the new root of an existing task, allowing the user to navigate back to the previous task when it finishes. Unlike <code>FLAG_ACTIVITY_NEW_TASK</code>, it doesn't clear the existing task.</p>\n<p>Be sure to note that this flag should only be used when the activity is the primary entry point of a task (which it is in your case) and doesn't have any entry point ancestors in the task's stack.</p>\n<pre class=\"lang-java prettyprint-override\"><code>using AndroidJavaClass unityPlayer = new AndroidJavaClass(&quot;com.unity3d.player.UnityPlayer&quot;);\nusing AndroidJavaObject currentActivity = unityPlayer.GetStatic&lt;AndroidJavaObject&gt;(&quot;currentActivity&quot;);\nusing AndroidJavaObject unityContext = currentActivity.Call&lt;AndroidJavaObject&gt;(&quot;getApplicationContext&quot;);\n\nstring packageName = unityContext.Call&lt;string&gt;(&quot;getPackageName&quot;);\nstring authority = packageName + &quot;.provider&quot;;\n\nAndroidJavaClass intentClass = new AndroidJavaClass (&quot;android.content.Intent&quot;);\nstring ACTION_VIEW = intentClass.GetStatic&lt;string&gt;(&quot;ACTION_VIEW&quot;);\nAndroidJavaObject intentObject = new AndroidJavaObject(&quot;android.content.Intent&quot;, ACTION_VIEW);\n\nint FLAG_GRANT_READ_URI_PERMISSION = intentClass.GetStatic&lt;int&gt;(&quot;FLAG_GRANT_READ_URI_PERMISSION&quot;);\nint FLAG_GRANT_WRITE_URI_PERMISSION = intentClass.GetStatic&lt;int&gt;(&quot;FLAG_GRANT_WRITE_URI_PERMISSION&quot;);\nint FLAG_ACTIVITY_NEW_DOCUMENT = intentClass.GetStatic&lt;int&gt;(&quot;FLAG_ACTIVITY_NEW_DOCUMENT&quot;);\n\nusing AndroidJavaObject fileObj = new AndroidJavaObject(&quot;java.io.File&quot;, apkPath);\nusing AndroidJavaClass fileProvider = new AndroidJavaClass(&quot;androidx.core.content.FileProvider&quot;);\n\nobject[] providerParams = new object[3];\nproviderParams[0] = unityContext;\nproviderParams[1] = authority;\nproviderParams[2] = fileObj;\n\nusing AndroidJavaObject uri = fileProvider.CallStatic&lt;AndroidJavaObject&gt;(&quot;getUriForFile&quot;, providerParams);\n\nintentObject.Call&lt;AndroidJavaObject&gt;(&quot;setDataAndType&quot;, uri, &quot;application/vnd.android.package-archive&quot;);\nintentObject.Call&lt;AndroidJavaObject&gt;(&quot;addFlags&quot;, FLAG_ACTIVITY_NEW_DOCUMENT );\nintentObject.Call&lt;AndroidJavaObject&gt;(&quot;addFlags&quot;, FLAG_GRANT_READ_URI_PERMISSION | FLAG_GRANT_WRITE_URI_PERMISSION);\ncurrentActivity.Call(&quot;startActivityForResult&quot;, intentObject, INSTALL_CODE);\n</code></pre>\n"}],"owner":{"account_id":13842478,"reputation":33,"user_id":9992391,"display_name":"hellaeon"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":380,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75091270,"answer_count":1,"score":0,"last_activity_date":1673498649,"creation_date":1673491642,"question_id":75091067,"body_markdown":"I am working on an an app for a client and extending the unity player activity to help me do some android specific tasks.\r\n\r\nI do this so I can capture results from a `startActivityForResult` call, and so I can return from my activities back to Unity.\r\n\r\nWhat I would like some advice on is how I can change this so it&#39;s not mixed in with my extended Unity player activity, but it is it&#39;s own activity that still captures the results and return the user back to the main Unity activity when finished.\r\n\r\nI am hoping to not have to hide unity and instead have a new activity on the activity stack. I&#39;m just unsure how I should go about it or if I have the thought process correct (please correct me if I am wrong)\r\n\r\nThis is my code that currently works but minimises Unity while it does my task:\r\n```\r\npublic class MyActivity extends UnityPlayerActivity\r\n{\r\n    private static final String MyTag = &quot;######&quot;;\r\n    private static final int INSTALL_CODE = 100;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        Log.i(MyTag, &quot;onCreate() -------------------------&quot;);\r\n    }\r\n&#160;\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        Log.i(MyTag, &quot;onActivityResult() -------------------------&quot;  + requestCode + &quot; --- &quot; + resultCode);\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (requestCode == INSTALL_CODE)\r\n        {\r\n            // installed!\r\n            if (resultCode == -1)\r\n                UnityPlayer.UnitySendMessage(&quot;Canvas_CloudDeploy&quot;, &quot;AndroidAPKInstallCallback&quot;, &quot;true&quot;);\r\n            else\r\n                UnityPlayer.UnitySendMessage(&quot;Canvas_CloudDeploy&quot;, &quot;AndroidAPKInstallCallback&quot;, &quot;false&quot;);\r\n        }\r\n    }\r\n&#160;\r\n    @Override protected void onStop()\r\n    {\r\n        Log.i(MyTag, &quot;onStop() -------------------------&quot;);\r\n        super.onStop();\r\n    }\r\n&#160;\r\n    // Quit Unity\r\n    @Override protected void onDestroy ()\r\n    {\r\n        Log.i(MyTag, &quot;onDestroy() -------------------------&quot;);\r\n        super.onDestroy();\r\n    }\r\n&#160;\r\n    // Pause Unity\r\n    @Override protected void onPause()\r\n    {\r\n        Log.i(MyTag, &quot;onPause() -------------------------&quot;);\r\n        super.onPause();\r\n    }\r\n&#160;\r\n    // Resume Unity\r\n    @Override protected void onResume()\r\n    {\r\n        Log.i(MyTag, &quot;onResume() -------------------------&quot;);\r\n        super.onResume();\r\n    }\r\n}\r\n```\r\nUnity calling code:\r\n```\r\nusing AndroidJavaClass unityPlayer = new AndroidJavaClass(&quot;com.unity3d.player.UnityPlayer&quot;);\r\nusing AndroidJavaObject currentActivity = unityPlayer.GetStatic&lt;AndroidJavaObject&gt;(&quot;currentActivity&quot;);\r\nusing AndroidJavaObject unityContext = currentActivity.Call&lt;AndroidJavaObject&gt;(&quot;getApplicationContext&quot;);\r\n\r\nstring packageName = unityContext.Call&lt;string&gt;(&quot;getPackageName&quot;);\r\nstring authority = packageName + &quot;.provider&quot;;\r\n\r\nAndroidJavaClass intentClass = new AndroidJavaClass (&quot;android.content.Intent&quot;);\r\nstring ACTION_VIEW = intentClass.GetStatic&lt;string&gt;(&quot;ACTION_VIEW&quot;);\r\nAndroidJavaObject intentObject = new AndroidJavaObject(&quot;android.content.Intent&quot;, ACTION_VIEW);\r\n\r\nint FLAG_GRANT_READ_URI_PERMISSION = intentClass.GetStatic&lt;int&gt;(&quot;FLAG_GRANT_READ_URI_PERMISSION&quot;);\r\nint FLAG_GRANT_WRITE_URI_PERMISSION = intentClass.GetStatic&lt;int&gt;(&quot;FLAG_GRANT_WRITE_URI_PERMISSION&quot;);\r\nstring EXTRA_RETURN_RESULT = intentClass.GetStatic&lt;string&gt;(&quot;EXTRA_RETURN_RESULT&quot;);\r\nint FLAG_ACTIVITY_CLEAR_TASK = intentClass.GetStatic&lt;int&gt;(&quot;FLAG_ACTIVITY_CLEAR_TASK&quot;);\r\n\r\nusing AndroidJavaObject fileObj = new AndroidJavaObject(&quot;java.io.File&quot;, apkPath);\r\nusing AndroidJavaClass fileProvider = new AndroidJavaClass(&quot;androidx.core.content.FileProvider&quot;);\r\n\r\nobject[] providerParams = new object[3];\r\nproviderParams[0] = unityContext;\r\nproviderParams[1] = authority;\r\nproviderParams[2] = fileObj;\r\n\r\nusing AndroidJavaObject uri = fileProvider.CallStatic&lt;AndroidJavaObject&gt;(&quot;getUriForFile&quot;, providerParams);\r\n\r\nintentObject.Call&lt;AndroidJavaObject&gt;(&quot;setDataAndType&quot;, uri, &quot;application/vnd.android.package-archive&quot;);\r\nintentObject.Call&lt;AndroidJavaObject&gt;(&quot;addFlags&quot;, FLAG_ACTIVITY_CLEAR_TASK );\r\nintentObject.Call&lt;AndroidJavaObject&gt;(&quot;addFlags&quot;, FLAG_GRANT_READ_URI_PERMISSION | FLAG_GRANT_WRITE_URI_PERMISSION);\r\nintentObject.Call&lt;AndroidJavaObject&gt;(&quot;putExtra&quot;, EXTRA_RETURN_RESULT, true);\r\ncurrentActivity.Call(&quot;startActivityForResult&quot;, intentObject, 100);\r\n```\r\n\r\nMy android Manifest:\r\n\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; package=&quot;com.unity3d.player&quot; xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n  &lt;application android:requestLegacyExternalStorage=&quot;true&quot;&gt;\r\n    &lt;activity android:name=&quot;net.****.****.MyActivity&quot; android:theme=&quot;@style/UnityThemeSelector&quot; android:screenOrientation=&quot;landscape&quot; android:launchMode=&quot;singleTask&quot; android:configChanges=&quot;mcc|mnc|locale|touchscreen|keyboard|keyboardHidden|navigation|orientation|screenLayout|uiMode|screenSize|smallestScreenSize|fontScale|layoutDirection|density&quot; android:hardwareAccelerated=&quot;true&quot;&gt;\r\n      &lt;intent-filter&gt;\r\n        &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n        &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n      &lt;/intent-filter&gt;\r\n    &lt;/activity&gt;\r\n    &lt;meta-data android:name=&quot;unity.splash-mode&quot; android:value=&quot;0&quot; /&gt;\r\n    &lt;meta-data android:name=&quot;unity.splash-enable&quot; android:value=&quot;True&quot; /&gt;\r\n  &lt;/application&gt;\r\n  &lt;uses-feature android:glEsVersion=&quot;0x00030000&quot; /&gt;\r\n  &lt;uses-feature android:name=&quot;android.hardware.vulkan.version&quot; android:required=&quot;false&quot; /&gt;\r\n  &lt;uses-feature android:name=&quot;android.hardware.touchscreen&quot; android:required=&quot;false&quot; /&gt;\r\n  &lt;uses-feature android:name=&quot;android.hardware.touchscreen.multitouch&quot; android:required=&quot;false&quot; /&gt;\r\n  &lt;uses-feature android:name=&quot;android.hardware.touchscreen.multitouch.distinct&quot; android:required=&quot;false&quot; /&gt;\r\n  &lt;uses-permission android:name=&quot;android.permission.WRITE_SETTINGS&quot; /&gt;\r\n  &lt;uses-permission android:name=&quot;android.permission.REQUEST_INSTALL_PACKAGES&quot; /&gt;\r\n  &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n  &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n  &lt;uses-permission android:name=&quot;android.permission.REQUEST_DELETE_PACKAGES&quot; /&gt;\r\n  &lt;uses-permission android:name=&quot;android.permission.WRITE_INTERNAL_STORAGE&quot; /&gt;\r\n  &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\r\n&lt;/manifest&gt;\r\n```\r\n\r\nTo summarise my questions are:\r\n\r\n - When my activities run, because of how I call them in Unity, Unity is always stopped, then resumed. Can it simply be a new android activity running over the top of the Unity activity?\r\n - If so, what&#39;s the right way to do it. I believe I need to call my activity from the extended unity class above, and pass in the unity context to it, so it knows how to get back once finished. But - I am a unsure. Lots of half examples to try and piece together.\r\n - I need my activity to call back into the main unity activity once finished. It will need to send back the activity result and then resume the unity activity. I am doing this above, but want this in that separate activity class.\r\n - If I use `FLAG_ACTIVITY_NEW_TASK` I almost get the behaviour I like (Shows android activity on top of mine), [but you cant use that flag when requesting an activity result][1] and it wont work as desired.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/content/Intent#FLAG_ACTIVITY_NEW_TASK","title":"Run my android activity separate to the main unity3D activity","body":"<p>I am working on an an app for a client and extending the unity player activity to help me do some android specific tasks.</p>\n<p>I do this so I can capture results from a <code>startActivityForResult</code> call, and so I can return from my activities back to Unity.</p>\n<p>What I would like some advice on is how I can change this so it's not mixed in with my extended Unity player activity, but it is it's own activity that still captures the results and return the user back to the main Unity activity when finished.</p>\n<p>I am hoping to not have to hide unity and instead have a new activity on the activity stack. I'm just unsure how I should go about it or if I have the thought process correct (please correct me if I am wrong)</p>\n<p>This is my code that currently works but minimises Unity while it does my task:</p>\n<pre><code>public class MyActivity extends UnityPlayerActivity\n{\n    private static final String MyTag = &quot;######&quot;;\n    private static final int INSTALL_CODE = 100;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        Log.i(MyTag, &quot;onCreate() -------------------------&quot;);\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        Log.i(MyTag, &quot;onActivityResult() -------------------------&quot;  + requestCode + &quot; --- &quot; + resultCode);\n        super.onActivityResult(requestCode, resultCode, data);\n        if (requestCode == INSTALL_CODE)\n        {\n            // installed!\n            if (resultCode == -1)\n                UnityPlayer.UnitySendMessage(&quot;Canvas_CloudDeploy&quot;, &quot;AndroidAPKInstallCallback&quot;, &quot;true&quot;);\n            else\n                UnityPlayer.UnitySendMessage(&quot;Canvas_CloudDeploy&quot;, &quot;AndroidAPKInstallCallback&quot;, &quot;false&quot;);\n        }\n    }\n\n    @Override protected void onStop()\n    {\n        Log.i(MyTag, &quot;onStop() -------------------------&quot;);\n        super.onStop();\n    }\n\n    // Quit Unity\n    @Override protected void onDestroy ()\n    {\n        Log.i(MyTag, &quot;onDestroy() -------------------------&quot;);\n        super.onDestroy();\n    }\n\n    // Pause Unity\n    @Override protected void onPause()\n    {\n        Log.i(MyTag, &quot;onPause() -------------------------&quot;);\n        super.onPause();\n    }\n\n    // Resume Unity\n    @Override protected void onResume()\n    {\n        Log.i(MyTag, &quot;onResume() -------------------------&quot;);\n        super.onResume();\n    }\n}\n</code></pre>\n<p>Unity calling code:</p>\n<pre><code>using AndroidJavaClass unityPlayer = new AndroidJavaClass(&quot;com.unity3d.player.UnityPlayer&quot;);\nusing AndroidJavaObject currentActivity = unityPlayer.GetStatic&lt;AndroidJavaObject&gt;(&quot;currentActivity&quot;);\nusing AndroidJavaObject unityContext = currentActivity.Call&lt;AndroidJavaObject&gt;(&quot;getApplicationContext&quot;);\n\nstring packageName = unityContext.Call&lt;string&gt;(&quot;getPackageName&quot;);\nstring authority = packageName + &quot;.provider&quot;;\n\nAndroidJavaClass intentClass = new AndroidJavaClass (&quot;android.content.Intent&quot;);\nstring ACTION_VIEW = intentClass.GetStatic&lt;string&gt;(&quot;ACTION_VIEW&quot;);\nAndroidJavaObject intentObject = new AndroidJavaObject(&quot;android.content.Intent&quot;, ACTION_VIEW);\n\nint FLAG_GRANT_READ_URI_PERMISSION = intentClass.GetStatic&lt;int&gt;(&quot;FLAG_GRANT_READ_URI_PERMISSION&quot;);\nint FLAG_GRANT_WRITE_URI_PERMISSION = intentClass.GetStatic&lt;int&gt;(&quot;FLAG_GRANT_WRITE_URI_PERMISSION&quot;);\nstring EXTRA_RETURN_RESULT = intentClass.GetStatic&lt;string&gt;(&quot;EXTRA_RETURN_RESULT&quot;);\nint FLAG_ACTIVITY_CLEAR_TASK = intentClass.GetStatic&lt;int&gt;(&quot;FLAG_ACTIVITY_CLEAR_TASK&quot;);\n\nusing AndroidJavaObject fileObj = new AndroidJavaObject(&quot;java.io.File&quot;, apkPath);\nusing AndroidJavaClass fileProvider = new AndroidJavaClass(&quot;androidx.core.content.FileProvider&quot;);\n\nobject[] providerParams = new object[3];\nproviderParams[0] = unityContext;\nproviderParams[1] = authority;\nproviderParams[2] = fileObj;\n\nusing AndroidJavaObject uri = fileProvider.CallStatic&lt;AndroidJavaObject&gt;(&quot;getUriForFile&quot;, providerParams);\n\nintentObject.Call&lt;AndroidJavaObject&gt;(&quot;setDataAndType&quot;, uri, &quot;application/vnd.android.package-archive&quot;);\nintentObject.Call&lt;AndroidJavaObject&gt;(&quot;addFlags&quot;, FLAG_ACTIVITY_CLEAR_TASK );\nintentObject.Call&lt;AndroidJavaObject&gt;(&quot;addFlags&quot;, FLAG_GRANT_READ_URI_PERMISSION | FLAG_GRANT_WRITE_URI_PERMISSION);\nintentObject.Call&lt;AndroidJavaObject&gt;(&quot;putExtra&quot;, EXTRA_RETURN_RESULT, true);\ncurrentActivity.Call(&quot;startActivityForResult&quot;, intentObject, 100);\n</code></pre>\n<p>My android Manifest:</p>\n<pre><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; package=&quot;com.unity3d.player&quot; xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n  &lt;application android:requestLegacyExternalStorage=&quot;true&quot;&gt;\n    &lt;activity android:name=&quot;net.****.****.MyActivity&quot; android:theme=&quot;@style/UnityThemeSelector&quot; android:screenOrientation=&quot;landscape&quot; android:launchMode=&quot;singleTask&quot; android:configChanges=&quot;mcc|mnc|locale|touchscreen|keyboard|keyboardHidden|navigation|orientation|screenLayout|uiMode|screenSize|smallestScreenSize|fontScale|layoutDirection|density&quot; android:hardwareAccelerated=&quot;true&quot;&gt;\n      &lt;intent-filter&gt;\n        &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n        &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n      &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n    &lt;meta-data android:name=&quot;unity.splash-mode&quot; android:value=&quot;0&quot; /&gt;\n    &lt;meta-data android:name=&quot;unity.splash-enable&quot; android:value=&quot;True&quot; /&gt;\n  &lt;/application&gt;\n  &lt;uses-feature android:glEsVersion=&quot;0x00030000&quot; /&gt;\n  &lt;uses-feature android:name=&quot;android.hardware.vulkan.version&quot; android:required=&quot;false&quot; /&gt;\n  &lt;uses-feature android:name=&quot;android.hardware.touchscreen&quot; android:required=&quot;false&quot; /&gt;\n  &lt;uses-feature android:name=&quot;android.hardware.touchscreen.multitouch&quot; android:required=&quot;false&quot; /&gt;\n  &lt;uses-feature android:name=&quot;android.hardware.touchscreen.multitouch.distinct&quot; android:required=&quot;false&quot; /&gt;\n  &lt;uses-permission android:name=&quot;android.permission.WRITE_SETTINGS&quot; /&gt;\n  &lt;uses-permission android:name=&quot;android.permission.REQUEST_INSTALL_PACKAGES&quot; /&gt;\n  &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n  &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n  &lt;uses-permission android:name=&quot;android.permission.REQUEST_DELETE_PACKAGES&quot; /&gt;\n  &lt;uses-permission android:name=&quot;android.permission.WRITE_INTERNAL_STORAGE&quot; /&gt;\n  &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\n&lt;/manifest&gt;\n</code></pre>\n<p>To summarise my questions are:</p>\n<ul>\n<li>When my activities run, because of how I call them in Unity, Unity is always stopped, then resumed. Can it simply be a new android activity running over the top of the Unity activity?</li>\n<li>If so, what's the right way to do it. I believe I need to call my activity from the extended unity class above, and pass in the unity context to it, so it knows how to get back once finished. But - I am a unsure. Lots of half examples to try and piece together.</li>\n<li>I need my activity to call back into the main unity activity once finished. It will need to send back the activity result and then resume the unity activity. I am doing this above, but want this in that separate activity class.</li>\n<li>If I use <code>FLAG_ACTIVITY_NEW_TASK</code> I almost get the behaviour I like (Shows android activity on top of mine), <a href=\"https://developer.android.com/reference/android/content/Intent#FLAG_ACTIVITY_NEW_TASK\" rel=\"nofollow noreferrer\">but you cant use that flag when requesting an activity result</a> and it wont work as desired.</li>\n</ul>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1655058077,"post_id":72594367,"comment_id":128235007,"body_markdown":"Please provide a [mre] with enough details to recreate the problem. For example, what is the (minimal) code needed to cause the problem? (Add the formatted code to your question.) What is the actual problem? (Show us the text of any errors.) What version of Java are you using? (`java.net.http` was introduced in Java version 11.) How have you set up your project in VS Code?","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> with enough details to recreate the problem. For example, what is the (minimal) code needed to cause the problem? (Add the formatted code to your question.) What is the actual problem? (Show us the text of any errors.) What version of Java are you using? (<code>java.net.http</code> was introduced in Java version 11.) How have you set up your project in VS Code?"},{"owner":{"account_id":24435058,"reputation":6292,"user_id":18359438,"display_name":"MingJie-MSFT"},"score":0,"creation_date":1655084257,"post_id":72594367,"comment_id":128238780,"body_markdown":"What means &quot;VSCode is reporting problems&quot;. Provide some more details https://stackoverflow.com/help/minimal-reproducible-example","body":"What means &quot;VSCode is reporting problems&quot;. Provide some more details <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"}],"answers":[{"tags":[],"owner":{"account_id":17790156,"reputation":21,"user_id":12919373,"display_name":"NKSL2001"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673498200,"creation_date":1673491994,"answer_id":75091095,"question_id":72594367,"body_markdown":"As mentioned by andrewJames, `java.net.http` was introduced in Java version 11. Setup VS Code with JDK-17 under Command Palette (Ctrl+Shift+P) - Java: Configure Java Runtime resolve the issue. You might need to download JDK 11+ installer from online. \r\n\r\nReference: https://code.visualstudio.com/docs/java/java-project#_configure-jdk","title":"Is it possible to use java.net.http with VSCode &amp; Java Extension Plugin only?","body":"<p>As mentioned by andrewJames, <code>java.net.http</code> was introduced in Java version 11. Setup VS Code with JDK-17 under Command Palette (Ctrl+Shift+P) - Java: Configure Java Runtime resolve the issue. You might need to download JDK 11+ installer from online.</p>\n<p>Reference: <a href=\"https://code.visualstudio.com/docs/java/java-project#_configure-jdk\" rel=\"nofollow noreferrer\">https://code.visualstudio.com/docs/java/java-project#_configure-jdk</a></p>\n"}],"owner":{"account_id":17790156,"reputation":21,"user_id":12919373,"display_name":"NKSL2001"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":487,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75091095,"answer_count":1,"score":0,"last_activity_date":1673498200,"creation_date":1655054214,"question_id":72594367,"body_markdown":"I am collaborating with others and am using Visual Studio Code for doing the Java projects. As we are only sharing the source `.java` files only, I have no idea on how to run the code from others that imports java.net.http module. How should I run the code as VSCode is reporting problems?\r\n\r\nEdit: `javac --version` gives javac 1.8.0_332 which might be the problem.\r\nSteps to reproduce:\r\n1. open a folder\r\n2. create a java file\r\n3. import java.net.http.HttpClient;\r\n4. error: &quot;The import java.net.http cannot be resolved&quot;","title":"Is it possible to use java.net.http with VSCode &amp; Java Extension Plugin only?","body":"<p>I am collaborating with others and am using Visual Studio Code for doing the Java projects. As we are only sharing the source <code>.java</code> files only, I have no idea on how to run the code from others that imports java.net.http module. How should I run the code as VSCode is reporting problems?</p>\n<p>Edit: <code>javac --version</code> gives javac 1.8.0_332 which might be the problem.\nSteps to reproduce:</p>\n<ol>\n<li>open a folder</li>\n<li>create a java file</li>\n<li>import java.net.http.HttpClient;</li>\n<li>error: &quot;The import java.net.http cannot be resolved&quot;</li>\n</ol>\n"},{"tags":["java","compiler-errors","cannot-find-symbol"],"answers":[{"comments":[{"owner":{"account_id":2866181,"reputation":295,"user_id":2460466,"accept_rate":29,"display_name":"Jogi"},"score":0,"creation_date":1463988536,"post_id":25706217,"comment_id":62280066,"body_markdown":"I had another situation where this compilation error occured while eclipse didn&#39;t see the problem: Two classes with dependencies defined in the respectively other class. In my case I had an enum, implementing an interface, defined in a class where I foolishly already used the enum.","body":"I had another situation where this compilation error occured while eclipse didn&#39;t see the problem: Two classes with dependencies defined in the respectively other class. In my case I had an enum, implementing an interface, defined in a class where I foolishly already used the enum."},{"owner":{"account_id":4968577,"reputation":143,"user_id":4455435,"accept_rate":100,"display_name":"Andres Stadelmann"},"score":0,"creation_date":1464367351,"post_id":25706217,"comment_id":62473448,"body_markdown":"Somewhat similarly to the comment above, when I compile and run my program from Eclipse it works no problem. Compiling it from the console raises a bunch of these &quot;Cannot find symbol&quot; errors often related to last element in an import. I have no idea what is causing this as there is nothing wrong in the code really.","body":"Somewhat similarly to the comment above, when I compile and run my program from Eclipse it works no problem. Compiling it from the console raises a bunch of these &quot;Cannot find symbol&quot; errors often related to last element in an import. I have no idea what is causing this as there is nothing wrong in the code really."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1573741850,"post_id":25706217,"comment_id":103989302,"body_markdown":"Another problem is that IDEs may &quot;interpret&quot; other errors into this category. For instance `println` in `System.out.println` if placed at class level under standard compiler would give us `&lt;identifier&gt; expected` ([demo](https://ideone.com/61rvJB)) but in IntelliJ we will see `Cannot resolve symbol &#39;println&#39;` ([demo](https://i.stack.imgur.com/RgFoE.png)).","body":"Another problem is that IDEs may &quot;interpret&quot; other errors into this category. For instance <code>println</code> in <code>System.out.println</code> if placed at class level under standard compiler would give us <code>&lt;identifier&gt; expected</code> (<a href=\"https://ideone.com/61rvJB\" rel=\"nofollow noreferrer\">demo</a>) but in IntelliJ we will see <code>Cannot resolve symbol &#39;println&#39;</code> (<a href=\"https://i.stack.imgur.com/RgFoE.png\" rel=\"nofollow noreferrer\">demo</a>)."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1573742346,"post_id":25706217,"comment_id":103989611,"body_markdown":"Wow.  I would call that a compiler bug.","body":"Wow.  I would call that a compiler bug."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1620533373,"post_id":25706217,"comment_id":119226737,"body_markdown":"(It appears that Intellij has taken something that is syntactically invalid (a statement where a declaration is required), and then attempted to resolve the symbols.  But the compiler is sufficiently messed up that it is unable to resolve a symbol that should resolve ... and would resolve if the statement was in the correct context.  And that is resulting a misleading compilation error message.)","body":"(It appears that Intellij has taken something that is syntactically invalid (a statement where a declaration is required), and then attempted to resolve the symbols.  But the compiler is sufficiently messed up that it is unable to resolve a symbol that should resolve ... and would resolve if the statement was in the correct context.  And that is resulting a misleading compilation error message.)"},{"owner":{"account_id":1025526,"reputation":2173,"user_id":1034912,"accept_rate":64,"display_name":"user1034912"},"score":0,"creation_date":1676435425,"post_id":25706217,"comment_id":133134429,"body_markdown":"This doesn&#39;t help at aall","body":"This doesn&#39;t help at aall"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1676436324,"post_id":25706217,"comment_id":133134538,"body_markdown":"@user1034912 - Well ... read another answer then.   You have 17 more to chose from.  Or look at the details of your problem again and reread the above focusing on a specific area.  What *kind* of symbol can&#39;t the compiler resolve?  A variable? A method? A class?  A package?  Are you using an IDE?  Android?  Etcetera. (Hint: how can we help you if you don&#39;t tell us what your problem is?  Try asking a new question ... with some actual details in it.)","body":"@user1034912 - Well ... read another answer then.   You have 17 more to chose from.  Or look at the details of your problem again and reread the above focusing on a specific area.  What <i>kind</i> of symbol can&#39;t the compiler resolve?  A variable? A method? A class?  A package?  Are you using an IDE?  Android?  Etcetera. (Hint: how can we help you if you don&#39;t tell us what your problem is?  Try asking a new question ... with some actual details in it.)"}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":7,"down_vote_count":3,"up_vote_count":553,"is_accepted":true,"score":550,"last_activity_date":1673498166,"creation_date":1410052328,"answer_id":25706217,"question_id":25706216,"body_markdown":"&lt;h1&gt;0. Is there any difference between these errors?&lt;/h1&gt;\r\n\r\n\r\nNot really. &quot;Cannot find symbol&quot;, &quot;Cannot resolve symbol&quot; and &quot;Symbol not found&quot; all mean the same thing.  (Different Java compilers are written by different people, and different people use different phraseology to say the same thing.)\r\n\r\n\r\n&lt;h1&gt;1. What does a &quot;Cannot find symbol&quot; error mean?&lt;/h1&gt;\r\n\r\n\r\nFirstly, it is a *compilation error*&lt;sup&gt;1&lt;/sup&gt;.  It means that *either* there is a problem in your Java source code, *or* there is a problem in the way that you are compiling it.\r\n\r\nYour Java source code consists of the following things:\r\n\r\n  - Keywords: like `class`, `while`, and so on.\r\n  - Literals: like `true`, `false`, `42`, `&#39;X&#39;` and `&quot;Hi mum!&quot;`.\r\n  - Operators and other non-alphanumeric tokens: like `+`, `=`, `{`, and so on.\r\n  - Identifiers: like `Reader`, `i`, `toString`, `processEquibalancedElephants`, and so on.\r\n  - Comments and whitespace.\r\n\r\nA &quot;Cannot find symbol&quot; error is about the identifiers.  When your code is compiled, the compiler needs to work out what each and every identifier in your code means.  \r\n\r\nA &quot;Cannot find symbol&quot; error means that the compiler cannot do this.  Your code appears to be referring to something that the compiler doesn&#39;t understand.\r\n\r\n&lt;h1&gt;2. What can cause a &quot;Cannot find symbol&quot; error?&lt;/h1&gt;\r\n\r\n\r\nAs a first order, there is only one cause.  The compiler looked in all of the places where the identifier *should* be defined, and it couldn&#39;t find the definition.  This could be caused by a number of things.  The common ones are as follows:\r\n\r\n- For identifiers in general:\r\n  - Perhaps you spelled the name incorrectly; i.e. `StringBiulder` instead of `StringBuilder`.  Java cannot and will not attempt to compensate for bad spelling or typing errors.\r\n  - Perhaps you got the case wrong; i.e. `stringBuilder` instead of `StringBuilder`.  All Java identifiers are case sensitive.\r\n  - Perhaps you used underscores inappropriately; i.e. `mystring` and `my_string` are different.  (If you stick to the Java style rules, you will be largely protected from this mistake ...)\r\n  - Perhaps you are trying to use something that was declared &quot;somewhere else&quot;; i.e. in a different context to where you have implicitly told the compiler to look.  (A different class?  A different scope?  A different package?  A different code-base?)\r\n- For identifiers that should refer to variables:\r\n  - Perhaps you forgot to declare the variable.\r\n  - Perhaps the variable declaration is out of scope at the point you tried to use it.  (See example below)\r\n- For identifiers that should be method or field names:\r\n  - Perhaps you are trying to refer to an inherited method or field that wasn&#39;t declared in the parent / ancestor classes or interfaces.\r\n  - Perhaps you are trying to refer to a method or field that does not exist (i.e. has not been declared) in the type you are using; e.g. `&quot;rope&quot;.push()`&lt;sup&gt;2&lt;/sup&gt;.\r\n  - Perhaps you are trying to use a method as a field, or vice versa; e.g. `&quot;rope&quot;.length` or `someArray.length()`.\r\n  - Perhaps you are mistakenly operating on an array rather than array element; e.g.\r\n    \r\n            String strings[] = ...\r\n            if (strings.charAt(3)) { ... }\r\n            // maybe that should be &#39;strings[0].charAt(3)&#39;\r\n\r\n- For identifiers that should be class names:\r\n  - Perhaps you forgot to import the class.\r\n  - Perhaps you used &quot;star&quot; imports, but the class isn&#39;t defined in any of the packages that you imported.\r\n  - Perhaps you forgot a `new` as in:\r\n\r\n            String s = String();  // should be &#39;new String()&#39;\r\n  - Perhaps you are trying to import or otherwise use a class that has been declared in the *default package*; i.e. the one where classes with no `package` statements go.  \r\n\r\n    Hint: learn about packages.  You should only use the default package for simple applications that consist of one class ... or at a stretch, one Java source file.\r\n\r\n- For cases where type or instance doesn&#39;t appear to have the member (e.g. method or field) you were expecting it to have:\r\n   - Perhaps you have declared a nested class or a generic parameter that *shadows* the type you were meaning to use.\r\n   - Perhaps you are shadowing a static or instance variable.\r\n   - Perhaps you imported the wrong type; e.g. due to IDE completion or auto-correction may have suggested `java.awt.List` rather than `java.util.List`.\r\n   - Perhaps you are using (compiling against) the wrong version of an API.\r\n   - Perhaps you forgot to cast your object to an appropriate subclass.\r\n   - Perhaps you have declared the *variable&#39;s* type to be a supertype of the one with the member you are looking for.\r\n\r\nThe problem is often a combination of the above.  For example, maybe you &quot;star&quot; imported `java.io.*` and then tried to use the `Files` class ... which is in `java.nio` not `java.io`.  Or maybe you meant to write `File` ... which *is* a class in `java.io`.\r\n\r\n----------\r\n\r\nHere is an example of how incorrect variable scoping can lead to a &quot;Cannot find symbol&quot; error:\r\n\r\n    List&lt;String&gt; strings = ...\r\n    \r\n    for (int i = 0; i &lt; strings.size(); i++) {\r\n        if (strings.get(i).equalsIgnoreCase(&quot;fnord&quot;)) {\r\n            break;\r\n        }\r\n    }\r\n    if (i &lt; strings.size()) {\r\n        ...\r\n    }\r\n\r\nThis will give a &quot;Cannot find symbol&quot; error for `i` in the `if` statement.  Though we previously declared `i`, that declaration is only *in scope* for the `for` statement and its body.  The reference to `i` in the `if` statement *cannot see* that declaration of `i`.  It is *out of scope*.\r\n\r\n(An appropriate correction here might be to move the `if` statement inside the loop, or to declare `i` before the start of the loop.)\r\n\r\n---------------------\r\n\r\nHere is an example that causes puzzlement where a typo leads to a seemingly inexplicable &quot;Cannot find symbol&quot; error:\r\n\r\n    for (int i = 0; i &lt; 100; i++); {\r\n        System.out.println(&quot;i is &quot; + i);\r\n    }\r\n\r\nThis will give you a compilation error in the `println` call saying that `i` cannot be found.  But (I hear you say) I did declare it!\r\n\r\nThe problem is the sneaky semicolon ( `;` ) before the `{`.  The Java language syntax defines a semicolon in that context to be an *empty statement*.  The empty statement then becomes the body of the `for` loop.  So that code actually means this:\r\n\r\n    for (int i = 0; i &lt; 100; i++); \r\n\r\n    // The previous and following are separate statements!!\r\n\r\n    {\r\n        System.out.println(&quot;i is &quot; + i);\r\n    }\r\n\r\nThe `{ ... }` block is NOT the body of the `for` loop, and therefore the previous declaration of `i` in the `for` statement is *out of scope* in the block.\r\n\r\n------------\r\n\r\nHere is another example of &quot;Cannot find symbol&quot; error that is caused by a typo.\r\n\r\n    int tmp = ...\r\n    int res = tmp(a + b);\r\n\r\nDespite the previous declaration, the `tmp` in the `tmp(...)` expression is erroneous.  The compiler will look for a method called `tmp`, and won&#39;t find one.  The previously declared `tmp` is in the namespace for variables, not the namespace for methods.\r\n\r\nIn the example I came across, the programmer had actually left out an operator.  What he meant to write was this:\r\n\r\n    int res = tmp * (a + b);\r\n\r\n---------\r\n\r\nThere is another reason why the compiler might not find a symbol if you are compiling from the command line.  You might simply have forgotten to compile or recompile some other class.  For example, if you have classes `Foo` and `Bar` where `Foo` uses `Bar`.  If you have never compiled `Bar` and you run `javac Foo.java`, you are liable to find that the compiler can&#39;t find the symbol `Bar`.  The simple answer is to compile `Foo` and `Bar` together; e.g. `javac Foo.java Bar.java` or `javac *.java`.  Or better still use a Java build tool; e.g. Ant, Maven, Gradle and so on.\r\n\r\nThere are some other more obscure causes too ... which I will deal with below.\r\n\r\n\r\n&lt;h1&gt;3. How do I fix these errors ?&lt;/h1&gt;\r\n\r\n\r\nGenerally speaking, you start out by figuring out what *caused* the compilation error.\r\n\r\n  - Look at the line in the file indicated by the compilation error message.\r\n  - Identify which symbol that the error message is talking about.\r\n  - Figure out *why* the compiler is saying that it cannot find the symbol; see above!\r\n\r\nThen you *think* about what your code is supposed to be saying.  Then finally you work out what correction you need to make to your source code to do what you want.\r\n\r\nNote that not every &quot;correction&quot; is correct. Consider this:\r\n\r\n    for (int i = 1; i &lt; 10; i++) {\r\n        for (j = 1; j &lt; 10; j++) {\r\n            ...\r\n        }\r\n    }\r\n\r\nSuppose that the compiler says &quot;Cannot find symbol&quot; for `j`.  There are many ways I could &quot;fix&quot; that:\r\n\r\n  - I could change the inner `for` to `for (int j = 1; j &lt; 10; j++)` - probably correct.\r\n  - I could add a declaration for `j` *before* the inner `for` loop, or the outer `for` loop - possibly correct.\r\n  - I could change `j` to `i` in the inner `for` loop - probably wrong!\r\n  - and so on.\r\n\r\nThe point is that you *need* to understand what your code is trying to do in order to find the right fix.\r\n\r\n&lt;h1&gt;4.  Obscure causes&lt;/h1&gt;\r\n\r\nHere are a couple of cases where the &quot;Cannot find symbol&quot; is seemingly inexplicable ... until you look closer.\r\n\r\n1.  **Incorrect dependencies**: If you are using an IDE or a build tool that manages the build path and project dependencies, you may have made a mistake with the dependencies; e.g. left out a dependency, or selected the wrong version.  If you are using a build tool (Ant, Maven, Gradle, etc), check the project&#39;s build file.  If you are using an IDE, check the project&#39;s build path configuration.\r\n\r\n2.  **Cannot find symbol &#39;var&#39;**: You are probably trying to compile source code that uses local variable type inference (i.e. a `var` declaration) with an older compiler or older `--source` level.  The `var` was introduced in Java 10.  Check your JDK version and your build files, and (if this occurs in an IDE), the IDE settings.\r\n\r\n3.  **You are not compiling / recompiling**:  It sometimes happens that new Java programmers don&#39;t understand how the Java tool chain works, or haven&#39;t implemented a repeatable &quot;build process&quot;; e.g. using an IDE, Ant, Maven, Gradle and so on.  In such a situation, the programmer can end up chasing his tail looking for an illusory error that is *actually* caused by not recompiling the code properly, and the like.\r\n\r\n    Another example of this is when you use (Java 9+) `java SomeClass.java` to compile and run a class.  If the class depends on another class that you haven&#39;t compiled (or recompiled), you are liable to get &quot;Cannot resolve symbol&quot; errors referring to the 2nd class.  The other source file(s) are not automatically compiled.  The `java` command&#39;s new &quot;compile and run&quot; mode is not designed for running programs with multiple source code files.\r\n\r\n4.  **An earlier build problem**:  It is possible that an earlier build failed in a way that gave a JAR file with missing classes.  Such a failure would typically be noticed if you were using a build tool.  However if you are getting JAR files from someone else, you are dependent on *them* building properly, and noticing errors.  If you suspect this, use `tar -tvf` to list the contents of the suspect JAR file.\r\n\r\n5.  **IDE issues**: People have reported cases where their IDE gets confused and the compiler in the IDE cannot find a class that exists ... or the reverse situation.  \r\n\r\n    - This could happen if the IDE has been configured with the wrong JDK version.\r\n\r\n    - This could happen if the IDE&#39;s caches get out of sync with the file system.  There are IDE specific ways to fix that.\r\n\r\n    - This could be an IDE bug.  For instance @Joel Costigliola described a scenario where Eclipse did not handle a Maven &quot;test&quot; tree correctly: [**see this answer**](https://stackoverflow.com/a/37207223/139985).  (Apparently that particular bug was been fixed a long time ago.)\r\n\r\n6.  **Android issues**: When you are programming for Android, and you have &quot;Cannot find symbol&quot; errors related to `R`, be aware that the `R` symbols are defined by the `context.xml` file.  Check that your `context.xml` file is correct and in the correct place, and that the corresponding `R` class file has been generated / compiled.  Note that the Java symbols are case sensitive, so the corresponding XML ids are be case sensitive too.\r\n\r\n    Other symbol errors on Android are likely to be due to previously mention reasons; e.g. missing or incorrect dependencies, incorrect package names, method or fields that don&#39;t exist in a particular API version, spelling / typing errors, and so on.\r\n\r\n7.  **Hiding system classes**: I&#39;ve seen cases where the compiler complains that `substring` is an unknown symbol in something like the following\r\n\r\n        String s = ...\r\n        String s1 = s.substring(1);\r\n\r\n    It turned out that the programmer had created their own version of `String` and that his version of the class didn&#39;t define a `substring` methods.  I&#39;ve seen people do this with `System`, `Scanner` and other classes.\r\n\r\n    *Lesson:* Don&#39;t define your own classes with the same names as common library classes!\r\n\r\n    The problem can also be solved by using the fully qualified names.  For example, in the example above, the programmer *could* have written:\r\n\r\n        java.lang.String s = ...\r\n        java.lang.String s1 = s.substring(1);\r\n\r\n8.  **Homoglyphs:**  If you use UTF-8 encoding for your source files, it is possible to have identifiers that *look* the same, but are in fact different because they contain homoglyphs.   See [this page][1] for more information.  \r\n\r\n    You can avoid this by restricting yourself to ASCII or Latin-1 as the source file encoding, and using Java `\\uxxxx` escapes for other characters.\r\n\r\n\r\n-------------\r\n\r\n&lt;sup&gt;1 - If, perchance, you *do* see this in a runtime exception or error message, then either you have configured your IDE to run code with compilation errors, or your application is generating and compiling code .. at runtime.&lt;br&gt;\r\n2 - The three basic principles of Civil Engineering: water doesn&#39;t flow uphill, a plank is stronger on its side, and *you can&#39;t push on a rope*.&lt;/sup&gt;\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Homoglyph","title":"What does a &quot;Cannot find symbol&quot; or &quot;Cannot resolve symbol&quot; error mean?","body":"<h1>0. Is there any difference between these errors?</h1>\n<p>Not really. &quot;Cannot find symbol&quot;, &quot;Cannot resolve symbol&quot; and &quot;Symbol not found&quot; all mean the same thing.  (Different Java compilers are written by different people, and different people use different phraseology to say the same thing.)</p>\n<h1>1. What does a \"Cannot find symbol\" error mean?</h1>\n<p>Firstly, it is a <em>compilation error</em><sup>1</sup>.  It means that <em>either</em> there is a problem in your Java source code, <em>or</em> there is a problem in the way that you are compiling it.</p>\n<p>Your Java source code consists of the following things:</p>\n<ul>\n<li>Keywords: like <code>class</code>, <code>while</code>, and so on.</li>\n<li>Literals: like <code>true</code>, <code>false</code>, <code>42</code>, <code>'X'</code> and <code>&quot;Hi mum!&quot;</code>.</li>\n<li>Operators and other non-alphanumeric tokens: like <code>+</code>, <code>=</code>, <code>{</code>, and so on.</li>\n<li>Identifiers: like <code>Reader</code>, <code>i</code>, <code>toString</code>, <code>processEquibalancedElephants</code>, and so on.</li>\n<li>Comments and whitespace.</li>\n</ul>\n<p>A &quot;Cannot find symbol&quot; error is about the identifiers.  When your code is compiled, the compiler needs to work out what each and every identifier in your code means.</p>\n<p>A &quot;Cannot find symbol&quot; error means that the compiler cannot do this.  Your code appears to be referring to something that the compiler doesn't understand.</p>\n<h1>2. What can cause a \"Cannot find symbol\" error?</h1>\n<p>As a first order, there is only one cause.  The compiler looked in all of the places where the identifier <em>should</em> be defined, and it couldn't find the definition.  This could be caused by a number of things.  The common ones are as follows:</p>\n<ul>\n<li><p>For identifiers in general:</p>\n<ul>\n<li>Perhaps you spelled the name incorrectly; i.e. <code>StringBiulder</code> instead of <code>StringBuilder</code>.  Java cannot and will not attempt to compensate for bad spelling or typing errors.</li>\n<li>Perhaps you got the case wrong; i.e. <code>stringBuilder</code> instead of <code>StringBuilder</code>.  All Java identifiers are case sensitive.</li>\n<li>Perhaps you used underscores inappropriately; i.e. <code>mystring</code> and <code>my_string</code> are different.  (If you stick to the Java style rules, you will be largely protected from this mistake ...)</li>\n<li>Perhaps you are trying to use something that was declared &quot;somewhere else&quot;; i.e. in a different context to where you have implicitly told the compiler to look.  (A different class?  A different scope?  A different package?  A different code-base?)</li>\n</ul>\n</li>\n<li><p>For identifiers that should refer to variables:</p>\n<ul>\n<li>Perhaps you forgot to declare the variable.</li>\n<li>Perhaps the variable declaration is out of scope at the point you tried to use it.  (See example below)</li>\n</ul>\n</li>\n<li><p>For identifiers that should be method or field names:</p>\n<ul>\n<li><p>Perhaps you are trying to refer to an inherited method or field that wasn't declared in the parent / ancestor classes or interfaces.</p>\n</li>\n<li><p>Perhaps you are trying to refer to a method or field that does not exist (i.e. has not been declared) in the type you are using; e.g. <code>&quot;rope&quot;.push()</code><sup>2</sup>.</p>\n</li>\n<li><p>Perhaps you are trying to use a method as a field, or vice versa; e.g. <code>&quot;rope&quot;.length</code> or <code>someArray.length()</code>.</p>\n</li>\n<li><p>Perhaps you are mistakenly operating on an array rather than array element; e.g.</p>\n<pre><code>    String strings[] = ...\n    if (strings.charAt(3)) { ... }\n    // maybe that should be 'strings[0].charAt(3)'\n</code></pre>\n</li>\n</ul>\n</li>\n<li><p>For identifiers that should be class names:</p>\n<ul>\n<li><p>Perhaps you forgot to import the class.</p>\n</li>\n<li><p>Perhaps you used &quot;star&quot; imports, but the class isn't defined in any of the packages that you imported.</p>\n</li>\n<li><p>Perhaps you forgot a <code>new</code> as in:</p>\n<pre><code>    String s = String();  // should be 'new String()'\n</code></pre>\n</li>\n<li><p>Perhaps you are trying to import or otherwise use a class that has been declared in the <em>default package</em>; i.e. the one where classes with no <code>package</code> statements go.</p>\n<p>Hint: learn about packages.  You should only use the default package for simple applications that consist of one class ... or at a stretch, one Java source file.</p>\n</li>\n</ul>\n</li>\n<li><p>For cases where type or instance doesn't appear to have the member (e.g. method or field) you were expecting it to have:</p>\n<ul>\n<li>Perhaps you have declared a nested class or a generic parameter that <em>shadows</em> the type you were meaning to use.</li>\n<li>Perhaps you are shadowing a static or instance variable.</li>\n<li>Perhaps you imported the wrong type; e.g. due to IDE completion or auto-correction may have suggested <code>java.awt.List</code> rather than <code>java.util.List</code>.</li>\n<li>Perhaps you are using (compiling against) the wrong version of an API.</li>\n<li>Perhaps you forgot to cast your object to an appropriate subclass.</li>\n<li>Perhaps you have declared the <em>variable's</em> type to be a supertype of the one with the member you are looking for.</li>\n</ul>\n</li>\n</ul>\n<p>The problem is often a combination of the above.  For example, maybe you &quot;star&quot; imported <code>java.io.*</code> and then tried to use the <code>Files</code> class ... which is in <code>java.nio</code> not <code>java.io</code>.  Or maybe you meant to write <code>File</code> ... which <em>is</em> a class in <code>java.io</code>.</p>\n<hr />\n<p>Here is an example of how incorrect variable scoping can lead to a &quot;Cannot find symbol&quot; error:</p>\n<pre><code>List&lt;String&gt; strings = ...\n\nfor (int i = 0; i &lt; strings.size(); i++) {\n    if (strings.get(i).equalsIgnoreCase(&quot;fnord&quot;)) {\n        break;\n    }\n}\nif (i &lt; strings.size()) {\n    ...\n}\n</code></pre>\n<p>This will give a &quot;Cannot find symbol&quot; error for <code>i</code> in the <code>if</code> statement.  Though we previously declared <code>i</code>, that declaration is only <em>in scope</em> for the <code>for</code> statement and its body.  The reference to <code>i</code> in the <code>if</code> statement <em>cannot see</em> that declaration of <code>i</code>.  It is <em>out of scope</em>.</p>\n<p>(An appropriate correction here might be to move the <code>if</code> statement inside the loop, or to declare <code>i</code> before the start of the loop.)</p>\n<hr />\n<p>Here is an example that causes puzzlement where a typo leads to a seemingly inexplicable &quot;Cannot find symbol&quot; error:</p>\n<pre><code>for (int i = 0; i &lt; 100; i++); {\n    System.out.println(&quot;i is &quot; + i);\n}\n</code></pre>\n<p>This will give you a compilation error in the <code>println</code> call saying that <code>i</code> cannot be found.  But (I hear you say) I did declare it!</p>\n<p>The problem is the sneaky semicolon ( <code>;</code> ) before the <code>{</code>.  The Java language syntax defines a semicolon in that context to be an <em>empty statement</em>.  The empty statement then becomes the body of the <code>for</code> loop.  So that code actually means this:</p>\n<pre><code>for (int i = 0; i &lt; 100; i++); \n\n// The previous and following are separate statements!!\n\n{\n    System.out.println(&quot;i is &quot; + i);\n}\n</code></pre>\n<p>The <code>{ ... }</code> block is NOT the body of the <code>for</code> loop, and therefore the previous declaration of <code>i</code> in the <code>for</code> statement is <em>out of scope</em> in the block.</p>\n<hr />\n<p>Here is another example of &quot;Cannot find symbol&quot; error that is caused by a typo.</p>\n<pre><code>int tmp = ...\nint res = tmp(a + b);\n</code></pre>\n<p>Despite the previous declaration, the <code>tmp</code> in the <code>tmp(...)</code> expression is erroneous.  The compiler will look for a method called <code>tmp</code>, and won't find one.  The previously declared <code>tmp</code> is in the namespace for variables, not the namespace for methods.</p>\n<p>In the example I came across, the programmer had actually left out an operator.  What he meant to write was this:</p>\n<pre><code>int res = tmp * (a + b);\n</code></pre>\n<hr />\n<p>There is another reason why the compiler might not find a symbol if you are compiling from the command line.  You might simply have forgotten to compile or recompile some other class.  For example, if you have classes <code>Foo</code> and <code>Bar</code> where <code>Foo</code> uses <code>Bar</code>.  If you have never compiled <code>Bar</code> and you run <code>javac Foo.java</code>, you are liable to find that the compiler can't find the symbol <code>Bar</code>.  The simple answer is to compile <code>Foo</code> and <code>Bar</code> together; e.g. <code>javac Foo.java Bar.java</code> or <code>javac *.java</code>.  Or better still use a Java build tool; e.g. Ant, Maven, Gradle and so on.</p>\n<p>There are some other more obscure causes too ... which I will deal with below.</p>\n<h1>3. How do I fix these errors ?</h1>\n<p>Generally speaking, you start out by figuring out what <em>caused</em> the compilation error.</p>\n<ul>\n<li>Look at the line in the file indicated by the compilation error message.</li>\n<li>Identify which symbol that the error message is talking about.</li>\n<li>Figure out <em>why</em> the compiler is saying that it cannot find the symbol; see above!</li>\n</ul>\n<p>Then you <em>think</em> about what your code is supposed to be saying.  Then finally you work out what correction you need to make to your source code to do what you want.</p>\n<p>Note that not every &quot;correction&quot; is correct. Consider this:</p>\n<pre><code>for (int i = 1; i &lt; 10; i++) {\n    for (j = 1; j &lt; 10; j++) {\n        ...\n    }\n}\n</code></pre>\n<p>Suppose that the compiler says &quot;Cannot find symbol&quot; for <code>j</code>.  There are many ways I could &quot;fix&quot; that:</p>\n<ul>\n<li>I could change the inner <code>for</code> to <code>for (int j = 1; j &lt; 10; j++)</code> - probably correct.</li>\n<li>I could add a declaration for <code>j</code> <em>before</em> the inner <code>for</code> loop, or the outer <code>for</code> loop - possibly correct.</li>\n<li>I could change <code>j</code> to <code>i</code> in the inner <code>for</code> loop - probably wrong!</li>\n<li>and so on.</li>\n</ul>\n<p>The point is that you <em>need</em> to understand what your code is trying to do in order to find the right fix.</p>\n<h1>4.  Obscure causes</h1>\n<p>Here are a couple of cases where the &quot;Cannot find symbol&quot; is seemingly inexplicable ... until you look closer.</p>\n<ol>\n<li><p><strong>Incorrect dependencies</strong>: If you are using an IDE or a build tool that manages the build path and project dependencies, you may have made a mistake with the dependencies; e.g. left out a dependency, or selected the wrong version.  If you are using a build tool (Ant, Maven, Gradle, etc), check the project's build file.  If you are using an IDE, check the project's build path configuration.</p>\n</li>\n<li><p><strong>Cannot find symbol 'var'</strong>: You are probably trying to compile source code that uses local variable type inference (i.e. a <code>var</code> declaration) with an older compiler or older <code>--source</code> level.  The <code>var</code> was introduced in Java 10.  Check your JDK version and your build files, and (if this occurs in an IDE), the IDE settings.</p>\n</li>\n<li><p><strong>You are not compiling / recompiling</strong>:  It sometimes happens that new Java programmers don't understand how the Java tool chain works, or haven't implemented a repeatable &quot;build process&quot;; e.g. using an IDE, Ant, Maven, Gradle and so on.  In such a situation, the programmer can end up chasing his tail looking for an illusory error that is <em>actually</em> caused by not recompiling the code properly, and the like.</p>\n<p>Another example of this is when you use (Java 9+) <code>java SomeClass.java</code> to compile and run a class.  If the class depends on another class that you haven't compiled (or recompiled), you are liable to get &quot;Cannot resolve symbol&quot; errors referring to the 2nd class.  The other source file(s) are not automatically compiled.  The <code>java</code> command's new &quot;compile and run&quot; mode is not designed for running programs with multiple source code files.</p>\n</li>\n<li><p><strong>An earlier build problem</strong>:  It is possible that an earlier build failed in a way that gave a JAR file with missing classes.  Such a failure would typically be noticed if you were using a build tool.  However if you are getting JAR files from someone else, you are dependent on <em>them</em> building properly, and noticing errors.  If you suspect this, use <code>tar -tvf</code> to list the contents of the suspect JAR file.</p>\n</li>\n<li><p><strong>IDE issues</strong>: People have reported cases where their IDE gets confused and the compiler in the IDE cannot find a class that exists ... or the reverse situation.</p>\n<ul>\n<li><p>This could happen if the IDE has been configured with the wrong JDK version.</p>\n</li>\n<li><p>This could happen if the IDE's caches get out of sync with the file system.  There are IDE specific ways to fix that.</p>\n</li>\n<li><p>This could be an IDE bug.  For instance @Joel Costigliola described a scenario where Eclipse did not handle a Maven &quot;test&quot; tree correctly: <a href=\"https://stackoverflow.com/a/37207223/139985\"><strong>see this answer</strong></a>.  (Apparently that particular bug was been fixed a long time ago.)</p>\n</li>\n</ul>\n</li>\n<li><p><strong>Android issues</strong>: When you are programming for Android, and you have &quot;Cannot find symbol&quot; errors related to <code>R</code>, be aware that the <code>R</code> symbols are defined by the <code>context.xml</code> file.  Check that your <code>context.xml</code> file is correct and in the correct place, and that the corresponding <code>R</code> class file has been generated / compiled.  Note that the Java symbols are case sensitive, so the corresponding XML ids are be case sensitive too.</p>\n<p>Other symbol errors on Android are likely to be due to previously mention reasons; e.g. missing or incorrect dependencies, incorrect package names, method or fields that don't exist in a particular API version, spelling / typing errors, and so on.</p>\n</li>\n<li><p><strong>Hiding system classes</strong>: I've seen cases where the compiler complains that <code>substring</code> is an unknown symbol in something like the following</p>\n<pre><code>String s = ...\nString s1 = s.substring(1);\n</code></pre>\n<p>It turned out that the programmer had created their own version of <code>String</code> and that his version of the class didn't define a <code>substring</code> methods.  I've seen people do this with <code>System</code>, <code>Scanner</code> and other classes.</p>\n<p><em>Lesson:</em> Don't define your own classes with the same names as common library classes!</p>\n<p>The problem can also be solved by using the fully qualified names.  For example, in the example above, the programmer <em>could</em> have written:</p>\n<pre><code>java.lang.String s = ...\njava.lang.String s1 = s.substring(1);\n</code></pre>\n</li>\n<li><p><strong>Homoglyphs:</strong>  If you use UTF-8 encoding for your source files, it is possible to have identifiers that <em>look</em> the same, but are in fact different because they contain homoglyphs.   See <a href=\"http://en.wikipedia.org/wiki/Homoglyph\" rel=\"noreferrer\">this page</a> for more information.</p>\n<p>You can avoid this by restricting yourself to ASCII or Latin-1 as the source file encoding, and using Java <code>\\uxxxx</code> escapes for other characters.</p>\n</li>\n</ol>\n<hr />\n<p><sup>1 - If, perchance, you <em>do</em> see this in a runtime exception or error message, then either you have configured your IDE to run code with compilation errors, or your application is generating and compiling code .. at runtime.<br>\n2 - The three basic principles of Civil Engineering: water doesn't flow uphill, a plank is stronger on its side, and <em>you can't push on a rope</em>.</sup></p>\n"},{"comments":[{"owner":{"account_id":8046752,"reputation":178,"user_id":6066745,"display_name":"hazirovich"},"score":3,"creation_date":1594855905,"post_id":29694504,"comment_id":111276969,"body_markdown":"after like an hour of scanning my code, I came across this answer - thank you god!","body":"after like an hour of scanning my code, I came across this answer - thank you god!"}],"tags":[],"owner":{"account_id":402798,"reputation":690,"user_id":770170,"display_name":"thinkterry"},"comment_count":1,"down_vote_count":1,"up_vote_count":36,"is_accepted":false,"score":35,"last_activity_date":1571545639,"creation_date":1429260613,"answer_id":29694504,"question_id":25706216,"body_markdown":"You&#39;ll also get this error if you forget a `new`:\r\n\r\n    String s = String();\r\n\r\nversus\r\n\r\n    String s = new String();\r\n\r\nbecause the call without the `new` keyword will try and look for a (local) method called `String` without arguments - and that method signature is likely not defined.","title":"What does a &quot;Cannot find symbol&quot; or &quot;Cannot resolve symbol&quot; error mean?","body":"<p>You'll also get this error if you forget a <code>new</code>:</p>\n\n<pre><code>String s = String();\n</code></pre>\n\n<p>versus</p>\n\n<pre><code>String s = new String();\n</code></pre>\n\n<p>because the call without the <code>new</code> keyword will try and look for a (local) method called <code>String</code> without arguments - and that method signature is likely not defined.</p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":4,"creation_date":1509543689,"post_id":34115842,"comment_id":81059483,"body_markdown":"*&quot;Java has no free() or delete operators, so it has to rely on tracking variable scope to find out when variables are no longer used (together with references to these variables of cause).&quot;* - While true, this not relevant.  C and C++ have free / delete operators respectively, and yet the equivalent C / C++ code to your examples would be illegal.  C and C++ blocks limit the scope of variables just like in Java.  In fact, this is true for most &quot;block structured&quot; languages.","body":"<i>&quot;Java has no free() or delete operators, so it has to rely on tracking variable scope to find out when variables are no longer used (together with references to these variables of cause).&quot;</i> - While true, this not relevant.  C and C++ have free / delete operators respectively, and yet the equivalent C / C++ code to your examples would be illegal.  C and C++ blocks limit the scope of variables just like in Java.  In fact, this is true for most &quot;block structured&quot; languages."},{"owner":{"account_id":43861,"reputation":59786,"user_id":128397,"accept_rate":82,"display_name":"Daniel Pryden"},"score":1,"creation_date":1522763036,"post_id":34115842,"comment_id":86270303,"body_markdown":"The better solution for code that assigns a different value on every branch is to use a [blank `final`](https://en.wikipedia.org/wiki/Final_(Java)#Blank_final) variable declaration.","body":"The better solution for code that assigns a different value on every branch is to use a <a href=\"https://en.wikipedia.org/wiki/Final_(Java)#Blank_final\" rel=\"nofollow noreferrer\">blank <code>final</code></a> variable declaration."}],"tags":[],"owner":{"account_id":4254130,"reputation":13758,"user_id":3480246,"display_name":"Jan"},"comment_count":2,"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1477971775,"creation_date":1449393595,"answer_id":34115842,"question_id":25706216,"body_markdown":"**One more example of &#39;Variable is out of scope&#39;**\r\n\r\nAs I&#39;ve seen that kind of questions a few times already, maybe one more example to what&#39;s illegal even if it might *feel* okay.\r\n\r\nConsider this code:\r\n\r\n    if(somethingIsTrue()) {\r\n      String message = &quot;Everything is fine&quot;;\r\n    } else {\r\n      String message = &quot;We have an error&quot;;\r\n    }\r\n    System.out.println(message);\r\n\r\nThat&#39;s invalid code. Because neither of the variables named `message` is visible outside of their respective scope - which would be the surrounding brackets `{}` in this case. \r\n\r\nYou might say: &quot;But a variable named message is defined either way - so message *is* defined after the `if`&quot;. \r\n\r\nBut you&#39;d be wrong. \r\n\r\nJava has no `free()` or `delete` operators, so it has to rely on tracking variable scope to find out when variables are no longer used (together with references to these variables of cause). \r\n\r\nIt&#39;s especially bad if you thought you did something good. I&#39;ve seen this kind of error after &quot;optimizing&quot; code like this:\r\n\r\n    if(somethingIsTrue()) {\r\n      String message = &quot;Everything is fine&quot;;\r\n      System.out.println(message);\r\n    } else {\r\n      String message = &quot;We have an error&quot;;\r\n      System.out.println(message);\r\n    }\r\n    \r\n&quot;Oh, there&#39;s duplicated code, let&#39;s pull that common line out&quot; -&gt; and there it it.\r\n\r\nThe  most common way to deal with this kind of scope-trouble would be to pre-assign the else-values to the variable names in the outside scope and then reassign in if:\r\n\r\n    String message = &quot;We have an error&quot;;\r\n    if(somethingIsTrue()) {\r\n      message = &quot;Everything is fine&quot;;\r\n    } \r\n    System.out.println(message);","title":"What does a &quot;Cannot find symbol&quot; or &quot;Cannot resolve symbol&quot; error mean?","body":"<p><strong>One more example of 'Variable is out of scope'</strong></p>\n\n<p>As I've seen that kind of questions a few times already, maybe one more example to what's illegal even if it might <em>feel</em> okay.</p>\n\n<p>Consider this code:</p>\n\n<pre><code>if(somethingIsTrue()) {\n  String message = \"Everything is fine\";\n} else {\n  String message = \"We have an error\";\n}\nSystem.out.println(message);\n</code></pre>\n\n<p>That's invalid code. Because neither of the variables named <code>message</code> is visible outside of their respective scope - which would be the surrounding brackets <code>{}</code> in this case. </p>\n\n<p>You might say: \"But a variable named message is defined either way - so message <em>is</em> defined after the <code>if</code>\". </p>\n\n<p>But you'd be wrong. </p>\n\n<p>Java has no <code>free()</code> or <code>delete</code> operators, so it has to rely on tracking variable scope to find out when variables are no longer used (together with references to these variables of cause). </p>\n\n<p>It's especially bad if you thought you did something good. I've seen this kind of error after \"optimizing\" code like this:</p>\n\n<pre><code>if(somethingIsTrue()) {\n  String message = \"Everything is fine\";\n  System.out.println(message);\n} else {\n  String message = \"We have an error\";\n  System.out.println(message);\n}\n</code></pre>\n\n<p>\"Oh, there's duplicated code, let's pull that common line out\" -> and there it it.</p>\n\n<p>The  most common way to deal with this kind of scope-trouble would be to pre-assign the else-values to the variable names in the outside scope and then reassign in if:</p>\n\n<pre><code>String message = \"We have an error\";\nif(somethingIsTrue()) {\n  message = \"Everything is fine\";\n} \nSystem.out.println(message);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":500730,"reputation":20122,"user_id":1161743,"accept_rate":80,"display_name":"Jonathan Lin"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1457416707,"creation_date":1457416707,"answer_id":35860058,"question_id":25706216,"body_markdown":"If you&#39;re getting this error in the build somewhere else, while your IDE says everything is perfectly fine, then check that you are using the same Java versions in both places.\r\n\r\nFor example, Java 7 and Java 8 have different APIs, so calling a non-existent API in an older Java version would cause this error.","title":"What does a &quot;Cannot find symbol&quot; or &quot;Cannot resolve symbol&quot; error mean?","body":"<p>If you're getting this error in the build somewhere else, while your IDE says everything is perfectly fine, then check that you are using the same Java versions in both places.</p>\n\n<p>For example, Java 7 and Java 8 have different APIs, so calling a non-existent API in an older Java version would cause this error.</p>\n"},{"comments":[{"owner":{"display_name":"user4964330"},"score":0,"creation_date":1465986449,"post_id":37207223,"comment_id":63126776,"body_markdown":"What is the solution to this one?","body":"What is the solution to this one?"},{"owner":{"account_id":1407336,"reputation":6523,"user_id":1348834,"display_name":"Joel Costigliola"},"score":2,"creation_date":1466051272,"post_id":37207223,"comment_id":63158855,"body_markdown":"whatever you use in src/main/java needs to be defined in src/main/java or in any compile/runtime dependencies (not test dependencies).","body":"whatever you use in src/main/java needs to be defined in src/main/java or in any compile/runtime dependencies (not test dependencies)."}],"tags":[],"owner":{"account_id":1407336,"reputation":6523,"user_id":1348834,"display_name":"Joel Costigliola"},"comment_count":2,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1469840982,"creation_date":1463134140,"answer_id":37207223,"question_id":25706216,"body_markdown":"One way to get this error in Eclipse : \r\n\r\n 1. Define a class `A` in `src/test/java`.\r\n 2. Define another class `B` in `src/main/java` that uses class `A`.\r\n\r\nResult : Eclipse will compile the code, but maven will give &quot;Cannot find symbol&quot;.\r\n\r\nUnderlying cause : Eclipse is using a combined build path for the main and test trees.  Unfortunately, it does not support using different build paths for different parts of an Eclipse project, which is what Maven requires.\r\n\r\nSolution : \r\n\r\n 1. Don&#39;t define your dependencies that way; i.e. don&#39;t make this mistake.\r\n 2. Regularly build your codebase using Maven so that you pick up this mistake early.  One way to do that is to use a CI server.","title":"What does a &quot;Cannot find symbol&quot; or &quot;Cannot resolve symbol&quot; error mean?","body":"<p>One way to get this error in Eclipse : </p>\n\n<ol>\n<li>Define a class <code>A</code> in <code>src/test/java</code>.</li>\n<li>Define another class <code>B</code> in <code>src/main/java</code> that uses class <code>A</code>.</li>\n</ol>\n\n<p>Result : Eclipse will compile the code, but maven will give \"Cannot find symbol\".</p>\n\n<p>Underlying cause : Eclipse is using a combined build path for the main and test trees.  Unfortunately, it does not support using different build paths for different parts of an Eclipse project, which is what Maven requires.</p>\n\n<p>Solution : </p>\n\n<ol>\n<li>Don't define your dependencies that way; i.e. don't make this mistake.</li>\n<li>Regularly build your codebase using Maven so that you pick up this mistake early.  One way to do that is to use a CI server.</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":1403104,"reputation":60,"user_id":1331515,"display_name":"buildingKofi"},"score":0,"creation_date":1568387242,"post_id":39751150,"comment_id":102269806,"body_markdown":"Yes, this can happen if you decide to move some reusable function from your current package to your common utils package, for example, but then you forget to compile your common package before calling the function from your current package.","body":"Yes, this can happen if you decide to move some reusable function from your current package to your common utils package, for example, but then you forget to compile your common package before calling the function from your current package."}],"tags":[],"owner":{"account_id":5478854,"reputation":389,"user_id":4356016,"accept_rate":71,"display_name":"Divya Jose"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1475849384,"creation_date":1475074789,"answer_id":39751150,"question_id":25706216,"body_markdown":"I too was getting this error. (for which I googled and I was directed to this page)\r\n\r\n**Problem:** I was calling a static method defined in the class of a project A from a class defined in another project B. \r\nI was getting the following error:\r\n       \r\n    error: cannot find symbol\r\n\r\n**Solution:** I resolved this by first building the project where the method is defined then the project where the method was being called from.","title":"What does a &quot;Cannot find symbol&quot; or &quot;Cannot resolve symbol&quot; error mean?","body":"<p>I too was getting this error. (for which I googled and I was directed to this page)</p>\n\n<p><strong>Problem:</strong> I was calling a static method defined in the class of a project A from a class defined in another project B. \nI was getting the following error:</p>\n\n<pre><code>error: cannot find symbol\n</code></pre>\n\n<p><strong>Solution:</strong> I resolved this by first building the project where the method is defined then the project where the method was being called from.</p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1530874986,"post_id":46075674,"comment_id":89398647,"body_markdown":"This just says the same thing that other answers say.","body":"This just says the same thing that other answers say."}],"tags":[],"owner":{"account_id":7793336,"reputation":331,"user_id":5895450,"display_name":"Striker"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1504702041,"creation_date":1504702041,"answer_id":46075674,"question_id":25706216,"body_markdown":"For hints, look closer at the class name name that throws an error and the line number, example:\r\nCompilation failure\r\n[ERROR] \\applications\\xxxxx.java:[44,30] error: cannot find symbol\r\n\r\nOne other cause is unsupported method of for java version say jdk7 vs 8.\r\nCheck your %JAVA_HOME% ","title":"What does a &quot;Cannot find symbol&quot; or &quot;Cannot resolve symbol&quot; error mean?","body":"<p>For hints, look closer at the class name name that throws an error and the line number, example:\nCompilation failure\n[ERROR] \\applications\\xxxxx.java:[44,30] error: cannot find symbol</p>\n\n<p>One other cause is unsupported method of for java version say jdk7 vs 8.\nCheck your %JAVA_HOME% </p>\n"},{"tags":[],"owner":{"account_id":13274351,"reputation":163,"user_id":9584195,"display_name":"Gayan Sampath"},"comment_count":0,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1530414583,"creation_date":1530356995,"answer_id":51114349,"question_id":25706216,"body_markdown":"&quot;Can not find &quot; means that , compiler who can&#39;t find appropriate variable, method ,class etc...if you got that error massage , first of all you want to find code line where get error massage..And then you will able to find which variable , method or class have not define before using it.After confirmation  initialize that variable ,method or class can be used for later require...Consider the following example.\r\n\r\n I&#39;ll create a demo class and print a name...\r\n\r\n    class demo{ \r\n          public static void main(String a[]){\r\n                 System.out.print(name);\r\n          }\r\n    }\r\n\r\nNow look at the result..\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n \r\n\r\n\r\nThat error says, &quot;variable name can not find&quot;..Defining and initializing value for &#39;name&#39; variable  can be abolished that error..Actually like this,\r\n\r\n  \r\n\r\n    class demo{ \r\n          public static void main(String a[]){\r\n\r\n                 String name=&quot;smith&quot;;\r\n\r\n                 System.out.print(name);\r\n          }\r\n    }\r\n\r\n\r\nNow look at the new output...\r\n\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zHJdz.jpg\r\n  [2]: https://i.stack.imgur.com/Q8fYZ.jpg\r\n\r\n\r\nOk Successfully solved that error..At the same time , if you could get &quot;can not find method &quot; or &quot;can not find class&quot; something , At first,define a class or method and after use that.. ","title":"What does a &quot;Cannot find symbol&quot; or &quot;Cannot resolve symbol&quot; error mean?","body":"<p>\"Can not find \" means that , compiler who can't find appropriate variable, method ,class etc...if you got that error massage , first of all you want to find code line where get error massage..And then you will able to find which variable , method or class have not define before using it.After confirmation  initialize that variable ,method or class can be used for later require...Consider the following example.</p>\n\n<p>I'll create a demo class and print a name...</p>\n\n<pre><code>class demo{ \n      public static void main(String a[]){\n             System.out.print(name);\n      }\n}\n</code></pre>\n\n<p>Now look at the result..</p>\n\n<p><a href=\"https://i.stack.imgur.com/zHJdz.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/zHJdz.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>That error says, \"variable name can not find\"..Defining and initializing value for 'name' variable  can be abolished that error..Actually like this,</p>\n\n<pre><code>class demo{ \n      public static void main(String a[]){\n\n             String name=\"smith\";\n\n             System.out.print(name);\n      }\n}\n</code></pre>\n\n<p>Now look at the new output...</p>\n\n<p><a href=\"https://i.stack.imgur.com/Q8fYZ.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Q8fYZ.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Ok Successfully solved that error..At the same time , if you could get \"can not find method \" or \"can not find class\" something , At first,define a class or method and after use that.. </p>\n"},{"tags":[],"owner":{"account_id":6983262,"reputation":2982,"user_id":5355272,"accept_rate":25,"display_name":"avp"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1534557048,"creation_date":1534556746,"answer_id":51904587,"question_id":25706216,"body_markdown":"There can be various scenarios as people have mentioned above. A couple of things which have helped me resolve this.\r\n\r\n 1. If you are using IntelliJ\r\n   \r\n  `File -&gt; &#39;Invalidate Caches/Restart&#39;`\r\n\r\nOR\r\n\r\n 2.  The class being referenced was in another project and that dependency was not added to the Gradle build file of my project. So I added the dependency using\r\n\r\n `compile project(&#39;:anotherProject&#39;)`\r\n\r\nand it worked. HTH!\r\n","title":"What does a &quot;Cannot find symbol&quot; or &quot;Cannot resolve symbol&quot; error mean?","body":"<p>There can be various scenarios as people have mentioned above. A couple of things which have helped me resolve this.</p>\n\n<ol>\n<li><p>If you are using IntelliJ</p>\n\n<p><code>File -&gt; 'Invalidate Caches/Restart'</code></p></li>\n</ol>\n\n<p>OR</p>\n\n<ol start=\"2\">\n<li><p>The class being referenced was in another project and that dependency was not added to the Gradle build file of my project. So I added the dependency using</p>\n\n<p><code>compile project(':anotherProject')</code></p></li>\n</ol>\n\n<p>and it worked. HTH!</p>\n"},{"tags":[],"owner":{"account_id":1781396,"reputation":6599,"user_id":1624035,"accept_rate":65,"display_name":"UdayKiran Pulipati"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1548328701,"creation_date":1548328701,"answer_id":54345388,"question_id":25706216,"body_markdown":"If eclipse Java build path is mapped to 7, 8 and in Project pom.xml Maven properties java.version is mentioned higher Java version(9,10,11, etc..,) than 7,8 you need to update in pom.xml file.\r\n\r\nIn Eclipse if Java is mapped to Java version 11 and in pom.xml it is mapped to Java version 8. Update Eclipse support to Java 11 by go through below steps in eclipse IDE\r\nHelp -&gt; Install New Software -&gt; \r\n\r\nPaste following link [http://download.eclipse.org/eclipse/updates/4.9-P-builds][1] at ***Work With***\r\n\r\n**or**\r\n\r\nAdd (Popup window will open) -&gt;\r\n\r\n`Name:` Java 11 support\r\n`Location:` [http://download.eclipse.org/eclipse/updates/4.9-P-builds][1]\r\n\r\nthen update Java version in Maven properties of **pom.xml** file as below\r\n\r\n    &lt;java.version&gt;11&lt;/java.version&gt;\r\n    &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\r\n\r\nFinally do right click on project Debug as -&gt; Maven clean, Maven build steps\r\n\r\n  [1]: http://download.eclipse.org/eclipse/updates/4.9-P-builds","title":"What does a &quot;Cannot find symbol&quot; or &quot;Cannot resolve symbol&quot; error mean?","body":"<p>If eclipse Java build path is mapped to 7, 8 and in Project pom.xml Maven properties java.version is mentioned higher Java version(9,10,11, etc..,) than 7,8 you need to update in pom.xml file.</p>\n\n<p>In Eclipse if Java is mapped to Java version 11 and in pom.xml it is mapped to Java version 8. Update Eclipse support to Java 11 by go through below steps in eclipse IDE\nHelp -> Install New Software -> </p>\n\n<p>Paste following link <a href=\"http://download.eclipse.org/eclipse/updates/4.9-P-builds\" rel=\"nofollow noreferrer\">http://download.eclipse.org/eclipse/updates/4.9-P-builds</a> at <strong><em>Work With</em></strong></p>\n\n<p><strong>or</strong></p>\n\n<p>Add (Popup window will open) -></p>\n\n<p><code>Name:</code> Java 11 support\n<code>Location:</code> <a href=\"http://download.eclipse.org/eclipse/updates/4.9-P-builds\" rel=\"nofollow noreferrer\">http://download.eclipse.org/eclipse/updates/4.9-P-builds</a></p>\n\n<p>then update Java version in Maven properties of <strong>pom.xml</strong> file as below</p>\n\n<pre><code>&lt;java.version&gt;11&lt;/java.version&gt;\n&lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\n&lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\n</code></pre>\n\n<p>Finally do right click on project Debug as -> Maven clean, Maven build steps</p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1620533828,"post_id":57387214,"comment_id":119226783,"body_markdown":"This explanation doesn&#39;t make sense.  A &quot;Cannot find symbol&quot; error is a compilation error.  It will not happen while &gt;&gt;running&lt;&lt; tests.  It might occur while &gt;&gt;compiling&lt;&lt; tests though.","body":"This explanation doesn&#39;t make sense.  A &quot;Cannot find symbol&quot; error is a compilation error.  It will not happen while &gt;&gt;running&lt;&lt; tests.  It might occur while &gt;&gt;compiling&lt;&lt; tests though."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1620535109,"post_id":57387214,"comment_id":119226922,"body_markdown":"Also, I&#39;m puzzled you you managed to compile the tests without compiling the code under test.  Unless they are in separate projects for some reason.  If you run `mvn test`, that should recompile everything in the project... before running the tests.  If you run `mvn surefile:test`, that shouldn&#39;t recompile anything.","body":"Also, I&#39;m puzzled you you managed to compile the tests without compiling the code under test.  Unless they are in separate projects for some reason.  If you run <code>mvn test</code>, that should recompile everything in the project... before running the tests.  If you run <code>mvn surefile:test</code>, that shouldn&#39;t recompile anything."}],"tags":[],"owner":{"account_id":13861155,"reputation":149,"user_id":10006771,"display_name":"ANIL KUMAR"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1565153965,"creation_date":1565153965,"answer_id":57387214,"question_id":25706216,"body_markdown":"you compiled your code using maven compile and then used maven test to run it worked fine. Now if you changed something in your code and then without compiling you are running it, you will get this error.\r\n\r\nSolution: Again compile it and then run test. For me it worked this way.","title":"What does a &quot;Cannot find symbol&quot; or &quot;Cannot resolve symbol&quot; error mean?","body":"<p>you compiled your code using maven compile and then used maven test to run it worked fine. Now if you changed something in your code and then without compiling you are running it, you will get this error.</p>\n\n<p>Solution: Again compile it and then run test. For me it worked this way.</p>\n"},{"comments":[{"owner":{"account_id":4825397,"reputation":597,"user_id":3894987,"accept_rate":100,"display_name":"Huy H&#243;m Hnh"},"score":0,"creation_date":1570017817,"post_id":57840064,"comment_id":102780120,"body_markdown":"Moving file without caring about references could cause this error. I already met this. Just Reset on Git and carefully Move again, the error solve.","body":"Moving file without caring about references could cause this error. I already met this. Just Reset on Git and carefully Move again, the error solve."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1701696495,"post_id":57840064,"comment_id":136803954,"body_markdown":"Context.xml has nothing to do with compilation errors.","body":"Context.xml has nothing to do with compilation errors."}],"tags":[],"owner":{"account_id":1827668,"reputation":3047,"user_id":6404949,"accept_rate":86,"display_name":"VIPIN KUMAR"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1567929003,"creation_date":1567929003,"answer_id":57840064,"question_id":25706216,"body_markdown":"In my case - I had to perform below operations:\r\n\r\n 1. Move `context.xml` file from `src/java/package` to the `resource` directory (IntelliJ\r\n    IDE)\r\n 2. Clean `target` directory.","title":"What does a &quot;Cannot find symbol&quot; or &quot;Cannot resolve symbol&quot; error mean?","body":"<p>In my case - I had to perform below operations:</p>\n\n<ol>\n<li>Move <code>context.xml</code> file from <code>src/java/package</code> to the <code>resource</code> directory (IntelliJ\nIDE)</li>\n<li>Clean <code>target</code> directory.</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":7,"creation_date":1571545992,"post_id":58322547,"comment_id":103274069,"body_markdown":"That very much depends and usually it doesn&#39;t.","body":"That very much depends and usually it doesn&#39;t."},{"owner":{"account_id":285263,"reputation":357,"user_id":583828,"accept_rate":100,"display_name":"coder3"},"score":0,"creation_date":1617612298,"post_id":58322547,"comment_id":118343332,"body_markdown":"This worked for me. I couldn&#39;t figure it out because the packages/directories were all correct. Seems it needed to be rebuilt to incorporate the changes.","body":"This worked for me. I couldn&#39;t figure it out because the packages/directories were all correct. Seems it needed to be rebuilt to incorporate the changes."}],"tags":[],"owner":{"account_id":10109755,"reputation":590,"user_id":7471133,"accept_rate":67,"display_name":"Ajay"},"comment_count":2,"down_vote_count":5,"up_vote_count":28,"is_accepted":false,"score":23,"last_activity_date":1599513562,"creation_date":1570709243,"answer_id":58322547,"question_id":25706216,"body_markdown":"**SOLVED**\r\n\r\nUsing IntelliJ\r\n\r\nSelect **Build**-&gt;**Rebuild Project** will solve it","title":"What does a &quot;Cannot find symbol&quot; or &quot;Cannot resolve symbol&quot; error mean?","body":"<p><strong>SOLVED</strong></p>\n<p>Using IntelliJ</p>\n<p>Select <strong>Build</strong>-&gt;<strong>Rebuild Project</strong> will solve it</p>\n"},{"tags":[],"owner":{"account_id":39203,"reputation":63049,"user_id":112955,"accept_rate":67,"display_name":"sakra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595248305,"creation_date":1595248305,"answer_id":62995462,"question_id":25706216,"body_markdown":"We got the error in a Java project that is set up as a Gradle multi-project build. It turned out that one of the sub-projects was missing the [Gradle Java Library plugin][1].\r\nThis prevented the sub-project&#39;s class files from being visible to other projects in the build.\r\n\r\nAfter adding the Java library plugin to the sub-project&#39;s `build.gradle` in the following way, the error went away:\r\n\r\n    plugins {\r\n        ...\r\n    \tid &#39;java-library&#39;\r\n    }\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/java_library_plugin.html\r\n","title":"What does a &quot;Cannot find symbol&quot; or &quot;Cannot resolve symbol&quot; error mean?","body":"<p>We got the error in a Java project that is set up as a Gradle multi-project build. It turned out that one of the sub-projects was missing the <a href=\"https://docs.gradle.org/current/userguide/java_library_plugin.html\" rel=\"nofollow noreferrer\">Gradle Java Library plugin</a>.\nThis prevented the sub-project's class files from being visible to other projects in the build.</p>\n<p>After adding the Java library plugin to the sub-project's <code>build.gradle</code> in the following way, the error went away:</p>\n<pre><code>plugins {\n    ...\n    id 'java-library'\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1605847637,"post_id":64919970,"comment_id":114783685,"body_markdown":"That&#39;s not Android specific, and it is not craziness.  Java identifiers are case sensitive.  And the case of the class name / package name should match the case of the corresponding source files, directories and .class files.  If you mess around with this, then the tool chain is liable to not find the relevant files.","body":"That&#39;s not Android specific, and it is not craziness.  Java identifiers are case sensitive.  And the case of the class name / package name should match the case of the corresponding source files, directories and .class files.  If you mess around with this, then the tool chain is liable to not find the relevant files."},{"owner":{"account_id":10013309,"reputation":169,"user_id":7405501,"display_name":"Felipe Franco"},"score":0,"creation_date":1605848262,"post_id":64919970,"comment_id":114783805,"body_markdown":"Thanks for this clarification Stephen C","body":"Thanks for this clarification Stephen C"}],"tags":[],"owner":{"account_id":10013309,"reputation":169,"user_id":7405501,"display_name":"Felipe Franco"},"comment_count":2,"down_vote_count":5,"up_vote_count":0,"is_accepted":false,"score":-5,"last_activity_date":1605819813,"creation_date":1605819813,"answer_id":64919970,"question_id":25706216,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bM7uY.png\r\n\r\nI solved this error like this... The craziness of android. I had the package name as Adapter and the I refactor the name to adapter with an &quot;a&quot; instead of &quot;A&quot; and solved the error.","title":"What does a &quot;Cannot find symbol&quot; or &quot;Cannot resolve symbol&quot; error mean?","body":"<p><a href=\"https://i.stack.imgur.com/bM7uY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bM7uY.png\" alt=\"enter image description here\" /></a></p>\n<p>I solved this error like this... The craziness of android. I had the package name as Adapter and the I refactor the name to adapter with an &quot;a&quot; instead of &quot;A&quot; and solved the error.</p>\n"},{"tags":[],"owner":{"account_id":3760937,"reputation":81,"user_id":6309999,"display_name":"Adrian C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641924416,"creation_date":1641924416,"answer_id":70671459,"question_id":25706216,"body_markdown":"Re: *4.4: An earlier build problem* in Stephen C&#39;s excellent answer: \r\n\r\nI encountered this scenario when developing an osgi application.  \r\nI had a java project `A` that was a dependency of `B`. \r\nWhen building `B`, there was the error:\r\n\r\n    Compilation failure: org.company.projectA.bar.xyz does not exist\r\n\r\nBut in eclipse, there was no compile problem at all.\r\n\r\n\r\n**Investigation**  \r\nWhen i looked in `A.jar`, there were classes for `org.company.projectA.foo.abc` but none for `org.company.projectA.bar.xyz`.\r\n\r\nThe reason for the missing classes, was that in the `A/pom.xml`, was an entry to export the relevant packages.\r\n```\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.felix&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-bundle-plugin&lt;/artifactId&gt;\r\n    ...\r\n    &lt;configuration&gt;\r\n        &lt;instructions&gt;\r\n            ....\r\n            &lt;Export-Package&gt;org.company.projectA.foo.*&lt;/Export-Package&gt;\r\n        &lt;/instructions&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n\r\n```\r\n\r\n\r\n**Solution**  \r\nAdd the missing packages like so:\r\n```\r\n&lt;Export-Package&gt;org.company.projectA.foo.*,org.company.projectA.bar.*&lt;/Export-Package&gt;\r\n```\r\nand rebuild everything.\r\n\r\nNow the `A.jar` includes all the expected classes, and everything compiles.","title":"What does a &quot;Cannot find symbol&quot; or &quot;Cannot resolve symbol&quot; error mean?","body":"<p>Re: <em>4.4: An earlier build problem</em> in Stephen C's excellent answer:</p>\n<p>I encountered this scenario when developing an osgi application.<br />\nI had a java project <code>A</code> that was a dependency of <code>B</code>.\nWhen building <code>B</code>, there was the error:</p>\n<pre><code>Compilation failure: org.company.projectA.bar.xyz does not exist\n</code></pre>\n<p>But in eclipse, there was no compile problem at all.</p>\n<p><strong>Investigation</strong><br />\nWhen i looked in <code>A.jar</code>, there were classes for <code>org.company.projectA.foo.abc</code> but none for <code>org.company.projectA.bar.xyz</code>.</p>\n<p>The reason for the missing classes, was that in the <code>A/pom.xml</code>, was an entry to export the relevant packages.</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.felix&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-bundle-plugin&lt;/artifactId&gt;\n    ...\n    &lt;configuration&gt;\n        &lt;instructions&gt;\n            ....\n            &lt;Export-Package&gt;org.company.projectA.foo.*&lt;/Export-Package&gt;\n        &lt;/instructions&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n\n</code></pre>\n<p><strong>Solution</strong><br />\nAdd the missing packages like so:</p>\n<pre><code>&lt;Export-Package&gt;org.company.projectA.foo.*,org.company.projectA.bar.*&lt;/Export-Package&gt;\n</code></pre>\n<p>and rebuild everything.</p>\n<p>Now the <code>A.jar</code> includes all the expected classes, and everything compiles.</p>\n"},{"tags":[],"owner":{"account_id":12232652,"reputation":4002,"user_id":8930395,"display_name":"LOrD_ARaGOrN"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1659355059,"creation_date":1659355059,"answer_id":73193290,"question_id":25706216,"body_markdown":"I was getting below error \r\n\r\n    java: cannot find symbol\r\n      symbol: class __\r\n\r\nTo fix this\r\n\r\n\r\nI tried enabling lambok, restarted intellij, etc but below worked for me.\r\n\r\nIntellij Preferences -&gt;Compiler -&gt; Shared Build process VM Options and set it to\r\n\r\n      -Djps.track.ap.dependencies=false\r\n\r\nthan run\r\n\r\n    mvn clean install\r\n\r\n","title":"What does a &quot;Cannot find symbol&quot; or &quot;Cannot resolve symbol&quot; error mean?","body":"<p>I was getting below error</p>\n<pre><code>java: cannot find symbol\n  symbol: class __\n</code></pre>\n<p>To fix this</p>\n<p>I tried enabling lambok, restarted intellij, etc but below worked for me.</p>\n<p>Intellij Preferences -&gt;Compiler -&gt; Shared Build process VM Options and set it to</p>\n<pre><code>  -Djps.track.ap.dependencies=false\n</code></pre>\n<p>than run</p>\n<pre><code>mvn clean install\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6428583,"reputation":6399,"user_id":4982691,"display_name":"jumping_monkey"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1664974293,"creation_date":1664974293,"answer_id":73960634,"question_id":25706216,"body_markdown":"### Optional.isEmpty()\r\nI was happily using `!Optional.isEmpty()` in my IDE, and it works fine, as i was compiling/running my project with &gt;= `JDK11`. Now, when i use `Gradle` on the command line (running on `JDK8`), i got the nasty error in the compile task.\r\n\r\n### Why?\r\nFrom the docs (Pay attention to the last line):\r\n\r\n    boolean java.util.Optional.isEmpty()\r\n    \r\n    If a value is not present, returns true, otherwise false.\r\n    Returns:true if a value is not present, otherwise false\r\n    Since:11","title":"What does a &quot;Cannot find symbol&quot; or &quot;Cannot resolve symbol&quot; error mean?","body":"<h3>Optional.isEmpty()</h3>\n<p>I was happily using <code>!Optional.isEmpty()</code> in my IDE, and it works fine, as i was compiling/running my project with &gt;= <code>JDK11</code>. Now, when i use <code>Gradle</code> on the command line (running on <code>JDK8</code>), i got the nasty error in the compile task.</p>\n<h3>Why?</h3>\n<p>From the docs (Pay attention to the last line):</p>\n<pre><code>boolean java.util.Optional.isEmpty()\n\nIf a value is not present, returns true, otherwise false.\nReturns:true if a value is not present, otherwise false\nSince:11\n</code></pre>\n"}],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1585394,"favorite_count":0,"down_vote_count":7,"up_vote_count":545,"accepted_answer_id":25706217,"answer_count":18,"score":538,"last_activity_date":1673498166,"creation_date":1410052328,"question_id":25706216,"body_markdown":"Please explain the following about &quot;Cannot find symbol&quot;, &quot;Cannot resolve symbol&quot; or &quot;Symbol not found&quot; errors (in Java):\r\n\r\n  - What do they mean?\r\n  - What things can cause them?\r\n  - How does the programmer go about fixing them?\r\n\r\n*This question is designed to seed a comprehensive Q&amp;A about these common compilation errors in Java.*","title":"What does a &quot;Cannot find symbol&quot; or &quot;Cannot resolve symbol&quot; error mean?","body":"<p>Please explain the following about &quot;Cannot find symbol&quot;, &quot;Cannot resolve symbol&quot; or &quot;Symbol not found&quot; errors (in Java):</p>\n<ul>\n<li>What do they mean?</li>\n<li>What things can cause them?</li>\n<li>How does the programmer go about fixing them?</li>\n</ul>\n<p><em>This question is designed to seed a comprehensive Q&amp;A about these common compilation errors in Java.</em></p>\n"},{"tags":["java","multithreading","mockito","guice"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":2,"creation_date":1673435110,"post_id":75078316,"comment_id":132496962,"body_markdown":"In the code you posted, you mock the service class, not the util class `Mockito.mockStatic(SomeService.class)`","body":"In the code you posted, you mock the service class, not the util class <code>Mockito.mockStatic(SomeService.class)</code>"},{"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"score":0,"creation_date":1673460392,"post_id":75078316,"comment_id":132506290,"body_markdown":"@XtremeBaumer is right - the test code does not even compile (incompatible types).","body":"@XtremeBaumer is right - the test code does not even compile (incompatible types)."},{"owner":{"account_id":24118424,"reputation":179,"user_id":18087971,"display_name":"waynewingorc"},"score":0,"creation_date":1673480143,"post_id":75078316,"comment_id":132511650,"body_markdown":"Sorry about the typo @XtremeBaumer. I&#39;ve corrected them. And I seem to have found out why `MockedStatic` doesn&#39;t work for me: that it&#39;s called by another thread.","body":"Sorry about the typo @XtremeBaumer. I&#39;ve corrected them. And I seem to have found out why <code>MockedStatic</code> doesn&#39;t work for me: that it&#39;s called by another thread."}],"answers":[{"comments":[{"owner":{"account_id":24118424,"reputation":179,"user_id":18087971,"display_name":"waynewingorc"},"score":0,"creation_date":1673415150,"post_id":75078521,"comment_id":132491056,"body_markdown":"Thanks for the great answer and code @Jonasz. Apologies for the typo in my question - I double checked and can make sure that signatures and the param values match in my code. So that still doesn&#39;t work for me. Would it have anything to do with that my `someService` in the test is managed by Guice (something like Spring)?","body":"Thanks for the great answer and code @Jonasz. Apologies for the typo in my question - I double checked and can make sure that signatures and the param values match in my code. So that still doesn&#39;t work for me. Would it have anything to do with that my <code>someService</code> in the test is managed by Guice (something like Spring)?"},{"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"score":1,"creation_date":1673418683,"post_id":75078521,"comment_id":132491681,"body_markdown":"Could you please make the code in your question reflect your actual code as much as possible (including the whole test method)? It&#39;s hard to guess, unfortunately, but I don&#39;t think dependency injection tool like Guice would cause problems with `mockStatic`, so I suppose it could be something different.","body":"Could you please make the code in your question reflect your actual code as much as possible (including the whole test method)? It&#39;s hard to guess, unfortunately, but I don&#39;t think dependency injection tool like Guice would cause problems with <code>mockStatic</code>, so I suppose it could be something different."},{"owner":{"account_id":24118424,"reputation":179,"user_id":18087971,"display_name":"waynewingorc"},"score":0,"creation_date":1673479864,"post_id":75078521,"comment_id":132511581,"body_markdown":"Jonasz I&#39;ve updated the question. You&#39;re right the injection tool has nothing to do it but multithreading does. Do you mind checking my update?","body":"Jonasz I&#39;ve updated the question. You&#39;re right the injection tool has nothing to do it but multithreading does. Do you mind checking my update?"},{"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"score":1,"creation_date":1673502670,"post_id":75078521,"comment_id":132514768,"body_markdown":"You&#39;re right in your last update though  - mocking static methods should be used only when you have no control over the tested code, otherwise it&#39;s better to avoid such static methods as they make the code much harder to test. It would be better to use DI (since you&#39;re already using Guice) to inject the class creating/loading the config and replace it in the test with a mock you&#39;d have full control over. The config provider class should have it&#39;s own tests as well.","body":"You&#39;re right in your last update though  - mocking static methods should be used only when you have no control over the tested code, otherwise it&#39;s better to avoid such static methods as they make the code much harder to test. It would be better to use DI (since you&#39;re already using Guice) to inject the class creating/loading the config and replace it in the test with a mock you&#39;d have full control over. The config provider class should have it&#39;s own tests as well."}],"tags":[],"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673413329,"creation_date":1673413329,"answer_id":75078521,"question_id":75078316,"body_markdown":"Your tested code doesn&#39;t seem to match your test code. In `SomeService#doSth` you&#39;re calling `UtilClass.getConfigForId()`, yet in the test you&#39;re mocking a method with different signature: `UtilClass.getConfigForId(&quot;id&quot;)`.\r\n\r\nIf you use a method with String parameter in your code, the stubbing has to match it, so if in the test you expect a value `&quot;id&quot;`, it should be passed to the method in the tested code (`SomeService`) as well (values are compared using `equals` method in Mockito by default). Otherwise, you should use [an ArgumentMatcher like any()][1].\r\n\r\n```java\r\nvar id = &quot;id&quot;;\r\nvar mockedValue = &quot;test value&quot;;\r\nvar someConfig = new SomeConfig(mockedValue);\r\nvar someService = new SomeService();\r\ntry (MockedStatic&lt;UtilClass&gt; dummy = Mockito.mockStatic(UtilClass.class)) {\r\n    dummy.when(() -&gt; UtilClass.getConfigForId(id))\r\n         .thenReturn(someConfig);\r\n\r\n    var result = someService.doSth(id);\r\n\r\n    assertEquals(mockedValue, result);\r\n}\r\n```\r\n\r\n```java\r\nvar mockedValue = &quot;test value 2&quot;;\r\nvar someConfig = new SomeConfig(mockedValue);\r\nvar someService = new SomeService();\r\ntry (MockedStatic&lt;UtilClass&gt; dummy = Mockito.mockStatic(UtilClass.class)) {\r\n    dummy.when(() -&gt; UtilClass.getConfigForId(any()))\r\n         .thenReturn(someConfig);\r\n\r\n    var result = someService.doSth(&quot;some id&quot;);\r\n\r\n    assertEquals(mockedValue, result);\r\n}\r\n```\r\n\r\nIf the signature of the method you&#39;re using in the tested code does not include a parameter, it should be mocked without a parameter as well (in case of for example an overloaded method).\r\n\r\n---\r\n\r\nI&#39;ve tested the code above and all tests pass - you can verify it [in a GitHub repository][2]. \r\n\r\n\r\n  [1]: https://javadoc.io/static/org.mockito/mockito-core/3.3.3/org/mockito/ArgumentMatchers.html#any--\r\n  [2]: https://github.com/Jonarzz/stack-overflow/commit/a0707d99ffe265fd79dbbc58b2b8858cc8568eb4","title":"Mockito mock return value of static method of util class in a different thread","body":"<p>Your tested code doesn't seem to match your test code. In <code>SomeService#doSth</code> you're calling <code>UtilClass.getConfigForId()</code>, yet in the test you're mocking a method with different signature: <code>UtilClass.getConfigForId(&quot;id&quot;)</code>.</p>\n<p>If you use a method with String parameter in your code, the stubbing has to match it, so if in the test you expect a value <code>&quot;id&quot;</code>, it should be passed to the method in the tested code (<code>SomeService</code>) as well (values are compared using <code>equals</code> method in Mockito by default). Otherwise, you should use <a href=\"https://javadoc.io/static/org.mockito/mockito-core/3.3.3/org/mockito/ArgumentMatchers.html#any--\" rel=\"nofollow noreferrer\">an ArgumentMatcher like any()</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>var id = &quot;id&quot;;\nvar mockedValue = &quot;test value&quot;;\nvar someConfig = new SomeConfig(mockedValue);\nvar someService = new SomeService();\ntry (MockedStatic&lt;UtilClass&gt; dummy = Mockito.mockStatic(UtilClass.class)) {\n    dummy.when(() -&gt; UtilClass.getConfigForId(id))\n         .thenReturn(someConfig);\n\n    var result = someService.doSth(id);\n\n    assertEquals(mockedValue, result);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>var mockedValue = &quot;test value 2&quot;;\nvar someConfig = new SomeConfig(mockedValue);\nvar someService = new SomeService();\ntry (MockedStatic&lt;UtilClass&gt; dummy = Mockito.mockStatic(UtilClass.class)) {\n    dummy.when(() -&gt; UtilClass.getConfigForId(any()))\n         .thenReturn(someConfig);\n\n    var result = someService.doSth(&quot;some id&quot;);\n\n    assertEquals(mockedValue, result);\n}\n</code></pre>\n<p>If the signature of the method you're using in the tested code does not include a parameter, it should be mocked without a parameter as well (in case of for example an overloaded method).</p>\n<hr />\n<p>I've tested the code above and all tests pass - you can verify it <a href=\"https://github.com/Jonarzz/stack-overflow/commit/a0707d99ffe265fd79dbbc58b2b8858cc8568eb4\" rel=\"nofollow noreferrer\">in a GitHub repository</a>.</p>\n"}],"owner":{"account_id":24118424,"reputation":179,"user_id":18087971,"display_name":"waynewingorc"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1621,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75078521,"answer_count":1,"score":2,"last_activity_date":1673497365,"creation_date":1673410994,"question_id":75078316,"body_markdown":"I have a method that calls a Util class&#39; static method.  \r\nIs there a way to mock the return value of this static method so that it always returns a static value?\r\n\r\n  \r\nI want to do this because this static method returns me some configurations that could change, but I don&#39;t want this to affect my test. If I could mock this Util class and return a static results for the method all the time, it would give me a stable test.\r\n\r\n```java\r\npublic class SomeService{\r\n  public void doSth(){\r\n    SomeConfig config = UtilClass.getConfigForId(id);\r\n    ...\r\n  }\r\n}\r\n```\r\n\r\nI tried the `mockStatic` method mentioned [here][1] but it didn&#39;t work:\r\n```java\r\n// get SomeService instance from Guice container\r\nInjector injector = Guice.createInjector(new BasicModule());\r\nSomeService someService = injector.getInstance(SomeService.class);\r\n\r\ntry (MockedStatic&lt;UtilClass&gt; dummy = Mockito.mockStatic(UtilClass.class)) {\r\n  \r\n  dummy.when(() -&gt; UtilClass.getConfigForId(any()))\r\n        .thenReturn(someConfig);\r\n  \r\n  // Didn&#39;t give me someConfig above, but the actual value\r\n  someService.doSth();\r\n}\r\n```\r\n---\r\nUPDATE:  \r\n\r\n\r\nApologies for all the typos made. I&#39;ve now corrected them so that the code is syntax-error free.  \r\nI think I found what might have broke the MockedStatic: that `UtilClass.getConfigForId` is called in another thread. Here&#39;s the overall structure:\r\n```java\r\npublic class SomeService{\r\n  public void doSth(List&lt;Msg&gt; messages){\r\n    List&lt;Callable&lt;Void&gt;&gt; tasks = new ArrayList&lt;&gt;();\r\n    \r\n    for (Msg msg : messages){\r\n      tasks.add(()-&gt;{\r\n            String id = msg.getId();\r\n            SomeConfig config = UtilClass.getConfigForId(id);\r\n            ...\r\n      })\r\n    }\r\n    \r\n\r\n    // use Executors.newWorkStealingPool() to execute the tasks\r\n    ...\r\n  }\r\n}\r\n```\r\nAs long as `UtilClass.getConfigForId(id)` is not executed in the same thread as the `try with resource` code, the magic doesn&#39;t work. I&#39;ve tried another function that does the same but in one thread and `MockedStatic` works there fine.  \r\nSo the question becomes: how to make `MockedStatic` work in a different thread?  \r\nAnother UPDATE:  \r\nI think from the [javaDoc][2] it&#39;s not possbile. So I&#39;ll have to come up with other ways, e.g. refactoring\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/21105403/mocking-static-methods-with-mockito\r\n  [2]: https://javadoc.io/static/org.mockito/mockito-core/3.4.3/org/mockito/MockedStatic.html","title":"Mockito mock return value of static method of util class in a different thread","body":"<p>I have a method that calls a Util class' static method.<br />\nIs there a way to mock the return value of this static method so that it always returns a static value?</p>\n<p>I want to do this because this static method returns me some configurations that could change, but I don't want this to affect my test. If I could mock this Util class and return a static results for the method all the time, it would give me a stable test.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SomeService{\n  public void doSth(){\n    SomeConfig config = UtilClass.getConfigForId(id);\n    ...\n  }\n}\n</code></pre>\n<p>I tried the <code>mockStatic</code> method mentioned <a href=\"https://stackoverflow.com/questions/21105403/mocking-static-methods-with-mockito\">here</a> but it didn't work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// get SomeService instance from Guice container\nInjector injector = Guice.createInjector(new BasicModule());\nSomeService someService = injector.getInstance(SomeService.class);\n\ntry (MockedStatic&lt;UtilClass&gt; dummy = Mockito.mockStatic(UtilClass.class)) {\n  \n  dummy.when(() -&gt; UtilClass.getConfigForId(any()))\n        .thenReturn(someConfig);\n  \n  // Didn't give me someConfig above, but the actual value\n  someService.doSth();\n}\n</code></pre>\n<hr />\n<p>UPDATE:</p>\n<p>Apologies for all the typos made. I've now corrected them so that the code is syntax-error free.<br />\nI think I found what might have broke the MockedStatic: that <code>UtilClass.getConfigForId</code> is called in another thread. Here's the overall structure:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SomeService{\n  public void doSth(List&lt;Msg&gt; messages){\n    List&lt;Callable&lt;Void&gt;&gt; tasks = new ArrayList&lt;&gt;();\n    \n    for (Msg msg : messages){\n      tasks.add(()-&gt;{\n            String id = msg.getId();\n            SomeConfig config = UtilClass.getConfigForId(id);\n            ...\n      })\n    }\n    \n\n    // use Executors.newWorkStealingPool() to execute the tasks\n    ...\n  }\n}\n</code></pre>\n<p>As long as <code>UtilClass.getConfigForId(id)</code> is not executed in the same thread as the <code>try with resource</code> code, the magic doesn't work. I've tried another function that does the same but in one thread and <code>MockedStatic</code> works there fine.<br />\nSo the question becomes: how to make <code>MockedStatic</code> work in a different thread?<br />\nAnother UPDATE:<br />\nI think from the <a href=\"https://javadoc.io/static/org.mockito/mockito-core/3.4.3/org/mockito/MockedStatic.html\" rel=\"nofollow noreferrer\">javaDoc</a> it's not possbile. So I'll have to come up with other ways, e.g. refactoring</p>\n"},{"tags":["java","xml","android-layout"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673509565,"post_id":75091524,"comment_id":132516245,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":23438680,"reputation":1,"user_id":17496460,"display_name":"KALYANI AUSEKAR"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673496983,"creation_date":1673496983,"question_id":75091524,"body_markdown":"am working as an Android Developer, and I am facing issue for onclick actions not working in any device&#39;s from last 1 week. can any one please tell me the solution for this why this will happen suddenly.\r\n\r\nI tried add listeners on imageview and before my Lister on layout.","title":"Facing issue on On Click Listener events","body":"<p>am working as an Android Developer, and I am facing issue for onclick actions not working in any device's from last 1 week. can any one please tell me the solution for this why this will happen suddenly.</p>\n<p>I tried add listeners on imageview and before my Lister on layout.</p>\n"},{"tags":["java","spring-boot","elasticsearch"],"owner":{"account_id":27496968,"reputation":1,"user_id":20981339,"display_name":"Lex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673496491,"creation_date":1673496491,"question_id":75091481,"body_markdown":"Need a help about the implementation of how to improve the search accuracy of the elasticSearch logic on the **JAVA** side which is in the **springboot application**. \r\n\r\nWhy I am aiming for search accuracy? Because in the production side whenever I am searching for products using the search bar in the app **ex. Laptops** it shows different results of product also.\r\n\r\n\r\n\r\nFirst I have a **controller class ** where the request goes to this endpoint:\r\n```\r\n@PostMapping(&quot;/bsl/view/products/sort-filter&quot;)\r\n\tpublic Response&lt;SearchByFilterByResponse&gt; viewSortByFilterBy(@RequestBody SearchByDto searchBy) throws IOException{\r\n\t\treturn Response.success(elasticSearchProductBslService.viewSortByFilterBy(searchBy));\r\n\t}\r\n```\r\n\r\n\r\nRequestBody contains the **SearchByDto class** where inside of that class I have the **filterBy** object, where inside of it the structure of query is there.\r\n\r\n\r\n**SearchByDto class:**\r\n[SearchByDto class](https://i.stack.imgur.com/9WHd7.png)\r\n\r\n\r\n\r\n\r\n**FilterBy class:**\r\n```\r\nprivate Map&lt;String, List&lt;String&gt;&gt; filter;\r\n\tprivate List&lt;KeyValue&lt;String, String&gt;&gt; matches;\r\n\tprivate List&lt;KeyValue&lt;String, String&gt;&gt; matchesPartial;\r\n\tprivate List&lt;KeyValue&lt;String, String&gt;&gt; matchesNot;\r\n\tprivate List&lt;KeyValue&lt;String, RangeValue&gt;&gt; ranges;\t\r\n\tprivate List&lt;String&gt; discludeFieldNotNullAndEmpty;\r\n\t\r\n\tpublic List&lt;String&gt; getDiscludeFieldNotNullAndEmpty() {\r\n\t\tif(discludeFieldNotNullAndEmpty==null) {\r\n\t\t\tthis.discludeFieldNotNullAndEmpty =  new ArrayList&lt;&gt;();\r\n\t\t}\r\n\t\treturn discludeFieldNotNullAndEmpty;\r\n\t}\r\n\tpublic void setDiscludeFieldNotNullAndEmpty(List&lt;String&gt; discludeFieldNotNullAndEmpty) {\r\n\t\tthis.discludeFieldNotNullAndEmpty = discludeFieldNotNullAndEmpty;\r\n\t}\r\n\r\n\tpublic List&lt;KeyValue&lt;String, RangeValue&gt;&gt; getRanges() {\r\n\t\tif(ranges==null) {\r\n\t\t\tthis.ranges =  new ArrayList&lt;&gt;();\r\n\t\t}\r\n\t\treturn ranges;\r\n\t}\r\n\tpublic void setRanges(List&lt;KeyValue&lt;String, RangeValue&gt;&gt; ranges) {\r\n\t\tthis.ranges = ranges;\r\n\t}\r\n\r\n\tpublic Map&lt;String, List&lt;String&gt;&gt; getFilter() {\r\n\t\tif(filter==null) {\r\n\t\t\tthis.filter = new HashMap&lt;&gt;();\r\n\t\t}\r\n\t\treturn filter;\r\n\t}\r\n\tpublic void setFilter(Map&lt;String, List&lt;String&gt;&gt; filter) {\r\n\t\tthis.filter = filter;\r\n\t}\r\n\r\n\tpublic List&lt;KeyValue&lt;String, String&gt;&gt; getMatches() {\r\n\t\tif(matches==null) {\r\n\t\t\tthis.matches = new ArrayList&lt;&gt;();\r\n\t\t}\r\n\t\treturn matches;\r\n\t}\r\n\tpublic void setMatches(List&lt;KeyValue&lt;String, String&gt;&gt; matches) {\r\n\t\tthis.matches = matches;\r\n\t}\r\n\t\r\n\tpublic List&lt;KeyValue&lt;String, String&gt;&gt; getMatchesPartial() {\r\n\t\tif(matchesPartial==null) {\r\n\t\t\tthis.matchesPartial = new ArrayList&lt;&gt;();\r\n\t\t}\r\n\t\treturn matchesPartial;\r\n\t}\r\n\tpublic void setMatchesPartial(List&lt;KeyValue&lt;String, String&gt;&gt; matchesPartial) {\r\n\t\tthis.matchesPartial = matchesPartial;\r\n\t}\r\n\t\r\n\tpublic List&lt;KeyValue&lt;String, String&gt;&gt; getMatchesNot() {\r\n\t\tif(matchesNot==null) {\r\n\t\t\tthis.matchesNot = new ArrayList&lt;&gt;();\r\n\t\t}\r\n\t\treturn matchesNot;\r\n\t}\r\n\tpublic void setMatchesNot(List&lt;KeyValue&lt;String, String&gt;&gt; matchesNot) {\r\n\t\tthis.matchesNot = matchesNot;\r\n\t}\r\n}\r\n```\r\nAs based on the structure of the code the **matches, matchesPartial, matchesNot is nested under the filter Map**, and each keyword queries should have **key and value**.\r\n\r\n\r\nNow let&#39;s go back to the controller class, as you can see inside of the **Response.success method**\r\nit is calling also the **elasticSearchProductBslService.viewSortByFilterBy(searchBy)** where inside of the **searchBy** it contains the request including the **filterBy**. \r\n\r\nLet&#39;s jump to the **viewSortByFilterBy()** method inside of the **elasticSearchProductBslService** class. \r\n\r\n```\r\n\tpublic SearchByFilterByResponse viewSortByFilterBy(SearchByDto searchBy) throws IOException{\r\n\r\n\t\tSearchSourceBuilder sourceBuilder = new SearchSourceBuilder();\r\n\t\tSearchRequest request = new SearchRequest();\r\n\t\trequest.indices(&quot;product_bsl&quot;);\r\n\t\trequest.source(sourceBuilder);\r\n\r\n\t\tint fromIndex = searchBy.getPagination().getFrom();\r\n\t\tint size = searchBy.getPagination().getSize();\r\n\r\n\t\telasticSearchHelper.buildFieldSort(searchBy, sourceBuilder);\r\n\t\tsourceBuilder.from(fromIndex);\r\n\t\tsourceBuilder.size(size);\r\n\r\n\t\tBoolQueryBuilder queryBuilder = elasticSearchHelper.boolQueryBuilder(searchBy);\r\n\t\tsourceBuilder.query(queryBuilder);\r\n\r\n\t\tSearchResponse response = client.search(request, RequestOptions.DEFAULT);\r\n\t\tSearchHit[] searchHits = response.getHits().getHits();\r\n\r\n\t\tSearchByFilterByResponse resp = new SearchByFilterByResponse();\r\n\t\tresp.setTotalHits(response.getHits().getTotalHits().value);\r\n\r\n\t\tList&lt;ProductWithImage&gt; products = searchHitToDto(searchHits);\r\n\t\tresp.setProducts(products);\r\n\r\n\t\treturn resp;\r\n\t}\r\n```\r\n\r\nAdditional information for you, this is the DTO class for **&quot;product_bsl&quot; index**. As I will show it to you how it look like in the **OpenAPI** later.\r\n\r\n**ProductBslElasticDto class:**\r\n\r\n```\r\npublic class ProductBslElasticDto {\r\n\t\r\n\tprivate String id;\r\n\tprivate String name;\r\n\tprivate List&lt;OfferElasticDto&gt; offers;\r\n\tprivate List&lt;ProductBslElasticCategory&gt; productBslElasticCategory;\r\n\tprivate String brandId;\r\n\tprivate String brandName;\r\n\tprivate String shortdesc;\r\n\tprivate String longDesc;\r\n\tprivate int brandRating;\r\n\tprivate long dateInserted;\r\n\tprivate List&lt;String&gt; imagePath;\r\n\tprivate String isActive;\r\n\tprivate List&lt;String&gt; images;\r\n\tprivate List&lt;String&gt; imageId;\r\n\tprivate long totalVisits;\r\n\tprivate long totalVisitUpdateTime;\r\n\tprivate long totalViewCount;\r\n\r\n\tpublic String getId() {\r\n\t\treturn id;\r\n\t}\r\n\tpublic void setId(String id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\tpublic String getBrandName() {\r\n\t\treturn brandName;\r\n\t}\r\n\tpublic void setBrandName(String brandName) {\r\n\t\tthis.brandName = brandName;\r\n\t}\r\n\tpublic String getShortdesc() {\r\n\t\treturn shortdesc;\r\n\t}\r\n\tpublic void setShortdesc(String shortdesc) {\r\n\t\tthis.shortdesc = shortdesc;\r\n\t}\r\n\tpublic String getLongDesc() {\r\n\t\treturn longDesc;\r\n\t}\r\n\tpublic void setLongDesc(String longDesc) {\r\n\t\tthis.longDesc = longDesc;\r\n\t}\r\n\tpublic int getBrandRating() {\r\n\t\treturn brandRating;\r\n\t}\r\n\tpublic void setBrandRating(int brandRating) {\r\n\t\tthis.brandRating = brandRating;\r\n\t}\r\n\tpublic String getBrandId() {\r\n\t\treturn brandId;\r\n\t}\r\n\tpublic void setBrandId(String brandId) {\r\n\t\tthis.brandId = brandId;\r\n\t}\r\n\tpublic long getDateInserted() {\r\n\t\treturn dateInserted;\r\n\t}\r\n\tpublic void setDateInserted(long dateInserted) {\r\n\t\tthis.dateInserted = dateInserted;\r\n\t}\r\n\r\n\tpublic List&lt;ProductBslElasticCategory&gt; getProductBslElasticCategory() {\r\n\t\treturn productBslElasticCategory;\r\n\t}\r\n\tpublic void setProductBslElasticCategory(List&lt;ProductBslElasticCategory&gt; productBslElasticCategory) {\r\n\t\tthis.productBslElasticCategory = productBslElasticCategory;\r\n\t}\r\n\tpublic long getTotalVisits() {\r\n\t\treturn totalVisits;\r\n\t}\r\n\tpublic void setTotalVisits(long totalVisits) {\r\n\t\tthis.totalVisits = totalVisits;\r\n\t}\r\n\tpublic long getTotalVisitUpdateTime() {\r\n\t\treturn totalVisitUpdateTime;\r\n\t}\r\n\tpublic void setTotalVisitUpdateTime(long totalVisitUpdateTime) {\r\n\t\tthis.totalVisitUpdateTime = totalVisitUpdateTime;\r\n\t}\r\n\tpublic String getIsActive() {\r\n\t\treturn isActive;\r\n\t}\r\n\tpublic void setIsActive(String isActive) {\r\n\t\tthis.isActive = isActive;\r\n\t}\r\n\tpublic List&lt;String&gt; getImages() {\r\n\t\treturn images;\r\n\t}\r\n\tpublic void setImages(List&lt;String&gt; images) {\r\n\t\tthis.images = images;\r\n\t}\r\n\tpublic List&lt;String&gt; getImageId() {\r\n\t\treturn imageId;\r\n\t}\r\n\tpublic void setImageId(List&lt;String&gt; imageId) {\r\n\t\tthis.imageId = imageId;\r\n\t}\r\n\tpublic List&lt;OfferElasticDto&gt; getOffers() {\r\n\t\treturn offers;\r\n\t}\r\n\tpublic void setOffers(List&lt;OfferElasticDto&gt; offers) {\r\n\t\tthis.offers = offers;\r\n\t}\r\n\r\n\tpublic long getTotalViewCount() {\r\n\t\treturn totalViewCount;\r\n\t}\r\n\r\n\tpublic void setTotalViewCount(long totalViewCount) {\r\n\t\tthis.totalViewCount = totalViewCount;\r\n\t}\r\n\r\n\tpublic List&lt;String&gt; getImagePath() {\r\n\t\treturn imagePath;\r\n\t}\r\n\r\n\tpublic void setImagePath(List&lt;String&gt; imagePath) {\r\n\t\tsortIndexedImagePaths(imagePath);\r\n\t\tthis.imagePath = imagePath;\r\n\t}\r\n\r\n\tprivate void sortIndexedImagePaths(List&lt;String&gt; imagePaths) {\r\n\t\tif (null == imagePaths) return;\r\n\t\tfor (String path : imagePaths) {\r\n\t\t\tif (null == path ||\r\n\t\t\t\t\t!PRODUCT_INDEXED_IMAGE_PATH_PATTERN.matcher(path).find()) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t\timagePaths.sort(String::compareTo);\r\n\t}\r\n}\r\n```\r\n\r\n\r\nNow after I show the **DTO** you can look back to the **viewSortByFilterBy()** again. I think you can **disregard the SourceBuilder and SearchRequest** let&#39;s focus on the **elasticSearchHelper.boolQueryBuilder(searchBy)** as we will jump inside of it.\r\n\r\n**ElasticSearchHelper class:**\r\n```\r\n@Service\r\npublic class ElasticSearchHelper {\r\n\r\n\tprivate static final String KEY_NAME = &quot;name&quot;;\r\n\tprivate static final String REGEX_SPACE = &quot; &quot;;\r\n\tprivate static final String REGEX_WILDCARD = &quot;*&quot;;\r\n\r\n\tpublic BoolQueryBuilder boolQueryBuilder(SearchByDto searchBy) {\r\n\t\tFilterBy filterBy = searchBy.getFilterBy();\r\n\t\tBoolQueryBuilder rootBuilder = QueryBuilders.boolQuery();\r\n\r\n\t\tif(filterBy!=null) {\r\n\t\t\tnestedTermsQueryBuilder(rootBuilder, filterBy.getFilter());\r\n\t\t\tnestedBoolQueryBuilder(rootBuilder, filterBy.getMatches(), MUST);\r\n\t\t\tnestedBoolQueryBuilder(rootBuilder, filterBy.getMatchesNot(), MUST_NOT);\r\n\t\t\tnestedBoolQueryBuilder(rootBuilder, filterBy.getMatchesPartial(), SHOULD);\r\n\t\t\tnestedExistsQueryBuilder(rootBuilder, filterBy.getDiscludeFieldNotNullAndEmpty());\r\n\t\t\tnestedRangeQueryBuilder(rootBuilder, filterBy.getRanges());\r\n\t\t}\r\n\r\n\t\treturn rootBuilder;\r\n\t}\r\n\r\n\tprivate void nestedTermsQueryBuilder(BoolQueryBuilder rootBuilder, Map&lt;String, List&lt;String&gt;&gt; filter) {\r\n\t\tfilter.forEach((key, value) -&gt; {\r\n\t\t\tTermsQueryBuilder nestedBuilder = QueryBuilders.termsQuery(key, value);\r\n\t\t\trootBuilder.must(nestedBuilder);\r\n\t\t});\r\n\t}\r\n\r\n\tprivate void nestedBoolQueryBuilder(BoolQueryBuilder rootBuilder, List&lt;KeyValue&lt;String, String&gt;&gt; entries, ElasticSearchBoolQueryType queryType) {\r\n\t\tif(entries != null &amp;&amp; !entries.isEmpty()) {\r\n\t\t\tSet&lt;String&gt; distinctKeys = entries.stream().map(KeyValue::getKey).collect(Collectors.toSet());\r\n\t\t\tfor (String key : distinctKeys) {\r\n\t\t\t\tBoolQueryBuilder nestedBuilder = QueryBuilders.boolQuery();\r\n\t\t\t\tfor (KeyValue&lt;String, String&gt; entry : entries) {\r\n\t\t\t\t\tnestedQueryStringOrDisMaxQueryBuilder(key, entry, nestedBuilder);\r\n\t\t\t\t}\r\n\t\t\t\tswitch (queryType) {\r\n\t\t\t\t\tcase MUST:\r\n\t\t\t\t\t\trootBuilder.must(nestedBuilder);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase MUST_NOT:\r\n\t\t\t\t\t\trootBuilder.mustNot(nestedBuilder);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase SHOULD:\r\n\t\t\t\t\t\trootBuilder.should(nestedBuilder);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\n```\r\n\r\nI just included the **boolQueryBuilder and nestedBoolQueryBuilder** only just to focus relating to my concern. don&#39;t get confuse on the **MUST, MUST_NOT, SHOULD** it is the same for **matches, matchesNot, matchesPartial** as I have told earlier on the **FilterBy class**. So in this class I think the logic happens here, any suggestions for any changes and how should I improve search accuracy for this kind of structure?\r\n\r\n\r\n\r\n\r\n\r\nHow it looks like in OpenAPI as I will search for product name:\r\n\r\nRequest: **POST &quot;/bsl/view/products/sort-filter&quot;**\r\n```\r\n{\r\n    &quot;pagination&quot;: {\r\n        &quot;from&quot;: 0,\r\n        &quot;size&quot;: 20\r\n    },\r\n    &quot;sortBy&quot;: {\r\n        &quot;fieldsAscOrDesc&quot;: {\r\n            &quot;offers.financing.finalAmount&quot;: &quot;desc&quot;\r\n        }\r\n    },\r\n    &quot;filterBy&quot;: {\r\n        &quot;matches&quot;: [\r\n            {\r\n                &quot;key&quot;: &quot;name&quot;,\r\n                &quot;value&quot;: &quot;Lenovo IdeaPad3 81Y4001NPH&quot;\r\n            }\r\n        ],\r\n        &quot;matchesNot&quot;: [\r\n            {\r\n                &quot;key&quot;: &quot;isActive&quot;,\r\n                &quot;value&quot;: &quot;false&quot;\r\n            }\r\n        ],\r\n        &quot;discludeFieldNotNullAndEmpty&quot;: [\r\n            &quot;offers&quot;\r\n        ]\r\n    }\r\n}\r\n```\r\n\r\nResult was it had total of **17 hits** and I used the **matches keyword** where it should be search the exact word right? But it shows different Lenovo products in the result.\r\n\r\n[Result](https://i.stack.imgur.com/fWDBK.png)","title":"Elasticsearch improve search accuracy on Boolean query match, matchesNot, matchesPartial","body":"<p>Need a help about the implementation of how to improve the search accuracy of the elasticSearch logic on the <strong>JAVA</strong> side which is in the <strong>springboot application</strong>.</p>\n<p>Why I am aiming for search accuracy? Because in the production side whenever I am searching for products using the search bar in the app <strong>ex. Laptops</strong> it shows different results of product also.</p>\n<p>First I have a **controller class ** where the request goes to this endpoint:</p>\n<pre><code>@PostMapping(&quot;/bsl/view/products/sort-filter&quot;)\n    public Response&lt;SearchByFilterByResponse&gt; viewSortByFilterBy(@RequestBody SearchByDto searchBy) throws IOException{\n        return Response.success(elasticSearchProductBslService.viewSortByFilterBy(searchBy));\n    }\n</code></pre>\n<p>RequestBody contains the <strong>SearchByDto class</strong> where inside of that class I have the <strong>filterBy</strong> object, where inside of it the structure of query is there.</p>\n<p><strong>SearchByDto class:</strong>\n<a href=\"https://i.stack.imgur.com/9WHd7.png\" rel=\"nofollow noreferrer\">SearchByDto class</a></p>\n<p><strong>FilterBy class:</strong></p>\n<pre><code>private Map&lt;String, List&lt;String&gt;&gt; filter;\n    private List&lt;KeyValue&lt;String, String&gt;&gt; matches;\n    private List&lt;KeyValue&lt;String, String&gt;&gt; matchesPartial;\n    private List&lt;KeyValue&lt;String, String&gt;&gt; matchesNot;\n    private List&lt;KeyValue&lt;String, RangeValue&gt;&gt; ranges;  \n    private List&lt;String&gt; discludeFieldNotNullAndEmpty;\n    \n    public List&lt;String&gt; getDiscludeFieldNotNullAndEmpty() {\n        if(discludeFieldNotNullAndEmpty==null) {\n            this.discludeFieldNotNullAndEmpty =  new ArrayList&lt;&gt;();\n        }\n        return discludeFieldNotNullAndEmpty;\n    }\n    public void setDiscludeFieldNotNullAndEmpty(List&lt;String&gt; discludeFieldNotNullAndEmpty) {\n        this.discludeFieldNotNullAndEmpty = discludeFieldNotNullAndEmpty;\n    }\n\n    public List&lt;KeyValue&lt;String, RangeValue&gt;&gt; getRanges() {\n        if(ranges==null) {\n            this.ranges =  new ArrayList&lt;&gt;();\n        }\n        return ranges;\n    }\n    public void setRanges(List&lt;KeyValue&lt;String, RangeValue&gt;&gt; ranges) {\n        this.ranges = ranges;\n    }\n\n    public Map&lt;String, List&lt;String&gt;&gt; getFilter() {\n        if(filter==null) {\n            this.filter = new HashMap&lt;&gt;();\n        }\n        return filter;\n    }\n    public void setFilter(Map&lt;String, List&lt;String&gt;&gt; filter) {\n        this.filter = filter;\n    }\n\n    public List&lt;KeyValue&lt;String, String&gt;&gt; getMatches() {\n        if(matches==null) {\n            this.matches = new ArrayList&lt;&gt;();\n        }\n        return matches;\n    }\n    public void setMatches(List&lt;KeyValue&lt;String, String&gt;&gt; matches) {\n        this.matches = matches;\n    }\n    \n    public List&lt;KeyValue&lt;String, String&gt;&gt; getMatchesPartial() {\n        if(matchesPartial==null) {\n            this.matchesPartial = new ArrayList&lt;&gt;();\n        }\n        return matchesPartial;\n    }\n    public void setMatchesPartial(List&lt;KeyValue&lt;String, String&gt;&gt; matchesPartial) {\n        this.matchesPartial = matchesPartial;\n    }\n    \n    public List&lt;KeyValue&lt;String, String&gt;&gt; getMatchesNot() {\n        if(matchesNot==null) {\n            this.matchesNot = new ArrayList&lt;&gt;();\n        }\n        return matchesNot;\n    }\n    public void setMatchesNot(List&lt;KeyValue&lt;String, String&gt;&gt; matchesNot) {\n        this.matchesNot = matchesNot;\n    }\n}\n</code></pre>\n<p>As based on the structure of the code the <strong>matches, matchesPartial, matchesNot is nested under the filter Map</strong>, and each keyword queries should have <strong>key and value</strong>.</p>\n<p>Now let's go back to the controller class, as you can see inside of the <strong>Response.success method</strong>\nit is calling also the <strong>elasticSearchProductBslService.viewSortByFilterBy(searchBy)</strong> where inside of the <strong>searchBy</strong> it contains the request including the <strong>filterBy</strong>.</p>\n<p>Let's jump to the <strong>viewSortByFilterBy()</strong> method inside of the <strong>elasticSearchProductBslService</strong> class.</p>\n<pre><code>    public SearchByFilterByResponse viewSortByFilterBy(SearchByDto searchBy) throws IOException{\n\n        SearchSourceBuilder sourceBuilder = new SearchSourceBuilder();\n        SearchRequest request = new SearchRequest();\n        request.indices(&quot;product_bsl&quot;);\n        request.source(sourceBuilder);\n\n        int fromIndex = searchBy.getPagination().getFrom();\n        int size = searchBy.getPagination().getSize();\n\n        elasticSearchHelper.buildFieldSort(searchBy, sourceBuilder);\n        sourceBuilder.from(fromIndex);\n        sourceBuilder.size(size);\n\n        BoolQueryBuilder queryBuilder = elasticSearchHelper.boolQueryBuilder(searchBy);\n        sourceBuilder.query(queryBuilder);\n\n        SearchResponse response = client.search(request, RequestOptions.DEFAULT);\n        SearchHit[] searchHits = response.getHits().getHits();\n\n        SearchByFilterByResponse resp = new SearchByFilterByResponse();\n        resp.setTotalHits(response.getHits().getTotalHits().value);\n\n        List&lt;ProductWithImage&gt; products = searchHitToDto(searchHits);\n        resp.setProducts(products);\n\n        return resp;\n    }\n</code></pre>\n<p>Additional information for you, this is the DTO class for <strong>&quot;product_bsl&quot; index</strong>. As I will show it to you how it look like in the <strong>OpenAPI</strong> later.</p>\n<p><strong>ProductBslElasticDto class:</strong></p>\n<pre><code>public class ProductBslElasticDto {\n    \n    private String id;\n    private String name;\n    private List&lt;OfferElasticDto&gt; offers;\n    private List&lt;ProductBslElasticCategory&gt; productBslElasticCategory;\n    private String brandId;\n    private String brandName;\n    private String shortdesc;\n    private String longDesc;\n    private int brandRating;\n    private long dateInserted;\n    private List&lt;String&gt; imagePath;\n    private String isActive;\n    private List&lt;String&gt; images;\n    private List&lt;String&gt; imageId;\n    private long totalVisits;\n    private long totalVisitUpdateTime;\n    private long totalViewCount;\n\n    public String getId() {\n        return id;\n    }\n    public void setId(String id) {\n        this.id = id;\n    }\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    public String getBrandName() {\n        return brandName;\n    }\n    public void setBrandName(String brandName) {\n        this.brandName = brandName;\n    }\n    public String getShortdesc() {\n        return shortdesc;\n    }\n    public void setShortdesc(String shortdesc) {\n        this.shortdesc = shortdesc;\n    }\n    public String getLongDesc() {\n        return longDesc;\n    }\n    public void setLongDesc(String longDesc) {\n        this.longDesc = longDesc;\n    }\n    public int getBrandRating() {\n        return brandRating;\n    }\n    public void setBrandRating(int brandRating) {\n        this.brandRating = brandRating;\n    }\n    public String getBrandId() {\n        return brandId;\n    }\n    public void setBrandId(String brandId) {\n        this.brandId = brandId;\n    }\n    public long getDateInserted() {\n        return dateInserted;\n    }\n    public void setDateInserted(long dateInserted) {\n        this.dateInserted = dateInserted;\n    }\n\n    public List&lt;ProductBslElasticCategory&gt; getProductBslElasticCategory() {\n        return productBslElasticCategory;\n    }\n    public void setProductBslElasticCategory(List&lt;ProductBslElasticCategory&gt; productBslElasticCategory) {\n        this.productBslElasticCategory = productBslElasticCategory;\n    }\n    public long getTotalVisits() {\n        return totalVisits;\n    }\n    public void setTotalVisits(long totalVisits) {\n        this.totalVisits = totalVisits;\n    }\n    public long getTotalVisitUpdateTime() {\n        return totalVisitUpdateTime;\n    }\n    public void setTotalVisitUpdateTime(long totalVisitUpdateTime) {\n        this.totalVisitUpdateTime = totalVisitUpdateTime;\n    }\n    public String getIsActive() {\n        return isActive;\n    }\n    public void setIsActive(String isActive) {\n        this.isActive = isActive;\n    }\n    public List&lt;String&gt; getImages() {\n        return images;\n    }\n    public void setImages(List&lt;String&gt; images) {\n        this.images = images;\n    }\n    public List&lt;String&gt; getImageId() {\n        return imageId;\n    }\n    public void setImageId(List&lt;String&gt; imageId) {\n        this.imageId = imageId;\n    }\n    public List&lt;OfferElasticDto&gt; getOffers() {\n        return offers;\n    }\n    public void setOffers(List&lt;OfferElasticDto&gt; offers) {\n        this.offers = offers;\n    }\n\n    public long getTotalViewCount() {\n        return totalViewCount;\n    }\n\n    public void setTotalViewCount(long totalViewCount) {\n        this.totalViewCount = totalViewCount;\n    }\n\n    public List&lt;String&gt; getImagePath() {\n        return imagePath;\n    }\n\n    public void setImagePath(List&lt;String&gt; imagePath) {\n        sortIndexedImagePaths(imagePath);\n        this.imagePath = imagePath;\n    }\n\n    private void sortIndexedImagePaths(List&lt;String&gt; imagePaths) {\n        if (null == imagePaths) return;\n        for (String path : imagePaths) {\n            if (null == path ||\n                    !PRODUCT_INDEXED_IMAGE_PATH_PATTERN.matcher(path).find()) {\n                return;\n            }\n        }\n        imagePaths.sort(String::compareTo);\n    }\n}\n</code></pre>\n<p>Now after I show the <strong>DTO</strong> you can look back to the <strong>viewSortByFilterBy()</strong> again. I think you can <strong>disregard the SourceBuilder and SearchRequest</strong> let's focus on the <strong>elasticSearchHelper.boolQueryBuilder(searchBy)</strong> as we will jump inside of it.</p>\n<p><strong>ElasticSearchHelper class:</strong></p>\n<pre><code>@Service\npublic class ElasticSearchHelper {\n\n    private static final String KEY_NAME = &quot;name&quot;;\n    private static final String REGEX_SPACE = &quot; &quot;;\n    private static final String REGEX_WILDCARD = &quot;*&quot;;\n\n    public BoolQueryBuilder boolQueryBuilder(SearchByDto searchBy) {\n        FilterBy filterBy = searchBy.getFilterBy();\n        BoolQueryBuilder rootBuilder = QueryBuilders.boolQuery();\n\n        if(filterBy!=null) {\n            nestedTermsQueryBuilder(rootBuilder, filterBy.getFilter());\n            nestedBoolQueryBuilder(rootBuilder, filterBy.getMatches(), MUST);\n            nestedBoolQueryBuilder(rootBuilder, filterBy.getMatchesNot(), MUST_NOT);\n            nestedBoolQueryBuilder(rootBuilder, filterBy.getMatchesPartial(), SHOULD);\n            nestedExistsQueryBuilder(rootBuilder, filterBy.getDiscludeFieldNotNullAndEmpty());\n            nestedRangeQueryBuilder(rootBuilder, filterBy.getRanges());\n        }\n\n        return rootBuilder;\n    }\n\n    private void nestedTermsQueryBuilder(BoolQueryBuilder rootBuilder, Map&lt;String, List&lt;String&gt;&gt; filter) {\n        filter.forEach((key, value) -&gt; {\n            TermsQueryBuilder nestedBuilder = QueryBuilders.termsQuery(key, value);\n            rootBuilder.must(nestedBuilder);\n        });\n    }\n\n    private void nestedBoolQueryBuilder(BoolQueryBuilder rootBuilder, List&lt;KeyValue&lt;String, String&gt;&gt; entries, ElasticSearchBoolQueryType queryType) {\n        if(entries != null &amp;&amp; !entries.isEmpty()) {\n            Set&lt;String&gt; distinctKeys = entries.stream().map(KeyValue::getKey).collect(Collectors.toSet());\n            for (String key : distinctKeys) {\n                BoolQueryBuilder nestedBuilder = QueryBuilders.boolQuery();\n                for (KeyValue&lt;String, String&gt; entry : entries) {\n                    nestedQueryStringOrDisMaxQueryBuilder(key, entry, nestedBuilder);\n                }\n                switch (queryType) {\n                    case MUST:\n                        rootBuilder.must(nestedBuilder);\n                        break;\n                    case MUST_NOT:\n                        rootBuilder.mustNot(nestedBuilder);\n                        break;\n                    case SHOULD:\n                        rootBuilder.should(nestedBuilder);\n                        break;\n                    default:\n                        break;\n                }\n            }\n        }\n    }\n\n\n</code></pre>\n<p>I just included the <strong>boolQueryBuilder and nestedBoolQueryBuilder</strong> only just to focus relating to my concern. don't get confuse on the <strong>MUST, MUST_NOT, SHOULD</strong> it is the same for <strong>matches, matchesNot, matchesPartial</strong> as I have told earlier on the <strong>FilterBy class</strong>. So in this class I think the logic happens here, any suggestions for any changes and how should I improve search accuracy for this kind of structure?</p>\n<p>How it looks like in OpenAPI as I will search for product name:</p>\n<p>Request: <strong>POST &quot;/bsl/view/products/sort-filter&quot;</strong></p>\n<pre><code>{\n    &quot;pagination&quot;: {\n        &quot;from&quot;: 0,\n        &quot;size&quot;: 20\n    },\n    &quot;sortBy&quot;: {\n        &quot;fieldsAscOrDesc&quot;: {\n            &quot;offers.financing.finalAmount&quot;: &quot;desc&quot;\n        }\n    },\n    &quot;filterBy&quot;: {\n        &quot;matches&quot;: [\n            {\n                &quot;key&quot;: &quot;name&quot;,\n                &quot;value&quot;: &quot;Lenovo IdeaPad3 81Y4001NPH&quot;\n            }\n        ],\n        &quot;matchesNot&quot;: [\n            {\n                &quot;key&quot;: &quot;isActive&quot;,\n                &quot;value&quot;: &quot;false&quot;\n            }\n        ],\n        &quot;discludeFieldNotNullAndEmpty&quot;: [\n            &quot;offers&quot;\n        ]\n    }\n}\n</code></pre>\n<p>Result was it had total of <strong>17 hits</strong> and I used the <strong>matches keyword</strong> where it should be search the exact word right? But it shows different Lenovo products in the result.</p>\n<p><a href=\"https://i.stack.imgur.com/fWDBK.png\" rel=\"nofollow noreferrer\">Result</a></p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1673508787,"post_id":75091330,"comment_id":132516056,"body_markdown":"rerun your build outside of Eclipse via command line as given: `mvn clean package -U`...","body":"rerun your build outside of Eclipse via command line as given: <code>mvn clean package -U</code>..."}],"answers":[{"comments":[{"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"score":0,"creation_date":1673495275,"post_id":75091360,"comment_id":132513600,"body_markdown":"Please more detail and explain about *If you haven&#39;t modified your maven settings to point to a non-default repository path*","body":"Please more detail and explain about <i>If you haven&#39;t modified your maven settings to point to a non-default repository path</i>"}],"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673496465,"creation_date":1673495202,"answer_id":75091360,"question_id":75091330,"body_markdown":"The easiest solution is just to remove the artifact from your local maven repository and rerun the import.  If you haven&#39;t modified your maven settings to point to a non-default repository path, you&#39;ll find the artifact in `~/.m2/repository/commons-dbcp/commons-dbcp/1.4`.  Remove this directory and rerun the import.\r\n\r\nMaven has a settings file that governs its behavior.  It is located in in `$M2_HOME/conf`, where `$M2_HOME` is the home directory of your maven installation.  This file is called `settings.xml`.\r\n\r\nYou can use the `&lt;localRepository/&gt;` directive to change where maven stores the artifacts it pulls down.  You can find the reference documentation for this and other settings [here](https://maven.apache.org/settings.html).\r\n\r\nEssentially you just need to locate where your local artifacts are stored and remove that one.  The default is in your home directory under the folder, `.m2/repository`","title":"Why public Maven dependency exist, but cannot download, and how to fix? This failure was cached in the local repository and resolution is not re","body":"<p>The easiest solution is just to remove the artifact from your local maven repository and rerun the import.  If you haven't modified your maven settings to point to a non-default repository path, you'll find the artifact in <code>~/.m2/repository/commons-dbcp/commons-dbcp/1.4</code>.  Remove this directory and rerun the import.</p>\n<p>Maven has a settings file that governs its behavior.  It is located in in <code>$M2_HOME/conf</code>, where <code>$M2_HOME</code> is the home directory of your maven installation.  This file is called <code>settings.xml</code>.</p>\n<p>You can use the <code>&lt;localRepository/&gt;</code> directive to change where maven stores the artifacts it pulls down.  You can find the reference documentation for this and other settings <a href=\"https://maven.apache.org/settings.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Essentially you just need to locate where your local artifacts are stored and remove that one.  The default is in your home directory under the folder, <code>.m2/repository</code></p>\n"}],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":402,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673496465,"creation_date":1673494869,"question_id":75091330,"body_markdown":"File `pom.xml`\r\n\r\n```xml\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;Foo&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;name&gt;PCDRetention&lt;/name&gt;\r\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;activation&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;aopalliance&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aopalliance&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.ws.commons.axiom&lt;/groupId&gt;\r\n            &lt;artifactId&gt;axiom-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.9&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.ws.commons.axiom&lt;/groupId&gt;\r\n            &lt;artifactId&gt;axiom-dom&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.9&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.ws.commons.axiom&lt;/groupId&gt;\r\n            &lt;artifactId&gt;axiom-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.9&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n            &lt;artifactId&gt;bcprov-ext-jdk16&lt;/artifactId&gt;\r\n            &lt;version&gt;1.45&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.sonatype.sisu.inject&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cglib&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;!-- asm-all:3.3.1 cannot migrate. --&gt;\r\n        &lt;!--&lt;dependency&gt;--&gt;\r\n        &lt;!--    &lt;groupId&gt;org.aspectj&lt;/groupId&gt;--&gt;\r\n        &lt;!--    &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;--&gt;\r\n        &lt;!--    &lt;version&gt;1.6.6&lt;/version&gt;--&gt;\r\n        &lt;!--    &lt;scope&gt;runtime&lt;/scope&gt;--&gt;\r\n        &lt;!--&lt;/dependency&gt;--&gt;\r\n\r\n        &lt;!--&lt;dependency&gt;--&gt;\r\n        &lt;!--    &lt;groupId&gt;org.aspectj&lt;/groupId&gt;--&gt;\r\n        &lt;!--    &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;--&gt;\r\n        &lt;!--    &lt;version&gt;1.6.6&lt;/version&gt;--&gt;\r\n        &lt;!--    &lt;scope&gt;runtime&lt;/scope&gt;--&gt;\r\n        &lt;!--&lt;/dependency&gt;--&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-collections&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\r\n            &lt;version&gt;3.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nAlmost dependencies can download, but few dependency cannot download.\r\n\r\n```java\r\ncommons-dbcp:commons-dbcp:pom:1.4 failed to transfer from https://repo.maven.apache.org/maven2 during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of central has elapsed or updates are forced. Original error: Could not transfer artifact commons-dbcp:commons-dbcp:pom:1.4 from/to central (https://repo.maven.apache.org/maven2): transfer failed for https://repo.maven.apache.org/maven2/commons-dbcp/commons-dbcp/1.4/commons-dbcp-1.4.pom\r\n\r\nTry to run Maven import with -U flag (force update snapshots)\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI don&#39;t prefer solution install Maven local from JAR file. How to fix?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oTogM.png","title":"Why public Maven dependency exist, but cannot download, and how to fix? This failure was cached in the local repository and resolution is not re","body":"<p>File <code>pom.xml</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;Foo&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;PCDRetention&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n            &lt;artifactId&gt;activation&lt;/artifactId&gt;\n            &lt;version&gt;1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;aopalliance&lt;/groupId&gt;\n            &lt;artifactId&gt;aopalliance&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.ws.commons.axiom&lt;/groupId&gt;\n            &lt;artifactId&gt;axiom-api&lt;/artifactId&gt;\n            &lt;version&gt;1.2.9&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.ws.commons.axiom&lt;/groupId&gt;\n            &lt;artifactId&gt;axiom-dom&lt;/artifactId&gt;\n            &lt;version&gt;1.2.9&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.ws.commons.axiom&lt;/groupId&gt;\n            &lt;artifactId&gt;axiom-impl&lt;/artifactId&gt;\n            &lt;version&gt;1.2.9&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n            &lt;artifactId&gt;bcprov-ext-jdk16&lt;/artifactId&gt;\n            &lt;version&gt;1.45&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.sonatype.sisu.inject&lt;/groupId&gt;\n            &lt;artifactId&gt;cglib&lt;/artifactId&gt;\n            &lt;version&gt;2.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;\n            &lt;version&gt;1.7.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n            &lt;version&gt;1.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!-- asm-all:3.3.1 cannot migrate. --&gt;\n        &lt;!--&lt;dependency&gt;--&gt;\n        &lt;!--    &lt;groupId&gt;org.aspectj&lt;/groupId&gt;--&gt;\n        &lt;!--    &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;--&gt;\n        &lt;!--    &lt;version&gt;1.6.6&lt;/version&gt;--&gt;\n        &lt;!--    &lt;scope&gt;runtime&lt;/scope&gt;--&gt;\n        &lt;!--&lt;/dependency&gt;--&gt;\n\n        &lt;!--&lt;dependency&gt;--&gt;\n        &lt;!--    &lt;groupId&gt;org.aspectj&lt;/groupId&gt;--&gt;\n        &lt;!--    &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;--&gt;\n        &lt;!--    &lt;version&gt;1.6.6&lt;/version&gt;--&gt;\n        &lt;!--    &lt;scope&gt;runtime&lt;/scope&gt;--&gt;\n        &lt;!--&lt;/dependency&gt;--&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-collections&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\n            &lt;version&gt;3.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\n            &lt;version&gt;1.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Almost dependencies can download, but few dependency cannot download.</p>\n<pre class=\"lang-java prettyprint-override\"><code>commons-dbcp:commons-dbcp:pom:1.4 failed to transfer from https://repo.maven.apache.org/maven2 during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of central has elapsed or updates are forced. Original error: Could not transfer artifact commons-dbcp:commons-dbcp:pom:1.4 from/to central (https://repo.maven.apache.org/maven2): transfer failed for https://repo.maven.apache.org/maven2/commons-dbcp/commons-dbcp/1.4/commons-dbcp-1.4.pom\n\nTry to run Maven import with -U flag (force update snapshots)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/oTogM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oTogM.png\" alt=\"enter image description here\" /></a></p>\n<p>I don't prefer solution install Maven local from JAR file. How to fix?</p>\n"},{"tags":["java","javafx","tableview","undo-redo"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1673444005,"post_id":75080259,"comment_id":132500049,"body_markdown":"storing state should be part of your model (data), not the view - you&#39;ll  need some logic to keep track of that state related to the item, make it observable and let a custom cell be aware of it. For concrete help, please provide a [mcve]","body":"storing state should be part of your model (data), not the view - you&#39;ll  need some logic to keep track of that state related to the item, make it observable and let a custom cell be aware of it. For concrete help, please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":16559,"reputation":1856,"user_id":36223,"display_name":"DaveB"},"score":1,"creation_date":1673456044,"post_id":75080259,"comment_id":132504858,"body_markdown":"Don&#39;t conflate the View (in this case the TableView) with the data.  Set up the TableView to display the data the way that you want, and to allow the user to interact with it the way that you want, and then handle the data as it&#39;s own thing.  If you want to track changes to the data against a baseline version, then consider using the DirtyFX library.","body":"Don&#39;t conflate the View (in this case the TableView) with the data.  Set up the TableView to display the data the way that you want, and to allow the user to interact with it the way that you want, and then handle the data as it&#39;s own thing.  If you want to track changes to the data against a baseline version, then consider using the DirtyFX library."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1673466432,"post_id":75080259,"comment_id":132508039,"body_markdown":"See if the ideas from [here](https://stackoverflow.com/questions/74319355/implement-undo-redo-button-in-javafx/74322170#74322170) can help.","body":"See if the ideas from <a href=\"https://stackoverflow.com/questions/74319355/implement-undo-redo-button-in-javafx/74322170#74322170\">here</a> can help."}],"answers":[{"tags":[],"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673496464,"creation_date":1673496464,"answer_id":75091476,"question_id":75080259,"body_markdown":"I create an app that can hopefully help. It is probably full of traps and pitfalls so don&#39;t attempt to use the code as it. I got the Undo/Redo ideas from [here](https://www.geeksforgeeks.org/implement-undo-and-redo-features-of-a-text-editor/). Two `Stack` are used to implement the ideas. I got the code for the `TableView` from [here](https://www.geeksforgeeks.org/implement-undo-and-redo-features-of-a-text-editor/). Changes are committed on focus lost.\r\n\r\n\r\n**Main**\r\n```\r\n/*\r\n    Altered code from the following!\r\n    1. https://docs.oracle.com/javafx/2/ui_controls/table-view.htm\r\n    2. https://www.geeksforgeeks.org/implement-undo-and-redo-features-of-a-text-editor/\r\n*/\r\n\r\nimport com.mycompany.javafxsimpletest.MyAction.MyActionType;\r\nimport javafx.application.Application;\r\nimport javafx.beans.value.ChangeListener;\r\nimport javafx.beans.value.ObservableValue;\r\nimport javafx.collections.FXCollections;\r\nimport javafx.collections.ObservableList;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.event.EventHandler;\r\nimport javafx.geometry.Insets;\r\nimport javafx.scene.Group;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.control.TableCell;\r\nimport javafx.scene.control.TableColumn;\r\nimport javafx.scene.control.TableColumn.CellEditEvent;\r\nimport javafx.scene.control.TableView;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.scene.control.cell.PropertyValueFactory;\r\nimport javafx.scene.layout.HBox;\r\nimport javafx.scene.layout.VBox;\r\nimport javafx.scene.text.Font;\r\nimport javafx.stage.Stage;\r\nimport javafx.util.Callback;\r\n \r\npublic class App extends Application { \r\n    final private UndoRedo undoRedo = new UndoRedo();   \r\n    final private TableView&lt;Person&gt; table = new TableView();\r\n    final private HBox hb = new HBox();\r\n    \r\n    private ObservableList&lt;Person&gt; data;    \r\n \r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n \r\n    @Override\r\n    public void start(Stage stage) {\r\n        data = FXCollections.observableArrayList(\r\n                new Person(GenerateUniqueId.getUniqueId(), &quot;Jacob&quot;, &quot;Smith&quot;, &quot;jacob.smith@example.com&quot;),\r\n                new Person(GenerateUniqueId.getUniqueId(), &quot;Isabella&quot;, &quot;Johnson&quot;, &quot;isabella.johnson@example.com&quot;),\r\n                new Person(GenerateUniqueId.getUniqueId(), &quot;Ethan&quot;, &quot;Williams&quot;, &quot;ethan.williams@example.com&quot;),\r\n                new Person(GenerateUniqueId.getUniqueId(), &quot;Emma&quot;, &quot;Jones&quot;, &quot;emma.jones@example.com&quot;),\r\n                new Person(GenerateUniqueId.getUniqueId(), &quot;Michael&quot;, &quot;Brown&quot;, &quot;michael.brown@example.com&quot;));\r\n        \r\n        //Since I added these Persons via code and not manually, I added that action here!\r\n        data.forEach((newPerson) -&gt; {\r\n            undoRedo.addAction(new MyAction(MyActionType.ADD, null, newPerson.copy()));\r\n            System.out.println(&quot;Add Undo Action - \\n\\tActionType: &quot; + MyActionType.ADD + &quot;\\n\\tOld Person: &quot; + null + &quot;\\n\\tnew Person: &quot; + newPerson);\r\n        });\r\n        \r\n        Scene scene = new Scene(new Group());\r\n        stage.setTitle(&quot;Table View Sample&quot;);\r\n        stage.setWidth(450);\r\n        stage.setHeight(550);\r\n \r\n        final Label label = new Label(&quot;Address Book&quot;);\r\n        label.setFont(new Font(&quot;Arial&quot;, 20));\r\n \r\n        table.setEditable(true);\r\n        Callback&lt;TableColumn, TableCell&gt; cellFactory = (TableColumn p) -&gt; new EditingCell();\r\n \r\n        TableColumn firstNameCol = new TableColumn(&quot;First Name&quot;);\r\n        firstNameCol.setMinWidth(100);\r\n        firstNameCol.setCellValueFactory(\r\n            new PropertyValueFactory&lt;Person, String&gt;(&quot;firstName&quot;));\r\n        firstNameCol.setCellFactory(cellFactory);\r\n        firstNameCol.setOnEditCommit(\r\n            new EventHandler&lt;CellEditEvent&lt;Person, String&gt;&gt;() {\r\n                @Override\r\n                public void handle(CellEditEvent&lt;Person, String&gt; t) {\r\n                    Person oldPerson = t.getTableView().getItems().get(t.getTablePosition().getRow());\r\n                    Person newPerson = oldPerson.copy();\r\n                    newPerson.setFirstName(t.getNewValue());\r\n                                      \r\n                    undoRedo.addAction(new MyAction(MyActionType.EDIT, oldPerson, newPerson));\r\n                    System.out.println(&quot;Add Undo Action - \\n\\tActionType: &quot; + MyActionType.EDIT + &quot;\\n\\tOld Person: &quot; + oldPerson + &quot;\\n\\tnew Person: &quot; + newPerson);\r\n                }\r\n             }\r\n        );\r\n \r\n \r\n        TableColumn lastNameCol = new TableColumn(&quot;Last Name&quot;);\r\n        lastNameCol.setMinWidth(100);\r\n        lastNameCol.setCellValueFactory(\r\n            new PropertyValueFactory&lt;Person, String&gt;(&quot;lastName&quot;));\r\n        lastNameCol.setCellFactory(cellFactory);\r\n        lastNameCol.setOnEditCommit(\r\n            new EventHandler&lt;CellEditEvent&lt;Person, String&gt;&gt;() {\r\n                @Override\r\n                public void handle(CellEditEvent&lt;Person, String&gt; t) {\r\n                    Person oldPerson = t.getTableView().getItems().get(t.getTablePosition().getRow());\r\n                    Person newPerson = oldPerson.copy();\r\n                    newPerson.setLastName(t.getNewValue());\r\n                                      \r\n                    undoRedo.addAction(new MyAction(MyActionType.EDIT, oldPerson, newPerson));\r\n                    System.out.println(&quot;Add Undo Action - \\n\\tActionType: &quot; + MyActionType.EDIT + &quot;\\n\\tOld Person: &quot; + oldPerson + &quot;\\n\\tnew Person: &quot; + newPerson);\r\n                }\r\n            }\r\n        );\r\n \r\n        TableColumn emailCol = new TableColumn(&quot;Email&quot;);\r\n        emailCol.setMinWidth(200);\r\n        emailCol.setCellValueFactory(\r\n            new PropertyValueFactory&lt;Person, String&gt;(&quot;email&quot;));\r\n        emailCol.setCellFactory(cellFactory);\r\n        emailCol.setOnEditCommit(\r\n            new EventHandler&lt;CellEditEvent&lt;Person, String&gt;&gt;() {\r\n                @Override\r\n                public void handle(CellEditEvent&lt;Person, String&gt; t) {\r\n                    Person oldPerson = t.getTableView().getItems().get(t.getTablePosition().getRow());\r\n                    Person newPerson = oldPerson.copy();\r\n                    newPerson.setEmail(t.getNewValue());\r\n                                      \r\n                    undoRedo.addAction(new MyAction(MyActionType.EDIT, oldPerson, newPerson));\r\n                    System.out.println(&quot;Add Undo Action - \\n\\tActionType: &quot; + MyActionType.EDIT + &quot;\\n\\tOld Person: &quot; + oldPerson + &quot;\\n\\tnew Person: &quot; + newPerson);\r\n                }\r\n            }\r\n        );\r\n \r\n        table.setItems(data);\r\n        table.getColumns().addAll(firstNameCol, lastNameCol, emailCol);\r\n \r\n        final TextField addFirstName = new TextField();\r\n        addFirstName.setPromptText(&quot;First Name&quot;);\r\n        addFirstName.setMaxWidth(firstNameCol.getPrefWidth());\r\n        final TextField addLastName = new TextField();\r\n        addLastName.setMaxWidth(lastNameCol.getPrefWidth());\r\n        addLastName.setPromptText(&quot;Last Name&quot;);\r\n        final TextField addEmail = new TextField();\r\n        addEmail.setMaxWidth(emailCol.getPrefWidth());\r\n        addEmail.setPromptText(&quot;Email&quot;);\r\n \r\n        final Button addButton = new Button(&quot;Add&quot;);\r\n        addButton.setOnAction((ActionEvent e) -&gt; {\r\n            Person newPerson = new Person(GenerateUniqueId.getUniqueId(),addFirstName.getText(), addLastName.getText(), addEmail.getText());\r\n            data.add(newPerson);\r\n            addFirstName.clear();\r\n            addLastName.clear();\r\n            addEmail.clear();\r\n            undoRedo.addAction(new MyAction(MyActionType.ADD, null, newPerson.copy()));\r\n            System.out.println(&quot;Add Undo Action - ActionType: &quot; + MyActionType.ADD + &quot;\\tPerson: &quot; + newPerson);\r\n        });\r\n         \r\n        Button btnUndo = new Button(&quot;&lt;&quot;);\r\n        btnUndo.setOnAction((t) -&gt; {\r\n            if(!undoRedo.isUndoEmpty())\r\n            {\r\n                MyAction myUndoAction = undoRedo.getUndo();\r\n                Person oldPerson = (Person)myUndoAction.getOldAction();\r\n                Person newPerson = (Person)myUndoAction.getNewAction();\r\n                System.out.println(&quot;Add Undo Action - \\n\\tActionType: &quot; + myUndoAction.getActionType() + &quot;\\n\\tOld Person: &quot; + oldPerson + &quot;\\n\\tnew Person: &quot; + newPerson);\r\n                if(myUndoAction.getActionType() == MyActionType.ADD)\r\n                {\r\n                    data.remove(data.indexOf(data.stream().filter((z) -&gt; z.getId() == newPerson.getId()).findFirst().get()));\r\n                }\r\n                else if(myUndoAction.getActionType() == MyActionType.EDIT)\r\n                {\r\n                    data.set(data.indexOf(data.stream().filter((z) -&gt; z.getId() == oldPerson.getId()).findFirst().get()), oldPerson);\r\n                }           \r\n            }\r\n        });\r\n        \r\n        Button btnRedo = new Button(&quot;&gt;&quot;);\r\n        btnRedo.setOnAction((t) -&gt; {\r\n            if(!undoRedo.isRedoEmpty())\r\n            {\r\n                MyAction myRedoAction = undoRedo.getRedo();\r\n                Person oldPerson = (Person)myRedoAction.getOldAction();\r\n                Person newPerson = (Person)myRedoAction.getNewAction();\r\n                System.out.println(&quot;Add Undo Action - \\n\\tActionType: &quot; +  myRedoAction.getActionType() + &quot;\\n\\tOld Person: &quot; + oldPerson + &quot;\\n\\tnew Person: &quot; + newPerson);\r\n                \r\n                if(myRedoAction.getActionType() == MyActionType.ADD)\r\n                {\r\n                    data.add(newPerson.getId(), newPerson);\r\n                }\r\n                else if(myRedoAction.getActionType() == MyActionType.EDIT)\r\n                {\r\n                    data.set(data.indexOf(data.stream().filter((z) -&gt; z.getId() == newPerson.getId()).findFirst().get()), newPerson);\r\n                }   \r\n            }\r\n        });\r\n                \r\n        hb.getChildren().addAll(addFirstName, addLastName, addEmail, addButton, btnUndo, btnRedo);\r\n        hb.setSpacing(3);\r\n \r\n        final VBox vbox = new VBox();\r\n        vbox.setSpacing(5);\r\n        vbox.setPadding(new Insets(10, 0, 0, 10));\r\n        vbox.getChildren().addAll(label, table, hb);\r\n \r\n        ((Group) scene.getRoot()).getChildren().addAll(vbox);\r\n \r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n  \r\n    class EditingCell extends TableCell&lt;Person, String&gt; {\r\n \r\n        private TextField textField;\r\n \r\n        public EditingCell() {\r\n        }\r\n \r\n        @Override\r\n        public void startEdit() {\r\n            if (!isEmpty()) {\r\n                super.startEdit();\r\n                createTextField();\r\n                setText(null);\r\n                setGraphic(textField);\r\n                textField.selectAll();\r\n            }\r\n        }\r\n \r\n        @Override\r\n        public void cancelEdit() {\r\n            super.cancelEdit();\r\n \r\n            setText((String) getItem());\r\n            setGraphic(null);\r\n        }\r\n \r\n        @Override\r\n        public void updateItem(String item, boolean empty) {\r\n            super.updateItem(item, empty);\r\n \r\n            if (empty) {\r\n                setText(null);\r\n                setGraphic(null);\r\n            } else {\r\n                if (isEditing()) {\r\n                    if (textField != null) {\r\n                        textField.setText(getString());\r\n                    }\r\n                    setText(null);\r\n                    setGraphic(textField);\r\n                } else {\r\n                    setText(getString());\r\n                    setGraphic(null);\r\n                }\r\n            }\r\n        }\r\n \r\n        private void createTextField() {\r\n            textField = new TextField(getString());\r\n            textField.setMinWidth(this.getWidth() - this.getGraphicTextGap()* 2);\r\n            textField.focusedProperty().addListener(new ChangeListener&lt;Boolean&gt;(){\r\n                @Override\r\n                public void changed(ObservableValue&lt;? extends Boolean&gt; arg0, \r\n                    Boolean arg1, Boolean arg2) {\r\n                        if (!arg2) {\r\n                            commitEdit(textField.getText());\r\n                        }\r\n                }\r\n            });\r\n        }\r\n \r\n        private String getString() {\r\n            return getItem() == null ? &quot;&quot; : getItem().toString();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**Person**\r\n```\r\nimport javafx.beans.property.IntegerProperty;\r\nimport javafx.beans.property.SimpleIntegerProperty;\r\nimport javafx.beans.property.SimpleStringProperty;\r\nimport javafx.beans.property.StringProperty;\r\n\r\npublic class Person {        \r\n    private final IntegerProperty id;\r\n    private final StringProperty firstName;\r\n    private final StringProperty lastName;\r\n    private final StringProperty email;\r\n\r\n    public Person(int id, String fName, String lName, String email) {\r\n        this.id = new SimpleIntegerProperty(id);\r\n        this.firstName = new SimpleStringProperty(fName);\r\n        this.lastName = new SimpleStringProperty(lName);\r\n        this.email = new SimpleStringProperty(email);\r\n    }\r\n\r\n    public String getFirstName() {\r\n        return firstName.get();\r\n    }\r\n\r\n    public void setFirstName(String fName) {\r\n        firstName.set(fName);\r\n    }\r\n\r\n    public String getLastName() {\r\n        return lastName.get();\r\n    }\r\n\r\n    public void setLastName(String fName) {\r\n        lastName.set(fName);\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email.get();\r\n    }\r\n\r\n    public void setEmail(String fName) {\r\n        email.set(fName);\r\n    }\r\n\r\n    public int getId()\r\n    {\r\n        return id.get();\r\n    }\r\n\r\n    @Override public String toString()\r\n    {\r\n        StringBuilder stringBuilder = new StringBuilder();\r\n        stringBuilder.append(&quot;id: &quot;).append(this.id.get())\r\n                .append(&quot;\\tName:&quot;).append(this.firstName.get()).append(&quot; &quot;).append(this.lastName.get())\r\n                .append(&quot;\\temail: &quot;).append(this.email.get());\r\n\r\n        return stringBuilder.toString();\r\n    }\r\n\r\n    public Person copy()\r\n    {\r\n        Person copyPerson = new Person(this.id.get(), this.firstName.get(), this.lastName.get(), this.email.get());\r\n\r\n        return copyPerson;\r\n    }       \r\n}\r\n```\r\n**MyAction**\r\n```\r\n/**\r\n *\r\n * @author blj0011(sedj601)\r\n * @param &lt;T&gt;\r\n */\r\npublic class MyAction&lt;T&gt;\r\n{\r\n    public enum MyActionType {\r\n        ADD,\r\n        DELETE,\r\n        EDIT\r\n    }\r\n    private final T oldAction;\r\n    private final T newAction;\r\n    private final MyActionType myActionType;\r\n    \r\n    public MyAction(MyActionType actionType, T oldAction, T newAction) {   \r\n        this.oldAction = oldAction;\r\n        this.newAction = newAction;\r\n        this.myActionType = actionType;\r\n    }\r\n    \r\n    public T getOldAction()\r\n    {\r\n        return this.oldAction;\r\n    }\r\n    \r\n    public T getNewAction()\r\n    {\r\n        return this.newAction;\r\n    }\r\n    \r\n    public MyActionType getActionType()\r\n    {\r\n        return this.myActionType;\r\n    }\r\n}\r\n```\r\n\r\n**UndoRedo**\r\n```\r\nimport java.util.Stack;\r\n\r\n/**\r\n *\r\n * author 2. https://www.geeksforgeeks.org/implement-undo-and-redo-features-of-a-text-editor/\r\n * \r\n */\r\n\r\npublic class UndoRedo {\r\n    private final Stack&lt;MyAction&gt; undo = new Stack();\r\n    private final Stack&lt;MyAction&gt; redo = new Stack();\r\n       \r\n    public void addAction(MyAction myAction)\r\n    {\r\n        undo.push(myAction);\r\n    }\r\n    \r\n    // Function to perform\r\n    // &quot;UNDO&quot; operation\r\n    public MyAction getUndo()\r\n    {\r\n        MyAction myAction = undo.peek();\r\n        undo.pop();        \r\n        redo .push(myAction);\r\n        \r\n        return myAction;\r\n    }\r\n  \r\n    // Function to perform\r\n    // &quot;REDO&quot; operation\r\n    public MyAction getRedo()\r\n    {\r\n        MyAction myAction = redo.peek();\r\n        redo.pop();\r\n        undo.push(myAction);\r\n        \r\n        return myAction;\r\n    }\r\n    \r\n    //Check if stack is empty before attempting to do use getUndo()!\r\n    public boolean isUndoEmpty()\r\n    {\r\n        return undo.empty();\r\n    }\r\n    \r\n     //Check if stack is empty before attempting to do use getRedo()!\r\n    public boolean isRedoEmpty()\r\n    {\r\n        return redo.empty();\r\n    }\r\n}\r\n```\r\n**GenerateUniqueId\r\n```\r\n/**\r\n *\r\n * @author blj0011(sedj601)\r\n */\r\npublic class GenerateUniqueId {\r\n    static AtomicInteger uniqueIdGenerator = new AtomicInteger();\r\n    \r\n    public static int getUniqueId()\r\n    {\r\n        return uniqueIdGenerator.getAndIncrement();\r\n    }\r\n}\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nj0vZ.gif","title":"JavaFX TableView Undo functionality","body":"<p>I create an app that can hopefully help. It is probably full of traps and pitfalls so don't attempt to use the code as it. I got the Undo/Redo ideas from <a href=\"https://www.geeksforgeeks.org/implement-undo-and-redo-features-of-a-text-editor/\" rel=\"nofollow noreferrer\">here</a>. Two <code>Stack</code> are used to implement the ideas. I got the code for the <code>TableView</code> from <a href=\"https://www.geeksforgeeks.org/implement-undo-and-redo-features-of-a-text-editor/\" rel=\"nofollow noreferrer\">here</a>. Changes are committed on focus lost.</p>\n<p><strong>Main</strong></p>\n<pre><code>/*\n    Altered code from the following!\n    1. https://docs.oracle.com/javafx/2/ui_controls/table-view.htm\n    2. https://www.geeksforgeeks.org/implement-undo-and-redo-features-of-a-text-editor/\n*/\n\nimport com.mycompany.javafxsimpletest.MyAction.MyActionType;\nimport javafx.application.Application;\nimport javafx.beans.value.ChangeListener;\nimport javafx.beans.value.ObservableValue;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.geometry.Insets;\nimport javafx.scene.Group;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.TableCell;\nimport javafx.scene.control.TableColumn;\nimport javafx.scene.control.TableColumn.CellEditEvent;\nimport javafx.scene.control.TableView;\nimport javafx.scene.control.TextField;\nimport javafx.scene.control.cell.PropertyValueFactory;\nimport javafx.scene.layout.HBox;\nimport javafx.scene.layout.VBox;\nimport javafx.scene.text.Font;\nimport javafx.stage.Stage;\nimport javafx.util.Callback;\n \npublic class App extends Application { \n    final private UndoRedo undoRedo = new UndoRedo();   \n    final private TableView&lt;Person&gt; table = new TableView();\n    final private HBox hb = new HBox();\n    \n    private ObservableList&lt;Person&gt; data;    \n \n    public static void main(String[] args) {\n        launch(args);\n    }\n \n    @Override\n    public void start(Stage stage) {\n        data = FXCollections.observableArrayList(\n                new Person(GenerateUniqueId.getUniqueId(), &quot;Jacob&quot;, &quot;Smith&quot;, &quot;jacob.smith@example.com&quot;),\n                new Person(GenerateUniqueId.getUniqueId(), &quot;Isabella&quot;, &quot;Johnson&quot;, &quot;isabella.johnson@example.com&quot;),\n                new Person(GenerateUniqueId.getUniqueId(), &quot;Ethan&quot;, &quot;Williams&quot;, &quot;ethan.williams@example.com&quot;),\n                new Person(GenerateUniqueId.getUniqueId(), &quot;Emma&quot;, &quot;Jones&quot;, &quot;emma.jones@example.com&quot;),\n                new Person(GenerateUniqueId.getUniqueId(), &quot;Michael&quot;, &quot;Brown&quot;, &quot;michael.brown@example.com&quot;));\n        \n        //Since I added these Persons via code and not manually, I added that action here!\n        data.forEach((newPerson) -&gt; {\n            undoRedo.addAction(new MyAction(MyActionType.ADD, null, newPerson.copy()));\n            System.out.println(&quot;Add Undo Action - \\n\\tActionType: &quot; + MyActionType.ADD + &quot;\\n\\tOld Person: &quot; + null + &quot;\\n\\tnew Person: &quot; + newPerson);\n        });\n        \n        Scene scene = new Scene(new Group());\n        stage.setTitle(&quot;Table View Sample&quot;);\n        stage.setWidth(450);\n        stage.setHeight(550);\n \n        final Label label = new Label(&quot;Address Book&quot;);\n        label.setFont(new Font(&quot;Arial&quot;, 20));\n \n        table.setEditable(true);\n        Callback&lt;TableColumn, TableCell&gt; cellFactory = (TableColumn p) -&gt; new EditingCell();\n \n        TableColumn firstNameCol = new TableColumn(&quot;First Name&quot;);\n        firstNameCol.setMinWidth(100);\n        firstNameCol.setCellValueFactory(\n            new PropertyValueFactory&lt;Person, String&gt;(&quot;firstName&quot;));\n        firstNameCol.setCellFactory(cellFactory);\n        firstNameCol.setOnEditCommit(\n            new EventHandler&lt;CellEditEvent&lt;Person, String&gt;&gt;() {\n                @Override\n                public void handle(CellEditEvent&lt;Person, String&gt; t) {\n                    Person oldPerson = t.getTableView().getItems().get(t.getTablePosition().getRow());\n                    Person newPerson = oldPerson.copy();\n                    newPerson.setFirstName(t.getNewValue());\n                                      \n                    undoRedo.addAction(new MyAction(MyActionType.EDIT, oldPerson, newPerson));\n                    System.out.println(&quot;Add Undo Action - \\n\\tActionType: &quot; + MyActionType.EDIT + &quot;\\n\\tOld Person: &quot; + oldPerson + &quot;\\n\\tnew Person: &quot; + newPerson);\n                }\n             }\n        );\n \n \n        TableColumn lastNameCol = new TableColumn(&quot;Last Name&quot;);\n        lastNameCol.setMinWidth(100);\n        lastNameCol.setCellValueFactory(\n            new PropertyValueFactory&lt;Person, String&gt;(&quot;lastName&quot;));\n        lastNameCol.setCellFactory(cellFactory);\n        lastNameCol.setOnEditCommit(\n            new EventHandler&lt;CellEditEvent&lt;Person, String&gt;&gt;() {\n                @Override\n                public void handle(CellEditEvent&lt;Person, String&gt; t) {\n                    Person oldPerson = t.getTableView().getItems().get(t.getTablePosition().getRow());\n                    Person newPerson = oldPerson.copy();\n                    newPerson.setLastName(t.getNewValue());\n                                      \n                    undoRedo.addAction(new MyAction(MyActionType.EDIT, oldPerson, newPerson));\n                    System.out.println(&quot;Add Undo Action - \\n\\tActionType: &quot; + MyActionType.EDIT + &quot;\\n\\tOld Person: &quot; + oldPerson + &quot;\\n\\tnew Person: &quot; + newPerson);\n                }\n            }\n        );\n \n        TableColumn emailCol = new TableColumn(&quot;Email&quot;);\n        emailCol.setMinWidth(200);\n        emailCol.setCellValueFactory(\n            new PropertyValueFactory&lt;Person, String&gt;(&quot;email&quot;));\n        emailCol.setCellFactory(cellFactory);\n        emailCol.setOnEditCommit(\n            new EventHandler&lt;CellEditEvent&lt;Person, String&gt;&gt;() {\n                @Override\n                public void handle(CellEditEvent&lt;Person, String&gt; t) {\n                    Person oldPerson = t.getTableView().getItems().get(t.getTablePosition().getRow());\n                    Person newPerson = oldPerson.copy();\n                    newPerson.setEmail(t.getNewValue());\n                                      \n                    undoRedo.addAction(new MyAction(MyActionType.EDIT, oldPerson, newPerson));\n                    System.out.println(&quot;Add Undo Action - \\n\\tActionType: &quot; + MyActionType.EDIT + &quot;\\n\\tOld Person: &quot; + oldPerson + &quot;\\n\\tnew Person: &quot; + newPerson);\n                }\n            }\n        );\n \n        table.setItems(data);\n        table.getColumns().addAll(firstNameCol, lastNameCol, emailCol);\n \n        final TextField addFirstName = new TextField();\n        addFirstName.setPromptText(&quot;First Name&quot;);\n        addFirstName.setMaxWidth(firstNameCol.getPrefWidth());\n        final TextField addLastName = new TextField();\n        addLastName.setMaxWidth(lastNameCol.getPrefWidth());\n        addLastName.setPromptText(&quot;Last Name&quot;);\n        final TextField addEmail = new TextField();\n        addEmail.setMaxWidth(emailCol.getPrefWidth());\n        addEmail.setPromptText(&quot;Email&quot;);\n \n        final Button addButton = new Button(&quot;Add&quot;);\n        addButton.setOnAction((ActionEvent e) -&gt; {\n            Person newPerson = new Person(GenerateUniqueId.getUniqueId(),addFirstName.getText(), addLastName.getText(), addEmail.getText());\n            data.add(newPerson);\n            addFirstName.clear();\n            addLastName.clear();\n            addEmail.clear();\n            undoRedo.addAction(new MyAction(MyActionType.ADD, null, newPerson.copy()));\n            System.out.println(&quot;Add Undo Action - ActionType: &quot; + MyActionType.ADD + &quot;\\tPerson: &quot; + newPerson);\n        });\n         \n        Button btnUndo = new Button(&quot;&lt;&quot;);\n        btnUndo.setOnAction((t) -&gt; {\n            if(!undoRedo.isUndoEmpty())\n            {\n                MyAction myUndoAction = undoRedo.getUndo();\n                Person oldPerson = (Person)myUndoAction.getOldAction();\n                Person newPerson = (Person)myUndoAction.getNewAction();\n                System.out.println(&quot;Add Undo Action - \\n\\tActionType: &quot; + myUndoAction.getActionType() + &quot;\\n\\tOld Person: &quot; + oldPerson + &quot;\\n\\tnew Person: &quot; + newPerson);\n                if(myUndoAction.getActionType() == MyActionType.ADD)\n                {\n                    data.remove(data.indexOf(data.stream().filter((z) -&gt; z.getId() == newPerson.getId()).findFirst().get()));\n                }\n                else if(myUndoAction.getActionType() == MyActionType.EDIT)\n                {\n                    data.set(data.indexOf(data.stream().filter((z) -&gt; z.getId() == oldPerson.getId()).findFirst().get()), oldPerson);\n                }           \n            }\n        });\n        \n        Button btnRedo = new Button(&quot;&gt;&quot;);\n        btnRedo.setOnAction((t) -&gt; {\n            if(!undoRedo.isRedoEmpty())\n            {\n                MyAction myRedoAction = undoRedo.getRedo();\n                Person oldPerson = (Person)myRedoAction.getOldAction();\n                Person newPerson = (Person)myRedoAction.getNewAction();\n                System.out.println(&quot;Add Undo Action - \\n\\tActionType: &quot; +  myRedoAction.getActionType() + &quot;\\n\\tOld Person: &quot; + oldPerson + &quot;\\n\\tnew Person: &quot; + newPerson);\n                \n                if(myRedoAction.getActionType() == MyActionType.ADD)\n                {\n                    data.add(newPerson.getId(), newPerson);\n                }\n                else if(myRedoAction.getActionType() == MyActionType.EDIT)\n                {\n                    data.set(data.indexOf(data.stream().filter((z) -&gt; z.getId() == newPerson.getId()).findFirst().get()), newPerson);\n                }   \n            }\n        });\n                \n        hb.getChildren().addAll(addFirstName, addLastName, addEmail, addButton, btnUndo, btnRedo);\n        hb.setSpacing(3);\n \n        final VBox vbox = new VBox();\n        vbox.setSpacing(5);\n        vbox.setPadding(new Insets(10, 0, 0, 10));\n        vbox.getChildren().addAll(label, table, hb);\n \n        ((Group) scene.getRoot()).getChildren().addAll(vbox);\n \n        stage.setScene(scene);\n        stage.show();\n    }\n  \n    class EditingCell extends TableCell&lt;Person, String&gt; {\n \n        private TextField textField;\n \n        public EditingCell() {\n        }\n \n        @Override\n        public void startEdit() {\n            if (!isEmpty()) {\n                super.startEdit();\n                createTextField();\n                setText(null);\n                setGraphic(textField);\n                textField.selectAll();\n            }\n        }\n \n        @Override\n        public void cancelEdit() {\n            super.cancelEdit();\n \n            setText((String) getItem());\n            setGraphic(null);\n        }\n \n        @Override\n        public void updateItem(String item, boolean empty) {\n            super.updateItem(item, empty);\n \n            if (empty) {\n                setText(null);\n                setGraphic(null);\n            } else {\n                if (isEditing()) {\n                    if (textField != null) {\n                        textField.setText(getString());\n                    }\n                    setText(null);\n                    setGraphic(textField);\n                } else {\n                    setText(getString());\n                    setGraphic(null);\n                }\n            }\n        }\n \n        private void createTextField() {\n            textField = new TextField(getString());\n            textField.setMinWidth(this.getWidth() - this.getGraphicTextGap()* 2);\n            textField.focusedProperty().addListener(new ChangeListener&lt;Boolean&gt;(){\n                @Override\n                public void changed(ObservableValue&lt;? extends Boolean&gt; arg0, \n                    Boolean arg1, Boolean arg2) {\n                        if (!arg2) {\n                            commitEdit(textField.getText());\n                        }\n                }\n            });\n        }\n \n        private String getString() {\n            return getItem() == null ? &quot;&quot; : getItem().toString();\n        }\n    }\n}\n</code></pre>\n<p><strong>Person</strong></p>\n<pre><code>import javafx.beans.property.IntegerProperty;\nimport javafx.beans.property.SimpleIntegerProperty;\nimport javafx.beans.property.SimpleStringProperty;\nimport javafx.beans.property.StringProperty;\n\npublic class Person {        \n    private final IntegerProperty id;\n    private final StringProperty firstName;\n    private final StringProperty lastName;\n    private final StringProperty email;\n\n    public Person(int id, String fName, String lName, String email) {\n        this.id = new SimpleIntegerProperty(id);\n        this.firstName = new SimpleStringProperty(fName);\n        this.lastName = new SimpleStringProperty(lName);\n        this.email = new SimpleStringProperty(email);\n    }\n\n    public String getFirstName() {\n        return firstName.get();\n    }\n\n    public void setFirstName(String fName) {\n        firstName.set(fName);\n    }\n\n    public String getLastName() {\n        return lastName.get();\n    }\n\n    public void setLastName(String fName) {\n        lastName.set(fName);\n    }\n\n    public String getEmail() {\n        return email.get();\n    }\n\n    public void setEmail(String fName) {\n        email.set(fName);\n    }\n\n    public int getId()\n    {\n        return id.get();\n    }\n\n    @Override public String toString()\n    {\n        StringBuilder stringBuilder = new StringBuilder();\n        stringBuilder.append(&quot;id: &quot;).append(this.id.get())\n                .append(&quot;\\tName:&quot;).append(this.firstName.get()).append(&quot; &quot;).append(this.lastName.get())\n                .append(&quot;\\temail: &quot;).append(this.email.get());\n\n        return stringBuilder.toString();\n    }\n\n    public Person copy()\n    {\n        Person copyPerson = new Person(this.id.get(), this.firstName.get(), this.lastName.get(), this.email.get());\n\n        return copyPerson;\n    }       \n}\n</code></pre>\n<p><strong>MyAction</strong></p>\n<pre><code>/**\n *\n * @author blj0011(sedj601)\n * @param &lt;T&gt;\n */\npublic class MyAction&lt;T&gt;\n{\n    public enum MyActionType {\n        ADD,\n        DELETE,\n        EDIT\n    }\n    private final T oldAction;\n    private final T newAction;\n    private final MyActionType myActionType;\n    \n    public MyAction(MyActionType actionType, T oldAction, T newAction) {   \n        this.oldAction = oldAction;\n        this.newAction = newAction;\n        this.myActionType = actionType;\n    }\n    \n    public T getOldAction()\n    {\n        return this.oldAction;\n    }\n    \n    public T getNewAction()\n    {\n        return this.newAction;\n    }\n    \n    public MyActionType getActionType()\n    {\n        return this.myActionType;\n    }\n}\n</code></pre>\n<p><strong>UndoRedo</strong></p>\n<pre><code>import java.util.Stack;\n\n/**\n *\n * author 2. https://www.geeksforgeeks.org/implement-undo-and-redo-features-of-a-text-editor/\n * \n */\n\npublic class UndoRedo {\n    private final Stack&lt;MyAction&gt; undo = new Stack();\n    private final Stack&lt;MyAction&gt; redo = new Stack();\n       \n    public void addAction(MyAction myAction)\n    {\n        undo.push(myAction);\n    }\n    \n    // Function to perform\n    // &quot;UNDO&quot; operation\n    public MyAction getUndo()\n    {\n        MyAction myAction = undo.peek();\n        undo.pop();        \n        redo .push(myAction);\n        \n        return myAction;\n    }\n  \n    // Function to perform\n    // &quot;REDO&quot; operation\n    public MyAction getRedo()\n    {\n        MyAction myAction = redo.peek();\n        redo.pop();\n        undo.push(myAction);\n        \n        return myAction;\n    }\n    \n    //Check if stack is empty before attempting to do use getUndo()!\n    public boolean isUndoEmpty()\n    {\n        return undo.empty();\n    }\n    \n     //Check if stack is empty before attempting to do use getRedo()!\n    public boolean isRedoEmpty()\n    {\n        return redo.empty();\n    }\n}\n</code></pre>\n<p>**GenerateUniqueId</p>\n<pre><code>/**\n *\n * @author blj0011(sedj601)\n */\npublic class GenerateUniqueId {\n    static AtomicInteger uniqueIdGenerator = new AtomicInteger();\n    \n    public static int getUniqueId()\n    {\n        return uniqueIdGenerator.getAndIncrement();\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/nj0vZ.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nj0vZ.gif\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":20939525,"reputation":67,"user_id":15383929,"display_name":"JRobi17X"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673496464,"creation_date":1673426317,"question_id":75080259,"body_markdown":"I have a table, and I create the columns in the following way:\r\n\r\n    @FXML\r\n    TableView&lt;Row&gt; tableView = new TableView&lt;&gt;();\r\n\r\n    private void createColumns(int numberOfColumns, Row firstRow, boolean errorsDisplayed) {\r\n            for (int i = 0; i &lt; numberOfColumns; i++) {\r\n                int colNum = i;\r\n                TableColumn&lt;Row, String&gt; column = new TableColumn&lt;&gt;(firstRow.getCell(i).toString());\r\n                column.setCellValueFactory(param -&gt; {\r\n                    int index = param.getTableView().getColumns().indexOf(param.getTableColumn());\r\n                    return new SimpleStringProperty(param.getValue().getLastCellNum() &gt; index\r\n                            ? param.getValue().getCell(index).toString() : null);\r\n                });\r\n                if (!errorsDisplayed || (colNum != numberOfColumns - 1 &amp;&amp; colNum != numberOfColumns - 2)) {\r\n                    column.setCellFactory(TextFieldTableCell.forTableColumn());\r\n                    column.setOnEditCommit(param -&gt; param.getTableView().getItems().get(param.getTablePosition()\r\n                            .getRow()).getCell(colNum).setCellValue(param.getNewValue()));\r\n                }\r\n                tableView.getColumns().add(column);\r\n            }\r\n        }\r\n\r\nIs there a way I could store different states of the table in order to restore them when the undo button being pressed? ","title":"JavaFX TableView Undo functionality","body":"<p>I have a table, and I create the columns in the following way:</p>\n<pre><code>@FXML\nTableView&lt;Row&gt; tableView = new TableView&lt;&gt;();\n\nprivate void createColumns(int numberOfColumns, Row firstRow, boolean errorsDisplayed) {\n        for (int i = 0; i &lt; numberOfColumns; i++) {\n            int colNum = i;\n            TableColumn&lt;Row, String&gt; column = new TableColumn&lt;&gt;(firstRow.getCell(i).toString());\n            column.setCellValueFactory(param -&gt; {\n                int index = param.getTableView().getColumns().indexOf(param.getTableColumn());\n                return new SimpleStringProperty(param.getValue().getLastCellNum() &gt; index\n                        ? param.getValue().getCell(index).toString() : null);\n            });\n            if (!errorsDisplayed || (colNum != numberOfColumns - 1 &amp;&amp; colNum != numberOfColumns - 2)) {\n                column.setCellFactory(TextFieldTableCell.forTableColumn());\n                column.setOnEditCommit(param -&gt; param.getTableView().getItems().get(param.getTablePosition()\n                        .getRow()).getCell(colNum).setCellValue(param.getNewValue()));\n            }\n            tableView.getColumns().add(column);\n        }\n    }\n</code></pre>\n<p>Is there a way I could store different states of the table in order to restore them when the undo button being pressed?</p>\n"},{"tags":["java","azure","spring-boot","azure-web-app-service"],"answers":[{"comments":[{"owner":{"account_id":5147279,"reputation":3527,"user_id":4122891,"accept_rate":41,"display_name":"Suren Konathala"},"score":0,"creation_date":1620315395,"post_id":67409768,"comment_id":119170450,"body_markdown":"Not sure where to find App Service Editor? But I verified.. the jar file is in GitHub project `lead-processing/target/lead-processing-0.0.1-SNAPSHOT.jar` which is my Startup Command `java -jar /target/lead-processing-0.0.1-SNAPSHOT.jar` . And in Deployment Center the Github repo is set to the same project where the jar file is in.","body":"Not sure where to find App Service Editor? But I verified.. the jar file is in GitHub project <code>lead-processing&#47;target&#47;lead-processing-0.0.1-SNAPSHOT.jar</code> which is my Startup Command <code>java -jar &#47;target&#47;lead-processing-0.0.1-SNAPSHOT.jar</code> . And in Deployment Center the Github repo is set to the same project where the jar file is in."},{"owner":{"account_id":1109511,"reputation":18905,"user_id":1100248,"accept_rate":81,"display_name":"Vova Bilyachat"},"score":0,"creation_date":1620348571,"post_id":67409768,"comment_id":119181426,"body_markdown":"@SurenKonathala https://social.technet.microsoft.com/wiki/contents/articles/36467.understanding-the-azure-app-service-editor.aspx","body":"@SurenKonathala <a href=\"https://social.technet.microsoft.com/wiki/contents/articles/36467.understanding-the-azure-app-service-editor.aspx\" rel=\"nofollow noreferrer\">social.technet.microsoft.com/wiki/contents/articles/&hellip;</a>"}],"tags":[],"owner":{"account_id":1109511,"reputation":18905,"user_id":1100248,"accept_rate":81,"display_name":"Vova Bilyachat"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620255416,"creation_date":1620255416,"answer_id":67409768,"question_id":67407466,"body_markdown":"The problem that app service cant find your jar file. \r\n\r\n&gt; Unable to access jarfile /target/lead-processing-0.0.1-SNAPSHOT.jar\r\n\r\nI think when you deployed from target then you jar is possible in root. Go to App Service Editor inside of your app and check location for your jar","title":"Application error on Azure App Service trying to run Java/Springboot jar","body":"<p>The problem that app service cant find your jar file.</p>\n<blockquote>\n<p>Unable to access jarfile /target/lead-processing-0.0.1-SNAPSHOT.jar</p>\n</blockquote>\n<p>I think when you deployed from target then you jar is possible in root. Go to App Service Editor inside of your app and check location for your jar</p>\n"},{"tags":[],"owner":{"account_id":25832247,"reputation":1,"user_id":19569211,"display_name":"Ng Yu Shun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673496163,"creation_date":1673496163,"answer_id":75091450,"question_id":67407466,"body_markdown":"Removing the &quot;/&quot; right before the target works for me","title":"Application error on Azure App Service trying to run Java/Springboot jar","body":"<p>Removing the &quot;/&quot; right before the target works for me</p>\n"}],"owner":{"account_id":5147279,"reputation":3527,"user_id":4122891,"accept_rate":41,"display_name":"Suren Konathala"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673496163,"creation_date":1620242107,"question_id":67407466,"body_markdown":"Trying to deploy/run a springbok application (jar) on Azure App Service, but seeing an &quot;Application Error&quot;.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Application**\r\n\r\nWe built the application using Springboot and wanted to deploy the prebuilt jar file (from /target&quot; folder.\r\n\r\n**Azure Setup**\r\n\r\n 1. Created a new App Service using Java 11\r\n 2. Under &quot;Deployment Center&quot; linked with the Github repository that holds the code and jar file under `/target`\r\n    [![enter image description here][2]][2]\r\n 3. Under App service &gt; Configuration &gt; General Settings &gt; Startup Command \r\n    `java -jar /target/lead-processing-0.0.1-SNAPSHOT.jar`\r\n     \r\n    [![enter image description here][3]][3]\r\n\r\n**Logs**\r\n```\r\n2021-05-05T22:25:23.730536337Z STARTUP_FILE=\r\n2021-05-05T22:25:23.737427449Z STARTUP_COMMAND=java -jar /target/lead-processing-0.0.1-SNAPSHOT.jar\r\n2021-05-05T22:25:23.738113651Z No STARTUP_FILE available.\r\n2021-05-05T22:25:23.738719652Z Running STARTUP_COMMAND: java -jar /target/lead-processing-0.0.1-SNAPSHOT.jar\r\n2021-05-05T22:25:24.003600232Z Finished running startup command &#39;java -jar /target/lead-processing-0.0.1-SNAPSHOT.jar&#39;. Exiting with exit code 1.\r\n2021-05-05T22:25:24.004755134Z Error: Unable to access jarfile /target/lead-processing-0.0.1-SNAPSHOT.jar\r\n```\r\n\r\n\r\nAre we missing anything?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AhR26m.png\r\n  [2]: https://i.stack.imgur.com/SpVh3m.png\r\n  [3]: https://i.stack.imgur.com/wHnbvm.png","title":"Application error on Azure App Service trying to run Java/Springboot jar","body":"<p>Trying to deploy/run a springbok application (jar) on Azure App Service, but seeing an &quot;Application Error&quot;.</p>\n<p><a href=\"https://i.stack.imgur.com/AhR26m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AhR26m.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Application</strong></p>\n<p>We built the application using Springboot and wanted to deploy the prebuilt jar file (from /target&quot; folder.</p>\n<p><strong>Azure Setup</strong></p>\n<ol>\n<li><p>Created a new App Service using Java 11</p>\n</li>\n<li><p>Under &quot;Deployment Center&quot; linked with the Github repository that holds the code and jar file under <code>/target</code>\n<a href=\"https://i.stack.imgur.com/SpVh3m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SpVh3m.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Under App service &gt; Configuration &gt; General Settings &gt; Startup Command\n<code>java -jar /target/lead-processing-0.0.1-SNAPSHOT.jar</code></p>\n<p><a href=\"https://i.stack.imgur.com/wHnbvm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wHnbvm.png\" alt=\"enter image description here\" /></a></p>\n</li>\n</ol>\n<p><strong>Logs</strong></p>\n<pre><code>2021-05-05T22:25:23.730536337Z STARTUP_FILE=\n2021-05-05T22:25:23.737427449Z STARTUP_COMMAND=java -jar /target/lead-processing-0.0.1-SNAPSHOT.jar\n2021-05-05T22:25:23.738113651Z No STARTUP_FILE available.\n2021-05-05T22:25:23.738719652Z Running STARTUP_COMMAND: java -jar /target/lead-processing-0.0.1-SNAPSHOT.jar\n2021-05-05T22:25:24.003600232Z Finished running startup command 'java -jar /target/lead-processing-0.0.1-SNAPSHOT.jar'. Exiting with exit code 1.\n2021-05-05T22:25:24.004755134Z Error: Unable to access jarfile /target/lead-processing-0.0.1-SNAPSHOT.jar\n</code></pre>\n<p>Are we missing anything?</p>\n"},{"tags":["java","spring-boot","unit-testing","mocking","mockito"],"comments":[{"owner":{"account_id":14156071,"reputation":213,"user_id":10226771,"display_name":"flyordie"},"score":0,"creation_date":1673392453,"post_id":75075937,"comment_id":132487777,"body_markdown":"try to mock the class which contains this method messageConsumers() and mock this methos like when(JmsReceiveConfig .messageConsumers).the return ... in the before each method","body":"try to mock the class which contains this method messageConsumers() and mock this methos like when(JmsReceiveConfig .messageConsumers).the return ... in the before each method"},{"owner":{"account_id":19615409,"reputation":3,"user_id":14357015,"display_name":"brian8267"},"score":0,"creation_date":1673454466,"post_id":75075937,"comment_id":132504244,"body_markdown":"I tried your approach but unfortunately still got a null value instead of a list. I edited the question to include that.","body":"I tried your approach but unfortunately still got a null value instead of a list. I edited the question to include that."}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673495631,"creation_date":1673495631,"answer_id":75091396,"question_id":75075937,"body_markdown":"Don&#39;t bother using `SpringExtension`, just use `MockitoExtension`.\r\n\r\nGive `MyHealthIndicator` a constructor which sets `jmsConsumersList`.\r\n\r\nSo `setup` becomes:\r\n```\r\n    @BeforeEach\r\n    public void setup() throws Exception {\r\n        ArrayList&lt;JmsConsumer&gt; jmsConsumers = new ArrayList&lt;&gt;();\r\n        jmsConsumers.add(jmsConsumer1);\r\n        jmsConsumers.add(jmsConsumer2);\r\n        myHealthIndicator = new MyHealthIndicator(jmsConsumers);\r\n    }\r\n```\r\n\r\nThe rest of your test can stay the same (of course you don&#39;t need `messageConsumers()`.)","title":"Override bean in test with non-mocked bean","body":"<p>Don't bother using <code>SpringExtension</code>, just use <code>MockitoExtension</code>.</p>\n<p>Give <code>MyHealthIndicator</code> a constructor which sets <code>jmsConsumersList</code>.</p>\n<p>So <code>setup</code> becomes:</p>\n<pre><code>    @BeforeEach\n    public void setup() throws Exception {\n        ArrayList&lt;JmsConsumer&gt; jmsConsumers = new ArrayList&lt;&gt;();\n        jmsConsumers.add(jmsConsumer1);\n        jmsConsumers.add(jmsConsumer2);\n        myHealthIndicator = new MyHealthIndicator(jmsConsumers);\n    }\n</code></pre>\n<p>The rest of your test can stay the same (of course you don't need <code>messageConsumers()</code>.)</p>\n"}],"owner":{"account_id":19615409,"reputation":3,"user_id":14357015,"display_name":"brian8267"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75091396,"answer_count":1,"score":0,"last_activity_date":1673495631,"creation_date":1673385353,"question_id":75075937,"body_markdown":"I want to unit test a class that uses a named spring bean of a List, but I can&#39;t figure out how to override the bean with my own test bean filled with mocks.\r\n\r\nThe class that defines the named bean:\r\n\r\n``` java\r\n@Configuration\r\n@RequiredArgsConstructor\r\npublic class JmsReceiveConfig {\r\n    @Bean(name = &quot;FooConsumers&quot;)\r\n    List&lt;JmsConsumer&gt; messageConsumers(QueuedReceiveService fooMessageListener) throws Exception {\r\n        List&lt;JmsConsumer&gt; list = new ArrayList&lt;&gt;();\r\n        for (MyJmsProperties.Broker broker : myJmsProperties.getBrokers()) {\r\n            JmsConsumer jmsConsumer =\r\n                messageConsumer(broker, myJmsProperties.getKeystore(), myJmsProperties.getKeystorePassword(),\r\n                    myJmsProperties.getTruststore(), myJmsProperties.getTruststorePassword(), fooMessageListener);\r\n            list.add(jmsConsumer);\r\n        }\r\n        return list;\r\n    }\r\n\r\n    ...\r\n}\r\n```\r\n\r\nMy class that uses the named bean:\r\n\r\n``` java\r\n@Component\r\n@ConditionalOnEnabledHealthIndicator(&quot;barIndicator&quot;)\r\n@RequiredArgsConstructor\r\npublic class MyHealthIndicator implements HealthIndicator {\r\n    @Inject\r\n    @Qualifier(&quot;FooConsumers&quot;)\r\n    private List&lt;JmsConsumer&gt; jmsConsumersList;\r\n\r\n    @Override\r\n    public Health health() {\r\n        int connectedCount = 0;\r\n        Map&lt;String, Object&gt; detailsMap = new HashMap&lt;&gt;();\r\n        for (JmsConsumer consumer : jmsConsumersList) {\r\n            if (consumer.isConnected()) {\r\n                connectedCount++;\r\n            }\r\n            detailsMap.put(consumer.getAlias(), consumer.isConnected());\r\n        }\r\n        return Health.up()\r\n            .withDetails(detailsMap)\r\n            .build();\r\n    }\r\n}\r\n```\r\n\r\nI tried this test class:\r\n``` java\r\n@ExtendWith(SpringExtension.class)\r\npublic class MyHealthIndicatorTest {\r\n\r\n    private MyHealthIndicator myHealthIndicator;\r\n\r\n    @Mock\r\n    JmsConsumer jmsConsumer1;\r\n    @Mock\r\n    JmsConsumer jmsConsumer2;\r\n\r\n    @Bean(name = &quot;FooConsumers&quot;)\r\n    List&lt;JmsConsumer&gt; messageConsumers(QueuedReceiveService fooMessageListener) throws Exception {\r\n        ArrayList&lt;JmsConsumer&gt; jmsConsumers = new ArrayList&lt;&gt;();\r\n        jmsConsumers.add(jmsConsumer1);\r\n        jmsConsumers.add(jmsConsumer2);\r\n        return jmsConsumers;\r\n    }\r\n\r\n    @BeforeEach\r\n    public void setup() throws Exception {\r\n        myHealthIndicator = new MyHealthIndicator();\r\n    }\r\n\r\n    @Test\r\n    public void testStatusUpAll() {\r\n        Mockito.when(jmsConsumer1.getAlias())\r\n            .thenReturn(&quot;jmsConsumer1&quot;);\r\n        Mockito.when(jmsConsumer1.isConnected())\r\n            .thenReturn(true);\r\n        Mockito.when(jmsConsumer2.getAlias())\r\n            .thenReturn(&quot;jmsConsumer2&quot;);\r\n        Mockito.when(jmsConsumer2.isConnected())\r\n            .thenReturn(true);\r\n        Health healthCheck = myHealthIndicator.health();\r\n        assertEquals(healthCheck.getStatus(), Status.UP);\r\n    }\r\n}\r\n```\r\n\r\nI expected the named bean I defined in the test class to be used in the `@Test` method inside the `myHealthIndicator.health()` call, but instead when that call runs, the jmsConsumers list within it is null, giving a NullPointerException on the `for (JmsConsumer consumer : jmsConsumersList)` line.\r\n\r\nI also tried using a mock JmsReceiveConfig so I could change my `@BeforeEach` to:\r\n``` java\r\nList&lt;JmsConsumer&gt; jmsConsumers = new ArrayList&lt;&gt;();\r\n        jmsConsumers.add(jmsConsumer1);\r\n        jmsConsumers.add(jmsConsumer2);\r\n        Mockito.when(jmsReceiveConfig.messageConsumers(Mockito.any(QueuedReceiveService.class)))\r\n            .thenReturn(jmsConsumers);\r\n        radItsHealthIndicator = new RadItsHealthIndicator();\r\n```\r\nbut I still get the same NPE exception in the same spot.","title":"Override bean in test with non-mocked bean","body":"<p>I want to unit test a class that uses a named spring bean of a List, but I can't figure out how to override the bean with my own test bean filled with mocks.</p>\n<p>The class that defines the named bean:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@RequiredArgsConstructor\npublic class JmsReceiveConfig {\n    @Bean(name = &quot;FooConsumers&quot;)\n    List&lt;JmsConsumer&gt; messageConsumers(QueuedReceiveService fooMessageListener) throws Exception {\n        List&lt;JmsConsumer&gt; list = new ArrayList&lt;&gt;();\n        for (MyJmsProperties.Broker broker : myJmsProperties.getBrokers()) {\n            JmsConsumer jmsConsumer =\n                messageConsumer(broker, myJmsProperties.getKeystore(), myJmsProperties.getKeystorePassword(),\n                    myJmsProperties.getTruststore(), myJmsProperties.getTruststorePassword(), fooMessageListener);\n            list.add(jmsConsumer);\n        }\n        return list;\n    }\n\n    ...\n}\n</code></pre>\n<p>My class that uses the named bean:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@ConditionalOnEnabledHealthIndicator(&quot;barIndicator&quot;)\n@RequiredArgsConstructor\npublic class MyHealthIndicator implements HealthIndicator {\n    @Inject\n    @Qualifier(&quot;FooConsumers&quot;)\n    private List&lt;JmsConsumer&gt; jmsConsumersList;\n\n    @Override\n    public Health health() {\n        int connectedCount = 0;\n        Map&lt;String, Object&gt; detailsMap = new HashMap&lt;&gt;();\n        for (JmsConsumer consumer : jmsConsumersList) {\n            if (consumer.isConnected()) {\n                connectedCount++;\n            }\n            detailsMap.put(consumer.getAlias(), consumer.isConnected());\n        }\n        return Health.up()\n            .withDetails(detailsMap)\n            .build();\n    }\n}\n</code></pre>\n<p>I tried this test class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(SpringExtension.class)\npublic class MyHealthIndicatorTest {\n\n    private MyHealthIndicator myHealthIndicator;\n\n    @Mock\n    JmsConsumer jmsConsumer1;\n    @Mock\n    JmsConsumer jmsConsumer2;\n\n    @Bean(name = &quot;FooConsumers&quot;)\n    List&lt;JmsConsumer&gt; messageConsumers(QueuedReceiveService fooMessageListener) throws Exception {\n        ArrayList&lt;JmsConsumer&gt; jmsConsumers = new ArrayList&lt;&gt;();\n        jmsConsumers.add(jmsConsumer1);\n        jmsConsumers.add(jmsConsumer2);\n        return jmsConsumers;\n    }\n\n    @BeforeEach\n    public void setup() throws Exception {\n        myHealthIndicator = new MyHealthIndicator();\n    }\n\n    @Test\n    public void testStatusUpAll() {\n        Mockito.when(jmsConsumer1.getAlias())\n            .thenReturn(&quot;jmsConsumer1&quot;);\n        Mockito.when(jmsConsumer1.isConnected())\n            .thenReturn(true);\n        Mockito.when(jmsConsumer2.getAlias())\n            .thenReturn(&quot;jmsConsumer2&quot;);\n        Mockito.when(jmsConsumer2.isConnected())\n            .thenReturn(true);\n        Health healthCheck = myHealthIndicator.health();\n        assertEquals(healthCheck.getStatus(), Status.UP);\n    }\n}\n</code></pre>\n<p>I expected the named bean I defined in the test class to be used in the <code>@Test</code> method inside the <code>myHealthIndicator.health()</code> call, but instead when that call runs, the jmsConsumers list within it is null, giving a NullPointerException on the <code>for (JmsConsumer consumer : jmsConsumersList)</code> line.</p>\n<p>I also tried using a mock JmsReceiveConfig so I could change my <code>@BeforeEach</code> to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;JmsConsumer&gt; jmsConsumers = new ArrayList&lt;&gt;();\n        jmsConsumers.add(jmsConsumer1);\n        jmsConsumers.add(jmsConsumer2);\n        Mockito.when(jmsReceiveConfig.messageConsumers(Mockito.any(QueuedReceiveService.class)))\n            .thenReturn(jmsConsumers);\n        radItsHealthIndicator = new RadItsHealthIndicator();\n</code></pre>\n<p>but I still get the same NPE exception in the same spot.</p>\n"},{"tags":["java","maven","codenameone","gui-builder","mvn-repo"],"comments":[{"owner":{"account_id":394396,"reputation":52144,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"score":1,"creation_date":1669087178,"post_id":74514020,"comment_id":131558212,"body_markdown":"Did you press the save button in the GUI builder?\nWhen you press save it should update the code in the IDE, do you see the changes in the java source file of `MyGUI`? Do you see any output in the Maven console?","body":"Did you press the save button in the GUI builder? When you press save it should update the code in the IDE, do you see the changes in the java source file of <code>MyGUI</code>? Do you see any output in the Maven console?"},{"owner":{"account_id":16651389,"reputation":31,"user_id":12034136,"display_name":"Yao Chang"},"score":0,"creation_date":1669184900,"post_id":74514020,"comment_id":131584248,"body_markdown":"Sir, thanks first. I had saved the gui builder. The strange thing is I got two MyGUI file. One is in the guibuilder\\com\\example\\myapp another one is in the java\\com\\example\\myapp. I used the Netbeans IDE. The auto generated code will update the MyGUI.java in guibuilder below one and the other one will not be updated auto.","body":"Sir, thanks first. I had saved the gui builder. The strange thing is I got two MyGUI file. One is in the guibuilder\\com\\example\\myapp another one is in the java\\com\\example\\myapp. I used the Netbeans IDE. The auto generated code will update the MyGUI.java in guibuilder below one and the other one will not be updated auto."},{"owner":{"account_id":394396,"reputation":52144,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"score":0,"creation_date":1669260471,"post_id":74514020,"comment_id":131605812,"body_markdown":"Both are good. One is an XML file containing the structured data. The other is your source file which in netbeans gets updated when you build the project. How are you building/running the project? Do you see warnings in the output related to GUI?","body":"Both are good. One is an XML file containing the structured data. The other is your source file which in netbeans gets updated when you build the project. How are you building/running the project? Do you see warnings in the output related to GUI?"},{"owner":{"account_id":16651389,"reputation":31,"user_id":12034136,"display_name":"Yao Chang"},"score":0,"creation_date":1669350666,"post_id":74514020,"comment_id":131627072,"body_markdown":"Iget below warning: &#39;Some problems were encountered while building the effective model for com.example.myapp:myapp-javase:jar:1.0-SNAPSHOT\n&#39;dependencies.dependency.(groupId:artifactId:type:classifier)&#39; must be unique: com.codenameone:codenameone-core:jar -&gt; duplicate declaration of version (?) @ line 60, column 19\n&#39;dependencies.dependency.(groupId:artifactId:type:classifier)&#39; must be unique: com.codenameone:codenameone-javase:jar -&gt; duplicate declaration of version (?) @ line 70, column 19\n&#39;build.plugins.plugin.version&#39; for org.apache.maven.plugins:maven-jar-plugin is missing","body":"Iget below warning: &#39;Some problems were encountered while building the effective model for com.example.myapp:myapp-javase:jar:1.0-SNAPSHOT &#39;dependencies.dependency.(groupId:artifactId:type:classifier&zwnj;&#8203;)&#39; must be unique: com.codenameone:codenameone-core:jar -&gt; duplicate declaration of version (?) @ line 60, column 19 &#39;dependencies.dependency.(groupId:artifactId:type:classifier&zwnj;&#8203;)&#39; must be unique: com.codenameone:codenameone-javase:jar -&gt; duplicate declaration of version (?) @ line 70, column 19 &#39;build.plugins.plugin.version&#39; for org.apache.maven.plugins:maven-jar-plugin is missing"},{"owner":{"account_id":16651389,"reputation":31,"user_id":12034136,"display_name":"Yao Chang"},"score":0,"creation_date":1669357294,"post_id":74514020,"comment_id":131627985,"body_markdown":"@ShaiAlmog, I also get below warning: &#39;Dependency for proguard defined twice! This may lead to unexpected results: swing-worker:1.1 | swing-worker:1.1\nDependency for proguard defined twice! This may lead to unexpected results: sisu-guice:3.2.5 | sisu-guice:2.1.7\nDependency for proguard defined twice! This may lead to unexpected results: codenameone-cef:84.4.1-M3 | codenameone-cef:84.4.1-M3&#39;","body":"@ShaiAlmog, I also get below warning: &#39;Dependency for proguard defined twice! This may lead to unexpected results: swing-worker:1.1 | swing-worker:1.1 Dependency for proguard defined twice! This may lead to unexpected results: sisu-guice:3.2.5 | sisu-guice:2.1.7 Dependency for proguard defined twice! This may lead to unexpected results: codenameone-cef:84.4.1-M3 | codenameone-cef:84.4.1-M3&#39;"},{"owner":{"account_id":394396,"reputation":52144,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"score":0,"creation_date":1669434454,"post_id":74514020,"comment_id":131645465,"body_markdown":"Those aren&#39;t [ a problem](https://stackoverflow.com/a/73841730/756809).  What&#39;s the command you use to run/build? Does it generate the source code for the GUI? There should be a printout in the build output.","body":"Those aren&#39;t [ a problem](<a href=\"https://stackoverflow.com/a/73841730/756809\">stackoverflow.com/a/73841730/756809</a>).  What&#39;s the command you use to run/build? Does it generate the source code for the GUI? There should be a printout in the build output."},{"owner":{"account_id":16651389,"reputation":31,"user_id":12034136,"display_name":"Yao Chang"},"score":0,"creation_date":1669595036,"post_id":74514020,"comment_id":131670963,"body_markdown":"@ShaiAlmog, I used the command &quot;mvn cn1:create-gui-form -DclassName=com.example.myapp.MyGUI&quot; to create the two GUI files. Below warning is showen:[WARNING] Some problems were encountered while building the effective model for com.example.myapp:myapp-javase:jar:1.0-SNAPSHOT\n[WARNING] &#39;dependencies.dependency.(groupId:artifactId:type:classifier)&#39; must be unique: com.codenameone:codenameone-core:jar -&gt; duplicate declaration of version (?) @ line 60, column 19","body":"@ShaiAlmog, I used the command &quot;mvn cn1:create-gui-form -DclassName=com.example.myapp.MyGUI&quot; to create the two GUI files. Below warning is showen:[WARNING] Some problems were encountered while building the effective model for com.example.myapp:myapp-javase:jar:1.0-SNAPSHOT [WARNING] &#39;dependencies.dependency.(groupId:artifactId:type:classifier&zwnj;&#8203;)&#39; must be unique: com.codenameone:codenameone-core:jar -&gt; duplicate declaration of version (?) @ line 60, column 19"},{"owner":{"account_id":16651389,"reputation":31,"user_id":12034136,"display_name":"Yao Chang"},"score":0,"creation_date":1669595043,"post_id":74514020,"comment_id":131670964,"body_markdown":"[WARNING] &#39;dependencies.dependency.(groupId:artifactId:type:classifier)&#39; must be unique: com.codenameone:codenameone-javase:jar -&gt; duplicate declaration of version (?) @ line 70, column 19\n[WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.\n[WARNING] For this reason, future Maven versions might no longer support building such malformed projects.","body":"[WARNING] &#39;dependencies.dependency.(groupId:artifactId:type:classifier&zwnj;&#8203;)&#39; must be unique: com.codenameone:codenameone-javase:jar -&gt; duplicate declaration of version (?) @ line 70, column 19 [WARNING] It is highly recommended to fix these problems because they threaten the stability of your build. [WARNING] For this reason, future Maven versions might no longer support building such malformed projects."},{"owner":{"account_id":394396,"reputation":52144,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"score":1,"creation_date":1669605494,"post_id":74514020,"comment_id":131672309,"body_markdown":"Yes but create GUI form will just create the files. When you save the XML is generated but the Java code isn&#39;t updated. When you run the project it should read the XML and generate the java sources in the GUI file. So you should see an applicable message in the run command.","body":"Yes but create GUI form will just create the files. When you save the XML is generated but the Java code isn&#39;t updated. When you run the project it should read the XML and generate the java sources in the GUI file. So you should see an applicable message in the run command."},{"owner":{"account_id":16651389,"reputation":31,"user_id":12034136,"display_name":"Yao Chang"},"score":0,"creation_date":1669620438,"post_id":74514020,"comment_id":131674694,"body_markdown":"Sirafter I run the project nothing error except above I mention. Do you mean below info? --- codenameone-maven-plugin:7.0.86:generate-gui-sources (generate-gui-sources) @ myapp-common ---\nGenerating GUI sources\ntimeStr=1.0.0-1669598723903-1669594240205, lastTime=1.0.0-1669598723903-1669594240205\nMyGUI.java unmodified, skipping","body":"Sirafter I run the project nothing error except above I mention. Do you mean below info? --- codenameone-maven-plugin:7.0.86:generate-gui-sources (generate-gui-sources) @ myapp-common --- Generating GUI sources timeStr=1.0.0-1669598723903-1669594240205, lastTime=1.0.0-1669598723903-1669594240205 MyGUI.java unmodified, skipping"},{"owner":{"account_id":394396,"reputation":52144,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"score":0,"creation_date":1669691300,"post_id":74514020,"comment_id":131694821,"body_markdown":"Yes. That&#39;s odd. What&#39;s the content of the GUI file?\nIt&#39;s an XML file. That means that when you change the UI in the GUI builder the file should update every time you save and include your changes. If not we need to figure out why not. Does the GUI builder print something to console as you save that might indicate the file it&#39;s writing to? Also, are there spaces or special non-latin characters in your path? The tools might have an issue with that.","body":"Yes. That&#39;s odd. What&#39;s the content of the GUI file? It&#39;s an XML file. That means that when you change the UI in the GUI builder the file should update every time you save and include your changes. If not we need to figure out why not. Does the GUI builder print something to console as you save that might indicate the file it&#39;s writing to? Also, are there spaces or special non-latin characters in your path? The tools might have an issue with that."},{"owner":{"account_id":16651389,"reputation":31,"user_id":12034136,"display_name":"Yao Chang"},"score":0,"creation_date":1669788025,"post_id":74514020,"comment_id":131719881,"body_markdown":"Sir, I try to add a button and save it and the console do not show anything. The XML file will auto generate the button. Then, I run the project. The button will auto add to MyGUI.java below the guibuilder folder but do not auto generate the code in another MyGUI.java below the source packages. The output console show as below:  Generating GUI sources\ntimeStr=1.0.0-1669598723903-1669787158291, lastTime=1.0.0-1669681504251-1669681320690\nProcessing GUI builder file: D:\\NetBeansProject\\MyApp\\myapp\\common\\src\\main\\guibuilder\\com\\example\\myapp\\MyGUI.java","body":"Sir, I try to add a button and save it and the console do not show anything. The XML file will auto generate the button. Then, I run the project. The button will auto add to MyGUI.java below the guibuilder folder but do not auto generate the code in another MyGUI.java below the source packages. The output console show as below:  Generating GUI sources timeStr=1.0.0-1669598723903-1669787158291, lastTime=1.0.0-1669681504251-1669681320690 Processing GUI builder file: D:\\NetBeansProject\\MyApp\\myapp\\common\\src\\main\\guibuilder\\co&zwnj;&#8203;m\\example\\myapp\\MyGU&zwnj;&#8203;I.java"},{"owner":{"account_id":16651389,"reputation":31,"user_id":12034136,"display_name":"Yao Chang"},"score":0,"creation_date":1669788039,"post_id":74514020,"comment_id":131719885,"body_markdown":"Attempting to generate GUI sources for D:\\NetBeansProject\\MyApp\\myapp\\common\\src\\main\\guibuilder\\com\\example\\myapp\\MyGUI.gui with System JAXB\n11 30, 2022 1:47:15  javax.xml.bind.ContextFinder getDeprecatedSystemProperty\nWARNING: Using non-standard property: javax.xml.bind.context.factory. Property javax.xml.bind.JAXBContextFactory should be used instead.     The path are not any space or special characters.","body":"Attempting to generate GUI sources for D:\\NetBeansProject\\MyApp\\myapp\\common\\src\\main\\guibuilder\\co&zwnj;&#8203;m\\example\\myapp\\MyGU&zwnj;&#8203;I.gui with System JAXB 11 30, 2022 1:47:15  javax.xml.bind.ContextFinder getDeprecatedSystemProperty WARNING: Using non-standard property: javax.xml.bind.context.factory. Property javax.xml.bind.JAXBContextFactory should be used instead.     The path are not any space or special characters."},{"owner":{"account_id":394396,"reputation":52144,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"score":0,"creation_date":1669864560,"post_id":74514020,"comment_id":131741894,"body_markdown":"The location of the .java source file should be in the `src/java` hierarchy if the file is generated outside of there it might be ignored by the compiler. Did you run maven in the right location? In the common or the main project directory?\nAre you using a package for the GUI class? Notice you MUST have a package!","body":"The location of the .java source file should be in the <code>src&#47;java</code> hierarchy if the file is generated outside of there it might be ignored by the compiler. Did you run maven in the right location? In the common or the main project directory? Are you using a package for the GUI class? Notice you MUST have a package!"},{"owner":{"account_id":16651389,"reputation":31,"user_id":12034136,"display_name":"Yao Chang"},"score":0,"creation_date":1669960276,"post_id":74514020,"comment_id":131766014,"body_markdown":"@ShaiAlmog, Sir, I do not know how to describe my project structure correctly. I past an picture in the topic content. Is it right hierarchy? I run maven in the main project directory. I have two GUI class, one is in the /java another one is in the /guibuilder just like the picture show.","body":"@ShaiAlmog, Sir, I do not know how to describe my project structure correctly. I past an picture in the topic content. Is it right hierarchy? I run maven in the main project directory. I have two GUI class, one is in the /java another one is in the /guibuilder just like the picture show."},{"owner":{"account_id":394396,"reputation":52144,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"score":1,"creation_date":1670046585,"post_id":74514020,"comment_id":131786642,"body_markdown":"Gotcha, that looks like a bug in the GUI builder. I&#39;m looking into it and will get back to you.","body":"Gotcha, that looks like a bug in the GUI builder. I&#39;m looking into it and will get back to you."},{"owner":{"account_id":16651389,"reputation":31,"user_id":12034136,"display_name":"Yao Chang"},"score":0,"creation_date":1673340664,"post_id":74514020,"comment_id":132471085,"body_markdown":"@ShaiAlmog How is the case going? Is solved already?","body":"@ShaiAlmog How is the case going? Is solved already?"},{"owner":{"account_id":394396,"reputation":52144,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"score":0,"creation_date":1673410674,"post_id":74514020,"comment_id":132490443,"body_markdown":"Last I checked Steve says the problem relates to the GUI builder in production being out of date. I&#39;m not sure if this was fixed. Looking into this.","body":"Last I checked Steve says the problem relates to the GUI builder in production being out of date. I&#39;m not sure if this was fixed. Looking into this."}],"answers":[{"comments":[{"owner":{"account_id":16651389,"reputation":31,"user_id":12034136,"display_name":"Yao Chang"},"score":0,"creation_date":1675748046,"post_id":75091373,"comment_id":132990264,"body_markdown":"I do the mvn cn1:update in the project path. The result is the same. The GUI still can not generate into the right place.","body":"I do the mvn cn1:update in the project path. The result is the same. The GUI still can not generate into the right place."},{"owner":{"account_id":394396,"reputation":52144,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"score":0,"creation_date":1675824636,"post_id":75091373,"comment_id":133010143,"body_markdown":"That&#39;s odd. What&#39;s the size of the guibuilder.jar file under your home directory?","body":"That&#39;s odd. What&#39;s the size of the guibuilder.jar file under your home directory?"},{"owner":{"account_id":3510817,"reputation":4616,"user_id":2935174,"accept_rate":50,"display_name":"steve hannah"},"score":0,"creation_date":1675827533,"post_id":75091373,"comment_id":133010437,"body_markdown":"Did you also delete the CodeNameOneBuildClient.jar?","body":"Did you also delete the CodeNameOneBuildClient.jar?"},{"owner":{"account_id":16651389,"reputation":31,"user_id":12034136,"display_name":"Yao Chang"},"score":0,"creation_date":1675925728,"post_id":75091373,"comment_id":133033417,"body_markdown":"@stevehannah After i delete the jar file, I could not run the project.  error is &quot;Failed to execute goal com.codenameone:codenameone-maven-plugin:7.0.86:generate-gui-sources (generate-gui-sources) on project myapp-common: Execution generate-gui-sources of goal com.codenameone:codenameone-maven-plugin:7.0.86:generate-gui-sources failed: Plugin com.codenameone:codenameone-maven-plugin:7.0.86 or one of its dependencies could not be resolved: Could not find artifact com.codenameone:codenameone-buildclient:jar:8.0 at specified path C:\\Users\\Raden/.codenameone/CodeNameOneBuildClient.jar -&gt; [Help 1]&quot;","body":"@stevehannah After i delete the jar file, I could not run the project.  error is &quot;Failed to execute goal com.codenameone:codenameone-maven-plugin:7.0.86:generate-gui&zwnj;&#8203;-sources (generate-gui-sources) on project myapp-common: Execution generate-gui-sources of goal com.codenameone:codenameone-maven-plugin:7.0.86:generate-gui&zwnj;&#8203;-sources failed: Plugin com.codenameone:codenameone-maven-plugin:7.0.86 or one of its dependencies could not be resolved: Could not find artifact com.codenameone:codenameone-buildclient:jar:8.0 at specified path C:\\Users\\Raden/.codenameone/CodeNameOneBuildClient.jar -&gt; [Help 1]&quot;"},{"owner":{"account_id":16651389,"reputation":31,"user_id":12034136,"display_name":"Yao Chang"},"score":0,"creation_date":1675925914,"post_id":75091373,"comment_id":133033452,"body_markdown":"@ShaiAlmog guibuilder.jar is 12.6MB.","body":"@ShaiAlmog guibuilder.jar is 12.6MB."},{"owner":{"account_id":394396,"reputation":52144,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"score":0,"creation_date":1676000728,"post_id":75091373,"comment_id":133053366,"body_markdown":"@YaoChang Can you check the size in bytes? The right size one should be 13303174 bytes which is 12.6mb but the size difference might be small.","body":"@YaoChang Can you check the size in bytes? The right size one should be 13303174 bytes which is 12.6mb but the size difference might be small."},{"owner":{"account_id":16651389,"reputation":31,"user_id":12034136,"display_name":"Yao Chang"},"score":0,"creation_date":1676249562,"post_id":75091373,"comment_id":133093918,"body_markdown":"@ShaiAlmog 13,303,174 bytes is the file size. I think  the size is correct.","body":"@ShaiAlmog 13,303,174 bytes is the file size. I think  the size is correct."},{"owner":{"account_id":394396,"reputation":52144,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"score":0,"creation_date":1676258315,"post_id":75091373,"comment_id":133094816,"body_markdown":"@stevehannah it seems the version matches the one on the servers...","body":"@stevehannah it seems the version matches the one on the servers..."}],"tags":[],"owner":{"account_id":394396,"reputation":52144,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"comment_count":8,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673495352,"creation_date":1673495352,"answer_id":75091373,"question_id":74514020,"body_markdown":"This should be fixed now. To force a new version you can do one of the following:\r\n\r\n* Run the `cn1:update` maven target to force an update\r\n\r\n* Delete the `CodeNameOneBuildClient.jar` from `~/.codenameone`. Notice that `~` stands for your home directory\r\n\r\nThis should fix the problem and the GUI should generate into the right place.","title":"Why does the GUI builder do not show the component after I add it?","body":"<p>This should be fixed now. To force a new version you can do one of the following:</p>\n<ul>\n<li><p>Run the <code>cn1:update</code> maven target to force an update</p>\n</li>\n<li><p>Delete the <code>CodeNameOneBuildClient.jar</code> from <code>~/.codenameone</code>. Notice that <code>~</code> stands for your home directory</p>\n</li>\n</ul>\n<p>This should fix the problem and the GUI should generate into the right place.</p>\n"}],"owner":{"account_id":16651389,"reputation":31,"user_id":12034136,"display_name":"Yao Chang"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1673495352,"creation_date":1669002296,"question_id":74514020,"body_markdown":"I try to use the Maven project throw downloading the tamplate from web side. I have already use below command to create the gui files and had succeed.\r\n\r\n  \r\n\r\n     mvn cn1:create-gui-form -DclassName=com.example.myapp.MyGUI\r\n\r\nThen, I use below command to show the GUI builder tool and add two buttons.\r\n\r\n   \r\n\r\n     mvn cn1:guibuilder -DclassName=com.example.myapp.MyGUI\r\n\r\nThird, I program as below in main app but the buttons do not show.\r\n\r\n   \r\n\r\n     public class MyApp extends Lifecycle {\r\n       // Resources theme = UIManager.initFirstTheme(&quot;/theme&quot;);\r\n        @Override\r\n        public void runApp() {\r\n    //        Form hi = new Form(&quot;Hi World&quot;, BoxLayout.y());\r\n    //        Button helloButton = new Button(&quot;Hello World&quot;);\r\n    //        hi.add(helloButton);\r\n    //        helloButton.addActionListener(e -&gt; hello());\r\n    //        hi.getToolbar().addMaterialCommandToSideMenu(&quot;Hello Command&quot;,\r\n    //        FontImage.MATERIAL_CHECK, 4, e -&gt; hello());\r\n           \r\n            // GUI Builder\r\n            MyGUI hi = new MyGUI();\r\n            hi.show();\r\n        }\r\n\r\nBelow is my project structure:\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nCould any body help me?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YAUSL.png","title":"Why does the GUI builder do not show the component after I add it?","body":"<p>I try to use the Maven project throw downloading the tamplate from web side. I have already use below command to create the gui files and had succeed.</p>\n<pre><code> mvn cn1:create-gui-form -DclassName=com.example.myapp.MyGUI\n</code></pre>\n<p>Then, I use below command to show the GUI builder tool and add two buttons.</p>\n<pre><code> mvn cn1:guibuilder -DclassName=com.example.myapp.MyGUI\n</code></pre>\n<p>Third, I program as below in main app but the buttons do not show.</p>\n<pre><code> public class MyApp extends Lifecycle {\n   // Resources theme = UIManager.initFirstTheme(&quot;/theme&quot;);\n    @Override\n    public void runApp() {\n//        Form hi = new Form(&quot;Hi World&quot;, BoxLayout.y());\n//        Button helloButton = new Button(&quot;Hello World&quot;);\n//        hi.add(helloButton);\n//        helloButton.addActionListener(e -&gt; hello());\n//        hi.getToolbar().addMaterialCommandToSideMenu(&quot;Hello Command&quot;,\n//        FontImage.MATERIAL_CHECK, 4, e -&gt; hello());\n       \n        // GUI Builder\n        MyGUI hi = new MyGUI();\n        hi.show();\n    }\n</code></pre>\n<p>Below is my project structure:</p>\n<p><a href=\"https://i.stack.imgur.com/YAUSL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YAUSL.png\" alt=\"enter image description here\" /></a></p>\n<p>Could any body help me?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1546127059,"post_id":53974191,"comment_id":94786059,"body_markdown":"If you want to write to the file, then it can&#39;t live in `src` - You should never reference `src` directly, as it won&#39;t exists once the project is exported.  Instead, you could try placing the file in the current working directory. You can determine the working directory using `System.getProperty(&quot;user.dir&quot;)`.  The problem with this is, it can change, depending on from where the program is executed from.  A &quot;more general&quot; approach is to use a &quot;well known&quot; location, such as the user&#39;s home directory. You can use `System.getProperty(&quot;user.home&quot;)` to find that, but each OS has it&#39;s own rules","body":"If you want to write to the file, then it can&#39;t live in <code>src</code> - You should never reference <code>src</code> directly, as it won&#39;t exists once the project is exported.  Instead, you could try placing the file in the current working directory. You can determine the working directory using <code>System.getProperty(&quot;user.dir&quot;)</code>.  The problem with this is, it can change, depending on from where the program is executed from.  A &quot;more general&quot; approach is to use a &quot;well known&quot; location, such as the user&#39;s home directory. You can use <code>System.getProperty(&quot;user.home&quot;)</code> to find that, but each OS has it&#39;s own rules"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1546127451,"post_id":53974191,"comment_id":94786134,"body_markdown":"Have a look at [Where should i place my files in order to be able to access them when i run the jar?](https://stackoverflow.com/questions/27974857/where-should-i-place-my-files-in-order-to-be-able-to-access-them-when-i-run-the/27974989#27974989) for some details","body":"Have a look at <a href=\"https://stackoverflow.com/questions/27974857/where-should-i-place-my-files-in-order-to-be-able-to-access-them-when-i-run-the/27974989#27974989\">Where should i place my files in order to be able to access them when i run the jar?</a> for some details"},{"owner":{"account_id":136531,"reputation":21531,"user_id":340088,"accept_rate":68,"display_name":"jbx"},"score":0,"creation_date":1546129521,"post_id":53974191,"comment_id":94786491,"body_markdown":"Current directory is simply &quot;.&quot;. The question is where is the working directory of your project, and this depends a bit on the IDE you are using. This is probably not src but one folder up. If you run the program from command line it will be the same directory from where you start the program.","body":"Current directory is simply &quot;.&quot;. The question is where is the working directory of your project, and this depends a bit on the IDE you are using. This is probably not src but one folder up. If you run the program from command line it will be the same directory from where you start the program."},{"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"score":0,"creation_date":1546129544,"post_id":53974191,"comment_id":94786494,"body_markdown":"Side comments: use try-with-resources to close your streams. And use the NIO.2 File API to work with files.","body":"Side comments: use try-with-resources to close your streams. And use the NIO.2 File API to work with files."},{"owner":{"account_id":1067937,"reputation":13238,"user_id":1067943,"accept_rate":65,"display_name":"Michael"},"score":0,"creation_date":1546130586,"post_id":53974191,"comment_id":94786647,"body_markdown":"@MadProgrammer, tnax for post. Can I put the files in project directory?","body":"@MadProgrammer, tnax for post. Can I put the files in project directory?"},{"owner":{"account_id":1067937,"reputation":13238,"user_id":1067943,"accept_rate":65,"display_name":"Michael"},"score":0,"creation_date":1546131013,"post_id":53974191,"comment_id":94786713,"body_markdown":"@MadProgrammer, in your reference above mentioned that files can accessed in src files for netbeans editor.","body":"@MadProgrammer, in your reference above mentioned that files can accessed in src files for netbeans editor."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1546132050,"post_id":53974191,"comment_id":94786890,"body_markdown":"@Michael Files stored in the `src` directory become embedded resources, this means that you can no longer treat them as files (as they become an entry in a zip file) and you can no longer write to them and the way you &quot;discover&quot; and read them is different. Since you want to write to the file, I would discourage this direction.  Also, at run time, when the project is exported, `src` will no longer exist.  You should never reference `src` in your code","body":"@Michael Files stored in the <code>src</code> directory become embedded resources, this means that you can no longer treat them as files (as they become an entry in a zip file) and you can no longer write to them and the way you &quot;discover&quot; and read them is different. Since you want to write to the file, I would discourage this direction.  Also, at run time, when the project is exported, <code>src</code> will no longer exist.  You should never reference <code>src</code> in your code"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1546132332,"post_id":53974191,"comment_id":94786933,"body_markdown":"@Michael *&quot;Can I put the files in project directory?&quot;* - You can put the files where ever like, the problem is trying to find them again.  There are all sorts of restrictions and issues you need to resolve to make this kind of thing work.  This is also a common problem, not just in Java, which has a relatively simple solution - use a &quot;well known location&quot; to store the files, assuming you want read/write access to them","body":"@Michael <i>&quot;Can I put the files in project directory?&quot;</i> - You can put the files where ever like, the problem is trying to find them again.  There are all sorts of restrictions and issues you need to resolve to make this kind of thing work.  This is also a common problem, not just in Java, which has a relatively simple solution - use a &quot;well known location&quot; to store the files, assuming you want read/write access to them"}],"answers":[{"comments":[{"owner":{"account_id":1067937,"reputation":13238,"user_id":1067943,"accept_rate":65,"display_name":"Michael"},"score":0,"creation_date":1546129562,"post_id":53974363,"comment_id":94786499,"body_markdown":"Tnx for post.What is the main class?","body":"Tnx for post.What is the main class?"},{"owner":{"account_id":1067937,"reputation":13238,"user_id":1067943,"accept_rate":65,"display_name":"Michael"},"score":0,"creation_date":1546129611,"post_id":53974363,"comment_id":94786504,"body_markdown":"I am new in java but I have  a lot .net background.","body":"I am new in java but I have  a lot .net background."},{"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"score":0,"creation_date":1546129618,"post_id":53974363,"comment_id":94786506,"body_markdown":"The main class is the class which has the main method you&#39;re calling.","body":"The main class is the class which has the main method you&#39;re calling."},{"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"score":1,"creation_date":1546129729,"post_id":53974363,"comment_id":94786523,"body_markdown":"For Java starters I also recommend the Oracle Java tutorials, though they seem only to cover Java 8 and not Java 11: https://docs.oracle.com/javase/tutorial/","body":"For Java starters I also recommend the Oracle Java tutorials, though they seem only to cover Java 8 and not Java 11: <a href=\"https://docs.oracle.com/javase/tutorial/\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial</a>"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1546132160,"post_id":53974363,"comment_id":94786909,"body_markdown":"IMHO this seems like taking sledge hammer to crack a pea-nut.  A simpler solution is simple trying to resolve a &quot;well known&quot; location for the file to reside which is independent of the location that the Jar file resides or from where it is executed, which is a common enough problem and solution pattern already in use - just saying","body":"IMHO this seems like taking sledge hammer to crack a pea-nut.  A simpler solution is simple trying to resolve a &quot;well known&quot; location for the file to reside which is independent of the location that the Jar file resides or from where it is executed, which is a common enough problem and solution pattern already in use - just saying"},{"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"score":0,"creation_date":1546164205,"post_id":53974363,"comment_id":94791005,"body_markdown":"@MadProgrammer It depends on the nature of the file. If it is a pre-configured, but editable file you want to ship with your product, then I think this is a valid solution. But on second thought, I think you&#39;re right in this case. Books.txt at least sounds like a user file, so it should be somewhere in the user data space and not where the application is installed.","body":"@MadProgrammer It depends on the nature of the file. If it is a pre-configured, but editable file you want to ship with your product, then I think this is a valid solution. But on second thought, I think you&#39;re right in this case. Books.txt at least sounds like a user file, so it should be somewhere in the user data space and not where the application is installed."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1546169513,"post_id":53974363,"comment_id":94791987,"body_markdown":"@puce Not really, its easy to install the file to a well known location in any number of ways, from writing an initial file, copying it from the Jar file itself or just using an installer. The problem isnt unique to Java and has been solved and well documented if youre willing to read the relevant OS API documents - just saying","body":"@puce Not really, its easy to install the file to a well known location in any number of ways, from writing an initial file, copying it from the Jar file itself or just using an installer. The problem isnt unique to Java and has been solved and well documented if youre willing to read the relevant OS API documents - just saying"},{"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"score":0,"creation_date":1546178612,"post_id":53974363,"comment_id":94793935,"body_markdown":"@MadProgrammer You mention some possible solutions, which are fine for some kind of files.","body":"@MadProgrammer You mention some possible solutions, which are fine for some kind of files."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1546207403,"post_id":53974363,"comment_id":94800936,"body_markdown":"@pruce While I accept that there is always an exception to the rule, in the vast majority of the cases, where you want writability, a &quot;well known location&quot; is the best solution for a number of reasons.  If you just want a readable file, then embedded as a location resource within the Jar it self","body":"@pruce While I accept that there is always an exception to the rule, in the vast majority of the cases, where you want writability, a &quot;well known location&quot; is the best solution for a number of reasons.  If you just want a readable file, then embedded as a location resource within the Jar it self"}],"tags":[],"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"comment_count":9,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1546129217,"creation_date":1546129217,"answer_id":53974363,"question_id":53974191,"body_markdown":"Here is a [code snippet][1] of the [Drombler Commons - Client Startup][2] code I wrote, to determine the location of the executable jar. Replace `DromblerClientStarter` with your main class.\r\nThis should work at least when you&#39;re running your application as an executable JAR file.\r\n\r\n    /**\r\n     * The jar URI prefix &quot;jar:&quot;\r\n     */\r\n    private static final String FULL_JAR_URI_PREFIX = &quot;jar:&quot;;\r\n    /**\r\n     * Length of the jar URI prefix &quot;jar:&quot;\r\n     */\r\n    private static final int FULL_JAR_URI_PREFIX_LENGTH = 4;\r\n\r\n    private Path determineMainJarPath() throws URISyntaxException {\r\n        Class&lt;DromblerClientStarter&gt; type = DromblerClientStarter.class;\r\n        String jarResourceURIString = type.getResource(&quot;/&quot; + type.getName().replace(&quot;.&quot;, &quot;/&quot;) + &quot;.class&quot;).toURI().\r\n                toString();\r\n        int endOfJarPathIndex = jarResourceURIString.indexOf(&quot;!/&quot;);\r\n        String mainJarURIString = endOfJarPathIndex &gt;= 0 ? jarResourceURIString.substring(0, endOfJarPathIndex)\r\n                : jarResourceURIString;\r\n        if (mainJarURIString.startsWith(FULL_JAR_URI_PREFIX)) {\r\n            mainJarURIString = mainJarURIString.substring(FULL_JAR_URI_PREFIX_LENGTH);\r\n        }\r\n        Path mainJarPath = Paths.get(URI.create(mainJarURIString));\r\n        return mainJarPath;\r\n    }\r\n\r\nDepending on where you bundle *Books.txt* in your application distribution package, you can use this mainJarPath to determine the path of *Books.txt*.\r\n\r\n\r\n  [1]: https://github.com/Drombler/drombler-commons/blob/release-0.13/drombler-commons-client/drombler-commons-client-startup-main/src/main/java/org/drombler/commons/client/startup/main/DromblerClientConfiguration.java\r\n  [2]: http://puces-blog.blogspot.com/2018/10/drombler-fx-version-012-and-013-released.html","title":"Get current path of executed file","body":"<p>Here is a <a href=\"https://github.com/Drombler/drombler-commons/blob/release-0.13/drombler-commons-client/drombler-commons-client-startup-main/src/main/java/org/drombler/commons/client/startup/main/DromblerClientConfiguration.java\" rel=\"nofollow noreferrer\">code snippet</a> of the <a href=\"http://puces-blog.blogspot.com/2018/10/drombler-fx-version-012-and-013-released.html\" rel=\"nofollow noreferrer\">Drombler Commons - Client Startup</a> code I wrote, to determine the location of the executable jar. Replace <code>DromblerClientStarter</code> with your main class.\nThis should work at least when you're running your application as an executable JAR file.</p>\n\n<pre><code>/**\n * The jar URI prefix \"jar:\"\n */\nprivate static final String FULL_JAR_URI_PREFIX = \"jar:\";\n/**\n * Length of the jar URI prefix \"jar:\"\n */\nprivate static final int FULL_JAR_URI_PREFIX_LENGTH = 4;\n\nprivate Path determineMainJarPath() throws URISyntaxException {\n    Class&lt;DromblerClientStarter&gt; type = DromblerClientStarter.class;\n    String jarResourceURIString = type.getResource(\"/\" + type.getName().replace(\".\", \"/\") + \".class\").toURI().\n            toString();\n    int endOfJarPathIndex = jarResourceURIString.indexOf(\"!/\");\n    String mainJarURIString = endOfJarPathIndex &gt;= 0 ? jarResourceURIString.substring(0, endOfJarPathIndex)\n            : jarResourceURIString;\n    if (mainJarURIString.startsWith(FULL_JAR_URI_PREFIX)) {\n        mainJarURIString = mainJarURIString.substring(FULL_JAR_URI_PREFIX_LENGTH);\n    }\n    Path mainJarPath = Paths.get(URI.create(mainJarURIString));\n    return mainJarPath;\n}\n</code></pre>\n\n<p>Depending on where you bundle <em>Books.txt</em> in your application distribution package, you can use this mainJarPath to determine the path of <em>Books.txt</em>.</p>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - "},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1546143736,"creation_date":1546143736,"answer_id":53975262,"question_id":53974191,"body_markdown":"I also feel that files created (and later possibly modified and or deleted) by your running Java application is usually better to be placed in a location of the file system that is away from your java application installed home directory. An example **might be** the **&#39;C:\\\\ProgramData\\\\*ApplicationNameFiles*\\\\&#39;** for the Windows operating system or something similar for [other OS platforms](https://stackoverflow.com/questions/11113974/what-is-the-cross-platform-way-of-obtaining-the-path-to-the-local-application-da). In my opinion, at least for me, I feel it provides less chance of corruption to essential application files due to a poorly maintained drive or, accidental deletion by a User that opens up a File Explorer and decides to take it upon him/her self to clean their system of so called unnecessary files, and other not so obvious reasons. \r\n\r\nBecause Java can run on almost any platform and such data file locations are platform specific the User should be allowed to select the location to where these files can be created and manipulated from. This location then can be saved as a Property. Indeed, slightly more work but IMHO I feel it may be well worth it.\r\n\r\nIt is obviously much easier to create a directory (folder) within the install home directory of your JAR file when it&#39;s first started and then store and manipulate your application&#39;s created data files from there. Definitely much easier to find but then again...that would be a matter of opinion and it wouldn&#39;t be mine. Never-the-less if you&#39;re bent on doing it this way then your Java application&#39;s Install Utility should definitely know where that install path would be, it is therefore just a matter of storing that location somewhere. \r\n\r\nNo Install Utility? Well then your Java application will definitely need a means to know from where your JAR file is running from and the following code is one way to do that:\r\n\r\n    public String applicationPath(Class mainStartupClassName) {\r\n        try {\r\n            String path = mainStartupClassName.getProtectionDomain().getCodeSource().getLocation().getPath();\r\n            String pathDecoded = URLDecoder.decode(path, &quot;UTF-8&quot;);\r\n            pathDecoded = pathDecoded.trim().replace(&quot;/&quot;, File.separator);\r\n            if (pathDecoded.startsWith(File.separator)) {\r\n                pathDecoded = pathDecoded.substring(1);\r\n            }\r\n            return pathDecoded;\r\n        }\r\n        catch (UnsupportedEncodingException ex) {\r\n            Logger.getLogger(&quot;applicationPath() Method&quot;).log(Level.SEVERE, null, ex);\r\n        }\r\n        return null;\r\n    }\r\n\r\nAnd here is how you would use this method:\r\n\r\n    String appPath = applicationPath(MyMainStartupClassName.class);\r\n\r\n**Do keep in mind** that if this method is run from within your IDE it will most likely not return the path to your JAR file but instead point to a folder where your classes are stored for the application build.","title":"Get current path of executed file","body":"<p>I also feel that files created (and later possibly modified and or deleted) by your running Java application is usually better to be placed in a location of the file system that is away from your java application installed home directory. An example <strong>might be</strong> the <strong>'C:\\ProgramData\\<em>ApplicationNameFiles</em>\\'</strong> for the Windows operating system or something similar for <a href=\"https://stackoverflow.com/questions/11113974/what-is-the-cross-platform-way-of-obtaining-the-path-to-the-local-application-da\">other OS platforms</a>. In my opinion, at least for me, I feel it provides less chance of corruption to essential application files due to a poorly maintained drive or, accidental deletion by a User that opens up a File Explorer and decides to take it upon him/her self to clean their system of so called unnecessary files, and other not so obvious reasons. </p>\n\n<p>Because Java can run on almost any platform and such data file locations are platform specific the User should be allowed to select the location to where these files can be created and manipulated from. This location then can be saved as a Property. Indeed, slightly more work but IMHO I feel it may be well worth it.</p>\n\n<p>It is obviously much easier to create a directory (folder) within the install home directory of your JAR file when it's first started and then store and manipulate your application's created data files from there. Definitely much easier to find but then again...that would be a matter of opinion and it wouldn't be mine. Never-the-less if you're bent on doing it this way then your Java application's Install Utility should definitely know where that install path would be, it is therefore just a matter of storing that location somewhere. </p>\n\n<p>No Install Utility? Well then your Java application will definitely need a means to know from where your JAR file is running from and the following code is one way to do that:</p>\n\n<pre><code>public String applicationPath(Class mainStartupClassName) {\n    try {\n        String path = mainStartupClassName.getProtectionDomain().getCodeSource().getLocation().getPath();\n        String pathDecoded = URLDecoder.decode(path, \"UTF-8\");\n        pathDecoded = pathDecoded.trim().replace(\"/\", File.separator);\n        if (pathDecoded.startsWith(File.separator)) {\n            pathDecoded = pathDecoded.substring(1);\n        }\n        return pathDecoded;\n    }\n    catch (UnsupportedEncodingException ex) {\n        Logger.getLogger(\"applicationPath() Method\").log(Level.SEVERE, null, ex);\n    }\n    return null;\n}\n</code></pre>\n\n<p>And here is how you would use this method:</p>\n\n<pre><code>String appPath = applicationPath(MyMainStartupClassName.class);\n</code></pre>\n\n<p><strong>Do keep in mind</strong> that if this method is run from within your IDE it will most likely not return the path to your JAR file but instead point to a folder where your classes are stored for the application build.</p>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673495045,"creation_date":1546213369,"answer_id":53982349,"question_id":53974191,"body_markdown":"This is not a unique issue to Java, it&#39;s a problem faced by any developer of any language wishing to write data locally to the disk.  The are many parts to this problem.\r\n\r\nIf you want to be able to write to the file (and presumably, read the changes), then you need to devise a solution which allows you find the file in a platform independent way.\r\n\r\n# Some of the issues\r\n\r\n### The installation location of the program\r\n\r\nWhile most OS&#39;s do have some conventions governing this, this doesn&#39;t mean they are always used, for what ever reason.\r\n\r\nAlso, on some OS&#39;s, you are actively restricted from writing to the &quot;installation&quot; location.  Windows 8+ doesn&#39;t allow you to write to the &quot;Program Files&quot; directory, and in Java, this usually (or at least when I was dealing with it) fails silently.\r\n\r\nOn MacOS, if you&#39;re using a &quot;app bundle&quot;, the working directory is automatically set to the user&#39;s home directory, making it even more difficult to manage\r\n\r\n### The execution context (or working directory) may be different from the installation location of the program\r\n\r\nA program can be installed in one location, but executed from a different location, this will change the working directory location.  Many command line tools suffer from this issue and use different conventions to work around it (ever wonder what the `JAVA_HOME` environment variable is for &#129300;)\r\n\r\n### Restricted disk access\r\n\r\nMany OS&#39;s are now actively locking down the locations to which programs can write, even with admin privileges.\r\n\r\n# A reusable solution...\r\n\r\nMost OS&#39;s have come up with conventions for solving this issue, not just for Java, but for all developers wishing to work on the platform.\r\n\r\n**Important** Like all guide lines, these are not hard and fast rules, but a recommendations made by the platform authors, which are intended to make your life simpler and make the operation of the platform safer\r\n\r\nThe most common solution is to simply place the file in a &quot;well known location&quot; on the disk, which can be accessed through an absolute path independently of the installation or execution location of the program.\r\n\r\nOn Windows, this means placing the file in either `~\\AppData\\Local\\{application name}` or `~\\AppData\\Roaming\\{application name}`\r\n\r\nOn MacOS, this means placing the file in `~/Library/Application Data/{application name}`\r\n\r\nOn *nix, this typically means placing the file in `~/.{application name}`\r\n\r\nIt could be argued that you could use `~/.{application name}` on all three platforms, but as a user who &quot;shows hidden files&quot;, I&#39;d prefer you didn&#39;t pollute my home directory.\r\n\r\n# A possible, reusable, solution...\r\n\r\nWhen Windows 8 came out, I hit the &quot;you can&#39;t write to the `Program Files`&quot; issue, which took some time to diagnose, as it didn&#39;t generate an exception, it just failed.\r\n\r\nI was also working a lot more on Mac OS as well, so I needed a simple, cross platform solution, so my code could automatically adapt without the need for multiple branches per platform.\r\n\r\nTo this end, I came with a simple utility class...\r\n\r\n\tpublic enum SystemUtilities {\r\n\t\t\r\n\t\tINSTANCE;\r\n\r\n\t\tpublic boolean isMacOS() {\r\n\t\t\treturn getOSName().startsWith(&quot;Mac&quot;);\r\n\t\t}\r\n\r\n\t\tpublic boolean isMacOSX() {\r\n\t\t\treturn getOSName().startsWith(&quot;Mac OS X&quot;);\r\n\t\t}\r\n\r\n\t\tpublic boolean isWindowsOS() {\r\n\t\t\treturn getOSName().startsWith(&quot;Windows&quot;);\r\n\t\t}\r\n\t\t\r\n\t\tpublic boolean isLinux() {\r\n\t\t\treturn getOSName().startsWith(&quot;Linux&quot;);\r\n\t\t}\r\n\r\n\t\tpublic String getOSName() {\r\n\t\t\treturn System.getProperty(&quot;os.name&quot;);\r\n\t\t}\r\n\r\n\t\tpublic File getRoamingApplicationSupportPath() {\r\n\t\t\t// For *inx, use &#39;~/.{AppName}&#39;\r\n\t\t\tString path = System.getProperty(&quot;user.home&quot;);\r\n\t\t\tif (isWindowsOS()) {\r\n\t\t\t\tpath += &quot;\\\\AppData\\\\Roaming&quot;;\r\n\t\t\t} else if (isMacOS()) {\r\n\t\t\t\tpath += &quot;/Library/Application Support&quot;;\r\n\t\t\t}\r\n\t\t\treturn new File(path);\r\n\t\t}\r\n\r\n\t\tpublic File getLocalApplicationSupportPath() {\r\n\t\t\t// For *inx, use &#39;~/.{AppName}&#39;\r\n\t\t\tString path = System.getProperty(&quot;user.home&quot;);\r\n\t\t\tif (isWindowsOS()) {\r\n\t\t\t\tpath += &quot;\\\\AppData\\\\Local&quot;;\r\n\t\t\t} else if (isMacOS()) {\r\n\t\t\t\tpath += &quot;/Library/Application Support&quot;;\r\n\t\t\t}\r\n\t\t\treturn new File(path);\r\n\t\t}\r\n\r\n\t}\r\n\r\nThis provides a baseline from which &quot;independent&quot; code can be built, for example, you could use something like...\r\n\r\n\tFile appDataDir = new File(SystemUtilities.INSTANCE.getLocalApplicationSupportPath(), &quot;MyAwesomeApp&quot;);\r\n\tif (appDataDir.exists() || appDataDir.mkdirs()) {\r\n\t\tFile fileToWrite = new File(appDataDir, &quot;Books.txt&quot;);\r\n\t\t//...\r\n\t}\r\n\r\nto read/write to the file.  Although, personally, I might have manager/factory do this work and return the reference to the end `File`, but that&#39;s me.\r\n\r\n# What about &quot;pre-packaged&quot; files?\r\n\r\nThree possible solutions...\r\n\r\n1. Create the file(s) if they don&#39;t exist, populating them with default values as required\r\n2. Copy &quot;template&quot; file(s) out of the Jar file, if they don&#39;t exist\r\n3. Use an installer to install the files - this is the solution we used when we were faced with changing the location of all our &quot;external&quot; configuration files.\r\n\r\n# Read only files...\r\n\r\nFor read only files, the simplest solution is to embedded them within the Jar as &quot;embedded resources&quot;, this makes it easier to locate and manage...\r\n\r\n    URL url = getClass().getResource(&quot;/path/to/readOnlyResource.txt&quot;);\r\n\r\nHow you do this, will depend on your build system","title":"Get current path of executed file","body":"<p>This is not a unique issue to Java, it's a problem faced by any developer of any language wishing to write data locally to the disk.  The are many parts to this problem.</p>\n<p>If you want to be able to write to the file (and presumably, read the changes), then you need to devise a solution which allows you find the file in a platform independent way.</p>\n<h1>Some of the issues</h1>\n<h3>The installation location of the program</h3>\n<p>While most OS's do have some conventions governing this, this doesn't mean they are always used, for what ever reason.</p>\n<p>Also, on some OS's, you are actively restricted from writing to the &quot;installation&quot; location.  Windows 8+ doesn't allow you to write to the &quot;Program Files&quot; directory, and in Java, this usually (or at least when I was dealing with it) fails silently.</p>\n<p>On MacOS, if you're using a &quot;app bundle&quot;, the working directory is automatically set to the user's home directory, making it even more difficult to manage</p>\n<h3>The execution context (or working directory) may be different from the installation location of the program</h3>\n<p>A program can be installed in one location, but executed from a different location, this will change the working directory location.  Many command line tools suffer from this issue and use different conventions to work around it (ever wonder what the <code>JAVA_HOME</code> environment variable is for )</p>\n<h3>Restricted disk access</h3>\n<p>Many OS's are now actively locking down the locations to which programs can write, even with admin privileges.</p>\n<h1>A reusable solution...</h1>\n<p>Most OS's have come up with conventions for solving this issue, not just for Java, but for all developers wishing to work on the platform.</p>\n<p><strong>Important</strong> Like all guide lines, these are not hard and fast rules, but a recommendations made by the platform authors, which are intended to make your life simpler and make the operation of the platform safer</p>\n<p>The most common solution is to simply place the file in a &quot;well known location&quot; on the disk, which can be accessed through an absolute path independently of the installation or execution location of the program.</p>\n<p>On Windows, this means placing the file in either <code>~\\AppData\\Local\\{application name}</code> or <code>~\\AppData\\Roaming\\{application name}</code></p>\n<p>On MacOS, this means placing the file in <code>~/Library/Application Data/{application name}</code></p>\n<p>On *nix, this typically means placing the file in <code>~/.{application name}</code></p>\n<p>It could be argued that you could use <code>~/.{application name}</code> on all three platforms, but as a user who &quot;shows hidden files&quot;, I'd prefer you didn't pollute my home directory.</p>\n<h1>A possible, reusable, solution...</h1>\n<p>When Windows 8 came out, I hit the &quot;you can't write to the <code>Program Files</code>&quot; issue, which took some time to diagnose, as it didn't generate an exception, it just failed.</p>\n<p>I was also working a lot more on Mac OS as well, so I needed a simple, cross platform solution, so my code could automatically adapt without the need for multiple branches per platform.</p>\n<p>To this end, I came with a simple utility class...</p>\n<pre><code>public enum SystemUtilities {\n    \n    INSTANCE;\n\n    public boolean isMacOS() {\n        return getOSName().startsWith(&quot;Mac&quot;);\n    }\n\n    public boolean isMacOSX() {\n        return getOSName().startsWith(&quot;Mac OS X&quot;);\n    }\n\n    public boolean isWindowsOS() {\n        return getOSName().startsWith(&quot;Windows&quot;);\n    }\n    \n    public boolean isLinux() {\n        return getOSName().startsWith(&quot;Linux&quot;);\n    }\n\n    public String getOSName() {\n        return System.getProperty(&quot;os.name&quot;);\n    }\n\n    public File getRoamingApplicationSupportPath() {\n        // For *inx, use '~/.{AppName}'\n        String path = System.getProperty(&quot;user.home&quot;);\n        if (isWindowsOS()) {\n            path += &quot;\\\\AppData\\\\Roaming&quot;;\n        } else if (isMacOS()) {\n            path += &quot;/Library/Application Support&quot;;\n        }\n        return new File(path);\n    }\n\n    public File getLocalApplicationSupportPath() {\n        // For *inx, use '~/.{AppName}'\n        String path = System.getProperty(&quot;user.home&quot;);\n        if (isWindowsOS()) {\n            path += &quot;\\\\AppData\\\\Local&quot;;\n        } else if (isMacOS()) {\n            path += &quot;/Library/Application Support&quot;;\n        }\n        return new File(path);\n    }\n\n}\n</code></pre>\n<p>This provides a baseline from which &quot;independent&quot; code can be built, for example, you could use something like...</p>\n<pre><code>File appDataDir = new File(SystemUtilities.INSTANCE.getLocalApplicationSupportPath(), &quot;MyAwesomeApp&quot;);\nif (appDataDir.exists() || appDataDir.mkdirs()) {\n    File fileToWrite = new File(appDataDir, &quot;Books.txt&quot;);\n    //...\n}\n</code></pre>\n<p>to read/write to the file.  Although, personally, I might have manager/factory do this work and return the reference to the end <code>File</code>, but that's me.</p>\n<h1>What about &quot;pre-packaged&quot; files?</h1>\n<p>Three possible solutions...</p>\n<ol>\n<li>Create the file(s) if they don't exist, populating them with default values as required</li>\n<li>Copy &quot;template&quot; file(s) out of the Jar file, if they don't exist</li>\n<li>Use an installer to install the files - this is the solution we used when we were faced with changing the location of all our &quot;external&quot; configuration files.</li>\n</ol>\n<h1>Read only files...</h1>\n<p>For read only files, the simplest solution is to embedded them within the Jar as &quot;embedded resources&quot;, this makes it easier to locate and manage...</p>\n<pre><code>URL url = getClass().getResource(&quot;/path/to/readOnlyResource.txt&quot;);\n</code></pre>\n<p>How you do this, will depend on your build system</p>\n"}],"owner":{"account_id":1067937,"reputation":13238,"user_id":1067943,"accept_rate":65,"display_name":"Michael"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":889,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1673495045,"creation_date":1546126828,"question_id":53974191,"body_markdown":"I try to write and read to the file in my java project file called Books.txt.\r\nThe problem is that I can access the file only if partialPath has full path to the file.\r\n\r\nHere is the code:\r\n\r\n\r\n    public &lt;T&gt; List&lt;T&gt; readFromFile(String fileName) {\r\n\t\t\r\n\t\tprivate String partialPath = &quot;\\\\HW3\\\\src\\\\java\\\\repos\\\\&quot;;\r\n\t \r\n        try {\r\n            String path = partialPath + fileName;\r\n            FileInputStream fi = new FileInputStream(path);\r\n            ObjectInputStream oi = new ObjectInputStream(fi);\r\n            // Read objects\r\n            List&lt;T&gt; items = (List&lt;T&gt;) oi.readObject();\r\n            oi.close();\r\n            fi.close();\r\n\r\n            return items;\r\n        } catch (IOException | ClassNotFoundException e) {\r\n\r\n        }\r\n      }\r\n\r\nIf I set relative path as above I get exception file not found.\r\n\r\nMy question is how can I set full path to the current directory programmatically?\r\n\r\n\t  \r\n\t  ","title":"Get current path of executed file","body":"<p>I try to write and read to the file in my java project file called Books.txt.\nThe problem is that I can access the file only if partialPath has full path to the file.</p>\n\n<p>Here is the code:</p>\n\n<pre><code>public &lt;T&gt; List&lt;T&gt; readFromFile(String fileName) {\n\n    private String partialPath = \"\\\\HW3\\\\src\\\\java\\\\repos\\\\\";\n\n    try {\n        String path = partialPath + fileName;\n        FileInputStream fi = new FileInputStream(path);\n        ObjectInputStream oi = new ObjectInputStream(fi);\n        // Read objects\n        List&lt;T&gt; items = (List&lt;T&gt;) oi.readObject();\n        oi.close();\n        fi.close();\n\n        return items;\n    } catch (IOException | ClassNotFoundException e) {\n\n    }\n  }\n</code></pre>\n\n<p>If I set relative path as above I get exception file not found.</p>\n\n<p>My question is how can I set full path to the current directory programmatically?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1542775096,"post_id":53405312,"comment_id":93685607,"body_markdown":"Put the file into the `src/main/Resources` folder and have that put into your jar - have a look at the link I provided","body":"Put the file into the <code>src&#47;main&#47;Resources</code> folder and have that put into your jar - have a look at the link I provided"},{"owner":{"account_id":6530445,"reputation":1987,"user_id":5051731,"display_name":"YetAnotherBot"},"score":0,"creation_date":1542775148,"post_id":53405312,"comment_id":93685620,"body_markdown":"You should use relative path for dependency files. e.g. `/resources/db.properties`. In this case resources folder should be parallel to the current working directory.","body":"You should use relative path for dependency files. e.g. <code>&#47;resources&#47;db.properties</code>. In this case resources folder should be parallel to the current working directory."},{"owner":{"account_id":14739596,"reputation":1972,"user_id":10644550,"display_name":"Shiva"},"score":0,"creation_date":1542775362,"post_id":53405312,"comment_id":93685677,"body_markdown":"possible duplicate of https://stackoverflow.com/questions/3457918/how-a-jar-file-can-read-an-external-properties-file","body":"possible duplicate of <a href=\"https://stackoverflow.com/questions/3457918/how-a-jar-file-can-read-an-external-properties-file\" title=\"how a jar file can read an external properties file\">stackoverflow.com/questions/3457918/&hellip;</a>"},{"owner":{"account_id":14546090,"reputation":1702,"user_id":10506301,"display_name":"Daredevil"},"score":0,"creation_date":1542776095,"post_id":53405312,"comment_id":93685870,"body_markdown":"@ScaryWombat So I have to include the folder along with that file in the folder that contains the jar file, is that correct?","body":"@ScaryWombat So I have to include the folder along with that file in the folder that contains the jar file, is that correct?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1542776150,"post_id":53405312,"comment_id":93685885,"body_markdown":"If you want to be able to edit the file, then you need to store it on disk (externally).  In this it&#39;s best to store it in a &quot;well known&quot; location. On windows that might be something like `System.getProperty(&quot;user.dir&quot;) + File.seperator + &quot;AppData/{Appname}/{foldername}/{file}&quot;`. The reason for doing something like this is because the working directory may not be the same location where the jar/files are installed","body":"If you want to be able to edit the file, then you need to store it on disk (externally).  In this it&#39;s best to store it in a &quot;well known&quot; location. On windows that might be something like <code>System.getProperty(&quot;user.dir&quot;) + File.seperator + &quot;AppData&#47;{Appname}&#47;{foldername}&#47;{file}&quot;</code>. The reason for doing something like this is because the working directory may not be the same location where the jar/files are installed"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1542776271,"post_id":53405312,"comment_id":93685909,"body_markdown":"*&quot;I will place the properties file in the same folder so user can easily edit the properties file&quot;* - Makes this NOT a duplicate as the OP has a requirement for the file to be editable, which an embedded resource can not be","body":"<i>&quot;I will place the properties file in the same folder so user can easily edit the properties file&quot;</i> - Makes this NOT a duplicate as the OP has a requirement for the file to be editable, which an embedded resource can not be"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1542776326,"post_id":53405312,"comment_id":93685918,"body_markdown":"@MadProgrammer Agreed, not a dupe","body":"@MadProgrammer Agreed, not a dupe"},{"owner":{"account_id":14546090,"reputation":1702,"user_id":10506301,"display_name":"Daredevil"},"score":0,"creation_date":1542776572,"post_id":53405312,"comment_id":93685985,"body_markdown":"I hope I was clear with what I am trying to achieve. Basically , the properties file just contain connection properties to a db. It should be editable by ANYONE and when they make the changes, they can run the jar file and it reflects on the changes. Where the user save or store the jar file does not matter because it&#39;s dynamic. That&#39;s my dilemma","body":"I hope I was clear with what I am trying to achieve. Basically , the properties file just contain connection properties to a db. It should be editable by ANYONE and when they make the changes, they can run the jar file and it reflects on the changes. Where the user save or store the jar file does not matter because it&#39;s dynamic. That&#39;s my dilemma"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1542776672,"post_id":53405312,"comment_id":93686014,"body_markdown":"@Daredevil If you prefer the user has the ability to specify the location of the file, then you need to provide a means by which they can select it, either via the command line or via a file browser","body":"@Daredevil If you prefer the user has the ability to specify the location of the file, then you need to provide a means by which they can select it, either via the command line or via a file browser"},{"owner":{"account_id":14546090,"reputation":1702,"user_id":10506301,"display_name":"Daredevil"},"score":0,"creation_date":1542776807,"post_id":53405312,"comment_id":93686052,"body_markdown":"@MadProgrammer What do you mean by select? I assume they run in command prompt","body":"@MadProgrammer What do you mean by select? I assume they run in command prompt"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1542779808,"post_id":53405312,"comment_id":93686847,"body_markdown":"@Daredevil The can pass in location/file name as a command line argument to your app","body":"@Daredevil The can pass in location/file name as a command line argument to your app"}],"answers":[{"comments":[{"owner":{"account_id":14546090,"reputation":1702,"user_id":10506301,"display_name":"Daredevil"},"score":0,"creation_date":1542776706,"post_id":53405540,"comment_id":93686026,"body_markdown":"Thanks for the reply, so if you store the file in a common location, wouldn&#39;t that be a problem because a user might want to store the jar file along with the properties file ,say in his own folder. And he just wants to amend the properties file and run the jar file so it reflects on the changes.?","body":"Thanks for the reply, so if you store the file in a common location, wouldn&#39;t that be a problem because a user might want to store the jar file along with the properties file ,say in his own folder. And he just wants to amend the properties file and run the jar file so it reflects on the changes.?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1542779732,"post_id":53405540,"comment_id":93686823,"body_markdown":"Thats kind of the point - the jar and properties file are independent of each other, so the location in which the jar is installed, which can be different from where its run dont effect your ability to find the file. The other solution is to allow the user to specify the file then selves, perhaps passing it as a command line argument","body":"Thats kind of the point - the jar and properties file are independent of each other, so the location in which the jar is installed, which can be different from where its run dont effect your ability to find the file. The other solution is to allow the user to specify the file then selves, perhaps passing it as a command line argument"},{"owner":{"account_id":14546090,"reputation":1702,"user_id":10506301,"display_name":"Daredevil"},"score":0,"creation_date":1542780230,"post_id":53405540,"comment_id":93686996,"body_markdown":"What about this, the jar file and properties file should be in the same FOLDER. Then user can decide where they want to store/keep the folder, which is the best solution to this?","body":"What about this, the jar file and properties file should be in the same FOLDER. Then user can decide where they want to store/keep the folder, which is the best solution to this?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1542781064,"post_id":53405540,"comment_id":93687305,"body_markdown":"Doesn&#39;t matter, you still run the risk of the &quot;working directory&quot; been different from the &quot;installation directory&quot;, which is &quot;why&quot; the above solution was developed - this is not just a Java issue, but affects all programs","body":"Doesn&#39;t matter, you still run the risk of the &quot;working directory&quot; been different from the &quot;installation directory&quot;, which is &quot;why&quot; the above solution was developed - this is not just a Java issue, but affects all programs"},{"owner":{"account_id":14546090,"reputation":1702,"user_id":10506301,"display_name":"Daredevil"},"score":0,"creation_date":1542781300,"post_id":53405540,"comment_id":93687384,"body_markdown":"So keep the file properties in a different location than the jar file , is that right?","body":"So keep the file properties in a different location than the jar file , is that right?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1542781386,"post_id":53405540,"comment_id":93687418,"body_markdown":"Essentially, keep it in a &quot;well known&quot; location, which you are guaranteed to have access to, such as the users home directory","body":"Essentially, keep it in a &quot;well known&quot; location, which you are guaranteed to have access to, such as the users home directory"},{"owner":{"account_id":14546090,"reputation":1702,"user_id":10506301,"display_name":"Daredevil"},"score":0,"creation_date":1542781597,"post_id":53405540,"comment_id":93687490,"body_markdown":"So when I send the jar file and properties file to someone else, I need to inform that someone to keep the properties file in the fixed location, and nowhere else? As for the jar file, he can save it anywhere he wants?","body":"So when I send the jar file and properties file to someone else, I need to inform that someone to keep the properties file in the fixed location, and nowhere else? As for the jar file, he can save it anywhere he wants?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1542782776,"post_id":53405540,"comment_id":93687952,"body_markdown":"@Daredevil Yes and no. You could do it that way and/or you could allow them to specify the location of the file via the commandline","body":"@Daredevil Yes and no. You could do it that way and/or you could allow them to specify the location of the file via the commandline"}],"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":8,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673494882,"creation_date":1542776526,"answer_id":53405540,"question_id":53405312,"body_markdown":"&gt; I will place the properties file in the same folder so user can easily edit the properties file and change the connection settings to their liking\r\n\r\nThe problem you&#39;re facing comes down to the fact that the working directory, where the application is run, may not be the same as the location the application and its files are stored.  You can not rely on the location been fixed.\r\n\r\nInstead, you should adopt the conventions of the platform and store the files in a &quot;common&quot; location (which is fixed).\r\n\r\nOn windows that might be ...\r\n\r\n    System.getProperty(&quot;user.dir&quot;) + &quot;/AppData/{App name}/{folder name}/{file}&quot;\r\n\r\nOn MacOS that might be ...\r\n\r\n    System.getProperty(&quot;user.dir&quot;) + &quot;/Library/Application Support/{App name}/{folder name}/{file}&quot;\r\n\r\nOn Linux that might be ...\r\n\r\n    System.getProperty(&quot;user.dir&quot;) + &quot;.{Appname}/{folder name}/file&quot;\r\n\r\n&gt; What about this, the jar file and properties file should be in the same FOLDER. Then user can decide where they want to store/keep the folder, which is the best solution to this? \r\n\r\nDoesn&#39;t matter, you still run the risk of the &quot;working directory&quot; been different from the &quot;installation directory&quot;, which is &quot;why&quot; the above solution was developed - this is not just a Java issue, but affects all programs \r\n\r\nYou may also run into issues with OS privileges ... looking at you Windows &#128544;\r\n\r\n&quot;Another&quot; solution is allowing the user to pass in the file/location via the command line, allowing them to run the Jar from anywhere, while allowing them to specify the location of the properties file they want to use ... meaning they could have more then one based on there needs\r\n","title":"java- reading the properties file outside of jar file","body":"<blockquote>\n<p>I will place the properties file in the same folder so user can easily edit the properties file and change the connection settings to their liking</p>\n</blockquote>\n<p>The problem you're facing comes down to the fact that the working directory, where the application is run, may not be the same as the location the application and its files are stored.  You can not rely on the location been fixed.</p>\n<p>Instead, you should adopt the conventions of the platform and store the files in a &quot;common&quot; location (which is fixed).</p>\n<p>On windows that might be ...</p>\n<pre><code>System.getProperty(&quot;user.dir&quot;) + &quot;/AppData/{App name}/{folder name}/{file}&quot;\n</code></pre>\n<p>On MacOS that might be ...</p>\n<pre><code>System.getProperty(&quot;user.dir&quot;) + &quot;/Library/Application Support/{App name}/{folder name}/{file}&quot;\n</code></pre>\n<p>On Linux that might be ...</p>\n<pre><code>System.getProperty(&quot;user.dir&quot;) + &quot;.{Appname}/{folder name}/file&quot;\n</code></pre>\n<blockquote>\n<p>What about this, the jar file and properties file should be in the same FOLDER. Then user can decide where they want to store/keep the folder, which is the best solution to this?</p>\n</blockquote>\n<p>Doesn't matter, you still run the risk of the &quot;working directory&quot; been different from the &quot;installation directory&quot;, which is &quot;why&quot; the above solution was developed - this is not just a Java issue, but affects all programs</p>\n<p>You may also run into issues with OS privileges ... looking at you Windows </p>\n<p>&quot;Another&quot; solution is allowing the user to pass in the file/location via the command line, allowing them to run the Jar from anywhere, while allowing them to specify the location of the properties file they want to use ... meaning they could have more then one based on there needs</p>\n"}],"owner":{"account_id":14546090,"reputation":1702,"user_id":10506301,"display_name":"Daredevil"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":999,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673494882,"creation_date":1542774842,"question_id":53405312,"body_markdown":"I have a simple Java program that connects to a database. The connection is configured in `db.properties` file. My program works fine. \r\n\r\nWhen I want to compile it into a executable jar file, I will place the properties file in the same folder so user can easily edit the properties file and change the connection settings to their liking. The slight problem here is my `dbpath` where I have to specify the exact directory to read the properties file. \r\n\r\nI was wondering if I can save it in the same folder and set the path to current directory so no matter where the user save the folder, it will always be able to read the db properties without hardcoding the path.\r\n\r\nCode:\r\n\r\n     Properties props=new Properties();\r\n                    String dbpath = &quot;C:\\\\Users\\\\nickywan123\\\\Documents\\\\db.properties&quot;;\r\n                    FileInputStream in = new FileInputStream(dbpath);\r\n        \r\n                 props.load(in);\r\n                 in.close();\r\n        \r\n                 String driver = props.getProperty(&quot;jdbc.driver&quot;);\r\n                 if(driver!=null){\r\n                  Class.forName(driver);\r\n        \r\n                    }\r\n        \r\n                    String url=props.getProperty(&quot;jdbc.url&quot;);\r\n                    String username=props.getProperty(&quot;jdbc.username&quot;);\r\n                    String password=props.getProperty(&quot;jdbc.password&quot;);\r\n        \r\n                    Connection con = DriverManager.getConnection(url,username,password);\r\n\r\n\r\nI&#39;ve tried different solutions to get location of jar file such as https://stackoverflow.com/questions/15359702/get-location-of-jar-file \r\nbut it doesn&#39;t return the location I want to be able to read it.\r\n\r\n\r\nI appreciate any suggestion\r\n","title":"java- reading the properties file outside of jar file","body":"<p>I have a simple Java program that connects to a database. The connection is configured in <code>db.properties</code> file. My program works fine. </p>\n\n<p>When I want to compile it into a executable jar file, I will place the properties file in the same folder so user can easily edit the properties file and change the connection settings to their liking. The slight problem here is my <code>dbpath</code> where I have to specify the exact directory to read the properties file. </p>\n\n<p>I was wondering if I can save it in the same folder and set the path to current directory so no matter where the user save the folder, it will always be able to read the db properties without hardcoding the path.</p>\n\n<p>Code:</p>\n\n<pre><code> Properties props=new Properties();\n                String dbpath = \"C:\\\\Users\\\\nickywan123\\\\Documents\\\\db.properties\";\n                FileInputStream in = new FileInputStream(dbpath);\n\n             props.load(in);\n             in.close();\n\n             String driver = props.getProperty(\"jdbc.driver\");\n             if(driver!=null){\n              Class.forName(driver);\n\n                }\n\n                String url=props.getProperty(\"jdbc.url\");\n                String username=props.getProperty(\"jdbc.username\");\n                String password=props.getProperty(\"jdbc.password\");\n\n                Connection con = DriverManager.getConnection(url,username,password);\n</code></pre>\n\n<p>I've tried different solutions to get location of jar file such as <a href=\"https://stackoverflow.com/questions/15359702/get-location-of-jar-file\">Get location of JAR file</a> \nbut it doesn't return the location I want to be able to read it.</p>\n\n<p>I appreciate any suggestion</p>\n"},{"tags":["java","multithreading","concurrency","thread-safety","atomic"],"comments":[{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":1,"creation_date":1673495104,"post_id":75091319,"comment_id":132513583,"body_markdown":"Yeah, it&#39;s nonsense.  It&#39;s a nonsensical way to use AtomicInteger, and it&#39;s a nonsensical way to use compareAndSet.","body":"Yeah, it&#39;s nonsense.  It&#39;s a nonsensical way to use AtomicInteger, and it&#39;s a nonsensical way to use compareAndSet."},{"owner":{"account_id":6749614,"reputation":654,"user_id":5200064,"accept_rate":80,"display_name":"lmk"},"score":0,"creation_date":1673496042,"post_id":75091319,"comment_id":132513691,"body_markdown":"OK thanks, I had submitted an [issue](https://github.com/eugenp/tutorials/issues/13281) earlier on GIT","body":"OK thanks, I had submitted an <a href=\"https://github.com/eugenp/tutorials/issues/13281\" rel=\"nofollow noreferrer\">issue</a> earlier on GIT"},{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":1,"creation_date":1673500344,"post_id":75091319,"comment_id":132514343,"body_markdown":"The interesting thing about a CAS retry loop like that is that you can synthesize any atomic RMW you want (on a single variable), including multiply, clear lowest set bit, or whatever.  For cases like increment or add, yes, you should *definitely* use the standard functions instead of rolling your own; some ISAs (notably x86-64 and ARMv8.1) can do atomic increment or add in a single instruction, with hardware arbitration for access to the cache line so they never fail to get any work done after getting ownership of a cache line.","body":"The interesting thing about a CAS retry loop like that is that you can synthesize any atomic RMW you want (on a single variable), including multiply, clear lowest set bit, or whatever.  For cases like increment or add, yes, you should <i>definitely</i> use the standard functions instead of rolling your own; some ISAs (notably x86-64 and ARMv8.1) can do atomic increment or add in a single instruction, with hardware arbitration for access to the cache line so they never fail to get any work done after getting ownership of a cache line."},{"owner":{"account_id":6749614,"reputation":654,"user_id":5200064,"accept_rate":80,"display_name":"lmk"},"score":0,"creation_date":1673500765,"post_id":75091319,"comment_id":132514424,"body_markdown":"@PeterCordes thank you. Yes, I see the value in doing this CAS externally for other things like the multiply, etc. that you note, but not for counter, its misleading for a viewer of that tutorial who doesn&#39;t look at the source code of AtomicInteger to think an external CAS is needed.","body":"@PeterCordes thank you. Yes, I see the value in doing this CAS externally for other things like the multiply, etc. that you note, but not for counter, its misleading for a viewer of that tutorial who doesn&#39;t look at the source code of AtomicInteger to think an external CAS is needed."},{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":1,"creation_date":1673501940,"post_id":75091319,"comment_id":132514645,"body_markdown":"Yeah, that tutorial is pretty bad; it implies the only RMW operation available is CAS.  It vaguely hints at one point that there are operations other than CAS, and it links the class, but that&#39;s its only example of an atomic RMW.","body":"Yeah, that tutorial is pretty bad; it implies the only RMW operation available is CAS.  It vaguely hints at one point that there are operations other than CAS, and it links the class, but that&#39;s its only example of an atomic RMW."},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":1,"creation_date":1673502499,"post_id":75091319,"comment_id":132514744,"body_markdown":"PS: the code of many of the methods in the Atomic classes isn&#39;t the same as what is being executed. Many of these methods are intrensified. The CAS loop for e.g. an increment is replaced by the appropriate atomic instruction like &#39;lock add&#39; on the X86.","body":"PS: the code of many of the methods in the Atomic classes isn&#39;t the same as what is being executed. Many of these methods are intrensified. The CAS loop for e.g. an increment is replaced by the appropriate atomic instruction like &#39;lock add&#39; on the X86."},{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":0,"creation_date":1673528551,"post_id":75091319,"comment_id":132522560,"body_markdown":"@pveentjer I can&#39;t figure out what you mean by &#39;intrensified&#39; - something lost in translation?  (No criticism intended).  Inlined?  Some verb formation meaning &#39;replaced by  intrinsic operations&#39;?","body":"@pveentjer I can&#39;t figure out what you mean by &#39;intrensified&#39; - something lost in translation?  (No criticism intended).  Inlined?  Some verb formation meaning &#39;replaced by  intrinsic operations&#39;?"},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":1,"creation_date":1673537305,"post_id":75091319,"comment_id":132525995,"body_markdown":"Intrensified means that a piece of code is being replaced by a different piece of code (often a lot faster). If you look at the AtomicInteger.getAndAddInt you can see a cas-loop. But you can also see the @IntrensicCandidate annotation above which indicates that this code is intrensified and in this case it could be intrensified on the X86 to a &#39;lock add&#39; that doesn&#39;t need a loop. For more info see https://www.baeldung.com/jvm-intrinsics","body":"Intrensified means that a piece of code is being replaced by a different piece of code (often a lot faster). If you look at the AtomicInteger.getAndAddInt you can see a cas-loop. But you can also see the @IntrensicCandidate annotation above which indicates that this code is intrensified and in this case it could be intrensified on the X86 to a &#39;lock add&#39; that doesn&#39;t need a loop. For more info see <a href=\"https://www.baeldung.com/jvm-intrinsics\" rel=\"nofollow noreferrer\">baeldung.com/jvm-intrinsics</a>"}],"owner":{"account_id":6749614,"reputation":654,"user_id":5200064,"accept_rate":80,"display_name":"lmk"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673494688,"creation_date":1673494688,"question_id":75091319,"body_markdown":"Looking at the Java 11 source code for [AtomicInteger][1] &amp; [Unsafe][2], I concluded that if one only wants a thread safe *unconditional* increment/decrement counter (just atomically incremented/decremented unconditionally from multiple threads) one can just use the [AtomicInteger&#39;s][1] unconditional increment/decrement methods (like `AtomicInteger#incrementAndGet()` or `AtomicInteger#decrementAndGet()` or the related variants) out of the box to achieve that.\r\n\r\nThis since they already ensure that the call to the increment/decrement methods always increases/decreases the value by 1 atomically even when invoked from multiple threads without any race condition issues (`getAndAddInt` code in [Unsafe][2] clearly retries `weakCompareAndSetInt()` until it succeeds for an increment by 1).\r\n\r\nIf this is the case, isn&#39;t the below statement incorrect/needless in [this Baeldung post on atomic variables][3]? Why does one need to code this `increment()` method for it to be a thread safe counter, why can&#39;t one just use the methods I noted above?\r\n\r\nOr am I missing or misunderstanding something?\r\n\r\n    A thread-safe counter implemented with AtomicInteger is shown in the example below:\r\n    \r\n    public class SafeCounterWithoutLock {\r\n        private final AtomicInteger counter = new AtomicInteger(0);\r\n        \r\n        public int getValue() {\r\n            return counter.get();\r\n        }\r\n        public void increment() {\r\n            while(true) {\r\n                int existingValue = getValue();\r\n                int newValue = existingValue + 1;\r\n                if(counter.compareAndSet(existingValue, newValue)) {\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nThanks\r\n\r\n\r\n  [1]: https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/19fb8f93c59dfd791f62d41f332db9e306bc1422/src/java.base/share/classes/java/util/concurrent/atomic/AtomicInteger.java#L215\r\n  [2]: https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/19fb8f93c59dfd791f62d41f332db9e306bc1422/src/java.base/share/classes/jdk/internal/misc/Unsafe.java#L2334\r\n  [3]: https://www.baeldung.com/java-atomic-variables","title":"AtomicInteger : Thread safe unconditional increment/decrement counter (atomically incremented/decremented from multiple threads)","body":"<p>Looking at the Java 11 source code for <a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/19fb8f93c59dfd791f62d41f332db9e306bc1422/src/java.base/share/classes/java/util/concurrent/atomic/AtomicInteger.java#L215\" rel=\"nofollow noreferrer\">AtomicInteger</a> &amp; <a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/19fb8f93c59dfd791f62d41f332db9e306bc1422/src/java.base/share/classes/jdk/internal/misc/Unsafe.java#L2334\" rel=\"nofollow noreferrer\">Unsafe</a>, I concluded that if one only wants a thread safe <em>unconditional</em> increment/decrement counter (just atomically incremented/decremented unconditionally from multiple threads) one can just use the <a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/19fb8f93c59dfd791f62d41f332db9e306bc1422/src/java.base/share/classes/java/util/concurrent/atomic/AtomicInteger.java#L215\" rel=\"nofollow noreferrer\">AtomicInteger's</a> unconditional increment/decrement methods (like <code>AtomicInteger#incrementAndGet()</code> or <code>AtomicInteger#decrementAndGet()</code> or the related variants) out of the box to achieve that.</p>\n<p>This since they already ensure that the call to the increment/decrement methods always increases/decreases the value by 1 atomically even when invoked from multiple threads without any race condition issues (<code>getAndAddInt</code> code in <a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/19fb8f93c59dfd791f62d41f332db9e306bc1422/src/java.base/share/classes/jdk/internal/misc/Unsafe.java#L2334\" rel=\"nofollow noreferrer\">Unsafe</a> clearly retries <code>weakCompareAndSetInt()</code> until it succeeds for an increment by 1).</p>\n<p>If this is the case, isn't the below statement incorrect/needless in <a href=\"https://www.baeldung.com/java-atomic-variables\" rel=\"nofollow noreferrer\">this Baeldung post on atomic variables</a>? Why does one need to code this <code>increment()</code> method for it to be a thread safe counter, why can't one just use the methods I noted above?</p>\n<p>Or am I missing or misunderstanding something?</p>\n<pre><code>A thread-safe counter implemented with AtomicInteger is shown in the example below:\n\npublic class SafeCounterWithoutLock {\n    private final AtomicInteger counter = new AtomicInteger(0);\n    \n    public int getValue() {\n        return counter.get();\n    }\n    public void increment() {\n        while(true) {\n            int existingValue = getValue();\n            int newValue = existingValue + 1;\n            if(counter.compareAndSet(existingValue, newValue)) {\n                return;\n            }\n        }\n    }\n}\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["java","mysql","spring","deadlock"],"comments":[{"owner":{"account_id":7035840,"reputation":33810,"user_id":5389997,"display_name":"Shadow"},"score":0,"creation_date":1672297987,"post_id":74947021,"comment_id":132260773,"body_markdown":"Unfortunately, we cannot tell you out of thin air what other sql statement could possibly have caused the deadlock.","body":"Unfortunately, we cannot tell you out of thin air what other sql statement could possibly have caused the deadlock."},{"owner":{"account_id":25832039,"reputation":11,"user_id":19569041,"display_name":"creatinemuscle"},"score":0,"creation_date":1672299249,"post_id":74947021,"comment_id":132260982,"body_markdown":"is there anyway to track what query have been run throughout whole transaction?\nI have running out of idea :(","body":"is there anyway to track what query have been run throughout whole transaction? I have running out of idea :("},{"owner":{"account_id":8304657,"reputation":10791,"user_id":6248528,"display_name":"Solarflare"},"score":1,"creation_date":1672307957,"post_id":74947021,"comment_id":132263160,"body_markdown":"You have a general query log, which is more than most have (the only better thing would be the binary log, which you may have if they set up replication), and a time. Just look at what happened before that time with someone related to that id.","body":"You have a general query log, which is more than most have (the only better thing would be the binary log, which you may have if they set up replication), and a time. Just look at what happened before that time with someone related to that id."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1672315607,"post_id":74947021,"comment_id":132265296,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":25832039,"reputation":11,"user_id":19569041,"display_name":"creatinemuscle"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673494624,"creation_date":1673494624,"answer_id":75091313,"question_id":74947021,"body_markdown":"There is some scenario mySQL will issues Share lock\r\n\r\nit&#39;s same with this scenario that happened in our code. (refer to below)\r\n\r\ntransaction 1 insert into table B which have foreign key reference to table A -(at this time S lock granted to the table A index)\r\n\r\ntransaction 2 update table A same key - BLOCK, because S lock holding in \r\ntransaction 1\r\n\r\ntransaction 1 itself update table A same key - deadlock\r\ndeadlock occurred here\r\n\r\nSolution:\r\n1) set null to the foreign key entity object that reference to that table before call hibernate save\r\n2) perform hibernate.save method, after it return back the entity , immediately set back the foreign key object. so it won&#39;t affect our code flow\r\n3) when transaction is commit, persist object will issues update statement for the updated foreign key object.\r\n\r\nI tested in prod env and all deadlock are resolve now.","title":"MySQL Deadlock issues, 2 transaction updating the same row","body":"<p>There is some scenario mySQL will issues Share lock</p>\n<p>it's same with this scenario that happened in our code. (refer to below)</p>\n<p>transaction 1 insert into table B which have foreign key reference to table A -(at this time S lock granted to the table A index)</p>\n<p>transaction 2 update table A same key - BLOCK, because S lock holding in\ntransaction 1</p>\n<p>transaction 1 itself update table A same key - deadlock\ndeadlock occurred here</p>\n<p>Solution:</p>\n<ol>\n<li>set null to the foreign key entity object that reference to that table before call hibernate save</li>\n<li>perform hibernate.save method, after it return back the entity , immediately set back the foreign key object. so it won't affect our code flow</li>\n<li>when transaction is commit, persist object will issues update statement for the updated foreign key object.</li>\n</ol>\n<p>I tested in prod env and all deadlock are resolve now.</p>\n"}],"owner":{"account_id":25832039,"reputation":11,"user_id":19569041,"display_name":"creatinemuscle"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75091313,"answer_count":1,"score":-2,"last_activity_date":1673494624,"creation_date":1672285454,"question_id":74947021,"body_markdown":"&gt;   ------------------------\r\n    LATEST DETECTED DEADLOCK\r\n    ------------------------\r\n    2022-12-27 04:37:57 2bde9a202700\r\n    *** (1) TRANSACTION:\r\n    TRANSACTION 346768561314, ACTIVE 0 sec starting index read\r\n    mysql tables in use 1, locked 1\r\n    LOCK WAIT 11 lock struct(s), heap size 376, 5 row lock(s), undo log entries 1\r\n    MySQL thread id 457904353, OS thread handle 0x2bdb9ae41700, query id 427241339603 xxx.xx.xx.xx xxxx updating\r\n    update merchant_bank set balance=balance+200.00 where id=22267\r\n    *** (1) WAITING FOR THIS LOCK TO BE GRANTED:\r\n    RECORD LOCKS space id 1695 page no 602 n bits 44 index `PRIMARY` of table `xxxx`.`merchant_bank` trx id 346768561314 lock_mode X locks rec but not gap waiting\r\n    Record lock, heap no 44 PHYSICAL RECORD: n_fields 32; compact format; info bits 0\r\n     0: len=8; bufptr=0x2bb8785ee142; hex= 80000000000056fb; asc       V ;;\r\n     1: len=6; bufptr=0x2bb8785ee14a; hex= 0050bcf55ace; asc  P  Z ;;\r\n     2: len=7; bufptr=0x2bb8785ee150; hex= 1300bb24ca2dc5; asc    $ - ;;\r\n     3: len=20; bufptr=0x2bb8785ee157; hex= 5349414d20436f6d6d65726369616c2042616e6b; asc SIAM Commercial Bank;;\r\n     4: len=0; bufptr=0x2bb8785ee16b; hex= ; asc ;;\r\n     5: len=3; bufptr=0x2bb8785ee16b; hex= 544842; asc THB;;\r\n     6: len=10; bufptr=0x2bb8785ee16e; hex= 39343332353934383135; asc 9432594815;;\r\n     7: len=15; bufptr=0x2bb8785ee178; hex= 4d697373205061746368616e696461; asc Miss Patchanida;;\r\n     8: len=1; bufptr=0x2bb8785ee187; hex= 44; asc D;;\r\n     9: len=1; bufptr=0x2bb8785ee188; hex= 42; asc B;;\r\n     10: len=1; bufptr=0x2bb8785ee189; hex= 45; asc E;;\r\n     11: len=1; bufptr=0x2bb8785ee18a; hex= 41; asc A;;\r\n     12: len=5; bufptr=0x2bb8785ee18b; hex= 8000000000; asc      ;;\r\n     13: len=5; bufptr=0x2bb8785ee190; hex= 8000000000; asc      ;;\r\n     14: len=7; bufptr=0x2bb8785ee195; hex= 8000001683043b; asc       ;;;\r\n     15: len=5; bufptr=0x2bb8785ee19c; hex= 8000000000; asc      ;;\r\n     16: len=5; bufptr=0x2bb8785ee1a1; hex= 8000000000; asc      ;;\r\n     17: len=5; bufptr=0x2bb8785ee1a6; hex= 8000000000; asc      ;;\r\n     18: len=5; bufptr=0x2bb8785ee1ab; hex= 8000000000; asc      ;;\r\n     19: len=9; bufptr=0x2bb8785ee1b0; hex= 800000000000000000; asc          ;;\r\n     20: len=9; bufptr=0x2bb8785ee1b9; hex= 800000000000000000; asc          ;;\r\n     21: len=8; bufptr=0x2bb8785ee1c2; hex= 5343423030353934; asc SCB00594;;\r\n     22: len=1; bufptr=0x2bb8785ee1ca; hex= 01; asc  ;;\r\n     23: SQL NULL;\r\n     24: len=4; bufptr=0x2bb8785ee1cb; hex= 80000002; asc     ;;\r\n     25: len=4; bufptr=0x2bb8785ee1cf; hex= 80000001; asc     ;;\r\n     26: len=4; bufptr=0x2bb8785ee1d3; hex= 63928782; asc c   ;;\r\n     27: len=5; bufptr=0x2bb8785ee1d7; hex= 616368656e; asc achen;;\r\n     28: len=4; bufptr=0x2bb8785ee1dc; hex= 63a8ac41; asc c  A;;\r\n     29: len=5; bufptr=0x2bb8785ee1e0; hex= 616368656e; asc achen;;\r\n     30: len=8; bufptr=0x2bb8785ee1e5; hex= 80000000000101d3; asc         ;;\r\n     31: len=8; bufptr=0x2bb8785ee1ed; hex= 80000000000000a8; asc         ;;\r\n    \r\n    *** (2) TRANSACTION:\r\n    TRANSACTION 346768561263, ACTIVE 0 sec starting index read\r\n    mysql tables in use 1, locked 1\r\n    LOCK WAIT 11 lock struct(s), heap size 376, 5 row lock(s), undo log entries 1\r\n    MySQL thread id 457904551, OS thread handle 0x2bde96706700, query id 427241339521 xxx.xx.xx.xx xxxx updating\r\n    update merchant_bank set balance=balance+100.00 where id=22267\r\n    *** (2) HOLDS THE LOCK(S):\r\n    RECORD LOCKS space id 1695 page no 602 n bits 44 index `PRIMARY` of table `xxx`.`merchant_bank` trx id 346768561263 lock mode S locks rec but not gap\r\n    Record lock, heap no 44 PHYSICAL RECORD: n_fields 32; compact format; info bits 0\r\n     0: len=8; bufptr=0x2bb8785ee142; hex= 80000000000056fb; asc       V ;;\r\n     1: len=6; bufptr=0x2bb8785ee14a; hex= 0050bcf55ace; asc  P  Z ;;\r\n     2: len=7; bufptr=0x2bb8785ee150; hex= 1300bb24ca2dc5; asc    $ - ;;\r\n     3: len=20; bufptr=0x2bb8785ee157; hex= 5349414d20436f6d6d65726369616c2042616e6b; asc SIAM Commercial Bank;;\r\n     4: len=0; bufptr=0x2bb8785ee16b; hex= ; asc ;;\r\n     5: len=3; bufptr=0x2bb8785ee16b; hex= 544842; asc THB;;\r\n     6: len=10; bufptr=0x2bb8785ee16e; hex= 39343332353934383135; asc 9432594815;;\r\n     7: len=15; bufptr=0x2bb8785ee178; hex= 4d697373205061746368616e696461; asc Miss Patchanida;;\r\n     8: len=1; bufptr=0x2bb8785ee187; hex= 44; asc D;;\r\n     9: len=1; bufptr=0x2bb8785ee188; hex= 42; asc B;;\r\n     10: len=1; bufptr=0x2bb8785ee189; hex= 45; asc E;;\r\n     11: len=1; bufptr=0x2bb8785ee18a; hex= 41; asc A;;\r\n     12: len=5; bufptr=0x2bb8785ee18b; hex= 8000000000; asc      ;;\r\n     13: len=5; bufptr=0x2bb8785ee190; hex= 8000000000; asc      ;;\r\n     14: len=7; bufptr=0x2bb8785ee195; hex= 8000001683043b; asc       ;;;\r\n     15: len=5; bufptr=0x2bb8785ee19c; hex= 8000000000; asc      ;;\r\n     16: len=5; bufptr=0x2bb8785ee1a1; hex= 8000000000; asc      ;;\r\n     17: len=5; bufptr=0x2bb8785ee1a6; hex= 8000000000; asc      ;;\r\n     18: len=5; bufptr=0x2bb8785ee1ab; hex= 8000000000; asc      ;;\r\n     19: len=9; bufptr=0x2bb8785ee1b0; hex= 800000000000000000; asc          ;;\r\n     20: len=9; bufptr=0x2bb8785ee1b9; hex= 800000000000000000; asc          ;;\r\n     21: len=8; bufptr=0x2bb8785ee1c2; hex= 5343423030353934; asc SCB00594;;\r\n     22: len=1; bufptr=0x2bb8785ee1ca; hex= 01; asc  ;;\r\n     23: SQL NULL;\r\n     24: len=4; bufptr=0x2bb8785ee1cb; hex= 80000002; asc     ;;\r\n     25: len=4; bufptr=0x2bb8785ee1cf; hex= 80000001; asc     ;;\r\n     26: len=4; bufptr=0x2bb8785ee1d3; hex= 63928782; asc c   ;;\r\n     27: len=5; bufptr=0x2bb8785ee1d7; hex= 616368656e; asc achen;;\r\n     28: len=4; bufptr=0x2bb8785ee1dc; hex= 63a8ac41; asc c  A;;\r\n     29: len=5; bufptr=0x2bb8785ee1e0; hex= 616368656e; asc achen;;\r\n     30: len=8; bufptr=0x2bb8785ee1e5; hex= 80000000000101d3; asc         ;;\r\n     31: len=8; bufptr=0x2bb8785ee1ed; hex= 80000000000000a8; asc         ;;\r\n    \r\n    *** (2) WAITING FOR THIS LOCK TO BE GRANTED:\r\n    RECORD LOCKS space id 1695 page no 602 n bits 44 index `PRIMARY` of table `xxxx`.`merchant_bank` trx id 346768561263 lock_mode X locks rec but not gap waiting\r\n    Record lock, heap no 44 PHYSICAL RECORD: n_fields 32; compact format; info bits 0\r\n     0: len=8; bufptr=0x2bb8785ee142; hex= 80000000000056fb; asc       V ;;\r\n     1: len=6; bufptr=0x2bb8785ee14a; hex= 0050bcf55ace; asc  P  Z ;;\r\n     2: len=7; bufptr=0x2bb8785ee150; hex= 1300bb24ca2dc5; asc    $ - ;;\r\n     3: len=20; bufptr=0x2bb8785ee157; hex= 5349414d20436f6d6d65726369616c2042616e6b; asc SIAM Commercial Bank;;\r\n     4: len=0; bufptr=0x2bb8785ee16b; hex= ; asc ;;\r\n     5: len=3; bufptr=0x2bb8785ee16b; hex= 544842; asc THB;;\r\n     6: len=10; bufptr=0x2bb8785ee16e; hex= 39343332353934383135; asc 9432594815;;\r\n     7: len=15; bufptr=0x2bb8785ee178; hex= 4d697373205061746368616e696461; asc Miss Patchanida;;\r\n     8: len=1; bufptr=0x2bb8785ee187; hex= 44; asc D;;\r\n     9: len=1; bufptr=0x2bb8785ee188; hex= 42; asc B;;\r\n     10: len=1; bufptr=0x2bb8785ee189; hex= 45; asc E;;\r\n     11: len=1; bufptr=0x2bb8785ee18a; hex= 41; asc A;;\r\n     12: len=5; bufptr=0x2bb8785ee18b; hex= 8000000000; asc      ;;\r\n     13: len=5; bufptr=0x2bb8785ee190; hex= 8000000000; asc      ;;\r\n     14: len=7; bufptr=0x2bb8785ee195; hex= 8000001683043b; asc       ;;;\r\n     15: len=5; bufptr=0x2bb8785ee19c; hex= 8000000000; asc      ;;\r\n     16: len=5; bufptr=0x2bb8785ee1a1; hex= 8000000000; asc      ;;\r\n     17: len=5; bufptr=0x2bb8785ee1a6; hex= 8000000000; asc      ;;\r\n     18: len=5; bufptr=0x2bb8785ee1ab; hex= 8000000000; asc      ;;\r\n     19: len=9; bufptr=0x2bb8785ee1b0; hex= 800000000000000000; asc          ;;\r\n     20: len=9; bufptr=0x2bb8785ee1b9; hex= 800000000000000000; asc          ;;\r\n     21: len=8; bufptr=0x2bb8785ee1c2; hex= 5343423030353934; asc SCB00594;;\r\n     22: len=1; bufptr=0x2bb8785ee1ca; hex= 01; asc  ;;\r\n     23: SQL NULL;\r\n     24: len=4; bufptr=0x2bb8785ee1cb; hex= 80000002; asc     ;;\r\n     25: len=4; bufptr=0x2bb8785ee1cf; hex= 80000001; asc     ;;\r\n     26: len=4; bufptr=0x2bb8785ee1d3; hex= 63928782; asc c   ;;\r\n     27: len=5; bufptr=0x2bb8785ee1d7; hex= 616368656e; asc achen;;\r\n     28: len=4; bufptr=0x2bb8785ee1dc; hex= 63a8ac41; asc c  A;;\r\n     29: len=5; bufptr=0x2bb8785ee1e0; hex= 616368656e; asc achen;;\r\n     30: len=8; bufptr=0x2bb8785ee1e5; hex= 80000000000101d3; asc         ;;\r\n     31: len=8; bufptr=0x2bb8785ee1ed; hex= 80000000000000a8; asc         ;;\r\n    \r\n    ------------\r\n    TRANSACTIONS\r\n    ------------\r\n    Trx id counter 346768916240\r\n    Purge done for trx&#39;s n:o &lt; 346741158134 undo n:o &lt; 0 state: running\r\n    History list length 7075704\r\n\r\n\r\nDesc:\r\n\r\nMySQL 5.6\r\n\r\nDB isolation = RC\r\n\r\nupdate ... where id, id is primary key\r\n\r\nI can&#39;t figure where is the share lock append by transaction 2\r\n\r\nAlso it&#39;s weird in my deadlock log i cannot find &quot;*** WE ROLL BACK TRANSACTION (2)&quot;\r\n\r\n\r\nWhat i have try:\r\n1) Find out code layer any share lock query, unfortunely can&#39;t find any.\r\n2) Try to simulate simple update query in own project with high concurrency , cannot simulate deadlock\r\n3) Try to open general log from prod, but the log is too huge and there is no trace id for me to track specific transaction.\r\n4) MySQL said share lock will append when hit duplicate key , but in my code layer this merchant bank table is insert during setup and rarely to insert new record. So i can eliminate the insert, also i look into the unique key update statement from my code layer, it doesn&#39;t seem will cause deadlock.\r\n\r\nAny tips how can i further find out what cause the deadlock issues, since i am not able to find anything from code and mysql deadlock info. \r\n\r\nAppreciate for your help ! Thank you!","title":"MySQL Deadlock issues, 2 transaction updating the same row","body":"<blockquote>\n<hr />\n</blockquote>\n<pre><code>LATEST DETECTED DEADLOCK\n------------------------\n2022-12-27 04:37:57 2bde9a202700\n*** (1) TRANSACTION:\nTRANSACTION 346768561314, ACTIVE 0 sec starting index read\nmysql tables in use 1, locked 1\nLOCK WAIT 11 lock struct(s), heap size 376, 5 row lock(s), undo log entries 1\nMySQL thread id 457904353, OS thread handle 0x2bdb9ae41700, query id 427241339603 xxx.xx.xx.xx xxxx updating\nupdate merchant_bank set balance=balance+200.00 where id=22267\n*** (1) WAITING FOR THIS LOCK TO BE GRANTED:\nRECORD LOCKS space id 1695 page no 602 n bits 44 index `PRIMARY` of table `xxxx`.`merchant_bank` trx id 346768561314 lock_mode X locks rec but not gap waiting\nRecord lock, heap no 44 PHYSICAL RECORD: n_fields 32; compact format; info bits 0\n 0: len=8; bufptr=0x2bb8785ee142; hex= 80000000000056fb; asc       V ;;\n 1: len=6; bufptr=0x2bb8785ee14a; hex= 0050bcf55ace; asc  P  Z ;;\n 2: len=7; bufptr=0x2bb8785ee150; hex= 1300bb24ca2dc5; asc    $ - ;;\n 3: len=20; bufptr=0x2bb8785ee157; hex= 5349414d20436f6d6d65726369616c2042616e6b; asc SIAM Commercial Bank;;\n 4: len=0; bufptr=0x2bb8785ee16b; hex= ; asc ;;\n 5: len=3; bufptr=0x2bb8785ee16b; hex= 544842; asc THB;;\n 6: len=10; bufptr=0x2bb8785ee16e; hex= 39343332353934383135; asc 9432594815;;\n 7: len=15; bufptr=0x2bb8785ee178; hex= 4d697373205061746368616e696461; asc Miss Patchanida;;\n 8: len=1; bufptr=0x2bb8785ee187; hex= 44; asc D;;\n 9: len=1; bufptr=0x2bb8785ee188; hex= 42; asc B;;\n 10: len=1; bufptr=0x2bb8785ee189; hex= 45; asc E;;\n 11: len=1; bufptr=0x2bb8785ee18a; hex= 41; asc A;;\n 12: len=5; bufptr=0x2bb8785ee18b; hex= 8000000000; asc      ;;\n 13: len=5; bufptr=0x2bb8785ee190; hex= 8000000000; asc      ;;\n 14: len=7; bufptr=0x2bb8785ee195; hex= 8000001683043b; asc       ;;;\n 15: len=5; bufptr=0x2bb8785ee19c; hex= 8000000000; asc      ;;\n 16: len=5; bufptr=0x2bb8785ee1a1; hex= 8000000000; asc      ;;\n 17: len=5; bufptr=0x2bb8785ee1a6; hex= 8000000000; asc      ;;\n 18: len=5; bufptr=0x2bb8785ee1ab; hex= 8000000000; asc      ;;\n 19: len=9; bufptr=0x2bb8785ee1b0; hex= 800000000000000000; asc          ;;\n 20: len=9; bufptr=0x2bb8785ee1b9; hex= 800000000000000000; asc          ;;\n 21: len=8; bufptr=0x2bb8785ee1c2; hex= 5343423030353934; asc SCB00594;;\n 22: len=1; bufptr=0x2bb8785ee1ca; hex= 01; asc  ;;\n 23: SQL NULL;\n 24: len=4; bufptr=0x2bb8785ee1cb; hex= 80000002; asc     ;;\n 25: len=4; bufptr=0x2bb8785ee1cf; hex= 80000001; asc     ;;\n 26: len=4; bufptr=0x2bb8785ee1d3; hex= 63928782; asc c   ;;\n 27: len=5; bufptr=0x2bb8785ee1d7; hex= 616368656e; asc achen;;\n 28: len=4; bufptr=0x2bb8785ee1dc; hex= 63a8ac41; asc c  A;;\n 29: len=5; bufptr=0x2bb8785ee1e0; hex= 616368656e; asc achen;;\n 30: len=8; bufptr=0x2bb8785ee1e5; hex= 80000000000101d3; asc         ;;\n 31: len=8; bufptr=0x2bb8785ee1ed; hex= 80000000000000a8; asc         ;;\n\n*** (2) TRANSACTION:\nTRANSACTION 346768561263, ACTIVE 0 sec starting index read\nmysql tables in use 1, locked 1\nLOCK WAIT 11 lock struct(s), heap size 376, 5 row lock(s), undo log entries 1\nMySQL thread id 457904551, OS thread handle 0x2bde96706700, query id 427241339521 xxx.xx.xx.xx xxxx updating\nupdate merchant_bank set balance=balance+100.00 where id=22267\n*** (2) HOLDS THE LOCK(S):\nRECORD LOCKS space id 1695 page no 602 n bits 44 index `PRIMARY` of table `xxx`.`merchant_bank` trx id 346768561263 lock mode S locks rec but not gap\nRecord lock, heap no 44 PHYSICAL RECORD: n_fields 32; compact format; info bits 0\n 0: len=8; bufptr=0x2bb8785ee142; hex= 80000000000056fb; asc       V ;;\n 1: len=6; bufptr=0x2bb8785ee14a; hex= 0050bcf55ace; asc  P  Z ;;\n 2: len=7; bufptr=0x2bb8785ee150; hex= 1300bb24ca2dc5; asc    $ - ;;\n 3: len=20; bufptr=0x2bb8785ee157; hex= 5349414d20436f6d6d65726369616c2042616e6b; asc SIAM Commercial Bank;;\n 4: len=0; bufptr=0x2bb8785ee16b; hex= ; asc ;;\n 5: len=3; bufptr=0x2bb8785ee16b; hex= 544842; asc THB;;\n 6: len=10; bufptr=0x2bb8785ee16e; hex= 39343332353934383135; asc 9432594815;;\n 7: len=15; bufptr=0x2bb8785ee178; hex= 4d697373205061746368616e696461; asc Miss Patchanida;;\n 8: len=1; bufptr=0x2bb8785ee187; hex= 44; asc D;;\n 9: len=1; bufptr=0x2bb8785ee188; hex= 42; asc B;;\n 10: len=1; bufptr=0x2bb8785ee189; hex= 45; asc E;;\n 11: len=1; bufptr=0x2bb8785ee18a; hex= 41; asc A;;\n 12: len=5; bufptr=0x2bb8785ee18b; hex= 8000000000; asc      ;;\n 13: len=5; bufptr=0x2bb8785ee190; hex= 8000000000; asc      ;;\n 14: len=7; bufptr=0x2bb8785ee195; hex= 8000001683043b; asc       ;;;\n 15: len=5; bufptr=0x2bb8785ee19c; hex= 8000000000; asc      ;;\n 16: len=5; bufptr=0x2bb8785ee1a1; hex= 8000000000; asc      ;;\n 17: len=5; bufptr=0x2bb8785ee1a6; hex= 8000000000; asc      ;;\n 18: len=5; bufptr=0x2bb8785ee1ab; hex= 8000000000; asc      ;;\n 19: len=9; bufptr=0x2bb8785ee1b0; hex= 800000000000000000; asc          ;;\n 20: len=9; bufptr=0x2bb8785ee1b9; hex= 800000000000000000; asc          ;;\n 21: len=8; bufptr=0x2bb8785ee1c2; hex= 5343423030353934; asc SCB00594;;\n 22: len=1; bufptr=0x2bb8785ee1ca; hex= 01; asc  ;;\n 23: SQL NULL;\n 24: len=4; bufptr=0x2bb8785ee1cb; hex= 80000002; asc     ;;\n 25: len=4; bufptr=0x2bb8785ee1cf; hex= 80000001; asc     ;;\n 26: len=4; bufptr=0x2bb8785ee1d3; hex= 63928782; asc c   ;;\n 27: len=5; bufptr=0x2bb8785ee1d7; hex= 616368656e; asc achen;;\n 28: len=4; bufptr=0x2bb8785ee1dc; hex= 63a8ac41; asc c  A;;\n 29: len=5; bufptr=0x2bb8785ee1e0; hex= 616368656e; asc achen;;\n 30: len=8; bufptr=0x2bb8785ee1e5; hex= 80000000000101d3; asc         ;;\n 31: len=8; bufptr=0x2bb8785ee1ed; hex= 80000000000000a8; asc         ;;\n\n*** (2) WAITING FOR THIS LOCK TO BE GRANTED:\nRECORD LOCKS space id 1695 page no 602 n bits 44 index `PRIMARY` of table `xxxx`.`merchant_bank` trx id 346768561263 lock_mode X locks rec but not gap waiting\nRecord lock, heap no 44 PHYSICAL RECORD: n_fields 32; compact format; info bits 0\n 0: len=8; bufptr=0x2bb8785ee142; hex= 80000000000056fb; asc       V ;;\n 1: len=6; bufptr=0x2bb8785ee14a; hex= 0050bcf55ace; asc  P  Z ;;\n 2: len=7; bufptr=0x2bb8785ee150; hex= 1300bb24ca2dc5; asc    $ - ;;\n 3: len=20; bufptr=0x2bb8785ee157; hex= 5349414d20436f6d6d65726369616c2042616e6b; asc SIAM Commercial Bank;;\n 4: len=0; bufptr=0x2bb8785ee16b; hex= ; asc ;;\n 5: len=3; bufptr=0x2bb8785ee16b; hex= 544842; asc THB;;\n 6: len=10; bufptr=0x2bb8785ee16e; hex= 39343332353934383135; asc 9432594815;;\n 7: len=15; bufptr=0x2bb8785ee178; hex= 4d697373205061746368616e696461; asc Miss Patchanida;;\n 8: len=1; bufptr=0x2bb8785ee187; hex= 44; asc D;;\n 9: len=1; bufptr=0x2bb8785ee188; hex= 42; asc B;;\n 10: len=1; bufptr=0x2bb8785ee189; hex= 45; asc E;;\n 11: len=1; bufptr=0x2bb8785ee18a; hex= 41; asc A;;\n 12: len=5; bufptr=0x2bb8785ee18b; hex= 8000000000; asc      ;;\n 13: len=5; bufptr=0x2bb8785ee190; hex= 8000000000; asc      ;;\n 14: len=7; bufptr=0x2bb8785ee195; hex= 8000001683043b; asc       ;;;\n 15: len=5; bufptr=0x2bb8785ee19c; hex= 8000000000; asc      ;;\n 16: len=5; bufptr=0x2bb8785ee1a1; hex= 8000000000; asc      ;;\n 17: len=5; bufptr=0x2bb8785ee1a6; hex= 8000000000; asc      ;;\n 18: len=5; bufptr=0x2bb8785ee1ab; hex= 8000000000; asc      ;;\n 19: len=9; bufptr=0x2bb8785ee1b0; hex= 800000000000000000; asc          ;;\n 20: len=9; bufptr=0x2bb8785ee1b9; hex= 800000000000000000; asc          ;;\n 21: len=8; bufptr=0x2bb8785ee1c2; hex= 5343423030353934; asc SCB00594;;\n 22: len=1; bufptr=0x2bb8785ee1ca; hex= 01; asc  ;;\n 23: SQL NULL;\n 24: len=4; bufptr=0x2bb8785ee1cb; hex= 80000002; asc     ;;\n 25: len=4; bufptr=0x2bb8785ee1cf; hex= 80000001; asc     ;;\n 26: len=4; bufptr=0x2bb8785ee1d3; hex= 63928782; asc c   ;;\n 27: len=5; bufptr=0x2bb8785ee1d7; hex= 616368656e; asc achen;;\n 28: len=4; bufptr=0x2bb8785ee1dc; hex= 63a8ac41; asc c  A;;\n 29: len=5; bufptr=0x2bb8785ee1e0; hex= 616368656e; asc achen;;\n 30: len=8; bufptr=0x2bb8785ee1e5; hex= 80000000000101d3; asc         ;;\n 31: len=8; bufptr=0x2bb8785ee1ed; hex= 80000000000000a8; asc         ;;\n\n------------\nTRANSACTIONS\n------------\nTrx id counter 346768916240\nPurge done for trx's n:o &lt; 346741158134 undo n:o &lt; 0 state: running\nHistory list length 7075704\n</code></pre>\n<p>Desc:</p>\n<p>MySQL 5.6</p>\n<p>DB isolation = RC</p>\n<p>update ... where id, id is primary key</p>\n<p>I can't figure where is the share lock append by transaction 2</p>\n<p>Also it's weird in my deadlock log i cannot find &quot;*** WE ROLL BACK TRANSACTION (2)&quot;</p>\n<p>What i have try:</p>\n<ol>\n<li>Find out code layer any share lock query, unfortunely can't find any.</li>\n<li>Try to simulate simple update query in own project with high concurrency , cannot simulate deadlock</li>\n<li>Try to open general log from prod, but the log is too huge and there is no trace id for me to track specific transaction.</li>\n<li>MySQL said share lock will append when hit duplicate key , but in my code layer this merchant bank table is insert during setup and rarely to insert new record. So i can eliminate the insert, also i look into the unique key update statement from my code layer, it doesn't seem will cause deadlock.</li>\n</ol>\n<p>Any tips how can i further find out what cause the deadlock issues, since i am not able to find anything from code and mysql deadlock info.</p>\n<p>Appreciate for your help ! Thank you!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1673494726,"post_id":75091204,"comment_id":132513541,"body_markdown":"By &quot;different structure&quot;, you mean the trees could have the same values, but in different locations? For example, both trees might have the value 123, but in the first tree, the path is HLLLRRL, and in the other tree it is at HLRRL ?  (&quot;H&quot; refers to the root node, &quot;L&quot; means go to the left child, and &quot;R&quot; means go to the right child.)","body":"By &quot;different structure&quot;, you mean the trees could have the same values, but in different locations? For example, both trees might have the value 123, but in the first tree, the path is HLLLRRL, and in the other tree it is at HLRRL ?  (&quot;H&quot; refers to the root node, &quot;L&quot; means go to the left child, and &quot;R&quot; means go to the right child.)"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1673495304,"post_id":75091204,"comment_id":132513604,"body_markdown":"The first answer begins with &quot;The code you provided seems to be checking if all elements in the first tree exist in the second tree, rather than checking if the two trees have the same elements.&quot; If your code does that and is working, you could call that method twice:  `boolean haveSameContents  = problem1Recursive (treeA.root, treeB.root) &amp;&amp; problem1Recursive (treeB.root, treeA.root);`","body":"The first answer begins with &quot;The code you provided seems to be checking if all elements in the first tree exist in the second tree, rather than checking if the two trees have the same elements.&quot; If your code does that and is working, you could call that method twice:  <code>boolean haveSameContents  = problem1Recursive (treeA.root, treeB.root) &amp;&amp; problem1Recursive (treeB.root, treeA.root);</code>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1673495465,"post_id":75091204,"comment_id":132513624,"body_markdown":"If duplicate values are not allowed in your tree, you could copy the elements of one tree into a Set, the elements of another tree into another Set. Then, you can use the .equals method using your `Set` objects.","body":"If duplicate values are not allowed in your tree, you could copy the elements of one tree into a Set, the elements of another tree into another Set. Then, you can use the .equals method using your <code>Set</code> objects."}],"answers":[{"comments":[{"owner":{"account_id":25474942,"reputation":1,"user_id":19272392,"display_name":"Melons"},"score":0,"creation_date":1673494260,"post_id":75091227,"comment_id":132513484,"body_markdown":"I really appreciate you helping, but unfortunately that did not work. I think having the search function is vital to the program actually working. Thank you again","body":"I really appreciate you helping, but unfortunately that did not work. I think having the search function is vital to the program actually working. Thank you again"}],"tags":[],"owner":{"account_id":26582110,"reputation":1,"user_id":20206615,"display_name":"Harry Zhang"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673493725,"creation_date":1673493725,"answer_id":75091227,"question_id":75091204,"body_markdown":"The code you provided seems to be checking if all elements in the first tree exist in the second tree, rather than checking if the two trees have the same elements. But, in your problem statement you have stated that the trees can have different structures and you want to compare if they have the same elements.\r\n\r\nHere is one possible solution to your problem:\r\n\r\n    private static boolean problem1Recursive(Node t1, Node t2) {\r\n        if (t1 == null &amp;&amp; t2 == null) {\r\n            return true;\r\n        }\r\n        if (t1 == null || t2 == null) {\r\n            return false;\r\n        }\r\n        if (t1.key != t2.key) {\r\n            return false;\r\n        }\r\n        return problem1Recursive(t1.left, t2) || problem1Recursive(t1.right, t2);\r\n    }\r\n\r\nThis function first check if both nodes are null, if they are it returns true. If one of the nodes is null it returns false, indicating that the trees have different elements. If the key of the nodes is different it also returns false. It then recursively checks the left and right subtrees of the first tree against the entire second tree. If at least one of the subtrees contains all the elements of the second tree, the function will return true.\r\n\r\nIt&#39;s important to note that this solution considers that there aren&#39;t repeating values on the tree and the values are comparable.","title":"Having Issues with my code comparing two binary trees with different structures","body":"<p>The code you provided seems to be checking if all elements in the first tree exist in the second tree, rather than checking if the two trees have the same elements. But, in your problem statement you have stated that the trees can have different structures and you want to compare if they have the same elements.</p>\n<p>Here is one possible solution to your problem:</p>\n<pre><code>private static boolean problem1Recursive(Node t1, Node t2) {\n    if (t1 == null &amp;&amp; t2 == null) {\n        return true;\n    }\n    if (t1 == null || t2 == null) {\n        return false;\n    }\n    if (t1.key != t2.key) {\n        return false;\n    }\n    return problem1Recursive(t1.left, t2) || problem1Recursive(t1.right, t2);\n}\n</code></pre>\n<p>This function first check if both nodes are null, if they are it returns true. If one of the nodes is null it returns false, indicating that the trees have different elements. If the key of the nodes is different it also returns false. It then recursively checks the left and right subtrees of the first tree against the entire second tree. If at least one of the subtrees contains all the elements of the second tree, the function will return true.</p>\n<p>It's important to note that this solution considers that there aren't repeating values on the tree and the values are comparable.</p>\n"}],"owner":{"account_id":25474942,"reputation":1,"user_id":19272392,"display_name":"Melons"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673493725,"creation_date":1673493408,"question_id":75091204,"body_markdown":"I&#39;m trying to compare series of two binary trees and seeing if they have the same elements in them but the trees can have different structures all recursively. \r\n\r\nHere is my current code, the &quot;Find&quot; function is a search the tree function:     \r\n```\r\nprivate static boolean problem1Recursive(Node t1, Node t2)\r\n    {\r\n        if(t1 == null || t2 == null)\r\n        {\r\n            return false;\r\n        }\r\n        else if(find(t2, t1.key))\r\n        {\r\n            return true;\r\n        }\r\n        return (problem1Recursive(t1.left, t2) &amp;&amp; problem1Recursive(t1.right, t2));\r\n    }\r\n```\r\nI&#39;m just at a loss on where to go from here\r\n    ","title":"Having Issues with my code comparing two binary trees with different structures","body":"<p>I'm trying to compare series of two binary trees and seeing if they have the same elements in them but the trees can have different structures all recursively.</p>\n<p>Here is my current code, the &quot;Find&quot; function is a search the tree function:</p>\n<pre><code>private static boolean problem1Recursive(Node t1, Node t2)\n    {\n        if(t1 == null || t2 == null)\n        {\n            return false;\n        }\n        else if(find(t2, t1.key))\n        {\n            return true;\n        }\n        return (problem1Recursive(t1.left, t2) &amp;&amp; problem1Recursive(t1.right, t2));\n    }\n</code></pre>\n<p>I'm just at a loss on where to go from here</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1673423526,"post_id":75078898,"comment_id":132492944,"body_markdown":"Use the framework don&#39;t work around it. I would strongly suggest to put this in a `Specification` and use the `JpaSpecificationExecutor` to invoke the `findAll(Specification, PageRequest)` method instead of trying to invent your own.","body":"Use the framework don&#39;t work around it. I would strongly suggest to put this in a <code>Specification</code> and use the <code>JpaSpecificationExecutor</code> to invoke the <code>findAll(Specification, PageRequest)</code> method instead of trying to invent your own."},{"owner":{"account_id":19020553,"reputation":675,"user_id":13884720,"display_name":"Abdalrhman Alkraien"},"score":0,"creation_date":1673437590,"post_id":75078898,"comment_id":132497859,"body_markdown":"You can use two ways to create a dynamic filter with pagination, `ExampleMatcher` or `specification` both support JPA","body":"You can use two ways to create a dynamic filter with pagination, <code>ExampleMatcher</code> or <code>specification</code> both support JPA"}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673424467,"creation_date":1673424467,"answer_id":75079940,"question_id":75078898,"body_markdown":"Ditch your own method and use the framework. Use [specifications][1] to create a dynamic query.\r\n\r\nYour repository should extend the [`JpaSpecificationExecutor`][2] and then you should invoke the `findAll(Specification, Pageable)` from your service. Your service should prepare the `Specification` it needs to build the query. \r\n\r\n```java\r\npublic interface YourRepository extends JpaRepository&lt;HistoryBank, Long&gt;,\r\nJpaSpecificationExecutor&lt;HistoryBank&gt; {}\r\n```\r\n\r\nYour service can then use the aforementioned `findAll` method. \r\n\r\n```java\r\npublic PaginationList&lt;HistoryBankWrapper, HistoryBank&gt; findByFilter(String keyfilter,String sortField,String sortOrder, int page, int size) {\r\n    Sort sort = Sort.by(Sort.Direction.fromString(sortOrder), sortField); \r\n    Pageable paging = PageRequest.of(page, size);\r\n    Specification&lt;HistoryBank&gt; spec = (r, c, b) -&gt; b.like(r.get(sortField), &quot;%&quot; + keyFilter + &quot;%&quot;));\r\n    Page&lt;HistoryBank&gt; historyPage = historyBankRepository.findAllFilter(spec, paging);\r\n    List&lt;HistoryBank&gt; historyList =  historyPage.getContent();\r\n    List&lt;HistoryBankWrapper&gt; historyWrapperList = toWrapperList(historyList);\r\n    return new PaginationList&lt;HistoryBankWrapper, HistoryBank&gt;(historyWrapperList, historyPage);\r\n    }\r\n```\r\n\r\nYou can even make this easier by modifying your controller to directly bind to a `Pageable` object, that saves you creating it. \r\n\r\n```java\r\npublic DataResponsePagination&lt;HistoryBankWrapper, HistoryBank&gt; pageFilter(\r\n        @RequestParam(&quot;filter&quot;) String keyfilter ,\r\n        Pageable page) {\r\n        {\r\n```\r\n\r\nNow you only need to create the `Specification` and can just pass along the `Pageable`. \r\n\r\n[1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#specifications\r\n[2]: https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaSpecificationExecutor.html","title":"How to do Pagination with filter","body":"<p>Ditch your own method and use the framework. Use <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#specifications\" rel=\"nofollow noreferrer\">specifications</a> to create a dynamic query.</p>\n<p>Your repository should extend the <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaSpecificationExecutor.html\" rel=\"nofollow noreferrer\"><code>JpaSpecificationExecutor</code></a> and then you should invoke the <code>findAll(Specification, Pageable)</code> from your service. Your service should prepare the <code>Specification</code> it needs to build the query.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface YourRepository extends JpaRepository&lt;HistoryBank, Long&gt;,\nJpaSpecificationExecutor&lt;HistoryBank&gt; {}\n</code></pre>\n<p>Your service can then use the aforementioned <code>findAll</code> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public PaginationList&lt;HistoryBankWrapper, HistoryBank&gt; findByFilter(String keyfilter,String sortField,String sortOrder, int page, int size) {\n    Sort sort = Sort.by(Sort.Direction.fromString(sortOrder), sortField); \n    Pageable paging = PageRequest.of(page, size);\n    Specification&lt;HistoryBank&gt; spec = (r, c, b) -&gt; b.like(r.get(sortField), &quot;%&quot; + keyFilter + &quot;%&quot;));\n    Page&lt;HistoryBank&gt; historyPage = historyBankRepository.findAllFilter(spec, paging);\n    List&lt;HistoryBank&gt; historyList =  historyPage.getContent();\n    List&lt;HistoryBankWrapper&gt; historyWrapperList = toWrapperList(historyList);\n    return new PaginationList&lt;HistoryBankWrapper, HistoryBank&gt;(historyWrapperList, historyPage);\n    }\n</code></pre>\n<p>You can even make this easier by modifying your controller to directly bind to a <code>Pageable</code> object, that saves you creating it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public DataResponsePagination&lt;HistoryBankWrapper, HistoryBank&gt; pageFilter(\n        @RequestParam(&quot;filter&quot;) String keyfilter ,\n        Pageable page) {\n        {\n</code></pre>\n<p>Now you only need to create the <code>Specification</code> and can just pass along the <code>Pageable</code>.</p>\n"},{"tags":[],"owner":{"account_id":25770182,"reputation":29,"user_id":19519118,"display_name":"surendra ingle"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673492798,"creation_date":1673492798,"answer_id":75091167,"question_id":75078898,"body_markdown":"In the Jpa repository you use the symbol of OR (||) try with a keyword or \r\nand modified your query for filtering you have to use and instead of or","title":"How to do Pagination with filter","body":"<p>In the Jpa repository you use the symbol of OR (||) try with a keyword or\nand modified your query for filtering you have to use and instead of or</p>\n"}],"owner":{"account_id":27119500,"reputation":21,"user_id":20663370,"display_name":"Juan Kalyzta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":413,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1673492798,"creation_date":1673417086,"question_id":75078898,"body_markdown":"I want to make paginable service with filter but its fail to resultset\r\n\r\nHere is my controller\r\n\r\n```\r\n @GetMapping(path = &quot;/PageFilter&quot;)\r\n    public DataResponsePagination&lt;HistoryBankWrapper, HistoryBank&gt; pageFilter(\r\n        @RequestParam(&quot;filter&quot;) String keyfilter ,\r\n        @RequestParam(&quot;sortField&quot;) String field ,\r\n        @RequestParam(&quot;sortOrder&quot;) String order ,\r\n        @RequestParam(&quot;page&quot;) int page, \r\n        @RequestParam(&quot;size&quot;) int size) {\r\n        return new DataResponsePagination&lt;HistoryBankWrapper, HistoryBank&gt;(historyBankService.findByFilter(keyfilter,field,order, page, size));\r\n    }\r\n```\r\n\r\nHere is my service\r\n\r\n```\r\npublic PaginationList&lt;HistoryBankWrapper, HistoryBank&gt; findByFilter(String keyfilter,String sortField,String sortOrder, int page, int size) {\r\n\tPageable paging = PageRequest.of(page, size);\r\n\tPage&lt;HistoryBank&gt; historyPage = historyBankRepository.findAllFilter(keyfilter, sortField, sortOrder, paging);\r\n\tList&lt;HistoryBank&gt; historyList =  historyPage.getContent();\r\n\tList&lt;HistoryBankWrapper&gt; historyWrapperList = toWrapperList(historyList);\r\n\treturn new PaginationList&lt;HistoryBankWrapper, HistoryBank&gt;(historyWrapperList, historyPage);\r\n\t}\r\n```\r\n\r\nhere is my Repository\r\n\r\n    @Query(value = &quot;SELECT * FROM HISTORY_BANK WHERE :sortField LIKE &#39;%&#39; || :keyFilter || &#39;%&#39; ORDER BY :sortField :sortOrder&quot;,\r\n              countQuery = &quot;SELECT count(*) FROM HISTORY_BANK&quot;,\r\n              nativeQuery = true)\r\n    Page&lt;HistoryBank&gt; findAllFilter(@Param(&quot;keyFilter&quot;) String keyfilter,  @Param(&quot;sortOrder&quot;) String sortOrder,@Param(&quot;sortField&quot;) String sortField, @Param(&quot;paging&quot;) Pageable paging);","title":"How to do Pagination with filter","body":"<p>I want to make paginable service with filter but its fail to resultset</p>\n<p>Here is my controller</p>\n<pre><code> @GetMapping(path = &quot;/PageFilter&quot;)\n    public DataResponsePagination&lt;HistoryBankWrapper, HistoryBank&gt; pageFilter(\n        @RequestParam(&quot;filter&quot;) String keyfilter ,\n        @RequestParam(&quot;sortField&quot;) String field ,\n        @RequestParam(&quot;sortOrder&quot;) String order ,\n        @RequestParam(&quot;page&quot;) int page, \n        @RequestParam(&quot;size&quot;) int size) {\n        return new DataResponsePagination&lt;HistoryBankWrapper, HistoryBank&gt;(historyBankService.findByFilter(keyfilter,field,order, page, size));\n    }\n</code></pre>\n<p>Here is my service</p>\n<pre><code>public PaginationList&lt;HistoryBankWrapper, HistoryBank&gt; findByFilter(String keyfilter,String sortField,String sortOrder, int page, int size) {\n    Pageable paging = PageRequest.of(page, size);\n    Page&lt;HistoryBank&gt; historyPage = historyBankRepository.findAllFilter(keyfilter, sortField, sortOrder, paging);\n    List&lt;HistoryBank&gt; historyList =  historyPage.getContent();\n    List&lt;HistoryBankWrapper&gt; historyWrapperList = toWrapperList(historyList);\n    return new PaginationList&lt;HistoryBankWrapper, HistoryBank&gt;(historyWrapperList, historyPage);\n    }\n</code></pre>\n<p>here is my Repository</p>\n<pre><code>@Query(value = &quot;SELECT * FROM HISTORY_BANK WHERE :sortField LIKE '%' || :keyFilter || '%' ORDER BY :sortField :sortOrder&quot;,\n          countQuery = &quot;SELECT count(*) FROM HISTORY_BANK&quot;,\n          nativeQuery = true)\nPage&lt;HistoryBank&gt; findAllFilter(@Param(&quot;keyFilter&quot;) String keyfilter,  @Param(&quot;sortOrder&quot;) String sortOrder,@Param(&quot;sortField&quot;) String sortField, @Param(&quot;paging&quot;) Pageable paging);\n</code></pre>\n"},{"tags":["java","android","gradle","fonts","build.gradle"],"comments":[{"owner":{"account_id":463429,"reputation":6493,"user_id":866333,"accept_rate":88,"display_name":"John"},"score":0,"creation_date":1528036278,"post_id":50667450,"comment_id":88344818,"body_markdown":"Can we see some more of the error log?","body":"Can we see some more of the error log?"},{"owner":{"account_id":10432364,"reputation":1044,"user_id":7691803,"accept_rate":79,"display_name":"Bharat"},"score":0,"creation_date":1528036304,"post_id":50667450,"comment_id":88344827,"body_markdown":"Yeah sure just give me a second","body":"Yeah sure just give me a second"},{"owner":{"account_id":10432364,"reputation":1044,"user_id":7691803,"accept_rate":79,"display_name":"Bharat"},"score":0,"creation_date":1528036498,"post_id":50667450,"comment_id":88344878,"body_markdown":"@John I&#39;ve updated the question","body":"@John I&#39;ve updated the question"},{"owner":{"account_id":463429,"reputation":6493,"user_id":866333,"accept_rate":88,"display_name":"John"},"score":0,"creation_date":1528037074,"post_id":50667450,"comment_id":88345026,"body_markdown":"I don&#39;t recall ever using TTF myself. While its helpful that _you_ can recreate the error perhaps you could provide a https://en.wikipedia.org/wiki/Minimal_Working_Example?","body":"I don&#39;t recall ever using TTF myself. While its helpful that <i>you</i> can recreate the error perhaps you could provide a <a href=\"https://en.wikipedia.org/wiki/Minimal_Working_Example\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Minimal_Working_Example</a>?"}],"answers":[{"comments":[{"owner":{"account_id":10432364,"reputation":1044,"user_id":7691803,"accept_rate":79,"display_name":"Bharat"},"score":0,"creation_date":1528037004,"post_id":50667568,"comment_id":88345007,"body_markdown":"Actually I had several apps having font in that folder. That&#39;s what I&#39;m thinking!! Any ways I would try that too and let you know. Now I&#39;ve just restarted my android studio","body":"Actually I had several apps having font in that folder. That&#39;s what I&#39;m thinking!! Any ways I would try that too and let you know. Now I&#39;ve just restarted my android studio"}],"tags":[],"owner":{"account_id":10804488,"reputation":2641,"user_id":7947225,"display_name":"Vince"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1528036929,"creation_date":1528036929,"answer_id":50667568,"question_id":50667450,"body_markdown":"Probably because you dont put the font in the right folder ?\r\n\r\nTry to follow this answer : https://stackoverflow.com/a/33923946/7947225\r\n\r\n&gt; Put font file under assets/fonts/your_font_file.ttf","title":"Adding a font to Android Studio project causing build to fail","body":"<p>Probably because you dont put the font in the right folder ?</p>\n\n<p>Try to follow this answer : <a href=\"https://stackoverflow.com/a/33923946/7947225\">https://stackoverflow.com/a/33923946/7947225</a></p>\n\n<blockquote>\n  <p>Put font file under assets/fonts/your_font_file.ttf</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":13704496,"reputation":11,"user_id":9888567,"display_name":"wei_tw"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1528041572,"creation_date":1528041572,"answer_id":50668283,"question_id":50667450,"body_markdown":"Whether ttf &gt; 3MB &lt;p&gt;\r\nIf it is recommended to change to a smaller &lt; 3MB &lt;p&gt;","title":"Adding a font to Android Studio project causing build to fail","body":"<p>Whether ttf > 3MB <p>\nIf it is recommended to change to a smaller &lt; 3MB <p></p>\n"}],"owner":{"account_id":10432364,"reputation":1044,"user_id":7691803,"accept_rate":79,"display_name":"Bharat"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":493,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":2,"score":3,"last_activity_date":1673492280,"creation_date":1528036172,"question_id":50667450,"body_markdown":"I&#39;ve been trying to add a font to my Android Studio project but I&#39;m not able to succeed. \r\n\r\nEven the error which is being shown is not making any sense to me. The build is getting failed only because I&#39;m adding a new font to my project.\r\n\r\nI&#39;m trying to add this font to res -&gt; font directory.\r\n\r\nI&#39;m attaching two images one showing build succeeded without font in the font directory and the other showing build failed with font in the font directory.\r\n\r\nThe error remains as a big mystery to me. I&#39;m getting ArrayIndexOutOfBounds exception! I still don&#39;t know from where I&#39;m getting that error.\r\n\r\nThis is the first image showing successful build without font.\r\n\r\n[![Image without error][1]][1]\r\n\r\nThis is the second image showing unsuccessful build with font added.\r\n\r\n[![Image with error][2]][2]\r\n\r\nPlease give me some hint so that I could rectify my mistake. Thanks\r\n\r\nThis is the complete error log\r\n\r\n    org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:mergeDebugResources&#39;.\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:100)\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:70)\r\n    \tat org.gradle.api.internal.tasks.execution.OutputDirectoryCreatingTaskExecuter.execute(OutputDirectoryCreatingTaskExecuter.java:51)\r\n    \tat org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:62)\r\n    \tat org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:54)\r\n    \tat org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:60)\r\n    \tat org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:97)\r\n    \tat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:87)\r\n    \tat org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:52)\r\n    \tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\r\n    \tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\r\n    \tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker$1.run(DefaultTaskGraphExecuter.java:248)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:241)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:230)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.processTask(DefaultTaskPlanExecutor.java:123)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.access$200(DefaultTaskPlanExecutor.java:79)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:104)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:98)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.execute(DefaultTaskExecutionPlan.java:626)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.executeWithTask(DefaultTaskExecutionPlan.java:581)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.run(DefaultTaskPlanExecutor.java:98)\r\n    \tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\r\n    \tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    Caused by: java.lang.ArrayIndexOutOfBoundsException: -1\r\n    \tat com.android.utils.PositionXmlParser.getXmlString(PositionXmlParser.java:295)\r\n    \tat com.android.utils.PositionXmlParser.getXmlString(PositionXmlParser.java:206)\r\n    \tat com.android.utils.PositionXmlParser.parse(PositionXmlParser.java:139)\r\n    \tat com.android.utils.PositionXmlParser.parse(PositionXmlParser.java:103)\r\n    \tat com.android.utils.PositionXmlParser.parse(PositionXmlParser.java:112)\r\n    \tat com.android.ide.common.res2.ValueResourceParser2.parseDocument(ValueResourceParser2.java:213)\r\n    \tat com.android.ide.common.res2.ValueResourceParser2.parseFile(ValueResourceParser2.java:92)\r\n    \tat com.android.ide.common.res2.ResourceSet.createResourceFile(ResourceSet.java:472)\r\n    \tat com.android.ide.common.res2.ResourceSet.parseFolder(ResourceSet.java:423)\r\n    \tat com.android.ide.common.res2.ResourceSet.readSourceFolder(ResourceSet.java:232)\r\n    \tat com.android.ide.common.res2.DataSet.loadFromFiles(DataSet.java:248)\r\n    \tat com.android.ide.common.res2.ResourceSet.loadFromFiles(ResourceSet.java:53)\r\n    \tat com.android.build.gradle.tasks.MergeResources.doFullTaskAction(MergeResources.java:136)\r\n    \tat com.android.build.gradle.internal.tasks.IncrementalTask.taskAction(IncrementalTask.java:88)\r\n    \tat sun.reflect.GeneratedMethodAccessor519.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\r\n    \tat org.gradle.api.internal.project.taskfactory.IncrementalTaskAction.doExecute(IncrementalTaskAction.java:46)\r\n    \tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:39)\r\n    \tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:26)\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$1.run(ExecuteActionsTaskExecuter.java:121)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:110)\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:92)\r\n    \t... 32 more\r\n\r\n\r\nThis is the build image\r\n[![Build failed image][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9taJz.png\r\n  [2]: https://i.stack.imgur.com/RpbTJ.png\r\n  [3]: https://i.stack.imgur.com/2m639.png","title":"Adding a font to Android Studio project causing build to fail","body":"<p>I've been trying to add a font to my Android Studio project but I'm not able to succeed.</p>\n<p>Even the error which is being shown is not making any sense to me. The build is getting failed only because I'm adding a new font to my project.</p>\n<p>I'm trying to add this font to res -&gt; font directory.</p>\n<p>I'm attaching two images one showing build succeeded without font in the font directory and the other showing build failed with font in the font directory.</p>\n<p>The error remains as a big mystery to me. I'm getting ArrayIndexOutOfBounds exception! I still don't know from where I'm getting that error.</p>\n<p>This is the first image showing successful build without font.</p>\n<p><a href=\"https://i.stack.imgur.com/9taJz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9taJz.png\" alt=\"Image without error\" /></a></p>\n<p>This is the second image showing unsuccessful build with font added.</p>\n<p><a href=\"https://i.stack.imgur.com/RpbTJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RpbTJ.png\" alt=\"Image with error\" /></a></p>\n<p>Please give me some hint so that I could rectify my mistake. Thanks</p>\n<p>This is the complete error log</p>\n<pre><code>org.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:mergeDebugResources'.\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:100)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:70)\n    at org.gradle.api.internal.tasks.execution.OutputDirectoryCreatingTaskExecuter.execute(OutputDirectoryCreatingTaskExecuter.java:51)\n    at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:62)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:54)\n    at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:60)\n    at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:97)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:87)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:52)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)\n    at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker$1.run(DefaultTaskGraphExecuter.java:248)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:241)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:230)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.processTask(DefaultTaskPlanExecutor.java:123)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.access$200(DefaultTaskPlanExecutor.java:79)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:104)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:98)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.execute(DefaultTaskExecutionPlan.java:626)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.executeWithTask(DefaultTaskExecutionPlan.java:581)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.run(DefaultTaskPlanExecutor.java:98)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: java.lang.ArrayIndexOutOfBoundsException: -1\n    at com.android.utils.PositionXmlParser.getXmlString(PositionXmlParser.java:295)\n    at com.android.utils.PositionXmlParser.getXmlString(PositionXmlParser.java:206)\n    at com.android.utils.PositionXmlParser.parse(PositionXmlParser.java:139)\n    at com.android.utils.PositionXmlParser.parse(PositionXmlParser.java:103)\n    at com.android.utils.PositionXmlParser.parse(PositionXmlParser.java:112)\n    at com.android.ide.common.res2.ValueResourceParser2.parseDocument(ValueResourceParser2.java:213)\n    at com.android.ide.common.res2.ValueResourceParser2.parseFile(ValueResourceParser2.java:92)\n    at com.android.ide.common.res2.ResourceSet.createResourceFile(ResourceSet.java:472)\n    at com.android.ide.common.res2.ResourceSet.parseFolder(ResourceSet.java:423)\n    at com.android.ide.common.res2.ResourceSet.readSourceFolder(ResourceSet.java:232)\n    at com.android.ide.common.res2.DataSet.loadFromFiles(DataSet.java:248)\n    at com.android.ide.common.res2.ResourceSet.loadFromFiles(ResourceSet.java:53)\n    at com.android.build.gradle.tasks.MergeResources.doFullTaskAction(MergeResources.java:136)\n    at com.android.build.gradle.internal.tasks.IncrementalTask.taskAction(IncrementalTask.java:88)\n    at sun.reflect.GeneratedMethodAccessor519.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\n    at org.gradle.api.internal.project.taskfactory.IncrementalTaskAction.doExecute(IncrementalTaskAction.java:46)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:39)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:26)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$1.run(ExecuteActionsTaskExecuter.java:121)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:110)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:92)\n    ... 32 more\n</code></pre>\n<p>This is the build image\n<a href=\"https://i.stack.imgur.com/2m639.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2m639.png\" alt=\"Build failed image\" /></a></p>\n"},{"tags":["java","swing","jlist","segments"],"comments":[{"owner":{"account_id":37832,"reputation":573,"user_id":108290,"accept_rate":67,"display_name":"Robert Kosara"},"score":0,"creation_date":1242586860,"post_id":874581,"comment_id":682615,"body_markdown":"The JIDE classes suggested by banjollity are great, but if somebody could suggest a pure open source component, I&#39;d be interested in that, too (I forgot to say that this is for use in an open source project).\n\nAlso, thanks Tom for correcting the class name to `ListCellRenderer`.","body":"The JIDE classes suggested by banjollity are great, but if somebody could suggest a pure open source component, I&#39;d be interested in that, too (I forgot to say that this is for use in an open source project).  Also, thanks Tom for correcting the class name to <code>ListCellRenderer</code>."}],"answers":[{"comments":[{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":1,"creation_date":1242571016,"post_id":874612,"comment_id":682124,"body_markdown":"A tree would be over-complicating the UI. There are far too many trees out there.","body":"A tree would be over-complicating the UI. There are far too many trees out there."},{"owner":{"account_id":37832,"reputation":573,"user_id":108290,"accept_rate":67,"display_name":"Robert Kosara"},"score":0,"creation_date":1242586329,"post_id":874612,"comment_id":682594,"body_markdown":"Tom is right, a tree would perhaps work, but it&#39;s the wrong metaphor. My illustration in the question wasn&#39;t very good, but banjolity&#39;s screenshot shows what I mean.","body":"Tom is right, a tree would perhaps work, but it&#39;s the wrong metaphor. My illustration in the question wasn&#39;t very good, but banjolity&#39;s screenshot shows what I mean."}],"tags":[],"owner":{"account_id":36493,"reputation":11667,"user_id":104117,"accept_rate":89,"display_name":"Valentin Rocher"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1242566540,"creation_date":1242566540,"answer_id":874612,"question_id":874581,"body_markdown":"Maybe by using [JTree][1] ? What you describe is a Tree with two levels.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/javax/swing/JTree.html","title":"Sectioned List in Java/Swing?","body":"<p>Maybe by using <a href=\"http://java.sun.com/javase/6/docs/api/javax/swing/JTree.html\" rel=\"nofollow noreferrer\">JTree</a> ? What you describe is a Tree with two levels.</p>\n"},{"comments":[{"owner":{"account_id":37832,"reputation":573,"user_id":108290,"accept_rate":67,"display_name":"Robert Kosara"},"score":0,"creation_date":1242586484,"post_id":874781,"comment_id":682601,"body_markdown":"That&#39;s exactly it! Thanks! I had hoped for something open source (I forgot to say that this is for use in an open source project), but it looks like they have a good policy towards use in open source projects. If somebody can suggest an open source version, I would still appreciate that, though.","body":"That&#39;s exactly it! Thanks! I had hoped for something open source (I forgot to say that this is for use in an open source project), but it looks like they have a good policy towards use in open source projects. If somebody can suggest an open source version, I would still appreciate that, though."}],"tags":[],"owner":{"account_id":14406,"reputation":4490,"user_id":29620,"accept_rate":92,"display_name":"banjollity"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1673492049,"creation_date":1242572271,"answer_id":874781,"question_id":874581,"body_markdown":"There&#39;s a component available with [JIDE][1] that let&#39;s you do exactly this. It&#39;s called GroupList:\r\n\r\n[![alt text][2]][2]  \n&lt;sub&gt;(source: [jidesoft.com](https://www.jidesoft.com/blog/wp-content/uploads/2007/11/grouplist.png))&lt;/sub&gt;  \n\r\n\r\n\r\n  [1]: https://www.jidesoft.com/\r\n  [2]: https://i.stack.imgur.com/Ni5qg.png","title":"Sectioned List in Java/Swing?","body":"<p>There's a component available with <a href=\"https://www.jidesoft.com/\" rel=\"nofollow noreferrer\">JIDE</a> that let's you do exactly this. It's called GroupList:</p>\n<p><a href=\"https://i.stack.imgur.com/Ni5qg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ni5qg.png\" alt=\"alt text\" /></a><br />\n<sub>(source: <a href=\"https://www.jidesoft.com/blog/wp-content/uploads/2007/11/grouplist.png\" rel=\"nofollow noreferrer\">jidesoft.com</a>)</sub></p>\n"},{"comments":[{"owner":{"account_id":37832,"reputation":573,"user_id":108290,"accept_rate":67,"display_name":"Robert Kosara"},"score":0,"creation_date":1242646179,"post_id":876935,"comment_id":684491,"body_markdown":"That&#39;s not really what I was looking for with my question here - but I have been looking for this kind of thing in Java for a while. Great stuff, thank you!","body":"That&#39;s not really what I was looking for with my question here - but I have been looking for this kind of thing in Java for a while. Great stuff, thank you!"}],"tags":[],"owner":{"account_id":2146,"reputation":51871,"user_id":2959,"accept_rate":67,"display_name":"Steve McLeod"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1242722149,"creation_date":1242640036,"answer_id":876935,"question_id":874581,"body_markdown":"You could use what Apple calls a SourceList. You see them in action in iTunes and in Mac OS X&#39;s Finder. It is an elegant solution to the problem you describe.\r\n\r\nA cross-platform, open source Java Swing component for doing this is here:\r\nhttp://explodingpixels.wordpress.com/2008/09/08/mac-widgets-for-java/\r\n\r\n","title":"Sectioned List in Java/Swing?","body":"<p>You could use what Apple calls a SourceList. You see them in action in iTunes and in Mac OS X's Finder. It is an elegant solution to the problem you describe.</p>\n\n<p>A cross-platform, open source Java Swing component for doing this is here:\n<a href=\"http://explodingpixels.wordpress.com/2008/09/08/mac-widgets-for-java/\" rel=\"nofollow noreferrer\">http://explodingpixels.wordpress.com/2008/09/08/mac-widgets-for-java/</a></p>\n"},{"comments":[{"owner":{"account_id":37832,"reputation":573,"user_id":108290,"accept_rate":67,"display_name":"Robert Kosara"},"score":0,"creation_date":1250986213,"post_id":1227213,"comment_id":1150352,"body_markdown":"Thanks, that looks really interesting. I ended up hacking up my own sectioned list in the end, because I didn&#39;t feel like including a large library just to get this one component. It works, but it&#39;s not perfect. GlazedLists looks like it might fit the bill really well.","body":"Thanks, that looks really interesting. I ended up hacking up my own sectioned list in the end, because I didn&#39;t feel like including a large library just to get this one component. It works, but it&#39;s not perfect. GlazedLists looks like it might fit the bill really well."},{"owner":{"account_id":6115694,"reputation":3228,"user_id":4770813,"accept_rate":53,"display_name":"Scaramouche"},"score":0,"creation_date":1548862707,"post_id":1227213,"comment_id":95697682,"body_markdown":"hello, http://publicobject.com/glazedlists/glazedlists-1.8.0/api/ca/odell/glazedlists/SeparatorList.html is dead, any relocations?","body":"hello, <a href=\"http://publicobject.com/glazedlists/glazedlists-1.8.0/api/ca/odell/glazedlists/SeparatorList.html\" rel=\"nofollow noreferrer\">publicobject.com/glazedlists/glazedlists-1.8.0/api/ca/odell/&zwnj;&#8203;&hellip;</a> is dead, any relocations?"}],"tags":[],"owner":{"account_id":49480,"reputation":206,"user_id":147322,"accept_rate":100,"display_name":"Ken"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1249388835,"creation_date":1249388835,"answer_id":1227213,"question_id":874581,"body_markdown":"I see this question is already answered, but I noticed that Robert commented that he was hoping for an open source solution. I&#39;d recommend using Glazed Lists&#39; Separator list, the API for which you can be found here:\r\n\r\nhttp://publicobject.com/glazedlists/glazedlists-1.8.0/api/ca/odell/glazedlists/SeparatorList.html\r\n\r\nHere&#39;s some sample code that will produce a list of items grouped by their first letter:\r\n\r\n![alt text][1]\r\n\r\n    public class SeparatorListTest {\r\n\r\n    private static Comparator&lt;String&gt; createComparator() {\r\n        return new Comparator&lt;String&gt;() {\r\n            public int compare(String stringOne, String stringTwo) {\r\n                return stringOne.substring(0,1).compareTo(stringTwo.substring(0,1));\r\n            }\r\n        };\r\n    }\r\n\r\n    private static ListCellRenderer createListCellRenderer() {\r\n        return new DefaultListCellRenderer() {\r\n            @Override\r\n            public Component getListCellRendererComponent(JList list, Object value, int index, boolean isSelected, boolean cellHasFocus) {\r\n                JLabel label = (JLabel) super.getListCellRendererComponent(list, value, index, isSelected, cellHasFocus);\r\n\r\n                if (value instanceof SeparatorList.Separator) {\r\n                    SeparatorList.Separator separator = (SeparatorList.Separator) value;\r\n                    label.setText(separator.getGroup().get(0).toString().substring(0,1));\r\n                    label.setFont(label.getFont().deriveFont(Font.BOLD));\r\n                    label.setBorder(BorderFactory.createEmptyBorder(0,5,0,0));\r\n                } else {\r\n                    label.setFont(label.getFont().deriveFont(Font.PLAIN));\r\n                    label.setBorder(BorderFactory.createEmptyBorder(0,15,0,0));\r\n                }\r\n\r\n                return label;\r\n            }\r\n        };\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        EventList&lt;String&gt; rawList = GlazedLists.eventListOf(\r\n                &quot;apple&quot;, &quot;appricot&quot;, &quot;acorn&quot;, &quot;blueberry&quot;, &quot;coconut&quot;, &quot;chesnut&quot;, &quot;grape&quot;);\r\n        SeparatorList&lt;String&gt; separatorList = \r\n                new SeparatorList&lt;String&gt;(rawList, createComparator(), 1, 1000);\r\n\r\n        JList list = new JList(new EventListModel&lt;String&gt;(separatorList));\r\n        list.setCellRenderer(createListCellRenderer());\r\n        JScrollPane scrollPane = new JScrollPane(list);\r\n        scrollPane.setBorder(null);\r\n\r\n        JFrame frame = new JFrame();\r\n        frame.add(scrollPane, BorderLayout.CENTER);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setSize(200,200);\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setVisible(true);\r\n    }\r\n}\r\n\r\n  [1]: http://img300.imageshack.us/img300/8977/separatorlist.png","title":"Sectioned List in Java/Swing?","body":"<p>I see this question is already answered, but I noticed that Robert commented that he was hoping for an open source solution. I'd recommend using Glazed Lists' Separator list, the API for which you can be found here:</p>\n\n<p><a href=\"http://publicobject.com/glazedlists/glazedlists-1.8.0/api/ca/odell/glazedlists/SeparatorList.html\" rel=\"nofollow noreferrer\">http://publicobject.com/glazedlists/glazedlists-1.8.0/api/ca/odell/glazedlists/SeparatorList.html</a></p>\n\n<p>Here's some sample code that will produce a list of items grouped by their first letter:</p>\n\n<p><a href=\"http://img300.imageshack.us/img300/8977/separatorlist.png\" rel=\"nofollow noreferrer\">alt text http://img300.imageshack.us/img300/8977/separatorlist.png</a></p>\n\n<pre><code>public class SeparatorListTest {\n\nprivate static Comparator&lt;String&gt; createComparator() {\n    return new Comparator&lt;String&gt;() {\n        public int compare(String stringOne, String stringTwo) {\n            return stringOne.substring(0,1).compareTo(stringTwo.substring(0,1));\n        }\n    };\n}\n\nprivate static ListCellRenderer createListCellRenderer() {\n    return new DefaultListCellRenderer() {\n        @Override\n        public Component getListCellRendererComponent(JList list, Object value, int index, boolean isSelected, boolean cellHasFocus) {\n            JLabel label = (JLabel) super.getListCellRendererComponent(list, value, index, isSelected, cellHasFocus);\n\n            if (value instanceof SeparatorList.Separator) {\n                SeparatorList.Separator separator = (SeparatorList.Separator) value;\n                label.setText(separator.getGroup().get(0).toString().substring(0,1));\n                label.setFont(label.getFont().deriveFont(Font.BOLD));\n                label.setBorder(BorderFactory.createEmptyBorder(0,5,0,0));\n            } else {\n                label.setFont(label.getFont().deriveFont(Font.PLAIN));\n                label.setBorder(BorderFactory.createEmptyBorder(0,15,0,0));\n            }\n\n            return label;\n        }\n    };\n}\n\npublic static void main(String[] args) {\n    EventList&lt;String&gt; rawList = GlazedLists.eventListOf(\n            \"apple\", \"appricot\", \"acorn\", \"blueberry\", \"coconut\", \"chesnut\", \"grape\");\n    SeparatorList&lt;String&gt; separatorList = \n            new SeparatorList&lt;String&gt;(rawList, createComparator(), 1, 1000);\n\n    JList list = new JList(new EventListModel&lt;String&gt;(separatorList));\n    list.setCellRenderer(createListCellRenderer());\n    JScrollPane scrollPane = new JScrollPane(list);\n    scrollPane.setBorder(null);\n\n    JFrame frame = new JFrame();\n    frame.add(scrollPane, BorderLayout.CENTER);\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.setSize(200,200);\n    frame.setLocationRelativeTo(null);\n    frame.setVisible(true);\n}\n</code></pre>\n\n<p>}</p>\n"}],"owner":{"account_id":37832,"reputation":573,"user_id":108290,"accept_rate":67,"display_name":"Robert Kosara"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1793,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":1227213,"answer_count":4,"score":1,"last_activity_date":1673492049,"creation_date":1242565559,"question_id":874581,"body_markdown":"I have a list of items in a `JList` for the user to select. Since it&#39;s a lot of items (say, cities in states), I want to divide the list into sections. The section headings should not be selectable, though. So for my cities/states example, this might look like this:\r\n\r\n- State 1  \r\n    - City 1\r\n    - City 2\r\n    - City 3\r\n- State 2\r\n    - City 4\r\n    - City 5\r\n    - City 6\r\n\r\nIt wouldn&#39;t be so difficult to write this myself by embedding `JList`s in a custom `ListCellRenderer`, but I&#39;m wondering if there already is a class like that out there.","title":"Sectioned List in Java/Swing?","body":"<p>I have a list of items in a <code>JList</code> for the user to select. Since it's a lot of items (say, cities in states), I want to divide the list into sections. The section headings should not be selectable, though. So for my cities/states example, this might look like this:</p>\n\n<ul>\n<li>State 1  \n\n<ul>\n<li>City 1</li>\n<li>City 2</li>\n<li>City 3</li>\n</ul></li>\n<li>State 2\n\n<ul>\n<li>City 4</li>\n<li>City 5</li>\n<li>City 6</li>\n</ul></li>\n</ul>\n\n<p>It wouldn't be so difficult to write this myself by embedding <code>JList</code>s in a custom <code>ListCellRenderer</code>, but I'm wondering if there already is a class like that out there.</p>\n"},{"tags":["java","ssl","proxy","unirest"],"answers":[{"comments":[{"owner":{"account_id":21686940,"reputation":75,"user_id":16002233,"display_name":"LeoAlmDiniz"},"score":0,"creation_date":1671199903,"post_id":74818169,"comment_id":132053880,"body_markdown":"Thank you very much for you answer. I&#39;ll surely devote some attention to the content you&#39;ve shared here. Also, today we had a meeting which included we developers of the API, our perimeter analysts (one dedicated to the firewall settings and another one dedicated with proxy issues), and network analysts from Quantum. The problem is still not solved, but we&#39;ve advanced. As soon as it be solved, I will post a complete answer here describing how we proceeded, so maybe this report helps someone in the future.","body":"Thank you very much for you answer. I&#39;ll surely devote some attention to the content you&#39;ve shared here. Also, today we had a meeting which included we developers of the API, our perimeter analysts (one dedicated to the firewall settings and another one dedicated with proxy issues), and network analysts from Quantum. The problem is still not solved, but we&#39;ve advanced. As soon as it be solved, I will post a complete answer here describing how we proceeded, so maybe this report helps someone in the future."},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1671230327,"post_id":74818169,"comment_id":132062424,"body_markdown":"You are welcome @LeoAlmDiniz. On the contrary, thank you very much for the feedback you provided: I&#39;m glad to know that you made progress in solving the problem. I hope it will be fully resolved soon.","body":"You are welcome @LeoAlmDiniz. On the contrary, thank you very much for the feedback you provided: I&#39;m glad to know that you made progress in solving the problem. I hope it will be fully resolved soon."}],"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671142624,"creation_date":1671142624,"answer_id":74818169,"question_id":74722730,"body_markdown":"According to the logs the connection is being reset by your peer:\r\n\r\n```\r\nSuppressed: java.net.SocketException: Connection reset by peer: socket write error\r\n        at java.base/java.net.SocketOutputStream.socketWrite0(Native Method)\r\n        at java.base/java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:110)\r\n        at java.base/java.net.SocketOutputStream.write(SocketOutputStream.java:150)\r\n        at java.base/sun.security.ssl.SSLSocketOutputRecord.encodeAlert(SSLSocketOutputRecord.java:81)\r\n        at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:351)\r\n        ... 120 more\r\n```\r\n\r\nAnd the peer in this case could be the proxy you are using: as you explained it certainly makes a difference when using the proxy or not.\r\n\r\nI don&#39;t fully understand your setup and I am not used to work with OpenShift but please, consider read [this related SO question](https://stackoverflow.com/questions/47812807/openshift-service-proxy-timeout), it could be of help: the `30` seconds you indicated is the [default timeout](https://docs.openshift.com/container-platform/3.11/architecture/networking/routes.html#time-units) for the ingress router and may be causing the error you are facing for long running requests.\r\n\r\nAs suggested, if necessary, [try increasing](https://docs.openshift.com/container-platform/3.11/install_config/configuring_routing.html) this default timeout to a more suitable value:\r\n\r\n```\r\noc annotate route &lt;route_name&gt; --overwrite \r\n  haproxy.router.openshift.io/timeout=&lt;timeout&gt;&lt;time_unit&gt;\r\n```","title":"javax.net.ssl.SSLException: Connection reset but ONLY for proxied requests","body":"<p>According to the logs the connection is being reset by your peer:</p>\n<pre><code>Suppressed: java.net.SocketException: Connection reset by peer: socket write error\n        at java.base/java.net.SocketOutputStream.socketWrite0(Native Method)\n        at java.base/java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:110)\n        at java.base/java.net.SocketOutputStream.write(SocketOutputStream.java:150)\n        at java.base/sun.security.ssl.SSLSocketOutputRecord.encodeAlert(SSLSocketOutputRecord.java:81)\n        at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:351)\n        ... 120 more\n</code></pre>\n<p>And the peer in this case could be the proxy you are using: as you explained it certainly makes a difference when using the proxy or not.</p>\n<p>I don't fully understand your setup and I am not used to work with OpenShift but please, consider read <a href=\"https://stackoverflow.com/questions/47812807/openshift-service-proxy-timeout\">this related SO question</a>, it could be of help: the <code>30</code> seconds you indicated is the <a href=\"https://docs.openshift.com/container-platform/3.11/architecture/networking/routes.html#time-units\" rel=\"nofollow noreferrer\">default timeout</a> for the ingress router and may be causing the error you are facing for long running requests.</p>\n<p>As suggested, if necessary, <a href=\"https://docs.openshift.com/container-platform/3.11/install_config/configuring_routing.html\" rel=\"nofollow noreferrer\">try increasing</a> this default timeout to a more suitable value:</p>\n<pre><code>oc annotate route &lt;route_name&gt; --overwrite \n  haproxy.router.openshift.io/timeout=&lt;timeout&gt;&lt;time_unit&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21686940,"reputation":75,"user_id":16002233,"display_name":"LeoAlmDiniz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673490036,"creation_date":1673490036,"answer_id":75090921,"question_id":74722730,"body_markdown":"We finally solved it!\r\n\r\nI&#39;ll detail it, so maybe it helps someone in the future.\r\n\r\nOkay, so we could solve the problem by the following approach:\r\n\r\n1) We reunited in a call with all the team of analysts involved: me and a colleague who are developers of the client API, 2 perimeter analysts from our company, which could clarify the firewall/proxy server policies of our company, 1 perimeter analyst of the destiny API (quantum) and 2 developers of the destiny API. I mentioned this in the answer I gave to @jccampanero\r\n\r\np.s.: I really thank @jcccampanero for his answer. It&#39;s always refreshing to at least know there are people willing to help. Indeed, there was no problem with our configurations in the OpenShift platform, nor could there be, because -- and maybe I forgot to mention -- the requests were being made from our API not from external stimulae, but by routines scheduled using Spring Boot functionalities. So there would be no reason for the OpenShift security policies to interfere.\r\n\r\n2) In the meeting, we could test all together the requests, track these requests with the proper tools each team had. With that, we could be sure the problem was indeed in our company proxy server behavior. To sum up the situation as in the day of the call:\r\n-&gt; Firewall/Proxy access rules were correct. Every request was able to exit our application, reach the proxy server, be directed to the reverse proxy of the destiny API and then comunicate as desired;\r\n-&gt; However, connections which the requests took more than 30 seconds to complete were being reset BY THE PROXY SERVER;\r\n-&gt; However, our perimeter analysts did a full check in the proxy server configurations and showed us that there was NO RULE to timeout longer connections, nor any bandwith limitation.\r\n\r\nAs for why the connections were being reset without any configuration specifing the proxy server to behave that way, the analysts could not respond. They said the only thing they could do was to contact the vendor [Checkpoint][1].\r\n\r\nHowever, luckily, our company infrastructure was already planning to migrate the proxy server of our applications for a new product, ProxyWSA from [Cisco][2]. Because of the issue with the old proxy, the perimeter analysts allowed us to migrate our application sooner than others.\r\n\r\nWe then altered our application to work sending the request through the new ProxyWSA. Firewall/Proxy server rules were adjusted to allow conectivity and destiny IP to be reach. Finally, with the new proxy server from Cisco, shorter and longer requests could be completed sucessfully, and now our application is able to schedule requests without any limitations.\r\n\r\nLong story short:\r\nCheckpoint was a bad vendor. Cisco was a good vendor.\r\n\r\n  [1]: https://www.checkpoint.com/\r\n  [2]: https://www.cisco.com/c/pt_br/support/docs/security/web-security-appliance/117952-qanda-wsa-00.html","title":"javax.net.ssl.SSLException: Connection reset but ONLY for proxied requests","body":"<p>We finally solved it!</p>\n<p>I'll detail it, so maybe it helps someone in the future.</p>\n<p>Okay, so we could solve the problem by the following approach:</p>\n<ol>\n<li>We reunited in a call with all the team of analysts involved: me and a colleague who are developers of the client API, 2 perimeter analysts from our company, which could clarify the firewall/proxy server policies of our company, 1 perimeter analyst of the destiny API (quantum) and 2 developers of the destiny API. I mentioned this in the answer I gave to @jccampanero</li>\n</ol>\n<p>p.s.: I really thank @jcccampanero for his answer. It's always refreshing to at least know there are people willing to help. Indeed, there was no problem with our configurations in the OpenShift platform, nor could there be, because -- and maybe I forgot to mention -- the requests were being made from our API not from external stimulae, but by routines scheduled using Spring Boot functionalities. So there would be no reason for the OpenShift security policies to interfere.</p>\n<ol start=\"2\">\n<li>In the meeting, we could test all together the requests, track these requests with the proper tools each team had. With that, we could be sure the problem was indeed in our company proxy server behavior. To sum up the situation as in the day of the call:\n-&gt; Firewall/Proxy access rules were correct. Every request was able to exit our application, reach the proxy server, be directed to the reverse proxy of the destiny API and then comunicate as desired;\n-&gt; However, connections which the requests took more than 30 seconds to complete were being reset BY THE PROXY SERVER;\n-&gt; However, our perimeter analysts did a full check in the proxy server configurations and showed us that there was NO RULE to timeout longer connections, nor any bandwith limitation.</li>\n</ol>\n<p>As for why the connections were being reset without any configuration specifing the proxy server to behave that way, the analysts could not respond. They said the only thing they could do was to contact the vendor <a href=\"https://www.checkpoint.com/\" rel=\"nofollow noreferrer\">Checkpoint</a>.</p>\n<p>However, luckily, our company infrastructure was already planning to migrate the proxy server of our applications for a new product, ProxyWSA from <a href=\"https://www.cisco.com/c/pt_br/support/docs/security/web-security-appliance/117952-qanda-wsa-00.html\" rel=\"nofollow noreferrer\">Cisco</a>. Because of the issue with the old proxy, the perimeter analysts allowed us to migrate our application sooner than others.</p>\n<p>We then altered our application to work sending the request through the new ProxyWSA. Firewall/Proxy server rules were adjusted to allow conectivity and destiny IP to be reach. Finally, with the new proxy server from Cisco, shorter and longer requests could be completed sucessfully, and now our application is able to schedule requests without any limitations.</p>\n<p>Long story short:\nCheckpoint was a bad vendor. Cisco was a good vendor.</p>\n"}],"owner":{"account_id":21686940,"reputation":75,"user_id":16002233,"display_name":"LeoAlmDiniz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1950,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1673490036,"creation_date":1670446326,"question_id":74722730,"body_markdown":"We are implementing a scheduled DB update using an API from quantum.\r\n\r\nhttps://www.quantumaxis.com.br/apibasic.\r\n\r\nThis has been working with the Unirest toolkit:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    try {\r\n    \tresponse = Unirest\r\n    \t\t.get(url)\r\n    \t\t.header(&quot;Authorization&quot;, &quot;Basic &lt;maskedValue&gt;&quot;\r\n    \t\t.header(&quot;cache-control&quot;, &quot;no-cache&quot;)\r\n    \t\t.socketTimeout(500000)\r\n    \t\t.connectTimeout(500000)\r\n    \t\t.proxy(proxy, Integer.valueOf(proxyPort))\r\n    \t\t.asObject(QuantumDTO.class);\r\n    } catch (Exception e) {\r\n    \tLOGGER.info(e.getMessage());\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nWe had different problems to connect with the API, including firewall and proxy rules from our own domain. Before these rules were correctly adjusted, we used to get SLL Handshake Exception from the API.\r\n\r\nSince it was fixed, it has been working well. However, what happens now is that for requests that the API response body is short, i.e. a response below 30 seconds, the response successfully arrives and integration is done correctly.\r\n\r\nHowever, for requests that receive large bodies, which would take more than 30 seconds, the SLL Connection is being reset, returning javax.net.ssl.SSLException: Connection reset. What is most curious is that if I remove the proxy from request configuration, it works, even if the response takes more than 30 seconds to arrive.\r\n\r\nReasonably you could ask: why use the proxy then? I need to use it, because this application is being deployed in container on an OpenShift platform from which requests cannot be made for external domains without the proxy configuration.\r\n\r\nIs there something I&#39;m missing? Would there be any reasonable explanation for the either the client or the server to forcibly close the connection when it passes through the proxy server, and otherwise not?\r\n\r\nEDIT:\r\nI&#39;m in the company I work in today, and I got the logs using Java -debug=ALL argument. The error appears as follows. One answer that I would appreciate a lot to have is... according to these logs, who is reseting the connection? My application (client) or the peer (server)?\r\n\r\n```\r\nkong.unirest.UnirestException: javax.net.ssl.SSLException: Connection reset\r\n\tat kong.unirest.DefaultInterceptor.onFail(DefaultInterceptor.java:43)\r\n\tat kong.unirest.CompoundInterceptor.lambda$onFail$2(CompoundInterceptor.java:54)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n\tat java.base/java.util.Collections$2.tryAdvance(Collections.java:4747)\r\n\tat java.base/java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:127)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:502)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:488)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n\tat java.base/java.util.stream.FindOps$FindOp.evaluateSequential(FindOps.java:150)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.findFirst(ReferencePipeline.java:543)\r\n\tat kong.unirest.CompoundInterceptor.onFail(CompoundInterceptor.java:56)\r\n\tat kong.unirest.apache.ApacheClient.request(ApacheClient.java:138)\r\n\tat kong.unirest.Client.request(Client.java:57)\r\n\tat kong.unirest.BaseRequest.request(BaseRequest.java:359)\r\n\tat kong.unirest.BaseRequest.asObject(BaseRequest.java:260)\r\n\tat br.com.santander.oq.service.impl.QuantumServiceImpl.getQuantumData(QuantumServiceImpl.java:102)\r\n\tat br.com.santander.oq.service.impl.QuantumServiceImpl.getQuantumFunds(QuantumServiceImpl.java:49)\r\n\tat br.com.santander.oq.scheduled.QuantumSchedule.updateQuantumFunds(QuantumSchedule.java:61)\r\n\tat br.com.santander.oq.scheduled.QuantumSchedule$$FastClassBySpringCGLIB$$993fc4e.invoke(&lt;generated&gt;)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n\tat org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)\r\n\tat org.springframework.cloud.sleuth.instrument.scheduling.TraceSchedulingAspect.traceBackgroundThread(TraceSchedulingAspect.java:76)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor157.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)\r\n\tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)\r\n\tat org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:367)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)\r\n\tat br.com.santander.oq.scheduled.QuantumSchedule$$EnhancerBySpringCGLIB$$f085cec3.updateQuantumFunds(&lt;generated&gt;)\r\n\tat br.com.santander.oq.controller.QuantumController.getFunds(QuantumController.java:38)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:665)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:750)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat brave.servlet.TracingFilter.doFilter(TracingFilter.java:68)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:209)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat brave.servlet.TracingFilter.doFilter(TracingFilter.java:87)\r\n\tat org.springframework.cloud.sleuth.instrument.web.LazyTracingFilter.doFilter(TraceWebServletAutoConfiguration.java:139)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\nCaused by: javax.net.ssl.SSLException: Connection reset\r\n\tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:127)\r\n\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:320)\r\n\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:263)\r\n\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:258)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.handleException(SSLSocketImpl.java:1314)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:839)\r\n\tat org.apache.http.impl.io.SessionInputBufferImpl.streamRead(SessionInputBufferImpl.java:137)\r\n\tat org.apache.http.impl.io.SessionInputBufferImpl.fillBuffer(SessionInputBufferImpl.java:153)\r\n\tat org.apache.http.impl.io.SessionInputBufferImpl.readLine(SessionInputBufferImpl.java:280)\r\n\tat org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:138)\r\n\tat org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:56)\r\n\tat org.apache.http.impl.io.AbstractMessageParser.parse(AbstractMessageParser.java:259)\r\n\tat org.apache.http.impl.DefaultBHttpClientConnection.receiveResponseHeader(DefaultBHttpClientConnection.java:163)\r\n\tat org.apache.http.impl.conn.CPoolProxy.receiveResponseHeader(CPoolProxy.java:157)\r\n\tat org.apache.http.protocol.HttpRequestExecutor.doReceiveResponse(HttpRequestExecutor.java:273)\r\n\tat org.apache.http.protocol.HttpRequestExecutor.execute(HttpRequestExecutor.java:125)\r\n\tat org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:272)\r\n\tat org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)\r\n\tat org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)\r\n\tat org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\r\n\tat org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:118)\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)\r\n\tat kong.unirest.apache.ApacheClient.request(ApacheClient.java:129)\r\n\t... 98 more\r\n\tSuppressed: java.net.SocketException: Connection reset by peer: socket write error\r\n\t\tat java.base/java.net.SocketOutputStream.socketWrite0(Native Method)\r\n\t\tat java.base/java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:110)\r\n\t\tat java.base/java.net.SocketOutputStream.write(SocketOutputStream.java:150)\r\n\t\tat java.base/sun.security.ssl.SSLSocketOutputRecord.encodeAlert(SSLSocketOutputRecord.java:81)\r\n\t\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:351)\r\n\t\t... 120 more\r\nCaused by: java.net.SocketException: Connection reset\r\n\tat java.base/java.net.SocketInputStream.read(SocketInputStream.java:186)\r\n\tat java.base/java.net.SocketInputStream.read(SocketInputStream.java:140)\r\n\tat java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:448)\r\n\tat java.base/sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:68)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1104)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:823)\r\n\t... 116 more\r\n```\r\n","title":"javax.net.ssl.SSLException: Connection reset but ONLY for proxied requests","body":"<p>We are implementing a scheduled DB update using an API from quantum.</p>\n<p><a href=\"https://www.quantumaxis.com.br/apibasic\" rel=\"nofollow noreferrer\">https://www.quantumaxis.com.br/apibasic</a>.</p>\n<p>This has been working with the Unirest toolkit:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    response = Unirest\n        .get(url)\n        .header(&quot;Authorization&quot;, &quot;Basic &lt;maskedValue&gt;&quot;\n        .header(&quot;cache-control&quot;, &quot;no-cache&quot;)\n        .socketTimeout(500000)\n        .connectTimeout(500000)\n        .proxy(proxy, Integer.valueOf(proxyPort))\n        .asObject(QuantumDTO.class);\n} catch (Exception e) {\n    LOGGER.info(e.getMessage());\n}\n</code></pre>\n<p>We had different problems to connect with the API, including firewall and proxy rules from our own domain. Before these rules were correctly adjusted, we used to get SLL Handshake Exception from the API.</p>\n<p>Since it was fixed, it has been working well. However, what happens now is that for requests that the API response body is short, i.e. a response below 30 seconds, the response successfully arrives and integration is done correctly.</p>\n<p>However, for requests that receive large bodies, which would take more than 30 seconds, the SLL Connection is being reset, returning javax.net.ssl.SSLException: Connection reset. What is most curious is that if I remove the proxy from request configuration, it works, even if the response takes more than 30 seconds to arrive.</p>\n<p>Reasonably you could ask: why use the proxy then? I need to use it, because this application is being deployed in container on an OpenShift platform from which requests cannot be made for external domains without the proxy configuration.</p>\n<p>Is there something I'm missing? Would there be any reasonable explanation for the either the client or the server to forcibly close the connection when it passes through the proxy server, and otherwise not?</p>\n<p>EDIT:\nI'm in the company I work in today, and I got the logs using Java -debug=ALL argument. The error appears as follows. One answer that I would appreciate a lot to have is... according to these logs, who is reseting the connection? My application (client) or the peer (server)?</p>\n<pre><code>kong.unirest.UnirestException: javax.net.ssl.SSLException: Connection reset\n    at kong.unirest.DefaultInterceptor.onFail(DefaultInterceptor.java:43)\n    at kong.unirest.CompoundInterceptor.lambda$onFail$2(CompoundInterceptor.java:54)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\n    at java.base/java.util.Collections$2.tryAdvance(Collections.java:4747)\n    at java.base/java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:127)\n    at java.base/java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:502)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:488)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n    at java.base/java.util.stream.FindOps$FindOp.evaluateSequential(FindOps.java:150)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.base/java.util.stream.ReferencePipeline.findFirst(ReferencePipeline.java:543)\n    at kong.unirest.CompoundInterceptor.onFail(CompoundInterceptor.java:56)\n    at kong.unirest.apache.ApacheClient.request(ApacheClient.java:138)\n    at kong.unirest.Client.request(Client.java:57)\n    at kong.unirest.BaseRequest.request(BaseRequest.java:359)\n    at kong.unirest.BaseRequest.asObject(BaseRequest.java:260)\n    at br.com.santander.oq.service.impl.QuantumServiceImpl.getQuantumData(QuantumServiceImpl.java:102)\n    at br.com.santander.oq.service.impl.QuantumServiceImpl.getQuantumFunds(QuantumServiceImpl.java:49)\n    at br.com.santander.oq.scheduled.QuantumSchedule.updateQuantumFunds(QuantumSchedule.java:61)\n    at br.com.santander.oq.scheduled.QuantumSchedule$$FastClassBySpringCGLIB$$993fc4e.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n    at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)\n    at org.springframework.cloud.sleuth.instrument.scheduling.TraceSchedulingAspect.traceBackgroundThread(TraceSchedulingAspect.java:76)\n    at jdk.internal.reflect.GeneratedMethodAccessor157.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)\n    at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:367)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)\n    at br.com.santander.oq.scheduled.QuantumSchedule$$EnhancerBySpringCGLIB$$f085cec3.updateQuantumFunds(&lt;generated&gt;)\n    at br.com.santander.oq.controller.QuantumController.getFunds(QuantumController.java:38)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:665)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:750)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at brave.servlet.TracingFilter.doFilter(TracingFilter.java:68)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:209)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at brave.servlet.TracingFilter.doFilter(TracingFilter.java:87)\n    at org.springframework.cloud.sleuth.instrument.web.LazyTracingFilter.doFilter(TraceWebServletAutoConfiguration.java:139)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: javax.net.ssl.SSLException: Connection reset\n    at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:127)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:320)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:263)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:258)\n    at java.base/sun.security.ssl.SSLSocketImpl.handleException(SSLSocketImpl.java:1314)\n    at java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:839)\n    at org.apache.http.impl.io.SessionInputBufferImpl.streamRead(SessionInputBufferImpl.java:137)\n    at org.apache.http.impl.io.SessionInputBufferImpl.fillBuffer(SessionInputBufferImpl.java:153)\n    at org.apache.http.impl.io.SessionInputBufferImpl.readLine(SessionInputBufferImpl.java:280)\n    at org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:138)\n    at org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:56)\n    at org.apache.http.impl.io.AbstractMessageParser.parse(AbstractMessageParser.java:259)\n    at org.apache.http.impl.DefaultBHttpClientConnection.receiveResponseHeader(DefaultBHttpClientConnection.java:163)\n    at org.apache.http.impl.conn.CPoolProxy.receiveResponseHeader(CPoolProxy.java:157)\n    at org.apache.http.protocol.HttpRequestExecutor.doReceiveResponse(HttpRequestExecutor.java:273)\n    at org.apache.http.protocol.HttpRequestExecutor.execute(HttpRequestExecutor.java:125)\n    at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:272)\n    at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)\n    at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)\n    at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\n    at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:118)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)\n    at kong.unirest.apache.ApacheClient.request(ApacheClient.java:129)\n    ... 98 more\n    Suppressed: java.net.SocketException: Connection reset by peer: socket write error\n        at java.base/java.net.SocketOutputStream.socketWrite0(Native Method)\n        at java.base/java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:110)\n        at java.base/java.net.SocketOutputStream.write(SocketOutputStream.java:150)\n        at java.base/sun.security.ssl.SSLSocketOutputRecord.encodeAlert(SSLSocketOutputRecord.java:81)\n        at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:351)\n        ... 120 more\nCaused by: java.net.SocketException: Connection reset\n    at java.base/java.net.SocketInputStream.read(SocketInputStream.java:186)\n    at java.base/java.net.SocketInputStream.read(SocketInputStream.java:140)\n    at java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:448)\n    at java.base/sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:68)\n    at java.base/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1104)\n    at java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:823)\n    ... 116 more\n</code></pre>\n"},{"tags":["java","multithreading","loops","wait","notify"],"comments":[{"owner":{"display_name":"user4910279"},"score":1,"creation_date":1616944545,"post_id":66842463,"comment_id":118155158,"body_markdown":"You need to have exclusive control when updating the static variable `threatGenerator.count`. Otherwise, you may not get the correct results.","body":"You need to have exclusive control when updating the static variable <code>threatGenerator.count</code>. Otherwise, you may not get the correct results."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1616944725,"post_id":66842463,"comment_id":118155226,"body_markdown":"Looks like a job for [java.util.concurrent.CountDownLatch](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CountDownLatch.html).","body":"Looks like a job for <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CountDownLatch.html\" rel=\"nofollow noreferrer\">java.util.concurrent.CountDownLatch</a>."},{"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"score":0,"creation_date":1616947588,"post_id":66842463,"comment_id":118156126,"body_markdown":"Alternatively, you may consider [the following answer](https://stackoverflow.com/a/51141370/697630).","body":"Alternatively, you may consider <a href=\"https://stackoverflow.com/a/51141370/697630\">the following answer</a>."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1616970031,"post_id":66842463,"comment_id":118162427,"body_markdown":"Please type in proper case and English. This site is meant to be more like Wikipedia, and less like a casual chat room.","body":"Please type in proper case and English. This site is meant to be more like Wikipedia, and less like a casual chat room."},{"owner":{"account_id":4034876,"reputation":1557,"user_id":3319725,"display_name":"AnatolyG"},"score":0,"creation_date":1617020537,"post_id":66842463,"comment_id":118175566,"body_markdown":"Store references to all created and started threads to a list and then call .join() on each of them. The method .join() is was designed exactly for cases like yours","body":"Store references to all created and started threads to a list and then call .join() on each of them. The method .join() is was designed exactly for cases like yours"}],"answers":[{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1616942607,"creation_date":1616942607,"answer_id":66842639,"question_id":66842463,"body_markdown":"&gt; is there anyway to wait for all the thread in loop finished...?\r\n\r\nIf you change your program to keep all of the `Thread` references (e.g., by adding them to an `ArrayList&lt;Thread&gt;`,) then you can write a second loop that `join()`s all of the threads.\r\n\r\nhttps://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Thread.html#join()\r\n\r\n`t.join()` waits (i.e., does not return) until the thread `t` has terminated.","title":"Create threads in loop and wait until all threads finished in java","body":"<blockquote>\n<p>is there anyway to wait for all the thread in loop finished...?</p>\n</blockquote>\n<p>If you change your program to keep all of the <code>Thread</code> references (e.g., by adding them to an <code>ArrayList&lt;Thread&gt;</code>,) then you can write a second loop that <code>join()</code>s all of the threads.</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Thread.html#join()\" rel=\"noreferrer\">https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Thread.html#join()</a></p>\n<p><code>t.join()</code> waits (i.e., does not return) until the thread <code>t</code> has terminated.</p>\n"},{"comments":[{"owner":{"account_id":4034876,"reputation":1557,"user_id":3319725,"display_name":"AnatolyG"},"score":0,"creation_date":1617021115,"post_id":66846953,"comment_id":118175806,"body_markdown":"The original question seems to be not about the best practices in the multithreading programming, but specifically how to wait for a java thread to be finished. I&#39;m also sure that people should learn/understand how java threads works in details (including JMM) first, and only then they can learn/use any kind of wrappers/frameworks built over the threads to be more... &quot;modern&quot; :)","body":"The original question seems to be not about the best practices in the multithreading programming, but specifically how to wait for a java thread to be finished. I&#39;m also sure that people should learn/understand how java threads works in details (including JMM) first, and only then they can learn/use any kind of wrappers/frameworks built over the threads to be more... &quot;modern&quot; :)"}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1616972796,"creation_date":1616972365,"answer_id":66846953,"question_id":66842463,"body_markdown":"# tl;dr\r\n\r\nUsing modern Java, define your task as a `Callable` that returns a result. Submit your task objects to an executor service. That service returns a `Future` object to track each tasks completion status and result. Collect these `Future` objects.\r\n\r\nWait for your executor service to shut down. When done, loop your collected `Future` objects to retrieve the results of each task.\r\n\r\n# Executor service\r\n\r\nIn modern Java, we rarely need to address the `Thread` class directly. The executor service framework was created to handle the chore of juggling threads. See [tutorial by Oracle][1].\r\n\r\nDefine your task as [`Runnable`][2], or as a [`Callable`][3] when you expect a result to be returned. \r\n\r\nWhen you submit a `Callable` to an executor service, you get back a `Future` object. Collect those `Future` objects, as they will contain the result of your `Callable` task objects work.\r\n\r\nTo wait for all the tasks to be done, or canceled, or failed, call `ExecutorSerivce#shutdown` and then `ExecutorService#awaitTermination`. That first one tells the service to shut down after all submitted tasks are finished. The second blocks the flow-of-control to wait until all the tasks are finished and the service has been shut down. The second one takes time-out parameters, to force a shutdown if need be.\r\n\r\nWhen past those calls, loop your collection of `Future` objects. Ask each for its contents, the results of your tasks work.\r\n\r\nIn the following example, we have a simple `Callable` that returns an `Integer` object with some number we imagine to be calculated but for the sake of this demo is simply generated randomly. We sleep for a random few seconds, to simulate lots of real work that takes a while.\r\n\r\n```java\r\n    class IntegerProvider implements Callable &lt; Integer &gt;\r\n    {\r\n        @Override\r\n        public Integer call ( ) throws Exception\r\n        {\r\n            System.out.println( &quot;INFO - Starting `call` method. &quot; + Instant.now() );\r\n            // Pretend we have lots of work to do by putting this thread to sleep a few seconds.\r\n            Duration duration = Duration.ofSeconds( ThreadLocalRandom.current().nextInt( 1 , 7 ) );\r\n            Thread.sleep( duration.toMillis() );\r\n            // Now pretend we did some work to calculate a number as a result.\r\n            int i = ThreadLocalRandom.current().nextInt( 7 , 42 );\r\n            Integer result = java.lang.Integer.valueOf( i );\r\n            return result;\r\n        }\r\n    }\r\n```\r\n\r\nThen we have some code to start an executor service, and submit several of these `IntegerProvider` task objects. When done, we sum total of their results.\r\n\r\n```java\r\n        ExecutorService executorService = Executors.newFixedThreadPool( 3 );\r\n        int limit = 20;\r\n        List &lt; Future &lt; Integer &gt; &gt; futures = new ArrayList &lt;&gt;( limit );\r\n        for ( int i = 0 ; i &lt; limit ; i++ )\r\n        {\r\n            IntegerProvider callableTask = new IntegerProvider();\r\n            Future &lt; Integer &gt; future = executorService.submit( callableTask );\r\n            futures.add( future );\r\n        }\r\n\r\n        // Wait for submitted tasks to be done/canceled/failed.\r\n        executorService.shutdown();\r\n        try { executorService.awaitTermination( 1 , TimeUnit.HOURS ); } catch ( InterruptedException e ) { e.printStackTrace(); }\r\n\r\n        // At this point, all the submitted tasks are done. Process results.\r\n        int total = 0;\r\n        for ( Future &lt; Integer &gt; future : futures )\r\n        {\r\n            // Process each `future` object. Get the result of each task&#39;s calculation. Sum total.\r\n            if ( future.isCancelled() )\r\n            {\r\n                System.out.println( &quot;Oops, this future is canceled.&quot; );\r\n            } else if ( future.isDone() )\r\n            {\r\n                try { total = ( total + future.get() ); }\r\n                catch ( InterruptedException e ) { e.printStackTrace(); }\r\n                catch ( ExecutionException e ) { e.printStackTrace(); }\r\n            } else\r\n            {\r\n                System.out.println( &quot;ERROR - Should never reach this point.&quot; );\r\n            }\r\n        }\r\n        System.out.println( &quot;total = &quot; + total );\r\n```\r\n\r\nHere is a complete single class to demonstrate.\r\n\r\n\r\n```java\r\npackage work.basil.numbers;\r\n\r\nimport java.time.Duration;\r\nimport java.time.Instant;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.concurrent.*;\r\n\r\npublic class App\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        App app = new App();\r\n        app.demo();\r\n    }\r\n\r\n    private void demo ( )\r\n    {\r\n        System.out.println( &quot;INFO - Starting `demo` method. &quot; + Instant.now() );\r\n\r\n        ExecutorService executorService = Executors.newFixedThreadPool( 3 );\r\n        int limit = 20;\r\n        List &lt; Future &lt; Integer &gt; &gt; futures = new ArrayList &lt;&gt;( limit );\r\n        for ( int i = 0 ; i &lt; limit ; i++ )\r\n        {\r\n            IntegerProvider callableTask = new IntegerProvider();\r\n            Future &lt; Integer &gt; future = executorService.submit( callableTask );\r\n            futures.add( future );\r\n        }\r\n\r\n        // Wait for submitted tasks to be done/canceled/failed.\r\n        executorService.shutdown();\r\n        try { executorService.awaitTermination( 1 , TimeUnit.HOURS ); } catch ( InterruptedException e ) { e.printStackTrace(); }\r\n\r\n        // At this point, all the submitted tasks are done. Process results.\r\n        int total = 0;\r\n        for ( Future &lt; Integer &gt; future : futures )\r\n        {\r\n            // Process each `future` object. Get the result of each task&#39;s calculation. Sum total.\r\n            if ( future.isCancelled() )\r\n            {\r\n                System.out.println( &quot;Oops, this future is canceled.&quot; );\r\n            } else if ( future.isDone() )\r\n            {\r\n                try { total = ( total + future.get() ); }\r\n                catch ( InterruptedException e ) { e.printStackTrace(); }\r\n                catch ( ExecutionException e ) { e.printStackTrace(); }\r\n            } else\r\n            {\r\n                System.out.println( &quot;ERROR - Should never reach this point.&quot; );\r\n            }\r\n        }\r\n        System.out.println( &quot;total = &quot; + total );\r\n        System.out.println( &quot;INFO - Ending `demo` method. &quot; + Instant.now() );\r\n    }\r\n\r\n    class IntegerProvider implements Callable &lt; Integer &gt;\r\n    {\r\n        @Override\r\n        public Integer call ( ) throws Exception\r\n        {\r\n            System.out.println( &quot;INFO - Starting `call` method. &quot; + Instant.now() );\r\n            // Pretend we have lots of work to do by putting this thread to sleep a few seconds.\r\n            Duration duration = Duration.ofSeconds( ThreadLocalRandom.current().nextInt( 1 , 7 ) );\r\n            Thread.sleep( duration.toMillis() );\r\n            // Now pretend we did some work to calculate a number as a result.\r\n            int i = ThreadLocalRandom.current().nextInt( 7 , 42 );\r\n            Integer result = java.lang.Integer.valueOf( i );\r\n            return result;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhen run.\r\n\r\n```none\r\nINFO - Starting `demo` method. 2021-03-28T22:47:21.717806Z\r\nINFO - Starting `call` method. 2021-03-28T22:47:21.743966Z\r\nINFO - Starting `call` method. 2021-03-28T22:47:21.744736Z\r\nINFO - Starting `call` method. 2021-03-28T22:47:21.744890Z\r\nINFO - Starting `call` method. 2021-03-28T22:47:22.745855Z\r\nINFO - Starting `call` method. 2021-03-28T22:47:24.749539Z\r\nINFO - Starting `call` method. 2021-03-28T22:47:24.749522Z\r\nINFO - Starting `call` method. 2021-03-28T22:47:25.749902Z\r\nINFO - Starting `call` method. 2021-03-28T22:47:26.749692Z\r\nINFO - Starting `call` method. 2021-03-28T22:47:26.750092Z\r\nINFO - Starting `call` method. 2021-03-28T22:47:27.755313Z\r\nINFO - Starting `call` method. 2021-03-28T22:47:28.752061Z\r\nINFO - Starting `call` method. 2021-03-28T22:47:28.752030Z\r\nINFO - Starting `call` method. 2021-03-28T22:47:28.757104Z\r\nINFO - Starting `call` method. 2021-03-28T22:47:29.761592Z\r\nINFO - Starting `call` method. 2021-03-28T22:47:30.755099Z\r\nINFO - Starting `call` method. 2021-03-28T22:47:30.755230Z\r\nINFO - Starting `call` method. 2021-03-28T22:47:31.756692Z\r\nINFO - Starting `call` method. 2021-03-28T22:47:32.758877Z\r\nINFO - Starting `call` method. 2021-03-28T22:47:33.760871Z\r\nINFO - Starting `call` method. 2021-03-28T22:47:35.764750Z\r\ntotal = 519\r\nINFO - Ending `demo` method. 2021-03-28T22:47:38.770971Z\r\n```\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/concurrency/executors.html\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Runnable.html\r\n  [3]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/Callable.html","title":"Create threads in loop and wait until all threads finished in java","body":"<h1>tl;dr</h1>\n<p>Using modern Java, define your task as a <code>Callable</code> that returns a result. Submit your task objects to an executor service. That service returns a <code>Future</code> object to track each tasks completion status and result. Collect these <code>Future</code> objects.</p>\n<p>Wait for your executor service to shut down. When done, loop your collected <code>Future</code> objects to retrieve the results of each task.</p>\n<h1>Executor service</h1>\n<p>In modern Java, we rarely need to address the <code>Thread</code> class directly. The executor service framework was created to handle the chore of juggling threads. See <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/executors.html\" rel=\"nofollow noreferrer\">tutorial by Oracle</a>.</p>\n<p>Define your task as <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Runnable.html\" rel=\"nofollow noreferrer\"><code>Runnable</code></a>, or as a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/Callable.html\" rel=\"nofollow noreferrer\"><code>Callable</code></a> when you expect a result to be returned.</p>\n<p>When you submit a <code>Callable</code> to an executor service, you get back a <code>Future</code> object. Collect those <code>Future</code> objects, as they will contain the result of your <code>Callable</code> task objects work.</p>\n<p>To wait for all the tasks to be done, or canceled, or failed, call <code>ExecutorSerivce#shutdown</code> and then <code>ExecutorService#awaitTermination</code>. That first one tells the service to shut down after all submitted tasks are finished. The second blocks the flow-of-control to wait until all the tasks are finished and the service has been shut down. The second one takes time-out parameters, to force a shutdown if need be.</p>\n<p>When past those calls, loop your collection of <code>Future</code> objects. Ask each for its contents, the results of your tasks work.</p>\n<p>In the following example, we have a simple <code>Callable</code> that returns an <code>Integer</code> object with some number we imagine to be calculated but for the sake of this demo is simply generated randomly. We sleep for a random few seconds, to simulate lots of real work that takes a while.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    class IntegerProvider implements Callable &lt; Integer &gt;\n    {\n        @Override\n        public Integer call ( ) throws Exception\n        {\n            System.out.println( &quot;INFO - Starting `call` method. &quot; + Instant.now() );\n            // Pretend we have lots of work to do by putting this thread to sleep a few seconds.\n            Duration duration = Duration.ofSeconds( ThreadLocalRandom.current().nextInt( 1 , 7 ) );\n            Thread.sleep( duration.toMillis() );\n            // Now pretend we did some work to calculate a number as a result.\n            int i = ThreadLocalRandom.current().nextInt( 7 , 42 );\n            Integer result = java.lang.Integer.valueOf( i );\n            return result;\n        }\n    }\n</code></pre>\n<p>Then we have some code to start an executor service, and submit several of these <code>IntegerProvider</code> task objects. When done, we sum total of their results.</p>\n<pre class=\"lang-java prettyprint-override\"><code>        ExecutorService executorService = Executors.newFixedThreadPool( 3 );\n        int limit = 20;\n        List &lt; Future &lt; Integer &gt; &gt; futures = new ArrayList &lt;&gt;( limit );\n        for ( int i = 0 ; i &lt; limit ; i++ )\n        {\n            IntegerProvider callableTask = new IntegerProvider();\n            Future &lt; Integer &gt; future = executorService.submit( callableTask );\n            futures.add( future );\n        }\n\n        // Wait for submitted tasks to be done/canceled/failed.\n        executorService.shutdown();\n        try { executorService.awaitTermination( 1 , TimeUnit.HOURS ); } catch ( InterruptedException e ) { e.printStackTrace(); }\n\n        // At this point, all the submitted tasks are done. Process results.\n        int total = 0;\n        for ( Future &lt; Integer &gt; future : futures )\n        {\n            // Process each `future` object. Get the result of each task's calculation. Sum total.\n            if ( future.isCancelled() )\n            {\n                System.out.println( &quot;Oops, this future is canceled.&quot; );\n            } else if ( future.isDone() )\n            {\n                try { total = ( total + future.get() ); }\n                catch ( InterruptedException e ) { e.printStackTrace(); }\n                catch ( ExecutionException e ) { e.printStackTrace(); }\n            } else\n            {\n                System.out.println( &quot;ERROR - Should never reach this point.&quot; );\n            }\n        }\n        System.out.println( &quot;total = &quot; + total );\n</code></pre>\n<p>Here is a complete single class to demonstrate.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.numbers;\n\nimport java.time.Duration;\nimport java.time.Instant;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.concurrent.*;\n\npublic class App\n{\n    public static void main ( String[] args )\n    {\n        App app = new App();\n        app.demo();\n    }\n\n    private void demo ( )\n    {\n        System.out.println( &quot;INFO - Starting `demo` method. &quot; + Instant.now() );\n\n        ExecutorService executorService = Executors.newFixedThreadPool( 3 );\n        int limit = 20;\n        List &lt; Future &lt; Integer &gt; &gt; futures = new ArrayList &lt;&gt;( limit );\n        for ( int i = 0 ; i &lt; limit ; i++ )\n        {\n            IntegerProvider callableTask = new IntegerProvider();\n            Future &lt; Integer &gt; future = executorService.submit( callableTask );\n            futures.add( future );\n        }\n\n        // Wait for submitted tasks to be done/canceled/failed.\n        executorService.shutdown();\n        try { executorService.awaitTermination( 1 , TimeUnit.HOURS ); } catch ( InterruptedException e ) { e.printStackTrace(); }\n\n        // At this point, all the submitted tasks are done. Process results.\n        int total = 0;\n        for ( Future &lt; Integer &gt; future : futures )\n        {\n            // Process each `future` object. Get the result of each task's calculation. Sum total.\n            if ( future.isCancelled() )\n            {\n                System.out.println( &quot;Oops, this future is canceled.&quot; );\n            } else if ( future.isDone() )\n            {\n                try { total = ( total + future.get() ); }\n                catch ( InterruptedException e ) { e.printStackTrace(); }\n                catch ( ExecutionException e ) { e.printStackTrace(); }\n            } else\n            {\n                System.out.println( &quot;ERROR - Should never reach this point.&quot; );\n            }\n        }\n        System.out.println( &quot;total = &quot; + total );\n        System.out.println( &quot;INFO - Ending `demo` method. &quot; + Instant.now() );\n    }\n\n    class IntegerProvider implements Callable &lt; Integer &gt;\n    {\n        @Override\n        public Integer call ( ) throws Exception\n        {\n            System.out.println( &quot;INFO - Starting `call` method. &quot; + Instant.now() );\n            // Pretend we have lots of work to do by putting this thread to sleep a few seconds.\n            Duration duration = Duration.ofSeconds( ThreadLocalRandom.current().nextInt( 1 , 7 ) );\n            Thread.sleep( duration.toMillis() );\n            // Now pretend we did some work to calculate a number as a result.\n            int i = ThreadLocalRandom.current().nextInt( 7 , 42 );\n            Integer result = java.lang.Integer.valueOf( i );\n            return result;\n        }\n    }\n}\n</code></pre>\n<p>When run.</p>\n<pre class=\"lang-none prettyprint-override\"><code>INFO - Starting `demo` method. 2021-03-28T22:47:21.717806Z\nINFO - Starting `call` method. 2021-03-28T22:47:21.743966Z\nINFO - Starting `call` method. 2021-03-28T22:47:21.744736Z\nINFO - Starting `call` method. 2021-03-28T22:47:21.744890Z\nINFO - Starting `call` method. 2021-03-28T22:47:22.745855Z\nINFO - Starting `call` method. 2021-03-28T22:47:24.749539Z\nINFO - Starting `call` method. 2021-03-28T22:47:24.749522Z\nINFO - Starting `call` method. 2021-03-28T22:47:25.749902Z\nINFO - Starting `call` method. 2021-03-28T22:47:26.749692Z\nINFO - Starting `call` method. 2021-03-28T22:47:26.750092Z\nINFO - Starting `call` method. 2021-03-28T22:47:27.755313Z\nINFO - Starting `call` method. 2021-03-28T22:47:28.752061Z\nINFO - Starting `call` method. 2021-03-28T22:47:28.752030Z\nINFO - Starting `call` method. 2021-03-28T22:47:28.757104Z\nINFO - Starting `call` method. 2021-03-28T22:47:29.761592Z\nINFO - Starting `call` method. 2021-03-28T22:47:30.755099Z\nINFO - Starting `call` method. 2021-03-28T22:47:30.755230Z\nINFO - Starting `call` method. 2021-03-28T22:47:31.756692Z\nINFO - Starting `call` method. 2021-03-28T22:47:32.758877Z\nINFO - Starting `call` method. 2021-03-28T22:47:33.760871Z\nINFO - Starting `call` method. 2021-03-28T22:47:35.764750Z\ntotal = 519\nINFO - Ending `demo` method. 2021-03-28T22:47:38.770971Z\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27504770,"reputation":1,"user_id":20987713,"display_name":"santosh m"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673489827,"creation_date":1673489827,"answer_id":75090903,"question_id":66842463,"body_markdown":"**this one for my refrecnce...\r\nIt is also supposed to do same work \r\n\r\n\r\n\r\n\r\n\r\n\r\n      import java.util.ArrayList;\r\n\r\n      import java.util.List;\r\n\r\n      import java.util.concurrent.Callable;\r\n\r\n      import java.util.concurrent.ExecutionException;\r\n\r\n      import java.util.concurrent.ExecutorService;\r\n\r\n      import java.util.concurrent.Executors;\r\n\r\n\r\n      public class MyThread {\r\n    private final MyService myService;\r\n    private final ExecutorService executor;\r\n    private final List&lt;String&gt; responses = new ArrayList&lt;&gt;();\r\n\r\n    public MyThread(MyService myService) {\r\n        this.myService = myService;\r\n        this.executor = Executors.newFixedThreadPool(10);\r\n    }\r\n\r\n    public void run(List&lt;Integer&gt; elements) {\r\n        for (Integer element : elements) {\r\n            Callable&lt;String&gt; task = () -&gt; myService.process(element);\r\n            Future&lt;String&gt; future = executor.submit(task);\r\n            try {\r\n                String response = future.get();\r\n                responses.add(response);\r\n            } catch (InterruptedException | ExecutionException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n}","title":"Create threads in loop and wait until all threads finished in java","body":"<p>**this one for my refrecnce...\nIt is also supposed to do same work</p>\n<pre><code>  import java.util.ArrayList;\n\n  import java.util.List;\n\n  import java.util.concurrent.Callable;\n\n  import java.util.concurrent.ExecutionException;\n\n  import java.util.concurrent.ExecutorService;\n\n  import java.util.concurrent.Executors;\n\n\n  public class MyThread {\nprivate final MyService myService;\nprivate final ExecutorService executor;\nprivate final List&lt;String&gt; responses = new ArrayList&lt;&gt;();\n\npublic MyThread(MyService myService) {\n    this.myService = myService;\n    this.executor = Executors.newFixedThreadPool(10);\n}\n\npublic void run(List&lt;Integer&gt; elements) {\n    for (Integer element : elements) {\n        Callable&lt;String&gt; task = () -&gt; myService.process(element);\n        Future&lt;String&gt; future = executor.submit(task);\n        try {\n            String response = future.get();\n            responses.add(response);\n        } catch (InterruptedException | ExecutionException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":18896030,"reputation":19,"user_id":13785200,"display_name":"lyhourt Te"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1763,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1673489827,"creation_date":1616941584,"question_id":66842463,"body_markdown":"I am new to Java. I was studying multiple threads recently at school. I try to create a small program that can divide a task into smaller parts and run each part in a separate thread using a loop. The problem is that after the loop I need to sum the result and print it out but the print after the loop runs before the thread is finished.\r\n\r\nAll my classmates are adding `sleep` before printing the result but that does not work when the threads take too long.\r\n\r\nIs there any way to wait for all the threads in the loop to finish first before running other code?\r\n\r\n\r\n```java\r\nimport java.util.Scanner;\r\nimport java.util.concurrent.ExecutorService;\r\n\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class threatGenerator {\r\n    static int count = 0;\r\n    public static void main(String[] args) throws InterruptedException {\r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.print(&quot;Input start: &quot;);\r\n        int start = Integer.parseInt(sc.nextLine());\r\n        System.out.print(&quot;Input end: &quot;);\r\n        int end = Integer.parseInt(sc.nextLine());\r\n        \r\n        int threadNumber = (int)Math.ceil((end - start)/100.0) ;\r\n\r\n        System.out.println(&quot;Running &quot;+threadNumber+&quot; threads.&quot;);\r\n       \r\n        for(int i = 0 ;i &lt; threadNumber;i++){\r\n            int temp = start+ 99;\r\n            \r\n            if(temp&gt;end) temp = end;\r\n\r\n            String name = String.valueOf(i);\r\n            ThreadDemo thread = new ThreadDemo(name,start,temp);\r\n            thread.start();\r\n            \r\n            start = temp+1;\r\n        }\r\n        Thread.sleep(10);\r\n        System.out.println(&quot;\\nSum of primes = &quot;+count);\r\n        sc.close();\r\n    }\r\n\r\n    public static void awaitTerminationAfterShutdown(ExecutorService threadPool) {\r\n        threadPool.shutdown();\r\n        try {\r\n            if (!threadPool.awaitTermination(60, TimeUnit.SECONDS)) {\r\n                threadPool.shutdownNow();\r\n            }\r\n        } catch (InterruptedException ex) {\r\n            threadPool.shutdownNow();\r\n            Thread.currentThread().interrupt();\r\n        }\r\n    }\r\n}\r\n\r\nclass ThreadDemo extends Thread {\r\n    private Thread t;\r\n    private String threadName;\r\n    private int start;\r\n    private int end;\r\n    private int num = 0;\r\n\r\n    ThreadDemo( String name,int start,int end) {\r\n        threadName= name;\r\n        this.start = start;\r\n        this.end = end;\r\n    }\r\n    public void run() {\r\n        Prime p = new Prime();\r\n\r\n        for(int i = start ; i&lt;=end;i++){\r\n            if(p.checkPrime(i)!=true){\r\n                System.out.print(&quot;t&quot;+threadName+&quot;-&quot;+i+&quot; &quot;);\r\n                ++num;\r\n            }\r\n        }\r\n        threatGenerator.count = threatGenerator.count + num;\r\n    }\r\n    \r\n    public void setCount(int count){\r\n        this.num=count;\r\n    }\r\n\r\n    public int getCount() {\r\n        return this.num;\r\n    }\r\n\r\n    public void start () {\r\n        // System.out.println(&quot;Starting &quot; + threadName);\r\n        if (t == null) {\r\n            t = new Thread (this, threadName);\r\n            t.start();\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Create threads in loop and wait until all threads finished in java","body":"<p>I am new to Java. I was studying multiple threads recently at school. I try to create a small program that can divide a task into smaller parts and run each part in a separate thread using a loop. The problem is that after the loop I need to sum the result and print it out but the print after the loop runs before the thread is finished.</p>\n<p>All my classmates are adding <code>sleep</code> before printing the result but that does not work when the threads take too long.</p>\n<p>Is there any way to wait for all the threads in the loop to finish first before running other code?</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\nimport java.util.concurrent.ExecutorService;\n\nimport java.util.concurrent.TimeUnit;\n\npublic class threatGenerator {\n    static int count = 0;\n    public static void main(String[] args) throws InterruptedException {\n        Scanner sc = new Scanner(System.in);\n        System.out.print(&quot;Input start: &quot;);\n        int start = Integer.parseInt(sc.nextLine());\n        System.out.print(&quot;Input end: &quot;);\n        int end = Integer.parseInt(sc.nextLine());\n        \n        int threadNumber = (int)Math.ceil((end - start)/100.0) ;\n\n        System.out.println(&quot;Running &quot;+threadNumber+&quot; threads.&quot;);\n       \n        for(int i = 0 ;i &lt; threadNumber;i++){\n            int temp = start+ 99;\n            \n            if(temp&gt;end) temp = end;\n\n            String name = String.valueOf(i);\n            ThreadDemo thread = new ThreadDemo(name,start,temp);\n            thread.start();\n            \n            start = temp+1;\n        }\n        Thread.sleep(10);\n        System.out.println(&quot;\\nSum of primes = &quot;+count);\n        sc.close();\n    }\n\n    public static void awaitTerminationAfterShutdown(ExecutorService threadPool) {\n        threadPool.shutdown();\n        try {\n            if (!threadPool.awaitTermination(60, TimeUnit.SECONDS)) {\n                threadPool.shutdownNow();\n            }\n        } catch (InterruptedException ex) {\n            threadPool.shutdownNow();\n            Thread.currentThread().interrupt();\n        }\n    }\n}\n\nclass ThreadDemo extends Thread {\n    private Thread t;\n    private String threadName;\n    private int start;\n    private int end;\n    private int num = 0;\n\n    ThreadDemo( String name,int start,int end) {\n        threadName= name;\n        this.start = start;\n        this.end = end;\n    }\n    public void run() {\n        Prime p = new Prime();\n\n        for(int i = start ; i&lt;=end;i++){\n            if(p.checkPrime(i)!=true){\n                System.out.print(&quot;t&quot;+threadName+&quot;-&quot;+i+&quot; &quot;);\n                ++num;\n            }\n        }\n        threatGenerator.count = threatGenerator.count + num;\n    }\n    \n    public void setCount(int count){\n        this.num=count;\n    }\n\n    public int getCount() {\n        return this.num;\n    }\n\n    public void start () {\n        // System.out.println(&quot;Starting &quot; + threadName);\n        if (t == null) {\n            t = new Thread (this, threadName);\n            t.start();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","intellij-idea","import"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673479877,"post_id":75089588,"comment_id":132511587,"body_markdown":"All that info is on the github home page. It&#39;s org.bytedeco.opencv.... not javacv","body":"All that info is on the github home page. It&#39;s org.bytedeco.opencv.... not javacv"},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1673490060,"post_id":75089588,"comment_id":132513015,"body_markdown":"If you really are using [this `javacv` library](https://mvnrepository.com/artifact/org.bytedeco/javacv), which does include `org.bytedeco.javacv.*` classes, then you can describe the specific and precise steps to show us how you &quot;_downloaded... and... included it into my dependencies_&quot;.","body":"If you really are using <a href=\"https://mvnrepository.com/artifact/org.bytedeco/javacv\" rel=\"nofollow noreferrer\">this <code>javacv</code> library</a>, which does include <code>org.bytedeco.javacv.*</code> classes, then you can describe the specific and precise steps to show us how you &quot;<i>downloaded... and... included it into my dependencies</i>&quot;."}],"answers":[{"tags":[],"owner":{"account_id":27494768,"reputation":218,"user_id":20979453,"display_name":"Jacky Liu - JetBrains"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673489637,"creation_date":1673489637,"answer_id":75090888,"question_id":75089588,"body_markdown":"That&#39;s right the correct package name should be `org.bytedeco.opencv.global.opencv_core.*`.\r\n\r\nHere is a sample code taken from the GitHub:\r\n\r\n```\r\nimport org.bytedeco.opencv.opencv_core.*;\r\nimport org.bytedeco.opencv.opencv_imgproc.*;\r\nimport static org.bytedeco.opencv.global.opencv_core.*;\r\nimport static org.bytedeco.opencv.global.opencv_imgproc.*;\r\nimport static org.bytedeco.opencv.global.opencv_imgcodecs.*;\r\n\r\npublic class Smoother {\r\n    public static void smooth(String filename) {\r\n        Mat image = imread(filename);\r\n        if (image != null) {\r\n            GaussianBlur(image, image, new Size(3, 3), 0);\r\n            imwrite(filename, image);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nYou may find the sample code on the official GitHub project site helpful for a fast start: \r\n\r\nhttps://github.com/bytedeco/javacv/tree/master/samples\r\n\r\nhttps://github.com/bytedeco/javacv#manual-installation","title":"I cannot Import bytedeco&#39;s JavaCV into my project on IntelliJ","body":"<p>That's right the correct package name should be <code>org.bytedeco.opencv.global.opencv_core.*</code>.</p>\n<p>Here is a sample code taken from the GitHub:</p>\n<pre><code>import org.bytedeco.opencv.opencv_core.*;\nimport org.bytedeco.opencv.opencv_imgproc.*;\nimport static org.bytedeco.opencv.global.opencv_core.*;\nimport static org.bytedeco.opencv.global.opencv_imgproc.*;\nimport static org.bytedeco.opencv.global.opencv_imgcodecs.*;\n\npublic class Smoother {\n    public static void smooth(String filename) {\n        Mat image = imread(filename);\n        if (image != null) {\n            GaussianBlur(image, image, new Size(3, 3), 0);\n            imwrite(filename, image);\n        }\n    }\n}\n\n</code></pre>\n<p>You may find the sample code on the official GitHub project site helpful for a fast start:</p>\n<p><a href=\"https://github.com/bytedeco/javacv/tree/master/samples\" rel=\"nofollow noreferrer\">https://github.com/bytedeco/javacv/tree/master/samples</a></p>\n<p><a href=\"https://github.com/bytedeco/javacv#manual-installation\" rel=\"nofollow noreferrer\">https://github.com/bytedeco/javacv#manual-installation</a></p>\n"}],"owner":{"account_id":27502524,"reputation":1,"user_id":20985887,"display_name":"Gohaun"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673489637,"creation_date":1673475399,"question_id":75089588,"body_markdown":"I downloaded bytedeco&#39;s JavaCV from github and have included it into my dependencies for my IntelliJ project.  \r\nI then read through the documentation and the readme file and then figure out what I think were the proper import statements.\r\n\r\n\r\nI have tried &quot;import org.bytedeco.javacv.*;&quot; from what I found in the package in the package names. \r\nThat did not work, IntelliJ could not resolve symbol &quot;bytedeco&quot;. This happened even in the JavaCV classes that are a part of the org.bytedeco.javacv package did not resolve the import statements. I then went onto stack overflow to look for anyone who had the same problem or could solve my problem. I couldn&#39;t find any useful information at all about what is wrong.\r\nI found this very confusing and could not find any other information onto why this is happening. This is my first project, I do not know if this is a limitation with IntelliJ or that I am missing some other package that isn&#39;t part of JavaCV or some other problem I do not yet know of. \r\n\r\n","title":"I cannot Import bytedeco&#39;s JavaCV into my project on IntelliJ","body":"<p>I downloaded bytedeco's JavaCV from github and have included it into my dependencies for my IntelliJ project.<br />\nI then read through the documentation and the readme file and then figure out what I think were the proper import statements.</p>\n<p>I have tried &quot;import org.bytedeco.javacv.*;&quot; from what I found in the package in the package names.\nThat did not work, IntelliJ could not resolve symbol &quot;bytedeco&quot;. This happened even in the JavaCV classes that are a part of the org.bytedeco.javacv package did not resolve the import statements. I then went onto stack overflow to look for anyone who had the same problem or could solve my problem. I couldn't find any useful information at all about what is wrong.\nI found this very confusing and could not find any other information onto why this is happening. This is my first project, I do not know if this is a limitation with IntelliJ or that I am missing some other package that isn't part of JavaCV or some other problem I do not yet know of.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":19952568,"reputation":59,"user_id":14621897,"display_name":"Karkala Srikanth"},"score":0,"creation_date":1674137351,"post_id":75090715,"comment_id":132653853,"body_markdown":"Agree. I like to learn if there is another way to handle it, or is it better approach.","body":"Agree. I like to learn if there is another way to handle it, or is it better approach."}],"tags":[],"owner":{"account_id":17964527,"reputation":1,"user_id":13054688,"display_name":"syuyuusyu"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673487542,"creation_date":1673487542,"answer_id":75090715,"question_id":75089514,"body_markdown":"If all auditing fields have the same name, Use an abstract class to manage those fields, then other entirety extend from it;\r\n\r\nhere is my approach:\r\n\r\n    @MappedSuperclass\r\n    @EntityListeners(AuditingEntityListener::class)\r\n    abstract class ModifiedJpaEntity:Serializable {\r\n        companion object {\r\n            private const val serialVersionUID = -5554308939380869754L\r\n        }\r\n        @Column\r\n        @CreationTimestamp\r\n        @JsonIgnore\r\n        var createAt:Date?=null\r\n        @Column\r\n        @CreatedBy\r\n        @JsonIgnore\r\n        var createBy:String?=null\r\n        @Column\r\n        @UpdateTimestamp\r\n        @JsonIgnore\r\n        var updateAt:Date?=null\r\n        @Column\r\n        @LastModifiedBy\r\n        @JsonIgnore\r\n        var updateBy:String?=null\r\n    \r\n        val createTimeStr: String\r\n            get() = if(createAt!=null) SimpleDateFormat(&quot;yyyy-MM-dd HH:mm&quot;).format(createAt) else &quot;&quot;\r\n        val updateTimeStr: String\r\n            get() = if(updateAt!=null) SimpleDateFormat(&quot;yyyy-MM-dd HH:mm&quot;).format(updateAt) else &quot;&quot;\r\n    }\r\n\r\n","title":"Ignore Auditing fields from Spring Boot API Response","body":"<p>If all auditing fields have the same name, Use an abstract class to manage those fields, then other entirety extend from it;</p>\n<p>here is my approach:</p>\n<pre><code>@MappedSuperclass\n@EntityListeners(AuditingEntityListener::class)\nabstract class ModifiedJpaEntity:Serializable {\n    companion object {\n        private const val serialVersionUID = -5554308939380869754L\n    }\n    @Column\n    @CreationTimestamp\n    @JsonIgnore\n    var createAt:Date?=null\n    @Column\n    @CreatedBy\n    @JsonIgnore\n    var createBy:String?=null\n    @Column\n    @UpdateTimestamp\n    @JsonIgnore\n    var updateAt:Date?=null\n    @Column\n    @LastModifiedBy\n    @JsonIgnore\n    var updateBy:String?=null\n\n    val createTimeStr: String\n        get() = if(createAt!=null) SimpleDateFormat(&quot;yyyy-MM-dd HH:mm&quot;).format(createAt) else &quot;&quot;\n    val updateTimeStr: String\n        get() = if(updateAt!=null) SimpleDateFormat(&quot;yyyy-MM-dd HH:mm&quot;).format(updateAt) else &quot;&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":19952568,"reputation":59,"user_id":14621897,"display_name":"Karkala Srikanth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673487542,"creation_date":1673474868,"question_id":75089514,"body_markdown":"I am searching for a better approach, that how to either exclude the auditing fields(like createdBy,createdDate) while fetching the @Entity in Data repository class or ignore them in API response. I know we can do it by using @Ignore or @IgnoreProperties on each property or entity class, but not interested to add it in every class , reason i have too many entities.\r\n\r\nIs there any other approach to achieve with simple and with common implementation? ","title":"Ignore Auditing fields from Spring Boot API Response","body":"<p>I am searching for a better approach, that how to either exclude the auditing fields(like createdBy,createdDate) while fetching the @Entity in Data repository class or ignore them in API response. I know we can do it by using @Ignore or @IgnoreProperties on each property or entity class, but not interested to add it in every class , reason i have too many entities.</p>\n<p>Is there any other approach to achieve with simple and with common implementation?</p>\n"},{"tags":["java","string","text","text-files","stringtokenizer"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1673486284,"post_id":75090457,"comment_id":132512545,"body_markdown":"Will [this link](https://stackoverflow.com/a/9446740/16034206) help? Though you say that what you tried doesnt work, but I have no idea how it does not work.","body":"Will <a href=\"https://stackoverflow.com/a/9446740/16034206\">this link</a> help? Though you say that what you tried doesnt work, but I have no idea how it does not work."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1673486715,"post_id":75090457,"comment_id":132512589,"body_markdown":"Using `&quot;,\\n&quot;` or `&quot;\\n,&quot;` should work. For us to determine what went wrong, we need more information.  We need to be able to duplicate the problem.  Please edit your question to show your code as a [Minimal Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Using <code>&quot;,\\n&quot;</code> or <code>&quot;\\n,&quot;</code> should work. For us to determine what went wrong, we need more information.  We need to be able to duplicate the problem.  Please edit your question to show your code as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">Minimal Reproducible Example</a>."},{"owner":{"account_id":25725467,"reputation":34,"user_id":19481903,"display_name":"CrustyCrustecean"},"score":0,"creation_date":1673487120,"post_id":75090457,"comment_id":132512644,"body_markdown":"I am reading data off a text file that just has words on separate lines. Some lines have one word only while others have multiple words separated by commas. My goal is to extract the data even though there are two delimeters: a comma and a new line","body":"I am reading data off a text file that just has words on separate lines. Some lines have one word only while others have multiple words separated by commas. My goal is to extract the data even though there are two delimeters: a comma and a new line"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1673489421,"post_id":75090457,"comment_id":132512938,"body_markdown":"@CrustyCrustecean, since `tokens = new StringTokenizer(line,&quot;,/n&quot;);` should work, the problem might be elsewhere. We need to see complete, relevant code. So, you need to show us a *minimal reproducible example*. Without it, we can&#39;t really help.","body":"@CrustyCrustecean, since <code>tokens = new StringTokenizer(line,&quot;,&#47;n&quot;);</code> should work, the problem might be elsewhere. We need to see complete, relevant code. So, you need to show us a <i>minimal reproducible example</i>. Without it, we can&#39;t really help."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1673519520,"post_id":75090457,"comment_id":132519503,"body_markdown":"No need to use legacy class `StringTokenizer` which is not in any case for file parsing really. Use `s = new Scanner(file).useDelimiter(&quot;[, \\r\\n]+);` and you can do `word = s.next()` through the whole file","body":"No need to use legacy class <code>StringTokenizer</code> which is not in any case for file parsing really. Use <code>s = new Scanner(file).useDelimiter(&quot;[, \\r\\n]+);</code> and you can do <code>word = s.next()</code> through the whole file"}],"answers":[{"comments":[{"owner":{"account_id":25725467,"reputation":34,"user_id":19481903,"display_name":"CrustyCrustecean"},"score":0,"creation_date":1673487163,"post_id":75090625,"comment_id":132512648,"body_markdown":"I am reading data off a text file that just has words on separate lines. Some lines have one word only while others have multiple words separated by commas. My goal is to extract the data even though there are two delimeters: a comma and a new line","body":"I am reading data off a text file that just has words on separate lines. Some lines have one word only while others have multiple words separated by commas. My goal is to extract the data even though there are two delimeters: a comma and a new line"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1673487296,"post_id":75090625,"comment_id":132512659,"body_markdown":"What are you using to read data off the textfile? If you are using a Scanner, there probably is no newline character, as Scanner already handles it for you using `Scanner.nextLine()`","body":"What are you using to read data off the textfile? If you are using a Scanner, there probably is no newline character, as Scanner already handles it for you using <code>Scanner.nextLine()</code>"}],"tags":[],"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673487177,"creation_date":1673486407,"answer_id":75090625,"question_id":75090457,"body_markdown":"I tested the following on an online java compiler.\r\n\r\n    import java.util.StringTokenizer;\r\n    \r\n    public class MyClass {\r\n        public static void main(String args[]) {\r\n            String yourString = &quot;a , string ,\\n with \\n commas, and \\n, newlines&quot;;\r\n            StringTokenizer tokenizer = new StringTokenizer(yourString, &quot;,\\n&quot;);\r\n            \r\n            while (tokenizer.hasMoreTokens()){\r\n                System.out.println(&quot;token: (&quot; + tokenizer.nextToken()+&quot;),&quot;);  \r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nThe output I received:\r\n\r\n    token: (a ),\r\n    token: ( string ),\r\n    token: ( with ),\r\n    token: ( commas),\r\n    token: ( and ),\r\n    token: ( newlines),\r\n\r\n\r\nThe example parses the tokens for `,`, `,\\n`, `\\n,` and `\\n` Though if it really doesn&#39;t work for you, try using Split() as the link shown in the comments suggests as it allows regex to only allow `,\\n` or `\\n,`","title":"How to use both a new line and comma as a delimeter for the StringTokenizer","body":"<p>I tested the following on an online java compiler.</p>\n<pre><code>import java.util.StringTokenizer;\n\npublic class MyClass {\n    public static void main(String args[]) {\n        String yourString = &quot;a , string ,\\n with \\n commas, and \\n, newlines&quot;;\n        StringTokenizer tokenizer = new StringTokenizer(yourString, &quot;,\\n&quot;);\n        \n        while (tokenizer.hasMoreTokens()){\n            System.out.println(&quot;token: (&quot; + tokenizer.nextToken()+&quot;),&quot;);  \n        }\n    }\n}\n</code></pre>\n<p>The output I received:</p>\n<pre><code>token: (a ),\ntoken: ( string ),\ntoken: ( with ),\ntoken: ( commas),\ntoken: ( and ),\ntoken: ( newlines),\n</code></pre>\n<p>The example parses the tokens for <code>,</code>, <code>,\\n</code>, <code>\\n,</code> and <code>\\n</code> Though if it really doesn't work for you, try using Split() as the link shown in the comments suggests as it allows regex to only allow <code>,\\n</code> or <code>\\n,</code></p>\n"}],"owner":{"account_id":25725467,"reputation":34,"user_id":19481903,"display_name":"CrustyCrustecean"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1673487177,"creation_date":1673484266,"question_id":75090457,"body_markdown":"\r\nI want to be able to use both the comma and a new line as a delimeter for tokens. This would be for just commas:`Tokens = new StringTokenizer(line,&quot;,&quot;);` but how would I implement it to account for a new line as well?\r\n\r\nI tried `&quot;,\\n&quot;`and `\\n,&quot;` but they do not work.\r\n\r\nI am trying to extract the data from a text file that looks like this:\r\n`\r\nhello\r\napple, tree, wolf\r\neagle\r\nbadge  `\r\n ","title":"How to use both a new line and comma as a delimeter for the StringTokenizer","body":"<p>I want to be able to use both the comma and a new line as a delimeter for tokens. This would be for just commas:<code>Tokens = new StringTokenizer(line,&quot;,&quot;);</code> but how would I implement it to account for a new line as well?</p>\n<p>I tried <code>&quot;,\\n&quot;</code>and <code>\\n,&quot;</code> but they do not work.</p>\n<p>I am trying to extract the data from a text file that looks like this:\n<code>hello apple, tree, wolf eagle badge </code></p>\n"},{"tags":["java","inputmismatchexception"],"comments":[{"owner":{"account_id":7547772,"reputation":8593,"user_id":5730279,"display_name":"hc_dev"},"score":0,"creation_date":1653330355,"post_id":72353127,"comment_id":127821143,"body_markdown":"Also mark the line of your code that the exception was thrown (line 28 in `MilageTrackerLinkedList`) with a comment.","body":"Also mark the line of your code that the exception was thrown (line 28 in <code>MilageTrackerLinkedList</code>) with a comment."},{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":0,"creation_date":1653330566,"post_id":72353127,"comment_id":127821223,"body_markdown":"`nextLine` reads an entire line of input. Your input has no newlines, so I presume you want to read something shorter than that","body":"<code>nextLine</code> reads an entire line of input. Your input has no newlines, so I presume you want to read something shorter than that"},{"owner":{"account_id":7547772,"reputation":8593,"user_id":5730279,"display_name":"hc_dev"},"score":0,"creation_date":1653330731,"post_id":72353127,"comment_id":127821278,"body_markdown":"Yes, please provide the input as plain-text (each entered line separately). Thus I have edited the text as code-block before you reverted.","body":"Yes, please provide the input as plain-text (each entered line separately). Thus I have edited the text as code-block before you reverted."},{"owner":{"account_id":7547772,"reputation":8593,"user_id":5730279,"display_name":"hc_dev"},"score":1,"creation_date":1653330841,"post_id":72353127,"comment_id":127821315,"body_markdown":"A fellow of you raised same question and got an [answer already](https://stackoverflow.com/questions/66827877/why-am-i-getting-java-util-inputmismatchexception-when-using-my-scanner).","body":"A fellow of you raised same question and got an <a href=\"https://stackoverflow.com/questions/66827877/why-am-i-getting-java-util-inputmismatchexception-when-using-my-scanner\">answer already</a>."},{"owner":{"account_id":7547772,"reputation":8593,"user_id":5730279,"display_name":"hc_dev"},"score":0,"creation_date":1653333191,"post_id":72353127,"comment_id":127822025,"body_markdown":"I doubt, that there is a newline between each input record. Wouldn&#39;t it be clearer to use [code-formatting](https://stackoverflow.com/help/formatting), see also [When to use code-formatting for non-code](https://meta.stackoverflow.com/a/254995/5730279)","body":"I doubt, that there is a newline between each input record. Wouldn&#39;t it be clearer to use <a href=\"https://stackoverflow.com/help/formatting\">code-formatting</a>, see also <a href=\"https://meta.stackoverflow.com/a/254995/5730279\">When to use code-formatting for non-code</a>"}],"answers":[{"tags":[],"owner":{"account_id":7547772,"reputation":8593,"user_id":5730279,"display_name":"hc_dev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653332270,"creation_date":1653332270,"answer_id":72353590,"question_id":72353127,"body_markdown":"I would add a few `println`s to monitor and debug the runtime behavior.\r\n\r\n### Crucial is the parsing of numbers and dates (format, locale)\r\n\r\nWould be safer to read the numbers a String first, then you can [`parseDouble`][1] to see if the format is as expected (comma or dot). If the format can not be read by your Java environment/setup (Locale), then it will raise a `NumberFormatException`.\r\n\r\n### Code to debug\r\n```\r\n      // TODO: Scan the number of nodes\r\n      count = scnr.nextInt();\r\n      // FIXME: remove debug print after development\r\n      System.out.println(&quot;Scanned count: &quot; + count);      \r\n   \r\n      // TODO: For the scanned number of nodes, scan\r\n      //       in data and insert into the linked list\r\n      for (i = 0; i &lt; count; ++i) {\r\n         // FIXME: test first, remove debug-prints later\r\n         System.out.println(&quot;Scanning node # &quot; + i);\r\n         // nextDouble relies on format of input and current Scanner locale used\r\n         milesText = scnr.nextLine();    // more forgiving to read as string\r\n         // then try parsing as double (same as nextDouble, but with error-handling)\r\n         try {\r\n             miles = Double.parseDouble(milesText);\r\n             System.out.println(&quot;Scanned miles: &quot; + miles);\r\n         } catch (NumberFormatException e) {\r\n             System.out.println(&quot;Failed to parse double from: &quot; + milesText);\r\n             e.printStackTrace();\r\n         }\r\n         dateText = scnr.nextLine();\r\n         // FIXME: remove debug-prints after development\r\n         System.out.println(&quot;Scanned date: &quot; + dateText);\r\n         currNode = new MileageTrackerNode(miles, dateText);  // is the constructor accepting date as string, or as Date ?\r\n         lastNode.insertAfter(currNode);\r\n         lastNode = currNode;\r\n      }\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/Double.html#parseDouble(java.lang.String)","title":"Why Mileage tracker gives InputMismatchException?","body":"<p>I would add a few <code>println</code>s to monitor and debug the runtime behavior.</p>\n<h3>Crucial is the parsing of numbers and dates (format, locale)</h3>\n<p>Would be safer to read the numbers a String first, then you can <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Double.html#parseDouble(java.lang.String)\" rel=\"nofollow noreferrer\"><code>parseDouble</code></a> to see if the format is as expected (comma or dot). If the format can not be read by your Java environment/setup (Locale), then it will raise a <code>NumberFormatException</code>.</p>\n<h3>Code to debug</h3>\n<pre><code>      // TODO: Scan the number of nodes\n      count = scnr.nextInt();\n      // FIXME: remove debug print after development\n      System.out.println(&quot;Scanned count: &quot; + count);      \n   \n      // TODO: For the scanned number of nodes, scan\n      //       in data and insert into the linked list\n      for (i = 0; i &lt; count; ++i) {\n         // FIXME: test first, remove debug-prints later\n         System.out.println(&quot;Scanning node # &quot; + i);\n         // nextDouble relies on format of input and current Scanner locale used\n         milesText = scnr.nextLine();    // more forgiving to read as string\n         // then try parsing as double (same as nextDouble, but with error-handling)\n         try {\n             miles = Double.parseDouble(milesText);\n             System.out.println(&quot;Scanned miles: &quot; + miles);\n         } catch (NumberFormatException e) {\n             System.out.println(&quot;Failed to parse double from: &quot; + milesText);\n             e.printStackTrace();\n         }\n         dateText = scnr.nextLine();\n         // FIXME: remove debug-prints after development\n         System.out.println(&quot;Scanned date: &quot; + dateText);\n         currNode = new MileageTrackerNode(miles, dateText);  // is the constructor accepting date as string, or as Date ?\n         lastNode.insertAfter(currNode);\n         lastNode = currNode;\n      }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1673615060,"post_id":75090685,"comment_id":132544634,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75090685/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27504518,"reputation":11,"user_id":20987503,"display_name":"user20987503"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673487137,"creation_date":1673487137,"answer_id":75090685,"question_id":72353127,"body_markdown":"Thank you for the template for this, I used that to help me get this code, which ended up working. I am sure it is too late for your class, but maybe someone else can benefit from this if they are stuck.\r\n\r\n    int count = scnr.nextInt();\r\n\r\n    for (i = 0; i &lt; count; i++) {\r\n         miles = scnr.nextDouble();\r\n         date = scnr.next();\r\n         currNode = new MileageTrackerNode(miles, date);\r\n         lastNode.insertAfter(currNode);\r\n         lastNode = currNode;\r\n      }\r\n\r\n      currNode = headNode.getNext();\r\n      for (i =0; i&lt; count; i++) {\r\n         currNode.printNodeData();\r\n         currNode = currNode.getNext();\r\n      }\r\n\r\n","title":"Why Mileage tracker gives InputMismatchException?","body":"<p>Thank you for the template for this, I used that to help me get this code, which ended up working. I am sure it is too late for your class, but maybe someone else can benefit from this if they are stuck.</p>\n<pre><code>int count = scnr.nextInt();\n\nfor (i = 0; i &lt; count; i++) {\n     miles = scnr.nextDouble();\n     date = scnr.next();\n     currNode = new MileageTrackerNode(miles, date);\n     lastNode.insertAfter(currNode);\n     lastNode = currNode;\n  }\n\n  currNode = headNode.getNext();\n  for (i =0; i&lt; count; i++) {\n     currNode.printNodeData();\n     currNode = currNode.getNext();\n  }\n</code></pre>\n"}],"owner":{"account_id":24954488,"reputation":1,"user_id":18818974,"display_name":"Dawgbizkit83"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2770,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1673487137,"creation_date":1653329720,"question_id":72353127,"body_markdown":"Given the MileageTrackerNode class, complete main() in the MileageTrackerLinkedList class to insert nodes into a linked list (using the insertAfter() method). The first user-input value is the number of nodes in the linked list. Use the printNodeData() method to print the entire linked list. DO NOT print the dummy head node.\r\n\r\nEx. If the input is:\r\n\r\n3\r\n\r\n2.2\r\n\r\n7/2/18\r\n\r\n3.2\r\n\r\n7/7/18\r\n\r\n4.5\r\n\r\n7/16/18\r\n\r\n\r\nthe output is:\r\n\r\n2.2, 7/2/18\r\n\r\n3.2, 7/7/18\r\n\r\n4.5, 7/16/18\r\n\r\n\r\nI just need to edit the //TO DO sections, but have also added ***int count***\r\nError messages:\r\n\r\n    Exception in thread &quot;main&quot; java.util.InputMismatchException\r\n    java.base/java.util.Scanner.throwFor(Scanner.java:939)\r\n    java.base/java.util.Scanner.next(Scanner.java:1594)\r\n    java.base/java.util.Scanner.nextDouble(Scanner.java:2564)\r\n    MileageTrackerLinkedList.main(MileageTrackerLinkedList.java:28)\r\n\r\n\r\nHere is my code so far:\r\n\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class MileageTrackerLinkedList {\r\n       public static void main (String[] args) {\r\n          Scanner scnr = new Scanner(System.in);\r\n         \r\n\r\n          // References for MileageTrackerNode objects\r\n          MileageTrackerNode headNode;                                           \r\n          MileageTrackerNode currNode;\r\n          MileageTrackerNode lastNode;\r\n\r\n          double miles;\r\n          String date;\r\n          int i;\r\n          int count;\r\n\r\n          // Front of nodes list                                                                         \r\n          headNode = new MileageTrackerNode();\r\n          lastNode = headNode;\r\n\r\n          // TODO: Scan the number of nodes\r\n          count = scnr.nextInt();\r\n             \r\n          // TODO: For the scanned number of nodes, scan\r\n          //       in data and insert into the linked list\r\n          for (i = 0; i &lt; count; ++i) {\r\n             miles = scnr.nextDouble();\r\n             date = scnr.nextLine();\r\n             currNode = new MileageTrackerNode(miles, date);\r\n             lastNode.insertAfter(currNode);\r\n             lastNode = currNode;\r\n          }\r\n          \r\n                \r\n\r\n          // TODO: Call the printNodeData() method \r\n          //       to print the entire linked list\r\n          for (i = 0; i &lt; count; ++i) {\r\n             headNode.printNodeData();\r\n             headNode.getNext();\r\n          }\r\n                \r\n       }\r\n    }\r\n","title":"Why Mileage tracker gives InputMismatchException?","body":"<p>Given the MileageTrackerNode class, complete main() in the MileageTrackerLinkedList class to insert nodes into a linked list (using the insertAfter() method). The first user-input value is the number of nodes in the linked list. Use the printNodeData() method to print the entire linked list. DO NOT print the dummy head node.</p>\n<p>Ex. If the input is:</p>\n<p>3</p>\n<p>2.2</p>\n<p>7/2/18</p>\n<p>3.2</p>\n<p>7/7/18</p>\n<p>4.5</p>\n<p>7/16/18</p>\n<p>the output is:</p>\n<p>2.2, 7/2/18</p>\n<p>3.2, 7/7/18</p>\n<p>4.5, 7/16/18</p>\n<p>I just need to edit the //TO DO sections, but have also added <em><strong>int count</strong></em>\nError messages:</p>\n<pre><code>Exception in thread &quot;main&quot; java.util.InputMismatchException\njava.base/java.util.Scanner.throwFor(Scanner.java:939)\njava.base/java.util.Scanner.next(Scanner.java:1594)\njava.base/java.util.Scanner.nextDouble(Scanner.java:2564)\nMileageTrackerLinkedList.main(MileageTrackerLinkedList.java:28)\n</code></pre>\n<p>Here is my code so far:</p>\n<pre><code>import java.util.Scanner;\n\npublic class MileageTrackerLinkedList {\n   public static void main (String[] args) {\n      Scanner scnr = new Scanner(System.in);\n     \n\n      // References for MileageTrackerNode objects\n      MileageTrackerNode headNode;                                           \n      MileageTrackerNode currNode;\n      MileageTrackerNode lastNode;\n\n      double miles;\n      String date;\n      int i;\n      int count;\n\n      // Front of nodes list                                                                         \n      headNode = new MileageTrackerNode();\n      lastNode = headNode;\n\n      // TODO: Scan the number of nodes\n      count = scnr.nextInt();\n         \n      // TODO: For the scanned number of nodes, scan\n      //       in data and insert into the linked list\n      for (i = 0; i &lt; count; ++i) {\n         miles = scnr.nextDouble();\n         date = scnr.nextLine();\n         currNode = new MileageTrackerNode(miles, date);\n         lastNode.insertAfter(currNode);\n         lastNode = currNode;\n      }\n      \n            \n\n      // TODO: Call the printNodeData() method \n      //       to print the entire linked list\n      for (i = 0; i &lt; count; ++i) {\n         headNode.printNodeData();\n         headNode.getNext();\n      }\n            \n   }\n}\n</code></pre>\n"},{"tags":["java","maven","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1673485645,"post_id":75090475,"comment_id":132512431,"body_markdown":"What specifically do you mean by it doesnt work? Compile error? Runtime error? What are the specific errors? Is this a modular project? If so, whats in your module-info.java file?","body":"What specifically do you mean by it doesnt work? Compile error? Runtime error? What are the specific errors? Is this a modular project? If so, whats in your module-info.java file?"},{"owner":{"account_id":24765332,"reputation":25,"user_id":18649233,"display_name":"Dylan Gresham"},"score":0,"creation_date":1673485940,"post_id":75090475,"comment_id":132512480,"body_markdown":"@James_D Doesn&#39;t work as in I am still unable to import javafx.scene.web or javafx.scene.web.HTMLEditor. I get the messages &quot;The package javafx.scene.web is not accessible&quot; and &quot;The type javafx.scene.web.HTMLEditor is not accessible&quot;. It is a modular project and I&#39;ve added the module-info.java file above.","body":"@James_D Doesn&#39;t work as in I am still unable to import javafx.scene.web or javafx.scene.web.HTMLEditor. I get the messages &quot;The package javafx.scene.web is not accessible&quot; and &quot;The type javafx.scene.web.HTMLEditor is not accessible&quot;. It is a modular project and I&#39;ve added the module-info.java file above."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1673486198,"post_id":75090475,"comment_id":132512534,"body_markdown":"You need to add `requires javafx.web;` to module-info.java","body":"You need to add <code>requires javafx.web;</code> to module-info.java"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1673505532,"post_id":75090475,"comment_id":132515331,"body_markdown":"In the [openjfx getting started documentation](https://openjfx.io/openjfx-docs/) for &quot;JavaFX and Visual Studio Code: modular with Maven&quot;. It recommends running the app via the maven JavaFX plugin, not by VM arguments to use the JavaFX SDK. That would seem safer than running for the SDK downloaded as it would be less error prone. For example, you are compiling using Maven Java modules version 19, but executing using the JavaFX SDK lib 18.0.1. This suggestion is unrelated to the fix to add `javafx.web` to `module-info.java`, which is required in any case.","body":"In the <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">openjfx getting started documentation</a> for &quot;JavaFX and Visual Studio Code: modular with Maven&quot;. It recommends running the app via the maven JavaFX plugin, not by VM arguments to use the JavaFX SDK. That would seem safer than running for the SDK downloaded as it would be less error prone. For example, you are compiling using Maven Java modules version 19, but executing using the JavaFX SDK lib 18.0.1. This suggestion is unrelated to the fix to add <code>javafx.web</code> to <code>module-info.java</code>, which is required in any case."}],"answers":[{"tags":[],"owner":{"account_id":24765332,"reputation":25,"user_id":18649233,"display_name":"Dylan Gresham"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673486964,"creation_date":1673486964,"answer_id":75090672,"question_id":75090475,"body_markdown":"As pointed out by @James_D I needed to add `requires javafx.web;` to my module-info.java file. After adding that line I was able to import what I needed to.","title":"Unable to add javafx.web to Maven project on VS Code","body":"<p>As pointed out by @James_D I needed to add <code>requires javafx.web;</code> to my module-info.java file. After adding that line I was able to import what I needed to.</p>\n"}],"owner":{"account_id":24765332,"reputation":25,"user_id":18649233,"display_name":"Dylan Gresham"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1673493509,"answer_count":1,"score":0,"last_activity_date":1673486964,"creation_date":1673484497,"question_id":75090475,"body_markdown":"I&#39;m new to maven and  java projects as a whole and I&#39;ve been trying to add javafx.web to my Maven project, specifically for the HTMLEditor class, on VS Code and so far have been unable to.\r\n\r\nI&#39;ve added the dependency to the pom.xml file and put in VM Arguments that lead to my installation of JavaFX and nothing has worked.\r\n\r\nIs there a way to do this that I&#39;m missing or would it be better to just add a copy of the javafx.web.jar that is in the JavaFX\\\\javafx-sdk\\\\lib folder directly somehow?\r\n\r\nMy pom.xml file:\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;dylan.gresham&lt;/groupId&gt;\r\n    &lt;artifactId&gt;nottah&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;19&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;19&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-web&lt;/artifactId&gt;\r\n            &lt;version&gt;19&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;release&gt;11&lt;/release&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.8&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;!-- Default configuration for running --&gt;\r\n                        &lt;!-- Usage: mvn clean javafx:run --&gt;\r\n                        &lt;id&gt;default-cli&lt;/id&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;mainClass&gt;dylan.gresham.Main&lt;/mainClass&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\r\n                            &lt;transformers&gt;\r\n                                &lt;transformer implementation=\r\n                                                     &quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                                    &lt;mainClass&gt;dylan.gresham.Driver&lt;/mainClass&gt;\r\n                                &lt;/transformer&gt;\r\n                            &lt;/transformers&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nMy VM Arguments:\r\n\r\n```\r\n--module-path C:\\Users\\dylan\\Downloads\\JavaFX\\javafx-sdk-18.0.1\\lib --add-modules =ALL -MODULE-PATH\r\n```\r\n\r\nMy module-info.java:\r\n```\r\nmodule dylan.gresham {\r\n    requires javafx.controls;\r\n    requires javafx.fxml;\r\n    requires transitive javafx.graphics;\r\n\r\n    opens dylan.gresham to javafx.fxml;\r\n    exports dylan.gresham;\r\n}\r\n```\r\n\r\nEdit: Added module-info file above.","title":"Unable to add javafx.web to Maven project on VS Code","body":"<p>I'm new to maven and  java projects as a whole and I've been trying to add javafx.web to my Maven project, specifically for the HTMLEditor class, on VS Code and so far have been unable to.</p>\n<p>I've added the dependency to the pom.xml file and put in VM Arguments that lead to my installation of JavaFX and nothing has worked.</p>\n<p>Is there a way to do this that I'm missing or would it be better to just add a copy of the javafx.web.jar that is in the JavaFX\\javafx-sdk\\lib folder directly somehow?</p>\n<p>My pom.xml file:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;dylan.gresham&lt;/groupId&gt;\n    &lt;artifactId&gt;nottah&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;19&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;19&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-web&lt;/artifactId&gt;\n            &lt;version&gt;19&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;11&lt;/release&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.8&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;!-- Default configuration for running --&gt;\n                        &lt;!-- Usage: mvn clean javafx:run --&gt;\n                        &lt;id&gt;default-cli&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;mainClass&gt;dylan.gresham.Main&lt;/mainClass&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\n                            &lt;transformers&gt;\n                                &lt;transformer implementation=\n                                                     &quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                                    &lt;mainClass&gt;dylan.gresham.Driver&lt;/mainClass&gt;\n                                &lt;/transformer&gt;\n                            &lt;/transformers&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>My VM Arguments:</p>\n<pre><code>--module-path C:\\Users\\dylan\\Downloads\\JavaFX\\javafx-sdk-18.0.1\\lib --add-modules =ALL -MODULE-PATH\n</code></pre>\n<p>My module-info.java:</p>\n<pre><code>module dylan.gresham {\n    requires javafx.controls;\n    requires javafx.fxml;\n    requires transitive javafx.graphics;\n\n    opens dylan.gresham to javafx.fxml;\n    exports dylan.gresham;\n}\n</code></pre>\n<p>Edit: Added module-info file above.</p>\n"},{"tags":["java","java.util.scanner","user-input","jshell","system.in"],"owner":{"account_id":22794746,"reputation":1,"user_id":16948475,"display_name":"threeweeksearlier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673486675,"creation_date":1673486675,"question_id":75090646,"body_markdown":"When using JShell&#39;s /open command to open a Java file and run code, user input does not work with Scanner. It will always throw a NoSuchElementException when it reaches the nextLine() method. Does anyone know why this is, and is there a fix/workaround that I am misssing?\r\n\r\nSteps to reproduce:\r\n- Create a Java file with the following code (for example, test.java):\r\n```java\r\nScanner scanner = new Scanner(System.in)\r\nString input = scanner.nextLine();\r\n```\r\n- Open JShell\r\n- Run `/open test.java`\r\n\r\nI have already looked at [this answer](https://stackoverflow.com/questions/48063408/how-to-take-user-input-in-jshell-script) but using the --execution local did not solve my issue. Calling `jshell --execution local` and then `/open test.java` gets a little closer where the program does halt for user input, but then the shell seems to freeze and I cannot type anything. Calling `jshell --execution local test.java` does seem to work, but after running the file it keeps you in JShell (where the /open command will not work), and it&#39;s really inconvenient to have to keep exiting out of JShell to rerun a file. The alternative is having each script end with `System.exit(0);`, but I don&#39;t really understand why something as fundamental as user input appears to be so bugged.\r\n\r\nI am using OpenJDK version 17.0.5.\r\n\r\nNormally this wouldn&#39;t be that big of a deal, but I was hoping to use JShell as a teaching tool...but these input issues/inconveniences are concerning me. Any help is greatly appreciated!","title":"JShell: Scanner nextLine() NoSuchElementException when using /open","body":"<p>When using JShell's /open command to open a Java file and run code, user input does not work with Scanner. It will always throw a NoSuchElementException when it reaches the nextLine() method. Does anyone know why this is, and is there a fix/workaround that I am misssing?</p>\n<p>Steps to reproduce:</p>\n<ul>\n<li>Create a Java file with the following code (for example, test.java):</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner scanner = new Scanner(System.in)\nString input = scanner.nextLine();\n</code></pre>\n<ul>\n<li>Open JShell</li>\n<li>Run <code>/open test.java</code></li>\n</ul>\n<p>I have already looked at <a href=\"https://stackoverflow.com/questions/48063408/how-to-take-user-input-in-jshell-script\">this answer</a> but using the --execution local did not solve my issue. Calling <code>jshell --execution local</code> and then <code>/open test.java</code> gets a little closer where the program does halt for user input, but then the shell seems to freeze and I cannot type anything. Calling <code>jshell --execution local test.java</code> does seem to work, but after running the file it keeps you in JShell (where the /open command will not work), and it's really inconvenient to have to keep exiting out of JShell to rerun a file. The alternative is having each script end with <code>System.exit(0);</code>, but I don't really understand why something as fundamental as user input appears to be so bugged.</p>\n<p>I am using OpenJDK version 17.0.5.</p>\n<p>Normally this wouldn't be that big of a deal, but I was hoping to use JShell as a teaching tool...but these input issues/inconveniences are concerning me. Any help is greatly appreciated!</p>\n"},{"tags":["java","mqtt"],"answers":[{"comments":[{"owner":{"account_id":13275690,"reputation":53,"user_id":9585111,"display_name":"Adriel Ad"},"score":0,"creation_date":1522660559,"post_id":49608344,"comment_id":86223473,"body_markdown":"I have tried with that also. Nothing shows in exception","body":"I have tried with that also. Nothing shows in exception"},{"owner":{"account_id":12144411,"reputation":1,"user_id":8867210,"display_name":"wes"},"score":0,"creation_date":1522662748,"post_id":49608344,"comment_id":86224496,"body_markdown":"You may need to post more of your code. I suspect a problem with how you are making the connection to server, sending and/or receiving data, not with MQTT ... Perhaps something is closing/holding the connection that you have with the MQTT server.","body":"You may need to post more of your code. I suspect a problem with how you are making the connection to server, sending and/or receiving data, not with MQTT ... Perhaps something is closing/holding the connection that you have with the MQTT server."}],"tags":[],"owner":{"account_id":12144411,"reputation":1,"user_id":8867210,"display_name":"wes"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522659956,"creation_date":1522659956,"answer_id":49608344,"question_id":49608077,"body_markdown":"The problem might not actually be the qos value but rather whether your client has a good/steady connection to the MQTT server. As mentioned [here][1] `publish` \r\n\r\n&gt; ... is a blocking method that returns once publish completes\r\n\r\nPublish might not be completing. Check whether you have a connection to your MQTT server and whether your MQTT client has successfully connected to the MQTT server.\r\n\r\nYou may also surround the call with a `try... catch ...` statement to see whether there&#39;s an exception being thrown:\r\n\r\n    try {\r\n      mqttClient.publish(topic, message);\r\n    } catch(Exception e) {\r\n      e.printStackTrace();\r\n    }\r\n\r\n\r\n  [1]: https://www.eclipse.org/paho/files/javadoc/org/eclipse/paho/client/mqttv3/MqttClient.html#publish-java.lang.String-org.eclipse.paho.client.mqttv3.MqttMessage-","title":"Program hangs while publishing message using qos = 0 in MQTT java","body":"<p>The problem might not actually be the qos value but rather whether your client has a good/steady connection to the MQTT server. As mentioned <a href=\"https://www.eclipse.org/paho/files/javadoc/org/eclipse/paho/client/mqttv3/MqttClient.html#publish-java.lang.String-org.eclipse.paho.client.mqttv3.MqttMessage-\" rel=\"nofollow noreferrer\">here</a> <code>publish</code> </p>\n\n<blockquote>\n  <p>... is a blocking method that returns once publish completes</p>\n</blockquote>\n\n<p>Publish might not be completing. Check whether you have a connection to your MQTT server and whether your MQTT client has successfully connected to the MQTT server.</p>\n\n<p>You may also surround the call with a <code>try... catch ...</code> statement to see whether there's an exception being thrown:</p>\n\n<pre><code>try {\n  mqttClient.publish(topic, message);\n} catch(Exception e) {\n  e.printStackTrace();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9368120,"reputation":99,"user_id":6952316,"accept_rate":50,"display_name":"Akash Sharma"},"score":0,"creation_date":1650425836,"post_id":53376272,"comment_id":127110143,"body_markdown":"This does work. But why does the main thread get blocked by publishes with QoS 0? Also Im guessing one wouldnt want to spin up a new thread for each publish since this would cause a bunch of threads that each run once and then just hang around? \n\nGuessing what we should  really do is have the thread consume from a queue and have the main thread enqueue to that queue?","body":"This does work. But why does the main thread get blocked by publishes with QoS 0? Also Im guessing one wouldnt want to spin up a new thread for each publish since this would cause a bunch of threads that each run once and then just hang around?   Guessing what we should  really do is have the thread consume from a queue and have the main thread enqueue to that queue?"},{"owner":{"account_id":1016849,"reputation":9461,"user_id":2026105,"display_name":"ETL"},"score":0,"creation_date":1673486622,"post_id":53376272,"comment_id":132512578,"body_markdown":"This is an incorrect solution and eventually leads to other problems, see my answer.","body":"This is an incorrect solution and eventually leads to other problems, see my answer."}],"tags":[],"owner":{"account_id":13730983,"reputation":76,"user_id":9908504,"display_name":"Neerav"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1659256532,"creation_date":1542636005,"answer_id":53376272,"question_id":49608077,"body_markdown":"Do not send it in the main thread, use another thread instead to publish the message.\r\n\r\n    Thread thread = new Thread() {\r\n       public void run() {\r\n           mqttClient.publish(topic, message);\r\n       }  \r\n    };\r\n    thread.start(); \r\n\r\nRegarding the comment about having a bunch of threads that don&#39;t finish, this does not appear to be the case. When running in its own thread, the `publish` call completes and the thread just created ends.\r\n\r\nIt appears that calling `publish` in the main thread causes a thread lock. This would need to be looked further into as to whether this is a bug in the library or as designed, but calling `publish` in its own thread prevents wait lock.","title":"Program hangs while publishing message using qos = 0 in MQTT java","body":"<p>Do not send it in the main thread, use another thread instead to publish the message.</p>\n<pre><code>Thread thread = new Thread() {\n   public void run() {\n       mqttClient.publish(topic, message);\n   }  \n};\nthread.start(); \n</code></pre>\n<p>Regarding the comment about having a bunch of threads that don't finish, this does not appear to be the case. When running in its own thread, the <code>publish</code> call completes and the thread just created ends.</p>\n<p>It appears that calling <code>publish</code> in the main thread causes a thread lock. This would need to be looked further into as to whether this is a bug in the library or as designed, but calling <code>publish</code> in its own thread prevents wait lock.</p>\n"},{"tags":[],"owner":{"account_id":1016849,"reputation":9461,"user_id":2026105,"display_name":"ETL"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673486601,"creation_date":1673486601,"answer_id":75090640,"question_id":49608077,"body_markdown":"This is a bug in the library (`org.eclipse.paho.client.mqttv3` prior to 1.2.5) when sending with QoS 0. \r\n\r\nThe solution of starting a thread is incorrect - while it makes it look like it solves the problem, you will end up with a number of threads that won&#39;t finish. Eventually, the library will complain that there are too many &quot;publish in-flight&quot; and you won&#39;t be able to publish anymore messages.\r\n\r\nThe issue [Sync MqttClient receiver thread deadlock](https://github.com/eclipse/paho.mqtt.java/issues/310) seems to be the one which when fixed, handled this problem.\r\n\r\nOnce upgraded to 1.2.5 (perhaps an earlier version after 1.2.0 solves it), this deadlock does not occur when sending with QoS 0.","title":"Program hangs while publishing message using qos = 0 in MQTT java","body":"<p>This is a bug in the library (<code>org.eclipse.paho.client.mqttv3</code> prior to 1.2.5) when sending with QoS 0.</p>\n<p>The solution of starting a thread is incorrect - while it makes it look like it solves the problem, you will end up with a number of threads that won't finish. Eventually, the library will complain that there are too many &quot;publish in-flight&quot; and you won't be able to publish anymore messages.</p>\n<p>The issue <a href=\"https://github.com/eclipse/paho.mqtt.java/issues/310\" rel=\"nofollow noreferrer\">Sync MqttClient receiver thread deadlock</a> seems to be the one which when fixed, handled this problem.</p>\n<p>Once upgraded to 1.2.5 (perhaps an earlier version after 1.2.0 solves it), this deadlock does not occur when sending with QoS 0.</p>\n"}],"owner":{"account_id":13275690,"reputation":53,"user_id":9585111,"display_name":"Adriel Ad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1334,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":53376272,"answer_count":3,"score":2,"last_activity_date":1673486601,"creation_date":1522658805,"question_id":49608077,"body_markdown":"I am working on mqtt clients in thingstream. When I try to publish message to a topic using qos = 0, the message is sent but program hangs there only. Then I tried sending message using qos = 1. Message was sent successfully and program also didn&#39;t hanged. But while sending another message, I get interruption exception. Can anyone help me out. \r\n\r\nBelow is the snippet I am using to publish message.\r\n\r\n    MqttMessage message = new MqttMessage(command);\r\n    message.setPayload(command);\r\n    message.setQos(1);\r\n    mqttClient.publish(topic, message);\r\n    System.out.println(&quot;Message published&quot;);\r\n\r\nLibrary used - org.eclipse.paho.client.mqttv3-1.2.0\r\n\r\nCode for initializing mqtt client\r\n\r\n    public void connect() {\r\n\r\n\t\ttry {\r\n\t\t\tmqttClient = new MqttClient(serverUri, clientId);\r\n\t\t\t//mqttClient.setTimeToWait(10000);\r\n\t\t} catch (MqttException e1) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te1.printStackTrace();\r\n\t\t}\r\n\r\n\t\tmqttClient.setCallback(new MqttCallbackExtended() {\r\n\t\t\t@Override\r\n\t\t\tpublic void messageArrived(String topic, MqttMessage mqttMessage) throws Exception {\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\tSystem.out.println(&quot;messageArrived: &quot; + topic.toString());\r\n\t\t\t\tSystem.out.println(mqttMessage.toString());\r\n\t\t\t\tSystem.out.println(mqttMessage.getPayload());\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void deliveryComplete(IMqttDeliveryToken arg0) {\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\tSystem.out.println(&quot;deliveryComplete: &quot; + arg0.getMessageId());\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void connectionLost(Throwable arg0) {\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\tSystem.out.println(&quot;---Connection lost1&quot;);\r\n\t\t\t\t// Toast.makeText(App.getContext(), &quot;Connection\r\n\t\t\t\t// lost&quot;,Toast.LENGTH_SHORT).show();\r\n\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void connectComplete(boolean arg0, String arg1) {\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\tSystem.out.println(&quot;connectComplete&quot;);\r\n\t\t\t\ttry {\r\n\t\t\t\t\tmqttClient.subscribe(&quot;device/+/publish&quot;);\r\n\t\t\t\t} catch (MqttException e) {\r\n\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\tcommands.sendCommand(Commands.GET_STATUS, null, &quot;device/identity:85111741-5789-3010-85c9-be4a7204e5d3&quot;);\r\n\t\t\t\t} catch (MqttException | InterruptedException e) {\r\n\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tMqttConnectOptions mqttConnectOptions = new MqttConnectOptions();\r\n\t\tmqttConnectOptions.setAutomaticReconnect(true);\r\n\t\tmqttConnectOptions.setCleanSession(true);\r\n\t\tmqttConnectOptions.setUserName(username);\r\n\t\tmqttConnectOptions.setPassword(password.toCharArray());\r\n\t\tmqttConnectOptions.setKeepAliveInterval(30);\r\n\t\tmqttConnectOptions.setConnectionTimeout(60);\r\n\t\tmqttConnectOptions.setMqttVersion(MqttConnectOptions.MQTT_VERSION_3_1_1);\r\n\r\n\t\ttry {\r\n\t\t\tmqttClient.connect(mqttConnectOptions);\r\n\t\t} catch (MqttSecurityException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (MqttException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t}","title":"Program hangs while publishing message using qos = 0 in MQTT java","body":"<p>I am working on mqtt clients in thingstream. When I try to publish message to a topic using qos = 0, the message is sent but program hangs there only. Then I tried sending message using qos = 1. Message was sent successfully and program also didn't hanged. But while sending another message, I get interruption exception. Can anyone help me out. </p>\n\n<p>Below is the snippet I am using to publish message.</p>\n\n<pre><code>MqttMessage message = new MqttMessage(command);\nmessage.setPayload(command);\nmessage.setQos(1);\nmqttClient.publish(topic, message);\nSystem.out.println(\"Message published\");\n</code></pre>\n\n<p>Library used - org.eclipse.paho.client.mqttv3-1.2.0</p>\n\n<p>Code for initializing mqtt client</p>\n\n<pre><code>public void connect() {\n\n    try {\n        mqttClient = new MqttClient(serverUri, clientId);\n        //mqttClient.setTimeToWait(10000);\n    } catch (MqttException e1) {\n        // TODO Auto-generated catch block\n        e1.printStackTrace();\n    }\n\n    mqttClient.setCallback(new MqttCallbackExtended() {\n        @Override\n        public void messageArrived(String topic, MqttMessage mqttMessage) throws Exception {\n            // TODO Auto-generated method stub\n            System.out.println(\"messageArrived: \" + topic.toString());\n            System.out.println(mqttMessage.toString());\n            System.out.println(mqttMessage.getPayload());\n        }\n\n        @Override\n        public void deliveryComplete(IMqttDeliveryToken arg0) {\n            // TODO Auto-generated method stub\n            System.out.println(\"deliveryComplete: \" + arg0.getMessageId());\n        }\n\n        @Override\n        public void connectionLost(Throwable arg0) {\n            // TODO Auto-generated method stub\n            System.out.println(\"---Connection lost1\");\n            // Toast.makeText(App.getContext(), \"Connection\n            // lost\",Toast.LENGTH_SHORT).show();\n\n        }\n\n        @Override\n        public void connectComplete(boolean arg0, String arg1) {\n            // TODO Auto-generated method stub\n            System.out.println(\"connectComplete\");\n            try {\n                mqttClient.subscribe(\"device/+/publish\");\n            } catch (MqttException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n\n            try {\n                commands.sendCommand(Commands.GET_STATUS, null, \"device/identity:85111741-5789-3010-85c9-be4a7204e5d3\");\n            } catch (MqttException | InterruptedException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n\n        }\n    });\n\n    MqttConnectOptions mqttConnectOptions = new MqttConnectOptions();\n    mqttConnectOptions.setAutomaticReconnect(true);\n    mqttConnectOptions.setCleanSession(true);\n    mqttConnectOptions.setUserName(username);\n    mqttConnectOptions.setPassword(password.toCharArray());\n    mqttConnectOptions.setKeepAliveInterval(30);\n    mqttConnectOptions.setConnectionTimeout(60);\n    mqttConnectOptions.setMqttVersion(MqttConnectOptions.MQTT_VERSION_3_1_1);\n\n    try {\n        mqttClient.connect(mqttConnectOptions);\n    } catch (MqttSecurityException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    } catch (MqttException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":1424245,"reputation":272193,"user_id":1348195,"accept_rate":88,"display_name":"Benjamin Gruenbaum"},"score":0,"creation_date":1341498383,"post_id":11346357,"comment_id":14941695,"body_markdown":"Which version of eclipse and which version of java?","body":"Which version of eclipse and which version of java?"},{"owner":{"account_id":1286813,"reputation":4706,"user_id":1239718,"accept_rate":67,"display_name":"shem"},"score":0,"creation_date":1341498444,"post_id":11346357,"comment_id":14941731,"body_markdown":"sounds like a bad plugin, which plugins you installed lately?","body":"sounds like a bad plugin, which plugins you installed lately?"},{"owner":{"account_id":1286813,"reputation":4706,"user_id":1239718,"accept_rate":67,"display_name":"shem"},"score":0,"creation_date":1341498513,"post_id":11346357,"comment_id":14941758,"body_markdown":"maybe jvisualvm can get you some clues.","body":"maybe jvisualvm can get you some clues."},{"owner":{"account_id":50103,"reputation":776,"user_id":149325,"accept_rate":44,"display_name":"elvenbyte"},"score":0,"creation_date":1341498529,"post_id":11346357,"comment_id":14941766,"body_markdown":"Eclipse always spends a lot of memory and cpu usage, I&#39;m afraid.","body":"Eclipse always spends a lot of memory and cpu usage, I&#39;m afraid."},{"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"score":0,"creation_date":1375935693,"post_id":11346357,"comment_id":26527450,"body_markdown":"There is difference between this happening when doing something, and when idling -- in latter case it absolutely should NOT do it. Yet even with Kepler (4.2.2) that occurs. Still.","body":"There is difference between this happening when doing something, and when idling -- in latter case it absolutely should NOT do it. Yet even with Kepler (4.2.2) that occurs. Still."}],"answers":[{"comments":[{"owner":{"account_id":1012715,"reputation":774,"user_id":1024945,"display_name":"Joey T"},"score":7,"creation_date":1363118473,"post_id":11346446,"comment_id":21720442,"body_markdown":"It should be noted that you don&#39;t &#39;disable&#39; plugins via Installation details in Eclipse 4.2.2 Juno release, you can only uninstall them and restart Eclipse. That being said, once I uninstalled the all of the Mylyn plugins + the Subclipse Mylyn connector, my Mac OS X Eclipse Juno install went from using 100% + of CPU (all the time!) down to practically nothing.  Thanks for the suggestion!","body":"It should be noted that you don&#39;t &#39;disable&#39; plugins via Installation details in Eclipse 4.2.2 Juno release, you can only uninstall them and restart Eclipse. That being said, once I uninstalled the all of the Mylyn plugins + the Subclipse Mylyn connector, my Mac OS X Eclipse Juno install went from using 100% + of CPU (all the time!) down to practically nothing.  Thanks for the suggestion!"},{"owner":{"account_id":42326,"reputation":1810,"user_id":123280,"accept_rate":71,"display_name":"Dr. Max V&#246;lkel"},"score":2,"creation_date":1364390036,"post_id":11346446,"comment_id":22224093,"body_markdown":"Uninstalling the SVN-Mylin connector seems to have helped in my case","body":"Uninstalling the SVN-Mylin connector seems to have helped in my case"}],"tags":[],"owner":{"account_id":267053,"reputation":29704,"user_id":554988,"accept_rate":86,"display_name":"Garrett Hall"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1341498548,"creation_date":1341498548,"answer_id":11346446,"question_id":11346357,"body_markdown":"I&#39;ve had this problem with plugins, but never with Eclipse itself.\r\n\r\nYou can try to debug it by going to `Help &gt; About Eclipse &gt; Installation details` and disabling the plugins one by one.","title":"High CPU usage in Eclipse when idle","body":"<p>I've had this problem with plugins, but never with Eclipse itself.</p>\n\n<p>You can try to debug it by going to <code>Help &gt; About Eclipse &gt; Installation details</code> and disabling the plugins one by one.</p>\n"},{"comments":[{"owner":{"account_id":168059,"reputation":18011,"user_id":393258,"accept_rate":95,"display_name":"Chrispix"},"score":0,"creation_date":1365269148,"post_id":11351373,"comment_id":22562297,"body_markdown":"Thank you, my mac was showing 80% CPU just sitting there. Checked it out and it kept going from about 490mb -&gt; 508mb and then back down.. Made the change, and restarted eclipse, and now idles at 3.5% cpu..Thanks.","body":"Thank you, my mac was showing 80% CPU just sitting there. Checked it out and it kept going from about 490mb -&gt; 508mb and then back down.. Made the change, and restarted eclipse, and now idles at 3.5% cpu..Thanks."}],"tags":[],"owner":{"account_id":19004,"reputation":21826,"user_id":44089,"accept_rate":79,"display_name":"Bananeweizen"},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1341517085,"creation_date":1341517085,"answer_id":11351373,"question_id":11346357,"body_markdown":"I&#39;ve seen such behaviour only when the garbage collector went crazy because the allocated memory really reached the configured maximum memory limits of the VM. If you have a large Eclipse installation, your first step should always be to [increase the memory settings in the eclipse.ini][1].\r\n\r\nPlease also activate *Window -&gt; Preferences -&gt; General -&gt; Show heap status*. It will show you how much memory Eclipse currently uses (in the status line). If that goes up to the allowed maximum and doesn&#39;t drop anymore (i.e. the garbage collector cannot clean up unused objects), then that is exactly the indication for what I described above.\r\n\r\nEdit: It would also be good to know what Eclipse package you use, as those contain different plugins by default. Classic, Modeling, Java EE developers,...? \r\n\r\n\r\n  [1]: http://wiki.eclipse.org/FAQ_How_do_I_increase_the_heap_size_available_to_Eclipse?","title":"High CPU usage in Eclipse when idle","body":"<p>I've seen such behaviour only when the garbage collector went crazy because the allocated memory really reached the configured maximum memory limits of the VM. If you have a large Eclipse installation, your first step should always be to <a href=\"http://wiki.eclipse.org/FAQ_How_do_I_increase_the_heap_size_available_to_Eclipse?\" rel=\"noreferrer\">increase the memory settings in the eclipse.ini</a>.</p>\n\n<p>Please also activate <em>Window -> Preferences -> General -> Show heap status</em>. It will show you how much memory Eclipse currently uses (in the status line). If that goes up to the allowed maximum and doesn't drop anymore (i.e. the garbage collector cannot clean up unused objects), then that is exactly the indication for what I described above.</p>\n\n<p>Edit: It would also be good to know what Eclipse package you use, as those contain different plugins by default. Classic, Modeling, Java EE developers,...? </p>\n"},{"tags":[],"owner":{"account_id":2103540,"reputation":61,"user_id":1870502,"display_name":"mal"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1354565434,"creation_date":1354565434,"answer_id":13690874,"question_id":11346357,"body_markdown":"Java multi thread garbage collector is a garbage.\r\nadd -XX:-UseLoopPredicate option to java command line.\r\nSee e.g. the bug https://bugzilla.redhat.com/show_bug.cgi?id=882968","title":"High CPU usage in Eclipse when idle","body":"<p>Java multi thread garbage collector is a garbage.\nadd -XX:-UseLoopPredicate option to java command line.\nSee e.g. the bug <a href=\"https://bugzilla.redhat.com/show_bug.cgi?id=882968\" rel=\"nofollow\">https://bugzilla.redhat.com/show_bug.cgi?id=882968</a></p>\n"},{"comments":[{"owner":{"account_id":2487640,"reputation":3235,"user_id":2165786,"accept_rate":67,"display_name":"Matt Vukas"},"score":38,"creation_date":1422562059,"post_id":14766655,"comment_id":44810186,"body_markdown":"Inspecting processes, tracking down rogue threads, reading through hex addresses... Sounds like a typical day of getting Eclipse to work properly.","body":"Inspecting processes, tracking down rogue threads, reading through hex addresses... Sounds like a typical day of getting Eclipse to work properly."},{"owner":{"account_id":378535,"reputation":13462,"user_id":731314,"accept_rate":90,"display_name":"Gary"},"score":2,"creation_date":1444624055,"post_id":14766655,"comment_id":53964224,"body_markdown":"This was it for me.  I made the sacrilegious mistake of extracting boost to one of my project directories and Eclipse had an aneurysm.","body":"This was it for me.  I made the sacrilegious mistake of extracting boost to one of my project directories and Eclipse had an aneurysm."},{"owner":{"account_id":1260746,"reputation":1516,"user_id":1219104,"accept_rate":43,"display_name":"Tarator"},"score":0,"creation_date":1458896184,"post_id":14766655,"comment_id":60065584,"body_markdown":"A &#39;one-click-function&#39; doing all that stuff for you in eclipse would be nice :-) And the output shall be: &#39;Uninstall plugin XYZ it makes Eclipse slow!&#39;","body":"A &#39;one-click-function&#39; doing all that stuff for you in eclipse would be nice :-) And the output shall be: &#39;Uninstall plugin XYZ it makes Eclipse slow!&#39;"},{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Palo Ebermann"},"score":1,"creation_date":1464023685,"post_id":14766655,"comment_id":62302264,"body_markdown":"After identifying the thread, what was your way of resolving this issue?","body":"After identifying the thread, what was your way of resolving this issue?"},{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Palo Ebermann"},"score":1,"creation_date":1464025300,"post_id":14766655,"comment_id":62303126,"body_markdown":"In my case the problematic thread is the `main` one (i.e. the one which starts the main method, and then runs the SWT event loop). Not sure how I can uninstall that :-/","body":"In my case the problematic thread is the <code>main</code> one (i.e. the one which starts the main method, and then runs the SWT event loop). Not sure how I can uninstall that :-/"}],"tags":[],"owner":{"account_id":1816357,"reputation":422,"user_id":1651364,"accept_rate":25,"display_name":"Mihai Tudor"},"comment_count":5,"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1670348787,"creation_date":1360303507,"answer_id":14766655,"question_id":11346357,"body_markdown":"I was having the same problem today, and it turned out to be an indexing thread that was occupying the CPU. I had recently added quite a bit of files to a project and had forgotten about it. I realize it&#39;s not likely that anyone else has this problem, but it might be useful to post how I investigated it.\r\n\r\nI&#39;m running Ubuntu 12.10 with STS based on eclipse Juno.\r\n\r\n1. Start eclipse from the command line and redirect output to a file so we can get a thread dump\r\n2. Allow it to settle for a bit, then get a listing of the cpu usage for each thread: `ps -mo &#39;pid lwp stime time pcpu&#39; -C java`. Here&#39;s a sample of the output that identified my cpu-hungry thread: \r\n    ```\r\n    PID   LWP STIME     TIME %CPU\r\n\r\n    6974     - 07:42 00:15:51  133\r\n\r\n       7067 07:42 00:09:49 **86.1**\r\n    ```\r\n3. Convert the thread id (in my case `7067`) to hex `0x1b9b` (e.g. in the command line using: `printf &quot;0x%x\\n&quot; 7067`)\r\n\r\n4. Do a thread dump of the java process using `kill -3`, as in: `kill -3 6974`. The output is saved in the file you redirected stdout when you started eclipse\r\n\r\n5. Open the file and look for the hex id of the thread:\r\n    ```\r\n    &quot;Link Indexer Delayed Write-10&quot; prio=10 tid=0x00007f66b801a800 nid=**0x1b9b** runnable [0x00007f66a9e46000]\r\n\r\n    java.lang.Thread.State: RUNNABLE\r\n\r\n    at com.ibm.etools.references.internal.bplustree.db.ExtentManager$WriteBack.r\r\n    ```\r\n","title":"High CPU usage in Eclipse when idle","body":"<p>I was having the same problem today, and it turned out to be an indexing thread that was occupying the CPU. I had recently added quite a bit of files to a project and had forgotten about it. I realize it's not likely that anyone else has this problem, but it might be useful to post how I investigated it.</p>\n<p>I'm running Ubuntu 12.10 with STS based on eclipse Juno.</p>\n<ol>\n<li><p>Start eclipse from the command line and redirect output to a file so we can get a thread dump</p>\n</li>\n<li><p>Allow it to settle for a bit, then get a listing of the cpu usage for each thread: <code>ps -mo 'pid lwp stime time pcpu' -C java</code>. Here's a sample of the output that identified my cpu-hungry thread:</p>\n<pre><code>PID   LWP STIME     TIME %CPU\n\n6974     - 07:42 00:15:51  133\n\n   7067 07:42 00:09:49 **86.1**\n</code></pre>\n</li>\n<li><p>Convert the thread id (in my case <code>7067</code>) to hex <code>0x1b9b</code> (e.g. in the command line using: <code>printf &quot;0x%x\\n&quot; 7067</code>)</p>\n</li>\n<li><p>Do a thread dump of the java process using <code>kill -3</code>, as in: <code>kill -3 6974</code>. The output is saved in the file you redirected stdout when you started eclipse</p>\n</li>\n<li><p>Open the file and look for the hex id of the thread:</p>\n<pre><code>&quot;Link Indexer Delayed Write-10&quot; prio=10 tid=0x00007f66b801a800 nid=**0x1b9b** runnable [0x00007f66a9e46000]\n\njava.lang.Thread.State: RUNNABLE\n\nat com.ibm.etools.references.internal.bplustree.db.ExtentManager$WriteBack.r\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9603249,"reputation":11,"user_id":7130006,"display_name":"user7130006"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670348526,"creation_date":1478586451,"answer_id":40480319,"question_id":11346357,"body_markdown":"Was facing the same issue, Passed following VM Argument in eclipse and it worked fine for me.\r\n\r\n```\r\n-Xmx1300m\r\n-XX:PermSize=256m\r\n-XX:MaxPermSize=256m\r\n```","title":"High CPU usage in Eclipse when idle","body":"<p>Was facing the same issue, Passed following VM Argument in eclipse and it worked fine for me.</p>\n<pre><code>-Xmx1300m\n-XX:PermSize=256m\n-XX:MaxPermSize=256m\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1042438,"reputation":3580,"user_id":1048170,"display_name":"Dominic Cerisano"},"score":3,"creation_date":1526280130,"post_id":48682931,"comment_id":87664442,"body_markdown":"I uninstalled the myln plugins for Git and PHP using this method, and it seems to have resolved this random CPU thrashing problem on my system.","body":"I uninstalled the myln plugins for Git and PHP using this method, and it seems to have resolved this random CPU thrashing problem on my system."},{"owner":{"account_id":407935,"reputation":1152,"user_id":778294,"accept_rate":80,"display_name":"gordon"},"score":2,"creation_date":1572031755,"post_id":48682931,"comment_id":103447855,"body_markdown":"Squeamish about uninstalling I did a seek and move. So far, sooooooo much better.","body":"Squeamish about uninstalling I did a seek and move. So far, sooooooo much better."},{"owner":{"account_id":18223968,"reputation":796,"user_id":13264143,"display_name":"John Glen"},"score":0,"creation_date":1598311178,"post_id":48682931,"comment_id":112411836,"body_markdown":"Uninstalling the mylyn-wikitext_feature plugin seemed to fix the high CPU issue in my case so far. The high CPU happened soon after adding some xml code to a maven project, and deleting the xml didn&#39;t make it go away. I&#39;m not even sure if it related.","body":"Uninstalling the mylyn-wikitext_feature plugin seemed to fix the high CPU issue in my case so far. The high CPU happened soon after adding some xml code to a maven project, and deleting the xml didn&#39;t make it go away. I&#39;m not even sure if it related."},{"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"score":0,"creation_date":1644681835,"post_id":48682931,"comment_id":125673547,"body_markdown":"I uninstalled, Mylin, JSF, Data Tools, Tip of the day, behaviour of Eclipse (our beloved bloatware) has become much saner from CPU and memory usage perspective.","body":"I uninstalled, Mylin, JSF, Data Tools, Tip of the day, behaviour of Eclipse (our beloved bloatware) has become much saner from CPU and memory usage perspective."}],"tags":[],"owner":{"account_id":2864238,"reputation":10897,"user_id":2458858,"accept_rate":85,"display_name":"tryingToLearn"},"comment_count":4,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1572412609,"creation_date":1518084891,"answer_id":48682931,"question_id":11346357,"body_markdown":"Uninstalling mylyn plugins fixed the issue for me and the performance boost was so drastic that I am posting it as answer to a 6 year old question.\r\n\r\nGo to `Help-&gt;About Eclipse-&gt;Installation Details-&gt;Installed Software`\r\nand uninstall all plugins that you **know** you are not using. I uninstalled only mylyn plugins and it did the wonder for me. \r\n\r\n**EDIT:**\r\n\r\nIn the eclipse version : 2018-09 (4.9.0), the eclipse freeze/unresponsive issue can be solved by - **closing the package &amp; project explorer**. \r\n\r\nI know this may sound like a dumb solution, but I have tested this on about 5 peer machines, multiple times and believe me when I say this simple solution removed the freeze issue in each of them. As long as package/project explorer was not reopened, none of them complained about unresponsive eclipse.","title":"High CPU usage in Eclipse when idle","body":"<p>Uninstalling mylyn plugins fixed the issue for me and the performance boost was so drastic that I am posting it as answer to a 6 year old question.</p>\n\n<p>Go to <code>Help-&gt;About Eclipse-&gt;Installation Details-&gt;Installed Software</code>\nand uninstall all plugins that you <strong>know</strong> you are not using. I uninstalled only mylyn plugins and it did the wonder for me. </p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>In the eclipse version : 2018-09 (4.9.0), the eclipse freeze/unresponsive issue can be solved by - <strong>closing the package &amp; project explorer</strong>. </p>\n\n<p>I know this may sound like a dumb solution, but I have tested this on about 5 peer machines, multiple times and believe me when I say this simple solution removed the freeze issue in each of them. As long as package/project explorer was not reopened, none of them complained about unresponsive eclipse.</p>\n"},{"tags":[],"owner":{"account_id":3032157,"reputation":40061,"user_id":4561887,"accept_rate":73,"display_name":"Gabriel Staples"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1673485845,"creation_date":1670352042,"answer_id":74707607,"question_id":11346357,"body_markdown":"## Problem: Eclipse and the Eclipse indexer take up all my resources / CPU%\r\n\r\n_Tested in Eclipse IDE for C/C++ Developers Version: 2022-09 (4.25.0) on Linux Ubuntu 18.04._\r\n\r\n\r\n## Quick summary\r\n\r\nSolution: decrease the max number of threads Eclipse can use, down to 1/2 as many as your computer has. So, if your computer has 8 physical &quot;cores&quot; (actually: hyperthreads), then decrease the max number of threads that Eclipse can use to 4, or **&lt;= half of your number of cores** for your system, as follows:\r\n\r\nIn `$HOME/eclipse/cpp-2022-09/eclipse/eclipse.ini` on Linux Ubuntu, or equivalent for your OS, make this change (reducing from 10 threads max, to 4, in my case):\r\n\r\nChange _from:_\r\n```bash\r\n-Declipse.p2.max.threads=10\r\n```\r\n_to:_\r\n```bash\r\n-Declipse.p2.max.threads=4\r\n```\r\n\r\nRestart Eclipse. \r\n\r\nNow, Eclipse can only take up to 4 of my 8 hyperthreads, and my system runs much better!\r\n\r\nIf on Linux, you should also reduce your &quot;swappiness&quot; setting to improve system performance. See below.\r\n\r\n\r\n## Details and additional improvements to make\r\n\r\nI noticed a **huge** improvement in my ability to use my computer while Eclipse was indexing projects once I made this change. Eclipse used to make my computer almost totally unusable for hours or days at a time, before, as it indexes my _huge_ repos--many GiB.\r\n\r\nYou should also give Eclipse more RAM, if needed. In that same `eclipse.ini` file mentioned above, the `-Xms` setting sets the _starting RAM_ given to Eclipse&#39;s Java runtime environment, and the `-Xmx` setting sets the _max RAM_ given to it. For indexing large projects, ensure it has a large enough max RAM to successfully index the project. The defaults, if I remember correctly, are:\r\n\r\n```bash\r\n-Xms256m\r\n-Xmx2048m\r\n```\r\n\r\n...which means: starting RAM given to the Eclipse Java runtime environment is 256 MiB, and max it is allowed to grow to if needed is 2048 MiB. \r\n\r\nI have 32 GiB of RAM and 64 GiB of swap space, and my indexer was stalling if I gave Eclipse &lt; 12 GiB of max RAM, so I set my settings as follows to start Eclipse with 1 GiB (1024 MiB) of RAM, and allow it up to 12 GiB (12288 MiB) of RAM:\r\n\r\n```bash\r\n-Xms1024m\r\n-Xmx12288m\r\n```\r\n\r\nSo, my total changes were _from:_\r\n\r\n```bash\r\n-Declipse.p2.max.threads=10\r\n-Xms256m\r\n-Xmx2048m\r\n```\r\n\r\n_...to:_\r\n```bash\r\n-Declipse.p2.max.threads=4\r\n-Xms1024m\r\n-Xmx12288m\r\n```\r\n\r\nHere is my final `/home/gabriel/eclipse/cpp-2022-09/eclipse/eclipse.ini` file, with those changes in-place:\r\n\r\n```\r\n-startup\r\nplugins/org.eclipse.equinox.launcher_1.6.400.v20210924-0641.jar\r\n--launcher.library\r\n/home/gabriel/.p2/pool/plugins/org.eclipse.equinox.launcher.gtk.linux.x86_64_1.2.600.v20220720-1916\r\n-product\r\norg.eclipse.epp.package.cpp.product\r\n-showsplash\r\n/home/gabriel/.p2/pool/plugins/org.eclipse.epp.package.common_4.25.0.20220908-1200\r\n--launcher.defaultAction\r\nopenFile\r\n--launcher.appendVmargs\r\n-vm\r\n/home/gabriel/.p2/pool/plugins/org.eclipse.justj.openjdk.hotspot.jre.full.linux.x86_64_19.0.1.v20221102-1007/jre/bin\r\n-vmargs\r\n--add-opens=java.base/java.io=ALL-UNNAMED\r\n--add-opens=java.base/sun.nio.ch=ALL-UNNAMED\r\n--add-opens=java.base/java.net=ALL-UNNAMED\r\n--add-opens=java.base/sun.security.ssl=ALL-UNNAMED\r\n-Dosgi.requiredJavaVersion=17\r\n-Dosgi.instance.area.default=@user.home/eclipse-workspace\r\n-Dsun.java.command=Eclipse\r\n-XX:+UseG1GC\r\n-XX:+UseStringDeduplication\r\n--add-modules=ALL-SYSTEM\r\n-Dosgi.requiredJavaVersion=11\r\n-Dosgi.dataAreaRequiresExplicitInit=true\r\n-Dorg.eclipse.swt.graphics.Resource.reportNonDisposed=true\r\n-Xms1024m\r\n-Xmx12288m\r\n--add-modules=ALL-SYSTEM\r\n-Declipse.p2.max.threads=4\r\n-Doomph.update.url=https://download.eclipse.org/oomph/updates/milestone/latest\r\n-Doomph.redirection.index.redirection=index:/-&gt;http://git.eclipse.org/c/oomph/org.eclipse.oomph.git/plain/setups/\r\n--add-opens=java.base/java.lang=ALL-UNNAMED\r\n-Djava.security.manager=allow\r\n```\r\n\r\n\r\n## How to see how many &quot;cores&quot; (again, actually: hyperthreads) you have on your hardware\r\n\r\nOn Linux Ubuntu, simply open the &quot;System Monitor&quot; app. Count the cores. You can see here I have 8: \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n## How many threads should I give Eclipse?\r\n\r\nA good starting point is to give Eclipse *half* of your total cores, to keep it from bogging down your system all the time while indexing and refreshing large projects. So, I have 8 cores (hyperthreads), so I should give Eclipse 4 of them by setting `-Declipse.p2.max.threads=4` in the .ini file. \r\n\r\nThis may sound counter-intuitive, but **the larger your project and the weaker your computer, the _fewer_ threads you should give Eclipse!** This is because the larger your project and the weaker your computer, the more your computer will get bogged down using things like your Chrome web browser. So, **to keep Eclipse from sucking up all your resources and freezing your computer, limit the number of threads it can have even more.** If I find Eclipse to be bogging down my computer again, I&#39;ll reduce its threads to 2 or 3 max instead of 4. I previously gave it 7 of my 8 threads, and it was _horrible!_ My computer ran _so stinking slow_ and I could never use things like Chrome or Slack properly!\r\n\r\n\r\n## How much max RAM (`-Xmx`) should I give Eclipse?\r\n\r\n- The starting setting of `-Xmx2048m` (2048 MiB, or 2 GiB) is fine for most users. It handles most normal projects you&#39;ll encounter. \r\n- Perhaps as few as `-Xmx512m` (512 MiB, or 0.5 GiB) or so can index the entire Arduino AVR (8-bit mcu) source code just fine\r\n- I need at least `-Xmx12288m` (12288 MiB, or 12 GiB) for my large mono-repo.\r\n- You might need a whopping 32 GiB \\~ 64 giB (`-Xmx32768m` to `-Xmx65536m`) to index the entire C++ Boost library, which is totally nuts. So, in most cases, exclude the Boost library from your indexer. I mention that in my Google document linked-to below.\r\n\r\nThe rule-of-thumb is to increase your `-Xmx` setting a bit whenever you see your indexer struggling or stalled, and Eclipse&#39;s usage of the available RAM is continually maxed-out. Here is a screenshot at the bottom of my Eclipse window showing that Eclipse is currently using **8456 MiB** of the available **12288 MiB** which it has currently allocated on the heap:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nZoomed-in view: [![enter image description here][3]][3]\r\n\r\nIf it was rapidly increasing to the max often and staying there frequently, I&#39;d need to increase my `-Xmx` setting further, to let Eclipse further grow the heap.\r\n\r\nTo **turn on showing the heap status at the bottom of the Eclipse window** (if it isnt already on by default): \r\nWindow  Preferences  General  check the box for &quot;Show heap status&quot;  click &quot;Apply and Close&quot;.\r\n\r\nNB: When Eclipse first starts, the memory usage indicator will show the right-number in the above heap usage as being equal to your starting heap allocation, which is defined by the `-Xms` number. As Eclipse needs more memory, it will allocate more, growing that right number up to the `-Xmx` value you&#39;ve defined. Again, if your indexer stalls or freezes because it&#39;s out of RAM, increase that `-Xmx` number to allow Eclipse&#39;s indexer to use more heap memory (RAM).\r\n\r\n\r\n## What other options can I pass to Eclipse&#39;s underlying Java virtual machine (JVM)?\r\n\r\nEclipse&#39;s article, [FAQ How do I increase the heap size available to Eclipse?](https://wiki.eclipse.org/FAQ_How_do_I_increase_the_heap_size_available_to_Eclipse%3F), states (emphasis added): \r\n\r\n&gt; Some JVMs put restrictions on the total amount of memory available on the heap. If you are getting `OutOfMemoryError`s while running Eclipse, the VM can be told to let the heap grow to a larger amount by passing the `-vmargs` command to the Eclipse launcher. For example, the following command would run Eclipse with a heap size of 2048MB:\r\n&gt; \r\n&gt; ```bash\r\n&gt; eclipse [normal arguments] -vmargs -Xmx2048m [more VM args]\r\n&gt; ```\r\n&gt; \r\n&gt; The arguments after `-vmargs` are directly passed to the VM. **Run `java -X` for the list of options your VM accepts. Options starting with `-X` are implementation-specific and may not be applicable to all VMs.**\r\n&gt; \r\n&gt; You can also put the extra options in `eclipse.ini`.\r\n\r\nSo, as it says, run this:\r\n```bash\r\njava -X\r\n```\r\n\r\n...for a list of all possible arguments you can pass to the underlying Java virtual machine (JVM). Here are the descriptions from that output for `-Xms` and `-Xmx`: \r\n\r\n&gt;     -Xms&lt;size&gt;        set initial Java heap size\r\n&gt;     -Xmx&lt;size&gt;        set maximum Java heap size\r\n\r\n\r\n## (For Linux users) reduce your system&#39;s &quot;swappiness&quot;\r\n\r\nIf on Linux, you should also reduce your &quot;swappiness&quot; setting from the default of 60 down to the range of 0 to 10 (I prefer 0) to increase your system&#39;s performance and reduce lagging and freezing when you get above about 75% RAM usage. \r\n\r\n&quot;Swappiness&quot; describes how likely your system is to move the contents of RAM to your &quot;swap space&quot;, or virtual memory, which is on your hard disk drive (HDD) or solid state drive (SSD). Swappiness setting values range from 0 to 200 (see [my answer quoting the Linux kernel source code here](https://askubuntu.com/a/1445347/327339)), where 0 means it will try not to use your swap space until it has to, and 200 means it will favor using your swap space earlier. \r\n\r\nThe benefit of virtual memory, or swap space, is that it can expand your computer&#39;s &quot;RAM-like&quot; memory for free practically, allowing you to run a program or do a heavy task like compiling a large application. Such a heavy process might want 64 GiB of RAM even if you only have 8 GiB of RAM. Normally, your computer would crash and couldn&#39;t do it, but with swap space it _can_, as it treats your swap file or partition like extra RAM. That&#39;s pretty amazing. The downside of swap memory, however, is that it&#39;s much slower than RAM, even when it is running on a high-speed m.2 SSD. \r\n\r\nSo, **to limit swapping and improve performance, just reduce your swappiness to 0. Follow my instructions here: [How do I configure swappiness?](https://askubuntu.com/a/1445347/327339).**\r\n\r\nI mentioned and described how decreasing my system&#39;s swappiness from 60 to 0 really improved my performance and decreased periodic freezing in these two places here:\r\n1. https://github.com/ElectricRCAircraftGuy/bug_reports/issues/3#issuecomment-1347864603\r\n1. [Unix &amp; Linux: what is the different between settings swappiness to 0 to swapoff](https://unix.stackexchange.com/a/728278/114401)\r\n\r\nAs an alternative, if you have &gt;= 64 GB of RAM (since that&#39;s a large enough amount for me to reasonably consider doing this), you may consider _disabling all swap space entirely_, and just running on RAM. On my bigger machines with that much RAM, that&#39;s what I&#39;ve done.\r\n\r\n\r\n## References:\r\n\r\n1. My Google document: [Eclipse setup instructions on a new Linux (or other OS) computer](https://docs.google.com/document/d/1LbuxOsDHfpMksGdpX5X-7l7o_TIIVFPkH2eD23cXUmA/edit?usp=sharing)\r\n    1. [&quot;Troubleshooting&quot;](https://docs.google.com/document/d/1LbuxOsDHfpMksGdpX5X-7l7o_TIIVFPkH2eD23cXUmA/edit#heading=h.6kego5424sh1) section of that doc\r\n1. [My answer: java.lang.OutOfMemoryError when running bazel build](https://stackoverflow.com/a/60572662/4561887)\r\n1. [My answer: Ask Ubuntu: How do I increase the size of swapfile without removing it in the terminal?](https://askubuntu.com/a/1177620/327339)\r\n1. I cross-linked back to here from my short answer: [Eclipse uses 100 % CPU randomly](https://stackoverflow.com/a/74707645/4561887) and on Super User here: [High CPU usage and very slow performance with Eclipse](https://superuser.com/a/1756500/425838)\r\n1. [How to view memory usage in eclipse (beginner)](https://stackoverflow.com/a/31255323/4561887)\r\n    1. I also put this info. in my Google document linked-to above.\r\n1. https://wiki.eclipse.org/FAQ_How_do_I_increase_the_heap_size_available_to_Eclipse%3F\r\n1. My answer: [How do I configure swappiness?](https://askubuntu.com/a/1445347/327339)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dimKK.png\r\n  [2]: https://i.stack.imgur.com/vl6pm.png\r\n  [3]: https://i.stack.imgur.com/Zf4Bq.jpg\r\n\r\n","title":"High CPU usage in Eclipse when idle","body":"<h2>Problem: Eclipse and the Eclipse indexer take up all my resources / CPU%</h2>\n<p><em>Tested in Eclipse IDE for C/C++ Developers Version: 2022-09 (4.25.0) on Linux Ubuntu 18.04.</em></p>\n<h2>Quick summary</h2>\n<p>Solution: decrease the max number of threads Eclipse can use, down to 1/2 as many as your computer has. So, if your computer has 8 physical &quot;cores&quot; (actually: hyperthreads), then decrease the max number of threads that Eclipse can use to 4, or <strong>&lt;= half of your number of cores</strong> for your system, as follows:</p>\n<p>In <code>$HOME/eclipse/cpp-2022-09/eclipse/eclipse.ini</code> on Linux Ubuntu, or equivalent for your OS, make this change (reducing from 10 threads max, to 4, in my case):</p>\n<p>Change <em>from:</em></p>\n<pre class=\"lang-bash prettyprint-override\"><code>-Declipse.p2.max.threads=10\n</code></pre>\n<p><em>to:</em></p>\n<pre class=\"lang-bash prettyprint-override\"><code>-Declipse.p2.max.threads=4\n</code></pre>\n<p>Restart Eclipse.</p>\n<p>Now, Eclipse can only take up to 4 of my 8 hyperthreads, and my system runs much better!</p>\n<p>If on Linux, you should also reduce your &quot;swappiness&quot; setting to improve system performance. See below.</p>\n<h2>Details and additional improvements to make</h2>\n<p>I noticed a <strong>huge</strong> improvement in my ability to use my computer while Eclipse was indexing projects once I made this change. Eclipse used to make my computer almost totally unusable for hours or days at a time, before, as it indexes my <em>huge</em> repos--many GiB.</p>\n<p>You should also give Eclipse more RAM, if needed. In that same <code>eclipse.ini</code> file mentioned above, the <code>-Xms</code> setting sets the <em>starting RAM</em> given to Eclipse's Java runtime environment, and the <code>-Xmx</code> setting sets the <em>max RAM</em> given to it. For indexing large projects, ensure it has a large enough max RAM to successfully index the project. The defaults, if I remember correctly, are:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>-Xms256m\n-Xmx2048m\n</code></pre>\n<p>...which means: starting RAM given to the Eclipse Java runtime environment is 256 MiB, and max it is allowed to grow to if needed is 2048 MiB.</p>\n<p>I have 32 GiB of RAM and 64 GiB of swap space, and my indexer was stalling if I gave Eclipse &lt; 12 GiB of max RAM, so I set my settings as follows to start Eclipse with 1 GiB (1024 MiB) of RAM, and allow it up to 12 GiB (12288 MiB) of RAM:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>-Xms1024m\n-Xmx12288m\n</code></pre>\n<p>So, my total changes were <em>from:</em></p>\n<pre class=\"lang-bash prettyprint-override\"><code>-Declipse.p2.max.threads=10\n-Xms256m\n-Xmx2048m\n</code></pre>\n<p><em>...to:</em></p>\n<pre class=\"lang-bash prettyprint-override\"><code>-Declipse.p2.max.threads=4\n-Xms1024m\n-Xmx12288m\n</code></pre>\n<p>Here is my final <code>/home/gabriel/eclipse/cpp-2022-09/eclipse/eclipse.ini</code> file, with those changes in-place:</p>\n<pre><code>-startup\nplugins/org.eclipse.equinox.launcher_1.6.400.v20210924-0641.jar\n--launcher.library\n/home/gabriel/.p2/pool/plugins/org.eclipse.equinox.launcher.gtk.linux.x86_64_1.2.600.v20220720-1916\n-product\norg.eclipse.epp.package.cpp.product\n-showsplash\n/home/gabriel/.p2/pool/plugins/org.eclipse.epp.package.common_4.25.0.20220908-1200\n--launcher.defaultAction\nopenFile\n--launcher.appendVmargs\n-vm\n/home/gabriel/.p2/pool/plugins/org.eclipse.justj.openjdk.hotspot.jre.full.linux.x86_64_19.0.1.v20221102-1007/jre/bin\n-vmargs\n--add-opens=java.base/java.io=ALL-UNNAMED\n--add-opens=java.base/sun.nio.ch=ALL-UNNAMED\n--add-opens=java.base/java.net=ALL-UNNAMED\n--add-opens=java.base/sun.security.ssl=ALL-UNNAMED\n-Dosgi.requiredJavaVersion=17\n-Dosgi.instance.area.default=@user.home/eclipse-workspace\n-Dsun.java.command=Eclipse\n-XX:+UseG1GC\n-XX:+UseStringDeduplication\n--add-modules=ALL-SYSTEM\n-Dosgi.requiredJavaVersion=11\n-Dosgi.dataAreaRequiresExplicitInit=true\n-Dorg.eclipse.swt.graphics.Resource.reportNonDisposed=true\n-Xms1024m\n-Xmx12288m\n--add-modules=ALL-SYSTEM\n-Declipse.p2.max.threads=4\n-Doomph.update.url=https://download.eclipse.org/oomph/updates/milestone/latest\n-Doomph.redirection.index.redirection=index:/-&gt;http://git.eclipse.org/c/oomph/org.eclipse.oomph.git/plain/setups/\n--add-opens=java.base/java.lang=ALL-UNNAMED\n-Djava.security.manager=allow\n</code></pre>\n<h2>How to see how many &quot;cores&quot; (again, actually: hyperthreads) you have on your hardware</h2>\n<p>On Linux Ubuntu, simply open the &quot;System Monitor&quot; app. Count the cores. You can see here I have 8:</p>\n<p><a href=\"https://i.stack.imgur.com/dimKK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dimKK.png\" alt=\"enter image description here\" /></a></p>\n<h2>How many threads should I give Eclipse?</h2>\n<p>A good starting point is to give Eclipse <em>half</em> of your total cores, to keep it from bogging down your system all the time while indexing and refreshing large projects. So, I have 8 cores (hyperthreads), so I should give Eclipse 4 of them by setting <code>-Declipse.p2.max.threads=4</code> in the .ini file.</p>\n<p>This may sound counter-intuitive, but <strong>the larger your project and the weaker your computer, the <em>fewer</em> threads you should give Eclipse!</strong> This is because the larger your project and the weaker your computer, the more your computer will get bogged down using things like your Chrome web browser. So, <strong>to keep Eclipse from sucking up all your resources and freezing your computer, limit the number of threads it can have even more.</strong> If I find Eclipse to be bogging down my computer again, I'll reduce its threads to 2 or 3 max instead of 4. I previously gave it 7 of my 8 threads, and it was <em>horrible!</em> My computer ran <em>so stinking slow</em> and I could never use things like Chrome or Slack properly!</p>\n<h2>How much max RAM (<code>-Xmx</code>) should I give Eclipse?</h2>\n<ul>\n<li>The starting setting of <code>-Xmx2048m</code> (2048 MiB, or 2 GiB) is fine for most users. It handles most normal projects you'll encounter.</li>\n<li>Perhaps as few as <code>-Xmx512m</code> (512 MiB, or 0.5 GiB) or so can index the entire Arduino AVR (8-bit mcu) source code just fine</li>\n<li>I need at least <code>-Xmx12288m</code> (12288 MiB, or 12 GiB) for my large mono-repo.</li>\n<li>You might need a whopping 32 GiB ~ 64 giB (<code>-Xmx32768m</code> to <code>-Xmx65536m</code>) to index the entire C++ Boost library, which is totally nuts. So, in most cases, exclude the Boost library from your indexer. I mention that in my Google document linked-to below.</li>\n</ul>\n<p>The rule-of-thumb is to increase your <code>-Xmx</code> setting a bit whenever you see your indexer struggling or stalled, and Eclipse's usage of the available RAM is continually maxed-out. Here is a screenshot at the bottom of my Eclipse window showing that Eclipse is currently using <strong>8456 MiB</strong> of the available <strong>12288 MiB</strong> which it has currently allocated on the heap:</p>\n<p><a href=\"https://i.stack.imgur.com/vl6pm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vl6pm.png\" alt=\"enter image description here\" /></a></p>\n<p>Zoomed-in view: <a href=\"https://i.stack.imgur.com/Zf4Bq.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Zf4Bq.jpg\" alt=\"enter image description here\" /></a></p>\n<p>If it was rapidly increasing to the max often and staying there frequently, I'd need to increase my <code>-Xmx</code> setting further, to let Eclipse further grow the heap.</p>\n<p>To <strong>turn on showing the heap status at the bottom of the Eclipse window</strong> (if it isnt already on by default):\nWindow  Preferences  General  check the box for &quot;Show heap status&quot;  click &quot;Apply and Close&quot;.</p>\n<p>NB: When Eclipse first starts, the memory usage indicator will show the right-number in the above heap usage as being equal to your starting heap allocation, which is defined by the <code>-Xms</code> number. As Eclipse needs more memory, it will allocate more, growing that right number up to the <code>-Xmx</code> value you've defined. Again, if your indexer stalls or freezes because it's out of RAM, increase that <code>-Xmx</code> number to allow Eclipse's indexer to use more heap memory (RAM).</p>\n<h2>What other options can I pass to Eclipse's underlying Java virtual machine (JVM)?</h2>\n<p>Eclipse's article, <a href=\"https://wiki.eclipse.org/FAQ_How_do_I_increase_the_heap_size_available_to_Eclipse%3F\" rel=\"nofollow noreferrer\">FAQ How do I increase the heap size available to Eclipse?</a>, states (emphasis added):</p>\n<blockquote>\n<p>Some JVMs put restrictions on the total amount of memory available on the heap. If you are getting <code>OutOfMemoryError</code>s while running Eclipse, the VM can be told to let the heap grow to a larger amount by passing the <code>-vmargs</code> command to the Eclipse launcher. For example, the following command would run Eclipse with a heap size of 2048MB:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>eclipse [normal arguments] -vmargs -Xmx2048m [more VM args]\n</code></pre>\n<p>The arguments after <code>-vmargs</code> are directly passed to the VM. <strong>Run <code>java -X</code> for the list of options your VM accepts. Options starting with <code>-X</code> are implementation-specific and may not be applicable to all VMs.</strong></p>\n<p>You can also put the extra options in <code>eclipse.ini</code>.</p>\n</blockquote>\n<p>So, as it says, run this:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java -X\n</code></pre>\n<p>...for a list of all possible arguments you can pass to the underlying Java virtual machine (JVM). Here are the descriptions from that output for <code>-Xms</code> and <code>-Xmx</code>:</p>\n<blockquote>\n<pre><code>-Xms&lt;size&gt;        set initial Java heap size\n-Xmx&lt;size&gt;        set maximum Java heap size\n</code></pre>\n</blockquote>\n<h2>(For Linux users) reduce your system's &quot;swappiness&quot;</h2>\n<p>If on Linux, you should also reduce your &quot;swappiness&quot; setting from the default of 60 down to the range of 0 to 10 (I prefer 0) to increase your system's performance and reduce lagging and freezing when you get above about 75% RAM usage.</p>\n<p>&quot;Swappiness&quot; describes how likely your system is to move the contents of RAM to your &quot;swap space&quot;, or virtual memory, which is on your hard disk drive (HDD) or solid state drive (SSD). Swappiness setting values range from 0 to 200 (see <a href=\"https://askubuntu.com/a/1445347/327339\">my answer quoting the Linux kernel source code here</a>), where 0 means it will try not to use your swap space until it has to, and 200 means it will favor using your swap space earlier.</p>\n<p>The benefit of virtual memory, or swap space, is that it can expand your computer's &quot;RAM-like&quot; memory for free practically, allowing you to run a program or do a heavy task like compiling a large application. Such a heavy process might want 64 GiB of RAM even if you only have 8 GiB of RAM. Normally, your computer would crash and couldn't do it, but with swap space it <em>can</em>, as it treats your swap file or partition like extra RAM. That's pretty amazing. The downside of swap memory, however, is that it's much slower than RAM, even when it is running on a high-speed m.2 SSD.</p>\n<p>So, <strong>to limit swapping and improve performance, just reduce your swappiness to 0. Follow my instructions here: <a href=\"https://askubuntu.com/a/1445347/327339\">How do I configure swappiness?</a>.</strong></p>\n<p>I mentioned and described how decreasing my system's swappiness from 60 to 0 really improved my performance and decreased periodic freezing in these two places here:</p>\n<ol>\n<li><a href=\"https://github.com/ElectricRCAircraftGuy/bug_reports/issues/3#issuecomment-1347864603\" rel=\"nofollow noreferrer\">https://github.com/ElectricRCAircraftGuy/bug_reports/issues/3#issuecomment-1347864603</a></li>\n<li><a href=\"https://unix.stackexchange.com/a/728278/114401\">Unix &amp; Linux: what is the different between settings swappiness to 0 to swapoff</a></li>\n</ol>\n<p>As an alternative, if you have &gt;= 64 GB of RAM (since that's a large enough amount for me to reasonably consider doing this), you may consider <em>disabling all swap space entirely</em>, and just running on RAM. On my bigger machines with that much RAM, that's what I've done.</p>\n<h2>References:</h2>\n<ol>\n<li>My Google document: <a href=\"https://docs.google.com/document/d/1LbuxOsDHfpMksGdpX5X-7l7o_TIIVFPkH2eD23cXUmA/edit?usp=sharing\" rel=\"nofollow noreferrer\">Eclipse setup instructions on a new Linux (or other OS) computer</a>\n<ol>\n<li><a href=\"https://docs.google.com/document/d/1LbuxOsDHfpMksGdpX5X-7l7o_TIIVFPkH2eD23cXUmA/edit#heading=h.6kego5424sh1\" rel=\"nofollow noreferrer\">&quot;Troubleshooting&quot;</a> section of that doc</li>\n</ol>\n</li>\n<li><a href=\"https://stackoverflow.com/a/60572662/4561887\">My answer: java.lang.OutOfMemoryError when running bazel build</a></li>\n<li><a href=\"https://askubuntu.com/a/1177620/327339\">My answer: Ask Ubuntu: How do I increase the size of swapfile without removing it in the terminal?</a></li>\n<li>I cross-linked back to here from my short answer: <a href=\"https://stackoverflow.com/a/74707645/4561887\">Eclipse uses 100 % CPU randomly</a> and on Super User here: <a href=\"https://superuser.com/a/1756500/425838\">High CPU usage and very slow performance with Eclipse</a></li>\n<li><a href=\"https://stackoverflow.com/a/31255323/4561887\">How to view memory usage in eclipse (beginner)</a>\n<ol>\n<li>I also put this info. in my Google document linked-to above.</li>\n</ol>\n</li>\n<li><a href=\"https://wiki.eclipse.org/FAQ_How_do_I_increase_the_heap_size_available_to_Eclipse%3F\" rel=\"nofollow noreferrer\">https://wiki.eclipse.org/FAQ_How_do_I_increase_the_heap_size_available_to_Eclipse%3F</a></li>\n<li>My answer: <a href=\"https://askubuntu.com/a/1445347/327339\">How do I configure swappiness?</a></li>\n</ol>\n"}],"owner":{"account_id":1629408,"reputation":491,"user_id":1504271,"display_name":"user1504271"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66355,"favorite_count":0,"down_vote_count":0,"up_vote_count":49,"answer_count":7,"score":49,"last_activity_date":1673485845,"creation_date":1341498274,"question_id":11346357,"body_markdown":"On my multicore machine, Eclipse uses between 100 and 250 % CPU power, even when idling on a new plain install and an empty workspace. When actually doing things, it becomes slow and unresponsive.\r\n\r\nI have tried setting the memory settings as suggested here: https://stackoverflow.com/questions/2681989/eclipse-uses-100-cpu-randomly . That did not help. I also tried different Java versions, namely OpenJDK and Oracle Java 7, and Eclipse versions Juno and Indigo. I am on Ubuntu 12.04 LTS. \r\n\r\nAs another maybe unrelated issue when I close Eclipse the Java process still stays open with over 200% cpu usage and needs to be killed manually.","title":"High CPU usage in Eclipse when idle","body":"<p>On my multicore machine, Eclipse uses between 100 and 250 % CPU power, even when idling on a new plain install and an empty workspace. When actually doing things, it becomes slow and unresponsive.</p>\n\n<p>I have tried setting the memory settings as suggested here: <a href=\"https://stackoverflow.com/questions/2681989/eclipse-uses-100-cpu-randomly\">Eclipse uses 100 % CPU randomly</a> . That did not help. I also tried different Java versions, namely OpenJDK and Oracle Java 7, and Eclipse versions Juno and Indigo. I am on Ubuntu 12.04 LTS. </p>\n\n<p>As another maybe unrelated issue when I close Eclipse the Java process still stays open with over 200% cpu usage and needs to be killed manually.</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1673279506,"post_id":75059651,"comment_id":132457639,"body_markdown":"has `JavaAddressRecorder` a main method?","body":"has <code>JavaAddressRecorder</code> a main method?"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1673282281,"post_id":75059651,"comment_id":132458755,"body_markdown":"Can you please add the contents of META-INF/MANIFEST.MF from the JAR file to the question?","body":"Can you please add the contents of META-INF/MANIFEST.MF from the JAR file to the question?"},{"owner":{"account_id":4623673,"reputation":6002,"user_id":4161471,"display_name":"aSemy"},"score":0,"creation_date":1673288871,"post_id":75059651,"comment_id":132460954,"body_markdown":"You can use the [Application plugin](https://docs.gradle.org/7.6/userguide/application_plugin.html) to specify a main class.","body":"You can use the <a href=\"https://docs.gradle.org/7.6/userguide/application_plugin.html\" rel=\"nofollow noreferrer\">Application plugin</a> to specify a main class."},{"owner":{"account_id":16103136,"reputation":331,"user_id":11623289,"display_name":"Pierogi"},"score":0,"creation_date":1673310825,"post_id":75059651,"comment_id":132466044,"body_markdown":"The `JavaAddressRecorder` has a main method.\nI added the contents of META-INF/MANIFEST.MF from the JAR file to the question.","body":"The <code>JavaAddressRecorder</code> has a main method. I added the contents of META-INF/MANIFEST.MF from the JAR file to the question."}],"answers":[{"tags":[],"owner":{"account_id":16103136,"reputation":331,"user_id":11623289,"display_name":"Pierogi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673485618,"creation_date":1673485618,"answer_id":75090562,"question_id":75059651,"body_markdown":"I found a solution that uses the shadowJar.  \r\nThe `build.gradle` is here.  \r\n```groovy\r\nplugins {\r\n    id &#39;java&#39;\r\n    id (&quot;com.github.johnrengelman.shadow&quot;) version &quot;7.1.2&quot;\r\n}\r\n\r\ngroup &#39;org.example&#39;\r\nversion &#39;1.0-SNAPSHOT&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.9.0&#39;\r\n    testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.9.0&#39;\r\n    implementation &#39;org.web3j:core:5.0.0&#39;\r\n    implementation &#39;org.slf4j:slf4j-simple:2.0.5&#39;\r\n    runtimeOnly &#39;mysql:mysql-connector-java:8.0.30&#39;\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n\r\ntasks.jar {\r\n    manifest.attributes[&quot;Main-Class&quot;] = &quot;JavaAddressRecorder&quot;\r\n}\r\n```\r\nAnd run\r\n```sh\r\n./gradlew shadowJar\r\n```\r\n","title":"Java + Gradle : Could not find or load main class","body":"<p>I found a solution that uses the shadowJar.<br />\nThe <code>build.gradle</code> is here.</p>\n<pre><code>plugins {\n    id 'java'\n    id (&quot;com.github.johnrengelman.shadow&quot;) version &quot;7.1.2&quot;\n}\n\ngroup 'org.example'\nversion '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.9.0'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.9.0'\n    implementation 'org.web3j:core:5.0.0'\n    implementation 'org.slf4j:slf4j-simple:2.0.5'\n    runtimeOnly 'mysql:mysql-connector-java:8.0.30'\n}\n\ntest {\n    useJUnitPlatform()\n}\n\ntasks.jar {\n    manifest.attributes[&quot;Main-Class&quot;] = &quot;JavaAddressRecorder&quot;\n}\n</code></pre>\n<p>And run</p>\n<pre class=\"lang-bash prettyprint-override\"><code>./gradlew shadowJar\n</code></pre>\n"}],"owner":{"account_id":16103136,"reputation":331,"user_id":11623289,"display_name":"Pierogi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1290,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75090562,"answer_count":1,"score":-2,"last_activity_date":1673485618,"creation_date":1673278967,"question_id":75059651,"body_markdown":"I&#39;m trying to build and run a java project using Gradle.  \r\nThe project building succeeded. However, the error &quot;Could not find or load main class ~&quot; has occurred when running it.  \r\nI found and tried a solution like [this](https://stackoverflow.com/questions/24924932/gradle-could-not-find-or-load-main-class). But the solution didn&#39;t work.  \r\n\r\nMy project structure is here.\r\n```\r\njavaAddressRecorder\r\n build\r\n&#160;&#160;  classes\r\n&#160;&#160; &#160;&#160;  java\r\n&#160;&#160; &#160;&#160;      main\r\n&#160;&#160; &#160;&#160;          DbAddressRecorder.class\r\n&#160;&#160; &#160;&#160;          Geth.class\r\n&#160;&#160; &#160;&#160;          JavaAddressRecorder.class\r\n&#160;&#160;  generated\r\n&#160;&#160; &#160;&#160;  sources\r\n&#160;&#160; &#160;&#160;      annotationProcessor\r\n&#160;&#160; &#160;&#160;     &#160;&#160;  java\r\n&#160;&#160; &#160;&#160;     &#160;&#160;      main\r\n&#160;&#160; &#160;&#160;      headers\r\n&#160;&#160; &#160;&#160;          java\r\n&#160;&#160; &#160;&#160;              main\r\n&#160;&#160;  libs\r\n&#160;&#160; &#160;&#160;  JavaAddressRecorder-1.0-SNAPSHOT.jar\r\n&#160;&#160;  tmp\r\n&#160;&#160;      compileJava\r\n&#160;&#160;     &#160;&#160;  previous-compilation-data.bin\r\n&#160;&#160;      jar\r\n&#160;&#160;          MANIFEST.MF\r\n build.gradle\r\n gradle\r\n&#160;&#160;  wrapper\r\n&#160;&#160;      gradle-wrapper.jar\r\n&#160;&#160;      gradle-wrapper.properties\r\n gradlew\r\n gradlew.bat\r\n settings.gradle\r\n src\r\n     main\r\n    &#160;&#160;  java\r\n    &#160;&#160; &#160;&#160;  DbAddressRecorder.java\r\n    &#160;&#160; &#160;&#160;  Geth.java\r\n    &#160;&#160; &#160;&#160;  JavaAddressRecorder.java\r\n    &#160;&#160;  resources\r\n     test\r\n         java\r\n         resources\r\n\r\n```\r\n\r\nAnd my `build.gradle` file is here.\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n}\r\n\r\ngroup &#39;org.example&#39;\r\nversion &#39;1.0-SNAPSHOT&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.9.0&#39;\r\n    testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.9.0&#39;\r\n    implementation &#39;org.web3j:core:5.0.0&#39;\r\n    implementation &#39;org.slf4j:slf4j-simple:2.0.5&#39;\r\n    runtimeOnly &#39;mysql:mysql-connector-java:8.0.30&#39;\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n\r\njar {\r\n    manifest {\r\n        attributes(\r\n                &#39;Main-Class&#39;: &#39;JavaAddressRecorder&#39;\r\n        )\r\n    }\r\n    from {\r\n        configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\r\n    }\r\n    duplicatesStrategy = DuplicatesStrategy.INCLUDE\r\n}\r\n```\r\nThe `src/main/java/JavaAddressRecorder.java` has `main()` and doesn&#39;t have package name. The `src/main/java/DbAddressRecorder.java` and `src/main/java/Geth.java` are used from the `main()`.  \r\nSo the `./gradlew build` works without any errors, but `java -jar JavaAddressRecorder-1.0-SNAPSHOT.jar` doesn&#39;t work with the error below.  \r\n```\r\nError: Could not find or load main class JavaAddressRecorder\r\nCaused by: java.lang.ClassNotFoundException: JavaAddressRecorder\r\n```\r\nI confirmed the `JavaAddressRecorder` is included the jar file like below.  \r\n```sh\r\n******@****** libs % jar tf javaAddressRecorder-1.0-SNAPSHOT.jar | grep JavaAddressRecorder.class\r\nJavaAddressRecorder.class\r\n```\r\nI&#39;m a newbie to the Java language.  \r\nAnyone who knows how to solve this problem, please let me know.  \r\n\r\nIDE: IntelliJ IDEA  \r\nOS: MacOS 11.6.8  \r\nJava: Java(TM) SE Runtime Environment (build 17.0.5+9-LTS-191)  \r\nGradle: 7.5.1  \r\n\r\n*Add META-INF/MANIFEST.MF from the .jar file*  \r\n```\r\n******** META-INF % cat MANIFEST.MF \r\nManifest-Version: 1.0\r\nMain-Class: JavaAddressRecorder\r\n\r\n```\r\n","title":"Java + Gradle : Could not find or load main class","body":"<p>I'm trying to build and run a java project using Gradle.<br />\nThe project building succeeded. However, the error &quot;Could not find or load main class ~&quot; has occurred when running it.<br />\nI found and tried a solution like <a href=\"https://stackoverflow.com/questions/24924932/gradle-could-not-find-or-load-main-class\">this</a>. But the solution didn't work.</p>\n<p>My project structure is here.</p>\n<pre><code>javaAddressRecorder\n build\n  classes\n   java\n       main\n           DbAddressRecorder.class\n           Geth.class\n           JavaAddressRecorder.class\n  generated\n   sources\n       annotationProcessor\n        java\n            main\n       headers\n           java\n               main\n  libs\n   JavaAddressRecorder-1.0-SNAPSHOT.jar\n  tmp\n      compileJava\n       previous-compilation-data.bin\n      jar\n          MANIFEST.MF\n build.gradle\n gradle\n  wrapper\n      gradle-wrapper.jar\n      gradle-wrapper.properties\n gradlew\n gradlew.bat\n settings.gradle\n src\n     main\n      java\n       DbAddressRecorder.java\n       Geth.java\n       JavaAddressRecorder.java\n      resources\n     test\n         java\n         resources\n\n</code></pre>\n<p>And my <code>build.gradle</code> file is here.</p>\n<pre><code>plugins {\n    id 'java'\n}\n\ngroup 'org.example'\nversion '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.9.0'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.9.0'\n    implementation 'org.web3j:core:5.0.0'\n    implementation 'org.slf4j:slf4j-simple:2.0.5'\n    runtimeOnly 'mysql:mysql-connector-java:8.0.30'\n}\n\ntest {\n    useJUnitPlatform()\n}\n\njar {\n    manifest {\n        attributes(\n                'Main-Class': 'JavaAddressRecorder'\n        )\n    }\n    from {\n        configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\n    }\n    duplicatesStrategy = DuplicatesStrategy.INCLUDE\n}\n</code></pre>\n<p>The <code>src/main/java/JavaAddressRecorder.java</code> has <code>main()</code> and doesn't have package name. The <code>src/main/java/DbAddressRecorder.java</code> and <code>src/main/java/Geth.java</code> are used from the <code>main()</code>.<br />\nSo the <code>./gradlew build</code> works without any errors, but <code>java -jar JavaAddressRecorder-1.0-SNAPSHOT.jar</code> doesn't work with the error below.</p>\n<pre><code>Error: Could not find or load main class JavaAddressRecorder\nCaused by: java.lang.ClassNotFoundException: JavaAddressRecorder\n</code></pre>\n<p>I confirmed the <code>JavaAddressRecorder</code> is included the jar file like below.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>******@****** libs % jar tf javaAddressRecorder-1.0-SNAPSHOT.jar | grep JavaAddressRecorder.class\nJavaAddressRecorder.class\n</code></pre>\n<p>I'm a newbie to the Java language.<br />\nAnyone who knows how to solve this problem, please let me know.</p>\n<p>IDE: IntelliJ IDEA<br />\nOS: MacOS 11.6.8<br />\nJava: Java(TM) SE Runtime Environment (build 17.0.5+9-LTS-191)<br />\nGradle: 7.5.1</p>\n<p><em>Add META-INF/MANIFEST.MF from the .jar file</em></p>\n<pre><code>******** META-INF % cat MANIFEST.MF \nManifest-Version: 1.0\nMain-Class: JavaAddressRecorder\n\n</code></pre>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":15276902,"reputation":455,"user_id":11023013,"display_name":"Itzhak Eretz Kdosha"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1673484065,"creation_date":1639474807,"answer_id":70346711,"question_id":70267203,"body_markdown":"The issue was that my `@PropertySource` annotations were directly on my app&#39;s main configuring class but on a different configuration.\r\nThis means that they were processed only after the beans were registered.\r\n\r\nSo if you initiate your context like so:\r\n\r\n```\r\nvar context = new AnnotationConfigApplicationContext(SpringConfig.class);\r\n```\r\nmake sure you have your `@PropertySource` annotated on `SpringConfig.java` directly","title":"How to create custom condition similar to &quot;@ConditionalOnProperty&quot; without using spring-boot?","body":"<p>The issue was that my <code>@PropertySource</code> annotations were directly on my app's main configuring class but on a different configuration.\nThis means that they were processed only after the beans were registered.</p>\n<p>So if you initiate your context like so:</p>\n<pre><code>var context = new AnnotationConfigApplicationContext(SpringConfig.class);\n</code></pre>\n<p>make sure you have your <code>@PropertySource</code> annotated on <code>SpringConfig.java</code> directly</p>\n"}],"owner":{"account_id":15276902,"reputation":455,"user_id":11023013,"display_name":"Itzhak Eretz Kdosha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1488,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":70346711,"answer_count":1,"score":6,"last_activity_date":1673484065,"creation_date":1638912751,"question_id":70267203,"body_markdown":"I am trying to create a custom condition using spring context.\r\n\r\n- I am using `spring-context 5.3.13` (no spring-boot)\r\n- I have a file named `config.yaml` under `src/main/resources`\r\n- I have this `@PropertySource` custom configured: `@PropertySource(value = &quot;classpath:config.yaml&quot;, factory = TypesafeAdapterPropertySourceFactory.class)`\r\n- I am trying to get a property from inside a custom spring Condition:\r\n```\r\npublic class MyConditionalOnProperty implements ConfigurationCondition {\r\n    @Override\r\n    public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) {\r\n        // just to test what property sources are present\r\n        for(Iterator it = ((AbstractEnvironment) context.getEnvironment()).getPropertySources().iterator(); it.hasNext(); ) {\r\n            PropertySource propertySource = (PropertySource) it.next();\r\n            System.out.println(propertySource.getName());\r\n\t\t\t//prints only &quot;systemProperties&quot; and &quot;systemEnvironment&quot;\r\n        }\r\n\t\t\r\n\t\treturn context.getEnvironment().containsProperty(&quot;my.prop&quot;);\r\n    }\r\n\r\n    @Override\r\n    public ConfigurationPhase getConfigurationPhase() {\r\n        return ConfigurationPhase.REGISTER_BEAN;\r\n    }\r\n}\r\n```\r\n- `my.prop` is present after the application context was loaded\r\n- I have a bean annotated with the condition:\r\n```\r\n@Named\r\n@Singleton\r\n@Conditional(PropertyEnabledCondition.class)\r\npublic class MyTestBean {\r\n\r\n}\r\n```\r\nI have also debugged and found that my custom property source are loaded only after this stage.\r\n\r\nIs there a way to retrieve application properties in condition or recreate `@ConditionalOnProperty` without using `spring-boot` some other way?","title":"How to create custom condition similar to &quot;@ConditionalOnProperty&quot; without using spring-boot?","body":"<p>I am trying to create a custom condition using spring context.</p>\n<ul>\n<li>I am using <code>spring-context 5.3.13</code> (no spring-boot)</li>\n<li>I have a file named <code>config.yaml</code> under <code>src/main/resources</code></li>\n<li>I have this <code>@PropertySource</code> custom configured: <code>@PropertySource(value = &quot;classpath:config.yaml&quot;, factory = TypesafeAdapterPropertySourceFactory.class)</code></li>\n<li>I am trying to get a property from inside a custom spring Condition:</li>\n</ul>\n<pre><code>public class MyConditionalOnProperty implements ConfigurationCondition {\n    @Override\n    public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) {\n        // just to test what property sources are present\n        for(Iterator it = ((AbstractEnvironment) context.getEnvironment()).getPropertySources().iterator(); it.hasNext(); ) {\n            PropertySource propertySource = (PropertySource) it.next();\n            System.out.println(propertySource.getName());\n            //prints only &quot;systemProperties&quot; and &quot;systemEnvironment&quot;\n        }\n        \n        return context.getEnvironment().containsProperty(&quot;my.prop&quot;);\n    }\n\n    @Override\n    public ConfigurationPhase getConfigurationPhase() {\n        return ConfigurationPhase.REGISTER_BEAN;\n    }\n}\n</code></pre>\n<ul>\n<li><code>my.prop</code> is present after the application context was loaded</li>\n<li>I have a bean annotated with the condition:</li>\n</ul>\n<pre><code>@Named\n@Singleton\n@Conditional(PropertyEnabledCondition.class)\npublic class MyTestBean {\n\n}\n</code></pre>\n<p>I have also debugged and found that my custom property source are loaded only after this stage.</p>\n<p>Is there a way to retrieve application properties in condition or recreate <code>@ConditionalOnProperty</code> without using <code>spring-boot</code> some other way?</p>\n"},{"tags":["java","spring","spring-boot","datasource","quartz-scheduler"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1673461037,"post_id":75087358,"comment_id":132506504,"body_markdown":"database will be configured with `spring.datasource` as prefix for the configuration parameter, not `databasex.datasource`","body":"database will be configured with <code>spring.datasource</code> as prefix for the configuration parameter, not <code>databasex.datasource</code>"},{"owner":{"account_id":23318103,"reputation":11,"user_id":17396450,"display_name":"kitorek"},"score":0,"creation_date":1673466423,"post_id":75087358,"comment_id":132508037,"body_markdown":"Could you be more precise @Jens on how to distinguish typing of  two data sources in application.properties? When deleting Bean related to creating Quartz DataSource, Application runs fine and connects with my primary database.","body":"Could you be more precise @Jens on how to distinguish typing of  two data sources in application.properties? When deleting Bean related to creating Quartz DataSource, Application runs fine and connects with my primary database."}],"answers":[{"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1673503784,"post_id":75090314,"comment_id":132514960,"body_markdown":"You solved your problem by replacing a property which is not in your configuration?","body":"You solved your problem by replacing a property which is not in your configuration?"},{"owner":{"account_id":23318103,"reputation":11,"user_id":17396450,"display_name":"kitorek"},"score":0,"creation_date":1673517619,"post_id":75090314,"comment_id":132518843,"body_markdown":"It clearly was in my configuration, but with prefix `database2.datasource.url=`. So according to my past configuration the resolved issue would look like this `database2.datasource.jdbcUrl=`. However I decided to write down my previous answer with the most neutral way, that most people will recognize right away. According to Spring documentation you are permitted to use custom datasource name properties [spring docs](https://docs.spring.io/spring-boot/docs/2.1.x/reference/html/howto-data-access.html).","body":"It clearly was in my configuration, but with prefix <code>database2.datasource.url=</code>. So according to my past configuration the resolved issue would look like this <code>database2.datasource.jdbcUrl=</code>. However I decided to write down my previous answer with the most neutral way, that most people will recognize right away. According to Spring documentation you are permitted to use custom datasource name properties <a href=\"https://docs.spring.io/spring-boot/docs/2.1.x/reference/html/howto-data-access.html\" rel=\"nofollow noreferrer\">spring docs</a>."}],"tags":[],"owner":{"account_id":23318103,"reputation":11,"user_id":17396450,"display_name":"kitorek"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673484057,"creation_date":1673482572,"answer_id":75090314,"question_id":75087358,"body_markdown":"Found the solution. Replaced `spring.datasource.url=` with `spring.datasource.jdbcUrl=` and everything works fine.","title":"UnsatisfiedDependencyException when trying to connect with Quartz DataSource","body":"<p>Found the solution. Replaced <code>spring.datasource.url=</code> with <code>spring.datasource.jdbcUrl=</code> and everything works fine.</p>\n"}],"owner":{"account_id":23318103,"reputation":11,"user_id":17396450,"display_name":"kitorek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":208,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1673484057,"creation_date":1673460593,"question_id":75087358,"body_markdown":"I am currently using Quartz to store scheduled jobs. While trying to use jobstore of type jdbc to persist scheduled jobs in secondary quartz database I am getting bunch of errors regarding injections, beans.\r\n\r\n&gt; Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\r\n\r\n&gt; Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;jwtFilter&#39;: Unsatisfied dependency expressed through field &#39;userRepo&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;userRepo&#39; defined in pl.certificatemanager.CertificateManagerApp.repository.UserRepo defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot create inner bean &#39;(inner bean)#29fa6b65&#39; of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property &#39;entityManager&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#29fa6b65&#39;: Cannot resolve reference to bean &#39;entityManagerFactory&#39; while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;quartzDataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/quartz/QuartzAutoConfiguration$JdbcStoreTypeConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.autoconfigure.quartz.QuartzDataSourceScriptDatabaseInitializer]: Factory method &#39;quartzDataSourceScriptDatabaseInitializer&#39; threw exception; nested exception is java.lang.IllegalStateException: Unable to detect database type\r\n\r\n\r\n**Error regarding my repository and @EnableJpaRepositories**\r\n&gt; Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;userRepo&#39; defined in pl.certificatemanager.CertificateManagerApp.repository.UserRepo defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot create inner bean &#39;(inner bean)#29fa6b65&#39; of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property &#39;entityManager&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#29fa6b65&#39;: Cannot resolve reference to bean &#39;entityManagerFactory&#39; while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;quartzDataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/quartz/QuartzAutoConfiguration$JdbcStoreTypeConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.autoconfigure.quartz.QuartzDataSourceScriptDatabaseInitializer]: Factory method &#39;quartzDataSourceScriptDatabaseInitializer&#39; threw exception; nested exception is java.lang.IllegalStateException: Unable to detect database type\r\n\r\n\r\n**Cannot resolve reference to bean &#39;entityManagerFactory&#39; while setting constructor argument**\r\n&gt; Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#29fa6b65&#39;: Cannot resolve reference to bean &#39;entityManagerFactory&#39; while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;quartzDataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/quartz/QuartzAutoConfiguration$JdbcStoreTypeConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.autoconfigure.quartz.QuartzDataSourceScriptDatabaseInitializer]: Factory method &#39;quartzDataSourceScriptDatabaseInitializer&#39; threw exception; nested exception is java.lang.IllegalStateException: Unable to detect database type\r\n\r\n**And last one concerning Quartz DataSource directly. However I think resolving problems with primary DataSource first is priority for now.**\r\n&gt; Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;quartzDataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/quartz/QuartzAutoConfiguration$JdbcStoreTypeConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.autoconfigure.quartz.QuartzDataSourceScriptDatabaseInitializer]: Factory method &#39;quartzDataSourceScriptDatabaseInitializer&#39; threw exception; nested exception is java.lang.IllegalStateException: Unable to detect database type\r\n\r\n\r\n**application.properties**\r\n\r\n```\r\n## Primary DataSource properties\r\ndatabase1.datasource.url=jdbc:mysql://localhost:3306/certificatemanagerdb\r\ndatabase1.datasource.username=root\r\ndatabase1.datasource.password=root\r\ndatabase1.datasource.configuration.maximum-pool-size=30\r\ndatabase1.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n\r\n## Quartz properties\r\nspring.quartz.job-store-type=jdbc\r\nspring.quartz.properties.org.quartz.threadPool.threadCount=5\r\nspring.quartz.jdbc.initialize-schema=always\r\ndatabase2.datasource.url=jdbc:mysql://localhost:3306/quartz_schema\r\ndatabase2.datasource.username=root\r\ndatabase2.datasource.password=root\r\ndatabase2.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n```\r\n\r\n**DataSourcesConfiguration**\r\n\r\n```\r\n@Configuration\r\n@EnableAutoConfiguration\r\npublic class DataSourcesConfiguration {\r\n    @Bean\r\n    @Primary\r\n    @ConfigurationProperties(&quot;database1.datasource&quot;)\r\n    public DataSourceProperties firstDataSourceProperties() {\r\n        return new DataSourceProperties();\r\n    }\r\n\r\n    @Bean\r\n    @Primary\r\n    @ConfigurationProperties(&quot;database1.datasource.first.configuration&quot;)\r\n    public HikariDataSource firstDataSource(DataSourceProperties firstDataSourceProperties) {\r\n        return firstDataSourceProperties.initializeDataSourceBuilder().type(HikariDataSource.class).build();\r\n    }\r\n\r\n    @Bean\r\n    @QuartzDataSource\r\n    @ConfigurationProperties(prefix = &quot;database2.datasource&quot;)\r\n    public DataSource quartzDataSource() {\r\n        return DataSourceBuilder.create().build();\r\n    }\r\n}\r\n```\r\n\r\n**SecurityConfig it injects jwtFilter mentioned in error**\r\n\r\n```\r\n@EnableWebSecurity\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n    @Autowired\r\n    private UserDetailsService userDetailsService;\r\n\r\n    @Autowired\r\n    private CustomPasswordEncoder customPasswordEncoder;\r\n\r\n    @Autowired\r\n    private JwtFilter jwtFilter;\r\n\r\n    @Override\r\n    @Bean\r\n    public AuthenticationManager authenticationManagerBean() throws Exception {\r\n        return super.authenticationManagerBean();\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.userDetailsService(userDetailsService).passwordEncoder(customPasswordEncoder.getPasswordEncoder());\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http = http.csrf().disable().cors().disable();\r\n\r\n        http = http.sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and();\r\n\r\n        http = http.exceptionHandling()\r\n                .authenticationEntryPoint((request, response, exception) -&gt; {\r\n                    response.sendError(HttpServletResponse.SC_UNAUTHORIZED, exception.getMessage());\r\n                }).and();\r\n\r\n        http.authorizeRequests()\r\n                .antMatchers(&quot;/api/auth/**&quot;).permitAll()\r\n                .anyRequest().authenticated();\r\n\r\n        http.addFilterBefore(jwtFilter, UsernamePasswordAuthenticationFilter.class);\r\n    }\r\n}\r\n```\r\n\r\n**userRepo**\r\n\r\n```\r\n@Repository\r\npublic interface UserRepo extends JpaRepository&lt;User, Long&gt; {\r\n    User findUserById(Long id);\r\n    User findByUsername(String username);\r\n    Boolean existsByUsername(String username);\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nWhen commenting out method **quartzDataSource()** in **DataSourcesConfiguration** everything works fine (ignoring persisting data of Quartz Scheduler), so I suspect something with configuring Quartz DataSource intervene with my whole app.\r\n\r\nInjected class **JwtUtil** in **SecurityConfig** is annotated with @Component.","title":"UnsatisfiedDependencyException when trying to connect with Quartz DataSource","body":"<p>I am currently using Quartz to store scheduled jobs. While trying to use jobstore of type jdbc to persist scheduled jobs in secondary quartz database I am getting bunch of errors regarding injections, beans.</p>\n<blockquote>\n<p>Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat</p>\n</blockquote>\n<blockquote>\n<p>Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtFilter': Unsatisfied dependency expressed through field 'userRepo'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepo' defined in pl.certificatemanager.CertificateManagerApp.repository.UserRepo defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot create inner bean '(inner bean)#29fa6b65' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#29fa6b65': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'quartzDataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/quartz/QuartzAutoConfiguration$JdbcStoreTypeConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.autoconfigure.quartz.QuartzDataSourceScriptDatabaseInitializer]: Factory method 'quartzDataSourceScriptDatabaseInitializer' threw exception; nested exception is java.lang.IllegalStateException: Unable to detect database type</p>\n</blockquote>\n<p><strong>Error regarding my repository and @EnableJpaRepositories</strong></p>\n<blockquote>\n<p>Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepo' defined in pl.certificatemanager.CertificateManagerApp.repository.UserRepo defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot create inner bean '(inner bean)#29fa6b65' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#29fa6b65': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'quartzDataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/quartz/QuartzAutoConfiguration$JdbcStoreTypeConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.autoconfigure.quartz.QuartzDataSourceScriptDatabaseInitializer]: Factory method 'quartzDataSourceScriptDatabaseInitializer' threw exception; nested exception is java.lang.IllegalStateException: Unable to detect database type</p>\n</blockquote>\n<p><strong>Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument</strong></p>\n<blockquote>\n<p>Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#29fa6b65': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'quartzDataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/quartz/QuartzAutoConfiguration$JdbcStoreTypeConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.autoconfigure.quartz.QuartzDataSourceScriptDatabaseInitializer]: Factory method 'quartzDataSourceScriptDatabaseInitializer' threw exception; nested exception is java.lang.IllegalStateException: Unable to detect database type</p>\n</blockquote>\n<p><strong>And last one concerning Quartz DataSource directly. However I think resolving problems with primary DataSource first is priority for now.</strong></p>\n<blockquote>\n<p>Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'quartzDataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/quartz/QuartzAutoConfiguration$JdbcStoreTypeConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.autoconfigure.quartz.QuartzDataSourceScriptDatabaseInitializer]: Factory method 'quartzDataSourceScriptDatabaseInitializer' threw exception; nested exception is java.lang.IllegalStateException: Unable to detect database type</p>\n</blockquote>\n<p><strong>application.properties</strong></p>\n<pre><code>## Primary DataSource properties\ndatabase1.datasource.url=jdbc:mysql://localhost:3306/certificatemanagerdb\ndatabase1.datasource.username=root\ndatabase1.datasource.password=root\ndatabase1.datasource.configuration.maximum-pool-size=30\ndatabase1.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n\n## Quartz properties\nspring.quartz.job-store-type=jdbc\nspring.quartz.properties.org.quartz.threadPool.threadCount=5\nspring.quartz.jdbc.initialize-schema=always\ndatabase2.datasource.url=jdbc:mysql://localhost:3306/quartz_schema\ndatabase2.datasource.username=root\ndatabase2.datasource.password=root\ndatabase2.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n</code></pre>\n<p><strong>DataSourcesConfiguration</strong></p>\n<pre><code>@Configuration\n@EnableAutoConfiguration\npublic class DataSourcesConfiguration {\n    @Bean\n    @Primary\n    @ConfigurationProperties(&quot;database1.datasource&quot;)\n    public DataSourceProperties firstDataSourceProperties() {\n        return new DataSourceProperties();\n    }\n\n    @Bean\n    @Primary\n    @ConfigurationProperties(&quot;database1.datasource.first.configuration&quot;)\n    public HikariDataSource firstDataSource(DataSourceProperties firstDataSourceProperties) {\n        return firstDataSourceProperties.initializeDataSourceBuilder().type(HikariDataSource.class).build();\n    }\n\n    @Bean\n    @QuartzDataSource\n    @ConfigurationProperties(prefix = &quot;database2.datasource&quot;)\n    public DataSource quartzDataSource() {\n        return DataSourceBuilder.create().build();\n    }\n}\n</code></pre>\n<p><strong>SecurityConfig it injects jwtFilter mentioned in error</strong></p>\n<pre><code>@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n    @Autowired\n    private UserDetailsService userDetailsService;\n\n    @Autowired\n    private CustomPasswordEncoder customPasswordEncoder;\n\n    @Autowired\n    private JwtFilter jwtFilter;\n\n    @Override\n    @Bean\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(userDetailsService).passwordEncoder(customPasswordEncoder.getPasswordEncoder());\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http = http.csrf().disable().cors().disable();\n\n        http = http.sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and();\n\n        http = http.exceptionHandling()\n                .authenticationEntryPoint((request, response, exception) -&gt; {\n                    response.sendError(HttpServletResponse.SC_UNAUTHORIZED, exception.getMessage());\n                }).and();\n\n        http.authorizeRequests()\n                .antMatchers(&quot;/api/auth/**&quot;).permitAll()\n                .anyRequest().authenticated();\n\n        http.addFilterBefore(jwtFilter, UsernamePasswordAuthenticationFilter.class);\n    }\n}\n</code></pre>\n<p><strong>userRepo</strong></p>\n<pre><code>@Repository\npublic interface UserRepo extends JpaRepository&lt;User, Long&gt; {\n    User findUserById(Long id);\n    User findByUsername(String username);\n    Boolean existsByUsername(String username);\n}\n</code></pre>\n<p>When commenting out method <strong>quartzDataSource()</strong> in <strong>DataSourcesConfiguration</strong> everything works fine (ignoring persisting data of Quartz Scheduler), so I suspect something with configuring Quartz DataSource intervene with my whole app.</p>\n<p>Injected class <strong>JwtUtil</strong> in <strong>SecurityConfig</strong> is annotated with @Component.</p>\n"},{"tags":["java","exception","error-handling","discord","discord-jda"],"answers":[{"comments":[{"owner":{"account_id":3896812,"reputation":591,"user_id":3225638,"display_name":"Lorenzo"},"score":0,"creation_date":1679220653,"post_id":75090318,"comment_id":133679195,"body_markdown":"Using `RestAction::complete` is frowned upon usually since using `queue` with a success `Consumer` is the better approach to do the exact same thing. Also you can delay message using the `RestAction` IIRC instead of manually sleeping with `Thread::sleep`","body":"Using <code>RestAction::complete</code> is frowned upon usually since using <code>queue</code> with a success <code>Consumer</code> is the better approach to do the exact same thing. Also you can delay message using the <code>RestAction</code> IIRC instead of manually sleeping with <code>Thread::sleep</code>"}],"tags":[],"owner":{"account_id":27501081,"reputation":11,"user_id":20984780,"display_name":"Slavko"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1673482643,"creation_date":1673482643,"answer_id":75090318,"question_id":75086910,"body_markdown":"Sitting back and relaxing your brain sometimes really is the best solution!\r\n\r\nPutting the thread to sleep after queuing made sure that the message is online and ready for retrieval when executing the editMessage method\r\n\r\n    if(messageId == null){\r\n       event.getGuild().getTextChannelById(channelId).sendMessage(&quot;A&quot;).queue();\r\n       sleep(3000);\r\n       this.messageId = event.getGuild().getTextChannelById(channelId).getLatestMessageId();\r\n    }else{\r\n       event.getGuild().getTextChannelById(channelId).editMessageById(messageId,&quot;B&quot;).queue();\r\n    }\r\n\r\nafter reviewing the documentation again, if found that the complete() method would be even better suited for a use case like this.\r\n\r\n    if(messageId == null){\r\n       event.getGuild().getTextChannelById(channelId).sendMessage(&quot;A&quot;).complete();\r\n       this.messageId = event.getGuild().getTextChannelById(channelId).getLatestMessageId();\r\n    }else{\r\n       event.getGuild().getTextChannelById(channelId).editMessageById(messageId,&quot;B&quot;).queue();\r\n    }\r\n\r\nyeeaahh not that big of a problem if you clear your head and stop forgetting java basics, happy coding :D \r\n\r\n","title":"JDA Discord Bot - [ErrorResponseException] 10008: Unknown Message","body":"<p>Sitting back and relaxing your brain sometimes really is the best solution!</p>\n<p>Putting the thread to sleep after queuing made sure that the message is online and ready for retrieval when executing the editMessage method</p>\n<pre><code>if(messageId == null){\n   event.getGuild().getTextChannelById(channelId).sendMessage(&quot;A&quot;).queue();\n   sleep(3000);\n   this.messageId = event.getGuild().getTextChannelById(channelId).getLatestMessageId();\n}else{\n   event.getGuild().getTextChannelById(channelId).editMessageById(messageId,&quot;B&quot;).queue();\n}\n</code></pre>\n<p>after reviewing the documentation again, if found that the complete() method would be even better suited for a use case like this.</p>\n<pre><code>if(messageId == null){\n   event.getGuild().getTextChannelById(channelId).sendMessage(&quot;A&quot;).complete();\n   this.messageId = event.getGuild().getTextChannelById(channelId).getLatestMessageId();\n}else{\n   event.getGuild().getTextChannelById(channelId).editMessageById(messageId,&quot;B&quot;).queue();\n}\n</code></pre>\n<p>yeeaahh not that big of a problem if you clear your head and stop forgetting java basics, happy coding :D</p>\n"}],"owner":{"account_id":27501081,"reputation":11,"user_id":20984780,"display_name":"Slavko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75090318,"answer_count":1,"score":0,"last_activity_date":1673482643,"creation_date":1673458226,"question_id":75086910,"body_markdown":"despite being new to JDA I havent had any big problems till now, maybe I am just missing something crucial. To quickly explain what following code SHOULD do: \r\n\r\nWhenever the bot gets started, the onGuildReady event creates an Object containing a loop which sends a single message to a specified channel and after 1 minute edits said message.\r\n\r\n```\r\n    @Override\r\n    public void onGuildReady(GuildReadyEvent event) {\r\n        System.out.println(&quot;ON GUILD READY:  &quot; + event.getGuild());\r\n        new AutoController(event, channelid);\r\n\r\n    }\r\n```\r\n\r\nNow with my understanding, the guildReady event should enable me to send messages to specified channels in every guild my bot is connected to AND edit them or do stuff with them. \r\n\r\n```\r\n\r\nString messageId = null;\r\nString channelId;\r\n\r\npublic AutoController(GuildReadyEvent event, String channelId){\r\n        this.event = event;\r\n        start();\r\n    }\r\n\r\n\r\n\r\n@Override\r\n   public void run(){\r\n\r\n     try {\r\n        while (true) {\r\n          sleep((long) timer);\r\n            if(messageId == null){\r\n              event.getGuild().getTextChannelById(channelId).sendMessage(&quot;A&quot;).queue();\r\n              this.messageId = event.getGuild().getTextChannelById(channelId).getLatestMessageId();\r\n            }else{\r\n              event.getGuild().getTextChannelById(channelId).editMessageById(messageId,&quot;B&quot;).queue();\r\n            }\r\n         }\r\n      } catch (InterruptedException e) {\r\n            throw new RuntimeException(e);\r\n      }\r\n\r\n  }\r\n```\r\n\r\nSending a message whenever the bot goes online works, but as soon as it gets in the 2nd loop where the edit should happen, it throws me an ErrorResponseException saying the message is unkknown.\r\n\r\n`[ForkJoinPool.commonPool-worker-1] ERROR RestAction - RestAction queue returned failure: [ErrorResponseException] 10008: Unknown Message\r\nnet.dv8tion.jda.api.exceptions.ContextException\r\n\tat net.dv8tion.jda.api.exceptions.ContextException.here(ContextException.java:54)\r\n\tat net.dv8tion.jda.api.requests.Request.&lt;init&gt;(Request.java:73)\r\n\tat net.dv8tion.jda.internal.requests.RestActionImpl.queue(RestActionImpl.java:200)\r\n\tat net.dv8tion.jda.api.requests.RestAction.queue(RestAction.java:572)\r\n\tat net.dv8tion.jda.api.requests.RestAction.queue(RestAction.java:538)\r\n\tat org.gsbunker.controller.AutoController.run(AutoController.java:45)\r\n`\r\n\r\n\r\n\r\nI really dont understand why the message is unknown, ive already checked that the messageid and channelid are not null when passed - still getting the same error. the code is slightly simplified for understanding purposes, if questions occur feel free to ask. pleeeeeeeaase help me and my brain &lt;3","title":"JDA Discord Bot - [ErrorResponseException] 10008: Unknown Message","body":"<p>despite being new to JDA I havent had any big problems till now, maybe I am just missing something crucial. To quickly explain what following code SHOULD do:</p>\n<p>Whenever the bot gets started, the onGuildReady event creates an Object containing a loop which sends a single message to a specified channel and after 1 minute edits said message.</p>\n<pre><code>    @Override\n    public void onGuildReady(GuildReadyEvent event) {\n        System.out.println(&quot;ON GUILD READY:  &quot; + event.getGuild());\n        new AutoController(event, channelid);\n\n    }\n</code></pre>\n<p>Now with my understanding, the guildReady event should enable me to send messages to specified channels in every guild my bot is connected to AND edit them or do stuff with them.</p>\n<pre><code>\nString messageId = null;\nString channelId;\n\npublic AutoController(GuildReadyEvent event, String channelId){\n        this.event = event;\n        start();\n    }\n\n\n\n@Override\n   public void run(){\n\n     try {\n        while (true) {\n          sleep((long) timer);\n            if(messageId == null){\n              event.getGuild().getTextChannelById(channelId).sendMessage(&quot;A&quot;).queue();\n              this.messageId = event.getGuild().getTextChannelById(channelId).getLatestMessageId();\n            }else{\n              event.getGuild().getTextChannelById(channelId).editMessageById(messageId,&quot;B&quot;).queue();\n            }\n         }\n      } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n      }\n\n  }\n</code></pre>\n<p>Sending a message whenever the bot goes online works, but as soon as it gets in the 2nd loop where the edit should happen, it throws me an ErrorResponseException saying the message is unkknown.</p>\n<p><code>[ForkJoinPool.commonPool-worker-1] ERROR RestAction - RestAction queue returned failure: [ErrorResponseException] 10008: Unknown Message net.dv8tion.jda.api.exceptions.ContextException at net.dv8tion.jda.api.exceptions.ContextException.here(ContextException.java:54) at net.dv8tion.jda.api.requests.Request.&lt;init&gt;(Request.java:73) at net.dv8tion.jda.internal.requests.RestActionImpl.queue(RestActionImpl.java:200) at net.dv8tion.jda.api.requests.RestAction.queue(RestAction.java:572) at net.dv8tion.jda.api.requests.RestAction.queue(RestAction.java:538) at org.gsbunker.controller.AutoController.run(AutoController.java:45) </code></p>\n<p>I really dont understand why the message is unknown, ive already checked that the messageid and channelid are not null when passed - still getting the same error. the code is slightly simplified for understanding purposes, if questions occur feel free to ask. pleeeeeeeaase help me and my brain &lt;3</p>\n"},{"tags":["java","rabbitmq","amqp"],"comments":[{"owner":{"account_id":1581534,"reputation":9020,"user_id":1466825,"display_name":"Luke Bakken"},"score":0,"creation_date":1673886702,"post_id":75090251,"comment_id":132592169,"body_markdown":"Use a reasonable prefetch value, no more than 1000, and try again.","body":"Use a reasonable prefetch value, no more than 1000, and try again."}],"owner":{"account_id":9717613,"reputation":91,"user_id":7207421,"display_name":"Arjun Bhattacharya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673481727,"creation_date":1673481727,"question_id":75090251,"body_markdown":"In our application, the consumer prefetch is set to 100000. From https://stackoverflow.com/questions/57653212/is-there-any-way-to-set-rabbitmq-prefetch-count-to-100000-using-spring-amqp-libr I understand that the value will be set to 34464 due to the int to short conversion. I see this from the rmq web console too.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nNow, my application has been going out of memory when the load is high. On examination of the heap dump, I see a massive number (much larger than 34464) of com.rabbitmq.client.QueueingConsumer$Delivery objects held in the bufferQueue (see code snippet).\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nWe are using RabbitMQ server v3.7.8, Erlang v21.1 and RabbitMQ Java Client v4.0.0. There is a plan to upgrade the versions, but not in the next 3-4 months. As a part of the upgrade, we will get rid of QueueingConsumer (deprecated). So, we would like to continue with QueueingConsumer for the time being and still fix this memory issue.\r\n\r\nThis is the code snippet for declaring the consumer:\r\n\r\n```\r\nString queueName = &quot;my_queue&quot;;\r\nboolean autoAck = false;\r\nString consumerTag = &quot;&quot;;\r\nboolean noLocal = true;\r\nboolean exclusiveConsumer = true;\r\nMap&lt;String, Object&gt; arguments = null;\r\n\r\nBlockingQueue&lt;Delivery&gt; bufferQueue = new LinkedBlockingQueue&lt;&gt;();\r\nQueueingConsumer consumer = new QueueingConsumer(channel, bufferQueue);\r\nchannel.basicQos(100000, false);\r\nchannel.basicConsume(queueName, autoAck, consumerTag, noLocal, exclusiveConsumer, arguments, consumer);\r\n```\r\n\r\nThere is only one consumer.\r\n\r\nNow, my question is that why is RabbitMQ not abiding by the 34464 prefetch count that is shown in the web console?\r\n\r\nAlso, when I look at the AutorecoveringChannel object in the heap dump, the consumer prefetch count shows as 0 irrespective of what the prefetch count is set to be (I tried setting it to something like 1000). Why is this happening?\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BICb1.png\r\n  [2]: https://i.stack.imgur.com/lZ40o.png\r\n  [3]: https://i.stack.imgur.com/UcpPX.png","title":"RabbitMQ consumer prefetch ignored","body":"<p>In our application, the consumer prefetch is set to 100000. From <a href=\"https://stackoverflow.com/questions/57653212/is-there-any-way-to-set-rabbitmq-prefetch-count-to-100000-using-spring-amqp-libr\">Is there any way to set rabbitmq prefetch count to 100000 using spring amqp library?</a> I understand that the value will be set to 34464 due to the int to short conversion. I see this from the rmq web console too.</p>\n<p><a href=\"https://i.stack.imgur.com/BICb1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BICb1.png\" alt=\"enter image description here\" /></a></p>\n<p>Now, my application has been going out of memory when the load is high. On examination of the heap dump, I see a massive number (much larger than 34464) of com.rabbitmq.client.QueueingConsumer$Delivery objects held in the bufferQueue (see code snippet).</p>\n<p><a href=\"https://i.stack.imgur.com/lZ40o.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lZ40o.png\" alt=\"enter image description here\" /></a></p>\n<p>We are using RabbitMQ server v3.7.8, Erlang v21.1 and RabbitMQ Java Client v4.0.0. There is a plan to upgrade the versions, but not in the next 3-4 months. As a part of the upgrade, we will get rid of QueueingConsumer (deprecated). So, we would like to continue with QueueingConsumer for the time being and still fix this memory issue.</p>\n<p>This is the code snippet for declaring the consumer:</p>\n<pre><code>String queueName = &quot;my_queue&quot;;\nboolean autoAck = false;\nString consumerTag = &quot;&quot;;\nboolean noLocal = true;\nboolean exclusiveConsumer = true;\nMap&lt;String, Object&gt; arguments = null;\n\nBlockingQueue&lt;Delivery&gt; bufferQueue = new LinkedBlockingQueue&lt;&gt;();\nQueueingConsumer consumer = new QueueingConsumer(channel, bufferQueue);\nchannel.basicQos(100000, false);\nchannel.basicConsume(queueName, autoAck, consumerTag, noLocal, exclusiveConsumer, arguments, consumer);\n</code></pre>\n<p>There is only one consumer.</p>\n<p>Now, my question is that why is RabbitMQ not abiding by the 34464 prefetch count that is shown in the web console?</p>\n<p>Also, when I look at the AutorecoveringChannel object in the heap dump, the consumer prefetch count shows as 0 irrespective of what the prefetch count is set to be (I tried setting it to something like 1000). Why is this happening?</p>\n<p><a href=\"https://i.stack.imgur.com/UcpPX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UcpPX.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","unit-testing","junit","mockito","powermock"],"comments":[{"owner":{"account_id":47744,"reputation":5200,"user_id":141522,"accept_rate":94,"display_name":"David Weiser"},"score":1,"creation_date":1297354065,"post_id":4959489,"comment_id":5533563,"body_markdown":"What happens when you remove the CollaboratorToBeMocked( java.lang.Class.class ) constructor?  Does it work then?","body":"What happens when you remove the CollaboratorToBeMocked( java.lang.Class.class ) constructor?  Does it work then?"},{"owner":{"account_id":136000,"reputation":4161,"user_id":339228,"accept_rate":62,"display_name":"Belun"},"score":0,"creation_date":1297354172,"post_id":4959489,"comment_id":5533587,"body_markdown":"you mean, when i remove the other constructor... yes, if i remove the constructor with InjectedIntoCollaborator, it works","body":"you mean, when i remove the other constructor... yes, if i remove the constructor with InjectedIntoCollaborator, it works"}],"answers":[{"comments":[{"owner":{"account_id":136000,"reputation":4161,"user_id":339228,"accept_rate":62,"display_name":"Belun"},"score":0,"creation_date":1297414522,"post_id":4962737,"comment_id":5543843,"body_markdown":"you&#39;re right. my supress is a mess. nevertheless, it still does not work i used `suppress(constructor(CollaboratorToBeMocked.class, InjectedIntoCollaborator.class));`","body":"you&#39;re right. my supress is a mess. nevertheless, it still does not work i used <code>suppress(constructor(CollaboratorToBeMocked.class, InjectedIntoCollaborator.class));</code>"},{"owner":{"account_id":136000,"reputation":4161,"user_id":339228,"accept_rate":62,"display_name":"Belun"},"score":0,"creation_date":1297416769,"post_id":4962737,"comment_id":5544239,"body_markdown":"um, my test was bad. once i fixed the test class, the test went green. so, the problem is, now, the supress. might be a bug...","body":"um, my test was bad. once i fixed the test class, the test went green. so, the problem is, now, the supress. might be a bug..."},{"owner":{"account_id":40862,"reputation":23767,"user_id":118587,"accept_rate":75,"display_name":"Grzegorz Oledzki"},"score":0,"creation_date":1297704262,"post_id":4962737,"comment_id":5581649,"body_markdown":"If you have a complete example and still fail to see the expected outcome, I should definitely file a bug report to the project.","body":"If you have a complete example and still fail to see the expected outcome, I should definitely file a bug report to the project."}],"tags":[],"owner":{"account_id":40862,"reputation":23767,"user_id":118587,"accept_rate":75,"display_name":"Grzegorz Oledzki"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1548680949,"creation_date":1297372286,"answer_id":4962737,"question_id":4959489,"body_markdown":"I didn&#39;t know of PowerMock until you wrote your question, but did some reading and found this in their documentation. Still I am not really sure if that helps you:\r\n\r\n&gt; If the super class have several\r\n&gt; constructors it&#39;s possible to tell\r\n&gt; PowerMock to only suppress a specific\r\n&gt; one. Let&#39;s say you have a class called\r\n&gt; `ClassWithSeveralConstructors` that has\r\n&gt; one constructor that takes a `String`\r\n&gt; and another constructor that takes an\r\n&gt; `int` as an argument and you only want\r\n&gt; to suppress the `String` constructor.\r\n&gt; You can do this using the \r\n&gt; `suppress(constructor(ClassWithSeveralConstructors.class, String.class));` \r\n&gt; method.\r\n\r\nfound at http://code.google.com/p/powermock/wiki/SuppressUnwantedBehavior\r\n\r\nIsn&#39;t it the thing you wanted?\r\n\r\nEDIT: Now I see, you&#39;ve already tried suppressing. But are you sure you got the suppress call right? Isn&#39;t the first argument of `constructor()` supposed to be the class you would like to surpress the constructor in?","title":"How to mock object with constructor that takes a Class?","body":"<p>I didn't know of PowerMock until you wrote your question, but did some reading and found this in their documentation. Still I am not really sure if that helps you:</p>\n\n<blockquote>\n  <p>If the super class have several\n  constructors it's possible to tell\n  PowerMock to only suppress a specific\n  one. Let's say you have a class called\n  <code>ClassWithSeveralConstructors</code> that has\n  one constructor that takes a <code>String</code>\n  and another constructor that takes an\n  <code>int</code> as an argument and you only want\n  to suppress the <code>String</code> constructor.\n  You can do this using the \n  <code>suppress(constructor(ClassWithSeveralConstructors.class, String.class));</code> \n  method.</p>\n</blockquote>\n\n<p>found at <a href=\"http://code.google.com/p/powermock/wiki/SuppressUnwantedBehavior\" rel=\"nofollow noreferrer\">http://code.google.com/p/powermock/wiki/SuppressUnwantedBehavior</a></p>\n\n<p>Isn't it the thing you wanted?</p>\n\n<p>EDIT: Now I see, you've already tried suppressing. But are you sure you got the suppress call right? Isn't the first argument of <code>constructor()</code> supposed to be the class you would like to surpress the constructor in?</p>\n"},{"comments":[{"owner":{"account_id":58713,"reputation":1207,"user_id":175759,"accept_rate":40,"display_name":"gaoagong"},"score":1,"creation_date":1403902194,"post_id":8033276,"comment_id":37854281,"body_markdown":"This answer worked for me. I had a situation with the ResponseEntity class which has a generic T.\n\n   public ResponseEntity(MultiValueMap&lt;String, String&gt; headers, HttpStatus statusCode)\n   public ResponseEntity(T body, HttpStatus statusCode)\nIf you use the syntax:\n   PowerMockito.whenNew(ResponseEntity.class).withArguments(headers, statusCode).thenReturn(responseEntity);\n\nit doesn&#39;t work, but\n\nPowerMockito.whenNew(ResponseEntity.class).withParameterTypes(MultiValueMap.class, HttpStatus.class).withArguments(headers, statusCode).thenReturn(responseEntity);\n\nworks","body":"This answer worked for me. I had a situation with the ResponseEntity class which has a generic T.     public ResponseEntity(MultiValueMap&lt;String, String&gt; headers, HttpStatus statusCode)    public ResponseEntity(T body, HttpStatus statusCode) If you use the syntax:    PowerMockito.whenNew(ResponseEntity.class).withArguments(hea&zwnj;&#8203;ders, statusCode).thenReturn(responseEntity);  it doesn&#39;t work, but  PowerMockito.whenNew(ResponseEntity.class).withParameterType&zwnj;&#8203;s(MultiValueMap.clas&zwnj;&#8203;s, HttpStatus.class).withArguments(headers, statusCode).thenReturn(responseEntity);  works"}],"tags":[],"owner":{"account_id":276181,"reputation":1989,"user_id":569472,"accept_rate":57,"display_name":"Smartmarkey"},"comment_count":1,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1451739657,"creation_date":1320646412,"answer_id":8033276,"question_id":4959489,"body_markdown":"Perhaps it is too late for your question. I met it today and found the solution at the following url. Basically, you need to specify your argument type like.\r\n\r\n    whenNew(MimeMessage.class).**withParameterTypes(MyParameterType.class)**.withArguments(isA(MyParameter.class)).thenReturn(mimeMessageMock); \r\n\r\nhttp://groups.google.com/group/powermock/msg/347f6ef1fb34d946?pli=1\r\n\r\nHope it can help you. :)","title":"How to mock object with constructor that takes a Class?","body":"<p>Perhaps it is too late for your question. I met it today and found the solution at the following url. Basically, you need to specify your argument type like.</p>\n\n<pre><code>whenNew(MimeMessage.class).**withParameterTypes(MyParameterType.class)**.withArguments(isA(MyParameter.class)).thenReturn(mimeMessageMock); \n</code></pre>\n\n<p><a href=\"http://groups.google.com/group/powermock/msg/347f6ef1fb34d946?pli=1\" rel=\"nofollow noreferrer\">http://groups.google.com/group/powermock/msg/347f6ef1fb34d946?pli=1</a></p>\n\n<p>Hope it can help you. :)</p>\n"},{"tags":[],"owner":{"account_id":4391031,"reputation":1,"user_id":3579402,"display_name":"janimationd"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673481170,"creation_date":1673481170,"answer_id":75090205,"question_id":4959489,"body_markdown":"If using PowerMock for EasyMock you can do `PowerMock.expectNew(CollaboratorToBeMocked.class, new Class[]{InjectedIntoCollaborator.class}, ...)` where the `Class[]` is the parameter types of the constructor you&#39;re expecting to be called. This will resolve the ambiguity between the constructors.","title":"How to mock object with constructor that takes a Class?","body":"<p>If using PowerMock for EasyMock you can do <code>PowerMock.expectNew(CollaboratorToBeMocked.class, new Class[]{InjectedIntoCollaborator.class}, ...)</code> where the <code>Class[]</code> is the parameter types of the constructor you're expecting to be called. This will resolve the ambiguity between the constructors.</p>\n"}],"owner":{"account_id":136000,"reputation":4161,"user_id":339228,"accept_rate":62,"display_name":"Belun"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19745,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":3,"score":11,"last_activity_date":1673481170,"creation_date":1297353807,"question_id":4959489,"body_markdown":"This is the test:\r\n\r\n    import static junit.framework.Assert.assertTrue;\r\n    import static org.powermock.api.mockito.PowerMockito.mock;\r\n    import static org.powermock.api.mockito.PowerMockito.whenNew;\r\n    \r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.powermock.core.classloader.annotations.PrepareForTest;\r\n    import org.powermock.modules.junit4.PowerMockRunner;\r\n    \r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest( {ClassUnderTesting.class} )\r\n    public class ClassUnderTestingTest {\r\n    \t\r\n    \t@Test\r\n    \tpublic void shouldInitializeMocks() throws Exception {\r\n    \t\tCollaboratorToBeMocked mockedCollaborator = mock(CollaboratorToBeMocked.class);\r\n    \t\t\r\n                suppress(constructor(CollaboratorToBeMocked.class, InjectedIntoCollaborator.class));\r\n\r\n    \t\twhenNew(CollaboratorToBeMocked.class)\r\n    \t\t\t.withArguments(InjectedAsTypeIntoCollaborator.class)\r\n    \t\t\t.thenReturn(mockedCollaborator);\r\n    \t\t\r\n    \t\tnew ClassUnderTesting().methodUnderTesting();\r\n    \t\t\r\n    \t\tassertTrue(true);\r\n    \t}\r\n    }\r\n\r\nThese are the classes :\r\n\r\n    public class ClassUnderTesting {\r\n    \r\n    \tpublic void methodUnderTesting() {\r\n    \t\tnew CollaboratorToBeMocked(InjectedAsTypeIntoCollaborator.class);\r\n    \t}\r\n    \t\r\n    }\r\n\r\n    public class CollaboratorToBeMocked {\r\n    \r\n    \tpublic CollaboratorToBeMocked(Class&lt;InjectedAsTypeIntoCollaborator&gt; clazz) {\r\n    \t}\r\n    \t\r\n    \tpublic CollaboratorToBeMocked(InjectedIntoCollaborator someCollaborator) {\r\n    \t}\r\n\r\n        public CollaboratorToBeMocked() {\r\n    \t}\r\n    \r\n    }\r\n\r\n    public class InjectedAsTypeIntoCollaborator {\r\n    \r\n    }\r\n\r\n    public class InjectedIntoCollaborator {\r\n    \r\n    }\r\n\r\n\r\nThis is the error :\r\n\r\n    org.powermock.reflect.exceptions.TooManyConstructorsFoundException: Several matching constructors found, please specify the argument parameter types so that PowerMock can determine which method you&#39;re refering to.\r\n    Matching constructors in class CollaboratorToBeMocked were:\r\n    CollaboratorToBeMocked( InjectedIntoCollaborator.class )\r\n    CollaboratorToBeMocked( java.lang.Class.class )\r\n\r\nHere comes the **question**: how can I make PowerMock figure out what constructor to look for?\r\n\r\n_The problematic line_ is the `suppress`. That is where the error comes from.\r\n\r\n    ","title":"How to mock object with constructor that takes a Class?","body":"<p>This is the test:</p>\n\n<pre><code>import static junit.framework.Assert.assertTrue;\nimport static org.powermock.api.mockito.PowerMockito.mock;\nimport static org.powermock.api.mockito.PowerMockito.whenNew;\n\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.powermock.core.classloader.annotations.PrepareForTest;\nimport org.powermock.modules.junit4.PowerMockRunner;\n\n@RunWith(PowerMockRunner.class)\n@PrepareForTest( {ClassUnderTesting.class} )\npublic class ClassUnderTestingTest {\n\n    @Test\n    public void shouldInitializeMocks() throws Exception {\n        CollaboratorToBeMocked mockedCollaborator = mock(CollaboratorToBeMocked.class);\n\n            suppress(constructor(CollaboratorToBeMocked.class, InjectedIntoCollaborator.class));\n\n        whenNew(CollaboratorToBeMocked.class)\n            .withArguments(InjectedAsTypeIntoCollaborator.class)\n            .thenReturn(mockedCollaborator);\n\n        new ClassUnderTesting().methodUnderTesting();\n\n        assertTrue(true);\n    }\n}\n</code></pre>\n\n<p>These are the classes :</p>\n\n<pre><code>public class ClassUnderTesting {\n\n    public void methodUnderTesting() {\n        new CollaboratorToBeMocked(InjectedAsTypeIntoCollaborator.class);\n    }\n\n}\n\npublic class CollaboratorToBeMocked {\n\n    public CollaboratorToBeMocked(Class&lt;InjectedAsTypeIntoCollaborator&gt; clazz) {\n    }\n\n    public CollaboratorToBeMocked(InjectedIntoCollaborator someCollaborator) {\n    }\n\n    public CollaboratorToBeMocked() {\n    }\n\n}\n\npublic class InjectedAsTypeIntoCollaborator {\n\n}\n\npublic class InjectedIntoCollaborator {\n\n}\n</code></pre>\n\n<p>This is the error :</p>\n\n<pre><code>org.powermock.reflect.exceptions.TooManyConstructorsFoundException: Several matching constructors found, please specify the argument parameter types so that PowerMock can determine which method you're refering to.\nMatching constructors in class CollaboratorToBeMocked were:\nCollaboratorToBeMocked( InjectedIntoCollaborator.class )\nCollaboratorToBeMocked( java.lang.Class.class )\n</code></pre>\n\n<p>Here comes the <strong>question</strong>: how can I make PowerMock figure out what constructor to look for?</p>\n\n<p><em>The problematic line</em> is the <code>suppress</code>. That is where the error comes from.</p>\n"},{"tags":["java","android","speech-recognition","speech-to-text"],"comments":[{"owner":{"account_id":2599416,"reputation":622,"user_id":2252267,"accept_rate":83,"display_name":"user1257"},"score":0,"creation_date":1673482407,"post_id":75090180,"comment_id":132511966,"body_markdown":"Can Bundle results be null in onResults? Are there any errors in logcat?","body":"Can Bundle results be null in onResults? Are there any errors in logcat?"},{"owner":{"account_id":16955543,"reputation":165,"user_id":12264042,"display_name":"Rikudou"},"score":0,"creation_date":1673483134,"post_id":75090180,"comment_id":132512082,"body_markdown":"@user1257 Logcat is not telling me anything, and I have verified that the code does not even visit onResults when I remain silent and this problem occurs.","body":"@user1257 Logcat is not telling me anything, and I have verified that the code does not even visit onResults when I remain silent and this problem occurs."},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":1,"creation_date":1673483407,"post_id":75090180,"comment_id":132512139,"body_markdown":"Your issue is likely in the `onError` where you call `textView.setText(error)` - this form (with an int parameter) is expecting a valid `resid` (resource id) - and if not found will fail with an exception.  The `error` parameter is not a valid resid.  Try converting the `int error` to a string specifically with `Integer.toString(error)`.","body":"Your issue is likely in the <code>onError</code> where you call <code>textView.setText(error)</code> - this form (with an int parameter) is expecting a valid <code>resid</code> (resource id) - and if not found will fail with an exception.  The <code>error</code> parameter is not a valid resid.  Try converting the <code>int error</code> to a string specifically with <code>Integer.toString(error)</code>."}],"owner":{"account_id":16955543,"reputation":165,"user_id":12264042,"display_name":"Rikudou"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673480873,"creation_date":1673480873,"question_id":75090180,"body_markdown":"I am developing an Android app that uses the Google speech recognition api. For some reason, when I start up the app (via USB debugging on my Android phone), starting the listening process works just fine, and the app works smoothly if I do actually say something after clicking the button to make the app start listening for audio. However, if I click the button to start listening, and then I don&#39;t say anything, then the app crashes for some reason. In other words, if the speech recognition gets no results, then the app just crashes. Does anyone have any idea as to why? \r\n\r\n\r\nBelow is an excerpt of my code. (Yes, I did account for the permissions. I just didn&#39;t include that code in the excerpt below).\r\n\r\nI have tried putting try catch blocks in various places to see if I could catch the error that causes the crash, but it has yet to work. Furthermore, while there is an onResults method, there does not seem to be an onNoResults method.\r\n\r\n```\r\nspeechRecognizer = SpeechRecognizer.createSpeechRecognizer(this);\r\nrecognitionListener = new RecognitionListener() {\r\n    @Override\r\n    public void onReadyForSpeech(Bundle params) {\r\n        // Called when the speech recognition process is ready to begin\r\n    }\r\n\r\n    @Override\r\n    public void onBeginningOfSpeech() {\r\n        // Called when the user begins speaking\r\n    }\r\n\r\n    @Override\r\n    public void onRmsChanged(float rmsdB) {\r\n        // Called when the volume of the spoken input changes\r\n    }\r\n\r\n    @Override\r\n    public void onBufferReceived(byte[] buffer) {\r\n        // Called when the app receives a buffer of audio data\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onEndOfSpeech() {\r\n       // Called when the user stops speaking\r\n        \r\n    }\r\n\r\n    @Override\r\n    public void onError(int error) {\r\n        // Called when an error occurs during the speech recognition process\r\n        TextView textView = findViewById(R.id.errors);\r\n        textView.setText(error);\r\n    }\r\n\r\n    @Override\r\n    public void onResults(Bundle results) {\r\n        // Called when the speech recognition process has completed and the results are available\r\n        List&lt;String&gt; resultList = results.getStringArrayList(SpeechRecognizer.RESULTS_RECOGNITION);\r\n\r\n        if (resultList != null &amp;&amp; resultList.size() &gt; 0) {\r\n            // Display the first result in the text field\r\n            TextView textView = findViewById(R.id.spokenWords);\r\n            textView.setText(resultList.get(0));\r\n        }\r\n        //speechRecognizer.startListening(new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH));\r\n    }\r\n\r\n\r\n\r\n    @Override\r\n    public void onPartialResults(Bundle partialResults) {\r\n       // Called when the app receives partial results of the speech recognition process\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onEvent(int eventType, Bundle params) {\r\n        // Called when the app receives other events from the speech recognition process\r\n\r\n    }\r\n\r\n\r\n};\r\n\r\nspeechRecognizer.setRecognitionListener(recognitionListener);\r\nButton startSpeech = findViewById(R.id.startSpeech);\r\nstartSpeech.setOnClickListener(new View.OnClickListener() {\r\n    @Override\r\n    public void onClick(View view) {\r\n        TextView textView = findViewById(R.id.spokenWords);\r\n        textView.setText(&quot;Listening&quot;);\r\n        speechRecognizer.startListening(new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH));\r\n    }\r\n});\r\n```","title":"Android Java: Speech Recognition App crashes whenever there are no results","body":"<p>I am developing an Android app that uses the Google speech recognition api. For some reason, when I start up the app (via USB debugging on my Android phone), starting the listening process works just fine, and the app works smoothly if I do actually say something after clicking the button to make the app start listening for audio. However, if I click the button to start listening, and then I don't say anything, then the app crashes for some reason. In other words, if the speech recognition gets no results, then the app just crashes. Does anyone have any idea as to why?</p>\n<p>Below is an excerpt of my code. (Yes, I did account for the permissions. I just didn't include that code in the excerpt below).</p>\n<p>I have tried putting try catch blocks in various places to see if I could catch the error that causes the crash, but it has yet to work. Furthermore, while there is an onResults method, there does not seem to be an onNoResults method.</p>\n<pre><code>speechRecognizer = SpeechRecognizer.createSpeechRecognizer(this);\nrecognitionListener = new RecognitionListener() {\n    @Override\n    public void onReadyForSpeech(Bundle params) {\n        // Called when the speech recognition process is ready to begin\n    }\n\n    @Override\n    public void onBeginningOfSpeech() {\n        // Called when the user begins speaking\n    }\n\n    @Override\n    public void onRmsChanged(float rmsdB) {\n        // Called when the volume of the spoken input changes\n    }\n\n    @Override\n    public void onBufferReceived(byte[] buffer) {\n        // Called when the app receives a buffer of audio data\n\n    }\n\n    @Override\n    public void onEndOfSpeech() {\n       // Called when the user stops speaking\n        \n    }\n\n    @Override\n    public void onError(int error) {\n        // Called when an error occurs during the speech recognition process\n        TextView textView = findViewById(R.id.errors);\n        textView.setText(error);\n    }\n\n    @Override\n    public void onResults(Bundle results) {\n        // Called when the speech recognition process has completed and the results are available\n        List&lt;String&gt; resultList = results.getStringArrayList(SpeechRecognizer.RESULTS_RECOGNITION);\n\n        if (resultList != null &amp;&amp; resultList.size() &gt; 0) {\n            // Display the first result in the text field\n            TextView textView = findViewById(R.id.spokenWords);\n            textView.setText(resultList.get(0));\n        }\n        //speechRecognizer.startListening(new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH));\n    }\n\n\n\n    @Override\n    public void onPartialResults(Bundle partialResults) {\n       // Called when the app receives partial results of the speech recognition process\n\n    }\n\n    @Override\n    public void onEvent(int eventType, Bundle params) {\n        // Called when the app receives other events from the speech recognition process\n\n    }\n\n\n};\n\nspeechRecognizer.setRecognitionListener(recognitionListener);\nButton startSpeech = findViewById(R.id.startSpeech);\nstartSpeech.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n        TextView textView = findViewById(R.id.spokenWords);\n        textView.setText(&quot;Listening&quot;);\n        speechRecognizer.startListening(new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH));\n    }\n});\n</code></pre>\n"},{"tags":["java","rest","ssl"],"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673480693,"creation_date":1673480372,"question_id":75090133,"body_markdown":"The code below is refactored based on existing code that works fine in the prod environment. I developed the test unit below in order to introduce a few improvements to the rest call from Java, mainly to implement the following:\r\n\r\n- add `scope`,\r\n- use the authentication header `Authorization: Basic &lt;base64 of client-id:client-secret&gt;`, and \r\n- add the `grant_type` and `scope` in the body using the `x-www-form-urlencoded` format.\r\n\r\nThe purpose of this rest call is to get the authorization token that will be used to authorize the other needed services (rest calls).\r\n\r\nI completed the first round of the change and tried to run the test and it failed.\r\n\r\n```\r\nimport static org.junit.Assert.*;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.DataOutputStream;\r\nimport java.io.InputStream;\r\nimport java.io.InputStreamReader;\r\nimport java.net.MalformedURLException;\r\nimport java.net.URL;\r\n\r\nimport javax.net.ssl.HttpsURLConnection;\r\nimport javax.net.ssl.SSLContext;\r\n\r\npublic class TestValueNETServices {\r\n\r\n\t@Test\r\n\tpublic void testGetJWT() throws Exception {\r\n\t\tString endPointURLwithToken = &quot;https://&lt;url-base&gt;/path/to/token/service&quot;;\r\n\t\tString contentType = &quot;application/x-www-form-urlencoded&quot;;\r\n\t\tString requestMethod = &quot;POST&quot;;\r\n\t\tURL url;\r\n\t\tboolean isSslFlag = true;\r\n\t\tHttpsURLConnection httpsURLCon = null;\r\n\t\tString webServiceResponse = null;\r\n\t\ttry {\r\n\t\t\ttry {\r\n\t\t\t\turl = new URL(endPointURLwithToken);\r\n\t\t\t} catch (MalformedURLException malUrlEx) {\r\n\t\t\t\tSystem.out.println(&quot;Malformed URL: &quot; + malUrlEx.toString());\r\n\t\t\t\tmalUrlEx.printStackTrace();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\thttpsURLCon = (HttpsURLConnection) url.openConnection();\r\n\t\t\tif (isSslFlag) {\r\n\t\t\t\tString securedProtocol = &quot;TLSv1.2&quot;;\r\n\t\t\t\tSSLContext sc = SSLContext.getInstance(securedProtocol);\r\n\t\t\t\tsc.init(null, null, new java.security.SecureRandom());\r\n\t\t\t\thttpsURLCon.setSSLSocketFactory(sc.getSocketFactory());\r\n\t\t\t}\r\n\t\t\thttpsURLCon.setDoOutput(true);\r\n\t\t\thttpsURLCon.setRequestMethod(requestMethod);\r\n\t\t\thttpsURLCon.setRequestProperty(&quot;Content-Type&quot;, contentType);\r\n\t\t\tSystem.out.println(&quot;Request Method: &quot; + requestMethod + &quot; Content Type: &quot; + contentType);\r\n\t\t\tString client_id = &quot;client-id-value&quot;;\r\n\t\t\tString client_secret = &quot;client-secret-value&quot;;\r\n\t\t\tString grant_type = &quot;client_credentials&quot;;\r\n\t\t\tString scope = &quot;scope-value&quot;;\r\n\r\n\t\t\tString urlParameters = &quot;client_id=&quot; + client_id + &quot;&amp;client_secret=&quot; + client_secret + &quot;&amp;grant_type=&quot; + grant_type + &quot;scope=&quot; + scope;\r\n\t\t\tSystem.out.println(&quot;Parameters to get Token --&gt; client_id: &quot; + client_id + &quot; client_secret: &quot; + client_secret + &quot; grant_type: &quot; + grant_type);\r\n\t\t\t// Send post request\r\n\t\t\tDataOutputStream wr = new DataOutputStream(httpsURLCon.getOutputStream());\r\n\t\t\twr.writeBytes(urlParameters);\r\n\t\t\twr.flush();\r\n\t\t\twr.close();\r\n\r\n\t\t\tSystem.out.println(&quot;HTTP Status Get JWT call:&quot; + Integer.toString(httpsURLCon.getResponseCode()));\r\n\t\t\tSystem.out.println(&quot;HTTP ResponseMessage &quot; + httpsURLCon.getResponseMessage());\r\n\r\n\t\t\tif (httpsURLCon.getResponseCode() == HttpsURLConnection.HTTP_OK) {\r\n\t\t\t\tInputStream responseInputStr = httpsURLCon.getInputStream();\r\n\t\t\t\tString tokenResponse = null;\r\n\t\t\t\tif (responseInputStr != null) {\r\n\t\t\t\t\tBufferedReader br = new BufferedReader(new InputStreamReader(responseInputStr));\r\n\t\t\t\t\tString output;\r\n\t\t\t\t\tStringBuffer responseStrBuf = new StringBuffer();\r\n\t\t\t\t\twhile ((output = br.readLine()) != null) {\r\n\t\t\t\t\t\t// System.out.println(output);\r\n\t\t\t\t\t\tresponseStrBuf.append(output);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbr.close();\r\n\t\t\t\t\ttokenResponse = responseStrBuf.toString();\r\n\t\t\t\t\twebServiceResponse = tokenResponse;\r\n\t\t\t\t}\r\n\t\t\t\tassertTrue(webServiceResponse != null &amp;&amp; (!webServiceResponse.isEmpty()));\r\n\t\t\t} else {\r\n\t\t\t\tfail(&quot;FAILED - HTTP Error code: &quot; + httpsURLCon.getResponseCode());\r\n\t\t\t}\r\n\t\t} catch (Exception ex) {\r\n\t\t\tSystem.out.println(ex.toString());\r\n\t\t\tex.printStackTrace();\r\n\t\t\tfail(ex.toString());\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\n\r\nThe error displayed on the console is shown below:\r\n\r\n```\r\njavax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n```\r\n\r\nAlso, I configured the rest call using postman and it works fine after I disabled SSL Certificate Verification.\r\n\r\nThe code above still requires further tweaking and implementing Base64 conversion for this part `Authorization: Basic &lt;base64 of client-id:client-secret&gt;`, however, it is falling for SSL configuration issues. I am not familiar with this part, and I need help. I think the SSL Certificate is configured properly on the prod runtime environment, and I need to do the same on my local dev environment but not sure how. I am OK with bypassing this part to make it work same as in postman for the sake of testing the approach. I appreciate your help.","title":"Cannot invoke rest call from java with SSL TLSv1.2 to get an authentication token","body":"<p>The code below is refactored based on existing code that works fine in the prod environment. I developed the test unit below in order to introduce a few improvements to the rest call from Java, mainly to implement the following:</p>\n<ul>\n<li>add <code>scope</code>,</li>\n<li>use the authentication header <code>Authorization: Basic &lt;base64 of client-id:client-secret&gt;</code>, and</li>\n<li>add the <code>grant_type</code> and <code>scope</code> in the body using the <code>x-www-form-urlencoded</code> format.</li>\n</ul>\n<p>The purpose of this rest call is to get the authorization token that will be used to authorize the other needed services (rest calls).</p>\n<p>I completed the first round of the change and tried to run the test and it failed.</p>\n<pre><code>import static org.junit.Assert.*;\n\nimport java.io.BufferedReader;\nimport java.io.DataOutputStream;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.net.MalformedURLException;\nimport java.net.URL;\n\nimport javax.net.ssl.HttpsURLConnection;\nimport javax.net.ssl.SSLContext;\n\npublic class TestValueNETServices {\n\n    @Test\n    public void testGetJWT() throws Exception {\n        String endPointURLwithToken = &quot;https://&lt;url-base&gt;/path/to/token/service&quot;;\n        String contentType = &quot;application/x-www-form-urlencoded&quot;;\n        String requestMethod = &quot;POST&quot;;\n        URL url;\n        boolean isSslFlag = true;\n        HttpsURLConnection httpsURLCon = null;\n        String webServiceResponse = null;\n        try {\n            try {\n                url = new URL(endPointURLwithToken);\n            } catch (MalformedURLException malUrlEx) {\n                System.out.println(&quot;Malformed URL: &quot; + malUrlEx.toString());\n                malUrlEx.printStackTrace();\n                return;\n            }\n            httpsURLCon = (HttpsURLConnection) url.openConnection();\n            if (isSslFlag) {\n                String securedProtocol = &quot;TLSv1.2&quot;;\n                SSLContext sc = SSLContext.getInstance(securedProtocol);\n                sc.init(null, null, new java.security.SecureRandom());\n                httpsURLCon.setSSLSocketFactory(sc.getSocketFactory());\n            }\n            httpsURLCon.setDoOutput(true);\n            httpsURLCon.setRequestMethod(requestMethod);\n            httpsURLCon.setRequestProperty(&quot;Content-Type&quot;, contentType);\n            System.out.println(&quot;Request Method: &quot; + requestMethod + &quot; Content Type: &quot; + contentType);\n            String client_id = &quot;client-id-value&quot;;\n            String client_secret = &quot;client-secret-value&quot;;\n            String grant_type = &quot;client_credentials&quot;;\n            String scope = &quot;scope-value&quot;;\n\n            String urlParameters = &quot;client_id=&quot; + client_id + &quot;&amp;client_secret=&quot; + client_secret + &quot;&amp;grant_type=&quot; + grant_type + &quot;scope=&quot; + scope;\n            System.out.println(&quot;Parameters to get Token --&gt; client_id: &quot; + client_id + &quot; client_secret: &quot; + client_secret + &quot; grant_type: &quot; + grant_type);\n            // Send post request\n            DataOutputStream wr = new DataOutputStream(httpsURLCon.getOutputStream());\n            wr.writeBytes(urlParameters);\n            wr.flush();\n            wr.close();\n\n            System.out.println(&quot;HTTP Status Get JWT call:&quot; + Integer.toString(httpsURLCon.getResponseCode()));\n            System.out.println(&quot;HTTP ResponseMessage &quot; + httpsURLCon.getResponseMessage());\n\n            if (httpsURLCon.getResponseCode() == HttpsURLConnection.HTTP_OK) {\n                InputStream responseInputStr = httpsURLCon.getInputStream();\n                String tokenResponse = null;\n                if (responseInputStr != null) {\n                    BufferedReader br = new BufferedReader(new InputStreamReader(responseInputStr));\n                    String output;\n                    StringBuffer responseStrBuf = new StringBuffer();\n                    while ((output = br.readLine()) != null) {\n                        // System.out.println(output);\n                        responseStrBuf.append(output);\n                    }\n                    br.close();\n                    tokenResponse = responseStrBuf.toString();\n                    webServiceResponse = tokenResponse;\n                }\n                assertTrue(webServiceResponse != null &amp;&amp; (!webServiceResponse.isEmpty()));\n            } else {\n                fail(&quot;FAILED - HTTP Error code: &quot; + httpsURLCon.getResponseCode());\n            }\n        } catch (Exception ex) {\n            System.out.println(ex.toString());\n            ex.printStackTrace();\n            fail(ex.toString());\n        }\n    }\n\n}\n</code></pre>\n<p>The error displayed on the console is shown below:</p>\n<pre><code>javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n</code></pre>\n<p>Also, I configured the rest call using postman and it works fine after I disabled SSL Certificate Verification.</p>\n<p>The code above still requires further tweaking and implementing Base64 conversion for this part <code>Authorization: Basic &lt;base64 of client-id:client-secret&gt;</code>, however, it is falling for SSL configuration issues. I am not familiar with this part, and I need help. I think the SSL Certificate is configured properly on the prod runtime environment, and I need to do the same on my local dev environment but not sure how. I am OK with bypassing this part to make it work same as in postman for the sake of testing the approach. I appreciate your help.</p>\n"},{"tags":["java","htmlunit"],"answers":[{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673480518,"creation_date":1673480518,"answer_id":75090147,"question_id":75090079,"body_markdown":"Instead of `onwershipElement.getTextContent()` use `onwershipElement.asNormalizedText()` .","title":"How do I preserve line breaks when extracting text out of an HtmlElement","body":"<p>Instead of <code>onwershipElement.getTextContent()</code> use <code>onwershipElement.asNormalizedText()</code> .</p>\n"}],"owner":{"account_id":15275556,"reputation":49,"user_id":11021382,"display_name":"God&#39;s Gift To Java"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673480518,"creation_date":1673479803,"question_id":75090079,"body_markdown":"I am trying to extract three separate strings from:\r\n&lt;https://taxtest.navajocountyaz.gov/Pages/WebForm1.aspx?p=1&amp;apn=103-03-122&gt;\r\n\r\n 1. The owners names: Johnson Tommy A &amp; Nell H Cprs\r\n 2. The owners street address: 133 Maricopa Dr\r\n 3. The owners city, state and zip code, as one string: Winslow AZ 86047-2013\r\n\r\nI tried the following code:\r\n\r\n```\r\nimport com.gargoylesoftware.htmlunit.*;\r\nimport com.gargoylesoftware.htmlunit.html.*;\r\nimport com.gargoylesoftware.htmlunit.javascript.*;\r\nimport java.io.*;\r\n\r\npublic class PropertyOwner {\r\n\r\n    public static void PropertyOwner () {\r\n\r\n        try (final WebClient webClient = new WebClient()) {\r\n            System.getProperties().put(&quot;org.apache.commons.logging.simplelog.defaultlog&quot;, &quot;fatal&quot;);\r\n            java.util.logging.Logger.getLogger(&quot;com.gargoylesoftware.htmlunit&quot;).setLevel(java.util.logging.Level.OFF);\r\n\r\n            webClient.getOptions().setThrowExceptionOnScriptError(false);\r\n            webClient.getOptions().setThrowExceptionOnFailingStatusCode(false);\r\n\r\n            webClient.getOptions().setCssEnabled(false);\r\n            webClient.setJavaScriptErrorListener(new SilentJavaScriptErrorListener());\r\n            webClient.setCssErrorHandler(new SilentCssErrorHandler());\r\n            HtmlPage page = webClient.getPage(&quot;http://taxtest.navajocountyaz.gov/Pages/WebForm1.aspx?p=1&amp;apn=103-03-122&quot;);\r\n            webClient.waitForBackgroundJavaScriptStartingBefore(10000);     \r\n            page = (HtmlPage) page.getEnclosingWindow().getEnclosedPage();\r\n            webClient.getOptions().setThrowExceptionOnScriptError(false);\r\n            webClient.setJavaScriptErrorListener(new SilentJavaScriptErrorListener());\r\n            HtmlTable pnlGridView_nextYear = (HtmlTable) page.getElementById(&quot;pnlGridView_nextYear&quot;);\r\n            HtmlTableDataCell ownershipCell = (HtmlTableDataCell) pnlGridView_nextYear.getCellAt(0,0);\r\n            String ownershipCellAsText = ownershipCell.toString();\r\n            HtmlElement onwershipElement = (HtmlElement) page.getElementById(&quot;lblOwnership_NextYear&quot;);\r\n            System.out.println(&quot;ownershipCellAsText = &quot; + ownershipCellAsText);\r\n            System.out.println(&quot;onwershipElement.getTextContent() = &quot; + onwershipElement.getTextContent());\r\n\r\n\r\n        }\r\n\r\n        catch (Exception e) {\r\n            System.out.println(&quot;Error: &quot;+ e);\r\n        }\r\n  \r\n    }\r\n  \r\n    public static void main(String[] args) {\r\n        File file = new File(&quot;validParcelIDs.txt&quot;);\r\n        PropertyOwner();\r\n    }\r\n\r\n}\r\n```\r\n\r\nI then used the following two commands:\r\n```\r\n&gt; javac -classpath &quot;.:/opt/htmlunit_2.69.0/*&quot;  PropertyOwner.java\r\n&gt; java -classpath &quot;.:/opt/htmlunit_2.69.0/*&quot;  PropertyOwner\r\n```\r\n\r\nAnd got the following output:\r\n```\r\nownershipCellAsText = HtmlTableDataCell[&lt;td style=&quot;border:solid 1px black;&quot;&gt;]\r\nonwershipElement.getTextContent() = Johnson Tommy A &amp; Nell H Cprs133 Maricopa DrWinslow AZ 86047-2013\r\n```\r\n\r\nAs you can see, onwershipElement.getTextContent() is fairly close to what I want. Except that it removed the line breaks from the HtmlElement.\r\n\r\nI tried the following solution, which was proposed over 8 years ago:\r\n&lt;https://stackoverflow.com/questions/27077749/java-getting-text-content-from-an-element-to-include-line-breaks&gt;\r\nby adding just three lines of code to my program. The following three (non consecutive) lines:\r\n```\r\nimport org.w3c.dom.Node;\r\nimport org.w3c.dom.NodeList;\r\n.....\r\nWebView webView = new WebView();\r\n```\r\n\r\nAnd that gave me the following compiling error:\r\n```\r\nachab@HP-Envy [Navajo] $javac -classpath &quot;.:/opt/htmlunit_2.69.0/*&quot;  PropertyOwner.java \r\nPropertyOwner.java:15: error: cannot find symbol\r\n            WebView webView = new WebView(); \r\n            ^\r\n  symbol:   class WebView\r\n  location: class PropertyOwner\r\nPropertyOwner.java:15: error: cannot find symbol\r\n            WebView webView = new WebView(); \r\n                                  ^\r\n  symbol:   class WebView\r\n  location: class PropertyOwner\r\n2 errors\r\n```\r\nSo, it seems like that solution is outdated. The 2.69.0 release of HtmlUnit was released January 5, 2023.\r\n\r\nBefore that. I had tried 2.47.1 release of HtmlUnit, which was released about two years ago. With the same two problems described above: failure to preserve line breaks in the first version of the code, and not finding the symbol WebView in the second version of the code.\r\n\r\nWhat do I need to change in order to get the three separate strings that I want?\r\n","title":"How do I preserve line breaks when extracting text out of an HtmlElement","body":"<p>I am trying to extract three separate strings from:\n<a href=\"https://taxtest.navajocountyaz.gov/Pages/WebForm1.aspx?p=1&amp;apn=103-03-122\" rel=\"nofollow noreferrer\">https://taxtest.navajocountyaz.gov/Pages/WebForm1.aspx?p=1&amp;apn=103-03-122</a></p>\n<ol>\n<li>The owners names: Johnson Tommy A &amp; Nell H Cprs</li>\n<li>The owners street address: 133 Maricopa Dr</li>\n<li>The owners city, state and zip code, as one string: Winslow AZ 86047-2013</li>\n</ol>\n<p>I tried the following code:</p>\n<pre><code>import com.gargoylesoftware.htmlunit.*;\nimport com.gargoylesoftware.htmlunit.html.*;\nimport com.gargoylesoftware.htmlunit.javascript.*;\nimport java.io.*;\n\npublic class PropertyOwner {\n\n    public static void PropertyOwner () {\n\n        try (final WebClient webClient = new WebClient()) {\n            System.getProperties().put(&quot;org.apache.commons.logging.simplelog.defaultlog&quot;, &quot;fatal&quot;);\n            java.util.logging.Logger.getLogger(&quot;com.gargoylesoftware.htmlunit&quot;).setLevel(java.util.logging.Level.OFF);\n\n            webClient.getOptions().setThrowExceptionOnScriptError(false);\n            webClient.getOptions().setThrowExceptionOnFailingStatusCode(false);\n\n            webClient.getOptions().setCssEnabled(false);\n            webClient.setJavaScriptErrorListener(new SilentJavaScriptErrorListener());\n            webClient.setCssErrorHandler(new SilentCssErrorHandler());\n            HtmlPage page = webClient.getPage(&quot;http://taxtest.navajocountyaz.gov/Pages/WebForm1.aspx?p=1&amp;apn=103-03-122&quot;);\n            webClient.waitForBackgroundJavaScriptStartingBefore(10000);     \n            page = (HtmlPage) page.getEnclosingWindow().getEnclosedPage();\n            webClient.getOptions().setThrowExceptionOnScriptError(false);\n            webClient.setJavaScriptErrorListener(new SilentJavaScriptErrorListener());\n            HtmlTable pnlGridView_nextYear = (HtmlTable) page.getElementById(&quot;pnlGridView_nextYear&quot;);\n            HtmlTableDataCell ownershipCell = (HtmlTableDataCell) pnlGridView_nextYear.getCellAt(0,0);\n            String ownershipCellAsText = ownershipCell.toString();\n            HtmlElement onwershipElement = (HtmlElement) page.getElementById(&quot;lblOwnership_NextYear&quot;);\n            System.out.println(&quot;ownershipCellAsText = &quot; + ownershipCellAsText);\n            System.out.println(&quot;onwershipElement.getTextContent() = &quot; + onwershipElement.getTextContent());\n\n\n        }\n\n        catch (Exception e) {\n            System.out.println(&quot;Error: &quot;+ e);\n        }\n  \n    }\n  \n    public static void main(String[] args) {\n        File file = new File(&quot;validParcelIDs.txt&quot;);\n        PropertyOwner();\n    }\n\n}\n</code></pre>\n<p>I then used the following two commands:</p>\n<pre><code>&gt; javac -classpath &quot;.:/opt/htmlunit_2.69.0/*&quot;  PropertyOwner.java\n&gt; java -classpath &quot;.:/opt/htmlunit_2.69.0/*&quot;  PropertyOwner\n</code></pre>\n<p>And got the following output:</p>\n<pre><code>ownershipCellAsText = HtmlTableDataCell[&lt;td style=&quot;border:solid 1px black;&quot;&gt;]\nonwershipElement.getTextContent() = Johnson Tommy A &amp; Nell H Cprs133 Maricopa DrWinslow AZ 86047-2013\n</code></pre>\n<p>As you can see, onwershipElement.getTextContent() is fairly close to what I want. Except that it removed the line breaks from the HtmlElement.</p>\n<p>I tried the following solution, which was proposed over 8 years ago:\n<a href=\"https://stackoverflow.com/questions/27077749/java-getting-text-content-from-an-element-to-include-line-breaks\">Java getting text content from an element to include line breaks</a>\nby adding just three lines of code to my program. The following three (non consecutive) lines:</p>\n<pre><code>import org.w3c.dom.Node;\nimport org.w3c.dom.NodeList;\n.....\nWebView webView = new WebView();\n</code></pre>\n<p>And that gave me the following compiling error:</p>\n<pre><code>achab@HP-Envy [Navajo] $javac -classpath &quot;.:/opt/htmlunit_2.69.0/*&quot;  PropertyOwner.java \nPropertyOwner.java:15: error: cannot find symbol\n            WebView webView = new WebView(); \n            ^\n  symbol:   class WebView\n  location: class PropertyOwner\nPropertyOwner.java:15: error: cannot find symbol\n            WebView webView = new WebView(); \n                                  ^\n  symbol:   class WebView\n  location: class PropertyOwner\n2 errors\n</code></pre>\n<p>So, it seems like that solution is outdated. The 2.69.0 release of HtmlUnit was released January 5, 2023.</p>\n<p>Before that. I had tried 2.47.1 release of HtmlUnit, which was released about two years ago. With the same two problems described above: failure to preserve line breaks in the first version of the code, and not finding the symbol WebView in the second version of the code.</p>\n<p>What do I need to change in order to get the three separate strings that I want?</p>\n"},{"tags":["java","parsing","datetime-format","date-parsing","datetimeformatter"],"answers":[{"comments":[{"owner":{"account_id":1789130,"reputation":859,"user_id":1629924,"accept_rate":50,"display_name":"Chris"},"score":0,"creation_date":1454425978,"post_id":35156952,"comment_id":58032493,"body_markdown":"Thanks for your reply, but I still get an exception with this, when I run a unit test which passes in the above date to this method.\n\nThe exception message is &quot;Text &#39;2015-07-14T11:42:07.000+01:00&#39; could not be parsed at index 23&quot;.\n\nIs this to do with the single quotes you&#39;ve put around the Z? As I didnt think these were needed.","body":"Thanks for your reply, but I still get an exception with this, when I run a unit test which passes in the above date to this method.  The exception message is &quot;Text &#39;2015-07-14T11:42:07.000+01:00&#39; could not be parsed at index 23&quot;.  Is this to do with the single quotes you&#39;ve put around the Z? As I didnt think these were needed."},{"owner":{"account_id":2279106,"reputation":9588,"user_id":2004685,"accept_rate":69,"display_name":"user2004685"},"score":0,"creation_date":1454426894,"post_id":35156952,"comment_id":58033151,"body_markdown":"Sorry `Z` should be without single quotes. Also use small `z` as you are separating `hh` &amp; `mm` with `:` in `+01:00`.","body":"Sorry <code>Z</code> should be without single quotes. Also use small <code>z</code> as you are separating <code>hh</code> &amp; <code>mm</code> with <code>:</code> in <code>+01:00</code>."},{"owner":{"account_id":1789130,"reputation":859,"user_id":1629924,"accept_rate":50,"display_name":"Chris"},"score":0,"creation_date":1454431005,"post_id":35156952,"comment_id":58036105,"body_markdown":"Ah, thanks. :)\nI got it to work in the end by using &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX&quot;. Don&#39;t really understand the difference between X, Z and z though. It worked with three Xs but not one X. Also dont get why three Xs worked, since there are more than 3 characters there.","body":"Ah, thanks. :) I got it to work in the end by using &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX&quot;. Don&#39;t really understand the difference between X, Z and z though. It worked with three Xs but not one X. Also dont get why three Xs worked, since there are more than 3 characters there."},{"owner":{"account_id":2279106,"reputation":9588,"user_id":2004685,"accept_rate":69,"display_name":"user2004685"},"score":0,"creation_date":1454433045,"post_id":35156952,"comment_id":58037534,"body_markdown":"You are right to use `XXX` since it is `11:42:12.000+01:00`. I have added the description from JAVADoc in the solution.","body":"You are right to use <code>XXX</code> since it is <code>11:42:12.000+01:00</code>. I have added the description from JAVADoc in the solution."}],"tags":[],"owner":{"account_id":2279106,"reputation":9588,"user_id":2004685,"accept_rate":69,"display_name":"user2004685"},"comment_count":4,"down_vote_count":1,"up_vote_count":13,"is_accepted":true,"score":12,"last_activity_date":1616153829,"creation_date":1454425507,"answer_id":35156952,"question_id":35156809,"body_markdown":"It should be \r\n\r\n    DateTimeFormatter f = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX&quot;);\r\n\r\n    //or\r\n\r\n    DateTimeFormatter f = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSz&quot;);\r\n\r\n\r\ninstead of \r\n\r\n    DateTimeFormatter f = DateTimeFormatter.ofPattern(&quot;yyyy-MM-ddTHH:mm:ss.SSSZ&quot;);\r\n\r\nFrom JAVADoc:\r\n\r\n&gt; Offset X and x: This formats the offset based on the number of pattern\r\n&gt; letters. One letter outputs just the hour, such as &#39;+01&#39;, unless the\r\n&gt; minute is non-zero in which case the minute is also output, such as\r\n&gt; &#39;+0130&#39;. Two letters outputs the hour and minute, without a colon,\r\n&gt; such as &#39;+0130&#39;. Three letters outputs the hour and minute, with a\r\n&gt; colon, such as &#39;+01:30&#39;. Four letters outputs the hour and minute and\r\n&gt; optional second, without a colon, such as &#39;+013015&#39;. Five letters\r\n&gt; outputs the hour and minute and optional second, with a colon, such as\r\n&gt; &#39;+01:30:15&#39;. Six or more letters throws IllegalArgumentException.\r\n&gt; Pattern letter &#39;X&#39; (upper case) will output &#39;Z&#39; when the offset to be\r\n&gt; output would be zero, whereas pattern letter &#39;x&#39; (lower case) will\r\n&gt; output &#39;+00&#39;, &#39;+0000&#39;, or &#39;+00:00&#39;.","title":"Parsing a date using DateTimeFormatter ofPattern","body":"<p>It should be</p>\n<pre><code>DateTimeFormatter f = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss.SSSXXX&quot;);\n\n//or\n\nDateTimeFormatter f = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss.SSSz&quot;);\n</code></pre>\n<p>instead of</p>\n<pre><code>DateTimeFormatter f = DateTimeFormatter.ofPattern(&quot;yyyy-MM-ddTHH:mm:ss.SSSZ&quot;);\n</code></pre>\n<p>From JAVADoc:</p>\n<blockquote>\n<p>Offset X and x: This formats the offset based on the number of pattern\nletters. One letter outputs just the hour, such as '+01', unless the\nminute is non-zero in which case the minute is also output, such as\n'+0130'. Two letters outputs the hour and minute, without a colon,\nsuch as '+0130'. Three letters outputs the hour and minute, with a\ncolon, such as '+01:30'. Four letters outputs the hour and minute and\noptional second, without a colon, such as '+013015'. Five letters\noutputs the hour and minute and optional second, with a colon, such as\n'+01:30:15'. Six or more letters throws IllegalArgumentException.\nPattern letter 'X' (upper case) will output 'Z' when the offset to be\noutput would be zero, whereas pattern letter 'x' (lower case) will\noutput '+00', '+0000', or '+00:00'.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1454436874,"creation_date":1454436874,"answer_id":35160916,"question_id":35156809,"body_markdown":"Both &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZZZZZ&quot; and &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSVV&quot; would work. Note that 5 Zs work but no less","title":"Parsing a date using DateTimeFormatter ofPattern","body":"<p>Both \"yyyy-MM-dd'T'HH:mm:ss.SSSZZZZZ\" and \"yyyy-MM-dd'T'HH:mm:ss.SSSVV\" would work. Note that 5 Zs work but no less</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673480020,"creation_date":1655222867,"answer_id":72620173,"question_id":35156809,"body_markdown":"# tl;dr\r\n\r\n    OffsetDateTime.parse( &quot;2015-07-14T11:42:12.000+01:00&quot; )  // No pattern needed. \r\n\r\n# No formatting pattern needed\r\n\r\nYour input string complies with the ISO 8601 standard for date-time formats.\r\n\r\nThe *java.time* classes use ISO 8601 formats by default when parsing/generating text. So no need for you to define a formatting pattern.\r\n\r\n    OffsetDateTime odt = OffsetDateTime.parse( &quot;2015-07-14T11:42:12.000+01:00&quot; ) ;","title":"Parsing a date using DateTimeFormatter ofPattern","body":"<h1>tl;dr</h1>\n<pre><code>OffsetDateTime.parse( &quot;2015-07-14T11:42:12.000+01:00&quot; )  // No pattern needed. \n</code></pre>\n<h1>No formatting pattern needed</h1>\n<p>Your input string complies with the ISO 8601 standard for date-time formats.</p>\n<p>The <em>java.time</em> classes use ISO 8601 formats by default when parsing/generating text. So no need for you to define a formatting pattern.</p>\n<pre><code>OffsetDateTime odt = OffsetDateTime.parse( &quot;2015-07-14T11:42:12.000+01:00&quot; ) ;\n</code></pre>\n"}],"owner":{"account_id":1789130,"reputation":859,"user_id":1629924,"accept_rate":50,"display_name":"Chris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37786,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":35156952,"answer_count":3,"score":11,"last_activity_date":1673480020,"creation_date":1454425101,"question_id":35156809,"body_markdown":"I&#39;m trying to parse a string containing a date and time using the `java.time.format.DateTimeFormatter` (my ultimate goal is to get the date from this string into a `java.time.LocalDate`).\r\n\r\nI keep getting DateTimeParseExceptions when trying to parse the date. Can someone help please?\r\n\r\nThe date is in the format &quot;2015-07-14T11:42:12.000+01:00&quot;.\r\n\r\n    DateTimeFormatter f = DateTimeFormatter.ofPattern(&quot;yyyy-MM-ddTHH:mm:ss.SSSZ&quot;);\r\n    LocalDateTime temp = LocalDateTime.ofInstant(Instant.from(f.parse(this.dateCreated)), \r\n                     ZoneId.systemDefault());\r\n    LocalDate localDate = temp.toLocalDate();\r\n\r\n\r\nI&#39;ve tried different variations in the ofPattern, such as trying to escape the T by surrounding it with single quotes (as done above), and doing the same with the . and I&#39;ve tried escaping both at the same time.\r\n\r\nDo the colons need escaping too?\r\n\r\nAppreciate any help with this. ","title":"Parsing a date using DateTimeFormatter ofPattern","body":"<p>I'm trying to parse a string containing a date and time using the <code>java.time.format.DateTimeFormatter</code> (my ultimate goal is to get the date from this string into a <code>java.time.LocalDate</code>).</p>\n\n<p>I keep getting DateTimeParseExceptions when trying to parse the date. Can someone help please?</p>\n\n<p>The date is in the format \"2015-07-14T11:42:12.000+01:00\".</p>\n\n<pre><code>DateTimeFormatter f = DateTimeFormatter.ofPattern(\"yyyy-MM-ddTHH:mm:ss.SSSZ\");\nLocalDateTime temp = LocalDateTime.ofInstant(Instant.from(f.parse(this.dateCreated)), \n                 ZoneId.systemDefault());\nLocalDate localDate = temp.toLocalDate();\n</code></pre>\n\n<p>I've tried different variations in the ofPattern, such as trying to escape the T by surrounding it with single quotes (as done above), and doing the same with the . and I've tried escaping both at the same time.</p>\n\n<p>Do the colons need escaping too?</p>\n\n<p>Appreciate any help with this. </p>\n"},{"tags":["java","text-parsing"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1673480088,"post_id":75090090,"comment_id":132511637,"body_markdown":"By the way https://en.wikipedia.org/wiki/ANTLR","body":"By the way <a href=\"https://en.wikipedia.org/wiki/ANTLR\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/ANTLR</a>"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1673481126,"post_id":75090090,"comment_id":132511802,"body_markdown":"Also consider [`StreamTokenizer`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/StreamTokenizer.html).","body":"Also consider <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/StreamTokenizer.html\" rel=\"nofollow noreferrer\"><code>StreamTokenizer</code></a>."}],"owner":{"account_id":26102346,"reputation":3,"user_id":19797576,"display_name":"Gor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673479905,"creation_date":1673479905,"question_id":75090090,"body_markdown":"I am trying to write a parser of a programming language and I need to escape all whitespaces, newlines and comments(of style /* and //) of a file and to stop just before the token. Assume that the file does not have any syntax error.\r\n\r\nThis is what I have tried, but I do not think it is the most simple solution. Any help is appreciated.\r\n\r\n- ```reader.charPrefetch()``` gets one character but does not move the reading head in file\r\n- ```reader.charPrefetch(2)``` gets the 2nd character counting from reading head\r\n\r\n```\r\nprivate void passCommentsAndWhitespaces(){\r\n        char endOfFileChar = (char) 65535;\r\n        String twoCharSeq = &quot;&quot; + reader.charPrefetch() + reader.charPrefetch(2);\r\n\r\n        if(twoCharSeq.charAt(0) == endOfFileChar){\r\n            return;\r\n        }\r\n\r\n        while (twoCharSeq.charAt(0) == &#39; &#39; || twoCharSeq.charAt(0) == &#39;\\n&#39; ||\r\n                twoCharSeq.equals(&quot;//&quot;) || twoCharSeq.equals(&quot;/*&quot;)){\r\n            if(twoCharSeq.equals(&quot;/*&quot;)){\r\n                twoCharSeq = &quot;&quot; + reader.readChar(3) + reader.charPrefetch();\r\n                while (!twoCharSeq.equals(&quot;*/&quot;)){\r\n                    twoCharSeq = &quot;&quot; + reader.readChar() + reader.charPrefetch();\r\n                }\r\n                reader.readChar();\r\n            }else if(twoCharSeq.equals(&quot;//&quot;)){\r\n                reader.readLine();\r\n            }else {\r\n                twoCharSeq = &quot;&quot; + reader.readChar() + reader.charPrefetch();\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\n","title":"How to write a Java method which escapes all the whitespaces, newline characters and comments?","body":"<p>I am trying to write a parser of a programming language and I need to escape all whitespaces, newlines and comments(of style /* and //) of a file and to stop just before the token. Assume that the file does not have any syntax error.</p>\n<p>This is what I have tried, but I do not think it is the most simple solution. Any help is appreciated.</p>\n<ul>\n<li><code>reader.charPrefetch()</code> gets one character but does not move the reading head in file</li>\n<li><code>reader.charPrefetch(2)</code> gets the 2nd character counting from reading head</li>\n</ul>\n<pre><code>private void passCommentsAndWhitespaces(){\n        char endOfFileChar = (char) 65535;\n        String twoCharSeq = &quot;&quot; + reader.charPrefetch() + reader.charPrefetch(2);\n\n        if(twoCharSeq.charAt(0) == endOfFileChar){\n            return;\n        }\n\n        while (twoCharSeq.charAt(0) == ' ' || twoCharSeq.charAt(0) == '\\n' ||\n                twoCharSeq.equals(&quot;//&quot;) || twoCharSeq.equals(&quot;/*&quot;)){\n            if(twoCharSeq.equals(&quot;/*&quot;)){\n                twoCharSeq = &quot;&quot; + reader.readChar(3) + reader.charPrefetch();\n                while (!twoCharSeq.equals(&quot;*/&quot;)){\n                    twoCharSeq = &quot;&quot; + reader.readChar() + reader.charPrefetch();\n                }\n                reader.readChar();\n            }else if(twoCharSeq.equals(&quot;//&quot;)){\n                reader.readLine();\n            }else {\n                twoCharSeq = &quot;&quot; + reader.readChar() + reader.charPrefetch();\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","jackson-databind"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1673478590,"post_id":75089932,"comment_id":132511367,"body_markdown":"Your data structure has a `List`, but there&#39;s no corresponding JSON array.","body":"Your data structure has a <code>List</code>, but there&#39;s no corresponding JSON array."},{"owner":{"account_id":12702848,"reputation":13,"user_id":9229050,"display_name":"java_learner"},"score":0,"creation_date":1673479309,"post_id":75089932,"comment_id":132511479,"body_markdown":"If I am understanding it correctly then resources is one key, and it has multiple values. And each value of it is again of map type.","body":"If I am understanding it correctly then resources is one key, and it has multiple values. And each value of it is again of map type."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1673479929,"post_id":75089932,"comment_id":132511603,"body_markdown":"`resources` would be a map containing one value, which is also a map containing 2 values, each being another map of 1 value.","body":"<code>resources</code> would be a map containing one value, which is also a map containing 2 values, each being another map of 1 value."}],"answers":[{"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1673478925,"post_id":75089995,"comment_id":132511423,"body_markdown":"I think you need another nested map.","body":"I think you need another nested map."}],"tags":[],"owner":{"account_id":7055162,"reputation":870,"user_id":5517820,"accept_rate":68,"display_name":"MehdiB"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1673479535,"creation_date":1673478893,"answer_id":75089995,"question_id":75089932,"body_markdown":"try this something like this:\r\n```\r\n  @Test\r\n  public void testJackson() throws JsonProcessingException {\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n    String json = &quot;{\\&quot;resources\\&quot;:{\\&quot;foo\\&quot;:{\\&quot;value\\&quot;:\\&quot;test\\&quot;},\\&quot;bar\\&quot;:{\\&quot;value\\&quot;:\\&quot;test\\&quot;}}}&quot;;\r\n    HashMap&lt;String, HashMap&lt;String, HashMap&lt;String, String&gt;&gt;&gt; mapped = objectMapper.readValue(\r\n            json,\r\n            new TypeReference&lt;&gt;() {\r\n              @Override\r\n              public Type getType() {\r\n                return super.getType();\r\n              }\r\n            });\r\n    assertNotNull(mapped);\r\n  }\r\n}\r\n```","title":"Query on Java Jackson Implementation","body":"<p>try this something like this:</p>\n<pre><code>  @Test\n  public void testJackson() throws JsonProcessingException {\n    ObjectMapper objectMapper = new ObjectMapper();\n\n    String json = &quot;{\\&quot;resources\\&quot;:{\\&quot;foo\\&quot;:{\\&quot;value\\&quot;:\\&quot;test\\&quot;},\\&quot;bar\\&quot;:{\\&quot;value\\&quot;:\\&quot;test\\&quot;}}}&quot;;\n    HashMap&lt;String, HashMap&lt;String, HashMap&lt;String, String&gt;&gt;&gt; mapped = objectMapper.readValue(\n            json,\n            new TypeReference&lt;&gt;() {\n              @Override\n              public Type getType() {\n                return super.getType();\n              }\n            });\n    assertNotNull(mapped);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":12702848,"reputation":13,"user_id":9229050,"display_name":"java_learner"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75089995,"answer_count":1,"score":1,"last_activity_date":1673479535,"creation_date":1673478317,"question_id":75089932,"body_markdown":"I have a json file in below format:\r\n```\r\n{   \r\n   &quot;resources&quot; : {     \r\n        &quot;foo&quot; : {       \r\n          &quot;value&quot; : &quot;test&quot;      \r\n         },     \r\n        &quot;bar&quot; : {       \r\n          &quot;value&quot; : &quot;test&quot;     \r\n         }    \r\n   } \r\n}\r\n```\r\n\r\nAnd, I have created it&#39;s JAVA Class as below:\r\n```\r\npackage org.example.model;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\n\r\npublic class JsonTwoJavaFileModel {\r\n   @JsonProperty(&quot;resources&quot;)\r\n   private HashMap&lt;String, HashMap&lt;String, List&lt;String&gt;&gt;&gt;  stringListHashMap;\r\n}\r\n```\r\n\r\nHowever, getting below error while reading it:\r\n```\r\n`Exception in thread &quot;main&quot; com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `java.util.ArrayList` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value (&#39;test&#39;)  at [Source: (File); line: 4, column: 17] (through reference chain: org.example.model.JsonTwoJavaFileModel[&quot;resources&quot;]-&gt;java.util.HashMap[&quot;offer1&quot;]-&gt;java.util.HashMap[&quot;value&quot;])`\r\n```\r\n\r\nNot sure, how to create Java class for such type of nested JSONs. Any pointer to solve it?\r\n\r\nAlso tried creating Java Class like below:\r\n\r\n    `package org.example.model;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonProperty;    \r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    \r\n    public class JsonTwoJavaFileModel {\r\n       @JsonProperty(&quot;resources&quot;)\r\n       private HashMap&lt;List&lt;String&gt;, HashMap&lt;String, List&lt;String&gt;&gt;&gt; stringListHashMap;\r\n    }`\r\n\r\nBut no luck with both approach.","title":"Query on Java Jackson Implementation","body":"<p>I have a json file in below format:</p>\n<pre><code>{   \n   &quot;resources&quot; : {     \n        &quot;foo&quot; : {       \n          &quot;value&quot; : &quot;test&quot;      \n         },     \n        &quot;bar&quot; : {       \n          &quot;value&quot; : &quot;test&quot;     \n         }    \n   } \n}\n</code></pre>\n<p>And, I have created it's JAVA Class as below:</p>\n<pre><code>package org.example.model;\n\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport java.util.HashMap;\nimport java.util.List;\n\npublic class JsonTwoJavaFileModel {\n   @JsonProperty(&quot;resources&quot;)\n   private HashMap&lt;String, HashMap&lt;String, List&lt;String&gt;&gt;&gt;  stringListHashMap;\n}\n</code></pre>\n<p>However, getting below error while reading it:</p>\n<pre><code>`Exception in thread &quot;main&quot; com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `java.util.ArrayList` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('test')  at [Source: (File); line: 4, column: 17] (through reference chain: org.example.model.JsonTwoJavaFileModel[&quot;resources&quot;]-&gt;java.util.HashMap[&quot;offer1&quot;]-&gt;java.util.HashMap[&quot;value&quot;])`\n</code></pre>\n<p>Not sure, how to create Java class for such type of nested JSONs. Any pointer to solve it?</p>\n<p>Also tried creating Java Class like below:</p>\n<pre><code>`package org.example.model;\n\nimport com.fasterxml.jackson.annotation.JsonProperty;    \nimport java.util.HashMap;\nimport java.util.List;\n\npublic class JsonTwoJavaFileModel {\n   @JsonProperty(&quot;resources&quot;)\n   private HashMap&lt;List&lt;String&gt;, HashMap&lt;String, List&lt;String&gt;&gt;&gt; stringListHashMap;\n}`\n</code></pre>\n<p>But no luck with both approach.</p>\n"},{"tags":["java","multithreading","concurrency","real-time","firm-real-time"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":1,"creation_date":1402938298,"post_id":24248699,"comment_id":37455008,"body_markdown":"I&#39;d recommend looking at vert.x: http://vertx.io/","body":"I&#39;d recommend looking at vert.x: <a href=\"http://vertx.io/\" rel=\"nofollow noreferrer\">vertx.io</a>"},{"owner":{"account_id":4620460,"reputation":186,"user_id":3745711,"display_name":"Nova"},"score":0,"creation_date":1402938676,"post_id":24248699,"comment_id":37455167,"body_markdown":"Thank you, I took a look at vertx before and I think it doesn&#39;t suit our needs. We need to find a way to handle messages concurrently to get maximum throughput, so I don&#39;t think asynchronous and non-blocking communications between the server and clients are crucial :D.","body":"Thank you, I took a look at vertx before and I think it doesn&#39;t suit our needs. We need to find a way to handle messages concurrently to get maximum throughput, so I don&#39;t think asynchronous and non-blocking communications between the server and clients are crucial :D."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1402938916,"post_id":24248699,"comment_id":37455273,"body_markdown":"I think it could be worth a look on the server side as well.  I wouldn&#39;t dismiss it out of hand before you&#39;ve tried it out.","body":"I think it could be worth a look on the server side as well.  I wouldn&#39;t dismiss it out of hand before you&#39;ve tried it out."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":2,"creation_date":1402939111,"post_id":24248699,"comment_id":37455359,"body_markdown":"You are performing operations on a number of databases over TCP, none of them are going to be particularly fast compared with say Disruptor or BlockingQueue.  I would focus on how to get the most performance out of your data bases.  BTW none of the database you mention are designed for Real Time, nor is Java, so I would give up on that notion.","body":"You are performing operations on a number of databases over TCP, none of them are going to be particularly fast compared with say Disruptor or BlockingQueue.  I would focus on how to get the most performance out of your data bases.  BTW none of the database you mention are designed for Real Time, nor is Java, so I would give up on that notion."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1402939157,"post_id":24248699,"comment_id":37455380,"body_markdown":"&quot;Does the event-driven architecture really fit our need for a high throughput, firm real-time system&quot;   This bit does, the database not so much, but I assume you can&#39;t work around them.","body":"&quot;Does the event-driven architecture really fit our need for a high throughput, firm real-time system&quot;   This bit does, the database not so much, but I assume you can&#39;t work around them."},{"owner":{"account_id":4620460,"reputation":186,"user_id":3745711,"display_name":"Nova"},"score":0,"creation_date":1402939536,"post_id":24248699,"comment_id":37455562,"body_markdown":"Our in-mem DB act as mostly read-only caches. No direct writes to these DB (they are synced with the Oracle DB after some hours). Because there are many other offline modules which shared the data with the system so we still need to keep the Oracle DB.\nHowever, can you explain why a &quot;naive&quot; multithread approach gives better performance than the &quot;great&quot; LMAX Disruptor framework if the bottleneck is about the DB, not the architecture? :(","body":"Our in-mem DB act as mostly read-only caches. No direct writes to these DB (they are synced with the Oracle DB after some hours). Because there are many other offline modules which shared the data with the system so we still need to keep the Oracle DB. However, can you explain why a &quot;naive&quot; multithread approach gives better performance than the &quot;great&quot; LMAX Disruptor framework if the bottleneck is about the DB, not the architecture? :("},{"owner":{"account_id":4620460,"reputation":186,"user_id":3745711,"display_name":"Nova"},"score":0,"creation_date":1402939819,"post_id":24248699,"comment_id":37455685,"body_markdown":"Could you share some tips to achieve maximum performance with our current DBs?","body":"Could you share some tips to achieve maximum performance with our current DBs?"},{"owner":{"account_id":3700031,"reputation":6378,"user_id":3080094,"display_name":"vanOekel"},"score":0,"creation_date":1402949504,"post_id":24248699,"comment_id":37460683,"body_markdown":"When is the message order important? Steps 1-3 look order-independent, step 4 maybe (if message data is related) and step 5 is ambiguous when several sockets are used (if order needs to be guaranteed message 2 can only be send after message 1 is delivered). An a side-note: the &quot;naive&quot; multithreading approach has worked well for me but is hard to maintain if additional cases need to be supported like &#39;high priority messages&#39; or &#39;message X must be processed after message Y and Z&#39;.","body":"When is the message order important? Steps 1-3 look order-independent, step 4 maybe (if message data is related) and step 5 is ambiguous when several sockets are used (if order needs to be guaranteed message 2 can only be send after message 1 is delivered). An a side-note: the &quot;naive&quot; multithreading approach has worked well for me but is hard to maintain if additional cases need to be supported like &#39;high priority messages&#39; or &#39;message X must be processed after message Y and Z&#39;."},{"owner":{"account_id":4620460,"reputation":186,"user_id":3745711,"display_name":"Nova"},"score":0,"creation_date":1402967716,"post_id":24248699,"comment_id":37466265,"body_markdown":"It is exactly the case you mentioned &quot;message X must be processed after message Y and Z&quot;. Such as for a &quot;voice call&quot;, there&#39;s must be an opening message and a closing message, they need to be processed in order. Steps 1-2 are not order-dependent but the other ones are :(.","body":"It is exactly the case you mentioned &quot;message X must be processed after message Y and Z&quot;. Such as for a &quot;voice call&quot;, there&#39;s must be an opening message and a closing message, they need to be processed in order. Steps 1-2 are not order-dependent but the other ones are :(."},{"owner":{"account_id":1244574,"reputation":13277,"user_id":1206301,"accept_rate":10,"display_name":"Alexei Kaigorodov"},"score":0,"creation_date":1402977801,"post_id":24248699,"comment_id":37468316,"body_markdown":"&quot;message order is important&quot; - but where are the messages? Do you consider results of database queries as messages?","body":"&quot;message order is important&quot; - but where are the messages? Do you consider results of database queries as messages?"},{"owner":{"account_id":4620460,"reputation":186,"user_id":3745711,"display_name":"Nova"},"score":0,"creation_date":1402977974,"post_id":24248699,"comment_id":37468362,"body_markdown":"No, the messages are the input for our system. As i said in the question :D &quot;we are processing telecommunication messages&quot;.","body":"No, the messages are the input for our system. As i said in the question :D &quot;we are processing telecommunication messages&quot;."}],"owner":{"account_id":4620460,"reputation":186,"user_id":3745711,"display_name":"Nova"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":821,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"closed_date":1402974335,"answer_count":0,"score":3,"last_activity_date":1673479385,"creation_date":1402938185,"question_id":24248699,"body_markdown":"I&#39;m working with a &quot;firm&quot; real-time system (the result will be unuseful if served after the deadline) which requires maximum throughput and robustness to load.\r\n\r\nMore details about our system, we are processing telecommunication messages. The messages will go through several step with different concerns. However **the messages order** is very important. The steps are like these:\r\n\r\n 1. Query something from Redis in-memory database\r\n 2. Query something from another relational in-memory database\r\n 3. Some business logic computional processing\r\n 4. Update data into Oracle RDBMS\r\n 5. Send messages to other server through Sockets\r\n\r\nWe are currently setup a system with a distributor and 8 processing units (which runs through the messages sequentially) on only 1 server. We decided to maximize the performance per unit first, before doing horizontal scale.\r\n\r\nI&#39;ve tried several approaches (i&#39;m only passing the messages through the first two steps and some data collecting logic):\r\n\r\n 1. Proactor pattern: by implementing the event-loop and high-level asynchronous API with callbacks by myself (using Java API). However, the performance is not as expected, the messages are not in order.\r\n 2. SEDA: the overall performance is good when i&#39;m using a thread-pool for each stage. However, to preserve the message order, I tried using only a thread per stage, the performance is even worse than the Proactor pattern.\r\n 3. LMAX Disruptor: the &quot;default&quot; batching characteristic brings both the latency and throughput down because I find it a bit hard to apply batching to our current business logic. When I avoid using batching, the performance is ok now, however, it&#39;s only about 1.5x faster than the sequential approach (even i&#39;m using a thread for each handler, so it&#39;s 3 thread)\r\n 4. A &quot;naive&quot; multithreading approach: using a BlockingQueue + some worker threads, the performance is better than I expected. 1.75-2X faster than the LMAX Disruptor approach. I find it a little bit counter-logic here...\r\n\r\nSo, have i done anything wrong with my approaches above? Does the event-driven architecture really fit our need for a high throughput, firm real-time system?\r\n\r\nP/S: It&#39;s my first time asking a question on Stackoverflow, so please give me advices if there&#39;re any problems with my questions :D. Thanks :D.","title":"Concurrency framework for maximum throughput in real-time system","body":"<p>I'm working with a \"firm\" real-time system (the result will be unuseful if served after the deadline) which requires maximum throughput and robustness to load.</p>\n\n<p>More details about our system, we are processing telecommunication messages. The messages will go through several step with different concerns. However <strong>the messages order</strong> is very important. The steps are like these:</p>\n\n<ol>\n<li>Query something from Redis in-memory database</li>\n<li>Query something from another relational in-memory database</li>\n<li>Some business logic computional processing</li>\n<li>Update data into Oracle RDBMS</li>\n<li>Send messages to other server through Sockets</li>\n</ol>\n\n<p>We are currently setup a system with a distributor and 8 processing units (which runs through the messages sequentially) on only 1 server. We decided to maximize the performance per unit first, before doing horizontal scale.</p>\n\n<p>I've tried several approaches (i'm only passing the messages through the first two steps and some data collecting logic):</p>\n\n<ol>\n<li>Proactor pattern: by implementing the event-loop and high-level asynchronous API with callbacks by myself (using Java API). However, the performance is not as expected, the messages are not in order.</li>\n<li>SEDA: the overall performance is good when i'm using a thread-pool for each stage. However, to preserve the message order, I tried using only a thread per stage, the performance is even worse than the Proactor pattern.</li>\n<li>LMAX Disruptor: the \"default\" batching characteristic brings both the latency and throughput down because I find it a bit hard to apply batching to our current business logic. When I avoid using batching, the performance is ok now, however, it's only about 1.5x faster than the sequential approach (even i'm using a thread for each handler, so it's 3 thread)</li>\n<li>A \"naive\" multithreading approach: using a BlockingQueue + some worker threads, the performance is better than I expected. 1.75-2X faster than the LMAX Disruptor approach. I find it a little bit counter-logic here...</li>\n</ol>\n\n<p>So, have i done anything wrong with my approaches above? Does the event-driven architecture really fit our need for a high throughput, firm real-time system?</p>\n\n<p>P/S: It's my first time asking a question on Stackoverflow, so please give me advices if there're any problems with my questions :D. Thanks :D.</p>\n"},{"tags":["java","android","oauth-2.0","gmail-api"],"answers":[{"comments":[{"owner":{"account_id":426166,"reputation":4019,"user_id":807223,"accept_rate":72,"display_name":"jpo"},"score":0,"creation_date":1502366849,"post_id":40574476,"comment_id":78184826,"body_markdown":"Do you mean you delete your scopes from admin console and re-add them? I am facing the same issue.","body":"Do you mean you delete your scopes from admin console and re-add them? I am facing the same issue."}],"tags":[],"owner":{"account_id":9455225,"reputation":55,"user_id":7030744,"display_name":"Green"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1479044475,"creation_date":1479044475,"answer_id":40574476,"question_id":40566099,"body_markdown":"After getting permissions to device Contacts you have to approve chosen copes. So first time I approved metadata scope. Next times when I needed to approve readonly scope, there was no window to do it. So you need to delete scopes permissions from google account and reinstall app. ","title":"Gmail api scope &amp; format mismatch","body":"<p>After getting permissions to device Contacts you have to approve chosen copes. So first time I approved metadata scope. Next times when I needed to approve readonly scope, there was no window to do it. So you need to delete scopes permissions from google account and reinstall app. </p>\n"},{"comments":[{"owner":{"account_id":2574042,"reputation":3909,"user_id":2232151,"accept_rate":61,"display_name":"R&#225;pli Andr&#225;s"},"score":0,"creation_date":1543226936,"post_id":40605896,"comment_id":93827399,"body_markdown":"What are the exact permissions to check? I can&#39;t find a working combination.","body":"What are the exact permissions to check? I can&#39;t find a working combination."}],"tags":[],"owner":{"account_id":5194024,"reputation":456,"user_id":4155978,"display_name":"Nhan"},"comment_count":1,"down_vote_count":2,"up_vote_count":10,"is_accepted":true,"score":8,"last_activity_date":1479201060,"creation_date":1479201060,"answer_id":40605896,"question_id":40566099,"body_markdown":"This is exactly my problem these day when playing with Google APIs Explorer. And here is what I did to solve it:\r\n\r\n 1. Go to https://security.google.com/settings/security/permissions\r\n 2. Choose the app you are playing with, mine is Google APIs Explorer\r\n 3. Click Remove &gt; OK\r\n 4. Next time, just request exactly which permissions you need.\r\n\r\nHope it help :)","title":"Gmail api scope &amp; format mismatch","body":"<p>This is exactly my problem these day when playing with Google APIs Explorer. And here is what I did to solve it:</p>\n\n<ol>\n<li>Go to <a href=\"https://security.google.com/settings/security/permissions\" rel=\"noreferrer\">https://security.google.com/settings/security/permissions</a></li>\n<li>Choose the app you are playing with, mine is Google APIs Explorer</li>\n<li>Click Remove > OK</li>\n<li>Next time, just request exactly which permissions you need.</li>\n</ol>\n\n<p>Hope it help :)</p>\n"},{"comments":[{"owner":{"account_id":19768132,"reputation":1979,"user_id":14475651,"display_name":"Kayden van Rijn"},"score":0,"creation_date":1613193808,"post_id":45937872,"comment_id":117006596,"body_markdown":"Still works in 2020, this should be the accepted answer.. thanks!","body":"Still works in 2020, this should be the accepted answer.. thanks!"}],"tags":[],"owner":{"account_id":11061521,"reputation":71,"user_id":8122593,"display_name":"Mayank Beri"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1504005753,"creation_date":1504005753,"answer_id":45937872,"question_id":40566099,"body_markdown":"you should remove the &quot;metadata&quot; scope.\r\n\r\ncheck app permissions to make sure you have only these 3 scopes:\r\n\r\n 1. https://mail.google.com/\r\n 2. gmail.modify\r\n 3. readonly\r\n, or else remove the permissions and add them again.","title":"Gmail api scope &amp; format mismatch","body":"<p>you should remove the \"metadata\" scope.</p>\n\n<p>check app permissions to make sure you have only these 3 scopes:</p>\n\n<ol>\n<li><a href=\"https://mail.google.com/\" rel=\"noreferrer\">https://mail.google.com/</a></li>\n<li>gmail.modify</li>\n<li>readonly\n, or else remove the permissions and add them again.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":431025,"reputation":779,"user_id":814804,"accept_rate":60,"display_name":"Denis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673478442,"creation_date":1673477814,"answer_id":75089875,"question_id":40566099,"body_markdown":"got the same error when a service account which i was using had only these scopes ( [Security &gt; API Controls &gt; Domain-wide Delegation][1] ): \r\n - `https://www.googleapis.com/auth/gmail.readonly`\r\n - `https://www.googleapis.com/auth/gmail.metadata`\r\n\r\nand addition of \r\n - `https://mail.google.com/`   \r\n\r\nsolved the issue \r\n\r\n\r\n  [1]: https://admin.google.com/ac/owl/domainwidedelegation","title":"Gmail api scope &amp; format mismatch","body":"<p>got the same error when a service account which i was using had only these scopes ( <a href=\"https://admin.google.com/ac/owl/domainwidedelegation\" rel=\"nofollow noreferrer\">Security &gt; API Controls &gt; Domain-wide Delegation</a> ):</p>\n<ul>\n<li><code>https://www.googleapis.com/auth/gmail.readonly</code></li>\n<li><code>https://www.googleapis.com/auth/gmail.metadata</code></li>\n</ul>\n<p>and addition of</p>\n<ul>\n<li><code>https://mail.google.com/</code></li>\n</ul>\n<p>solved the issue</p>\n"}],"owner":{"account_id":9455225,"reputation":55,"user_id":7030744,"display_name":"Green"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5198,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":40605896,"answer_count":4,"score":5,"last_activity_date":1673478442,"creation_date":1478974385,"question_id":40566099,"body_markdown":"I&#39;m trying to write tiny gmail client for android as training. \r\nI took gmail api guide sample from &lt;https://developers.google.com/gmail/api/quickstart/android&gt; modified it a little to get messages with headers &amp; body by threads. I set scopes to `GmailScopes.Gmail_modify` and edited main request function as this: \r\n\r\n    private List&lt;String&gt; getDataFromApi() throws IOException {\r\n                // Get the labels in the user&#39;s account.\r\n                String user = &quot;me&quot;;\r\n                List&lt;String&gt; labels = new ArrayList&lt;String&gt;();\r\n                ListLabelsResponse listResponse =\r\n                        mService.users().labels().list(user).execute();\r\n                ListThreadsResponse listThreads = null;\r\n                try {\r\n                 listThreads = mService.users().threads().list(user).execute();\r\n                } catch (IOException ioex){\r\n                    Log.e(LOG_TAG, &quot;First: &quot; + ioex.toString());\r\n                }\r\n    \r\n                for (Thread thread : listThreads.getThreads()) {\r\n                    try {\r\n                        thread = mService.users().threads().get(user, thread.getId()).setFormat(&quot;full&quot;).execute();\r\n                    } catch (IOException ioex){\r\n                        Log.e(LOG_TAG, &quot;Second: &quot; + ioex.toString());\r\n                    }\r\n                    for(Message message : thread.getMessages()){\r\n                        labels.add(message.getId());\r\n                    }\r\n    \r\n                }\r\n                return labels;\r\n            }\r\n\r\n\r\nBut I always get \r\n\r\n    Second: GoogleJsonResponseException: 403 Forbidden            {\r\n                                                                                 &quot;code&quot; : 403,\r\n                                                                                 &quot;errors&quot; : [ {\r\n                                                                                   &quot;domain&quot; : &quot;global&quot;,\r\n                                                                                   &quot;message&quot; : &quot;Metadata scope doesn&#39;t allow format FULL&quot;,\r\n                                                                                   &quot;reason&quot; : &quot;forbidden&quot;\r\n                                                                                 } ],\r\n                                                                                 &quot;message&quot; : &quot;Metadata scope doesn&#39;t allow format FULL&quot;\r\n                                                                               }\r\n\r\nI tried different scopes configurations but seems like service scope is always set to `GmailScopes.GMAIL_METADATA`\r\n","title":"Gmail api scope &amp; format mismatch","body":"<p>I'm trying to write tiny gmail client for android as training. \nI took gmail api guide sample from <a href=\"https://developers.google.com/gmail/api/quickstart/android\" rel=\"noreferrer\">https://developers.google.com/gmail/api/quickstart/android</a> modified it a little to get messages with headers &amp; body by threads. I set scopes to <code>GmailScopes.Gmail_modify</code> and edited main request function as this: </p>\n\n<pre><code>private List&lt;String&gt; getDataFromApi() throws IOException {\n            // Get the labels in the user's account.\n            String user = \"me\";\n            List&lt;String&gt; labels = new ArrayList&lt;String&gt;();\n            ListLabelsResponse listResponse =\n                    mService.users().labels().list(user).execute();\n            ListThreadsResponse listThreads = null;\n            try {\n             listThreads = mService.users().threads().list(user).execute();\n            } catch (IOException ioex){\n                Log.e(LOG_TAG, \"First: \" + ioex.toString());\n            }\n\n            for (Thread thread : listThreads.getThreads()) {\n                try {\n                    thread = mService.users().threads().get(user, thread.getId()).setFormat(\"full\").execute();\n                } catch (IOException ioex){\n                    Log.e(LOG_TAG, \"Second: \" + ioex.toString());\n                }\n                for(Message message : thread.getMessages()){\n                    labels.add(message.getId());\n                }\n\n            }\n            return labels;\n        }\n</code></pre>\n\n<p>But I always get </p>\n\n<pre><code>Second: GoogleJsonResponseException: 403 Forbidden            {\n                                                                             \"code\" : 403,\n                                                                             \"errors\" : [ {\n                                                                               \"domain\" : \"global\",\n                                                                               \"message\" : \"Metadata scope doesn't allow format FULL\",\n                                                                               \"reason\" : \"forbidden\"\n                                                                             } ],\n                                                                             \"message\" : \"Metadata scope doesn't allow format FULL\"\n                                                                           }\n</code></pre>\n\n<p>I tried different scopes configurations but seems like service scope is always set to <code>GmailScopes.GMAIL_METADATA</code></p>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"score":0,"creation_date":1673362694,"post_id":75071593,"comment_id":132478574,"body_markdown":"what exactly is the problem you are facing?","body":"what exactly is the problem you are facing?"},{"owner":{"account_id":24420387,"reputation":31,"user_id":18346716,"display_name":"Michelle"},"score":0,"creation_date":1673363436,"post_id":75071593,"comment_id":132478820,"body_markdown":"I want it to speak out the current  time in every hour and stop until next hour, but it continuouly speaking without stop in every second.","body":"I want it to speak out the current  time in every hour and stop until next hour, but it continuouly speaking without stop in every second."},{"owner":{"account_id":118793,"reputation":1661,"user_id":4020610,"display_name":"Lohmar ASHAR"},"score":0,"creation_date":1673476551,"post_id":75071593,"comment_id":132510988,"body_markdown":"Why are you not checking the seconds !? ... does it go every second &quot;forever&quot; or only for the first minute ?! &#39;cause if the thing runs every second and you only check the minutes ... it the conditions would be true eache and every second for the first minute.","body":"Why are you not checking the seconds !? ... does it go every second &quot;forever&quot; or only for the first minute ?! &#39;cause if the thing runs every second and you only check the minutes ... it the conditions would be true eache and every second for the first minute."},{"owner":{"account_id":118793,"reputation":1661,"user_id":4020610,"display_name":"Lohmar ASHAR"},"score":0,"creation_date":1673476871,"post_id":75071593,"comment_id":132511049,"body_markdown":"extra:  \n - no need to use `00`, the minute is a number (whatever you declared it `int` ...) the `00` might work but it&#39;s confusing :). \n - your `if`s are funny ... you have a &quot;chain&quot; of `if-else if`s and you just add an extra `if` ... although it gets the job done, it&#39;s wasteful &#39;cause it wil get checked everytime even if one of the conditions before was met. Also ... you don&#39;t have to check for each and every hour ... you can add/concatenate it to your string.","body":"extra:    - no need to use <code>00</code>, the minute is a number (whatever you declared it <code>int</code> ...) the <code>00</code> might work but it&#39;s confusing :).   - your <code>if</code>s are funny ... you have a &quot;chain&quot; of <code>if-else if</code>s and you just add an extra <code>if</code> ... although it gets the job done, it&#39;s wasteful &#39;cause it wil get checked everytime even if one of the conditions before was met. Also ... you don&#39;t have to check for each and every hour ... you can add/concatenate it to your string."}],"answers":[{"comments":[{"owner":{"account_id":24420387,"reputation":31,"user_id":18346716,"display_name":"Michelle"},"score":0,"creation_date":1673365895,"post_id":75072328,"comment_id":132479826,"body_markdown":"Please I don&#39;t know how to do it with JobScheduler, please help me out.","body":"Please I don&#39;t know how to do it with JobScheduler, please help me out."},{"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"score":0,"creation_date":1673370048,"post_id":75072328,"comment_id":132481430,"body_markdown":"see this thread for example https://stackoverflow.com/questions/48761568/android-scheduling-job-every-hour-forever","body":"see this thread for example <a href=\"https://stackoverflow.com/questions/48761568/android-scheduling-job-every-hour-forever\" title=\"android scheduling job every hour forever\">stackoverflow.com/questions/48761568/&hellip;</a>"}],"tags":[],"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673365098,"creation_date":1673365098,"answer_id":75072328,"question_id":75071593,"body_markdown":"I am afraid you created an infinite loop. You created the `Runnable` and submitted it to the queue `handler.post(runnable);`. Then inside the `run()` method you submit it with 1 second delay on with `handler.postDelayed(this, 1000);`. \r\n\r\nThis is why it&#39;s triggered every second. What time does the `time_textView` show?\r\n\r\nThere are better ways how to run scheduled tasks, check on `JobScheduler` for example","title":"How to build Time Speaking clock","body":"<p>I am afraid you created an infinite loop. You created the <code>Runnable</code> and submitted it to the queue <code>handler.post(runnable);</code>. Then inside the <code>run()</code> method you submit it with 1 second delay on with <code>handler.postDelayed(this, 1000);</code>.</p>\n<p>This is why it's triggered every second. What time does the <code>time_textView</code> show?</p>\n<p>There are better ways how to run scheduled tasks, check on <code>JobScheduler</code> for example</p>\n"},{"tags":[],"owner":{"account_id":118793,"reputation":1661,"user_id":4020610,"display_name":"Lohmar ASHAR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673478399,"creation_date":1673478399,"answer_id":75089942,"question_id":75071593,"body_markdown":"I&#39;m not sure if this is &quot;the right way&quot; to do it, but for the sake of &quot;code sanity&quot; this would be my approach (posting only the modified code):\r\n\r\n    ... \r\n\r\n    // we move this here, as there&#39;s no need to initialize it every time\r\n    final SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;h:mm:ss&quot;, Locale.getDefault());\r\n\r\n    final Handler handler = new Handler();\r\n    final Runnable runnable = new Runnable() {\r\n        @ Override\r\n        public void run() {\r\n\r\n            Calendar calendar = Calendar.getInstance();\r\n            // we save our &quot;now&quot; as a reference so it does not &quot;drift&quot;/&quot;shift&quot; while the code is running\r\n            Date time = calendar.getTime();\r\n            String currentTime = simpleDateFormat.format(time);\r\n            time_textView.setText(currentTime);\r\n            \r\n            // use lowercase for the first letter of variable names otherwise it gets confusing ... \r\n            // for ex. my variable &quot;time&quot; of type Date, if it was named &quot;Time&quot; ... \r\n            //  when I would write &quot;Time.getHours()&quot; to get the hours ... One might think that there&#39;s a \r\n\t\t\t// Class named &quot;Time&quot; (&#39;cause classes usually start with capital letters) and this class has \r\n\t\t\t// some static method &quot;getHours&quot;, so who reads the code is forced to check to see that it was a variable\r\n            hour = time.getHours();\r\n            minute = time.getMinutes();\r\n            seconds = time.getSeconds();\r\n            if (minute == 0 &amp;&amp; seconds == 0) {\r\n                // as said in some comment before, you should only check the minutes and seconds\r\n                // the message string could be a constant and insert the hour value using String.format()\r\n\t\t\t\t// for optimized performance, but my Java skills are too rusty for that right now\r\n                tts.speak(&quot;The time is &quot; + hour + &quot; O&#39;clock&quot;, TextToSpeech.QUEUE_FLUSH, null);\r\n            }\r\n            handler.postDelayed(this, 1000);\r\n\t\t\t// actually here instead of delaying for 1 second ... you could calculate the &quot;remaing time&quot;, how many seconds are\r\n\t\t\t// missing until the next XX:00:00, and delay for that much\r\n            // for extra &quot;precision&quot;, just in case, ... delay only for something like &quot;remaingTime - 10&quot; (or something) and \r\n\t\t\t// if the &quot;remaingTime &lt; 10&quot; delay only for 1 second, this way you can be more sure you&#39;ll not be missing the \r\n            // XX:00:00 ... but do this only if you notice &quot;imprecisions&quot; while using postDelayed with long intervals\r\n\t\t\t// and you care about them\r\n\r\n        }\r\n    };\r\n    handler.post(runnable);\r\n    ... ","title":"How to build Time Speaking clock","body":"<p>I'm not sure if this is &quot;the right way&quot; to do it, but for the sake of &quot;code sanity&quot; this would be my approach (posting only the modified code):</p>\n<pre><code>... \n\n// we move this here, as there's no need to initialize it every time\nfinal SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;h:mm:ss&quot;, Locale.getDefault());\n\nfinal Handler handler = new Handler();\nfinal Runnable runnable = new Runnable() {\n    @ Override\n    public void run() {\n\n        Calendar calendar = Calendar.getInstance();\n        // we save our &quot;now&quot; as a reference so it does not &quot;drift&quot;/&quot;shift&quot; while the code is running\n        Date time = calendar.getTime();\n        String currentTime = simpleDateFormat.format(time);\n        time_textView.setText(currentTime);\n        \n        // use lowercase for the first letter of variable names otherwise it gets confusing ... \n        // for ex. my variable &quot;time&quot; of type Date, if it was named &quot;Time&quot; ... \n        //  when I would write &quot;Time.getHours()&quot; to get the hours ... One might think that there's a \n        // Class named &quot;Time&quot; ('cause classes usually start with capital letters) and this class has \n        // some static method &quot;getHours&quot;, so who reads the code is forced to check to see that it was a variable\n        hour = time.getHours();\n        minute = time.getMinutes();\n        seconds = time.getSeconds();\n        if (minute == 0 &amp;&amp; seconds == 0) {\n            // as said in some comment before, you should only check the minutes and seconds\n            // the message string could be a constant and insert the hour value using String.format()\n            // for optimized performance, but my Java skills are too rusty for that right now\n            tts.speak(&quot;The time is &quot; + hour + &quot; O'clock&quot;, TextToSpeech.QUEUE_FLUSH, null);\n        }\n        handler.postDelayed(this, 1000);\n        // actually here instead of delaying for 1 second ... you could calculate the &quot;remaing time&quot;, how many seconds are\n        // missing until the next XX:00:00, and delay for that much\n        // for extra &quot;precision&quot;, just in case, ... delay only for something like &quot;remaingTime - 10&quot; (or something) and \n        // if the &quot;remaingTime &lt; 10&quot; delay only for 1 second, this way you can be more sure you'll not be missing the \n        // XX:00:00 ... but do this only if you notice &quot;imprecisions&quot; while using postDelayed with long intervals\n        // and you care about them\n\n    }\n};\nhandler.post(runnable);\n... \n</code></pre>\n"}],"owner":{"account_id":24420387,"reputation":31,"user_id":18346716,"display_name":"Michelle"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1673478399,"creation_date":1673361675,"question_id":75071593,"body_markdown":"I new to Android programming and I want to build Time Speaking clock that will speak the current time in every hour.\r\n\r\nPlease help me with my code, I want it to say the current time in every hour, but It say it in every second, here is my code.\r\n\r\n.........................\r\n.........................................................................................................\r\n```\r\n/** Called when the activity is first created. */\r\n\t@Override\r\n\tpublic void onCreate(Bundle savedInstanceState) {\r\n\t\tsuper.onCreate(savedInstanceState);\r\n\t\tsetContentView(R.layout.main);\r\n\t\t\r\n\t\ttts = new TextToSpeech(this, this);\r\n\r\n\t\t time_textView = findViewById(R.id.time_textView);\r\n\t     hour_textView = findViewById(R.id.hour_textView);\r\n\t\t\r\n\t\t\r\n\t\tfinal Handler handler = new Handler();\r\n\t\tfinal Runnable runnable = new Runnable() {\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\t\r\n\t\t\t\tCalendar calendar = Calendar.getInstance();\r\n\t\t\t\tSimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;h:mm:ss&quot;, Locale.getDefault());\r\n\t\t\t\tString currentTime = simpleDateFormat.format(calendar.getTime());\r\n\t\t\t\ttime_textView.setText(currentTime);\r\n\t\t\t\t\r\n\t\t\t\tHour = calendar.getTime().getHours();\r\n\t\t\t\tMinute = calendar.getTime().getMinutes();\r\n\t\t\t\t\r\n\t\t\t\tif (Hour == 1 &amp;&amp; Minute == 00){\r\n\t\t\t\t\ttts.speak(&quot;The time is 1 O&#39;clock&quot;, TextToSpeech.QUEUE_FLUSH,null);\r\n\t\t\t\t}\r\n\t\t\t\telse if (Hour == 2 &amp;&amp; Minute == 00){\r\n\t\t\t\t\ttts.speak(&quot;The time is 2 O&#39;clock&quot;, TextToSpeech.QUEUE_FLUSH,null);\r\n\t\t\t\t}\r\n\t\t\t\telse if (Hour == 3 &amp;&amp; Minute == 00){\r\n\t\t\t\t\ttts.speak(&quot;The time is 3 O&#39;clock&quot;, TextToSpeech.QUEUE_FLUSH,null);\r\n\t\t\t\t}\r\n\t\t\t\telse if (Hour == 4 &amp;&amp; Minute == 00){\r\n\t\t\t\t\ttts.speak(&quot;The time is 4 O&#39;clock&quot;, TextToSpeech.QUEUE_FLUSH,null);\r\n\t\t\t\t}\r\n\t\t\t\telse if (Hour == 5 &amp;&amp; Minute == 00){\r\n\t\t\t\t\ttts.speak(&quot;The time is 5 O&#39;clock&quot;, TextToSpeech.QUEUE_FLUSH,null);\r\n\t\t\t\t}\r\n\t\t\t\tif (Hour == 6 &amp;&amp; Minute == 00){\r\n\t\t\t\t\ttts.speak(&quot;The time is 6 O&#39;clock&quot;, TextToSpeech.QUEUE_FLUSH,null);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\thandler.postDelayed(this, 1000);\r\n\t\t\t}\r\n\t\t};\r\n\t\thandler.post(runnable);\r\n\t}\r\n\t\r\n\t@Override\r\n    public void onInit(int status) {\r\n        if (status == TextToSpeech.SUCCESS) {\r\n            int result = tts.setLanguage(Locale.US);\r\n            if (result == TextToSpeech.LANG_MISSING_DATA\r\n\t\t\t\t|| result == TextToSpeech.LANG_NOT_SUPPORTED) {\r\n                Log.e(&quot;TTS&quot;, &quot;Language not supported&quot;);\r\n            } else {\r\n            }\r\n\r\n        } else {\r\n            Log.e(&quot;TTS&quot;, &quot;Initialization Failed!&quot;);\r\n        }\r\n    }\r\n\t\r\n\t@Override\r\n    public void onDestroy() {\r\n        // Don&#39;t forget to shutdown tts!\r\n        if (tts != null) {\r\n            tts.stop();\r\n            tts.shutdown();\r\n        }\r\n        super.onDestroy();\r\n    }\r\n}\r\n```\r\n","title":"How to build Time Speaking clock","body":"<p>I new to Android programming and I want to build Time Speaking clock that will speak the current time in every hour.</p>\n<p>Please help me with my code, I want it to say the current time in every hour, but It say it in every second, here is my code.</p>\n<p>.........................\n.........................................................................................................</p>\n<pre><code>/** Called when the activity is first created. */\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main);\n        \n        tts = new TextToSpeech(this, this);\n\n         time_textView = findViewById(R.id.time_textView);\n         hour_textView = findViewById(R.id.hour_textView);\n        \n        \n        final Handler handler = new Handler();\n        final Runnable runnable = new Runnable() {\n            @Override\n            public void run() {\n                \n                Calendar calendar = Calendar.getInstance();\n                SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;h:mm:ss&quot;, Locale.getDefault());\n                String currentTime = simpleDateFormat.format(calendar.getTime());\n                time_textView.setText(currentTime);\n                \n                Hour = calendar.getTime().getHours();\n                Minute = calendar.getTime().getMinutes();\n                \n                if (Hour == 1 &amp;&amp; Minute == 00){\n                    tts.speak(&quot;The time is 1 O'clock&quot;, TextToSpeech.QUEUE_FLUSH,null);\n                }\n                else if (Hour == 2 &amp;&amp; Minute == 00){\n                    tts.speak(&quot;The time is 2 O'clock&quot;, TextToSpeech.QUEUE_FLUSH,null);\n                }\n                else if (Hour == 3 &amp;&amp; Minute == 00){\n                    tts.speak(&quot;The time is 3 O'clock&quot;, TextToSpeech.QUEUE_FLUSH,null);\n                }\n                else if (Hour == 4 &amp;&amp; Minute == 00){\n                    tts.speak(&quot;The time is 4 O'clock&quot;, TextToSpeech.QUEUE_FLUSH,null);\n                }\n                else if (Hour == 5 &amp;&amp; Minute == 00){\n                    tts.speak(&quot;The time is 5 O'clock&quot;, TextToSpeech.QUEUE_FLUSH,null);\n                }\n                if (Hour == 6 &amp;&amp; Minute == 00){\n                    tts.speak(&quot;The time is 6 O'clock&quot;, TextToSpeech.QUEUE_FLUSH,null);\n                }\n                \n                handler.postDelayed(this, 1000);\n            }\n        };\n        handler.post(runnable);\n    }\n    \n    @Override\n    public void onInit(int status) {\n        if (status == TextToSpeech.SUCCESS) {\n            int result = tts.setLanguage(Locale.US);\n            if (result == TextToSpeech.LANG_MISSING_DATA\n                || result == TextToSpeech.LANG_NOT_SUPPORTED) {\n                Log.e(&quot;TTS&quot;, &quot;Language not supported&quot;);\n            } else {\n            }\n\n        } else {\n            Log.e(&quot;TTS&quot;, &quot;Initialization Failed!&quot;);\n        }\n    }\n    \n    @Override\n    public void onDestroy() {\n        // Don't forget to shutdown tts!\n        if (tts != null) {\n            tts.stop();\n            tts.shutdown();\n        }\n        super.onDestroy();\n    }\n}\n</code></pre>\n"},{"tags":["c#","java",".net","datetime"],"comments":[{"owner":{"account_id":4169,"reputation":24716,"user_id":6180,"accept_rate":83,"display_name":"Alex B"},"score":0,"creation_date":1226678424,"post_id":290227,"comment_id":139116,"body_markdown":"Just curious, why do you need the millis since 1970?","body":"Just curious, why do you need the millis since 1970?"},{"owner":{"account_id":4511847,"reputation":1045,"user_id":3667714,"accept_rate":100,"display_name":"Ramunas"},"score":7,"creation_date":1527678382,"post_id":290227,"comment_id":88215206,"body_markdown":"DateTimeOffset.UtcNow.ToUnixTimeMilliseconds()","body":"DateTimeOffset.UtcNow.ToUnixTimeMilliseconds()"},{"owner":{"account_id":3374114,"reputation":389,"user_id":2832638,"display_name":"Eldar Zeynalov"},"score":0,"creation_date":1697212460,"post_id":290227,"comment_id":136255966,"body_markdown":"@AlexB some systems store date and time in UnixTimeMIlliseconds format. In order to write a query like &quot;between A and B&quot; you must convert your datetime value to milliseconds then compare","body":"@AlexB some systems store date and time in UnixTimeMIlliseconds format. In order to write a query like &quot;between A and B&quot; you must convert your datetime value to milliseconds then compare"}],"answers":[{"comments":[{"owner":{"account_id":9844,"reputation":20004,"user_id":18333,"accept_rate":65,"display_name":"Liam"},"score":1,"creation_date":1240484040,"post_id":290249,"comment_id":591686,"body_markdown":"Would (DateTime.Ticks/10000000)-(the number of seconds between 0001 and 1970) give an accurate answer?","body":"Would (DateTime.Ticks/10000000)-(the number of seconds between 0001 and 1970) give an accurate answer?"}],"tags":[],"owner":{"account_id":9042,"reputation":9260,"user_id":16526,"accept_rate":75,"display_name":"Cristian Libardo"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1226673518,"creation_date":1226673518,"answer_id":290249,"question_id":290227,"body_markdown":"The framework doesn&#39;t include the old seconds (or milliseconds) since 1970. The closest you get is DateTime.Ticks which is the number of 100-nanoseconds since january 1st 0001.","title":"Java System.currentTimeMillis() equivalent in C#","body":"<p>The framework doesn't include the old seconds (or milliseconds) since 1970. The closest you get is DateTime.Ticks which is the number of 100-nanoseconds since january 1st 0001.</p>\n"},{"comments":[{"owner":{"account_id":4511847,"reputation":1045,"user_id":3667714,"accept_rate":100,"display_name":"Ramunas"},"score":4,"creation_date":1527678411,"post_id":290265,"comment_id":88215232,"body_markdown":"Same result with &quot;DateTimeOffset.UtcNow.ToUnixTimeMilliseconds()&quot;","body":"Same result with &quot;DateTimeOffset.UtcNow.ToUnixTimeMilliseconds()&quot;"},{"owner":{"account_id":147114,"reputation":3039,"user_id":358006,"accept_rate":67,"display_name":"Peter L"},"score":0,"creation_date":1673474673,"post_id":290265,"comment_id":132510508,"body_markdown":"There is a `DateTime.UnixEpoch` now that can replace the read-only value above.","body":"There is a <code>DateTime.UnixEpoch</code> now that can replace the read-only value above."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1673476523,"post_id":290265,"comment_id":132510982,"body_markdown":"@PeterL: But not in .NET Framework, sadly :(","body":"@PeterL: But not in .NET Framework, sadly :("}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":3,"down_vote_count":0,"up_vote_count":99,"is_accepted":false,"score":99,"last_activity_date":1673476509,"creation_date":1226673649,"answer_id":290265,"question_id":290227,"body_markdown":"An alternative:\r\n\r\n    // Use DateTime.UnixEpoch as of .NET or .NET Core 2.1 upwards;\r\n    // not available in .NET Framework\r\n    private static readonly DateTime Jan1st1970 = new DateTime\r\n        (1970, 1, 1, 0, 0, 0, DateTimeKind.Utc);\r\n\r\n    public static long CurrentTimeMillis()\r\n    {\r\n        return (long) (DateTime.UtcNow - Jan1st1970).TotalMilliseconds;\r\n    }","title":"Java System.currentTimeMillis() equivalent in C#","body":"<p>An alternative:</p>\n<pre><code>// Use DateTime.UnixEpoch as of .NET or .NET Core 2.1 upwards;\n// not available in .NET Framework\nprivate static readonly DateTime Jan1st1970 = new DateTime\n    (1970, 1, 1, 0, 0, 0, DateTimeKind.Utc);\n\npublic static long CurrentTimeMillis()\n{\n    return (long) (DateTime.UtcNow - Jan1st1970).TotalMilliseconds;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":4,"creation_date":1226676934,"post_id":290278,"comment_id":139019,"body_markdown":"DateTime.Now uses the local time, not UTC. I don&#39;t know exactly what happens when you subtract an unknown kind of DateTime from a local one, but it&#39;s best to set both of them to UTC :)","body":"DateTime.Now uses the local time, not UTC. I don&#39;t know exactly what happens when you subtract an unknown kind of DateTime from a local one, but it&#39;s best to set both of them to UTC :)"}],"tags":[],"owner":{"account_id":3588,"reputation":12676,"user_id":5186,"accept_rate":86,"display_name":"Hath"},"comment_count":1,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1226680619,"creation_date":1226673872,"answer_id":290278,"question_id":290227,"body_markdown":"the `System.currentTimeMillis()` in java returns the current time in milliseconds from 1/1/1970\r\n\r\n\r\n c# that would be \r\n\r\n    public static double GetCurrentMilli()\r\n        {\r\n            DateTime Jan1970 = new DateTime(1970, 1, 1, 0, 0,0,DateTimeKind.Utc);\r\n            TimeSpan javaSpan = DateTime.UtcNow - Jan1970;\r\n            return javaSpan.TotalMilliseconds;\r\n        }\r\n\r\nedit: made it utc as suggested :)","title":"Java System.currentTimeMillis() equivalent in C#","body":"<p>the <code>System.currentTimeMillis()</code> in java returns the current time in milliseconds from 1/1/1970</p>\n\n<p>c# that would be </p>\n\n<pre><code>public static double GetCurrentMilli()\n    {\n        DateTime Jan1970 = new DateTime(1970, 1, 1, 0, 0,0,DateTimeKind.Utc);\n        TimeSpan javaSpan = DateTime.UtcNow - Jan1970;\n        return javaSpan.TotalMilliseconds;\n    }\n</code></pre>\n\n<p>edit: made it utc as suggested :)</p>\n"},{"tags":[],"owner":{"account_id":4350,"reputation":84002,"user_id":6491,"display_name":"gimel"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1226674345,"creation_date":1226674345,"answer_id":290301,"question_id":290227,"body_markdown":"Here is a simple way to approximate the Unix timestamp. \r\nUsing UTC is closer to the unix concept, and you need to covert from `double` to `long`.\r\n\r\n    TimeSpan ts = (DateTime.UtcNow - new DateTime(1970, 1, 1, 0, 0, 0, DateTimeKind.Utc));\r\n    long millis = (long)ts.TotalMilliseconds;\r\n    Console.WriteLine(&quot;millis={0}&quot;, millis);\r\n\r\nprints:\r\n\r\n    millis=1226674125796\r\n\r\n\r\n","title":"Java System.currentTimeMillis() equivalent in C#","body":"<p>Here is a simple way to approximate the Unix timestamp. \nUsing UTC is closer to the unix concept, and you need to covert from <code>double</code> to <code>long</code>.</p>\n\n<pre><code>TimeSpan ts = (DateTime.UtcNow - new DateTime(1970, 1, 1, 0, 0, 0, DateTimeKind.Utc));\nlong millis = (long)ts.TotalMilliseconds;\nConsole.WriteLine(\"millis={0}\", millis);\n</code></pre>\n\n<p>prints:</p>\n\n<pre><code>millis=1226674125796\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1309409,"reputation":9450,"user_id":1257728,"accept_rate":43,"display_name":"mortb"},"score":5,"creation_date":1397130483,"post_id":290353,"comment_id":35104367,"body_markdown":"Isn&#39;t this a bit wrong? This extension method will hand on to any *instance* of DateTime, but it doesn&#39;t use the instance. Just seems confusing...I don&#39;t think you should require a parameter that you don&#39;t use","body":"Isn&#39;t this a bit wrong? This extension method will hand on to any <i>instance</i> of DateTime, but it doesn&#39;t use the instance. Just seems confusing...I don&#39;t think you should require a parameter that you don&#39;t use"},{"owner":{"account_id":1372320,"reputation":996,"user_id":1307074,"display_name":"Suncat2000"},"score":2,"creation_date":1551287471,"post_id":290353,"comment_id":96588688,"body_markdown":"@mortb That&#39;s an extension method. That is how it gets defined in C# to &quot;add a method&quot; to a class without modifying the class. The compiler interprets the method and can apply it to an instance of the &quot;this&quot; parameter as if it were an instance method on the class itself. It functions just the same as a method on the static class but the compiler allows writing an easier, alternate syntax.","body":"@mortb That&#39;s an extension method. That is how it gets defined in C# to &quot;add a method&quot; to a class without modifying the class. The compiler interprets the method and can apply it to an instance of the &quot;this&quot; parameter as if it were an instance method on the class itself. It functions just the same as a method on the static class but the compiler allows writing an easier, alternate syntax."},{"owner":{"account_id":1309409,"reputation":9450,"user_id":1257728,"accept_rate":43,"display_name":"mortb"},"score":2,"creation_date":1551341845,"post_id":290353,"comment_id":96607353,"body_markdown":"The problem is that the value of the parameter `d`is not used. To use this code you could write `var date = new DateTime();\tvar millis = date.currentTimeMillis();` But the `date` variable would just be redundant and its state never used. When not using the state of the object creating an extension method just obscures the code. The answer provided by @Hath is more straight forward and therefore  better (to me). Maybe @Joel Coehoorn intended to use the value `d` instead of `DateTime.UtcNow` in the method body? I use extension methods quite a lot, but not for this.","body":"The problem is that the value of the parameter <code>d</code>is not used. To use this code you could write <code>var date = new DateTime();\tvar millis = date.currentTimeMillis();</code> But the <code>date</code> variable would just be redundant and its state never used. When not using the state of the object creating an extension method just obscures the code. The answer provided by @Hath is more straight forward and therefore  better (to me). Maybe @Joel Coehoorn intended to use the value <code>d</code> instead of <code>DateTime.UtcNow</code> in the method body? I use extension methods quite a lot, but not for this."},{"owner":{"account_id":7356077,"reputation":332,"user_id":5600794,"accept_rate":67,"display_name":"Mark G"},"score":1,"creation_date":1586363217,"post_id":290353,"comment_id":108103048,"body_markdown":"Why would you create an extension, that doesn&#39;t use the date? I used this code and it caught me out. The correct version is: return (long)((d.ToUniversalTime() - Jan1st1970).TotalMilliseconds);","body":"Why would you create an extension, that doesn&#39;t use the date? I used this code and it caught me out. The correct version is: return (long)((d.ToUniversalTime() - Jan1st1970).TotalMilliseconds);"}],"tags":[],"owner":{"account_id":2212,"reputation":403900,"user_id":3043,"accept_rate":70,"display_name":"Joel Coehoorn"},"comment_count":4,"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1227027393,"creation_date":1226675321,"answer_id":290353,"question_id":290227,"body_markdown":"We could also get a little fancy and do it as an extension method, so that it hangs off the DateTime class:\r\n\r\n    public static class DateTimeExtensions\r\n    {\r\n        private static DateTime Jan1st1970 = new DateTime(1970, 1, 1, 0, 0, 0, DateTimeKind.Utc);\r\n        public static long currentTimeMillis(this DateTime d)\r\n        {\r\n            return (long) ((DateTime.UtcNow - Jan1st1970).TotalMilliseconds);\r\n        }\r\n    }","title":"Java System.currentTimeMillis() equivalent in C#","body":"<p>We could also get a little fancy and do it as an extension method, so that it hangs off the DateTime class:</p>\n\n<pre><code>public static class DateTimeExtensions\n{\n    private static DateTime Jan1st1970 = new DateTime(1970, 1, 1, 0, 0, 0, DateTimeKind.Utc);\n    public static long currentTimeMillis(this DateTime d)\n    {\n        return (long) ((DateTime.UtcNow - Jan1st1970).TotalMilliseconds);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1804000,"reputation":7378,"user_id":1641556,"accept_rate":55,"display_name":"Elshan"},"score":1,"creation_date":1390708016,"post_id":5703212,"comment_id":32206594,"body_markdown":"But they both give difference numbers.How they compare correctly??\n`C# give : 2688547` and `Java give : 1390707872687`","body":"But they both give difference numbers.How they compare correctly?? <code>C# give : 2688547</code> and <code>Java give : 1390707872687</code>"},{"owner":{"account_id":20633,"reputation":17376,"user_id":49489,"accept_rate":100,"display_name":"Barend"},"score":1,"creation_date":1390772572,"post_id":5703212,"comment_id":32224888,"body_markdown":"@Elshan You can&#39;t compare them. They&#39;re different ticks. This technique is for timing and scheduling within an application, not across applications.","body":"@Elshan You can&#39;t compare them. They&#39;re different ticks. This technique is for timing and scheduling within an application, not across applications."},{"owner":{"account_id":307927,"reputation":1815,"user_id":619510,"accept_rate":92,"display_name":"michelpm"},"score":0,"creation_date":1441190940,"post_id":5703212,"comment_id":52575236,"body_markdown":"`System.currentTimeMillis()` returns UTC time in ms since 1970, while `Environment.TickCount` returns ms since the app started. `System.currentTimeMillis()` is good for checking elapsed time, but if you want two durations to be comparable you must use `System.nanoTime()`.","body":"<code>System.currentTimeMillis()</code> returns UTC time in ms since 1970, while <code>Environment.TickCount</code> returns ms since the app started. <code>System.currentTimeMillis()</code> is good for checking elapsed time, but if you want two durations to be comparable you must use <code>System.nanoTime()</code>."}],"tags":[],"owner":{"account_id":20633,"reputation":17376,"user_id":49489,"accept_rate":100,"display_name":"Barend"},"comment_count":3,"down_vote_count":0,"up_vote_count":79,"is_accepted":false,"score":79,"last_activity_date":1303131363,"creation_date":1303131363,"answer_id":5703212,"question_id":290227,"body_markdown":"A common idiom in Java is to use the `currentTimeMillis()` for timing or scheduling purposes, where you&#39;re not interested in the actual milliseconds since 1970, but instead calculate some relative value and compare later invocations of `currentTimeMillis()` to that value.\r\n\r\nIf that&#39;s what you&#39;re looking for, the C# equivalent is **`Environment.TickCount`**.","title":"Java System.currentTimeMillis() equivalent in C#","body":"<p>A common idiom in Java is to use the <code>currentTimeMillis()</code> for timing or scheduling purposes, where you're not interested in the actual milliseconds since 1970, but instead calculate some relative value and compare later invocations of <code>currentTimeMillis()</code> to that value.</p>\n\n<p>If that's what you're looking for, the C# equivalent is <strong><code>Environment.TickCount</code></strong>.</p>\n"},{"tags":[],"owner":{"account_id":762144,"reputation":199,"user_id":778481,"display_name":"bstabile"},"comment_count":0,"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1306902904,"creation_date":1306882161,"answer_id":6194429,"question_id":290227,"body_markdown":"If you are interested in TIMING, add a reference to System.Diagnostics and use a Stopwatch.\r\n\r\nFor example:\r\n\r\n    var sw = Stopwatch.StartNew();\r\n    ...\r\n    var elapsedStage1 = sw.ElapsedMilliseconds;\r\n    ...\r\n    var elapsedStage2 = sw.ElapsedMilliseconds;\r\n    ...\r\n    sw.Stop();","title":"Java System.currentTimeMillis() equivalent in C#","body":"<p>If you are interested in TIMING, add a reference to System.Diagnostics and use a Stopwatch.</p>\n\n<p>For example:</p>\n\n<pre><code>var sw = Stopwatch.StartNew();\n...\nvar elapsedStage1 = sw.ElapsedMilliseconds;\n...\nvar elapsedStage2 = sw.ElapsedMilliseconds;\n...\nsw.Stop();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1549477,"reputation":13452,"user_id":1442225,"accept_rate":76,"display_name":"Bitterblue"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1361894470,"creation_date":1361894470,"answer_id":15093666,"question_id":290227,"body_markdown":"I know question asks for **equivalent** but since I use those 2 for the same tasks I throw in [GetTickCount][1]. I might be nostalgic but System.currentTimeMillis() and GetTickCount() are the only ones I use for getting ticks.\r\n\r\n    [DllImport(&quot;kernel32.dll&quot;)]\r\n    static extern uint GetTickCount();\r\n    \r\n    // call\r\n    uint ticks = GetTickCount();\r\n\r\n\r\n  [1]: http://msdn.microsoft.com/en-us/library/windows/desktop/ms724408%28v=vs.85%29.aspx","title":"Java System.currentTimeMillis() equivalent in C#","body":"<p>I know question asks for <strong>equivalent</strong> but since I use those 2 for the same tasks I throw in <a href=\"http://msdn.microsoft.com/en-us/library/windows/desktop/ms724408%28v=vs.85%29.aspx\" rel=\"nofollow\">GetTickCount</a>. I might be nostalgic but System.currentTimeMillis() and GetTickCount() are the only ones I use for getting ticks.</p>\n\n<pre><code>[DllImport(\"kernel32.dll\")]\nstatic extern uint GetTickCount();\n\n// call\nuint ticks = GetTickCount();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5027671,"reputation":2794,"user_id":4038978,"accept_rate":50,"display_name":"Mehdi Khademloo"},"score":2,"creation_date":1503132089,"post_id":27124904,"comment_id":78497202,"body_markdown":"`DateTime.UtcNow` is a better option","body":"<code>DateTime.UtcNow</code> is a better option"}],"tags":[],"owner":{"account_id":1184367,"reputation":940,"user_id":1158652,"accept_rate":89,"display_name":"TechCrap"},"comment_count":1,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1416913342,"creation_date":1416913342,"answer_id":27124904,"question_id":290227,"body_markdown":"I just consider the most straight forward way how to achieve what you&#39;ve been striving for as follows:\r\n\r\n    DateTime.Now.Ticks / TimeSpan.TicksPerMillisecond","title":"Java System.currentTimeMillis() equivalent in C#","body":"<p>I just consider the most straight forward way how to achieve what you've been striving for as follows:</p>\n\n<pre><code>DateTime.Now.Ticks / TimeSpan.TicksPerMillisecond\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1781872,"reputation":14665,"user_id":1624376,"accept_rate":76,"display_name":"Aubin"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1495549786,"creation_date":1495547986,"answer_id":44136945,"question_id":290227,"body_markdown":"If you want a timestamp to be compared between different processes, different languages (Java, C, C#), under GNU/Linux and Windows (Seven at least):\r\n\r\nC#:\r\n\r\n    private static long nanoTime() {\r\n       long nano = 10000L * Stopwatch.GetTimestamp();\r\n       nano /= TimeSpan.TicksPerMillisecond;\r\n       nano *= 100L;\r\n       return nano;\r\n    }\r\n\r\nJava:\r\n\r\n    java.lang.System.nanoTime();\r\n\r\nC GNU/Linux:\r\n\r\n    static int64_t hpms_nano() {\r\n       struct timespec t;\r\n       clock_gettime( CLOCK_MONOTONIC, &amp;t );\r\n       int64_t nano = t.tv_sec;\r\n       nano *= 1000;\r\n       nano *= 1000;\r\n       nano *= 1000;\r\n       nano += t.tv_nsec;\r\n       return nano;\r\n    }\r\n\r\nC Windows:\r\n\r\n    static int64_t hpms_nano() {\r\n       static LARGE_INTEGER ticksPerSecond;\r\n       if( ticksPerSecond.QuadPart == 0 ) {\r\n          QueryPerformanceFrequency( &amp;ticksPerSecond );\r\n       }\r\n       LARGE_INTEGER ticks;\r\n       QueryPerformanceCounter( &amp;ticks );\r\n       uint64_t nano = ( 1000*1000*10UL * ticks.QuadPart ) / ticksPerSecond.QuadPart;\r\n       nano *= 100UL;\r\n       return nano;\r\n    }\r\n","title":"Java System.currentTimeMillis() equivalent in C#","body":"<p>If you want a timestamp to be compared between different processes, different languages (Java, C, C#), under GNU/Linux and Windows (Seven at least):</p>\n\n<p>C#:</p>\n\n<pre><code>private static long nanoTime() {\n   long nano = 10000L * Stopwatch.GetTimestamp();\n   nano /= TimeSpan.TicksPerMillisecond;\n   nano *= 100L;\n   return nano;\n}\n</code></pre>\n\n<p>Java:</p>\n\n<pre><code>java.lang.System.nanoTime();\n</code></pre>\n\n<p>C GNU/Linux:</p>\n\n<pre><code>static int64_t hpms_nano() {\n   struct timespec t;\n   clock_gettime( CLOCK_MONOTONIC, &amp;t );\n   int64_t nano = t.tv_sec;\n   nano *= 1000;\n   nano *= 1000;\n   nano *= 1000;\n   nano += t.tv_nsec;\n   return nano;\n}\n</code></pre>\n\n<p>C Windows:</p>\n\n<pre><code>static int64_t hpms_nano() {\n   static LARGE_INTEGER ticksPerSecond;\n   if( ticksPerSecond.QuadPart == 0 ) {\n      QueryPerformanceFrequency( &amp;ticksPerSecond );\n   }\n   LARGE_INTEGER ticks;\n   QueryPerformanceCounter( &amp;ticks );\n   uint64_t nano = ( 1000*1000*10UL * ticks.QuadPart ) / ticksPerSecond.QuadPart;\n   nano *= 100UL;\n   return nano;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1372320,"reputation":996,"user_id":1307074,"display_name":"Suncat2000"},"score":0,"creation_date":1551288591,"post_id":50603116,"comment_id":96589267,"body_markdown":"That `DateTimeOffset` method was introduced as of .Net 4.6.","body":"That <code>DateTimeOffset</code> method was introduced as of .Net 4.6."}],"tags":[],"owner":{"account_id":4511847,"reputation":1045,"user_id":3667714,"accept_rate":100,"display_name":"Ramunas"},"comment_count":1,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1527678467,"creation_date":1527678467,"answer_id":50603116,"question_id":290227,"body_markdown":"    DateTimeOffset.UtcNow.ToUnixTimeMilliseconds()","title":"Java System.currentTimeMillis() equivalent in C#","body":"<pre><code>DateTimeOffset.UtcNow.ToUnixTimeMilliseconds()\n</code></pre>\n"}],"owner":{"display_name":"yash"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65191,"favorite_count":0,"down_vote_count":1,"up_vote_count":98,"answer_count":11,"score":97,"last_activity_date":1673476509,"creation_date":1226673043,"question_id":290227,"body_markdown":"What is the equivalent of Java&#39;s `System.currentTimeMillis()` in C#?","title":"Java System.currentTimeMillis() equivalent in C#","body":"<p>What is the equivalent of Java's <code>System.currentTimeMillis()</code> in C#?</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":26957,"reputation":564401,"user_id":70604,"display_name":"Pascal Thivent"},"score":0,"creation_date":1255617934,"post_id":1572708,"comment_id":1433350,"body_markdown":"And what about `Integer.toString(int i)`? (will not compile if you change `i` to another type which might be a good thing or not)","body":"And what about <code>Integer.toString(int i)</code>? (will not compile if you change <code>i</code> to another type which might be a good thing or not)"},{"owner":{"account_id":9921,"reputation":107684,"user_id":18511,"accept_rate":92,"display_name":"Kip"},"score":0,"creation_date":1255618718,"post_id":1572708,"comment_id":1433448,"body_markdown":"@Pascal Thivent: see my answer, it looks like `Integer.toString(int i)` is the best of them all!","body":"@Pascal Thivent: see my answer, it looks like <code>Integer.toString(int i)</code> is the best of them all!"},{"owner":{"account_id":9921,"reputation":107684,"user_id":18511,"accept_rate":92,"display_name":"Kip"},"score":0,"creation_date":1255618902,"post_id":1572708,"comment_id":1433477,"body_markdown":"(at least from performance, a readability argument could still be for String.valueOf(), since the performance difference is negligible)","body":"(at least from performance, a readability argument could still be for String.valueOf(), since the performance difference is negligible)"},{"owner":{"account_id":13299,"reputation":30181,"user_id":26620,"accept_rate":83,"display_name":"Kevin"},"score":0,"creation_date":1255627089,"post_id":1572708,"comment_id":1434515,"body_markdown":"Integer.toString(i, 10) is equivalent to String.valueOf(i)","body":"Integer.toString(i, 10) is equivalent to String.valueOf(i)"}],"answers":[{"comments":[{"owner":{"account_id":222664,"reputation":3043,"user_id":481422,"display_name":"Zlatin Zlatev"},"score":0,"creation_date":1673466190,"post_id":1572724,"comment_id":132507978,"body_markdown":"Jon Skeet, would you have the article backed up somewhere?","body":"Jon Skeet, would you have the article backed up somewhere?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1673476371,"post_id":1572724,"comment_id":132510940,"body_markdown":"@ZlatinZlatev: Have edited the link. Although it&#39;s now been longer between writing this answer and now, than between writing the article and writing the answer...","body":"@ZlatinZlatev: Have edited the link. Although it&#39;s now been longer between writing this answer and now, than between writing the article and writing the answer..."}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":2,"down_vote_count":0,"up_vote_count":35,"is_accepted":true,"score":35,"last_activity_date":1673476316,"creation_date":1255617005,"answer_id":1572724,"question_id":1572708,"body_markdown":"I would always prefer the `String.valueOf` version: mostly because it shows what you&#39;re trying to do. The aim isn&#39;t string concatenation - it&#39;s conversion to a string, &quot;the string value of `i`&quot;.\r\n\r\nThe first form may also be inefficient - depending on whether the compiler spots what you&#39;re doing. If it doesn&#39;t, it may be creating a new StringBuffer or StringBuilder and appending the value, then converting it to a string.\r\n\r\nFunnily enough, I have an [article about this very topic][1] - written years and years ago; one of the first Java articles on my web site, IIRC.\r\n\r\n\r\n  [1]: https://jonskeet.uk/java/stringconv.html","title":"Is conversion to String using (&quot;&quot; + &lt;int value&gt;) bad practice?","body":"<p>I would always prefer the <code>String.valueOf</code> version: mostly because it shows what you're trying to do. The aim isn't string concatenation - it's conversion to a string, &quot;the string value of <code>i</code>&quot;.</p>\n<p>The first form may also be inefficient - depending on whether the compiler spots what you're doing. If it doesn't, it may be creating a new StringBuffer or StringBuilder and appending the value, then converting it to a string.</p>\n<p>Funnily enough, I have an <a href=\"https://jonskeet.uk/java/stringconv.html\" rel=\"nofollow noreferrer\">article about this very topic</a> - written years and years ago; one of the first Java articles on my web site, IIRC.</p>\n"},{"tags":[],"owner":{"account_id":61398,"reputation":7859,"user_id":183013,"display_name":"elder_george"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1255617011,"creation_date":1255617011,"answer_id":1572726,"question_id":1572708,"body_markdown":"Yes, it is IMHO a bad practice.\r\n\r\nIt would require to memory allocations (unless compiler and/or JIT optimize them). What&#39;s more, it will make less evident, what this code tries to do.","title":"Is conversion to String using (&quot;&quot; + &lt;int value&gt;) bad practice?","body":"<p>Yes, it is IMHO a bad practice.</p>\n\n<p>It would require to memory allocations (unless compiler and/or JIT optimize them). What's more, it will make less evident, what this code tries to do.</p>\n"},{"tags":[],"owner":{"account_id":11983,"reputation":71675,"user_id":23368,"accept_rate":92,"display_name":"Daniel Rikowski"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1255626911,"creation_date":1255617076,"answer_id":1572734,"question_id":1572708,"body_markdown":"Regardless of any performance considerations I think the first variant is really ugly. IMHO it&#39;s a shame that this kind of &quot;dynamic casting&quot; is even possible in Java.\r\n\r\n","title":"Is conversion to String using (&quot;&quot; + &lt;int value&gt;) bad practice?","body":"<p>Regardless of any performance considerations I think the first variant is really ugly. IMHO it's a shame that this kind of \"dynamic casting\" is even possible in Java.</p>\n"},{"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1255617216,"post_id":1572743,"comment_id":1433259,"body_markdown":"&quot;&quot; doesn&#39;t create a new empty string on every iteration. There will be a single string for all the occurrences of &quot;&quot;. But yes, unless the compiler catches it you&#39;ll end up with an extra StringBuilder.","body":"&quot;&quot; doesn&#39;t create a new empty string on every iteration. There will be a single string for all the occurrences of &quot;&quot;. But yes, unless the compiler catches it you&#39;ll end up with an extra StringBuilder."},{"owner":{"account_id":28947,"reputation":90769,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"score":0,"creation_date":1255617219,"post_id":1572743,"comment_id":1433261,"body_markdown":"The first empty quote will be interned, so there will only ever be one (this is a JLS thing, not just an optional optimization).","body":"The first empty quote will be interned, so there will only ever be one (this is a JLS thing, not just an optional optimization)."},{"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"score":0,"creation_date":1255617335,"post_id":1572743,"comment_id":1433276,"body_markdown":"The issue with + on strings in loops has nothing to do with this.","body":"The issue with + on strings in loops has nothing to do with this."},{"owner":{"account_id":51109,"reputation":5983,"user_id":152621,"display_name":"Malaxeur"},"score":0,"creation_date":1255617429,"post_id":1572743,"comment_id":1433286,"body_markdown":"Ah, I wasn&#39;t aware that the literal was interned.  I was under the assumption that unless you explicitly call .intern, no string literals are interned.  Regardless, there&#39;s additional overhead on the internalizing + extra overhead of an empty string (for nothing) in this case... which we&#39;re all in agreement with.","body":"Ah, I wasn&#39;t aware that the literal was interned.  I was under the assumption that unless you explicitly call .intern, no string literals are interned.  Regardless, there&#39;s additional overhead on the internalizing + extra overhead of an empty string (for nothing) in this case... which we&#39;re all in agreement with."},{"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"score":0,"creation_date":1255617456,"post_id":1572743,"comment_id":1433290,"body_markdown":"The issue with + on strings in loops has nothing to do with this.","body":"The issue with + on strings in loops has nothing to do with this."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1255618239,"post_id":1572743,"comment_id":1433384,"body_markdown":"The interning doesn&#39;t have any overhead on a per invocation basis - it&#39;s done on class load. That wouldn&#39;t bother me at all. It&#39;s the creation of a pointless StringBuilder etc that&#39;s the problem.","body":"The interning doesn&#39;t have any overhead on a per invocation basis - it&#39;s done on class load. That wouldn&#39;t bother me at all. It&#39;s the creation of a pointless StringBuilder etc that&#39;s the problem."},{"owner":{"account_id":36232,"reputation":26946,"user_id":103206,"accept_rate":67,"display_name":"Jay"},"score":0,"creation_date":1255618564,"post_id":1572743,"comment_id":1433428,"body_markdown":"It&#39;s true that only one instance of the empty string will be created, but that&#39;s still one wasted creation of a string. Well, maybe in a non-trivial program you&#39;re going to create an empty string for something somewhere anyway.","body":"It&#39;s true that only one instance of the empty string will be created, but that&#39;s still one wasted creation of a string. Well, maybe in a non-trivial program you&#39;re going to create an empty string for something somewhere anyway."}],"tags":[],"owner":{"account_id":51109,"reputation":5983,"user_id":152621,"display_name":"Malaxeur"},"comment_count":7,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1255617114,"creation_date":1255617114,"answer_id":1572743,"question_id":1572708,"body_markdown":"Definitely use String.valueOf(i).\r\n\r\nAlthough I&#39;m not sure of the optimizations on the compiler side, worst case scenario if you use &quot;&quot; + &lt;value&gt;:\r\n\r\n 1. &quot;&quot; creates a new empty string.\r\n 2. &quot;&quot; + &lt;value&gt; creates a StringBuilder (Java 1.5-16)\r\n 3. &quot;&quot; is appended to the StringBuilder, then &lt;value&gt;\r\n\r\nIn other words, there is a lot of overhead that occurs if you use string addition.  This is why it is not recommended to use the + operator on strings in loops.  In general, always use Boolean.valueOf, Integer.valueOf, String.valueOf... etc, when possible.  You&#39;ll save both on memory and on overhead.","title":"Is conversion to String using (&quot;&quot; + &lt;int value&gt;) bad practice?","body":"<p>Definitely use String.valueOf(i).</p>\n\n<p>Although I'm not sure of the optimizations on the compiler side, worst case scenario if you use \"\" + :</p>\n\n<ol>\n<li>\"\" creates a new empty string.</li>\n<li>\"\" +  creates a StringBuilder (Java 1.5-16)</li>\n<li>\"\" is appended to the StringBuilder, then </li>\n</ol>\n\n<p>In other words, there is a lot of overhead that occurs if you use string addition.  This is why it is not recommended to use the + operator on strings in loops.  In general, always use Boolean.valueOf, Integer.valueOf, String.valueOf... etc, when possible.  You'll save both on memory and on overhead.</p>\n"},{"tags":[],"owner":{"account_id":28947,"reputation":90769,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1255617131,"creation_date":1255617131,"answer_id":1572748,"question_id":1572708,"body_markdown":"Personally I dislike the style of `&quot;&quot; + i`, but that is really a preference/coding standards thing. Ideally the compiler would optimize those into equivalent code (although you would have to decompile to see if it actually does), but technically, without optimization, `&quot;&quot; + i` is more inefficient because it creates a StringBuilder object that wasn&#39;t needed.","title":"Is conversion to String using (&quot;&quot; + &lt;int value&gt;) bad practice?","body":"<p>Personally I dislike the style of <code>\"\" + i</code>, but that is really a preference/coding standards thing. Ideally the compiler would optimize those into equivalent code (although you would have to decompile to see if it actually does), but technically, without optimization, <code>\"\" + i</code> is more inefficient because it creates a StringBuilder object that wasn't needed.</p>\n"},{"comments":[{"owner":{"account_id":9921,"reputation":107684,"user_id":18511,"accept_rate":92,"display_name":"Kip"},"score":0,"creation_date":1255617552,"post_id":1572749,"comment_id":1433306,"body_markdown":"`Integer.valueOf(int i)` returns an `Integer`, not a `String`","body":"<code>Integer.valueOf(int i)</code> returns an <code>Integer</code>, not a <code>String</code>"},{"owner":{"account_id":717,"reputation":54118,"user_id":939,"accept_rate":81,"display_name":"Ron Tuffin"},"score":0,"creation_date":1255618330,"post_id":1572749,"comment_id":1433401,"body_markdown":"Thanks Kip. In my haste to beat Skeet, I mistyped it. fixed.","body":"Thanks Kip. In my haste to beat Skeet, I mistyped it. fixed."}],"tags":[],"owner":{"account_id":717,"reputation":54118,"user_id":939,"accept_rate":81,"display_name":"Ron Tuffin"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1255618268,"creation_date":1255617135,"answer_id":1572749,"question_id":1572708,"body_markdown":"Right off the bat all I can think of is that in the your first example more String objects will be created than in the second example (and an additional StringBuilder to actually perform the concatenation).\r\n\r\nBut what you are actualy trying to do is create a String object from a int not concatenate a String with an int, so go for the:\r\n\r\n    String.valueOf(...); \r\n\r\noption,\r\n\r\nSo yes your first option is bad practice!\r\n","title":"Is conversion to String using (&quot;&quot; + &lt;int value&gt;) bad practice?","body":"<p>Right off the bat all I can think of is that in the your first example more String objects will be created than in the second example (and an additional StringBuilder to actually perform the concatenation).</p>\n\n<p>But what you are actualy trying to do is create a String object from a int not concatenate a String with an int, so go for the:</p>\n\n<pre><code>String.valueOf(...); \n</code></pre>\n\n<p>option,</p>\n\n<p>So yes your first option is bad practice!</p>\n"},{"comments":[{"owner":{"account_id":13372,"reputation":16082,"user_id":26816,"accept_rate":69,"display_name":"RHSeeger"},"score":0,"creation_date":1255621787,"post_id":1572805,"comment_id":1433829,"body_markdown":"+1 for checking the source and reporting back. Admittedly, may be considered premature optimization, but good information nonetheless.","body":"+1 for checking the source and reporting back. Admittedly, may be considered premature optimization, but good information nonetheless."}],"tags":[],"owner":{"account_id":9921,"reputation":107684,"user_id":18511,"accept_rate":92,"display_name":"Kip"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1255618985,"creation_date":1255617496,"answer_id":1572805,"question_id":1572708,"body_markdown":"There is also [Integer.toString(int i)][1], which gives you the option of getting the string as a hex value as well (by passing a second param of 16).\r\n\r\n**Edit** I just checked the source of String class:\r\n\r\n    public static String valueOf(int i) {\r\n      return Integer.toString(i, 10);\r\n    }\r\n\r\nAnd Integer class:\r\n\r\n    public static String toString(int i, int radix) {\r\n      if (radix &lt; Character.MIN_RADIX || radix &gt; Character.MAX_RADIX)\r\n        radix = 10;\r\n      \r\n      /* Use the faster version */\r\n      if (radix == 10) {\r\n        return toString(i);\r\n      }\r\n      ...\r\n\r\n\r\nIf you call `String.valueOf(i)`, it calls `Integer.toString(i, 10)`, which then calls `Integer.toString(i)`.\r\n\r\nSo `Integer.toString(i)` should be *very slighty* faster than `String.valueOf(i)`, since you&#39;d be cutting out two function calls.  (Although the first function call could be optimized away by the compiler.)\r\n\r\n**Of course, a readability argument could still be made for `String.valueOf()`, since it allows you to change the type of the argument (and even handles nulls!), and the performance difference is negligible.**\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/Integer.html#toString%28int%29","title":"Is conversion to String using (&quot;&quot; + &lt;int value&gt;) bad practice?","body":"<p>There is also <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Integer.html#toString%28int%29\" rel=\"noreferrer\">Integer.toString(int i)</a>, which gives you the option of getting the string as a hex value as well (by passing a second param of 16).</p>\n\n<p><strong>Edit</strong> I just checked the source of String class:</p>\n\n<pre><code>public static String valueOf(int i) {\n  return Integer.toString(i, 10);\n}\n</code></pre>\n\n<p>And Integer class:</p>\n\n<pre><code>public static String toString(int i, int radix) {\n  if (radix &lt; Character.MIN_RADIX || radix &gt; Character.MAX_RADIX)\n    radix = 10;\n\n  /* Use the faster version */\n  if (radix == 10) {\n    return toString(i);\n  }\n  ...\n</code></pre>\n\n<p>If you call <code>String.valueOf(i)</code>, it calls <code>Integer.toString(i, 10)</code>, which then calls <code>Integer.toString(i)</code>.</p>\n\n<p>So <code>Integer.toString(i)</code> should be <em>very slighty</em> faster than <code>String.valueOf(i)</code>, since you'd be cutting out two function calls.  (Although the first function call could be optimized away by the compiler.)</p>\n\n<p><strong>Of course, a readability argument could still be made for <code>String.valueOf()</code>, since it allows you to change the type of the argument (and even handles nulls!), and the performance difference is negligible.</strong></p>\n"},{"tags":[],"owner":{"account_id":893830,"reputation":169,"user_id":931570,"display_name":"sb4"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609192665,"creation_date":1609192665,"answer_id":65484617,"question_id":1572708,"body_markdown":"I wonder what is best for static final variables contributing to compile-time constants:\r\n\r\n    public static final int VIEW_TYPE_LABEL_FIELD = 1;\r\n    public static final int VIEW_TYPE_HEADER_FIELD = ;\r\n    \r\n    ...\r\n    \r\n    List &lt;String[]&gt; listViewInfo = new ArrayList&lt;&gt;();\r\n    \r\n    listViewInfo.add(new String[]{&quot;Label/Field view&quot;, String.valueOf(VIEW_TYPE_LABEL_FIELD)});\r\n    listViewInfo.add(new String[]{&quot;Header/Field view&quot;, &quot;&quot; + VIEW_TYPE_LABEL_FIELD});\r\n\r\nThe compiler can potentially replace the String expressions with a constant.  Is one or the other more recognizable as a compile-time constant?  Maybe easier for the (&quot;&quot; + ..) construct?\r\n\r\n","title":"Is conversion to String using (&quot;&quot; + &lt;int value&gt;) bad practice?","body":"<p>I wonder what is best for static final variables contributing to compile-time constants:</p>\n<pre><code>public static final int VIEW_TYPE_LABEL_FIELD = 1;\npublic static final int VIEW_TYPE_HEADER_FIELD = ;\n\n...\n\nList &lt;String[]&gt; listViewInfo = new ArrayList&lt;&gt;();\n\nlistViewInfo.add(new String[]{&quot;Label/Field view&quot;, String.valueOf(VIEW_TYPE_LABEL_FIELD)});\nlistViewInfo.add(new String[]{&quot;Header/Field view&quot;, &quot;&quot; + VIEW_TYPE_LABEL_FIELD});\n</code></pre>\n<p>The compiler can potentially replace the String expressions with a constant.  Is one or the other more recognizable as a compile-time constant?  Maybe easier for the (&quot;&quot; + ..) construct?</p>\n"}],"owner":{"account_id":19114,"reputation":26335,"user_id":44522,"accept_rate":93,"display_name":"MicSim"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5572,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":1572724,"answer_count":8,"score":18,"last_activity_date":1673476316,"creation_date":1255616834,"question_id":1572708,"body_markdown":"Is conversion to String in Java using \r\n\r\n    &quot;&quot; + &lt;int value&gt;\r\n\r\nbad practice? Does it have any drawbacks compared to **String.valueOf(...)**?\r\n\r\nCode example:\r\n\r\n    int i = 25;\r\n    return &quot;&quot; + i;\r\n\r\nvs:\r\n\r\n    int i = 25;\r\n    return String.valueOf(i);\r\n\r\n**Update:** (from comment)\r\n\r\nAnd what about **Integer.toString(int i)** compared to **String.valueOf(...)**?\r\n","title":"Is conversion to String using (&quot;&quot; + &lt;int value&gt;) bad practice?","body":"<p>Is conversion to String in Java using </p>\n\n<pre><code>\"\" + &lt;int value&gt;\n</code></pre>\n\n<p>bad practice? Does it have any drawbacks compared to <strong>String.valueOf(...)</strong>?</p>\n\n<p>Code example:</p>\n\n<pre><code>int i = 25;\nreturn \"\" + i;\n</code></pre>\n\n<p>vs:</p>\n\n<pre><code>int i = 25;\nreturn String.valueOf(i);\n</code></pre>\n\n<p><strong>Update:</strong> (from comment)</p>\n\n<p>And what about <strong>Integer.toString(int i)</strong> compared to <strong>String.valueOf(...)</strong>?</p>\n"},{"tags":["java","ant"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673480238,"post_id":75089647,"comment_id":132511664,"body_markdown":"*So, how can I tell to Ant to link jsch libraries on my file system in programmatically way (so in my Test.java)?* Why do you need to do it programmatically when you have deploy.xml?","body":"<i>So, how can I tell to Ant to link jsch libraries on my file system in programmatically way (so in my Test.java)?</i> Why do you need to do it programmatically when you have deploy.xml?"},{"owner":{"account_id":2731170,"reputation":41,"user_id":2354933,"display_name":"vcestra"},"score":0,"creation_date":1673511182,"post_id":75089647,"comment_id":132516677,"body_markdown":"Because this is a software product is sold to clients.\nWe don&#39;t want that clients do a lot of updates on ant file (deploy.xml).\nWe would to add libraries in Ant Classpath dinamically and programmatically. So, in my Java program  I would link Ant to an external folder that contains jar libs.","body":"Because this is a software product is sold to clients. We don&#39;t want that clients do a lot of updates on ant file (deploy.xml). We would to add libraries in Ant Classpath dinamically and programmatically. So, in my Java program  I would link Ant to an external folder that contains jar libs."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673513492,"post_id":75089647,"comment_id":132517364,"body_markdown":"I still don&#39;t get it. Since the supporting libraries would be shipped and placed by you, why would you *not* know where they are and thus specify    this in the config?","body":"I still don&#39;t get it. Since the supporting libraries would be shipped and placed by you, why would you <i>not</i> know where they are and thus specify    this in the config?"},{"owner":{"account_id":2731170,"reputation":41,"user_id":2354933,"display_name":"vcestra"},"score":0,"creation_date":1673513680,"post_id":75089647,"comment_id":132517438,"body_markdown":"The libraries would be shipped and placed by client. A client can choose what libraries put in classpath Ant.","body":"The libraries would be shipped and placed by client. A client can choose what libraries put in classpath Ant."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673514096,"post_id":75089647,"comment_id":132517583,"body_markdown":"That location can and *should* be specified by you or you will open yourself up to a lot of wholly unnecessary trouble.","body":"That location can and <i>should</i> be specified by you or you will open yourself up to a lot of wholly unnecessary trouble."},{"owner":{"account_id":2731170,"reputation":41,"user_id":2354933,"display_name":"vcestra"},"score":0,"creation_date":1673519197,"post_id":75089647,"comment_id":132519397,"body_markdown":"The location where libraries are located is configurable by client through property. So I ask if there is a way to load this path where jars are located dynamically and programmatically.","body":"The location where libraries are located is configurable by client through property. So I ask if there is a way to load this path where jars are located dynamically and programmatically."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673523543,"post_id":75089647,"comment_id":132520814,"body_markdown":"You might need to set a classpath including these libraries *before* executing Ant programmatically. That would probably mean in effect that you need to execute *another Java process programmatically* but as I said, I think this is very much an unnecessary complication","body":"You might need to set a classpath including these libraries <i>before</i> executing Ant programmatically. That would probably mean in effect that you need to execute <i>another Java process programmatically</i> but as I said, I think this is very much an unnecessary complication"},{"owner":{"account_id":4076597,"reputation":4537,"user_id":3348112,"accept_rate":75,"display_name":"CAustin"},"score":0,"creation_date":1673686665,"post_id":75089647,"comment_id":132557090,"body_markdown":"So just to be clear, you&#39;re expecting the client to provide jsch.jar on their own file system? What if they have an incompatible version, or a version that behaves differently? You should include the jar that you&#39;ve tested as a necessary runtime dependency in whatever you&#39;re shipping out to people. This approach makes no sense.","body":"So just to be clear, you&#39;re expecting the client to provide jsch.jar on their own file system? What if they have an incompatible version, or a version that behaves differently? You should include the jar that you&#39;ve tested as a necessary runtime dependency in whatever you&#39;re shipping out to people. This approach makes no sense."}],"owner":{"account_id":2731170,"reputation":41,"user_id":2354933,"display_name":"vcestra"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673475905,"creation_date":1673475905,"question_id":75089647,"body_markdown":"I&#39;m working on a Java project that exec Ant target task on runtime.\r\nOn my pom file I have this dependency:\r\n\r\n**pom.xml**\r\n\r\n```\r\n     &lt;dependency&gt;\r\n       \t&lt;groupId&gt;org.apache.ant&lt;/groupId&gt;\r\n       \t&lt;artifactId&gt;ant&lt;/artifactId&gt;\r\n       \t&lt;version&gt;${ant.version}&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n```\r\n\r\nI have to run \\&lt;scp\\&gt; task that is included in a target container task (called scp-test-target).\r\nBelow you can see the ant file:\r\n\r\n**deploy.xml**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project name=&quot;test&quot; basedir=&quot;./&quot;&gt;\r\n\r\n\t&lt;target name=&quot;scp-test-target&quot; description=&quot;scp desc&quot;&gt;\r\n\t\t&lt;echo message=&quot;Test SCP&quot;/&gt;\r\n\t\t&lt;scp file=&quot;...&quot; todir=&quot;...&quot;/&gt;\r\n\t&lt;/target&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nI have created a junit file to exec &#39;scp-test-target&#39;:\r\n\r\n**Test.java**\r\n\r\n```\r\n @Test\r\n public void testAnt1(){\r\n Project antProject = new Project();\r\n ProjectHelper projectHelper = ProjectHelper.getProjectHelper();\r\n antProject.addReference(&quot;ant.projectHelper&quot;, projectHelper);\r\n antProject.setUserProperty(&quot;ant.file&quot;, &quot;deploy.xml&quot;);\r\n\r\n antProject.fireBuildStarted();\r\n antProject.init();\r\n projectHelper.parse(antProject, new File(&quot;deploy.xml&quot;));\r\n antProject.executeTarget(&quot;scp-test-target&quot;);\r\n antProject.fireBuildFinished(null);\r\n\r\n     }\r\n```\r\n\r\nBut when I run my junit test, the program failed because it not find jsch library.\r\n\r\n```\r\nProblem: failed to create task or type scp\r\nCause: the class org.apache.tools.ant.taskdefs.optional.ssh.Scp was not found.\r\n        This looks like one of Ant&#39;s optional components.\r\n```\r\n\r\nSo, how can I tell to Ant  to link jsch libraries on my file system in programmatically way (so in my Test.java)?\r\n\r\nThanks in advance","title":"Set project ant classpath programatically","body":"<p>I'm working on a Java project that exec Ant target task on runtime.\nOn my pom file I have this dependency:</p>\n<p><strong>pom.xml</strong></p>\n<pre><code>     &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.ant&lt;/groupId&gt;\n        &lt;artifactId&gt;ant&lt;/artifactId&gt;\n        &lt;version&gt;${ant.version}&lt;/version&gt;\n     &lt;/dependency&gt;\n</code></pre>\n<p>I have to run &lt;scp&gt; task that is included in a target container task (called scp-test-target).\nBelow you can see the ant file:</p>\n<p><strong>deploy.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project name=&quot;test&quot; basedir=&quot;./&quot;&gt;\n\n    &lt;target name=&quot;scp-test-target&quot; description=&quot;scp desc&quot;&gt;\n        &lt;echo message=&quot;Test SCP&quot;/&gt;\n        &lt;scp file=&quot;...&quot; todir=&quot;...&quot;/&gt;\n    &lt;/target&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I have created a junit file to exec 'scp-test-target':</p>\n<p><strong>Test.java</strong></p>\n<pre><code> @Test\n public void testAnt1(){\n Project antProject = new Project();\n ProjectHelper projectHelper = ProjectHelper.getProjectHelper();\n antProject.addReference(&quot;ant.projectHelper&quot;, projectHelper);\n antProject.setUserProperty(&quot;ant.file&quot;, &quot;deploy.xml&quot;);\n\n antProject.fireBuildStarted();\n antProject.init();\n projectHelper.parse(antProject, new File(&quot;deploy.xml&quot;));\n antProject.executeTarget(&quot;scp-test-target&quot;);\n antProject.fireBuildFinished(null);\n\n     }\n</code></pre>\n<p>But when I run my junit test, the program failed because it not find jsch library.</p>\n<pre><code>Problem: failed to create task or type scp\nCause: the class org.apache.tools.ant.taskdefs.optional.ssh.Scp was not found.\n        This looks like one of Ant's optional components.\n</code></pre>\n<p>So, how can I tell to Ant  to link jsch libraries on my file system in programmatically way (so in my Test.java)?</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","locale"],"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1673480653,"post_id":75089570,"comment_id":132511723,"body_markdown":"I think the issue stems from the fact that `en_US_POSIX` is an acceptable tag to return for a request of just `en-US`. Try removing the `-POSIX` input and you&#39;ll see that both will be returned. If you want your inputs to be considered the *most specific* tag to match (i.e. only `en-us-posix` should match itself, but `en-us` should only match `en-us`), then you need to use the lookup functions instead. `Locale.lookup(ranges, allLocales)` will return `en_US` with your input.","body":"I think the issue stems from the fact that <code>en_US_POSIX</code> is an acceptable tag to return for a request of just <code>en-US</code>. Try removing the <code>-POSIX</code> input and you&#39;ll see that both will be returned. If you want your inputs to be considered the <i>most specific</i> tag to match (i.e. only <code>en-us-posix</code> should match itself, but <code>en-us</code> should only match <code>en-us</code>), then you need to use the lookup functions instead. <code>Locale.lookup(ranges, allLocales)</code> will return <code>en_US</code> with your input."},{"owner":{"account_id":4904476,"reputation":4812,"user_id":3951576,"accept_rate":50,"display_name":"eastwater"},"score":0,"creation_date":1673557214,"post_id":75089570,"comment_id":132532489,"body_markdown":"Thanks. The weight 1.0 is not honored.","body":"Thanks. The weight 1.0 is not honored."},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1673598082,"post_id":75089570,"comment_id":132539398,"body_markdown":"No, that&#39;s not what I&#39;m telling you: `en-US;q=1.0` **is** honored. It just so happens that this specific request will match **both** `en-US` and `en-US-POSIX`. Try requesting **just** `en-US;q=1.0` and you&#39;ll observe that you get the same response back.","body":"No, that&#39;s not what I&#39;m telling you: <code>en-US;q=1.0</code> <b>is</b> honored. It just so happens that this specific request will match <b>both</b> <code>en-US</code> and <code>en-US-POSIX</code>. Try requesting <b>just</b> <code>en-US;q=1.0</code> and you&#39;ll observe that you get the same response back."},{"owner":{"account_id":4904476,"reputation":4812,"user_id":3951576,"accept_rate":50,"display_name":"eastwater"},"score":0,"creation_date":1673769378,"post_id":75089570,"comment_id":132568798,"body_markdown":"en-US-POSIX has weight 0.9. It is explicitly listed, and should be honored.","body":"en-US-POSIX has weight 0.9. It is explicitly listed, and should be honored."},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1673787758,"post_id":75089570,"comment_id":132571449,"body_markdown":"I don&#39;t know how many more ways to tell you this: If the request of `en-US` already matches `en-US-POSIX`, then the weight of `en-US` is the relevant thing for deciding where to put that result. The presence of `en-US-POSIX` in your list of requested tags is a red herring.","body":"I don&#39;t know how many more ways to tell you this: If the request of <code>en-US</code> already matches <code>en-US-POSIX</code>, then the weight of <code>en-US</code> is the relevant thing for deciding where to put that result. The presence of <code>en-US-POSIX</code> in your list of requested tags is a red herring."}],"owner":{"account_id":4904476,"reputation":4812,"user_id":3951576,"accept_rate":50,"display_name":"eastwater"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673475253,"creation_date":1673475253,"question_id":75089570,"body_markdown":"Java Locale LanguageRange: how to list en-US-POSIX after en-US?\r\n\r\n\t\tList&lt;LanguageRange&gt; ranges = LanguageRange.parse(&quot;en-US;q=1.0,en-US-POSIX;q=0.9&quot;);\r\n\r\n\t\tList&lt;Locale&gt; locales = Locale.filter(ranges,\r\n\t\t\t\tArrays.asList(Locale.getAvailableLocales()));\r\n\r\n\r\nThe result is en-US-POSIX, en-US.\r\n\r\nThe order expected is en-US, en-US-POSIX.\r\n\r\njava 11.","title":"Java Locale LanguageRange priority list: how to list en-US-POSIX after en-US?","body":"<p>Java Locale LanguageRange: how to list en-US-POSIX after en-US?</p>\n<pre><code>    List&lt;LanguageRange&gt; ranges = LanguageRange.parse(&quot;en-US;q=1.0,en-US-POSIX;q=0.9&quot;);\n\n    List&lt;Locale&gt; locales = Locale.filter(ranges,\n            Arrays.asList(Locale.getAvailableLocales()));\n</code></pre>\n<p>The result is en-US-POSIX, en-US.</p>\n<p>The order expected is en-US, en-US-POSIX.</p>\n<p>java 11.</p>\n"},{"tags":["java","spring-boot","csv"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1673467749,"post_id":75088379,"comment_id":132508482,"body_markdown":"Use a CSV API such as OpenCsv","body":"Use a CSV API such as OpenCsv"}],"answers":[{"comments":[{"owner":{"account_id":19242815,"reputation":75,"user_id":14062455,"display_name":"stubbledweb1995"},"score":1,"creation_date":1673472013,"post_id":75088871,"comment_id":132509811,"body_markdown":"Yes, each row will always match the column count for the header. There might be some null or empty values here and there. But most of them will be populated. Thank you","body":"Yes, each row will always match the column count for the header. There might be some null or empty values here and there. But most of them will be populated. Thank you"},{"owner":{"account_id":19242815,"reputation":75,"user_id":14062455,"display_name":"stubbledweb1995"},"score":0,"creation_date":1673474516,"post_id":75088871,"comment_id":132510457,"body_markdown":"```Index 53 out of bounds for length 53\njava.lang.ArrayIndexOutOfBoundsException: Index 53 out of bounds for length 53\n```\nI am getting this error when I am trying to retrieve the code. So, when you meant that the row should have the same column count as the header. Does each and every row needs to be populated?","body":"<code>Index 53 out of bounds for length 53 java.lang.ArrayIndexOutOfBoundsException: Index 53 out of bounds for length 53 </code> I am getting this error when I am trying to retrieve the code. So, when you meant that the row should have the same column count as the header. Does each and every row needs to be populated?"},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1673475385,"post_id":75088871,"comment_id":132510718,"body_markdown":"@stubbledweb1995 depends on what the disired behavior in such a case should be. Do you want to ignore that line, throw an exception, fill with a default value or keep it as an empty string ...? if you want to keep the empty strings just use the split method with a limit parameter `-1`  like : `getRowData(header, line.split(&quot;,&quot;, -1))`","body":"@stubbledweb1995 depends on what the disired behavior in such a case should be. Do you want to ignore that line, throw an exception, fill with a default value or keep it as an empty string ...? if you want to keep the empty strings just use the split method with a limit parameter <code>-1</code>  like : <code>getRowData(header, line.split(&quot;,&quot;, -1))</code>"},{"owner":{"account_id":19242815,"reputation":75,"user_id":14062455,"display_name":"stubbledweb1995"},"score":0,"creation_date":1673476681,"post_id":75088871,"comment_id":132511012,"body_markdown":"Thank you once again, it works like a charm.","body":"Thank you once again, it works like a charm."}],"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673470232,"creation_date":1673470232,"answer_id":75088871,"question_id":75088379,"body_markdown":"Assuming your file is well formed and each row has the same column count as your header, something like below migght be a starting point:\r\n\r\n    import java.io.IOException;\r\n    import java.nio.charset.Charset;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    import java.util.LinkedHashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.concurrent.atomic.AtomicInteger;\r\n    import java.util.stream.Collectors;\r\n    import java.util.stream.IntStream;\r\n    \r\n    public final class Example {\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n\r\n            //create a map    \r\n            Map&lt;String, Map&lt;String, String&gt;&gt; map = new LinkedHashMap&lt;&gt;();\r\n    \r\n            Path filePath = Paths.get(&quot;path to your/test.csv&quot;);\r\n            Charset charset = StandardCharsets.UTF_8;\r\n    \r\n            //read the file\r\n            List&lt;String&gt; fileContent = Files.readAllLines(filePath, charset);\r\n    \r\n            // get the header\r\n            String[] header = fileContent.get(0).split(&quot;,&quot;);\r\n    \r\n            AtomicInteger lineNumber = new AtomicInteger(1);\r\n    \r\n            //fill the map\r\n            fileContent.stream()\r\n                       .skip(1)\r\n                       .forEach(line -&gt; map.put(\r\n                               String.valueOf(lineNumber.getAndIncrement()),\r\n                               getRowData(header, line.split(&quot;,&quot;))));\r\n    \r\n            System.out.println(map);\r\n        }\r\n    \r\n        // helper method to make the filling of the map in the stream readable\r\n        private static Map&lt;String, String&gt; getRowData(final String[] header, final String[] line) {\r\n            return IntStream.range(0, header.length)\r\n                            .mapToObj(i -&gt; Map.entry(header[i], line[i]))\r\n                            .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\r\n        }\r\n    }","title":"Java - How to read a CSV file into a Map&lt;String, Map&lt;String, String&gt;&gt;","body":"<p>Assuming your file is well formed and each row has the same column count as your header, something like below migght be a starting point:</p>\n<pre><code>import java.io.IOException;\nimport java.nio.charset.Charset;\nimport java.nio.charset.StandardCharsets;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.LinkedHashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.concurrent.atomic.AtomicInteger;\nimport java.util.stream.Collectors;\nimport java.util.stream.IntStream;\n\npublic final class Example {\n\n    public static void main(String[] args) throws IOException {\n\n        //create a map    \n        Map&lt;String, Map&lt;String, String&gt;&gt; map = new LinkedHashMap&lt;&gt;();\n\n        Path filePath = Paths.get(&quot;path to your/test.csv&quot;);\n        Charset charset = StandardCharsets.UTF_8;\n\n        //read the file\n        List&lt;String&gt; fileContent = Files.readAllLines(filePath, charset);\n\n        // get the header\n        String[] header = fileContent.get(0).split(&quot;,&quot;);\n\n        AtomicInteger lineNumber = new AtomicInteger(1);\n\n        //fill the map\n        fileContent.stream()\n                   .skip(1)\n                   .forEach(line -&gt; map.put(\n                           String.valueOf(lineNumber.getAndIncrement()),\n                           getRowData(header, line.split(&quot;,&quot;))));\n\n        System.out.println(map);\n    }\n\n    // helper method to make the filling of the map in the stream readable\n    private static Map&lt;String, String&gt; getRowData(final String[] header, final String[] line) {\n        return IntStream.range(0, header.length)\n                        .mapToObj(i -&gt; Map.entry(header[i], line[i]))\n                        .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19242815,"reputation":75,"user_id":14062455,"display_name":"stubbledweb1995"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":418,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75088871,"answer_count":1,"score":0,"last_activity_date":1673474688,"creation_date":1673466935,"question_id":75088379,"body_markdown":"Input (CSV File)\r\n\r\n```Header1,Header2,Header3```\r\n\r\n```Data1,Data2,Data3```\r\n\r\n```Data4,Data5,Data6```\r\n\r\n```Data7,,```\r\n\r\n```,,Data8```\r\n\r\nI am trying to parse through a CSV file similar to the above structure and store the data into a Map&lt;String (Row Number), Map&lt;String (Column Header), String (Column Value)&gt;&gt;.\r\n    ","title":"Java - How to read a CSV file into a Map&lt;String, Map&lt;String, String&gt;&gt;","body":"<p>Input (CSV File)</p>\n<p><code>Header1,Header2,Header3</code></p>\n<p><code>Data1,Data2,Data3</code></p>\n<p><code>Data4,Data5,Data6</code></p>\n<p><code>Data7,,</code></p>\n<p><code>,,Data8</code></p>\n<p>I am trying to parse through a CSV file similar to the above structure and store the data into a Map&lt;String (Row Number), Map&lt;String (Column Header), String (Column Value)&gt;&gt;.</p>\n"},{"tags":["java","selenium","selenium-webdriver","microsoft-edge","qaf"],"answers":[{"tags":[],"owner":{"account_id":460481,"reputation":5813,"user_id":861594,"display_name":"user861594"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673472557,"creation_date":1673472557,"answer_id":75089187,"question_id":75063314,"body_markdown":"Problem is in `return new QAFExtendedWebDriver();` you need to use constructor with capabilities object `return new QAFExtendedWebDriver(capabilities);`. \r\n\r\nAssuming that you have set driver name and driver capabilities, the right way is to use `getDriver()` method from test base in one of the following ways:\r\n\r\n```\r\nnew WebDriverTestBase().getDriver();\r\nnew WebDriverTestCase().getDriver();\r\n(QAFExtendedWebDriver)TestBaseProvider.instance().get().getUiDriver();\r\n\r\n```\r\n\r\nEasiest way to create capability in json format is to create capability object and print. For example:\r\n```\r\npublic static void main(String[] args) throws ScriptException {\r\n\t\tInternetExplorerOptions iExplorerOptions = new InternetExplorerOptions();\r\n\t\tiExplorerOptions.setCapability(InternetExplorerDriver.FORCE_CREATE_PROCESS, true);\r\n\t\tiExplorerOptions.setCapability(InternetExplorerDriver.IE_SWITCHES, &quot;-private&quot;);\r\n\t\tiExplorerOptions.attachToEdgeChrome();\r\n\t\tiExplorerOptions.ignoreZoomSettings();\r\n\t\tiExplorerOptions.setCapability(&quot;ignoreProtectedModeSettings&quot;, true);\r\n\t\tiExplorerOptions.withEdgeExecutablePath(&quot;C:/Program Files (x86)/Microsoft/Edge/Application/msedge.exe&quot;);\r\n\t\t\r\n\t\tSystem.out.println(JSONUtil.toString(iExplorerOptions.asMap()));\r\n}\r\n```\r\nthis will print \r\n\r\n&gt; {&quot;browserName&quot;:&quot;internet explorer&quot;,&quot;ie.browserCommandLineSwitches&quot;:&quot;-private&quot;,&quot;ie.edgechromium&quot;:true,&quot;ie.edgepath&quot;:&quot;C:/Program Files (x86)/Microsoft/Edge/Application/msedge.exe&quot;,&quot;ie.forceCreateProcessApi&quot;:true,&quot;ignoreProtectedModeSettings&quot;:true,&quot;ignoreZoomSetting&quot;:true,&quot;se:ieOptions&quot;:{&quot;ie.edgechromium&quot;:true,&quot;ie.browserCommandLineSwitches&quot;:&quot;-private&quot;,&quot;ie.forceCreateProcessApi&quot;:true,&quot;ignoreZoomSetting&quot;:true,&quot;ie.edgepath&quot;:&quot;C:/Program Files (x86)/Microsoft/Edge/Application/msedge.exe&quot;,&quot;ignoreProtectedModeSettings&quot;:true}}\r\n\r\n\r\nif you have used driver name as `iexplorer` set capability for edge driver from above reference.\r\n\r\n```\r\ndriver.name=iexplorerDriver\r\niexplorer.additional.capabilities={&quot;browserName&quot;:&quot;internet explorer&quot;,&quot;ie.browserCommandLineSwitches&quot;:&quot;-private&quot;,&quot;ie.edgechromium&quot;:true,&quot;ie.edgepath&quot;:&quot;C:/Program Files (x86)/Microsoft/Edge/Application/msedge.exe&quot;,&quot;ie.forceCreateProcessApi&quot;:true,&quot;ignoreProtectedModeSettings&quot;:true,&quot;ignoreZoomSetting&quot;:true,&quot;se:ieOptions&quot;:{&quot;ie.edgechromium&quot;:true,&quot;ie.browserCommandLineSwitches&quot;:&quot;-private&quot;,&quot;ie.forceCreateProcessApi&quot;:true,&quot;ignoreZoomSetting&quot;:true,&quot;ie.edgepath&quot;:&quot;C:/Program Files (x86)/Microsoft/Edge/Application/msedge.exe&quot;,&quot;ignoreProtectedModeSettings&quot;:true}}\r\n```\r\n\r\n","title":"Edge IE mode not working as expected in Qmetry","body":"<p>Problem is in <code>return new QAFExtendedWebDriver();</code> you need to use constructor with capabilities object <code>return new QAFExtendedWebDriver(capabilities);</code>.</p>\n<p>Assuming that you have set driver name and driver capabilities, the right way is to use <code>getDriver()</code> method from test base in one of the following ways:</p>\n<pre><code>new WebDriverTestBase().getDriver();\nnew WebDriverTestCase().getDriver();\n(QAFExtendedWebDriver)TestBaseProvider.instance().get().getUiDriver();\n\n</code></pre>\n<p>Easiest way to create capability in json format is to create capability object and print. For example:</p>\n<pre><code>public static void main(String[] args) throws ScriptException {\n        InternetExplorerOptions iExplorerOptions = new InternetExplorerOptions();\n        iExplorerOptions.setCapability(InternetExplorerDriver.FORCE_CREATE_PROCESS, true);\n        iExplorerOptions.setCapability(InternetExplorerDriver.IE_SWITCHES, &quot;-private&quot;);\n        iExplorerOptions.attachToEdgeChrome();\n        iExplorerOptions.ignoreZoomSettings();\n        iExplorerOptions.setCapability(&quot;ignoreProtectedModeSettings&quot;, true);\n        iExplorerOptions.withEdgeExecutablePath(&quot;C:/Program Files (x86)/Microsoft/Edge/Application/msedge.exe&quot;);\n        \n        System.out.println(JSONUtil.toString(iExplorerOptions.asMap()));\n}\n</code></pre>\n<p>this will print</p>\n<blockquote>\n<p>{&quot;browserName&quot;:&quot;internet explorer&quot;,&quot;ie.browserCommandLineSwitches&quot;:&quot;-private&quot;,&quot;ie.edgechromium&quot;:true,&quot;ie.edgepath&quot;:&quot;C:/Program Files (x86)/Microsoft/Edge/Application/msedge.exe&quot;,&quot;ie.forceCreateProcessApi&quot;:true,&quot;ignoreProtectedModeSettings&quot;:true,&quot;ignoreZoomSetting&quot;:true,&quot;se:ieOptions&quot;:{&quot;ie.edgechromium&quot;:true,&quot;ie.browserCommandLineSwitches&quot;:&quot;-private&quot;,&quot;ie.forceCreateProcessApi&quot;:true,&quot;ignoreZoomSetting&quot;:true,&quot;ie.edgepath&quot;:&quot;C:/Program Files (x86)/Microsoft/Edge/Application/msedge.exe&quot;,&quot;ignoreProtectedModeSettings&quot;:true}}</p>\n</blockquote>\n<p>if you have used driver name as <code>iexplorer</code> set capability for edge driver from above reference.</p>\n<pre><code>driver.name=iexplorerDriver\niexplorer.additional.capabilities={&quot;browserName&quot;:&quot;internet explorer&quot;,&quot;ie.browserCommandLineSwitches&quot;:&quot;-private&quot;,&quot;ie.edgechromium&quot;:true,&quot;ie.edgepath&quot;:&quot;C:/Program Files (x86)/Microsoft/Edge/Application/msedge.exe&quot;,&quot;ie.forceCreateProcessApi&quot;:true,&quot;ignoreProtectedModeSettings&quot;:true,&quot;ignoreZoomSetting&quot;:true,&quot;se:ieOptions&quot;:{&quot;ie.edgechromium&quot;:true,&quot;ie.browserCommandLineSwitches&quot;:&quot;-private&quot;,&quot;ie.forceCreateProcessApi&quot;:true,&quot;ignoreZoomSetting&quot;:true,&quot;ie.edgepath&quot;:&quot;C:/Program Files (x86)/Microsoft/Edge/Application/msedge.exe&quot;,&quot;ignoreProtectedModeSettings&quot;:true}}\n</code></pre>\n"}],"owner":{"account_id":556585,"reputation":1,"user_id":5021740,"display_name":"ashok varma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673474498,"creation_date":1673301189,"question_id":75063314,"body_markdown":" I want to run edge ie mode using qmetry. We are getting wired blank white IE page being opened when we click on login button in our application. Same website works fine when i executed it without qmetry. \r\n\r\nstandalone code:\r\n\r\n```\r\nSystem.setProperty(&quot;webdriver.ie.driver&quot;, Global.WINDOWS_USER_HOME + &quot;\\.cache\\selenium\\IEDriverServer\\win64\\&quot; + IEversion + &quot;\\IEDriverServer.exe&quot;);\r\nInternetExplorerOptions iExplorerOptions = new InternetExplorerOptions();\r\niExplorerOptions.setCapability(InternetExplorerDriver.FORCE_CREATE_PROCESS, true);\r\niExplorerOptions.setCapability(InternetExplorerDriver.IE_SWITCHES, &quot;-private&quot;);\r\niExplorerOptions.attachToEdgeChrome();\r\niExplorerOptions.ignoreZoomSettings();\r\niExplorerOptions.setCapability(&quot;ignoreProtectedModeSettings&quot;, true);\r\niExplorerOptions.withEdgeExecutablePath(&quot;C:\\Program Files (x86)\\Microsoft\\Edge\\Application\\msedge.exe&quot;);\r\nreturn new InternetExplorerDriver(new BrowserFactory().setInternetExplorerOptions());`\r\n```\r\n**Code used for Qmetry**\r\n\r\n```\r\nString IEversion = downloadWebDriver();\r\nSystem.setProperty(&quot;webdriver.ie.driver&quot;, Global.WINDOWS_USER_HOME + &quot;\\.cache\\selenium\\IEDriverServer\\win64\\&quot; + IEversion + &quot;\\IEDriverServer.exe&quot;);\r\nConfigurationManager.getBundle().setProperty(&quot;iexplorer.additional.capabilities&quot;, &quot;{&#39;initialBrowserUrl&#39;:&#39;&quot; + Global.IE_INITIAL_BROWSERURL + &quot;&#39;,&#39;ignoreProtectedModeSettings&#39;: true,&#39;ignoreZoomSetting&#39;: true,&#39;ie.browserCommandLineSwitches&#39;:&#39;-private&#39;,&#39;ie.edgechromium&#39;:true,&#39;ie.edgepath&#39;:&#39;C://Program Files (x86)//Microsoft//Edge//Application//msedge.exe&#39;,&#39;ie.forceCreateProcessApi&#39;:true}&quot;);\r\nGlobal.driver.set(new QAFExtendedWebDriver());\t\r\nreturn new QAFExtendedWebDriver();\r\n```\r\n\r\nCould you please take a look and let us know what is wrong with QAF 3.1.0?\r\n\r\n\r\n![enter image description here](https://i.stack.imgur.com/90pPc.png)\r\n","title":"Edge IE mode not working as expected in Qmetry","body":"<p>I want to run edge ie mode using qmetry. We are getting wired blank white IE page being opened when we click on login button in our application. Same website works fine when i executed it without qmetry.</p>\n<p>standalone code:</p>\n<pre><code>System.setProperty(&quot;webdriver.ie.driver&quot;, Global.WINDOWS_USER_HOME + &quot;\\.cache\\selenium\\IEDriverServer\\win64\\&quot; + IEversion + &quot;\\IEDriverServer.exe&quot;);\nInternetExplorerOptions iExplorerOptions = new InternetExplorerOptions();\niExplorerOptions.setCapability(InternetExplorerDriver.FORCE_CREATE_PROCESS, true);\niExplorerOptions.setCapability(InternetExplorerDriver.IE_SWITCHES, &quot;-private&quot;);\niExplorerOptions.attachToEdgeChrome();\niExplorerOptions.ignoreZoomSettings();\niExplorerOptions.setCapability(&quot;ignoreProtectedModeSettings&quot;, true);\niExplorerOptions.withEdgeExecutablePath(&quot;C:\\Program Files (x86)\\Microsoft\\Edge\\Application\\msedge.exe&quot;);\nreturn new InternetExplorerDriver(new BrowserFactory().setInternetExplorerOptions());`\n</code></pre>\n<p><strong>Code used for Qmetry</strong></p>\n<pre><code>String IEversion = downloadWebDriver();\nSystem.setProperty(&quot;webdriver.ie.driver&quot;, Global.WINDOWS_USER_HOME + &quot;\\.cache\\selenium\\IEDriverServer\\win64\\&quot; + IEversion + &quot;\\IEDriverServer.exe&quot;);\nConfigurationManager.getBundle().setProperty(&quot;iexplorer.additional.capabilities&quot;, &quot;{'initialBrowserUrl':'&quot; + Global.IE_INITIAL_BROWSERURL + &quot;','ignoreProtectedModeSettings': true,'ignoreZoomSetting': true,'ie.browserCommandLineSwitches':'-private','ie.edgechromium':true,'ie.edgepath':'C://Program Files (x86)//Microsoft//Edge//Application//msedge.exe','ie.forceCreateProcessApi':true}&quot;);\nGlobal.driver.set(new QAFExtendedWebDriver());  \nreturn new QAFExtendedWebDriver();\n</code></pre>\n<p>Could you please take a look and let us know what is wrong with QAF 3.1.0?</p>\n<p><img src=\"https://i.stack.imgur.com/90pPc.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","spring","postgresql","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1672583526,"post_id":74975173,"comment_id":132308570,"body_markdown":"Can you please share application.properties file","body":"Can you please share application.properties file"},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1672583740,"post_id":74975173,"comment_id":132308604,"body_markdown":"`user` is a [reserved word in PostgreSQL](https://www.postgresql.org/docs/current/sql-keywords-appendix.html), you need to chose another table name for your entity.","body":"<code>user</code> is a <a href=\"https://www.postgresql.org/docs/current/sql-keywords-appendix.html\" rel=\"nofollow noreferrer\">reserved word in PostgreSQL</a>, you need to chose another table name for your entity."},{"owner":{"account_id":21018819,"reputation":362,"user_id":15445661,"display_name":"Ra&#250;l Pe&#241;ate"},"score":0,"creation_date":1672583741,"post_id":74975173,"comment_id":132308605,"body_markdown":"@RohitAgarwal Sure, I updated the question with the file.","body":"@RohitAgarwal Sure, I updated the question with the file."},{"owner":{"account_id":21018819,"reputation":362,"user_id":15445661,"display_name":"Ra&#250;l Pe&#241;ate"},"score":0,"creation_date":1672583923,"post_id":74975173,"comment_id":132308629,"body_markdown":"@AndreyB.Panfilov Holy moly, yeah I rename it to `users` and it worked, thanks!!! feel free to post your answer so it helps more people, happy new year guys &#129730;","body":"@AndreyB.Panfilov Holy moly, yeah I rename it to <code>users</code> and it worked, thanks!!! feel free to post your answer so it helps more people, happy new year guys "}],"answers":[{"comments":[{"owner":{"account_id":21018819,"reputation":362,"user_id":15445661,"display_name":"Ra&#250;l Pe&#241;ate"},"score":0,"creation_date":1672775391,"post_id":74975220,"comment_id":132349034,"body_markdown":"This is really cool, is there a way to do this but with spring code?","body":"This is really cool, is there a way to do this but with spring code?"}],"tags":[],"owner":{"account_id":20330230,"reputation":1064,"user_id":14912402,"display_name":"WiatroBosy"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1672583901,"creation_date":1672583901,"answer_id":74975220,"question_id":74975173,"body_markdown":"    create table public.user ( id serial not null, \r\n\t\t\t\t   email varchar(255), \r\n\t\t\t\t   name varchar(255), \r\n\t\t\t\t   priority integer, \r\n\t\t\t\t   primary key (id))\r\n\r\nadd the schema name before the table name\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/z7x85.png","title":"Entity not creating table in DB","body":"<pre><code>create table public.user ( id serial not null, \n               email varchar(255), \n               name varchar(255), \n               priority integer, \n               primary key (id))\n</code></pre>\n<p>add the schema name before the table name</p>\n<p><a href=\"https://i.stack.imgur.com/z7x85.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z7x85.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":15016872,"reputation":21,"user_id":10839630,"display_name":"Altan Mehmet T&#252;rkmen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672757279,"creation_date":1672757279,"answer_id":74994926,"question_id":74975173,"body_markdown":"You need to specify the schema name in table and id fields like this:\r\n\r\n    @Table(name = &quot;anomaly&quot;, schema = &quot;schema_name&quot;)\r\n    public class Anomaly {\r\n\r\n    @Id\r\n    @SequenceGenerator(name = &quot;id&quot;,  allocationSize = 1, schema = &quot;schema_name&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;)\r\n    private Long anomalyId;","title":"Entity not creating table in DB","body":"<p>You need to specify the schema name in table and id fields like this:</p>\n<pre><code>@Table(name = &quot;anomaly&quot;, schema = &quot;schema_name&quot;)\npublic class Anomaly {\n\n@Id\n@SequenceGenerator(name = &quot;id&quot;,  allocationSize = 1, schema = &quot;schema_name&quot;)\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = &quot;id&quot;)\nprivate Long anomalyId;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25770182,"reputation":29,"user_id":19519118,"display_name":"surendra ingle"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673428817,"creation_date":1673428817,"answer_id":75080719,"question_id":74975173,"body_markdown":"user is a reserved word in Postgresql thats why it show an error\r\nuse a different word like &quot;users&quot; &quot;usersId&quot;.","title":"Entity not creating table in DB","body":"<p>user is a reserved word in Postgresql thats why it show an error\nuse a different word like &quot;users&quot; &quot;usersId&quot;.</p>\n"}],"owner":{"account_id":21018819,"reputation":362,"user_id":15445661,"display_name":"Ra&#250;l Pe&#241;ate"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":513,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74975220,"answer_count":3,"score":2,"last_activity_date":1673474075,"creation_date":1672583351,"question_id":74975173,"body_markdown":"I&#39;m using Spring boot, and I Run this model.\r\n\r\n    package com.example.demo.Models;\r\n    \r\n    import jakarta.persistence.*;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;user&quot;)\r\n    public class UserModel {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(unique = true, nullable = true)\r\n        private Long id;\r\n        private String name;\r\n        private String email;\r\n        private Integer priority;\r\n       \r\n        /* Here are all the setters and getters*/\r\n    }\r\n\r\napplication.properties:\r\n\r\n    spring.datasource.url=jdbc:postgresql://localhost:5432/dbdemo\r\n    spring.datasource.username=postgres\r\n    spring.datasource.password=password\r\n    spring.jpa.hibernate.ddl-auto=update\r\n\r\nEverything fine with Java.\r\n\r\n    Process finished with exit code 0\r\n\r\nBut in the console of my docker image of Postgres I get the following error:\r\n\r\n\r\n    ERROR:  syntax error at or near &quot;user&quot; at character 14\r\n    STATEMENT: create table user(id bigserial not null, email varchar(255), name varchar(255), priority integer, primary key (id))\r\n\r\nI&#39;m not sure how to solve it, I&#39;d appreciate any help.","title":"Entity not creating table in DB","body":"<p>I'm using Spring boot, and I Run this model.</p>\n<pre><code>package com.example.demo.Models;\n\nimport jakarta.persistence.*;\n\n@Entity\n@Table(name = &quot;user&quot;)\npublic class UserModel {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(unique = true, nullable = true)\n    private Long id;\n    private String name;\n    private String email;\n    private Integer priority;\n   \n    /* Here are all the setters and getters*/\n}\n</code></pre>\n<p>application.properties:</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://localhost:5432/dbdemo\nspring.datasource.username=postgres\nspring.datasource.password=password\nspring.jpa.hibernate.ddl-auto=update\n</code></pre>\n<p>Everything fine with Java.</p>\n<pre><code>Process finished with exit code 0\n</code></pre>\n<p>But in the console of my docker image of Postgres I get the following error:</p>\n<pre><code>ERROR:  syntax error at or near &quot;user&quot; at character 14\nSTATEMENT: create table user(id bigserial not null, email varchar(255), name varchar(255), priority integer, primary key (id))\n</code></pre>\n<p>I'm not sure how to solve it, I'd appreciate any help.</p>\n"},{"tags":["java","oop","inheritance"],"comments":[{"owner":{"account_id":9725613,"reputation":53332,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":1,"creation_date":1673473693,"post_id":75089322,"comment_id":132510225,"body_markdown":"You didn&#39;t tell what the problem was","body":"You didn&#39;t tell what the problem was"}],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53332,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673473930,"creation_date":1673473930,"answer_id":75089377,"question_id":75089322,"body_markdown":"The `PermanentEmployee` should not have `empId, name` attributs, there are in its parent class `Employee`\r\n\r\n```java\r\nclass PermanentEmployee extends Employee {\r\n    private double basicPay;\r\n    private double hra;\r\n    private float experience;\r\n\r\n    PermanentEmployee(int empId, String name, double basicPay, double hra, float experience) {\r\n        super(empId, name);\r\n        this.basicPay = basicPay;\r\n        this.hra = hra;\r\n        this.experience = experience;\r\n    }\r\n}\r\n\r\nclass ContractEmployee extends Employee {\r\n    private double wage;\r\n    private float hoursWorked;\r\n\r\n    ContractEmployee(int empId, String name, double wage, float hoursWorked) {\r\n        super(empId, name);\r\n        this.wage = wage;\r\n        this.hoursWorked = hoursWorked;\r\n    }\r\n}\r\n```","title":"I cannot create the super class dont know why","body":"<p>The <code>PermanentEmployee</code> should not have <code>empId, name</code> attributs, there are in its parent class <code>Employee</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>class PermanentEmployee extends Employee {\n    private double basicPay;\n    private double hra;\n    private float experience;\n\n    PermanentEmployee(int empId, String name, double basicPay, double hra, float experience) {\n        super(empId, name);\n        this.basicPay = basicPay;\n        this.hra = hra;\n        this.experience = experience;\n    }\n}\n\nclass ContractEmployee extends Employee {\n    private double wage;\n    private float hoursWorked;\n\n    ContractEmployee(int empId, String name, double wage, float hoursWorked) {\n        super(empId, name);\n        this.wage = wage;\n        this.hoursWorked = hoursWorked;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22525838,"reputation":1,"user_id":16718623,"display_name":"user16718623"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673473930,"creation_date":1673473527,"question_id":75089322,"body_markdown":"A construction company wants to keep a record of the employees working in it. There are permanent employees as well as contract employees. Contract employees work on an hourly basis whereas permanent employees are paid monthly salary. An application needs to be developed for the company for storing the employee details.\r\n\r\n![Class diagram](https://i.stack.imgur.com/1ZzxX.png)\r\n\r\nEmployee\r\n\r\nEmployee(int employeeId, String employeeName)\r\n\r\nInitialize the employeeId and employeeName instance variables appropriately with the values passed to the constructor.\r\nImplement the getter and setter methods appropriately.\r\n\r\nPermanentEmployee\r\n\r\nPermanentEmployee(int empId, String name, double basicPay, double hra, float experience)\r\n\r\nInitialize the employeeId, employeeName, basicPay, hra and experience instance variables appropriately with the values passed to the constructor.\r\n[IP](https://i.stack.imgur.com/ds6nH.png)\r\n[op](https://i.stack.imgur.com/Sqpg2.png)\r\n\r\n```\r\npackage wer;\r\n\r\npublic class Employee {\r\nprivate int employeeId;\r\nprivate String employeeName;\r\nprivate double salary;\r\n\r\n\tpublic Employee() {\r\n\t\r\n\t}\r\n\tpublic Employee(int employeeId, String employeeName) {\r\n\t\tthis.employeeId = employeeId;\r\n\t\tthis.employeeName = employeeName; \r\n\t\t\r\n\t}\r\n\tpublic int getEmployeeId() {\r\n\t\treturn employeeId;\r\n\t}public void setEmployeeeId(int employeeId) {\r\n\t\tthis.employeeId = employeeId;\r\n\t\t\r\n\t}public String getEmployeeName() {\r\n\t\treturn employeeName;\r\n\t}public void setEmployeeName(String employeeName) {\r\n\t\tthis.employeeName = employeeName;\r\n\t}public double getSalary() {\r\n\t\treturn salary;\r\n\t}public void setSalary(double salary) {\r\n\t\tthis.salary = salary;\r\n\t}\r\n\tpublic String toString(){\r\n        return &quot;Employee\\nemployeeId: &quot;+this.getEmployeeId()+&quot;\\nemployeeName: &quot;+this.getEmployeeName()+&quot;\\nsalary: &quot;+this.getSalary();\r\n    }\r\n    \r\n}\r\n\r\n\r\n\r\npackage wer;\r\n\r\npublic class PermanentEmployee extends Employee {\r\n\tprivate int empId;\r\n\tprivate String name;\r\n\t//private double salary;\r\n\tprivate double basicPay;\r\n\tprivate double hra;\r\n\tprivate float experience;\r\n\r\n\tPermanentEmployee(int empId, String name, double basicPay, double hra, float experience){\r\n\t\t\r\n\t\tsuper(employeeId,employeeName);\r\n\t\tthis.empId = empId;\r\n\t\tthis.name = name;\r\n\t\tthis.basicPay = basicPay;\r\n\t\tthis.hra = hra;\r\n\t\tthis.experience = experience;\r\n\t}\r\n}\r\n\r\n```","title":"I cannot create the super class dont know why","body":"<p>A construction company wants to keep a record of the employees working in it. There are permanent employees as well as contract employees. Contract employees work on an hourly basis whereas permanent employees are paid monthly salary. An application needs to be developed for the company for storing the employee details.</p>\n<p><img src=\"https://i.stack.imgur.com/1ZzxX.png\" alt=\"Class diagram\" /></p>\n<p>Employee</p>\n<p>Employee(int employeeId, String employeeName)</p>\n<p>Initialize the employeeId and employeeName instance variables appropriately with the values passed to the constructor.\nImplement the getter and setter methods appropriately.</p>\n<p>PermanentEmployee</p>\n<p>PermanentEmployee(int empId, String name, double basicPay, double hra, float experience)</p>\n<p>Initialize the employeeId, employeeName, basicPay, hra and experience instance variables appropriately with the values passed to the constructor.\n<a href=\"https://i.stack.imgur.com/ds6nH.png\" rel=\"nofollow noreferrer\">IP</a>\n<a href=\"https://i.stack.imgur.com/Sqpg2.png\" rel=\"nofollow noreferrer\">op</a></p>\n<pre><code>package wer;\n\npublic class Employee {\nprivate int employeeId;\nprivate String employeeName;\nprivate double salary;\n\n    public Employee() {\n    \n    }\n    public Employee(int employeeId, String employeeName) {\n        this.employeeId = employeeId;\n        this.employeeName = employeeName; \n        \n    }\n    public int getEmployeeId() {\n        return employeeId;\n    }public void setEmployeeeId(int employeeId) {\n        this.employeeId = employeeId;\n        \n    }public String getEmployeeName() {\n        return employeeName;\n    }public void setEmployeeName(String employeeName) {\n        this.employeeName = employeeName;\n    }public double getSalary() {\n        return salary;\n    }public void setSalary(double salary) {\n        this.salary = salary;\n    }\n    public String toString(){\n        return &quot;Employee\\nemployeeId: &quot;+this.getEmployeeId()+&quot;\\nemployeeName: &quot;+this.getEmployeeName()+&quot;\\nsalary: &quot;+this.getSalary();\n    }\n    \n}\n\n\n\npackage wer;\n\npublic class PermanentEmployee extends Employee {\n    private int empId;\n    private String name;\n    //private double salary;\n    private double basicPay;\n    private double hra;\n    private float experience;\n\n    PermanentEmployee(int empId, String name, double basicPay, double hra, float experience){\n        \n        super(employeeId,employeeName);\n        this.empId = empId;\n        this.name = name;\n        this.basicPay = basicPay;\n        this.hra = hra;\n        this.experience = experience;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","list","object","merge"],"owner":{"account_id":14628237,"reputation":21,"user_id":10564929,"display_name":"scocuzza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673473780,"creation_date":1673473780,"question_id":75089358,"body_markdown":"given a list of interactions for example where two interactions (ones that contain same interactionId) need to be merged\r\n\r\n```\r\n&quot;interactions&quot;: [\r\n        {\r\n            &quot;interactionId&quot;: &quot;1&quot;,\r\n            &quot;createdAt&quot;: &quot;2017-01-13 14:19:09.99&quot;,\r\n            &quot;status&quot;: &quot;Resolved-Completed&quot;,\r\n            &quot;wrapupReasons&quot;: [\r\n                {\r\n                    &quot;type&quot;: &quot;Billing&quot;,\r\n                    &quot;category&quot;: &quot;Billing Process&quot;,\r\n                    &quot;reasonCode&quot;: &quot;inquiry&quot;\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            &quot;interactionId&quot;: &quot;1&quot;,\r\n            &quot;createdAt&quot;: &quot;2017-01-13 14:19:09.99&quot;,\r\n            &quot;status&quot;: &quot;Resolved-Completed&quot;,\r\n            &quot;wrapupReasons&quot;: [\r\n                {\r\n                    &quot;type&quot;: &quot;Payment&quot;,\r\n                    &quot;category&quot;: &quot;Payment Process&quot;,\r\n                    &quot;reasonCode&quot;: &quot;inquiry&quot;\r\n                }\r\n            ]\r\n        },\r\n{\r\n            &quot;interactionId&quot;: &quot;2&quot;,\r\n            &quot;createdAt&quot;: &quot;2017-01-13 14:19:09.99&quot;,\r\n            &quot;status&quot;: &quot;Resolved-Completed&quot;,\r\n            &quot;wrapupReasons&quot;: [\r\n                {\r\n                    &quot;type&quot;: &quot;Billing&quot;,\r\n                    &quot;category&quot;: &quot;Billing Process&quot;,\r\n                    &quot;reasonCode&quot;: &quot;1035 Processing Inquiry&quot;\r\n                }\r\n            ]\r\n        },\r\n]\r\n```\r\n\r\nI would need to combine the common interactionId objects into one like so and have a new list - note that the wrapUpReasons have been concatenated\r\n```\r\n        {\r\n            &quot;interactionId&quot;: &quot;1&quot;,\r\n            &quot;createdAt&quot;: &quot;2017-01-13 14:19:09.99&quot;,\r\n            &quot;status&quot;: &quot;Resolved-Completed&quot;,\r\n            &quot;wrapupReasons&quot;: [\r\n                {\r\n                    &quot;type&quot;: &quot;Payment&quot;,\r\n                    &quot;category&quot;: &quot;Payment Process&quot;,\r\n                    &quot;reasonCode&quot;: &quot;inquiry&quot;\r\n                },\r\n\r\n{\r\n                    &quot;type&quot;: &quot;Billing&quot;,\r\n                    &quot;category&quot;: &quot;Billing Process&quot;,\r\n                    &quot;reasonCode&quot;: &quot;1035 Processing Inquiry&quot;\r\n                }\r\n            ]\r\n        },\r\n{\r\n            &quot;interactionId&quot;: &quot;2&quot;,\r\n            &quot;createdAt&quot;: &quot;2017-01-13 14:19:09.99&quot;,\r\n            &quot;status&quot;: &quot;Resolved-Completed&quot;,\r\n            &quot;wrapupReasons&quot;: [\r\n                {\r\n                    &quot;type&quot;: &quot;Billing&quot;,\r\n                    &quot;category&quot;: &quot;Billing Process&quot;,\r\n                    &quot;reasonCode&quot;: &quot;rocessing Inquiry&quot;\r\n                }\r\n            ]\r\n        },\r\n]\r\n```\r\n\r\nso far i have tried grouping by the interaction and then trying to combine the HashMap key that contains 1 or more InteractionHistory list but the union list is not merging the list of objects\r\n\r\n```\r\nMap&lt;Object, List&lt;InteractionHistory&gt;&gt; interactionGrouped = \r\n\t\t\t\tinteractionHistoryList.stream().collect(Collectors.groupingBy(interaction -&gt; interaction.getInteractionId()));\r\n\t\t\r\n\t\tfor (Map.Entry&lt;Object, List&lt;InteractionHistory&gt;&gt; mapElement : interactionGrouped.entrySet()) {\r\n\t\t\tList&lt;InteractionHistory&gt; union = new ArrayList&lt;&gt;();\r\n\t\t\tList&lt;InteractionHistory&gt; interactionHistoryList1 = mapElement.getValue();\r\n\t\t\tunion.addAll(interactionHistoryList1);\r\n\t\t}\r\n","title":"Java merge list of objects by common field","body":"<p>given a list of interactions for example where two interactions (ones that contain same interactionId) need to be merged</p>\n<pre><code>&quot;interactions&quot;: [\n        {\n            &quot;interactionId&quot;: &quot;1&quot;,\n            &quot;createdAt&quot;: &quot;2017-01-13 14:19:09.99&quot;,\n            &quot;status&quot;: &quot;Resolved-Completed&quot;,\n            &quot;wrapupReasons&quot;: [\n                {\n                    &quot;type&quot;: &quot;Billing&quot;,\n                    &quot;category&quot;: &quot;Billing Process&quot;,\n                    &quot;reasonCode&quot;: &quot;inquiry&quot;\n                }\n            ]\n        },\n        {\n            &quot;interactionId&quot;: &quot;1&quot;,\n            &quot;createdAt&quot;: &quot;2017-01-13 14:19:09.99&quot;,\n            &quot;status&quot;: &quot;Resolved-Completed&quot;,\n            &quot;wrapupReasons&quot;: [\n                {\n                    &quot;type&quot;: &quot;Payment&quot;,\n                    &quot;category&quot;: &quot;Payment Process&quot;,\n                    &quot;reasonCode&quot;: &quot;inquiry&quot;\n                }\n            ]\n        },\n{\n            &quot;interactionId&quot;: &quot;2&quot;,\n            &quot;createdAt&quot;: &quot;2017-01-13 14:19:09.99&quot;,\n            &quot;status&quot;: &quot;Resolved-Completed&quot;,\n            &quot;wrapupReasons&quot;: [\n                {\n                    &quot;type&quot;: &quot;Billing&quot;,\n                    &quot;category&quot;: &quot;Billing Process&quot;,\n                    &quot;reasonCode&quot;: &quot;1035 Processing Inquiry&quot;\n                }\n            ]\n        },\n]\n</code></pre>\n<p>I would need to combine the common interactionId objects into one like so and have a new list - note that the wrapUpReasons have been concatenated</p>\n<pre><code>        {\n            &quot;interactionId&quot;: &quot;1&quot;,\n            &quot;createdAt&quot;: &quot;2017-01-13 14:19:09.99&quot;,\n            &quot;status&quot;: &quot;Resolved-Completed&quot;,\n            &quot;wrapupReasons&quot;: [\n                {\n                    &quot;type&quot;: &quot;Payment&quot;,\n                    &quot;category&quot;: &quot;Payment Process&quot;,\n                    &quot;reasonCode&quot;: &quot;inquiry&quot;\n                },\n\n{\n                    &quot;type&quot;: &quot;Billing&quot;,\n                    &quot;category&quot;: &quot;Billing Process&quot;,\n                    &quot;reasonCode&quot;: &quot;1035 Processing Inquiry&quot;\n                }\n            ]\n        },\n{\n            &quot;interactionId&quot;: &quot;2&quot;,\n            &quot;createdAt&quot;: &quot;2017-01-13 14:19:09.99&quot;,\n            &quot;status&quot;: &quot;Resolved-Completed&quot;,\n            &quot;wrapupReasons&quot;: [\n                {\n                    &quot;type&quot;: &quot;Billing&quot;,\n                    &quot;category&quot;: &quot;Billing Process&quot;,\n                    &quot;reasonCode&quot;: &quot;rocessing Inquiry&quot;\n                }\n            ]\n        },\n]\n</code></pre>\n<p>so far i have tried grouping by the interaction and then trying to combine the HashMap key that contains 1 or more InteractionHistory list but the union list is not merging the list of objects</p>\n<pre><code>Map&lt;Object, List&lt;InteractionHistory&gt;&gt; interactionGrouped = \n                interactionHistoryList.stream().collect(Collectors.groupingBy(interaction -&gt; interaction.getInteractionId()));\n        \n        for (Map.Entry&lt;Object, List&lt;InteractionHistory&gt;&gt; mapElement : interactionGrouped.entrySet()) {\n            List&lt;InteractionHistory&gt; union = new ArrayList&lt;&gt;();\n            List&lt;InteractionHistory&gt; interactionHistoryList1 = mapElement.getValue();\n            union.addAll(interactionHistoryList1);\n        }\n</code></pre>\n"},{"tags":["java","parameters","process","runtime","filestream"],"comments":[{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":3,"creation_date":1673474570,"post_id":75089345,"comment_id":132510474,"body_markdown":"Do you know if the executable can read from `stdin`?  Some programs indicate this with something like `myProgram --cf -` or something similar.  In that case you could pipe to it.","body":"Do you know if the executable can read from <code>stdin</code>?  Some programs indicate this with something like <code>myProgram --cf -</code> or something similar.  In that case you could pipe to it."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":3,"creation_date":1673479584,"post_id":75089345,"comment_id":132511535,"body_markdown":"Windows doesn&#39;t support pipes, or rather only does so via a temp file trick so the answer to @stdunbar&#39;s question might be no. You could nevertheless write to a temporary file then delete it","body":"Windows doesn&#39;t support pipes, or rather only does so via a temp file trick so the answer to @stdunbar&#39;s question might be no. You could nevertheless write to a temporary file then delete it"},{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":0,"creation_date":1673493287,"post_id":75089345,"comment_id":132513360,"body_markdown":"Huh? NT (whence modern Windows) has always supported pipes as pipes.  [Win32 doc](https://learn.microsoft.com/en-us/windows/win32/ipc/about-pipes).","body":"Huh? NT (whence modern Windows) has always supported pipes as pipes.  <a href=\"https://learn.microsoft.com/en-us/windows/win32/ipc/about-pipes\" rel=\"nofollow noreferrer\">Win32 doc</a>."},{"owner":{"account_id":6715571,"reputation":4013,"user_id":5177506,"display_name":"hunter"},"score":0,"creation_date":1673503833,"post_id":75089345,"comment_id":132514969,"body_markdown":"No , this is not possible if this executable lookup the file in the file system. but If this executable is flexible even to read a named pipe, then this is practical, but creating a named pipe  using a java code in windows is not that easy, you have to use JNA ,","body":"No , this is not possible if this executable lookup the file in the file system. but If this executable is flexible even to read a named pipe, then this is practical, but creating a named pipe  using a java code in windows is not that easy, you have to use JNA ,"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673513846,"post_id":75089345,"comment_id":132517495,"body_markdown":"@undefinedsymbol     I&#39;m talking about &#231;md.exe sorry, not Windows per se. I *think* the pipe character is implemented using temporary files.","body":"@undefinedsymbol     I&#39;m talking about &#231;md.exe sorry, not Windows per se. I <i>think</i> the pipe character is implemented using temporary files."},{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":0,"creation_date":1673528328,"post_id":75089345,"comment_id":132522480,"body_markdown":"cmd.exe was written for NT, so they&#39;d be nutty to not use an NT OS feature.  Do not confuse with the DOS command.com.","body":"cmd.exe was written for NT, so they&#39;d be nutty to not use an NT OS feature.  Do not confuse with the DOS command.com."}],"owner":{"account_id":25279,"reputation":35965,"user_id":64895,"accept_rate":60,"display_name":"Jack BeNimble"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673473689,"creation_date":1673473689,"question_id":75089345,"body_markdown":"I&#39;m currently running an executable from a Java class that takes a configuration file as one of it&#39;s parameters. \r\n\r\nThe code, which is working, looks like this:\r\n\r\n\r\n\tString[] params = new String[3];\r\n\r\n\tparams[0] = &quot;myProgram.exe&quot;;\r\n\tparams[1] = &quot;--cf&quot;;\r\n\tparams[2] = &quot;myConfiguration.cf&quot;;\r\n\r\n\tProcess p = Runtime.getRuntime().exec(params);\r\n\r\n\tBufferedReader input = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n\r\n\tString line;\r\n\twhile ((line = input.readLine()) != null) {\r\n\t\tSystem.out.println(line);\r\n\t}\r\n\r\n\tinput.close();\r\n\r\nFor security purposes, I&#39;d like to create the configuration file inside the Java class, and provide it to the runtime as an in-memory stream instead of an external file. \r\n\r\nIs this possible? I don&#39;t have control over the executables code, so I&#39;m not clear if there&#39;s a way to make it see the filename as anything different than a file that it has to retrieve from disk. \r\n\r\n\r\n\t\t\r\n\r\n","title":"Java - run an executable from a Java class that can be passed a file from memory instead of the filesystem","body":"<p>I'm currently running an executable from a Java class that takes a configuration file as one of it's parameters.</p>\n<p>The code, which is working, looks like this:</p>\n<pre><code>String[] params = new String[3];\n\nparams[0] = &quot;myProgram.exe&quot;;\nparams[1] = &quot;--cf&quot;;\nparams[2] = &quot;myConfiguration.cf&quot;;\n\nProcess p = Runtime.getRuntime().exec(params);\n\nBufferedReader input = new BufferedReader(new InputStreamReader(p.getInputStream()));\n\nString line;\nwhile ((line = input.readLine()) != null) {\n    System.out.println(line);\n}\n\ninput.close();\n</code></pre>\n<p>For security purposes, I'd like to create the configuration file inside the Java class, and provide it to the runtime as an in-memory stream instead of an external file.</p>\n<p>Is this possible? I don't have control over the executables code, so I'm not clear if there's a way to make it see the filename as anything different than a file that it has to retrieve from disk.</p>\n"},{"tags":["java","spring-boot","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1671061353,"post_id":74805056,"comment_id":132019190,"body_markdown":"For the latter errors, don&#39;t use strings. Use `StringSerializer.class` and `OAuthBearerLoginModule.class`, for example. Also, KafkaTemplate.send is already asynchronous, you should not need to annotate the method.","body":"For the latter errors, don&#39;t use strings. Use <code>StringSerializer.class</code> and <code>OAuthBearerLoginModule.class</code>, for example. Also, KafkaTemplate.send is already asynchronous, you should not need to annotate the method."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1671061477,"post_id":74805056,"comment_id":132019223,"body_markdown":"Also, if you want to &quot;consume from database, and send to Kafka&quot;, ideally you&#39;d use existing tools like Debezium","body":"Also, if you want to &quot;consume from database, and send to Kafka&quot;, ideally you&#39;d use existing tools like Debezium"},{"owner":{"account_id":19952568,"reputation":59,"user_id":14621897,"display_name":"Karkala Srikanth"},"score":0,"creation_date":1671114676,"post_id":74805056,"comment_id":132032187,"body_markdown":"Thank you. I need to use @Async method in our API, Users are not expecting the response immediately and also our service get huge number of requests. so we don&#39;t want to block the user, we also run some additional checks before sending to kafka.I will look into it how to set the .class instead of passing class name in string.","body":"Thank you. I need to use @Async method in our API, Users are not expecting the response immediately and also our service get huge number of requests. so we don&#39;t want to block the user, we also run some additional checks before sending to kafka.I will look into it how to set the .class instead of passing class name in string."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1671115281,"post_id":74805056,"comment_id":132032427,"body_markdown":"As mentioned, `KafkaTemplate.send` is already async. You could also use Spring Webflux instead for fully ReactiveX based code.","body":"As mentioned, <code>KafkaTemplate.send</code> is already async. You could also use Spring Webflux instead for fully ReactiveX based code."},{"owner":{"account_id":19952568,"reputation":59,"user_id":14621897,"display_name":"Karkala Srikanth"},"score":0,"creation_date":1671120265,"post_id":74805056,"comment_id":132034462,"body_markdown":"Tried to pass OAuthBearerLoginModule.class into sasl.jaas.config property, but there is no way to pass it as without String along with config properties.            properties.put(&quot;sasl.jaas.config&quot;, jaasConfig);","body":"Tried to pass OAuthBearerLoginModule.class into sasl.jaas.config property, but there is no way to pass it as without String along with config properties.            properties.put(&quot;sasl.jaas.config&quot;, jaasConfig);"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1671307640,"post_id":74805056,"comment_id":132073147,"body_markdown":"SASL config needs to be a string, but you can still use Class.forName at runtime to verify the class exists on the classpath, separately from putting into properties.. Regardless, what version of spring-kafka are you using?","body":"SASL config needs to be a string, but you can still use Class.forName at runtime to verify the class exists on the classpath, separately from putting into properties.. Regardless, what version of spring-kafka are you using?"}],"answers":[{"tags":[],"owner":{"account_id":19952568,"reputation":59,"user_id":14621897,"display_name":"Karkala Srikanth"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673473421,"creation_date":1673473421,"answer_id":75089307,"question_id":74805056,"body_markdown":"Fixed the issue after changing my Executor from Executors.newWorkStealingPool() to new ThreadPoolTaskExecutor();\r\n\r\nSeems there is different class loader policy when using Executors.newWorkStealingPool.","title":"Kafka producer unable to find the classes when called from Method annotated with @Async","body":"<p>Fixed the issue after changing my Executor from Executors.newWorkStealingPool() to new ThreadPoolTaskExecutor();</p>\n<p>Seems there is different class loader policy when using Executors.newWorkStealingPool.</p>\n"}],"owner":{"account_id":19952568,"reputation":59,"user_id":14621897,"display_name":"Karkala Srikanth"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":548,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1673473421,"creation_date":1671058713,"question_id":74805056,"body_markdown":"\\`Unable to construct Kafka Producer in springboot application when published from Method annotated with @Async,\r\n\r\n```\r\n@Async\r\npublic void publishMessage()\r\n{\r\n retrives data from DB and send the constructed message to Kafka using Kafka Template;\r\n}\r\n```\r\n\r\n\r\nProducer Configuration like,\r\n\r\n```\r\n@Configuration \r\npublic class ProducerConfig{\r\n@Bean \r\npublic KafkaTemplate&lt;String, SpecificRecord&gt; kafkaTemplate() \r\n{ \r\nProducerFactory&lt;String, SpecificRecord&gt; producerFactory = new DefaultKafkaProducerFactory&lt;&gt;( getBaseProducerSettings());  // getBaseProducerSettings() returns basic OAUTH     authentication                        \r\nprops and basic props return new KafkaTemplate&lt;&gt;(producerFactory); \r\n}\r\n}\r\n```\r\nWhen producer send method call initiated from @Async method, throwing errors for the classes which are not loaded by Application Classloader.\r\nExample error message,\r\n```\r\nCaused by: org.apache.kafka.common.KafkaException: javax.security.auth.login.LoginException: No LoginModule found for org.apache.kafka.common.security.oauthbearer.OAuthBearerLoginModule\r\n```\r\nAnother error message,\r\n```\r\norg.apache.kafka.common.config.ConfigException: Invalid value org.apache.kafka.common.serialization.StringSerializer for configuration key.serializer: Class org.apache.kafka.common.serialization.StringSerializer could not be found.\r\n```\r\nRequired dependencies are already in the class path. \r\nNOTE: Fully qualified class names are provided as string &quot;&quot; in the producer configuration.\r\n\r\nAny help, on how to load the classes in Thread context which not loaded by Application Context.\r\n\\`","title":"Kafka producer unable to find the classes when called from Method annotated with @Async","body":"<p>`Unable to construct Kafka Producer in springboot application when published from Method annotated with @Async,</p>\n<pre><code>@Async\npublic void publishMessage()\n{\n retrives data from DB and send the constructed message to Kafka using Kafka Template;\n}\n</code></pre>\n<p>Producer Configuration like,</p>\n<pre><code>@Configuration \npublic class ProducerConfig{\n@Bean \npublic KafkaTemplate&lt;String, SpecificRecord&gt; kafkaTemplate() \n{ \nProducerFactory&lt;String, SpecificRecord&gt; producerFactory = new DefaultKafkaProducerFactory&lt;&gt;( getBaseProducerSettings());  // getBaseProducerSettings() returns basic OAUTH     authentication                        \nprops and basic props return new KafkaTemplate&lt;&gt;(producerFactory); \n}\n}\n</code></pre>\n<p>When producer send method call initiated from @Async method, throwing errors for the classes which are not loaded by Application Classloader.\nExample error message,</p>\n<pre><code>Caused by: org.apache.kafka.common.KafkaException: javax.security.auth.login.LoginException: No LoginModule found for org.apache.kafka.common.security.oauthbearer.OAuthBearerLoginModule\n</code></pre>\n<p>Another error message,</p>\n<pre><code>org.apache.kafka.common.config.ConfigException: Invalid value org.apache.kafka.common.serialization.StringSerializer for configuration key.serializer: Class org.apache.kafka.common.serialization.StringSerializer could not be found.\n</code></pre>\n<p>Required dependencies are already in the class path.\nNOTE: Fully qualified class names are provided as string &quot;&quot; in the producer configuration.</p>\n<p>Any help, on how to load the classes in Thread context which not loaded by Application Context.\n`</p>\n"},{"tags":["java","mysql","spring-boot"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1673462933,"post_id":75087705,"comment_id":132507057,"body_markdown":"How the user object looks like and how your request?","body":"How the user object looks like and how your request?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1673463557,"post_id":75087705,"comment_id":132507227,"body_markdown":"Is `User` class same as `Sample`?","body":"Is <code>User</code> class same as <code>Sample</code>?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1673463625,"post_id":75087705,"comment_id":132507251,"body_markdown":"`public interface UserRepository extends JpaRepository&lt;Sample,Long&gt; {` should be `public interface UserRepository extends JpaRepository&lt;User,Long&gt; {`","body":"<code>public interface UserRepository extends JpaRepository&lt;Sample,Long&gt; {</code> should be <code>public interface UserRepository extends JpaRepository&lt;User,Long&gt; {</code>"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1673463665,"post_id":75087705,"comment_id":132507262,"body_markdown":"But you should not use the entity classes at controller level. It is bad architecture","body":"But you should not use the entity classes at controller level. It is bad architecture"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1673464001,"post_id":75087705,"comment_id":132507341,"body_markdown":"Yes they are. They will use by jackson to set the values while deserializing","body":"Yes they are. They will use by jackson to set the values while deserializing"},{"owner":{"account_id":22158464,"reputation":499,"user_id":16405839,"display_name":"M Nouman"},"score":0,"creation_date":1673464151,"post_id":75087705,"comment_id":132507378,"body_markdown":"Ok  `setter` and ` getter` solved the issue. Both  `Mappings` are working. Thanks for your help and time. Are `constructor` and  `tostring()` also compulsory?","body":"Ok  <code>setter</code> and ` getter` solved the issue. Both  <code>Mappings</code> are working. Thanks for your help and time. Are <code>constructor</code> and  <code>tostring()</code> also compulsory?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1673464202,"post_id":75087705,"comment_id":132507390,"body_markdown":"You are welcome. But as I methioned, you shouldn&#39;t use the entity class in your API","body":"You are welcome. But as I methioned, you shouldn&#39;t use the entity class in your API"},{"owner":{"account_id":22158464,"reputation":499,"user_id":16405839,"display_name":"M Nouman"},"score":0,"creation_date":1673464270,"post_id":75087705,"comment_id":132507406,"body_markdown":"It&#39;s y first project I don&#39;t know much about the things. So can you tell me what should I do then?","body":"It&#39;s y first project I don&#39;t know much about the things. So can you tell me what should I do then?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1673464304,"post_id":75087705,"comment_id":132507417,"body_markdown":"Read a bout 3tier architecture","body":"Read a bout 3tier architecture"}],"answers":[{"comments":[{"owner":{"account_id":22158464,"reputation":499,"user_id":16405839,"display_name":"M Nouman"},"score":0,"creation_date":1673517532,"post_id":75089276,"comment_id":132518815,"body_markdown":"Greate Answer. I tried  `@Data` from lombok but It didn&#39;t worked because I might not be doing it correctly. But I didn&#39;t know that `@Data` and `lombok` is that much important. I&#39;m definitely  going to try it.","body":"Greate Answer. I tried  <code>@Data</code> from lombok but It didn&#39;t worked because I might not be doing it correctly. But I didn&#39;t know that <code>@Data</code> and <code>lombok</code> is that much important. I&#39;m definitely  going to try it."},{"owner":{"account_id":22158464,"reputation":499,"user_id":16405839,"display_name":"M Nouman"},"score":0,"creation_date":1673517644,"post_id":75089276,"comment_id":132518854,"body_markdown":"I recommend that you update your answer and put some code example from my code. It will be very helpful for others as most of the people don&#39;t take much interest in theoretical part and just ignores it...","body":"I recommend that you update your answer and put some code example from my code. It will be very helpful for others as most of the people don&#39;t take much interest in theoretical part and just ignores it..."},{"owner":{"account_id":22158464,"reputation":499,"user_id":16405839,"display_name":"M Nouman"},"score":0,"creation_date":1673517836,"post_id":75089276,"comment_id":132518912,"body_markdown":"In your answer it is not clear which `each fields` you are talking about. Please update your answer by specifying things and also put code as well.","body":"In your answer it is not clear which <code>each fields</code> you are talking about. Please update your answer by specifying things and also put code as well."}],"tags":[],"owner":{"account_id":27321132,"reputation":102,"user_id":20834798,"display_name":"Udit Mishra"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673473248,"creation_date":1673473248,"answer_id":75089276,"question_id":75087705,"body_markdown":"You have not added getter setter methods for each field that&#39;s why it is storing null values\r\n solution-\r\n1-either add getter setter method for each field or\r\n2-you can also add lombook dependency and use @Data annotation it will add getter setter method for you\r\n\r\nHope it will help you","title":"@PostMapping saving empty objects spring boot+jpa+gradle+mysql db","body":"<p>You have not added getter setter methods for each field that's why it is storing null values\nsolution-\n1-either add getter setter method for each field or\n2-you can also add lombook dependency and use @Data annotation it will add getter setter method for you</p>\n<p>Hope it will help you</p>\n"}],"owner":{"account_id":22158464,"reputation":499,"user_id":16405839,"display_name":"M Nouman"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":260,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75089276,"answer_count":1,"score":0,"last_activity_date":1673473248,"creation_date":1673462735,"question_id":75087705,"body_markdown":"I&#39;m trying to make a crud app using **SpringBoot + JPA + HIBERNATE + GRADLE + MYSQL**. My issue is that when I hit an `@PostMapping` endpoint to save a user,  an empty object get&#39;s saved in database. Only `id` is generated but the other column shows `null`. Also when I hit `@GetMapping` it returns empty object list . I&#39;m using **PostMan** for requests. \r\n\r\n\r\n**Images of Postamn Requests**\r\n\r\n**create**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**all**\r\n\r\n[![enter image description here][2]][2]\r\n\r\n**Mysql Database**\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n**build.gradle**\r\n\r\n    plugins {\r\n    \tid &#39;java&#39;\r\n    \tid &#39;org.springframework.boot&#39; version &#39;3.0.1&#39;\r\n    \tid &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n    }\r\n    \r\n    group = &#39;db.example&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    sourceCompatibility = &#39;19&#39;\r\n    \r\n    repositories {\r\n    \tmavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    \tdevelopmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n    \truntimeOnly &#39;com.mysql:mysql-connector-j&#39;\r\n    \ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    }\r\n    \r\n    tasks.named(&#39;test&#39;) {\r\n    \tuseJUnitPlatform()\r\n    }\r\n\r\n\r\n\r\n**application.properties**\r\n\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.jpa.generate-ddl=true\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/auto?autoReconnect=true&amp;useSSL=false&amp;createDatabaseIfNotExist=true\r\n    spring.datasource.username=root\r\n    spring.datasource.password=password\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n\r\n\r\n**mainApplication.java**\r\n\r\n    package db.example.autodbconnect;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class AutodbconnectApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(AutodbconnectApplication.class, args);\r\n    \t}\r\n    \r\n    }\r\n\r\n**UserEntity**\r\n\r\n    package db.example.autodbconnect.entities;\r\n    \r\n    import jakarta.persistence.Column;\r\n    import jakarta.persistence.Entity;\r\n    import jakarta.persistence.GeneratedValue;\r\n    import jakarta.persistence.GenerationType;\r\n    import jakarta.persistence.Id;\r\n    import jakarta.persistence.Table;\r\n    \r\n    @Entity\r\n    @Table\r\n    public class User {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n    \r\n        @Column\r\n        private String name;\r\n        \r\n    }\r\n\r\n**User JPA Repository**\r\n\r\n     package db.example.autodbconnect.repositories;\r\n    \r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    import db.example.autodbconnect.entities.User;\r\n    \r\n    @Repository\r\n    public interface UserRepository extends JpaRepository&lt;User,Long&gt; {\r\n        \r\n    }\r\n\r\n\r\n**User Service**\r\n\r\n    package db.example.autodbconnect.service;\r\n    \r\n    import java.util.List;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import db.example.autodbconnect.entities.User;\r\n    import db.example.autodbconnect.repositories.UserRepository;\r\n    \r\n    @Service\r\n    public class UserService {\r\n        \r\n        @Autowired\r\n        private UserRepository userRepo;\r\n    \r\n    \r\n        public User create(User body) {\r\n            return userRepo.save(body);\r\n    \r\n        }\r\n    \r\n        public List&lt;User&gt; findAll(){\r\n            List&lt;User&gt; res=userRepo.findAll();\r\n            return res;\r\n        }\r\n        \r\n    }\r\n\r\n\r\n**User Controller**\r\n\r\n \r\n\r\n    package db.example.autodbconnect.contoller;\r\n    \r\n    import java.util.List;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import db.example.autodbconnect.entities.User;\r\n    import db.example.autodbconnect.service.UserService;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/users&quot;)\r\n    public class UserController {\r\n        \r\n        @Autowired\r\n        private UserService userService;\r\n    \r\n        @PostMapping(&quot;/create&quot;)\r\n        public ResponseEntity&lt;User&gt; create(@RequestBody User body) {\r\n            return  new ResponseEntity&lt;User&gt;(userService.create(body), HttpStatus.CREATED);\r\n        }\r\n    \r\n        @GetMapping(&quot;/all&quot;)\r\n        public ResponseEntity&lt;List&lt;User&gt;&gt; findALL(){\r\n            return new ResponseEntity&lt;List&lt;User&gt;&gt;(userService.findAll(),HttpStatus.OK);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SvjHu.png\r\n  [2]: https://i.stack.imgur.com/3gUBy.png\r\n  [3]: https://i.stack.imgur.com/rgPVB.png\r\n\r\n","title":"@PostMapping saving empty objects spring boot+jpa+gradle+mysql db","body":"<p>I'm trying to make a crud app using <strong>SpringBoot + JPA + HIBERNATE + GRADLE + MYSQL</strong>. My issue is that when I hit an <code>@PostMapping</code> endpoint to save a user,  an empty object get's saved in database. Only <code>id</code> is generated but the other column shows <code>null</code>. Also when I hit <code>@GetMapping</code> it returns empty object list . I'm using <strong>PostMan</strong> for requests.</p>\n<p><strong>Images of Postamn Requests</strong></p>\n<p><strong>create</strong></p>\n<p><a href=\"https://i.stack.imgur.com/SvjHu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SvjHu.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>all</strong></p>\n<p><a href=\"https://i.stack.imgur.com/3gUBy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3gUBy.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Mysql Database</strong></p>\n<p><a href=\"https://i.stack.imgur.com/rgPVB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rgPVB.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>build.gradle</strong></p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.0.1'\n    id 'io.spring.dependency-management' version '1.1.0'\n}\n\ngroup = 'db.example'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '19'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    runtimeOnly 'com.mysql:mysql-connector-j'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n<p><strong>application.properties</strong></p>\n<pre><code>spring.jpa.hibernate.ddl-auto=update\nspring.jpa.generate-ddl=true\nspring.datasource.url=jdbc:mysql://localhost:3306/auto?autoReconnect=true&amp;useSSL=false&amp;createDatabaseIfNotExist=true\nspring.datasource.username=root\nspring.datasource.password=password\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n</code></pre>\n<p><strong>mainApplication.java</strong></p>\n<pre><code>package db.example.autodbconnect;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class AutodbconnectApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(AutodbconnectApplication.class, args);\n    }\n\n}\n</code></pre>\n<p><strong>UserEntity</strong></p>\n<pre><code>package db.example.autodbconnect.entities;\n\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Table;\n\n@Entity\n@Table\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    @Column\n    private String name;\n    \n}\n</code></pre>\n<p><strong>User JPA Repository</strong></p>\n<pre><code> package db.example.autodbconnect.repositories;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\nimport db.example.autodbconnect.entities.User;\n\n@Repository\npublic interface UserRepository extends JpaRepository&lt;User,Long&gt; {\n    \n}\n</code></pre>\n<p><strong>User Service</strong></p>\n<pre><code>package db.example.autodbconnect.service;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport db.example.autodbconnect.entities.User;\nimport db.example.autodbconnect.repositories.UserRepository;\n\n@Service\npublic class UserService {\n    \n    @Autowired\n    private UserRepository userRepo;\n\n\n    public User create(User body) {\n        return userRepo.save(body);\n\n    }\n\n    public List&lt;User&gt; findAll(){\n        List&lt;User&gt; res=userRepo.findAll();\n        return res;\n    }\n    \n}\n</code></pre>\n<p><strong>User Controller</strong></p>\n<pre><code>package db.example.autodbconnect.contoller;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport db.example.autodbconnect.entities.User;\nimport db.example.autodbconnect.service.UserService;\n\n@RestController\n@RequestMapping(&quot;/users&quot;)\npublic class UserController {\n    \n    @Autowired\n    private UserService userService;\n\n    @PostMapping(&quot;/create&quot;)\n    public ResponseEntity&lt;User&gt; create(@RequestBody User body) {\n        return  new ResponseEntity&lt;User&gt;(userService.create(body), HttpStatus.CREATED);\n    }\n\n    @GetMapping(&quot;/all&quot;)\n    public ResponseEntity&lt;List&lt;User&gt;&gt; findALL(){\n        return new ResponseEntity&lt;List&lt;User&gt;&gt;(userService.findAll(),HttpStatus.OK);\n    }\n}\n</code></pre>\n"},{"tags":["java","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":1207,"reputation":19992,"user_id":1605,"accept_rate":100,"display_name":"Avi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1275573226,"creation_date":1275573226,"answer_id":2966596,"question_id":2966530,"body_markdown":"I don&#39;t think you can get the output of a build directly, but you can view and edit the compiler options IntelliJ uses, in the Compiler tab of the Settings dialog.","title":"Can I see the exact commands IntelliJ uses to build a java project?","body":"<p>I don't think you can get the output of a build directly, but you can view and edit the compiler options IntelliJ uses, in the Compiler tab of the Settings dialog.</p>\n"},{"comments":[{"owner":{"account_id":3643587,"reputation":1003,"user_id":3037171,"accept_rate":50,"display_name":"Elouan Keryell-Even"},"score":1,"creation_date":1463586218,"post_id":2966601,"comment_id":62130489,"body_markdown":"`Ctrl`+`F9` builds the project, but it doesn&#39;t show the command used for the build","body":"<code>Ctrl</code>+<code>F9</code> builds the project, but it doesn&#39;t show the command used for the build"}],"tags":[],"owner":{"account_id":13245,"reputation":5748,"user_id":26483,"display_name":"Peter"},"comment_count":1,"down_vote_count":7,"up_vote_count":0,"is_accepted":false,"score":-7,"last_activity_date":1275573278,"creation_date":1275573278,"answer_id":2966601,"question_id":2966530,"body_markdown":"CTRL-F9\r\n\r\nfor all key commands you can check ( and print) the keymap, its available in hte help tab.","title":"Can I see the exact commands IntelliJ uses to build a java project?","body":"<p>CTRL-F9</p>\n\n<p>for all key commands you can check ( and print) the keymap, its available in hte help tab.</p>\n"},{"comments":[{"owner":{"account_id":22194,"reputation":18092,"user_id":54506,"accept_rate":78,"display_name":"Jayan"},"score":1,"creation_date":1409293311,"post_id":2970704,"comment_id":39919282,"body_markdown":"IJ12 has &quot;external compiler&quot; options.  Is there a better way, now?","body":"IJ12 has &quot;external compiler&quot; options.  Is there a better way, now?"},{"owner":{"account_id":1042456,"reputation":3429,"user_id":1048186,"accept_rate":80,"display_name":"Josiah Yoder"},"score":0,"creation_date":1673472394,"post_id":2970704,"comment_id":132509908,"body_markdown":"These options are not available when IntelliJ manages compilation directly rather than through Ant.   Is there an easy way to switch between Ant and IntelliJ&#39;s native build process?","body":"These options are not available when IntelliJ manages compilation directly rather than through Ant.   Is there an easy way to switch between Ant and IntelliJ&#39;s native build process?"}],"tags":[],"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"comment_count":2,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1275610393,"creation_date":1275610393,"answer_id":2970704,"question_id":2966530,"body_markdown":"IDEA is not running java binary, so there is no way to see the commands. Instead, IDEA uses Java compiler API directly. If you want a raw representation of what is done to build the project, you can use **Build | Generate Ant** build. Examine the build file or run it from the command line via Ant to see what happens and what options/commands are invoked.","title":"Can I see the exact commands IntelliJ uses to build a java project?","body":"<p>IDEA is not running java binary, so there is no way to see the commands. Instead, IDEA uses Java compiler API directly. If you want a raw representation of what is done to build the project, you can use <strong>Build | Generate Ant</strong> build. Examine the build file or run it from the command line via Ant to see what happens and what options/commands are invoked.</p>\n"},{"comments":[{"owner":{"account_id":268092,"reputation":2614,"user_id":556644,"accept_rate":100,"display_name":"Ross Attrill"},"score":0,"creation_date":1376019729,"post_id":4430711,"comment_id":26566455,"body_markdown":"If your compilation is successful, the message console will disappear to leave a deliberate compilation error in your code and you will be able then review the build command.","body":"If your compilation is successful, the message console will disappear to leave a deliberate compilation error in your code and you will be able then review the build command."},{"owner":{"account_id":428306,"reputation":1151,"user_id":810546,"accept_rate":0,"display_name":"WebComer"},"score":2,"creation_date":1537106729,"post_id":4430711,"comment_id":91654402,"body_markdown":"@Attrill As of Intelij Idea 17, for example it just shows command line to run already built file, not to build it. Ctrl+0 doesn&#39;t work for displaying build command line for me, too","body":"@Attrill As of Intelij Idea 17, for example it just shows command line to run already built file, not to build it. Ctrl+0 doesn&#39;t work for displaying build command line for me, too"}],"tags":[],"owner":{"account_id":242279,"reputation":349,"user_id":513690,"display_name":"Kr1z"},"comment_count":2,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1673472860,"creation_date":1292255937,"answer_id":4430711,"question_id":2966530,"body_markdown":"**For figuring out exact Run command, not exact Build command**:\r\n\r\nIf you run a certain run configuration, check the output console (Ctrl+0)\r\nFor example, it shows something like:\r\n\r\n    &quot;C:\\Program Files\\Java\\jdk1.5.0_22\\bin\\java&quot; -Didea.launcher.port=7532 &quot;-Didea.launcher...\r\n    \r\n    Process finished with exit code 0\r\n\r\nThe first line is the command for running the module...\r\n","title":"Can I see the exact commands IntelliJ uses to build a java project?","body":"<p><strong>For figuring out exact Run command, not exact Build command</strong>:</p>\n<p>If you run a certain run configuration, check the output console (Ctrl+0)\nFor example, it shows something like:</p>\n<pre><code>&quot;C:\\Program Files\\Java\\jdk1.5.0_22\\bin\\java&quot; -Didea.launcher.port=7532 &quot;-Didea.launcher...\n\nProcess finished with exit code 0\n</code></pre>\n<p>The first line is the command for running the module...</p>\n"},{"comments":[{"owner":{"account_id":3643587,"reputation":1003,"user_id":3037171,"accept_rate":50,"display_name":"Elouan Keryell-Even"},"score":0,"creation_date":1463732460,"post_id":25217049,"comment_id":62199804,"body_markdown":"Damn bro, that piece of info about the `build.log` file was so valuable to me! Thanks!","body":"Damn bro, that piece of info about the <code>build.log</code> file was so valuable to me! Thanks!"},{"owner":{"account_id":1529832,"reputation":7281,"user_id":1427295,"accept_rate":83,"display_name":"Brett Y"},"score":4,"creation_date":1525751531,"post_id":25217049,"comment_id":87468394,"body_markdown":"For linux users check `~/.IntelliJIdeaYYYY.X/system/log/build-log/build.log`, where `YYYY.X` is the intellij version e.g. `2018.1`.","body":"For linux users check <code>~&#47;.IntelliJIdeaYYYY.X&#47;system&#47;log&#47;build-log&#47;build.log</code>, where <code>YYYY.X</code> is the intellij version e.g. <code>2018.1</code>."},{"owner":{"account_id":13579226,"reputation":63,"user_id":9795733,"display_name":"Gavin Haynes"},"score":5,"creation_date":1601947247,"post_id":25217049,"comment_id":113558323,"body_markdown":"Version 2020.2 uses `~/.cache/JetBrains/IntelliJIdea*.*/log/build-log/build.log`","body":"Version 2020.2 uses <code>~&#47;.cache&#47;JetBrains&#47;IntelliJIdea*.*&#47;log&#47;build-log&#47;build.log</code>"},{"owner":{"account_id":3089816,"reputation":2325,"user_id":2616185,"accept_rate":67,"display_name":"Alex"},"score":0,"creation_date":1623758188,"post_id":25217049,"comment_id":120164412,"body_markdown":"On macOS, IntelliJ version 2021.1 it&#39;s at `/Users/&lt;your user&gt;/Library/Logs/JetBrains/IntelliJIdea2021.1/build-log/build.log`","body":"On macOS, IntelliJ version 2021.1 it&#39;s at <code>&#47;Users&#47;&lt;your user&gt;&#47;Library&#47;Logs&#47;JetBrains&#47;IntelliJIdea2021.1&#47;build-log&#47;bu&zwnj;&#8203;ild.log</code>"},{"owner":{"account_id":1042456,"reputation":3429,"user_id":1048186,"accept_rate":80,"display_name":"Josiah Yoder"},"score":0,"creation_date":1673472209,"post_id":25217049,"comment_id":132509860,"body_markdown":"On Windows, the logs are at `%AppData%\\..\\Local\\JetBrains\\IntelliJIdea2022.2\\log\\build-log` (paste that into the explorer path) in the file `build.log`.","body":"On Windows, the logs are at <code>%AppData%\\..\\Local\\JetBrains\\IntelliJIdea2022.2\\log\\build-lo&zwnj;&#8203;g</code> (paste that into the explorer path) in the file <code>build.log</code>."},{"owner":{"account_id":1042456,"reputation":3429,"user_id":1048186,"accept_rate":80,"display_name":"Josiah Yoder"},"score":1,"creation_date":1673472234,"post_id":25217049,"comment_id":132509867,"body_markdown":"Sadly, these logs did NOT contain what I was looking for.","body":"Sadly, these logs did NOT contain what I was looking for."},{"owner":{"account_id":1042456,"reputation":3429,"user_id":1048186,"accept_rate":80,"display_name":"Josiah Yoder"},"score":0,"creation_date":1673472748,"post_id":25217049,"comment_id":132509992,"body_markdown":"Even when I turn off IntelliJ, add the line `org.jetbrains.jps.level=ALL` to `build-log-jul.properties` (on Windows), and restart IntelliJ, I see no useful information in these logs.","body":"Even when I turn off IntelliJ, add the line <code>org.jetbrains.jps.level=ALL</code> to <code>build-log-jul.properties</code> (on Windows), and restart IntelliJ, I see no useful information in these logs."},{"owner":{"account_id":1770214,"reputation":6814,"user_id":1615183,"accept_rate":65,"display_name":"Hola Soy Edu Feliz Navidad"},"score":0,"creation_date":1686649459,"post_id":25217049,"comment_id":134824681,"body_markdown":"@BrettY In my system the directory is ./.IdeaIC/log/build-log","body":"@BrettY In my system the directory is ./.IdeaIC/log/build-log"}],"tags":[],"owner":{"account_id":343146,"reputation":11083,"user_id":674669,"accept_rate":58,"display_name":"user674669"},"comment_count":8,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1407576030,"creation_date":1407576030,"answer_id":25217049,"question_id":2966530,"body_markdown":"Look in ~/Library/Logs/IdeaIC13/build-log. You can turn on ALL debugging in build-log.xml in this directory. When you build inside IDEA, it writes a log to build.log in this directory.","title":"Can I see the exact commands IntelliJ uses to build a java project?","body":"<p>Look in ~/Library/Logs/IdeaIC13/build-log. You can turn on ALL debugging in build-log.xml in this directory. When you build inside IDEA, it writes a log to build.log in this directory.</p>\n"}],"owner":{"account_id":17640,"reputation":261516,"user_id":39677,"accept_rate":57,"display_name":"Blankman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19581,"favorite_count":0,"down_vote_count":0,"up_vote_count":63,"answer_count":5,"score":63,"last_activity_date":1673472860,"creation_date":1275572766,"question_id":2966530,"body_markdown":"Can I see the exact commands IntelliJ uses to build a java project?","title":"Can I see the exact commands IntelliJ uses to build a java project?","body":"<p>Can I see the exact commands IntelliJ uses to build a java project?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":5,"creation_date":1673209121,"post_id":75050929,"comment_id":132441669,"body_markdown":"You could sort the stream, but it wouldn&#39;t give you the exact same results, as your current method leaves `actors` sorted.","body":"You could sort the stream, but it wouldn&#39;t give you the exact same results, as your current method leaves <code>actors</code> sorted."},{"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":1,"creation_date":1673210438,"post_id":75050929,"comment_id":132441897,"body_markdown":"It&#39;s way clearer in two lines anyway IMHO. You&#39;re mutating in one line, it would be weird to mix it with something immutable.","body":"It&#39;s way clearer in two lines anyway IMHO. You&#39;re mutating in one line, it would be weird to mix it with something immutable."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":4,"creation_date":1673464789,"post_id":75050929,"comment_id":132507563,"body_markdown":"Not a solution to your question, but I&#39;d reconsider changing the object&#39;s state inside of a getter method.","body":"Not a solution to your question, but I&#39;d reconsider changing the object&#39;s state inside of a getter method."}],"answers":[{"comments":[{"owner":{"account_id":9551576,"reputation":96,"user_id":7095554,"display_name":"Tudny"},"score":2,"creation_date":1673209065,"post_id":75050978,"comment_id":132441657,"body_markdown":"I guess the OP want to keep the list sorted after the operation, so it wouldn&#39;t work.","body":"I guess the OP want to keep the list sorted after the operation, so it wouldn&#39;t work."},{"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"score":0,"creation_date":1673223470,"post_id":75050978,"comment_id":132443783,"body_markdown":"@Tudny that&#39;s correct","body":"@Tudny that&#39;s correct"}],"tags":[],"owner":{"account_id":19059871,"reputation":1,"user_id":13916219,"display_name":"Worive"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673209167,"creation_date":1673209022,"answer_id":75050978,"question_id":75050929,"body_markdown":"Streams has a [sorted method][1]\r\n```\r\nactors.stream().sorted(Comparator.comparing(Actor::getName))\r\n```\r\n\r\nNote: This will not sort the List&lt;Actors&gt;. And will only sort the returned stream.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#sorted-java.util.Comparator-","title":"One liner for comparing by property and returning a stream?","body":"<p>Streams has a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#sorted-java.util.Comparator-\" rel=\"nofollow noreferrer\">sorted method</a></p>\n<pre><code>actors.stream().sorted(Comparator.comparing(Actor::getName))\n</code></pre>\n<p>Note: This will not sort the List. And will only sort the returned stream.</p>\n"},{"comments":[{"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"score":0,"creation_date":1673466544,"post_id":75050983,"comment_id":132508062,"body_markdown":"Sorry, how is this different from @Worive&#39;s answer?","body":"Sorry, how is this different from @Worive&#39;s answer?"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1673468901,"post_id":75050983,"comment_id":132508815,"body_markdown":"@vphilipnyc Well, this answer was posted 23 seconds later  a very short interval.","body":"@vphilipnyc Well, this answer was posted 23 seconds later  a very short interval."},{"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"score":0,"creation_date":1673469142,"post_id":75050983,"comment_id":132508904,"body_markdown":"Ok, my status wouldn&#39;t show me that interval.  It used to just read something like &quot;2 days ago&quot; without a way to mouseover","body":"Ok, my status wouldn&#39;t show me that interval.  It used to just read something like &quot;2 days ago&quot; without a way to mouseover"}],"tags":[],"owner":{"account_id":2322191,"reputation":141,"user_id":2037608,"accept_rate":100,"display_name":"gemorra"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673209045,"creation_date":1673209045,"answer_id":75050983,"question_id":75050929,"body_markdown":"you can do it like this:\r\n\r\n    return actors.stream().sorted(Comparator.comparing(Actor::getName));\r\n\r\nThe sort Method of a List will return void, so there is no chance to concat.\r\n\r\nGreetings","title":"One liner for comparing by property and returning a stream?","body":"<p>you can do it like this:</p>\n<pre><code>return actors.stream().sorted(Comparator.comparing(Actor::getName));\n</code></pre>\n<p>The sort Method of a List will return void, so there is no chance to concat.</p>\n<p>Greetings</p>\n"},{"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1673472068,"post_id":75089053,"comment_id":132509828,"body_markdown":"If the side effect is intentional, OP&#39;s approach is much better.","body":"If the side effect is intentional, OP&#39;s approach is much better."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1673472577,"post_id":75089053,"comment_id":132509958,"body_markdown":"@shmosel Of course it is! But OP asked for a one-liner.","body":"@shmosel Of course it is! But OP asked for a one-liner."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1673473056,"post_id":75089053,"comment_id":132510059,"body_markdown":"Also not entirely equivalent if there are other references to the list.","body":"Also not entirely equivalent if there are other references to the list."}],"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673472611,"creation_date":1673471571,"answer_id":75089053,"question_id":75050929,"body_markdown":"If you really, really must:\r\n\r\n```java\r\npublic Stream&lt;Actor&gt; actors() {\r\n    return (actors = actors.stream()\r\n        .sorted(Comparator.comparing(Actor::getName))\r\n        .toList()).stream();\r\n}\r\n```\r\n\r\nBecause it is possible, doesn&#39;t mean you should do this.\r\n\r\n----\r\n\r\nBut indeed, knittl is right. You shouldn&#39;t mutate `actors` with this getter method. I&#39;d be really surprised if I were to use this method and suddenly `actors` was sorted.\r\n\r\nThere are some options which are better alternatives to your current design:\r\n\r\n* Sort the resulting stream, but don&#39;t mutate `actors`:\r\n\r\n    ```java\r\n    return actors.stream()\r\n        .sorted(Comparator.comparing(Actor::getName));\r\n    ```\r\n\r\n* Sort `actors` on initialization, for example:\r\n\r\n    ```java\r\n    List&lt;Actor&gt; actors;\r\n\r\n    YourConstructor(List&lt;Actor&gt; actors) {\r\n        this.actors = actors.stream()\r\n            .sorted(Comparator.comparing(Actor::getName))\r\n            .toList(); // Or whatever implementation of List is desired\r\n    }\r\n    ```","title":"One liner for comparing by property and returning a stream?","body":"<p>If you really, really must:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Stream&lt;Actor&gt; actors() {\n    return (actors = actors.stream()\n        .sorted(Comparator.comparing(Actor::getName))\n        .toList()).stream();\n}\n</code></pre>\n<p>Because it is possible, doesn't mean you should do this.</p>\n<hr />\n<p>But indeed, knittl is right. You shouldn't mutate <code>actors</code> with this getter method. I'd be really surprised if I were to use this method and suddenly <code>actors</code> was sorted.</p>\n<p>There are some options which are better alternatives to your current design:</p>\n<ul>\n<li><p>Sort the resulting stream, but don't mutate <code>actors</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>return actors.stream()\n    .sorted(Comparator.comparing(Actor::getName));\n</code></pre>\n</li>\n<li><p>Sort <code>actors</code> on initialization, for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Actor&gt; actors;\n\nYourConstructor(List&lt;Actor&gt; actors) {\n    this.actors = actors.stream()\n        .sorted(Comparator.comparing(Actor::getName))\n        .toList(); // Or whatever implementation of List is desired\n}\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":75089053,"answer_count":3,"score":2,"last_activity_date":1673472611,"creation_date":1673208602,"question_id":75050929,"body_markdown":"Is it possible to sort and return a stream in one line as in the following?\r\n\r\n    //@Getter...\r\n    public List&lt;Actor&gt; actors;\r\n\r\n    public Stream&lt;Actor&gt; actors() {\r\n        //can these two lines be combined somehow?\r\n        actors.sort(Comparator.comparing(Actor::getName));\r\n        return actors.stream();\r\n    }\r\n\r\n**Note:** After posting this question, I gather this would lead to a design that is not ideal and perhaps error-prone, as it would mutate state outside of the method.  Thanks to @knittl for pointing this out.","title":"One liner for comparing by property and returning a stream?","body":"<p>Is it possible to sort and return a stream in one line as in the following?</p>\n<pre><code>//@Getter...\npublic List&lt;Actor&gt; actors;\n\npublic Stream&lt;Actor&gt; actors() {\n    //can these two lines be combined somehow?\n    actors.sort(Comparator.comparing(Actor::getName));\n    return actors.stream();\n}\n</code></pre>\n<p><strong>Note:</strong> After posting this question, I gather this would lead to a design that is not ideal and perhaps error-prone, as it would mutate state outside of the method.  Thanks to @knittl for pointing this out.</p>\n"},{"tags":["java","android","android-recyclerview","spacing","gridlayoutmanager"],"comments":[{"owner":{"account_id":16233274,"reputation":171,"user_id":11721393,"display_name":"Marcos Narvaez"},"score":0,"creation_date":1671550351,"post_id":74864672,"comment_id":132120705,"body_markdown":"Please, check the answers for [this question](https://stackoverflow.com/questions/28531996/android-recyclerview-gridlayoutmanager-column-spacing?answertab=scoredesc#tab-top), it may help.","body":"Please, check the answers for <a href=\"https://stackoverflow.com/questions/28531996/android-recyclerview-gridlayoutmanager-column-spacing?answertab=scoredesc#tab-top\">this question</a>, it may help."}],"answers":[{"comments":[{"owner":{"account_id":17408002,"reputation":97,"user_id":12615735,"display_name":"C-Gian"},"score":0,"creation_date":1671553138,"post_id":74865555,"comment_id":132121682,"body_markdown":"tweaking with the spaceing parameter solved it but it&#39;s not a good pratice, on different phone size the rror is not fixed","body":"tweaking with the spaceing parameter solved it but it&#39;s not a good pratice, on different phone size the rror is not fixed"},{"owner":{"account_id":27294717,"reputation":86,"user_id":20812539,"display_name":"VipulSharma"},"score":1,"creation_date":1671557839,"post_id":74865555,"comment_id":132123237,"body_markdown":"@C-Gian You are correct, but we don&#39;t have complete control on gridLayoutManger. you should use different layouts to support different screen sizes.","body":"@C-Gian You are correct, but we don&#39;t have complete control on gridLayoutManger. you should use different layouts to support different screen sizes."},{"owner":{"account_id":17408002,"reputation":97,"user_id":12615735,"display_name":"C-Gian"},"score":0,"creation_date":1671573548,"post_id":74865555,"comment_id":132127616,"body_markdown":"any suggestions? there is something that act like a gridlayout?","body":"any suggestions? there is something that act like a gridlayout?"},{"owner":{"account_id":27294717,"reputation":86,"user_id":20812539,"display_name":"VipulSharma"},"score":1,"creation_date":1671607949,"post_id":74865555,"comment_id":132132998,"body_markdown":"there is no replacement for grid layout for now, you can use qualifiers and make different layouts with same name as your default layout","body":"there is no replacement for grid layout for now, you can use qualifiers and make different layouts with same name as your default layout"}],"tags":[],"owner":{"account_id":27294717,"reputation":86,"user_id":20812539,"display_name":"VipulSharma"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671551046,"creation_date":1671551046,"answer_id":74865555,"question_id":74864672,"body_markdown":" [GridSpacingItemDecoration][1] might be what you are looking for, try tweaking the spacing parameter. Also, Set the `includeEdge` parameter to true for adjusting the edge spacing. That is what helped me.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/30701422/20812539","title":"recyclerview GridLayoutManager spaces not divided equally","body":"<p><a href=\"https://stackoverflow.com/a/30701422/20812539\">GridSpacingItemDecoration</a> might be what you are looking for, try tweaking the spacing parameter. Also, Set the <code>includeEdge</code> parameter to true for adjusting the edge spacing. That is what helped me.</p>\n"}],"owner":{"account_id":17408002,"reputation":97,"user_id":12615735,"display_name":"C-Gian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1673472460,"creation_date":1671546870,"question_id":74864672,"body_markdown":"I have a recyclerview with a GridLayoutManager as LayoutManager:\r\n\r\nXML:\r\n\r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        android:id=&quot;@+id/recycler_view_container_anime&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;androidx.recyclerview.widget.RecyclerView\r\n            android:id=&quot;@+id/recycler_view_anime&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:clipToPadding=&quot;false&quot;\r\n            android:orientation=&quot;vertical&quot;\r\n            android:background=&quot;#FF0000&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;&lt;/androidx.recyclerview.widget.RecyclerView&gt;\r\n\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n\r\nJAVA:\r\n\r\n    recycler_view_anime = view.findViewById(R.id.recycler_view_anime);\r\n        recycler_view_anime.setHasFixedSize(true);\r\n        LinearLayoutManager layoutManager_anime_crucial = new GridLayoutManager(getContext(), 3, GridLayoutManager.VERTICAL, false);\r\n        recycler_view_anime.setLayoutManager(layoutManager_anime_crucial);\r\n        recycler_view_anime.setItemAnimator(new DefaultItemAnimator());\r\n\r\nRecycler&#39;s elements are image with fixed width and height:\r\n\r\nXML for recyclerview elements:\r\n\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:card_view=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/card_container&quot;\r\n    android:layout_width=&quot;100dp&quot;\r\n    android:layout_height=&quot;230dp&quot;&gt;\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        android:id=&quot;@+id/card_view_id&quot;\r\n        android:background=&quot;#131313&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/main_image&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;190dp&quot;\r\n            android:src=&quot;@drawable/default_image&quot;\r\n            android:scaleType=&quot;fitXY&quot;\r\n            android:transitionName=&quot;example_transition&quot;\r\n            card_view:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            card_view:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            card_view:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:id=&quot;@+id/constraintLayout14&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;40dp&quot;\r\n            card_view:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            card_view:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            card_view:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            card_view:layout_constraintTop_toBottomOf=&quot;@+id/main_image&quot;&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/main_name&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_margin=&quot;5dp&quot;\r\n                android:ellipsize=&quot;end&quot;\r\n                android:fontFamily=&quot;@font/futura_book&quot;\r\n                android:gravity=&quot;center_horizontal|center_vertical&quot;\r\n                android:maxLines=&quot;2&quot;\r\n                android:text=&quot;Spyyyyyyyyyyyyyyyyyyyyyyyjjjjjjjjjjjjjjj&quot;\r\n                android:textColor=&quot;@color/white&quot;\r\n                android:textSize=&quot;12dp&quot;\r\n                card_view:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                card_view:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                card_view:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                card_view:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n            &lt;/TextView&gt;\r\n\r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n\r\nDoing like this what I get is:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWhat I&#39;m trying to achieve:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n(Red background is the recyclerview background, to show that recycler width works fine, the problem is the gridlayoutmanager)\r\n\r\nBasically I need to space equally between elements but also on the left and on the right of the first and last elements.\r\n\r\nI searched a lot and tried a lot of recyclerview.itemdecorator(...) solutions but none of them worked. It&#39;s like if the gridlayoutmanager itself is not centered inside the recycler view width... \r\n\r\nEDIT: the recyclerview that I use it&#39;s inside a viewpager, so the recycler&#39;s xml is a single xml file, maybe this is the problem, because I tried to set in this xml the width as wrap and in was centered with no space and the itemdecorator worked fine, but once I returned to match_parent it broke again\r\n\r\n  [1]: https://i.stack.imgur.com/rUprE.png\r\n  [2]: https://i.stack.imgur.com/pCkcu.png","title":"recyclerview GridLayoutManager spaces not divided equally","body":"<p>I have a recyclerview with a GridLayoutManager as LayoutManager:</p>\n<p>XML:</p>\n<pre><code>    &lt;androidx.constraintlayout.widget.ConstraintLayout\n    android:id=&quot;@+id/recycler_view_container_anime&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;0dp&quot;\n    android:orientation=&quot;vertical&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/recycler_view_anime&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:clipToPadding=&quot;false&quot;\n        android:orientation=&quot;vertical&quot;\n        android:background=&quot;#FF0000&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;&lt;/androidx.recyclerview.widget.RecyclerView&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>JAVA:</p>\n<pre><code>recycler_view_anime = view.findViewById(R.id.recycler_view_anime);\n    recycler_view_anime.setHasFixedSize(true);\n    LinearLayoutManager layoutManager_anime_crucial = new GridLayoutManager(getContext(), 3, GridLayoutManager.VERTICAL, false);\n    recycler_view_anime.setLayoutManager(layoutManager_anime_crucial);\n    recycler_view_anime.setItemAnimator(new DefaultItemAnimator());\n</code></pre>\n<p>Recycler's elements are image with fixed width and height:</p>\n<p>XML for recyclerview elements:</p>\n<pre><code>&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:card_view=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:id=&quot;@+id/card_container&quot;\nandroid:layout_width=&quot;100dp&quot;\nandroid:layout_height=&quot;230dp&quot;&gt;\n\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n    android:id=&quot;@+id/card_view_id&quot;\n    android:background=&quot;#131313&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/main_image&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;190dp&quot;\n        android:src=&quot;@drawable/default_image&quot;\n        android:scaleType=&quot;fitXY&quot;\n        android:transitionName=&quot;example_transition&quot;\n        card_view:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        card_view:layout_constraintStart_toStartOf=&quot;parent&quot;\n        card_view:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:id=&quot;@+id/constraintLayout14&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;40dp&quot;\n        card_view:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        card_view:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        card_view:layout_constraintStart_toStartOf=&quot;parent&quot;\n        card_view:layout_constraintTop_toBottomOf=&quot;@+id/main_image&quot;&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/main_name&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_margin=&quot;5dp&quot;\n            android:ellipsize=&quot;end&quot;\n            android:fontFamily=&quot;@font/futura_book&quot;\n            android:gravity=&quot;center_horizontal|center_vertical&quot;\n            android:maxLines=&quot;2&quot;\n            android:text=&quot;Spyyyyyyyyyyyyyyyyyyyyyyyjjjjjjjjjjjjjjj&quot;\n            android:textColor=&quot;@color/white&quot;\n            android:textSize=&quot;12dp&quot;\n            card_view:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            card_view:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            card_view:layout_constraintStart_toStartOf=&quot;parent&quot;\n            card_view:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n        &lt;/TextView&gt;\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n\n<p>Doing like this what I get is:</p>\n<p><a href=\"https://i.stack.imgur.com/rUprE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rUprE.png\" alt=\"enter image description here\" /></a></p>\n<p>What I'm trying to achieve:</p>\n<p><a href=\"https://i.stack.imgur.com/pCkcu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pCkcu.png\" alt=\"enter image description here\" /></a></p>\n<p>(Red background is the recyclerview background, to show that recycler width works fine, the problem is the gridlayoutmanager)</p>\n<p>Basically I need to space equally between elements but also on the left and on the right of the first and last elements.</p>\n<p>I searched a lot and tried a lot of recyclerview.itemdecorator(...) solutions but none of them worked. It's like if the gridlayoutmanager itself is not centered inside the recycler view width...</p>\n<p>EDIT: the recyclerview that I use it's inside a viewpager, so the recycler's xml is a single xml file, maybe this is the problem, because I tried to set in this xml the width as wrap and in was centered with no space and the itemdecorator worked fine, but once I returned to match_parent it broke again</p>\n"},{"tags":["java","xml","eclipse","jaxb"],"comments":[{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":1,"creation_date":1673446315,"post_id":75084114,"comment_id":132500974,"body_markdown":"See this post to fix the error : [imports-accessible-from-more-than-one-module](https://stackoverflow.com/questions/55571046/eclipse-is-confused-by-imports-accessible-from-more-than-one-module) . For alternative approaches please clarify what you are trying to do and which result you expect.","body":"See this post to fix the error : <a href=\"https://stackoverflow.com/questions/55571046/eclipse-is-confused-by-imports-accessible-from-more-than-one-module\">imports-accessible-from-more-than-one-module</a> . For alternative approaches please clarify what you are trying to do and which result you expect."},{"owner":{"account_id":24851898,"reputation":199,"user_id":18728725,"display_name":"StefanoTrv"},"score":0,"creation_date":1673820833,"post_id":75084114,"comment_id":132577609,"body_markdown":"If high performance is not your priority, I made a library to make manipulating XML files much simpler: https://github.com/StefanoTrv/EasyXML","body":"If high performance is not your priority, I made a library to make manipulating XML files much simpler: <a href=\"https://github.com/StefanoTrv/EasyXML\" rel=\"nofollow noreferrer\">github.com/StefanoTrv/EasyXML</a>"}],"answers":[{"tags":[],"owner":{"account_id":27490113,"reputation":11,"user_id":20975643,"display_name":"Dimitris"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673461302,"creation_date":1673461302,"answer_id":75087479,"question_id":75084114,"body_markdown":"There are a few ways to read the XML file and extract the information you need without using a lot of if statements. One approach is to use an XML parsing library such as JAXB or SAX, and create Java classes to represent the XML elements.\r\n\r\nIn JAXB, you can use the javax.xml.bind.Unmarshaller class to unmarshal the XML file into a Java object, which you can then traverse to extract the information you need.\r\nYou should start creating a Java classes based on the XML structure, like FlowMonitor, Menu1, Item, Connection etc. , and use annotation to map the xml elements to the fields.\r\nThen, you can use the unmarshaller.unmarshal() method to parse the XML file and create an instance of the FlowMonitor class, which will contain all the information from the XML file.\r\nOnce you have the FlowMonitor object you can loop through the items, and get the description and filename by calling getDescriptionValue() and getFilenameValue() of the item object....","title":"Search query in XML file from java","body":"<p>There are a few ways to read the XML file and extract the information you need without using a lot of if statements. One approach is to use an XML parsing library such as JAXB or SAX, and create Java classes to represent the XML elements.</p>\n<p>In JAXB, you can use the javax.xml.bind.Unmarshaller class to unmarshal the XML file into a Java object, which you can then traverse to extract the information you need.\nYou should start creating a Java classes based on the XML structure, like FlowMonitor, Menu1, Item, Connection etc. , and use annotation to map the xml elements to the fields.\nThen, you can use the unmarshaller.unmarshal() method to parse the XML file and create an instance of the FlowMonitor class, which will contain all the information from the XML file.\nOnce you have the FlowMonitor object you can loop through the items, and get the description and filename by calling getDescriptionValue() and getFilenameValue() of the item object....</p>\n"}],"owner":{"account_id":22436368,"reputation":276,"user_id":16641566,"display_name":"Robs"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673472267,"creation_date":1673445153,"question_id":75084114,"body_markdown":"My Project Manager told me to move all the queries in a xml file (he even made for me), so when the user (via jsp) select the description: &quot;Flusso VLT mensile&quot; he has 2 options, click search, update or download, (the download it works now but I need to get the name of filename), he told me to work with jaxb but I don&#39;t think is necessary\r\n\r\n        &lt;flow-monitor&gt;\r\n       &lt;menu1&gt;\r\n           &lt;item id=&quot;7&quot; type=&quot;simple&quot;&gt;\r\n    \t\t&lt;connection name=&quot;VALSAP&quot; /&gt;\r\n    \t\t&lt;description value=&quot;Flusso VLT mensile&quot; /&gt;\r\n    \t\t&lt;filename value=&quot;flussoVltmensile&quot; /&gt;\r\n    \t\t&lt;select&gt;&lt;![CDATA[\r\n    \t\t\t\tSELECT * FROM vlt_sap WHERE stato=7\r\n    \t\t\t]]&gt;\r\n    \t\t&lt;/select&gt;\r\n    \t\t&lt;update&gt;\r\n    \t\t\t&lt;![CDATA[update vlt_sap set stato = 0 where stato =7]]&gt;\r\n    \t\t&lt;/update&gt;\r\n    \t&lt;/item&gt;\t\r\n    \t&lt;item id=&quot;11&quot; type=&quot;simple&quot;&gt;\r\n    \t\t&lt;connection name=&quot;VALSAP&quot; /&gt;\r\n    \t\t&lt;description value=&quot;Flusso REPNORM BERSANI&quot; /&gt;\r\n    \t\t&lt;filename value=&quot;flussoRepnormBersani&quot; /&gt;\r\n    \t\t&lt;select&gt;&lt;![CDATA[\r\n    \t\t\t\tselect * from repnorm_bersani_sap where stato = 99\r\n    \t\t\t]]&gt;\r\n    \t\t&lt;/select&gt;\r\n    \t\t&lt;update&gt;\r\n    \t\t\t&lt;![CDATA[update repnorm_bersani_sap set stato=0 where stato = 99]]&gt;\r\n    \t\t&lt;/update&gt;\r\n    \t&lt;/item&gt;\t\r\n     &lt;/menu1&gt;\r\n        &lt;/flow-monitor&gt;\r\n\r\nOn java I should read this xml and depending on `&lt;description value=&gt;` I should execute the query inside them, any way to easily  read the value inside without make a lot of if statement\r\n\r\n\r\nAnybody knows a good and easy way to achieve all this?\r\n\r\nThanks","title":"Search query in XML file from java","body":"<p>My Project Manager told me to move all the queries in a xml file (he even made for me), so when the user (via jsp) select the description: &quot;Flusso VLT mensile&quot; he has 2 options, click search, update or download, (the download it works now but I need to get the name of filename), he told me to work with jaxb but I don't think is necessary</p>\n<pre><code>    &lt;flow-monitor&gt;\n   &lt;menu1&gt;\n       &lt;item id=&quot;7&quot; type=&quot;simple&quot;&gt;\n        &lt;connection name=&quot;VALSAP&quot; /&gt;\n        &lt;description value=&quot;Flusso VLT mensile&quot; /&gt;\n        &lt;filename value=&quot;flussoVltmensile&quot; /&gt;\n        &lt;select&gt;&lt;![CDATA[\n                SELECT * FROM vlt_sap WHERE stato=7\n            ]]&gt;\n        &lt;/select&gt;\n        &lt;update&gt;\n            &lt;![CDATA[update vlt_sap set stato = 0 where stato =7]]&gt;\n        &lt;/update&gt;\n    &lt;/item&gt; \n    &lt;item id=&quot;11&quot; type=&quot;simple&quot;&gt;\n        &lt;connection name=&quot;VALSAP&quot; /&gt;\n        &lt;description value=&quot;Flusso REPNORM BERSANI&quot; /&gt;\n        &lt;filename value=&quot;flussoRepnormBersani&quot; /&gt;\n        &lt;select&gt;&lt;![CDATA[\n                select * from repnorm_bersani_sap where stato = 99\n            ]]&gt;\n        &lt;/select&gt;\n        &lt;update&gt;\n            &lt;![CDATA[update repnorm_bersani_sap set stato=0 where stato = 99]]&gt;\n        &lt;/update&gt;\n    &lt;/item&gt; \n &lt;/menu1&gt;\n    &lt;/flow-monitor&gt;\n</code></pre>\n<p>On java I should read this xml and depending on <code>&lt;description value=&gt;</code> I should execute the query inside them, any way to easily  read the value inside without make a lot of if statement</p>\n<p>Anybody knows a good and easy way to achieve all this?</p>\n<p>Thanks</p>\n"},{"tags":["java","spring-boot","oauth-2.0","amazon-cognito"],"comments":[{"owner":{"account_id":1479977,"reputation":408,"user_id":5806275,"display_name":"Raffael Bechara Rameh"},"score":0,"creation_date":1564594073,"post_id":56891383,"comment_id":101086318,"body_markdown":"I am facing the same issue. I believe that&#39;s because of lack of some @Configuration. In this guide you can find a step-by-step setup for the entire process of integrating Spring + Security + Cognito: https://gofore.com/en/spring-boot/","body":"I am facing the same issue. I believe that&#39;s because of lack of some @Configuration. In this guide you can find a step-by-step setup for the entire process of integrating Spring + Security + Cognito: <a href=\"https://gofore.com/en/spring-boot/\" rel=\"nofollow noreferrer\">gofore.com/en/spring-boot</a>"},{"owner":{"account_id":6387352,"reputation":159,"user_id":4954816,"display_name":"Eder Armando Anillo Lora"},"score":1,"creation_date":1564597627,"post_id":56891383,"comment_id":101087851,"body_markdown":"Thanks a lot. However  I found the solution. This was happend because when I get the response I didn&#39;t redirect to html page.","body":"Thanks a lot. However  I found the solution. This was happend because when I get the response I didn&#39;t redirect to html page."},{"owner":{"account_id":1479977,"reputation":408,"user_id":5806275,"display_name":"Raffael Bechara Rameh"},"score":0,"creation_date":1564677496,"post_id":56891383,"comment_id":101119035,"body_markdown":"Could you please tell us how did you manage it? (Maybe putting the solution as the answer to this thread) Obrigado!","body":"Could you please tell us how did you manage it? (Maybe putting the solution as the answer to this thread) Obrigado!"},{"owner":{"account_id":6387352,"reputation":159,"user_id":4954816,"display_name":"Eder Armando Anillo Lora"},"score":1,"creation_date":1564679258,"post_id":56891383,"comment_id":101119843,"body_markdown":"Hahahahahaha sure @RaffaelBecharaRameh","body":"Hahahahahaha sure @RaffaelBecharaRameh"}],"owner":{"account_id":6387352,"reputation":159,"user_id":4954816,"display_name":"Eder Armando Anillo Lora"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1504,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1673472247,"creation_date":1562256028,"question_id":56891383,"body_markdown":"I have a microservice in spring boot with login oauth2 and cognito. The login service works fine, but when spring boot gets the answer, it shows invalid_id_token. I don&#39;t know why.\r\nI configured the cognito provider in AWS, and this is my application.properties:\r\n\r\n    server.port=8000\r\n    app.url=http://localhost:${server.port}\r\n    cognito.rooturl=https://XXXX.auth.us-east-1.amazoncognito.com\r\n    spring.security.oauth2.client.registration.cognito.provider=cognito\r\n    spring.security.oauth2.client.registration.cognito.client-id=XXXXXXXXXX\r\n    spring.security.oauth2.client.registration.cognito.client-secret=XXXXXXXX\r\n    spring.security.oauth2.client.registration.cognito.client-name=test-cognito-2\r\n    spring.security.oauth2.client.registration.cognito.authorization-grant-type=authorization_code\r\n    spring.security.oauth2.client.registration.cognito.scope=openid\r\n    spring.security.oauth2.client.registration.cognito.redirect-uri=${app.url}/login/oauth2/code/cognito\r\n    \r\n    \r\n    spring.security.oauth2.client.provider.cognito.authorization-uri=${cognito.rooturl}/oauth2/authorize\r\n    spring.security.oauth2.client.provider.cognito.token-uri=${cognito.rooturl}/oauth2/token\r\n    spring.security.oauth2.client.provider.cognito.jwk-set-uri=https://cognito-idp.us-east-1.amazonaws.com/us-east-XXXXXX/.well-known/jwks.json\r\n    spring.security.oauth2.client.provider.cognito.user-info-uri=${cognito.rooturl}/oauth2/userInfo\r\n    spring.security.oauth2.client.provider.cognito.user-name-attribute=username\r\n    \r\n    #Database\r\n    spring.datasource.name=test_ms\r\n    spring.jpa.show-sql=true\r\n    \r\n    spring.h2.console.enabled=true\r\n    spring.h2.console.path=/h2-console\r\n\r\nMy Solution:\r\n\r\nI&#39;ve configured a success url login:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class BasicConfiguration extends WebSecurityConfigurerAdapter{\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception{\r\n            \r\n    \t http.authorizeRequests().antMatchers(&quot;/login/**&quot;).permitAll().antMatchers(&quot;/logout&quot;)\r\n    \t.permitAll().anyRequest().authenticated()\r\n    \t.and().oauth2Login().defaultSuccessUrl(&quot;/m1/entry&quot;);\r\n         }\r\n     }\r\nThen We create pages html using thymeleaf:\r\n\r\n    @PostMapping(&quot;/m1/entry&quot;)\r\n    @ResponseBody\r\n    public  String urlTestEntry() {\r\n    \t\treturn &quot;succes&quot;;\r\n    }\r\nHtml pages:\r\n\r\n  [![Pages created][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/exHR8.png\r\n\r\nI tested again and It&#39;s works!!","title":"Invalid id token in spring when aws cognito response","body":"<p>I have a microservice in spring boot with login oauth2 and cognito. The login service works fine, but when spring boot gets the answer, it shows invalid_id_token. I don't know why.\nI configured the cognito provider in AWS, and this is my application.properties:</p>\n<pre><code>server.port=8000\napp.url=http://localhost:${server.port}\ncognito.rooturl=https://XXXX.auth.us-east-1.amazoncognito.com\nspring.security.oauth2.client.registration.cognito.provider=cognito\nspring.security.oauth2.client.registration.cognito.client-id=XXXXXXXXXX\nspring.security.oauth2.client.registration.cognito.client-secret=XXXXXXXX\nspring.security.oauth2.client.registration.cognito.client-name=test-cognito-2\nspring.security.oauth2.client.registration.cognito.authorization-grant-type=authorization_code\nspring.security.oauth2.client.registration.cognito.scope=openid\nspring.security.oauth2.client.registration.cognito.redirect-uri=${app.url}/login/oauth2/code/cognito\n\n\nspring.security.oauth2.client.provider.cognito.authorization-uri=${cognito.rooturl}/oauth2/authorize\nspring.security.oauth2.client.provider.cognito.token-uri=${cognito.rooturl}/oauth2/token\nspring.security.oauth2.client.provider.cognito.jwk-set-uri=https://cognito-idp.us-east-1.amazonaws.com/us-east-XXXXXX/.well-known/jwks.json\nspring.security.oauth2.client.provider.cognito.user-info-uri=${cognito.rooturl}/oauth2/userInfo\nspring.security.oauth2.client.provider.cognito.user-name-attribute=username\n\n#Database\nspring.datasource.name=test_ms\nspring.jpa.show-sql=true\n\nspring.h2.console.enabled=true\nspring.h2.console.path=/h2-console\n</code></pre>\n<p>My Solution:</p>\n<p>I've configured a success url login:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class BasicConfiguration extends WebSecurityConfigurerAdapter{\n@Override\nprotected void configure(HttpSecurity http) throws Exception{\n        \n     http.authorizeRequests().antMatchers(&quot;/login/**&quot;).permitAll().antMatchers(&quot;/logout&quot;)\n    .permitAll().anyRequest().authenticated()\n    .and().oauth2Login().defaultSuccessUrl(&quot;/m1/entry&quot;);\n     }\n }\n</code></pre>\n<p>Then We create pages html using thymeleaf:</p>\n<pre><code>@PostMapping(&quot;/m1/entry&quot;)\n@ResponseBody\npublic  String urlTestEntry() {\n        return &quot;succes&quot;;\n}\n</code></pre>\n<p>Html pages:</p>\n<p><a href=\"https://i.stack.imgur.com/exHR8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/exHR8.png\" alt=\"Pages created\" /></a></p>\n<p>I tested again and It's works!!</p>\n"},{"tags":["java","jwt"],"comments":[{"owner":{"account_id":3533020,"reputation":3091,"user_id":2952011,"accept_rate":80,"display_name":"Mukit09"},"score":0,"creation_date":1564029493,"post_id":57194359,"comment_id":100897482,"body_markdown":"These are the available type for KeyStore getInstance(). https://docs.oracle.com/javase/8/docs/technotes/guides/security/StandardNames.html#KeyStore","body":"These are the available type for KeyStore getInstance(). <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/security/StandardNames.html#KeyStore\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/technotes/guides/security/&hellip;</a>"},{"owner":{"account_id":3533020,"reputation":3091,"user_id":2952011,"accept_rate":80,"display_name":"Mukit09"},"score":0,"creation_date":1564029585,"post_id":57194359,"comment_id":100897504,"body_markdown":"Also, you can take help from this code base too. :) https://github.com/Mukit09/CertificateBasedAuth","body":"Also, you can take help from this code base too. :) <a href=\"https://github.com/Mukit09/CertificateBasedAuth\" rel=\"nofollow noreferrer\">github.com/Mukit09/CertificateBasedAuth</a>"}],"answers":[{"comments":[{"owner":{"account_id":9899349,"reputation":20524,"user_id":7329832,"display_name":"jps"},"score":1,"creation_date":1564039757,"post_id":57194507,"comment_id":100901497,"body_markdown":"Please provide some context around your links. Just some links (that might be invalid tomorrow) is not a good answer. See also [How do I write a good answer](https://stackoverflow.com/help/how-to-answer)","body":"Please provide some context around your links. Just some links (that might be invalid tomorrow) is not a good answer. See also <a href=\"https://stackoverflow.com/help/how-to-answer\">How do I write a good answer</a>"}],"tags":[],"owner":{"account_id":10291210,"reputation":16,"user_id":7592917,"display_name":"Ahmed Moazzin"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1564030076,"creation_date":1564030076,"answer_id":57194507,"question_id":57194359,"body_markdown":"I think you should use **PKCS8EncodedKeySpec**\r\n\r\n[PKCS8EncodedKeySpec Doc][1]\r\n\r\n[Some Codes][2]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/security/spec/PKCS8EncodedKeySpec.html\r\n  [2]: https://www.programcreek.com/java-api-examples/java.security.spec.PKCS8EncodedKeySpec","title":"how to sign a json web token using .p8 file","body":"<p>I think you should use <strong>PKCS8EncodedKeySpec</strong></p>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/security/spec/PKCS8EncodedKeySpec.html\" rel=\"nofollow noreferrer\">PKCS8EncodedKeySpec Doc</a></p>\n\n<p><a href=\"https://www.programcreek.com/java-api-examples/java.security.spec.PKCS8EncodedKeySpec\" rel=\"nofollow noreferrer\">Some Codes</a></p>\n"},{"tags":[],"owner":{"account_id":3611807,"reputation":21,"user_id":3012627,"display_name":"chieuvh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661222716,"creation_date":1661159529,"answer_id":73442714,"question_id":57194359,"body_markdown":"        //remember to remove two lines below in your .p8 key before run code\r\n        //-----BEGIN PRIVATE KEY-----\r\n        //-----END PRIVATE KEY-----\r\n        //begin create a key from .p8 file\r\n        byte[] p8der = Files.readAllBytes(new File(&quot;/tmp/AuthKey_KeyId.p8&quot;).toPath());\r\n        PKCS8EncodedKeySpec priPKCS8 = new PKCS8EncodedKeySpec(new org.apache.commons.codec.binary.Base64().decode(p8der));\r\n        PrivateKey appleKey = KeyFactory.getInstance(&quot;EC&quot;).generatePrivate(priPKCS8);\r\n        //end create a key from .p8 file\r\n        Map jwtHeader = new HashMap();\r\n        jwtHeader.put(&quot;alg&quot;, &quot;ES256&quot;);\r\n        //addmore header\r\n        JsonObject jwtPayload = new JsonObject();\r\n        jwtPayload.addProperty(&quot;iss&quot;, &quot;{{replace with your issuer ID}}&quot;);\r\n        //addmore properties\r\n        JsonArray scope = new JsonArray();\r\n        scope.add(&quot;GET {{replace with your scope}}&quot;);\r\n        jwtPayload.add(&quot;scope&quot;, scope);\r\n        //begin signWithES256\r\n        JwtBuilder jwtBuilder = Jwts.builder()\r\n                .setHeader(jwtHeader)\r\n                .setPayload(jwtPayload.toString())\r\n                .signWith(\r\n                        SignatureAlgorithm.ES256,\r\n                        appleKey\r\n                );\r\n        String jws = jwtBuilder.compact();\r\n        logger.info(jws);","title":"how to sign a json web token using .p8 file","body":"<pre><code>    //remember to remove two lines below in your .p8 key before run code\n    //-----BEGIN PRIVATE KEY-----\n    //-----END PRIVATE KEY-----\n    //begin create a key from .p8 file\n    byte[] p8der = Files.readAllBytes(new File(&quot;/tmp/AuthKey_KeyId.p8&quot;).toPath());\n    PKCS8EncodedKeySpec priPKCS8 = new PKCS8EncodedKeySpec(new org.apache.commons.codec.binary.Base64().decode(p8der));\n    PrivateKey appleKey = KeyFactory.getInstance(&quot;EC&quot;).generatePrivate(priPKCS8);\n    //end create a key from .p8 file\n    Map jwtHeader = new HashMap();\n    jwtHeader.put(&quot;alg&quot;, &quot;ES256&quot;);\n    //addmore header\n    JsonObject jwtPayload = new JsonObject();\n    jwtPayload.addProperty(&quot;iss&quot;, &quot;{{replace with your issuer ID}}&quot;);\n    //addmore properties\n    JsonArray scope = new JsonArray();\n    scope.add(&quot;GET {{replace with your scope}}&quot;);\n    jwtPayload.add(&quot;scope&quot;, scope);\n    //begin signWithES256\n    JwtBuilder jwtBuilder = Jwts.builder()\n            .setHeader(jwtHeader)\n            .setPayload(jwtPayload.toString())\n            .signWith(\n                    SignatureAlgorithm.ES256,\n                    appleKey\n            );\n    String jws = jwtBuilder.compact();\n    logger.info(jws);\n</code></pre>\n"}],"owner":{"account_id":1509106,"reputation":1661,"user_id":1411662,"accept_rate":40,"display_name":"prasadmsvs"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2495,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":57194507,"answer_count":2,"score":4,"last_activity_date":1673472165,"creation_date":1564029079,"question_id":57194359,"body_markdown":"I need to create a JWT for using Apple Mapkitjs. I have a secret key in a .p8 file. My backend is in java. I am trying to use auth0 to do this. But it says I have to use a key provider or key for ES256 algorithm. I tried the following but got an exception &quot;PKCS8 not found&quot;\r\n\r\n    KeyStore store = KeyStore.getInstance(&quot;PKCS8&quot;);\r\n\r\nI am fairly new to java world. Could someone tell me how to create a key from .p8 file","title":"how to sign a json web token using .p8 file","body":"<p>I need to create a JWT for using Apple Mapkitjs. I have a secret key in a .p8 file. My backend is in java. I am trying to use auth0 to do this. But it says I have to use a key provider or key for ES256 algorithm. I tried the following but got an exception \"PKCS8 not found\"</p>\n\n<pre><code>KeyStore store = KeyStore.getInstance(\"PKCS8\");\n</code></pre>\n\n<p>I am fairly new to java world. Could someone tell me how to create a key from .p8 file</p>\n"},{"tags":["java","spring","spring-boot","active-directory","ldap"],"comments":[{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1619678746,"post_id":67311979,"comment_id":118978482,"body_markdown":"Does this answer your question? [Spring Security LDAP authentication user must be a member of an AD group](https://stackoverflow.com/questions/38319309/spring-security-ldap-authentication-user-must-be-a-member-of-an-ad-group)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/38319309/spring-security-ldap-authentication-user-must-be-a-member-of-an-ad-group\">Spring Security LDAP authentication user must be a member of an AD group</a>"},{"owner":{"account_id":4177544,"reputation":246,"user_id":3423611,"display_name":"jkasper"},"score":0,"creation_date":1619714569,"post_id":67311979,"comment_id":118995309,"body_markdown":"Nope. None of the answers by Invest or DarioJ work. Invest&#39;s approach uses an LdapAuthorities populator. I tried putting a breakpoint inside it but the code never went inside. It just lets the user in straightaway.","body":"Nope. None of the answers by Invest or DarioJ work. Invest&#39;s approach uses an LdapAuthorities populator. I tried putting a breakpoint inside it but the code never went inside. It just lets the user in straightaway."},{"owner":{"account_id":4177544,"reputation":246,"user_id":3423611,"display_name":"jkasper"},"score":0,"creation_date":1619745080,"post_id":67311979,"comment_id":119004484,"body_markdown":"My case seems different because it seems like the activeDirectoryLdapAuthenticationProvider is dictating the terms. No matter what I put in the search filter like the link you sent above, it will continue to authenticate. I don&#39;t know how to set this search filter properly in the activeDirectoryLdapAuthenticationProvider. If I try to use the same filter as in the link above, I get &#39;In order to perform this operation a successful bind must be completed on the connection., data 0, v3839]; remaining name &#39;/&#39; &#39;.","body":"My case seems different because it seems like the activeDirectoryLdapAuthenticationProvider is dictating the terms. No matter what I put in the search filter like the link you sent above, it will continue to authenticate. I don&#39;t know how to set this search filter properly in the activeDirectoryLdapAuthenticationProvider. If I try to use the same filter as in the link above, I get &#39;In order to perform this operation a successful bind must be completed on the connection., data 0, v3839]; remaining name &#39;/&#39; &#39;."},{"owner":{"account_id":4218123,"reputation":9909,"user_id":3453898,"accept_rate":75,"display_name":"pixel"},"score":0,"creation_date":1698696202,"post_id":67311979,"comment_id":136435707,"body_markdown":"Did you figure this out?  Mind providing solution please?  Thank you","body":"Did you figure this out?  Mind providing solution please?  Thank you"}],"answers":[{"tags":[],"owner":{"account_id":4218123,"reputation":9909,"user_id":3453898,"accept_rate":75,"display_name":"pixel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673470428,"creation_date":1673470428,"answer_id":75088898,"question_id":67311979,"body_markdown":"I wonder if this might be the issue:\r\n\r\n    .userSearchFilter(&quot;(&amp;(objectClass=user)(sAMAccountName=*)(memberOf=cn=GDL-MyTeam,ou=users,dc=myCompany,dc=com)))&quot;)\r\n\r\nYou use `sAMAccountName=*` (with the *).  Looks like wild card to me, meaning anyone?.  What if you replace that with `{1}` like in\r\n\r\n    .userSearchFilter(&quot;(&amp;(objectClass=user)(sAMAccountName={1})(memberOf=cn=GDL-MyTeam,ou=users,dc=myCompany,dc=com)))&quot;)\r\n\r\n","title":"Spring Boot LDAP check if a user belongs to a specific group","body":"<p>I wonder if this might be the issue:</p>\n<pre><code>.userSearchFilter(&quot;(&amp;(objectClass=user)(sAMAccountName=*)(memberOf=cn=GDL-MyTeam,ou=users,dc=myCompany,dc=com)))&quot;)\n</code></pre>\n<p>You use <code>sAMAccountName=*</code> (with the *).  Looks like wild card to me, meaning anyone?.  What if you replace that with <code>{1}</code> like in</p>\n<pre><code>.userSearchFilter(&quot;(&amp;(objectClass=user)(sAMAccountName={1})(memberOf=cn=GDL-MyTeam,ou=users,dc=myCompany,dc=com)))&quot;)\n</code></pre>\n"}],"owner":{"account_id":4177544,"reputation":246,"user_id":3423611,"display_name":"jkasper"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1937,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673470428,"creation_date":1619677325,"question_id":67311979,"body_markdown":"I&#39;m building an application which will allow only a specific set of users in my org. to login. Only those users that belong to a particular AD Group can login. Eg: GDL - MyTeam is a GDL, only who&#39;s members I want to allow to get in.\r\nI checked out Atlassian&#39;s [tutorial][1], and confluent&#39;s [tutorial][2] as well as Megha&#39;s answer [here][3].\r\n\r\nWhat is different in my case, compared to other stack overflow questions is that I&#39;m using `ActiveDirectoryLdapAuthenticationProvider` as can be seen in my code snippet below. That is the one to be dictating the terms.\r\n\r\nHowever, My application would still allow any user in the org to get in to my application. I&#39;m really not able to understand what criteria is it using to allow anyone.\r\nI&#39;m a totally newbie to ldiff syntax and filtering ldap using Java. Combine with springboot, I really don&#39;t know if I should use group search base or user search base. I just want people of my GDL to be able to get in. Rest should receive an authentication failure.\r\n\r\nHere is my code file for reference:\r\n\r\n```\r\n\t@Override\r\n\tpublic void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n\r\n\t\tconfigureLdap(auth);\r\n\t\tconfigureActiveDirectory(auth);\r\n\r\n\t}\r\n\r\n\tprivate void configureLdap(AuthenticationManagerBuilder auth) throws Exception {\r\n\r\n\t\tauth\r\n\t\t\t.ldapAuthentication()\r\n\t\t\t.contextSource(contextSource())\r\n\t\t\t.userSearchFilter(&quot;(&amp;(objectClass=user)(sAMAccountName=*)(memberOf=cn=GDL-MyTeam,ou=users,dc=myCompany,dc=com)))&quot;)\r\n\t\t\t.passwordCompare()\r\n\t\t\t.passwordEncoder(passwordEncoder())\r\n\t\t\t.passwordAttribute(&quot;userPassword&quot;);\r\n\t}\r\n\r\n\tprivate void configureActiveDirectory(AuthenticationManagerBuilder auth) {\r\n\t\tActiveDirectoryLdapAuthenticationProvider adProvider = activeDirectoryLdapAuthenticationProvider();\r\n\t\tif (adProvider != null) {\r\n\t\t\tauth.authenticationProvider(adProvider);\r\n\t\t\tauth.eraseCredentials(false);\r\n\t\t}\r\n\t}\r\n\r\n\t@Bean(BeanIds.AUTHENTICATION_MANAGER)\r\n\t@Override\r\n\tpublic AuthenticationManager authenticationManagerBean() throws Exception {\r\n\t\treturn super.authenticationManagerBean();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic LdapContextSource contextSource() {\r\n\r\n\t\tLdapContextSource contextSource = new LdapContextSource();\r\n\t\tcontextSource.setUrl(ldapUrls); //mycompany.com:389\r\n\t\tcontextSource.setBase(ldapBaseDn); //dc=myCompany,dc=com\r\n\t\tcontextSource.setUserDn(env.getProperty(ldapSecurityPrincipal));\r\n\t\tcontextSource.setPassword(env.getProperty(ldapPrincipalPassword));\r\n\t\tcontextSource.setReferral(&quot;follow&quot;);\r\n\r\n\t\tcontextSource.afterPropertiesSet();\r\n\r\n\t\treturn contextSource;\r\n\t}\r\n\r\n\r\n\t@Bean\r\n\tprotected ActiveDirectoryLdapAuthenticationProvider activeDirectoryLdapAuthenticationProvider() {\r\n\r\n\r\n\t\tActiveDirectoryLdapAuthenticationProvider provider = new ActiveDirectoryLdapAuthenticationProvider(&quot;myCompany.com&quot;, ldapUrls,\r\n\t\t\tldapBaseDn);\r\n\t\tprovider.setConvertSubErrorCodesToExceptions(true);\r\n\t\tprovider.setUseAuthenticationRequestCredentials(true);\r\n\t\tprovider.setUserDetailsContextMapper(new CustomUserDetailsContextMapper());\r\n\r\n\t\treturn provider;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic LdapTemplate ldapTemplate() {\r\n\t\tLdapTemplate template = new LdapTemplate();\r\n\t\ttemplate.setContextSource(contextSource());\r\n\t\ttemplate.setIgnoreNameNotFoundException(true);\r\n\t\ttemplate.setIgnorePartialResultException(true);\r\n\t\treturn template;\r\n\t}\r\n\r\n\r\n```\r\n\r\nI believe this filter is the place where I have specified the correct matching criteria, but for some reason it&#39;s allowing everyone and not just My team&#39;s specific GDL.\r\n\r\n```\r\n.userSearchFilter(&quot;(&amp;(objectClass=user)(sAMAccountName=*)(memberOf=cn=GDL-MyTeam,ou=users,dc=myCompany,dc=com)))&quot;)\r\n\r\n```\r\n Can anyone please provide guidance as to where I am going wrong.\r\nThanks a ton!\r\n\r\nEDIT: \r\nI figured out that `ActiveDirectoryLdapAuthenticationProvider` is dictating the terms. I believe this is the place where I need to put in the search filter. If I put in the exact same filter as the other answers\r\n\r\n    In order to perform this operation a successful bind must be completed on the connection., data 0, v3839]; remaining name &#39;/&#39;\r\n\r\nBut I really don&#39;t understand what to put in here. Suggestions please?\r\n\r\n\r\n  [1]: https://confluence.atlassian.com/kb/how-to-write-ldap-search-filters-792496933.html\r\n  [2]: https://docs.confluent.io/platform/current/security/configure-mds/ldap-auth-config.html\r\n  [3]: https://stackoverflow.com/questions/44368903/spring-ldap-check-the-membership-of-user-in-specified-group","title":"Spring Boot LDAP check if a user belongs to a specific group","body":"<p>I'm building an application which will allow only a specific set of users in my org. to login. Only those users that belong to a particular AD Group can login. Eg: GDL - MyTeam is a GDL, only who's members I want to allow to get in.\nI checked out Atlassian's <a href=\"https://confluence.atlassian.com/kb/how-to-write-ldap-search-filters-792496933.html\" rel=\"nofollow noreferrer\">tutorial</a>, and confluent's <a href=\"https://docs.confluent.io/platform/current/security/configure-mds/ldap-auth-config.html\" rel=\"nofollow noreferrer\">tutorial</a> as well as Megha's answer <a href=\"https://stackoverflow.com/questions/44368903/spring-ldap-check-the-membership-of-user-in-specified-group\">here</a>.</p>\n<p>What is different in my case, compared to other stack overflow questions is that I'm using <code>ActiveDirectoryLdapAuthenticationProvider</code> as can be seen in my code snippet below. That is the one to be dictating the terms.</p>\n<p>However, My application would still allow any user in the org to get in to my application. I'm really not able to understand what criteria is it using to allow anyone.\nI'm a totally newbie to ldiff syntax and filtering ldap using Java. Combine with springboot, I really don't know if I should use group search base or user search base. I just want people of my GDL to be able to get in. Rest should receive an authentication failure.</p>\n<p>Here is my code file for reference:</p>\n<pre><code>    @Override\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\n\n        configureLdap(auth);\n        configureActiveDirectory(auth);\n\n    }\n\n    private void configureLdap(AuthenticationManagerBuilder auth) throws Exception {\n\n        auth\n            .ldapAuthentication()\n            .contextSource(contextSource())\n            .userSearchFilter(&quot;(&amp;(objectClass=user)(sAMAccountName=*)(memberOf=cn=GDL-MyTeam,ou=users,dc=myCompany,dc=com)))&quot;)\n            .passwordCompare()\n            .passwordEncoder(passwordEncoder())\n            .passwordAttribute(&quot;userPassword&quot;);\n    }\n\n    private void configureActiveDirectory(AuthenticationManagerBuilder auth) {\n        ActiveDirectoryLdapAuthenticationProvider adProvider = activeDirectoryLdapAuthenticationProvider();\n        if (adProvider != null) {\n            auth.authenticationProvider(adProvider);\n            auth.eraseCredentials(false);\n        }\n    }\n\n    @Bean(BeanIds.AUTHENTICATION_MANAGER)\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n    @Bean\n    public LdapContextSource contextSource() {\n\n        LdapContextSource contextSource = new LdapContextSource();\n        contextSource.setUrl(ldapUrls); //mycompany.com:389\n        contextSource.setBase(ldapBaseDn); //dc=myCompany,dc=com\n        contextSource.setUserDn(env.getProperty(ldapSecurityPrincipal));\n        contextSource.setPassword(env.getProperty(ldapPrincipalPassword));\n        contextSource.setReferral(&quot;follow&quot;);\n\n        contextSource.afterPropertiesSet();\n\n        return contextSource;\n    }\n\n\n    @Bean\n    protected ActiveDirectoryLdapAuthenticationProvider activeDirectoryLdapAuthenticationProvider() {\n\n\n        ActiveDirectoryLdapAuthenticationProvider provider = new ActiveDirectoryLdapAuthenticationProvider(&quot;myCompany.com&quot;, ldapUrls,\n            ldapBaseDn);\n        provider.setConvertSubErrorCodesToExceptions(true);\n        provider.setUseAuthenticationRequestCredentials(true);\n        provider.setUserDetailsContextMapper(new CustomUserDetailsContextMapper());\n\n        return provider;\n    }\n\n    @Bean\n    public LdapTemplate ldapTemplate() {\n        LdapTemplate template = new LdapTemplate();\n        template.setContextSource(contextSource());\n        template.setIgnoreNameNotFoundException(true);\n        template.setIgnorePartialResultException(true);\n        return template;\n    }\n\n\n</code></pre>\n<p>I believe this filter is the place where I have specified the correct matching criteria, but for some reason it's allowing everyone and not just My team's specific GDL.</p>\n<pre><code>.userSearchFilter(&quot;(&amp;(objectClass=user)(sAMAccountName=*)(memberOf=cn=GDL-MyTeam,ou=users,dc=myCompany,dc=com)))&quot;)\n\n</code></pre>\n<p>Can anyone please provide guidance as to where I am going wrong.\nThanks a ton!</p>\n<p>EDIT:\nI figured out that <code>ActiveDirectoryLdapAuthenticationProvider</code> is dictating the terms. I believe this is the place where I need to put in the search filter. If I put in the exact same filter as the other answers</p>\n<pre><code>In order to perform this operation a successful bind must be completed on the connection., data 0, v3839]; remaining name '/'\n</code></pre>\n<p>But I really don't understand what to put in here. Suggestions please?</p>\n"},{"tags":["java","html","freemarker","docx"],"comments":[{"owner":{"account_id":299854,"reputation":29886,"user_id":606679,"accept_rate":25,"display_name":"ddekany"},"score":0,"creation_date":1673505242,"post_id":75088878,"comment_id":132515268,"body_markdown":"Did you look at the generated XML directly (if you extract the docx as zip, there are XML files inside)? I suspect you don&#39;t really understand what&#39;s going on on that level. You have to replace the HTML tags with WordML tags, but you have to *avoid* XML escaping, or else the tags are just shown as text for the user.","body":"Did you look at the generated XML directly (if you extract the docx as zip, there are XML files inside)? I suspect you don&#39;t really understand what&#39;s going on on that level. You have to replace the HTML tags with WordML tags, but you have to <i>avoid</i> XML escaping, or else the tags are just shown as text for the user."},{"owner":{"account_id":9428765,"reputation":99,"user_id":7012959,"display_name":"Damian Szarik Paul"},"score":0,"creation_date":1673605058,"post_id":75088878,"comment_id":132541537,"body_markdown":"Agree that I might not understand that level, but i did some research and there was nothing which would actually work with WordML tags. Do you have in mind some specific tags which works inside .docx as bold? x|","body":"Agree that I might not understand that level, but i did some research and there was nothing which would actually work with WordML tags. Do you have in mind some specific tags which works inside .docx as bold? x|"},{"owner":{"account_id":299854,"reputation":29886,"user_id":606679,"accept_rate":25,"display_name":"ddekany"},"score":0,"creation_date":1673628563,"post_id":75088878,"comment_id":132549385,"body_markdown":"To be clear, I have no expertise with WordML. But in what way it did not work? If you just see the tags appearing as plain text when you open the generated docx in World, then you have an escaping issue there.","body":"To be clear, I have no expertise with WordML. But in what way it did not work? If you just see the tags appearing as plain text when you open the generated docx in World, then you have an escaping issue there."}],"owner":{"account_id":9428765,"reputation":99,"user_id":7012959,"display_name":"Damian Szarik Paul"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673470302,"creation_date":1673470302,"question_id":75088878,"body_markdown":"I have a problem with docx template not recognizing html tags like &lt; b&gt;&lt; /b&gt;. I can read simple parameters, object parameters and iterate over them, but I have problem with parsing these damn tags... \r\n\r\n**Problem**:\r\nI have a String in Java App, for example: &quot;This is &lt; b&gt;example&lt; /b&gt; of string&quot;. I am sending this String to Freemarker template in Word (docx). Now I except, that when I will genrate raport using this templete, I will receive:\r\n\r\nThis is **example** of string\r\n\r\nInstead I am receiving:\r\n\r\n    This is &lt;b&gt;example&lt;/b&gt; of string\r\n\r\nI did some research and it looks like Word doesn&#39;t supply html tagging, nor other tagging. What I already tried was for example wrapping into **[#escape x as x?html][/#escape]** or using different tags like **&lt; strong&gt;, &lt; bold&gt;** and so on. I was looking also inside a docx structure, where I found that there are tags like **&lt;w:t&gt;,&lt;w:r&gt;** and tried to wrap those inside Java String, but result was the same. Partially workaround was using **key:value LinkedHashMap** where i printed key as a normal font, and value was bolded inside Word. It was ok until I came across double for loop (key is also esencial to print out in raport, so I can&#39;t artificially create random key). I would be very grateful for any tips how to achieve my goal because I&#39;m out of ideas;)\r\n\r\nPS: I tried also write some kind of instruction in JavaScript inside docx template, but it never worked out, perhaps it is becasuse I am not used to js;x","title":"Read html tags in Freemarker inside Word (docx) template, received from Java","body":"<p>I have a problem with docx template not recognizing html tags like &lt; b&gt;&lt; /b&gt;. I can read simple parameters, object parameters and iterate over them, but I have problem with parsing these damn tags...</p>\n<p><strong>Problem</strong>:\nI have a String in Java App, for example: &quot;This is &lt; b&gt;example&lt; /b&gt; of string&quot;. I am sending this String to Freemarker template in Word (docx). Now I except, that when I will genrate raport using this templete, I will receive:</p>\n<p>This is <strong>example</strong> of string</p>\n<p>Instead I am receiving:</p>\n<pre><code>This is &lt;b&gt;example&lt;/b&gt; of string\n</code></pre>\n<p>I did some research and it looks like Word doesn't supply html tagging, nor other tagging. What I already tried was for example wrapping into <strong>[#escape x as x?html][/#escape]</strong> or using different tags like <strong>&lt; strong&gt;, &lt; bold&gt;</strong> and so on. I was looking also inside a docx structure, where I found that there are tags like <strong>&lt;w:t&gt;,&lt;w:r&gt;</strong> and tried to wrap those inside Java String, but result was the same. Partially workaround was using <strong>key:value LinkedHashMap</strong> where i printed key as a normal font, and value was bolded inside Word. It was ok until I came across double for loop (key is also esencial to print out in raport, so I can't artificially create random key). I would be very grateful for any tips how to achieve my goal because I'm out of ideas;)</p>\n<p>PS: I tried also write some kind of instruction in JavaScript inside docx template, but it never worked out, perhaps it is becasuse I am not used to js;x</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1673466303,"post_id":75088058,"comment_id":132508003,"body_markdown":"Can you post your `HelloController`? (You posted the pom.xml instead.)","body":"Can you post your <code>HelloController</code>? (You posted the pom.xml instead.)"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1673466956,"post_id":75088058,"comment_id":132508197,"body_markdown":"Or is the `Controller` class supposed to be the `HelloController` class?","body":"Or is the <code>Controller</code> class supposed to be the <code>HelloController</code> class?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1673467185,"post_id":75088058,"comment_id":132508271,"body_markdown":"Anyway, there is just a lot wrong with this code. Don&#39;t you get an exception if you try to press the same button twice? You would end up trying to use the same `FXMLLoader`, which you can&#39;t do because you can&#39;t reload when the root is already set. Why are you using arrays instead of lists when you don&#39;t know the number there are going to be? What is the purpose of the `boxes` array, which you don&#39;t ever use? (In fact, why do you think you need to keep track of all the scenes and windows at all? You can always access those from the relevant controller.)","body":"Anyway, there is just a lot wrong with this code. Don&#39;t you get an exception if you try to press the same button twice? You would end up trying to use the same <code>FXMLLoader</code>, which you can&#39;t do because you can&#39;t reload when the root is already set. Why are you using arrays instead of lists when you don&#39;t know the number there are going to be? What is the purpose of the <code>boxes</code> array, which you don&#39;t ever use? (In fact, why do you think you need to keep track of all the scenes and windows at all? You can always access those from the relevant controller.)"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1673467468,"post_id":75088058,"comment_id":132508382,"body_markdown":"Also, the arrays are not doing what you think they are. *Every* controller has its own copy of all the arrays, and if the button is pressed in the UI corresponding to that controller, then just one element of each array is initialized. It&#39;s really not clear at all what this code is supposed to be doing.","body":"Also, the arrays are not doing what you think they are. <i>Every</i> controller has its own copy of all the arrays, and if the button is pressed in the UI corresponding to that controller, then just one element of each array is initialized. It&#39;s really not clear at all what this code is supposed to be doing."}],"answers":[{"comments":[{"owner":{"account_id":27502309,"reputation":11,"user_id":20985731,"display_name":"Elijah Hunter"},"score":0,"creation_date":1673543853,"post_id":75088577,"comment_id":132528364,"body_markdown":"I started programming in september, I still make beginner mistakes, sorry. Thank you for the help though! this solution works perfectly!","body":"I started programming in september, I still make beginner mistakes, sorry. Thank you for the help though! this solution works perfectly!"}],"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673469386,"creation_date":1673468180,"answer_id":75088577,"question_id":75088058,"body_markdown":"I don&#39;t really understand the purpose of a lot of the code you wrote. If you just want the controller to be able to reload the same FXML, you can just do exactly that in the button handler.\r\n\r\n\r\nThe code you wrote fails if you try to use the same button twice. The reason is that each controller instance has a reference to one instance of the `HelloApplication` class, and via that reference accesses the `FXMLLoader` instance exposed by that object. \r\n\r\n(As an aside, it&#39;s always wrong to instantiate the `Application` class.)\r\n\r\nSo if you press the same button twice, you attempt to call `load(...)` on the same `FXMLLoader` instance twice, and this won&#39;t work, at least with your setup, because the `FXMLLoader` can&#39;t load your FXML file when the root is already set (which it will be from the previous invocation of `load()`). (You could probably work around this by calling `setRoot(null)` on the loader, but the `FXMLLoader` is simply not designed to be used this way.)\r\n\r\nHere&#39;s a working version of the `Application` class:\r\n\r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Scene;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class HelloApplication extends Application\r\n    {\r\n    \r\n        @Override\r\n        public void start(Stage stage) throws IOException\r\n        {\r\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;hello-view.fxml&quot;));\r\n            Scene scene = new Scene(loader.load(), 320, 240);\r\n            stage.setTitle(&quot;Don&#39;t exit!&quot;);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n        public static void main(String[] args)\r\n        {\r\n            launch();\r\n        }\r\n    }\r\n\r\nAnd then all you need in the controller is\r\n\r\n    import javafx.fxml.FXML;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.geometry.Rectangle2D;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.*;\r\n    import javafx.scene.layout.*;\r\n    import javafx.stage.Screen;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.io.IOException;\r\n    import java.util.Random;\r\n    \r\n    import static javafx.stage.StageStyle.DECORATED;\r\n    \r\n    public class HelloController\r\n    {\r\n        private static final Random rand = new Random();\r\n    \r\n        // As things stand, you don&#39;t actually need any of the @FXML-annotated fields:\r\n    //    @FXML\r\n    //    private VBox box;\r\n    //    @FXML\r\n    //    private Button button;\r\n    //    @FXML\r\n    //    private Label text;\r\n\r\n        @FXML\r\n        protected void onClick() throws IOException\r\n        {\r\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;hello-view.fxml&quot;));\r\n            int width = 320 ;\r\n            int height = 240 ;\r\n            Scene scene = new Scene(loader.load(), width, height);\r\n            Stage stage = new Stage(DECORATED);\r\n            stage.setScene(scene);\r\n            stage.setTitle(&quot;Dont click too many!&quot;);\r\n            Rectangle2D bounds = Screen.getPrimary().getBounds();\r\n            double x = bounds.getMinX() + (bounds.getWidth() - width);\r\n            double y = bounds.getMinY() + (bounds.getHeight() - height);\r\n            stage.setX(rand.nextDouble(x));\r\n            stage.setY(rand.nextDouble(y));\r\n            stage.show();\r\n        }\r\n    }\r\n\r\nIf you want to avoid hard-coding the location of the FXML a second time, you can inject it into the controller:\r\n\r\n    import javafx.fxml.FXML;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.geometry.Rectangle2D;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.*;\r\n    import javafx.scene.layout.*;\r\n    import javafx.stage.Screen;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.io.IOException;\r\n    import java.net.URL;\r\n    import java.util.Random;\r\n    \r\n    import static javafx.stage.StageStyle.DECORATED;\r\n    \r\n    public class HelloController\r\n    {\r\n        private static final Random rand = new Random();\r\n    \r\n        @FXML\r\n        private URL location;\r\n        @FXML\r\n        protected void onClick() throws IOException\r\n        {\r\n            FXMLLoader loader = new FXMLLoader(location);\r\n            int width = 320 ;\r\n            int height = 240 ;\r\n            Scene scene = new Scene(loader.load(), width, height);\r\n            Stage stage = new Stage(DECORATED);\r\n            stage.setScene(scene);\r\n            stage.setTitle(&quot;Dont click too many!&quot;);\r\n            Rectangle2D bounds = Screen.getPrimary().getBounds();\r\n            double x = bounds.getMinX() + (bounds.getWidth() - width);\r\n            double y = bounds.getMinY() + (bounds.getHeight() - height);\r\n            stage.setX(rand.nextDouble(x));\r\n            stage.setY(rand.nextDouble(y));\r\n            stage.show();\r\n        }\r\n    }","title":"Only the newest javafx button object works","body":"<p>I don't really understand the purpose of a lot of the code you wrote. If you just want the controller to be able to reload the same FXML, you can just do exactly that in the button handler.</p>\n<p>The code you wrote fails if you try to use the same button twice. The reason is that each controller instance has a reference to one instance of the <code>HelloApplication</code> class, and via that reference accesses the <code>FXMLLoader</code> instance exposed by that object.</p>\n<p>(As an aside, it's always wrong to instantiate the <code>Application</code> class.)</p>\n<p>So if you press the same button twice, you attempt to call <code>load(...)</code> on the same <code>FXMLLoader</code> instance twice, and this won't work, at least with your setup, because the <code>FXMLLoader</code> can't load your FXML file when the root is already set (which it will be from the previous invocation of <code>load()</code>). (You could probably work around this by calling <code>setRoot(null)</code> on the loader, but the <code>FXMLLoader</code> is simply not designed to be used this way.)</p>\n<p>Here's a working version of the <code>Application</code> class:</p>\n<pre><code>import javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\npublic class HelloApplication extends Application\n{\n\n    @Override\n    public void start(Stage stage) throws IOException\n    {\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;hello-view.fxml&quot;));\n        Scene scene = new Scene(loader.load(), 320, 240);\n        stage.setTitle(&quot;Don't exit!&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n    public static void main(String[] args)\n    {\n        launch();\n    }\n}\n</code></pre>\n<p>And then all you need in the controller is</p>\n<pre><code>import javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.geometry.Rectangle2D;\nimport javafx.scene.Scene;\nimport javafx.scene.control.*;\nimport javafx.scene.layout.*;\nimport javafx.stage.Screen;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\nimport java.util.Random;\n\nimport static javafx.stage.StageStyle.DECORATED;\n\npublic class HelloController\n{\n    private static final Random rand = new Random();\n\n    // As things stand, you don't actually need any of the @FXML-annotated fields:\n//    @FXML\n//    private VBox box;\n//    @FXML\n//    private Button button;\n//    @FXML\n//    private Label text;\n\n    @FXML\n    protected void onClick() throws IOException\n    {\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;hello-view.fxml&quot;));\n        int width = 320 ;\n        int height = 240 ;\n        Scene scene = new Scene(loader.load(), width, height);\n        Stage stage = new Stage(DECORATED);\n        stage.setScene(scene);\n        stage.setTitle(&quot;Dont click too many!&quot;);\n        Rectangle2D bounds = Screen.getPrimary().getBounds();\n        double x = bounds.getMinX() + (bounds.getWidth() - width);\n        double y = bounds.getMinY() + (bounds.getHeight() - height);\n        stage.setX(rand.nextDouble(x));\n        stage.setY(rand.nextDouble(y));\n        stage.show();\n    }\n}\n</code></pre>\n<p>If you want to avoid hard-coding the location of the FXML a second time, you can inject it into the controller:</p>\n<pre><code>import javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.geometry.Rectangle2D;\nimport javafx.scene.Scene;\nimport javafx.scene.control.*;\nimport javafx.scene.layout.*;\nimport javafx.stage.Screen;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\nimport java.net.URL;\nimport java.util.Random;\n\nimport static javafx.stage.StageStyle.DECORATED;\n\npublic class HelloController\n{\n    private static final Random rand = new Random();\n\n    @FXML\n    private URL location;\n    @FXML\n    protected void onClick() throws IOException\n    {\n        FXMLLoader loader = new FXMLLoader(location);\n        int width = 320 ;\n        int height = 240 ;\n        Scene scene = new Scene(loader.load(), width, height);\n        Stage stage = new Stage(DECORATED);\n        stage.setScene(scene);\n        stage.setTitle(&quot;Dont click too many!&quot;);\n        Rectangle2D bounds = Screen.getPrimary().getBounds();\n        double x = bounds.getMinX() + (bounds.getWidth() - width);\n        double y = bounds.getMinY() + (bounds.getHeight() - height);\n        stage.setX(rand.nextDouble(x));\n        stage.setY(rand.nextDouble(y));\n        stage.show();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27502309,"reputation":11,"user_id":20985731,"display_name":"Elijah Hunter"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":75088577,"answer_count":1,"score":-1,"last_activity_date":1673469386,"creation_date":1673465028,"question_id":75088058,"body_markdown":"Im trying to create a program that &#39;clones&#39; itself, by making a new window and button etc. My issue is that only the newest created button functions. The previously made windows only generate an error, and not a window.\r\n\r\n**HelloController.java**\r\n\r\n```\r\npackage com.example.vboxes;\r\n\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.geometry.Rectangle2D;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.*;\r\nimport javafx.scene.layout.*;\r\nimport javafx.stage.Screen;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.IOException;\r\nimport java.util.Random;\r\n\r\nimport static javafx.stage.StageStyle.DECORATED;\r\n\r\npublic class Controller\r\n{\r\n    public static Random rand = new Random();\r\n    public static Rectangle2D bounds = Screen.getPrimary().getVisualBounds();\r\n    public HelloApplication hello = new HelloApplication();\r\n    public VBox[] boxes = new VBox[99999];\r\n    public Scene[] scenes = new Scene[99999];\r\n    public Stage[] stages = new Stage[99999];\r\n    public static int i = 0;\r\n    @FXML\r\n    private VBox box;\r\n    @FXML\r\n    public Button button;\r\n    @FXML\r\n    private Label text;\r\n    @FXML\r\n    protected void onClick() throws IOException\r\n    {\r\n        boxes[i] = new VBox();\r\n        scenes[i] = new Scene(hello.loader.load(), 320, 240);\r\n        stages[i] = new Stage(DECORATED);\r\n        stages[i].setScene(scenes[i]);\r\n        stages[i].setTitle(&quot;Dont click too many!&quot;);\r\n        stages[i].show();\r\n        double x = bounds.getMinX() + (bounds.getWidth() - scenes[i].getWidth());\r\n        double y = bounds.getMinY() + (bounds.getHeight() - scenes[i].getHeight());\r\n        stages[i].setX(rand.nextDouble(x));\r\n        stages[i].setY(rand.nextDouble(y));\r\n        System.out.println(i);\r\n        i++;\r\n    }\r\n}\r\n```\r\n\r\n**HelloApplication.java**\r\n\r\n```\r\npackage com.example.vboxes;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class HelloApplication extends Application\r\n{\r\n    public FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;hello-view.fxml&quot;));\r\n\r\n    @Override\r\n    public void start(Stage stage) throws IOException\r\n    {\r\n        Scene scene = new Scene(loader.load(), 320, 240);\r\n        stage.setTitle(&quot;Don&#39;t exit!&quot;);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n    public static void main(String[] args)\r\n    {\r\n        launch();\r\n    }\r\n}\r\n```\r\n\r\nhello-view.fxml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.geometry.Insets?&gt;\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n&lt;?import javafx.scene.layout.VBox?&gt;\r\n\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;VBox fx:id=&quot;box&quot; alignment=&quot;CENTER&quot; spacing=&quot;20.0&quot; xmlns:fx=&quot;http://javafx.com/fxml&quot;\r\n      fx:controller=&quot;com.example.vboxes.HelloController&quot;&gt;\r\n    &lt;padding&gt;\r\n        &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot;/&gt;\r\n    &lt;/padding&gt;\r\n\r\n    &lt;Label fx:id=&quot;text&quot;/&gt;\r\n    &lt;Button fx:id=&quot;buttons&quot; text=&quot;Click me and more will appear!&quot; onAction=&quot;#onClick&quot;/&gt;\r\n&lt;/VBox&gt;\r\n```\r\n\r\n**HelloController.java**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;VBOXES&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;VBOXES&lt;/name&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;junit.version&gt;5.8.2&lt;/junit.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;17.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;17.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-web&lt;/artifactId&gt;\r\n            &lt;version&gt;17.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-media&lt;/artifactId&gt;\r\n            &lt;version&gt;17.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.controlsfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;controlsfx&lt;/artifactId&gt;\r\n            &lt;version&gt;11.1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.dlsc.formsfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;formsfx-core&lt;/artifactId&gt;\r\n            &lt;version&gt;11.3.2&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.synedra&lt;/groupId&gt;\r\n            &lt;artifactId&gt;validatorfx&lt;/artifactId&gt;\r\n            &lt;version&gt;0.2.1&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.kordamp.ikonli&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ikonli-javafx&lt;/artifactId&gt;\r\n            &lt;version&gt;12.3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.kordamp.bootstrapfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;bootstrapfx-core&lt;/artifactId&gt;\r\n            &lt;version&gt;0.4.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;eu.hansolo&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tilesfx&lt;/artifactId&gt;\r\n            &lt;version&gt;11.48&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.almasb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;fxgl&lt;/artifactId&gt;\r\n            &lt;version&gt;17&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.10.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;17&lt;/source&gt;\r\n                    &lt;target&gt;17&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.8&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\r\n                        &lt;id&gt;default-cli&lt;/id&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;mainClass&gt;com.example.vboxes/com.example.vboxes.HelloApplication&lt;/mainClass&gt;\r\n                            &lt;launcher&gt;app&lt;/launcher&gt;\r\n                            &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\r\n                            &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\r\n                            &lt;noManPages&gt;true&lt;/noManPages&gt;\r\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\r\n                            &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nI attempted creating a button array that way each button functions, but I couldnt figure out how to link the button array to hello-view.fxml","title":"Only the newest javafx button object works","body":"<p>Im trying to create a program that 'clones' itself, by making a new window and button etc. My issue is that only the newest created button functions. The previously made windows only generate an error, and not a window.</p>\n<p><strong>HelloController.java</strong></p>\n<pre><code>package com.example.vboxes;\n\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.geometry.Rectangle2D;\nimport javafx.scene.Scene;\nimport javafx.scene.control.*;\nimport javafx.scene.layout.*;\nimport javafx.stage.Screen;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\nimport java.util.Random;\n\nimport static javafx.stage.StageStyle.DECORATED;\n\npublic class Controller\n{\n    public static Random rand = new Random();\n    public static Rectangle2D bounds = Screen.getPrimary().getVisualBounds();\n    public HelloApplication hello = new HelloApplication();\n    public VBox[] boxes = new VBox[99999];\n    public Scene[] scenes = new Scene[99999];\n    public Stage[] stages = new Stage[99999];\n    public static int i = 0;\n    @FXML\n    private VBox box;\n    @FXML\n    public Button button;\n    @FXML\n    private Label text;\n    @FXML\n    protected void onClick() throws IOException\n    {\n        boxes[i] = new VBox();\n        scenes[i] = new Scene(hello.loader.load(), 320, 240);\n        stages[i] = new Stage(DECORATED);\n        stages[i].setScene(scenes[i]);\n        stages[i].setTitle(&quot;Dont click too many!&quot;);\n        stages[i].show();\n        double x = bounds.getMinX() + (bounds.getWidth() - scenes[i].getWidth());\n        double y = bounds.getMinY() + (bounds.getHeight() - scenes[i].getHeight());\n        stages[i].setX(rand.nextDouble(x));\n        stages[i].setY(rand.nextDouble(y));\n        System.out.println(i);\n        i++;\n    }\n}\n</code></pre>\n<p><strong>HelloApplication.java</strong></p>\n<pre><code>package com.example.vboxes;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\npublic class HelloApplication extends Application\n{\n    public FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;hello-view.fxml&quot;));\n\n    @Override\n    public void start(Stage stage) throws IOException\n    {\n        Scene scene = new Scene(loader.load(), 320, 240);\n        stage.setTitle(&quot;Don't exit!&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n    public static void main(String[] args)\n    {\n        launch();\n    }\n}\n</code></pre>\n<p>hello-view.fxml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;VBox fx:id=&quot;box&quot; alignment=&quot;CENTER&quot; spacing=&quot;20.0&quot; xmlns:fx=&quot;http://javafx.com/fxml&quot;\n      fx:controller=&quot;com.example.vboxes.HelloController&quot;&gt;\n    &lt;padding&gt;\n        &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot;/&gt;\n    &lt;/padding&gt;\n\n    &lt;Label fx:id=&quot;text&quot;/&gt;\n    &lt;Button fx:id=&quot;buttons&quot; text=&quot;Click me and more will appear!&quot; onAction=&quot;#onClick&quot;/&gt;\n&lt;/VBox&gt;\n</code></pre>\n<p><strong>HelloController.java</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;VBOXES&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;VBOXES&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;junit.version&gt;5.8.2&lt;/junit.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;17.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;17.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-web&lt;/artifactId&gt;\n            &lt;version&gt;17.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-media&lt;/artifactId&gt;\n            &lt;version&gt;17.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.controlsfx&lt;/groupId&gt;\n            &lt;artifactId&gt;controlsfx&lt;/artifactId&gt;\n            &lt;version&gt;11.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.dlsc.formsfx&lt;/groupId&gt;\n            &lt;artifactId&gt;formsfx-core&lt;/artifactId&gt;\n            &lt;version&gt;11.3.2&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.synedra&lt;/groupId&gt;\n            &lt;artifactId&gt;validatorfx&lt;/artifactId&gt;\n            &lt;version&gt;0.2.1&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.kordamp.ikonli&lt;/groupId&gt;\n            &lt;artifactId&gt;ikonli-javafx&lt;/artifactId&gt;\n            &lt;version&gt;12.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.kordamp.bootstrapfx&lt;/groupId&gt;\n            &lt;artifactId&gt;bootstrapfx-core&lt;/artifactId&gt;\n            &lt;version&gt;0.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;eu.hansolo&lt;/groupId&gt;\n            &lt;artifactId&gt;tilesfx&lt;/artifactId&gt;\n            &lt;version&gt;11.48&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.almasb&lt;/groupId&gt;\n            &lt;artifactId&gt;fxgl&lt;/artifactId&gt;\n            &lt;version&gt;17&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.10.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;17&lt;/source&gt;\n                    &lt;target&gt;17&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.8&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\n                        &lt;id&gt;default-cli&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;mainClass&gt;com.example.vboxes/com.example.vboxes.HelloApplication&lt;/mainClass&gt;\n                            &lt;launcher&gt;app&lt;/launcher&gt;\n                            &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\n                            &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\n                            &lt;noManPages&gt;true&lt;/noManPages&gt;\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\n                            &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I attempted creating a button array that way each button functions, but I couldnt figure out how to link the button array to hello-view.fxml</p>\n"},{"tags":["java","android"],"owner":{"account_id":25608165,"reputation":1,"user_id":19381961,"display_name":"Norbert Winer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673469136,"creation_date":1673377877,"question_id":75074758,"body_markdown":"I am trying to simulate Keypresses via my Android APP while my App runs in the Background. (Spoiler: I am a complete Beginner) \r\n \r\nI realized the functionality with Instrumentations eg.: \r\n\r\n    new Thread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    Instrumentation inst = new Instrumentation();\r\n                    inst.sendKeyDownUpSync(KeyEvent.KEYCODE_MEDIA_PREVIOUS);\r\n                }\r\n            }).start();`\r\n\r\nIn the foreground this works fine but in the Background I found out I cannot do this because I have no permission.INJECT_EVENTS. How do I get this permission somehow easily. I don&#39;t want to root my Phone or install a custom ROM \r\n\r\n","title":"Android: how to use Instrumentation in Background Processes","body":"<p>I am trying to simulate Keypresses via my Android APP while my App runs in the Background. (Spoiler: I am a complete Beginner)</p>\n<p>I realized the functionality with Instrumentations eg.:</p>\n<pre><code>new Thread(new Runnable() {\n            @Override\n            public void run() {\n                Instrumentation inst = new Instrumentation();\n                inst.sendKeyDownUpSync(KeyEvent.KEYCODE_MEDIA_PREVIOUS);\n            }\n        }).start();`\n</code></pre>\n<p>In the foreground this works fine but in the Background I found out I cannot do this because I have no permission.INJECT_EVENTS. How do I get this permission somehow easily. I don't want to root my Phone or install a custom ROM</p>\n"},{"tags":["java","string","apache-poi"],"comments":[{"owner":{"account_id":2826365,"reputation":144,"user_id":7534931,"display_name":"Simone Celia"},"score":3,"creation_date":1673468327,"post_id":75088579,"comment_id":132508664,"body_markdown":"open and close the file only 1 time; remove system.out","body":"open and close the file only 1 time; remove system.out"}],"answers":[{"tags":[],"owner":{"account_id":3980402,"reputation":12987,"user_id":3282436,"accept_rate":79,"display_name":"0x5453"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673468421,"creation_date":1673468421,"answer_id":75088618,"question_id":75088579,"body_markdown":"You open and close `outFile` on every single row.  I can pretty much guarantee that this is the source of your performance problems, because filesystem operations are relatively slow.\r\n\r\nPull the file opening out of the loop like so:\r\n```\r\npublic static void main(String[] args) throws IOException {\r\n    String filePath = &quot;formatted.xlsx&quot;;\r\n\r\n    FileInputStream file = new FileInputStream(filePath);\r\n    XSSFWorkbook workbook = new XSSFWorkbook(file);\r\n    XSSFSheet sheet = workbook.getSheetAt(0);\r\n\r\n    FileOutputStream outFile = new FileOutputStream(new File(filePath));\r\n    int rowCount = sheet.getLastRowNum();\r\n    for (int i = 1; i &lt;= rowCount; i++) {\r\n        XSSFRow row = sheet.getRow(i);\r\n\r\n        Cell description = row.getCell(3); // category\r\n        String descriptionText = description.getStringCellValue();\r\n        String modifiedDescription = descriptionText.replace(&quot;#&quot;, &quot;-&quot;);\r\n        description.setCellValue(modifiedDescription);\r\n        \r\n        System.out.println(i + modifiedDescription);\r\n        workbook.write(outFile);\r\n    }\r\n    file.close();\r\n    outFile.close();\r\n}\r\n```","title":"How to Speed up Java Program to update excel cell values (Excel has 30000 records)?","body":"<p>You open and close <code>outFile</code> on every single row.  I can pretty much guarantee that this is the source of your performance problems, because filesystem operations are relatively slow.</p>\n<p>Pull the file opening out of the loop like so:</p>\n<pre><code>public static void main(String[] args) throws IOException {\n    String filePath = &quot;formatted.xlsx&quot;;\n\n    FileInputStream file = new FileInputStream(filePath);\n    XSSFWorkbook workbook = new XSSFWorkbook(file);\n    XSSFSheet sheet = workbook.getSheetAt(0);\n\n    FileOutputStream outFile = new FileOutputStream(new File(filePath));\n    int rowCount = sheet.getLastRowNum();\n    for (int i = 1; i &lt;= rowCount; i++) {\n        XSSFRow row = sheet.getRow(i);\n\n        Cell description = row.getCell(3); // category\n        String descriptionText = description.getStringCellValue();\n        String modifiedDescription = descriptionText.replace(&quot;#&quot;, &quot;-&quot;);\n        description.setCellValue(modifiedDescription);\n        \n        System.out.println(i + modifiedDescription);\n        workbook.write(outFile);\n    }\n    file.close();\n    outFile.close();\n}\n</code></pre>\n"}],"owner":{"account_id":16555147,"reputation":338,"user_id":11962495,"display_name":"Funny Boss"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1673468421,"creation_date":1673468184,"question_id":75088579,"body_markdown":"I have an EXCEL file which has more than 30K records. I wanted to update some of the cell values like if the cell values has &#39;#&#39; it will replace with &quot;-&quot;. So, developed a Java program which can do the task.\r\n\r\nBut the program is very slow when it is running on the entire excel records. The excel size is less than 5MB but it takes like 1 seconds for each record. So, it is taking more than one hour to process the excel file.\r\n\r\n**Any suggestion to improve the performance of this Java program.** \r\n\r\nMy Java code looks like the following:\r\n\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\tString filePath = &quot;formatted.xlsx&quot;;\r\n\r\n\t\tFileInputStream file = new FileInputStream(filePath);\r\n\t\tXSSFWorkbook workbook = new XSSFWorkbook(file);\r\n\t\tXSSFSheet sheet = workbook.getSheetAt(0);\r\n\r\n\t\tint rowCount = sheet.getLastRowNum();\r\n\t\tfor (int i = 1; i &lt;= rowCount; i++) {\r\n\t\t\tXSSFRow row = sheet.getRow(i);\r\n\r\n\t\t\tCell description = row.getCell(3); // category\r\n\t\t\tString descriptionText = description.getStringCellValue();\r\n\t\t\tString modifiedDescription = descriptionText.replace(&quot;#&quot;, &quot;-&quot;);\r\n\t\t\tdescription.setCellValue(modifiedDescription);\r\n\t\t\t\r\n\t\t\tSystem.out.println(i + modifiedDescription);\r\n\r\n\t\t\tfile.close();\r\n\r\n\t\t\tFileOutputStream outFile = new FileOutputStream(new File(filePath));\r\n\t\t\tworkbook.write(outFile);\r\n\t\t\toutFile.close();\r\n\r\n\t\t}\r\n\r\n\t}","title":"How to Speed up Java Program to update excel cell values (Excel has 30000 records)?","body":"<p>I have an EXCEL file which has more than 30K records. I wanted to update some of the cell values like if the cell values has '#' it will replace with &quot;-&quot;. So, developed a Java program which can do the task.</p>\n<p>But the program is very slow when it is running on the entire excel records. The excel size is less than 5MB but it takes like 1 seconds for each record. So, it is taking more than one hour to process the excel file.</p>\n<p><strong>Any suggestion to improve the performance of this Java program.</strong></p>\n<p>My Java code looks like the following:</p>\n<pre><code>public static void main(String[] args) throws IOException {\n    String filePath = &quot;formatted.xlsx&quot;;\n\n    FileInputStream file = new FileInputStream(filePath);\n    XSSFWorkbook workbook = new XSSFWorkbook(file);\n    XSSFSheet sheet = workbook.getSheetAt(0);\n\n    int rowCount = sheet.getLastRowNum();\n    for (int i = 1; i &lt;= rowCount; i++) {\n        XSSFRow row = sheet.getRow(i);\n\n        Cell description = row.getCell(3); // category\n        String descriptionText = description.getStringCellValue();\n        String modifiedDescription = descriptionText.replace(&quot;#&quot;, &quot;-&quot;);\n        description.setCellValue(modifiedDescription);\n        \n        System.out.println(i + modifiedDescription);\n\n        file.close();\n\n        FileOutputStream outFile = new FileOutputStream(new File(filePath));\n        workbook.write(outFile);\n        outFile.close();\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":2,"creation_date":1673447446,"post_id":75084288,"comment_id":132501419,"body_markdown":"Preferences -&gt; java -&gt; editor -&gt; content assist -&gt; check &quot;insert single proposals automatically&quot; -&gt; content assist -&gt; advanced -&gt; in the top table, uncheck everything except &quot;template proposals&quot;","body":"Preferences -&gt; java -&gt; editor -&gt; content assist -&gt; check &quot;insert single proposals automatically&quot; -&gt; content assist -&gt; advanced -&gt; in the top table, uncheck everything except &quot;template proposals&quot;"}],"answers":[{"tags":[],"owner":{"account_id":3142246,"reputation":2632,"user_id":2657515,"accept_rate":75,"display_name":"JonathanDavidArndt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673468100,"creation_date":1673468100,"answer_id":75088563,"question_id":75084288,"body_markdown":"As noted in the [comment][1] by [XtremeBaumer][0]:\r\n\r\nWindow &gt; Preferences &gt; Java &gt; Editor &gt; Content Assist  \r\n- *Check &quot;Insert single proposals automatically&quot;*\r\n\r\nWindow &gt; Preferences &gt; Java &gt; Editor &gt; Content Assist &gt; Advanced  \r\n- *In the top table, uncheck everything except &quot;Template Proposals&quot;*\r\n\r\nVerified in Eclipse for Java Developers, Version: 2022-12 (4.26.0)\r\n\r\n  [0]: https://stackoverflow.com/users/7109162/xtremebaumer\r\n  [1]: https://stackoverflow.com/questions/75084288/how-do-i-write-system-out-println-with-just-ctrl-space-in-eclipse#comment132501419_75084288","title":"How do I write System.out.println() with just ctrl + space in Eclipse?","body":"<p>As noted in the <a href=\"https://stackoverflow.com/questions/75084288/how-do-i-write-system-out-println-with-just-ctrl-space-in-eclipse#comment132501419_75084288\">comment</a> by <a href=\"https://stackoverflow.com/users/7109162/xtremebaumer\">XtremeBaumer</a>:</p>\n<p>Window &gt; Preferences &gt; Java &gt; Editor &gt; Content Assist</p>\n<ul>\n<li><em>Check &quot;Insert single proposals automatically&quot;</em></li>\n</ul>\n<p>Window &gt; Preferences &gt; Java &gt; Editor &gt; Content Assist &gt; Advanced</p>\n<ul>\n<li><em>In the top table, uncheck everything except &quot;Template Proposals&quot;</em></li>\n</ul>\n<p>Verified in Eclipse for Java Developers, Version: 2022-12 (4.26.0)</p>\n"}],"owner":{"account_id":27383061,"reputation":11,"user_id":20887382,"display_name":"Myat Noe Maung"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1673468100,"creation_date":1673445850,"question_id":75084288,"body_markdown":"I used to be able to write System.out.println() with just ctrl+space. Now I have to choose the proposal and press enter. So it&#39;s ctrl+space and enter now. It&#39;s just an extra key but pretty annoying.\r\n\r\nI&#39;ve tried restoring the preferences to default, but it hasn&#39;t worked.","title":"How do I write System.out.println() with just ctrl + space in Eclipse?","body":"<p>I used to be able to write System.out.println() with just ctrl+space. Now I have to choose the proposal and press enter. So it's ctrl+space and enter now. It's just an extra key but pretty annoying.</p>\n<p>I've tried restoring the preferences to default, but it hasn't worked.</p>\n"},{"tags":["java","gradle","hadoop","mapreduce","log4j"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1672284472,"post_id":74935450,"comment_id":132258718,"body_markdown":"Show the output of `gradle dependencies` for your app. Something is loading log4j2 and you need to exclude it","body":"Show the output of <code>gradle dependencies</code> for your app. Something is loading log4j2 and you need to exclude it"},{"owner":{"account_id":11497090,"reputation":63,"user_id":8426038,"display_name":"Sitakant Mishra"},"score":1,"creation_date":1672872192,"post_id":74935450,"comment_id":132373794,"body_markdown":"I had to get rid of log4j2 from multiple places inside the source code to make it work.","body":"I had to get rid of log4j2 from multiple places inside the source code to make it work."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1672872314,"post_id":74935450,"comment_id":132373817,"body_markdown":"Feel free to add your full solution below","body":"Feel free to add your full solution below"},{"owner":{"account_id":11497090,"reputation":63,"user_id":8426038,"display_name":"Sitakant Mishra"},"score":1,"creation_date":1673392974,"post_id":74935450,"comment_id":132487885,"body_markdown":"I had to use the org.apache.log4j.Logger package in all of the internal libraries and got rid of other logger classes. There were many files where the change was required.","body":"I had to use the org.apache.log4j.Logger package in all of the internal libraries and got rid of other logger classes. There were many files where the change was required."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1673394011,"post_id":74935450,"comment_id":132488072,"body_markdown":"You can post that as an answer rather than a comment. You should also be using slf4j LoggerFactory instead","body":"You can post that as an answer rather than a comment. You should also be using slf4j LoggerFactory instead"}],"answers":[{"tags":[],"owner":{"account_id":11497090,"reputation":63,"user_id":8426038,"display_name":"Sitakant Mishra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673467199,"creation_date":1673467199,"answer_id":75088427,"question_id":74935450,"body_markdown":"I had to use the org.apache.log4j.Logger package in all of the internal libraries and got rid of other logger classes. There were many files where the change was required. ","title":"OptionConverter.convertLevel Error in Hadoop Mapreduce job","body":"<p>I had to use the org.apache.log4j.Logger package in all of the internal libraries and got rid of other logger classes. There were many files where the change was required.</p>\n"}],"owner":{"account_id":11497090,"reputation":63,"user_id":8426038,"display_name":"Sitakant Mishra"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":876,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75088427,"answer_count":1,"score":0,"last_activity_date":1673467199,"creation_date":1672190798,"question_id":74935450,"body_markdown":"I am getting a weird error while executing a mapreduce job in my Hadoop cluster. This error is intermittent. Sometimes, it fails the mapper and sometimes it succeeds even if the error is thrown.\r\n\r\n`2022-12-28 01:20:53,882 ERROR [main] org.apache.hadoop.mapred.YarnChild: Error running child : java.lang.NoSuchMethodError: org/apache/log4j/helpers/OptionConverter.convertLevel(Ljava/lang/String;Lorg/apache/logging/log4j/Level;)Lorg/apache/logging/log4j/Level; (loaded from file:/opt/hadoop-3.3.0/share/hadoop/common/lib/log4j-1.2.17.jar by sun.misc.Launcher$AppClassLoader@350ed555) called from class org.apache.log4j.config.PropertiesConfiguration (loaded from file:/data/hadoop/yarn/usercache/hdfs-user/appcache/application_1671477750397_6197/filecache/10/job.jar/job.jar by sun.misc.Launcher$AppClassLoader@350ed555).`\r\n\r\n\r\n**Gradle File**\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n\tid &quot;com.github.davidmc24.gradle.plugin.avro&quot; version &quot;1.3.0&quot;\r\n}\r\ndependencies {\r\n    compileOnly group: &#39;org.apache.hadoop&#39;, name: &#39;hadoop-client&#39;, version: &#39;3.3.0&#39;\r\n    implementation group: &#39;org.apache.avro&#39;, name: &#39;avro&#39;, version: &#39;1.8.1&#39;\r\n    implementation group: &#39;org.apache.avro&#39;, name: &#39;avro-mapred&#39;, version: &#39;1.10.2&#39;\r\n    implementation group: &#39;io.netty&#39;, name: &#39;netty-buffer&#39;, version: &#39;4.1.51.Final&#39;\r\n    implementation  group: &#39;joda-time&#39;, name: &#39;joda-time&#39;, version:&#39;2.8.1&#39;\r\n\timplementation group: &#39;org.javatuples&#39;, name: &#39;javatuples&#39;, version: &#39;1.2&#39;\r\n\timplementation group: &#39;com.fasterxml.jackson.dataformat&#39;, name: &#39;jackson-dataformat-yaml&#39;, version: &#39;2.12.4&#39;\r\n    testImplementation group: &#39;junit&#39;, name: &#39;junit&#39;, version: &quot;$junit4Version&quot;\r\n    implementation project(&#39;:libraries:java-dcl&#39;)\r\n\timplementation project(&#39;:libraries:sdp&#39;)\r\n\r\n\ttestImplementation group: &#39;org.assertj&#39;, name: &#39;assertj-core&#39;, version: &#39;3.6.1&#39;\r\n}\r\n\r\ngenerateAvroJava {\r\n    source(&quot;${projectDir}/src/main/avro&quot;)//sourcepath avrofile\r\n}\r\n\r\n// The alternative to below is to put all java that is dependent on scala (or on the java dependent on the scala) in the src/main/scala dir\r\n// https://stackoverflow.com/questions/23261075/compiling-scala-before-alongside-java-with-gradle\r\nsourceSets {\r\n    main {\r\n        java {\r\n            srcDirs = [&#39;src/main/java&#39;]\r\n        }\r\n    }\r\n}\r\n```","title":"OptionConverter.convertLevel Error in Hadoop Mapreduce job","body":"<p>I am getting a weird error while executing a mapreduce job in my Hadoop cluster. This error is intermittent. Sometimes, it fails the mapper and sometimes it succeeds even if the error is thrown.</p>\n<p><code>2022-12-28 01:20:53,882 ERROR [main] org.apache.hadoop.mapred.YarnChild: Error running child : java.lang.NoSuchMethodError: org/apache/log4j/helpers/OptionConverter.convertLevel(Ljava/lang/String;Lorg/apache/logging/log4j/Level;)Lorg/apache/logging/log4j/Level; (loaded from file:/opt/hadoop-3.3.0/share/hadoop/common/lib/log4j-1.2.17.jar by sun.misc.Launcher$AppClassLoader@350ed555) called from class org.apache.log4j.config.PropertiesConfiguration (loaded from file:/data/hadoop/yarn/usercache/hdfs-user/appcache/application_1671477750397_6197/filecache/10/job.jar/job.jar by sun.misc.Launcher$AppClassLoader@350ed555).</code></p>\n<p><strong>Gradle File</strong></p>\n<pre><code>plugins {\n    id 'java'\n    id &quot;com.github.davidmc24.gradle.plugin.avro&quot; version &quot;1.3.0&quot;\n}\ndependencies {\n    compileOnly group: 'org.apache.hadoop', name: 'hadoop-client', version: '3.3.0'\n    implementation group: 'org.apache.avro', name: 'avro', version: '1.8.1'\n    implementation group: 'org.apache.avro', name: 'avro-mapred', version: '1.10.2'\n    implementation group: 'io.netty', name: 'netty-buffer', version: '4.1.51.Final'\n    implementation  group: 'joda-time', name: 'joda-time', version:'2.8.1'\n    implementation group: 'org.javatuples', name: 'javatuples', version: '1.2'\n    implementation group: 'com.fasterxml.jackson.dataformat', name: 'jackson-dataformat-yaml', version: '2.12.4'\n    testImplementation group: 'junit', name: 'junit', version: &quot;$junit4Version&quot;\n    implementation project(':libraries:java-dcl')\n    implementation project(':libraries:sdp')\n\n    testImplementation group: 'org.assertj', name: 'assertj-core', version: '3.6.1'\n}\n\ngenerateAvroJava {\n    source(&quot;${projectDir}/src/main/avro&quot;)//sourcepath avrofile\n}\n\n// The alternative to below is to put all java that is dependent on scala (or on the java dependent on the scala) in the src/main/scala dir\n// https://stackoverflow.com/questions/23261075/compiling-scala-before-alongside-java-with-gradle\nsourceSets {\n    main {\n        java {\n            srcDirs = ['src/main/java']\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","threadpool","comparator","priority-queue"],"comments":[{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":0,"creation_date":1673217436,"post_id":75051644,"comment_id":132443070,"body_markdown":"&quot;I couldn&#39;t do it&quot; is not a useful statement of your problem.  How did you test it?  What did you observe versus what you expected?  And also, is priority 1 supposed to be the highest priority or the lowest priority?","body":"&quot;I couldn&#39;t do it&quot; is not a useful statement of your problem.  How did you test it?  What did you observe versus what you expected?  And also, is priority 1 supposed to be the highest priority or the lowest priority?"},{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":3,"creation_date":1673219013,"post_id":75051644,"comment_id":132443247,"body_markdown":"The first task will execute as soon as you submit it.  The execution service is not going to wait just in case you subsequently submit something of higher priority.  In any case, queue priority only applies to queued tasks, and tasks will only be queued for any length of time if the execution service has no free threads in its pool.","body":"The first task will execute as soon as you submit it.  The execution service is not going to wait just in case you subsequently submit something of higher priority.  In any case, queue priority only applies to queued tasks, and tasks will only be queued for any length of time if the execution service has no free threads in its pool."}],"answers":[{"tags":[],"owner":{"account_id":22848,"reputation":131598,"user_id":56778,"accept_rate":93,"display_name":"Jim Mischel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673465924,"creation_date":1673465924,"answer_id":75088201,"question_id":75051644,"body_markdown":"If you have an existing list of tasks that you want to submit and ensure that the highest priority task is executed before any others, you have two choices:\r\n\r\n1. Turn off the consumer (i.e. the thing that is removing tasks from the queue) before you start adding tasks, and then turn on the consumer after all the tasks are added.\r\n2. Put all of the tasks into a list and call the [PriorityQueue constructor][1] that takes a collection. Doing so ensures that all of the tasks are in the queue in the proper order before you even create the consumer.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/PriorityQueue.html#PriorityQueue(java.util.Collection)","title":"get a PriorityBlockingQueue to be in the right order in java","body":"<p>If you have an existing list of tasks that you want to submit and ensure that the highest priority task is executed before any others, you have two choices:</p>\n<ol>\n<li>Turn off the consumer (i.e. the thing that is removing tasks from the queue) before you start adding tasks, and then turn on the consumer after all the tasks are added.</li>\n<li>Put all of the tasks into a list and call the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/PriorityQueue.html#PriorityQueue(java.util.Collection)\" rel=\"nofollow noreferrer\">PriorityQueue constructor</a> that takes a collection. Doing so ensures that all of the tasks are in the queue in the proper order before you even create the consumer.</li>\n</ol>\n"}],"owner":{"account_id":27425410,"reputation":13,"user_id":20923009,"display_name":"Achiya Ben Natan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1673465924,"creation_date":1673216163,"question_id":75051644,"body_markdown":"I have tried to make a custom ThreadPoolExecuter that holds a PriorityBlockingQueue as his queue. I have tried to make the queue to make the PriorityBlockingQueue to order his tasks from the lower priorty to the higher priority and I couldnt do it. I will be happy to get some help.\r\n\r\ncustomExecuter code:\r\n\r\n```\r\npublic  class CustomExecutor extends ThreadPoolExecutor implements Comparator&lt;Task&gt; {\r\n    private int maxPriority = 0;\r\n    private boolean isShutdown = false;\r\n\r\n        public CustomExecutor() {\r\n            super(Runtime.getRuntime().availableProcessors() / 2,\r\n                    Runtime.getRuntime().availableProcessors() -1\r\n                    ,300,TimeUnit.MILLISECONDS,new PriorityBlockingQueue&lt;&gt;());\r\n    }\r\n    private &lt;T&gt; Future&lt;T&gt; submitTask(Task task) {\r\n            if (task.getPriority().getPriorityValue()&gt;maxPriority)\r\n                maxPriority=task.getPriority().getPriorityValue();\r\n        if (isShutdown) {\r\n            System.out.println(&quot;Thread pool has already been shut down. Cannot submit task&quot;);\r\n            return null;\r\n        }\r\n        return super.submit(task);\r\n    }\r\n\r\n    public &lt;T&gt; Future&lt;T&gt; submit(Callable&lt;T&gt; callable,TaskType priority) {\r\n            Task task=new Task(callable,priority);\r\n        return submitTask(task);\r\n    }\r\n    //OTHER is default because it has the lowest priority(highest number)\r\n    public &lt;T&gt; Future&lt;T&gt; submit(Callable&lt;T&gt; callable) {\r\n        Task task=new Task(callable,TaskType.OTHER);\r\n        return submitTask(task);\r\n    }\r\n    public int getCurrentMax() {\r\n        return maxPriority;\r\n    }\r\n    public void gracefullyTerminate() {\r\n        isShutdown = true;\r\n        super.shutdown();\r\n    }\r\n\r\n    @Override\r\n    public int compare(Task o1, Task o2) {\r\n        return Integer.compare(o2.getPriority().getPriorityValue(), o1.getPriority().getPriorityValue());\r\n    }\r\n```\r\n\r\nTask code:\r\n\r\n```\r\npublic class Task implements Callable {\r\n        private Callable callable;\r\n        private  TaskType priority;\r\n    public&lt;T&gt; Task(Callable&lt;T&gt; callable, TaskType priority) {\r\n        this.callable = callable;\r\n        this.priority = priority;\r\n    }\r\n    public TaskType getPriority() {\r\n        return priority;\r\n    }\r\n    public static &lt;T&gt; Task createTask(Callable&lt;T&gt; task, TaskType priority)\r\n    {\r\n        Task newTask=new Task(task,priority);\r\n        return newTask;\r\n    }\r\n    @Override\r\n    public Object call() throws Exception {\r\n        return  callable.call();\r\n    }\r\n```\r\n\r\nenum for TaskType for the priority part:\r\n\r\n```\r\npublic enum TaskType {\r\n    COMPUTATIONAL(1){\r\n        @Override\r\n        public String toString(){return &quot;Computational Task&quot;;}\r\n    },\r\n    IO(2){\r\n        @Override\r\n        public String toString(){return &quot;IO-Bound Task&quot;;}\r\n    },\r\n    OTHER(3){\r\n        @Override\r\n        public String toString(){return &quot;Unknown Task&quot;;}\r\n    };\r\n    private int typePriority;\r\n    private TaskType(int priority){\r\n        if (validatePriority(priority)) typePriority = priority;\r\n        else\r\n            throw new IllegalArgumentException(&quot;Priority is not an integer&quot;);\r\n    }\r\n    public void setPriority(int priority){\r\n        if(validatePriority(priority)) this.typePriority = priority;\r\n        else\r\n            throw new IllegalArgumentException(&quot;Priority is not an integer&quot;);\r\n    }\r\n    public int getPriorityValue(){\r\n        return typePriority;\r\n    }\r\n    public TaskType getType(){\r\n        return this;\r\n    }\r\n    /**\r\n     * priority is represented by an integer value, ranging from 1 to 10\r\n     * @param priority\r\n     * @return whether the priority is valid or not\r\n     */\r\n    private static boolean validatePriority(int priority){\r\n        if (priority &lt; 1 || priority &gt;10) return false;\r\n        return true;\r\n    }\r\n```\r\n\r\nI have tried to test my code and I debugged it and which ever task that is submitted first is executed first. I noticed that the priority queue size is always 0. maybe I need to add that tasks to the queue in other way then submit?  \r\nhere is my test:\r\n```\r\n public static final Logger logger = LoggerFactory.getLogger(Tests.class);\r\n\r\n    @Test\r\n    public void Test1() {\r\n        CustomExecutor customExecutor = new CustomExecutor();\r\n        Callable&lt;Double&gt; callable1 = () -&gt; {\r\n            return 1000 * Math.pow(1.02, 5);\r\n        };\r\n        Callable&lt;String&gt; callable2 = () -&gt; {\r\n            StringBuilder sb = new StringBuilder(&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;);\r\n            System.out.println(sb);\r\n            return sb.reverse().toString();\r\n        };\r\n        Future&lt;String&gt; reverseTask = customExecutor.submit(callable2, TaskType.IO);\r\n        Future&lt;Double&gt; priceTask = customExecutor.submit(() -&gt; {\r\n            return 1000 * Math.pow(1.02, 5);\r\n        }, TaskType.COMPUTATIONAL);\r\n        Task task = Task.createTask(() -&gt; {\r\n            int sum = 0;\r\n            for (int i = 1; i &lt;= 10; i++) {\r\n                sum += i;\r\n            }\r\n            System.out.println(sum);\r\n            return sum;\r\n        }, TaskType.COMPUTATIONAL);\r\n        Future sumTask = customExecutor.submit(task);\r\n        final int sum;\r\n        try {\r\n            sum = (int)sumTask.get(1, TimeUnit.MILLISECONDS);\r\n        } catch (InterruptedException | ExecutionException | TimeoutException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        logger.info(() -&gt; &quot;Sum of 1 through 10 = &quot; + sum);\r\n\r\n        final Double totalPrice;\r\n        final String reversed;\r\n        try {\r\n            totalPrice = priceTask.get();\r\n            reversed =  reverseTask.get();\r\n        } catch (InterruptedException | ExecutionException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        logger.info(() -&gt; &quot;Reversed String = &quot; + reversed);\r\n        logger.info(() -&gt; String.valueOf(&quot;Total Price = &quot; + totalPrice));\r\n        logger.info(() -&gt; &quot;Current maximum priority = &quot; + customExecutor.getCurrentMax());\r\n        customExecutor.gracefullyTerminate();\r\n    }\r\n```\r\n```\r\nthe terminal looks like this:\r\nABCDEFGHIJKLMNOPQRSTUVWXYZ\r\n55\r\nJan 09, 2023 12:43:25 AM Ex2Part2.Tests Test1\r\nINFO: Sum of 1 through 10 = 55\r\nJan 09, 2023 12:43:25 AM Ex2Part2.Tests Test1\r\nINFO: Reversed String = ZYXWVUTSRQPONMLKJIHGFEDCBA\r\nJan 09, 2023 12:43:25 AM Ex2Part2.Tests Test1\r\nINFO: Total Price = 1104.0808032\r\nJan 09, 2023 12:43:25 AM Ex2Part2.Tests Test1\r\nINFO: Current maximum priority = 3\r\n```\r\nwhich is wrong because the task with priority 2 is executed first insted of the class with priority 1.\r\n\r\n","title":"get a PriorityBlockingQueue to be in the right order in java","body":"<p>I have tried to make a custom ThreadPoolExecuter that holds a PriorityBlockingQueue as his queue. I have tried to make the queue to make the PriorityBlockingQueue to order his tasks from the lower priorty to the higher priority and I couldnt do it. I will be happy to get some help.</p>\n<p>customExecuter code:</p>\n<pre><code>public  class CustomExecutor extends ThreadPoolExecutor implements Comparator&lt;Task&gt; {\n    private int maxPriority = 0;\n    private boolean isShutdown = false;\n\n        public CustomExecutor() {\n            super(Runtime.getRuntime().availableProcessors() / 2,\n                    Runtime.getRuntime().availableProcessors() -1\n                    ,300,TimeUnit.MILLISECONDS,new PriorityBlockingQueue&lt;&gt;());\n    }\n    private &lt;T&gt; Future&lt;T&gt; submitTask(Task task) {\n            if (task.getPriority().getPriorityValue()&gt;maxPriority)\n                maxPriority=task.getPriority().getPriorityValue();\n        if (isShutdown) {\n            System.out.println(&quot;Thread pool has already been shut down. Cannot submit task&quot;);\n            return null;\n        }\n        return super.submit(task);\n    }\n\n    public &lt;T&gt; Future&lt;T&gt; submit(Callable&lt;T&gt; callable,TaskType priority) {\n            Task task=new Task(callable,priority);\n        return submitTask(task);\n    }\n    //OTHER is default because it has the lowest priority(highest number)\n    public &lt;T&gt; Future&lt;T&gt; submit(Callable&lt;T&gt; callable) {\n        Task task=new Task(callable,TaskType.OTHER);\n        return submitTask(task);\n    }\n    public int getCurrentMax() {\n        return maxPriority;\n    }\n    public void gracefullyTerminate() {\n        isShutdown = true;\n        super.shutdown();\n    }\n\n    @Override\n    public int compare(Task o1, Task o2) {\n        return Integer.compare(o2.getPriority().getPriorityValue(), o1.getPriority().getPriorityValue());\n    }\n</code></pre>\n<p>Task code:</p>\n<pre><code>public class Task implements Callable {\n        private Callable callable;\n        private  TaskType priority;\n    public&lt;T&gt; Task(Callable&lt;T&gt; callable, TaskType priority) {\n        this.callable = callable;\n        this.priority = priority;\n    }\n    public TaskType getPriority() {\n        return priority;\n    }\n    public static &lt;T&gt; Task createTask(Callable&lt;T&gt; task, TaskType priority)\n    {\n        Task newTask=new Task(task,priority);\n        return newTask;\n    }\n    @Override\n    public Object call() throws Exception {\n        return  callable.call();\n    }\n</code></pre>\n<p>enum for TaskType for the priority part:</p>\n<pre><code>public enum TaskType {\n    COMPUTATIONAL(1){\n        @Override\n        public String toString(){return &quot;Computational Task&quot;;}\n    },\n    IO(2){\n        @Override\n        public String toString(){return &quot;IO-Bound Task&quot;;}\n    },\n    OTHER(3){\n        @Override\n        public String toString(){return &quot;Unknown Task&quot;;}\n    };\n    private int typePriority;\n    private TaskType(int priority){\n        if (validatePriority(priority)) typePriority = priority;\n        else\n            throw new IllegalArgumentException(&quot;Priority is not an integer&quot;);\n    }\n    public void setPriority(int priority){\n        if(validatePriority(priority)) this.typePriority = priority;\n        else\n            throw new IllegalArgumentException(&quot;Priority is not an integer&quot;);\n    }\n    public int getPriorityValue(){\n        return typePriority;\n    }\n    public TaskType getType(){\n        return this;\n    }\n    /**\n     * priority is represented by an integer value, ranging from 1 to 10\n     * @param priority\n     * @return whether the priority is valid or not\n     */\n    private static boolean validatePriority(int priority){\n        if (priority &lt; 1 || priority &gt;10) return false;\n        return true;\n    }\n</code></pre>\n<p>I have tried to test my code and I debugged it and which ever task that is submitted first is executed first. I noticed that the priority queue size is always 0. maybe I need to add that tasks to the queue in other way then submit?<br />\nhere is my test:</p>\n<pre><code> public static final Logger logger = LoggerFactory.getLogger(Tests.class);\n\n    @Test\n    public void Test1() {\n        CustomExecutor customExecutor = new CustomExecutor();\n        Callable&lt;Double&gt; callable1 = () -&gt; {\n            return 1000 * Math.pow(1.02, 5);\n        };\n        Callable&lt;String&gt; callable2 = () -&gt; {\n            StringBuilder sb = new StringBuilder(&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;);\n            System.out.println(sb);\n            return sb.reverse().toString();\n        };\n        Future&lt;String&gt; reverseTask = customExecutor.submit(callable2, TaskType.IO);\n        Future&lt;Double&gt; priceTask = customExecutor.submit(() -&gt; {\n            return 1000 * Math.pow(1.02, 5);\n        }, TaskType.COMPUTATIONAL);\n        Task task = Task.createTask(() -&gt; {\n            int sum = 0;\n            for (int i = 1; i &lt;= 10; i++) {\n                sum += i;\n            }\n            System.out.println(sum);\n            return sum;\n        }, TaskType.COMPUTATIONAL);\n        Future sumTask = customExecutor.submit(task);\n        final int sum;\n        try {\n            sum = (int)sumTask.get(1, TimeUnit.MILLISECONDS);\n        } catch (InterruptedException | ExecutionException | TimeoutException e) {\n            throw new RuntimeException(e);\n        }\n        logger.info(() -&gt; &quot;Sum of 1 through 10 = &quot; + sum);\n\n        final Double totalPrice;\n        final String reversed;\n        try {\n            totalPrice = priceTask.get();\n            reversed =  reverseTask.get();\n        } catch (InterruptedException | ExecutionException e) {\n            throw new RuntimeException(e);\n        }\n        logger.info(() -&gt; &quot;Reversed String = &quot; + reversed);\n        logger.info(() -&gt; String.valueOf(&quot;Total Price = &quot; + totalPrice));\n        logger.info(() -&gt; &quot;Current maximum priority = &quot; + customExecutor.getCurrentMax());\n        customExecutor.gracefullyTerminate();\n    }\n</code></pre>\n<pre><code>the terminal looks like this:\nABCDEFGHIJKLMNOPQRSTUVWXYZ\n55\nJan 09, 2023 12:43:25 AM Ex2Part2.Tests Test1\nINFO: Sum of 1 through 10 = 55\nJan 09, 2023 12:43:25 AM Ex2Part2.Tests Test1\nINFO: Reversed String = ZYXWVUTSRQPONMLKJIHGFEDCBA\nJan 09, 2023 12:43:25 AM Ex2Part2.Tests Test1\nINFO: Total Price = 1104.0808032\nJan 09, 2023 12:43:25 AM Ex2Part2.Tests Test1\nINFO: Current maximum priority = 3\n</code></pre>\n<p>which is wrong because the task with priority 2 is executed first insted of the class with priority 1.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1405682517,"post_id":24823336,"comment_id":38537385,"body_markdown":"For better help sooner, post an [MCVE](http://stackoverflow.com/help/mcve) (Minimal, Complete, Verifiable Example).","body":"For better help sooner, post an <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a> (Minimal, Complete, Verifiable Example)."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1405683480,"post_id":24823336,"comment_id":38537966,"body_markdown":"`jf.pack();` before `setVisible`. To do layout calculations.","body":"<code>jf.pack();</code> before <code>setVisible</code>. To do layout calculations."},{"owner":{"account_id":1633144,"reputation":63,"user_id":1507316,"display_name":"user1507316"},"score":0,"creation_date":1405692672,"post_id":24823336,"comment_id":38543664,"body_markdown":"@AndrewThompson thank you, I shall do that.","body":"@AndrewThompson thank you, I shall do that."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1405700928,"post_id":24823336,"comment_id":38548860,"body_markdown":"If the cited duplicate isn&#39;t sufficient, please edit your question to include an [mcve](http://stackoverflow.com/help/mcve) that shows your revised approach, as @AndrewThompson suggests","body":"If the cited duplicate isn&#39;t sufficient, please edit your question to include an <a href=\"http://stackoverflow.com/help/mcve\">mcve</a> that shows your revised approach, as @AndrewThompson suggests"},{"owner":{"account_id":1633144,"reputation":63,"user_id":1507316,"display_name":"user1507316"},"score":0,"creation_date":1405711310,"post_id":24823336,"comment_id":38553829,"body_markdown":"@trashgod I have added an MCVE now.","body":"@trashgod I have added an MCVE now."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1405714428,"post_id":24823336,"comment_id":38555273,"body_markdown":"@user1507316: I&#39;ve elaborated below.","body":"@user1507316: I&#39;ve elaborated below."},{"owner":{"account_id":3143987,"reputation":2264,"user_id":2658854,"display_name":"sgbj"},"score":0,"creation_date":1405714475,"post_id":24823336,"comment_id":38555294,"body_markdown":"You should call `super.paintComponent(g);` as the first line in your `paintComponent` method.","body":"You should call <code>super.paintComponent(g);</code> as the first line in your <code>paintComponent</code> method."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1405716704,"post_id":24823336,"comment_id":38556263,"body_markdown":"@sbat: Good catch; updated; it&#39;s not _required_ in this case, but a good habit; more [here](http://www.oracle.com/technetwork/java/painting-140037.html).","body":"@sbat: Good catch; updated; it&#39;s not <i>required</i> in this case, but a good habit; more <a href=\"http://www.oracle.com/technetwork/java/painting-140037.html\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":3143987,"reputation":2264,"user_id":2658854,"display_name":"sgbj"},"score":0,"creation_date":1405717307,"post_id":24823336,"comment_id":38556523,"body_markdown":"@trashgod If you increase the preferred size of the panel to, let&#39;s say 600 by 600, and remove the call to `super.paintComponent(g);` in your code, it exhibits the same behavior that the OP is experiencing. Adding `super.paintComponent(g);` _is_ the correct answer. See this [screenshot](http://s15.postimg.org/u9y7j75wr/Untitled.png).","body":"@trashgod If you increase the preferred size of the panel to, let&#39;s say 600 by 600, and remove the call to <code>super.paintComponent(g);</code> in your code, it exhibits the same behavior that the OP is experiencing. Adding <code>super.paintComponent(g);</code> <i>is</i> the correct answer. See this <a href=\"http://s15.postimg.org/u9y7j75wr/Untitled.png\" rel=\"nofollow noreferrer\">screenshot</a>."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1405718415,"post_id":24823336,"comment_id":38556959,"body_markdown":"@sbat: Thank you for looking at this; sadly, I can&#39;t reproduce the effect on Mac OS X; the corresponding UI delegate on Windows may not be opaque by default.","body":"@sbat: Thank you for looking at this; sadly, I can&#39;t reproduce the effect on Mac OS X; the corresponding UI delegate on Windows may not be opaque by default."}],"answers":[{"comments":[{"owner":{"account_id":1633144,"reputation":63,"user_id":1507316,"display_name":"user1507316"},"score":0,"creation_date":1405770905,"post_id":24833041,"comment_id":38567831,"body_markdown":"Thank you so much. I was not aware of the mechanics of pack() and getPreferedSize till now.","body":"Thank you so much. I was not aware of the mechanics of pack() and getPreferedSize till now."}],"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1405716566,"creation_date":1405714312,"answer_id":24833041,"question_id":24823336,"body_markdown":"As outlined [here][1], you need to `pack()` the frame before calling `setVisible()`. You can override [`getPreferredSize()`][2] to specify a suitable initial `Dimension`. Also consider using a `Border`. See also [*Initial Threads*][3].\r\n\r\n![image][4]\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    import java.awt.event.*;\r\n    import java.awt.geom.RoundRectangle2D;\r\n    import java.awt.image.*;\r\n\r\n    public class PinTestMCVE extends JPanel implements ActionListener{\r\n\r\n        private static final int SIZE = 200;\r\n        BufferedImage loadedImage;\r\n        JButton calcButton;\r\n\r\n        public static void main(String[] args) {\r\n            EventQueue.invokeLater(new Runnable() {\r\n\r\n                @Override\r\n                public void run() {\r\n                    new PinTestMCVE();\r\n                }\r\n            });\r\n        }\r\n\r\n        public PinTestMCVE() {\r\n            loadedImage = getTestImage();\r\n            JPanel toolbarPanel = new JPanel();\r\n            calcButton = new JButton(&quot;calcButton...&quot;);\r\n            toolbarPanel.add(calcButton);\r\n            calcButton.addActionListener(this);\r\n\r\n            JFrame jf = new JFrame();\r\n            jf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            jf.add(toolbarPanel, BorderLayout.NORTH);\r\n            jf.add(this, BorderLayout.CENTER);\r\n            jf.pack();\r\n            jf.setLocationRelativeTo(null);\r\n            jf.setVisible(true);\r\n        }\r\n\r\n        @Override\r\n        public Dimension getPreferredSize() {\r\n            return new Dimension(SIZE, SIZE);\r\n        }\r\n\r\n        @Override\r\n        public void paintComponent(Graphics g) {\r\n            super.paintComponent(g);\r\n            g.drawImage(loadedImage, 0, 0, this);\r\n        }\r\n\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            System.out.println(&quot;ActionEvent &quot; + e.getActionCommand());\r\n            if(e.getSource().equals(calcButton)){\r\n                this.repaint();\r\n            }\r\n        }\r\n\r\n\r\n        //Please ignore the inner workings of this\r\n        public static BufferedImage getTestImage(){\r\n            BufferedImage image = new BufferedImage(SIZE, SIZE, BufferedImage.TYPE_INT_RGB);\r\n            Graphics2D g2d = image.createGraphics();\r\n            g2d.setPaint(Color.GRAY);\r\n            g2d.fillRect ( 0, 0, image.getWidth(), image.getHeight() );\r\n            g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING,  RenderingHints.VALUE_ANTIALIAS_ON);\r\n            g2d.setPaint(Color.gray);\r\n            GradientPaint redtowhite = new GradientPaint(5, 5, Color.red, SIZE, 5, Color.blue);\r\n            g2d.setPaint(redtowhite);\r\n            g2d.fill(new RoundRectangle2D.Double(5, 5, SIZE - 10, SIZE - 10, 10, 10));\r\n            return image;\r\n        }\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/a/13411868/230513\r\n  [2]: https://stackoverflow.com/q/7229226/230513\r\n  [3]: http://docs.oracle.com/javase/tutorial/uiswing/concurrency/initial.html\r\n  [4]: http://i.stack.imgur.com/BlIBK.png","title":"Java window doesn&#39;t repaint properly until I resize the window manually","body":"<p>As outlined <a href=\"https://stackoverflow.com/a/13411868/230513\">here</a>, you need to <code>pack()</code> the frame before calling <code>setVisible()</code>. You can override <a href=\"https://stackoverflow.com/q/7229226/230513\"><code>getPreferredSize()</code></a> to specify a suitable initial <code>Dimension</code>. Also consider using a <code>Border</code>. See also <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/concurrency/initial.html\" rel=\"nofollow noreferrer\"><em>Initial Threads</em></a>.</p>\n\n<p><img src=\"https://i.stack.imgur.com/BlIBK.png\" alt=\"image\"></p>\n\n<pre><code>import java.awt.*;\nimport javax.swing.*;\nimport java.awt.event.*;\nimport java.awt.geom.RoundRectangle2D;\nimport java.awt.image.*;\n\npublic class PinTestMCVE extends JPanel implements ActionListener{\n\n    private static final int SIZE = 200;\n    BufferedImage loadedImage;\n    JButton calcButton;\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n\n            @Override\n            public void run() {\n                new PinTestMCVE();\n            }\n        });\n    }\n\n    public PinTestMCVE() {\n        loadedImage = getTestImage();\n        JPanel toolbarPanel = new JPanel();\n        calcButton = new JButton(\"calcButton...\");\n        toolbarPanel.add(calcButton);\n        calcButton.addActionListener(this);\n\n        JFrame jf = new JFrame();\n        jf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        jf.add(toolbarPanel, BorderLayout.NORTH);\n        jf.add(this, BorderLayout.CENTER);\n        jf.pack();\n        jf.setLocationRelativeTo(null);\n        jf.setVisible(true);\n    }\n\n    @Override\n    public Dimension getPreferredSize() {\n        return new Dimension(SIZE, SIZE);\n    }\n\n    @Override\n    public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        g.drawImage(loadedImage, 0, 0, this);\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        System.out.println(\"ActionEvent \" + e.getActionCommand());\n        if(e.getSource().equals(calcButton)){\n            this.repaint();\n        }\n    }\n\n\n    //Please ignore the inner workings of this\n    public static BufferedImage getTestImage(){\n        BufferedImage image = new BufferedImage(SIZE, SIZE, BufferedImage.TYPE_INT_RGB);\n        Graphics2D g2d = image.createGraphics();\n        g2d.setPaint(Color.GRAY);\n        g2d.fillRect ( 0, 0, image.getWidth(), image.getHeight() );\n        g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING,  RenderingHints.VALUE_ANTIALIAS_ON);\n        g2d.setPaint(Color.gray);\n        GradientPaint redtowhite = new GradientPaint(5, 5, Color.red, SIZE, 5, Color.blue);\n        g2d.setPaint(redtowhite);\n        g2d.fill(new RoundRectangle2D.Double(5, 5, SIZE - 10, SIZE - 10, 10, 10));\n        return image;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1633144,"reputation":63,"user_id":1507316,"display_name":"user1507316"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2082,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1673465863,"creation_date":1405680814,"question_id":24823336,"body_markdown":"I am using a quite basic setup with a class extending `JPanel`, which I add to a `JFrame`. \r\n\r\n    import java.awt.*;\r\n    \r\n    import javax.swing.*;\r\n    import javax.swing.event.ChangeEvent;\r\n    import javax.swing.event.ChangeListener;\r\n    import java.awt.event.*;\r\n    import java.awt.geom.RoundRectangle2D;\r\n    import java.awt.image.*;\r\n    import java.io.*;\r\n    import javax.imageio.ImageIO;\r\n    \r\n    public class PinTestMCVE extends JPanel implements ActionListener{\r\n    \r\n    \tBufferedImage loadedImage;\r\n    \tJButton calcButton;\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tnew PinTestMCVE();\r\n    \t}\r\n    \t\r\n    \tpublic PinTestMCVE() {\r\n    \t\tloadedImage = getTestImage();\r\n    \t\t\r\n    \t\tJPanel toolbarPanel = new JPanel();\r\n    \t\tcalcButton = new JButton(&quot;calcButton...&quot;);\r\n    \t\ttoolbarPanel.add(calcButton);\r\n    \t\tcalcButton.addActionListener(this);\r\n    \t\t\r\n    \t\tJFrame jf = new JFrame();\r\n    \t\tjf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tjf.getContentPane().setLayout(new BorderLayout()); \r\n    \t\tjf.getContentPane().add(toolbarPanel, BorderLayout.NORTH);\r\n    \t\tjf.getContentPane().add(this, BorderLayout.CENTER);\r\n    \t\tjf.setSize(1250, 950);\r\n    \t\tjf.setVisible(true);\r\n    \t}\r\n    \r\n    \tpublic void paintComponent(Graphics g) {\r\n    \t\tg.drawImage(loadedImage, 0, 0, this);\r\n    \t}\r\n    \r\n    \tpublic void actionPerformed(ActionEvent e) {\r\n    \t\tSystem.out.println(&quot;ActionEvent &quot; + e.getActionCommand());\r\n    \t\tif(e.getSource().equals(calcButton)){\r\n    \t\t\tthis.repaint();\r\n    \t\t}\r\n    \t}\r\n\r\n\t\r\n    //Please ignore the inner workings of this\r\n    public static BufferedImage getTestImage(){\r\n    \tBufferedImage image = new BufferedImage(500, 500, BufferedImage.TYPE_INT_RGB);\r\n    \tGraphics2D g2d = image.createGraphics();\r\n    \tg2d.setPaint(Color.GRAY);\r\n    \tg2d.fillRect ( 0, 0, image.getWidth(), image.getHeight() );\r\n    \tg2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING,  RenderingHints.VALUE_ANTIALIAS_ON);\r\n    \tg2d.setPaint(Color.gray);\r\n    \tint x = 5;\r\n    \tint y = 7;\r\n    \tGradientPaint redtowhite = new GradientPaint(x, y, Color.red, 200, y, Color.blue);\r\n    \tg2d.setPaint(redtowhite);\r\n    \tg2d.fill(new RoundRectangle2D.Double(x, y, 200, 200, 10, 10));\r\n    \treturn image;\r\n    }\r\n    }\r\n\r\nWhat happens is that INITIALLY the window is painted properly, but once `paintComponent` is called, a strip of the old image (with the same height as the toolbar panel) is visible below the newly painted images - similar to playing card sticking out from a deck. But then, if I manually resize the window by for instance dragging the border, the background is grayed out as it should.\r\n\r\nWhat is going on and how do I fix this?","title":"Java window doesn&#39;t repaint properly until I resize the window manually","body":"<p>I am using a quite basic setup with a class extending <code>JPanel</code>, which I add to a <code>JFrame</code>. </p>\n\n<pre><code>import java.awt.*;\n\nimport javax.swing.*;\nimport javax.swing.event.ChangeEvent;\nimport javax.swing.event.ChangeListener;\nimport java.awt.event.*;\nimport java.awt.geom.RoundRectangle2D;\nimport java.awt.image.*;\nimport java.io.*;\nimport javax.imageio.ImageIO;\n\npublic class PinTestMCVE extends JPanel implements ActionListener{\n\n    BufferedImage loadedImage;\n    JButton calcButton;\n\n    public static void main(String[] args) {\n        new PinTestMCVE();\n    }\n\n    public PinTestMCVE() {\n        loadedImage = getTestImage();\n\n        JPanel toolbarPanel = new JPanel();\n        calcButton = new JButton(\"calcButton...\");\n        toolbarPanel.add(calcButton);\n        calcButton.addActionListener(this);\n\n        JFrame jf = new JFrame();\n        jf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        jf.getContentPane().setLayout(new BorderLayout()); \n        jf.getContentPane().add(toolbarPanel, BorderLayout.NORTH);\n        jf.getContentPane().add(this, BorderLayout.CENTER);\n        jf.setSize(1250, 950);\n        jf.setVisible(true);\n    }\n\n    public void paintComponent(Graphics g) {\n        g.drawImage(loadedImage, 0, 0, this);\n    }\n\n    public void actionPerformed(ActionEvent e) {\n        System.out.println(\"ActionEvent \" + e.getActionCommand());\n        if(e.getSource().equals(calcButton)){\n            this.repaint();\n        }\n    }\n\n\n//Please ignore the inner workings of this\npublic static BufferedImage getTestImage(){\n    BufferedImage image = new BufferedImage(500, 500, BufferedImage.TYPE_INT_RGB);\n    Graphics2D g2d = image.createGraphics();\n    g2d.setPaint(Color.GRAY);\n    g2d.fillRect ( 0, 0, image.getWidth(), image.getHeight() );\n    g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING,  RenderingHints.VALUE_ANTIALIAS_ON);\n    g2d.setPaint(Color.gray);\n    int x = 5;\n    int y = 7;\n    GradientPaint redtowhite = new GradientPaint(x, y, Color.red, 200, y, Color.blue);\n    g2d.setPaint(redtowhite);\n    g2d.fill(new RoundRectangle2D.Double(x, y, 200, 200, 10, 10));\n    return image;\n}\n}\n</code></pre>\n\n<p>What happens is that INITIALLY the window is painted properly, but once <code>paintComponent</code> is called, a strip of the old image (with the same height as the toolbar panel) is visible below the newly painted images - similar to playing card sticking out from a deck. But then, if I manually resize the window by for instance dragging the border, the background is grayed out as it should.</p>\n\n<p>What is going on and how do I fix this?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9486,"page":737,"page_size":100}
