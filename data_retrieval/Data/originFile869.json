{"items":[{"tags":["java","android","drop-down-menu","material-design","spinner"],"comments":[{"owner":{"account_id":114118,"reputation":4732,"user_id":300236,"accept_rate":67,"display_name":"Brill Pappin"},"score":0,"creation_date":1626361126,"post_id":58071525,"comment_id":120877751,"body_markdown":"Did you solve this somehow? All i want to do is be able to clear it like a text field","body":"Did you solve this somehow? All i want to do is be able to clear it like a text field"}],"answers":[{"tags":[],"owner":{"account_id":15902417,"reputation":1,"user_id":11474446,"display_name":"vicomo500"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569290002,"creation_date":1569290002,"answer_id":58072062,"question_id":58071525,"body_markdown":"You could simply use Spinner.setSelection(int position) method and pass 0 for the first item","title":"How to reset selected item in MDC spinner (AutoCompleteTextview/ ExposedDropdownMenu) with press of a button","body":"<p>You could simply use Spinner.setSelection(int position) method and pass 0 for the first item</p>\n"},{"tags":[],"owner":{"account_id":16367558,"reputation":149,"user_id":11821622,"display_name":"Matthew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569291555,"creation_date":1569291555,"answer_id":58072221,"question_id":58071525,"body_markdown":"When you first start your app, your spinners display &quot;Team A&quot; or &quot;Team B&quot; because you have defined those as string resources and then referenced those in your xml file as android:text=&quot;@string/team_b&quot;.  The spinners will continue to show Team A or B until you touch them.  Once you touch them, that starts to overwrite the xml definition.\r\n\r\nThere are multiple ways to solve this, but I would just regenerate the spinners.\r\n\r\nIn your activity code, use a method called &quot;populateSpinnerA()&quot; and call that method in your onCreate statement rather than hard code the spinners.  Then, when you press the reset button call the populateSpinnerA() method again to completely recreate the spinner from scratch with its original string reference.","title":"How to reset selected item in MDC spinner (AutoCompleteTextview/ ExposedDropdownMenu) with press of a button","body":"<p>When you first start your app, your spinners display \"Team A\" or \"Team B\" because you have defined those as string resources and then referenced those in your xml file as android:text=\"@string/team_b\".  The spinners will continue to show Team A or B until you touch them.  Once you touch them, that starts to overwrite the xml definition.</p>\n\n<p>There are multiple ways to solve this, but I would just regenerate the spinners.</p>\n\n<p>In your activity code, use a method called \"populateSpinnerA()\" and call that method in your onCreate statement rather than hard code the spinners.  Then, when you press the reset button call the populateSpinnerA() method again to completely recreate the spinner from scratch with its original string reference.</p>\n"},{"tags":[],"owner":{"account_id":3495695,"reputation":76,"user_id":4200546,"display_name":"farid anwar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668984048,"creation_date":1668984048,"answer_id":74512590,"question_id":58071525,"body_markdown":"You can also use -1 , to show the prompt instead of first item : \r\n\r\n    mySpinner.setSelection(-1)\r\n\r\n","title":"How to reset selected item in MDC spinner (AutoCompleteTextview/ ExposedDropdownMenu) with press of a button","body":"<p>You can also use -1 , to show the prompt instead of first item :</p>\n<pre><code>mySpinner.setSelection(-1)\n</code></pre>\n"}],"owner":{"account_id":15465883,"reputation":31,"user_id":11157225,"display_name":"drak"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":866,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1668984048,"creation_date":1569283851,"question_id":58071525,"body_markdown":"I am working on a simple baseball scoring app where the user picks opposing teams from two Material Design Components dropdown menus. The user keeps track of scores by pressing a button on the corresponding team column. There is a reset button that resets all the scores back to &quot;0&quot;. I have figured this part out. What I need help with is, I want this reset button to also reset the spinner back to its default value showing the hint. I&#39;m vaguely familiar with how it works with a regular spinner, but Google has abandoned spinners in favor of AutoCompleteTextview inside of a TextInputLayout in Material Design. I came upon clearListSelection(), but not entirely sure I am implementing it correctly. Any help would be greatly appreciated. \r\n\r\n[Better visual of the app][1]\r\n\r\n&gt;MainActivity.java\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IsNDX.png\r\n\r\n```package com.example.android.courtcounter2;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.appcompat.widget.AppCompatAutoCompleteTextView;\r\n\r\nimport android.content.Context;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.text.InputType;\r\nimport android.view.View;\r\nimport android.view.inputmethod.InputMethodManager;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.AutoCompleteTextView;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\n\r\nimport com.google.android.material.internal.Experimental;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private static final String[] TEAMS_A = new String[]{\r\n            &quot;Arizona Diamondbacks&quot;,\r\n            &quot;Atlanta Braves&quot;,\r\n            &quot;Baltimore Orioles&quot;,\r\n            &quot;Boston Red Sox&quot;,\r\n            &quot;Chicago Cubs&quot;,\r\n            &quot;Chicago White Sox&quot;,\r\n            &quot;Cincinnati Reds&quot;,\r\n            &quot;Cleveland Indians&quot;,\r\n            &quot;Colorado Rockies&quot;,\r\n            &quot;Detroit Tigers&quot;,\r\n            &quot;Miami Marins&quot;,\r\n            &quot;Houston Astros&quot;,\r\n            &quot;Kansas City Royals&quot;,\r\n            &quot;Los Angeles Angels&quot;,\r\n            &quot;Los Angeles Dodgers&quot;,\r\n            &quot;Milwaukee Brewers&quot;,\r\n            &quot;Minnesota Twins&quot;,\r\n            &quot;New York Mets&quot;,\r\n            &quot;New York Yankess&quot;,\r\n            &quot;Oakland Athletics&quot;,\r\n            &quot;Philadelphia Phillies&quot;,\r\n            &quot;Pittsburgh Pirates&quot;,\r\n            &quot;St. Louis Cardinals&quot;,\r\n            &quot;San Diego Padres&quot;,\r\n            &quot;San Francisco Giants&quot;,\r\n            &quot;Seattle Mariners&quot;,\r\n            &quot;Tampa Bay Rays&quot;,\r\n            &quot;Texas Rangers&quot;,\r\n            &quot;Toronto Blue Jays&quot;,\r\n            &quot;Washington Nationals&quot;\r\n    };\r\n\r\n    private static final String[] TEAMS_B = new String[]{\r\n            &quot;Arizona Diamondbacks&quot;,\r\n            &quot;Atlanta Braves&quot;,\r\n            &quot;Baltimore Orioles&quot;,\r\n            &quot;Boston Red Sox&quot;,\r\n            &quot;Chicago Cubs&quot;,\r\n            &quot;Chicago White Sox&quot;,\r\n            &quot;Cincinnati Reds&quot;,\r\n            &quot;Cleveland Indians&quot;,\r\n            &quot;Colorado Rockies&quot;,\r\n            &quot;Detroit Tigers&quot;,\r\n            &quot;Miami Marins&quot;,\r\n            &quot;Houston Astros&quot;,\r\n            &quot;Kansas City Royals&quot;,\r\n            &quot;Los Angeles Angels&quot;,\r\n            &quot;Los Angeles Dodgers&quot;,\r\n            &quot;Milwaukee Brewers&quot;,\r\n            &quot;Minnesota Twins&quot;,\r\n            &quot;New York Mets&quot;,\r\n            &quot;New York Yankess&quot;,\r\n            &quot;Oakland Athletics&quot;,\r\n            &quot;Philadelphia Phillies&quot;,\r\n            &quot;Pittsburgh Pirates&quot;,\r\n            &quot;St. Louis Cardinals&quot;,\r\n            &quot;San Diego Padres&quot;,\r\n            &quot;San Francisco Giants&quot;,\r\n            &quot;Seattle Mariners&quot;,\r\n            &quot;Tampa Bay Rays&quot;,\r\n            &quot;Texas Rangers&quot;,\r\n            &quot;Toronto Blue Jays&quot;,\r\n            &quot;Washington Nationals&quot;\r\n    };\r\n\r\n    int scoreTeamA = 0;\r\n\r\n    int scoreTeamB = 0;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;&gt;(this, R.layout.dropdown_menu_popup_item, TEAMS_A);\r\n        final AutoCompleteTextView filledExposedDropdown = findViewById(R.id.filled_exposed_dropdown_team_a);\r\n        filledExposedDropdown.setAdapter(adapter);\r\n\r\n\r\n        ArrayAdapter&lt;String&gt; adapter2 = new ArrayAdapter&lt;&gt;(this, R.layout.dropdown_menu_popup_item, TEAMS_B);\r\n        final AutoCompleteTextView filledExposedDropdown2 = findViewById(R.id.filled_exposed_dropdown_team_b);\r\n        filledExposedDropdown2.setAdapter(adapter2);\r\n\r\n        displayForTeamA(0);\r\n        displayForTeamB(0);\r\n    }\r\n\r\n    /**\r\n     * Increase the score for Team A by 4 points.\r\n     */\r\n    public void addFourForTeamA(View v) {\r\n        scoreTeamA = scoreTeamA + 4;\r\n        displayForTeamA(scoreTeamA);\r\n    }\r\n\r\n    /**\r\n     * Increase the score for Team A by 3 points.\r\n     */\r\n    public void addThreeForTeamA(View v) {\r\n        scoreTeamA = scoreTeamA + 3;\r\n        displayForTeamA(scoreTeamA);\r\n    }\r\n\r\n    /**\r\n     * Increase the score for Team A by 2 points.\r\n     */\r\n    public void addTwoForTeamA(View v) {\r\n        scoreTeamA = scoreTeamA + 2;\r\n        displayForTeamA(scoreTeamA);\r\n    }\r\n\r\n    /**\r\n     * Increase the score for Team A by 1 point.\r\n     */\r\n    public void addOneForTeamA(View v) {\r\n        scoreTeamA = scoreTeamA + 1;\r\n        displayForTeamA(scoreTeamA);\r\n    }\r\n\r\n    /**\r\n     * Increase the score for Team B by 4 points.\r\n     */\r\n    public void addFourForTeamB(View v) {\r\n        scoreTeamB = scoreTeamB + 4;\r\n        displayForTeamB(scoreTeamB);\r\n    }\r\n\r\n    /**\r\n     * Increase the score for Team B by 3 points.\r\n     */\r\n    public void addThreeForTeamB(View v) {\r\n        scoreTeamB = scoreTeamB + 3;\r\n        displayForTeamB(scoreTeamB);\r\n    }\r\n\r\n    /**\r\n     * Increase the score for Team B by 2 points.\r\n     */\r\n    public void addTwoForTeamB(View v) {\r\n        scoreTeamB = scoreTeamB + 2;\r\n        displayForTeamB(scoreTeamB);\r\n    }\r\n\r\n    /**\r\n     * Increase the score for Team B by 1 point.\r\n     */\r\n    public void addOneForTeamB(View v) {\r\n        scoreTeamB = scoreTeamB + 1;\r\n        displayForTeamB(scoreTeamB);\r\n    }\r\n\r\n    /**\r\n     * Resets the score for both teams back to 0.\r\n     */\r\n    public void resetScore(View v) {\r\n        scoreTeamA = 0;\r\n        scoreTeamB = 0;\r\n        displayForTeamA(scoreTeamA);\r\n        displayForTeamB(scoreTeamB);\r\n        clearListSelection();\r\n    }\r\n\r\n    /**\r\n     * Displays the given score for Team A.\r\n     */\r\n    public void displayForTeamA(int score) {\r\n        TextView scoreView = (TextView) findViewById(R.id.team_a_score);\r\n        scoreView.setText(String.valueOf(score));\r\n    }\r\n\r\n    /**\r\n     * Displays the given score for Team B.\r\n     */\r\n    public void displayForTeamB(int score) {\r\n        TextView scoreView = (TextView) findViewById(R.id.team_b_score);\r\n        scoreView.setText(String.valueOf(score));\r\n    }\r\n    \r\n   \r\n    public void clearListSelection() {\r\n        AutoCompleteTextView filledExposedDropdown = findViewById(R.id.filled_exposed_dropdown_team_a);\r\n        filledExposedDropdown.clearListSelection();\r\n    }\r\n}\r\n```\r\n&gt;activity_main.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:override=&quot;true&quot;&gt;\r\n\r\n    &lt;ImageView\r\n        android:layout_width=&quot;fill_parent&quot;\r\n        android:layout_height=&quot;fill_parent&quot;\r\n        android:scaleType=&quot;centerCrop&quot;\r\n        android:src=&quot;@drawable/yankees_3_new&quot; /&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/score_columns&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;56dp&quot;\r\n        android:layout_marginBottom=&quot;16dp&quot;\r\n        android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/team_a_column&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n\r\n            &lt;TextView\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginTop=&quot;32dp&quot;\r\n                android:fontFamily=&quot;sans-serif-medium&quot;\r\n                android:gravity=&quot;center_horizontal&quot;\r\n                android:padding=&quot;16dp&quot;\r\n                android:text=&quot;@string/team_a&quot;\r\n                android:textColor=&quot;@android:color/white&quot;\r\n                android:textSize=&quot;24sp&quot; /&gt;\r\n\r\n            &lt;com.google.android.material.textfield.TextInputLayout\r\n                style=&quot;@style/Widget.MaterialComponents.TextInputLayout.FilledBox.ExposedDropdownMenu&quot;\r\n                android:id=&quot;@+id/textinputlayout_teamA&quot;\r\n                android:layout_width=&quot;160dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;center_horizontal&quot;\r\n                android:textColorHint=&quot;@color/text_color&quot;&gt;\r\n\r\n                &lt;AutoCompleteTextView\r\n                    android:id=&quot;@+id/filled_exposed_dropdown_team_a&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:editable=&quot;false&quot;\r\n                    android:ellipsize=&quot;end&quot;\r\n                    android:singleLine=&quot;true&quot;\r\n                    android:textColor=&quot;@android:color/white&quot; /&gt;\r\n            &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/team_a_score&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginBottom=&quot;24dp&quot;\r\n                android:fontFamily=&quot;sans-serif-medium&quot;\r\n                android:gravity=&quot;center_horizontal&quot;\r\n                android:textColor=&quot;@android:color/white&quot;\r\n                android:textSize=&quot;56sp&quot;\r\n                tools:text=&quot;0&quot; /&gt;\r\n\r\n            &lt;com.google.android.material.button.MaterialButton\r\n                android:layout_width=&quot;160dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;center_horizontal&quot;\r\n                android:layout_marginBottom=&quot;8dp&quot;\r\n                android:onClick=&quot;addFourForTeamA&quot;\r\n                android:text=&quot;@string/four_runs&quot; /&gt;\r\n\r\n            &lt;com.google.android.material.button.MaterialButton\r\n                android:layout_width=&quot;160dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;center_horizontal&quot;\r\n                android:layout_marginBottom=&quot;8dp&quot;\r\n                android:onClick=&quot;addThreeForTeamA&quot;\r\n                android:text=&quot;@string/three_runs&quot; /&gt;\r\n\r\n            &lt;com.google.android.material.button.MaterialButton\r\n                android:layout_width=&quot;160dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;center_horizontal&quot;\r\n                android:layout_marginBottom=&quot;8dp&quot;\r\n                android:onClick=&quot;addTwoForTeamA&quot;\r\n                android:text=&quot;@string/two_runs&quot; /&gt;\r\n\r\n            &lt;com.google.android.material.button.MaterialButton\r\n                android:layout_width=&quot;160dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;center_horizontal&quot;\r\n                android:layout_marginBottom=&quot;40dp&quot;\r\n                android:onClick=&quot;addOneForTeamA&quot;\r\n                android:text=&quot;@string/one_run&quot; /&gt;\r\n\r\n        &lt;/LinearLayout&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;1dp&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:background=&quot;@android:color/white&quot; /&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/team_b_column&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n\r\n            &lt;TextView\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginTop=&quot;32dp&quot;\r\n                android:fontFamily=&quot;sans-serif-medium&quot;\r\n                android:gravity=&quot;center_horizontal&quot;\r\n                android:padding=&quot;16dp&quot;\r\n                android:text=&quot;@string/team_b&quot;\r\n                android:textColor=&quot;@android:color/white&quot;\r\n                android:textSize=&quot;24sp&quot; /&gt;\r\n\r\n            &lt;com.google.android.material.textfield.TextInputLayout\r\n                style=&quot;@style/Widget.MaterialComponents.TextInputLayout.FilledBox.ExposedDropdownMenu&quot;\r\n                android:layout_width=&quot;160dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;center_horizontal&quot;\r\n                android:hint=&quot;@string/team_b&quot;\r\n                android:textColorHint=&quot;@color/text_color&quot;&gt;\r\n\r\n                &lt;AutoCompleteTextView\r\n                    android:id=&quot;@+id/filled_exposed_dropdown_team_b&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:editable=&quot;false&quot;\r\n                    android:ellipsize=&quot;end&quot;\r\n                    android:singleLine=&quot;true&quot;\r\n                    android:textColor=&quot;@android:color/white&quot; /&gt;\r\n            &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/team_b_score&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginBottom=&quot;24dp&quot;\r\n                android:fontFamily=&quot;sans-serif-medium&quot;\r\n                android:gravity=&quot;center_horizontal&quot;\r\n                android:textColor=&quot;@android:color/white&quot;\r\n                android:textSize=&quot;56sp&quot;\r\n                tools:text=&quot;0&quot; /&gt;\r\n\r\n            &lt;com.google.android.material.button.MaterialButton\r\n                android:layout_width=&quot;160dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;center_horizontal&quot;\r\n                android:layout_marginBottom=&quot;8dp&quot;\r\n                android:onClick=&quot;addFourForTeamB&quot;\r\n                android:text=&quot;@string/four_runs&quot; /&gt;\r\n\r\n            &lt;com.google.android.material.button.MaterialButton\r\n                android:layout_width=&quot;160dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;center_horizontal&quot;\r\n                android:layout_marginBottom=&quot;8dp&quot;\r\n                android:onClick=&quot;addThreeForTeamB&quot;\r\n                android:text=&quot;@string/three_runs&quot; /&gt;\r\n\r\n            &lt;com.google.android.material.button.MaterialButton\r\n                android:layout_width=&quot;160dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;center_horizontal&quot;\r\n                android:layout_marginBottom=&quot;8dp&quot;\r\n                android:onClick=&quot;addTwoForTeamB&quot;\r\n                android:text=&quot;@string/two_runs&quot; /&gt;\r\n\r\n            &lt;com.google.android.material.button.MaterialButton\r\n                android:layout_width=&quot;160dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;center_horizontal&quot;\r\n\r\n                android:layout_marginBottom=&quot;40dp&quot;\r\n                android:onClick=&quot;addOneForTeamB&quot;\r\n                android:text=&quot;@string/one_run&quot; /&gt;\r\n        &lt;/LinearLayout&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n    &lt;com.google.android.material.button.MaterialButton\r\n        android:id=&quot;@+id/reset_button&quot;\r\n        android:layout_width=&quot;128dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@id/score_columns&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:onClick=&quot;resetScore&quot;\r\n        android:text=&quot;@string/reset_button&quot; /&gt;\r\n\r\n    &lt;com.google.android.material.button.MaterialButton\r\n        android:id=&quot;@+id/reset_button_teamA&quot;\r\n        android:layout_width=&quot;128dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@id/reset_button&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:onClick=&quot;resetScore&quot;\r\n        android:text=&quot;@string/reset_button&quot; /&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n```\r\n\r\n ","title":"How to reset selected item in MDC spinner (AutoCompleteTextview/ ExposedDropdownMenu) with press of a button","body":"<p>I am working on a simple baseball scoring app where the user picks opposing teams from two Material Design Components dropdown menus. The user keeps track of scores by pressing a button on the corresponding team column. There is a reset button that resets all the scores back to \"0\". I have figured this part out. What I need help with is, I want this reset button to also reset the spinner back to its default value showing the hint. I'm vaguely familiar with how it works with a regular spinner, but Google has abandoned spinners in favor of AutoCompleteTextview inside of a TextInputLayout in Material Design. I came upon clearListSelection(), but not entirely sure I am implementing it correctly. Any help would be greatly appreciated. </p>\n\n<p><a href=\"https://i.stack.imgur.com/IsNDX.png\" rel=\"nofollow noreferrer\">Better visual of the app</a></p>\n\n<blockquote>\n  <p>MainActivity.java</p>\n</blockquote>\n\n<pre><code>\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.appcompat.widget.AppCompatAutoCompleteTextView;\n\nimport android.content.Context;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.text.InputType;\nimport android.view.View;\nimport android.view.inputmethod.InputMethodManager;\nimport android.widget.ArrayAdapter;\nimport android.widget.AutoCompleteTextView;\nimport android.widget.Button;\nimport android.widget.TextView;\n\nimport com.google.android.material.internal.Experimental;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private static final String[] TEAMS_A = new String[]{\n            \"Arizona Diamondbacks\",\n            \"Atlanta Braves\",\n            \"Baltimore Orioles\",\n            \"Boston Red Sox\",\n            \"Chicago Cubs\",\n            \"Chicago White Sox\",\n            \"Cincinnati Reds\",\n            \"Cleveland Indians\",\n            \"Colorado Rockies\",\n            \"Detroit Tigers\",\n            \"Miami Marins\",\n            \"Houston Astros\",\n            \"Kansas City Royals\",\n            \"Los Angeles Angels\",\n            \"Los Angeles Dodgers\",\n            \"Milwaukee Brewers\",\n            \"Minnesota Twins\",\n            \"New York Mets\",\n            \"New York Yankess\",\n            \"Oakland Athletics\",\n            \"Philadelphia Phillies\",\n            \"Pittsburgh Pirates\",\n            \"St. Louis Cardinals\",\n            \"San Diego Padres\",\n            \"San Francisco Giants\",\n            \"Seattle Mariners\",\n            \"Tampa Bay Rays\",\n            \"Texas Rangers\",\n            \"Toronto Blue Jays\",\n            \"Washington Nationals\"\n    };\n\n    private static final String[] TEAMS_B = new String[]{\n            \"Arizona Diamondbacks\",\n            \"Atlanta Braves\",\n            \"Baltimore Orioles\",\n            \"Boston Red Sox\",\n            \"Chicago Cubs\",\n            \"Chicago White Sox\",\n            \"Cincinnati Reds\",\n            \"Cleveland Indians\",\n            \"Colorado Rockies\",\n            \"Detroit Tigers\",\n            \"Miami Marins\",\n            \"Houston Astros\",\n            \"Kansas City Royals\",\n            \"Los Angeles Angels\",\n            \"Los Angeles Dodgers\",\n            \"Milwaukee Brewers\",\n            \"Minnesota Twins\",\n            \"New York Mets\",\n            \"New York Yankess\",\n            \"Oakland Athletics\",\n            \"Philadelphia Phillies\",\n            \"Pittsburgh Pirates\",\n            \"St. Louis Cardinals\",\n            \"San Diego Padres\",\n            \"San Francisco Giants\",\n            \"Seattle Mariners\",\n            \"Tampa Bay Rays\",\n            \"Texas Rangers\",\n            \"Toronto Blue Jays\",\n            \"Washington Nationals\"\n    };\n\n    int scoreTeamA = 0;\n\n    int scoreTeamB = 0;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;&gt;(this, R.layout.dropdown_menu_popup_item, TEAMS_A);\n        final AutoCompleteTextView filledExposedDropdown = findViewById(R.id.filled_exposed_dropdown_team_a);\n        filledExposedDropdown.setAdapter(adapter);\n\n\n        ArrayAdapter&lt;String&gt; adapter2 = new ArrayAdapter&lt;&gt;(this, R.layout.dropdown_menu_popup_item, TEAMS_B);\n        final AutoCompleteTextView filledExposedDropdown2 = findViewById(R.id.filled_exposed_dropdown_team_b);\n        filledExposedDropdown2.setAdapter(adapter2);\n\n        displayForTeamA(0);\n        displayForTeamB(0);\n    }\n\n    /**\n     * Increase the score for Team A by 4 points.\n     */\n    public void addFourForTeamA(View v) {\n        scoreTeamA = scoreTeamA + 4;\n        displayForTeamA(scoreTeamA);\n    }\n\n    /**\n     * Increase the score for Team A by 3 points.\n     */\n    public void addThreeForTeamA(View v) {\n        scoreTeamA = scoreTeamA + 3;\n        displayForTeamA(scoreTeamA);\n    }\n\n    /**\n     * Increase the score for Team A by 2 points.\n     */\n    public void addTwoForTeamA(View v) {\n        scoreTeamA = scoreTeamA + 2;\n        displayForTeamA(scoreTeamA);\n    }\n\n    /**\n     * Increase the score for Team A by 1 point.\n     */\n    public void addOneForTeamA(View v) {\n        scoreTeamA = scoreTeamA + 1;\n        displayForTeamA(scoreTeamA);\n    }\n\n    /**\n     * Increase the score for Team B by 4 points.\n     */\n    public void addFourForTeamB(View v) {\n        scoreTeamB = scoreTeamB + 4;\n        displayForTeamB(scoreTeamB);\n    }\n\n    /**\n     * Increase the score for Team B by 3 points.\n     */\n    public void addThreeForTeamB(View v) {\n        scoreTeamB = scoreTeamB + 3;\n        displayForTeamB(scoreTeamB);\n    }\n\n    /**\n     * Increase the score for Team B by 2 points.\n     */\n    public void addTwoForTeamB(View v) {\n        scoreTeamB = scoreTeamB + 2;\n        displayForTeamB(scoreTeamB);\n    }\n\n    /**\n     * Increase the score for Team B by 1 point.\n     */\n    public void addOneForTeamB(View v) {\n        scoreTeamB = scoreTeamB + 1;\n        displayForTeamB(scoreTeamB);\n    }\n\n    /**\n     * Resets the score for both teams back to 0.\n     */\n    public void resetScore(View v) {\n        scoreTeamA = 0;\n        scoreTeamB = 0;\n        displayForTeamA(scoreTeamA);\n        displayForTeamB(scoreTeamB);\n        clearListSelection();\n    }\n\n    /**\n     * Displays the given score for Team A.\n     */\n    public void displayForTeamA(int score) {\n        TextView scoreView = (TextView) findViewById(R.id.team_a_score);\n        scoreView.setText(String.valueOf(score));\n    }\n\n    /**\n     * Displays the given score for Team B.\n     */\n    public void displayForTeamB(int score) {\n        TextView scoreView = (TextView) findViewById(R.id.team_b_score);\n        scoreView.setText(String.valueOf(score));\n    }\n\n\n    public void clearListSelection() {\n        AutoCompleteTextView filledExposedDropdown = findViewById(R.id.filled_exposed_dropdown_team_a);\n        filledExposedDropdown.clearListSelection();\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>activity_main.xml</p>\n</blockquote>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:override=\"true\"&gt;\n\n    &lt;ImageView\n        android:layout_width=\"fill_parent\"\n        android:layout_height=\"fill_parent\"\n        android:scaleType=\"centerCrop\"\n        android:src=\"@drawable/yankees_3_new\" /&gt;\n\n    &lt;LinearLayout\n        android:id=\"@+id/score_columns\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginTop=\"56dp\"\n        android:layout_marginBottom=\"16dp\"\n        android:orientation=\"horizontal\"&gt;\n\n        &lt;LinearLayout\n            android:id=\"@+id/team_a_column\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"match_parent\"\n            android:layout_weight=\"1\"\n            android:orientation=\"vertical\"&gt;\n\n            &lt;TextView\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginTop=\"32dp\"\n                android:fontFamily=\"sans-serif-medium\"\n                android:gravity=\"center_horizontal\"\n                android:padding=\"16dp\"\n                android:text=\"@string/team_a\"\n                android:textColor=\"@android:color/white\"\n                android:textSize=\"24sp\" /&gt;\n\n            &lt;com.google.android.material.textfield.TextInputLayout\n                style=\"@style/Widget.MaterialComponents.TextInputLayout.FilledBox.ExposedDropdownMenu\"\n                android:id=\"@+id/textinputlayout_teamA\"\n                android:layout_width=\"160dp\"\n                android:layout_height=\"wrap_content\"\n                android:layout_gravity=\"center_horizontal\"\n                android:textColorHint=\"@color/text_color\"&gt;\n\n                &lt;AutoCompleteTextView\n                    android:id=\"@+id/filled_exposed_dropdown_team_a\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"wrap_content\"\n                    android:editable=\"false\"\n                    android:ellipsize=\"end\"\n                    android:singleLine=\"true\"\n                    android:textColor=\"@android:color/white\" /&gt;\n            &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n            &lt;TextView\n                android:id=\"@+id/team_a_score\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginBottom=\"24dp\"\n                android:fontFamily=\"sans-serif-medium\"\n                android:gravity=\"center_horizontal\"\n                android:textColor=\"@android:color/white\"\n                android:textSize=\"56sp\"\n                tools:text=\"0\" /&gt;\n\n            &lt;com.google.android.material.button.MaterialButton\n                android:layout_width=\"160dp\"\n                android:layout_height=\"wrap_content\"\n                android:layout_gravity=\"center_horizontal\"\n                android:layout_marginBottom=\"8dp\"\n                android:onClick=\"addFourForTeamA\"\n                android:text=\"@string/four_runs\" /&gt;\n\n            &lt;com.google.android.material.button.MaterialButton\n                android:layout_width=\"160dp\"\n                android:layout_height=\"wrap_content\"\n                android:layout_gravity=\"center_horizontal\"\n                android:layout_marginBottom=\"8dp\"\n                android:onClick=\"addThreeForTeamA\"\n                android:text=\"@string/three_runs\" /&gt;\n\n            &lt;com.google.android.material.button.MaterialButton\n                android:layout_width=\"160dp\"\n                android:layout_height=\"wrap_content\"\n                android:layout_gravity=\"center_horizontal\"\n                android:layout_marginBottom=\"8dp\"\n                android:onClick=\"addTwoForTeamA\"\n                android:text=\"@string/two_runs\" /&gt;\n\n            &lt;com.google.android.material.button.MaterialButton\n                android:layout_width=\"160dp\"\n                android:layout_height=\"wrap_content\"\n                android:layout_gravity=\"center_horizontal\"\n                android:layout_marginBottom=\"40dp\"\n                android:onClick=\"addOneForTeamA\"\n                android:text=\"@string/one_run\" /&gt;\n\n        &lt;/LinearLayout&gt;\n\n        &lt;LinearLayout\n            android:layout_width=\"1dp\"\n            android:layout_height=\"match_parent\"\n            android:background=\"@android:color/white\" /&gt;\n\n        &lt;LinearLayout\n            android:id=\"@+id/team_b_column\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"match_parent\"\n            android:layout_weight=\"1\"\n            android:orientation=\"vertical\"&gt;\n\n            &lt;TextView\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginTop=\"32dp\"\n                android:fontFamily=\"sans-serif-medium\"\n                android:gravity=\"center_horizontal\"\n                android:padding=\"16dp\"\n                android:text=\"@string/team_b\"\n                android:textColor=\"@android:color/white\"\n                android:textSize=\"24sp\" /&gt;\n\n            &lt;com.google.android.material.textfield.TextInputLayout\n                style=\"@style/Widget.MaterialComponents.TextInputLayout.FilledBox.ExposedDropdownMenu\"\n                android:layout_width=\"160dp\"\n                android:layout_height=\"wrap_content\"\n                android:layout_gravity=\"center_horizontal\"\n                android:hint=\"@string/team_b\"\n                android:textColorHint=\"@color/text_color\"&gt;\n\n                &lt;AutoCompleteTextView\n                    android:id=\"@+id/filled_exposed_dropdown_team_b\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"wrap_content\"\n                    android:editable=\"false\"\n                    android:ellipsize=\"end\"\n                    android:singleLine=\"true\"\n                    android:textColor=\"@android:color/white\" /&gt;\n            &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n            &lt;TextView\n                android:id=\"@+id/team_b_score\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginBottom=\"24dp\"\n                android:fontFamily=\"sans-serif-medium\"\n                android:gravity=\"center_horizontal\"\n                android:textColor=\"@android:color/white\"\n                android:textSize=\"56sp\"\n                tools:text=\"0\" /&gt;\n\n            &lt;com.google.android.material.button.MaterialButton\n                android:layout_width=\"160dp\"\n                android:layout_height=\"wrap_content\"\n                android:layout_gravity=\"center_horizontal\"\n                android:layout_marginBottom=\"8dp\"\n                android:onClick=\"addFourForTeamB\"\n                android:text=\"@string/four_runs\" /&gt;\n\n            &lt;com.google.android.material.button.MaterialButton\n                android:layout_width=\"160dp\"\n                android:layout_height=\"wrap_content\"\n                android:layout_gravity=\"center_horizontal\"\n                android:layout_marginBottom=\"8dp\"\n                android:onClick=\"addThreeForTeamB\"\n                android:text=\"@string/three_runs\" /&gt;\n\n            &lt;com.google.android.material.button.MaterialButton\n                android:layout_width=\"160dp\"\n                android:layout_height=\"wrap_content\"\n                android:layout_gravity=\"center_horizontal\"\n                android:layout_marginBottom=\"8dp\"\n                android:onClick=\"addTwoForTeamB\"\n                android:text=\"@string/two_runs\" /&gt;\n\n            &lt;com.google.android.material.button.MaterialButton\n                android:layout_width=\"160dp\"\n                android:layout_height=\"wrap_content\"\n                android:layout_gravity=\"center_horizontal\"\n\n                android:layout_marginBottom=\"40dp\"\n                android:onClick=\"addOneForTeamB\"\n                android:text=\"@string/one_run\" /&gt;\n        &lt;/LinearLayout&gt;\n\n    &lt;/LinearLayout&gt;\n\n    &lt;com.google.android.material.button.MaterialButton\n        android:id=\"@+id/reset_button\"\n        android:layout_width=\"128dp\"\n        android:layout_height=\"wrap_content\"\n        android:layout_below=\"@id/score_columns\"\n        android:layout_centerHorizontal=\"true\"\n        android:onClick=\"resetScore\"\n        android:text=\"@string/reset_button\" /&gt;\n\n    &lt;com.google.android.material.button.MaterialButton\n        android:id=\"@+id/reset_button_teamA\"\n        android:layout_width=\"128dp\"\n        android:layout_height=\"wrap_content\"\n        android:layout_below=\"@id/reset_button\"\n        android:layout_centerHorizontal=\"true\"\n        android:onClick=\"resetScore\"\n        android:text=\"@string/reset_button\" /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n"},{"tags":["java","lambda","lazy-evaluation"],"comments":[{"owner":{"display_name":"user3458"},"score":0,"creation_date":1509568987,"post_id":47063232,"comment_id":81074832,"body_markdown":"If your logging framework does `toString` then it cannot be used with lambdas (without a wrapper class for lambda).","body":"If your logging framework does <code>toString</code> then it cannot be used with lambdas (without a wrapper class for lambda)."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1509568991,"post_id":47063232,"comment_id":81074835,"body_markdown":"&quot;... because the logging framework will do toString() on the parameter.&quot; Why would the logging-factory do that if the parameter is of type `Supplier&lt;String&gt;`? There is not need to call `toString()` on a `String`","body":"&quot;... because the logging framework will do toString() on the parameter.&quot; Why would the logging-factory do that if the parameter is of type <code>Supplier&lt;String&gt;</code>? There is not need to call <code>toString()</code> on a <code>String</code>"},{"owner":{"account_id":270764,"reputation":4103,"user_id":560902,"accept_rate":80,"display_name":"Jochen Bedersdorfer"},"score":1,"creation_date":1509569021,"post_id":47063232,"comment_id":81074848,"body_markdown":"which logging framework are you using?","body":"which logging framework are you using?"},{"owner":{"display_name":"user3458"},"score":0,"creation_date":1509569132,"post_id":47063232,"comment_id":81074897,"body_markdown":"Also, if you use async logging, the result of `expensiveComputation` may change between the log call and actual write. And if you don&#39;t use async logging, you have a larger problem.","body":"Also, if you use async logging, the result of <code>expensiveComputation</code> may change between the log call and actual write. And if you don&#39;t use async logging, you have a larger problem."},{"owner":{"account_id":1078945,"reputation":7426,"user_id":1076480,"accept_rate":57,"display_name":"David Ehrmann"},"score":0,"creation_date":1509569463,"post_id":47063232,"comment_id":81075039,"body_markdown":"@JochenBedersdorfer slf4j","body":"@JochenBedersdorfer slf4j"},{"owner":{"account_id":270764,"reputation":4103,"user_id":560902,"accept_rate":80,"display_name":"Jochen Bedersdorfer"},"score":3,"creation_date":1509569551,"post_id":47063232,"comment_id":81075077,"body_markdown":"I&#39;m surprised https://jira.qos.ch/browse/SLF4J-371 hasn&#39;t made it into slf4j yet. That would indeed be very convenient","body":"I&#39;m surprised <a href=\"https://jira.qos.ch/browse/SLF4J-371\" rel=\"nofollow noreferrer\">jira.qos.ch/browse/SLF4J-371</a> hasn&#39;t made it into slf4j yet. That would indeed be very convenient"},{"owner":{"account_id":1078945,"reputation":7426,"user_id":1076480,"accept_rate":57,"display_name":"David Ehrmann"},"score":0,"creation_date":1509569641,"post_id":47063232,"comment_id":81075126,"body_markdown":"@JochenBedersdorfer When it does, that&#39;d probably be the answer to this question.","body":"@JochenBedersdorfer When it does, that&#39;d probably be the answer to this question."},{"owner":{"account_id":972509,"reputation":697,"user_id":994749,"display_name":"Oleg Poltoratskii"},"score":0,"creation_date":1679211610,"post_id":47063232,"comment_id":133678217,"body_markdown":"log.debug(&quot;qwe&quot;, ()-&gt;{return &quot;&quot;;}); \n\nI get such error Cannot resolve method &#39;debug&#39; in &#39;Logger&#39; \n\nI use lombok and @Slf4j annotation. \n\nMaven: org.projectlombok:lombok:1.18.22 (lombok-1.18.22.jar) \n\nWhat should I do?","body":"log.debug(&quot;qwe&quot;, ()-&gt;{return &quot;&quot;;});   I get such error Cannot resolve method &#39;debug&#39; in &#39;Logger&#39;   I use lombok and @Slf4j annotation.   Maven: org.projectlombok:lombok:1.18.22 (lombok-1.18.22.jar)   What should I do?"}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299858,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1509569052,"creation_date":1509568843,"answer_id":47063314,"question_id":47063232,"body_markdown":"&gt; Which *almost* works because the logging framework will do `toString()` on the parameter.\r\n\r\nThis statement isn&#39;t correct. If you step into the `debug`/`info`/whatever method, you&#39;ll find this implementation:\r\n\r\n    public void log(Level level, Supplier&lt;String&gt; msgSupplier) {\r\n        if (!isLoggable(level)) {\r\n            return;\r\n        }\r\n        LogRecord lr = new LogRecord(level, msgSupplier.get());\r\n        doLog(lr);\r\n    }\r\n\r\nIf the `level` isn&#39;t met, the `Supplier` isn&#39;t even used.","title":"Lazy evaluation for logging in Java 8","body":"<blockquote>\n  <p>Which <em>almost</em> works because the logging framework will do <code>toString()</code> on the parameter.</p>\n</blockquote>\n\n<p>This statement isn't correct. If you step into the <code>debug</code>/<code>info</code>/whatever method, you'll find this implementation:</p>\n\n<pre><code>public void log(Level level, Supplier&lt;String&gt; msgSupplier) {\n    if (!isLoggable(level)) {\n        return;\n    }\n    LogRecord lr = new LogRecord(level, msgSupplier.get());\n    doLog(lr);\n}\n</code></pre>\n\n<p>If the <code>level</code> isn't met, the <code>Supplier</code> isn't even used.</p>\n"},{"tags":[],"owner":{"account_id":270764,"reputation":4103,"user_id":560902,"accept_rate":80,"display_name":"Jochen Bedersdorfer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1509569296,"creation_date":1509569296,"answer_id":47063425,"question_id":47063232,"body_markdown":"Interestingly you can&#39;t even use something like this\r\n\r\n```\r\ninterface LazyString {\r\n   String toString();\r\n}\r\n```\r\n\r\nas a functional interface \r\n\r\nThe only way I found so far is via anonymous classes.\r\n\r\n```\r\nObject o = new Object() {\r\n   @Override\r\n   public String toString() {\r\n       return myExpensiveComputation();\r\n   }\r\n};\r\nSystem.out.printf(&quot;%s&quot;, o);\r\n```\r\n","title":"Lazy evaluation for logging in Java 8","body":"<p>Interestingly you can't even use something like this</p>\n\n<p><code>\ninterface LazyString {\n   String toString();\n}\n</code></p>\n\n<p>as a functional interface </p>\n\n<p>The only way I found so far is via anonymous classes.</p>\n\n<p><code>\nObject o = new Object() {\n   @Override\n   public String toString() {\n       return myExpensiveComputation();\n   }\n};\nSystem.out.printf(\"%s\", o);\n</code></p>\n"},{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1518267709,"creation_date":1509569540,"answer_id":47063483,"question_id":47063232,"body_markdown":"To pass an argument that will executed in a lazy way the `String` computation, you have to pass a `Supplier` and not a `String`.&lt;br&gt;\r\nThe method that you invoke should have this signature :\r\n\r\n    void debug(Supplier&lt;?&gt; msgSupplier, Throwable t)\r\n\r\nYou could introduce this utility method in your own utility class.&lt;br&gt;\r\n**But you should not need to do that** as recent logging frameworks such as Log4j2 provides this feature out of the box.&lt;br&gt;\r\n\r\nFor example, [org.apache.logging.log4j.Logger][1] provides overloaded methods to log that accept a `Supplier`.&lt;br&gt;\r\nFor [example][2] :\r\n\r\n&gt; `void debug(MessageSupplier msgSupplier, Throwable t)`\r\n\r\n&gt; Logs a message (only to be constructed if the logging level is the\r\n&gt; DEBUG level) including the stack trace of the Throwable t passed as\r\n&gt; parameter. The MessageSupplier may or may not use the MessageFactory\r\n&gt; to construct the Message.\r\n&gt; \r\n&gt; `Parameters`:\r\n&gt; \r\n&gt; `msgSupplier` - A function, which when called, produces the desired log\r\n&gt; message.\r\n&gt; \r\n&gt; `t` - the exception to log, including its stack trace.\r\n\r\n\r\n\r\nFrom Log4j2 documentation :\r\n\r\n&gt; **Java 8 lambda support for lazy logging**\r\n&gt; \r\n&gt; In release 2.4, the Logger interface added support for lambda\r\n&gt; expressions. This allows client code to lazily log messages without\r\n&gt; explicitly checking if the requested log level is enabled. For\r\n&gt; example, previously you would write:\r\n&gt; \r\n&gt; \r\n&gt;     if (logger.isTraceEnabled()) {\r\n&gt;         logger.trace(&quot;Some long-running operation returned {}&quot;, expensiveOperation());\r\n&gt;     }\r\n&gt; \r\n&gt; With Java 8 you can achieve the same effect with a lambda expression.\r\n&gt; You no longer need to explicitly check the log level:\r\n&gt; \r\n&gt; \r\n&gt; \r\n&gt; \r\n&gt;     logger.trace(&quot;Some long-running operation returned {}&quot;, \r\n&gt;                   () -&gt;    expensiveOperation());\r\n\r\n\r\n  [1]:https://logging.apache.org/log4j/2.0/log4j-api/apidocs/org/apache/logging/log4j/Logger.html\r\n\r\n  [2]: https://logging.apache.org/log4j/2.0/log4j-api/apidocs/org/apache/logging/log4j/Logger.html#debug(org.apache.logging.log4j.util.MessageSupplier,%20java.lang.Throwable)","title":"Lazy evaluation for logging in Java 8","body":"<p>To pass an argument that will executed in a lazy way the <code>String</code> computation, you have to pass a <code>Supplier</code> and not a <code>String</code>.<br>\nThe method that you invoke should have this signature :</p>\n\n<pre><code>void debug(Supplier&lt;?&gt; msgSupplier, Throwable t)\n</code></pre>\n\n<p>You could introduce this utility method in your own utility class.<br>\n<strong>But you should not need to do that</strong> as recent logging frameworks such as Log4j2 provides this feature out of the box.<br></p>\n\n<p>For example, <a href=\"https://logging.apache.org/log4j/2.0/log4j-api/apidocs/org/apache/logging/log4j/Logger.html\" rel=\"noreferrer\">org.apache.logging.log4j.Logger</a> provides overloaded methods to log that accept a <code>Supplier</code>.<br>\nFor <a href=\"https://logging.apache.org/log4j/2.0/log4j-api/apidocs/org/apache/logging/log4j/Logger.html#debug(org.apache.logging.log4j.util.MessageSupplier,%20java.lang.Throwable)\" rel=\"noreferrer\">example</a> :</p>\n\n<blockquote>\n  <p><code>void debug(MessageSupplier msgSupplier, Throwable t)</code></p>\n  \n  <p>Logs a message (only to be constructed if the logging level is the\n  DEBUG level) including the stack trace of the Throwable t passed as\n  parameter. The MessageSupplier may or may not use the MessageFactory\n  to construct the Message.</p>\n  \n  <p><code>Parameters</code>:</p>\n  \n  <p><code>msgSupplier</code> - A function, which when called, produces the desired log\n  message.</p>\n  \n  <p><code>t</code> - the exception to log, including its stack trace.</p>\n</blockquote>\n\n<p>From Log4j2 documentation :</p>\n\n<blockquote>\n  <p><strong>Java 8 lambda support for lazy logging</strong></p>\n  \n  <p>In release 2.4, the Logger interface added support for lambda\n  expressions. This allows client code to lazily log messages without\n  explicitly checking if the requested log level is enabled. For\n  example, previously you would write:</p>\n\n<pre><code>if (logger.isTraceEnabled()) {\n    logger.trace(\"Some long-running operation returned {}\", expensiveOperation());\n}\n</code></pre>\n  \n  <p>With Java 8 you can achieve the same effect with a lambda expression.\n  You no longer need to explicitly check the log level:</p>\n\n<pre><code>logger.trace(\"Some long-running operation returned {}\", \n              () -&gt;    expensiveOperation());\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":395375,"reputation":7111,"user_id":3591528,"display_name":"teppic"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1668100306,"creation_date":1509569805,"answer_id":47063547,"question_id":47063232,"body_markdown":"A small helper object will allow you to do what you want:\r\n\r\n    public class MessageSupplier {\r\n        private Supplier&lt;?&gt; supplier;\r\n    \r\n        public MessageSupplier(Supplier&lt;?&gt; supplier) {\r\n            this.supplier = supplier;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return supplier.get().toString();\r\n        }\r\n    \r\n        public static MessageSupplier msg(Supplier&lt;?&gt; supplier) {\r\n            return new MessageSupplier(supplier);\r\n        }\r\n    }\r\n\r\nOr in Kotlin:\r\n\r\n```kotlin\r\nclass MessageSupplier(supplier: Supplier&lt;?&gt;) {\r\n    override fun toString() = supplier.get().toString()\r\n}\r\n\r\nfun msg(supplier: Supplier&lt;?&gt;) = MessageSupplier(supplier)\r\n```\r\n\r\nThen, with a static import of `msg`:\r\n\r\n    log.debug(&quot;foo: {}&quot;, msg(this::expensiveComputation));\r\n","title":"Lazy evaluation for logging in Java 8","body":"<p>A small helper object will allow you to do what you want:</p>\n<pre><code>public class MessageSupplier {\n    private Supplier&lt;?&gt; supplier;\n\n    public MessageSupplier(Supplier&lt;?&gt; supplier) {\n        this.supplier = supplier;\n    }\n\n    @Override\n    public String toString() {\n        return supplier.get().toString();\n    }\n\n    public static MessageSupplier msg(Supplier&lt;?&gt; supplier) {\n        return new MessageSupplier(supplier);\n    }\n}\n</code></pre>\n<p>Or in Kotlin:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class MessageSupplier(supplier: Supplier&lt;?&gt;) {\n    override fun toString() = supplier.get().toString()\n}\n\nfun msg(supplier: Supplier&lt;?&gt;) = MessageSupplier(supplier)\n</code></pre>\n<p>Then, with a static import of <code>msg</code>:</p>\n<pre><code>log.debug(&quot;foo: {}&quot;, msg(this::expensiveComputation));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1084207,"reputation":180,"user_id":1080334,"accept_rate":50,"display_name":"adaslaw"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1555070729,"creation_date":1555070729,"answer_id":55651255,"question_id":47063232,"body_markdown":"For `java.util.logging` and Java 8+ you can also use this **lazy** and handy notation:\r\n\r\n    LOGGER.fine(() -&gt; &quot;Message1: &quot;  + longComputation1() + &quot;. Message2: &quot; + longComputation2());\r\n\r\n`longComputation1()` and `longComputation2()` will be called lazy - i.e. only when needed.\r\n\r\n","title":"Lazy evaluation for logging in Java 8","body":"<p>For <code>java.util.logging</code> and Java 8+ you can also use this <strong>lazy</strong> and handy notation:</p>\n\n<pre><code>LOGGER.fine(() -&gt; \"Message1: \"  + longComputation1() + \". Message2: \" + longComputation2());\n</code></pre>\n\n<p><code>longComputation1()</code> and <code>longComputation2()</code> will be called lazy - i.e. only when needed.</p>\n"},{"tags":[],"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra ika"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668984028,"creation_date":1668984028,"answer_id":74512585,"question_id":47063232,"body_markdown":"Since you revealed you use SLF4J which still does not support this at the core, this might come in handy if you code in Kotlin (which you can with JDK 8) :\r\n\r\n```kotlin\r\nfun Logger.info( provider: () -&gt; String ) { if (this.isInfoEnabled) this.info(provider.invoke())\r\nfun Logger.debug( provider: () -&gt; String ) { if (this.isDebugEnabled) this.debug(provider.invoke())\r\nfun Logger.trace( provider: () -&gt; String ) { if (this.isTraceEnabled) this.trace(provider.invoke()) \r\n```\r\n\r\n  Usage:  \r\n\r\n```kotlin\r\nlog.trace { &quot;State dump: &quot; + expensiveLongSerialisation(state) }\r\n```\r\n\r\nSource: My Gist :)  https://gist.github.com/OndraZizka/a7381b8cd86f734bc3b6bf9e528a01ad","title":"Lazy evaluation for logging in Java 8","body":"<p>Since you revealed you use SLF4J which still does not support this at the core, this might come in handy if you code in Kotlin (which you can with JDK 8) :</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun Logger.info( provider: () -&gt; String ) { if (this.isInfoEnabled) this.info(provider.invoke())\nfun Logger.debug( provider: () -&gt; String ) { if (this.isDebugEnabled) this.debug(provider.invoke())\nfun Logger.trace( provider: () -&gt; String ) { if (this.isTraceEnabled) this.trace(provider.invoke()) \n</code></pre>\n<p>Usage:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>log.trace { &quot;State dump: &quot; + expensiveLongSerialisation(state) }\n</code></pre>\n<p>Source: My Gist :)  <a href=\"https://gist.github.com/OndraZizka/a7381b8cd86f734bc3b6bf9e528a01ad\" rel=\"nofollow noreferrer\">https://gist.github.com/OndraZizka/a7381b8cd86f734bc3b6bf9e528a01ad</a></p>\n"}],"owner":{"account_id":1078945,"reputation":7426,"user_id":1076480,"accept_rate":57,"display_name":"David Ehrmann"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11072,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"answer_count":6,"score":24,"last_activity_date":1668984028,"creation_date":1509568475,"question_id":47063232,"body_markdown":"When you have values than are expensive to compute, a common pattern you see in logging frameworks is\r\n\r\n    if (log.isDebugEnabled()) {\r\n        String value = expensiveComputation();\r\n        log.debug(&quot;value: {}&quot;, value);\r\n    }\r\n\r\nSince Java 8 added lambdas, it&#39;d be nice to do:\r\n\r\n    log.debug(&quot;value: {}&quot;, (Supplier&lt;String&gt;) this::expensiveComputation);\r\n\r\nWhich *almost* works because the logging framework will do `toString()` on the parameter. The problem is `toString()` on `Supplier` is the implementation in `Object`.\r\n\r\nIs there a way to supply something that&#39;s evaluated lazily to `Logger` methods? It would almost just be a `Supplier` with a default `toString()` that calls `get()`.","title":"Lazy evaluation for logging in Java 8","body":"<p>When you have values than are expensive to compute, a common pattern you see in logging frameworks is</p>\n\n<pre><code>if (log.isDebugEnabled()) {\n    String value = expensiveComputation();\n    log.debug(\"value: {}\", value);\n}\n</code></pre>\n\n<p>Since Java 8 added lambdas, it'd be nice to do:</p>\n\n<pre><code>log.debug(\"value: {}\", (Supplier&lt;String&gt;) this::expensiveComputation);\n</code></pre>\n\n<p>Which <em>almost</em> works because the logging framework will do <code>toString()</code> on the parameter. The problem is <code>toString()</code> on <code>Supplier</code> is the implementation in <code>Object</code>.</p>\n\n<p>Is there a way to supply something that's evaluated lazily to <code>Logger</code> methods? It would almost just be a <code>Supplier</code> with a default <code>toString()</code> that calls <code>get()</code>.</p>\n"},{"tags":["java","android","api","android-studio"],"comments":[{"owner":{"account_id":14718981,"reputation":1715,"user_id":10630172,"display_name":"Greg Moens"},"score":0,"creation_date":1543156574,"post_id":53468491,"comment_id":93807536,"body_markdown":"Android &quot;knows&quot; about your class types because of the manifest file. You never instantiate your service type, Android does that for you based on your (or others) intents. It never has to know about your instance because you don&#39;t have an instance.","body":"Android &quot;knows&quot; about your class types because of the manifest file. You never instantiate your service type, Android does that for you based on your (or others) intents. It never has to know about your instance because you don&#39;t have an instance."},{"owner":{"account_id":14469494,"reputation":1315,"user_id":10451936,"display_name":"Pens&#233;e Absurde"},"score":0,"creation_date":1543156855,"post_id":53468491,"comment_id":93807631,"body_markdown":"We could also create our own classes that extend specific Android abstract classes, but they will not be called in the manifest file. If i dont have an instance, how it could instantiate it for me ? Sorry, that i dont understand.","body":"We could also create our own classes that extend specific Android abstract classes, but they will not be called in the manifest file. If i dont have an instance, how it could instantiate it for me ? Sorry, that i dont understand."},{"owner":{"account_id":14718981,"reputation":1715,"user_id":10630172,"display_name":"Greg Moens"},"score":0,"creation_date":1543157508,"post_id":53468491,"comment_id":93807828,"body_markdown":"With regards to your specific example of extending the Service class, you must declare services in your manifest file. There&#39;s no way around that. What Android abstract class were you thinking of?","body":"With regards to your specific example of extending the Service class, you must declare services in your manifest file. There&#39;s no way around that. What Android abstract class were you thinking of?"},{"owner":{"account_id":14469494,"reputation":1315,"user_id":10451936,"display_name":"Pens&#233;e Absurde"},"score":0,"creation_date":1543157686,"post_id":53468491,"comment_id":93807890,"body_markdown":"Yes this is true that we need to declare the Service class in our Manifest. But for example, extending AsyncTask and adding specific implementation for the doInBackground abstract method is maybe a more suitable example.","body":"Yes this is true that we need to declare the Service class in our Manifest. But for example, extending AsyncTask and adding specific implementation for the doInBackground abstract method is maybe a more suitable example."},{"owner":{"account_id":14718981,"reputation":1715,"user_id":10630172,"display_name":"Greg Moens"},"score":0,"creation_date":1543158501,"post_id":53468491,"comment_id":93808104,"body_markdown":"For AsyncTask, yes you extend and instantiate your own instance. But you then invoke the execute() method on your own instance. In this case, Android didn&#39;t have to know about anything. The magic of OO programming called your version of doInBackground(). If you look at the source code for execute(), you&#39;ll see where the abstract method doInBackground() is eventually called.","body":"For AsyncTask, yes you extend and instantiate your own instance. But you then invoke the execute() method on your own instance. In this case, Android didn&#39;t have to know about anything. The magic of OO programming called your version of doInBackground(). If you look at the source code for execute(), you&#39;ll see where the abstract method doInBackground() is eventually called."}],"owner":{"account_id":14469494,"reputation":1315,"user_id":10451936,"display_name":"Pens&#233;e Absurde"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668983987,"creation_date":1543156155,"question_id":53468491,"body_markdown":"I&#39;m just curious about it. Currently, I&#39;m trying to write better code, and I found really interesting how easily implementations of the core Android API are made in regard of this good use of object oriented programming.\r\n\r\nFor example:\r\n\r\n    public class MyService extends Service {\r\n       @Override\r\n       public int onStartCommand(Intent intent, int flags, int startId) {         \r\n          //Our implementation returning some int\r\n       }\r\n    }\r\n\r\nIt may seem trivial for you, but for me it&#39;s the whole point of object oriented programming. Android API are based on a lot of similar abstract classes that need just some specific implementations to get the work done. But I&#39;m curious about what this &quot;internally called&quot; in the Android documentation refers to.\r\n\r\nAnd to get more specific about my question, how in this &quot;black box&quot;, which I&#39;ll dig into shortly, the API knows the new instances like &quot;MyService&quot; to access this new implementation.\r\nI&#39;m guessing that it&#39;s doing something like:\r\n\r\n    Service service = new MyService();\r\n    service.onStartCommand(...);\r\n\r\nBut how it knows about &quot;MyService&quot; instance ?","title":"How are implementations of some specific abstract methods from an API internally called?","body":"<p>I'm just curious about it. Currently, I'm trying to write better code, and I found really interesting how easily implementations of the core Android API are made in regard of this good use of object oriented programming.</p>\n<p>For example:</p>\n<pre><code>public class MyService extends Service {\n   @Override\n   public int onStartCommand(Intent intent, int flags, int startId) {         \n      //Our implementation returning some int\n   }\n}\n</code></pre>\n<p>It may seem trivial for you, but for me it's the whole point of object oriented programming. Android API are based on a lot of similar abstract classes that need just some specific implementations to get the work done. But I'm curious about what this &quot;internally called&quot; in the Android documentation refers to.</p>\n<p>And to get more specific about my question, how in this &quot;black box&quot;, which I'll dig into shortly, the API knows the new instances like &quot;MyService&quot; to access this new implementation.\nI'm guessing that it's doing something like:</p>\n<pre><code>Service service = new MyService();\nservice.onStartCommand(...);\n</code></pre>\n<p>But how it knows about &quot;MyService&quot; instance ?</p>\n"},{"tags":["java","spring-boot","jakarta-mail","mailmessage"],"comments":[{"owner":{"account_id":25481526,"reputation":336,"user_id":19277782,"display_name":"CaptainPyscho"},"score":0,"creation_date":1668984679,"post_id":74512417,"comment_id":131532989,"body_markdown":"Try `sender` as an empty string.","body":"Try <code>sender</code> as an empty string."},{"owner":{"account_id":26995474,"reputation":1,"user_id":20557651,"display_name":"Aleksandar Djordjevic"},"score":0,"creation_date":1669014730,"post_id":74512417,"comment_id":131537501,"body_markdown":"@CaptainPyscho  --Same.","body":"@CaptainPyscho  --Same."}],"owner":{"account_id":26995474,"reputation":1,"user_id":20557651,"display_name":"Aleksandar Djordjevic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668983633,"creation_date":1668982341,"question_id":74512417,"body_markdown":"I am using spring MimeMessageHelper and JavaMailSender and when users of my app receive an email, I want to show only the message senders name and not the address. Everything works fine on yahoo, gmail, hotmail and etc., but outlook does not show the sender name, and that is the problem.\r\n\r\nService:\r\n\r\n    private final JavaMailSender emailSender;\r\n\r\n    @Value(&quot;${spring.mail.username}&quot;)\r\n    private String mailUsername;\r\n\r\n    @SneakyThrows\r\n    private void sendMailInner(String to, String subject, String body String sender) {\r\n\r\n        MimeMessage mimeMessage = emailSender.createMimeMessage();\r\n        MimeMessageHelper helper = new MimeMessageHelper(mimeMessage, true,&quot;utf-8&quot;);\r\n        if(sender != null){\r\n            helper.setFrom(mailUsername, sender);\r\n        } else {\r\n            helper.setFrom(mailUsername);\r\n        }\r\n        helper.setTo(new InternetAddress(to));\r\n        helper.setSubject(subject);\r\n        helper.setText(body, true);\r\n        emailSender.send(mimeMessage);\r\n    }\r\n\r\nApplication properties:\r\n\r\nspring:\r\n  mail:\r\n\r\n    host: smtp.office365.com\r\n    port: 587\r\n    username: my app email\r\n    password: ****\r\n    properties:\r\n      mail:\r\n        transport:\r\n          protocol: smtp\r\n        smtp:\r\n          auth: true\r\n          starttls:\r\n            enabled: true\r\n        debug: true","title":"How to show the sender address in Outlook when sending mail from Java (MailMessageHelper)?","body":"<p>I am using spring MimeMessageHelper and JavaMailSender and when users of my app receive an email, I want to show only the message senders name and not the address. Everything works fine on yahoo, gmail, hotmail and etc., but outlook does not show the sender name, and that is the problem.</p>\n<p>Service:</p>\n<pre><code>private final JavaMailSender emailSender;\n\n@Value(&quot;${spring.mail.username}&quot;)\nprivate String mailUsername;\n\n@SneakyThrows\nprivate void sendMailInner(String to, String subject, String body String sender) {\n\n    MimeMessage mimeMessage = emailSender.createMimeMessage();\n    MimeMessageHelper helper = new MimeMessageHelper(mimeMessage, true,&quot;utf-8&quot;);\n    if(sender != null){\n        helper.setFrom(mailUsername, sender);\n    } else {\n        helper.setFrom(mailUsername);\n    }\n    helper.setTo(new InternetAddress(to));\n    helper.setSubject(subject);\n    helper.setText(body, true);\n    emailSender.send(mimeMessage);\n}\n</code></pre>\n<p>Application properties:</p>\n<p>spring:\nmail:</p>\n<pre><code>host: smtp.office365.com\nport: 587\nusername: my app email\npassword: ****\nproperties:\n  mail:\n    transport:\n      protocol: smtp\n    smtp:\n      auth: true\n      starttls:\n        enabled: true\n    debug: true\n</code></pre>\n"},{"tags":["java","linked-list","element"],"answers":[{"tags":[],"owner":{"account_id":1748063,"reputation":315,"user_id":1597791,"display_name":"szeak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668979774,"creation_date":1668978964,"answer_id":74512070,"question_id":74511402,"body_markdown":"I don&#39;t understand exactly what you want, because of you wrote you want *&quot;to remove all people from the list who have the same course name&quot;*, but your code never checks only property, your code checks equality everywhere.\r\n\r\nThis example clear function removes all elements equals to param and returns count of removed elements.\r\n\r\n    public long clear(T element) {\r\n        long result = 0L;\r\n        \r\n        LinearNode&lt;T&gt; current = this.list;\r\n        LinearNode&lt;T&gt; previous = null;\r\n        while (current != null) {\r\n            if (current.getElement().equals(element)) {\r\n                if (previous != null) {\r\n                    if (current.getNext() != null) {\r\n                        previous.setNext(current.getNext());\r\n                    } else {\r\n                        this.last = previous;\r\n                    }\r\n                } else if (current.getNext() != null) {\r\n                    this.list = current.getNext();\r\n                } else {\r\n                    this.list = this.last = null;\r\n                }\r\n                this.count--;\r\n                result++;\r\n            } else {\r\n                previous = current;\r\n            }\r\n            current = current.getNext();\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\nAnd after all `.equals(..)` only true, if the compared Objects has an equals() method and checks its content equality, otherwise two Objects equals by `==` operator, if they are exactly the same (not by there&#39;s contents).","title":"Removing all instances of an element from a custom LinkedList","body":"<p>I don't understand exactly what you want, because of you wrote you want <em>&quot;to remove all people from the list who have the same course name&quot;</em>, but your code never checks only property, your code checks equality everywhere.</p>\n<p>This example clear function removes all elements equals to param and returns count of removed elements.</p>\n<pre><code>public long clear(T element) {\n    long result = 0L;\n    \n    LinearNode&lt;T&gt; current = this.list;\n    LinearNode&lt;T&gt; previous = null;\n    while (current != null) {\n        if (current.getElement().equals(element)) {\n            if (previous != null) {\n                if (current.getNext() != null) {\n                    previous.setNext(current.getNext());\n                } else {\n                    this.last = previous;\n                }\n            } else if (current.getNext() != null) {\n                this.list = current.getNext();\n            } else {\n                this.list = this.last = null;\n            }\n            this.count--;\n            result++;\n        } else {\n            previous = current;\n        }\n        current = current.getNext();\n    }\n\n    return result;\n}\n</code></pre>\n<p>And after all <code>.equals(..)</code> only true, if the compared Objects has an equals() method and checks its content equality, otherwise two Objects equals by <code>==</code> operator, if they are exactly the same (not by there's contents).</p>\n"}],"owner":{"account_id":26727678,"reputation":1,"user_id":20330559,"display_name":"Grenny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74512070,"answer_count":1,"score":0,"last_activity_date":1668982392,"creation_date":1668973611,"question_id":74511402,"body_markdown":"Im trying to remove all people from the list who have the same course name in my custom LinkedList class. I have managed to get my programme to delete people individually based on number however can not figure out how to remove multiple at once. I have browsed online for any solutions and have tried multiple so far but none to any success I also attempted one myself but also no success any help or links to were I could learn mode would be greatly appreciated. Below is my Driver, LinkedList, and LinearNode class. I have also removed code I beleive is not relevant to this solution :).\r\n\r\n**Linked List Class**\r\n\r\n```\r\n\r\n\r\npublic class LinkedList&lt;T&gt; implements LinkedListADT&lt;T&gt; {\r\n\t\r\n\t private int count;  // the current number of elements in the list\r\n\t private LinearNode&lt;T&gt; list; //pointer to the first element \r\n\t private LinearNode&lt;T&gt; last; //pointer to the last element \r\n\t \r\n\t //-----------------------------------------------------------------\r\n\t //  Creates an empty list.\r\n\t //-----------------------------------------------------------------\r\n\t    public LinkedList()\r\n\t    {\r\n\t       this.count = 0;\r\n\t       this.last = null;\r\n\t       this.list = null;\r\n\t    }\r\n\t   public void add (T element)\r\n\t   {      \r\n\t\t   LinearNode&lt;T&gt; node = new LinearNode&lt;T&gt; (element); \r\n       \r\n\t\t   if (size() == 0) {  \r\n\t\t\t   \tthis.last = node; // This is the last and the \r\n\t\t\t \tthis.list = node; // first node\r\n\t\t\t \tthis.count++;\r\n\t\t   }//end if\r\n\t\t   else\r\n\t\t     { \r\n\t\t\t\t  last.setNext(node); // add node to the end of the list\r\n\t\t\t\t  last = node; // now make this the new last node.\r\n\t\t\t\t  this.count++;   \r\n\t\t      } //end else\r\n\t   }\r\n\t   \r\n\t   public T remove()\r\n\t   {\r\n\t\t   LinearNode&lt;T&gt; current = list;\r\n\t\t   LinearNode&lt;T&gt; temp = list;\r\n\t\t   T result = null;\r\n\t\t  \r\n\t\t\tif (current == null) {\r\n\t\t\t\tSystem.out.println(&quot;There are no such employees in the list&quot;);\r\n\t\t\t}//end if\r\n\t\t\telse {\r\n\t\t\t\r\n\t\t\t\tresult = this.list.getElement();\r\n\t\t\t\ttemp = list;\r\n\t\t\t\tthis.list = this.list.getNext();\r\n\t\t\t\ttemp.setNext(null); //dereference the original first element\r\n\t\t\t\tcount--;\r\n\t\t\t}//end else\r\n\t\t\treturn result;\r\n\r\n\t   }\r\n\t   \r\n\t   public T remove(T element) \r\n\t   {\r\n\t\t   LinearNode&lt;T&gt; current = list;\r\n\t\t   LinearNode&lt;T&gt; previous = list;\r\n\t\t   LinearNode&lt;T&gt; temp;\r\n\t\t   T result = null;\r\n\t\t   \r\n\t\t\tif (current == null) {\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(&quot;There are no such employees in the list&quot;);\r\n\t\t\t}//end if\r\n\t\t\telse {\r\n\t\t\t\t\r\n\t\t\t\tfor (current = this.list; current != null &amp;&amp; !current.getElement().equals(element); current = current.getNext())\r\n\t\t\t\t   {\r\n\t\t\t\t\tprevious = current;\r\n\t\t\t\t\r\n\t\t\t\t   }\r\n\t\t\t\tif(current == null) {\r\n\t\t\t\t\tSystem.out.println(&quot;No such employee on the list&quot;);\r\n\t\t\t\t}\r\n\t\t\t\telse if (current == list)\r\n\t\t\t\t{\r\n\t\t\t\t\tremove();\r\n\t\t\t\t}\r\n\t\t\t\telse if(current == last) {\r\n\t\t\t\t\tprevious.setNext(null); \r\n\t\t\t\t\tthis.last = previous.getNext();\r\n\t\t\t\t\t\r\n\t\t\t\t\tcount--;\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tprevious.setNext(current.getNext());\r\n\t\t\t\t\tcount--;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn result;\r\n\t   }\r\n**\r\n  My attempted Solution**\r\n\t   \r\n\t   public T clear(T element) {\r\n\t\t   T result = null;\r\n\t\t    while (this.list != null &amp;&amp; this.list.getElement() == element) {\r\n\t\t        this.list = this.list.getNext();\r\n\t\t     count--;\r\n\t\t    }\r\n\r\n\t\t    if (this.list == null) {\r\n\t\t        return result;\r\n\t\t    }\r\n\r\n\t\t    LinearNode&lt;T&gt; current = this.list;\r\n\t\t    while (current.getNext() != null) {\r\n\t\t        if (current.getNext().getElement() == element) {\r\n\t\t        \tcurrent.setNext(current.getNext());\r\n\t\t            count--;\r\n\t\t        } else {\r\n\t\t            current = current.getNext();\r\n\t\t        }\r\n\t\t        \r\n\t\t    }\r\n\t\t    return result;\r\n\t\t}\r\n\t  \r\n}\r\n```\r\n**LinearNode Class**\r\n\r\n```\r\npublic class LinearNode&lt;T&gt;\r\n{\r\n   private LinearNode&lt;T&gt; next;\r\n   private T element;\r\n\r\n   //---------------------------------------------------------\r\n   //  Creates an empty node.\r\n   //---------------------------------------------------------\r\n   public LinearNode()\r\n   {\r\n      this.next = null;\r\n      this.element = null;\r\n   }\r\n\r\n   //---------------------------------------------------------\r\n   //  Creates a node storing the specified element.\r\n   //---------------------------------------------------------\r\n   public LinearNode (T elem)\r\n   {\r\n      this.next = null;\r\n      this.element = elem;\r\n   }\r\n\r\n   //---------------------------------------------------------\r\n   //  Returns the node that follows this one.\r\n   //---------------------------------------------------------\r\n   public LinearNode&lt;T&gt; getNext()\r\n   {\r\n      return this.next;\r\n   }\r\n\r\n   //---------------------------------------------------------\r\n   //  Sets the node that follows this one.\r\n   //---------------------------------------------------------\r\n   public void setNext (LinearNode&lt;T&gt; node)\r\n   {\r\n      this.next = node;\r\n   }\r\n\r\n   //---------------------------------------------------------\r\n   //  Returns the element stored in this node.\r\n   //---------------------------------------------------------\r\n   public T getElement()\r\n   {\r\n      return this.element;\r\n   }\r\n\r\n   //---------------------------------------------------------\r\n   //  Sets the element stored in this node.\r\n   //---------------------------------------------------------\r\n   public void setElement (T elem)\r\n   {\r\n      this.element = elem;\r\n   }\r\n}\r\n```\r\n**Driver Class**\r\n\r\n```\r\n\r\npublic class TrainingCourses {\r\n\r\n\tLinkedList&lt;employee&gt;list;\r\n\tint Size =10;\r\n\t int numberofEmployees=0;\r\n\t\r\n\t\r\n\t\r\n\tpublic TrainingCourses() {\r\n\t list = new LinkedList&lt;employee&gt;();\r\n\t\r\n\t\r\n\r\n\t inputEmployee();\r\n\t displayEmployee();\r\n\t deleteCourses();\r\n\t displayEmployee();\r\n\r\n\t\t \r\n\t\t  \r\n\t}\r\n\t\r\n\r\n\t\r\n\tpublic void inputEmployee() {\r\n\t\temployee a;\r\n\t\ta = null;\r\n\t\tString number,name,courseName = null;\r\n\t\tint years;\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\tScanner scan = new Scanner(System.in);\r\n\t\t\r\n\t\t\r\n\t\r\n\t\t for (int count = 1; count&lt;=numberofEmployees; count++){\r\n\t\tSystem.out.println(&quot;Input employee number&quot;);\r\n\t\tnumber = scan.nextLine();\r\n\t\tSystem.out.println(&quot;Input employee name&quot;);\r\n\t\tname = scan.nextLine();\r\n\t\tSystem.out.println(&quot;Input years at organisation&quot;);\r\n\t\tyears = scan.nextInt(); scan.nextLine();\r\n\t\tif(years &gt;=5) {\r\n\t\tSystem.out.println(&quot;Input course name&quot;);\r\n\t\tcourseName = scan.nextLine();\r\n\t\t}else {\r\n\t\t\tSystem.out.println(&quot;Can not join training course employee must be with organisation 5 or more years&quot;);\r\n\t\t\r\n\t\t}\r\n\t\t\r\n\t\ta = new employee(number,name,years,courseName);\r\n\t\t\r\n\t\t\r\n\t\tlist.add(a);\r\n\t\r\n\t        }\r\n\t\r\n\t}\r\n\tpublic void displayEmployee() {\r\n\t\t System.out.println(&quot;\\nDisplaying all employees....&quot;);\r\n\r\n\t        System.out.println(list.toString());\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\r\n\t\t\r\n\tpublic void deleteCourses(){\r\n\t\t {\r\n\t\t\t Scanner scan = new Scanner(System.in);\r\n\t\t\t\temployee b = null;\r\n\t\t\t\tString number,name,courseName;\r\n\t\t\t\tint years;\r\n\r\n\t\t\t    System.out.println(&quot;Enter employee number you wish to remove&quot;);\r\n\t\t\t\tnumber = scan.nextLine();\r\n\t\t\t\tSystem.out.println(&quot;Input employee name&quot;);\r\n\t\t\t\tname = scan.nextLine();\r\n\t\t\t\tSystem.out.println(&quot;Input years at organisation&quot;);\r\n\t\t\t\tyears = scan.nextInt(); scan.nextLine();\r\n\t\t\t\tSystem.out.println(&quot;Input course name&quot;);\r\n\t\t\t\tcourseName = scan.nextLine();\r\n\t\t\t\t\r\n\t\t\t\tb = new employee(number,name,years,courseName);\r\n\t\t\t      \r\n\t            list.clear(b);\r\n\t\t\t   \r\n\t    }\r\n\t\t    \r\n\t\t\r\n\t}\r\n\tpublic static void main(String[]args) {\r\n\t\tnew TrainingCourses();\r\n\t}\r\n}\r\n```\r\n\r\n","title":"Removing all instances of an element from a custom LinkedList","body":"<p>Im trying to remove all people from the list who have the same course name in my custom LinkedList class. I have managed to get my programme to delete people individually based on number however can not figure out how to remove multiple at once. I have browsed online for any solutions and have tried multiple so far but none to any success I also attempted one myself but also no success any help or links to were I could learn mode would be greatly appreciated. Below is my Driver, LinkedList, and LinearNode class. I have also removed code I beleive is not relevant to this solution :).</p>\n<p><strong>Linked List Class</strong></p>\n<pre><code>\n\npublic class LinkedList&lt;T&gt; implements LinkedListADT&lt;T&gt; {\n    \n     private int count;  // the current number of elements in the list\n     private LinearNode&lt;T&gt; list; //pointer to the first element \n     private LinearNode&lt;T&gt; last; //pointer to the last element \n     \n     //-----------------------------------------------------------------\n     //  Creates an empty list.\n     //-----------------------------------------------------------------\n        public LinkedList()\n        {\n           this.count = 0;\n           this.last = null;\n           this.list = null;\n        }\n       public void add (T element)\n       {      \n           LinearNode&lt;T&gt; node = new LinearNode&lt;T&gt; (element); \n       \n           if (size() == 0) {  \n                this.last = node; // This is the last and the \n                this.list = node; // first node\n                this.count++;\n           }//end if\n           else\n             { \n                  last.setNext(node); // add node to the end of the list\n                  last = node; // now make this the new last node.\n                  this.count++;   \n              } //end else\n       }\n       \n       public T remove()\n       {\n           LinearNode&lt;T&gt; current = list;\n           LinearNode&lt;T&gt; temp = list;\n           T result = null;\n          \n            if (current == null) {\n                System.out.println(&quot;There are no such employees in the list&quot;);\n            }//end if\n            else {\n            \n                result = this.list.getElement();\n                temp = list;\n                this.list = this.list.getNext();\n                temp.setNext(null); //dereference the original first element\n                count--;\n            }//end else\n            return result;\n\n       }\n       \n       public T remove(T element) \n       {\n           LinearNode&lt;T&gt; current = list;\n           LinearNode&lt;T&gt; previous = list;\n           LinearNode&lt;T&gt; temp;\n           T result = null;\n           \n            if (current == null) {\n                \n                System.out.println(&quot;There are no such employees in the list&quot;);\n            }//end if\n            else {\n                \n                for (current = this.list; current != null &amp;&amp; !current.getElement().equals(element); current = current.getNext())\n                   {\n                    previous = current;\n                \n                   }\n                if(current == null) {\n                    System.out.println(&quot;No such employee on the list&quot;);\n                }\n                else if (current == list)\n                {\n                    remove();\n                }\n                else if(current == last) {\n                    previous.setNext(null); \n                    this.last = previous.getNext();\n                    \n                    count--;\n                }\n                else\n                {\n                    previous.setNext(current.getNext());\n                    count--;\n                }\n                \n            }\n            \n            return result;\n       }\n**\n  My attempted Solution**\n       \n       public T clear(T element) {\n           T result = null;\n            while (this.list != null &amp;&amp; this.list.getElement() == element) {\n                this.list = this.list.getNext();\n             count--;\n            }\n\n            if (this.list == null) {\n                return result;\n            }\n\n            LinearNode&lt;T&gt; current = this.list;\n            while (current.getNext() != null) {\n                if (current.getNext().getElement() == element) {\n                    current.setNext(current.getNext());\n                    count--;\n                } else {\n                    current = current.getNext();\n                }\n                \n            }\n            return result;\n        }\n      \n}\n</code></pre>\n<p><strong>LinearNode Class</strong></p>\n<pre><code>public class LinearNode&lt;T&gt;\n{\n   private LinearNode&lt;T&gt; next;\n   private T element;\n\n   //---------------------------------------------------------\n   //  Creates an empty node.\n   //---------------------------------------------------------\n   public LinearNode()\n   {\n      this.next = null;\n      this.element = null;\n   }\n\n   //---------------------------------------------------------\n   //  Creates a node storing the specified element.\n   //---------------------------------------------------------\n   public LinearNode (T elem)\n   {\n      this.next = null;\n      this.element = elem;\n   }\n\n   //---------------------------------------------------------\n   //  Returns the node that follows this one.\n   //---------------------------------------------------------\n   public LinearNode&lt;T&gt; getNext()\n   {\n      return this.next;\n   }\n\n   //---------------------------------------------------------\n   //  Sets the node that follows this one.\n   //---------------------------------------------------------\n   public void setNext (LinearNode&lt;T&gt; node)\n   {\n      this.next = node;\n   }\n\n   //---------------------------------------------------------\n   //  Returns the element stored in this node.\n   //---------------------------------------------------------\n   public T getElement()\n   {\n      return this.element;\n   }\n\n   //---------------------------------------------------------\n   //  Sets the element stored in this node.\n   //---------------------------------------------------------\n   public void setElement (T elem)\n   {\n      this.element = elem;\n   }\n}\n</code></pre>\n<p><strong>Driver Class</strong></p>\n<pre><code>\npublic class TrainingCourses {\n\n    LinkedList&lt;employee&gt;list;\n    int Size =10;\n     int numberofEmployees=0;\n    \n    \n    \n    public TrainingCourses() {\n     list = new LinkedList&lt;employee&gt;();\n    \n    \n\n     inputEmployee();\n     displayEmployee();\n     deleteCourses();\n     displayEmployee();\n\n         \n          \n    }\n    \n\n    \n    public void inputEmployee() {\n        employee a;\n        a = null;\n        String number,name,courseName = null;\n        int years;\n        \n        \n        \n        Scanner scan = new Scanner(System.in);\n        \n        \n    \n         for (int count = 1; count&lt;=numberofEmployees; count++){\n        System.out.println(&quot;Input employee number&quot;);\n        number = scan.nextLine();\n        System.out.println(&quot;Input employee name&quot;);\n        name = scan.nextLine();\n        System.out.println(&quot;Input years at organisation&quot;);\n        years = scan.nextInt(); scan.nextLine();\n        if(years &gt;=5) {\n        System.out.println(&quot;Input course name&quot;);\n        courseName = scan.nextLine();\n        }else {\n            System.out.println(&quot;Can not join training course employee must be with organisation 5 or more years&quot;);\n        \n        }\n        \n        a = new employee(number,name,years,courseName);\n        \n        \n        list.add(a);\n    \n            }\n    \n    }\n    public void displayEmployee() {\n         System.out.println(&quot;\\nDisplaying all employees....&quot;);\n\n            System.out.println(list.toString());\n        \n    }\n    \n    \n\n        \n    public void deleteCourses(){\n         {\n             Scanner scan = new Scanner(System.in);\n                employee b = null;\n                String number,name,courseName;\n                int years;\n\n                System.out.println(&quot;Enter employee number you wish to remove&quot;);\n                number = scan.nextLine();\n                System.out.println(&quot;Input employee name&quot;);\n                name = scan.nextLine();\n                System.out.println(&quot;Input years at organisation&quot;);\n                years = scan.nextInt(); scan.nextLine();\n                System.out.println(&quot;Input course name&quot;);\n                courseName = scan.nextLine();\n                \n                b = new employee(number,name,years,courseName);\n                  \n                list.clear(b);\n               \n        }\n            \n        \n    }\n    public static void main(String[]args) {\n        new TrainingCourses();\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","kotlin","notifications"],"comments":[{"owner":{"account_id":13475094,"reputation":1945,"user_id":9722336,"display_name":"gtxtreme"},"score":0,"creation_date":1631377916,"post_id":69144767,"comment_id":122207968,"body_markdown":"https://stackoverflow.com/questions/50815024/auto-reply-to-whatsapp-message-in-background","body":"<a href=\"https://stackoverflow.com/questions/50815024/auto-reply-to-whatsapp-message-in-background\" title=\"auto reply to whatsapp message in background\">stackoverflow.com/questions/50815024/&hellip;</a>"},{"owner":{"account_id":13475094,"reputation":1945,"user_id":9722336,"display_name":"gtxtreme"},"score":0,"creation_date":1631378016,"post_id":69144767,"comment_id":122207993,"body_markdown":"https://github.com/suyashm002/watsappp_bot","body":"<a href=\"https://github.com/suyashm002/watsappp_bot\" rel=\"nofollow noreferrer\">github.com/suyashm002/watsappp_bot</a>"}],"answers":[{"tags":[],"owner":{"account_id":18667918,"reputation":1019,"user_id":14299073,"display_name":"Ji Sungbin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1631378727,"creation_date":1631378727,"answer_id":69144942,"question_id":69144767,"body_markdown":"Did you try using this function?\r\n```kotlin\r\nfun reply(action: Notification.Action, message: String, exception: Exception.() -&gt; Unit = {}) {\r\n    try {\r\n        val sendIntent = Intent()\r\n        val msg = Bundle()\r\n        for (inputable in action.remoteInputs) {\r\n            msg.putCharSequence(inputable.resultKey, message)\r\n        }\r\n        RemoteInput.addResultsToIntent(action.remoteInputs, sendIntent, msg)\r\n        action.actionIntent.send(applicationContext, 0, sendIntent)\r\n    } catch (exception: Exception) {\r\n        exception(exception)\r\n    }\r\n}\r\n```\r\n\r\nYou can get `Notification.Action` for this way:\r\n```kotlin\r\noverride fun onNotificationPosted(sbn: StatusBarNotification) {\r\n    super.onNotificationPosted(sbn)\r\n    val wExt = Notification.WearableExtender(sbn.notification)\r\n    for (action in wExt.actions) {\r\n        ...\r\n```","title":"How I can replay to WhatsApp notification from java code in android studio","body":"<p>Did you try using this function?</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun reply(action: Notification.Action, message: String, exception: Exception.() -&gt; Unit = {}) {\n    try {\n        val sendIntent = Intent()\n        val msg = Bundle()\n        for (inputable in action.remoteInputs) {\n            msg.putCharSequence(inputable.resultKey, message)\n        }\n        RemoteInput.addResultsToIntent(action.remoteInputs, sendIntent, msg)\n        action.actionIntent.send(applicationContext, 0, sendIntent)\n    } catch (exception: Exception) {\n        exception(exception)\n    }\n}\n</code></pre>\n<p>You can get <code>Notification.Action</code> for this way:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>override fun onNotificationPosted(sbn: StatusBarNotification) {\n    super.onNotificationPosted(sbn)\n    val wExt = Notification.WearableExtender(sbn.notification)\n    for (action in wExt.actions) {\n        ...\n</code></pre>\n"}],"owner":{"account_id":19975009,"reputation":300,"user_id":14639553,"display_name":"ABDO-AR"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1077,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69144942,"answer_count":1,"score":0,"last_activity_date":1668982201,"creation_date":1631377254,"question_id":69144767,"body_markdown":"**Hello guys I&#39;m using NotificationListenerService to get WhatsApp messages**\r\n\r\n*But now I have a problem that I don&#39;t know how to replay to WhatsApp notifications*\r\n*So here is the code and how I&#39;m getting WhatsApp notifications but my problem is in how actually to replay on them*\r\n\r\n    public class NotificationListener extends NotificationListenerService {\r\n\r\n    // StaticFields:\r\n    public static final String WHATSAPP_PACKAGE_NAME = &quot;com.whatsapp&quot;;\r\n    // TAGS:\r\n    private static final String TAG = &quot;NotificationListener&quot;;\r\n    private static final String NP_FIELD = &quot;onNotificationPosted: &quot;;\r\n\r\n    @Override\r\n    public void onNotificationPosted(StatusBarNotification sbn) {\r\n        super.onNotificationPosted(sbn);\r\n        // Fields:\r\n        ARPreferencesManager manager = new ARPreferencesManager(getApplicationContext());\r\n        String currentPackages = manager.getStringPreferences(ARPreferencesManager.PACKAGE_APP_NAME);\r\n        List&lt;Chat.Messages&gt; messages = new ArrayList&lt;&gt;();\r\n        // CheckingStatusBarNotification:\r\n        if (sbn.getPackageName().equals(WHATSAPP_PACKAGE_NAME)) {\r\n            // Initializing(DateTime):\r\n            String date = DateFormat.getDateTimeInstance(DateFormat.SHORT, DateFormat.SHORT).format(new Date());\r\n            List&lt;Chat&gt; chats;\r\n            // Initializing(Data):\r\n            String sender = sbn.getNotification().extras.getString(Notification.EXTRA_TITLE);\r\n            String msg = sbn.getNotification().extras.getString(Notification.EXTRA_TEXT);\r\n            String currentSenders = manager.getStringPreferences(ARPreferencesManager.SENDER_NAME);\r\n            // AddingData:\r\n            messages.add(new Chat.Messages(msg));\r\n            // Developing:\r\n            if (manager.getPreferences().contains(ARPreferencesManager.WHATSAPP_CHATS)) {\r\n                // Initializing:\r\n                chats = ARUtils.fromJsonToChats(manager.getStringPreferences(ARPreferencesManager.WHATSAPP_CHATS));\r\n                // Developing:\r\n                for (Chat chat : chats) {\r\n                    if (chat.getSender().equals(sender)) {\r\n                        // AddingTheNewMessage:\r\n                        chat.getMessages().addAll(messages);\r\n                        // AddingSender($Preferences):\r\n                        if (!currentSenders.contains(sender)) {\r\n                            // Initializing:\r\n                            manager.setStringPreferences(ARPreferencesManager.SENDER_NAME, sender + &quot;,&quot;);\r\n                            // Refreshing:\r\n                            currentSenders = manager.getStringPreferences(ARPreferencesManager.SENDER_NAME);\r\n                        }\r\n                    }\r\n                }\r\n                // CheckingSenders:\r\n                if (!currentSenders.contains(sender)) {\r\n                    // Initializing:\r\n                    Chat chat = new Chat(sender, &quot;&quot;, date, null, messages);\r\n                    // AddingTheNewChat:\r\n                    chats.add(chat);\r\n                }\r\n            } else {\r\n                // Initializing:\r\n                chats = new ArrayList&lt;&gt;();\r\n                // Developing:\r\n                chats.add(new Chat(sender, &quot;&quot;, date, null, messages));\r\n            }\r\n            // SettingPreferences:\r\n            manager.setStringPreferences(ARPreferencesManager.WHATSAPP_CHATS, ARUtils.fromChatsToJson(chats));\r\n            // Debugging:\r\n            ARUtils.debug(TAG, NP_FIELD, manager.getStringPreferences(ARPreferencesManager.WHATSAPP_CHATS));\r\n        }\r\n        // Debugging:\r\n        ARUtils.debug(TAG, NP_FIELD, &quot;Whatsapp Package Was Founded In Preferences&quot;);\r\n        // Debugging:\r\n        ARUtils.debug(TAG, NP_FIELD, &quot;Start&quot;);\r\n    }\r\n}","title":"How I can replay to WhatsApp notification from java code in android studio","body":"<p><strong>Hello guys I'm using NotificationListenerService to get WhatsApp messages</strong></p>\n<p><em>But now I have a problem that I don't know how to replay to WhatsApp notifications</em>\n<em>So here is the code and how I'm getting WhatsApp notifications but my problem is in how actually to replay on them</em></p>\n<pre><code>public class NotificationListener extends NotificationListenerService {\n\n// StaticFields:\npublic static final String WHATSAPP_PACKAGE_NAME = &quot;com.whatsapp&quot;;\n// TAGS:\nprivate static final String TAG = &quot;NotificationListener&quot;;\nprivate static final String NP_FIELD = &quot;onNotificationPosted: &quot;;\n\n@Override\npublic void onNotificationPosted(StatusBarNotification sbn) {\n    super.onNotificationPosted(sbn);\n    // Fields:\n    ARPreferencesManager manager = new ARPreferencesManager(getApplicationContext());\n    String currentPackages = manager.getStringPreferences(ARPreferencesManager.PACKAGE_APP_NAME);\n    List&lt;Chat.Messages&gt; messages = new ArrayList&lt;&gt;();\n    // CheckingStatusBarNotification:\n    if (sbn.getPackageName().equals(WHATSAPP_PACKAGE_NAME)) {\n        // Initializing(DateTime):\n        String date = DateFormat.getDateTimeInstance(DateFormat.SHORT, DateFormat.SHORT).format(new Date());\n        List&lt;Chat&gt; chats;\n        // Initializing(Data):\n        String sender = sbn.getNotification().extras.getString(Notification.EXTRA_TITLE);\n        String msg = sbn.getNotification().extras.getString(Notification.EXTRA_TEXT);\n        String currentSenders = manager.getStringPreferences(ARPreferencesManager.SENDER_NAME);\n        // AddingData:\n        messages.add(new Chat.Messages(msg));\n        // Developing:\n        if (manager.getPreferences().contains(ARPreferencesManager.WHATSAPP_CHATS)) {\n            // Initializing:\n            chats = ARUtils.fromJsonToChats(manager.getStringPreferences(ARPreferencesManager.WHATSAPP_CHATS));\n            // Developing:\n            for (Chat chat : chats) {\n                if (chat.getSender().equals(sender)) {\n                    // AddingTheNewMessage:\n                    chat.getMessages().addAll(messages);\n                    // AddingSender($Preferences):\n                    if (!currentSenders.contains(sender)) {\n                        // Initializing:\n                        manager.setStringPreferences(ARPreferencesManager.SENDER_NAME, sender + &quot;,&quot;);\n                        // Refreshing:\n                        currentSenders = manager.getStringPreferences(ARPreferencesManager.SENDER_NAME);\n                    }\n                }\n            }\n            // CheckingSenders:\n            if (!currentSenders.contains(sender)) {\n                // Initializing:\n                Chat chat = new Chat(sender, &quot;&quot;, date, null, messages);\n                // AddingTheNewChat:\n                chats.add(chat);\n            }\n        } else {\n            // Initializing:\n            chats = new ArrayList&lt;&gt;();\n            // Developing:\n            chats.add(new Chat(sender, &quot;&quot;, date, null, messages));\n        }\n        // SettingPreferences:\n        manager.setStringPreferences(ARPreferencesManager.WHATSAPP_CHATS, ARUtils.fromChatsToJson(chats));\n        // Debugging:\n        ARUtils.debug(TAG, NP_FIELD, manager.getStringPreferences(ARPreferencesManager.WHATSAPP_CHATS));\n    }\n    // Debugging:\n    ARUtils.debug(TAG, NP_FIELD, &quot;Whatsapp Package Was Founded In Preferences&quot;);\n    // Debugging:\n    ARUtils.debug(TAG, NP_FIELD, &quot;Start&quot;);\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","opencsv"],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1672643896,"answer_count":0,"score":-1,"last_activity_date":1668982099,"creation_date":1668601451,"question_id":74460419,"body_markdown":"I want to create a  Quartz job which reads .csv files and moves them when file is processed. I tried this:\r\n\r\n    @Override\r\n    public void execute(JobExecutionContext context) {\r\n    \r\n        File directoryPath = new File(&quot;C:\\\\csv\\\\nov&quot;);\r\n        // Create a new subfolder called &quot;processed&quot; into source directory\r\n        try {\r\n            Files.createDirectory(Path.of(directoryPath.getAbsolutePath() + &quot;/processed&quot;));\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    \r\n        FilenameFilter textFileFilter = (dir, name) -&gt; {\r\n            String lowercaseName = name.toLowerCase();\r\n            if (lowercaseName.endsWith(&quot;.csv&quot;)) {\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        };\r\n        // List of all the csv files\r\n        File filesList[] = directoryPath.listFiles(textFileFilter);\r\n        System.out.println(&quot;List of the text files in the specified directory:&quot;);\r\n        for(File file : filesList) {\r\n    \r\n            try {\r\n                List&lt;CsvLine&gt; beans = new CsvToBeanBuilder(new FileReader(file.getAbsolutePath(), StandardCharsets.UTF_16))\r\n                        .....\r\n                        .build()\r\n                        .parse();\r\n    \r\n                for(CsvLine item: beans){\r\n    \r\n                        ....... sql queries\r\n    \r\n                        Optional&lt;ProcessedWords&gt; isFound = processedWordsService.findByKeyword(item.getKeyword());\r\n    \r\n                        ......................................\r\n                }\r\n    \r\n            } catch (Exception e){\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            // Move here file into new subdirectory when file processing is finished\r\n            Path copied = Paths.get(file.getAbsolutePath() + &quot;/processed&quot;);\r\n            Path originalPath = file.toPath();\r\n            try {\r\n                Files.move(originalPath, copied, StandardCopyOption.REPLACE_EXISTING);\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }\r\n\r\nFolder `processed` is created when the job is started but I get exception:\r\n\r\n        org.quartz.SchedulerException: Job threw an unhandled exception.\r\n        \tat org.quartz.core.JobRunShell.run(JobRunShell.java:213) ~[quartz-2.3.2.jar:na]\r\n        \tat org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:573) ~[quartz-2.3.2.jar:na]\r\n        Caused by: java.lang.RuntimeException: java.nio.file.FileSystemException: C:\\csv\\nov\\07_06_26.csv -&gt; C:\\csv\\nov\\07_06_26.csv\\processed: The process cannot access the file because it is being used by another process\r\n        \tat com.wordscore.engine.processor.ImportCsvFilePostJob.execute(ImportCsvFilePostJob.java:114) ~[main/:na]\r\n        \tat org.quartz.core.JobRunShell.run(JobRunShell.java:202) ~[quartz-2.3.2.jar:na]\r\n        \t... 1 common frames omitted\r\n        Caused by: java.nio.file.FileSystemException: C:\\csv\\nov\\07_06_26.csv -&gt; C:\\csv\\nov\\\r\n    \r\n    07_06_26.csv\\processed: The process cannot access the file because it is being used by another process\r\n    \tat java.base/sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:92) ~[na:na]\r\n    \tat java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:103) ~[na:na]\r\n\r\nDo you know how I can release the file and move it into a sub directory?\r\n\r\n***EDIT: Update code with try-catch***\r\n\r\n    @Override\r\n    public void execute(JobExecutionContext context) {\r\n    \r\n        File directoryPath = new File(&quot;C:\\\\csv\\\\nov&quot;);\r\n        // Create a new subfolder called &quot;processed&quot; into source directory\r\n        try {\r\n            Path path = Path.of(directoryPath.getAbsolutePath() + &quot;/processed&quot;);\r\n            if (!Files.exists(path) || !Files.isDirectory(path)) {\r\n                Files.createDirectory(path);\r\n            }\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    \r\n        FilenameFilter textFileFilter = (dir, name) -&gt; {\r\n            String lowercaseName = name.toLowerCase();\r\n            if (lowercaseName.endsWith(&quot;.csv&quot;)) {\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        };\r\n        // List of all the csv files\r\n        File filesList[] = directoryPath.listFiles(textFileFilter);\r\n        System.out.println(&quot;List of the text files in the specified directory:&quot;);\r\n        for(File file : filesList) {\r\n    \r\n            try {\r\n                try (var br = new FileReader(file.getAbsolutePath(), StandardCharsets.UTF_16)){\r\n                    List&lt;CsvLine&gt; beans = new CsvToBeanBuilder(br)\r\n                            ......\r\n                            .build()\r\n                            .parse();\r\n    \r\n                for (CsvLine item : beans) {\r\n    \r\n                    .....\r\n                    if (isFound.isPresent()) {\r\n                        .........\r\n            }}\r\n    \r\n            } catch (Exception e){\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            // Move here file into new subdirectory when file processing is finished\r\n            Path copied = Paths.get(file.getAbsolutePath() + &quot;/processed&quot;);\r\n            Path originalPath = file.toPath();\r\n            try {\r\n                Files.move(originalPath, copied, StandardCopyOption.REPLACE_EXISTING);\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }","title":"Move file after reading content","body":"<p>I want to create a  Quartz job which reads .csv files and moves them when file is processed. I tried this:</p>\n<pre><code>@Override\npublic void execute(JobExecutionContext context) {\n\n    File directoryPath = new File(&quot;C:\\\\csv\\\\nov&quot;);\n    // Create a new subfolder called &quot;processed&quot; into source directory\n    try {\n        Files.createDirectory(Path.of(directoryPath.getAbsolutePath() + &quot;/processed&quot;));\n    } catch (IOException e) {\n        throw new RuntimeException(e);\n    }\n\n    FilenameFilter textFileFilter = (dir, name) -&gt; {\n        String lowercaseName = name.toLowerCase();\n        if (lowercaseName.endsWith(&quot;.csv&quot;)) {\n            return true;\n        } else {\n            return false;\n        }\n    };\n    // List of all the csv files\n    File filesList[] = directoryPath.listFiles(textFileFilter);\n    System.out.println(&quot;List of the text files in the specified directory:&quot;);\n    for(File file : filesList) {\n\n        try {\n            List&lt;CsvLine&gt; beans = new CsvToBeanBuilder(new FileReader(file.getAbsolutePath(), StandardCharsets.UTF_16))\n                    .....\n                    .build()\n                    .parse();\n\n            for(CsvLine item: beans){\n\n                    ....... sql queries\n\n                    Optional&lt;ProcessedWords&gt; isFound = processedWordsService.findByKeyword(item.getKeyword());\n\n                    ......................................\n            }\n\n        } catch (Exception e){\n            e.printStackTrace();\n        }\n\n        // Move here file into new subdirectory when file processing is finished\n        Path copied = Paths.get(file.getAbsolutePath() + &quot;/processed&quot;);\n        Path originalPath = file.toPath();\n        try {\n            Files.move(originalPath, copied, StandardCopyOption.REPLACE_EXISTING);\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<p>Folder <code>processed</code> is created when the job is started but I get exception:</p>\n<pre><code>    org.quartz.SchedulerException: Job threw an unhandled exception.\n        at org.quartz.core.JobRunShell.run(JobRunShell.java:213) ~[quartz-2.3.2.jar:na]\n        at org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:573) ~[quartz-2.3.2.jar:na]\n    Caused by: java.lang.RuntimeException: java.nio.file.FileSystemException: C:\\csv\\nov\\07_06_26.csv -&gt; C:\\csv\\nov\\07_06_26.csv\\processed: The process cannot access the file because it is being used by another process\n        at com.wordscore.engine.processor.ImportCsvFilePostJob.execute(ImportCsvFilePostJob.java:114) ~[main/:na]\n        at org.quartz.core.JobRunShell.run(JobRunShell.java:202) ~[quartz-2.3.2.jar:na]\n        ... 1 common frames omitted\n    Caused by: java.nio.file.FileSystemException: C:\\csv\\nov\\07_06_26.csv -&gt; C:\\csv\\nov\\\n\n07_06_26.csv\\processed: The process cannot access the file because it is being used by another process\n    at java.base/sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:92) ~[na:na]\n    at java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:103) ~[na:na]\n</code></pre>\n<p>Do you know how I can release the file and move it into a sub directory?</p>\n<p><em><strong>EDIT: Update code with try-catch</strong></em></p>\n<pre><code>@Override\npublic void execute(JobExecutionContext context) {\n\n    File directoryPath = new File(&quot;C:\\\\csv\\\\nov&quot;);\n    // Create a new subfolder called &quot;processed&quot; into source directory\n    try {\n        Path path = Path.of(directoryPath.getAbsolutePath() + &quot;/processed&quot;);\n        if (!Files.exists(path) || !Files.isDirectory(path)) {\n            Files.createDirectory(path);\n        }\n    } catch (IOException e) {\n        throw new RuntimeException(e);\n    }\n\n    FilenameFilter textFileFilter = (dir, name) -&gt; {\n        String lowercaseName = name.toLowerCase();\n        if (lowercaseName.endsWith(&quot;.csv&quot;)) {\n            return true;\n        } else {\n            return false;\n        }\n    };\n    // List of all the csv files\n    File filesList[] = directoryPath.listFiles(textFileFilter);\n    System.out.println(&quot;List of the text files in the specified directory:&quot;);\n    for(File file : filesList) {\n\n        try {\n            try (var br = new FileReader(file.getAbsolutePath(), StandardCharsets.UTF_16)){\n                List&lt;CsvLine&gt; beans = new CsvToBeanBuilder(br)\n                        ......\n                        .build()\n                        .parse();\n\n            for (CsvLine item : beans) {\n\n                .....\n                if (isFound.isPresent()) {\n                    .........\n        }}\n\n        } catch (Exception e){\n            e.printStackTrace();\n        }\n\n        // Move here file into new subdirectory when file processing is finished\n        Path copied = Paths.get(file.getAbsolutePath() + &quot;/processed&quot;);\n        Path originalPath = file.toPath();\n        try {\n            Files.move(originalPath, copied, StandardCopyOption.REPLACE_EXISTING);\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":12953709,"reputation":6501,"user_id":9365212,"display_name":"AgentP"},"score":0,"creation_date":1567169604,"post_id":57726923,"comment_id":101894304,"body_markdown":"this might help you [notification-with-reply-action](https://developer.android.com/training/notify-user/build-notification#reply-action)","body":"this might help you <a href=\"https://developer.android.com/training/notify-user/build-notification#reply-action\" rel=\"nofollow noreferrer\">notification-with-reply-action</a>"},{"owner":{"account_id":3147237,"reputation":1396,"user_id":2661479,"display_name":"PRAJIN PRAKASH"},"score":0,"creation_date":1567170735,"post_id":57726923,"comment_id":101894898,"body_markdown":"from reading this, Its help us to create a notification that is capable of receiving replay from user inputs to our app,I don&#39;t want to implement quick replay notification. I want read other apps notification and quick replay to that  from my app.","body":"from reading this, Its help us to create a notification that is capable of receiving replay from user inputs to our app,I don&#39;t want to implement quick replay notification. I want read other apps notification and quick replay to that  from my app."}],"owner":{"account_id":3147237,"reputation":1396,"user_id":2661479,"display_name":"PRAJIN PRAKASH"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":437,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668981954,"creation_date":1567168714,"question_id":57726923,"body_markdown":"Read and Direct replay through notifications pragmatically from my android app, Is it possible?.\r\nCurrently its possible to send reply through notification-bar in android manually. For example the whats-app/hike message can be read and replay through the notification bar without opening the app.\r\nI think its possible to do with a code that works for wearable devices. If anyone know about it please help me.\r\n\r\n\r\nhere is the example code to read notification.\r\n\r\n        package learn2crack.notification;\r\n\r\n        import android.content.Context;\r\n        import android.content.Intent;\r\n        import android.os.Bundle;\r\n        import android.service.notification.NotificationListenerService;\r\n        import android.service.notification.StatusBarNotification;\r\n        import android.util.Log;\r\n        import android.support.v4.content.LocalBroadcastManager;\r\n\r\n\r\n        public class NotificationService extends NotificationListenerService {\r\n        \r\n            Context context;\r\n\r\n            @Override\r\n\r\n            public void onCreate() {\r\n\r\n                super.onCreate();\r\n                context = getApplicationContext();\r\n\r\n            }\r\n            @Override\r\n\r\n            public void onNotificationPosted(StatusBarNotification sbn) {\r\n\r\n\r\n                String pack = sbn.getPackageName();\r\n                String ticker = sbn.getNotification().tickerText.toString();\r\n                Bundle extras = sbn.getNotification().extras;\r\n                String title = extras.getString(&quot;android.title&quot;);\r\n                String text = extras.getCharSequence(&quot;android.text&quot;).toString();\r\n\r\n                Log.i(&quot;Package&quot;,pack);\r\n                Log.i(&quot;Ticker&quot;,ticker);\r\n                Log.i(&quot;Title&quot;,title);\r\n                Log.i(&quot;Text&quot;,text);\r\n\r\n                Intent msgrcv = new Intent(&quot;Msg&quot;);\r\n                msgrcv.putExtra(&quot;package&quot;, pack);\r\n                msgrcv.putExtra(&quot;ticker&quot;, ticker);\r\n                msgrcv.putExtra(&quot;title&quot;, title);\r\n                msgrcv.putExtra(&quot;text&quot;, text);\r\n\r\n                LocalBroadcastManager.getInstance(context).sendBroadcast(msgrcv);\r\n\r\n\r\n            }\r\n\r\n            @Override\r\n\r\n            public void onNotificationRemoved(StatusBarNotification sbn) {\r\n                Log.i(&quot;Msg&quot;,&quot;Notification Removed&quot;);\r\n        \r\n            }\r\n        }\r\n\r\n[here](https://www.androiddevelopersolutions.com/2015/05/android-read-status-bar-notification.html) is the code for reading all notifications using code. Please help me to do the same for send replay.","title":"Pragmatically read and direct replay to notifications of other apps from my android app?","body":"<p>Read and Direct replay through notifications pragmatically from my android app, Is it possible?.\nCurrently its possible to send reply through notification-bar in android manually. For example the whats-app/hike message can be read and replay through the notification bar without opening the app.\nI think its possible to do with a code that works for wearable devices. If anyone know about it please help me.</p>\n\n<p>here is the example code to read notification.</p>\n\n<pre><code>    package learn2crack.notification;\n\n    import android.content.Context;\n    import android.content.Intent;\n    import android.os.Bundle;\n    import android.service.notification.NotificationListenerService;\n    import android.service.notification.StatusBarNotification;\n    import android.util.Log;\n    import android.support.v4.content.LocalBroadcastManager;\n\n\n    public class NotificationService extends NotificationListenerService {\n\n        Context context;\n\n        @Override\n\n        public void onCreate() {\n\n            super.onCreate();\n            context = getApplicationContext();\n\n        }\n        @Override\n\n        public void onNotificationPosted(StatusBarNotification sbn) {\n\n\n            String pack = sbn.getPackageName();\n            String ticker = sbn.getNotification().tickerText.toString();\n            Bundle extras = sbn.getNotification().extras;\n            String title = extras.getString(\"android.title\");\n            String text = extras.getCharSequence(\"android.text\").toString();\n\n            Log.i(\"Package\",pack);\n            Log.i(\"Ticker\",ticker);\n            Log.i(\"Title\",title);\n            Log.i(\"Text\",text);\n\n            Intent msgrcv = new Intent(\"Msg\");\n            msgrcv.putExtra(\"package\", pack);\n            msgrcv.putExtra(\"ticker\", ticker);\n            msgrcv.putExtra(\"title\", title);\n            msgrcv.putExtra(\"text\", text);\n\n            LocalBroadcastManager.getInstance(context).sendBroadcast(msgrcv);\n\n\n        }\n\n        @Override\n\n        public void onNotificationRemoved(StatusBarNotification sbn) {\n            Log.i(\"Msg\",\"Notification Removed\");\n\n        }\n    }\n</code></pre>\n\n<p><a href=\"https://www.androiddevelopersolutions.com/2015/05/android-read-status-bar-notification.html\" rel=\"nofollow noreferrer\">here</a> is the code for reading all notifications using code. Please help me to do the same for send replay.</p>\n"},{"tags":["java","long-integer","biginteger"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":2,"creation_date":1668943781,"post_id":74507673,"comment_id":131524378,"body_markdown":"You cannot prevent an overflow of a `long`, BigInteger is the answer, please post your code using it. For BigInteger, you have use the `multiply` method instead of the `*` operator.","body":"You cannot prevent an overflow of a <code>long</code>, BigInteger is the answer, please post your code using it. For BigInteger, you have use the <code>multiply</code> method instead of the <code>*</code> operator."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1668945075,"post_id":74507673,"comment_id":131524600,"body_markdown":"And when you post your code using `BigInteger`, please indent it properly. It helps readability more than you think for someone who didnt write the code. Your IDE can do it for you.","body":"And when you post your code using <code>BigInteger</code>, please indent it properly. It helps readability more than you think for someone who didnt write the code. Your IDE can do it for you."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1668945253,"creation_date":1668945253,"answer_id":74507834,"question_id":74507673,"body_markdown":"`BigInteger` is a reference type - like all types in java except the hardcoded list of `long`, `int`, `double`, `short`, `float`, `char`, `byte`, and `boolean`. You can invoke methods on it. The `+` can be used if the thing on its left&#39;s type is a `String` which will invoke `toString()` on them and concatenate them. That&#39;s it. They do not &#39;support&#39; -, +, *, etcetera. Instead, they have the methods `.multiply` and `.add` and friends. Note that this doesn&#39;t add a number to the object, it calculates the value and returns it, e.g. you&#39;d write `factorial = factorial.multiply(myNumber)`. You&#39;ll have to replace __all__ operators with the appropriate method, and you&#39;ll have to turn __all__ numbers in `BigInteger` objects, using `BigInteger.valueOf(20)` for example.\r\n\r\nYou can&#39;t magically prevent longs from overflowing. It&#39;s a fundamental aspect of math on 64-bit numbers: You can&#39;t store more than 2^64 different things in 64-bits for the same reason 1+1=2 - because of fundamental mathematical reasons.\r\n","title":"How do I prevent a long overflow?","body":"<p><code>BigInteger</code> is a reference type - like all types in java except the hardcoded list of <code>long</code>, <code>int</code>, <code>double</code>, <code>short</code>, <code>float</code>, <code>char</code>, <code>byte</code>, and <code>boolean</code>. You can invoke methods on it. The <code>+</code> can be used if the thing on its left's type is a <code>String</code> which will invoke <code>toString()</code> on them and concatenate them. That's it. They do not 'support' -, +, *, etcetera. Instead, they have the methods <code>.multiply</code> and <code>.add</code> and friends. Note that this doesn't add a number to the object, it calculates the value and returns it, e.g. you'd write <code>factorial = factorial.multiply(myNumber)</code>. You'll have to replace <strong>all</strong> operators with the appropriate method, and you'll have to turn <strong>all</strong> numbers in <code>BigInteger</code> objects, using <code>BigInteger.valueOf(20)</code> for example.</p>\n<p>You can't magically prevent longs from overflowing. It's a fundamental aspect of math on 64-bit numbers: You can't store more than 2^64 different things in 64-bits for the same reason 1+1=2 - because of fundamental mathematical reasons.</p>\n"},{"tags":[],"owner":{"account_id":26971707,"reputation":1,"user_id":20537635,"display_name":"Steve C."},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1668981806,"creation_date":1668981204,"answer_id":74512300,"question_id":74507673,"body_markdown":"    **I FOUND A SOLUTION AND NOW IT DOESNT OVERFLOW**\r\n    **MAIN**\r\n        import java.util.Scanner;\r\n        public class Main {\r\n        public static void main(String[] args) {\r\n            Factorial factNum;\r\n            Scanner in = new Scanner(System.in);\r\n            boolean flagCheck = false;\r\n    \r\n            System.out.println(&quot;Please give a number between 0 - 25: &quot;);\r\n            factNum = new Factorial(in.nextLong());\r\n    \r\n            //check if the number is in the limits\r\n            while(!flagCheck) {\r\n    \r\n                if (factNum.getVarForFact() &lt; 0){\r\n                    System.out.println(&quot;Number must be over 0. Please enter again a \r\n                    number between 0-25&quot;);\r\n                    factNum = new Factorial(in.nextLong());\r\n                } else if (factNum.getVarForFact() &gt; 25){\r\n                    System.out.println(&quot;Number must be under 25. Please enter again a \r\n                    number between 0-25&quot;);\r\n                    factNum = new Factorial(in.nextLong());\r\n                } else if (factNum.getVarForFact() == 0) {\r\n                    factNum.setFinalFact(1);\r\n                    System.out.println(&quot;The factorial of &quot; + factNum.getVarForFact() + &quot; \r\n                    is &quot; + factNum.getFinalFact());\r\n                    flagCheck = true;\r\n                } else{\r\n                    factNum.factorial();\r\n                    System.out.println(&quot;The factorial of &quot; + factNum.getVarForFact() + &quot; \r\n                     is &quot; + factNum.getFactorial());\r\n                    flagCheck = true;\r\n                }\r\n            }\r\n    \r\n        }\r\n    }\r\n**FACTORIAL CLASS**\r\n    \r\n        import java.math.BigInteger;\r\n    \r\n        class Factorial {\r\n        //variable for storing the given number and find the factorial\r\n        private long varForFact;\r\n        private long finalFact;\r\n    \r\n        private BigInteger factorial = BigInteger.ONE;\r\n        //Constructor\r\n        Factorial(long varForFact){\r\n            this.varForFact = varForFact;\r\n        }\r\n    \r\n        //Getter\r\n        public long getVarForFact(){\r\n            return this.varForFact;\r\n        }\r\n    \r\n        public long getFinalFact() {\r\n            return finalFact;\r\n        }\r\n    \r\n        public BigInteger getFactorial() {\r\n            return factorial;\r\n        }\r\n    \r\n        //Setter\r\n        public void setVarForFact(long varForFact){\r\n             this.varForFact = varForFact;\r\n        }\r\n    \r\n    \r\n        public void setFinalFact(long finalFact) {\r\n            this.finalFact = finalFact;\r\n        }\r\n    \r\n        //factorial method, it will return the factorial\r\n        public void factorial(){\r\n    \r\n            for (long i = this.varForFact; i &gt; 0; i--) {\r\n                this.factorial = this.factorial.multiply(BigInteger.valueOf(i));\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"How do I prevent a long overflow?","body":"<pre><code>**I FOUND A SOLUTION AND NOW IT DOESNT OVERFLOW**\n**MAIN**\n    import java.util.Scanner;\n    public class Main {\n    public static void main(String[] args) {\n        Factorial factNum;\n        Scanner in = new Scanner(System.in);\n        boolean flagCheck = false;\n\n        System.out.println(&quot;Please give a number between 0 - 25: &quot;);\n        factNum = new Factorial(in.nextLong());\n\n        //check if the number is in the limits\n        while(!flagCheck) {\n\n            if (factNum.getVarForFact() &lt; 0){\n                System.out.println(&quot;Number must be over 0. Please enter again a \n                number between 0-25&quot;);\n                factNum = new Factorial(in.nextLong());\n            } else if (factNum.getVarForFact() &gt; 25){\n                System.out.println(&quot;Number must be under 25. Please enter again a \n                number between 0-25&quot;);\n                factNum = new Factorial(in.nextLong());\n            } else if (factNum.getVarForFact() == 0) {\n                factNum.setFinalFact(1);\n                System.out.println(&quot;The factorial of &quot; + factNum.getVarForFact() + &quot; \n                is &quot; + factNum.getFinalFact());\n                flagCheck = true;\n            } else{\n                factNum.factorial();\n                System.out.println(&quot;The factorial of &quot; + factNum.getVarForFact() + &quot; \n                 is &quot; + factNum.getFactorial());\n                flagCheck = true;\n            }\n        }\n\n    }\n}\n</code></pre>\n<p><strong>FACTORIAL CLASS</strong></p>\n<pre><code>    import java.math.BigInteger;\n\n    class Factorial {\n    //variable for storing the given number and find the factorial\n    private long varForFact;\n    private long finalFact;\n\n    private BigInteger factorial = BigInteger.ONE;\n    //Constructor\n    Factorial(long varForFact){\n        this.varForFact = varForFact;\n    }\n\n    //Getter\n    public long getVarForFact(){\n        return this.varForFact;\n    }\n\n    public long getFinalFact() {\n        return finalFact;\n    }\n\n    public BigInteger getFactorial() {\n        return factorial;\n    }\n\n    //Setter\n    public void setVarForFact(long varForFact){\n         this.varForFact = varForFact;\n    }\n\n\n    public void setFinalFact(long finalFact) {\n        this.finalFact = finalFact;\n    }\n\n    //factorial method, it will return the factorial\n    public void factorial(){\n\n        for (long i = this.varForFact; i &gt; 0; i--) {\n            this.factorial = this.factorial.multiply(BigInteger.valueOf(i));\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26981642,"reputation":35,"user_id":20545889,"display_name":"Lau"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":436,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74507834,"answer_count":2,"score":0,"last_activity_date":1668981806,"creation_date":1668943612,"question_id":74507673,"body_markdown":"My assignment ask us to ask the user to enter a number and print the factorial of it,\r\n\r\nit also ask us to not allow the user to chose any negative number or number over 25, when they do, we loop them back to scanner to re renter a number\r\n\r\nwe were also told to store the number in a long, but when I do, if the user enters a number over 20 and =\\&lt;25, the answer becomes a negative causing a long overflow.\r\n\r\nI tried changing the long to BigInteger, but when I keep getting an error on ever line i use BigInteger instead of long\r\n\r\n```\r\nboolean correctInputn= false;\r\n\t\r\n\twhile(!correctInputn)\r\n\t{\r\n\tlong number;// declares variables for storing number\r\n    long factorial = 1;// declare variable for storing factorial\r\n    \r\n\r\n    System.out.println(&quot;Enter a number between 1 and 25&quot;); // tells user to enter number\r\n    number = scanner.nextLong();\r\n    \r\n         if (number &lt;0)  \r\n            {System.out.println(&quot;Positive numbers only&quot;);// if number entered is negative\r\n             correctInputn = false; continue;} // if user enters number less than 0 loops back to code start\r\n       \r\n       \r\n         else if (number &gt; 25)\r\n             { System.out.println(&quot;Number to large to print&quot;);\r\n               correctInputn = false; continue;} // if user enters number over 25 loops back to code start\r\n        \r\n    \r\n          else  {\r\n      // if user enter 10, counter starts at 10 and runs to two\r\n        for(long mynumber = number; mynumber &gt;= 1; mynumber--) {\r\n            factorial = factorial*mynumber; // mynumber would contain different values and that is multiplied by value present in factorial value and stored again in factorial variable\r\n        }\r\n    \r\n    System.out.println(&quot;The factorial of &quot; + number +&quot; is equal to &quot; + factorial);\r\n    break;\r\n    }\r\n\t}\r\n```","title":"How do I prevent a long overflow?","body":"<p>My assignment ask us to ask the user to enter a number and print the factorial of it,</p>\n<p>it also ask us to not allow the user to chose any negative number or number over 25, when they do, we loop them back to scanner to re renter a number</p>\n<p>we were also told to store the number in a long, but when I do, if the user enters a number over 20 and =&lt;25, the answer becomes a negative causing a long overflow.</p>\n<p>I tried changing the long to BigInteger, but when I keep getting an error on ever line i use BigInteger instead of long</p>\n<pre><code>boolean correctInputn= false;\n    \n    while(!correctInputn)\n    {\n    long number;// declares variables for storing number\n    long factorial = 1;// declare variable for storing factorial\n    \n\n    System.out.println(&quot;Enter a number between 1 and 25&quot;); // tells user to enter number\n    number = scanner.nextLong();\n    \n         if (number &lt;0)  \n            {System.out.println(&quot;Positive numbers only&quot;);// if number entered is negative\n             correctInputn = false; continue;} // if user enters number less than 0 loops back to code start\n       \n       \n         else if (number &gt; 25)\n             { System.out.println(&quot;Number to large to print&quot;);\n               correctInputn = false; continue;} // if user enters number over 25 loops back to code start\n        \n    \n          else  {\n      // if user enter 10, counter starts at 10 and runs to two\n        for(long mynumber = number; mynumber &gt;= 1; mynumber--) {\n            factorial = factorial*mynumber; // mynumber would contain different values and that is multiplied by value present in factorial value and stored again in factorial variable\n        }\n    \n    System.out.println(&quot;The factorial of &quot; + number +&quot; is equal to &quot; + factorial);\n    break;\n    }\n    }\n</code></pre>\n"},{"tags":["java","download"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1668961490,"post_id":74508686,"comment_id":131527881,"body_markdown":"Edit your question and show us your code.","body":"Edit your question and show us your code."},{"owner":{"account_id":11929304,"reputation":23,"user_id":8729633,"display_name":"Yavar007"},"score":0,"creation_date":1668974608,"post_id":74508686,"comment_id":131530949,"body_markdown":"@VGR ok i did what you ask","body":"@VGR ok i did what you ask"}],"owner":{"account_id":11929304,"reputation":23,"user_id":8729633,"display_name":"Yavar007"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668981737,"creation_date":1668952263,"question_id":74508686,"body_markdown":"I want to download an MP3 file using this API\r\n```\r\nhttps://api.vevioz.com/@api/button/mp3/AKX91G0qNFM\r\n```\r\nI&#39;m using Jsoup to get download URL from buttons. The problem is when I try to download, it downloads only 1.13MB of the MP3 and exits my app.\r\n\r\nI&#39;ve tried all of downloading methods like: Java IO, NIO, AsyncHttpClient, Apache Commons IO.\r\n\r\nI really don&#39;t know how to successfully download my file and I didn&#39;t find any solution on internet for this problem.\r\n\r\n\r\nMy Code:\r\n\r\n**JSoup**:\r\n\r\n    Document doc = Jsoup.connect(&quot;https://api.vevioz.com/@api/button/mp3/AKX91G0qNFM&quot;).get();\r\n    Element body=doc.body();\r\n    Elements elements=body.getElementsByClass(&quot;download flex flex-wrap sm:inline-flex text-center items-center justify-center&quot;);\r\n    elements=elements.get(0).children();\r\n    String FILE_URL=elements.get(0).attributes().get(&quot;href&quot;);\r\n    String FILE_NAME=&quot;./downloads/1.mp3&quot;;\r\n\r\n**Java IO**:\r\n\r\n    try (BufferedInputStream in = new BufferedInputStream(new URL(FILE_URL).openStream());\r\n         FileOutputStream fileOutputStream = new FileOutputStream(FILE_NAME)) {\r\n        byte[] dataBuffer = new byte[1024];\r\n        int bytesRead;\r\n        while ((bytesRead = in.read(dataBuffer, 0, 1024)) != -1) {\r\n            fileOutputStream.write(dataBuffer, 0, bytesRead);\r\n        }\r\n    } catch (IOException e) {\r\n        // handle exception\r\n    }\r\n\r\n\r\n**NIO**:\r\n\r\n    ReadableByteChannel readableByteChannel = Channels.newChannel(new URL(FILE_URL).openStream());\r\n    FileOutputStream fileOutputStream = new FileOutputStream(FILE_NAME);\r\n    FileChannel fileChannel = fileOutputStream.getChannel();\r\n    fileOutputStream.getChannel()\r\n            .transferFrom(readableByteChannel, 0, Long.MAX_VALUE);\r\n\r\n**AsyncHttpClient**:\r\n\r\n    AsyncHttpClient client = Dsl.asyncHttpClient();\r\n    FileOutputStream stream = new FileOutputStream(FILE_NAME);\r\n\r\n    client.prepareGet(link).execute(new AsyncCompletionHandler&lt;FileOutputStream&gt;() {\r\n\r\n        @Override\r\n        public State onBodyPartReceived(HttpResponseBodyPart bodyPart)\r\n                throws Exception {\r\n            stream.getChannel().write(bodyPart.getBodyByteBuffer());\r\n            return State.CONTINUE;\r\n        }\r\n\r\n        @Override\r\n        public FileOutputStream onCompleted(org.asynchttpclient.Response response) throws Exception {\r\n            return stream;\r\n        }\r\n    });\r\n\r\n**Apache Commons IO**:\r\n\r\n    FileUtils.copyURLToFile(new URL(FILE_URL),new File(FILE_NAME));\r\n\r\n","title":"Incomplete Downloading in Java","body":"<p>I want to download an MP3 file using this API</p>\n<pre><code>https://api.vevioz.com/@api/button/mp3/AKX91G0qNFM\n</code></pre>\n<p>I'm using Jsoup to get download URL from buttons. The problem is when I try to download, it downloads only 1.13MB of the MP3 and exits my app.</p>\n<p>I've tried all of downloading methods like: Java IO, NIO, AsyncHttpClient, Apache Commons IO.</p>\n<p>I really don't know how to successfully download my file and I didn't find any solution on internet for this problem.</p>\n<p>My Code:</p>\n<p><strong>JSoup</strong>:</p>\n<pre><code>Document doc = Jsoup.connect(&quot;https://api.vevioz.com/@api/button/mp3/AKX91G0qNFM&quot;).get();\nElement body=doc.body();\nElements elements=body.getElementsByClass(&quot;download flex flex-wrap sm:inline-flex text-center items-center justify-center&quot;);\nelements=elements.get(0).children();\nString FILE_URL=elements.get(0).attributes().get(&quot;href&quot;);\nString FILE_NAME=&quot;./downloads/1.mp3&quot;;\n</code></pre>\n<p><strong>Java IO</strong>:</p>\n<pre><code>try (BufferedInputStream in = new BufferedInputStream(new URL(FILE_URL).openStream());\n     FileOutputStream fileOutputStream = new FileOutputStream(FILE_NAME)) {\n    byte[] dataBuffer = new byte[1024];\n    int bytesRead;\n    while ((bytesRead = in.read(dataBuffer, 0, 1024)) != -1) {\n        fileOutputStream.write(dataBuffer, 0, bytesRead);\n    }\n} catch (IOException e) {\n    // handle exception\n}\n</code></pre>\n<p><strong>NIO</strong>:</p>\n<pre><code>ReadableByteChannel readableByteChannel = Channels.newChannel(new URL(FILE_URL).openStream());\nFileOutputStream fileOutputStream = new FileOutputStream(FILE_NAME);\nFileChannel fileChannel = fileOutputStream.getChannel();\nfileOutputStream.getChannel()\n        .transferFrom(readableByteChannel, 0, Long.MAX_VALUE);\n</code></pre>\n<p><strong>AsyncHttpClient</strong>:</p>\n<pre><code>AsyncHttpClient client = Dsl.asyncHttpClient();\nFileOutputStream stream = new FileOutputStream(FILE_NAME);\n\nclient.prepareGet(link).execute(new AsyncCompletionHandler&lt;FileOutputStream&gt;() {\n\n    @Override\n    public State onBodyPartReceived(HttpResponseBodyPart bodyPart)\n            throws Exception {\n        stream.getChannel().write(bodyPart.getBodyByteBuffer());\n        return State.CONTINUE;\n    }\n\n    @Override\n    public FileOutputStream onCompleted(org.asynchttpclient.Response response) throws Exception {\n        return stream;\n    }\n});\n</code></pre>\n<p><strong>Apache Commons IO</strong>:</p>\n<pre><code>FileUtils.copyURLToFile(new URL(FILE_URL),new File(FILE_NAME));\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":9602588,"reputation":146,"user_id":7129562,"accept_rate":75,"display_name":"Gabe Spound"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1487819038,"creation_date":1487818263,"answer_id":42406121,"question_id":42406070,"body_markdown":"draw2 will do the same thing as draw for things that are already shapes.  But when it says `T extends Shape`, it allows it to take in a parameter that is not a shape.  At that point, it will allow it to use the `draw` method without crashing, whether or not it&#39;s a shape, it just might not draw anything.","title":"Is there any benefits of using generic parameter rather than using the base class parameter?","body":"<p>draw2 will do the same thing as draw for things that are already shapes.  But when it says <code>T extends Shape</code>, it allows it to take in a parameter that is not a shape.  At that point, it will allow it to use the <code>draw</code> method without crashing, whether or not it's a shape, it just might not draw anything.</p>\n"},{"tags":[],"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1487818336,"creation_date":1487818336,"answer_id":42406134,"question_id":42406070,"body_markdown":"There is no difference in your scenario, because the type of the object being drawn is consumed internally in the `drawX` method.\r\n\r\nIt would make a difference if your method were to use `T` in some other context, such as returning the original back to the caller:\r\n\r\n    public static &lt;T extends Shape&gt; T draw2(T t) {\r\n        t.draw();\r\n        return t;\r\n    }\r\n\r\nThis makes a difference in situations when a subclass defines new methods on top of the base class. For example, if `Circle` defined\r\n\r\n    double radius() { return r;}\r\n\r\nyou could do the following:\r\n\r\n    double r = RenderEngine.draw1(c).radius();\r\n\r\nThis would be impossible with an implementation returning `Shape`.\r\n\r\n**Note:** The above is to demonstrate the differences, not to suggest that the new implementation is more desirable than the original one.","title":"Is there any benefits of using generic parameter rather than using the base class parameter?","body":"<p>There is no difference in your scenario, because the type of the object being drawn is consumed internally in the <code>drawX</code> method.</p>\n\n<p>It would make a difference if your method were to use <code>T</code> in some other context, such as returning the original back to the caller:</p>\n\n<pre><code>public static &lt;T extends Shape&gt; T draw2(T t) {\n    t.draw();\n    return t;\n}\n</code></pre>\n\n<p>This makes a difference in situations when a subclass defines new methods on top of the base class. For example, if <code>Circle</code> defined</p>\n\n<pre><code>double radius() { return r;}\n</code></pre>\n\n<p>you could do the following:</p>\n\n<pre><code>double r = RenderEngine.draw1(c).radius();\n</code></pre>\n\n<p>This would be impossible with an implementation returning <code>Shape</code>.</p>\n\n<p><strong>Note:</strong> The above is to demonstrate the differences, not to suggest that the new implementation is more desirable than the original one.</p>\n"}],"owner":{"account_id":8667105,"reputation":25,"user_id":6487163,"display_name":"Elliot Duan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":42406134,"answer_count":2,"score":1,"last_activity_date":1668981695,"creation_date":1487817853,"question_id":42406070,"body_markdown":"Please review the code below:\r\n\r\n    abstract class Shape {\r\n\r\n        protected double x;\r\n        protected double y;\r\n\r\n        public Shape(double x, double y) {\r\n            this.x = x;\r\n            this.y = y;\r\n        }\r\n\r\n        abstract protected void draw();\r\n    }\r\n\r\n    class Circle extends Shape {\r\n    \r\n        public Circle(double x, double y, double r) {\r\n            super(x, y);\r\n            this.r = r;\r\n        }\r\n    \r\n        protected double r;\r\n    \r\n        protected void draw() {\r\n            System.out.println(String.format(&quot;Draw Circle. %f %f %f&quot;, x, y ,r));\r\n        }\r\n    }\r\n    \r\n    class RenderEngine {\r\n        public static void draw1(Shape s) {\r\n            s.draw();\r\n        }\r\n    \r\n        public static &lt;T extends Shape&gt; void draw2(T t) {\r\n            t.draw();\r\n        }\r\n    }\r\n    \r\n    public class Runner {\r\n    \r\n        @Test\r\n        public void run() {\r\n            Circle c = new Circle(1,2,3);\r\n            RenderEngine.draw1(c);\r\n            RenderEngine.draw2(c);\r\n        }\r\n    }\r\n\r\nWhat&#39;s the difference between draw1() and draw2()? Which one is better? Does draw2() have more extensibility? Or does draw2() have better performance?\r\n","title":"Is there any benefits of using generic parameter rather than using the base class parameter?","body":"<p>Please review the code below:</p>\n<pre><code>abstract class Shape {\n\n    protected double x;\n    protected double y;\n\n    public Shape(double x, double y) {\n        this.x = x;\n        this.y = y;\n    }\n\n    abstract protected void draw();\n}\n\nclass Circle extends Shape {\n\n    public Circle(double x, double y, double r) {\n        super(x, y);\n        this.r = r;\n    }\n\n    protected double r;\n\n    protected void draw() {\n        System.out.println(String.format(&quot;Draw Circle. %f %f %f&quot;, x, y ,r));\n    }\n}\n\nclass RenderEngine {\n    public static void draw1(Shape s) {\n        s.draw();\n    }\n\n    public static &lt;T extends Shape&gt; void draw2(T t) {\n        t.draw();\n    }\n}\n\npublic class Runner {\n\n    @Test\n    public void run() {\n        Circle c = new Circle(1,2,3);\n        RenderEngine.draw1(c);\n        RenderEngine.draw2(c);\n    }\n}\n</code></pre>\n<p>What's the difference between draw1() and draw2()? Which one is better? Does draw2() have more extensibility? Or does draw2() have better performance?</p>\n"},{"tags":["java","jvm","gradle","bamboo"],"comments":[{"owner":{"account_id":31011,"reputation":122006,"user_id":84889,"display_name":"Peter Niederwieser"},"score":0,"creation_date":1392913222,"post_id":21906736,"comment_id":33189123,"body_markdown":"Why do you need this? Which bigger problem are you trying to solve? Can you give a concrete example?","body":"Why do you need this? Which bigger problem are you trying to solve? Can you give a concrete example?"},{"owner":{"account_id":7660,"reputation":15986,"user_id":13365,"accept_rate":70,"display_name":"neu242"},"score":0,"creation_date":1392971585,"post_id":21906736,"comment_id":33216366,"body_markdown":"The reason is rather stupid in my case: GradleWorkerMain processes sometimes hang on my build server.  I&#39;d like to have something to grep for when I kill it.  I can&#39;t just kill all GradleWorkerMain processes since this is a shared build server.  So a `-Dbamboo.buildKey=${bamboo.buildKey}` would do the trick.","body":"The reason is rather stupid in my case: GradleWorkerMain processes sometimes hang on my build server.  I&#39;d like to have something to grep for when I kill it.  I can&#39;t just kill all GradleWorkerMain processes since this is a shared build server.  So a <code>-Dbamboo.buildKey=${bamboo.buildKey}</code> would do the trick."}],"answers":[{"tags":[],"owner":{"account_id":31011,"reputation":122006,"user_id":84889,"display_name":"Peter Niederwieser"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1392991920,"creation_date":1392991477,"answer_id":21936624,"question_id":21906736,"body_markdown":"There is no direct way to set JVM options for a `GradleWorkerMain` process. Most (but not all) task types that fork new workers implement `JavaForkOptions`, so you could try:\r\n\r\n    tasks.withType(JavaForkOptions) {\r\n        systemProperty &quot;cool.opt&quot;, &quot;1&quot;\r\n        jvmArgs &quot;someArg&quot;\r\n    }\r\n\r\nTask types that don&#39;t implement `JavaForkOptions` typically allow to set fork options in some other way. For example:\r\n\r\n    tasks.withType(JavaCompile) {\r\n        options.fork = true // otherwise won&#39;t fork\r\n        options.forkOptions.jvmArgs = [&quot;-Dcool.opt=1&quot;]\r\n    }","title":"How do I set JVM options for GradleWorkerMain?","body":"<p>There is no direct way to set JVM options for a <code>GradleWorkerMain</code> process. Most (but not all) task types that fork new workers implement <code>JavaForkOptions</code>, so you could try:</p>\n\n<pre><code>tasks.withType(JavaForkOptions) {\n    systemProperty \"cool.opt\", \"1\"\n    jvmArgs \"someArg\"\n}\n</code></pre>\n\n<p>Task types that don't implement <code>JavaForkOptions</code> typically allow to set fork options in some other way. For example:</p>\n\n<pre><code>tasks.withType(JavaCompile) {\n    options.fork = true // otherwise won't fork\n    options.forkOptions.jvmArgs = [\"-Dcool.opt=1\"]\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1484826460,"creation_date":1484826460,"answer_id":41741060,"question_id":21906736,"body_markdown":"One similar issue I&#39;ve seen is with the gradle scala plugin. I needed to add the config below to control the Xmx.\r\n\r\n    tasks.withType(ScalaCompile) {\r\n        configure(scalaCompileOptions.forkOptions) {\r\n            memoryMaximumSize = &#39;1g&#39;\r\n        }\r\n    }","title":"How do I set JVM options for GradleWorkerMain?","body":"<p>One similar issue I've seen is with the gradle scala plugin. I needed to add the config below to control the Xmx.</p>\n\n<pre><code>tasks.withType(ScalaCompile) {\n    configure(scalaCompileOptions.forkOptions) {\n        memoryMaximumSize = '1g'\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2932396,"reputation":49,"user_id":2512273,"display_name":"Tou Hat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668981406,"creation_date":1668981406,"answer_id":74512319,"question_id":21906736,"body_markdown":"You can control it with:\r\n\r\n    test {\r\n        maxHeapSize = &quot;4g&quot;\r\n    }","title":"How do I set JVM options for GradleWorkerMain?","body":"<p>You can control it with:</p>\n<pre><code>test {\n    maxHeapSize = &quot;4g&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":7660,"reputation":15986,"user_id":13365,"accept_rate":70,"display_name":"neu242"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6534,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":21936624,"answer_count":3,"score":9,"last_activity_date":1668981406,"creation_date":1392896531,"question_id":21906736,"body_markdown":"When I set `GRADLE_OPTS` or `JAVA_OPTS`, these are set for `GradleWrapperMain` when I run `./gradlew build` for my project.  But I need them to be set for `GradleWorkerMain` as well.  \r\n\r\nHow do I do that?\r\n\r\nHere&#39;s the `ps` listing when that Gradle job is running in Bamboo. My `JAVA_OPTS` (such as `-Dcool.opt=1`) is missing from `GradleWorkerMain`.\r\n\r\n    53854 ? Sl 2:13 /home/apps/jdk7/bin/java -Dorg.gradle.daemon=false -Dcool.opt=1 -Xms1g -Xmx8g -XX:PermSize=256m -XX:MaxPermSize=768m -Djava.security.egd=file:/dev/./urandom -Dorg.gradle.appname=gradlew -classpath /path/to/gradle/wrapper/gradle-wrapper.jar org.gradle.wrapper.GradleWrapperMain build\r\n    54272 ? Sl 0:19 /home/apps/jdk1.7.0_45/bin/java -Dfile.encoding=ISO-8859-1 -cp /path/to/lots/of/jars.jar org.gradle.process.internal.launcher.GradleWorkerMain\r\n","title":"How do I set JVM options for GradleWorkerMain?","body":"<p>When I set <code>GRADLE_OPTS</code> or <code>JAVA_OPTS</code>, these are set for <code>GradleWrapperMain</code> when I run <code>./gradlew build</code> for my project.  But I need them to be set for <code>GradleWorkerMain</code> as well.  </p>\n\n<p>How do I do that?</p>\n\n<p>Here's the <code>ps</code> listing when that Gradle job is running in Bamboo. My <code>JAVA_OPTS</code> (such as <code>-Dcool.opt=1</code>) is missing from <code>GradleWorkerMain</code>.</p>\n\n<pre><code>53854 ? Sl 2:13 /home/apps/jdk7/bin/java -Dorg.gradle.daemon=false -Dcool.opt=1 -Xms1g -Xmx8g -XX:PermSize=256m -XX:MaxPermSize=768m -Djava.security.egd=file:/dev/./urandom -Dorg.gradle.appname=gradlew -classpath /path/to/gradle/wrapper/gradle-wrapper.jar org.gradle.wrapper.GradleWrapperMain build\n54272 ? Sl 0:19 /home/apps/jdk1.7.0_45/bin/java -Dfile.encoding=ISO-8859-1 -cp /path/to/lots/of/jars.jar org.gradle.process.internal.launcher.GradleWorkerMain\n</code></pre>\n"},{"tags":["java","amazon-s3","minio","testcontainers"],"answers":[{"tags":[],"owner":{"account_id":6197039,"reputation":6332,"user_id":4828060,"accept_rate":21,"display_name":"Jo&#227;o Matos"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1652388141,"creation_date":1652388141,"answer_id":72221858,"question_id":72205086,"body_markdown":"I was able to find a solution. Looking at the method used by the resolver:\r\n\r\n    private boolean shouldUseVirtualAddressing(final URI endpoint) {\r\n        return !isPathStyleAccess &amp;&amp; BucketNameUtils.isDNSBucketName(bucketName)\r\n                &amp;&amp; !isValidIpV4Address(endpoint.getHost());\r\n    }\r\n\r\nwhich was returning true and leading the flow to the wrong concatenation I found that we can set the first variable `isPathStyleAccess` when building the client. In my case, I created a bean in my test configuration to override the main one:\r\n\r\n    @Bean\r\n    @Primary\r\n    public AmazonS3 amazonS3() {\r\n    \r\n    \treturn AmazonS3Client.builder()\r\n    \t\t.withPathStyleAccessEnabled(true) //HERE\r\n    \t\t.withCredentials(new AWSStaticCredentialsProvider(\r\n    \t\t\tnew BasicAWSCredentials(AWS_ACCESS_KEY.getValue(), AWS_SECRET_KEY.getValue())\r\n    \t\t))\r\n    \t\t.withEndpointConfiguration(\r\n    \t\t\tnew AwsClientBuilder.EndpointConfiguration(s3Endpoint, region)\r\n    \t\t)\r\n    \t\t.build();\r\n    \t\r\n    }\r\n\r\n","title":"AmazonsS3Client throws UnknownHostException if attempting to connect to a local service (MinIO)","body":"<p>I was able to find a solution. Looking at the method used by the resolver:</p>\n<pre><code>private boolean shouldUseVirtualAddressing(final URI endpoint) {\n    return !isPathStyleAccess &amp;&amp; BucketNameUtils.isDNSBucketName(bucketName)\n            &amp;&amp; !isValidIpV4Address(endpoint.getHost());\n}\n</code></pre>\n<p>which was returning true and leading the flow to the wrong concatenation I found that we can set the first variable <code>isPathStyleAccess</code> when building the client. In my case, I created a bean in my test configuration to override the main one:</p>\n<pre><code>@Bean\n@Primary\npublic AmazonS3 amazonS3() {\n\n    return AmazonS3Client.builder()\n        .withPathStyleAccessEnabled(true) //HERE\n        .withCredentials(new AWSStaticCredentialsProvider(\n            new BasicAWSCredentials(AWS_ACCESS_KEY.getValue(), AWS_SECRET_KEY.getValue())\n        ))\n        .withEndpointConfiguration(\n            new AwsClientBuilder.EndpointConfiguration(s3Endpoint, region)\n        )\n        .build();\n    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10230140,"reputation":659,"user_id":7551211,"display_name":"user7551211"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668981397,"creation_date":1668981397,"answer_id":74512318,"question_id":72205086,"body_markdown":"For the SDK V2, the solution was pretty similar:\r\n```java\r\nS3AsyncClient s3 = S3AsyncClient.builder()\r\n                .forcePathStyle(true) // adding this one\r\n                .endpointOverride(new URI(s3Endpoint))\r\n                .credentialsProvider(() -&gt; AwsBasicCredentials.create(s3Properties.getAccessKey(), s3Properties.getSecretKey()))\r\n                .build()\r\n```\r\n","title":"AmazonsS3Client throws UnknownHostException if attempting to connect to a local service (MinIO)","body":"<p>For the SDK V2, the solution was pretty similar:</p>\n<pre class=\"lang-java prettyprint-override\"><code>S3AsyncClient s3 = S3AsyncClient.builder()\n                .forcePathStyle(true) // adding this one\n                .endpointOverride(new URI(s3Endpoint))\n                .credentialsProvider(() -&gt; AwsBasicCredentials.create(s3Properties.getAccessKey(), s3Properties.getSecretKey()))\n                .build()\n</code></pre>\n"}],"owner":{"account_id":6197039,"reputation":6332,"user_id":4828060,"accept_rate":21,"display_name":"Jo&#227;o Matos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2535,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":72221858,"answer_count":2,"score":5,"last_activity_date":1668981397,"creation_date":1652289263,"question_id":72205086,"body_markdown":"In Short: Using `AmazonS3Client` to connect to a local instance of `MinIO` results in a `UnknownHostException` thrown because the url is resolved to `http://{bucket_name}.localhost:port`. \r\n\r\n---\r\nDetailed description of the problem:\r\n\r\nI&#39;m creating an integration test for a Java service that uses AmazonS3Client lib to retrieve content from S3. I&#39;m using MinIO inside a test container to perform the role of Amazon S3, as follows:\r\n\r\n    @Container\r\n\tstatic final GenericContainer&lt;?&gt; minioContainer = new GenericContainer&lt;&gt;(&quot;minio/minio:latest&quot;)\r\n\t\t.withCommand(&quot;server /data&quot;)\r\n\t\t.withEnv(\r\n\t\t\tMap.of(\r\n\t\t\t\t&quot;MINIO_ACCESS_KEY&quot;, AWS_ACCESS_KEY.getValue(),\r\n\t\t\t\t&quot;MINIO_SECRET_KEY&quot;, AWS_SECRET_KEY.getValue()\r\n\t\t\t)\r\n\t\t)\r\n\t\t.withExposedPorts(MINIO_PORT)\r\n\t\t.waitingFor(new HttpWaitStrategy()\r\n\t\t\t.forPath(&quot;/minio/health/ready&quot;)\r\n\t\t\t.forPort(MINIO_PORT)\r\n\t\t\t.withStartupTimeout(Duration.ofSeconds(10)));\r\n\r\nand then I export its url dynamically (because test containers are deployed at a random port) using something like this:\r\n\r\n    String.format(&quot;http://%s:%s&quot;, minioContainer.getHost(), minioContainer.getFirstMappedPort())\r\n\r\nwhich in turn results in a url like this:\r\n\r\n    http://localhost:54123\r\n\r\nThe problem I encountered during the runtime of my test lies within the actual implementation of `AmazonS3Client.getObject(String,String)` - when creating the request it performs the following validation (class `S3RequestEndpointResolver`, method `resolveRequestEndpoint`):\r\n\r\n    ...    \r\n    if (shouldUseVirtualAddressing(endpoint)) {\r\n            request.setEndpoint(convertToVirtualHostEndpoint(endpoint, bucketName));\r\n            request.setResourcePath(SdkHttpUtils.urlEncode(getHostStyleResourcePath(), true));\r\n        } else {\r\n            request.setEndpoint(endpoint);\r\n            request.setResourcePath(SdkHttpUtils.urlEncode(getPathStyleResourcePath(), true));\r\n        }\r\n    }\r\n    \r\n    private boolean shouldUseVirtualAddressing(final URI endpoint) {\r\n        return !isPathStyleAccess &amp;&amp; BucketNameUtils.isDNSBucketName(bucketName)\r\n                &amp;&amp; !isValidIpV4Address(endpoint.getHost());\r\n    }\r\n\r\nThis in turn returns `true` for the url `http://localhost:54123` and as a result this method \r\n\r\n    private static URI convertToVirtualHostEndpoint(URI endpoint, String bucketName) {\r\n        try {\r\n            return new URI(String.format(&quot;%s://%s.%s&quot;, endpoint.getScheme(), bucketName, endpoint.getAuthority()));\r\n        } catch (URISyntaxException e) {\r\n            throw new IllegalArgumentException(&quot;Invalid bucket name: &quot; + bucketName, e);\r\n        }\r\n    }\r\n\r\nconcatenates the name of the bucket to the host resulting in: `http://mybucket.localhost:54123` and this ultimately results in a `UnknownHostException` to be thrown. I can work around this by setting the host to `0.0.0.0` instead of `localhost`, but this is hardly a solution. \r\n\r\nTherefore I was wondering if i) this a bug/limitation in `AmazonS3Client`?; ii) I&#39;m the one who is missing something, e.g. poor configuration ?\r\n\r\n\r\nThank you for your time","title":"AmazonsS3Client throws UnknownHostException if attempting to connect to a local service (MinIO)","body":"<p>In Short: Using <code>AmazonS3Client</code> to connect to a local instance of <code>MinIO</code> results in a <code>UnknownHostException</code> thrown because the url is resolved to <code>http://{bucket_name}.localhost:port</code>.</p>\n<hr />\n<p>Detailed description of the problem:</p>\n<p>I'm creating an integration test for a Java service that uses AmazonS3Client lib to retrieve content from S3. I'm using MinIO inside a test container to perform the role of Amazon S3, as follows:</p>\n<pre><code>@Container\nstatic final GenericContainer&lt;?&gt; minioContainer = new GenericContainer&lt;&gt;(&quot;minio/minio:latest&quot;)\n    .withCommand(&quot;server /data&quot;)\n    .withEnv(\n        Map.of(\n            &quot;MINIO_ACCESS_KEY&quot;, AWS_ACCESS_KEY.getValue(),\n            &quot;MINIO_SECRET_KEY&quot;, AWS_SECRET_KEY.getValue()\n        )\n    )\n    .withExposedPorts(MINIO_PORT)\n    .waitingFor(new HttpWaitStrategy()\n        .forPath(&quot;/minio/health/ready&quot;)\n        .forPort(MINIO_PORT)\n        .withStartupTimeout(Duration.ofSeconds(10)));\n</code></pre>\n<p>and then I export its url dynamically (because test containers are deployed at a random port) using something like this:</p>\n<pre><code>String.format(&quot;http://%s:%s&quot;, minioContainer.getHost(), minioContainer.getFirstMappedPort())\n</code></pre>\n<p>which in turn results in a url like this:</p>\n<pre><code>http://localhost:54123\n</code></pre>\n<p>The problem I encountered during the runtime of my test lies within the actual implementation of <code>AmazonS3Client.getObject(String,String)</code> - when creating the request it performs the following validation (class <code>S3RequestEndpointResolver</code>, method <code>resolveRequestEndpoint</code>):</p>\n<pre><code>...    \nif (shouldUseVirtualAddressing(endpoint)) {\n        request.setEndpoint(convertToVirtualHostEndpoint(endpoint, bucketName));\n        request.setResourcePath(SdkHttpUtils.urlEncode(getHostStyleResourcePath(), true));\n    } else {\n        request.setEndpoint(endpoint);\n        request.setResourcePath(SdkHttpUtils.urlEncode(getPathStyleResourcePath(), true));\n    }\n}\n\nprivate boolean shouldUseVirtualAddressing(final URI endpoint) {\n    return !isPathStyleAccess &amp;&amp; BucketNameUtils.isDNSBucketName(bucketName)\n            &amp;&amp; !isValidIpV4Address(endpoint.getHost());\n}\n</code></pre>\n<p>This in turn returns <code>true</code> for the url <code>http://localhost:54123</code> and as a result this method</p>\n<pre><code>private static URI convertToVirtualHostEndpoint(URI endpoint, String bucketName) {\n    try {\n        return new URI(String.format(&quot;%s://%s.%s&quot;, endpoint.getScheme(), bucketName, endpoint.getAuthority()));\n    } catch (URISyntaxException e) {\n        throw new IllegalArgumentException(&quot;Invalid bucket name: &quot; + bucketName, e);\n    }\n}\n</code></pre>\n<p>concatenates the name of the bucket to the host resulting in: <code>http://mybucket.localhost:54123</code> and this ultimately results in a <code>UnknownHostException</code> to be thrown. I can work around this by setting the host to <code>0.0.0.0</code> instead of <code>localhost</code>, but this is hardly a solution.</p>\n<p>Therefore I was wondering if i) this a bug/limitation in <code>AmazonS3Client</code>?; ii) I'm the one who is missing something, e.g. poor configuration ?</p>\n<p>Thank you for your time</p>\n"},{"tags":["java","swing","jdialog"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1572833397,"post_id":58682663,"comment_id":103671667,"body_markdown":"Don&#39;t know if will make a difference but you should be using `requestFocusInWindow()` to typically set focus on a Swing component. Also, it is not recommended, but maybe `grabFocus()` will work. Read the API for the differences between the two methods.","body":"Don&#39;t know if will make a difference but you should be using <code>requestFocusInWindow()</code> to typically set focus on a Swing component. Also, it is not recommended, but maybe <code>grabFocus()</code> will work. Read the API for the differences between the two methods."},{"owner":{"account_id":2238968,"reputation":689,"user_id":1974520,"accept_rate":56,"display_name":"vda8888"},"score":0,"creation_date":1572838709,"post_id":58682663,"comment_id":103672533,"body_markdown":"I just tried both requestFocusInWindow() and grabFocus() and both have the  same problem in the question.","body":"I just tried both requestFocusInWindow() and grabFocus() and both have the  same problem in the question."},{"owner":{"account_id":87845,"reputation":15821,"user_id":243373,"accept_rate":100,"display_name":"TT."},"score":0,"creation_date":1572856766,"post_id":58682663,"comment_id":103677311,"body_markdown":"I&#39;m not entirely sure, but perhaps this is what you want: see my answer [here](https://stackoverflow.com/a/34694266/243373).","body":"I&#39;m not entirely sure, but perhaps this is what you want: see my answer <a href=\"https://stackoverflow.com/a/34694266/243373\">here</a>."}],"answers":[{"tags":[],"owner":{"account_id":2238968,"reputation":689,"user_id":1974520,"accept_rate":56,"display_name":"vda8888"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668980765,"creation_date":1668980765,"answer_id":74512263,"question_id":58682663,"body_markdown":"I ended up using TT answer [here][1].\r\n\r\nBasically the idea is to use java.awt.Robot to move the mouse and click on the popup dialog to gain focus.\r\n\r\nIt works most of the time, but mouse movement is weird when you have multiple screens so special case handling is needed.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/34637597/bring-jframe-window-to-the-front/34694266#34694266","title":"JDialog not focused on OSX when Java is not on top","body":"<p>I ended up using TT answer <a href=\"https://stackoverflow.com/questions/34637597/bring-jframe-window-to-the-front/34694266#34694266\">here</a>.</p>\n<p>Basically the idea is to use java.awt.Robot to move the mouse and click on the popup dialog to gain focus.</p>\n<p>It works most of the time, but mouse movement is weird when you have multiple screens so special case handling is needed.</p>\n"}],"owner":{"account_id":2238968,"reputation":689,"user_id":1974520,"accept_rate":56,"display_name":"vda8888"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74512263,"answer_count":1,"score":0,"last_activity_date":1668980765,"creation_date":1572801368,"question_id":58682663,"body_markdown":"My JDialog is not focused when the Java program is not in the front in OSX. How do I achieve this?\r\n\r\nI have the following test program to illustrate the scenario (at the bottom), running using `javac Test.java &amp;&amp; java Test` from a terminal.\r\n\r\nWhen the terminal output &quot;Started first&quot;, it will change focus to the Java program. I remove focus from the launched Java program by clicking on the terminal (or some other program). The second JDialog shown with &quot;Second test&quot; text will not be focused. This is the same even if I set `dialog.setAlwaysOnTop(true);`\r\n\r\nThe JDialog with &quot;Second test&quot; text is correctly focused when I leave the Java program stay on top after seeing &quot;Started first&quot; (i.e. not clicking somewhere else so that the launched Java program is on top).\r\n\r\nNote that my Java program doesn&#39;t have a Swing UI. It runs in the background and pops up JDialog to take user input. This works fine on both Windows and Linux (the created JDialog is focused regardless of which application is in focus at the time).\r\n\r\n\r\n\r\n    public class Test {\r\n        public static void main(String[] args) throws Exception {\r\n\r\n            Thread t = new Thread() {\r\n                @Override\r\n                public void run() {\r\n                    SwingUtilities.invokeLater(new Runnable() {\r\n                        public void run() {\r\n                            launch(&quot;First test&quot;);\r\n                        }\r\n                    });\r\n                }\r\n            };\r\n            Thread t2 = new Thread() {\r\n                @Override\r\n                public void run() {\r\n                    SwingUtilities.invokeLater(new Runnable() {\r\n                        public void run() {\r\n                            launch(&quot;Second test&quot;);\r\n                        }\r\n                    });\r\n                }\r\n            };\r\n\r\n            t.start();\r\n            System.out.println(&quot;Started first&quot;);\r\n            Thread.sleep(5000);\r\n            System.out.println(&quot;Started second&quot;);\r\n            t2.start();\r\n        }\r\n\r\n        private static void launch(String title) {\r\n            System.out.println(&quot;Showing&quot;);\r\n            System.out.println(Thread.currentThread().getName());\r\n\r\n            final JDialog dialog = new JDialog(null, &quot;Test&quot;, ModalityType.APPLICATION_MODAL);\r\n            dialog.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n\r\n            final JTextField searchBar = new JTextField(title);\r\n            JPanel panel = new JPanel();\r\n            panel.setLayout(new BoxLayout(panel, BoxLayout.Y_AXIS));\r\n            panel.add(searchBar);\r\n            dialog.add(panel);\r\n            dialog.pack();\r\n            dialog.setLocationRelativeTo(null);\r\n            searchBar.requestFocus();\r\n            SwingUtilities.invokeLater(new Runnable() {  \r\n                public void run() { \r\n                    searchBar.requestFocus();\r\n                }\r\n            });\r\n            dialog.setVisible(true);\r\n            System.out.println(&quot;Result is &quot; + searchBar.getText());\r\n        }\r\n    }\r\n\r\n","title":"JDialog not focused on OSX when Java is not on top","body":"<p>My JDialog is not focused when the Java program is not in the front in OSX. How do I achieve this?</p>\n\n<p>I have the following test program to illustrate the scenario (at the bottom), running using <code>javac Test.java &amp;&amp; java Test</code> from a terminal.</p>\n\n<p>When the terminal output \"Started first\", it will change focus to the Java program. I remove focus from the launched Java program by clicking on the terminal (or some other program). The second JDialog shown with \"Second test\" text will not be focused. This is the same even if I set <code>dialog.setAlwaysOnTop(true);</code></p>\n\n<p>The JDialog with \"Second test\" text is correctly focused when I leave the Java program stay on top after seeing \"Started first\" (i.e. not clicking somewhere else so that the launched Java program is on top).</p>\n\n<p>Note that my Java program doesn't have a Swing UI. It runs in the background and pops up JDialog to take user input. This works fine on both Windows and Linux (the created JDialog is focused regardless of which application is in focus at the time).</p>\n\n<pre><code>public class Test {\n    public static void main(String[] args) throws Exception {\n\n        Thread t = new Thread() {\n            @Override\n            public void run() {\n                SwingUtilities.invokeLater(new Runnable() {\n                    public void run() {\n                        launch(\"First test\");\n                    }\n                });\n            }\n        };\n        Thread t2 = new Thread() {\n            @Override\n            public void run() {\n                SwingUtilities.invokeLater(new Runnable() {\n                    public void run() {\n                        launch(\"Second test\");\n                    }\n                });\n            }\n        };\n\n        t.start();\n        System.out.println(\"Started first\");\n        Thread.sleep(5000);\n        System.out.println(\"Started second\");\n        t2.start();\n    }\n\n    private static void launch(String title) {\n        System.out.println(\"Showing\");\n        System.out.println(Thread.currentThread().getName());\n\n        final JDialog dialog = new JDialog(null, \"Test\", ModalityType.APPLICATION_MODAL);\n        dialog.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n\n        final JTextField searchBar = new JTextField(title);\n        JPanel panel = new JPanel();\n        panel.setLayout(new BoxLayout(panel, BoxLayout.Y_AXIS));\n        panel.add(searchBar);\n        dialog.add(panel);\n        dialog.pack();\n        dialog.setLocationRelativeTo(null);\n        searchBar.requestFocus();\n        SwingUtilities.invokeLater(new Runnable() {  \n            public void run() { \n                searchBar.requestFocus();\n            }\n        });\n        dialog.setVisible(true);\n        System.out.println(\"Result is \" + searchBar.getText());\n    }\n}\n</code></pre>\n"},{"tags":["java","priority-queue"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1668979153,"post_id":74511943,"comment_id":131531903,"body_markdown":"your `Comparator` is broken, please consult its [documentation](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Comparator.html#compare(T,T))  (e.g. &quot;*Returns a negative integer, zero, or a positive integer as the first argument is less than, equal to, or greater than the second.*&quot;, &quot;*The implementor must ensure that signum(compare(x, y)) == -signum(compare(y, x)) for all x and y*&quot;, ...)","body":"your <code>Comparator</code> is broken, please consult its <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Comparator.html#compare(T,T)\" rel=\"nofollow noreferrer\">documentation</a>  (e.g. &quot;<i>Returns a negative integer, zero, or a positive integer as the first argument is less than, equal to, or greater than the second.</i>&quot;, &quot;<i>The implementor must ensure that signum(compare(x, y)) == -signum(compare(y, x)) for all x and y</i>&quot;, ...)"}],"answers":[{"tags":[],"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668979704,"creation_date":1668979704,"answer_id":74512146,"question_id":74511943,"body_markdown":"Your `compare()` method is not checking both `String` objects coming in. That makes it difficult to compare two strings when you look only at one. Also, your `compare()` method is not symmetric in a sense that `sgn(compare(x,y))` is not the same as `-sgn(compare(y,x))` (notice the `-`), as defined in https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#compare-T-T-. Which makes it very difficult (or unpredictable) how the `String` objects are ordered inside by the `PriorityQueue`.\r\n\r\nWhen you want some kind of &quot;VIP&quot; `String` list, which are sorted at the beginning, you have to check for several situations for the `compare(x, y)` method:\r\n\r\n* `x` is a &quot;VIP&quot; value, but `y` is not.\r\n* `x` is a &quot;VIP&quot; value as well as `y`.\r\n* `x` is not a &quot;VIP&quot; value, but `y` is.\r\n* `x` is not a &quot;VIP&quot; value, neither is `y`.\r\n\r\nSpecially, when the values are both &quot;VIP&quot; values or are both NOT &quot;VIP&quot; values, you still have to return a reasonable compare value for these strings. The approach is to handle the cases first where one value is in the &quot;VIP&quot; list and the other is not. After that, compare the strings as normal using [`String.compareTo()`](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#compareTo-java.lang.String-). The method can look like this:\r\n\r\n    public int compare(String o1, String o2) {\r\n        if (valueStringsList.contains(o1) &amp;&amp;\r\n            !valueStringsList.contains(o2)) {\r\n            return -1; // only o1 is a &quot;VIP&quot;\r\n        }\r\n        if (!valueStringsList.contains(o1) &amp;&amp;\r\n            valueStringsList.contains(o2)) {\r\n            return 1;  // only o2 is a &quot;VIP&quot;\r\n        }\r\n        return o1.compareTo(o2); // normal sorting\r\n    }\r\n\r\n*(You might need to swap `1` and `-1`)*","title":"Java Priority Queue Compare String to String[]","body":"<p>Your <code>compare()</code> method is not checking both <code>String</code> objects coming in. That makes it difficult to compare two strings when you look only at one. Also, your <code>compare()</code> method is not symmetric in a sense that <code>sgn(compare(x,y))</code> is not the same as <code>-sgn(compare(y,x))</code> (notice the <code>-</code>), as defined in <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#compare-T-T-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#compare-T-T-</a>. Which makes it very difficult (or unpredictable) how the <code>String</code> objects are ordered inside by the <code>PriorityQueue</code>.</p>\n<p>When you want some kind of &quot;VIP&quot; <code>String</code> list, which are sorted at the beginning, you have to check for several situations for the <code>compare(x, y)</code> method:</p>\n<ul>\n<li><code>x</code> is a &quot;VIP&quot; value, but <code>y</code> is not.</li>\n<li><code>x</code> is a &quot;VIP&quot; value as well as <code>y</code>.</li>\n<li><code>x</code> is not a &quot;VIP&quot; value, but <code>y</code> is.</li>\n<li><code>x</code> is not a &quot;VIP&quot; value, neither is <code>y</code>.</li>\n</ul>\n<p>Specially, when the values are both &quot;VIP&quot; values or are both NOT &quot;VIP&quot; values, you still have to return a reasonable compare value for these strings. The approach is to handle the cases first where one value is in the &quot;VIP&quot; list and the other is not. After that, compare the strings as normal using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#compareTo-java.lang.String-\" rel=\"nofollow noreferrer\"><code>String.compareTo()</code></a>. The method can look like this:</p>\n<pre><code>public int compare(String o1, String o2) {\n    if (valueStringsList.contains(o1) &amp;&amp;\n        !valueStringsList.contains(o2)) {\n        return -1; // only o1 is a &quot;VIP&quot;\n    }\n    if (!valueStringsList.contains(o1) &amp;&amp;\n        valueStringsList.contains(o2)) {\n        return 1;  // only o2 is a &quot;VIP&quot;\n    }\n    return o1.compareTo(o2); // normal sorting\n}\n</code></pre>\n<p><em>(You might need to swap <code>1</code> and <code>-1</code>)</em></p>\n"},{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668980148,"creation_date":1668980148,"answer_id":74512191,"question_id":74511943,"body_markdown":"The logic is off. You need to return 0 iff both are present or both are absent. Here&#39;s one way to achieve that:\r\n\r\n    public int compare(String o1, String o2) {\r\n        List&lt;String&gt; list = Arrays.asList(valueStrings);\r\n        boolean found1 = list.contains(o1);\r\n        boolean found2 = list.contains(o2);\r\n        return found1 == found2 ? 0 : found1 ? -1 : 1;\r\n    }\r\n\r\nAlternatively, you can construct a comparator from a lambda instead of implementing it by hand:\r\n\r\n    Comparator.comparing(Arrays.asList(valueStrings)::contains).reversed()","title":"Java Priority Queue Compare String to String[]","body":"<p>The logic is off. You need to return 0 iff both are present or both are absent. Here's one way to achieve that:</p>\n<pre><code>public int compare(String o1, String o2) {\n    List&lt;String&gt; list = Arrays.asList(valueStrings);\n    boolean found1 = list.contains(o1);\n    boolean found2 = list.contains(o2);\n    return found1 == found2 ? 0 : found1 ? -1 : 1;\n}\n</code></pre>\n<p>Alternatively, you can construct a comparator from a lambda instead of implementing it by hand:</p>\n<pre><code>Comparator.comparing(Arrays.asList(valueStrings)::contains).reversed()\n</code></pre>\n"}],"owner":{"account_id":9993220,"reputation":611,"user_id":7391720,"accept_rate":38,"display_name":"efoc"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74512146,"answer_count":2,"score":0,"last_activity_date":1668980229,"creation_date":1668977865,"question_id":74511943,"body_markdown":"I am getting confused on the PriorityQueue, not sure if there is a different method for my use case.\r\n\r\nInstead of comparing two Strings, I want to compare the incoming Strings against a String[].\r\n\r\nIt somewhat works but the head node does not move.\r\n\r\nMain:\r\n```\r\npublic class App \r\n{\r\n    public static void main( String[] args )\r\n    {\r\n    \tPriorityString priorityString = new PriorityString();\r\n    \t\r\n    \tPriorityQueue&lt;String&gt; priorityQueue = new PriorityQueue&lt;String&gt;(priorityString);\r\n    \t\r\n    \tpriorityQueue.add(&quot;test&quot;);\r\n    \tpriorityQueue.add(&quot;john&quot;);\r\n    \tpriorityQueue.add(&quot;blue&quot;);\r\n    \tpriorityQueue.add(&quot;orange&quot;);\r\n    \tpriorityQueue.add(&quot;grape&quot;);\r\n    \tpriorityQueue.add(&quot;handle&quot;);\r\n    \t\r\n    \twhile (!priorityQueue.isEmpty()) {\r\n    \t\tSystem.out.println(&quot;Removed: &quot; + priorityQueue.remove());\r\n    \t} \r\n    }\r\n}\r\n\r\n```\r\nComparator class:\r\n```\r\npublic class PriorityString implements Comparator&lt;String&gt; {\r\n\t\r\n\tString[] valueStrings;\r\n\t\r\n\tPriorityString() {\r\n\t\tvalueStrings = new String[] {&quot;all&quot;, &quot;john&quot;, &quot;door&quot;, &quot;floor&quot;, &quot;record&quot;, &quot;desk&quot;, &quot;orange&quot;};\r\n\t}\r\n\r\n\tpublic int compare(String o1, String o2) {\r\n\t\tif (Arrays.asList(valueStrings).contains(o1))\r\n\t\t\treturn 0;\r\n\t\telse\r\n\t\t\treturn 1;\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nResult:\r\n```\r\nRemoved: test\r\nRemoved: john\r\nRemoved: orange\r\nRemoved: blue\r\nRemoved: handle\r\nRemoved: grape\r\n\r\n```\r\n\r\nThe values &#39;test&#39; comes first all the time even though it is not in the String[].\r\nThe other values seem to be in the correct order since &#39;john&#39; and &#39;orange&#39; are in the String[] and the rest is not.\r\n\r\nWhat is the issue and is this the right way to implement my use case?\r\n\r\nEdit: I have also tried this\r\n```\r\n\tpublic int compare(String o1, String o2) {\r\n\t\tif (Arrays.asList(valueStrings).contains(o1))\r\n\t\t\treturn -1;\r\n\t\telse if (Arrays.asList(valueStrings).contains(o2)) \r\n\t\t\treturn 0;\r\n\t\telse\r\n\t\t\treturn 1;\r\n\t}\r\n```\r\nWhich gives this result:\r\n```\r\nRemoved: orange\r\nRemoved: handle\r\nRemoved: grape\r\nRemoved: test\r\nRemoved: blue\r\nRemoved: john\r\n```\r\norange is in the right place by john is at the bottom when it should be right after orange\r\n\r\nNew Edit: after rereading the doc as per the comment, I managed to get a working version implemented in this way. Probably will add @Progman else return.\r\n```\r\n\tpublic int compare(String o1, String o2) {\r\n\t\tif (Arrays.asList(valueStrings).contains(o1))\r\n\t\t\treturn -1;\r\n\t\telse if (Arrays.asList(valueStrings).contains(o2)) \r\n\t\t\treturn 1;\r\n\t\telse\r\n\t\t\treturn 0;\r\n\t}\r\n```\r\nResult:\r\n```\r\nRemoved: orange\r\nRemoved: john\r\nRemoved: grape\r\nRemoved: test\r\nRemoved: blue\r\nRemoved: handle\r\n\r\n```","title":"Java Priority Queue Compare String to String[]","body":"<p>I am getting confused on the PriorityQueue, not sure if there is a different method for my use case.</p>\n<p>Instead of comparing two Strings, I want to compare the incoming Strings against a String[].</p>\n<p>It somewhat works but the head node does not move.</p>\n<p>Main:</p>\n<pre><code>public class App \n{\n    public static void main( String[] args )\n    {\n        PriorityString priorityString = new PriorityString();\n        \n        PriorityQueue&lt;String&gt; priorityQueue = new PriorityQueue&lt;String&gt;(priorityString);\n        \n        priorityQueue.add(&quot;test&quot;);\n        priorityQueue.add(&quot;john&quot;);\n        priorityQueue.add(&quot;blue&quot;);\n        priorityQueue.add(&quot;orange&quot;);\n        priorityQueue.add(&quot;grape&quot;);\n        priorityQueue.add(&quot;handle&quot;);\n        \n        while (!priorityQueue.isEmpty()) {\n            System.out.println(&quot;Removed: &quot; + priorityQueue.remove());\n        } \n    }\n}\n\n</code></pre>\n<p>Comparator class:</p>\n<pre><code>public class PriorityString implements Comparator&lt;String&gt; {\n    \n    String[] valueStrings;\n    \n    PriorityString() {\n        valueStrings = new String[] {&quot;all&quot;, &quot;john&quot;, &quot;door&quot;, &quot;floor&quot;, &quot;record&quot;, &quot;desk&quot;, &quot;orange&quot;};\n    }\n\n    public int compare(String o1, String o2) {\n        if (Arrays.asList(valueStrings).contains(o1))\n            return 0;\n        else\n            return 1;\n    }\n\n}\n\n</code></pre>\n<p>Result:</p>\n<pre><code>Removed: test\nRemoved: john\nRemoved: orange\nRemoved: blue\nRemoved: handle\nRemoved: grape\n\n</code></pre>\n<p>The values 'test' comes first all the time even though it is not in the String[].\nThe other values seem to be in the correct order since 'john' and 'orange' are in the String[] and the rest is not.</p>\n<p>What is the issue and is this the right way to implement my use case?</p>\n<p>Edit: I have also tried this</p>\n<pre><code>    public int compare(String o1, String o2) {\n        if (Arrays.asList(valueStrings).contains(o1))\n            return -1;\n        else if (Arrays.asList(valueStrings).contains(o2)) \n            return 0;\n        else\n            return 1;\n    }\n</code></pre>\n<p>Which gives this result:</p>\n<pre><code>Removed: orange\nRemoved: handle\nRemoved: grape\nRemoved: test\nRemoved: blue\nRemoved: john\n</code></pre>\n<p>orange is in the right place by john is at the bottom when it should be right after orange</p>\n<p>New Edit: after rereading the doc as per the comment, I managed to get a working version implemented in this way. Probably will add @Progman else return.</p>\n<pre><code>    public int compare(String o1, String o2) {\n        if (Arrays.asList(valueStrings).contains(o1))\n            return -1;\n        else if (Arrays.asList(valueStrings).contains(o2)) \n            return 1;\n        else\n            return 0;\n    }\n</code></pre>\n<p>Result:</p>\n<pre><code>Removed: orange\nRemoved: john\nRemoved: grape\nRemoved: test\nRemoved: blue\nRemoved: handle\n\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver","webdriverwait"],"answers":[{"tags":[],"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668971999,"creation_date":1668971309,"answer_id":74511112,"question_id":74510982,"body_markdown":"The main issue you asking about here caused by the following fact:   \r\nYou are collecting the links on a &quot;new&quot; page immediately after clicking on the pagination button, so that page is not got changed yet.  \r\nWhat you should do:  \r\n1) Introduce the `WebDriverWait` `ExpectedConditions` to wait for collected elements.  \r\nBoth on the first page and on all the other pages.  \r\n2) Add a small delay after clicking the pagination button so that this will wait for really new elements on a new page.  \r\n\r\nSo, your existing code can be changed as following:\r\n```java\r\npublic static void main(String[] args){\r\n    WebDriver driver = new HtmlUnitDriver();\r\n    WebDriverWait wait = new WebDriverWait(driver, 30);\r\n    driver.get(&quot;https://www.cia.gov/the-world-factbook/countries/&quot;);\r\n    ArrayList&lt;WebElement&gt; links = wait.until(ExpectedConditions.visibilityOfAllElementLocated(By.className(&quot;inline-link&quot;)));\r\n    System.out.println(links);\r\n    driver.findElement(By.cssSelector(&quot;span[class=&#39;pagination__arrow-right&#39;]&quot;)).click();\r\n    Thread.sleep(400);\r\n    links = wait.until(ExpectedConditions.visibilityOfAllElementLocated(By.className(&quot;inline-link&quot;)));\r\n    System.out.println(links);\r\n    driver.close();\r\n}\r\n```\r\nThe code above should give you another values in `list` after clicking the pagination.","title":"Parsing a dynamic table with Selenium and Java","body":"<p>The main issue you asking about here caused by the following fact:<br />\nYou are collecting the links on a &quot;new&quot; page immediately after clicking on the pagination button, so that page is not got changed yet.<br />\nWhat you should do:</p>\n<ol>\n<li>Introduce the <code>WebDriverWait</code> <code>ExpectedConditions</code> to wait for collected elements.<br />\nBoth on the first page and on all the other pages.</li>\n<li>Add a small delay after clicking the pagination button so that this will wait for really new elements on a new page.</li>\n</ol>\n<p>So, your existing code can be changed as following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args){\n    WebDriver driver = new HtmlUnitDriver();\n    WebDriverWait wait = new WebDriverWait(driver, 30);\n    driver.get(&quot;https://www.cia.gov/the-world-factbook/countries/&quot;);\n    ArrayList&lt;WebElement&gt; links = wait.until(ExpectedConditions.visibilityOfAllElementLocated(By.className(&quot;inline-link&quot;)));\n    System.out.println(links);\n    driver.findElement(By.cssSelector(&quot;span[class='pagination__arrow-right']&quot;)).click();\n    Thread.sleep(400);\n    links = wait.until(ExpectedConditions.visibilityOfAllElementLocated(By.className(&quot;inline-link&quot;)));\n    System.out.println(links);\n    driver.close();\n}\n</code></pre>\n<p>The code above should give you another values in <code>list</code> after clicking the pagination.</p>\n"}],"owner":{"account_id":26495067,"reputation":34,"user_id":20132955,"display_name":"OCEAN OESTREICHER"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1668979916,"creation_date":1668970352,"question_id":74510982,"body_markdown":"[![enter image description here][1]][1][![enter image description here][2]][2]The goal of this program is to visit https://www.cia.gov/the-world-factbook/countries/ and grab the links contained in the table for all 262 countries. I am using Selenium to accomplish this but I am running into issues grabbing more than the first page of results.\r\n\r\nMy test code is the following:\r\n\r\n```java\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.WebElement;\r\nimport org.openqa.selenium.htmlunit.HtmlUnitDriver;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic static void main(String[] args){\r\n    WebDriver driver = new HtmlUnitDriver();\r\n    driver.get(&quot;https://www.cia.gov/the-world-factbook/countries/&quot;);\r\n    ArrayList&lt;WebElement&gt; links = (ArrayList&lt;WebElement&gt;) driver.findElements(By.className(&quot;inline-link&quot;));\r\n    System.out.println(links);\r\n    WebElement button = driver.findElement(By.cssSelector(&quot;span[class=&#39;pagination__arrow-right&#39;]&quot;));\r\n    button.click();\r\n    links = (ArrayList&lt;WebElement&gt;) driver.findElements(By.className(&quot;inline-link&quot;));\r\n    System.out.println(links);\r\n    driver.close();\r\n}\r\n```\r\nThe driver successfully finds the button but after it is clicked and I grab the next set of links, they are still the same instead of being updated. I&#39;m new to using Selenium and am not sure why the driver does not pick up the new table changes. The first screen shot is the button on the page. The second screenshot is the table. When looking at it, Croatia  is the inline-link. When the next button is pressed, that value changes to salvadore.  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cRXiK.png\r\n  [2]: https://i.stack.imgur.com/Gnzom.png","title":"Parsing a dynamic table with Selenium and Java","body":"<p><a href=\"https://i.stack.imgur.com/cRXiK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cRXiK.png\" alt=\"enter image description here\" /></a><a href=\"https://i.stack.imgur.com/Gnzom.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Gnzom.png\" alt=\"enter image description here\" /></a>The goal of this program is to visit <a href=\"https://www.cia.gov/the-world-factbook/countries/\" rel=\"nofollow noreferrer\">https://www.cia.gov/the-world-factbook/countries/</a> and grab the links contained in the table for all 262 countries. I am using Selenium to accomplish this but I am running into issues grabbing more than the first page of results.</p>\n<p>My test code is the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.htmlunit.HtmlUnitDriver;\n\nimport java.util.ArrayList;\n\npublic static void main(String[] args){\n    WebDriver driver = new HtmlUnitDriver();\n    driver.get(&quot;https://www.cia.gov/the-world-factbook/countries/&quot;);\n    ArrayList&lt;WebElement&gt; links = (ArrayList&lt;WebElement&gt;) driver.findElements(By.className(&quot;inline-link&quot;));\n    System.out.println(links);\n    WebElement button = driver.findElement(By.cssSelector(&quot;span[class='pagination__arrow-right']&quot;));\n    button.click();\n    links = (ArrayList&lt;WebElement&gt;) driver.findElements(By.className(&quot;inline-link&quot;));\n    System.out.println(links);\n    driver.close();\n}\n</code></pre>\n<p>The driver successfully finds the button but after it is clicked and I grab the next set of links, they are still the same instead of being updated. I'm new to using Selenium and am not sure why the driver does not pick up the new table changes. The first screen shot is the button on the page. The second screenshot is the table. When looking at it, Croatia  is the inline-link. When the next button is pressed, that value changes to salvadore.</p>\n"},{"tags":["java","class","object","oop","methods"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1668977998,"post_id":74511947,"comment_id":131531646,"body_markdown":"Please read: [Why not upload images of code/errors when asking a question?](https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question)","body":"Please read: <a href=\"https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question\">Why not upload images of code/errors when asking a question?</a>"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1668978041,"post_id":74511947,"comment_id":131531662,"body_markdown":"If the method is not `static`, an instance of that class (or one of its sub-classes) is needed, otherwise the method cannot be called.","body":"If the method is not <code>static</code>, an instance of that class (or one of its sub-classes) is needed, otherwise the method cannot be called."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668978633,"creation_date":1668978133,"answer_id":74511973,"question_id":74511947,"body_markdown":"If you want to call Car&#39;s methods from the FuelConsumption class, the FuelConsumption class needs an instance of the Car class. But you can pass it in as parameter.\r\n\r\n    class FuelConsumption {\r\n        void consume(float amount, Car car) {\r\n            car.whatevermethod();\r\n        }\r\n    }\r\n\r\nPassing that parameter should not be a problem from your main method so you do not have to create a separate instance:\r\n\r\n    public static void main(Strin[] args) {\r\n        Car car = new Car(...);\r\n        FuelConsumption fc = new FuelConsumption(...);\r\n\r\n        fc.consume(5.0f, car);\r\n    }","title":"How do i call a certain class methods without creating a new object of that class? JAVA","body":"<p>If you want to call Car's methods from the FuelConsumption class, the FuelConsumption class needs an instance of the Car class. But you can pass it in as parameter.</p>\n<pre><code>class FuelConsumption {\n    void consume(float amount, Car car) {\n        car.whatevermethod();\n    }\n}\n</code></pre>\n<p>Passing that parameter should not be a problem from your main method so you do not have to create a separate instance:</p>\n<pre><code>public static void main(Strin[] args) {\n    Car car = new Car(...);\n    FuelConsumption fc = new FuelConsumption(...);\n\n    fc.consume(5.0f, car);\n}\n</code></pre>\n"}],"owner":{"account_id":25743479,"reputation":1,"user_id":19497095,"display_name":"Rares Selaru"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1669039174,"accepted_answer_id":74511973,"answer_count":1,"score":-1,"last_activity_date":1668978633,"creation_date":1668977886,"question_id":74511947,"body_markdown":"\r\nSo, I&#39;m new in this field, still trying to learn. I&#39;m trying to create a car with different options (start the engine, stop the engine, change the gear, reverse, neutral, fill it up, etc.) and now I&#39;m trying to make 2 methods that will consume my fuel depending on the state of the car, if the engine is on it will consume 0.8 liters per minute, if it is moving to consume 6 liters per minute (I did put 6000 milliseconds to test the methods). The idea is that in the main class I already have a car type object created, how can I call its methods in the FuelConsumption class without creating a new object?\r\n\r\n[enter image description here](https://i.stack.imgur.com/AAleZ.png)(https://i.stack.imgur.com/YLUOX.png)\r\n\r\nI know that I could make those methods static, or simply move everything to the Car class, but I don&#39;t think it&#39;s the most correct way to solve it, plus I&#39;d like to find out the answer to this problem more for the purpose of learning.\r\n","title":"How do i call a certain class methods without creating a new object of that class? JAVA","body":"<p>So, I'm new in this field, still trying to learn. I'm trying to create a car with different options (start the engine, stop the engine, change the gear, reverse, neutral, fill it up, etc.) and now I'm trying to make 2 methods that will consume my fuel depending on the state of the car, if the engine is on it will consume 0.8 liters per minute, if it is moving to consume 6 liters per minute (I did put 6000 milliseconds to test the methods). The idea is that in the main class I already have a car type object created, how can I call its methods in the FuelConsumption class without creating a new object?</p>\n<p><a href=\"https://i.stack.imgur.com/AAleZ.png\" rel=\"nofollow noreferrer\">enter image description here</a>(<a href=\"https://i.stack.imgur.com/YLUOX.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/YLUOX.png</a>)</p>\n<p>I know that I could make those methods static, or simply move everything to the Car class, but I don't think it's the most correct way to solve it, plus I'd like to find out the answer to this problem more for the purpose of learning.</p>\n"},{"tags":["java","string","list","java-stream","immutability"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668942599,"creation_date":1668906310,"answer_id":74504961,"question_id":74504941,"body_markdown":"Terminal operation `toList()` generates an array, which is being transformed into a `List`, and then wrapped by and `UnmodifiableList` generated by the is being with \r\n\r\n    default List&lt;T&gt; toList() {\r\n        return (List&lt;T&gt;) Collections.unmodifiableList(new ArrayList&lt;&gt;(Arrays.asList(this.toArray())));\r\n    }\r\n\r\n`UnmodifiableList` overrides all mutating behavior, including `set()` method, so that it would throw an `UnsupportedOperationException`.\r\n\r\nThe only way you can ensure that collection produced from the stream is modifiable is to make use of `Collectors.toCollection()`:\r\n\r\n```\r\nList&lt;String&gt; lines = Collections.emptyList();\r\ntry (Stream&lt;String&gt; stream = Files.lines(Paths.get(&quot;pathToMyTextFile.txt&quot;))) {\r\n    lines = stream.collect(Collectors.toCollection(ArrayList::new));\r\n} catch (IOException e) {\r\n    e.printStackTrace();\r\n}\r\n```\r\n\r\nAlternatively, to process the data right in the Stream you can make use of the Java 16 operation [`mapMulti()`][mapMulti] which allows to incorporate imperative logic into a stream:\r\n\r\n```\r\nList&lt;String&gt; lines = Collections.emptyList();\r\ntry (Stream&lt;String&gt; stream = Files.lines(Paths.get(&quot;pathToMyTextFile.txt&quot;))) {\r\n    lines = processLines(stream, startOfLine);\r\n} catch (IOException e) {\r\n    e.printStackTrace();\r\n}\r\n```\r\n\r\n    public static List&lt;String&gt; processLines(Stream&lt;String&gt; lines, String startOfLine) {\r\n        \r\n        return lines\r\n            .&lt;String&gt;mapMulti((line, consumer) -&gt; {\r\n                if (!line.startsWith(startOfLine)) consumer.accept(line);\r\n                else {\r\n                    String[] parts = line.split(&quot;/&quot;);\r\n                    parts[2] = String.valueOf(Integer.parseInt(parts[2]) + 1);\r\n                    consumer.accept(String.join(&quot;/&quot;, parts));\r\n                }\r\n            })\r\n            .toList();\r\n    }\r\n\r\nFor versions of JDK earlier than 16 the old-good `map()` operation can be used instead of `mupMalti()`, but in such case it would be cleaner to introduce one more delegating method.\r\n\r\n***Sidenotes:*** `Files.lines().toList()` *is an equivalent of* [`Files.readAllLines()`][readAll] *which produces a `List` (note that it&#39;s either not guaranteed to be modifiable).*\r\n\r\n\r\n\r\n   [readAll]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#readAllLines(java.nio.file.Path)\r\n\r\n   [toCollection]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toCollection(java.util.function.Supplier)\r\n\r\n   [mapMulti]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#mapMulti(java.util.function.BiConsumer)","title":"modify specific line of text while reading from a text file to list","body":"<p>Terminal operation <code>toList()</code> generates an array, which is being transformed into a <code>List</code>, and then wrapped by and <code>UnmodifiableList</code> generated by the is being with</p>\n<pre><code>default List&lt;T&gt; toList() {\n    return (List&lt;T&gt;) Collections.unmodifiableList(new ArrayList&lt;&gt;(Arrays.asList(this.toArray())));\n}\n</code></pre>\n<p><code>UnmodifiableList</code> overrides all mutating behavior, including <code>set()</code> method, so that it would throw an <code>UnsupportedOperationException</code>.</p>\n<p>The only way you can ensure that collection produced from the stream is modifiable is to make use of <code>Collectors.toCollection()</code>:</p>\n<pre><code>List&lt;String&gt; lines = Collections.emptyList();\ntry (Stream&lt;String&gt; stream = Files.lines(Paths.get(&quot;pathToMyTextFile.txt&quot;))) {\n    lines = stream.collect(Collectors.toCollection(ArrayList::new));\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>Alternatively, to process the data right in the Stream you can make use of the Java 16 operation <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#mapMulti(java.util.function.BiConsumer)\" rel=\"nofollow noreferrer\"><code>mapMulti()</code></a> which allows to incorporate imperative logic into a stream:</p>\n<pre><code>List&lt;String&gt; lines = Collections.emptyList();\ntry (Stream&lt;String&gt; stream = Files.lines(Paths.get(&quot;pathToMyTextFile.txt&quot;))) {\n    lines = processLines(stream, startOfLine);\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<pre><code>public static List&lt;String&gt; processLines(Stream&lt;String&gt; lines, String startOfLine) {\n    \n    return lines\n        .&lt;String&gt;mapMulti((line, consumer) -&gt; {\n            if (!line.startsWith(startOfLine)) consumer.accept(line);\n            else {\n                String[] parts = line.split(&quot;/&quot;);\n                parts[2] = String.valueOf(Integer.parseInt(parts[2]) + 1);\n                consumer.accept(String.join(&quot;/&quot;, parts));\n            }\n        })\n        .toList();\n}\n</code></pre>\n<p>For versions of JDK earlier than 16 the old-good <code>map()</code> operation can be used instead of <code>mupMalti()</code>, but in such case it would be cleaner to introduce one more delegating method.</p>\n<p><em><strong>Sidenotes:</strong></em> <code>Files.lines().toList()</code> <em>is an equivalent of</em> <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#readAllLines(java.nio.file.Path)\" rel=\"nofollow noreferrer\"><code>Files.readAllLines()</code></a> <em>which produces a <code>List</code> (note that it's either not guaranteed to be modifiable).</em></p>\n"}],"owner":{"account_id":25275672,"reputation":45,"user_id":19104352,"display_name":"Gustav Henriksson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74504961,"answer_count":1,"score":1,"last_activity_date":1668978497,"creation_date":1668905877,"question_id":74504941,"body_markdown":"I have a text file which I read in as a list of strings. After that I try to get one of the strings, modify it and replace it within the list again.\r\n\r\nMy text file look as follows:\r\n\r\n```\r\na/0/0/0/0\r\nb/0/0/0/0\r\nc/0/0/0/0\r\nd/0/0/0/0\r\n```\r\nThe code look as follows:\r\n\r\n```\r\nString startOfLine = &quot;b&quot;;\r\n\r\nList&lt;String&gt; lines = new ArrayList&lt;&gt;();\r\ntry (Stream&lt;String&gt; stream = Files.lines(Paths.get(&quot;pathToMyTextFile.txt&quot;))) {\r\n    lines = stream.toList();\r\n} catch (IOException e) {\r\n    e.printStackTrace();\r\n}\r\n\r\nint index = 0;\r\nint count = 0;\r\nString modifiedString = &quot;&quot;;\r\nfor (String s:lines) {\r\n    count++;\r\n    if (s.startsWith(startOfLine)){\r\n        String[] splitS = s.split(&quot;/&quot;);\r\n        int increment = Integer.parseInt(splitS[2]) + 1;\r\n        modifiedString = \r\n        splitS[0] + &quot;/&quot; + \r\n        splitS[1] + &quot;/&quot; + \r\n        increment + &quot;/&quot; + \r\n        splitS[3] + &quot;/&quot; + \r\n        splitS[4];\r\n        index = count;\r\n    }\r\n}\r\nlines.set(index, modifiedString);\r\n```\r\nWhat I&#39;ve tried to do is to get the string within the list that starts with the letter &quot;b&quot;.\r\n\r\nIncrease the `&quot;0&quot;` after the second `&quot;/&quot;` to `&quot;1&quot;` and then put the string together again to replace the old value within the list.\r\n\r\nWhat happens is that IntelliJ (which I&#39;m using) complains about an immutable object is being modified.\r\nAnd I&#39;m almost certain that this should be obtainable within the stream itself in the first place, but can&#39;t seem to pull it off on my own. Would it be possible to change the value of the line that starts with `b` within the stream before converting the stream to a list?","title":"modify specific line of text while reading from a text file to list","body":"<p>I have a text file which I read in as a list of strings. After that I try to get one of the strings, modify it and replace it within the list again.</p>\n<p>My text file look as follows:</p>\n<pre><code>a/0/0/0/0\nb/0/0/0/0\nc/0/0/0/0\nd/0/0/0/0\n</code></pre>\n<p>The code look as follows:</p>\n<pre><code>String startOfLine = &quot;b&quot;;\n\nList&lt;String&gt; lines = new ArrayList&lt;&gt;();\ntry (Stream&lt;String&gt; stream = Files.lines(Paths.get(&quot;pathToMyTextFile.txt&quot;))) {\n    lines = stream.toList();\n} catch (IOException e) {\n    e.printStackTrace();\n}\n\nint index = 0;\nint count = 0;\nString modifiedString = &quot;&quot;;\nfor (String s:lines) {\n    count++;\n    if (s.startsWith(startOfLine)){\n        String[] splitS = s.split(&quot;/&quot;);\n        int increment = Integer.parseInt(splitS[2]) + 1;\n        modifiedString = \n        splitS[0] + &quot;/&quot; + \n        splitS[1] + &quot;/&quot; + \n        increment + &quot;/&quot; + \n        splitS[3] + &quot;/&quot; + \n        splitS[4];\n        index = count;\n    }\n}\nlines.set(index, modifiedString);\n</code></pre>\n<p>What I've tried to do is to get the string within the list that starts with the letter &quot;b&quot;.</p>\n<p>Increase the <code>&quot;0&quot;</code> after the second <code>&quot;/&quot;</code> to <code>&quot;1&quot;</code> and then put the string together again to replace the old value within the list.</p>\n<p>What happens is that IntelliJ (which I'm using) complains about an immutable object is being modified.\nAnd I'm almost certain that this should be obtainable within the stream itself in the first place, but can't seem to pull it off on my own. Would it be possible to change the value of the line that starts with <code>b</code> within the stream before converting the stream to a list?</p>\n"},{"tags":["java","gradle","sonarqube","jenkins-pipeline","build.gradle"],"answers":[{"tags":[],"owner":{"account_id":367578,"reputation":3080,"user_id":713861,"accept_rate":72,"display_name":"GreenSaguaro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650568169,"creation_date":1650568169,"answer_id":71959764,"question_id":71957895,"body_markdown":"One way to do it would be to parameterize the build:\r\n```gradle\r\nif (hasProperty(&quot;do.scan.one&quot;)){\r\n    sonarqube {\r\n        properties {\r\n            // do set up one\r\n        }\r\n    }\r\n} else {\r\n    sonarqube {\r\n        properties {\r\n            // do other set up\r\n        }\r\n    }\r\n}\r\n```\r\nThen you would need to pass an additional command like argument in the non-default configuration:\r\n```\r\n./gradlew sonarqube -Pdo.scan.one\r\n```\r\nIf it is easier to use environment variables, that is also possible. Just change the property check to a `System.getenv()` check.","title":"Run two different sonar configurations in parallel with jenkins?","body":"<p>One way to do it would be to parameterize the build:</p>\n<pre><code>if (hasProperty(&quot;do.scan.one&quot;)){\n    sonarqube {\n        properties {\n            // do set up one\n        }\n    }\n} else {\n    sonarqube {\n        properties {\n            // do other set up\n        }\n    }\n}\n</code></pre>\n<p>Then you would need to pass an additional command like argument in the non-default configuration:</p>\n<pre><code>./gradlew sonarqube -Pdo.scan.one\n</code></pre>\n<p>If it is easier to use environment variables, that is also possible. Just change the property check to a <code>System.getenv()</code> check.</p>\n"}],"owner":{"account_id":6769373,"reputation":51,"user_id":10968047,"display_name":"quickLambda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71959764,"answer_count":1,"score":0,"last_activity_date":1668977976,"creation_date":1650558723,"question_id":71957895,"body_markdown":"I am working on a project with multiple modules, let&#39;s say: big module, smallModuleA, small modules, and small modules. And I have a build. Gradle file which has a sonar configuration that I change when I want to scan all small modules or the big module. I have a Jenkins pipeline that has a sonar scan stage. My goal is to run two sonar scans with different configurations in parallel on Jenkins. Now I know how to make two steps or stages run in parallel on Jenkins. My main concern is how would I have two sonar configurations on the build. The Gradle file that that be referenced in each of those sonar stages that are being run on the Jenkins file.","title":"Run two different sonar configurations in parallel with jenkins?","body":"<p>I am working on a project with multiple modules, let's say: big module, smallModuleA, small modules, and small modules. And I have a build. Gradle file which has a sonar configuration that I change when I want to scan all small modules or the big module. I have a Jenkins pipeline that has a sonar scan stage. My goal is to run two sonar scans with different configurations in parallel on Jenkins. Now I know how to make two steps or stages run in parallel on Jenkins. My main concern is how would I have two sonar configurations on the build. The Gradle file that that be referenced in each of those sonar stages that are being run on the Jenkins file.</p>\n"},{"tags":["java","date","date-format"],"answers":[{"tags":[],"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1225397385,"creation_date":1225397385,"answer_id":251570,"question_id":251535,"body_markdown":"How about this:\r\n\r\n    public static String anEasierStupidDateWithNoStringParsing(String dateString) {\r\n        DateFormat df = new SimpleDateFormat(&quot;MM/dd/yyyy&quot;);\r\n\r\n        //handling ParseExceptions is an exercise left to the reader!\r\n        Date date = df.parse(dateString);\r\n        Calendar cal = Calendar.getInstance();\r\n        cal.setTime(date);\r\n\r\n        Calendar now = Calendar.getInstance();\r\n        if (cal.after(now)) {\r\n            cal.add(Calendar.YEAR, -100);\r\n        }\r\n\r\n        return cal;\r\n    }\r\n\r\n\r\n\r\nIn other words, let SimpleDateFormat parse the String and just adjust the year to be the previous century if SimpleDateFormat ([which has it&#39;s own rules for interpreting year strings][1]) returns a date that is after the current date. \r\n\r\nThis would guarantee that all dates returned are in the past. However, it doesn&#39;t account for any dates that might be parsed as *before* this past century - for example, with the format `MM/dd/yyyy`, a date string like &quot;01/11/12&quot; parses to Jan 11, 12 A.D.\r\n\r\n\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.4.2/docs/api/java/text/SimpleDateFormat.html","title":"What is the best way to parse a date in MM/DD/YY format and adjust it to the current / previous century?","body":"<p>How about this:</p>\n\n<pre><code>public static String anEasierStupidDateWithNoStringParsing(String dateString) {\n    DateFormat df = new SimpleDateFormat(\"MM/dd/yyyy\");\n\n    //handling ParseExceptions is an exercise left to the reader!\n    Date date = df.parse(dateString);\n    Calendar cal = Calendar.getInstance();\n    cal.setTime(date);\n\n    Calendar now = Calendar.getInstance();\n    if (cal.after(now)) {\n        cal.add(Calendar.YEAR, -100);\n    }\n\n    return cal;\n}\n</code></pre>\n\n<p>In other words, let SimpleDateFormat parse the String and just adjust the year to be the previous century if SimpleDateFormat (<a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\">which has it's own rules for interpreting year strings</a>) returns a date that is after the current date. </p>\n\n<p>This would guarantee that all dates returned are in the past. However, it doesn't account for any dates that might be parsed as <em>before</em> this past century - for example, with the format <code>MM/dd/yyyy</code>, a date string like \"01/11/12\" parses to Jan 11, 12 A.D.</p>\n"},{"tags":[],"owner":{"account_id":15083,"reputation":22025,"user_id":31506,"display_name":"Jack Leow"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1225399761,"creation_date":1225399761,"answer_id":251719,"question_id":251535,"body_markdown":"If Joda Time is an option:\r\n    \r\n    String inputDate = &quot;01/01/08&quot;;\r\n    // assuming U.S. style date, since it&#39;s not clear from your original question\r\n    DateTimeFormatter parser = DateTimeFormat.forPattern(&quot;MM/dd/yy&quot;);\r\n    DateTime dateTime = parser.parseDateTime(inputDate);\r\n    // if after current time\r\n    if (dateTime.isAfter(new DateTime())) {\r\n        dateTime = dateTime.minus(Years.ONE);\r\n    }\r\n    \r\n    return dateTime.toString(&quot;MM/dd/yyyy&quot;);\r\n\r\nI know Joda Time isn&#39;t part of Java SE, and as I&#39;ve said in another thread, I usually do not condone using a third-party library when there&#39;s a Java library that does the same thing. However, the person who is developing Joda Time is also leading JSR310 - the Date and Time API that&#39;ll make it into Java 7. So I Joda Time is basically going to be in future Java releases.","title":"What is the best way to parse a date in MM/DD/YY format and adjust it to the current / previous century?","body":"<p>If Joda Time is an option:</p>\n\n<pre><code>String inputDate = \"01/01/08\";\n// assuming U.S. style date, since it's not clear from your original question\nDateTimeFormatter parser = DateTimeFormat.forPattern(\"MM/dd/yy\");\nDateTime dateTime = parser.parseDateTime(inputDate);\n// if after current time\nif (dateTime.isAfter(new DateTime())) {\n    dateTime = dateTime.minus(Years.ONE);\n}\n\nreturn dateTime.toString(\"MM/dd/yyyy\");\n</code></pre>\n\n<p>I know Joda Time isn't part of Java SE, and as I've said in another thread, I usually do not condone using a third-party library when there's a Java library that does the same thing. However, the person who is developing Joda Time is also leading JSR310 - the Date and Time API that'll make it into Java 7. So I Joda Time is basically going to be in future Java releases.</p>\n"},{"tags":[],"owner":{"account_id":10108,"reputation":530017,"user_id":18936,"display_name":"bobince"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1225399793,"creation_date":1225399793,"answer_id":251720,"question_id":251535,"body_markdown":"SimpleDateFormat already does two-digit year parsing for you, using the two-letter yy format. (It&#39;ll still allow four digits, obviously.)\r\n\r\nBy default it uses now-80now+20, so it&#39;s not exactly the same rule you propose, but it&#39;s reasonable and standardised (in the Java world at least), and can be overridden using set2DigitYearStart() if you want.\r\n\r\n    DateFormat informat= new SimpleDateFormat(&quot;MM/dd/yy&quot;);\r\n    DateFormat outformat= new SimpleDateFormat(&quot;MM/dd/yyyy&quot;);\r\n    return outformat.format(informat.parse(dateString));\r\n\r\nIn the longer term, try to migrate to ISO8601 date formatting (yyyy-MM-dd), because MM/dd/yy is approximately the worst possible date format and is bound to cause problems eventually.\r\n\r\n","title":"What is the best way to parse a date in MM/DD/YY format and adjust it to the current / previous century?","body":"<p>SimpleDateFormat already does two-digit year parsing for you, using the two-letter yy format. (It'll still allow four digits, obviously.)</p>\n\n<p>By default it uses now-80now+20, so it's not exactly the same rule you propose, but it's reasonable and standardised (in the Java world at least), and can be overridden using set2DigitYearStart() if you want.</p>\n\n<pre><code>DateFormat informat= new SimpleDateFormat(\"MM/dd/yy\");\nDateFormat outformat= new SimpleDateFormat(\"MM/dd/yyyy\");\nreturn outformat.format(informat.parse(dateString));\n</code></pre>\n\n<p>In the longer term, try to migrate to ISO8601 date formatting (yyyy-MM-dd), because MM/dd/yy is approximately the worst possible date format and is bound to cause problems eventually.</p>\n"},{"tags":[],"owner":{"account_id":5419,"reputation":13287,"user_id":8709,"display_name":"Ken Gentle"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1524248024,"creation_date":1225401940,"answer_id":251836,"question_id":251535,"body_markdown":"Groovy script (easy enough to throw into java) demonstrating the point @bobince made about SimpleDateFormat.\r\n\r\n    import java.text.SimpleDateFormat\r\n\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&#39;MM/dd/yy&#39;)\r\n    SimpleDateFormat fmt = new SimpleDateFormat(&#39;yyyy-MM-dd&#39;)\r\n\r\n    Calendar cal = Calendar.getInstance()\r\n    cal.add(Calendar.YEAR, -100)\r\n    sdf.set2DigitYearStart(cal.getTime())\r\n\r\n    dates = [&#39;01/01/01&#39;, &#39;10/30/08&#39;,&#39;01/01/09&#39;]\r\n    dates.each {String d -&gt;\r\n      println fmt.format(sdf.parse(d))\r\n    }\r\n\r\nYields\r\n\r\n    2001-01-01\r\n    2008-10-30\r\n    1909-01-01\r\n\r\n","title":"What is the best way to parse a date in MM/DD/YY format and adjust it to the current / previous century?","body":"<p>Groovy script (easy enough to throw into java) demonstrating the point @bobince made about SimpleDateFormat.</p>\n\n<pre><code>import java.text.SimpleDateFormat\n\nSimpleDateFormat sdf = new SimpleDateFormat('MM/dd/yy')\nSimpleDateFormat fmt = new SimpleDateFormat('yyyy-MM-dd')\n\nCalendar cal = Calendar.getInstance()\ncal.add(Calendar.YEAR, -100)\nsdf.set2DigitYearStart(cal.getTime())\n\ndates = ['01/01/01', '10/30/08','01/01/09']\ndates.each {String d -&gt;\n  println fmt.format(sdf.parse(d))\n}\n</code></pre>\n\n<p>Yields</p>\n\n<pre><code>2001-01-01\n2008-10-30\n1909-01-01\n</code></pre>\n"},{"tags":[],"owner":{"account_id":397025,"reputation":948,"user_id":760935,"accept_rate":28,"display_name":"chetan singhal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1414656014,"creation_date":1414656014,"answer_id":26647748,"question_id":251535,"body_markdown":"    Date deliverDate = new SimpleDateFormat(&quot;MM/dd/yy&quot;).parse(deliverDateString);\r\n\tString dateString2 = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).format(deliverDate);\r\n\r\nWorking for me.","title":"What is the best way to parse a date in MM/DD/YY format and adjust it to the current / previous century?","body":"<pre><code>Date deliverDate = new SimpleDateFormat(\"MM/dd/yy\").parse(deliverDateString);\nString dateString2 = new SimpleDateFormat(\"yyyy-MM-dd\").format(deliverDate);\n</code></pre>\n\n<p>Working for me.</p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668977558,"creation_date":1668977558,"answer_id":74511905,"question_id":251535,"body_markdown":"The [accepted answer](https://stackoverflow.com/a/251836/10819573) uses legacy date-time API which was the correct thing to do in 2008 when the question was asked. In March 2014, `java.time` API supplanted the [error-prone legacy date-time API](https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html). Since then, it has been strongly recommended to use this modern date-time API. \r\n\r\njava.time API\r\n--\r\n\r\n 1. You can put optional patterns between [`DateTimeFormatterBuilder#optionalStart`](https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatterBuilder.html#optionalStart--) and [`DateTimeFormatterBuilder#optionalEnd`](https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatterBuilder.html#optionalEnd--) and create a formatter which can parse a date string with either a four-digit year or a two-digit year.\r\n 2. Using the [`DateTimeFormatterBuilder#appendValueReduced`](https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatterBuilder.html#appendValueReduced-java.time.temporal.TemporalField-int-int-int-), you can specify a base value for the year as per your requirement. \r\n\r\n**Demo**:\r\n\r\n    import java.time.LocalDate;\r\n    import java.time.Year;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.time.format.DateTimeFormatterBuilder;\r\n    import java.time.temporal.ChronoField;\r\n    import java.util.Locale;\r\n    import java.util.stream.Stream;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tDateTimeFormatter parser = new DateTimeFormatterBuilder()\r\n    \t\t\t\t.appendPattern(&quot;M/d/&quot;)\r\n    \t\t\t\t.optionalStart()\r\n    \t\t\t\t.appendPattern(&quot;uuuu&quot;)\r\n    \t\t\t\t.optionalEnd()\r\n    \t\t\t\t.optionalStart()\r\n    \t\t\t\t.appendValueReduced(ChronoField.YEAR, 2, 2, Year.now().minusYears(100).getValue())\r\n    \t\t\t\t.optionalEnd()\r\n    \t\t\t\t.toFormatter(Locale.ENGLISH);\r\n    \r\n    \t\t// Test\r\n    \t\tStream.of(\r\n    \t\t\t\t&quot;1/2/2022&quot;,\r\n    \t\t\t\t&quot;01/2/2022&quot;,\r\n    \t\t\t\t&quot;1/02/2022&quot;,\r\n    \t\t\t\t&quot;01/02/2022&quot;,\r\n    \t\t\t\t&quot;1/2/22&quot;,\r\n    \t\t\t\t&quot;1/2/21&quot;,\r\n    \t\t\t\t&quot;1/2/20&quot;,\r\n    \t\t\t\t&quot;1/2/23&quot;,\r\n    \t\t\t\t&quot;1/2/24&quot;\r\n    \t\t\t)\r\n    \t\t\t.map(s -&gt; LocalDate.parse(s, parser))\r\n    \t\t\t.forEach(System.out::println);\r\n    \t}\r\n    }\r\n\r\n**Output**:\r\n\r\n    2022-01-02\r\n    2022-01-02\r\n    2022-01-02\r\n    2022-01-02\r\n    1922-01-02\r\n    2021-01-02\r\n    2020-01-02\r\n    1923-01-02\r\n    1924-01-02\r\n\r\nNote that the dates with a two-digit year greater than the current year are parsed into a `LocalDate` with the last century.\r\n\r\n---\r\n\r\nHow to switch from the legacy to the modern date-time API?\r\n--\r\n\r\nYou can switch from the legacy to the modern date-time API using [`Date#toInstant`](https://docs.oracle.com/javase/8/docs/api/java/util/Date.html#toInstant--) on a java-util-date instance. Once you have an `Instant`, you can easily obtain other date-time types of `java.time` API. An `Instant` represents a moment in time and is independent of a time-zone i.e. it represents a date-time in UTC (often displayed as `Z` which stands for Zulu-time and has a `ZoneOffset` of `+00:00`).\r\n\r\n**Demo**:\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Date date = new Date();\r\n            Instant instant = date.toInstant();\r\n            System.out.println(instant);\r\n    \r\n            ZonedDateTime zdt = instant.atZone(ZoneId.of(&quot;Asia/Kolkata&quot;));\r\n            System.out.println(zdt);\r\n    \r\n            OffsetDateTime odt = instant.atOffset(ZoneOffset.of(&quot;+05:30&quot;));\r\n            System.out.println(odt);\r\n            // Alternatively, using time-zone\r\n            odt = instant.atZone(ZoneId.of(&quot;Asia/Kolkata&quot;)).toOffsetDateTime();\r\n            System.out.println(odt);\r\n    \r\n            LocalDateTime ldt = LocalDateTime.ofInstant(instant, ZoneId.of(&quot;Asia/Kolkata&quot;));\r\n            System.out.println(ldt);\r\n            // Alternatively,\r\n            ldt = instant.atZone(ZoneId.of(&quot;Asia/Kolkata&quot;)).toLocalDateTime();\r\n            System.out.println(ldt);\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    2022-11-20T20:32:42.823Z\r\n    2022-11-21T02:02:42.823+05:30[Asia/Kolkata]\r\n    2022-11-21T02:02:42.823+05:30\r\n    2022-11-21T02:02:42.823+05:30\r\n    2022-11-21T02:02:42.823\r\n    2022-11-21T02:02:42.823\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.","title":"What is the best way to parse a date in MM/DD/YY format and adjust it to the current / previous century?","body":"<p>The <a href=\"https://stackoverflow.com/a/251836/10819573\">accepted answer</a> uses legacy date-time API which was the correct thing to do in 2008 when the question was asked. In March 2014, <code>java.time</code> API supplanted the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html\" rel=\"nofollow noreferrer\">error-prone legacy date-time API</a>. Since then, it has been strongly recommended to use this modern date-time API.</p>\n<h2>java.time API</h2>\n<ol>\n<li>You can put optional patterns between <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatterBuilder.html#optionalStart--\" rel=\"nofollow noreferrer\"><code>DateTimeFormatterBuilder#optionalStart</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatterBuilder.html#optionalEnd--\" rel=\"nofollow noreferrer\"><code>DateTimeFormatterBuilder#optionalEnd</code></a> and create a formatter which can parse a date string with either a four-digit year or a two-digit year.</li>\n<li>Using the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatterBuilder.html#appendValueReduced-java.time.temporal.TemporalField-int-int-int-\" rel=\"nofollow noreferrer\"><code>DateTimeFormatterBuilder#appendValueReduced</code></a>, you can specify a base value for the year as per your requirement.</li>\n</ol>\n<p><strong>Demo</strong>:</p>\n<pre><code>import java.time.LocalDate;\nimport java.time.Year;\nimport java.time.format.DateTimeFormatter;\nimport java.time.format.DateTimeFormatterBuilder;\nimport java.time.temporal.ChronoField;\nimport java.util.Locale;\nimport java.util.stream.Stream;\n\npublic class Main {\n    public static void main(String[] args) {\n        DateTimeFormatter parser = new DateTimeFormatterBuilder()\n                .appendPattern(&quot;M/d/&quot;)\n                .optionalStart()\n                .appendPattern(&quot;uuuu&quot;)\n                .optionalEnd()\n                .optionalStart()\n                .appendValueReduced(ChronoField.YEAR, 2, 2, Year.now().minusYears(100).getValue())\n                .optionalEnd()\n                .toFormatter(Locale.ENGLISH);\n\n        // Test\n        Stream.of(\n                &quot;1/2/2022&quot;,\n                &quot;01/2/2022&quot;,\n                &quot;1/02/2022&quot;,\n                &quot;01/02/2022&quot;,\n                &quot;1/2/22&quot;,\n                &quot;1/2/21&quot;,\n                &quot;1/2/20&quot;,\n                &quot;1/2/23&quot;,\n                &quot;1/2/24&quot;\n            )\n            .map(s -&gt; LocalDate.parse(s, parser))\n            .forEach(System.out::println);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2022-01-02\n2022-01-02\n2022-01-02\n2022-01-02\n1922-01-02\n2021-01-02\n2020-01-02\n1923-01-02\n1924-01-02\n</code></pre>\n<p>Note that the dates with a two-digit year greater than the current year are parsed into a <code>LocalDate</code> with the last century.</p>\n<hr />\n<h2>How to switch from the legacy to the modern date-time API?</h2>\n<p>You can switch from the legacy to the modern date-time API using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Date.html#toInstant--\" rel=\"nofollow noreferrer\"><code>Date#toInstant</code></a> on a java-util-date instance. Once you have an <code>Instant</code>, you can easily obtain other date-time types of <code>java.time</code> API. An <code>Instant</code> represents a moment in time and is independent of a time-zone i.e. it represents a date-time in UTC (often displayed as <code>Z</code> which stands for Zulu-time and has a <code>ZoneOffset</code> of <code>+00:00</code>).</p>\n<p><strong>Demo</strong>:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        Date date = new Date();\n        Instant instant = date.toInstant();\n        System.out.println(instant);\n\n        ZonedDateTime zdt = instant.atZone(ZoneId.of(&quot;Asia/Kolkata&quot;));\n        System.out.println(zdt);\n\n        OffsetDateTime odt = instant.atOffset(ZoneOffset.of(&quot;+05:30&quot;));\n        System.out.println(odt);\n        // Alternatively, using time-zone\n        odt = instant.atZone(ZoneId.of(&quot;Asia/Kolkata&quot;)).toOffsetDateTime();\n        System.out.println(odt);\n\n        LocalDateTime ldt = LocalDateTime.ofInstant(instant, ZoneId.of(&quot;Asia/Kolkata&quot;));\n        System.out.println(ldt);\n        // Alternatively,\n        ldt = instant.atZone(ZoneId.of(&quot;Asia/Kolkata&quot;)).toLocalDateTime();\n        System.out.println(ldt);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2022-11-20T20:32:42.823Z\n2022-11-21T02:02:42.823+05:30[Asia/Kolkata]\n2022-11-21T02:02:42.823+05:30\n2022-11-21T02:02:42.823+05:30\n2022-11-21T02:02:42.823\n2022-11-21T02:02:42.823\n</code></pre>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":988,"reputation":85941,"user_id":1310,"accept_rate":98,"display_name":"ScArcher2"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30171,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":251836,"answer_count":6,"score":11,"last_activity_date":1668977558,"creation_date":1225396673,"question_id":251535,"body_markdown":"One of our customers wants to be able to enter a date with only 2 digits for the year component. The date will be in the past, so we want it to work for the previous century if the 2 digit year is after the current year, but work for the current century if the 2 digit year is equal to or less than the current year.\r\n\r\nas of today 10/30/2008\r\n\r\n01/01/01 = 01/01/2001\r\n\r\n01/01/09 = 01/01/1909\r\n\r\nThis is a strange requirement, and I solved the problem, I just don&#39;t like my solution.\r\nIt feels like there is a better way to do this.\r\n\r\nThanks for the help.\r\n\r\n\tpublic static String stupidDate(String dateString)\r\n\t{\r\n\t\tString twoDigitYear = StringUtils.right(dateString, 2);\r\n\t\tString newDate = StringUtils.left(dateString, dateString.length() - 2);\r\n\t\tint year = NumberUtils.toInt(twoDigitYear);\r\n\t\tCalendar c = GregorianCalendar.getInstance();\r\n\t\tint centuryInt = c.get(Calendar.YEAR) - year;\r\n\t\tnewDate = newDate + StringUtils.left(Integer.toString(centuryInt), 2) + twoDigitYear;\r\n\t\treturn newDate;\r\n\t}\r\n\r\n","title":"What is the best way to parse a date in MM/DD/YY format and adjust it to the current / previous century?","body":"<p>One of our customers wants to be able to enter a date with only 2 digits for the year component. The date will be in the past, so we want it to work for the previous century if the 2 digit year is after the current year, but work for the current century if the 2 digit year is equal to or less than the current year.</p>\n\n<p>as of today 10/30/2008</p>\n\n<p>01/01/01 = 01/01/2001</p>\n\n<p>01/01/09 = 01/01/1909</p>\n\n<p>This is a strange requirement, and I solved the problem, I just don't like my solution.\nIt feels like there is a better way to do this.</p>\n\n<p>Thanks for the help.</p>\n\n<pre><code>public static String stupidDate(String dateString)\n{\n    String twoDigitYear = StringUtils.right(dateString, 2);\n    String newDate = StringUtils.left(dateString, dateString.length() - 2);\n    int year = NumberUtils.toInt(twoDigitYear);\n    Calendar c = GregorianCalendar.getInstance();\n    int centuryInt = c.get(Calendar.YEAR) - year;\n    newDate = newDate + StringUtils.left(Integer.toString(centuryInt), 2) + twoDigitYear;\n    return newDate;\n}\n</code></pre>\n"},{"tags":["java","c#","android","xamarin"],"comments":[{"owner":{"account_id":3962994,"reputation":6386,"user_id":3548046,"accept_rate":75,"display_name":"Umair"},"score":1,"creation_date":1531148534,"post_id":51248426,"comment_id":89476051,"body_markdown":"Possible duplicate of [Why am I getting a NoClassDefFoundError in Java?](https://stackoverflow.com/questions/34413/why-am-i-getting-a-noclassdeffounderror-in-java)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/34413/why-am-i-getting-a-noclassdeffounderror-in-java\">Why am I getting a NoClassDefFoundError in Java?</a>"},{"owner":{"account_id":4680752,"reputation":6906,"user_id":3789527,"accept_rate":70,"display_name":"LS_"},"score":0,"creation_date":1531148917,"post_id":51248426,"comment_id":89476280,"body_markdown":"Can you add which packages did you update?","body":"Can you add which packages did you update?"},{"owner":{"account_id":10869514,"reputation":429,"user_id":7991864,"accept_rate":50,"display_name":"Samih EL SAKHAWI"},"score":0,"creation_date":1531149462,"post_id":51248426,"comment_id":89476622,"body_markdown":"@Signo The package is Android Support Design","body":"@Signo The package is Android Support Design"},{"owner":{"account_id":4680752,"reputation":6906,"user_id":3789527,"accept_rate":70,"display_name":"LS_"},"score":0,"creation_date":1531218151,"post_id":51248426,"comment_id":89503509,"body_markdown":"@French_FitGirl ok, please also add your `packages.config` to the question, the issue is probably related to some conflicting version of the installed libraries","body":"@French_FitGirl ok, please also add your <code>packages.config</code> to the question, the issue is probably related to some conflicting version of the installed libraries"},{"owner":{"account_id":10869514,"reputation":429,"user_id":7991864,"accept_rate":50,"display_name":"Samih EL SAKHAWI"},"score":0,"creation_date":1531253246,"post_id":51248426,"comment_id":89524496,"body_markdown":"@Signo this is my packages.config &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;packages&gt;&lt;package id=&quot;Xamarin.Android.Arch.Core.Common&quot; version=&quot;1.0.0.1&quot; targetFramework=&quot;monoandroid81&quot; /&gt;\n  &lt;package id=&quot;Xamarin.Android.Arch.Lifecycle.Common&quot; version=&quot;1.0.3.1&quot; targetFramework=&quot;monoandroid81&quot; /&gt;\n  &lt;package id=&quot;Xamarin.Android.Arch.Lifecycle.Runtime&quot; version=&quot;26.1.0&quot; targetFramework=&quot;monoandroid81&quot; /&gt;","body":"@Signo this is my packages.config &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; &lt;packages&gt;&lt;package id=&quot;Xamarin.Android.Arch.Core.Common&quot; version=&quot;1.0.0.1&quot; targetFramework=&quot;monoandroid81&quot; /&gt;   &lt;package id=&quot;Xamarin.Android.Arch.Lifecycle.Common&quot; version=&quot;1.0.3.1&quot; targetFramework=&quot;monoandroid81&quot; /&gt;   &lt;package id=&quot;Xamarin.Android.Arch.Lifecycle.Runtime&quot; version=&quot;26.1.0&quot; targetFramework=&quot;monoandroid81&quot; /&gt;"},{"owner":{"account_id":4680752,"reputation":6906,"user_id":3789527,"accept_rate":70,"display_name":"LS_"},"score":0,"creation_date":1531293618,"post_id":51248426,"comment_id":89536271,"body_markdown":"@French_FitGirl one of the packages seems to be deprecated, try with my solution. Also how did you add the Android Support Design? Using jar libraries? Because it seems to be available also from [Xamarin here](https://www.nuget.org/packages/Xamarin.Android.Support.Design/)","body":"@French_FitGirl one of the packages seems to be deprecated, try with my solution. Also how did you add the Android Support Design? Using jar libraries? Because it seems to be available also from <a href=\"https://www.nuget.org/packages/Xamarin.Android.Support.Design/\" rel=\"nofollow noreferrer\">Xamarin here</a>"},{"owner":{"account_id":3713640,"reputation":1009,"user_id":3090337,"accept_rate":49,"display_name":"cfl"},"score":0,"creation_date":1548740204,"post_id":51248426,"comment_id":95639105,"body_markdown":"@French_FitGirl Having the same issue for days, did you figure out how to resolve?","body":"@French_FitGirl Having the same issue for days, did you figure out how to resolve?"}],"answers":[{"tags":[],"owner":{"account_id":4680752,"reputation":6906,"user_id":3789527,"accept_rate":70,"display_name":"LS_"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531293423,"creation_date":1531293423,"answer_id":51279413,"question_id":51248426,"body_markdown":"The version `26.1.0` of the package `Xamarin.Android.Arch.Lifecycle.Runtime` is [listed as deprecated][1]:\r\n\r\n&gt; The owner has unlisted this package. This could mean that the package\r\n&gt; is deprecated or shouldn&#39;t be used anymore.\r\n\r\nTry by removing this package and adding it again with the [current version 1.0.3.1](https://www.nuget.org/packages/Xamarin.Android.Arch.Lifecycle.Runtime/1.0.3.1).\r\n \r\nThen do a `clean` and `rebuild` of the project.\r\n\r\n  [1]: https://www.nuget.org/packages/Xamarin.Android.Arch.Lifecycle.Runtime/26.1.0","title":"Java.Lang.NoClassDefFoundError android.arch.core.internal.FastSafeIterableMap","body":"<p>The version <code>26.1.0</code> of the package <code>Xamarin.Android.Arch.Lifecycle.Runtime</code> is <a href=\"https://www.nuget.org/packages/Xamarin.Android.Arch.Lifecycle.Runtime/26.1.0\" rel=\"nofollow noreferrer\">listed as deprecated</a>:</p>\n\n<blockquote>\n  <p>The owner has unlisted this package. This could mean that the package\n  is deprecated or shouldn't be used anymore.</p>\n</blockquote>\n\n<p>Try by removing this package and adding it again with the <a href=\"https://www.nuget.org/packages/Xamarin.Android.Arch.Lifecycle.Runtime/1.0.3.1\" rel=\"nofollow noreferrer\">current version 1.0.3.1</a>.</p>\n\n<p>Then do a <code>clean</code> and <code>rebuild</code> of the project.</p>\n"},{"tags":[],"owner":{"account_id":9878926,"reputation":119,"user_id":7315640,"display_name":"Moz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668977113,"creation_date":1668977113,"answer_id":74511851,"question_id":51248426,"body_markdown":"I got this same error when i migrated\r\n\r\n**From**\r\n\r\n    implementation &#39;com.android.support:design:26.0.2&#39;\r\n\r\n**To**\r\n\r\n    implementation &#39;com.android.support:design:27.1.1&#39;\r\n\r\nand realized i need to add this extra dependency for **design 27.1.1** to work\r\n\r\n    implementation &#39;android.arch.core:common:1.1.1&#39;\r\n\r\nThat&#39;s all.","title":"Java.Lang.NoClassDefFoundError android.arch.core.internal.FastSafeIterableMap","body":"<p>I got this same error when i migrated</p>\n<p><strong>From</strong></p>\n<pre><code>implementation 'com.android.support:design:26.0.2'\n</code></pre>\n<p><strong>To</strong></p>\n<pre><code>implementation 'com.android.support:design:27.1.1'\n</code></pre>\n<p>and realized i need to add this extra dependency for <strong>design 27.1.1</strong> to work</p>\n<pre><code>implementation 'android.arch.core:common:1.1.1'\n</code></pre>\n<p>That's all.</p>\n"}],"owner":{"account_id":10869514,"reputation":429,"user_id":7991864,"accept_rate":50,"display_name":"Samih EL SAKHAWI"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":986,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":2,"score":3,"last_activity_date":1668977113,"creation_date":1531147995,"question_id":51248426,"body_markdown":"After i updated some packages (Android Support Design) on my project, an error appeared:\r\n\r\n&gt; Java.Lang.NoClassDefFoundError: android.arch.core.internal.FastSafeIterableMap\r\n\r\nI don&#39;t know why i have this. I changed my target android version, but the error is still here.\r\n\r\nI&#39;m using the latest version of xamarin, and i&#39;m still in debug, with proguard disable.\r\n\r\nAny ideas?\r\n\r\n`packages.config`:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;packages&gt;\r\n       &lt;package id=&quot;Xamarin.Android.Arch.Core.Common&quot; version=&quot;1.0.0.1&quot; targetFramework=&quot;monoandroid81&quot; /&gt;\r\n       &lt;package id=&quot;Xamarin.Android.Arch.Lifecycle.Common&quot; version=&quot;1.0.3.1&quot; targetFramework=&quot;monoandroid81&quot; /&gt;\r\n       &lt;package id=&quot;Xamarin.Android.Arch.Lifecycle.Runtime&quot; version=&quot;26.1.0&quot; targetFramework=&quot;monoandroid81&quot; /&gt;\r\n    &lt;/packages&gt;","title":"Java.Lang.NoClassDefFoundError android.arch.core.internal.FastSafeIterableMap","body":"<p>After i updated some packages (Android Support Design) on my project, an error appeared:</p>\n\n<blockquote>\n  <p>Java.Lang.NoClassDefFoundError: android.arch.core.internal.FastSafeIterableMap</p>\n</blockquote>\n\n<p>I don't know why i have this. I changed my target android version, but the error is still here.</p>\n\n<p>I'm using the latest version of xamarin, and i'm still in debug, with proguard disable.</p>\n\n<p>Any ideas?</p>\n\n<p><code>packages.config</code>:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;packages&gt;\n   &lt;package id=\"Xamarin.Android.Arch.Core.Common\" version=\"1.0.0.1\" targetFramework=\"monoandroid81\" /&gt;\n   &lt;package id=\"Xamarin.Android.Arch.Lifecycle.Common\" version=\"1.0.3.1\" targetFramework=\"monoandroid81\" /&gt;\n   &lt;package id=\"Xamarin.Android.Arch.Lifecycle.Runtime\" version=\"26.1.0\" targetFramework=\"monoandroid81\" /&gt;\n&lt;/packages&gt;\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1668970152,"post_id":74510942,"comment_id":131529800,"body_markdown":"&quot;*... 10000/50000 = 0.2 ...*&quot; - [Nope](https://ideone.com/glMVAA).","body":"&quot;<i>... 10000/50000 = 0.2 ...</i>&quot; - <a href=\"https://ideone.com/glMVAA\" rel=\"nofollow noreferrer\">Nope</a>."},{"owner":{"account_id":26848369,"reputation":1,"user_id":20433755,"display_name":"TuRb0Z"},"score":0,"creation_date":1668970315,"post_id":74510942,"comment_id":131529841,"body_markdown":"10000F/50000F = 0.2","body":"10000F/50000F = 0.2"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1668970395,"post_id":74510942,"comment_id":131529857,"body_markdown":"If we want an `int`-result, then we need to either use an `int`-expression or cast the result to `int`.","body":"If we want an <code>int</code>-result, then we need to either use an <code>int</code>-expression or cast the result to <code>int</code>."}],"answers":[{"tags":[],"owner":{"account_id":5716701,"reputation":419,"user_id":14152014,"display_name":"laban_luka"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668970974,"creation_date":1668970974,"answer_id":74511074,"question_id":74510942,"body_markdown":"Without much conversion and easiest way is `Math.floor(result)` to round to lover end of result (which you need) or `Math.round(result)` to nearest whole number. From your question you need `Math.floor` because if you think about it, you need how much whole cycles have passed. \r\n\r\nSo, for example:\r\n\r\n    a = 10_000\r\n    b = 50_000\r\n    c = a / b = 0.2\r\n    Math.round(c) = 0\r\n    Math.floor(c) = 0\r\n\r\n\r\n    a = 10_000\r\n    b = 11_000\r\n    c = a / b = 0.91\r\n    Math.round(c) = 1\r\n    Math.floor(c) = 0\r\n\r\nSo, where you do `return v`, do `return Math.floor(v)` instead","title":"Count how many numbers are in a number ( division of float numbers)","body":"<p>Without much conversion and easiest way is <code>Math.floor(result)</code> to round to lover end of result (which you need) or <code>Math.round(result)</code> to nearest whole number. From your question you need <code>Math.floor</code> because if you think about it, you need how much whole cycles have passed.</p>\n<p>So, for example:</p>\n<pre><code>a = 10_000\nb = 50_000\nc = a / b = 0.2\nMath.round(c) = 0\nMath.floor(c) = 0\n\n\na = 10_000\nb = 11_000\nc = a / b = 0.91\nMath.round(c) = 1\nMath.floor(c) = 0\n</code></pre>\n<p>So, where you do <code>return v</code>, do <code>return Math.floor(v)</code> instead</p>\n"},{"tags":[],"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668976392,"creation_date":1668976392,"answer_id":74511772,"question_id":74510942,"body_markdown":"If you want the result to truncate to an integer (drop the remainder) then that&#39;s *integer division* and it requires both numbers to be `int`s (or `long`s). If *either* of them is a floating-point number, it uses floating-point arithmetic and the result is a floating-point type.\r\n\r\nIt&#39;s common to have one kind of number but want to treat it as another, e.g. you have *5* and you want to divide it by *2* but you want *2.5* for your result. In this case, you can *cast* the primitive to a different type:\r\n\r\n````\r\nint num1 = 5;\r\nint num2 = 2;\r\nfloat result = num1 / (float) num2;\r\n````\r\n\r\nBecause *one* of them being floating-point makes the whole thing a floating-point calculation, all we have to do here is cast one to `float`. You can do the same with `float`s to do integer arithmetic, but in that case you need to cast both (so neither of them are floating-point):\r\n\r\n````\r\nfloat num1 = 5f;\r\nfloat num2 = 2f;\r\nint result = (int) num1 / (int) num2;\r\n````\r\n\r\nReally what&#39;s happening is the *narrower* primitive is being *widened* to match the other operand, and that wider type is what&#39;s returned. So `int / int` doesn&#39;t require any widening and returns an `int`, `int * float` becomes `float * float`, `double + float` becomes `double + double` etc. More info [here][1]\r\n\r\n[*laban_luca&#39;s* answer][2] is important to know - the `Math` package and its various functions (including different rounding methods) are really useful, but this is how you wrangle numbers for basic arithmetic. And it&#39;s important to get it right! Dividing two `int`s and wondering why you&#39;re not getting a fraction is a pretty common mistake, when you forget to cast one\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.1.2\r\n  [2]: https://stackoverflow.com/a/74511074/13598222","title":"Count how many numbers are in a number ( division of float numbers)","body":"<p>If you want the result to truncate to an integer (drop the remainder) then that's <em>integer division</em> and it requires both numbers to be <code>int</code>s (or <code>long</code>s). If <em>either</em> of them is a floating-point number, it uses floating-point arithmetic and the result is a floating-point type.</p>\n<p>It's common to have one kind of number but want to treat it as another, e.g. you have <em>5</em> and you want to divide it by <em>2</em> but you want <em>2.5</em> for your result. In this case, you can <em>cast</em> the primitive to a different type:</p>\n<pre><code>int num1 = 5;\nint num2 = 2;\nfloat result = num1 / (float) num2;\n</code></pre>\n<p>Because <em>one</em> of them being floating-point makes the whole thing a floating-point calculation, all we have to do here is cast one to <code>float</code>. You can do the same with <code>float</code>s to do integer arithmetic, but in that case you need to cast both (so neither of them are floating-point):</p>\n<pre><code>float num1 = 5f;\nfloat num2 = 2f;\nint result = (int) num1 / (int) num2;\n</code></pre>\n<p>Really what's happening is the <em>narrower</em> primitive is being <em>widened</em> to match the other operand, and that wider type is what's returned. So <code>int / int</code> doesn't require any widening and returns an <code>int</code>, <code>int * float</code> becomes <code>float * float</code>, <code>double + float</code> becomes <code>double + double</code> etc. More info <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.1.2\" rel=\"nofollow noreferrer\">here</a></p>\n<p><a href=\"https://stackoverflow.com/a/74511074/13598222\"><em>laban_luca's</em> answer</a> is important to know - the <code>Math</code> package and its various functions (including different rounding methods) are really useful, but this is how you wrangle numbers for basic arithmetic. And it's important to get it right! Dividing two <code>int</code>s and wondering why you're not getting a fraction is a pretty common mistake, when you forget to cast one</p>\n"}],"owner":{"account_id":26848369,"reputation":1,"user_id":20433755,"display_name":"TuRb0Z"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668976392,"creation_date":1668969993,"question_id":74510942,"body_markdown":"I recently came to this language, and I do not fully understand how some actions work.\r\n\r\n```\r\npackage com.example.carapp;\r\n\r\npublic class Calculate {\r\n    static int[] benzmoney= {12,8,10};\r\n    static float[] factor = {1F, 0.5F,0.8F};\r\n    public static float calculateresult(int position,float fresult) {\r\n        if (fresult == 0) {\r\n            return 0;\r\n        } else if (fresult &lt; 10000){\r\n            return (&quot;something&quot;);\r\n        } else{\r\n            float v = (fresult * factor[position]) / 10000 * 6300 + (fresult * factor[position]) / 40000 * 11000 + (fresult * factor[position]) / 80000 * 21000 + (fresult * factor[position]) / 150000 * 7000;\r\n            return v;\r\n        }\r\n    }\r\n    public static float calculatebenz(int position,float fresult,float cost){\r\n        float a=(fresult/100)*cost*benzmoney[position];\r\n        return a;\r\n    }\r\n}\r\n```\r\nA number will be entered into the column on the screen, and I will have to count how many times it will contain the number 10000, 40000, 80000, 150000. These numbers indicate the mileage of the car, certain parts need to be changed at these kilometers. the quantity will be calculated and multiplied by the cost of the parts.\r\nI assumed that if I divide the original number by each of them completely, and multiply by the amount I need, I will get the desired result. But, as I found out, 10000/50000 = 0.2 instead of 0. How can I solve this problem, so that two fractional numbers would be divided by each other entirely, would not give something other than zero, if the second number is greater.\r\nIn this line:\r\nfloat v = (fresult * factor[position]) / 10000 * 6300 + (fresult * factor[position]) / 40000 * 11000 + (fresult * factor[position]) / 80000 * 21000 + (fresult * factor[position]) / 150000 * 7000;\r\n\r\n\r\neverything I tried didn&#39;t work","title":"Count how many numbers are in a number ( division of float numbers)","body":"<p>I recently came to this language, and I do not fully understand how some actions work.</p>\n<pre><code>package com.example.carapp;\n\npublic class Calculate {\n    static int[] benzmoney= {12,8,10};\n    static float[] factor = {1F, 0.5F,0.8F};\n    public static float calculateresult(int position,float fresult) {\n        if (fresult == 0) {\n            return 0;\n        } else if (fresult &lt; 10000){\n            return (&quot;something&quot;);\n        } else{\n            float v = (fresult * factor[position]) / 10000 * 6300 + (fresult * factor[position]) / 40000 * 11000 + (fresult * factor[position]) / 80000 * 21000 + (fresult * factor[position]) / 150000 * 7000;\n            return v;\n        }\n    }\n    public static float calculatebenz(int position,float fresult,float cost){\n        float a=(fresult/100)*cost*benzmoney[position];\n        return a;\n    }\n}\n</code></pre>\n<p>A number will be entered into the column on the screen, and I will have to count how many times it will contain the number 10000, 40000, 80000, 150000. These numbers indicate the mileage of the car, certain parts need to be changed at these kilometers. the quantity will be calculated and multiplied by the cost of the parts.\nI assumed that if I divide the original number by each of them completely, and multiply by the amount I need, I will get the desired result. But, as I found out, 10000/50000 = 0.2 instead of 0. How can I solve this problem, so that two fractional numbers would be divided by each other entirely, would not give something other than zero, if the second number is greater.\nIn this line:\nfloat v = (fresult * factor[position]) / 10000 * 6300 + (fresult * factor[position]) / 40000 * 11000 + (fresult * factor[position]) / 80000 * 21000 + (fresult * factor[position]) / 150000 * 7000;</p>\n<p>everything I tried didn't work</p>\n"},{"tags":["java","spring","spring-boot","exception"],"answers":[{"tags":[],"owner":{"account_id":3988115,"reputation":1606,"user_id":3288041,"display_name":"gkatiforis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668976322,"creation_date":1668976322,"answer_id":74511765,"question_id":74510373,"body_markdown":"I would suggest keeping the error handling at the REST API level and not redirecting to another HTML page on the server side. Angular client application consumes the API response and redirects to template.html if needed. \r\n\r\nAlso, it would be better if the backend returns an `ApiError` when an exception occurs with a message and, optionally, an error code:\r\n\r\n    public class ApiError {\r\n        private String message;\r\n        private String code;\r\n    }\r\n\r\nand handle the exceptions in a separate class, `ExceptionHandler` annotated with `@ControllerAdvice`:\r\n\r\n\r\n    @ControllerAdvice\r\n    public class ExceptionHandler {\r\n        @ExceptionHandler(value = CursaNotFoundException.class)\r\n        public ResponseEntity cursaNotFoundException(CursaNotFoundException cursaNotFoundException) {\r\n            ApiError error = new ApiError();\r\n            error.setMessase(cursaNotFoundException.getMessage());\r\n            error.setCode(cursaNotFoundException.getCode());\r\n            return new ResponseEntity(error, HttpStatus.NOT_FOUND);\r\n        }\r\n    \r\n        @ExceptionHandler(value = Exception.class)\r\n        public ResponseEntity&lt;&gt; genericException(Exception exception) {\r\n            ApiError error = new ApiError();\r\n            error.setMessase(exception.getMessage());\r\n            error.setCode(&quot;GENERIC_ERROR&quot;);\r\n            return new ResponseEntity&lt;&gt;(error, HttpStatus.INTERNAL_SERVER_ERROR);\r\n        }\r\n    }","title":"What&#39;s the best option/alternative to treat exceptions in spring boot?","body":"<p>I would suggest keeping the error handling at the REST API level and not redirecting to another HTML page on the server side. Angular client application consumes the API response and redirects to template.html if needed.</p>\n<p>Also, it would be better if the backend returns an <code>ApiError</code> when an exception occurs with a message and, optionally, an error code:</p>\n<pre><code>public class ApiError {\n    private String message;\n    private String code;\n}\n</code></pre>\n<p>and handle the exceptions in a separate class, <code>ExceptionHandler</code> annotated with <code>@ControllerAdvice</code>:</p>\n<pre><code>@ControllerAdvice\npublic class ExceptionHandler {\n    @ExceptionHandler(value = CursaNotFoundException.class)\n    public ResponseEntity cursaNotFoundException(CursaNotFoundException cursaNotFoundException) {\n        ApiError error = new ApiError();\n        error.setMessase(cursaNotFoundException.getMessage());\n        error.setCode(cursaNotFoundException.getCode());\n        return new ResponseEntity(error, HttpStatus.NOT_FOUND);\n    }\n\n    @ExceptionHandler(value = Exception.class)\n    public ResponseEntity&lt;&gt; genericException(Exception exception) {\n        ApiError error = new ApiError();\n        error.setMessase(exception.getMessage());\n        error.setCode(&quot;GENERIC_ERROR&quot;);\n        return new ResponseEntity&lt;&gt;(error, HttpStatus.INTERNAL_SERVER_ERROR);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23240238,"reputation":35,"user_id":17329668,"display_name":"Dragos123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74511765,"answer_count":1,"score":0,"last_activity_date":1668976322,"creation_date":1668965351,"question_id":74510373,"body_markdown":"Right now i&#39;m using this example of exception handling:\r\n\r\n```\r\n//get an object of type curse by id\r\n//in the service file, this findCurseById() method throws a \r\n//CursaNotFoundException\r\n\r\n@GetMapping(&quot;/{id}&quot;)\r\npublic ResponseEntity&lt;curse&gt; getCursaById (@PathVariable(&quot;id&quot;) Long id) {\r\n\r\n        curse c = curseService.findCurseById(id);\r\n        return new ResponseEntity&lt;&gt;(c, HttpStatus.OK);\r\n\r\n}\r\n\r\n//so if not found, this will return the message of the error\r\n\r\n@ResponseStatus(HttpStatus.NOT_FOUND)\r\n@ExceptionHandler(CursaNotFoundException.class)\r\npublic String noCursaFound(CursaNotFoundException ex) {\r\n    return ex.getMessage();\r\n}\r\n```\r\nand that&#39;s my exception\r\n\r\n```\r\npublic class CursaNotFoundException extends RuntimeException {\r\n    public CursaNotFoundException(String s) {\r\n        super(s);\r\n\r\n    }\r\n}\r\n```\r\nin future I want to use Angular as front-end, so I don&#39;t really know how I should treat the exceptions in the back-end. For this example let&#39;s say, should I redirect the page to a template.html page in the `noCursaFound()` method, or should I return something else? A json or something? I couldn&#39;t find anything helpful. Thanks\r\n\r\n\r\n","title":"What&#39;s the best option/alternative to treat exceptions in spring boot?","body":"<p>Right now i'm using this example of exception handling:</p>\n<pre><code>//get an object of type curse by id\n//in the service file, this findCurseById() method throws a \n//CursaNotFoundException\n\n@GetMapping(&quot;/{id}&quot;)\npublic ResponseEntity&lt;curse&gt; getCursaById (@PathVariable(&quot;id&quot;) Long id) {\n\n        curse c = curseService.findCurseById(id);\n        return new ResponseEntity&lt;&gt;(c, HttpStatus.OK);\n\n}\n\n//so if not found, this will return the message of the error\n\n@ResponseStatus(HttpStatus.NOT_FOUND)\n@ExceptionHandler(CursaNotFoundException.class)\npublic String noCursaFound(CursaNotFoundException ex) {\n    return ex.getMessage();\n}\n</code></pre>\n<p>and that's my exception</p>\n<pre><code>public class CursaNotFoundException extends RuntimeException {\n    public CursaNotFoundException(String s) {\n        super(s);\n\n    }\n}\n</code></pre>\n<p>in future I want to use Angular as front-end, so I don't really know how I should treat the exceptions in the back-end. For this example let's say, should I redirect the page to a template.html page in the <code>noCursaFound()</code> method, or should I return something else? A json or something? I couldn't find anything helpful. Thanks</p>\n"},{"tags":["java","spring-boot","api","rest","crud"],"comments":[{"owner":{"account_id":34671,"reputation":8309,"user_id":98044,"accept_rate":95,"display_name":"Vini"},"score":0,"creation_date":1668902815,"post_id":74504244,"comment_id":131519849,"body_markdown":"Can you provide a little more detail about the exact error you are getting? What do you mean by &#39;connection error&#39;? Is Postman not able to call the API or the API/code is not able to connect to the database?","body":"Can you provide a little more detail about the exact error you are getting? What do you mean by &#39;connection error&#39;? Is Postman not able to call the API or the API/code is not able to connect to the database?"},{"owner":{"account_id":23166977,"reputation":61,"user_id":17266758,"display_name":"Plus Ultra"},"score":0,"creation_date":1668913707,"post_id":74504244,"comment_id":131520927,"body_markdown":"&quot;status&quot;: 404,\n    &quot;error&quot;: &quot;Not Found&quot;,\n    &quot;path&quot;: &quot;/update/1&quot;","body":"&quot;status&quot;: 404,     &quot;error&quot;: &quot;Not Found&quot;,     &quot;path&quot;: &quot;/update/1&quot;"},{"owner":{"account_id":23166977,"reputation":61,"user_id":17266758,"display_name":"Plus Ultra"},"score":0,"creation_date":1668926316,"post_id":74504244,"comment_id":131522102,"body_markdown":"Can you kindly take a look at my code?","body":"Can you kindly take a look at my code?"},{"owner":{"account_id":1642450,"reputation":481,"user_id":1514647,"display_name":"luckyluke"},"score":0,"creation_date":1668974951,"post_id":74504244,"comment_id":131531025,"body_markdown":"try to check the logging in the console. If there is no logging - try to turn it [on](https://docs.spring.io/spring-boot/docs/2.1.9.RELEASE/reference/html/boot-features-logging.html) Then do the request again and check the detailed error.","body":"try to check the logging in the console. If there is no logging - try to turn it <a href=\"https://docs.spring.io/spring-boot/docs/2.1.9.RELEASE/reference/html/boot-features-logging.html\" rel=\"nofollow noreferrer\">on</a> Then do the request again and check the detailed error."}],"answers":[{"tags":[],"owner":{"account_id":957259,"reputation":29625,"user_id":982341,"display_name":"GreyBeardedGeek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668969629,"creation_date":1668969629,"answer_id":74510895,"question_id":74504244,"body_markdown":"I suggest that you actually debug your code to find out where the failure is.\r\n\r\nIf, as I suspect, you are not calling the service properly (eg POST instead of PUT), then you won&#39;t hit a breakpoint in, say, your controller at all.\r\n\r\nIf you do hit a breakpoint in your code, look to see where the failure is. If your client calls the service with an id of 1, does a row exist in the database with an id of 1?","title":"Update User details endpoint returns 405, &quot;error&quot;: &quot;Method Not Allowed&quot;,","body":"<p>I suggest that you actually debug your code to find out where the failure is.</p>\n<p>If, as I suspect, you are not calling the service properly (eg POST instead of PUT), then you won't hit a breakpoint in, say, your controller at all.</p>\n<p>If you do hit a breakpoint in your code, look to see where the failure is. If your client calls the service with an id of 1, does a row exist in the database with an id of 1?</p>\n"}],"owner":{"account_id":23166977,"reputation":61,"user_id":17266758,"display_name":"Plus Ultra"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":448,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668976258,"creation_date":1668896788,"question_id":74504244,"body_markdown":"I&#39;m trying to update the detail of an existing user in the member table but when I tried to test the endpoint using postman it returned a `405, &quot;error&quot;: &quot;Method Not Allowed&quot;,`. I tried to find an existing user by id and update the details so that JPA will automatically save it to the database but it return this error\r\n\r\nMember\r\n   ```\r\n @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;first_name&quot;, nullable = false)\r\n    private String firstName;\r\n\r\n    @Column(name = &quot;last_name&quot;, nullable = false)\r\n    private String lastName;\r\n\r\n    @ManyToOne(fetch = FetchType.EAGER, optional = false)\r\n    @JoinColumn(name = &quot;nationality_id&quot;, nullable = false)\r\n    private Country nationality;\r\n\r\n    @ManyToOne(fetch = FetchType.EAGER, optional = false)\r\n    @JoinColumn(name = &quot;country_of_residence_id&quot;, nullable = false)\r\n    private Country countryOfResidence;\r\n\r\n    @Temporal(TemporalType.DATE)\r\n    @Column(name =&quot;date_of_birth&quot;, nullable = false, updatable = false)\r\n    private Date dateOfBirth;\r\n\r\n    @Column(name =&quot;current_job_title&quot;, nullable = false)\r\n    private String currentJobTitle;\r\n\r\n    @Column(name = &quot;email_address&quot;, nullable = false)\r\n    private String emailAddress;\r\n\r\n    @Column(name =&quot;phone_number&quot;, nullable = false)\r\n    private String phoneNumber;\r\n\r\n    @Column(name =&quot;password&quot;, nullable = false)\r\n    private String password;\r\n\r\n    @Column(name =&quot;avatar&quot;)\r\n    private String avatar;\r\n   \r\n    @CreationTimestamp\r\n    @Temporal(TemporalType.TIMESTAMP)\r\n    @Column(name = &quot;created_on&quot;, updatable = false, nullable = false)\r\n    private Date createdOn;\r\n\r\n    @UpdateTimestamp\r\n    @Temporal(TemporalType.TIMESTAMP)\r\n    @Column(name = &quot;updated_on&quot;, nullable = false)\r\n    private Date updatedOn;\r\n```\r\n\r\n\r\n\r\nService\r\n```\r\npublic interface UpdateMemberService {\r\n\r\n   ResponseEntity&lt;Member&gt; getMember(long id, Member member);\r\n\r\n}\r\n```\r\n\r\nServiceImpl\r\n```\r\n@Service\r\npublic class UpdateMemberServiceImpl implements UpdateMemberService {\r\n\r\n    @Autowired\r\n    private UpdateMemberRepository memberRepository;\r\n\r\n    @Override\r\n    public ResponseEntity&lt;Member&gt; getMember(long id, Member member) {\r\n\r\n        Member getMember = memberRepository.findById(id).get();\r\n\r\n        getMember.setFirstName(member.getFirstName());\r\n        getMember.setLastName(member.getLastName());\r\n        getMember.setNationality(member.getNationality());\r\n        getMember.setCountryOfResidence(member.getCountryOfResidence());\r\n        getMember.setDateOfBirth(member.getDateOfBirth());\r\n        getMember.setCurrentJobTitle(member.getCurrentJobTitle());\r\n        getMember.setEmailAddress(member.getEmailAddress());\r\n        getMember.setPassword(member.getPassword());\r\n        getMember.setAvatar(member.getAvatar());\r\n        getMember.setActive(member.getActive());\r\n        Member updateMember = memberRepository.save(getMember);\r\n        return ResponseEntity.ok().body(updateMember);\r\n    }\r\n\r\n}\r\n```\r\n\r\nController\r\n```\r\n@RestController\r\n@RequestMapping\r\npublic class UpdateMemberController {\r\n\r\n    @Autowired\r\n    private UpdateMemberService memberService;\r\n\r\n    @PutMapping(&quot;/update/{id}&quot;)\r\n    public ResponseEntity&lt;Member&gt; updateDetails(@PathVariable(value = &quot;id&quot;) Long id, @RequestBody Member member){\r\n        return memberService.getMember(id, member);\r\n    }\r\n}\r\n```\r\n","title":"Update User details endpoint returns 405, &quot;error&quot;: &quot;Method Not Allowed&quot;,","body":"<p>I'm trying to update the detail of an existing user in the member table but when I tried to test the endpoint using postman it returned a <code>405, &quot;error&quot;: &quot;Method Not Allowed&quot;,</code>. I tried to find an existing user by id and update the details so that JPA will automatically save it to the database but it return this error</p>\n<p>Member</p>\n<pre><code>@Id\n @GeneratedValue(strategy = GenerationType.IDENTITY)\n private Long id;\n\n @Column(name = &quot;first_name&quot;, nullable = false)\n private String firstName;\n\n @Column(name = &quot;last_name&quot;, nullable = false)\n private String lastName;\n\n @ManyToOne(fetch = FetchType.EAGER, optional = false)\n @JoinColumn(name = &quot;nationality_id&quot;, nullable = false)\n private Country nationality;\n\n @ManyToOne(fetch = FetchType.EAGER, optional = false)\n @JoinColumn(name = &quot;country_of_residence_id&quot;, nullable = false)\n private Country countryOfResidence;\n\n @Temporal(TemporalType.DATE)\n @Column(name =&quot;date_of_birth&quot;, nullable = false, updatable = false)\n private Date dateOfBirth;\n\n @Column(name =&quot;current_job_title&quot;, nullable = false)\n private String currentJobTitle;\n\n @Column(name = &quot;email_address&quot;, nullable = false)\n private String emailAddress;\n\n @Column(name =&quot;phone_number&quot;, nullable = false)\n private String phoneNumber;\n\n @Column(name =&quot;password&quot;, nullable = false)\n private String password;\n\n @Column(name =&quot;avatar&quot;)\n private String avatar;\n\n @CreationTimestamp\n @Temporal(TemporalType.TIMESTAMP)\n @Column(name = &quot;created_on&quot;, updatable = false, nullable = false)\n private Date createdOn;\n\n @UpdateTimestamp\n @Temporal(TemporalType.TIMESTAMP)\n @Column(name = &quot;updated_on&quot;, nullable = false)\n private Date updatedOn;\n</code></pre>\n<p>Service</p>\n<pre><code>public interface UpdateMemberService {\n\n   ResponseEntity&lt;Member&gt; getMember(long id, Member member);\n\n}\n</code></pre>\n<p>ServiceImpl</p>\n<pre><code>@Service\npublic class UpdateMemberServiceImpl implements UpdateMemberService {\n\n    @Autowired\n    private UpdateMemberRepository memberRepository;\n\n    @Override\n    public ResponseEntity&lt;Member&gt; getMember(long id, Member member) {\n\n        Member getMember = memberRepository.findById(id).get();\n\n        getMember.setFirstName(member.getFirstName());\n        getMember.setLastName(member.getLastName());\n        getMember.setNationality(member.getNationality());\n        getMember.setCountryOfResidence(member.getCountryOfResidence());\n        getMember.setDateOfBirth(member.getDateOfBirth());\n        getMember.setCurrentJobTitle(member.getCurrentJobTitle());\n        getMember.setEmailAddress(member.getEmailAddress());\n        getMember.setPassword(member.getPassword());\n        getMember.setAvatar(member.getAvatar());\n        getMember.setActive(member.getActive());\n        Member updateMember = memberRepository.save(getMember);\n        return ResponseEntity.ok().body(updateMember);\n    }\n\n}\n</code></pre>\n<p>Controller</p>\n<pre><code>@RestController\n@RequestMapping\npublic class UpdateMemberController {\n\n    @Autowired\n    private UpdateMemberService memberService;\n\n    @PutMapping(&quot;/update/{id}&quot;)\n    public ResponseEntity&lt;Member&gt; updateDetails(@PathVariable(value = &quot;id&quot;) Long id, @RequestBody Member member){\n        return memberService.getMember(id, member);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","resultset","jdbctemplate"],"answers":[{"tags":[],"owner":{"account_id":14964196,"reputation":398,"user_id":10803013,"display_name":"andresmonc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668975770,"creation_date":1668975770,"answer_id":74511697,"question_id":74478250,"body_markdown":"I found a solution after some more digging! Looks like you can somehow get around this by putting a concat around the columns causing the issue.\r\n\r\nlike this\r\n```\r\nSELECT d.*, CONCAT(a.mongo_id,&#39;&#39;) as yyyyy_profile_mongo_id,CONCAT(t.mongo_id,&#39;&#39;) as targeting_profile_mongo_id, CAST(xxxxx_type AS SIGNED) AS xxxxx_type_int\r\nLEFT JOIN zzzzz t on t.id = d.targeting_profile_id\r\nLEFT JOIN yyyyy a on a.id = d.yyyyy_profile_id\r\nFROM xxxxx d\r\n```\r\n\r\nhttps://stackoverflow.com/questions/40775548/mysql-column-alias-not-working-have-to-create-an-empty-concatenation-to-make-it","title":"ResultSet Value of Aliased Column without Column Index","body":"<p>I found a solution after some more digging! Looks like you can somehow get around this by putting a concat around the columns causing the issue.</p>\n<p>like this</p>\n<pre><code>SELECT d.*, CONCAT(a.mongo_id,'') as yyyyy_profile_mongo_id,CONCAT(t.mongo_id,'') as targeting_profile_mongo_id, CAST(xxxxx_type AS SIGNED) AS xxxxx_type_int\nLEFT JOIN zzzzz t on t.id = d.targeting_profile_id\nLEFT JOIN yyyyy a on a.id = d.yyyyy_profile_id\nFROM xxxxx d\n</code></pre>\n<p><a href=\"https://stackoverflow.com/questions/40775548/mysql-column-alias-not-working-have-to-create-an-empty-concatenation-to-make-it\">mysql column alias not working, have to create an empty concatenation to make it work</a></p>\n"}],"owner":{"account_id":14964196,"reputation":398,"user_id":10803013,"display_name":"andresmonc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74511697,"answer_count":1,"score":1,"last_activity_date":1668975770,"creation_date":1668699731,"question_id":74478250,"body_markdown":"I&#39;m running the following query using a jdbc template against a MySQL db:\r\n```\r\nSELECT d.*, a.mongo_id as yyyyy_profile_mongo_id,t.mongo_id as targeting_profile_mongo_id, CAST(xxxxx_type AS SIGNED) AS xxxxx_type_int\r\nLEFT JOIN zzzzz t on t.id = d.targeting_profile_id\r\nLEFT JOIN yyyyy a on a.id = d.yyyyy_profile_id\r\nFROM xxxxx d\r\n```\r\n\r\nWhen attempting to get a string from a ResultSet using the aliased name &quot;**targeting_profile_mongo_id**&quot; I get a &quot;**Invalid Column Name**&quot; error\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI can see in the debugger that even though I did &quot;**as targeting_profile_mongo_id**&quot; the columnName still shows as the original value of &quot;mongo_id&quot; and only the column label is changed.\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n\r\n**Are there any work arounds here without having to loop through the metadata to find the column index?**\r\n\r\n  [1]: https://i.stack.imgur.com/VmRtJl.png\r\n  [2]: https://i.stack.imgur.com/zGBSEl.png","title":"ResultSet Value of Aliased Column without Column Index","body":"<p>I'm running the following query using a jdbc template against a MySQL db:</p>\n<pre><code>SELECT d.*, a.mongo_id as yyyyy_profile_mongo_id,t.mongo_id as targeting_profile_mongo_id, CAST(xxxxx_type AS SIGNED) AS xxxxx_type_int\nLEFT JOIN zzzzz t on t.id = d.targeting_profile_id\nLEFT JOIN yyyyy a on a.id = d.yyyyy_profile_id\nFROM xxxxx d\n</code></pre>\n<p>When attempting to get a string from a ResultSet using the aliased name &quot;<strong>targeting_profile_mongo_id</strong>&quot; I get a &quot;<strong>Invalid Column Name</strong>&quot; error</p>\n<p><a href=\"https://i.stack.imgur.com/VmRtJl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VmRtJl.png\" alt=\"enter image description here\" /></a></p>\n<p>I can see in the debugger that even though I did &quot;<strong>as targeting_profile_mongo_id</strong>&quot; the columnName still shows as the original value of &quot;mongo_id&quot; and only the column label is changed.</p>\n<p><a href=\"https://i.stack.imgur.com/zGBSEl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zGBSEl.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Are there any work arounds here without having to loop through the metadata to find the column index?</strong></p>\n"},{"tags":["java","sorting"],"comments":[{"owner":{"account_id":16683494,"reputation":126,"user_id":12058001,"display_name":"Aitsuken"},"score":0,"creation_date":1668869428,"post_id":74500998,"comment_id":131513254,"body_markdown":"Can you be more precise? Explain how that combination works? Is What kind of operations is it or is it just joining values together like 12 + 22 = 1222?","body":"Can you be more precise? Explain how that combination works? Is What kind of operations is it or is it just joining values together like 12 + 22 = 1222?"},{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1668870092,"post_id":74500998,"comment_id":131513398,"body_markdown":"Do you understand that the solution is NOT to sort the array ? `[&quot;19&quot;, &quot;9&quot;]` is maximized with 919 not 199","body":"Do you understand that the solution is NOT to sort the array ? <code>[&quot;19&quot;, &quot;9&quot;]</code> is maximized with 919 not 199"},{"owner":{"account_id":22460276,"reputation":1,"user_id":16662311,"display_name":"IH8COFFEE"},"score":0,"creation_date":1668885672,"post_id":74500998,"comment_id":131516871,"body_markdown":"I&#39;m currently just concatenating string values of the integers together :&gt;","body":"I&#39;m currently just concatenating string values of the integers together :&gt;"},{"owner":{"account_id":22460276,"reputation":1,"user_id":16662311,"display_name":"IH8COFFEE"},"score":0,"creation_date":1668885751,"post_id":74500998,"comment_id":131516889,"body_markdown":"I have minimal experience in programming, my initial thought was to sort because I did not think about those cases.","body":"I have minimal experience in programming, my initial thought was to sort because I did not think about those cases."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1668973146,"post_id":74500998,"comment_id":131530554,"body_markdown":"A reverse _lexical sorting_ (by character/strings) of your array would just about work, you&#39;d need to simply weight by their combination instead of individually (since `&quot;75&quot; &gt; &quot;7&quot;` for reverse lexical). Thus: `{10, 68, 75, 7, 21, 12} =&gt; {7, 75, 68, 21, 12, 10}`, which concatenates to `77568211210`.","body":"A reverse <i>lexical sorting</i> (by character/strings) of your array would just about work, you&#39;d need to simply weight by their combination instead of individually (since <code>&quot;75&quot; &gt; &quot;7&quot;</code> for reverse lexical). Thus: <code>{10, 68, 75, 7, 21, 12} =&gt; {7, 75, 68, 21, 12, 10}</code>, which concatenates to <code>77568211210</code>."}],"answers":[{"tags":[],"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668873241,"creation_date":1668873241,"answer_id":74501476,"question_id":74500998,"body_markdown":"You&#39;re on the right track. But think about it, which number will &quot;give&quot; more to the final result: 91 or 911.\r\n\r\nIt should be obvious that the shorter number gives more &quot;possibilities&quot; to get higher number. So your sort should prioritize shorter numbers if two numbers begin with same characters","title":"Finding the largest combination given a list/array of integers","body":"<p>You're on the right track. But think about it, which number will &quot;give&quot; more to the final result: 91 or 911.</p>\n<p>It should be obvious that the shorter number gives more &quot;possibilities&quot; to get higher number. So your sort should prioritize shorter numbers if two numbers begin with same characters</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668975460,"creation_date":1668972575,"answer_id":74511272,"question_id":74500998,"body_markdown":"Just `lexically` compare each pair of integers as strings, concatenated back to back.  Consider `77` and `234`. `&quot;77243&quot;` is `lexically` greater than `&quot;23477&quot;`. So `77` would come first, then `234`.\r\n```\r\nList&lt;Integer&gt; list = new ArrayList&lt;&gt;(List.of(92, 101, 79, 42, 2002, 22));\r\n\r\nComparator&lt;Integer&gt; comp = (b,a)-&gt; (a+&quot;&quot;+b).compareTo(b+&quot;&quot;+a);\r\n\r\nlist.sort(comp);\r\nSystem.out.println(list);\r\n    \r\nString result = list.stream().map(i-&gt;Integer.toString(i)).reduce(&quot;&quot;,String::concat);\r\nSystem.out.println(result);\r\n```\r\nprints\r\n```\r\n[92, 79, 42, 22, 2002, 101]\r\n927942222002101\r\n```\r\n\r\n\r\n","title":"Finding the largest combination given a list/array of integers","body":"<p>Just <code>lexically</code> compare each pair of integers as strings, concatenated back to back.  Consider <code>77</code> and <code>234</code>. <code>&quot;77243&quot;</code> is <code>lexically</code> greater than <code>&quot;23477&quot;</code>. So <code>77</code> would come first, then <code>234</code>.</p>\n<pre><code>List&lt;Integer&gt; list = new ArrayList&lt;&gt;(List.of(92, 101, 79, 42, 2002, 22));\n\nComparator&lt;Integer&gt; comp = (b,a)-&gt; (a+&quot;&quot;+b).compareTo(b+&quot;&quot;+a);\n\nlist.sort(comp);\nSystem.out.println(list);\n    \nString result = list.stream().map(i-&gt;Integer.toString(i)).reduce(&quot;&quot;,String::concat);\nSystem.out.println(result);\n</code></pre>\n<p>prints</p>\n<pre><code>[92, 79, 42, 22, 2002, 101]\n927942222002101\n</code></pre>\n"}],"owner":{"account_id":22460276,"reputation":1,"user_id":16662311,"display_name":"IH8COFFEE"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668975460,"creation_date":1668869229,"question_id":74500998,"body_markdown":"A problem given by my lab professor, as the title reads:\r\n*Find the largest combination given a list/array of integers.*\r\nie:\r\n\r\n```\r\ninput: {10, 68, 75, 7, 21, 12}\r\nstdout: 77568211210\r\nmy output : 75768211210\r\n```\r\n\r\nThe current code:\r\n\r\n\r\n```\r\nimport java.util.*;\r\nimport java.lang.*;\r\n\r\npublic class classwork6\r\n{\r\n\tstatic Scanner in = new Scanner(System.in);\r\n\tstatic void sort(String[] arr)\r\n\t{\r\n\t\tfor(int i=0;i&lt;arr.length;i++)\r\n\t\t{\r\n\t\t\tfor(int j=i+1;j&lt;arr.length;j++)\r\n\t\t\t{\r\n\t\t\t\tif(arr[i].compareTo(arr[j])&lt;0)\r\n\t\t\t\t{\r\n\t\t\t\t\tString temp = arr[i];\r\n\t\t\t\t\tarr[i] = arr[j];\r\n\t\t\t\t\tarr[j] = temp;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\tint[] list = {10, 68, 75, 7, 21, 12};\r\n\t\tString[] arr = new String[list.length];\r\n\t\tfor(int i=0;i&lt;list.length;i++)\r\n\t\t{\r\n\t\t\tarr[i] = String.valueOf(list[i]);\r\n\t\t}\r\n\t\tsort(arr);\r\n\t\tSystem.out.print(Arrays.toString(arr).replaceAll(&quot;[\\\\[\\\\], ]&quot;,&quot;&quot;));\r\n\t}\r\n}\r\n```\r\n\r\n\r\n\r\nMy first attempt was simply sorting the array, after which I quickly found out that 777568211210\\&gt;75682112107\r\n\r\nMy latest attempt was to lexicographically compare the string values of the integers. Yet the output is still incorrect\r\n777568211210\\&gt;75768211210","title":"Finding the largest combination given a list/array of integers","body":"<p>A problem given by my lab professor, as the title reads:\n<em>Find the largest combination given a list/array of integers.</em>\nie:</p>\n<pre><code>input: {10, 68, 75, 7, 21, 12}\nstdout: 77568211210\nmy output : 75768211210\n</code></pre>\n<p>The current code:</p>\n<pre><code>import java.util.*;\nimport java.lang.*;\n\npublic class classwork6\n{\n    static Scanner in = new Scanner(System.in);\n    static void sort(String[] arr)\n    {\n        for(int i=0;i&lt;arr.length;i++)\n        {\n            for(int j=i+1;j&lt;arr.length;j++)\n            {\n                if(arr[i].compareTo(arr[j])&lt;0)\n                {\n                    String temp = arr[i];\n                    arr[i] = arr[j];\n                    arr[j] = temp;\n                }\n            }\n        }\n    }\n    public static void main(String[] args)\n    {\n        int[] list = {10, 68, 75, 7, 21, 12};\n        String[] arr = new String[list.length];\n        for(int i=0;i&lt;list.length;i++)\n        {\n            arr[i] = String.valueOf(list[i]);\n        }\n        sort(arr);\n        System.out.print(Arrays.toString(arr).replaceAll(&quot;[\\\\[\\\\], ]&quot;,&quot;&quot;));\n    }\n}\n</code></pre>\n<p>My first attempt was simply sorting the array, after which I quickly found out that 777568211210&gt;75682112107</p>\n<p>My latest attempt was to lexicographically compare the string values of the integers. Yet the output is still incorrect\n777568211210&gt;75768211210</p>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":18118137,"reputation":86,"user_id":13174552,"display_name":"Ammar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668974804,"creation_date":1668974804,"answer_id":74511587,"question_id":74511056,"body_markdown":"You can&#39;t control lottie animation file with seekbar. \r\nBut you can edit your lottie animation file [here][1]\r\n\r\n\r\n  [1]: https://lottiefiles.com/editor","title":"Controlling animation from seekbar","body":"<p>You can't control lottie animation file with seekbar.\nBut you can edit your lottie animation file <a href=\"https://lottiefiles.com/editor\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":25853552,"reputation":9,"user_id":19587201,"display_name":"hungrycoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1668974804,"creation_date":1668970855,"question_id":74511056,"body_markdown":"I am new to android. I have a lottie json file and based upon a seekbar want to control the amount of animation it is showing like at 0 the animation should start and at 50 it should show only 50 and finish at 100 also . \r\n\r\nI havent tried anything so far as have no clue on this.","title":"Controlling animation from seekbar","body":"<p>I am new to android. I have a lottie json file and based upon a seekbar want to control the amount of animation it is showing like at 0 the animation should start and at 50 it should show only 50 and finish at 100 also .</p>\n<p>I havent tried anything so far as have no clue on this.</p>\n"},{"tags":["java","algorithm","sorting","mergesort"],"answers":[{"tags":[],"owner":{"account_id":3979878,"reputation":27592,"user_id":3282056,"accept_rate":80,"display_name":"rcgldr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668974728,"creation_date":1668929668,"answer_id":74506364,"question_id":74505672,"body_markdown":"Minimizing changes to the code, this should work:\r\n\r\n          int end_of_first = (i+len &lt;= arr.length) ?  i+len : arr.length ;                                        \r\n          int end_of_2nd = (j+len &lt;= arr.length) ?  j+len : arr.length ;\r\n          // ...\r\n          while (i &lt; end_of_first &amp;&amp; j &lt; end_of_2nd) {\r\n          // ...\r\n          for(; i &lt;end_of_first; i++) {\r\n          // ...\r\n          for(; j &lt; end_of_2nd; j++) {\r\n          // ...\r\n","title":"Need to get rid of big for this Iterative MergeSort Algo to work with input size that isn&#39;t just power of 2 (2,4,8,16)?","body":"<p>Minimizing changes to the code, this should work:</p>\n<pre><code>      int end_of_first = (i+len &lt;= arr.length) ?  i+len : arr.length ;                                        \n      int end_of_2nd = (j+len &lt;= arr.length) ?  j+len : arr.length ;\n      // ...\n      while (i &lt; end_of_first &amp;&amp; j &lt; end_of_2nd) {\n      // ...\n      for(; i &lt;end_of_first; i++) {\n      // ...\n      for(; j &lt; end_of_2nd; j++) {\n      // ...\n</code></pre>\n"}],"owner":{"account_id":26758902,"reputation":25,"user_id":20357149,"display_name":"Muhammad Ahmad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74506364,"answer_count":1,"score":0,"last_activity_date":1668974728,"creation_date":1668918916,"question_id":74505672,"body_markdown":"```\r\n\r\npublic class ChangeStatic {\r\n    static int [] arr = {4, 2, 7, 6, 3, 0, 5, 1};\r\n    public static void main(String[] args) {\r\n\r\n        System.out.println(&quot;Original: &quot;);\r\n        for (int i = 0; i &lt; arr.length; i++) {\r\n            System.out.print(arr[i] + &quot; &quot;);\r\n        }\r\n        Iteration();\r\n        System.out.println();\r\n        System.out.println(&quot;Sorted: &quot;);\r\n        for (int i = 0; i &lt; arr.length; i++) {\r\n            System.out.print(arr[i] + &quot; &quot;);\r\n        }\r\n    }\r\n\r\n \r\n    public static void Iteration() {\r\n     \r\n        int n = arr.length;\r\n    \r\n        int [] dest = new int[n];\r\n     \r\n\r\n      \r\n\r\n      //after each iteration: chunks are sorted : in last iteration two biggest chucks are sorted\r\n      \r\n        for (int size = 2; size &lt;= n; size*=2) {\r\n        \r\n        //after each iteration : move onto next chunk\r\n        for (int left = 0; left+size-1 &lt; n; left = left + size) {      \r\n          Merge(arr, dest, left, size/2);\r\n        }\r\n        \r\n        int[] temporary = dest;\r\n        dest = arr;\r\n        arr = temporary; \r\n    }\r\n       \r\n        \r\n    }\r\n    \r\n    //dest is where the finished set goes :  merge from source -&gt; dest ()() -&gt; (  )\r\n    //start = index where first subarray starts\r\n    //len = size of 1st subarray\r\n    //len = sometimes also size of 2nd subarray but sometimes not\r\n    public static void Merge(int [] source, int [] destination, int start, int len) {\r\n      int i = start;\r\n      int j =  start + len ;\r\n  \r\n      int k = i;\r\n        int end_of_first = i+len-1;\r\n        int end_of_2nd = (j+len-1 &lt;= arr.length)    ?  j+len-1   :   j+len-2   ;                                        \r\n  \r\n      \r\n      while (i &lt;= end_of_first &amp;&amp; j &lt;= end_of_2nd) {\r\n        if(source[i] &lt; source[j]) {\r\n          destination[k++] = source[i++];\r\n        }\r\n        else {\r\n        destination[k++] = source[j++];\r\n        } \r\n\r\n      }\r\n      for(;i&lt;=end_of_first; i++) {\r\n        destination[k++] = source[i];\r\n      }\r\n      for(;j &lt;= end_of_2nd; j++) {\r\n        destination[k++] = source[j];\r\n      }\r\n    \r\n    \r\n    \r\n    }\r\n}\r\n```\r\nI realize one of the possible bugs is the fact that when there isn&#39;t an even distribution (say like 9 elements would have the righter most element hanging alone), the last subarray won&#39;t have the same size as the left subarray? How to get rid of this problem? As you can see I tried my best by playing around with the Ternary Operator but I&#39;m far from correct. Currently my code only works for power of 2 inputs which is relatively easier to understand as it&#39;s a divide by 2 algorithm. \r\n\r\nTried using the Ternary Operator in different ways (above is just one of my attempts) to avoid the index out of bounds exception but Im missing the correct logic. ","title":"Need to get rid of big for this Iterative MergeSort Algo to work with input size that isn&#39;t just power of 2 (2,4,8,16)?","body":"<pre><code>\npublic class ChangeStatic {\n    static int [] arr = {4, 2, 7, 6, 3, 0, 5, 1};\n    public static void main(String[] args) {\n\n        System.out.println(&quot;Original: &quot;);\n        for (int i = 0; i &lt; arr.length; i++) {\n            System.out.print(arr[i] + &quot; &quot;);\n        }\n        Iteration();\n        System.out.println();\n        System.out.println(&quot;Sorted: &quot;);\n        for (int i = 0; i &lt; arr.length; i++) {\n            System.out.print(arr[i] + &quot; &quot;);\n        }\n    }\n\n \n    public static void Iteration() {\n     \n        int n = arr.length;\n    \n        int [] dest = new int[n];\n     \n\n      \n\n      //after each iteration: chunks are sorted : in last iteration two biggest chucks are sorted\n      \n        for (int size = 2; size &lt;= n; size*=2) {\n        \n        //after each iteration : move onto next chunk\n        for (int left = 0; left+size-1 &lt; n; left = left + size) {      \n          Merge(arr, dest, left, size/2);\n        }\n        \n        int[] temporary = dest;\n        dest = arr;\n        arr = temporary; \n    }\n       \n        \n    }\n    \n    //dest is where the finished set goes :  merge from source -&gt; dest ()() -&gt; (  )\n    //start = index where first subarray starts\n    //len = size of 1st subarray\n    //len = sometimes also size of 2nd subarray but sometimes not\n    public static void Merge(int [] source, int [] destination, int start, int len) {\n      int i = start;\n      int j =  start + len ;\n  \n      int k = i;\n        int end_of_first = i+len-1;\n        int end_of_2nd = (j+len-1 &lt;= arr.length)    ?  j+len-1   :   j+len-2   ;                                        \n  \n      \n      while (i &lt;= end_of_first &amp;&amp; j &lt;= end_of_2nd) {\n        if(source[i] &lt; source[j]) {\n          destination[k++] = source[i++];\n        }\n        else {\n        destination[k++] = source[j++];\n        } \n\n      }\n      for(;i&lt;=end_of_first; i++) {\n        destination[k++] = source[i];\n      }\n      for(;j &lt;= end_of_2nd; j++) {\n        destination[k++] = source[j];\n      }\n    \n    \n    \n    }\n}\n</code></pre>\n<p>I realize one of the possible bugs is the fact that when there isn't an even distribution (say like 9 elements would have the righter most element hanging alone), the last subarray won't have the same size as the left subarray? How to get rid of this problem? As you can see I tried my best by playing around with the Ternary Operator but I'm far from correct. Currently my code only works for power of 2 inputs which is relatively easier to understand as it's a divide by 2 algorithm.</p>\n<p>Tried using the Ternary Operator in different ways (above is just one of my attempts) to avoid the index out of bounds exception but Im missing the correct logic.</p>\n"},{"tags":["java","arrays","bubble-sort"],"comments":[{"owner":{"account_id":26989080,"reputation":13,"user_id":20552257,"display_name":"zucarea"},"score":0,"creation_date":1668971106,"post_id":74511085,"comment_id":131530036,"body_markdown":"I apologize for the formatting issues, this is my first time posting a question","body":"I apologize for the formatting issues, this is my first time posting a question"},{"owner":{"account_id":26989080,"reputation":13,"user_id":20552257,"display_name":"zucarea"},"score":0,"creation_date":1668973225,"post_id":74511085,"comment_id":131530573,"body_markdown":"i ended up calling bubble sort as the answer i got suggested, in the println asking for the sorted list, and it still isnt running","body":"i ended up calling bubble sort as the answer i got suggested, in the println asking for the sorted list, and it still isnt running"},{"owner":{"account_id":26989080,"reputation":13,"user_id":20552257,"display_name":"zucarea"},"score":0,"creation_date":1668973283,"post_id":74511085,"comment_id":131530590,"body_markdown":"as for it not being a conventional bubble sort, I&#39;m not sure, as my professor gave us this specific code to work with, minus my addition of trying to make it print","body":"as for it not being a conventional bubble sort, I&#39;m not sure, as my professor gave us this specific code to work with, minus my addition of trying to make it print"}],"answers":[{"tags":[],"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668971587,"creation_date":1668971587,"answer_id":74511148,"question_id":74511085,"body_markdown":"In Java (and most languages), only the &quot;Main&quot; method runs automatically; that is the entry point for your code. Other methods won&#39;t run unless you call them.\r\n\r\nYou should look up &quot;Control flow&quot; to generally understand more of what gets run and when, but for now, you just need to call that method. Calling a method is what you&#39;re doing with code like `Arrays.toString(list)`, but in this case the method is in the local namespace, so you just need `bubbleSort(list)`","title":"why is my second main method (bubble sorting?) not running?","body":"<p>In Java (and most languages), only the &quot;Main&quot; method runs automatically; that is the entry point for your code. Other methods won't run unless you call them.</p>\n<p>You should look up &quot;Control flow&quot; to generally understand more of what gets run and when, but for now, you just need to call that method. Calling a method is what you're doing with code like <code>Arrays.toString(list)</code>, but in this case the method is in the local namespace, so you just need <code>bubbleSort(list)</code></p>\n"}],"owner":{"account_id":26989080,"reputation":13,"user_id":20552257,"display_name":"zucarea"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":74511148,"answer_count":1,"score":-1,"last_activity_date":1668973886,"creation_date":1668971065,"question_id":74511085,"body_markdown":"the first part of my code is working fine, but the bubble sort part is not running at all, at least I don&#39;t believe it is, as I cannot get my code to print the sorted list. I have tried making everything doubles, and adding in to return the list, but I still cannot make it work\r\n\r\nThis is my code thus far:\r\n```\r\npublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t\t//create array\r\n\t\tdouble[] list = new double[10];       \r\n\t    //Generates 10 Random Numbers in the range 1 -20\r\n\t    for(int i = 0; i &lt; list.length; i++) {\r\n\t      list[i] = (int)(Math.random()* 100 + 1);\r\n\t    }//end for loop\r\n\t    System.out.println(&quot;The unsorted list is: &quot; + Arrays.toString(list));\t  \r\n\r\n\t\t//find max number\r\n\t\tdouble max = -1;\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; list.length; i++) {\r\n\t\t\tif (list[i] &gt; max) max = list[i];\r\n\t\t}\r\n\t\tSystem.out.println(&quot;The largest value is &quot; + max);\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n    public static double[] bubbleSort(double[] list) \r\n        {\r\n          double temp;\r\n             \r\n        for (int i = list.length - 1; i &gt; 0; i--) \r\n            {\r\n               for (int j = 0; j &lt; i; j++) \r\n               {\r\n                 if (list[j] &gt; list[j + 1]) \r\n                 {\r\n                 temp = list[j];\r\n                 list[j] = list[j + 1];\r\n                 list[j + 1] = temp;  \r\n                 System.out.println(&quot;The sorted list is: &quot; + bubbleSort(list) + &quot; &quot;);\r\n                 \r\n                 }\r\n                 \r\n               }\r\n            }\r\n\t\treturn list;\r\n    \t\t\t\r\n\r\n}\r\n}\r\n\r\n\r\n```","title":"why is my second main method (bubble sorting?) not running?","body":"<p>the first part of my code is working fine, but the bubble sort part is not running at all, at least I don't believe it is, as I cannot get my code to print the sorted list. I have tried making everything doubles, and adding in to return the list, but I still cannot make it work</p>\n<p>This is my code thus far:</p>\n<pre><code>public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        \n        //create array\n        double[] list = new double[10];       \n        //Generates 10 Random Numbers in the range 1 -20\n        for(int i = 0; i &lt; list.length; i++) {\n          list[i] = (int)(Math.random()* 100 + 1);\n        }//end for loop\n        System.out.println(&quot;The unsorted list is: &quot; + Arrays.toString(list));     \n\n        //find max number\n        double max = -1;\n        \n        for (int i = 0; i &lt; list.length; i++) {\n            if (list[i] &gt; max) max = list[i];\n        }\n        System.out.println(&quot;The largest value is &quot; + max);\n        \n    }\n    \n    \n    public static double[] bubbleSort(double[] list) \n        {\n          double temp;\n             \n        for (int i = list.length - 1; i &gt; 0; i--) \n            {\n               for (int j = 0; j &lt; i; j++) \n               {\n                 if (list[j] &gt; list[j + 1]) \n                 {\n                 temp = list[j];\n                 list[j] = list[j + 1];\n                 list[j + 1] = temp;  \n                 System.out.println(&quot;The sorted list is: &quot; + bubbleSort(list) + &quot; &quot;);\n                 \n                 }\n                 \n               }\n            }\n        return list;\n                \n\n}\n}\n\n\n</code></pre>\n"},{"tags":["java","data-structures","junit","linked-list","addition"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1668973892,"post_id":74511398,"comment_id":131530760,"body_markdown":"How is the size calculated?","body":"How is the size calculated?"},{"owner":{"account_id":14000967,"reputation":11,"user_id":10112599,"display_name":"Emir"},"score":0,"creation_date":1668974131,"post_id":74511398,"comment_id":131530826,"body_markdown":"Size is set at 0 when the list is initialized and size++ is called whenever the add(element) *with no specified index* is called.","body":"Size is set at 0 when the list is initialized and size++ is called whenever the add(element) <i>with no specified index</i> is called."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1668974237,"post_id":74511398,"comment_id":131530854,"body_markdown":"So what could be the reason that when an element is added on a specific index, the size is one too low? :)","body":"So what could be the reason that when an element is added on a specific index, the size is one too low? :)"},{"owner":{"account_id":10435977,"reputation":815,"user_id":7694279,"display_name":"Lone Lunatic"},"score":0,"creation_date":1668975396,"post_id":74511398,"comment_id":131531136,"body_markdown":"When thinking about algorithms on custom data structures I usually like to imagine that I am a train worker on a railway system. Imagine yourself in terms of being able to drive from station to station and set the switches to connect the stations in a particular order. What would you tell someone who wants to add an element (station) to a specific index. Which switches would he have to set to achieve the new order. Doing it graphically can help too.","body":"When thinking about algorithms on custom data structures I usually like to imagine that I am a train worker on a railway system. Imagine yourself in terms of being able to drive from station to station and set the switches to connect the stations in a particular order. What would you tell someone who wants to add an element (station) to a specific index. Which switches would he have to set to achieve the new order. Doing it graphically can help too."},{"owner":{"account_id":14000967,"reputation":11,"user_id":10112599,"display_name":"Emir"},"score":0,"creation_date":1668978944,"post_id":74511398,"comment_id":131531846,"body_markdown":"I&#39;ve reworked the code to this, I&#39;m still not passing the JUnit test, but I feel like I&#39;m closer.\n```\tpublic void add(int index, E element) {\n\t\tif (index == 0) {\n\t\t\tNode node = head;\n\t\t\tNode newNode = new Node(element, node);\n\t\t\tsize++;\n\t\t}\n\t\telse {\n\t\t\tNode node = head;\n\t\t\tfor (int i=0; i&lt;index - 1; i++) {\n\t\t\t\tnode = node.next;\n\t\t\t}\n\t\t\tNode newNode = new Node(element, node.next);\n\t\t\tnode.next = newNode;\n\t\t\tsize++;\n\t\t}\n\t}```","body":"I&#39;ve reworked the code to this, I&#39;m still not passing the JUnit test, but I feel like I&#39;m closer. ```\tpublic void add(int index, E element) { \t\tif (index == 0) { \t\t\tNode node = head; \t\t\tNode newNode = new Node(element, node); \t\t\tsize++; \t\t} \t\telse { \t\t\tNode node = head; \t\t\tfor (int i=0; i&lt;index - 1; i++) { \t\t\t\tnode = node.next; \t\t\t} \t\t\tNode newNode = new Node(element, node.next); \t\t\tnode.next = newNode; \t\t\tsize++; \t\t} \t}```"},{"owner":{"account_id":14000967,"reputation":11,"user_id":10112599,"display_name":"Emir"},"score":0,"creation_date":1669001213,"post_id":74511398,"comment_id":131535229,"body_markdown":"I got it working! I had to let the program know what the new head was going to be in the scenario that the new element added was at the front of the list. Thank you all for the help!","body":"I got it working! I had to let the program know what the new head was going to be in the scenario that the new element added was at the front of the list. Thank you all for the help!"}],"owner":{"account_id":14000967,"reputation":11,"user_id":10112599,"display_name":"Emir"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668973580,"creation_date":1668973580,"question_id":74511398,"body_markdown":"I&#39;m currently trying to teach myself Data Structures through Allen Downey&#39;s Think Data Structures book and I&#39;m on excersize 3 where I&#39;m reimplementing methods to Java&#39;s LinkedList class. I&#39;m working on a method that allows you to add an element to a specified index in the linkedlist. I have attemped two implementations which both fail the provided JUnit test. Thank you for the help and sorry if I&#39;m missing something super obvious, it happens to me all the time. If possible, I would appreciate hints to the right direction rather than getting the answer itself.\r\n\r\nI have tried\r\n```\r\npublic void add(int index, E element) {\r\n\t\tNode newNode = new Node(element);\r\n\t\tNode node = getNode(index);\r\n\t\tnewNode.next = node;\r\n\t\tnode = getNode(index - 1);\r\n\t\tnode.next = newNode;\r\n\t}\r\n```\r\n\r\nand\r\n\r\n```\r\npublic void add(int index, E element) {\r\n\t\tNode newNode = new Node(element, getNode(index));\r\n\t\tgetNode(index-1).next = newNode;\r\n\t}\r\n```\r\n\r\nwhich the JUnit test for both says Expected is &lt;4&gt; but was &lt;3&gt;\r\nThe java files I&#39;m working with are in this repository: https://github.com/AllenDowney/ThinkDataStructures/tree/master/code/src/com/allendowney/thinkdast\r\nWhich the two specific files are MyLinkedList.java and MyLinkedListTest.java","title":"Hints with implementing add(index, element) function in a LinkedList in Java","body":"<p>I'm currently trying to teach myself Data Structures through Allen Downey's Think Data Structures book and I'm on excersize 3 where I'm reimplementing methods to Java's LinkedList class. I'm working on a method that allows you to add an element to a specified index in the linkedlist. I have attemped two implementations which both fail the provided JUnit test. Thank you for the help and sorry if I'm missing something super obvious, it happens to me all the time. If possible, I would appreciate hints to the right direction rather than getting the answer itself.</p>\n<p>I have tried</p>\n<pre><code>public void add(int index, E element) {\n        Node newNode = new Node(element);\n        Node node = getNode(index);\n        newNode.next = node;\n        node = getNode(index - 1);\n        node.next = newNode;\n    }\n</code></pre>\n<p>and</p>\n<pre><code>public void add(int index, E element) {\n        Node newNode = new Node(element, getNode(index));\n        getNode(index-1).next = newNode;\n    }\n</code></pre>\n<p>which the JUnit test for both says Expected is &lt;4&gt; but was &lt;3&gt;\nThe java files I'm working with are in this repository: <a href=\"https://github.com/AllenDowney/ThinkDataStructures/tree/master/code/src/com/allendowney/thinkdast\" rel=\"nofollow noreferrer\">https://github.com/AllenDowney/ThinkDataStructures/tree/master/code/src/com/allendowney/thinkdast</a>\nWhich the two specific files are MyLinkedList.java and MyLinkedListTest.java</p>\n"},{"tags":["java","tomcat","servlets"],"answers":[{"tags":[],"owner":{"account_id":1642450,"reputation":481,"user_id":1514647,"display_name":"luckyluke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668972915,"creation_date":1668972915,"answer_id":74511310,"question_id":74508697,"body_markdown":"The main issue is the `web.xml` it follows an old version of tomcat and is incompatible. Try to use this snippet:\r\n\r\n```\r\n&lt;web-app xmlns=&quot;https://jakarta.ee/xml/ns/jakartaee&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/jakartaee\r\n                      https://jakarta.ee/xml/ns/jakartaee/web-app_5_0.xsd&quot;\r\n         version=&quot;5.0&quot;&gt;\r\n\r\n  &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;\r\n  &lt;request-character-encoding&gt;UTF-8&lt;/request-character-encoding&gt;\r\n  &lt;response-character-encoding&gt;UTF-8&lt;/response-character-encoding&gt;\r\n&lt;/web-app&gt;\r\n\r\n```\r\n\r\nFor the correct version check your servlet api version in the `pom.xml`:\r\n\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n    &lt;version&gt;5.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nAs the servlet is reacting on POST requests you can curl:\r\n\r\n```\r\n curl -d &quot;param1=value1&quot; -X POST http://localhost:8080/webtest/fing \r\n```\r\n\r\nAlternatively add a `doGet` method and call it from browser. See more info [here](https://stackoverflow.com/tags/servlets/info) and [here](https://stackoverflow.com/a/6559478/1514647)\r\n\r\n","title":"Source not available in Tomcat","body":"<p>The main issue is the <code>web.xml</code> it follows an old version of tomcat and is incompatible. Try to use this snippet:</p>\n<pre><code>&lt;web-app xmlns=&quot;https://jakarta.ee/xml/ns/jakartaee&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/jakartaee\n                      https://jakarta.ee/xml/ns/jakartaee/web-app_5_0.xsd&quot;\n         version=&quot;5.0&quot;&gt;\n\n  &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;\n  &lt;request-character-encoding&gt;UTF-8&lt;/request-character-encoding&gt;\n  &lt;response-character-encoding&gt;UTF-8&lt;/response-character-encoding&gt;\n&lt;/web-app&gt;\n\n</code></pre>\n<p>For the correct version check your servlet api version in the <code>pom.xml</code>:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n    &lt;version&gt;5.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>As the servlet is reacting on POST requests you can curl:</p>\n<pre><code> curl -d &quot;param1=value1&quot; -X POST http://localhost:8080/webtest/fing \n</code></pre>\n<p>Alternatively add a <code>doGet</code> method and call it from browser. See more info <a href=\"https://stackoverflow.com/tags/servlets/info\">here</a> and <a href=\"https://stackoverflow.com/a/6559478/1514647\">here</a></p>\n"}],"owner":{"account_id":26939289,"reputation":53,"user_id":20510400,"display_name":"Shadow504"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668972915,"creation_date":1668952316,"question_id":74508697,"body_markdown":"I&#39;m a beginner in Servlets and Tomcat, and I&#39;m making a simple Hello World program\r\n\r\nI have read lots of posts about this and I am still clueless as to why my approach to Tomcat doesn&#39;t work. Here&#39;s the full directory / project of mine:\r\n\r\nWebTest:\r\n\r\n```\r\npackage classes;\r\n\r\nimport java.io.IOException;\r\nimport java.io.PrintWriter;\r\n\r\nimport jakarta.servlet.ServletException;\r\nimport jakarta.servlet.annotation.WebServlet;\r\nimport jakarta.servlet.http.HttpServlet;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\n\r\n@WebServlet(name = &quot;WebTest&quot;, urlPatterns = {&quot;/fing&quot;})\r\npublic class WebTest extends HttpServlet  {\r\n\r\n    @Override\r\n    protected void doPost(HttpServletRequest request, HttpServletResponse response)\r\n    throws ServletException, IOException {\r\n        try {\r\n            PrintWriter out = response.getWriter();\r\n\r\n            out.println(&quot;&lt;html&gt;&quot;);\r\n            out.println(&quot;&lt;head&gt;&quot;);\r\n            out.println(&quot;&lt;title&gt; Home Page &lt;/title&gt;&quot;);\r\n            out.println(&quot;&lt;/head&gt;&quot;);\r\n            out.println(&quot;&lt;body&gt;&quot;);\r\n            out.println(&quot;&lt;h1&gt; Hello there &lt;/h1&gt;&quot;);\r\n            out.println(&quot;&lt;html&gt;&quot;);\r\n            out.println(&quot;&lt;/html&gt;&quot;);\r\n\r\n    \r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nindex.html:\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot;&gt;\r\n\r\n    &lt;head&gt;\r\n        &lt;title&gt; Home Page &lt;/title&gt;\r\n    &lt;/head&gt;\r\n\r\n    &lt;body&gt;\r\n        &lt;h1&gt;Hello world&lt;/h1&gt;\r\n        &lt;form  action= &quot;./fing&quot; method = &quot;post&quot; &gt;\r\n            &lt;label&gt;Enter name:&lt;/label&gt; &lt;input type=&quot;text&quot; name = &quot;user&quot;&gt;\r\n            &lt;input type = &quot;submit&quot; value=&quot;Click Here&quot;&gt;\r\n        &lt;/form&gt;\r\n    &lt;/body&gt;\r\n\r\n&lt;/html&gt;\r\n```\r\n\r\nweb.xml:\r\n\r\n```\r\n&lt;!DOCTYPE web-app PUBLIC\r\n &quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;\r\n &quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot; &gt;\r\n\r\n&lt;web-app&gt;\r\n  &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;\r\n\r\n  \r\n&lt;/web-app&gt;\r\n\r\n```\r\n\r\nProject Set up:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/VB7Sy.png)](https://i.stack.imgur.com/VB7Sy.png)\r\n\r\nThe error I&#39;m getting:\r\n[![enter image description here](https://i.stack.imgur.com/ViggX.png)](https://i.stack.imgur.com/ViggX.png)\r\n\r\nNote: I&#39;m using Tomcat 10.0.8 and jakarta.servlet 6.0.0\r\n\r\n\r\nI tried to change the web.xml file instead of inserting the Annotation but the issue still persists. I expect the web to have a different text on it","title":"Source not available in Tomcat","body":"<p>I'm a beginner in Servlets and Tomcat, and I'm making a simple Hello World program</p>\n<p>I have read lots of posts about this and I am still clueless as to why my approach to Tomcat doesn't work. Here's the full directory / project of mine:</p>\n<p>WebTest:</p>\n<pre><code>package classes;\n\nimport java.io.IOException;\nimport java.io.PrintWriter;\n\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.annotation.WebServlet;\nimport jakarta.servlet.http.HttpServlet;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\n\n@WebServlet(name = &quot;WebTest&quot;, urlPatterns = {&quot;/fing&quot;})\npublic class WebTest extends HttpServlet  {\n\n    @Override\n    protected void doPost(HttpServletRequest request, HttpServletResponse response)\n    throws ServletException, IOException {\n        try {\n            PrintWriter out = response.getWriter();\n\n            out.println(&quot;&lt;html&gt;&quot;);\n            out.println(&quot;&lt;head&gt;&quot;);\n            out.println(&quot;&lt;title&gt; Home Page &lt;/title&gt;&quot;);\n            out.println(&quot;&lt;/head&gt;&quot;);\n            out.println(&quot;&lt;body&gt;&quot;);\n            out.println(&quot;&lt;h1&gt; Hello there &lt;/h1&gt;&quot;);\n            out.println(&quot;&lt;html&gt;&quot;);\n            out.println(&quot;&lt;/html&gt;&quot;);\n\n    \n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n\n</code></pre>\n<p>index.html:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n\n    &lt;head&gt;\n        &lt;title&gt; Home Page &lt;/title&gt;\n    &lt;/head&gt;\n\n    &lt;body&gt;\n        &lt;h1&gt;Hello world&lt;/h1&gt;\n        &lt;form  action= &quot;./fing&quot; method = &quot;post&quot; &gt;\n            &lt;label&gt;Enter name:&lt;/label&gt; &lt;input type=&quot;text&quot; name = &quot;user&quot;&gt;\n            &lt;input type = &quot;submit&quot; value=&quot;Click Here&quot;&gt;\n        &lt;/form&gt;\n    &lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n<p>web.xml:</p>\n<pre><code>&lt;!DOCTYPE web-app PUBLIC\n &quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;\n &quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot; &gt;\n\n&lt;web-app&gt;\n  &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;\n\n  \n&lt;/web-app&gt;\n\n</code></pre>\n<p>Project Set up:</p>\n<p><a href=\"https://i.stack.imgur.com/VB7Sy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VB7Sy.png\" alt=\"enter image description here\" /></a></p>\n<p>The error I'm getting:\n<a href=\"https://i.stack.imgur.com/ViggX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ViggX.png\" alt=\"enter image description here\" /></a></p>\n<p>Note: I'm using Tomcat 10.0.8 and jakarta.servlet 6.0.0</p>\n<p>I tried to change the web.xml file instead of inserting the Annotation but the issue still persists. I expect the web to have a different text on it</p>\n"},{"tags":["java","jdbc","thymeleaf","junit4"],"answers":[{"tags":[],"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668971158,"creation_date":1668971158,"answer_id":74511100,"question_id":74505182,"body_markdown":"What&#39;s the level of your tests? \r\n\r\nFor unit tests, if be strongly surprised, if a database was involved.  The test would be to make sure _that_ the correct update statement has been generated. If you test for actual data, it&#39;d be hard to isolate against other test cases. And you&#39;d unit test the database. Mocking the database can help.\r\n\r\nFor integration tests, you&#39;d make sure that your database is in the state you expect when you execute this test. It&#39;s a matter of proper setup and tearDown.","title":"How can I test an SQL&#39;s UPDATE operation with JUnit?","body":"<p>What's the level of your tests?</p>\n<p>For unit tests, if be strongly surprised, if a database was involved.  The test would be to make sure <em>that</em> the correct update statement has been generated. If you test for actual data, it'd be hard to isolate against other test cases. And you'd unit test the database. Mocking the database can help.</p>\n<p>For integration tests, you'd make sure that your database is in the state you expect when you execute this test. It's a matter of proper setup and tearDown.</p>\n"}],"owner":{"account_id":26988224,"reputation":11,"user_id":20551534,"display_name":"rediska"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668971356,"creation_date":1668910262,"question_id":74505182,"body_markdown":"I&#39;m using thymeleaf and JDBC. I have this method that updates a Job object which contains a query. \r\nHow can I test this using JUnit?\r\n\r\n```\r\npublic int updateJob(Job job){\r\n  MapSqlParameterSource namedParameters=new MapSqlParameterSource();\r\n  String sql1 = &quot;UPDATE jobs SET title = :title, tool1 = :tool1 , tool2= :tool2 WHERE id = :id&quot;;  \r\n  namedParameters.addValue(&quot;title&quot;, job.getTitle());\r\n  namedParameters.addValue(&quot;tool1&quot;, job.getTool1());\r\n  namedParameters.addValue(&quot;tool2&quot;, job.getTool2());\r\n  namedParameters.addValue(&quot;id&quot;, job.getId());\r\n  int rValue=jdbc.update(sql1, namedParameters);\r\n  return rValue;\r\n}\r\n```\r\n\r\nI also have the following method:\r\n\r\n```\r\npublic int createJob(Job job){\r\n  String sql1=&quot;INSERT INTO jobs (employee, title, tool1, tool2) VALUES(:employee, :title, :tool1, :tool2)&quot;;\r\n  namedParameters.addValue(&quot;title&quot;, job.getTitle());\r\n  namedParameters.addValue(&quot;tool1&quot;, job.getTool1());\r\n  namedParameters.addValue(&quot;tool2&quot;, job.getTool2());\r\n  namedParameters.addValue(&quot;id&quot;, job.getId());\r\n  int rValue=jdbc.update(sql1, namedParameters);\r\n  return rValue;\r\n}\r\n```\r\n\r\nSo I suppose I need to use the createJob() first, then updateJob() and somehow compare the resulting values???","title":"How can I test an SQL&#39;s UPDATE operation with JUnit?","body":"<p>I'm using thymeleaf and JDBC. I have this method that updates a Job object which contains a query.\nHow can I test this using JUnit?</p>\n<pre><code>public int updateJob(Job job){\n  MapSqlParameterSource namedParameters=new MapSqlParameterSource();\n  String sql1 = &quot;UPDATE jobs SET title = :title, tool1 = :tool1 , tool2= :tool2 WHERE id = :id&quot;;  \n  namedParameters.addValue(&quot;title&quot;, job.getTitle());\n  namedParameters.addValue(&quot;tool1&quot;, job.getTool1());\n  namedParameters.addValue(&quot;tool2&quot;, job.getTool2());\n  namedParameters.addValue(&quot;id&quot;, job.getId());\n  int rValue=jdbc.update(sql1, namedParameters);\n  return rValue;\n}\n</code></pre>\n<p>I also have the following method:</p>\n<pre><code>public int createJob(Job job){\n  String sql1=&quot;INSERT INTO jobs (employee, title, tool1, tool2) VALUES(:employee, :title, :tool1, :tool2)&quot;;\n  namedParameters.addValue(&quot;title&quot;, job.getTitle());\n  namedParameters.addValue(&quot;tool1&quot;, job.getTool1());\n  namedParameters.addValue(&quot;tool2&quot;, job.getTool2());\n  namedParameters.addValue(&quot;id&quot;, job.getId());\n  int rValue=jdbc.update(sql1, namedParameters);\n  return rValue;\n}\n</code></pre>\n<p>So I suppose I need to use the createJob() first, then updateJob() and somehow compare the resulting values???</p>\n"},{"tags":["java","option-type"],"comments":[{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1668634872,"post_id":74467465,"comment_id":131456628,"body_markdown":"This doesn&#39;t answer your question, but other languages have what are called &quot;for comprehensions&quot; for stuff like this. (Just FYI.)","body":"This doesn&#39;t answer your question, but other languages have what are called &quot;for comprehensions&quot; for stuff like this. (Just FYI.)"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1668634884,"post_id":74467465,"comment_id":131456631,"body_markdown":"Create a private method that calls both: `eatAndDrink`, then `blah().ifPresent(this::eatAndDrink)`","body":"Create a private method that calls both: <code>eatAndDrink</code>, then <code>blah().ifPresent(this::eatAndDrink)</code>"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":2,"creation_date":1668634922,"post_id":74467465,"comment_id":131456641,"body_markdown":"Your wish is for a builder pattern that doesn&#39;t build - that is weird imo. Why don&#39;t you like the lambda? It does exactly what one could expect: work with the result of the optional and the optional &quot;wrapper&quot; is no longer involved at that time.","body":"Your wish is for a builder pattern that doesn&#39;t build - that is weird imo. Why don&#39;t you like the lambda? It does exactly what one could expect: work with the result of the optional and the optional &quot;wrapper&quot; is no longer involved at that time."},{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1668635038,"post_id":74467465,"comment_id":131456668,"body_markdown":"I think in Java the lambda is the way to go, but I agree that it does not look elegant.","body":"I think in Java the lambda is the way to go, but I agree that it does not look elegant."},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1668635088,"post_id":74467465,"comment_id":131456683,"body_markdown":"You could use the [&quot;missing `peek()` method from this other question](https://stackoverflow.com/a/51992252/5515060)","body":"You could use the <a href=\"https://stackoverflow.com/a/51992252/5515060\">&quot;missing <code>peek()</code> method from this other question</a>"},{"owner":{"account_id":5168089,"reputation":26671,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":1,"creation_date":1668635109,"post_id":74467465,"comment_id":131456689,"body_markdown":"@cyberbrain The builder pattern is just one of several patterns that chain method calls on the same object. No one said that chaining like that has to build something :) I do agree that I don&#39;t see anything wrong with the lambda though.","body":"@cyberbrain The builder pattern is just one of several patterns that chain method calls on the same object. No one said that chaining like that has to build something :) I do agree that I don&#39;t see anything wrong with the lambda though."},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":2,"creation_date":1668635267,"post_id":74467465,"comment_id":131456748,"body_markdown":"@cyberbrain I think they probably meant the [Fluent Interface Pattern](https://en.wikipedia.org/wiki/Fluent_interface), which the builder pattern is somewhat a part of","body":"@cyberbrain I think they probably meant the <a href=\"https://en.wikipedia.org/wiki/Fluent_interface\" rel=\"nofollow noreferrer\">Fluent Interface Pattern</a>, which the builder pattern is somewhat a part of"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1668635727,"creation_date":1668635010,"answer_id":74467588,"question_id":74467465,"body_markdown":"# [`Consumer.andThen()`][andThen]\r\n\r\nAs alternative, you can introduce a method that allows to combine multiple Consumers using `Consumer.andThen()` and then perform all required side-effects by passing an aggregated Consumer into `Optional.ifPresent()`.\r\n\r\nThat&#39;s how such method might look like (credits to *@Lino* for the idea with the first Consumer as an *identity*):\r\n\r\n    @SafeVarargs\r\n    public static &lt;T&gt; Consumer&lt;T&gt; combine(Consumer&lt;T&gt; first, Consumer&lt;T&gt;... others) {\r\n        \r\n        return Arrays.stream(others).reduce(first, Consumer::andThen);\r\n    }\r\n\r\n*Usage example:*\r\n\r\n```\r\nanimalService.getAllAnimals()\r\n    .ifPresent(combine(Animal::drink, Animal::eat));\r\n```\r\n\r\n\r\n\r\n   [andThen]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Consumer.html#andThen(java.util.function.Consumer)","title":"How to chain Optional ifPresent calls?","body":"<h1><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Consumer.html#andThen(java.util.function.Consumer)\" rel=\"nofollow noreferrer\"><code>Consumer.andThen()</code></a></h1>\n<p>As alternative, you can introduce a method that allows to combine multiple Consumers using <code>Consumer.andThen()</code> and then perform all required side-effects by passing an aggregated Consumer into <code>Optional.ifPresent()</code>.</p>\n<p>That's how such method might look like (credits to <em>@Lino</em> for the idea with the first Consumer as an <em>identity</em>):</p>\n<pre><code>@SafeVarargs\npublic static &lt;T&gt; Consumer&lt;T&gt; combine(Consumer&lt;T&gt; first, Consumer&lt;T&gt;... others) {\n    \n    return Arrays.stream(others).reduce(first, Consumer::andThen);\n}\n</code></pre>\n<p><em>Usage example:</em></p>\n<pre><code>animalService.getAllAnimals()\n    .ifPresent(combine(Animal::drink, Animal::eat));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668971023,"creation_date":1668971023,"answer_id":74511082,"question_id":74467465,"body_markdown":"Build a wrapper\r\n===============\r\n\r\nYour idea of inheritance had a small flaw as you found out for yourself, but composition should be favoured in most cases anyway, so you could simply build a wrapper for `Optional` that does what you want:\r\n\r\n`FluentOptional`\r\n----------------\r\n```lang-java\r\npackage examples.stackoverflow.q74467465;\r\n\r\nimport java.util.Optional;\r\nimport java.util.function.Consumer;\r\n\r\npublic class FluentOptional&lt;T&gt; {\r\n\r\n  private final Optional&lt;T&gt; optional;\r\n\r\n  public FluentOptional(Optional&lt;T&gt; optional) {\r\n    this.optional = optional;\r\n  }\r\n\r\n  public static &lt;S&gt; FluentOptional&lt;S&gt; of(Optional&lt;S&gt; optional) {\r\n    return new FluentOptional&lt;&gt;(optional);\r\n  }\r\n\r\n  public FluentOptional&lt;T&gt; ifPresent(Consumer&lt;? super T&gt; consumer) {\r\n    this.optional.ifPresent(consumer);\r\n    return this;\r\n  }\r\n}\r\n```\r\nYou can use it like this:\r\n``` lang-java\r\nFluentOptional.of(animalService.getAllAnimals().findFirst())\r\n    .ifPresent(Animal::drink)\r\n    .ifPresent(Animal::eat);\r\n```\r\n","title":"How to chain Optional ifPresent calls?","body":"<h1>Build a wrapper</h1>\n<p>Your idea of inheritance had a small flaw as you found out for yourself, but composition should be favoured in most cases anyway, so you could simply build a wrapper for <code>Optional</code> that does what you want:</p>\n<h2><code>FluentOptional</code></h2>\n<pre class=\"lang-java prettyprint-override\"><code>package examples.stackoverflow.q74467465;\n\nimport java.util.Optional;\nimport java.util.function.Consumer;\n\npublic class FluentOptional&lt;T&gt; {\n\n  private final Optional&lt;T&gt; optional;\n\n  public FluentOptional(Optional&lt;T&gt; optional) {\n    this.optional = optional;\n  }\n\n  public static &lt;S&gt; FluentOptional&lt;S&gt; of(Optional&lt;S&gt; optional) {\n    return new FluentOptional&lt;&gt;(optional);\n  }\n\n  public FluentOptional&lt;T&gt; ifPresent(Consumer&lt;? super T&gt; consumer) {\n    this.optional.ifPresent(consumer);\n    return this;\n  }\n}\n</code></pre>\n<p>You can use it like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>FluentOptional.of(animalService.getAllAnimals().findFirst())\n    .ifPresent(Animal::drink)\n    .ifPresent(Animal::eat);\n</code></pre>\n"}],"owner":{"account_id":23010429,"reputation":215,"user_id":17133024,"display_name":"Dario Viva"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":478,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":74467588,"answer_count":2,"score":1,"last_activity_date":1668971023,"creation_date":1668634175,"question_id":74467465,"body_markdown":"Suppose you have an Optional and you want to consume the Optional multiple times.\r\nYou could now save the Optional to a variable; and then use `ifPresent` two times on it:\r\n```java\r\nOptional&lt;Animal&gt; optionalAnimal = animalService.getAllAnimals().findFirst();\r\noptionalAnimal.ifPresent(Animal::eat);\r\noptionalAnimal.ifPresent(Animal::drink);\r\n```\r\n\r\nAnother solution would be to ditch method references and use a lambda that does both:\r\n\r\n```java\r\nanimalService.getAllAnimals().findFirst()\r\n    .ifPresent(animal -&gt; {\r\n        animal.drink();\r\n        animal.eat();\r\n    });\r\n```\r\n\r\nIf I have control over the class that is used in the Optional, I could simply change the methods to use a factory like pattern. So that `animal.drink()` would return itself.\r\nThen I could write:\r\n```java\r\nanimalService.getAllAnimals().findFirst()\r\n    .map(Animal::drink)\r\n    .ifPresent(Animal::eat);\r\n```\r\nBut this would be semantically weird. And I dont always have control over every class that I use in Optionals. And some classes are final, so I could not even extend them to have a factory styled method.\r\n\r\nFurthermore, the Optional class is also final, so extending Optional itself is no option either.\r\nAll of this makes very little sense to me. `ifPresent()` returns void. If `ifPresent()` returned the Optional itself (similar to `peek()` for streams) it would be closer to my goal.\r\n\r\nIs there another solution that I did not think of? \r\n\r\n---\r\nWhat I would like to have is something like this:\r\n```java\r\nanimalService.getAllAnimals().findFirst()\r\n    .ifPresent(Animal::drink)\r\n    .ifPresent(Animal::eat);\r\n```","title":"How to chain Optional ifPresent calls?","body":"<p>Suppose you have an Optional and you want to consume the Optional multiple times.\nYou could now save the Optional to a variable; and then use <code>ifPresent</code> two times on it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Optional&lt;Animal&gt; optionalAnimal = animalService.getAllAnimals().findFirst();\noptionalAnimal.ifPresent(Animal::eat);\noptionalAnimal.ifPresent(Animal::drink);\n</code></pre>\n<p>Another solution would be to ditch method references and use a lambda that does both:</p>\n<pre class=\"lang-java prettyprint-override\"><code>animalService.getAllAnimals().findFirst()\n    .ifPresent(animal -&gt; {\n        animal.drink();\n        animal.eat();\n    });\n</code></pre>\n<p>If I have control over the class that is used in the Optional, I could simply change the methods to use a factory like pattern. So that <code>animal.drink()</code> would return itself.\nThen I could write:</p>\n<pre class=\"lang-java prettyprint-override\"><code>animalService.getAllAnimals().findFirst()\n    .map(Animal::drink)\n    .ifPresent(Animal::eat);\n</code></pre>\n<p>But this would be semantically weird. And I dont always have control over every class that I use in Optionals. And some classes are final, so I could not even extend them to have a factory styled method.</p>\n<p>Furthermore, the Optional class is also final, so extending Optional itself is no option either.\nAll of this makes very little sense to me. <code>ifPresent()</code> returns void. If <code>ifPresent()</code> returned the Optional itself (similar to <code>peek()</code> for streams) it would be closer to my goal.</p>\n<p>Is there another solution that I did not think of?</p>\n<hr />\n<p>What I would like to have is something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>animalService.getAllAnimals().findFirst()\n    .ifPresent(Animal::drink)\n    .ifPresent(Animal::eat);\n</code></pre>\n"},{"tags":["java","for-loop","modulo"],"answers":[{"tags":[],"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1668971009,"creation_date":1668969515,"answer_id":74510877,"question_id":74510730,"body_markdown":"`p` is quite high. About 3 billion.\r\n\r\nAn `int` only goes just above 2 billion, it can never reach 3 billion.\r\n\r\nIn `for (int i = 0; i &lt; (p - 1); i++)`, `i` is an `int`, so `i` is definitely not greater than 2147483647, `i` cannot ever reach `p - 1` which is about 3 billion. `i` will become negative before that, and start counting up to zero, past zero, up to just over 2 billion, and then still never reach 3 billion. So the loop condition is always true, and the loop never ends.\r\n\r\nSimple solution: make `i` a `long`.\r\n\r\n\r\nThere are also bugs in `powMod`, the products (not just the remainders) must be done as `long`s otherwise they can wrap modulo 2&lt;sup&gt;32&lt;/sup&gt; *before* being reduced modulo `p` (and the product as an `int` can be negative, which does not combine well with how remainders in Java work with negative inputs). For example `(int) ((g * g) % p)` should be `(int) (((long)g * g) % p)` (see below for further modification)\r\n\r\n`modPow` accepts an `int` as exponent, but if the loop is fixed to actually loop from 0 to `p - 1` then the exponent would need to be a `long` too. Alternatively it could stay an `int`, but then it needs to be treated as an unsigned integer, that would take more changes to the code.\r\n\r\nThe highest that an intermediate product (a product before being reduced modulo `p`) could be is 3267000012&#178; (both operands of the product can be `p - 1` at most). That does not fit in 63 bits, so as a `long` it could be negative, which means you need `Long.remainderUnsigned` instead of the `%` operator. The product does fit in 64 bits, so there&#39;s still no need for `BigInteger`.  \r\nSo use something like `Long.remainderUnsigned((long)g * g, p)`\r\n\r\nIn this case you could avoid `powMod` entirely, and rather than computing `modPow(g, i, p)` from scratch in every iteration, compute that by multiplying the previous value by `g` (mod `p`).","title":"Why does my JAVA for loop work with shorter numbers, but continues to loop with longer numbers?","body":"<p><code>p</code> is quite high. About 3 billion.</p>\n<p>An <code>int</code> only goes just above 2 billion, it can never reach 3 billion.</p>\n<p>In <code>for (int i = 0; i &lt; (p - 1); i++)</code>, <code>i</code> is an <code>int</code>, so <code>i</code> is definitely not greater than 2147483647, <code>i</code> cannot ever reach <code>p - 1</code> which is about 3 billion. <code>i</code> will become negative before that, and start counting up to zero, past zero, up to just over 2 billion, and then still never reach 3 billion. So the loop condition is always true, and the loop never ends.</p>\n<p>Simple solution: make <code>i</code> a <code>long</code>.</p>\n<p>There are also bugs in <code>powMod</code>, the products (not just the remainders) must be done as <code>long</code>s otherwise they can wrap modulo 2<sup>32</sup> <em>before</em> being reduced modulo <code>p</code> (and the product as an <code>int</code> can be negative, which does not combine well with how remainders in Java work with negative inputs). For example <code>(int) ((g * g) % p)</code> should be <code>(int) (((long)g * g) % p)</code> (see below for further modification)</p>\n<p><code>modPow</code> accepts an <code>int</code> as exponent, but if the loop is fixed to actually loop from 0 to <code>p - 1</code> then the exponent would need to be a <code>long</code> too. Alternatively it could stay an <code>int</code>, but then it needs to be treated as an unsigned integer, that would take more changes to the code.</p>\n<p>The highest that an intermediate product (a product before being reduced modulo <code>p</code>) could be is 3267000012 (both operands of the product can be <code>p - 1</code> at most). That does not fit in 63 bits, so as a <code>long</code> it could be negative, which means you need <code>Long.remainderUnsigned</code> instead of the <code>%</code> operator. The product does fit in 64 bits, so there's still no need for <code>BigInteger</code>.<br />\nSo use something like <code>Long.remainderUnsigned((long)g * g, p)</code></p>\n<p>In this case you could avoid <code>powMod</code> entirely, and rather than computing <code>modPow(g, i, p)</code> from scratch in every iteration, compute that by multiplying the previous value by <code>g</code> (mod <code>p</code>).</p>\n"}],"owner":{"account_id":21947755,"reputation":127,"user_id":16227338,"display_name":"wawa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74510877,"answer_count":1,"score":0,"last_activity_date":1668971009,"creation_date":1668968339,"question_id":74510730,"body_markdown":"I am trying to get back the proper exponent, and this program works when I plug in the example numbers(exampleA, exampleB, exampleP) as they return the value they should, but when I plug in the long numbers(A, B, p), the loop continues. I believe I should be getting 2099 when plugging in B and p. What am I doing wrong here?\r\n\r\n    public static void main(String[] args) {\r\n            //g = 5//\r\n            //let i run from 0 to p -1//\r\n            //compute g^a mod p and see if it is A, if you find A, then a is the solution for A//\r\n            //compute g^a mod p and see if it is B, if you find B, then a is the solution for B//\r\n            long A = 1958258942L;\r\n            long B = 670001116L;\r\n            long p = 3267000013L;\r\n            //example p to plug in for example a and example b//\r\n            long exampleP = 23;\r\n            //plugging this in should return 4//\r\n            long exampleA = 4;\r\n            //plugging this in should return 3//\r\n            long exampleB = 10;\r\n            int newNum;\r\n            int a = 0;\r\n            int g = 5;\r\n            for (int i = 0; i &lt; (p - 1); i++) {\r\n                    a = i;\r\n                    System.out.println(a);\r\n                    newNum = powMod(g, a, exampleP);\r\n                    if (newNum == exampleB) break;\r\n                }\r\n            System.out.println(a);\r\n        }\r\n        \r\n        public static int powMod(int g, int exponent, long p) {\r\n            int result = 1;\r\n    \r\n            while (exponent &gt; 0)\r\n            {\r\n                // exponent is odd\r\n                if (exponent % 2 == 1)\r\n                {\r\n                    result = (int) ((result * g) % p);\r\n                }\r\n    \r\n                // divide exponent in half\r\n                exponent /= 2;\r\n    \r\n                // square base and take remainder \r\n                g = (int) ((g * g) % p);\r\n            }\r\n            return result;\r\n        }","title":"Why does my JAVA for loop work with shorter numbers, but continues to loop with longer numbers?","body":"<p>I am trying to get back the proper exponent, and this program works when I plug in the example numbers(exampleA, exampleB, exampleP) as they return the value they should, but when I plug in the long numbers(A, B, p), the loop continues. I believe I should be getting 2099 when plugging in B and p. What am I doing wrong here?</p>\n<pre><code>public static void main(String[] args) {\n        //g = 5//\n        //let i run from 0 to p -1//\n        //compute g^a mod p and see if it is A, if you find A, then a is the solution for A//\n        //compute g^a mod p and see if it is B, if you find B, then a is the solution for B//\n        long A = 1958258942L;\n        long B = 670001116L;\n        long p = 3267000013L;\n        //example p to plug in for example a and example b//\n        long exampleP = 23;\n        //plugging this in should return 4//\n        long exampleA = 4;\n        //plugging this in should return 3//\n        long exampleB = 10;\n        int newNum;\n        int a = 0;\n        int g = 5;\n        for (int i = 0; i &lt; (p - 1); i++) {\n                a = i;\n                System.out.println(a);\n                newNum = powMod(g, a, exampleP);\n                if (newNum == exampleB) break;\n            }\n        System.out.println(a);\n    }\n    \n    public static int powMod(int g, int exponent, long p) {\n        int result = 1;\n\n        while (exponent &gt; 0)\n        {\n            // exponent is odd\n            if (exponent % 2 == 1)\n            {\n                result = (int) ((result * g) % p);\n            }\n\n            // divide exponent in half\n            exponent /= 2;\n\n            // square base and take remainder \n            g = (int) ((g * g) % p);\n        }\n        return result;\n    }\n</code></pre>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1668114276,"post_id":74394887,"comment_id":131334340,"body_markdown":"I changed your title to focus on object construction which seems to be your intent. I suggest you edit the body of the Question to clarify as well if that is indeed your intent.","body":"I changed your title to focus on object construction which seems to be your intent. I suggest you edit the body of the Question to clarify as well if that is indeed your intent."},{"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":1,"creation_date":1668961170,"post_id":74394887,"comment_id":131527816,"body_markdown":"@BasilBourque since you did that, you can also vote to re-open.","body":"@BasilBourque since you did that, you can also vote to re-open."}],"answers":[{"tags":[],"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1668116898,"creation_date":1668113298,"answer_id":74395145,"question_id":74394887,"body_markdown":"&gt; My understanding is that Java objects share a memory address space. So any number of threads can see and access any number of objects.\r\n\r\nYes, they can see properly allocated and constructed objects, *that they have a reference to*. A Java thread can&#39;t just randomly grab an object from heap memory without having a reference to it. The low-level JVM internals *don&#39;t*, by thread-safe design.\r\n\r\n&gt; If I create threads in the main thread and pass an object in the constructor to each of those threads, the Java interpreter does no marshalling between threads.\r\n\r\n\r\nYes, at the Java language level you can [leak `this` in the constructor](https://stackoverflow.com/questions/3921616/leaking-this-in-constructor-warning). This is a specific way to shoot yourself in the foot, and conversely you can avoid shooting yourself in the foot by not leaking the object reference until the object is ready.\r\n\r\nAs Basil Bourque points out in a comment, this is another factor for why constructors should generally be short and simple, while complex initialization can benefit from using a builder pattern.\r\n\r\n&gt; How does Java enforce that the memory model of Java programs are thread safe and won&#39;t see a partial object construction?\r\n\r\nThe low-level heap management machinery is thread-safe, insofar as it allocates blocks of heap memory in a thread-safe manner, and garbage-collects them in a thread-safe manner. Consider the following constructor call being made from two threads at *approximately* the same time:\r\n\r\n```\r\nsomeclass x = new someclass();\r\n```\r\n\r\n```\r\n0   new #1              // Class [someclass]\r\n3   dup\r\n4   invokespecial #4    // Method [someclass].&lt;init&gt;()V\r\n7   areturn\r\n```\r\n \r\nTwo threads each execute bytecode `new` and get uninitialized objects. Because the low-level heap allocation machinery is thread-safe, the two threads get separate objects. The fact that they&#39;re in shared memory space is irrelevant - they&#39;re still separate objects.\r\n\r\nThey call the constructors to initialize their individual objects - and that&#39;s still fine. The object reference is only available to java code in two ways - either the assignment to `x` after the constructor returns, or if you intentionally leak the reference in the constructor. Even if you do leak a Java reference to the object, the actual low level allocation and initialization of the object&#39;s header is essentially complete - the `new` bytecode finished running already.\r\n\r\n&gt; But the book keeping of Java must store objects in memory and that needs to be thread safe.\r\n\r\nYes, and it is. The allocator is thread-safe, the GC is thread-safe, and almost every other low-level object access is only done in response to your Java code trying to do something to an object using a reference that it has. \r\n\r\nA fully concurrent GC/allocator can be part of a spec compliant JVM. A single-threaded/stop-the-world GC/allocator can be part of a spec compliant JVM (but that JVM might have poor performance scaling). An allocator that corrupts the heap when two threads create objects at the same time is simply broken, and a JVM built on it is broken.","title":"How is Java&#39;s object model thread safe during object construction?","body":"<blockquote>\n<p>My understanding is that Java objects share a memory address space. So any number of threads can see and access any number of objects.</p>\n</blockquote>\n<p>Yes, they can see properly allocated and constructed objects, <em>that they have a reference to</em>. A Java thread can't just randomly grab an object from heap memory without having a reference to it. The low-level JVM internals <em>don't</em>, by thread-safe design.</p>\n<blockquote>\n<p>If I create threads in the main thread and pass an object in the constructor to each of those threads, the Java interpreter does no marshalling between threads.</p>\n</blockquote>\n<p>Yes, at the Java language level you can <a href=\"https://stackoverflow.com/questions/3921616/leaking-this-in-constructor-warning\">leak <code>this</code> in the constructor</a>. This is a specific way to shoot yourself in the foot, and conversely you can avoid shooting yourself in the foot by not leaking the object reference until the object is ready.</p>\n<p>As Basil Bourque points out in a comment, this is another factor for why constructors should generally be short and simple, while complex initialization can benefit from using a builder pattern.</p>\n<blockquote>\n<p>How does Java enforce that the memory model of Java programs are thread safe and won't see a partial object construction?</p>\n</blockquote>\n<p>The low-level heap management machinery is thread-safe, insofar as it allocates blocks of heap memory in a thread-safe manner, and garbage-collects them in a thread-safe manner. Consider the following constructor call being made from two threads at <em>approximately</em> the same time:</p>\n<pre><code>someclass x = new someclass();\n</code></pre>\n<pre><code>0   new #1              // Class [someclass]\n3   dup\n4   invokespecial #4    // Method [someclass].&lt;init&gt;()V\n7   areturn\n</code></pre>\n<p>Two threads each execute bytecode <code>new</code> and get uninitialized objects. Because the low-level heap allocation machinery is thread-safe, the two threads get separate objects. The fact that they're in shared memory space is irrelevant - they're still separate objects.</p>\n<p>They call the constructors to initialize their individual objects - and that's still fine. The object reference is only available to java code in two ways - either the assignment to <code>x</code> after the constructor returns, or if you intentionally leak the reference in the constructor. Even if you do leak a Java reference to the object, the actual low level allocation and initialization of the object's header is essentially complete - the <code>new</code> bytecode finished running already.</p>\n<blockquote>\n<p>But the book keeping of Java must store objects in memory and that needs to be thread safe.</p>\n</blockquote>\n<p>Yes, and it is. The allocator is thread-safe, the GC is thread-safe, and almost every other low-level object access is only done in response to your Java code trying to do something to an object using a reference that it has.</p>\n<p>A fully concurrent GC/allocator can be part of a spec compliant JVM. A single-threaded/stop-the-world GC/allocator can be part of a spec compliant JVM (but that JVM might have poor performance scaling). An allocator that corrupts the heap when two threads create objects at the same time is simply broken, and a JVM built on it is broken.</p>\n"}],"owner":{"account_id":9371025,"reputation":141,"user_id":10662977,"display_name":"Samuel Squire"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":1,"score":1,"last_activity_date":1668970976,"creation_date":1668111635,"question_id":74394887,"body_markdown":"I write multithreaded software but there&#39;s something I don&#39;t understand about Java.\r\n\r\nMy understanding is that Java objects share a memory address space. So any number of threads can see and access any number of objects.\r\n\r\nIf I create threads in the main thread and pass an object in the constructor to each of those threads, the Java interpreter does no marshalling between threads.\r\n\r\nHow does Java enforce that the memory model of Java programs are thread safe and won&#39;t see a partial object construction?\r\n\r\nIn other words, if a program&#39;s constructor is running, what stops the memory model being invalid while the object is being created? Sure I accept that nobody can refer to an object being constructed. But the book keeping of Java must store objects in memory and that needs to be thread safe.","title":"How is Java&#39;s object model thread safe during object construction?","body":"<p>I write multithreaded software but there's something I don't understand about Java.</p>\n<p>My understanding is that Java objects share a memory address space. So any number of threads can see and access any number of objects.</p>\n<p>If I create threads in the main thread and pass an object in the constructor to each of those threads, the Java interpreter does no marshalling between threads.</p>\n<p>How does Java enforce that the memory model of Java programs are thread safe and won't see a partial object construction?</p>\n<p>In other words, if a program's constructor is running, what stops the memory model being invalid while the object is being created? Sure I accept that nobody can refer to an object being constructed. But the book keeping of Java must store objects in memory and that needs to be thread safe.</p>\n"},{"tags":["java","android","android-activity"],"answers":[{"tags":[],"owner":{"account_id":21336706,"reputation":72,"user_id":15707830,"display_name":"Prem Thakur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668970841,"creation_date":1668969978,"answer_id":74510940,"question_id":74504415,"body_markdown":"I think you should use `SharedPreferences ` to store user&#39;s settings. You can go through this tutorial to learn about it.\r\n[https://www.javatpoint.com/android-preferences-example][1]\r\n\r\nYou have to change this in the tutorial&#39;s code:\r\nIn **prefs.xml**:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;PreferenceScreen xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n\r\n&lt;!-- you do not worry about how this information will be stored, it will be handled \r\nby  the android. You have to use those data by getting that data by their key --&gt;\r\n        &lt;EditTextPreference\r\n            android:key=&quot;stimuli_numbers&quot;\r\n            android:summary=&quot;Please enter Number of stimuli&quot;\r\n            android:inputType=&quot;numberDecimal&quot;\r\n            android:digits=&quot;0123456789&quot;\r\n            android:title=&quot;Number of stimuli&quot; /&gt;\r\n\r\n&lt;/PreferenceScreen&gt;\r\n```\r\n\r\nand in your **Main Activity**\r\n\r\n```\r\n SharedPreferences prefs = PreferenceManager.getDefaultSharedPreferences(MainActivity.this);\r\n\r\n//get the number of stimuli\r\n//stimuli_numbers is the key and 0 is the default value (you can change this according to yours.\r\nsetNrOfStimuli = Integer.valueOf(prefs.getString(&quot;stimuli_numbers&quot;,&quot;0&quot;);\r\n\r\n```\r\n\r\n  [1]: https://www.javatpoint.com/android-preferences-example","title":"Update data between two Activities Android Java","body":"<p>I think you should use <code>SharedPreferences </code> to store user's settings. You can go through this tutorial to learn about it.\n<a href=\"https://www.javatpoint.com/android-preferences-example\" rel=\"nofollow noreferrer\">https://www.javatpoint.com/android-preferences-example</a></p>\n<p>You have to change this in the tutorial's code:\nIn <strong>prefs.xml</strong>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;PreferenceScreen xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n\n&lt;!-- you do not worry about how this information will be stored, it will be handled \nby  the android. You have to use those data by getting that data by their key --&gt;\n        &lt;EditTextPreference\n            android:key=&quot;stimuli_numbers&quot;\n            android:summary=&quot;Please enter Number of stimuli&quot;\n            android:inputType=&quot;numberDecimal&quot;\n            android:digits=&quot;0123456789&quot;\n            android:title=&quot;Number of stimuli&quot; /&gt;\n\n&lt;/PreferenceScreen&gt;\n</code></pre>\n<p>and in your <strong>Main Activity</strong></p>\n<pre><code> SharedPreferences prefs = PreferenceManager.getDefaultSharedPreferences(MainActivity.this);\n\n//get the number of stimuli\n//stimuli_numbers is the key and 0 is the default value (you can change this according to yours.\nsetNrOfStimuli = Integer.valueOf(prefs.getString(&quot;stimuli_numbers&quot;,&quot;0&quot;);\n\n</code></pre>\n"}],"owner":{"account_id":26987541,"reputation":1,"user_id":20550961,"display_name":"Tech"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668970841,"creation_date":1668898819,"question_id":74504415,"body_markdown":"I am making a simple Android game that displaying a sequence of visual stimuli. I have two activities (Main &amp; Settings). In the setting you will be able to edit the number of stimuli. When I edit the number it does not update at the main activity. \r\n\r\nThis is into Main activity onCreate \r\n```\r\nsettings = new SettingsActivity();\r\nsetNrOfStimuli = settings.getSetNrOfStimuli();\r\nstimuli = new int[setNrOfStimuli];\r\n```\r\n\r\n\r\nThis is on Main activity\r\n```\r\npublic void onSettingBtnClicked(View view) {\r\n    startActivity(new Intent(getApplicationContext(),SettingsActivity.class));\r\n}\r\n```\r\nThis is on Settings activity\r\n```\r\npublic void onBackBtnClicked(View view) {\r\n    setNrOfStimuli = Integer.parseInt(inputNrOfStimuliView.getText().toString());\r\n    finish();\r\n}\r\n```\r\nI can transfer the value of number by Intent or getter &amp; setter but the problem is with initialization when it comes back to Main activity from Settings.","title":"Update data between two Activities Android Java","body":"<p>I am making a simple Android game that displaying a sequence of visual stimuli. I have two activities (Main &amp; Settings). In the setting you will be able to edit the number of stimuli. When I edit the number it does not update at the main activity.</p>\n<p>This is into Main activity onCreate</p>\n<pre><code>settings = new SettingsActivity();\nsetNrOfStimuli = settings.getSetNrOfStimuli();\nstimuli = new int[setNrOfStimuli];\n</code></pre>\n<p>This is on Main activity</p>\n<pre><code>public void onSettingBtnClicked(View view) {\n    startActivity(new Intent(getApplicationContext(),SettingsActivity.class));\n}\n</code></pre>\n<p>This is on Settings activity</p>\n<pre><code>public void onBackBtnClicked(View view) {\n    setNrOfStimuli = Integer.parseInt(inputNrOfStimuliView.getText().toString());\n    finish();\n}\n</code></pre>\n<p>I can transfer the value of number by Intent or getter &amp; setter but the problem is with initialization when it comes back to Main activity from Settings.</p>\n"},{"tags":["java","android","annotations","annotation-processing"],"comments":[{"owner":{"account_id":4019407,"reputation":11310,"user_id":3310334,"accept_rate":64,"display_name":"theonlygusti"},"score":0,"creation_date":1687094130,"post_id":74510864,"comment_id":134886088,"body_markdown":"Have you figured out a way?","body":"Have you figured out a way?"}],"owner":{"account_id":21921935,"reputation":11,"user_id":16205068,"display_name":"Shelley Qiu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668970497,"creation_date":1668969439,"question_id":74510864,"body_markdown":"I&#39;m writing a view-binding annotation processor demo in Android Studio. The processor is registered by using google-auto-service.\r\n\r\nI want to test whether the processor is used or not. So I try to print some information in the `process()` method to know if it has exactly run. Here is my `process()` method detail.\r\n\r\n```\r\n@Override\r\npublic boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {\r\n    processingEnv.getMessager().printMessage(Diagnostic.Kind.WARNING, &quot;This is the process method in BindViewProcessor&quot;);\r\n    return false;\r\n}\r\n```\r\n\r\nThis is my project structure. I have three modules. The annotation and annotation-compiler modules are the java-library module.\r\n[enter image description here][1]\r\n\r\nIn the build.gradle file in the app module, I&#39;ve added the processor module to make sure the processor is actually used, but it still does not work.\r\n\r\n```\r\nannotationProcessor project(path: &#39;:annotation-compiler&#39;)\r\n```\r\n\r\nAnd I&#39;ve used the custom annotation in my MainActivity.\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        @BindView(id = R.id.tv)\r\n        String text = &quot;Text has been changed&quot;;\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Lfg3f.png","title":"The annotation processor message can not be displayed in build output window","body":"<p>I'm writing a view-binding annotation processor demo in Android Studio. The processor is registered by using google-auto-service.</p>\n<p>I want to test whether the processor is used or not. So I try to print some information in the <code>process()</code> method to know if it has exactly run. Here is my <code>process()</code> method detail.</p>\n<pre><code>@Override\npublic boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {\n    processingEnv.getMessager().printMessage(Diagnostic.Kind.WARNING, &quot;This is the process method in BindViewProcessor&quot;);\n    return false;\n}\n</code></pre>\n<p>This is my project structure. I have three modules. The annotation and annotation-compiler modules are the java-library module.\n<a href=\"https://i.stack.imgur.com/Lfg3f.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>In the build.gradle file in the app module, I've added the processor module to make sure the processor is actually used, but it still does not work.</p>\n<pre><code>annotationProcessor project(path: ':annotation-compiler')\n</code></pre>\n<p>And I've used the custom annotation in my MainActivity.</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        @BindView(id = R.id.tv)\n        String text = &quot;Text has been changed&quot;;\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1668900741,"post_id":74504202,"comment_id":131519575,"body_markdown":"There&#39;s nothing wrong with your approach so far. I would hold the grades in an array","body":"There&#39;s nothing wrong with your approach so far. I would hold the grades in an array"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1668902917,"post_id":74504202,"comment_id":131519861,"body_markdown":"You can use the `String.split(...)` method to split each line into an array. You can then use the `String.trim()` method to remove leading/trailing spaces. Then you can use the values from the array to create your Student class. You can use `Integer.parseInt()` to convert the string values to int.","body":"You can use the <code>String.split(...)</code> method to split each line into an array. You can then use the <code>String.trim()</code> method to remove leading/trailing spaces. Then you can use the values from the array to create your Student class. You can use <code>Integer.parseInt()</code> to convert the string values to int."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1668903851,"post_id":74504202,"comment_id":131519970,"body_markdown":"@camickr no split is necessary as the `Scanner` already is using the correct delimiter. It simply needs to consume the correct data types in succession","body":"@camickr no split is necessary as the <code>Scanner</code> already is using the correct delimiter. It simply needs to consume the correct data types in succession"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1668913745,"post_id":74504202,"comment_id":131520929,"body_markdown":"@g00se, *It simply needs to consume the correct data types in succession* - I got a NoSuchElementException when I tried to add all 5 scan.next() statement inside the loop. The delimiter doesn&#39;t include the end-of-line string so the 5th token wraps to the next line and includes the name as part of the token, so you run out of tokens. Logically I also think it is more understandable to read a single line of data and then parse the data into its 5 pieces instead of trying to read 5 tokens and combine then back into a single Student class.","body":"@g00se, <i>It simply needs to consume the correct data types in succession</i> - I got a NoSuchElementException when I tried to add all 5 scan.next() statement inside the loop. The delimiter doesn&#39;t include the end-of-line string so the 5th token wraps to the next line and includes the name as part of the token, so you run out of tokens. Logically I also think it is more understandable to read a single line of data and then parse the data into its 5 pieces instead of trying to read 5 tokens and combine then back into a single Student class."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1668935673,"post_id":74504202,"comment_id":131523197,"body_markdown":"Actually the data posted look like they  don&#39;t include line separators ( or *did* when I first looked). If for some reason no not do that can easily be corrected with delimiter `&quot;\\\\R,&quot;`","body":"Actually the data posted look like they  don&#39;t include line separators ( or <i>did</i> when I first looked). If for some reason no not do that can easily be corrected with delimiter <code>&quot;\\\\R,&quot;</code>"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1668957410,"post_id":74504202,"comment_id":131527042,"body_markdown":"@g00se *the data posted look like they don&#39;t include line separators* - the OP posted data on separate lines, but the site displays the data on one line unless the original formatting is retained. A &quot;,&quot; was not included after the last number on each line. I edited the question to provide proper formatting to make the question clearer.","body":"@g00se <i>the data posted look like they don&#39;t include line separators</i> - the OP posted data on separate lines, but the site displays the data on one line unless the original formatting is retained. A &quot;,&quot; was not included after the last number on each line. I edited the question to provide proper formatting to make the question clearer."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1668957604,"post_id":74504202,"comment_id":131527090,"body_markdown":"@g00se *can easily be corrected with delimiter &quot;\\\\R,&quot;* - Still got the Exception. I&#39;m not a regex person but don&#39;t you need some kind of &quot;or&quot; condition? I also tried just using &quot;\\\\r&quot; to see if I could tokenize each line but I still got an Exception.  Also, would this approach work on Windows where &quot;\\r\\n&quot; is used as the new line string?","body":"@g00se <i>can easily be corrected with delimiter &quot;\\\\R,&quot;</i> - Still got the Exception. I&#39;m not a regex person but don&#39;t you need some kind of &quot;or&quot; condition? I also tried just using &quot;\\\\r&quot; to see if I could tokenize each line but I still got an Exception.  Also, would this approach work on Windows where &quot;\\r\\n&quot; is used as the new line string?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1668966689,"post_id":74504202,"comment_id":131529045,"body_markdown":"Sorry, that was woolly. I meant `&quot;\\\\R|\\\\s*,\\\\s*&quot;`. That&#39;s platform-agnostic.","body":"Sorry, that was woolly. I meant <code>&quot;\\\\R|\\\\s*,\\\\s*&quot;</code>. That&#39;s platform-agnostic."}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668969889,"creation_date":1668960212,"answer_id":74509680,"question_id":74504202,"body_markdown":"    scan.useDelimiter(&quot;,&quot;);\r\n\r\nFirst of all, the delimiter should be &quot;, &quot; since you have a space after each comma.\r\n\r\nAnother problem is that you have two conditions to find a token:\r\n\r\n1. &quot;, &quot; - for the token on each line\r\n2. &quot;\\\\\\R&quot; - to handle the last token at the end of each line\r\n\r\nSo, you could change the delimiter:\r\n\r\n    import java.util.*;\r\n    import java.io.*;\r\n    \r\n    public class StudentData {\r\n    \r\n    \tpublic static void main(String[] args) throws FileNotFoundException\r\n    \t{\r\n    \t\tFile file = new File(&quot;main.txt&quot;);\r\n    \t\tScanner scan = new Scanner( file );\r\n    \t\tscan.useDelimiter(&quot;\\\\R|, &quot;);\r\n    \r\n    \t\twhile (scan.hasNext())\r\n    \t\t{\r\n    \t\t\tString name = scan.next();\r\n    \t\t\tint mark1 = scan.nextInt();\r\n    \t\t\tint mark2 = scan.nextInt();\r\n    \t\t\tint mark3 = scan.nextInt();\r\n    \t\t\tint mark4 = scan.nextInt();\r\n    \r\n    \t\t\tSystem.out.println(name + &quot; : &quot; + mark1 + &quot; : &quot; + mark2 + &quot; : &quot; + mark3 + &quot; : &quot; + mark4);\r\n    \t\t}\r\n    \r\n    \t\tscan.close();\r\n    \t}\r\n    }\r\n\r\nThis approach is very flexible for your file format:\r\n\r\n1. keep all the student data on a single line.\r\n2. have each piece of data on a separate line. So, each student would be 5 lines of data.\r\n\r\nHowever, because of this flexibility it is harder to verify the format to make sure each student only has exactly 5 pieces of data.\r\n\r\nA slightly different approach would be to use the `Scanner` to read each line and then use the `String.split(...)` to tokenize the line.\r\n\r\n    import java.util.*;\r\n    import java.io.*;\r\n    \r\n    public class StudentData2 {\r\n    \r\n    \tpublic static void main(String[] args) throws FileNotFoundException\r\n    \t{\r\n    \t\tFile file = new File(&quot;main.txt&quot;);\r\n    \t\tScanner scan = new Scanner( file );\r\n    \t\tscan.useDelimiter(&quot;\\\\R&quot;);\r\n    \r\n    \t\twhile (scan.hasNext())\r\n    \t\t{\r\n    \t\t\tString[] tokens = scan.next().split(&quot;, &quot;);\r\n    \r\n    \t\t\tif (tokens.length == 5)\r\n    \t\t\t{\r\n    \t\t\t\tString name = tokens[0];\r\n    \t\t\t\tint mark1 = Integer.parseInt( tokens[1] );\r\n    \t\t\t\tint mark2 = Integer.parseInt( tokens[2] );\r\n    \t\t\t\tint mark3 = Integer.parseInt( tokens[3] );\r\n    \t\t\t\tint mark4 = Integer.parseInt( tokens[4] );\r\n    \r\n    \t\t\t\tSystem.out.println(name + &quot; : &quot; + mark1 + &quot; : &quot; + mark2 + &quot; : &quot; + mark3 + &quot; : &quot; + mark4);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nThis allows you to do a simple check to make sure each line contains all the student data. Further checks can be added to make sure is token is a valid format.","title":"Using Java How can I import/read a txt file into java and create strings from those objects","body":"<pre><code>scan.useDelimiter(&quot;,&quot;);\n</code></pre>\n<p>First of all, the delimiter should be &quot;, &quot; since you have a space after each comma.</p>\n<p>Another problem is that you have two conditions to find a token:</p>\n<ol>\n<li>&quot;, &quot; - for the token on each line</li>\n<li>&quot;\\\\R&quot; - to handle the last token at the end of each line</li>\n</ol>\n<p>So, you could change the delimiter:</p>\n<pre><code>import java.util.*;\nimport java.io.*;\n\npublic class StudentData {\n\n    public static void main(String[] args) throws FileNotFoundException\n    {\n        File file = new File(&quot;main.txt&quot;);\n        Scanner scan = new Scanner( file );\n        scan.useDelimiter(&quot;\\\\R|, &quot;);\n\n        while (scan.hasNext())\n        {\n            String name = scan.next();\n            int mark1 = scan.nextInt();\n            int mark2 = scan.nextInt();\n            int mark3 = scan.nextInt();\n            int mark4 = scan.nextInt();\n\n            System.out.println(name + &quot; : &quot; + mark1 + &quot; : &quot; + mark2 + &quot; : &quot; + mark3 + &quot; : &quot; + mark4);\n        }\n\n        scan.close();\n    }\n}\n</code></pre>\n<p>This approach is very flexible for your file format:</p>\n<ol>\n<li>keep all the student data on a single line.</li>\n<li>have each piece of data on a separate line. So, each student would be 5 lines of data.</li>\n</ol>\n<p>However, because of this flexibility it is harder to verify the format to make sure each student only has exactly 5 pieces of data.</p>\n<p>A slightly different approach would be to use the <code>Scanner</code> to read each line and then use the <code>String.split(...)</code> to tokenize the line.</p>\n<pre><code>import java.util.*;\nimport java.io.*;\n\npublic class StudentData2 {\n\n    public static void main(String[] args) throws FileNotFoundException\n    {\n        File file = new File(&quot;main.txt&quot;);\n        Scanner scan = new Scanner( file );\n        scan.useDelimiter(&quot;\\\\R&quot;);\n\n        while (scan.hasNext())\n        {\n            String[] tokens = scan.next().split(&quot;, &quot;);\n\n            if (tokens.length == 5)\n            {\n                String name = tokens[0];\n                int mark1 = Integer.parseInt( tokens[1] );\n                int mark2 = Integer.parseInt( tokens[2] );\n                int mark3 = Integer.parseInt( tokens[3] );\n                int mark4 = Integer.parseInt( tokens[4] );\n\n                System.out.println(name + &quot; : &quot; + mark1 + &quot; : &quot; + mark2 + &quot; : &quot; + mark3 + &quot; : &quot; + mark4);\n            }\n        }\n    }\n}\n</code></pre>\n<p>This allows you to do a simple check to make sure each line contains all the student data. Further checks can be added to make sure is token is a valid format.</p>\n"}],"owner":{"account_id":26987225,"reputation":1,"user_id":20550685,"display_name":"KingCandy"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668969889,"creation_date":1668896349,"question_id":74504202,"body_markdown":"I have a txt file and I need to import/read the names and grades and sort the names alphabetically. \r\n\r\nExample of txt file:\r\n\r\n    John Doe, 30, 25, 70, 10\r\n    Jane Doe, 33, 20, 80, 15\r\n    Christian Pulisic, 70, 60, 50, 20\r\n\r\nI am reading the txt file below but how can I pull out the names and grades into separate strings/int objects? I will most likely create a separate Student class.\r\n\r\n\r\n\r\n\r\n\r\n````\r\npackage project;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.File;\r\nimport java.util.Scanner;\r\n\r\npublic class StudentData {\r\n\r\n\tpublic static void main(String[] args) throws FileNotFoundException\r\n\t{\r\n\t\t    // pass the path to the file as a parameter\r\n\t\t    File file = new File(&quot;Filepath);\r\n\t\t   \r\n\t\t    Scanner scan = new Scanner(file);\r\n\t\t    scan.useDelimiter(&quot;,&quot;);\r\n\t\t    \r\n\t\t \r\n\t    // Read data from a file\r\n\t\tString fileData = &quot; &quot;;\r\n\t\t\r\n\t\tStudent[] student = new Student[20];\r\n\t    while (scan.hasNextLine()) {\r\n\t    \tString firstName = scan.next();\r\n\t    \t\r\n\t      System.out.print(firstName);\r\n\t    }\r\n\r\n\t    // Close the file\r\n\t    scan.close();\r\n\t  }\r\n\r\n```\r\n`\r\n\r\n","title":"Using Java How can I import/read a txt file into java and create strings from those objects","body":"<p>I have a txt file and I need to import/read the names and grades and sort the names alphabetically.</p>\n<p>Example of txt file:</p>\n<pre><code>John Doe, 30, 25, 70, 10\nJane Doe, 33, 20, 80, 15\nChristian Pulisic, 70, 60, 50, 20\n</code></pre>\n<p>I am reading the txt file below but how can I pull out the names and grades into separate strings/int objects? I will most likely create a separate Student class.</p>\n<pre><code>package project;\nimport java.io.FileNotFoundException;\nimport java.io.File;\nimport java.util.Scanner;\n\npublic class StudentData {\n\n    public static void main(String[] args) throws FileNotFoundException\n    {\n            // pass the path to the file as a parameter\n            File file = new File(&quot;Filepath);\n           \n            Scanner scan = new Scanner(file);\n            scan.useDelimiter(&quot;,&quot;);\n            \n         \n        // Read data from a file\n        String fileData = &quot; &quot;;\n        \n        Student[] student = new Student[20];\n        while (scan.hasNextLine()) {\n            String firstName = scan.next();\n            \n          System.out.print(firstName);\n        }\n\n        // Close the file\n        scan.close();\n      }\n\n```\n`\n\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1668972517,"post_id":74510834,"comment_id":131530413,"body_markdown":"Please consider creating and posting a valid [mre]. The link will explain what this is and how it can help you and us.","body":"Please consider creating and posting a valid <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. The link will explain what this is and how it can help you and us."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1668973258,"post_id":74510834,"comment_id":131530581,"body_markdown":"1) INDENTATION - that code is mostly not readable; 2) closing the `Scanner` also close `System.in` -&gt; nothing more can be read from it (from its [documentation](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Scanner.html#nextInt()): &quot;`NoSuchElementException` - if input is exhausted&quot;)","body":"1) INDENTATION - that code is mostly not readable; 2) closing the <code>Scanner</code> also close <code>System.in</code> -&gt; nothing more can be read from it (from its <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Scanner.html#nextInt()\" rel=\"nofollow noreferrer\">documentation</a>: &quot;<code>NoSuchElementException</code> - if input is exhausted&quot;)"}],"owner":{"account_id":16021470,"reputation":1,"user_id":11562889,"display_name":"Qikee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1668973377,"answer_count":0,"score":0,"last_activity_date":1668969260,"creation_date":1668969174,"question_id":74510834,"body_markdown":"Trying to make a pause in a game with the idea of if he wants to quit the game or roll the dice. \r\n\r\nI added a scanner for user input: if 1 quit game, if anything else continue;\r\n\r\nWhen I try to play it crashes at the scanner point with the exception:\r\nException in thread &quot;main&quot; java.util.NoSuchElementException ( at  stopGame = sc.nextInt(); , showed the line in code)\r\nThe code:\r\n`\r\n```java\r\npublic static void playersTraverse(int playerCount, int mapLength)\r\n{\r\n\r\n\r\n    int diceRollAmount;\r\n    int[] player = new int[playerCount];\r\n// --------------------------\r\n\r\n\r\n        for(int i = 0; i&lt;playerCount; i++)\r\n            player[i] = 0;\r\n\r\n    System.out.println(&quot;Player Positions: &quot;);\r\n\r\n        for(int i = 0; i&lt;playerCount;i++)\r\n            System.out.println((i+1) + &quot; Player is at position &quot; + (player[1]+1));\r\n    Scanner sc = new Scanner(System.in);\r\n\r\n    Integer stopGame=0;\r\n    while (player[0] != (mapLength-1) || player[1] != (mapLength-1) || player[2] != (mapLength-1))\r\n    {\r\n        for(int i = 0;i&lt; playerCount; i++)\r\n        {\r\n            System.out.println(i + &quot; player it&#39;s your turn!   (if you want to stop press 1)&quot;);\r\n\r\n            boolean hasNextInt = false;\r\n            while(!hasNextInt){\r\n                hasNextInt = sc.hasNextInt();\r\n                stopGame = sc.nextInt(); // &lt;--- Crashes here;\r\n\r\n                if(stopGame.equals(1))\r\n                {\r\n                    System.exit(0);\r\n                }\r\n\r\n                sc.close();\r\n                diceRollAmount= rollDice();\r\n                System.out.println(&quot;It&#39;s &quot; + diceRollAmount);\r\n                player[i] += diceRollAmount;\r\n                player[i] = gameMap.get(player[i]).checkElements(player[i]);\r\n                System.out.println(&quot;Player &quot; + (i+1) + &quot; is at the &quot; + (player[i]+1) + &quot; pos.&quot;);\r\n\r\n                if(player[i] &gt;= mapLength-1)\r\n                    winGame(player[i]);\r\n            }\r\n\r\n        }\r\n        System.out.println();\r\n    }\r\n}\r\n```\r\n`\r\n\r\nI tried to do just with nextLine but says there is no line found, found that I need to make a while loop and still crashes.\r\n\r\nHow do I use scanner in this case so it does not crash?\r\n\r\nthe full code: https://github.com/QikKick/Uni-work/tree/main/Snakes%20and%20Ladders","title":"Java, Scanner does not scan and shows exception","body":"<p>Trying to make a pause in a game with the idea of if he wants to quit the game or roll the dice.</p>\n<p>I added a scanner for user input: if 1 quit game, if anything else continue;</p>\n<p>When I try to play it crashes at the scanner point with the exception:\nException in thread &quot;main&quot; java.util.NoSuchElementException ( at  stopGame = sc.nextInt(); , showed the line in code)\nThe code:\n`</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void playersTraverse(int playerCount, int mapLength)\n{\n\n\n    int diceRollAmount;\n    int[] player = new int[playerCount];\n// --------------------------\n\n\n        for(int i = 0; i&lt;playerCount; i++)\n            player[i] = 0;\n\n    System.out.println(&quot;Player Positions: &quot;);\n\n        for(int i = 0; i&lt;playerCount;i++)\n            System.out.println((i+1) + &quot; Player is at position &quot; + (player[1]+1));\n    Scanner sc = new Scanner(System.in);\n\n    Integer stopGame=0;\n    while (player[0] != (mapLength-1) || player[1] != (mapLength-1) || player[2] != (mapLength-1))\n    {\n        for(int i = 0;i&lt; playerCount; i++)\n        {\n            System.out.println(i + &quot; player it's your turn!   (if you want to stop press 1)&quot;);\n\n            boolean hasNextInt = false;\n            while(!hasNextInt){\n                hasNextInt = sc.hasNextInt();\n                stopGame = sc.nextInt(); // &lt;--- Crashes here;\n\n                if(stopGame.equals(1))\n                {\n                    System.exit(0);\n                }\n\n                sc.close();\n                diceRollAmount= rollDice();\n                System.out.println(&quot;It's &quot; + diceRollAmount);\n                player[i] += diceRollAmount;\n                player[i] = gameMap.get(player[i]).checkElements(player[i]);\n                System.out.println(&quot;Player &quot; + (i+1) + &quot; is at the &quot; + (player[i]+1) + &quot; pos.&quot;);\n\n                if(player[i] &gt;= mapLength-1)\n                    winGame(player[i]);\n            }\n\n        }\n        System.out.println();\n    }\n}\n</code></pre>\n<p>`</p>\n<p>I tried to do just with nextLine but says there is no line found, found that I need to make a while loop and still crashes.</p>\n<p>How do I use scanner in this case so it does not crash?</p>\n<p>the full code: <a href=\"https://github.com/QikKick/Uni-work/tree/main/Snakes%20and%20Ladders\" rel=\"nofollow noreferrer\">https://github.com/QikKick/Uni-work/tree/main/Snakes%20and%20Ladders</a></p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":76705,"reputation":8914,"user_id":219394,"display_name":"Kevin Brock"},"down_vote_count":0,"up_vote_count":73,"is_accepted":true,"score":73,"last_activity_date":1668968820,"creation_date":1268111588,"answer_id":2406819,"question_id":2406341,"body_markdown":"If you are looking for any IP address that is valid for the local host then you must check for special local host (e.g. 127.0.0.1) addresses as well as the ones assigned to any interfaces. For instance...\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public static boolean isThisMyIpAddress(InetAddress addr) {\r\n        // Check if the address is a valid special local or loop back\r\n        if (addr.isAnyLocalAddress() || addr.isLoopbackAddress())\r\n            return true; // Was local sub-net.\r\n\r\n        // Check if the Non-local address is defined on any Local-interface.\r\n        try {\r\n            return NetworkInterface.getByInetAddress(addr) != null;\r\n        } catch (SocketException e) {\r\n            return false;\r\n        }\r\n    }\r\n\r\nWith a string, indicating the port, call this with:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    boolean isMyDesiredIp = false;\r\n    try\r\n    {\r\n        isMyDesiredIp = isThisMyIpAddress(InetAddress.getByName(&quot;192.168.220.25&quot;)); //&quot;localhost&quot; for localhost\r\n    }\r\n    catch(UnknownHostException unknownHost)\r\n    {\r\n        unknownHost.printStackTrace();\r\n    }\r\n","title":"How to check if an IP address is the local host on a multi-homed system?","body":"<p>If you are looking for any IP address that is valid for the local host then you must check for special local host (e.g. 127.0.0.1) addresses as well as the ones assigned to any interfaces. For instance...</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean isThisMyIpAddress(InetAddress addr) {\n    // Check if the address is a valid special local or loop back\n    if (addr.isAnyLocalAddress() || addr.isLoopbackAddress())\n        return true; // Was local sub-net.\n\n    // Check if the Non-local address is defined on any Local-interface.\n    try {\n        return NetworkInterface.getByInetAddress(addr) != null;\n    } catch (SocketException e) {\n        return false;\n    }\n}\n</code></pre>\n<p>With a string, indicating the port, call this with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean isMyDesiredIp = false;\ntry\n{\n    isMyDesiredIp = isThisMyIpAddress(InetAddress.getByName(&quot;192.168.220.25&quot;)); //&quot;localhost&quot; for localhost\n}\ncatch(UnknownHostException unknownHost)\n{\n    unknownHost.printStackTrace();\n}\n</code></pre>\n"}],"owner":{"account_id":881234,"reputation":613,"user_id":279862,"display_name":"MItch Branting"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30988,"favorite_count":0,"down_vote_count":0,"up_vote_count":41,"accepted_answer_id":2406819,"answer_count":1,"score":41,"last_activity_date":1668968820,"creation_date":1268103145,"question_id":2406341,"body_markdown":"For a machine with multiple NIC cards, is there a convenient method in Java that tells whether a given IP address is the current machine or not.  e.g.\r\n\r\n    boolean IsThisMyIpAddress(&quot;192.168.220.25&quot;);\r\n\r\n","title":"How to check if an IP address is the local host on a multi-homed system?","body":"<p>For a machine with multiple NIC cards, is there a convenient method in Java that tells whether a given IP address is the current machine or not.  e.g.</p>\n\n<pre><code>boolean IsThisMyIpAddress(\"192.168.220.25\");\n</code></pre>\n"},{"tags":["java","collections","thread-safety"],"answers":[{"tags":[],"owner":{"account_id":36208,"reputation":240316,"user_id":103154,"display_name":"axtavt"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1286909113,"creation_date":1286909113,"answer_id":3917942,"question_id":3917810,"body_markdown":"It depends on the usage pattern - if you have much more reads than writes, use `CopyOnWriteArrayList`, otherwise use `Vector`. \r\n\r\n`Vector` introduces a small synchronization delay for each operation, when `CopyOnWriteArrayList` has a longer delay for write (due to copying) but no delay for reads.\r\n\r\nAnother consideration is a behaviour of iterators - `Vector` requires explicit synchronization when you are iterating it (so write operations can&#39;t be executed at the same time), `CopyOnWriteArrayList` doesn&#39;t.","title":"CopyOnWriteArrayList or Vector","body":"<p>It depends on the usage pattern - if you have much more reads than writes, use <code>CopyOnWriteArrayList</code>, otherwise use <code>Vector</code>. </p>\n\n<p><code>Vector</code> introduces a small synchronization delay for each operation, when <code>CopyOnWriteArrayList</code> has a longer delay for write (due to copying) but no delay for reads.</p>\n\n<p>Another consideration is a behaviour of iterators - <code>Vector</code> requires explicit synchronization when you are iterating it (so write operations can't be executed at the same time), <code>CopyOnWriteArrayList</code> doesn't.</p>\n"},{"tags":[],"owner":{"account_id":74486,"reputation":105478,"user_id":214010,"accept_rate":83,"display_name":"mikera"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1286910891,"creation_date":1286910891,"answer_id":3918186,"question_id":3917810,"body_markdown":"Overall, it depends on the frequency and nature of read and write operations, and the size of the array.\r\n\r\nYou&#39;ll need to benchmark in your context to be sure, but here are some general principles:\r\n\r\n - If you are **only going to read the\r\n   array**, then even ArrayList is\r\n   thread safe (since the only\r\n   non-thread-safe modifications are\r\n   those that modify the list). Hence\r\n   you would want to use a\r\n   non-synchronised data structure,\r\n   either ArrayList or\r\n   CopyOnWriteArrayList would probably\r\n   work equally well. \r\n - If **reads are much more common\r\n   compared to writes** then you would\r\n   tend to prefer CopyOnWriteArrayList,\r\n   since the array copying overhead is\r\n   only incurred on writes.  \r\n - If the **size of the Array is\r\n   small**, then the cost of making\r\n   array copies will also be small,\r\n   hence this will favour\r\n   CopyOnWriteArrayList over Vector.\r\n\r\nYou may also want to consider two other options:\r\n\r\n - Use an ArrayList but put the **synchronisation elsewhere** to ensure thread safety. This is actually the method I personally use most often - basically the idea is to use a separate, higher-level lock to protect all the relevant data structures at the same time. This is much more efficient than having synchronisation on every single operation as Vector does.\r\n - Consider an immutable [**persistent data structure**][1] - these are guaranteed to be thread safe due to immutability, do not require synchronisation and also benefit from low overhead (i.e. they share most data between different instances rather than making complete new copies). Languages like [Clojure][2] use these to get ArrayList-like performance while also guaranteeing full thread safety.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Persistent_data_structure\r\n  [2]: http://clojure.org/data_structures","title":"CopyOnWriteArrayList or Vector","body":"<p>Overall, it depends on the frequency and nature of read and write operations, and the size of the array.</p>\n\n<p>You'll need to benchmark in your context to be sure, but here are some general principles:</p>\n\n<ul>\n<li>If you are <strong>only going to read the\narray</strong>, then even ArrayList is\nthread safe (since the only\nnon-thread-safe modifications are\nthose that modify the list). Hence\nyou would want to use a\nnon-synchronised data structure,\neither ArrayList or\nCopyOnWriteArrayList would probably\nwork equally well. </li>\n<li>If <strong>reads are much more common\ncompared to writes</strong> then you would\ntend to prefer CopyOnWriteArrayList,\nsince the array copying overhead is\nonly incurred on writes.  </li>\n<li>If the <strong>size of the Array is\nsmall</strong>, then the cost of making\narray copies will also be small,\nhence this will favour\nCopyOnWriteArrayList over Vector.</li>\n</ul>\n\n<p>You may also want to consider two other options:</p>\n\n<ul>\n<li>Use an ArrayList but put the <strong>synchronisation elsewhere</strong> to ensure thread safety. This is actually the method I personally use most often - basically the idea is to use a separate, higher-level lock to protect all the relevant data structures at the same time. This is much more efficient than having synchronisation on every single operation as Vector does.</li>\n<li>Consider an immutable <a href=\"http://en.wikipedia.org/wiki/Persistent_data_structure\"><strong>persistent data structure</strong></a> - these are guaranteed to be thread safe due to immutability, do not require synchronisation and also benefit from low overhead (i.e. they share most data between different instances rather than making complete new copies). Languages like <a href=\"http://clojure.org/data_structures\">Clojure</a> use these to get ArrayList-like performance while also guaranteeing full thread safety.</li>\n</ul>\n"}],"owner":{"account_id":61688,"reputation":9624,"user_id":183717,"accept_rate":95,"display_name":"name_masked"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7758,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":3918186,"answer_count":2,"score":10,"last_activity_date":1668968620,"creation_date":1286908221,"question_id":3917810,"body_markdown":"All,\r\n\r\nThe edge **Vector** class has over **ArrayList** is that it is synchronized and hence ensures thread-safety. However, between CopyOnWriteArrayList and Vector, what should be the preferred considering thread safety and performance in consideration.\r\n\r\n\r\n\r\n","title":"CopyOnWriteArrayList or Vector","body":"<p>All,</p>\n<p>The edge <strong>Vector</strong> class has over <strong>ArrayList</strong> is that it is synchronized and hence ensures thread-safety. However, between CopyOnWriteArrayList and Vector, what should be the preferred considering thread safety and performance in consideration.</p>\n"},{"tags":["java","generics","junit","mockito"],"answers":[{"tags":[],"owner":{"account_id":9143874,"reputation":299,"user_id":6800850,"display_name":"joemokenela"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543328582,"creation_date":1543328582,"answer_id":53501805,"question_id":53501423,"body_markdown":"In your test class you can have something like this\r\n\r\n    public class TestClass {\r\n    \r\n    @Mock\r\n    GenericHistoryRepository genericHistoryRepository;\r\n    \r\n    @InjectMock\r\n    MongoTemplate  mongoTemplate;\r\n    \r\n    \r\n    @Before\r\n    public void init() {\r\n        MockitoAnnotations.initMocks(this);\r\n    }\r\n    \r\n    }\r\n\r\n`@InjectMock` will inject the depedency of your mock.","title":"Using mockito to mock a service with generic methods within","body":"<p>In your test class you can have something like this</p>\n\n<pre><code>public class TestClass {\n\n@Mock\nGenericHistoryRepository genericHistoryRepository;\n\n@InjectMock\nMongoTemplate  mongoTemplate;\n\n\n@Before\npublic void init() {\n    MockitoAnnotations.initMocks(this);\n}\n\n}\n</code></pre>\n\n<p><code>@InjectMock</code> will inject the depedency of your mock.</p>\n"},{"tags":[],"owner":{"account_id":6826297,"reputation":112,"user_id":5251925,"display_name":"Stijn Van Bever"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1543329920,"creation_date":1543329920,"answer_id":53502197,"question_id":53501423,"body_markdown":"Your when clause is the problem.\r\n\r\nInside the `when` you should define when to match and after that you state what should be returned.\r\n\r\nYour when statement starts good by stating you want to match any `String` passed as first argument, but as a second argument you are passing a mock so that means that it will only trigger if that specific mock is passed as second argument (which I don&#39;t think is happening).\r\n\r\nYou can change the second argument to: `any(Class.class)`\r\n\r\nFor the third argument you can state that you want it to be equal to `collectionName` by using: `org.mockito.ArgumentMatchers#eq(T)`\r\n","title":"Using mockito to mock a service with generic methods within","body":"<p>Your when clause is the problem.</p>\n\n<p>Inside the <code>when</code> you should define when to match and after that you state what should be returned.</p>\n\n<p>Your when statement starts good by stating you want to match any <code>String</code> passed as first argument, but as a second argument you are passing a mock so that means that it will only trigger if that specific mock is passed as second argument (which I don't think is happening).</p>\n\n<p>You can change the second argument to: <code>any(Class.class)</code></p>\n\n<p>For the third argument you can state that you want it to be equal to <code>collectionName</code> by using: <code>org.mockito.ArgumentMatchers#eq(T)</code></p>\n"}],"owner":{"account_id":478034,"reputation":733,"user_id":889869,"accept_rate":50,"display_name":"dragonalvaro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":463,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":53502197,"answer_count":2,"score":0,"last_activity_date":1668967840,"creation_date":1543327301,"question_id":53501423,"body_markdown":"Assuming that I have this repository\r\n\r\n    @Repository public class GenericHistoryRepositoryImpl implements GenericHistoryRepository {\r\n    \r\n    \t@Autowired \tprivate MongoTemplate mongoTemplate;\r\n    \t \t \t@Override \tpublic Historiable create(Historiable historiableObject, String collectionName) {\r\n    \t\t \t\tmongoTemplate.save(historiableObject, collectionName);\r\n    \t\t \t\treturn historiableObject; \t}\r\n    \r\n    \r\n    \t@Override \tpublic &lt;T extends Historiable&gt; T get(String id, Class&lt;T&gt; collectionClass, String collectionName) {\r\n    \t\t \t\tQuery query = new Query();\r\n \t\tquery.addCriteria(Criteria.where(&quot;id&quot;).is(id));\r\n \t\treturn mongoTemplate.findOne(query, collectionClass, collectionName);\r\n    \t\t \t} }\r\n\r\nAnd I have this test in which I have to mock the repository, but I can&#39;t figure out how\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class GenericHistoryServiceTest {\r\n    \r\n    \t@Mock\r\n    \tprivate GenericHistoryRepository genericHistoryRepository;\r\n    \r\n    \t@InjectMocks\r\n    \tprivate GenericHistoryService genericHistoryService = new GenericHistoryServiceImpl();\r\n      \r\n    \r\n          \r\n        @Test \t\r\n            public &lt;T extends Historiable&gt; void getHistoryOk2() throws NotFoundException, ClassNotFoundException {\r\n         \t\tString id = &quot;1&quot;\r\n    \r\n    ;\r\n     \t\tString collectionName = HistoriableCollections.HISTORIABLE_SHIPMENT_REQUEST;\r\n        \tShipmentRequest a = mock(ShipmentRequest.class);\r\n        \tClass&lt;? extends Historiable&gt; clazz = ShipmentRequest.class;\r\n\t\twhen(genericHistoryRepository.get(any(String.class), eq(clazz), collectionName)).thenReturn(createExample());\r\n        \t\t\r\n        \r\n        \tHistoriableDTO result = genericHistoryService.get(id, HistoriableCollections.HISTORIABLE_SHIPMENT_REQUEST);\r\n        \r\n            //\t\tverify(genericHistoryRepository, times(1)).get(id, any(), HistoriableCollections.HISTORIABLE_SHIPMENT_REQUEST);\r\n        \r\n        \tassertThat(result, is(notNullValue())); \t\t \r\n            assertThat(result.getId(), is(notNullValue()));\r\n        }\r\n\r\nKeep in mind that Historiable is an abstract class\r\n\r\n    public abstract class Historiable {\r\n    \r\n    \tpublic abstract String getParentId();\r\n    \r\n    }\r\n\r\nAnd this extends Historiable\r\n\r\n    @Document(collection = HistoriableCollections.HISTORIABLE_SHIPMENT_REQUEST)\r\n    public class ShipmentRequest extends Historiable {\r\n    \r\n    \tprivate String id;\r\n    \t\r\n    \t@Indexed\r\n    \tprivate String parentId;\r\n    \r\n    ...\r\n    \r\n    }\r\n\r\n**My problem is with the &quot;when&quot; sentence defining the behaviour of the repository mock. It has generic methods that I don&#39;t know how to mock**\r\n\r\n    Class&lt;? extends Historiable&gt; clazz = ShipmentRequest.class;\r\n\t\twhen(genericHistoryRepository.get(any(String.class), eq(clazz), collectionName)).thenReturn(createExample());\r\n\r\nI&#39;m getting\r\n\r\nThe method thenReturn(capture#1-of ? extends Historiable) in the type OngoingStubbing&lt;capture#1-of ? extends Historiable&gt; is not applicable for the arguments (ShipmentRequest)\r\n\r\n    private ShipmentRequest createExample() {\r\n    \t\tShipmentRequest history = new ShipmentRequest();\r\n    \t\thistory.setId(&quot;1&quot;);\r\n    \r\n    \t\treturn history;\r\n    \t}\r\n\r\n","title":"Using mockito to mock a service with generic methods within","body":"<p>Assuming that I have this repository</p>\n<pre><code>@Repository public class GenericHistoryRepositoryImpl implements GenericHistoryRepository {\n\n    @Autowired  private MongoTemplate mongoTemplate;\n            @Override   public Historiable create(Historiable historiableObject, String collectionName) {\n                mongoTemplate.save(historiableObject, collectionName);\n                return historiableObject;   }\n\n\n    @Override   public &lt;T extends Historiable&gt; T get(String id, Class&lt;T&gt; collectionClass, String collectionName) {\n                Query query = new Query();\n    query.addCriteria(Criteria.where(&quot;id&quot;).is(id));\n    return mongoTemplate.findOne(query, collectionClass, collectionName);\n            } }\n</code></pre>\n<p>And I have this test in which I have to mock the repository, but I can't figure out how</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class GenericHistoryServiceTest {\n\n    @Mock\n    private GenericHistoryRepository genericHistoryRepository;\n\n    @InjectMocks\n    private GenericHistoryService genericHistoryService = new GenericHistoryServiceImpl();\n  \n\n      \n    @Test   \n        public &lt;T extends Historiable&gt; void getHistoryOk2() throws NotFoundException, ClassNotFoundException {\n            String id = &quot;1&quot;\n\n;\n        String collectionName = HistoriableCollections.HISTORIABLE_SHIPMENT_REQUEST;\n        ShipmentRequest a = mock(ShipmentRequest.class);\n        Class&lt;? extends Historiable&gt; clazz = ShipmentRequest.class;\n    when(genericHistoryRepository.get(any(String.class), eq(clazz), collectionName)).thenReturn(createExample());\n            \n    \n        HistoriableDTO result = genericHistoryService.get(id, HistoriableCollections.HISTORIABLE_SHIPMENT_REQUEST);\n    \n        //      verify(genericHistoryRepository, times(1)).get(id, any(), HistoriableCollections.HISTORIABLE_SHIPMENT_REQUEST);\n    \n        assertThat(result, is(notNullValue()));          \n        assertThat(result.getId(), is(notNullValue()));\n    }\n</code></pre>\n<p>Keep in mind that Historiable is an abstract class</p>\n<pre><code>public abstract class Historiable {\n\n    public abstract String getParentId();\n\n}\n</code></pre>\n<p>And this extends Historiable</p>\n<pre><code>@Document(collection = HistoriableCollections.HISTORIABLE_SHIPMENT_REQUEST)\npublic class ShipmentRequest extends Historiable {\n\n    private String id;\n    \n    @Indexed\n    private String parentId;\n\n...\n\n}\n</code></pre>\n<p><strong>My problem is with the &quot;when&quot; sentence defining the behaviour of the repository mock. It has generic methods that I don't know how to mock</strong></p>\n<pre><code>Class&lt;? extends Historiable&gt; clazz = ShipmentRequest.class;\n    when(genericHistoryRepository.get(any(String.class), eq(clazz), collectionName)).thenReturn(createExample());\n</code></pre>\n<p>I'm getting</p>\n<p>The method thenReturn(capture#1-of ? extends Historiable) in the type OngoingStubbing&lt;capture#1-of ? extends Historiable&gt; is not applicable for the arguments (ShipmentRequest)</p>\n<pre><code>private ShipmentRequest createExample() {\n        ShipmentRequest history = new ShipmentRequest();\n        history.setId(&quot;1&quot;);\n\n        return history;\n    }\n</code></pre>\n"},{"tags":["java","data-structures","time-complexity"],"comments":[{"owner":{"account_id":9762349,"reputation":3120,"user_id":7237062,"accept_rate":60,"display_name":"LoneWanderer"},"score":1,"creation_date":1543340472,"post_id":53504893,"comment_id":93879991,"body_markdown":"Did you read the java doc before asking your question ? Doc for Deque states *Most ArrayDeque operations run in amortized constant time. Exceptions include remove, removeFirstOccurrence, removeLastOccurrence, contains, iterator.remove(), and the bulk operations, all of which run in linear time.* see https://docs.oracle.com/javase/7/docs/api/java/util/ArrayDeque.html","body":"Did you read the java doc before asking your question ? Doc for Deque states <i>Most ArrayDeque operations run in amortized constant time. Exceptions include remove, removeFirstOccurrence, removeLastOccurrence, contains, iterator.remove(), and the bulk operations, all of which run in linear time.</i> see <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/ArrayDeque.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/ArrayDeque.html</a>"},{"owner":{"account_id":5105607,"reputation":1270,"user_id":4093753,"display_name":"Madhuri Patel"},"score":0,"creation_date":1543407979,"post_id":53504893,"comment_id":93907432,"body_markdown":"Please follow link https://stackoverflow.com/questions/7294634/what-are-the-time-complexities-of-various-data-structures","body":"Please follow link <a href=\"https://stackoverflow.com/questions/7294634/what-are-the-time-complexities-of-various-data-structures\" title=\"what are the time complexities of various data structures\">stackoverflow.com/questions/7294634/&hellip;</a>"},{"owner":{"account_id":13828407,"reputation":45,"user_id":10677504,"display_name":"anthonylouis"},"score":0,"creation_date":1543535625,"post_id":53504893,"comment_id":93965160,"body_markdown":"Thanks, this link is amazing, i&#39;ve never found something like this.","body":"Thanks, this link is amazing, i&#39;ve never found something like this."}],"answers":[{"tags":[],"owner":{"account_id":14401266,"reputation":1400,"user_id":10402819,"display_name":"mettleap"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1543343814,"creation_date":1543340066,"answer_id":53505151,"question_id":53504893,"body_markdown":"From the [javadoc][1], it is written,\r\n\r\n    Most ArrayDeque operations run in amortized constant time. Exceptions include remove,\r\n    removeFirstOccurrence, removeLastOccurrence, contains, iterator.remove(), and the bulk\r\n    operations, all of which run in linear time.\r\n\r\nSo, removing an element is linear time operation, getting it should be O(1).\r\n\r\nEDIT:\r\n\r\nAmortized constant time operation means most of the time the operation cost will O(1), except possibly in some cases, for eg. when the ArrayDeque needs to be resized. The javadoc for ArrayDeque also says,\r\n\r\n    Array deques have no capacity restrictions; they grow as necessary to support usage \r\n\r\nSo, whenever new elements are added to the end or start of the ArrayDeque, its size changes -&gt; consequently if the total number of elements violate the capacity property of the ArrayDeque, it needs to be resized, which might be higher than O(1). But if you do a lot of such operations and average out the time-complexity, it will be very close to O(1).\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/util/ArrayDeque.html","title":"Time complexity to get element from ArrayDeque","body":"<p>From the <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/ArrayDeque.html\" rel=\"noreferrer\">javadoc</a>, it is written,</p>\n\n<pre><code>Most ArrayDeque operations run in amortized constant time. Exceptions include remove,\nremoveFirstOccurrence, removeLastOccurrence, contains, iterator.remove(), and the bulk\noperations, all of which run in linear time.\n</code></pre>\n\n<p>So, removing an element is linear time operation, getting it should be O(1).</p>\n\n<p>EDIT:</p>\n\n<p>Amortized constant time operation means most of the time the operation cost will O(1), except possibly in some cases, for eg. when the ArrayDeque needs to be resized. The javadoc for ArrayDeque also says,</p>\n\n<pre><code>Array deques have no capacity restrictions; they grow as necessary to support usage \n</code></pre>\n\n<p>So, whenever new elements are added to the end or start of the ArrayDeque, its size changes -> consequently if the total number of elements violate the capacity property of the ArrayDeque, it needs to be resized, which might be higher than O(1). But if you do a lot of such operations and average out the time-complexity, it will be very close to O(1).</p>\n"}],"owner":{"account_id":13828407,"reputation":45,"user_id":10677504,"display_name":"anthonylouis"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12591,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":53505151,"answer_count":1,"score":2,"last_activity_date":1668967791,"creation_date":1543339055,"question_id":53504893,"body_markdown":"I&#39;ve read in some places that LinkedList in Java have O(1) time complexity to add and remove elements but O(n) to get elements. And ArrayList have O(1) to get elements and O(n) to add and remove.\r\n\r\nI have a program which has to do many operations involving insertion and recovery elements from a list. So, I would like to know if ArrayDeque time to access a element is similar to ArrayList.","title":"Time complexity to get element from ArrayDeque","body":"<p>I've read in some places that LinkedList in Java have O(1) time complexity to add and remove elements but O(n) to get elements. And ArrayList have O(1) to get elements and O(n) to add and remove.</p>\n<p>I have a program which has to do many operations involving insertion and recovery elements from a list. So, I would like to know if ArrayDeque time to access a element is similar to ArrayList.</p>\n"},{"tags":["java","json","spring-boot","jackson","setter"],"comments":[{"owner":{"account_id":19496972,"reputation":2160,"user_id":14263933,"display_name":"aatwork"},"score":0,"creation_date":1668967273,"post_id":74510584,"comment_id":131529182,"body_markdown":"can you plz add the imports also?","body":"can you plz add the imports also?"},{"owner":{"account_id":16962007,"reputation":1665,"user_id":12268910,"display_name":"java12399900"},"score":0,"creation_date":1668967420,"post_id":74510584,"comment_id":131529221,"body_markdown":"imports added now","body":"imports added now"}],"answers":[{"tags":[],"owner":{"account_id":19496972,"reputation":2160,"user_id":14263933,"display_name":"aatwork"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668967693,"creation_date":1668967693,"answer_id":74510646,"question_id":74510584,"body_markdown":"You can use code as below:\r\n\r\n    @JsonProperty(access = JsonProperty.Access.WRITE_ONLY, value = &quot;balance&quot;)\r\n    private Integer balance;\r\n\r\nOr you can add @JsonIgnore only on getter method.","title":"Jackson: How to only ignore a Json property when creating a response?","body":"<p>You can use code as below:</p>\n<pre><code>@JsonProperty(access = JsonProperty.Access.WRITE_ONLY, value = &quot;balance&quot;)\nprivate Integer balance;\n</code></pre>\n<p>Or you can add @JsonIgnore only on getter method.</p>\n"}],"owner":{"account_id":16962007,"reputation":1665,"user_id":12268910,"display_name":"java12399900"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1255,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74510646,"answer_count":1,"score":0,"last_activity_date":1668967693,"creation_date":1668967149,"question_id":74510584,"body_markdown":"I my `Spring` app I am getting a `String` from `S3`, I need convert this to `JSON` then to Person object. This is all working as expected. \r\n\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.databind.JsonNode;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    \r\n            ObjectMapper mapper = new ObjectMapper();\r\n            JsonNode actualObj = mapper.readTree(s );\r\n            Person person = mapper.treeToValue(actualObj, Person.class);\r\n    \r\n            if(person.getBalance()&gt;0{\r\n               person.setInCredit(true);\r\n            }\r\n          \r\n           // todo - how to not return balance?\r\n\r\nMy Object is as follows:\r\n\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n        \r\n        public class Person{\r\n        \r\n          @JsonProperty(&quot;id&quot;)\r\n          private Integer id;\r\n        \r\n          @JsonIgnore\r\n          @JsonProperty(&quot;balance&quot;)\r\n          private Integer balance;\r\n        \r\n          @JsonProperty(&quot;inCredit&quot;)\r\n          private Boolean inCredit;\r\n        \r\n          // other fields and setters etc\r\n        \r\n        }\r\n\r\nAs can be seen above, I need to read balance initially to determine the inCredit field, however I want to exclude the balance from the json response.\r\n\r\nHow can I ensure that the field balance is read ok from my query but is not returned again in my response from my endpoint? \r\n\r\nNote - I tried adding JsonIgnore but this did not work. \r\n\r\n","title":"Jackson: How to only ignore a Json property when creating a response?","body":"<p>I my <code>Spring</code> app I am getting a <code>String</code> from <code>S3</code>, I need convert this to <code>JSON</code> then to Person object. This is all working as expected.</p>\n<pre><code>import com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\n        ObjectMapper mapper = new ObjectMapper();\n        JsonNode actualObj = mapper.readTree(s );\n        Person person = mapper.treeToValue(actualObj, Person.class);\n\n        if(person.getBalance()&gt;0{\n           person.setInCredit(true);\n        }\n      \n       // todo - how to not return balance?\n</code></pre>\n<p>My Object is as follows:</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonProperty;\n    \n    public class Person{\n    \n      @JsonProperty(&quot;id&quot;)\n      private Integer id;\n    \n      @JsonIgnore\n      @JsonProperty(&quot;balance&quot;)\n      private Integer balance;\n    \n      @JsonProperty(&quot;inCredit&quot;)\n      private Boolean inCredit;\n    \n      // other fields and setters etc\n    \n    }\n</code></pre>\n<p>As can be seen above, I need to read balance initially to determine the inCredit field, however I want to exclude the balance from the json response.</p>\n<p>How can I ensure that the field balance is read ok from my query but is not returned again in my response from my endpoint?</p>\n<p>Note - I tried adding JsonIgnore but this did not work.</p>\n"},{"tags":["java","spring","cron","java.time.instant"],"comments":[{"owner":{"account_id":17019125,"reputation":362,"user_id":12312179,"display_name":"mvn.2047"},"score":0,"creation_date":1668970689,"post_id":74510585,"comment_id":131529933,"body_markdown":"Have you tried to run a code on Java 9+? It is also a good solution was described by @StormeHawke - https://stackoverflow.com/a/20689298/12312179","body":"Have you tried to run a code on Java 9+? It is also a good solution was described by @StormeHawke - <a href=\"https://stackoverflow.com/a/20689298/12312179\">stackoverflow.com/a/20689298/12312179</a>"},{"owner":{"account_id":8471580,"reputation":31,"user_id":6353984,"display_name":"Lukas"},"score":0,"creation_date":1668973249,"post_id":74510585,"comment_id":131530578,"body_markdown":"Forgot to mention - all my containers run with JDK 11","body":"Forgot to mention - all my containers run with JDK 11"}],"owner":{"account_id":8471580,"reputation":31,"user_id":6353984,"display_name":"Lukas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668967176,"creation_date":1668967176,"question_id":74510585,"body_markdown":"In Spring I use standard CRON job scheduling to do some business level measurements every 10 minutes with this example\r\n\r\n    @Async\r\n    @Scheduled(cron = &quot;0 0/10 * * * ?&quot;)\r\n    public void takeMeasurements() {\r\n        Instant dateTimeNow = Instant.now();\r\n\r\n        // Business impl of measurements taking &amp; storing into DB\r\n    }\r\n\r\nI&#39;ve had no problem with this impl in under multiple customer environments (Win, MacOS, Linux) running as SpringBoot containers in docker but I observed that in one Win10 Enterprise environment the timestamp coming from `Instant.now()` called when CRON job fires has time &quot;in past&quot; e.g. `11:59:59:998` with job that was supposed to be fired at 12:00:00.\r\n\r\nI can handle this scenario with some accepted range of deviation (for my purposes it&#39;s OK to do &quot;rounding&quot; of +-30s) but for some folks/scenarios it might not be.\r\n\r\nWhere is the underlying problem of this?\r\n\r\nDoesn&#39;t CRON use same machine clock as `java.time.Instant` uses?\r\n\r\n","title":"Spring @Scheduled cron job in combination with Instant.now()","body":"<p>In Spring I use standard CRON job scheduling to do some business level measurements every 10 minutes with this example</p>\n<pre><code>@Async\n@Scheduled(cron = &quot;0 0/10 * * * ?&quot;)\npublic void takeMeasurements() {\n    Instant dateTimeNow = Instant.now();\n\n    // Business impl of measurements taking &amp; storing into DB\n}\n</code></pre>\n<p>I've had no problem with this impl in under multiple customer environments (Win, MacOS, Linux) running as SpringBoot containers in docker but I observed that in one Win10 Enterprise environment the timestamp coming from <code>Instant.now()</code> called when CRON job fires has time &quot;in past&quot; e.g. <code>11:59:59:998</code> with job that was supposed to be fired at 12:00:00.</p>\n<p>I can handle this scenario with some accepted range of deviation (for my purposes it's OK to do &quot;rounding&quot; of +-30s) but for some folks/scenarios it might not be.</p>\n<p>Where is the underlying problem of this?</p>\n<p>Doesn't CRON use same machine clock as <code>java.time.Instant</code> uses?</p>\n"},{"tags":["java","arraylist","floating-point"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":2,"creation_date":1668028219,"post_id":74381378,"comment_id":131311292,"body_markdown":"You are missing loop. Your method should actually `return` the value.","body":"You are missing loop. Your method should actually <code>return</code> the value."},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":1,"creation_date":1668028373,"post_id":74381378,"comment_id":131311327,"body_markdown":"Also decide on the name of your list variable: `X` vs `li`.","body":"Also decide on the name of your list variable: <code>X</code> vs <code>li</code>."},{"owner":{"account_id":1437198,"reputation":15509,"user_id":1358308,"accept_rate":56,"display_name":"Sam Mason"},"score":0,"creation_date":1668029958,"post_id":74381378,"comment_id":131311792,"body_markdown":"typing &quot;PrefixAverage&quot; into google gives me reasonable implementations, which part are you struggling with?","body":"typing &quot;PrefixAverage&quot; into google gives me reasonable implementations, which part are you struggling with?"},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":1,"creation_date":1668031270,"post_id":74381378,"comment_id":131312151,"body_markdown":"Also, be aware that your main method is not a real main method because the parameter must be an array of strings, not floats. You will be able to call that method statically from the code but not starting the java program with the JVM","body":"Also, be aware that your main method is not a real main method because the parameter must be an array of strings, not floats. You will be able to call that method statically from the code but not starting the java program with the JVM"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668967048,"creation_date":1668967048,"answer_id":74510569,"question_id":74381378,"body_markdown":"A `prefix average` computes the running average of values in a list or an array. For `10, 20, 30` the running average would be `10, 15, 20`.  So each average is the sum of `i values` divided by `i` where `i` iterates from `1` to the `size` of the list.\r\n```\r\nList&lt;Float&gt; values = new ArrayList&lt;&gt;(\r\n        List.of(1.0f, 2.0f, 4.4f, 10.2f, 9.8f, 12.6f, 22f));\r\nList&lt;Float&gt; results = prefixAverage(values);\r\n\r\nSystem.out.println(results);\r\n```\r\nprints\r\n```\r\n[1.0, 1.5, 2.4666667, 4.4, 5.4800005, 6.6666665, 8.857142]\r\n```\r\n- stream the indices from `1` to `list.size()`\r\n- map to a `sublist` of the list going from `0` to current index (exclusive).\r\n- stream that `sublist` and do a reduction to compute the average.\r\n- return those averages in a list.\r\n```\r\npublic static List&lt;Float&gt; prefixAverage(List&lt;Float&gt; values) {\r\n     return IntStream.rangeClosed(1, values.size())\r\n             .mapToObj(i -&gt; values.subList(0, i).stream().reduce(0f,\r\n                     (sum, value) -&gt; sum + value) / i)\r\n             .toList();\r\n}","title":"Average of an ArrayList","body":"<p>A <code>prefix average</code> computes the running average of values in a list or an array. For <code>10, 20, 30</code> the running average would be <code>10, 15, 20</code>.  So each average is the sum of <code>i values</code> divided by <code>i</code> where <code>i</code> iterates from <code>1</code> to the <code>size</code> of the list.</p>\n<pre><code>List&lt;Float&gt; values = new ArrayList&lt;&gt;(\n        List.of(1.0f, 2.0f, 4.4f, 10.2f, 9.8f, 12.6f, 22f));\nList&lt;Float&gt; results = prefixAverage(values);\n\nSystem.out.println(results);\n</code></pre>\n<p>prints</p>\n<pre><code>[1.0, 1.5, 2.4666667, 4.4, 5.4800005, 6.6666665, 8.857142]\n</code></pre>\n<ul>\n<li>stream the indices from <code>1</code> to <code>list.size()</code></li>\n<li>map to a <code>sublist</code> of the list going from <code>0</code> to current index (exclusive).</li>\n<li>stream that <code>sublist</code> and do a reduction to compute the average.</li>\n<li>return those averages in a list.</li>\n</ul>\n<pre><code>public static List&lt;Float&gt; prefixAverage(List&lt;Float&gt; values) {\n     return IntStream.rangeClosed(1, values.size())\n             .mapToObj(i -&gt; values.subList(0, i).stream().reduce(0f,\n                     (sum, value) -&gt; sum + value) / i)\n             .toList();\n}\n</code></pre>\n"}],"owner":{"account_id":26882809,"reputation":1,"user_id":20462928,"display_name":"Metakoku"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1668967048,"creation_date":1668027945,"question_id":74381378,"body_markdown":"How would I find the average of the indexes in an ArrayList while using the data type float, I need the method to be called: \r\n```\r\npublic static ArrayList&lt;Float&gt; PrefixAverage(ArrayList&lt;Float&gt; X){\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nI do not need to make an array as the array is preset however i do not have access to the data within the arraylist, all i need is the method to find the average float. \r\n\r\n\r\n```\r\nimport java.util.ArrayList;\r\n\r\npublic class ExampleList {\r\n\tpublic static void main(Float[] args) {\r\n\t\tpublic static ArrayList&lt;Float&gt; PrefixAverage(ArrayList&lt;Float&gt; X){\t\t\t\r\n\t\t\ttotal += li.get(i);\r\n\t        avg = total / li.size();\r\n\t        System.out.println(&quot;The Average is: &quot; + avg);\r\n\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n","title":"Average of an ArrayList","body":"<p>How would I find the average of the indexes in an ArrayList while using the data type float, I need the method to be called:</p>\n<pre><code>public static ArrayList&lt;Float&gt; PrefixAverage(ArrayList&lt;Float&gt; X){\n\n}\n</code></pre>\n<p>I do not need to make an array as the array is preset however i do not have access to the data within the arraylist, all i need is the method to find the average float.</p>\n<pre><code>import java.util.ArrayList;\n\npublic class ExampleList {\n    public static void main(Float[] args) {\n        public static ArrayList&lt;Float&gt; PrefixAverage(ArrayList&lt;Float&gt; X){           \n            total += li.get(i);\n            avg = total / li.size();\n            System.out.println(&quot;The Average is: &quot; + avg);\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays"],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585355847,"creation_date":1585351483,"answer_id":60895454,"question_id":60895270,"body_markdown":"You have declared so many unnecessary variables e.g. you do not need `count` at all since you already have a `filled` variable doing the same thing. Also, make `filled` as a global `static` variable so that it can be accessed in `main` and all other methods. Alternatively, you can pass it as an argument to the methods.\r\n\r\n\r\nThe corrected program is as follows:\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class AirplaneSeating {\r\n    \r\n    \tstatic int filled = 0;\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// two- dimensional array with 7 rows and 4 columns\r\n    \t\tchar[][] seats = new char[7][4];\r\n    \t\tfor (int i = 0; i &lt; 7; i++) {\r\n    \t\t\tseats[i][0] = &#39;A&#39;;\r\n    \t\t\tseats[i][1] = &#39;B&#39;;\r\n    \t\t\tseats[i][2] = &#39;C&#39;;\r\n    \t\t\tseats[i][3] = &#39;D&#39;;\r\n    \t\t}\r\n    \r\n    \t\tString seatNumber = &quot; &quot;;\r\n    \t\tString q = &quot; &quot;;\r\n    \t\tSystem.out.println(&quot;Welcome to the Airplane Seating Reservation System.&quot;);\r\n    \t\tSystem.out.println(&quot;Please enter the seat (e.g.- 1A) you wish to reserve.&quot;);\r\n    \t\tSystem.out.println(&quot;Enter q to exit.&quot;);\r\n    \t\tScanner keyboard = new Scanner(System.in);\r\n    \t\tseatNumber = keyboard.nextLine();\r\n    \t\tif (seatNumber.equals(&quot;q&quot;)) {\r\n    \t\t\tSystem.out.println(&quot;Program ended.&quot;);\r\n    \t\t\tSystem.exit(0);\r\n    \t\t}\r\n    \t\t// print seating pattern and put an X in the seatNumber location\r\n    \t\twhile (filled &lt; 28 &amp;&amp; seatNumber.length() &gt; 0) {\r\n    \t\t\tint row = seatNumber.charAt(0) - &#39;1&#39;;\r\n    \t\t\tint col = seatNumber.charAt(1) - &#39;A&#39;;\r\n    \t\t\tif (row &lt; 0 || row &gt; 7 || col &lt; 0 || col &gt; 4) {\r\n    \t\t\t\tSystem.out.println(&quot;Input error. Enter seat to assign (e.g., &#39;1A&#39;),&quot; + &quot;or q to quit.&quot;);\r\n    \t\t\t\tseatNumber = keyboard.nextLine();\r\n    \t\t\t\tif (seatNumber.equals(&quot;q&quot;)) {\r\n    \t\t\t\t\tSystem.out.println(&quot;Program ended.&quot;);\r\n    \t\t\t\t\tSystem.exit(0);\r\n    \t\t\t\t}\r\n    \t\t\t} else {\r\n    \t\t\t\tif (seats[row][col] != &#39;X&#39;) {\r\n    \t\t\t\t\tseats[row][col] = &#39;X&#39;;\r\n    \t\t\t\t\tfilled++;\r\n    \t\t\t\t\tSystem.out.println(&quot; &quot;);\r\n    \t\t\t\t\tprintSeats(seats);\r\n    \t\t\t\t}\r\n    \t\t\t\tif (filled &lt; 28) {\r\n    \t\t\t\t\tSystem.out.println(&quot;Enter seat to assign (e.g., &#39;1A&#39;),&quot; + &quot;or q to quit.&quot;);\r\n    \t\t\t\t\tseatNumber = keyboard.nextLine();\r\n    \t\t\t\t\tif (seatNumber.equals(&quot;q&quot;)) {\r\n    \t\t\t\t\t\tSystem.out.println(&quot;Program ended.&quot;);\r\n    \t\t\t\t\t\tSystem.exit(0);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate static void printSeats(char[][] seats) {\r\n    \t\tSystem.out.println(&quot;Row&quot;);\r\n    \t\tfor (int i = 0; i &lt; seats.length; i++) {\r\n    \t\t\tSystem.out\r\n    \t\t\t\t\t.println((i + 1) + &quot;  &quot; + seats[i][0] + &quot; &quot; + seats[i][1] + &quot;  &quot; + seats[i][2] + &quot; &quot; + seats[i][3]);\r\n    \r\n    \t\t}\r\n    \t\tint numberOfSeatsAvailable = (28 - filled);\r\n    \t\tSystem.out.println(&quot;There are &quot; + numberOfSeatsAvailable + &quot; seats available.&quot;);\r\n    \t} // end main\r\n    } // end class\r\n\r\n**A sample run:**\r\n\r\n    Welcome to the Airplane Seating Reservation System.\r\n    Please enter the seat (e.g.- 1A) you wish to reserve.\r\n    Enter q to exit.\r\n    3B\r\n     \r\n    Row\r\n    1  A B  C D\r\n    2  A B  C D\r\n    3  A X  C D\r\n    4  A B  C D\r\n    5  A B  C D\r\n    6  A B  C D\r\n    7  A B  C D\r\n    There are 27 seats available.\r\n    Enter seat to assign (e.g., &#39;1A&#39;),or q to quit.\r\n    6A\r\n     \r\n    Row\r\n    1  A B  C D\r\n    2  A B  C D\r\n    3  A X  C D\r\n    4  A B  C D\r\n    5  A B  C D\r\n    6  X B  C D\r\n    7  A B  C D\r\n    There are 26 seats available.\r\n    Enter seat to assign (e.g., &#39;1A&#39;),or q to quit.\r\n    4C\r\n     \r\n    Row\r\n    1  A B  C D\r\n    2  A B  C D\r\n    3  A X  C D\r\n    4  A B  X D\r\n    5  A B  C D\r\n    6  X B  C D\r\n    7  A B  C D\r\n    There are 25 seats available.\r\n    Enter seat to assign (e.g., &#39;1A&#39;),or q to quit.\r\n    q\r\n    Program ended.\r\n\r\nFeel free to comment in case of any issue/doubt.\r\n","title":"Airplane seating program (2 dimensional array)","body":"<p>You have declared so many unnecessary variables e.g. you do not need <code>count</code> at all since you already have a <code>filled</code> variable doing the same thing. Also, make <code>filled</code> as a global <code>static</code> variable so that it can be accessed in <code>main</code> and all other methods. Alternatively, you can pass it as an argument to the methods.</p>\n\n<p>The corrected program is as follows:</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class AirplaneSeating {\n\n    static int filled = 0;\n\n    public static void main(String[] args) {\n        // two- dimensional array with 7 rows and 4 columns\n        char[][] seats = new char[7][4];\n        for (int i = 0; i &lt; 7; i++) {\n            seats[i][0] = 'A';\n            seats[i][1] = 'B';\n            seats[i][2] = 'C';\n            seats[i][3] = 'D';\n        }\n\n        String seatNumber = \" \";\n        String q = \" \";\n        System.out.println(\"Welcome to the Airplane Seating Reservation System.\");\n        System.out.println(\"Please enter the seat (e.g.- 1A) you wish to reserve.\");\n        System.out.println(\"Enter q to exit.\");\n        Scanner keyboard = new Scanner(System.in);\n        seatNumber = keyboard.nextLine();\n        if (seatNumber.equals(\"q\")) {\n            System.out.println(\"Program ended.\");\n            System.exit(0);\n        }\n        // print seating pattern and put an X in the seatNumber location\n        while (filled &lt; 28 &amp;&amp; seatNumber.length() &gt; 0) {\n            int row = seatNumber.charAt(0) - '1';\n            int col = seatNumber.charAt(1) - 'A';\n            if (row &lt; 0 || row &gt; 7 || col &lt; 0 || col &gt; 4) {\n                System.out.println(\"Input error. Enter seat to assign (e.g., '1A'),\" + \"or q to quit.\");\n                seatNumber = keyboard.nextLine();\n                if (seatNumber.equals(\"q\")) {\n                    System.out.println(\"Program ended.\");\n                    System.exit(0);\n                }\n            } else {\n                if (seats[row][col] != 'X') {\n                    seats[row][col] = 'X';\n                    filled++;\n                    System.out.println(\" \");\n                    printSeats(seats);\n                }\n                if (filled &lt; 28) {\n                    System.out.println(\"Enter seat to assign (e.g., '1A'),\" + \"or q to quit.\");\n                    seatNumber = keyboard.nextLine();\n                    if (seatNumber.equals(\"q\")) {\n                        System.out.println(\"Program ended.\");\n                        System.exit(0);\n                    }\n                }\n            }\n        }\n    }\n\n    private static void printSeats(char[][] seats) {\n        System.out.println(\"Row\");\n        for (int i = 0; i &lt; seats.length; i++) {\n            System.out\n                    .println((i + 1) + \"  \" + seats[i][0] + \" \" + seats[i][1] + \"  \" + seats[i][2] + \" \" + seats[i][3]);\n\n        }\n        int numberOfSeatsAvailable = (28 - filled);\n        System.out.println(\"There are \" + numberOfSeatsAvailable + \" seats available.\");\n    } // end main\n} // end class\n</code></pre>\n\n<p><strong>A sample run:</strong></p>\n\n<pre><code>Welcome to the Airplane Seating Reservation System.\nPlease enter the seat (e.g.- 1A) you wish to reserve.\nEnter q to exit.\n3B\n\nRow\n1  A B  C D\n2  A B  C D\n3  A X  C D\n4  A B  C D\n5  A B  C D\n6  A B  C D\n7  A B  C D\nThere are 27 seats available.\nEnter seat to assign (e.g., '1A'),or q to quit.\n6A\n\nRow\n1  A B  C D\n2  A B  C D\n3  A X  C D\n4  A B  C D\n5  A B  C D\n6  X B  C D\n7  A B  C D\nThere are 26 seats available.\nEnter seat to assign (e.g., '1A'),or q to quit.\n4C\n\nRow\n1  A B  C D\n2  A B  C D\n3  A X  C D\n4  A B  X D\n5  A B  C D\n6  X B  C D\n7  A B  C D\nThere are 25 seats available.\nEnter seat to assign (e.g., '1A'),or q to quit.\nq\nProgram ended.\n</code></pre>\n\n<p>Feel free to comment in case of any issue/doubt.</p>\n"},{"tags":[],"owner":{"account_id":7170230,"reputation":15,"user_id":5477947,"display_name":"Quang"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1585354785,"creation_date":1585354785,"answer_id":60895834,"question_id":60895270,"body_markdown":"I place the line int numberOfSeatsAvailable = 28 ; in the variable declaration, and\r\n                    numberOfSeatsAvailable-- ;      \r\n                    System.out.println(&quot;There are &quot; + numberOfSeatsAvailable + \r\n                    &quot; seats available.&quot;) ;\r\n                    System.out.println(&quot; &quot;) ;\r\nin after where an X is placed in the seat location loop.  I&#39;m still working on the sentinel q for quit part.","title":"Airplane seating program (2 dimensional array)","body":"<p>I place the line int numberOfSeatsAvailable = 28 ; in the variable declaration, and\n                    numberOfSeatsAvailable-- ;<br>\n                    System.out.println(\"There are \" + numberOfSeatsAvailable + \n                    \" seats available.\") ;\n                    System.out.println(\" \") ;\nin after where an X is placed in the seat location loop.  I'm still working on the sentinel q for quit part.</p>\n"},{"tags":[],"owner":{"account_id":7170230,"reputation":15,"user_id":5477947,"display_name":"Quang"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1668966907,"creation_date":1585512423,"answer_id":60920076,"question_id":60895270,"body_markdown":"Thank you Arvind Avinash!  My corrected program is given:\r\n\r\n    import java.util.Scanner ;\r\n    /**\r\n     * The AirplaneSeating program asks the user for the seat they would like to reserve.\r\n     * A layout of the plane is printed and an X is placed in the reserved seat.  The \r\n     * program finds if the seat is available and if the entry is valid.  A sentinel of q\r\n     * ends the program.\r\n     *\r\n     * @author Quang Pham\r\n     * @version Module8, Lab 2, 4/1/20\r\n     * \r\n     *    Algorithm:\r\n     *    \r\n     *    1. Greet the user and ask which seat they would like to reserve.\r\n     *    2. Print a layout of the plane and the seats available. \r\n     *    3. Put an X in the position where the user would like to reserve.\r\n     *    4. Loop and ask if they&#39;d like to reserve another seat.\r\n     *    5. Make certain seat is available and the entry is valid, if sentinel q\r\n     *       is entered, exit program.\r\n     *    \r\n     *    Problem Description:\r\n     *    \r\n     *    Write a program to assign passengers seats in a small aeroplane.  Assume the \r\n     *    plane has its seats numbered as follows:\r\n     *\r\n     *   Row\r\n     *    1   A B  C D  \r\n     *    2   A B  C D\r\n     *    3   A B  C D\r\n     *    4   A B  C D\r\n     *    5   A B  C D\r\n     *    6   A B  C D\r\n     *    7   A B  C D\r\n     *\r\n     *          You should verify that the user enters rows between 1 and 7 only, and\r\n     *     columns A, B, C, or D only.  If the user enters an entry that is invalid,\r\n     *     print an error message telling them what&#39;s wrong, then prompt for the next\r\n     *     entry.  Model the seats in the plane using a multi-dimensional array with\r\n     *     seven rows and four columns.  Use a loop in your program which continues to\r\n     *     prompt for a seat to reserve until either the user specifies a sentinel to\r\n     *     stop the program, or when all seats are reserved.\r\n     *          After each entry from the user, the program should display the seat\r\n     *     reservation pattern, with an &#39;X&#39; marking the seats already assigned. For \r\n     *     example, after seats 1A, 2B, and 4C are reserved, the display might show \r\n     *     the following:\r\n     *\r\n     *  Row\r\n     *    1   X B  C D\r\n     *    2   A X  C D\r\n     *    3   A B  C D\r\n     *    4   A B  X D\r\n     *    5   A B  C D\r\n     *    6   A B  C D\r\n     *    7   A B  C D\r\n     *\r\n     *       There are 25 seats available.  This continues until either all seats are\r\n     *  filled or the user enters a sentinel indicating that he/she is done entering\r\n     *  reservations.  If the user tries to reserve a seat which is already taken, the\r\n     *  program should say that that seat is occupied and ask for another choice.\r\n     *       Submit program files for all classes, as well as a print screen or screen\r\n     *  snip showing what your screen looks like after 4 or 5 seats have been assigned.\r\n     *  Be sure to demonstrate what happens when the user tries to reserve a seat that\r\n     *  is already taken or specifies an invalid seat (for example, 9A or 5E).\r\n     */\r\n    public class AirplaneSeating\r\n    {\r\n    \r\n        static int filled = 0 ;\r\n    \r\n        public static void main(String[] args)\r\n        {\r\n    \r\n            // two- dimensional array with 7 rows and 4 columns \r\n            char[][] seats = new char [7][4] ;\r\n            for (int i = 0; i &lt; 7; i++)\r\n            {\r\n                seats[i][0] = &#39;A&#39; ;\r\n                seats[i][1] = &#39;B&#39; ;\r\n                seats[i][2] = &#39;C&#39; ;\r\n                seats[i][3] = &#39;D&#39; ;\r\n            }\r\n    \r\n            String seatNumber = &quot; &quot; ; \r\n            String q = &quot; &quot; ;\r\n            int numberOfSeatsAvailable = 28 ;\r\n            System.out.println(&quot;Welcome to the Airplane Seating Reservation System.&quot;) ;\r\n            System.out.println(&quot;Please enter the seat (e.g.- 1A) you wish to reserve.&quot;) ;\r\n            System.out.println(&quot;Enter q to exit.&quot;) ;\r\n            printSeats(seats) ;\r\n            Scanner keyboard = new Scanner(System.in) ;\r\n            seatNumber = keyboard.nextLine() ;\r\n            if (seatNumber.equals(&quot;q&quot;))\r\n                    {\r\n                        System.out.println(&quot;Program ended.&quot;) ;\r\n                        System.exit(0) ;\r\n                    } \r\n            while((filled &lt; 28) &amp;&amp; (seatNumber.length() &gt; 0))\r\n            {\r\n                int row = seatNumber.charAt(0) - &#39;1&#39; ;\r\n                int col = seatNumber.charAt(1) - &#39;A&#39;;\r\n                if (row &lt; 0 || row &gt; 7 || col &lt; 0 || col &gt; 4)\r\n                {\r\n                    System.out.println(&quot;Input error. Enter seat to assign (e.g., &#39;1A&#39;),&quot; +\r\n                        &quot;or q to quit.&quot;);\r\n                    seatNumber = keyboard.nextLine() ;\r\n                    if (seatNumber.equals(&quot;q&quot;))\r\n                    {\r\n                        System.out.println(&quot;Program ended.&quot;) ;\r\n                        System.exit(0) ;\r\n                    } \r\n                }\r\n                else\r\n                {\r\n                    //put an X in the assigned seat and print seating arrangement\r\n                    if (seats[row][col] != &#39;X&#39;)\r\n                    {\r\n                        seats[row][col] = &#39;X&#39; ;\r\n                        filled++ ; \r\n                        //System.out.println(&quot; &quot;) ;\r\n                        printSeats(seats) ;\r\n                    }\r\n                    if (filled &lt; 28)\r\n                    {\r\n                        System.out.println(&quot;Enter seat to assign (e.g., &#39;1A&#39;),&quot; +\r\n                            &quot;or q to quit.&quot;);\r\n                        seatNumber = keyboard.nextLine();\r\n                        if (seatNumber.equals(&quot;q&quot;))\r\n                        {\r\n                            System.out.println(&quot;Program ended.&quot;) ;\r\n                            System.exit(0) ;\r\n                        } \r\n                    }\r\n                }\r\n            }       \r\n            System.out.println(&quot;Final seat assignments: &quot;); \r\n            printSeats(seats); \r\n        }\r\n    \r\n        private static void printSeats(char[][] seats)\r\n        {\r\n            System.out.println(&quot;Row&quot;) ;\r\n            for (int i = 0; i &lt; seats.length; i++)\r\n            {\r\n                System.out.println((i + 1) + &quot;  &quot; + \r\n                    seats[i][0] + &quot; &quot; + seats[i][1] + &quot;  &quot; + seats[i][2] + &quot; &quot; + seats[i][3]) ;\r\n            }\r\n            int numberOfSeatsAvailable = (28 - filled);\r\n            System.out.println(&quot;There are &quot; + numberOfSeatsAvailable + &quot; seats available.&quot;);\r\n            System.out.println(&quot; &quot;);\r\n        }  //end main\r\n    }  //end class","title":"Airplane seating program (2 dimensional array)","body":"<p>Thank you Arvind Avinash!  My corrected program is given:</p>\n<pre><code>import java.util.Scanner ;\n/**\n * The AirplaneSeating program asks the user for the seat they would like to reserve.\n * A layout of the plane is printed and an X is placed in the reserved seat.  The \n * program finds if the seat is available and if the entry is valid.  A sentinel of q\n * ends the program.\n *\n * @author Quang Pham\n * @version Module8, Lab 2, 4/1/20\n * \n *    Algorithm:\n *    \n *    1. Greet the user and ask which seat they would like to reserve.\n *    2. Print a layout of the plane and the seats available. \n *    3. Put an X in the position where the user would like to reserve.\n *    4. Loop and ask if they'd like to reserve another seat.\n *    5. Make certain seat is available and the entry is valid, if sentinel q\n *       is entered, exit program.\n *    \n *    Problem Description:\n *    \n *    Write a program to assign passengers seats in a small aeroplane.  Assume the \n *    plane has its seats numbered as follows:\n *\n *   Row\n *    1   A B  C D  \n *    2   A B  C D\n *    3   A B  C D\n *    4   A B  C D\n *    5   A B  C D\n *    6   A B  C D\n *    7   A B  C D\n *\n *          You should verify that the user enters rows between 1 and 7 only, and\n *     columns A, B, C, or D only.  If the user enters an entry that is invalid,\n *     print an error message telling them what's wrong, then prompt for the next\n *     entry.  Model the seats in the plane using a multi-dimensional array with\n *     seven rows and four columns.  Use a loop in your program which continues to\n *     prompt for a seat to reserve until either the user specifies a sentinel to\n *     stop the program, or when all seats are reserved.\n *          After each entry from the user, the program should display the seat\n *     reservation pattern, with an 'X' marking the seats already assigned. For \n *     example, after seats 1A, 2B, and 4C are reserved, the display might show \n *     the following:\n *\n *  Row\n *    1   X B  C D\n *    2   A X  C D\n *    3   A B  C D\n *    4   A B  X D\n *    5   A B  C D\n *    6   A B  C D\n *    7   A B  C D\n *\n *       There are 25 seats available.  This continues until either all seats are\n *  filled or the user enters a sentinel indicating that he/she is done entering\n *  reservations.  If the user tries to reserve a seat which is already taken, the\n *  program should say that that seat is occupied and ask for another choice.\n *       Submit program files for all classes, as well as a print screen or screen\n *  snip showing what your screen looks like after 4 or 5 seats have been assigned.\n *  Be sure to demonstrate what happens when the user tries to reserve a seat that\n *  is already taken or specifies an invalid seat (for example, 9A or 5E).\n */\npublic class AirplaneSeating\n{\n\n    static int filled = 0 ;\n\n    public static void main(String[] args)\n    {\n\n        // two- dimensional array with 7 rows and 4 columns \n        char[][] seats = new char [7][4] ;\n        for (int i = 0; i &lt; 7; i++)\n        {\n            seats[i][0] = 'A' ;\n            seats[i][1] = 'B' ;\n            seats[i][2] = 'C' ;\n            seats[i][3] = 'D' ;\n        }\n\n        String seatNumber = &quot; &quot; ; \n        String q = &quot; &quot; ;\n        int numberOfSeatsAvailable = 28 ;\n        System.out.println(&quot;Welcome to the Airplane Seating Reservation System.&quot;) ;\n        System.out.println(&quot;Please enter the seat (e.g.- 1A) you wish to reserve.&quot;) ;\n        System.out.println(&quot;Enter q to exit.&quot;) ;\n        printSeats(seats) ;\n        Scanner keyboard = new Scanner(System.in) ;\n        seatNumber = keyboard.nextLine() ;\n        if (seatNumber.equals(&quot;q&quot;))\n                {\n                    System.out.println(&quot;Program ended.&quot;) ;\n                    System.exit(0) ;\n                } \n        while((filled &lt; 28) &amp;&amp; (seatNumber.length() &gt; 0))\n        {\n            int row = seatNumber.charAt(0) - '1' ;\n            int col = seatNumber.charAt(1) - 'A';\n            if (row &lt; 0 || row &gt; 7 || col &lt; 0 || col &gt; 4)\n            {\n                System.out.println(&quot;Input error. Enter seat to assign (e.g., '1A'),&quot; +\n                    &quot;or q to quit.&quot;);\n                seatNumber = keyboard.nextLine() ;\n                if (seatNumber.equals(&quot;q&quot;))\n                {\n                    System.out.println(&quot;Program ended.&quot;) ;\n                    System.exit(0) ;\n                } \n            }\n            else\n            {\n                //put an X in the assigned seat and print seating arrangement\n                if (seats[row][col] != 'X')\n                {\n                    seats[row][col] = 'X' ;\n                    filled++ ; \n                    //System.out.println(&quot; &quot;) ;\n                    printSeats(seats) ;\n                }\n                if (filled &lt; 28)\n                {\n                    System.out.println(&quot;Enter seat to assign (e.g., '1A'),&quot; +\n                        &quot;or q to quit.&quot;);\n                    seatNumber = keyboard.nextLine();\n                    if (seatNumber.equals(&quot;q&quot;))\n                    {\n                        System.out.println(&quot;Program ended.&quot;) ;\n                        System.exit(0) ;\n                    } \n                }\n            }\n        }       \n        System.out.println(&quot;Final seat assignments: &quot;); \n        printSeats(seats); \n    }\n\n    private static void printSeats(char[][] seats)\n    {\n        System.out.println(&quot;Row&quot;) ;\n        for (int i = 0; i &lt; seats.length; i++)\n        {\n            System.out.println((i + 1) + &quot;  &quot; + \n                seats[i][0] + &quot; &quot; + seats[i][1] + &quot;  &quot; + seats[i][2] + &quot; &quot; + seats[i][3]) ;\n        }\n        int numberOfSeatsAvailable = (28 - filled);\n        System.out.println(&quot;There are &quot; + numberOfSeatsAvailable + &quot; seats available.&quot;);\n        System.out.println(&quot; &quot;);\n    }  //end main\n}  //end class\n</code></pre>\n"}],"owner":{"account_id":7170230,"reputation":15,"user_id":5477947,"display_name":"Quang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22717,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1668966907,"creation_date":1585350277,"question_id":60895270,"body_markdown":"I have an airplane seating program but I don&#39;t know how to get it to print the number of seats still available and how to get it to quit when I enter q.  Any help would be greatly appreciated.\r\n     Yours truly,\r\n     Quang Pham\r\n\r\n I&#39;m not certain where to place the count++ to number the filled seats, and how to set the sentinel q so the program quits.  The printout of the seat arrangement is good and the X goes where it should.\r\n\r\n    import java.util.Scanner ;\r\n    /**\r\n     * The AirplaneSeating program asks the user for the seat they would like to reserve.\r\n     * A layout of the plane is printed and an X is placed in the reserved seat.  The \r\n     * program finds if the seat is available and if the entry is valid.  A sentinel of q\r\n     * ends the program.\r\n     *\r\n     * @author Quang Pham\r\n     * @version Module8, Lab 2, 4/1/20\r\n     * \r\n     *    Algorithm:\r\n     *    \r\n     *    1. Greet user and ask which seat they would like to reserve.\r\n     *    2. Print a layout of the plane and the seats available. \r\n     *    3. Put an X in the position where the user would like to reserve.\r\n     *    4. Loop and ask if they&#39;d like to reserve another seat.\r\n     *    5. Make certain seat is available and the entry is valid, if sentinel -1\r\n     *       is entered, exit program.\r\n     *    \r\n     *    Problem Description:\r\n     *    \r\n     *    Write a program to assign passenger&#39;s seats in a small airplane.  Assume the \r\n     *    plane has its seats numbered as follows:\r\n     *\r\n     *   Row\r\n     *    1   A B  C D  \r\n     *    2   A B  C D\r\n     *    3   A B  C D\r\n     *    4   A B  C D\r\n     *    5   A B  C D\r\n     *    6   A B  C D\r\n     *    7   A B  C D\r\n     *\r\n     *          You should verify that the user enters rows between 1 and 7 only, and\r\n     *     columns A, B, C, or D only.  If the user enters an entry that is invalid,\r\n     *     print an error message telling them what&#39;s wrong, then prompt for the next\r\n     *     entry.  Model the seats in the plane using a multi-dimensional array with\r\n     *     seven rows and four columns.  Use a loop in your program which continues to\r\n     *     prompt for a seat to reserve until either the user specifies a sentinel to\r\n     *     stop the program, or when all seats are reserved.\r\n     *          After each entry from the user, the program should display the seat\r\n     *     reservation pattern, with an &#39;X&#39; marking the seats already assigned. For \r\n     *     example, after seats 1A, 2B, and 4C are reserved, the display might show \r\n     *     the following:\r\n     *\r\n     *  Row\r\n     *    1   X B  C D\r\n     *    2   A X  C D\r\n     *    3   A B  C D\r\n     *    4   A B  X D\r\n     *    5   A B  C D\r\n     *    6   A B  C D\r\n     *    7   A B  C D\r\n     *\r\n     *       There are 25 seats available.  This continues until either all seats are\r\n     *  filled or the user enters a sentinel indicating that he/she is done entering\r\n     *  reservations.  If the user tries to reserve a seat which is already taken, the\r\n     *  program should say that that seat is occupied and ask for another choice.\r\n     *       Submit program files for all classes, as well as a print screen or screen\r\n     *  snip showing what your screen looks like after 4 or 5 seats have been assigned.\r\n     *  Be sure to demonstrate what happens when the user tries to reserve a seat that\r\n     *  is already taken or specifies an invalid seat (for example, 9A or 5E).\r\n     */\r\n    public class AirplaneSeating\r\n    {\r\n        int count = 0 ;\r\n        public static void main(String[] args)\r\n        {\r\n            // two- dimensional array with 7 rows and 4 columns \r\n            char[][] seats = new char [7][4] ;\r\n            for (int i = 0; i &lt; 7; i++)\r\n            {\r\n                seats[i][0] = &#39;A&#39; ;\r\n                seats[i][1] = &#39;B&#39; ;\r\n                seats[i][2] = &#39;C&#39; ;\r\n                seats[i][3] = &#39;D&#39; ;\r\n            }\r\n    \r\n            String seatNumber = &quot; &quot; ; \r\n            int count = 0 ;\r\n            String q = &quot; &quot; ;\r\n            int numberOfSeatsAvailable = 0 ;\r\n            int filled = 0 ;\r\n            System.out.println(&quot;Welcome to the Airplane Seating Reservation System.&quot;) ;\r\n            System.out.println(&quot;Please enter the seat (e.g.- 1A) you wish to reserve.&quot;) ;\r\n            System.out.println(&quot;Enter q to exit.&quot;) ;\r\n            Scanner keyboard = new Scanner(System.in) ;\r\n            seatNumber = keyboard.nextLine() ;\r\n            count++ ;\r\n            if (seatNumber.equals(&quot;q&quot;))\r\n           {\r\n                System.out.println(&quot;Program ended.&quot;) ;\r\n                System.exit(0) ;\r\n           } \r\n            else\r\n           {\r\n             //print seating pattern and put an X in the seatNumber location\r\n             while((filled &lt; 28) &amp;&amp; (seatNumber.length() &gt; 0))\r\n             {\r\n                int row = seatNumber.charAt(0) - &#39;1&#39; ;\r\n                int col = seatNumber.charAt(1) - &#39;A&#39; ;\r\n                count ++ ;\r\n                if (row &lt; 0 || row &gt; 7 || col &lt; 0 || col &gt; 4)\r\n                {\r\n                    System.out.println(&quot;Input error. Enter seat to assign (e.g., &#39;1A&#39;),&quot; +\r\n                        &quot;or q to quit.&quot;);\r\n                    seatNumber = keyboard.nextLine() ;\r\n                    count++ ;\r\n                }\r\n                else\r\n                {\r\n                    if (seats[row][col] != &#39;X&#39;)\r\n                    {\r\n                        seats[row][col] = &#39;X&#39; ;\r\n                        filled++;\r\n                        System.out.println(&quot; &quot;) ;\r\n                        printSeats(seats);\r\n                    }\r\n                    if (filled &lt; 28)\r\n                    {\r\n                        System.out.println(&quot;Enter seat to assign (e.g., &#39;1A&#39;),&quot; +\r\n                            &quot;or q to quit.&quot;);\r\n                        seatNumber = keyboard.nextLine();\r\n                        count++ ;\r\n                    }\r\n                 }\r\n              }         \r\n            }\r\n        }\r\n        \r\n        private static void printSeats(char[][] seats)\r\n        {\r\n            int count = 0;\r\n            System.out.println(&quot;Row&quot;) ;\r\n            for (int i = 0; i &lt; seats.length; i++)\r\n            {\r\n                System.out.println((i + 1) + &quot;  &quot; + \r\n                    seats[i][0] + &quot; &quot; + seats[i][1] + &quot;  &quot; + seats[i][2] + &quot; &quot; + seats[i][3]) ;\r\n         \r\n            }\r\n            count++ ;\r\n            int numberOfSeatsAvailable = 0 ;     \r\n            numberOfSeatsAvailable = (28 - count) ;      \r\n            System.out.println(&quot;There are &quot; + numberOfSeatsAvailable + &quot; seats available.&quot;) ;\r\n        }  //end main\r\n    }  //end class","title":"Airplane seating program (2 dimensional array)","body":"<p>I have an airplane seating program but I don't know how to get it to print the number of seats still available and how to get it to quit when I enter q.  Any help would be greatly appreciated.\n     Yours truly,\n     Quang Pham</p>\n\n<p>I'm not certain where to place the count++ to number the filled seats, and how to set the sentinel q so the program quits.  The printout of the seat arrangement is good and the X goes where it should.</p>\n\n<pre><code>import java.util.Scanner ;\n/**\n * The AirplaneSeating program asks the user for the seat they would like to reserve.\n * A layout of the plane is printed and an X is placed in the reserved seat.  The \n * program finds if the seat is available and if the entry is valid.  A sentinel of q\n * ends the program.\n *\n * @author Quang Pham\n * @version Module8, Lab 2, 4/1/20\n * \n *    Algorithm:\n *    \n *    1. Greet user and ask which seat they would like to reserve.\n *    2. Print a layout of the plane and the seats available. \n *    3. Put an X in the position where the user would like to reserve.\n *    4. Loop and ask if they'd like to reserve another seat.\n *    5. Make certain seat is available and the entry is valid, if sentinel -1\n *       is entered, exit program.\n *    \n *    Problem Description:\n *    \n *    Write a program to assign passenger's seats in a small airplane.  Assume the \n *    plane has its seats numbered as follows:\n *\n *   Row\n *    1   A B  C D  \n *    2   A B  C D\n *    3   A B  C D\n *    4   A B  C D\n *    5   A B  C D\n *    6   A B  C D\n *    7   A B  C D\n *\n *          You should verify that the user enters rows between 1 and 7 only, and\n *     columns A, B, C, or D only.  If the user enters an entry that is invalid,\n *     print an error message telling them what's wrong, then prompt for the next\n *     entry.  Model the seats in the plane using a multi-dimensional array with\n *     seven rows and four columns.  Use a loop in your program which continues to\n *     prompt for a seat to reserve until either the user specifies a sentinel to\n *     stop the program, or when all seats are reserved.\n *          After each entry from the user, the program should display the seat\n *     reservation pattern, with an 'X' marking the seats already assigned. For \n *     example, after seats 1A, 2B, and 4C are reserved, the display might show \n *     the following:\n *\n *  Row\n *    1   X B  C D\n *    2   A X  C D\n *    3   A B  C D\n *    4   A B  X D\n *    5   A B  C D\n *    6   A B  C D\n *    7   A B  C D\n *\n *       There are 25 seats available.  This continues until either all seats are\n *  filled or the user enters a sentinel indicating that he/she is done entering\n *  reservations.  If the user tries to reserve a seat which is already taken, the\n *  program should say that that seat is occupied and ask for another choice.\n *       Submit program files for all classes, as well as a print screen or screen\n *  snip showing what your screen looks like after 4 or 5 seats have been assigned.\n *  Be sure to demonstrate what happens when the user tries to reserve a seat that\n *  is already taken or specifies an invalid seat (for example, 9A or 5E).\n */\npublic class AirplaneSeating\n{\n    int count = 0 ;\n    public static void main(String[] args)\n    {\n        // two- dimensional array with 7 rows and 4 columns \n        char[][] seats = new char [7][4] ;\n        for (int i = 0; i &lt; 7; i++)\n        {\n            seats[i][0] = 'A' ;\n            seats[i][1] = 'B' ;\n            seats[i][2] = 'C' ;\n            seats[i][3] = 'D' ;\n        }\n\n        String seatNumber = \" \" ; \n        int count = 0 ;\n        String q = \" \" ;\n        int numberOfSeatsAvailable = 0 ;\n        int filled = 0 ;\n        System.out.println(\"Welcome to the Airplane Seating Reservation System.\") ;\n        System.out.println(\"Please enter the seat (e.g.- 1A) you wish to reserve.\") ;\n        System.out.println(\"Enter q to exit.\") ;\n        Scanner keyboard = new Scanner(System.in) ;\n        seatNumber = keyboard.nextLine() ;\n        count++ ;\n        if (seatNumber.equals(\"q\"))\n       {\n            System.out.println(\"Program ended.\") ;\n            System.exit(0) ;\n       } \n        else\n       {\n         //print seating pattern and put an X in the seatNumber location\n         while((filled &lt; 28) &amp;&amp; (seatNumber.length() &gt; 0))\n         {\n            int row = seatNumber.charAt(0) - '1' ;\n            int col = seatNumber.charAt(1) - 'A' ;\n            count ++ ;\n            if (row &lt; 0 || row &gt; 7 || col &lt; 0 || col &gt; 4)\n            {\n                System.out.println(\"Input error. Enter seat to assign (e.g., '1A'),\" +\n                    \"or q to quit.\");\n                seatNumber = keyboard.nextLine() ;\n                count++ ;\n            }\n            else\n            {\n                if (seats[row][col] != 'X')\n                {\n                    seats[row][col] = 'X' ;\n                    filled++;\n                    System.out.println(\" \") ;\n                    printSeats(seats);\n                }\n                if (filled &lt; 28)\n                {\n                    System.out.println(\"Enter seat to assign (e.g., '1A'),\" +\n                        \"or q to quit.\");\n                    seatNumber = keyboard.nextLine();\n                    count++ ;\n                }\n             }\n          }         \n        }\n    }\n\n    private static void printSeats(char[][] seats)\n    {\n        int count = 0;\n        System.out.println(\"Row\") ;\n        for (int i = 0; i &lt; seats.length; i++)\n        {\n            System.out.println((i + 1) + \"  \" + \n                seats[i][0] + \" \" + seats[i][1] + \"  \" + seats[i][2] + \" \" + seats[i][3]) ;\n\n        }\n        count++ ;\n        int numberOfSeatsAvailable = 0 ;     \n        numberOfSeatsAvailable = (28 - count) ;      \n        System.out.println(\"There are \" + numberOfSeatsAvailable + \" seats available.\") ;\n    }  //end main\n}  //end class\n</code></pre>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1668966259,"post_id":74510450,"comment_id":131528965,"body_markdown":"A remark: In Java, classes should be written in `UpperCamelCase` (`class Bank_Account` -&gt; `class BankAccount`), while variables, fields and methods should be written in `lowerCamelCase` (`btn_Create_Account` -&gt; `btnCreateAccount`).","body":"A remark: In Java, classes should be written in <code>UpperCamelCase</code> (<code>class Bank_Account</code> -&gt; <code>class BankAccount</code>), while variables, fields and methods should be written in <code>lowerCamelCase</code> (<code>btn_Create_Account</code> -&gt; <code>btnCreateAccount</code>)."},{"owner":{"account_id":1209109,"reputation":7934,"user_id":1178016,"accept_rate":73,"display_name":"xehpuk"},"score":0,"creation_date":1668966705,"post_id":74510450,"comment_id":131529048,"body_markdown":"From your description and code, the problem is not clear. Please post complete code, what you&#39;re expecting and what you&#39;re actually getting.","body":"From your description and code, the problem is not clear. Please post complete code, what you&#39;re expecting and what you&#39;re actually getting."}],"owner":{"account_id":26963071,"reputation":19,"user_id":20530426,"display_name":"sillyconAdmin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668966172,"creation_date":1668966018,"question_id":74510450,"body_markdown":"I am currently trying to store user details such as username and password inside a hashmap. The idea is to get the user details from a sign up window that I have created.\r\n\r\nI have a Client.class which contains getName() getUsername() getPassword() The idea is to store username entered by the user as a key and the value would be the password.\r\n\r\nThe problem I am running into is that it seems like Im not saving the parameters entered in the right way.\r\n\r\nThis is the code I have so far\r\n\r\n**Client.class**\r\n```\r\npublic  class Client {\r\n\t\r\n\tpublic String name;\r\n\tpublic String username;\r\n\tpublic String password;\r\n\tpublic Double balance;\r\n\tpublic String address;\r\n\tpublic String phone;\r\n\tprivate ArrayList&lt;Account&gt; accounts;\r\n\t\r\n\t// Default Constructor\r\n\tpublic Client() {\r\n\t\tname = &quot;&quot;;\r\n\t\taddress = &quot;&quot;;\r\n\t\tphone = &quot;&quot;;\r\n\t\tusername = &quot;&quot;;\r\n\t\tpassword = &quot;&quot;;\r\n\t\tbalance = 0.0;\r\n\t\t\r\n\t}\r\n\r\n\t// Parameterized Constructor\r\n\tpublic Client(String name, String username,String password, String phone, String address, Date date) {\r\n\t\t\r\n\t\tthis.name = name;\r\n\t\tthis.username = username;\r\n\t\tthis.password = password;\r\n\t\tthis.address = address;\r\n\t\tthis.phone = phone;\r\n\t\taccounts = new ArrayList&lt;&gt;();\r\n\t}\r\n\t\r\n\tpublic ArrayList&lt;Account&gt; getStringList(String acc_num, String From, String To) {\r\n        return accounts;\r\n    }\r\n\t\r\n\tpublic void setStringList(ArrayList&lt;Account&gt; accounts) {\r\n        this.accounts = accounts;\r\n    }\r\n\t\r\n\t\r\n\tvoid showClientInfo() {\r\n\t\tSystem.out.println(&quot;Name: &quot;+name);\r\n\t\tSystem.out.println(&quot;Phone Name: &quot;+phone);\r\n\t\tSystem.out.println(&quot;Address Name: &quot;+address);\r\n\t}\r\n\t\r\n\t\r\n\tpublic Account getAccount(String acctNum) {\r\n        for(Account a: accounts) {\r\n            if(acctNum.equals(a.getAccountNumber())) {\r\n                return a;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\t\r\n\tpublic boolean removeAccount(String acctNum) {\r\n        Account a = getAccount(acctNum);\r\n        if(a != null) {\r\n            a.setActive(false);\r\n            accounts.remove(a);\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\t\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\t\r\n\tpublic void setName(String name) {\r\n        if (name != null &amp;&amp; !name.isEmpty()) {\r\n            this.name = name;\r\n        }\r\n    }\r\n\t\r\n\tpublic String getPhone() {\r\n\t\treturn phone;\r\n\t}\r\n\t\r\n\tpublic void setPhone(String phone) {\r\n        if (phone != null &amp;&amp; !phone.isEmpty()) {\r\n            this.phone = phone;\r\n        }\r\n    }\r\n\t\r\n\t\r\n\tpublic String getAddress() {\r\n\t\treturn address;\r\n\t}\r\n\t\r\n\tpublic void setAddress(String address) {\r\n\t\tthis.address = address;\r\n\t}\r\n\t\r\n\tpublic String getUsername() {\r\n\t\treturn username;\r\n\t}\r\n\t\r\n\tpublic void setUsername(String username) {\r\n\t\tthis.username = username;\r\n\t}\r\n\t\r\n\tpublic String getPassword() {\r\n\t\treturn password;\r\n\t}\r\n\t\r\n\tpublic void setPassword(String password) {\r\n\t\tthis.password = password;\r\n\t}\r\n\r\n\t\r\n\t// end of class\r\n}\r\n\r\n```\r\n**Bank_Account.class**\r\n```\r\n// Bank_Account Class\r\npublic class Bank_Account {\r\n\t\r\n \r\n\tpublic Client newClient = new Client();\r\n\tpublic String username,password;\r\n\tpublic static HashMap&lt;String, Client&gt; clientMap;\r\n\t\r\n\t// constructor\r\n\tpublic Bank_Account(String username, String password) {\r\n\t\tthis.username = username;\r\n\t\tthis.password = password;\r\n\t\tclientMap = new HashMap&lt;String, Client&gt;();\r\n\t}\r\n\t\r\n\t// updates the object member variables\r\n\tpublic void addInfo(String username, String password, String name, String address, String phone) {\r\n\t\t\r\n\t\tnewClient = new Client(username, password, name, address, phone, new Date());\r\n\t\tif (newClient != null) {\r\n\t\t\tclientMap.put(newClient.getUsername(), newClient);\r\n        }\r\n\t}\r\n\t\r\n\tpublic boolean closeAccount(String username, String acctNum) {\r\n\r\n\t\tClient client = clientMap.get(username);\r\n\t\tif (client != null) {\r\n\t\t\treturn client.removeAccount(acctNum);\r\n\t\t}\r\n\t\t\r\n\t\treturn false;\r\n        \r\n\t}\r\n\t\r\n\t\r\n\tpublic static void displayCustomerInformation(Client client){\r\n        if(client != null){\r\n            System.out.println(client);\r\n        }\r\n    }\r\n\t\r\n\tpublic static  Map&lt;String, Client&gt; getLoginInfo() {\r\n\t\treturn clientMap;\r\n\t}\r\n\t\r\n\tpublic int addAmount(int b) {\r\n\t\treturn 0;\r\n\t\t}\r\n\t\t\r\n\tpublic static String getDate() {\r\n\t\treturn getDate();\r\n\t}\r\n\t\r\n\tpublic int removeAmount(int b) {\r\n\t\treturn 0;\r\n\t}\r\n\t\r\n\tpublic void updateBalance() {\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\tpublic void finalize() {\r\n        System.out.println(&quot;Bank Account Destructor&quot;);\r\n\t}\r\n\r\n\t\r\n\t// end of class\r\n}\r\n\r\n```\r\n\r\n**Sign up GUI.class**\r\n```\r\n//function executed when Verify Account Button is clicked\r\n\t\tbtn_Create_Account.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\r\n\t\t\t\t\r\n\t\t\t\t//set username/password text field as parameter for bank account constructor\r\n\t\t\t\tBank_Account bank = new Bank_Account(tf_UserName.getText(), tf_Pass.getText());\r\n\t\t\t\r\n\t\t\t\t//save username/password text field\r\n\t\t\t\tString userId = tf_UserName.getText();\r\n\t\t\t\tString password = tf_Pass.getText();\r\n\t\t\t\t\t\r\n\t\t\t\t// check if user exists\t\r\n\t\t\t\tif (Bank_Account.clientMap.containsKey(userId)) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\tSystem.out.println(&quot;usernmae already exists &quot; + userId );\r\n\t\t\t\t\tJOptionPane.showMessageDialog(f,&quot;username already exists &quot;);\r\n\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t//check if password created contains specials characters\r\n\t\t\t\telse if(!password.matches(((&quot;(?=.*\\\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&amp;*_]).{8,}&quot;)))) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tJOptionPane.showMessageDialog(f, &quot;Invalid password condition. Set again :&quot;);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t//if user does not exist put inside hashmap and insert password inside client class\r\n\t\t\t\telse {\r\n\t\t\t\t\t\tSystem.out.println(Bank_Account.clientMap);\r\n\t\t\t\t\t\tBank_Account.clientMap.put(userId, client);\r\n\t\t\t\t\t\tJOptionPane.showMessageDialog(f, &quot;Account registered successfully &quot; );\r\n\t\t\t\t\t\t// **************************************\r\n\t\t\t\t\t\tSystem.out.println(&quot;account registered &quot;+ Bank_Account.clientMap.get(userId) + Bank_Account.getLoginInfo());\r\n\t\t\t\t\t\tframe.remove(f);\r\n\t\t\t\t\t\tframe.repaint();\r\n\t\t\t\t\t\tframe.validate();\r\n\t\t\t\t\t\topenSignInForm(frame, client);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t});\r\n\t}\r\n\r\n```","title":"How to store parameters of a new object as the value of a hashmap?","body":"<p>I am currently trying to store user details such as username and password inside a hashmap. The idea is to get the user details from a sign up window that I have created.</p>\n<p>I have a Client.class which contains getName() getUsername() getPassword() The idea is to store username entered by the user as a key and the value would be the password.</p>\n<p>The problem I am running into is that it seems like Im not saving the parameters entered in the right way.</p>\n<p>This is the code I have so far</p>\n<p><strong>Client.class</strong></p>\n<pre><code>public  class Client {\n    \n    public String name;\n    public String username;\n    public String password;\n    public Double balance;\n    public String address;\n    public String phone;\n    private ArrayList&lt;Account&gt; accounts;\n    \n    // Default Constructor\n    public Client() {\n        name = &quot;&quot;;\n        address = &quot;&quot;;\n        phone = &quot;&quot;;\n        username = &quot;&quot;;\n        password = &quot;&quot;;\n        balance = 0.0;\n        \n    }\n\n    // Parameterized Constructor\n    public Client(String name, String username,String password, String phone, String address, Date date) {\n        \n        this.name = name;\n        this.username = username;\n        this.password = password;\n        this.address = address;\n        this.phone = phone;\n        accounts = new ArrayList&lt;&gt;();\n    }\n    \n    public ArrayList&lt;Account&gt; getStringList(String acc_num, String From, String To) {\n        return accounts;\n    }\n    \n    public void setStringList(ArrayList&lt;Account&gt; accounts) {\n        this.accounts = accounts;\n    }\n    \n    \n    void showClientInfo() {\n        System.out.println(&quot;Name: &quot;+name);\n        System.out.println(&quot;Phone Name: &quot;+phone);\n        System.out.println(&quot;Address Name: &quot;+address);\n    }\n    \n    \n    public Account getAccount(String acctNum) {\n        for(Account a: accounts) {\n            if(acctNum.equals(a.getAccountNumber())) {\n                return a;\n            }\n        }\n        return null;\n    }\n    \n    public boolean removeAccount(String acctNum) {\n        Account a = getAccount(acctNum);\n        if(a != null) {\n            a.setActive(false);\n            accounts.remove(a);\n            return true;\n        }\n        return false;\n    }\n    \n    public String getName() {\n        return name;\n    }\n    \n    public void setName(String name) {\n        if (name != null &amp;&amp; !name.isEmpty()) {\n            this.name = name;\n        }\n    }\n    \n    public String getPhone() {\n        return phone;\n    }\n    \n    public void setPhone(String phone) {\n        if (phone != null &amp;&amp; !phone.isEmpty()) {\n            this.phone = phone;\n        }\n    }\n    \n    \n    public String getAddress() {\n        return address;\n    }\n    \n    public void setAddress(String address) {\n        this.address = address;\n    }\n    \n    public String getUsername() {\n        return username;\n    }\n    \n    public void setUsername(String username) {\n        this.username = username;\n    }\n    \n    public String getPassword() {\n        return password;\n    }\n    \n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    \n    // end of class\n}\n\n</code></pre>\n<p><strong>Bank_Account.class</strong></p>\n<pre><code>// Bank_Account Class\npublic class Bank_Account {\n    \n \n    public Client newClient = new Client();\n    public String username,password;\n    public static HashMap&lt;String, Client&gt; clientMap;\n    \n    // constructor\n    public Bank_Account(String username, String password) {\n        this.username = username;\n        this.password = password;\n        clientMap = new HashMap&lt;String, Client&gt;();\n    }\n    \n    // updates the object member variables\n    public void addInfo(String username, String password, String name, String address, String phone) {\n        \n        newClient = new Client(username, password, name, address, phone, new Date());\n        if (newClient != null) {\n            clientMap.put(newClient.getUsername(), newClient);\n        }\n    }\n    \n    public boolean closeAccount(String username, String acctNum) {\n\n        Client client = clientMap.get(username);\n        if (client != null) {\n            return client.removeAccount(acctNum);\n        }\n        \n        return false;\n        \n    }\n    \n    \n    public static void displayCustomerInformation(Client client){\n        if(client != null){\n            System.out.println(client);\n        }\n    }\n    \n    public static  Map&lt;String, Client&gt; getLoginInfo() {\n        return clientMap;\n    }\n    \n    public int addAmount(int b) {\n        return 0;\n        }\n        \n    public static String getDate() {\n        return getDate();\n    }\n    \n    public int removeAmount(int b) {\n        return 0;\n    }\n    \n    public void updateBalance() {\n        \n    }\n    \n    \n    public void finalize() {\n        System.out.println(&quot;Bank Account Destructor&quot;);\n    }\n\n    \n    // end of class\n}\n\n</code></pre>\n<p><strong>Sign up GUI.class</strong></p>\n<pre><code>//function executed when Verify Account Button is clicked\n        btn_Create_Account.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n        \n                \n                //set username/password text field as parameter for bank account constructor\n                Bank_Account bank = new Bank_Account(tf_UserName.getText(), tf_Pass.getText());\n            \n                //save username/password text field\n                String userId = tf_UserName.getText();\n                String password = tf_Pass.getText();\n                    \n                // check if user exists \n                if (Bank_Account.clientMap.containsKey(userId)) {\n                        \n                    System.out.println(&quot;usernmae already exists &quot; + userId );\n                    JOptionPane.showMessageDialog(f,&quot;username already exists &quot;);\n                \n                    }\n                \n                //check if password created contains specials characters\n                else if(!password.matches(((&quot;(?=.*\\\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&amp;*_]).{8,}&quot;)))) {\n                        \n                        JOptionPane.showMessageDialog(f, &quot;Invalid password condition. Set again :&quot;);\n                        \n                        }\n                \n                //if user does not exist put inside hashmap and insert password inside client class\n                else {\n                        System.out.println(Bank_Account.clientMap);\n                        Bank_Account.clientMap.put(userId, client);\n                        JOptionPane.showMessageDialog(f, &quot;Account registered successfully &quot; );\n                        // **************************************\n                        System.out.println(&quot;account registered &quot;+ Bank_Account.clientMap.get(userId) + Bank_Account.getLoginInfo());\n                        frame.remove(f);\n                        frame.repaint();\n                        frame.validate();\n                        openSignInForm(frame, client);\n                    }\n                    \n                \n            }\n                    \n                    \n                \n        });\n    }\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":26025376,"reputation":3,"user_id":19732377,"display_name":"Chatboat2.0"},"score":0,"creation_date":1668966551,"post_id":74510402,"comment_id":131529013,"body_markdown":"Can Anyone explain me why this error am getting ?","body":"Can Anyone explain me why this error am getting ?"},{"owner":{"account_id":25121309,"reputation":1105,"user_id":18969611,"display_name":"void void"},"score":0,"creation_date":1668969196,"post_id":74510402,"comment_id":131529598,"body_markdown":"Your `BookRepo` is not being picked up. You don&#39;t need the `@Repository` annotation on JpaRepositories but you need it on CrudRepositories. Either make your repository extend JpaRepository or add the `@Repository` annotation.","body":"Your <code>BookRepo</code> is not being picked up. You don&#39;t need the <code>@Repository</code> annotation on JpaRepositories but you need it on CrudRepositories. Either make your repository extend JpaRepository or add the <code>@Repository</code> annotation."}],"owner":{"account_id":26025376,"reputation":3,"user_id":19732377,"display_name":"Chatboat2.0"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668965575,"creation_date":1668965575,"question_id":74510402,"body_markdown":"        [enter image description here][1]\r\n        \r\n        \r\n          [1]: https://i.stack.imgur.com/0R4HR.png\r\n        \r\n        BookService Code \r\n        package com.restapi.test.services;\r\n        \r\n        import java.util.List;\r\n        import org.springframework.beans.factory.annotation.Autowired;\r\n        import org.springframework.stereotype.Component;\r\n        import com.restapi.test.entity.Book;\r\n        import com.restapi.test.respository.BookRepo;\r\n        @Component\r\n        \r\n        public class BookService {\r\n        \t\r\n        \t\r\n        \t\r\n        \t\r\n        \t/*\r\n        \t * // Now we have implemented our database so directly we store in database and\r\n        \t * fetch details // thats why list is commented out private static List&lt;Book&gt;\r\n        \t * list = new ArrayList&lt;&gt;(); static { list.add(new\r\n        \t * Book(12,&quot;Complete Java Reference&quot;,&quot;XYZ&quot;)); list.add(new\r\n        \t * Book(23,&quot;Python Programmer&quot;,&quot;ABC&quot;)); list.add(new\r\n        \t * Book(54,&quot;Javascript for begginers &quot;,&quot;JKL&quot;));\r\n        \t * \r\n        \t * }\r\n        \t */\r\n        \t\r\n        \t// here we will take a object of repository class (in this case BookRepo)\r\n        \t@Autowired\r\n        \tprivate BookRepo bookRepo;\r\n        \t\r\n        \t/*\r\n        \t * // Get all books\r\n        \t * \r\n        \t * public List&lt;Book&gt; getAllBooks(){ return list;\r\n        \t * \r\n        \t * }\r\n        \t */\r\n        \t\r\n        \tpublic List&lt;Book&gt; getAllBooks(){\r\n        \t\tList&lt;Book&gt; list = (List&lt;Book&gt;)this.bookRepo.findAll();   // Because Iterable is parent class we can Type cast \r\n        \t\treturn list;\r\n        \t}\r\n        \t\r\n        \t\r\n        \t\r\n        \t\r\n        \t\r\n        \t\r\n        \t/*\r\n        \t * // get one book // this is commented out because now we use database\r\n        \t * \r\n        \t * public Book getBookById(int id) { Book book= null; try { book=\r\n        \t * list.stream().filter(e-&gt;e.getId()==id).findFirst().get(); } catch(Exception\r\n        \t * e){ e.printStackTrace();\r\n        \t * \r\n        \t * }\r\n        \t * \r\n        \t * return book; }\r\n        \t */\r\n        \t\r\n        \tpublic Book getBookById(int id) {\r\n        \t\tBook book= null;\r\n        \t\ttry {\r\n        \t\t\tbook = this.bookRepo.findById(id);\r\n        \t\t}\r\n        \t\tcatch(Exception e){\r\n        \t\t\te.printStackTrace();\r\n        \t\t\t\r\n        \t\t}\r\n        \t\r\n        \treturn book;\r\n        \t}\r\n        \t\r\n        \t\r\n        \t\r\n        \t\r\n        \t\r\n        \t\r\n        \t/*\r\n        \t * //method for adding the book // now we remove static list and use database\r\n        \t * \r\n        \t * public Book addBook(Book b) { list.add(b); return b; }\r\n        \t */\r\n        \t\r\n        \t\r\n        \t// using Database \r\n        \tpublic Book addBook(Book b) {\r\n        \t   Book result =bookRepo.save(b);\r\n        \t   return result;\r\n        \t    \r\n        \t}\r\n        \t\r\n        \t\r\n        \t\r\n        \t\r\n        \t/*\r\n        \t * //delete one book\r\n        \t *  public void deleteBookbyId(int id) {\r\n        \t * \r\n        \t * list = list.stream().filter(book -&gt; { if(book.getId()!=id) { return true;\r\n        \t * \r\n        \t * } else { return false; } }).collect(Collectors.toList());\r\n        \t * \r\n        \t * }\r\n        \t */   // same code can be reduced into these lines \r\n        \t\r\n        \t//delete one book   because now we use Database so static fake service list is not used that why commented out\r\n        \t/*\r\n        \t * public void deleteBookById(int id) { try { list = list.stream().filter(book\r\n        \t * -&gt;book.getId()!=id).collect(Collectors.toList()); } catch(Exception e) {\r\n        \t * System.out.println(e); } // }\r\n        \t */\r\n        \t\r\n        \tpublic void deleteBookById(int id) {\r\n        \t\ttry {\r\n        \t\t\tthis.bookRepo.deleteById(id);\r\n        \t\t}\r\n        \t\tcatch(Exception e) {\r\n        \t\t\tSystem.out.println(e);\r\n        \t\t}\r\n        //\t\t\r\n        \t}\r\n        \t\r\n        \t\r\n        \t\r\n        \t\r\n        \t// now we use database we are not using fake service class that is why commented out\r\n        \r\n        \t/*\r\n        \t * public void updateBook(Book book, int bookId) { try { list\r\n        \t * =list.stream().map(b-&gt;{ if(b.getId()==bookId) {\r\n        \t * b.setAuthor(book.getAuthor()); b.setTitle(book.getTitle( )); } return b;\r\n        \t * }).collect(Collectors.toList()); // TODO Auto-generated method stub\r\n        \t * }catch(Exception e) { System.out.println(e);\r\n        \t * \r\n        \t * \r\n        \t * }\r\n        \t */\r\n        \t\t\r\n        \t\t\r\n        \t\t\r\n        \t\tpublic void updateBook(Book book, int bookId) {\r\n        \t\t\ttry {\r\n        \t\t\t\tbook.setId(bookId);\r\n        \t\t\t\tbookRepo.save(book);\r\n        \t\t\t}catch(Exception e) {\r\n        \t\t\t\tSystem.out.println(e);\r\n        \t\t\t }\r\n        \t\t\r\n        \t\t\r\n        \t\t\r\n        \t} \r\n        }\r\n        \r\n        Book Enity Code \r\n        package com.restapi.test.entity;\r\n        import javax.persistence.Entity;\r\n        import javax.persistence.GeneratedValue;\r\n        import javax.persistence.GenerationType;\r\n        import javax.persistence.Id;\r\n        import javax.persistence.Table;\r\n        \r\n        @Entity \r\n        @Table(name=&quot;books&quot;)\r\n        public class Book {\r\n        @Id\r\n        @GeneratedValue(strategy= GenerationType.AUTO)\r\n        private int id;\r\n        private String title;\r\n        private String Author;\r\n        public Book(int id, String title, String author) {\r\n        \tsuper();\r\n        \tthis.id = id;\r\n        \tthis.title = title;\r\n        \tAuthor = author;\r\n        }\r\n        public Book() {\r\n        \tsuper();\r\n        \t// TODO Auto-generated constructor stub\r\n        }\r\n        public int getId() {\r\n        \treturn id;\r\n        }\r\n        public void setId(int id) {\r\n        \tthis.id = id;\r\n        }\r\n        public String getTitle() {\r\n        \treturn title;\r\n        }\r\n        public void setTitle(String title) {\r\n        \tthis.title = title;\r\n        }\r\n        public String getAuthor() {\r\n        \treturn Author;\r\n        }\r\n        public void setAuthor(String author) {\r\n        \tAuthor = author;\r\n        }\r\n        @Override\r\n        public String toString() {\r\n        \treturn &quot;Book [id=&quot; + id + &quot;, title=&quot; + title + &quot;, Author=&quot; + Author + &quot;]&quot;;\r\n        }\r\n        \r\n        }\r\n        \r\n        Book Repository Code \r\n        package com.restapi.test.respository;\r\n        \r\n        import org.springframework.data.repository.CrudRepository;\r\n        \r\n        import com.restapi.test.entity.Book;\r\n        \r\n        public interface BookRepo extends CrudRepository&lt;Book , Integer&gt;{\r\n        \tpublic Book findById(int id);\r\n        \tpublic Book deleteById(int id);\r\n        \t\r\n        \r\n        }\r\n    \r\n\r\n\r\n\r\nExplaination \r\n I am getting this error saying everything looks fine to me \r\n  Everything looks fine but why this error , can anybody explain?\r\n\r\nDescription:\r\n\r\nField bookRepo in com.restapi.test.services.BookService required a bean of type &#39;com.restapi.test.respository.BookRepo&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;com.restapi.test.respository.BookRepo&#39; in your configuration.\r\n\r\n","title":"Field bookRepo in com.restapi.test.services.BookService required a bean of type &#39;com.restapi.test.respository.BookRepo&#39; that could not be found","body":"<pre><code>    [enter image description here][1]\n    \n    \n      [1]: https://i.stack.imgur.com/0R4HR.png\n    \n    BookService Code \n    package com.restapi.test.services;\n    \n    import java.util.List;\n    import org.springframework.beans.factory.annotation.Autowired;\n    import org.springframework.stereotype.Component;\n    import com.restapi.test.entity.Book;\n    import com.restapi.test.respository.BookRepo;\n    @Component\n    \n    public class BookService {\n        \n        \n        \n        \n        /*\n         * // Now we have implemented our database so directly we store in database and\n         * fetch details // thats why list is commented out private static List&lt;Book&gt;\n         * list = new ArrayList&lt;&gt;(); static { list.add(new\n         * Book(12,&quot;Complete Java Reference&quot;,&quot;XYZ&quot;)); list.add(new\n         * Book(23,&quot;Python Programmer&quot;,&quot;ABC&quot;)); list.add(new\n         * Book(54,&quot;Javascript for begginers &quot;,&quot;JKL&quot;));\n         * \n         * }\n         */\n        \n        // here we will take a object of repository class (in this case BookRepo)\n        @Autowired\n        private BookRepo bookRepo;\n        \n        /*\n         * // Get all books\n         * \n         * public List&lt;Book&gt; getAllBooks(){ return list;\n         * \n         * }\n         */\n        \n        public List&lt;Book&gt; getAllBooks(){\n            List&lt;Book&gt; list = (List&lt;Book&gt;)this.bookRepo.findAll();   // Because Iterable is parent class we can Type cast \n            return list;\n        }\n        \n        \n        \n        \n        \n        \n        /*\n         * // get one book // this is commented out because now we use database\n         * \n         * public Book getBookById(int id) { Book book= null; try { book=\n         * list.stream().filter(e-&gt;e.getId()==id).findFirst().get(); } catch(Exception\n         * e){ e.printStackTrace();\n         * \n         * }\n         * \n         * return book; }\n         */\n        \n        public Book getBookById(int id) {\n            Book book= null;\n            try {\n                book = this.bookRepo.findById(id);\n            }\n            catch(Exception e){\n                e.printStackTrace();\n                \n            }\n        \n        return book;\n        }\n        \n        \n        \n        \n        \n        \n        /*\n         * //method for adding the book // now we remove static list and use database\n         * \n         * public Book addBook(Book b) { list.add(b); return b; }\n         */\n        \n        \n        // using Database \n        public Book addBook(Book b) {\n           Book result =bookRepo.save(b);\n           return result;\n            \n        }\n        \n        \n        \n        \n        /*\n         * //delete one book\n         *  public void deleteBookbyId(int id) {\n         * \n         * list = list.stream().filter(book -&gt; { if(book.getId()!=id) { return true;\n         * \n         * } else { return false; } }).collect(Collectors.toList());\n         * \n         * }\n         */   // same code can be reduced into these lines \n        \n        //delete one book   because now we use Database so static fake service list is not used that why commented out\n        /*\n         * public void deleteBookById(int id) { try { list = list.stream().filter(book\n         * -&gt;book.getId()!=id).collect(Collectors.toList()); } catch(Exception e) {\n         * System.out.println(e); } // }\n         */\n        \n        public void deleteBookById(int id) {\n            try {\n                this.bookRepo.deleteById(id);\n            }\n            catch(Exception e) {\n                System.out.println(e);\n            }\n    //      \n        }\n        \n        \n        \n        \n        // now we use database we are not using fake service class that is why commented out\n    \n        /*\n         * public void updateBook(Book book, int bookId) { try { list\n         * =list.stream().map(b-&gt;{ if(b.getId()==bookId) {\n         * b.setAuthor(book.getAuthor()); b.setTitle(book.getTitle( )); } return b;\n         * }).collect(Collectors.toList()); // TODO Auto-generated method stub\n         * }catch(Exception e) { System.out.println(e);\n         * \n         * \n         * }\n         */\n            \n            \n            \n            public void updateBook(Book book, int bookId) {\n                try {\n                    book.setId(bookId);\n                    bookRepo.save(book);\n                }catch(Exception e) {\n                    System.out.println(e);\n                 }\n            \n            \n            \n        } \n    }\n    \n    Book Enity Code \n    package com.restapi.test.entity;\n    import javax.persistence.Entity;\n    import javax.persistence.GeneratedValue;\n    import javax.persistence.GenerationType;\n    import javax.persistence.Id;\n    import javax.persistence.Table;\n    \n    @Entity \n    @Table(name=&quot;books&quot;)\n    public class Book {\n    @Id\n    @GeneratedValue(strategy= GenerationType.AUTO)\n    private int id;\n    private String title;\n    private String Author;\n    public Book(int id, String title, String author) {\n        super();\n        this.id = id;\n        this.title = title;\n        Author = author;\n    }\n    public Book() {\n        super();\n        // TODO Auto-generated constructor stub\n    }\n    public int getId() {\n        return id;\n    }\n    public void setId(int id) {\n        this.id = id;\n    }\n    public String getTitle() {\n        return title;\n    }\n    public void setTitle(String title) {\n        this.title = title;\n    }\n    public String getAuthor() {\n        return Author;\n    }\n    public void setAuthor(String author) {\n        Author = author;\n    }\n    @Override\n    public String toString() {\n        return &quot;Book [id=&quot; + id + &quot;, title=&quot; + title + &quot;, Author=&quot; + Author + &quot;]&quot;;\n    }\n    \n    }\n    \n    Book Repository Code \n    package com.restapi.test.respository;\n    \n    import org.springframework.data.repository.CrudRepository;\n    \n    import com.restapi.test.entity.Book;\n    \n    public interface BookRepo extends CrudRepository&lt;Book , Integer&gt;{\n        public Book findById(int id);\n        public Book deleteById(int id);\n        \n    \n    }\n</code></pre>\n<p>Explaination\nI am getting this error saying everything looks fine to me\nEverything looks fine but why this error , can anybody explain?</p>\n<p>Description:</p>\n<p>Field bookRepo in com.restapi.test.services.BookService required a bean of type 'com.restapi.test.respository.BookRepo' that could not be found.</p>\n<p>The injection point has the following annotations:\n- @org.springframework.beans.factory.annotation.Autowired(required=true)</p>\n<p>Action:</p>\n<p>Consider defining a bean of type 'com.restapi.test.respository.BookRepo' in your configuration.</p>\n"},{"tags":["java","android","android-studio","numberformatexception"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1668964915,"post_id":74510277,"comment_id":131528687,"body_markdown":"&quot;it is throwing numberformatException&quot; -- please edit your question and post the entire stack trace.","body":"&quot;it is throwing numberformatException&quot; -- please edit your question and post the entire stack trace."},{"owner":{"account_id":26351131,"reputation":79,"user_id":20397293,"display_name":"Puru Chaudhary"},"score":0,"creation_date":1668965024,"post_id":74510277,"comment_id":131528714,"body_markdown":"please check i have added the stack trace","body":"please check i have added the stack trace"},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1668965945,"post_id":74510277,"comment_id":131528903,"body_markdown":"`FileUtils.getPath(getContext(), imageuri)` -- delete `FileUtils.getPath()`, and please never use it again. A `Uri` is not a file. Based on the limited documentation, it looks like you can simply replace `FileUtils.getPath(getContext(), imageuri)` with `imageuri.toString()`.","body":"<code>FileUtils.getPath(getContext(), imageuri)</code> -- delete <code>FileUtils.getPath()</code>, and please never use it again. A <code>Uri</code> is not a file. Based on the limited documentation, it looks like you can simply replace <code>FileUtils.getPath(getContext(), imageuri)</code> with <code>imageuri.toString()</code>."},{"owner":{"account_id":26351131,"reputation":79,"user_id":20397293,"display_name":"Puru Chaudhary"},"score":0,"creation_date":1668997269,"post_id":74510277,"comment_id":131534721,"body_markdown":"actually this same code is working fine on the emulator sir but it is showing the problem here on the physical device","body":"actually this same code is working fine on the emulator sir but it is showing the problem here on the physical device"},{"owner":{"account_id":26351131,"reputation":79,"user_id":20397293,"display_name":"Puru Chaudhary"},"score":0,"creation_date":1668997706,"post_id":74510277,"comment_id":131534766,"body_markdown":"and i tried your suggested thing but it is not working","body":"and i tried your suggested thing but it is not working"}],"owner":{"account_id":26351131,"reputation":79,"user_id":20397293,"display_name":"Puru Chaudhary"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668965490,"creation_date":1668964619,"question_id":74510277,"body_markdown":"Hey I am using sillicompressor for compressing images and now the problem is that it is throwing numberformatException. I tried everything but nothing is working. Please guide me how can i solve this problem.\r\n\r\n\r\n**CODE IS HERE**\r\n\r\n      activityResultLauncher = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), new ActivityResultCallback&lt;ActivityResult&gt;() {\r\n        @Override\r\n        public void onActivityResult(ActivityResult result) {\r\n\r\n\r\n            if (result.getResultCode() == RESULT_OK &amp;&amp; null != result.getData()) {\r\n\r\n                if (result.getData().getClipData() != null) {\r\n                    int countofImages = result.getData().getClipData().getItemCount();\r\n\r\n\r\n                        //this part is to select multiple images\r\n                        for (int i = 0; i &lt; countofImages; i++) {\r\n\r\n                            if (imageList.size() &lt; 8)\r\n                            {\r\n                                 imageuri = result.getData().getClipData().getItemAt(i).getUri();\r\n\r\n                                File file = new File(SiliCompressor.with(getContext()).compress(FileUtils.getPath(getContext(), imageuri), new File(getContext().getCacheDir(), &quot;temp&quot; + i)));\r\n                                compresseduri = Uri.fromFile(file);\r\n\r\n\r\n                                imageList.add(new CustomModel(getfilename(imageuri), compresseduri));\r\n                            } else\r\n                                {\r\n                                Toast.makeText(getContext(), &quot;Can&#39;t select more than 8 images&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        }\r\n                        //then notify the adapter\r\n                    adapter.notifyDataSetChanged();\r\n                    rentSell3Binding.totalphotos.setText(&quot;Photos (&quot; + imageList.size() + &quot;)&quot;);\r\n\r\n                    }\r\n                    //this part is to select single image\r\n                    else {\r\n                    if (imageList.size()&lt;8) {\r\n                         imageuri = result.getData().getData();\r\n\r\n                        File file = new File(SiliCompressor.with(getContext()).compress(FileUtils.getPath(getContext(), imageuri), new File(getContext().getCacheDir(), &quot;temp&quot;)));\r\n\r\n                        compresseduri = Uri.fromFile(file);\r\n\r\n                        imageList.add(new CustomModel(getfilename(imageuri), compresseduri));\r\n\r\n                    }else\r\n                    {\r\n\r\n                        Toast.makeText(getContext(), &quot;Can&#39;t select more than 8 images&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                    }\r\n\r\n                    //notify the adapter\r\n                    adapter.notifyDataSetChanged();\r\n                    rentSell3Binding.totalphotos.setText(&quot;Photos (&quot; + imageList.size() + &quot;)&quot;);\r\n\r\n                    }\r\n            } \r\n\r\n\r\n**Error is throwing on this line** \r\n\r\n    File file = new File(SiliCompressor.with(getContext()).compress(FileUtils.getPath(getContext(), imageuri), new File(getContext().getCacheDir(), &quot;temp&quot; + i)));\r\n\r\n**StackTrace**\r\n\r\n      java.lang.NumberFormatException: For input string: &quot;msf:126968&quot;\r\n        at java.lang.Long.parseLong(Long.java:594)\r\n        at java.lang.Long.valueOf(Long.java:808)\r\n        at com.iceteck.silicompressorr.FileUtils.getPath(FileUtils.java:288)\r\n        at com.shrihari.backsoon.Listing_Fragment_3$5.onActivityResult(Listing_Fragment_3.java:263)\r\n\r\n\r\n\r\n\r\n","title":"SilliCompressor is throwing Number Format Exception For input String: Android","body":"<p>Hey I am using sillicompressor for compressing images and now the problem is that it is throwing numberformatException. I tried everything but nothing is working. Please guide me how can i solve this problem.</p>\n<p><strong>CODE IS HERE</strong></p>\n<pre><code>  activityResultLauncher = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), new ActivityResultCallback&lt;ActivityResult&gt;() {\n    @Override\n    public void onActivityResult(ActivityResult result) {\n\n\n        if (result.getResultCode() == RESULT_OK &amp;&amp; null != result.getData()) {\n\n            if (result.getData().getClipData() != null) {\n                int countofImages = result.getData().getClipData().getItemCount();\n\n\n                    //this part is to select multiple images\n                    for (int i = 0; i &lt; countofImages; i++) {\n\n                        if (imageList.size() &lt; 8)\n                        {\n                             imageuri = result.getData().getClipData().getItemAt(i).getUri();\n\n                            File file = new File(SiliCompressor.with(getContext()).compress(FileUtils.getPath(getContext(), imageuri), new File(getContext().getCacheDir(), &quot;temp&quot; + i)));\n                            compresseduri = Uri.fromFile(file);\n\n\n                            imageList.add(new CustomModel(getfilename(imageuri), compresseduri));\n                        } else\n                            {\n                            Toast.makeText(getContext(), &quot;Can't select more than 8 images&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    }\n                    //then notify the adapter\n                adapter.notifyDataSetChanged();\n                rentSell3Binding.totalphotos.setText(&quot;Photos (&quot; + imageList.size() + &quot;)&quot;);\n\n                }\n                //this part is to select single image\n                else {\n                if (imageList.size()&lt;8) {\n                     imageuri = result.getData().getData();\n\n                    File file = new File(SiliCompressor.with(getContext()).compress(FileUtils.getPath(getContext(), imageuri), new File(getContext().getCacheDir(), &quot;temp&quot;)));\n\n                    compresseduri = Uri.fromFile(file);\n\n                    imageList.add(new CustomModel(getfilename(imageuri), compresseduri));\n\n                }else\n                {\n\n                    Toast.makeText(getContext(), &quot;Can't select more than 8 images&quot;, Toast.LENGTH_SHORT).show();\n\n                }\n\n                //notify the adapter\n                adapter.notifyDataSetChanged();\n                rentSell3Binding.totalphotos.setText(&quot;Photos (&quot; + imageList.size() + &quot;)&quot;);\n\n                }\n        } \n</code></pre>\n<p><strong>Error is throwing on this line</strong></p>\n<pre><code>File file = new File(SiliCompressor.with(getContext()).compress(FileUtils.getPath(getContext(), imageuri), new File(getContext().getCacheDir(), &quot;temp&quot; + i)));\n</code></pre>\n<p><strong>StackTrace</strong></p>\n<pre><code>  java.lang.NumberFormatException: For input string: &quot;msf:126968&quot;\n    at java.lang.Long.parseLong(Long.java:594)\n    at java.lang.Long.valueOf(Long.java:808)\n    at com.iceteck.silicompressorr.FileUtils.getPath(FileUtils.java:288)\n    at com.shrihari.backsoon.Listing_Fragment_3$5.onActivityResult(Listing_Fragment_3.java:263)\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":19496972,"reputation":2160,"user_id":14263933,"display_name":"aatwork"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668965333,"creation_date":1668965333,"answer_id":74510372,"question_id":74510346,"body_markdown":"    [2m2022-11-20 17:47:49.587[0;39m [32mDEBUG[0;39m [35m10420[0;39m [2m---[0;39m [2m[nio-8080-exec-1][0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m PUT &quot;/api/v1/mainsite?id=1&quot;, parameters={masked}\r\n\r\nYou are sending request parameter as shown in above log &quot;/api/v1/mainsite?id=1&quot;.\r\n\r\nbut you are using PathVariable in your code:\r\n\r\n       public Mainsite updateMainsite(@PathVariable(&quot;id&quot;) Long id, @RequestBody Mainsite mainsite) {\r\n\r\nYou should send the url as &quot;/api/v1/mainsite/1&quot;","title":"PUT Request not supported | Java Spring boot","body":"<pre><code>[2m2022-11-20 17:47:49.587[0;39m [32mDEBUG[0;39m [35m10420[0;39m [2m---[0;39m [2m[nio-8080-exec-1][0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m PUT &quot;/api/v1/mainsite?id=1&quot;, parameters={masked}\n</code></pre>\n<p>You are sending request parameter as shown in above log &quot;/api/v1/mainsite?id=1&quot;.</p>\n<p>but you are using PathVariable in your code:</p>\n<pre><code>   public Mainsite updateMainsite(@PathVariable(&quot;id&quot;) Long id, @RequestBody Mainsite mainsite) {\n</code></pre>\n<p>You should send the url as &quot;/api/v1/mainsite/1&quot;</p>\n"}],"owner":{"account_id":22749514,"reputation":123,"user_id":16909865,"display_name":"Leon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":430,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74510372,"answer_count":1,"score":0,"last_activity_date":1668965333,"creation_date":1668965110,"question_id":74510346,"body_markdown":"I added a put Method to my Controller. But when i access it , i get the error 405 (Method not Allowed). In the Console the error Request method &#39;PUT&#39; not supported is printed.\r\nI have an other controller where the put is working. \r\n\r\nI would apriciate some help.\r\n\r\n## RequestController ##\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/mainsite&quot;)\r\npublic class MainsiteController {\r\n\tprivate MainsiteService mainsiteService;\r\n\r\n\t@Autowired\r\n\tpublic MainsiteController(MainsiteService mainsiteService) {\r\n\t\tthis.mainsiteService = mainsiteService;\r\n\t}\r\n\r\n    @PutMapping(&quot;{id}&quot;)\r\n\tpublic Mainsite updateMainsite(@PathVariable(&quot;id&quot;) Long id, @RequestBody Mainsite mainsite) {\r\n\t\treturn mainsiteService.updateMainsite(id, mainsite);\r\n\t}\r\n}\r\n```\r\n\r\n\r\n## Log ##\r\n```\r\n\u001B[2m2022-11-20 17:47:49.587\u001B[0;39m \u001B[32mDEBUG\u001B[0;39m \u001B[35m10420\u001B[0;39m \u001B[2m---\u001B[0;39m \u001B[2m[nio-8080-exec-1]\u001B[0;39m \u001B[36mo.s.web.servlet.DispatcherServlet       \u001B[0;39m \u001B[2m:\u001B[0;39m PUT &quot;/api/v1/mainsite?id=1&quot;, parameters={masked}\r\n\u001B[2m2022-11-20 17:47:49.592\u001B[0;39m \u001B[33m WARN\u001B[0;39m \u001B[35m10420\u001B[0;39m \u001B[2m---\u001B[0;39m \u001B[2m[nio-8080-exec-1]\u001B[0;39m \u001B[36m.w.s.m.s.DefaultHandlerExceptionResolver\u001B[0;39m \u001B[2m:\u001B[0;39m Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method &#39;PUT&#39; not supported]\r\n\u001B[2m2022-11-20 17:47:49.592\u001B[0;39m \u001B[32mDEBUG\u001B[0;39m \u001B[35m10420\u001B[0;39m \u001B[2m---\u001B[0;39m \u001B[2m[nio-8080-exec-1]\u001B[0;39m \u001B[36mo.s.web.servlet.DispatcherServlet       \u001B[0;39m \u001B[2m:\u001B[0;39m Completed 405 METHOD_NOT_ALLOWED\r\n\u001B[2m2022-11-20 17:47:49.595\u001B[0;39m \u001B[32mDEBUG\u001B[0;39m \u001B[35m10420\u001B[0;39m \u001B[2m---\u001B[0;39m \u001B[2m[nio-8080-exec-1]\u001B[0;39m \u001B[36mo.s.web.servlet.DispatcherServlet       \u001B[0;39m \u001B[2m:\u001B[0;39m &quot;ERROR&quot; dispatch for PUT &quot;/api/v1/error?id=1&quot;, parameters={masked}\r\n\u001B[2m2022-11-20 17:47:49.596\u001B[0;39m \u001B[32mDEBUG\u001B[0;39m \u001B[35m10420\u001B[0;39m \u001B[2m---\u001B[0;39m \u001B[2m[nio-8080-exec-1]\u001B[0;39m \u001B[36ms.w.s.m.m.a.RequestMappingHandlerMapping\u001B[0;39m \u001B[2m:\u001B[0;39m Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\r\n\u001B[2m2022-11-20 17:47:49.613\u001B[0;39m \u001B[32mDEBUG\u001B[0;39m \u001B[35m10420\u001B[0;39m \u001B[2m---\u001B[0;39m \u001B[2m[nio-8080-exec-1]\u001B[0;39m \u001B[36mo.s.w.s.m.m.a.HttpEntityMethodProcessor \u001B[0;39m \u001B[2m:\u001B[0;39m Using &#39;application/json&#39;, given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]\r\n\u001B[2m2022-11-20 17:47:49.616\u001B[0;39m \u001B[32mDEBUG\u001B[0;39m \u001B[35m10420\u001B[0;39m \u001B[2m---\u001B[0;39m \u001B[2m[nio-8080-exec-1]\u001B[0;39m \u001B[36mo.s.w.s.m.m.a.HttpEntityMethodProcessor \u001B[0;39m \u001B[2m:\u001B[0;39m Writing [{timestamp=Sun Nov 20 17:47:49 CET 2022, status=405, error=Method Not Allowed, path=/api/v1/mainsite (truncated)...]\r\n\u001B[2m2022-11-20 17:47:49.640\u001B[0;39m \u001B[32mDEBUG\u001B[0;39m \u001B[35m10420\u001B[0;39m \u001B[2m---\u001B[0;39m \u001B[2m[nio-8080-exec-1]\u001B[0;39m \u001B[36mo.s.web.servlet.DispatcherServlet       \u001B[0;39m \u001B[2m:\u001B[0;39m Exiting from &quot;ERROR&quot; dispatch, status 405\r\n```\r\n\r\n## application.properties ##\r\n```\r\nserver.servlet.context-path=/api/v1\r\n```\r\n","title":"PUT Request not supported | Java Spring boot","body":"<p>I added a put Method to my Controller. But when i access it , i get the error 405 (Method not Allowed). In the Console the error Request method 'PUT' not supported is printed.\nI have an other controller where the put is working.</p>\n<p>I would apriciate some help.</p>\n<h2>RequestController</h2>\n<pre><code>@RestController\n@RequestMapping(&quot;/mainsite&quot;)\npublic class MainsiteController {\n    private MainsiteService mainsiteService;\n\n    @Autowired\n    public MainsiteController(MainsiteService mainsiteService) {\n        this.mainsiteService = mainsiteService;\n    }\n\n    @PutMapping(&quot;{id}&quot;)\n    public Mainsite updateMainsite(@PathVariable(&quot;id&quot;) Long id, @RequestBody Mainsite mainsite) {\n        return mainsiteService.updateMainsite(id, mainsite);\n    }\n}\n</code></pre>\n<h2>Log</h2>\n<pre><code>[2m2022-11-20 17:47:49.587[0;39m [32mDEBUG[0;39m [35m10420[0;39m [2m---[0;39m [2m[nio-8080-exec-1][0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m PUT &quot;/api/v1/mainsite?id=1&quot;, parameters={masked}\n[2m2022-11-20 17:47:49.592[0;39m [33m WARN[0;39m [35m10420[0;39m [2m---[0;39m [2m[nio-8080-exec-1][0;39m [36m.w.s.m.s.DefaultHandlerExceptionResolver[0;39m [2m:[0;39m Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'PUT' not supported]\n[2m2022-11-20 17:47:49.592[0;39m [32mDEBUG[0;39m [35m10420[0;39m [2m---[0;39m [2m[nio-8080-exec-1][0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Completed 405 METHOD_NOT_ALLOWED\n[2m2022-11-20 17:47:49.595[0;39m [32mDEBUG[0;39m [35m10420[0;39m [2m---[0;39m [2m[nio-8080-exec-1][0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m &quot;ERROR&quot; dispatch for PUT &quot;/api/v1/error?id=1&quot;, parameters={masked}\n[2m2022-11-20 17:47:49.596[0;39m [32mDEBUG[0;39m [35m10420[0;39m [2m---[0;39m [2m[nio-8080-exec-1][0;39m [36ms.w.s.m.m.a.RequestMappingHandlerMapping[0;39m [2m:[0;39m Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\n[2m2022-11-20 17:47:49.613[0;39m [32mDEBUG[0;39m [35m10420[0;39m [2m---[0;39m [2m[nio-8080-exec-1][0;39m [36mo.s.w.s.m.m.a.HttpEntityMethodProcessor [0;39m [2m:[0;39m Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]\n[2m2022-11-20 17:47:49.616[0;39m [32mDEBUG[0;39m [35m10420[0;39m [2m---[0;39m [2m[nio-8080-exec-1][0;39m [36mo.s.w.s.m.m.a.HttpEntityMethodProcessor [0;39m [2m:[0;39m Writing [{timestamp=Sun Nov 20 17:47:49 CET 2022, status=405, error=Method Not Allowed, path=/api/v1/mainsite (truncated)...]\n[2m2022-11-20 17:47:49.640[0;39m [32mDEBUG[0;39m [35m10420[0;39m [2m---[0;39m [2m[nio-8080-exec-1][0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Exiting from &quot;ERROR&quot; dispatch, status 405\n</code></pre>\n<h2>application.properties</h2>\n<pre><code>server.servlet.context-path=/api/v1\n</code></pre>\n"},{"tags":["java","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":26761666,"reputation":11,"user_id":20359517,"display_name":"Evgenii Plugatar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668961200,"creation_date":1668961200,"answer_id":74509838,"question_id":74509805,"body_markdown":"Yes, IntelliJ IDEA doesn&#39;t support Java 19 yet. See [link][1].\r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/supported-java-versions.html","title":"How to use Java 19 in IntelliJ Idea community Edition","body":"<p>Yes, IntelliJ IDEA doesn't support Java 19 yet. See <a href=\"https://www.jetbrains.com/help/idea/supported-java-versions.html\" rel=\"nofollow noreferrer\">link</a>.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668965282,"creation_date":1668964784,"answer_id":74510299,"question_id":74509805,"body_markdown":"# IntelliJ 2022.3\r\n\r\nThe [early-access version of IntelliJ 2022.3](https://www.jetbrains.com/help/idea/2022.3/supported-java-versions.html) does support Java 19 as an experimental feature. This `.3` update of IntelliJ should be formally released very soon.\r\n\r\nThis support includes the third preview of the pattern-matching with `switch` feature. As a [preview feature][1], youll need to go out of your way to enable that functionality. And note that this feature is also previewed in Java 20, so details may be changing. \r\n\r\nFor details on the feature, see:\r\n\r\n- [*JEP 427: Pattern Matching for switch (Third Preview)*](https://openjdk.org/jeps/427) (Java 19)\r\n- [*JEP 433: Pattern Matching for switch (Fourth Preview)*][2] (Java 20)\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/12\r\n  [2]: https://openjdk.org/jeps/433","title":"How to use Java 19 in IntelliJ Idea community Edition","body":"<h1>IntelliJ 2022.3</h1>\n<p>The <a href=\"https://www.jetbrains.com/help/idea/2022.3/supported-java-versions.html\" rel=\"nofollow noreferrer\">early-access version of IntelliJ 2022.3</a> does support Java 19 as an experimental feature. This <code>.3</code> update of IntelliJ should be formally released very soon.</p>\n<p>This support includes the third preview of the pattern-matching with <code>switch</code> feature. As a <a href=\"https://openjdk.org/jeps/12\" rel=\"nofollow noreferrer\">preview feature</a>, youll need to go out of your way to enable that functionality. And note that this feature is also previewed in Java 20, so details may be changing.</p>\n<p>For details on the feature, see:</p>\n<ul>\n<li><a href=\"https://openjdk.org/jeps/427\" rel=\"nofollow noreferrer\"><em>JEP 427: Pattern Matching for switch (Third Preview)</em></a> (Java 19)</li>\n<li><a href=\"https://openjdk.org/jeps/433\" rel=\"nofollow noreferrer\"><em>JEP 433: Pattern Matching for switch (Fourth Preview)</em></a> (Java 20)</li>\n</ul>\n"}],"owner":{"account_id":3216552,"reputation":2553,"user_id":2715083,"accept_rate":57,"display_name":"Somjit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1668965282,"creation_date":1668961028,"question_id":74509805,"body_markdown":"I am trying to use the destructuring syntax of Java 19 pattern match, but my IntelliJ Idea cannot understand it (please refer below screenshot). Is there a way to fix this? Or IntellJ is not yet ready for java 19 ?\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n```java\r\n    // sealed interface and record combo\r\n    public sealed interface LoginRequest permits DefaultLogin {}\r\n    public record DefaultLogin(@Min(1) int userId, @Valid Password password) implements LoginRequest {}\r\n\r\n    // java 19 switch is not supported in IntelliJ Idea, gives all red lines\r\n    Optional&lt;Profile&gt; profileMaybe = switch (loginRequest) {\r\n        case DefaultLogin(int id, Password pw) -&gt; getProfile(new ById(id));\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OMgeW.png","title":"How to use Java 19 in IntelliJ Idea community Edition","body":"<p>I am trying to use the destructuring syntax of Java 19 pattern match, but my IntelliJ Idea cannot understand it (please refer below screenshot). Is there a way to fix this? Or IntellJ is not yet ready for java 19 ?</p>\n<p><a href=\"https://i.stack.imgur.com/OMgeW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OMgeW.png\" alt=\"enter image description here\" /></a></p>\n<pre class=\"lang-java prettyprint-override\"><code>    // sealed interface and record combo\n    public sealed interface LoginRequest permits DefaultLogin {}\n    public record DefaultLogin(@Min(1) int userId, @Valid Password password) implements LoginRequest {}\n\n    // java 19 switch is not supported in IntelliJ Idea, gives all red lines\n    Optional&lt;Profile&gt; profileMaybe = switch (loginRequest) {\n        case DefaultLogin(int id, Password pw) -&gt; getProfile(new ById(id));\n</code></pre>\n"},{"tags":["java","cordova"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1668700306,"post_id":74478344,"comment_id":131474784,"body_markdown":"The classes from `javax.xml.bind` were removed from the jdk with jdk11. I believe your project still assumes a previous java version is used.","body":"The classes from <code>javax.xml.bind</code> were removed from the jdk with jdk11. I believe your project still assumes a previous java version is used."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1668700336,"post_id":74478344,"comment_id":131474795,"body_markdown":"Does this answer your question? [How to resolve java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException](https://stackoverflow.com/questions/43574426/how-to-resolve-java-lang-noclassdeffounderror-javax-xml-bind-jaxbexception)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/43574426/how-to-resolve-java-lang-noclassdeffounderror-javax-xml-bind-jaxbexception\">How to resolve java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException</a>"},{"owner":{"account_id":21623644,"reputation":17,"user_id":15948273,"display_name":"Pha4g"},"score":0,"creation_date":1668701044,"post_id":74478344,"comment_id":131475091,"body_markdown":"@f1sh sadly no, I tried adding this to my gradle file:\n&quot;\ndependencies {\n    // JAX-B dependencies for JDK 9+\n    implementation &quot;jakarta.xml.bind:jakarta.xml.bind-api:2.3.2&quot;\n    implementation &quot;org.glassfish.jaxb:jaxb-runtime:2.3.2&quot;\n}\n&quot;\nbut I still get the error.","body":"@f1sh sadly no, I tried adding this to my gradle file: &quot; dependencies {     // JAX-B dependencies for JDK 9+     implementation &quot;jakarta.xml.bind:jakarta.xml.bind-api:2.3.2&quot;     implementation &quot;org.glassfish.jaxb:jaxb-runtime:2.3.2&quot; } &quot; but I still get the error."},{"owner":{"account_id":19101378,"reputation":107,"user_id":13949589,"display_name":"Riya Singh"},"score":0,"creation_date":1668779047,"post_id":74478344,"comment_id":131495389,"body_markdown":"have you installed any plugin yet? it won&#39;t work with JDK version beyond 11. Also, upgrade your gradle version and overall android studio ..see the documentation here https://cordova.apache.org/docs/en/latest/guide/platforms/android/index.html","body":"have you installed any plugin yet? it won&#39;t work with JDK version beyond 11. Also, upgrade your gradle version and overall android studio ..see the documentation here <a href=\"https://cordova.apache.org/docs/en/latest/guide/platforms/android/index.html\" rel=\"nofollow noreferrer\">cordova.apache.org/docs/en/latest/guide/platforms/android/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":11056324,"reputation":51,"user_id":8119059,"display_name":"mkspeter3"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668965264,"creation_date":1668965264,"answer_id":74510359,"question_id":74478344,"body_markdown":"With Cordova version 11.0.0, I got it working by downgrading from Java 19 to java 11. [Java Development Kit (JDK)][1]\r\n\r\nYou could try using java version 11 \r\n\r\n\r\n  [1]: https://cordova.apache.org/docs/en/11.x/guide/platforms/android/index.html#the-required-software-&amp;-tools","title":"Can&#39;t build Cordova App due to &quot;Failure: Build failed with an exception&quot;","body":"<p>With Cordova version 11.0.0, I got it working by downgrading from Java 19 to java 11. <a href=\"https://cordova.apache.org/docs/en/11.x/guide/platforms/android/index.html#the-required-software-&amp;-tools\" rel=\"nofollow noreferrer\">Java Development Kit (JDK)</a></p>\n<p>You could try using java version 11</p>\n"}],"owner":{"account_id":21623644,"reputation":17,"user_id":15948273,"display_name":"Pha4g"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":357,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74510359,"answer_count":1,"score":0,"last_activity_date":1668965264,"creation_date":1668700132,"question_id":74478344,"body_markdown":"I have been trying for hours to create a simple cordova project and somehow I cannot get past the building process. After installing all requirements (Java SDK, Gradle, Android Studio) and defining my environment variables I still get this error:\r\n\r\nWhat I did so far:  \r\ncordova create Testproject com.example.hello Testproject  \r\ncd Testproject  \r\ncordova platform add android (10.1.1)\r\n\r\nThen I wanted to check the &quot;cordova requirements&quot; command to check if I set everything up correctly and then this happened:\r\n\r\n```\r\nC:\\Users\\NAME\\Desktop\\TestProject&gt;cordova requirements\r\n\r\nRequirements check results for android:\r\nJava JDK: installed 19.0.1\r\nAndroid SDK: installed true\r\nAndroid target: not installed\r\nCommand failed with exit code 1: avdmanager list target\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema\r\n        at com.android.repository.api.SchemaModule$SchemaModuleVersion.&lt;init&gt;(SchemaModule.java:156)\r\n        at com.android.repository.api.SchemaModule.&lt;init&gt;(SchemaModule.java:75)\r\n        at com.android.sdklib.repository.AndroidSdkHandler.&lt;clinit&gt;(AndroidSdkHandler.java:81)\r\n        at com.android.sdklib.tool.AvdManagerCli.run(AvdManagerCli.java:213)\r\n        at com.android.sdklib.tool.AvdManagerCli.main(AvdManagerCli.java:200)\r\nCaused by: java.lang.ClassNotFoundException: javax.xml.bind.annotation.XmlSchema\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n        ... 5 more\r\nGradle: installed C:\\gradle-6.9.3\\bin\\gradle.BAT\r\nSome of requirements check failed\r\n\r\nC:\\Users\\NAME\\Desktop\\TestProject&gt;cordova build\r\nChecking Java JDK and Android SDK versions\r\nANDROID_SDK_ROOT=undefined (recommended setting)\r\nANDROID_HOME=C:\\Users\\NAME\\AppData\\Local\\Android\\Sdk (DEPRECATED)\r\nUsing Android SDK: C:\\Users\\NAME\\AppData\\Local\\Android\\Sdk\r\nStarting a Gradle Daemon (subsequent builds will be faster)\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* Where:\r\nSettings file &#39;C:\\Users\\NAME\\Desktop\\TestProject\\platforms\\android\\settings.gradle&#39;\r\n\r\n* What went wrong:\r\nCould not compile settings file &#39;C:\\Users\\NAME\\Desktop\\TestProject\\platforms\\android\\settings.gradle&#39;.\r\n&gt; startup failed:\r\n  General error during semantic analysis: Unsupported class file major version 63\r\n```\r\n\r\n**My settings.gradle file:**\r\n\r\n```\r\n// GENERATED FILE - DO NOT EDIT\r\napply from: &quot;cdv-gradle-name.gradle&quot;\r\ninclude &quot;:&quot;\r\ninclude &quot;:CordovaLib&quot;\r\ninclude &quot;:app&quot;\r\n```\r\n\r\n*Java Version: 19.0.1  \r\nCordova Version: 11.0.0  \r\nNPM Version: 7.15.0  \r\nGradle Version: 6.9.3*  \r\n*(If you need anymore information, I am happy to provide them!)*\r\n\r\n**What I did so far:**  \r\ncordova create Testproject com.example.hello Testproject  \r\ncd Testproject  \r\ncordova platform add android (10.1.1)\r\n\r\nThen I wanted to check the &quot;cordova requirements&quot; command to check if I set everything up correctly and then the error from above occured.","title":"Can&#39;t build Cordova App due to &quot;Failure: Build failed with an exception&quot;","body":"<p>I have been trying for hours to create a simple cordova project and somehow I cannot get past the building process. After installing all requirements (Java SDK, Gradle, Android Studio) and defining my environment variables I still get this error:</p>\n<p>What I did so far:<br />\ncordova create Testproject com.example.hello Testproject<br />\ncd Testproject<br />\ncordova platform add android (10.1.1)</p>\n<p>Then I wanted to check the &quot;cordova requirements&quot; command to check if I set everything up correctly and then this happened:</p>\n<pre><code>C:\\Users\\NAME\\Desktop\\TestProject&gt;cordova requirements\n\nRequirements check results for android:\nJava JDK: installed 19.0.1\nAndroid SDK: installed true\nAndroid target: not installed\nCommand failed with exit code 1: avdmanager list target\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema\n        at com.android.repository.api.SchemaModule$SchemaModuleVersion.&lt;init&gt;(SchemaModule.java:156)\n        at com.android.repository.api.SchemaModule.&lt;init&gt;(SchemaModule.java:75)\n        at com.android.sdklib.repository.AndroidSdkHandler.&lt;clinit&gt;(AndroidSdkHandler.java:81)\n        at com.android.sdklib.tool.AvdManagerCli.run(AvdManagerCli.java:213)\n        at com.android.sdklib.tool.AvdManagerCli.main(AvdManagerCli.java:200)\nCaused by: java.lang.ClassNotFoundException: javax.xml.bind.annotation.XmlSchema\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n        ... 5 more\nGradle: installed C:\\gradle-6.9.3\\bin\\gradle.BAT\nSome of requirements check failed\n\nC:\\Users\\NAME\\Desktop\\TestProject&gt;cordova build\nChecking Java JDK and Android SDK versions\nANDROID_SDK_ROOT=undefined (recommended setting)\nANDROID_HOME=C:\\Users\\NAME\\AppData\\Local\\Android\\Sdk (DEPRECATED)\nUsing Android SDK: C:\\Users\\NAME\\AppData\\Local\\Android\\Sdk\nStarting a Gradle Daemon (subsequent builds will be faster)\n\nFAILURE: Build failed with an exception.\n\n* Where:\nSettings file 'C:\\Users\\NAME\\Desktop\\TestProject\\platforms\\android\\settings.gradle'\n\n* What went wrong:\nCould not compile settings file 'C:\\Users\\NAME\\Desktop\\TestProject\\platforms\\android\\settings.gradle'.\n&gt; startup failed:\n  General error during semantic analysis: Unsupported class file major version 63\n</code></pre>\n<p><strong>My settings.gradle file:</strong></p>\n<pre><code>// GENERATED FILE - DO NOT EDIT\napply from: &quot;cdv-gradle-name.gradle&quot;\ninclude &quot;:&quot;\ninclude &quot;:CordovaLib&quot;\ninclude &quot;:app&quot;\n</code></pre>\n<p><em>Java Version: 19.0.1<br />\nCordova Version: 11.0.0<br />\nNPM Version: 7.15.0<br />\nGradle Version: 6.9.3</em><br />\n<em>(If you need anymore information, I am happy to provide them!)</em></p>\n<p><strong>What I did so far:</strong><br />\ncordova create Testproject com.example.hello Testproject<br />\ncd Testproject<br />\ncordova platform add android (10.1.1)</p>\n<p>Then I wanted to check the &quot;cordova requirements&quot; command to check if I set everything up correctly and then the error from above occured.</p>\n"},{"tags":["java","string","append","stringbuilder"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668581770,"creation_date":1668581770,"answer_id":74456332,"question_id":74456223,"body_markdown":"Try to have the [Java API documentation][1] and [StringUtils API documentation][2] at hand so you can decide whether you really need one more dependency (Apache Commons Lang) or if you want to go with the native classes only.\r\n\r\nThere are two aspects you want to keep in mind: Maintainability and performance.\r\nMaintainability means your code is easy to understand and modify.\r\nPerformance wise, you&#39;d have to profile the result to see which solution is faster.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/StringBuilder.html\r\n  [2]: https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/StringUtils.html","title":"StringUtils for StringBuilders?","body":"<p>Try to have the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/StringBuilder.html\" rel=\"nofollow noreferrer\">Java API documentation</a> and <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/StringUtils.html\" rel=\"nofollow noreferrer\">StringUtils API documentation</a> at hand so you can decide whether you really need one more dependency (Apache Commons Lang) or if you want to go with the native classes only.</p>\n<p>There are two aspects you want to keep in mind: Maintainability and performance.\nMaintainability means your code is easy to understand and modify.\nPerformance wise, you'd have to profile the result to see which solution is faster.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668965024,"creation_date":1668965024,"answer_id":74510330,"question_id":74456223,"body_markdown":"To generate a `String` out of many strings or join only a few strings which can be massive in size you need to use either `StringBuilder`, other built-in mechanisms like `String.join()`, `Collectors.joining()`, etc.\r\n\r\nThat allow to avoid creating multiple intermediate copies of the data, which would take place in case of plane string concatenation (because `String` is immutable, and each concatenation result in allocating a new array of bytes in memory and coping the previous data into it).\r\n\r\nRegarding the usage of `StringUtils` from Apache Commons, you can validate any instance of `CharSequence` (`String`, `StringBuilder`, etc.). It is perfectly fine for that purpose.\r\n\r\nBut there&#39;s more to it. Both using and not using a particular library or framework has a cost. On one hand it gives you some advantages by offering some functionality, but on the hand you&#39;re introducing a dependency which has some consequences (dependencies need to be managed, sometimes updating a dependency might entail changing the code, you can also introduce a vulnerability, etc.). So you always have to compare the two costs. It&#39;s always a good idea to have as fewer dependancies in the project as possible.\r\n\r\nIn this particular example I don&#39;t see a reason to utilize `StringUtils` unless you&#39;re not using Apache Commons.\r\n\r\nHere&#39;s an example with standard `String.isBlank()`:\r\n\r\n```\r\nString str = variable.stream()\r\n    .map(e -&gt; thingsToDO((Map&lt;String, Object&gt;) e))\r\n    .collect(Collectors.joining());\r\n        \r\nif (!str.isBlank()) {\r\n    // do the action\r\n}\r\n```","title":"StringUtils for StringBuilders?","body":"<p>To generate a <code>String</code> out of many strings or join only a few strings which can be massive in size you need to use either <code>StringBuilder</code>, other built-in mechanisms like <code>String.join()</code>, <code>Collectors.joining()</code>, etc.</p>\n<p>That allow to avoid creating multiple intermediate copies of the data, which would take place in case of plane string concatenation (because <code>String</code> is immutable, and each concatenation result in allocating a new array of bytes in memory and coping the previous data into it).</p>\n<p>Regarding the usage of <code>StringUtils</code> from Apache Commons, you can validate any instance of <code>CharSequence</code> (<code>String</code>, <code>StringBuilder</code>, etc.). It is perfectly fine for that purpose.</p>\n<p>But there's more to it. Both using and not using a particular library or framework has a cost. On one hand it gives you some advantages by offering some functionality, but on the hand you're introducing a dependency which has some consequences (dependencies need to be managed, sometimes updating a dependency might entail changing the code, you can also introduce a vulnerability, etc.). So you always have to compare the two costs. It's always a good idea to have as fewer dependancies in the project as possible.</p>\n<p>In this particular example I don't see a reason to utilize <code>StringUtils</code> unless you're not using Apache Commons.</p>\n<p>Here's an example with standard <code>String.isBlank()</code>:</p>\n<pre><code>String str = variable.stream()\n    .map(e -&gt; thingsToDO((Map&lt;String, Object&gt;) e))\n    .collect(Collectors.joining());\n        \nif (!str.isBlank()) {\n    // do the action\n}\n</code></pre>\n"}],"owner":{"account_id":17426804,"reputation":296,"user_id":12631570,"display_name":"Grismak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74456332,"answer_count":2,"score":0,"last_activity_date":1668965024,"creation_date":1668581175,"question_id":74456223,"body_markdown":"i am working with a piece of code that have a StringBuilder where i will do an append of some data and then send an email with all the data. Here is the code:\r\n\r\n \r\n\r\n    StringBuilder stringBuild= new StringBuilder();\r\n\r\n           for (int i = 0; i &lt; variable.size(); i++) { //Unknown size, could be quite big\r\n               stringBuild.append(thingsToDO((Map&lt;String, Object&gt;) variable.get(i)));\r\n           }\r\n\r\n           sendEmail(stringBuild);\r\n       \r\n        /**\r\n         * @param stringBuild\r\n         */\r\n        private void enviarEmail(StringBuilder stringBuild)\r\n        {\r\n            if(StringUtils.isNotBlank(stringBuild)) {\r\n                   //Email OK\r\n               } else {\r\n                   //Email with all errors\r\n               }\r\n        }\r\n\r\nIs okay to use the StringUtils library for StringBuilders or there are better methods to work with StringBuilders? \r\n\r\nI don&#180;t have that much experience with StringBuilders so maybe i am missing something, any help is appreciated  \r\n","title":"StringUtils for StringBuilders?","body":"<p>i am working with a piece of code that have a StringBuilder where i will do an append of some data and then send an email with all the data. Here is the code:</p>\n<pre><code>StringBuilder stringBuild= new StringBuilder();\n\n       for (int i = 0; i &lt; variable.size(); i++) { //Unknown size, could be quite big\n           stringBuild.append(thingsToDO((Map&lt;String, Object&gt;) variable.get(i)));\n       }\n\n       sendEmail(stringBuild);\n   \n    /**\n     * @param stringBuild\n     */\n    private void enviarEmail(StringBuilder stringBuild)\n    {\n        if(StringUtils.isNotBlank(stringBuild)) {\n               //Email OK\n           } else {\n               //Email with all errors\n           }\n    }\n</code></pre>\n<p>Is okay to use the StringUtils library for StringBuilders or there are better methods to work with StringBuilders?</p>\n<p>I dont have that much experience with StringBuilders so maybe i am missing something, any help is appreciated</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1668964758,"post_id":74510258,"comment_id":131528641,"body_markdown":"Generally speaking, I think Java&#39;s completable future requires that you call `future.get()` before any future code is executed. (But I&#39;m not an expert.) C.f. https://www.baeldung.com/java-completablefuture","body":"Generally speaking, I think Java&#39;s completable future requires that you call <code>future.get()</code> before any future code is executed. (But I&#39;m not an expert.) C.f. <a href=\"https://www.baeldung.com/java-completablefuture\" rel=\"nofollow noreferrer\">baeldung.com/java-completablefuture</a>"}],"answers":[{"tags":[],"owner":{"account_id":26993821,"reputation":21,"user_id":20556275,"display_name":"Lakshan Fernando"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668964787,"creation_date":1668964787,"answer_id":74510303,"question_id":74510258,"body_markdown":"This is a result of you finishing the incorrect future. To see the `whenComplete` in action, you must obtain a reference to the first step and finish it:\r\n```\r\npublic class TestCompletableFuture {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n\r\n        /** get reference */\r\n        CompletableFuture&lt;Void&gt; future = new CompletableFuture&lt;&gt;();\r\n        \r\n        /** configure the action that to be run when the future is complete */\r\n        CompletableFuture&lt;Void&gt; future2 = future\r\n                .whenComplete((res, exc) -&gt; {\r\n                            System.out.println(&quot;inside handle.&quot;);\r\n                            if (exc != null) {\r\n                                System.out.println(&quot;exception.&quot;);\r\n                            }\r\n                            System.out.println(&quot;completed.&quot;);\r\n                        }\r\n                );\r\n\r\n        future.completeExceptionally(new Exception(&quot;exception&quot;));\r\n        System.out.println(&quot;finished.&quot;);\r\n    }\r\n}\r\n```\r\nThe code is now self-explanatory... Run the `(res, exc) -&gt;` action when the `future` is finished. And simply use `completeExceptionally(...)` on the `future` to bring about that completion.\r\n\r\nAlso to be noted is the exceptional completion of all the aforementioned stages (futures) at this time:\r\n```\r\nSystem.out.println(future.isDone()); // true\r\nSystem.out.println(future2.isDone()); // true\r\n\r\nSystem.out.println(future.isCompletedExceptionally()); // true\r\nSystem.out.println(future2.isCompletedExceptionally()); // true\r\n```","title":"CompletableFuture completion sequence in JAVA","body":"<p>This is a result of you finishing the incorrect future. To see the <code>whenComplete</code> in action, you must obtain a reference to the first step and finish it:</p>\n<pre><code>public class TestCompletableFuture {\n\n    public static void main(String[] args) throws Exception {\n\n        /** get reference */\n        CompletableFuture&lt;Void&gt; future = new CompletableFuture&lt;&gt;();\n        \n        /** configure the action that to be run when the future is complete */\n        CompletableFuture&lt;Void&gt; future2 = future\n                .whenComplete((res, exc) -&gt; {\n                            System.out.println(&quot;inside handle.&quot;);\n                            if (exc != null) {\n                                System.out.println(&quot;exception.&quot;);\n                            }\n                            System.out.println(&quot;completed.&quot;);\n                        }\n                );\n\n        future.completeExceptionally(new Exception(&quot;exception&quot;));\n        System.out.println(&quot;finished.&quot;);\n    }\n}\n</code></pre>\n<p>The code is now self-explanatory... Run the <code>(res, exc) -&gt;</code> action when the <code>future</code> is finished. And simply use <code>completeExceptionally(...)</code> on the <code>future</code> to bring about that completion.</p>\n<p>Also to be noted is the exceptional completion of all the aforementioned stages (futures) at this time:</p>\n<pre><code>System.out.println(future.isDone()); // true\nSystem.out.println(future2.isDone()); // true\n\nSystem.out.println(future.isCompletedExceptionally()); // true\nSystem.out.println(future2.isCompletedExceptionally()); // true\n</code></pre>\n"}],"owner":{"account_id":20761963,"reputation":11,"user_id":15255357,"display_name":"SL Official"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668964787,"creation_date":1668964460,"question_id":74510258,"body_markdown":"I wrote a simple program\r\n\r\n```\r\nimport java.util.concurrent.*;\r\npublic class TestCompletableFuture {\r\n    \r\n    public static void main(String[] args) throws Exception {\r\n        CompletableFuture&lt;Void&gt; future = new CompletableFuture&lt;Void&gt;()\r\n            .whenComplete((res, exc) -&gt; {\r\n                System.out.println(&quot;inside handle.&quot;);\r\n                if (exc != null) {\r\n                    System.out.println(&quot;exception.&quot;);\r\n                }\r\n                System.out.println(&quot;completed.&quot;);\r\n            }\r\n        );\r\n\r\n        future.completeExceptionally(new Exception(&quot;exception&quot;));\r\n        System.out.println(&quot;finished.&quot;);\r\n    }\r\n}\r\n\r\n```\r\nthe output of the code:\r\n```\r\nfinished.\r\n```\r\n\r\nWhen the main thread calls future, my understanding is. The method supplied into CompletableFuture should be called by completeExceptionally(). whenComplete().\r\n\r\nWhy isn&#39;t that the case?\r\n","title":"CompletableFuture completion sequence in JAVA","body":"<p>I wrote a simple program</p>\n<pre><code>import java.util.concurrent.*;\npublic class TestCompletableFuture {\n    \n    public static void main(String[] args) throws Exception {\n        CompletableFuture&lt;Void&gt; future = new CompletableFuture&lt;Void&gt;()\n            .whenComplete((res, exc) -&gt; {\n                System.out.println(&quot;inside handle.&quot;);\n                if (exc != null) {\n                    System.out.println(&quot;exception.&quot;);\n                }\n                System.out.println(&quot;completed.&quot;);\n            }\n        );\n\n        future.completeExceptionally(new Exception(&quot;exception&quot;));\n        System.out.println(&quot;finished.&quot;);\n    }\n}\n\n</code></pre>\n<p>the output of the code:</p>\n<pre><code>finished.\n</code></pre>\n<p>When the main thread calls future, my understanding is. The method supplied into CompletableFuture should be called by completeExceptionally(). whenComplete().</p>\n<p>Why isn't that the case?</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1668960759,"post_id":74509710,"comment_id":131527728,"body_markdown":"For me, it is absolutely unclear how the expected output is calculated from the given input.","body":"For me, it is absolutely unclear how the expected output is calculated from the given input."},{"owner":{"account_id":26218332,"reputation":17,"user_id":19896176,"display_name":"petsurov"},"score":0,"creation_date":1668961079,"post_id":74509710,"comment_id":131527804,"body_markdown":"the file contains the visitor&#39;s entry and exit times, I have to compare each time with the next one, whether they intersect with each other.  If they intersect, then I must display this time and calculate how many visitors were also at that time","body":"the file contains the visitor&#39;s entry and exit times, I have to compare each time with the next one, whether they intersect with each other.  If they intersect, then I must display this time and calculate how many visitors were also at that time"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1668962093,"post_id":74509710,"comment_id":131528037,"body_markdown":"No need to ping me. If I have information to add, I will add it.","body":"No need to ping me. If I have information to add, I will add it."}],"answers":[{"tags":[],"owner":{"account_id":19983122,"reputation":26,"user_id":14645798,"display_name":"Nebulak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668963746,"creation_date":1668963746,"answer_id":74510181,"question_id":74509710,"body_markdown":"Its easy. for obtain the output you wat just do j=i+1 not j=1 because with this you cont the same again in each iteration, to avoid that just do this\r\n\r\n     for (int j = i+1; j &lt; times.size(); j++) \r\n\r\nthen you have the espected output. \r\n","title":"Find the time interval, when there was the greatest number of visitors","body":"<p>Its easy. for obtain the output you wat just do j=i+1 not j=1 because with this you cont the same again in each iteration, to avoid that just do this</p>\n<pre><code> for (int j = i+1; j &lt; times.size(); j++) \n</code></pre>\n<p>then you have the espected output.</p>\n"}],"owner":{"account_id":26218332,"reputation":17,"user_id":19896176,"display_name":"petsurov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74510181,"answer_count":1,"score":0,"last_activity_date":1668963746,"creation_date":1668960365,"question_id":74509710,"body_markdown":"I need to find the time interval in which there was a maximum number of visitors. I take the visit time of each visitor from the file.\r\nFile content example: \r\n```\r\n09:37,09:46\r\n10:00,10:30\r\n10:10,10:40\r\n10:20,10:50\r\n```\r\nExpected output based on the file data above:\r\n```\r\n09:37 - 09:46;1\r\n10:20 - 10:30;3\r\n10:20 - 10:40;2\r\n10:20 - 10:50;1\r\n```\r\nActual result:\r\n```\r\n09:37 - 09:46;1\r\n10:20 - 10:30;4\r\n10:20 - 10:30;4\r\n10:20 - 10:30;4\r\n```\r\nMy code:\r\n```\r\npublic class Algo {\r\n    public void Algo(String pathname) {\r\n        try {\r\n            File myObj = new File(pathname);\r\n            Scanner myReader = new Scanner(myObj);\r\n            ArrayList&lt;String&gt; times = new ArrayList&lt;&gt;();\r\n\r\n            LocalTime entranceTime;\r\n            LocalTime leavingTime;\r\n\r\n            LocalTime currEntrance;\r\n            LocalTime currLeaving;\r\n            int count;\r\n\r\n\r\n            while (myReader.hasNextLine()) {\r\n                String data = myReader.nextLine();\r\n                times.add(data);\r\n            }\r\n            myReader.close();\r\n            System.out.println(times);\r\n\r\n            for (int i = 0; i &lt; times.size(); i++) {\r\n                entranceTime = LocalTime.parse(times.get(i).split(&quot;,&quot;)[0]);\r\n                leavingTime = LocalTime.parse(times.get(i).split(&quot;,&quot;)[1]);\r\n                count = 1;\r\n\r\n                for (int j = 1; j &lt; times.size(); j++) {\r\n                    currEntrance = LocalTime.parse(times.get(j).split(&quot;,&quot;)[0]);\r\n                    currLeaving = LocalTime.parse(times.get(j).split(&quot;,&quot;)[1]);\r\n\r\n                    if (!entranceTime.isAfter(currLeaving) &amp;&amp; !currEntrance.isAfter(leavingTime)) {\r\n                        count++;\r\n                        if (currEntrance.compareTo(entranceTime) &gt;= 0) {\r\n                            entranceTime = currEntrance;\r\n                        }\r\n                        if (currLeaving.compareTo(leavingTime) &lt;= 0) {\r\n                            leavingTime = currLeaving;\r\n                        }\r\n                    }\r\n                }\r\n                System.out.println(entranceTime + &quot; - &quot; + leavingTime + &quot;;&quot; + count);\r\n            }\r\n        } catch (FileNotFoundException e) {\r\n            System.out.println(&quot;An error occurred.&quot;);\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Find the time interval, when there was the greatest number of visitors","body":"<p>I need to find the time interval in which there was a maximum number of visitors. I take the visit time of each visitor from the file.\nFile content example:</p>\n<pre><code>09:37,09:46\n10:00,10:30\n10:10,10:40\n10:20,10:50\n</code></pre>\n<p>Expected output based on the file data above:</p>\n<pre><code>09:37 - 09:46;1\n10:20 - 10:30;3\n10:20 - 10:40;2\n10:20 - 10:50;1\n</code></pre>\n<p>Actual result:</p>\n<pre><code>09:37 - 09:46;1\n10:20 - 10:30;4\n10:20 - 10:30;4\n10:20 - 10:30;4\n</code></pre>\n<p>My code:</p>\n<pre><code>public class Algo {\n    public void Algo(String pathname) {\n        try {\n            File myObj = new File(pathname);\n            Scanner myReader = new Scanner(myObj);\n            ArrayList&lt;String&gt; times = new ArrayList&lt;&gt;();\n\n            LocalTime entranceTime;\n            LocalTime leavingTime;\n\n            LocalTime currEntrance;\n            LocalTime currLeaving;\n            int count;\n\n\n            while (myReader.hasNextLine()) {\n                String data = myReader.nextLine();\n                times.add(data);\n            }\n            myReader.close();\n            System.out.println(times);\n\n            for (int i = 0; i &lt; times.size(); i++) {\n                entranceTime = LocalTime.parse(times.get(i).split(&quot;,&quot;)[0]);\n                leavingTime = LocalTime.parse(times.get(i).split(&quot;,&quot;)[1]);\n                count = 1;\n\n                for (int j = 1; j &lt; times.size(); j++) {\n                    currEntrance = LocalTime.parse(times.get(j).split(&quot;,&quot;)[0]);\n                    currLeaving = LocalTime.parse(times.get(j).split(&quot;,&quot;)[1]);\n\n                    if (!entranceTime.isAfter(currLeaving) &amp;&amp; !currEntrance.isAfter(leavingTime)) {\n                        count++;\n                        if (currEntrance.compareTo(entranceTime) &gt;= 0) {\n                            entranceTime = currEntrance;\n                        }\n                        if (currLeaving.compareTo(leavingTime) &lt;= 0) {\n                            leavingTime = currLeaving;\n                        }\n                    }\n                }\n                System.out.println(entranceTime + &quot; - &quot; + leavingTime + &quot;;&quot; + count);\n            }\n        } catch (FileNotFoundException e) {\n            System.out.println(&quot;An error occurred.&quot;);\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","timezone","datetime-conversion"],"comments":[{"owner":{"account_id":5036078,"reputation":4253,"user_id":4864943,"accept_rate":81,"display_name":"Arjun saini"},"score":0,"creation_date":1668931679,"post_id":74506438,"comment_id":131522636,"body_markdown":"the UTC time at the day start in India (local time 0:00)","body":"the UTC time at the day start in India (local time 0:00)"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1668963597,"creation_date":1668932031,"answer_id":74506565,"question_id":74506438,"body_markdown":"# tl;dr\r\n\r\n```java\r\nLocalDate                                      // Represent a date-only value, without time-of-day, without time zone or offset.\r\n.now( ZoneId.of( &quot;Asia/Kolkata&quot; ) )            // Capture the current date as seen in a particular time zone. For any given moment, the date varies around the globe by time zone. \r\n.atStartOfDay( ZoneId.of( &quot;Asia/Kolkata&quot; ) )   // Determine the first moment of the day. May or may not be 00:00. Returns a `ZonedDateTime` object.\r\n.toInstant()                                   // Adjust to an offset from UTC of zero hours-minutes-seconds. Returns an `Instant` object.\r\n.toString()                                    // Generate text in standard ISO 8601 format. Returns a `String` object, containing formatted text.\r\n```\r\n\r\n&gt;2022-11-19T18:30:00Z\r\n\r\n# Details\r\n\r\nCapture the current date.\r\n\r\n    ZoneId z = ZoneId.of( &quot;Asia/Kolkata&quot; ) ;\r\n    LocalDate today = LocalDate.now( z ) ;\r\n\r\nGet the first moment of that day. Do *not* assume the day starts at 00:00. Some days on some dates in some time zones start at a different time of day such as 01:00. Let *java.time* determine the first moment.\r\n\r\n    ZonedDateTime zdt = today.atStartOfDay( z ) ;\r\n\r\nTo view that same moment through the wall-clock time of UTC (an offset from UTC of zero hours-minutes-seconds), extract an `Instant`. An `Instant` represents a moment, a specific point on the timeline, as seen in UTC.\r\n\r\n    Instant instant = zdt.toInstant() ;\r\n\r\nSee that code run at Ideone.com.\r\n\r\n```none\r\ntoday.toString(): 2022-11-20\r\nzdt.toString(): 2022-11-20T00:00+05:30[Asia/Kolkata]\r\ninstant.toString(): 2022-11-19T18:30:00Z\r\n```\r\n\r\nTo generate text in various formats, use [`OffsetDateTime`][1] rather than [`Instant`][2]. The `Instant` class is a basic building-block class in *java.time*. The `OffsetDateTime` class is more flexible, including features for generating text in formats other than standard ISO 8601 format.\r\n\r\n    OffsetDateTime odt = instant.atOffset( ZoneOffset.UTC ) ;\r\n\r\nTo learn more about generating text, [search Stack Overflow][3] for existing Questions and Answers about [`DateTimeFormatter`][4] class. \r\n    \r\n\r\n\r\n----------\r\n \r\nJava 8+ comes with an implementation of *java.time*. Ditto for Android 26+. For earlier Android, the latest tooling provides most of the *java.time* functionality via API desugaring. \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/OffsetDateTime.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html\r\n  [3]: https://www.bing.com/search?q=site%3AStackOverflow.com%20java%20DateTimeFormatter&amp;search=&amp;form=QBLH&amp;sp=-1&amp;pq=site%3Astackoverflow.com%20java%20datetimeformatter&amp;sc=0-45&amp;qs=n&amp;sk=&amp;cvid=452BC129497642849DD0BF33AE65D3CD&amp;ghsh=0&amp;ghacc=0&amp;ghpl=\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html","title":"How to get the Start of day and End of Day in UTC Conversation","body":"<h1>tl;dr</h1>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDate                                      // Represent a date-only value, without time-of-day, without time zone or offset.\n.now( ZoneId.of( &quot;Asia/Kolkata&quot; ) )            // Capture the current date as seen in a particular time zone. For any given moment, the date varies around the globe by time zone. \n.atStartOfDay( ZoneId.of( &quot;Asia/Kolkata&quot; ) )   // Determine the first moment of the day. May or may not be 00:00. Returns a `ZonedDateTime` object.\n.toInstant()                                   // Adjust to an offset from UTC of zero hours-minutes-seconds. Returns an `Instant` object.\n.toString()                                    // Generate text in standard ISO 8601 format. Returns a `String` object, containing formatted text.\n</code></pre>\n<blockquote>\n<p>2022-11-19T18:30:00Z</p>\n</blockquote>\n<h1>Details</h1>\n<p>Capture the current date.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;Asia/Kolkata&quot; ) ;\nLocalDate today = LocalDate.now( z ) ;\n</code></pre>\n<p>Get the first moment of that day. Do <em>not</em> assume the day starts at 00:00. Some days on some dates in some time zones start at a different time of day such as 01:00. Let <em>java.time</em> determine the first moment.</p>\n<pre><code>ZonedDateTime zdt = today.atStartOfDay( z ) ;\n</code></pre>\n<p>To view that same moment through the wall-clock time of UTC (an offset from UTC of zero hours-minutes-seconds), extract an <code>Instant</code>. An <code>Instant</code> represents a moment, a specific point on the timeline, as seen in UTC.</p>\n<pre><code>Instant instant = zdt.toInstant() ;\n</code></pre>\n<p>See that code run at Ideone.com.</p>\n<pre class=\"lang-none prettyprint-override\"><code>today.toString(): 2022-11-20\nzdt.toString(): 2022-11-20T00:00+05:30[Asia/Kolkata]\ninstant.toString(): 2022-11-19T18:30:00Z\n</code></pre>\n<p>To generate text in various formats, use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/OffsetDateTime.html\" rel=\"nofollow noreferrer\"><code>OffsetDateTime</code></a> rather than <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html\" rel=\"nofollow noreferrer\"><code>Instant</code></a>. The <code>Instant</code> class is a basic building-block class in <em>java.time</em>. The <code>OffsetDateTime</code> class is more flexible, including features for generating text in formats other than standard ISO 8601 format.</p>\n<pre><code>OffsetDateTime odt = instant.atOffset( ZoneOffset.UTC ) ;\n</code></pre>\n<p>To learn more about generating text, <a href=\"https://www.bing.com/search?q=site%3AStackOverflow.com%20java%20DateTimeFormatter&amp;search=&amp;form=QBLH&amp;sp=-1&amp;pq=site%3Astackoverflow.com%20java%20datetimeformatter&amp;sc=0-45&amp;qs=n&amp;sk=&amp;cvid=452BC129497642849DD0BF33AE65D3CD&amp;ghsh=0&amp;ghacc=0&amp;ghpl=\" rel=\"nofollow noreferrer\">search Stack Overflow</a> for existing Questions and Answers about <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\"><code>DateTimeFormatter</code></a> class.</p>\n<hr />\n<p>Java 8+ comes with an implementation of <em>java.time</em>. Ditto for Android 26+. For earlier Android, the latest tooling provides most of the <em>java.time</em> functionality via API desugaring.</p>\n"}],"owner":{"account_id":5036078,"reputation":4253,"user_id":4864943,"accept_rate":81,"display_name":"Arjun saini"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":955,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668963597,"creation_date":1668930647,"question_id":74506438,"body_markdown":"Hello I am trying to Start of Day \r\n\r\nLike in India TimeZone\r\n\r\n - **Start of Day is: 2022-11-20 00:00:00 (local time in India)**\r\n - **In UTC: 2022-11-20 05:30:00 PM** ","title":"How to get the Start of day and End of Day in UTC Conversation","body":"<p>Hello I am trying to Start of Day</p>\n<p>Like in India TimeZone</p>\n<ul>\n<li><strong>Start of Day is: 2022-11-20 00:00:00 (local time in India)</strong></li>\n<li><strong>In UTC: 2022-11-20 05:30:00 PM</strong></li>\n</ul>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1471789156,"post_id":39065112,"comment_id":65478972,"body_markdown":"My solution to this would be to not use separate schemas for each tenant.  Could you clue us in as to why each tenant requires a separate schema?","body":"My solution to this would be to not use separate schemas for each tenant.  Could you clue us in as to why each tenant requires a separate schema?"}],"answers":[{"tags":[],"owner":{"account_id":7723307,"reputation":3631,"user_id":5848808,"display_name":"Boris Schegolev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471794508,"creation_date":1471794508,"answer_id":39066025,"question_id":39065112,"body_markdown":"First, use a cleanup procedure. Strip all chars except for alphanumeric and underscore, and limit the lenght.\r\n\r\nSecond, wrap the name in backward apostrophes. That should give you the desired result.","title":"Safely create new schemas for multi-tenant database","body":"<p>First, use a cleanup procedure. Strip all chars except for alphanumeric and underscore, and limit the lenght.</p>\n\n<p>Second, wrap the name in backward apostrophes. That should give you the desired result.</p>\n"}],"owner":{"account_id":2562129,"reputation":5879,"user_id":2223059,"accept_rate":38,"display_name":"craigmiller160"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668963543,"creation_date":1471788491,"question_id":39065112,"body_markdown":"I&#39;m creating a multi-tenant database, where each tenant will have their own schema. I&#39;m using Java JDBC &amp; MySQL. When a new tenant signs up, the name they assign for their group becomes the schema name.\r\n\r\nMy challenge is how to do this without having SQL injection. Apparently you can&#39;t parameterize create schema statements, like this:\r\n\r\n    create schema ?\r\n\r\nIf I allow the name in the string to just be placed at the end of that statement, I open a ginormous security hole for SQL injection. So I&#39;m just wondering what the best approach is here.\r\n\r\nMy best guess is to have the schema names not actually be the group names, but create them through an internal process. Something along the lines of (groupId + firstThreeLettersOfName). But I&#39;m open to ideas.\r\n","title":"Safely create new schemas for multi-tenant database","body":"<p>I'm creating a multi-tenant database, where each tenant will have their own schema. I'm using Java JDBC &amp; MySQL. When a new tenant signs up, the name they assign for their group becomes the schema name.</p>\n<p>My challenge is how to do this without having SQL injection. Apparently you can't parameterize create schema statements, like this:</p>\n<pre><code>create schema ?\n</code></pre>\n<p>If I allow the name in the string to just be placed at the end of that statement, I open a ginormous security hole for SQL injection. So I'm just wondering what the best approach is here.</p>\n<p>My best guess is to have the schema names not actually be the group names, but create them through an internal process. Something along the lines of (groupId + firstThreeLettersOfName). But I'm open to ideas.</p>\n"},{"tags":["java","big-o"],"comments":[{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":6,"creation_date":1668954698,"post_id":74508956,"comment_id":131526443,"body_markdown":"in a word: yes.","body":"in a word: yes."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1668956873,"post_id":74508956,"comment_id":131526930,"body_markdown":"By &quot;largest order of magnitude&quot;, note it can be deceiving: `O(n log n)` vs `O(n ^ 2)` might not be immediately apparent (unless you see tricks like dividing `n` on both sides, and seeing `O(log n) &lt; O(n)`). A consistent approach is the limit law: for functions `f(n)` and `g(n)`: take `lim (n-&gt;inf) of (f/g) = z`. If `z=inf`, then `O(f) &gt; O(g)`. If `z=0`, then `O(f) &lt; O(g)`. Otherwise, `O(f) = O(g)` (with scaling factors).","body":"By &quot;largest order of magnitude&quot;, note it can be deceiving: <code>O(n log n)</code> vs <code>O(n ^ 2)</code> might not be immediately apparent (unless you see tricks like dividing <code>n</code> on both sides, and seeing <code>O(log n) &lt; O(n)</code>). A consistent approach is the limit law: for functions <code>f(n)</code> and <code>g(n)</code>: take <code>lim (n-&gt;inf) of (f&#47;g) = z</code>. If <code>z=inf</code>, then <code>O(f) &gt; O(g)</code>. If <code>z=0</code>, then <code>O(f) &lt; O(g)</code>. Otherwise, <code>O(f) = O(g)</code> (with scaling factors)."}],"answers":[{"tags":[],"owner":{"account_id":24012550,"reputation":17,"user_id":17995945,"display_name":"Sethu Priya"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1668956529,"creation_date":1668956529,"answer_id":74509222,"question_id":74508956,"body_markdown":"The best approach to calculating Time Complexity is to understand how the algorithm works and count the operations. The way you approached the time complexity for the above-mentioned problems is correct.\r\n\r\nIf you still have any confusion, refer to this blog from Medium\r\nhttps://medium.com/dataseries/how-to-calculate-time-complexity-with-big-o-notation-9afe33aa4c46 ","title":"How to add Big Oh expressions?","body":"<p>The best approach to calculating Time Complexity is to understand how the algorithm works and count the operations. The way you approached the time complexity for the above-mentioned problems is correct.</p>\n<p>If you still have any confusion, refer to this blog from Medium\n<a href=\"https://medium.com/dataseries/how-to-calculate-time-complexity-with-big-o-notation-9afe33aa4c46\" rel=\"nofollow noreferrer\">https://medium.com/dataseries/how-to-calculate-time-complexity-with-big-o-notation-9afe33aa4c46</a></p>\n"}],"owner":{"account_id":26992625,"reputation":11,"user_id":20555277,"display_name":"greenApple23"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1668962973,"creation_date":1668954583,"question_id":74508956,"body_markdown":"Sorry for the super basic question! I have the following methods and need to determine the run time analysis in terms of n. [enter image description here](https://i.stack.imgur.com/ffDUK.png)\r\n\r\n\r\nFor the above problems, I determined the following expressions:\r\n     1A. O(1)+O(n)+O(n^2) = O(n^2)\r\n     1B. O(1)+O(n)+O(25) = O(n)\r\nTo find the final answer, do I just follow the largest order of magnitude? And does this look correct to the picture?\r\n\r\n","title":"How to add Big Oh expressions?","body":"<p>Sorry for the super basic question! I have the following methods and need to determine the run time analysis in terms of n. <a href=\"https://i.stack.imgur.com/ffDUK.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>For the above problems, I determined the following expressions:\n1A. O(1)+O(n)+O(n^2) = O(n^2)\n1B. O(1)+O(n)+O(25) = O(n)\nTo find the final answer, do I just follow the largest order of magnitude? And does this look correct to the picture?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1668961396,"post_id":74509850,"comment_id":131527858,"body_markdown":"Please read: [Why not upload images of code/errors when asking a question?](https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question)","body":"Please read: <a href=\"https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question\">Why not upload images of code/errors when asking a question?</a>"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1668961487,"post_id":74509850,"comment_id":131527880,"body_markdown":"&quot;*How*&quot; is but the form, following the function of &quot;*Why*&quot;. So **why** do you want to remove the `0`s when displaying the array?","body":"&quot;<i>How</i>&quot; is but the form, following the function of &quot;<i>Why</i>&quot;. So <b>why</b> do you want to remove the <code>0</code>s when displaying the array?"},{"owner":{"account_id":26213183,"reputation":5,"user_id":19891678,"display_name":"Johann"},"score":0,"creation_date":1668961576,"post_id":74509850,"comment_id":131527894,"body_markdown":"I&#39;m removing the zero&#39;s to make the output look more accurately like the example of the problem given","body":"I&#39;m removing the zero&#39;s to make the output look more accurately like the example of the problem given"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1668961741,"post_id":74509850,"comment_id":131527939,"body_markdown":"Arrays are index-based. Removing values when displaying the array means that we are not able to deduce from the output at what index a value actually was. This is, in my opinion, the exact opposite of accuracy: it is a form of obfuscation.","body":"Arrays are index-based. Removing values when displaying the array means that we are not able to deduce from the output at what index a value actually was. This is, in my opinion, the exact opposite of accuracy: it is a form of obfuscation."},{"owner":{"account_id":26213183,"reputation":5,"user_id":19891678,"display_name":"Johann"},"score":0,"creation_date":1668962176,"post_id":74509850,"comment_id":131528061,"body_markdown":"I see thank you. I think maybe I would just manually remove the 0&#39;s by doing a conditional each time the loop iterates.","body":"I see thank you. I think maybe I would just manually remove the 0&#39;s by doing a conditional each time the loop iterates."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1668962208,"post_id":74509850,"comment_id":131528068,"body_markdown":"I suggest you use a debugger, and trace what happens during the `for` loop in `Checker`.","body":"I suggest you use a debugger, and trace what happens during the <code>for</code> loop in <code>Checker</code>."}],"answers":[{"tags":[],"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668962139,"creation_date":1668962139,"answer_id":74509962,"question_id":74509850,"body_markdown":"So arrays are good for fixed-length data, where you know in advance how much there&#39;s going to be. In your case, you don&#39;t know in advance how much &quot;real&quot; data will go in your hot/cold/pleasant arrays. Instead of filling them in with the data you do have, in the real world you would use another data structure (like an `ArrayList`). \r\n\r\nIf you absolutely have to use arrays, then you&#39;d want to first loop over the input array once to learn how many of each there are, initialize `hot`/etc arrays of the appropriate size, then loop through again to assign them. You would not be able to just assign to the same index as you had from the input array though - you&#39;d instead want to keep track of the next open space in the `hot` (or whatever) array, and each time write to and then increment that counter.","title":"How do you remove the 0s inside an array?","body":"<p>So arrays are good for fixed-length data, where you know in advance how much there's going to be. In your case, you don't know in advance how much &quot;real&quot; data will go in your hot/cold/pleasant arrays. Instead of filling them in with the data you do have, in the real world you would use another data structure (like an <code>ArrayList</code>).</p>\n<p>If you absolutely have to use arrays, then you'd want to first loop over the input array once to learn how many of each there are, initialize <code>hot</code>/etc arrays of the appropriate size, then loop through again to assign them. You would not be able to just assign to the same index as you had from the input array though - you'd instead want to keep track of the next open space in the <code>hot</code> (or whatever) array, and each time write to and then increment that counter.</p>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668962537,"creation_date":1668962537,"answer_id":74510005,"question_id":74509850,"body_markdown":"You need to use `H`, `P`, `C` as separate indexes for `hot`, `pleasant`, `cold` arrays while populating the arrays and possibly apply `Arrays.copyOf` to get rid of zeroes in the tail of those arrays.\r\n\r\nAlso, there are edge cases to be fixed with setting the temperature type.\r\n```java\r\nstatic void Checker (int temp[]) {\r\n    int[] hot = new int[temp.length]; \r\n    int[] pleasant = new int[temp.length]; \r\n    int[] cold = new int[temp.length];\r\n\r\n    int H = 0; int P = 0; int C = 0;\r\n    for (int i = 0; i &lt; temp.length; i++) {\r\n        if (temp[i] &gt;= 85) {\r\n            hot[H++] = temp[i]; \r\n        }\r\n        else if (temp[i] &gt;= 60) {\r\n            pleasant[P++] = temp[i];\r\n        }\r\n        else {\r\n            cold[C++] = temp[i];\r\n        }\r\n    }\r\n    if (H &lt; hot.length) hot = Arrays.copyOf(hot, H);\r\n    if (P &lt; pleasant.length) pleasant = Arrays.copyOf(pleasant, P);\r\n    if (C &lt; cold.length) cold = Arrays.copyOf(cold, C);\r\n\r\n    System.out.println(&quot;number of hot: &quot;+ H + &quot;, Recorded temps are: &quot; + Arrays.toString(hot) );\r\n    System.out.println(&quot;number of cold: &quot;+ C + &quot;, Recorded temps are: &quot; + Arrays.toString(cold));\r\n    System.out.println(&quot;number of pleasant: &quot;+ P + &quot;, Recorded temps are: &quot; + Arrays.toString(pleasant));\r\n}\r\n```\r\n","title":"How do you remove the 0s inside an array?","body":"<p>You need to use <code>H</code>, <code>P</code>, <code>C</code> as separate indexes for <code>hot</code>, <code>pleasant</code>, <code>cold</code> arrays while populating the arrays and possibly apply <code>Arrays.copyOf</code> to get rid of zeroes in the tail of those arrays.</p>\n<p>Also, there are edge cases to be fixed with setting the temperature type.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static void Checker (int temp[]) {\n    int[] hot = new int[temp.length]; \n    int[] pleasant = new int[temp.length]; \n    int[] cold = new int[temp.length];\n\n    int H = 0; int P = 0; int C = 0;\n    for (int i = 0; i &lt; temp.length; i++) {\n        if (temp[i] &gt;= 85) {\n            hot[H++] = temp[i]; \n        }\n        else if (temp[i] &gt;= 60) {\n            pleasant[P++] = temp[i];\n        }\n        else {\n            cold[C++] = temp[i];\n        }\n    }\n    if (H &lt; hot.length) hot = Arrays.copyOf(hot, H);\n    if (P &lt; pleasant.length) pleasant = Arrays.copyOf(pleasant, P);\n    if (C &lt; cold.length) cold = Arrays.copyOf(cold, C);\n\n    System.out.println(&quot;number of hot: &quot;+ H + &quot;, Recorded temps are: &quot; + Arrays.toString(hot) );\n    System.out.println(&quot;number of cold: &quot;+ C + &quot;, Recorded temps are: &quot; + Arrays.toString(cold));\n    System.out.println(&quot;number of pleasant: &quot;+ P + &quot;, Recorded temps are: &quot; + Arrays.toString(pleasant));\n}\n</code></pre>\n"}],"owner":{"account_id":26213183,"reputation":5,"user_id":19891678,"display_name":"Johann"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74509962,"answer_count":2,"score":1,"last_activity_date":1668962537,"creation_date":1668961332,"question_id":74509850,"body_markdown":"I am trying to display the values inside an array but there are these 0&#39;s that come with it. Using a for loop to count the number of temperature and the temperature&#39;s value with it.\r\n\r\nThis is the code that I used:\r\n\r\n    import java.util.*;\r\n\r\n    public class Array1dTemperature {\r\n    \tstatic Scanner in = new Scanner (System.in);\r\n    \tstatic Random rng = new Random ();\r\n    \tpublic static void main(String[] args) \r\n    \t{\r\n    \t\tSystem.out.println(&quot;This program does a temperature check.&quot;);\r\n    \t\tSystem.out.println(&quot;Input the desired number of temperatures...&quot;);\r\n    \t\tint size = in.nextInt();\r\n    \t\tint[] temp = new int [size];\r\n    \t\t\tfor (int i=0; i&lt;temp.length; i++)\r\n    \t\t\t\ttemp[i] = 1+rng.nextInt(100);\r\n    \t\tSystem.out.println(&quot;The data file goes as: &quot; + Arrays.toString(temp));\r\n    \t\tChecker(temp);\r\n    \t}\r\n\r\n    \tstatic void Checker (int temp[])\r\n    \t{\r\n    \t\tint hot[] = new int [10] ; int []pleasant = new int [10]; int []cold  = new int [10];\r\n    \t\tint H = 0; int P = 0; int C = 0;\r\n    \t\tfor (int i=0; i&lt;temp.length;i++) {\r\n    \t\t\tif (temp[i]&gt;=85) { \r\n    \t\t\t\thot[i] = temp[i];\r\n    \t\t\t\tH++;\r\n    \t\t\t}\r\n    \t\t\telse if (temp[i]&gt;=60&amp;&amp;temp[i]&lt;84) {\r\n    \t\t\t\tpleasant[i] = temp[i];\r\n    \t\t\t\tP++;\r\n    \t\t\t}\r\n    \t\t\telse if (temp[i]&lt;60) {\r\n    \t\t\t\tcold[i] = temp[i];\r\n    \t\t\t\tC++;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;number of hot: &quot;+ H + &quot;, Recorded temps are: &quot; + Arrays.toString(hot) );\r\n    \t\tSystem.out.println(&quot;number of cold: &quot;+ C + &quot;, Recorded temps are: &quot; + Arrays.toString(cold));\r\n    \t\tSystem.out.println(&quot;number of pleasant: &quot;+ P + &quot;, Recorded temps are: &quot; + Arrays.toString(pleasant));\r\n    \t}\r\n    }\r\n\r\nI tried changing the values of the individual arrays themselves but it becomes out of bounds whenever I try to print the output. I could&#39;ve used &quot;Arraylist&quot; to update the arrays but this specific exercise problem prohibits the used of such.\r\n\r\n[This is the Output][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/omuDt.png","title":"How do you remove the 0s inside an array?","body":"<p>I am trying to display the values inside an array but there are these 0's that come with it. Using a for loop to count the number of temperature and the temperature's value with it.</p>\n<p>This is the code that I used:</p>\n<pre><code>import java.util.*;\n\npublic class Array1dTemperature {\n    static Scanner in = new Scanner (System.in);\n    static Random rng = new Random ();\n    public static void main(String[] args) \n    {\n        System.out.println(&quot;This program does a temperature check.&quot;);\n        System.out.println(&quot;Input the desired number of temperatures...&quot;);\n        int size = in.nextInt();\n        int[] temp = new int [size];\n            for (int i=0; i&lt;temp.length; i++)\n                temp[i] = 1+rng.nextInt(100);\n        System.out.println(&quot;The data file goes as: &quot; + Arrays.toString(temp));\n        Checker(temp);\n    }\n\n    static void Checker (int temp[])\n    {\n        int hot[] = new int [10] ; int []pleasant = new int [10]; int []cold  = new int [10];\n        int H = 0; int P = 0; int C = 0;\n        for (int i=0; i&lt;temp.length;i++) {\n            if (temp[i]&gt;=85) { \n                hot[i] = temp[i];\n                H++;\n            }\n            else if (temp[i]&gt;=60&amp;&amp;temp[i]&lt;84) {\n                pleasant[i] = temp[i];\n                P++;\n            }\n            else if (temp[i]&lt;60) {\n                cold[i] = temp[i];\n                C++;\n            }\n        }\n        System.out.println(&quot;number of hot: &quot;+ H + &quot;, Recorded temps are: &quot; + Arrays.toString(hot) );\n        System.out.println(&quot;number of cold: &quot;+ C + &quot;, Recorded temps are: &quot; + Arrays.toString(cold));\n        System.out.println(&quot;number of pleasant: &quot;+ P + &quot;, Recorded temps are: &quot; + Arrays.toString(pleasant));\n    }\n}\n</code></pre>\n<p>I tried changing the values of the individual arrays themselves but it becomes out of bounds whenever I try to print the output. I could've used &quot;Arraylist&quot; to update the arrays but this specific exercise problem prohibits the used of such.</p>\n<p><a href=\"https://i.stack.imgur.com/omuDt.png\" rel=\"nofollow noreferrer\">This is the Output</a></p>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1668939570,"post_id":74507193,"comment_id":131523771,"body_markdown":"Why are you calling `main(null)` at the end of `ms_calc`? Java calls `main` to start your program, you don&#39;t normally call `main` yourself.","body":"Why are you calling <code>main(null)</code> at the end of <code>ms_calc</code>? Java calls <code>main</code> to start your program, you don&#39;t normally call <code>main</code> yourself."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668941944,"creation_date":1668941944,"answer_id":74507489,"question_id":74507193,"body_markdown":"&gt; I know you should always close your scanner once you are done using it\r\n\r\nNo, this is entirely incorrect. You should __NOT__ close the scanner.\r\n\r\nThe problem is: _Resources_ should be closed, however, there is one particular kind of object, called a &#39;filter resource&#39;, which is sort of half a resource and half not. Hence, &#39;should the code close it&#39; is a difficult question that automated linting tools generally cannot properly answer. Unfortunately, they try, and therefore, sometimes get it wrong. This is one of those cases.\r\n\r\nfilter streams &#39;wrap&#39; an _actual_ resource. For the purposes of avoiding running out of OS-level file handles and the like, they do not themselves contain any such things so they don&#39;t need to be closed (however, the thing they wrap is likely to be a system resource that should be). Filters can (and usually do) cache values, so you do need to at least flush them - and closing them flushes them, so in general it&#39;s just more convenient to close the filterstream (which also closes the underlying data stream), and the tools in your IDE that mark off that you&#39;re failing to properly close a resource prefer not to have to bother with drawing a difference between read ops (Stream) and write ops. &#39;flush the line&#39; obviously does not apply to read ops.\r\n\r\nGetting back to true resources (the things that a Scanner would wrap) - there is such a thing as _who is responsible_ for closing it. Which is: The one who made it.\r\n\r\n__You did not make `System.in`__ -- therefore, you must not close it. Therefore, if you have a filterstream that you made that wraps around a stream you did not make, you shouldn&#39;t close that either.\r\n\r\nConclusion: `new Scanner(System.in)` must not be closed. Yes, it is highly unfortunate that IDEs mess up and sometimes overzealously tell you you should. You should never close System.in unless you specifically require this because you are implementing a tool that uses &#39;closing sysin&#39; as a signal to the process that feeds data to yours, a messaging mechanism that is not recommended at all.\r\n\r\nA few further notes on your code:\r\n\r\n* In java, we writeMethodNamesLikeThis, not_like_this. We write locals the same way (so, `x`, not `X`). The langspec doesn&#39;t require you do this, but all tutorials and 99.99% of java programmers do it that way. Not following suit means everybody will get confused reading your code and code you read or work on written by others confuses you.\r\n* Calling `main(null)` means you set up a recursive process that never ends. Enough loops and your code will crash with a `StackOverflowError` (wanna test it? Temporarily replace the `.nextInt()` call in your getUserInput method with returning a constant and remark out the `.nextLine()` line, run it, and watch it explode after a few thousand loops). The proper way to render a main menu that repeats is to use a `while` loop or `do {} while` loop, not to invoke your own method.\r\n* To ensure a thing is closed, you&#39;d use `try-finally` the way you do in your `getUserInput` method, or, there&#39;s a simpler construct for this:\r\n\r\n```\r\ntry (Scanner s = new Scanner(System.in)) {\r\n  // code using &#39;s&#39; here\r\n}\r\n```\r\n\r\nThis generates code such that, no matter how code exits this block (via `return;`, by `break;` ing a loop that wraps around this code, or by throwing an exception, or by just running to the end and &#39;falling out&#39;, doesn&#39;t matter) - `s.close()` is called. Now, you should not do this to this code as scanner should not be closed, but _for next time_ you open a real resource that really does require closing, that&#39;s how you do it. You don&#39;t `resource.close();` at all, you use try-with, as above.\r\n","title":"Java closing the scanner but still an error","body":"<blockquote>\n<p>I know you should always close your scanner once you are done using it</p>\n</blockquote>\n<p>No, this is entirely incorrect. You should <strong>NOT</strong> close the scanner.</p>\n<p>The problem is: <em>Resources</em> should be closed, however, there is one particular kind of object, called a 'filter resource', which is sort of half a resource and half not. Hence, 'should the code close it' is a difficult question that automated linting tools generally cannot properly answer. Unfortunately, they try, and therefore, sometimes get it wrong. This is one of those cases.</p>\n<p>filter streams 'wrap' an <em>actual</em> resource. For the purposes of avoiding running out of OS-level file handles and the like, they do not themselves contain any such things so they don't need to be closed (however, the thing they wrap is likely to be a system resource that should be). Filters can (and usually do) cache values, so you do need to at least flush them - and closing them flushes them, so in general it's just more convenient to close the filterstream (which also closes the underlying data stream), and the tools in your IDE that mark off that you're failing to properly close a resource prefer not to have to bother with drawing a difference between read ops (Stream) and write ops. 'flush the line' obviously does not apply to read ops.</p>\n<p>Getting back to true resources (the things that a Scanner would wrap) - there is such a thing as <em>who is responsible</em> for closing it. Which is: The one who made it.</p>\n<p><strong>You did not make <code>System.in</code></strong> -- therefore, you must not close it. Therefore, if you have a filterstream that you made that wraps around a stream you did not make, you shouldn't close that either.</p>\n<p>Conclusion: <code>new Scanner(System.in)</code> must not be closed. Yes, it is highly unfortunate that IDEs mess up and sometimes overzealously tell you you should. You should never close System.in unless you specifically require this because you are implementing a tool that uses 'closing sysin' as a signal to the process that feeds data to yours, a messaging mechanism that is not recommended at all.</p>\n<p>A few further notes on your code:</p>\n<ul>\n<li>In java, we writeMethodNamesLikeThis, not_like_this. We write locals the same way (so, <code>x</code>, not <code>X</code>). The langspec doesn't require you do this, but all tutorials and 99.99% of java programmers do it that way. Not following suit means everybody will get confused reading your code and code you read or work on written by others confuses you.</li>\n<li>Calling <code>main(null)</code> means you set up a recursive process that never ends. Enough loops and your code will crash with a <code>StackOverflowError</code> (wanna test it? Temporarily replace the <code>.nextInt()</code> call in your getUserInput method with returning a constant and remark out the <code>.nextLine()</code> line, run it, and watch it explode after a few thousand loops). The proper way to render a main menu that repeats is to use a <code>while</code> loop or <code>do {} while</code> loop, not to invoke your own method.</li>\n<li>To ensure a thing is closed, you'd use <code>try-finally</code> the way you do in your <code>getUserInput</code> method, or, there's a simpler construct for this:</li>\n</ul>\n<pre><code>try (Scanner s = new Scanner(System.in)) {\n  // code using 's' here\n}\n</code></pre>\n<p>This generates code such that, no matter how code exits this block (via <code>return;</code>, by <code>break;</code> ing a loop that wraps around this code, or by throwing an exception, or by just running to the end and 'falling out', doesn't matter) - <code>s.close()</code> is called. Now, you should not do this to this code as scanner should not be closed, but <em>for next time</em> you open a real resource that really does require closing, that's how you do it. You don't <code>resource.close();</code> at all, you use try-with, as above.</p>\n"}],"owner":{"account_id":26990729,"reputation":3,"user_id":20553665,"display_name":"Rivera"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74507489,"answer_count":1,"score":0,"last_activity_date":1668962522,"creation_date":1668938949,"question_id":74507193,"body_markdown":"Im fairly new to java and I wanted to create a BPM to Millisecond convertor for my guitar delay pedal as just a fun little side project. I know you should always close your scanner once you are done using it but my code will not work if it is closing.\r\n\r\n```java\r\npublic static void main(String[] args) {\r\nms_calc();\r\n}\r\n\r\n    public static void ms_calc () {\r\n    \tScanner scanbpm = new Scanner(System.in);\r\n    \tSystem.out.println(&quot;What is your BPM?&quot;);\r\n    \tint bpm = get_user_int (scanbpm,1,2300);\r\n    \tdouble mS1 = Math.round((bpm*100)/6)*4;  \r\n    \tdouble mS2 = Math.round((bpm*100)/6)*2; \r\n    \tint mS1R = (int)mS1;//casting doubles as ints\r\n    \tint mS2R = (int)mS2;\r\n    \tSystem.out.println(&quot;____________________________________&quot;);\r\n    \tSystem.out.println();\r\n    \tSystem.out.println(&quot;Whole : &quot; + mS1R + &quot; ms&quot;);\r\n    \tSystem.out.println();\r\n    \tSystem.out.println(&quot;1/2 : &quot; + mS2R+ &quot; ms&quot;);\r\n    \tfor (int X = 1; X &lt; 9; X = X * 2) {\r\n    \t\tdouble mS = Math.round((60000.00/X)/bpm);\r\n    \t\tint Y = X * 4;\r\n    \t\tint mSR = (int)mS;\r\n    \t\tSystem.out.println();\r\n    \t\tSystem.out.println(&quot;1/&quot; +Y + &quot; : &quot;+ mSR+ &quot; ms&quot;);\r\n    \t}\r\n    \r\n    \tSystem.out.println(&quot;____________________________________&quot;);\r\n    \tSystem.out.println();\r\n                scanbpm.close();\r\n    \tmain(null);\r\n    }\r\n    \r\n    public static int get_user_int(Scanner scan, int min, int max) {\r\n    \tint user_input  = min - 1;        \r\n    \tboolean keep_asking = true;//boolean to regulate the while loop        \r\n    \twhile(keep_asking || user_input &lt; min || user_input &gt; max) { \r\n    \t\ttry {//try this code not sure it&#39;s going to work\r\n    \t\t\tuser_input=scan.nextInt();\r\n    \t\t\tkeep_asking = false;\r\n    \t\t}catch(Exception e) { \r\n    \t\t\tSystem.out.println(&quot;Invalid input.&quot;);                 \r\n    \t\t}finally {\r\n    \t\t\tscan.nextLine(); \r\n    \t\t}            \r\n    \t}\r\n    \tSystem.out.println(user_input);\r\n    \treturn user_input;\r\n    }\r\n```\r\nThe get_user_int was made in class and work in every other project I have made. Eclipse runs an error on line 1651 saying no line found. My only guess is that it would have to be something with the main(null); but I have a scanner and main(null); running in the same method and it works fine there. ","title":"Java closing the scanner but still an error","body":"<p>Im fairly new to java and I wanted to create a BPM to Millisecond convertor for my guitar delay pedal as just a fun little side project. I know you should always close your scanner once you are done using it but my code will not work if it is closing.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\nms_calc();\n}\n\n    public static void ms_calc () {\n        Scanner scanbpm = new Scanner(System.in);\n        System.out.println(&quot;What is your BPM?&quot;);\n        int bpm = get_user_int (scanbpm,1,2300);\n        double mS1 = Math.round((bpm*100)/6)*4;  \n        double mS2 = Math.round((bpm*100)/6)*2; \n        int mS1R = (int)mS1;//casting doubles as ints\n        int mS2R = (int)mS2;\n        System.out.println(&quot;____________________________________&quot;);\n        System.out.println();\n        System.out.println(&quot;Whole : &quot; + mS1R + &quot; ms&quot;);\n        System.out.println();\n        System.out.println(&quot;1/2 : &quot; + mS2R+ &quot; ms&quot;);\n        for (int X = 1; X &lt; 9; X = X * 2) {\n            double mS = Math.round((60000.00/X)/bpm);\n            int Y = X * 4;\n            int mSR = (int)mS;\n            System.out.println();\n            System.out.println(&quot;1/&quot; +Y + &quot; : &quot;+ mSR+ &quot; ms&quot;);\n        }\n    \n        System.out.println(&quot;____________________________________&quot;);\n        System.out.println();\n                scanbpm.close();\n        main(null);\n    }\n    \n    public static int get_user_int(Scanner scan, int min, int max) {\n        int user_input  = min - 1;        \n        boolean keep_asking = true;//boolean to regulate the while loop        \n        while(keep_asking || user_input &lt; min || user_input &gt; max) { \n            try {//try this code not sure it's going to work\n                user_input=scan.nextInt();\n                keep_asking = false;\n            }catch(Exception e) { \n                System.out.println(&quot;Invalid input.&quot;);                 \n            }finally {\n                scan.nextLine(); \n            }            \n        }\n        System.out.println(user_input);\n        return user_input;\n    }\n</code></pre>\n<p>The get_user_int was made in class and work in every other project I have made. Eclipse runs an error on line 1651 saying no line found. My only guess is that it would have to be something with the main(null); but I have a scanner and main(null); running in the same method and it works fine there.</p>\n"},{"tags":["java","multithreading","selenium-webdriver","threadpool","webdriver-manager"],"answers":[{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668962506,"creation_date":1668962506,"answer_id":74510004,"question_id":74508842,"body_markdown":"&gt; do i have to set NUM_LATCH always equal to NUM_DATA?\r\n\r\nHow would it make any sense otherwise? What is the purpose of the latch? NUM_DATA is the number of tasks that you submit to the executor. I _presume_ that you want the `latch.await()` call in the main thread to return when all of those tasks have completed. Is that right? If that&#39;s what you want, then the initial value of the latch had better be equal to NUM_DATA.\r\n\r\nI think you should not declare `NUM_LATCH` at all, and simply write `new CountDownLatch(NUM_DATA)`. That makes it clear to anybody else who is reading your code that you need the initial value of the latch to be equal to the number of tasks.","title":"why WebDriverManager is not in synch when Threadpool &amp; CountDownLatch is used?","body":"<blockquote>\n<p>do i have to set NUM_LATCH always equal to NUM_DATA?</p>\n</blockquote>\n<p>How would it make any sense otherwise? What is the purpose of the latch? NUM_DATA is the number of tasks that you submit to the executor. I <em>presume</em> that you want the <code>latch.await()</code> call in the main thread to return when all of those tasks have completed. Is that right? If that's what you want, then the initial value of the latch had better be equal to NUM_DATA.</p>\n<p>I think you should not declare <code>NUM_LATCH</code> at all, and simply write <code>new CountDownLatch(NUM_DATA)</code>. That makes it clear to anybody else who is reading your code that you need the initial value of the latch to be equal to the number of tasks.</p>\n"}],"owner":{"account_id":6167064,"reputation":453,"user_id":4806592,"display_name":"Karan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668962506,"creation_date":1668953611,"question_id":74508842,"body_markdown":"I am trying to run a Selenium Webdriver MultiThreaded Test using WebDriverManager ( Reference was taken -&gt;\r\nhttps://www.programcreek.com/java-api-examples/?api=io.github.bonigarcia.wdm.WebDriverManager\r\n\r\n    @Test \r\n    public void test() throws InterruptedException {\r\n        private int NUM_DATA =2;\r\n        private int NUM_LATCH=2;\r\n        private int POOL_SIZE=2;\r\n\r\n        CountDownLatch latch = new CountDownLatch(NUM_LATCH);\r\n        ExecutorService executorService = newFixedThreadPool(POOL_SIZE);\r\n       \r\n        for (int i = 0; i &lt; NUM_DATA; i++) {\r\n            executorService.submit(() -&gt; {\r\n                try {\r\n                    WebDriverManager.chromedriver().setup();\r\n                    ChromeOptions options = new ChromeOptions();\r\n                    options.addArguments(&quot;--headless&quot;);\r\n                    WebDriver driver = new ChromeDriver(options);\r\n                    driver.get(\r\n                            &quot;https://bonigarcia.github.io/selenium-jupiter/&quot;);\r\n                    String title = driver.getTitle();\r\n                    System.out.println(title);\r\n                    driver.quit();\r\n                } finally {\r\n                    latch.countDown();\r\n                }\r\n            });\r\n        }\r\n    \r\n        latch.await();\r\n        executorService.shutdown(); }\r\n\r\n\r\n\r\nIn my case \r\n\r\n 1. NUM_LATCH = POOL_SIZE = NUM_DATA == &gt; WORKING FINE \r\n 2. NUM_LATCH = 2 = POOL_SIZE  , NUM_DATA =6  = &gt; NOT ALL INSTANCES ARE CLOSED FOR TRHEAD\r\n 3. NUM_LATCH = NUM_DATA = 6 , POOL_SIZE = 2 =&gt; WORKING FINE \r\n\r\nBY working fine means here means , all the browsers instances are opened and execution happens and then all browser are closed. \r\n\r\nMy problem statement is if i have 1000 set of NUM_DATA and POOL_SIZE is 10 at a time . \r\ndo i have to set NUM_LATCH always equal to NUM_DATA ? \r\n\r\nAs per the article in &quot;https://www.baeldung.com/java-countdown-latch&quot;\r\n\r\n&quot;If we were doing some parallel processing, we could instantiate the CountDownLatch with the same value for the counter as a number of threads we want to work across&quot;\r\n\r\nbut here we are not setting NUM_LATCH = POOL_SIZE but rather number of num_Latch= Num_Data_Set . Is this correct way to use CountDownLatch ??","title":"why WebDriverManager is not in synch when Threadpool &amp; CountDownLatch is used?","body":"<p>I am trying to run a Selenium Webdriver MultiThreaded Test using WebDriverManager ( Reference was taken -&gt;\n<a href=\"https://www.programcreek.com/java-api-examples/?api=io.github.bonigarcia.wdm.WebDriverManager\" rel=\"nofollow noreferrer\">https://www.programcreek.com/java-api-examples/?api=io.github.bonigarcia.wdm.WebDriverManager</a></p>\n<pre><code>@Test \npublic void test() throws InterruptedException {\n    private int NUM_DATA =2;\n    private int NUM_LATCH=2;\n    private int POOL_SIZE=2;\n\n    CountDownLatch latch = new CountDownLatch(NUM_LATCH);\n    ExecutorService executorService = newFixedThreadPool(POOL_SIZE);\n   \n    for (int i = 0; i &lt; NUM_DATA; i++) {\n        executorService.submit(() -&gt; {\n            try {\n                WebDriverManager.chromedriver().setup();\n                ChromeOptions options = new ChromeOptions();\n                options.addArguments(&quot;--headless&quot;);\n                WebDriver driver = new ChromeDriver(options);\n                driver.get(\n                        &quot;https://bonigarcia.github.io/selenium-jupiter/&quot;);\n                String title = driver.getTitle();\n                System.out.println(title);\n                driver.quit();\n            } finally {\n                latch.countDown();\n            }\n        });\n    }\n\n    latch.await();\n    executorService.shutdown(); }\n</code></pre>\n<p>In my case</p>\n<ol>\n<li>NUM_LATCH = POOL_SIZE = NUM_DATA == &gt; WORKING FINE</li>\n<li>NUM_LATCH = 2 = POOL_SIZE  , NUM_DATA =6  = &gt; NOT ALL INSTANCES ARE CLOSED FOR TRHEAD</li>\n<li>NUM_LATCH = NUM_DATA = 6 , POOL_SIZE = 2 =&gt; WORKING FINE</li>\n</ol>\n<p>BY working fine means here means , all the browsers instances are opened and execution happens and then all browser are closed.</p>\n<p>My problem statement is if i have 1000 set of NUM_DATA and POOL_SIZE is 10 at a time .\ndo i have to set NUM_LATCH always equal to NUM_DATA ?</p>\n<p>As per the article in &quot;https://www.baeldung.com/java-countdown-latch&quot;</p>\n<p>&quot;If we were doing some parallel processing, we could instantiate the CountDownLatch with the same value for the counter as a number of threads we want to work across&quot;</p>\n<p>but here we are not setting NUM_LATCH = POOL_SIZE but rather number of num_Latch= Num_Data_Set . Is this correct way to use CountDownLatch ??</p>\n"},{"tags":["java","spring","logging"],"comments":[{"owner":{"account_id":1642450,"reputation":481,"user_id":1514647,"display_name":"luckyluke"},"score":0,"creation_date":1668961440,"post_id":74509734,"comment_id":131527868,"body_markdown":"can you provide a stacktrace of the `NullPointerException` or any other logging message?","body":"can you provide a stacktrace of the <code>NullPointerException</code> or any other logging message?"},{"owner":{"account_id":4609958,"reputation":300,"user_id":4381961,"accept_rate":50,"display_name":"ishallwin"},"score":0,"creation_date":1668962098,"post_id":74509734,"comment_id":131528041,"body_markdown":"@luckyluke have added in edit. Do you think this omission is due to JVM optimisation?","body":"@luckyluke have added in edit. Do you think this omission is due to JVM optimisation?"},{"owner":{"account_id":1642450,"reputation":481,"user_id":1514647,"display_name":"luckyluke"},"score":0,"creation_date":1668963091,"post_id":74509734,"comment_id":131528284,"body_markdown":"hi @ishallwin - no - this is caused due logging configuration. The source of the class which is loggin this is [here](https://github.com/apache/tomcat/blob/main/java/org/apache/juli/logging/DirectJDKLog.java#L175). Check your settings, if they contain any [json formatter](https://www.baeldung.com/java-log-json-output#2-configuration-1) and try to configure [normal formatter](https://docs.spring.io/spring-boot/docs/2.1.8.RELEASE/reference/html/howto-logging.html)","body":"hi @ishallwin - no - this is caused due logging configuration. The source of the class which is loggin this is <a href=\"https://github.com/apache/tomcat/blob/main/java/org/apache/juli/logging/DirectJDKLog.java#L175\" rel=\"nofollow noreferrer\">here</a>. Check your settings, if they contain any <a href=\"https://www.baeldung.com/java-log-json-output#2-configuration-1\" rel=\"nofollow noreferrer\">json formatter</a> and try to configure <a href=\"https://docs.spring.io/spring-boot/docs/2.1.8.RELEASE/reference/html/howto-logging.html\" rel=\"nofollow noreferrer\">normal formatter</a>"}],"owner":{"account_id":4609958,"reputation":300,"user_id":4381961,"accept_rate":50,"display_name":"ishallwin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668962072,"creation_date":1668960571,"question_id":74509734,"body_markdown":"I have a code for setting MappedLoggingContext as follows : \r\n\r\n    @Override\r\n    \tprotected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\r\n    \t\t\tthrows ServletException, IOException {\r\n    \t\tContentCachingRequestWrapper req = new ContentCachingRequestWrapper(request);\r\n    \t\tContentCachingResponseWrapper res = new ContentCachingResponseWrapper(response);\r\n    \t\tcontentTrace = new ContentTrace();\r\n    \t\tcontentTrace.setTimestamp(DateUtils.currentTimestamp());\r\n    \t\ttry {\r\n    \t\t\tMappedLoggingContext.clearContext();\r\n    \t\t\tString traceId = request.getHeader(&quot;***&quot;);\r\n    \t\t\tMappedLoggingContext.setAPIDetails(request.getRequestURI(), request.getMethod());\r\n    \t\t\tMappedLoggingContext.setTraceId(traceId);\r\n    \t\t\tsuper.doFilterInternal(req, res, filterChain);\r\n    \t\t} finally {\r\n    \t\t\tMappedLoggingContext.clearContext();\r\n    \t\t}\r\n    \t}\r\n\r\nHowever, I have noticed that incase of  NullPointerException, these details go missing. My knowledge of this is limited and would appreciate any clue on how to solve this.\r\n\r\nLet me know if adding logback-spring.xml file&#39;s content would be any helpful in determining the cause. Thanks.\r\n\r\nEdit#1 \r\n\r\nTypical log in NPE looks like this : \r\n\r\n&gt; {   &quot;app&quot;: &quot;**&quot;,   &quot;ts&quot;: &quot;2022-11-20T11:35:36.269Z&quot;,   &quot;logger&quot;:\r\n&gt; &quot;org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet]&quot;,\r\n&gt; &quot;level&quot;: &quot;ERROR&quot;,   &quot;class&quot;: &quot;org.apache.juli.logging.DirectJDKLog&quot;,  \r\n&gt; &quot;method&quot;: &quot;log&quot;,   &quot;file&quot;: &quot;DirectJDKLog.java&quot;,   &quot;line&quot;: 175,  \r\n&gt; &quot;thread&quot;: &quot;http-nio-5000-exec-5&quot;,   &quot;stack&quot;:\r\n&gt; &quot;java.lang.NullPointerException: null\\n&quot;,   &quot;msg&quot;: &quot;Servlet.service()\r\n&gt; for servlet [dispatcherServlet] in context with path [] threw\r\n&gt; exception [Request processing failed; nested exception is\r\n&gt; java.lang.NullPointerException] with root cause&quot; }\r\n\r\n","title":"NullPointerException not printing custom MappedLoggingContext","body":"<p>I have a code for setting MappedLoggingContext as follows :</p>\n<pre><code>@Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\n            throws ServletException, IOException {\n        ContentCachingRequestWrapper req = new ContentCachingRequestWrapper(request);\n        ContentCachingResponseWrapper res = new ContentCachingResponseWrapper(response);\n        contentTrace = new ContentTrace();\n        contentTrace.setTimestamp(DateUtils.currentTimestamp());\n        try {\n            MappedLoggingContext.clearContext();\n            String traceId = request.getHeader(&quot;***&quot;);\n            MappedLoggingContext.setAPIDetails(request.getRequestURI(), request.getMethod());\n            MappedLoggingContext.setTraceId(traceId);\n            super.doFilterInternal(req, res, filterChain);\n        } finally {\n            MappedLoggingContext.clearContext();\n        }\n    }\n</code></pre>\n<p>However, I have noticed that incase of  NullPointerException, these details go missing. My knowledge of this is limited and would appreciate any clue on how to solve this.</p>\n<p>Let me know if adding logback-spring.xml file's content would be any helpful in determining the cause. Thanks.</p>\n<p>Edit#1</p>\n<p>Typical log in NPE looks like this :</p>\n<blockquote>\n<p>{   &quot;app&quot;: &quot;**&quot;,   &quot;ts&quot;: &quot;2022-11-20T11:35:36.269Z&quot;,   &quot;logger&quot;:\n&quot;org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet]&quot;,\n&quot;level&quot;: &quot;ERROR&quot;,   &quot;class&quot;: &quot;org.apache.juli.logging.DirectJDKLog&quot;,<br />\n&quot;method&quot;: &quot;log&quot;,   &quot;file&quot;: &quot;DirectJDKLog.java&quot;,   &quot;line&quot;: 175,<br />\n&quot;thread&quot;: &quot;http-nio-5000-exec-5&quot;,   &quot;stack&quot;:\n&quot;java.lang.NullPointerException: null\\n&quot;,   &quot;msg&quot;: &quot;Servlet.service()\nfor servlet [dispatcherServlet] in context with path [] threw\nexception [Request processing failed; nested exception is\njava.lang.NullPointerException] with root cause&quot; }</p>\n</blockquote>\n"},{"tags":["java","asynchronous"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1668962564,"post_id":74509903,"comment_id":131528150,"body_markdown":"So to understand the question correctly: Method `processFile(...)` being async means that it starts a separate thread in which the actual work is done?","body":"So to understand the question correctly: Method <code>processFile(...)</code> being async means that it starts a separate thread in which the actual work is done?"},{"owner":{"account_id":7469032,"reputation":434,"user_id":5677587,"display_name":"ragurney"},"score":0,"creation_date":1668962953,"post_id":74509903,"comment_id":131528250,"body_markdown":"Yes that&#39;s correct, and it does not return anything.","body":"Yes that&#39;s correct, and it does not return anything."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1668963147,"post_id":74509903,"comment_id":131528295,"body_markdown":"In this case, I would recommend to not additionally wrap those tasks in a `FutureTask`. We could instead add the data processed to, for example, some `List` or `Map`.","body":"In this case, I would recommend to not additionally wrap those tasks in a <code>FutureTask</code>. We could instead add the data processed to, for example, some <code>List</code> or <code>Map</code>."},{"owner":{"account_id":7469032,"reputation":434,"user_id":5677587,"display_name":"ragurney"},"score":0,"creation_date":1668979742,"post_id":74509903,"comment_id":131532035,"body_markdown":"Hmm, I would agree and that&#39;s certainly cleaner but the issue is that the API I must follow requires me to supply a task that implements both a `cancel` and `run`, and the `processFile` method (which I can&#39;t change -- it&#39;s a third party API), returns nothing so it seems there&#39;s no way to manage that task without wrapping it in a `FutureTask`?","body":"Hmm, I would agree and that&#39;s certainly cleaner but the issue is that the API I must follow requires me to supply a task that implements both a <code>cancel</code> and <code>run</code>, and the <code>processFile</code> method (which I can&#39;t change -- it&#39;s a third party API), returns nothing so it seems there&#39;s no way to manage that task without wrapping it in a <code>FutureTask</code>?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1668979955,"post_id":74509903,"comment_id":131532073,"body_markdown":"We cannot implement `cancel()` in a meaningful way anyway since the actual work is done in another thread, and threads cannot be &quot;stopped&quot; if the code executed on the thread does not check for cancelation. On top of this: to cancel a thread, we need a handle TO that thread, which we do not have.","body":"We cannot implement <code>cancel()</code> in a meaningful way anyway since the actual work is done in another thread, and threads cannot be &quot;stopped&quot; if the code executed on the thread does not check for cancelation. On top of this: to cancel a thread, we need a handle TO that thread, which we do not have."}],"owner":{"account_id":7469032,"reputation":434,"user_id":5677587,"display_name":"ragurney"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668961691,"creation_date":1668961691,"question_id":74509903,"body_markdown":"Sorry if this is a duplicate or a dumb question -- I tried a lot sleuthing and can&#39;t find exactly what I&#39;m looking for, though I know this is a simple concept. \r\n\r\nI have the following:\r\n\r\n```java\r\n return new FutureTask&lt;&gt;(() -&gt; {\r\n      processFile(param1, param2, &lt;optional callback&gt;)\r\n    });\r\n```\r\n`processFile` is a method from a library I&#39;m using, which executes asynchronously in its own thread, and calls the `&lt;optional callback&gt;` if supplied when it&#39;s complete. \r\n\r\nI want a way to be able to not mark the surrounding `FutureTask` as `done` until the nested async task `processFile` is done. What&#39;s the best way to do this? \r\n\r\nA couple options I thought of:\r\n\r\n1. I could implement my own `Future` instead,  make a `done` boolean field in the Future, override isDone to return the boolean value, and only mark `done` as true from the `processFile` callback.\r\n1. Use a `CountdownLatch` in the `FutureTask` and `await` that until the callback sets it to zero.\r\n\r\nI think either of those would work, but I&#39;m not sure that&#39;s the most semantically or logically correct way to go about this. \r\n\r\nAny help is appreciated. Thank you!","title":"Tell FutureTask It Is Done With Nested Async Callback","body":"<p>Sorry if this is a duplicate or a dumb question -- I tried a lot sleuthing and can't find exactly what I'm looking for, though I know this is a simple concept.</p>\n<p>I have the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code> return new FutureTask&lt;&gt;(() -&gt; {\n      processFile(param1, param2, &lt;optional callback&gt;)\n    });\n</code></pre>\n<p><code>processFile</code> is a method from a library I'm using, which executes asynchronously in its own thread, and calls the <code>&lt;optional callback&gt;</code> if supplied when it's complete.</p>\n<p>I want a way to be able to not mark the surrounding <code>FutureTask</code> as <code>done</code> until the nested async task <code>processFile</code> is done. What's the best way to do this?</p>\n<p>A couple options I thought of:</p>\n<ol>\n<li>I could implement my own <code>Future</code> instead,  make a <code>done</code> boolean field in the Future, override isDone to return the boolean value, and only mark <code>done</code> as true from the <code>processFile</code> callback.</li>\n<li>Use a <code>CountdownLatch</code> in the <code>FutureTask</code> and <code>await</code> that until the callback sets it to zero.</li>\n</ol>\n<p>I think either of those would work, but I'm not sure that's the most semantically or logically correct way to go about this.</p>\n<p>Any help is appreciated. Thank you!</p>\n"},{"tags":["java","spring-boot","spring-data"],"comments":[{"owner":{"account_id":957259,"reputation":29625,"user_id":982341,"display_name":"GreyBeardedGeek"},"score":0,"creation_date":1668970187,"post_id":74509619,"comment_id":131529811,"body_markdown":"Does this answer your question? [JPA - Returning an auto generated id after persist()](https://stackoverflow.com/questions/9732453/jpa-returning-an-auto-generated-id-after-persist)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/9732453/jpa-returning-an-auto-generated-id-after-persist\">JPA - Returning an auto generated id after persist()</a>"},{"owner":{"account_id":6925249,"reputation":365,"user_id":5316516,"display_name":"NothingBox"},"score":0,"creation_date":1668994227,"post_id":74509619,"comment_id":131534324,"body_markdown":"Not really, since I can get the auto generated ID. I think the problem is only for the MySQL Generated value. Btw, I can get the invoiceNo if I call the findById in a separate API call. Really weird","body":"Not really, since I can get the auto generated ID. I think the problem is only for the MySQL Generated value. Btw, I can get the invoiceNo if I call the findById in a separate API call. Really weird"}],"owner":{"account_id":6925249,"reputation":365,"user_id":5316516,"display_name":"NothingBox"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668961405,"creation_date":1668959685,"question_id":74509619,"body_markdown":"I have an Entity with a generated value for `invoiceNo`:\r\n\r\n```\r\n\r\n\r\n@Getter\r\n@Setter\r\n@Entity\r\n@Table(uniqueConstraints = @UniqueConstraint(columnNames = {&quot;invoiceId&quot;}))\r\npublic class Invoice {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\tprivate Long invoiceId; //set format\r\n\t@Column( columnDefinition = &quot;varchar(10) \\n&quot;\r\n\t\t\t+ &quot; GENERATED ALWAYS AS \\n&quot;\r\n\t\t\t+ &quot; (CONCAT(&#39;E&#39;, LPAD(invoice_id,8,&#39;0&#39;))) STORED &quot;, insertable = false, nullable = false)\r\n\tprivate String invoiceNo;\r\n\t@Column(nullable = false, length = 70)\r\n\tprivate String customerName;\r\n\t@Column(length = 100)\r\n\tprivate String customerAddress;\r\n\t@Column(nullable = false, length = 15)\r\n\tprivate String contactNo; //set format\r\n\t@ManyToOne\r\n\t@JoinColumn(name= &quot;userId&quot;, nullable = false, foreignKey = @ForeignKey(name = &quot;FK_invoice_salesperson&quot;))\r\n\tprivate User salesPerson;\r\n\t@Column(nullable = false, unique = true,length = 15)\r\n\tprivate String poNumber;\r\n\t@Column(nullable = false)\r\n\tprivate LocalDate purchaseDate;\r\n\t@OneToMany(cascade = CascadeType.PERSIST)\r\n\t@JoinColumn(name= &quot;invoiceId&quot;, nullable = false)\r\n\tprivate List&lt;InvoiceItem&gt; invoiceItems;\r\n\t@Column(length = 100)\r\n\tprivate String remarks; \r\n\tprivate Double totalAmount;\r\n\t@Column(insertable = true)\r\n\t@Enumerated(EnumType.STRING)\r\n\tprivate TransactionStatusEnums trxnStatus = TransactionStatusEnums.ACTIVE;\r\n\t@Column(nullable = false, updatable = false)\r\n\t@CreationTimestamp\r\n\tprivate LocalDateTime createdAt;\r\n\r\n\t\r\n}\r\n```\r\nThe issue is that the `invoiceNo` is always null when `invoice` entity is saved. I doubt it is because of `updatable=false` and `insertable=false` because other fields with that definition is fetched upon save.\r\n\r\nAs a workaround, I tried getting the new inserted invoice by Id using `findById` method but even that is returning `invoiceNo` field. But on `findAll` this field is populated.","title":"SpringData - Repository.save() not returning generated values","body":"<p>I have an Entity with a generated value for <code>invoiceNo</code>:</p>\n<pre><code>\n\n@Getter\n@Setter\n@Entity\n@Table(uniqueConstraints = @UniqueConstraint(columnNames = {&quot;invoiceId&quot;}))\npublic class Invoice {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long invoiceId; //set format\n    @Column( columnDefinition = &quot;varchar(10) \\n&quot;\n            + &quot; GENERATED ALWAYS AS \\n&quot;\n            + &quot; (CONCAT('E', LPAD(invoice_id,8,'0'))) STORED &quot;, insertable = false, nullable = false)\n    private String invoiceNo;\n    @Column(nullable = false, length = 70)\n    private String customerName;\n    @Column(length = 100)\n    private String customerAddress;\n    @Column(nullable = false, length = 15)\n    private String contactNo; //set format\n    @ManyToOne\n    @JoinColumn(name= &quot;userId&quot;, nullable = false, foreignKey = @ForeignKey(name = &quot;FK_invoice_salesperson&quot;))\n    private User salesPerson;\n    @Column(nullable = false, unique = true,length = 15)\n    private String poNumber;\n    @Column(nullable = false)\n    private LocalDate purchaseDate;\n    @OneToMany(cascade = CascadeType.PERSIST)\n    @JoinColumn(name= &quot;invoiceId&quot;, nullable = false)\n    private List&lt;InvoiceItem&gt; invoiceItems;\n    @Column(length = 100)\n    private String remarks; \n    private Double totalAmount;\n    @Column(insertable = true)\n    @Enumerated(EnumType.STRING)\n    private TransactionStatusEnums trxnStatus = TransactionStatusEnums.ACTIVE;\n    @Column(nullable = false, updatable = false)\n    @CreationTimestamp\n    private LocalDateTime createdAt;\n\n    \n}\n</code></pre>\n<p>The issue is that the <code>invoiceNo</code> is always null when <code>invoice</code> entity is saved. I doubt it is because of <code>updatable=false</code> and <code>insertable=false</code> because other fields with that definition is fetched upon save.</p>\n<p>As a workaround, I tried getting the new inserted invoice by Id using <code>findById</code> method but even that is returning <code>invoiceNo</code> field. But on <code>findAll</code> this field is populated.</p>\n"},{"tags":["java","spring-boot","spring-cloud","consul","spring-cloud-consul"],"answers":[{"tags":[],"owner":{"account_id":7392763,"reputation":3367,"user_id":5625696,"accept_rate":50,"display_name":"Borislav Stoilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668423378,"creation_date":1668422878,"answer_id":74430439,"question_id":74408469,"body_markdown":"Spring actuator from [here][1] provides a refresh endpoint that can dynamically reload application properties in runtime.\r\n\r\nYou can define a &quot;ManagedResource&quot; that has a scope refresh bean.\r\n\r\n    @Component\r\n    @ConfigurationProperties(prefix = &quot;prefix&quot;)\r\n    @RefreshScope\r\n    class DynamicConfiguration { .. }\r\n\r\nYou don&#39;t need to intercept anything, just make the application talk only to the Consul server. Then the consul server can decide whether a certain property should be fetched from the cache or not. I Used Netflix&#39;s Eureka in the past to manage the application properties of multiple spring boot apps, but it seems HashiCorp\\&#39;s Consul server is a fully functional replacement of Eureka.\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-actuator/2.7.5","title":"How to cache Consul service lookup in a separate Spring Boot application?","body":"<p>Spring actuator from <a href=\"https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-actuator/2.7.5\" rel=\"nofollow noreferrer\">here</a> provides a refresh endpoint that can dynamically reload application properties in runtime.</p>\n<p>You can define a &quot;ManagedResource&quot; that has a scope refresh bean.</p>\n<pre><code>@Component\n@ConfigurationProperties(prefix = &quot;prefix&quot;)\n@RefreshScope\nclass DynamicConfiguration { .. }\n</code></pre>\n<p>You don't need to intercept anything, just make the application talk only to the Consul server. Then the consul server can decide whether a certain property should be fetched from the cache or not. I Used Netflix's Eureka in the past to manage the application properties of multiple spring boot apps, but it seems HashiCorp's Consul server is a fully functional replacement of Eureka.</p>\n"},{"tags":[],"owner":{"account_id":19496972,"reputation":2160,"user_id":14263933,"display_name":"aatwork"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668961405,"creation_date":1668961405,"answer_id":74509859,"question_id":74408469,"body_markdown":"I don&#39;t have all the info. But service discovery with consul should anyways be fast.\r\n\r\nApplication is making call to consul server to get network addresses of the target. I believe the lookup would be super fast as the values would be cached in consul (stored in RAM). Did you check that? Otherwise it defeats the purpose of having consul.\r\nSo writing a separate consul-cache won&#39;t improve anything.\r\n\r\nI think the network address lookup from consul is not an issue. Issue should be with the multiple network connections that you are making to multiple targets when service starts up. Did you benchmark the network latency &amp; response time of the HTTP calls that you are making? That should be where things can improve, especially if some of your targets reside outside VPC &amp; connection goes over public internet.\r\n\r\nYour current improvement plan won&#39;t most likely work if the above hold true. \r\n\r\nSome improvement approaches:\r\n1. If you don&#39;t need to connect all the target servers at the startup, don&#39;t do it. Wait till you need it. And if any class instantiation depends on it, lazy load it.\r\n\r\n2.1 Let&#39;s say you need to make all the HTTP calls at the startup. Why do you need that? I don&#39;t know the exact reason. But most likely, you get some settings/configurations dynamically that you need to initialize objects of this application.\r\n\r\nThen you need to think, how frequently these values get changed? If they don&#39;t change frequently, you can cache them for some duration. So once you fetch it, you can cache it in existing consul or you can use redis (or any other caching server you use). So next time your service starts up, it can directly read them from the cache server (preferably in multi-get so that only one network connection is made).\r\n\r\nBasically, you need to avoid that many HTTP connections while application starts up. You should cache the data. You don&#39;t need new application to do that. That would be an overkill.","title":"How to cache Consul service lookup in a separate Spring Boot application?","body":"<p>I don't have all the info. But service discovery with consul should anyways be fast.</p>\n<p>Application is making call to consul server to get network addresses of the target. I believe the lookup would be super fast as the values would be cached in consul (stored in RAM). Did you check that? Otherwise it defeats the purpose of having consul.\nSo writing a separate consul-cache won't improve anything.</p>\n<p>I think the network address lookup from consul is not an issue. Issue should be with the multiple network connections that you are making to multiple targets when service starts up. Did you benchmark the network latency &amp; response time of the HTTP calls that you are making? That should be where things can improve, especially if some of your targets reside outside VPC &amp; connection goes over public internet.</p>\n<p>Your current improvement plan won't most likely work if the above hold true.</p>\n<p>Some improvement approaches:</p>\n<ol>\n<li>If you don't need to connect all the target servers at the startup, don't do it. Wait till you need it. And if any class instantiation depends on it, lazy load it.</li>\n</ol>\n<p>2.1 Let's say you need to make all the HTTP calls at the startup. Why do you need that? I don't know the exact reason. But most likely, you get some settings/configurations dynamically that you need to initialize objects of this application.</p>\n<p>Then you need to think, how frequently these values get changed? If they don't change frequently, you can cache them for some duration. So once you fetch it, you can cache it in existing consul or you can use redis (or any other caching server you use). So next time your service starts up, it can directly read them from the cache server (preferably in multi-get so that only one network connection is made).</p>\n<p>Basically, you need to avoid that many HTTP connections while application starts up. You should cache the data. You don't need new application to do that. That would be an overkill.</p>\n"}],"owner":{"account_id":5744250,"reputation":103,"user_id":4535957,"accept_rate":62,"display_name":"Xegara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1668961405,"creation_date":1668203343,"question_id":74408469,"body_markdown":"Running our spring boot application takes 2-3 minutes to boot. Bulk of the time was spent on connecting to different servers via Spring Cloud Consul Discovery Client. \r\n\r\nI&#39;m looking for a way to cache service discovery in a separate application like in the following diagram:\r\n\r\n    +----------------------+     +----------------------+                   \r\n    |                      |     |                      |                   \r\n    |     Target Server    |     |    Consul Server     |                   \r\n    |                      |     |                      |                   \r\n    +-----------^----------+     +-----------^----------+                   \r\n                |(3)                         |(2)                           \r\n                |                            |                              \r\n    +----------------------+     +----------------------+                   \r\n    |                      |(1)  |                      |                   \r\n    |     Application      |---&gt; | Consul Client Cache  |                   \r\n    |                      |     |                      |                   \r\n    +----------------------+     +----------------------+     \r\n\r\n 1. Application queries consul client cache instead consul server\r\n    directly to retrieve the network address of the target server.\r\n 2. Consul Client Cache is a standalone application where it loads and\r\n    caches the IP addresses of the services registered in consul server.\r\n 3. Application connects to target server.\r\n\r\n                                                                        \r\nAt the top of my mind, I believe this is possible by:\r\n\r\n  1. Writing a spring boot application of consul client cache wherein it caches the services registered in consul server and serves them to the application upon request.\r\n  2. Intercept the HTTP requests of application and re-route to consul client cache server.\r\n\r\nBut this seems a generic problem so I&#39;m hoping there is already a ready-made solution out there.\r\n\r\nAnyone has ideas?                                                                        \r\n                                                                        \r\n                                                                        \r\n                                                                        \r\n                                                                                                                              \r\n                                                                        ","title":"How to cache Consul service lookup in a separate Spring Boot application?","body":"<p>Running our spring boot application takes 2-3 minutes to boot. Bulk of the time was spent on connecting to different servers via Spring Cloud Consul Discovery Client.</p>\n<p>I'm looking for a way to cache service discovery in a separate application like in the following diagram:</p>\n<pre><code>+----------------------+     +----------------------+                   \n|                      |     |                      |                   \n|     Target Server    |     |    Consul Server     |                   \n|                      |     |                      |                   \n+-----------^----------+     +-----------^----------+                   \n            |(3)                         |(2)                           \n            |                            |                              \n+----------------------+     +----------------------+                   \n|                      |(1)  |                      |                   \n|     Application      |---&gt; | Consul Client Cache  |                   \n|                      |     |                      |                   \n+----------------------+     +----------------------+     \n</code></pre>\n<ol>\n<li>Application queries consul client cache instead consul server\ndirectly to retrieve the network address of the target server.</li>\n<li>Consul Client Cache is a standalone application where it loads and\ncaches the IP addresses of the services registered in consul server.</li>\n<li>Application connects to target server.</li>\n</ol>\n<p>At the top of my mind, I believe this is possible by:</p>\n<ol>\n<li>Writing a spring boot application of consul client cache wherein it caches the services registered in consul server and serves them to the application upon request.</li>\n<li>Intercept the HTTP requests of application and re-route to consul client cache server.</li>\n</ol>\n<p>But this seems a generic problem so I'm hoping there is already a ready-made solution out there.</p>\n<p>Anyone has ideas?</p>\n"},{"tags":["java","arrays","minimum"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1668960501,"post_id":74509701,"comment_id":131527666,"body_markdown":"If you want to get the minimum element of an unsorted array, you need to check each element. If you need to do it faster, use a different data structure (min heap, tree, whatever) pr make sure the array is sorted.","body":"If you want to get the minimum element of an unsorted array, you need to check each element. If you need to do it faster, use a different data structure (min heap, tree, whatever) pr make sure the array is sorted."},{"owner":{"account_id":4831718,"reputation":1056,"user_id":3899765,"display_name":"Yonatan Karp-Rudin"},"score":1,"creation_date":1668960638,"post_id":74509701,"comment_id":131527711,"body_markdown":"I think that you&#39;re trying to solve an unsolvable problem in computer science... if you have an unsorted array with N elements, you have to check all N elements to decide what is the minimal value. You can minimize this operation using all sorts of data structures and / or sorts depending on your needs","body":"I think that you&#39;re trying to solve an unsolvable problem in computer science... if you have an unsorted array with N elements, you have to check all N elements to decide what is the minimal value. You can minimize this operation using all sorts of data structures and / or sorts depending on your needs"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1668966357,"post_id":74509701,"comment_id":131528978,"body_markdown":"`Collections.min(Arrays.asList(onTimes))`. Throws an exception if the array has length 0 or contains a `null`, so you should first make sure it doesnt.","body":"<code>Collections.min(Arrays.asList(onTimes))</code>. Throws an exception if the array has length 0 or contains a <code>null</code>, so you should first make sure it doesnt."}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668961191,"creation_date":1668960517,"answer_id":74509728,"question_id":74509701,"body_markdown":"You could, conceivably, use recursion; but I would not recommend that for performance. The best way I can think of is using the streams api like\r\n\r\n    LocalDateTime min = Arrays.stream(onTimes).min(Comparator.naturalOrder())\r\n            .orElseThrow();\r\n\r\nNote: This still iterates all elements internally to find the minimum.\r\n\r\nFor completeness sake; to do this without iteration, as I said, might be done recursively.\r\n\r\n\tpublic static LocalDateTime getMinimum(LocalDateTime[] onTimes) {\r\n\t\treturn getMinimum(onTimes, 0);\r\n\t}\r\n\r\n\tprivate static LocalDateTime getMinimum(LocalDateTime[] onTimes, int i) {\r\n\t\tif (i + 1 &lt; onTimes.length) {\r\n\t\t\treturn min(onTimes[i], getMinimum(onTimes, i + 1));\r\n\t\t} else {\r\n\t\t\treturn onTimes[i];\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static LocalDateTime min(LocalDateTime a, LocalDateTime b) {\r\n\t\tif (a.compareTo(b) &lt;= 0) {\r\n\t\t\treturn a;\r\n\t\t}\r\n\t\treturn b;\r\n\t}","title":"How to get minimum LocalDateTime from array in Java","body":"<p>You could, conceivably, use recursion; but I would not recommend that for performance. The best way I can think of is using the streams api like</p>\n<pre><code>LocalDateTime min = Arrays.stream(onTimes).min(Comparator.naturalOrder())\n        .orElseThrow();\n</code></pre>\n<p>Note: This still iterates all elements internally to find the minimum.</p>\n<p>For completeness sake; to do this without iteration, as I said, might be done recursively.</p>\n<pre><code>public static LocalDateTime getMinimum(LocalDateTime[] onTimes) {\n    return getMinimum(onTimes, 0);\n}\n\nprivate static LocalDateTime getMinimum(LocalDateTime[] onTimes, int i) {\n    if (i + 1 &lt; onTimes.length) {\n        return min(onTimes[i], getMinimum(onTimes, i + 1));\n    } else {\n        return onTimes[i];\n    }\n}\n\nprivate static LocalDateTime min(LocalDateTime a, LocalDateTime b) {\n    if (a.compareTo(b) &lt;= 0) {\n        return a;\n    }\n    return b;\n}\n</code></pre>\n"}],"owner":{"display_name":"user7880305"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":74509728,"answer_count":1,"score":0,"last_activity_date":1668961191,"creation_date":1668960326,"question_id":74509701,"body_markdown":"I have an array:\r\n\r\n`LocalDateTime[] onTimes`\r\n\r\nI would like to find an efficient way (without iteration) of finding the minimum LocalDateTime. \r\n\r\nIs there a quick way to do this?","title":"How to get minimum LocalDateTime from array in Java","body":"<p>I have an array:</p>\n<p><code>LocalDateTime[] onTimes</code></p>\n<p>I would like to find an efficient way (without iteration) of finding the minimum LocalDateTime.</p>\n<p>Is there a quick way to do this?</p>\n"},{"tags":["java","concurrency","deadlock","completable-future"],"comments":[{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":1,"creation_date":1668708855,"post_id":74474497,"comment_id":131477898,"body_markdown":"For sure `thenCombine()` fixes the problem because your `f2` will be guaranteed to be completed before the lambda with `f2.join()` is called. `thenApplyAsync()` might not fix it depending on the executor being used  a deadlock by thread starvation could still occur. I think a basic rule of thumb would be to avoid calling `join()` from within a `CompletableFuture` task.","body":"For sure <code>thenCombine()</code> fixes the problem because your <code>f2</code> will be guaranteed to be completed before the lambda with <code>f2.join()</code> is called. <code>thenApplyAsync()</code> might not fix it depending on the executor being used  a deadlock by thread starvation could still occur. I think a basic rule of thumb would be to avoid calling <code>join()</code> from within a <code>CompletableFuture</code> task."},{"owner":{"account_id":446208,"reputation":8611,"user_id":839128,"accept_rate":75,"display_name":"MikeFHay"},"score":0,"creation_date":1668772567,"post_id":74474497,"comment_id":131493232,"body_markdown":"Good point, any implementation that blocked or silently failed in the `thenCombine` case would be pretty clearly broken. I&#39;ll accept that as an answer if you&#39;d like to post one :)","body":"Good point, any implementation that blocked or silently failed in the <code>thenCombine</code> case would be pretty clearly broken. I&#39;ll accept that as an answer if you&#39;d like to post one :)"}],"answers":[{"tags":[],"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668960677,"creation_date":1668960677,"answer_id":74509747,"question_id":74474497,"body_markdown":"`thenCombine()` fixes the problem because your `f2` will be guaranteed to be completed before the lambda with `f2.join()` is called. In fact, you wouldnt even need to call `join()` in that case since you would receive the result as input.\r\n\r\n\r\n`thenApplyAsync()` might not fix it depending on the executor being used  a deadlock by thread starvation could still occur.\r\n\r\nI think a basic rule of thumb would be to avoid calling `join()` from within a `CompletableFuture` task if you cannot guarantee that it wont block (e.g. calling it from within the descendants of an `allOf()` is fine). It should always be possible to use `thenCombine()`/`thenCompose()` to avoid the call.","title":"How to avoid deadlock when creating multiple interdependent futures from a single CompletableFuture?","body":"<p><code>thenCombine()</code> fixes the problem because your <code>f2</code> will be guaranteed to be completed before the lambda with <code>f2.join()</code> is called. In fact, you wouldnt even need to call <code>join()</code> in that case since you would receive the result as input.</p>\n<p><code>thenApplyAsync()</code> might not fix it depending on the executor being used  a deadlock by thread starvation could still occur.</p>\n<p>I think a basic rule of thumb would be to avoid calling <code>join()</code> from within a <code>CompletableFuture</code> task if you cannot guarantee that it wont block (e.g. calling it from within the descendants of an <code>allOf()</code> is fine). It should always be possible to use <code>thenCombine()</code>/<code>thenCompose()</code> to avoid the call.</p>\n"}],"owner":{"account_id":446208,"reputation":8611,"user_id":839128,"accept_rate":75,"display_name":"MikeFHay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":509,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74509747,"answer_count":1,"score":0,"last_activity_date":1668960677,"creation_date":1668683596,"question_id":74474497,"body_markdown":"Consider the following code:\r\n\r\n    CompletableFuture&lt;Integer&gt; f1 = CompletableFuture.supplyAsync(() -&gt; {\r\n        Uninterruptibles.sleepUninterruptibly(100, TimeUnit.MILLISECONDS);\r\n        return 1;\r\n    });\r\n\r\n    // eagerly start this work as soon as f1 completes\r\n    CompletableFuture&lt;Integer&gt; f2 = f1.thenApply(x -&gt; 2);\r\n\r\n    // do work on the main thread before creating another future...\r\n    int otherWorkDoneOnMainThread = 3;\r\n    \r\n    CompletableFuture&lt;Integer&gt; f3 = f1.thenApply(x -&gt; {\r\n        f2.join();\r\n        return otherWorkDoneOnMainThread;\r\n    });\r\n    \r\n    Thread.sleep(200);\r\n    System.out.println(List.of(f1, f2, f3));\r\n    \r\nThis outputs `[java.util.concurrent.CompletableFuture@6749fe50[Completed normally], java.util.concurrent.CompletableFuture@52bf7bf6[Not completed, 1 dependents], java.util.concurrent.CompletableFuture@261db982[Not completed]]`. Neither f1 nor f2 is completed, because when f1 is completed it first tries to complete f3, which then blocks on f2. The completing thread never gets to f2 because it is waiting on f3 to complete.\r\n\r\nChanging `f3` be created by `f1.thenApplyAsync(...)` or `f1.thenCombine(f2, ...)` solves this, however I&#39;m not sure if that is guaranteed by the API or merely an implementation detail which could change in a later release.\r\n\r\nHow can I confidently create multiple interdependent futures from a single future?","title":"How to avoid deadlock when creating multiple interdependent futures from a single CompletableFuture?","body":"<p>Consider the following code:</p>\n<pre><code>CompletableFuture&lt;Integer&gt; f1 = CompletableFuture.supplyAsync(() -&gt; {\n    Uninterruptibles.sleepUninterruptibly(100, TimeUnit.MILLISECONDS);\n    return 1;\n});\n\n// eagerly start this work as soon as f1 completes\nCompletableFuture&lt;Integer&gt; f2 = f1.thenApply(x -&gt; 2);\n\n// do work on the main thread before creating another future...\nint otherWorkDoneOnMainThread = 3;\n\nCompletableFuture&lt;Integer&gt; f3 = f1.thenApply(x -&gt; {\n    f2.join();\n    return otherWorkDoneOnMainThread;\n});\n\nThread.sleep(200);\nSystem.out.println(List.of(f1, f2, f3));\n</code></pre>\n<p>This outputs <code>[java.util.concurrent.CompletableFuture@6749fe50[Completed normally], java.util.concurrent.CompletableFuture@52bf7bf6[Not completed, 1 dependents], java.util.concurrent.CompletableFuture@261db982[Not completed]]</code>. Neither f1 nor f2 is completed, because when f1 is completed it first tries to complete f3, which then blocks on f2. The completing thread never gets to f2 because it is waiting on f3 to complete.</p>\n<p>Changing <code>f3</code> be created by <code>f1.thenApplyAsync(...)</code> or <code>f1.thenCombine(f2, ...)</code> solves this, however I'm not sure if that is guaranteed by the API or merely an implementation detail which could change in a later release.</p>\n<p>How can I confidently create multiple interdependent futures from a single future?</p>\n"},{"tags":["java","android","alarmmanager"],"answers":[{"tags":[],"owner":{"account_id":22423899,"reputation":53,"user_id":16630802,"display_name":"Teo Coding"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668960443,"creation_date":1668955617,"answer_id":74509102,"question_id":74506981,"body_markdown":"Unfortunately, many Android device manufacturers limit background operations and alarms are one of them. I don&#39;t know why you only limit it when wifi and data are turned off. I can advise you not to use PowerManager.WakeLock but to use goAsync if you have important work to do in the broadcast receiver (for example downloading data from the server). In addition, the user must deactivate the energy saving for your app (for android versions above 12 there is an extra permission (https://developer.android.com/training/scheduling/alarms#exact-permission-declare ) and probably other options (depending on the device and android version) to make the alarm trigger.\r\n\r\n    public class EventReceiver extends BroadcastReceiver {\r\n    \r\n    \r\n        @Override\r\n        public void onReceive(Context context, Intent i) {\r\n    \r\n            Log.i(this.getClass().getName(), &quot;received event&quot;);\r\n    \r\n            final PendingResult result = goAsync();\r\n            Thread thread = new Thread() {\r\n                public void run() {\r\n    \r\n                    //do some work\r\n    \r\n                    Intent newIntent = new Intent(context, EventReceiver.class);\r\n                    PendingIntent pendingIntent = PendingIntent.getBroadcast(\r\n                            context.getApplicationContext(), Constants.REQUEST_CODE, newIntent, PendingIntent.FLAG_UPDATE_CURRENT);\r\n                    AlarmManager alarmManager = (AlarmManager) context.getSystemService(ALARM_SERVICE);\r\n                    alarmManager.setExactAndAllowWhileIdle(AlarmManager.RTC_WAKEUP, 10 * 60 * 1000, pendingIntent);\r\n                    result.finish();\r\n                }\r\n            };\r\n            thread.start();\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nHere are some tips you can follow for Huawei devices (of course, depending on the Android version or device, some settings may change):\r\n\r\nStep 1\r\nFrom the Android Home, tap on Settings.\r\nTap Advanced Settings.\r\nTap Battery Optimization.\r\nSecure Tap Apps.\r\nActivate App Name.\r\n\r\nStep 2\r\nFrom the Android Home, tap on Settings.\r\nTap Apps.\r\nAdvanced Tap.\r\nSelect Ignore Battery Optimization.\r\nChoose App Name and ignore.\r\n\r\nStep 3\r\nFrom the Android Home, tap on Settings.\r\nSelect the Notifications &amp; Status Bar.\r\nTap Notification Center and find App Name.\r\nMake sure that allow Notifications and priority view are turned on.\r\n\r\nHere you can find other useful information:\r\nhttps://dontkillmyapp.com\r\n\r\n","title":"AndAllowWhileIdle alarms not working when wifi and mobile data off","body":"<p>Unfortunately, many Android device manufacturers limit background operations and alarms are one of them. I don't know why you only limit it when wifi and data are turned off. I can advise you not to use PowerManager.WakeLock but to use goAsync if you have important work to do in the broadcast receiver (for example downloading data from the server). In addition, the user must deactivate the energy saving for your app (for android versions above 12 there is an extra permission (<a href=\"https://developer.android.com/training/scheduling/alarms#exact-permission-declare\" rel=\"nofollow noreferrer\">https://developer.android.com/training/scheduling/alarms#exact-permission-declare</a> ) and probably other options (depending on the device and android version) to make the alarm trigger.</p>\n<pre><code>public class EventReceiver extends BroadcastReceiver {\n\n\n    @Override\n    public void onReceive(Context context, Intent i) {\n\n        Log.i(this.getClass().getName(), &quot;received event&quot;);\n\n        final PendingResult result = goAsync();\n        Thread thread = new Thread() {\n            public void run() {\n\n                //do some work\n\n                Intent newIntent = new Intent(context, EventReceiver.class);\n                PendingIntent pendingIntent = PendingIntent.getBroadcast(\n                        context.getApplicationContext(), Constants.REQUEST_CODE, newIntent, PendingIntent.FLAG_UPDATE_CURRENT);\n                AlarmManager alarmManager = (AlarmManager) context.getSystemService(ALARM_SERVICE);\n                alarmManager.setExactAndAllowWhileIdle(AlarmManager.RTC_WAKEUP, 10 * 60 * 1000, pendingIntent);\n                result.finish();\n            }\n        };\n        thread.start();\n\n    }\n\n}\n</code></pre>\n<p>Here are some tips you can follow for Huawei devices (of course, depending on the Android version or device, some settings may change):</p>\n<p>Step 1\nFrom the Android Home, tap on Settings.\nTap Advanced Settings.\nTap Battery Optimization.\nSecure Tap Apps.\nActivate App Name.</p>\n<p>Step 2\nFrom the Android Home, tap on Settings.\nTap Apps.\nAdvanced Tap.\nSelect Ignore Battery Optimization.\nChoose App Name and ignore.</p>\n<p>Step 3\nFrom the Android Home, tap on Settings.\nSelect the Notifications &amp; Status Bar.\nTap Notification Center and find App Name.\nMake sure that allow Notifications and priority view are turned on.</p>\n<p>Here you can find other useful information:\n<a href=\"https://dontkillmyapp.com\" rel=\"nofollow noreferrer\">https://dontkillmyapp.com</a></p>\n"}],"owner":{"account_id":14230030,"reputation":3523,"user_id":10279528,"display_name":"Nilanka Manoj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668960443,"creation_date":1668936939,"question_id":74506981,"body_markdown":"I have created a broadcast receiver to re schedule alarm. \r\n\r\n```\r\npublic class EventReceiver extends BroadcastReceiver {\r\n\r\n    PowerManager.WakeLock screenWakeLock;\r\n\r\n    @Override\r\n    public void onReceive(Context context, Intent i) {\r\n\r\n        Log.i(this.getClass().getName(), &quot;received event&quot;);\r\n\r\n\r\n        if (screenWakeLock == null) {\r\n            PowerManager pm = (PowerManager) context.getSystemService(Context.POWER_SERVICE);\r\n            screenWakeLock = pm.newWakeLock(PowerManager.SCREEN_DIM_WAKE_LOCK | PowerManager.ACQUIRE_CAUSES_WAKEUP,\r\n                &quot;ScreenLock tag from AlarmListener&quot;);\r\n            screenWakeLock.acquire();\r\n        }\r\n\r\n        //do some work\r\n\r\n        Intent newIntent = new Intent(context, EventReceiver.class);\r\n        PendingIntent pendingIntent = PendingIntent.getBroadcast(\r\n            context.getApplicationContext(), Constants.REQUEST_CODE, newIntent, PendingIntent.FLAG_UPDATE_CURRENT);\r\n        AlarmManager alarmManager = (AlarmManager) context.getSystemService(ALARM_SERVICE);\r\n        alarmManager.setExactAndAllowWhileIdle(AlarmManager.RTC_WAKEUP, 10 * 60 * 1000, pendingIntent);\r\n\r\n        if (screenWakeLock != null){\r\n            screenWakeLock.release();\r\n        }\r\n\r\n\r\n    }\r\n```\r\n\r\nI checked it for few hours in my phone(Huawei 9s) and observed that,\r\n\r\n - **when wifi or data is on** : alarm works perfectly in doze mode \r\n - **both are off** : alarm not working\r\n\r\nGot same results for **setAndAllowWhileIdle** method too. \r\nWant some help to identify root cause and fix it.\r\n\r\n\r\n","title":"AndAllowWhileIdle alarms not working when wifi and mobile data off","body":"<p>I have created a broadcast receiver to re schedule alarm.</p>\n<pre><code>public class EventReceiver extends BroadcastReceiver {\n\n    PowerManager.WakeLock screenWakeLock;\n\n    @Override\n    public void onReceive(Context context, Intent i) {\n\n        Log.i(this.getClass().getName(), &quot;received event&quot;);\n\n\n        if (screenWakeLock == null) {\n            PowerManager pm = (PowerManager) context.getSystemService(Context.POWER_SERVICE);\n            screenWakeLock = pm.newWakeLock(PowerManager.SCREEN_DIM_WAKE_LOCK | PowerManager.ACQUIRE_CAUSES_WAKEUP,\n                &quot;ScreenLock tag from AlarmListener&quot;);\n            screenWakeLock.acquire();\n        }\n\n        //do some work\n\n        Intent newIntent = new Intent(context, EventReceiver.class);\n        PendingIntent pendingIntent = PendingIntent.getBroadcast(\n            context.getApplicationContext(), Constants.REQUEST_CODE, newIntent, PendingIntent.FLAG_UPDATE_CURRENT);\n        AlarmManager alarmManager = (AlarmManager) context.getSystemService(ALARM_SERVICE);\n        alarmManager.setExactAndAllowWhileIdle(AlarmManager.RTC_WAKEUP, 10 * 60 * 1000, pendingIntent);\n\n        if (screenWakeLock != null){\n            screenWakeLock.release();\n        }\n\n\n    }\n</code></pre>\n<p>I checked it for few hours in my phone(Huawei 9s) and observed that,</p>\n<ul>\n<li><strong>when wifi or data is on</strong> : alarm works perfectly in doze mode</li>\n<li><strong>both are off</strong> : alarm not working</li>\n</ul>\n<p>Got same results for <strong>setAndAllowWhileIdle</strong> method too.\nWant some help to identify root cause and fix it.</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1668937504,"post_id":74507006,"comment_id":131523469,"body_markdown":"Please read: [Can I ask only one question per post?](https://meta.stackexchange.com/questions/222735/can-i-ask-only-one-question-per-post) --- Both questions cannot be answered definitively. It depends on the transaction boundaries, i.e. what should be part of the transaction. This is especially true for the 2nd question.","body":"Please read: <a href=\"https://meta.stackexchange.com/questions/222735/can-i-ask-only-one-question-per-post\">Can I ask only one question per post?</a> --- Both questions cannot be answered definitively. It depends on the transaction boundaries, i.e. what should be part of the transaction. This is especially true for the 2nd question."},{"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":0,"creation_date":1668943775,"post_id":74507006,"comment_id":131524376,"body_markdown":"What makes you say that &quot;default repository methods have `@Transactional(readOnly = true)`? I don&#39;t see any such annotation in the [source code of JpaRepository](https://github.com/spring-projects/spring-data-jpa/blob/main/spring-data-jpa/src/main/java/org/springframework/data/jpa/repository/JpaRepository.java) or its supertypes?","body":"What makes you say that &quot;default repository methods have <code>@Transactional(readOnly = true)</code>? I don&#39;t see any such annotation in the <a href=\"https://github.com/spring-projects/spring-data-jpa/blob/main/spring-data-jpa/src/main/java/org/springframework/data/jpa/repository/JpaRepository.java\" rel=\"nofollow noreferrer\">source code of JpaRepository</a> or its supertypes?"}],"answers":[{"tags":[],"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668954005,"creation_date":1668944438,"answer_id":74507755,"question_id":74507006,"body_markdown":"The Spring reference manual [writes](https://docs.spring.io/spring-framework/docs/current/reference/html/data-access.html#transaction-declarative-attransactional-settings):\r\n\r\n&gt; The `@Transactional` annotation is metadata that specifies that an interface, class, or method must have transactional semantics (for example, &quot;start a brand new read-only transaction when this method is invoked, suspending any existing transaction&quot;). The default @Transactional settings are as follows:\r\n&gt;\r\n&gt; * The propagation setting is PROPAGATION_REQUIRED.\r\n&gt; * The isolation level is ISOLATION_DEFAULT.\r\n&gt; * The transaction is read-write.\r\n&gt; * The transaction timeout defaults to the default timeout of the underlying transaction system, or to none if timeouts are not supported.\r\n&gt; * Any RuntimeException or Error triggers rollback, and any checked Exception does not.\r\n\r\nand the JavaDoc of `PROPAGATION_REQUIRED` says:\r\n\r\n&gt; Support a current transaction; create a new one if none exists.\r\n\r\nThat is, if `@Transactional` service calls one or more `@Transactional` repositories, the service will manage the transaction, i.e. the transaction will begin upon entering the service method, and commit or rollback upon leaving it. The `@Transactional` on the repositories will detect the existing transaction, and do nothing, causing the repositories to participate in the existing transaction.\r\n\r\nStarting a transaction in the service level is generally desirable. For one, having a single transaction means that all data is read in a single transaction, giving you stronger consistency guarantees than data loaded in separate transactions (between which another transaction might have modified the data). For another, starting a transaction has a cost, particularly with JPA, where each transaction has its own persistence context. That&#39;s why the hibernate team [speaks out](https://docs.jboss.org/hibernate/orm/6.1/userguide/html_single/Hibernate_User_Guide.html#_transactional_patterns_and_anti_patterns\r\n) against the &quot;Session-per-operation anti-pattern&quot;.","title":"Should I add @Transactional(readOnly = true) on custom methods?","body":"<p>The Spring reference manual <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/data-access.html#transaction-declarative-attransactional-settings\" rel=\"nofollow noreferrer\">writes</a>:</p>\n<blockquote>\n<p>The <code>@Transactional</code> annotation is metadata that specifies that an interface, class, or method must have transactional semantics (for example, &quot;start a brand new read-only transaction when this method is invoked, suspending any existing transaction&quot;). The default @Transactional settings are as follows:</p>\n<ul>\n<li>The propagation setting is PROPAGATION_REQUIRED.</li>\n<li>The isolation level is ISOLATION_DEFAULT.</li>\n<li>The transaction is read-write.</li>\n<li>The transaction timeout defaults to the default timeout of the underlying transaction system, or to none if timeouts are not supported.</li>\n<li>Any RuntimeException or Error triggers rollback, and any checked Exception does not.</li>\n</ul>\n</blockquote>\n<p>and the JavaDoc of <code>PROPAGATION_REQUIRED</code> says:</p>\n<blockquote>\n<p>Support a current transaction; create a new one if none exists.</p>\n</blockquote>\n<p>That is, if <code>@Transactional</code> service calls one or more <code>@Transactional</code> repositories, the service will manage the transaction, i.e. the transaction will begin upon entering the service method, and commit or rollback upon leaving it. The <code>@Transactional</code> on the repositories will detect the existing transaction, and do nothing, causing the repositories to participate in the existing transaction.</p>\n<p>Starting a transaction in the service level is generally desirable. For one, having a single transaction means that all data is read in a single transaction, giving you stronger consistency guarantees than data loaded in separate transactions (between which another transaction might have modified the data). For another, starting a transaction has a cost, particularly with JPA, where each transaction has its own persistence context. That's why the hibernate team <a href=\"https://docs.jboss.org/hibernate/orm/6.1/userguide/html_single/Hibernate_User_Guide.html#_transactional_patterns_and_anti_patterns\" rel=\"nofollow noreferrer\">speaks out</a> against the &quot;Session-per-operation anti-pattern&quot;.</p>\n"},{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668960144,"creation_date":1668959645,"answer_id":74509615,"question_id":74507006,"body_markdown":"I wouldn&#39;t pay much attention to `readOnly = true`. From Spring/Hibernate perspective specifying that causes following behaviour:\r\n\r\n`JpaTransactionManager#doBegin` calls `HibernateJpaDialect#beginTransaction`, which in turn triggers following code:\r\n\r\n```\r\nif (definition.isReadOnly()) {\r\n   session.setDefaultReadOnly(true);\r\n}\r\n```\r\n\r\nand `Session#setDefaultReadOnly` has following javadoc:\r\n\r\n&gt; Change the default for entities and proxies loaded into this session\r\n&gt; from modifiable to read-only mode, or from modifiable to read-only\r\n&gt; mode. Read-only entities are not dirty-checked and snapshots of\r\n&gt; persistent state are not maintained. Read-only entities can be\r\n&gt; modified, but changes are not persisted. When a proxy is initialized,\r\n&gt; the loaded entity will have the same read-only/modifiable setting as\r\n&gt; the uninitialized proxy has, regardless of the session&#39;s current\r\n&gt; setting.\r\n\r\nSo, `@Transactional(readOnly = true)` definition may save you some memory and CPU cycles (***it does not prevent HBN from modifying data in DB***), however in order to get some benefits from that the most outer transaction definition must be declared as readonly. ","title":"Should I add @Transactional(readOnly = true) on custom methods?","body":"<p>I wouldn't pay much attention to <code>readOnly = true</code>. From Spring/Hibernate perspective specifying that causes following behaviour:</p>\n<p><code>JpaTransactionManager#doBegin</code> calls <code>HibernateJpaDialect#beginTransaction</code>, which in turn triggers following code:</p>\n<pre><code>if (definition.isReadOnly()) {\n   session.setDefaultReadOnly(true);\n}\n</code></pre>\n<p>and <code>Session#setDefaultReadOnly</code> has following javadoc:</p>\n<blockquote>\n<p>Change the default for entities and proxies loaded into this session\nfrom modifiable to read-only mode, or from modifiable to read-only\nmode. Read-only entities are not dirty-checked and snapshots of\npersistent state are not maintained. Read-only entities can be\nmodified, but changes are not persisted. When a proxy is initialized,\nthe loaded entity will have the same read-only/modifiable setting as\nthe uninitialized proxy has, regardless of the session's current\nsetting.</p>\n</blockquote>\n<p>So, <code>@Transactional(readOnly = true)</code> definition may save you some memory and CPU cycles (<em><strong>it does not prevent HBN from modifying data in DB</strong></em>), however in order to get some benefits from that the most outer transaction definition must be declared as readonly.</p>\n"}],"owner":{"account_id":15513088,"reputation":132,"user_id":11191394,"display_name":"Lorenzo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1175,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1668960144,"creation_date":1668937203,"question_id":74507006,"body_markdown":"Let&#39;s suppose I have the following repository:\r\n\r\n```\r\npublic interface ApplicationRepository extends JpaRepository&lt;Application, Integer&gt; {\r\n\r\n\tpublic boolean existsByCode(String code);\r\n\r\n\tpublic Optional&lt;Application&gt; findByCode(String code);\r\n\r\n}\r\n```\r\n\r\nAnd the following service:\r\n\r\n```\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class ApplicationService {\r\n\r\n\tprivate final ApplicationRepository appRepo;\r\n\r\n\tpublic Application findById(Integer id) throws RecordNotFoundException {\r\n\t\treturn appRepo.findById(id)\r\n\t\t\t\t.orElseThrow(() -&gt; new RecordNotFoundException(&quot;Application with id: &quot; + id + &quot; could not be found&quot;));\r\n\t}\r\n\r\n\tpublic boolean existsByCode(String code) {\r\n\t\treturn appRepo.existsByCode(code);\r\n\t}\r\n\r\n\tpublic Application findByCode(String code) throws RecordNotFoundException {\r\n\t\treturn appRepo.findByCode(code).orElseThrow(\r\n\t\t\t\t() -&gt; new RecordNotFoundException(&quot;Application with code: &quot; + code + &quot; could not be found&quot;));\r\n\t}\r\n\r\n}\r\n```\r\n\r\n1. Since default repository methods have @Transactional(readOnly = true), should I add the annotation on my custom methods? If so it&#39;s better to add the annotation on service methods or repository&#39;s?\r\n\r\n2. If I have a third method, which call 2 other methods marked with @Transactional(readOnly = true), is it better to mark also this method with the annotation?","title":"Should I add @Transactional(readOnly = true) on custom methods?","body":"<p>Let's suppose I have the following repository:</p>\n<pre><code>public interface ApplicationRepository extends JpaRepository&lt;Application, Integer&gt; {\n\n    public boolean existsByCode(String code);\n\n    public Optional&lt;Application&gt; findByCode(String code);\n\n}\n</code></pre>\n<p>And the following service:</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class ApplicationService {\n\n    private final ApplicationRepository appRepo;\n\n    public Application findById(Integer id) throws RecordNotFoundException {\n        return appRepo.findById(id)\n                .orElseThrow(() -&gt; new RecordNotFoundException(&quot;Application with id: &quot; + id + &quot; could not be found&quot;));\n    }\n\n    public boolean existsByCode(String code) {\n        return appRepo.existsByCode(code);\n    }\n\n    public Application findByCode(String code) throws RecordNotFoundException {\n        return appRepo.findByCode(code).orElseThrow(\n                () -&gt; new RecordNotFoundException(&quot;Application with code: &quot; + code + &quot; could not be found&quot;));\n    }\n\n}\n</code></pre>\n<ol>\n<li><p>Since default repository methods have @Transactional(readOnly = true), should I add the annotation on my custom methods? If so it's better to add the annotation on service methods or repository's?</p>\n</li>\n<li><p>If I have a third method, which call 2 other methods marked with @Transactional(readOnly = true), is it better to mark also this method with the annotation?</p>\n</li>\n</ol>\n"},{"tags":["java","spring","postgresql","jpa"],"comments":[{"owner":{"account_id":12952707,"reputation":536,"user_id":9364479,"display_name":"g.momo"},"score":0,"creation_date":1612554312,"post_id":66069329,"comment_id":116812616,"body_markdown":"Have you try with the curly braces syntax (SELECT * FROM cards.combo cc WHERE cc.colors &amp;&amp; &#39;{&quot;blue&quot;, &quot;red&quot;}&#39; ) ? For that you will need to parse providedColors to String instead","body":"Have you try with the curly braces syntax (SELECT * FROM cards.combo cc WHERE cc.colors &amp;&amp; &#39;{&quot;blue&quot;, &quot;red&quot;}&#39; ) ? For that you will need to parse providedColors to String instead"},{"owner":{"account_id":6349211,"reputation":483,"user_id":4928821,"accept_rate":42,"display_name":"Farrukh Ahmed"},"score":0,"creation_date":1613402332,"post_id":66069329,"comment_id":117057499,"body_markdown":"Did you look here?\n https://stackoverflow.com/questions/40020972/bind-array-param-to-native-query.","body":"Did you look here?  <a href=\"https://stackoverflow.com/questions/40020972/bind-array-param-to-native-query\" title=\"bind array param to native query\">stackoverflow.com/questions/40020972/&hellip;</a>."},{"owner":{"account_id":5227201,"reputation":99,"user_id":4178878,"accept_rate":50,"display_name":"Sagar Kalburgi"},"score":0,"creation_date":1672873811,"post_id":66069329,"comment_id":132374112,"body_markdown":"Just curious - how does the :providecolors as a csv string look like?","body":"Just curious - how does the :providecolors as a csv string look like?"}],"answers":[{"tags":[],"owner":{"account_id":7916953,"reputation":582,"user_id":6692046,"display_name":" "},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1668960015,"creation_date":1648814563,"answer_id":71706629,"question_id":66069329,"body_markdown":"    public interface EmployeeDAO extends JpaRepository&lt;Employee,Integer&gt; {\r\n        List&lt;Employee&gt; findByEmployeeNameIn(List&lt;String&gt; names);                \r\n        // 1. Spring JPA In cause using method name\r\n        @Query(&quot;SELECT e FROM Employee e WHERE e.employeeName IN (:names)&quot;)     \r\n        // 2. Spring JPA In cause using @Query\r\n        List&lt;Employee&gt; findByEmployeeNames(@Param(&quot;names&quot;)List&lt;String&gt; names);\r\n        @Query(nativeQuery =true,value = &quot;SELECT * FROM Employee as e WHERE e.employeeName IN (:names)&quot;)   // 3. Spring JPA In cause using native query\r\n        List&lt;Employee&gt; findByEmployeeName(@Param(&quot;names&quot;) List&lt;String&gt; names);\r\n    }","title":"JPA nativeQuery taking a list/set/array as parameter","body":"<pre><code>public interface EmployeeDAO extends JpaRepository&lt;Employee,Integer&gt; {\n    List&lt;Employee&gt; findByEmployeeNameIn(List&lt;String&gt; names);                \n    // 1. Spring JPA In cause using method name\n    @Query(&quot;SELECT e FROM Employee e WHERE e.employeeName IN (:names)&quot;)     \n    // 2. Spring JPA In cause using @Query\n    List&lt;Employee&gt; findByEmployeeNames(@Param(&quot;names&quot;)List&lt;String&gt; names);\n    @Query(nativeQuery =true,value = &quot;SELECT * FROM Employee as e WHERE e.employeeName IN (:names)&quot;)   // 3. Spring JPA In cause using native query\n    List&lt;Employee&gt; findByEmployeeName(@Param(&quot;names&quot;) List&lt;String&gt; names);\n}\n</code></pre>\n"}],"owner":{"account_id":16540475,"reputation":275,"user_id":11951361,"display_name":"lgean"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2247,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668960015,"creation_date":1612552667,"question_id":66069329,"body_markdown":"Using a postgres database, I have the following entity : table `cards.combo` and column `colors VARCHAR[]`, example of values `{&#39;red&#39;, &#39;blue&#39;}`\r\n\r\nI want to find the Combos that have no colors in common, using the overlap operator (&amp;&amp;)\r\n\r\nI can&#39;t find out how to formulate the correct nativeQuery, something similar to this : \r\n```\r\n@Query(nativeQuery = true, value = &quot;SELECT * FROM cards.combo cc WHERE cc.colors &amp;&amp; CAST(ARRAY[(:providedColors)] AS VARCHAR[])&quot;)\r\nList&lt;Combo&gt; findOverlaps(@Param(&quot;providedColors&quot;) List&lt;String&gt; providedColors);\r\n```\r\n\r\n\r\nIn a console, this test works fine : \r\n```\r\nSELECT * FROM cards.combo cc WHERE cc.colors &amp;&amp; CAST(ARRAY[&#39;red&#39;] AS VARCHAR[]) \r\n```\r\n\r\nThe syntax `(:param)` is supposedly correct with other primitive parameters (int, string). I struggle to get the param `providedColors` converted to an array[] in the query. \r\n\r\nThanks !\r\n\r\n\r\n---\r\n\r\nedit : found a workaround :provide colors as a csv string, and use `&amp;&amp; CAST(STRING_TO_ARRAY((:providedColors),&#39;,&#39;) AS VARCHAR[])`","title":"JPA nativeQuery taking a list/set/array as parameter","body":"<p>Using a postgres database, I have the following entity : table <code>cards.combo</code> and column <code>colors VARCHAR[]</code>, example of values <code>{'red', 'blue'}</code></p>\n<p>I want to find the Combos that have no colors in common, using the overlap operator (&amp;&amp;)</p>\n<p>I can't find out how to formulate the correct nativeQuery, something similar to this :</p>\n<pre><code>@Query(nativeQuery = true, value = &quot;SELECT * FROM cards.combo cc WHERE cc.colors &amp;&amp; CAST(ARRAY[(:providedColors)] AS VARCHAR[])&quot;)\nList&lt;Combo&gt; findOverlaps(@Param(&quot;providedColors&quot;) List&lt;String&gt; providedColors);\n</code></pre>\n<p>In a console, this test works fine :</p>\n<pre><code>SELECT * FROM cards.combo cc WHERE cc.colors &amp;&amp; CAST(ARRAY['red'] AS VARCHAR[]) \n</code></pre>\n<p>The syntax <code>(:param)</code> is supposedly correct with other primitive parameters (int, string). I struggle to get the param <code>providedColors</code> converted to an array[] in the query.</p>\n<p>Thanks !</p>\n<hr />\n<p>edit : found a workaround :provide colors as a csv string, and use <code>&amp;&amp; CAST(STRING_TO_ARRAY((:providedColors),',') AS VARCHAR[])</code></p>\n"},{"tags":["java","android","webview"],"comments":[{"owner":{"account_id":7500334,"reputation":969,"user_id":5698994,"display_name":"Muhammad Arslan"},"score":0,"creation_date":1570715383,"post_id":58324468,"comment_id":103007564,"body_markdown":"here is my error: https://imgur.com/a/zDlspAd","body":"here is my error: <a href=\"https://imgur.com/a/zDlspAd\" rel=\"nofollow noreferrer\">imgur.com/a/zDlspAd</a>"},{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":1,"creation_date":1570715454,"post_id":58324468,"comment_id":103007624,"body_markdown":"Try some answers from [Here](https://stackoverflow.com/questions/56312065/neterr-access-denied-android-error-while-opening-webpage-in-android-activity)..","body":"Try some answers from <a href=\"https://stackoverflow.com/questions/56312065/neterr-access-denied-android-error-while-opening-webpage-in-android-activity\">Here</a>.."},{"owner":{"account_id":9766935,"reputation":538,"user_id":7240059,"accept_rate":83,"display_name":"Surabhi Choudhary"},"score":0,"creation_date":1570715705,"post_id":58324468,"comment_id":103007791,"body_markdown":"Have you added &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt; in your manifest?","body":"Have you added &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt; in your manifest?"},{"owner":{"account_id":7500334,"reputation":969,"user_id":5698994,"display_name":"Muhammad Arslan"},"score":0,"creation_date":1570715913,"post_id":58324468,"comment_id":103007939,"body_markdown":"@ADM thanks dear... the main issue is i don&#39;t know.. but i uninstaled the app and then install again... that worked for me ... bundle of thanks","body":"@ADM thanks dear... the main issue is i don&#39;t know.. but i uninstaled the app and then install again... that worked for me ... bundle of thanks"}],"answers":[{"tags":[],"owner":{"account_id":16839534,"reputation":4249,"user_id":12175239,"display_name":"Squti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668959287,"creation_date":1570715643,"answer_id":58324627,"question_id":58324468,"body_markdown":"It&#39;s because your domain doesn&#39;t use SSL. Add `android:usesCleartextTraffic=&quot;true&quot;` to your manifest application tag like so:\r\n\r\n    &lt;manifest ...&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n        &lt;application\r\n            ...\r\n            android:usesCleartextTraffic=&quot;true&quot;\r\n            ...&gt;\r\n            ...\r\n        &lt;/application&gt;\r\n    &lt;/manifest&gt;","title":"webview in Android Studio with error &quot;&quot;webpage could not be loaded because net:: ERR_ACCESS_DENIED&quot;&quot;","body":"<p>It's because your domain doesn't use SSL. Add <code>android:usesCleartextTraffic=&quot;true&quot;</code> to your manifest application tag like so:</p>\n<pre><code>&lt;manifest ...&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;application\n        ...\n        android:usesCleartextTraffic=&quot;true&quot;\n        ...&gt;\n        ...\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n"}],"owner":{"account_id":7500334,"reputation":969,"user_id":5698994,"display_name":"Muhammad Arslan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3055,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1668959287,"creation_date":1570715170,"question_id":58324468,"body_markdown":"In my previous project I&#39;ve implemented a review that works fine.. but when I created a new webview and implement these features then they works like this.\r\n\r\nThe error is stated that &quot;webpage could not be loaded  because of net:: ERR_ACCESS_DENIED&quot;\r\n\r\nmy main code:\r\n\r\n``` \r\npublic class MainActivity extends AppCompatActivity {\r\n    WebView webView;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        webView = findViewById(R.id.webView);\r\n        webView.getSettings().setJavaScriptEnabled(true);\r\n        webView.getSettings().setBlockNetworkLoads (false);\r\n        webView.loadUrl(&quot;http://www.dailytennistips.com&quot;);\r\n        Log.e(&quot;Link&quot;,&quot;http://www.dailytennistips.com&quot;);\r\n        webView.setWebViewClient(new WebViewClient());\r\n\r\n    }\r\n```\r\nxml file \r\n```\r\n\r\n    &lt;WebView\r\n        android:id=&quot;@+id/webView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:layout_editor_absoluteX=&quot;221dp&quot;\r\n        tools:layout_editor_absoluteY=&quot;243dp&quot; /&gt;\r\n```\r\n","title":"webview in Android Studio with error &quot;&quot;webpage could not be loaded because net:: ERR_ACCESS_DENIED&quot;&quot;","body":"<p>In my previous project I've implemented a review that works fine.. but when I created a new webview and implement these features then they works like this.</p>\n\n<p>The error is stated that \"webpage could not be loaded  because of net:: ERR_ACCESS_DENIED\"</p>\n\n<p>my main code:</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n    WebView webView;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        webView = findViewById(R.id.webView);\n        webView.getSettings().setJavaScriptEnabled(true);\n        webView.getSettings().setBlockNetworkLoads (false);\n        webView.loadUrl(\"http://www.dailytennistips.com\");\n        Log.e(\"Link\",\"http://www.dailytennistips.com\");\n        webView.setWebViewClient(new WebViewClient());\n\n    }\n</code></pre>\n\n<p>xml file </p>\n\n<pre><code>\n    &lt;WebView\n        android:id=\"@+id/webView\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        tools:layout_editor_absoluteX=\"221dp\"\n        tools:layout_editor_absoluteY=\"243dp\" /&gt;\n</code></pre>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":5,"creation_date":1668809247,"post_id":74495782,"comment_id":131504531,"body_markdown":"Fun fact: Every factorial `n!` where `n &gt;= 2` is an even number. An even number must be divisible by 2, and thus for `n! = n * (n-1) * ... 3 * 2 * 1 = 2x`, where `x` is the factorial product before 2.","body":"Fun fact: Every factorial <code>n!</code> where <code>n &gt;= 2</code> is an even number. An even number must be divisible by 2, and thus for <code>n! = n * (n-1) * ... 3 * 2 * 1 = 2x</code>, where <code>x</code> is the factorial product before 2."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1668809318,"post_id":74495782,"comment_id":131504547,"body_markdown":"&quot;*I want to collect all the numbers in the range [a, b] whose factorial is an even number.*&quot; - `(n  N): n &gt; 1  n % 2 = 0`.","body":"&quot;<i>I want to collect all the numbers in the range [a, b] whose factorial is an even number.</i>&quot; - <code>(n  N): n &gt; 1  n % 2 = 0</code>."},{"owner":{"account_id":286249,"reputation":43941,"user_id":585411,"accept_rate":60,"display_name":"btilly"},"score":2,"creation_date":1668809323,"post_id":74495782,"comment_id":131504548,"body_markdown":"For those who didn&#39;t realize, the question is how many have a factorial that STARTS with an even number.","body":"For those who didn&#39;t realize, the question is how many have a factorial that STARTS with an even number."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1668809414,"post_id":74495782,"comment_id":131504578,"body_markdown":"@btilly good catch, overlooked those comments. I&#39;m tempted to think there might be a closed form solution for this as well though.","body":"@btilly good catch, overlooked those comments. I&#39;m tempted to think there might be a closed form solution for this as well though."},{"owner":{"account_id":12221317,"reputation":569,"user_id":8920328,"display_name":"Melron"},"score":0,"creation_date":1668809515,"post_id":74495782,"comment_id":131504594,"body_markdown":"Your code can&#39;t be compiled. Also, long values does not have charAt method","body":"Your code can&#39;t be compiled. Also, long values does not have charAt method"},{"owner":{"account_id":3837342,"reputation":6111,"user_id":3181365,"accept_rate":70,"display_name":"learner"},"score":0,"creation_date":1668809615,"post_id":74495782,"comment_id":131504610,"body_markdown":"@Melron, I corrected that now.","body":"@Melron, I corrected that now."},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1668809907,"post_id":74495782,"comment_id":131504676,"body_markdown":"Given the constraints, the values can be calculated ahead of time and put in a List, then just pull the items that are in the input range.","body":"Given the constraints, the values can be calculated ahead of time and put in a List, then just pull the items that are in the input range."},{"owner":{"account_id":2326766,"reputation":8079,"user_id":2041077,"accept_rate":40,"display_name":"Dave"},"score":0,"creation_date":1668809938,"post_id":74495782,"comment_id":131504680,"body_markdown":"If 1 &lt; a &lt; b &lt; 100, why not just precompute the answer and look it up when needed?","body":"If 1 &lt; a &lt; b &lt; 100, why not just precompute the answer and look it up when needed?"},{"owner":{"account_id":2326766,"reputation":8079,"user_id":2041077,"accept_rate":40,"display_name":"Dave"},"score":1,"creation_date":1668810737,"post_id":74495782,"comment_id":131504812,"body_markdown":"[2, 3, 4, 8, 12, 13, 14, 16, 18, 20, 23, 24, 26, 29, 30, 31, 32, 33, 34, 39, 40, 43, 44, 47, 49, 52, 53, 54, 57, 58, 60, 65, 68, 71, 72, 73, 75, 79, 82, 85, 86, 87]","body":"[2, 3, 4, 8, 12, 13, 14, 16, 18, 20, 23, 24, 26, 29, 30, 31, 32, 33, 34, 39, 40, 43, 44, 47, 49, 52, 53, 54, 57, 58, 60, 65, 68, 71, 72, 73, 75, 79, 82, 85, 86, 87]"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1668813493,"post_id":74495782,"comment_id":131505300,"body_markdown":"Most factorials for `n` where  `1 &lt;= n &lt;= 100` will greatly exceed the capacity of a `long`.","body":"Most factorials for <code>n</code> where  <code>1 &lt;= n &lt;= 100</code> will greatly exceed the capacity of a <code>long</code>."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1668866248,"post_id":74495782,"comment_id":131512580,"body_markdown":"I noticed your range is described as `[a,b]` which in math represents a closed interval.  In java, ranges are typically half open `[a,b)` with `b` being excluded.  Just wondering which it was.","body":"I noticed your range is described as <code>[a,b]</code> which in math represents a closed interval.  In java, ranges are typically half open <code>[a,b)</code> with <code>b</code> being excluded.  Just wondering which it was."},{"owner":{"account_id":2882210,"reputation":1777,"user_id":2472827,"display_name":"Neil"},"score":0,"creation_date":1668920944,"post_id":74495782,"comment_id":131521555,"body_markdown":"I tried `sqrt() e^(-n) n^(n + 1/2) 2^(ceiling(-(2 log(n) n - 2 n + log(2 n ))/log(100)) + 1/2) 5^ceiling(-(2 log(n) n - 2 n + log(2 n ))/log(100))`, which I believe is the last number, but it outputs `inf` all the time.","body":"I tried <code>sqrt() e^(-n) n^(n + 1&#47;2) 2^(ceiling(-(2 log(n) n - 2 n + log(2 n ))&#47;log(100)) + 1&#47;2) 5^ceiling(-(2 log(n) n - 2 n + log(2 n ))&#47;log(100))</code>, which I believe is the last number, but it outputs <code>inf</code> all the time."}],"answers":[{"tags":[],"owner":{"account_id":12221317,"reputation":569,"user_id":8920328,"display_name":"Melron"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1668810412,"creation_date":1668810412,"answer_id":74495921,"question_id":74495782,"body_markdown":"Is simpler than the way you thought that.\r\n\r\n 1. Loop from a to b\r\n 2. Calc the factorial of the loop index\r\n 3. Check if the 1st character of the generated index is even and add it to your list\r\n 4. Print the list\r\n\r\n    \tprivate static List&lt;Integer&gt; process(int a, int b)\r\n\t\t{\r\n\t\t\tList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n\t\t\tfor (int i = a; i &lt;= b; i++)\r\n\t\t\t{\r\n\t\t\t\tfinal int factorial = calcFactorial(i);\r\n\t\t\t\tif (factorialStartsWithEven(factorial))\r\n\t\t\t\t\tlist.add(i);\r\n\t\t\t}\r\n\t\t\treturn list;\r\n\t\t}\r\n\t\t\r\n\t\tprivate static boolean factorialStartsWithEven(int factorial)\r\n\t\t{\r\n\t\t\tfinal String strVal = String.valueOf(factorial);\r\n\t\t\tfinal int intVal = Integer.valueOf(strVal.charAt(0));\r\n\t\t\treturn intVal % 2 == 0;\r\n\t\t}\r\n\t\t\r\n\t\tprivate static int calcFactorial(int n)\r\n\t\t{\r\n\t\t\tif (n == 0)\r\n\t\t\t\treturn 1;\r\n\t\t\treturn (n * calcFactorial(n - 1));\r\n\t\t}","title":"Factorial starts with a even number","body":"<p>Is simpler than the way you thought that.</p>\n<ol>\n<li><p>Loop from a to b</p>\n</li>\n<li><p>Calc the factorial of the loop index</p>\n</li>\n<li><p>Check if the 1st character of the generated index is even and add it to your list</p>\n</li>\n<li><p>Print the list</p>\n<pre><code>private static List&lt;Integer&gt; process(int a, int b)\n{\n    List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n    for (int i = a; i &lt;= b; i++)\n    {\n        final int factorial = calcFactorial(i);\n        if (factorialStartsWithEven(factorial))\n            list.add(i);\n    }\n    return list;\n}\n\nprivate static boolean factorialStartsWithEven(int factorial)\n{\n    final String strVal = String.valueOf(factorial);\n    final int intVal = Integer.valueOf(strVal.charAt(0));\n    return intVal % 2 == 0;\n}\n\nprivate static int calcFactorial(int n)\n{\n    if (n == 0)\n        return 1;\n    return (n * calcFactorial(n - 1));\n}\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1668866589,"creation_date":1668812762,"answer_id":74496168,"question_id":74495782,"body_markdown":"I am using `BigInteger` to solve this. To help speed up the process I am memoizing subsequent factorial computations as starting points for future ones.  I also set up a record to hold pertinent data to facilitate the process.\r\n\r\nThere may be a mathematical way to predict the parity of the first digit but for now, this seems to work.\r\n```\r\nimport java.math.BigInteger;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class FactorialStartsWithEven {\r\n\r\n    public static void main(String[] args) {\r\n       \r\n        List&lt;Integer&gt; list = getForRange(1, 20);\r\n        System.out.println(list);\r\n    }\r\n```\r\nprints\r\n```\r\n[2, 3, 4, 8, 12, 13, 14, 16, 18, 20] \r\n```\r\n    public static List&lt;Integer&gt; getForRange(int start, int end) {\r\n        List&lt;Integer&gt; results = new ArrayList&lt;&gt;();\r\n        for (int i = start; i &lt;= end; i++) {\r\n           if(factorialStartsWithEven(i)) {\r\n               results.add(i);\r\n           }\r\n        }\r\n        return results;\r\n    }\r\n\r\nRecord declared to hold the data\r\n```\r\n    record Fact(BigInteger fact, int n, boolean parity) {}\r\n```\r\nInitialize the Memo for computed factorials\r\n```   \r\n    static List&lt;Fact&gt; computed = new ArrayList&lt;&gt;(List.of(\r\n            new Fact(BigInteger.ONE, 0, false),\r\n            new Fact(BigInteger.ONE, 1, false),\r\n            new Fact(BigInteger.TWO, 2, true)));\r\n```\r\n- If the value already exists, just look it up and return the boolean.\r\n- else, get the last computed value and start computing up to `n`, adding each factorial to the list as it is computed.\r\n```  \r\n    public static boolean factorialStartsWithEven(int n) {\r\n        if (n &lt; computed.size()) {\r\n            return computed.get(n).parity;\r\n        }\r\n        Fact f = computed.get(computed.size()-1);\r\n        BigInteger b = f.fact;\r\n        Fact result = null;\r\n        for (int k = f.n+1; k &lt;= n; k++) {\r\n            b = b.multiply(BigInteger.valueOf(k));\r\n            result = new Fact(b, k, Character.digit(b.toString().charAt(0),10) % 2 == 0);\r\n            computed.add(result);\r\n        }\r\n        return result.parity;\r\n    }\r\n\r\n\r\n","title":"Factorial starts with a even number","body":"<p>I am using <code>BigInteger</code> to solve this. To help speed up the process I am memoizing subsequent factorial computations as starting points for future ones.  I also set up a record to hold pertinent data to facilitate the process.</p>\n<p>There may be a mathematical way to predict the parity of the first digit but for now, this seems to work.</p>\n<pre><code>import java.math.BigInteger;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class FactorialStartsWithEven {\n\n    public static void main(String[] args) {\n       \n        List&lt;Integer&gt; list = getForRange(1, 20);\n        System.out.println(list);\n    }\n</code></pre>\n<p>prints</p>\n<pre><code>[2, 3, 4, 8, 12, 13, 14, 16, 18, 20] \n</code></pre>\n<pre><code>public static List&lt;Integer&gt; getForRange(int start, int end) {\n    List&lt;Integer&gt; results = new ArrayList&lt;&gt;();\n    for (int i = start; i &lt;= end; i++) {\n       if(factorialStartsWithEven(i)) {\n           results.add(i);\n       }\n    }\n    return results;\n}\n</code></pre>\n<p>Record declared to hold the data</p>\n<pre><code>    record Fact(BigInteger fact, int n, boolean parity) {}\n</code></pre>\n<p>Initialize the Memo for computed factorials</p>\n<pre><code>    static List&lt;Fact&gt; computed = new ArrayList&lt;&gt;(List.of(\n            new Fact(BigInteger.ONE, 0, false),\n            new Fact(BigInteger.ONE, 1, false),\n            new Fact(BigInteger.TWO, 2, true)));\n</code></pre>\n<ul>\n<li>If the value already exists, just look it up and return the boolean.</li>\n<li>else, get the last computed value and start computing up to <code>n</code>, adding each factorial to the list as it is computed.</li>\n</ul>\n<pre><code>    public static boolean factorialStartsWithEven(int n) {\n        if (n &lt; computed.size()) {\n            return computed.get(n).parity;\n        }\n        Fact f = computed.get(computed.size()-1);\n        BigInteger b = f.fact;\n        Fact result = null;\n        for (int k = f.n+1; k &lt;= n; k++) {\n            b = b.multiply(BigInteger.valueOf(k));\n            result = new Fact(b, k, Character.digit(b.toString().charAt(0),10) % 2 == 0);\n            computed.add(result);\n        }\n        return result.parity;\n    }\n\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2326766,"reputation":8079,"user_id":2041077,"accept_rate":40,"display_name":"Dave"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668819335,"creation_date":1668818127,"answer_id":74496678,"question_id":74495782,"body_markdown":"Here&#39;s Ruby code that solves this for your parameters. I don&#39;t know Java but it will be easy to translate. There&#39;s no point solving the hard generic problem when your input parameters are so modest (b &lt;= 100 in particular). My array stops at 87 because 88! through 100! all have odd leading digits.\r\n\r\n    def get_list(a, b)\r\n      arr = [2, 3, 4, 8, 12, 13, 14, 16, 18, 20, 23, 24, 26, 29, 30, 31, 32, 33, 34, 39, 40, 43, 44, 47, 49, 52, 53, 54, 57, 58, 60, 65, 68, 71, 72, 73, 75, 79, 82, 85, 86, 87]\r\n      \r\n      list = []\r\n      \r\n      arr.each do |val|\r\n        list.append(val) if a &lt;= val &amp;&amp; val &lt;= b\r\n      end\r\n      \r\n      return list\r\n    end\r\n\r\n    &gt; get_list(10, 20)\r\n    =&gt; [12, 13, 14, 16, 18, 20]\r\n\r\n","title":"Factorial starts with a even number","body":"<p>Here's Ruby code that solves this for your parameters. I don't know Java but it will be easy to translate. There's no point solving the hard generic problem when your input parameters are so modest (b &lt;= 100 in particular). My array stops at 87 because 88! through 100! all have odd leading digits.</p>\n<pre><code>def get_list(a, b)\n  arr = [2, 3, 4, 8, 12, 13, 14, 16, 18, 20, 23, 24, 26, 29, 30, 31, 32, 33, 34, 39, 40, 43, 44, 47, 49, 52, 53, 54, 57, 58, 60, 65, 68, 71, 72, 73, 75, 79, 82, 85, 86, 87]\n  \n  list = []\n  \n  arr.each do |val|\n    list.append(val) if a &lt;= val &amp;&amp; val &lt;= b\n  end\n  \n  return list\nend\n\n&gt; get_list(10, 20)\n=&gt; [12, 13, 14, 16, 18, 20]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668870951,"creation_date":1668819090,"answer_id":74496760,"question_id":74495782,"body_markdown":"This is a filthy solution - I&#39;m not really recommending it, just posting it here for interest - but the lower-value digits will have relatively little impact on the first digit. As such:\r\n\r\n    import java.math.BigInteger;\r\n    public class Main {  \r\n      public static void main(String args[]) {\r\n        long acc = 1;\r\n        int limit = (int)Math.log10(Long.MAX_VALUE);\r\n        for (int i = 1; i &lt;= 100; i++){\r\n          int accLength = (int)Math.log10(acc) + 1;\r\n          int iLength = (int)Math.log10(i) + 1;\r\n          //System.out.printf(&quot;Acc :%s, accLength : %s, i : %s, iLength : %s \\n&quot;, acc, accLength, i, iLength);\r\n          if (accLength + iLength &gt;= limit){\r\n            //System.out.printf(&quot;Adjusting %s by %s&quot;, acc, iLength);\r\n            acc = acc / (long)(Math.pow(10, iLength));\r\n            //System.out.println(&quot; becomes: &quot; + acc);\r\n          }\r\n          acc = acc * i;\r\n          System.out.printf(&quot;acc is %s\\n&quot;, acc);\r\n        }\r\n      }\r\n    }\r\n\r\nForgive the sloppiness, I haven&#39;t worked in Java in a long time.\r\n\r\nAnyway, this solution is based on the fact that trailing digits won&#39;t contribute to the leading digits very much. So - and don&#39;t tell anyone I said it was okay to do math this way - I&#39;m just discarding them, dividing by some power of 10, and only keeping about as much as I can fit in a `long`. \r\n\r\nI&#39;m actually uncertain how long this will remain accurate for. I&#39;m curious if anyone wants to weigh in on that, but my suspicion is that this will hold up until the digits of `i` (the thing we&#39;re taking the factorial of) become significant relative to the length of a long.\r\n\r\n","title":"Factorial starts with a even number","body":"<p>This is a filthy solution - I'm not really recommending it, just posting it here for interest - but the lower-value digits will have relatively little impact on the first digit. As such:</p>\n<pre><code>import java.math.BigInteger;\npublic class Main {  \n  public static void main(String args[]) {\n    long acc = 1;\n    int limit = (int)Math.log10(Long.MAX_VALUE);\n    for (int i = 1; i &lt;= 100; i++){\n      int accLength = (int)Math.log10(acc) + 1;\n      int iLength = (int)Math.log10(i) + 1;\n      //System.out.printf(&quot;Acc :%s, accLength : %s, i : %s, iLength : %s \\n&quot;, acc, accLength, i, iLength);\n      if (accLength + iLength &gt;= limit){\n        //System.out.printf(&quot;Adjusting %s by %s&quot;, acc, iLength);\n        acc = acc / (long)(Math.pow(10, iLength));\n        //System.out.println(&quot; becomes: &quot; + acc);\n      }\n      acc = acc * i;\n      System.out.printf(&quot;acc is %s\\n&quot;, acc);\n    }\n  }\n}\n</code></pre>\n<p>Forgive the sloppiness, I haven't worked in Java in a long time.</p>\n<p>Anyway, this solution is based on the fact that trailing digits won't contribute to the leading digits very much. So - and don't tell anyone I said it was okay to do math this way - I'm just discarding them, dividing by some power of 10, and only keeping about as much as I can fit in a <code>long</code>.</p>\n<p>I'm actually uncertain how long this will remain accurate for. I'm curious if anyone wants to weigh in on that, but my suspicion is that this will hold up until the digits of <code>i</code> (the thing we're taking the factorial of) become significant relative to the length of a long.</p>\n"}],"owner":{"account_id":3837342,"reputation":6111,"user_id":3181365,"accept_rate":70,"display_name":"learner"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":705,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":74496168,"answer_count":4,"score":5,"last_activity_date":1668959043,"creation_date":1668809090,"question_id":74495782,"body_markdown":"I want to collect all the numbers in the range [a, b] whose factorial starts with an even number.\r\n\r\n**For example:**\r\n\r\n    a = 1, b = 10\r\n\r\n**Answer:**\r\n\r\n    2 3 4 8\r\n\r\n**Explanation:**\r\n\r\n    2! = 2 = starts with even\r\n    3! = 6 = starts with even\r\n    4! = 24 = starts with even\r\n    8! = 40320 = starts with even\r\n\r\n**Constraints:**\r\n\r\n1 &lt;= a,b &lt;= 100\r\n\r\nHere is my code:\r\n\r\n    List&lt;Integer&gt; process(int a, int b) {\r\n    \tlong base = i;\r\n    \tfor(int i=1; i&lt;=a; i++) base *= i;\r\n    \t\r\n    \tif(even(base)) list.add(a);\r\n    \t\r\n    \tfor(int i=a+1; i&lt;=b; i++) {\r\n    \t\tbase *= i;\r\n    \t\tif(even(base)) list.add(i);\r\n    \t}\r\n    \treturn list;\r\n    }\r\n    \r\n    boolean even(long k) {\r\n    \tint z = (&quot;&quot; + k).charAt(0) - &#39;0&#39;;\r\n    \treturn z % 2 == 0;\r\n    }\r\n\r\n\r\nThis was asked some days back in a coding challenge, when I implemented this, 6 hidden test cases were failing out of 15 test cases. I am not able to find what is the bug in this code.","title":"Factorial starts with a even number","body":"<p>I want to collect all the numbers in the range [a, b] whose factorial starts with an even number.</p>\n<p><strong>For example:</strong></p>\n<pre><code>a = 1, b = 10\n</code></pre>\n<p><strong>Answer:</strong></p>\n<pre><code>2 3 4 8\n</code></pre>\n<p><strong>Explanation:</strong></p>\n<pre><code>2! = 2 = starts with even\n3! = 6 = starts with even\n4! = 24 = starts with even\n8! = 40320 = starts with even\n</code></pre>\n<p><strong>Constraints:</strong></p>\n<p>1 &lt;= a,b &lt;= 100</p>\n<p>Here is my code:</p>\n<pre><code>List&lt;Integer&gt; process(int a, int b) {\n    long base = i;\n    for(int i=1; i&lt;=a; i++) base *= i;\n    \n    if(even(base)) list.add(a);\n    \n    for(int i=a+1; i&lt;=b; i++) {\n        base *= i;\n        if(even(base)) list.add(i);\n    }\n    return list;\n}\n\nboolean even(long k) {\n    int z = (&quot;&quot; + k).charAt(0) - '0';\n    return z % 2 == 0;\n}\n</code></pre>\n<p>This was asked some days back in a coding challenge, when I implemented this, 6 hidden test cases were failing out of 15 test cases. I am not able to find what is the bug in this code.</p>\n"},{"tags":["java","maven","pom.xml","slf4j"],"answers":[{"tags":[],"owner":{"account_id":1817574,"reputation":256,"user_id":1652377,"display_name":"Chris Rankin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668958945,"creation_date":1668732878,"answer_id":74483829,"question_id":67670796,"body_markdown":"In my case, this error was caused by SLF4J 2.0 searching for instances of `org.slf4j.spi.SLF4JServiceProvider` in the ThreadContextClassLoader, which was set to the Application classloader by default. Unfortunately, my code was actually running inside a _completely separate_ classloader which contained its own instances of `slf4j-api` and `slf4j-simple`.\r\n\r\nThe bottom line is that `slf4j-api` inside my isolated classloader found `slf4j-simple` inside the Application classloader, which was not assignable (i.e. &quot;not a subtype&quot;) to the service interface.\r\n\r\nI was able to fix the problem by setting the ThreadContextClassLoader correctly before my code executed `LoggerFactory.getLogger(clazz)`.\r\n\r\nPersonally though, I think this is a bug in how SLF4J is using `ServiceLoader`. Specifically, `LoggerFactory.findServiceProviders()` should be using:\r\n```java\r\nServiceLoader.load(SLF4JServiceProvider.class, LoggerFactory.class.getClassLoader())\r\n```\r\ninstead of\r\n```java\r\nServiceLoader.load(SLF4JServiceProvider.class)\r\n```","title":"How to resolve - Provider org.slf4j.simple.SimpleServiceProvider not a subtype?","body":"<p>In my case, this error was caused by SLF4J 2.0 searching for instances of <code>org.slf4j.spi.SLF4JServiceProvider</code> in the ThreadContextClassLoader, which was set to the Application classloader by default. Unfortunately, my code was actually running inside a <em>completely separate</em> classloader which contained its own instances of <code>slf4j-api</code> and <code>slf4j-simple</code>.</p>\n<p>The bottom line is that <code>slf4j-api</code> inside my isolated classloader found <code>slf4j-simple</code> inside the Application classloader, which was not assignable (i.e. &quot;not a subtype&quot;) to the service interface.</p>\n<p>I was able to fix the problem by setting the ThreadContextClassLoader correctly before my code executed <code>LoggerFactory.getLogger(clazz)</code>.</p>\n<p>Personally though, I think this is a bug in how SLF4J is using <code>ServiceLoader</code>. Specifically, <code>LoggerFactory.findServiceProviders()</code> should be using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ServiceLoader.load(SLF4JServiceProvider.class, LoggerFactory.class.getClassLoader())\n</code></pre>\n<p>instead of</p>\n<pre class=\"lang-java prettyprint-override\"><code>ServiceLoader.load(SLF4JServiceProvider.class)\n</code></pre>\n"}],"owner":{"account_id":9291658,"reputation":21,"user_id":6899923,"display_name":"Abhinav Mudgal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1312,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1668958945,"creation_date":1621853440,"question_id":67670796,"body_markdown":"I changed dependency version for slf4j.simple from 1.6.0 to 2.0.0alpha1 and facing this error on running mvn clean install command - \r\n\r\n    &lt;dependency&gt;    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;    &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;    &lt;version&gt;2.0.0-alpha1&lt;/version&gt;    &lt;scope&gt;provided&lt;/scope&gt;&lt;/dependency&gt;\r\n\r\n\r\nStack trace - \r\n\r\n    Error during instantiation of the implementation object\r\n    java.util.ServiceConfigurationError: org.slf4j.spi.SLF4JServiceProvider: Provider org.slf4j.simple.SimpleServiceProvider not a subtype\r\n            at java.util.ServiceLoader.fail(ServiceLoader.java:239)\r\n            at java.util.ServiceLoader.access$300(ServiceLoader.java:185)\r\n            at java.util.ServiceLoader$LazyIterator.nextService(ServiceLoader.java:376)\r\n            at java.util.ServiceLoader$LazyIterator.next(ServiceLoader.java:404)\r\n            at java.util.ServiceLoader$1.next(ServiceLoader.java:480)\r\n            at org.slf4j.LoggerFactory.findServiceProviders(LoggerFactory.java:104)\r\n            at org.slf4j.LoggerFactory.bind(LoggerFactory.java:147)\r\n            at org.slf4j.LoggerFactory.performInitialization(LoggerFactory.java:139)\r\n            at org.slf4j.LoggerFactory.getProvider(LoggerFactory.java:418)\r\n            at org.slf4j.LoggerFactory.getILoggerFactory(LoggerFactory.java:404)\r\n            at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:353)\r\n            at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:379)\r\n\r\n","title":"How to resolve - Provider org.slf4j.simple.SimpleServiceProvider not a subtype?","body":"<p>I changed dependency version for slf4j.simple from 1.6.0 to 2.0.0alpha1 and facing this error on running mvn clean install command -</p>\n<pre><code>&lt;dependency&gt;    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;    &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;    &lt;version&gt;2.0.0-alpha1&lt;/version&gt;    &lt;scope&gt;provided&lt;/scope&gt;&lt;/dependency&gt;\n</code></pre>\n<p>Stack trace -</p>\n<pre><code>Error during instantiation of the implementation object\njava.util.ServiceConfigurationError: org.slf4j.spi.SLF4JServiceProvider: Provider org.slf4j.simple.SimpleServiceProvider not a subtype\n        at java.util.ServiceLoader.fail(ServiceLoader.java:239)\n        at java.util.ServiceLoader.access$300(ServiceLoader.java:185)\n        at java.util.ServiceLoader$LazyIterator.nextService(ServiceLoader.java:376)\n        at java.util.ServiceLoader$LazyIterator.next(ServiceLoader.java:404)\n        at java.util.ServiceLoader$1.next(ServiceLoader.java:480)\n        at org.slf4j.LoggerFactory.findServiceProviders(LoggerFactory.java:104)\n        at org.slf4j.LoggerFactory.bind(LoggerFactory.java:147)\n        at org.slf4j.LoggerFactory.performInitialization(LoggerFactory.java:139)\n        at org.slf4j.LoggerFactory.getProvider(LoggerFactory.java:418)\n        at org.slf4j.LoggerFactory.getILoggerFactory(LoggerFactory.java:404)\n        at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:353)\n        at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:379)\n</code></pre>\n"},{"tags":["java","completable-future"],"answers":[{"tags":[],"owner":{"account_id":4753102,"reputation":3151,"user_id":4886722,"display_name":"Dmitry Khamitov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1668958484,"creation_date":1668958484,"answer_id":74509482,"question_id":74506031,"body_markdown":"This is because you are completing the wrong future. You need to get a reference to the first stage and complete that to see the `whenComplete` in action:\r\n```\r\npublic class TestCompletableFuture {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        // get reference\r\n        CompletableFuture&lt;Void&gt; future = new CompletableFuture&lt;&gt;();\r\n        \r\n        // configure the action that to be run when the future is complete\r\n        CompletableFuture&lt;Void&gt; future2 = future\r\n                .whenComplete((res, exc) -&gt; {\r\n                            System.out.println(&quot;inside handle.&quot;);\r\n                            if (exc != null) {\r\n                                System.out.println(&quot;exception.&quot;);\r\n                            }\r\n                            System.out.println(&quot;completed.&quot;);\r\n                        }\r\n                );\r\n\r\n        future.completeExceptionally(new Exception(&quot;exception&quot;));\r\n        System.out.println(&quot;done.&quot;);\r\n    }\r\n}\r\n```\r\nSo, now the code speaks for itself... When the `future` is complete run that action `(res, exc) -&gt; {...}`. And then just trigger that completion on the `future` by calling `completeExceptionally(...)` on it.\r\n\r\nAnother thing to note is that all of the above stages (futures) are completed exceptionally now:\r\n```\r\nSystem.out.println(future.isDone()); // true\r\nSystem.out.println(future2.isDone()); // true\r\n\r\nSystem.out.println(future.isCompletedExceptionally()); // true\r\nSystem.out.println(future2.isCompletedExceptionally()); // true\r\n```","title":"java CompletableFuture completion sequence","body":"<p>This is because you are completing the wrong future. You need to get a reference to the first stage and complete that to see the <code>whenComplete</code> in action:</p>\n<pre><code>public class TestCompletableFuture {\n\n    public static void main(String[] args) throws Exception {\n        // get reference\n        CompletableFuture&lt;Void&gt; future = new CompletableFuture&lt;&gt;();\n        \n        // configure the action that to be run when the future is complete\n        CompletableFuture&lt;Void&gt; future2 = future\n                .whenComplete((res, exc) -&gt; {\n                            System.out.println(&quot;inside handle.&quot;);\n                            if (exc != null) {\n                                System.out.println(&quot;exception.&quot;);\n                            }\n                            System.out.println(&quot;completed.&quot;);\n                        }\n                );\n\n        future.completeExceptionally(new Exception(&quot;exception&quot;));\n        System.out.println(&quot;done.&quot;);\n    }\n}\n</code></pre>\n<p>So, now the code speaks for itself... When the <code>future</code> is complete run that action <code>(res, exc) -&gt; {...}</code>. And then just trigger that completion on the <code>future</code> by calling <code>completeExceptionally(...)</code> on it.</p>\n<p>Another thing to note is that all of the above stages (futures) are completed exceptionally now:</p>\n<pre><code>System.out.println(future.isDone()); // true\nSystem.out.println(future2.isDone()); // true\n\nSystem.out.println(future.isCompletedExceptionally()); // true\nSystem.out.println(future2.isCompletedExceptionally()); // true\n</code></pre>\n"}],"owner":{"account_id":11656932,"reputation":309,"user_id":8536367,"display_name":"ssapgosu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":308,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74509482,"answer_count":1,"score":1,"last_activity_date":1668958484,"creation_date":1668924462,"question_id":74506031,"body_markdown":"From CompletableFuture javadocs:\r\n\r\n&gt; Actions supplied for dependent completions of non-async methods may be\r\n&gt; performed by the thread that completes the current CompletableFuture,\r\n&gt; or by any other caller of a completion method.\r\n\r\nand looking into `CompletableFuture.complete()` it calls `postComplete()` which seems to pop off the dependent chains and tries to complete them. \r\n\r\nTo test my understanding, I wrote a simple program\r\n```\r\nimport java.util.concurrent.*;\r\npublic class TestCompletableFuture {\r\n    \r\n    public static void main(String[] args) throws Exception {\r\n        CompletableFuture&lt;Void&gt; future = new CompletableFuture&lt;Void&gt;()\r\n            .whenComplete((res, exc) -&gt; {\r\n                System.out.println(&quot;inside handle.&quot;);\r\n                if (exc != null) {\r\n                    System.out.println(&quot;exception.&quot;);\r\n                }\r\n                System.out.println(&quot;completed.&quot;);\r\n            }\r\n        );\r\n\r\n        future.completeExceptionally(new Exception(&quot;exception&quot;));\r\n        System.out.println(&quot;done.&quot;);\r\n    }\r\n}\r\n```\r\nthe output of the code:\r\n```\r\ndone.\r\n```\r\n\r\nFrom my understanding, when the main thread calls `future.completeExceptionally()` it should invoke the function passed into `CompletableFuture.whenComplete()`. \r\n\r\nWhy is this not the case?\r\n\r\n","title":"java CompletableFuture completion sequence","body":"<p>From CompletableFuture javadocs:</p>\n<blockquote>\n<p>Actions supplied for dependent completions of non-async methods may be\nperformed by the thread that completes the current CompletableFuture,\nor by any other caller of a completion method.</p>\n</blockquote>\n<p>and looking into <code>CompletableFuture.complete()</code> it calls <code>postComplete()</code> which seems to pop off the dependent chains and tries to complete them.</p>\n<p>To test my understanding, I wrote a simple program</p>\n<pre><code>import java.util.concurrent.*;\npublic class TestCompletableFuture {\n    \n    public static void main(String[] args) throws Exception {\n        CompletableFuture&lt;Void&gt; future = new CompletableFuture&lt;Void&gt;()\n            .whenComplete((res, exc) -&gt; {\n                System.out.println(&quot;inside handle.&quot;);\n                if (exc != null) {\n                    System.out.println(&quot;exception.&quot;);\n                }\n                System.out.println(&quot;completed.&quot;);\n            }\n        );\n\n        future.completeExceptionally(new Exception(&quot;exception&quot;));\n        System.out.println(&quot;done.&quot;);\n    }\n}\n</code></pre>\n<p>the output of the code:</p>\n<pre><code>done.\n</code></pre>\n<p>From my understanding, when the main thread calls <code>future.completeExceptionally()</code> it should invoke the function passed into <code>CompletableFuture.whenComplete()</code>.</p>\n<p>Why is this not the case?</p>\n"},{"tags":["java","jpa","eclipselink","sequence"],"answers":[{"tags":[],"owner":{"account_id":368269,"reputation":93629,"user_id":714969,"accept_rate":86,"display_name":"Kevin Bowersox"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1367324632,"creation_date":1363251171,"answer_id":15404762,"question_id":15404636,"body_markdown":"When you created the sequence you specified a size to increment by.  For example this sequence increments by 1.\r\n\r\n    CREATE SEQUENCE supplier_seq\r\n      MINVALUE 1\r\n      MAXVALUE 999999999999999999999999999\r\n      START WITH 1\r\n      INCREMENT BY 1\r\n      CACHE 20;\r\n\r\n\r\nWhen using the `SequenceGenerator` annotation in JPA you can specify an allocation size.\r\n\r\n    @Id\r\n    @SequenceGenerator(name = &quot;SEQ_RULES&quot;, sequenceName = &quot;SEQUENZ_RULES&quot;,\r\n        allocationSize=1)\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;SEQ_RULES&quot;)\r\n    @Column(name = &quot;SERIALNO&quot;)\r\n    protected Long serialno;\r\n\r\nMake sure the allocation size and the increment match between JPA and the Sequence DDL.\r\n","title":"JPA Eclipselink getting wrong sequence number","body":"<p>When you created the sequence you specified a size to increment by.  For example this sequence increments by 1.</p>\n\n<pre><code>CREATE SEQUENCE supplier_seq\n  MINVALUE 1\n  MAXVALUE 999999999999999999999999999\n  START WITH 1\n  INCREMENT BY 1\n  CACHE 20;\n</code></pre>\n\n<p>When using the <code>SequenceGenerator</code> annotation in JPA you can specify an allocation size.</p>\n\n<pre><code>@Id\n@SequenceGenerator(name = \"SEQ_RULES\", sequenceName = \"SEQUENZ_RULES\",\n    allocationSize=1)\n@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = \"SEQ_RULES\")\n@Column(name = \"SERIALNO\")\nprotected Long serialno;\n</code></pre>\n\n<p>Make sure the allocation size and the increment match between JPA and the Sequence DDL.</p>\n"},{"tags":[],"owner":{"account_id":7277250,"reputation":31,"user_id":5548269,"display_name":"Juan Rodriguez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1447191012,"creation_date":1447187940,"answer_id":33639154,"question_id":15404636,"body_markdown":"Change allocationSize=**1** by allocationSize=**2**, it is a Eclipselink bug.\r\n","title":"JPA Eclipselink getting wrong sequence number","body":"<p>Change allocationSize=<strong>1</strong> by allocationSize=<strong>2</strong>, it is a Eclipselink bug.</p>\n"}],"owner":{"account_id":329263,"reputation":406,"user_id":652689,"accept_rate":67,"display_name":"AdemC"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8064,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1668957243,"creation_date":1363250778,"question_id":15404636,"body_markdown":"I&#39;m using some Entities mapped to Oracle DB-Tables. For ID-Generation I&#39;m using a sequence generator annotated as following:\r\n\r\n    @Id\r\n    @SequenceGenerator(name = &quot;SEQ_RULES&quot;, sequenceName = &quot;SEQUENZ_RULES&quot;)\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;SEQ_RULES&quot;)\r\n    @Column(name = &quot;SERIALNO&quot;)\r\n    protected Long serialno;\r\n\r\nDuring programm execution I make a new Instance from my Entity and want to persist this generated one. After restart of the database I&#39;m getting wrong sequence numbers through JPA-EclipseLink, but not through the Console directly on the database.\r\n\r\nI turned on following properties in the persistence.xml toget also the binding parameters used in the generated statements.\r\n\r\n    &lt;properties&gt;\r\n      &lt;property name=&quot;eclipselink.logging.level&quot; value=&quot;FINE&quot;/&gt;\r\n      &lt;property name=&quot;eclipselink.logging.parameters&quot; value=&quot;true&quot;/&gt;\r\n    &lt;/properties&gt;\r\n\r\nFor example: If I generate a new instance of my entity and want to persist this one I get 2717 for serialNo and if I execute\r\n \r\n    SELECT SEQUENZ_RULES.NEXTVAL FROM DUAL \r\n\r\nI get 2767 as nextval. The problem is that the JPA-generated serialNo must be unique, and now I stil have some datasets with this serialNo. Im getting an exception:\r\n\r\n    java.sql.SQLIntegrityConstraintViolationException: ORA-00001: unique constraint (JASON.SYS_C0084866) violated\r\n\r\n\r\nNon Is there any caching through eclipse which is affecting the Sequence Generation or what could be the error for this?\r\n\r\n_Used Components:  \r\nGlassFish 3.1.1  \r\nEclipseLink 2.3.0.v20110604-r9504  \r\nDatabase: Oracle  Version: Oracle Database 11g Release 11.1.0.7.0 - 64bit  \r\nDriver: Oracle JDBC driver  Version: 11.2.0.1.0_\r\n\r\n","title":"JPA Eclipselink getting wrong sequence number","body":"<p>I'm using some Entities mapped to Oracle DB-Tables. For ID-Generation I'm using a sequence generator annotated as following:</p>\n<pre><code>@Id\n@SequenceGenerator(name = &quot;SEQ_RULES&quot;, sequenceName = &quot;SEQUENZ_RULES&quot;)\n@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;SEQ_RULES&quot;)\n@Column(name = &quot;SERIALNO&quot;)\nprotected Long serialno;\n</code></pre>\n<p>During programm execution I make a new Instance from my Entity and want to persist this generated one. After restart of the database I'm getting wrong sequence numbers through JPA-EclipseLink, but not through the Console directly on the database.</p>\n<p>I turned on following properties in the persistence.xml toget also the binding parameters used in the generated statements.</p>\n<pre><code>&lt;properties&gt;\n  &lt;property name=&quot;eclipselink.logging.level&quot; value=&quot;FINE&quot;/&gt;\n  &lt;property name=&quot;eclipselink.logging.parameters&quot; value=&quot;true&quot;/&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>For example: If I generate a new instance of my entity and want to persist this one I get 2717 for serialNo and if I execute</p>\n<pre><code>SELECT SEQUENZ_RULES.NEXTVAL FROM DUAL \n</code></pre>\n<p>I get 2767 as nextval. The problem is that the JPA-generated serialNo must be unique, and now I stil have some datasets with this serialNo. Im getting an exception:</p>\n<pre><code>java.sql.SQLIntegrityConstraintViolationException: ORA-00001: unique constraint (JASON.SYS_C0084866) violated\n</code></pre>\n<p>Non Is there any caching through eclipse which is affecting the Sequence Generation or what could be the error for this?</p>\n<p><em>Used Components:<br />\nGlassFish 3.1.1<br />\nEclipseLink 2.3.0.v20110604-r9504<br />\nDatabase: Oracle  Version: Oracle Database 11g Release 11.1.0.7.0 - 64bit<br />\nDriver: Oracle JDBC driver  Version: 11.2.0.1.0</em></p>\n"},{"tags":["java","java-time","localdate","date-parsing"],"comments":[{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":1,"creation_date":1668716934,"post_id":74481646,"comment_id":131480562,"body_markdown":"JavaDocs for LocaDate.parse(String) say: &quot;Obtains an instance of LocalDate from a text string such as 2007-12-03.&quot;. So, yes - you need to supply a formatter. Or - for fixed dates, use LocalDate.of(int,int.int)","body":"JavaDocs for LocaDate.parse(String) say: &quot;Obtains an instance of LocalDate from a text string such as 2007-12-03.&quot;. So, yes - you need to supply a formatter. Or - for fixed dates, use LocalDate.of(int,int.int)"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1668716984,"post_id":74481646,"comment_id":131480578,"body_markdown":"Have a look at the [JavaDocs](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/time/LocalDate.html#parse(java.lang.CharSequence)) for LocalDate.parse - it expects a string in the format of yyyy-MM-dd - you need to use a DateTimeFormatter which better matches your input","body":"Have a look at the <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/time/LocalDate.html#parse(java.lang.CharSequence)\" rel=\"nofollow noreferrer\">JavaDocs</a> for LocalDate.parse - it expects a string in the format of yyyy-MM-dd - you need to use a DateTimeFormatter which better matches your input"},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":1,"creation_date":1668717030,"post_id":74481646,"comment_id":131480593,"body_markdown":"Also, you could make the DateTimeFormatter a static class member.","body":"Also, you could make the DateTimeFormatter a static class member."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1668948592,"post_id":74481646,"comment_id":131525230,"body_markdown":"I cannot get your last snippet to work either. I get `DateTimeParseException: Text &#39;16/08/2016&#39; could not be parsed: Unable to obtain LocalDate from TemporalAccessor: {DayOfMonth=16, WeekBasedYear[WeekFields[SUNDAY,1]]=2016, MonthOfYear=8},ISO of type java.time.format.Parsed`. This is because upper case `YYYY` is wrong. Use either lower case `uuuu` or lower case `yyyy`. In your `return`statement too.","body":"I cannot get your last snippet to work either. I get <code>DateTimeParseException: Text &#39;16&#47;08&#47;2016&#39; could not be parsed: Unable to obtain LocalDate from TemporalAccessor: {DayOfMonth=16, WeekBasedYear[WeekFields[SUNDAY,1]]=2016, MonthOfYear=8},ISO of type java.time.format.Parsed</code>. This is because upper case <code>YYYY</code> is wrong. Use either lower case <code>uuuu</code> or lower case <code>yyyy</code>. In your <code>return</code>statement too."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1668948732,"post_id":74481646,"comment_id":131525257,"body_markdown":"For your case I think that you just want `date = LocalDate.of(2022, Month.NOVEMBER, 12);`.","body":"For your case I think that you just want <code>date = LocalDate.of(2022, Month.NOVEMBER, 12);</code>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1668949354,"post_id":74481646,"comment_id":131525398,"body_markdown":"*I get issue that is impossible this parse*. I cannot reproduce this problem either since `default` is a keyword in java, so your code does not compile. Please instead post code that actually produces the problem that you are asking about. See [mre].","body":"<i>I get issue that is impossible this parse</i>. I cannot reproduce this problem either since <code>default</code> is a keyword in java, so your code does not compile. Please instead post code that actually produces the problem that you are asking about. See <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1668949542,"post_id":74481646,"comment_id":131525437,"body_markdown":"And indeed, once you get your formatter correct, you can use it twice if you want (and also make it static as @ChristophDahlen suggests).","body":"And indeed, once you get your formatter correct, you can use it twice if you want (and also make it static as @ChristophDahlen suggests)."}],"owner":{"account_id":20449897,"reputation":9,"user_id":15004871,"display_name":"stan92"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":297,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1668948859,"answer_count":0,"score":0,"last_activity_date":1668957214,"creation_date":1668716566,"question_id":74481646,"body_markdown":"I want to convert date from String to LocalDate object: Starting date as String: &quot;12/11/2022&quot; I want to convert this String to LocalDate. I want to get LocalDate object and next use this LocalData inside if-else conditions to convert this object to String and return String. All conditions return first LocalData and next String as result: if I use this code with: date = LocalDate.parse(default)}; \r\n\r\n```\r\npublic String getStringDate(String timeProjection){ \r\n   if (timeProjection.equals(&quot;1&quot;) { \r\n      date = LocalDate.now();\r\n   }\r\n   .... \r\n    else {\r\n       String default = &quot;12/11/2022&quot;; \r\n       date = LocalDate.parse(default);\r\n    }\r\n\r\n command\r\n\r\n   return date.format(DataTimeFormatter.ofPattern(&quot;dd/MM/YYYY&quot;));\r\n```\r\n\r\n\r\n I get issue that is impossible this parse, but when I use: \r\n\r\n```\r\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd/MM/YYYY&quot;); \r\nString date = &quot;16/08/2016&quot;; \r\nLocalDate localDate = LocalDate.parse(date, formatter); \r\n```\r\n\r\n\r\nThis convertion works good. What do you think is possible create solution when I can&#39;t use twice this formatter: DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd/MM/YYYY&quot;) - first in else body, second in result command? Thanks for your help.","title":"Converting String to LocalDate object in Java","body":"<p>I want to convert date from String to LocalDate object: Starting date as String: &quot;12/11/2022&quot; I want to convert this String to LocalDate. I want to get LocalDate object and next use this LocalData inside if-else conditions to convert this object to String and return String. All conditions return first LocalData and next String as result: if I use this code with: date = LocalDate.parse(default)};</p>\n<pre><code>public String getStringDate(String timeProjection){ \n   if (timeProjection.equals(&quot;1&quot;) { \n      date = LocalDate.now();\n   }\n   .... \n    else {\n       String default = &quot;12/11/2022&quot;; \n       date = LocalDate.parse(default);\n    }\n\n command\n\n   return date.format(DataTimeFormatter.ofPattern(&quot;dd/MM/YYYY&quot;));\n</code></pre>\n<p>I get issue that is impossible this parse, but when I use:</p>\n<pre><code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd/MM/YYYY&quot;); \nString date = &quot;16/08/2016&quot;; \nLocalDate localDate = LocalDate.parse(date, formatter); \n</code></pre>\n<p>This convertion works good. What do you think is possible create solution when I can't use twice this formatter: DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd/MM/YYYY&quot;) - first in else body, second in result command? Thanks for your help.</p>\n"},{"tags":["java","xml","parsing","dom"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1668997669,"post_id":74509282,"comment_id":131534760,"body_markdown":"`factory.setNamespaceAware(true);` needs to be called *before* creating a DocumentBuilder from the factory.","body":"<code>factory.setNamespaceAware(true);</code> needs to be called <i>before</i> creating a DocumentBuilder from the factory."}],"owner":{"account_id":21752321,"reputation":29,"user_id":16086486,"display_name":"Sergey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668956980,"creation_date":1668956980,"question_id":74509282,"body_markdown":"I have some XML, below is a part of this:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;fsa:ResponseFsaType xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:tns=&quot;urn://x-artefact-rosaccreditation-ru/rdc/commons/1.0.2&quot; xmlns:fsa=&quot;urn://x-artefact-rosaccreditation-ru/rdc/1.0.2&quot;&gt;\r\n      &lt;fsa:RdcTr&gt;\r\n        &lt;tns:Type&gt;TrRf&lt;/tns:Type&gt;\r\n        &lt;tns:Requisites&gt;\r\n          &lt;tns:Status&gt;Active&lt;/tns:Status&gt;\r\n          &lt;tns:Section&gt;Tr&lt;/tns:Section&gt;\r\n          &lt;tns:Number&gt;-RU.10..00001&lt;/tns:Number&gt;\r\n          &lt;tns:DateReg&gt;2015-12-20T00:00:00&lt;/tns:DateReg&gt;\r\n          &lt;tns:DateExpiry&gt;2018-12-18T00:00:00&lt;/tns:DateExpiry&gt;\r\n          &lt;tns:NoExpiry xsi:nil=&quot;true&quot; /&gt;\r\n          &lt;tns:BaseDeclaration&gt;\r\n            &lt;tns:Documents&gt;  1/15  20.12.2015        &lt;/tns:Documents&gt;\r\n            &lt;tns:Schema&gt;1&lt;/tns:Schema&gt;\r\n            &lt;tns:Base&gt;\r\n              &lt;tns:string&gt;1.    1  14.12.2015,    &#171; -&#187;    &#171;&#187;,  POCC RU.0001.2211&lt;/tns:string&gt;\r\n            &lt;/tns:Base&gt;\r\n            &lt;tns:Laboratory&gt;\r\n              &lt;tns:NumberReg&gt;POCC RU.0001.2211&lt;/tns:NumberReg&gt;\r\n              &lt;tns:Name&gt;  &#171; -&#187;&lt;/tns:Name&gt;\r\n              &lt;tns:DateReg&gt;2014-10-04T00:00:00&lt;/tns:DateReg&gt;\r\n              &lt;tns:DateExpiry&gt;2018-10-04T00:00:00&lt;/tns:DateExpiry&gt;\r\n              &lt;tns:Document xsi:nil=&quot;true&quot; /&gt;\r\n              &lt;tns:Info xsi:nil=&quot;true&quot; /&gt;\r\n            &lt;/tns:Laboratory&gt;\r\n          &lt;/tns:BaseDeclaration&gt;\r\n          &lt;tns:Discontinued xsi:nil=&quot;true&quot; /&gt;\r\n        &lt;/tns:Requisites&gt;\r\n\r\nI wanna parse XML to objects, and I know that i can do it using DOM-parse inside Java.\r\nI trying to use code below but the list is empty:\r\n\r\n            DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n            DocumentBuilder builder = factory.newDocumentBuilder();\r\n            Document document = builder.parse(new File(&quot;src/main/resources/sample.xml&quot;));\r\n            factory.setNamespaceAware(true);\r\n            NodeList list = document.getElementsByTagNameNS(\r\n                    &quot;urn://x-artefact-rosaccreditation-ru/rdc/commons/1.0.2&quot;, &quot;Requisites&quot;);\r\n            String a = list.item(0).getTextContent();\r\n            System.out.println(a);\r\n\r\n","title":"List is empty when im trying to use getElementsByTagNameNS","body":"<p>I have some XML, below is a part of this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;fsa:ResponseFsaType xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:tns=&quot;urn://x-artefact-rosaccreditation-ru/rdc/commons/1.0.2&quot; xmlns:fsa=&quot;urn://x-artefact-rosaccreditation-ru/rdc/1.0.2&quot;&gt;\n  &lt;fsa:RdcTr&gt;\n    &lt;tns:Type&gt;TrRf&lt;/tns:Type&gt;\n    &lt;tns:Requisites&gt;\n      &lt;tns:Status&gt;Active&lt;/tns:Status&gt;\n      &lt;tns:Section&gt;Tr&lt;/tns:Section&gt;\n      &lt;tns:Number&gt;-RU.10..00001&lt;/tns:Number&gt;\n      &lt;tns:DateReg&gt;2015-12-20T00:00:00&lt;/tns:DateReg&gt;\n      &lt;tns:DateExpiry&gt;2018-12-18T00:00:00&lt;/tns:DateExpiry&gt;\n      &lt;tns:NoExpiry xsi:nil=&quot;true&quot; /&gt;\n      &lt;tns:BaseDeclaration&gt;\n        &lt;tns:Documents&gt;  1/15  20.12.2015        &lt;/tns:Documents&gt;\n        &lt;tns:Schema&gt;1&lt;/tns:Schema&gt;\n        &lt;tns:Base&gt;\n          &lt;tns:string&gt;1.    1  14.12.2015,     -    ,  POCC RU.0001.2211&lt;/tns:string&gt;\n        &lt;/tns:Base&gt;\n        &lt;tns:Laboratory&gt;\n          &lt;tns:NumberReg&gt;POCC RU.0001.2211&lt;/tns:NumberReg&gt;\n          &lt;tns:Name&gt;   -&lt;/tns:Name&gt;\n          &lt;tns:DateReg&gt;2014-10-04T00:00:00&lt;/tns:DateReg&gt;\n          &lt;tns:DateExpiry&gt;2018-10-04T00:00:00&lt;/tns:DateExpiry&gt;\n          &lt;tns:Document xsi:nil=&quot;true&quot; /&gt;\n          &lt;tns:Info xsi:nil=&quot;true&quot; /&gt;\n        &lt;/tns:Laboratory&gt;\n      &lt;/tns:BaseDeclaration&gt;\n      &lt;tns:Discontinued xsi:nil=&quot;true&quot; /&gt;\n    &lt;/tns:Requisites&gt;\n</code></pre>\n<p>I wanna parse XML to objects, and I know that i can do it using DOM-parse inside Java.\nI trying to use code below but the list is empty:</p>\n<pre><code>        DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n        DocumentBuilder builder = factory.newDocumentBuilder();\n        Document document = builder.parse(new File(&quot;src/main/resources/sample.xml&quot;));\n        factory.setNamespaceAware(true);\n        NodeList list = document.getElementsByTagNameNS(\n                &quot;urn://x-artefact-rosaccreditation-ru/rdc/commons/1.0.2&quot;, &quot;Requisites&quot;);\n        String a = list.item(0).getTextContent();\n        System.out.println(a);\n</code></pre>\n"},{"tags":["java","android","google-cloud-firestore"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1668956796,"post_id":74506977,"comment_id":131526914,"body_markdown":"The problem is not so much that the `quoteList` is global, but that you try to access it before `onEvent` has ever run. I recommend setting breakpoints on those lines and then running the code in a debugger, to see that they get executed in a different order from what you expect. The solution is always the same: any code that needs the data from the database, has to be *inside* the `onEvent`, be called from there, or otherwise synchronized.","body":"The problem is not so much that the <code>quoteList</code> is global, but that you try to access it before <code>onEvent</code> has ever run. I recommend setting breakpoints on those lines and then running the code in a debugger, to see that they get executed in a different order from what you expect. The solution is always the same: any code that needs the data from the database, has to be <i>inside</i> the <code>onEvent</code>, be called from there, or otherwise synchronized."},{"owner":{"account_id":21318721,"reputation":37,"user_id":15692216,"display_name":"Gilbert Almazan"},"score":0,"creation_date":1669001528,"post_id":74506977,"comment_id":131535292,"body_markdown":"Have Read: get-contacts-from-firebase-method-return-an-empty-list\n   - Found out that firebase returns asynchronously, making data return later. He suggested using `ondatachange` method, which is not found in Firestore. Cannot use `onDataChange` method","body":"Have Read: get-contacts-from-firebase-method-return-an-empty-list    - Found out that firebase returns asynchronously, making data return later. He suggested using <code>ondatachange</code> method, which is not found in Firestore. Cannot use <code>onDataChange</code> method"},{"owner":{"account_id":21318721,"reputation":37,"user_id":15692216,"display_name":"Gilbert Almazan"},"score":0,"creation_date":1669002123,"post_id":74506977,"comment_id":131535395,"body_markdown":"In addition, it was suggested to use a callback function instead, and I don&#39;t quite understand using a callback function to make the code run synchronous.","body":"In addition, it was suggested to use a callback function instead, and I don&#39;t quite understand using a callback function to make the code run synchronous."},{"owner":{"account_id":21318721,"reputation":37,"user_id":15692216,"display_name":"Gilbert Almazan"},"score":0,"creation_date":1669002584,"post_id":74506977,"comment_id":131535454,"body_markdown":"`onEvent` methods such as onSuccess on Failure methods in a listener? I need to load the data synchronously and pass it on a countdown timer class to display the loaded data.\n\nIt works fine If the getQouteList method is directly coded on the fragment where I am using the data, which makes it more messy and cluttered. So I tried to follow MVVM in saving and loading data.","body":"<code>onEvent</code> methods such as onSuccess on Failure methods in a listener? I need to load the data synchronously and pass it on a countdown timer class to display the loaded data.  It works fine If the getQouteList method is directly coded on the fragment where I am using the data, which makes it more messy and cluttered. So I tried to follow MVVM in saving and loading data."},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1669003940,"post_id":74506977,"comment_id":131535636,"body_markdown":"1) The equivalent of `onDataChange` in that answer is `onEvent` in your code. 2) There is no way to make asynchronous code synchronous. To understand how a callback works, look at `EventListener` in your code. That&#39;s also a callback. 3) See #2: there is no way to make asynchronous code synchronous, nor is there a need.","body":"1) The equivalent of <code>onDataChange</code> in that answer is <code>onEvent</code> in your code. 2) There is no way to make asynchronous code synchronous. To understand how a callback works, look at <code>EventListener</code> in your code. That&#39;s also a callback. 3) See #2: there is no way to make asynchronous code synchronous, nor is there a need."},{"owner":{"account_id":21318721,"reputation":37,"user_id":15692216,"display_name":"Gilbert Almazan"},"score":0,"creation_date":1669011535,"post_id":74506977,"comment_id":131536797,"body_markdown":"Still not working with `onEvent` because the document data load asynchronously.  With `onEvent` method - is there a way to make it wait for the result before passing it?","body":"Still not working with <code>onEvent</code> because the document data load asynchronously.  With <code>onEvent</code> method - is there a way to make it wait for the result before passing it?"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1669021834,"post_id":74506977,"comment_id":131539511,"body_markdown":"There is no way you can do that. Firebase API is asynchronous. So please check the duplicate answers. You might also be interested in reading this [resource](https://medium.com/firebase-tips-tricks/how-to-read-data-from-cloud-firestore-using-get-bf03b6ee4953).","body":"There is no way you can do that. Firebase API is asynchronous. So please check the duplicate answers. You might also be interested in reading this <a href=\"https://medium.com/firebase-tips-tricks/how-to-read-data-from-cloud-firestore-using-get-bf03b6ee4953\" rel=\"nofollow noreferrer\">resource</a>."}],"owner":{"account_id":21318721,"reputation":37,"user_id":15692216,"display_name":"Gilbert Almazan"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1668956803,"answer_count":0,"score":0,"last_activity_date":1668956909,"creation_date":1668936895,"question_id":74506977,"body_markdown":"On QuotesRepository, wherein I fetch the data from Firestore db works fine on line 21, while when I  try to access the data on line 22 after setting the value:\r\n\r\nI tried to see if the data is assigned on qouteList.\r\n\r\nthe data is null or has no object in reference. It seems that the data is not being updated on line 22.\r\n\r\nI also noticed that when the listener became in active after fetching data\r\n\r\n```\r\n21: Log.d(&quot;tag&quot;, &quot;Repository: Quotes: &quot; + qoutes.toString());\r\n\r\n    D/tag: Repository: Quotes: [Qoutes{author=&#39;almazan&#39;, quoted=&#39;&quot;content&quot;&#39;}, Qoutes{author=&#39;_new Author&#39;, quoted=&#39;_new Content&#39;}, Qoutes{author=&#39;Albert Camus&#39;, quoted=&#39;The truth is that everyone is bored, and devotes himself to cultivating habits.&#39;}]\r\n\r\n22: qoutesList = qoutes;\r\n\r\n25: Log.d(&quot;tag&quot;, &quot;Repository: QuoteList: &quot; + qoutesList.toString());\r\n\r\n    Repository: QuoteList: []\r\n```\r\n\r\n[Firestore Database](https://i.stack.imgur.com/VIAZZ.jpg)\r\n\r\nThe classes:\r\n\r\n```\r\npublic class Qoutes {\r\n    String author;\r\n    String quoted;\r\n\r\n    public Qoutes() {\r\n    }\r\n\r\n    public String getAuthor() {\r\n        return author;\r\n    }\r\n\r\n    public void setAuthor(String author) {\r\n        this.author = author;\r\n    }\r\n\r\n    public String getQuoted() {\r\n        return quoted;\r\n    }\r\n\r\n    public void setQuoted(String quoted) {\r\n        this.quoted = quoted;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Qoutes{&quot; +\r\n                &quot;author=&#39;&quot; + author + &#39;\\&#39;&#39; +\r\n                &quot;, quoted=&#39;&quot; + quoted + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class QoutesRepository {\r\n\r\n    FirebaseFirestore firebaseFirestore;\r\n    List&lt;Qoutes&gt; qoutesList;\r\n\r\n    public QoutesRepository() {\r\n        this.firebaseFirestore = FirebaseFirestore.getInstance();\r\n        qoutesList = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n    public List&lt;Qoutes&gt; getQoutesList() {\r\n        firebaseFirestore.collection(&quot;quotes&quot;).addSnapshotListener(new EventListener&lt;QuerySnapshot&gt;() {\r\n            @Override\r\n            public void onEvent(@Nullable QuerySnapshot value, @Nullable FirebaseFirestoreException error) {\r\n                List&lt;Qoutes&gt; qoutes = new ArrayList&lt;&gt;();\r\n                assert value != null;\r\n                for (QueryDocumentSnapshot documentSnapshot : value) {\r\n                    if (documentSnapshot != null)\r\n                        qoutes.add(documentSnapshot.toObject(Qoutes.class));\r\n                }\r\n                Log.d(&quot;tag&quot;, &quot;Repository: Quotes: &quot; + qoutes.toString());\r\n                qoutesList = qoutes;\r\n            }\r\n        });\r\n        Log.d(&quot;tag&quot;, &quot;Repository: QuoteList: &quot; + qoutesList.toString());\r\n        return qoutesList;\r\n    }\r\n```\r\nI tried to change all the document in a collection fetcher from firebase documentation same problem\r\n```firebaseFirestore.collection(&quot;quotes&quot;).get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n\r\n                List&lt;Qoutes&gt; qoutes = new ArrayList&lt;&gt;();\r\n\r\n                if (task.isSuccessful()) {\r\n                    for (QueryDocumentSnapshot document : task.getResult()) {\r\n                        qoutes.add(document.toObject(Qoutes.class));\r\n                        Log.d(&quot;tag&quot;, document.getId() + &quot; =&gt; &quot; + document.getData());\r\n                    }\r\n                } else {\r\n                    Log.d(&quot;tag&quot;, &quot;Error getting documents: &quot;, task.getException());\r\n                }\r\n                qoutesList.addAll(qoutes);\r\n            }\r\n        });\r\n```\r\n\r\n\r\nHow do I assign or pass the fetched data from Firestore into global var: List\\&lt;Quotes\\&gt; quoteList, without a null pointer exception?","title":"Firebase Firestore: Assigned Data is null","body":"<p>On QuotesRepository, wherein I fetch the data from Firestore db works fine on line 21, while when I  try to access the data on line 22 after setting the value:</p>\n<p>I tried to see if the data is assigned on qouteList.</p>\n<p>the data is null or has no object in reference. It seems that the data is not being updated on line 22.</p>\n<p>I also noticed that when the listener became in active after fetching data</p>\n<pre><code>21: Log.d(&quot;tag&quot;, &quot;Repository: Quotes: &quot; + qoutes.toString());\n\n    D/tag: Repository: Quotes: [Qoutes{author='almazan', quoted='&quot;content&quot;'}, Qoutes{author='_new Author', quoted='_new Content'}, Qoutes{author='Albert Camus', quoted='The truth is that everyone is bored, and devotes himself to cultivating habits.'}]\n\n22: qoutesList = qoutes;\n\n25: Log.d(&quot;tag&quot;, &quot;Repository: QuoteList: &quot; + qoutesList.toString());\n\n    Repository: QuoteList: []\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/VIAZZ.jpg\" rel=\"nofollow noreferrer\">Firestore Database</a></p>\n<p>The classes:</p>\n<pre><code>public class Qoutes {\n    String author;\n    String quoted;\n\n    public Qoutes() {\n    }\n\n    public String getAuthor() {\n        return author;\n    }\n\n    public void setAuthor(String author) {\n        this.author = author;\n    }\n\n    public String getQuoted() {\n        return quoted;\n    }\n\n    public void setQuoted(String quoted) {\n        this.quoted = quoted;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Qoutes{&quot; +\n                &quot;author='&quot; + author + '\\'' +\n                &quot;, quoted='&quot; + quoted + '\\'' +\n                '}';\n    }\n}\n</code></pre>\n<pre><code>public class QoutesRepository {\n\n    FirebaseFirestore firebaseFirestore;\n    List&lt;Qoutes&gt; qoutesList;\n\n    public QoutesRepository() {\n        this.firebaseFirestore = FirebaseFirestore.getInstance();\n        qoutesList = new ArrayList&lt;&gt;();\n    }\n\n    public List&lt;Qoutes&gt; getQoutesList() {\n        firebaseFirestore.collection(&quot;quotes&quot;).addSnapshotListener(new EventListener&lt;QuerySnapshot&gt;() {\n            @Override\n            public void onEvent(@Nullable QuerySnapshot value, @Nullable FirebaseFirestoreException error) {\n                List&lt;Qoutes&gt; qoutes = new ArrayList&lt;&gt;();\n                assert value != null;\n                for (QueryDocumentSnapshot documentSnapshot : value) {\n                    if (documentSnapshot != null)\n                        qoutes.add(documentSnapshot.toObject(Qoutes.class));\n                }\n                Log.d(&quot;tag&quot;, &quot;Repository: Quotes: &quot; + qoutes.toString());\n                qoutesList = qoutes;\n            }\n        });\n        Log.d(&quot;tag&quot;, &quot;Repository: QuoteList: &quot; + qoutesList.toString());\n        return qoutesList;\n    }\n</code></pre>\n<p>I tried to change all the document in a collection fetcher from firebase documentation same problem</p>\n<pre><code>            @Override\n            public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n\n                List&lt;Qoutes&gt; qoutes = new ArrayList&lt;&gt;();\n\n                if (task.isSuccessful()) {\n                    for (QueryDocumentSnapshot document : task.getResult()) {\n                        qoutes.add(document.toObject(Qoutes.class));\n                        Log.d(&quot;tag&quot;, document.getId() + &quot; =&gt; &quot; + document.getData());\n                    }\n                } else {\n                    Log.d(&quot;tag&quot;, &quot;Error getting documents: &quot;, task.getException());\n                }\n                qoutesList.addAll(qoutes);\n            }\n        });\n</code></pre>\n<p>How do I assign or pass the fetched data from Firestore into global var: List&lt;Quotes&gt; quoteList, without a null pointer exception?</p>\n"},{"tags":["java","mapping","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1668955685,"creation_date":1668955685,"answer_id":74509118,"question_id":74503543,"body_markdown":"The problem is that:\r\n\r\n    List&lt;CandidateRecommendation&gt; toSenderModels(List&lt;CandidateRecommendationJpa&gt; jpa);\r\n\r\ndoesn&#39;t know which mapping method to use because there are two of them:\r\n- toModel\r\n- toSenderModel\r\n\r\nSo to solve that, you need to do the following:\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    public interface CandidateRecommendationJpaMapper {\r\n    \r\n        CandidateRecommendationJpaMapper INSTANCE = Mappers.getMapper(CandidateRecommendationJpaMapper.class);\r\n    \r\n        @Named(&quot;toModel&quot;)\r\n        @Mapping(target = &quot;candidate.id&quot;, source = &quot;candidateSender.id&quot;)\r\n        @Mapping(target = &quot;candidate.name&quot;, source = &quot;candidateSender.name&quot;)\r\n        @Mapping(target = &quot;candidate.login&quot;, source = &quot;candidateSender.employee.login&quot;)\r\n        CandidateRecommendation toModel(CandidateRecommendationJpa jpa);\r\n    \r\n        @Named(&quot;toSenderModel&quot;)\r\n        @Mapping(target = &quot;candidate.id&quot;, source = &quot;candidateReceiver.id&quot;)\r\n        @Mapping(target = &quot;candidate.name&quot;, source = &quot;candidateReceiver.name&quot;)\r\n        @Mapping(target = &quot;candidate.login&quot;, source = &quot;candidateReceiver.employee.login&quot;)\r\n        CandidateRecommendation toSenderModel(CandidateRecommendationJpa jpa);\r\n\r\n        @IterableMapping(qualifiedByName = &quot;toModel&quot;)\r\n        List&lt;CandidateRecommendation&gt; toModels(List&lt;CandidateRecommendationJpa&gt; jpa);\r\n \r\n        @IterableMapping(qualifiedByName = &quot;toSenderModel&quot;)\r\n        List&lt;CandidateRecommendation&gt; toSenderModels(List&lt;CandidateRecommendationJpa&gt; jpa);\r\n    \r\n    }\r\n\r\nAs you can see, I added @Named and @IterableMapping.","title":"Conditional mapping by method parameter","body":"<p>The problem is that:</p>\n<pre><code>List&lt;CandidateRecommendation&gt; toSenderModels(List&lt;CandidateRecommendationJpa&gt; jpa);\n</code></pre>\n<p>doesn't know which mapping method to use because there are two of them:</p>\n<ul>\n<li>toModel</li>\n<li>toSenderModel</li>\n</ul>\n<p>So to solve that, you need to do the following:</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface CandidateRecommendationJpaMapper {\n\n    CandidateRecommendationJpaMapper INSTANCE = Mappers.getMapper(CandidateRecommendationJpaMapper.class);\n\n    @Named(&quot;toModel&quot;)\n    @Mapping(target = &quot;candidate.id&quot;, source = &quot;candidateSender.id&quot;)\n    @Mapping(target = &quot;candidate.name&quot;, source = &quot;candidateSender.name&quot;)\n    @Mapping(target = &quot;candidate.login&quot;, source = &quot;candidateSender.employee.login&quot;)\n    CandidateRecommendation toModel(CandidateRecommendationJpa jpa);\n\n    @Named(&quot;toSenderModel&quot;)\n    @Mapping(target = &quot;candidate.id&quot;, source = &quot;candidateReceiver.id&quot;)\n    @Mapping(target = &quot;candidate.name&quot;, source = &quot;candidateReceiver.name&quot;)\n    @Mapping(target = &quot;candidate.login&quot;, source = &quot;candidateReceiver.employee.login&quot;)\n    CandidateRecommendation toSenderModel(CandidateRecommendationJpa jpa);\n\n    @IterableMapping(qualifiedByName = &quot;toModel&quot;)\n    List&lt;CandidateRecommendation&gt; toModels(List&lt;CandidateRecommendationJpa&gt; jpa);\n\n    @IterableMapping(qualifiedByName = &quot;toSenderModel&quot;)\n    List&lt;CandidateRecommendation&gt; toSenderModels(List&lt;CandidateRecommendationJpa&gt; jpa);\n\n}\n</code></pre>\n<p>As you can see, I added @Named and @IterableMapping.</p>\n"}],"owner":{"account_id":11152080,"reputation":83,"user_id":8184977,"accept_rate":100,"display_name":"Dragg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74509118,"answer_count":1,"score":0,"last_activity_date":1668955685,"creation_date":1668890354,"question_id":74503543,"body_markdown":"I have this jpa:\r\n  \r\n\r\n    public class CandidateRecommendationJpa extends AuditingEntityJpa {\r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n      @Column(name = &quot;ID_CANDIDATO_RECOMENDACION&quot;, nullable = false)\r\n      private Integer id;\r\n    \r\n      @ManyToOne\r\n      @JoinColumn(name = &quot;ID_CANDIDATO_EMISOR&quot;, nullable = false)\r\n      private CandidateJpa candidateSender;\r\n    \r\n      @ManyToOne\r\n      @JoinColumn(name = &quot;ID_CANDIDATO_RECEPTOR&quot;, nullable = false)\r\n      private CandidateJpa candidateReceiver;\r\n    }\r\n\r\nAnd I have to mapper with this entity:\r\n\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Builder\r\n    @EqualsAndHashCode\r\n    public class CandidateRecommendation {\r\n    \r\n      private Integer id;   \r\n    \r\n      private Candidate candidate;\r\n\r\n    }\r\n\r\nMapper:\r\n    \r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    public interface CandidateRecommendationJpaMapper {\r\n    \r\n      CandidateRecommendationJpaMapper INSTANCE = Mappers.getMapper(CandidateRecommendationJpaMapper.class);\r\n    \r\n      @Mapping(target = &quot;candidate.id&quot;, source = &quot;candidateSender.id&quot;)\r\n      @Mapping(target = &quot;candidate.name&quot;, source = &quot;candidateSender.name&quot;)\r\n      @Mapping(target = &quot;candidate.login&quot;, source = &quot;candidateSender.employee.login&quot;)\r\n      CandidateRecommendation toModel(CandidateRecommendationJpa jpa);\r\n    \r\n      List&lt;CandidateRecommendation&gt; toModels(List&lt;CandidateRecommendationJpa&gt; jpa);\r\n    \r\n    }\r\n\r\n**Problem**\r\n\r\nI have to specify jpa atribute to map, is there a way to map a jpa attribute with a param method? For example, in this case I map with candidateSender but, how I can map with candidateReceiver?\r\n\r\n      @Mapping(target = &quot;candidate.id&quot;, source = &quot;candidateReceiver.id&quot;)\r\n      @Mapping(target = &quot;candidate.name&quot;, source = &quot;candidateReceiver.name&quot;)\r\n      @Mapping(target = &quot;candidate.login&quot;, source = &quot;candidateReceiver.employee.login&quot;)\r\n      CandidateRecommendation toSenderModel(CandidateRecommendationJpa jpa);\r\n    \r\n      List&lt;CandidateRecommendation&gt; toSenderModels(List&lt;CandidateRecommendationJpa&gt; jpa);\r\n\r\nThis show the following error:\r\n\r\n    Ambiguous mapping methods found for mapping collection element to CandidateRecommendation: CandidateRecommendation toModel(CandidateRecommendationJpa jpa), CandidateRecommendation toSenderModel(CandidateRecommendationJpa jpa)\r\n\r\n\r\n\r\n","title":"Conditional mapping by method parameter","body":"<p>I have this jpa:</p>\n<pre><code>public class CandidateRecommendationJpa extends AuditingEntityJpa {\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  @Column(name = &quot;ID_CANDIDATO_RECOMENDACION&quot;, nullable = false)\n  private Integer id;\n\n  @ManyToOne\n  @JoinColumn(name = &quot;ID_CANDIDATO_EMISOR&quot;, nullable = false)\n  private CandidateJpa candidateSender;\n\n  @ManyToOne\n  @JoinColumn(name = &quot;ID_CANDIDATO_RECEPTOR&quot;, nullable = false)\n  private CandidateJpa candidateReceiver;\n}\n</code></pre>\n<p>And I have to mapper with this entity:</p>\n<pre><code>@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\n@EqualsAndHashCode\npublic class CandidateRecommendation {\n\n  private Integer id;   \n\n  private Candidate candidate;\n\n}\n</code></pre>\n<p>Mapper:</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface CandidateRecommendationJpaMapper {\n\n  CandidateRecommendationJpaMapper INSTANCE = Mappers.getMapper(CandidateRecommendationJpaMapper.class);\n\n  @Mapping(target = &quot;candidate.id&quot;, source = &quot;candidateSender.id&quot;)\n  @Mapping(target = &quot;candidate.name&quot;, source = &quot;candidateSender.name&quot;)\n  @Mapping(target = &quot;candidate.login&quot;, source = &quot;candidateSender.employee.login&quot;)\n  CandidateRecommendation toModel(CandidateRecommendationJpa jpa);\n\n  List&lt;CandidateRecommendation&gt; toModels(List&lt;CandidateRecommendationJpa&gt; jpa);\n\n}\n</code></pre>\n<p><strong>Problem</strong></p>\n<p>I have to specify jpa atribute to map, is there a way to map a jpa attribute with a param method? For example, in this case I map with candidateSender but, how I can map with candidateReceiver?</p>\n<pre><code>  @Mapping(target = &quot;candidate.id&quot;, source = &quot;candidateReceiver.id&quot;)\n  @Mapping(target = &quot;candidate.name&quot;, source = &quot;candidateReceiver.name&quot;)\n  @Mapping(target = &quot;candidate.login&quot;, source = &quot;candidateReceiver.employee.login&quot;)\n  CandidateRecommendation toSenderModel(CandidateRecommendationJpa jpa);\n\n  List&lt;CandidateRecommendation&gt; toSenderModels(List&lt;CandidateRecommendationJpa&gt; jpa);\n</code></pre>\n<p>This show the following error:</p>\n<pre><code>Ambiguous mapping methods found for mapping collection element to CandidateRecommendation: CandidateRecommendation toModel(CandidateRecommendationJpa jpa), CandidateRecommendation toSenderModel(CandidateRecommendationJpa jpa)\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"score":1,"creation_date":1245289465,"post_id":1009994,"comment_id":819502,"body_markdown":"If you have import collisions then swapping the order is NOT the way to fix the problem.  If this is happening a lot, chances are your classes are doing WAY too much (I&#39;ve virtually never had a name collision).  If it&#39;s not for name collisions, someone in your organization needs to pull the stick out and just accept that not every file will start exactly the same way.","body":"If you have import collisions then swapping the order is NOT the way to fix the problem.  If this is happening a lot, chances are your classes are doing WAY too much (I&#39;ve virtually never had a name collision).  If it&#39;s not for name collisions, someone in your organization needs to pull the stick out and just accept that not every file will start exactly the same way."},{"owner":{"account_id":7808,"reputation":24390,"user_id":13687,"display_name":"John Gardner"},"score":0,"creation_date":1245296319,"post_id":1009994,"comment_id":819729,"body_markdown":"i think a better idea would be to update your question with exactly WHAT order you need them in, and WHY you think you need them in that order.  If someone used clashing names and have them in a specific order, you re-arranging them will cause best case compile errors, worst case runtime errors.","body":"i think a better idea would be to update your question with exactly WHAT order you need them in, and WHY you think you need them in that order.  If someone used clashing names and have them in a specific order, you re-arranging them will cause best case compile errors, worst case runtime errors."}],"answers":[{"tags":[],"owner":{"account_id":27626,"reputation":346906,"user_id":73070,"accept_rate":81,"display_name":"Joey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1245280941,"creation_date":1245280941,"answer_id":1010006,"question_id":1009994,"body_markdown":"Eclipse has such an option out of the box (Ctrl+Shift+O). But it might not be easily automatable over a whole lot of files.","title":"is there any way to rearrange imports in java source file","body":"<p>Eclipse has such an option out of the box (Ctrl+Shift+O). But it might not be easily automatable over a whole lot of files.</p>\n"},{"tags":[],"owner":{"account_id":6055,"reputation":14786,"user_id":10026,"accept_rate":68,"display_name":"ykaganovich"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1245281474,"creation_date":1245281144,"answer_id":1010010,"question_id":1009994,"body_markdown":" - [CleanImports][1] \r\n - [ImportScrubber][2]\r\n - [Importifier][3]\r\n - [ImportCleaner][4]\r\n\r\nI don&#39;t think either of them works perfectly, so make sure to review the limitations.\r\n\r\n\r\n  [1]: http://cleanimports.tombrus.nl/\r\n  [2]: http://importscrubber.sourceforge.net/\r\n  [3]: http://javadude.com/tools/importifier/\r\n  [4]: http://horstmann.com/articles/BetterCleaner.html","title":"is there any way to rearrange imports in java source file","body":"<ul>\n<li><a href=\"http://cleanimports.tombrus.nl/\" rel=\"nofollow noreferrer\">CleanImports</a> </li>\n<li><a href=\"http://importscrubber.sourceforge.net/\" rel=\"nofollow noreferrer\">ImportScrubber</a></li>\n<li><a href=\"http://javadude.com/tools/importifier/\" rel=\"nofollow noreferrer\">Importifier</a></li>\n<li><a href=\"http://horstmann.com/articles/BetterCleaner.html\" rel=\"nofollow noreferrer\">ImportCleaner</a></li>\n</ul>\n\n<p>I don't think either of them works perfectly, so make sure to review the limitations.</p>\n"},{"tags":[],"owner":{"account_id":36166,"reputation":38839,"user_id":103043,"display_name":"akf"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1245298614,"creation_date":1245281208,"answer_id":1010014,"question_id":1009994,"body_markdown":"eclipse can help you organize imports for a project. \r\n\r\ngo to source/clean up.. and then use the configure button.  this will bring up a filtered preferences dialog.  click on `enable project specific settings` and then the `edit` button.  change the profile name on top to something descriptive like &#39;organize imports&#39; and then go to the `code organizing` tab.  choose the `organize imports` checkbox.  you can go through the rest of the tabs and deselect the other options.  once you save all of that, go back out to the `clean up...` dialog and click `finish`.\r\n\r\n\r\n\r\n----------\r\n\r\n**edit:**\r\n\r\nif you are using the eclipse route, dont forget that you can order your imports (com before org,etc) if you&#39;d like, as well as setting the &#39;Number of imports before needing .\\*&#39; property.","title":"is there any way to rearrange imports in java source file","body":"<p>eclipse can help you organize imports for a project. </p>\n\n<p>go to source/clean up.. and then use the configure button.  this will bring up a filtered preferences dialog.  click on <code>enable project specific settings</code> and then the <code>edit</code> button.  change the profile name on top to something descriptive like 'organize imports' and then go to the <code>code organizing</code> tab.  choose the <code>organize imports</code> checkbox.  you can go through the rest of the tabs and deselect the other options.  once you save all of that, go back out to the <code>clean up...</code> dialog and click <code>finish</code>.</p>\n\n<hr>\n\n<p><strong>edit:</strong></p>\n\n<p>if you are using the eclipse route, dont forget that you can order your imports (com before org,etc) if you'd like, as well as setting the 'Number of imports before needing .*' property.</p>\n"},{"tags":[],"owner":{"account_id":30171,"reputation":40012,"user_id":82118,"accept_rate":72,"display_name":"Carl Manaster"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1245281986,"creation_date":1245281986,"answer_id":1010044,"question_id":1009994,"body_markdown":"In Eclipse, in the Package Explorer, right-click on the top-level package of the project.  Choose Source &gt; Organize Imports, and you&#39;re done, for all the files in your project.","title":"is there any way to rearrange imports in java source file","body":"<p>In Eclipse, in the Package Explorer, right-click on the top-level package of the project.  Choose Source > Organize Imports, and you're done, for all the files in your project.</p>\n"},{"tags":[],"owner":{"account_id":28947,"reputation":90759,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1245282698,"creation_date":1245282698,"answer_id":1010066,"question_id":1009994,"body_markdown":"In Intellij IDEA you can set your preferences on Settings-&gt;Code Style-&gt;Imports and then optimize imports for the project by pointing to the directory in the project view and choosing Code-&gt;Optimize Imports.\r\n\r\nTo the cletus who asks why you want to do this, a look at imports can give you a first approximation of dependencies of a given class, especially regarding third party jars (you can pick up that they are used, and then follow their documented dependencies). Sometimes that is useful, so you may want to keep them organized. But in general I agree, it is not usually necessary to care.\r\n\r\n","title":"is there any way to rearrange imports in java source file","body":"<p>In Intellij IDEA you can set your preferences on Settings->Code Style->Imports and then optimize imports for the project by pointing to the directory in the project view and choosing Code->Optimize Imports.</p>\n\n<p>To the cletus who asks why you want to do this, a look at imports can give you a first approximation of dependencies of a given class, especially regarding third party jars (you can pick up that they are used, and then follow their documented dependencies). Sometimes that is useful, so you may want to keep them organized. But in general I agree, it is not usually necessary to care.</p>\n"},{"tags":[],"owner":{"account_id":878678,"reputation":21,"user_id":100520,"display_name":"cam2574"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1245285768,"creation_date":1245285768,"answer_id":1010223,"question_id":1009994,"body_markdown":"Netbeans 6.5.1: Crtl+Shift+I","title":"is there any way to rearrange imports in java source file","body":"<p>Netbeans 6.5.1: Crtl+Shift+I</p>\n"},{"tags":[],"owner":{"account_id":42594,"reputation":12865,"user_id":124111,"accept_rate":98,"display_name":"aberrant80"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1245291458,"creation_date":1245291458,"answer_id":1010457,"question_id":1009994,"body_markdown":"Given that you actually asked this question, I&#39;m assuming you&#39;re not using an IDE for your coding. If you&#39;re using vi, you can also use the built-in line sort feature to sort the imports alphabetically.","title":"is there any way to rearrange imports in java source file","body":"<p>Given that you actually asked this question, I'm assuming you're not using an IDE for your coding. If you're using vi, you can also use the built-in line sort feature to sort the imports alphabetically.</p>\n"},{"tags":[],"owner":{"account_id":2684271,"reputation":41,"user_id":2318963,"display_name":"jmartin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583406987,"creation_date":1583406987,"answer_id":60544166,"question_id":1009994,"body_markdown":"I used a gawk script when I ran into the problem:\r\n\r\n    #!/usr/bin/gawk -f\r\n    BEGIN {\r\n        importing=0;\r\n    }\r\n    /^import/ {\r\n        importing=1;\r\n        switch ($2) {\r\n    \tcase /^static/:\r\n    \t    static_imports[++static_lines]=$0;\r\n    \t    break;\r\n    \tcase /^java[.].*/:\r\n    \t    java_imports[++java_lines]=$0;\r\n    \t    break;\r\n    \tcase /^javax[.].*/:\r\n    \t    javax_imports[++javax_lines]=$0;\r\n    \t    break;\r\n    \tcase /^org[.].*/:\r\n    \t    org_imports[++org_lines]=$0;\r\n    \t    break;\r\n    \tcase /^com[.].*/:\r\n    \t    com_imports[++com_lines]=$0;\r\n    \t    break;\r\n    \tcase /^partner[.]company[.].*/:\r\n    \t    partner_imports[++partner_lines]=$0;\r\n    \t    break;\r\n    \tcase /^my[.]company[.].*/:\r\n    \t    my_imports[++my_lines]=$0;\r\n    \t    break;\r\n    \tdefault:\r\n    \t    other_imports[++lines]=$0;\r\n        }\r\n        next;\r\n    }\r\n    /^[[:space:]]*$/ {\r\n        if (importing) {\r\n    \tnext;\r\n        }\r\n    }\r\n    function printArray(array) {\r\n        asort(array);\r\n        i=0;\r\n        for (i in array) {\r\n    \tprint array[i];\r\n        }\r\n        if (i &gt; 0) {\r\n    \tprint &quot;&quot;;\r\n        }\r\n    }\r\n        {\r\n    \t    if (importing) {\r\n    \t        importing=0;\r\n        \t    printArray(java_imports);\r\n    \t        printArray(javax_imports);\r\n    \t        printArray(org_imports);\r\n    \t        printArray(com_imports);\r\n    \t        printArray(other_imports);\r\n    \t        printArray(partner_imports);\r\n    \t        printArray(my_imports);\r\n    \t        printArray(static_imports);\r\n    \t    }\r\n    \t    print\r\n        }\r\n\r\nWe wanted imports from partner.company.* and my.company.* separated from the rest of the imports, therefore the extra categories.\r\n\r\nCombine it with a little shell script to run on multiple files:\r\n\r\n    #!/bin/sh\r\n    for file in &quot;$@&quot; ; do\r\n        `dirname $0`/organize-imports.awk $file &gt; $file.ordered\r\n        mv $file.ordered $file\r\n    done\r\n\r\nThis did most of the job for me, I had to manually handle a few special cases.\r\n\r\nWe then used checkstyle to make sure no one ever commits anything with unordered imports again:\r\n\r\n    [...]\r\n    &lt;module name=&quot;ImportOrder&quot;&gt;\r\n      &lt;property name=&quot;groups&quot; value=&quot;/^java\\./,javax,org,com,*,partner.company,my.company&quot;/&gt;\r\n      &lt;property name=&quot;ordered&quot; value=&quot;true&quot;/&gt;\r\n      &lt;property name=&quot;separated&quot; value=&quot;true&quot;/&gt;\r\n      &lt;property name=&quot;option&quot; value=&quot;bottom&quot;/&gt;\r\n      &lt;property name=&quot;sortStaticImportsAlphabetically&quot; value=&quot;true&quot;/&gt;\r\n      &lt;property name=&quot;separatedStaticGroups&quot; value=&quot;true&quot;/&gt;\r\n    &lt;/module&gt;\r\n    [...]","title":"is there any way to rearrange imports in java source file","body":"<p>I used a gawk script when I ran into the problem:</p>\n\n<pre><code>#!/usr/bin/gawk -f\nBEGIN {\n    importing=0;\n}\n/^import/ {\n    importing=1;\n    switch ($2) {\n    case /^static/:\n        static_imports[++static_lines]=$0;\n        break;\n    case /^java[.].*/:\n        java_imports[++java_lines]=$0;\n        break;\n    case /^javax[.].*/:\n        javax_imports[++javax_lines]=$0;\n        break;\n    case /^org[.].*/:\n        org_imports[++org_lines]=$0;\n        break;\n    case /^com[.].*/:\n        com_imports[++com_lines]=$0;\n        break;\n    case /^partner[.]company[.].*/:\n        partner_imports[++partner_lines]=$0;\n        break;\n    case /^my[.]company[.].*/:\n        my_imports[++my_lines]=$0;\n        break;\n    default:\n        other_imports[++lines]=$0;\n    }\n    next;\n}\n/^[[:space:]]*$/ {\n    if (importing) {\n    next;\n    }\n}\nfunction printArray(array) {\n    asort(array);\n    i=0;\n    for (i in array) {\n    print array[i];\n    }\n    if (i &gt; 0) {\n    print \"\";\n    }\n}\n    {\n        if (importing) {\n            importing=0;\n            printArray(java_imports);\n            printArray(javax_imports);\n            printArray(org_imports);\n            printArray(com_imports);\n            printArray(other_imports);\n            printArray(partner_imports);\n            printArray(my_imports);\n            printArray(static_imports);\n        }\n        print\n    }\n</code></pre>\n\n<p>We wanted imports from partner.company.* and my.company.* separated from the rest of the imports, therefore the extra categories.</p>\n\n<p>Combine it with a little shell script to run on multiple files:</p>\n\n<pre><code>#!/bin/sh\nfor file in \"$@\" ; do\n    `dirname $0`/organize-imports.awk $file &gt; $file.ordered\n    mv $file.ordered $file\ndone\n</code></pre>\n\n<p>This did most of the job for me, I had to manually handle a few special cases.</p>\n\n<p>We then used checkstyle to make sure no one ever commits anything with unordered imports again:</p>\n\n<pre><code>[...]\n&lt;module name=\"ImportOrder\"&gt;\n  &lt;property name=\"groups\" value=\"/^java\\./,javax,org,com,*,partner.company,my.company\"/&gt;\n  &lt;property name=\"ordered\" value=\"true\"/&gt;\n  &lt;property name=\"separated\" value=\"true\"/&gt;\n  &lt;property name=\"option\" value=\"bottom\"/&gt;\n  &lt;property name=\"sortStaticImportsAlphabetically\" value=\"true\"/&gt;\n  &lt;property name=\"separatedStaticGroups\" value=\"true\"/&gt;\n&lt;/module&gt;\n[...]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18428716,"reputation":77,"user_id":13424370,"display_name":"Sanjit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668955592,"creation_date":1668955592,"answer_id":74509101,"question_id":1009994,"body_markdown":"In Intellij Idea,\r\n\r\n    ctrl + option (alt) + o","title":"is there any way to rearrange imports in java source file","body":"<p>In Intellij Idea,</p>\n<pre><code>ctrl + option (alt) + o\n</code></pre>\n"}],"owner":{"display_name":"jamie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3046,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":9,"score":6,"last_activity_date":1668955592,"creation_date":1245280657,"question_id":1009994,"body_markdown":"Is there an easy way to rearrange imports in all *.java files in a project?\r\n\r\nso for example:\r\n\r\n    import java.util.Calendar;\r\n    import java.text.DateFormat;\r\n    import java.text.ParseException;\r\n    import java.text.SimpleDateFormat;\r\n\r\nwould become\r\n\r\n    import java.text.DateFormat;\r\n    import java.text.ParseException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Calendar;\r\n\r\nwe have about 200 source files and they need to have imports in a order.  \r\n\r\nWhat would be the best way to approach this?  I am open to a perl/python/groovy script that would do this...\r\n","title":"is there any way to rearrange imports in java source file","body":"<p>Is there an easy way to rearrange imports in all *.java files in a project?</p>\n\n<p>so for example:</p>\n\n<pre><code>import java.util.Calendar;\nimport java.text.DateFormat;\nimport java.text.ParseException;\nimport java.text.SimpleDateFormat;\n</code></pre>\n\n<p>would become</p>\n\n<pre><code>import java.text.DateFormat;\nimport java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.util.Calendar;\n</code></pre>\n\n<p>we have about 200 source files and they need to have imports in a order.  </p>\n\n<p>What would be the best way to approach this?  I am open to a perl/python/groovy script that would do this...</p>\n"},{"tags":["java","nio"],"comments":[{"owner":{"account_id":26825953,"reputation":312,"user_id":20414580,"display_name":"CW_"},"score":1,"creation_date":1668605041,"post_id":74461153,"comment_id":131445440,"body_markdown":"Can you please specify which libraries and java version you are using ?","body":"Can you please specify which libraries and java version you are using ?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1668605071,"post_id":74461153,"comment_id":131445457,"body_markdown":"if  ( !file.exists() || !file.isDirectory() ) Files.createDirectory(....","body":"if  ( !file.exists() || !file.isDirectory() ) Files.createDirectory(...."},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1668605202,"post_id":74461153,"comment_id":131445509,"body_markdown":"I use Java 17, OpenCSV","body":"I use Java 17, OpenCSV"}],"answers":[{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1668605078,"creation_date":1668605078,"answer_id":74461254,"question_id":74461153,"body_markdown":"Did you mean:\r\n\r\n    try {\r\n        Path path = Path.of(directoryPath.getAbsolutePath() + &quot;/processed&quot;);\r\n\r\n        // Check first if the file not exist\r\n        if (!Files.exists(path)) {\r\n            Files.createDirectory(path);\r\n        }\r\n    } catch(..)","title":"Skip directory creation if directory already exists","body":"<p>Did you mean:</p>\n<pre><code>try {\n    Path path = Path.of(directoryPath.getAbsolutePath() + &quot;/processed&quot;);\n\n    // Check first if the file not exist\n    if (!Files.exists(path)) {\n        Files.createDirectory(path);\n    }\n} catch(..)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668955578,"creation_date":1668605092,"answer_id":74461255,"question_id":74461153,"body_markdown":"You could use [`Files.createDirectories(path)`][createDirectories] which will not report an error if the directory exists on the second and subsequent runs.\r\n\r\nNote that the behaviour is slightly different, as `Files.createDirectories(path)` creates all directory levels that don&#39;t exist. \r\n\r\nThe call will give `FileAlreadyExistsException` if the path exists and isn&#39;t a directory, but does not report any error second time if the path exists and is a directory.\r\n\r\n\r\n\r\n   [createDirectories]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#createDirectories(java.nio.file.Path,java.nio.file.attribute.FileAttribute...)","title":"Skip directory creation if directory already exists","body":"<p>You could use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#createDirectories(java.nio.file.Path,java.nio.file.attribute.FileAttribute...)\" rel=\"nofollow noreferrer\"><code>Files.createDirectories(path)</code></a> which will not report an error if the directory exists on the second and subsequent runs.</p>\n<p>Note that the behaviour is slightly different, as <code>Files.createDirectories(path)</code> creates all directory levels that don't exist.</p>\n<p>The call will give <code>FileAlreadyExistsException</code> if the path exists and isn't a directory, but does not report any error second time if the path exists and is a directory.</p>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":445,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":74461254,"answer_count":2,"score":-2,"last_activity_date":1668955578,"creation_date":1668604666,"question_id":74461153,"body_markdown":"I want to create a Quartz job that reads .csv files and moves them when the file is processed. I tried this:\r\n\r\n    @Override\r\n    public void execute(JobExecutionContext context) {\r\n    \r\n        File directoryPath = new File(&quot;C:\\\\csv\\\\nov&quot;);\r\n        // Create a new subfolder called &quot;processed&quot; into source directory\r\n        try {\r\n            Files.createDirectory(Path.of(directoryPath.getAbsolutePath() + &quot;/processed&quot;));\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        .......................\r\n    }\r\n    \r\n\r\nWhen I run the code a second time I get the error:\r\n\r\n    Caused by: java.nio.file.FileAlreadyExistsException: C:\\csv\\nov\\processed\r\n\r\nIs there some way to make a check for this directory and skip directory creation? I can remove the line `throw new RuntimeException(e);` but I&#39;m looking for a better way to handle the case.","title":"Skip directory creation if directory already exists","body":"<p>I want to create a Quartz job that reads .csv files and moves them when the file is processed. I tried this:</p>\n<pre><code>@Override\npublic void execute(JobExecutionContext context) {\n\n    File directoryPath = new File(&quot;C:\\\\csv\\\\nov&quot;);\n    // Create a new subfolder called &quot;processed&quot; into source directory\n    try {\n        Files.createDirectory(Path.of(directoryPath.getAbsolutePath() + &quot;/processed&quot;));\n    } catch (IOException e) {\n        throw new RuntimeException(e);\n    }\n    .......................\n}\n</code></pre>\n<p>When I run the code a second time I get the error:</p>\n<pre><code>Caused by: java.nio.file.FileAlreadyExistsException: C:\\csv\\nov\\processed\n</code></pre>\n<p>Is there some way to make a check for this directory and skip directory creation? I can remove the line <code>throw new RuntimeException(e);</code> but I'm looking for a better way to handle the case.</p>\n"},{"tags":["java","android","firebase","android-manifest"],"comments":[{"owner":{"account_id":10814854,"reputation":4137,"user_id":7954210,"accept_rate":73,"display_name":"Mouaad Abdelghafour AITALI"},"score":0,"creation_date":1576699857,"post_id":59399289,"comment_id":104987820,"body_markdown":"did you check those answers: [INSTALL_PARSE_FAILED_MANIFEST_MALFORMED?](https://stackoverflow.com/questions/6056564/installation-error-install-parse-failed-manifest-malformed)","body":"did you check those answers: <a href=\"https://stackoverflow.com/questions/6056564/installation-error-install-parse-failed-manifest-malformed\">INSTALL_PARSE_FAILED_MANIFEST_MALFORMED?</a>"},{"owner":{"account_id":2992271,"reputation":3148,"user_id":2539607,"accept_rate":78,"display_name":"levininja"},"score":0,"creation_date":1576701862,"post_id":59399289,"comment_id":104988540,"body_markdown":"Welcome to stack overflow!  To make it more likely to get your question answered, I recommend being more specific for what &quot;the app&quot; is and what exactly you are trying to do.","body":"Welcome to stack overflow!  To make it more likely to get your question answered, I recommend being more specific for what &quot;the app&quot; is and what exactly you are trying to do."}],"answers":[{"tags":[],"owner":{"account_id":7522309,"reputation":21,"user_id":5713747,"display_name":"Roshan kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668955033,"creation_date":1668954703,"answer_id":74508970,"question_id":59399289,"body_markdown":"for every **intent-filter** inside activity, service and receiver use  android:exported=&quot;true&quot;. It Should work...!","title":"Installation did not succeed. The application could not be installed: INSTALL_PARSE_FAILED_MANIFEST_MALFORMED Installation failed due to: &#39;null&#39;","body":"<p>for every <strong>intent-filter</strong> inside activity, service and receiver use  android:exported=&quot;true&quot;. It Should work...!</p>\n"}],"owner":{"account_id":17340055,"reputation":1,"user_id":12560956,"display_name":"Tanvir Ishtiaq"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2369,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668955033,"creation_date":1576699509,"question_id":59399289,"body_markdown":"&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n\r\n    package =&quot;com.example.MessageNow&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;Android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.example.MessageNow.LoginActivity&quot;\r\n            android:label=&quot;@string/app_name&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity android:name=&quot;.MainActivity&quot;&gt;&lt;/activity&gt;\r\n\r\n        &lt;activity android:name=&quot;.MessageActivity&quot; /&gt;\r\n        &lt;activity android:name=&quot;.PasswordActivity&quot; /&gt;\r\n        &lt;meta-data\r\n        android:name=&quot;android.support.multidex.MultiDexApplication&quot; /&gt;\r\n\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.android.gms.car.application&quot;\r\n            android:resource=&quot;@xml/automotive_app_desc&quot; /&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;preloaded_fonts&quot;\r\n            android:resource=&quot;@array/preloaded_fonts&quot; /&gt;\r\n\r\n\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n\r\n\r\nInstallation did not succeed.\r\nThe application could not be installed: INSTALL_PARSE_FAILED_MANIFEST_MALFORMED\r\nInstallation failed due to: &#39;null&#39;\r\ni get this whenever i run the app on android studio emulator.","title":"Installation did not succeed. The application could not be installed: INSTALL_PARSE_FAILED_MANIFEST_MALFORMED Installation failed due to: &#39;null&#39;","body":"<p>\n\n\n<pre><code>package =\"com.example.MessageNow\"&gt;\n\n&lt;uses-permission android:name=\"Android.permission.INTERNET\" /&gt;\n&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n&lt;uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" /&gt;\n\n&lt;application\n    android:allowBackup=\"true\"\n    android:icon=\"@mipmap/ic_launcher\"\n    android:label=\"@string/app_name\"\n    android:roundIcon=\"@mipmap/ic_launcher_round\"\n    android:supportsRtl=\"true\"\n    android:theme=\"@style/AppTheme\"&gt;\n    &lt;activity\n        android:name=\"com.example.MessageNow.LoginActivity\"\n        android:label=\"@string/app_name\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n    &lt;activity android:name=\".MainActivity\"&gt;&lt;/activity&gt;\n\n    &lt;activity android:name=\".MessageActivity\" /&gt;\n    &lt;activity android:name=\".PasswordActivity\" /&gt;\n    &lt;meta-data\n    android:name=\"android.support.multidex.MultiDexApplication\" /&gt;\n\n    &lt;meta-data\n        android:name=\"com.google.android.gms.car.application\"\n        android:resource=\"@xml/automotive_app_desc\" /&gt;\n    &lt;meta-data\n        android:name=\"preloaded_fonts\"\n        android:resource=\"@array/preloaded_fonts\" /&gt;\n\n\n&lt;/application&gt;\n</code></pre>\n\n<p></p>\n\n<p>Installation did not succeed.\nThe application could not be installed: INSTALL_PARSE_FAILED_MANIFEST_MALFORMED\nInstallation failed due to: 'null'\ni get this whenever i run the app on android studio emulator.</p>\n"},{"tags":["java","microservices","logstash","elk"],"comments":[{"owner":{"account_id":9869929,"reputation":2134,"user_id":7309962,"display_name":"Evgeny K"},"score":1,"creation_date":1668955455,"post_id":74508658,"comment_id":131526635,"body_markdown":"Actually your service cant use slf4j for logging. Slf4j only provides common interface for logging framework. Underneath it probably will be logback, java.util.logging or log4j","body":"Actually your service cant use slf4j for logging. Slf4j only provides common interface for logging framework. Underneath it probably will be logback, java.util.logging or log4j"},{"owner":{"account_id":11475744,"reputation":205,"user_id":8411319,"display_name":"Radu Aram"},"score":0,"creation_date":1668958806,"post_id":74508658,"comment_id":131527327,"body_markdown":"You&#39;re right. I am using log4j underneath","body":"You&#39;re right. I am using log4j underneath"}],"answers":[{"tags":[],"owner":{"account_id":9869929,"reputation":2134,"user_id":7309962,"display_name":"Evgeny K"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668954944,"creation_date":1668954944,"answer_id":74509000,"question_id":74508658,"body_markdown":"You should use Filebeat to send logs to your ELK. You can read how to setup it for docker container [here](https://www.elastic.co/guide/en/beats/filebeat/current/filebeat-input-container.html)","title":"How to send my Java generated logs to ELK","body":"<p>You should use Filebeat to send logs to your ELK. You can read how to setup it for docker container <a href=\"https://www.elastic.co/guide/en/beats/filebeat/current/filebeat-input-container.html\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":11475744,"reputation":205,"user_id":8411319,"display_name":"Radu Aram"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668954944,"creation_date":1668952030,"question_id":74508658,"body_markdown":"I am currently working on a microservices based project. What I want to do is to be able to send my logs generated by a Java service running in a Docker container to ELK, which is a separate Docker container. What is the best way to do that?\r\nI was hoping I could send my logs through HTTP directly to the ELK stack, instead of saving the logs into a file locally.\r\n\r\nMy Java service uses Java 1.8, Spring Boot and it uses slf4j for logging.","title":"How to send my Java generated logs to ELK","body":"<p>I am currently working on a microservices based project. What I want to do is to be able to send my logs generated by a Java service running in a Docker container to ELK, which is a separate Docker container. What is the best way to do that?\nI was hoping I could send my logs through HTTP directly to the ELK stack, instead of saving the logs into a file locally.</p>\n<p>My Java service uses Java 1.8, Spring Boot and it uses slf4j for logging.</p>\n"},{"tags":["java","algorithm","if-statement","leap-year"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1668443979,"post_id":74434935,"comment_id":131400774,"body_markdown":"The crux of the issue is that last `|| (rem100 != 0 &amp;&amp; rem4 == 0)`. Since the other clauses before it are `&amp;&amp;`, this one is treated as a OR against the _entire_ clause. `-1024 % 100 != 0` is true, as well as `-1024 % 4 == 0`, so the OR satisfies the whole `if`. The boolean logic in that `if` needs a little work.","body":"The crux of the issue is that last <code>|| (rem100 != 0 &amp;&amp; rem4 == 0)</code>. Since the other clauses before it are <code>&amp;&amp;</code>, this one is treated as a OR against the <i>entire</i> clause. <code>-1024 % 100 != 0</code> is true, as well as <code>-1024 % 4 == 0</code>, so the OR satisfies the whole <code>if</code>. The boolean logic in that <code>if</code> needs a little work."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1668444066,"post_id":74434935,"comment_id":131400808,"body_markdown":"Did you maybe set your parenthesis wrong? Because having `((` at the start and `))` at the very end doesn&#39;t make a whole lot of sense. You might es well just use a single parenthesis in this case, because putting an extra parenthesis around your whole expression doesn&#39;t do anything.","body":"Did you maybe set your parenthesis wrong? Because having <code>((</code> at the start and <code>))</code> at the very end doesn&#39;t make a whole lot of sense. You might es well just use a single parenthesis in this case, because putting an extra parenthesis around your whole expression doesn&#39;t do anything."},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1668445279,"post_id":74434935,"comment_id":131401250,"body_markdown":"Consider moving each condition to a private method to simplify the overall joining of all of the conditions.","body":"Consider moving each condition to a private method to simplify the overall joining of all of the conditions."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1668445379,"post_id":74434935,"comment_id":131401285,"body_markdown":"There&#39;s really no such thing as a negative leap year.  How would people have known that it was a multiple of 4 years until the birth of Jesus?","body":"There&#39;s really no such thing as a negative leap year.  How would people have known that it was a multiple of 4 years until the birth of Jesus?"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":2,"creation_date":1668448752,"post_id":74434935,"comment_id":131402484,"body_markdown":"Well, technically [there never was a leap year before 1582](https://en.wikipedia.org/wiki/Leap_year#Leap_day). The last few statements under &quot;Algorithm&quot; (before &quot;Leap Day&quot;) also address projecting this algorithm to earlier years, but you&#39;ll end up down the temporal rabbit hole if you go too far.","body":"Well, technically <a href=\"https://en.wikipedia.org/wiki/Leap_year#Leap_day\" rel=\"nofollow noreferrer\">there never was a leap year before 1582</a>. The last few statements under &quot;Algorithm&quot; (before &quot;Leap Day&quot;) also address projecting this algorithm to earlier years, but you&#39;ll end up down the temporal rabbit hole if you go too far."},{"owner":{"account_id":16709301,"reputation":21,"user_id":20501559,"display_name":"Alejandro Rojas"},"score":0,"creation_date":1668448794,"post_id":74434935,"comment_id":131402502,"body_markdown":"Remove the parentheses and add the positive validation to the other section of the if, solves the logic hole. I wanted to include the exception of hundreds, etc, so that there are no leap years left out, that only fulfill part of the rule. Really dont know why a negative leap year, if there is any information at your fingertips I would appreciate it.","body":"Remove the parentheses and add the positive validation to the other section of the if, solves the logic hole. I wanted to include the exception of hundreds, etc, so that there are no leap years left out, that only fulfill part of the rule. Really dont know why a negative leap year, if there is any information at your fingertips I would appreciate it."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1669540378,"post_id":74434935,"comment_id":131660468,"body_markdown":"@Rogue It&#39;s not true that there was never a leap year before 1582.  The very page that you linked to includes this text.  _&quot;... by AD 8 the leap years were being observed every fourth year ...&quot;_.","body":"@Rogue It&#39;s not true that there was never a leap year before 1582.  The very page that you linked to includes this text.  <i>&quot;... by AD 8 the leap years were being observed every fourth year ...&quot;</i>."}],"answers":[{"tags":[],"owner":{"account_id":26123516,"reputation":34,"user_id":19815385,"display_name":"thicchead"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668444073,"creation_date":1668444073,"answer_id":74435006,"question_id":74434935,"body_markdown":"Not exactly sure, but maybe it&#39;s because when\r\n```|| (rem100 != 0) &amp;&amp; (rem4 == 0))``` returns a ```true``` statement, your whole function returns ```true```, negating the whole first part of your if-statement.","title":"Logic hole with negative numbers in isALeapYear condition in java","body":"<p>Not exactly sure, but maybe it's because when\n<code>|| (rem100 != 0) &amp;&amp; (rem4 == 0))</code> returns a <code>true</code> statement, your whole function returns <code>true</code>, negating the whole first part of your if-statement.</p>\n"},{"tags":[],"owner":{"account_id":16709301,"reputation":21,"user_id":20501559,"display_name":"Alejandro Rojas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668447806,"creation_date":1668447747,"answer_id":74435791,"question_id":74434935,"body_markdown":"As the || overrides the positive validation part, just add that same validation in the other part of the condition...\r\n                                     \r\n    (year &gt;= 1 &amp;&amp; year &lt;= 9999 &amp;&amp; rem4 == 0 &amp;&amp; rem100 == 0 &amp;&amp; rem400 == 0 || year &gt;= 1 &amp;&amp; year &lt;= 9999 &amp;&amp; rem100 != 0 &amp;&amp; rem4 == 0)","title":"Logic hole with negative numbers in isALeapYear condition in java","body":"<p>As the || overrides the positive validation part, just add that same validation in the other part of the condition...</p>\n<pre><code>(year &gt;= 1 &amp;&amp; year &lt;= 9999 &amp;&amp; rem4 == 0 &amp;&amp; rem100 == 0 &amp;&amp; rem400 == 0 || year &gt;= 1 &amp;&amp; year &lt;= 9999 &amp;&amp; rem100 != 0 &amp;&amp; rem4 == 0)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22848,"reputation":131588,"user_id":56778,"accept_rate":93,"display_name":"Jim Mischel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668954783,"creation_date":1668458700,"answer_id":74437632,"question_id":74434935,"body_markdown":"I know it&#39;s considered cool to be concise and all, but this kind of thing is often best done with multiple simple conditionals. Especially when you&#39;re first developing it.\r\n\r\n    if (year &lt; 1 || year &gt; 9999)\r\n        return false;\r\n    if (rem4 != 0)\r\n        return false;\r\n    if (rem100 == 0 &amp;&amp; rem400 != 0)\r\n        return false;\r\n    return true;\r\n\r\nOr, perhaps:\r\n\r\n    if (year &gt;= 1 &amp;&amp; year &lt;= 9999)\r\n        if (rem4 == 0) {\r\n            if (rem100 == 0)\r\n                return (rem400 == 0);\r\n            return true;\r\n        }\r\n    return false;\r\n\r\nEither way will be easier to debug than one big long complicated `if` statement.","title":"Logic hole with negative numbers in isALeapYear condition in java","body":"<p>I know it's considered cool to be concise and all, but this kind of thing is often best done with multiple simple conditionals. Especially when you're first developing it.</p>\n<pre><code>if (year &lt; 1 || year &gt; 9999)\n    return false;\nif (rem4 != 0)\n    return false;\nif (rem100 == 0 &amp;&amp; rem400 != 0)\n    return false;\nreturn true;\n</code></pre>\n<p>Or, perhaps:</p>\n<pre><code>if (year &gt;= 1 &amp;&amp; year &lt;= 9999)\n    if (rem4 == 0) {\n        if (rem100 == 0)\n            return (rem400 == 0);\n        return true;\n    }\nreturn false;\n</code></pre>\n<p>Either way will be easier to debug than one big long complicated <code>if</code> statement.</p>\n"}],"owner":{"account_id":16709301,"reputation":21,"user_id":20501559,"display_name":"Alejandro Rojas"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":74435006,"answer_count":3,"score":1,"last_activity_date":1668954783,"creation_date":1668443723,"question_id":74434935,"body_markdown":"\r\n```\r\npublic static void main(String[] args){\r\n    boolean year = isLeapYear(9999);\r\n    System.out.println(&quot;Is Leap Year: &quot; + year);\r\n}\r\npublic static boolean isLeapYear(int year){\r\n    int rem4 = year % 4;\r\n    int rem100 = year % 100;\r\n    int rem400 = year % 400;\r\n    if ((year &gt;= 1 &amp;&amp; year &lt;= 9999) &amp;&amp; (rem4 == 0) &amp;&amp; (rem100 == 0 &amp;&amp; rem400 == 0) || (rem100 != 0) &amp;&amp; (rem4 == 0)){\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n\r\n```\r\nWhen I enter a negative year (so far only -1024) my range condition doesn&#39;t work. \r\nBut if I enter any other negative leap year it works(-2020). So I don&#39;t know what I&#39;m possibly missing, or if the structure of the algorithm is quite right. Any help will be appreciated.\r\n\r\nWhat is expected is that when I enter a year that is not a leap year, and if it is a negative leap year, it returns false.","title":"Logic hole with negative numbers in isALeapYear condition in java","body":"<pre><code>public static void main(String[] args){\n    boolean year = isLeapYear(9999);\n    System.out.println(&quot;Is Leap Year: &quot; + year);\n}\npublic static boolean isLeapYear(int year){\n    int rem4 = year % 4;\n    int rem100 = year % 100;\n    int rem400 = year % 400;\n    if ((year &gt;= 1 &amp;&amp; year &lt;= 9999) &amp;&amp; (rem4 == 0) &amp;&amp; (rem100 == 0 &amp;&amp; rem400 == 0) || (rem100 != 0) &amp;&amp; (rem4 == 0)){\n        return true;\n    }\n    return false;\n}\n\n</code></pre>\n<p>When I enter a negative year (so far only -1024) my range condition doesn't work.\nBut if I enter any other negative leap year it works(-2020). So I don't know what I'm possibly missing, or if the structure of the algorithm is quite right. Any help will be appreciated.</p>\n<p>What is expected is that when I enter a year that is not a leap year, and if it is a negative leap year, it returns false.</p>\n"},{"tags":["java","localdate"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1624549240,"post_id":68118659,"comment_id":120395051,"body_markdown":"You should use `yyyy` not `YYYY` - Possible duplicate of: https://stackoverflow.com/q/26431882/150978","body":"You should use <code>yyyy</code> not <code>YYYY</code> - Possible duplicate of: <a href=\"https://stackoverflow.com/q/26431882/150978\">stackoverflow.com/q/26431882/150978</a>"}],"answers":[{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1624549257,"creation_date":1624549257,"answer_id":68118829,"question_id":68118659,"body_markdown":"Your format is incorect if you are expecting 2020 for both dates. Change it to `yyyyMMdd`\r\n\r\n - y (lowercase) is year\r\n - Y (uppercase) is &#39;week-based-year&#39;\r\n\r\nWorth a read: [yyyy-vs-yyyy-the-day-the-java-date-formatter-hurt-my-brain][1]\r\n\r\n\r\n  [1]: https://dev.to/shane/yyyy-vs-yyyy-the-day-the-java-date-formatter-hurt-my-brain-4527","title":"Bug in java LocalDate for Date Format","body":"<p>Your format is incorect if you are expecting 2020 for both dates. Change it to <code>yyyyMMdd</code></p>\n<ul>\n<li>y (lowercase) is year</li>\n<li>Y (uppercase) is 'week-based-year'</li>\n</ul>\n<p>Worth a read: <a href=\"https://dev.to/shane/yyyy-vs-yyyy-the-day-the-java-date-formatter-hurt-my-brain-4527\" rel=\"noreferrer\">yyyy-vs-yyyy-the-day-the-java-date-formatter-hurt-my-brain</a></p>\n"}],"owner":{"account_id":367805,"reputation":143,"user_id":714212,"display_name":"rread"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":354,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1624550706,"accepted_answer_id":68118829,"answer_count":1,"score":1,"last_activity_date":1668954473,"creation_date":1624548638,"question_id":68118659,"body_markdown":"I was running some code and was getting a strange error I could not understand. \r\nSo i tried to debug it and ran multiple test and found this\r\nthis is the code I am running\r\n\r\n    @Test\r\n\tpublic void test(){\r\n\r\n\t\tLocalDate firstDay = LocalDate.parse(&quot;2020-12-01&quot;);\r\n\t\tLocalDate lastDay = LocalDate.parse(&quot;2020-12-31&quot;);\r\n\r\n\t\tString firstDayString = firstDay.format(DateTimeFormatter.ofPattern(&quot;YYYYMMdd&quot;));\r\n\t\tString lastDayString = lastDay.format(DateTimeFormatter.ofPattern(&quot;YYYYMMdd&quot;));\r\n\r\n\t\tSystem.out.println(firstDayString);\r\n\t\tSystem.out.println(lastDayString);\r\n\r\n\t}\r\n\r\nAnd this is the output \r\n\r\n    20201201\r\n    20211231\r\n\r\nplease note the year for the last date changed to 2021 when i tried to do the format.\r\nAny one else has notice this?\r\n","title":"Bug in java LocalDate for Date Format","body":"<p>I was running some code and was getting a strange error I could not understand.\nSo i tried to debug it and ran multiple test and found this\nthis is the code I am running</p>\n<pre><code>@Test\npublic void test(){\n\n    LocalDate firstDay = LocalDate.parse(&quot;2020-12-01&quot;);\n    LocalDate lastDay = LocalDate.parse(&quot;2020-12-31&quot;);\n\n    String firstDayString = firstDay.format(DateTimeFormatter.ofPattern(&quot;YYYYMMdd&quot;));\n    String lastDayString = lastDay.format(DateTimeFormatter.ofPattern(&quot;YYYYMMdd&quot;));\n\n    System.out.println(firstDayString);\n    System.out.println(lastDayString);\n\n}\n</code></pre>\n<p>And this is the output</p>\n<pre><code>20201201\n20211231\n</code></pre>\n<p>please note the year for the last date changed to 2021 when i tried to do the format.\nAny one else has notice this?</p>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":4,"creation_date":1519905295,"post_id":49049139,"comment_id":85102470,"body_markdown":"Why don&#39;t you just remove and insert?","body":"Why don&#39;t you just remove and insert?"},{"owner":{"account_id":4196075,"reputation":17303,"user_id":3437460,"accept_rate":49,"display_name":"user3437460"},"score":0,"creation_date":1519906375,"post_id":49049139,"comment_id":85103087,"body_markdown":"It is better if you create a class such as `Person` to hold all the attributes. Right now, you have no way to ensure the data integrity.","body":"It is better if you create a class such as <code>Person</code> to hold all the attributes. Right now, you have no way to ensure the data integrity."}],"answers":[{"tags":[],"owner":{"account_id":9432667,"reputation":1340,"user_id":7015661,"accept_rate":100,"display_name":"TM00"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1519905942,"creation_date":1519905942,"answer_id":49049402,"question_id":49049139,"body_markdown":"Remove the `FULL_NAME` element and replace it with the `FIRST_NAME` and `LAST_NAME` elements:\r\n\r\n\t\tList&lt;String&gt; list = new ArrayList&lt;&gt;(Arrays.asList(&quot;ROLL_NO&quot;,&quot;FULL_NAME&quot;,&quot;PERCENTAGE&quot;, &quot;ADDRESS&quot;)); \r\n\r\n\t\tint index = list.indexOf(&quot;FULL_NAME&quot;);\r\n\t\t\r\n\t\tlist.remove(index); //remove &quot;FULL_NAME&quot;\r\n\t\t\r\n\t\tlist.add(index, &quot;LAST_NAME&quot;);\r\n\t\tlist.add(index, &quot;FIRST_NAME&quot;);\r\n\r\nNote the order which I am adding them. First `LAST_NAME` and then `FIRST_NAME`. This is done as setting an element at in index shifts the current element at that index to the right of the list. By doing so the elements are in the correct order as you suggested in the question.","title":"Java - Replace single element with multiple elements from list","body":"<p>Remove the <code>FULL_NAME</code> element and replace it with the <code>FIRST_NAME</code> and <code>LAST_NAME</code> elements:</p>\n\n<pre><code>    List&lt;String&gt; list = new ArrayList&lt;&gt;(Arrays.asList(\"ROLL_NO\",\"FULL_NAME\",\"PERCENTAGE\", \"ADDRESS\")); \n\n    int index = list.indexOf(\"FULL_NAME\");\n\n    list.remove(index); //remove \"FULL_NAME\"\n\n    list.add(index, \"LAST_NAME\");\n    list.add(index, \"FIRST_NAME\");\n</code></pre>\n\n<p>Note the order which I am adding them. First <code>LAST_NAME</code> and then <code>FIRST_NAME</code>. This is done as setting an element at in index shifts the current element at that index to the right of the list. By doing so the elements are in the correct order as you suggested in the question.</p>\n"},{"tags":[],"owner":{"account_id":4196075,"reputation":17303,"user_id":3437460,"accept_rate":49,"display_name":"user3437460"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519906672,"creation_date":1519906672,"answer_id":49049586,"question_id":49049139,"body_markdown":"To solve your problem, you can use `remove()` and `add()`. But a better approach will be creating a class to hold all those attributes:\r\n\r\n    public class Person{\r\n        private String rollNo;\r\n        private String firstName;\r\n        private String lastName;\r\n        private double percentage;\r\n        private String double;\r\n    \r\n        //your constructors, getters &amp; setters\r\n    } \r\n\r\nThen use an `ArrayList` to hold various `Person` object together as one collection:\r\n\r\n    ArrayList&lt;Person&gt; list = new ArrayList&lt;&gt;();\r\n\r\nThis way, whenever you need to add/remove a record as a whole, there is no need to add/remove all related attributes manually which is very prone to mistakes.","title":"Java - Replace single element with multiple elements from list","body":"<p>To solve your problem, you can use <code>remove()</code> and <code>add()</code>. But a better approach will be creating a class to hold all those attributes:</p>\n\n<pre><code>public class Person{\n    private String rollNo;\n    private String firstName;\n    private String lastName;\n    private double percentage;\n    private String double;\n\n    //your constructors, getters &amp; setters\n} \n</code></pre>\n\n<p>Then use an <code>ArrayList</code> to hold various <code>Person</code> object together as one collection:</p>\n\n<pre><code>ArrayList&lt;Person&gt; list = new ArrayList&lt;&gt;();\n</code></pre>\n\n<p>This way, whenever you need to add/remove a record as a whole, there is no need to add/remove all related attributes manually which is very prone to mistakes.</p>\n"},{"tags":[],"owner":{"account_id":482781,"reputation":3335,"user_id":897399,"accept_rate":100,"display_name":"Francis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668954379,"creation_date":1668954379,"answer_id":74508925,"question_id":49049139,"body_markdown":"If you list is mutable, you can use a `listIterator` to accomplish the same thing. \r\n\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nclass Scratch {\r\n    public static void main(String[] args) {\r\n        final var values = new ArrayList&lt;&gt;(List.of(args));\r\n        final var it = values.listIterator();\r\n\r\n        while (it.hasNext()) {\r\n            final var value = it.next();\r\n\r\n            if (&quot;FULL_NAME&quot;.equals(value)) {\r\n                it.remove();\r\n\r\n                it.add(&quot;FIRST_NAME&quot;);\r\n                it.add(&quot;LAST_NAME&quot;);\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"Java - Replace single element with multiple elements from list","body":"<p>If you list is mutable, you can use a <code>listIterator</code> to accomplish the same thing.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.List;\n\nclass Scratch {\n    public static void main(String[] args) {\n        final var values = new ArrayList&lt;&gt;(List.of(args));\n        final var it = values.listIterator();\n\n        while (it.hasNext()) {\n            final var value = it.next();\n\n            if (&quot;FULL_NAME&quot;.equals(value)) {\n                it.remove();\n\n                it.add(&quot;FIRST_NAME&quot;);\n                it.add(&quot;LAST_NAME&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11733395,"reputation":153,"user_id":8588060,"display_name":"Rahul Ghadage"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4017,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":49049402,"answer_count":3,"score":-1,"last_activity_date":1668954379,"creation_date":1519905044,"question_id":49049139,"body_markdown":"I want to replace single object from `List&lt;String&gt;` with multiple objects.\r\n\r\n    List&lt;String&gt; list = new ArrayList&lt;&gt;(Arrays.asList(&quot;ROLL_NO&quot;,&quot;FULL_NAME&quot;,&quot;PERCENTAGE&quot;, &quot;ADDRESS&quot;)); \r\n\r\nI want to replace &quot;FULL_NAME&quot; with &quot;FIRST_NAME&quot; AND &quot;LAST_NAME&quot;. So my list elements will be like as\r\n\r\n    &quot;ROLL_NO&quot;,\r\n    &quot;FIRST_NAME&quot;, \r\n    &quot;LAST_NAME&quot;,\r\n    &quot;PERCENTAGE&quot;, \r\n    &quot;ADDRESS&quot;\r\n\r\n`Collections.replaceAll()` method replaces with single object only.\r\n\r\nIs there a better way with java8 stream?\r\n\r\nThanks in advance. ","title":"Java - Replace single element with multiple elements from list","body":"<p>I want to replace single object from <code>List&lt;String&gt;</code> with multiple objects.</p>\n\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;&gt;(Arrays.asList(\"ROLL_NO\",\"FULL_NAME\",\"PERCENTAGE\", \"ADDRESS\")); \n</code></pre>\n\n<p>I want to replace \"FULL_NAME\" with \"FIRST_NAME\" AND \"LAST_NAME\". So my list elements will be like as</p>\n\n<pre><code>\"ROLL_NO\",\n\"FIRST_NAME\", \n\"LAST_NAME\",\n\"PERCENTAGE\", \n\"ADDRESS\"\n</code></pre>\n\n<p><code>Collections.replaceAll()</code> method replaces with single object only.</p>\n\n<p>Is there a better way with java8 stream?</p>\n\n<p>Thanks in advance. </p>\n"},{"tags":["java","unit-testing","testing","junit"],"answers":[{"tags":[],"owner":{"account_id":10594606,"reputation":3598,"user_id":7803797,"display_name":"Chaitanya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668953287,"creation_date":1668953287,"answer_id":74508807,"question_id":74508791,"body_markdown":"I can see that your class `UserValidatorTest` is not public. On making your class public, you will be able to run the tests.\r\n\r\n```\r\npackage model.validators;\r\n\r\nimport org.junit.Assert;\r\nimport org.junit.Test;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\npublic class UserValidatorTest {\r\n\r\n    @Test\r\n    public void shouldReturnTrueForValidPhoneNumbers() {\r\n        List&lt;String&gt; phoneNumbers = Arrays.asList(\r\n                &quot;9876543210&quot;,\r\n                &quot;7777543210&quot;\r\n        );\r\n        boolean result = UserValidator.validateUserPhoneNumbers(phoneNumbers);\r\n\r\n        Assert.assertTrue(result);\r\n    }\r\n}\r\n```","title":"Unable to run any Junit4 tests - InvalidTestClassError: Invalid test class","body":"<p>I can see that your class <code>UserValidatorTest</code> is not public. On making your class public, you will be able to run the tests.</p>\n<pre><code>package model.validators;\n\nimport org.junit.Assert;\nimport org.junit.Test;\n\nimport java.util.Arrays;\nimport java.util.List;\n\npublic class UserValidatorTest {\n\n    @Test\n    public void shouldReturnTrueForValidPhoneNumbers() {\n        List&lt;String&gt; phoneNumbers = Arrays.asList(\n                &quot;9876543210&quot;,\n                &quot;7777543210&quot;\n        );\n        boolean result = UserValidator.validateUserPhoneNumbers(phoneNumbers);\n\n        Assert.assertTrue(result);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668954044,"creation_date":1668954044,"answer_id":74508888,"question_id":74508791,"body_markdown":"JUnit4 requires everything to be public.&lt;br&gt;\r\nJUnit5 is more tolerant regarding the visibilities of Test classes (Test classes, test methods, and lifecycle methods are not required to be public, but they must not be private).\r\n\r\nSonarLint Rule description:&lt;br&gt;\r\nIn this context (JUnit5), it is recommended to use the default package visibility, which improves the readability of code.","title":"Unable to run any Junit4 tests - InvalidTestClassError: Invalid test class","body":"<p>JUnit4 requires everything to be public.<br>\nJUnit5 is more tolerant regarding the visibilities of Test classes (Test classes, test methods, and lifecycle methods are not required to be public, but they must not be private).</p>\n<p>SonarLint Rule description:<br>\nIn this context (JUnit5), it is recommended to use the default package visibility, which improves the readability of code.</p>\n"}],"owner":{"account_id":25317962,"reputation":47,"user_id":19139750,"display_name":"limovo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":977,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74508807,"answer_count":2,"score":1,"last_activity_date":1668954044,"creation_date":1668953141,"question_id":74508791,"body_markdown":"I am trying to run Junit4 tests and I am unable to run it. I have the following dependency installed \r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;junit&lt;/groupId&gt;\r\n    &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    &lt;version&gt;4.13.2&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nMy test class looks like this \r\n\r\n```\r\npackage model.validators;\r\n\r\nimport org.junit.Assert;\r\nimport org.junit.Test;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\nclass UserValidatorTest {\r\n\r\n    @Test\r\n    public void shouldReturnTrueForValidPhoneNumbers() {\r\n        List&lt;String&gt; phoneNumbers = Arrays.asList(\r\n                &quot;9876543210&quot;,\r\n                &quot;7777543210&quot;\r\n        );\r\n        boolean result = UserValidator.validateUserPhoneNumbers(phoneNumbers);\r\n\r\n        Assert.assertTrue(result);\r\n    }\r\n}\r\n```\r\n\r\nWhen I try to run this test, I get the following error \r\n\r\n```\r\norg.junit.runners.model.InvalidTestClassError: Invalid test class &#39;model.validators.UserValidatorTest&#39;:\r\n```\r\n\r\nI am using IntellijIdea. Any idea what is going wrong here ? TIA\r\n\r\nTried changing dependencies, reloading maven project, setting the correct classpath in Junit Run configurations","title":"Unable to run any Junit4 tests - InvalidTestClassError: Invalid test class","body":"<p>I am trying to run Junit4 tests and I am unable to run it. I have the following dependency installed</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;junit&lt;/groupId&gt;\n    &lt;artifactId&gt;junit&lt;/artifactId&gt;\n    &lt;version&gt;4.13.2&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>My test class looks like this</p>\n<pre><code>package model.validators;\n\nimport org.junit.Assert;\nimport org.junit.Test;\n\nimport java.util.Arrays;\nimport java.util.List;\n\nclass UserValidatorTest {\n\n    @Test\n    public void shouldReturnTrueForValidPhoneNumbers() {\n        List&lt;String&gt; phoneNumbers = Arrays.asList(\n                &quot;9876543210&quot;,\n                &quot;7777543210&quot;\n        );\n        boolean result = UserValidator.validateUserPhoneNumbers(phoneNumbers);\n\n        Assert.assertTrue(result);\n    }\n}\n</code></pre>\n<p>When I try to run this test, I get the following error</p>\n<pre><code>org.junit.runners.model.InvalidTestClassError: Invalid test class 'model.validators.UserValidatorTest':\n</code></pre>\n<p>I am using IntellijIdea. Any idea what is going wrong here ? TIA</p>\n<p>Tried changing dependencies, reloading maven project, setting the correct classpath in Junit Run configurations</p>\n"},{"tags":["java","localdate"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":3,"creation_date":1593087015,"post_id":62574934,"comment_id":110660057,"body_markdown":"*FYI:* `&quot;dd/MM/YYYY&quot;` is a bad format pattern. `Y` is *week-based-year*, you want `u` which is *year*, so use `&quot;dd/MM/uuuu&quot;`. See **documentation**, i.e. javadoc of [`DateTimeFormatter`](https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#patterns).","body":"<i>FYI:</i> <code>&quot;dd&#47;MM&#47;YYYY&quot;</code> is a bad format pattern. <code>Y</code> is <i>week-based-year</i>, you want <code>u</code> which is <i>year</i>, so use <code>&quot;dd&#47;MM&#47;uuuu&quot;</code>. See <b>documentation</b>, i.e. javadoc of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#patterns\" rel=\"nofollow noreferrer\"><code>DateTimeFormatter</code></a>."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1593087121,"post_id":62574934,"comment_id":110660108,"body_markdown":"What values of `myDate`  have you tested? In addition, `mydate` is not the same variable as `myDate` is, the `d`ifference is not directly obvious, admittedly.","body":"What values of <code>myDate</code>  have you tested? In addition, <code>mydate</code> is not the same variable as <code>myDate</code> is, the <code>d</code>ifference is not directly obvious, admittedly."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1593087234,"post_id":62574934,"comment_id":110660173,"body_markdown":"*&quot;It is returning all dates even in the right format&quot;* What does that mean? 1) The code is not returning anything. 2) Why would you expect it to not &quot;return&quot; anything for dates in the right format?","body":"<i>&quot;It is returning all dates even in the right format&quot;</i> What does that mean? 1) The code is not returning anything. 2) Why would you expect it to not &quot;return&quot; anything for dates in the right format?"},{"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1593087526,"post_id":62574934,"comment_id":110660346,"body_markdown":"You might have a misunderstanding about what a `LocalDate` object is. A `LocalDate` object is an object that represents a date/month/year. It does not have a format by itself; it&#39;s just a date value. It makes no sense to check if a `LocalDate` object &quot;has the right format&quot; - it does not have a format at all. That&#39;s why you did not find code to validate a `LocalDate`.","body":"You might have a misunderstanding about what a <code>LocalDate</code> object is. A <code>LocalDate</code> object is an object that represents a date/month/year. It does not have a format by itself; it&#39;s just a date value. It makes no sense to check if a <code>LocalDate</code> object &quot;has the right format&quot; - it does not have a format at all. That&#39;s why you did not find code to validate a <code>LocalDate</code>."},{"owner":{"account_id":4166159,"reputation":951,"user_id":3415090,"display_name":"mohammedkhan"},"score":1,"creation_date":1593087665,"post_id":62574934,"comment_id":110660440,"body_markdown":"Does this answer your question? [How to sanity check a date in Java](https://stackoverflow.com/questions/226910/how-to-sanity-check-a-date-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/226910/how-to-sanity-check-a-date-in-java\">How to sanity check a date in Java</a>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1593104546,"post_id":62574934,"comment_id":110670345,"body_markdown":"Please clarify since I cannot make much sense of your question until now, sorry. A `LocalDate` is always valid, otherwise you would not have been able to create it. And a `LocalDate` never has got any format. See for example [How to format LocalDate object to MM/dd/yyyy and have format persist](https://stackoverflow.com/questions/39689866/how-to-format-localdate-object-to-mm-dd-yyyy-and-have-format-persist).","body":"Please clarify since I cannot make much sense of your question until now, sorry. A <code>LocalDate</code> is always valid, otherwise you would not have been able to create it. And a <code>LocalDate</code> never has got any format. See for example <a href=\"https://stackoverflow.com/questions/39689866/how-to-format-localdate-object-to-mm-dd-yyyy-and-have-format-persist\">How to format LocalDate object to MM/dd/yyyy and have format persist</a>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1593104709,"post_id":62574934,"comment_id":110670417,"body_markdown":"BTW beware of the case of format pattern letters. `YYYY` is not the same as `yyyy`, and the former will probably give you nasty surprises around New Year. Check [the docs](https://docs.oracle.com/javase/10/docs/api/java/time/format/DateTimeFormatter.html) if not quite sure.","body":"BTW beware of the case of format pattern letters. <code>YYYY</code> is not the same as <code>yyyy</code>, and the former will probably give you nasty surprises around New Year. Check <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">the docs</a> if not quite sure."}],"answers":[{"tags":[],"owner":{"account_id":18894667,"reputation":1124,"user_id":13784117,"display_name":"user13784117"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1593087253,"creation_date":1593087253,"answer_id":62575094,"question_id":62574934,"body_markdown":"The reasoning seems circular.  \r\n\r\nYou have a value in a LocalDate (I suppose - though you don&#39;t show any initialization or assignment to myDate).\r\n\r\nYou ask the date to format itself as dd/mm/yyyy.\r\n\r\nThen you ask LocalDate to parse that same string as dd/mm/yyyy.\r\n\r\nI don&#39;t see how either of those can fail.  The conversion to string must surely succeed if LocalDate was successfully assigned.  And of course the parsing of what was just formatted is going to work.\r\n","title":"check localdate in Java","body":"<p>The reasoning seems circular.</p>\n<p>You have a value in a LocalDate (I suppose - though you don't show any initialization or assignment to myDate).</p>\n<p>You ask the date to format itself as dd/mm/yyyy.</p>\n<p>Then you ask LocalDate to parse that same string as dd/mm/yyyy.</p>\n<p>I don't see how either of those can fail.  The conversion to string must surely succeed if LocalDate was successfully assigned.  And of course the parsing of what was just formatted is going to work.</p>\n"}],"owner":{"account_id":10544659,"reputation":159,"user_id":7769343,"display_name":"maya"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":696,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1593097747,"answer_count":1,"score":-2,"last_activity_date":1668953106,"creation_date":1593086781,"question_id":62574934,"body_markdown":"I receive a date that i want to check if it is not in the right format (dd/MM/YYYY), I add an error to display, knowing my date is of type localDate. I found a lot of code to how to validate string dates but not localdate, if any one has an idea:\r\nHere is what I did for the moment and It is rejecting all dates even in the right format\r\n\r\n    LocalDate mydate;\r\n    final DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd/MM/YYYY&quot;); \r\n    try {  \r\n        \tString date = myDate.format(formatter);\r\n        \tLocalDate.parse(date, formatter);\r\n    } \r\n    catch (Exception e) { \r\n    \t errors.add(....));\r\n    } \r\n       \r\n","title":"check localdate in Java","body":"<p>I receive a date that i want to check if it is not in the right format (dd/MM/YYYY), I add an error to display, knowing my date is of type localDate. I found a lot of code to how to validate string dates but not localdate, if any one has an idea:\nHere is what I did for the moment and It is rejecting all dates even in the right format</p>\n<pre><code>LocalDate mydate;\nfinal DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd/MM/YYYY&quot;); \ntry {  \n        String date = myDate.format(formatter);\n        LocalDate.parse(date, formatter);\n} \ncatch (Exception e) { \n     errors.add(....));\n} \n   \n</code></pre>\n"},{"tags":["java","android","xml","android-collapsingtoolbarlayout","android-appbarlayout"],"answers":[{"tags":[],"owner":{"account_id":9333172,"reputation":656,"user_id":8072678,"display_name":"Lebron11"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668952937,"creation_date":1668952937,"answer_id":74508771,"question_id":74507135,"body_markdown":"Using CoordinatorLayout instead of ConstraintLayout for your activity will probably solve your problem.\r\nNOTE: ```android:fitsSystemWindows=true``` is (in every subview) necessary, otherwise the app bar will never &quot;fill&quot; the status bar or you will experience some unexpected behaviour.\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n\tandroid:fitsSystemWindows=&quot;true&quot;&gt;\r\n    &gt;\r\n\t\r\n    &lt;androidx.fragment.app.FragmentContainerView\r\n        android:id=&quot;@+id/fragment_container_view_tag&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n\t\tandroid:fitsSystemWindows=&quot;true&quot;&#180;\r\n        android:name=&quot;com.example.tempapp.pkgFragments.PersonAddFragment&quot; /&gt;\r\n\r\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n```","title":"Prominent app bar with image appears behind status bar","body":"<p>Using CoordinatorLayout instead of ConstraintLayout for your activity will probably solve your problem.\nNOTE: <code>android:fitsSystemWindows=true</code> is (in every subview) necessary, otherwise the app bar will never &quot;fill&quot; the status bar or you will experience some unexpected behaviour.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:fitsSystemWindows=&quot;true&quot;&gt;\n    &gt;\n    \n    &lt;androidx.fragment.app.FragmentContainerView\n        android:id=&quot;@+id/fragment_container_view_tag&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:fitsSystemWindows=&quot;true&quot;\n        android:name=&quot;com.example.tempapp.pkgFragments.PersonAddFragment&quot; /&gt;\n\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n</code></pre>\n"}],"owner":{"account_id":14129564,"reputation":440,"user_id":10207898,"display_name":"Savan Luffy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74508771,"answer_count":1,"score":1,"last_activity_date":1668952937,"creation_date":1668938361,"question_id":74507135,"body_markdown":"I am using a prominent app bar with an image in a fragment.\r\nMy style and xml files look like this:\r\n\r\ntheme.xml:\r\n```\r\n&lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    &lt;!-- Base application theme. --&gt;\r\n    &lt;style name=&quot;Theme.MainTheme&quot; parent=&quot;Theme.MaterialComponents.DayNight.NoActionBar&quot;&gt;\r\n        &lt;!-- Primary brand color. --&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/DeepSkyBlue&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/DeepSkyBlueVariant&lt;/item&gt;\r\n        &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/white&lt;/item&gt;\r\n        &lt;!-- Secondary brand color. --&gt;\r\n        &lt;item name=&quot;colorSecondary&quot;&gt;@color/teal_200&lt;/item&gt;\r\n        &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/teal_700&lt;/item&gt;\r\n        &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/purple_500&lt;/item&gt;\r\n        &lt;!-- Status bar color. --&gt;\r\n        &lt;item name=&quot;android:statusBarColor&quot;&gt;@android:color/transparent&lt;/item&gt;\r\n    &lt;/style&gt;\r\n&lt;/resources&gt;\r\n```\r\nmain_activity.xml (which opens automatically the fragment):\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    &gt;\r\n    &lt;androidx.fragment.app.FragmentContainerView\r\n        android:id=&quot;@+id/fragment_container_view_tag&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:name=&quot;com.example.tempapp.pkgFragments.PersonAddFragment&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nfragment_add_person.xml (which uses a layout to prevent redudancy):\r\n```\r\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    &gt;\r\n    \r\n    &lt;include\r\n        android:id=&quot;@+id/layoutAppBar&quot;\r\n        layout=&quot;@layout/layout_app_bar_prominent&quot; /&gt;\r\n\r\n    &lt;androidx.core.widget.NestedScrollView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;&gt;\r\n        &lt;TextView\r\n            android:layout_width=&quot;fill_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n    &lt;/androidx.core.widget.NestedScrollView&gt;\r\n\r\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n```\r\n\r\nlast but not least, my layout_app_bar_prominent.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;!-- Layout tag not necessary, as we don&#39;t use any binding....--&gt;\r\n&lt;com.google.android.material.appbar.AppBarLayout android:id=&quot;@+id/app_bar_layout&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;@dimen/app_bar_height_image_view&quot;\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n\r\n        &lt;!--- contentScrim defines what should &quot;appear&quot; when the bar is not collapsed.\r\n        if not set in this case, the image will remain when bar is not collapsed--&gt;\r\n        &lt;com.google.android.material.appbar.CollapsingToolbarLayout\r\n            android:id=&quot;@+id/collapsing_toolbar&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            app:layout_scrollFlags=&quot;scroll|exitUntilCollapsed&quot;\r\n            app:contentScrim=&quot;?attr/colorPrimary&quot;\r\n            app:collapsedTitleTextColor=&quot;?attr/colorOnPrimary&quot;\r\n            app:expandedTitleTextColor=&quot;?attr/colorOnPrimary&quot;\r\n            &gt;\r\n\r\n            &lt;ImageView\r\n                android:id=&quot;@+id/expandedImage&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:scaleType=&quot;fitXY&quot;\r\n                app:layout_collapseMode=&quot;parallax&quot;\r\n                app:layout_collapseParallaxMultiplier=&quot;0.7&quot;\r\n                android:contentDescription=&quot;@string/app_bar_expanded_image&quot;\r\n                /&gt;\r\n\r\n            &lt;com.google.android.material.appbar.MaterialToolbar\r\n                android:id=&quot;@+id/toolbar&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;?attr/actionBarSize&quot;\r\n                app:layout_collapseMode=&quot;pin&quot;\r\n                app:navigationIcon=&quot;?attr/homeAsUpIndicator&quot;\r\n                &gt;\r\n\r\n            &lt;/com.google.android.material.appbar.MaterialToolbar&gt;\r\n\r\n        &lt;/com.google.android.material.appbar.CollapsingToolbarLayout&gt;\r\n\r\n&lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n```\r\n\r\nSo here is my situation:\r\nMy aim is that the toolbar image (expandedImage) should appear in the statusbar also. \r\nAfter researching, some suggested adding the following code in my activity in order to accomplish this:\r\n```\r\n@Override\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n\tsuper.onCreate(savedInstanceState);\r\n\tgetWindow().setFlags(\r\n\t\t\tWindowManager.LayoutParams.FLAG_LAYOUT_NO_LIMITS,\r\n\t\t\tWindowManager.LayoutParams.FLAG_LAYOUT_NO_LIMITS\r\n\t);\r\n}\r\n```\r\n\r\nThis works perfect and my image appears in my status bar:\r\n\r\n[![statusbar image][1]][1]\r\n\r\nHOWEVER, the issue I am having now, is that (when i collapse my toolbar), the title and menu icons appear behind the status bar due to the code I add above:\r\n[![successbar title][2]][2]\r\nSo there is basically no margin between the statusbar and my toolbar, which by default always exists.\r\n\r\nIf I remove the flag option, I don&#39;t have that issue anymore but then the image wouldn&#39;t appear in the status bar.\r\n\r\nAny ideas how I could solve my issue? I&#39;ve tried many solutions like:\r\n\r\n```\r\n&lt;item name=&quot;android:windowDrawsSystemBarBackgrounds&quot;&gt;true&lt;/item&gt;\r\n&lt;item name=&quot;android:windowTranslucentStatus&quot;&gt;true&lt;/item&gt;\r\nandroid:fitsSystemWindows=&quot;true&quot;\r\n```\r\n\r\nbut none of the situations worked for me...\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QoTyS.png\r\n  [2]: https://i.stack.imgur.com/8HPYy.png","title":"Prominent app bar with image appears behind status bar","body":"<p>I am using a prominent app bar with an image in a fragment.\nMy style and xml files look like this:</p>\n<p>theme.xml:</p>\n<pre><code>&lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n    &lt;!-- Base application theme. --&gt;\n    &lt;style name=&quot;Theme.MainTheme&quot; parent=&quot;Theme.MaterialComponents.DayNight.NoActionBar&quot;&gt;\n        &lt;!-- Primary brand color. --&gt;\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/DeepSkyBlue&lt;/item&gt;\n        &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/DeepSkyBlueVariant&lt;/item&gt;\n        &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/white&lt;/item&gt;\n        &lt;!-- Secondary brand color. --&gt;\n        &lt;item name=&quot;colorSecondary&quot;&gt;@color/teal_200&lt;/item&gt;\n        &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/teal_700&lt;/item&gt;\n        &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/purple_500&lt;/item&gt;\n        &lt;!-- Status bar color. --&gt;\n        &lt;item name=&quot;android:statusBarColor&quot;&gt;@android:color/transparent&lt;/item&gt;\n    &lt;/style&gt;\n&lt;/resources&gt;\n</code></pre>\n<p>main_activity.xml (which opens automatically the fragment):</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    &gt;\n    &lt;androidx.fragment.app.FragmentContainerView\n        android:id=&quot;@+id/fragment_container_view_tag&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:name=&quot;com.example.tempapp.pkgFragments.PersonAddFragment&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>fragment_add_person.xml (which uses a layout to prevent redudancy):</p>\n<pre><code>&lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    &gt;\n    \n    &lt;include\n        android:id=&quot;@+id/layoutAppBar&quot;\n        layout=&quot;@layout/layout_app_bar_prominent&quot; /&gt;\n\n    &lt;androidx.core.widget.NestedScrollView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;&gt;\n        &lt;TextView\n            android:layout_width=&quot;fill_parent&quot;\n            android:layout_height=&quot;wrap_content&quot; /&gt;\n    &lt;/androidx.core.widget.NestedScrollView&gt;\n\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n</code></pre>\n<p>last but not least, my layout_app_bar_prominent.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;!-- Layout tag not necessary, as we don't use any binding....--&gt;\n&lt;com.google.android.material.appbar.AppBarLayout android:id=&quot;@+id/app_bar_layout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;@dimen/app_bar_height_image_view&quot;\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n\n        &lt;!--- contentScrim defines what should &quot;appear&quot; when the bar is not collapsed.\n        if not set in this case, the image will remain when bar is not collapsed--&gt;\n        &lt;com.google.android.material.appbar.CollapsingToolbarLayout\n            android:id=&quot;@+id/collapsing_toolbar&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            app:layout_scrollFlags=&quot;scroll|exitUntilCollapsed&quot;\n            app:contentScrim=&quot;?attr/colorPrimary&quot;\n            app:collapsedTitleTextColor=&quot;?attr/colorOnPrimary&quot;\n            app:expandedTitleTextColor=&quot;?attr/colorOnPrimary&quot;\n            &gt;\n\n            &lt;ImageView\n                android:id=&quot;@+id/expandedImage&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:scaleType=&quot;fitXY&quot;\n                app:layout_collapseMode=&quot;parallax&quot;\n                app:layout_collapseParallaxMultiplier=&quot;0.7&quot;\n                android:contentDescription=&quot;@string/app_bar_expanded_image&quot;\n                /&gt;\n\n            &lt;com.google.android.material.appbar.MaterialToolbar\n                android:id=&quot;@+id/toolbar&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;?attr/actionBarSize&quot;\n                app:layout_collapseMode=&quot;pin&quot;\n                app:navigationIcon=&quot;?attr/homeAsUpIndicator&quot;\n                &gt;\n\n            &lt;/com.google.android.material.appbar.MaterialToolbar&gt;\n\n        &lt;/com.google.android.material.appbar.CollapsingToolbarLayout&gt;\n\n&lt;/com.google.android.material.appbar.AppBarLayout&gt;\n</code></pre>\n<p>So here is my situation:\nMy aim is that the toolbar image (expandedImage) should appear in the statusbar also.\nAfter researching, some suggested adding the following code in my activity in order to accomplish this:</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    getWindow().setFlags(\n            WindowManager.LayoutParams.FLAG_LAYOUT_NO_LIMITS,\n            WindowManager.LayoutParams.FLAG_LAYOUT_NO_LIMITS\n    );\n}\n</code></pre>\n<p>This works perfect and my image appears in my status bar:</p>\n<p><a href=\"https://i.stack.imgur.com/QoTyS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QoTyS.png\" alt=\"statusbar image\" /></a></p>\n<p>HOWEVER, the issue I am having now, is that (when i collapse my toolbar), the title and menu icons appear behind the status bar due to the code I add above:\n<a href=\"https://i.stack.imgur.com/8HPYy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8HPYy.png\" alt=\"successbar title\" /></a>\nSo there is basically no margin between the statusbar and my toolbar, which by default always exists.</p>\n<p>If I remove the flag option, I don't have that issue anymore but then the image wouldn't appear in the status bar.</p>\n<p>Any ideas how I could solve my issue? I've tried many solutions like:</p>\n<pre><code>&lt;item name=&quot;android:windowDrawsSystemBarBackgrounds&quot;&gt;true&lt;/item&gt;\n&lt;item name=&quot;android:windowTranslucentStatus&quot;&gt;true&lt;/item&gt;\nandroid:fitsSystemWindows=&quot;true&quot;\n</code></pre>\n<p>but none of the situations worked for me...</p>\n"},{"tags":["java","css","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":5,"creation_date":1668878273,"post_id":74501812,"comment_id":131515315,"body_markdown":"Can you create and post a [mre]?","body":"Can you create and post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1668881474,"post_id":74501812,"comment_id":131515980,"body_markdown":"What happens with a color having  &lt; 1?","body":"What happens with a color having  &lt; 1?"},{"owner":{"account_id":16301025,"reputation":38,"user_id":11772140,"display_name":"robng"},"score":0,"creation_date":1668898459,"post_id":74501812,"comment_id":131519283,"body_markdown":"@James_D Yes! Will do.","body":"@James_D Yes! Will do."},{"owner":{"account_id":16301025,"reputation":38,"user_id":11772140,"display_name":"robng"},"score":0,"creation_date":1668938678,"post_id":74501812,"comment_id":131523621,"body_markdown":"@James_D Posted a repro - see my edit :)","body":"@James_D Posted a repro - see my edit :)"}],"answers":[{"tags":[],"owner":{"account_id":16301025,"reputation":38,"user_id":11772140,"display_name":"robng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668952573,"creation_date":1668952573,"answer_id":74508731,"question_id":74501812,"body_markdown":"Turns out, the `indexed-cell`-class is not an optimal choice for styling the whole row, using the `table-row-cell`-class instead, everything now works.\r\n\r\nHowever, this class is not documented in the JavaFX CSS Reference Guide. Lovely!","title":"Weird row styling in JavaFX Tableview (indexed-cell, :even, :odd, :selected)","body":"<p>Turns out, the <code>indexed-cell</code>-class is not an optimal choice for styling the whole row, using the <code>table-row-cell</code>-class instead, everything now works.</p>\n<p>However, this class is not documented in the JavaFX CSS Reference Guide. Lovely!</p>\n"}],"owner":{"account_id":16301025,"reputation":38,"user_id":11772140,"display_name":"robng"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1668952703,"creation_date":1668876159,"question_id":74501812,"body_markdown":"I&#39;m getting some weird results using all three pseudo selectors for .indexed-cell (:even, :odd, :selected).\r\n\r\nSuppose the following CSS:\r\n\r\n```css\r\n#table .indexed-cell:even {\r\n  -fx-background-color: #f1f5f9; /* lighter grey */\r\n}\r\n\r\n#table .indexed-cell:odd {\r\n  -fx-background-color: #e2e8f0; /* darker grey */\r\n}\r\n\r\n#table .indexed-cell:selected {\r\n  -fx-background-color: #f0f9ff; /* blueish white */\r\n}\r\n\r\n```\r\n\r\nWhen a row now gets selected, I would expect the :selected pseudo-class to take over and color the whole row blueish white. In reality however, the cells are grey (shade depends on the row), and only the filler part of the row (where there are no actual cells) is colored blueish white.\r\n\r\nCommenting out the styles for :even and :odd, the whole row gets colored correctly.\r\n\r\n&lt;s&gt;Edit: As requested by @James_D, I made a quick repro project: [JavaFXStylingRepro.zip][1]. Run using `./gradlew run`.&lt;/s&gt;\r\n\r\nHere&#39;s a screenshot to illustrate the problem (in this case, the middle row is selected):\r\n[![Screenshot][2]][2]\r\n\r\nAnyone got any ideas on this?\r\n\r\n\r\n  [1]: ..\r\n  [2]: https://i.stack.imgur.com/VKLiP.png","title":"Weird row styling in JavaFX Tableview (indexed-cell, :even, :odd, :selected)","body":"<p>I'm getting some weird results using all three pseudo selectors for .indexed-cell (:even, :odd, :selected).</p>\n<p>Suppose the following CSS:</p>\n<pre class=\"lang-css prettyprint-override\"><code>#table .indexed-cell:even {\n  -fx-background-color: #f1f5f9; /* lighter grey */\n}\n\n#table .indexed-cell:odd {\n  -fx-background-color: #e2e8f0; /* darker grey */\n}\n\n#table .indexed-cell:selected {\n  -fx-background-color: #f0f9ff; /* blueish white */\n}\n\n</code></pre>\n<p>When a row now gets selected, I would expect the :selected pseudo-class to take over and color the whole row blueish white. In reality however, the cells are grey (shade depends on the row), and only the filler part of the row (where there are no actual cells) is colored blueish white.</p>\n<p>Commenting out the styles for :even and :odd, the whole row gets colored correctly.</p>\n<p><s>Edit: As requested by @James_D, I made a quick repro project: JavaFXStylingRepro.zip. Run using <code>./gradlew run</code>.</s></p>\n<p>Here's a screenshot to illustrate the problem (in this case, the middle row is selected):\n<a href=\"https://i.stack.imgur.com/VKLiP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VKLiP.png\" alt=\"Screenshot\" /></a></p>\n<p>Anyone got any ideas on this?</p>\n"},{"tags":["java","casting","subclass"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1668952000,"post_id":74508624,"comment_id":131525855,"body_markdown":"You&#39;d need reflection to do that. The actual question is: why is `method2()` not defined in the parent-class? This would simplify things considerably.","body":"You&#39;d need reflection to do that. The actual question is: why is <code>method2()</code> not defined in the parent-class? This would simplify things considerably."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":2,"creation_date":1668952117,"post_id":74508624,"comment_id":131525872,"body_markdown":"Sounds like possible [XY problem](https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem) to me. Can you explain what you are trying to achieve?","body":"Sounds like possible <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem</a> to me. Can you explain what you are trying to achieve?"},{"owner":{"account_id":17087838,"reputation":58,"user_id":12364598,"display_name":"atan"},"score":0,"creation_date":1668952424,"post_id":74508624,"comment_id":131525934,"body_markdown":"@Chaosfire, basically, based on the given code, I want to access method2 using Cat.class given the constraints if it is even possible.","body":"@Chaosfire, basically, based on the given code, I want to access method2 using Cat.class given the constraints if it is even possible."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1668952595,"post_id":74508624,"comment_id":131525977,"body_markdown":"How do you know that `method2()` is accessible on the given instance `Animal` if it&#39;s not declared by the parent? It `Animal` has this method - simply use it and benefit from the Polymorphism. As an alternative, you can introduce an interface declaring the `method2()`.","body":"How do you know that <code>method2()</code> is accessible on the given instance <code>Animal</code> if it&#39;s not declared by the parent? It <code>Animal</code> has this method - simply use it and benefit from the Polymorphism. As an alternative, you can introduce an interface declaring the <code>method2()</code>."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1668952775,"post_id":74508624,"comment_id":131526029,"body_markdown":"If it&#39;s some kind of self-imposed challenge, then you need to elaborate what the idea behind it.","body":"If it&#39;s some kind of self-imposed challenge, then you need to elaborate what the idea behind it."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1668952843,"post_id":74508624,"comment_id":131526047,"body_markdown":"@atan Is there a reason you don&#39;t declare the method in `Animal` as Turing suggested?","body":"@atan Is there a reason you don&#39;t declare the method in <code>Animal</code> as Turing suggested?"},{"owner":{"account_id":17087838,"reputation":58,"user_id":12364598,"display_name":"atan"},"score":0,"creation_date":1668953283,"post_id":74508624,"comment_id":131526125,"body_markdown":"@AlexanderIvanchenko yes, it is indeed some kinda self-imposed challenge in an attempt to understand some Java concepts better. The given code is just a simplification of what I&#39;m trying to do.","body":"@AlexanderIvanchenko yes, it is indeed some kinda self-imposed challenge in an attempt to understand some Java concepts better. The given code is just a simplification of what I&#39;m trying to do."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1668953607,"post_id":74508624,"comment_id":131526199,"body_markdown":"@atan *&quot;given code is just a simplification of what I&#39;m trying to do&quot;* - Ok, how about a more exact giving a more exact description of what you were trying to do? It would make the question more valuable for the readers and you might get a few more helpful suggestions.","body":"@atan <i>&quot;given code is just a simplification of what I&#39;m trying to do&quot;</i> - Ok, how about a more exact giving a more exact description of what you were trying to do? It would make the question more valuable for the readers and you might get a few more helpful suggestions."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1668955675,"post_id":74508624,"comment_id":131526683,"body_markdown":"Lets split `value.getClazz().cast(a).method2()` into `Class&lt;?&gt; clazz = value.getClazz(); clazz.cast(a).method2();`. If we had for instance `Class&lt;Foo&gt; cs;` the `cs.cast(a);` would be similar to `(Foo)a`. But with `Class&lt;?&gt; clazz` the `cast` is like trying to write `(?)a`. Since compiler doesn&#39;t know what type `?` is, the only safe one which it can use as result of `cast` is `Object`. So the `clazz.cast(a).method2()` is same as `Object cast = clazz.cast(a); cast.method2();`. But since `Object` doesn&#39;t have `method2` compiler gives you error.","body":"Lets split <code>value.getClazz().cast(a).method2()</code> into <code>Class&lt;?&gt; clazz = value.getClazz(); clazz.cast(a).method2();</code>. If we had for instance <code>Class&lt;Foo&gt; cs;</code> the <code>cs.cast(a);</code> would be similar to <code>(Foo)a</code>. But with <code>Class&lt;?&gt; clazz</code> the <code>cast</code> is like trying to write <code>(?)a</code>. Since compiler doesn&#39;t know what type <code>?</code> is, the only safe one which it can use as result of <code>cast</code> is <code>Object</code>. So the <code>clazz.cast(a).method2()</code> is same as <code>Object cast = clazz.cast(a); cast.method2();</code>. But since <code>Object</code> doesn&#39;t have <code>method2</code> compiler gives you error."}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668952596,"creation_date":1668952596,"answer_id":74508735,"question_id":74508624,"body_markdown":"First option, and best option IMO, is to make `Animal` abstract and add an `abstract method2()` to `Animal`. Then you can implement it in `Cat` and `Dog` and invoke it without using Reflection. Second option, use reflection.\r\n\r\n\tpublic static void method(String val, Animal a) {\r\n\t\tValues value = Values.valueOf(val);\r\n\t\ttry {\r\n\t\t\tMethod m = value.getClazz().getMethod(&quot;method2&quot;, null);\r\n\t\t\tm.invoke(a, null);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n**or** without `Values`, because that isn&#39;t doing much for you like\r\n\r\n\tpublic static void method(Animal a) {\r\n\t\ttry {\r\n\t\t\tMethod m = a.getClass().getMethod(&quot;method2&quot;, null);\r\n\t\t\tm.invoke(a, null);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\nBoth methods output\r\n\r\n    cat method2\r\n","title":"How to access subclass method if given Class.class and object reference?","body":"<p>First option, and best option IMO, is to make <code>Animal</code> abstract and add an <code>abstract method2()</code> to <code>Animal</code>. Then you can implement it in <code>Cat</code> and <code>Dog</code> and invoke it without using Reflection. Second option, use reflection.</p>\n<pre><code>public static void method(String val, Animal a) {\n    Values value = Values.valueOf(val);\n    try {\n        Method m = value.getClazz().getMethod(&quot;method2&quot;, null);\n        m.invoke(a, null);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p><strong>or</strong> without <code>Values</code>, because that isn't doing much for you like</p>\n<pre><code>public static void method(Animal a) {\n    try {\n        Method m = a.getClass().getMethod(&quot;method2&quot;, null);\n        m.invoke(a, null);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>Both methods output</p>\n<pre><code>cat method2\n</code></pre>\n"}],"owner":{"account_id":17087838,"reputation":58,"user_id":12364598,"display_name":"atan"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74508735,"answer_count":1,"score":-1,"last_activity_date":1668952596,"creation_date":1668951719,"question_id":74508624,"body_markdown":"Given the code below:\r\n\r\nParent class:\r\n\r\n    public class Animal {\r\n      //...\r\n    }\r\n\r\nSubclasses: \r\n\r\n    public class Cat extends Animal {\r\n        public void method2(){\r\n            System.out.println(&quot;cat method2&quot;);\r\n        }\r\n    }\r\n\r\n    public class Dog extends Animal{\r\n        public void method2(){\r\n            System.out.println(&quot;dog method2&quot;);\r\n        }\r\n    }\r\n\r\n\r\nEnum: \r\n\r\n    public enum Values {\r\n        VALUE1(&quot;v1&quot;, Cat.class),\r\n        VALUE2(&quot;v2&quot;, Dog.class);\r\n    \r\n        private String val;\r\n        private Class&lt;?&gt; clazz;\r\n    \r\n        Values(String val, Class&lt;?&gt; clazz){\r\n            this.val = val;\r\n            this.clazz = clazz;\r\n        }\r\n    \r\n        public String getVal() {\r\n            return val;\r\n        }\r\n    \r\n        public Class&lt;?&gt; getClazz() {\r\n            return clazz;\r\n        }\r\n    \r\n    }\r\n\r\nMain class : \r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Animal a = new Cat();\r\n            method(&quot;VALUE1&quot;, a);\r\n        }\r\n    \r\n        public static void method(String val, Animal a){\r\n            Values value = Values.valueOf(val);\r\n    \r\n            value.getClazz().cast(a).method2();// this doesn&#39;t work. how to access method2?\r\n        }\r\n    }\r\n\r\nThe code above won&#39;t work. How can I access method2 using Class.class reference? How can I cast The generic `Animal` class into a subclass given the parameters? If Class.class is not possible, what are the alternatives?","title":"How to access subclass method if given Class.class and object reference?","body":"<p>Given the code below:</p>\n<p>Parent class:</p>\n<pre><code>public class Animal {\n  //...\n}\n</code></pre>\n<p>Subclasses:</p>\n<pre><code>public class Cat extends Animal {\n    public void method2(){\n        System.out.println(&quot;cat method2&quot;);\n    }\n}\n\npublic class Dog extends Animal{\n    public void method2(){\n        System.out.println(&quot;dog method2&quot;);\n    }\n}\n</code></pre>\n<p>Enum:</p>\n<pre><code>public enum Values {\n    VALUE1(&quot;v1&quot;, Cat.class),\n    VALUE2(&quot;v2&quot;, Dog.class);\n\n    private String val;\n    private Class&lt;?&gt; clazz;\n\n    Values(String val, Class&lt;?&gt; clazz){\n        this.val = val;\n        this.clazz = clazz;\n    }\n\n    public String getVal() {\n        return val;\n    }\n\n    public Class&lt;?&gt; getClazz() {\n        return clazz;\n    }\n\n}\n</code></pre>\n<p>Main class :</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        Animal a = new Cat();\n        method(&quot;VALUE1&quot;, a);\n    }\n\n    public static void method(String val, Animal a){\n        Values value = Values.valueOf(val);\n\n        value.getClazz().cast(a).method2();// this doesn't work. how to access method2?\n    }\n}\n</code></pre>\n<p>The code above won't work. How can I access method2 using Class.class reference? How can I cast The generic <code>Animal</code> class into a subclass given the parameters? If Class.class is not possible, what are the alternatives?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1668950768,"post_id":74508480,"comment_id":131525649,"body_markdown":"How do you call this thing and what do you think the error message is trying to tell you?","body":"How do you call this thing and what do you think the error message is trying to tell you?"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1668951563,"post_id":74508480,"comment_id":131525781,"body_markdown":"[Edit](https://stackoverflow.com/posts/74508480/edit) your question to show the request you send to the endpoint.","body":"<a href=\"https://stackoverflow.com/posts/74508480/edit\">Edit</a> your question to show the request you send to the endpoint."}],"answers":[{"tags":[],"owner":{"account_id":25121309,"reputation":1105,"user_id":18969611,"display_name":"void void"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668950901,"creation_date":1668950901,"answer_id":74508525,"question_id":74508480,"body_markdown":"The `@RequestBody` annotation comes with the `required` attribute defaulting to `true`. This means that the request should always contain a body, otherwise it will throw an exception. From the error message it appears that your request does not contain a body.  \r\nYou need to either set the `required` attribute to false or always provide a body.","title":"Why its showing required request body in output","body":"<p>The <code>@RequestBody</code> annotation comes with the <code>required</code> attribute defaulting to <code>true</code>. This means that the request should always contain a body, otherwise it will throw an exception. From the error message it appears that your request does not contain a body.<br />\nYou need to either set the <code>required</code> attribute to false or always provide a body.</p>\n"},{"tags":[],"owner":{"account_id":24354244,"reputation":59,"user_id":18289688,"display_name":"Umar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668952192,"creation_date":1668952192,"answer_id":74508682,"question_id":74508480,"body_markdown":"@Requestbody annotation requires you to pass some request body in json, map form. But you are just passing prodId. I think you should just change @RequestBody annotation.\r\n\r\n(@Request Param prodId ,@Requestbody HHttpServletReques request) ","title":"Why its showing required request body in output","body":"<p>@Requestbody annotation requires you to pass some request body in json, map form. But you are just passing prodId. I think you should just change @RequestBody annotation.</p>\n<p>(@Request Param prodId ,@Requestbody HHttpServletReques request)</p>\n"}],"owner":{"account_id":26992084,"reputation":21,"user_id":20554825,"display_name":"Mohana"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":457,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":2,"score":0,"last_activity_date":1668952192,"creation_date":1668950586,"question_id":74508480,"body_markdown":"\r\n\tpublic String deleteProduct(@RequestBody String prodId ,HttpServletRequest request ) throws NotLoggedInException {\r\n\t\t\r\n\t\tString userName = (String) request.getSession().getAttribute(&quot;user&quot;);\r\n\t\tSystem.out.println(userName);\r\n\t\tif (userName == null) {\r\n\t\t\tthrow new NotLoggedInException(&quot;You have not logged in&quot;);\r\n\t\t}\r\n\t\tString userRole = (String) request.getSession().getAttribute(&quot;role&quot;);\r\n\t\tif (!userRole.equalsIgnoreCase(&quot;productmaster&quot;)) {\r\n\t\t\tthrow new AuthorizedUserRoleNotFoundException(&quot;you are not authorized to add the products&quot;);\r\n\t\t}\r\n\t\tif(pservice.deleteProduct(prodId))\r\n\t\t{\r\n\t\treturn &quot;Product deleted&quot;;\r\n\t\t\t\r\n\t\t}\r\n\t\treturn &quot;Product not deleted&quot;;\r\n\t}\r\nOutput:\r\n```\r\n{\r\n  &quot;timestamp&quot;: &quot;2022-11-20T13:17:24.172+0000&quot;,\r\n  &quot;status&quot;: 400,\r\n  &quot;error&quot;: &quot;Bad Request&quot;,\r\n  &quot;message&quot;: &quot;Required request body is missing: public java.lang.String&quot;\r\n}\r\n```\r\nPlease tell someone why its showing like this\r\n","title":"Why its showing required request body in output","body":"<pre><code>public String deleteProduct(@RequestBody String prodId ,HttpServletRequest request ) throws NotLoggedInException {\n    \n    String userName = (String) request.getSession().getAttribute(&quot;user&quot;);\n    System.out.println(userName);\n    if (userName == null) {\n        throw new NotLoggedInException(&quot;You have not logged in&quot;);\n    }\n    String userRole = (String) request.getSession().getAttribute(&quot;role&quot;);\n    if (!userRole.equalsIgnoreCase(&quot;productmaster&quot;)) {\n        throw new AuthorizedUserRoleNotFoundException(&quot;you are not authorized to add the products&quot;);\n    }\n    if(pservice.deleteProduct(prodId))\n    {\n    return &quot;Product deleted&quot;;\n        \n    }\n    return &quot;Product not deleted&quot;;\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>{\n  &quot;timestamp&quot;: &quot;2022-11-20T13:17:24.172+0000&quot;,\n  &quot;status&quot;: 400,\n  &quot;error&quot;: &quot;Bad Request&quot;,\n  &quot;message&quot;: &quot;Required request body is missing: public java.lang.String&quot;\n}\n</code></pre>\n<p>Please tell someone why its showing like this</p>\n"},{"tags":["java","overriding","super"],"comments":[{"owner":{"account_id":3435599,"reputation":4037,"user_id":2878796,"display_name":"UnholySheep"},"score":4,"creation_date":1668946962,"post_id":74508006,"comment_id":131524913,"body_markdown":"`public void move(String s)` has a different parameter type, so it doesn&#39;t override `public void move(Object o)` - and is therefore not called through a reference to `A`","body":"<code>public void move(String s)</code> has a different parameter type, so it doesn&#39;t override <code>public void move(Object o)</code> - and is therefore not called through a reference to <code>A</code>"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1668949201,"post_id":74508006,"comment_id":131525365,"body_markdown":"And similar: `public void keep(Object o)` in `B` has a different parameter type than `public void keep(String s)` in `A` and therefore doesn&#39;t override. In `C` the method `public void keep(String s)` overrides `A`s method.","body":"And similar: <code>public void keep(Object o)</code> in <code>B</code> has a different parameter type than <code>public void keep(String s)</code> in <code>A</code> and therefore doesn&#39;t override. In <code>C</code> the method <code>public void keep(String s)</code> overrides <code>A</code>s method."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668951966,"creation_date":1668951966,"answer_id":74508648,"question_id":74508006,"body_markdown":"Overloads are determined by the compiler, overrides are done at runtime. A method&#39;s &quot;identity&quot; __includes__ its parameter types and its return type as well as its name. Therefore:\r\n\r\n* B.keep __does not__ override A.keep, but B.move _does_ override A.move.\r\n* C.move __does not__ override B.move/A.move. C.keep overrides A.keep but not B.keep.\r\n\r\nHence, The compiler sees, at line 4, `c.move(&quot;Test&quot;)`, and determines that this is a call on an expression of type `A` (because you declared variable `c` as `A c;`. Looking just at what A has to offer, there&#39;s only one method named `move`, whose signature is `void move(Object)`. So that gets encoded in the class file.: A call to `A.move(Object)`.\r\n\r\nThen at runtime, the runtime checks for the most specific implementation of the `void move(Object)` method on the _actual_ type of the object that the `c` variable is pointing at, which is in fact an object of type `C`. The most specific implementation of move(Object) is found in B: B has a `void move(Object)` implementation. C has a `void move(String)`, but this doesn&#39;t &quot;count&quot; - it does not have the same identity, effectively, it has a different name and has nothing whatsoever to do with A&#39;s move(Object) - that they have the same actual method name (`move`) is a coincidence.\r\n\r\nTwo tips:\r\n\r\n* Always use the `@Override` annotation when you intend to override. Had you done so here, the compiler would have told you that e.g. B&#39;s `keep(Object o)` method __is not__ an override, and it would have also flagged C&#39;s move method as erroneous, had you flagged it as `@Override`. (This annotation does not mean &#39;this method is an override&#39;. It means: If this method doesn&#39;t override or implement anything, generate a compile time error. A method whose full signature matches a method in a parent type still overrides it, even without the annotation. It&#39;s just compiler-checked documentation, which is a good thing you should use).\r\n* In general do not write the same method name with different variable types if those variable types have a relationship. It results in confusion like this.\r\n","title":"Why does line 4 only print out &quot;B move&quot;?","body":"<p>Overloads are determined by the compiler, overrides are done at runtime. A method's &quot;identity&quot; <strong>includes</strong> its parameter types and its return type as well as its name. Therefore:</p>\n<ul>\n<li>B.keep <strong>does not</strong> override A.keep, but B.move <em>does</em> override A.move.</li>\n<li>C.move <strong>does not</strong> override B.move/A.move. C.keep overrides A.keep but not B.keep.</li>\n</ul>\n<p>Hence, The compiler sees, at line 4, <code>c.move(&quot;Test&quot;)</code>, and determines that this is a call on an expression of type <code>A</code> (because you declared variable <code>c</code> as <code>A c;</code>. Looking just at what A has to offer, there's only one method named <code>move</code>, whose signature is <code>void move(Object)</code>. So that gets encoded in the class file.: A call to <code>A.move(Object)</code>.</p>\n<p>Then at runtime, the runtime checks for the most specific implementation of the <code>void move(Object)</code> method on the <em>actual</em> type of the object that the <code>c</code> variable is pointing at, which is in fact an object of type <code>C</code>. The most specific implementation of move(Object) is found in B: B has a <code>void move(Object)</code> implementation. C has a <code>void move(String)</code>, but this doesn't &quot;count&quot; - it does not have the same identity, effectively, it has a different name and has nothing whatsoever to do with A's move(Object) - that they have the same actual method name (<code>move</code>) is a coincidence.</p>\n<p>Two tips:</p>\n<ul>\n<li>Always use the <code>@Override</code> annotation when you intend to override. Had you done so here, the compiler would have told you that e.g. B's <code>keep(Object o)</code> method <strong>is not</strong> an override, and it would have also flagged C's move method as erroneous, had you flagged it as <code>@Override</code>. (This annotation does not mean 'this method is an override'. It means: If this method doesn't override or implement anything, generate a compile time error. A method whose full signature matches a method in a parent type still overrides it, even without the annotation. It's just compiler-checked documentation, which is a good thing you should use).</li>\n<li>In general do not write the same method name with different variable types if those variable types have a relationship. It results in confusion like this.</li>\n</ul>\n"}],"owner":{"account_id":26991641,"reputation":3,"user_id":20554443,"display_name":"John Smith"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74508648,"answer_count":1,"score":0,"last_activity_date":1668951966,"creation_date":1668946605,"question_id":74508006,"body_markdown":"I&#39;m trying to understand this code&#39;s outputs. I understand the other outputs except for line 4&#39;s.\r\n\r\nThe code:\r\n\r\n```\r\nclass A{\r\n    public void move(Object o){\r\n        System.out.println(&quot;A move&quot;);\r\n    }\r\n    public void keep(String s){\r\n        System.out.println(&quot;A keep&quot;);\r\n    }\r\n}\r\nclass B extends A{\r\n    public void move(Object o){\r\n        System.out.println(&quot;B move&quot;);\r\n    }\r\n    public void keep(Object o){\r\n        System.out.println(&quot;B keep&quot;);\r\n    }\r\n}\r\n\r\nclass C extends B{\r\n    public void move(String s){\r\n        super.move(s);\r\n        System.out.println(&quot;C move&quot;);\r\n    }\r\n    public void keep(String s){\r\n        super.keep(s);\r\n        System.out.println(&quot;C keep&quot;);\r\n    }\r\n}\r\n\r\npublic class main {\r\n    public static void main(String[] args) {\r\n        A a = new A();\r\n        A b = new B();\r\n        A c = new C();\r\n\r\n        a.move(&quot;Test&quot;); //line1\r\n\r\n        b.move(&quot;Test&quot;); //line2\r\n\r\n        b.keep(&quot;Test&quot;); //line3\r\n\r\n        c.move(&quot;Test&quot;); //line4\r\n\r\n        c.keep(&quot;Test&quot;); //line5\r\n    }\r\n}\r\n```\r\n\r\nThe output:\r\n```none\r\nA move\r\n\r\nB move\r\n\r\nA keep\r\n\r\nB move\r\n\r\nA keep\r\nC keep\r\n```\r\n\r\n\r\nI was expecting line 4 to print out &quot;B move. C move&quot; but instead it just ended at &quot;B move&quot;. I thought that it would have the same logic as line 5. Anyone knows what&#39;s going on?","title":"Why does line 4 only print out &quot;B move&quot;?","body":"<p>I'm trying to understand this code's outputs. I understand the other outputs except for line 4's.</p>\n<p>The code:</p>\n<pre><code>class A{\n    public void move(Object o){\n        System.out.println(&quot;A move&quot;);\n    }\n    public void keep(String s){\n        System.out.println(&quot;A keep&quot;);\n    }\n}\nclass B extends A{\n    public void move(Object o){\n        System.out.println(&quot;B move&quot;);\n    }\n    public void keep(Object o){\n        System.out.println(&quot;B keep&quot;);\n    }\n}\n\nclass C extends B{\n    public void move(String s){\n        super.move(s);\n        System.out.println(&quot;C move&quot;);\n    }\n    public void keep(String s){\n        super.keep(s);\n        System.out.println(&quot;C keep&quot;);\n    }\n}\n\npublic class main {\n    public static void main(String[] args) {\n        A a = new A();\n        A b = new B();\n        A c = new C();\n\n        a.move(&quot;Test&quot;); //line1\n\n        b.move(&quot;Test&quot;); //line2\n\n        b.keep(&quot;Test&quot;); //line3\n\n        c.move(&quot;Test&quot;); //line4\n\n        c.keep(&quot;Test&quot;); //line5\n    }\n}\n</code></pre>\n<p>The output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>A move\n\nB move\n\nA keep\n\nB move\n\nA keep\nC keep\n</code></pre>\n<p>I was expecting line 4 to print out &quot;B move. C move&quot; but instead it just ended at &quot;B move&quot;. I thought that it would have the same logic as line 5. Anyone knows what's going on?</p>\n"},{"tags":["java","android","json","android-volley"],"answers":[{"tags":[],"owner":{"account_id":21138619,"reputation":192,"user_id":15541550,"display_name":"Tanishq Chawda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668928264,"creation_date":1668928264,"answer_id":74506268,"question_id":74504395,"body_markdown":"         val response = JSONObject(yourresponse)\r\n     val Jarray: JSONArray = response.getJSONArray(&quot;autocomplete&quot;)\r\n     for (i in 0 until Jarray.length()) {\r\n            val jsonobject: JSONObject = jsonarray.getJSONObject(i)\r\n            Log.e(&quot;TAG&quot;,jsonobject.toString())\r\n           \r\n        }\r\n\r\n\r\nIn this way you can do","title":"How to use volley in android to extract specific json?","body":"<pre><code>     val response = JSONObject(yourresponse)\n val Jarray: JSONArray = response.getJSONArray(&quot;autocomplete&quot;)\n for (i in 0 until Jarray.length()) {\n        val jsonobject: JSONObject = jsonarray.getJSONObject(i)\n        Log.e(&quot;TAG&quot;,jsonobject.toString())\n       \n    }\n</code></pre>\n<p>In this way you can do</p>\n"},{"tags":[],"owner":{"account_id":15483805,"reputation":242,"user_id":11170352,"display_name":"Mokhtar Abdelhalim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668951592,"creation_date":1668951592,"answer_id":74508604,"question_id":74504395,"body_markdown":"    String response = new JSONObject(response);\r\n    JSONArray array= c.getJSONArray(&quot;autocomplete&quot;);\r\n    for (int i = 0; i &lt; array.length(); i++){\r\n         JSONObject a = carteVisite.getJSONObject(j);\r\n         Log.d(&quot;TAG&quot;, a);\r\n    }\r\n","title":"How to use volley in android to extract specific json?","body":"<pre><code>String response = new JSONObject(response);\nJSONArray array= c.getJSONArray(&quot;autocomplete&quot;);\nfor (int i = 0; i &lt; array.length(); i++){\n     JSONObject a = carteVisite.getJSONObject(j);\n     Log.d(&quot;TAG&quot;, a);\n}\n</code></pre>\n"}],"owner":{"account_id":26987486,"reputation":1,"user_id":20550913,"display_name":"Lumos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668951592,"creation_date":1668898604,"question_id":74504395,"body_markdown":"If my request returns a JSON object like this\r\n\r\n```\r\n{&quot;autocomplete&quot;:[&quot;abc&quot;, &quot;asd&quot;]}\r\n```\r\nHow can I get the array in the JSON and turn it into java ArrayList?\r\n\r\nI find some methods like getString, getInt. But I don&#39;t find a method that could get the array.","title":"How to use volley in android to extract specific json?","body":"<p>If my request returns a JSON object like this</p>\n<pre><code>{&quot;autocomplete&quot;:[&quot;abc&quot;, &quot;asd&quot;]}\n</code></pre>\n<p>How can I get the array in the JSON and turn it into java ArrayList?</p>\n<p>I find some methods like getString, getInt. But I don't find a method that could get the array.</p>\n"},{"tags":["java","list","functional-programming","java-stream"],"comments":[{"owner":{"account_id":7608172,"reputation":715,"user_id":5770084,"display_name":"whiplash"},"score":0,"creation_date":1668934312,"post_id":74506719,"comment_id":131522980,"body_markdown":"If that is literally your code, are you sure `event.status == &quot;active&quot;` is the correct way to do string comparison? perhaps use `.equals()` ?","body":"If that is literally your code, are you sure <code>event.status == &quot;active&quot;</code> is the correct way to do string comparison? perhaps use <code>.equals()</code> ?"},{"owner":{"account_id":7608172,"reputation":715,"user_id":5770084,"display_name":"whiplash"},"score":0,"creation_date":1668934468,"post_id":74506719,"comment_id":131522998,"body_markdown":"Also create a [minimal-reproducible-example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"Also create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal-reproducible-example</a>"},{"owner":{"account_id":22301879,"reputation":23,"user_id":16526999,"display_name":"Scavanger"},"score":0,"creation_date":1668941106,"post_id":74506719,"comment_id":131523990,"body_markdown":"Thanks @whiplash, This is not the actual code. I just made something out to convey what the issue was. You sure are correct.","body":"Thanks @whiplash, This is not the actual code. I just made something out to convey what the issue was. You sure are correct."}],"answers":[{"tags":[],"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668938630,"creation_date":1668938630,"answer_id":74507161,"question_id":74506719,"body_markdown":"Embed the result of `funcA` into a list and `flatMap` the lists:\r\n\r\n    List&lt;X&gt; result = input.stream()\r\n                          .flatMap(e -&gt; e.status.equals(&quot;active&quot;) ? List.of(funcA(e)) : funcB(e))\r\n                          .collect(Collectors.toList());\r\n","title":"Java-Stream - Combine results of two methods producing a Value and a List invoked conditionaly inside the same stream operation in Java 8","body":"<p>Embed the result of <code>funcA</code> into a list and <code>flatMap</code> the lists:</p>\n<pre><code>List&lt;X&gt; result = input.stream()\n                      .flatMap(e -&gt; e.status.equals(&quot;active&quot;) ? List.of(funcA(e)) : funcB(e))\n                      .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668950431,"creation_date":1668946236,"answer_id":74507962,"question_id":74506719,"body_markdown":"Since one of your functions produces a Collection as a result, you need a stream operation that allows performing *one-to-many* transformation. For now, Stream IPA offers two possibilities: `flatMap()` and `mapMulti()`.\r\n\r\nTo approach the problem, you need to take a closer look at them and think in terms of these operations.\r\n\r\n## [`flatMap()`][flatMap]\r\n\r\nThis operation requires a function producing a `Stream`, and elements of this new stream become a replacement for the initial element.\r\n\r\nTherefore, you need to wrap the result returned by the `funca()` with Singleton-Stream using `Stream.of()` (*there&#39;s **no need** for wrapping the element with a* `List`*, like shown in another answer* `flatMap()` *is **not capable** to consume Collections*).\r\n\r\n```\r\nList&lt;X&gt; = input.values().stream()\r\n    .flatMap(event -&gt; &quot;active&quot;.equals(event.getStatus()) ? \r\n        Stream.of(funca(event)) : funcb(event).stream()\r\n    )\r\n    .toList(); // for Java 16+ or collect(Collectors.toList())\r\n```\r\n\r\n## [`mapMulti()`][mapMulti]\r\n\r\nThis operation was introduced with Java 16 and is similar to `flatMap()` but acts differently.\r\n\r\nContrary to `flatMap` it doesn&#39;t consume a new Stream. As an argument it expects a `BiConsumer`. Which in turn takes a stream element and a `Consumer` of the resulting type. Every element offered to the `Consumer` becomes a part of the resulting stream.\r\n\r\n`mapMulti()` might be handy if `funcb()` produces a list which is very moderate in size (refer to documentation linked above for more details), otherwise `flatMap()` would be the right tool.\r\n\r\n```\r\nList&lt;X&gt; = input.values().stream()\r\n    .&lt;X&gt;mapMulti((event, consumer) -&gt; {\r\n        if (&quot;active&quot;.equals(event.getStatus())) consumer.accept(funca(event));\r\n        else funcb(event).forEach(consumer);\r\n    })\r\n    .toList(); // for Java 16+ or collect(Collectors.toList())\r\n```\r\n\r\n________________________________________________________________\r\n\r\n***Sidenote:** don&#39;t use `==` to compare reference types (like* `String`*) unless you need to make sure that both references are pointing to the same object, use* `equals()` *method instead.*\r\n\r\n\r\n\r\n\r\n   [flatMap]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#flatMap(java.util.function.Function)\r\n\r\n   [mapMulti]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#mapMulti(java.util.function.BiConsumer)","title":"Java-Stream - Combine results of two methods producing a Value and a List invoked conditionaly inside the same stream operation in Java 8","body":"<p>Since one of your functions produces a Collection as a result, you need a stream operation that allows performing <em>one-to-many</em> transformation. For now, Stream IPA offers two possibilities: <code>flatMap()</code> and <code>mapMulti()</code>.</p>\n<p>To approach the problem, you need to take a closer look at them and think in terms of these operations.</p>\n<h2><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#flatMap(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>flatMap()</code></a></h2>\n<p>This operation requires a function producing a <code>Stream</code>, and elements of this new stream become a replacement for the initial element.</p>\n<p>Therefore, you need to wrap the result returned by the <code>funca()</code> with Singleton-Stream using <code>Stream.of()</code> (<em>there's <strong>no need</strong> for wrapping the element with a</em> <code>List</code><em>, like shown in another answer</em> <code>flatMap()</code> <em>is <strong>not capable</strong> to consume Collections</em>).</p>\n<pre><code>List&lt;X&gt; = input.values().stream()\n    .flatMap(event -&gt; &quot;active&quot;.equals(event.getStatus()) ? \n        Stream.of(funca(event)) : funcb(event).stream()\n    )\n    .toList(); // for Java 16+ or collect(Collectors.toList())\n</code></pre>\n<h2><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#mapMulti(java.util.function.BiConsumer)\" rel=\"nofollow noreferrer\"><code>mapMulti()</code></a></h2>\n<p>This operation was introduced with Java 16 and is similar to <code>flatMap()</code> but acts differently.</p>\n<p>Contrary to <code>flatMap</code> it doesn't consume a new Stream. As an argument it expects a <code>BiConsumer</code>. Which in turn takes a stream element and a <code>Consumer</code> of the resulting type. Every element offered to the <code>Consumer</code> becomes a part of the resulting stream.</p>\n<p><code>mapMulti()</code> might be handy if <code>funcb()</code> produces a list which is very moderate in size (refer to documentation linked above for more details), otherwise <code>flatMap()</code> would be the right tool.</p>\n<pre><code>List&lt;X&gt; = input.values().stream()\n    .&lt;X&gt;mapMulti((event, consumer) -&gt; {\n        if (&quot;active&quot;.equals(event.getStatus())) consumer.accept(funca(event));\n        else funcb(event).forEach(consumer);\n    })\n    .toList(); // for Java 16+ or collect(Collectors.toList())\n</code></pre>\n<hr />\n<p><em><strong>Sidenote:</strong> don't use <code>==</code> to compare reference types (like</em> <code>String</code><em>) unless you need to make sure that both references are pointing to the same object, use</em> <code>equals()</code> <em>method instead.</em></p>\n"}],"owner":{"account_id":22301879,"reputation":23,"user_id":16526999,"display_name":"Scavanger"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":375,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74507962,"answer_count":2,"score":1,"last_activity_date":1668950644,"creation_date":1668933970,"question_id":74506719,"body_markdown":"I have two methods: `funca()` and `funcb()` which return a value of type `X` or a `List&lt;X&gt;` respectively like shown below:\r\n\r\n    X funca(Event e) { ... }\r\n    \r\n    List&lt;X&gt; funcb(Event e) { ... }\r\n\r\nI want to use them in the Stream and collect the result into a list.\r\n\r\nThese method methods should be called under different conditions, like shown below in pseudocode:\r\n\r\n```\r\nList&lt;Event&gt; input = // initializing the input\r\n\r\nList&lt;X&gt; resultList = input.values().stream()\r\n    .(event -&gt; event.status==&quot;active&quot; ? funca(event) : funcb(event))\r\n    .collect(Collectors.toList());\r\n```\r\n\r\nCan someone please tell me how I can achieve this so that whether the function returns a list of values or values?","title":"Java-Stream - Combine results of two methods producing a Value and a List invoked conditionaly inside the same stream operation in Java 8","body":"<p>I have two methods: <code>funca()</code> and <code>funcb()</code> which return a value of type <code>X</code> or a <code>List&lt;X&gt;</code> respectively like shown below:</p>\n<pre><code>X funca(Event e) { ... }\n\nList&lt;X&gt; funcb(Event e) { ... }\n</code></pre>\n<p>I want to use them in the Stream and collect the result into a list.</p>\n<p>These method methods should be called under different conditions, like shown below in pseudocode:</p>\n<pre><code>List&lt;Event&gt; input = // initializing the input\n\nList&lt;X&gt; resultList = input.values().stream()\n    .(event -&gt; event.status==&quot;active&quot; ? funca(event) : funcb(event))\n    .collect(Collectors.toList());\n</code></pre>\n<p>Can someone please tell me how I can achieve this so that whether the function returns a list of values or values?</p>\n"},{"tags":["java","sockets","network-programming"],"comments":[{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1636538898,"post_id":69910707,"comment_id":123581629,"body_markdown":"Then your array is smaller than you think. You create the array `data` with length `count` which you read as input from the user.  But your for loop goes until `x` which is calculated by another user input. And you don&#39;t check if these values fit together. And by the way, you should choose more meaningful names for your variables.","body":"Then your array is smaller than you think. You create the array <code>data</code> with length <code>count</code> which you read as input from the user.  But your for loop goes until <code>x</code> which is calculated by another user input. And you don&#39;t check if these values fit together. And by the way, you should choose more meaningful names for your variables."},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":1,"creation_date":1636539082,"post_id":69910707,"comment_id":123581707,"body_markdown":"And you shouldn&#39;t pack all your code as a big block into `main()`. Break it up to smaller functions. Then it is a lot easier to reason about the code.","body":"And you shouldn&#39;t pack all your code as a big block into <code>main()</code>. Break it up to smaller functions. Then it is a lot easier to reason about the code."}],"answers":[{"tags":[],"owner":{"account_id":24165847,"reputation":1,"user_id":18128701,"display_name":"Dhanush Mahesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668950625,"creation_date":1668950576,"answer_id":74508478,"question_id":69910707,"body_markdown":"Try to give the following inputs:\r\nEnter the value of m: 2 {any window size}\r\nEnter no. of frames to be sent: 3 \r\n{for m=2, frames = 2pow2-1; \r\nfor m=3, frames = 3pow2 -1}\r\nYou have to give correct no. of frames","title":"Go Back N Protocol Implementation in Java TCP Socket Programming","body":"<p>Try to give the following inputs:\nEnter the value of m: 2 {any window size}\nEnter no. of frames to be sent: 3\n{for m=2, frames = 2pow2-1;\nfor m=3, frames = 3pow2 -1}\nYou have to give correct no. of frames</p>\n"}],"owner":{"account_id":17405435,"reputation":1,"user_id":12613599,"display_name":"Siddha Mehta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1553,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668950625,"creation_date":1636536336,"question_id":69910707,"body_markdown":"I am trying to implement Go Back N ARQ protocol using Java TCP Sockets. But I am getting array out of bounds error. I have attached my server side and client side code below. \r\nThis is the server program:\r\n```\r\nimport java.net.*;\r\nimport java.io.*;\r\nimport java.util.*;\r\npublic class Server\r\n{\r\npublic static void main(String args[]) throws Exception\r\n{\r\n\tServerSocket server=new ServerSocket(6262);\r\n\tSystem.out.println(&quot;Server established.&quot;);\r\n\tSocket client=server.accept();\r\n\tObjectOutputStream oos=new ObjectOutputStream(client.getOutputStream());\r\n\tObjectInputStream ois=new ObjectInputStream(client.getInputStream());\r\n\tSystem.out.println(&quot;Client is now connected.&quot;);\r\n\tint x=(Integer)ois.readObject();\r\n\tint k=(Integer)ois.readObject();\r\n\tint j=0;\r\n\tint i=(Integer)ois.readObject();\r\n\tboolean flag=true;\r\n\tRandom r=new Random(6);\r\n\tint mod=r.nextInt(6);\r\n\twhile(mod==1||mod==0)\r\n\t\tmod=r.nextInt(6);\r\n\twhile(true)\r\n\t{\r\n\t\tint c=k;\r\n\t\tfor(int h=0;h&lt;=x;h++)\r\n\t\t{\r\n\t\t\tSystem.out.print(&quot; &quot;+c+&quot; &quot;);\r\n\t\t\tc=(c+1)%x;\r\n\t\t}\r\n\t\tSystem.out.println();\r\n\t\tSystem.out.println();\r\n\t\tif(k==j)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Frame &quot;+k+&quot; recieved&quot;+&quot;\\n&quot;+&quot;Data:&quot;+j);\r\n\t\t\tj++;\r\n\t\t\tSystem.out.println();\r\n\t\t}\r\n\t\telse\r\n\t\t\tSystem.out.println(&quot;Frames recieved not in correct order&quot;+&quot;\\n&quot;+&quot; Expected farme:&quot; + j +&quot;\\n&quot;+ &quot; Recieved frame no :&quot;+ k);\r\n\t\tSystem.out.println();\r\n\t\tif(j%mod==0 &amp;&amp; flag)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Error found. Acknowledgement not sent. &quot;);\r\n\t\t\tflag=!flag;\r\n\t\t\tj--;\r\n\t\t}\r\n\t\telse if(k==j-1)\r\n\t\t{\r\n\t\t\toos.writeObject(k);\r\n\t\t\tSystem.out.println(&quot;Acknowledgement sent&quot;);\r\n\t\t}\r\n\t\tSystem.out.println();\r\n\t\tif(j%mod==0)\r\n\t\t\tflag=!flag;\r\n\t\tk=(Integer)ois.readObject();\r\n\t\tif(k==-1)\r\n\t\t\tbreak;\r\n\t\ti=(Integer)ois.readObject();\r\n\t}\r\n\t\tSystem.out.println(&quot;Client finished sending data. Exiting&quot;);\r\n\t\toos.writeObject(-1);\r\n\t}\r\n}\r\n```\r\nThis is the client program:\r\n```\r\nimport java.util.*;\r\nimport java.net.*;\r\nimport java.io.*;\r\npublic class Client\r\n{\r\npublic static void main(String args[]) throws Exception\r\n{\r\n\t\tBufferedReader br=new BufferedReader(new InputStreamReader(System.in));\r\n\t\tSystem.out.print(&quot;Enter the value of m : &quot;);\r\n\t\tint m=Integer.parseInt(br.readLine());\r\n\t\tint x=(int)((Math.pow(2,m))-1);\r\n\t\tSystem.out.print(&quot;Enter no. of frames to be sent:&quot;);\r\n\t\tint count=Integer.parseInt(br.readLine());\r\n\t\tint data[]=new int[count];\r\n\t\tint h=0;\r\n\t\tfor(int i=0;i&lt;count;i++)\r\n\t\t{\r\n\t\t\tSystem.out.print(&quot;Enter data for frame no &quot; +h+ &quot; =&gt; &quot;);\r\n\t\t\tdata[i]=Integer.parseInt(br.readLine());\r\n\t\t\th= (h+1)%x;\r\n\t\t}\r\n\t\tSocket client=new Socket(&quot;localhost&quot;,6262);\r\n\t\tObjectInputStream ois=new ObjectInputStream(client.getInputStream());\r\n\t\tObjectOutputStream oos=new ObjectOutputStream(client.getOutputStream());\r\n\t\tSystem.out.println(&quot;Connected with server.&quot;);\r\n\t\tboolean flag=false;\r\n\t\tGoBackNListener listener=new GoBackNListener(ois,x);\r\n\t\tlistener=new GoBackNListener(ois,x);\r\n\t\tlistener.t.start();\r\n\t\tint strt=0;\r\n\t\t//h=0;\r\n\t\toos.writeObject(x);\r\n\t\tdo\r\n\t\t{\r\n\t\t\tint c=h;\r\n\t\t\tfor(int i=h;i&lt;count;i++)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.print(&quot; &quot;+c+&quot; &quot;);\r\n\t\t\t\tc=(c+1)%x;\r\n\t\t\t}\r\n\t\t\tSystem.out.println();\r\n\t\t\tSystem.out.println();\r\n\t\t\th=strt;\r\n\t\t\tfor(int i=strt;i&lt;x;i++)\r\n\t\t\t{\r\n\t\t\t\ttry\r\n\t\t\t\t{\r\n\t\t\t\t\tSystem.out.println(&quot;Sending frame:&quot;+ h);\r\n\t\t\t\t\th= (h + 1) % x;\r\n\t\t\t\t\tSystem.out.println();\r\n\t\t\t\t\toos.writeObject(i);\r\n\t\t\t\t\toos.writeObject(data[i]);\r\n\t\t\t\t\tThread.sleep(1000);\r\n\t\t\t\t}\r\n\t\t\t\tcatch(Exception e)\r\n\t\t\t\t{\r\n\t\t\t\t\tSystem.out.println(&quot;Exception &quot; + e);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tlistener.t.join(3500);\r\n\t\t\tif(listener.reply!=x-1)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;No reply from server in 3.5 seconds. Resending data from frame no &quot; + (listener.reply+1));\r\n\t\t\t\tSystem.out.println();\r\n\t\t\t\tstrt=listener.reply+1;\r\n\t\t\t\tflag=false;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;All elements sent successfully. Exiting&quot;);\r\n\t\t\t\tflag=true;\r\n\t\t\t}\r\n\t\t}while(!flag);\r\n\t\toos.writeObject(-1);\r\n\t}\r\n}\r\n\r\nclass GoBackNListener implements Runnable\r\n{\r\n\tThread t;\r\n\tObjectInputStream ois;\r\n\tint reply,x;\r\n\tGoBackNListener(ObjectInputStream o,int i)\r\n\t{\r\n\t\tt=new Thread(this);\r\n\t\tois=o;\r\n\t\treply=-2;\r\n\t\tx=i;\r\n\t}\r\n\t@Override\r\n\tpublic void run() {\r\n\t\ttry\r\n\t\t{\r\n\t\t\tint temp=0;\r\n\t\t\twhile(reply!=-1)\r\n\t\t\t{\r\n\t\t\t\treply=(Integer)ois.readObject();\r\n\t\t\t\tif(reply!=-1 &amp;&amp; reply!=temp+1)\r\n\t\t\t\t\treply=temp;\r\n\t\t\t\tif(reply!=-1)\r\n\t\t\t\t{\r\n\t\t\t\t\ttemp=reply;\r\n\t\t\t\t\tSystem.out.println(&quot;Acknowledgement of frame no &quot; + (reply%x) + &quot; recieved.&quot;);\r\n\t\t\t\t\tSystem.out.println();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treply=temp;\r\n\t\t}\r\n\t\tcatch(Exception e)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Exception =&gt; &quot; + e);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nI am getting array index out of bounds error at \r\n```\r\noos.writeObject(i);\r\noos.writeObject(data[i]);\r\n```\r\nCan someone help me with this?","title":"Go Back N Protocol Implementation in Java TCP Socket Programming","body":"<p>I am trying to implement Go Back N ARQ protocol using Java TCP Sockets. But I am getting array out of bounds error. I have attached my server side and client side code below.\nThis is the server program:</p>\n<pre><code>import java.net.*;\nimport java.io.*;\nimport java.util.*;\npublic class Server\n{\npublic static void main(String args[]) throws Exception\n{\n    ServerSocket server=new ServerSocket(6262);\n    System.out.println(&quot;Server established.&quot;);\n    Socket client=server.accept();\n    ObjectOutputStream oos=new ObjectOutputStream(client.getOutputStream());\n    ObjectInputStream ois=new ObjectInputStream(client.getInputStream());\n    System.out.println(&quot;Client is now connected.&quot;);\n    int x=(Integer)ois.readObject();\n    int k=(Integer)ois.readObject();\n    int j=0;\n    int i=(Integer)ois.readObject();\n    boolean flag=true;\n    Random r=new Random(6);\n    int mod=r.nextInt(6);\n    while(mod==1||mod==0)\n        mod=r.nextInt(6);\n    while(true)\n    {\n        int c=k;\n        for(int h=0;h&lt;=x;h++)\n        {\n            System.out.print(&quot; &quot;+c+&quot; &quot;);\n            c=(c+1)%x;\n        }\n        System.out.println();\n        System.out.println();\n        if(k==j)\n        {\n            System.out.println(&quot;Frame &quot;+k+&quot; recieved&quot;+&quot;\\n&quot;+&quot;Data:&quot;+j);\n            j++;\n            System.out.println();\n        }\n        else\n            System.out.println(&quot;Frames recieved not in correct order&quot;+&quot;\\n&quot;+&quot; Expected farme:&quot; + j +&quot;\\n&quot;+ &quot; Recieved frame no :&quot;+ k);\n        System.out.println();\n        if(j%mod==0 &amp;&amp; flag)\n        {\n            System.out.println(&quot;Error found. Acknowledgement not sent. &quot;);\n            flag=!flag;\n            j--;\n        }\n        else if(k==j-1)\n        {\n            oos.writeObject(k);\n            System.out.println(&quot;Acknowledgement sent&quot;);\n        }\n        System.out.println();\n        if(j%mod==0)\n            flag=!flag;\n        k=(Integer)ois.readObject();\n        if(k==-1)\n            break;\n        i=(Integer)ois.readObject();\n    }\n        System.out.println(&quot;Client finished sending data. Exiting&quot;);\n        oos.writeObject(-1);\n    }\n}\n</code></pre>\n<p>This is the client program:</p>\n<pre><code>import java.util.*;\nimport java.net.*;\nimport java.io.*;\npublic class Client\n{\npublic static void main(String args[]) throws Exception\n{\n        BufferedReader br=new BufferedReader(new InputStreamReader(System.in));\n        System.out.print(&quot;Enter the value of m : &quot;);\n        int m=Integer.parseInt(br.readLine());\n        int x=(int)((Math.pow(2,m))-1);\n        System.out.print(&quot;Enter no. of frames to be sent:&quot;);\n        int count=Integer.parseInt(br.readLine());\n        int data[]=new int[count];\n        int h=0;\n        for(int i=0;i&lt;count;i++)\n        {\n            System.out.print(&quot;Enter data for frame no &quot; +h+ &quot; =&gt; &quot;);\n            data[i]=Integer.parseInt(br.readLine());\n            h= (h+1)%x;\n        }\n        Socket client=new Socket(&quot;localhost&quot;,6262);\n        ObjectInputStream ois=new ObjectInputStream(client.getInputStream());\n        ObjectOutputStream oos=new ObjectOutputStream(client.getOutputStream());\n        System.out.println(&quot;Connected with server.&quot;);\n        boolean flag=false;\n        GoBackNListener listener=new GoBackNListener(ois,x);\n        listener=new GoBackNListener(ois,x);\n        listener.t.start();\n        int strt=0;\n        //h=0;\n        oos.writeObject(x);\n        do\n        {\n            int c=h;\n            for(int i=h;i&lt;count;i++)\n            {\n                System.out.print(&quot; &quot;+c+&quot; &quot;);\n                c=(c+1)%x;\n            }\n            System.out.println();\n            System.out.println();\n            h=strt;\n            for(int i=strt;i&lt;x;i++)\n            {\n                try\n                {\n                    System.out.println(&quot;Sending frame:&quot;+ h);\n                    h= (h + 1) % x;\n                    System.out.println();\n                    oos.writeObject(i);\n                    oos.writeObject(data[i]);\n                    Thread.sleep(1000);\n                }\n                catch(Exception e)\n                {\n                    System.out.println(&quot;Exception &quot; + e);\n                }\n            }\n            listener.t.join(3500);\n            if(listener.reply!=x-1)\n            {\n                System.out.println(&quot;No reply from server in 3.5 seconds. Resending data from frame no &quot; + (listener.reply+1));\n                System.out.println();\n                strt=listener.reply+1;\n                flag=false;\n            }\n            else\n            {\n                System.out.println(&quot;All elements sent successfully. Exiting&quot;);\n                flag=true;\n            }\n        }while(!flag);\n        oos.writeObject(-1);\n    }\n}\n\nclass GoBackNListener implements Runnable\n{\n    Thread t;\n    ObjectInputStream ois;\n    int reply,x;\n    GoBackNListener(ObjectInputStream o,int i)\n    {\n        t=new Thread(this);\n        ois=o;\n        reply=-2;\n        x=i;\n    }\n    @Override\n    public void run() {\n        try\n        {\n            int temp=0;\n            while(reply!=-1)\n            {\n                reply=(Integer)ois.readObject();\n                if(reply!=-1 &amp;&amp; reply!=temp+1)\n                    reply=temp;\n                if(reply!=-1)\n                {\n                    temp=reply;\n                    System.out.println(&quot;Acknowledgement of frame no &quot; + (reply%x) + &quot; recieved.&quot;);\n                    System.out.println();\n                }\n            }\n            reply=temp;\n        }\n        catch(Exception e)\n        {\n            System.out.println(&quot;Exception =&gt; &quot; + e);\n        }\n    }\n}\n</code></pre>\n<p>I am getting array index out of bounds error at</p>\n<pre><code>oos.writeObject(i);\noos.writeObject(data[i]);\n</code></pre>\n<p>Can someone help me with this?</p>\n"},{"tags":["java","concurrency","parallel-processing","java-8","java-stream"],"comments":[{"owner":{"account_id":381513,"reputation":1884,"user_id":978567,"display_name":"edharned"},"score":3,"creation_date":1389897846,"post_id":21163108,"comment_id":31869635,"body_markdown":"What do you mean by custom thread pool? There is a single common ForkJoinPool but you can always create your own ForkJoinPool and submit requests to it.","body":"What do you mean by custom thread pool? There is a single common ForkJoinPool but you can always create your own ForkJoinPool and submit requests to it."},{"owner":{"account_id":1831014,"reputation":1670,"user_id":1662412,"accept_rate":75,"display_name":"Peti"},"score":9,"creation_date":1426064408,"post_id":21163108,"comment_id":46213700,"body_markdown":"Hint: Java Champion Heinz Kabutz inspects the same problem but with even worse impact: Deadlocking threads of the common fork join pool. See http://www.javaspecialists.eu/archive/Issue223.html","body":"Hint: Java Champion Heinz Kabutz inspects the same problem but with even worse impact: Deadlocking threads of the common fork join pool. See <a href=\"http://www.javaspecialists.eu/archive/Issue223.html\" rel=\"nofollow noreferrer\">javaspecialists.eu/archive/Issue223.html</a>"},{"owner":{"account_id":1639936,"reputation":613,"user_id":1512592,"accept_rate":64,"display_name":"Dirk Hillbrecht"},"score":0,"creation_date":1668950259,"post_id":21163108,"comment_id":131525576,"body_markdown":"The accepted answer is wrong. At least with Java 8u352 and Java 17, the stream uses both the dedicated and the common fork-join-pool. You can reach the wanted behaviour using CompletableFuture as I have outlined in my answer (far, far) below. You should think about removing the green tick.","body":"The accepted answer is wrong. At least with Java 8u352 and Java 17, the stream uses both the dedicated and the common fork-join-pool. You can reach the wanted behaviour using CompletableFuture as I have outlined in my answer (far, far) below. You should think about removing the green tick."}],"answers":[{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"down_vote_count":2,"up_vote_count":249,"is_accepted":false,"score":247,"last_activity_date":1643998052,"creation_date":1389905882,"answer_id":21172732,"question_id":21163108,"body_markdown":"The parallel streams use the default `ForkJoinPool.commonPool` which [by default has one less threads as you have processors][1], as returned by `Runtime.getRuntime().availableProcessors()` (This means that parallel streams leave one processor for the calling thread).\r\n\r\n&gt; For applications that require separate or custom pools, a ForkJoinPool may be constructed with a given target parallelism level; by default, equal to the number of available processors.\r\n\r\nThis also means if you have nested parallel streams or multiple parallel streams started concurrently, they will all *share* the same pool.  Advantage: you will never use more than the default (number of available processors).  Disadvantage: you may not get &quot;all the processors&quot; assigned to each parallel stream you initiate (if you happen to have more than one).  (Apparently you can use a [ManagedBlocker][2] to circumvent that.)\r\n\r\nTo change the way parallel streams are executed, you can either\r\n\r\n- submit the parallel stream execution to your own ForkJoinPool: `yourFJP.submit(() -&gt; stream.parallel().forEach(soSomething)).get();` or\r\n- you can change the size of the common pool using system properties: `System.setProperty(&quot;java.util.concurrent.ForkJoinPool.common.parallelism&quot;, &quot;20&quot;)` for a target parallelism of 20 threads.\r\n\r\n---\r\n\r\nExample of the latter on my machine which has 8 processors. If I run the following program:\r\n\r\n    long start = System.currentTimeMillis();\r\n    IntStream s = IntStream.range(0, 20);\r\n    //System.setProperty(&quot;java.util.concurrent.ForkJoinPool.common.parallelism&quot;, &quot;20&quot;);\r\n    s.parallel().forEach(i -&gt; {\r\n        try { Thread.sleep(100); } catch (Exception ignore) {}\r\n        System.out.print((System.currentTimeMillis() - start) + &quot; &quot;);\r\n    });\r\n\r\nThe output is:\r\n\r\n&gt; 215 216 216 216 216 216 216 216 315 316 316 316 316 316 316 316 415 416 416 416\r\n\r\nSo you can see that the parallel stream processes 8 items at a time, i.e. it uses 8 threads. However, if I uncomment the commented line, the output is:\r\n\r\n&gt; 215 215 215 215 215 216 216 216 216 216 216 216 216 216 216 216 216 216 216 216\r\n\r\nThis time, the parallel stream has used 20 threads and all 20 elements in the stream have been processed concurrently.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ForkJoinPool.html\r\n  [2]: https://zeroturnaround.com/rebellabs/java-parallel-streams-are-bad-for-your-health/","title":"Custom thread pool in Java 8 parallel stream","body":"<p>The parallel streams use the default <code>ForkJoinPool.commonPool</code> which <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ForkJoinPool.html\" rel=\"noreferrer\">by default has one less threads as you have processors</a>, as returned by <code>Runtime.getRuntime().availableProcessors()</code> (This means that parallel streams leave one processor for the calling thread).</p>\n<blockquote>\n<p>For applications that require separate or custom pools, a ForkJoinPool may be constructed with a given target parallelism level; by default, equal to the number of available processors.</p>\n</blockquote>\n<p>This also means if you have nested parallel streams or multiple parallel streams started concurrently, they will all <em>share</em> the same pool.  Advantage: you will never use more than the default (number of available processors).  Disadvantage: you may not get &quot;all the processors&quot; assigned to each parallel stream you initiate (if you happen to have more than one).  (Apparently you can use a <a href=\"https://zeroturnaround.com/rebellabs/java-parallel-streams-are-bad-for-your-health/\" rel=\"noreferrer\">ManagedBlocker</a> to circumvent that.)</p>\n<p>To change the way parallel streams are executed, you can either</p>\n<ul>\n<li>submit the parallel stream execution to your own ForkJoinPool: <code>yourFJP.submit(() -&gt; stream.parallel().forEach(soSomething)).get();</code> or</li>\n<li>you can change the size of the common pool using system properties: <code>System.setProperty(&quot;java.util.concurrent.ForkJoinPool.common.parallelism&quot;, &quot;20&quot;)</code> for a target parallelism of 20 threads.</li>\n</ul>\n<hr />\n<p>Example of the latter on my machine which has 8 processors. If I run the following program:</p>\n<pre><code>long start = System.currentTimeMillis();\nIntStream s = IntStream.range(0, 20);\n//System.setProperty(&quot;java.util.concurrent.ForkJoinPool.common.parallelism&quot;, &quot;20&quot;);\ns.parallel().forEach(i -&gt; {\n    try { Thread.sleep(100); } catch (Exception ignore) {}\n    System.out.print((System.currentTimeMillis() - start) + &quot; &quot;);\n});\n</code></pre>\n<p>The output is:</p>\n<blockquote>\n<p>215 216 216 216 216 216 216 216 315 316 316 316 316 316 316 316 415 416 416 416</p>\n</blockquote>\n<p>So you can see that the parallel stream processes 8 items at a time, i.e. it uses 8 threads. However, if I uncomment the commented line, the output is:</p>\n<blockquote>\n<p>215 215 215 215 215 216 216 216 216 216 216 216 216 216 216 216 216 216 216 216</p>\n</blockquote>\n<p>This time, the parallel stream has used 20 threads and all 20 elements in the stream have been processed concurrently.</p>\n"},{"tags":[],"owner":{"account_id":103435,"reputation":13726,"user_id":277042,"accept_rate":57,"display_name":"Lukas"},"down_vote_count":3,"up_vote_count":510,"is_accepted":true,"score":507,"last_activity_date":1606299527,"creation_date":1394284343,"answer_id":22269778,"question_id":21163108,"body_markdown":"There actually is a trick how to execute a parallel operation in a specific fork-join pool. If you execute it as a task in a fork-join pool, it stays there and does not use the common one.  \r\n\r\n    final int parallelism = 4;\r\n    ForkJoinPool forkJoinPool = null;\r\n    try {\r\n        forkJoinPool = new ForkJoinPool(parallelism);\r\n        final List&lt;Integer&gt; primes = forkJoinPool.submit(() -&gt;\r\n            // Parallel task here, for example\r\n            IntStream.range(1, 1_000_000).parallel()\r\n                    .filter(PrimesPrint::isPrime)\r\n                    .boxed().collect(Collectors.toList())\r\n        ).get();\r\n        System.out.println(primes);\r\n    } catch (InterruptedException | ExecutionException e) {\r\n        throw new RuntimeException(e);\r\n    } finally {\r\n        if (forkJoinPool != null) {\r\n            forkJoinPool.shutdown();\r\n        }\r\n    }\r\n\r\nThe trick is based on [`ForkJoinTask.fork`](http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ForkJoinTask.html#fork--) which specifies: &quot;Arranges to asynchronously execute this task in the pool the current task is running in, if applicable, or using the `ForkJoinPool.commonPool()` if not `inForkJoinPool()`&quot;\r\n   ","title":"Custom thread pool in Java 8 parallel stream","body":"<p>There actually is a trick how to execute a parallel operation in a specific fork-join pool. If you execute it as a task in a fork-join pool, it stays there and does not use the common one.</p>\n<pre><code>final int parallelism = 4;\nForkJoinPool forkJoinPool = null;\ntry {\n    forkJoinPool = new ForkJoinPool(parallelism);\n    final List&lt;Integer&gt; primes = forkJoinPool.submit(() -&gt;\n        // Parallel task here, for example\n        IntStream.range(1, 1_000_000).parallel()\n                .filter(PrimesPrint::isPrime)\n                .boxed().collect(Collectors.toList())\n    ).get();\n    System.out.println(primes);\n} catch (InterruptedException | ExecutionException e) {\n    throw new RuntimeException(e);\n} finally {\n    if (forkJoinPool != null) {\n        forkJoinPool.shutdown();\n    }\n}\n</code></pre>\n<p>The trick is based on <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ForkJoinTask.html#fork--\" rel=\"noreferrer\"><code>ForkJoinTask.fork</code></a> which specifies: &quot;Arranges to asynchronously execute this task in the pool the current task is running in, if applicable, or using the <code>ForkJoinPool.commonPool()</code> if not <code>inForkJoinPool()</code>&quot;</p>\n"},{"tags":[],"owner":{"account_id":39135,"reputation":13588,"user_id":112779,"accept_rate":67,"display_name":"Mario Fusco"},"down_vote_count":1,"up_vote_count":54,"is_accepted":false,"score":53,"last_activity_date":1420272357,"creation_date":1420272357,"answer_id":27752931,"question_id":21163108,"body_markdown":"Alternatively to the trick of triggering the parallel computation inside your own forkJoinPool you can also pass that pool to the CompletableFuture.supplyAsync method like in:\r\n\r\n    ForkJoinPool forkJoinPool = new ForkJoinPool(2);\r\n    CompletableFuture&lt;List&lt;Integer&gt;&gt; primes = CompletableFuture.supplyAsync(() -&gt;\r\n        //parallel task here, for example\r\n        range(1, 1_000_000).parallel().filter(PrimesPrint::isPrime).collect(toList()), \r\n        forkJoinPool\r\n    );\r\n","title":"Custom thread pool in Java 8 parallel stream","body":"<p>Alternatively to the trick of triggering the parallel computation inside your own forkJoinPool you can also pass that pool to the CompletableFuture.supplyAsync method like in:</p>\n\n<pre><code>ForkJoinPool forkJoinPool = new ForkJoinPool(2);\nCompletableFuture&lt;List&lt;Integer&gt;&gt; primes = CompletableFuture.supplyAsync(() -&gt;\n    //parallel task here, for example\n    range(1, 1_000_000).parallel().filter(PrimesPrint::isPrime).collect(toList()), \n    forkJoinPool\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1135767,"reputation":1478,"user_id":1120854,"display_name":"charlie"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1453398598,"creation_date":1453398598,"answer_id":34930831,"question_id":21163108,"body_markdown":"To measure the actual number of used threads, you can check `Thread.activeCount()`:\r\n\r\n        Runnable r = () -&gt; IntStream\r\n                .range(-42, +42)\r\n                .parallel()\r\n                .map(i -&gt; Thread.activeCount())\r\n                .max()\r\n                .ifPresent(System.out::println);\r\n        \r\n        ForkJoinPool.commonPool().submit(r).join();\r\n        new ForkJoinPool(42).submit(r).join();\r\n\r\nThis can produce on a 4-core CPU an output like:\r\n\r\n    5 // common pool\r\n    23 // custom pool\r\n\r\nWithout `.parallel()` it gives:\r\n\r\n    3 // common pool\r\n    4 // custom pool\r\n","title":"Custom thread pool in Java 8 parallel stream","body":"<p>To measure the actual number of used threads, you can check <code>Thread.activeCount()</code>:</p>\n\n<pre><code>    Runnable r = () -&gt; IntStream\n            .range(-42, +42)\n            .parallel()\n            .map(i -&gt; Thread.activeCount())\n            .max()\n            .ifPresent(System.out::println);\n\n    ForkJoinPool.commonPool().submit(r).join();\n    new ForkJoinPool(42).submit(r).join();\n</code></pre>\n\n<p>This can produce on a 4-core CPU an output like:</p>\n\n<pre><code>5 // common pool\n23 // custom pool\n</code></pre>\n\n<p>Without <code>.parallel()</code> it gives:</p>\n\n<pre><code>3 // common pool\n4 // custom pool\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1620331,"reputation":5165,"user_id":1497059,"display_name":"Stefan Ferstl"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1470773217,"creation_date":1470773217,"answer_id":38859532,"question_id":21163108,"body_markdown":"Until now, I used the solutions described in the answers of this question. Now, I came up with a little library called [Parallel Stream Support](https://github.com/ferstl/parallel-stream-support) for that:\r\n\r\n    ForkJoinPool pool = new ForkJoinPool(NR_OF_THREADS);\r\n    ParallelIntStreamSupport.range(1, 1_000_000, pool)\r\n        .filter(PrimesPrint::isPrime)\r\n        .collect(toList())\r\n\r\nBut as @PabloMatiasGomez pointed out in the comments, there are drawbacks regarding the splitting mechanism of parallel streams which depends heavily on the size of the common pool. See https://stackoverflow.com/questions/28985704/parallel-stream-from-a-hashset-doesnt-run-in-parallel .\r\n\r\nI am using this solution only to have separate pools for different types of work but I can not set the size of the common pool to 1 even if I don&#39;t use it.","title":"Custom thread pool in Java 8 parallel stream","body":"<p>Until now, I used the solutions described in the answers of this question. Now, I came up with a little library called <a href=\"https://github.com/ferstl/parallel-stream-support\" rel=\"noreferrer\">Parallel Stream Support</a> for that:</p>\n\n<pre><code>ForkJoinPool pool = new ForkJoinPool(NR_OF_THREADS);\nParallelIntStreamSupport.range(1, 1_000_000, pool)\n    .filter(PrimesPrint::isPrime)\n    .collect(toList())\n</code></pre>\n\n<p>But as @PabloMatiasGomez pointed out in the comments, there are drawbacks regarding the splitting mechanism of parallel streams which depends heavily on the size of the common pool. See <a href=\"https://stackoverflow.com/questions/28985704/parallel-stream-from-a-hashset-doesnt-run-in-parallel\">Parallel stream from a HashSet doesn&#39;t run in parallel</a> .</p>\n\n<p>I am using this solution only to have separate pools for different types of work but I can not set the size of the common pool to 1 even if I don't use it.</p>\n"},{"tags":[],"owner":{"account_id":6345157,"reputation":583,"user_id":4925968,"display_name":"Tod Casasent"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1560434951,"creation_date":1472235308,"answer_id":39172410,"question_id":21163108,"body_markdown":"The original solution (setting the ForkJoinPool common parallelism property) no longer works. Looking at the links in the original answer, an update which breaks this has been back ported to Java 8. As mentioned in the linked threads, this solution was not guaranteed to work forever. Based on that, the solution is the forkjoinpool.submit with .get solution discussed in the accepted answer. I think the backport fixes the unreliability of this solution also.\r\n\r\n    ForkJoinPool fjpool = new ForkJoinPool(10);\r\n    System.out.println(&quot;stream.parallel&quot;);\r\n    IntStream range = IntStream.range(0, 20);\r\n    fjpool.submit(() -&gt; range.parallel()\r\n            .forEach((int theInt) -&gt;\r\n            {\r\n                try { Thread.sleep(100); } catch (Exception ignore) {}\r\n                System.out.println(Thread.currentThread().getName() + &quot; -- &quot; + theInt);\r\n            })).get();\r\n    System.out.println(&quot;list.parallelStream&quot;);\r\n    int [] array = IntStream.range(0, 20).toArray();\r\n    List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n    for (int theInt: array)\r\n    {\r\n        list.add(theInt);\r\n    }\r\n    fjpool.submit(() -&gt; list.parallelStream()\r\n            .forEach((theInt) -&gt;\r\n            {\r\n                try { Thread.sleep(100); } catch (Exception ignore) {}\r\n                System.out.println(Thread.currentThread().getName() + &quot; -- &quot; + theInt);\r\n            })).get();\r\n","title":"Custom thread pool in Java 8 parallel stream","body":"<p>The original solution (setting the ForkJoinPool common parallelism property) no longer works. Looking at the links in the original answer, an update which breaks this has been back ported to Java 8. As mentioned in the linked threads, this solution was not guaranteed to work forever. Based on that, the solution is the forkjoinpool.submit with .get solution discussed in the accepted answer. I think the backport fixes the unreliability of this solution also.</p>\n\n<pre><code>ForkJoinPool fjpool = new ForkJoinPool(10);\nSystem.out.println(\"stream.parallel\");\nIntStream range = IntStream.range(0, 20);\nfjpool.submit(() -&gt; range.parallel()\n        .forEach((int theInt) -&gt;\n        {\n            try { Thread.sleep(100); } catch (Exception ignore) {}\n            System.out.println(Thread.currentThread().getName() + \" -- \" + theInt);\n        })).get();\nSystem.out.println(\"list.parallelStream\");\nint [] array = IntStream.range(0, 20).toArray();\nList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\nfor (int theInt: array)\n{\n    list.add(theInt);\n}\nfjpool.submit(() -&gt; list.parallelStream()\n        .forEach((theInt) -&gt;\n        {\n            try { Thread.sleep(100); } catch (Exception ignore) {}\n            System.out.println(Thread.currentThread().getName() + \" -- \" + theInt);\n        })).get();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1660712603,"creation_date":1480649168,"answer_id":40924281,"question_id":21163108,"body_markdown":"Go to get [abacus-common][1]. Thread number can by specified for parallel stream. Here is the sample code:\r\n    \r\n    LongStream.range(4, 1_000_000).parallel(threadNum)...\r\n\r\nDisclosure I&#39;m the developer of abacus-common.\r\n\r\n  [1]: https://github.com/landawn/abacus-common","title":"Custom thread pool in Java 8 parallel stream","body":"<p>Go to get <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a>. Thread number can by specified for parallel stream. Here is the sample code:</p>\n<pre><code>LongStream.range(4, 1_000_000).parallel(threadNum)...\n</code></pre>\n<p>Disclosure I'm the developer of abacus-common.</p>\n"},{"tags":[],"owner":{"account_id":5914036,"reputation":5245,"user_id":4653367,"display_name":"John McClean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489147459,"creation_date":1489147459,"answer_id":42718019,"question_id":21163108,"body_markdown":"If you don&#39;t mind using a third-party library, with [cyclops-react](https://github.com/aol/cyclops-react) you can mix sequential and parallel Streams within the same pipeline and provide custom ForkJoinPools. For example\r\n\r\n     ReactiveSeq.range(1, 1_000_000)\r\n                .foldParallel(new ForkJoinPool(10),\r\n                              s-&gt;s.filter(i-&gt;true)\r\n                                  .peek(i-&gt;System.out.println(&quot;Thread &quot; + Thread.currentThread().getId()))\r\n                                  .max(Comparator.naturalOrder()));\r\n\r\nOr if we wished to continue processing within a sequential Stream\r\n\r\n     ReactiveSeq.range(1, 1_000_000)\r\n                .parallel(new ForkJoinPool(10),\r\n                          s-&gt;s.filter(i-&gt;true)\r\n                              .peek(i-&gt;System.out.println(&quot;Thread &quot; + Thread.currentThread().getId())))\r\n                .map(this::processSequentially)\r\n                .forEach(System.out::println);\r\n\r\n\r\n[Disclosure I am the lead developer of cyclops-react]\r\n","title":"Custom thread pool in Java 8 parallel stream","body":"<p>If you don't mind using a third-party library, with <a href=\"https://github.com/aol/cyclops-react\" rel=\"nofollow noreferrer\">cyclops-react</a> you can mix sequential and parallel Streams within the same pipeline and provide custom ForkJoinPools. For example</p>\n\n<pre><code> ReactiveSeq.range(1, 1_000_000)\n            .foldParallel(new ForkJoinPool(10),\n                          s-&gt;s.filter(i-&gt;true)\n                              .peek(i-&gt;System.out.println(\"Thread \" + Thread.currentThread().getId()))\n                              .max(Comparator.naturalOrder()));\n</code></pre>\n\n<p>Or if we wished to continue processing within a sequential Stream</p>\n\n<pre><code> ReactiveSeq.range(1, 1_000_000)\n            .parallel(new ForkJoinPool(10),\n                      s-&gt;s.filter(i-&gt;true)\n                          .peek(i-&gt;System.out.println(\"Thread \" + Thread.currentThread().getId())))\n            .map(this::processSequentially)\n            .forEach(System.out::println);\n</code></pre>\n\n<p>[Disclosure I am the lead developer of cyclops-react]</p>\n"},{"tags":[],"owner":{"account_id":2739457,"reputation":7470,"user_id":2361308,"accept_rate":71,"display_name":"Hearen"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1527556292,"creation_date":1527556292,"answer_id":50575042,"question_id":21163108,"body_markdown":"I tried the **custom** ForkJoinPool as follows to adjust the pool size:\r\n\r\n    private static Set&lt;String&gt; ThreadNameSet = new HashSet&lt;&gt;();\r\n    private static Callable&lt;Long&gt; getSum() {\r\n        List&lt;Long&gt; aList = LongStream.rangeClosed(0, 10_000_000).boxed().collect(Collectors.toList());\r\n        return () -&gt; aList.parallelStream()\r\n                .peek((i) -&gt; {\r\n                    String threadName = Thread.currentThread().getName();\r\n                    ThreadNameSet.add(threadName);\r\n                })\r\n                .reduce(0L, Long::sum);\r\n    }\r\n\r\n    private static void testForkJoinPool() {\r\n        final int parallelism = 10;\r\n\r\n        ForkJoinPool forkJoinPool = null;\r\n        Long result = 0L;\r\n        try {\r\n            forkJoinPool = new ForkJoinPool(parallelism);\r\n            result = forkJoinPool.submit(getSum()).get(); //this makes it an overall blocking call\r\n\r\n        } catch (InterruptedException | ExecutionException e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            if (forkJoinPool != null) {\r\n                forkJoinPool.shutdown(); //always remember to shutdown the pool\r\n            }\r\n        }\r\n        out.println(result);\r\n        out.println(ThreadNameSet);\r\n    }\r\n\r\n\r\nHere is the output saying the pool is using more threads than the default **4**. \r\n\r\n    50000005000000\r\n    [ForkJoinPool-1-worker-8, ForkJoinPool-1-worker-9, ForkJoinPool-1-worker-6, ForkJoinPool-1-worker-11, ForkJoinPool-1-worker-10, ForkJoinPool-1-worker-1, ForkJoinPool-1-worker-15, ForkJoinPool-1-worker-13, ForkJoinPool-1-worker-4, ForkJoinPool-1-worker-2]\r\n\r\n\r\nBut actually there is a **weirdo**, when I tried to achieve the same result using `ThreadPoolExecutor` as follows:\r\n\r\n    BlockingDeque blockingDeque = new LinkedBlockingDeque(1000);\r\n    ThreadPoolExecutor fixedSizePool = new ThreadPoolExecutor(10, 20, 60, TimeUnit.SECONDS, blockingDeque, new MyThreadFactory(&quot;my-thread&quot;));\r\n\r\n\r\nbut I failed. \r\n\r\nIt will only start the **parallelStream** in a new thread and then everything else is just the same, which **again** proves that the `parallelStream` will use **the ForkJoinPool** to start its child threads. \r\n","title":"Custom thread pool in Java 8 parallel stream","body":"<p>I tried the <strong>custom</strong> ForkJoinPool as follows to adjust the pool size:</p>\n\n<pre><code>private static Set&lt;String&gt; ThreadNameSet = new HashSet&lt;&gt;();\nprivate static Callable&lt;Long&gt; getSum() {\n    List&lt;Long&gt; aList = LongStream.rangeClosed(0, 10_000_000).boxed().collect(Collectors.toList());\n    return () -&gt; aList.parallelStream()\n            .peek((i) -&gt; {\n                String threadName = Thread.currentThread().getName();\n                ThreadNameSet.add(threadName);\n            })\n            .reduce(0L, Long::sum);\n}\n\nprivate static void testForkJoinPool() {\n    final int parallelism = 10;\n\n    ForkJoinPool forkJoinPool = null;\n    Long result = 0L;\n    try {\n        forkJoinPool = new ForkJoinPool(parallelism);\n        result = forkJoinPool.submit(getSum()).get(); //this makes it an overall blocking call\n\n    } catch (InterruptedException | ExecutionException e) {\n        e.printStackTrace();\n    } finally {\n        if (forkJoinPool != null) {\n            forkJoinPool.shutdown(); //always remember to shutdown the pool\n        }\n    }\n    out.println(result);\n    out.println(ThreadNameSet);\n}\n</code></pre>\n\n<p>Here is the output saying the pool is using more threads than the default <strong>4</strong>. </p>\n\n<pre><code>50000005000000\n[ForkJoinPool-1-worker-8, ForkJoinPool-1-worker-9, ForkJoinPool-1-worker-6, ForkJoinPool-1-worker-11, ForkJoinPool-1-worker-10, ForkJoinPool-1-worker-1, ForkJoinPool-1-worker-15, ForkJoinPool-1-worker-13, ForkJoinPool-1-worker-4, ForkJoinPool-1-worker-2]\n</code></pre>\n\n<p>But actually there is a <strong>weirdo</strong>, when I tried to achieve the same result using <code>ThreadPoolExecutor</code> as follows:</p>\n\n<pre><code>BlockingDeque blockingDeque = new LinkedBlockingDeque(1000);\nThreadPoolExecutor fixedSizePool = new ThreadPoolExecutor(10, 20, 60, TimeUnit.SECONDS, blockingDeque, new MyThreadFactory(\"my-thread\"));\n</code></pre>\n\n<p>but I failed. </p>\n\n<p>It will only start the <strong>parallelStream</strong> in a new thread and then everything else is just the same, which <strong>again</strong> proves that the <code>parallelStream</code> will use <strong>the ForkJoinPool</strong> to start its child threads. </p>\n"},{"tags":[],"owner":{"account_id":8897801,"reputation":61,"user_id":6642185,"display_name":"Scott Langley"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1528920572,"creation_date":1528920572,"answer_id":50845456,"question_id":21163108,"body_markdown":"**Note:** \r\nThere appears to be a fix implemented in JDK 10 that ensures the Custom Thread Pool uses the expected number of threads.\r\n\r\nParallel stream execution within a custom ForkJoinPool should obey the parallelism\r\n[https://bugs.openjdk.java.net/browse/JDK-8190974][1]\r\n\r\n\r\n  [1]: https://bugs.openjdk.java.net/browse/JDK-8190974","title":"Custom thread pool in Java 8 parallel stream","body":"<p><strong>Note:</strong> \nThere appears to be a fix implemented in JDK 10 that ensures the Custom Thread Pool uses the expected number of threads.</p>\n\n<p>Parallel stream execution within a custom ForkJoinPool should obey the parallelism\n<a href=\"https://bugs.openjdk.java.net/browse/JDK-8190974\" rel=\"noreferrer\">https://bugs.openjdk.java.net/browse/JDK-8190974</a></p>\n"},{"tags":[],"owner":{"account_id":35077,"reputation":28118,"user_id":99256,"accept_rate":89,"display_name":"MartyIX"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1541067050,"creation_date":1541067050,"answer_id":53099109,"question_id":21163108,"body_markdown":"If you don&#39;t need a custom ThreadPool but you rather want to limit the number of concurrent tasks, you can use:\r\n\r\n    List&lt;Path&gt; paths = List.of(&quot;/path/file1.csv&quot;, &quot;/path/file2.csv&quot;, &quot;/path/file3.csv&quot;).stream().map(e -&gt; Paths.get(e)).collect(toList());\r\n    List&lt;List&lt;Path&gt;&gt; partitions = Lists.partition(paths, 4); // Guava method\r\n    \r\n    partitions.forEach(group -&gt; group.parallelStream().forEach(csvFilePath -&gt; {\r\n           // do your processing   \r\n    }));\r\n\r\n(Duplicate question asking for this is locked, so please bear me here)","title":"Custom thread pool in Java 8 parallel stream","body":"<p>If you don't need a custom ThreadPool but you rather want to limit the number of concurrent tasks, you can use:</p>\n\n<pre><code>List&lt;Path&gt; paths = List.of(\"/path/file1.csv\", \"/path/file2.csv\", \"/path/file3.csv\").stream().map(e -&gt; Paths.get(e)).collect(toList());\nList&lt;List&lt;Path&gt;&gt; partitions = Lists.partition(paths, 4); // Guava method\n\npartitions.forEach(group -&gt; group.parallelStream().forEach(csvFilePath -&gt; {\n       // do your processing   \n}));\n</code></pre>\n\n<p>(Duplicate question asking for this is locked, so please bear me here)</p>\n"},{"tags":[],"owner":{"account_id":2570598,"reputation":13282,"user_id":2229438,"accept_rate":94,"display_name":"Grzegorz Piwowarek"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1611263379,"creation_date":1549029084,"answer_id":54480899,"question_id":21163108,"body_markdown":"If you don&#39;t want to rely on implementation hacks, there&#39;s always a way to achieve the same by implementing custom collectors that will combine `map` and `collect` semantics... and you wouldn&#39;t be limited to ForkJoinPool:\r\n\r\n    list.stream()\r\n      .collect(parallel(i -&gt; process(i), executor, 4))\r\n      .join()\r\n\r\nLuckily, it&#39;s done already here and available on Maven Central:\r\nhttp://github.com/pivovarit/parallel-collectors\r\n\r\nDisclaimer: I wrote it and take responsibility for it.","title":"Custom thread pool in Java 8 parallel stream","body":"<p>If you don't want to rely on implementation hacks, there's always a way to achieve the same by implementing custom collectors that will combine <code>map</code> and <code>collect</code> semantics... and you wouldn't be limited to ForkJoinPool:</p>\n<pre><code>list.stream()\n  .collect(parallel(i -&gt; process(i), executor, 4))\n  .join()\n</code></pre>\n<p>Luckily, it's done already here and available on Maven Central:\n<a href=\"http://github.com/pivovarit/parallel-collectors\" rel=\"nofollow noreferrer\">http://github.com/pivovarit/parallel-collectors</a></p>\n<p>Disclaimer: I wrote it and take responsibility for it.</p>\n"},{"tags":[],"owner":{"account_id":4911554,"reputation":13237,"user_id":3956731,"accept_rate":95,"display_name":"KayV"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1550818742,"creation_date":1550818742,"answer_id":54821697,"question_id":21163108,"body_markdown":"We can change the default parallelism using the following property:\r\n\r\n    -Djava.util.concurrent.ForkJoinPool.common.parallelism=16\r\n\r\nwhich can set up to use more parallelism.","title":"Custom thread pool in Java 8 parallel stream","body":"<p>We can change the default parallelism using the following property:</p>\n\n<pre><code>-Djava.util.concurrent.ForkJoinPool.common.parallelism=16\n</code></pre>\n\n<p>which can set up to use more parallelism.</p>\n"},{"tags":[],"owner":{"account_id":7392763,"reputation":3367,"user_id":5625696,"accept_rate":50,"display_name":"Borislav Stoilov"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1597737834,"creation_date":1597737834,"answer_id":63464317,"question_id":21163108,"body_markdown":"Here is how I set the max thread count flag mentioned above programatically and a code sniped to verify that the parameter is honored\r\n\r\n    System.setProperty(&quot;java.util.concurrent.ForkJoinPool.common.parallelism&quot;, &quot;2&quot;);\r\n    Set&lt;String&gt; threadNames = Stream.iterate(0, n -&gt; n + 1)\r\n      .parallel()\r\n      .limit(100000)\r\n      .map(i -&gt; Thread.currentThread().getName())\r\n      .collect(Collectors.toSet());\r\n    System.out.println(threadNames);\r\n    \r\n    // Output -&gt; [ForkJoinPool.commonPool-worker-1, Test worker, ForkJoinPool.commonPool-worker-3]\r\n\r\n","title":"Custom thread pool in Java 8 parallel stream","body":"<p>Here is how I set the max thread count flag mentioned above programatically and a code sniped to verify that the parameter is honored</p>\n<pre><code>System.setProperty(&quot;java.util.concurrent.ForkJoinPool.common.parallelism&quot;, &quot;2&quot;);\nSet&lt;String&gt; threadNames = Stream.iterate(0, n -&gt; n + 1)\n  .parallel()\n  .limit(100000)\n  .map(i -&gt; Thread.currentThread().getName())\n  .collect(Collectors.toSet());\nSystem.out.println(threadNames);\n\n// Output -&gt; [ForkJoinPool.commonPool-worker-1, Test worker, ForkJoinPool.commonPool-worker-3]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2879573,"reputation":8521,"user_id":2470765,"accept_rate":59,"display_name":"michal.jakubeczy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658417928,"creation_date":1658417928,"answer_id":73069076,"question_id":21163108,"body_markdown":"I made utility method to run task in parallel with argument which defines max number of threads.\r\n\r\n```\r\npublic static void runParallel(final int maxThreads, Runnable task) throws RuntimeException {\r\n\tForkJoinPool forkJoinPool = null;\r\n\ttry {\r\n\t\tforkJoinPool = new ForkJoinPool(maxThreads);\r\n\t\tforkJoinPool.submit(task).get();\r\n\t} catch (InterruptedException | ExecutionException e) {\r\n\t\tthrow new RuntimeException(e);\r\n\t} finally {\r\n\t\tif (forkJoinPool != null) {\r\n\t\t\tforkJoinPool.shutdown();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nIt creates `ForkJoinPool` with max number of allowed threads and it shuts it down after the task completes (or fails).\r\n\r\nUsage is following:\r\n```\r\nfinal int maxThreads = 4;\r\nrunParallel(maxThreads, () -&gt; \r\n    IntStream.range(1, 1_000_000).parallel()\r\n            .filter(PrimesPrint::isPrime)\r\n            .boxed().collect(Collectors.toList()));\r\n```","title":"Custom thread pool in Java 8 parallel stream","body":"<p>I made utility method to run task in parallel with argument which defines max number of threads.</p>\n<pre><code>public static void runParallel(final int maxThreads, Runnable task) throws RuntimeException {\n    ForkJoinPool forkJoinPool = null;\n    try {\n        forkJoinPool = new ForkJoinPool(maxThreads);\n        forkJoinPool.submit(task).get();\n    } catch (InterruptedException | ExecutionException e) {\n        throw new RuntimeException(e);\n    } finally {\n        if (forkJoinPool != null) {\n            forkJoinPool.shutdown();\n        }\n    }\n}\n</code></pre>\n<p>It creates <code>ForkJoinPool</code> with max number of allowed threads and it shuts it down after the task completes (or fails).</p>\n<p>Usage is following:</p>\n<pre><code>final int maxThreads = 4;\nrunParallel(maxThreads, () -&gt; \n    IntStream.range(1, 1_000_000).parallel()\n            .filter(PrimesPrint::isPrime)\n            .boxed().collect(Collectors.toList()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1639936,"reputation":613,"user_id":1512592,"accept_rate":64,"display_name":"Dirk Hillbrecht"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668950505,"creation_date":1668949940,"answer_id":74508381,"question_id":21163108,"body_markdown":"The (currently) accepted answer is partly wrong. It is _not_ sufficient to just `submit()` the parallel stream to the dedicated fork-join-pool. In this case, the stream will use that pool&#39;s threads and _additionally_ the common fork-join-pool and even the calling thread to handle the workload of the stream, it seems up to the size of the common fork-join pool. The behaviour is a bit weird but definitely not what is required.\r\n\r\nTo actually restrict the work _completely_ to the dedicated pool, you must encapsulate it into a `CompletableFuture`:\r\n\r\n```java\r\nfinal int parallelism = 4;\r\nForkJoinPool forkJoinPool = null;\r\ntry {\r\n  forkJoinPool = new ForkJoinPool(parallelism);\r\n  final List&lt;Integer&gt; primes = CompletableFuture.supplyAsync(() -&gt; \r\n        // Parallel task here, for example\r\n        IntStream.range(1, 1_000_000).parallel()\r\n                .filter(PrimesPrint::isPrime)\r\n                .boxed().collect(Collectors.toList()),\r\n    forkJoinPool)  // &lt;- passes dedicated fork-join pool as executor\r\n    .join();  // &lt;- Wait for result from forkJoinPool\r\n    System.out.println(primes);\r\n} finally {\r\n    if (forkJoinPool != null) {\r\n        forkJoinPool.shutdown();\r\n    }\r\n}\r\n```\r\n\r\nThis code stays with all operations in `forkJoinPool` on both Java 8u352 and Java 17.0.1.","title":"Custom thread pool in Java 8 parallel stream","body":"<p>The (currently) accepted answer is partly wrong. It is <em>not</em> sufficient to just <code>submit()</code> the parallel stream to the dedicated fork-join-pool. In this case, the stream will use that pool's threads and <em>additionally</em> the common fork-join-pool and even the calling thread to handle the workload of the stream, it seems up to the size of the common fork-join pool. The behaviour is a bit weird but definitely not what is required.</p>\n<p>To actually restrict the work <em>completely</em> to the dedicated pool, you must encapsulate it into a <code>CompletableFuture</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final int parallelism = 4;\nForkJoinPool forkJoinPool = null;\ntry {\n  forkJoinPool = new ForkJoinPool(parallelism);\n  final List&lt;Integer&gt; primes = CompletableFuture.supplyAsync(() -&gt; \n        // Parallel task here, for example\n        IntStream.range(1, 1_000_000).parallel()\n                .filter(PrimesPrint::isPrime)\n                .boxed().collect(Collectors.toList()),\n    forkJoinPool)  // &lt;- passes dedicated fork-join pool as executor\n    .join();  // &lt;- Wait for result from forkJoinPool\n    System.out.println(primes);\n} finally {\n    if (forkJoinPool != null) {\n        forkJoinPool.shutdown();\n    }\n}\n</code></pre>\n<p>This code stays with all operations in <code>forkJoinPool</code> on both Java 8u352 and Java 17.0.1.</p>\n"}],"owner":{"account_id":103435,"reputation":13726,"user_id":277042,"accept_rate":57,"display_name":"Lukas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":281632,"favorite_count":0,"down_vote_count":0,"up_vote_count":483,"accepted_answer_id":22269778,"answer_count":16,"score":483,"last_activity_date":1668950505,"creation_date":1389878797,"question_id":21163108,"body_markdown":"Is it possible to specify a custom thread pool for Java 8 [parallel stream](http://docs.oracle.com/javase/tutorial/collections/streams/parallelism.html)? I can not find it anywhere. \r\n\r\nImagine that I have a server application and I would like to use parallel streams. But the application is large and multi-threaded so I want to compartmentalize it. I do not want a slow running task in one module of the applicationblock tasks from another module.\r\n\r\nIf I can not use different thread pools for different modules, it means I can not safely use parallel streams in most of real world situations.\r\n\r\nTry the following example. There are some CPU intensive tasks executed in separate threads.\r\nThe tasks leverage parallel streams. The first task is broken, so each step takes 1 second (simulated by thread sleep). The issue is that other threads get stuck and wait for the broken task to finish. This is contrived example, but imagine a servlet app and someone submitting a long running task to the shared fork join pool. \r\n\r\n\r\n\r\n    public class ParallelTest {\r\n        public static void main(String[] args) throws InterruptedException {\r\n            ExecutorService es = Executors.newCachedThreadPool();\r\n\r\n            es.execute(() -&gt; runTask(1000)); //incorrect task\r\n            es.execute(() -&gt; runTask(0));\r\n            es.execute(() -&gt; runTask(0));\r\n            es.execute(() -&gt; runTask(0));\r\n            es.execute(() -&gt; runTask(0));\r\n            es.execute(() -&gt; runTask(0));\r\n\r\n\r\n            es.shutdown();\r\n            es.awaitTermination(60, TimeUnit.SECONDS);\r\n        }\r\n\r\n        private static void runTask(int delay) {\r\n            range(1, 1_000_000).parallel().filter(ParallelTest::isPrime).peek(i -&gt; Utils.sleep(delay)).max()\r\n                    .ifPresent(max -&gt; System.out.println(Thread.currentThread() + &quot; &quot; + max));\r\n        }\r\n\r\n        public static boolean isPrime(long n) {\r\n            return n &gt; 1 &amp;&amp; rangeClosed(2, (long) sqrt(n)).noneMatch(divisor -&gt; n % divisor == 0);\r\n        }\r\n    }","title":"Custom thread pool in Java 8 parallel stream","body":"<p>Is it possible to specify a custom thread pool for Java 8 <a href=\"http://docs.oracle.com/javase/tutorial/collections/streams/parallelism.html\">parallel stream</a>? I can not find it anywhere. </p>\n\n<p>Imagine that I have a server application and I would like to use parallel streams. But the application is large and multi-threaded so I want to compartmentalize it. I do not want a slow running task in one module of the applicationblock tasks from another module.</p>\n\n<p>If I can not use different thread pools for different modules, it means I can not safely use parallel streams in most of real world situations.</p>\n\n<p>Try the following example. There are some CPU intensive tasks executed in separate threads.\nThe tasks leverage parallel streams. The first task is broken, so each step takes 1 second (simulated by thread sleep). The issue is that other threads get stuck and wait for the broken task to finish. This is contrived example, but imagine a servlet app and someone submitting a long running task to the shared fork join pool. </p>\n\n<pre><code>public class ParallelTest {\n    public static void main(String[] args) throws InterruptedException {\n        ExecutorService es = Executors.newCachedThreadPool();\n\n        es.execute(() -&gt; runTask(1000)); //incorrect task\n        es.execute(() -&gt; runTask(0));\n        es.execute(() -&gt; runTask(0));\n        es.execute(() -&gt; runTask(0));\n        es.execute(() -&gt; runTask(0));\n        es.execute(() -&gt; runTask(0));\n\n\n        es.shutdown();\n        es.awaitTermination(60, TimeUnit.SECONDS);\n    }\n\n    private static void runTask(int delay) {\n        range(1, 1_000_000).parallel().filter(ParallelTest::isPrime).peek(i -&gt; Utils.sleep(delay)).max()\n                .ifPresent(max -&gt; System.out.println(Thread.currentThread() + \" \" + max));\n    }\n\n    public static boolean isPrime(long n) {\n        return n &gt; 1 &amp;&amp; rangeClosed(2, (long) sqrt(n)).noneMatch(divisor -&gt; n % divisor == 0);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","mongodb","spring-data","spring-websocket"],"comments":[{"owner":{"account_id":10343230,"reputation":961,"user_id":7628937,"display_name":"1sina1"},"score":0,"creation_date":1654519855,"post_id":72517905,"comment_id":128102710,"body_markdown":"[ObjectId.toString()?](https://www.mongodb.com/docs/manual/reference/method/ObjectId.toString/)","body":"<a href=\"https://www.mongodb.com/docs/manual/reference/method/ObjectId.toString/\" rel=\"nofollow noreferrer\">ObjectId.toString()?</a>"},{"owner":{"account_id":16949602,"reputation":29,"user_id":12771746,"display_name":"Maxim Gaiduchek"},"score":0,"creation_date":1654520751,"post_id":72517905,"comment_id":128103044,"body_markdown":"@1sina1 DTO maps automatically by Spring. I am looking for a proper way to create a mapper that Spring can use.","body":"@1sina1 DTO maps automatically by Spring. I am looking for a proper way to create a mapper that Spring can use."},{"owner":{"account_id":75340,"reputation":378,"user_id":216161,"accept_rate":86,"display_name":"Kronen"},"score":0,"creation_date":1698746355,"post_id":72517905,"comment_id":136441449,"body_markdown":"You have your answer &#39;DTO maps automatically by Spring&#39;, so define messageId and chatId as String and it will map ObjectId to a String automatically too","body":"You have your answer &#39;DTO maps automatically by Spring&#39;, so define messageId and chatId as String and it will map ObjectId to a String automatically too"}],"answers":[{"tags":[],"owner":{"account_id":16949602,"reputation":29,"user_id":12771746,"display_name":"Maxim Gaiduchek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668950206,"creation_date":1668950206,"answer_id":74508423,"question_id":72517905,"body_markdown":"Spring uses `Jackson` to map objects to `JSON`, so the proper way to map `ObjectId` field in a object is to configure `Jackson` serializers.\r\n\r\nCreate a serializer class:\r\n\r\n```\r\nimport com.fasterxml.jackson.core.JsonGenerator;\r\nimport com.fasterxml.jackson.databind.JsonSerializer;\r\nimport com.fasterxml.jackson.databind.SerializerProvider;\r\nimport org.bson.types.ObjectId;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class ObjectIdSerializer extends JsonSerializer&lt;ObjectId&gt; {\r\n\r\n    @Override\r\n    public void serialize(ObjectId id, JsonGenerator jsonGenerator, SerializerProvider serializerProvider)\r\n            throws IOException {\r\n        jsonGenerator.writeObject(id == null ? null : id.toString());\r\n    }\r\n}\r\n```\r\n\r\nAnd then specify the serializer in a DTO class:\r\n\r\n```\r\n@AllArgsConstructor\r\n@Data\r\npublic class MessageDto {\r\n\r\n    @JsonSerialize(using = ObjectIdSerializer.class)\r\n    private ObjectId messageId;\r\n    @JsonSerialize(using = ObjectIdSerializer.class)\r\n    private ObjectId chatId;\r\n}\r\n```\r\n\r\nIn conclusion, the `ObjectId` field of the `MessageDto` object will be serialized like a string in `JSON`\r\n\r\nOf course, there is a problem to deserialize `JSON` to an object. There are `JsonDeserializer&lt;&gt;` and `@JsonDeserialize` to solve this problem. But there (mapping `ObjectId` class field) deserializer is useless, because `ObjectId` already have a constructor, that receives a `String` parameter, so `Jackson` will use it.","title":"Proper way to map ObjectId to String in DTO in Spring","body":"<p>Spring uses <code>Jackson</code> to map objects to <code>JSON</code>, so the proper way to map <code>ObjectId</code> field in a object is to configure <code>Jackson</code> serializers.</p>\n<p>Create a serializer class:</p>\n<pre><code>import com.fasterxml.jackson.core.JsonGenerator;\nimport com.fasterxml.jackson.databind.JsonSerializer;\nimport com.fasterxml.jackson.databind.SerializerProvider;\nimport org.bson.types.ObjectId;\n\nimport java.io.IOException;\n\npublic class ObjectIdSerializer extends JsonSerializer&lt;ObjectId&gt; {\n\n    @Override\n    public void serialize(ObjectId id, JsonGenerator jsonGenerator, SerializerProvider serializerProvider)\n            throws IOException {\n        jsonGenerator.writeObject(id == null ? null : id.toString());\n    }\n}\n</code></pre>\n<p>And then specify the serializer in a DTO class:</p>\n<pre><code>@AllArgsConstructor\n@Data\npublic class MessageDto {\n\n    @JsonSerialize(using = ObjectIdSerializer.class)\n    private ObjectId messageId;\n    @JsonSerialize(using = ObjectIdSerializer.class)\n    private ObjectId chatId;\n}\n</code></pre>\n<p>In conclusion, the <code>ObjectId</code> field of the <code>MessageDto</code> object will be serialized like a string in <code>JSON</code></p>\n<p>Of course, there is a problem to deserialize <code>JSON</code> to an object. There are <code>JsonDeserializer&lt;&gt;</code> and <code>@JsonDeserialize</code> to solve this problem. But there (mapping <code>ObjectId</code> class field) deserializer is useless, because <code>ObjectId</code> already have a constructor, that receives a <code>String</code> parameter, so <code>Jackson</code> will use it.</p>\n"}],"owner":{"account_id":16949602,"reputation":29,"user_id":12771746,"display_name":"Maxim Gaiduchek"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":660,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74508423,"answer_count":1,"score":0,"last_activity_date":1668950206,"creation_date":1654519489,"question_id":72517905,"body_markdown":"I am working with Spring WebSocket. I have this DTO of the `Message`\r\n\r\n```\r\n@AllArgsConstructor\r\n@Data\r\npublic class MessageDto {\r\n\r\n    private ObjectId messageId;\r\n    private ObjectId chatId;\r\n}\r\n```\r\n\r\nWhen I send this DTO as response, `ObjectId` fields in DTO maps like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kXlIJ.png\r\n\r\nHow can I map `ObjectId` field into `String` like `62790c02513ad11442eec6d7`?","title":"Proper way to map ObjectId to String in DTO in Spring","body":"<p>I am working with Spring WebSocket. I have this DTO of the <code>Message</code></p>\n<pre><code>@AllArgsConstructor\n@Data\npublic class MessageDto {\n\n    private ObjectId messageId;\n    private ObjectId chatId;\n}\n</code></pre>\n<p>When I send this DTO as response, <code>ObjectId</code> fields in DTO maps like this:</p>\n<p><a href=\"https://i.stack.imgur.com/kXlIJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kXlIJ.png\" alt=\"enter image description here\" /></a></p>\n<p>How can I map <code>ObjectId</code> field into <code>String</code> like <code>62790c02513ad11442eec6d7</code>?</p>\n"},{"tags":["java","kubernetes-apiserver","fabric8-kubernetes-client"],"answers":[{"tags":[],"owner":{"account_id":11409716,"reputation":538,"user_id":8364231,"display_name":"Steven Hawkins"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1668949552,"creation_date":1668949552,"answer_id":74508336,"question_id":74506037,"body_markdown":"&gt; My expectation is that the annotation @EnableKubernetesMockClient, enables the KubernetesMockServer in CRUD mode\r\n\r\nIt does not.  There is an additional parameter to the annotation - @EnableKubernetesMockClient(crud = true)","title":"Fabric8: Mock Kubernetes Server doesn&#39;t actually create a resource without &#39;expect&#39; set","body":"<blockquote>\n<p>My expectation is that the annotation @EnableKubernetesMockClient, enables the KubernetesMockServer in CRUD mode</p>\n</blockquote>\n<p>It does not.  There is an additional parameter to the annotation - @EnableKubernetesMockClient(crud = true)</p>\n"}],"owner":{"account_id":8486613,"reputation":31,"user_id":6364487,"display_name":"Anish Nagaraj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":658,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74508336,"answer_count":1,"score":0,"last_activity_date":1668949552,"creation_date":1668924538,"question_id":74506037,"body_markdown":"My expectation is that the annotation ```@EnableKubernetesMockClient```, enables the ```KubernetesMockServer``` in CRUD mode, which means, I don&#39;t have to mock the PUT operations through API. With that expectation I wrote the following code:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    @EnableKubernetesMockClient\r\n    public class Test {\r\n\r\n        KubernetesMockServer server;\r\n        KubernetesClient client;\r\n\r\n        @Test\r\n        public void test_create_custom_job() {\r\n\r\n            MyJobDetails myJobDetails = new MyJobDetails();\r\n            String jobName = &quot;job1-202211200345-prod&quot;;\r\n            myJobDetails.setname(&quot;job1-202211200345-prod&quot;);\r\n            //Other setters to follow\r\n            ...\r\n\r\n            PlatformOperationsService svc = new PlatformOperationsService(client);\r\n            svc.createCustomJob(myJobDetails);\r\n\r\n            // Expect no other job to exist\r\n            Job createdJob = client.batch().v1().jobs().list().getItems().get(0);\r\n\r\n            assertTrue(jobName.equals(createdJob.getMetadata().getName()));\r\n            // Other asserts will follow to see if all the other inputs were supplied correctly\r\n            ...\r\n            \r\n\r\n        }\r\n        \r\n     }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nHowever I get the following exception from the line :\r\n```Job createdJob = client.batch().v1().jobs().list().getItems().get(0);```\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    Failure executing: POST at: https://localhost:51913/apis/batch/v1/namespaces/test/jobs. Message: Not Found.\r\n    io.fabric8.kubernetes.client.KubernetesClientException: Failure executing: POST at: https://localhost:51913/apis/batch/v1/namespaces/test/jobs. Message: Not Found.\r\n    \tat app//io.fabric8.kubernetes.client.KubernetesClientException.copyAsCause(KubernetesClientException.java:238)\r\n    \tat app//io.fabric8.kubernetes.client.dsl.internal.OperationSupport.waitForResult(OperationSupport.java:517)\r\n    \tat app//io.fabric8.kubernetes.client.dsl.internal.OperationSupport.handleResponse(OperationSupport.java:551)\r\n    \tat app//io.fabric8.kubernetes.client.dsl.internal.OperationSupport.handleResponse(OperationSupport.java:535)\r\n    \tat app//io.fabric8.kubernetes.client.dsl.internal.OperationSupport.handleCreate(OperationSupport.java:328)\r\n    \tat app//io.fabric8.kubernetes.client.dsl.internal.BaseOperation.handleCreate(BaseOperation.java:675)\r\n    \tat app//io.fabric8.kubernetes.client.dsl.internal.BaseOperation.handleCreate(BaseOperation.java:88)\r\n    \tat app//io.fabric8.kubernetes.client.dsl.internal.CreateOnlyResourceOperation.create(CreateOnlyResourceOperation.java:42)\r\n    \tat app//io.fabric8.kubernetes.client.dsl.internal.BaseOperation.create(BaseOperation.java:1073)\r\n    \tat app//io.fabric8.kubernetes.client.dsl.internal.BaseOperation.create(BaseOperation.java:88)\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\nSo I am not sure if my expectation is right or if I am missing something to make this work. If my expectation is wrong then there is no point in using this Mock framework for my usage as I don&#39;t want to mock and test the same set of objects in the same test method. Any help is much appreciated!\r\n","title":"Fabric8: Mock Kubernetes Server doesn&#39;t actually create a resource without &#39;expect&#39; set","body":"<p>My expectation is that the annotation <code>@EnableKubernetesMockClient</code>, enables the <code>KubernetesMockServer</code> in CRUD mode, which means, I don't have to mock the PUT operations through API. With that expectation I wrote the following code:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>@EnableKubernetesMockClient\npublic class Test {\n\n    KubernetesMockServer server;\n    KubernetesClient client;\n\n    @Test\n    public void test_create_custom_job() {\n\n        MyJobDetails myJobDetails = new MyJobDetails();\n        String jobName = \"job1-202211200345-prod\";\n        myJobDetails.setname(\"job1-202211200345-prod\");\n        //Other setters to follow\n        ...\n\n        PlatformOperationsService svc = new PlatformOperationsService(client);\n        svc.createCustomJob(myJobDetails);\n\n        // Expect no other job to exist\n        Job createdJob = client.batch().v1().jobs().list().getItems().get(0);\n\n        assertTrue(jobName.equals(createdJob.getMetadata().getName()));\n        // Other asserts will follow to see if all the other inputs were supplied correctly\n        ...\n        \n\n    }\n    \n }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>However I get the following exception from the line :\n<code>Job createdJob = client.batch().v1().jobs().list().getItems().get(0);</code></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>Failure executing: POST at: https://localhost:51913/apis/batch/v1/namespaces/test/jobs. Message: Not Found.\nio.fabric8.kubernetes.client.KubernetesClientException: Failure executing: POST at: https://localhost:51913/apis/batch/v1/namespaces/test/jobs. Message: Not Found.\n    at app//io.fabric8.kubernetes.client.KubernetesClientException.copyAsCause(KubernetesClientException.java:238)\n    at app//io.fabric8.kubernetes.client.dsl.internal.OperationSupport.waitForResult(OperationSupport.java:517)\n    at app//io.fabric8.kubernetes.client.dsl.internal.OperationSupport.handleResponse(OperationSupport.java:551)\n    at app//io.fabric8.kubernetes.client.dsl.internal.OperationSupport.handleResponse(OperationSupport.java:535)\n    at app//io.fabric8.kubernetes.client.dsl.internal.OperationSupport.handleCreate(OperationSupport.java:328)\n    at app//io.fabric8.kubernetes.client.dsl.internal.BaseOperation.handleCreate(BaseOperation.java:675)\n    at app//io.fabric8.kubernetes.client.dsl.internal.BaseOperation.handleCreate(BaseOperation.java:88)\n    at app//io.fabric8.kubernetes.client.dsl.internal.CreateOnlyResourceOperation.create(CreateOnlyResourceOperation.java:42)\n    at app//io.fabric8.kubernetes.client.dsl.internal.BaseOperation.create(BaseOperation.java:1073)\n    at app//io.fabric8.kubernetes.client.dsl.internal.BaseOperation.create(BaseOperation.java:88)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>So I am not sure if my expectation is right or if I am missing something to make this work. If my expectation is wrong then there is no point in using this Mock framework for my usage as I don't want to mock and test the same set of objects in the same test method. Any help is much appreciated!</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9123,"page":869,"page_size":100}
