{"items":[{"tags":["java","design-patterns","singleton"],"answers":[{"tags":[],"owner":{"account_id":29332,"reputation":12535,"user_id":79207,"accept_rate":72,"display_name":"planetjones"},"down_vote_count":2,"up_vote_count":34,"is_accepted":true,"score":32,"last_activity_date":1551671315,"creation_date":1306237967,"answer_id":6109966,"question_id":6109896,"body_markdown":"I think Mr Pugh&#39;s version is held in high regard because it only performs the instantiation of the singleton when `getInstance()` is called i.e. not when the class (the class holding the getInstance method) is loaded.  If your singleton construction does something **costly** then this may be an advantage for you.  If you&#39;re like the majority of the world whose singletons are just to avoid static methods (and you haven&#39;t moved onto dependency injection frameworks), then I would not lose any sleep over it.  \r\n\r\nAs the article states, Mr Pugh&#39;s method is lazier than the static instance variable - but in reality if the Singleton class gets loaded you&#39;re going to be calling the getInstance method anyhow.  So as a computer science exercise it&#39;s useful, but in the real world its benefits are debatable.\r\n\r\np.s. I don&#39;t care much for Mr Bloch&#39;s example here as to use an enum would be to say My Singleton IS-A enum, which doesn&#39;t sound right to me (especially from someone who, rightly, says never implement an interface just to get the constants)","title":"Singleton pattern (Bill Pugh&#39;s solution)","body":"<p>I think Mr Pugh's version is held in high regard because it only performs the instantiation of the singleton when <code>getInstance()</code> is called i.e. not when the class (the class holding the getInstance method) is loaded.  If your singleton construction does something <strong>costly</strong> then this may be an advantage for you.  If you're like the majority of the world whose singletons are just to avoid static methods (and you haven't moved onto dependency injection frameworks), then I would not lose any sleep over it.  </p>\n\n<p>As the article states, Mr Pugh's method is lazier than the static instance variable - but in reality if the Singleton class gets loaded you're going to be calling the getInstance method anyhow.  So as a computer science exercise it's useful, but in the real world its benefits are debatable.</p>\n\n<p>p.s. I don't care much for Mr Bloch's example here as to use an enum would be to say My Singleton IS-A enum, which doesn't sound right to me (especially from someone who, rightly, says never implement an interface just to get the constants)</p>\n"},{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1636054010,"creation_date":1306238005,"answer_id":6109975,"question_id":6109896,"body_markdown":"The JLS guarantees that a class is only loaded when it&#39;s used for the first time (making the singleton initialization lazy), and that *the class loading* is thread-safe (making the `getInstance()` method thread-safe as well)\r\n\r\n**As for why thread-safe**\r\n\r\nBecause the first time getInstance() is called, the JVM will load the holder class. If another thread calls getInstance() concurrently, the JVM won&#39;t load the holder class a second time: it will wait for the first thread to have completed the class loading, and at the end of the loading and initialization of the holder class, both thread will see the holder class properly initialized and thus containing the unique singleton instance. ","title":"Singleton pattern (Bill Pugh&#39;s solution)","body":"<p>The JLS guarantees that a class is only loaded when it's used for the first time (making the singleton initialization lazy), and that <em>the class loading</em> is thread-safe (making the <code>getInstance()</code> method thread-safe as well)</p>\n<p><strong>As for why thread-safe</strong></p>\n<p>Because the first time getInstance() is called, the JVM will load the holder class. If another thread calls getInstance() concurrently, the JVM won't load the holder class a second time: it will wait for the first thread to have completed the class loading, and at the end of the loading and initialization of the holder class, both thread will see the holder class properly initialized and thus containing the unique singleton instance.</p>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1306238008,"creation_date":1306238008,"answer_id":6109976,"question_id":6109896,"body_markdown":"&gt; Is it because a static class is not\r\n&gt; load by the VM before it&#39;s actually\r\n&gt; used or something like this, so we\r\n&gt; don&#39;t create the object before we turn\r\n&gt; to the getInstance() method?\r\n\r\nCorrect.\r\n\r\n&gt; Also is that method thread safe only to the extent of initializing the object?\r\n\r\nIt ensures that only one instance is created and no client receives anything but a reference to that fully initialized instances.","title":"Singleton pattern (Bill Pugh&#39;s solution)","body":"<blockquote>\n  <p>Is it because a static class is not\n  load by the VM before it's actually\n  used or something like this, so we\n  don't create the object before we turn\n  to the getInstance() method?</p>\n</blockquote>\n\n<p>Correct.</p>\n\n<blockquote>\n  <p>Also is that method thread safe only to the extent of initializing the object?</p>\n</blockquote>\n\n<p>It ensures that only one instance is created and no client receives anything but a reference to that fully initialized instances.</p>\n"},{"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1519716641,"creation_date":1306238040,"answer_id":6109982,"question_id":6109896,"body_markdown":"&gt; Is it because a static class is not\r\n&gt; load by the VM before it&#39;s actually\r\n&gt; used\r\n\r\nNot just a static class, any class. Classes aren&#39;t loaded until they are referenced. See the JLS - [12.4.1 When Initialization Occurs][1]\r\n\r\n&gt;  or something like this, so we don&#39;t\r\n&gt; create the object before we turn to\r\n&gt; the getInstance() method?\r\n\r\nExactly.\r\n\r\n&gt; Also is that method thread safe only\r\n&gt; to the extent of initializing the\r\n&gt; object?\r\n\r\nHanding out a reference is thread-safe, so this method is always thread-safe, not just at creation time\r\n\r\n\r\n  [1]:https://docs.oracle.com/javase/specs/jls/se7/html/jls-12.html#12.4.1","title":"Singleton pattern (Bill Pugh&#39;s solution)","body":"<blockquote>\n  <p>Is it because a static class is not\n  load by the VM before it's actually\n  used</p>\n</blockquote>\n\n<p>Not just a static class, any class. Classes aren't loaded until they are referenced. See the JLS - <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-12.html#12.4.1\" rel=\"nofollow noreferrer\">12.4.1 When Initialization Occurs</a></p>\n\n<blockquote>\n  <p>or something like this, so we don't\n  create the object before we turn to\n  the getInstance() method?</p>\n</blockquote>\n\n<p>Exactly.</p>\n\n<blockquote>\n  <p>Also is that method thread safe only\n  to the extent of initializing the\n  object?</p>\n</blockquote>\n\n<p>Handing out a reference is thread-safe, so this method is always thread-safe, not just at creation time</p>\n"},{"tags":[],"owner":{"account_id":230362,"reputation":28310,"user_id":493928,"accept_rate":62,"display_name":"khachik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1306238153,"creation_date":1306238153,"answer_id":6110000,"question_id":6109896,"body_markdown":"The key part of the explanation is the following:\r\n\r\n&gt; The nested class is referenced no\r\n&gt; earlier (and therefore loaded no\r\n&gt; earlier by the class loader) than the\r\n&gt; moment that getInstance() is called.\r\n&gt; Thus, this solution is thread-safe\r\n&gt; without requiring special language\r\n&gt; constructs (i.e. volatile or\r\n&gt; synchronized).\r\n\r\nBill Pogh&#39;s solution provides laziness.","title":"Singleton pattern (Bill Pugh&#39;s solution)","body":"<p>The key part of the explanation is the following:</p>\n\n<blockquote>\n  <p>The nested class is referenced no\n  earlier (and therefore loaded no\n  earlier by the class loader) than the\n  moment that getInstance() is called.\n  Thus, this solution is thread-safe\n  without requiring special language\n  constructs (i.e. volatile or\n  synchronized).</p>\n</blockquote>\n\n<p>Bill Pogh's solution provides laziness.</p>\n"},{"tags":[],"owner":{"account_id":12204335,"reputation":1,"user_id":8907814,"display_name":"tanweer alam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630682505,"creation_date":1630410602,"answer_id":68998168,"question_id":6109896,"body_markdown":"Static inner class will contain the Singleton instance. It will create the Singleton instance when the static inner class is loaded into the memory. It doesn&#39;t require synchronization. \r\n\r\npublic class Singleton {\r\n\r\n    private Singleton (){}\r\n    \r\n    private static class SingletonHelper{\r\n        private static final Singleton INSTANCE = new Singleton ();\r\n    }\r\n    \r\n    public static Singleton getInstance(){\r\n        return SingletonHelper.INSTANCE;\r\n    }\r\n}","title":"Singleton pattern (Bill Pugh&#39;s solution)","body":"<p>Static inner class will contain the Singleton instance. It will create the Singleton instance when the static inner class is loaded into the memory. It doesn't require synchronization.</p>\n<p>public class Singleton {</p>\n<pre><code>private Singleton (){}\n\nprivate static class SingletonHelper{\n    private static final Singleton INSTANCE = new Singleton ();\n}\n\npublic static Singleton getInstance(){\n    return SingletonHelper.INSTANCE;\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":271763,"reputation":5445,"user_id":562465,"accept_rate":76,"display_name":"Rob Fox"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22123,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":6109966,"answer_count":6,"score":35,"last_activity_date":1636054010,"creation_date":1306237612,"question_id":6109896,"body_markdown":"I&#39;m reading wiki about the singleton pattern and I&#39;m not sure if I understand this: https://en.wikipedia.org/wiki/Initialization-on-demand_holder_idiom part of it correctly.\r\n\r\nSo to make it simple: **Why is Bill Pugh&#39;s solution better than the example above?**\r\n\r\nIs it because a static class is not load by the VM before it&#39;s actually used or something like this, so we don&#39;t create the object before we turn to the getInstance() method?\r\nAlso is that method thread safe only to the extent of initializing the object?","title":"Singleton pattern (Bill Pugh&#39;s solution)","body":"<p>I'm reading wiki about the singleton pattern and I'm not sure if I understand this: <a href=\"https://en.wikipedia.org/wiki/Initialization-on-demand_holder_idiom\" rel=\"noreferrer\">https://en.wikipedia.org/wiki/Initialization-on-demand_holder_idiom</a> part of it correctly.</p>\n\n<p>So to make it simple: <strong>Why is Bill Pugh's solution better than the example above?</strong></p>\n\n<p>Is it because a static class is not load by the VM before it's actually used or something like this, so we don't create the object before we turn to the getInstance() method?\nAlso is that method thread safe only to the extent of initializing the object?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":10891088,"reputation":876,"user_id":8006847,"accept_rate":81,"display_name":"markharrop"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636053867,"creation_date":1540664422,"answer_id":53024973,"question_id":53023461,"body_markdown":"I managed to figure this out. It ended up being because the Codelab application used in the tutorial was so old and outdated I needed to change a few things in the Gradle and manifest.\r\n\r\nIn the Gradle file I changed the build tools to a later version\r\n\r\n     classpath &#39;com.android.tools.build:gradle:3.2.1&#39;\r\n\r\nI updated the compiled version to 28 plus updated the support libraries. I also had to remove the unique app id and remove the target sdk from in manifest. Finally I updated the wrapper settings, and it started to work correctly.\r\n","title":"Error when importing file from Codelabs tutorial","body":"<p>I managed to figure this out. It ended up being because the Codelab application used in the tutorial was so old and outdated I needed to change a few things in the Gradle and manifest.</p>\n<p>In the Gradle file I changed the build tools to a later version</p>\n<pre><code> classpath 'com.android.tools.build:gradle:3.2.1'\n</code></pre>\n<p>I updated the compiled version to 28 plus updated the support libraries. I also had to remove the unique app id and remove the target sdk from in manifest. Finally I updated the wrapper settings, and it started to work correctly.</p>\n"}],"owner":{"account_id":10891088,"reputation":876,"user_id":8006847,"accept_rate":81,"display_name":"markharrop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":53024973,"answer_count":1,"score":0,"last_activity_date":1636053867,"creation_date":1540654168,"question_id":53023461,"body_markdown":"I&#39;m trying to use a CodeLab tutorial for adding Chromecast support. I&#39;ve downloaded the files and when I try to import them into Android Studio I get this error:\r\n\r\n&gt; No toolchains found in the NDK toolchains folder for ABI with prefix: mips64el-linux-android\r\n\r\nI&#39;m using the latest version of Android Studio and latest tool build and Gradle. What can I try to fix this error?","title":"Error when importing file from Codelabs tutorial","body":"<p>I'm trying to use a CodeLab tutorial for adding Chromecast support. I've downloaded the files and when I try to import them into Android Studio I get this error:</p>\n<blockquote>\n<p>No toolchains found in the NDK toolchains folder for ABI with prefix: mips64el-linux-android</p>\n</blockquote>\n<p>I'm using the latest version of Android Studio and latest tool build and Gradle. What can I try to fix this error?</p>\n"},{"tags":["java","regex","recursion"],"comments":[{"owner":{"account_id":1103657,"reputation":42407,"user_id":1231450,"accept_rate":87,"display_name":"Jan"},"score":0,"creation_date":1636060732,"post_id":69844253,"comment_id":123464282,"body_markdown":"It&#39;s probably easier to write yourself a little parser and count the parentheses here.","body":"It&#39;s probably easier to write yourself a little parser and count the parentheses here."}],"answers":[{"tags":[],"owner":{"account_id":3262389,"reputation":135,"user_id":2747692,"display_name":"Magyar D&#225;vid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636053475,"creation_date":1636052487,"answer_id":69844550,"question_id":69844253,"body_markdown":"I know it&#39;s not pretty, but it&#39;s your fault to use raw regex for this :)\r\n```java\r\n@Test\r\nvoid unwrapCIntCall() {\r\n    String input = &quot;ArrayNew(1) = adjustalpha(shadowcolor, CInt(Math.Truncate (ObjectToNumber (Me.bezierviewshadow.getTag))))&quot;;\r\n    String expectedOutput = &quot;ArrayNew(1) = adjustalpha(shadowcolor, Me.bezierviewshadow.getTag)&quot;;\r\n\r\n    String output = input.replaceAll(&quot;CInt\\\\s*\\\\(\\\\s*Math\\\\.Truncate\\\\s*\\\\(\\\\s*ObjectToNumber\\\\s*\\\\(\\\\s*(.*)\\\\s*\\\\)\\\\s*\\\\)\\\\s*\\\\)&quot;, &quot;$1&quot;);\r\n    assertEquals(expectedOutput, output);\r\n}\r\n```\r\nNow some explanation; the `\\\\s*` parts allow any number of any whitespace character, where they are. In the pattern, I used `(.*)` in the middle, which means I match anything there, but it&#39;s fine*. I used `(.*)` instead of `.*` so that particular section gets captured as capturing group `$1` (because `$0` is always the whole match). The interesting part being captured, I can refer them in the replacement string.\r\n\r\n**as long as you don&#39;t have multiple of such assignments within one string. Otherwise, you should break up the string into parts which contain only one such assignment and apply this replacement for each of those strings. Or, try `(.*?)` instead of `(.*)`, it compiles for me - AFAIK that makes the `.*` match as few characters as possible.*\r\n\r\nIf the methods actually being called vary, then replace their names in the regex with the variation you expect, like replace `CInt` with `(?CInt|CStr)`, `Math\\\\.Truncate` with `Math\\\\.(?Truncate|Random)` etc. (Using `(?` instead of `(` makes that group non-capturing, so they won&#39;t take up `$1`, `$2`, etc. slots).\r\n\r\nIf that gets too complicated, than you should really think whether you really want to do it with regex, or whether it&#39;d be easier to just write a relatively longer function with plain string methods, like `indexOf` and `substring` :)\r\n\r\nBonus; if absolutely everything varies, but the call depth, then you might try this one:\r\n```java\r\nString output = input.replaceAll(&quot;[\\\\w\\\\d.]+\\\\s*\\\\(\\\\s*[\\\\w\\\\d.]+\\\\s*\\\\(\\\\s*[\\\\w\\\\d.]+\\\\s*\\\\(\\\\s*(.*)\\\\s*\\\\)\\\\s*\\\\)\\\\s*\\\\)&quot;, &quot;$1&quot;);\r\n```\r\nYes, it&#39;s definitely a nightmare to read, but as far as I understand, you are after this monster :)\r\n\r\nYou can use `([^()]*)` instead of `(.*)` to prevent deeper nested expressions. Note, that fine control of depth is a real weakness of everyday regular expressions.","title":"Regex function to find specific depth in recursive","body":"<p>I know it's not pretty, but it's your fault to use raw regex for this :)</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid unwrapCIntCall() {\n    String input = &quot;ArrayNew(1) = adjustalpha(shadowcolor, CInt(Math.Truncate (ObjectToNumber (Me.bezierviewshadow.getTag))))&quot;;\n    String expectedOutput = &quot;ArrayNew(1) = adjustalpha(shadowcolor, Me.bezierviewshadow.getTag)&quot;;\n\n    String output = input.replaceAll(&quot;CInt\\\\s*\\\\(\\\\s*Math\\\\.Truncate\\\\s*\\\\(\\\\s*ObjectToNumber\\\\s*\\\\(\\\\s*(.*)\\\\s*\\\\)\\\\s*\\\\)\\\\s*\\\\)&quot;, &quot;$1&quot;);\n    assertEquals(expectedOutput, output);\n}\n</code></pre>\n<p>Now some explanation; the <code>\\\\s*</code> parts allow any number of any whitespace character, where they are. In the pattern, I used <code>(.*)</code> in the middle, which means I match anything there, but it's fine*. I used <code>(.*)</code> instead of <code>.*</code> so that particular section gets captured as capturing group <code>$1</code> (because <code>$0</code> is always the whole match). The interesting part being captured, I can refer them in the replacement string.</p>\n<p>*<em>as long as you don't have multiple of such assignments within one string. Otherwise, you should break up the string into parts which contain only one such assignment and apply this replacement for each of those strings. Or, try <code>(.*?)</code> instead of <code>(.*)</code>, it compiles for me - AFAIK that makes the <code>.*</code> match as few characters as possible.</em></p>\n<p>If the methods actually being called vary, then replace their names in the regex with the variation you expect, like replace <code>CInt</code> with <code>(?CInt|CStr)</code>, <code>Math\\\\.Truncate</code> with <code>Math\\\\.(?Truncate|Random)</code> etc. (Using <code>(?</code> instead of <code>(</code> makes that group non-capturing, so they won't take up <code>$1</code>, <code>$2</code>, etc. slots).</p>\n<p>If that gets too complicated, than you should really think whether you really want to do it with regex, or whether it'd be easier to just write a relatively longer function with plain string methods, like <code>indexOf</code> and <code>substring</code> :)</p>\n<p>Bonus; if absolutely everything varies, but the call depth, then you might try this one:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String output = input.replaceAll(&quot;[\\\\w\\\\d.]+\\\\s*\\\\(\\\\s*[\\\\w\\\\d.]+\\\\s*\\\\(\\\\s*[\\\\w\\\\d.]+\\\\s*\\\\(\\\\s*(.*)\\\\s*\\\\)\\\\s*\\\\)\\\\s*\\\\)&quot;, &quot;$1&quot;);\n</code></pre>\n<p>Yes, it's definitely a nightmare to read, but as far as I understand, you are after this monster :)</p>\n<p>You can use <code>([^()]*)</code> instead of <code>(.*)</code> to prevent deeper nested expressions. Note, that fine control of depth is a real weakness of everyday regular expressions.</p>\n"}],"owner":{"account_id":7423444,"reputation":238,"user_id":5647103,"display_name":"mohsyn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1636053475,"creation_date":1636051095,"question_id":69844253,"body_markdown":"I have the following scenario where I am supposed to use regex (Java/PCRE) on a line of code and strip off certain defined function and only strong the value of that function like in example below:\r\n\r\n**Input**\r\n```ArrayNew(1) = adjustalpha(shadowcolor, CInt(Math.Truncate (ObjectToNumber (Me.bezierviewshadow.getTag))))```\r\n\r\n**Output : Replace Regex**\r\n\r\n```ArrayNew(1) = adjustalpha(shadowcolor, Me.bezierviewshadow.getTag)```\r\n\r\nHere CInt, Math.Truncate, and ObjectToNumber is removed retaining on output as shown above\r\n\r\nThe functions CInt, Math.Truncate keep on changing to CStr or Math.Random etc etc so regex query can not be hardcoded.\r\n\r\n\r\nI tried a lot of options on stackoverflow but most did not work.\r\n\r\nAlso it would be nice if the query is customizable like Cint&lt;regex&gt; returns everything function CInt refers to. ( find a text then everything between first ( and ) ignoring balanced parenthesis pairs in between.","title":"Regex function to find specific depth in recursive","body":"<p>I have the following scenario where I am supposed to use regex (Java/PCRE) on a line of code and strip off certain defined function and only strong the value of that function like in example below:</p>\n<p><strong>Input</strong>\n<code>ArrayNew(1) = adjustalpha(shadowcolor, CInt(Math.Truncate (ObjectToNumber (Me.bezierviewshadow.getTag))))</code></p>\n<p><strong>Output : Replace Regex</strong></p>\n<p><code>ArrayNew(1) = adjustalpha(shadowcolor, Me.bezierviewshadow.getTag)</code></p>\n<p>Here CInt, Math.Truncate, and ObjectToNumber is removed retaining on output as shown above</p>\n<p>The functions CInt, Math.Truncate keep on changing to CStr or Math.Random etc etc so regex query can not be hardcoded.</p>\n<p>I tried a lot of options on stackoverflow but most did not work.</p>\n<p>Also it would be nice if the query is customizable like Cint returns everything function CInt refers to. ( find a text then everything between first ( and ) ignoring balanced parenthesis pairs in between.</p>\n"},{"tags":["java","mongodb","spring-boot","microservices","rest"],"comments":[{"owner":{"account_id":114737,"reputation":1746,"user_id":3719412,"display_name":"cool"},"score":0,"creation_date":1609256944,"post_id":65491140,"comment_id":115792086,"body_markdown":"can you add an example content? Most likely you are not passing id field correctly.","body":"can you add an example content? Most likely you are not passing id field correctly."},{"owner":{"account_id":19844808,"reputation":31,"user_id":14536690,"display_name":"Siva Kumar"},"score":0,"creation_date":1609416715,"post_id":65491140,"comment_id":115838349,"body_markdown":"Please see the content that is passed and the response","body":"Please see the content that is passed and the response"},{"owner":{"account_id":19844808,"reputation":31,"user_id":14536690,"display_name":"Siva Kumar"},"score":0,"creation_date":1609416721,"post_id":65491140,"comment_id":115838351,"body_markdown":"{\n\t&quot;_id&quot;: &quot;5fedba90e11a563ce37e9890&quot;,\n    &quot;expdate&quot;: &quot;12-24-2020&quot;,\n    &quot;exptyp&quot;: &quot;Biriyani Hub&quot;,\n    &quot;expamt&quot;: 0\n}","body":"{ \t&quot;_id&quot;: &quot;5fedba90e11a563ce37e9890&quot;,     &quot;expdate&quot;: &quot;12-24-2020&quot;,     &quot;exptyp&quot;: &quot;Biriyani Hub&quot;,     &quot;expamt&quot;: 0 }"},{"owner":{"account_id":19844808,"reputation":31,"user_id":14536690,"display_name":"Siva Kumar"},"score":0,"creation_date":1609416738,"post_id":65491140,"comment_id":115838354,"body_markdown":"{\n    &quot;expdate&quot;: &quot;12-24-2020&quot;,\n    &quot;exptyp&quot;: &quot;Biriyani Hub&quot;,\n    &quot;expamt&quot;: 0\n}","body":"{     &quot;expdate&quot;: &quot;12-24-2020&quot;,     &quot;exptyp&quot;: &quot;Biriyani Hub&quot;,     &quot;expamt&quot;: 0 }"}],"answers":[{"tags":[],"owner":{"account_id":23241566,"reputation":21,"user_id":17330793,"display_name":"insular"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636053219,"creation_date":1636053219,"answer_id":69844681,"question_id":65491140,"body_markdown":"I think it creates a new object, because you are just passing it right to the repo.save(). \r\n\r\nFirst you should find an existing myDataExpense, and modify/update it, and then call the repository.save().\r\n\r\nFyi you also could do something like this with mongoTemplate.\r\n\r\n    Query query = Query.query(Criteria.where(&quot;&lt;id attribute name of your myDataExpense Document&gt;&quot;).is(exp.getId);\r\n    Update update = new Update().set(&quot;.....$&quot;, exp);\r\n    mongoTemplate.updateFirst(query, update, myDataExpense.class);\r\n\r\n","title":"PUTMAPPING JAVA SPRING BOOT MONGODB REST API - update not working but creating a new entry","body":"<p>I think it creates a new object, because you are just passing it right to the repo.save().</p>\n<p>First you should find an existing myDataExpense, and modify/update it, and then call the repository.save().</p>\n<p>Fyi you also could do something like this with mongoTemplate.</p>\n<pre><code>Query query = Query.query(Criteria.where(&quot;&lt;id attribute name of your myDataExpense Document&gt;&quot;).is(exp.getId);\nUpdate update = new Update().set(&quot;.....$&quot;, exp);\nmongoTemplate.updateFirst(query, update, myDataExpense.class);\n</code></pre>\n"}],"owner":{"account_id":19844808,"reputation":31,"user_id":14536690,"display_name":"Siva Kumar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":502,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636053219,"creation_date":1609239987,"question_id":65491140,"body_markdown":"when trying to update an existing entry in mongo db table, using PostMapping and PUT request, everytime i try to update a new entry is created in the table..\r\n\r\nThe following is my code\r\ncontroller\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/expenses&quot;)\r\n    public class mydataExpController {\r\n    \r\n    @PutMapping(&quot;/&quot;)\r\n    \tpublic mydataExpense updExpenses(@RequestBody mydataExpense exp){\r\n    \t\treturn expenseServices.updData(exp);\r\n    \t\t\r\n    }\r\n\r\nservice\r\n\r\n    @Service\r\n    public class ExpenseServices {\r\n    \t@Autowired\r\n    \tmydataExpRepository mydataexprepository;\r\n    \r\n    public mydataExpense updData(mydataExpense exp) {\r\n    \t\treturn mydataexprepository.save(exp);\r\n    \t}\r\n\r\n\r\n\r\nrepository\r\n\r\n    @Repository\r\n    public interface mydataExpRepository extends MongoRepository&lt;mydataExpense, String&gt; {\r\n    \t\r\n    \r\n    }\r\n\r\n\r\nIn postman\r\n\r\n    connection →keep-alive\r\n    content-type →application/json\r\n    date →Tue, 29 Dec 2020 10:54:51 GMT\r\n    keep-alive →timeout=60\r\n    transfer-encoding →chunked\r\n\r\n\r\neverytime i execute http://localhost:8080/expenses/ with PUT\r\n\r\na new entry is created in the database\r\n\r\n\r\n","title":"PUTMAPPING JAVA SPRING BOOT MONGODB REST API - update not working but creating a new entry","body":"<p>when trying to update an existing entry in mongo db table, using PostMapping and PUT request, everytime i try to update a new entry is created in the table..</p>\n<p>The following is my code\ncontroller</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/expenses&quot;)\npublic class mydataExpController {\n\n@PutMapping(&quot;/&quot;)\n    public mydataExpense updExpenses(@RequestBody mydataExpense exp){\n        return expenseServices.updData(exp);\n        \n}\n</code></pre>\n<p>service</p>\n<pre><code>@Service\npublic class ExpenseServices {\n    @Autowired\n    mydataExpRepository mydataexprepository;\n\npublic mydataExpense updData(mydataExpense exp) {\n        return mydataexprepository.save(exp);\n    }\n</code></pre>\n<p>repository</p>\n<pre><code>@Repository\npublic interface mydataExpRepository extends MongoRepository&lt;mydataExpense, String&gt; {\n    \n\n}\n</code></pre>\n<p>In postman</p>\n<pre><code>connection →keep-alive\ncontent-type →application/json\ndate →Tue, 29 Dec 2020 10:54:51 GMT\nkeep-alive →timeout=60\ntransfer-encoding →chunked\n</code></pre>\n<p>everytime i execute http://localhost:8080/expenses/ with PUT</p>\n<p>a new entry is created in the database</p>\n"},{"tags":["java","sql","methods","symbols"],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299866,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636049850,"creation_date":1636049850,"answer_id":69844001,"question_id":69843961,"body_markdown":"Names (specifically, in this case, method names) in Java are case sensitive. The methods are called `prepareStatement` and `createStatement`, respectively, with lower case first letters.","title":"I can&#39;t resolve my Java Error symbol method PreparedStatement","body":"<p>Names (specifically, in this case, method names) in Java are case sensitive. The methods are called <code>prepareStatement</code> and <code>createStatement</code>, respectively, with lower case first letters.</p>\n"}],"owner":{"account_id":21427662,"reputation":1,"user_id":15784705,"display_name":"Fiatpanda2000"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":406,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1636053226,"answer_count":1,"score":-1,"last_activity_date":1636053218,"creation_date":1636049679,"question_id":69843961,"body_markdown":"I&#39;m currently trying to connect my first database with Java. I&#39;ve followed a tutorial but I still have 3 errors that I&#39;m unable to deal with. It seems to be common errors but none of the methods that I&#39;ve seen have worked until now. \r\n\r\nI show you first my imports : \r\n\r\n    import com.sun.jdi.connect.spi.Connection;\r\n    import javax.swing.*;\r\n    import javax.swing.table.DefaultTableModel;\r\n    import java.awt.event.ActionEvent;\r\n    import java.sql.DriverManager;\r\n    import java.sql.PreparedStatement;\r\n    import java.sql.ResultSet;\r\n    import java.sql.Statement;` \r\n\r\nThen I show you the place inn the code where the error seems to occur : \r\n\r\n            try {\r\n            Class.forName(&quot;org.sqlite.JDBC&quot;);\r\n            String url = &quot;jdbc:sqlite:biblio.db&quot;;\r\n            String name = &quot;root&quot;;\r\n            String pass = &quot;&quot;;\r\n            con = (Connection) DriverManager.getConnection(url, name, pass);\r\n            String sql = &quot;insert into Clients (id, nom, prenom, date_naissance, nationalite) values (?,?,?,?,?)&quot;;\r\n            pst = con.PreparedStatement(sql);\r\n            pst.setString(2,txtnom.getText());\r\n            pst.setString(3,txtprenom.getText());\r\n            pst.setString(4,txtdatedenaissance.getText());\r\n            pst.setString(5,txtnationalite.getText());\r\n            pst.executeUpdate();\r\n            con.close();\r\n            JOptionPane.showMessageDialog(null,&quot;Enregistrement r&#233;ussi&quot;);\r\n            TableClients();\r\n        }catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nAnd the second block is : \r\n\r\n\r\n\r\n            try{\r\n            Class.forName(&quot;org.sqlite.JDBC&quot;);\r\n            String url = &quot;jdbc:sqlite:biblio.db&quot;;\r\n            String name = &quot;root&quot;;\r\n            String pass = &quot;&quot;;\r\n            con = (Connection) DriverManager.getConnection(url, name, pass);\r\n            Statement st = con.CreateStatement();\r\n            rs = st.executeQuery(sql);\r\n\r\n\r\nYou can see what are the errors with the screenshot [Screenshot of the error][1]\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XQn5B.png\r\n\r\n\r\nBasically, it can&#39;t find the two methods (PreparedStatements and CreateStatements) used and I can&#39;t figure out why. \r\nDoes anyone know how to fix that ? \r\n\r\nThanks for your time and I hope I&#39;ve respect the due format on Stack.","title":"I can&#39;t resolve my Java Error symbol method PreparedStatement","body":"<p>I'm currently trying to connect my first database with Java. I've followed a tutorial but I still have 3 errors that I'm unable to deal with. It seems to be common errors but none of the methods that I've seen have worked until now.</p>\n<p>I show you first my imports :</p>\n<pre><code>import com.sun.jdi.connect.spi.Connection;\nimport javax.swing.*;\nimport javax.swing.table.DefaultTableModel;\nimport java.awt.event.ActionEvent;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.Statement;` \n</code></pre>\n<p>Then I show you the place inn the code where the error seems to occur :</p>\n<pre><code>        try {\n        Class.forName(&quot;org.sqlite.JDBC&quot;);\n        String url = &quot;jdbc:sqlite:biblio.db&quot;;\n        String name = &quot;root&quot;;\n        String pass = &quot;&quot;;\n        con = (Connection) DriverManager.getConnection(url, name, pass);\n        String sql = &quot;insert into Clients (id, nom, prenom, date_naissance, nationalite) values (?,?,?,?,?)&quot;;\n        pst = con.PreparedStatement(sql);\n        pst.setString(2,txtnom.getText());\n        pst.setString(3,txtprenom.getText());\n        pst.setString(4,txtdatedenaissance.getText());\n        pst.setString(5,txtnationalite.getText());\n        pst.executeUpdate();\n        con.close();\n        JOptionPane.showMessageDialog(null,&quot;Enregistrement réussi&quot;);\n        TableClients();\n    }catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>And the second block is :</p>\n<pre><code>        try{\n        Class.forName(&quot;org.sqlite.JDBC&quot;);\n        String url = &quot;jdbc:sqlite:biblio.db&quot;;\n        String name = &quot;root&quot;;\n        String pass = &quot;&quot;;\n        con = (Connection) DriverManager.getConnection(url, name, pass);\n        Statement st = con.CreateStatement();\n        rs = st.executeQuery(sql);\n</code></pre>\n<p>You can see what are the errors with the screenshot <a href=\"https://i.stack.imgur.com/XQn5B.png\" rel=\"nofollow noreferrer\">Screenshot of the error</a></p>\n<p>Basically, it can't find the two methods (PreparedStatements and CreateStatements) used and I can't figure out why.\nDoes anyone know how to fix that ?</p>\n<p>Thanks for your time and I hope I've respect the due format on Stack.</p>\n"},{"tags":["java","decode","web3-java"],"comments":[{"owner":{"account_id":9856716,"reputation":138,"user_id":9430751,"display_name":"Willy Wonka"},"score":0,"creation_date":1547047264,"post_id":54113260,"comment_id":95058967,"body_markdown":"Perhaps the encoding is wrong. Try others, like US-ASCII. Namely, try this System.out.println(new String(bytes, &quot;US-ASCII&quot;))","body":"Perhaps the encoding is wrong. Try others, like US-ASCII. Namely, try this System.out.println(new String(bytes, &quot;US-ASCII&quot;))"},{"owner":{"account_id":11135610,"reputation":163,"user_id":10841043,"display_name":"Nicolas Flores Mu&#241;oz"},"score":0,"creation_date":1547162134,"post_id":54113260,"comment_id":95108039,"body_markdown":"I did it as your suggestion and I get this &quot;&#200;;`Q&#242;&#160;&#224; `&#160;&#224; `&#160;1juan12.456.123-9Inacap45.566.963-8\nodontologo0xasdasetcdasdaetc120920198232358&quot; :/","body":"I did it as your suggestion and I get this &quot;&#200;;<code>Q&#242; &#224; </code> &#224; ` 1juan12.456.123-9Inacap45.566.963-8 odontologo0xasdasetcdasdaetc120920198232358&quot; :/"},{"owner":{"account_id":384861,"reputation":5142,"user_id":741657,"accept_rate":62,"display_name":"Kev"},"score":0,"creation_date":1646680121,"post_id":54113260,"comment_id":126179062,"body_markdown":"Have you ever found a way?","body":"Have you ever found a way?"}],"answers":[{"tags":[],"owner":{"account_id":21147167,"reputation":283,"user_id":15548230,"display_name":"BJonas88"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636053172,"creation_date":1636053172,"answer_id":69844673,"question_id":54113260,"body_markdown":"I&#39;m not savvy with nodeJS but here&#39;s how to do it in python in case.\r\n```\r\ntxn = web3.eth.get_transaction(txHash)                                  \r\ntxnInput = routerContract.decode_function_input(txn.input) \r\nprint(txnInput)\r\n```","title":"How could I decode the input data of a transaction?","body":"<p>I'm not savvy with nodeJS but here's how to do it in python in case.</p>\n<pre><code>txn = web3.eth.get_transaction(txHash)                                  \ntxnInput = routerContract.decode_function_input(txn.input) \nprint(txnInput)\n</code></pre>\n"}],"owner":{"account_id":11135610,"reputation":163,"user_id":10841043,"display_name":"Nicolas Flores Mu&#241;oz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1719,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1636053172,"creation_date":1547047182,"question_id":54113260,"body_markdown":"I&#39;m using web3j in java to get the input data of a transaction. I can get the data, but the problem is how can I decode this data.\r\n\r\nInput data: &quot;0x070ec83b000000000000000000000000000000000000000000000000000000000000016000000000000000000000000000000000000000000000000000000000015118f200000000000000000000000000000000000000000000000000000000000001a000000000000000000000000000000000000000000000000000000000000001e00000000000000000000000000000000000000000000000000..........&quot;\r\n\r\n    String inputdata = null;\r\n\r\n    Optional&lt;Transaction&gt; tx = web3.ethGetTransactionByHash(txHash).send().getTransaction();\r\n\r\n    if (tx.isPresent()) {\r\n        inputdata = tx.get().getInput();\r\n    }\r\n    \r\n    //DECODE\r\n\r\n    byte[] bytes = Hex.decodeHex(inputdata.substring(2).toCharArray());\r\n    System.out.println(new String(bytes, &quot;UTF-8&quot;));\r\n\r\nWhen you execute the code what you get is a variety of characters.\r\n\r\n[output][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/znWvT.png","title":"How could I decode the input data of a transaction?","body":"<p>I'm using web3j in java to get the input data of a transaction. I can get the data, but the problem is how can I decode this data.</p>\n\n<p>Input data: \"0x070ec83b000000000000000000000000000000000000000000000000000000000000016000000000000000000000000000000000000000000000000000000000015118f200000000000000000000000000000000000000000000000000000000000001a000000000000000000000000000000000000000000000000000000000000001e00000000000000000000000000000000000000000000000000..........\"</p>\n\n<pre><code>String inputdata = null;\n\nOptional&lt;Transaction&gt; tx = web3.ethGetTransactionByHash(txHash).send().getTransaction();\n\nif (tx.isPresent()) {\n    inputdata = tx.get().getInput();\n}\n\n//DECODE\n\nbyte[] bytes = Hex.decodeHex(inputdata.substring(2).toCharArray());\nSystem.out.println(new String(bytes, \"UTF-8\"));\n</code></pre>\n\n<p>When you execute the code what you get is a variety of characters.</p>\n\n<p><a href=\"https://i.stack.imgur.com/znWvT.png\" rel=\"nofollow noreferrer\">output</a></p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1636051032,"post_id":69844170,"comment_id":123461078,"body_markdown":"The super POM is basically `java.lang.Object`.","body":"The super POM is basically <code>java.lang.Object</code>."},{"owner":{"account_id":6186008,"reputation":3119,"user_id":4820101,"accept_rate":24,"display_name":"samshers"},"score":0,"creation_date":1636054204,"post_id":69844170,"comment_id":123462268,"body_markdown":"@chrylis-cautiouslyoptimistic- that answers everthing. ++100","body":"@chrylis-cautiouslyoptimistic- that answers everthing. ++100"}],"answers":[{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636050951,"creation_date":1636050951,"answer_id":69844228,"question_id":69844170,"body_markdown":"Option 2, because **all** models implicitly inherit from the [Super POM][1].\r\n\r\n`deps` is a `parent` for `deps`, but not the Super POM.\r\nThis is according to the definitions on the website.\r\n\r\nWhat is more ... if you inspect the effective POM, you will see that it will always inherit from the Super POM on the MVN website.\r\n\r\n  [1]: https://maven.apache.org/ref/3.0.4/maven-model-builder/super-pom.html","title":"Parent POM vs Super POM - are they same?","body":"<p>Option 2, because <strong>all</strong> models implicitly inherit from the <a href=\"https://maven.apache.org/ref/3.0.4/maven-model-builder/super-pom.html\" rel=\"nofollow noreferrer\">Super POM</a>.</p>\n<p><code>deps</code> is a <code>parent</code> for <code>deps</code>, but not the Super POM.\nThis is according to the definitions on the website.</p>\n<p>What is more ... if you inspect the effective POM, you will see that it will always inherit from the Super POM on the MVN website.</p>\n"}],"owner":{"account_id":6186008,"reputation":3119,"user_id":4820101,"accept_rate":24,"display_name":"samshers"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":453,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69844228,"answer_count":1,"score":1,"last_activity_date":1636053137,"creation_date":1636050653,"question_id":69844170,"body_markdown":"I want to understand if Parent POM and Super POM are same or are there still differences.\r\n\r\nTake below maven poms, I declare a parent pom as below:\r\n\r\n```xml\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.demo&lt;/groupId&gt;\r\n    &lt;artifactId&gt;deps&lt;/artifactId&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;dependencyManagement&gt;\r\n            &lt;dependencies&gt;    \r\n                   &lt;!-- not relevant for this question --&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n                &lt;version&gt;5.3.12&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nNow I declare a child pom as below: \r\n\r\n```xml\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.demo&lt;/groupId&gt;\r\n    &lt;artifactId&gt;deps2&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;parent&gt;\r\n       &lt;groupId&gt;com.demo&lt;/groupId&gt;\r\n       &lt;artifactId&gt;deps&lt;/artifactId&gt;\r\n       &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    &lt;dependencies&gt;\r\n                           &lt;!-- not relevant for this question --&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nNow `deps` is the parent pom for `deps2`. I am not sure if I can also call `deps` as super pom for `deps2`.\r\n\r\nWhich of the below inheritance hierarchy is correct   \r\n\r\n 1. dep2 --&gt; deps ***end*** (NO Maven provided super pom)\r\n 2. dep2 --&gt; deps --&gt; Maven provided super pom ***end***\r\n\r\n","title":"Parent POM vs Super POM - are they same?","body":"<p>I want to understand if Parent POM and Super POM are same or are there still differences.</p>\n<p>Take below maven poms, I declare a parent pom as below:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.demo&lt;/groupId&gt;\n    &lt;artifactId&gt;deps&lt;/artifactId&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;dependencyManagement&gt;\n            &lt;dependencies&gt;    \n                   &lt;!-- not relevant for this question --&gt;\n            &lt;/dependencies&gt;\n        &lt;/dependencyManagement&gt;\n    &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n                &lt;version&gt;5.3.12&lt;/version&gt;\n            &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Now I declare a child pom as below:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.demo&lt;/groupId&gt;\n    &lt;artifactId&gt;deps2&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;parent&gt;\n       &lt;groupId&gt;com.demo&lt;/groupId&gt;\n       &lt;artifactId&gt;deps&lt;/artifactId&gt;\n       &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;dependencies&gt;\n                           &lt;!-- not relevant for this question --&gt;\n\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Now <code>deps</code> is the parent pom for <code>deps2</code>. I am not sure if I can also call <code>deps</code> as super pom for <code>deps2</code>.</p>\n<p>Which of the below inheritance hierarchy is correct</p>\n<ol>\n<li>dep2 --&gt; deps <em><strong>end</strong></em> (NO Maven provided super pom)</li>\n<li>dep2 --&gt; deps --&gt; Maven provided super pom <em><strong>end</strong></em></li>\n</ol>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1636053042,"post_id":69844606,"comment_id":123461833,"body_markdown":"Did you `import java.util.*;` ?","body":"Did you <code>import java.util.*;</code> ?"},{"owner":{"account_id":23241546,"reputation":1,"user_id":17330780,"display_name":"adnane qsdsq"},"score":0,"creation_date":1636053129,"post_id":69844606,"comment_id":123461865,"body_markdown":"yes i did import java.util.*;","body":"yes i did import java.util.*;"},{"owner":{"account_id":23241546,"reputation":1,"user_id":17330780,"display_name":"adnane qsdsq"},"score":0,"creation_date":1636053322,"post_id":69844606,"comment_id":123461936,"body_markdown":"whe i add private ArrayList&lt;String&gt; liste = &quot;new ArrayList&lt;String&gt;()&quot; line 4 it works but i wanna know why can yu please explain to me","body":"whe i add private ArrayList&lt;String&gt; liste = &quot;new ArrayList&lt;String&gt;()&quot; line 4 it works but i wanna know why can yu please explain to me"},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":1,"creation_date":1636053760,"post_id":69844606,"comment_id":123462104,"body_markdown":"`private ArrayList&lt;String&gt; liste = new ArrayList&lt;String&gt;();` creates the list. Without it, `liste` doesn&#39;t &quot;exist&quot;.","body":"<code>private ArrayList&lt;String&gt; liste = new ArrayList&lt;String&gt;();</code> creates the list. Without it, <code>liste</code> doesn&#39;t &quot;exist&quot;."}],"owner":{"account_id":23241546,"reputation":1,"user_id":17330780,"display_name":"adnane qsdsq"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1636201082,"answer_count":0,"score":0,"last_activity_date":1636052991,"creation_date":1636052860,"question_id":69844606,"body_markdown":"I have a class that has an arraylist of string as private attribute and a public add method.\r\n\r\nThe code is below.\r\n```\r\nclass C1{\r\n    private int nb;\r\n    private ArrayList&lt;String&gt; liste;\r\n    public C1(int nb){ this.nb = nb; }\r\n    public void add(String s) { liste.add(s); }\r\n}\r\npublic class HelloWorld{\r\n     public static void main(String []args){\r\n         C1 c1 = new C1(0);\r\n        c1.add(&quot;TOTO&quot;);\r\n     }\r\n}\r\n```\r\nthis is the error : \r\n```none\r\nHelloWorld.java:3: error: cannot find symbol  \r\n  private ArrayList&lt;String&gt; liste;\r\n          ^\r\n  symbol:   class ArrayList\r\n  location: class C1\r\n1 error\r\n```","title":"error: cannot find symbol and how to create and add string to an arraylist","body":"<p>I have a class that has an arraylist of string as private attribute and a public add method.</p>\n<p>The code is below.</p>\n<pre><code>class C1{\n    private int nb;\n    private ArrayList&lt;String&gt; liste;\n    public C1(int nb){ this.nb = nb; }\n    public void add(String s) { liste.add(s); }\n}\npublic class HelloWorld{\n     public static void main(String []args){\n         C1 c1 = new C1(0);\n        c1.add(&quot;TOTO&quot;);\n     }\n}\n</code></pre>\n<p>this is the error :</p>\n<pre class=\"lang-none prettyprint-override\"><code>HelloWorld.java:3: error: cannot find symbol  \n  private ArrayList&lt;String&gt; liste;\n          ^\n  symbol:   class ArrayList\n  location: class C1\n1 error\n</code></pre>\n"},{"tags":["java","swing","rotation","polygon","affinetransform"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1636046174,"post_id":69842931,"comment_id":123459310,"body_markdown":"In `createPolygon()` the source and destination are set to the same array. The documentation for [`AffineTransform::transform`](https://docs.oracle.com/javase/9/docs/api/java/awt/geom/AffineTransform.html#transform-java.awt.geom.Point2D:A-int-java.awt.geom.Point2D:A-int-int-) states that &quot;If, however, the destination Point2D object for one operation is the same object as the source Point2D object for another operation further down the source array then the original coordinates in that point are overwritten before they can be converted.&quot;","body":"In <code>createPolygon()</code> the source and destination are set to the same array. The documentation for <a href=\"https://docs.oracle.com/javase/9/docs/api/java/awt/geom/AffineTransform.html#transform-java.awt.geom.Point2D:A-int-java.awt.geom.Point2D:A-int-int-\" rel=\"nofollow noreferrer\"><code>AffineTransform::transform</code></a> states that &quot;If, however, the destination Point2D object for one operation is the same object as the source Point2D object for another operation further down the source array then the original coordinates in that point are overwritten before they can be converted.&quot;"},{"owner":{"account_id":20325805,"reputation":117,"user_id":14909278,"display_name":"mousekip"},"score":0,"creation_date":1636047503,"post_id":69842931,"comment_id":123459817,"body_markdown":"@DavidConrad Ok but how would I change that? I have just tried using points.copy() on both source and dest, but that did not work any better. When I only set the value of source to points and just let dest be it throws a NullPointerException and when I only set the value of source to points but this time set dest = new Point[source.length] it throws an ArrayStoreException.","body":"@DavidConrad Ok but how would I change that? I have just tried using points.copy() on both source and dest, but that did not work any better. When I only set the value of source to points and just let dest be it throws a NullPointerException and when I only set the value of source to points but this time set dest = new Point[source.length] it throws an ArrayStoreException."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1636052430,"post_id":69842931,"comment_id":123461611,"body_markdown":"Sorry, I see from the answers that that apparently was not the problem.","body":"Sorry, I see from the answers that that apparently was not the problem."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1636052873,"post_id":69842931,"comment_id":123461767,"body_markdown":"Don&#39;t extend JLabel for custom painting. Instead you should extend JPanel or JComponent. Also the &quot;Shapes&quot; you want to paint should be contained in an ArrayList. Then the paintComponent() method will iterated through the ArrayList to paint each Shape. See: https://stackoverflow.com/questions/67443343/drag-a-painted-shape for a simple example of this approach. This will make it easier for your &quot;hit detection&quot; logic as well.","body":"Don&#39;t extend JLabel for custom painting. Instead you should extend JPanel or JComponent. Also the &quot;Shapes&quot; you want to paint should be contained in an ArrayList. Then the paintComponent() method will iterated through the ArrayList to paint each Shape. See: <a href=\"https://stackoverflow.com/questions/67443343/drag-a-painted-shape\" title=\"drag a painted shape\">stackoverflow.com/questions/67443343/drag-a-painted-shape</a> for a simple example of this approach. This will make it easier for your &quot;hit detection&quot; logic as well."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636048387,"creation_date":1636047543,"answer_id":69843552,"question_id":69842931,"body_markdown":"This works with your AffineTransform.  It returns a transformed shape instead of modifying the coordinates.  I also recommend:\r\n- `JFrame.setLocationRelativeTo(null);` for centering on screen.\r\n- Use `RenderingHints` with Antialiasing on to smooth out the graphics.\r\n- Since Polygon implements Shape, a few locations needed to be retyped.\r\n```\r\nclass Text extends JLabel{\r\n\r\n    Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();\r\n\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    Shape poly;\r\n\r\n    Point center;\r\n    Point source[];\r\n    Point dest[];\r\n\r\n    JFrame jf;\r\n\r\n    public static void main(String[] args) {\r\n    \tnew Text();\r\n    }\r\n    public Text() {\r\n\r\n        init();\r\n        createPolygon();\r\n\r\n        Timer timer = new Timer(20, new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                rotatePoly();\r\n                repaint();\r\n            }});\r\n        timer.start();\r\n    }\r\n    public void rotatePoly() {\r\n\r\n        AffineTransform transf = \r\n        AffineTransform.getRotateInstance(Math.toRadians(2), center.x, center.y);\r\n        poly = transf.createTransformedShape(poly);\r\n\r\n    }\r\n    public Shape toPolygon(Point[] points) {\r\n\r\n        Polygon polygon = new Polygon();\r\n\r\n        for (int i = 0; i &lt; points.length; i++) {\r\n            polygon.addPoint(points[i].x, points[i].y);\r\n        }\r\n        return polygon;\r\n    }\r\n    public void createPolygon() {\r\n\r\n        Point points[] = new Point[7];\r\n\r\n        points[0] = new Point(20, 97);\r\n        points[1] = new Point(82, 70);\r\n        points[2] = new Point(134, 70);\r\n        points[3] = new Point(210, 88);\r\n        points[4] = new Point(210, 106);\r\n        points[5] = new Point(144, 125);\r\n        points[6] = new Point(82, 125);\r\n\r\n        source = points;\r\n        dest = points;\r\n\r\n        poly = toPolygon(points);\r\n\r\n        center = new Point(poly.getBounds().x + poly.getBounds().width / 2, poly.getBounds().y + poly.getBounds().height / 2);\r\n\r\n    }\r\n    public void init() {\r\n\r\n        setVisible(true);\r\n        setSize(260, 260);\r\n\r\n        jf = new JFrame();\r\n        jf.setVisible(true);\r\n        jf.setSize(260, 260);\r\n        jf.setContentPane(new JLabel());\r\n        jf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        jf.setLocation((screenSize.width / 2) - (getWidth() / 2), (screenSize.height / 2) - (getHeight() / 2));\r\n        jf.add(this);\r\n\r\n    }\r\n    @Override\r\n    public void paintComponent(Graphics g) {\r\n\r\n        super.paintComponent(g);\r\n        Graphics2D g2d = (Graphics2D) g;\r\n        g2d.setColor(Color.RED);\r\n\r\n        g2d.draw(poly);\r\n\r\n    }\r\n}\r\n","title":"Java rotating a Polgon deforms it","body":"<p>This works with your AffineTransform.  It returns a transformed shape instead of modifying the coordinates.  I also recommend:</p>\n<ul>\n<li><code>JFrame.setLocationRelativeTo(null);</code> for centering on screen.</li>\n<li>Use <code>RenderingHints</code> with Antialiasing on to smooth out the graphics.</li>\n<li>Since Polygon implements Shape, a few locations needed to be retyped.</li>\n</ul>\n<pre><code>class Text extends JLabel{\n\n    Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();\n\n    private static final long serialVersionUID = 1L;\n\n    Shape poly;\n\n    Point center;\n    Point source[];\n    Point dest[];\n\n    JFrame jf;\n\n    public static void main(String[] args) {\n        new Text();\n    }\n    public Text() {\n\n        init();\n        createPolygon();\n\n        Timer timer = new Timer(20, new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                rotatePoly();\n                repaint();\n            }});\n        timer.start();\n    }\n    public void rotatePoly() {\n\n        AffineTransform transf = \n        AffineTransform.getRotateInstance(Math.toRadians(2), center.x, center.y);\n        poly = transf.createTransformedShape(poly);\n\n    }\n    public Shape toPolygon(Point[] points) {\n\n        Polygon polygon = new Polygon();\n\n        for (int i = 0; i &lt; points.length; i++) {\n            polygon.addPoint(points[i].x, points[i].y);\n        }\n        return polygon;\n    }\n    public void createPolygon() {\n\n        Point points[] = new Point[7];\n\n        points[0] = new Point(20, 97);\n        points[1] = new Point(82, 70);\n        points[2] = new Point(134, 70);\n        points[3] = new Point(210, 88);\n        points[4] = new Point(210, 106);\n        points[5] = new Point(144, 125);\n        points[6] = new Point(82, 125);\n\n        source = points;\n        dest = points;\n\n        poly = toPolygon(points);\n\n        center = new Point(poly.getBounds().x + poly.getBounds().width / 2, poly.getBounds().y + poly.getBounds().height / 2);\n\n    }\n    public void init() {\n\n        setVisible(true);\n        setSize(260, 260);\n\n        jf = new JFrame();\n        jf.setVisible(true);\n        jf.setSize(260, 260);\n        jf.setContentPane(new JLabel());\n        jf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        jf.setLocation((screenSize.width / 2) - (getWidth() / 2), (screenSize.height / 2) - (getHeight() / 2));\n        jf.add(this);\n\n    }\n    @Override\n    public void paintComponent(Graphics g) {\n\n        super.paintComponent(g);\n        Graphics2D g2d = (Graphics2D) g;\n        g2d.setColor(Color.RED);\n\n        g2d.draw(poly);\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636050814,"creation_date":1636049731,"answer_id":69843972,"question_id":69842931,"body_markdown":"The problem is mostly caused by using integer coordinates for the polygon.   \r\nInstead of accumulating the rotations in the polygon itself, use a variable to hold the angle and calculate a new polygon based on the original one every time the angle is changed. The original polygon is not changed.\r\n\r\nI tried to maintain the original code as much as possible&lt;sup&gt;**1**&lt;/sup&gt;:\r\n\r\n````java\r\npackage cfh.test.sf;\r\n\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.Point;\r\nimport java.awt.Polygon;\r\nimport java.awt.Shape;\r\nimport java.awt.Toolkit;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.geom.AffineTransform;\r\n\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.Timer;\r\n\r\npublic class PolygonTest extends JLabel{\r\n\r\n    public static void main(String[] args) {\r\n        new PolygonTest();\r\n    }\r\n    Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();\r\n\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    Polygon poly;\r\n    Shape rotated;\r\n    Point center;\r\n    int angle = 0;\r\n\r\n    JFrame jf;\r\n\r\n    public PolygonTest() {\r\n\r\n        init();\r\n        createPolygon();\r\n\r\n        Timer timer = new Timer(20, new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                rotatePoly();\r\n                repaint();\r\n            }});\r\n        timer.start();\r\n    }\r\n    public void rotatePoly() {\r\n        angle += 2;\r\n        AffineTransform transf = AffineTransform.getRotateInstance(Math.toRadians(angle), center.x, center.y);\r\n        rotated = transf.createTransformedShape(poly);\r\n    }\r\n    public Polygon toPolygon(Point[] points) {\r\n\r\n        Polygon polygon = new Polygon();\r\n\r\n        for (int i = 0; i &lt; points.length; i++) {\r\n            polygon.addPoint(points[i].x, points[i].y);\r\n        }\r\n        return polygon;\r\n    }\r\n    public void createPolygon() {\r\n\r\n        Point points[] = new Point[7];\r\n\r\n        points[0] = new Point(20, 97);\r\n        points[1] = new Point(82, 70);\r\n        points[2] = new Point(134, 70);\r\n        points[3] = new Point(210, 88);\r\n        points[4] = new Point(210, 106);\r\n        points[5] = new Point(144, 125);\r\n        points[6] = new Point(82, 125);\r\n\r\n        poly = toPolygon(points);\r\n        rotated = poly;\r\n\r\n        center = new Point(poly.getBounds().x + poly.getBounds().width / 2, poly.getBounds().y + poly.getBounds().height / 2);\r\n\r\n    }\r\n    public void init() {\r\n\r\n        setVisible(true);\r\n        setSize(260, 260);\r\n\r\n        jf = new JFrame();\r\n        jf.setVisible(true);\r\n        jf.setSize(260, 260);\r\n        jf.setContentPane(new JLabel());\r\n        jf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        jf.setLocation((screenSize.width / 2) - (getWidth() / 2), (screenSize.height / 2) - (getHeight() / 2));\r\n        jf.add(this);\r\n\r\n    }\r\n    @Override\r\n    public void paintComponent(Graphics g) {\r\n\r\n        super.paintComponent(g);\r\n        Graphics2D g2d = (Graphics2D) g;\r\n        g2d.setColor(Color.RED);\r\n\r\n        g2d.draw(rotated);\r\n\r\n    }\r\n}\r\n````\r\n\r\n&lt;sup&gt;**1** - instead of having an additional shape in a field, I would prefer to create the rotated shape inside `paintComponent`. Not sure if that *conflicts* with the rest of the program (e.g. calculating intersection)&lt;/sup&gt;\r\n\r\n-----\r\n\r\nAlternative, not tested: use `Point2D.Float` or `Point2D.Double` instead of `Point` for the coordinates.","title":"Java rotating a Polgon deforms it","body":"<p>The problem is mostly caused by using integer coordinates for the polygon.<br />\nInstead of accumulating the rotations in the polygon itself, use a variable to hold the angle and calculate a new polygon based on the original one every time the angle is changed. The original polygon is not changed.</p>\n<p>I tried to maintain the original code as much as possible<sup><strong>1</strong></sup>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package cfh.test.sf;\n\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.Point;\nimport java.awt.Polygon;\nimport java.awt.Shape;\nimport java.awt.Toolkit;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.geom.AffineTransform;\n\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.Timer;\n\npublic class PolygonTest extends JLabel{\n\n    public static void main(String[] args) {\n        new PolygonTest();\n    }\n    Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();\n\n    private static final long serialVersionUID = 1L;\n\n    Polygon poly;\n    Shape rotated;\n    Point center;\n    int angle = 0;\n\n    JFrame jf;\n\n    public PolygonTest() {\n\n        init();\n        createPolygon();\n\n        Timer timer = new Timer(20, new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                rotatePoly();\n                repaint();\n            }});\n        timer.start();\n    }\n    public void rotatePoly() {\n        angle += 2;\n        AffineTransform transf = AffineTransform.getRotateInstance(Math.toRadians(angle), center.x, center.y);\n        rotated = transf.createTransformedShape(poly);\n    }\n    public Polygon toPolygon(Point[] points) {\n\n        Polygon polygon = new Polygon();\n\n        for (int i = 0; i &lt; points.length; i++) {\n            polygon.addPoint(points[i].x, points[i].y);\n        }\n        return polygon;\n    }\n    public void createPolygon() {\n\n        Point points[] = new Point[7];\n\n        points[0] = new Point(20, 97);\n        points[1] = new Point(82, 70);\n        points[2] = new Point(134, 70);\n        points[3] = new Point(210, 88);\n        points[4] = new Point(210, 106);\n        points[5] = new Point(144, 125);\n        points[6] = new Point(82, 125);\n\n        poly = toPolygon(points);\n        rotated = poly;\n\n        center = new Point(poly.getBounds().x + poly.getBounds().width / 2, poly.getBounds().y + poly.getBounds().height / 2);\n\n    }\n    public void init() {\n\n        setVisible(true);\n        setSize(260, 260);\n\n        jf = new JFrame();\n        jf.setVisible(true);\n        jf.setSize(260, 260);\n        jf.setContentPane(new JLabel());\n        jf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        jf.setLocation((screenSize.width / 2) - (getWidth() / 2), (screenSize.height / 2) - (getHeight() / 2));\n        jf.add(this);\n\n    }\n    @Override\n    public void paintComponent(Graphics g) {\n\n        super.paintComponent(g);\n        Graphics2D g2d = (Graphics2D) g;\n        g2d.setColor(Color.RED);\n\n        g2d.draw(rotated);\n\n    }\n}\n</code></pre>\n<p><sup><strong>1</strong> - instead of having an additional shape in a field, I would prefer to create the rotated shape inside <code>paintComponent</code>. Not sure if that <em>conflicts</em> with the rest of the program (e.g. calculating intersection)</sup></p>\n<hr />\n<p>Alternative, not tested: use <code>Point2D.Float</code> or <code>Point2D.Double</code> instead of <code>Point</code> for the coordinates.</p>\n"}],"owner":{"account_id":20325805,"reputation":117,"user_id":14909278,"display_name":"mousekip"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69843552,"answer_count":2,"score":0,"last_activity_date":1636052725,"creation_date":1636044540,"question_id":69842931,"body_markdown":"I have written a method, which randomly generates polygon shapes, which then are rotating and moving across the screen. Since I wanted to detect collision with these shapes, I did not rotate them with Graphics2D and instead used AffineTransform to rotate them. But for some reason, certain shapes are getting messed up by the rotation, while others are unaffected. Below is an example with one of the shapes which caused problems.\r\n\r\n```\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.Point;\r\nimport java.awt.Polygon;\r\nimport java.awt.Toolkit;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.geom.AffineTransform;\r\n\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.Timer;\r\n\r\npublic class Test extends JLabel{\r\n\r\n\tDimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();\r\n\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\tPolygon poly;\r\n\r\n\tPoint center;\r\n\tPoint source[];\r\n\tPoint dest[];\r\n\r\n\tJFrame jf;\r\n\r\n\tpublic Test() {\r\n\r\n\t\tinit();\r\n\t\tcreatePolygon();\r\n\r\n\t\tTimer timer = new Timer(20, new ActionListener() {\r\n\t\t\t@Override\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\trotatePoly();\r\n\t\t\t\trepaint();\r\n\t\t\t}});\r\n\t\ttimer.start();\r\n\t}\r\n\tpublic void rotatePoly() {\r\n\r\n\t\tAffineTransform transf = AffineTransform.getRotateInstance(Math.toRadians(2), center.x, center.y);\r\n\t\ttransf.transform(source, 0, dest, 0, source.length);\r\n\r\n\t\tpoly = toPolygon(dest);\r\n\r\n\t}\r\n\tpublic Polygon toPolygon(Point[] points) {\r\n\r\n\t\tPolygon polygon = new Polygon();\r\n\r\n\t\tfor (int i = 0; i &lt; points.length; i++) {\r\n\t\t\tpolygon.addPoint(points[i].x, points[i].y);\r\n\t\t}\r\n\t\treturn polygon;\r\n\t}\r\n\tpublic void createPolygon() {\r\n\r\n\t\tPoint points[] = new Point[7];\r\n\r\n\t\tpoints[0] = new Point(20, 97);\r\n\t\tpoints[1] = new Point(82, 70);\r\n\t\tpoints[2] = new Point(134, 70);\r\n\t\tpoints[3] = new Point(210, 88);\r\n\t\tpoints[4] = new Point(210, 106);\r\n\t\tpoints[5] = new Point(144, 125);\r\n\t\tpoints[6] = new Point(82, 125);\r\n\r\n\t\tsource = points;\r\n\t\tdest = points;\r\n\r\n\t\tpoly = toPolygon(points);\r\n\r\n\t\tcenter = new Point(poly.getBounds().x + poly.getBounds().width / 2, poly.getBounds().y + poly.getBounds().height / 2);\r\n\r\n\t}\r\n\tpublic void init() {\r\n\r\n\t\tsetVisible(true);\r\n\t\tsetSize(260, 260);\r\n\r\n\t\tjf = new JFrame();\r\n\t\tjf.setVisible(true);\r\n\t\tjf.setSize(260, 260);\r\n\t\tjf.setContentPane(new JLabel());\r\n\t\tjf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tjf.setLocation((screenSize.width / 2) - (getWidth() / 2), (screenSize.height / 2) - (getHeight() / 2));\r\n\t\tjf.add(this);\r\n\r\n\t}\r\n\t@Override\r\n\tpublic void paintComponent(Graphics g) {\r\n\r\n\t\tsuper.paintComponent(g);\r\n\t\tGraphics2D g2d = (Graphics2D) g;\r\n\t\tg2d.setColor(Color.RED);\r\n\r\n\t\tg2d.drawPolygon(poly);\r\n\r\n\t}\r\n}\r\n```\r\n\r\n\r\nIf you replace the points with the following lines, the shape mostly stays the same. The shape below is of course symmetrical, however the rotate method did work with other randomly generated and uneven shapes.\r\n```\r\npoints[0] = new Point(10, 130);\r\npoints[1] = new Point(100, 10);\r\npoints[2] = new Point(160, 10);\r\npoints[3] = new Point(250, 100);\r\npoints[4] = new Point(250, 160);\r\npoints[5] = new Point(160, 250);\r\npoints[6] = new Point(100, 250);\r\n```\r\n","title":"Java rotating a Polgon deforms it","body":"<p>I have written a method, which randomly generates polygon shapes, which then are rotating and moving across the screen. Since I wanted to detect collision with these shapes, I did not rotate them with Graphics2D and instead used AffineTransform to rotate them. But for some reason, certain shapes are getting messed up by the rotation, while others are unaffected. Below is an example with one of the shapes which caused problems.</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.Point;\nimport java.awt.Polygon;\nimport java.awt.Toolkit;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.geom.AffineTransform;\n\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.Timer;\n\npublic class Test extends JLabel{\n\n    Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();\n\n    private static final long serialVersionUID = 1L;\n\n    Polygon poly;\n\n    Point center;\n    Point source[];\n    Point dest[];\n\n    JFrame jf;\n\n    public Test() {\n\n        init();\n        createPolygon();\n\n        Timer timer = new Timer(20, new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                rotatePoly();\n                repaint();\n            }});\n        timer.start();\n    }\n    public void rotatePoly() {\n\n        AffineTransform transf = AffineTransform.getRotateInstance(Math.toRadians(2), center.x, center.y);\n        transf.transform(source, 0, dest, 0, source.length);\n\n        poly = toPolygon(dest);\n\n    }\n    public Polygon toPolygon(Point[] points) {\n\n        Polygon polygon = new Polygon();\n\n        for (int i = 0; i &lt; points.length; i++) {\n            polygon.addPoint(points[i].x, points[i].y);\n        }\n        return polygon;\n    }\n    public void createPolygon() {\n\n        Point points[] = new Point[7];\n\n        points[0] = new Point(20, 97);\n        points[1] = new Point(82, 70);\n        points[2] = new Point(134, 70);\n        points[3] = new Point(210, 88);\n        points[4] = new Point(210, 106);\n        points[5] = new Point(144, 125);\n        points[6] = new Point(82, 125);\n\n        source = points;\n        dest = points;\n\n        poly = toPolygon(points);\n\n        center = new Point(poly.getBounds().x + poly.getBounds().width / 2, poly.getBounds().y + poly.getBounds().height / 2);\n\n    }\n    public void init() {\n\n        setVisible(true);\n        setSize(260, 260);\n\n        jf = new JFrame();\n        jf.setVisible(true);\n        jf.setSize(260, 260);\n        jf.setContentPane(new JLabel());\n        jf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        jf.setLocation((screenSize.width / 2) - (getWidth() / 2), (screenSize.height / 2) - (getHeight() / 2));\n        jf.add(this);\n\n    }\n    @Override\n    public void paintComponent(Graphics g) {\n\n        super.paintComponent(g);\n        Graphics2D g2d = (Graphics2D) g;\n        g2d.setColor(Color.RED);\n\n        g2d.drawPolygon(poly);\n\n    }\n}\n</code></pre>\n<p>If you replace the points with the following lines, the shape mostly stays the same. The shape below is of course symmetrical, however the rotate method did work with other randomly generated and uneven shapes.</p>\n<pre><code>points[0] = new Point(10, 130);\npoints[1] = new Point(100, 10);\npoints[2] = new Point(160, 10);\npoints[3] = new Point(250, 100);\npoints[4] = new Point(250, 160);\npoints[5] = new Point(160, 250);\npoints[6] = new Point(100, 250);\n</code></pre>\n"},{"tags":["java","cell","aspose"],"answers":[{"tags":[],"owner":{"account_id":4153548,"reputation":1826,"user_id":3405358,"display_name":"Amjad Sahi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636052570,"creation_date":1636052570,"answer_id":69844569,"question_id":69844156,"body_markdown":"When you use cell.setValue(String), surely, it will set string type. I think you may try to use the overloads like, cell.putValue(String, true) instead. This way, if you are inserting numbers (as string), it will be automatically converted to numbers and set it to numeric type. \r\n\r\nPS. I am working as Support developer/ Evangelist at Aspose.","title":"Is there a way to set the value of an Aspose Cell to a string representation while keeping its type/style?","body":"<p>When you use cell.setValue(String), surely, it will set string type. I think you may try to use the overloads like, cell.putValue(String, true) instead. This way, if you are inserting numbers (as string), it will be automatically converted to numbers and set it to numeric type.</p>\n<p>PS. I am working as Support developer/ Evangelist at Aspose.</p>\n"}],"owner":{"account_id":23149437,"reputation":13,"user_id":17251708,"display_name":"TaoGaming"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":499,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69844569,"answer_count":1,"score":0,"last_activity_date":1636052570,"creation_date":1636050586,"question_id":69844156,"body_markdown":"We have a program that does pattern replacement in a variety of files (including Excel) and are using Aspose. So for example we might have a cell that is _PATTERN_TO_REPLACE_ and then we replace that with &quot;6&quot; or &quot;6.0&quot; or &quot;1,000.00&quot; (in the US) or &quot;1.000,00&quot; (in the UK). \r\n\r\n(_PATTERN_TO_REPLACE_ could also be in a formula).\r\n\r\nThe problem is that we have to use a Java matcher to find (and replace) the string, which means we are calling cell.setValue(String). This led Aspose to change the CellValueType to string, even when it was previously numeric.\r\n\r\nOur initial solution was to look and see if we thought the string was a number, then cast it to a BigDecimal and pass it in as such, but that leads to a lot of work (particularly for localization of types of currencies...)\r\n\r\nWhat I&#39;d like to do is call cell.getStyle(), cell.getType(), save them, set the value, then return them, but there is no cell.setType() method. Is there an easy way to do what I want?","title":"Is there a way to set the value of an Aspose Cell to a string representation while keeping its type/style?","body":"<p>We have a program that does pattern replacement in a variety of files (including Excel) and are using Aspose. So for example we might have a cell that is <em>PATTERN_TO_REPLACE</em> and then we replace that with &quot;6&quot; or &quot;6.0&quot; or &quot;1,000.00&quot; (in the US) or &quot;1.000,00&quot; (in the UK).</p>\n<p>(<em>PATTERN_TO_REPLACE</em> could also be in a formula).</p>\n<p>The problem is that we have to use a Java matcher to find (and replace) the string, which means we are calling cell.setValue(String). This led Aspose to change the CellValueType to string, even when it was previously numeric.</p>\n<p>Our initial solution was to look and see if we thought the string was a number, then cast it to a BigDecimal and pass it in as such, but that leads to a lot of work (particularly for localization of types of currencies...)</p>\n<p>What I'd like to do is call cell.getStyle(), cell.getType(), save them, set the value, then return them, but there is no cell.setType() method. Is there an easy way to do what I want?</p>\n"},{"tags":["java","testing","mocking","wiremock","mockserver"],"owner":{"account_id":15172366,"reputation":81,"user_id":10948034,"display_name":"John"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":676,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1636052420,"creation_date":1636052420,"question_id":69844536,"body_markdown":"I&#39;m trying to do a test where my client allows the use of wildcard certificates (ie. CN=*.dev.domain). I&#39;m trying to setup a mock server that has this certificate in its keystore, but I need to customize the mock server&#39;s domain into something like test.dev.domain so that my client under test can route to it. \r\n\r\nIs there a way to do this using Wiremock/Mockserver or any other server mock in Java? http://wiremock.org/docs/multi-domain-mocking/ does something close to what I need but not exactly. ","title":"Wiremock/Mockserver with custom Domain Name?","body":"<p>I'm trying to do a test where my client allows the use of wildcard certificates (ie. CN=*.dev.domain). I'm trying to setup a mock server that has this certificate in its keystore, but I need to customize the mock server's domain into something like test.dev.domain so that my client under test can route to it.</p>\n<p>Is there a way to do this using Wiremock/Mockserver or any other server mock in Java? <a href=\"http://wiremock.org/docs/multi-domain-mocking/\" rel=\"nofollow noreferrer\">http://wiremock.org/docs/multi-domain-mocking/</a> does something close to what I need but not exactly.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":1,"creation_date":1636052362,"post_id":69844223,"comment_id":123461580,"body_markdown":"There is no question in your post.","body":"There is no question in your post."}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636051170,"creation_date":1636051170,"answer_id":69844270,"question_id":69844223,"body_markdown":"This has nothing to do with abstract-ness. (`setRadius` isn&#39;t even an abstract method). \r\n\r\n`componentList` is an ArrayList, **not** a `ItemA` instance with a `setRadius` method. \r\n\r\nDid you want to `((ItemA) componentList.get(0)).setRadius(50)`?\r\n\r\nOr cleaner...\r\n\r\n```\r\nItemA a = new ItemA(25, 10);\r\na.setRadius(50);\r\ncomponentList.add(a);\r\n```","title":"Calling non-abstract method from a list of abstract objects","body":"<p>This has nothing to do with abstract-ness. (<code>setRadius</code> isn't even an abstract method).</p>\n<p><code>componentList</code> is an ArrayList, <strong>not</strong> a <code>ItemA</code> instance with a <code>setRadius</code> method.</p>\n<p>Did you want to <code>((ItemA) componentList.get(0)).setRadius(50)</code>?</p>\n<p>Or cleaner...</p>\n<pre><code>ItemA a = new ItemA(25, 10);\na.setRadius(50);\ncomponentList.add(a);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7623905,"reputation":1,"user_id":5781054,"display_name":"Suleyman Sahin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636052190,"creation_date":1636052190,"answer_id":69844488,"question_id":69844223,"body_markdown":"Above answer is correct. If you want to use abstract class for that. You should define that on Component class.\r\n\r\n    public abstract void setRadius(double radius);\r\n\r\nThen override it on ItemA class like that;\r\n\r\n    public void setRadius(double radius) {\r\n                this.radius = radius;\r\n            }\r\n\r\nThen apply that;\r\n\r\n    componentList.get(0).setRadius(50);\r\n\r\n","title":"Calling non-abstract method from a list of abstract objects","body":"<p>Above answer is correct. If you want to use abstract class for that. You should define that on Component class.</p>\n<pre><code>public abstract void setRadius(double radius);\n</code></pre>\n<p>Then override it on ItemA class like that;</p>\n<pre><code>public void setRadius(double radius) {\n            this.radius = radius;\n        }\n</code></pre>\n<p>Then apply that;</p>\n<pre><code>componentList.get(0).setRadius(50);\n</code></pre>\n"}],"owner":{"account_id":23241160,"reputation":3,"user_id":17330469,"display_name":"Jean Guydoune"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69844270,"answer_count":2,"score":-1,"last_activity_date":1636052190,"creation_date":1636050924,"question_id":69844223,"body_markdown":"I have 5 classes. I have the domain class which constructs my objects.\r\nI have an abstract class called &quot;Component&quot;, which has some abstract method, some not abstract.\r\nI have 3 classes &quot;ItemA&quot;, &quot;ItemB&quot;, &quot;ItemC&quot; that implement Component.\r\n\r\nExample code\r\n\r\n```java\r\n\r\npublic abstract class Component {\r\n    protected string name;\r\n\r\n    public abstract double getVolume();\r\n//Getter and setter for name\r\n}\r\n\r\npublic class ItemA extends Component {\r\n    private double radius;\r\n    private double height;\r\n\r\n    public double getVolume() {\r\n        return pi * radius * radius * height;\r\n    }\r\n\r\n    public void setRadius(int p_radius) {\r\n        this.radius = p_radius;\r\n    }\r\n}\r\n\r\npublic class domain {\r\n    ArrayList&lt;Component&gt; componentList = new ArrayList&lt;Component&gt;();\r\n\r\n    public void domain() {\r\n        componentList.add(new ItemA(25, 10));\r\n        componentList.setRadius(50); &lt;&lt;&lt;&lt;Says it doesn &#39;t know what to do that.\r\n    }\r\n}\r\n```","title":"Calling non-abstract method from a list of abstract objects","body":"<p>I have 5 classes. I have the domain class which constructs my objects.\nI have an abstract class called &quot;Component&quot;, which has some abstract method, some not abstract.\nI have 3 classes &quot;ItemA&quot;, &quot;ItemB&quot;, &quot;ItemC&quot; that implement Component.</p>\n<p>Example code</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic abstract class Component {\n    protected string name;\n\n    public abstract double getVolume();\n//Getter and setter for name\n}\n\npublic class ItemA extends Component {\n    private double radius;\n    private double height;\n\n    public double getVolume() {\n        return pi * radius * radius * height;\n    }\n\n    public void setRadius(int p_radius) {\n        this.radius = p_radius;\n    }\n}\n\npublic class domain {\n    ArrayList&lt;Component&gt; componentList = new ArrayList&lt;Component&gt;();\n\n    public void domain() {\n        componentList.add(new ItemA(25, 10));\n        componentList.setRadius(50); &lt;&lt;&lt;&lt;Says it doesn 't know what to do that.\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays"],"answers":[{"tags":[],"owner":{"account_id":23241391,"reputation":65,"user_id":17330658,"display_name":"skrrskrr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636052118,"creation_date":1636051812,"answer_id":69844401,"question_id":69844294,"body_markdown":"i think you need to put a -1 behind the two input.length\r\n\r\nits because input.length returns the size in a way how humans think (if there is one entry it returns 1), but if you talk to arrays they need it in a computer way (starting from 0)\r\n\r\nlike this:\r\n\r\n```\r\npublic static int[] removeElement(int[] input, int value) {\r\n\t\tint slow = 0;\r\n\t\tint fast = 0;\r\n\t\twhile (fast &lt; input.length-1) {\r\n\t\t\twhile (input[fast] == value &amp;&amp; fast &lt; input.length-1) {\r\n\t\t\t\tfast++;\r\n\t\t\t}\r\n\t\t\tinput[slow++] = input[fast++];\r\n\t\t}\r\n\t\treturn Arrays.copyOfRange(input, 0, slow);\r\n\t}","title":"remove target element in array using two pointers --index out of bound?","body":"<p>i think you need to put a -1 behind the two input.length</p>\n<p>its because input.length returns the size in a way how humans think (if there is one entry it returns 1), but if you talk to arrays they need it in a computer way (starting from 0)</p>\n<p>like this:</p>\n<pre><code>public static int[] removeElement(int[] input, int value) {\n        int slow = 0;\n        int fast = 0;\n        while (fast &lt; input.length-1) {\n            while (input[fast] == value &amp;&amp; fast &lt; input.length-1) {\n                fast++;\n            }\n            input[slow++] = input[fast++];\n        }\n        return Arrays.copyOfRange(input, 0, slow);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21825332,"reputation":1219,"user_id":16120911,"display_name":"sittsering"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636051990,"creation_date":1636051990,"answer_id":69844437,"question_id":69844294,"body_markdown":"your array : [3,3,2,2,3,3]&lt;br&gt;\r\nThe first issue is with this:&lt;br&gt;\r\n````\r\nwhile (input[fast] == value &amp;&amp; fast &lt; input.length) {\r\n            fast++;\r\n}\r\n````\r\nthe last index is `5` and is less than its size(6) -&gt; `fast++` -&gt; now `fast=6`&lt;br&gt;\r\nnow in next iteration,&lt;br&gt;\r\n`input[6]==value` will result in index out of bound error.","title":"remove target element in array using two pointers --index out of bound?","body":"<p>your array : [3,3,2,2,3,3]<br>\nThe first issue is with this:<br></p>\n<pre><code>while (input[fast] == value &amp;&amp; fast &lt; input.length) {\n            fast++;\n}\n</code></pre>\n<p>the last index is <code>5</code> and is less than its size(6) -&gt; <code>fast++</code> -&gt; now <code>fast=6</code><br>\nnow in next iteration,<br>\n<code>input[6]==value</code> will result in index out of bound error.</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636052093,"creation_date":1636052093,"answer_id":69844467,"question_id":69844294,"body_markdown":"Too many ++ happen. Best seen in debugger or on paper.\r\nBest not use ++ inside complexer expressions.\r\n\r\nNot surprising, as it can be done simpler:\r\n\r\n    public int[] removeElement(int[] input, int value) {\r\n        int slow = 0;\r\n        int fast = 0;\r\n        while (fast &lt; input.length) {\r\n            if (input[fast] != value) {\r\n                input[slow++] = input[fast];\r\n            } \r\n            ++fast;\r\n        }\r\n        return Arrays.copyOf(input, slow);\r\n    }\r\n","title":"remove target element in array using two pointers --index out of bound?","body":"<p>Too many ++ happen. Best seen in debugger or on paper.\nBest not use ++ inside complexer expressions.</p>\n<p>Not surprising, as it can be done simpler:</p>\n<pre><code>public int[] removeElement(int[] input, int value) {\n    int slow = 0;\n    int fast = 0;\n    while (fast &lt; input.length) {\n        if (input[fast] != value) {\n            input[slow++] = input[fast];\n        } \n        ++fast;\n    }\n    return Arrays.copyOf(input, slow);\n}\n</code></pre>\n"}],"owner":{"account_id":15335030,"reputation":3,"user_id":11063661,"display_name":"elmirage888"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1636052118,"creation_date":1636051309,"question_id":69844294,"body_markdown":"I am trying to remove target element from an array , if input is [3,3,2,2,3,3] and my target is 3 , I should get [2,2]. the logic is simple, using slow and fast pointers and if we need copy, move slow pointer, otherwise move fast pointer to skip the target .\r\n\r\nbut I am keep getting index out of bound error and can not figure out why ?\r\n\r\n\r\n\r\n    public int[] removeElement(int[] input, int value) {\r\n        int slow = 0;\r\n        int fast = 0;\r\n        while (fast &lt; input.length) {\r\n            while (input[fast] == value &amp;&amp; fast &lt; input.length) {\r\n                fast++;\r\n            }\r\n            input[slow++] = input[fast++];\r\n        }\r\n        return Arrays.copyOfRange(input, 0, slow);\r\n    }","title":"remove target element in array using two pointers --index out of bound?","body":"<p>I am trying to remove target element from an array , if input is [3,3,2,2,3,3] and my target is 3 , I should get [2,2]. the logic is simple, using slow and fast pointers and if we need copy, move slow pointer, otherwise move fast pointer to skip the target .</p>\n<p>but I am keep getting index out of bound error and can not figure out why ?</p>\n<pre><code>public int[] removeElement(int[] input, int value) {\n    int slow = 0;\n    int fast = 0;\n    while (fast &lt; input.length) {\n        while (input[fast] == value &amp;&amp; fast &lt; input.length) {\n            fast++;\n        }\n        input[slow++] = input[fast++];\n    }\n    return Arrays.copyOfRange(input, 0, slow);\n}\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1636051892,"creation_date":1636051892,"answer_id":69844416,"question_id":69843665,"body_markdown":"&gt; So it looks the path from the android file browser is different from what the method wants\r\n\r\nIt is not a filesystem path, because a `Uri` is not a file.\r\n\r\n&gt; I can see the method takes in a file path\r\n\r\nThere are many forms of `setDataSource()` on `MediaExtractor`, including [one that takes a `Uri`](https://developer.android.com/reference/android/media/MediaExtractor#setDataSource(android.content.Context,%20android.net.Uri,%20java.util.Map%3Cjava.lang.String,%20java.lang.String%3E)). Try using that method with your `Uri`.\r\n","title":"Android Java Get path from URI for an mp4","body":"<blockquote>\n<p>So it looks the path from the android file browser is different from what the method wants</p>\n</blockquote>\n<p>It is not a filesystem path, because a <code>Uri</code> is not a file.</p>\n<blockquote>\n<p>I can see the method takes in a file path</p>\n</blockquote>\n<p>There are many forms of <code>setDataSource()</code> on <code>MediaExtractor</code>, including <a href=\"https://developer.android.com/reference/android/media/MediaExtractor#setDataSource(android.content.Context,%20android.net.Uri,%20java.util.Map%3Cjava.lang.String,%20java.lang.String%3E)\" rel=\"nofollow noreferrer\">one that takes a <code>Uri</code></a>. Try using that method with your <code>Uri</code>.</p>\n"}],"owner":{"account_id":397414,"reputation":1619,"user_id":761529,"accept_rate":94,"display_name":"Arun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":322,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69844416,"answer_count":1,"score":1,"last_activity_date":1636051892,"creation_date":1636048149,"question_id":69843665,"body_markdown":"I&#39;m trying to get a load a mp4 file from the android file browser. However the path from the following code does not work.  It throws an exception\r\n\r\n            Uri currFileURI = data.getData();\r\n            String path=currFileURI.getPath();\r\n\r\n            MediaExtractor extractor = new MediaExtractor();\r\n            try {\r\n                extractor.setDataSource(path);\r\n            } catch( IOException e) {\r\n                e.printStackTrace();\r\n                return;\r\n            }\r\n\r\n\r\nData I have:\r\n\r\ndata = {Intent@9869} &quot;Intent { dat=content://com.android.providers.downloads.documents/document/44 flg=0x1 }&quot;\r\ncurrFileURI = {Uri$HierarchicalUri@9870} &quot;content://com.android.providers.downloads.documents/document/44&quot;\r\npath = &quot;/document/44&quot;\r\n\r\nI see this code in stackoverflow: \r\nhttps://stackoverflow.com/questions/13209494/how-to-get-the-full-file-path-from-uri/55469368#55469368\r\n\r\nThis looks like an overkill\r\n\r\nI can see the method takes in a file path.\r\nhttps://developer.android.com/reference/android/media/MediaExtractor#setDataSource(java.lang.String)\r\n\r\nSo it looks the path from the android file browser is different from what the method wants. I also see that the path from the file browser is different than the file name. Anybody have an insight into what the path should look like?\r\n","title":"Android Java Get path from URI for an mp4","body":"<p>I'm trying to get a load a mp4 file from the android file browser. However the path from the following code does not work.  It throws an exception</p>\n<pre><code>        Uri currFileURI = data.getData();\n        String path=currFileURI.getPath();\n\n        MediaExtractor extractor = new MediaExtractor();\n        try {\n            extractor.setDataSource(path);\n        } catch( IOException e) {\n            e.printStackTrace();\n            return;\n        }\n</code></pre>\n<p>Data I have:</p>\n<p>data = {Intent@9869} &quot;Intent { dat=content://com.android.providers.downloads.documents/document/44 flg=0x1 }&quot;\ncurrFileURI = {Uri$HierarchicalUri@9870} &quot;content://com.android.providers.downloads.documents/document/44&quot;\npath = &quot;/document/44&quot;</p>\n<p>I see this code in stackoverflow:\n<a href=\"https://stackoverflow.com/questions/13209494/how-to-get-the-full-file-path-from-uri/55469368#55469368\">How to get the Full file path from URI</a></p>\n<p>This looks like an overkill</p>\n<p>I can see the method takes in a file path.\n<a href=\"https://developer.android.com/reference/android/media/MediaExtractor#setDataSource(java.lang.String)\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/media/MediaExtractor#setDataSource(java.lang.String)</a></p>\n<p>So it looks the path from the android file browser is different from what the method wants. I also see that the path from the file browser is different than the file name. Anybody have an insight into what the path should look like?</p>\n"},{"tags":["java","spring","spring-boot","spring-cloud-feign"],"comments":[{"owner":{"account_id":7484305,"reputation":36,"user_id":5688125,"display_name":"Augusto Escobar"},"score":0,"creation_date":1573575585,"post_id":58822607,"comment_id":103922198,"body_markdown":"To be more clear, specified line should print `&quot;https://jsonplaceholder.typicode.com/posts&quot;`.","body":"To be more clear, specified line should print <code>&quot;https:&#47;&#47;jsonplaceholder.typicode.com&#47;posts&quot;</code>."},{"owner":{"account_id":7457995,"reputation":872,"user_id":5670592,"display_name":"Andonaeus"},"score":0,"creation_date":1573576026,"post_id":58822607,"comment_id":103922450,"body_markdown":"An easy workaround is to set the URL as a public static final String field of ApiClient, e.g. `public static final String URL = &quot;https://jsonplaceholder.typicode.com&quot;`. Your annotation can refer to it by using `url = ApiClient.URL`. You can then refer to this variable anywhere.","body":"An easy workaround is to set the URL as a public static final String field of ApiClient, e.g. <code>public static final String URL = &quot;https:&#47;&#47;jsonplaceholder.typicode.com&quot;</code>. Your annotation can refer to it by using <code>url = ApiClient.URL</code>. You can then refer to this variable anywhere."},{"owner":{"account_id":7484305,"reputation":36,"user_id":5688125,"display_name":"Augusto Escobar"},"score":0,"creation_date":1573644066,"post_id":58822607,"comment_id":103946712,"body_markdown":"sorry, but I can do it like this. Please, see my updated statement. URL value needs to be injected as an application.yml property and will be different per environment.","body":"sorry, but I can do it like this. Please, see my updated statement. URL value needs to be injected as an application.yml property and will be different per environment."}],"answers":[{"tags":[],"owner":{"account_id":23241452,"reputation":11,"user_id":17330708,"display_name":"Jenny Janghee Lee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636051567,"creation_date":1636051567,"answer_id":69844346,"question_id":58822607,"body_markdown":"I&#39;m not sure if you are still looking for the answer, but my method is below\r\n\r\n1. Return Response\r\n\r\n```java\r\nimport feign.Response;\r\n\r\n@FeignClient(name = &quot;json-placeholder&quot;, url = &quot;${api.url}&quot;)\r\npublic interface ApiClient {\r\n\r\n    @GetMapping(value = &quot;/posts&quot;, consumes = &quot;application/json&quot;)\r\n    Response getPosts();\r\n}\r\n\r\n```\r\n\r\n2. get Request.url from the Response \r\n```java\r\nResponse response = apiClient.getPosts();\r\nString url = response.request().url()\r\n```\r\n\r\nthen you can get the URL","title":"Programmatically retrieve URL called by Spring FeignClient","body":"<p>I'm not sure if you are still looking for the answer, but my method is below</p>\n<ol>\n<li>Return Response</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>import feign.Response;\n\n@FeignClient(name = &quot;json-placeholder&quot;, url = &quot;${api.url}&quot;)\npublic interface ApiClient {\n\n    @GetMapping(value = &quot;/posts&quot;, consumes = &quot;application/json&quot;)\n    Response getPosts();\n}\n\n</code></pre>\n<ol start=\"2\">\n<li>get Request.url from the Response</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>Response response = apiClient.getPosts();\nString url = response.request().url()\n</code></pre>\n<p>then you can get the URL</p>\n"}],"owner":{"account_id":7484305,"reputation":36,"user_id":5688125,"display_name":"Augusto Escobar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2004,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1636051567,"creation_date":1573575323,"question_id":58822607,"body_markdown":"I&#39;m trying to find a way to retrieve the URL that is currently mapped by Feign Client method interface in a Spring app, but I could not find a solution yet. The following code works:\r\n\r\npom.xml\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\r\n      &lt;version&gt;2.1.1.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\napplication.yml\r\n\r\n    api:\r\n      url: https://jsonplaceholder.typicode.com\r\n\r\nApiClient.class\r\n\r\n    package com.example.feign;\r\n    \r\n    import org.springframework.cloud.openfeign.FeignClient;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    \r\n    @FeignClient(name = &quot;json-placeholder&quot;, url = &quot;${api.url}&quot;)\r\n    public interface ApiClient {\r\n    \r\n        @GetMapping(value = &quot;/posts&quot;, consumes = &quot;application/json&quot;)\r\n        ResponseEntity&lt;String&gt; getPosts();\r\n    }\r\n\r\n\r\nFeignApplication.class\r\n\r\n    package com.example.feign;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.cloud.openfeign.EnableFeignClients;\r\n    \r\n    import javax.annotation.PostConstruct;\r\n    \r\n    @EnableFeignClients\r\n    @SpringBootApplication\r\n    public class FeignApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(FeignApplication.class, args);\r\n    \t}\r\n    \r\n    \t@Autowired\r\n    \tprivate ApiClient apiClient;\r\n    \r\n    \t@PostConstruct\r\n    \tpublic void test() {\r\n    \r\n    \t\t// this works\r\n    \t\tSystem.out.println(apiClient.getPosts().getBody());\r\n    \r\n    \t\t// apiClient. ... getPosts request URL\r\n    \t}\r\n    }\r\n\r\n\r\nI tried to compose this URL reading directly from annotations, but it doesn&#39;t seem to work. Can anybody give me an alternative? Thank you.\r\n\r\n- EDIT notes - \r\n\r\nSorry, but I had do a small change in my question, due to an unexpected problem while applying provided solutions.\r\n\r\nReading directly from Annotations works if the value set in annotation property is literal. If the value is read from application.yml file, the URL returned by the annotation property is the expression ifself, not the parsed value.\r\n\r\nAny ideas about this updated scenario? What I need is the URL actually been called by FeignClient. I&#39;m understands all provided solutions are actually workarounds.","title":"Programmatically retrieve URL called by Spring FeignClient","body":"<p>I'm trying to find a way to retrieve the URL that is currently mapped by Feign Client method interface in a Spring app, but I could not find a solution yet. The following code works:</p>\n\n<p>pom.xml</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\n  &lt;version&gt;2.1.1.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>application.yml</p>\n\n<pre><code>api:\n  url: https://jsonplaceholder.typicode.com\n</code></pre>\n\n<p>ApiClient.class</p>\n\n<pre><code>package com.example.feign;\n\nimport org.springframework.cloud.openfeign.FeignClient;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\n\n@FeignClient(name = \"json-placeholder\", url = \"${api.url}\")\npublic interface ApiClient {\n\n    @GetMapping(value = \"/posts\", consumes = \"application/json\")\n    ResponseEntity&lt;String&gt; getPosts();\n}\n</code></pre>\n\n<p>FeignApplication.class</p>\n\n<pre><code>package com.example.feign;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.cloud.openfeign.EnableFeignClients;\n\nimport javax.annotation.PostConstruct;\n\n@EnableFeignClients\n@SpringBootApplication\npublic class FeignApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(FeignApplication.class, args);\n    }\n\n    @Autowired\n    private ApiClient apiClient;\n\n    @PostConstruct\n    public void test() {\n\n        // this works\n        System.out.println(apiClient.getPosts().getBody());\n\n        // apiClient. ... getPosts request URL\n    }\n}\n</code></pre>\n\n<p>I tried to compose this URL reading directly from annotations, but it doesn't seem to work. Can anybody give me an alternative? Thank you.</p>\n\n<ul>\n<li>EDIT notes - </li>\n</ul>\n\n<p>Sorry, but I had do a small change in my question, due to an unexpected problem while applying provided solutions.</p>\n\n<p>Reading directly from Annotations works if the value set in annotation property is literal. If the value is read from application.yml file, the URL returned by the annotation property is the expression ifself, not the parsed value.</p>\n\n<p>Any ideas about this updated scenario? What I need is the URL actually been called by FeignClient. I'm understands all provided solutions are actually workarounds.</p>\n"},{"tags":["java","spring-boot","spring-mvc","gradle","webflux"],"comments":[{"owner":{"account_id":23228407,"reputation":11,"user_id":17319570,"display_name":"Abu Turab Munir"},"score":0,"creation_date":1635952569,"post_id":69827325,"comment_id":123430020,"body_markdown":"server start successfully but when trying to access the URL http://localhost:9898/docs/swagger-ui.html\nthen above error occurs","body":"server start successfully but when trying to access the URL <a href=\"http://localhost:9898/docs/swagger-ui.html\" rel=\"nofollow noreferrer\">localhost:9898/docs/swagger-ui.html</a> then above error occurs"}],"answers":[{"tags":[],"owner":{"account_id":23228407,"reputation":11,"user_id":17319570,"display_name":"Abu Turab Munir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636051513,"creation_date":1636051513,"answer_id":69844331,"question_id":69827325,"body_markdown":"it has started working by replacing the implementation of open-api from webmvc to web-flux\r\n```\r\nimplementation(&#39;org.springdoc:springdoc-openapi-webflux-ui:1.5.11&#39;)\r\nimplementation(&#39;org.springdoc:springdoc-openapi-webflux-core:1.5.11&#39;)\r\n```\r\n\r\nwhen accessing the swagger-ui.html in console of browser I am getting this error \r\n\r\n```\r\n{&quot;path&quot;:&quot;/docs/v3/api-docs&quot;,&quot;error&quot;:&quot;Internal Server Error&quot;,&quot;message&quot;:&quot;Duplicate key class Parameter {\\n    name: api-version\\n    in: header\\n    description: null\\n    required: null\\n    deprecated: null\\n    allowEmptyValue: null\\n    style: null\\n    explode: null\\n    allowReserved: null\\n    schema: class StringSchema {\\n        class Schema {\\n            type: string\\n            format: null\\n            $ref: null\\n            description: null\\n            title: null\\n            multipleOf: null\\n            maximum: null\\n            exclusiveMaximum: null\\n            minimum: null\\n            exclusiveMinimum: null\\n            maxLength: null\\n            minLength: null\\n            pattern: null\\n            maxItems: null\\n            minItems: null\\n            uniqueItems: null\\n            maxProperties: null\\n            minProperties: null\\n            required: null\\n            not: null\\n            properties: null\\n            additionalProperties: null\\n            nullable: null\\n            readOnly: null\\n            writeOnly: null\\n            example: null\\n            externalDocs: null\\n            deprecated: null\\n            discriminator: null\\n            xml: null\\n        }\\n    }\\n    examples: null\\n    example: null\\n    content: null\\n    $ref: null\\n}&quot;,&quot;timestamp&quot;:&quot;Thu Nov 04 23:33:47 PKT 2021&quot;,&quot;status&quot;:500}\r\n```","title":"No primary or default constructor found for interface org.springframework.web.server.ServerWebExchange","body":"<p>it has started working by replacing the implementation of open-api from webmvc to web-flux</p>\n<pre><code>implementation('org.springdoc:springdoc-openapi-webflux-ui:1.5.11')\nimplementation('org.springdoc:springdoc-openapi-webflux-core:1.5.11')\n</code></pre>\n<p>when accessing the swagger-ui.html in console of browser I am getting this error</p>\n<pre><code>{&quot;path&quot;:&quot;/docs/v3/api-docs&quot;,&quot;error&quot;:&quot;Internal Server Error&quot;,&quot;message&quot;:&quot;Duplicate key class Parameter {\\n    name: api-version\\n    in: header\\n    description: null\\n    required: null\\n    deprecated: null\\n    allowEmptyValue: null\\n    style: null\\n    explode: null\\n    allowReserved: null\\n    schema: class StringSchema {\\n        class Schema {\\n            type: string\\n            format: null\\n            $ref: null\\n            description: null\\n            title: null\\n            multipleOf: null\\n            maximum: null\\n            exclusiveMaximum: null\\n            minimum: null\\n            exclusiveMinimum: null\\n            maxLength: null\\n            minLength: null\\n            pattern: null\\n            maxItems: null\\n            minItems: null\\n            uniqueItems: null\\n            maxProperties: null\\n            minProperties: null\\n            required: null\\n            not: null\\n            properties: null\\n            additionalProperties: null\\n            nullable: null\\n            readOnly: null\\n            writeOnly: null\\n            example: null\\n            externalDocs: null\\n            deprecated: null\\n            discriminator: null\\n            xml: null\\n        }\\n    }\\n    examples: null\\n    example: null\\n    content: null\\n    $ref: null\\n}&quot;,&quot;timestamp&quot;:&quot;Thu Nov 04 23:33:47 PKT 2021&quot;,&quot;status&quot;:500}\n</code></pre>\n"}],"owner":{"account_id":23228407,"reputation":11,"user_id":17319570,"display_name":"Abu Turab Munir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1426,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1636051513,"creation_date":1635952399,"question_id":69827325,"body_markdown":"**I have added swagger support to a microservice written in spring-boot.** _I am getting below error_ \r\n\r\n    HTTP ERROR 500 org.springframework.web.util.NestedServletException: Request processing failed; nested exception is java.lang.IllegalStateException: No primary or default constructor found for interface org.springframework.web.server.ServerWebExchange\r\n    \r\n    URI:\t/docs/swagger-ui.html\r\n    STATUS:\t500\r\n    MESSAGE:\torg.springframework.web.util.NestedServletException: Request processing failed; nested exception is java.lang.IllegalStateException: No primary or default constructor found for interface org.springframework.web.server.ServerWebExchange\r\n    SERVLET:\tdispatcherServlet\r\n    CAUSED BY:\torg.springframework.web.util.NestedServletException: Request processing failed; nested exception is java.lang.IllegalStateException: No primary or default constructor found for interface org.springframework.web.server.ServerWebExchange\r\n    CAUSED BY:\tjava.lang.IllegalStateException: No primary or default constructor found for interface org.springframework.web.server.ServerWebExchange\r\n    CAUSED BY:\tjava.lang.NoSuchMethodException: org.springframework.web.server.ServerWebExchange.&lt;init&gt;()\r\n\r\nand here is the gradle file of my project!\r\n\r\n    plugins {\r\n      id &#39;java-library&#39;\r\n      id &#39;idea&#39;\r\n      id &#39;io.franzbecker.gradle-lombok&#39; version &#39;4.0.0&#39;\r\n      id &#39;jacoco&#39;\r\n      id &#39;org.sonarqube&#39; version &#39;3.0&#39;\r\n      id &#39;com.github.spacialcircumstances.gradle-cucumber-reporting&#39; version &#39;0.1.22&#39;\r\n      id &#39;com.gorylenko.gradle-git-properties&#39; version &#39;2.0.0&#39;\r\n      id &quot;org.springframework.boot&quot;\r\n      id &quot;com.github.johnrengelman.processes&quot; version &quot;0.5.0&quot;\r\n      id &quot;org.springdoc.openapi-gradle-plugin&quot; version &quot;1.3.2&quot;\r\n    }\r\n    \r\n    archivesBaseName = &#39;gates-compnaygate&#39;\r\n    sourceCompatibility = 11\r\n    targetCompatibility = 11\r\n    apply from: &quot;$gradleDir/sonar.gradle&quot;\r\n    apply from: &quot;$gradleDir/docker.gradle&quot;\r\n    apply from: &quot;$gradleDir/jacoco.gradle&quot;\r\n    apply from: &quot;$gradleDir/integration-test.gradle&quot;\r\n    \r\n    apply from: &quot;../gradle/contracts.gradle&quot;\r\n    \r\n    dockerPlugin {\r\n      applicationName = archivesBaseName\r\n    }\r\n    \r\n    bootJar {\r\n      archiveFileName = &quot;${archivesBaseName}.jar&quot;\r\n    }\r\n    \r\n    contracts {\r\n      basePackageForTests = &quot;${group}.gates.compnaygate.contracts&quot;\r\n      testFramework = &#39;JUNIT5&#39;\r\n      testMode = &#39;EXPLICIT&#39;\r\n      baseClassMappings {\r\n        baseClassMapping(&quot;.*rest.*&quot;, &quot;${group}.gates.compnaygate.contract.RestBase&quot;)\r\n        baseClassMapping(&quot;.*messaging.*&quot;, &quot;${group}.gates.compnaygate.contract.MessagingBase&quot;)\r\n      }\r\n    }\r\n    \r\n    test {\r\n      useJUnitPlatform {\r\n        excludeTags &#39;integration&#39;, &#39;component&#39;\r\n      }\r\n    }\r\n    \r\n    repositories {\r\n      mavenLocal()\r\n      maven {\r\n        url = &#39;https://nexus.company-conv.com/repository/conv-deps/&#39;\r\n      }\r\n    }\r\n    \r\n    componentTest {\r\n      doFirst {\r\n        systemProperty &#39;contractTestRepositoryRoot&#39;, &quot;$nexusRepositoryUrl/contract-releases/,$nexusRepositoryUrl/contract-snapshots/&quot;\r\n      }\r\n    }\r\n    \r\n    dependencyManagement {\r\n      imports {\r\n        mavenBom &#39;org.springframework.cloud:spring-cloud-dependencies:Hoxton.SR8&#39;\r\n      }\r\n    }\r\n    \r\n    dependencies {\r\n    \r\n      configurations {\r\n        // exclude Tomcat use Netty instead\r\n        compile.exclude module: &#39;spring-boot-starter-tomcat&#39;\r\n        compile.exclude module: &#39;spring-webmvc&#39;\r\n        compile.exclude module: &#39;spring-boot-starter-web&#39;\r\n      }\r\n    \r\n      implementation(&#39;org.springdoc:springdoc-openapi-ui:1.5.9&#39;)\r\n      implementation(&#39;org.springdoc:springdoc-openapi-webmvc-core:1.5.9&#39;)\r\n      implementation(&#39;com.company.conv:common-web:0.8.0&#39;){\r\n        exclude group: &#39;org.springframework&#39;, module: &#39;spring-webmvc&#39;\r\n        exclude group: &#39;org.springframework.boot&#39;, module: &#39;spring-boot-starter-web&#39;\r\n      }\r\n    \r\n      implementation(\r\n        &#39;com.company.conv:common-log:0.1.8&#39;,\r\n        &#39;com.github.ben-manes.caffeine:caffeine&#39;,\r\n        &#39;com.github.jknack:handlebars:4.1.2&#39;,\r\n        &#39;org.apache.commons:commons-collections4:4.3&#39;,\r\n        &#39;org.springframework.cloud:spring-cloud-starter-netflix-eureka-client&#39;,\r\n        &#39;org.springframework.cloud:spring-cloud-starter-stream-kafka&#39;,\r\n        &#39;org.springframework.cloud:spring-cloud-starter-aws&#39;,\r\n        &#39;org.springframework.cloud:spring-cloud-aws-core&#39;,\r\n        &#39;org.springframework.cloud:spring-cloud-aws-autoconfigure&#39;,\r\n        &#39;org.springframework.boot:spring-boot-starter-actuator&#39;,\r\n        &#39;org.springframework.boot:spring-boot-starter-webflux&#39;,\r\n        &#39;org.springframework.boot:spring-boot-starter-jetty&#39;,\r\n        &#39;org.springframework.cloud:spring-cloud-starter-openfeign&#39;,\r\n        &#39;org.springframework.boot:spring-boot-starter-cache&#39;,\r\n        &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;,\r\n        &#39;org.springframework.boot:spring-boot-starter-batch&#39;,\r\n        &#39;org.springframework.boot:spring-boot-starter-jdbc&#39;,\r\n        &#39;io.micrometer:micrometer-registry-statsd&#39;,\r\n        &#39;ch.qos.logback.contrib:logback-json-classic:0.1.5&#39;,\r\n        &#39;ch.qos.logback.contrib:logback-jackson:0.1.5&#39;,\r\n      )\r\n      implementation(&#39;org.mapstruct:mapstruct:1.4.2.Final&#39;)\r\n      annotationProcessor(&#39;org.mapstruct:mapstruct-processor:1.4.2.Final&#39;)\r\n    \r\n      runtimeOnly(\r\n        &#39;org.postgresql:postgresql:42.2.2&#39;,\r\n        &#39;org.liquibase:liquibase-core&#39;,\r\n      )\r\n    \r\n      testImplementation(\r\n        &#39;com.fasterxml.jackson.module:jackson-module-jaxb-annotations&#39;,\r\n        &#39;com.google.guava:guava-testlib&#39;,\r\n        &#39;com.opentable.components:otj-pg-embedded:0.13.1&#39;,\r\n        /*&#39;io.rest-assured:spring-web-test-client:4.1.2&#39;,*/\r\n        &#39;org.awaitility:awaitility:3.1.6&#39;,\r\n        &#39;org.springframework.boot:spring-boot-starter-test&#39;,\r\n        &#39;org.springframework.batch:spring-batch-test&#39;,\r\n        /*&#39;org.springframework.cloud:spring-cloud-starter-contract-verifier&#39;,*/\r\n        &#39;org.springframework.cloud:spring-cloud-stream-test-support&#39;\r\n      )\r\n      testImplementation(&#39;org.springframework.cloud:spring-cloud-starter-contract-stub-runner&#39;) {\r\n        exclude group: &#39;org.springframework.boot&#39;, module: &#39;spring-boot-starter-web&#39;\r\n      }\r\n      testImplementation(&#39;org.springframework.cloud:spring-cloud-starter-contract-verifier&#39;) {\r\n        exclude group: &#39;org.springframework&#39;, module: &#39;spring-webmvc&#39;\r\n      }\r\n      testImplementation(&#39;io.rest-assured:spring-web-test-client:4.1.2&#39;) {\r\n        exclude group: &#39;org.springframework&#39;, module: &#39;spring-webmvc&#39;\r\n      }\r\n      testImplementation(&#39;io.findify:s3mock_2.12:0.2.4&#39;)\r\n      testImplementation(&quot;com.company.conv:common-component-test:${componentTestVersion}&quot;)\r\n    }\r\n    \r\n    // force to run sonarqube also after integration test to publish coverage report\r\n    project.tasks[&quot;sonarqube&quot;].dependsOn test\r\n    openApi {\r\n      apiDocsUrl.set(&quot;http://localhost:9898/v3/api-docs&quot;)\r\n      outputDir.set(file(&quot;$buildDir/docs&quot;))\r\n      outputFileName.set(&quot;swagger.json&quot;)\r\n      waitTimeInSeconds.set(90)\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"No primary or default constructor found for interface org.springframework.web.server.ServerWebExchange","body":"<p><strong>I have added swagger support to a microservice written in spring-boot.</strong> <em>I am getting below error</em></p>\n<pre><code>HTTP ERROR 500 org.springframework.web.util.NestedServletException: Request processing failed; nested exception is java.lang.IllegalStateException: No primary or default constructor found for interface org.springframework.web.server.ServerWebExchange\n\nURI:    /docs/swagger-ui.html\nSTATUS: 500\nMESSAGE:    org.springframework.web.util.NestedServletException: Request processing failed; nested exception is java.lang.IllegalStateException: No primary or default constructor found for interface org.springframework.web.server.ServerWebExchange\nSERVLET:    dispatcherServlet\nCAUSED BY:  org.springframework.web.util.NestedServletException: Request processing failed; nested exception is java.lang.IllegalStateException: No primary or default constructor found for interface org.springframework.web.server.ServerWebExchange\nCAUSED BY:  java.lang.IllegalStateException: No primary or default constructor found for interface org.springframework.web.server.ServerWebExchange\nCAUSED BY:  java.lang.NoSuchMethodException: org.springframework.web.server.ServerWebExchange.&lt;init&gt;()\n</code></pre>\n<p>and here is the gradle file of my project!</p>\n<pre><code>plugins {\n  id 'java-library'\n  id 'idea'\n  id 'io.franzbecker.gradle-lombok' version '4.0.0'\n  id 'jacoco'\n  id 'org.sonarqube' version '3.0'\n  id 'com.github.spacialcircumstances.gradle-cucumber-reporting' version '0.1.22'\n  id 'com.gorylenko.gradle-git-properties' version '2.0.0'\n  id &quot;org.springframework.boot&quot;\n  id &quot;com.github.johnrengelman.processes&quot; version &quot;0.5.0&quot;\n  id &quot;org.springdoc.openapi-gradle-plugin&quot; version &quot;1.3.2&quot;\n}\n\narchivesBaseName = 'gates-compnaygate'\nsourceCompatibility = 11\ntargetCompatibility = 11\napply from: &quot;$gradleDir/sonar.gradle&quot;\napply from: &quot;$gradleDir/docker.gradle&quot;\napply from: &quot;$gradleDir/jacoco.gradle&quot;\napply from: &quot;$gradleDir/integration-test.gradle&quot;\n\napply from: &quot;../gradle/contracts.gradle&quot;\n\ndockerPlugin {\n  applicationName = archivesBaseName\n}\n\nbootJar {\n  archiveFileName = &quot;${archivesBaseName}.jar&quot;\n}\n\ncontracts {\n  basePackageForTests = &quot;${group}.gates.compnaygate.contracts&quot;\n  testFramework = 'JUNIT5'\n  testMode = 'EXPLICIT'\n  baseClassMappings {\n    baseClassMapping(&quot;.*rest.*&quot;, &quot;${group}.gates.compnaygate.contract.RestBase&quot;)\n    baseClassMapping(&quot;.*messaging.*&quot;, &quot;${group}.gates.compnaygate.contract.MessagingBase&quot;)\n  }\n}\n\ntest {\n  useJUnitPlatform {\n    excludeTags 'integration', 'component'\n  }\n}\n\nrepositories {\n  mavenLocal()\n  maven {\n    url = 'https://nexus.company-conv.com/repository/conv-deps/'\n  }\n}\n\ncomponentTest {\n  doFirst {\n    systemProperty 'contractTestRepositoryRoot', &quot;$nexusRepositoryUrl/contract-releases/,$nexusRepositoryUrl/contract-snapshots/&quot;\n  }\n}\n\ndependencyManagement {\n  imports {\n    mavenBom 'org.springframework.cloud:spring-cloud-dependencies:Hoxton.SR8'\n  }\n}\n\ndependencies {\n\n  configurations {\n    // exclude Tomcat use Netty instead\n    compile.exclude module: 'spring-boot-starter-tomcat'\n    compile.exclude module: 'spring-webmvc'\n    compile.exclude module: 'spring-boot-starter-web'\n  }\n\n  implementation('org.springdoc:springdoc-openapi-ui:1.5.9')\n  implementation('org.springdoc:springdoc-openapi-webmvc-core:1.5.9')\n  implementation('com.company.conv:common-web:0.8.0'){\n    exclude group: 'org.springframework', module: 'spring-webmvc'\n    exclude group: 'org.springframework.boot', module: 'spring-boot-starter-web'\n  }\n\n  implementation(\n    'com.company.conv:common-log:0.1.8',\n    'com.github.ben-manes.caffeine:caffeine',\n    'com.github.jknack:handlebars:4.1.2',\n    'org.apache.commons:commons-collections4:4.3',\n    'org.springframework.cloud:spring-cloud-starter-netflix-eureka-client',\n    'org.springframework.cloud:spring-cloud-starter-stream-kafka',\n    'org.springframework.cloud:spring-cloud-starter-aws',\n    'org.springframework.cloud:spring-cloud-aws-core',\n    'org.springframework.cloud:spring-cloud-aws-autoconfigure',\n    'org.springframework.boot:spring-boot-starter-actuator',\n    'org.springframework.boot:spring-boot-starter-webflux',\n    'org.springframework.boot:spring-boot-starter-jetty',\n    'org.springframework.cloud:spring-cloud-starter-openfeign',\n    'org.springframework.boot:spring-boot-starter-cache',\n    'org.springframework.boot:spring-boot-starter-data-jpa',\n    'org.springframework.boot:spring-boot-starter-batch',\n    'org.springframework.boot:spring-boot-starter-jdbc',\n    'io.micrometer:micrometer-registry-statsd',\n    'ch.qos.logback.contrib:logback-json-classic:0.1.5',\n    'ch.qos.logback.contrib:logback-jackson:0.1.5',\n  )\n  implementation('org.mapstruct:mapstruct:1.4.2.Final')\n  annotationProcessor('org.mapstruct:mapstruct-processor:1.4.2.Final')\n\n  runtimeOnly(\n    'org.postgresql:postgresql:42.2.2',\n    'org.liquibase:liquibase-core',\n  )\n\n  testImplementation(\n    'com.fasterxml.jackson.module:jackson-module-jaxb-annotations',\n    'com.google.guava:guava-testlib',\n    'com.opentable.components:otj-pg-embedded:0.13.1',\n    /*'io.rest-assured:spring-web-test-client:4.1.2',*/\n    'org.awaitility:awaitility:3.1.6',\n    'org.springframework.boot:spring-boot-starter-test',\n    'org.springframework.batch:spring-batch-test',\n    /*'org.springframework.cloud:spring-cloud-starter-contract-verifier',*/\n    'org.springframework.cloud:spring-cloud-stream-test-support'\n  )\n  testImplementation('org.springframework.cloud:spring-cloud-starter-contract-stub-runner') {\n    exclude group: 'org.springframework.boot', module: 'spring-boot-starter-web'\n  }\n  testImplementation('org.springframework.cloud:spring-cloud-starter-contract-verifier') {\n    exclude group: 'org.springframework', module: 'spring-webmvc'\n  }\n  testImplementation('io.rest-assured:spring-web-test-client:4.1.2') {\n    exclude group: 'org.springframework', module: 'spring-webmvc'\n  }\n  testImplementation('io.findify:s3mock_2.12:0.2.4')\n  testImplementation(&quot;com.company.conv:common-component-test:${componentTestVersion}&quot;)\n}\n\n// force to run sonarqube also after integration test to publish coverage report\nproject.tasks[&quot;sonarqube&quot;].dependsOn test\nopenApi {\n  apiDocsUrl.set(&quot;http://localhost:9898/v3/api-docs&quot;)\n  outputDir.set(file(&quot;$buildDir/docs&quot;))\n  outputFileName.set(&quot;swagger.json&quot;)\n  waitTimeInSeconds.set(90)\n}\n</code></pre>\n"},{"tags":["java","swing","awt","collision-detection"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1636052083,"post_id":69844314,"comment_id":123461470,"body_markdown":"*&quot;I have no idea ..&quot;* You also have no question.","body":"<i>&quot;I have no idea ..&quot;</i> You also have no question."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1636059620,"post_id":69844314,"comment_id":123463964,"body_markdown":"At the end of the day, you&#39;ll want to learn what the APIs provide you (based on what ever framework you&#39;re using), as, personally, taking the time to do all the maths is a lot of work. If you&#39;re really interested, you could probably pull the source code and read through them.","body":"At the end of the day, you&#39;ll want to learn what the APIs provide you (based on what ever framework you&#39;re using), as, personally, taking the time to do all the maths is a lot of work. If you&#39;re really interested, you could probably pull the source code and read through them."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1636059692,"post_id":69844314,"comment_id":123463989,"body_markdown":"[example](https://stackoverflow.com/questions/21153110/brick-collision-java/21153384#21153384); [example](https://stackoverflow.com/questions/30251027/creating-many-objects-with-collision-properties-java/30251268#30251268); [example](https://stackoverflow.com/questions/20927189/detecting-collision-of-two-sprites-that-can-rotate/20928531#20928531); [example](https://stackoverflow.com/questions/13261767/java-ball-object-doesnt-bounce-off-of-drawn-rectangles-like-its-supposed-to/13263022#13263022) - as some examples based on the Shapes APIs","body":"<a href=\"https://stackoverflow.com/questions/21153110/brick-collision-java/21153384#21153384\">example</a>; <a href=\"https://stackoverflow.com/questions/30251027/creating-many-objects-with-collision-properties-java/30251268#30251268\">example</a>; <a href=\"https://stackoverflow.com/questions/20927189/detecting-collision-of-two-sprites-that-can-rotate/20928531#20928531\">example</a>; <a href=\"https://stackoverflow.com/questions/13261767/java-ball-object-doesnt-bounce-off-of-drawn-rectangles-like-its-supposed-to/13263022#13263022\">example</a> - as some examples based on the Shapes APIs"}],"owner":{"account_id":14953945,"reputation":147,"user_id":10795979,"display_name":"Bogdan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1636052029,"answer_count":0,"score":0,"last_activity_date":1636051417,"creation_date":1636051417,"question_id":69844314,"body_markdown":"I work on a little project trying to understand how collision detections is handled by engines and I did the detection part for a simple 2 square in java. I don&#39;t use a graphics library or meshes it is just java swing and java awt. This is what I have:\r\nhttps://vimeo.com/642432871\r\n\r\nI have no idea to start implementing the part where the squares collide without going one trough another.","title":"Collision Detection - Unintersecting","body":"<p>I work on a little project trying to understand how collision detections is handled by engines and I did the detection part for a simple 2 square in java. I don't use a graphics library or meshes it is just java swing and java awt. This is what I have:\n<a href=\"https://vimeo.com/642432871\" rel=\"nofollow noreferrer\">https://vimeo.com/642432871</a></p>\n<p>I have no idea to start implementing the part where the squares collide without going one trough another.</p>\n"},{"tags":["java","c++","multithreading","performance","shared-memory"],"comments":[{"owner":{"account_id":44872,"reputation":70905,"user_id":131930,"accept_rate":91,"display_name":"Jeremy Friesner"},"score":4,"creation_date":1422392305,"post_id":28179820,"comment_id":44728795,"body_markdown":"The usual answer for this sort of question is &quot;it depends; try it both ways and measure the results for yourself, otherwise you&#39;ll never know for sure&quot;","body":"The usual answer for this sort of question is &quot;it depends; try it both ways and measure the results for yourself, otherwise you&#39;ll never know for sure&quot;"},{"owner":{"account_id":2753086,"reputation":2869,"user_id":2371987,"accept_rate":95,"display_name":"Francisco Maria Calisto"},"score":0,"creation_date":1422392861,"post_id":28179820,"comment_id":44729090,"body_markdown":"I do not have this requisites to test it on the right way. On the other hand my conclusion is, since we have on _&quot;Option 1&quot;_ an increment of the constant 4, I jump 4 over 4 values of this constant to calculate over the threads the value of A[i]. On _&quot;Option 2&quot;_ I can conclude an unit increment of the variable `i` but the threads are working between `tid*(MAX/4)` and `(tid+1)*(MAX/4)`.","body":"I do not have this requisites to test it on the right way. On the other hand my conclusion is, since we have on <i>&quot;Option 1&quot;</i> an increment of the constant 4, I jump 4 over 4 values of this constant to calculate over the threads the value of A[i]. On <i>&quot;Option 2&quot;</i> I can conclude an unit increment of the variable <code>i</code> but the threads are working between <code>tid*(MAX&#47;4)</code> and <code>(tid+1)*(MAX&#47;4)</code>."},{"owner":{"account_id":2753086,"reputation":2869,"user_id":2371987,"accept_rate":95,"display_name":"Francisco Maria Calisto"},"score":0,"creation_date":1422393020,"post_id":28179820,"comment_id":44729169,"body_markdown":"In that way I will have on _&quot;Option 2&quot;_ a bigger thread with less space then _&quot;Option 1&quot;_, so more efficiency by picking _&quot;Option 2&quot;_.","body":"In that way I will have on <i>&quot;Option 2&quot;</i> a bigger thread with less space then <i>&quot;Option 1&quot;</i>, so more efficiency by picking <i>&quot;Option 2&quot;</i>."}],"answers":[{"tags":[],"owner":{"account_id":1810904,"reputation":2972,"user_id":1646996,"accept_rate":84,"display_name":"qqibrow"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1422415852,"creation_date":1422400584,"answer_id":28181831,"question_id":28179820,"body_markdown":"The second one is better than the first one. Simple answer:  the second one minimize [false sharing](http://en.wikipedia.org/wiki/False_sharing)\r\n\r\nModern CPU doesn&#39;t not load byte one by one to the cache. It read once in a batch called cache line. When two threads trying to modify different variables on the same cache line, one must reload the cache after one modify it.\r\n\r\n**When would this happen?**\r\n\r\nBasically, elements nearby in memory will be in the same cache line. So, neighbor elements in array will be in the same cache line since array is just a chunk of memory.  And foo1 and foo2 might be in the same cache line as well since they are defined close in the same class. \r\n\r\n    class Foo {\r\n    \r\n    private int foo1;\r\n    private int foo2;\r\n    \r\n    }\r\n\r\n**How bad is false sharing?**\r\n\r\nI refer Example 6 from the [Gallery of Processor Cache Effects](http://igoro.com/archive/gallery-of-processor-cache-effects/)\r\n&gt; \r\n    private static int[] s_counter = new int[1024];\r\n    private void UpdateCounter(int position)\r\n    {\r\n        for (int j = 0; j &lt; 100000000; j++)\r\n        {\r\n            s_counter[position] = s_counter[position] + 3;\r\n        }\r\n    }\r\n\r\n&gt;On my quad-core machine, if I call UpdateCounter with parameters 0,1,2,3 from four different threads, it will take 4.3 seconds until all threads are done.\r\nOn the other hand, if I call UpdateCounter with parameters 16,32,48,64 the operation will be done in 0.28 seconds!\r\n\r\n**How to detect false sharing?**\r\n\r\nLinux Perf could be used to detect cache misses and therefore help you analysis such problem.\r\n\r\nrefer to the analysis from [CPU Cache Effects and Linux Perf](http://qqibrow.github.io/CPU-Cache-Effects-and-Linux-Perf/), use perf to find out L1 cache miss from almost the same code example above:\r\n\r\n&gt;     Performance counter stats for &#39;./cache_line_test 0 1 2 3&#39;:\r\n    10,055,747 L1-dcache-load-misses     #    1.54% of all L1-dcache hits   [51.24%]\r\n    \r\n    Performance counter stats for &#39;./cache_line_test 16 32 48 64&#39;:\r\n      36,992 L1-dcache-load-misses     #    0.01% of all L1-dcache hits   [50.51%]\r\n\r\nIt shows here that the total L1 caches hits will drop from 10,055,747 to 36,992 without false sharing. And the performance overhead is not here, it&#39;s in the series of loading L2, L3 cache, loading memory after false sharing.\r\n\r\n\r\n**Is there some good practice in industry?**\r\n\r\n[LMAX Disruptor](https://lmax-exchange.github.io/disruptor/) is a High Performance Inter-Thread Messaging Library and it&#39;s the default messaging system for Intra-worker communication in [Apache Storm](https://storm.apache.org/) \r\nThe underlying data structure is a simple ring buffer. But to make it fast, it use a lot of tricks to reduce false sharing. \r\n\r\nFor example, it defines the super class [RingBufferPad](https://github.com/LMAX-Exchange/disruptor/blob/master/src/main/java/com/lmax/disruptor/RingBuffer.java#L24) to create pad between elements in RingBuffer:\r\n\r\n    abstract class RingBufferPad\r\n    {\r\n        protected long p1, p2, p3, p4, p5, p6, p7;\r\n    }\r\n\r\nAlso, when it allocate memory for the buffer it create pad both in front and in tail so that it won&#39;t be affected by data in adjacent memory space:\r\n\r\n    this.entries   = new Object[sequencer.getBufferSize() + 2 * BUFFER_PAD];\r\n[source](https://github.com/LMAX-Exchange/disruptor/blob/master/src/main/java/com/lmax/disruptor/RingBuffer.java#L76)\r\n\r\nYou probably want to learn more about all the magic tricks. Take a look at one of the author&#39;s post: [Dissecting the Disruptor: Why it&#39;s so fast](http://mechanitis.blogspot.com/2011/07/dissecting-disruptor-why-its-so-fast.html)","title":"Efficiency of Multithreaded Loops","body":"<p>The second one is better than the first one. Simple answer:  the second one minimize <a href=\"http://en.wikipedia.org/wiki/False_sharing\" rel=\"noreferrer\">false sharing</a></p>\n\n<p>Modern CPU doesn't not load byte one by one to the cache. It read once in a batch called cache line. When two threads trying to modify different variables on the same cache line, one must reload the cache after one modify it.</p>\n\n<p><strong>When would this happen?</strong></p>\n\n<p>Basically, elements nearby in memory will be in the same cache line. So, neighbor elements in array will be in the same cache line since array is just a chunk of memory.  And foo1 and foo2 might be in the same cache line as well since they are defined close in the same class. </p>\n\n<pre><code>class Foo {\n\nprivate int foo1;\nprivate int foo2;\n\n}\n</code></pre>\n\n<p><strong>How bad is false sharing?</strong></p>\n\n<p>I refer Example 6 from the <a href=\"http://igoro.com/archive/gallery-of-processor-cache-effects/\" rel=\"noreferrer\">Gallery of Processor Cache Effects</a></p>\n\n<blockquote>\n<pre><code>private static int[] s_counter = new int[1024];\nprivate void UpdateCounter(int position)\n{\n    for (int j = 0; j &lt; 100000000; j++)\n    {\n        s_counter[position] = s_counter[position] + 3;\n    }\n}\n</code></pre>\n  \n  <p>On my quad-core machine, if I call UpdateCounter with parameters 0,1,2,3 from four different threads, it will take 4.3 seconds until all threads are done.\n  On the other hand, if I call UpdateCounter with parameters 16,32,48,64 the operation will be done in 0.28 seconds!</p>\n</blockquote>\n\n<p><strong>How to detect false sharing?</strong></p>\n\n<p>Linux Perf could be used to detect cache misses and therefore help you analysis such problem.</p>\n\n<p>refer to the analysis from <a href=\"http://qqibrow.github.io/CPU-Cache-Effects-and-Linux-Perf/\" rel=\"noreferrer\">CPU Cache Effects and Linux Perf</a>, use perf to find out L1 cache miss from almost the same code example above:</p>\n\n<blockquote>\n<pre><code>Performance counter stats for './cache_line_test 0 1 2 3':\n10,055,747 L1-dcache-load-misses     #    1.54% of all L1-dcache hits   [51.24%]\n</code></pre>\n</blockquote>\n\n<pre><code>Performance counter stats for './cache_line_test 16 32 48 64':\n  36,992 L1-dcache-load-misses     #    0.01% of all L1-dcache hits   [50.51%]\n</code></pre>\n\n<p>It shows here that the total L1 caches hits will drop from 10,055,747 to 36,992 without false sharing. And the performance overhead is not here, it's in the series of loading L2, L3 cache, loading memory after false sharing.</p>\n\n<p><strong>Is there some good practice in industry?</strong></p>\n\n<p><a href=\"https://lmax-exchange.github.io/disruptor/\" rel=\"noreferrer\">LMAX Disruptor</a> is a High Performance Inter-Thread Messaging Library and it's the default messaging system for Intra-worker communication in <a href=\"https://storm.apache.org/\" rel=\"noreferrer\">Apache Storm</a> \nThe underlying data structure is a simple ring buffer. But to make it fast, it use a lot of tricks to reduce false sharing. </p>\n\n<p>For example, it defines the super class <a href=\"https://github.com/LMAX-Exchange/disruptor/blob/master/src/main/java/com/lmax/disruptor/RingBuffer.java#L24\" rel=\"noreferrer\">RingBufferPad</a> to create pad between elements in RingBuffer:</p>\n\n<pre><code>abstract class RingBufferPad\n{\n    protected long p1, p2, p3, p4, p5, p6, p7;\n}\n</code></pre>\n\n<p>Also, when it allocate memory for the buffer it create pad both in front and in tail so that it won't be affected by data in adjacent memory space:</p>\n\n<pre><code>this.entries   = new Object[sequencer.getBufferSize() + 2 * BUFFER_PAD];\n</code></pre>\n\n<p><a href=\"https://github.com/LMAX-Exchange/disruptor/blob/master/src/main/java/com/lmax/disruptor/RingBuffer.java#L76\" rel=\"noreferrer\">source</a></p>\n\n<p>You probably want to learn more about all the magic tricks. Take a look at one of the author's post: <a href=\"http://mechanitis.blogspot.com/2011/07/dissecting-disruptor-why-its-so-fast.html\" rel=\"noreferrer\">Dissecting the Disruptor: Why it's so fast</a></p>\n"},{"tags":[],"owner":{"account_id":9631932,"reputation":657,"user_id":11875845,"display_name":"ais523"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1636051396,"creation_date":1636049879,"answer_id":69844008,"question_id":28179820,"body_markdown":"There are two different reasons why you should prefer option 2 over option 1. One of these is cache locality / cache contention, as explained in @qqibrow&#39;s answer; I won&#39;t explain that here as there&#39;s already a good answer explaining it.\r\n\r\nThe other reason is vectorisation. Most high-end modern processors have vector units which are capable of running the same instruction simultaneously on multiple different data (in particular, if the processor has multiple cores, it almost certainly has a vector unit, maybe even multiple vector units, on each core). For example, without the vector unit, the processor has an instruction to do an addition:\r\n\r\n    A = B + C;\r\n\r\nand the corresponding instruction in the vector unit will do multiple additions at the same time:\r\n\r\n    A1 = B1 + C1;\r\n    A2 = B2 + C2;\r\n    A3 = B3 + C3;\r\n    A4 = B4 + C4;\r\n\r\n(The exact number of additions will vary by processor model; on `int`s, common &quot;vector widths&quot; include 4 and 8 simultaneous additions, and some recent processors can do 16.)\r\n\r\nYour `for` loop looks like an obvious candidate for using the vector unit; as long as none of `A`, `B`, and `C` are pointers into the same array but with different offsets (which is possible in C++ but not Java), the compiler would be allowed to optimise option 2 into\r\n\r\n    for(i = tid*(MAX/4); i &lt; (tid+1)*(MAX/4); i+=4) {\r\n        A[i+0] = B[i+0] + C[i+0];\r\n        A[i+1] = B[i+1] + C[i+1];\r\n        A[i+2] = B[i+2] + C[i+2];\r\n        A[i+3] = B[i+3] + C[i+3];\r\n    }\r\n\r\nHowever, one limitation of the vector unit is related to memory accesses: vector units are only fast at accessing memory when they&#39;re accessing adjacent locations (such as adjacent elements in an array, or adjacent fields of a C `struct`). The option 2 code above is pretty much the best case for vectorisation of the code: the vector unit can access all the elements it needs from each array as a single block. If you tried to vectorise the option 1 code, the vector unit would take so long trying to find all the values it&#39;s working on in memory that the gains from vectorisation would be negated; it would be unlikely to run any faster than the non-vectorised code, because the memory access wouldn&#39;t be any faster, and the addition takes no time by comparison (because the processor can do the addition while it&#39;s waiting for the values to arrive from memory).\r\n\r\nIt isn&#39;t guaranteed that a compiler will be able to make use of the vector unit, but it would be much more likely to do so with option 2 than option 1. So you might find that option 2&#39;s advantage over option 1 is a factor of 4/8/16 more than you&#39;d expect if you only took cache effects into account.","title":"Efficiency of Multithreaded Loops","body":"<p>There are two different reasons why you should prefer option 2 over option 1. One of these is cache locality / cache contention, as explained in @qqibrow's answer; I won't explain that here as there's already a good answer explaining it.</p>\n<p>The other reason is vectorisation. Most high-end modern processors have vector units which are capable of running the same instruction simultaneously on multiple different data (in particular, if the processor has multiple cores, it almost certainly has a vector unit, maybe even multiple vector units, on each core). For example, without the vector unit, the processor has an instruction to do an addition:</p>\n<pre><code>A = B + C;\n</code></pre>\n<p>and the corresponding instruction in the vector unit will do multiple additions at the same time:</p>\n<pre><code>A1 = B1 + C1;\nA2 = B2 + C2;\nA3 = B3 + C3;\nA4 = B4 + C4;\n</code></pre>\n<p>(The exact number of additions will vary by processor model; on <code>int</code>s, common &quot;vector widths&quot; include 4 and 8 simultaneous additions, and some recent processors can do 16.)</p>\n<p>Your <code>for</code> loop looks like an obvious candidate for using the vector unit; as long as none of <code>A</code>, <code>B</code>, and <code>C</code> are pointers into the same array but with different offsets (which is possible in C++ but not Java), the compiler would be allowed to optimise option 2 into</p>\n<pre><code>for(i = tid*(MAX/4); i &lt; (tid+1)*(MAX/4); i+=4) {\n    A[i+0] = B[i+0] + C[i+0];\n    A[i+1] = B[i+1] + C[i+1];\n    A[i+2] = B[i+2] + C[i+2];\n    A[i+3] = B[i+3] + C[i+3];\n}\n</code></pre>\n<p>However, one limitation of the vector unit is related to memory accesses: vector units are only fast at accessing memory when they're accessing adjacent locations (such as adjacent elements in an array, or adjacent fields of a C <code>struct</code>). The option 2 code above is pretty much the best case for vectorisation of the code: the vector unit can access all the elements it needs from each array as a single block. If you tried to vectorise the option 1 code, the vector unit would take so long trying to find all the values it's working on in memory that the gains from vectorisation would be negated; it would be unlikely to run any faster than the non-vectorised code, because the memory access wouldn't be any faster, and the addition takes no time by comparison (because the processor can do the addition while it's waiting for the values to arrive from memory).</p>\n<p>It isn't guaranteed that a compiler will be able to make use of the vector unit, but it would be much more likely to do so with option 2 than option 1. So you might find that option 2's advantage over option 1 is a factor of 4/8/16 more than you'd expect if you only took cache effects into account.</p>\n"}],"owner":{"account_id":2753086,"reputation":2869,"user_id":2371987,"accept_rate":95,"display_name":"Francisco Maria Calisto"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6371,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":28181831,"answer_count":2,"score":13,"last_activity_date":1636051396,"creation_date":1422392116,"question_id":28179820,"body_markdown":"Greetings noble community,\r\n\r\nI want to have the following loop:\r\n\r\n    for(i = 0; i &lt; MAX; i++)\r\n        A[i] = B[i] + C[i];\r\n\r\nThis will run in parallel on a shared-memory quad-core computer using threads. The two alternatives below are being considered for the code to be executed by these threads, where `tid` is the id of the thread: 0, 1, 2 or 3.\r\n\r\n(for simplicity, assume `MAX` is a multiple of 4)\r\n\r\nOption 1:\r\n---------\r\n\r\n    for(i = tid; i &lt; MAX; i += 4)\r\n        A[i] = B[i] + C[i];\r\n\r\nOption 2:\r\n---------\r\n\r\n    for(i = tid*(MAX/4); i &lt; (tid+1)*(MAX/4); i++)\r\n        A[i] = B[i] + C[i];\r\n\r\nMy question is if there&#39;s one that is more efficient then the other and why?","title":"Efficiency of Multithreaded Loops","body":"<p>Greetings noble community,</p>\n\n<p>I want to have the following loop:</p>\n\n<pre><code>for(i = 0; i &lt; MAX; i++)\n    A[i] = B[i] + C[i];\n</code></pre>\n\n<p>This will run in parallel on a shared-memory quad-core computer using threads. The two alternatives below are being considered for the code to be executed by these threads, where <code>tid</code> is the id of the thread: 0, 1, 2 or 3.</p>\n\n<p>(for simplicity, assume <code>MAX</code> is a multiple of 4)</p>\n\n<h2>Option 1:</h2>\n\n<pre><code>for(i = tid; i &lt; MAX; i += 4)\n    A[i] = B[i] + C[i];\n</code></pre>\n\n<h2>Option 2:</h2>\n\n<pre><code>for(i = tid*(MAX/4); i &lt; (tid+1)*(MAX/4); i++)\n    A[i] = B[i] + C[i];\n</code></pre>\n\n<p>My question is if there's one that is more efficient then the other and why?</p>\n"},{"tags":["java","sql","oracle","algorithm","timestamp"],"comments":[{"owner":{"account_id":286249,"reputation":43941,"user_id":585411,"accept_rate":60,"display_name":"btilly"},"score":0,"creation_date":1635900808,"post_id":69813552,"comment_id":123414543,"body_markdown":"Converting them all into seconds is how I would tackle it.","body":"Converting them all into seconds is how I would tackle it."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1635915071,"post_id":69813552,"comment_id":123416738,"body_markdown":"This has been asked and answered before. Search. Search hard if you need to.","body":"This has been asked and answered before. Search. Search hard if you need to."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1635915235,"post_id":69813552,"comment_id":123416763,"body_markdown":"Would a 2 months interval start at the first timestamp, or at the beginning of the month, or at the beginning of an odd month (January, March, May, July, September, November)? How about 2 years?","body":"Would a 2 months interval start at the first timestamp, or at the beginning of the month, or at the beginning of an odd month (January, March, May, July, September, November)? How about 2 years?"},{"owner":{"account_id":2078284,"reputation":365,"user_id":1851006,"accept_rate":38,"display_name":"user1851006"},"score":1,"creation_date":1635989919,"post_id":69813552,"comment_id":123441598,"body_markdown":"@OleV.V. It&#39;d start at the beginning of the &quot;starting timestamp&quot;.","body":"@OleV.V. It&#39;d start at the beginning of the &quot;starting timestamp&quot;."}],"answers":[{"tags":[],"owner":{"account_id":3303062,"reputation":6616,"user_id":2778710,"display_name":"astentx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635920429,"creation_date":1635920429,"answer_id":69820425,"question_id":69813552,"body_markdown":"You may use `match_recognize` for this.\r\n\r\n&lt;!-- --&gt;\r\n&gt;     with t(ts) as (\r\n&gt;       select\r\n&gt;         current_timestamp\r\n&gt;         + interval &#39;3&#39; minute\r\n&gt;         * dbms_random.value(0, level)\r\n&gt;       from dual\r\n&gt;       connect by level &lt; 20\r\n&gt;     )\r\n&gt;     select *\r\n&gt;     from t\r\n&gt;     match_recognize(\r\n&gt;       order by ts asc\r\n&gt;       measures\r\n&gt;         match_number() as grp\r\n&gt;       all rows per match\r\n&gt;       pattern(a w5min*)\r\n&gt;       define\r\n&gt;         /*Rows within 5 minutes after the first row in bucket*/\r\n&gt;         w5min as ts - first(ts) &lt; interval &#39;5&#39; minute\r\n&gt;     )\r\n&gt; \r\n&gt; &lt;pre&gt;\r\n&gt; TS                  | GRP\r\n&gt; :------------------ | --:\r\n&gt; 2021-11-03 06:20:40 |   1\r\n&gt; 2021-11-03 06:20:56 |   1\r\n&gt; 2021-11-03 06:23:27 |   1\r\n&gt; 2021-11-03 06:23:49 |   1\r\n&gt; 2021-11-03 06:25:23 |   1\r\n&gt; 2021-11-03 06:25:36 |   1\r\n&gt; 2021-11-03 06:32:14 |   2\r\n&gt; 2021-11-03 06:34:38 |   2\r\n&gt; 2021-11-03 06:36:29 |   2\r\n&gt; 2021-11-03 06:36:59 |   2\r\n&gt; 2021-11-03 06:39:29 |   3\r\n&gt; 2021-11-03 06:40:17 |   3\r\n&gt; 2021-11-03 06:41:07 |   3\r\n&gt; 2021-11-03 06:47:14 |   4\r\n&gt; 2021-11-03 06:48:31 |   4\r\n&gt; 2021-11-03 06:52:29 |   5\r\n&gt; 2021-11-03 06:59:22 |   6\r\n&gt; 2021-11-03 07:02:05 |   6\r\n&gt; 2021-11-03 07:04:54 |   7\r\n&gt; &lt;/pre&gt;\r\n\r\n*db&lt;&gt;fiddle [here](https://dbfiddle.uk/?rdbms=oracle_18&amp;fiddle=7e10e956422cf3c2bf47b4ff5ff2a765)*","title":"What is the best way to group timestamps into intervals of given length in Java?","body":"<p>You may use <code>match_recognize</code> for this.</p>\n\n<blockquote>\n<pre><code>with t(ts) as (\n  select\n    current_timestamp\n    + interval '3' minute\n    * dbms_random.value(0, level)\n  from dual\n  connect by level &lt; 20\n)\nselect *\nfrom t\nmatch_recognize(\n  order by ts asc\n  measures\n    match_number() as grp\n  all rows per match\n  pattern(a w5min*)\n  define\n    /*Rows within 5 minutes after the first row in bucket*/\n    w5min as ts - first(ts) &lt; interval '5' minute\n)\n</code></pre>\n<pre>\nTS                  | GRP\n:------------------ | --:\n2021-11-03 06:20:40 |   1\n2021-11-03 06:20:56 |   1\n2021-11-03 06:23:27 |   1\n2021-11-03 06:23:49 |   1\n2021-11-03 06:25:23 |   1\n2021-11-03 06:25:36 |   1\n2021-11-03 06:32:14 |   2\n2021-11-03 06:34:38 |   2\n2021-11-03 06:36:29 |   2\n2021-11-03 06:36:59 |   2\n2021-11-03 06:39:29 |   3\n2021-11-03 06:40:17 |   3\n2021-11-03 06:41:07 |   3\n2021-11-03 06:47:14 |   4\n2021-11-03 06:48:31 |   4\n2021-11-03 06:52:29 |   5\n2021-11-03 06:59:22 |   6\n2021-11-03 07:02:05 |   6\n2021-11-03 07:04:54 |   7\n</pre>\n</blockquote>\n<p><em>db&lt;&gt;fiddle <a href=\"https://dbfiddle.uk/?rdbms=oracle_18&amp;fiddle=7e10e956422cf3c2bf47b4ff5ff2a765\" rel=\"nofollow noreferrer\">here</a></em></p>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636051266,"creation_date":1636051266,"answer_id":69844283,"question_id":69813552,"body_markdown":"Whether it’s the best way, who can tell? If you want a Java solution, I suggest this one.\r\n\r\n        OffsetDateTime[] timestamps = {\r\n        \t\tOffsetDateTime.parse(&quot;2020-05-24T18:51:10.018-07:00&quot;),\r\n        \t\tOffsetDateTime.parse(&quot;2020-03-07T23:45:02.399-08:00&quot;),\r\n        \t\tOffsetDateTime.parse(&quot;2020-05-24T20:01:11.442-07:00&quot;),\r\n        \t\tOffsetDateTime.parse(&quot;2020-03-08T01:03:05.079-08:00&quot;),\r\n        \t\tOffsetDateTime.parse(&quot;2020-05-24T19:32:34.461-07:00&quot;),\r\n        };\r\n        TemporalAmount intervalLength = Duration.ofHours(2);\r\n        \r\n        List&lt;OffsetDateTime&gt; list = new ArrayList&lt;&gt;(Arrays.asList(timestamps));\r\n        list.sort(Comparator.naturalOrder());\r\n        \r\n        List&lt;List&lt;OffsetDateTime&gt;&gt; groups = new ArrayList&lt;&gt;();\r\n        if (! list.isEmpty()) {\r\n\t\t\tList&lt;OffsetDateTime&gt; currentGroup = new ArrayList&lt;&gt;();\r\n\t\t\tIterator&lt;OffsetDateTime&gt; itr = list.iterator();\r\n\t\t\tOffsetDateTime first = itr.next();\r\n\t\t\tcurrentGroup.add(first);\r\n\t\t\tOffsetDateTime groupEnd = first.plus(intervalLength);\r\n\t\t\twhile (itr.hasNext()) {\r\n\t\t\t\tOffsetDateTime current = itr.next();\r\n\t\t\t\tif (current.isBefore(groupEnd)) {\r\n\t\t\t\t\tcurrentGroup.add(current);\r\n\t\t\t\t} else { // new group\r\n\t\t\t\t\tgroups.add(currentGroup);\r\n\t\t\t\t\tcurrentGroup = new ArrayList&lt;&gt;();\r\n\t\t\t\t\tgroupEnd = current.plus(intervalLength);\r\n\t\t\t\t\tcurrentGroup.add(current);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// remember to add last group\r\n\t\t\tgroups.add(currentGroup);\r\n\t\t}\r\n        \r\n        groups.forEach(System.out::println);\r\n\r\nOutput:\r\n\r\n&gt;     [2020-03-07T23:45:02.399-08:00, 2020-03-08T01:03:05.079-08:00]\r\n&gt;     [2020-05-24T18:51:10.018-07:00, 2020-05-24T19:32:34.461-07:00, 2020-05-24T20:01:11.442-07:00]\r\n\r\nThe advantage of declaring `intervalLength` a `TemporalAmount` is you are free to assign either a time-based `Duration` to it (as above) or a date-based `Period`.\r\n\r\n        TemporalAmount intervalLength = Period.ofMonths(3);\r\n\r\nIn this case the result is just one group:\r\n\r\n&gt; [2020-03-07T23:45:02.399-08:00, 2020-03-08T01:03:05.079-08:00,\r\n&gt; 2020-05-24T18:51:10.018-07:00, 2020-05-24T19:32:34.461-07:00,\r\n&gt; 2020-05-24T20:01:11.442-07:00]\r\n\r\n## Link\r\n\r\n[Oracle tutorial: Date Time](https://docs.oracle.com/javase/tutorial/datetime/) explaining how to use java.time.\r\n","title":"What is the best way to group timestamps into intervals of given length in Java?","body":"<p>Whether it’s the best way, who can tell? If you want a Java solution, I suggest this one.</p>\n<pre><code>    OffsetDateTime[] timestamps = {\n            OffsetDateTime.parse(&quot;2020-05-24T18:51:10.018-07:00&quot;),\n            OffsetDateTime.parse(&quot;2020-03-07T23:45:02.399-08:00&quot;),\n            OffsetDateTime.parse(&quot;2020-05-24T20:01:11.442-07:00&quot;),\n            OffsetDateTime.parse(&quot;2020-03-08T01:03:05.079-08:00&quot;),\n            OffsetDateTime.parse(&quot;2020-05-24T19:32:34.461-07:00&quot;),\n    };\n    TemporalAmount intervalLength = Duration.ofHours(2);\n    \n    List&lt;OffsetDateTime&gt; list = new ArrayList&lt;&gt;(Arrays.asList(timestamps));\n    list.sort(Comparator.naturalOrder());\n    \n    List&lt;List&lt;OffsetDateTime&gt;&gt; groups = new ArrayList&lt;&gt;();\n    if (! list.isEmpty()) {\n        List&lt;OffsetDateTime&gt; currentGroup = new ArrayList&lt;&gt;();\n        Iterator&lt;OffsetDateTime&gt; itr = list.iterator();\n        OffsetDateTime first = itr.next();\n        currentGroup.add(first);\n        OffsetDateTime groupEnd = first.plus(intervalLength);\n        while (itr.hasNext()) {\n            OffsetDateTime current = itr.next();\n            if (current.isBefore(groupEnd)) {\n                currentGroup.add(current);\n            } else { // new group\n                groups.add(currentGroup);\n                currentGroup = new ArrayList&lt;&gt;();\n                groupEnd = current.plus(intervalLength);\n                currentGroup.add(current);\n            }\n        }\n        // remember to add last group\n        groups.add(currentGroup);\n    }\n    \n    groups.forEach(System.out::println);\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<pre><code>[2020-03-07T23:45:02.399-08:00, 2020-03-08T01:03:05.079-08:00]\n[2020-05-24T18:51:10.018-07:00, 2020-05-24T19:32:34.461-07:00, 2020-05-24T20:01:11.442-07:00]\n</code></pre>\n</blockquote>\n<p>The advantage of declaring <code>intervalLength</code> a <code>TemporalAmount</code> is you are free to assign either a time-based <code>Duration</code> to it (as above) or a date-based <code>Period</code>.</p>\n<pre><code>    TemporalAmount intervalLength = Period.ofMonths(3);\n</code></pre>\n<p>In this case the result is just one group:</p>\n<blockquote>\n<p>[2020-03-07T23:45:02.399-08:00, 2020-03-08T01:03:05.079-08:00,\n2020-05-24T18:51:10.018-07:00, 2020-05-24T19:32:34.461-07:00,\n2020-05-24T20:01:11.442-07:00]</p>\n</blockquote>\n<h2>Link</h2>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">Oracle tutorial: Date Time</a> explaining how to use java.time.</p>\n"}],"owner":{"account_id":2078284,"reputation":365,"user_id":1851006,"accept_rate":38,"display_name":"user1851006"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1636051266,"creation_date":1635869244,"question_id":69813552,"body_markdown":"I have a table for metrics in Oracle DB where one of the columns is the timestamp. I need to read the metrics from the DB and group them into given intervals of any length( 2 Month or 3 Hour or 1 Days or  2 years etc) between a starting timestamp and ending timestamp. The timestamp will be of format \r\n\r\n``` 2020-05-24T18:51:10.018-07:00 ```\r\n\r\nI know I can read all the entries from the table and sort them and group them into intervals by converting them all into seconds, but is there a better way to do it ?","title":"What is the best way to group timestamps into intervals of given length in Java?","body":"<p>I have a table for metrics in Oracle DB where one of the columns is the timestamp. I need to read the metrics from the DB and group them into given intervals of any length( 2 Month or 3 Hour or 1 Days or  2 years etc) between a starting timestamp and ending timestamp. The timestamp will be of format</p>\n<p><code>2020-05-24T18:51:10.018-07:00</code></p>\n<p>I know I can read all the entries from the table and sort them and group them into intervals by converting them all into seconds, but is there a better way to do it ?</p>\n"},{"tags":["java","logging","logback","apache-commons-config"],"comments":[{"owner":{"account_id":39210,"reputation":21530,"user_id":112976,"accept_rate":67,"display_name":"poiuytrez"},"score":0,"creation_date":1434722692,"post_id":30939814,"comment_id":49915167,"body_markdown":"nope ! Plain old java.","body":"nope ! Plain old java."}],"answers":[{"tags":[],"owner":{"account_id":5368841,"reputation":9821,"user_id":4277915,"display_name":"flo"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1636051194,"creation_date":1435585277,"answer_id":31117271,"question_id":30939814,"body_markdown":"**Method 1: Loading from different files**\r\n\r\nYou can hold two different configurations files and load the file for the specific enviroment with `JoranConfiguratior#doConfigure` at application startup.\r\n\r\nSee http://logback.qos.ch/manual/configuration.html#joranDirectly.\r\nExample code also taken from there with modifications for your case:\r\n\r\n    public class MyApp3 {\r\n      final static String STAGING_CONFIGURATION = &quot;/path/to/staging.xml&quot;;\r\n      final static String PRODUCTION_CONFIGURATION  = &quot;/path/to/production.xml&quot;;\r\n\r\n      final static Logger logger = LoggerFactory.getLogger(MyApp3.class);\r\n    \r\n      public static void main(String[] args) {\r\n        // assume SLF4J is bound to logback in the current environment\r\n        LoggerContext context = (LoggerContext) LoggerFactory.getILoggerFactory();\r\n\r\n        // determine environmental specific configuration path\r\n        final String path = isProdcution() ?  PRODUCTION_CONFIGURATION : STAGING_CONFIGURATION;\r\n\r\n        try {\r\n          JoranConfigurator configurator = new JoranConfigurator();\r\n          configurator.setContext(context);\r\n          // Call context.reset() to clear any previous configuration, e.g. default \r\n          // configuration. For multi-step configuration, omit calling context.reset().\r\n          context.reset(); \r\n          configurator.doConfigure(path);\r\n        } catch (JoranException je) {\r\n          // StatusPrinter will handle this\r\n        }\r\n        StatusPrinter.printInCaseOfErrorsOrWarnings(context);\r\n    \r\n        logger.info(&quot;Entering application.&quot;);\r\n    \r\n        Foo foo = new Foo();\r\n        foo.doIt();\r\n        logger.info(&quot;Exiting application.&quot;);\r\n      }\r\n    }\r\n\r\nOf course, your code for getting the correct filename could be adjusted fitting your needs. \r\nFurthermore, there are some overloaded `doConfigure` methods (http://logback.qos.ch/apidocs/ch/qos/logback/core/joran/GenericConfigurator.html#doConfigure%28java.io.File%29) which takes InputStreams, Files and URLs as well.\r\n\r\n**Method 2: Using conditionals in one file**\r\n\r\nIf you can determine your environment using logback&#39;s built-in properties or system properties, you can use conditional configurations:\r\n\r\nhttp://logback.qos.ch/manual/configuration.html#conditional\r\n\r\n    &lt;!-- if-then form --&gt;\r\n    &lt;if condition=&quot;condition for your production&quot;&gt;\r\n        &lt;then&gt;\r\n           ...\r\n        &lt;/then&gt;\r\n        &lt;else&gt;\r\n           ...\r\n        &lt;/else&gt;\r\n    &lt;/if&gt;","title":"How to set logback configuration file at runtime?","body":"<p><strong>Method 1: Loading from different files</strong></p>\n<p>You can hold two different configurations files and load the file for the specific enviroment with <code>JoranConfiguratior#doConfigure</code> at application startup.</p>\n<p>See <a href=\"http://logback.qos.ch/manual/configuration.html#joranDirectly\" rel=\"nofollow noreferrer\">http://logback.qos.ch/manual/configuration.html#joranDirectly</a>.\nExample code also taken from there with modifications for your case:</p>\n<pre><code>public class MyApp3 {\n  final static String STAGING_CONFIGURATION = &quot;/path/to/staging.xml&quot;;\n  final static String PRODUCTION_CONFIGURATION  = &quot;/path/to/production.xml&quot;;\n\n  final static Logger logger = LoggerFactory.getLogger(MyApp3.class);\n\n  public static void main(String[] args) {\n    // assume SLF4J is bound to logback in the current environment\n    LoggerContext context = (LoggerContext) LoggerFactory.getILoggerFactory();\n\n    // determine environmental specific configuration path\n    final String path = isProdcution() ?  PRODUCTION_CONFIGURATION : STAGING_CONFIGURATION;\n\n    try {\n      JoranConfigurator configurator = new JoranConfigurator();\n      configurator.setContext(context);\n      // Call context.reset() to clear any previous configuration, e.g. default \n      // configuration. For multi-step configuration, omit calling context.reset().\n      context.reset(); \n      configurator.doConfigure(path);\n    } catch (JoranException je) {\n      // StatusPrinter will handle this\n    }\n    StatusPrinter.printInCaseOfErrorsOrWarnings(context);\n\n    logger.info(&quot;Entering application.&quot;);\n\n    Foo foo = new Foo();\n    foo.doIt();\n    logger.info(&quot;Exiting application.&quot;);\n  }\n}\n</code></pre>\n<p>Of course, your code for getting the correct filename could be adjusted fitting your needs.\nFurthermore, there are some overloaded <code>doConfigure</code> methods (<a href=\"http://logback.qos.ch/apidocs/ch/qos/logback/core/joran/GenericConfigurator.html#doConfigure%28java.io.File%29\" rel=\"nofollow noreferrer\">http://logback.qos.ch/apidocs/ch/qos/logback/core/joran/GenericConfigurator.html#doConfigure%28java.io.File%29</a>) which takes InputStreams, Files and URLs as well.</p>\n<p><strong>Method 2: Using conditionals in one file</strong></p>\n<p>If you can determine your environment using logback's built-in properties or system properties, you can use conditional configurations:</p>\n<p><a href=\"http://logback.qos.ch/manual/configuration.html#conditional\" rel=\"nofollow noreferrer\">http://logback.qos.ch/manual/configuration.html#conditional</a></p>\n<pre><code>&lt;!-- if-then form --&gt;\n&lt;if condition=&quot;condition for your production&quot;&gt;\n    &lt;then&gt;\n       ...\n    &lt;/then&gt;\n    &lt;else&gt;\n       ...\n    &lt;/else&gt;\n&lt;/if&gt;\n</code></pre>\n"}],"owner":{"account_id":39210,"reputation":21530,"user_id":112976,"accept_rate":67,"display_name":"poiuytrez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10747,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":31117271,"answer_count":1,"score":15,"last_activity_date":1636051194,"creation_date":1434721676,"question_id":30939814,"body_markdown":"I would like to have a logback.xml file for production and another one with different parameters on my staging environment. My code is able to automatically know at runtime if it is on production or runtime. Is there a way to set the logback configuration file at runtime? \r\n","title":"How to set logback configuration file at runtime?","body":"<p>I would like to have a logback.xml file for production and another one with different parameters on my staging environment. My code is able to automatically know at runtime if it is on production or runtime. Is there a way to set the logback configuration file at runtime? </p>\n"},{"tags":["java","collections","maps","linkedhashmap"],"comments":[{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1634660525,"post_id":69634221,"comment_id":123083091,"body_markdown":"It does not contain those values. Read the documentation for `Map`, especially the documentation for `put`.","body":"It does not contain those values. Read the documentation for <code>Map</code>, especially the documentation for <code>put</code>."},{"owner":{"account_id":20286608,"reputation":1,"user_id":14879157,"display_name":"Sachin Singh"},"score":0,"creation_date":1634727504,"post_id":69634221,"comment_id":123101280,"body_markdown":"now i have changed the it to arraylist now can you tell?","body":"now i have changed the it to arraylist now can you tell?"}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636051181,"creation_date":1636051181,"answer_id":69844271,"question_id":69634221,"body_markdown":"First, the data container here does not appear to be a `List&lt;String&gt;`, it is rather a `Map&lt;String, String&gt;` because `List` does not have method `put(K key, V value);` while `Map` does.\r\n\r\nHowever, if method `Map::put` is used, it overwrites previous values with the new ones.  So, a custom map may be implemented with the overridden method `put` (as well as `putAll`) to compare the values and keep the one with the &quot;highest&quot; version.\r\n```java\r\nclass MyMap&lt;K, V&gt; extends LinkedHashMap&lt;K, V&gt; {\r\n\r\n    private final Comparator&lt;V&gt; valueComparator;\r\n\r\n    public MyMap(Comparator&lt;V&gt; valueComparator) {\r\n        super();\r\n        this.valueComparator = valueComparator;\r\n    }\r\n\r\n    @Override\r\n    public V put(K key, V value) {\r\n        return compute(key, \r\n            (k, v) -&gt; v == null ? value // value missing\r\n                                : valueComparator.compare(v, value) &lt; 0 \r\n                                ? value : v // keep the max of two\r\n        );\r\n    }\r\n\r\n    @Override\r\n    public void putAll(Map&lt;? extends K, ? extends V&gt; m) {\r\n        m.forEach(this::put);\r\n    }\r\n}\r\n```\r\nAssuming that in the existing examples the values can be compared as usual Strings, the map may be created as follows:\r\n```java\r\n// use plain String comparison\r\nMap&lt;String, String&gt; data = new MyMap&lt;&gt;(String::compareTo);\r\n\r\ndata.put(&quot;A101&quot;, &quot;2020_1.0&quot;);\r\ndata.put(&quot;A101&quot;, &quot;2020_3.0&quot;);\r\ndata.put(&quot;A101&quot;, &quot;2020_2.0&quot;);\r\ndata.put(&quot;A102&quot;, &quot;2020_2.0&quot;);\r\ndata.put(&quot;A102&quot;, &quot;2020_1.0&quot;);\r\n\r\nSystem.out.println(data);\r\n```\r\nOutput:\r\n```\r\n{A101=2020_3.0, A102=2020_2.0}\r\n```\r\nIf the &quot;version&quot; values have more complex comparison rules (e.g. split to integer parts as in `9.1` and `10.0`, exclude some prefix/suffix, etc.), a custom comparator needs to be implemented.","title":"get the highest version number for the id from arraylist in java","body":"<p>First, the data container here does not appear to be a <code>List&lt;String&gt;</code>, it is rather a <code>Map&lt;String, String&gt;</code> because <code>List</code> does not have method <code>put(K key, V value);</code> while <code>Map</code> does.</p>\n<p>However, if method <code>Map::put</code> is used, it overwrites previous values with the new ones.  So, a custom map may be implemented with the overridden method <code>put</code> (as well as <code>putAll</code>) to compare the values and keep the one with the &quot;highest&quot; version.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class MyMap&lt;K, V&gt; extends LinkedHashMap&lt;K, V&gt; {\n\n    private final Comparator&lt;V&gt; valueComparator;\n\n    public MyMap(Comparator&lt;V&gt; valueComparator) {\n        super();\n        this.valueComparator = valueComparator;\n    }\n\n    @Override\n    public V put(K key, V value) {\n        return compute(key, \n            (k, v) -&gt; v == null ? value // value missing\n                                : valueComparator.compare(v, value) &lt; 0 \n                                ? value : v // keep the max of two\n        );\n    }\n\n    @Override\n    public void putAll(Map&lt;? extends K, ? extends V&gt; m) {\n        m.forEach(this::put);\n    }\n}\n</code></pre>\n<p>Assuming that in the existing examples the values can be compared as usual Strings, the map may be created as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// use plain String comparison\nMap&lt;String, String&gt; data = new MyMap&lt;&gt;(String::compareTo);\n\ndata.put(&quot;A101&quot;, &quot;2020_1.0&quot;);\ndata.put(&quot;A101&quot;, &quot;2020_3.0&quot;);\ndata.put(&quot;A101&quot;, &quot;2020_2.0&quot;);\ndata.put(&quot;A102&quot;, &quot;2020_2.0&quot;);\ndata.put(&quot;A102&quot;, &quot;2020_1.0&quot;);\n\nSystem.out.println(data);\n</code></pre>\n<p>Output:</p>\n<pre><code>{A101=2020_3.0, A102=2020_2.0}\n</code></pre>\n<p>If the &quot;version&quot; values have more complex comparison rules (e.g. split to integer parts as in <code>9.1</code> and <code>10.0</code>, exclude some prefix/suffix, etc.), a custom comparator needs to be implemented.</p>\n"}],"owner":{"account_id":20286608,"reputation":1,"user_id":14879157,"display_name":"Sachin Singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1636051181,"creation_date":1634659460,"question_id":69634221,"body_markdown":"I have a arraylist which contains these values:\r\n\r\n```\r\nArrayList&lt;string,string&gt; list= new ArrayList&lt;&gt;();\r\nlist.put(&quot;A101&quot;,&quot;2020_1.0&quot;);\r\nlist.put(&quot;A101&quot;,&quot;2020_3.0&quot;);\r\nlist.put(&quot;A101&quot;,&quot;2020_2.0&quot;);\r\nlist.put(&quot;A102&quot;,&quot;2020_2.0&quot;);\r\nlist.put(&quot;A102&quot;,&quot;2020_1.0&quot;);\r\n```\r\n\r\nI need to get:\r\nA101 2020_3.0 and\r\nA102 2020_2.0","title":"get the highest version number for the id from arraylist in java","body":"<p>I have a arraylist which contains these values:</p>\n<pre><code>ArrayList&lt;string,string&gt; list= new ArrayList&lt;&gt;();\nlist.put(&quot;A101&quot;,&quot;2020_1.0&quot;);\nlist.put(&quot;A101&quot;,&quot;2020_3.0&quot;);\nlist.put(&quot;A101&quot;,&quot;2020_2.0&quot;);\nlist.put(&quot;A102&quot;,&quot;2020_2.0&quot;);\nlist.put(&quot;A102&quot;,&quot;2020_1.0&quot;);\n</code></pre>\n<p>I need to get:\nA101 2020_3.0 and\nA102 2020_2.0</p>\n"},{"tags":["java","if-statement","hashmap"],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636050641,"creation_date":1636050641,"answer_id":69844166,"question_id":69844085,"body_markdown":"You need to use `Map.getOrDefault(key,defValue)` which returns the value in the map or the default value - second parameter.\r\n\r\n    product.setXYZ(map.getOrDefault(&quot;xyz&quot;, &quot;NOT_EXIST&quot;));\r\n\r\nNote: since JDK1.8","title":"How to avoid too many if while checking hash map key exist or not in java","body":"<p>You need to use <code>Map.getOrDefault(key,defValue)</code> which returns the value in the map or the default value - second parameter.</p>\n<pre><code>product.setXYZ(map.getOrDefault(&quot;xyz&quot;, &quot;NOT_EXIST&quot;));\n</code></pre>\n<p>Note: since JDK1.8</p>\n"},{"tags":[],"owner":{"account_id":3262389,"reputation":135,"user_id":2747692,"display_name":"Magyar D&#225;vid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636051036,"creation_date":1636051036,"answer_id":69844243,"question_id":69844085,"body_markdown":"You should use the [`Map::getOrDefault`][1] method, like so:\r\n```java\r\nMap&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\nProduct product = new Product();\r\n//...\r\nproduct.setName(map.getOrDefault(&quot;name&quot;, &quot;NOT_EXIST&quot;));\r\nproduct.setProductId(map.getOrDefault(&quot;productId&quot;, &quot;NOT_EXIST&quot;));\r\nproduct.setProductSerial(map.getOrDefault(&quot;productSerial&quot;, &quot;NOT_EXIST&quot;))\r\n//...\r\n```\r\n\r\nIf you have tons of such properties to set, then you can also consider using Reflection - although it&#39;s better to avoid it in my opinion when possible.\r\n\r\nAlso, you don&#39;t have to cast the value returned by the map, since you have the map type specified `Map&lt;String,String&gt;`, meaning, that all your `.get(..)` and `.getOrDefault(..)` calls are known to always return `String` (or `null`) object :)\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#getOrDefault-java.lang.Object-V-","title":"How to avoid too many if while checking hash map key exist or not in java","body":"<p>You should use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#getOrDefault-java.lang.Object-V-\" rel=\"nofollow noreferrer\"><code>Map::getOrDefault</code></a> method, like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\nProduct product = new Product();\n//...\nproduct.setName(map.getOrDefault(&quot;name&quot;, &quot;NOT_EXIST&quot;));\nproduct.setProductId(map.getOrDefault(&quot;productId&quot;, &quot;NOT_EXIST&quot;));\nproduct.setProductSerial(map.getOrDefault(&quot;productSerial&quot;, &quot;NOT_EXIST&quot;))\n//...\n</code></pre>\n<p>If you have tons of such properties to set, then you can also consider using Reflection - although it's better to avoid it in my opinion when possible.</p>\n<p>Also, you don't have to cast the value returned by the map, since you have the map type specified <code>Map&lt;String,String&gt;</code>, meaning, that all your <code>.get(..)</code> and <code>.getOrDefault(..)</code> calls are known to always return <code>String</code> (or <code>null</code>) object :)</p>\n"}],"owner":{"account_id":21733790,"reputation":387,"user_id":16042088,"display_name":"Mike Marsh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69844243,"answer_count":2,"score":0,"last_activity_date":1636051036,"creation_date":1636050226,"question_id":69844085,"body_markdown":"I&#39;ve map where user set these fields `name`, `productId`, `productSerial`, `productDesc`, `productPrice` since all these are **optional** fields before setting in Java bean I&#39;ve to check if `key` is exist or not and set the value. To achieve this I&#39;ve written the below code but I&#39;m having too many `if-else` conditions to do that. Can someone please suggest how we can write this code efficiently in java? Sorry, I&#39;m new to Java so apologize for the poor coding. Appreciate your help in advance. Thanks!\r\n\r\n**Product.java**\r\n\r\n    public class Product {\r\n    \r\n        private String name;\r\n        private String productId;\r\n        private String productSerial;\r\n        private String productDesc;\r\n        private String productPrice;\r\n    }\r\n\r\n**Main.java**\r\n\r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n            map.put(&quot;name&quot;, &quot;iPhone&quot;);\r\n            map.put(&quot;productId&quot;, &quot;2342343&quot;);\r\n            map.put(&quot;productSerial&quot;, &quot;FG44D#KLD&quot;);\r\n            map.put(&quot;productDesc&quot;, &quot;iPhone plus&quot;);\r\n            map.put(&quot;productPrice&quot;, &quot;1500&quot;);\r\n    \r\n            Product product = new Product();\r\n    \r\n            if (map.containsKey(&quot;name&quot;)) {\r\n                product.setName((String) map.get(&quot;name&quot;));\r\n            } else {\r\n                product.setName(&quot;NOT_EXIST&quot;);\r\n            }\r\n            if (map.containsKey(&quot;productId&quot;)) {\r\n                product.setProductId((String) map.get(&quot;productId&quot;));\r\n            } else {\r\n                product.setProductId(&quot;NOT_EXIST&quot;);\r\n            }\r\n            if (map.containsKey(&quot;productSerial&quot;)) {\r\n                product.setProductSerial((String) map.get(&quot;productSerial&quot;));\r\n            } else {\r\n                product.setProductSerial(&quot;NOT_EXIST&quot;);\r\n            }\r\n            if (map.containsKey(&quot;productDesc&quot;)) {\r\n                product.setProductDesc((String) map.get(&quot;productDesc&quot;));\r\n            } else {\r\n                product.setProductDesc(&quot;NOT_EXIST&quot;);\r\n            }\r\n    \r\n            if (map.containsKey(&quot;productPrice&quot;)) {\r\n                product.setProductPrice((String) map.get(&quot;productPrice&quot;));\r\n            } else {\r\n                product.setProductPrice(&quot;NOT_EXIST&quot;);\r\n            }\r\n        }\r\n    \r\n    }","title":"How to avoid too many if while checking hash map key exist or not in java","body":"<p>I've map where user set these fields <code>name</code>, <code>productId</code>, <code>productSerial</code>, <code>productDesc</code>, <code>productPrice</code> since all these are <strong>optional</strong> fields before setting in Java bean I've to check if <code>key</code> is exist or not and set the value. To achieve this I've written the below code but I'm having too many <code>if-else</code> conditions to do that. Can someone please suggest how we can write this code efficiently in java? Sorry, I'm new to Java so apologize for the poor coding. Appreciate your help in advance. Thanks!</p>\n<p><strong>Product.java</strong></p>\n<pre><code>public class Product {\n\n    private String name;\n    private String productId;\n    private String productSerial;\n    private String productDesc;\n    private String productPrice;\n}\n</code></pre>\n<p><strong>Main.java</strong></p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n\n        Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\n        map.put(&quot;name&quot;, &quot;iPhone&quot;);\n        map.put(&quot;productId&quot;, &quot;2342343&quot;);\n        map.put(&quot;productSerial&quot;, &quot;FG44D#KLD&quot;);\n        map.put(&quot;productDesc&quot;, &quot;iPhone plus&quot;);\n        map.put(&quot;productPrice&quot;, &quot;1500&quot;);\n\n        Product product = new Product();\n\n        if (map.containsKey(&quot;name&quot;)) {\n            product.setName((String) map.get(&quot;name&quot;));\n        } else {\n            product.setName(&quot;NOT_EXIST&quot;);\n        }\n        if (map.containsKey(&quot;productId&quot;)) {\n            product.setProductId((String) map.get(&quot;productId&quot;));\n        } else {\n            product.setProductId(&quot;NOT_EXIST&quot;);\n        }\n        if (map.containsKey(&quot;productSerial&quot;)) {\n            product.setProductSerial((String) map.get(&quot;productSerial&quot;));\n        } else {\n            product.setProductSerial(&quot;NOT_EXIST&quot;);\n        }\n        if (map.containsKey(&quot;productDesc&quot;)) {\n            product.setProductDesc((String) map.get(&quot;productDesc&quot;));\n        } else {\n            product.setProductDesc(&quot;NOT_EXIST&quot;);\n        }\n\n        if (map.containsKey(&quot;productPrice&quot;)) {\n            product.setProductPrice((String) map.get(&quot;productPrice&quot;));\n        } else {\n            product.setProductPrice(&quot;NOT_EXIST&quot;);\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","functional-programming","hashmap","java-stream","linkedhashmap"],"comments":[{"owner":{"account_id":7380656,"reputation":1500,"user_id":5617485,"display_name":"tsamridh86"},"score":0,"creation_date":1635995979,"post_id":69834167,"comment_id":123442453,"body_markdown":"while your calculations are correct, to get the desired output, you should iterate through both the key and the value at the same time, do your math &amp; reassigned the value to the current key.","body":"while your calculations are correct, to get the desired output, you should iterate through both the key and the value at the same time, do your math &amp; reassigned the value to the current key."},{"owner":{"account_id":20719168,"reputation":47,"user_id":15213946,"display_name":"mike kong"},"score":0,"creation_date":1635996193,"post_id":69834167,"comment_id":123442481,"body_markdown":"is the java stream ```foreach``` applicable in this case to iterate the key and values at the same time?","body":"is the java stream <code>foreach</code> applicable in this case to iterate the key and values at the same time?"},{"owner":{"account_id":7380656,"reputation":1500,"user_id":5617485,"display_name":"tsamridh86"},"score":0,"creation_date":1635996229,"post_id":69834167,"comment_id":123442489,"body_markdown":"not exactly, you iterate the keys instead and then call the `get` method in every iteration.","body":"not exactly, you iterate the keys instead and then call the <code>get</code> method in every iteration."},{"owner":{"account_id":20719168,"reputation":47,"user_id":15213946,"display_name":"mike kong"},"score":0,"creation_date":1635996497,"post_id":69834167,"comment_id":123442525,"body_markdown":"okay, so iterate the keys, then for each iteration of keys, use ```get``` to retrieve the integer list for each keys; when get the list, apply my above calculation for the sum of list, am I right?","body":"okay, so iterate the keys, then for each iteration of keys, use <code>get</code> to retrieve the integer list for each keys; when get the list, apply my above calculation for the sum of list, am I right?"}],"answers":[{"tags":[],"owner":{"account_id":16145881,"reputation":441,"user_id":11655642,"display_name":"shockwave"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635996500,"creation_date":1635996500,"answer_id":69834234,"question_id":69834167,"body_markdown":"You could try this \r\n\r\n    Map&lt;LocalDate,Integer&gt; result = new LinkedHashMap&lt;&gt;();\r\n    map.forEach((key, value) -&gt; {\r\n     result.put(key,value.stream().mapToInt(Integer::intValue).sum());\r\n    });","title":"How to compute sum for each list in Map&lt;&gt;?","body":"<p>You could try this</p>\n<pre><code>Map&lt;LocalDate,Integer&gt; result = new LinkedHashMap&lt;&gt;();\nmap.forEach((key, value) -&gt; {\n result.put(key,value.stream().mapToInt(Integer::intValue).sum());\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11953108,"reputation":1423,"user_id":8746228,"display_name":"adarsh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636050809,"creation_date":1636050809,"answer_id":69844196,"question_id":69834167,"body_markdown":"`toMap` is a good candidate here:\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    Map&lt;LocalDate,List&lt;Integer&gt;&gt; map = new LinkedHashMap&lt;&gt;();\r\n\r\n    map.put(LocalDate.of(2020,01,22), List.of(0, 0, 7, 0, 0, 0, 0, 0, 3, 8, 0, 4,0));\r\n    map.put(LocalDate.of(2020,01,23), List.of(0, 0, 7, 0, 0, 0, 0, 0, 3, 0, 0, 4,0));\r\n    map.put(LocalDate.of(2020,01,24), List.of(0, 0, 7, 0, 0, 0, 0, 0, 3, 0, 0, 5,0));\r\n    map.put(LocalDate.of(2020,01,25), List.of(0, 0, 8, 0, 0, 0, 0, 0, 3, 0, 0, 4,0));\r\n    map.put(LocalDate.of(2020,01,26), List.of(0, 0, 7, 0, 0, 0, 0, 0, 3, 0, 0, 8,0));\r\n    map.put(LocalDate.of(2020,01,27), List.of(0, 0, 9, 0, 0, 0, 0, 0, 3, 0, 0, 4,0));\r\n\r\n    var output = map.entrySet().stream()\r\n                  .collect(toMap(Map.Entry::getKey,\r\n                                 e -&gt; e.getValue().stream().reduce(0, Integer::sum)));\r\n\r\n    System.out.println(output);\r\n}\r\n\r\n```\r\n\r\nOne of the overloaded [toMap](https://www.baeldung.com/java-collectors-tomap#:~:text=Java%208%20Collectors%20toMap%201%20Overview.%20In%20this,4%20Other%20Map%20Types.%20...%205%20Conclusion.%20) takes a\r\n*keyMapper* - here, it&#39;s the key as in original map\r\nand a *valueMapper* - here, we map (get) the value by summing the numbers in list.\r\n\r\nThe output of above code may look like:\r\n\r\n```java\r\n{2020-01-27=16, 2020-01-26=18, 2020-01-25=15, 2020-01-24=15, 2020-01-23=14, 2020-01-22=22}\r\n```\r\n\r\nYou can use an overloaded `toMap` to instruct to use a `LinkedHashMap`:\r\n```java\r\nvar output = map.entrySet().stream()\r\n               .collect(toMap(\r\n                  Map.Entry::getKey, \r\n                  e -&gt; e.getValue().stream().reduce(0, Integer::sum), \r\n                  // Conflict resolving function: If the same key is seen again, \r\n                  // use the latest value. \r\n                  (oldValue, newValue) -&gt; newValue, \r\n                  LinkedHashMap::new));\r\n\r\nSystem.out.println(output);\r\n\r\n```\r\n\r\nThe output for above code is:\r\n\r\n```java\r\n{2020-01-22=22, 2020-01-23=14, 2020-01-24=15, 2020-01-25=15, 2020-01-26=18, 2020-01-27=16}\r\n```","title":"How to compute sum for each list in Map&lt;&gt;?","body":"<p><code>toMap</code> is a good candidate here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    Map&lt;LocalDate,List&lt;Integer&gt;&gt; map = new LinkedHashMap&lt;&gt;();\n\n    map.put(LocalDate.of(2020,01,22), List.of(0, 0, 7, 0, 0, 0, 0, 0, 3, 8, 0, 4,0));\n    map.put(LocalDate.of(2020,01,23), List.of(0, 0, 7, 0, 0, 0, 0, 0, 3, 0, 0, 4,0));\n    map.put(LocalDate.of(2020,01,24), List.of(0, 0, 7, 0, 0, 0, 0, 0, 3, 0, 0, 5,0));\n    map.put(LocalDate.of(2020,01,25), List.of(0, 0, 8, 0, 0, 0, 0, 0, 3, 0, 0, 4,0));\n    map.put(LocalDate.of(2020,01,26), List.of(0, 0, 7, 0, 0, 0, 0, 0, 3, 0, 0, 8,0));\n    map.put(LocalDate.of(2020,01,27), List.of(0, 0, 9, 0, 0, 0, 0, 0, 3, 0, 0, 4,0));\n\n    var output = map.entrySet().stream()\n                  .collect(toMap(Map.Entry::getKey,\n                                 e -&gt; e.getValue().stream().reduce(0, Integer::sum)));\n\n    System.out.println(output);\n}\n\n</code></pre>\n<p>One of the overloaded <a href=\"https://www.baeldung.com/java-collectors-tomap#:%7E:text=Java%208%20Collectors%20toMap%201%20Overview.%20In%20this,4%20Other%20Map%20Types.%20...%205%20Conclusion.%20\" rel=\"nofollow noreferrer\">toMap</a> takes a\n<em>keyMapper</em> - here, it's the key as in original map\nand a <em>valueMapper</em> - here, we map (get) the value by summing the numbers in list.</p>\n<p>The output of above code may look like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>{2020-01-27=16, 2020-01-26=18, 2020-01-25=15, 2020-01-24=15, 2020-01-23=14, 2020-01-22=22}\n</code></pre>\n<p>You can use an overloaded <code>toMap</code> to instruct to use a <code>LinkedHashMap</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var output = map.entrySet().stream()\n               .collect(toMap(\n                  Map.Entry::getKey, \n                  e -&gt; e.getValue().stream().reduce(0, Integer::sum), \n                  // Conflict resolving function: If the same key is seen again, \n                  // use the latest value. \n                  (oldValue, newValue) -&gt; newValue, \n                  LinkedHashMap::new));\n\nSystem.out.println(output);\n\n</code></pre>\n<p>The output for above code is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>{2020-01-22=22, 2020-01-23=14, 2020-01-24=15, 2020-01-25=15, 2020-01-26=18, 2020-01-27=16}\n</code></pre>\n"}],"owner":{"account_id":20719168,"reputation":47,"user_id":15213946,"display_name":"mike kong"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1227,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69834234,"answer_count":2,"score":1,"last_activity_date":1636050809,"creation_date":1635995615,"question_id":69834167,"body_markdown":"This is my map `Map&lt;LocalDate,List&lt;Integer&gt;&gt; map = new LinkedHashMap&lt;&gt;();`\r\n\r\n**Question 1:** *How to compute the sum for each list in Map&lt;&gt;*\r\n\r\n**Output of the Map&lt;&gt;**\r\n```\r\n2020-01-22 [0, 0, 7, 0, 0, 0, 0, 0, 3, 8, 0, 4,0]\r\n2020-01-23 [0, 0, 7, 0, 0, 0, 0, 0, 3, 0, 0, 4,0] \r\n2020-01-24 [0, 0, 7, 0, 0, 0, 0, 0, 3, 0, 0, 5,0]\r\n2020-01-25 [0, 0, 8, 0, 0, 0, 0, 0, 3, 0, 0, 4,0]\r\n2020-01-26 [0, 0, 7, 0, 0, 0, 0, 0, 3, 0, 0, 8,0]\r\n2020-01-27 [0, 0, 9, 0, 0, 0, 0, 0, 3, 0, 0, 4,0]\r\n```\r\n**My try**\r\n```\r\nMap&lt;LocalDate,List&lt;Integer&gt;&gt; map = new LinkedHashMap&lt;&gt;();\r\n List&lt;Integer&gt; integerList =map\r\n                .values()\r\n                .stream()\r\n                .map(l-&gt;{\r\n                    int sum = l\r\n                            .stream()\r\n                            .mapToInt(Integer::intValue)\r\n                            .sum();\r\n                    return sum;\r\n                }).collect(Collectors.toList());\r\n```\r\n\r\n&gt; The code here that I have tried, I can only form the new list and\r\n&gt; calculate it. But I would like the date and its sum of num display at the same time \r\n\r\n\r\n**Desired Output (Calculate and display the sum for each list)**\r\n```\r\n2020-01-22 [22]\r\n2020-01-23 [14] \r\n2020-01-24 [15]\r\n2020-01-25 [14]\r\n2020-01-26 [18]\r\n2020-01-27 [16]\r\n```\r\n","title":"How to compute sum for each list in Map&lt;&gt;?","body":"<p>This is my map <code>Map&lt;LocalDate,List&lt;Integer&gt;&gt; map = new LinkedHashMap&lt;&gt;();</code></p>\n<p><strong>Question 1:</strong> <em>How to compute the sum for each list in Map&lt;&gt;</em></p>\n<p><strong>Output of the Map&lt;&gt;</strong></p>\n<pre><code>2020-01-22 [0, 0, 7, 0, 0, 0, 0, 0, 3, 8, 0, 4,0]\n2020-01-23 [0, 0, 7, 0, 0, 0, 0, 0, 3, 0, 0, 4,0] \n2020-01-24 [0, 0, 7, 0, 0, 0, 0, 0, 3, 0, 0, 5,0]\n2020-01-25 [0, 0, 8, 0, 0, 0, 0, 0, 3, 0, 0, 4,0]\n2020-01-26 [0, 0, 7, 0, 0, 0, 0, 0, 3, 0, 0, 8,0]\n2020-01-27 [0, 0, 9, 0, 0, 0, 0, 0, 3, 0, 0, 4,0]\n</code></pre>\n<p><strong>My try</strong></p>\n<pre><code>Map&lt;LocalDate,List&lt;Integer&gt;&gt; map = new LinkedHashMap&lt;&gt;();\n List&lt;Integer&gt; integerList =map\n                .values()\n                .stream()\n                .map(l-&gt;{\n                    int sum = l\n                            .stream()\n                            .mapToInt(Integer::intValue)\n                            .sum();\n                    return sum;\n                }).collect(Collectors.toList());\n</code></pre>\n<blockquote>\n<p>The code here that I have tried, I can only form the new list and\ncalculate it. But I would like the date and its sum of num display at the same time</p>\n</blockquote>\n<p><strong>Desired Output (Calculate and display the sum for each list)</strong></p>\n<pre><code>2020-01-22 [22]\n2020-01-23 [14] \n2020-01-24 [15]\n2020-01-25 [14]\n2020-01-26 [18]\n2020-01-27 [16]\n</code></pre>\n"},{"tags":["java","javascript","html","selenium","onbeforeunload"],"answers":[{"tags":[],"owner":{"account_id":12493,"reputation":2653,"user_id":24618,"accept_rate":87,"display_name":"Thom"},"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1222982375,"creation_date":1222982375,"answer_id":164664,"question_id":164105,"body_markdown":"You could write a user extension (or just some JavaScript in a storeEval etc) that tests that window.onbeforeunload is set, and then replaces it with null before continuing on from the page. Ugly, but ought to get you off the page.","title":"Testing onbeforeunload events from Selenium","body":"<p>You could write a user extension (or just some JavaScript in a storeEval etc) that tests that window.onbeforeunload is set, and then replaces it with null before continuing on from the page. Ugly, but ought to get you off the page.</p>\n"},{"tags":[],"owner":{"account_id":828,"reputation":1382,"user_id":1081,"accept_rate":83,"display_name":"dpavlin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1222984014,"creation_date":1222984014,"answer_id":164754,"question_id":164105,"body_markdown":"When I was confronted with limited control which I had over browser using Selenium, I turned to [MozLab][1] plugin which solved my problem if only for one browser platform.\r\n\r\n  [1]: http://hyperstruct.net/projects/mozlab","title":"Testing onbeforeunload events from Selenium","body":"<p>When I was confronted with limited control which I had over browser using Selenium, I turned to <a href=\"http://hyperstruct.net/projects/mozlab\" rel=\"nofollow noreferrer\">MozLab</a> plugin which solved my problem if only for one browser platform.</p>\n"},{"tags":[],"owner":{"account_id":2078887,"reputation":147879,"user_id":1906307,"accept_rate":67,"display_name":"Louis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1415301301,"creation_date":1415301301,"answer_id":26787603,"question_id":164105,"body_markdown":"I&#39;ve just had to do this for an application of mine where the `onbeforeunload` handler brings up a prompt if a user leaves a page while a document is in an unsaved state. Python code:\r\n\r\n    driver.switch_to.alert.accept()\r\n\r\nThe Java equivalent would be:\r\n\r\n    driver.switchTo().alert().accept();\r\n\r\nIf the alert does not exist, the code above will fail with a `NoAlertPresentException` so there is no need for a separate test to check the existence before accepting the prompt.\r\n\r\nI&#39;m running Selenium 2.43.0 but I think this has been doable for a while now.\r\n\r\nIn cases where I don&#39;t want the prompt to come up at all because that&#39;s not what I&#39;m testing, I run custom JavaScript in the browser to set `window.onbeforeunload` to `null` before leaving the page. I put this in the test teardown code.","title":"Testing onbeforeunload events from Selenium","body":"<p>I've just had to do this for an application of mine where the <code>onbeforeunload</code> handler brings up a prompt if a user leaves a page while a document is in an unsaved state. Python code:</p>\n\n<pre><code>driver.switch_to.alert.accept()\n</code></pre>\n\n<p>The Java equivalent would be:</p>\n\n<pre><code>driver.switchTo().alert().accept();\n</code></pre>\n\n<p>If the alert does not exist, the code above will fail with a <code>NoAlertPresentException</code> so there is no need for a separate test to check the existence before accepting the prompt.</p>\n\n<p>I'm running Selenium 2.43.0 but I think this has been doable for a while now.</p>\n\n<p>In cases where I don't want the prompt to come up at all because that's not what I'm testing, I run custom JavaScript in the browser to set <code>window.onbeforeunload</code> to <code>null</code> before leaving the page. I put this in the test teardown code.</p>\n"},{"tags":[],"owner":{"account_id":20989645,"reputation":11,"user_id":15422724,"display_name":"J07H15H"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636050697,"creation_date":1636050697,"answer_id":69844179,"question_id":164105,"body_markdown":"faced same problem with &quot;beforeunlaod&quot; event listner, [LUMINUS](https://chrome.google.com/webstore/detail/luminous-javascript-event/baacpbikplogpeecclpnajnlghmcldkb/related)! a chrome addon that helps me just block the event listener in the plugin thats all..","title":"Testing onbeforeunload events from Selenium","body":"<p>faced same problem with &quot;beforeunlaod&quot; event listner, <a href=\"https://chrome.google.com/webstore/detail/luminous-javascript-event/baacpbikplogpeecclpnajnlghmcldkb/related\" rel=\"nofollow noreferrer\">LUMINUS</a>! a chrome addon that helps me just block the event listener in the plugin thats all..</p>\n"}],"owner":{"account_id":7580,"reputation":3562,"user_id":13210,"accept_rate":60,"display_name":"Moss Collum"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4274,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":164664,"answer_count":4,"score":12,"last_activity_date":1636050697,"creation_date":1222975487,"question_id":164105,"body_markdown":"I&#39;m trying to write a Selenium test for a web page that uses an onbeforeunload event to prompt the user before leaving. Selenium doesn&#39;t seem to recognize the confirmation dialog that comes up, or to provide a way to hit OK or Cancel. Is there any way to do this? I&#39;m using the Java Selenium driver, if that&#39;s relevant.","title":"Testing onbeforeunload events from Selenium","body":"<p>I'm trying to write a Selenium test for a web page that uses an onbeforeunload event to prompt the user before leaving. Selenium doesn't seem to recognize the confirmation dialog that comes up, or to provide a way to hit OK or Cancel. Is there any way to do this? I'm using the Java Selenium driver, if that's relevant.</p>\n"},{"tags":["java","dart","exception","runtime"],"comments":[{"owner":{"account_id":60124,"reputation":83589,"user_id":179715,"accept_rate":80,"display_name":"jamesdlin"},"score":0,"creation_date":1636062594,"post_id":69844142,"comment_id":123464757,"body_markdown":"There&#39;s no built-in way to have checked exceptions.  Also see https://github.com/dart-lang/sdk/issues/45884","body":"There&#39;s no built-in way to have checked exceptions.  Also see <a href=\"https://github.com/dart-lang/sdk/issues/45884\" rel=\"nofollow noreferrer\">github.com/dart-lang/sdk/issues/45884</a>"},{"owner":{"account_id":1307115,"reputation":22745,"user_id":1255873,"accept_rate":86,"display_name":"Abion47"},"score":0,"creation_date":1636066031,"post_id":69844142,"comment_id":123465528,"body_markdown":"I would recommend using a package like [oxidized](https://pub.dev/packages/oxidized) and to return values from methods that might normally possibly return null (use the `Option` class) or throw an error (use the `Result` class) in order to force you to confront those possibilities before you can access the returned values.","body":"I would recommend using a package like <a href=\"https://pub.dev/packages/oxidized\" rel=\"nofollow noreferrer\">oxidized</a> and to return values from methods that might normally possibly return null (use the <code>Option</code> class) or throw an error (use the <code>Result</code> class) in order to force you to confront those possibilities before you can access the returned values."}],"owner":{"account_id":23053617,"reputation":11,"user_id":17170020,"display_name":"Aarij Amir"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636050505,"creation_date":1636050505,"question_id":69844142,"body_markdown":"In Java we can make exceptions of both types. Checked and unchecked exceptions.\r\nChecked Exception we need to extend our class with Exception class and for unchecked exception we need to extend class with Runtime Exception. The code will not compile until we handle checked exception and IDE gives safety to handle checked exception before compilation\r\nwhile runtime exceptions has no safety. Does dart support this feature?","title":"Is there any possibility to create checked and unchecked exceptions in the dart?","body":"<p>In Java we can make exceptions of both types. Checked and unchecked exceptions.\nChecked Exception we need to extend our class with Exception class and for unchecked exception we need to extend class with Runtime Exception. The code will not compile until we handle checked exception and IDE gives safety to handle checked exception before compilation\nwhile runtime exceptions has no safety. Does dart support this feature?</p>\n"},{"tags":["java","android","multithreading","asynchronous","android-asynctask"],"comments":[{"owner":{"account_id":1301014,"reputation":8110,"user_id":1250929,"accept_rate":72,"display_name":"Kristy Welsh"},"score":0,"creation_date":1636050436,"post_id":69844062,"comment_id":123460857,"body_markdown":"Have you tried kotlin + coroutines?  They are very light weight and should do what you want.","body":"Have you tried kotlin + coroutines?  They are very light weight and should do what you want."},{"owner":{"account_id":15362121,"reputation":21,"user_id":11082645,"display_name":"Farah Abbas"},"score":0,"creation_date":1636051493,"post_id":69844062,"comment_id":123461239,"body_markdown":"I am using java","body":"I am using java"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1636062105,"post_id":69844062,"comment_id":123464653,"body_markdown":"You can do all in one asynctask.","body":"You can do all in one asynctask."}],"owner":{"account_id":15362121,"reputation":21,"user_id":11082645,"display_name":"Farah Abbas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636050150,"creation_date":1636050150,"question_id":69844062,"body_markdown":"I have a task to fetch data from server at start if application. For purpose i am calling an api by asynctask for notification codes and parse data. The data can go upto 60000 notification codes.\r\nFor each notification code i have to call different apis to get data. After performing operation i need to again call an acknowledge api to tell server notification has been acknowledged. So next time when getting notification code it dont repeat.\r\n\r\nSo in the case i have to call approximately 60000 asynctask for operation and 60000 for acknowledgement. Do each operation for different api urls and then Acknowledge each operation for different url simultaneously \r\n\r\nMy app is working when notifications are below 1000 but for more than that notification it stucks.\r\n\r\nPlease anyone can guide what&#39;s the best way to implement this.","title":"Running multiple asyntasks","body":"<p>I have a task to fetch data from server at start if application. For purpose i am calling an api by asynctask for notification codes and parse data. The data can go upto 60000 notification codes.\nFor each notification code i have to call different apis to get data. After performing operation i need to again call an acknowledge api to tell server notification has been acknowledged. So next time when getting notification code it dont repeat.</p>\n<p>So in the case i have to call approximately 60000 asynctask for operation and 60000 for acknowledgement. Do each operation for different api urls and then Acknowledge each operation for different url simultaneously</p>\n<p>My app is working when notifications are below 1000 but for more than that notification it stucks.</p>\n<p>Please anyone can guide what's the best way to implement this.</p>\n"},{"tags":["java","arrays","list","integer","associative-array"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1635886606,"post_id":69816785,"comment_id":123411513,"body_markdown":"Please [edit] the post, share your attempt(s) and ask a more specific question. Also, please specify what should happen if the `Integer`-results overfloats.","body":"Please <a href=\"https://stackoverflow.com/posts/69816785/edit\">edit</a> the post, share your attempt(s) and ask a more specific question. Also, please specify what should happen if the <code>Integer</code>-results overfloats."}],"answers":[{"tags":[],"owner":{"account_id":215690,"reputation":1398,"user_id":470477,"display_name":"Bill Horvath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636049854,"creation_date":1635887463,"answer_id":69816968,"question_id":69816785,"body_markdown":"There&#39;s a lot of possible ways to approach this problem. One simple example:\r\n\r\n    int i = numeros.size();\r\n    int result = 0;\r\n    for (Integer num: numeros){\r\n        i--;\r\n        result += Double.valueOf(num * Math.pow(10, i)).intValue();\r\n    }\r\n    System.out.println(result);\r\n\r\n\r\nHowever, bear in mind this has a lot of potential errors: there&#39;s no protection against exceeding [Integer.MAX_VALUE][1], it assumes members of numero are single-digit numbers, etc.\r\n\r\nIf you want to control for multi-digit numbers, convert to string values and concatenate them together, then convert to an integer:\r\n\r\n    String holder = &quot;&quot;;\r\n    for (Integer num: numeros){\r\n       holder += num.toString();\r\n    int result = Integer.valueOf(holder).intValue();\r\n    System.out.println(result);\r\n\r\nAlso note that in both cases I&#39;m using int for the result for simplicity. If you really need an Integer object, you can convert them using `Integer.valueOf(result)`\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/Integer.html#MAX_VALUE","title":"How to put all the values of a Integer List on unique variable on Java","body":"<p>There's a lot of possible ways to approach this problem. One simple example:</p>\n<pre><code>int i = numeros.size();\nint result = 0;\nfor (Integer num: numeros){\n    i--;\n    result += Double.valueOf(num * Math.pow(10, i)).intValue();\n}\nSystem.out.println(result);\n</code></pre>\n<p>However, bear in mind this has a lot of potential errors: there's no protection against exceeding <a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/Integer.html#MAX_VALUE\" rel=\"nofollow noreferrer\">Integer.MAX_VALUE</a>, it assumes members of numero are single-digit numbers, etc.</p>\n<p>If you want to control for multi-digit numbers, convert to string values and concatenate them together, then convert to an integer:</p>\n<pre><code>String holder = &quot;&quot;;\nfor (Integer num: numeros){\n   holder += num.toString();\nint result = Integer.valueOf(holder).intValue();\nSystem.out.println(result);\n</code></pre>\n<p>Also note that in both cases I'm using int for the result for simplicity. If you really need an Integer object, you can convert them using <code>Integer.valueOf(result)</code></p>\n"},{"tags":[],"owner":{"display_name":"user17223316"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1635888725,"creation_date":1635887902,"answer_id":69817042,"question_id":69816785,"body_markdown":"Try this.\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Integer&gt; numeros = new ArrayList&lt;&gt;();\r\n\r\n        numeros.add(1);\r\n        numeros.add(2);\r\n        numeros.add(3);\r\n        numeros.add(4);\r\n\r\n        String num = numeros.stream()\r\n            .map(String::valueOf)\r\n            .collect(Collectors.joining());\r\n\r\n        System.out.println(num);\r\n    }\r\n\r\noutput:\r\n\r\n    1234\r\nYou can also do like this, if every element of the list is a single digit number\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Integer&gt; numeros = new ArrayList&lt;&gt;();\r\n\r\n        numeros.add(1);\r\n        numeros.add(2);\r\n        numeros.add(3);\r\n        numeros.add(4);\r\n\r\n        long num = numeros.stream()\r\n            .mapToLong(Integer::intValue)\r\n            .reduce(0, (a, b) -&gt; a * 10 + b);\r\n\r\n        System.out.println(num);\r\n    }\r\n\r\n\r\n\r\noutput:\r\n\r\n    1234","title":"How to put all the values of a Integer List on unique variable on Java","body":"<p>Try this.</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;Integer&gt; numeros = new ArrayList&lt;&gt;();\n\n    numeros.add(1);\n    numeros.add(2);\n    numeros.add(3);\n    numeros.add(4);\n\n    String num = numeros.stream()\n        .map(String::valueOf)\n        .collect(Collectors.joining());\n\n    System.out.println(num);\n}\n</code></pre>\n<p>output:</p>\n<pre><code>1234\n</code></pre>\n<p>You can also do like this, if every element of the list is a single digit number</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;Integer&gt; numeros = new ArrayList&lt;&gt;();\n\n    numeros.add(1);\n    numeros.add(2);\n    numeros.add(3);\n    numeros.add(4);\n\n    long num = numeros.stream()\n        .mapToLong(Integer::intValue)\n        .reduce(0, (a, b) -&gt; a * 10 + b);\n\n    System.out.println(num);\n}\n</code></pre>\n<p>output:</p>\n<pre><code>1234\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635890064,"creation_date":1635890064,"answer_id":69817348,"question_id":69816785,"body_markdown":"It may be better to use at least `long` type to accumulate the result which would fit up to 19 decimals without overflow:\r\n```java\r\nstatic long singleNum(List&lt;Integer&gt; arr) {\r\n    long res = 0;\r\n    for (int x : arr) {\r\n        res = 10 * res + x;\r\n    }\r\n    return res;\r\n}\r\n```\r\nLarger input arrays could be converted into `BigInteger` (if a number is _really_ needed):\r\n```java\r\nprivate static final BigInteger[] DIGIT = { \r\n    BigInteger.ZERO, BigInteger.ONE, BigInteger.TWO, new BigInteger(&quot;3&quot;), new BigInteger(&quot;4&quot;),\r\n    new BigInteger(&quot;5&quot;), new BigInteger(&quot;6&quot;), new BigInteger(&quot;7&quot;), new BigInteger(&quot;8&quot;), new BigInteger(&quot;9&quot;)\r\n};\r\nstatic BigInteger singleNum(List&lt;Integer&gt; arr) {\r\n    BigInteger res = BigInteger.ZERO;\r\n    for (int x : arr) {\r\n        res = res.multiply(BigInteger.TEN).add(DIGIT[x]);\r\n    }\r\n    return res;\r\n}\r\n```","title":"How to put all the values of a Integer List on unique variable on Java","body":"<p>It may be better to use at least <code>long</code> type to accumulate the result which would fit up to 19 decimals without overflow:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static long singleNum(List&lt;Integer&gt; arr) {\n    long res = 0;\n    for (int x : arr) {\n        res = 10 * res + x;\n    }\n    return res;\n}\n</code></pre>\n<p>Larger input arrays could be converted into <code>BigInteger</code> (if a number is <em>really</em> needed):</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final BigInteger[] DIGIT = { \n    BigInteger.ZERO, BigInteger.ONE, BigInteger.TWO, new BigInteger(&quot;3&quot;), new BigInteger(&quot;4&quot;),\n    new BigInteger(&quot;5&quot;), new BigInteger(&quot;6&quot;), new BigInteger(&quot;7&quot;), new BigInteger(&quot;8&quot;), new BigInteger(&quot;9&quot;)\n};\nstatic BigInteger singleNum(List&lt;Integer&gt; arr) {\n    BigInteger res = BigInteger.ZERO;\n    for (int x : arr) {\n        res = res.multiply(BigInteger.TEN).add(DIGIT[x]);\n    }\n    return res;\n}\n</code></pre>\n"}],"owner":{"account_id":19723291,"reputation":19,"user_id":14440361,"display_name":"Coding 4fun"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":468,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1635889245,"answer_count":3,"score":-2,"last_activity_date":1636049854,"creation_date":1635886271,"question_id":69816785,"body_markdown":"I want to extract all the values of a list and put it in a variable. The list is a Integer list and the variable should also be an Integer.\r\n\r\n        List&lt;Integer&gt; numeros = new ArrayList&lt;&gt;();\r\n\r\n        numeros.add(1);\r\n        numeros.add(2);\r\n        numeros.add(3);\r\n        numeros.add(4);\r\n\r\n        System.out.println(numeros);\r\n\r\nThat gives me:\r\n\r\n    [1, 2, 3, 4]\r\n\r\nAnd i want to store this no a singel varaible like this:\r\n\r\n    System.out.println(num) //This should have all the values of the list\r\n\r\nAnd get:\r\n\r\n    1234 //this as a singel variable","title":"How to put all the values of a Integer List on unique variable on Java","body":"<p>I want to extract all the values of a list and put it in a variable. The list is a Integer list and the variable should also be an Integer.</p>\n<pre><code>    List&lt;Integer&gt; numeros = new ArrayList&lt;&gt;();\n\n    numeros.add(1);\n    numeros.add(2);\n    numeros.add(3);\n    numeros.add(4);\n\n    System.out.println(numeros);\n</code></pre>\n<p>That gives me:</p>\n<pre><code>[1, 2, 3, 4]\n</code></pre>\n<p>And i want to store this no a singel varaible like this:</p>\n<pre><code>System.out.println(num) //This should have all the values of the list\n</code></pre>\n<p>And get:</p>\n<pre><code>1234 //this as a singel variable\n</code></pre>\n"},{"tags":["java","android","zxing"],"answers":[{"tags":[],"owner":{"account_id":19627125,"reputation":186,"user_id":14366207,"display_name":"Omar Hemaia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636049646,"creation_date":1636049646,"answer_id":69843952,"question_id":69843199,"body_markdown":"you can simply generate the scanned code using ```result.getContents()``` and ```result.getFormatName()```, your final code should look like this:\r\n\r\n\tpublic void onClick(View v) {\r\n        if (v.getId() == R.id.btn_1) {\r\n            IntentIntegrator integrator = new IntentIntegrator(this);\r\n            integrator.setBarcodeImageEnabled(true);\r\n            integrator.setPrompt(&quot;Scan a barcode or QRCode&quot;);\r\n            integrator.setOrientationLocked(false);\r\n            integrator.initiateScan();\r\n        }\r\n        if(v.getId()==R.id.btn_2) {\r\n           // do something else\r\n        }\r\n    }\r\n\r\n\t@Override\r\n\tprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        IntentResult result = IntentIntegrator.parseActivityResult(requestCode, resultCode, data);\r\n        if(result!=null){\r\n            if(result.getContents()==null) {\r\n                Toast.makeText(getBaseContext(), &quot;Cancelled&quot;, Toast.LENGTH_LONG).show();\r\n            } else {\r\n                Toast.makeText(this, &quot;Scanned: &quot; + result.getContents(), Toast.LENGTH_LONG).show();\r\n                tvScanFormat.setText((result.getFormatName())); //TextView is set and shows which format the QR code has\r\n                tvScanContent.setText(result.getContents()); //TextView with the actual Content is set\r\n\t\t\t\tcom.google.zxing.MultiFormatWriter multiFormatWriter = new com.google.zxing.MultiFormatWriter();\r\n                \tswitch(result.getFormatName()) {\r\n\r\n\t\tcase &quot;EAN_13&quot;: {\r\n\r\n\t\t\t\tcom.google.zxing.common.BitMatrix bitMatrix = multiFormatWriter.encode(result.getContents(), com.google.zxing.BarcodeFormat.EAN_13,500,250);\r\n\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tcase &quot;EAN_8&quot;: {\r\n\r\n\t\t\t\tcom.google.zxing.common.BitMatrix bitMatrix = multiFormatWriter.encode(result.getContents(), com.google.zxing.BarcodeFormat.EAN_8,500,250);\r\n\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tcase &quot;UPC_A&quot;: {\r\n\r\n\t\t\t\tcom.google.zxing.common.BitMatrix bitMatrix = multiFormatWriter.encode(result.getContents(), com.google.zxing.BarcodeFormat.UPC_A,500,250);\r\n\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tcase &quot;UPC_E&quot;: {\r\n\r\n\t\t\t\tcom.google.zxing.common.BitMatrix bitMatrix = multiFormatWriter.encode(result.getContents(), com.google.zxing.BarcodeFormat.UPC_E,500,250);\r\n\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tcase &quot;QR_CODE&quot;: {\r\n\r\n\t\t\t\tcom.google.zxing.common.BitMatrix bitMatrix = multiFormatWriter.encode(result.getContents(), com.google.zxing.BarcodeFormat.QR_CODE,500,500);\r\n\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tcase &quot;DATA_MATRIX&quot;: {\r\n\r\n\t\t\t\tcom.google.zxing.common.BitMatrix bitMatrix = multiFormatWriter.encode(result.getContents(), com.google.zxing.BarcodeFormat.DATA_MATRIX,500,500);\r\n\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tcase &quot;AZTEC&quot;: {\r\n\r\n\t\t\t\tcom.google.zxing.common.BitMatrix bitMatrix = multiFormatWriter.encode(result.getContents(), com.google.zxing.BarcodeFormat.AZTEC,500,500);\r\n\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\tcom.journeyapps.barcodescanner.BarcodeEncoder barcodeEncoder = new com.journeyapps.barcodescanner.BarcodeEncoder();\r\n\t//the code below is the bitmap that you want\r\n\tBitmap bitmap = barcodeEncoder.createBitmap(bitMatrix);\r\n\t//use the code below if you want to display the bitmap into an ImageView\r\n\t\t\t\tmyimageview.setImageBitmap(bitmap);\r\n            }\r\n        } else {\r\n            super.onActivityResult(requestCode, resultCode, data);\r\n        }\r\n\r\n    }","title":"How to get an image of a scanned QR Code with ZXING in Java? #667","body":"<p>you can simply generate the scanned code using <code>result.getContents()</code> and <code>result.getFormatName()</code>, your final code should look like this:</p>\n<pre><code>public void onClick(View v) {\n    if (v.getId() == R.id.btn_1) {\n        IntentIntegrator integrator = new IntentIntegrator(this);\n        integrator.setBarcodeImageEnabled(true);\n        integrator.setPrompt(&quot;Scan a barcode or QRCode&quot;);\n        integrator.setOrientationLocked(false);\n        integrator.initiateScan();\n    }\n    if(v.getId()==R.id.btn_2) {\n       // do something else\n    }\n}\n\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n    IntentResult result = IntentIntegrator.parseActivityResult(requestCode, resultCode, data);\n    if(result!=null){\n        if(result.getContents()==null) {\n            Toast.makeText(getBaseContext(), &quot;Cancelled&quot;, Toast.LENGTH_LONG).show();\n        } else {\n            Toast.makeText(this, &quot;Scanned: &quot; + result.getContents(), Toast.LENGTH_LONG).show();\n            tvScanFormat.setText((result.getFormatName())); //TextView is set and shows which format the QR code has\n            tvScanContent.setText(result.getContents()); //TextView with the actual Content is set\n            com.google.zxing.MultiFormatWriter multiFormatWriter = new com.google.zxing.MultiFormatWriter();\n                switch(result.getFormatName()) {\n\n    case &quot;EAN_13&quot;: {\n\n            com.google.zxing.common.BitMatrix bitMatrix = multiFormatWriter.encode(result.getContents(), com.google.zxing.BarcodeFormat.EAN_13,500,250);\n        break;\n\n    }\n\n    case &quot;EAN_8&quot;: {\n\n            com.google.zxing.common.BitMatrix bitMatrix = multiFormatWriter.encode(result.getContents(), com.google.zxing.BarcodeFormat.EAN_8,500,250);\n        break;\n\n    }\n\n    case &quot;UPC_A&quot;: {\n\n            com.google.zxing.common.BitMatrix bitMatrix = multiFormatWriter.encode(result.getContents(), com.google.zxing.BarcodeFormat.UPC_A,500,250);\n        break;\n\n    }\n\n    case &quot;UPC_E&quot;: {\n\n            com.google.zxing.common.BitMatrix bitMatrix = multiFormatWriter.encode(result.getContents(), com.google.zxing.BarcodeFormat.UPC_E,500,250);\n        break;\n\n    }\n\n    case &quot;QR_CODE&quot;: {\n\n            com.google.zxing.common.BitMatrix bitMatrix = multiFormatWriter.encode(result.getContents(), com.google.zxing.BarcodeFormat.QR_CODE,500,500);\n        break;\n\n    }\n\n    case &quot;DATA_MATRIX&quot;: {\n\n            com.google.zxing.common.BitMatrix bitMatrix = multiFormatWriter.encode(result.getContents(), com.google.zxing.BarcodeFormat.DATA_MATRIX,500,500);\n        break;\n\n    }\n\n    case &quot;AZTEC&quot;: {\n\n            com.google.zxing.common.BitMatrix bitMatrix = multiFormatWriter.encode(result.getContents(), com.google.zxing.BarcodeFormat.AZTEC,500,500);\n        break;\n\n    }\n\n}\ncom.journeyapps.barcodescanner.BarcodeEncoder barcodeEncoder = new com.journeyapps.barcodescanner.BarcodeEncoder();\n//the code below is the bitmap that you want\nBitmap bitmap = barcodeEncoder.createBitmap(bitMatrix);\n//use the code below if you want to display the bitmap into an ImageView\n            myimageview.setImageBitmap(bitmap);\n        }\n    } else {\n        super.onActivityResult(requestCode, resultCode, data);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":10133718,"reputation":5,"user_id":7486087,"display_name":"B_Stromberg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":645,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69843952,"answer_count":1,"score":0,"last_activity_date":1636049646,"creation_date":1636045590,"question_id":69843199,"body_markdown":"After scanning a QR Code I want to save the exact same QR-Code as scanned before.\r\nPlease see an example of my code from my MainActivity below:\r\n\r\n    public void onClick(View v) {\r\n            if (v.getId() == R.id.btn_1) {\r\n                IntentIntegrator integrator = new IntentIntegrator(this);\r\n                integrator.setBarcodeImageEnabled(true);\r\n                integrator.setPrompt(&quot;Scan a barcode or QRCode&quot;);\r\n                integrator.setOrientationLocked(false);\r\n                integrator.initiateScan();\r\n            }\r\n            if(v.getId()==R.id.btn_2) {\r\n               // do something else\r\n            }\r\n        }\r\n    \r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n            super.onActivityResult(requestCode, resultCode, data);\r\n            IntentResult result = IntentIntegrator.parseActivityResult(requestCode, resultCode, data);\r\n            if(result!=null){\r\n                if(result.getContents()==null) {\r\n                    Toast.makeText(getBaseContext(), &quot;Cancelled&quot;, Toast.LENGTH_LONG).show();\r\n                } else {\r\n                    Toast.makeText(this, &quot;Scanned: &quot; + result.getContents(), Toast.LENGTH_LONG).show();\r\n                    tvScanFormat.setText((result.getFormatName())); //TextView is set and shows which format the QR code has\r\n                    tvScanContent.setText(result.getContents()); //TextView with the actual Content is set\r\n                    result.getBitmap(); //Cannot resolve method &#39;getBitmap&#39; in &#39;IntentResult&#39;\r\n                }\r\n            } else {\r\n                super.onActivityResult(requestCode, resultCode, data);\r\n            }\r\n    \r\n        }\r\n\r\nSo I&#39;m seeing that the results I receive from scanning QR Codes are correct but I am not able to save the picture with getBitmap() as shown in the closed Github-Issue 143 from Zxing ([Link to GitHub Issue 143][1]).\r\n\r\nI use these dependencies in my build.gradle file:\r\n\r\n    implementation &#39;com.journeyapps:zxing-android-embedded:3.0.3&#39; \r\n    implementation &#39;com.google.zxing:core:3.4.1&#39;\r\n\r\n  [1]: https://github.com/journeyapps/zxing-android-embedded/issues/143\r\n  [2]: https://github.com/journeyapps/zxing-android-embedded/issues/667","title":"How to get an image of a scanned QR Code with ZXING in Java? #667","body":"<p>After scanning a QR Code I want to save the exact same QR-Code as scanned before.\nPlease see an example of my code from my MainActivity below:</p>\n<pre><code>public void onClick(View v) {\n        if (v.getId() == R.id.btn_1) {\n            IntentIntegrator integrator = new IntentIntegrator(this);\n            integrator.setBarcodeImageEnabled(true);\n            integrator.setPrompt(&quot;Scan a barcode or QRCode&quot;);\n            integrator.setOrientationLocked(false);\n            integrator.initiateScan();\n        }\n        if(v.getId()==R.id.btn_2) {\n           // do something else\n        }\n    }\n\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        IntentResult result = IntentIntegrator.parseActivityResult(requestCode, resultCode, data);\n        if(result!=null){\n            if(result.getContents()==null) {\n                Toast.makeText(getBaseContext(), &quot;Cancelled&quot;, Toast.LENGTH_LONG).show();\n            } else {\n                Toast.makeText(this, &quot;Scanned: &quot; + result.getContents(), Toast.LENGTH_LONG).show();\n                tvScanFormat.setText((result.getFormatName())); //TextView is set and shows which format the QR code has\n                tvScanContent.setText(result.getContents()); //TextView with the actual Content is set\n                result.getBitmap(); //Cannot resolve method 'getBitmap' in 'IntentResult'\n            }\n        } else {\n            super.onActivityResult(requestCode, resultCode, data);\n        }\n\n    }\n</code></pre>\n<p>So I'm seeing that the results I receive from scanning QR Codes are correct but I am not able to save the picture with getBitmap() as shown in the closed Github-Issue 143 from Zxing (<a href=\"https://github.com/journeyapps/zxing-android-embedded/issues/143\" rel=\"nofollow noreferrer\">Link to GitHub Issue 143</a>).</p>\n<p>I use these dependencies in my build.gradle file:</p>\n<pre><code>implementation 'com.journeyapps:zxing-android-embedded:3.0.3' \nimplementation 'com.google.zxing:core:3.4.1'\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":2,"creation_date":1635903550,"post_id":69818574,"comment_id":123414965,"body_markdown":"You can&#39;t run GUI applications on Windows Subsystem for Linux (WSL). Maybe this will help. [Run Linux GUI apps on the Windows Subsystem for Linux](https://learn.microsoft.com/en-us/windows/wsl/tutorials/gui-apps) What do you want the `Robot` to do? Do you want it to move the mouse? Or do you want it to simulate pressing keys on the computer keyboard? Or do you want a screen capture? There may be another way to achieve your goal without using `java.awt.Robot`.","body":"You can&#39;t run GUI applications on Windows Subsystem for Linux (WSL). Maybe this will help. <a href=\"https://learn.microsoft.com/en-us/windows/wsl/tutorials/gui-apps\" rel=\"nofollow noreferrer\">Run Linux GUI apps on the Windows Subsystem for Linux</a> What do you want the <code>Robot</code> to do? Do you want it to move the mouse? Or do you want it to simulate pressing keys on the computer keyboard? Or do you want a screen capture? There may be another way to achieve your goal without using <code>java.awt.Robot</code>."},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1635903907,"post_id":69818574,"comment_id":123415019,"body_markdown":"From the [Javadoc](https://docs.oracle.com/javase/8/docs/api/java/awt/Robot.html): &quot;_If the current platform configuration does not allow input control, an AWTException will be thrown when trying to construct Robot objects_&quot;. Please explain what you are trying to do, because you will likely need to take a different approach.","body":"From the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/Robot.html\" rel=\"nofollow noreferrer\">Javadoc</a>: &quot;<i>If the current platform configuration does not allow input control, an AWTException will be thrown when trying to construct Robot objects</i>&quot;. Please explain what you are trying to do, because you will likely need to take a different approach."},{"owner":{"account_id":18448387,"reputation":1,"user_id":13439107,"display_name":"dirmane"},"score":0,"creation_date":1636022402,"post_id":69818574,"comment_id":123449102,"body_markdown":"@Abra I want the program to use the keyboard to type and use the mouse.","body":"@Abra I want the program to use the keyboard to type and use the mouse."},{"owner":{"account_id":18448387,"reputation":1,"user_id":13439107,"display_name":"dirmane"},"score":0,"creation_date":1636041088,"post_id":69818574,"comment_id":123457049,"body_markdown":"@Abra Probably because of this automatic translation in chrome.  The application is console-based","body":"@Abra Probably because of this automatic translation in chrome.  The application is console-based"},{"owner":{"account_id":18448387,"reputation":1,"user_id":13439107,"display_name":"dirmane"},"score":0,"creation_date":1636201182,"post_id":69818574,"comment_id":123496045,"body_markdown":"@Abra Do you have anything?","body":"@Abra Do you have anything?"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1636209688,"post_id":69818574,"comment_id":123497980,"body_markdown":"You can&#39;t use class `java.awt.Robot` in a console app in WSL.","body":"You can&#39;t use class <code>java.awt.Robot</code> in a console app in WSL."},{"owner":{"account_id":18448387,"reputation":1,"user_id":13439107,"display_name":"dirmane"},"score":0,"creation_date":1636211980,"post_id":69818574,"comment_id":123498580,"body_markdown":"@Abra So what i can do?","body":"@Abra So what i can do?"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1636212537,"post_id":69818574,"comment_id":123498726,"body_markdown":"You need to give more details about the task you are trying to achieve without describing how you want to achieve it. Why do [you think that] you need to write to different locations on the terminal window? Are you trying to program some kind of game?","body":"You need to give more details about the task you are trying to achieve without describing how you want to achieve it. Why do [you think that] you need to write to different locations on the terminal window? Are you trying to program some kind of game?"}],"owner":{"account_id":18448387,"reputation":1,"user_id":13439107,"display_name":"dirmane"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":856,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636049567,"creation_date":1635901553,"question_id":69818574,"body_markdown":"Hi I am trying to use the Robot class, but when I try to run a small piece of code the console returns me an error\r\n\r\n&gt; Exception in thread &quot;main&quot; java.awt.AWTException: headless environment\r\n\r\nI have seen some solutions, such as &quot; System.setProperty(&quot;java.awt.headless&quot;, &quot;false&quot;);&quot;\r\nbut then it responds \r\n\r\n&gt; Exception in thread &quot;main&quot; java.awt.AWTError: Can&#39;t connect to X11 window server using &#39;:0.0&#39; as the value of the DISPLAY variable.\r\n\r\nMy piece of test code:\r\n\r\n    import java.awt.AWTException;\r\n    import java.awt.Robot;\r\n    \r\n    \r\n    public class AutoSell {\r\n      \r\n        public static void main(String[] args) throws AWTException  {\r\n    \t\tRobot robot = new Robot();\r\n            robot.delay(1000);\r\n    \t\tSystem.out.println(&quot;test&quot;);\r\n          \r\n            }\r\n        }\r\n\r\n\r\nI am using [Windows Subsystem for Linux][1] (WSL2) and my program is a java console application.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Windows_Subsystem_for_Linux","title":"Exception in thread &quot;main&quot; java.awt.AWTException: headless environment error in java","body":"<p>Hi I am trying to use the Robot class, but when I try to run a small piece of code the console returns me an error</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.awt.AWTException: headless environment</p>\n</blockquote>\n<p>I have seen some solutions, such as &quot; System.setProperty(&quot;java.awt.headless&quot;, &quot;false&quot;);&quot;\nbut then it responds</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.awt.AWTError: Can't connect to X11 window server using ':0.0' as the value of the DISPLAY variable.</p>\n</blockquote>\n<p>My piece of test code:</p>\n<pre><code>import java.awt.AWTException;\nimport java.awt.Robot;\n\n\npublic class AutoSell {\n  \n    public static void main(String[] args) throws AWTException  {\n        Robot robot = new Robot();\n        robot.delay(1000);\n        System.out.println(&quot;test&quot;);\n      \n        }\n    }\n</code></pre>\n<p>I am using <a href=\"https://en.wikipedia.org/wiki/Windows_Subsystem_for_Linux\" rel=\"nofollow noreferrer\">Windows Subsystem for Linux</a> (WSL2) and my program is a java console application.</p>\n"},{"tags":["java","algorithm","dynamic-programming","backtracking"],"answers":[{"tags":[],"owner":{"account_id":2318302,"reputation":23679,"user_id":2034787,"accept_rate":53,"display_name":"גלעד ברקן"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1577389993,"creation_date":1577388744,"answer_id":59492676,"question_id":59481061,"body_markdown":"To convert to a bottom-up approach, it can help be more intuitive and easy if the recursive approach is first formulated top-down (meaning the parameters called are decreasing), as well as have an unambiguous association between the parameter state and the result. Since in this problem transactions are sequential and each is composed of two parts, one way we can achieve this is by doubling K and using its current parity to indicate our state in the transactions.\r\n\r\nHere is commented top-down in JavaScript, utilising the input examples in the Geeks-for-Geeks link shared in the question description. (Note that here &quot;sells&quot; are examined before their respective &quot;buy&quot;.)\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    // Odd k means the (k/2)th buy was completed\r\n    function f(A, k, i=A.length-1){\r\n      // All transactions were done\r\n      if (k == 0)\r\n        return 0\r\n      // We&#39;re at the start of the price list\r\n      // so if we are in the middle of a transaction,\r\n      // force the associated &quot;buy&quot;\r\n      if (i == 0)\r\n        return k &amp; 1 ? -A[0] : 0\r\n      \r\n      // Current k is odd so we have completed a &quot;sell&quot; -\r\n      // choose to record the associated &quot;buy&quot; or skip\r\n      if (k &amp; 1){\r\n        return Math.max(\r\n          -A[i] + f(A, k - 1, i - 1), // buy\r\n          f(A, k, i - 1) // skip\r\n        )\r\n      // Current k is even so we have completed a &quot;buy&quot; or\r\n      // are &quot;at rest&quot; - choose to record a new &quot;sell&quot; or skip\r\n      } else {\r\n        return Math.max(\r\n          A[i] + f(A, k - 1, i - 1), // sell\r\n          f(A, k, i - 1) // skip\r\n        )\r\n      }\r\n    }\r\n\r\n    var inputs = [\r\n      [[10, 22, 5, 75, 65, 80], 2], // 87\r\n      [[12, 14, 17, 10, 14, 13, 12, 15], 3], // 12\r\n      [[100, 30, 15, 10, 8, 25, 80], 3], // 72\r\n      [[90, 80, 70, 60, 50], 1] // 0\r\n    ]\r\n\r\n    for (let [A, K] of inputs){\r\n      console.log(`A: ${A}, K: ${K}`)\r\n      console.log(f(A, 2*K)) // call with doubled K\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nNow here&#39;s the conversion to bottom-up, which is almost identical (`O(n2k) = O(nk)`):\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    // Bottom-up\r\n    function f(A, k){\r\n      let M = new Array(A.length)\r\n      \r\n      for (let i=0; i&lt;A.length; i++)\r\n        M[i] = new Array(2*k + 1).fill(0)\r\n\r\n      // Base case - force buy\r\n      for (let j=1; j&lt;=2*k; j+=2)\r\n        M[0][j] = -A[0]\r\n\r\n      for (let i=1; i&lt;A.length; i++){\r\n        for (let j=1; j&lt;=2*k; j++){\r\n          if (j &amp; 1){\r\n            M[i][j] = Math.max(\r\n              -A[i] + M[i-1][j-1], // buy\r\n              M[i - 1][j]\r\n            )\r\n         \r\n          } else {\r\n            M[i][j] = Math.max(\r\n              A[i] + M[i-1][j-1], // sell\r\n              M[i-1][j]\r\n            )\r\n          }\r\n        }\r\n      }\r\n\r\n      return M[A.length-1][2*k]\r\n    }\r\n\r\n    var inputs = [\r\n      [[10, 22, 5, 75, 65, 80], 2], // 87\r\n      [[12, 14, 17, 10, 14, 13, 12, 15], 3], // 12\r\n      [[100, 30, 15, 10, 8, 25, 80], 3], // 72\r\n      [[90, 80, 70, 60, 50], 1] // 0\r\n    ]\r\n\r\n    for (let [A, K] of inputs){\r\n      console.log(`A: ${A}, K: ${K}`)\r\n      console.log(f(A, K))\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Maximum profit by buying and selling a share at most k times [Recursive to DP]","body":"<p>To convert to a bottom-up approach, it can help be more intuitive and easy if the recursive approach is first formulated top-down (meaning the parameters called are decreasing), as well as have an unambiguous association between the parameter state and the result. Since in this problem transactions are sequential and each is composed of two parts, one way we can achieve this is by doubling K and using its current parity to indicate our state in the transactions.</p>\n\n<p>Here is commented top-down in JavaScript, utilising the input examples in the Geeks-for-Geeks link shared in the question description. (Note that here \"sells\" are examined before their respective \"buy\".)</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// Odd k means the (k/2)th buy was completed\r\nfunction f(A, k, i=A.length-1){\r\n  // All transactions were done\r\n  if (k == 0)\r\n    return 0\r\n  // We're at the start of the price list\r\n  // so if we are in the middle of a transaction,\r\n  // force the associated \"buy\"\r\n  if (i == 0)\r\n    return k &amp; 1 ? -A[0] : 0\r\n  \r\n  // Current k is odd so we have completed a \"sell\" -\r\n  // choose to record the associated \"buy\" or skip\r\n  if (k &amp; 1){\r\n    return Math.max(\r\n      -A[i] + f(A, k - 1, i - 1), // buy\r\n      f(A, k, i - 1) // skip\r\n    )\r\n  // Current k is even so we have completed a \"buy\" or\r\n  // are \"at rest\" - choose to record a new \"sell\" or skip\r\n  } else {\r\n    return Math.max(\r\n      A[i] + f(A, k - 1, i - 1), // sell\r\n      f(A, k, i - 1) // skip\r\n    )\r\n  }\r\n}\r\n\r\nvar inputs = [\r\n  [[10, 22, 5, 75, 65, 80], 2], // 87\r\n  [[12, 14, 17, 10, 14, 13, 12, 15], 3], // 12\r\n  [[100, 30, 15, 10, 8, 25, 80], 3], // 72\r\n  [[90, 80, 70, 60, 50], 1] // 0\r\n]\r\n\r\nfor (let [A, K] of inputs){\r\n  console.log(`A: ${A}, K: ${K}`)\r\n  console.log(f(A, 2*K)) // call with doubled K\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Now here's the conversion to bottom-up, which is almost identical (<code>O(n2k) = O(nk)</code>):</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// Bottom-up\r\nfunction f(A, k){\r\n  let M = new Array(A.length)\r\n  \r\n  for (let i=0; i&lt;A.length; i++)\r\n    M[i] = new Array(2*k + 1).fill(0)\r\n\r\n  // Base case - force buy\r\n  for (let j=1; j&lt;=2*k; j+=2)\r\n    M[0][j] = -A[0]\r\n\r\n  for (let i=1; i&lt;A.length; i++){\r\n    for (let j=1; j&lt;=2*k; j++){\r\n      if (j &amp; 1){\r\n        M[i][j] = Math.max(\r\n          -A[i] + M[i-1][j-1], // buy\r\n          M[i - 1][j]\r\n        )\r\n     \r\n      } else {\r\n        M[i][j] = Math.max(\r\n          A[i] + M[i-1][j-1], // sell\r\n          M[i-1][j]\r\n        )\r\n      }\r\n    }\r\n  }\r\n\r\n  return M[A.length-1][2*k]\r\n}\r\n\r\nvar inputs = [\r\n  [[10, 22, 5, 75, 65, 80], 2], // 87\r\n  [[12, 14, 17, 10, 14, 13, 12, 15], 3], // 12\r\n  [[100, 30, 15, 10, 8, 25, 80], 3], // 72\r\n  [[90, 80, 70, 60, 50], 1] // 0\r\n]\r\n\r\nfor (let [A, K] of inputs){\r\n  console.log(`A: ${A}, K: ${K}`)\r\n  console.log(f(A, K))\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":18242055,"reputation":1,"user_id":13278919,"display_name":"Krishna Saksena"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586526282,"creation_date":1586526282,"answer_id":61141585,"question_id":59481061,"body_markdown":"Here is Non Recursive , non DP solution . Time Complexity - O(n).\r\n\r\n\r\n    int calculateMaxProfit(int[] stockPrice, int maxTransactionAllowed)\r\n    {\r\n\r\n        int j=0;\r\n        int maxLen = stockPrice.length ;\r\n        int profit = 0;\r\n        int transactionCount =  1;\r\n        int buy = -1;\r\n        int sell = -1;\r\n\r\n        while( (j + 1 &lt; maxLen - 1 &amp;&amp; transactionCount &lt;= maxTransactionAllowed) )\r\n        {\r\n            // find lowest price to buy before price goes up again\r\n            while(j+1 &lt; maxLen &amp;&amp; ( stockPrice[j+1] &lt; stockPrice[j]))\r\n            {\r\n                j++;\r\n            }\r\n\r\n            // In case of last allowed transaction get minimum of the prices yet to be traversed\r\n            if( transactionCount == maxTransactionAllowed) {\r\n                if( stockPrice[buy] &gt;= stockPrice[j]){\r\n                    buy = j;\r\n                }\r\n            }else{\r\n                buy = j;\r\n            }\r\n\r\n            // find highest price to sell before a downward trend\r\n            while(j+1 &lt; maxLen &amp;&amp; ( stockPrice[j+1] &gt; stockPrice[j]) )\r\n            {\r\n                j++;\r\n            }\r\n            // In case of last allowed transaction get max of the prices yet to be traversed\r\n            if( transactionCount == maxTransactionAllowed){\r\n                if(  stockPrice[j] &gt;= stockPrice[sell] ){\r\n                    sell = j;\r\n                }\r\n            }else {\r\n                sell = j;\r\n            }\r\n\r\n\r\n            if( j+1 &lt; maxLen &amp;&amp; transactionCount &lt; maxTransactionAllowed )\r\n            {\r\n                profit += stockPrice[sell] - stockPrice[buy];\r\n                buy = j+1;\r\n                sell = j+1;\r\n                transactionCount++;\r\n            }\r\n        }\r\n        profit += stockPrice[sell] - stockPrice[buy];\r\n        return profit;\r\n    }","title":"Maximum profit by buying and selling a share at most k times [Recursive to DP]","body":"<p>Here is Non Recursive , non DP solution . Time Complexity - O(n).</p>\n\n<pre><code>int calculateMaxProfit(int[] stockPrice, int maxTransactionAllowed)\n{\n\n    int j=0;\n    int maxLen = stockPrice.length ;\n    int profit = 0;\n    int transactionCount =  1;\n    int buy = -1;\n    int sell = -1;\n\n    while( (j + 1 &lt; maxLen - 1 &amp;&amp; transactionCount &lt;= maxTransactionAllowed) )\n    {\n        // find lowest price to buy before price goes up again\n        while(j+1 &lt; maxLen &amp;&amp; ( stockPrice[j+1] &lt; stockPrice[j]))\n        {\n            j++;\n        }\n\n        // In case of last allowed transaction get minimum of the prices yet to be traversed\n        if( transactionCount == maxTransactionAllowed) {\n            if( stockPrice[buy] &gt;= stockPrice[j]){\n                buy = j;\n            }\n        }else{\n            buy = j;\n        }\n\n        // find highest price to sell before a downward trend\n        while(j+1 &lt; maxLen &amp;&amp; ( stockPrice[j+1] &gt; stockPrice[j]) )\n        {\n            j++;\n        }\n        // In case of last allowed transaction get max of the prices yet to be traversed\n        if( transactionCount == maxTransactionAllowed){\n            if(  stockPrice[j] &gt;= stockPrice[sell] ){\n                sell = j;\n            }\n        }else {\n            sell = j;\n        }\n\n\n        if( j+1 &lt; maxLen &amp;&amp; transactionCount &lt; maxTransactionAllowed )\n        {\n            profit += stockPrice[sell] - stockPrice[buy];\n            buy = j+1;\n            sell = j+1;\n            transactionCount++;\n        }\n    }\n    profit += stockPrice[sell] - stockPrice[buy];\n    return profit;\n}\n</code></pre>\n"}],"owner":{"account_id":3471125,"reputation":383,"user_id":2905377,"accept_rate":0,"display_name":"Saawan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1424,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":59492676,"answer_count":2,"score":2,"last_activity_date":1636048674,"creation_date":1577299661,"question_id":59481061,"body_markdown":"I&#39;m not able to break the following problem into overlapping sub-problem unlike other DP problems so DP solution is not intuitive to me. \r\n\r\nhttps://www.geeksforgeeks.org/maximum-profit-by-buying-and-selling-a-share-at-most-k-times/\r\n\r\nI see everywhere there is a bottom up approach to solve this. I want to solve it using top-down approach. Like any other problem I want to first come up with recursive solution then use a DP array to cache the result for overlaps. I&#39;m not able to make it overlapping so not able to make DP intuitive. Please help me converting this to DP\r\n\r\nFollowing is my recursive solution.\r\n\r\n    private int getMaxProfit(ArrayList&lt;Integer&gt; input, int K) {\r\n\t\treturn getMaxProfit(input, 0, 0, 0, K, K, 0);\r\n\t}\r\n\r\n\tprivate int getMaxProfit(ArrayList&lt;Integer&gt; input, int i, int buy, int sell, int bk, int sk, int bal) {\r\n\t\tif (i == input.size() || (bk == 0 &amp;&amp; sk == 0)) { // k times Buying, selling done or we reached end\r\n\t\t\treturn buy &gt; sell ? 0 : sell - buy;\r\n\t\t}\r\n\r\n\t\t/** If Buying for k times done **/\r\n\t\tif (bk == 0) {\r\n\t\t\tint neutral = getMaxProfit(input, i + 1, buy, sell, bk, sk, bal + 1);\r\n\t\t\tint maxProfitBySell = getMaxProfit(input, i + 1, buy, sell + input.get(i), bk, sk - 1, bal - 1);\r\n\t\t\treturn Math.max(neutral, maxProfitBySell);\r\n\t\t}\r\n\t\t/** If Selling for k times done **/\r\n\t\tif (sk == 0) {\r\n\t\t\tint neutral = getMaxProfit(input, i + 1, buy, sell, bk, sk, bal + 1);\r\n\t\t\tint maxProfitByBuy = getMaxProfit(input, i + 1, buy + input.get(i), sell, bk - 1, sk, bal + 1);\r\n\t\t\treturn Math.max(neutral, maxProfitByBuy);\r\n\t\t}\r\n\t\t/** we need to buy one stock before we sell it **/\r\n\t\tif (bal == 0) {\r\n\t\t\treturn getMaxProfit(input, i + 1, buy + input.get(i), sell, bk - 1, sk, bal + 1);\r\n\t\t}\r\n\t\tint maxProfitByBuy = getMaxProfit(input, i + 1, buy + input.get(i), sell, bk - 1, sk, bal + 1); // buy\r\n\t\tint neutral = getMaxProfit(input, i + 1, buy, sell, bk, sk, bal + 1); // dont buy or sell\r\n\t\tint maxProfitBySell = getMaxProfit(input, i + 1, buy, sell + input.get(i), bk, sk - 1, bal - 1); //sell\r\n\t\treturn Math.max(neutral, Math.max(maxProfitByBuy, maxProfitBySell));\r\n\t}","title":"Maximum profit by buying and selling a share at most k times [Recursive to DP]","body":"<p>I'm not able to break the following problem into overlapping sub-problem unlike other DP problems so DP solution is not intuitive to me. </p>\n\n<p><a href=\"https://www.geeksforgeeks.org/maximum-profit-by-buying-and-selling-a-share-at-most-k-times/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/maximum-profit-by-buying-and-selling-a-share-at-most-k-times/</a></p>\n\n<p>I see everywhere there is a bottom up approach to solve this. I want to solve it using top-down approach. Like any other problem I want to first come up with recursive solution then use a DP array to cache the result for overlaps. I'm not able to make it overlapping so not able to make DP intuitive. Please help me converting this to DP</p>\n\n<p>Following is my recursive solution.</p>\n\n<pre><code>private int getMaxProfit(ArrayList&lt;Integer&gt; input, int K) {\n    return getMaxProfit(input, 0, 0, 0, K, K, 0);\n}\n\nprivate int getMaxProfit(ArrayList&lt;Integer&gt; input, int i, int buy, int sell, int bk, int sk, int bal) {\n    if (i == input.size() || (bk == 0 &amp;&amp; sk == 0)) { // k times Buying, selling done or we reached end\n        return buy &gt; sell ? 0 : sell - buy;\n    }\n\n    /** If Buying for k times done **/\n    if (bk == 0) {\n        int neutral = getMaxProfit(input, i + 1, buy, sell, bk, sk, bal + 1);\n        int maxProfitBySell = getMaxProfit(input, i + 1, buy, sell + input.get(i), bk, sk - 1, bal - 1);\n        return Math.max(neutral, maxProfitBySell);\n    }\n    /** If Selling for k times done **/\n    if (sk == 0) {\n        int neutral = getMaxProfit(input, i + 1, buy, sell, bk, sk, bal + 1);\n        int maxProfitByBuy = getMaxProfit(input, i + 1, buy + input.get(i), sell, bk - 1, sk, bal + 1);\n        return Math.max(neutral, maxProfitByBuy);\n    }\n    /** we need to buy one stock before we sell it **/\n    if (bal == 0) {\n        return getMaxProfit(input, i + 1, buy + input.get(i), sell, bk - 1, sk, bal + 1);\n    }\n    int maxProfitByBuy = getMaxProfit(input, i + 1, buy + input.get(i), sell, bk - 1, sk, bal + 1); // buy\n    int neutral = getMaxProfit(input, i + 1, buy, sell, bk, sk, bal + 1); // dont buy or sell\n    int maxProfitBySell = getMaxProfit(input, i + 1, buy, sell + input.get(i), bk, sk - 1, bal - 1); //sell\n    return Math.max(neutral, Math.max(maxProfitByBuy, maxProfitBySell));\n}\n</code></pre>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1636047083,"creation_date":1636047083,"answer_id":69843464,"question_id":69843384,"body_markdown":"You are responsible for maintaining the relationships between your entities.  The most likely explanation here is that you never setup proper relationships between the student and its laptops.  Consider this version:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    // first setup laptops for the student\r\n    Student stud1 = new Student();\r\n    Laptop lap1 = new Laptop();\r\n    Laptop lap2 = new Laptop();\r\n    List&lt;Laptop&gt; laptops = new ArrayList&lt;&gt;();\r\n    laptops.add(lap1);\r\n    laptops.add(lap2);\r\n    stud1.setLaptops(laptops);\r\n\r\n    // now set the reverse relationships\r\n    lap1.setStudent(stud1);\r\n    lap2.setStudent(stud1);\r\n\r\nTo avoid repetitive code, you may add methods to your two entity classes which manage this relationship bookkeeping.","title":"Hibernate saves @OneToMany mapping column as null values","body":"<p>You are responsible for maintaining the relationships between your entities.  The most likely explanation here is that you never setup proper relationships between the student and its laptops.  Consider this version:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// first setup laptops for the student\nStudent stud1 = new Student();\nLaptop lap1 = new Laptop();\nLaptop lap2 = new Laptop();\nList&lt;Laptop&gt; laptops = new ArrayList&lt;&gt;();\nlaptops.add(lap1);\nlaptops.add(lap2);\nstud1.setLaptops(laptops);\n\n// now set the reverse relationships\nlap1.setStudent(stud1);\nlap2.setStudent(stud1);\n</code></pre>\n<p>To avoid repetitive code, you may add methods to your two entity classes which manage this relationship bookkeeping.</p>\n"},{"tags":[],"owner":{"account_id":22090951,"reputation":21,"user_id":16349026,"display_name":"Tom&#225;s Nunes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636047846,"creation_date":1636047198,"answer_id":69843486,"question_id":69843384,"body_markdown":"From what I can see you could be missing the `@JoinColumn` annotation under the `@ManyToOne`.\r\n\r\nYour Laptop class should look something like:\r\n\r\n    @Entity\r\n    @Table(name = &quot;laptops&quot;)\r\n    public class Laptop {\r\n            @Id\r\n            private int lid;\r\n            private String lName;\r\n            @ManyToOne\r\n            @JoinColumn(&quot;student_id&quot;)\r\n            private Student student;\r\n    }\r\n\r\nand Student:\r\n\r\n    @Entity\r\n    @Table(name = &quot;students&quot;)\r\n    public class Student {\r\n            @Id\r\n            @Column(name = &quot;student_id&quot;)\r\n            private int sid;\r\n            @OneToMany(mappedBy = &quot;student&quot;)\r\n            private List&lt;Laptop&gt; laptops = new ArrayList&lt;&gt;();\r\n    }\r\n\r\nDon&#39;t forget to be aware of the fetch type (eager/lazy) and cascade type in the relation; also before you save the student, you should set the list of laptops.\r\n\r\n","title":"Hibernate saves @OneToMany mapping column as null values","body":"<p>From what I can see you could be missing the <code>@JoinColumn</code> annotation under the <code>@ManyToOne</code>.</p>\n<p>Your Laptop class should look something like:</p>\n<pre><code>@Entity\n@Table(name = &quot;laptops&quot;)\npublic class Laptop {\n        @Id\n        private int lid;\n        private String lName;\n        @ManyToOne\n        @JoinColumn(&quot;student_id&quot;)\n        private Student student;\n}\n</code></pre>\n<p>and Student:</p>\n<pre><code>@Entity\n@Table(name = &quot;students&quot;)\npublic class Student {\n        @Id\n        @Column(name = &quot;student_id&quot;)\n        private int sid;\n        @OneToMany(mappedBy = &quot;student&quot;)\n        private List&lt;Laptop&gt; laptops = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<p>Don't forget to be aware of the fetch type (eager/lazy) and cascade type in the relation; also before you save the student, you should set the list of laptops.</p>\n"}],"owner":{"account_id":2967158,"reputation":119,"user_id":2564528,"display_name":"ko4evneg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69843464,"answer_count":2,"score":0,"last_activity_date":1636048672,"creation_date":1636046651,"question_id":69843384,"body_markdown":"I am learning Hibernate relationships and have two classes:\r\n\r\n    @Entity\r\n    @Table(name = &quot;students&quot;)\r\n    public class Student {\r\n    \t\t@Id\r\n    \t\tprivate int sid;\r\n    \t\t@OneToMany(mappedBy = &quot;student&quot;)\r\n    \t\tprivate List&lt;Laptop&gt; laptops = new ArrayList&lt;&gt;();\r\n    //getters and setters\r\n    }\r\nand\r\n\r\n    @Entity\r\n    @Table(name = &quot;laptops&quot;)\r\n    public class Laptop {\r\n    \t\t@Id\r\n    \t\tprivate int lid;\r\n    \t\tprivate String lName;\r\n    \t\t@ManyToOne\r\n    \t\tprivate Student student;\r\n    //getters and setters\r\n    }\r\n\r\nI create Student object, add to it two Laptop objects and save it like that:\r\n\r\n    Laptop lap1 = new Laptop();\r\n    lap1.setLid(101);\r\n    lap1.setlName(&quot;Dell&quot;);\r\n\r\n    Laptop lap2 = new Laptop();\r\n    lap2.setLid(102);\r\n    lap2.setlName(&quot;HP&quot;);\r\n\r\n    Student stud1 = new Student();\r\n    stud1.setName(&quot;Mark&quot;);\r\n    stud1.setSid(1);\r\n    stud1.getLaptops().add(lap1);\r\n    stud1.getLaptops().add(lap2);\r\n\r\n    Transaction transaction = session.beginTransaction();\r\n    session.save(lap1);\r\n    session.save(lap2);\r\n    session.save(stud1);\r\n    transaction.commit();\r\n\r\nHowever when I execute `SELECT * FROM laptops` after, I see `student_sid` column which references `sid` in `students` table, but it contains NULL values. What did I do wrong?\r\n\r\nBy the way, I am able to fetch student object using `session.get` and it contains laptops in it (I suspect it is Hibernate cache).\r\n","title":"Hibernate saves @OneToMany mapping column as null values","body":"<p>I am learning Hibernate relationships and have two classes:</p>\n<pre><code>@Entity\n@Table(name = &quot;students&quot;)\npublic class Student {\n        @Id\n        private int sid;\n        @OneToMany(mappedBy = &quot;student&quot;)\n        private List&lt;Laptop&gt; laptops = new ArrayList&lt;&gt;();\n//getters and setters\n}\n</code></pre>\n<p>and</p>\n<pre><code>@Entity\n@Table(name = &quot;laptops&quot;)\npublic class Laptop {\n        @Id\n        private int lid;\n        private String lName;\n        @ManyToOne\n        private Student student;\n//getters and setters\n}\n</code></pre>\n<p>I create Student object, add to it two Laptop objects and save it like that:</p>\n<pre><code>Laptop lap1 = new Laptop();\nlap1.setLid(101);\nlap1.setlName(&quot;Dell&quot;);\n\nLaptop lap2 = new Laptop();\nlap2.setLid(102);\nlap2.setlName(&quot;HP&quot;);\n\nStudent stud1 = new Student();\nstud1.setName(&quot;Mark&quot;);\nstud1.setSid(1);\nstud1.getLaptops().add(lap1);\nstud1.getLaptops().add(lap2);\n\nTransaction transaction = session.beginTransaction();\nsession.save(lap1);\nsession.save(lap2);\nsession.save(stud1);\ntransaction.commit();\n</code></pre>\n<p>However when I execute <code>SELECT * FROM laptops</code> after, I see <code>student_sid</code> column which references <code>sid</code> in <code>students</code> table, but it contains NULL values. What did I do wrong?</p>\n<p>By the way, I am able to fetch student object using <code>session.get</code> and it contains laptops in it (I suspect it is Hibernate cache).</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":5012123,"reputation":13192,"user_id":4028085,"display_name":"brso05"},"score":2,"creation_date":1412967159,"post_id":26306135,"comment_id":41280273,"body_markdown":"Post your full code because we don&#39;t know what reader is?","body":"Post your full code because we don&#39;t know what reader is?"},{"owner":{"account_id":3887004,"reputation":46525,"user_id":3218114,"accept_rate":84,"display_name":"Braj"},"score":3,"creation_date":1412967159,"post_id":26306135,"comment_id":41280274,"body_markdown":"Get the characters in array using `char[] array = &quot;HJIOADH&quot;.toCharArray();` Explore the methods present in `String` class itself.","body":"Get the characters in array using <code>char[] array = &quot;HJIOADH&quot;.toCharArray();</code> Explore the methods present in <code>String</code> class itself."},{"owner":{"account_id":5096363,"reputation":416,"user_id":4087522,"accept_rate":100,"display_name":"Ahaha"},"score":0,"creation_date":1412968224,"post_id":26306135,"comment_id":41280748,"body_markdown":"Thanks for everybody! I got it.","body":"Thanks for everybody! I got it."}],"answers":[{"tags":[],"owner":{"account_id":130645,"reputation":81695,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1412967264,"creation_date":1412967264,"answer_id":26306183,"question_id":26306135,"body_markdown":"You only want to `next()` your reader once, unless it has a lot of the same toke nrepeated again and again.\r\n\r\n    String nodes = reader.next();\r\n    for(int i = 0; i &lt; nodes.length(); i++) {\r\n        System.out.println(nodes.charAt(i));\r\n    }","title":"How to read characters in a string in java","body":"<p>You only want to <code>next()</code> your reader once, unless it has a lot of the same toke nrepeated again and again.</p>\n\n<pre><code>String nodes = reader.next();\nfor(int i = 0; i &lt; nodes.length(); i++) {\n    System.out.println(nodes.charAt(i));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":236909,"reputation":8312,"user_id":504717,"accept_rate":56,"display_name":"Em Ae"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1412967434,"creation_date":1412967434,"answer_id":26306229,"question_id":26306135,"body_markdown":"as Braj mentioned you can try `reader.toCharArray()` and to then you can easily use the loop\r\n\r\n    char[] array = reader.toCharArray();\r\n    for (char ch : array) {\r\n        System.out.println (ch);\r\n    }","title":"How to read characters in a string in java","body":"<p>as Braj mentioned you can try <code>reader.toCharArray()</code> and to then you can easily use the loop</p>\n\n<pre><code>char[] array = reader.toCharArray();\nfor (char ch : array) {\n    System.out.println (ch);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20341474,"reputation":11,"user_id":14920621,"display_name":"bulutmurat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636048467,"creation_date":1635879656,"answer_id":69815680,"question_id":26306135,"body_markdown":"For those searching for another solution:\r\n        \r\n        String anyString = &quot;anystring&quot;;\r\n        Scanner sn = new Scanner(anyString);\r\n        sn.useDelimiter(&quot;&quot;);\r\n\r\n        while (sn.hasNext()){\r\n            char c = sn.next().charAt(0);\r\n            // logic for chars...\r\n        }\r\n    ","title":"How to read characters in a string in java","body":"<p>For those searching for another solution:</p>\n<pre><code>    String anyString = &quot;anystring&quot;;\n    Scanner sn = new Scanner(anyString);\n    sn.useDelimiter(&quot;&quot;);\n\n    while (sn.hasNext()){\n        char c = sn.next().charAt(0);\n        // logic for chars...\n    }\n</code></pre>\n"}],"owner":{"account_id":5096363,"reputation":416,"user_id":4087522,"accept_rate":100,"display_name":"Ahaha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102415,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":26306183,"answer_count":3,"score":14,"last_activity_date":1636048467,"creation_date":1412967092,"question_id":26306135,"body_markdown":"I&#39;m new in java, so sorry if this is an obvious question.\r\n\r\nI&#39;m trying to read a string character by character to create tree nodes.\r\nfor example, input `&quot;HJIOADH&quot;`\r\nAnd the nodes are `H  J  I  O  A  D  H`\r\n\r\nI noticed that \r\n\r\n    char node = reader.next().charAt(0);  I can get the first char H by this\r\n    char node = reader.next().charAt(1);  I can get the second char J by this\r\n\r\nCan I use a cycle to get all the characters? like\r\n\r\n    for i to n\r\n        node = reader.next().charAt(i)\r\n\r\nI tried but it doesn&#39;t work.\r\n\r\nHow I am suppose to do that?\r\n\r\nThanks a lot for any help.\r\n\r\n\r\nScanner reader = new Scanner(System.in);\r\n\tSystem.out.println(&quot;input your nodes as capital letters without space and &#39;/&#39; at the end&quot;);\r\n        int i = 0;\r\n\tchar node = reader.next().charAt(i);\r\n\twhile (node != &#39;/&#39;) {\r\n            \r\n            CreateNode(node); // this is a function to create a tree node\r\n            i++;\r\n            node = reader.next().charAt(i);\r\n            \r\n        }\r\n","title":"How to read characters in a string in java","body":"<p>I'm new in java, so sorry if this is an obvious question.</p>\n\n<p>I'm trying to read a string character by character to create tree nodes.\nfor example, input <code>\"HJIOADH\"</code>\nAnd the nodes are <code>H  J  I  O  A  D  H</code></p>\n\n<p>I noticed that </p>\n\n<pre><code>char node = reader.next().charAt(0);  I can get the first char H by this\nchar node = reader.next().charAt(1);  I can get the second char J by this\n</code></pre>\n\n<p>Can I use a cycle to get all the characters? like</p>\n\n<pre><code>for i to n\n    node = reader.next().charAt(i)\n</code></pre>\n\n<p>I tried but it doesn't work.</p>\n\n<p>How I am suppose to do that?</p>\n\n<p>Thanks a lot for any help.</p>\n\n<p>Scanner reader = new Scanner(System.in);\n    System.out.println(\"input your nodes as capital letters without space and '/' at the end\");\n        int i = 0;\n    char node = reader.next().charAt(i);\n    while (node != '/') {</p>\n\n<pre><code>        CreateNode(node); // this is a function to create a tree node\n        i++;\n        node = reader.next().charAt(i);\n\n    }\n</code></pre>\n"},{"tags":["java","jboss","keycloak","netflix-eureka"],"answers":[{"tags":[],"owner":{"account_id":8694271,"reputation":3895,"user_id":6506229,"display_name":"Hassen Bennour"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1636047985,"creation_date":1636047985,"answer_id":69843638,"question_id":65681906,"body_markdown":"try to exclude jsr311-apiand include spring-boot-starter-jersey.\r\nworks fine for me with &lt;keycloak.version&gt;15.0.2&lt;/keycloak.version&gt;\r\n\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.3&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jsr311-api&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt;\r\n            &lt;version&gt;2.5.4&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"Keycloak server as Eureka client","body":"<p>try to exclude jsr311-apiand include spring-boot-starter-jersey.\nworks fine for me with &lt;keycloak.version&gt;15.0.2&lt;/keycloak.version&gt;</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\n        &lt;version&gt;3.0.3&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\n                &lt;artifactId&gt;jsr311-api&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt;\n        &lt;version&gt;2.5.4&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":12171422,"reputation":191,"user_id":8885960,"display_name":"the_tourist"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":490,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69843638,"answer_count":1,"score":0,"last_activity_date":1636047985,"creation_date":1610446550,"question_id":65681906,"body_markdown":"I want to make my Keycloak server works as an Eureka Client. It seems that when the server starts it doesn&#39;t find the following method : \r\n\r\n    javax.ws.rs.core.Application.getProperties()Ljava/util/Map;\r\n\r\nThe method&#39;s class, javax.ws.rs.core.Application, is available from the following locations:\r\n   \r\n\r\n     jar:file:/home/vagrant/.m2/repository/javax/ws/rs/jsr311-api/1.1.1/jsr311-api-1.1.1.jar!/javax/ws/rs/core/Application.class\r\n     jar:file:/home/vagrant/.m2/repository/org/jboss/spec/javax/ws/rs/jboss-jaxrs-api_2.1_spec/2.0.1.Final/jboss-jaxrs-api_2.1_spec-2.0.1.Final.jar!/javax/ws/rs/core/Application.class\r\n\r\nIt was loaded from the following location:\r\n\r\n    file:/home/vagrant/.m2/repository/javax/ws/rs/jsr311-api/1.1.1/jsr311-api-1.1.1.jar\r\n\r\nDo you have any idea concerning this behaviour ?\r\n","title":"Keycloak server as Eureka client","body":"<p>I want to make my Keycloak server works as an Eureka Client. It seems that when the server starts it doesn't find the following method :</p>\n<pre><code>javax.ws.rs.core.Application.getProperties()Ljava/util/Map;\n</code></pre>\n<p>The method's class, javax.ws.rs.core.Application, is available from the following locations:</p>\n<pre><code> jar:file:/home/vagrant/.m2/repository/javax/ws/rs/jsr311-api/1.1.1/jsr311-api-1.1.1.jar!/javax/ws/rs/core/Application.class\n jar:file:/home/vagrant/.m2/repository/org/jboss/spec/javax/ws/rs/jboss-jaxrs-api_2.1_spec/2.0.1.Final/jboss-jaxrs-api_2.1_spec-2.0.1.Final.jar!/javax/ws/rs/core/Application.class\n</code></pre>\n<p>It was loaded from the following location:</p>\n<pre><code>file:/home/vagrant/.m2/repository/javax/ws/rs/jsr311-api/1.1.1/jsr311-api-1.1.1.jar\n</code></pre>\n<p>Do you have any idea concerning this behaviour ?</p>\n"},{"tags":["java","events","event-handling","mouseevent"],"comments":[{"owner":{"account_id":464362,"reputation":1084,"user_id":867816,"display_name":"Gernot"},"score":0,"creation_date":1636048058,"post_id":69843582,"comment_id":123460007,"body_markdown":"Did you try getPreciseWheelRotation() ?","body":"Did you try getPreciseWheelRotation() ?"},{"owner":{"account_id":464362,"reputation":1084,"user_id":867816,"display_name":"Gernot"},"score":0,"creation_date":1636048121,"post_id":69843582,"comment_id":123460035,"body_markdown":"Possible duplicate/solution: https://stackoverflow.com/questions/7074882/java-how-to-get-the-scrolling-method-in-os-x-lion","body":"Possible duplicate/solution: <a href=\"https://stackoverflow.com/questions/7074882/java-how-to-get-the-scrolling-method-in-os-x-lion\" title=\"java how to get the scrolling method in os x lion\">stackoverflow.com/questions/7074882/&hellip;</a>"},{"owner":{"account_id":20092170,"reputation":175,"user_id":16770036,"display_name":"awawawaw"},"score":0,"creation_date":1636048379,"post_id":69843582,"comment_id":123460128,"body_markdown":"@Gernot I will try that now, thanks.","body":"@Gernot I will try that now, thanks."},{"owner":{"account_id":20092170,"reputation":175,"user_id":16770036,"display_name":"awawawaw"},"score":0,"creation_date":1636070636,"post_id":69843582,"comment_id":123466453,"body_markdown":"@Gernot does the same thing except with a double","body":"@Gernot does the same thing except with a double"}],"owner":{"account_id":20092170,"reputation":175,"user_id":16770036,"display_name":"awawawaw"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1636047699,"creation_date":1636047699,"question_id":69843582,"body_markdown":"I add a mouse wheel event listener to a panel, whenever I scroll, it goes through my arraylist of strings of 100 people. My code currently works on windows, preventing an index out of bounds error. \r\n\r\nBut if I go on MacOS, it returns an out of bounds error because `e.getWheelRotation()` returns values from -1-&gt;99, whereas `e.getWheelRotation()` on Windows returns values -1 or 1.\r\n\r\nHow do I make it so my code runs the same on both MacOS and Windows? Thanks in advance.\r\n\r\n\r\n     view.getMyFrame().addMouseWheelListener(new MouseWheelListener(){\r\n        int holder = 0;\r\n        int linesToDisplay = 20;\r\n        @Override\r\n        public void mouseWheelMoved(MouseWheelEvent e)\r\n        {\r\n\r\n                    if((holder == 0 &amp;&amp; e.getWheelRotation()!=-1) || (holder &gt; 0 &amp;&amp; holder&lt;(100-linesToDisplay) || ((holder ==(100 - linesToDisplay) &amp;&amp; e.getWheelRotation()!=1 )))){\r\n                            holder+=e.getWheelRotation();\r\n                            view.updatePanel(holder, linesToDisplay+holder);\r\n                    }\r\n\r\n        }\r\n    }","title":"How do I make java code work on both MacOS and Windows?","body":"<p>I add a mouse wheel event listener to a panel, whenever I scroll, it goes through my arraylist of strings of 100 people. My code currently works on windows, preventing an index out of bounds error.</p>\n<p>But if I go on MacOS, it returns an out of bounds error because <code>e.getWheelRotation()</code> returns values from -1-&gt;99, whereas <code>e.getWheelRotation()</code> on Windows returns values -1 or 1.</p>\n<p>How do I make it so my code runs the same on both MacOS and Windows? Thanks in advance.</p>\n<pre><code> view.getMyFrame().addMouseWheelListener(new MouseWheelListener(){\n    int holder = 0;\n    int linesToDisplay = 20;\n    @Override\n    public void mouseWheelMoved(MouseWheelEvent e)\n    {\n\n                if((holder == 0 &amp;&amp; e.getWheelRotation()!=-1) || (holder &gt; 0 &amp;&amp; holder&lt;(100-linesToDisplay) || ((holder ==(100 - linesToDisplay) &amp;&amp; e.getWheelRotation()!=1 )))){\n                        holder+=e.getWheelRotation();\n                        view.updatePanel(holder, linesToDisplay+holder);\n                }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":14042835,"reputation":123,"user_id":10143842,"display_name":"Ravazz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636047441,"creation_date":1636045198,"answer_id":69843104,"question_id":69842855,"body_markdown":"You cannot instantiate abstract classes, so the new `View.OnClickListener()` gives the error.\r\nAs said in the Android Doc (https://developer.android.com/reference/android/widget/Button), try this\r\n\r\n         button.setOnClickListener(new View.OnClickListener() {\r\n             public void onClick(View v) {\r\n                 // Code here\r\n             }\r\n         });\r\n\r\nand for keeping the code as simple as possible I suggest to call a method inside the `onClick()`,\r\n\r\n         button.setOnClickListener(new View.OnClickListener() {\r\n             public void onClick(View v) {\r\n                 myMethod();\r\n             }\r\n         });\r\n    }\r\n    \r\n    public void myMethod(){\r\n        //codehere\r\n    }\r\n\r\n","title":"&#39;OnClickListener&#39; is abstract; cannot be instantiated and Cannot resolve symbol &#39;v&#39;","body":"<p>You cannot instantiate abstract classes, so the new <code>View.OnClickListener()</code> gives the error.\nAs said in the Android Doc (<a href=\"https://developer.android.com/reference/android/widget/Button\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/widget/Button</a>), try this</p>\n<pre><code>     button.setOnClickListener(new View.OnClickListener() {\n         public void onClick(View v) {\n             // Code here\n         }\n     });\n</code></pre>\n<p>and for keeping the code as simple as possible I suggest to call a method inside the <code>onClick()</code>,</p>\n<pre><code>     button.setOnClickListener(new View.OnClickListener() {\n         public void onClick(View v) {\n             myMethod();\n         }\n     });\n}\n\npublic void myMethod(){\n    //codehere\n}\n</code></pre>\n"}],"owner":{"account_id":20979201,"reputation":1,"user_id":15414438,"display_name":"preeya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636047441,"creation_date":1636044204,"question_id":69842855,"body_markdown":"\r\n    package com.example.application;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        private Button button2;\r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            button2 = findViewById(R.id.button2);\r\n            button2.setOnClickListener(new View.OnClickListener());\r\n            @Override\r\n            public void onClick(View v)\r\n                    Intent intent = new Intent(this, ClaimApplication.class);\r\n                    startActivity(intent);\r\n    \r\n    \r\n        }\r\n    }\r\n\r\nI have error such as &#39;OnClickListener&#39; is abstract; cannot be instantiated and Cannot resolve symbol &#39;v&#39;\r\nI am a new programmer so please someone help!\r\n","title":"&#39;OnClickListener&#39; is abstract; cannot be instantiated and Cannot resolve symbol &#39;v&#39;","body":"<pre><code>package com.example.application;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private Button button2;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        button2 = findViewById(R.id.button2);\n        button2.setOnClickListener(new View.OnClickListener());\n        @Override\n        public void onClick(View v)\n                Intent intent = new Intent(this, ClaimApplication.class);\n                startActivity(intent);\n\n\n    }\n}\n</code></pre>\n<p>I have error such as 'OnClickListener' is abstract; cannot be instantiated and Cannot resolve symbol 'v'\nI am a new programmer so please someone help!</p>\n"},{"tags":["java","javafx"],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1636047331,"creation_date":1635708588,"answer_id":69789926,"question_id":69789135,"body_markdown":"You can do:\r\n\r\n    listView.setCellFactory(list -&gt; new CheckBoxListCell(item -&gt; {\r\n        BooleanProperty observable = new SimpleBooleanProperty();\r\n        observable.addListener((obs, wasSelected, isNowSelected) -&gt;\r\n                selected.add(item)\r\n        );\r\n        return observable;\r\n    }) {\r\n        @Override\r\n        public void updateItem(Object item, boolean empty) {\r\n            super.updateItem(item, empty);\r\n            if (passed.contains(item)){\r\n                setStyle(&quot;-fx-background-color: green; -fx-text-fill: white&quot;);\r\n                setText((String) item);\r\n            }else {\r\n                setStyle(&quot;-fx-background-color: red; -fx-text-fill: white&quot;);\r\n                setText((String) item);\r\n            }\r\n        }\r\n    });\r\n\r\n","title":"How to update the background color of the cells from a list view with checkboxes in JavaFX?","body":"<p>You can do:</p>\n<pre><code>listView.setCellFactory(list -&gt; new CheckBoxListCell(item -&gt; {\n    BooleanProperty observable = new SimpleBooleanProperty();\n    observable.addListener((obs, wasSelected, isNowSelected) -&gt;\n            selected.add(item)\n    );\n    return observable;\n}) {\n    @Override\n    public void updateItem(Object item, boolean empty) {\n        super.updateItem(item, empty);\n        if (passed.contains(item)){\n            setStyle(&quot;-fx-background-color: green; -fx-text-fill: white&quot;);\n            setText((String) item);\n        }else {\n            setStyle(&quot;-fx-background-color: red; -fx-text-fill: white&quot;);\n            setText((String) item);\n        }\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":11475744,"reputation":205,"user_id":8411319,"display_name":"Radu Aramă"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":269,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69789926,"answer_count":1,"score":1,"last_activity_date":1636047331,"creation_date":1635702476,"question_id":69789135,"body_markdown":"So, I have got a list view in JavaFX and I have added a checkbox to each cell.\r\n\r\n    listView.setCellFactory(CheckBoxListCell.forListView(new Callback&lt;String, ObservableValue&lt;Boolean&gt;&gt;() {\r\n        @Override\r\n        public ObservableValue&lt;Boolean&gt; call(String item) {\r\n            BooleanProperty observable = new SimpleBooleanProperty();\r\n            observable.addListener((obs, wasSelected, isNowSelected) -&gt; selected.add(item));\r\n\r\n            return observable;\r\n        }\r\n    }));\r\n\r\nAfter I do some processing I need to be able to change the background color for each cell depending on some results (the colors are green/red)\r\nI have found a way of doing that:\r\n\r\n    listView.setCellFactory(list -&gt; {\r\n        return new ListCell() {\r\n            @Override\r\n            protected void updateItem(Object item, boolean empty) {\r\n                super.updateItem(item, empty);\r\n\r\n                if (passed.contains(item))\r\n                    setStyle(&quot;-fx-background-color: green; -fx-text-fill: white&quot;);\r\n                else\r\n                    setStyle(&quot;-fx-background-color: red; -fx-text-fill: white&quot;);\r\n\r\n                setText((String) item);\r\n            }\r\n        };\r\n    });\r\n\r\nThe problem is that this sets new cells for the list view and removes the checkboxes.\r\n\r\nIs it possible somehow to change the background colors and keep the checkboxes?\r\n","title":"How to update the background color of the cells from a list view with checkboxes in JavaFX?","body":"<p>So, I have got a list view in JavaFX and I have added a checkbox to each cell.</p>\n<pre><code>listView.setCellFactory(CheckBoxListCell.forListView(new Callback&lt;String, ObservableValue&lt;Boolean&gt;&gt;() {\n    @Override\n    public ObservableValue&lt;Boolean&gt; call(String item) {\n        BooleanProperty observable = new SimpleBooleanProperty();\n        observable.addListener((obs, wasSelected, isNowSelected) -&gt; selected.add(item));\n\n        return observable;\n    }\n}));\n</code></pre>\n<p>After I do some processing I need to be able to change the background color for each cell depending on some results (the colors are green/red)\nI have found a way of doing that:</p>\n<pre><code>listView.setCellFactory(list -&gt; {\n    return new ListCell() {\n        @Override\n        protected void updateItem(Object item, boolean empty) {\n            super.updateItem(item, empty);\n\n            if (passed.contains(item))\n                setStyle(&quot;-fx-background-color: green; -fx-text-fill: white&quot;);\n            else\n                setStyle(&quot;-fx-background-color: red; -fx-text-fill: white&quot;);\n\n            setText((String) item);\n        }\n    };\n});\n</code></pre>\n<p>The problem is that this sets new cells for the list view and removes the checkboxes.</p>\n<p>Is it possible somehow to change the background colors and keep the checkboxes?</p>\n"},{"tags":["java","android","android-sqlite"],"comments":[{"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"score":1,"creation_date":1636037356,"post_id":69840926,"comment_id":123455414,"body_markdown":"If you want to *make the ID auto increment* why do you insert a value for the ID column?","body":"If you want to <i>make the ID auto increment</i> why do you insert a value for the ID column?"}],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636047267,"creation_date":1636047267,"answer_id":69843501,"question_id":69840926,"body_markdown":"The datatype mismatch is quite specific you are trying to insert a value that is not an integer value into the rowid column or an alias of the rowid column \r\n- `INTEGER PRIMARY KEY` *(with or without AUTOINCREMENT)* results in an alias of the rowid column. \r\n\r\nAccording to `public Boolean insertbudget(String id, String date)` then you are passing a non-integer string.\r\n\r\nYou can eliminate this from happening by using `public Boolean insertbudget(long id, String date)` and then adjusting the code to suit (i.e. convert the string to long). The parse error that you will then get, should point to the real cause. \r\n\r\nHowever, the simplest solution, would be to remove the line `contentValues.put(&quot;id&quot;, id);` SQLite will then assign an appropriate value. You could then adjust the method&#39;s signature as the id does not need to be passed. So you may wish to use :-\r\n\r\n    public Boolean insertbudget(String date)\r\n    {\r\n        SQLiteDatabase DB = this.getWritableDatabase();\r\n        ContentValues contentValues = new ContentValues();\r\n        contentValues.put(&quot;date&quot;, date);\r\n        return result=(DB.insert(&quot;Budget&quot;,null, contentValues) &gt; 0);\r\n    }\r\n\r\n","title":"android.database.sqlite.SQLiteDatatypeMismatchException: datatype mismatch (code 20 SQLITE_MISMATCH)","body":"<p>The datatype mismatch is quite specific you are trying to insert a value that is not an integer value into the rowid column or an alias of the rowid column</p>\n<ul>\n<li><code>INTEGER PRIMARY KEY</code> <em>(with or without AUTOINCREMENT)</em> results in an alias of the rowid column.</li>\n</ul>\n<p>According to <code>public Boolean insertbudget(String id, String date)</code> then you are passing a non-integer string.</p>\n<p>You can eliminate this from happening by using <code>public Boolean insertbudget(long id, String date)</code> and then adjusting the code to suit (i.e. convert the string to long). The parse error that you will then get, should point to the real cause.</p>\n<p>However, the simplest solution, would be to remove the line <code>contentValues.put(&quot;id&quot;, id);</code> SQLite will then assign an appropriate value. You could then adjust the method's signature as the id does not need to be passed. So you may wish to use :-</p>\n<pre><code>public Boolean insertbudget(String date)\n{\n    SQLiteDatabase DB = this.getWritableDatabase();\n    ContentValues contentValues = new ContentValues();\n    contentValues.put(&quot;date&quot;, date);\n    return result=(DB.insert(&quot;Budget&quot;,null, contentValues) &gt; 0);\n}\n</code></pre>\n"}],"owner":{"account_id":20526783,"reputation":11,"user_id":15065025,"display_name":"Rinka Wai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69843501,"answer_count":1,"score":0,"last_activity_date":1636047267,"creation_date":1636036388,"question_id":69840926,"body_markdown":"I have an issue with inserting data date into the database. I try to make the ID auto increment and the date is using datepicker. Is that other way can store the date into database or is that others wrong on my code?\r\n\r\nBelow is dbhelper.java\r\n\r\n    public class DBHelper extends SQLiteOpenHelper {\r\n    public DBHelper(Context context) {\r\n        super(context, &quot;Budget.db&quot;, null, 1);\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(SQLiteDatabase DB) {\r\n        DB.execSQL(&quot;create Table Budget(id INTEGER primary key autoincrement not null, date TEXT)&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void onUpgrade(SQLiteDatabase DB, int i, int i1) {\r\n        DB.execSQL(&quot;drop Table if exists Budget&quot;);\r\n\r\n    }\r\n\r\n    private String getDateTime() {\r\n\r\n        SimpleDateFormat dateFormat = new SimpleDateFormat(\r\n\r\n                &quot;yyyy-MM-dd &quot;, Locale.getDefault());\r\n\r\n        Date date = new Date();\r\n\r\n        return dateFormat.format(date);\r\n\r\n    }\r\n    public Boolean insertbudget(String id, String date)\r\n    {\r\n        SQLiteDatabase DB = this.getWritableDatabase();\r\n        ContentValues contentValues = new ContentValues();\r\n        contentValues.put(&quot;id&quot;, id);\r\n        contentValues.put(&quot;date&quot;, date);\r\n        long result=DB.insert(&quot;Budget&quot;,null, contentValues);\r\n        if(result==-1){\r\n            return false;\r\n        }else{\r\n            return true;\r\n        }\r\n    }\r\n\r\n    public Cursor getdata() {\r\n        SQLiteDatabase DB = this.getWritableDatabase();\r\n\r\n        Cursor cursor = DB.rawQuery(&quot;Select * from Budget&quot;, null);\r\n        return cursor;\r\n    }\r\nBelow is the code I declare date and database is main\r\n\r\n    btnAdd = findViewById(R.id.btnAdd);\r\n        id = findViewById(R.id.id);\r\n        DB = new DBHelper(this);\r\n\r\n        btnAdd.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                String idTXT = id.getText().toString();\r\n                String dateTXT = mDisplayDate.getText().toString();\r\n\r\n\r\n                Boolean checkAdddata = DB.insertbudget(idTXT, dateTXT);\r\n                if(checkAdddata==true)\r\n                    Toast.makeText(Add.this, &quot;New Entry Inserted&quot;, Toast.LENGTH_SHORT);\r\n                else\r\n                    Toast.makeText(Add.this, &quot;New Entry Not Inserted&quot;, Toast.LENGTH_SHORT);\r\n            }\r\n        });\r\n\r\n        //date\r\n        mDisplayDate = (TextView) findViewById(R.id.date);\r\n\r\n        mDisplayDate.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Calendar cal = Calendar.getInstance();\r\n                int year = cal.get(Calendar.YEAR);\r\n                int month = cal.get(Calendar.MONTH);\r\n                int day = cal.get(Calendar.DAY_OF_MONTH);\r\n\r\n                DatePickerDialog dialog = new DatePickerDialog(\r\n                        Add.this,\r\n                        android.R.style.Theme_Holo_Light_Dialog_MinWidth,\r\n                        mDateSetListener,\r\n                        year, month, day);\r\n\r\n                dialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));\r\n                dialog.show();\r\n            }\r\n        });\r\n        mDateSetListener = new DatePickerDialog.OnDateSetListener() {\r\n            @Override\r\n            public void onDateSet(DatePicker datePicker, int year, int month, int day) {\r\n                month = month + 1;\r\n                Log.d(TAG, &quot;onDateSet: dd/mm/yyyy:&quot; + day + &quot;/&quot; + month + &quot;/&quot; + year);\r\n\r\n                String date = day + &quot;/&quot; + month + &quot;/&quot; + year;\r\n                mDisplayDate.setText(date);\r\n            }\r\n\r\n        };\r\n\r\nThis is the error that show\r\n[error][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vkCE2.png","title":"android.database.sqlite.SQLiteDatatypeMismatchException: datatype mismatch (code 20 SQLITE_MISMATCH)","body":"<p>I have an issue with inserting data date into the database. I try to make the ID auto increment and the date is using datepicker. Is that other way can store the date into database or is that others wrong on my code?</p>\n<p>Below is dbhelper.java</p>\n<pre><code>public class DBHelper extends SQLiteOpenHelper {\npublic DBHelper(Context context) {\n    super(context, &quot;Budget.db&quot;, null, 1);\n}\n\n@Override\npublic void onCreate(SQLiteDatabase DB) {\n    DB.execSQL(&quot;create Table Budget(id INTEGER primary key autoincrement not null, date TEXT)&quot;);\n}\n\n@Override\npublic void onUpgrade(SQLiteDatabase DB, int i, int i1) {\n    DB.execSQL(&quot;drop Table if exists Budget&quot;);\n\n}\n\nprivate String getDateTime() {\n\n    SimpleDateFormat dateFormat = new SimpleDateFormat(\n\n            &quot;yyyy-MM-dd &quot;, Locale.getDefault());\n\n    Date date = new Date();\n\n    return dateFormat.format(date);\n\n}\npublic Boolean insertbudget(String id, String date)\n{\n    SQLiteDatabase DB = this.getWritableDatabase();\n    ContentValues contentValues = new ContentValues();\n    contentValues.put(&quot;id&quot;, id);\n    contentValues.put(&quot;date&quot;, date);\n    long result=DB.insert(&quot;Budget&quot;,null, contentValues);\n    if(result==-1){\n        return false;\n    }else{\n        return true;\n    }\n}\n\npublic Cursor getdata() {\n    SQLiteDatabase DB = this.getWritableDatabase();\n\n    Cursor cursor = DB.rawQuery(&quot;Select * from Budget&quot;, null);\n    return cursor;\n}\n</code></pre>\n<p>Below is the code I declare date and database is main</p>\n<pre><code>btnAdd = findViewById(R.id.btnAdd);\n    id = findViewById(R.id.id);\n    DB = new DBHelper(this);\n\n    btnAdd.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            String idTXT = id.getText().toString();\n            String dateTXT = mDisplayDate.getText().toString();\n\n\n            Boolean checkAdddata = DB.insertbudget(idTXT, dateTXT);\n            if(checkAdddata==true)\n                Toast.makeText(Add.this, &quot;New Entry Inserted&quot;, Toast.LENGTH_SHORT);\n            else\n                Toast.makeText(Add.this, &quot;New Entry Not Inserted&quot;, Toast.LENGTH_SHORT);\n        }\n    });\n\n    //date\n    mDisplayDate = (TextView) findViewById(R.id.date);\n\n    mDisplayDate.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            Calendar cal = Calendar.getInstance();\n            int year = cal.get(Calendar.YEAR);\n            int month = cal.get(Calendar.MONTH);\n            int day = cal.get(Calendar.DAY_OF_MONTH);\n\n            DatePickerDialog dialog = new DatePickerDialog(\n                    Add.this,\n                    android.R.style.Theme_Holo_Light_Dialog_MinWidth,\n                    mDateSetListener,\n                    year, month, day);\n\n            dialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));\n            dialog.show();\n        }\n    });\n    mDateSetListener = new DatePickerDialog.OnDateSetListener() {\n        @Override\n        public void onDateSet(DatePicker datePicker, int year, int month, int day) {\n            month = month + 1;\n            Log.d(TAG, &quot;onDateSet: dd/mm/yyyy:&quot; + day + &quot;/&quot; + month + &quot;/&quot; + year);\n\n            String date = day + &quot;/&quot; + month + &quot;/&quot; + year;\n            mDisplayDate.setText(date);\n        }\n\n    };\n</code></pre>\n<p>This is the error that show\n<a href=\"https://i.stack.imgur.com/vkCE2.png\" rel=\"nofollow noreferrer\">error</a></p>\n"},{"tags":["java","android","xml","android-studio","android-animation"],"owner":{"account_id":21730523,"reputation":97,"user_id":16039337,"display_name":"noobieCoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1636046780,"creation_date":1636046780,"question_id":69843403,"body_markdown":"I have not seen many answers for a fragment animation on exit. What I am trying to do here is revert the animation when I go back on a fragment. For instance, I have three fragments, when I go to the next fragment it does a right slide in animation but now in my current fragment if i go back i want to revert that animation.           \r\n            \r\n            \r\n            int enterAnimRight = R.anim.slide_in_right;\r\n            int enterAnimLeft = R.anim.slide_out_left;\r\n            int exitAnimRight = R.anim.slide_in_left;\r\n            int exitAnimLeft = R.anim.slide_out_left;\r\n            lastFragment = 0;\r\n            currentFragment = 0;\r\n            //Bottom Navigation\r\n            BottomNavigationView bottomNav = findViewById(R.id.nav_menu);\r\n            //Item listener when one of hte items below from the nav_bar is selected\r\n            bottomNav.setOnItemSelectedListener(item -&gt; {\r\n                Fragment selectedFragment = null;\r\n                switch(item.getItemId()){\r\n                    case R.id.nav_home:\r\n                        selectedFragment = new HomeFragment(dbHelper, db);\r\n                        currentFragment=1;\r\n                        break;\r\n                    case R.id.nav_list:\r\n                        selectedFragment = new ListFragment(dbHelper, db);\r\n                        currentFragment=2;\r\n                        break;\r\n                    case R.id.nav_add:\r\n                        selectedFragment = new AddFragment(dbHelper, db);\r\n                        currentFragment=3;\r\n                        break;\r\n                }\r\n               /* if(currentFragment &gt; lastFragment){\r\n                    lastFragment = currentFragment;\r\n                }else{\r\n                    //finish();\r\n                    overridePendingTransition(enterAnimLeft, enterAnimRight);\r\n                }\r\n                lastFragment=currentFragment;*/\r\n                Log.i(&quot;current&quot;, currentFragment + &quot; &quot; + lastFragment );\r\n                getSupportFragmentManager().beginTransaction().setCustomAnimations(enterAnimRight,\r\n                                                                                   enterAnimLeft,\r\n                                                                                   exitAnimLeft,\r\n                                                                                   exitAnimRight)\r\n                                                                                   .replace(R.id.fragment_container, selectedFragment)\r\n                                                                                   .addToBackStack(null)\r\n                                                                                   .commit();\r\n                return true;\r\n            });\r\n\r\nslide_in_left.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;set xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;translate\r\n            android:duration=&quot;@android:integer/config_mediumAnimTime&quot;\r\n            android:fromXDelta=&quot;-100%p&quot;\r\n            android:toXDelta=&quot;0&quot; /&gt;\r\n    &lt;/set&gt;\r\n\r\nslide_in_right.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;set xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;translate\r\n            android:duration=&quot;@android:integer/config_mediumAnimTime&quot;\r\n            android:fromXDelta=&quot;100%p&quot;\r\n            android:toXDelta=&quot;0&quot; /&gt;\r\n    &lt;/set&gt;\r\n\r\nslide_out_left.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;set xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;translate\r\n            android:duration=&quot;@android:integer/config_mediumAnimTime&quot;\r\n            android:fromXDelta=&quot;0&quot;\r\n            android:toXDelta=&quot;-100%p&quot; /&gt;\r\n    &lt;/set&gt;\r\n\r\n\r\nslide_out_right.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;set xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;translate\r\n            android:duration=&quot;@android:integer/config_mediumAnimTime&quot;\r\n            android:fromXDelta=&quot;0&quot;\r\n            android:toXDelta=&quot;100%p&quot; /&gt;\r\n    &lt;/set&gt;","title":"Fragment animation on exit","body":"<p>I have not seen many answers for a fragment animation on exit. What I am trying to do here is revert the animation when I go back on a fragment. For instance, I have three fragments, when I go to the next fragment it does a right slide in animation but now in my current fragment if i go back i want to revert that animation.</p>\n<pre><code>        int enterAnimRight = R.anim.slide_in_right;\n        int enterAnimLeft = R.anim.slide_out_left;\n        int exitAnimRight = R.anim.slide_in_left;\n        int exitAnimLeft = R.anim.slide_out_left;\n        lastFragment = 0;\n        currentFragment = 0;\n        //Bottom Navigation\n        BottomNavigationView bottomNav = findViewById(R.id.nav_menu);\n        //Item listener when one of hte items below from the nav_bar is selected\n        bottomNav.setOnItemSelectedListener(item -&gt; {\n            Fragment selectedFragment = null;\n            switch(item.getItemId()){\n                case R.id.nav_home:\n                    selectedFragment = new HomeFragment(dbHelper, db);\n                    currentFragment=1;\n                    break;\n                case R.id.nav_list:\n                    selectedFragment = new ListFragment(dbHelper, db);\n                    currentFragment=2;\n                    break;\n                case R.id.nav_add:\n                    selectedFragment = new AddFragment(dbHelper, db);\n                    currentFragment=3;\n                    break;\n            }\n           /* if(currentFragment &gt; lastFragment){\n                lastFragment = currentFragment;\n            }else{\n                //finish();\n                overridePendingTransition(enterAnimLeft, enterAnimRight);\n            }\n            lastFragment=currentFragment;*/\n            Log.i(&quot;current&quot;, currentFragment + &quot; &quot; + lastFragment );\n            getSupportFragmentManager().beginTransaction().setCustomAnimations(enterAnimRight,\n                                                                               enterAnimLeft,\n                                                                               exitAnimLeft,\n                                                                               exitAnimRight)\n                                                                               .replace(R.id.fragment_container, selectedFragment)\n                                                                               .addToBackStack(null)\n                                                                               .commit();\n            return true;\n        });\n</code></pre>\n<p>slide_in_left.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;set xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;translate\n        android:duration=&quot;@android:integer/config_mediumAnimTime&quot;\n        android:fromXDelta=&quot;-100%p&quot;\n        android:toXDelta=&quot;0&quot; /&gt;\n&lt;/set&gt;\n</code></pre>\n<p>slide_in_right.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;set xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;translate\n        android:duration=&quot;@android:integer/config_mediumAnimTime&quot;\n        android:fromXDelta=&quot;100%p&quot;\n        android:toXDelta=&quot;0&quot; /&gt;\n&lt;/set&gt;\n</code></pre>\n<p>slide_out_left.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;set xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;translate\n        android:duration=&quot;@android:integer/config_mediumAnimTime&quot;\n        android:fromXDelta=&quot;0&quot;\n        android:toXDelta=&quot;-100%p&quot; /&gt;\n&lt;/set&gt;\n</code></pre>\n<p>slide_out_right.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;set xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;translate\n        android:duration=&quot;@android:integer/config_mediumAnimTime&quot;\n        android:fromXDelta=&quot;0&quot;\n        android:toXDelta=&quot;100%p&quot; /&gt;\n&lt;/set&gt;\n</code></pre>\n"},{"tags":["java","function","generics"],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1636035907,"creation_date":1636034034,"answer_id":69840342,"question_id":69840198,"body_markdown":"You can first write a functional interface that represents a function that converts a `ResultSet` to some type `T`:\r\n\r\n    @FunctionalInterface\r\n    interface ResultConverter&lt;T&gt; {\r\n        T convert(ResultSet resultSet) throws SQLException;\r\n    }\r\n\r\nThen you can write a common function that takes a `ResultConverter&lt;T&gt;`:\r\n\r\n```\r\npublic &lt;T&gt; ObservableList&lt;T&gt; getAll(ResultConverter&lt;T&gt; converter, String query) {\r\n    ObservableList&lt;T&gt; list = FXCollections.observableArrayList();\r\n    Connection connection = MyConnection.connection;\r\n    try {\r\n        Statement statement = connection.createStatement();\r\n        ResultSet rs = statement.executeQuery(query);\r\n        while (rs.next()) {\r\n            T t = converter.convert(rs);\r\n            list.add(t);\r\n        }\r\n    } catch (Exception ex) {\r\n        ex.printStackTrace();\r\n    }\r\n    return list;\r\n}\r\n```\r\n\r\nThen you can leave the non-duplicated parts in `getAllStyles` and `getAllCars`:\r\n\r\n    // getAllCars:\r\n    return getAll(rs -&gt; new Car(rs.getInt(&quot;ID&quot;), rs.getInt(&quot;STYLE_ID&quot;),\r\n                    rs.getString(&quot;MAKE&quot;), rs.getString(&quot;MODEL&quot;),\r\n                    rs.getInt(&quot;YEAR&quot;), rs.getInt(&quot;PRICE&quot;)),\r\n                  &quot;SELECT * FROM cars&quot;);\r\n\r\n    // getAllStyles:\r\n    return getAll(rs -&gt; new Style(rs.getInt(&quot;ID&quot;), rs.getString(&quot;NAME&quot;)),\r\n                  &quot;SELECT * FROM styles&quot;);","title":"Make a generic function in Java","body":"<p>You can first write a functional interface that represents a function that converts a <code>ResultSet</code> to some type <code>T</code>:</p>\n<pre><code>@FunctionalInterface\ninterface ResultConverter&lt;T&gt; {\n    T convert(ResultSet resultSet) throws SQLException;\n}\n</code></pre>\n<p>Then you can write a common function that takes a <code>ResultConverter&lt;T&gt;</code>:</p>\n<pre><code>public &lt;T&gt; ObservableList&lt;T&gt; getAll(ResultConverter&lt;T&gt; converter, String query) {\n    ObservableList&lt;T&gt; list = FXCollections.observableArrayList();\n    Connection connection = MyConnection.connection;\n    try {\n        Statement statement = connection.createStatement();\n        ResultSet rs = statement.executeQuery(query);\n        while (rs.next()) {\n            T t = converter.convert(rs);\n            list.add(t);\n        }\n    } catch (Exception ex) {\n        ex.printStackTrace();\n    }\n    return list;\n}\n</code></pre>\n<p>Then you can leave the non-duplicated parts in <code>getAllStyles</code> and <code>getAllCars</code>:</p>\n<pre><code>// getAllCars:\nreturn getAll(rs -&gt; new Car(rs.getInt(&quot;ID&quot;), rs.getInt(&quot;STYLE_ID&quot;),\n                rs.getString(&quot;MAKE&quot;), rs.getString(&quot;MODEL&quot;),\n                rs.getInt(&quot;YEAR&quot;), rs.getInt(&quot;PRICE&quot;)),\n              &quot;SELECT * FROM cars&quot;);\n\n// getAllStyles:\nreturn getAll(rs -&gt; new Style(rs.getInt(&quot;ID&quot;), rs.getString(&quot;NAME&quot;)),\n              &quot;SELECT * FROM styles&quot;);\n</code></pre>\n"}],"owner":{"account_id":18333200,"reputation":89,"user_id":14643295,"display_name":"yaromchikV"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":69840342,"answer_count":1,"score":-2,"last_activity_date":1636046168,"creation_date":1636033372,"question_id":69840198,"body_markdown":"I have two methods to get data from the database. They differ only in the request and the return type. Is it possible to combine them somehow so that the code does not repeat itself?\r\n\r\n\r\n    public ObservableList&lt;Car&gt; getAllCars() {\r\n        ObservableList&lt;Car&gt; list = FXCollections.observableArrayList();\r\n        Connection connection = MyConnection.connection;\r\n        String query = &quot;SELECT * FROM cars&quot;;\r\n        try {\r\n            Statement statement = connection.createStatement();\r\n            ResultSet rs = statement.executeQuery(query);\r\n            while (rs.next()) {\r\n                Car car = new Car(rs.getInt(&quot;ID&quot;), rs.getInt(&quot;STYLE_ID&quot;),\r\n                        rs.getString(&quot;MAKE&quot;), rs.getString(&quot;MODEL&quot;),\r\n                        rs.getInt(&quot;YEAR&quot;), rs.getInt(&quot;PRICE&quot;));\r\n                list.add(car);\r\n            }\r\n        } catch (Exception ex) {\r\n            ex.printStackTrace();\r\n        }\r\n        return list;\r\n    }\r\n\r\n    public ObservableList&lt;Style&gt; getAllStyles() {\r\n        ObservableList&lt;Style&gt; list = FXCollections.observableArrayList();\r\n        Connection connection = MyConnection.connection;\r\n        String query = &quot;SELECT * FROM styles&quot;;\r\n        try {\r\n            Statement statement = connection.createStatement();\r\n            ResultSet rs = statement.executeQuery(query);\r\n            while (rs.next()) {\r\n                Style style = new Style(rs.getInt(&quot;ID&quot;), rs.getString(&quot;NAME&quot;));\r\n                list.add(style);\r\n            }\r\n        } catch (Exception ex) {\r\n            ex.printStackTrace();\r\n        }\r\n        return list;\r\n    }\r\n","title":"Make a generic function in Java","body":"<p>I have two methods to get data from the database. They differ only in the request and the return type. Is it possible to combine them somehow so that the code does not repeat itself?</p>\n<pre><code>public ObservableList&lt;Car&gt; getAllCars() {\n    ObservableList&lt;Car&gt; list = FXCollections.observableArrayList();\n    Connection connection = MyConnection.connection;\n    String query = &quot;SELECT * FROM cars&quot;;\n    try {\n        Statement statement = connection.createStatement();\n        ResultSet rs = statement.executeQuery(query);\n        while (rs.next()) {\n            Car car = new Car(rs.getInt(&quot;ID&quot;), rs.getInt(&quot;STYLE_ID&quot;),\n                    rs.getString(&quot;MAKE&quot;), rs.getString(&quot;MODEL&quot;),\n                    rs.getInt(&quot;YEAR&quot;), rs.getInt(&quot;PRICE&quot;));\n            list.add(car);\n        }\n    } catch (Exception ex) {\n        ex.printStackTrace();\n    }\n    return list;\n}\n\npublic ObservableList&lt;Style&gt; getAllStyles() {\n    ObservableList&lt;Style&gt; list = FXCollections.observableArrayList();\n    Connection connection = MyConnection.connection;\n    String query = &quot;SELECT * FROM styles&quot;;\n    try {\n        Statement statement = connection.createStatement();\n        ResultSet rs = statement.executeQuery(query);\n        while (rs.next()) {\n            Style style = new Style(rs.getInt(&quot;ID&quot;), rs.getString(&quot;NAME&quot;));\n            list.add(style);\n        }\n    } catch (Exception ex) {\n        ex.printStackTrace();\n    }\n    return list;\n}\n</code></pre>\n"},{"tags":["java","spring","spring-jdbc","java-11"],"comments":[{"owner":{"account_id":9242367,"reputation":1023,"user_id":6865328,"display_name":"WoAiNii"},"score":0,"creation_date":1586026976,"post_id":61033132,"comment_id":107976382,"body_markdown":"Could you post your SalesHubSQLExecutionTasklet code? and your framework version (spring batch), or check [this](http://commons.apache.org/proper/commons-dbcp/)","body":"Could you post your SalesHubSQLExecutionTasklet code? and your framework version (spring batch), or check <a href=\"http://commons.apache.org/proper/commons-dbcp/\" rel=\"nofollow noreferrer\">this</a>"},{"owner":{"account_id":1169697,"reputation":1416,"user_id":1147141,"accept_rate":42,"display_name":"bichito"},"score":0,"creation_date":1586027363,"post_id":61033132,"comment_id":107976511,"body_markdown":"Also try to load the same class in a simple command line driver.","body":"Also try to load the same class in a simple command line driver."},{"owner":{"account_id":18173865,"reputation":51,"user_id":13223001,"display_name":"shekhar"},"score":0,"creation_date":1586046990,"post_id":61033132,"comment_id":107981949,"body_markdown":"Thanks @MatteoZanini for replying . I just added the code above","body":"Thanks @MatteoZanini for replying . I just added the code above"},{"owner":{"account_id":18173865,"reputation":51,"user_id":13223001,"display_name":"shekhar"},"score":0,"creation_date":1586051676,"post_id":61033132,"comment_id":107982723,"body_markdown":"Thanks @efekctive : I tried loading the class Class.forName(&quot;jdk.internal.util.ArraysSupport&quot;);  in a plain class on unix box and it worked fine . not sure why its not loading when the whole service runs :(","body":"Thanks @efekctive : I tried loading the class Class.forName(&quot;jdk.internal.util.ArraysSupport&quot;);  in a plain class on unix box and it worked fine . not sure why its not loading when the whole service runs :("},{"owner":{"account_id":1169697,"reputation":1416,"user_id":1147141,"accept_rate":42,"display_name":"bichito"},"score":0,"creation_date":1586052415,"post_id":61033132,"comment_id":107982863,"body_markdown":"Then I would start trying using the utils class in other places. Like does it work in  any of the config/bean classes? These should happen before the job call","body":"Then I would start trying using the utils class in other places. Like does it work in  any of the config/bean classes? These should happen before the job call"},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1586056205,"post_id":61033132,"comment_id":107983389,"body_markdown":"It would be good too if you could mention the versions of the libraries that you&#39;re using here. To see if they have tried fixing such instances earlier.","body":"It would be good too if you could mention the versions of the libraries that you&#39;re using here. To see if they have tried fixing such instances earlier."},{"owner":{"account_id":9242367,"reputation":1023,"user_id":6865328,"display_name":"WoAiNii"},"score":0,"creation_date":1586074647,"post_id":61033132,"comment_id":107987131,"body_markdown":"It seems to be an incompatible issue between your apache.commons.dbcp2 version and java 11, check [this](http://commons.apache.org/proper/commons-dbcp/) to see if you&#39;re using a compatible one","body":"It seems to be an incompatible issue between your apache.commons.dbcp2 version and java 11, check <a href=\"http://commons.apache.org/proper/commons-dbcp/\" rel=\"nofollow noreferrer\">this</a> to see if you&#39;re using a compatible one"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1586178171,"post_id":61033132,"comment_id":108023909,"body_markdown":"There is no point in playing around with the export options. Both classes are within the same module, so they do not need export options to access each other. And the error message does nowhere say that one class “is not able to access another class”, it clearly says “*could not initialize*” the class. Since the initialization works under normal circumstances, something must be altering the environment, e.g. perform code Instrumentation.","body":"There is no point in playing around with the export options. Both classes are within the same module, so they do not need export options to access each other. And the error message does nowhere say that one class “is not able to access another class”, it clearly says “<i>could not initialize</i>” the class. Since the initialization works under normal circumstances, something must be altering the environment, e.g. perform code Instrumentation."}],"answers":[{"tags":[],"owner":{"account_id":18173865,"reputation":51,"user_id":13223001,"display_name":"shekhar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586215247,"creation_date":1586215247,"answer_id":61070446,"question_id":61033132,"body_markdown":"I replaced latest dbcp Datasource with latest Hikari Datasource and it worked . Thanks all for your suggestions. ","title":"Migrating from Java 8 to java 11- not able to load jdk.internal.util class (java.lang.NoClassDefFoundError)","body":"<p>I replaced latest dbcp Datasource with latest Hikari Datasource and it worked . Thanks all for your suggestions. </p>\n"}],"owner":{"account_id":18173865,"reputation":51,"user_id":13223001,"display_name":"shekhar"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4842,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1636045880,"creation_date":1586026066,"question_id":61033132,"body_markdown":"Migrating from Java 8 to Java 11 open JDK. Getting weird error where one class (java.util.Arrays) from java.base module is not able to access another class called (`jdk.internal.util.ArraysSupport`) from `java.base` module. \r\n\r\nIf I look at module-info of `java.base` module `jdk.internal.util` package is not exported. I tried `--add-export java.base/jdk.internal.util=ALL-UNNAMED` but getting the same error. As `--add-export` helps in exporting package to another module. Here the problem is one class from the same module is not able to access another one from the same module. Not sure what is wrong here and looking for suggestions.\r\n\r\n```\r\njava.lang.NoClassDefFoundError: Could not initialize class jdk.internal.util.ArraysSupport\r\n        at java.base/java.util.Arrays.equals(Arrays.java:2873)\r\n        at java.base/sun.security.util.ObjectIdentifier.equals(ObjectIdentifier.java:345)\r\n        at java.base/sun.security.pkcs.PKCS7.parse(PKCS7.java:185)\r\n        at java.base/sun.security.pkcs.PKCS7.parse(PKCS7.java:154)\r\n        at java.base/sun.security.pkcs.PKCS7.&lt;init&gt;(PKCS7.java:136)\r\n        at java.base/sun.security.util.SignatureFileVerifier.&lt;init&gt;(SignatureFileVerifier.java:127)\r\n        at java.base/java.util.jar.JarVerifier.processEntry(JarVerifier.java:297)\r\n        at java.base/java.util.jar.JarVerifier.update(JarVerifier.java:230)\r\n        at java.base/java.util.jar.JarFile.initializeVerifier(JarFile.java:757)\r\n        at java.base/java.util.jar.JarFile.ensureInitialization(JarFile.java:1034)\r\n        at java.base/java.util.jar.JavaUtilJarAccessImpl.ensureInitialization(JavaUtilJarAccessImpl.java:69)\r\n        at java.base/jdk.internal.loader.URLClassPath$JarLoader$2.getManifest(URLClassPath.java:870)\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:788)\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:700)\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:623)\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n        at java.base/java.lang.Class.forName0(Native Method)\r\n        at java.base/java.lang.Class.forName(Class.java:315)\r\n        at org.apache.commons.dbcp2.BasicDataSource.createConnectionFactory(BasicDataSource.java:2124)\r\n        at org.apache.commons.dbcp2.BasicDataSource.createDataSource(BasicDataSource.java:2033)\r\n        at org.apache.commons.dbcp2.BasicDataSource.getConnection(BasicDataSource.java:1533)\r\n        at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)\r\n        at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)\r\n        at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)\r\n        at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:371)\r\n        at org.springframework.jdbc.core.JdbcTemplate.batchUpdate(JdbcTemplate.java:590)\r\n        at com.rbccm.sales.hub.employee.tasklet.SalesHubSQLExecutionTasklet.execute(SalesHubSQLExecutionTasklet.java:45)\r\n        at org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:406)\r\n        at org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:330)\r\n        at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)\r\n        at org.springframework.batch.core.step.tasklet.TaskletStep$2.doInChunkContext(TaskletStep.java:272)\r\n        at org.springframework.batch.core.scope.context.StepContextRepeatCallback.doInIteration(StepContextRepeatCallback.java:81)\r\n        at org.springframework.batch.repeat.support.RepeatTemplate.getNextResult(RepeatTemplate.java:375)\r\n        at org.springframework.batch.repeat.support.RepeatTemplate.executeInternal(RepeatTemplate.java:215)\r\n        at org.springframework.batch.repeat.support.RepeatTemplate.iterate(RepeatTemplate.java:145)\r\n        at org.springframework.batch.core.step.tasklet.TaskletStep.doExecute(TaskletStep.java:257)\r\n        at org.springframework.batch.core.step.AbstractStep.execute(AbstractStep.java:200)\r\n        at org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:148)\r\n        at org.springframework.batch.core.job.flow.JobFlowExecutor.executeStep(JobFlowExecutor.java:66)\r\n```\r\nCode of `SalesHubSQLExecutionTasklet` class  is as following\r\n\r\n\r\n    @Override\r\n\tpublic RepeatStatus execute(StepContribution contribution, ChunkContext chunkContext) throws Exception {\r\n\t\tJdbcTemplate jdbcTemplate = new JdbcTemplate(this.getDataSource());\r\n\r\n\t\tlong start = System.currentTimeMillis();\r\n\t\ttry {\r\n\t\t\tif (!StringUtils.isBlank(this.getSql())) {\r\n\t\t\t\tif (this.getSql().toUpperCase().startsWith(&quot;UPDATE&quot;)) {\r\n\t\t\t\t\tint result = jdbcTemplate.update(this.getSql());\r\n\t\t\t\t\tLOGGER.info(&quot;{} records updated executing SQL [{}]&quot;, result, this.getSql());\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tjdbcTemplate.execute(this.getSql());\r\n\t\t\t\t}\t\r\n\t\t\t}\r\n\t\t\telse if (this.sqls != null &amp;&amp; this.sqls.length &gt; 0) {\r\n\t\t\t\tint[] result = jdbcTemplate.batchUpdate(sqls);\r\n\t\t\t\tfor (int i=0; i&lt;sqls.length; i++) {\r\n\t\t\t\t\tLOGGER.info(&quot;SQL [{}] result [{}].&quot;, sqls[i], result[i]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch (Exception ex) {\r\n\t\t\tLOGGER.error(&quot;Error executing SQL [{}]&quot;, this.getSql(), ex);\r\n\t\t}\r\n        LOGGER.info(&quot;Step {} execute SQL [{}] finished in {} ms.&quot;, chunkContext.getStepContext().getStepName(), this.getSql(), (System.currentTimeMillis()-start));\r\n        \r\n\t\treturn RepeatStatus.FINISHED;\r\n\t}\r\n\r\nThe line no 45 is \r\n\r\n    int[] result = jdbcTemplate.batchUpdate(sqls);\r\n\r\nI tried to load with a separate plain class on the Unix box. And it worked fine \r\n\r\n    Class&lt;?&gt; classToLoad = Class.forName(&quot;jdk.internal.util.ArraysSupport&quot;);\r\n\r\nand it loaded the class successfully, so not sure what&#39;s wrong here!  \r\n","title":"Migrating from Java 8 to java 11- not able to load jdk.internal.util class (java.lang.NoClassDefFoundError)","body":"<p>Migrating from Java 8 to Java 11 open JDK. Getting weird error where one class (java.util.Arrays) from java.base module is not able to access another class called (<code>jdk.internal.util.ArraysSupport</code>) from <code>java.base</code> module. </p>\n\n<p>If I look at module-info of <code>java.base</code> module <code>jdk.internal.util</code> package is not exported. I tried <code>--add-export java.base/jdk.internal.util=ALL-UNNAMED</code> but getting the same error. As <code>--add-export</code> helps in exporting package to another module. Here the problem is one class from the same module is not able to access another one from the same module. Not sure what is wrong here and looking for suggestions.</p>\n\n<pre><code>java.lang.NoClassDefFoundError: Could not initialize class jdk.internal.util.ArraysSupport\n        at java.base/java.util.Arrays.equals(Arrays.java:2873)\n        at java.base/sun.security.util.ObjectIdentifier.equals(ObjectIdentifier.java:345)\n        at java.base/sun.security.pkcs.PKCS7.parse(PKCS7.java:185)\n        at java.base/sun.security.pkcs.PKCS7.parse(PKCS7.java:154)\n        at java.base/sun.security.pkcs.PKCS7.&lt;init&gt;(PKCS7.java:136)\n        at java.base/sun.security.util.SignatureFileVerifier.&lt;init&gt;(SignatureFileVerifier.java:127)\n        at java.base/java.util.jar.JarVerifier.processEntry(JarVerifier.java:297)\n        at java.base/java.util.jar.JarVerifier.update(JarVerifier.java:230)\n        at java.base/java.util.jar.JarFile.initializeVerifier(JarFile.java:757)\n        at java.base/java.util.jar.JarFile.ensureInitialization(JarFile.java:1034)\n        at java.base/java.util.jar.JavaUtilJarAccessImpl.ensureInitialization(JavaUtilJarAccessImpl.java:69)\n        at java.base/jdk.internal.loader.URLClassPath$JarLoader$2.getManifest(URLClassPath.java:870)\n        at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:788)\n        at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:700)\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:623)\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n        at java.base/java.lang.Class.forName0(Native Method)\n        at java.base/java.lang.Class.forName(Class.java:315)\n        at org.apache.commons.dbcp2.BasicDataSource.createConnectionFactory(BasicDataSource.java:2124)\n        at org.apache.commons.dbcp2.BasicDataSource.createDataSource(BasicDataSource.java:2033)\n        at org.apache.commons.dbcp2.BasicDataSource.getConnection(BasicDataSource.java:1533)\n        at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)\n        at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)\n        at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)\n        at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:371)\n        at org.springframework.jdbc.core.JdbcTemplate.batchUpdate(JdbcTemplate.java:590)\n        at com.rbccm.sales.hub.employee.tasklet.SalesHubSQLExecutionTasklet.execute(SalesHubSQLExecutionTasklet.java:45)\n        at org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:406)\n        at org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:330)\n        at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)\n        at org.springframework.batch.core.step.tasklet.TaskletStep$2.doInChunkContext(TaskletStep.java:272)\n        at org.springframework.batch.core.scope.context.StepContextRepeatCallback.doInIteration(StepContextRepeatCallback.java:81)\n        at org.springframework.batch.repeat.support.RepeatTemplate.getNextResult(RepeatTemplate.java:375)\n        at org.springframework.batch.repeat.support.RepeatTemplate.executeInternal(RepeatTemplate.java:215)\n        at org.springframework.batch.repeat.support.RepeatTemplate.iterate(RepeatTemplate.java:145)\n        at org.springframework.batch.core.step.tasklet.TaskletStep.doExecute(TaskletStep.java:257)\n        at org.springframework.batch.core.step.AbstractStep.execute(AbstractStep.java:200)\n        at org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:148)\n        at org.springframework.batch.core.job.flow.JobFlowExecutor.executeStep(JobFlowExecutor.java:66)\n</code></pre>\n\n<p>Code of <code>SalesHubSQLExecutionTasklet</code> class  is as following</p>\n\n<pre><code>@Override\npublic RepeatStatus execute(StepContribution contribution, ChunkContext chunkContext) throws Exception {\n    JdbcTemplate jdbcTemplate = new JdbcTemplate(this.getDataSource());\n\n    long start = System.currentTimeMillis();\n    try {\n        if (!StringUtils.isBlank(this.getSql())) {\n            if (this.getSql().toUpperCase().startsWith(\"UPDATE\")) {\n                int result = jdbcTemplate.update(this.getSql());\n                LOGGER.info(\"{} records updated executing SQL [{}]\", result, this.getSql());\n            }\n            else {\n                jdbcTemplate.execute(this.getSql());\n            }   \n        }\n        else if (this.sqls != null &amp;&amp; this.sqls.length &gt; 0) {\n            int[] result = jdbcTemplate.batchUpdate(sqls);\n            for (int i=0; i&lt;sqls.length; i++) {\n                LOGGER.info(\"SQL [{}] result [{}].\", sqls[i], result[i]);\n            }\n        }\n    }\n    catch (Exception ex) {\n        LOGGER.error(\"Error executing SQL [{}]\", this.getSql(), ex);\n    }\n    LOGGER.info(\"Step {} execute SQL [{}] finished in {} ms.\", chunkContext.getStepContext().getStepName(), this.getSql(), (System.currentTimeMillis()-start));\n\n    return RepeatStatus.FINISHED;\n}\n</code></pre>\n\n<p>The line no 45 is </p>\n\n<pre><code>int[] result = jdbcTemplate.batchUpdate(sqls);\n</code></pre>\n\n<p>I tried to load with a separate plain class on the Unix box. And it worked fine </p>\n\n<pre><code>Class&lt;?&gt; classToLoad = Class.forName(\"jdk.internal.util.ArraysSupport\");\n</code></pre>\n\n<p>and it loaded the class successfully, so not sure what's wrong here!  </p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":3,"creation_date":1636045811,"post_id":69843197,"comment_id":123459167,"body_markdown":"Related: [What is &#39;scope&#39; in Java?](https://stackoverflow.com/questions/38177140/what-is-scope-in-java)","body":"Related: <a href=\"https://stackoverflow.com/questions/38177140/what-is-scope-in-java\">What is &#39;scope&#39; in Java?</a>"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1636046986,"post_id":69843197,"comment_id":123459636,"body_markdown":"The right way to organize this isn&#39;t to try to share variables, but to pass their values along: `double radius = sc.nextDouble(); double area = computeArea(radius); output(area);`, and to remove every variable that you have marked `static`.","body":"The right way to organize this isn&#39;t to try to share variables, but to pass their values along: <code>double radius = sc.nextDouble(); double area = computeArea(radius); output(area);</code>, and to remove every variable that you have marked <code>static</code>."}],"answers":[{"tags":[],"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636045763,"creation_date":1636045763,"answer_id":69843233,"question_id":69843197,"body_markdown":"In your processing() method, remove double.\r\nIt&#39;s creating an variable that only exists in you method. Without double it is actually using your member area.","title":"How do I share variables between methods?","body":"<p>In your processing() method, remove double.\nIt's creating an variable that only exists in you method. Without double it is actually using your member area.</p>\n"}],"owner":{"account_id":23240722,"reputation":1,"user_id":17330079,"display_name":"Jordan Lee"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1636050964,"answer_count":1,"score":-3,"last_activity_date":1636045763,"creation_date":1636045584,"question_id":69843197,"body_markdown":"I&#39;m still starting to learn methods in Java, anyone know how to pass on the information into the area variable?\r\n```import java.util.*;\r\nimport java.math.*;\r\n\r\npublic class AreaCircle {\r\n\tstatic double radius;\r\n\tstatic double area;\r\n\r\n\t\r\n\tpublic static void circleInput() {\r\n\t\tScanner sc = new Scanner(System.in);\t\r\n\t\tSystem.out.println(&quot;Radius: &quot;);\r\n\t\tdouble radius = sc.nextDouble();\r\n\t\t\r\n\t\t\r\n\t}\r\n\tpublic static void processing() {\r\n\t\tdouble area = Math.PI * (radius * radius);\r\n\t\t\r\n\t}\r\n\tpublic static void output() {\r\n\t\tSystem.out.println(&quot;Area: &quot;+area);\r\n\t}\r\n\t\r\n\t\r\n\tpublic static void main(String args[]) {\r\n\t\t\r\n\t\tcircleInput();\r\n\t\t\r\n\t\tprocessing();\r\n\t\toutput();\r\n\t}\r\n\r\n}\r\n```\r\nOutput\r\n```\r\nArea: 0.0\r\n```\r\nI am just doing a simple code to calculate the area of a circle, and I want to have three methods in the code, the input, processing, and output.","title":"How do I share variables between methods?","body":"<p>I'm still starting to learn methods in Java, anyone know how to pass on the information into the area variable?</p>\n<pre><code>import java.math.*;\n\npublic class AreaCircle {\n    static double radius;\n    static double area;\n\n    \n    public static void circleInput() {\n        Scanner sc = new Scanner(System.in);    \n        System.out.println(&quot;Radius: &quot;);\n        double radius = sc.nextDouble();\n        \n        \n    }\n    public static void processing() {\n        double area = Math.PI * (radius * radius);\n        \n    }\n    public static void output() {\n        System.out.println(&quot;Area: &quot;+area);\n    }\n    \n    \n    public static void main(String args[]) {\n        \n        circleInput();\n        \n        processing();\n        output();\n    }\n\n}\n</code></pre>\n<p>Output</p>\n<pre><code>Area: 0.0\n</code></pre>\n<p>I am just doing a simple code to calculate the area of a circle, and I want to have three methods in the code, the input, processing, and output.</p>\n"},{"tags":["java","spring","spring-boot","rate-limiting"],"answers":[{"tags":[],"owner":{"account_id":1164600,"reputation":5578,"user_id":1143482,"accept_rate":63,"display_name":"jpganz18"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1564572597,"creation_date":1564572597,"answer_id":57289743,"question_id":57289521,"body_markdown":"&gt; Now I have a very silly question.How to verify whether these API\r\n&gt; belong to spring framework itself and meant to secure rest API on\r\n&gt; Spring MVC or these are 3rd party libraries developed using spring.\r\n\r\nYou can easily check on their dependencies...\r\n\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.giffing.bucket4j.spring.boot.starter&lt;/groupId&gt;\r\n        &lt;artifactId&gt;bucket4j-spring-boot-starter-context&lt;/artifactId&gt;\r\n        &lt;version&gt;0.1.15&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nWhile all spring dependencies have this groupId\r\n\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\r\nYou can even find the author here\r\n\r\nhttps://github.com/MarcGiffing/bucket4j-spring-boot-starter\r\n\r\n\r\n \r\n\r\n&gt; But I want to know what basic functionality spring provides on this.\r\n\r\nThat is a very broad topic but in simple terms:\r\n\r\n - You can check who is requesting the endpoint by getting information\r\n   for the token or any other authentication you are using.\r\n   \r\n -  You can store that information in a database (in memory or not) and\r\n   check it to verify the user still have more allowed requests\r\n   \r\n - You can deny a call relying on those parameters\r\n\r\nAll of them are supported by spring","title":"rate limit for rest api using spring","body":"<blockquote>\n  <p>Now I have a very silly question.How to verify whether these API\n  belong to spring framework itself and meant to secure rest API on\n  Spring MVC or these are 3rd party libraries developed using spring.</p>\n</blockquote>\n\n<p>You can easily check on their dependencies...</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.giffing.bucket4j.spring.boot.starter&lt;/groupId&gt;\n    &lt;artifactId&gt;bucket4j-spring-boot-starter-context&lt;/artifactId&gt;\n    &lt;version&gt;0.1.15&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>While all spring dependencies have this groupId</p>\n\n<pre><code>&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n</code></pre>\n\n<p>You can even find the author here</p>\n\n<p><a href=\"https://github.com/MarcGiffing/bucket4j-spring-boot-starter\" rel=\"nofollow noreferrer\">https://github.com/MarcGiffing/bucket4j-spring-boot-starter</a></p>\n\n<blockquote>\n  <p>But I want to know what basic functionality spring provides on this.</p>\n</blockquote>\n\n<p>That is a very broad topic but in simple terms:</p>\n\n<ul>\n<li><p>You can check who is requesting the endpoint by getting information\nfor the token or any other authentication you are using.</p></li>\n<li><p>You can store that information in a database (in memory or not) and\ncheck it to verify the user still have more allowed requests</p></li>\n<li><p>You can deny a call relying on those parameters</p></li>\n</ul>\n\n<p>All of them are supported by spring</p>\n"}],"owner":{"account_id":4434750,"reputation":1949,"user_id":3610891,"accept_rate":62,"display_name":"Onki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6724,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":57289743,"answer_count":1,"score":3,"last_activity_date":1636045500,"creation_date":1564571801,"question_id":57289521,"body_markdown":"I want to implement rate limiting functionality for rest API. After exploring through all articles, it looks like there is no rate limiting api directly provided by spring. \r\n\r\nBut there are 2 libraries which provides rate limiting functionality : \r\n\r\n1) bucket4j-spring-boot-starter\r\n\r\n2) weddini/spring-boot-throttling\r\n\r\n\r\nNow I have a very silly question.How to verify whether these API belong to spring framework itself and meant to secure rest API on Spring MVC or these are 3rd party libraries developed using spring.\r\n\r\nOur main target is to use spring framework and the functionality provided by it. And avoid 3rd party libraries.\r\n\r\nI followed many questions on stackoverflow and googled other articles raised on this topic. Some of them mentions that &quot;spring does not provide out of the box functionality on this&quot;. But I want to know what basic functionality spring provides on this. We are not looking for any out of the box solution, any basic solution will also work. \r\n\r\nreference question : https://stackoverflow.com/questions/44042412/how-to-set-rate-limit-for-each-user-in-spring-boot/53746180#53746180","title":"rate limit for rest api using spring","body":"<p>I want to implement rate limiting functionality for rest API. After exploring through all articles, it looks like there is no rate limiting api directly provided by spring. </p>\n\n<p>But there are 2 libraries which provides rate limiting functionality : </p>\n\n<p>1) bucket4j-spring-boot-starter</p>\n\n<p>2) weddini/spring-boot-throttling</p>\n\n<p>Now I have a very silly question.How to verify whether these API belong to spring framework itself and meant to secure rest API on Spring MVC or these are 3rd party libraries developed using spring.</p>\n\n<p>Our main target is to use spring framework and the functionality provided by it. And avoid 3rd party libraries.</p>\n\n<p>I followed many questions on stackoverflow and googled other articles raised on this topic. Some of them mentions that \"spring does not provide out of the box functionality on this\". But I want to know what basic functionality spring provides on this. We are not looking for any out of the box solution, any basic solution will also work. </p>\n\n<p>reference question : <a href=\"https://stackoverflow.com/questions/44042412/how-to-set-rate-limit-for-each-user-in-spring-boot/53746180#53746180\">How to set rate limit for each user in Spring Boot?</a></p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":7608227,"reputation":700,"user_id":5770116,"display_name":"JonR85"},"score":0,"creation_date":1635971615,"post_id":69831312,"comment_id":123437441,"body_markdown":"Did you set the permissions in your manifest? &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;","body":"Did you set the permissions in your manifest? &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1635971700,"post_id":69831312,"comment_id":123437468,"body_markdown":"@JonR85, no permissions needed for getExternalFilesDir().","body":"@JonR85, no permissions needed for getExternalFilesDir()."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1635971767,"post_id":69831312,"comment_id":123437487,"body_markdown":"`. I&#39;m asking for runtime permission for write &amp; read,` Non of them is needed for getExternalFilesDir().","body":"<code>. I&#39;m asking for runtime permission for write &amp; read,</code> Non of them is needed for getExternalFilesDir()."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1635971980,"post_id":69831312,"comment_id":123437568,"body_markdown":"`requireContext().getApplicationContext().grantUriPermission(&quot;package.name&quot;, fileURI, Intent.FLAG_GRANT_WRITE_URI_PERMISSION | Intent.FLAG_GRANT_READ_URI_PERMISSION);\n` That makes no sense. Better remove.","body":"<code>requireContext().getApplicationContext().grantUriPermission(&zwnj;&#8203;&quot;package.name&quot;, fileURI, Intent.FLAG_GRANT_WRITE_URI_PERMISSION | Intent.FLAG_GRANT_READ_URI_PERMISSION); </code> That makes no sense. Better remove."},{"owner":{"account_id":14543078,"reputation":396,"user_id":10504150,"display_name":"Dimon"},"score":0,"creation_date":1635973868,"post_id":69831312,"comment_id":123438188,"body_markdown":"Sorry, i edited the question. @blackapps its the fileName, also afaik the subject is just a title for e.g email sharing","body":"Sorry, i edited the question. @blackapps its the fileName, also afaik the subject is just a title for e.g email sharing"},{"owner":{"account_id":14543078,"reputation":396,"user_id":10504150,"display_name":"Dimon"},"score":0,"creation_date":1635975923,"post_id":69831312,"comment_id":123438897,"body_markdown":"@blackapps sorry, i mixed them up when editing out the real name.","body":"@blackapps sorry, i mixed them up when editing out the real name."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1635976916,"post_id":69831312,"comment_id":123439165,"body_markdown":"`and i get the exception thrown from this block.` Can&#39;t you be more precise? Which statement exactly?","body":"<code>and i get the exception thrown from this block.</code> Can&#39;t you be more precise? Which statement exactly?"},{"owner":{"account_id":14543078,"reputation":396,"user_id":10504150,"display_name":"Dimon"},"score":0,"creation_date":1636045475,"post_id":69831312,"comment_id":123459047,"body_markdown":"@blackapps after starting activity with the intent.","body":"@blackapps after starting activity with the intent."}],"owner":{"account_id":14543078,"reputation":396,"user_id":10504150,"display_name":"Dimon"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":808,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1636045495,"creation_date":1635971104,"question_id":69831312,"body_markdown":"I&#39;m trying to create a file, and then open a share intent to share the file.\r\nI&#39;m asking for runtime permission for write &amp; read, and it seems to work aswell, but i&#39;m getting this exception:\r\n\r\n    E/DatabaseUtils: Writing exception to parcel\r\n    java.lang.SecurityException: Permission Denial: reading androidx.core.content.FileProvider uri content://package.name.provider/files/Documents/name-11-2021.csv from pid=7015, uid=1000 requires the provider be exported, or grantUriPermission()\r\n\r\nI create the file like this:\r\n\r\n        String csv = context.getApplicationContext().getExternalFilesDir(Environment.DIRECTORY_DOCUMENTS).getAbsolutePath();\r\n        fileName = csv + &quot;/name-&quot; + month + &quot;-&quot; + year + &quot;.csv&quot;;\r\n\r\n        try {\r\n            FileOutputStream fos = new FileOutputStream(fileName);\r\nand then use a writer to write to it.. later on I&#39;m creating a share intent like so:\r\n\r\n    File exportFile = new File(fileName);\r\n    Uri fileURI = FileProvider.getUriForFile(requireContext(), &quot;package.name&quot; + &quot;.provider&quot;, exportFile);\r\n    requireContext().getApplicationContext().grantUriPermission(&quot;package.name&quot;, fileURI, Intent.FLAG_GRANT_WRITE_URI_PERMISSION | Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n    Intent shareIntent = new Intent();\r\n    shareIntent.setAction(Intent.ACTION_SEND);\r\n    shareIntent.putExtra(Intent.EXTRA_STREAM, fileURI);\r\n    shareIntent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION | Intent.FLAG_GRANT_WRITE_URI_PERMISSION);\r\n    shareIntent.putExtra(android.content.Intent.EXTRA_SUBJECT, &quot;subject&quot; + month + &quot;-&quot; + year);\r\n    shareIntent.setType(&quot;text/csv&quot;);\r\n    startActivity(Intent.createChooser(shareIntent, &quot;Share via&quot;));\r\n\r\nand i get the exception thrown from this block, after starting activity with intent.\r\nAnd ofcourse i have file provider with the authorities &quot;${applicationId}.provider&quot; and a &#39;external-files-path&#39; configured.\r\nAny help would be greatly appreciated!\r\n\r\nEDIT:\r\nthis is my provider in manifest:\r\n\r\n    &lt;provider\r\n        android:name=&quot;androidx.core.content.FileProvider&quot;\r\n        android:authorities=&quot;${applicationId}.provider&quot;\r\n        android:exported=&quot;false&quot;\r\n        android:grantUriPermissions=&quot;true&quot;&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n            android:resource=&quot;@xml/file_paths&quot; /&gt;\r\n    &lt;/provider&gt;\r\n\r\nand the XML\r\n\r\n    &lt;paths xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;external-files-path name=&quot;files&quot; path=&quot;/&quot;/&gt;\r\n&lt;/paths&gt;","title":"Android SecurityException: Permission Denial writing and sharing a file","body":"<p>I'm trying to create a file, and then open a share intent to share the file.\nI'm asking for runtime permission for write &amp; read, and it seems to work aswell, but i'm getting this exception:</p>\n<pre><code>E/DatabaseUtils: Writing exception to parcel\njava.lang.SecurityException: Permission Denial: reading androidx.core.content.FileProvider uri content://package.name.provider/files/Documents/name-11-2021.csv from pid=7015, uid=1000 requires the provider be exported, or grantUriPermission()\n</code></pre>\n<p>I create the file like this:</p>\n<pre><code>    String csv = context.getApplicationContext().getExternalFilesDir(Environment.DIRECTORY_DOCUMENTS).getAbsolutePath();\n    fileName = csv + &quot;/name-&quot; + month + &quot;-&quot; + year + &quot;.csv&quot;;\n\n    try {\n        FileOutputStream fos = new FileOutputStream(fileName);\n</code></pre>\n<p>and then use a writer to write to it.. later on I'm creating a share intent like so:</p>\n<pre><code>File exportFile = new File(fileName);\nUri fileURI = FileProvider.getUriForFile(requireContext(), &quot;package.name&quot; + &quot;.provider&quot;, exportFile);\nrequireContext().getApplicationContext().grantUriPermission(&quot;package.name&quot;, fileURI, Intent.FLAG_GRANT_WRITE_URI_PERMISSION | Intent.FLAG_GRANT_READ_URI_PERMISSION);\nIntent shareIntent = new Intent();\nshareIntent.setAction(Intent.ACTION_SEND);\nshareIntent.putExtra(Intent.EXTRA_STREAM, fileURI);\nshareIntent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION | Intent.FLAG_GRANT_WRITE_URI_PERMISSION);\nshareIntent.putExtra(android.content.Intent.EXTRA_SUBJECT, &quot;subject&quot; + month + &quot;-&quot; + year);\nshareIntent.setType(&quot;text/csv&quot;);\nstartActivity(Intent.createChooser(shareIntent, &quot;Share via&quot;));\n</code></pre>\n<p>and i get the exception thrown from this block, after starting activity with intent.\nAnd ofcourse i have file provider with the authorities &quot;${applicationId}.provider&quot; and a 'external-files-path' configured.\nAny help would be greatly appreciated!</p>\n<p>EDIT:\nthis is my provider in manifest:</p>\n<pre><code>&lt;provider\n    android:name=&quot;androidx.core.content.FileProvider&quot;\n    android:authorities=&quot;${applicationId}.provider&quot;\n    android:exported=&quot;false&quot;\n    android:grantUriPermissions=&quot;true&quot;&gt;\n    &lt;meta-data\n        android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n        android:resource=&quot;@xml/file_paths&quot; /&gt;\n&lt;/provider&gt;\n</code></pre>\n<p>and the XML</p>\n<pre><code>&lt;paths xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n&lt;external-files-path name=&quot;files&quot; path=&quot;/&quot;/&gt;\n</code></pre>\n\n"},{"tags":["java","css","javafx-2"],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":63,"is_accepted":true,"score":63,"last_activity_date":1468069963,"creation_date":1381986451,"answer_id":19418709,"question_id":19417246,"body_markdown":"I have marked this answer as [community wiki][1].  \r\n\r\nIf you have ideas for JavaFX ProgressBar styling outside of the original initial styling queries, please edit this post to add your styling ideas (or to link to them).\r\n\r\n&gt; set the color of the progress bar itself\r\n\r\nAnswered in:\r\n\r\n * https://stackoverflow.com/questions/13357077/javafx-progressbar-how-to-change-bar-color/13372086#13372086\r\n\r\nThe answer demonstrates\r\n\r\n 1. Dynamic styling of the progress bar, so that the bar&#39;s color changes depending upon the amount of progress made.\r\n 2. Static styling of the progress bar, which just sets the bar&#39;s color forever to a defined color.\r\n\r\nJavaFX 7 (caspian) on a Windows PC:\r\n\r\n![colored progress bar][2]\r\n\r\nJavaFX 8 (modena) on a Mac:\r\n\r\n![progress bar mac][3]\r\n\r\nSometimes people like barbershop pole style gradients, like the [bootstrap striped style][4]:\r\n\r\n * https://stackoverflow.com/questions/18539642/progressbar-animated-javafx\r\n\r\n![barbershop quartet][5]\r\n\r\n&gt; set the background color of the progress bar (not the same as setting the background color)\r\n\r\nDefine an appropriate css style for the progress bar&#39;s &quot;track&quot;:\r\n\r\n    .progress-bar &gt; .track {\r\n      -fx-text-box-border: forestgreen;\r\n      -fx-control-inner-background: palegreen;\r\n    }\r\n\r\n![progress-bar background color][6]\r\n\r\n&gt; add a custom text node on top of the progress bar (to show the different states)\r\n\r\nAnswered in:\r\n\r\n * https://stackoverflow.com/questions/14059474/draw-a-string-onto-a-progressbar-like-jprogressbar\r\n\r\n![string on a progress bar][7]\r\n\r\n&gt; how to change the height of a progress bar:\r\n\r\nAnswered in: \r\n\r\n * https://stackoverflow.com/questions/21740259/how-to-get-narrow-progres-bar-in-javafx\r\n  \r\nSample CSS: \r\n\r\n    .progress-bar .bar { \r\n        -fx-padding: 1px; \r\n        -fx-background-insets: 0; \r\n    }\r\n\r\nJos&#233; Pereda gives a nice comprehensive solution for narrow progress bars in his answer to:\r\n \r\n * https://stackoverflow.com/questions/27260431/how-to-get-a-small-progressbar-in-javafx/\r\n\r\n![small progress][8]\r\n\r\n&gt; I am looking for the css class names and the css commands \r\n\r\nThe place to look is in the default JavaFX style sheet.\r\n\r\n * [modena.css][9] for [Java 8][10].\r\n * [caspian.css][11] for Java 7.\r\n\r\nThe ProgressBar style definitions for caspian (Java 7) are:\r\n\r\n    .progress-bar {\r\n        -fx-skin: &quot;com.sun.javafx.scene.control.skin.ProgressBarSkin&quot;;\r\n        -fx-background-color:\r\n            -fx-box-border,\r\n            linear-gradient(to bottom, derive(-fx-color,30%) 5%, derive(-fx-color,-17%));\r\n        -fx-background-insets: 0, 1;\r\n        -fx-indeterminate-bar-length: 60;\r\n        -fx-indeterminate-bar-escape: true;\r\n        -fx-indeterminate-bar-flip: true;\r\n        -fx-indeterminate-bar-animation-time: 2;\r\n    }\r\n    \r\n    .progress-bar .bar {\r\n        -fx-background-color:\r\n            -fx-box-border,\r\n            linear-gradient(to bottom, derive(-fx-accent,95%), derive(-fx-accent,10%)),\r\n            linear-gradient(to bottom, derive(-fx-accent,38%), -fx-accent);\r\n        -fx-background-insets: 0, 1, 2;\r\n        -fx-padding: 0.416667em; /* 5 */\r\n    }\r\n    \r\n    .progress-bar:indeterminate .bar {\r\n        -fx-background-color: linear-gradient(to left, transparent, -fx-accent);\r\n    }\r\n    \r\n    .progress-bar .track {\r\n         -fx-background-color:\r\n            -fx-box-border,\r\n            linear-gradient(to bottom, derive(-fx-color,-15%), derive(-fx-color,2.2%) 20%, derive(-fx-color,60%));\r\n        -fx-background-insets:  0, 1;\r\n    }\r\n    \r\n    .progress-bar:disabled {\r\n        -fx-opacity: -fx-disabled-opacity;\r\n    }\r\n\r\nThe progress bar style definitions for modena (Java 8) are:\r\n\r\n    .progress-bar {\r\n        -fx-indeterminate-bar-length: 60;\r\n        -fx-indeterminate-bar-escape: true;\r\n        -fx-indeterminate-bar-flip: true;\r\n        -fx-indeterminate-bar-animation-time: 2;\r\n    }\r\n    .progress-bar &gt; .bar {\r\n        -fx-background-color: linear-gradient(to bottom, derive(-fx-accent, -7%), derive(-fx-accent, 0%), derive(-fx-accent, -3%), derive(-fx-accent, -9%) );\r\n        -fx-background-insets: 3 3 4 3;\r\n        -fx-background-radius: 2;\r\n        -fx-padding: 0.75em;\r\n    }\r\n    .progress-bar:indeterminate &gt; .bar {\r\n        -fx-background-color: linear-gradient(to left, transparent, -fx-accent);\r\n    }\r\n    .progress-bar &gt; .track {\r\n          -fx-background-color: \r\n              -fx-shadow-highlight-color,\r\n              linear-gradient(to bottom, derive(-fx-text-box-border, -10%), -fx-text-box-border),\r\n              linear-gradient(to bottom, \r\n                derive(-fx-control-inner-background, -7%),\r\n                derive(-fx-control-inner-background, 0%),\r\n                derive(-fx-control-inner-background, -3%),\r\n                derive(-fx-control-inner-background, -9%)\r\n              );\r\n        -fx-background-insets: 0, 0 0 1 0, 1 1 2 1;\r\n        -fx-background-radius: 4, 3, 2; /* 10, 9, 8 */\r\n    }\r\n\r\nThe [JavaFX CSS reference guide][12] contains general information on the use of CSS in JavaFX (which differs somewhat from the use of CSS in HTML).\r\n\r\n\r\n  [1]: https://meta.stackexchange.com/questions/11740/what-are-community-wiki-posts\r\n  [2]: http://i.stack.imgur.com/8Gt9x.png\r\n  [3]: http://i.stack.imgur.com/vQpZ4.png\r\n  [4]: http://getbootstrap.com/2.3.2/components.html#progress\r\n  [5]: http://i.stack.imgur.com/ti0st.png\r\n  [6]: http://i.stack.imgur.com/rCEvj.png\r\n  [7]: http://i.stack.imgur.com/0TdjS.png\r\n  [8]: http://i.stack.imgur.com/zx01u.png\r\n  [9]: http://hg.openjdk.java.net/openjfx/8/master/rt/file/88d3bef80ffc/modules/controls/src/main/resources/com/sun/javafx/scene/control/skin/modena/modena.css\r\n  [10]: https://jdk8.java.net/download.html\r\n  [11]: http://hg.openjdk.java.net/openjfx/2.2/master/rt/raw-file/tip/javafx-ui-controls/src/com/sun/javafx/scene/control/skin/caspian/caspian.css\r\n  [12]: http://docs.oracle.com/javase/8/javafx/api/javafx/scene/doc-files/cssref.html","title":"How can I style the ProgressBar component in JavaFX","body":"<p>I have marked this answer as <a href=\"https://meta.stackexchange.com/questions/11740/what-are-community-wiki-posts\">community wiki</a>.  </p>\n\n<p>If you have ideas for JavaFX ProgressBar styling outside of the original initial styling queries, please edit this post to add your styling ideas (or to link to them).</p>\n\n<blockquote>\n  <p>set the color of the progress bar itself</p>\n</blockquote>\n\n<p>Answered in:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/13357077/javafx-progressbar-how-to-change-bar-color/13372086#13372086\">JavaFX ProgressBar: how to change bar color?</a></li>\n</ul>\n\n<p>The answer demonstrates</p>\n\n<ol>\n<li>Dynamic styling of the progress bar, so that the bar's color changes depending upon the amount of progress made.</li>\n<li>Static styling of the progress bar, which just sets the bar's color forever to a defined color.</li>\n</ol>\n\n<p>JavaFX 7 (caspian) on a Windows PC:</p>\n\n<p><img src=\"https://i.stack.imgur.com/8Gt9x.png\" alt=\"colored progress bar\"></p>\n\n<p>JavaFX 8 (modena) on a Mac:</p>\n\n<p><img src=\"https://i.stack.imgur.com/vQpZ4.png\" alt=\"progress bar mac\"></p>\n\n<p>Sometimes people like barbershop pole style gradients, like the <a href=\"http://getbootstrap.com/2.3.2/components.html#progress\" rel=\"noreferrer\">bootstrap striped style</a>:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/18539642/progressbar-animated-javafx\">ProgressBar Animated Javafx</a></li>\n</ul>\n\n<p><img src=\"https://i.stack.imgur.com/ti0st.png\" alt=\"barbershop quartet\"></p>\n\n<blockquote>\n  <p>set the background color of the progress bar (not the same as setting the background color)</p>\n</blockquote>\n\n<p>Define an appropriate css style for the progress bar's \"track\":</p>\n\n<pre><code>.progress-bar &gt; .track {\n  -fx-text-box-border: forestgreen;\n  -fx-control-inner-background: palegreen;\n}\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/rCEvj.png\" alt=\"progress-bar background color\"></p>\n\n<blockquote>\n  <p>add a custom text node on top of the progress bar (to show the different states)</p>\n</blockquote>\n\n<p>Answered in:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/14059474/draw-a-string-onto-a-progressbar-like-jprogressbar\">Draw a String onto a ProgressBar, like JProgressBar?</a></li>\n</ul>\n\n<p><img src=\"https://i.stack.imgur.com/0TdjS.png\" alt=\"string on a progress bar\"></p>\n\n<blockquote>\n  <p>how to change the height of a progress bar:</p>\n</blockquote>\n\n<p>Answered in: </p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/21740259/how-to-get-narrow-progres-bar-in-javafx\">How to get narrow progres bar in JavaFX?</a></li>\n</ul>\n\n<p>Sample CSS: </p>\n\n<pre><code>.progress-bar .bar { \n    -fx-padding: 1px; \n    -fx-background-insets: 0; \n}\n</code></pre>\n\n<p>José Pereda gives a nice comprehensive solution for narrow progress bars in his answer to:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/27260431/how-to-get-a-small-progressbar-in-javafx/\">How to get a small ProgressBar in JavaFX</a></li>\n</ul>\n\n<p><img src=\"https://i.stack.imgur.com/zx01u.png\" alt=\"small progress\"></p>\n\n<blockquote>\n  <p>I am looking for the css class names and the css commands </p>\n</blockquote>\n\n<p>The place to look is in the default JavaFX style sheet.</p>\n\n<ul>\n<li><a href=\"http://hg.openjdk.java.net/openjfx/8/master/rt/file/88d3bef80ffc/modules/controls/src/main/resources/com/sun/javafx/scene/control/skin/modena/modena.css\" rel=\"noreferrer\">modena.css</a> for <a href=\"https://jdk8.java.net/download.html\" rel=\"noreferrer\">Java 8</a>.</li>\n<li><a href=\"http://hg.openjdk.java.net/openjfx/2.2/master/rt/raw-file/tip/javafx-ui-controls/src/com/sun/javafx/scene/control/skin/caspian/caspian.css\" rel=\"noreferrer\">caspian.css</a> for Java 7.</li>\n</ul>\n\n<p>The ProgressBar style definitions for caspian (Java 7) are:</p>\n\n<pre><code>.progress-bar {\n    -fx-skin: \"com.sun.javafx.scene.control.skin.ProgressBarSkin\";\n    -fx-background-color:\n        -fx-box-border,\n        linear-gradient(to bottom, derive(-fx-color,30%) 5%, derive(-fx-color,-17%));\n    -fx-background-insets: 0, 1;\n    -fx-indeterminate-bar-length: 60;\n    -fx-indeterminate-bar-escape: true;\n    -fx-indeterminate-bar-flip: true;\n    -fx-indeterminate-bar-animation-time: 2;\n}\n\n.progress-bar .bar {\n    -fx-background-color:\n        -fx-box-border,\n        linear-gradient(to bottom, derive(-fx-accent,95%), derive(-fx-accent,10%)),\n        linear-gradient(to bottom, derive(-fx-accent,38%), -fx-accent);\n    -fx-background-insets: 0, 1, 2;\n    -fx-padding: 0.416667em; /* 5 */\n}\n\n.progress-bar:indeterminate .bar {\n    -fx-background-color: linear-gradient(to left, transparent, -fx-accent);\n}\n\n.progress-bar .track {\n     -fx-background-color:\n        -fx-box-border,\n        linear-gradient(to bottom, derive(-fx-color,-15%), derive(-fx-color,2.2%) 20%, derive(-fx-color,60%));\n    -fx-background-insets:  0, 1;\n}\n\n.progress-bar:disabled {\n    -fx-opacity: -fx-disabled-opacity;\n}\n</code></pre>\n\n<p>The progress bar style definitions for modena (Java 8) are:</p>\n\n<pre><code>.progress-bar {\n    -fx-indeterminate-bar-length: 60;\n    -fx-indeterminate-bar-escape: true;\n    -fx-indeterminate-bar-flip: true;\n    -fx-indeterminate-bar-animation-time: 2;\n}\n.progress-bar &gt; .bar {\n    -fx-background-color: linear-gradient(to bottom, derive(-fx-accent, -7%), derive(-fx-accent, 0%), derive(-fx-accent, -3%), derive(-fx-accent, -9%) );\n    -fx-background-insets: 3 3 4 3;\n    -fx-background-radius: 2;\n    -fx-padding: 0.75em;\n}\n.progress-bar:indeterminate &gt; .bar {\n    -fx-background-color: linear-gradient(to left, transparent, -fx-accent);\n}\n.progress-bar &gt; .track {\n      -fx-background-color: \n          -fx-shadow-highlight-color,\n          linear-gradient(to bottom, derive(-fx-text-box-border, -10%), -fx-text-box-border),\n          linear-gradient(to bottom, \n            derive(-fx-control-inner-background, -7%),\n            derive(-fx-control-inner-background, 0%),\n            derive(-fx-control-inner-background, -3%),\n            derive(-fx-control-inner-background, -9%)\n          );\n    -fx-background-insets: 0, 0 0 1 0, 1 1 2 1;\n    -fx-background-radius: 4, 3, 2; /* 10, 9, 8 */\n}\n</code></pre>\n\n<p>The <a href=\"http://docs.oracle.com/javase/8/javafx/api/javafx/scene/doc-files/cssref.html\" rel=\"noreferrer\">JavaFX CSS reference guide</a> contains general information on the use of CSS in JavaFX (which differs somewhat from the use of CSS in HTML).</p>\n"},{"tags":[],"owner":{"account_id":8803888,"reputation":147,"user_id":6579199,"display_name":"Ion Scorobogaci"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1542206927,"creation_date":1542206927,"answer_id":53302902,"question_id":19417246,"body_markdown":"css file:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-css --&gt;\r\n\r\n    .green-bar {\r\n        -fx-accent: #27BB9A;\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nassign this class to the progressbar ","title":"How can I style the ProgressBar component in JavaFX","body":"<p>css file:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.green-bar {\r\n    -fx-accent: #27BB9A;\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>assign this class to the progressbar </p>\n"},{"tags":[],"owner":{"account_id":21748647,"reputation":125,"user_id":16054918,"display_name":"Benedict Lang"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1636045126,"creation_date":1625247678,"answer_id":68229359,"question_id":19417246,"body_markdown":"A minimalistic modern styling like the add-on **Gluon** has it, ideally for a load bar in the header:\r\n\r\n-no radius\r\n\r\n-no padding to the bar\r\n\r\n-simple colours\r\n\r\n\r\n\r\n    .progress-bar {\r\n        -fx-accent: rgba(0, 138, 230, 0.85);\r\n    }\r\n    \r\n    .progress-bar .bar {\r\n        -fx-padding: 1px;\r\n        -fx-background-insets: 0;\r\n        -fx-background-radius: 0;\r\n    }\r\n    \r\n    .progress-bar &gt; .track {\r\n        -fx-border-radius: 0;\r\n        -fx-background-radius: 0;\r\n        -fx-text-box-border: transparent;\r\n        -fx-control-inner-background: transparent;\r\n        -fx-background-color: rgba(255, 255, 255, 0.1);\r\n    }\r\n\r\nthank you very much for the information about the styling (.track and .bar) which I could not intuitively find.![enter image description here](https://cdn.discordapp.com/attachments/789571563254186014/860577095168294912/unknown.png)","title":"How can I style the ProgressBar component in JavaFX","body":"<p>A minimalistic modern styling like the add-on <strong>Gluon</strong> has it, ideally for a load bar in the header:</p>\n<p>-no radius</p>\n<p>-no padding to the bar</p>\n<p>-simple colours</p>\n<pre><code>.progress-bar {\n    -fx-accent: rgba(0, 138, 230, 0.85);\n}\n\n.progress-bar .bar {\n    -fx-padding: 1px;\n    -fx-background-insets: 0;\n    -fx-background-radius: 0;\n}\n\n.progress-bar &gt; .track {\n    -fx-border-radius: 0;\n    -fx-background-radius: 0;\n    -fx-text-box-border: transparent;\n    -fx-control-inner-background: transparent;\n    -fx-background-color: rgba(255, 255, 255, 0.1);\n}\n</code></pre>\n<p>thank you very much for the information about the styling (.track and .bar) which I could not intuitively find.<img src=\"https://cdn.discordapp.com/attachments/789571563254186014/860577095168294912/unknown.png\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":1104836,"reputation":4887,"user_id":1096470,"accept_rate":76,"display_name":"Yoav Kadosh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43789,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":19418709,"answer_count":3,"score":19,"last_activity_date":1636045126,"creation_date":1381976887,"question_id":19417246,"body_markdown":"I am trying to add custom css styling to the JavaFX ProgressBar component but I couldn&#39;t find any information on the topic. I am looking for the css class names and the css commands that are required to:  \r\n\r\n - set the color of the progress bar itself \r\n - set the background color of the progress bar (not the same as setting the background color)  \r\n - add a custom text node on top of the progress bar (to show the different states)","title":"How can I style the ProgressBar component in JavaFX","body":"<p>I am trying to add custom css styling to the JavaFX ProgressBar component but I couldn't find any information on the topic. I am looking for the css class names and the css commands that are required to:  </p>\n\n<ul>\n<li>set the color of the progress bar itself </li>\n<li>set the background color of the progress bar (not the same as setting the background color)  </li>\n<li>add a custom text node on top of the progress bar (to show the different states)</li>\n</ul>\n"},{"tags":["java","stringbuilder"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1635842860,"post_id":69807514,"comment_id":123394006,"body_markdown":"Okay, so what have you done to diagnose the problem? Have you stepped through the code in a debugger? Presumably it&#39;s not actually appending anything, but we don&#39;t know what the input is or what you were expecting to end up in the StringBuilder, or what your actual aim is, which makes it hard to help you.","body":"Okay, so what have you done to diagnose the problem? Have you stepped through the code in a debugger? Presumably it&#39;s not actually appending anything, but we don&#39;t know what the input is or what you were expecting to end up in the StringBuilder, or what your actual aim is, which makes it hard to help you."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1635842888,"post_id":69807514,"comment_id":123394019,"body_markdown":"See https://codeblog.jonskeet.uk/2010/08/29/writing-the-perfect-question/ for a guide to asking a good question, with more details than &quot;here&#39;s the code, here&#39;s the exception&quot;.","body":"See <a href=\"https://codeblog.jonskeet.uk/2010/08/29/writing-the-perfect-question/\" rel=\"nofollow noreferrer\">codeblog.jonskeet.uk/2010/08/29/writing-the-perfect-question</a> for a guide to asking a good question, with more details than &quot;here&#39;s the code, here&#39;s the exception&quot;."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1635842967,"post_id":69807514,"comment_id":123394049,"body_markdown":"Think about what happens if you encounter a character that is not `$`, e.g. right at the start of your input there seems to be a `#` character. What should `ss` contain in that case? Do you expect `Long.parseLong(ss)` to work here?","body":"Think about what happens if you encounter a character that is not <code>$</code>, e.g. right at the start of your input there seems to be a <code>#</code> character. What should <code>ss</code> contain in that case? Do you expect <code>Long.parseLong(ss)</code> to work here?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1635843117,"post_id":69807514,"comment_id":123394116,"body_markdown":"On a side note: your inner loop only would append digits to `someString` so `s.trim()` shouldn&#39;t be necessary. However, think about what would happen with your second currency value `$40`. What would `someString` contain if the rest of your code would work and you&#39;d hit the character `4`?","body":"On a side note: your inner loop only would append digits to <code>someString</code> so <code>s.trim()</code> shouldn&#39;t be necessary. However, think about what would happen with your second currency value <code>$40</code>. What would <code>someString</code> contain if the rest of your code would work and you&#39;d hit the character <code>4</code>?"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":2,"creation_date":1635844457,"post_id":69807514,"comment_id":123394690,"body_markdown":"your someString is empty.  This means that the if statement if Character.isDigit() is false.\n\nYou are probably just starting to learn Java, put a lot of System.outs everywhere :)","body":"your someString is empty.  This means that the if statement if Character.isDigit() is false.  You are probably just starting to learn Java, put a lot of System.outs everywhere :)"},{"owner":{"account_id":23214032,"reputation":3,"user_id":17307135,"display_name":"zabi khan"},"score":0,"creation_date":1635848665,"post_id":69807514,"comment_id":123396368,"body_markdown":"my bad i dint set te context of the program, in the first place when i asked the question, got these many replies. It was asked in interview as a technical coding program. tried many thing still the issue persist with the error. if someone can help and send me the code on to where i need to put the sum and somestring statement to get the sum","body":"my bad i dint set te context of the program, in the first place when i asked the question, got these many replies. It was asked in interview as a technical coding program. tried many thing still the issue persist with the error. if someone can help and send me the code on to where i need to put the sum and somestring statement to get the sum"},{"owner":{"account_id":23214032,"reputation":3,"user_id":17307135,"display_name":"zabi khan"},"score":0,"creation_date":1635848764,"post_id":69807514,"comment_id":123396403,"body_markdown":"@SusanMustafa, i did lot of System.outs. still getting the same error . want to get rid of the Exception","body":"@SusanMustafa, i did lot of System.outs. still getting the same error . want to get rid of the Exception"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1635855390,"post_id":69807514,"comment_id":123398939,"body_markdown":"What is the sum supposed to be?  For the input String &quot;#1 Tickets $50,000 Received $40. Expenses. ChequE.&quot;, is the answer supposed to be 50000 + 40 which is 50040?","body":"What is the sum supposed to be?  For the input String &quot;#1 Tickets $50,000 Received $40. Expenses. ChequE.&quot;, is the answer supposed to be 50000 + 40 which is 50040?"},{"owner":{"account_id":23214032,"reputation":3,"user_id":17307135,"display_name":"zabi khan"},"score":0,"creation_date":1635906550,"post_id":69807514,"comment_id":123415459,"body_markdown":"yes  it is need to ignore the digits too which are appended with any other character apart from $ sign @GilbertLeBlanc","body":"yes  it is need to ignore the digits too which are appended with any other character apart from $ sign @GilbertLeBlanc"},{"owner":{"account_id":23214032,"reputation":3,"user_id":17307135,"display_name":"zabi khan"},"score":0,"creation_date":1637040046,"post_id":69807514,"comment_id":123712036,"body_markdown":"Hi @GilbertLeBlanc, still my question holds, what is the issue with my code, what is the reason I am getting the Exception when doing stringbiulder.tostring(). just want to understand if stringbiulder behaves that way or somewhere i am missing something. your program is fine and it applies totally different logic, i am just curious what is wrong with my program i want to get the sum in the program i have written","body":"Hi @GilbertLeBlanc, still my question holds, what is the issue with my code, what is the reason I am getting the Exception when doing stringbiulder.tostring(). just want to understand if stringbiulder behaves that way or somewhere i am missing something. your program is fine and it applies totally different logic, i am just curious what is wrong with my program i want to get the sum in the program i have written"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1637070633,"post_id":69807514,"comment_id":123723151,"body_markdown":"&quot;What is the issue with my code&quot;  I have no idea.  I wrote working code almost two weeks ago and haven&#39;t looked at your code.  Generally, you parse a `String` one character at a time, ideally never looking back towards the front of the `String`.","body":"&quot;What is the issue with my code&quot;  I have no idea.  I wrote working code almost two weeks ago and haven&#39;t looked at your code.  Generally, you parse a <code>String</code> one character at a time, ideally never looking back towards the front of the <code>String</code>."},{"owner":{"account_id":23214032,"reputation":3,"user_id":17307135,"display_name":"zabi khan"},"score":0,"creation_date":1637164213,"post_id":69807514,"comment_id":123753643,"body_markdown":"sure let me  check @GilbertLeBlanc","body":"sure let me  check @GilbertLeBlanc"}],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635922401,"creation_date":1635921862,"answer_id":69820646,"question_id":69807514,"body_markdown":"Here is the result of one of my tests.\r\n\r\n    The sum is 50040\r\n\r\nOne way to do this is to go through the `String`, checking for a dollar sign.  When you find one, you set a boolean switch to true.\r\n\r\nIf the boolean switch is true, you get the next characters until you get to a stop character (period or space).  I made the assumption based on your code that the number values would all be integer values and not floating-point values.  Otherwise, you would use a `Double` conversion and a `double` sum.\r\n\r\nI ignored the comma character and collected the digit characters into a `StringBuilder`.  I converted the `StringBuilder` digits into a `long` value.\r\n\r\nI put the stop characters into a separate method to document what they represent.\r\n\r\nI put the `StringBuilder` to `long` conversion into a separate method because I execute that code twice.  Once when I detect a stop character and once at the end of the `String`.  I check at the end of the `String` in case a number value is at the end of the `String` with no stop character.\r\n\r\nHere&#39;s the complete runnable code.\r\n\r\n    public class DemoApplication2 {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tlong sum = 0;\r\n    \t\tString str = new String(&quot;#1 Tickets $50,000 Received $40. Expenses. ChequE.&quot;);\r\n    \t\tchar chararray[] = str.toCharArray();\r\n    \t\t\r\n    \t\tboolean isNumber = false;\r\n    \t\tStringBuilder builder = new StringBuilder();\r\n    \r\n    \t\tfor (int i = 0; i &lt; chararray.length; i++) {\r\n    \t\t\tif (isNumber) {\r\n    \t\t\t\tif (chararray[i] == &#39;,&#39;) {\r\n    \t\t\t\t\tcontinue;\r\n    \t\t\t\t} else if (Character.isDigit(chararray[i])) {\r\n    \t\t\t\t\tbuilder.append(chararray[i]);\r\n    \t\t\t\t} else if (isStopCharacter(chararray[i])) {\r\n    \t\t\t\t\tsum += valueOf(builder);\r\n    \t\t\t\t\tisNumber = false;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tif (chararray[i] == &#39;$&#39;) {\r\n    \t\t\t\tisNumber = true;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\tsum += valueOf(builder);\r\n    \t\tSystem.out.println(&quot;The sum is &quot; + sum);\r\n    \t}\r\n    \t\r\n    \tpublic static boolean isStopCharacter(char c) {\r\n    \t\treturn c == &#39; &#39; || c == &#39;.&#39;;\r\n    \t}\r\n    \t\r\n    \tpublic static long valueOf(StringBuilder builder) {\r\n    \t\tlong value = 0L;\r\n    \t\tif (builder.length() &gt; 0) {\r\n    \t\t\tvalue = Long.valueOf(builder.toString());\r\n    \t\t\tbuilder.delete(0, builder.length());\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn value;\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"java.lang.NumberFormatException: For input string: &quot;&quot;-StringBuilder","body":"<p>Here is the result of one of my tests.</p>\n<pre><code>The sum is 50040\n</code></pre>\n<p>One way to do this is to go through the <code>String</code>, checking for a dollar sign.  When you find one, you set a boolean switch to true.</p>\n<p>If the boolean switch is true, you get the next characters until you get to a stop character (period or space).  I made the assumption based on your code that the number values would all be integer values and not floating-point values.  Otherwise, you would use a <code>Double</code> conversion and a <code>double</code> sum.</p>\n<p>I ignored the comma character and collected the digit characters into a <code>StringBuilder</code>.  I converted the <code>StringBuilder</code> digits into a <code>long</code> value.</p>\n<p>I put the stop characters into a separate method to document what they represent.</p>\n<p>I put the <code>StringBuilder</code> to <code>long</code> conversion into a separate method because I execute that code twice.  Once when I detect a stop character and once at the end of the <code>String</code>.  I check at the end of the <code>String</code> in case a number value is at the end of the <code>String</code> with no stop character.</p>\n<p>Here's the complete runnable code.</p>\n<pre><code>public class DemoApplication2 {\n\n    public static void main(String[] args) {\n        long sum = 0;\n        String str = new String(&quot;#1 Tickets $50,000 Received $40. Expenses. ChequE.&quot;);\n        char chararray[] = str.toCharArray();\n        \n        boolean isNumber = false;\n        StringBuilder builder = new StringBuilder();\n\n        for (int i = 0; i &lt; chararray.length; i++) {\n            if (isNumber) {\n                if (chararray[i] == ',') {\n                    continue;\n                } else if (Character.isDigit(chararray[i])) {\n                    builder.append(chararray[i]);\n                } else if (isStopCharacter(chararray[i])) {\n                    sum += valueOf(builder);\n                    isNumber = false;\n                }\n            }\n            \n            if (chararray[i] == '$') {\n                isNumber = true;\n            }\n        }\n        \n        sum += valueOf(builder);\n        System.out.println(&quot;The sum is &quot; + sum);\n    }\n    \n    public static boolean isStopCharacter(char c) {\n        return c == ' ' || c == '.';\n    }\n    \n    public static long valueOf(StringBuilder builder) {\n        long value = 0L;\n        if (builder.length() &gt; 0) {\n            value = Long.valueOf(builder.toString());\n            builder.delete(0, builder.length());\n        }\n        \n        return value;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":23214032,"reputation":3,"user_id":17307135,"display_name":"zabi khan"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":534,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69820646,"answer_count":1,"score":0,"last_activity_date":1636045039,"creation_date":1635842742,"question_id":69807514,"body_markdown":"The main goal of the program is to find the sum of extracted dollar amount in a given String/ find the sum of only number which is appended after the `$` sign and the sum result should be from the input taken is 50040. The `StringBiulder` Object is coming in each loop but when I am trying to convert it to `toString` and trying to add it to the sum, getting the error.\r\n\r\nrequired is convert the result to a number and add it to the sum that is not happening and I am getting the error:\r\n\r\n&gt; java.lang.NumberFormatException: For input string: &quot;&quot;\r\n\r\nMy code:\r\n\r\n```java\r\npackage com.example.demo;\r\n\r\npublic class DemoApplication2 {\r\n\tpublic static void main(String args[]) {\r\n\t\t\r\n\t\tlong sum=0;\r\n\t\tString str = new String(&quot;#1 Tickets $50,000 Received $40. Expenses. ChequE.&quot;);\r\n\t\tchar chararray[] = str.toCharArray();\r\n\r\n\t\tfor (int i = 0; i &lt; chararray.length; i++) {\r\n\t\t\tStringBuilder someString = new StringBuilder();\r\n\r\n\t\t\tif (chararray[i] == &#39;$&#39;) {\r\n\t\t\t\tfor (int j = i+1; Character.isDigit(chararray[j]) || chararray[j] == &#39;,&#39; ; j++) {\r\n\t\t\t\t\tif (Character.isDigit(chararray[j])) {\r\n\t\t\t\t\t\tsomeString.append(chararray[j]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\ti=j;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\tSystem.out.println(someString.toString());\r\n\t\t\tsum=sum+Long.parseLong(someString.toString());\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nGetting the below Error:\r\n\r\n```text\r\n    Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;&quot;\r\n    \tat java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\r\n    \tat java.base/java.lang.Long.parseLong(Long.java:702)\r\n    \tat java.base/java.lang.Long.parseLong(Long.java:817)\r\n    \tat com.example.demo.DemoApplication2.main(DemoApplication2.java:27)\r\n```\r\n","title":"java.lang.NumberFormatException: For input string: &quot;&quot;-StringBuilder","body":"<p>The main goal of the program is to find the sum of extracted dollar amount in a given String/ find the sum of only number which is appended after the <code>$</code> sign and the sum result should be from the input taken is 50040. The <code>StringBiulder</code> Object is coming in each loop but when I am trying to convert it to <code>toString</code> and trying to add it to the sum, getting the error.</p>\n<p>required is convert the result to a number and add it to the sum that is not happening and I am getting the error:</p>\n<blockquote>\n<p>java.lang.NumberFormatException: For input string: &quot;&quot;</p>\n</blockquote>\n<p>My code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.demo;\n\npublic class DemoApplication2 {\n    public static void main(String args[]) {\n        \n        long sum=0;\n        String str = new String(&quot;#1 Tickets $50,000 Received $40. Expenses. ChequE.&quot;);\n        char chararray[] = str.toCharArray();\n\n        for (int i = 0; i &lt; chararray.length; i++) {\n            StringBuilder someString = new StringBuilder();\n\n            if (chararray[i] == '$') {\n                for (int j = i+1; Character.isDigit(chararray[j]) || chararray[j] == ',' ; j++) {\n                    if (Character.isDigit(chararray[j])) {\n                        someString.append(chararray[j]);\n                    }\n                    i=j;\n                }\n                \n            }\n            System.out.println(someString.toString());\n            sum=sum+Long.parseLong(someString.toString());\n        }\n    }\n}\n</code></pre>\n<p>Getting the below Error:</p>\n<pre><code>    Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;&quot;\n        at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\n        at java.base/java.lang.Long.parseLong(Long.java:702)\n        at java.base/java.lang.Long.parseLong(Long.java:817)\n        at com.example.demo.DemoApplication2.main(DemoApplication2.java:27)\n</code></pre>\n"},{"tags":["java","junit4"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":5,"creation_date":1622462741,"post_id":67773358,"comment_id":119792364,"body_markdown":"`setUSLocale` makes me think you change the default locale, which is a great source of problems with tests, as it modifies global state that other tests might rely on. You probably have some tests that assume something about the default locale (or some other global state) that&#39;s not always true. The first step is to undo any such modification in a @TearDown method (not in the test, as that might not run if the test fails) and ideally each test should set up that global state if it depends on it.","body":"<code>setUSLocale</code> makes me think you change the default locale, which is a great source of problems with tests, as it modifies global state that other tests might rely on. You probably have some tests that assume something about the default locale (or some other global state) that&#39;s not always true. The first step is to undo any such modification in a @TearDown method (not in the test, as that might not run if the test fails) and ideally each test should set up that global state if it depends on it."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":6,"creation_date":1622462909,"post_id":67773358,"comment_id":119792437,"body_markdown":"If tests only work when run together that indicates they are operating on some shared state which could be something in the JVM as Joachim suggested or even some data in a database. So you&#39;d need to find out why they failed, i.e. what state was expected, what you got instead and why you got that. With that data you then can make an informed decision of whether the tests need to be fixed or your code is already broken.","body":"If tests only work when run together that indicates they are operating on some shared state which could be something in the JVM as Joachim suggested or even some data in a database. So you&#39;d need to find out why they failed, i.e. what state was expected, what you got instead and why you got that. With that data you then can make an informed decision of whether the tests need to be fixed or your code is already broken."},{"owner":{"account_id":8892236,"reputation":476,"user_id":6638412,"display_name":"Gatiivs"},"score":0,"creation_date":1636541552,"post_id":67773358,"comment_id":123582716,"body_markdown":"the guess Joachim made was correct and solved my problem. Both of your comments were good but I cant mark either of the as the answer because they are comments not answers :(","body":"the guess Joachim made was correct and solved my problem. Both of your comments were good but I cant mark either of the as the answer because they are comments not answers :("}],"answers":[{"tags":[],"owner":{"account_id":20250284,"reputation":1,"user_id":14851619,"display_name":"Rogerr Oliva"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1636044857,"creation_date":1636044857,"answer_id":69843016,"question_id":67773358,"body_markdown":"I had a similar issue where a few test would fail when run together vs running them individually. I realized it was because I had asynchronous code. I had a completable future with an executorService. In an @AfterEach method I added Thread.sleep(1000) and this solve my issue. Your issue may not be a multi-thread issue, but ultimately you might have to reset any shared values in your @BeforeEach or @AfterEach.\r\n\r\nI would also try commenting out test until you find out which test that is run before hand, causes your test at hand to fail. ","title":"Why do my tests pass when run together, but fail individually?","body":"<p>I had a similar issue where a few test would fail when run together vs running them individually. I realized it was because I had asynchronous code. I had a completable future with an executorService. In an @AfterEach method I added Thread.sleep(1000) and this solve my issue. Your issue may not be a multi-thread issue, but ultimately you might have to reset any shared values in your @BeforeEach or @AfterEach.</p>\n<p>I would also try commenting out test until you find out which test that is run before hand, causes your test at hand to fail.</p>\n"}],"owner":{"account_id":8892236,"reputation":476,"user_id":6638412,"display_name":"Gatiivs"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":864,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636044857,"creation_date":1622462615,"question_id":67773358,"body_markdown":"Not to be confused with a previously asked question &quot;Why do my tests fail when run together, but pass individually?&quot;\r\n\r\nI have a task where I need to modify Junit test classes to handle multiple database testing. Before I can implement that, I need to make sure all tests are running without failures. A thing that mystifies me is that now when I run all classes together it shows it ran with no failures. When I ran one class in specific it suddenly had a failure, result persists if I repeat it. \r\n\r\nWhat might be causing this?\r\n\r\nI did not write the tests myself, therefore my knowledge of what is in them is limited. I did modify like 3 of them though. \r\n\r\nPasting the failing test in case it helps\r\n\r\n\r\n    @Test\r\n    public void testGetBetonFillerPrM3Str() {\r\n    \tComposition c = new Composition();\r\n    \tMixoSettings settings = new MixoSettings();\r\n    \tsettings.setWcwpDecNum(2);\r\n    \r\n    \tassertThat(c.getBetonFillerPrM3Str(), is(&quot;&quot;));\r\n    \r\n    \tc.setSettings(settings);\r\n    \tc.setBetonFillerKg(200d);\r\n    \tc.setTotalVolume(200d);\r\n    \tassertThat(c.getBetonFillerPrM3Str(), is(&quot;1&quot;));\r\n    \r\n    \tsetUSLocale();\r\n    \tassertThat(c.getBetonFillerPrM3Str(), is(&quot;2&quot;));\r\n    \tsetDKLocale();\r\n    \r\n    \tc.setBetonFillerKg(200d);\r\n    \tc.setTotalVolume(0d);\r\n    \tassertThat(c.getBetonFillerPrM3Str(), is(&quot;&quot;));\r\n    \r\n    \tc = new Composition();\r\n    \tassertThat(c.getBetonFillerPrM3Str(), is(&quot;&quot;));\r\n    }\r\n\r\nI am using Eclipse, java 7, JUnit 4","title":"Why do my tests pass when run together, but fail individually?","body":"<p>Not to be confused with a previously asked question &quot;Why do my tests fail when run together, but pass individually?&quot;</p>\n<p>I have a task where I need to modify Junit test classes to handle multiple database testing. Before I can implement that, I need to make sure all tests are running without failures. A thing that mystifies me is that now when I run all classes together it shows it ran with no failures. When I ran one class in specific it suddenly had a failure, result persists if I repeat it.</p>\n<p>What might be causing this?</p>\n<p>I did not write the tests myself, therefore my knowledge of what is in them is limited. I did modify like 3 of them though.</p>\n<p>Pasting the failing test in case it helps</p>\n<pre><code>@Test\npublic void testGetBetonFillerPrM3Str() {\n    Composition c = new Composition();\n    MixoSettings settings = new MixoSettings();\n    settings.setWcwpDecNum(2);\n\n    assertThat(c.getBetonFillerPrM3Str(), is(&quot;&quot;));\n\n    c.setSettings(settings);\n    c.setBetonFillerKg(200d);\n    c.setTotalVolume(200d);\n    assertThat(c.getBetonFillerPrM3Str(), is(&quot;1&quot;));\n\n    setUSLocale();\n    assertThat(c.getBetonFillerPrM3Str(), is(&quot;2&quot;));\n    setDKLocale();\n\n    c.setBetonFillerKg(200d);\n    c.setTotalVolume(0d);\n    assertThat(c.getBetonFillerPrM3Str(), is(&quot;&quot;));\n\n    c = new Composition();\n    assertThat(c.getBetonFillerPrM3Str(), is(&quot;&quot;));\n}\n</code></pre>\n<p>I am using Eclipse, java 7, JUnit 4</p>\n"},{"tags":["java","maven","paypal"],"answers":[{"tags":[],"owner":{"account_id":2934651,"reputation":1282,"user_id":2513916,"display_name":"Rando Shtishi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636044372,"creation_date":1636044372,"answer_id":69842898,"question_id":69838117,"body_markdown":"I lost a couple of hours with this issue. As I thought, the problem was a mistake in the request parameters that I sent to Paypal.\r\n\r\nI fixed this by modifying the format of EXPDATE like below:\r\n\r\n```\r\n// encoder.add(&quot;EXPDATE&quot;, &quot;11/2023&quot;);\r\nencoder.add(&quot;EXPDATE&quot;, &quot;112023&quot;);\r\n```\r\n\r\n ","title":"Problem with calling PayPal DO_DIRECT_PAYMENT: com.paypal.sdk.exceptions.FatalException: Unable to complete HTTPS transaction","body":"<p>I lost a couple of hours with this issue. As I thought, the problem was a mistake in the request parameters that I sent to Paypal.</p>\n<p>I fixed this by modifying the format of EXPDATE like below:</p>\n<pre><code>// encoder.add(&quot;EXPDATE&quot;, &quot;11/2023&quot;);\nencoder.add(&quot;EXPDATE&quot;, &quot;112023&quot;);\n</code></pre>\n"}],"owner":{"account_id":2934651,"reputation":1282,"user_id":2513916,"display_name":"Rando Shtishi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69842898,"answer_count":1,"score":0,"last_activity_date":1636044372,"creation_date":1636023329,"question_id":69838117,"body_markdown":"I am working on integrating `DO_DIRECT_PAYMENT` on a java application. I have the following maven dependencies in the project pom.xml file.\r\n\r\n```\r\n&lt;!-- PayPal SDK Dependencies --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.thoughtworks.xstream&lt;/groupId&gt;\r\n      &lt;artifactId&gt;xstream&lt;/artifactId&gt;\r\n      &lt;version&gt;1.4.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n      &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n      &lt;version&gt;1.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;xerces&lt;/groupId&gt;\r\n      &lt;artifactId&gt;xercesImpl&lt;/artifactId&gt;\r\n      &lt;version&gt;2.10.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;commons-httpclient&lt;/groupId&gt;\r\n      &lt;artifactId&gt;commons-httpclient&lt;/artifactId&gt;\r\n      &lt;version&gt;3.1&lt;/version&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n          &lt;artifactId&gt;*&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.paypal.sdk&lt;/groupId&gt;\r\n      &lt;artifactId&gt;paypal-base&lt;/artifactId&gt;\r\n      &lt;version&gt;1.1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\nI am trying to create a simple integration test that works successfully.\r\n\r\nBelow is the test client class:\r\n\r\n```\r\npublic class PaypalServiceTest {\r\n\r\n    @Test\r\n    public void shouldDoASuccessfullDirectPayment() throws PayPalException {\r\n        //execute\r\n        PaypalService paypalService = new PaypalService();\r\n        //verify\r\n        paypalService.doDirectPayment();\r\n    }\r\n\r\n}\r\n```\r\n\r\nBelow is the SUT(class under test):\r\n\r\n```\r\npublic class PaypalService {\r\n\r\n   public void doDirectPayment() throws PayPalException {\r\n        NVPEncoder encoder = new NVPEncoder();\r\n        encoder.add(&quot;VERSION&quot;,&quot;72.0&quot;); \r\n        encoder.add(&quot;METHOD&quot;, &quot;DoDirectPayment&quot;); \r\n        encoder.add(&quot;PAYMENTACTION&quot;, &quot;SALE&quot;); \r\n        encoder.add(&quot;AMT&quot;, &quot;20.0&quot;); // value: 20.00\r\n        encoder.add(&quot;CREDITCARDTYPE&quot;,creditCardType); // value: type of credit card(Amex| MasterCard etc...)\r\n        encoder.add(&quot;ACCT&quot;, creditCardNumber); // value: test  credit card no\r\n        encoder.add(&quot;CVV2&quot;, cvv2Number); // value: test cvv2, 4 digit for amex, three digit for master card \r\n        encoder.add(&quot;EXPDATE&quot;, &quot;11/2023&quot;);\r\n        encoder.add(&quot;FIRSTNAME&quot;, &quot;Test1&quot;); \r\n        encoder.add(&quot;LASTNAME&quot;, &quot;Test2&quot;); \r\n        encoder.add(&quot;ADDRESS1&quot;, &quot;Test Address); \r\n        encoder.add(&quot;CITY&quot;,&quot;Test City); \r\n        encoder.add(&quot;STATE&quot;,&quot;USA&quot;); \r\n        encoder.add(&quot;ZIP&quot;,&quot;&quot;02110&quot;); \r\n        encoder.add( &quot;COUNTRYCODE&quot;, &quot;USA&quot;); \r\n        encoder.add( &quot;CURRENCYCODE&quot;, &quot;USD&quot;); \r\n        encoder.add( &quot;IPADDRESS&quot; , ipAddress); //my IP address\r\n        encoder.add( &quot;EMAIL&quot;, email);// value: empty\r\n\r\n        String request = encoder.encode();\r\n\r\n        APIProfile profile = ProfileFactory.createSignatureAPIProfile();\r\n        profile.setAPIUsername(API_USERNAME); // value: useraneme\r\n        profile.setAPIPassword(API_PASSWORD); // value: password\r\n        profile.setSignature(API_SIGNATURE); // value: signature\r\n        profile.setEnvironment(API_ENVIRONMENT); // value: Sandbox\r\n\r\n        NVPCallerServices caller = new NVPCallerServices();\r\n        caller.setAPIProfile(profile);\r\n\r\n        String response = caller.call(request);\r\n\r\n\r\n   }\r\n}\r\n```\r\n\r\nWhen I run the test, I am having the error below:\r\n\r\n```\r\ncom.paypal.sdk.exceptions.FatalException: Unable to complete HTTPS transaction\r\n\r\n\tat com.paypal.sdk.core.nvp.NVPAPICaller.call(NVPAPICaller.java:372)\r\n\tat com.paypal.sdk.services.NVPCallerServices.call(NVPCallerServices.java:56)\r\n\tat io.dexi.paypal.PaypalService.doDirectPayment(PaypalService.java:73)\r\n\tat io.dexi.paypal.PaypalServiceTest.shouldDoASuccessfullDirectPayment(PaypalServiceTest.java:15)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:45)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:42)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:68)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:47)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:300)\r\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:157)\r\n\tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\nCaused by: com.paypal.sdk.exceptions.FatalException: HTTP Error code 400 received, transaction not submitted\r\n\tat com.paypal.sdk.core.nvp.NVPAPICaller.call(NVPAPICaller.java:355)\r\n\t... 25 more\r\n```\r\n\r\n\r\nI will appreciate any help or guide in solving this issue.\r\n\r\nRegards,\r\nRando.","title":"Problem with calling PayPal DO_DIRECT_PAYMENT: com.paypal.sdk.exceptions.FatalException: Unable to complete HTTPS transaction","body":"<p>I am working on integrating <code>DO_DIRECT_PAYMENT</code> on a java application. I have the following maven dependencies in the project pom.xml file.</p>\n<pre><code>&lt;!-- PayPal SDK Dependencies --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.thoughtworks.xstream&lt;/groupId&gt;\n      &lt;artifactId&gt;xstream&lt;/artifactId&gt;\n      &lt;version&gt;1.4.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n      &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n      &lt;version&gt;1.6&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;xerces&lt;/groupId&gt;\n      &lt;artifactId&gt;xercesImpl&lt;/artifactId&gt;\n      &lt;version&gt;2.10.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;commons-httpclient&lt;/groupId&gt;\n      &lt;artifactId&gt;commons-httpclient&lt;/artifactId&gt;\n      &lt;version&gt;3.1&lt;/version&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n          &lt;artifactId&gt;*&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.paypal.sdk&lt;/groupId&gt;\n      &lt;artifactId&gt;paypal-base&lt;/artifactId&gt;\n      &lt;version&gt;1.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I am trying to create a simple integration test that works successfully.</p>\n<p>Below is the test client class:</p>\n<pre><code>public class PaypalServiceTest {\n\n    @Test\n    public void shouldDoASuccessfullDirectPayment() throws PayPalException {\n        //execute\n        PaypalService paypalService = new PaypalService();\n        //verify\n        paypalService.doDirectPayment();\n    }\n\n}\n</code></pre>\n<p>Below is the SUT(class under test):</p>\n<pre><code>public class PaypalService {\n\n   public void doDirectPayment() throws PayPalException {\n        NVPEncoder encoder = new NVPEncoder();\n        encoder.add(&quot;VERSION&quot;,&quot;72.0&quot;); \n        encoder.add(&quot;METHOD&quot;, &quot;DoDirectPayment&quot;); \n        encoder.add(&quot;PAYMENTACTION&quot;, &quot;SALE&quot;); \n        encoder.add(&quot;AMT&quot;, &quot;20.0&quot;); // value: 20.00\n        encoder.add(&quot;CREDITCARDTYPE&quot;,creditCardType); // value: type of credit card(Amex| MasterCard etc...)\n        encoder.add(&quot;ACCT&quot;, creditCardNumber); // value: test  credit card no\n        encoder.add(&quot;CVV2&quot;, cvv2Number); // value: test cvv2, 4 digit for amex, three digit for master card \n        encoder.add(&quot;EXPDATE&quot;, &quot;11/2023&quot;);\n        encoder.add(&quot;FIRSTNAME&quot;, &quot;Test1&quot;); \n        encoder.add(&quot;LASTNAME&quot;, &quot;Test2&quot;); \n        encoder.add(&quot;ADDRESS1&quot;, &quot;Test Address); \n        encoder.add(&quot;CITY&quot;,&quot;Test City); \n        encoder.add(&quot;STATE&quot;,&quot;USA&quot;); \n        encoder.add(&quot;ZIP&quot;,&quot;&quot;02110&quot;); \n        encoder.add( &quot;COUNTRYCODE&quot;, &quot;USA&quot;); \n        encoder.add( &quot;CURRENCYCODE&quot;, &quot;USD&quot;); \n        encoder.add( &quot;IPADDRESS&quot; , ipAddress); //my IP address\n        encoder.add( &quot;EMAIL&quot;, email);// value: empty\n\n        String request = encoder.encode();\n\n        APIProfile profile = ProfileFactory.createSignatureAPIProfile();\n        profile.setAPIUsername(API_USERNAME); // value: useraneme\n        profile.setAPIPassword(API_PASSWORD); // value: password\n        profile.setSignature(API_SIGNATURE); // value: signature\n        profile.setEnvironment(API_ENVIRONMENT); // value: Sandbox\n\n        NVPCallerServices caller = new NVPCallerServices();\n        caller.setAPIProfile(profile);\n\n        String response = caller.call(request);\n\n\n   }\n}\n</code></pre>\n<p>When I run the test, I am having the error below:</p>\n<pre><code>com.paypal.sdk.exceptions.FatalException: Unable to complete HTTPS transaction\n\n    at com.paypal.sdk.core.nvp.NVPAPICaller.call(NVPAPICaller.java:372)\n    at com.paypal.sdk.services.NVPCallerServices.call(NVPCallerServices.java:56)\n    at io.dexi.paypal.PaypalService.doDirectPayment(PaypalService.java:73)\n    at io.dexi.paypal.PaypalServiceTest.shouldDoASuccessfullDirectPayment(PaypalServiceTest.java:15)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:45)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:42)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:68)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:47)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:300)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:157)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\nCaused by: com.paypal.sdk.exceptions.FatalException: HTTP Error code 400 received, transaction not submitted\n    at com.paypal.sdk.core.nvp.NVPAPICaller.call(NVPAPICaller.java:355)\n    ... 25 more\n</code></pre>\n<p>I will appreciate any help or guide in solving this issue.</p>\n<p>Regards,\nRando.</p>\n"},{"tags":["java","httprequest"],"comments":[{"owner":{"account_id":1590699,"reputation":3309,"user_id":1474069,"accept_rate":80,"display_name":"Carlitos Way"},"score":0,"creation_date":1636041290,"post_id":69840312,"comment_id":123457143,"body_markdown":"What happen if you use other HTTP clients to send your request? For example, POST-man (or any other REST client) ...","body":"What happen if you use other HTTP clients to send your request? For example, POST-man (or any other REST client) ..."},{"owner":{"account_id":14157568,"reputation":43,"user_id":10227755,"display_name":"yuan"},"score":0,"creation_date":1636075482,"post_id":69840312,"comment_id":123467218,"body_markdown":"I tried postman and curl and they both succeeded.","body":"I tried postman and curl and they both succeeded."}],"answers":[{"tags":[],"owner":{"account_id":1590699,"reputation":3309,"user_id":1474069,"accept_rate":80,"display_name":"Carlitos Way"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636044284,"creation_date":1636044284,"answer_id":69842878,"question_id":69840312,"body_markdown":"I&#39;ve found very interesting your question. First time that I heard about such header `Expect` ... After read about it, using these links:\r\n\r\n 1. [Expect Header][1] \r\n 2. [Continue-100 Response][2] \r\n 3. [Expect Headerpurpose/use][3]\r\n 4. [Expect header in ASP net][4]\r\n\r\nMy conclusion is that `aps.net-based web service` is expecting such header ... if you don&#39;t send it, the service (or in this case, the application server), instead of sending a HTTP Error code, drops the established connection and you end getting a SocketTimeoutException when reading any response (**NOTE**: this is just speculative. Using other HTTP clients and network sniffers can clarify this more) ...\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Expect\r\n  [2]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/100\r\n  [3]: https://dzone.com/articles/100-continue-support-play\r\n  [4]: https://stackoverflow.com/a/984553/1474069","title":"Why does the SocketTimeoutException error disappear after adding the expect: 100-continue request header","body":"<p>I've found very interesting your question. First time that I heard about such header <code>Expect</code> ... After read about it, using these links:</p>\n<ol>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Expect\" rel=\"nofollow noreferrer\">Expect Header</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/100\" rel=\"nofollow noreferrer\">Continue-100 Response</a></li>\n<li><a href=\"https://dzone.com/articles/100-continue-support-play\" rel=\"nofollow noreferrer\">Expect Headerpurpose/use</a></li>\n<li><a href=\"https://stackoverflow.com/a/984553/1474069\">Expect header in ASP net</a></li>\n</ol>\n<p>My conclusion is that <code>aps.net-based web service</code> is expecting such header ... if you don't send it, the service (or in this case, the application server), instead of sending a HTTP Error code, drops the established connection and you end getting a SocketTimeoutException when reading any response (<strong>NOTE</strong>: this is just speculative. Using other HTTP clients and network sniffers can clarify this more) ...</p>\n"}],"owner":{"account_id":14157568,"reputation":43,"user_id":10227755,"display_name":"yuan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":457,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1636044284,"creation_date":1636033944,"question_id":69840312,"body_markdown":"I encountered a SocketTimeoutException error while using the apache http client, but after adding request header **expect: 100-continue**, the request was successful. I repeat the request many times and the result is the same.\r\n\r\nHere are my http request info:\r\n&gt; Post method\r\n\r\n&gt; Content-Type: application/json\r\n\r\n&gt; Content-Length: 1277\r\n\r\n&gt; my service type: spring-based web service\r\n\r\n&gt; their service type: aps.net-based web service\r\n\r\nBelow is the error log:\r\n```\r\njava.net.SocketTimeoutException : Read timed out\r\n\tat java.net.SocketInputStream.socketRead0(Native Method)\r\n \tat java.net.SocketInputStream.socketRead(SocketInputStream.java:116)\r\n \tat java.net.SocketInputStream.read(SocketInputStream.java:171)\r\n \tat java.net.SocketInputStream.read(SocketInputStream.java:141)\r\n \tat org.apache.http.impl.io.SessionInputBufferImpl.streamRead(SessionInputBufferImpl.java:137)\r\n \tat org.apache.http.impl.io.SessionInputBufferImpl.fillBuffer(SessionInputBufferImpl.java:153)\r\n \tat org.apache.http.impl.io.SessionInputBufferImpl.readLine(SessionInputBufferImpl.java:282)\r\n \tat org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:138)\r\n \tat org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:56)\r\n \tat org.apache.http.impl.io.AbstractMessageParser.parse(AbstractMessageParser.java:259)\r\n \tat org.apache.http.impl.DefaultBHttpClientConnection.receiveResponseHeader(DefaultBHttpClientConnection.java:163)\r\n \tat org.apache.http.impl.conn.CPoolProxy.receiveResponseHeader(CPoolProxy.java:165)\r\n \tat org.apache.http.protocol.HttpRequestExecutor.doReceiveResponse(HttpRequestExecutor.java:273)\r\n \tat org.apache.http.protocol.HttpRequestExecutor.execute(HttpRequestExecutor.java:125)\r\n \tat org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:272)\r\n \tat org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:185)\r\n \tat org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)\r\n \tat org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\r\n \tat org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\r\n \tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\r\n \tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108)\r\n```\r\n\r\nI know that after adding the request header **expect: 100-continue**, an http request will be sent before the real http request. But I can&#39;t understand why this header can solve my SocketTimeoutException error. Help me, thanks.","title":"Why does the SocketTimeoutException error disappear after adding the expect: 100-continue request header","body":"<p>I encountered a SocketTimeoutException error while using the apache http client, but after adding request header <strong>expect: 100-continue</strong>, the request was successful. I repeat the request many times and the result is the same.</p>\n<p>Here are my http request info:</p>\n<blockquote>\n<p>Post method</p>\n</blockquote>\n<blockquote>\n<p>Content-Type: application/json</p>\n</blockquote>\n<blockquote>\n<p>Content-Length: 1277</p>\n</blockquote>\n<blockquote>\n<p>my service type: spring-based web service</p>\n</blockquote>\n<blockquote>\n<p>their service type: aps.net-based web service</p>\n</blockquote>\n<p>Below is the error log:</p>\n<pre><code>java.net.SocketTimeoutException : Read timed out\n    at java.net.SocketInputStream.socketRead0(Native Method)\n    at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)\n    at java.net.SocketInputStream.read(SocketInputStream.java:171)\n    at java.net.SocketInputStream.read(SocketInputStream.java:141)\n    at org.apache.http.impl.io.SessionInputBufferImpl.streamRead(SessionInputBufferImpl.java:137)\n    at org.apache.http.impl.io.SessionInputBufferImpl.fillBuffer(SessionInputBufferImpl.java:153)\n    at org.apache.http.impl.io.SessionInputBufferImpl.readLine(SessionInputBufferImpl.java:282)\n    at org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:138)\n    at org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:56)\n    at org.apache.http.impl.io.AbstractMessageParser.parse(AbstractMessageParser.java:259)\n    at org.apache.http.impl.DefaultBHttpClientConnection.receiveResponseHeader(DefaultBHttpClientConnection.java:163)\n    at org.apache.http.impl.conn.CPoolProxy.receiveResponseHeader(CPoolProxy.java:165)\n    at org.apache.http.protocol.HttpRequestExecutor.doReceiveResponse(HttpRequestExecutor.java:273)\n    at org.apache.http.protocol.HttpRequestExecutor.execute(HttpRequestExecutor.java:125)\n    at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:272)\n    at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:185)\n    at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)\n    at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\n    at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108)\n</code></pre>\n<p>I know that after adding the request header <strong>expect: 100-continue</strong>, an http request will be sent before the real http request. But I can't understand why this header can solve my SocketTimeoutException error. Help me, thanks.</p>\n"},{"tags":["java","android","android-webview"],"answers":[{"tags":[],"owner":{"account_id":23004160,"reputation":171,"user_id":17127720,"display_name":"Litu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636044252,"creation_date":1635942897,"answer_id":69824943,"question_id":69824804,"body_markdown":"I think this code will help you to solve your problems.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.swiperefreshlayout.widget.SwipeRefreshLayout\r\n         android:id=&quot;@+id/swipe&quot;\r\n         android:layout_width=&quot;match_parent&quot;\r\n         android:layout_height=&quot;match_parent&quot;&gt;\r\n    &lt;androidx.core.widget.NestedScrollView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;LinearLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n            &lt;WebView\r\n                android:id=&quot;@+id/activity_main_webview&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n    &lt;/androidx.core.widget.NestedScrollView&gt;\r\n    &lt;/androidx.swiperefreshlayout.widget.SwipeRefreshLayout&gt;","title":"WebView can&#39;t scroll down in SwipeRefreshLayout","body":"<p>I think this code will help you to solve your problems.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.swiperefreshlayout.widget.SwipeRefreshLayout\n     android:id=&quot;@+id/swipe&quot;\n     android:layout_width=&quot;match_parent&quot;\n     android:layout_height=&quot;match_parent&quot;&gt;\n&lt;androidx.core.widget.NestedScrollView\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n&lt;LinearLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n        &lt;WebView\n            android:id=&quot;@+id/activity_main_webview&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot; /&gt;\n&lt;/LinearLayout&gt;\n&lt;/androidx.core.widget.NestedScrollView&gt;\n&lt;/androidx.swiperefreshlayout.widget.SwipeRefreshLayout&gt;\n</code></pre>\n"}],"owner":{"account_id":22767323,"reputation":3,"user_id":16925180,"display_name":"Mangetsu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636044252,"creation_date":1635942339,"question_id":69824804,"body_markdown":"I have a webview and want it to be able refresh went i swipe it. It works and can refresh the page. But the problem is when I scroll down the page, it always trigger to refresh not to go upper page. This is my Activity.java\r\n```\r\npublic class MainActivity extends Activity {\r\n\r\n    private WebView mWebView;\r\n    private static final String TAG = MainActivity.class.getSimpleName();\r\n    public SwipeRefreshLayout swipeRefreshLayout;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        mWebView = findViewById(R.id.activity_main_webview);\r\n        WebSettings webSettings = mWebView.getSettings();\r\n        webSettings.setJavaScriptEnabled(true);\r\n        mWebView.setWebViewClient(new MyWebViewClient());\r\n        swipeRefreshLayout = (SwipeRefreshLayout)this.findViewById(R.id.swipe);\r\n        mWebView.loadUrl(&quot;https://hkmu.comercio.co.id&quot;);\r\n...\r\n        mWebView.getViewTreeObserver().addOnScrollChangedListener(new ViewTreeObserver.OnScrollChangedListener() {\r\n            @Override\r\n            public void onScrollChanged() {\r\n                if(mWebView.getScrollY()==0){\r\n                    swipeRefreshLayout.setEnabled(true);\r\n                }else{\r\n                    swipeRefreshLayout.setEnabled(false);\r\n                }\r\n            }\r\n        }); \r\n\r\n        swipeRefreshLayout.setOnRefreshListener(new SwipeRefreshLayout.OnRefreshListener() {\r\n            @Override\r\n            public void onRefresh() {\r\n                swipeRefreshLayout.setRefreshing(true);\r\n                new Handler().postDelayed(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        swipeRefreshLayout.setRefreshing(false);\r\n                        mWebView.reload();\r\n                    }\r\n                }, 2000);\r\n            }\r\n        });\r\n        swipeRefreshLayout.setColorSchemeColors(\r\n                getResources().getColor(android.R.color.holo_blue_dark),\r\n                getResources().getColor(android.R.color.holo_orange_dark),\r\n                getResources().getColor(android.R.color.holo_green_dark),\r\n                getResources().getColor(android.R.color.holo_red_dark)\r\n        );\r\n```\r\n\r\nand this is my activity_main.xml\r\n```\r\n&lt;LinearLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n    &lt;androidx.swiperefreshlayout.widget.SwipeRefreshLayout\r\n        android:id=&quot;@+id/swipe&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n        &lt;WebView\r\n            android:id=&quot;@+id/activity_main_webview&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot; /&gt;\r\n    &lt;/androidx.swiperefreshlayout.widget.SwipeRefreshLayout&gt;\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\nI know maybe my question is duplicate, I&#39;ve already search it but I&#39;m still stucked and those answer doesn&#39;t work for me \r\n\r\n# EDIT 1 #\r\nI&#39;m already change my code like this\r\n```\r\npublic class MainActivity extends Activity {\r\n\r\n    private WebView mWebView;\r\n    private static final String TAG = MainActivity.class.getSimpleName();\r\n    public SwipeRefreshLayout swipeRefreshLayout;\r\n    private ViewTreeObserver.OnScrollChangedListener mOnScrollChangedListener;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        mWebView = findViewById(R.id.activity_main_webview);\r\n        WebSettings webSettings = mWebView.getSettings();\r\n        webSettings.setJavaScriptEnabled(true);\r\n        mWebView.setWebViewClient(new MyWebViewClient());\r\n        swipeRefreshLayout = (SwipeRefreshLayout)this.findViewById(R.id.swipe);\r\n        mWebView.loadUrl(&quot;https://hkmu.comercio.co.id&quot;);\r\n...\r\n        swipeRefreshLayout.setOnRefreshListener(new SwipeRefreshLayout.OnRefreshListener() {\r\n            @Override\r\n            public void onRefresh() {\r\n                swipeRefreshLayout.setRefreshing(true);\r\n                new Handler().postDelayed(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        swipeRefreshLayout.setRefreshing(false);\r\n                        mWebView.reload();\r\n                    }\r\n                }, 2000);\r\n            }\r\n        });\r\n        swipeRefreshLayout.setColorSchemeColors(\r\n                getResources().getColor(android.R.color.holo_blue_dark),\r\n                getResources().getColor(android.R.color.holo_orange_dark),\r\n                getResources().getColor(android.R.color.holo_green_dark),\r\n                getResources().getColor(android.R.color.holo_red_dark)\r\n        );\r\n        @Override\r\n        public void onStart() {\r\n            super.onStart();\r\n\r\n            swipeRefreshLayout.getViewTreeObserver().addOnScrollChangedListener(mOnScrollChangedListener =\r\n                new ViewTreeObserver.OnScrollChangedListener() {\r\n                    @Override\r\n                    public void onScrollChanged() {\r\n                        if (mWebView.getScrollY() == -1)\r\n                            swipeRefreshLayout.setEnabled(true);\r\n                        else\r\n                            swipeRefreshLayout.setEnabled(false);\r\n\r\n                    }\r\n                });\r\n            swipeRefreshLayout.getViewTreeObserver().addOnScrollChangedListener(mOnScrollChangedListener);\r\n        }\r\n\r\n        @Override\r\n        public void onStop() {\r\n        swipeRefreshLayout.getViewTreeObserver().removeOnScrollChangedListener(mOnScrollChangedListener);\r\n        super.onStop();\r\n        }\r\n```\r\n\r\nIt works on some website, but in my web that based on Odoo it still can&#39;t work","title":"WebView can&#39;t scroll down in SwipeRefreshLayout","body":"<p>I have a webview and want it to be able refresh went i swipe it. It works and can refresh the page. But the problem is when I scroll down the page, it always trigger to refresh not to go upper page. This is my Activity.java</p>\n<pre><code>public class MainActivity extends Activity {\n\n    private WebView mWebView;\n    private static final String TAG = MainActivity.class.getSimpleName();\n    public SwipeRefreshLayout swipeRefreshLayout;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        mWebView = findViewById(R.id.activity_main_webview);\n        WebSettings webSettings = mWebView.getSettings();\n        webSettings.setJavaScriptEnabled(true);\n        mWebView.setWebViewClient(new MyWebViewClient());\n        swipeRefreshLayout = (SwipeRefreshLayout)this.findViewById(R.id.swipe);\n        mWebView.loadUrl(&quot;https://hkmu.comercio.co.id&quot;);\n...\n        mWebView.getViewTreeObserver().addOnScrollChangedListener(new ViewTreeObserver.OnScrollChangedListener() {\n            @Override\n            public void onScrollChanged() {\n                if(mWebView.getScrollY()==0){\n                    swipeRefreshLayout.setEnabled(true);\n                }else{\n                    swipeRefreshLayout.setEnabled(false);\n                }\n            }\n        }); \n\n        swipeRefreshLayout.setOnRefreshListener(new SwipeRefreshLayout.OnRefreshListener() {\n            @Override\n            public void onRefresh() {\n                swipeRefreshLayout.setRefreshing(true);\n                new Handler().postDelayed(new Runnable() {\n                    @Override\n                    public void run() {\n                        swipeRefreshLayout.setRefreshing(false);\n                        mWebView.reload();\n                    }\n                }, 2000);\n            }\n        });\n        swipeRefreshLayout.setColorSchemeColors(\n                getResources().getColor(android.R.color.holo_blue_dark),\n                getResources().getColor(android.R.color.holo_orange_dark),\n                getResources().getColor(android.R.color.holo_green_dark),\n                getResources().getColor(android.R.color.holo_red_dark)\n        );\n</code></pre>\n<p>and this is my activity_main.xml</p>\n<pre><code>&lt;LinearLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n    &lt;androidx.swiperefreshlayout.widget.SwipeRefreshLayout\n        android:id=&quot;@+id/swipe&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n        &lt;WebView\n            android:id=&quot;@+id/activity_main_webview&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot; /&gt;\n    &lt;/androidx.swiperefreshlayout.widget.SwipeRefreshLayout&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>I know maybe my question is duplicate, I've already search it but I'm still stucked and those answer doesn't work for me</p>\n<h1>EDIT 1</h1>\n<p>I'm already change my code like this</p>\n<pre><code>public class MainActivity extends Activity {\n\n    private WebView mWebView;\n    private static final String TAG = MainActivity.class.getSimpleName();\n    public SwipeRefreshLayout swipeRefreshLayout;\n    private ViewTreeObserver.OnScrollChangedListener mOnScrollChangedListener;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        mWebView = findViewById(R.id.activity_main_webview);\n        WebSettings webSettings = mWebView.getSettings();\n        webSettings.setJavaScriptEnabled(true);\n        mWebView.setWebViewClient(new MyWebViewClient());\n        swipeRefreshLayout = (SwipeRefreshLayout)this.findViewById(R.id.swipe);\n        mWebView.loadUrl(&quot;https://hkmu.comercio.co.id&quot;);\n...\n        swipeRefreshLayout.setOnRefreshListener(new SwipeRefreshLayout.OnRefreshListener() {\n            @Override\n            public void onRefresh() {\n                swipeRefreshLayout.setRefreshing(true);\n                new Handler().postDelayed(new Runnable() {\n                    @Override\n                    public void run() {\n                        swipeRefreshLayout.setRefreshing(false);\n                        mWebView.reload();\n                    }\n                }, 2000);\n            }\n        });\n        swipeRefreshLayout.setColorSchemeColors(\n                getResources().getColor(android.R.color.holo_blue_dark),\n                getResources().getColor(android.R.color.holo_orange_dark),\n                getResources().getColor(android.R.color.holo_green_dark),\n                getResources().getColor(android.R.color.holo_red_dark)\n        );\n        @Override\n        public void onStart() {\n            super.onStart();\n\n            swipeRefreshLayout.getViewTreeObserver().addOnScrollChangedListener(mOnScrollChangedListener =\n                new ViewTreeObserver.OnScrollChangedListener() {\n                    @Override\n                    public void onScrollChanged() {\n                        if (mWebView.getScrollY() == -1)\n                            swipeRefreshLayout.setEnabled(true);\n                        else\n                            swipeRefreshLayout.setEnabled(false);\n\n                    }\n                });\n            swipeRefreshLayout.getViewTreeObserver().addOnScrollChangedListener(mOnScrollChangedListener);\n        }\n\n        @Override\n        public void onStop() {\n        swipeRefreshLayout.getViewTreeObserver().removeOnScrollChangedListener(mOnScrollChangedListener);\n        super.onStop();\n        }\n</code></pre>\n<p>It works on some website, but in my web that based on Odoo it still can't work</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":18687930,"reputation":325,"user_id":13622993,"display_name":"Nakarukatoshi Uzumaki"},"score":5,"creation_date":1636040887,"post_id":69841723,"comment_id":123456964,"body_markdown":"If it&#39;s something common to every child, why don&#39;t you declare it on the parent?","body":"If it&#39;s something common to every child, why don&#39;t you declare it on the parent?"}],"answers":[{"tags":[],"owner":{"account_id":22491103,"reputation":5310,"user_id":16688813,"display_name":"Tom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636040105,"creation_date":1636040105,"answer_id":69841815,"question_id":69841723,"body_markdown":"Why don&#39;t you declare `getKind()` and `getKindID()` in the parent interface ? Both child interfaces will inherit of these methods.\r\n\r\n    public interface IParent   {\r\n        @Nonnull\r\n        IParent getKind ();\r\n    \r\n        @Nonnull\r\n        @Nonempty\r\n        default String getKindID ()\r\n        {\r\n            return getKind().getID ();\r\n        }\r\n    }\r\n\r\n    public interface IClassA extends IParent {}\r\n\r\n    public interface IClassB extends IParent {}","title":"Same methods in children, not in Parent","body":"<p>Why don't you declare <code>getKind()</code> and <code>getKindID()</code> in the parent interface ? Both child interfaces will inherit of these methods.</p>\n<pre><code>public interface IParent   {\n    @Nonnull\n    IParent getKind ();\n\n    @Nonnull\n    @Nonempty\n    default String getKindID ()\n    {\n        return getKind().getID ();\n    }\n}\n\npublic interface IClassA extends IParent {}\n\npublic interface IClassB extends IParent {}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3024120,"reputation":3293,"user_id":2564509,"display_name":"djm.im"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636041545,"creation_date":1636041205,"answer_id":69842108,"question_id":69841723,"body_markdown":"It looks that you have an issue with `IClassAKind` and `IClassBKind`. So, I think you need something like this \r\n\r\n    public interface IClassKind {\r\n        IClassKind getKind();\r\n    }\r\n    \r\n    class IClassAKind implements IClassKind {\r\n    \r\n        @Override\r\n        public IClassAKind getKind() {\r\n            // return A-Kind object\r\n        }\r\n    }\r\n    \r\n    class IClassBKind implements IClassKind {\r\n    \r\n        @Override\r\n        public IClassBKind getKind() {\r\n            // return B-Kind object\r\n        }\r\n    }\r\n\r\nSo, after his change, your could will be without any casting \r\n\r\n    IParent aCurrentObject = getImplementation();\r\n    IClassKind kind = kind = aCurrentObject.getKind();\r\n\r\nAlso, need to update `IClassA` and `IClassB` to use the interface `IClassKind` instead of a concrete class. For example \r\n\r\n\r\n    public interface IClassA extends IParent {\r\n    \r\n        @Nonnull\r\n        IClassKind getKind();\r\n        \r\n        // ... \r\n    }","title":"Same methods in children, not in Parent","body":"<p>It looks that you have an issue with <code>IClassAKind</code> and <code>IClassBKind</code>. So, I think you need something like this</p>\n<pre><code>public interface IClassKind {\n    IClassKind getKind();\n}\n\nclass IClassAKind implements IClassKind {\n\n    @Override\n    public IClassAKind getKind() {\n        // return A-Kind object\n    }\n}\n\nclass IClassBKind implements IClassKind {\n\n    @Override\n    public IClassBKind getKind() {\n        // return B-Kind object\n    }\n}\n</code></pre>\n<p>So, after his change, your could will be without any casting</p>\n<pre><code>IParent aCurrentObject = getImplementation();\nIClassKind kind = kind = aCurrentObject.getKind();\n</code></pre>\n<p>Also, need to update <code>IClassA</code> and <code>IClassB</code> to use the interface <code>IClassKind</code> instead of a concrete class. For example</p>\n<pre><code>public interface IClassA extends IParent {\n\n    @Nonnull\n    IClassKind getKind();\n    \n    // ... \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2338728,"reputation":54,"user_id":2050494,"display_name":"Yasser"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1636041645,"creation_date":1636041645,"answer_id":69842213,"question_id":69841723,"body_markdown":"Try using generics as the following:\r\n\r\n    public interface IParent&lt;T&gt; {\r\n    \tT getKind();\r\n    }\r\n\r\n&gt; IClassA \r\n\r\n    public interface IClassA extends IParent&lt;IClassAKind&gt; {\r\n        @Nonnull\r\n        @Nonempty\r\n        default String getKindID ()\r\n        {\r\n            return getKind().getID ();\r\n        }\r\n    }\r\n\r\n&gt; IClassB\r\n\r\n    public interface IClassB extends IParent&lt;IClassBKind&gt; {\r\n        @Nonnull\r\n        @Nonempty\r\n        default String getKindID ()\r\n        {\r\n            return getKind().getID();\r\n        }\r\n    }\r\n\r\n\r\n","title":"Same methods in children, not in Parent","body":"<p>Try using generics as the following:</p>\n<pre><code>public interface IParent&lt;T&gt; {\n    T getKind();\n}\n</code></pre>\n<blockquote>\n<p>IClassA</p>\n</blockquote>\n<pre><code>public interface IClassA extends IParent&lt;IClassAKind&gt; {\n    @Nonnull\n    @Nonempty\n    default String getKindID ()\n    {\n        return getKind().getID ();\n    }\n}\n</code></pre>\n<blockquote>\n<p>IClassB</p>\n</blockquote>\n<pre><code>public interface IClassB extends IParent&lt;IClassBKind&gt; {\n    @Nonnull\n    @Nonempty\n    default String getKindID ()\n    {\n        return getKind().getID();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636043533,"creation_date":1636043533,"answer_id":69842688,"question_id":69841723,"body_markdown":"No, as you designed it, java intentionally doesn&#39;t offer anything. There&#39;s a good reason for that. I changed some names but other than that, the code below is __identical__ to what you have:\r\n\r\n```\r\ninterface HandheldObject {}\r\n\r\ninterface Gun implements HandheldObject {\r\n  void shoot(Person p);\r\n}\r\n\r\ninterface Camera implements HandheldObject {\r\n  void shoot(Person p);\r\n}\r\n```\r\n\r\nIf java makes it easy to call a shoot(Person) method if it exists, then you will definitely end up killing somebody by accident. That would be bad. Hence, __nope, you can&#39;t do that, and that&#39;s a good thing__.\r\n\r\nThe specific principle at work here is that fields and methods aren&#39;t &#39;defined&#39; by their name alone; they are defined by not just their name but also the fully qualified name of the type that defines them. The actual name of a shoot method in the example above is `com.foo.pkgThatStuffIsIn.Gun.shoot(Person)` - and thus confusion is impossible. There&#39;s no way that fully qualified affair is going to accidentally conflict with something completely different.\r\n\r\nThe alternative (&#39;just call `shoot` if it exists&#39;) is called structural typing and it&#39;s not a property java has (intentionally). In languages like python or javascript, you really can write the java equivalent of:\r\n\r\n```\r\nObject o = ....;\r\no.shoot(myFriend);\r\n```\r\n\r\nand if o happens to be a camera, that&#39;ll make a picture, if it happens to be a gun, uhoh, and if it&#39;s something else, you get an error at runtime that &#39;shoot&#39; isn&#39;t a thing. Java just doesn&#39;t &#39;do&#39; structural typing like this. Some hybrid languages (like scala) let you create an ersatz type that implies &#39;anything that has a shoot(Person) method&#39;, but java isn&#39;t one of those.\r\n\r\n## Solution\r\n\r\nThe java way to solve this problem is to roll with it: Make a type. In my example, Camera&#39;s shoot and Gun&#39;s shoot are utterly unrelated; the fact that their method names are identical is just a weird coincidence in the english language. There shouldn&#39;t _be_ a solution and fortunately there isn&#39;t. But in your example, perhaps `IClassAKind`&#39;s `getKind()` method and `IClassBKind`&#39;s `getKind()` method __are__ related. That is:\r\n\r\n* They mean, semantically, the same thing.\r\n* The author of IClassAKind and the author of IClassBKind are aware of this and intended it to mean the same thing. In addition they know that it has to mean the same thing in the future too: They are ready to promise that future updates won&#39;t change this, and if they do change this, they will mark the new version as backwards incompatible.\r\n\r\nIf that is the case, then the general concept of this getKind stuff is expressible on its own, so do that:\r\n\r\n```\r\npublic interface IParent {}\r\n\r\npublic abstract class Kind { ... }\r\n\r\npublic interface Kinded {\r\n  @Nonnull\r\n  Kind getKind();\r\n\r\n  @Nonnull @Nonempty\r\n  default String getKindId() {\r\n    return getKind.getId();\r\n  }\r\n}\r\n\r\npublic interface IClassA extends IParent, Kinded {}\r\n\r\npublic interface IClassB extends IParent, Kinded {}\r\n``` \r\n\r\n\r\nYou didn&#39;t explain what the actual underlying model of any of this is, so that&#39;s just so you get the idea. Perhaps `Kinded` should be defined as `interface Kinded implements IParent`. It&#39;s also possible you definition of `Kind` needs some methods, and it&#39;s even possibly you want a specific subtype of IParent to come with a more specific kind of &#39;Kind&#39;, and involve some self-referential generics to sort this out. Self-ref generics gets a bit complicated, as you are now trying to establish a link between the `IClassA` and `ClassAKind` types. As a simple example, a single type having this loop:\r\n\r\n```\r\ninterface Foobar&lt;A extends Foobar&lt;A&gt;&gt; {\r\n  A returnSelf();\r\n\r\n  public default A name(String name);\r\n}\r\n\r\n// can be implemented:\r\n\r\nclass SpecificFoobar extends Foobar&lt;SpecificFoobar&gt; {\r\n  SpecificFoobar returnSelf() {\r\n    return this;\r\n  }\r\n\r\n  // ...\r\n}\r\n```\r\n\r\nand this lets you do stuff like:\r\n\r\n```\r\nSpecificFoobar sf = new SpecificFoobar().name(&quot;Hello&quot;);\r\n```\r\n\r\nwithout the generics that wouldn&#39;t compile (the `name` impl might `return this;` but if the Foobar interface defines it as `public Foobar name(String name);` then javac doesn&#39;t know that, it only knows that it returns `Foobar`, not `SpecificFoobar`.\r\n\r\nIf this all sounds complicated to you, and the first snippet I showed is good enough, then forget about this. As I said, it&#39;s a bit complicated; generics can be like that.\r\n","title":"Same methods in children, not in Parent","body":"<p>No, as you designed it, java intentionally doesn't offer anything. There's a good reason for that. I changed some names but other than that, the code below is <strong>identical</strong> to what you have:</p>\n<pre><code>interface HandheldObject {}\n\ninterface Gun implements HandheldObject {\n  void shoot(Person p);\n}\n\ninterface Camera implements HandheldObject {\n  void shoot(Person p);\n}\n</code></pre>\n<p>If java makes it easy to call a shoot(Person) method if it exists, then you will definitely end up killing somebody by accident. That would be bad. Hence, <strong>nope, you can't do that, and that's a good thing</strong>.</p>\n<p>The specific principle at work here is that fields and methods aren't 'defined' by their name alone; they are defined by not just their name but also the fully qualified name of the type that defines them. The actual name of a shoot method in the example above is <code>com.foo.pkgThatStuffIsIn.Gun.shoot(Person)</code> - and thus confusion is impossible. There's no way that fully qualified affair is going to accidentally conflict with something completely different.</p>\n<p>The alternative ('just call <code>shoot</code> if it exists') is called structural typing and it's not a property java has (intentionally). In languages like python or javascript, you really can write the java equivalent of:</p>\n<pre><code>Object o = ....;\no.shoot(myFriend);\n</code></pre>\n<p>and if o happens to be a camera, that'll make a picture, if it happens to be a gun, uhoh, and if it's something else, you get an error at runtime that 'shoot' isn't a thing. Java just doesn't 'do' structural typing like this. Some hybrid languages (like scala) let you create an ersatz type that implies 'anything that has a shoot(Person) method', but java isn't one of those.</p>\n<h2>Solution</h2>\n<p>The java way to solve this problem is to roll with it: Make a type. In my example, Camera's shoot and Gun's shoot are utterly unrelated; the fact that their method names are identical is just a weird coincidence in the english language. There shouldn't <em>be</em> a solution and fortunately there isn't. But in your example, perhaps <code>IClassAKind</code>'s <code>getKind()</code> method and <code>IClassBKind</code>'s <code>getKind()</code> method <strong>are</strong> related. That is:</p>\n<ul>\n<li>They mean, semantically, the same thing.</li>\n<li>The author of IClassAKind and the author of IClassBKind are aware of this and intended it to mean the same thing. In addition they know that it has to mean the same thing in the future too: They are ready to promise that future updates won't change this, and if they do change this, they will mark the new version as backwards incompatible.</li>\n</ul>\n<p>If that is the case, then the general concept of this getKind stuff is expressible on its own, so do that:</p>\n<pre><code>public interface IParent {}\n\npublic abstract class Kind { ... }\n\npublic interface Kinded {\n  @Nonnull\n  Kind getKind();\n\n  @Nonnull @Nonempty\n  default String getKindId() {\n    return getKind.getId();\n  }\n}\n\npublic interface IClassA extends IParent, Kinded {}\n\npublic interface IClassB extends IParent, Kinded {}\n</code></pre>\n<p>You didn't explain what the actual underlying model of any of this is, so that's just so you get the idea. Perhaps <code>Kinded</code> should be defined as <code>interface Kinded implements IParent</code>. It's also possible you definition of <code>Kind</code> needs some methods, and it's even possibly you want a specific subtype of IParent to come with a more specific kind of 'Kind', and involve some self-referential generics to sort this out. Self-ref generics gets a bit complicated, as you are now trying to establish a link between the <code>IClassA</code> and <code>ClassAKind</code> types. As a simple example, a single type having this loop:</p>\n<pre><code>interface Foobar&lt;A extends Foobar&lt;A&gt;&gt; {\n  A returnSelf();\n\n  public default A name(String name);\n}\n\n// can be implemented:\n\nclass SpecificFoobar extends Foobar&lt;SpecificFoobar&gt; {\n  SpecificFoobar returnSelf() {\n    return this;\n  }\n\n  // ...\n}\n</code></pre>\n<p>and this lets you do stuff like:</p>\n<pre><code>SpecificFoobar sf = new SpecificFoobar().name(&quot;Hello&quot;);\n</code></pre>\n<p>without the generics that wouldn't compile (the <code>name</code> impl might <code>return this;</code> but if the Foobar interface defines it as <code>public Foobar name(String name);</code> then javac doesn't know that, it only knows that it returns <code>Foobar</code>, not <code>SpecificFoobar</code>.</p>\n<p>If this all sounds complicated to you, and the first snippet I showed is good enough, then forget about this. As I said, it's a bit complicated; generics can be like that.</p>\n"}],"owner":{"account_id":151664,"reputation":1175,"user_id":365688,"accept_rate":76,"display_name":"Dvora"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":69842108,"answer_count":4,"score":2,"last_activity_date":1636044181,"creation_date":1636039700,"question_id":69841723,"body_markdown":"I have an interface, such as:\r\n\r\n    public interface IParent   {\r\n    }\r\n\r\nAnd then:\r\n\r\n    public interface IClassA extends IParent {\r\n    \r\n        @Nonnull\r\n        IClassAKind getKind ();\r\n    \r\n    \r\n        @Nonnull\r\n        @Nonempty\r\n        default String getKindID ()\r\n        {\r\n            return getKind ().getID ();\r\n        }\r\n    }\r\n\r\nAnd a second one similar:\r\n\r\n    public interface IClassB extends Parant {\r\n        \r\n        @Nonnull\r\n        IClassBKind getKind ();\r\n      \r\n        @Nonnull\r\n        @Nonempty\r\n        default String getKindID ()\r\n        {\r\n            return getKind ().getID ();\r\n        } \r\n    }\r\n\r\nSo both child interfaces have the same methods, but not the parent.\r\n\r\nThe issue is when I have an instance, that can be of any type, but I want to call the `getKind()`.\r\n\r\nAs for now I do:\r\n\r\n \r\n\r\n    IParent  aCurrentObject = getImplementation();\r\n    IClassKind kind = null;\r\n    if(aCurrentObject instanceof IClassA){\r\n        kind = ((IClassA) aCurrentObject).getKind();\r\n    } else {\r\n        kind = ((IClassB) aCurrentObject).getKind();\r\n    }\r\n\r\nI&#39;m doing these `if` and  casing too many times in the code. \r\nAny idea how to make it nicer?","title":"Same methods in children, not in Parent","body":"<p>I have an interface, such as:</p>\n<pre><code>public interface IParent   {\n}\n</code></pre>\n<p>And then:</p>\n<pre><code>public interface IClassA extends IParent {\n\n    @Nonnull\n    IClassAKind getKind ();\n\n\n    @Nonnull\n    @Nonempty\n    default String getKindID ()\n    {\n        return getKind ().getID ();\n    }\n}\n</code></pre>\n<p>And a second one similar:</p>\n<pre><code>public interface IClassB extends Parant {\n    \n    @Nonnull\n    IClassBKind getKind ();\n  \n    @Nonnull\n    @Nonempty\n    default String getKindID ()\n    {\n        return getKind ().getID ();\n    } \n}\n</code></pre>\n<p>So both child interfaces have the same methods, but not the parent.</p>\n<p>The issue is when I have an instance, that can be of any type, but I want to call the <code>getKind()</code>.</p>\n<p>As for now I do:</p>\n<pre><code>IParent  aCurrentObject = getImplementation();\nIClassKind kind = null;\nif(aCurrentObject instanceof IClassA){\n    kind = ((IClassA) aCurrentObject).getKind();\n} else {\n    kind = ((IClassB) aCurrentObject).getKind();\n}\n</code></pre>\n<p>I'm doing these <code>if</code> and  casing too many times in the code.\nAny idea how to make it nicer?</p>\n"},{"tags":["java","spring-boot","htmlunit"],"comments":[{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1635878501,"post_id":69815173,"comment_id":123408894,"body_markdown":"What _do_ you get? Are you confirming that you&#39;re waiting for asynchronous things to happen? (I suggest considering Geb as a DSL on top of Selenium, as it makes sorting these things out easier.)","body":"What <i>do</i> you get? Are you confirming that you&#39;re waiting for asynchronous things to happen? (I suggest considering Geb as a DSL on top of Selenium, as it makes sorting these things out easier.)"},{"owner":{"account_id":23219799,"reputation":27,"user_id":17312230,"display_name":"trcon"},"score":0,"creation_date":1635879072,"post_id":69815173,"comment_id":123409091,"body_markdown":"Hi! I do get some HTML back, but it&#39;s essentially a plain HTML page telling me that I need to enable JavaScript. I tried to see if this was recreatable with a different page (this time the page for ASDA - it&#39;s for a uni project), and this time it tells me my browser is out of date. Kinda stuck here for ideas what to do. The context behind this is for web scraping for an android app, but Jsoup doesn&#39;t support JS I believe. I&#39;ll try the solution you provided!","body":"Hi! I do get some HTML back, but it&#39;s essentially a plain HTML page telling me that I need to enable JavaScript. I tried to see if this was recreatable with a different page (this time the page for ASDA - it&#39;s for a uni project), and this time it tells me my browser is out of date. Kinda stuck here for ideas what to do. The context behind this is for web scraping for an android app, but Jsoup doesn&#39;t support JS I believe. I&#39;ll try the solution you provided!"}],"answers":[{"tags":[],"owner":{"account_id":6163228,"reputation":2754,"user_id":4804091,"display_name":"RBRi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636044092,"creation_date":1636044092,"answer_id":69842820,"question_id":69815173,"body_markdown":"    WebResponse res = page.getWebResponse();\r\n    String html = res.getContentAsString();\r\n\r\nThis is the response (code) you got from the server. If you like to have the current DOM (the one after the js processing is done you can do something like\r\n\r\n    HtmlPage page = webClient.getPage(url);\r\n    webClient.waitForBackgroundJavaScript(60_000);\r\n\r\n    System.out.println(page.asXml());\r\n\r\nor\r\n\r\n    System.out.println(page.asNormalizedText());\r\n","title":"Problem with enabling JavaScript with HtmlUnit","body":"<pre><code>WebResponse res = page.getWebResponse();\nString html = res.getContentAsString();\n</code></pre>\n<p>This is the response (code) you got from the server. If you like to have the current DOM (the one after the js processing is done you can do something like</p>\n<pre><code>HtmlPage page = webClient.getPage(url);\nwebClient.waitForBackgroundJavaScript(60_000);\n\nSystem.out.println(page.asXml());\n</code></pre>\n<p>or</p>\n<pre><code>System.out.println(page.asNormalizedText());\n</code></pre>\n"}],"owner":{"account_id":23219799,"reputation":27,"user_id":17312230,"display_name":"trcon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":383,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1636044092,"creation_date":1635877024,"question_id":69815173,"body_markdown":"I&#39;m a newbie to HtmlUnit, and I&#39;m writing a demo script to load the source HTML of a webpage and write it to a txt file.\r\n\r\n    public static void main(String[] args) throws IOException {\r\n\t\ttry (final WebClient wc = new WebClient(BrowserVersion.BEST_SUPPORTED)) {\r\n\t\t\twc.getOptions().setThrowExceptionOnScriptError(false);\r\n\t\t\t\r\n\t\t\tfinal HtmlPage page = wc.getPage(&quot;https://www.sainsburys.co.uk/gol-ui/SearchResults/biscuits&quot;);\r\n\t\t\tWebResponse res = page.getWebResponse();\r\n\t\t\tString html = res.getContentAsString();\r\n\t\t\t\r\n\t\t\tFileWriter fw = new FileWriter(dir + &quot;/pageHtml.txt&quot;);\r\n\t\t\tfw.write(html);\r\n\t\t\tfw.close();\r\n\t\t}\r\n\t}\r\n\r\nHowever, it returns the HTML for disabled JavaScript. To try and fix this, I added this line to _ensure_ JS is enabled on the WebClient:\r\n\r\n    \r\n\t\t\twc.getOptions().setJavaScriptEnabled(true);\r\n\r\nDespite that, nothing changes. Am I being an idiot, or is there something more subtle that needs to change?\r\n\r\nThanks for any help! ^_^","title":"Problem with enabling JavaScript with HtmlUnit","body":"<p>I'm a newbie to HtmlUnit, and I'm writing a demo script to load the source HTML of a webpage and write it to a txt file.</p>\n<pre><code>public static void main(String[] args) throws IOException {\n    try (final WebClient wc = new WebClient(BrowserVersion.BEST_SUPPORTED)) {\n        wc.getOptions().setThrowExceptionOnScriptError(false);\n        \n        final HtmlPage page = wc.getPage(&quot;https://www.sainsburys.co.uk/gol-ui/SearchResults/biscuits&quot;);\n        WebResponse res = page.getWebResponse();\n        String html = res.getContentAsString();\n        \n        FileWriter fw = new FileWriter(dir + &quot;/pageHtml.txt&quot;);\n        fw.write(html);\n        fw.close();\n    }\n}\n</code></pre>\n<p>However, it returns the HTML for disabled JavaScript. To try and fix this, I added this line to <em>ensure</em> JS is enabled on the WebClient:</p>\n<pre><code>        wc.getOptions().setJavaScriptEnabled(true);\n</code></pre>\n<p>Despite that, nothing changes. Am I being an idiot, or is there something more subtle that needs to change?</p>\n<p>Thanks for any help! ^_^</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":33705,"reputation":59406,"user_id":94559,"display_name":"user94559"},"score":0,"creation_date":1465769485,"post_id":37779515,"comment_id":63026778,"body_markdown":"&quot;Doesn&#39;t seem to work&quot; isn&#39;t a great description of the problem. Is there an error? If so, what? Does the code run but have an unexpected result? If so, what were you expecting and what did you see?","body":"&quot;Doesn&#39;t seem to work&quot; isn&#39;t a great description of the problem. Is there an error? If so, what? Does the code run but have an unexpected result? If so, what were you expecting and what did you see?"},{"owner":{"account_id":8219605,"reputation":351,"user_id":6184647,"accept_rate":71,"display_name":"RealBadCoder"},"score":0,"creation_date":1465770127,"post_id":37779515,"comment_id":63026941,"body_markdown":"thx smarx, everything works except the conversion to bitmap. I think i&#39;m not getting the image view data right. Do you know how can I select the image data from it?","body":"thx smarx, everything works except the conversion to bitmap. I think i&#39;m not getting the image view data right. Do you know how can I select the image data from it?"},{"owner":{"account_id":33705,"reputation":59406,"user_id":94559,"display_name":"user94559"},"score":0,"creation_date":1465770405,"post_id":37779515,"comment_id":63027008,"body_markdown":"You still haven&#39;t described what&#39;s wrong. How do you *know* &quot;the conversion to bitmap&quot; isn&#39;t working?","body":"You still haven&#39;t described what&#39;s wrong. How do you <i>know</i> &quot;the conversion to bitmap&quot; isn&#39;t working?"},{"owner":{"account_id":8219605,"reputation":351,"user_id":6184647,"accept_rate":71,"display_name":"RealBadCoder"},"score":0,"creation_date":1465770689,"post_id":37779515,"comment_id":63027073,"body_markdown":"because the app crashes the moment I click the sendToParseBtn button","body":"because the app crashes the moment I click the sendToParseBtn button"},{"owner":{"account_id":33705,"reputation":59406,"user_id":94559,"display_name":"user94559"},"score":0,"creation_date":1465771281,"post_id":37779515,"comment_id":63027181,"body_markdown":"And when it crashes, what is the exception you get? (What shows up in the log?)","body":"And when it crashes, what is the exception you get? (What shows up in the log?)"}],"answers":[{"tags":[],"owner":{"account_id":383979,"reputation":2206,"user_id":740175,"accept_rate":89,"display_name":"Rog&#233;rio Peixoto"},"down_vote_count":0,"up_vote_count":32,"is_accepted":true,"score":32,"last_activity_date":1465770695,"creation_date":1465770695,"answer_id":37779710,"question_id":37779515,"body_markdown":"Try converting the image view to a bitmap drawable first then get the byteArray:\r\n\r\n    ImageView imageView = (ImageView) findViewById(R.id.imageView);\r\n    Bitmap bitmap = ((BitmapDrawable) imageView.getDrawable()).getBitmap();\r\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n    bitmap.compress(Bitmap.CompressFormat.JPEG, 100, baos);\r\n    byte[] imageInByte = baos.toByteArray();\r\n    //save your stuff\r\n","title":"How Can I convert an imageview to byte array in Android Studio?","body":"<p>Try converting the image view to a bitmap drawable first then get the byteArray:</p>\n\n<pre><code>ImageView imageView = (ImageView) findViewById(R.id.imageView);\nBitmap bitmap = ((BitmapDrawable) imageView.getDrawable()).getBitmap();\nByteArrayOutputStream baos = new ByteArrayOutputStream();\nbitmap.compress(Bitmap.CompressFormat.JPEG, 100, baos);\nbyte[] imageInByte = baos.toByteArray();\n//save your stuff\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9564031,"reputation":12915,"user_id":7103882,"display_name":"Codemaker2015"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636044033,"creation_date":1636044033,"answer_id":69842806,"question_id":37779515,"body_markdown":"You can use the following method to convert `imageView` to `bytesArray`.\r\n\r\n    public byte[] getBytes(ImageView imageView) {\r\n        try {\r\n            Bitmap bitmap = ((BitmapDrawable) imageView.getDrawable()).getBitmap();\r\n            ByteArrayOutputStream stream = new ByteArrayOutputStream();\r\n            bitmap.compress(Bitmap.CompressFormat.JPEG, 100, stream);\r\n            byte[] bytesData = stream.toByteArray();\r\n            stream.close();\r\n            return bytesData;\r\n        } catch(Exception e) {\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n        return null;\r\n    }","title":"How Can I convert an imageview to byte array in Android Studio?","body":"<p>You can use the following method to convert <code>imageView</code> to <code>bytesArray</code>.</p>\n<pre><code>public byte[] getBytes(ImageView imageView) {\n    try {\n        Bitmap bitmap = ((BitmapDrawable) imageView.getDrawable()).getBitmap();\n        ByteArrayOutputStream stream = new ByteArrayOutputStream();\n        bitmap.compress(Bitmap.CompressFormat.JPEG, 100, stream);\n        byte[] bytesData = stream.toByteArray();\n        stream.close();\n        return bytesData;\n    } catch(Exception e) {\n        e.printStackTrace();\n        return null;\n    }\n    return null;\n}\n</code></pre>\n"}],"owner":{"account_id":8219605,"reputation":351,"user_id":6184647,"accept_rate":71,"display_name":"RealBadCoder"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20443,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":37779710,"answer_count":2,"score":10,"last_activity_date":1636044033,"creation_date":1465769246,"question_id":37779515,"body_markdown":"My goal is to get a picture selected by the user and populate an image view with it. Then, on clicking a button, that image will be sent to a Parse database. I know I have to convert the imageview to byte array, but Doesn&#39;t seem to work.\r\n\r\nAny help will be highly appreciated. \r\nhere&#39;s my code:\r\n\r\n\r\n     //send the imageviwew to parse database\r\n\r\n     public void sendToParseBtn (View view){\r\n         Bitmap bitmapImage = findViewById (R.id.imageView);\r\n         ImageView imageView = (ImageView) findViewById(R.id.imageView);\r\n         imageView.setImageBitmap(bitmapImage);\r\n\r\n         ByteArrayOutputStream stream = new ByteArrayOutputStream();\r\n         bitmapImage.compress(Bitmap.CompressFormat.JPEG, 40, stream);\r\n\r\n         byte[] byteArray = stream.toByteArray();\r\n\r\n         ParseFile file = new ParseFile(&quot;an.jpg&quot;,byteArray);\r\n         ParseObject object = new ParseObject(&quot;MyParseObject&quot;);\r\n         object.put(&quot;imageFile&quot;, file);\r\n\r\n         object.saveInBackground();\r\n     }\r\n\r\n","title":"How Can I convert an imageview to byte array in Android Studio?","body":"<p>My goal is to get a picture selected by the user and populate an image view with it. Then, on clicking a button, that image will be sent to a Parse database. I know I have to convert the imageview to byte array, but Doesn't seem to work.</p>\n\n<p>Any help will be highly appreciated. \nhere's my code:</p>\n\n<pre><code> //send the imageviwew to parse database\n\n public void sendToParseBtn (View view){\n     Bitmap bitmapImage = findViewById (R.id.imageView);\n     ImageView imageView = (ImageView) findViewById(R.id.imageView);\n     imageView.setImageBitmap(bitmapImage);\n\n     ByteArrayOutputStream stream = new ByteArrayOutputStream();\n     bitmapImage.compress(Bitmap.CompressFormat.JPEG, 40, stream);\n\n     byte[] byteArray = stream.toByteArray();\n\n     ParseFile file = new ParseFile(\"an.jpg\",byteArray);\n     ParseObject object = new ParseObject(\"MyParseObject\");\n     object.put(\"imageFile\", file);\n\n     object.saveInBackground();\n }\n</code></pre>\n"},{"tags":["java","spring-boot","api","tomcat","multipartfile"],"comments":[{"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"score":0,"creation_date":1636043667,"post_id":69842261,"comment_id":123458241,"body_markdown":"Try turning on debug logging for Spring MVC by adding this to application.properties file &quot;logging.level.org.springframework.web: DEBUG&quot;","body":"Try turning on debug logging for Spring MVC by adding this to application.properties file &quot;logging.level.org.springframework.web: DEBUG&quot;"}],"answers":[{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1636043901,"creation_date":1636043901,"answer_id":69842772,"question_id":69842261,"body_markdown":"If this does not happen all the time and only sometimes, its probably because the upload got interrupted ( browser got closed for example ). Therefore, there is nothing for you to change in the code.\r\n\r\nYou can get more details if you enable Spring MVC debug logging\r\n\r\n**application.properties**\r\n```\r\nlogging.level.org.springframework.web: DEBUG\r\n```\r\n\r\nHere&#39;s [additional][1] info about how you can efficiently log these kinds of errors.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/52740378/failed-to-parse-multipart-servlet-request-when-file-uploading-interrupted","title":"MultipartException and IOFileUploadException when requests receives MultipartFile","body":"<p>If this does not happen all the time and only sometimes, its probably because the upload got interrupted ( browser got closed for example ). Therefore, there is nothing for you to change in the code.</p>\n<p>You can get more details if you enable Spring MVC debug logging</p>\n<p><strong>application.properties</strong></p>\n<pre><code>logging.level.org.springframework.web: DEBUG\n</code></pre>\n<p>Here's <a href=\"https://stackoverflow.com/questions/52740378/failed-to-parse-multipart-servlet-request-when-file-uploading-interrupted\">additional</a> info about how you can efficiently log these kinds of errors.</p>\n"}],"owner":{"account_id":13008196,"reputation":293,"user_id":9402113,"display_name":"Jo&#227;o Durante"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4582,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69842772,"answer_count":1,"score":2,"last_activity_date":1636043901,"creation_date":1636041823,"question_id":69842261,"body_markdown":"I&#39;m developing a spring API and I have an endpoint that receives a MultipartFile as parameter but in the production environment I&#39;m receiving the following error in some cases:\r\n\r\n&gt; org.springframework.web.util.NestedServletException: Request processing failed; nested exception is org.springframework.web.multipart.MultipartException: Failed to parse multipart servlet request; nested exception is java.io.IOException: org.apache.tomcat.util.http.fileupload.impl.IOFileUploadException: Processing of multipart/form-data request failed. java.io.EOFException\r\n\r\n\r\nI&#39;m using spring-boot-starter-tomcat:2.4.7 that uses tomcat:9.0.46\r\n\r\nI&#39;m having some difficulty to debug this error because it throws before the code starts so it never reaches the logs that I put.\r\n\r\nThank you.\r\nRegards.","title":"MultipartException and IOFileUploadException when requests receives MultipartFile","body":"<p>I'm developing a spring API and I have an endpoint that receives a MultipartFile as parameter but in the production environment I'm receiving the following error in some cases:</p>\n<blockquote>\n<p>org.springframework.web.util.NestedServletException: Request processing failed; nested exception is org.springframework.web.multipart.MultipartException: Failed to parse multipart servlet request; nested exception is java.io.IOException: org.apache.tomcat.util.http.fileupload.impl.IOFileUploadException: Processing of multipart/form-data request failed. java.io.EOFException</p>\n</blockquote>\n<p>I'm using spring-boot-starter-tomcat:2.4.7 that uses tomcat:9.0.46</p>\n<p>I'm having some difficulty to debug this error because it throws before the code starts so it never reaches the logs that I put.</p>\n<p>Thank you.\nRegards.</p>\n"},{"tags":["java","android","google-sheets-api"],"answers":[{"tags":[],"owner":{"account_id":16005989,"reputation":14704,"user_id":11551468,"display_name":"Rafa Guillermo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636043716,"creation_date":1600696068,"answer_id":63993647,"question_id":63971253,"body_markdown":"### Answer:\r\n*This needs to be an array of arrays, each element of the outer array corresponding to a row in the Sheet.*\r\n\r\n### More Information:\r\nFrom the [documentation](https://developers.google.com/resources/api-libraries/documentation/sheets/v4/java/latest/com/google/api/services/sheets/v4/model/ValueRange.html#ValueRange--):\r\n\r\n&gt; `public ValueRange setValues(java.util.List&lt;java.util.List&lt;java.lang.Object&gt;&gt; values)`\r\n&gt;\r\n&gt; The data that was read or to be written. This is an array of arrays, the outer array representing all the data and each inner array representing a major dimension. Each item in the inner array corresponds with one cell. For output, empty trailing rows and columns will not be included. For input, supported value types are: bool, string, and double. Null values will be skipped. To set a cell to an empty value, set the string value to an empty string.\r\n&gt;\r\n&gt; **Parameters:**\r\n&gt; `values` - `values` or `null` for none\r\n\r\n### Array Structure:\r\n```\r\n[\r\n  [ &quot;_ID&quot;, &quot;name&quot;, &quot;mobile&quot;, &quot;tel&quot;, &quot;company&quot;, &quot;email&quot;, &quot;birthday&quot;, &quot;products&quot;, &quot;purchased_date&quot;, &quot;reminders&quot;, &quot;ps&quot; ],\r\n  [ id, name, mobile, tel, company, email, birthday, products, purchased_date, reminders, ps]\r\n]\r\n```\r\n\r\n\r\n### References:\r\n- [ValueRange (Google Sheets API v4 (Rev. 612) 1.25.0)](https://developers.google.com/resources/api-libraries/documentation/sheets/v4/java/latest/com/google/api/services/sheets/v4/model/ValueRange.html#ValueRange--)","title":"Write Database data into Google sheet. Java, Googe Sheet API","body":"<h3>Answer:</h3>\n<p><em>This needs to be an array of arrays, each element of the outer array corresponding to a row in the Sheet.</em></p>\n<h3>More Information:</h3>\n<p>From the <a href=\"https://developers.google.com/resources/api-libraries/documentation/sheets/v4/java/latest/com/google/api/services/sheets/v4/model/ValueRange.html#ValueRange--\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p><code>public ValueRange setValues(java.util.List&lt;java.util.List&lt;java.lang.Object&gt;&gt; values)</code></p>\n<p>The data that was read or to be written. This is an array of arrays, the outer array representing all the data and each inner array representing a major dimension. Each item in the inner array corresponds with one cell. For output, empty trailing rows and columns will not be included. For input, supported value types are: bool, string, and double. Null values will be skipped. To set a cell to an empty value, set the string value to an empty string.</p>\n<p><strong>Parameters:</strong>\n<code>values</code> - <code>values</code> or <code>null</code> for none</p>\n</blockquote>\n<h3>Array Structure:</h3>\n<pre><code>[\n  [ &quot;_ID&quot;, &quot;name&quot;, &quot;mobile&quot;, &quot;tel&quot;, &quot;company&quot;, &quot;email&quot;, &quot;birthday&quot;, &quot;products&quot;, &quot;purchased_date&quot;, &quot;reminders&quot;, &quot;ps&quot; ],\n  [ id, name, mobile, tel, company, email, birthday, products, purchased_date, reminders, ps]\n]\n</code></pre>\n<h3>References:</h3>\n<ul>\n<li><a href=\"https://developers.google.com/resources/api-libraries/documentation/sheets/v4/java/latest/com/google/api/services/sheets/v4/model/ValueRange.html#ValueRange--\" rel=\"nofollow noreferrer\">ValueRange (Google Sheets API v4 (Rev. 612) 1.25.0)</a></li>\n</ul>\n"}],"owner":{"account_id":12802735,"reputation":79,"user_id":9263520,"display_name":"Penny Chen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":63993647,"answer_count":1,"score":0,"last_activity_date":1636043739,"creation_date":1600534370,"question_id":63971253,"body_markdown":"I have some contact list data in my sqlite database, now I would like to write in Google sheet by using Google Sheet API v4, I have successfully put in the column name, but the data part, I don&#39;t know how to fill in the Array list: \r\n\r\n            String[] column ={&quot;_ID&quot;,&quot;name&quot;,&quot;mobile&quot;,&quot;tel&quot;,&quot;company&quot;,&quot;email&quot;,&quot;birthday&quot;,&quot;products&quot;,&quot;purchased_date&quot;,&quot;reminders&quot;,&quot;ps&quot;};\r\n            \r\n            List&lt;List&lt;Object&gt;&gt; values = Arrays.asList(\r\n                                Arrays.asList( field\r\n                                        // Cell values ...\r\n                                )\r\n                                // Additional rows ...\r\n            \r\n                        );\r\n           ValueRange body = new ValueRange().setValues(values);\r\n           UpdateValuesResponse result =\r\n                                sheetService.spreadsheets().values().update(fileId, &quot;A1&quot;, body)\r\n                                        .setValueInputOption(&quot;RAW&quot;)\r\n                                        .execute();\r\n           System.out.printf(&quot;%d cells updated.&quot;, result.getUpdatedCells());\r\n\r\n\r\nbelow is how I get the data from database:\r\n\r\n     myDB.open();\r\n            Cursor cursor = myDB.getAll();\r\n            if (cursor.moveToFirst()) {\r\n                while (!cursor.isAfterLast()) {\r\n                    String id = cursor.getString(0);\r\n                    String name = cursor.getString(1);\r\n                    String mobile = cursor.getString(2);\r\n                    String tel = cursor.getString(3);\r\n                    String company = cursor.getString(4);\r\n                    String email = cursor.getString(5);\r\n                    String birthday = cursor.getString(6);\r\n                    String products = cursor.getString(7);\r\n                    String purchased_date = cursor.getString(8);\r\n                    String reminders = cursor.getString(9);\r\n                    String ps = cursor.getString(10);\r\n\r\n\r\n                    cursor.moveToNext();\r\n                }\r\n            }\r\n            myDB.close();","title":"Write Database data into Google sheet. Java, Googe Sheet API","body":"<p>I have some contact list data in my sqlite database, now I would like to write in Google sheet by using Google Sheet API v4, I have successfully put in the column name, but the data part, I don't know how to fill in the Array list:</p>\n<pre><code>        String[] column ={&quot;_ID&quot;,&quot;name&quot;,&quot;mobile&quot;,&quot;tel&quot;,&quot;company&quot;,&quot;email&quot;,&quot;birthday&quot;,&quot;products&quot;,&quot;purchased_date&quot;,&quot;reminders&quot;,&quot;ps&quot;};\n        \n        List&lt;List&lt;Object&gt;&gt; values = Arrays.asList(\n                            Arrays.asList( field\n                                    // Cell values ...\n                            )\n                            // Additional rows ...\n        \n                    );\n       ValueRange body = new ValueRange().setValues(values);\n       UpdateValuesResponse result =\n                            sheetService.spreadsheets().values().update(fileId, &quot;A1&quot;, body)\n                                    .setValueInputOption(&quot;RAW&quot;)\n                                    .execute();\n       System.out.printf(&quot;%d cells updated.&quot;, result.getUpdatedCells());\n</code></pre>\n<p>below is how I get the data from database:</p>\n<pre><code> myDB.open();\n        Cursor cursor = myDB.getAll();\n        if (cursor.moveToFirst()) {\n            while (!cursor.isAfterLast()) {\n                String id = cursor.getString(0);\n                String name = cursor.getString(1);\n                String mobile = cursor.getString(2);\n                String tel = cursor.getString(3);\n                String company = cursor.getString(4);\n                String email = cursor.getString(5);\n                String birthday = cursor.getString(6);\n                String products = cursor.getString(7);\n                String purchased_date = cursor.getString(8);\n                String reminders = cursor.getString(9);\n                String ps = cursor.getString(10);\n\n\n                cursor.moveToNext();\n            }\n        }\n        myDB.close();\n</code></pre>\n"},{"tags":["java","jpa","entity","joincolumn"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1636043864,"post_id":69842713,"comment_id":123458345,"body_markdown":"You actually can get the id from `level1` already, e.g. `level1.getId()` should not trigger lazy-loading if everything is configured properly (e.g. `level1` should be lazy loaded which many-to-one should do by default - but please check). If you want to load `level1` eagerly either use a fetch query or an entity graph.","body":"You actually can get the id from <code>level1</code> already, e.g. <code>level1.getId()</code> should not trigger lazy-loading if everything is configured properly (e.g. <code>level1</code> should be lazy loaded which many-to-one should do by default - but please check). If you want to load <code>level1</code> eagerly either use a fetch query or an entity graph."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1636044002,"post_id":69842713,"comment_id":123458417,"body_markdown":"Btw, if `level1` wasn&#39;t lazy then your case A) could only be done by a query like `select idLevel2, idLevel1 ...` but that could also be done by `select idLevel2, level1.id ...`. Case B) would either require a fetch query or an entity graph anyway unless `level1` always is eagerly fetched (in which case we&#39;re back to a query for case A).","body":"Btw, if <code>level1</code> wasn&#39;t lazy then your case A) could only be done by a query like <code>select idLevel2, idLevel1 ...</code> but that could also be done by <code>select idLevel2, level1.id ...</code>. Case B) would either require a fetch query or an entity graph anyway unless <code>level1</code> always is eagerly fetched (in which case we&#39;re back to a query for case A)."},{"owner":{"account_id":9248229,"reputation":137,"user_id":6869483,"display_name":"Rachel"},"score":0,"creation_date":1636046363,"post_id":69842713,"comment_id":123459374,"body_markdown":"@Thomas, so in this scenario is ok to have the Column and the JoinColumn annotation using the same column name?","body":"@Thomas, so in this scenario is ok to have the Column and the JoinColumn annotation using the same column name?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1636046949,"post_id":69842713,"comment_id":123459614,"body_markdown":"It can be ok but it also can introduce problems and since it&#39;s not necessary I&#39;d get rid of it. A simple design results in easier to understand and maintain code.","body":"It can be ok but it also can introduce problems and since it&#39;s not necessary I&#39;d get rid of it. A simple design results in easier to understand and maintain code."}],"owner":{"account_id":9248229,"reputation":137,"user_id":6869483,"display_name":"Rachel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1335,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1636043632,"creation_date":1636043632,"question_id":69842713,"body_markdown":"I&#39;ve got two different scenarios where I have to retrieve data from one or two entities that have a relation between them.\r\n\r\n```\r\n@Entity\r\n@Table\r\npublic class Level2 {\r\n    @Id\r\n    @Column(name = &quot;id_level_2&quot;)\r\n    private Integer idLevel2;\r\n\r\n    @Column(name = &quot;id_level_1&quot;)\r\n    private Integer idLevel1;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;id_level_1&quot;, referencedColumnName = &quot;id_level_1&quot;, insertable =  false, updatable = false)\r\n    private Level1 level1;\r\n\r\n```\r\n\r\nCase A)\r\n Just want to retrieve de level2 without Level1 information, just the two ids.\r\nCase B)\r\n All the Level2 with the Level1 information.\r\n\r\nThis works but I am wondering if it is a good practice.\r\n\r\nThanks\r\n","title":"Best practice for using @Column and @JoinColumn for same field","body":"<p>I've got two different scenarios where I have to retrieve data from one or two entities that have a relation between them.</p>\n<pre><code>@Entity\n@Table\npublic class Level2 {\n    @Id\n    @Column(name = &quot;id_level_2&quot;)\n    private Integer idLevel2;\n\n    @Column(name = &quot;id_level_1&quot;)\n    private Integer idLevel1;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;id_level_1&quot;, referencedColumnName = &quot;id_level_1&quot;, insertable =  false, updatable = false)\n    private Level1 level1;\n\n</code></pre>\n<p>Case A)\nJust want to retrieve de level2 without Level1 information, just the two ids.\nCase B)\nAll the Level2 with the Level1 information.</p>\n<p>This works but I am wondering if it is a good practice.</p>\n<p>Thanks</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":313594,"reputation":2936,"user_id":628318,"display_name":"drekbour"},"score":0,"creation_date":1636043065,"post_id":69842039,"comment_id":123457952,"body_markdown":"Didn&#39;t quite understand... Please edit the question to provide sample call and expected result.","body":"Didn&#39;t quite understand... Please edit the question to provide sample call and expected result."}],"answers":[{"tags":[],"owner":{"account_id":7821678,"reputation":2208,"user_id":5914654,"display_name":"vincrichaud"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636043249,"creation_date":1636043249,"answer_id":69842622,"question_id":69842039,"body_markdown":"You just have to concatenate `width` value inside your String.\r\n\r\n    public static String prettyInt(int n, int width) {\r\n        return String.format(&quot;%&quot; + width + &quot;d&quot;, n);\r\n    }\r\n\r\nOr if you want it filled by zeros :\r\n\r\n    public static String prettyInt(int n, int width) {\r\n        return String.format(&quot;%0&quot; + width + &quot;d&quot;, n);\r\n    }\r\n\r\n","title":"Using parameter for specific width","body":"<p>You just have to concatenate <code>width</code> value inside your String.</p>\n<pre><code>public static String prettyInt(int n, int width) {\n    return String.format(&quot;%&quot; + width + &quot;d&quot;, n);\n}\n</code></pre>\n<p>Or if you want it filled by zeros :</p>\n<pre><code>public static String prettyInt(int n, int width) {\n    return String.format(&quot;%0&quot; + width + &quot;d&quot;, n);\n}\n</code></pre>\n"}],"owner":{"account_id":23230149,"reputation":21,"user_id":17329455,"display_name":"Fl4chz4nge "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69842622,"answer_count":1,"score":0,"last_activity_date":1636043249,"creation_date":1636040927,"question_id":69842039,"body_markdown":"I want the second parameter in prettyInt to be the width in front of the first parameter. I do not know how to put a variable into a String.format at the %. Could someone help me?\r\n\r\n\r\n    public  class SomeFormats {\r\n\r\n\t    public static void main (String[]args) {\r\n\t\t    PrintWriter out = new PrintWriter (System.out);\r\n\t\t    prettyInt(10, 30);\r\n\t    \tout.flush();\r\n    \t}\r\n\r\n    \tpublic static String prettyInt(int n, int width) {\r\n\t    \tint i = width;\r\n\t    \treturn String.format(&quot;%i %d&quot;, n);\r\n\t    }\r\n    }","title":"Using parameter for specific width","body":"<p>I want the second parameter in prettyInt to be the width in front of the first parameter. I do not know how to put a variable into a String.format at the %. Could someone help me?</p>\n<pre><code>public  class SomeFormats {\n\n    public static void main (String[]args) {\n        PrintWriter out = new PrintWriter (System.out);\n        prettyInt(10, 30);\n        out.flush();\n    }\n\n    public static String prettyInt(int n, int width) {\n        int i = width;\n        return String.format(&quot;%i %d&quot;, n);\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15006108,"reputation":875,"user_id":10832136,"display_name":"Kars"},"score":0,"creation_date":1636041065,"post_id":69842040,"comment_id":123457035,"body_markdown":"You are casting Flat to List&lt;Flat&gt;","body":"You are casting Flat to List&lt;Flat&gt;"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1636041093,"post_id":69842040,"comment_id":123457051,"body_markdown":"To deserialize list of objects you need to serialize list of objects earlier, not single object.","body":"To deserialize list of objects you need to serialize list of objects earlier, not single object."},{"owner":{"account_id":23217269,"reputation":21,"user_id":17310018,"display_name":"peebee"},"score":0,"creation_date":1636043382,"post_id":69842040,"comment_id":123458098,"body_markdown":"thank you! I think now it works","body":"thank you! I think now it works"}],"answers":[{"tags":[],"owner":{"account_id":15006108,"reputation":875,"user_id":10832136,"display_name":"Kars"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636041500,"creation_date":1636041500,"answer_id":69842187,"question_id":69842040,"body_markdown":"`reader.readObject` reads one object. In your case one `Flat`.\r\n\r\nYou are casting a single `Flat` to `List&lt;Flat&gt;` which is causing your exception.\r\n\r\nTo achieve your goal you should read the objects one by one and add them to a list, then return the list.","title":"How do I deserialize Objects from a file into a list?","body":"<p><code>reader.readObject</code> reads one object. In your case one <code>Flat</code>.</p>\n<p>You are casting a single <code>Flat</code> to <code>List&lt;Flat&gt;</code> which is causing your exception.</p>\n<p>To achieve your goal you should read the objects one by one and add them to a list, then return the list.</p>\n"},{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636042966,"creation_date":1636041523,"answer_id":69842194,"question_id":69842040,"body_markdown":"Try it like this \r\n\r\n```\r\nflats= (Flat) reader.readObject();\r\n\r\n```\r\n\r\nIt will work if there is one object per file.\r\n\r\n**EDIT**: here&#39;s [something][1] which is \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/23102996/how-to-read-a-list-of-list-of-objects-from-a-file-using-objectinputstream-in-jav","title":"How do I deserialize Objects from a file into a list?","body":"<p>Try it like this</p>\n<pre><code>flats= (Flat) reader.readObject();\n\n</code></pre>\n<p>It will work if there is one object per file.</p>\n<p><strong>EDIT</strong>: here's <a href=\"https://stackoverflow.com/questions/23102996/how-to-read-a-list-of-list-of-objects-from-a-file-using-objectinputstream-in-jav\">something</a> which is</p>\n"}],"owner":{"account_id":23217269,"reputation":21,"user_id":17310018,"display_name":"peebee"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1636043115,"creation_date":1636040936,"question_id":69842040,"body_markdown":"I&#39;m trying to deserialize flat Object(s) from a file, but get this error: \r\n\r\n&gt; java.lang.ClassCastException: class hausverwaltung.EigentumsWohnung cannot be cast to class java.util.List (hausverwaltung.EigentumsWohnung is in module hausverwaltung of loader &#39;app&#39;; java.util.List is in module java.base of loader &#39;bootstrap&#39;)\r\n\r\nThis is my code:\r\n\r\n```java\r\npublic List&lt;Flat&gt; getFlats() {\r\n    List&lt;Flat&gt; flats = new ArrayList&lt;Flat&gt;();\r\n\r\n    try {\r\n        ObjectInputStream reader;\r\n        reader = new ObjectInputStream(new FileInputStream(file));\r\n        flats = (List&lt;Flat&gt;) reader.readObject();\r\n        reader.close();\r\n    } catch (Exception e) {\r\n        System.out.println(&quot;Deserialisation error: &quot;+e);\r\n        System.exit(1);\r\n    }\r\n\r\n    return flats;\r\n}\r\n```\r\n\r\nThis is the way how we learned it in class, but I somehow get this error. \r\nI tried to find solutions all day and didn&#39;t find any... How can I fix this?","title":"How do I deserialize Objects from a file into a list?","body":"<p>I'm trying to deserialize flat Object(s) from a file, but get this error:</p>\n<blockquote>\n<p>java.lang.ClassCastException: class hausverwaltung.EigentumsWohnung cannot be cast to class java.util.List (hausverwaltung.EigentumsWohnung is in module hausverwaltung of loader 'app'; java.util.List is in module java.base of loader 'bootstrap')</p>\n</blockquote>\n<p>This is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;Flat&gt; getFlats() {\n    List&lt;Flat&gt; flats = new ArrayList&lt;Flat&gt;();\n\n    try {\n        ObjectInputStream reader;\n        reader = new ObjectInputStream(new FileInputStream(file));\n        flats = (List&lt;Flat&gt;) reader.readObject();\n        reader.close();\n    } catch (Exception e) {\n        System.out.println(&quot;Deserialisation error: &quot;+e);\n        System.exit(1);\n    }\n\n    return flats;\n}\n</code></pre>\n<p>This is the way how we learned it in class, but I somehow get this error.\nI tried to find solutions all day and didn't find any... How can I fix this?</p>\n"},{"tags":["java","java-threads"],"comments":[{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":1,"creation_date":1636043263,"post_id":69842535,"comment_id":123458043,"body_markdown":"I kind of wanted to know that also [a while ago](https://stackoverflow.com/questions/56056711/threadyield-vs-threadonspinwait). To be honest, the answer and the comments, proved once again that this is for the extreme pros, only.","body":"I kind of wanted to know that also <a href=\"https://stackoverflow.com/questions/56056711/threadyield-vs-threadonspinwait\">a while ago</a>. To be honest, the answer and the comments, proved once again that this is for the extreme pros, only."},{"owner":{"account_id":4008983,"reputation":2115,"user_id":3302921,"accept_rate":22,"display_name":"Eric Kolotyluk"},"score":0,"creation_date":1636044203,"post_id":69842535,"comment_id":123458501,"body_markdown":"uh hu &#128580; - sometimes it&#39;s nice to peek under the hood, but sometimes is scary too...","body":"uh hu 🙄 - sometimes it&#39;s nice to peek under the hood, but sometimes is scary too..."}],"owner":{"account_id":4008983,"reputation":2115,"user_id":3302921,"accept_rate":22,"display_name":"Eric Kolotyluk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1636042945,"creation_date":1636042945,"question_id":69842535,"body_markdown":"Yes, this is similar to https://stackoverflow.com/questions/44622384/onspinwait-method-of-thread-class-java-9, but a little more nuanced...\r\n\r\n    static boolean isPrime(long candidate) {\r\n        if ((candidate &amp; 1) == 0)  // filter out even numbers\r\n            return (candidate == 2);  // except for 2\r\n\r\n        var limit = (long) Math.nextUp(Math.sqrt(candidate));\r\n\r\n        for (long divisor = 3; divisor &lt;= limit; divisor += 2) {\r\n            Thread.onSpinWait(); // TODO is this a good practice in this context?\r\n            if (candidate % divisor == 0) return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\nThe javadoc for `Thread.onSpinWait()` says\r\n&gt; Indicates that the caller is momentarily unable to progress, until the occurrence of one or more actions on the part of other activities. By invoking this method within each iteration of a spin-wait loop construct, the calling thread indicates to the runtime that it is busy-waiting. The runtime may take action to improve the performance of invoking spin-wait loop constructions.\r\n\r\nHowever, in my use case, this is not exactly busy-waiting, this is actually doing useful work. My intention with `Thread.onSpinWait()` is to give a hint to the JVM to inject some optimization if possible.\r\n\r\nIn testing, using `Thread.onSpinWait()` definitely incurs a huge performance penalty, but is there any reason to believe it might benefit other Threads running in the same JVM, the same O/S? For example, does using `Thread.onSpinWait()` offer some kindness to other threads? For example, does this push my thread/task to the background or change its\r\npriority, without having to resort to thread priority management &#128580;\r\n\r\nI suppose I could test for this, but that would be a difficult thing to test for... &#129300;\r\n\r\nWithout knowing what the JVM specifically does with this hint, it&#39;s hard for me to reason about...","title":"Is there any benefit to Thead.onSpinWait() while doing CPU Bound work?","body":"<p>Yes, this is similar to <a href=\"https://stackoverflow.com/questions/44622384/onspinwait-method-of-thread-class-java-9\">onSpinWait​() method of Thread class - Java 9</a>, but a little more nuanced...</p>\n<pre><code>static boolean isPrime(long candidate) {\n    if ((candidate &amp; 1) == 0)  // filter out even numbers\n        return (candidate == 2);  // except for 2\n\n    var limit = (long) Math.nextUp(Math.sqrt(candidate));\n\n    for (long divisor = 3; divisor &lt;= limit; divisor += 2) {\n        Thread.onSpinWait(); // TODO is this a good practice in this context?\n        if (candidate % divisor == 0) return false;\n    }\n    return true;\n}\n</code></pre>\n<p>The javadoc for <code>Thread.onSpinWait()</code> says</p>\n<blockquote>\n<p>Indicates that the caller is momentarily unable to progress, until the occurrence of one or more actions on the part of other activities. By invoking this method within each iteration of a spin-wait loop construct, the calling thread indicates to the runtime that it is busy-waiting. The runtime may take action to improve the performance of invoking spin-wait loop constructions.</p>\n</blockquote>\n<p>However, in my use case, this is not exactly busy-waiting, this is actually doing useful work. My intention with <code>Thread.onSpinWait()</code> is to give a hint to the JVM to inject some optimization if possible.</p>\n<p>In testing, using <code>Thread.onSpinWait()</code> definitely incurs a huge performance penalty, but is there any reason to believe it might benefit other Threads running in the same JVM, the same O/S? For example, does using <code>Thread.onSpinWait()</code> offer some kindness to other threads? For example, does this push my thread/task to the background or change its\npriority, without having to resort to thread priority management 🙄</p>\n<p>I suppose I could test for this, but that would be a difficult thing to test for... 🤔</p>\n<p>Without knowing what the JVM specifically does with this hint, it's hard for me to reason about...</p>\n"},{"tags":["java","lucene","case-insensitive"],"answers":[{"tags":[],"owner":{"account_id":6956044,"reputation":1062,"user_id":5337044,"display_name":"Birbal Singh"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1467351449,"creation_date":1467351004,"answer_id":38137683,"question_id":37937710,"body_markdown":"    SortField[] sortFiled = new SortField[2];\r\n    sortFiled[0] = new SortField(&quot;name&quot;, SortField.Type.STRING);\r\n    sortFiled[1] = new SortField(&quot;country&quot;, CaseInsensitiveStringComparator());\r\n              \r\nUse custome filedCompartorSource in SortField for sortfield type. \r\nIn above code we are sorting country field in case insensitive mode.\r\nsee the below custom FieldComparatorSource class         \r\n        \r\n\r\n    class CaseInsensitiveStringComparator extends FieldComparatorSource{\r\n\r\n    @Override\r\n    public FieldComparator&lt;String&gt; newComparator(String arg0, int arg1, int arg2,\r\n            boolean arg3) throws IOException {\r\n        return new CaseIgonreCompare(arg0, arg1);\r\n    }\r\n    }\r\n\r\n\r\n\r\n    class CaseIgonreCompare extends FieldComparator&lt;String&gt;{\r\n    \r\n    private String field;\r\n    private String bottom;\r\n    private String topValue;\r\n    private BinaryDocValues cache;\r\n    private String[] values;\r\n    \r\n    public CaseIgonreCompare(String field, int numHits) {\r\n        this.field = field;\r\n        this.values = new String[numHits];\r\n    }\r\n    \r\n    @Override\r\n    public int compare(int arg0, int arg1) {\r\n        return compareValues(values[arg0], values[arg1]);\r\n    }\r\n\r\n    @Override\r\n    public int compareBottom(int arg0) throws IOException {\r\n        return compareValues(bottom, cache.get(arg0).utf8ToString());\r\n    }\r\n\r\n    @Override\r\n    public int compareTop(int arg0) throws IOException {\r\n        return compareValues(topValue, cache.get(arg0).utf8ToString());\r\n    }\r\n    \r\n    public int compareValues(String first, String second) {\r\n        int val = first.length() - second.length();\r\n        return val == 0 ? first.compareToIgnoreCase(second) : val;\r\n    };\r\n    \r\n    @Override\r\n    public void copy(int arg0, int arg1) throws IOException {\r\n       values[arg0] = cache.get(arg1).utf8ToString();\r\n    }\r\n\r\n    @Override\r\n    public void setBottom(int arg0) {\r\n        this.bottom  = values[arg0];\r\n    }\r\n\r\n    @Override\r\n    public FieldComparator&lt;String&gt; setNextReader(AtomicReaderContext arg0)\r\n            throws IOException {\r\n        this.cache = FieldCache.DEFAULT.getTerms(arg0.reader(), \r\n                field  , true);\r\n        return this;\r\n    }\r\n\r\n    @Override\r\n    public void setTopValue(String arg0) {\r\n        this.topValue = arg0;\r\n    }\r\n\r\n    @Override\r\n    public String value(int arg0) {\r\n        return values[arg0];\r\n    }\r\n    \r\n}\r\n","title":"lucene case Insensitive sort search","body":"<pre><code>SortField[] sortFiled = new SortField[2];\nsortFiled[0] = new SortField(\"name\", SortField.Type.STRING);\nsortFiled[1] = new SortField(\"country\", CaseInsensitiveStringComparator());\n</code></pre>\n\n<p>Use custome filedCompartorSource in SortField for sortfield type. \nIn above code we are sorting country field in case insensitive mode.\nsee the below custom FieldComparatorSource class         </p>\n\n<pre><code>class CaseInsensitiveStringComparator extends FieldComparatorSource{\n\n@Override\npublic FieldComparator&lt;String&gt; newComparator(String arg0, int arg1, int arg2,\n        boolean arg3) throws IOException {\n    return new CaseIgonreCompare(arg0, arg1);\n}\n}\n\n\n\nclass CaseIgonreCompare extends FieldComparator&lt;String&gt;{\n\nprivate String field;\nprivate String bottom;\nprivate String topValue;\nprivate BinaryDocValues cache;\nprivate String[] values;\n\npublic CaseIgonreCompare(String field, int numHits) {\n    this.field = field;\n    this.values = new String[numHits];\n}\n\n@Override\npublic int compare(int arg0, int arg1) {\n    return compareValues(values[arg0], values[arg1]);\n}\n\n@Override\npublic int compareBottom(int arg0) throws IOException {\n    return compareValues(bottom, cache.get(arg0).utf8ToString());\n}\n\n@Override\npublic int compareTop(int arg0) throws IOException {\n    return compareValues(topValue, cache.get(arg0).utf8ToString());\n}\n\npublic int compareValues(String first, String second) {\n    int val = first.length() - second.length();\n    return val == 0 ? first.compareToIgnoreCase(second) : val;\n};\n\n@Override\npublic void copy(int arg0, int arg1) throws IOException {\n   values[arg0] = cache.get(arg1).utf8ToString();\n}\n\n@Override\npublic void setBottom(int arg0) {\n    this.bottom  = values[arg0];\n}\n\n@Override\npublic FieldComparator&lt;String&gt; setNextReader(AtomicReaderContext arg0)\n        throws IOException {\n    this.cache = FieldCache.DEFAULT.getTerms(arg0.reader(), \n            field  , true);\n    return this;\n}\n\n@Override\npublic void setTopValue(String arg0) {\n    this.topValue = arg0;\n}\n\n@Override\npublic String value(int arg0) {\n    return values[arg0];\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":28566,"reputation":4047,"user_id":76412,"accept_rate":80,"display_name":"Thorgeir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636042861,"creation_date":1636035222,"answer_id":69840632,"question_id":37937710,"body_markdown":"I needed to order string fields by the Icelandic alphabet rules (a&#225;bcd&#240;e&#233;....) so I tried porting the code to c# and using the StringComparer.InvariantCultureIgnoreCase comparer. And it work perfectly. \r\n\r\nSo, here is a c# port of Birbal Singh&#39;s code\r\n\r\nCaseInsensitiveStringComparator.cs\r\n\r\n    public class CaseInsensitiveStringComparator : FieldComparerSource\r\n    {\r\n    \tpublic override FieldComparer NewComparer(string fieldname, int numHits, int sortPos, bool reversed)\r\n    \t{\r\n    \t\treturn new CaseIgonreCompare(fieldname, numHits);\r\n    \t}\r\n    }\r\n\r\n\r\nCaseIgonreCompare.cs\r\n\r\n\tpublic class CaseIgonreCompare : FieldComparer&lt;string&gt;\r\n\t{\r\n\t\tprivate string _field;\r\n\t\tprivate string[] _values;\t\t\r\n\t\tprivate BinaryDocValues _cache;\r\n\t\tprivate string _bottom; \r\n\t\tprivate string _topValue;\r\n\r\n\t\tpublic CaseIgonreCompare(string field, int numHits)\r\n\t\t{\r\n\t\t\t_field = field;\r\n\t\t\t_values = new string[numHits];\r\n\t\t}\r\n\r\n\t\tpublic override IComparable this[int slot] =&gt; _values[slot];\r\n\r\n\t\tpublic override int CompareValues(string first, string second)\r\n\t\t{\r\n\t\t\tint val = first.Length - second.Length;\r\n\t\t\treturn StringComparer.InvariantCultureIgnoreCase.Compare(first, second);\r\n\t\t}\r\n\r\n\t\tprivate string GetValue(int doc)\r\n\t\t{\r\n\t\t\tvar bytesRef = new BytesRef();\r\n\t\t\t_cache.Get(doc, bytesRef);\r\n\t\t\treturn bytesRef.Utf8ToString();\r\n\t\t}\r\n\r\n\t\tpublic override int Compare(int slot1, int slot2)\r\n\t\t{\r\n\t\t\treturn string.Compare(_values[slot1], _values[slot2]);\r\n\t\t}\r\n\r\n\t\tpublic override int CompareBottom(int doc)\r\n\t\t{\r\n\t\t\treturn CompareValues(_bottom, GetValue(doc));\r\n\t\t}\r\n\r\n\t\tpublic override int CompareTop(int doc)\r\n\t\t{\r\n\t\t\treturn CompareValues(_topValue, GetValue(doc));\r\n\t\t}\r\n\r\n\t\tpublic override void Copy(int slot, int doc)\r\n\t\t{\r\n\t\t\t_values[slot] = GetValue(doc);\r\n\t\t}\r\n\r\n\t\tpublic override void SetBottom(int slot)\r\n\t\t{\r\n\t\t\t_bottom = _values[slot];\r\n\t\t}\r\n\r\n\t\tpublic override FieldComparer SetNextReader(AtomicReaderContext context)\r\n\t\t{\r\n\t\t\t_cache = FieldCache.DEFAULT.GetTerms(context.AtomicReader, _field, true);\r\n\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tpublic override void SetTopValue(object value)\r\n\t\t{\r\n\t\t\t_topValue = value as string;\r\n\t\t}\r\n\t}","title":"lucene case Insensitive sort search","body":"<p>I needed to order string fields by the Icelandic alphabet rules (aábcdðeé....) so I tried porting the code to c# and using the StringComparer.InvariantCultureIgnoreCase comparer. And it work perfectly.</p>\n<p>So, here is a c# port of Birbal Singh's code</p>\n<p>CaseInsensitiveStringComparator.cs</p>\n<pre><code>public class CaseInsensitiveStringComparator : FieldComparerSource\n{\n    public override FieldComparer NewComparer(string fieldname, int numHits, int sortPos, bool reversed)\n    {\n        return new CaseIgonreCompare(fieldname, numHits);\n    }\n}\n</code></pre>\n<p>CaseIgonreCompare.cs</p>\n<pre><code>public class CaseIgonreCompare : FieldComparer&lt;string&gt;\n{\n    private string _field;\n    private string[] _values;       \n    private BinaryDocValues _cache;\n    private string _bottom; \n    private string _topValue;\n\n    public CaseIgonreCompare(string field, int numHits)\n    {\n        _field = field;\n        _values = new string[numHits];\n    }\n\n    public override IComparable this[int slot] =&gt; _values[slot];\n\n    public override int CompareValues(string first, string second)\n    {\n        int val = first.Length - second.Length;\n        return StringComparer.InvariantCultureIgnoreCase.Compare(first, second);\n    }\n\n    private string GetValue(int doc)\n    {\n        var bytesRef = new BytesRef();\n        _cache.Get(doc, bytesRef);\n        return bytesRef.Utf8ToString();\n    }\n\n    public override int Compare(int slot1, int slot2)\n    {\n        return string.Compare(_values[slot1], _values[slot2]);\n    }\n\n    public override int CompareBottom(int doc)\n    {\n        return CompareValues(_bottom, GetValue(doc));\n    }\n\n    public override int CompareTop(int doc)\n    {\n        return CompareValues(_topValue, GetValue(doc));\n    }\n\n    public override void Copy(int slot, int doc)\n    {\n        _values[slot] = GetValue(doc);\n    }\n\n    public override void SetBottom(int slot)\n    {\n        _bottom = _values[slot];\n    }\n\n    public override FieldComparer SetNextReader(AtomicReaderContext context)\n    {\n        _cache = FieldCache.DEFAULT.GetTerms(context.AtomicReader, _field, true);\n\n        return this;\n    }\n\n    public override void SetTopValue(object value)\n    {\n        _topValue = value as string;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6956044,"reputation":1062,"user_id":5337044,"display_name":"Birbal Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":782,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":38137683,"answer_count":2,"score":5,"last_activity_date":1636042861,"creation_date":1466492967,"question_id":37937710,"body_markdown":"How to search by multifield sort with case insensitive mode?\r\n\r\nI am using lucene 4.10.4 version and doing sort with multifiled sort as \r\n\r\n    SortField[] sortFiled = new SortField[2];\r\n    sortFiled[0] = new SortField(&quot;name&quot;, SortField.Type.STRING);\r\n    sortFiled[1] = new SortField(&quot;country&quot;, SortField.Type.STRING);\r\n        \r\n    TopDocs topDocs = indexSearcher.search(query, 10 , new Sort(sortFiled));\r\n\r\nIt gives sort result but in case sensitive mode. I want it to sort in case insensitive mode.","title":"lucene case Insensitive sort search","body":"<p>How to search by multifield sort with case insensitive mode?</p>\n\n<p>I am using lucene 4.10.4 version and doing sort with multifiled sort as </p>\n\n<pre><code>SortField[] sortFiled = new SortField[2];\nsortFiled[0] = new SortField(\"name\", SortField.Type.STRING);\nsortFiled[1] = new SortField(\"country\", SortField.Type.STRING);\n\nTopDocs topDocs = indexSearcher.search(query, 10 , new Sort(sortFiled));\n</code></pre>\n\n<p>It gives sort result but in case sensitive mode. I want it to sort in case insensitive mode.</p>\n"},{"tags":["java","spring","spring-boot","cors"],"comments":[{"owner":{"account_id":197590,"reputation":83537,"user_id":441757,"accept_rate":100,"display_name":"sideshowbarker"},"score":0,"creation_date":1577915250,"post_id":59555658,"comment_id":105281124,"body_markdown":"Please use https://stackoverflow.com/q/59555658/441757 to edit/update the question and paste in a snippet of the exact frontend JavaScript code that you’re using to send the request and to check the response.","body":"Please use <a href=\"https://stackoverflow.com/q/59555658/441757\">stackoverflow.com/q/59555658/441757</a> to edit/update the question and paste in a snippet of the exact frontend JavaScript code that you’re using to send the request and to check the response."},{"owner":{"account_id":197590,"reputation":83537,"user_id":441757,"accept_rate":100,"display_name":"sideshowbarker"},"score":0,"creation_date":1577915381,"post_id":59555658,"comment_id":105281149,"body_markdown":"What’s the HTTP status code of the response? You can use the Network pane in browser devtools to check. Is it a 4xx or 5xx error rather than a 200 OK success response? Is it a response to the CORS preflight OPTIONS request?","body":"What’s the HTTP status code of the response? You can use the Network pane in browser devtools to check. Is it a 4xx or 5xx error rather than a 200 OK success response? Is it a response to the CORS preflight OPTIONS request?"},{"owner":{"account_id":10717399,"reputation":5816,"user_id":7887516,"display_name":"Ananthapadmanabhan"},"score":0,"creation_date":1577943957,"post_id":59555658,"comment_id":105285721,"body_markdown":"Similar to https://stackoverflow.com/questions/56759527/cors-policy-conflict-in-spring-boot/56765503#56765503","body":"Similar to <a href=\"https://stackoverflow.com/questions/56759527/cors-policy-conflict-in-spring-boot/56765503#56765503\" title=\"cors policy conflict in spring boot\">stackoverflow.com/questions/56759527/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":957259,"reputation":29625,"user_id":982341,"display_name":"GreyBeardedGeek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1577910848,"creation_date":1577910848,"answer_id":59555913,"question_id":59555658,"body_markdown":"I&#39;ve only ever configured CORS at the application level,\r\nbut the [documentation][1] for the @CrossOrigin annotation says that it allows all origins by default, so you might want to try \r\n`@CrossOrigin()`\r\ninstead of \r\n `@CrossOrigin(origins = &quot;*&quot;)`\r\n\r\nThe documentation also says that it supports &quot;the HTTP methods specified in the @RequestMapping annotation&quot;, so you may need to add the OPTIONS method in addition to GET or POST, or whatever method you are currently using (CORS requires support for the OPTIONS method).\r\n \r\n\r\n  [1]: https://spring.io/guides/gs/rest-service-cors/","title":"CORS in spring boot is not working - getting empty response","body":"<p>I've only ever configured CORS at the application level,\nbut the <a href=\"https://spring.io/guides/gs/rest-service-cors/\" rel=\"nofollow noreferrer\">documentation</a> for the @CrossOrigin annotation says that it allows all origins by default, so you might want to try \n<code>@CrossOrigin()</code>\ninstead of \n <code>@CrossOrigin(origins = \"*\")</code></p>\n\n<p>The documentation also says that it supports \"the HTTP methods specified in the @RequestMapping annotation\", so you may need to add the OPTIONS method in addition to GET or POST, or whatever method you are currently using (CORS requires support for the OPTIONS method).</p>\n"},{"tags":[],"owner":{"account_id":5581157,"reputation":91,"user_id":4422990,"display_name":"PANKAJ PUROHIT"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1577944967,"creation_date":1577944967,"answer_id":59558917,"question_id":59555658,"body_markdown":"I am using it in this way to allow requests from all origins. It is working for me for all of my projects.\r\n    \r\n    package com.example.demo.filters;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    import javax.servlet.FilterChain;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    \r\n    import org.springframework.http.HttpHeaders;\r\n    import org.springframework.stereotype.Component;\r\n    import org.springframework.web.filter.OncePerRequestFilter;\r\n    \r\n    @Component\r\n    public class CORSFilter extends OncePerRequestFilter {\r\n    \r\n    \t@Override\r\n    \tpublic void doFilterInternal(final HttpServletRequest request, final HttpServletResponse response,\r\n    \t\t\tfinal FilterChain filterChain) throws ServletException, IOException {\r\n    \r\n    \t\tresponse.setHeader(HttpHeaders.ACCESS_CONTROL_ALLOW_HEADERS,\r\n    \t\t\t\t&quot;Origin, Content-Type, Accept, Authorization, Accept-Language, connection, Cache-Control, Access-Control-Request-Method, Access-Control-Request-Headers&quot;);\r\n    \t\tresponse.setHeader(HttpHeaders.ACCESS_CONTROL_ALLOW_CREDENTIALS, &quot;true&quot;);\r\n    \t\tresponse.setHeader(HttpHeaders.ACCESS_CONTROL_ALLOW_METHODS, &quot;GET, POST, PUT, PATCH, DELETE, OPTIONS, HEAD&quot;);\r\n    \t\tresponse.setHeader(HttpHeaders.ACCESS_CONTROL_EXPOSE_HEADERS,\r\n    \t\t\t\t&quot;Access-Control-Allow-Origin, Access-Control-Allow-Credentials&quot;);\r\n    \t\tresponse.setHeader(HttpHeaders.ACCESS_CONTROL_ALLOW_ORIGIN, request.getHeader(HttpHeaders.ORIGIN));\r\n    \t\tfilterChain.doFilter(request, response);\r\n    \r\n    \t}\r\n    }","title":"CORS in spring boot is not working - getting empty response","body":"<p>I am using it in this way to allow requests from all origins. It is working for me for all of my projects.</p>\n\n<pre><code>package com.example.demo.filters;\n\nimport java.io.IOException;\n\nimport javax.servlet.FilterChain;\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\nimport org.springframework.http.HttpHeaders;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.filter.OncePerRequestFilter;\n\n@Component\npublic class CORSFilter extends OncePerRequestFilter {\n\n    @Override\n    public void doFilterInternal(final HttpServletRequest request, final HttpServletResponse response,\n            final FilterChain filterChain) throws ServletException, IOException {\n\n        response.setHeader(HttpHeaders.ACCESS_CONTROL_ALLOW_HEADERS,\n                \"Origin, Content-Type, Accept, Authorization, Accept-Language, connection, Cache-Control, Access-Control-Request-Method, Access-Control-Request-Headers\");\n        response.setHeader(HttpHeaders.ACCESS_CONTROL_ALLOW_CREDENTIALS, \"true\");\n        response.setHeader(HttpHeaders.ACCESS_CONTROL_ALLOW_METHODS, \"GET, POST, PUT, PATCH, DELETE, OPTIONS, HEAD\");\n        response.setHeader(HttpHeaders.ACCESS_CONTROL_EXPOSE_HEADERS,\n                \"Access-Control-Allow-Origin, Access-Control-Allow-Credentials\");\n        response.setHeader(HttpHeaders.ACCESS_CONTROL_ALLOW_ORIGIN, request.getHeader(HttpHeaders.ORIGIN));\n        filterChain.doFilter(request, response);\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3858887,"reputation":11,"user_id":3197091,"display_name":"Nishant Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1577965122,"creation_date":1577965122,"answer_id":59562720,"question_id":59555658,"body_markdown":"You can just make use of @CrossOrigin in your api endpoint and not mention origin.\r\n\r\nSpecifying origin may cause impacts on multiple layers of environments too.\r\n","title":"CORS in spring boot is not working - getting empty response","body":"<p>You can just make use of @CrossOrigin in your api endpoint and not mention origin.</p>\n\n<p>Specifying origin may cause impacts on multiple layers of environments too.</p>\n"},{"tags":[],"owner":{"account_id":119643,"reputation":1705,"user_id":3001897,"accept_rate":50,"display_name":"mayid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636042717,"creation_date":1636042717,"answer_id":69842465,"question_id":59555658,"body_markdown":"Keep in mind `Access-Control-Allow-Origin: *` is only used if you don&#39;t have any authentication method (requests without credentials). See:\r\n\r\nhttps://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Origin\r\n\r\n&gt; If an opaque response serves your needs, set the request&#39;s mode to &#39;no-cors&#39; to fetch the resource with CORS disabled\r\n\r\nDon&#39;t use `&#39;no-cors&#39;` in your **fetch** call, because you&#39;ll get **opaque** responses. Either specify `&#39;cors&#39;` or don&#39;t specify anything.\r\n\r\n```javascript\r\nconst response = await fetch(&quot;http://localhost:8080&quot;, {\r\n   method: &#39;GET&#39;,\r\n   // mode: &#39;cors&#39;,\r\n   headers: {\r\n      &#39;Accept&#39;: &#39;application/json&#39;\r\n   }\r\n});\r\n```\r\n\r\nActually, when you get that `200 OK` but `opaque` response it&#39;s not a problem from the server anymore. The response is 200, but the data is opaque because the frontend is probably setting &#39;no-cors&#39; or similar. See:\r\n\r\nhttps://developers.google.com/web/updates/2015/03/introduction-to-fetch\r\n\r\nRegarding the backend, in Spring Boot (w/Kotlin) I&#39;m using this to send \r\n`Access-Control-Allow-Origin: *` header, based on `spring-boot-starter-security` library.\r\n\r\n```kotlin\r\npackage demo.config\r\n\r\nimport org.springframework.context.annotation.Configuration\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter\r\n\r\n@Configuration\r\nclass GeneralApiSecurityConfig() : WebSecurityConfigurerAdapter() {\r\n    override fun configure(http: HttpSecurity) {\r\n        http.cors()\r\n    }\r\n}\r\n```\r\n\r\nJust `http.cors()`\r\n\r\nOh, and it may be a piece of trivial advice but if you are messing with configurations, do **restart your server** each time, otherwise, chances are you are refreshing the frontend client but the server is stuck with previous attempts. \r\n","title":"CORS in spring boot is not working - getting empty response","body":"<p>Keep in mind <code>Access-Control-Allow-Origin: *</code> is only used if you don't have any authentication method (requests without credentials). See:</p>\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Origin\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Origin</a></p>\n<blockquote>\n<p>If an opaque response serves your needs, set the request's mode to 'no-cors' to fetch the resource with CORS disabled</p>\n</blockquote>\n<p>Don't use <code>'no-cors'</code> in your <strong>fetch</strong> call, because you'll get <strong>opaque</strong> responses. Either specify <code>'cors'</code> or don't specify anything.</p>\n<pre class=\"lang-js prettyprint-override\"><code>const response = await fetch(&quot;http://localhost:8080&quot;, {\n   method: 'GET',\n   // mode: 'cors',\n   headers: {\n      'Accept': 'application/json'\n   }\n});\n</code></pre>\n<p>Actually, when you get that <code>200 OK</code> but <code>opaque</code> response it's not a problem from the server anymore. The response is 200, but the data is opaque because the frontend is probably setting 'no-cors' or similar. See:</p>\n<p><a href=\"https://developers.google.com/web/updates/2015/03/introduction-to-fetch\" rel=\"nofollow noreferrer\">https://developers.google.com/web/updates/2015/03/introduction-to-fetch</a></p>\n<p>Regarding the backend, in Spring Boot (w/Kotlin) I'm using this to send\n<code>Access-Control-Allow-Origin: *</code> header, based on <code>spring-boot-starter-security</code> library.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>package demo.config\n\nimport org.springframework.context.annotation.Configuration\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter\n\n@Configuration\nclass GeneralApiSecurityConfig() : WebSecurityConfigurerAdapter() {\n    override fun configure(http: HttpSecurity) {\n        http.cors()\n    }\n}\n</code></pre>\n<p>Just <code>http.cors()</code></p>\n<p>Oh, and it may be a piece of trivial advice but if you are messing with configurations, do <strong>restart your server</strong> each time, otherwise, chances are you are refreshing the frontend client but the server is stuck with previous attempts.</p>\n"}],"owner":{"account_id":2844977,"reputation":59,"user_id":2443638,"display_name":"Hariharan S"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2248,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1636042717,"creation_date":1577908530,"question_id":59555658,"body_markdown":"I am using Spring Boot (Tomcat + Java) for my backend app and React for my front end.\r\nI am trying to access &quot;http://localhost:8080/vr-backend-0.0.1-SNAPSHOT/stockdata/NIFTY19DECFUT?from=2019-12-03&amp;to=2019-12-03&quot; from &quot;http://localhost:3000&quot;.\r\n\r\nI added @CrossOrigin(origins = &quot;*&quot;) both at the controller level and at endpoint level. I am getting empty result.\r\nI added @CrossOrigin both at the controller level and at endpoint level. I am getting empty result.\r\n\r\nIf I remove the @CrossOrigin annotation, I am getting the Cors error. That means the annotation is necessary. The error is &quot;Access to fetch at &#39;http://localhost:8080/vr-backend-0.0.1-SNAPSHOT/stockdata/NIFTY19DECFUT?from=2019-12-03&amp;to=2019-12-03&#39; from origin &#39;http://localhost:3000&#39; has been blocked by CORS policy: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource. If an opaque response serves your needs, set the request&#39;s mode to &#39;no-cors&#39; to fetch the resource with CORS disabled.&quot;\r\n\r\nIf I copy paste the link in the browser directly, it is working and returns JSON.\r\nIf I call &quot;https://cdn.rawgit.com/rrag/react-stockcharts/master/docs/data/MSFT.tsv&quot; it is also returning result.\r\n\r\nTo avoid typos, I did console.log and I am pasting these from console.log.\r\n\r\nI am using fetch for &#39;get&#39;ting.\r\n\r\n[Edit 1]\r\nI am looking at the tomcat logs and will update it shortly.\r\n\r\n[Edit 2]\r\nTL;DR\r\nIt&#39;s not a CORS problem.\r\n\r\nFull description:\r\n1. The response for &quot;http://localhost:8080/vr-backend-0.0.1-SNAPSHOT/stockdata/NIFTY19DECFUT?from=2019-12-03&amp;to=2019-12-03&quot; was 200.\r\n\r\n2. I logged in the spring boot app and looked at the tomcat logs. It reaches the controller method and I get the proper results from DB. When I send the response back, I am getting empty result in the browser. As mentioned before, if I hit the url directly, I am getting proper results.\r\n\r\n3. It is not a preflight OPTIONS request.\r\n\r\n4. So it can be concluded that it is not a CORS problem. @CrossOrigin annotation works\r\n\r\nI looked at the logs after posting the question. So this question can be closed as it is incorrect. If I am not able to fix the empty response problem, I will post a separate question as this question title is misleading.\r\n\r\nThank you all for the response.","title":"CORS in spring boot is not working - getting empty response","body":"<p>I am using Spring Boot (Tomcat + Java) for my backend app and React for my front end.\nI am trying to access \"<a href=\"http://localhost:8080/vr-backend-0.0.1-SNAPSHOT/stockdata/NIFTY19DECFUT?from=2019-12-03&amp;to=2019-12-03\" rel=\"nofollow noreferrer\">http://localhost:8080/vr-backend-0.0.1-SNAPSHOT/stockdata/NIFTY19DECFUT?from=2019-12-03&amp;to=2019-12-03</a>\" from \"<a href=\"http://localhost:3000\" rel=\"nofollow noreferrer\">http://localhost:3000</a>\".</p>\n\n<p>I added @CrossOrigin(origins = \"*\") both at the controller level and at endpoint level. I am getting empty result.\nI added @CrossOrigin both at the controller level and at endpoint level. I am getting empty result.</p>\n\n<p>If I remove the @CrossOrigin annotation, I am getting the Cors error. That means the annotation is necessary. The error is \"Access to fetch at '<a href=\"http://localhost:8080/vr-backend-0.0.1-SNAPSHOT/stockdata/NIFTY19DECFUT?from=2019-12-03&amp;to=2019-12-03\" rel=\"nofollow noreferrer\">http://localhost:8080/vr-backend-0.0.1-SNAPSHOT/stockdata/NIFTY19DECFUT?from=2019-12-03&amp;to=2019-12-03</a>' from origin '<a href=\"http://localhost:3000\" rel=\"nofollow noreferrer\">http://localhost:3000</a>' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource. If an opaque response serves your needs, set the request's mode to 'no-cors' to fetch the resource with CORS disabled.\"</p>\n\n<p>If I copy paste the link in the browser directly, it is working and returns JSON.\nIf I call \"<a href=\"https://cdn.rawgit.com/rrag/react-stockcharts/master/docs/data/MSFT.tsv\" rel=\"nofollow noreferrer\">https://cdn.rawgit.com/rrag/react-stockcharts/master/docs/data/MSFT.tsv</a>\" it is also returning result.</p>\n\n<p>To avoid typos, I did console.log and I am pasting these from console.log.</p>\n\n<p>I am using fetch for 'get'ting.</p>\n\n<p>[Edit 1]\nI am looking at the tomcat logs and will update it shortly.</p>\n\n<p>[Edit 2]\nTL;DR\nIt's not a CORS problem.</p>\n\n<p>Full description:\n1. The response for \"<a href=\"http://localhost:8080/vr-backend-0.0.1-SNAPSHOT/stockdata/NIFTY19DECFUT?from=2019-12-03&amp;to=2019-12-03\" rel=\"nofollow noreferrer\">http://localhost:8080/vr-backend-0.0.1-SNAPSHOT/stockdata/NIFTY19DECFUT?from=2019-12-03&amp;to=2019-12-03</a>\" was 200.</p>\n\n<ol start=\"2\">\n<li><p>I logged in the spring boot app and looked at the tomcat logs. It reaches the controller method and I get the proper results from DB. When I send the response back, I am getting empty result in the browser. As mentioned before, if I hit the url directly, I am getting proper results.</p></li>\n<li><p>It is not a preflight OPTIONS request.</p></li>\n<li><p>So it can be concluded that it is not a CORS problem. @CrossOrigin annotation works</p></li>\n</ol>\n\n<p>I looked at the logs after posting the question. So this question can be closed as it is incorrect. If I am not able to fix the empty response problem, I will post a separate question as this question title is misleading.</p>\n\n<p>Thank you all for the response.</p>\n"},{"tags":["java","junit","console","inputstream"],"comments":[{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":2,"creation_date":1635982412,"post_id":69832692,"comment_id":123440337,"body_markdown":"what is the stack trace of the exception thrown?","body":"what is the stack trace of the exception thrown?"},{"owner":{"account_id":20950751,"reputation":25,"user_id":15392481,"display_name":"metamorphogenesis"},"score":0,"creation_date":1636019020,"post_id":69832692,"comment_id":123447811,"body_markdown":"yeah, I updated the post. Thanks","body":"yeah, I updated the post. Thanks"}],"answers":[{"tags":[],"owner":{"account_id":20950751,"reputation":25,"user_id":15392481,"display_name":"metamorphogenesis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636042407,"creation_date":1636042407,"answer_id":69842410,"question_id":69832692,"body_markdown":"Well. Seems I solved it.\r\n\r\nI just moved Scanner initialization from variable declaration to main().\r\n```java\r\npublic class Main {\r\n    private static Scanner scanner = new Scanner(System.in);\r\n\r\n    public static void main(String[] args) {\r\n        // ....\r\n    }\r\n}\r\n```\r\n\r\nAnd now it works for me.\r\n```java\r\npublic class Main {\r\n    private static Scanner scanner;\r\n\r\n    public static void main(String[] args) {\r\n        scanner = new Scanner(System.in);\r\n        // ....\r\n    }\r\n}\r\n```","title":"Empty InputStream after console I/O redirection","body":"<p>Well. Seems I solved it.</p>\n<p>I just moved Scanner initialization from variable declaration to main().</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    private static Scanner scanner = new Scanner(System.in);\n\n    public static void main(String[] args) {\n        // ....\n    }\n}\n</code></pre>\n<p>And now it works for me.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    private static Scanner scanner;\n\n    public static void main(String[] args) {\n        scanner = new Scanner(System.in);\n        // ....\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20950751,"reputation":25,"user_id":15392481,"display_name":"metamorphogenesis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":315,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69842410,"answer_count":1,"score":1,"last_activity_date":1636042407,"creation_date":1635980327,"question_id":69832692,"body_markdown":"I have to test a program, where user have to enter 3 numbers and then he get result in console output.\r\n\r\nI wrote test and redirected System.in and System.out.\r\nMy test cases look like this:\r\n```java\r\nprivate static ByteArrayOutputStream mockOut;\r\n\r\n@Test\r\npublic void correct_input_test() {\r\n    test(&quot;&gt; x = 0, y = 0&quot;, 1, 0, 0);\r\n    test(&quot;&gt; x = -1, y = 0&quot;, 1, 0, -1);\r\n}\r\n```\r\nHere&#39;s expected console output as first argument and 3 int args to prepare input stream.\r\n\r\n**test()** method is below:\r\n```java\r\nprivate static void test(String expected, int ... args) {\r\n    set(args);       // preparing inputstream and redirecting Sys.i/o\r\n    run(expected);   // running program test after setting up\r\n}\r\n```\r\nAs many integer inputs are allowed as needed. These args passed further to **set()** method where I create an Input stream and redirect System.in \r\n**set()** method:\r\n```java\r\nprivate static void set(int... args) {\r\n    String s = Arrays.stream(args)\r\n               .mapToObj(String::valueOf)\r\n               .collect(Collectors.joining(&quot; &quot;));          // assembling args String\r\n    System.setIn(new ByteArrayInputStream(s.getBytes()));  // redirecting Sys.in \r\n    mockOut = new ByteArrayOutputStream();\r\n    PrintStream stream = new PrintStream(mockOut);\r\n    System.setOut(stream);                                 // redirecting Sys.out\r\n}\r\n```\r\nPassed arguments 1, 0, 0 became a **String s = &quot;1 0 0&quot;**\r\n\r\nAnd finally after set I run method that invokes my program\r\n```java\r\nprivate static void run(String expected) {\r\n    Main.main(null);                                              // call program to catch result\r\n    String[] consoleLines = mockOut.toString().split(&quot;\\n&quot;);       // split console output\r\n    assertEquals(expected, consoleLines[consoleLines.length-1]);  // compare lines\r\n}\r\n```\r\nHere I split on separate lines console output that I get in mockOut object and compare the last line with expected string.\r\n\r\n**It works only if I test one testcase** (if I comment out any of these testcases).\r\n```java\r\n@Test\r\npublic void correct_input_test() {\r\n//    test(&quot;&gt; x = 0, y = 0&quot;, 1, 0, 0);\r\n    test(&quot;&gt; x = -1, y = 0&quot;, 1, 0, -1);\r\n}\r\n```\r\nBut if I try to run both after the second try to invoke program it gets an empty input stream with **java.util.NoSuchElementException** and I actually don&#39;t know why. \r\nI&#39;ve tried to close streams but I guess it doesn&#39;t matter. Each time I call **set()** I create new InputStream with non-empty args-string. \r\nI also tried to restore default System.in and redirect it again in **set()** - no effect.\r\n\r\nCould anyone explain what exactly did I forget?\r\n\r\n\r\nUPD. I Separated my code to methods to explain which is which but in case it will increase readability - here is whole same code below:\r\n\r\n```java\r\nprivate static ByteArrayOutputStream mockOut;\r\n\r\n@Test\r\npublic void correct_input_test() {\r\n    test(&quot;&gt; x = 0, y = 0&quot;, 1, 0, 0);\r\n    test(&quot;&gt; x = -1, y = 0&quot;, 1, 0, -1);\r\n}\r\n\r\nprivate static void test(String expected, int ... args) {\r\n    set(args);       // preparing inputstream and redirecting Sys.i/o\r\n    run(expected);   // running program test after setting up\r\n}\r\n\r\nprivate static void set(int... args) {\r\n    String s = Arrays.stream(args)\r\n               .mapToObj(String::valueOf)\r\n               .collect(Collectors.joining(&quot; &quot;));          // assembling args String\r\n    System.setIn(new ByteArrayInputStream(s.getBytes()));  // redirecting Sys.in \r\n    mockOut = new ByteArrayOutputStream();\r\n    PrintStream stream = new PrintStream(mockOut);\r\n    System.setOut(stream);                                 // redirecting Sys.out\r\n}\r\n\r\nprivate static void run(String expected) {\r\n    Main.main(null);                                              // call program to catch result\r\n    String[] consoleLines = mockOut.toString().split(&quot;\\n&quot;);       // split console output\r\n    assertEquals(expected, consoleLines[consoleLines.length-1]);  // compare lines\r\n}\r\n```\r\n\r\n\r\nUPD.\r\nHere is stack trace:\r\n```java\r\njava.util.NoSuchElementException: \r\n\r\nArguments input incomplete.\r\n\r\n\tat Main.in(Main.java:169)\r\n\tat Main.main(Main.java:19)\r\n\tat MainTest$MainMethodTest.run(MainTest.java:75)\r\n\tat MainTest$MainMethodTest.test(MainTest.java:71)\r\n\tat MainTest$MainMethodTest$SwapMethodTest.correct_input_test(MainTest.java:29)\r\n```\r\n\r\nI know where exactly exception comes from.\r\nHere is **in()** method that called from **main()** to get input from user and exception caught when Scanner tries to read **next()** from input stream:\r\n```java\r\npublic static int in(String message, int from, int to) {\r\n    if (message != null &amp;&amp; !message.isEmpty()) {\r\n        System.out.print(message);\r\n    }\r\n    try {\r\n        String input = scanner.next();\r\n        int num;\r\n\r\n        /*         this code works correctly for me\r\n                   and is just to check \r\n                   if user typed correct number \r\n                   and if the number is in range.\r\n        try {\r\n            if ((num = Integer.parseInt(input)) &lt; from) {\r\n                throw new IllegalArgumentException(&quot;\\n\\nExpected: value &gt;= &quot; + from + &quot;\\nActual:   value = &quot; + num + &quot;\\n&quot;);\r\n            } else if (num &gt; to) {\r\n                throw new IllegalArgumentException(&quot;\\n\\nExpected: value &lt;= &quot; + to + &quot;\\nActual:   value = &quot; + num + &quot;\\n&quot;);\r\n            } else {\r\n                return num;\r\n            }\r\n        } catch (NumberFormatException e) {\r\n            throw new NumberFormatException(&quot;\\n\\nExpected: integer number\\nActual:   &quot; + input + &quot;\\n&quot;);\r\n        }\r\n        */\r\n\r\n    } catch (NoSuchElementException e) {\r\n        throw new NoSuchElementException(&quot;\\n\\nArguments input incomplete.&quot;);\r\n    }   // at Main.in(Main.java:169) - here is line 169\r\n}\r\n```\r\nBut I don&#39;t understand why IS is empty.","title":"Empty InputStream after console I/O redirection","body":"<p>I have to test a program, where user have to enter 3 numbers and then he get result in console output.</p>\n<p>I wrote test and redirected System.in and System.out.\nMy test cases look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static ByteArrayOutputStream mockOut;\n\n@Test\npublic void correct_input_test() {\n    test(&quot;&gt; x = 0, y = 0&quot;, 1, 0, 0);\n    test(&quot;&gt; x = -1, y = 0&quot;, 1, 0, -1);\n}\n</code></pre>\n<p>Here's expected console output as first argument and 3 int args to prepare input stream.</p>\n<p><strong>test()</strong> method is below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static void test(String expected, int ... args) {\n    set(args);       // preparing inputstream and redirecting Sys.i/o\n    run(expected);   // running program test after setting up\n}\n</code></pre>\n<p>As many integer inputs are allowed as needed. These args passed further to <strong>set()</strong> method where I create an Input stream and redirect System.in\n<strong>set()</strong> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static void set(int... args) {\n    String s = Arrays.stream(args)\n               .mapToObj(String::valueOf)\n               .collect(Collectors.joining(&quot; &quot;));          // assembling args String\n    System.setIn(new ByteArrayInputStream(s.getBytes()));  // redirecting Sys.in \n    mockOut = new ByteArrayOutputStream();\n    PrintStream stream = new PrintStream(mockOut);\n    System.setOut(stream);                                 // redirecting Sys.out\n}\n</code></pre>\n<p>Passed arguments 1, 0, 0 became a <strong>String s = &quot;1 0 0&quot;</strong></p>\n<p>And finally after set I run method that invokes my program</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static void run(String expected) {\n    Main.main(null);                                              // call program to catch result\n    String[] consoleLines = mockOut.toString().split(&quot;\\n&quot;);       // split console output\n    assertEquals(expected, consoleLines[consoleLines.length-1]);  // compare lines\n}\n</code></pre>\n<p>Here I split on separate lines console output that I get in mockOut object and compare the last line with expected string.</p>\n<p><strong>It works only if I test one testcase</strong> (if I comment out any of these testcases).</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void correct_input_test() {\n//    test(&quot;&gt; x = 0, y = 0&quot;, 1, 0, 0);\n    test(&quot;&gt; x = -1, y = 0&quot;, 1, 0, -1);\n}\n</code></pre>\n<p>But if I try to run both after the second try to invoke program it gets an empty input stream with <strong>java.util.NoSuchElementException</strong> and I actually don't know why.\nI've tried to close streams but I guess it doesn't matter. Each time I call <strong>set()</strong> I create new InputStream with non-empty args-string.\nI also tried to restore default System.in and redirect it again in <strong>set()</strong> - no effect.</p>\n<p>Could anyone explain what exactly did I forget?</p>\n<p>UPD. I Separated my code to methods to explain which is which but in case it will increase readability - here is whole same code below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static ByteArrayOutputStream mockOut;\n\n@Test\npublic void correct_input_test() {\n    test(&quot;&gt; x = 0, y = 0&quot;, 1, 0, 0);\n    test(&quot;&gt; x = -1, y = 0&quot;, 1, 0, -1);\n}\n\nprivate static void test(String expected, int ... args) {\n    set(args);       // preparing inputstream and redirecting Sys.i/o\n    run(expected);   // running program test after setting up\n}\n\nprivate static void set(int... args) {\n    String s = Arrays.stream(args)\n               .mapToObj(String::valueOf)\n               .collect(Collectors.joining(&quot; &quot;));          // assembling args String\n    System.setIn(new ByteArrayInputStream(s.getBytes()));  // redirecting Sys.in \n    mockOut = new ByteArrayOutputStream();\n    PrintStream stream = new PrintStream(mockOut);\n    System.setOut(stream);                                 // redirecting Sys.out\n}\n\nprivate static void run(String expected) {\n    Main.main(null);                                              // call program to catch result\n    String[] consoleLines = mockOut.toString().split(&quot;\\n&quot;);       // split console output\n    assertEquals(expected, consoleLines[consoleLines.length-1]);  // compare lines\n}\n</code></pre>\n<p>UPD.\nHere is stack trace:</p>\n<pre class=\"lang-java prettyprint-override\"><code>java.util.NoSuchElementException: \n\nArguments input incomplete.\n\n    at Main.in(Main.java:169)\n    at Main.main(Main.java:19)\n    at MainTest$MainMethodTest.run(MainTest.java:75)\n    at MainTest$MainMethodTest.test(MainTest.java:71)\n    at MainTest$MainMethodTest$SwapMethodTest.correct_input_test(MainTest.java:29)\n</code></pre>\n<p>I know where exactly exception comes from.\nHere is <strong>in()</strong> method that called from <strong>main()</strong> to get input from user and exception caught when Scanner tries to read <strong>next()</strong> from input stream:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int in(String message, int from, int to) {\n    if (message != null &amp;&amp; !message.isEmpty()) {\n        System.out.print(message);\n    }\n    try {\n        String input = scanner.next();\n        int num;\n\n        /*         this code works correctly for me\n                   and is just to check \n                   if user typed correct number \n                   and if the number is in range.\n        try {\n            if ((num = Integer.parseInt(input)) &lt; from) {\n                throw new IllegalArgumentException(&quot;\\n\\nExpected: value &gt;= &quot; + from + &quot;\\nActual:   value = &quot; + num + &quot;\\n&quot;);\n            } else if (num &gt; to) {\n                throw new IllegalArgumentException(&quot;\\n\\nExpected: value &lt;= &quot; + to + &quot;\\nActual:   value = &quot; + num + &quot;\\n&quot;);\n            } else {\n                return num;\n            }\n        } catch (NumberFormatException e) {\n            throw new NumberFormatException(&quot;\\n\\nExpected: integer number\\nActual:   &quot; + input + &quot;\\n&quot;);\n        }\n        */\n\n    } catch (NoSuchElementException e) {\n        throw new NoSuchElementException(&quot;\\n\\nArguments input incomplete.&quot;);\n    }   // at Main.in(Main.java:169) - here is line 169\n}\n</code></pre>\n<p>But I don't understand why IS is empty.</p>\n"},{"tags":["java","spring","forms","spring-mvc"],"comments":[{"owner":{"account_id":874523,"reputation":2017,"user_id":1216686,"accept_rate":11,"display_name":"Matt Campbell"},"score":0,"creation_date":1636044412,"post_id":69842363,"comment_id":123458596,"body_markdown":"Maybe I&#39;m just ignorant about the details re what you are trying to do but I notice your two working classes are abstract.  Abstract classes can&#39;t be instantiated but must be extended in order to be of any use.  Is that an issue here?  Just wondering.","body":"Maybe I&#39;m just ignorant about the details re what you are trying to do but I notice your two working classes are abstract.  Abstract classes can&#39;t be instantiated but must be extended in order to be of any use.  Is that an issue here?  Just wondering."},{"owner":{"account_id":20316497,"reputation":11,"user_id":14902287,"display_name":"qualitytime_dev"},"score":0,"creation_date":1636045351,"post_id":69842363,"comment_id":123458991,"body_markdown":"I am passing objects to my view that inherit this abstract class, my @GetMapping and thymeleaf show the data correctly. Posting the form just gives me the outOfBoundsException","body":"I am passing objects to my view that inherit this abstract class, my @GetMapping and thymeleaf show the data correctly. Posting the form just gives me the outOfBoundsException"}],"owner":{"account_id":20316497,"reputation":11,"user_id":14902287,"display_name":"qualitytime_dev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":370,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636042212,"creation_date":1636042212,"question_id":69842363,"body_markdown":"I am running into a very confusing problem. I&#39;m trying to bind a list (of filters) to a form. Displaying the items from the list works fine, but posting them gives me an IndexOutOfBoundsException.\r\n\r\nFor context: this is what my Controller method. Models and forms look like:\r\n\r\n**Controller Method**\r\n```\r\n\t@PostMapping(&quot;/filter&quot;)\r\n\tpublic String FilterLoggingAnalysis(@ModelAttribute LoggingAnalysisFilteringForm filterForm, Model model) {\r\n        ...\r\n\t\treturn &quot;redirect:/&quot;;\r\n\t}\r\n```\r\n\r\n**Wrapper (classes that inherit this object dont have their own get/setters)**\r\n```\r\npublic abstract class AbstractAnalysisFilteringForm&lt;T,G&gt; {\r\n\tprivate List&lt;G&gt; filters;\r\n\t\r\n\tpublic AbstractAnalysisFilteringForm() {\r\n\t}\r\n\t\r\n\tpublic AbstractAnalysisFilteringForm(AbstractAnalysisFilteringForm&lt;T, G&gt; abstractAnalysisFilteringForm) {\r\n\t\tthis.filters = abstractAnalysisFilteringForm.getFilters();\r\n\t}\r\n\t\t\r\n\tpublic List&lt;G&gt; getFilters() {\r\n\t\treturn filters;\r\n\t}\r\n\r\n\tpublic void setFilters(List&lt;G&gt; filters) {\r\n\t\tthis.filters = filters;\r\n\t}\r\n\t\r\n\tpublic void addFilter(G filter) {\r\n\t\tthis.filters.add(filter);\r\n\t}\r\n}\r\n```\r\n**Object to display/edit (classes that inherit this object dont have their own get/setters)**\r\n```\r\npublic abstract class AbstractFilter&lt;T&gt; {\r\n\tprivate String value;\t\r\n\tprivate long id;\r\n\t\r\n\tpublic AbstractFilter(String value) {\r\n\t\tthis.value = value;\r\n\t}\r\n\t\r\n\tpublic AbstractFilter() {\r\n\t}\r\n\t\r\n\tpublic String getValue() {\r\n\t\treturn value;\r\n\t}\r\n\r\n\tpublic void setValue(String value) {\r\n\t\tthis.value = value;\r\n\t}\r\n\r\n\tpublic long getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(long id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n}\r\n```\r\n**Form**\r\n```\r\n\t\t\t&lt;form action=&quot;#&quot; th:action=&quot;@{/filter}&quot; th:object=&quot;${filterForm}&quot; method=&quot;post&quot;&gt;\r\n\t\t\t\t&lt;div th:each=&quot;loggingFilter, iStat : *{filters}&quot; class=&quot;form-group&quot;&gt;\r\n\t\t\t\t\t&lt;label&gt;Filter by text&lt;/label&gt;\r\n\t\t\t\t\t&lt;input th:field=&quot;*{filters[__${iStat.index}__].value}&quot; class=&quot;form-control&quot; placeholder=&quot;Example input&quot; /&gt;\r\n\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t&lt;div class=&quot;form-group&quot;&gt;\r\n\t\t\t\t\t&lt;input id=&quot;submitButton&quot; type=&quot;submit&quot; class=&quot;btn btn-primary&quot; th:value=&quot;Submit&quot; /&gt;\r\n\t\t\t\t&lt;/div&gt;\r\n\t\t\t&lt;/form&gt;\r\n```\r\nAm I missing something? I have used form binding successfully before with the use of a Wrapper class, but not with a list of objects. I&#39;ve looked at the Spring docs but no solution seems to be working","title":"Spring MVC - Index of out of bounds in property path &#39;array[0]&#39; on form post with list binding","body":"<p>I am running into a very confusing problem. I'm trying to bind a list (of filters) to a form. Displaying the items from the list works fine, but posting them gives me an IndexOutOfBoundsException.</p>\n<p>For context: this is what my Controller method. Models and forms look like:</p>\n<p><strong>Controller Method</strong></p>\n<pre><code>    @PostMapping(&quot;/filter&quot;)\n    public String FilterLoggingAnalysis(@ModelAttribute LoggingAnalysisFilteringForm filterForm, Model model) {\n        ...\n        return &quot;redirect:/&quot;;\n    }\n</code></pre>\n<p><strong>Wrapper (classes that inherit this object dont have their own get/setters)</strong></p>\n<pre><code>public abstract class AbstractAnalysisFilteringForm&lt;T,G&gt; {\n    private List&lt;G&gt; filters;\n    \n    public AbstractAnalysisFilteringForm() {\n    }\n    \n    public AbstractAnalysisFilteringForm(AbstractAnalysisFilteringForm&lt;T, G&gt; abstractAnalysisFilteringForm) {\n        this.filters = abstractAnalysisFilteringForm.getFilters();\n    }\n        \n    public List&lt;G&gt; getFilters() {\n        return filters;\n    }\n\n    public void setFilters(List&lt;G&gt; filters) {\n        this.filters = filters;\n    }\n    \n    public void addFilter(G filter) {\n        this.filters.add(filter);\n    }\n}\n</code></pre>\n<p><strong>Object to display/edit (classes that inherit this object dont have their own get/setters)</strong></p>\n<pre><code>public abstract class AbstractFilter&lt;T&gt; {\n    private String value;   \n    private long id;\n    \n    public AbstractFilter(String value) {\n        this.value = value;\n    }\n    \n    public AbstractFilter() {\n    }\n    \n    public String getValue() {\n        return value;\n    }\n\n    public void setValue(String value) {\n        this.value = value;\n    }\n\n    public long getId() {\n        return id;\n    }\n\n    public void setId(long id) {\n        this.id = id;\n    }\n\n}\n</code></pre>\n<p><strong>Form</strong></p>\n<pre><code>            &lt;form action=&quot;#&quot; th:action=&quot;@{/filter}&quot; th:object=&quot;${filterForm}&quot; method=&quot;post&quot;&gt;\n                &lt;div th:each=&quot;loggingFilter, iStat : *{filters}&quot; class=&quot;form-group&quot;&gt;\n                    &lt;label&gt;Filter by text&lt;/label&gt;\n                    &lt;input th:field=&quot;*{filters[__${iStat.index}__].value}&quot; class=&quot;form-control&quot; placeholder=&quot;Example input&quot; /&gt;\n                &lt;/div&gt;\n                &lt;div class=&quot;form-group&quot;&gt;\n                    &lt;input id=&quot;submitButton&quot; type=&quot;submit&quot; class=&quot;btn btn-primary&quot; th:value=&quot;Submit&quot; /&gt;\n                &lt;/div&gt;\n            &lt;/form&gt;\n</code></pre>\n<p>Am I missing something? I have used form binding successfully before with the use of a Wrapper class, but not with a list of objects. I've looked at the Spring docs but no solution seems to be working</p>\n"},{"tags":["java","amazon-web-services","aws-lambda","noclassdeffounderror"],"answers":[{"tags":[],"owner":{"account_id":7753839,"reputation":119,"user_id":5868941,"display_name":"Hermes Flores"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1581517914,"creation_date":1545142647,"answer_id":53835015,"question_id":53776711,"body_markdown":"You should locate the files into a folder,  in according to the language:\r\n\r\n - Node.js –&gt; nodejs/node_modules or nodejs/node8/node_modules\r\n   (NODE_PATH)\r\n   \r\n - Python – python -&gt; python/lib/python3.7/site-packages (site   \r\n   directories)\r\n\r\n - Java –&gt; java/lib (classpath)\r\n\r\n - Ruby –&gt; ruby/gems/2.5.0 (GEM_PATH), ruby/lib (RUBY_LIB)\r\n\r\n - Or default  All –&gt;  bin (PATH), lib (LD_LIBRARY_PATH)\r\n\r\n\r\n\r\nFor more details see: https://docs.aws.amazon.com/en_us/lambda/latest/dg/configuration-layers.html#configuration-layers-path\r\n","title":"How can I use AWS lambda layer by java (Layer is success in Lambda)...error is NoClassDefFoundError","body":"<p>You should locate the files into a folder,  in according to the language:</p>\n\n<ul>\n<li><p>Node.js –> nodejs/node_modules or nodejs/node8/node_modules\n(NODE_PATH)</p></li>\n<li><p>Python – python -> python/lib/python3.7/site-packages (site<br>\ndirectories)</p></li>\n<li><p>Java –> java/lib (classpath)</p></li>\n<li><p>Ruby –> ruby/gems/2.5.0 (GEM_PATH), ruby/lib (RUBY_LIB)</p></li>\n<li><p>Or default  All –>  bin (PATH), lib (LD_LIBRARY_PATH)</p></li>\n</ul>\n\n<p>For more details see: <a href=\"https://docs.aws.amazon.com/en_us/lambda/latest/dg/configuration-layers.html#configuration-layers-path\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/en_us/lambda/latest/dg/configuration-layers.html#configuration-layers-path</a></p>\n"},{"tags":[],"owner":{"account_id":2275402,"reputation":1030,"user_id":2001810,"accept_rate":50,"display_name":"Tahniat Ashraf"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1569073004,"creation_date":1569073004,"answer_id":58040826,"question_id":53776711,"body_markdown":"Anyone trying to figure out how to copy your dependencies (.jar) into `java/lib` directory, this is maven snippet from a project -\r\n\r\n        &lt;build&gt;\r\n        &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven.compiler.plugin.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;${maven.compiler.source}&lt;/source&gt;\r\n                    &lt;target&gt;${maven.compiler.target}&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.8&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;copy-dependencies&lt;/id&gt;\r\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;outputDirectory&gt;${project.build.directory}/classes/java/lib&lt;/outputDirectory&gt;\r\n                            &lt;includeScope&gt;runtime&lt;/includeScope&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;&lt;/plugins&gt;&lt;/build&gt;\r\n\r\n\r\nHope this will come handy to someone","title":"How can I use AWS lambda layer by java (Layer is success in Lambda)...error is NoClassDefFoundError","body":"<p>Anyone trying to figure out how to copy your dependencies (.jar) into <code>java/lib</code> directory, this is maven snippet from a project -</p>\n\n<pre><code>    &lt;build&gt;\n    &lt;plugins&gt;\n            &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${maven.compiler.plugin.version}&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;${maven.compiler.source}&lt;/source&gt;\n                &lt;target&gt;${maven.compiler.target}&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.8&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;copy-dependencies&lt;/id&gt;\n                    &lt;phase&gt;prepare-package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;outputDirectory&gt;${project.build.directory}/classes/java/lib&lt;/outputDirectory&gt;\n                        &lt;includeScope&gt;runtime&lt;/includeScope&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;&lt;/plugins&gt;&lt;/build&gt;\n</code></pre>\n\n<p>Hope this will come handy to someone</p>\n"},{"tags":[],"owner":{"account_id":4480824,"reputation":2249,"user_id":3644938,"accept_rate":50,"display_name":"Ruelos Joel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636041991,"creation_date":1636041991,"answer_id":69842307,"question_id":53776711,"body_markdown":"Ashraf&#39;s answer is correct, however, if you have custom classes that you also wanted to be included in the jar file, you have to zip the whole fat jar to /java/lib like below\r\n\r\n    &lt;assembly xmlns=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n              xsi:schemaLocation=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.0 http://maven.apache.org/xsd/assembly-1.1.0.xsd&quot;&gt;\r\n        &lt;id&gt;bin&lt;/id&gt;\r\n        &lt;baseDirectory&gt;/&lt;/baseDirectory&gt;\r\n        &lt;formats&gt;\r\n            &lt;format&gt;zip&lt;/format&gt;\r\n        &lt;/formats&gt;\r\n        &lt;fileSets&gt;\r\n            &lt;fileSet&gt;\r\n                &lt;directory&gt;${project.build.directory}&lt;/directory&gt;\r\n                &lt;outputDirectory&gt;/java/lib&lt;/outputDirectory&gt;\r\n                &lt;includes&gt;\r\n                    &lt;include&gt;${project.artifactId}.jar&lt;/include&gt;\r\n                &lt;/includes&gt;\r\n            &lt;/fileSet&gt;\r\n        &lt;/fileSets&gt;\r\n    &lt;/assembly&gt;\r\n\r\nThen in your pom.xml, add the plugin and configure this assembly.xml file.\r\n\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.6&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;descriptors&gt;\r\n                        &lt;descriptor&gt;assembly.xml&lt;/descriptor&gt;\r\n                    &lt;/descriptors&gt;\r\n                    &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;make-assembly&lt;/id&gt; &lt;!-- this is used for inheritance merges --&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt; &lt;!-- append to the packaging phase. --&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;","title":"How can I use AWS lambda layer by java (Layer is success in Lambda)...error is NoClassDefFoundError","body":"<p>Ashraf's answer is correct, however, if you have custom classes that you also wanted to be included in the jar file, you have to zip the whole fat jar to /java/lib like below</p>\n<pre><code>&lt;assembly xmlns=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n          xsi:schemaLocation=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.0 http://maven.apache.org/xsd/assembly-1.1.0.xsd&quot;&gt;\n    &lt;id&gt;bin&lt;/id&gt;\n    &lt;baseDirectory&gt;/&lt;/baseDirectory&gt;\n    &lt;formats&gt;\n        &lt;format&gt;zip&lt;/format&gt;\n    &lt;/formats&gt;\n    &lt;fileSets&gt;\n        &lt;fileSet&gt;\n            &lt;directory&gt;${project.build.directory}&lt;/directory&gt;\n            &lt;outputDirectory&gt;/java/lib&lt;/outputDirectory&gt;\n            &lt;includes&gt;\n                &lt;include&gt;${project.artifactId}.jar&lt;/include&gt;\n            &lt;/includes&gt;\n        &lt;/fileSet&gt;\n    &lt;/fileSets&gt;\n&lt;/assembly&gt;\n</code></pre>\n<p>Then in your pom.xml, add the plugin and configure this assembly.xml file.</p>\n<pre><code>        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.6&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;descriptors&gt;\n                    &lt;descriptor&gt;assembly.xml&lt;/descriptor&gt;\n                &lt;/descriptors&gt;\n                &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;make-assembly&lt;/id&gt; &lt;!-- this is used for inheritance merges --&gt;\n                    &lt;phase&gt;package&lt;/phase&gt; &lt;!-- append to the packaging phase. --&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;single&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":10498391,"reputation":71,"user_id":7737816,"display_name":"YouTing Liu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3967,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1636041991,"creation_date":1544779301,"question_id":53776711,"body_markdown":"I built two project and added layers to AWS Lamba successfully.    \r\n\r\nAnd my functions use these two layers. \r\n   \r\n**This is my structure of layer**\r\n\r\n![Screen shot][1]\r\n\r\nWhen I execute the function, an error happened: \r\n\r\n&gt; java.lang.NoClassDefFoundError\r\n\r\nI know the location of the layer is inside/opt, \r\nbut how can I use the layer&#39;s library in functions?\r\n\r\n  [1]: https://i.stack.imgur.com/A8e9f.png","title":"How can I use AWS lambda layer by java (Layer is success in Lambda)...error is NoClassDefFoundError","body":"<p>I built two project and added layers to AWS Lamba successfully.    </p>\n\n<p>And my functions use these two layers. </p>\n\n<p><strong>This is my structure of layer</strong></p>\n\n<p><img src=\"https://i.stack.imgur.com/A8e9f.png\" alt=\"Screen shot\"></p>\n\n<p>When I execute the function, an error happened: </p>\n\n<blockquote>\n  <p>java.lang.NoClassDefFoundError</p>\n</blockquote>\n\n<p>I know the location of the layer is inside/opt, \nbut how can I use the layer's library in functions?</p>\n"},{"tags":["java","json","char","replaceall","file.readalllines"],"answers":[{"tags":[],"owner":{"account_id":3985860,"reputation":456,"user_id":4408813,"display_name":"abstractnature"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1636013455,"creation_date":1636013455,"answer_id":69836060,"question_id":69835995,"body_markdown":"Here is the code, without using any kind of library, (assuming you only have json in form of single arrays like you have.\r\n\r\n    String json = &quot;[\\&quot;23423423\\&quot;, \\&quot;234234234\\&quot;, \\&quot;53453453\\&quot; ]&quot;\r\n    String formattedJson = json.replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;).replace(&quot;\\&quot;&quot;, &quot;&quot;).replace(&quot; &quot;, &quot;&quot;);\r\n    String [] nums = formattedJson.split(&quot;,&quot;);\r\n\r\nAnd you will have your numbers in the nums[] array.","title":"Reading file json and convert to string and replace chars in java8","body":"<p>Here is the code, without using any kind of library, (assuming you only have json in form of single arrays like you have.</p>\n<pre><code>String json = &quot;[\\&quot;23423423\\&quot;, \\&quot;234234234\\&quot;, \\&quot;53453453\\&quot; ]&quot;\nString formattedJson = json.replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;).replace(&quot;\\&quot;&quot;, &quot;&quot;).replace(&quot; &quot;, &quot;&quot;);\nString [] nums = formattedJson.split(&quot;,&quot;);\n</code></pre>\n<p>And you will have your numbers in the nums[] array.</p>\n"},{"tags":[],"owner":{"account_id":16645475,"reputation":23,"user_id":12029891,"display_name":"svz"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1636041979,"creation_date":1636041979,"answer_id":69842304,"question_id":69835995,"body_markdown":"    Path path = Paths.get(&quot;.../.../numbers.json&quot;);\r\n        List&lt;String&gt; listString= Files.readAllLines(path);\r\n        String result = listString.stream()\r\n                .map(String::valueOf)\r\n                .collect(Collectors.joining(&quot;&quot;));\r\n\r\n        result = result.replace(&quot;\\&quot;&quot;, &quot;\\&#39;&quot;);\r\n        result = result.replace(&quot;[&quot;, &quot;&quot;);\r\n        result = result.replace(&quot;]&quot;, &quot;&quot;);\r\n        return result;\r\n\r\nthis is how i code this, but i know, it looks so bad..","title":"Reading file json and convert to string and replace chars in java8","body":"<pre><code>Path path = Paths.get(&quot;.../.../numbers.json&quot;);\n    List&lt;String&gt; listString= Files.readAllLines(path);\n    String result = listString.stream()\n            .map(String::valueOf)\n            .collect(Collectors.joining(&quot;&quot;));\n\n    result = result.replace(&quot;\\&quot;&quot;, &quot;\\'&quot;);\n    result = result.replace(&quot;[&quot;, &quot;&quot;);\n    result = result.replace(&quot;]&quot;, &quot;&quot;);\n    return result;\n</code></pre>\n<p>this is how i code this, but i know, it looks so bad..</p>\n"}],"owner":{"account_id":16645475,"reputation":23,"user_id":12029891,"display_name":"svz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":828,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":2,"score":0,"last_activity_date":1636041979,"creation_date":1636013077,"question_id":69835995,"body_markdown":"How read file and convert from json to string?\r\nExample:\r\ni have file numbers.json\r\n[\r\n&quot;23423423&quot;,\r\n&quot;234234234&quot;,\r\n&quot;53453453&quot;\r\n]\r\n\r\nAnd i want to have:\r\nString numbers = &quot;&#39;23423423&#39;, &#39;234234234&#39;, &#39;53453453&#39;&quot;;","title":"Reading file json and convert to string and replace chars in java8","body":"<p>How read file and convert from json to string?\nExample:\ni have file numbers.json\n[\n&quot;23423423&quot;,\n&quot;234234234&quot;,\n&quot;53453453&quot;\n]</p>\n<p>And i want to have:\nString numbers = &quot;'23423423', '234234234', '53453453'&quot;;</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":1,"creation_date":1635854175,"post_id":69809821,"comment_id":123398454,"body_markdown":"What are you trying to achieve? Count how many elements the set has, whose ids appear in the list? If yes, why the `collectingAndThen` ? Shouldn&#39;t `stream().filter(...).count()` suffice?","body":"What are you trying to achieve? Count how many elements the set has, whose ids appear in the list? If yes, why the <code>collectingAndThen</code> ? Shouldn&#39;t <code>stream().filter(...).count()</code> suffice?"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1635854176,"post_id":69809821,"comment_id":123398456,"body_markdown":"Make `intersectionCount` an `int`. That seems to throw the whole type inference off.","body":"Make <code>intersectionCount</code> an <code>int</code>. That seems to throw the whole type inference off."},{"owner":{"account_id":9162277,"reputation":14688,"user_id":6813231,"accept_rate":56,"display_name":"Alexei"},"score":0,"creation_date":1635855154,"post_id":69809821,"comment_id":123398848,"body_markdown":"@Eritrean I need smt like &quot;stream().filter(...).count() &gt; 0&quot;. Is it possible?","body":"@Eritrean I need smt like &quot;stream().filter(...).count() &gt; 0&quot;. Is it possible?"},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1635856733,"post_id":69809821,"comment_id":123399430,"body_markdown":"@a_subscriber but that would be a boolean not a long.","body":"@a_subscriber but that would be a boolean not a long."},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1635856875,"post_id":69809821,"comment_id":123399481,"body_markdown":"Is this a method? What does it return? Are you trying to return the count of intersection and if the count is 0 throw an exception?","body":"Is this a method? What does it return? Are you trying to return the count of intersection and if the count is 0 throw an exception?"},{"owner":{"account_id":9162277,"reputation":14688,"user_id":6813231,"accept_rate":56,"display_name":"Alexei"},"score":0,"creation_date":1635857721,"post_id":69809821,"comment_id":123399829,"body_markdown":"@Eritrean I need to return count of intersection only if it &gt; 0.","body":"@Eritrean I need to return count of intersection only if it &gt; 0."}],"answers":[{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635859036,"creation_date":1635859036,"answer_id":69811148,"question_id":69809821,"body_markdown":"If I get it right you want to return count of intersection only if not zero else you want to throw an exception. You need to explicitly supply the type of the set to get rid of the error you get:\r\n\r\n    return vsatVlans.stream()\r\n                    .filter(vsatVlan -&gt; mobilityNsVlansList.contains(vsatVlan.getVlanId()))\r\n                    .collect(Collectors.collectingAndThen(Collectors.toSet(),\r\n                        (Set&lt;VsatVlan&gt; set) -&gt; {\r\n                            if (set.size() == 0) {\r\n                                throw new IllegalStateException(&quot;&quot;);\r\n                            }\r\n                            return set.size();\r\n                        }\r\n                   ));\r\n\r\nYou also could use Optionals here and and avoid the if block:\r\n\r\n    return vsatVlans.stream()\r\n                   .filter(vsatVlan -&gt; mobilityNsVlansList.contains(vsatVlan.getVlanId()))\r\n                   .collect(Collectors.collectingAndThen(Collectors.counting(), Optional::of))\r\n                   .filter(x -&gt; x &gt; 0)\r\n                   .orElseThrow(() -&gt; new IllegalStateException(&quot;&quot;));\r\n\r\nbut IMO counting and then checking in a separate if block, is way more readable than the above two:\r\n\r\n    long count = vsatVlans.stream()\r\n                          .filter(vsatVlan -&gt; mobilityNsVlansList.contains(vsatVlan.getVlanId()))\r\n                          .count();\r\n    if(count == 0){\r\n        new IllegalStateException(&quot;&quot;)\r\n    }\r\n    return count;","title":"java: incompatible types: inference variable RR has incompatible bounds","body":"<p>If I get it right you want to return count of intersection only if not zero else you want to throw an exception. You need to explicitly supply the type of the set to get rid of the error you get:</p>\n<pre><code>return vsatVlans.stream()\n                .filter(vsatVlan -&gt; mobilityNsVlansList.contains(vsatVlan.getVlanId()))\n                .collect(Collectors.collectingAndThen(Collectors.toSet(),\n                    (Set&lt;VsatVlan&gt; set) -&gt; {\n                        if (set.size() == 0) {\n                            throw new IllegalStateException(&quot;&quot;);\n                        }\n                        return set.size();\n                    }\n               ));\n</code></pre>\n<p>You also could use Optionals here and and avoid the if block:</p>\n<pre><code>return vsatVlans.stream()\n               .filter(vsatVlan -&gt; mobilityNsVlansList.contains(vsatVlan.getVlanId()))\n               .collect(Collectors.collectingAndThen(Collectors.counting(), Optional::of))\n               .filter(x -&gt; x &gt; 0)\n               .orElseThrow(() -&gt; new IllegalStateException(&quot;&quot;));\n</code></pre>\n<p>but IMO counting and then checking in a separate if block, is way more readable than the above two:</p>\n<pre><code>long count = vsatVlans.stream()\n                      .filter(vsatVlan -&gt; mobilityNsVlansList.contains(vsatVlan.getVlanId()))\n                      .count();\nif(count == 0){\n    new IllegalStateException(&quot;&quot;)\n}\nreturn count;\n</code></pre>\n"}],"owner":{"account_id":9162277,"reputation":14688,"user_id":6813231,"accept_rate":56,"display_name":"Alexei"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":493,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636041945,"creation_date":1635853342,"question_id":69809821,"body_markdown":"jdk 1.8\r\n\r\nSet and Collection.\r\n\r\nI want to get count of intersection that &gt; 0.\r\n\r\nI try this:\r\n```java\r\nSortedSet&lt;VsatVlan&gt; vsatVlans;\r\nCollection&lt;Integer&gt; mobilityNsVlansList = mobilityNS.getVlanIds();\r\n....\r\nlong intersectionCount = vsatVlans.stream()\r\n    .filter(vsatVlan -&gt; mobilityNsVlansList.contains(vsatVlan.getVlanId()))\r\n    .collect(Collectors.collectingAndThen(\r\n        Collectors.toSet(),\r\n        set -&gt; { // error here\r\n            if (set.size() != 1) {\r\n                throw new IllegalStateException();\r\n            }\r\n            return set.size();\r\n        }\r\n    ));\r\n```\r\nBut I get error:\r\n```\r\nincompatible parameter types in lambda expression: expected Set&lt;Object&gt; but found Set&lt;VsatVlan&gt;\r\n\r\njava: incompatible types: inference variable RR has incompatible bounds\r\nlower bounds: java.lang.Long,java.lang.Object\r\nlower bounds: java.lang.Integer\r\n```\r\n","title":"java: incompatible types: inference variable RR has incompatible bounds","body":"<p>jdk 1.8</p>\n<p>Set and Collection.</p>\n<p>I want to get count of intersection that &gt; 0.</p>\n<p>I try this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SortedSet&lt;VsatVlan&gt; vsatVlans;\nCollection&lt;Integer&gt; mobilityNsVlansList = mobilityNS.getVlanIds();\n....\nlong intersectionCount = vsatVlans.stream()\n    .filter(vsatVlan -&gt; mobilityNsVlansList.contains(vsatVlan.getVlanId()))\n    .collect(Collectors.collectingAndThen(\n        Collectors.toSet(),\n        set -&gt; { // error here\n            if (set.size() != 1) {\n                throw new IllegalStateException();\n            }\n            return set.size();\n        }\n    ));\n</code></pre>\n<p>But I get error:</p>\n<pre><code>incompatible parameter types in lambda expression: expected Set&lt;Object&gt; but found Set&lt;VsatVlan&gt;\n\njava: incompatible types: inference variable RR has incompatible bounds\nlower bounds: java.lang.Long,java.lang.Object\nlower bounds: java.lang.Integer\n</code></pre>\n"},{"tags":["java","mongodb","spring-data-mongodb"],"comments":[{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1636087600,"post_id":69842106,"comment_id":123468926,"body_markdown":"You can try `MongoTemplate` API&#39;s _update_ methods and the &quot;upsert&quot; is generally specified as an &quot;update option&quot;. You don&#39;t need to query _and_ then perform an update operation (but, its an option) with an of the [MongoDB update](https://docs.mongodb.com/manual/tutorial/update-documents/) operations.","body":"You can try <code>MongoTemplate</code> API&#39;s <i>update</i> methods and the &quot;upsert&quot; is generally specified as an &quot;update option&quot;. You don&#39;t need to query <i>and</i> then perform an update operation (but, its an option) with an of the <a href=\"https://docs.mongodb.com/manual/tutorial/update-documents/\" rel=\"nofollow noreferrer\">MongoDB update</a> operations."},{"owner":{"account_id":201157,"reputation":12723,"user_id":447426,"accept_rate":62,"display_name":"dermoritz"},"score":0,"creation_date":1636098355,"post_id":69842106,"comment_id":123470897,"body_markdown":"but these update operations can&#39;t be fed with an entity object. I need to make an update object first.","body":"but these update operations can&#39;t be fed with an entity object. I need to make an update object first."}],"owner":{"account_id":201157,"reputation":12723,"user_id":447426,"accept_rate":62,"display_name":"dermoritz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1636041868,"creation_date":1636041198,"question_id":69842106,"body_markdown":"I have a project writing and updating Mongo Documents using Spring Data Mongo. What i need is an upsert semantic that take the document object and decides in data base (of course by just matchin the id) if insert or update is needed.\r\n\r\n- I do not want query and load the document before.\r\n- I want to use the @Document object to specify the update (all fields set should be overwritten, fields set to null should not be included in update (seems to be default behavior of driver))\r\n\r\nMy problem is there seems currently no way?! Either i use &quot;save&quot; from ``MongoRepository`` what always is an insert. Or i use update or findAndModify that only accepts UpdateDefinition as input.\r\n\r\nMy idea is now to create generic method that generates an update object from a given object (@Document) and then using update / findAndModify.\r\nBut in fact that would just implement an upsert semantic and i ask my self - is this not already implemented?\r\n\r\n@Document object -&gt; bson Document / update object -&gt; update with upsert=true\r\n","title":"in spring data mongo how generate Update set object from @Document object in general way - or how upsert(@Document)?","body":"<p>I have a project writing and updating Mongo Documents using Spring Data Mongo. What i need is an upsert semantic that take the document object and decides in data base (of course by just matchin the id) if insert or update is needed.</p>\n<ul>\n<li>I do not want query and load the document before.</li>\n<li>I want to use the @Document object to specify the update (all fields set should be overwritten, fields set to null should not be included in update (seems to be default behavior of driver))</li>\n</ul>\n<p>My problem is there seems currently no way?! Either i use &quot;save&quot; from <code>MongoRepository</code> what always is an insert. Or i use update or findAndModify that only accepts UpdateDefinition as input.</p>\n<p>My idea is now to create generic method that generates an update object from a given object (@Document) and then using update / findAndModify.\nBut in fact that would just implement an upsert semantic and i ask my self - is this not already implemented?</p>\n<p>@Document object -&gt; bson Document / update object -&gt; update with upsert=true</p>\n"},{"tags":["java","spring","validation","spring-validator"],"comments":[{"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"score":0,"creation_date":1636044458,"post_id":69841984,"comment_id":123458616,"body_markdown":"Here&#39;s a [solution](https://stackoverflow.com/a/53208700/2599899) to your problem.","body":"Here&#39;s a <a href=\"https://stackoverflow.com/a/53208700/2599899\">solution</a> to your problem."},{"owner":{"account_id":21988193,"reputation":203,"user_id":16262109,"display_name":"Dave Brady"},"score":0,"creation_date":1636046694,"post_id":69841984,"comment_id":123459498,"body_markdown":"Thanks @ArthurKlezovich I tried specifying @Size(min =2,max=50) still &#39;CustomValidator&#39; class try to validate the productId. Apologize if I&#39;m doing something wrong","body":"Thanks @ArthurKlezovich I tried specifying @Size(min =2,max=50) still &#39;CustomValidator&#39; class try to validate the productId. Apologize if I&#39;m doing something wrong"},{"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"score":0,"creation_date":1636046746,"post_id":69841984,"comment_id":123459517,"body_markdown":"Are you using Spring ? Can you post this code to Github ?","body":"Are you using Spring ? Can you post this code to Github ?"},{"owner":{"account_id":21988193,"reputation":203,"user_id":16262109,"display_name":"Dave Brady"},"score":0,"creation_date":1636047569,"post_id":69841984,"comment_id":123459843,"body_markdown":"Yes I&#39;m using Spring, I have all my code in the original post. If you want I can put in the Github","body":"Yes I&#39;m using Spring, I have all my code in the original post. If you want I can put in the Github"}],"owner":{"account_id":21988193,"reputation":203,"user_id":16262109,"display_name":"Dave Brady"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1935,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1636041838,"creation_date":1636040740,"question_id":69841984,"body_markdown":"I&#39;ve to ignore the validation if value is not set on specific fields. For instance, I&#39;ve `name`, `productId`, `productSerial`, `productDesc` and `productPrice`\r\n\r\nIn this, `name` is mandatory field so always validation happens, rest of the fields are **`optional`** but if value is set in these fields I&#39;ve to validate. So I wrote custom validator for these optional fields and for `name` I&#39;m using `javax.validation.constraints.NotNull` like this `@NotNull(message = &quot;Name cannot be null&quot;)`\r\n\r\n\r\nI get all these value in `Map` from upstream app and set these value in my `Java bean` and perform the `validation`. \r\n\r\nIf all the fields are available in `Map`, validation is working without any issue but if user set only `name` which is mandatory and leave the optional field - my custom validator trying to validate and throwing `NullPointerException` which I don&#39;t want. \r\n\r\nI want my custom validator to validate if values are set on these optional fields else ignore the validation - I don&#39;t know how to achieve this :( It would be really appreciated if someone can help me with this and provide some sample example. \r\n\r\n**Working scenario:**\r\n\r\n    Map&lt;String,String&gt; map = new HashMap();\r\n    map.put(&quot;name&quot;, &quot;Apple&quot;); // Always user will set this value - Mandatory\r\n\r\n    map.put(&quot;productId&quot;, &quot;2342342&quot;); // Optional but need to validate if this value is set\r\n    map.put(&quot;productSerial&quot;, &quot;4334DDF43&quot;); // Optional but need to validate if this value is set\r\n    map.put(&quot;productDesc&quot;, &quot;iPhone&quot;); // Optional but need to validate if this value is set\r\n    map.put(&quot;productPrice&quot;, &quot;1303&quot;); // Optional but need to validate if this value is set\r\n\r\n    // Once I get the map from upstream, I&#39;ve to set the map value in my bean and validate \r\n    Product product = new Product();\r\n    product.setName(map.get(&quot;name&quot;));\r\n    product.setProductId(map.get(&quot;productId&quot;));\r\n    product.setProductSerial(map.get(&quot;productSerial&quot;));\r\n    product.setProductDesc(map.get(&quot;productDesc&quot;));\r\n    product.setProductPrice(map.get(&quot;productPrice&quot;));\r\n\r\n\r\n**Getting NullPointerException when below scenario occurs**\r\n\r\n    Map&lt;String,String&gt; map = new HashMap();\r\n    map.put(&quot;name&quot;, &quot;Apple&quot;); \r\n\r\n    Product product = new Product();\r\n    product.setName(map.get(&quot;name&quot;));\r\n    product.setProductId(map.get(&quot;productId&quot;));\r\n    product.setProductSerial(map.get(&quot;productSerial&quot;));\r\n    product.setProductDesc(map.get(&quot;productDesc&quot;));\r\n    product.setProductPrice(map.get(&quot;productPrice&quot;));\r\n\r\n\r\n**Please find my code below:**\r\n\r\n**Product.java**\r\n\r\n    import lombok.Getter;\r\n    import lombok.Setter;\r\n    import lombok.ToString;\r\n    \r\n    import javax.validation.constraints.NotNull;\r\n    \r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    @ValidParam\r\n    public class Product {\r\n    \r\n        @NotNull(message = &quot;Name cannot be null&quot;)\r\n        private String name;\r\n    \r\n        private String productId;\r\n        private String productSerial;\r\n        private String productDesc;\r\n        private String productPrice;\r\n    }\r\n\r\n**ValidParam.java**\r\n\r\n    import javax.validation.Constraint;\r\n    import javax.validation.Payload;\r\n    import java.lang.annotation.*;\r\n    \r\n    @Documented\r\n    @Constraint(validatedBy = ProductValidator.class)\r\n    @Target({ElementType.TYPE})\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface ValidParam {\r\n        String message() default &quot;Invalid product data.&quot;;\r\n        Class&lt;?&gt;[] groups() default {};\r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n    }\r\n\r\n**ProductValidator.java**\r\n\r\n    import org.springframework.beans.BeanWrapperImpl;\r\n    \r\n    import javax.validation.ConstraintValidator;\r\n    import javax.validation.ConstraintValidatorContext;\r\n    \r\n    \r\n    \r\n    public class ProductValidator implements ConstraintValidator&lt;ValidParam, Object&gt; {\r\n    \r\n        @Override\r\n        public boolean isValid(Object value, ConstraintValidatorContext context) {\r\n    \r\n            String productId = (String) new BeanWrapperImpl(value).getPropertyValue(&quot;productId&quot;);\r\n            String productSerial = (String) new BeanWrapperImpl(value).getPropertyValue(&quot;productSerial&quot;);\r\n    \r\n    \r\n            String productDesc = (String) new BeanWrapperImpl(value).getPropertyValue(&quot;productDesc&quot;);\r\n            String productPrice = (String) new BeanWrapperImpl(value).getPropertyValue(&quot;productPrice&quot;);\r\n    \r\n    \r\n    \r\n            if ((productId != null || productSerial != null) || (productDesc != null &amp;&amp; productPrice != null)) {\r\n                System.out.println(&quot;validation success&quot;);\r\n                return true;\r\n            } else {\r\n                System.out.println(&quot;validation failed&quot;);\r\n                return false;\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n\r\n**Main.java**\r\n\r\n    import javax.validation.ConstraintViolation;\r\n    import javax.validation.Validation;\r\n    import javax.validation.Validator;\r\n    import javax.validation.ValidatorFactory;\r\n    import java.util.Date;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.Set;\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            // I get this Map from the upstream app\r\n            Map&lt;String,String&gt; map = new HashMap();\r\n            map.put(&quot;name&quot;, &quot;Apple&quot;); // Always user will set this value - Mandatory\r\n            map.put(&quot;productId&quot;, &quot;2342342&quot;); // Optional but need to validate if this value is set\r\n            map.put(&quot;productSerial&quot;, &quot;4334DDF43&quot;); // Optional but need to validate if this value is set\r\n            map.put(&quot;productDesc&quot;, &quot;iPhone&quot;); // Optional but need to validate if this value is set\r\n            map.put(&quot;productPrice&quot;, &quot;1303&quot;); // Optional but need to validate if this value is set\r\n           \r\n     // Once I get the map from upstream, I&#39;ve to set the map value in my bean and validate \r\n                Product product = new Product();\r\n                product.setName(map.get(&quot;name&quot;));\r\n                product.setProductId(map.get(&quot;productId&quot;));\r\n                product.setProductSerial(map.get(&quot;productSerial&quot;));\r\n                product.setProductDesc(map.get(&quot;productDesc&quot;));\r\n                product.setProductPrice(map.get(&quot;productPrice&quot;));\r\n                ValidatorFactory factory = Validation.buildDefaultValidatorFactory();\r\n                Validator validator = factory.getValidator();\r\n                Set&lt;ConstraintViolation&lt;Product&gt;&gt; violations = validator.validate(product);\r\n                for (ConstraintViolation&lt;Product&gt; violation : violations) {\r\n                    System.out.println(violation.getMessage());\r\n                    throw new NullPointerException(violation.getMessage());\r\n                }\r\n            }\r\n        }","title":"How to exclude validation on specific fields in Spring Java","body":"<p>I've to ignore the validation if value is not set on specific fields. For instance, I've <code>name</code>, <code>productId</code>, <code>productSerial</code>, <code>productDesc</code> and <code>productPrice</code></p>\n<p>In this, <code>name</code> is mandatory field so always validation happens, rest of the fields are <strong><code>optional</code></strong> but if value is set in these fields I've to validate. So I wrote custom validator for these optional fields and for <code>name</code> I'm using <code>javax.validation.constraints.NotNull</code> like this <code>@NotNull(message = &quot;Name cannot be null&quot;)</code></p>\n<p>I get all these value in <code>Map</code> from upstream app and set these value in my <code>Java bean</code> and perform the <code>validation</code>.</p>\n<p>If all the fields are available in <code>Map</code>, validation is working without any issue but if user set only <code>name</code> which is mandatory and leave the optional field - my custom validator trying to validate and throwing <code>NullPointerException</code> which I don't want.</p>\n<p>I want my custom validator to validate if values are set on these optional fields else ignore the validation - I don't know how to achieve this :( It would be really appreciated if someone can help me with this and provide some sample example.</p>\n<p><strong>Working scenario:</strong></p>\n<pre><code>Map&lt;String,String&gt; map = new HashMap();\nmap.put(&quot;name&quot;, &quot;Apple&quot;); // Always user will set this value - Mandatory\n\nmap.put(&quot;productId&quot;, &quot;2342342&quot;); // Optional but need to validate if this value is set\nmap.put(&quot;productSerial&quot;, &quot;4334DDF43&quot;); // Optional but need to validate if this value is set\nmap.put(&quot;productDesc&quot;, &quot;iPhone&quot;); // Optional but need to validate if this value is set\nmap.put(&quot;productPrice&quot;, &quot;1303&quot;); // Optional but need to validate if this value is set\n\n// Once I get the map from upstream, I've to set the map value in my bean and validate \nProduct product = new Product();\nproduct.setName(map.get(&quot;name&quot;));\nproduct.setProductId(map.get(&quot;productId&quot;));\nproduct.setProductSerial(map.get(&quot;productSerial&quot;));\nproduct.setProductDesc(map.get(&quot;productDesc&quot;));\nproduct.setProductPrice(map.get(&quot;productPrice&quot;));\n</code></pre>\n<p><strong>Getting NullPointerException when below scenario occurs</strong></p>\n<pre><code>Map&lt;String,String&gt; map = new HashMap();\nmap.put(&quot;name&quot;, &quot;Apple&quot;); \n\nProduct product = new Product();\nproduct.setName(map.get(&quot;name&quot;));\nproduct.setProductId(map.get(&quot;productId&quot;));\nproduct.setProductSerial(map.get(&quot;productSerial&quot;));\nproduct.setProductDesc(map.get(&quot;productDesc&quot;));\nproduct.setProductPrice(map.get(&quot;productPrice&quot;));\n</code></pre>\n<p><strong>Please find my code below:</strong></p>\n<p><strong>Product.java</strong></p>\n<pre><code>import lombok.Getter;\nimport lombok.Setter;\nimport lombok.ToString;\n\nimport javax.validation.constraints.NotNull;\n\n@Getter\n@Setter\n@ToString\n@ValidParam\npublic class Product {\n\n    @NotNull(message = &quot;Name cannot be null&quot;)\n    private String name;\n\n    private String productId;\n    private String productSerial;\n    private String productDesc;\n    private String productPrice;\n}\n</code></pre>\n<p><strong>ValidParam.java</strong></p>\n<pre><code>import javax.validation.Constraint;\nimport javax.validation.Payload;\nimport java.lang.annotation.*;\n\n@Documented\n@Constraint(validatedBy = ProductValidator.class)\n@Target({ElementType.TYPE})\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface ValidParam {\n    String message() default &quot;Invalid product data.&quot;;\n    Class&lt;?&gt;[] groups() default {};\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n<p><strong>ProductValidator.java</strong></p>\n<pre><code>import org.springframework.beans.BeanWrapperImpl;\n\nimport javax.validation.ConstraintValidator;\nimport javax.validation.ConstraintValidatorContext;\n\n\n\npublic class ProductValidator implements ConstraintValidator&lt;ValidParam, Object&gt; {\n\n    @Override\n    public boolean isValid(Object value, ConstraintValidatorContext context) {\n\n        String productId = (String) new BeanWrapperImpl(value).getPropertyValue(&quot;productId&quot;);\n        String productSerial = (String) new BeanWrapperImpl(value).getPropertyValue(&quot;productSerial&quot;);\n\n\n        String productDesc = (String) new BeanWrapperImpl(value).getPropertyValue(&quot;productDesc&quot;);\n        String productPrice = (String) new BeanWrapperImpl(value).getPropertyValue(&quot;productPrice&quot;);\n\n\n\n        if ((productId != null || productSerial != null) || (productDesc != null &amp;&amp; productPrice != null)) {\n            System.out.println(&quot;validation success&quot;);\n            return true;\n        } else {\n            System.out.println(&quot;validation failed&quot;);\n            return false;\n        }\n\n    }\n}\n</code></pre>\n<p><strong>Main.java</strong></p>\n<pre><code>import javax.validation.ConstraintViolation;\nimport javax.validation.Validation;\nimport javax.validation.Validator;\nimport javax.validation.ValidatorFactory;\nimport java.util.Date;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.Set;\npublic class Main {\n    public static void main(String[] args) {\n        // I get this Map from the upstream app\n        Map&lt;String,String&gt; map = new HashMap();\n        map.put(&quot;name&quot;, &quot;Apple&quot;); // Always user will set this value - Mandatory\n        map.put(&quot;productId&quot;, &quot;2342342&quot;); // Optional but need to validate if this value is set\n        map.put(&quot;productSerial&quot;, &quot;4334DDF43&quot;); // Optional but need to validate if this value is set\n        map.put(&quot;productDesc&quot;, &quot;iPhone&quot;); // Optional but need to validate if this value is set\n        map.put(&quot;productPrice&quot;, &quot;1303&quot;); // Optional but need to validate if this value is set\n       \n // Once I get the map from upstream, I've to set the map value in my bean and validate \n            Product product = new Product();\n            product.setName(map.get(&quot;name&quot;));\n            product.setProductId(map.get(&quot;productId&quot;));\n            product.setProductSerial(map.get(&quot;productSerial&quot;));\n            product.setProductDesc(map.get(&quot;productDesc&quot;));\n            product.setProductPrice(map.get(&quot;productPrice&quot;));\n            ValidatorFactory factory = Validation.buildDefaultValidatorFactory();\n            Validator validator = factory.getValidator();\n            Set&lt;ConstraintViolation&lt;Product&gt;&gt; violations = validator.validate(product);\n            for (ConstraintViolation&lt;Product&gt; violation : violations) {\n                System.out.println(violation.getMessage());\n                throw new NullPointerException(violation.getMessage());\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","maven","intellij-idea","javafx","azul-zulu"],"answers":[{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636041832,"creation_date":1636041832,"answer_id":69842268,"question_id":69842099,"body_markdown":"It does not look like the problem was with the versions, but with sometime else you&#39;ve changed along the way to solve the problem. \r\n\r\nMaybe IntelliJ restart or Maven reimport changed this.\r\n\r\n&gt; My freshly created JavaFX HelloApplication project couldn&#39;t find JavaFX dependencies\r\n\r\nIt means that the problem is with the classpath IntelliJ uses when you click the `Run` button. ","title":"JavaFX project doesn&#39;t find my JDK FX version","body":"<p>It does not look like the problem was with the versions, but with sometime else you've changed along the way to solve the problem.</p>\n<p>Maybe IntelliJ restart or Maven reimport changed this.</p>\n<blockquote>\n<p>My freshly created JavaFX HelloApplication project couldn't find JavaFX dependencies</p>\n</blockquote>\n<p>It means that the problem is with the classpath IntelliJ uses when you click the <code>Run</code> button.</p>\n"}],"owner":{"account_id":23239904,"reputation":11,"user_id":17329395,"display_name":"averagejavauser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636041832,"creation_date":1636041166,"question_id":69842099,"body_markdown":"I&#39;m fairly new at using IntelliJ IDEA and also Java language overall. I&#39;ve downloaded newest (17.0.1+12) version of JDK FX from Azul and yesterday had some problems with it. My freshly created JavaFX HelloApplication project couldn&#39;t find JavaFX dependencies. It seems that the problem was caused by wrong versions in pom.xml file.\r\n\r\n**When created, versions were:**\r\n\r\n````\r\n&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n&lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n&lt;version&gt;17.0.0.1&lt;/version&gt;\r\n````\r\n````\r\n&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n&lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n&lt;version&gt;17.0.0.1&lt;/version&gt;\r\n````\r\n````\r\n&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n&lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n&lt;version&gt;0.0.7&lt;/version&gt;\r\n````\r\n\r\n**Then i manually changed them to:**\r\n\r\n````\r\n&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n&lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n&lt;version&gt;17-ea+11&lt;/version&gt;\r\n````\r\n````\r\n&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n&lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n&lt;version&gt;17-ea+11&lt;/version&gt;\r\n````\r\n````\r\n&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n&lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n&lt;version&gt;0.0.6&lt;/version&gt;\r\n````\r\n\r\nThis solution worked. When I created same new project again today, versions were set to those that didn&#39;t work previously, but actually work today somehow. What could have happened here? I&#39;m really curious of what could have been done yesterday when the problem ocurred, because even though changing some versions manually does not seem like a hard work to do, but it is really strange that sometimes same things work and sometimes not (in the equivalent situations).","title":"JavaFX project doesn&#39;t find my JDK FX version","body":"<p>I'm fairly new at using IntelliJ IDEA and also Java language overall. I've downloaded newest (17.0.1+12) version of JDK FX from Azul and yesterday had some problems with it. My freshly created JavaFX HelloApplication project couldn't find JavaFX dependencies. It seems that the problem was caused by wrong versions in pom.xml file.</p>\n<p><strong>When created, versions were:</strong></p>\n<pre><code>&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n&lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n&lt;version&gt;17.0.0.1&lt;/version&gt;\n</code></pre>\n<pre><code>&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n&lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n&lt;version&gt;17.0.0.1&lt;/version&gt;\n</code></pre>\n<pre><code>&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n&lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n&lt;version&gt;0.0.7&lt;/version&gt;\n</code></pre>\n<p><strong>Then i manually changed them to:</strong></p>\n<pre><code>&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n&lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n&lt;version&gt;17-ea+11&lt;/version&gt;\n</code></pre>\n<pre><code>&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n&lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n&lt;version&gt;17-ea+11&lt;/version&gt;\n</code></pre>\n<pre><code>&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n&lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n&lt;version&gt;0.0.6&lt;/version&gt;\n</code></pre>\n<p>This solution worked. When I created same new project again today, versions were set to those that didn't work previously, but actually work today somehow. What could have happened here? I'm really curious of what could have been done yesterday when the problem ocurred, because even though changing some versions manually does not seem like a hard work to do, but it is really strange that sometimes same things work and sometimes not (in the equivalent situations).</p>\n"},{"tags":["java","aws-lambda","aws-lambda-layers"],"answers":[{"tags":[],"owner":{"account_id":7716172,"reputation":99,"user_id":5843876,"display_name":"Rock"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1603433479,"creation_date":1603433479,"answer_id":64494781,"question_id":64483961,"body_markdown":"Here the issue was with the directory structure. The layer dependencies should be in a particular directory and it varies with the runtime environment. So in this case the `customlayer-1.1.0.jar` should be in a `java/lib` and then it will be archived. Let&#39;s say the archive name is `customlayer.zip` then the structure will be \r\n\r\n    customlayer.zip\r\n    └ java/lib/customlayer-1.1.0.jar\r\nThis structure will vary with the runtime environment.\r\n\r\nFor more details: [https://docs.aws.amazon.com/lambda/latest/dg/configuration-layers.html][1]\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/lambda/latest/dg/configuration-layers.html","title":"Why invocation of class file in lambda layer throwing error?","body":"<p>Here the issue was with the directory structure. The layer dependencies should be in a particular directory and it varies with the runtime environment. So in this case the <code>customlayer-1.1.0.jar</code> should be in a <code>java/lib</code> and then it will be archived. Let's say the archive name is <code>customlayer.zip</code> then the structure will be</p>\n<pre><code>customlayer.zip\n└ java/lib/customlayer-1.1.0.jar\n</code></pre>\n<p>This structure will vary with the runtime environment.</p>\n<p>For more details: <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/configuration-layers.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/lambda/latest/dg/configuration-layers.html</a></p>\n"},{"tags":[],"owner":{"account_id":4480824,"reputation":2249,"user_id":3644938,"accept_rate":50,"display_name":"Ruelos Joel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636041825,"creation_date":1636041825,"answer_id":69842264,"question_id":64483961,"body_markdown":"Moreover, to create it automatically, one can create an assembly.xml like below.\r\n\r\n    &lt;assembly xmlns=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n              xsi:schemaLocation=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.0 http://maven.apache.org/xsd/assembly-1.1.0.xsd&quot;&gt;\r\n        &lt;id&gt;bin&lt;/id&gt;\r\n        &lt;baseDirectory&gt;/&lt;/baseDirectory&gt;\r\n        &lt;formats&gt;\r\n            &lt;format&gt;zip&lt;/format&gt;\r\n        &lt;/formats&gt;\r\n        &lt;fileSets&gt;\r\n            &lt;fileSet&gt;\r\n                &lt;directory&gt;${project.build.directory}&lt;/directory&gt;\r\n                &lt;outputDirectory&gt;/java/lib&lt;/outputDirectory&gt;\r\n                &lt;includes&gt;\r\n                    &lt;include&gt;${project.artifactId}.jar&lt;/include&gt;\r\n                &lt;/includes&gt;\r\n            &lt;/fileSet&gt;\r\n        &lt;/fileSets&gt;\r\n    &lt;/assembly&gt;\r\n\r\nThen in your pom.xml, add the plugin and configure this assembly.xml file.\r\n\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.6&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;descriptors&gt;\r\n                        &lt;descriptor&gt;assembly.xml&lt;/descriptor&gt;\r\n                    &lt;/descriptors&gt;\r\n                    &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;make-assembly&lt;/id&gt; &lt;!-- this is used for inheritance merges --&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt; &lt;!-- append to the packaging phase. --&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;","title":"Why invocation of class file in lambda layer throwing error?","body":"<p>Moreover, to create it automatically, one can create an assembly.xml like below.</p>\n<pre><code>&lt;assembly xmlns=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n          xsi:schemaLocation=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.0 http://maven.apache.org/xsd/assembly-1.1.0.xsd&quot;&gt;\n    &lt;id&gt;bin&lt;/id&gt;\n    &lt;baseDirectory&gt;/&lt;/baseDirectory&gt;\n    &lt;formats&gt;\n        &lt;format&gt;zip&lt;/format&gt;\n    &lt;/formats&gt;\n    &lt;fileSets&gt;\n        &lt;fileSet&gt;\n            &lt;directory&gt;${project.build.directory}&lt;/directory&gt;\n            &lt;outputDirectory&gt;/java/lib&lt;/outputDirectory&gt;\n            &lt;includes&gt;\n                &lt;include&gt;${project.artifactId}.jar&lt;/include&gt;\n            &lt;/includes&gt;\n        &lt;/fileSet&gt;\n    &lt;/fileSets&gt;\n&lt;/assembly&gt;\n</code></pre>\n<p>Then in your pom.xml, add the plugin and configure this assembly.xml file.</p>\n<pre><code>        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.6&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;descriptors&gt;\n                    &lt;descriptor&gt;assembly.xml&lt;/descriptor&gt;\n                &lt;/descriptors&gt;\n                &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;make-assembly&lt;/id&gt; &lt;!-- this is used for inheritance merges --&gt;\n                    &lt;phase&gt;package&lt;/phase&gt; &lt;!-- append to the packaging phase. --&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;single&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":7716172,"reputation":99,"user_id":5843876,"display_name":"Rock"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":590,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":64494781,"answer_count":2,"score":1,"last_activity_date":1636041825,"creation_date":1603375433,"question_id":64483961,"body_markdown":"I am trying to implement lambda layer using java. I have created a project for lambda layer below are the codes:\r\n\r\n**Layer code**\r\n1. pom.xml\r\n\r\n        &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\t    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven- \r\n        4.0.0.xsd&quot;&gt;\r\n\t        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t        &lt;groupId&gt;com.i3l.layer&lt;/groupId&gt;\r\n\t        &lt;artifactId&gt;customlayer&lt;/artifactId&gt;\r\n\t        &lt;version&gt;1.1.0&lt;/version&gt;\r\n        &lt;/project&gt;\r\n2. DataHandler.java\r\n\r\n       package customlayer;\r\n    \r\n       public class DataHandler {\r\n    \r\n        public String getData(String input) {\r\n    \t   System.out.println(&quot;Inside Layer&quot;);\r\n    \t   return &quot;Hello from Layer &quot;+input;\r\n        }\r\n       }\r\n\r\n**Function code:**\r\nI have added the layer dependency in **pom.xml** like:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.i3l.layer&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;customlayer&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.1.0&lt;/version&gt;\r\n    \t&lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nIn **LambdaFunctionHandler.java**\r\n\r\n    package com.amazonaws.lambda.userlayertest;\r\n\r\n    import com.amazonaws.services.lambda.runtime.Context;\r\n    import com.amazonaws.services.lambda.runtime.RequestHandler;\r\n\r\n    import customlayer.DataHandler;\r\n\r\n    public class LambdaFunctionHandler implements RequestHandler&lt;RequestObject, String&gt; {\r\n\r\n    @Override\r\n    public String handleRequest(RequestObject input, Context context) {\r\n        \r\n    \tSystem.out.println(&quot;call to layer&quot;);\r\n    \tDataHandler dataHandler = new DataHandler();\r\n    \tString data = dataHandler.getData(input.getBody());\r\n        return data;\r\n     }\r\n    }\r\nI tried uploading the jar directly to layer and putting the jar into a zip and then uploading it to layer. In both cases I am getting error:\r\n\r\n&gt; &quot;errorMessage&quot;: &quot;customlayer/DataHandler&quot;,   \r\n&gt; &quot;errorType&quot;: &quot;java.lang.NoClassDefFoundError&quot;,\r\n\r\nNote: I have already added layer with the version number to the lambda function.\r\n\r\nIt would be great if someone help me figuring out why the java class is not found in layer. I have downloaded the code from layer and I can see the class file is in correct path as per the import.\r\n\r\n\r\n","title":"Why invocation of class file in lambda layer throwing error?","body":"<p>I am trying to implement lambda layer using java. I have created a project for lambda layer below are the codes:</p>\n<p><strong>Layer code</strong></p>\n<ol>\n<li><p>pom.xml</p>\n<pre><code> &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven- \n 4.0.0.xsd&quot;&gt;\n     &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n     &lt;groupId&gt;com.i3l.layer&lt;/groupId&gt;\n     &lt;artifactId&gt;customlayer&lt;/artifactId&gt;\n     &lt;version&gt;1.1.0&lt;/version&gt;\n &lt;/project&gt;\n</code></pre>\n</li>\n<li><p>DataHandler.java</p>\n<pre><code>package customlayer;\n\npublic class DataHandler {\n\n public String getData(String input) {\n    System.out.println(&quot;Inside Layer&quot;);\n    return &quot;Hello from Layer &quot;+input;\n }\n}\n</code></pre>\n</li>\n</ol>\n<p><strong>Function code:</strong>\nI have added the layer dependency in <strong>pom.xml</strong> like:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.i3l.layer&lt;/groupId&gt;\n    &lt;artifactId&gt;customlayer&lt;/artifactId&gt;\n    &lt;version&gt;1.1.0&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>In <strong>LambdaFunctionHandler.java</strong></p>\n<pre><code>package com.amazonaws.lambda.userlayertest;\n\nimport com.amazonaws.services.lambda.runtime.Context;\nimport com.amazonaws.services.lambda.runtime.RequestHandler;\n\nimport customlayer.DataHandler;\n\npublic class LambdaFunctionHandler implements RequestHandler&lt;RequestObject, String&gt; {\n\n@Override\npublic String handleRequest(RequestObject input, Context context) {\n    \n    System.out.println(&quot;call to layer&quot;);\n    DataHandler dataHandler = new DataHandler();\n    String data = dataHandler.getData(input.getBody());\n    return data;\n }\n}\n</code></pre>\n<p>I tried uploading the jar directly to layer and putting the jar into a zip and then uploading it to layer. In both cases I am getting error:</p>\n<blockquote>\n<p>&quot;errorMessage&quot;: &quot;customlayer/DataHandler&quot;,<br />\n&quot;errorType&quot;: &quot;java.lang.NoClassDefFoundError&quot;,</p>\n</blockquote>\n<p>Note: I have already added layer with the version number to the lambda function.</p>\n<p>It would be great if someone help me figuring out why the java class is not found in layer. I have downloaded the code from layer and I can see the class file is in correct path as per the import.</p>\n"},{"tags":["javascript","java","jmeter"],"comments":[{"owner":{"account_id":220462,"reputation":177831,"user_id":477878,"display_name":"Joachim Isaksson"},"score":0,"creation_date":1636005297,"post_id":69834951,"comment_id":123443867,"body_markdown":"Quoting the field name with single quotes as in `$..&#39;model code&#39;` should work.","body":"Quoting the field name with single quotes as in <code>$..&#39;model code&#39;</code> should work."}],"answers":[{"tags":[],"owner":{"account_id":1666939,"reputation":1710,"user_id":1534157,"display_name":"Janesh Kodikara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636041432,"creation_date":1636041432,"answer_id":69842169,"question_id":69834951,"body_markdown":"You can use [JSON Extractor][1] to extract the value.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nJSON Path Expression is `[&#39;result&#39;][&#39;model code&#39;]`\r\n\r\n  [1]: https://jmeter.apache.org/usermanual/component_reference.html#JSON_Extractor\r\n  [2]: https://i.stack.imgur.com/hpKN0.png","title":"JMETER - Can&#39;t catch a &#39;token&#39; with blankspace","body":"<p>You can use <a href=\"https://jmeter.apache.org/usermanual/component_reference.html#JSON_Extractor\" rel=\"nofollow noreferrer\">JSON Extractor</a> to extract the value.</p>\n<p><a href=\"https://i.stack.imgur.com/hpKN0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hpKN0.png\" alt=\"enter image description here\" /></a></p>\n<p>JSON Path Expression is <code>['result']['model code']</code></p>\n"}],"owner":{"account_id":23208159,"reputation":15,"user_id":17302053,"display_name":"Mateus Calisto"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69842169,"answer_count":1,"score":-1,"last_activity_date":1636041432,"creation_date":1636004857,"question_id":69834951,"body_markdown":"Being faster, I can&#39;t catch a &quot;token&quot; because have a blank space in the name. How can i fetch them?\r\n\r\nThe result:\r\n\r\n```javascript\r\n{\r\n\t&quot;result&quot;: {\r\n\t\t&quot;returnCode&quot;: &quot;success&quot;,\r\n\t\t**&quot;model code&quot;: &quot;3b6car5tphkvkhp3a5&quot;**\r\n\t}\r\n}\r\n```\r\n\r\n[![Here what im doing][1]][1]\r\n\r\nThe jmeter doesnt catch because have a blank space in model( )code. So, how can I catch the token?\r\n\r\nReally Thank you guys!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/b7FxN.png","title":"JMETER - Can&#39;t catch a &#39;token&#39; with blankspace","body":"<p>Being faster, I can't catch a &quot;token&quot; because have a blank space in the name. How can i fetch them?</p>\n<p>The result:</p>\n<pre class=\"lang-js prettyprint-override\"><code>{\n    &quot;result&quot;: {\n        &quot;returnCode&quot;: &quot;success&quot;,\n        **&quot;model code&quot;: &quot;3b6car5tphkvkhp3a5&quot;**\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/b7FxN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b7FxN.png\" alt=\"Here what im doing\" /></a></p>\n<p>The jmeter doesnt catch because have a blank space in model( )code. So, how can I catch the token?</p>\n<p>Really Thank you guys!</p>\n"},{"tags":["java","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":4784215,"reputation":86,"user_id":3865189,"display_name":"Andrii Polokh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636041300,"creation_date":1636041300,"answer_id":69842133,"question_id":69841782,"body_markdown":"how is your StringListConverter looks like? \r\n\r\nhere is working example for Map, but you can adjust it for your case if you change type reference to List\r\n\r\n```\r\n  @Column(columnDefinition = &quot;text&quot;)\r\n  @Convert(converter = JsonConverter.class)\r\n  private Map&lt;String, String&gt; connectParameters;\r\n```\r\n\r\n\r\n```\r\n@Converter\r\npublic class JsonConverter implements AttributeConverter&lt;Map&lt;String, String&gt;, String&gt; {\r\n\r\n  private final static ObjectMapper objectMapper = new ObjectMapper();\r\n  private final TypeReference&lt;Map&lt;String, String&gt;&gt; mapTypeRef = new TypeReference&lt;Map&lt;String, String&gt;&gt;() {\r\n  };\r\n\r\n  @Override\r\n  public String convertToDatabaseColumn(Map&lt;String, String&gt; data) {\r\n\r\n    if (null == data) {\r\n      return null;\r\n    }\r\n\r\n    try {\r\n      return objectMapper.writeValueAsString(data);\r\n    } catch (JsonProcessingException ex) {\r\n      log.error(&quot;Couldn&#39;t convert data-map to JSON String.&quot;, ex);\r\n      return null;\r\n    }\r\n  }\r\n\r\n  @Override\r\n  public Map&lt;String, String&gt; convertToEntityAttribute(String dbData) {\r\n\r\n    if (null == dbData || dbData.isEmpty()) {\r\n      return Collections.emptyMap();\r\n    }\r\n\r\n    try {\r\n      return objectMapper.readValue(dbData, mapTypeRef);\r\n    } catch (IOException ex) {\r\n      log.error(&quot;Couldn&#39;t convert JSON String to data-map.&quot;, ex);\r\n      return null;\r\n    }\r\n  }\r\n}\r\n\r\n```\r\n\r\n","title":"How do I map a List&lt;String&gt; from JSON to JPA","body":"<p>how is your StringListConverter looks like?</p>\n<p>here is working example for Map, but you can adjust it for your case if you change type reference to List</p>\n<pre><code>  @Column(columnDefinition = &quot;text&quot;)\n  @Convert(converter = JsonConverter.class)\n  private Map&lt;String, String&gt; connectParameters;\n</code></pre>\n<pre><code>@Converter\npublic class JsonConverter implements AttributeConverter&lt;Map&lt;String, String&gt;, String&gt; {\n\n  private final static ObjectMapper objectMapper = new ObjectMapper();\n  private final TypeReference&lt;Map&lt;String, String&gt;&gt; mapTypeRef = new TypeReference&lt;Map&lt;String, String&gt;&gt;() {\n  };\n\n  @Override\n  public String convertToDatabaseColumn(Map&lt;String, String&gt; data) {\n\n    if (null == data) {\n      return null;\n    }\n\n    try {\n      return objectMapper.writeValueAsString(data);\n    } catch (JsonProcessingException ex) {\n      log.error(&quot;Couldn't convert data-map to JSON String.&quot;, ex);\n      return null;\n    }\n  }\n\n  @Override\n  public Map&lt;String, String&gt; convertToEntityAttribute(String dbData) {\n\n    if (null == dbData || dbData.isEmpty()) {\n      return Collections.emptyMap();\n    }\n\n    try {\n      return objectMapper.readValue(dbData, mapTypeRef);\n    } catch (IOException ex) {\n      log.error(&quot;Couldn't convert JSON String to data-map.&quot;, ex);\n      return null;\n    }\n  }\n}\n\n</code></pre>\n"}],"owner":{"account_id":10363449,"reputation":11,"user_id":7643234,"display_name":"Chris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2637,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69842133,"answer_count":1,"score":0,"last_activity_date":1636041300,"creation_date":1636039953,"question_id":69841782,"body_markdown":"I have a List&lt;String&gt; that I want to store in the DB as a JSON string array. I&#39;ve tried various ways of doing it but just can&#39;t get it working.\r\n\r\nThe column is currently defined as:\r\n\r\n    @Column(columnDefinition = &quot;NVARCHAR(4000)&quot;)\r\n    @ElementCollection(targetClass = String.class)\r\n    @Convert(converter = StringListConverter.class)\r\n    protected List&lt;String&gt; tagsT = new ArrayList&lt;&gt;();\r\n\r\nWhen I try build this I get a mapping exception of &quot;Could not determine type for: java.util.List&quot;.\r\n\r\n\r\nAlternatively I&#39;ve also tried defining the column as:\r\n\r\n    @Convert(converter = StringListConverter.class)\r\n    protected ArrayList&lt;String&gt; tagsT = new ArrayList&lt;&gt;();\r\n\r\nThis builds successfully, however it generates a varbinary column which is not what I&#39;m looking for. If I manually change the column to a NVARCHAR(4000) or a VARCHAR(255) then the data written still doesn&#39;t make sense.\r\n\r\nI&#39;ve also tried:\r\n\r\n    @Column(columnDefinition = &quot;NVARCHAR(4000)&quot;)\r\n    @ElementCollection(targetClass = String.class)\r\n    @Convert(converter = StringListConverter.class)\r\n    protected ArrayList&lt;String&gt; tagsT = new ArrayList&lt;&gt;();\r\n\r\nBut got the same results as previously.\r\n\r\n\r\nAny help would be appreciated as to what I&#39;m doing wrong/missing.\r\n\r\nThanks.\r\n\r\n\r\n\r\n","title":"How do I map a List&lt;String&gt; from JSON to JPA","body":"<p>I have a List that I want to store in the DB as a JSON string array. I've tried various ways of doing it but just can't get it working.</p>\n<p>The column is currently defined as:</p>\n<pre><code>@Column(columnDefinition = &quot;NVARCHAR(4000)&quot;)\n@ElementCollection(targetClass = String.class)\n@Convert(converter = StringListConverter.class)\nprotected List&lt;String&gt; tagsT = new ArrayList&lt;&gt;();\n</code></pre>\n<p>When I try build this I get a mapping exception of &quot;Could not determine type for: java.util.List&quot;.</p>\n<p>Alternatively I've also tried defining the column as:</p>\n<pre><code>@Convert(converter = StringListConverter.class)\nprotected ArrayList&lt;String&gt; tagsT = new ArrayList&lt;&gt;();\n</code></pre>\n<p>This builds successfully, however it generates a varbinary column which is not what I'm looking for. If I manually change the column to a NVARCHAR(4000) or a VARCHAR(255) then the data written still doesn't make sense.</p>\n<p>I've also tried:</p>\n<pre><code>@Column(columnDefinition = &quot;NVARCHAR(4000)&quot;)\n@ElementCollection(targetClass = String.class)\n@Convert(converter = StringListConverter.class)\nprotected ArrayList&lt;String&gt; tagsT = new ArrayList&lt;&gt;();\n</code></pre>\n<p>But got the same results as previously.</p>\n<p>Any help would be appreciated as to what I'm doing wrong/missing.</p>\n<p>Thanks.</p>\n"},{"tags":["java","spring","spring-data-jpa","pagination","specifications"],"comments":[{"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1636040937,"post_id":69842024,"comment_id":123456983,"body_markdown":"Are you open to using JPQL here instead of Criteria builder?","body":"Are you open to using JPQL here instead of Criteria builder?"},{"owner":{"account_id":3145310,"reputation":2342,"user_id":2659898,"accept_rate":67,"display_name":"Nikolas"},"score":0,"creation_date":1636041059,"post_id":69842024,"comment_id":123457033,"body_markdown":"@TimBiegeleisen, it&#39;s not possible now :|","body":"@TimBiegeleisen, it&#39;s not possible now :|"}],"owner":{"account_id":3145310,"reputation":2342,"user_id":2659898,"accept_rate":67,"display_name":"Nikolas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":308,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636040850,"creation_date":1636040850,"question_id":69842024,"body_markdown":"I use pagination with specification, how can I add sorting to existing sorting from pagination,\r\nbased on some enumeration values? \r\ne.g. some status has values: A, B, C, D\r\nI want to sort in a way that A and D be in the end of the page:\r\n - B\r\n - C\r\n - A\r\n - D\r\n\r\nI tried to add:\r\n\r\n        private static Specification&lt;MyObj&gt; getMySpec() {\r\n        return (root, query, cb) -&gt; {\r\n            Expression&lt;Object&gt; cases = cb.selectCase()\r\n                    .when(cb.not(cb.and(cb.equal(root.get(&quot;status&quot;), &quot;A&quot;), cb.equal(root.get(&quot;status&quot;), &quot;D&quot;))), 1)\r\n                    .when(cb.equal(root.get(&quot;status&quot;), &quot;A&quot;), 2)\r\n                    .when(cb.equal(root.get(&quot;status&quot;), &quot;D&quot;), 3);\r\n\r\n            Order order = cb.asc(cases);\r\n\r\n            return cb.equal(cb.literal(1), 1); //just to return something. \r\n        };\r\n        }\r\n\r\nbut this doesn&#39;t work","title":"Jpa specification order by some values from the list","body":"<p>I use pagination with specification, how can I add sorting to existing sorting from pagination,\nbased on some enumeration values?\ne.g. some status has values: A, B, C, D\nI want to sort in a way that A and D be in the end of the page:</p>\n<ul>\n<li>B</li>\n<li>C</li>\n<li>A</li>\n<li>D</li>\n</ul>\n<p>I tried to add:</p>\n<pre><code>    private static Specification&lt;MyObj&gt; getMySpec() {\n    return (root, query, cb) -&gt; {\n        Expression&lt;Object&gt; cases = cb.selectCase()\n                .when(cb.not(cb.and(cb.equal(root.get(&quot;status&quot;), &quot;A&quot;), cb.equal(root.get(&quot;status&quot;), &quot;D&quot;))), 1)\n                .when(cb.equal(root.get(&quot;status&quot;), &quot;A&quot;), 2)\n                .when(cb.equal(root.get(&quot;status&quot;), &quot;D&quot;), 3);\n\n        Order order = cb.asc(cases);\n\n        return cb.equal(cb.literal(1), 1); //just to return something. \n    };\n    }\n</code></pre>\n<p>but this doesn't work</p>\n"},{"tags":["java","binding","jaxb","package","maven-jaxb2-plugin"],"comments":[{"owner":{"account_id":2431730,"reputation":1425,"user_id":2122484,"accept_rate":75,"display_name":"Naveen Ramawat"},"score":0,"creation_date":1421747702,"post_id":28041665,"comment_id":44467708,"body_markdown":"Can you try ./common/legacy/*.xsd","body":"Can you try ./common/legacy/*.xsd"}],"answers":[{"tags":[],"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1525433501,"creation_date":1421824478,"answer_id":28061518,"question_id":28041665,"body_markdown":"**Disclaimer:** I&#39;m the author of [`maven-jaxb2-plugin`][1].\r\n\r\nXJC derives packages from namespaces, so you (normally) can&#39;t generate several packages for one namespace. There are a few tricks with `jaxb:class/@ref` but you don&#39;t want those as this may lead to all kinds of collisions.\r\n\r\nSo my suggestion would be to define multiple executions, one per distinct schema in the same namespace. You could use `generatePackage` although I generally advise to define package mappings in bindings instead.\r\n\r\nWhen doing multiple executions, make sure you use distinct `generateDirectory` per execution.\r\n\r\nBy the way, why are you not comfortable with multiple bindings?\r\n\r\n  [1]: https://github.com/highsource/maven-jaxb2-plugin","title":"JAXB binding multiple files with same namespace to same package","body":"<p><strong>Disclaimer:</strong> I'm the author of <a href=\"https://github.com/highsource/maven-jaxb2-plugin\" rel=\"nofollow noreferrer\"><code>maven-jaxb2-plugin</code></a>.</p>\n\n<p>XJC derives packages from namespaces, so you (normally) can't generate several packages for one namespace. There are a few tricks with <code>jaxb:class/@ref</code> but you don't want those as this may lead to all kinds of collisions.</p>\n\n<p>So my suggestion would be to define multiple executions, one per distinct schema in the same namespace. You could use <code>generatePackage</code> although I generally advise to define package mappings in bindings instead.</p>\n\n<p>When doing multiple executions, make sure you use distinct <code>generateDirectory</code> per execution.</p>\n\n<p>By the way, why are you not comfortable with multiple bindings?</p>\n"},{"tags":[],"owner":{"account_id":1736313,"reputation":141,"user_id":1588804,"display_name":"kapitanrum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636040773,"creation_date":1636040773,"answer_id":69842000,"question_id":28041665,"body_markdown":"Use `scd` syntax instead `node=&quot;XPath&quot; schemaLocation=&quot;path or *&quot;`:\r\n\r\n```\r\n&lt;jaxb:bindings scd=&quot;x-schema::tns&quot; xmlns:tns=&quot;http://common/legacy&quot;&gt;\r\n    &lt;jaxb:schemaBindings&gt;\r\n        &lt;jaxb:package name=&quot;com.company.legacy&quot;/&gt;\r\n    &lt;/jaxb:schemaBindings&gt;\r\n&lt;/jaxb:bindings&gt;\r\n```\r\n\r\nSCD is not supported everywhere. Some XJC Customizations, like the [jaxb2-basics][3], not working in `jaxb:bindings`.\r\n\r\n\r\n&gt; * [JAXB RI 2.1 User guide][1]\r\n&gt; * [Schema Component Designator - recommendation][2]\r\n \r\n\r\n  [1]: https://javaee.github.io/jaxb-v2/doc/user-guide/ch03.html#customization-of-schema-compilation-using-scd-for-customizations\r\n  [2]: https://www.w3.org/TR/xmlschema-ref/#scds-conformance\r\n  [3]: https://github.com/highsource/jaxb2-basics","title":"JAXB binding multiple files with same namespace to same package","body":"<p>Use <code>scd</code> syntax instead <code>node=&quot;XPath&quot; schemaLocation=&quot;path or *&quot;</code>:</p>\n<pre><code>&lt;jaxb:bindings scd=&quot;x-schema::tns&quot; xmlns:tns=&quot;http://common/legacy&quot;&gt;\n    &lt;jaxb:schemaBindings&gt;\n        &lt;jaxb:package name=&quot;com.company.legacy&quot;/&gt;\n    &lt;/jaxb:schemaBindings&gt;\n&lt;/jaxb:bindings&gt;\n</code></pre>\n<p>SCD is not supported everywhere. Some XJC Customizations, like the <a href=\"https://github.com/highsource/jaxb2-basics\" rel=\"nofollow noreferrer\">jaxb2-basics</a>, not working in <code>jaxb:bindings</code>.</p>\n<blockquote>\n<ul>\n<li><a href=\"https://javaee.github.io/jaxb-v2/doc/user-guide/ch03.html#customization-of-schema-compilation-using-scd-for-customizations\" rel=\"nofollow noreferrer\">JAXB RI 2.1 User guide</a></li>\n<li><a href=\"https://www.w3.org/TR/xmlschema-ref/#scds-conformance\" rel=\"nofollow noreferrer\">Schema Component Designator - recommendation</a></li>\n</ul>\n</blockquote>\n"}],"owner":{"account_id":312528,"reputation":3109,"user_id":626639,"accept_rate":100,"display_name":"Seega"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7757,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":28061518,"answer_count":2,"score":1,"last_activity_date":1636040773,"creation_date":1421745834,"question_id":28041665,"body_markdown":"I&#39;m having a schema hierarchy like this:\r\n    \r\n    common\r\n       |---legacy\r\n       |      |---legacy.xsd xmlns=&quot;http://common/legacy&quot;\r\n       |      |---other.xsd  xmlns=&quot;http://common/legacy&quot;\r\n       |      &#39;---....xsd    xmlns=&quot;http://common/legacy&quot;\r\n       |---send\r\n              |---file.xsd xmlns=&quot;http://common/send&quot;\r\n              &#39;---text.xsd xmlns=&quot;http://common/send&quot;\r\n              &#39;---....xsd  xmlns=&quot;http://common/send&quot;\r\n\r\nAll files in one folder have the same namespace.\r\n\r\nNow I want to map the namespaces to specific java packages (I cannot change the namespace).\r\n\r\nI found a solution to bind a schema to a package. But then I would have to create one entry per xsd-file:\r\n\r\n    &lt;jaxb:bindings schemaLocation=&quot;./common/legacy/legacy.xsd&quot;&gt;\r\n\t\t&lt;jaxb:schemaBindings&gt;\r\n\t\t\t&lt;jaxb:package name=&quot;com.company/legacy&quot;/&gt;\r\n\t\t&lt;/jaxb:schemaBindings&gt;\r\n\t&lt;/jaxb:bindings&gt;\r\n    &lt;jaxb:bindings schemaLocation=&quot;./common/legacy/other.xsd&quot;&gt;\r\n\t\t&lt;jaxb:schemaBindings&gt;\r\n\t\t\t&lt;jaxb:package name=&quot;com.company/legacy&quot;/&gt;\r\n\t\t&lt;/jaxb:schemaBindings&gt;\r\n\t&lt;/jaxb:bindings&gt;\r\n    .....\r\n\r\nIs there a way to directly define a binding between namespace and a package name?  \r\n\r\nThe other way would be to define the package in maven:\r\n\r\n    &lt;plugin&gt;\r\n\t &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\r\n\t &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\r\n\t &lt;configuration&gt;\r\n\t  &lt;generatePackage&gt;com.company/legacy&lt;/generatePackage&gt;\r\n     &lt;/configuration&gt;\r\n\t&lt;/plugin&gt;\r\n\r\nBut then I would have to create one execution per folder, which is not really what I want.","title":"JAXB binding multiple files with same namespace to same package","body":"<p>I'm having a schema hierarchy like this:</p>\n\n<pre><code>common\n   |---legacy\n   |      |---legacy.xsd xmlns=\"http://common/legacy\"\n   |      |---other.xsd  xmlns=\"http://common/legacy\"\n   |      '---....xsd    xmlns=\"http://common/legacy\"\n   |---send\n          |---file.xsd xmlns=\"http://common/send\"\n          '---text.xsd xmlns=\"http://common/send\"\n          '---....xsd  xmlns=\"http://common/send\"\n</code></pre>\n\n<p>All files in one folder have the same namespace.</p>\n\n<p>Now I want to map the namespaces to specific java packages (I cannot change the namespace).</p>\n\n<p>I found a solution to bind a schema to a package. But then I would have to create one entry per xsd-file:</p>\n\n<pre><code>&lt;jaxb:bindings schemaLocation=\"./common/legacy/legacy.xsd\"&gt;\n    &lt;jaxb:schemaBindings&gt;\n        &lt;jaxb:package name=\"com.company/legacy\"/&gt;\n    &lt;/jaxb:schemaBindings&gt;\n&lt;/jaxb:bindings&gt;\n&lt;jaxb:bindings schemaLocation=\"./common/legacy/other.xsd\"&gt;\n    &lt;jaxb:schemaBindings&gt;\n        &lt;jaxb:package name=\"com.company/legacy\"/&gt;\n    &lt;/jaxb:schemaBindings&gt;\n&lt;/jaxb:bindings&gt;\n.....\n</code></pre>\n\n<p>Is there a way to directly define a binding between namespace and a package name?  </p>\n\n<p>The other way would be to define the package in maven:</p>\n\n<pre><code>&lt;plugin&gt;\n &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\n &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\n &lt;configuration&gt;\n  &lt;generatePackage&gt;com.company/legacy&lt;/generatePackage&gt;\n &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>But then I would have to create one execution per folder, which is not really what I want.</p>\n"},{"tags":["java","android","firebase","android-recyclerview"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1636097292,"post_id":69841311,"comment_id":123470665,"body_markdown":"What exactly is wrong with this code?","body":"What exactly is wrong with this code?"},{"owner":{"account_id":23239441,"reputation":11,"user_id":17329009,"display_name":"Adrian S."},"score":0,"creation_date":1636100789,"post_id":69841311,"comment_id":123471620,"body_markdown":"The method corregirpregunta() works fine for only 1 question but I want to use it in a loop to correct all the questions in the recyclerview. .In the onClick method I tried to get the information out of the firebase with the loop that is commented but it doesn&#39;t work, thats the problem","body":"The method corregirpregunta() works fine for only 1 question but I want to use it in a loop to correct all the questions in the recyclerview. .In the onClick method I tried to get the information out of the firebase with the loop that is commented but it doesn&#39;t work, thats the problem"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1636100918,"post_id":69841311,"comment_id":123471664,"body_markdown":"To understand better, you need to get all children that exist under `A2/Enfermedia/General`, right?","body":"To understand better, you need to get all children that exist under <code>A2&#47;Enfermedia&#47;General</code>, right?"},{"owner":{"account_id":23239441,"reputation":11,"user_id":17329009,"display_name":"Adrian S."},"score":0,"creation_date":1636101322,"post_id":69841311,"comment_id":123471793,"body_markdown":"I need to get the &quot;correcta&quot; variable from firebase and then compare it with the the checked radiobutton from the recycler","body":"I need to get the &quot;correcta&quot; variable from firebase and then compare it with the the checked radiobutton from the recycler"}],"owner":{"account_id":23239441,"reputation":11,"user_id":17329009,"display_name":"Adrian S."},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1636040679,"creation_date":1636038035,"question_id":69841311,"body_markdown":"I&#39;m making a Quizz app  and I have the questions and the answers in Realtime Database, \r\nI have no problem displaying the information in the recyclerview, this recycler view is composed of a radio group of 3 radio buttons, \r\nI need to compare the radio button with the record of the correct answer in realtime database.\r\n\r\n![This is the structure of the database][1]\r\n\r\n   \r\n\r\n     btnacab.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                database.addValueEventListener(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n\r\n                        if(corregido == false){\r\n\r\n                            //for(DataSnapshot dataSnapshot : snapshot.getChildren()){\r\n\r\n                                int cont = 1;\r\n                                String p = &quot;p&quot;;\r\n                                npreg = p + cont;\r\n\r\n                                corregirpregunta(&quot;Enfermeria&quot;, &quot;p1&quot;);\r\n                                corregido = true;\r\n                                btnacab.setText(&quot;SALIR&quot;);\r\n\r\n                                cont++;\r\n                           // }\r\n\r\n                        }else{\r\n                            Intent i = new Intent(ModeloExamen3.this, GeneralTest.class);\r\n                            startActivity(i);\r\n                        }\r\n                        myAdapter.notifyDataSetChanged();\r\n                    }\r\n\r\n                    @Override\r\n                    public void onCancelled(@NonNull DatabaseError error) {\r\n                    }\r\n                });\r\n\r\n                pauseTimer();\r\n            }\r\n        });\r\n        */\r\n    }\r\n\r\n    public void corregirpregunta(String tipo, String npreg){\r\n\r\n        database.child(tipo).child(npreg).addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                PreguntaExamen pregunta = snapshot.getValue(PreguntaExamen.class);\r\n\r\n                if(pregunta != null){\r\n                    String corr = pregunta.getCorrecta();\r\n                    int n = Integer.parseInt(corr.toString());\r\n                    RadioButton rbselected = findViewById(rgrex.getCheckedRadioButtonId());\r\n                    int nresp = rgrex.indexOfChild(rbselected) +1 ;\r\n\r\n                    if(nresp == n){\r\n                        puntuacion++;\r\n                        tvpuntu.setText(&quot;Puntuaci&#243;n: &quot; + puntuacion+&quot;/10&quot;);\r\n                    }\r\n                    resp1.setTextColor(Color.RED);\r\n                    resp2.setTextColor(Color.RED);\r\n                    resp3.setTextColor(Color.RED);\r\n\r\n                    switch (n){\r\n\r\n                        case 1:\r\n                            resp1.setTextColor(Color.GREEN);\r\n                            break;\r\n                        case 2:\r\n                            resp2.setTextColor(Color.GREEN);\r\n                            break;\r\n                        case 3:\r\n                            resp3.setTextColor(Color.GREEN);\r\n                            break;\r\n                    }\r\n                }\r\n            }\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n\r\nThe method to correct a single question works well, the problem is to make a loop so that a single method corrects all the questions that are shown in the recyclerview.\r\n\r\n  [1]: https://i.stack.imgur.com/rmdOL.png","title":"Compare data from RecyclerView with Realtime Database in Firebase","body":"<p>I'm making a Quizz app  and I have the questions and the answers in Realtime Database,\nI have no problem displaying the information in the recyclerview, this recycler view is composed of a radio group of 3 radio buttons,\nI need to compare the radio button with the record of the correct answer in realtime database.</p>\n<p><img src=\"https://i.stack.imgur.com/rmdOL.png\" alt=\"This is the structure of the database\" /></p>\n<pre><code> btnacab.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n\n            database.addValueEventListener(new ValueEventListener() {\n                @Override\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\n\n                    if(corregido == false){\n\n                        //for(DataSnapshot dataSnapshot : snapshot.getChildren()){\n\n                            int cont = 1;\n                            String p = &quot;p&quot;;\n                            npreg = p + cont;\n\n                            corregirpregunta(&quot;Enfermeria&quot;, &quot;p1&quot;);\n                            corregido = true;\n                            btnacab.setText(&quot;SALIR&quot;);\n\n                            cont++;\n                       // }\n\n                    }else{\n                        Intent i = new Intent(ModeloExamen3.this, GeneralTest.class);\n                        startActivity(i);\n                    }\n                    myAdapter.notifyDataSetChanged();\n                }\n\n                @Override\n                public void onCancelled(@NonNull DatabaseError error) {\n                }\n            });\n\n            pauseTimer();\n        }\n    });\n    */\n}\n\npublic void corregirpregunta(String tipo, String npreg){\n\n    database.child(tipo).child(npreg).addListenerForSingleValueEvent(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n            PreguntaExamen pregunta = snapshot.getValue(PreguntaExamen.class);\n\n            if(pregunta != null){\n                String corr = pregunta.getCorrecta();\n                int n = Integer.parseInt(corr.toString());\n                RadioButton rbselected = findViewById(rgrex.getCheckedRadioButtonId());\n                int nresp = rgrex.indexOfChild(rbselected) +1 ;\n\n                if(nresp == n){\n                    puntuacion++;\n                    tvpuntu.setText(&quot;Puntuación: &quot; + puntuacion+&quot;/10&quot;);\n                }\n                resp1.setTextColor(Color.RED);\n                resp2.setTextColor(Color.RED);\n                resp3.setTextColor(Color.RED);\n\n                switch (n){\n\n                    case 1:\n                        resp1.setTextColor(Color.GREEN);\n                        break;\n                    case 2:\n                        resp2.setTextColor(Color.GREEN);\n                        break;\n                    case 3:\n                        resp3.setTextColor(Color.GREEN);\n                        break;\n                }\n            }\n        }\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n        }\n    });\n}\n</code></pre>\n<p>The method to correct a single question works well, the problem is to make a loop so that a single method corrects all the questions that are shown in the recyclerview.</p>\n"},{"tags":["java","loops","optimization","java-8","nested"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1636041803,"post_id":69840507,"comment_id":123457378,"body_markdown":"Something in the code will be doing a nested loop, whether you actually see it or not.","body":"Something in the code will be doing a nested loop, whether you actually see it or not."},{"owner":{"account_id":19601528,"reputation":59,"user_id":14346231,"display_name":"JcAm"},"score":0,"creation_date":1636064607,"post_id":69840507,"comment_id":123465214,"body_markdown":"i kinda knew it but its more like a syntactic sugar","body":"i kinda knew it but its more like a syntactic sugar"},{"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"score":0,"creation_date":1636141243,"post_id":69840507,"comment_id":123486604,"body_markdown":"Do you want to get all the elements or just one ?","body":"Do you want to get all the elements or just one ?"},{"owner":{"account_id":19601528,"reputation":59,"user_id":14346231,"display_name":"JcAm"},"score":0,"creation_date":1636323025,"post_id":69840507,"comment_id":123519581,"body_markdown":"i want all elements","body":"i want all elements"}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636040527,"creation_date":1636040527,"answer_id":69841919,"question_id":69840507,"body_markdown":"`Stream::flatMap` should be used here to provide &quot;access&quot; to the lowest level of nested lists assuming the getters are implemented properly in the sample classes:\r\n```java\r\nList&lt;Test&gt; input = ...; // define input data\r\n\r\nList&lt;AThirdObject&gt; nestedList = input\r\n    .stream() // Stream&lt;Test&gt;\r\n    .flatMap(t -&gt; t.getTestList().stream()) // Stream&lt;AnotherObject&gt;\r\n    .flatMap(ao -&gt; ao.getAnotherList().stream()) // Stream&lt;AThirdObject&gt;\r\n    .collect(Collectors.toList());\r\n```","title":"how to avoid a nested for loop in this problem","body":"<p><code>Stream::flatMap</code> should be used here to provide &quot;access&quot; to the lowest level of nested lists assuming the getters are implemented properly in the sample classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Test&gt; input = ...; // define input data\n\nList&lt;AThirdObject&gt; nestedList = input\n    .stream() // Stream&lt;Test&gt;\n    .flatMap(t -&gt; t.getTestList().stream()) // Stream&lt;AnotherObject&gt;\n    .flatMap(ao -&gt; ao.getAnotherList().stream()) // Stream&lt;AThirdObject&gt;\n    .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":19601528,"reputation":59,"user_id":14346231,"display_name":"JcAm"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":364,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69841919,"answer_count":1,"score":0,"last_activity_date":1636040527,"creation_date":1636034644,"question_id":69840507,"body_markdown":"given these object\r\n\r\n**Test**\r\n\r\n     int one;\r\n     int two;\r\n     List&lt;AnotherObject&gt; testList.\r\n\r\n**AnotherObject**\r\n\r\n     string name;\r\n     int three; \r\n     List&lt;AthirdObject&gt; anotherList;\r\n\r\n\r\n**AThirdObject**\r\n\r\n     string surname;\r\n     int    id;\r\n     \r\n\r\n\r\n\r\n\r\nassuming we have List &lt; Test &gt; how can i reach AThirdObject without using a nested for loop , thx in advance\r\n\r\n   ","title":"how to avoid a nested for loop in this problem","body":"<p>given these object</p>\n<p><strong>Test</strong></p>\n<pre><code> int one;\n int two;\n List&lt;AnotherObject&gt; testList.\n</code></pre>\n<p><strong>AnotherObject</strong></p>\n<pre><code> string name;\n int three; \n List&lt;AthirdObject&gt; anotherList;\n</code></pre>\n<p><strong>AThirdObject</strong></p>\n<pre><code> string surname;\n int    id;\n \n</code></pre>\n<p>assuming we have List &lt; Test &gt; how can i reach AThirdObject without using a nested for loop , thx in advance</p>\n"},{"tags":["java","spring","spring-cloud","feign"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1635932286,"post_id":69822001,"comment_id":123421362,"body_markdown":"Did you update Java and Springboot as well?","body":"Did you update Java and Springboot as well?"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1635932378,"post_id":69822001,"comment_id":123421397,"body_markdown":"&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n\nIs this the dependency you are using?","body":"&lt;dependency&gt;     &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;     &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt; &lt;/dependency&gt;   Is this the dependency you are using?"},{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1635966110,"post_id":69822001,"comment_id":123435620,"body_markdown":"please put your pom in the question","body":"please put your pom in the question"}],"answers":[{"tags":[],"owner":{"account_id":2981539,"reputation":3702,"user_id":2531402,"accept_rate":25,"display_name":"OlgaMaciaszek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636040348,"creation_date":1636040348,"answer_id":69841879,"question_id":69822001,"body_markdown":"This is a known issue. Please see the GitHub issue [here][1] and a workaround that can be applied till the issue is fixed [here][2].\r\n\r\n\r\n  [1]: https://github.com/spring-cloud/spring-cloud-openfeign/issues/475\r\n  [2]: https://github.com/spring-cloud/spring-cloud-openfeign/issues/600#issuecomment-916737892","title":"Feign Client : use jar running (CompletableFuture.supplyAsync call Feign Client throw java.lang.IllegalArgumentException)","body":"<p>This is a known issue. Please see the GitHub issue <a href=\"https://github.com/spring-cloud/spring-cloud-openfeign/issues/475\" rel=\"nofollow noreferrer\">here</a> and a workaround that can be applied till the issue is fixed <a href=\"https://github.com/spring-cloud/spring-cloud-openfeign/issues/600#issuecomment-916737892\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":23224399,"reputation":3,"user_id":17316115,"display_name":"ichade"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1587,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69841879,"answer_count":1,"score":0,"last_activity_date":1636040348,"creation_date":1635929558,"question_id":69822001,"body_markdown":"when i up jdk version 8 -&gt; 17, spring cloud version 2020.0.3, spring boot 2.5.4;\r\n\r\nCompletableFuture.supplyAsync call Feign Client Code working abnormally；\r\n\r\n```\r\n\r\n@FeignClient(value = &quot;mall-product&quot;, configuration = {FeignErrorDecoder.class, FeignInterceptor.class, FeignConfig.class}, decode404 = true, contextId = &quot;mall-product-productSku&quot;)\r\npublic interface ProductSkuFeignClient {\r\n    default List&lt;ProductSimpleResponse&gt; findSimpleInfoByProductIds(List&lt;Integer&gt; productIds) {\r\n        List&lt;List&lt;Integer&gt;&gt; lists = CompletableFutureUtil.splitList1000(productIds.stream().distinct().collect(Collectors.toList()));\r\n        List&lt;List&lt;ProductSimpleResponse&gt;&gt; responses = CompletableFutureUtil.allOfTaskAndReturn(ids -&gt;\r\n                findSimpleInfoByProductIds(new ProductIdsRequest(ids)), lists);\r\n        return responses.stream().flatMap(Collection::stream).collect(Collectors.toList());\r\n    }\r\n\r\n    @PostMapping(&quot;/api/product/sku/simple/info/by/productIds&quot;)\r\n    List&lt;ProductSimpleResponse&gt; findSimpleInfoByProductIds(@RequestBody ProductIdsRequest request);\r\n}\r\n```\r\n\r\n```\r\n    public static &lt;T, R&gt; List&lt;R&gt; allOfTaskAndReturn(Function&lt;T, R&gt; function, List&lt;T&gt; objects) {\r\n        List&lt;CompletableFuture&lt;R&gt;&gt; futures = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; objects.size(); i++) {\r\n            int finalI = i;\r\n            futures.add(CompletableFuture.supplyAsync(() -&gt;\r\n                    function.apply(objects.get(finalI)), pool));\r\n        }\r\n        CompletableFuture&lt;Void&gt; allCompletableFuture = CompletableFuture\r\n                .allOf(futures.toArray(new CompletableFuture[0]));\r\n        return allCompletableFuture.thenApply(e -&gt;\r\n                futures.stream().map(CompletableFuture::join)\r\n                        .collect(Collectors.toList())).join();\r\n    }\r\n```\r\n\r\n&gt; 2021-11-03 02:34:53.078 [http-nio-8095-exec-4] [ERROR] [5cc877af-3b0a-450e-af46-469b9c20378c] j.c.f.c.CommonGlobalExceptionHandler@toLog:57 - CompletionException java.lang.IllegalArgumentException: Could not find class [org.springframework.boot.autoconfigure.condition.OnPropertyCondition]\r\n                java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315)\r\n                java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320)\r\n                java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770)\r\n                java.base/java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1760)\r\n                java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373)\r\n                java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1182)\r\n                java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1655)\r\n                java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1622)\r\n                java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:165)\r\n","title":"Feign Client : use jar running (CompletableFuture.supplyAsync call Feign Client throw java.lang.IllegalArgumentException)","body":"<p>when i up jdk version 8 -&gt; 17, spring cloud version 2020.0.3, spring boot 2.5.4;</p>\n<p>CompletableFuture.supplyAsync call Feign Client Code working abnormally；</p>\n<pre><code>\n@FeignClient(value = &quot;mall-product&quot;, configuration = {FeignErrorDecoder.class, FeignInterceptor.class, FeignConfig.class}, decode404 = true, contextId = &quot;mall-product-productSku&quot;)\npublic interface ProductSkuFeignClient {\n    default List&lt;ProductSimpleResponse&gt; findSimpleInfoByProductIds(List&lt;Integer&gt; productIds) {\n        List&lt;List&lt;Integer&gt;&gt; lists = CompletableFutureUtil.splitList1000(productIds.stream().distinct().collect(Collectors.toList()));\n        List&lt;List&lt;ProductSimpleResponse&gt;&gt; responses = CompletableFutureUtil.allOfTaskAndReturn(ids -&gt;\n                findSimpleInfoByProductIds(new ProductIdsRequest(ids)), lists);\n        return responses.stream().flatMap(Collection::stream).collect(Collectors.toList());\n    }\n\n    @PostMapping(&quot;/api/product/sku/simple/info/by/productIds&quot;)\n    List&lt;ProductSimpleResponse&gt; findSimpleInfoByProductIds(@RequestBody ProductIdsRequest request);\n}\n</code></pre>\n<pre><code>    public static &lt;T, R&gt; List&lt;R&gt; allOfTaskAndReturn(Function&lt;T, R&gt; function, List&lt;T&gt; objects) {\n        List&lt;CompletableFuture&lt;R&gt;&gt; futures = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; objects.size(); i++) {\n            int finalI = i;\n            futures.add(CompletableFuture.supplyAsync(() -&gt;\n                    function.apply(objects.get(finalI)), pool));\n        }\n        CompletableFuture&lt;Void&gt; allCompletableFuture = CompletableFuture\n                .allOf(futures.toArray(new CompletableFuture[0]));\n        return allCompletableFuture.thenApply(e -&gt;\n                futures.stream().map(CompletableFuture::join)\n                        .collect(Collectors.toList())).join();\n    }\n</code></pre>\n<blockquote>\n<p>2021-11-03 02:34:53.078 [http-nio-8095-exec-4] [ERROR] [5cc877af-3b0a-450e-af46-469b9c20378c] j.c.f.c.CommonGlobalExceptionHandler@toLog:57 - CompletionException java.lang.IllegalArgumentException: Could not find class [org.springframework.boot.autoconfigure.condition.OnPropertyCondition]\njava.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315)\njava.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320)\njava.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770)\njava.base/java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1760)\njava.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373)\njava.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1182)\njava.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1655)\njava.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1622)\njava.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:165)</p>\n</blockquote>\n"},{"tags":["java","awt","swt"],"comments":[{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1636023993,"post_id":69838237,"comment_id":123449729,"body_markdown":"This looks like SWT code - which doesn&#39;t use things like `JButton` - don&#39;t try and mix SWT and AWT/Swing, it doesn&#39;t work.","body":"This looks like SWT code - which doesn&#39;t use things like <code>JButton</code> - don&#39;t try and mix SWT and AWT/Swing, it doesn&#39;t work."},{"owner":{"account_id":23133748,"reputation":3,"user_id":17238257,"display_name":"Dee"},"score":0,"creation_date":1636024392,"post_id":69838237,"comment_id":123449909,"body_markdown":"I am not trying to mix the code actually up to pop up it is fine. I am not able to set text to required field as the buttons and text field both are on different shells.","body":"I am not trying to mix the code actually up to pop up it is fine. I am not able to set text to required field as the buttons and text field both are on different shells."},{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1636024639,"post_id":69838237,"comment_id":123450010,"body_markdown":"It makes no difference that they are in different shells, SWT and AWT/Swing have different event loops making it hard to get code using both of them to work properly. To make it work at all you need to use `SWT_AWT.new_Frame` - are you doing that?","body":"It makes no difference that they are in different shells, SWT and AWT/Swing have different event loops making it hard to get code using both of them to work properly. To make it work at all you need to use <code>SWT_AWT.new_Frame</code> - are you doing that?"},{"owner":{"account_id":23133748,"reputation":3,"user_id":17238257,"display_name":"Dee"},"score":0,"creation_date":1636025056,"post_id":69838237,"comment_id":123450194,"body_markdown":"Yes I have used like  &quot;java.awt.Frame fileFrame = SWT_AWT.new_Frame(treeComp);&quot;","body":"Yes I have used like  &quot;java.awt.Frame fileFrame = SWT_AWT.new_Frame(treeComp);&quot;"},{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1636026363,"post_id":69838237,"comment_id":123450658,"body_markdown":"But why are you using AWT/Swing for this? It doesn&#39;t seem like anything that can&#39;t be done easily in SWT. Trying to set the value of SWT Labels from AWT callbacks seems likely to be problematic.","body":"But why are you using AWT/Swing for this? It doesn&#39;t seem like anything that can&#39;t be done easily in SWT. Trying to set the value of SWT Labels from AWT callbacks seems likely to be problematic."}],"answers":[{"tags":[],"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636040248,"creation_date":1636040248,"answer_id":69841854,"question_id":69838237,"body_markdown":"This code implements to pop-up you show in SWT and sets the `labelTxt` field. Since it is all SWT there are no issues with AWT/SWT interaction. It assumes that `labelTxt` is a field in the containing class.\r\n\r\nThe code uses the JFace `GridDataFactory` and `GridLayoutFactory` but can be converted to just SWT if required. It also uses `var` so Java 10 or later is needed (again could be changed to Java 8).\r\n  ```java\r\n  private void openPopup(final Shell parentShell)\r\n  {\r\n    final var shell = new Shell(parentShell, SWT.ON_TOP | SWT.TOOL);\r\n\r\n    shell.setLayout(new GridLayout());\r\n\r\n    // Composite for the main set of buttons\r\n\r\n    final var body = new Composite(shell, SWT.NONE);\r\n\r\n    GridDataFactory.fillDefaults().align(SWT.CENTER, SWT.CENTER).grab(true, false).applyTo(body);\r\n\r\n    GridLayoutFactory.swtDefaults().numColumns(4).equalWidth(true).margins(15, 5).spacing(1, 1).applyTo(body);\r\n\r\n    new Label(body, SWT.LEAD);\r\n    addButton(body, &quot;RR&quot;);\r\n    addButton(body, &quot;3&quot;);\r\n    new Label(body, SWT.LEAD);\r\n\r\n    addButton(body, &quot;7&quot;);\r\n    addButton(body, &quot;5&quot;);\r\n    addButton(body, &quot;R6&quot;);\r\n    addButton(body, &quot;1&quot;);\r\n\r\n    addButton(body, &quot;74&quot;);\r\n    addButton(body, &quot;we&quot;);\r\n    addButton(body, &quot;FL&quot;);\r\n    addButton(body, &quot;23&quot;);\r\n\r\n    addButton(body, &quot;R4&quot;);\r\n    addButton(body, &quot;R3&quot;);\r\n    addButton(body, &quot;R2&quot;);\r\n    addButton(body, &quot;R1&quot;);\r\n\r\n    // Horizontal spacer\r\n\r\n    final var spacer1 = new Label(shell, SWT.SEPARATOR | SWT.HORIZONTAL);\r\n    GridDataFactory.fillDefaults().applyTo(spacer1);\r\n\r\n    // Right aligned close button\r\n\r\n    final var closeButton = new Button(shell, SWT.PUSH);\r\n    closeButton.setText(&quot;Cancel&quot;);\r\n\r\n    closeButton.addListener(SWT.Selection, event -&gt; shell.close());\r\n\r\n    GridDataFactory.fillDefaults().align(SWT.END, SWT.CENTER).grab(true, false).applyTo(closeButton);\r\n\r\n    // Layout and open shell\r\n\r\n    shell.layout();\r\n    shell.pack();\r\n\r\n    shell.open();\r\n\r\n    // Block until closed\r\n\r\n    final var display  = shell.getDisplay();\r\n\r\n    while (!shell.isDisposed())\r\n     {\r\n       if (!display.readAndDispatch())\r\n         display.sleep();\r\n     }\r\n\r\n    display.update();\r\n  }\r\n\r\n\r\n  private static void addButton(final Composite body, final String text)\r\n  {\r\n    final var button = new Button(body, SWT.PUSH | SWT.FLAT);   // Flat style is optional here\r\n\r\n    button.setText(text);\r\n\r\n    GridDataFactory.fillDefaults().hint(75, 40).applyTo(button); // Adjust hints to change button size to suit\r\n\r\n    button.addListener(SWT.Selection, event -&gt;\r\n      {\r\n        labelTxt.setText(text);\r\n\r\n        button.getShell().close();\r\n      });\r\n  }\r\n```","title":"How to write an action listener for multiple Jbuttons","body":"<p>This code implements to pop-up you show in SWT and sets the <code>labelTxt</code> field. Since it is all SWT there are no issues with AWT/SWT interaction. It assumes that <code>labelTxt</code> is a field in the containing class.</p>\n<p>The code uses the JFace <code>GridDataFactory</code> and <code>GridLayoutFactory</code> but can be converted to just SWT if required. It also uses <code>var</code> so Java 10 or later is needed (again could be changed to Java 8).</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void openPopup(final Shell parentShell)\n{\n  final var shell = new Shell(parentShell, SWT.ON_TOP | SWT.TOOL);\n\n  shell.setLayout(new GridLayout());\n\n  // Composite for the main set of buttons\n\n  final var body = new Composite(shell, SWT.NONE);\n\n  GridDataFactory.fillDefaults().align(SWT.CENTER, SWT.CENTER).grab(true, false).applyTo(body);\n\n  GridLayoutFactory.swtDefaults().numColumns(4).equalWidth(true).margins(15, 5).spacing(1, 1).applyTo(body);\n\n  new Label(body, SWT.LEAD);\n  addButton(body, &quot;RR&quot;);\n  addButton(body, &quot;3&quot;);\n  new Label(body, SWT.LEAD);\n\n  addButton(body, &quot;7&quot;);\n  addButton(body, &quot;5&quot;);\n  addButton(body, &quot;R6&quot;);\n  addButton(body, &quot;1&quot;);\n\n  addButton(body, &quot;74&quot;);\n  addButton(body, &quot;we&quot;);\n  addButton(body, &quot;FL&quot;);\n  addButton(body, &quot;23&quot;);\n\n  addButton(body, &quot;R4&quot;);\n  addButton(body, &quot;R3&quot;);\n  addButton(body, &quot;R2&quot;);\n  addButton(body, &quot;R1&quot;);\n\n  // Horizontal spacer\n\n  final var spacer1 = new Label(shell, SWT.SEPARATOR | SWT.HORIZONTAL);\n  GridDataFactory.fillDefaults().applyTo(spacer1);\n\n  // Right aligned close button\n\n  final var closeButton = new Button(shell, SWT.PUSH);\n  closeButton.setText(&quot;Cancel&quot;);\n\n  closeButton.addListener(SWT.Selection, event -&gt; shell.close());\n\n  GridDataFactory.fillDefaults().align(SWT.END, SWT.CENTER).grab(true, false).applyTo(closeButton);\n\n  // Layout and open shell\n\n  shell.layout();\n  shell.pack();\n\n  shell.open();\n\n  // Block until closed\n\n  final var display  = shell.getDisplay();\n\n  while (!shell.isDisposed())\n   {\n     if (!display.readAndDispatch())\n       display.sleep();\n   }\n\n  display.update();\n}\n\n\nprivate static void addButton(final Composite body, final String text)\n{\n  final var button = new Button(body, SWT.PUSH | SWT.FLAT);   // Flat style is optional here\n\n  button.setText(text);\n\n  GridDataFactory.fillDefaults().hint(75, 40).applyTo(button); // Adjust hints to change button size to suit\n\n  button.addListener(SWT.Selection, event -&gt;\n    {\n      labelTxt.setText(text);\n\n      button.getShell().close();\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":23133748,"reputation":3,"user_id":17238257,"display_name":"Dee"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69841854,"answer_count":1,"score":0,"last_activity_date":1636040248,"creation_date":1636023914,"question_id":69838237,"body_markdown":"        //Created a composite with label and text field\r\n        Label label = new Label(composite, SWT.NONE);\r\n        label.setText(&quot;Test:&quot;);        \r\n        labelTxt = new Text(composite, SWT.BORDER);\r\n        labelTxt.setText(&quot;56&quot;);\t\t\t//value here might be empty or might be already set with \r\n                                      // any value from demo image\r\n\t\t\r\n\t\tlabelTxt.addMouseListener(new MouseListener() {\r\n            @Override\r\n            public void mouseUp(MouseEvent arg0) {\r\n            }\r\n\r\n            @Override\r\n            public void mouseDown(MouseEvent arg0) {\r\n            }\r\n\r\n            @Override\r\n            public void mouseDoubleClick(MouseEvent arg0) {\r\n\t\t\t\tSystem.out.println(&quot; mouse double clicked&quot;);\r\n\t\t\t\t// I created a pop up on double click with buttons here. \r\n                ///The pop up image is attached for reference\r\n            }\r\n        });  \r\n\r\nDemo image:\r\n[![demo image][1]][1]\r\n\r\nNow what I need is if I click any button from pop up the button value should be saved to &quot;labelTxt &quot;.\r\ni.e. if I click button R6 then R6 should be saved in labelTxt.\r\n\t\t\t\t\t\t\t\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hJ2wC.png","title":"How to write an action listener for multiple Jbuttons","body":"<pre><code>    //Created a composite with label and text field\n    Label label = new Label(composite, SWT.NONE);\n    label.setText(&quot;Test:&quot;);        \n    labelTxt = new Text(composite, SWT.BORDER);\n    labelTxt.setText(&quot;56&quot;);         //value here might be empty or might be already set with \n                                  // any value from demo image\n    \n    labelTxt.addMouseListener(new MouseListener() {\n        @Override\n        public void mouseUp(MouseEvent arg0) {\n        }\n\n        @Override\n        public void mouseDown(MouseEvent arg0) {\n        }\n\n        @Override\n        public void mouseDoubleClick(MouseEvent arg0) {\n            System.out.println(&quot; mouse double clicked&quot;);\n            // I created a pop up on double click with buttons here. \n            ///The pop up image is attached for reference\n        }\n    });  \n</code></pre>\n<p>Demo image:\n<a href=\"https://i.stack.imgur.com/hJ2wC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hJ2wC.png\" alt=\"demo image\" /></a></p>\n<p>Now what I need is if I click any button from pop up the button value should be saved to &quot;labelTxt &quot;.\ni.e. if I click button R6 then R6 should be saved in labelTxt.</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"score":0,"creation_date":1636037965,"post_id":69841119,"comment_id":123455704,"body_markdown":"Does this answer of your question https://stackoverflow.com/questions/19323557/handling-soft-deletes-with-spring-jpa","body":"Does this answer of your question <a href=\"https://stackoverflow.com/questions/19323557/handling-soft-deletes-with-spring-jpa\" title=\"handling soft deletes with spring jpa\">stackoverflow.com/questions/19323557/&hellip;</a>"},{"owner":{"account_id":2879573,"reputation":8521,"user_id":2470765,"accept_rate":59,"display_name":"michal.jakubeczy"},"score":0,"creation_date":1636038633,"post_id":69841119,"comment_id":123455965,"body_markdown":"@FaeemazazBhanej no, I already use `@Where` but I need to remove it from fetches as well and this is not described there.","body":"@FaeemazazBhanej no, I already use <code>@Where</code> but I need to remove it from fetches as well and this is not described there."},{"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"score":1,"creation_date":1636039424,"post_id":69841119,"comment_id":123456299,"body_markdown":"Maybe this can help ? \nhttps://docs.jboss.org/hibernate/core/3.5/api/org/hibernate/annotations/WhereJoinTable.html","body":"Maybe this can help ?  <a href=\"https://docs.jboss.org/hibernate/core/3.5/api/org/hibernate/annotations/WhereJoinTable.html\" rel=\"nofollow noreferrer\">docs.jboss.org/hibernate/core/3.5/api/org/hibernate/annotati&zwnj;&#8203;ons/&hellip;</a>"},{"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"score":1,"creation_date":1636039619,"post_id":69841119,"comment_id":123456392,"body_markdown":"Maybe something like this also ... https://thorben-janssen.com/hibernate-tips-exclude-deactivated-elements-from-association/","body":"Maybe something like this also ... <a href=\"https://thorben-janssen.com/hibernate-tips-exclude-deactivated-elements-from-association/\" rel=\"nofollow noreferrer\">thorben-janssen.com/&hellip;</a>"},{"owner":{"account_id":2879573,"reputation":8521,"user_id":2470765,"accept_rate":59,"display_name":"michal.jakubeczy"},"score":0,"creation_date":1636040120,"post_id":69841119,"comment_id":123456611,"body_markdown":"@ArthurKlezovich thanks, these links are helpful. I used `@Where` annotation on mapping which also galaxy mentioned in his answer.","body":"@ArthurKlezovich thanks, these links are helpful. I used <code>@Where</code> annotation on mapping which also galaxy mentioned in his answer."}],"answers":[{"tags":[],"owner":{"account_id":3508935,"reputation":159,"user_id":2933780,"display_name":"galaxy"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1636039638,"creation_date":1636039638,"answer_id":69841711,"question_id":69841119,"body_markdown":"I didn&#39;t test it but try to add ```@Where``` annotation to your joined entity instead, in other words to your ```@OneToMany``` annotation.\r\n\r\n```\r\n@Where(clause = &quot;deleted = false&quot;)\r\n@OneToMany(mappedBy = &quot;joinedEntity&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\nprivate List&lt;User&gt; userList;\r\n```\r\n ","title":"Hibernate - apply @Where when fetching","body":"<p>I didn't test it but try to add <code>@Where</code> annotation to your joined entity instead, in other words to your <code>@OneToMany</code> annotation.</p>\n<pre><code>@Where(clause = &quot;deleted = false&quot;)\n@OneToMany(mappedBy = &quot;joinedEntity&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\nprivate List&lt;User&gt; userList;\n</code></pre>\n"}],"owner":{"account_id":2879573,"reputation":8521,"user_id":2470765,"accept_rate":59,"display_name":"michal.jakubeczy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69841711,"answer_count":1,"score":1,"last_activity_date":1636039638,"creation_date":1636037277,"question_id":69841119,"body_markdown":"I am using following annotation on my Hibernate entity class\r\n\r\n```\r\n@Table(name=&quot;cms_user&quot;, schema=&quot;public&quot;)\r\n@Where(clause = &quot;deleted = false&quot;)\r\npublic class User {\r\n  ..\r\n}\r\n```\r\n\r\nSo it does not load records that are &quot;soft deleted&quot;. But when I fetch this entity as part of another query:\r\n\r\n```\r\nqueryRoot.fetch(&quot;cmsUser&quot;, JoinType.INNER);\r\n```\r\n\r\nthis where clause is not applied and also deleted users are visible. Of course I can filter them out then, but I am looking for an efficient way to set this `deleted = false` on single place and @Where or some other hibernate class annotation is a great candiadate. \r\n\r\nIs there any way how can I annotate my hibernate class so `deleted = false` is applied also for fetches and joins?\r\n\r\n","title":"Hibernate - apply @Where when fetching","body":"<p>I am using following annotation on my Hibernate entity class</p>\n<pre><code>@Table(name=&quot;cms_user&quot;, schema=&quot;public&quot;)\n@Where(clause = &quot;deleted = false&quot;)\npublic class User {\n  ..\n}\n</code></pre>\n<p>So it does not load records that are &quot;soft deleted&quot;. But when I fetch this entity as part of another query:</p>\n<pre><code>queryRoot.fetch(&quot;cmsUser&quot;, JoinType.INNER);\n</code></pre>\n<p>this where clause is not applied and also deleted users are visible. Of course I can filter them out then, but I am looking for an efficient way to set this <code>deleted = false</code> on single place and @Where or some other hibernate class annotation is a great candiadate.</p>\n<p>Is there any way how can I annotate my hibernate class so <code>deleted = false</code> is applied also for fetches and joins?</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"display_name":"user6073886"},"score":4,"creation_date":1636038616,"post_id":69841410,"comment_id":123455954,"body_markdown":"If you can filter in the Database via a where clause you should do it. That&#39;s what databases are made and optimized for. Trying to load everything from a database at once can also easily  bring your memory to its knees if you are dealing with a big database.","body":"If you can filter in the Database via a where clause you should do it. That&#39;s what databases are made and optimized for. Trying to load everything from a database at once can also easily  bring your memory to its knees if you are dealing with a big database."}],"answers":[{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636038687,"creation_date":1636038687,"answer_id":69841463,"question_id":69841410,"body_markdown":"Its much better to get all the data in one go. This is because you don&#39;t need to waste time on TCP/IP packet roundtrips to the database each time.\r\n\r\nAt the same time, be aware that if the result set you are trying to load in one go is too big you can get an `OutOfMemory` error.\r\n\r\nIn short:\r\n - Getting data in one go is better\r\n - Be sure that you have enough RAM on the JVM to accomodate the (potentially) large data set.","title":"Is better to use a for over a list or multiple access to database","body":"<p>Its much better to get all the data in one go. This is because you don't need to waste time on TCP/IP packet roundtrips to the database each time.</p>\n<p>At the same time, be aware that if the result set you are trying to load in one go is too big you can get an <code>OutOfMemory</code> error.</p>\n<p>In short:</p>\n<ul>\n<li>Getting data in one go is better</li>\n<li>Be sure that you have enough RAM on the JVM to accomodate the (potentially) large data set.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":16145881,"reputation":441,"user_id":11655642,"display_name":"shockwave"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636039502,"creation_date":1636039083,"answer_id":69841569,"question_id":69841410,"body_markdown":"First approach looks better , as you are leveraging DB functionality to filter the result(Which is more optimised to do that task).\r\nSecond approach significantly increases the roundtrip time required to fetch all the elements(depending on number of elements)and added time complexity as you are looping through whole list and also it might consume more memory on your application","title":"Is better to use a for over a list or multiple access to database","body":"<p>First approach looks better , as you are leveraging DB functionality to filter the result(Which is more optimised to do that task).\nSecond approach significantly increases the roundtrip time required to fetch all the elements(depending on number of elements)and added time complexity as you are looping through whole list and also it might consume more memory on your application</p>\n"}],"owner":{"account_id":23229277,"reputation":35,"user_id":17320295,"display_name":"BlazekaMarko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69841569,"answer_count":2,"score":0,"last_activity_date":1636039502,"creation_date":1636038428,"question_id":69841410,"body_markdown":"I&#39;m having a doubt over the better implementation of a method that is often used.\r\nThe solution in production as the following form:\r\n\r\n    public List&lt;Element&gt; method(String text) {\t\r\n    \t\tList&lt;Element&gt; element = select * from element e where e.text like text\r\n            return element\r\n            }\r\n\r\nthe new implementation instead load the complete list 1 time \r\n\r\n    List&lt;Element&gt; allElement =select * from element\r\n\r\nand the method become something like\r\n\r\n    \tpublic List&lt;Element&gt; method(String text) {\t\r\n    \t\tList&lt;Element&gt; element; \r\n            for Element e : allElement{\r\n              if e.text.contains(text) element.add(e)\r\n            }\r\n            return element\r\n            }\r\n\r\nWhich one is the better solution?","title":"Is better to use a for over a list or multiple access to database","body":"<p>I'm having a doubt over the better implementation of a method that is often used.\nThe solution in production as the following form:</p>\n<pre><code>public List&lt;Element&gt; method(String text) {  \n        List&lt;Element&gt; element = select * from element e where e.text like text\n        return element\n        }\n</code></pre>\n<p>the new implementation instead load the complete list 1 time</p>\n<pre><code>List&lt;Element&gt; allElement =select * from element\n</code></pre>\n<p>and the method become something like</p>\n<pre><code>    public List&lt;Element&gt; method(String text) {  \n        List&lt;Element&gt; element; \n        for Element e : allElement{\n          if e.text.contains(text) element.add(e)\n        }\n        return element\n        }\n</code></pre>\n<p>Which one is the better solution?</p>\n"},{"tags":["java","parsing","expression","antlr"],"answers":[{"tags":[],"owner":{"account_id":27816,"reputation":6650,"user_id":73764,"accept_rate":91,"display_name":"Mike Cargal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1636039444,"creation_date":1635963900,"answer_id":69829964,"question_id":69829231,"body_markdown":"For a rule like `expression`, ANTLR will stop parsing once it recognizes an expression.\r\n\r\nYou can force it to continue by adding an `EOF to you start rule.\r\n\r\n(You don’t want to modify the actual `expressions rule, but you can add a rule like this:\r\n\r\n```\r\nexpressionStart: expressions EOF;\r\n```\r\n\r\nThen you can use:\r\n```\r\nParseTree result = parser.expressionStart();\r\n```\r\n\r\nThis will force ANTLR to continue parsing you’re input until it reaches the end of you input.\r\n\r\n-------\r\n\r\nre: returnStatement\r\n\r\nWhen i run `return a.b.c();` through the ANTLR Preview in IntelliJ, I get this parse tree:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nA little bit of following the grammar rules, and I stumble across these rules:\r\n\r\n```\r\ntypeName: Identifier | packageOrTypeName &#39;.&#39; Identifier;\r\n\r\npackageOrTypeName\r\n    : Identifier\r\n    | packageOrTypeName &#39;.&#39; Identifier\r\n    ;\r\n```\r\n\r\nThat both rules include an alternative for `packageOrTypeName &#39;.&#39; Identifier` looks problematic to me.\r\n\r\nIn the tree, we see `primaryNoNewArray_lfno_primary:2` which indicates a match of the second alternative in this rule:\r\n\r\n```\r\nprimaryNoNewArray_lfno_primary\r\n    : literal\r\n    | typeName (&#39;[&#39; &#39;]&#39;)* &#39;.&#39; &#39;class&#39; // &lt;-- trying to match this rule\r\n    | unannPrimitiveType (&#39;[&#39; &#39;]&#39;)* &#39;.&#39; &#39;class&#39;\r\n    | &#39;void&#39; &#39;.&#39; &#39;class&#39;\r\n    | &#39;this&#39;\r\n    | typeName &#39;.&#39; &#39;this&#39;\r\n    | &#39;(&#39; expression &#39;)&#39;\r\n    | classInstanceCreationExpression_lfno_primary\r\n    | fieldAccess_lfno_primary\r\n    | arrayAccess_lfno_primary\r\n    | methodInvocation_lfno_primary\r\n    | methodReference_lfno_primary\r\n    ;\r\n```\r\n\r\nI&#39;m out of time at the moment, but will keep looking at it.  It seems pretty unlikely there&#39;s this obvious a bug in the Java8Parser.g4, but it certainly seems like a bug at the moment.  I&#39;m not sure what about the context would change how this is parsed (by context, meaning where `returnStatement` is natively called in the grammar.)\r\n\r\n\r\nI tried this input (starting with the `compilationUnit` rule:\r\n\r\n```\r\nclass Test {\r\n    class A {\r\n       public B  b;\r\n    }\r\n    class B {\r\n        String c() {\r\n            return &quot;&quot;;\r\n        }\r\n    }\r\n    String test() {\r\n        A a = new A();\r\n        return a.b.c();\r\n    }\r\n}\r\n```\r\n\r\nAnd it parses correctly (so, we&#39;ve not found a major bug in the Java8Parser grammar &#128532;):\r\n\r\n[![enter image description here][2]][2]\r\n\r\nStill, this doesn&#39;t seem right.\r\n\r\n\r\nGetting closer:\r\n\r\nIf I start with the `block` rule, and wrap in curly braces (`{return a.b.c();}`), it parses fine.\r\n\r\n\r\nI&#39;m going to go with the theory that ANTLR needs a bit more lookahead to resolve an &quot;ambiguity&quot;.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aVEse.png\r\n  [2]: https://i.stack.imgur.com/RJEui.png","title":"Java expression parsing with ANTLR","body":"<p>For a rule like <code>expression</code>, ANTLR will stop parsing once it recognizes an expression.</p>\n<p>You can force it to continue by adding an `EOF to you start rule.</p>\n<p>(You don’t want to modify the actual `expressions rule, but you can add a rule like this:</p>\n<pre><code>expressionStart: expressions EOF;\n</code></pre>\n<p>Then you can use:</p>\n<pre><code>ParseTree result = parser.expressionStart();\n</code></pre>\n<p>This will force ANTLR to continue parsing you’re input until it reaches the end of you input.</p>\n<hr />\n<p>re: returnStatement</p>\n<p>When i run <code>return a.b.c();</code> through the ANTLR Preview in IntelliJ, I get this parse tree:</p>\n<p><a href=\"https://i.stack.imgur.com/aVEse.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aVEse.png\" alt=\"enter image description here\" /></a></p>\n<p>A little bit of following the grammar rules, and I stumble across these rules:</p>\n<pre><code>typeName: Identifier | packageOrTypeName '.' Identifier;\n\npackageOrTypeName\n    : Identifier\n    | packageOrTypeName '.' Identifier\n    ;\n</code></pre>\n<p>That both rules include an alternative for <code>packageOrTypeName '.' Identifier</code> looks problematic to me.</p>\n<p>In the tree, we see <code>primaryNoNewArray_lfno_primary:2</code> which indicates a match of the second alternative in this rule:</p>\n<pre><code>primaryNoNewArray_lfno_primary\n    : literal\n    | typeName ('[' ']')* '.' 'class' // &lt;-- trying to match this rule\n    | unannPrimitiveType ('[' ']')* '.' 'class'\n    | 'void' '.' 'class'\n    | 'this'\n    | typeName '.' 'this'\n    | '(' expression ')'\n    | classInstanceCreationExpression_lfno_primary\n    | fieldAccess_lfno_primary\n    | arrayAccess_lfno_primary\n    | methodInvocation_lfno_primary\n    | methodReference_lfno_primary\n    ;\n</code></pre>\n<p>I'm out of time at the moment, but will keep looking at it.  It seems pretty unlikely there's this obvious a bug in the Java8Parser.g4, but it certainly seems like a bug at the moment.  I'm not sure what about the context would change how this is parsed (by context, meaning where <code>returnStatement</code> is natively called in the grammar.)</p>\n<p>I tried this input (starting with the <code>compilationUnit</code> rule:</p>\n<pre><code>class Test {\n    class A {\n       public B  b;\n    }\n    class B {\n        String c() {\n            return &quot;&quot;;\n        }\n    }\n    String test() {\n        A a = new A();\n        return a.b.c();\n    }\n}\n</code></pre>\n<p>And it parses correctly (so, we've not found a major bug in the Java8Parser grammar 😔):</p>\n<p><a href=\"https://i.stack.imgur.com/RJEui.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RJEui.png\" alt=\"enter image description here\" /></a></p>\n<p>Still, this doesn't seem right.</p>\n<p>Getting closer:</p>\n<p>If I start with the <code>block</code> rule, and wrap in curly braces (<code>{return a.b.c();}</code>), it parses fine.</p>\n<p>I'm going to go with the theory that ANTLR needs a bit more lookahead to resolve an &quot;ambiguity&quot;.</p>\n"}],"owner":{"account_id":5184085,"reputation":23,"user_id":6382538,"display_name":"Andrew B"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":376,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69829964,"answer_count":1,"score":1,"last_activity_date":1636039444,"creation_date":1635960465,"question_id":69829231,"body_markdown":"I&#39;m writing a toolkit in Java that uses Java expression parsing.  I thought I&#39;d try using ANTLR since\r\n1. It seems to be used ubiquitously for this sort of thing\r\n2. There don&#39;t seem to be a lot of open source alternatives\r\n3. I actually tried to write my own generalized parser a while back and gave up.  That stuff&#39;s hard.\r\n\r\nI have to say, after what I feel is a lot of reading and trying different things (more than I had expected to spend, anyway), ANTLR seems incredibly difficult to use.  The API is very unintuitive--I&#39;m never quite sure whether I&#39;m calling it right.\r\n\r\nAlthough ANTLR tutorials and examples abound, I haven&#39;t had luck finding any examples that involve parsing Java &quot;expressions&quot; -- everyone else seems to want to parse whole java files.\r\n\r\nI started off calling it like this:\r\n\r\n```\r\n\t\tJava8Lexer lexer = new Java8Lexer(CharStreams.fromString(text));\r\n\t\tCommonTokenStream tokens = new CommonTokenStream(lexer);\r\n\t\tJava8Parser parser = new Java8Parser(tokens);\r\n\t\tParseTree result = parser.expression();\r\n```\r\n\r\nbut that wouldn&#39;t parse the whole expression.  E.g. with text &quot;a.b&quot; it would return a result that only consisted of the &quot;a&quot; part, just quitting after the first thing it could parse.\r\n\r\nFine.  So I changed to:\r\n```\r\n\t\tString input = &quot;return &quot; + text + &quot;;&quot;;\r\n\t\tJava8Lexer lexer = new Java8Lexer(CharStreams.fromString(input));\r\n\t\tCommonTokenStream tokens = new CommonTokenStream(lexer);\r\n\t\tJava8Parser parser = new Java8Parser(tokens);\r\n\t\tParseTree result = parser.returnStatement();\r\n\t\tresult = result.getChild(1);\r\n```\r\nthinking this would force it to parse the entire expression, then I could just extract the part I cared about.  That worked for name expressions like &quot;a.b&quot;, but if I try to parse a method expression like &quot;a.b.c(d)&quot; it gives an error:\r\n```\r\nline 1:12 mismatched input &#39;(&#39; expecting &#39;.&#39;\r\n```\r\nInterestingly, `a()`, `a.b()`, and `a.b.c` parse fine, but `a.b.c()` also dies with the same error.\r\n\r\nIs there an ANTLR expert here who might have an idea what I&#39;m doing wrong?\r\n\r\nSeparately, it bothers me quite a bit that the error above is printed to stderr, but I can&#39;t find it in the result object anywhere.  I&#39;d like to be able to present that error message (vague as it is) to the user that entered the expression--they may not be looking at a console, and even if they are, there&#39;s no context there.  Is there a way to find that information in the result I get back?\r\n\r\nAny help is greatly appreciated.","title":"Java expression parsing with ANTLR","body":"<p>I'm writing a toolkit in Java that uses Java expression parsing.  I thought I'd try using ANTLR since</p>\n<ol>\n<li>It seems to be used ubiquitously for this sort of thing</li>\n<li>There don't seem to be a lot of open source alternatives</li>\n<li>I actually tried to write my own generalized parser a while back and gave up.  That stuff's hard.</li>\n</ol>\n<p>I have to say, after what I feel is a lot of reading and trying different things (more than I had expected to spend, anyway), ANTLR seems incredibly difficult to use.  The API is very unintuitive--I'm never quite sure whether I'm calling it right.</p>\n<p>Although ANTLR tutorials and examples abound, I haven't had luck finding any examples that involve parsing Java &quot;expressions&quot; -- everyone else seems to want to parse whole java files.</p>\n<p>I started off calling it like this:</p>\n<pre><code>        Java8Lexer lexer = new Java8Lexer(CharStreams.fromString(text));\n        CommonTokenStream tokens = new CommonTokenStream(lexer);\n        Java8Parser parser = new Java8Parser(tokens);\n        ParseTree result = parser.expression();\n</code></pre>\n<p>but that wouldn't parse the whole expression.  E.g. with text &quot;a.b&quot; it would return a result that only consisted of the &quot;a&quot; part, just quitting after the first thing it could parse.</p>\n<p>Fine.  So I changed to:</p>\n<pre><code>        String input = &quot;return &quot; + text + &quot;;&quot;;\n        Java8Lexer lexer = new Java8Lexer(CharStreams.fromString(input));\n        CommonTokenStream tokens = new CommonTokenStream(lexer);\n        Java8Parser parser = new Java8Parser(tokens);\n        ParseTree result = parser.returnStatement();\n        result = result.getChild(1);\n</code></pre>\n<p>thinking this would force it to parse the entire expression, then I could just extract the part I cared about.  That worked for name expressions like &quot;a.b&quot;, but if I try to parse a method expression like &quot;a.b.c(d)&quot; it gives an error:</p>\n<pre><code>line 1:12 mismatched input '(' expecting '.'\n</code></pre>\n<p>Interestingly, <code>a()</code>, <code>a.b()</code>, and <code>a.b.c</code> parse fine, but <code>a.b.c()</code> also dies with the same error.</p>\n<p>Is there an ANTLR expert here who might have an idea what I'm doing wrong?</p>\n<p>Separately, it bothers me quite a bit that the error above is printed to stderr, but I can't find it in the result object anywhere.  I'd like to be able to present that error message (vague as it is) to the user that entered the expression--they may not be looking at a console, and even if they are, there's no context there.  Is there a way to find that information in the result I get back?</p>\n<p>Any help is greatly appreciated.</p>\n"},{"tags":["java","spring-boot","gradle","jar"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":1,"creation_date":1636038385,"post_id":69841203,"comment_id":123455866,"body_markdown":"This may help you https://github.com/spring-projects/spring-boot/issues/22533","body":"This may help you <a href=\"https://github.com/spring-projects/spring-boot/issues/22533\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/issues/22533</a>"}],"answers":[{"tags":[],"owner":{"account_id":3730340,"reputation":2267,"user_id":3102952,"accept_rate":69,"display_name":"Nikola Stojaković"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636038829,"creation_date":1636038829,"answer_id":69841500,"question_id":69841203,"body_markdown":"Solved it by adding this in the `build.gradle.kts`;\r\n\r\n```kts\r\ntasks.getByName&lt;BootJar&gt;(&quot;bootJar&quot;) {\r\n\tclasspath(configurations[&quot;developmentOnly&quot;])\r\n}\r\n```","title":"Including DevTools in Spring Boot&#39;s JAR with Gradle during development","body":"<p>Solved it by adding this in the <code>build.gradle.kts</code>;</p>\n<pre><code>tasks.getByName&lt;BootJar&gt;(&quot;bootJar&quot;) {\n    classpath(configurations[&quot;developmentOnly&quot;])\n}\n</code></pre>\n"}],"owner":{"account_id":3730340,"reputation":2267,"user_id":3102952,"accept_rate":69,"display_name":"Nikola Stojaković"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":329,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636038829,"creation_date":1636037611,"question_id":69841203,"body_markdown":"I&#39;ve been looking for an answer but pretty much everything I found so far is either outdated or didn&#39;t work. I&#39;d like to include Spring DevTools inside my JAR so that I can use live reloading feature.\r\n\r\nWhat I did so far;\r\n\r\n1. Built a Docker image with `./gradlew bootBuildImage`.\r\n2. Created a `docker-compose.yml` which uses this image.\r\n3. Changed configuration in IntelliJ to use `org.springframework.boot.devtools.RemoteSpringApplication` as the main class.\r\n\r\n[![intellij configuration devtools][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZFoZo.png\r\n\r\nHowever, when I change something and build the project I always get the same error:\r\n\r\n```\r\nException in thread &quot;File Watcher&quot; java.lang.IllegalStateException: Unexpected 404 NOT_FOUND response uploading class files\r\n```\r\n\r\nDo I need to change the way I build the image or apply some additional Gradle configuration for this to work? With Maven it was enough to just set `excludeDevTools` to `false` but looks like it doesn&#39;t work with Gradle.","title":"Including DevTools in Spring Boot&#39;s JAR with Gradle during development","body":"<p>I've been looking for an answer but pretty much everything I found so far is either outdated or didn't work. I'd like to include Spring DevTools inside my JAR so that I can use live reloading feature.</p>\n<p>What I did so far;</p>\n<ol>\n<li>Built a Docker image with <code>./gradlew bootBuildImage</code>.</li>\n<li>Created a <code>docker-compose.yml</code> which uses this image.</li>\n<li>Changed configuration in IntelliJ to use <code>org.springframework.boot.devtools.RemoteSpringApplication</code> as the main class.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/ZFoZo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZFoZo.png\" alt=\"intellij configuration devtools\" /></a></p>\n<p>However, when I change something and build the project I always get the same error:</p>\n<pre><code>Exception in thread &quot;File Watcher&quot; java.lang.IllegalStateException: Unexpected 404 NOT_FOUND response uploading class files\n</code></pre>\n<p>Do I need to change the way I build the image or apply some additional Gradle configuration for this to work? With Maven it was enough to just set <code>excludeDevTools</code> to <code>false</code> but looks like it doesn't work with Gradle.</p>\n"},{"tags":["java","spring","oracle","hibernate"],"comments":[{"owner":{"account_id":16509210,"reputation":564,"user_id":11928455,"display_name":"Amimul Ehsan Rahi"},"score":0,"creation_date":1636039620,"post_id":69841321,"comment_id":123456394,"body_markdown":"For searching and filtering, you can use algolia or Elastic Search search engine . Have a look at them. The database is not good at searching.","body":"For searching and filtering, you can use algolia or Elastic Search search engine . Have a look at them. The database is not good at searching."},{"owner":{"account_id":120777,"reputation":14376,"user_id":313400,"display_name":"Guillaume"},"score":1,"creation_date":1636059367,"post_id":69841321,"comment_id":123463884,"body_markdown":"Try with the JPA Criteria API (part 6. in here: https://www.baeldung.com/jpa-queries) to dynamically build queries. With modern hardware and well indexed tables it should be very fast. Only if it&#39;s not fast enough try other solutions","body":"Try with the JPA Criteria API (part 6. in here: <a href=\"https://www.baeldung.com/jpa-queries\" rel=\"nofollow noreferrer\">baeldung.com/jpa-queries</a>) to dynamically build queries. With modern hardware and well indexed tables it should be very fast. Only if it&#39;s not fast enough try other solutions"},{"owner":{"account_id":16532534,"reputation":50,"user_id":11945378,"display_name":"Stefan"},"score":0,"creation_date":1636096906,"post_id":69841321,"comment_id":123470570,"body_markdown":"@AmimulEhsanRahi Additional info: I&#39;m currently using the ElasticSearch engine. The search works really good but there is one big drawback -&gt; it takes very long to index all data (over 3 hours) so when an error has to be fixed (like each bug right NOW!!! ;) ) it can&#39;t be done due to the long-lasting indexing time.","body":"@AmimulEhsanRahi Additional info: I&#39;m currently using the ElasticSearch engine. The search works really good but there is one big drawback -&gt; it takes very long to index all data (over 3 hours) so when an error has to be fixed (like each bug right NOW!!! ;) ) it can&#39;t be done due to the long-lasting indexing time."}],"owner":{"account_id":16532534,"reputation":50,"user_id":11945378,"display_name":"Stefan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":282,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636038058,"creation_date":1636038058,"question_id":69841321,"body_markdown":"I need some clarifications. Let&#39;s say the customer needs an eCommerce Web Page where they can filter &quot;almost&quot; everything that can be filterable. \r\n\r\nFor example, it should be possible to filter articles (country-related) after brand, brand model, category, collection, stock, price, date uploaded, supplier, etc., etc. \r\nIn view of a relational database, that means I need a big query (joining over 15+ Tables every time) that should be very fast and meet the filter criteria. \r\nFor the backend, it should be used spring/java.\r\n\r\nI did some research and found this https://stackoverflow.com/q/17175443/11945378 (this Q&amp;A is over 8 years old), but I think that there is a better way to solve this than dynamically creating SQL queries. \r\n\r\nSo to conclude - is there a specific pattern that has to be used or am I missing something?\r\n\r\nPlease let me know if more information is required in this context.","title":"Java backend cunstrutcion for eCommerce filter","body":"<p>I need some clarifications. Let's say the customer needs an eCommerce Web Page where they can filter &quot;almost&quot; everything that can be filterable.</p>\n<p>For example, it should be possible to filter articles (country-related) after brand, brand model, category, collection, stock, price, date uploaded, supplier, etc., etc.\nIn view of a relational database, that means I need a big query (joining over 15+ Tables every time) that should be very fast and meet the filter criteria.\nFor the backend, it should be used spring/java.</p>\n<p>I did some research and found this <a href=\"https://stackoverflow.com/q/17175443/11945378\">Dynamically applying filter to list of products in ecommerce application</a> (this Q&amp;A is over 8 years old), but I think that there is a better way to solve this than dynamically creating SQL queries.</p>\n<p>So to conclude - is there a specific pattern that has to be used or am I missing something?</p>\n<p>Please let me know if more information is required in this context.</p>\n"},{"tags":["java","php","design-patterns","strategy-pattern","service-locator"],"comments":[{"owner":{"account_id":4167285,"reputation":2455,"user_id":3415993,"accept_rate":36,"display_name":"ddfra"},"score":0,"creation_date":1635945798,"post_id":69825078,"comment_id":123426777,"body_markdown":"symfony (for PHP) has a DI system which allows to name the services and pass an array as input of a class declaring the items of the list one by one. Docs https://symfony.com/doc/current/components/dependency_injection.html\nLet me know if this might solve the problem, then I might write the answer with a whole working example","body":"symfony (for PHP) has a DI system which allows to name the services and pass an array as input of a class declaring the items of the list one by one. Docs <a href=\"https://symfony.com/doc/current/components/dependency_injection.html\" rel=\"nofollow noreferrer\">symfony.com/doc/current/components/dependency_injection.html</a> Let me know if this might solve the problem, then I might write the answer with a whole working example"}],"answers":[{"tags":[],"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636037155,"creation_date":1635944000,"answer_id":69825204,"question_id":69825078,"body_markdown":"If you are using Spring you can inject all known beans of a certain type automatically:\r\n\r\n    private final List&lt;StrategyInterface&gt; strategies;\r\n\r\n    public StrategyResolver(List&lt;StrategyInterface&gt; strategies) {\r\n        this.strategies = strategies;\r\n    }\r\n\r\nIf this is the only constructor Spring will have no trouble injecting all the beans implementing the StrategyInterface. Of course those beans need to be known to Spring using for example the @Named annotation on the class:\r\n\r\n    @javax.inject.Named\r\n    public class A implements StrategyInterface {\r\n\r\nBTW why not just name the interface &#39;Strategy&#39;? The &#39;Interface&#39; suffix does not really add anything.\r\n\r\nEDIT: to determine which Strategy applies you can add a method to the Strategy interface:\r\n\r\n    @javax.inject.Named\r\n    public class A implements StrategyInterface {\r\n\r\n        @Override\r\n        public boolean appliesTo(String data) {\r\n            // just an example\r\n            return &quot;xxx&quot;.equals(data);\r\n        }\r\n\r\nIn the StrategyResolver you would have code like this:\r\n\r\n    public StrategyInterface resolve(String data) {\r\n        for(StrategyInterface strategy : strategies) {\r\n            if (strategy.appliesTo(data)) {\r\n                return strategy;\r\n            }\r\n        }\r\n        throw new IllegalArgumentException(&quot;No strategy applies to &quot; + data);\r\n    }\r\n\r\nOr in more recent style:\r\n\r\n    public StrategyInterface resolve(String data) {\r\n        return strategies.stream().filter(s -&gt; s.appliesTo(data)).findAny()\r\n            .orElseThrow(() -&gt; new IllegalArgumentException(&quot;No strategy applies to &quot; + data));\r\n    }\r\n\r\nOne gotcha here is that to avoid the exception above you must ensure that a strategy always applies. You could create a &#39;DefaultStrategy&#39; which always applies and is added as the last strategy in the list, e.g:\r\n\r\n    private final List&lt;StrategyInterface&gt; strategies;\r\n\r\n    public StrategyResolver(List&lt;StrategyInterface&gt; strategies, DefaultStrategy defaultStrategy) {\r\n        this.strategies = new ArrayList&lt;&gt;(strategies);    \r\n        this.strategies.add(defaultStrategy);\r\n    }\r\n\r\n","title":"Avoid Service locator in strategy design pattern","body":"<p>If you are using Spring you can inject all known beans of a certain type automatically:</p>\n<pre><code>private final List&lt;StrategyInterface&gt; strategies;\n\npublic StrategyResolver(List&lt;StrategyInterface&gt; strategies) {\n    this.strategies = strategies;\n}\n</code></pre>\n<p>If this is the only constructor Spring will have no trouble injecting all the beans implementing the StrategyInterface. Of course those beans need to be known to Spring using for example the @Named annotation on the class:</p>\n<pre><code>@javax.inject.Named\npublic class A implements StrategyInterface {\n</code></pre>\n<p>BTW why not just name the interface 'Strategy'? The 'Interface' suffix does not really add anything.</p>\n<p>EDIT: to determine which Strategy applies you can add a method to the Strategy interface:</p>\n<pre><code>@javax.inject.Named\npublic class A implements StrategyInterface {\n\n    @Override\n    public boolean appliesTo(String data) {\n        // just an example\n        return &quot;xxx&quot;.equals(data);\n    }\n</code></pre>\n<p>In the StrategyResolver you would have code like this:</p>\n<pre><code>public StrategyInterface resolve(String data) {\n    for(StrategyInterface strategy : strategies) {\n        if (strategy.appliesTo(data)) {\n            return strategy;\n        }\n    }\n    throw new IllegalArgumentException(&quot;No strategy applies to &quot; + data);\n}\n</code></pre>\n<p>Or in more recent style:</p>\n<pre><code>public StrategyInterface resolve(String data) {\n    return strategies.stream().filter(s -&gt; s.appliesTo(data)).findAny()\n        .orElseThrow(() -&gt; new IllegalArgumentException(&quot;No strategy applies to &quot; + data));\n}\n</code></pre>\n<p>One gotcha here is that to avoid the exception above you must ensure that a strategy always applies. You could create a 'DefaultStrategy' which always applies and is added as the last strategy in the list, e.g:</p>\n<pre><code>private final List&lt;StrategyInterface&gt; strategies;\n\npublic StrategyResolver(List&lt;StrategyInterface&gt; strategies, DefaultStrategy defaultStrategy) {\n    this.strategies = new ArrayList&lt;&gt;(strategies);    \n    this.strategies.add(defaultStrategy);\n}\n</code></pre>\n"}],"owner":{"account_id":8773814,"reputation":315,"user_id":6559689,"display_name":"colorgreen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":360,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1636242176,"accepted_answer_id":69825204,"answer_count":1,"score":0,"last_activity_date":1636037155,"creation_date":1635943490,"question_id":69825078,"body_markdown":"Take a look on that pseudocode \r\n\r\n    class A,B,C implements StrategyInterface\r\n    {\r\n        private dep;\r\n    \r\n        constructor(Dep dep) {\r\n            this-&gt;dep = dep;    \r\n        }\r\n    }\r\n    \r\n    class StrategyResolver\r\n    {\r\n        private locator;\r\n    \r\n        constructor(ServiceLocator locator) {\r\n            this-&gt;locator = locator;\r\n        }\r\n        \r\n        public function resolve(data): StrategyInterface\r\n        {\r\n            if ( xxx ) {\r\n                return locator-&gt;get(A);\r\n            } else if ( yyy ) {\r\n                return locator-&gt;get(B);\r\n            }\r\n            return locator-&gt;get(C);\r\n        }\r\n    }\r\n\r\nAs service locator is considered as anti pattern, how to avoid it in this case? `A,B,C` can have various dependencies, thats why I would like to instantiate it using all benefits of dependency injections. I could albo inject `A,B,C` as dependencies of `StrategyResolver`, but what if I have there like 10 strategies. The `StrategyResolver` dependency list is then too long.","title":"Avoid Service locator in strategy design pattern","body":"<p>Take a look on that pseudocode</p>\n<pre><code>class A,B,C implements StrategyInterface\n{\n    private dep;\n\n    constructor(Dep dep) {\n        this-&gt;dep = dep;    \n    }\n}\n\nclass StrategyResolver\n{\n    private locator;\n\n    constructor(ServiceLocator locator) {\n        this-&gt;locator = locator;\n    }\n    \n    public function resolve(data): StrategyInterface\n    {\n        if ( xxx ) {\n            return locator-&gt;get(A);\n        } else if ( yyy ) {\n            return locator-&gt;get(B);\n        }\n        return locator-&gt;get(C);\n    }\n}\n</code></pre>\n<p>As service locator is considered as anti pattern, how to avoid it in this case? <code>A,B,C</code> can have various dependencies, thats why I would like to instantiate it using all benefits of dependency injections. I could albo inject <code>A,B,C</code> as dependencies of <code>StrategyResolver</code>, but what if I have there like 10 strategies. The <code>StrategyResolver</code> dependency list is then too long.</p>\n"},{"tags":["java","garbage-collection","jvm","nio","bytebuffer"],"answers":[{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1476851527,"creation_date":1476851527,"answer_id":40122180,"question_id":40122063,"body_markdown":"&gt; It says `DirectByteBuffer` does cleaning as part of Java heap GC.\r\n\r\nNo it doesn&#39;t. It says &#39;Direct `ByteBuffer` objects  clean up their native buffers automatically, but *can only* do so as part of Java heap GC&#39;. Not the same thing at all.\r\n\r\n&gt; IFAIK, Java Heap GC only do clean up in java heap\r\n\r\nCorrect, but IBM is talking about direct `ByteBuffers` doing the cleaning, not GC.\r\n\r\n&gt; (where `DirectByteBuffer` is not allocated).\r\n\r\nThere is no such thing as `DirectByteBuffer`. There are direct `ByteBuffers`, which *are* allocated on the heap, except for their direct part, which is a native byte array.\r\n\r\n&gt; It (GC) is no aware of native memory (where DirectByteBuffer is allocated).\r\n\r\nWrong again, see above.\r\n\r\nThere is no mystery to this. Direct `ByteBuffers` can have a `finalize()` method that invokes cleanup of the native byte array when invoked by GC.\r\n","title":"How Java GC Does Direct Byte Buffer Clean Up, Because IBM Docs says, It Does.","body":"<blockquote>\n  <p>It says <code>DirectByteBuffer</code> does cleaning as part of Java heap GC.</p>\n</blockquote>\n\n<p>No it doesn't. It says 'Direct <code>ByteBuffer</code> objects  clean up their native buffers automatically, but <em>can only</em> do so as part of Java heap GC'. Not the same thing at all.</p>\n\n<blockquote>\n  <p>IFAIK, Java Heap GC only do clean up in java heap</p>\n</blockquote>\n\n<p>Correct, but IBM is talking about direct <code>ByteBuffers</code> doing the cleaning, not GC.</p>\n\n<blockquote>\n  <p>(where <code>DirectByteBuffer</code> is not allocated).</p>\n</blockquote>\n\n<p>There is no such thing as <code>DirectByteBuffer</code>. There are direct <code>ByteBuffers</code>, which <em>are</em> allocated on the heap, except for their direct part, which is a native byte array.</p>\n\n<blockquote>\n  <p>It (GC) is no aware of native memory (where DirectByteBuffer is allocated).</p>\n</blockquote>\n\n<p>Wrong again, see above.</p>\n\n<p>There is no mystery to this. Direct <code>ByteBuffers</code> can have a <code>finalize()</code> method that invokes cleanup of the native byte array when invoked by GC.</p>\n"},{"tags":[],"owner":{"account_id":114769,"reputation":5726,"user_id":301650,"accept_rate":56,"display_name":"Nikem"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1476852448,"creation_date":1476852448,"answer_id":40122339,"question_id":40122063,"body_markdown":"When you create an instance of `java.nio.DirectByteBuffer` you, essentially, have 2 parts:\r\n\r\n - Usual java object of type `java.nio.DirectByteBuffer`, which is allocated on the heap\r\n - The actual byte buffer that you wanted, which is allocated by the constructor of the aforementioned java object off the heap\r\n\r\nIn addition, the constructor of `java.nio.DirectByteBuffer` registers a runnable of type `java.nio.DirectByteBuffer.Deallocator`, which is a private static class. This runnable is executed when this instance of `java.nio.DirectByteBuffer` is cleaned up by the GC. And it is the task of this `Deallocator` to release the native byte buffer. RTFS! :)","title":"How Java GC Does Direct Byte Buffer Clean Up, Because IBM Docs says, It Does.","body":"<p>When you create an instance of <code>java.nio.DirectByteBuffer</code> you, essentially, have 2 parts:</p>\n\n<ul>\n<li>Usual java object of type <code>java.nio.DirectByteBuffer</code>, which is allocated on the heap</li>\n<li>The actual byte buffer that you wanted, which is allocated by the constructor of the aforementioned java object off the heap</li>\n</ul>\n\n<p>In addition, the constructor of <code>java.nio.DirectByteBuffer</code> registers a runnable of type <code>java.nio.DirectByteBuffer.Deallocator</code>, which is a private static class. This runnable is executed when this instance of <code>java.nio.DirectByteBuffer</code> is cleaned up by the GC. And it is the task of this <code>Deallocator</code> to release the native byte buffer. RTFS! :)</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1476873870,"creation_date":1476873870,"answer_id":40129159,"question_id":40122063,"body_markdown":"&gt; Java Heap GC only do clean up in java heap\r\n\r\nIn the HotSpot JVM, when the DirectByteBuffer is cleaned up, the memory associated with is freed or unmapped.\r\n\r\nNote: this is no different to other objects which are proxies for external resources such as Sockets, File streams, GUI components.\r\n\r\nWhat is different is the resources isn&#39;t Closeable. This might not be available for a number of reasons, most likely because accessing a memory region after it has been freed can corrupt memory or crash the JVM.  With the Hotspot JVM it is possible to free/unmap the memory deterministically with \r\n\r\n    ((DirectBuffer) buffer).cleaner().clean();\r\n\r\nHowever, this is undocumented and a) not the same across JVMs, b) use at own risk, c) might not be available in future.","title":"How Java GC Does Direct Byte Buffer Clean Up, Because IBM Docs says, It Does.","body":"<blockquote>\n  <p>Java Heap GC only do clean up in java heap</p>\n</blockquote>\n\n<p>In the HotSpot JVM, when the DirectByteBuffer is cleaned up, the memory associated with is freed or unmapped.</p>\n\n<p>Note: this is no different to other objects which are proxies for external resources such as Sockets, File streams, GUI components.</p>\n\n<p>What is different is the resources isn't Closeable. This might not be available for a number of reasons, most likely because accessing a memory region after it has been freed can corrupt memory or crash the JVM.  With the Hotspot JVM it is possible to free/unmap the memory deterministically with </p>\n\n<pre><code>((DirectBuffer) buffer).cleaner().clean();\n</code></pre>\n\n<p>However, this is undocumented and a) not the same across JVMs, b) use at own risk, c) might not be available in future.</p>\n"},{"tags":[],"owner":{"account_id":54150,"reputation":2013,"user_id":161995,"accept_rate":100,"display_name":"Erik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636037146,"creation_date":1636036194,"answer_id":69840883,"question_id":40122063,"body_markdown":"With 11 (and presumably onwards), at some time after that the GC has detected that the DirectByteBuffer has become phantom-reachable, the reference handler thread will run the cleanup code in the DirectByteBuffer that deallocates the native memory area. \r\n\r\nYou can call the cleanup yourself by calling `Unsafe` like so:\r\n\r\n    Unsafe u = Unsafe.getUnsafe()\r\n    ByteBuffer bb = ByteBuffer.createdDirect(100);\r\n    u.invokeCleaner(bb);\r\nI do feel that doing all this should be avoided if you can.","title":"How Java GC Does Direct Byte Buffer Clean Up, Because IBM Docs says, It Does.","body":"<p>With 11 (and presumably onwards), at some time after that the GC has detected that the DirectByteBuffer has become phantom-reachable, the reference handler thread will run the cleanup code in the DirectByteBuffer that deallocates the native memory area.</p>\n<p>You can call the cleanup yourself by calling <code>Unsafe</code> like so:</p>\n<pre><code>Unsafe u = Unsafe.getUnsafe()\nByteBuffer bb = ByteBuffer.createdDirect(100);\nu.invokeCleaner(bb);\n</code></pre>\n<p>I do feel that doing all this should be avoided if you can.</p>\n"}],"owner":{"account_id":3775340,"reputation":1021,"user_id":3136323,"display_name":"Ankush G"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6584,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":4,"score":6,"last_activity_date":1636037146,"creation_date":1476850781,"question_id":40122063,"body_markdown":"I assumed, I understood how Bytebuffer and DirectByteBuffer differs until i read a artical on IBM documentation, metioning :\r\n\r\n&quot;Direct ByteBuffer objects clean up their native buffers automatically but can only do so as part of Java heap GC&quot;\r\n\r\nhttps://www.ibm.com/developerworks/library/j-nativememory-linux/\r\n\r\nNow I am not able to understand this line, as it says DirectByteBuffer does cleaning as part of Java heap GC.\r\n\r\nIFAIK, Java Heap GC only do clean up in java heap(where DirectByteBuffer is not allocated).\r\nIt(GC) is no aware of native memory(where DirectByteBuffer is allocated).\r\n\r\nPlease help me understand this line, or if there is gap in my understanding","title":"How Java GC Does Direct Byte Buffer Clean Up, Because IBM Docs says, It Does.","body":"<p>I assumed, I understood how Bytebuffer and DirectByteBuffer differs until i read a artical on IBM documentation, metioning :</p>\n\n<p>\"Direct ByteBuffer objects clean up their native buffers automatically but can only do so as part of Java heap GC\"</p>\n\n<p><a href=\"https://www.ibm.com/developerworks/library/j-nativememory-linux/\" rel=\"nofollow\">https://www.ibm.com/developerworks/library/j-nativememory-linux/</a></p>\n\n<p>Now I am not able to understand this line, as it says DirectByteBuffer does cleaning as part of Java heap GC.</p>\n\n<p>IFAIK, Java Heap GC only do clean up in java heap(where DirectByteBuffer is not allocated).\nIt(GC) is no aware of native memory(where DirectByteBuffer is allocated).</p>\n\n<p>Please help me understand this line, or if there is gap in my understanding</p>\n"},{"tags":["java","arrays","multidimensional-array"],"comments":[{"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"score":2,"creation_date":1636035577,"post_id":69840629,"comment_id":123454538,"body_markdown":"What exactly are you having trouble with ?","body":"What exactly are you having trouble with ?"},{"owner":{"account_id":3142246,"reputation":2632,"user_id":2657515,"accept_rate":75,"display_name":"JonathanDavidArndt"},"score":0,"creation_date":1636037572,"post_id":69840629,"comment_id":123455508,"body_markdown":"From the linked picture, it looks like there are a bunch of things in the assignment: reading from standard input, listing files in a directory, etc. Because much of the Scanner code is missing from the above program, my guess is that the first step is to supply those missing portions where data is being read.","body":"From the linked picture, it looks like there are a bunch of things in the assignment: reading from standard input, listing files in a directory, etc. Because much of the Scanner code is missing from the above program, my guess is that the first step is to supply those missing portions where data is being read."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1636037767,"post_id":69840629,"comment_id":123455590,"body_markdown":"Poor title. Rewrite to summarize your specific technical issue.","body":"Poor title. Rewrite to summarize your specific technical issue."}],"answers":[{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636035777,"creation_date":1636035777,"answer_id":69840780,"question_id":69840629,"body_markdown":"You can read a file line by line by using the following classes ...\r\n\r\n```\r\n     String expected_value = &quot;Hello, world!&quot;;\r\n     String file =&quot;src/test/resources/fileTest.txt&quot;;\r\n     \r\n     BufferedReader reader = new BufferedReader(new FileReader(file));\r\n     \r\n     do {\r\n        String currentLine = reader.readLine();\r\n        // Process the line here.\r\n\r\n     }while(currentLine != null);\r\n    \r\n     reader.close();\r\n```","title":"Uni Assignment help (arrays and read from file) JAVA","body":"<p>You can read a file line by line by using the following classes ...</p>\n<pre><code>     String expected_value = &quot;Hello, world!&quot;;\n     String file =&quot;src/test/resources/fileTest.txt&quot;;\n     \n     BufferedReader reader = new BufferedReader(new FileReader(file));\n     \n     do {\n        String currentLine = reader.readLine();\n        // Process the line here.\n\n     }while(currentLine != null);\n    \n     reader.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3142246,"reputation":2632,"user_id":2657515,"accept_rate":75,"display_name":"JonathanDavidArndt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636036852,"creation_date":1636036121,"answer_id":69840858,"question_id":69840629,"body_markdown":"It looks like you just need help reading the contents of the file/input using the `Scanner` class.\r\n\r\nThe Java docs on this class have some good examples on how to use `Scanner`.  \r\nhttps://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html\r\n\r\nBelow is a simple program that can read data from a various inputs.\r\n\r\n\tpublic static void main(final String[] args) throws IOException\r\n\t{\r\n\t\tfinal StringBuilder sb = new StringBuilder();\r\n\t\tsb.append(&quot;Yusif 11 13&quot;);\r\n\t\tsb.append(System.lineSeparator());\r\n\t\tsb.append(&quot;Amber 9 14&quot;);\r\n\t\tsb.append(System.lineSeparator());\r\n\t\tsb.append(&quot;Marco 14 17&quot;);\r\n\t\tsb.append(System.lineSeparator());\r\n\r\n\t\tfinal String input = Files.readAllLines(Paths.get(&quot;C:/UniAssignment.txt&quot;)).stream().map(n -&gt; String.valueOf(n))\r\n\t\t\t\t.collect(Collectors.joining(System.lineSeparator()));\r\n\t\t//final InputStream input = System.in;\r\n\t\t//final String input = sb.toString();\r\n\r\n\t\ttry (final Scanner kbd = new Scanner(input))\r\n\t\t{\r\n\t\t\twhile (kbd.hasNext())\r\n\t\t\t{\r\n\t\t\t\tfinal String name = kbd.next();\r\n\t\t\t\tfinal int start1 = kbd.nextInt();\r\n\t\t\t\tfinal int end1 = kbd.nextInt();\r\n\r\n\t\t\t\tSystem.out.println(&quot;Name             : &quot; + name);\r\n\t\t\t\tSystem.out.println(&quot;Time Checked Out : &quot; + start1);\r\n\t\t\t\tSystem.out.println(&quot;Time Checked In  : &quot; + end1);\r\n\t\t\t\tSystem.out.println();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n","title":"Uni Assignment help (arrays and read from file) JAVA","body":"<p>It looks like you just need help reading the contents of the file/input using the <code>Scanner</code> class.</p>\n<p>The Java docs on this class have some good examples on how to use <code>Scanner</code>.<br />\n<a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html</a></p>\n<p>Below is a simple program that can read data from a various inputs.</p>\n<pre><code>public static void main(final String[] args) throws IOException\n{\n    final StringBuilder sb = new StringBuilder();\n    sb.append(&quot;Yusif 11 13&quot;);\n    sb.append(System.lineSeparator());\n    sb.append(&quot;Amber 9 14&quot;);\n    sb.append(System.lineSeparator());\n    sb.append(&quot;Marco 14 17&quot;);\n    sb.append(System.lineSeparator());\n\n    final String input = Files.readAllLines(Paths.get(&quot;C:/UniAssignment.txt&quot;)).stream().map(n -&gt; String.valueOf(n))\n            .collect(Collectors.joining(System.lineSeparator()));\n    //final InputStream input = System.in;\n    //final String input = sb.toString();\n\n    try (final Scanner kbd = new Scanner(input))\n    {\n        while (kbd.hasNext())\n        {\n            final String name = kbd.next();\n            final int start1 = kbd.nextInt();\n            final int end1 = kbd.nextInt();\n\n            System.out.println(&quot;Name             : &quot; + name);\n            System.out.println(&quot;Time Checked Out : &quot; + start1);\n            System.out.println(&quot;Time Checked In  : &quot; + end1);\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user17292876"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1636037777,"answer_count":2,"score":1,"last_activity_date":1636037024,"creation_date":1636035215,"question_id":69840629,"body_markdown":"My assignment requires me to have Java read a file that was given to me and use an arrays to input data from the file I believe, but I have no idea where to begin or how to start. Any help will be appreciated. This program tracks who may have a notebook that went missing from checking when the times have crossed.\r\n\r\n[Uni assignment][1]\r\n\r\nAn example file might be formatted as follows:\r\n\r\n    Yusif 11 13\r\n    Amber 9 14\r\n    Marco 14 17\r\n\r\n----\r\n\r\n     import java.util.Scanner;\r\n        \r\n        public class NotebookTracker {\r\n        \r\n            public static Scanner kbd = new Scanner(System.in);\r\n            \r\n            \r\n            \r\n            public static boolean timesCross(int start1, int end1, int start2, int end2) {\r\n                if (end1 &gt; start2) {\r\n                    return true;\r\n                    }\r\n                else {\r\n                    return false;\r\n                    }\r\n                }\r\n            \r\n        \r\n            public static int getCrossingStaff(int missingtime1, int missingtime2)\r\n            {\r\n            \r\n                int havenotebook = 0;\r\n                System.out.println(&quot;Enter the number of staff in the lab: &quot;);\r\n                int staffnum = kbd.nextInt();\r\n           \r\n                for (int i = staffnum; i &gt; 0; i--) {\r\n                    System.out.println(&quot;Enter the staff member&#39;s name: &quot;);\r\n                    String staffname = kbd.next();\r\n                    \r\n                \r\n                    System.out.println(&quot;Enter the entry time: &quot;);\r\n                    int entrytime = kbd.nextInt();\r\n                    \r\n                \r\n                    System.out.println(&quot;Enter the exit time: &quot;);\r\n                    int exittime = kbd.nextInt();\r\n                    \r\n                \r\n                    if (timesCross(missingtime1, missingtime2, entrytime, exittime)) {\r\n                        System.out.println(staffname + &quot; might have the notebook.&quot;);\r\n                        havenotebook += 1;\r\n                }\r\n        \r\n                    else {\r\n                    System.out.println(staffname + &quot; will not have the notebook.&quot;);\r\n                    }\r\n                        }\r\n                        return havenotebook;\r\n                    }\r\n                \r\n                \r\n                public static boolean timesCrossLate(int start1, int end1, int start2, int end2) {\r\n                \r\n                    if (end2 &lt;  start2 || end1 &gt; start2) {\r\n                        return true;\r\n                    }\r\n                \r\n                    else {\r\n            \r\n                        return false;\r\n                    }\r\n            }\r\n                \r\n                public static void main(String[] args) {\r\n                \r\n                \r\n                    System.out.println(&quot;What is the earliest the notebook could have been lost?&quot;);\r\n                    int earliest = kbd.nextInt();\r\n                    \r\n                    \r\n                    System.out.println(&quot;When did you notice the notebook was missing?&quot;);\r\n                    int whenmissing = kbd.nextInt();\r\n                    \r\n                    \r\n                    System.out.println(&quot;Number of staff who might have the notebook: &quot; + getCrossingStaff(earliest, whenmissing));\r\n                \r\n                }\r\n                }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3RdR6.png","title":"Uni Assignment help (arrays and read from file) JAVA","body":"<p>My assignment requires me to have Java read a file that was given to me and use an arrays to input data from the file I believe, but I have no idea where to begin or how to start. Any help will be appreciated. This program tracks who may have a notebook that went missing from checking when the times have crossed.</p>\n<p><a href=\"https://i.stack.imgur.com/3RdR6.png\" rel=\"nofollow noreferrer\">Uni assignment</a></p>\n<p>An example file might be formatted as follows:</p>\n<pre><code>Yusif 11 13\nAmber 9 14\nMarco 14 17\n</code></pre>\n<hr />\n<pre><code> import java.util.Scanner;\n    \n    public class NotebookTracker {\n    \n        public static Scanner kbd = new Scanner(System.in);\n        \n        \n        \n        public static boolean timesCross(int start1, int end1, int start2, int end2) {\n            if (end1 &gt; start2) {\n                return true;\n                }\n            else {\n                return false;\n                }\n            }\n        \n    \n        public static int getCrossingStaff(int missingtime1, int missingtime2)\n        {\n        \n            int havenotebook = 0;\n            System.out.println(&quot;Enter the number of staff in the lab: &quot;);\n            int staffnum = kbd.nextInt();\n       \n            for (int i = staffnum; i &gt; 0; i--) {\n                System.out.println(&quot;Enter the staff member's name: &quot;);\n                String staffname = kbd.next();\n                \n            \n                System.out.println(&quot;Enter the entry time: &quot;);\n                int entrytime = kbd.nextInt();\n                \n            \n                System.out.println(&quot;Enter the exit time: &quot;);\n                int exittime = kbd.nextInt();\n                \n            \n                if (timesCross(missingtime1, missingtime2, entrytime, exittime)) {\n                    System.out.println(staffname + &quot; might have the notebook.&quot;);\n                    havenotebook += 1;\n            }\n    \n                else {\n                System.out.println(staffname + &quot; will not have the notebook.&quot;);\n                }\n                    }\n                    return havenotebook;\n                }\n            \n            \n            public static boolean timesCrossLate(int start1, int end1, int start2, int end2) {\n            \n                if (end2 &lt;  start2 || end1 &gt; start2) {\n                    return true;\n                }\n            \n                else {\n        \n                    return false;\n                }\n        }\n            \n            public static void main(String[] args) {\n            \n            \n                System.out.println(&quot;What is the earliest the notebook could have been lost?&quot;);\n                int earliest = kbd.nextInt();\n                \n                \n                System.out.println(&quot;When did you notice the notebook was missing?&quot;);\n                int whenmissing = kbd.nextInt();\n                \n                \n                System.out.println(&quot;Number of staff who might have the notebook: &quot; + getCrossingStaff(earliest, whenmissing));\n            \n            }\n            }\n</code></pre>\n"},{"tags":["java","unix","exception","grep","stack-trace"],"comments":[{"owner":{"account_id":4642475,"reputation":816,"user_id":4283034,"accept_rate":75,"display_name":"karfai"},"score":1,"creation_date":1561612099,"post_id":56783325,"comment_id":100122678,"body_markdown":"@John1024, thanks for point out. Edited.","body":"@John1024, thanks for point out. Edited."}],"answers":[{"tags":[],"owner":{"account_id":3634993,"reputation":111059,"user_id":3030305,"display_name":"John1024"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1561608480,"creation_date":1561608480,"answer_id":56783757,"question_id":56783325,"body_markdown":"Try:\r\n\r\n    $ awk -F\\| -v id=&#39;X-bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb&#39; &#39;/^[0-9]{4}-[0-9]{2}-[0-9]{2} /{f=0} $2==id{f=1} f&#39; file\r\n    2019-06-03 11:27:20,759|X-bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb|INFO |com.example.ExampleService|EXIT| executeService()\r\n    2019-06-03 11:27:20,759|X-bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb|INFO |com.example.ExampleService|EXIT| MyObject = This,\r\n    is\r\n    a\r\n    multiline log\r\n    message\r\n    2019-06-03 11:27:20,759|X-bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb|ERROR|com.example.ExampleAdapter|error\r\n    com.example.ABCRuntimeException: Network error\r\n        at ...\r\n        at ...\r\n    Caused by: ...\r\n        at ...\r\n        at ...\r\n\r\n### How it works\r\n\r\n- `-F\\|`\r\n\r\n    Use `|` as the field separator.\r\n\r\n-  `-v id=&#39;X-bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb&#39;`\r\n\r\n    Create an awk variable called `id` and assign to it the id of interest.\r\n\r\n- `/^[0-9]{4}-[0-9]{2}-[0-9]{2} /{f=0}`\r\n\r\n    If the current line begins with a date, set variable `f` to false (zero).\r\n\r\n- `$2==id{f=1}`\r\n\r\n    If the second field matches the desired id, set variable `f` to true (one).\r\n\r\n- `f`\r\n\r\n    If `f` is true, print the line.","title":"How can I use grep command to capture correlation ID along with java stacktrace and multiline message from log file","body":"<p>Try:</p>\n\n<pre><code>$ awk -F\\| -v id='X-bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' '/^[0-9]{4}-[0-9]{2}-[0-9]{2} /{f=0} $2==id{f=1} f' file\n2019-06-03 11:27:20,759|X-bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb|INFO |com.example.ExampleService|EXIT| executeService()\n2019-06-03 11:27:20,759|X-bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb|INFO |com.example.ExampleService|EXIT| MyObject = This,\nis\na\nmultiline log\nmessage\n2019-06-03 11:27:20,759|X-bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb|ERROR|com.example.ExampleAdapter|error\ncom.example.ABCRuntimeException: Network error\n    at ...\n    at ...\nCaused by: ...\n    at ...\n    at ...\n</code></pre>\n\n<h3>How it works</h3>\n\n<ul>\n<li><p><code>-F\\|</code></p>\n\n<p>Use <code>|</code> as the field separator.</p></li>\n<li><p><code>-v id='X-bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb'</code></p>\n\n<p>Create an awk variable called <code>id</code> and assign to it the id of interest.</p></li>\n<li><p><code>/^[0-9]{4}-[0-9]{2}-[0-9]{2} /{f=0}</code></p>\n\n<p>If the current line begins with a date, set variable <code>f</code> to false (zero).</p></li>\n<li><p><code>$2==id{f=1}</code></p>\n\n<p>If the second field matches the desired id, set variable <code>f</code> to true (one).</p></li>\n<li><p><code>f</code></p>\n\n<p>If <code>f</code> is true, print the line.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":8954365,"reputation":332,"user_id":6679305,"display_name":"Mohammed Nosirat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636036984,"creation_date":1636036984,"answer_id":69841051,"question_id":56783325,"body_markdown":"I hope that this will help:\r\n\r\nyou can use `-C n` in your grep command where n is an integer to determine the number of lines surrounding your grep word\r\n \r\n`grep &#39;X-bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb&#39; file -C 10`\r\n\r\nwill help \r\nit will not give you exactly what you want, but it will help.","title":"How can I use grep command to capture correlation ID along with java stacktrace and multiline message from log file","body":"<p>I hope that this will help:</p>\n<p>you can use <code>-C n</code> in your grep command where n is an integer to determine the number of lines surrounding your grep word</p>\n<p><code>grep 'X-bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' file -C 10</code></p>\n<p>will help\nit will not give you exactly what you want, but it will help.</p>\n"}],"owner":{"account_id":4642475,"reputation":816,"user_id":4283034,"accept_rate":75,"display_name":"karfai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":618,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":56783757,"answer_count":2,"score":4,"last_activity_date":1636036984,"creation_date":1561604684,"question_id":56783325,"body_markdown":"In the log file, each request sent in will be automatically assigned with one unique correlation ID, for example `X-aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa` and `X-bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb` as in the log sample below that created by log4j. \r\n\r\n    2019-06-03 11:27:22,697|X-aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa|INFO |com.example.ExampleService|Start execute\r\n    2019-06-03 11:27:22,697|X-aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa|INFO |com.example.ExampleService|ENTRY| performIntegration()\r\n    2019-06-03 11:27:20,759|X-bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb|INFO |com.example.ExampleService|EXIT| executeService()\r\n    2019-06-03 11:27:20,759|X-bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb|INFO |com.example.ExampleService|EXIT| MyObject = This,\r\n    is\r\n    a\r\n    multiline log\r\n    message\r\n    2019-06-03 11:27:20,759|X-bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb|ERROR|com.example.ExampleAdapter|error\r\n    com.example.ABCRuntimeException: Network error\r\n        at ...\r\n        at ...\r\n    Caused by: ...\r\n        at ...\r\n        at ...\r\n    2019-06-03 11:27:22,698|X-aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa|INFO |com.example.ExampleService|EXIT| performIntegration()\r\n    2019-06-03 11:27:22,699|X-aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa|INFO |com.example.ExampleService|EXIT| executeService()\r\n    2019-06-03 11:27:22,699|X-aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa|ERROR|com.example.ExampleAdapter| another error\r\n    com.example.ABCRuntimeException: Network error\r\n        at ...\r\n        at ...\r\n    Caused by: ...\r\n        at ...\r\n        at ...\r\n\r\nHow can I grep the correlation id with multiline message and java stacktrace together? For example I want to grep `X-bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb`, then the expected output should be as per below\r\n\r\n    2019-06-03 11:27:20,759|X-bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb|INFO |com.example.ExampleService|EXIT| executeService()\r\n    2019-06-03 11:27:20,759|X-bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb|INFO |com.example.ExampleService|EXIT| MyObject = This,\r\n    is\r\n    a\r\n    multiline log\r\n    message\r\n    2019-06-03 11:27:20,759|X-bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb|ERROR|com.example.ExampleAdapter|error\r\n    com.example.ABCRuntimeException: Network error\r\n        at ...\r\n        at ...\r\n    Caused by: ...\r\n        at ...\r\n        at ...\r\n\r\nIs linux grep command able to achieve this? Or is there any other recommended tools? However, I am not allowed to install new package on the production servers. The operation system is Red Hat 7.\r\n","title":"How can I use grep command to capture correlation ID along with java stacktrace and multiline message from log file","body":"<p>In the log file, each request sent in will be automatically assigned with one unique correlation ID, for example <code>X-aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa</code> and <code>X-bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb</code> as in the log sample below that created by log4j. </p>\n\n<pre><code>2019-06-03 11:27:22,697|X-aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa|INFO |com.example.ExampleService|Start execute\n2019-06-03 11:27:22,697|X-aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa|INFO |com.example.ExampleService|ENTRY| performIntegration()\n2019-06-03 11:27:20,759|X-bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb|INFO |com.example.ExampleService|EXIT| executeService()\n2019-06-03 11:27:20,759|X-bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb|INFO |com.example.ExampleService|EXIT| MyObject = This,\nis\na\nmultiline log\nmessage\n2019-06-03 11:27:20,759|X-bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb|ERROR|com.example.ExampleAdapter|error\ncom.example.ABCRuntimeException: Network error\n    at ...\n    at ...\nCaused by: ...\n    at ...\n    at ...\n2019-06-03 11:27:22,698|X-aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa|INFO |com.example.ExampleService|EXIT| performIntegration()\n2019-06-03 11:27:22,699|X-aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa|INFO |com.example.ExampleService|EXIT| executeService()\n2019-06-03 11:27:22,699|X-aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa|ERROR|com.example.ExampleAdapter| another error\ncom.example.ABCRuntimeException: Network error\n    at ...\n    at ...\nCaused by: ...\n    at ...\n    at ...\n</code></pre>\n\n<p>How can I grep the correlation id with multiline message and java stacktrace together? For example I want to grep <code>X-bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb</code>, then the expected output should be as per below</p>\n\n<pre><code>2019-06-03 11:27:20,759|X-bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb|INFO |com.example.ExampleService|EXIT| executeService()\n2019-06-03 11:27:20,759|X-bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb|INFO |com.example.ExampleService|EXIT| MyObject = This,\nis\na\nmultiline log\nmessage\n2019-06-03 11:27:20,759|X-bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb|ERROR|com.example.ExampleAdapter|error\ncom.example.ABCRuntimeException: Network error\n    at ...\n    at ...\nCaused by: ...\n    at ...\n    at ...\n</code></pre>\n\n<p>Is linux grep command able to achieve this? Or is there any other recommended tools? However, I am not allowed to install new package on the production servers. The operation system is Red Hat 7.</p>\n"},{"tags":["java","spring","spring-bean","spring-profiles"],"answers":[{"tags":[],"owner":{"account_id":970256,"reputation":892,"user_id":992940,"accept_rate":67,"display_name":"Dmitrii Bocharov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636036682,"creation_date":1636036682,"answer_id":69840993,"question_id":68679191,"body_markdown":"you can simply test your profile expression with `org.springframework.core.env.Profiles`. For example:\r\n```java\r\nSet&lt;String&gt; activeProfiles = new HashSet&lt;&gt;();\r\nactiveProfiles.add(&quot;A&quot;);\r\nactiveProfiles.add(&quot;B&quot;);\r\n\r\nSystem.out.println(Profiles.of(&quot;!A &amp; !B&quot;).matches(activeProfiles::contains)); //false\r\nSystem.out.println(Profiles.of(&quot;A&quot;, &quot;B&quot;).matches(activeProfiles::contains)); // true\r\n```\r\n\r\nNow to your code\r\n\r\n 1. \r\n\r\n&gt; This code is working only if no profile A or B is active\r\n\r\n```java\r\nSet&lt;String&gt; activeProfiles = Collections.emptySet();\r\n\r\nSystem.out.println(Profiles.of(&quot;!A &amp; !B&quot;).matches(activeProfiles::contains)); // true\r\nSystem.out.println(Profiles.of(&quot;A&quot;, &quot;B&quot;).matches(activeProfiles::contains)); // false\r\n```\r\nSo the first bean is active.\r\n\r\n 2.\r\n\r\n&gt; To make it work when either A or B are active, I have to switch the order of the bean declaration\r\n\r\nno, you don&#39;t need to switch anything:\r\n```java\r\nSet&lt;String&gt; activeProfiles = new HashSet&lt;&gt;();\r\nactiveProfiles.add(&quot;A&quot;);\r\n\r\nSystem.out.println(Profiles.of(&quot;!A &amp; !B&quot;).matches(activeProfiles::contains)); //false\r\nSystem.out.println(Profiles.of(&quot;A&quot;, &quot;B&quot;).matches(activeProfiles::contains)); // true\r\n```\r\nSo the second bean will always be active.\r\n\r\n3.\r\n\r\n`&quot;A | B&quot;` also works without any problem similarly to `&quot;A&quot;, &quot;B&quot;`:\r\n```java\r\nSet&lt;String&gt; activeProfiles = new HashSet&lt;&gt;();\r\nactiveProfiles.add(&quot;A&quot;);\r\n\r\nSystem.out.println(Profiles.of(&quot;A | B&quot;).matches(activeProfiles::contains)); // true\r\nSystem.out.println(Profiles.of(&quot;A&quot;, &quot;B&quot;).matches(activeProfiles::contains)); // true\r\n```","title":"Spring bean depending on multiple profiles","body":"<p>you can simply test your profile expression with <code>org.springframework.core.env.Profiles</code>. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Set&lt;String&gt; activeProfiles = new HashSet&lt;&gt;();\nactiveProfiles.add(&quot;A&quot;);\nactiveProfiles.add(&quot;B&quot;);\n\nSystem.out.println(Profiles.of(&quot;!A &amp; !B&quot;).matches(activeProfiles::contains)); //false\nSystem.out.println(Profiles.of(&quot;A&quot;, &quot;B&quot;).matches(activeProfiles::contains)); // true\n</code></pre>\n<p>Now to your code</p>\n<p>1.</p>\n<blockquote>\n<p>This code is working only if no profile A or B is active</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>Set&lt;String&gt; activeProfiles = Collections.emptySet();\n\nSystem.out.println(Profiles.of(&quot;!A &amp; !B&quot;).matches(activeProfiles::contains)); // true\nSystem.out.println(Profiles.of(&quot;A&quot;, &quot;B&quot;).matches(activeProfiles::contains)); // false\n</code></pre>\n<p>So the first bean is active.</p>\n<p>2.</p>\n<blockquote>\n<p>To make it work when either A or B are active, I have to switch the order of the bean declaration</p>\n</blockquote>\n<p>no, you don't need to switch anything:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Set&lt;String&gt; activeProfiles = new HashSet&lt;&gt;();\nactiveProfiles.add(&quot;A&quot;);\n\nSystem.out.println(Profiles.of(&quot;!A &amp; !B&quot;).matches(activeProfiles::contains)); //false\nSystem.out.println(Profiles.of(&quot;A&quot;, &quot;B&quot;).matches(activeProfiles::contains)); // true\n</code></pre>\n<p>So the second bean will always be active.</p>\n<p>3.</p>\n<p><code>&quot;A | B&quot;</code> also works without any problem similarly to <code>&quot;A&quot;, &quot;B&quot;</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Set&lt;String&gt; activeProfiles = new HashSet&lt;&gt;();\nactiveProfiles.add(&quot;A&quot;);\n\nSystem.out.println(Profiles.of(&quot;A | B&quot;).matches(activeProfiles::contains)); // true\nSystem.out.println(Profiles.of(&quot;A&quot;, &quot;B&quot;).matches(activeProfiles::contains)); // true\n</code></pre>\n"}],"owner":{"account_id":2560593,"reputation":1454,"user_id":2221647,"accept_rate":67,"display_name":"dhalfageme"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":615,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636036682,"creation_date":1628241623,"question_id":68679191,"body_markdown":"I have to create a bean depending of whether one of 2 possible profiles is active, or a different bean if none of that profiles is active. I have the following:\r\n\r\n```    \r\n    @Profile(&quot;!A &amp; !B&quot;)\r\n    @Bean(name = &quot;myBean&quot;)\r\n    @Autowired\r\n    public Object myBean() {\r\n        ...\r\n    }\r\n\r\n    @Profile({&quot;A&quot;, &quot;B&quot;})\r\n    @Bean(name = &quot;myBean&quot;)\r\n    @Autowired\r\n    public Object myBean() {\r\n        ...\r\n    }\r\n````\r\nThis code is working only if no profile A or B is active. To make it work when either A or B are active, I have to switch the order of the bean declaration.\r\n\r\nI&#39;ve tried declaring the beans in different files and it seems t obe working, but I do not understand why this not.\r\n\r\nAlso I don&#39;t understand why `&quot;!A &amp; !B&quot;` notation seems to be working but  `&quot;A | B&quot;` doest not work so I have to use `{&quot;A&quot;, &quot;B&quot;}` in that case.\r\n\r\n\r\nCould you explain why having them in the same files only works for the first bean declared and the notations concern?\r\n\r\nThanks","title":"Spring bean depending on multiple profiles","body":"<p>I have to create a bean depending of whether one of 2 possible profiles is active, or a different bean if none of that profiles is active. I have the following:</p>\n<pre><code>    @Profile(&quot;!A &amp; !B&quot;)\n    @Bean(name = &quot;myBean&quot;)\n    @Autowired\n    public Object myBean() {\n        ...\n    }\n\n    @Profile({&quot;A&quot;, &quot;B&quot;})\n    @Bean(name = &quot;myBean&quot;)\n    @Autowired\n    public Object myBean() {\n        ...\n    }\n</code></pre>\n<p>This code is working only if no profile A or B is active. To make it work when either A or B are active, I have to switch the order of the bean declaration.</p>\n<p>I've tried declaring the beans in different files and it seems t obe working, but I do not understand why this not.</p>\n<p>Also I don't understand why <code>&quot;!A &amp; !B&quot;</code> notation seems to be working but  <code>&quot;A | B&quot;</code> doest not work so I have to use <code>{&quot;A&quot;, &quot;B&quot;}</code> in that case.</p>\n<p>Could you explain why having them in the same files only works for the first bean declared and the notations concern?</p>\n<p>Thanks</p>\n"},{"tags":["java","android","windows","cordova"],"comments":[{"owner":{"account_id":389916,"reputation":9994,"user_id":749657,"accept_rate":83,"display_name":"Eric"},"score":0,"creation_date":1636035857,"post_id":69840043,"comment_id":123454697,"body_markdown":"Then maybe just install Java JDK 1.8","body":"Then maybe just install Java JDK 1.8"},{"owner":{"account_id":9686877,"reputation":589,"user_id":7186344,"display_name":"M.Mavini"},"score":0,"creation_date":1636184537,"post_id":69840043,"comment_id":123493162,"body_markdown":"The title of question is very important it must include the programming problem so it is searchable.","body":"The title of question is very important it must include the programming problem so it is searchable."}],"answers":[{"tags":[],"owner":{"account_id":6696437,"reputation":2557,"user_id":5164318,"display_name":"emandt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636036477,"creation_date":1636036477,"answer_id":69840957,"question_id":69840043,"body_markdown":"You can open &quot;*.../platforms/android*&quot; using Android Studio and build the APK from there.\r\nI use your command just to build Javascript files, then I switch to Android Studio to launch Debugging or to produce final APK.","title":"cordova build android in windows 10 shows the following issue","body":"<p>You can open &quot;<em>.../platforms/android</em>&quot; using Android Studio and build the APK from there.\nI use your command just to build Javascript files, then I switch to Android Studio to launch Debugging or to produce final APK.</p>\n"}],"owner":{"account_id":10966121,"reputation":1,"user_id":8057804,"display_name":"Minto Thomas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1636036477,"creation_date":1636032703,"question_id":69840043,"body_markdown":"Checking Java JDK and Android SDK versions\r\n\r\nANDROID_SDK_ROOT=C:\\Users\\MI\\AppData\\Local\\Android\\Sdk (recommended setting)\r\n\r\nANDROID_HOME=undefined (DEPRECATED)\r\n\r\nUsing Android SDK: C:\\Users\\MI\\AppData\\Local\\Android\\Sdk\r\n\r\nRequirements check failed for JDK 8 (&#39;1.8.*&#39;)! Detected version: null\r\n\r\nCheck your ANDROID_SDK_ROOT / JAVA_HOME / PATH environment variables.","title":"cordova build android in windows 10 shows the following issue","body":"<p>Checking Java JDK and Android SDK versions</p>\n<p>ANDROID_SDK_ROOT=C:\\Users\\MI\\AppData\\Local\\Android\\Sdk (recommended setting)</p>\n<p>ANDROID_HOME=undefined (DEPRECATED)</p>\n<p>Using Android SDK: C:\\Users\\MI\\AppData\\Local\\Android\\Sdk</p>\n<p>Requirements check failed for JDK 8 ('1.8.*')! Detected version: null</p>\n<p>Check your ANDROID_SDK_ROOT / JAVA_HOME / PATH environment variables.</p>\n"},{"tags":["java","eclipse","minecraft-forge"],"comments":[{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1636036828,"post_id":69840118,"comment_id":123455194,"body_markdown":"Eclipse, itself, needs at least Java 11 to run, but you can use other versions of Java to run programs from inside Eclipse. In the Eclipse Preferences use &quot;Java &gt; Installed JREs&#39; to tell Eclipse about other Java versions. You can choose which Java to use in the Project Properties and the Run Configuration.","body":"Eclipse, itself, needs at least Java 11 to run, but you can use other versions of Java to run programs from inside Eclipse. In the Eclipse Preferences use &quot;Java &gt; Installed JREs&#39; to tell Eclipse about other Java versions. You can choose which Java to use in the Project Properties and the Run Configuration."},{"owner":{"account_id":23237276,"reputation":1,"user_id":17327142,"display_name":"Skyronman"},"score":0,"creation_date":1636039016,"post_id":69840118,"comment_id":123456125,"body_markdown":"@greg-449 Ok I managed to &quot;tell Eclipse&quot; about the other java version but the error still doesn&#39;t go away when importing the gradle project.","body":"@greg-449 Ok I managed to &quot;tell Eclipse&quot; about the other java version but the error still doesn&#39;t go away when importing the gradle project."}],"owner":{"account_id":23237276,"reputation":1,"user_id":17327142,"display_name":"Skyronman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":381,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636036391,"creation_date":1636033049,"question_id":69840118,"body_markdown":"I wanted to start creating mods for Minecraft 1.12.2 by following this [tutorial][1]. So I downloaded the [Forge mdk for MC 1.12.2][2], extraced the zip file and copied the contents to a separate folder. Then I launched Eclipse and clicked on import project, chose existing Gradle project, specified the location of the folder and clicked Finish. But then this error popped up:\r\n\r\n&gt; Could not create an instance of Tooling API implementation using the specified Gradle distribution &#39;https://services.gradle.org/distributions/gradle-4.9-bin.zip&#39;.\r\n\r\nI have a Windows 10 machine and installed [this][3] JDK as I was told to do so in the tutorial. Tho when I installed eclipse the JKD 16 was selected by default as VM and as you can see in [this][4] screenshot below the installed didn&#39;t let me choose JDK 8. I don&#39;t know if that might be the issue nor how to fix it. Maybe I&#39;d have to use Eclipse 2020, but I&#39;d prefer not to.\r\n\r\nNow I looked at the gradle linke and found that changing the version might fix the problem. But then why would forge itself have a non working link in their gradle project. And if that&#39;s the issue I have no clue which gradle version to use.\r\n\r\nRessources I read but didn&#39;t help:\r\n\r\n 1. https://stackoverflow.com/questions/66506535/eclipse-minecraft-error-when-importing-gradle --&gt; I deleted the folder and it didn&#39;t let me start eclipse again. With [this][5] message\r\n 2. https://stackoverflow.com/questions/63461573/trying-to-mod-mc-forge-1-12-2-but-setupdecompworkspace-not-working --&gt; Errors while running the commands.\r\n 3. https://stackoverflow.com/questions/64613713/deprecated-gradle-features-were-used-in-this-build-making-it-incompatible-with --&gt; Issue seems unrelated but solution is a bit what I excpected my solution to be like. Tho no explanation on how to solve it.\r\n\r\n\r\n  [1]: https://codakid.com/guide-to-minecraft-modding-with-java/\r\n  [2]: https://files.minecraftforge.net/net/minecraftforge/forge/index_1.12.2.html\r\n  [3]: https://adoptopenjdk.net/?variant=openjdk8&amp;jvmVariant=hotspot\r\n  [4]: https://i.stack.imgur.com/oQIFk.jpg\r\n  [5]: https://i.stack.imgur.com/fruMX.jpg","title":"Failed to create instance of tooling API whilst trying to import Grade project to Eclipse 2021-09","body":"<p>I wanted to start creating mods for Minecraft 1.12.2 by following this <a href=\"https://codakid.com/guide-to-minecraft-modding-with-java/\" rel=\"nofollow noreferrer\">tutorial</a>. So I downloaded the <a href=\"https://files.minecraftforge.net/net/minecraftforge/forge/index_1.12.2.html\" rel=\"nofollow noreferrer\">Forge mdk for MC 1.12.2</a>, extraced the zip file and copied the contents to a separate folder. Then I launched Eclipse and clicked on import project, chose existing Gradle project, specified the location of the folder and clicked Finish. But then this error popped up:</p>\n<blockquote>\n<p>Could not create an instance of Tooling API implementation using the specified Gradle distribution 'https://services.gradle.org/distributions/gradle-4.9-bin.zip'.</p>\n</blockquote>\n<p>I have a Windows 10 machine and installed <a href=\"https://adoptopenjdk.net/?variant=openjdk8&amp;jvmVariant=hotspot\" rel=\"nofollow noreferrer\">this</a> JDK as I was told to do so in the tutorial. Tho when I installed eclipse the JKD 16 was selected by default as VM and as you can see in <a href=\"https://i.stack.imgur.com/oQIFk.jpg\" rel=\"nofollow noreferrer\">this</a> screenshot below the installed didn't let me choose JDK 8. I don't know if that might be the issue nor how to fix it. Maybe I'd have to use Eclipse 2020, but I'd prefer not to.</p>\n<p>Now I looked at the gradle linke and found that changing the version might fix the problem. But then why would forge itself have a non working link in their gradle project. And if that's the issue I have no clue which gradle version to use.</p>\n<p>Ressources I read but didn't help:</p>\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/66506535/eclipse-minecraft-error-when-importing-gradle\">Eclipse/Minecraft error when importing gradle</a> --&gt; I deleted the folder and it didn't let me start eclipse again. With <a href=\"https://i.stack.imgur.com/fruMX.jpg\" rel=\"nofollow noreferrer\">this</a> message</li>\n<li><a href=\"https://stackoverflow.com/questions/63461573/trying-to-mod-mc-forge-1-12-2-but-setupdecompworkspace-not-working\">Trying to mod MC Forge 1.12.2, but SetupDecompWorkspace not working</a> --&gt; Errors while running the commands.</li>\n<li><a href=\"https://stackoverflow.com/questions/64613713/deprecated-gradle-features-were-used-in-this-build-making-it-incompatible-with\">Deprecated Gradle features were used in this build, making it incompatible with Gradle 5.0 with Minecraft Forge 1.12.2</a> --&gt; Issue seems unrelated but solution is a bit what I excpected my solution to be like. Tho no explanation on how to solve it.</li>\n</ol>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":7,"creation_date":1636026166,"post_id":69838663,"comment_id":123450595,"body_markdown":"Are you in control of the API? Returning keys that are actually values and not pre-defined static keys is not really a good design - hence why you now have trouble reading it.","body":"Are you in control of the API? Returning keys that are actually values and not pre-defined static keys is not really a good design - hence why you now have trouble reading it."},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":1,"creation_date":1636026890,"post_id":69838663,"comment_id":123450851,"body_markdown":"Do the numbers really start at `1`? Do you want to skip element 0 of the array? If so, what goes in that spot - `null`?","body":"Do the numbers really start at <code>1</code>? Do you want to skip element 0 of the array? If so, what goes in that spot - <code>null</code>?"},{"owner":{"account_id":3995853,"reputation":540,"user_id":3293436,"display_name":"MauroB"},"score":0,"creation_date":1636027922,"post_id":69838663,"comment_id":123451246,"body_markdown":"Hi, yes, I know it&#39;s not really a good design, but it&#39;s a 3rd party API. I have no control on it. The numbers really start from 1 and I can have no items too","body":"Hi, yes, I know it&#39;s not really a good design, but it&#39;s a 3rd party API. I have no control on it. The numbers really start from 1 and I can have no items too"},{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":1,"creation_date":1636033159,"post_id":69838663,"comment_id":123453345,"body_markdown":"Can you add code to show what have you tried ?","body":"Can you add code to show what have you tried ?"},{"owner":{"account_id":3995853,"reputation":540,"user_id":3293436,"display_name":"MauroB"},"score":0,"creation_date":1636034195,"post_id":69838663,"comment_id":123453806,"body_markdown":"I added the working solution","body":"I added the working solution"}],"answers":[{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1636026524,"creation_date":1636026524,"answer_id":69838778,"question_id":69838663,"body_markdown":"It is better to change the API, which returns this JSON to return an array of packages. \r\n\r\n```\r\n{\r\n    &quot;message&quot; : &quot;message&quot;,\r\n    &quot;packages&quot;: [\r\n    {\r\n        &quot;packageCode&quot;: &quot;packageCode1&quot;,\r\n        &quot;packageNum&quot;: &quot;packageNum1&quot;\r\n    },\r\n    {\r\n        &quot;packageCode&quot;: &quot;packageCode2&quot;,\r\n        &quot;packageNum&quot;: &quot;packageNum2&quot;\r\n    }]\r\n}\r\n```\r\n\r\nIf this cannot be changed, you&#39;ll need to write a custom deserealizer by extending the `StdDeserializer&lt;T&gt;` class. You&#39;ll have to programmatically inspect the `JsonNode` parse tree and assemble the object that you want. \r\n\r\nThis [article][1] explains how to do it and comes with a working code sample.\r\n\r\n\r\n  [1]: https://www.baeldung.com/jackson-deserialization","title":"Parse implicit JSON list given by keys &quot;1&quot;, &quot;2&quot;","body":"<p>It is better to change the API, which returns this JSON to return an array of packages.</p>\n<pre><code>{\n    &quot;message&quot; : &quot;message&quot;,\n    &quot;packages&quot;: [\n    {\n        &quot;packageCode&quot;: &quot;packageCode1&quot;,\n        &quot;packageNum&quot;: &quot;packageNum1&quot;\n    },\n    {\n        &quot;packageCode&quot;: &quot;packageCode2&quot;,\n        &quot;packageNum&quot;: &quot;packageNum2&quot;\n    }]\n}\n</code></pre>\n<p>If this cannot be changed, you'll need to write a custom deserealizer by extending the <code>StdDeserializer&lt;T&gt;</code> class. You'll have to programmatically inspect the <code>JsonNode</code> parse tree and assemble the object that you want.</p>\n<p>This <a href=\"https://www.baeldung.com/jackson-deserialization\" rel=\"nofollow noreferrer\">article</a> explains how to do it and comes with a working code sample.</p>\n"},{"tags":[],"owner":{"account_id":3995853,"reputation":540,"user_id":3293436,"display_name":"MauroB"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1636034082,"creation_date":1636034082,"answer_id":69840355,"question_id":69838663,"body_markdown":"I found this working solution, using a custom deserializer!\r\nI defined a max number of allowed packages, but this check can be removed, if not necessary.\r\n\r\nClass **Response**:\r\n    \r\n    import com.fasterxml.jackson.databind.annotation.JsonDeserialize;\r\n    \r\n    import lombok.Getter;\r\n    import lombok.Setter;\r\n    import lombok.ToString;\r\n    \r\n        @Getter\r\n        @Setter\r\n        @ToString\r\n        @JsonDeserialize(using = ResponseDeserializer.class)\r\n        public class Response {\r\n        \r\n        \tprivate String message;\r\n        \tprivate Package [] packages;\r\n        }\r\n\r\n\r\n\r\nClass **Package**:\r\n\r\n    import lombok.Getter;\r\n    import lombok.Setter;\r\n    import lombok.ToString;\r\n    \r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    public class Package {\r\n    \r\n    \tprivate String packageCode;\r\n    \tprivate String packageNum;\r\n    }\r\n\r\nClass **ResponseDeserializer**:\r\n\r\n\r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import com.fasterxml.jackson.core.JsonParser;\r\n    import com.fasterxml.jackson.databind.DeserializationContext;\r\n    import com.fasterxml.jackson.databind.JsonNode;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.databind.deser.std.StdDeserializer;\r\n    \r\n    public class ResponseDeserializer extends StdDeserializer&lt;Response&gt; {\r\n    \r\n    \tprivate static final long serialVersionUID = -6665611685508708642L;\r\n    \tprivate static final long MAX_PACKAGE_NUM = 1000;\r\n    \tprivate ObjectMapper objectMapper = new ObjectMapper();\r\n    \r\n    \tpublic ResponseDeserializer() {\r\n    \t\tthis(null);\r\n    \t}\r\n    \r\n    \tpublic ResponseDeserializer(Class&lt;?&gt; vc) {\r\n    \t\tsuper(vc);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Response deserialize(JsonParser parser, DeserializationContext ctx)\r\n    \t\t\tthrows IOException {\r\n    \t\tfinal JsonNode node = parser.getCodec().readTree(parser);\r\n    \t\tfinal String message = node.get(&quot;message&quot;).asText();\r\n    \t\tfinal List&lt;Package&gt; packageList = new ArrayList&lt;&gt;();\r\n    \t\tfor (var key = 1; key &lt; MAX_PACKAGE_NUM; key++) {\r\n    \t\t\tvar packageNode = node.get(String.valueOf(key));\r\n    \t\t\tif (null == packageNode) {\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t\tvar currentPackage = objectMapper.treeToValue(packageNode, Package.class);\r\n    \t\t\tpackageList.add(currentPackage);\r\n    \t\t}\r\n    \t\tfinal var response = new Response();\r\n    \t\tresponse.setMessage(message);\r\n    \t\tresponse.setPackages(packageList.toArray(new Package[0]));\r\n    \t\treturn response;\r\n    \t}\r\n    }\r\n\r\nClass **TestDeserializer** (sample):\r\n\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.databind.JsonMappingException;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    \r\n    public class TestDeserializer {\r\n    \r\n    \tpublic static void main(String[] args) throws JsonMappingException, JsonProcessingException {\r\n    \t\tString responseJSON = &quot;&quot;&quot;\r\n    \t\t\t\t\t\t\t\t{\r\n    \t\t\t\t    &quot;message&quot; : &quot;message&quot;,\r\n    \t\t\t\t    &quot;1&quot;: {\r\n    \t\t\t\t        &quot;packageCode&quot;: &quot;packageCode1&quot;,\r\n    \t\t\t\t        &quot;packageNum&quot;: &quot;packageNum1&quot;\r\n    \t\t\t\t    },\r\n    \t\t\t\t    &quot;2&quot;: {\r\n    \t\t\t\t        &quot;packageCode&quot;: &quot;packageCode2&quot;,\r\n    \t\t\t\t        &quot;packageNum&quot;: &quot;packageNum2&quot;\r\n    \t\t\t\t    }\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\t\t\t\t\t&quot;&quot;&quot;;\r\n    \t\tResponse response = new ObjectMapper().readValue(responseJSON, Response.class);\r\n    \t\tSystem.out.println(response.toString());\r\n    \r\n    \t}\r\n    }","title":"Parse implicit JSON list given by keys &quot;1&quot;, &quot;2&quot;","body":"<p>I found this working solution, using a custom deserializer!\nI defined a max number of allowed packages, but this check can be removed, if not necessary.</p>\n<p>Class <strong>Response</strong>:</p>\n<pre><code>import com.fasterxml.jackson.databind.annotation.JsonDeserialize;\n\nimport lombok.Getter;\nimport lombok.Setter;\nimport lombok.ToString;\n\n    @Getter\n    @Setter\n    @ToString\n    @JsonDeserialize(using = ResponseDeserializer.class)\n    public class Response {\n    \n        private String message;\n        private Package [] packages;\n    }\n</code></pre>\n<p>Class <strong>Package</strong>:</p>\n<pre><code>import lombok.Getter;\nimport lombok.Setter;\nimport lombok.ToString;\n\n@Getter\n@Setter\n@ToString\npublic class Package {\n\n    private String packageCode;\n    private String packageNum;\n}\n</code></pre>\n<p>Class <strong>ResponseDeserializer</strong>:</p>\n<pre><code>import java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport com.fasterxml.jackson.core.JsonParser;\nimport com.fasterxml.jackson.databind.DeserializationContext;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.deser.std.StdDeserializer;\n\npublic class ResponseDeserializer extends StdDeserializer&lt;Response&gt; {\n\n    private static final long serialVersionUID = -6665611685508708642L;\n    private static final long MAX_PACKAGE_NUM = 1000;\n    private ObjectMapper objectMapper = new ObjectMapper();\n\n    public ResponseDeserializer() {\n        this(null);\n    }\n\n    public ResponseDeserializer(Class&lt;?&gt; vc) {\n        super(vc);\n    }\n\n    @Override\n    public Response deserialize(JsonParser parser, DeserializationContext ctx)\n            throws IOException {\n        final JsonNode node = parser.getCodec().readTree(parser);\n        final String message = node.get(&quot;message&quot;).asText();\n        final List&lt;Package&gt; packageList = new ArrayList&lt;&gt;();\n        for (var key = 1; key &lt; MAX_PACKAGE_NUM; key++) {\n            var packageNode = node.get(String.valueOf(key));\n            if (null == packageNode) {\n                break;\n            }\n            var currentPackage = objectMapper.treeToValue(packageNode, Package.class);\n            packageList.add(currentPackage);\n        }\n        final var response = new Response();\n        response.setMessage(message);\n        response.setPackages(packageList.toArray(new Package[0]));\n        return response;\n    }\n}\n</code></pre>\n<p>Class <strong>TestDeserializer</strong> (sample):</p>\n<pre><code>import com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.JsonMappingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\npublic class TestDeserializer {\n\n    public static void main(String[] args) throws JsonMappingException, JsonProcessingException {\n        String responseJSON = &quot;&quot;&quot;\n                                {\n                    &quot;message&quot; : &quot;message&quot;,\n                    &quot;1&quot;: {\n                        &quot;packageCode&quot;: &quot;packageCode1&quot;,\n                        &quot;packageNum&quot;: &quot;packageNum1&quot;\n                    },\n                    &quot;2&quot;: {\n                        &quot;packageCode&quot;: &quot;packageCode2&quot;,\n                        &quot;packageNum&quot;: &quot;packageNum2&quot;\n                    }\n                }\n\n                                &quot;&quot;&quot;;\n        Response response = new ObjectMapper().readValue(responseJSON, Response.class);\n        System.out.println(response.toString());\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11998367,"reputation":83,"user_id":8779113,"display_name":"pramod nadimpalli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636036272,"creation_date":1636036272,"answer_id":69840898,"question_id":69838663,"body_markdown":"Was able to solve using the custom deserializer.\r\n\r\n    package com.test.json;\r\n    \r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    \r\n    import com.fasterxml.jackson.core.JsonParser;\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.databind.DeserializationContext;\r\n    import com.fasterxml.jackson.databind.JsonNode;\r\n    import com.fasterxml.jackson.databind.deser.std.StdDeserializer;\r\n    \r\n    public class TestJsonObjectDeserializer extends StdDeserializer&lt;TestJsonObject&gt; {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        public TestJsonObjectDeserializer() {\r\n            this(null);\r\n        }\r\n    \r\n        protected TestJsonObjectDeserializer(Class&lt;?&gt; vc) {\r\n            super(vc);\r\n        }\r\n    \r\n        @Override\r\n        public TestJsonObject deserialize(JsonParser jsonParser, DeserializationContext arg1) throws IOException, JsonProcessingException {\r\n            TestJsonObject testJsonObject = new TestJsonObject();\r\n            JsonNode jsonNode = jsonParser.getCodec().readTree(jsonParser);\r\n            String message = jsonNode.get(&quot;message&quot;).textValue();\r\n            ArrayList&lt;Package&gt; packages = new ArrayList&lt;Package&gt;();\r\n            if (message != null) {\r\n                testJsonObject.setMessage(message);\r\n                int i = 1;\r\n                Package package1 = null;\r\n                do {\r\n                    package1 = null;\r\n                    JsonNode pkg = null;\r\n                    if (jsonNode.get(String.valueOf(i)) != null) {\r\n                        pkg = jsonNode.get(String.valueOf(i));\r\n                        String packageCode = pkg.get(&quot;packageCode&quot;).textValue();\r\n                        String packageNum = pkg.get(&quot;packageNum&quot;).textValue();\r\n                        package1 = new Package();\r\n                        package1.setPackageCode(packageCode);\r\n                        package1.setPackageNum(packageNum);\r\n                    }\r\n                    i++;\r\n                    if (package1 != null) {\r\n                        packages.add(package1);\r\n                    }\r\n                } while (package1 != null);\r\n    \r\n                if (!packages.isEmpty()) {\r\n                    Package[] packages1 = new Package[packages.size()];\r\n                    testJsonObject.setPackages(packages.toArray(packages1));\r\n                }\r\n                return testJsonObject;\r\n            }\r\n            return null;\r\n        }\r\n    \r\n    }\r\n\r\nhere are the objects:\r\nPackage.java\r\n\r\n    package com.test.json;\r\n    \r\n    public class Package {\r\n        protected String packageCode;\r\n        protected String packageNum;\r\n    \r\n        public String getPackageCode() {\r\n            return packageCode;\r\n        }\r\n    \r\n        public void setPackageCode(String packageCode) {\r\n            this.packageCode = packageCode;\r\n        }\r\n    \r\n        public String getPackageNum() {\r\n            return packageNum;\r\n        }\r\n    \r\n        public void setPackageNum(String packageNum) {\r\n            this.packageNum = packageNum;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Package [packageCode=&quot; + packageCode + &quot;, packageNum=&quot; + packageNum + &quot;]&quot;;\r\n        }\r\n    }\r\n\r\nTestJsonObject:\r\n\r\n    package com.test.json;\r\n    \r\n    import java.util.Arrays;\r\n    \r\n    public class TestJsonObject {\r\n        protected String message;\r\n        protected Package[] packages;\r\n    \r\n        public String getMessage() {\r\n            return message;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;TestJsonObject [message=&quot; + message + &quot;, packages=&quot; + Arrays.toString(packages) + &quot;]&quot;;\r\n        }\r\n    \r\n        public void setMessage(String message) {\r\n            this.message = message;\r\n        }\r\n    \r\n        public Package[] getPackages() {\r\n            return packages;\r\n        }\r\n    \r\n        public void setPackages(Package[] packages) {\r\n            this.packages = packages;\r\n        }\r\n    }\r\n\r\n","title":"Parse implicit JSON list given by keys &quot;1&quot;, &quot;2&quot;","body":"<p>Was able to solve using the custom deserializer.</p>\n<pre><code>package com.test.json;\n\nimport java.io.IOException;\nimport java.util.ArrayList;\n\nimport com.fasterxml.jackson.core.JsonParser;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.DeserializationContext;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.deser.std.StdDeserializer;\n\npublic class TestJsonObjectDeserializer extends StdDeserializer&lt;TestJsonObject&gt; {\n\n    private static final long serialVersionUID = 1L;\n\n    public TestJsonObjectDeserializer() {\n        this(null);\n    }\n\n    protected TestJsonObjectDeserializer(Class&lt;?&gt; vc) {\n        super(vc);\n    }\n\n    @Override\n    public TestJsonObject deserialize(JsonParser jsonParser, DeserializationContext arg1) throws IOException, JsonProcessingException {\n        TestJsonObject testJsonObject = new TestJsonObject();\n        JsonNode jsonNode = jsonParser.getCodec().readTree(jsonParser);\n        String message = jsonNode.get(&quot;message&quot;).textValue();\n        ArrayList&lt;Package&gt; packages = new ArrayList&lt;Package&gt;();\n        if (message != null) {\n            testJsonObject.setMessage(message);\n            int i = 1;\n            Package package1 = null;\n            do {\n                package1 = null;\n                JsonNode pkg = null;\n                if (jsonNode.get(String.valueOf(i)) != null) {\n                    pkg = jsonNode.get(String.valueOf(i));\n                    String packageCode = pkg.get(&quot;packageCode&quot;).textValue();\n                    String packageNum = pkg.get(&quot;packageNum&quot;).textValue();\n                    package1 = new Package();\n                    package1.setPackageCode(packageCode);\n                    package1.setPackageNum(packageNum);\n                }\n                i++;\n                if (package1 != null) {\n                    packages.add(package1);\n                }\n            } while (package1 != null);\n\n            if (!packages.isEmpty()) {\n                Package[] packages1 = new Package[packages.size()];\n                testJsonObject.setPackages(packages.toArray(packages1));\n            }\n            return testJsonObject;\n        }\n        return null;\n    }\n\n}\n</code></pre>\n<p>here are the objects:\nPackage.java</p>\n<pre><code>package com.test.json;\n\npublic class Package {\n    protected String packageCode;\n    protected String packageNum;\n\n    public String getPackageCode() {\n        return packageCode;\n    }\n\n    public void setPackageCode(String packageCode) {\n        this.packageCode = packageCode;\n    }\n\n    public String getPackageNum() {\n        return packageNum;\n    }\n\n    public void setPackageNum(String packageNum) {\n        this.packageNum = packageNum;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Package [packageCode=&quot; + packageCode + &quot;, packageNum=&quot; + packageNum + &quot;]&quot;;\n    }\n}\n</code></pre>\n<p>TestJsonObject:</p>\n<pre><code>package com.test.json;\n\nimport java.util.Arrays;\n\npublic class TestJsonObject {\n    protected String message;\n    protected Package[] packages;\n\n    public String getMessage() {\n        return message;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;TestJsonObject [message=&quot; + message + &quot;, packages=&quot; + Arrays.toString(packages) + &quot;]&quot;;\n    }\n\n    public void setMessage(String message) {\n        this.message = message;\n    }\n\n    public Package[] getPackages() {\n        return packages;\n    }\n\n    public void setPackages(Package[] packages) {\n        this.packages = packages;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3995853,"reputation":540,"user_id":3293436,"display_name":"MauroB"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":69840355,"answer_count":3,"score":1,"last_activity_date":1636036272,"creation_date":1636025989,"question_id":69838663,"body_markdown":"I&#39;m receiving this JSON from an API.\r\n```json\r\n{\r\n    &quot;message&quot; : &quot;message&quot;,\r\n    &quot;1&quot;: {\r\n        &quot;packageCode&quot;: &quot;packageCode1&quot;,\r\n        &quot;packageNum&quot;: &quot;packageNum1&quot;\r\n    },\r\n    &quot;2&quot;: {\r\n        &quot;packageCode&quot;: &quot;packageCode2&quot;,\r\n        &quot;packageNum&quot;: &quot;packageNum2&quot;\r\n    }\r\n}\r\n```\r\n\r\nIs it possible to convert it to a java object with the below attributes?\r\n\r\n- String message\r\n- Package [] packages\r\n\r\nI&#39;m using jackson-databind `ObjectMapper`.\r\n\r\nThank you!\r\n","title":"Parse implicit JSON list given by keys &quot;1&quot;, &quot;2&quot;","body":"<p>I'm receiving this JSON from an API.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;message&quot; : &quot;message&quot;,\n    &quot;1&quot;: {\n        &quot;packageCode&quot;: &quot;packageCode1&quot;,\n        &quot;packageNum&quot;: &quot;packageNum1&quot;\n    },\n    &quot;2&quot;: {\n        &quot;packageCode&quot;: &quot;packageCode2&quot;,\n        &quot;packageNum&quot;: &quot;packageNum2&quot;\n    }\n}\n</code></pre>\n<p>Is it possible to convert it to a java object with the below attributes?</p>\n<ul>\n<li>String message</li>\n<li>Package [] packages</li>\n</ul>\n<p>I'm using jackson-databind <code>ObjectMapper</code>.</p>\n<p>Thank you!</p>\n"},{"tags":["java","hadoop"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636035968,"creation_date":1636035968,"answer_id":69840820,"question_id":69831372,"body_markdown":"Use Spark to read the CSV into a dataframe. \r\n\r\nuse `partitionBy(&quot;year&quot;)` during writing to HDFS, and it&#39;ll create sub-folders under the path starting with `year=` for each unique value. ","title":"How to Load data from CSV into separate Hadoop HDFS directories based on fields","body":"<p>Use Spark to read the CSV into a dataframe.</p>\n<p>use <code>partitionBy(&quot;year&quot;)</code> during writing to HDFS, and it'll create sub-folders under the path starting with <code>year=</code> for each unique value.</p>\n"}],"owner":{"account_id":14375716,"reputation":15,"user_id":10384204,"display_name":"user10384204"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69840820,"answer_count":1,"score":0,"last_activity_date":1636035968,"creation_date":1635971460,"question_id":69831372,"body_markdown":"I have a CSV of data and I need to load it into HDFS directories based on a certain field (year). I am planning to use Java. I have looked at using BufferedReader however I am having trouble implementing it. Would this be the optimal thing to use for this task or is there a better way? ","title":"How to Load data from CSV into separate Hadoop HDFS directories based on fields","body":"<p>I have a CSV of data and I need to load it into HDFS directories based on a certain field (year). I am planning to use Java. I have looked at using BufferedReader however I am having trouble implementing it. Would this be the optimal thing to use for this task or is there a better way?</p>\n"},{"tags":["java","debugging","operands"],"comments":[{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":2,"creation_date":1636035343,"post_id":69840653,"comment_id":123454420,"body_markdown":"Try `character==&#39;1&#39;` . `&quot;1&quot;` is a `String`, not a `char` .","body":"Try <code>character==&#39;1&#39;</code> . <code>&quot;1&quot;</code> is a <code>String</code>, not a <code>char</code> ."}],"answers":[{"tags":[],"owner":{"account_id":11939869,"reputation":814,"user_id":8737029,"display_name":"Vincent Passau"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636035909,"creation_date":1636035430,"answer_id":69840690,"question_id":69840653,"body_markdown":"The double quotes are used to instantiate an Object of type String. In your case you want to compare a Character, which is instantiate with simple quote.\r\n\r\nIt should do the trick for you : \r\n\r\n    character == &#39;1&#39;","title":"bad operand types for binary operator &quot;==&quot; in java","body":"<p>The double quotes are used to instantiate an Object of type String. In your case you want to compare a Character, which is instantiate with simple quote.</p>\n<p>It should do the trick for you :</p>\n<pre><code>character == '1'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12025524,"reputation":71,"user_id":14852128,"display_name":"lalvar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636035581,"creation_date":1636035581,"answer_id":69840733,"question_id":69840653,"body_markdown":"Chars in Java are set by quotes instead of double quotes.\r\nPlease try\r\n\r\ncharacter==&#39;1&#39;\r\n\r\ninstead.","title":"bad operand types for binary operator &quot;==&quot; in java","body":"<p>Chars in Java are set by quotes instead of double quotes.\nPlease try</p>\n<p>character=='1'</p>\n<p>instead.</p>\n"}],"owner":{"account_id":22993754,"reputation":1,"user_id":17118857,"display_name":"Ngawang Tobden"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1636036376,"answer_count":2,"score":-2,"last_activity_date":1636035909,"creation_date":1636035292,"question_id":69840653,"body_markdown":"i try to see if the char of a string == &quot;1&quot; but it shows error as bad operand types for binary operator.\r\n\r\n    import java.util.Scanner;\r\n    public class Q3 {\r\n\t    public static void main (String[] args){\r\n\t\t    Scanner scan = new Scanner(System.in);\r\n\t\t    System.out.println(&quot;Enter any number: &quot;);\r\n\t\t    int num = scan.nextInt();\r\n\t\t    int length = String.valueOf(num).length();\r\n\t\t    int reverse = 0;\r\n\t\t    if (length&lt;=3) {\r\n\t\t\t    while(num != 0) {  \r\n\t\t\t        int remainder = num % 10;  \r\n\t\t\t        reverse = reverse * 10 + remainder;  \r\n\t\t\t        num = num/10;  \r\n\t\t\t} \t\t\r\n\t\t\tString word = &quot;&quot;;\r\n\t\t\tString numword=String.valueOf(reverse);\r\n\t\t\tchar character = numword.charAt(0);\r\n\t\t\tSystem.out.println(character==&quot;1&quot;);}}}\r\nedit: i debugged it. i had to use &#39;&#39; instead of &quot;&quot; thanks for the answer everyone....","title":"bad operand types for binary operator &quot;==&quot; in java","body":"<p>i try to see if the char of a string == &quot;1&quot; but it shows error as bad operand types for binary operator.</p>\n<pre><code>import java.util.Scanner;\npublic class Q3 {\n    public static void main (String[] args){\n        Scanner scan = new Scanner(System.in);\n        System.out.println(&quot;Enter any number: &quot;);\n        int num = scan.nextInt();\n        int length = String.valueOf(num).length();\n        int reverse = 0;\n        if (length&lt;=3) {\n            while(num != 0) {  \n                int remainder = num % 10;  \n                reverse = reverse * 10 + remainder;  \n                num = num/10;  \n        }       \n        String word = &quot;&quot;;\n        String numword=String.valueOf(reverse);\n        char character = numword.charAt(0);\n        System.out.println(character==&quot;1&quot;);}}}\n</code></pre>\n<p>edit: i debugged it. i had to use '' instead of &quot;&quot; thanks for the answer everyone....</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636035899,"creation_date":1636035565,"answer_id":69840725,"question_id":69574831,"body_markdown":"I refactored few condition and group the relative command following the order. \r\n\r\nI don&#39;t see the lat condition, so i used the same with lon condition, you might change it.\r\n \r\n\r\n    public static void main(String[] args) {\r\n        try (Scanner scan = new Scanner(System.in);) {\r\n          int x = 1;\r\n          double maxLon = Double.NEGATIVE_INFINITY;\r\n          double maxLat = Double.NEGATIVE_INFINITY;\r\n          while (x == 1) {\r\n            System.out.println(&quot;Please enter the longitude:&quot;);\r\n            double lon = scan.nextDouble();\r\n            if (lon &gt; maxLon &amp;&amp; inRange(lon, -180, 180)) {\r\n              maxLon = lon;\r\n            }\r\n    \r\n            System.out.println(&quot;Please enter the latitude:&quot;);\r\n            double lat = scan.nextDouble();\r\n            if (lat &gt; maxLat &amp;&amp; inRange(lat, -180, 180)) {\r\n              maxLat = lat;\r\n            }\r\n    \r\n            System.out.println(&quot;maxLon:&quot; + maxLon);\r\n            System.out.println(&quot;maxLat:&quot; + maxLat);\r\n            System.out.println(&quot;Would you like to enter another location (1 for yes, 0 for no)?&quot;);\r\n            x = scan.nextInt();\r\n          }\r\n          System.out.println(&quot;Exit.&quot;);\r\n        }\r\n      }\r\n    \r\n      private static boolean inRange(double val, double begin, double end) {\r\n        return val &gt;= begin &amp;&amp; val &lt;= end;\r\n      }","title":"How can I put an user inputted number to a double unless a bigger number is inputted in Java","body":"<p>I refactored few condition and group the relative command following the order.</p>\n<p>I don't see the lat condition, so i used the same with lon condition, you might change it.</p>\n<pre><code>public static void main(String[] args) {\n    try (Scanner scan = new Scanner(System.in);) {\n      int x = 1;\n      double maxLon = Double.NEGATIVE_INFINITY;\n      double maxLat = Double.NEGATIVE_INFINITY;\n      while (x == 1) {\n        System.out.println(&quot;Please enter the longitude:&quot;);\n        double lon = scan.nextDouble();\n        if (lon &gt; maxLon &amp;&amp; inRange(lon, -180, 180)) {\n          maxLon = lon;\n        }\n\n        System.out.println(&quot;Please enter the latitude:&quot;);\n        double lat = scan.nextDouble();\n        if (lat &gt; maxLat &amp;&amp; inRange(lat, -180, 180)) {\n          maxLat = lat;\n        }\n\n        System.out.println(&quot;maxLon:&quot; + maxLon);\n        System.out.println(&quot;maxLat:&quot; + maxLat);\n        System.out.println(&quot;Would you like to enter another location (1 for yes, 0 for no)?&quot;);\n        x = scan.nextInt();\n      }\n      System.out.println(&quot;Exit.&quot;);\n    }\n  }\n\n  private static boolean inRange(double val, double begin, double end) {\n    return val &gt;= begin &amp;&amp; val &lt;= end;\n  }\n</code></pre>\n"}],"owner":{"account_id":23033227,"reputation":21,"user_id":17152377,"display_name":"Person"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1636035899,"creation_date":1634231893,"question_id":69574831,"body_markdown":"New to Java and stuck on something. I want to write a program where an user inputs a double and the number sticks to it unless a bigger number is inputted. I currently have this\r\n    \r\n    import java.util.Scanner;\r\n\r\n    public class U4_L2_Activity_Three{\r\n     public static void main(String[] args){\r\n    \r\n       Scanner scan = new Scanner(System.in);\r\n   \r\n       int x = 1;\r\n       while (x != 0 &amp;&amp; !(x &gt; 1) &amp;&amp; !(x &lt; 0)) {\r\n\r\n         System.out.println(&quot;Please enter the longitude:&quot;);\r\n         double lon = scan.nextDouble();\r\n         double MaxLon = 0;\r\n         System.out.println(&quot;Please enter the latitude:&quot;);\r\n         double lat = scan.nextDouble();\r\n         double MaxLat = 0;\r\n         System.out.println(&quot;Would you like to enter another location (1 for yes, 0 for no)?&quot;);\r\n         if (lon &gt; MaxLon &amp;&amp; !(lon &gt; 180 || lon &lt; -180)) {\r\n           MaxLon = lon;\r\n         }\r\n         MaxLon = MaxLon;\r\n         System.out.println(MaxLon);\r\n         x = scan.nextInt();\r\n       }\r\n      }\r\n    }","title":"How can I put an user inputted number to a double unless a bigger number is inputted in Java","body":"<p>New to Java and stuck on something. I want to write a program where an user inputs a double and the number sticks to it unless a bigger number is inputted. I currently have this</p>\n<pre><code>import java.util.Scanner;\n\npublic class U4_L2_Activity_Three{\n public static void main(String[] args){\n\n   Scanner scan = new Scanner(System.in);\n\n   int x = 1;\n   while (x != 0 &amp;&amp; !(x &gt; 1) &amp;&amp; !(x &lt; 0)) {\n\n     System.out.println(&quot;Please enter the longitude:&quot;);\n     double lon = scan.nextDouble();\n     double MaxLon = 0;\n     System.out.println(&quot;Please enter the latitude:&quot;);\n     double lat = scan.nextDouble();\n     double MaxLat = 0;\n     System.out.println(&quot;Would you like to enter another location (1 for yes, 0 for no)?&quot;);\n     if (lon &gt; MaxLon &amp;&amp; !(lon &gt; 180 || lon &lt; -180)) {\n       MaxLon = lon;\n     }\n     MaxLon = MaxLon;\n     System.out.println(MaxLon);\n     x = scan.nextInt();\n   }\n  }\n}\n</code></pre>\n"},{"tags":["java","terminal","zoom-sdk"],"comments":[{"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"score":0,"creation_date":1636035956,"post_id":69840748,"comment_id":123454765,"body_markdown":"This can help https://gist.github.com/brycemcd/04092405cbc663ee7ea48b933e40844e","body":"This can help <a href=\"https://gist.github.com/brycemcd/04092405cbc663ee7ea48b933e40844e\" rel=\"nofollow noreferrer\">gist.github.com/brycemcd/04092405cbc663ee7ea48b933e40844e</a>"},{"owner":{"account_id":15106724,"reputation":508,"user_id":16163044,"display_name":"Sandro J"},"score":0,"creation_date":1636036494,"post_id":69840748,"comment_id":123455026,"body_markdown":"@ArthurKlezovich I guess they use this kind of links: `zoommtg://zoom.us/join?confno=ID&amp;pwd=PASSWORD`, I don&#39;t think it works for any kind of zoom link.","body":"@ArthurKlezovich I guess they use this kind of links: <code>zoommtg:&#47;&#47;zoom.us&#47;join?confno=ID&amp;pwd=PASSWORD</code>, I don&#39;t think it works for any kind of zoom link."},{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":0,"creation_date":1636038213,"post_id":69840748,"comment_id":123455789,"body_markdown":"Have you checked out the Zoom API? https://marketplace.zoom.us/docs/api-reference/using-zoom-apis","body":"Have you checked out the Zoom API? <a href=\"https://marketplace.zoom.us/docs/api-reference/using-zoom-apis\" rel=\"nofollow noreferrer\">marketplace.zoom.us/docs/api-reference/using-zoom-apis</a>"},{"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"score":0,"creation_date":1636038482,"post_id":69840748,"comment_id":123455905,"body_markdown":"&gt; you have some strange link, with no way to evaluate their id and pass\n\nCan you provide an example of such link ?","body":"&gt; you have some strange link, with no way to evaluate their id and pass  Can you provide an example of such link ?"},{"owner":{"account_id":15106724,"reputation":508,"user_id":16163044,"display_name":"Sandro J"},"score":0,"creation_date":1636039312,"post_id":69840748,"comment_id":123456242,"body_markdown":"@ArthurKlezovich I&#39;ve rechecked now and it seems like `https://zoom.us/j/ID?pwd=PASSWORD` is the pattern of the link. On some forum in the past I saw that the links are different. I couldn&#39;t find now that it&#39;s anything else than the one above. Though, I want to be sure, that&#39;s why I&#39;m looking for more general way. Not to rely on some pattern which may change in the future.","body":"@ArthurKlezovich I&#39;ve rechecked now and it seems like <code>https:&#47;&#47;zoom.us&#47;j&#47;ID?pwd=PASSWORD</code> is the pattern of the link. On some forum in the past I saw that the links are different. I couldn&#39;t find now that it&#39;s anything else than the one above. Though, I want to be sure, that&#39;s why I&#39;m looking for more general way. Not to rely on some pattern which may change in the future."}],"owner":{"account_id":15106724,"reputation":508,"user_id":16163044,"display_name":"Sandro J"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":730,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1636035633,"creation_date":1636035633,"question_id":69840748,"body_markdown":"I&#39;m trying to create a Java application which will be able to open (join) Zoom meetings.\r\n\r\nYou can open zoom meetings via terminal if you explicitly have id and password, with command: `open zoommtg://zoom.us/join?confno=ID&amp;pwd=PASSWORD`, you can use this command in Java as well.\r\n\r\nHowever, sometimes you don&#39;t own the id and password explicitly, you have some strange link, with no way to evaluate their id and pass. Though, if you paste this strange link in say Google Chrome, it will offer you to launch Zoom application and then you will join the meeting.\r\n\r\nI can do this with Java, I can make default browser go to some link, but I don&#39;t want that, I don&#39;t want to go through browser, I want it directly. \r\n\r\nIs there any way to open Zoom meeting directly from Java with just strange link? (No id and pass explicitly) As Google chrome does it, it has the link and it&#39;s able to open the meeting.\r\n\r\nWell, if I could open it via terminal, I would do it with Java as well. I tried `curl`, but it&#39;s just getting me the html response only, maybe expected.\r\n\r\nBy the way, if needed, I&#39;m using MacOS Monterey with zsh.","title":"Opening zoom meetings from Java","body":"<p>I'm trying to create a Java application which will be able to open (join) Zoom meetings.</p>\n<p>You can open zoom meetings via terminal if you explicitly have id and password, with command: <code>open zoommtg://zoom.us/join?confno=ID&amp;pwd=PASSWORD</code>, you can use this command in Java as well.</p>\n<p>However, sometimes you don't own the id and password explicitly, you have some strange link, with no way to evaluate their id and pass. Though, if you paste this strange link in say Google Chrome, it will offer you to launch Zoom application and then you will join the meeting.</p>\n<p>I can do this with Java, I can make default browser go to some link, but I don't want that, I don't want to go through browser, I want it directly.</p>\n<p>Is there any way to open Zoom meeting directly from Java with just strange link? (No id and pass explicitly) As Google chrome does it, it has the link and it's able to open the meeting.</p>\n<p>Well, if I could open it via terminal, I would do it with Java as well. I tried <code>curl</code>, but it's just getting me the html response only, maybe expected.</p>\n<p>By the way, if needed, I'm using MacOS Monterey with zsh.</p>\n"},{"tags":["java","spring","postgresql","spring-boot","rabbitmq"],"comments":[{"owner":{"account_id":14903107,"reputation":1203,"user_id":10761353,"display_name":"Adam Smooch"},"score":0,"creation_date":1635856999,"post_id":69806268,"comment_id":123399535,"body_markdown":"`which makes log file lengthy and consumes more space.` sounds like you need a tool like `logrotate`...? But more importantly, why is your connection to RabbitMQ/DB failing so often...?","body":"<code>which makes log file lengthy and consumes more space.</code> sounds like you need a tool like <code>logrotate</code>...? But more importantly, why is your connection to RabbitMQ/DB failing so often...?"},{"owner":{"account_id":22825337,"reputation":31,"user_id":16974685,"display_name":"Alyan Ahmed"},"score":0,"creation_date":1635923980,"post_id":69806268,"comment_id":123418514,"body_markdown":"My connection is not failing currently, but in case if connection losses then spring boot retry to connect. It goes continuously and not stopping therefore I want it to retry max 3 times. If in 3 three attempts, connection is not made then there is not need to retry again.","body":"My connection is not failing currently, but in case if connection losses then spring boot retry to connect. It goes continuously and not stopping therefore I want it to retry max 3 times. If in 3 three attempts, connection is not made then there is not need to retry again."}],"owner":{"account_id":22825337,"reputation":31,"user_id":16974685,"display_name":"Alyan Ahmed"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1636034816,"creation_date":1635835085,"question_id":69806268,"body_markdown":"I am working on spring boot and wants to make limited reattempt of making connection with RabbitMQ, because `@RabbitListener` is attempt again and again till RabbitMQ up.\r\nThe scenario is that whenever spring boot tries to make connection then in case of failure spring boot retries again and again which makes log file lengthy and consumes more space.\r\nTherefore I want make reattempt **max 3 times** and after 3 attempts, if RabbitMQ not up then stop RabbitListener until connection up.\r\n\r\nWhat will be general way to attempt it for all type of connections like these?","title":"How to stop reattempt of making connection with RabbitMq, Postgress in case of failure in spring boot?","body":"<p>I am working on spring boot and wants to make limited reattempt of making connection with RabbitMQ, because <code>@RabbitListener</code> is attempt again and again till RabbitMQ up.\nThe scenario is that whenever spring boot tries to make connection then in case of failure spring boot retries again and again which makes log file lengthy and consumes more space.\nTherefore I want make reattempt <strong>max 3 times</strong> and after 3 attempts, if RabbitMQ not up then stop RabbitListener until connection up.</p>\n<p>What will be general way to attempt it for all type of connections like these?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":4150363,"reputation":1083,"user_id":3403011,"accept_rate":100,"display_name":"Thibstars"},"score":2,"creation_date":1507616627,"post_id":46659679,"comment_id":80268216,"body_markdown":"Small detail, you should not have spaces in your messages files, between the &#39;=&#39; and the translated message.","body":"Small detail, you should not have spaces in your messages files, between the &#39;=&#39; and the translated message."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1507616783,"post_id":46659679,"comment_id":80268272,"body_markdown":"Where have you put your `messages.properties`. Also you can remove the `spring.messages.basename` property as that is the default.","body":"Where have you put your <code>messages.properties</code>. Also you can remove the <code>spring.messages.basename</code> property as that is the default."}],"answers":[{"tags":[],"owner":{"account_id":5489581,"reputation":385,"user_id":4363337,"accept_rate":100,"display_name":"nicolas"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1554740478,"creation_date":1507714832,"answer_id":46684861,"question_id":46659679,"body_markdown":"The issue was my Eclipse encoding configuration, which I haven&#39;t managed to fix yet.\r\n\r\nAfter debugging Spring&#39;s code (`ReloadableResourceBundleMessageSource.java`) I could see my `key=value` property loaded, but with 3 space characters before each character (e.g. `   t   e   s   t   =   T   h   i   s    i   s    a    d   e   m   o    a   p   p   !`).\r\n\r\nOn another PC the same demo application works fine.","title":"Spring boot application and MessageSource","body":"<p>The issue was my Eclipse encoding configuration, which I haven't managed to fix yet.</p>\n\n<p>After debugging Spring's code (<code>ReloadableResourceBundleMessageSource.java</code>) I could see my <code>key=value</code> property loaded, but with 3 space characters before each character (e.g. <code>t   e   s   t   =   T   h   i   s    i   s    a    d   e   m   o    a   p   p   !</code>).</p>\n\n<p>On another PC the same demo application works fine.</p>\n"},{"tags":[],"owner":{"account_id":6263682,"reputation":2781,"user_id":4870078,"display_name":"ahmetcetin"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1625470571,"creation_date":1507839602,"answer_id":46718209,"question_id":46659679,"body_markdown":"Can you create a messages package in resources and try this Bean implementation in your configuration file:\r\n\r\n    @Bean\r\n    public MessageSource messageSource() {\r\n        ReloadableResourceBundleMessageSource messageSource = new ReloadableResourceBundleMessageSource();\r\n        messageSource.setBasename(&quot;classpath:messages&quot;);\r\n        messageSource.setCacheSeconds(10); //reload messages every 10 seconds\r\n        return messageSource;\r\n    }\r\n\r\nAdditionally, I suggest you to use **@Configuration** annotated configuration classes instead of xml files to be adapted perfectly to Spring Boot concept.","title":"Spring boot application and MessageSource","body":"<p>Can you create a messages package in resources and try this Bean implementation in your configuration file:</p>\n<pre><code>@Bean\npublic MessageSource messageSource() {\n    ReloadableResourceBundleMessageSource messageSource = new ReloadableResourceBundleMessageSource();\n    messageSource.setBasename(&quot;classpath:messages&quot;);\n    messageSource.setCacheSeconds(10); //reload messages every 10 seconds\n    return messageSource;\n}\n</code></pre>\n<p>Additionally, I suggest you to use <strong>@Configuration</strong> annotated configuration classes instead of xml files to be adapted perfectly to Spring Boot concept.</p>\n"},{"tags":[],"owner":{"account_id":4991364,"reputation":509,"user_id":4013493,"display_name":"Aheza Desire"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1555047567,"creation_date":1555046312,"answer_id":55644935,"question_id":46659679,"body_markdown":"I had the same issue on springboot app. I have tested one of the below options:\r\n\r\nIf you prefer to modify `application.properties` file then add this line `spring.messages.basename=messages` where messages is the prefix of the file containing your messages. with this u don&#39;t have to setup a `messagesource` bean yourself. \r\n\r\nor \r\n\r\n i had to give the `MessageResource` bean a name and autowire it using the name given during initialization, otherwise `DelegatingMessageSource` was being injected and it wasn&#39;t resolving to any message source.\r\n\r\n\r\n    @SpringBootApplication\r\n    public class Application {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(Application.class, args);\r\n    \t}\r\n    \t\r\n    \t@Bean\t              \r\n    \tpublic LocaleResolver localeResolver() {\r\n    \t\t\r\n    \t\tSessionLocaleResolver localResolver=new SessionLocaleResolver();\r\n    \t\tlocalResolver.setDefaultLocale(Locale.US);\r\n    \t\treturn localResolver;\r\n    \t}\r\n    \t\r\n    \t@Bean(name = &quot;messageResourceSB&quot;)\r\n    \tpublic MessageSource messageResource() {\r\n    \t\tResourceBundleMessageSource messageBundleResrc=new ResourceBundleMessageSource();\r\n    \t\tmessageBundleResrc.setBasename(&quot;msg.message&quot;);\r\n    \t\treturn messageBundleResrc;\r\n    \t}\r\n    \r\n    }\r\n\r\nthen autowire the bean with the name u expect \r\n\r\n    @RestController\r\n    public class Internationalization {\r\n    \r\n    \t@Autowired\r\n    \t@Qualifier(&quot;messageResourceSB&quot;)\r\n    \tMessageSource messageSource;\r\n    \t\r\n    \t@GetMapping(path = &quot;/sayHelloIntern&quot;)\r\n    \tpublic String sayHello(@RequestHeader(name=&quot;Accept-Language&quot;,required = false) Locale locale) {\r\n    \t\treturn messageSource.getMessage(&quot;message.greeting&quot;, null, locale);\r\n    \t}\r\n    }","title":"Spring boot application and MessageSource","body":"<p>I had the same issue on springboot app. I have tested one of the below options:</p>\n\n<p>If you prefer to modify <code>application.properties</code> file then add this line <code>spring.messages.basename=messages</code> where messages is the prefix of the file containing your messages. with this u don't have to setup a <code>messagesource</code> bean yourself. </p>\n\n<p>or </p>\n\n<p>i had to give the <code>MessageResource</code> bean a name and autowire it using the name given during initialization, otherwise <code>DelegatingMessageSource</code> was being injected and it wasn't resolving to any message source.</p>\n\n<pre><code>@SpringBootApplication\npublic class Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n\n    @Bean                 \n    public LocaleResolver localeResolver() {\n\n        SessionLocaleResolver localResolver=new SessionLocaleResolver();\n        localResolver.setDefaultLocale(Locale.US);\n        return localResolver;\n    }\n\n    @Bean(name = \"messageResourceSB\")\n    public MessageSource messageResource() {\n        ResourceBundleMessageSource messageBundleResrc=new ResourceBundleMessageSource();\n        messageBundleResrc.setBasename(\"msg.message\");\n        return messageBundleResrc;\n    }\n\n}\n</code></pre>\n\n<p>then autowire the bean with the name u expect </p>\n\n<pre><code>@RestController\npublic class Internationalization {\n\n    @Autowired\n    @Qualifier(\"messageResourceSB\")\n    MessageSource messageSource;\n\n    @GetMapping(path = \"/sayHelloIntern\")\n    public String sayHello(@RequestHeader(name=\"Accept-Language\",required = false) Locale locale) {\n        return messageSource.getMessage(\"message.greeting\", null, locale);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1417867,"reputation":1821,"user_id":1343090,"accept_rate":0,"display_name":"Anand"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1577961171,"creation_date":1577961171,"answer_id":59561856,"question_id":46659679,"body_markdown":"You can also configure through application.properties\r\n## below i18n.messages points to messages files under classpath folder i18n\r\nspring.messages.basename=i18n.messages\r\n\r\nRefer SpringBoot doc [click here][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-application-properties.html","title":"Spring boot application and MessageSource","body":"<p>You can also configure through application.properties</p>\n\n<h2>below i18n.messages points to messages files under classpath folder i18n</h2>\n\n<p>spring.messages.basename=i18n.messages</p>\n\n<p>Refer SpringBoot doc <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-application-properties.html\" rel=\"nofollow noreferrer\">click here</a></p>\n"},{"tags":[],"owner":{"account_id":17068275,"reputation":29,"user_id":12349743,"display_name":"Wasim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636034679,"creation_date":1636034489,"answer_id":69840478,"question_id":46659679,"body_markdown":"I&#39;ve used the same but I didn&#39;t give any base names for my message source files but it worked. \r\n```\r\n@RestController\r\n\tpublic class HelloWorld {\r\n\t\r\n\t@Autowired\r\n\tprivate MessageSource messageSource;\r\n\t\r\n\t\r\n\t\r\n\t@GetMapping(path=&quot;/hello-world-internationalized&quot;)\r\n\tpublic String helloWorldInternationalized(\r\n\t\t\t//@RequestHeader(name =&quot;Accept-Language&quot;, required= false )\r\n\t\t\t)\r\n\t\t  {\r\n\t\t\r\n\t\t//String str= &quot;Hello-World&quot;;\r\n\t\treturn messageSource.\r\n\t\t\t\tgetMessage(&quot;good.morning.message&quot;, null, &quot;Default Hello&quot;,\r\n\t\t\t\t\t\tLocaleContextHolder.getLocale());\r\n\t\t//return str;\r\n\t}\r\n\r\n}\r\n```","title":"Spring boot application and MessageSource","body":"<p>I've used the same but I didn't give any base names for my message source files but it worked.</p>\n<pre><code>@RestController\n    public class HelloWorld {\n    \n    @Autowired\n    private MessageSource messageSource;\n    \n    \n    \n    @GetMapping(path=&quot;/hello-world-internationalized&quot;)\n    public String helloWorldInternationalized(\n            //@RequestHeader(name =&quot;Accept-Language&quot;, required= false )\n            )\n          {\n        \n        //String str= &quot;Hello-World&quot;;\n        return messageSource.\n                getMessage(&quot;good.morning.message&quot;, null, &quot;Default Hello&quot;,\n                        LocaleContextHolder.getLocale());\n        //return str;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":5489581,"reputation":385,"user_id":4363337,"accept_rate":100,"display_name":"nicolas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112710,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":46684861,"answer_count":5,"score":24,"last_activity_date":1636034679,"creation_date":1507615838,"question_id":46659679,"body_markdown":"I have been trying to create a demo spring boot app with MessageSource, but i couldn&#39;t figure out what is the problem. I tried in couple of ways:\r\n\r\n - MessageSourceAutoConfiguration\r\n - Creating my own bean within a @configuration file and autowiring it\r\n\r\nBelow is the **MessageSourceAutoConfiguration** way:\r\n\r\nI am using spring-boot-starter-parent **1.5.7.RELEASE**.\r\n\r\n**My folder structure:**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jH8rd.png\r\n\r\n**DemoApplication.java**\r\n\r\n    @SpringBootApplication\r\n    public class DemoApplication\r\n    {\r\n      public static void main(String[] args)\r\n      {\r\n        SpringApplication.run(DemoApplication.class, args);\r\n      }\r\n    }\r\n\r\n**DemoController.java**\r\n\r\n    @RestController\r\n    public class DemoController implements MessageSourceAware\r\n    {\r\n      private MessageSource messageSource;\r\n    \r\n      @Override\r\n      public void setMessageSource(MessageSource messageSource)\r\n      {\r\n        this.messageSource = messageSource;\r\n      }\r\n    \r\n      @RequestMapping(&quot;demo&quot;)\r\n      public String getLocalisedText()\r\n      {\r\n        return messageSource.getMessage(&quot;test&quot;, new Object[0], new Locale(&quot;el&quot;));\r\n      }\r\n    }\r\n\r\n**Application.yml**\r\n\r\n    spring:\r\n      messages:\r\n        basename: messages\r\n\r\n**messages.properties**\r\n\r\n    test=This is a demo app!\r\n\r\n**messages_el.properties**\r\n\r\n    test=This is a greek demo app!\r\n\r\n**pom.xml**\r\n\r\n    &lt;groupId&gt;com.example.i18n.demo&lt;/groupId&gt;\r\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    &lt;name&gt;demo&lt;/name&gt;\r\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n    &lt;parent&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.5.7.RELEASE&lt;/version&gt;\r\n    \t&lt;relativePath /&gt;\r\n    \t&lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    \r\n    &lt;properties&gt;\r\n    \t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t&lt;project.reporting.outputEncoding&gt;UTF-\r\n        8&lt;/project.reporting.outputEncoding&gt;\r\n    \t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    \r\n    &lt;dependencies&gt;\t\t\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n**While starting up the server, i can see that the AutoConfiguration works, but cannot find a bean:**\r\n\r\n    MessageSourceAutoConfiguration matched:\r\n          - ResourceBundle found bundle URL [file:/C:/Users/{user}/Downloads/demo/demo/target/classes/messages.properties] (MessageSourceAutoConfiguration.ResourceBundleCondition)\r\n          - @ConditionalOnMissingBean (types: org.springframework.context.MessageSource; SearchStrategy: current) did not find any beans (OnBeanCondition)\r\n\r\nI tried to also explicitly declare my own bean, but didn&#39;t work.\r\n\r\nWhile invoking the endpoint i get the following error:\r\n\r\n    {\r\n        &quot;status&quot;: 500,\r\n        &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n        &quot;exception&quot;: &quot;org.springframework.context.NoSuchMessageException&quot;,\r\n        &quot;message&quot;: &quot;No message found under code &#39;test&#39; for locale &#39;el&#39;.&quot;,\r\n        &quot;path&quot;: &quot;/demo&quot;\r\n    }\r\n\r\nThe closest SO question i found was this one (2 years old) about a bug in spring which was fixed couple of versions ago:\r\nhttps://stackoverflow.com/questions/30663513/spring-boot-messagesourceautoconfiguration","title":"Spring boot application and MessageSource","body":"<p>I have been trying to create a demo spring boot app with MessageSource, but i couldn't figure out what is the problem. I tried in couple of ways:</p>\n\n<ul>\n<li>MessageSourceAutoConfiguration</li>\n<li>Creating my own bean within a @configuration file and autowiring it</li>\n</ul>\n\n<p>Below is the <strong>MessageSourceAutoConfiguration</strong> way:</p>\n\n<p>I am using spring-boot-starter-parent <strong>1.5.7.RELEASE</strong>.</p>\n\n<p><strong>My folder structure:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/jH8rd.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/jH8rd.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>DemoApplication.java</strong></p>\n\n<pre><code>@SpringBootApplication\npublic class DemoApplication\n{\n  public static void main(String[] args)\n  {\n    SpringApplication.run(DemoApplication.class, args);\n  }\n}\n</code></pre>\n\n<p><strong>DemoController.java</strong></p>\n\n<pre><code>@RestController\npublic class DemoController implements MessageSourceAware\n{\n  private MessageSource messageSource;\n\n  @Override\n  public void setMessageSource(MessageSource messageSource)\n  {\n    this.messageSource = messageSource;\n  }\n\n  @RequestMapping(\"demo\")\n  public String getLocalisedText()\n  {\n    return messageSource.getMessage(\"test\", new Object[0], new Locale(\"el\"));\n  }\n}\n</code></pre>\n\n<p><strong>Application.yml</strong></p>\n\n<pre><code>spring:\n  messages:\n    basename: messages\n</code></pre>\n\n<p><strong>messages.properties</strong></p>\n\n<pre><code>test=This is a demo app!\n</code></pre>\n\n<p><strong>messages_el.properties</strong></p>\n\n<pre><code>test=This is a greek demo app!\n</code></pre>\n\n<p><strong>pom.xml</strong></p>\n\n<pre><code>&lt;groupId&gt;com.example.i18n.demo&lt;/groupId&gt;\n&lt;artifactId&gt;demo&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n\n&lt;name&gt;demo&lt;/name&gt;\n&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.5.7.RELEASE&lt;/version&gt;\n    &lt;relativePath /&gt;\n    &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n\n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-\n    8&lt;/project.reporting.outputEncoding&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;      \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p><strong>While starting up the server, i can see that the AutoConfiguration works, but cannot find a bean:</strong></p>\n\n<pre><code>MessageSourceAutoConfiguration matched:\n      - ResourceBundle found bundle URL [file:/C:/Users/{user}/Downloads/demo/demo/target/classes/messages.properties] (MessageSourceAutoConfiguration.ResourceBundleCondition)\n      - @ConditionalOnMissingBean (types: org.springframework.context.MessageSource; SearchStrategy: current) did not find any beans (OnBeanCondition)\n</code></pre>\n\n<p>I tried to also explicitly declare my own bean, but didn't work.</p>\n\n<p>While invoking the endpoint i get the following error:</p>\n\n<pre><code>{\n    \"status\": 500,\n    \"error\": \"Internal Server Error\",\n    \"exception\": \"org.springframework.context.NoSuchMessageException\",\n    \"message\": \"No message found under code 'test' for locale 'el'.\",\n    \"path\": \"/demo\"\n}\n</code></pre>\n\n<p>The closest SO question i found was this one (2 years old) about a bug in spring which was fixed couple of versions ago:\n<a href=\"https://stackoverflow.com/questions/30663513/spring-boot-messagesourceautoconfiguration\">Spring Boot MessageSourceAutoConfiguration</a></p>\n"},{"tags":["java","class","intellij-idea","import","package"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1636031009,"post_id":69839664,"comment_id":123452475,"body_markdown":"you should try importing classes, instead of packages","body":"you should try importing classes, instead of packages"},{"owner":{"account_id":2843470,"reputation":4620,"user_id":2442526,"display_name":"xtratic"},"score":1,"creation_date":1636031072,"post_id":69839664,"comment_id":123452496,"body_markdown":"It looks like the Account class is not public, if you want to use it from outside the package then make it accessible.","body":"It looks like the Account class is not public, if you want to use it from outside the package then make it accessible."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1636034705,"post_id":69839664,"comment_id":123454074,"body_markdown":"The reason is right there in the error message: `Account` is not public, so it can only be used inside the package `bank`. And `import bank` is invalid, because you cannot import a package, only classes.","body":"The reason is right there in the error message: <code>Account</code> is not public, so it can only be used inside the package <code>bank</code>. And <code>import bank</code> is invalid, because you cannot import a package, only classes."}],"answers":[{"tags":[],"owner":{"account_id":9468041,"reputation":29,"user_id":7039668,"display_name":"ali"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636031936,"creation_date":1636031936,"answer_id":69839901,"question_id":69839664,"body_markdown":"Did you try using ``` import bank.Bank; ``` instead of ```import bank;``` as Bank is the class.","title":"Why am I not able to import other packages in my code?","body":"<p>Did you try using <code>import bank.Bank;</code> instead of <code>import bank;</code> as Bank is the class.</p>\n"}],"owner":{"account_id":22837646,"reputation":21,"user_id":16985185,"display_name":"Jaykumar Lokhande"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":214,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1636034643,"creation_date":1636030861,"question_id":69839664,"body_markdown":"[Please someone resolve this problem I am facing, what should I do for it][1]\r\n\r\n**bank**\r\n\r\n```java\r\npackage bank;\r\n\r\nclass Account {\r\n    public String name;\r\n}\r\n\r\npublic class Bank {\r\n    public static void main(String[] args) {\r\n\r\n    }\r\n}\r\n```\r\n\r\n**importingOtherPackages**\r\n```java\r\npackage com.company;\r\nimport java.util.*;\r\nimport bank;\r\n\r\npublic class ImportingOtherPackages {\r\n\r\n    public static void main(String[] args) {\r\n        bank.Account account1 = new bank.Account(){\r\n            account1.name = &quot;customer1&quot;;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/8k9tc.png\r\n\r\n","title":"Why am I not able to import other packages in my code?","body":"<p><a href=\"https://i.stack.imgur.com/8k9tc.png\" rel=\"nofollow noreferrer\">Please someone resolve this problem I am facing, what should I do for it</a></p>\n<p><strong>bank</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package bank;\n\nclass Account {\n    public String name;\n}\n\npublic class Bank {\n    public static void main(String[] args) {\n\n    }\n}\n</code></pre>\n<p><strong>importingOtherPackages</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.company;\nimport java.util.*;\nimport bank;\n\npublic class ImportingOtherPackages {\n\n    public static void main(String[] args) {\n        bank.Account account1 = new bank.Account(){\n            account1.name = &quot;customer1&quot;;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","aop","aspectj","spring-kafka"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1635917748,"post_id":69817946,"comment_id":123417121,"body_markdown":"An [MCVE](https://stackoverflow.com/help/mcve) on GitHub would help. Reproducing the problem is the first step in solving it. Besides, an `@Aspect` should be a `@Component`, not a `@Configuration`. I have no idea why so many people get that wrong. I cannot promise that it will help you to solve the problem, but it might. Either way, you ought to change it. Configuration vs. component proxies behave in different ways.","body":"An <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> on GitHub would help. Reproducing the problem is the first step in solving it. Besides, an <code>@Aspect</code> should be a <code>@Component</code>, not a <code>@Configuration</code>. I have no idea why so many people get that wrong. I cannot promise that it will help you to solve the problem, but it might. Either way, you ought to change it. Configuration vs. component proxies behave in different ways."},{"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1635948383,"post_id":69817946,"comment_id":123428063,"body_markdown":"Agreed (MCVE) - it worked fine for me.","body":"Agreed (MCVE) - it worked fine for me."},{"owner":{"account_id":1800275,"reputation":2596,"user_id":1638798,"display_name":"Thibaut"},"score":0,"creation_date":1636033229,"post_id":69817946,"comment_id":123453385,"body_markdown":"Yes, agree @kriegaex, it was a component initialy, I tried different think, and forgot to came back to Component.\nThanks for notice.","body":"Yes, agree @kriegaex, it was a component initialy, I tried different think, and forgot to came back to Component. Thanks for notice."}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635949842,"creation_date":1635948369,"answer_id":69826292,"question_id":69817946,"body_markdown":"I just tested it with `@Transactional` and it works as expected for me - I have confirmed that we already have a CGLIB proxy by the time we get to the `@KafkaListener` annotation BPP...\r\n\r\n```java\r\n@SpringBootApplication\r\n@EnableTransactionManagement\r\npublic class So69817946Application {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(So69817946Application.class, args);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic NewTopic topic() {\r\n\t\treturn TopicBuilder.name(&quot;so69817946&quot;).partitions(1).replicas(1).build();\r\n\t}\r\n\r\n}\r\n\r\n@Component\r\nclass listener {\r\n\r\n\tpublic String getTopic() {\r\n\t\treturn &quot;so69817946&quot;;\r\n\t}\r\n\r\n\t@Transactional\r\n\t@KafkaListener(id = &quot;so69817946&quot;, topics = &quot;#{__listener.topic}&quot;)\r\n\tpublic void listen(String in) {\r\n\t\tSystem.out.println(in);\r\n\t}\r\n\r\n}\r\n\r\n@Component\r\nclass TM extends AbstractPlatformTransactionManager {\r\n\r\n\t@Override\r\n\tprotected Object doGetTransaction() throws TransactionException {\r\n\t\treturn new Object();\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void doBegin(Object transaction, TransactionDefinition definition) throws TransactionException {\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void doCommit(DefaultTransactionStatus status) throws TransactionException {\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void doRollback(DefaultTransactionStatus status) throws TransactionException {\r\n\t}\r\n\r\n}\r\n```\r\n```\r\nso69817946: partitions assigned: [so69817946-0]\r\n```\r\n\r\nAnd I can see the transaction interceptor in the call stack.\r\n\r\nSo, yes, an MCVE would be helpful.\r\n","title":"KafkaListener and __listener @KafKaListener can&#39;t resolve &#39;null&#39; with Aspect Annotation","body":"<p>I just tested it with <code>@Transactional</code> and it works as expected for me - I have confirmed that we already have a CGLIB proxy by the time we get to the <code>@KafkaListener</code> annotation BPP...</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@EnableTransactionManagement\npublic class So69817946Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(So69817946Application.class, args);\n    }\n\n    @Bean\n    public NewTopic topic() {\n        return TopicBuilder.name(&quot;so69817946&quot;).partitions(1).replicas(1).build();\n    }\n\n}\n\n@Component\nclass listener {\n\n    public String getTopic() {\n        return &quot;so69817946&quot;;\n    }\n\n    @Transactional\n    @KafkaListener(id = &quot;so69817946&quot;, topics = &quot;#{__listener.topic}&quot;)\n    public void listen(String in) {\n        System.out.println(in);\n    }\n\n}\n\n@Component\nclass TM extends AbstractPlatformTransactionManager {\n\n    @Override\n    protected Object doGetTransaction() throws TransactionException {\n        return new Object();\n    }\n\n    @Override\n    protected void doBegin(Object transaction, TransactionDefinition definition) throws TransactionException {\n    }\n\n    @Override\n    protected void doCommit(DefaultTransactionStatus status) throws TransactionException {\n    }\n\n    @Override\n    protected void doRollback(DefaultTransactionStatus status) throws TransactionException {\n    }\n\n}\n</code></pre>\n<pre><code>so69817946: partitions assigned: [so69817946-0]\n</code></pre>\n<p>And I can see the transaction interceptor in the call stack.</p>\n<p>So, yes, an MCVE would be helpful.</p>\n"},{"tags":[],"owner":{"account_id":1800275,"reputation":2596,"user_id":1638798,"display_name":"Thibaut"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636034393,"creation_date":1636034393,"answer_id":69840448,"question_id":69817946,"body_markdown":"Thanks to the help of Gary, I found the solution.\r\nOnce we have aspect, the class is proxified and properties became null in the CGLIB object.\r\nWe need to call getter in order to have the value from original object, not the proxified one \r\n\r\nSpEL is able to read public getter that will be executed on the original object, and not the CGLIB one\r\n\r\nSo the solution was simply to create a public getter for my private\r\n\r\n    public String getMyProps(){\r\n        return this.myProps;\r\n    }\r\n\r\nThanks all.","title":"KafkaListener and __listener @KafKaListener can&#39;t resolve &#39;null&#39; with Aspect Annotation","body":"<p>Thanks to the help of Gary, I found the solution.\nOnce we have aspect, the class is proxified and properties became null in the CGLIB object.\nWe need to call getter in order to have the value from original object, not the proxified one</p>\n<p>SpEL is able to read public getter that will be executed on the original object, and not the CGLIB one</p>\n<p>So the solution was simply to create a public getter for my private</p>\n<pre><code>public String getMyProps(){\n    return this.myProps;\n}\n</code></pre>\n<p>Thanks all.</p>\n"}],"owner":{"account_id":1800275,"reputation":2596,"user_id":1638798,"display_name":"Thibaut"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1610,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1636034393,"creation_date":1635894947,"question_id":69817946,"body_markdown":"I&#39;m using @KafkaListener and I need a dynamic topic name so I use the SpEL &#39;__listener&#39; in order to do that\r\n    \r\n    @PostConstruct\r\n    public void init() {\r\n    \tmyProps= generateTopicDynamically();\r\n    }\r\n    \r\n    @KafkaListener(topics = &quot;#{__listener.myProps}&quot;)\r\n    public void listenerKafka(@Payload MyObject myObject) {\r\n           //Do something with my event\r\n    }\r\n\r\nIt works perfectly well.\r\n\r\nThe main issue is when I want to add another annotation that trigger some Aspect programmation\r\n\r\n@MyCustomAnnotationToRecordPerformance\r\n@KafkaListener(topics = &quot;#{__listener.myProps}&quot;)\r\npublic void listenerKafka(@Payload MyObject myObject)\r\n\r\nand here the aspect class\r\n\r\n    @Aspect\r\n    @Configuration\r\n    @Slf4j\r\n    public class MyCustomAnnotationToRecordPerformanceAspect {\r\n    \r\n    \t@Pointcut(&quot;@annotation(MyCustomAnnotationToRecordPerformance)&quot;)\r\n    \tpublic void annotationMyCustomAnnotationToRecordPerformance() {\r\n    \t}\r\n    \r\n    \t@Around(&quot;annotationMyCustomAnnotationToRecordPerformance()&quot;)\r\n    \tpublic Object doSomething(final ProceedingJoinPoint proceedingJoinPoint) throws Throwable {\r\n    \t\treturn proceedingJoinPoint.proceed();\r\n    \t}\r\n    }\r\n\r\nI have this issue because Spring try to resolve __listener before @PostConstruct has been called.\r\n\r\n    Caused by: java.lang.IllegalArgumentException: @KafKaListener can&#39;t resolve &#39;null&#39; as a String\r\n    \tat org.springframework.kafka.annotation.KafkaListenerAnnotationBeanPostProcessor.resolveAsString(KafkaListenerAnnotationBeanPostProcessor.java:648)\r\n    \tat org.springframework.kafka.annotation.KafkaListenerAnnotationBeanPostProcessor.resolveTopics(KafkaListenerAnnotationBeanPostProcessor.java:520)\r\n    \tat org.springframework.kafka.annotation.KafkaListenerAnnotationBeanPostProcessor.processListener(KafkaListenerAnnotationBeanPostProcessor.java:419)\r\n    \tat org.springframework.kafka.annotation.KafkaListenerAnnotationBeanPostProcessor.processKafkaListener(KafkaListenerAnnotationBeanPostProcessor.java:370)\r\n    \tat org.springframework.kafka.annotation.KafkaListenerAnnotationBeanPostProcessor.postProcessAfterInitialization(KafkaListenerAnnotationBeanPostProcessor.java:298)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:431)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)\r\n    \t... 41 common frames omitted\r\n\r\n\r\n\r\n\r\nI tried to debug it\r\n[![enter image description here][1]][1]\r\nWe can see lot of CGLIB reference, so bean has been already proxified, but all properties are null. So I supposed Autowired and PostConstruct method has not been called yet\r\n\r\nFor now, I tried to delay the processor that manage @KafkaListener, but I was not able to find where I can change that without have to redefine fully Kafka configuration\r\n\r\n@EnableKafka import  KafkaListenerConfigurationSelector  that is DeferredImportSelector.\r\n\r\nHere the comment on this class\r\n\r\n    A {@link DeferredImportSelector} implementation with the lowest order to import a {@link KafkaBootstrapConfiguration} as late as possible.\r\n\r\nSo I supposed it already delay as late as possible based on the comment\r\n\r\n\r\nI test it with @Transactional, and I have the same issue.\r\n\r\n    @Transactional \r\n    @KafkaListener(topics = &quot;#{__listener.myProps}&quot;)\r\n    public void listenerKafka(@Payload MyObject myObject)\r\n\r\nDo have any idea about it?\r\n\r\nThe only alternative I see for now is split my class in 2 and create 2 beans.\r\nKafkaListener method call the other bean. But I found very strange to have to do that.\r\n\r\nThanks in advance for you help.\r\n\r\n  [1]: https://i.stack.imgur.com/hxGcQ.png","title":"KafkaListener and __listener @KafKaListener can&#39;t resolve &#39;null&#39; with Aspect Annotation","body":"<p>I'm using @KafkaListener and I need a dynamic topic name so I use the SpEL '__listener' in order to do that</p>\n<pre><code>@PostConstruct\npublic void init() {\n    myProps= generateTopicDynamically();\n}\n\n@KafkaListener(topics = &quot;#{__listener.myProps}&quot;)\npublic void listenerKafka(@Payload MyObject myObject) {\n       //Do something with my event\n}\n</code></pre>\n<p>It works perfectly well.</p>\n<p>The main issue is when I want to add another annotation that trigger some Aspect programmation</p>\n<p>@MyCustomAnnotationToRecordPerformance\n@KafkaListener(topics = &quot;#{__listener.myProps}&quot;)\npublic void listenerKafka(@Payload MyObject myObject)</p>\n<p>and here the aspect class</p>\n<pre><code>@Aspect\n@Configuration\n@Slf4j\npublic class MyCustomAnnotationToRecordPerformanceAspect {\n\n    @Pointcut(&quot;@annotation(MyCustomAnnotationToRecordPerformance)&quot;)\n    public void annotationMyCustomAnnotationToRecordPerformance() {\n    }\n\n    @Around(&quot;annotationMyCustomAnnotationToRecordPerformance()&quot;)\n    public Object doSomething(final ProceedingJoinPoint proceedingJoinPoint) throws Throwable {\n        return proceedingJoinPoint.proceed();\n    }\n}\n</code></pre>\n<p>I have this issue because Spring try to resolve __listener before @PostConstruct has been called.</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: @KafKaListener can't resolve 'null' as a String\n    at org.springframework.kafka.annotation.KafkaListenerAnnotationBeanPostProcessor.resolveAsString(KafkaListenerAnnotationBeanPostProcessor.java:648)\n    at org.springframework.kafka.annotation.KafkaListenerAnnotationBeanPostProcessor.resolveTopics(KafkaListenerAnnotationBeanPostProcessor.java:520)\n    at org.springframework.kafka.annotation.KafkaListenerAnnotationBeanPostProcessor.processListener(KafkaListenerAnnotationBeanPostProcessor.java:419)\n    at org.springframework.kafka.annotation.KafkaListenerAnnotationBeanPostProcessor.processKafkaListener(KafkaListenerAnnotationBeanPostProcessor.java:370)\n    at org.springframework.kafka.annotation.KafkaListenerAnnotationBeanPostProcessor.postProcessAfterInitialization(KafkaListenerAnnotationBeanPostProcessor.java:298)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:431)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)\n    ... 41 common frames omitted\n</code></pre>\n<p>I tried to debug it\n<a href=\"https://i.stack.imgur.com/hxGcQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hxGcQ.png\" alt=\"enter image description here\" /></a>\nWe can see lot of CGLIB reference, so bean has been already proxified, but all properties are null. So I supposed Autowired and PostConstruct method has not been called yet</p>\n<p>For now, I tried to delay the processor that manage @KafkaListener, but I was not able to find where I can change that without have to redefine fully Kafka configuration</p>\n<p>@EnableKafka import  KafkaListenerConfigurationSelector  that is DeferredImportSelector.</p>\n<p>Here the comment on this class</p>\n<pre><code>A {@link DeferredImportSelector} implementation with the lowest order to import a {@link KafkaBootstrapConfiguration} as late as possible.\n</code></pre>\n<p>So I supposed it already delay as late as possible based on the comment</p>\n<p>I test it with @Transactional, and I have the same issue.</p>\n<pre><code>@Transactional \n@KafkaListener(topics = &quot;#{__listener.myProps}&quot;)\npublic void listenerKafka(@Payload MyObject myObject)\n</code></pre>\n<p>Do have any idea about it?</p>\n<p>The only alternative I see for now is split my class in 2 and create 2 beans.\nKafkaListener method call the other bean. But I found very strange to have to do that.</p>\n<p>Thanks in advance for you help.</p>\n"},{"tags":["java","reference","mutation"],"comments":[{"owner":{"account_id":129540,"reputation":210847,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":2,"creation_date":1636034543,"post_id":69840384,"comment_id":123453967,"body_markdown":"Each of your methods has a *local variable* called `messages`.  Even though they all call their variables the same name, they are *different* variables and exist *only* in the scope of their respective methods.  Re-assigning a local variable only re-assigns that local variable, it does nothing to a variable in the calling method by the same name.  If you want to modify the object referenced by that variable, you need to mutate the object itself (call methods or set values on it), not re-assign the variable to a new object.","body":"Each of your methods has a <i>local variable</i> called <code>messages</code>.  Even though they all call their variables the same name, they are <i>different</i> variables and exist <i>only</i> in the scope of their respective methods.  Re-assigning a local variable only re-assigns that local variable, it does nothing to a variable in the calling method by the same name.  If you want to modify the object referenced by that variable, you need to mutate the object itself (call methods or set values on it), not re-assign the variable to a new object."},{"owner":{"account_id":20527690,"reputation":105,"user_id":15065747,"display_name":"DTK"},"score":0,"creation_date":1636035059,"post_id":69840384,"comment_id":123454266,"body_markdown":"@OHGODSPIDERS Thanks! Great resource, but I guess that in the resource shared the solution would be messages=sublistMessages that did not solve my issue.","body":"@OHGODSPIDERS Thanks! Great resource, but I guess that in the resource shared the solution would be messages=sublistMessages that did not solve my issue."},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1636035175,"post_id":69840384,"comment_id":123454323,"body_markdown":"No, that is not correct. And nowhere does it claim that. The linked duplicate explains that because java is always pass-by-value reassigning method parameters will **never** have an effect outside of those methods. The solution is to work with return values instead and use those return values to reassign your variables at the places where you call those methods.","body":"No, that is not correct. And nowhere does it claim that. The linked duplicate explains that because java is always pass-by-value reassigning method parameters will <b>never</b> have an effect outside of those methods. The solution is to work with return values instead and use those return values to reassign your variables at the places where you call those methods."},{"owner":{"account_id":20527690,"reputation":105,"user_id":15065747,"display_name":"DTK"},"score":0,"creation_date":1636035193,"post_id":69840384,"comment_id":123454335,"body_markdown":"Thanks @David you  pointed a thing I had not thought of. Would you say that in this case, my option would be to return a List&lt;Message&gt; from updateMessages? I would need to update my interface, but I guess that this would be a best practice right in this context right?","body":"Thanks @David you  pointed a thing I had not thought of. Would you say that in this case, my option would be to return a List&lt;Message&gt; from updateMessages? I would need to update my interface, but I guess that this would be a best practice right in this context right?"},{"owner":{"account_id":129540,"reputation":210847,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":1,"creation_date":1636035319,"post_id":69840384,"comment_id":123454408,"body_markdown":"@DTK: In general I personally recommend returning a new object instead of mutating a passed object, yes.  There are exceptions of course.  But overall I find it unintuitive for a method to mutate an object passed to it and can lead to bugs.  Returning the same type passed in can also make for very expressive fluent interfaces.","body":"@DTK: In general I personally recommend returning a new object instead of mutating a passed object, yes.  There are exceptions of course.  But overall I find it unintuitive for a method to mutate an object passed to it and can lead to bugs.  Returning the same type passed in can also make for very expressive fluent interfaces."},{"owner":{"account_id":20527690,"reputation":105,"user_id":15065747,"display_name":"DTK"},"score":0,"creation_date":1636035414,"post_id":69840384,"comment_id":123454451,"body_markdown":"Thanks @OHGODSPIDERS I see, now it is cristal clear! Indeed that is the root cause of my issue.","body":"Thanks @OHGODSPIDERS I see, now it is cristal clear! Indeed that is the root cause of my issue."},{"owner":{"account_id":20527690,"reputation":105,"user_id":15065747,"display_name":"DTK"},"score":0,"creation_date":1636035576,"post_id":69840384,"comment_id":123454537,"body_markdown":"@David Many Thanks! Now that you mentioned I cannot agree more!","body":"@David Many Thanks! Now that you mentioned I cannot agree more!"}],"owner":{"account_id":20527690,"reputation":105,"user_id":15065747,"display_name":"DTK"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1636035590,"answer_count":0,"score":0,"last_activity_date":1636034322,"creation_date":1636034190,"question_id":69840384,"body_markdown":"I am trying to understand a issue I found on mutation and references in Java.\r\n\r\nI am trying to point the reference of my list of messages to a new sublist of messages created by the function `getMessageSublist`. \r\n\r\nI would expect that after the `updateMessage`, my list of messages would contain only one message(0), which was selected by the `getMessageSublist`.\r\n\r\nWhat I am doing wrong? How could I modify my code so that my code only print the message(0) (selected by the `getMessageSublist`), considering that my `getMessageSublist` always provide me a new list with copies of the messages.\r\n\r\n    class Message {\r\n        private String message;\r\n    \r\n        public Message(String message) {\r\n            this.message = message;\r\n        }\r\n    \r\n        public String getMessage() {\r\n            return message;\r\n        }\r\n    \r\n        public void setMessage(String message) {\r\n            this.message = message;\r\n        }\r\n        public Message getCopy() {\r\n            return new Message(getMessage());\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Message{&quot; + &quot;message=&#39;&quot; + message + &#39;\\&#39;&#39; + &#39;}&#39;;\r\n        }\r\n    }\r\n    \r\n    public class Test {\r\n        public static void main(String[] args){\r\n            List&lt;Message&gt; messages = new ArrayList&lt;&gt;();\r\n            for (int i=0;i&lt;5;i++){\r\n                messages.add(new Message(Integer.valueOf(i).toString()));\r\n            }\r\n            updateMessages(messages);\r\n            for(Message msg: messages){\r\n                System.out.println(msg);//Actual: Prints 0 till 5, Expected print\r\n                // only 0, (selected in getMessageSublist).\r\n            }\r\n        }\r\n    \r\n        private static void updateMessages(List&lt;Message&gt; messages) {\r\n            List&lt;Message&gt; sublistMessages=getMessageSublist(messages);\r\n            messages=sublistMessages;//Unsuccessfully tried to set the\r\n            // sublistMessages as my messages\r\n        }\r\n    \r\n        private static List&lt;Message&gt; getMessageSublist(List&lt;Message&gt; messages) {\r\n            List&lt;Message&gt; sublist=new ArrayList&lt;&gt;();\r\n            sublist.add(messages.get(0).getCopy());\r\n            return sublist;\r\n        }\r\n    }","title":"How to point object reference to another object","body":"<p>I am trying to understand a issue I found on mutation and references in Java.</p>\n<p>I am trying to point the reference of my list of messages to a new sublist of messages created by the function <code>getMessageSublist</code>.</p>\n<p>I would expect that after the <code>updateMessage</code>, my list of messages would contain only one message(0), which was selected by the <code>getMessageSublist</code>.</p>\n<p>What I am doing wrong? How could I modify my code so that my code only print the message(0) (selected by the <code>getMessageSublist</code>), considering that my <code>getMessageSublist</code> always provide me a new list with copies of the messages.</p>\n<pre><code>class Message {\n    private String message;\n\n    public Message(String message) {\n        this.message = message;\n    }\n\n    public String getMessage() {\n        return message;\n    }\n\n    public void setMessage(String message) {\n        this.message = message;\n    }\n    public Message getCopy() {\n        return new Message(getMessage());\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Message{&quot; + &quot;message='&quot; + message + '\\'' + '}';\n    }\n}\n\npublic class Test {\n    public static void main(String[] args){\n        List&lt;Message&gt; messages = new ArrayList&lt;&gt;();\n        for (int i=0;i&lt;5;i++){\n            messages.add(new Message(Integer.valueOf(i).toString()));\n        }\n        updateMessages(messages);\n        for(Message msg: messages){\n            System.out.println(msg);//Actual: Prints 0 till 5, Expected print\n            // only 0, (selected in getMessageSublist).\n        }\n    }\n\n    private static void updateMessages(List&lt;Message&gt; messages) {\n        List&lt;Message&gt; sublistMessages=getMessageSublist(messages);\n        messages=sublistMessages;//Unsuccessfully tried to set the\n        // sublistMessages as my messages\n    }\n\n    private static List&lt;Message&gt; getMessageSublist(List&lt;Message&gt; messages) {\n        List&lt;Message&gt; sublist=new ArrayList&lt;&gt;();\n        sublist.add(messages.get(0).getCopy());\n        return sublist;\n    }\n}\n</code></pre>\n"},{"tags":["java","scala","akka","akka-stream","akka-http"],"comments":[{"owner":{"account_id":1094488,"reputation":842,"user_id":1088380,"accept_rate":64,"display_name":"Raf"},"score":0,"creation_date":1635926694,"post_id":69814675,"comment_id":123419364,"body_markdown":"if you want this to be thread-safe (probably) and referential transparent (maybe), go the `Cats Effect` way: https://gist.github.com/ChristopherDavenport/8364fa2ca14557fce12baca6cb38d5b8That is, if you&#39;re already invested in the ecosystem. If not you&#39;re probably put off by this example, and you could have a look at a Java library maybe? https://stackoverflow.com/questions/23772102/lru-cache-in-java-with-generics-and-o1-operations","body":"if you want this to be thread-safe (probably) and referential transparent (maybe), go the <code>Cats Effect</code> way: <a href=\"https://gist.github.com/ChristopherDavenport/8364fa2ca14557fce12baca6cb38d5b8That\" rel=\"nofollow noreferrer\">gist.github.com/ChristopherDavenport/&hellip;</a> is, if you&#39;re already invested in the ecosystem. If not you&#39;re probably put off by this example, and you could have a look at a Java library maybe? <a href=\"https://stackoverflow.com/questions/23772102/lru-cache-in-java-with-generics-and-o1-operations\" title=\"lru cache in java with generics and o1 operations\">stackoverflow.com/questions/23772102/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2795734,"reputation":8384,"user_id":2404988,"accept_rate":75,"display_name":"C4stor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636034300,"creation_date":1636034300,"answer_id":69840417,"question_id":69814675,"body_markdown":"Caffeine should be a good way to do that : https://github.com/ben-manes/caffeine","title":"Any built-in scala cache feature with size limit","body":"<p>Caffeine should be a good way to do that : <a href=\"https://github.com/ben-manes/caffeine\" rel=\"nofollow noreferrer\">https://github.com/ben-manes/caffeine</a></p>\n"}],"owner":{"account_id":2012768,"reputation":311,"user_id":1800822,"accept_rate":50,"display_name":"Pratap D"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":415,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636034300,"creation_date":1635874390,"question_id":69814675,"body_markdown":" Is there any built LRU Memory cache class in scala with a size limit and key eviction based on LRU/LFU? I&#39;ve tried https://doc.akka.io/docs/akka-http/current/common/caching.html but it seems to be a bit complicated with wrapped futures.\r\n\r\nThanks.\r\n","title":"Any built-in scala cache feature with size limit","body":"<p>Is there any built LRU Memory cache class in scala with a size limit and key eviction based on LRU/LFU? I've tried <a href=\"https://doc.akka.io/docs/akka-http/current/common/caching.html\" rel=\"nofollow noreferrer\">https://doc.akka.io/docs/akka-http/current/common/caching.html</a> but it seems to be a bit complicated with wrapped futures.</p>\n<p>Thanks.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8110,"page":1882,"page_size":100}
