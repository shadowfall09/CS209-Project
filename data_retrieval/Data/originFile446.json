{"items":[{"tags":["java","spring","spring-mvc","cassandra"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1499255297,"post_id":44925324,"comment_id":76826061,"body_markdown":"Where you see a bean of class cluster  (implementation of an Interface Cluster) in your code that can be autovired??","body":"Where you see a bean of class cluster  (implementation of an Interface Cluster) in your code that can be autovired??"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1499255385,"post_id":44925324,"comment_id":76826140,"body_markdown":"one possible Solution: remove this two lines: `@Autowired\n  private Cluster cluster = null;`","body":"one possible Solution: remove this two lines: <code>@Autowired   private Cluster cluster = null;</code>"},{"owner":{"account_id":3522604,"reputation":2433,"user_id":2944502,"accept_rate":64,"display_name":"fengye87"},"score":0,"creation_date":1499255449,"post_id":44925324,"comment_id":76826194,"body_markdown":"I haven&#39;t defined any bean of Class Cluster, it&#39;s supposed to be provided by spring-boot-starter-data-cassandra. And if I run my application, it just works.","body":"I haven&#39;t defined any bean of Class Cluster, it&#39;s supposed to be provided by spring-boot-starter-data-cassandra. And if I run my application, it just works."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1499255554,"post_id":44925324,"comment_id":76826282,"body_markdown":"then there is something in the testconfiguration missing","body":"then there is something in the testconfiguration missing"}],"answers":[{"comments":[{"owner":{"account_id":3522604,"reputation":2433,"user_id":2944502,"accept_rate":64,"display_name":"fengye87"},"score":3,"creation_date":1499256210,"post_id":44925488,"comment_id":76826721,"body_markdown":"I was hoping the cluster instance will get autowired like it does in application bootstraping. What&#39;s the difference for the test environment?","body":"I was hoping the cluster instance will get autowired like it does in application bootstraping. What&#39;s the difference for the test environment?"},{"owner":{"account_id":2257408,"reputation":4873,"user_id":1988304,"accept_rate":92,"display_name":"JimHawkins"},"score":1,"creation_date":1499258458,"post_id":44925488,"comment_id":76828528,"body_markdown":"AFAIK, the class `Applcation` where you call `SpringApplication.run(Application.class, args)` isn&#39;t used when your tests are executed","body":"AFAIK, the class <code>Applcation</code> where you call <code>SpringApplication.run(Application.class, args)</code> isn&#39;t used when your tests are executed"},{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":2,"creation_date":1499259976,"post_id":44925488,"comment_id":76829784,"body_markdown":"Jim&#39;s statement is correct. In the Spring Boot app, you have a configuration class which is supplying `Cluster`. You need (and should have) a separate config class or XML for unit tests to create any beans you need. Also, `@Autowired private UserRepo userRepo = null;` is redundant. These are null by default. And you should try to use [constructor injection](https://docs.spring.io/spring-boot/docs/current/reference/html/using-boot-spring-beans-and-dependency-injection.html) to make testing easier.","body":"Jim&#39;s statement is correct. In the Spring Boot app, you have a configuration class which is supplying <code>Cluster</code>. You need (and should have) a separate config class or XML for unit tests to create any beans you need. Also, <code>@Autowired private UserRepo userRepo = null;</code> is redundant. These are null by default. And you should try to use <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/using-boot-spring-beans-and-dependency-injection.html\" rel=\"nofollow noreferrer\">constructor injection</a> to make testing easier."},{"owner":{"account_id":3301350,"reputation":2374,"user_id":2777454,"accept_rate":52,"display_name":"AndreFontaine"},"score":3,"creation_date":1522153269,"post_id":44925488,"comment_id":86029948,"body_markdown":"Is you are creating a spring-boot application with spring-boot-test since 1.4, you can annotate your test classes with `@SpringBootTest`.","body":"Is you are creating a spring-boot application with spring-boot-test since 1.4, you can annotate your test classes with <code>@SpringBootTest</code>."},{"owner":{"account_id":10104588,"reputation":332,"user_id":7467556,"display_name":"NK_Mimrot"},"score":0,"creation_date":1596540933,"post_id":44925488,"comment_id":111837823,"body_markdown":"Instead @ContextConfiguration can&#39;t we provide basePackage?","body":"Instead @ContextConfiguration can&#39;t we provide basePackage?"},{"owner":{"account_id":24287116,"reputation":408,"user_id":18232723,"display_name":"kylie.zoltan"},"score":0,"creation_date":1660906609,"post_id":44925488,"comment_id":129649754,"body_markdown":"Unable to retrieve @EnableAutoConfiguration base packages. Any ideas?","body":"Unable to retrieve @EnableAutoConfiguration base packages. Any ideas?"},{"owner":{"account_id":22990091,"reputation":293,"user_id":17115716,"display_name":"Gabriel"},"score":0,"creation_date":1693162849,"post_id":44925488,"comment_id":135720578,"body_markdown":"Thank you so much, I always only found something about using the ContextConfiguration in combination with some files and this finally solved my problems after a long time, thanks so much!","body":"Thank you so much, I always only found something about using the ContextConfiguration in combination with some files and this finally solved my problems after a long time, thanks so much!"}],"tags":[],"owner":{"account_id":2257408,"reputation":4873,"user_id":1988304,"accept_rate":92,"display_name":"JimHawkins"},"comment_count":7,"down_vote_count":0,"up_vote_count":95,"is_accepted":true,"score":95,"last_activity_date":1499255572,"creation_date":1499255572,"answer_id":44925488,"question_id":44925324,"body_markdown":"The test environment needs to know where your beans are defined, so you have to tell it the location.\r\n\r\nIn your test class, add the `@ContextConfiguration` annotation:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @AutoConfigureTestDatabase(replace = Replace.NONE)\r\n    @DataJpaTest\r\n    @ContextConfiguration(classes = {YourBeans.class, MoreOfYourBeans.class})\r\n    public class UserRepoTest {\r\n    \r\n      @Autowired\r\n      private UserRepo userRepo = null;\r\n    \r\n      @Autowired\r\n      private TestEntityManager entityManager = null;\r\n\r\n","title":"Spring boot test &quot;No qualifying bean of type available&quot;","body":"<p>The test environment needs to know where your beans are defined, so you have to tell it the location.</p>\n\n<p>In your test class, add the <code>@ContextConfiguration</code> annotation:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@RunWith(SpringRunner.class)\n@AutoConfigureTestDatabase(replace = Replace.NONE)\n@DataJpaTest\n@ContextConfiguration(classes = {YourBeans.class, MoreOfYourBeans.class})\npublic class UserRepoTest {\n\n  @Autowired\n  private UserRepo userRepo = null;\n\n  @Autowired\n  private TestEntityManager entityManager = null;\n</code></pre>\n"}],"owner":{"account_id":3522604,"reputation":2433,"user_id":2944502,"accept_rate":64,"display_name":"fengye87"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95670,"favorite_count":0,"down_vote_count":1,"up_vote_count":57,"accepted_answer_id":44925488,"answer_count":1,"score":56,"last_activity_date":1683715861,"creation_date":1499255145,"question_id":44925324,"body_markdown":"I&#39;m quite a newbie to Spring boot, but here&#39;s the problem I&#39;m facing now:\r\n\r\n    // Application.java\r\n    public class Application {\r\n      public static void main(String[] args) {\r\n        SpringApplication.run(Application.class, args);\r\n      }\r\n\r\n      @Autowired\r\n      private Cluster cluster = null;\r\n\r\n      @PostConstruct\r\n      private void migrateCassandra() {\r\n        Database database = new Database(this.cluster, &quot;foo&quot;);\r\n        MigrationTask migration = new MigrationTask(database, new MigrationRepository());\r\n        migration.migrate();\r\n      }\r\n    }\r\n\r\nSo basically, I&#39;m trying to bootstrap a spring application, and after that, do some cassandra migrations.\r\n\r\nI also have defined a repository for my user model:\r\n\r\n    // UserRepo.java\r\n    public interface UserRepo extends CassandraRepository&lt;User&gt; {\r\n    }\r\n\r\nNow I&#39;m trying to test my repo class using the following simple test case:\r\n\r\n    // UserRepoTest.java\r\n    @RunWith(SpringRunner.class)\r\n    @AutoConfigureTestDatabase(replace = Replace.NONE)\r\n    @DataJpaTest\r\n    public class UserRepoTest {\r\n    \r\n      @Autowired\r\n      private UserRepo userRepo = null;\r\n    \r\n      @Autowired\r\n      private TestEntityManager entityManager = null;\r\n    \r\n      @Test\r\n      public void findOne_whenUserExists_thenReturnUser() {\r\n        String id = UUID.randomUUID().toString();\r\n        User user = new User();\r\n        user.setId(id);\r\n        this.entityManager.persist(user);\r\n    \r\n        assertEquals(this.userRepo.findOne(user.getId()).getId(), id);\r\n      }\r\n    \r\n      @Test\r\n      public void findOne_whenUserNotExists_thenReturnNull() {\r\n        assertNull(this.userRepo.findOne(UUID.randomUUID().toString()));\r\n      }\r\n    }\r\n\r\nI would expect the test to pass, but instead, I got an error saying &quot;No qualifying bean of type &#39;com.datastax.driver.core.Cluster&#39; available&quot;. It looks like spring failed to autowire the `cluster` object, but why is that? How do I fix this? Thanks a lot!","title":"Spring boot test &quot;No qualifying bean of type available&quot;","body":"<p>I'm quite a newbie to Spring boot, but here's the problem I'm facing now:</p>\n\n<pre><code>// Application.java\npublic class Application {\n  public static void main(String[] args) {\n    SpringApplication.run(Application.class, args);\n  }\n\n  @Autowired\n  private Cluster cluster = null;\n\n  @PostConstruct\n  private void migrateCassandra() {\n    Database database = new Database(this.cluster, \"foo\");\n    MigrationTask migration = new MigrationTask(database, new MigrationRepository());\n    migration.migrate();\n  }\n}\n</code></pre>\n\n<p>So basically, I'm trying to bootstrap a spring application, and after that, do some cassandra migrations.</p>\n\n<p>I also have defined a repository for my user model:</p>\n\n<pre><code>// UserRepo.java\npublic interface UserRepo extends CassandraRepository&lt;User&gt; {\n}\n</code></pre>\n\n<p>Now I'm trying to test my repo class using the following simple test case:</p>\n\n<pre><code>// UserRepoTest.java\n@RunWith(SpringRunner.class)\n@AutoConfigureTestDatabase(replace = Replace.NONE)\n@DataJpaTest\npublic class UserRepoTest {\n\n  @Autowired\n  private UserRepo userRepo = null;\n\n  @Autowired\n  private TestEntityManager entityManager = null;\n\n  @Test\n  public void findOne_whenUserExists_thenReturnUser() {\n    String id = UUID.randomUUID().toString();\n    User user = new User();\n    user.setId(id);\n    this.entityManager.persist(user);\n\n    assertEquals(this.userRepo.findOne(user.getId()).getId(), id);\n  }\n\n  @Test\n  public void findOne_whenUserNotExists_thenReturnNull() {\n    assertNull(this.userRepo.findOne(UUID.randomUUID().toString()));\n  }\n}\n</code></pre>\n\n<p>I would expect the test to pass, but instead, I got an error saying \"No qualifying bean of type 'com.datastax.driver.core.Cluster' available\". It looks like spring failed to autowire the <code>cluster</code> object, but why is that? How do I fix this? Thanks a lot!</p>\n"},{"tags":["java","macos","jpackage"],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683715244,"creation_date":1683714802,"answer_id":76217368,"question_id":76217275,"body_markdown":"You have used same input and output dir parameters `-i` and `-d`, so you are seeing a recursive copy of one to the other - probably getting deeper levels each time you run the command. Use separate folders for each parameter.\r\n\r\nThe `--dest` / `-d` value is more suitable to be set as a temporary build location so it can be cleared by a &quot;clean&quot; operation of whatever build system you use and regenerated cleanly by next run.\r\n","title":"jpackage FileSystemException","body":"<p>You have used same input and output dir parameters <code>-i</code> and <code>-d</code>, so you are seeing a recursive copy of one to the other - probably getting deeper levels each time you run the command. Use separate folders for each parameter.</p>\n<p>The <code>--dest</code> / <code>-d</code> value is more suitable to be set as a temporary build location so it can be cleared by a &quot;clean&quot; operation of whatever build system you use and regenerated cleanly by next run.</p>\n"}],"owner":{"account_id":10447334,"reputation":11,"user_id":7701996,"display_name":"Cor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683715244,"creation_date":1683714091,"question_id":76217275,"body_markdown":"I have a Java project (on Mac OSX and in Eclipse) where jpackage produces an error I don&#39;t understand\r\n\r\nThe jpackage command is as follows:\r\n\r\n```\r\nexport JAVA_HOME=&quot;/Library/Java/JavaVirtualMachines/jdk-17.0.5.jdk/Contents/Home&quot;\r\nexport PATH=$JAVA_HOME/bin:$PATH\r\n\r\njpackage \\\r\n    --type app-image \\\r\n    -i ../Released \\\r\n    -d ../Released \\\r\n    -n &quot;Boekhouding&quot; \\\r\n    --app-version &quot;1.3.7&quot; \\\r\n    --icon ../../Images/euro.icns \\\r\n    --main-jar run.jar \\\r\n    --verbose\r\n```\r\n\r\nThis jpackage version and command works with another project but not with this project. The error is as follows:\r\n\r\n\r\n```\r\njava.nio.file.FileSystemException: /Users/cor/SoftwareProjects/Boekhouding/Desktop/Build/../Released/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents: File name too long\r\n```\r\n\r\nThis project was succesfully packaged with jpackage of jdk 11.0.3.\r\n\r\nDoes anyone have a clue what is going on here? \r\n\r\n\r\n\r\n","title":"jpackage FileSystemException","body":"<p>I have a Java project (on Mac OSX and in Eclipse) where jpackage produces an error I don't understand</p>\n<p>The jpackage command is as follows:</p>\n<pre><code>export JAVA_HOME=&quot;/Library/Java/JavaVirtualMachines/jdk-17.0.5.jdk/Contents/Home&quot;\nexport PATH=$JAVA_HOME/bin:$PATH\n\njpackage \\\n    --type app-image \\\n    -i ../Released \\\n    -d ../Released \\\n    -n &quot;Boekhouding&quot; \\\n    --app-version &quot;1.3.7&quot; \\\n    --icon ../../Images/euro.icns \\\n    --main-jar run.jar \\\n    --verbose\n</code></pre>\n<p>This jpackage version and command works with another project but not with this project. The error is as follows:</p>\n<pre><code>java.nio.file.FileSystemException: /Users/cor/SoftwareProjects/Boekhouding/Desktop/Build/../Released/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents/app/Boekhouding.app/Contents: File name too long\n</code></pre>\n<p>This project was succesfully packaged with jpackage of jdk 11.0.3.</p>\n<p>Does anyone have a clue what is going on here?</p>\n"},{"tags":["java","arrays","arraylist","jlist"],"answers":[{"tags":[],"owner":{"account_id":120605,"reputation":24173,"user_id":313137,"display_name":"Romain Hippeau"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1481095843,"creation_date":1279323672,"answer_id":3269528,"question_id":3269516,"body_markdown":"\r\nConstructor Summary  \r\n`JList()` Constructs a `JList` with an empty, read-only, model.  \r\n`JList(ListModel dataModel)` Constructs a `JList` that displays elements from the specified, non-null, model.  \r\n`JList(Object[] listData)`  Constructs a `JList` that displays the elements in the specified array.  \r\n`JList(Vector&lt;?&gt; listData)` Constructs a `JList` that displays the elements in the specified Vector.  \r\n","title":"Java ArrayLists into JList","body":"<p>Constructor Summary<br>\n<code>JList()</code> Constructs a <code>JList</code> with an empty, read-only, model.<br>\n<code>JList(ListModel dataModel)</code> Constructs a <code>JList</code> that displays elements from the specified, non-null, model.<br>\n<code>JList(Object[] listData)</code>  Constructs a <code>JList</code> that displays the elements in the specified array.<br>\n<code>JList(Vector&lt;?&gt; listData)</code> Constructs a <code>JList</code> that displays the elements in the specified Vector.  </p>\n"},{"comments":[{"owner":{"account_id":101237,"reputation":17866,"user_id":272501,"accept_rate":96,"display_name":"test"},"score":1,"creation_date":1279324932,"post_id":3269560,"comment_id":3382128,"body_markdown":"Great post ... but now I have a new error... see my new topic :|","body":"Great post ... but now I have a new error... see my new topic :|"},{"owner":{"account_id":1570833,"reputation":4637,"user_id":1458552,"accept_rate":62,"display_name":"Anonymous"},"score":0,"creation_date":1679326682,"post_id":3269560,"comment_id":133697581,"body_markdown":"Do not ask why but this only works if you declare a generic variable of JList. Not JList&lt;MyType&gt; but JList, otherwise I get a lot of trouble","body":"Do not ask why but this only works if you declare a generic variable of JList. Not JList&lt;MyType&gt; but JList, otherwise I get a lot of trouble"},{"owner":{"account_id":51705,"reputation":21173,"user_id":154527,"accept_rate":100,"display_name":"Alain O&#39;Dea"},"score":0,"creation_date":1683714728,"post_id":3269560,"comment_id":134407994,"body_markdown":"You get runtime type errors because I messed up here and didn&#39;t provide a type safe solution. You need to provide an array of target type to ArrayList.toArray. I am a bit embarassed that I missed that. https://stackoverflow.com/a/7876978/154527","body":"You get runtime type errors because I messed up here and didn&#39;t provide a type safe solution. You need to provide an array of target type to ArrayList.toArray. I am a bit embarassed that I missed that. <a href=\"https://stackoverflow.com/a/7876978/154527\">stackoverflow.com/a/7876978/154527</a>"},{"owner":{"account_id":51705,"reputation":21173,"user_id":154527,"accept_rate":100,"display_name":"Alain O&#39;Dea"},"score":0,"creation_date":1683715110,"post_id":3269560,"comment_id":134408064,"body_markdown":"I&#39;ve corrected my error above.","body":"I&#39;ve corrected my error above."}],"tags":[],"owner":{"account_id":51705,"reputation":21173,"user_id":154527,"accept_rate":100,"display_name":"Alain O&#39;Dea"},"comment_count":4,"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1683715087,"creation_date":1279324249,"answer_id":3269560,"question_id":3269516,"body_markdown":"**JList** provides a constructor **JList(E[])** which you can call after unpacking your **ArrayList&amp;lt;String&amp;gt;** using **toArray(T[])**:\r\n\r\n    list = new JList&lt;&gt;(arr.toArray(new String[arr.size()]))","title":"Java ArrayLists into JList","body":"<p><strong>JList</strong> provides a constructor <strong>JList(E[])</strong> which you can call after unpacking your <strong>ArrayList&lt;String&gt;</strong> using <strong>toArray(T[])</strong>:</p>\n<pre><code>list = new JList&lt;&gt;(arr.toArray(new String[arr.size()]))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":984295,"reputation":521,"user_id":1003206,"accept_rate":67,"display_name":"Jon Sansoucie"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1510226888,"creation_date":1398860248,"answer_id":23387881,"question_id":3269516,"body_markdown":"I had trouble with the `toArray()` method causing exceptions, so I built a quick generic method to convert. Maybe someone will find it useful as well. I know this is an old post but I&#39;ll bet it&#39;s still viewed from time to time. Here&#39;s the method:\r\n\r\n    private &lt;T&gt; void populateArrayFromList(T[] arr, ArrayList&lt;T&gt; arrayList) {\r\n        System.out.println(&quot;Array size &quot; + arr.length);\r\n        System.out.println(&quot;ArrayList size &quot; + arrayList.size());\r\n        for (int i = 0; i &lt; arrayList.size(); i++) {\r\n            arr[i] = arrayList.get(i);\r\n        }\r\n    }\r\n\r\nJust create the array before you pass it in, like\r\n\r\n    String[] arr = new String[arrayList.size()];\r\n\r\nThen just call it from your code\r\n\r\n    populateArrayFromList(arr, arrayList);","title":"Java ArrayLists into JList","body":"<p>I had trouble with the <code>toArray()</code> method causing exceptions, so I built a quick generic method to convert. Maybe someone will find it useful as well. I know this is an old post but I'll bet it's still viewed from time to time. Here's the method:</p>\n\n<pre><code>private &lt;T&gt; void populateArrayFromList(T[] arr, ArrayList&lt;T&gt; arrayList) {\n    System.out.println(\"Array size \" + arr.length);\n    System.out.println(\"ArrayList size \" + arrayList.size());\n    for (int i = 0; i &lt; arrayList.size(); i++) {\n        arr[i] = arrayList.get(i);\n    }\n}\n</code></pre>\n\n<p>Just create the array before you pass it in, like</p>\n\n<pre><code>String[] arr = new String[arrayList.size()];\n</code></pre>\n\n<p>Then just call it from your code</p>\n\n<pre><code>populateArrayFromList(arr, arrayList);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6322506,"reputation":21,"user_id":4910021,"display_name":"user4910021"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1446109438,"creation_date":1431899523,"answer_id":30292537,"question_id":3269516,"body_markdown":"I had trouble with toArray() and JList for my project as well. Did some research and tried a few things and found something that works. Hope it helps everyone:\r\n\r\n    ArrayList&lt;String&gt; i = new ArrayList&lt;&gt;();\r\n\tString[] str = new String[i.size()];\r\n    //Assuming there is data in your list\r\n\tJList&lt;String&gt; list = new JList&lt;&gt;(i.toArray(str));\r\n","title":"Java ArrayLists into JList","body":"<p>I had trouble with toArray() and JList for my project as well. Did some research and tried a few things and found something that works. Hope it helps everyone:</p>\n\n<pre><code>ArrayList&lt;String&gt; i = new ArrayList&lt;&gt;();\nString[] str = new String[i.size()];\n//Assuming there is data in your list\nJList&lt;String&gt; list = new JList&lt;&gt;(i.toArray(str));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10703219,"reputation":376,"user_id":7877831,"display_name":"Lakshan G"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1492747189,"creation_date":1492745850,"answer_id":43533541,"question_id":3269516,"body_markdown":"Try this:\r\n\r\n    DefaultListModel listModel = new DefaultListModel();\r\n    for (int i = 0; i &lt; arrayList().size(); i++)\r\n    {\r\n        listModel.addElement(arrayList().get(i));\r\n    }\r\n    jList1.setModel(listModel);","title":"Java ArrayLists into JList","body":"<p>Try this:</p>\n\n<pre><code>DefaultListModel listModel = new DefaultListModel();\nfor (int i = 0; i &lt; arrayList().size(); i++)\n{\n    listModel.addElement(arrayList().get(i));\n}\njList1.setModel(listModel);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12203078,"reputation":1,"user_id":8906875,"display_name":"Marat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510226466,"creation_date":1510217553,"answer_id":47197512,"question_id":3269516,"body_markdown":"I simply implemented the ListModel interface:\r\n\r\n\t\tpackage proba;\r\n\r\n\t\timport java.awt.BorderLayout;\r\n\t\timport java.awt.EventQueue;\r\n\t\timport java.util.ArrayList;\r\n\t\timport javax.swing.JFrame;\r\n\t\timport javax.swing.JList;\r\n\t\timport javax.swing.JScrollPane;\r\n\t\timport javax.swing.ListModel;\r\n\t\timport javax.swing.ListSelectionModel;\r\n\t\timport javax.swing.event.ListDataListener;\r\n\r\n\t\tpublic class Proba extends JFrame {\r\n\t\t\tArrayList&lt;String&gt; al = new ArrayList&lt;&gt;();\r\n\t\t\tpublic Proba() {\r\n\t\t\t\tal.add(&quot;1111111&quot;);\r\n\t\t\t\tal.add(&quot;2222222&quot;);\r\n\t\t\t\tal.add(&quot;3333333&quot;);\r\n\t\t\t\tsetLayout(new BorderLayout());\r\n\t\t\t\tMyListModel lm = new MyListModel();\r\n\t\t\t\tJList l = new JList(lm);\r\n\t\t\t\tl.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);\r\n\t\t\t\tJScrollPane sp = new JScrollPane(l);\r\n\t\t\t\tadd(sp, BorderLayout.CENTER);\r\n\t\t\t}\r\n\r\n\t\t\tclass MyListModel implements ListModel {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic int getSize() {\r\n\t\t\t\t\treturn al.size();\r\n\t\t\t\t}\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic Object getElementAt(int index) {\r\n\t\t\t\t\treturn al.get(index);\r\n\t\t\t\t}\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void addListDataListener(ListDataListener l) {\r\n\t\t\t\t}\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void removeListDataListener(ListDataListener l) {\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tpublic static void main(String[] args) {\r\n\t\t\t\tEventQueue.invokeLater(new Runnable() {\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void run() {\r\n\t\t\t\t\t\tProba app = new Proba();\r\n\t\t\t\t\t\tapp.setSize(600, 480);\r\n\t\t\t\t\t\tapp.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\t\t\t\tapp.setVisible(true);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n","title":"Java ArrayLists into JList","body":"<p>I simply implemented the ListModel interface:</p>\n\n<pre><code>    package proba;\n\n    import java.awt.BorderLayout;\n    import java.awt.EventQueue;\n    import java.util.ArrayList;\n    import javax.swing.JFrame;\n    import javax.swing.JList;\n    import javax.swing.JScrollPane;\n    import javax.swing.ListModel;\n    import javax.swing.ListSelectionModel;\n    import javax.swing.event.ListDataListener;\n\n    public class Proba extends JFrame {\n        ArrayList&lt;String&gt; al = new ArrayList&lt;&gt;();\n        public Proba() {\n            al.add(\"1111111\");\n            al.add(\"2222222\");\n            al.add(\"3333333\");\n            setLayout(new BorderLayout());\n            MyListModel lm = new MyListModel();\n            JList l = new JList(lm);\n            l.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);\n            JScrollPane sp = new JScrollPane(l);\n            add(sp, BorderLayout.CENTER);\n        }\n\n        class MyListModel implements ListModel {\n            @Override\n            public int getSize() {\n                return al.size();\n            }\n            @Override\n            public Object getElementAt(int index) {\n                return al.get(index);\n            }\n            @Override\n            public void addListDataListener(ListDataListener l) {\n            }\n            @Override\n            public void removeListDataListener(ListDataListener l) {\n            }\n        }\n\n        public static void main(String[] args) {\n            EventQueue.invokeLater(new Runnable() {\n                @Override\n                public void run() {\n                    Proba app = new Proba();\n                    app.setSize(600, 480);\n                    app.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                    app.setVisible(true);\n                }\n            });\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14144492,"reputation":71,"user_id":10218187,"display_name":"Mukesh Chauhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547543929,"creation_date":1547543929,"answer_id":54195832,"question_id":3269516,"body_markdown":"if you are using drag and drop components then, name your list as &quot;itemList&quot; and I suppose that arr is the name of your arraylist which contains some string data then :\r\n\r\n    `DefaultComboBoxModel model=\r\n    new DefaultComboBoxModel(arr.toArray(new String[arr.size()]));\r\n    itemList.setModel(model);`\r\n\r\nI hope this will work for you.","title":"Java ArrayLists into JList","body":"<p>if you are using drag and drop components then, name your list as \"itemList\" and I suppose that arr is the name of your arraylist which contains some string data then :</p>\n\n<pre><code>`DefaultComboBoxModel model=\nnew DefaultComboBoxModel(arr.toArray(new String[arr.size()]));\nitemList.setModel(model);`\n</code></pre>\n\n<p>I hope this will work for you.</p>\n"},{"tags":[],"owner":{"account_id":8471125,"reputation":45,"user_id":6353682,"display_name":"b3n10"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549358105,"creation_date":1549358105,"answer_id":54530994,"question_id":3269516,"body_markdown":"You can pass `Object` superclass as type of the JList.\r\n\r\n    ArrayList&lt;String&gt; arr = new ArrayList&lt;String&gt;();\r\n    \r\n    arr.add(&quot;Hatchet&quot;);\r\n    arr.add(&quot;Sword&quot;);\r\n    arr.add(&quot;Shield&quot;);\r\n    \r\n    JList&lt;Object&gt; list = JList&lt;Object&gt;(arr.toArray());","title":"Java ArrayLists into JList","body":"<p>You can pass <code>Object</code> superclass as type of the JList.</p>\n\n<pre><code>ArrayList&lt;String&gt; arr = new ArrayList&lt;String&gt;();\n\narr.add(\"Hatchet\");\narr.add(\"Sword\");\narr.add(\"Shield\");\n\nJList&lt;Object&gt; list = JList&lt;Object&gt;(arr.toArray());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4205825,"reputation":720,"user_id":3444748,"display_name":"Harshan Morawaka"},"score":0,"creation_date":1579744412,"post_id":55314468,"comment_id":105872169,"body_markdown":"where you got setListData function ?","body":"where you got setListData function ?"}],"tags":[],"owner":{"account_id":15142356,"reputation":13,"user_id":10927025,"display_name":"oboamg lolZZ"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553349569,"creation_date":1553349569,"answer_id":55314468,"question_id":3269516,"body_markdown":"if you have a loop in for gaining data in mysql\r\nyou can put like this\r\n\r\n\t     while(result.next()){\r\n\t\t itemid = result.getInt(&quot;id&quot;);\r\n\t\t itempice = result.getInt(&quot;price&quot;);\r\n\t     itemname = result.getString(&quot;itemname&quot;);\r\n         arraylist.add(itemname+&quot; Price: &quot;+itempice);\r\n         }\r\n         jList.setListData(arraylist.toArray());","title":"Java ArrayLists into JList","body":"<p>if you have a loop in for gaining data in mysql\nyou can put like this</p>\n\n<pre><code>     while(result.next()){\n     itemid = result.getInt(\"id\");\n     itempice = result.getInt(\"price\");\n     itemname = result.getString(\"itemname\");\n     arraylist.add(itemname+\" Price: \"+itempice);\n     }\n     jList.setListData(arraylist.toArray());\n</code></pre>\n"}],"owner":{"account_id":101237,"reputation":17866,"user_id":272501,"accept_rate":96,"display_name":"test"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95729,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":3269560,"answer_count":9,"score":13,"last_activity_date":1683715087,"creation_date":1279323445,"question_id":3269516,"body_markdown":"OK so I&#39;m doing a small part of my inventory. I got MOST of it down. I&#39;m trying to add string items to an ArrayList then add that to a JList. However, I&#39;m getting this error when I compile:\r\n\r\n    C:\\Users\\Dan\\Documents\\DanJavaGen\\inventory.java:30: cannot find symbol\r\n    symbol  : constructor JList(java.util.ArrayList&lt;java.lang.String&gt;)\r\n    location: class javax.swing.JList\r\n    \t\tlist = new JList(arr);\r\n\r\n\r\nIt&#39;s probably some rookie mistake I am making ... :/\r\n\r\nCode:\r\n\r\n    import java.applet.Applet;\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    import javax.swing.JList;\r\n    import java.awt.event.*;\r\n    import java.util.ArrayList;\r\n    import java.io.*;\r\n    import java.util.*;\r\n    \r\n    public class inventory extends JApplet implements MouseListener {\r\n    \r\n    public static String newline;\r\n    public static JList list;\r\n    int gold = 123;\r\n    \r\n    \tpublic void init() {\r\n    \r\n    \r\n    \r\n    ArrayList&lt;String&gt; arr = new ArrayList&lt;String&gt;();\r\n    arr.add(&quot;Hatchet&quot;);\r\n    arr.add(&quot;Sword&quot;);\r\n    arr.add(&quot;Shield&quot;);\r\n    arr.add(gold + &quot; Gold&quot;);\r\n    System.out.println(&quot;You have &quot; + arr.size() + &quot; items in your inventory.&quot;);\r\n    showInventory(arr);\r\n    \r\n    \r\n    \r\n    \t\tlist = new JList(arr);\r\n    \r\n            add(list);\r\n    \r\n            list.addMouseListener(this);\r\n    \r\n            list.setVisible(true);\r\n    \r\n    \t}\r\n    \r\n    public static void showInventory (ArrayList&lt;String&gt; theList) {\r\n    for (int i = 0; i &lt; theList.size(); i++) {\r\n    System.out.println(theList.get(i));\r\n    }\r\n    }\r\n    \r\n    \r\n        public void mousePressed(MouseEvent e) { }\r\n    \r\n        public void mouseReleased(MouseEvent e) {\r\n    \t\tObject index = list.getSelectedValue();\r\n           System.out.println(&quot;You have selected: &quot; + index);\r\n        }\r\n    \r\n        public void mouseEntered(MouseEvent e) { }\r\n    \r\n        public void mouseExited(MouseEvent e) { }\r\n    \r\n        public void mouseClicked(MouseEvent e) { }\r\n    \r\n    \r\n    \r\n    \r\n        public void paint(Graphics g) {\r\n    \r\n        }\r\n    }","title":"Java ArrayLists into JList","body":"<p>OK so I'm doing a small part of my inventory. I got MOST of it down. I'm trying to add string items to an ArrayList then add that to a JList. However, I'm getting this error when I compile:</p>\n\n<pre><code>C:\\Users\\Dan\\Documents\\DanJavaGen\\inventory.java:30: cannot find symbol\nsymbol  : constructor JList(java.util.ArrayList&lt;java.lang.String&gt;)\nlocation: class javax.swing.JList\n        list = new JList(arr);\n</code></pre>\n\n<p>It's probably some rookie mistake I am making ... :/</p>\n\n<p>Code:</p>\n\n<pre><code>import java.applet.Applet;\nimport java.awt.*;\nimport javax.swing.*;\nimport javax.swing.JList;\nimport java.awt.event.*;\nimport java.util.ArrayList;\nimport java.io.*;\nimport java.util.*;\n\npublic class inventory extends JApplet implements MouseListener {\n\npublic static String newline;\npublic static JList list;\nint gold = 123;\n\n    public void init() {\n\n\n\nArrayList&lt;String&gt; arr = new ArrayList&lt;String&gt;();\narr.add(\"Hatchet\");\narr.add(\"Sword\");\narr.add(\"Shield\");\narr.add(gold + \" Gold\");\nSystem.out.println(\"You have \" + arr.size() + \" items in your inventory.\");\nshowInventory(arr);\n\n\n\n        list = new JList(arr);\n\n        add(list);\n\n        list.addMouseListener(this);\n\n        list.setVisible(true);\n\n    }\n\npublic static void showInventory (ArrayList&lt;String&gt; theList) {\nfor (int i = 0; i &lt; theList.size(); i++) {\nSystem.out.println(theList.get(i));\n}\n}\n\n\n    public void mousePressed(MouseEvent e) { }\n\n    public void mouseReleased(MouseEvent e) {\n        Object index = list.getSelectedValue();\n       System.out.println(\"You have selected: \" + index);\n    }\n\n    public void mouseEntered(MouseEvent e) { }\n\n    public void mouseExited(MouseEvent e) { }\n\n    public void mouseClicked(MouseEvent e) { }\n\n\n\n\n    public void paint(Graphics g) {\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-boot-oauth2.1"],"owner":{"account_id":2341065,"reputation":736,"user_id":2052346,"accept_rate":76,"display_name":"sparks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":399,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683714165,"creation_date":1682436191,"question_id":76102880,"body_markdown":"I am trying to configure my spring boot app to use OAuth2 with Azure active directory. However, spring boot either isn&#39;t picking up application.yml file or my file isn&#39;t configured correctly, but I can&#39;t seem to find what is configured wrong.\r\n\r\nThe root error I am getting is \r\n&gt; Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;org.springframework.security.oauth2.client.registration.ClientRegistrationRepository&#39; available\r\n\r\nbut If I include a bean in my config file with similar setup, the tomcat server is able to startup successfully, but is pointing to the wrong endpoint. (`/oauth2/authorization/azure` vs the expected `/login/oauth2/code/`)\r\n\r\nI&#39;m using spring version 5.3.20, spring boot version 2.7.10, and spring security 5.6.9.Final\r\n\r\napplication.yml:\r\n```yml\r\nazure:\r\n  activedirectory:\r\n    client-id: {CLIENT ID}\r\n    client-secret: {CLIENT SECRET}\r\n    tenant-id: {TENANT ID}\r\n    authorization-clients:\r\n      facility-inventory:\r\n        scopes: openid, profile, user, offline_access\r\n        authorization-grant-type: client_credentials\r\nspring:\r\n  security:\r\n    oauth2:\r\n      client:\r\n        provider:          \r\n          azure-active-directory:\r\n            issuer-uri: https://login.microsoftonline.com/{ORG}/oauth2/v2.0 \r\n        registration:\r\n          azure:\r\n            provider: azure-active-directory\r\n            client-id: {CLIENT ID}\r\n            client-secret: {CLIENT SECRET}\r\n            scope: openid, profile, user, offline_access\r\n            authorization-uri: /login/oauth2/authorize/\r\n            redirect-uri: /login/oauth2/code/\r\n            authorization-grant-type: client_credentials\r\n            pre-established-redirect-uri: {Base URL}/login/oauth2/code/\r\n            registered-redirect-uri: {Base URL}/login/oauth2/code/\r\n            use-current-uri: false\r\n```\r\n\r\nJava Custom ClientRegistation definition:\r\n```java\r\n@Bean\r\npublic ClientRegistrationRepository clientRegistrationRepository() {\r\n\t\treturn new InMemoryClientRegistrationRepository(\r\n\t\t\tClientRegistration\r\n\t\t\t\t.withRegistrationId(&quot;azure&quot;)\r\n\t\t\t\t.clientId(&quot;{CLIENT ID}&quot;)\r\n\t\t\t\t.clientSecret(&quot;CLIENT SECRET&quot;)\r\n\t\t\t\t.clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_BASIC)\r\n\t\t\t\t.authorizationGrantType(AuthorizationGrantType.AUTHORIZATION_CODE)\r\n\t\t\t\t.redirectUri(&quot;/login/oauth2/code/*&quot;)\r\n\t\t\t\t.scope(&quot;openid&quot;, &quot;profile&quot;, &quot;email&quot;, &quot;address&quot;, &quot;phone&quot;)\r\n\t\t\t\t.authorizationUri(&quot;https://login.microsoftonline.com/{ORG}/oauth2/v2.0&quot;)\r\n\t\t\t\t.tokenUri(&quot;https://login.microsoftonline.com/{ORG}/oauth2/v2.0/token&quot;)\r\n\t\t\t\t.userNameAttributeName(IdTokenClaimNames.SUB)\r\n\t\t\t\t.clientName(&quot;Valuations-Mgmt-Tool_qa_ac_client&quot;)\r\n\t\t\t\t.build()\r\n\t\t\t);\r\n\t}\r\n```","title":"Spring Boot application.yml file misconfigured? Azure Active Directory OAuth2","body":"<p>I am trying to configure my spring boot app to use OAuth2 with Azure active directory. However, spring boot either isn't picking up application.yml file or my file isn't configured correctly, but I can't seem to find what is configured wrong.</p>\n<p>The root error I am getting is</p>\n<blockquote>\n<p>Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository' available</p>\n</blockquote>\n<p>but If I include a bean in my config file with similar setup, the tomcat server is able to startup successfully, but is pointing to the wrong endpoint. (<code>/oauth2/authorization/azure</code> vs the expected <code>/login/oauth2/code/</code>)</p>\n<p>I'm using spring version 5.3.20, spring boot version 2.7.10, and spring security 5.6.9.Final</p>\n<p>application.yml:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>azure:\n  activedirectory:\n    client-id: {CLIENT ID}\n    client-secret: {CLIENT SECRET}\n    tenant-id: {TENANT ID}\n    authorization-clients:\n      facility-inventory:\n        scopes: openid, profile, user, offline_access\n        authorization-grant-type: client_credentials\nspring:\n  security:\n    oauth2:\n      client:\n        provider:          \n          azure-active-directory:\n            issuer-uri: https://login.microsoftonline.com/{ORG}/oauth2/v2.0 \n        registration:\n          azure:\n            provider: azure-active-directory\n            client-id: {CLIENT ID}\n            client-secret: {CLIENT SECRET}\n            scope: openid, profile, user, offline_access\n            authorization-uri: /login/oauth2/authorize/\n            redirect-uri: /login/oauth2/code/\n            authorization-grant-type: client_credentials\n            pre-established-redirect-uri: {Base URL}/login/oauth2/code/\n            registered-redirect-uri: {Base URL}/login/oauth2/code/\n            use-current-uri: false\n</code></pre>\n<p>Java Custom ClientRegistation definition:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic ClientRegistrationRepository clientRegistrationRepository() {\n        return new InMemoryClientRegistrationRepository(\n            ClientRegistration\n                .withRegistrationId(&quot;azure&quot;)\n                .clientId(&quot;{CLIENT ID}&quot;)\n                .clientSecret(&quot;CLIENT SECRET&quot;)\n                .clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_BASIC)\n                .authorizationGrantType(AuthorizationGrantType.AUTHORIZATION_CODE)\n                .redirectUri(&quot;/login/oauth2/code/*&quot;)\n                .scope(&quot;openid&quot;, &quot;profile&quot;, &quot;email&quot;, &quot;address&quot;, &quot;phone&quot;)\n                .authorizationUri(&quot;https://login.microsoftonline.com/{ORG}/oauth2/v2.0&quot;)\n                .tokenUri(&quot;https://login.microsoftonline.com/{ORG}/oauth2/v2.0/token&quot;)\n                .userNameAttributeName(IdTokenClaimNames.SUB)\n                .clientName(&quot;Valuations-Mgmt-Tool_qa_ac_client&quot;)\n                .build()\n            );\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":406060,"reputation":21895,"user_id":775345,"accept_rate":96,"display_name":"Robert Moskal"},"score":0,"creation_date":1448542135,"post_id":33938997,"comment_id":55637318,"body_markdown":"It looks like they are built in. You can&#39;t just hit /log file or /health?","body":"It looks like they are built in. You can&#39;t just hit /log file or /health?"},{"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"score":0,"creation_date":1656709657,"post_id":33938997,"comment_id":128646697,"body_markdown":"none worked for me : java 8, 2022, &lt;version&gt;2.1.1.RELEASE&lt;/version&gt;","body":"none worked for me : java 8, 2022, &lt;version&gt;2.1.1.RELEASE&lt;/version&gt;"}],"answers":[{"comments":[{"owner":{"account_id":1790610,"reputation":542,"user_id":1631123,"display_name":"m0j0hn"},"score":0,"creation_date":1449261984,"post_id":33941707,"comment_id":55946367,"body_markdown":"I saw this in the docs, however I haven&#39;t been able to get this to work, either. I have tried in 1.2.5.RELEASE through 1.3.0.M5. Do you have any hints? Have you tried it yourself and observed it working?","body":"I saw this in the docs, however I haven&#39;t been able to get this to work, either. I have tried in 1.2.5.RELEASE through 1.3.0.M5. Do you have any hints? Have you tried it yourself and observed it working?"},{"owner":{"account_id":435280,"reputation":14323,"user_id":821786,"display_name":"Gergely Bacso"},"score":0,"creation_date":1449307768,"post_id":33941707,"comment_id":55957958,"body_markdown":"We have been using it for multiple applications, but we set these up approx 9 months ago and I do not remember experiencing any problem with it.","body":"We have been using it for multiple applications, but we set these up approx 9 months ago and I do not remember experiencing any problem with it."},{"owner":{"account_id":435280,"reputation":14323,"user_id":821786,"display_name":"Gergely Bacso"},"score":0,"creation_date":1449313199,"post_id":33941707,"comment_id":55959387,"body_markdown":"Probably you should start adding some code and pom.xml etc to this post.","body":"Probably you should start adding some code and pom.xml etc to this post."},{"owner":{"account_id":1790610,"reputation":542,"user_id":1631123,"display_name":"m0j0hn"},"score":0,"creation_date":1449767639,"post_id":33941707,"comment_id":56160099,"body_markdown":"fyi, I punted on the Spring Boot /logfile endpoint and wrote my own, named &#39;/logFile&#39;, so it doesn&#39;t collide in case I get /logfile working some day.","body":"fyi, I punted on the Spring Boot /logfile endpoint and wrote my own, named &#39;/logFile&#39;, so it doesn&#39;t collide in case I get /logfile working some day."},{"owner":{"account_id":1961640,"reputation":12136,"user_id":1763035,"accept_rate":56,"display_name":"Andy Brown"},"score":0,"creation_date":1474900784,"post_id":33941707,"comment_id":66709526,"body_markdown":"This is probably the correct answer. Refer to [EndpointWebMvcManagementContextConfiguration](https://github.com/spring-projects/spring-boot/blob/master/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/autoconfigure/EndpointWebMvcManagementContextConfiguration.java#L179) for spring&#39;s conditions for creating the MVC endpoints.","body":"This is probably the correct answer. Refer to <a href=\"https://github.com/spring-projects/spring-boot/blob/master/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/autoconfigure/EndpointWebMvcManagementContextConfiguration.java#L179\" rel=\"nofollow noreferrer\">EndpointWebMvcManagementContextConfiguration</a> for spring&#39;s conditions for creating the MVC endpoints."}],"tags":[],"owner":{"account_id":435280,"reputation":14323,"user_id":821786,"display_name":"Gergely Bacso"},"comment_count":5,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1610218323,"creation_date":1448550088,"answer_id":33941707,"question_id":33938997,"body_markdown":"In order to enable this feature, one of these two params need to be set:\r\n\r\n- `logging.file.name`\r\n- `logging.file.path`\r\n\r\n[Logging configuration][1]\r\n\r\nAfter that the endpoint should be enabled by default.\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-logging-file-output","title":"logfile endpoint in Spring Boot","body":"<p>In order to enable this feature, one of these two params need to be set:</p>\n<ul>\n<li><code>logging.file.name</code></li>\n<li><code>logging.file.path</code></li>\n</ul>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-logging-file-output\" rel=\"noreferrer\">Logging configuration</a></p>\n<p>After that the endpoint should be enabled by default.</p>\n"},{"tags":[],"owner":{"account_id":2466941,"reputation":1002,"user_id":2243408,"display_name":"lekant"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1610207309,"creation_date":1452641701,"answer_id":34755808,"question_id":33938997,"body_markdown":"`/logfile` was included in version [1.3.0+ only](https://github.com/spring-projects/spring-boot/blob/master/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/endpoint/mvc/LogFileMvcEndpoint.java#L51).\r\n\r\n\r\n\r\nIf you use an earlier version it will then not be present..","title":"logfile endpoint in Spring Boot","body":"<p><code>/logfile</code> was included in version <a href=\"https://github.com/spring-projects/spring-boot/blob/master/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/endpoint/mvc/LogFileMvcEndpoint.java#L51\" rel=\"nofollow noreferrer\">1.3.0+ only</a>.</p>\n<p>If you use an earlier version it will then not be present..</p>\n"},{"tags":[],"owner":{"account_id":11224625,"reputation":1109,"user_id":8234633,"accept_rate":64,"display_name":"Jan69"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1524151396,"creation_date":1524151396,"answer_id":49924752,"question_id":33938997,"body_markdown":"I added below code to enable /logfile endpoint\r\n\r\n    pom.xml\r\n    -----------\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\n\r\n    application.properties\r\n    -----------------------\r\n    \r\n    management.security.enabled=false\r\n    endpoints.env.enabled=false\r\n    endpoints.configprops.enabled=false\r\n    endpoints.autoconfig.enabled=false\r\n    endpoints.beans.enabled=false\r\n    endpoints.dump.enabled=true\r\n    endpoints.heapdump.enabled=true\r\n    logging.level.root=info\r\n    logging.file=target/app.log","title":"logfile endpoint in Spring Boot","body":"<p>I added below code to enable /logfile endpoint</p>\n\n<pre><code>pom.xml\n-----------\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\napplication.properties\n-----------------------\n\nmanagement.security.enabled=false\nendpoints.env.enabled=false\nendpoints.configprops.enabled=false\nendpoints.autoconfig.enabled=false\nendpoints.beans.enabled=false\nendpoints.dump.enabled=true\nendpoints.heapdump.enabled=true\nlogging.level.root=info\nlogging.file=target/app.log\n</code></pre>\n"},{"tags":[],"owner":{"account_id":53506,"reputation":676,"user_id":159972,"accept_rate":15,"display_name":"Allahbaksh Asadullah"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1575416235,"creation_date":1575416235,"answer_id":59166970,"question_id":33938997,"body_markdown":"I had below lines in my application.properties . I am using spring-boot with actuator\r\n\r\n    logging.file.name=./logs/log-file.log\r\n    management.endpoints.web.exposure.include=*\r\n\r\nWithout the management extension line, the response was\r\n\r\n    Whitelabel Error Page This application has no explicit mapping for /error, so you are seeing this as a fallback.\r\n    \r\n    Wed Dec 04 05:04:40 IST 2019 There was an unexpected error (type=Not Found, status=404). No message available\r\n","title":"logfile endpoint in Spring Boot","body":"<p>I had below lines in my application.properties . I am using spring-boot with actuator</p>\n\n<pre><code>logging.file.name=./logs/log-file.log\nmanagement.endpoints.web.exposure.include=*\n</code></pre>\n\n<p>Without the management extension line, the response was</p>\n\n<pre><code>Whitelabel Error Page This application has no explicit mapping for /error, so you are seeing this as a fallback.\n\nWed Dec 04 05:04:40 IST 2019 There was an unexpected error (type=Not Found, status=404). No message available\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3982217,"reputation":1,"user_id":3283865,"display_name":"user3283865"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585664297,"creation_date":1585664297,"answer_id":60952807,"question_id":33938997,"body_markdown":"I had used below for \r\n\r\n\r\nversion 2.1.3 -&gt; management.endpoint.logfile=C:/apps/Benefits-logs/adapt-rest.log\r\nas you can see class **LogFileWebEndpointProperties** \r\n\r\nand this also works\r\nlogging.file=C:/apps/Benefits-logs/adapt-rest.log\r\n\r\nNo need to add logging.path. If you see LogFileCondition class you will get to know.","title":"logfile endpoint in Spring Boot","body":"<p>I had used below for </p>\n\n<p>version 2.1.3 -> management.endpoint.logfile=C:/apps/Benefits-logs/adapt-rest.log\nas you can see class <strong>LogFileWebEndpointProperties</strong> </p>\n\n<p>and this also works\nlogging.file=C:/apps/Benefits-logs/adapt-rest.log</p>\n\n<p>No need to add logging.path. If you see LogFileCondition class you will get to know.</p>\n"},{"tags":[],"owner":{"account_id":2509435,"reputation":95,"user_id":2182274,"display_name":"Yves-Marie L."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683713964,"creation_date":1683713964,"answer_id":76217262,"question_id":33938997,"body_markdown":"I&#39;m using Spring Boot 2.7.5 and using the config server.\r\n\r\nAlthough I noticed that logging.file.name works when the application.properties is embedded in the project, it didn&#39;t work when configured in the config server.\r\n\r\nI had to use this property:\r\n\r\n    management.endpoint.logfile.external-file=${logging.file.name}","title":"logfile endpoint in Spring Boot","body":"<p>I'm using Spring Boot 2.7.5 and using the config server.</p>\n<p>Although I noticed that logging.file.name works when the application.properties is embedded in the project, it didn't work when configured in the config server.</p>\n<p>I had to use this property:</p>\n<pre><code>management.endpoint.logfile.external-file=${logging.file.name}\n</code></pre>\n"}],"owner":{"account_id":1559437,"reputation":11728,"user_id":1449676,"accept_rate":37,"display_name":"ps-aux"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21995,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":34755808,"answer_count":6,"score":14,"last_activity_date":1683713964,"creation_date":1448541625,"question_id":33938997,"body_markdown":"I read Spring Boot Actuator [documentation][1] and saw `logfile` endpoint mentioned there which would really come in handy.\r\n\r\nHowever this endpoint is not registered in my app and I have no idea how to make it available. What is needed here? \r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-endpoints.html#production-ready-customizing-endpoints","title":"logfile endpoint in Spring Boot","body":"<p>I read Spring Boot Actuator <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-endpoints.html#production-ready-customizing-endpoints\" rel=\"noreferrer\">documentation</a> and saw <code>logfile</code> endpoint mentioned there which would really come in handy.</p>\n\n<p>However this endpoint is not registered in my app and I have no idea how to make it available. What is needed here? </p>\n"},{"tags":["java","spring-boot","gradle","ldap","spring-ldap"],"answers":[{"comments":[{"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"score":0,"creation_date":1659423228,"post_id":73203114,"comment_id":129284669,"body_markdown":"changed but same error ;-(","body":"changed but same error ;-("},{"owner":{"account_id":12952658,"reputation":2391,"user_id":9364437,"display_name":"Shrikant Wandhare"},"score":0,"creation_date":1682535051,"post_id":73203114,"comment_id":134233203,"body_markdown":"Worked in my case. Thanks a lot @dekkard.\n--add-exports java.naming/com.sun.jndi.ldap=ALL-UNNAMED","body":"Worked in my case. Thanks a lot @dekkard. --add-exports java.naming/com.sun.jndi.ldap=ALL-UNNAMED"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1702098546,"post_id":73203114,"comment_id":136858539,"body_markdown":"This is a bad solution.   See https://stackoverflow.com/a/76217255/139985 for thew correct solution.","body":"This is a bad solution.   See <a href=\"https://stackoverflow.com/a/76217255/139985\">stackoverflow.com/a/76217255/139985</a> for thew correct solution."}],"tags":[],"owner":{"account_id":5795637,"reputation":7297,"user_id":4571544,"display_name":"dekkard"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1659425453,"creation_date":1659422960,"answer_id":73203114,"question_id":73202366,"body_markdown":"Try adding `--add-exports java.naming/com.sun.jndi.ldap=ALL-UNNAMED` instead of `--add-exports java.naming/com.sun.jndi.ldap=spring.ldap.core` to your JVM arguments.\r\n\r\nBut a better solution would be to align all the dependency versions with the Spring Boot version you use (2.6.6):\r\n- for `org.springframework.boot:spring-boot-starter-security` either remove the version or set `2.6.6`\r\n- `org.springframework.security:spring-security-ldap:5.4.3` is too old, should be at least version *5.6.2*. With this one chances are you won&#39;t need any explicit `--add-exports` at all.\r\n- remove `org.springframework.ldap:spring-ldap-core` - `org.springframework.security:spring-security-ldap` brings it in automatically.","title":"LdapCtxFactory because module java.naming does not export com.sun.jndi.ldap to unnamed module","body":"<p>Try adding <code>--add-exports java.naming/com.sun.jndi.ldap=ALL-UNNAMED</code> instead of <code>--add-exports java.naming/com.sun.jndi.ldap=spring.ldap.core</code> to your JVM arguments.</p>\n<p>But a better solution would be to align all the dependency versions with the Spring Boot version you use (2.6.6):</p>\n<ul>\n<li>for <code>org.springframework.boot:spring-boot-starter-security</code> either remove the version or set <code>2.6.6</code></li>\n<li><code>org.springframework.security:spring-security-ldap:5.4.3</code> is too old, should be at least version <em>5.6.2</em>. With this one chances are you won't need any explicit <code>--add-exports</code> at all.</li>\n<li>remove <code>org.springframework.ldap:spring-ldap-core</code> - <code>org.springframework.security:spring-security-ldap</code> brings it in automatically.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":26342788,"reputation":41,"user_id":20001640,"display_name":"Marco"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1663773386,"creation_date":1663773386,"answer_id":73803225,"question_id":73202366,"body_markdown":"For me it worked to add:\r\n```\r\n--add-opens=java.naming/com.sun.jndi.ldap=ALL-UNNAMED\r\n```\r\ninstead of --add-exports","title":"LdapCtxFactory because module java.naming does not export com.sun.jndi.ldap to unnamed module","body":"<p>For me it worked to add:</p>\n<pre><code>--add-opens=java.naming/com.sun.jndi.ldap=ALL-UNNAMED\n</code></pre>\n<p>instead of --add-exports</p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1702098541,"post_id":76217255,"comment_id":136858537,"body_markdown":"Yup.  For Java 17 you need SpringBoot 3.x. Earlier versions of Spring do naughty things that involve accessing JDK internals.  Java 17 says to Spring &quot;No dude ... don&#39;t do that&quot;.","body":"Yup.  For Java 17 you need SpringBoot 3.x. Earlier versions of Spring do naughty things that involve accessing JDK internals.  Java 17 says to Spring &quot;No dude ... don&#39;t do that&quot;."}],"tags":[],"owner":{"account_id":6850354,"reputation":95,"user_id":5267710,"display_name":"Vincent Jyotirmoy Singha - JS"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683713930,"creation_date":1683713930,"answer_id":76217255,"question_id":73202366,"body_markdown":"This solution may be applicable to those who don&#39;t want to use `--add-exports` explicitly.\r\n&lt;br&gt;In my case, the issue was resolved after upgrading and using correct ldap core jar. Previously it was using *2.2.0.RELEASE* version.\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.ldap&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-ldap-core&lt;/artifactId&gt;\r\n        &lt;!-- version&gt;2.2.0.RELEASE&lt;/version --&gt;\r\n\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t&lt;/dependency&gt;","title":"LdapCtxFactory because module java.naming does not export com.sun.jndi.ldap to unnamed module","body":"<p>This solution may be applicable to those who don't want to use <code>--add-exports</code> explicitly.\n<br>In my case, the issue was resolved after upgrading and using correct ldap core jar. Previously it was using <em>2.2.0.RELEASE</em> version.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.ldap&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-ldap-core&lt;/artifactId&gt;\n    &lt;!-- version&gt;2.2.0.RELEASE&lt;/version --&gt;\n    &lt;version&gt;3.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7718,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":73203114,"answer_count":3,"score":4,"last_activity_date":1683713930,"creation_date":1659418159,"question_id":73202366,"body_markdown":"WebSecurityConfigurerAdapter:\r\n```\r\n@Component\r\n@EnableWebSecurity\r\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter\r\n{\r\n   @Override\r\n   protected void configure(HttpSecurity httpSecurity) throws Exception\r\n   {\r\n      httpSecurity\r\n               .authorizeRequests()\r\n               .antMatchers(&quot;/abc/**&quot;).permitAll()\r\n               .anyRequest()\r\n               .authenticated()\r\n               .and()\r\n               .csrf()\r\n               .disable()\r\n               .httpBasic();\r\n   }\r\n\r\n   @Override\r\n   public void configure(AuthenticationManagerBuilder auth) throws Exception\r\n   {\r\n      auth.ldapAuthentication()\r\n          .userDnPatterns(&quot;uid={0},ou=people&quot;)\r\n          .userSearchBase(&quot;ou=people&quot;)\r\n          .userSearchFilter(&quot;uid={0}&quot;)\r\n          .groupSearchBase(&quot;ou=groups&quot;)\r\n          .groupSearchFilter(&quot;uniqueMember={0}&quot;)\r\n          .contextSource()\r\n          .url(&quot;ldap://localhost:8389/dc=concretepage,dc=com&quot;)\r\n          .and()\r\n          .passwordCompare()\r\n          .passwordEncoder(passwordEncoder())\r\n          .passwordAttribute(&quot;userPassword&quot;);\r\n   }\r\n\r\n   @Bean\r\n   public PasswordEncoder passwordEncoder() {\r\n      BCryptPasswordEncoder passwordEncoder = new BCryptPasswordEncoder();\r\n      return passwordEncoder;\r\n   }\r\n```\r\n\r\nSpring-Version: `SPRING_BOOT_VERSION = &quot;2.6.6&quot;`\r\n\r\n```\r\nplugins {\r\n    id &#39;java-library&#39;\r\n}\r\n\r\ndependencies {\r\n    implementation &quot;org.springframework.boot:spring-boot:${SPRING_BOOT_VERSION}&quot;\r\n    implementation &quot;org.springframework.boot:spring-boot-starter-web:${SPRING_BOOT_VERSION}&quot;\r\n    implementation &quot;org.springframework.boot:spring-boot-starter-thymeleaf:${SPRING_BOOT_VERSION}&quot;\r\n\r\n    api &quot;javax.servlet:javax.servlet-api:${JAVAX_SERVLET_VERSION}&quot;\r\n\r\n    compileOnly &#39;io.crnk:crnk-gen-java&#39; \r\n    annotationProcessor &#39;io.crnk:crnk-gen-java&#39;\r\n\r\n    gradle.beforeProject { Project project -&gt;\r\n        project.with {\r\n            apply plugin: &#39;io.spring.dependency-management&#39;\r\n            dependencyManagement {\r\n                imports {\r\n                    mavenBom &quot;io.crnk:crnk-bom:${CRNK_VERSION}&quot;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    implementation platform(&quot;io.crnk:crnk-bom:${CRNK_VERSION}&quot;)\r\n    annotationProcessor platform(&quot;io.crnk:crnk-bom:${CRNK_VERSION}&quot;)\r\n\r\n    implementation &quot;io.crnk:crnk-setup-spring-boot2&quot;\r\n    implementation &quot;io.crnk:crnk-home&quot;\r\n\r\n    implementation &quot;io.crnk:crnk-security&quot;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-security:2.7.2&#39;\r\n    implementation &#39;org.springframework.ldap:spring-ldap-core&#39;\r\n    implementation &#39;org.springframework.security:spring-security-ldap:5.4.3&#39;\r\n    implementation &#39;com.unboundid:unboundid-ldapsdk:4.0.14&#39;\r\n\r\n    testImplementation(&quot;org.springframework.boot:spring-boot-starter-test:${SPRING_BOOT_VERSION}&quot;)\r\n}\r\n\r\n```\r\n\r\ngradle.properties:\r\n```\r\nsystemProp.http.ssl.insecure=true\r\nsystemProp.http.ssl.allowall=true\r\nsystemProp.http.ssl.ignore.validity.dates=true\r\n\r\norg.gradle.jvmargs=-Djavax.net.ssl.trustStore=&quot;./cacerts&quot; -Djavax.net.ssl.trustStorePassword=changeit \\\r\n  --add-exports java.naming/com.sun.jndi.ldap=spring.ldap.core\r\n```\r\n\r\n./gradlew --version  \r\n```\r\n------------------------------------------------------------\r\nGradle 7.4.2\r\n------------------------------------------------------------\r\n\r\nBuild time:   2022-03-31 15:25:29 UTC\r\nRevision:     540473b8118064efcc264694cbcaa4b677f61041\r\n\r\nKotlin:       1.5.31\r\nGroovy:       3.0.9\r\nAnt:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\r\nJVM:          17.0.2 (Oracle Corporation 17.0.2+8-86)\r\nOS:           Windows 10 10.0 amd64\r\n\r\n```\r\n\r\nThe error:\r\n```\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2022.08.02 07:16:32.051 [main] ERROR o.s.boot.SpringApplication:830 - Application run failed\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;springSecurityFilterChain&#39; defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method &#39;springSecurityFilterChain&#39; threw exception; nested exception is java.lang.IllegalAccessError: class org.springframework.ldap.core.support.AbstractContextSource (in unnamed module @0x1d296da) cannot access class com.sun.jndi.ldap.LdapCtxFactory (in module java.naming) because module java.naming does not export com.sun.jndi.ldap to unnamed module @0x1d296da\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1312)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1301)\r\n```","title":"LdapCtxFactory because module java.naming does not export com.sun.jndi.ldap to unnamed module","body":"<p>WebSecurityConfigurerAdapter:</p>\n<pre><code>@Component\n@EnableWebSecurity\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter\n{\n   @Override\n   protected void configure(HttpSecurity httpSecurity) throws Exception\n   {\n      httpSecurity\n               .authorizeRequests()\n               .antMatchers(&quot;/abc/**&quot;).permitAll()\n               .anyRequest()\n               .authenticated()\n               .and()\n               .csrf()\n               .disable()\n               .httpBasic();\n   }\n\n   @Override\n   public void configure(AuthenticationManagerBuilder auth) throws Exception\n   {\n      auth.ldapAuthentication()\n          .userDnPatterns(&quot;uid={0},ou=people&quot;)\n          .userSearchBase(&quot;ou=people&quot;)\n          .userSearchFilter(&quot;uid={0}&quot;)\n          .groupSearchBase(&quot;ou=groups&quot;)\n          .groupSearchFilter(&quot;uniqueMember={0}&quot;)\n          .contextSource()\n          .url(&quot;ldap://localhost:8389/dc=concretepage,dc=com&quot;)\n          .and()\n          .passwordCompare()\n          .passwordEncoder(passwordEncoder())\n          .passwordAttribute(&quot;userPassword&quot;);\n   }\n\n   @Bean\n   public PasswordEncoder passwordEncoder() {\n      BCryptPasswordEncoder passwordEncoder = new BCryptPasswordEncoder();\n      return passwordEncoder;\n   }\n</code></pre>\n<p>Spring-Version: <code>SPRING_BOOT_VERSION = &quot;2.6.6&quot;</code></p>\n<pre><code>plugins {\n    id 'java-library'\n}\n\ndependencies {\n    implementation &quot;org.springframework.boot:spring-boot:${SPRING_BOOT_VERSION}&quot;\n    implementation &quot;org.springframework.boot:spring-boot-starter-web:${SPRING_BOOT_VERSION}&quot;\n    implementation &quot;org.springframework.boot:spring-boot-starter-thymeleaf:${SPRING_BOOT_VERSION}&quot;\n\n    api &quot;javax.servlet:javax.servlet-api:${JAVAX_SERVLET_VERSION}&quot;\n\n    compileOnly 'io.crnk:crnk-gen-java' \n    annotationProcessor 'io.crnk:crnk-gen-java'\n\n    gradle.beforeProject { Project project -&gt;\n        project.with {\n            apply plugin: 'io.spring.dependency-management'\n            dependencyManagement {\n                imports {\n                    mavenBom &quot;io.crnk:crnk-bom:${CRNK_VERSION}&quot;\n                }\n            }\n        }\n    }\n\n\n    implementation platform(&quot;io.crnk:crnk-bom:${CRNK_VERSION}&quot;)\n    annotationProcessor platform(&quot;io.crnk:crnk-bom:${CRNK_VERSION}&quot;)\n\n    implementation &quot;io.crnk:crnk-setup-spring-boot2&quot;\n    implementation &quot;io.crnk:crnk-home&quot;\n\n    implementation &quot;io.crnk:crnk-security&quot;\n    implementation 'org.springframework.boot:spring-boot-starter-security:2.7.2'\n    implementation 'org.springframework.ldap:spring-ldap-core'\n    implementation 'org.springframework.security:spring-security-ldap:5.4.3'\n    implementation 'com.unboundid:unboundid-ldapsdk:4.0.14'\n\n    testImplementation(&quot;org.springframework.boot:spring-boot-starter-test:${SPRING_BOOT_VERSION}&quot;)\n}\n\n</code></pre>\n<p>gradle.properties:</p>\n<pre><code>systemProp.http.ssl.insecure=true\nsystemProp.http.ssl.allowall=true\nsystemProp.http.ssl.ignore.validity.dates=true\n\norg.gradle.jvmargs=-Djavax.net.ssl.trustStore=&quot;./cacerts&quot; -Djavax.net.ssl.trustStorePassword=changeit \\\n  --add-exports java.naming/com.sun.jndi.ldap=spring.ldap.core\n</code></pre>\n<p>./gradlew --version</p>\n<pre><code>------------------------------------------------------------\nGradle 7.4.2\n------------------------------------------------------------\n\nBuild time:   2022-03-31 15:25:29 UTC\nRevision:     540473b8118064efcc264694cbcaa4b677f61041\n\nKotlin:       1.5.31\nGroovy:       3.0.9\nAnt:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\nJVM:          17.0.2 (Oracle Corporation 17.0.2+8-86)\nOS:           Windows 10 10.0 amd64\n\n</code></pre>\n<p>The error:</p>\n<pre><code>Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022.08.02 07:16:32.051 [main] ERROR o.s.boot.SpringApplication:830 - Application run failed\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springSecurityFilterChain' defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is java.lang.IllegalAccessError: class org.springframework.ldap.core.support.AbstractContextSource (in unnamed module @0x1d296da) cannot access class com.sun.jndi.ldap.LdapCtxFactory (in module java.naming) because module java.naming does not export com.sun.jndi.ldap to unnamed module @0x1d296da\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301)\n</code></pre>\n"},{"tags":["java","user-interface","jframe","jpanel","border-layout"],"comments":[{"owner":{"account_id":27042470,"reputation":11,"user_id":20597124,"display_name":"catlover"},"score":0,"creation_date":1683717166,"post_id":76217228,"comment_id":134408520,"body_markdown":"I think the MouseEvent is only listened when I click on the center part of the Frame. I was wondering if the JPanel that is added to the CENTER section automatically extends to other areas that are not occupied if the rest of the BorderLayout has no components, is that right?","body":"I think the MouseEvent is only listened when I click on the center part of the Frame. I was wondering if the JPanel that is added to the CENTER section automatically extends to other areas that are not occupied if the rest of the BorderLayout has no components, is that right?"},{"owner":{"account_id":27042470,"reputation":11,"user_id":20597124,"display_name":"catlover"},"score":0,"creation_date":1683721368,"post_id":76217228,"comment_id":134409586,"body_markdown":"Oh! Roger that, thank you for your explaination!","body":"Oh! Roger that, thank you for your explaination!"}],"owner":{"account_id":27042470,"reputation":11,"user_id":20597124,"display_name":"catlover"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683713732,"creation_date":1683713732,"question_id":76217228,"body_markdown":"I am trying to set a **BorderLayout** of my JFrame.\r\n\r\nFirstly create a **FlowLayout** with two JButtons. Then add the FlowLayout the top of BorderLayout. It works correctly according to my code.\r\n\r\nSecondly, I created a **MyPanel** object which is inherited from **JPanel**. There is a **MouseAdapter** to realize when the mouse left click panel output mouse coordinates.\r\n\r\nEverything works fine but I found the MouseEvent will be listened and output the coordinate wherever I click the mouse except the top panel.\r\n\r\nMy question is: Wouldn&#39;t the mouse event be triggered only if I clicked on the middle part of the frame, because I added the mouse listener to MyPanel, which was added to the **CENTER** position of BorderLayout.\r\n\r\nFollowing is my code:\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.event.*;\r\npublic class MyPanel extends JPanel{\r\n\tpublic MyPanel() {\r\n\t\t//anonymous class to listen mouse \r\n\t\tthis.addMouseListener(new MouseAdapter() {\r\n\t\t\t@Override\r\n\t\t\tpublic void mouseClicked(MouseEvent e) {\r\n\t\t\t\t//if left click\r\n\t\t\t\tif (e.getButton() == MouseEvent.BUTTON1) {\r\n                    //print location message\r\n                    System.out.println(&quot;Left button clicked at position (&quot; + e.getX() + &quot;, &quot; + e.getY() + &quot;)&quot;);\r\n                }\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n```\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\npublic class MyFrame extends JFrame{\r\n\tpublic MyFrame() {\r\n\t\t//initial settings of frame\r\n\t\tthis.setSize(400, 300);\r\n\t\tthis.setTitle(&quot;MyFrame Title&quot;);\r\n\t\tthis.setLocationRelativeTo(null);\r\n\t\tthis.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t//set layout of frame\r\n\t\tBorderLayout l1 = new BorderLayout();\r\n\t\tthis.setLayout(l1);\r\n\t\t\r\n\t\t//set top panel\r\n\t\tJPanel top = new JPanel(new FlowLayout(FlowLayout.CENTER));\r\n\t\t//buttons in top panel\r\n\t\tJButton b1 = new JButton(&quot;Left&quot;);\r\n\t\tJButton b2 = new JButton(&quot;Right&quot;);\r\n\t\t//add to top of frame\r\n\t\tthis.add(top,BorderLayout.PAGE_START);\r\n\t\t\r\n\t\t//add my panel to center of frame\r\n\t\tMyPanel center = new MyPanel();\r\n\t\tthis.add(center,BorderLayout.CENTER);\r\n\t\t//add buttons\r\n\t\ttop.add(b1);\r\n\t\ttop.add(b2);\r\n\t\t\r\n\t\t//make it visible\r\n\t\tthis.setVisible(true);\r\n\t}\r\n}\r\n```","title":"Question about JPanel cover the whole area of BorderLayout when using BorderLayout.CENTER","body":"<p>I am trying to set a <strong>BorderLayout</strong> of my JFrame.</p>\n<p>Firstly create a <strong>FlowLayout</strong> with two JButtons. Then add the FlowLayout the top of BorderLayout. It works correctly according to my code.</p>\n<p>Secondly, I created a <strong>MyPanel</strong> object which is inherited from <strong>JPanel</strong>. There is a <strong>MouseAdapter</strong> to realize when the mouse left click panel output mouse coordinates.</p>\n<p>Everything works fine but I found the MouseEvent will be listened and output the coordinate wherever I click the mouse except the top panel.</p>\n<p>My question is: Wouldn't the mouse event be triggered only if I clicked on the middle part of the frame, because I added the mouse listener to MyPanel, which was added to the <strong>CENTER</strong> position of BorderLayout.</p>\n<p>Following is my code:</p>\n<pre><code>import javax.swing.*;\nimport java.awt.event.*;\npublic class MyPanel extends JPanel{\n    public MyPanel() {\n        //anonymous class to listen mouse \n        this.addMouseListener(new MouseAdapter() {\n            @Override\n            public void mouseClicked(MouseEvent e) {\n                //if left click\n                if (e.getButton() == MouseEvent.BUTTON1) {\n                    //print location message\n                    System.out.println(&quot;Left button clicked at position (&quot; + e.getX() + &quot;, &quot; + e.getY() + &quot;)&quot;);\n                }\n            }\n        });\n    }\n}\n</code></pre>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\npublic class MyFrame extends JFrame{\n    public MyFrame() {\n        //initial settings of frame\n        this.setSize(400, 300);\n        this.setTitle(&quot;MyFrame Title&quot;);\n        this.setLocationRelativeTo(null);\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        //set layout of frame\n        BorderLayout l1 = new BorderLayout();\n        this.setLayout(l1);\n        \n        //set top panel\n        JPanel top = new JPanel(new FlowLayout(FlowLayout.CENTER));\n        //buttons in top panel\n        JButton b1 = new JButton(&quot;Left&quot;);\n        JButton b2 = new JButton(&quot;Right&quot;);\n        //add to top of frame\n        this.add(top,BorderLayout.PAGE_START);\n        \n        //add my panel to center of frame\n        MyPanel center = new MyPanel();\n        this.add(center,BorderLayout.CENTER);\n        //add buttons\n        top.add(b1);\n        top.add(b2);\n        \n        //make it visible\n        this.setVisible(true);\n    }\n}\n</code></pre>\n"},{"tags":["java","date","time","timedelta","java.util.date"],"comments":[{"owner":{"account_id":17514,"reputation":21306,"user_id":39277,"accept_rate":94,"display_name":"Doctor Jones"},"score":12,"creation_date":1336043656,"post_id":1555262,"comment_id":13461123,"body_markdown":"Why no love for joda time?  It&#39;s pretty much the best option if you&#39;re going to deal with dates in java.","body":"Why no love for joda time?  It&#39;s pretty much the best option if you&#39;re going to deal with dates in java."},{"owner":{"account_id":30319,"reputation":90360,"user_id":82609,"accept_rate":84,"display_name":"Sebastien Lorber"},"score":9,"creation_date":1363087194,"post_id":1555262,"comment_id":21699995,"body_markdown":"Please check my elegant 2 liner solution, without using Joda and giving the result in any TimeUnit at http://stackoverflow.com/a/10650881/82609","body":"Please check my elegant 2 liner solution, without using Joda and giving the result in any TimeUnit at <a href=\"http://stackoverflow.com/a/10650881/82609\">stackoverflow.com/a/10650881/82609</a>"},{"owner":{"account_id":1967071,"reputation":1336,"user_id":1767021,"accept_rate":76,"display_name":"deldev"},"score":0,"creation_date":1406138094,"post_id":1555262,"comment_id":38715460,"body_markdown":"try this: http://www.mkyong.com/java/how-to-calculate-date-time-difference-in-java/","body":"try this: <a href=\"http://www.mkyong.com/java/how-to-calculate-date-time-difference-in-java/\" rel=\"nofollow noreferrer\">mkyong.com/java/how-to-calculate-date-time-difference-in-jav&zwnj;&#8203;a</a>"},{"owner":{"account_id":5390835,"reputation":4928,"user_id":4293417,"accept_rate":92,"display_name":"Zizouz212"},"score":8,"creation_date":1451486943,"post_id":1555262,"comment_id":56804772,"body_markdown":"Shame on all those who recommend Joda time, and don&#39;t recommending a true Java answer...","body":"Shame on all those who recommend Joda time, and don&#39;t recommending a true Java answer..."},{"owner":{"account_id":35628,"reputation":26827,"user_id":100970,"display_name":"Ceki"},"score":0,"creation_date":1458297160,"post_id":1555262,"comment_id":59808449,"body_markdown":"For most of the solutions outlined here and elsewhere, they are inaccurate when Daylight savings time (DST) is taken into account. Indeed, when 24 hours are added to Saturday 2016-03-26T23:30 CET, the resulting date is  2016-03-28T00:30 CET and two day frontiers are crossed, Indeed, DST goes into effect on Sunday 2016-03-27T02:00 Central European Time. The DST issue is not specific to CET and occurs each tme the period being considered contains DST going into effect.","body":"For most of the solutions outlined here and elsewhere, they are inaccurate when Daylight savings time (DST) is taken into account. Indeed, when 24 hours are added to Saturday 2016-03-26T23:30 CET, the resulting date is  2016-03-28T00:30 CET and two day frontiers are crossed, Indeed, DST goes into effect on Sunday 2016-03-27T02:00 Central European Time. The DST issue is not specific to CET and occurs each tme the period being considered contains DST going into effect."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":5,"creation_date":1477510996,"post_id":1555262,"comment_id":67801732,"body_markdown":"@Zizouz212 Regarding recommending Joda-Time, the old date-time classes bundled with Java are bad, real bad, poorly-designed, confusing, and troublesome. So bad that Joda-Time became hugely successful as their replacement. So bad that even Sun/Oracle gave up on them, and adopted the java.time package as part of Java 8 and later. The java.time classes are inspired by Joda-Time. Both Joda-Time and java.time are led by the same man, [Stephen Colbourne](http://stackoverflow.com/users/38896/jodastephen). I would say, Shame on anyone recommending use of `Date`, `Calendar`, and `SimpleDateFormat`.","body":"@Zizouz212 Regarding recommending Joda-Time, the old date-time classes bundled with Java are bad, real bad, poorly-designed, confusing, and troublesome. So bad that Joda-Time became hugely successful as their replacement. So bad that even Sun/Oracle gave up on them, and adopted the java.time package as part of Java 8 and later. The java.time classes are inspired by Joda-Time. Both Joda-Time and java.time are led by the same man, <a href=\"http://stackoverflow.com/users/38896/jodastephen\">Stephen Colbourne</a>. I would say, Shame on anyone recommending use of <code>Date</code>, <code>Calendar</code>, and <code>SimpleDateFormat</code>."},{"owner":{"account_id":7196907,"reputation":1682,"user_id":5495432,"accept_rate":80,"display_name":"pl&#225;tano plomo"},"score":0,"creation_date":1478906262,"post_id":1555262,"comment_id":68353321,"body_markdown":"@BasilBourque OP asked for a &quot;simpler, nicer way to get a time delta&quot;; a quick, two line diff seems simpler/nicer than requiring an external dependency.","body":"@BasilBourque OP asked for a &quot;simpler, nicer way to get a time delta&quot;; a quick, two line diff seems simpler/nicer than requiring an external dependency."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":4,"creation_date":1487234764,"post_id":1555262,"comment_id":71694037,"body_markdown":"While Joda Time was probably a good answer when the question was asked, today the best answer for anyone who can use Java 8 is to use `java.time.Period` and/or `Duration`. See [Basil Bourques answer below](http://stackoverflow.com/a/22588328/5772882).","body":"While Joda Time was probably a good answer when the question was asked, today the best answer for anyone who can use Java 8 is to use <code>java.time.Period</code> and/or <code>Duration</code>. See <a href=\"http://stackoverflow.com/a/22588328/5772882\">Basil Bourques answer below</a>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1491994622,"post_id":1555262,"comment_id":73796863,"body_markdown":"You may also look at [Calculate days between two dates in Java 8](http://stackoverflow.com/questions/27005861/calculate-days-between-two-dates-in-java-8). And still avoid any external dependency.","body":"You may also look at <a href=\"http://stackoverflow.com/questions/27005861/calculate-days-between-two-dates-in-java-8\">Calculate days between two dates in Java 8</a>. And still avoid any external dependency."}],"answers":[{"tags":[],"owner":{"account_id":23503,"reputation":28545,"user_id":58956,"accept_rate":91,"display_name":"gustafc"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1255362410,"creation_date":1255362107,"answer_id":1555296,"question_id":1555262,"body_markdown":"Not using the standard API, no. You can roll your own doing something like this:\r\n\r\n    class Duration {\r\n        private final TimeUnit unit;\r\n        private final long length;\r\n        // ...\r\n    }\r\n\r\nOr you can use [Joda][1]:\r\n\r\n    DateTime a = ..., b = ...;\r\n    Duration d = new Duration(a, b);\r\n\r\n  [1]: http://joda-time.sourceforge.net/","title":"Calculating the difference between two Java date instances","body":"<p>Not using the standard API, no. You can roll your own doing something like this:</p>\n\n<pre><code>class Duration {\n    private final TimeUnit unit;\n    private final long length;\n    // ...\n}\n</code></pre>\n\n<p>Or you can use <a href=\"http://joda-time.sourceforge.net/\" rel=\"nofollow noreferrer\">Joda</a>:</p>\n\n<pre><code>DateTime a = ..., b = ...;\nDuration d = new Duration(a, b);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":30420,"reputation":3100,"user_id":82970,"accept_rate":96,"display_name":"Scott Morrison"},"score":0,"creation_date":1292214810,"post_id":1555307,"comment_id":4829957,"body_markdown":"btw -- you mean `Comparable.compareTo()`, not `Comparable.compare()`.","body":"btw -- you mean <code>Comparable.compareTo()</code>, not <code>Comparable.compare()</code>."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1403715325,"post_id":1555307,"comment_id":37769270,"body_markdown":"Joda-Time has three classes to portray a span of time in various ways: Interval, Duration, and Period. This correct answer discusses this first two. See [my answer](http://stackoverflow.com/a/22588328/642706) for info about Period.","body":"Joda-Time has three classes to portray a span of time in various ways: Interval, Duration, and Period. This correct answer discusses this first two. See <a href=\"http://stackoverflow.com/a/22588328/642706\">my answer</a> for info about Period."},{"owner":{"account_id":1566273,"reputation":16719,"user_id":1455016,"accept_rate":43,"display_name":"tbodt"},"score":0,"creation_date":1403739043,"post_id":1555307,"comment_id":37780444,"body_markdown":"Java 8 has a new date and time api like joda.","body":"Java 8 has a new date and time api like joda."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":14,"creation_date":1403764130,"post_id":1555307,"comment_id":37786452,"body_markdown":"The new [`java.time`](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) package in Java 8 is inspired by Joda-Time but is not a drop-in replacement. Each has its pros and cons. Fortunately you don&#39;t have to choose between them. Use each for its strengths as long as you are careful with your `import` statements. See [this other answer](http://stackoverflow.com/a/23184523/642706) for example of java.time.","body":"The new <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><code>java.time</code></a> package in Java 8 is inspired by Joda-Time but is not a drop-in replacement. Each has its pros and cons. Fortunately you don&#39;t have to choose between them. Use each for its strengths as long as you are careful with your <code>import</code> statements. See <a href=\"http://stackoverflow.com/a/23184523/642706\">this other answer</a> for example of java.time."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":7,"creation_date":1493954131,"post_id":1555307,"comment_id":74632274,"body_markdown":"FYI, the [Joda-Time](http://www.joda.org/joda-time/) project is now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), with the team advising migration to the [java.time](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) classes. See [Tutorial by Oracle](https://docs.oracle.com/javase/tutorial/datetime/TOC.html).","body":"FYI, the <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda-Time</a> project is now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, with the team advising migration to the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes. See <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\">Tutorial by Oracle</a>."},{"owner":{"account_id":8767617,"reputation":133,"user_id":6555495,"display_name":"Vishesh"},"score":0,"creation_date":1647551284,"post_id":1555307,"comment_id":126406521,"body_markdown":"How to convert LocalDatee to ReadableInstant?","body":"How to convert LocalDatee to ReadableInstant?"}],"tags":[],"owner":{"account_id":43112,"reputation":58953,"user_id":125844,"accept_rate":85,"display_name":"notnoop"},"comment_count":6,"down_vote_count":11,"up_vote_count":226,"is_accepted":true,"score":215,"last_activity_date":1549361230,"creation_date":1255362201,"answer_id":1555307,"question_id":1555262,"body_markdown":"The JDK `Date` API is horribly broken unfortunately.  I recommend using [Joda Time library](https://www.joda.org/joda-time/).\r\n\r\nJoda Time has a concept of time [Interval](https://www.joda.org/joda-time/key_interval.html):\r\n\r\n    Interval interval = new Interval(oldTime, new Instant());\r\n\r\nEDIT: By the way, Joda has two concepts: `Interval` for representing an interval of time between two time instants (represent time between 8am and 10am), and a `Duration` that represents a length of time without the actual time boundaries (e.g. represent two hours!)\r\n\r\nIf you only care about time comparisions, most `Date` implementations (including the JDK one) implements `Comparable` interface which allows you to use the [`Comparable.compareTo()`](http://java.sun.com/javase/6/docs/api/java/lang/Comparable.html#compareTo(T))","title":"Calculating the difference between two Java date instances","body":"<p>The JDK <code>Date</code> API is horribly broken unfortunately.  I recommend using <a href=\"https://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda Time library</a>.</p>\n\n<p>Joda Time has a concept of time <a href=\"https://www.joda.org/joda-time/key_interval.html\" rel=\"noreferrer\">Interval</a>:</p>\n\n<pre><code>Interval interval = new Interval(oldTime, new Instant());\n</code></pre>\n\n<p>EDIT: By the way, Joda has two concepts: <code>Interval</code> for representing an interval of time between two time instants (represent time between 8am and 10am), and a <code>Duration</code> that represents a length of time without the actual time boundaries (e.g. represent two hours!)</p>\n\n<p>If you only care about time comparisions, most <code>Date</code> implementations (including the JDK one) implements <code>Comparable</code> interface which allows you to use the <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Comparable.html#compareTo(T)\" rel=\"noreferrer\"><code>Comparable.compareTo()</code></a></p>\n"},{"comments":[{"owner":{"account_id":46162,"reputation":12118,"user_id":136285,"accept_rate":91,"display_name":"malat"},"score":0,"creation_date":1522319863,"post_id":1555309,"comment_id":86114904,"body_markdown":"replaced by java.time (JSR-310) in Java 8","body":"replaced by java.time (JSR-310) in Java 8"}],"tags":[],"owner":{"account_id":34019,"reputation":14592,"user_id":95699,"accept_rate":73,"display_name":"Rob H"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1549361548,"creation_date":1255362210,"answer_id":1555309,"question_id":1555262,"body_markdown":"Take a look at [Joda Time][1], which is an improved Date/Time API for Java and should work fine with Scala.\r\n\r\n\r\n  [1]: https://www.joda.org/joda-time/","title":"Calculating the difference between two Java date instances","body":"<p>Take a look at <a href=\"https://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda Time</a>, which is an improved Date/Time API for Java and should work fine with Scala.</p>\n"},{"tags":[],"owner":{"account_id":19462,"reputation":102762,"user_id":45664,"accept_rate":91,"display_name":"Andrzej Doyle"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1255362260,"creation_date":1255362260,"answer_id":1555312,"question_id":1555262,"body_markdown":"That&#39;s probably the most straightforward way to do it - perhaps it&#39;s because I&#39;ve been coding in Java (with its admittedly clunky date and time libraries) for a while now, but that code looks &quot;simple and nice&quot; to me!\r\n\r\nAre you happy with the result being returned in milliseconds, or is part of your question that you would prefer to have it returned in some alternative format?","title":"Calculating the difference between two Java date instances","body":"<p>That's probably the most straightforward way to do it - perhaps it's because I've been coding in Java (with its admittedly clunky date and time libraries) for a while now, but that code looks \"simple and nice\" to me!</p>\n\n<p>Are you happy with the result being returned in milliseconds, or is part of your question that you would prefer to have it returned in some alternative format?</p>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"comment_count":0,"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1255362683,"creation_date":1255362683,"answer_id":1555349,"question_id":1555262,"body_markdown":"A slightly simpler alternative: \r\n\r\n    System.currentTimeMillis() - oldDate.getTime()\r\n\r\nAs for &quot;nicer&quot;: well, what exactly do you need? The problem with representing time durations as a number of hours and days etc. is that it may lead to inaccuracies and wrong expectations due to the complexity of dates (e.g. days can have 23 or 25 hours due to daylight savings time).","title":"Calculating the difference between two Java date instances","body":"<p>A slightly simpler alternative: </p>\n\n<pre><code>System.currentTimeMillis() - oldDate.getTime()\n</code></pre>\n\n<p>As for \"nicer\": well, what exactly do you need? The problem with representing time durations as a number of hours and days etc. is that it may lead to inaccuracies and wrong expectations due to the complexity of dates (e.g. days can have 23 or 25 hours due to daylight savings time).</p>\n"},{"comments":[{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":1,"creation_date":1281952167,"post_id":3491711,"comment_id":3647709,"body_markdown":"I thought java.util. Date was just a tiny wrapper around a time-millis representation, interpreted in the local (default) timezone. Printing out a Date gives me a local timezone representation. Am I confused here?","body":"I thought java.util. Date was just a tiny wrapper around a time-millis representation, interpreted in the local (default) timezone. Printing out a Date gives me a local timezone representation. Am I confused here?"}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":1,"down_vote_count":0,"up_vote_count":54,"is_accepted":false,"score":54,"last_activity_date":1281948478,"creation_date":1281948478,"answer_id":3491711,"question_id":1555262,"body_markdown":"You need to define your problem more clearly. You *could* just take the number of milliseconds between the two `Date` objects and divide by the number of milliseconds in 24 hours, for example... but:\r\n\r\n- This won&#39;t take time zones into consideration - `Date` is always in UTC\r\n- This won&#39;t take daylight saving time into consideration (where there can be days which are only 23 hours long, for example)\r\n- Even within UTC, how many days are there in August 16th 11pm to August 18th 2am? It&#39;s only 27 hours, so does that mean one day? Or should it be three days because it covers three dates?","title":"Calculating the difference between two Java date instances","body":"<p>You need to define your problem more clearly. You <em>could</em> just take the number of milliseconds between the two <code>Date</code> objects and divide by the number of milliseconds in 24 hours, for example... but:</p>\n\n<ul>\n<li>This won't take time zones into consideration - <code>Date</code> is always in UTC</li>\n<li>This won't take daylight saving time into consideration (where there can be days which are only 23 hours long, for example)</li>\n<li>Even within UTC, how many days are there in August 16th 11pm to August 18th 2am? It's only 27 hours, so does that mean one day? Or should it be three days because it covers three dates?</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"score":5,"creation_date":1283174693,"post_id":3491712,"comment_id":3780023,"body_markdown":"-1 That&#39;s wrong unless the Date instances were derived from UTC times. See Jon Skeet&#39;s answer.","body":"-1 That&#39;s wrong unless the Date instances were derived from UTC times. See Jon Skeet&#39;s answer."}],"tags":[],"owner":{"account_id":27166,"reputation":19089,"user_id":71399,"accept_rate":65,"display_name":"pauljwilliams"},"comment_count":1,"down_vote_count":5,"up_vote_count":5,"is_accepted":false,"score":0,"last_activity_date":1281948480,"creation_date":1281948480,"answer_id":3491712,"question_id":1555262,"body_markdown":"Just call getTime on each, take the difference, and divide by the number of milliseconds in a day.","title":"Calculating the difference between two Java date instances","body":"<p>Just call getTime on each, take the difference, and divide by the number of milliseconds in a day.</p>\n"},{"comments":[{"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"score":5,"creation_date":1283174735,"post_id":3491715,"comment_id":3780029,"body_markdown":"-1 That&#39;s wrong unless the Date instances were derived from UTC times. See Jon Skeet&#39;s answer.","body":"-1 That&#39;s wrong unless the Date instances were derived from UTC times. See Jon Skeet&#39;s answer."},{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":5,"creation_date":1283175337,"post_id":3491715,"comment_id":3780121,"body_markdown":"@sleske you are not right. He has already lost the timezone information by using `Date`, so this comparison is the best that can be achieved given the circumstances.","body":"@sleske you are not right. He has already lost the timezone information by using <code>Date</code>, so this comparison is the best that can be achieved given the circumstances."},{"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"score":1,"creation_date":1283176644,"post_id":3491715,"comment_id":3780346,"body_markdown":"OK, guess we&#39;re both right. It&#39;s true that it depends on where the Date instance comes from. Still, it&#39;s such a common mistake that it should be mentioned.","body":"OK, guess we&#39;re both right. It&#39;s true that it depends on where the Date instance comes from. Still, it&#39;s such a common mistake that it should be mentioned."},{"owner":{"account_id":8613791,"reputation":3578,"user_id":6451425,"accept_rate":95,"display_name":"Ad Infinitum"},"score":0,"creation_date":1507101805,"post_id":3491715,"comment_id":80072141,"body_markdown":"When I use your solution, it says: Type mismatch: cannot convert from long to int. I think you should also add casting or am I missing something?","body":"When I use your solution, it says: Type mismatch: cannot convert from long to int. I think you should also add casting or am I missing something?"}],"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":4,"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1281948498,"creation_date":1281948498,"answer_id":3491715,"question_id":1555262,"body_markdown":"    int daysDiff = (date1.getTime() - date2.getTime()) / MILLIS_PER_DAY;","title":"Calculating the difference between two Java date instances","body":"<pre><code>int daysDiff = (date1.getTime() - date2.getTime()) / MILLIS_PER_DAY;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"score":3,"creation_date":1283174813,"post_id":3491716,"comment_id":3780038,"body_markdown":"-1 That&#39;s wrong unless the Date instances were derived from UTC times. See Jon Skeet&#39;s answer.","body":"-1 That&#39;s wrong unless the Date instances were derived from UTC times. See Jon Skeet&#39;s answer."},{"owner":{"account_id":2293921,"reputation":9958,"user_id":2015912,"accept_rate":70,"display_name":"scottb"},"score":0,"creation_date":1368680343,"post_id":3491716,"comment_id":23824973,"body_markdown":"This is incorrect.  Internally, Date instances are a thin wrapper around a long that represents POSIX Epoch Time.  This is only defined for UTC.  Therefore, the value returned by dateObject.getTime() is always in UTC.","body":"This is incorrect.  Internally, Date instances are a thin wrapper around a long that represents POSIX Epoch Time.  This is only defined for UTC.  Therefore, the value returned by dateObject.getTime() is always in UTC."}],"tags":[],"owner":{"account_id":151586,"reputation":1981,"user_id":365568,"accept_rate":83,"display_name":"codersarepeople"},"comment_count":2,"down_vote_count":5,"up_vote_count":2,"is_accepted":false,"score":-3,"last_activity_date":1281948500,"creation_date":1281948500,"answer_id":3491716,"question_id":1555262,"body_markdown":"If you have d1 and d2 as your dates, the best solution is probably the following:\r\n\r\n    int days1 = d1.getTime()/(60*60*24*1000);//find the number of days since the epoch.\r\n    int days2 = d2.getTime()/(60*60*24*1000);\r\n\r\nthen just say\r\n\r\n    days2-days1\r\n\r\nor whatever\r\n","title":"Calculating the difference between two Java date instances","body":"<p>If you have d1 and d2 as your dates, the best solution is probably the following:</p>\n\n<pre><code>int days1 = d1.getTime()/(60*60*24*1000);//find the number of days since the epoch.\nint days2 = d2.getTime()/(60*60*24*1000);\n</code></pre>\n\n<p>then just say</p>\n\n<pre><code>days2-days1\n</code></pre>\n\n<p>or whatever</p>\n"},{"comments":[{"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"score":3,"creation_date":1283174710,"post_id":3491720,"comment_id":3780027,"body_markdown":"-1 That&#39;s wrong unless the Date instances were derived from UTC times. See Jon Skeet&#39;s answer.","body":"-1 That&#39;s wrong unless the Date instances were derived from UTC times. See Jon Skeet&#39;s answer."}],"tags":[],"owner":{"account_id":165118,"reputation":14339,"user_id":388299,"accept_rate":77,"display_name":"YoK"},"comment_count":1,"down_vote_count":3,"up_vote_count":7,"is_accepted":false,"score":4,"last_activity_date":1281949262,"creation_date":1281948528,"answer_id":3491720,"question_id":1555262,"body_markdown":"Check example here http://www.roseindia.net/java/beginners/DateDifferent.shtml\r\nThis example give you difference in days, hours, minutes, secs and milli sec&#39;s :).\r\n\r\n    import java.util.Calendar;\r\n    import java.util.Date;\r\n    \r\n    public class DateDifferent {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tDate date1 = new Date(2009, 01, 10);\r\n    \t\tDate date2 = new Date(2009, 07, 01);\r\n    \t\tCalendar calendar1 = Calendar.getInstance();\r\n    \t\tCalendar calendar2 = Calendar.getInstance();\r\n    \t\tcalendar1.setTime(date1);\r\n    \t\tcalendar2.setTime(date2);\r\n    \t\tlong milliseconds1 = calendar1.getTimeInMillis();\r\n    \t\tlong milliseconds2 = calendar2.getTimeInMillis();\r\n    \t\tlong diff = milliseconds2 - milliseconds1;\r\n    \t\tlong diffSeconds = diff / 1000;\r\n    \t\tlong diffMinutes = diff / (60 * 1000);\r\n    \t\tlong diffHours = diff / (60 * 60 * 1000);\r\n    \t\tlong diffDays = diff / (24 * 60 * 60 * 1000);\r\n    \t\tSystem.out.println(&quot;\\nThe Date Different Example&quot;);\r\n    \t\tSystem.out.println(&quot;Time in milliseconds: &quot; + diff + &quot; milliseconds.&quot;);\r\n    \t\tSystem.out.println(&quot;Time in seconds: &quot; + diffSeconds + &quot; seconds.&quot;);\r\n    \t\tSystem.out.println(&quot;Time in minutes: &quot; + diffMinutes + &quot; minutes.&quot;);\r\n    \t\tSystem.out.println(&quot;Time in hours: &quot; + diffHours + &quot; hours.&quot;);\r\n    \t\tSystem.out.println(&quot;Time in days: &quot; + diffDays + &quot; days.&quot;);\r\n    \t}\r\n    }","title":"Calculating the difference between two Java date instances","body":"<p>Check example here <a href=\"http://www.roseindia.net/java/beginners/DateDifferent.shtml\" rel=\"noreferrer\">http://www.roseindia.net/java/beginners/DateDifferent.shtml</a>\nThis example give you difference in days, hours, minutes, secs and milli sec's :).</p>\n\n<pre><code>import java.util.Calendar;\nimport java.util.Date;\n\npublic class DateDifferent {\n    public static void main(String[] args) {\n        Date date1 = new Date(2009, 01, 10);\n        Date date2 = new Date(2009, 07, 01);\n        Calendar calendar1 = Calendar.getInstance();\n        Calendar calendar2 = Calendar.getInstance();\n        calendar1.setTime(date1);\n        calendar2.setTime(date2);\n        long milliseconds1 = calendar1.getTimeInMillis();\n        long milliseconds2 = calendar2.getTimeInMillis();\n        long diff = milliseconds2 - milliseconds1;\n        long diffSeconds = diff / 1000;\n        long diffMinutes = diff / (60 * 1000);\n        long diffHours = diff / (60 * 60 * 1000);\n        long diffDays = diff / (24 * 60 * 60 * 1000);\n        System.out.println(\"\\nThe Date Different Example\");\n        System.out.println(\"Time in milliseconds: \" + diff + \" milliseconds.\");\n        System.out.println(\"Time in seconds: \" + diffSeconds + \" seconds.\");\n        System.out.println(\"Time in minutes: \" + diffMinutes + \" minutes.\");\n        System.out.println(\"Time in hours: \" + diffHours + \" hours.\");\n        System.out.println(\"Time in days: \" + diffDays + \" days.\");\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":243016,"reputation":9390,"user_id":514919,"accept_rate":28,"display_name":"Pratik Mandrekar"},"score":6,"creation_date":1367419918,"post_id":3491723,"comment_id":23370228,"body_markdown":"This actually does not work correctly in Android. Rounding errors exist. Example 19th to 21st May says 1 day because it casts 1.99 to 1. Use round before casting to int.","body":"This actually does not work correctly in Android. Rounding errors exist. Example 19th to 21st May says 1 day because it casts 1.99 to 1. Use round before casting to int."},{"owner":{"account_id":2293921,"reputation":9958,"user_id":2015912,"accept_rate":70,"display_name":"scottb"},"score":4,"creation_date":1368680034,"post_id":3491723,"comment_id":23824895,"body_markdown":"This is the best and simplest answer.  When calculating a difference between two dates, local time zones subtract each other out ... so that the correct answer (as a double) is given simply by ((double) (newer.getTime() - older.getTime()) / (86400.0 * 1000.0); ... as a double, you have the fractional day as well which can easily be converted to HH:MM:ss.","body":"This is the best and simplest answer.  When calculating a difference between two dates, local time zones subtract each other out ... so that the correct answer (as a double) is given simply by ((double) (newer.getTime() - older.getTime()) / (86400.0 * 1000.0); ... as a double, you have the fractional day as well which can easily be converted to HH:MM:ss."},{"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"score":8,"creation_date":1368696468,"post_id":3491723,"comment_id":23832233,"body_markdown":"@scottb: the problem with local dates is that you can have daylight savings time, which means some days have 23 or 25 hours, potentially messing up the result.","body":"@scottb: the problem with local dates is that you can have daylight savings time, which means some days have 23 or 25 hours, potentially messing up the result."},{"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"score":1,"creation_date":1428392521,"post_id":3491723,"comment_id":47132150,"body_markdown":"@Steve: it&#39;s 28 for me when defining them like this new Date(115, 2, 26); (pay attention to the API doc for the params). Is it possible that you are parsing them using the US date format and in lenient mode, so that 26/03/2015 is interpreted as the 3rd day of the 26th month of 2015?","body":"@Steve: it&#39;s 28 for me when defining them like this new Date(115, 2, 26); (pay attention to the API doc for the params). Is it possible that you are parsing them using the US date format and in lenient mode, so that 26/03/2015 is interpreted as the 3rd day of the 26th month of 2015?"},{"owner":{"account_id":1017902,"reputation":465,"user_id":1029032,"accept_rate":78,"display_name":"Steve"},"score":0,"creation_date":1428551483,"post_id":3491723,"comment_id":47212636,"body_markdown":"Sorry it was -21 not 1:\n\n`Date startDate = new Date();`\n`Date endDate = new Date();`\n`DateFormat formatter = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);`\n`int rosterDays = 0;`\n\n`try`\n`{`\n`startDate = formatter.parse(&quot;26/02/2015&quot;);`\n`endDate = formatter.parse(&quot;26/03/2015&quot;);`\n`rosterDays = (int)(endDate.getTime() - startDate.getTime()) / ((1000 * 60 * 60 * 24));`\n`}`\n`catch (ParseException e)`\n`{}`\n`System.out.println(&quot;rosterDays = &quot; + rosterDays);`\n\nSorry for the formatting, I cant see how to format it better!","body":"Sorry it was -21 not 1:  <code>Date startDate = new Date();</code> <code>Date endDate = new Date();</code> <code>DateFormat formatter = new SimpleDateFormat(&quot;dd&#47;MM&#47;yyyy&quot;);</code> <code>int rosterDays = 0;</code>  <code>try</code> <code>{</code> <code>startDate = formatter.parse(&quot;26&#47;02&#47;2015&quot;);</code> <code>endDate = formatter.parse(&quot;26&#47;03&#47;2015&quot;);</code> <code>rosterDays = (int)(endDate.getTime() - startDate.getTime()) &#47; ((1000 * 60 * 60 * 24));</code> <code>}</code> <code>catch (ParseException e)</code> <code>{}</code> <code>System.out.println(&quot;rosterDays = &quot; + rosterDays);</code>  Sorry for the formatting, I cant see how to format it better!"},{"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"score":0,"creation_date":1428564482,"post_id":3491723,"comment_id":47217862,"body_markdown":"@Steve: when I run that exact code, the output is 28. It&#39;s locale-dependant, but I can&#39;t really see how it could ever output -21. \n\nWhat do you get when you run System.out.println(Locale.getDefault(Locale.Category.FORMAT));?","body":"@Steve: when I run that exact code, the output is 28. It&#39;s locale-dependant, but I can&#39;t really see how it could ever output -21.   What do you get when you run System.out.println(Locale.getDefault(Locale.Category.FORMAT)&zwnj;&#8203;);?"},{"owner":{"account_id":1017902,"reputation":465,"user_id":1029032,"accept_rate":78,"display_name":"Steve"},"score":0,"creation_date":1428885370,"post_id":3491723,"comment_id":47339388,"body_markdown":"Hey Michael, I get &quot;en_AU&quot; when outputting the Locale. Here is the full code on PasteBin: http://pastebin.com/QQjU2T4k","body":"Hey Michael, I get &quot;en_AU&quot; when outputting the Locale. Here is the full code on PasteBin: <a href=\"http://pastebin.com/QQjU2T4k\" rel=\"nofollow noreferrer\">pastebin.com/QQjU2T4k</a>"},{"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"score":1,"creation_date":1428911337,"post_id":3491723,"comment_id":47346767,"body_markdown":"@Steve: hm, not sure why I got a different result before, but now I can reproduce your error. The braces in your code are different than in my answer, which causes `(endDate.getTime() - startDate.getTime())` to be cast to `int` instead of the final result, and you&#39;re getting an integer overflow.","body":"@Steve: hm, not sure why I got a different result before, but now I can reproduce your error. The braces in your code are different than in my answer, which causes <code>(endDate.getTime() - startDate.getTime())</code> to be cast to <code>int</code> instead of the final result, and you&#39;re getting an integer overflow."},{"owner":{"account_id":4304114,"reputation":4450,"user_id":3517025,"accept_rate":73,"display_name":"Joey Baruch"},"score":1,"creation_date":1488368239,"post_id":3491723,"comment_id":72197072,"body_markdown":"I just needed to count the seconds and milliseconds for a simple performance time check, i did `double diffInSeconds = ((after.getTime() - b4.getTime()) / 1000d);`","body":"I just needed to count the seconds and milliseconds for a simple performance time check, i did <code>double diffInSeconds = ((after.getTime() - b4.getTime()) &#47; 1000d);</code>"},{"owner":{"account_id":73357,"reputation":17051,"user_id":211292,"accept_rate":67,"display_name":"ThomasW"},"score":0,"creation_date":1493376231,"post_id":3491723,"comment_id":74402340,"body_markdown":"`getTime()` returns a long, so it is probably better to use a long in these calculations.","body":"<code>getTime()</code> returns a long, so it is probably better to use a long in these calculations."}],"tags":[],"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"comment_count":10,"down_vote_count":5,"up_vote_count":166,"is_accepted":false,"score":161,"last_activity_date":1355321649,"creation_date":1281948576,"answer_id":3491723,"question_id":1555262,"body_markdown":"    int diffInDays = (int)( (newerDate.getTime() - olderDate.getTime()) \r\n                     / (1000 * 60 * 60 * 24) )\r\n\r\nNote that this works with UTC dates, so the difference may be a day off if you look at local dates. And getting it to work correctly with local dates requires a completely different approach due to daylight savings time.","title":"Calculating the difference between two Java date instances","body":"<pre><code>int diffInDays = (int)( (newerDate.getTime() - olderDate.getTime()) \n                 / (1000 * 60 * 60 * 24) )\n</code></pre>\n\n<p>Note that this works with UTC dates, so the difference may be a day off if you look at local dates. And getting it to work correctly with local dates requires a completely different approach due to daylight savings time.</p>\n"},{"comments":[{"owner":{"account_id":46162,"reputation":12118,"user_id":136285,"accept_rate":91,"display_name":"malat"},"score":0,"creation_date":1522319819,"post_id":3601138,"comment_id":86114870,"body_markdown":"The issue is in `date1.getTime()` vs `date2.getTime()`. So diffing 2016-03-03 to 2016-03-31 will compute 27 days while you would want 28 days.","body":"The issue is in <code>date1.getTime()</code> vs <code>date2.getTime()</code>. So diffing 2016-03-03 to 2016-03-31 will compute 27 days while you would want 28 days."},{"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"score":0,"creation_date":1522323951,"post_id":3601138,"comment_id":86117647,"body_markdown":"@malat: Sorry, I can&#39;t follow. I just tried it - diffing 2016-03-03 to 2016-03-31 with my code computes 28 days. If it computes something else in your example, consider asking that as a separate question.","body":"@malat: Sorry, I can&#39;t follow. I just tried it - diffing 2016-03-03 to 2016-03-31 with my code computes 28 days. If it computes something else in your example, consider asking that as a separate question."},{"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"score":0,"creation_date":1522324005,"post_id":3601138,"comment_id":86117683,"body_markdown":"Also, did you read my caveat? &quot;this still assumes that date1 and date2 are set to the same time of day&quot;. Did you maybe use different times of day in your test?","body":"Also, did you read my caveat? &quot;this still assumes that date1 and date2 are set to the same time of day&quot;. Did you maybe use different times of day in your test?"},{"owner":{"account_id":46162,"reputation":12118,"user_id":136285,"accept_rate":91,"display_name":"malat"},"score":0,"creation_date":1522327657,"post_id":3601138,"comment_id":86120395,"body_markdown":"Ah right ! I missed the trick with `Math.round()`, that seems safe in &#39;real world&#39; calendars. Sorry for the noise.","body":"Ah right ! I missed the trick with <code>Math.round()</code>, that seems safe in &#39;real world&#39; calendars. Sorry for the noise."}],"tags":[],"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"comment_count":4,"down_vote_count":2,"up_vote_count":11,"is_accepted":false,"score":9,"last_activity_date":1283177636,"creation_date":1283177636,"answer_id":3601138,"question_id":1555262,"body_markdown":"If you don&#39;t want to use JodaTime or similar, the best solution is probably this:\r\n\r\n    final static long MILLIS_PER_DAY = 24 * 3600 * 1000;\r\n    long msDiff= date1.getTime() - date2.getTime();\r\n    long daysDiff = Math.round(msDiff / ((double)MILLIS_PER_DAY));\r\n\r\nThe number of ms per day is not always the same (because of daylight saving time and leap seconds), but it&#39;s very close, and at least deviations due to daylight saving time cancel out over longer periods. Therefore dividing and then rounding will give a correct result (at least as long as the local calendar used does not contain weird time jumps other than DST and leap seconds).\r\n\r\nNote that this still assumes that `date1` and `date2` are set to the same time of day. For different times of day, you&#39;d first have to define what &quot;date difference&quot; means, as pointed out by Jon Skeet.","title":"Calculating the difference between two Java date instances","body":"<p>If you don't want to use JodaTime or similar, the best solution is probably this:</p>\n\n<pre><code>final static long MILLIS_PER_DAY = 24 * 3600 * 1000;\nlong msDiff= date1.getTime() - date2.getTime();\nlong daysDiff = Math.round(msDiff / ((double)MILLIS_PER_DAY));\n</code></pre>\n\n<p>The number of ms per day is not always the same (because of daylight saving time and leap seconds), but it's very close, and at least deviations due to daylight saving time cancel out over longer periods. Therefore dividing and then rounding will give a correct result (at least as long as the local calendar used does not contain weird time jumps other than DST and leap seconds).</p>\n\n<p>Note that this still assumes that <code>date1</code> and <code>date2</code> are set to the same time of day. For different times of day, you'd first have to define what \"date difference\" means, as pointed out by Jon Skeet.</p>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1492325529,"post_id":4549327,"comment_id":73926545,"body_markdown":"FYI, the [Joda-Time](http://www.joda.org/joda-time/) project is now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), with the team advising migration to the [java.time](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) classes.","body":"FYI, the <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda-Time</a> project is now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, with the team advising migration to the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes."}],"tags":[],"owner":{"account_id":260335,"reputation":1114,"user_id":543830,"accept_rate":85,"display_name":"Adriano Bacha"},"comment_count":1,"down_vote_count":3,"up_vote_count":42,"is_accepted":false,"score":39,"last_activity_date":1549361137,"creation_date":1293568695,"answer_id":4549327,"question_id":1555262,"body_markdown":"    Days d = Days.daysBetween(startDate, endDate);\r\n    int days = d.getDays();\r\n\r\nhttps://www.joda.org/joda-time/faq.html#datediff","title":"Calculating the difference between two Java date instances","body":"<pre><code>Days d = Days.daysBetween(startDate, endDate);\nint days = d.getDays();\n</code></pre>\n\n<p><a href=\"https://www.joda.org/joda-time/faq.html#datediff\" rel=\"noreferrer\">https://www.joda.org/joda-time/faq.html#datediff</a></p>\n"},{"comments":[{"owner":{"account_id":378962,"reputation":15657,"user_id":732016,"accept_rate":83,"display_name":"wchargin"},"score":19,"creation_date":1326653834,"post_id":8209668,"comment_id":11088103,"body_markdown":"Could you please credit the original author of this code and the third sentence, whose [blog entry is dated back to 2007](http://tripoverit.blogspot.com/2007_07_01_archive.html)?","body":"Could you please credit the original author of this code and the third sentence, whose <a href=\"http://tripoverit.blogspot.com/2007_07_01_archive.html\" rel=\"nofollow noreferrer\">blog entry is dated back to 2007</a>?"},{"owner":{"account_id":368447,"reputation":24110,"user_id":715269,"accept_rate":60,"display_name":"Gangnus"},"score":0,"creation_date":1357898169,"post_id":8209668,"comment_id":19818855,"body_markdown":"Isn&#39;t it a bit ineffective?","body":"Isn&#39;t it a bit ineffective?"},{"owner":{"account_id":44321,"reputation":9248,"user_id":130028,"accept_rate":79,"display_name":"marcolopes"},"score":0,"creation_date":1397883108,"post_id":8209668,"comment_id":35427066,"body_markdown":"It does not work correctly. daysBetween(new GregorianCalendar(2014,03,01), new GregorianCalendar(2014,04,02))); returns 31, and it should return 32: http://www.timeanddate.com/date/durationresult.html?d1=01&amp;m1=03&amp;y1=2014&amp;d2=02&amp;m2=04&amp;y2=2014","body":"It does not work correctly. daysBetween(new GregorianCalendar(2014,03,01), new GregorianCalendar(2014,04,02))); returns 31, and it should return 32: <a href=\"http://www.timeanddate.com/date/durationresult.html?d1=01&amp;m1=03&amp;y1=2014&amp;d2=02&amp;m2=04&amp;y2=2014\" rel=\"nofollow noreferrer\">timeanddate.com/date/&hellip;</a>"},{"owner":{"account_id":220213,"reputation":5790,"user_id":477494,"accept_rate":67,"display_name":"Uncle Iroh"},"score":5,"creation_date":1403725242,"post_id":8209668,"comment_id":37774499,"body_markdown":"@marcolopes -- You&#39;re wrong - because calendar months are zero based.  I&#39;m sure you&#39;re meaning march/april, but what you&#39;re testing is april/june which is 31.  To be safe write it like -&gt; new GregorianCalendar(2014, Calendar.MARCH, 1)....","body":"@marcolopes -- You&#39;re wrong - because calendar months are zero based.  I&#39;m sure you&#39;re meaning march/april, but what you&#39;re testing is april/june which is 31.  To be safe write it like -&gt; new GregorianCalendar(2014, Calendar.MARCH, 1)...."},{"owner":{"account_id":44321,"reputation":9248,"user_id":130028,"accept_rate":79,"display_name":"marcolopes"},"score":0,"creation_date":1403796436,"post_id":8209668,"comment_id":37806329,"body_markdown":"@UncleIroh, You&#39;re right! I missed that important fact (calendar months are zero based). I have to review this question all over again.","body":"@UncleIroh, You&#39;re right! I missed that important fact (calendar months are zero based). I have to review this question all over again."},{"owner":{"account_id":1400553,"reputation":1715,"user_id":1329426,"display_name":"Jool"},"score":0,"creation_date":1472474635,"post_id":8209668,"comment_id":65752095,"body_markdown":"Warning:  This method can return an incorrect result if the time fields are not zero and a daylight savings boundary is crossed.","body":"Warning:  This method can return an incorrect result if the time fields are not zero and a daylight savings boundary is crossed."}],"tags":[],"owner":{"account_id":378801,"reputation":2137,"user_id":731775,"accept_rate":38,"display_name":"zasadnyy"},"comment_count":6,"down_vote_count":2,"up_vote_count":26,"is_accepted":false,"score":24,"last_activity_date":1321867580,"creation_date":1321867580,"answer_id":8209668,"question_id":1555262,"body_markdown":"Using millisecond approach can cause problems in some locales.\r\n\r\nLets take, for example, the difference between the two dates 03/24/2007 and 03/25/2007 should be 1 day; \r\n\r\nHowever, using the millisecond route, you&#39;ll get 0 days, if you run this in the UK! \r\n\r\n    /** Manual Method - YIELDS INCORRECT RESULTS - DO NOT USE**/  \r\n    /* This method is used to find the no of days between the given dates */  \r\n    public long calculateDays(Date dateEarly, Date dateLater) {  \r\n       return (dateLater.getTime() - dateEarly.getTime()) / (24 * 60 * 60 * 1000);  \r\n    } \r\n\r\nBetter way to implement this is to use java.util.Calendar\r\n\r\n    /** Using Calendar - THE CORRECT WAY**/  \r\n    public static long daysBetween(Calendar startDate, Calendar endDate) {  \r\n      Calendar date = (Calendar) startDate.clone();  \r\n      long daysBetween = 0;  \r\n      while (date.before(endDate)) {  \r\n        date.add(Calendar.DAY_OF_MONTH, 1);  \r\n        daysBetween++;  \r\n      }  \r\n      return daysBetween;  \r\n    }  ","title":"Calculating the difference between two Java date instances","body":"<p>Using millisecond approach can cause problems in some locales.</p>\n\n<p>Lets take, for example, the difference between the two dates 03/24/2007 and 03/25/2007 should be 1 day; </p>\n\n<p>However, using the millisecond route, you'll get 0 days, if you run this in the UK! </p>\n\n<pre><code>/** Manual Method - YIELDS INCORRECT RESULTS - DO NOT USE**/  \n/* This method is used to find the no of days between the given dates */  \npublic long calculateDays(Date dateEarly, Date dateLater) {  \n   return (dateLater.getTime() - dateEarly.getTime()) / (24 * 60 * 60 * 1000);  \n} \n</code></pre>\n\n<p>Better way to implement this is to use java.util.Calendar</p>\n\n<pre><code>/** Using Calendar - THE CORRECT WAY**/  \npublic static long daysBetween(Calendar startDate, Calendar endDate) {  \n  Calendar date = (Calendar) startDate.clone();  \n  long daysBetween = 0;  \n  while (date.before(endDate)) {  \n    date.add(Calendar.DAY_OF_MONTH, 1);  \n    daysBetween++;  \n  }  \n  return daysBetween;  \n}  \n</code></pre>\n"},{"comments":[{"owner":{"account_id":2906108,"reputation":42988,"user_id":2491410,"accept_rate":100,"display_name":"Meno Hochschild"},"score":0,"creation_date":1481304252,"post_id":8647380,"comment_id":69338455,"body_markdown":"Don&#39;t forget to zero the millisecond part else it is a good answer in context of old classes `java.util.Date` etc. Using the hack to set the timezone to GMT makes the code insensitive for daylight saving effects.","body":"Don&#39;t forget to zero the millisecond part else it is a good answer in context of old classes <code>java.util.Date</code> etc. Using the hack to set the timezone to GMT makes the code insensitive for daylight saving effects."}],"tags":[],"owner":{"account_id":1132190,"reputation":41,"user_id":1118030,"display_name":"Michal"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1325006518,"creation_date":1325006518,"answer_id":8647380,"question_id":1555262,"body_markdown":"Use GMT time zone to get an instance of the Calendar, set the time using the set method of Calendar class. The GMT timezone has 0 offset (not really important) and daylight saving time flag set to false.\r\n\r\n\r\n\t\tfinal Calendar cal = Calendar.getInstance(TimeZone.getTimeZone(&quot;GMT&quot;));\r\n\t\t\r\n\t\tcal.set(Calendar.YEAR, 2011);\r\n\t\tcal.set(Calendar.MONTH, 9);\r\n\t\tcal.set(Calendar.DAY_OF_MONTH, 29);\r\n\t\tcal.set(Calendar.HOUR, 0);\r\n\t\tcal.set(Calendar.MINUTE, 0);\r\n\t\tcal.set(Calendar.SECOND, 0);\r\n\t\tfinal Date startDate = cal.getTime();\r\n\t\t\r\n\t\tcal.set(Calendar.YEAR, 2011);\r\n\t\tcal.set(Calendar.MONTH, 12);\r\n\t\tcal.set(Calendar.DAY_OF_MONTH, 21);\r\n\t\tcal.set(Calendar.HOUR, 0);\r\n\t\tcal.set(Calendar.MINUTE, 0);\r\n\t\tcal.set(Calendar.SECOND, 0);\r\n\t\tfinal Date endDate = cal.getTime();\r\n\t\t\r\n\t\tSystem.out.println((endDate.getTime() - startDate.getTime()) % (1000l * 60l * 60l * 24l));\r\n","title":"Calculating the difference between two Java date instances","body":"<p>Use GMT time zone to get an instance of the Calendar, set the time using the set method of Calendar class. The GMT timezone has 0 offset (not really important) and daylight saving time flag set to false.</p>\n\n<pre><code>    final Calendar cal = Calendar.getInstance(TimeZone.getTimeZone(\"GMT\"));\n\n    cal.set(Calendar.YEAR, 2011);\n    cal.set(Calendar.MONTH, 9);\n    cal.set(Calendar.DAY_OF_MONTH, 29);\n    cal.set(Calendar.HOUR, 0);\n    cal.set(Calendar.MINUTE, 0);\n    cal.set(Calendar.SECOND, 0);\n    final Date startDate = cal.getTime();\n\n    cal.set(Calendar.YEAR, 2011);\n    cal.set(Calendar.MONTH, 12);\n    cal.set(Calendar.DAY_OF_MONTH, 21);\n    cal.set(Calendar.HOUR, 0);\n    cal.set(Calendar.MINUTE, 0);\n    cal.set(Calendar.SECOND, 0);\n    final Date endDate = cal.getTime();\n\n    System.out.println((endDate.getTime() - startDate.getTime()) % (1000l * 60l * 60l * 24l));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":342810,"reputation":221,"user_id":674158,"display_name":"user674158"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1328500071,"creation_date":1328500071,"answer_id":9155371,"question_id":1555262,"body_markdown":"Let me show difference between Joda Interval and Days:\r\n\r\n    DateTime start = new DateTime(2012, 2, 6, 10, 44, 51, 0);\r\n    DateTime end = new DateTime(2012, 2, 6, 11, 39, 47, 1);\r\n    Interval interval = new Interval(start, end);\r\n    Period period = interval.toPeriod();\r\n    System.out.println(period.getYears() + &quot; years, &quot; + period.getMonths() + &quot; months, &quot; + period.getWeeks() + &quot; weeks, &quot; + period.getDays() + &quot; days&quot;);\r\n    System.out.println(period.getHours() + &quot; hours, &quot; + period.getMinutes() + &quot; minutes, &quot; + period.getSeconds() + &quot; seconds &quot;);\r\n    //Result is:\r\n    //0 years, 0 months, *1 weeks, 1 days*\r\n    //0 hours, 54 minutes, 56 seconds \r\n    \r\n    //Period can set PeriodType,such as PeriodType.yearMonthDay(),PeriodType.yearDayTime()...\r\n    Period p = new Period(start, end, PeriodType.yearMonthDayTime());\r\n    System.out.println(p.getYears() + &quot; years, &quot; + p.getMonths() + &quot; months, &quot; + p.getWeeks() + &quot; weeks, &quot; + p.getDays() + &quot;days&quot;);\r\n    System.out.println(p.getHours() + &quot; hours, &quot; + p.getMinutes() + &quot; minutes, &quot; + p.getSeconds() + &quot; seconds &quot;);\r\n    //Result is:\r\n    //0 years, 0 months, *0 weeks, 8 days*\r\n    //0 hours, 54 minutes, 56 seconds \r\n\r\n","title":"Calculating the difference between two Java date instances","body":"<p>Let me show difference between Joda Interval and Days:</p>\n\n<pre><code>DateTime start = new DateTime(2012, 2, 6, 10, 44, 51, 0);\nDateTime end = new DateTime(2012, 2, 6, 11, 39, 47, 1);\nInterval interval = new Interval(start, end);\nPeriod period = interval.toPeriod();\nSystem.out.println(period.getYears() + \" years, \" + period.getMonths() + \" months, \" + period.getWeeks() + \" weeks, \" + period.getDays() + \" days\");\nSystem.out.println(period.getHours() + \" hours, \" + period.getMinutes() + \" minutes, \" + period.getSeconds() + \" seconds \");\n//Result is:\n//0 years, 0 months, *1 weeks, 1 days*\n//0 hours, 54 minutes, 56 seconds \n\n//Period can set PeriodType,such as PeriodType.yearMonthDay(),PeriodType.yearDayTime()...\nPeriod p = new Period(start, end, PeriodType.yearMonthDayTime());\nSystem.out.println(p.getYears() + \" years, \" + p.getMonths() + \" months, \" + p.getWeeks() + \" weeks, \" + p.getDays() + \"days\");\nSystem.out.println(p.getHours() + \" hours, \" + p.getMinutes() + \" minutes, \" + p.getSeconds() + \" seconds \");\n//Result is:\n//0 years, 0 months, *0 weeks, 8 days*\n//0 hours, 54 minutes, 56 seconds \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1284185,"reputation":3821,"user_id":1237610,"accept_rate":25,"display_name":"kundan bora"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1332149492,"creation_date":1332149492,"answer_id":9767747,"question_id":1555262,"body_markdown":"The following is one solution, as there are numerous ways we can achieve this:\r\n\r\n      import java.util.*; \r\n       int syear = 2000;\r\n       int eyear = 2000;\r\n       int smonth = 2;//Feb\r\n       int emonth = 3;//Mar\r\n       int sday = 27;\r\n       int eday = 1;\r\n       Date startDate = new Date(syear-1900,smonth-1,sday);\r\n       Date endDate = new Date(eyear-1900,emonth-1,eday);\r\n       int difInDays = (int) ((endDate.getTime() - startDate.getTime())/(1000*60*60*24));","title":"Calculating the difference between two Java date instances","body":"<p>The following is one solution, as there are numerous ways we can achieve this:</p>\n\n<pre><code>  import java.util.*; \n   int syear = 2000;\n   int eyear = 2000;\n   int smonth = 2;//Feb\n   int emonth = 3;//Mar\n   int sday = 27;\n   int eday = 1;\n   Date startDate = new Date(syear-1900,smonth-1,sday);\n   Date endDate = new Date(eyear-1900,emonth-1,eday);\n   int difInDays = (int) ((endDate.getTime() - startDate.getTime())/(1000*60*60*24));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":22194,"reputation":18092,"user_id":54506,"accept_rate":78,"display_name":"Jayan"},"score":5,"creation_date":1333440189,"post_id":9987575,"comment_id":12766076,"body_markdown":"@ manoj kumar bardhan : welcome to stack overflow: As you see the question and answers are years old.   Your answer should add more to the Question/Answer than the existing ones.","body":"@ manoj kumar bardhan : welcome to stack overflow: As you see the question and answers are years old.   Your answer should add more to the Question/Answer than the existing ones."},{"owner":{"account_id":123958,"reputation":109295,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"score":4,"creation_date":1339741411,"post_id":9987575,"comment_id":14448190,"body_markdown":"What about the days that have 23 or 25 hours due to a DST transition?","body":"What about the days that have 23 or 25 hours due to a DST transition?"}],"tags":[],"owner":{"account_id":1299488,"reputation":6269,"user_id":1249710,"display_name":"JDGuide"},"comment_count":2,"down_vote_count":4,"up_vote_count":27,"is_accepted":false,"score":23,"last_activity_date":1512021582,"creation_date":1333431018,"answer_id":9987575,"question_id":1555262,"body_markdown":"There are many ways you can find the difference between dates &amp; times.  One of the simplest ways that I know of would be:\r\n         \r\n          Calendar calendar1 = Calendar.getInstance();\r\n          Calendar calendar2 = Calendar.getInstance();\r\n          calendar1.set(2012, 04, 02);\r\n          calendar2.set(2012, 04, 04);\r\n          long milsecs1= calendar1.getTimeInMillis();\r\n          long milsecs2 = calendar2.getTimeInMillis();\r\n          long diff = milsecs2 - milsecs1;\r\n          long dsecs = diff / 1000;\r\n          long dminutes = diff / (60 * 1000);\r\n          long dhours = diff / (60 * 60 * 1000);\r\n          long ddays = diff / (24 * 60 * 60 * 1000);\r\n        \r\n          System.out.println(&quot;Your Day Difference=&quot;+ddays);\r\n        \r\n        \r\nThe print statement is just an example - you can format it, the way you like.\r\n","title":"Calculating the difference between two Java date instances","body":"<p>There are many ways you can find the difference between dates &amp; times.  One of the simplest ways that I know of would be:</p>\n\n<pre><code>      Calendar calendar1 = Calendar.getInstance();\n      Calendar calendar2 = Calendar.getInstance();\n      calendar1.set(2012, 04, 02);\n      calendar2.set(2012, 04, 04);\n      long milsecs1= calendar1.getTimeInMillis();\n      long milsecs2 = calendar2.getTimeInMillis();\n      long diff = milsecs2 - milsecs1;\n      long dsecs = diff / 1000;\n      long dminutes = diff / (60 * 1000);\n      long dhours = diff / (60 * 60 * 1000);\n      long ddays = diff / (24 * 60 * 60 * 1000);\n\n      System.out.println(\"Your Day Difference=\"+ddays);\n</code></pre>\n\n<p>The print statement is just an example - you can format it, the way you like.</p>\n"},{"comments":[{"owner":{"account_id":107535,"reputation":18395,"user_id":285878,"accept_rate":94,"display_name":"Jeremy Goodell"},"score":0,"creation_date":1393864363,"post_id":10650881,"comment_id":33615351,"body_markdown":"Wow, you really can teach an old dog new tricks! Never heard of this before, very useful for translating date differences into meaningful strings.","body":"Wow, you really can teach an old dog new tricks! Never heard of this before, very useful for translating date differences into meaningful strings."},{"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"score":0,"creation_date":1397524876,"post_id":10650881,"comment_id":35261498,"body_markdown":"@SebastienLorber Is there a way in TimeUnit to calculate the difference thus? &quot;The alarm is set for 3 days, 4 hours and 12 minutes from now&quot;.","body":"@SebastienLorber Is there a way in TimeUnit to calculate the difference thus? &quot;The alarm is set for 3 days, 4 hours and 12 minutes from now&quot;."},{"owner":{"account_id":1885119,"reputation":1784,"user_id":1704488,"display_name":"Lyju I Edwinson"},"score":0,"creation_date":1408966614,"post_id":10650881,"comment_id":39774753,"body_markdown":"brilliant stuff really saved lots of my time. Appreciate your help.","body":"brilliant stuff really saved lots of my time. Appreciate your help."},{"owner":{"account_id":1098457,"reputation":865,"user_id":1091524,"accept_rate":23,"display_name":"user1091524"},"score":0,"creation_date":1430604617,"post_id":10650881,"comment_id":48134449,"body_markdown":"I wasted a 3 days of my life dealing with Java Dates and I just threw a lot of it away and replaced with this. Thank you.","body":"I wasted a 3 days of my life dealing with Java Dates and I just threw a lot of it away and replaced with this. Thank you."},{"owner":{"account_id":2864952,"reputation":797,"user_id":2459452,"accept_rate":42,"display_name":"Cold"},"score":0,"creation_date":1436198598,"post_id":10650881,"comment_id":50498171,"body_markdown":"This is the best answer that i&#39;ve seen since i came on stackoverflow! :D:D:D","body":"This is the best answer that i&#39;ve seen since i came on stackoverflow! :D:D:D"},{"owner":{"account_id":74735,"reputation":4731,"user_id":214597,"accept_rate":96,"display_name":"Stefan Hendriks"},"score":0,"creation_date":1522917508,"post_id":10650881,"comment_id":86345417,"body_markdown":"the blog post you refer to cannot be viewed unfortunately?","body":"the blog post you refer to cannot be viewed unfortunately?"},{"owner":{"account_id":16209703,"reputation":537,"user_id":11704057,"display_name":"M22"},"score":0,"creation_date":1638045010,"post_id":10650881,"comment_id":123984617,"body_markdown":"what if start date&#39;s hour was 10 p.m and end day hour was 12 a.m ?? You need to take hours and minutes in account also!","body":"what if start date&#39;s hour was 10 p.m and end day hour was 12 a.m ?? You need to take hours and minutes in account also!"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1646856712,"post_id":10650881,"comment_id":126230228,"body_markdown":"This will work sometimes, but it&#39;s not going to give the correct number of days if daylight savings starts or ends between the two dates.  Don&#39;t be fooled by 600 upvotes - do not use this answer.","body":"This will work sometimes, but it&#39;s not going to give the correct number of days if daylight savings starts or ends between the two dates.  Don&#39;t be fooled by 600 upvotes - do not use this answer."}],"tags":[],"owner":{"account_id":30319,"reputation":90360,"user_id":82609,"accept_rate":84,"display_name":"Sebastien Lorber"},"comment_count":8,"down_vote_count":4,"up_vote_count":620,"is_accepted":false,"score":616,"last_activity_date":1681570485,"creation_date":1337336732,"answer_id":10650881,"question_id":1555262,"body_markdown":"# Simple diff (without lib)\r\n\r\n    /**\r\n     * Get a diff between two dates\r\n     * @param date1 the oldest date\r\n     * @param date2 the newest date\r\n     * @param timeUnit the unit in which you want the diff\r\n     * @return the diff value, in the provided unit\r\n     */\r\n    public static long getDateDiff(Date date1, Date date2, TimeUnit timeUnit) {\r\n        long diffInMillies = date2.getTime() - date1.getTime();\r\n        return timeUnit.convert(diffInMillies,TimeUnit.MILLISECONDS);\r\n    }\r\n\r\n\r\nAnd then you can call:\r\n\r\n    getDateDiff(date1,date2,TimeUnit.MINUTES);\r\n\r\nto get the diff of the 2 dates in minutes unit.\r\n\r\n`TimeUnit` is `java.util.concurrent.TimeUnit`, a standard Java enum going from nanos to days.\r\n\r\n\r\n-----------------------------------------------\r\n\r\n# Human readable diff (without lib)\r\n     \r\n    public static Map&lt;TimeUnit,Long&gt; computeDiff(Date date1, Date date2) {\r\n\r\n    \tlong diffInMillies = date2.getTime() - date1.getTime();\r\n\r\n        //create the list\r\n        List&lt;TimeUnit&gt; units = new ArrayList&lt;TimeUnit&gt;(EnumSet.allOf(TimeUnit.class));\r\n     \tCollections.reverse(units);\r\n\r\n        //create the result map of TimeUnit and difference\r\n     \tMap&lt;TimeUnit,Long&gt; result = new LinkedHashMap&lt;TimeUnit,Long&gt;();\r\n     \tlong milliesRest = diffInMillies;\r\n\r\n        for ( TimeUnit unit : units ) {\r\n            \r\n            //calculate difference in millisecond \r\n        \tlong diff = unit.convert(milliesRest,TimeUnit.MILLISECONDS);\r\n        \tlong diffInMilliesForUnit = unit.toMillis(diff);\r\n        \tmilliesRest = milliesRest - diffInMilliesForUnit;\r\n\r\n            //put the result in the map\r\n            result.put(unit,diff);\r\n        }\r\n\r\n        return result;\r\n    }\r\n    \r\nhttp://ideone.com/5dXeu6\r\n\r\nThe output is something like `Map:{DAYS=1, HOURS=3, MINUTES=46, SECONDS=40, MILLISECONDS=0, MICROSECONDS=0, NANOSECONDS=0}`, with the units ordered.\r\n\r\nYou just have to convert that map to a user-friendly string.\r\n\r\n---------------------\r\n\r\n# Warning\r\n\r\nThe above code snippets compute a simple diff between 2 instants. It can cause problems during a daylight saving switch, like explained in [this post][1]. This means if you compute the diff between dates with no time you may have a missing day/hour.\r\n\r\nIn my opinion the date diff is kind of subjective, especially on days. You may:\r\n\r\n - count the number of 24h elapsed time: day+1 - day = 1 day = 24h\r\n\r\n - count the number of elapsed time, taking care of daylight savings: day+1 - day = 1 = 24h (but using midnight time and daylight savings it could be 0 day and 23h)\r\n\r\n - count the number of `day switches`, which means day+1 1pm - day 11am = 1 day, even if the elapsed time is just 2h (or 1h if there is a daylight saving :p)\r\n\r\nMy answer is valid if your definition of date diff on days match the 1st case\r\n\r\n\r\n# With JodaTime\r\n\r\nIf you are using JodaTime you can get the diff for 2 instants (millies backed ReadableInstant) dates with:\r\n\r\n    Interval interval = new Interval(oldInstant, new Instant());\r\n\r\nBut you can also get the diff for Local dates/times:\r\n\r\n    // returns 4 because of the leap year of 366 days\r\n    new Period(LocalDate.now(), LocalDate.now().plusDays(365*5), PeriodType.years()).getYears() \r\n\r\n    // this time it returns 5\r\n    new Period(LocalDate.now(), LocalDate.now().plusDays(365*5+1), PeriodType.years()).getYears() \r\n\r\n    // And you can also use these static methods\r\n    Years.yearsBetween(LocalDate.now(), LocalDate.now().plusDays(365*5)).getYears()\r\n\r\n\r\n\r\n\r\n  [1]: http://tripoverit.blogspot.fr/2007_07_01_archive.html","title":"Calculating the difference between two Java date instances","body":"<h1>Simple diff (without lib)</h1>\n<pre><code>/**\n * Get a diff between two dates\n * @param date1 the oldest date\n * @param date2 the newest date\n * @param timeUnit the unit in which you want the diff\n * @return the diff value, in the provided unit\n */\npublic static long getDateDiff(Date date1, Date date2, TimeUnit timeUnit) {\n    long diffInMillies = date2.getTime() - date1.getTime();\n    return timeUnit.convert(diffInMillies,TimeUnit.MILLISECONDS);\n}\n</code></pre>\n<p>And then you can call:</p>\n<pre><code>getDateDiff(date1,date2,TimeUnit.MINUTES);\n</code></pre>\n<p>to get the diff of the 2 dates in minutes unit.</p>\n<p><code>TimeUnit</code> is <code>java.util.concurrent.TimeUnit</code>, a standard Java enum going from nanos to days.</p>\n<hr />\n<h1>Human readable diff (without lib)</h1>\n<pre><code>public static Map&lt;TimeUnit,Long&gt; computeDiff(Date date1, Date date2) {\n\n    long diffInMillies = date2.getTime() - date1.getTime();\n\n    //create the list\n    List&lt;TimeUnit&gt; units = new ArrayList&lt;TimeUnit&gt;(EnumSet.allOf(TimeUnit.class));\n    Collections.reverse(units);\n\n    //create the result map of TimeUnit and difference\n    Map&lt;TimeUnit,Long&gt; result = new LinkedHashMap&lt;TimeUnit,Long&gt;();\n    long milliesRest = diffInMillies;\n\n    for ( TimeUnit unit : units ) {\n        \n        //calculate difference in millisecond \n        long diff = unit.convert(milliesRest,TimeUnit.MILLISECONDS);\n        long diffInMilliesForUnit = unit.toMillis(diff);\n        milliesRest = milliesRest - diffInMilliesForUnit;\n\n        //put the result in the map\n        result.put(unit,diff);\n    }\n\n    return result;\n}\n</code></pre>\n<p><a href=\"http://ideone.com/5dXeu6\" rel=\"nofollow noreferrer\">http://ideone.com/5dXeu6</a></p>\n<p>The output is something like <code>Map:{DAYS=1, HOURS=3, MINUTES=46, SECONDS=40, MILLISECONDS=0, MICROSECONDS=0, NANOSECONDS=0}</code>, with the units ordered.</p>\n<p>You just have to convert that map to a user-friendly string.</p>\n<hr />\n<h1>Warning</h1>\n<p>The above code snippets compute a simple diff between 2 instants. It can cause problems during a daylight saving switch, like explained in <a href=\"http://tripoverit.blogspot.fr/2007_07_01_archive.html\" rel=\"nofollow noreferrer\">this post</a>. This means if you compute the diff between dates with no time you may have a missing day/hour.</p>\n<p>In my opinion the date diff is kind of subjective, especially on days. You may:</p>\n<ul>\n<li><p>count the number of 24h elapsed time: day+1 - day = 1 day = 24h</p>\n</li>\n<li><p>count the number of elapsed time, taking care of daylight savings: day+1 - day = 1 = 24h (but using midnight time and daylight savings it could be 0 day and 23h)</p>\n</li>\n<li><p>count the number of <code>day switches</code>, which means day+1 1pm - day 11am = 1 day, even if the elapsed time is just 2h (or 1h if there is a daylight saving :p)</p>\n</li>\n</ul>\n<p>My answer is valid if your definition of date diff on days match the 1st case</p>\n<h1>With JodaTime</h1>\n<p>If you are using JodaTime you can get the diff for 2 instants (millies backed ReadableInstant) dates with:</p>\n<pre><code>Interval interval = new Interval(oldInstant, new Instant());\n</code></pre>\n<p>But you can also get the diff for Local dates/times:</p>\n<pre><code>// returns 4 because of the leap year of 366 days\nnew Period(LocalDate.now(), LocalDate.now().plusDays(365*5), PeriodType.years()).getYears() \n\n// this time it returns 5\nnew Period(LocalDate.now(), LocalDate.now().plusDays(365*5+1), PeriodType.years()).getYears() \n\n// And you can also use these static methods\nYears.yearsBetween(LocalDate.now(), LocalDate.now().plusDays(365*5)).getYears()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1548552,"reputation":1076,"user_id":1441471,"accept_rate":57,"display_name":"sabbibJAVA"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1362993008,"creation_date":1362993008,"answer_id":15334719,"question_id":1555262,"body_markdown":"try this: \r\n      \r\n    int epoch = (int) (new java.text.SimpleDateFormat(&quot;MM/dd/yyyy HH:mm:ss&quot;).parse(&quot;01/01/1970  00:00:00&quot;).getTime() / 1000);\r\nyou can edit the string in the parse() methods param.","title":"Calculating the difference between two Java date instances","body":"<p>try this: </p>\n\n<pre><code>int epoch = (int) (new java.text.SimpleDateFormat(\"MM/dd/yyyy HH:mm:ss\").parse(\"01/01/1970  00:00:00\").getTime() / 1000);\n</code></pre>\n\n<p>you can edit the string in the parse() methods param.</p>\n"},{"comments":[{"owner":{"account_id":2293921,"reputation":9958,"user_id":2015912,"accept_rate":70,"display_name":"scottb"},"score":0,"creation_date":1368680585,"post_id":16320506,"comment_id":23825047,"body_markdown":"As long as both timestamps are in the same time zone, then the difference between the dates will be the same whether adjusted for the local time zone from UTC or not (the adjustments subtract out).  There is a possibility for a DST correction to the result, but if you begin with the assumption that a day is 86400 seconds, it really doesn&#39;t matter.","body":"As long as both timestamps are in the same time zone, then the difference between the dates will be the same whether adjusted for the local time zone from UTC or not (the adjustments subtract out).  There is a possibility for a DST correction to the result, but if you begin with the assumption that a day is 86400 seconds, it really doesn&#39;t matter."},{"owner":{"account_id":243016,"reputation":9390,"user_id":514919,"accept_rate":28,"display_name":"Pratik Mandrekar"},"score":0,"creation_date":1368705286,"post_id":16320506,"comment_id":23837330,"body_markdown":"That&#39;s not the point of the answer. Michael Brogwardt&#39;s answer results in the wrong result unless you round it up and cast to int in Android&#39;s Java SDK.","body":"That&#39;s not the point of the answer. Michael Brogwardt&#39;s answer results in the wrong result unless you round it up and cast to int in Android&#39;s Java SDK."}],"tags":[],"owner":{"account_id":243016,"reputation":9390,"user_id":514919,"accept_rate":28,"display_name":"Pratik Mandrekar"},"comment_count":2,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1367420065,"creation_date":1367420065,"answer_id":16320506,"question_id":1555262,"body_markdown":"\r\n\r\n\r\n@Michael Borgwardt&#39;s answer actually does not work correctly in Android. Rounding errors exist. Example 19th to 21st May says 1 day because it casts 1.99 to 1. Use round before casting to int. \r\n\r\nFix\r\n\r\n    int diffInDays = (int)Math.round(( (newerDate.getTime() - olderDate.getTime()) \r\n                     / (1000 * 60 * 60 * 24) ))\r\n\r\nNote that this works with UTC dates, so the difference may be a day off if you look at local dates. And getting it to work correctly with local dates requires a completely different approach due to daylight savings time.","title":"Calculating the difference between two Java date instances","body":"<p>@Michael Borgwardt's answer actually does not work correctly in Android. Rounding errors exist. Example 19th to 21st May says 1 day because it casts 1.99 to 1. Use round before casting to int. </p>\n\n<p>Fix</p>\n\n<pre><code>int diffInDays = (int)Math.round(( (newerDate.getTime() - olderDate.getTime()) \n                 / (1000 * 60 * 60 * 24) ))\n</code></pre>\n\n<p>Note that this works with UTC dates, so the difference may be a day off if you look at local dates. And getting it to work correctly with local dates requires a completely different approach due to daylight savings time.</p>\n"},{"comments":[{"owner":{"account_id":1856000,"reputation":2145,"user_id":1681572,"accept_rate":50,"display_name":"JulianSymes"},"score":1,"creation_date":1391098391,"post_id":18182113,"comment_id":32387771,"body_markdown":"This the best method to determine the difference between two calendar dates, without going outside the standard libraries. Most of the other answers treat a day as an arbitrary 24-hour period. If leap seconds were ever to be subtracted rather than added, the final calculation could be off by one due to truncation, since the absolute difference could be slightly less than a whole number of multiples of MSPERDAY.","body":"This the best method to determine the difference between two calendar dates, without going outside the standard libraries. Most of the other answers treat a day as an arbitrary 24-hour period. If leap seconds were ever to be subtracted rather than added, the final calculation could be off by one due to truncation, since the absolute difference could be slightly less than a whole number of multiples of MSPERDAY."}],"tags":[],"owner":{"account_id":1478876,"reputation":1042,"user_id":1388639,"display_name":"Malcolm Boekhoff"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1376294743,"creation_date":1376294743,"answer_id":18182113,"question_id":1555262,"body_markdown":"Subtracting the dates in milliseconds works (as described in another post), but you *have* to use HOUR_OF_DAY and not HOUR when clearing the time parts of your dates:\r\n\r\n    public static final long MSPERDAY = 60 * 60 * 24 * 1000;\r\n    ...\r\n    final Calendar dateStartCal = Calendar.getInstance();\r\n    dateStartCal.setTime(dateStart);\r\n    dateStartCal.set(Calendar.HOUR_OF_DAY, 0); // Crucial.\r\n    dateStartCal.set(Calendar.MINUTE, 0);\r\n    dateStartCal.set(Calendar.SECOND, 0);\r\n    dateStartCal.set(Calendar.MILLISECOND, 0);\r\n    final Calendar dateEndCal = Calendar.getInstance();\r\n    dateEndCal.setTime(dateEnd);\r\n    dateEndCal.set(Calendar.HOUR_OF_DAY, 0); // Crucial.\r\n    dateEndCal.set(Calendar.MINUTE, 0);\r\n    dateEndCal.set(Calendar.SECOND, 0);\r\n    dateEndCal.set(Calendar.MILLISECOND, 0);\r\n    final long dateDifferenceInDays = ( dateStartCal.getTimeInMillis()\r\n                                      - dateEndCal.getTimeInMillis()\r\n                                      ) / MSPERDAY;\r\n    if (dateDifferenceInDays &gt; 15) {\r\n        // Do something if difference &gt; 15 days\r\n    }\r\n","title":"Calculating the difference between two Java date instances","body":"<p>Subtracting the dates in milliseconds works (as described in another post), but you <em>have</em> to use HOUR_OF_DAY and not HOUR when clearing the time parts of your dates:</p>\n\n<pre><code>public static final long MSPERDAY = 60 * 60 * 24 * 1000;\n...\nfinal Calendar dateStartCal = Calendar.getInstance();\ndateStartCal.setTime(dateStart);\ndateStartCal.set(Calendar.HOUR_OF_DAY, 0); // Crucial.\ndateStartCal.set(Calendar.MINUTE, 0);\ndateStartCal.set(Calendar.SECOND, 0);\ndateStartCal.set(Calendar.MILLISECOND, 0);\nfinal Calendar dateEndCal = Calendar.getInstance();\ndateEndCal.setTime(dateEnd);\ndateEndCal.set(Calendar.HOUR_OF_DAY, 0); // Crucial.\ndateEndCal.set(Calendar.MINUTE, 0);\ndateEndCal.set(Calendar.SECOND, 0);\ndateEndCal.set(Calendar.MILLISECOND, 0);\nfinal long dateDifferenceInDays = ( dateStartCal.getTimeInMillis()\n                                  - dateEndCal.getTimeInMillis()\n                                  ) / MSPERDAY;\nif (dateDifferenceInDays &gt; 15) {\n    // Do something if difference &gt; 15 days\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1395559910,"post_id":19172605,"comment_id":34388154,"body_markdown":"Whoa, why roll your own when [Joda-Time](http://www.joda.org/joda-time/) provides the [Period](http://www.joda.org/joda-time/apidocs/org/joda/time/Period.html) class already written and debugged?","body":"Whoa, why roll your own when <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda-Time</a> provides the <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/Period.html\" rel=\"nofollow noreferrer\">Period</a> class already written and debugged?"},{"owner":{"account_id":2633295,"reputation":5279,"user_id":2278668,"accept_rate":100,"display_name":"Ingo"},"score":8,"creation_date":1396139980,"post_id":19172605,"comment_id":34657399,"body_markdown":"Why should I download a Library with a compressed FileSize of 4.1 MB and add it to my Project, when I only need 32 Lines of code???","body":"Why should I download a Library with a compressed FileSize of 4.1 MB and add it to my Project, when I only need 32 Lines of code???"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1419013905,"post_id":19172605,"comment_id":43569114,"body_markdown":"Because Joda-Time is like potato chips: you can&#39;t eat just one. You&#39;ll be using Joda-Time all over the place. And because Joda-Time is well-tested and well-worn code. And because Joda-Time parses and generates standard [ISO 8601 Duration](http://en.wikipedia.org/wiki/ISO_8601#Durations) strings which may be handy for serializing or reporting these values. And because Joda-Time includes formatters to print localized representations of these values.","body":"Because Joda-Time is like potato chips: you can&#39;t eat just one. You&#39;ll be using Joda-Time all over the place. And because Joda-Time is well-tested and well-worn code. And because Joda-Time parses and generates standard <a href=\"http://en.wikipedia.org/wiki/ISO_8601#Durations\" rel=\"nofollow noreferrer\">ISO 8601 Duration</a> strings which may be handy for serializing or reporting these values. And because Joda-Time includes formatters to print localized representations of these values."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1419132981,"post_id":19172605,"comment_id":43597414,"body_markdown":"Not all your code is tested. `std` above is undefined.","body":"Not all your code is tested. <code>std</code> above is undefined."},{"owner":{"account_id":2633295,"reputation":5279,"user_id":2278668,"accept_rate":100,"display_name":"Ingo"},"score":0,"creation_date":1419133862,"post_id":19172605,"comment_id":43597516,"body_markdown":"@Basil Bourque: Thx for the hint. I have corected the source. This error came from translation to english.","body":"@Basil Bourque: Thx for the hint. I have corected the source. This error came from translation to english."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1419134467,"post_id":19172605,"comment_id":43597574,"body_markdown":"I just did some testing of your code (after changing `std` to `hrs`), comparing to Joda-Time. Went well, your code agreed with Joda-Time in each of my test cases. But I still recommend against rolling your own date-time library (as too risky, not a good use of your time, many desirable features in Joda-Time such as easy handling of time zones).","body":"I just did some testing of your code (after changing <code>std</code> to <code>hrs</code>), comparing to Joda-Time. Went well, your code agreed with Joda-Time in each of my test cases. But I still recommend against rolling your own date-time library (as too risky, not a good use of your time, many desirable features in Joda-Time such as easy handling of time zones)."},{"owner":{"account_id":2633295,"reputation":5279,"user_id":2278668,"accept_rate":100,"display_name":"Ingo"},"score":0,"creation_date":1419134945,"post_id":19172605,"comment_id":43597641,"body_markdown":"@Basil Bourque; Thx for testing. I use my &quot;get_duration function in many cases without any Problems also in other languages like c++, c#, delphi etc. But if you like Joda Time, use it :-)","body":"@Basil Bourque; Thx for testing. I use my &quot;get_duration function in many cases without any Problems also in other languages like c++, c#, delphi etc. But if you like Joda Time, use it :-)"}],"tags":[],"owner":{"account_id":2633295,"reputation":5279,"user_id":2278668,"accept_rate":100,"display_name":"Ingo"},"comment_count":7,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1419134072,"creation_date":1380856583,"answer_id":19172605,"question_id":1555262,"body_markdown":"If you need a formatted return String like\r\n&quot;2 Days 03h 42m 07s&quot;, try this:\r\n\r\n   \r\n    public String fill2(int value)\r\n    {\r\n        String ret = String.valueOf(value);\r\n\r\n        if (ret.length() &lt; 2)\r\n            ret = &quot;0&quot; + ret;\t\t\t\r\n        return ret;\r\n    }\r\n\r\n    public String get_duration(Date date1, Date date2)\r\n    {\t\t\t\t\t\r\n        TimeUnit timeUnit = TimeUnit.SECONDS;\r\n\r\n        long diffInMilli = date2.getTime() - date1.getTime();\r\n        long s = timeUnit.convert(diffInMilli, TimeUnit.MILLISECONDS);\r\n\r\n        long days = s / (24 * 60 * 60);\r\n        long rest = s - (days * 24 * 60 * 60);\r\n        long hrs = rest / (60 * 60);\r\n        long rest1 = rest - (hrs * 60 * 60);\r\n        long min = rest1 / 60;\t    \r\n        long sec = s % 60;\r\n\r\n        String dates = &quot;&quot;;\r\n        if (days &gt; 0) dates = days + &quot; Days &quot;;\r\n\r\n        dates += fill2((int) hrs) + &quot;h &quot;;\r\n        dates += fill2((int) min) + &quot;m &quot;;\r\n        dates += fill2((int) sec) + &quot;s &quot;;\r\n\r\n        return dates;\r\n    }","title":"Calculating the difference between two Java date instances","body":"<p>If you need a formatted return String like\n\"2 Days 03h 42m 07s\", try this:</p>\n\n<pre><code>public String fill2(int value)\n{\n    String ret = String.valueOf(value);\n\n    if (ret.length() &lt; 2)\n        ret = \"0\" + ret;            \n    return ret;\n}\n\npublic String get_duration(Date date1, Date date2)\n{                   \n    TimeUnit timeUnit = TimeUnit.SECONDS;\n\n    long diffInMilli = date2.getTime() - date1.getTime();\n    long s = timeUnit.convert(diffInMilli, TimeUnit.MILLISECONDS);\n\n    long days = s / (24 * 60 * 60);\n    long rest = s - (days * 24 * 60 * 60);\n    long hrs = rest / (60 * 60);\n    long rest1 = rest - (hrs * 60 * 60);\n    long min = rest1 / 60;      \n    long sec = s % 60;\n\n    String dates = \"\";\n    if (days &gt; 0) dates = days + \" Days \";\n\n    dates += fill2((int) hrs) + \"h \";\n    dates += fill2((int) min) + \"m \";\n    dates += fill2((int) sec) + \"s \";\n\n    return dates;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":352002,"reputation":3871,"user_id":688843,"accept_rate":87,"display_name":"Buffalo"},"score":0,"creation_date":1521463889,"post_id":22588328,"comment_id":85726965,"body_markdown":"It&#39;s funny you started an irrelevant-to-question wall of text with &quot;tl; dr&quot;. The question isn&#39;t about how to get the timestamp from X ago or in X units of time, but how to get the delta between two dates. That&#39;s it.","body":"It&#39;s funny you started an irrelevant-to-question wall of text with &quot;tl; dr&quot;. The question isn&#39;t about how to get the timestamp from X ago or in X units of time, but how to get the delta between two dates. That&#39;s it."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1521472457,"post_id":22588328,"comment_id":85733213,"body_markdown":"@Buffalo I dont understand your comment. My Answer involves `Period`, `Duration`, and `ChronoUnit`, three classes whose purpose is determining the delta between points of time. Please indicate which parts of my wall of text are irrelevant. And you are incorrect in saying the Question asked for a delta between dates: The Question asked for a delta between `Date` objects, which are date-time moments, not dates despite the unfortunate naming of that class.","body":"@Buffalo I dont understand your comment. My Answer involves <code>Period</code>, <code>Duration</code>, and <code>ChronoUnit</code>, three classes whose purpose is determining the delta between points of time. Please indicate which parts of my wall of text are irrelevant. And you are incorrect in saying the Question asked for a delta between dates: The Question asked for a delta between <code>Date</code> objects, which are date-time moments, not dates despite the unfortunate naming of that class."},{"owner":{"account_id":352002,"reputation":3871,"user_id":688843,"accept_rate":87,"display_name":"Buffalo"},"score":0,"creation_date":1521619283,"post_id":22588328,"comment_id":85803106,"body_markdown":"There is nothing in your comment that handles two existing java.util.Date objects. I tried using various snippets in my code and found nothing that uses a java.util.Date object.","body":"There is nothing in your comment that handles two existing java.util.Date objects. I tried using various snippets in my code and found nothing that uses a java.util.Date object."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1521620949,"post_id":22588328,"comment_id":85803968,"body_markdown":"@Buffalo Fair enough, good criticism. I added code in the &quot;tl;dr&quot; section converting from a `java.util.Date` to an `Instant` (just call `.toInstant`). And I added the `Moment` section to explain. You mentioned a pair of `Date` objects, but actually the Question uses only a single existing `Date` object and then captures the current moment, so I did the same. Thanks for the feedback! Tip: Give up on using `Date`  Those legacy classes really are an awful wretched mess.","body":"@Buffalo Fair enough, good criticism. I added code in the &quot;tl;dr&quot; section converting from a <code>java.util.Date</code> to an <code>Instant</code> (just call <code>.toInstant</code>). And I added the <code>Moment</code> section to explain. You mentioned a pair of <code>Date</code> objects, but actually the Question uses only a single existing <code>Date</code> object and then captures the current moment, so I did the same. Thanks for the feedback! Tip: Give up on using <code>Date</code>  Those legacy classes really are an awful wretched mess."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":4,"down_vote_count":1,"up_vote_count":69,"is_accepted":false,"score":68,"last_activity_date":1521621315,"creation_date":1395561020,"answer_id":22588328,"question_id":1555262,"body_markdown":"# tl;dr\r\n\r\nConvert your obsolete `java.util.Date` objects to their replacement, `java.time.Instant`. Then calculate the elapsed time as a `Duration`.\r\n\r\n    Duration d = \r\n        Duration.between(                   // Calculate the span of time between two moments as a number of hours, minutes, and seconds.\r\n            myJavaUtilDate.toInstant() ,    // Convert legacy class to modern class by calling new method added to the old class.\r\n            Instant.now()                   // Capture the current moment in UTC. About two and a half hours later in this example.\r\n        )\r\n    ;\r\n\r\n&gt;d.toString(): PT2H34M56S\r\n\r\n&gt;d.toMinutes(): 154\r\n\r\n&gt;d.toMinutesPart(): 34\r\n\r\n\r\n# ISO 8601 Format: `PnYnMnDTnHnMnS`\r\n\r\nThe sensible standard [ISO 8601][1] defines a concise textual representation of a span of time as a number of years, months, days, hours, etc. The standard calls such such a span a [duration][2]. The format is `PnYnMnDTnHnMnS` where the `P` means &quot;Period&quot;, the `T` separates the date portion from the time portion, and in between are numbers followed by a letter.\r\n\r\nExamples:\r\n\r\n - `P3Y6M4DT12H30M5S`&lt;br&gt;three years, six months, four days, twelve hours, thirty minutes, and five seconds\r\n - `PT4H30M`&lt;br&gt;Four and a half hours\r\n\r\n\r\n# java.time\r\n\r\nThe [java.time](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) framework built into Java 8 and later supplants the troublesome old `java.util.Date`/`java.util.Calendar` classes. The new classes are inspired by the highly successful [Joda-Time](http://www.joda.org/joda-time/) framework, intended as its successor, similar in concept but re-architected. Defined by [JSR 310](http://jcp.org/en/jsr/detail?id=310). Extended by the [ThreeTen-Extra](http://www.threeten.org/threeten-extra/) project. See the [Tutorial](http://docs.oracle.com/javase/tutorial/datetime/TOC.html).\r\n\r\n## Moment\r\n\r\nThe [`Instant`](http://docs.oracle.com/javase/9/docs/api/java/time/Instant.html) class represents a moment on the timeline in [UTC](https://en.wikipedia.org/wiki/Coordinated_Universal_Time) with a resolution of [nanoseconds](https://en.wikipedia.org/wiki/Nanosecond) (up to nine (9) digits of a decimal fraction). \r\n\r\n    Instant instant = Instant.now() ;  // Capture current moment in UTC.\r\n\r\nBest to avoid the legacy classes such as `Date`/`Calendar`. But if you must inter-operate with old code not yet updated to *java.time*, convert back and forth. Call new conversion methods added to the old classes. For moving from a [`java.util.Date`][3] to an [`Instant`][4], call [`Date::toInstant`][5]. \r\n\r\n    Instant instant = myJavaUtilDate.toInstant() ;  // Convert from legacy `java.util.Date` class to modern `java.time.Instant` class.\r\n\r\n\r\n## Span of time\r\n\r\nThe java.time classes have split this idea of representing a span of time as a number of years, months, days, hours, minutes, seconds into two halves:\r\n\r\n - [`Period`][6] for years, months, days\r\n - [`Duration`][7] for days, hours, minutes, seconds\r\n\r\nHere is an example.\r\n\r\n    ZoneId zoneId = ZoneId.of ( &quot;America/Montreal&quot; );\r\n    ZonedDateTime now = ZonedDateTime.now ( zoneId );\r\n    ZonedDateTime future = now.plusMinutes ( 63 );\r\n    Duration duration = Duration.between ( now , future );\r\n\r\nDump to console.\r\n\r\nBoth `Period` and `Duration` use the [ISO 8601][2] standard for generating a String representation of their value.\r\n\r\n    System.out.println ( &quot;now: &quot; + now + &quot; to future: &quot; + now + &quot; = &quot; + duration );\r\n\r\n&gt;now: 2015-11-26T00:46:48.016-05:00[America/Montreal] to future: 2015-11-26T00:46:48.016-05:00[America/Montreal] = PT1H3M\r\n\r\nJava 9 adds methods to `Duration` to get the days part, hours part, minutes part, and seconds part.\r\n\r\nYou can get the total number of days or hours or minutes or seconds or milliseconds or nanoseconds in the entire Duration.\r\n\r\n    long totalHours = duration.toHours();\r\n\r\nIn Java 9 the [`Duration` class gets new methods][8] for returning the various parts of days, hours, minutes, seconds, milliseconds/nanoseconds. Call the `toPart` methods: `toDaysPart()`, `toHoursPart()`, and so on.\r\n\r\n\r\n# `ChronoUnit`\r\n\r\nIf you only care about a simpler larger granularity of time, such as number of days elapsed, use the [`ChronoUnit`][9] enum.\r\n\r\n    long daysElapsed = ChronoUnit.DAYS.between( earlier , later );\r\n\r\nAnother example.\r\n\r\n    Instant now = Instant.now();\r\n    Instant later = now.plus( Duration.ofHours( 2 ) );\r\n    \r\n    long minutesElapsed = ChronoUnit.MINUTES.between( now , later );\r\n\r\n&gt;120\r\n\r\n----------\r\n\r\n# About java.time\r\n\r\nThe [java.time](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/8/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/8/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nThe [Joda-Time](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to java.time.\r\n\r\nTo learn more, see the [Oracle Tutorial](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8) and [**SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9) and later\r\n  - Built-in. \r\n  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Much of the java.time functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - The [*ThreeTenABP*](https://github.com/JakeWharton/ThreeTenABP) project adapts ***ThreeTen-Backport*** (mentioned above) for Android specifically.\r\n  - See [*How to use*](https://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [ThreeTen-Extra](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n\r\n----------\r\n\r\n\r\n# Joda-Time\r\n\r\nUPDATE: The [Joda-Time](http://www.joda.org/joda-time/) project is now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), with the team advising migration to the [java.time](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) classes. I leave this section intact for history.\r\n\r\nThe Joda-Time library uses ISO 8601 for its defaults. Its `Period` class parses and generates these PnYnMnDTnHnMnS strings.\r\n\r\n    DateTime now = DateTime.now(); // Caveat: Ignoring the important issue of time zones.\r\n    Period period = new Period( now, now.plusHours( 4 ).plusMinutes( 30));\r\n    System.out.println( &quot;period: &quot; + period );\r\n\r\nRenders:\r\n\r\n    period: PT4H30M\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [2]: https://en.wikipedia.org/wiki/ISO_8601#Durations\r\n  [3]: https://docs.oracle.com/javase/9/docs/api/java/util/Date.html\r\n  [4]: https://docs.oracle.com/javase/9/docs/api/java/time/Instant.html\r\n  [5]: https://docs.oracle.com/javase/9/docs/api/java/util/Date.html#toInstant--\r\n  [6]: http://docs.oracle.com/javase/8/docs/api/java/time/Period.html\r\n  [7]: http://docs.oracle.com/javase/8/docs/api/java/time/Duration.html\r\n  [8]: https://bugs.openjdk.java.net/browse/JDK-8142936\r\n  [9]: https://docs.oracle.com/javase/8/docs/api/java/time/temporal/ChronoUnit.html","title":"Calculating the difference between two Java date instances","body":"<h1>tl;dr</h1>\n\n<p>Convert your obsolete <code>java.util.Date</code> objects to their replacement, <code>java.time.Instant</code>. Then calculate the elapsed time as a <code>Duration</code>.</p>\n\n<pre><code>Duration d = \n    Duration.between(                   // Calculate the span of time between two moments as a number of hours, minutes, and seconds.\n        myJavaUtilDate.toInstant() ,    // Convert legacy class to modern class by calling new method added to the old class.\n        Instant.now()                   // Capture the current moment in UTC. About two and a half hours later in this example.\n    )\n;\n</code></pre>\n\n<blockquote>\n  <p>d.toString(): PT2H34M56S</p>\n  \n  <p>d.toMinutes(): 154</p>\n  \n  <p>d.toMinutesPart(): 34</p>\n</blockquote>\n\n<h1>ISO 8601 Format: <code>PnYnMnDTnHnMnS</code></h1>\n\n<p>The sensible standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"noreferrer\">ISO 8601</a> defines a concise textual representation of a span of time as a number of years, months, days, hours, etc. The standard calls such such a span a <a href=\"https://en.wikipedia.org/wiki/ISO_8601#Durations\" rel=\"noreferrer\">duration</a>. The format is <code>PnYnMnDTnHnMnS</code> where the <code>P</code> means \"Period\", the <code>T</code> separates the date portion from the time portion, and in between are numbers followed by a letter.</p>\n\n<p>Examples:</p>\n\n<ul>\n<li><code>P3Y6M4DT12H30M5S</code><br>three years, six months, four days, twelve hours, thirty minutes, and five seconds</li>\n<li><code>PT4H30M</code><br>Four and a half hours</li>\n</ul>\n\n<h1>java.time</h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> framework built into Java 8 and later supplants the troublesome old <code>java.util.Date</code>/<code>java.util.Calendar</code> classes. The new classes are inspired by the highly successful <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a> framework, intended as its successor, similar in concept but re-architected. Defined by <a href=\"http://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>. Extended by the <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"noreferrer\">ThreeTen-Extra</a> project. See the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\">Tutorial</a>.</p>\n\n<h2>Moment</h2>\n\n<p>The <a href=\"http://docs.oracle.com/javase/9/docs/api/java/time/Instant.html\" rel=\"noreferrer\"><code>Instant</code></a> class represents a moment on the timeline in <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"noreferrer\">UTC</a> with a resolution of <a href=\"https://en.wikipedia.org/wiki/Nanosecond\" rel=\"noreferrer\">nanoseconds</a> (up to nine (9) digits of a decimal fraction). </p>\n\n<pre><code>Instant instant = Instant.now() ;  // Capture current moment in UTC.\n</code></pre>\n\n<p>Best to avoid the legacy classes such as <code>Date</code>/<code>Calendar</code>. But if you must inter-operate with old code not yet updated to <em>java.time</em>, convert back and forth. Call new conversion methods added to the old classes. For moving from a <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a> to an <a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/Instant.html\" rel=\"noreferrer\"><code>Instant</code></a>, call <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Date.html#toInstant--\" rel=\"noreferrer\"><code>Date::toInstant</code></a>. </p>\n\n<pre><code>Instant instant = myJavaUtilDate.toInstant() ;  // Convert from legacy `java.util.Date` class to modern `java.time.Instant` class.\n</code></pre>\n\n<h2>Span of time</h2>\n\n<p>The java.time classes have split this idea of representing a span of time as a number of years, months, days, hours, minutes, seconds into two halves:</p>\n\n<ul>\n<li><a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/Period.html\" rel=\"noreferrer\"><code>Period</code></a> for years, months, days</li>\n<li><a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/Duration.html\" rel=\"noreferrer\"><code>Duration</code></a> for days, hours, minutes, seconds</li>\n</ul>\n\n<p>Here is an example.</p>\n\n<pre><code>ZoneId zoneId = ZoneId.of ( \"America/Montreal\" );\nZonedDateTime now = ZonedDateTime.now ( zoneId );\nZonedDateTime future = now.plusMinutes ( 63 );\nDuration duration = Duration.between ( now , future );\n</code></pre>\n\n<p>Dump to console.</p>\n\n<p>Both <code>Period</code> and <code>Duration</code> use the <a href=\"https://en.wikipedia.org/wiki/ISO_8601#Durations\" rel=\"noreferrer\">ISO 8601</a> standard for generating a String representation of their value.</p>\n\n<pre><code>System.out.println ( \"now: \" + now + \" to future: \" + now + \" = \" + duration );\n</code></pre>\n\n<blockquote>\n  <p>now: 2015-11-26T00:46:48.016-05:00[America/Montreal] to future: 2015-11-26T00:46:48.016-05:00[America/Montreal] = PT1H3M</p>\n</blockquote>\n\n<p>Java 9 adds methods to <code>Duration</code> to get the days part, hours part, minutes part, and seconds part.</p>\n\n<p>You can get the total number of days or hours or minutes or seconds or milliseconds or nanoseconds in the entire Duration.</p>\n\n<pre><code>long totalHours = duration.toHours();\n</code></pre>\n\n<p>In Java 9 the <a href=\"https://bugs.openjdk.java.net/browse/JDK-8142936\" rel=\"noreferrer\"><code>Duration</code> class gets new methods</a> for returning the various parts of days, hours, minutes, seconds, milliseconds/nanoseconds. Call the <code>toPart</code> methods: <code>toDaysPart()</code>, <code>toHoursPart()</code>, and so on.</p>\n\n<h1><code>ChronoUnit</code></h1>\n\n<p>If you only care about a simpler larger granularity of time, such as number of days elapsed, use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/temporal/ChronoUnit.html\" rel=\"noreferrer\"><code>ChronoUnit</code></a> enum.</p>\n\n<pre><code>long daysElapsed = ChronoUnit.DAYS.between( earlier , later );\n</code></pre>\n\n<p>Another example.</p>\n\n<pre><code>Instant now = Instant.now();\nInstant later = now.plus( Duration.ofHours( 2 ) );\n\nlong minutesElapsed = ChronoUnit.MINUTES.between( now , later );\n</code></pre>\n\n<blockquote>\n  <p>120</p>\n</blockquote>\n\n<hr>\n\n<h1>About java.time</h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to java.time.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\">Oracle Tutorial</a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>.</p>\n\n<p>Where to obtain the java.time classes? </p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\"><strong>Java SE 8</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>SE 9</strong></a> and later\n\n<ul>\n<li>Built-in. </li>\n<li>Part of the standard Java API with a bundled implementation.</li>\n<li>Java 9 adds some minor features and fixes.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"noreferrer\"><strong>SE 7</strong></a>\n\n<ul>\n<li>Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a>.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\"><strong>Android</strong></a>\n\n<ul>\n<li>The <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><em>ThreeTenABP</em></a> project adapts <strong><em>ThreeTen-Backport</em></strong> (mentioned above) for Android specifically.</li>\n<li>See <a href=\"https://stackoverflow.com/q/38922754/642706\"><em>How to use</em></a>.</li>\n</ul></li>\n</ul>\n\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"noreferrer\">ThreeTen-Extra</a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"noreferrer\">more</a>.</p>\n\n<hr>\n\n<h1>Joda-Time</h1>\n\n<p>UPDATE: The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a> project is now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, with the team advising migration to the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes. I leave this section intact for history.</p>\n\n<p>The Joda-Time library uses ISO 8601 for its defaults. Its <code>Period</code> class parses and generates these PnYnMnDTnHnMnS strings.</p>\n\n<pre><code>DateTime now = DateTime.now(); // Caveat: Ignoring the important issue of time zones.\nPeriod period = new Period( now, now.plusHours( 4 ).plusMinutes( 30));\nSystem.out.println( \"period: \" + period );\n</code></pre>\n\n<p>Renders:</p>\n\n<pre><code>period: PT4H30M\n</code></pre>\n"},{"comments":[{"owner":{"account_id":206958,"reputation":7430,"user_id":456568,"accept_rate":65,"display_name":"Aphex"},"score":7,"creation_date":1481243030,"post_id":23184523,"comment_id":69309790,"body_markdown":"This, or use `Period` instead of `Duration` for dates.","body":"This, or use <code>Period</code> instead of <code>Duration</code> for dates."},{"owner":{"account_id":2759775,"reputation":1831,"user_id":2376892,"accept_rate":67,"display_name":"Deunz"},"score":0,"creation_date":1610121923,"post_id":23184523,"comment_id":116040736,"body_markdown":"nice :) I like this one better","body":"nice :) I like this one better"}],"tags":[],"owner":{"account_id":108817,"reputation":111656,"user_id":288671,"display_name":"Vitalii Fedorenko"},"comment_count":2,"down_vote_count":1,"up_vote_count":79,"is_accepted":false,"score":78,"last_activity_date":1458166484,"creation_date":1398009611,"answer_id":23184523,"question_id":1555262,"body_markdown":"Using the [java.time][1] framework built into Java 8+:\n\n    ZonedDateTime now = ZonedDateTime.now();\n    ZonedDateTime oldDate = now.minusDays(1).minusMinutes(10);\n    Duration duration = Duration.between(oldDate, now);\n    System.out.println(&quot;ISO-8601: &quot; + duration);\n    System.out.println(&quot;Minutes: &quot; + duration.toMinutes());\n\n\nOutput: \n\n&gt; ISO-8601: PT24H10M\n&gt;\n&gt; Minutes: 1450\n\nFor more info, see the [Oracle Tutorial][2] and the [ISO 8601][3] standard.\n\n\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\n  [2]: https://docs.oracle.com/javase/tutorial/datetime/TOC.html\n  [3]: https://en.wikipedia.org/wiki/ISO_8601#Durations","title":"Calculating the difference between two Java date instances","body":"<p>Using the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> framework built into Java 8+:</p>\n<pre><code>ZonedDateTime now = ZonedDateTime.now();\nZonedDateTime oldDate = now.minusDays(1).minusMinutes(10);\nDuration duration = Duration.between(oldDate, now);\nSystem.out.println(&quot;ISO-8601: &quot; + duration);\nSystem.out.println(&quot;Minutes: &quot; + duration.toMinutes());\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<p>ISO-8601: PT24H10M</p>\n<p>Minutes: 1450</p>\n</blockquote>\n<p>For more info, see the <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\">Oracle Tutorial</a> and the <a href=\"https://en.wikipedia.org/wiki/ISO_8601#Durations\" rel=\"noreferrer\">ISO 8601</a> standard.</p>\n"},{"tags":[],"owner":{"account_id":2810135,"reputation":2075,"user_id":2416526,"display_name":"Max"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1402434414,"creation_date":1402434414,"answer_id":24150843,"question_id":1555262,"body_markdown":"Since you are using Scala, there is a very good Scala library [Lamma](http://www.lamma.io/doc/lamma_date). With Lamma you can minus date directly with `-` operator\r\n\r\n    scala&gt; Date(2015, 5, 5) - 2     // minus days by int\r\n    res1: io.lamma.Date = Date(2015,5,3)\r\n\r\n    scala&gt; Date(2015, 5, 15) - Date(2015, 5, 8)   // minus two days =&gt; difference between two days\r\n    res2: Int = 7\r\n","title":"Calculating the difference between two Java date instances","body":"<p>Since you are using Scala, there is a very good Scala library <a href=\"http://www.lamma.io/doc/lamma_date\" rel=\"nofollow\">Lamma</a>. With Lamma you can minus date directly with <code>-</code> operator</p>\n\n<pre><code>scala&gt; Date(2015, 5, 5) - 2     // minus days by int\nres1: io.lamma.Date = Date(2015,5,3)\n\nscala&gt; Date(2015, 5, 15) - Date(2015, 5, 8)   // minus two days =&gt; difference between two days\nres2: Int = 7\n</code></pre>\n"},{"comments":[{"owner":{"account_id":703628,"reputation":14438,"user_id":595305,"accept_rate":83,"display_name":"mike rodent"},"score":0,"creation_date":1488052226,"post_id":26589120,"comment_id":72063856,"body_markdown":"Yes why not? I don&#39;t understand the point of the question in some ways: OP has a difference in ms... and there are a certain number of ms in a day (OK with certain astronomical adjustments once in a blue moon, but the OP doesn&#39;t say that it must be as precise as astronomers need it...)","body":"Yes why not? I don&#39;t understand the point of the question in some ways: OP has a difference in ms... and there are a certain number of ms in a day (OK with certain astronomical adjustments once in a blue moon, but the OP doesn&#39;t say that it must be as precise as astronomers need it...)"}],"tags":[],"owner":{"account_id":5218478,"reputation":809,"user_id":4172628,"accept_rate":83,"display_name":"Revanth Kumar"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1414419101,"creation_date":1414417994,"answer_id":26589120,"question_id":1555262,"body_markdown":"Best thing to do is\r\n\r\n    (Date1-Date2)/86 400 000 \r\n\r\nThat number is the number of _milliseconds_ in a day. \r\n\r\nOne date-other date gives you difference in milliseconds. \r\n\r\nCollect the answer in a **double** variable.","title":"Calculating the difference between two Java date instances","body":"<p>Best thing to do is</p>\n\n<pre><code>(Date1-Date2)/86 400 000 \n</code></pre>\n\n<p>That number is the number of <em>milliseconds</em> in a day. </p>\n\n<p>One date-other date gives you difference in milliseconds. </p>\n\n<p>Collect the answer in a <strong>double</strong> variable.</p>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1416700968,"post_id":27079353,"comment_id":42677052,"body_markdown":"Can you add some explanation of your answers added value? Seems redundant with [this answer](http://stackoverflow.com/a/3491720/642706) and [this answer](http://stackoverflow.com/a/19172605/642706). And other answers seem better, such as making use of the [`TimeUnit`](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/TimeUnit.html) Enum utility class.","body":"Can you add some explanation of your answers added value? Seems redundant with <a href=\"http://stackoverflow.com/a/3491720/642706\">this answer</a> and <a href=\"http://stackoverflow.com/a/19172605/642706\">this answer</a>. And other answers seem better, such as making use of the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/TimeUnit.html\" rel=\"nofollow noreferrer\"><code>TimeUnit</code></a> Enum utility class."},{"owner":{"account_id":5374908,"reputation":1,"user_id":4282175,"display_name":"spysr"},"score":0,"creation_date":1418220422,"post_id":27079353,"comment_id":43250640,"body_markdown":"Actually problem  in each of those implementation is it does count 0 for same day datetime... but with this you can get same day diff as 1 , moreover it depends @BasilBourque","body":"Actually problem  in each of those implementation is it does count 0 for same day datetime... but with this you can get same day diff as 1 , moreover it depends @BasilBourque"}],"tags":[],"owner":{"account_id":5374908,"reputation":1,"user_id":4282175,"display_name":"spysr"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1416671997,"creation_date":1416671997,"answer_id":27079353,"question_id":1555262,"body_markdown":"\tpublic static void main(String[] args) {\r\n\r\n\t\tString dateStart = &quot;01/14/2012 09:29:58&quot;;\r\n\t\tString dateStop = &quot;01/14/2012 10:31:48&quot;;\r\n\r\n\t\tSimpleDateFormat format = new SimpleDateFormat(&quot;MM/dd/yyyy HH:mm:ss&quot;);\r\n\r\n\t\tDate d1 = null;\r\n\t\tDate d2 = null;\r\n\r\n\t\ttry {\r\n\t\t\td1 = format.parse(dateStart);\r\n\t\t\td2 = format.parse(dateStop);\r\n\r\n\t\t\tDateTime date11 = new DateTime(d1);\r\n\t\t\tDateTime date22 = new DateTime(d2);\r\n\t\t\tint days = Days.daysBetween(date11.withTimeAtStartOfDay(), date22.withTimeAtStartOfDay()).getDays();\r\n\t\t\tint hours = Hours.hoursBetween(date11, date22).getHours() % 24;\r\n\t\t\tint minutes = Minutes.minutesBetween(date11, date22).getMinutes() % 60;\r\n\t\t\tint seconds = Seconds.secondsBetween(date11, date22).getSeconds() % 60;\r\n\t\t\tif (hours &gt; 0 || minutes &gt; 0 || seconds &gt; 0) {\r\n\t\t\t\tdays = days + 1;\r\n\t\t\t}\r\n\r\n\t\t\tSystem.out.println(days);\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t}\r\nThis will give date diff for the same day as well","title":"Calculating the difference between two Java date instances","body":"<pre><code>public static void main(String[] args) {\n\n    String dateStart = \"01/14/2012 09:29:58\";\n    String dateStop = \"01/14/2012 10:31:48\";\n\n    SimpleDateFormat format = new SimpleDateFormat(\"MM/dd/yyyy HH:mm:ss\");\n\n    Date d1 = null;\n    Date d2 = null;\n\n    try {\n        d1 = format.parse(dateStart);\n        d2 = format.parse(dateStop);\n\n        DateTime date11 = new DateTime(d1);\n        DateTime date22 = new DateTime(d2);\n        int days = Days.daysBetween(date11.withTimeAtStartOfDay(), date22.withTimeAtStartOfDay()).getDays();\n        int hours = Hours.hoursBetween(date11, date22).getHours() % 24;\n        int minutes = Minutes.minutesBetween(date11, date22).getMinutes() % 60;\n        int seconds = Seconds.secondsBetween(date11, date22).getSeconds() % 60;\n        if (hours &gt; 0 || minutes &gt; 0 || seconds &gt; 0) {\n            days = days + 1;\n        }\n\n        System.out.println(days);\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n}\n</code></pre>\n\n<p>This will give date diff for the same day as well</p>\n"},{"tags":[],"owner":{"account_id":978760,"reputation":1422,"user_id":999043,"accept_rate":83,"display_name":"Ralf H"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1419007334,"creation_date":1419007334,"answer_id":27570288,"question_id":1555262,"body_markdown":"I liked the TimeUnit-based approach until I found out that it only covers the trivial cases where the number of how many units of one timeunit are in the next higher unit is fixed. This breaks apart when you want to know how many months, year, etc are in between. \r\n\r\nhere is a counting approach, not as efficient as some others, but it seems to work for me and takes into account DST, too.\r\n\r\n\tpublic static String getOffsetAsString( Calendar cNow, Calendar cThen) {\r\n\t\tCalendar cBefore;\r\n\t\tCalendar cAfter;\r\n\t\tif ( cNow.getTimeInMillis() &lt; cThen.getTimeInMillis()) {\r\n\t\t\tcBefore = ( Calendar) cNow.clone();\r\n\t\t\tcAfter = cThen;\r\n\t\t} else {\r\n\t\t\tcBefore = ( Calendar) cThen.clone();\r\n\t\t\tcAfter = cNow;\r\n\t\t}\r\n\t\t// compute diff\r\n\t\tMap&lt;Integer, Long&gt; diffMap = new HashMap&lt;Integer, Long&gt;();\r\n\t\tint[] calFields = { Calendar.YEAR, Calendar.MONTH, Calendar.DAY_OF_MONTH, Calendar.HOUR_OF_DAY, Calendar.MINUTE, Calendar.SECOND, Calendar.MILLISECOND};\r\n\t\tfor ( int i = 0; i &lt; calFields.length; i++) {\r\n\t\t\tint field = calFields[ i];\r\n\t\t\tlong\td = computeDist( cAfter, cBefore, field);\r\n\t\t\tdiffMap.put( field, d);\r\n\t\t}\r\n\t\tfinal String result = String.format( &quot;%dY %02dM %dT %02d:%02d:%02d.%03d&quot;,\r\n\t\t\t\tdiffMap.get( Calendar.YEAR), diffMap.get( Calendar.MONTH), diffMap.get( Calendar.DAY_OF_MONTH), diffMap.get( Calendar.HOUR_OF_DAY), diffMap.get( Calendar.MINUTE), diffMap.get( Calendar.SECOND), diffMap.get( Calendar.MILLISECOND));\r\n\t\treturn result;\r\n\t}\r\n\r\n\tprivate static int computeDist( Calendar cAfter, Calendar cBefore, int field) {\r\n\t\tcBefore.setLenient( true);\r\n\t\tSystem.out.print( &quot;D &quot; + new Date( cBefore.getTimeInMillis()) + &quot; --- &quot; + new Date( cAfter.getTimeInMillis()) + &quot;: &quot;);\r\n\t\tint\tcount = 0;\r\n\t\tif ( cAfter.getTimeInMillis() &gt; cBefore.getTimeInMillis()) {\r\n\t\t\tint\tfVal = cBefore.get( field);\r\n\t\t\twhile ( cAfter.getTimeInMillis() &gt;= cBefore.getTimeInMillis()) {\r\n\t\t\t\tcount++;\r\n\t\t\t\tfVal = cBefore.get( field);\r\n\t\t\t\tcBefore.set( field, fVal + 1);\r\n\t\t\t\tSystem.out.print( count + &quot;/&quot;  + ( fVal + 1) + &quot;: &quot; + new Date( cBefore.getTimeInMillis()) + &quot; ] &quot;);\r\n\t\t\t}\r\n\t\t\tint result = count - 1;\r\n\t\t\tcBefore.set( field, fVal);\r\n\t\t\tSystem.out.println( &quot;&quot; + result + &quot; at: &quot; + field + &quot; cb = &quot; + new Date( cBefore.getTimeInMillis()));\r\n\t\t\treturn result;\r\n\t\t}\r\n\t\treturn 0;\r\n\t}\r\n","title":"Calculating the difference between two Java date instances","body":"<p>I liked the TimeUnit-based approach until I found out that it only covers the trivial cases where the number of how many units of one timeunit are in the next higher unit is fixed. This breaks apart when you want to know how many months, year, etc are in between. </p>\n\n<p>here is a counting approach, not as efficient as some others, but it seems to work for me and takes into account DST, too.</p>\n\n<pre><code>public static String getOffsetAsString( Calendar cNow, Calendar cThen) {\n    Calendar cBefore;\n    Calendar cAfter;\n    if ( cNow.getTimeInMillis() &lt; cThen.getTimeInMillis()) {\n        cBefore = ( Calendar) cNow.clone();\n        cAfter = cThen;\n    } else {\n        cBefore = ( Calendar) cThen.clone();\n        cAfter = cNow;\n    }\n    // compute diff\n    Map&lt;Integer, Long&gt; diffMap = new HashMap&lt;Integer, Long&gt;();\n    int[] calFields = { Calendar.YEAR, Calendar.MONTH, Calendar.DAY_OF_MONTH, Calendar.HOUR_OF_DAY, Calendar.MINUTE, Calendar.SECOND, Calendar.MILLISECOND};\n    for ( int i = 0; i &lt; calFields.length; i++) {\n        int field = calFields[ i];\n        long    d = computeDist( cAfter, cBefore, field);\n        diffMap.put( field, d);\n    }\n    final String result = String.format( \"%dY %02dM %dT %02d:%02d:%02d.%03d\",\n            diffMap.get( Calendar.YEAR), diffMap.get( Calendar.MONTH), diffMap.get( Calendar.DAY_OF_MONTH), diffMap.get( Calendar.HOUR_OF_DAY), diffMap.get( Calendar.MINUTE), diffMap.get( Calendar.SECOND), diffMap.get( Calendar.MILLISECOND));\n    return result;\n}\n\nprivate static int computeDist( Calendar cAfter, Calendar cBefore, int field) {\n    cBefore.setLenient( true);\n    System.out.print( \"D \" + new Date( cBefore.getTimeInMillis()) + \" --- \" + new Date( cAfter.getTimeInMillis()) + \": \");\n    int count = 0;\n    if ( cAfter.getTimeInMillis() &gt; cBefore.getTimeInMillis()) {\n        int fVal = cBefore.get( field);\n        while ( cAfter.getTimeInMillis() &gt;= cBefore.getTimeInMillis()) {\n            count++;\n            fVal = cBefore.get( field);\n            cBefore.set( field, fVal + 1);\n            System.out.print( count + \"/\"  + ( fVal + 1) + \": \" + new Date( cBefore.getTimeInMillis()) + \" ] \");\n        }\n        int result = count - 1;\n        cBefore.set( field, fVal);\n        System.out.println( \"\" + result + \" at: \" + field + \" cb = \" + new Date( cBefore.getTimeInMillis()));\n        return result;\n    }\n    return 0;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5055569,"reputation":3946,"user_id":4058910,"accept_rate":23,"display_name":"Shravan Ramamurthy"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1667908027,"creation_date":1420572957,"answer_id":27805882,"question_id":1555262,"body_markdown":"Note: startDate and endDates are -&gt; java.util.Date \r\n\r\n    import org.joda.time.Duration;\r\n    import org.joda.time.Interval;\r\n    // Use .getTime() unless it is a joda DateTime object\r\n    Interval interval = new Interval(startDate.getTime(), endDate.getTime());\r\n    Duration period = interval.toDuration();\r\n    //gives the number of days elapsed between start and end date.\r\n    period.getStandardDays();\r\n\r\n\r\n\r\nSimilar to days, you can also  get hours, minutes and seconds\r\n\r\n    period.getStandardHours();\r\n    period.getStandardMinutes();\r\n    period.getStandardSeconds();","title":"Calculating the difference between two Java date instances","body":"<p>Note: startDate and endDates are -&gt; java.util.Date</p>\n<pre><code>import org.joda.time.Duration;\nimport org.joda.time.Interval;\n// Use .getTime() unless it is a joda DateTime object\nInterval interval = new Interval(startDate.getTime(), endDate.getTime());\nDuration period = interval.toDuration();\n//gives the number of days elapsed between start and end date.\nperiod.getStandardDays();\n</code></pre>\n<p>Similar to days, you can also  get hours, minutes and seconds</p>\n<pre><code>period.getStandardHours();\nperiod.getStandardMinutes();\nperiod.getStandardSeconds();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1422515696,"post_id":28206669,"comment_id":44782549,"body_markdown":"Thanks for trying to contribute to StackOverflow. I suggest you add some discussion or explanation. StackOverflow is meant to more than a snippet library. So you should explain (a) how your code works, and (b) how it adds value beyond the many other Answers already posted on this Question. Also, this code is not complete, with variables such as `dtfObj` that have no declaration nor assignment. Lastly, as an aside, I offer this tip: You can use the more general `Map` interface on the left of your first line rather than `LinkedHashMap`. That is one of the points/benefits to polymorphism.","body":"Thanks for trying to contribute to StackOverflow. I suggest you add some discussion or explanation. StackOverflow is meant to more than a snippet library. So you should explain (a) how your code works, and (b) how it adds value beyond the many other Answers already posted on this Question. Also, this code is not complete, with variables such as <code>dtfObj</code> that have no declaration nor assignment. Lastly, as an aside, I offer this tip: You can use the more general <code>Map</code> interface on the left of your first line rather than <code>LinkedHashMap</code>. That is one of the points/benefits to polymorphism."},{"owner":{"account_id":2306276,"reputation":70,"user_id":2025512,"display_name":"The N.."},"score":0,"creation_date":1423721525,"post_id":28206669,"comment_id":45265579,"body_markdown":"@BasilBourque : Hi, I have made expected changes and sure will try to add more for explanation.","body":"@BasilBourque : Hi, I have made expected changes and sure will try to add more for explanation."}],"tags":[],"owner":{"account_id":2306276,"reputation":70,"user_id":2025512,"display_name":"The N.."},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1423721431,"creation_date":1422503033,"answer_id":28206669,"question_id":1555262,"body_markdown":"This is another sample. Which basically works for user-defined pattern.\r\n\r\n       public static LinkedHashMap&lt;String, Object&gt; checkDateDiff(DateTimeFormatter dtfObj, String startDate, String endDate)\r\n       {\r\n              Map&lt;String, Object&gt; dateDiffMap = new HashMap&lt;String, Object&gt;();\r\n              DateTime start = DateTime.parse(startDate,dtfObj);\r\n              DateTime end = DateTime.parse(endDate,dtfObj);\r\n              Interval interval = new Interval(start, end);\r\n              Period period = interval.toPeriod();\r\n              \r\n              dateDiffMap.put(&quot;ISO-8601_PERIOD_FORMAT&quot;, period);\r\n              dateDiffMap.put(&quot;YEAR&quot;, period.getYears());\r\n              dateDiffMap.put(&quot;MONTH&quot;, period.getMonths());\r\n              dateDiffMap.put(&quot;WEEK&quot;, period.getWeeks());\r\n              dateDiffMap.put(&quot;DAY&quot;, period.getWeeks());             \r\n              dateDiffMap.put(&quot;HOUR&quot;, period.getHours());\r\n              dateDiffMap.put(&quot;MINUTE&quot;, period.getMinutes());\r\n              dateDiffMap.put(&quot;SECOND&quot;, period.getSeconds());\r\n              \r\n              return dateDiffMap;        \r\n       }\r\n","title":"Calculating the difference between two Java date instances","body":"<p>This is another sample. Which basically works for user-defined pattern.</p>\n\n<pre><code>   public static LinkedHashMap&lt;String, Object&gt; checkDateDiff(DateTimeFormatter dtfObj, String startDate, String endDate)\n   {\n          Map&lt;String, Object&gt; dateDiffMap = new HashMap&lt;String, Object&gt;();\n          DateTime start = DateTime.parse(startDate,dtfObj);\n          DateTime end = DateTime.parse(endDate,dtfObj);\n          Interval interval = new Interval(start, end);\n          Period period = interval.toPeriod();\n\n          dateDiffMap.put(\"ISO-8601_PERIOD_FORMAT\", period);\n          dateDiffMap.put(\"YEAR\", period.getYears());\n          dateDiffMap.put(\"MONTH\", period.getMonths());\n          dateDiffMap.put(\"WEEK\", period.getWeeks());\n          dateDiffMap.put(\"DAY\", period.getWeeks());             \n          dateDiffMap.put(\"HOUR\", period.getHours());\n          dateDiffMap.put(\"MINUTE\", period.getMinutes());\n          dateDiffMap.put(\"SECOND\", period.getSeconds());\n\n          return dateDiffMap;        \n   }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2437420,"reputation":2668,"user_id":2126955,"accept_rate":86,"display_name":"GHC"},"score":3,"creation_date":1424332668,"post_id":28600980,"comment_id":45507846,"body_markdown":"Can you explain exactly what your code does?  The question seems to be asking about a time delta and, on first glance, your code would seem to return a day delta?","body":"Can you explain exactly what your code does?  The question seems to be asking about a time delta and, on first glance, your code would seem to return a day delta?"}],"tags":[],"owner":{"account_id":5811991,"reputation":110,"user_id":4582731,"display_name":"Vishal Ganjare"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1426446828,"creation_date":1424331898,"answer_id":28600980,"question_id":1555262,"body_markdown":"Following code can give you the desired output:\r\n\r\n    String startDate = &quot;Jan 01 2015&quot;;\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;MMM dd yyyy&quot;);\r\n    LocalDate date = LocalDate.parse(startDate, formatter);\r\n\t\t\r\n    String currentDate = &quot;Feb 11 2015&quot;;\r\n    LocalDate date1 = LocalDate.parse(currentDate, formatter);\r\n\t\t\r\n    System.out.println(date1.toEpochDay() - date.toEpochDay());","title":"Calculating the difference between two Java date instances","body":"<p>Following code can give you the desired output:</p>\n\n<pre><code>String startDate = \"Jan 01 2015\";\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(\"MMM dd yyyy\");\nLocalDate date = LocalDate.parse(startDate, formatter);\n\nString currentDate = \"Feb 11 2015\";\nLocalDate date1 = LocalDate.parse(currentDate, formatter);\n\nSystem.out.println(date1.toEpochDay() - date.toEpochDay());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6826211,"reputation":31,"user_id":5251858,"display_name":"MugiWara No Carlos"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1440159062,"creation_date":1440159062,"answer_id":32140033,"question_id":1555262,"body_markdown":"Just to answer the initial question:\r\n\r\nPut the following code in a Function like Long getAge(){}\r\n\r\n\r\n    Date dahora = new Date();\r\n    long MillisToYearsByDiv = 1000l *60l * 60l * 24l * 365l;\r\n    long javaOffsetInMillis = 1990l * MillisToYearsByDiv;\r\n    long realNowInMillis = dahora.getTime() + javaOffsetInMillis;\r\n    long realBirthDayInMillis = this.getFechaNac().getTime() + javaOffsetInMillis;\r\n    long ageInMillis = realNowInMillis - realBirthDayInMillis;\r\n\r\n    return ageInMillis / MillisToYearsByDiv;\r\n\r\nThe most important here is to work with long numbers when multiplying and dividing. And of course, the offset that Java applies in its calculus of Dates.\r\n\r\n:)","title":"Calculating the difference between two Java date instances","body":"<p>Just to answer the initial question:</p>\n\n<p>Put the following code in a Function like Long getAge(){}</p>\n\n<pre><code>Date dahora = new Date();\nlong MillisToYearsByDiv = 1000l *60l * 60l * 24l * 365l;\nlong javaOffsetInMillis = 1990l * MillisToYearsByDiv;\nlong realNowInMillis = dahora.getTime() + javaOffsetInMillis;\nlong realBirthDayInMillis = this.getFechaNac().getTime() + javaOffsetInMillis;\nlong ageInMillis = realNowInMillis - realBirthDayInMillis;\n\nreturn ageInMillis / MillisToYearsByDiv;\n</code></pre>\n\n<p>The most important here is to work with long numbers when multiplying and dividing. And of course, the offset that Java applies in its calculus of Dates.</p>\n\n<p>:)</p>\n"},{"tags":[],"owner":{"account_id":3782951,"reputation":3308,"user_id":3141849,"accept_rate":70,"display_name":"Parth Solanki"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1440401470,"creation_date":1440401470,"answer_id":32176653,"question_id":1555262,"body_markdown":"    public static String getDifferenceBtwTime(Date dateTime) {\r\n\t\t\r\n\t\tlong timeDifferenceMilliseconds = new Date().getTime() - dateTime.getTime();\r\n\t\tlong diffSeconds = timeDifferenceMilliseconds / 1000;\r\n\t    long diffMinutes = timeDifferenceMilliseconds / (60 * 1000);\r\n\t    long diffHours = timeDifferenceMilliseconds / (60 * 60 * 1000);\r\n\t    long diffDays = timeDifferenceMilliseconds / (60 * 60 * 1000 * 24);\r\n\t    long diffWeeks = timeDifferenceMilliseconds / (60 * 60 * 1000 * 24 * 7);\r\n\t    long diffMonths = (long) (timeDifferenceMilliseconds / (60 * 60 * 1000 * 24 * 30.41666666));\r\n\t    long diffYears = (long)(timeDifferenceMilliseconds / (1000 * 60 * 60 * 24 * 365));\r\n\t    \r\n\t    if (diffSeconds &lt; 1) {\r\n\t        return &quot;one sec ago&quot;;\r\n\t    } else if (diffMinutes &lt; 1) {\r\n\t        return diffSeconds + &quot; seconds ago&quot;;\r\n\t    } else if (diffHours &lt; 1) {\r\n\t        return diffMinutes + &quot; minutes ago&quot;;\r\n\t    } else if (diffDays &lt; 1) {\r\n\t        return diffHours + &quot; hours ago&quot;;\r\n\t    } else if (diffWeeks &lt; 1) {\r\n\t        return diffDays + &quot; days ago&quot;;\r\n\t    } else if (diffMonths &lt; 1) {\r\n\t        return diffWeeks + &quot; weeks ago&quot;;\r\n\t    } else if (diffYears &lt; 12) {\r\n\t        return diffMonths + &quot; months ago&quot;;\r\n\t    } else {\r\n\t        return diffYears + &quot; years ago&quot;;\r\n\t    }\r\n\t}\t","title":"Calculating the difference between two Java date instances","body":"<pre><code>public static String getDifferenceBtwTime(Date dateTime) {\n\n    long timeDifferenceMilliseconds = new Date().getTime() - dateTime.getTime();\n    long diffSeconds = timeDifferenceMilliseconds / 1000;\n    long diffMinutes = timeDifferenceMilliseconds / (60 * 1000);\n    long diffHours = timeDifferenceMilliseconds / (60 * 60 * 1000);\n    long diffDays = timeDifferenceMilliseconds / (60 * 60 * 1000 * 24);\n    long diffWeeks = timeDifferenceMilliseconds / (60 * 60 * 1000 * 24 * 7);\n    long diffMonths = (long) (timeDifferenceMilliseconds / (60 * 60 * 1000 * 24 * 30.41666666));\n    long diffYears = (long)(timeDifferenceMilliseconds / (1000 * 60 * 60 * 24 * 365));\n\n    if (diffSeconds &lt; 1) {\n        return \"one sec ago\";\n    } else if (diffMinutes &lt; 1) {\n        return diffSeconds + \" seconds ago\";\n    } else if (diffHours &lt; 1) {\n        return diffMinutes + \" minutes ago\";\n    } else if (diffDays &lt; 1) {\n        return diffHours + \" hours ago\";\n    } else if (diffWeeks &lt; 1) {\n        return diffDays + \" days ago\";\n    } else if (diffMonths &lt; 1) {\n        return diffWeeks + \" weeks ago\";\n    } else if (diffYears &lt; 12) {\n        return diffMonths + \" months ago\";\n    } else {\n        return diffYears + \" years ago\";\n    }\n}   \n</code></pre>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1444062659,"post_id":32946660,"comment_id":53731543,"body_markdown":"Glad to see you participating in StackOverflow. Please add some discussion along with your posted code example. Explain how your code works, how your Answer differs from the others, point out any tricky concepts, link to doc, and so on. StackOverflow is meant to be more than a code snippet library.","body":"Glad to see you participating in StackOverflow. Please add some discussion along with your posted code example. Explain how your code works, how your Answer differs from the others, point out any tricky concepts, link to doc, and so on. StackOverflow is meant to be more than a code snippet library."}],"tags":[],"owner":{"account_id":4851105,"reputation":2446,"user_id":3913366,"accept_rate":79,"display_name":"Shubham A."},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1444106465,"creation_date":1444041811,"answer_id":32946660,"question_id":1555262,"body_markdown":"Just use below method with two `Date` objects. If you want to pass current date, just pass `new Date()` as a second parameter as it is initialised with current time.\r\n    \r\n    public String getDateDiffString(Date dateOne, Date dateTwo)\r\n    {\r\n        long timeOne = dateOne.getTime();\r\n        long timeTwo = dateTwo.getTime();\r\n        long oneDay = 1000 * 60 * 60 * 24;\r\n        long delta = (timeTwo - timeOne) / oneDay;\r\n\r\n        if (delta &gt; 0) {\r\n            return &quot;dateTwo is &quot; + delta + &quot; days after dateOne&quot;;\r\n        }\r\n        else {\r\n            delta *= -1;\r\n            return &quot;dateTwo is &quot; + delta + &quot; days before dateOne&quot;;\r\n         }\r\n    }\r\nAlso, apart from from number of days, if, you want other parameter difference too, use below snippet,\r\n\r\n    int year = delta / 365;\r\n    int rest = delta % 365;\r\n    int month = rest / 30;\r\n    rest = rest % 30;\r\n    int weeks = rest / 7;\r\n    int days = rest % 7;\r\n\r\nP.S Code is entirely taken from an SO answer.","title":"Calculating the difference between two Java date instances","body":"<p>Just use below method with two <code>Date</code> objects. If you want to pass current date, just pass <code>new Date()</code> as a second parameter as it is initialised with current time.</p>\n\n<pre><code>public String getDateDiffString(Date dateOne, Date dateTwo)\n{\n    long timeOne = dateOne.getTime();\n    long timeTwo = dateTwo.getTime();\n    long oneDay = 1000 * 60 * 60 * 24;\n    long delta = (timeTwo - timeOne) / oneDay;\n\n    if (delta &gt; 0) {\n        return \"dateTwo is \" + delta + \" days after dateOne\";\n    }\n    else {\n        delta *= -1;\n        return \"dateTwo is \" + delta + \" days before dateOne\";\n     }\n}\n</code></pre>\n\n<p>Also, apart from from number of days, if, you want other parameter difference too, use below snippet,</p>\n\n<pre><code>int year = delta / 365;\nint rest = delta % 365;\nint month = rest / 30;\nrest = rest % 30;\nint weeks = rest / 7;\nint days = rest % 7;\n</code></pre>\n\n<p>P.S Code is entirely taken from an SO answer.</p>\n"},{"comments":[{"owner":{"account_id":19815,"reputation":21775,"user_id":46768,"accept_rate":74,"display_name":"pr1001"},"score":3,"creation_date":1446136825,"post_id":33368070,"comment_id":54629305,"body_markdown":"This assumes a constant number of milliseconds in a day. This is not always true.","body":"This assumes a constant number of milliseconds in a day. This is not always true."},{"owner":{"account_id":16209703,"reputation":537,"user_id":11704057,"display_name":"M22"},"score":0,"creation_date":1638054217,"post_id":33368070,"comment_id":123986359,"body_markdown":"Yes, as @pr1001 mentioned. What if you measure today at 22:00 and day after tomorrow at 00:00? You will have 1.08 which will result in 1 day difference, but in fact suppose to be 2!","body":"Yes, as @pr1001 mentioned. What if you measure today at 22:00 and day after tomorrow at 00:00? You will have 1.08 which will result in 1 day difference, but in fact suppose to be 2!"}],"tags":[],"owner":{"account_id":2693973,"reputation":4489,"user_id":2330860,"accept_rate":42,"display_name":"Vishal Kumar"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1445949055,"creation_date":1445949055,"answer_id":33368070,"question_id":1555262,"body_markdown":"There is an easy way to do this in java\r\n\r\n//create an utility method\r\n\r\n    public long getDaysBetweenDates(Date d1, Date d2){\r\n    return TimeUnit.MILLISECONDS.toDays(d1.getTime() - d2.getTime());\r\n    }\r\n\r\nThis method will return the number of days between the 2 dates. Either you can use the default java date format or can easily convert from any date format.","title":"Calculating the difference between two Java date instances","body":"<p>There is an easy way to do this in java</p>\n\n<p>//create an utility method</p>\n\n<pre><code>public long getDaysBetweenDates(Date d1, Date d2){\nreturn TimeUnit.MILLISECONDS.toDays(d1.getTime() - d2.getTime());\n}\n</code></pre>\n\n<p>This method will return the number of days between the 2 dates. Either you can use the default java date format or can easily convert from any date format.</p>\n"},{"tags":[],"owner":{"account_id":7213614,"reputation":354,"user_id":5506871,"display_name":"William Greendale"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1446250509,"creation_date":1446250509,"answer_id":33446658,"question_id":1555262,"body_markdown":"After having read many answers and comments to this question, I was left with the impression that one either has to use the Joda time or else take into account some peculiarities with the daylight saving time etc. Since I didn&#39;t want to do either of these, I ended up writing a few lines of code to calculate the difference between two dates without using any date or time related Java classes.\r\n\r\nIn the code below the numbers of year, month and day are the same as in real life. For example in December 24th 2015, the year = 2015, the month = 12 and the day = 24.\r\n\r\nI want to share this code in case someone else wants to use it. There are 3 methods: 1) A method to find out whether a given year is a leap year 2) A method to calculate the number of a given day in relation to January 1st of a given year 3) A method to calculate the number of days between any two dates using the method 2 (number of the end date minus number of the start date).\r\n\r\nHere are the methods:\r\n\r\n1)\r\n\r\n    public static boolean isLeapYear (int year) {\r\n        //Every 4. year is a leap year, except if the year is divisible by 100 and not by 400\r\n        //For example 1900 is not a leap year but 2000 is\r\n\r\n        boolean result = false;\r\n\r\n        if (year % 4 == 0) {\r\n            result = true;\r\n        }\r\n        if (year % 100 == 0) {\r\n            result = false;\r\n        }\r\n        if (year % 400 == 0) {\r\n            result = true;\r\n        }\r\n\r\n        return result;\r\n\r\n    }\r\n\r\n\r\n2)\r\n\r\n    public static int daysGoneSince (int yearZero, int year, int month, int day) {\r\n        //Calculates the day number of the given date; day 1 = January 1st in the yearZero\r\n\r\n        //Validate the input\r\n        if (year &lt; yearZero || month &lt; 1 || month &gt; 12 || day &lt; 1 || day &gt; 31) {\r\n            //Throw an exception\r\n            throw new IllegalArgumentException(&quot;Too many or too few days in month or months in year or the year is smaller than year zero&quot;);\r\n        }\r\n        else if (month == 4 || month == 6 || month == 9 || month == 11) {//Months with 30 days\r\n            if (day == 31) {\r\n                //Throw an exception\r\n                throw new IllegalArgumentException(&quot;Too many days in month&quot;);\r\n            }\r\n        }\r\n        else if (month == 2) {//February 28 or 29\r\n            if (isLeapYear(year)) {\r\n                if (day &gt; 29) {\r\n                    //Throw an exception\r\n                    throw new IllegalArgumentException(&quot;Too many days in month&quot;);\r\n                }\r\n            }\r\n            else if (day &gt; 28) {\r\n                //Throw an exception\r\n                throw new IllegalArgumentException(&quot;Too many days in month&quot;);\r\n            }\r\n        }\r\n\r\n        //Start counting days\r\n        int days = 0;\r\n\r\n        //Days in the target month until the target day\r\n        days = days + day;\r\n\r\n        //Days in the earlier months in the target year\r\n        for (int i = 1; i &lt; month; i++) {\r\n            switch (i) {\r\n                case 1: case 3: case 5:\r\n                case 7: case 8: case 10:\r\n                case 12:\r\n                    days = days + 31;\r\n                    break;\r\n                case 2:\r\n                    days = days + 28;\r\n                    if (isLeapYear(year)) {\r\n                        days = days + 1;\r\n                    }\r\n                    break;\r\n                case 4: case 6: case 9: case 11:\r\n                    days = days + 30;\r\n                    break;\r\n            }\r\n        }\r\n\r\n        //Days in the earlier years\r\n        for (int i = yearZero; i &lt; year; i++) {\r\n            days = days + 365;\r\n            if (isLeapYear(i)) {\r\n                days = days + 1;\r\n            }\r\n        }\r\n\r\n        return days;\r\n\r\n    }\r\n\r\n\r\n3)\r\n\r\n\r\n    public static int dateDiff (int startYear, int startMonth, int startDay, int endYear, int endMonth, int endDay) {\r\n\r\n        int yearZero;\r\n\r\n        //daysGoneSince presupposes that the first argument be smaller or equal to the second argument\r\n        if (10000 * startYear + 100 * startMonth + startDay &gt; 10000 * endYear + 100 * endMonth + endDay) {//If the end date is earlier than the start date\r\n            yearZero = endYear;\r\n        }\r\n        else {\r\n            yearZero = startYear;\r\n        }\r\n\r\n        return daysGoneSince(yearZero, endYear, endMonth, endDay) - daysGoneSince(yearZero, startYear, startMonth, startDay);\r\n\r\n    }\r\n","title":"Calculating the difference between two Java date instances","body":"<p>After having read many answers and comments to this question, I was left with the impression that one either has to use the Joda time or else take into account some peculiarities with the daylight saving time etc. Since I didn't want to do either of these, I ended up writing a few lines of code to calculate the difference between two dates without using any date or time related Java classes.</p>\n\n<p>In the code below the numbers of year, month and day are the same as in real life. For example in December 24th 2015, the year = 2015, the month = 12 and the day = 24.</p>\n\n<p>I want to share this code in case someone else wants to use it. There are 3 methods: 1) A method to find out whether a given year is a leap year 2) A method to calculate the number of a given day in relation to January 1st of a given year 3) A method to calculate the number of days between any two dates using the method 2 (number of the end date minus number of the start date).</p>\n\n<p>Here are the methods:</p>\n\n<p>1)</p>\n\n<pre><code>public static boolean isLeapYear (int year) {\n    //Every 4. year is a leap year, except if the year is divisible by 100 and not by 400\n    //For example 1900 is not a leap year but 2000 is\n\n    boolean result = false;\n\n    if (year % 4 == 0) {\n        result = true;\n    }\n    if (year % 100 == 0) {\n        result = false;\n    }\n    if (year % 400 == 0) {\n        result = true;\n    }\n\n    return result;\n\n}\n</code></pre>\n\n<p>2)</p>\n\n<pre><code>public static int daysGoneSince (int yearZero, int year, int month, int day) {\n    //Calculates the day number of the given date; day 1 = January 1st in the yearZero\n\n    //Validate the input\n    if (year &lt; yearZero || month &lt; 1 || month &gt; 12 || day &lt; 1 || day &gt; 31) {\n        //Throw an exception\n        throw new IllegalArgumentException(\"Too many or too few days in month or months in year or the year is smaller than year zero\");\n    }\n    else if (month == 4 || month == 6 || month == 9 || month == 11) {//Months with 30 days\n        if (day == 31) {\n            //Throw an exception\n            throw new IllegalArgumentException(\"Too many days in month\");\n        }\n    }\n    else if (month == 2) {//February 28 or 29\n        if (isLeapYear(year)) {\n            if (day &gt; 29) {\n                //Throw an exception\n                throw new IllegalArgumentException(\"Too many days in month\");\n            }\n        }\n        else if (day &gt; 28) {\n            //Throw an exception\n            throw new IllegalArgumentException(\"Too many days in month\");\n        }\n    }\n\n    //Start counting days\n    int days = 0;\n\n    //Days in the target month until the target day\n    days = days + day;\n\n    //Days in the earlier months in the target year\n    for (int i = 1; i &lt; month; i++) {\n        switch (i) {\n            case 1: case 3: case 5:\n            case 7: case 8: case 10:\n            case 12:\n                days = days + 31;\n                break;\n            case 2:\n                days = days + 28;\n                if (isLeapYear(year)) {\n                    days = days + 1;\n                }\n                break;\n            case 4: case 6: case 9: case 11:\n                days = days + 30;\n                break;\n        }\n    }\n\n    //Days in the earlier years\n    for (int i = yearZero; i &lt; year; i++) {\n        days = days + 365;\n        if (isLeapYear(i)) {\n            days = days + 1;\n        }\n    }\n\n    return days;\n\n}\n</code></pre>\n\n<p>3)</p>\n\n<pre><code>public static int dateDiff (int startYear, int startMonth, int startDay, int endYear, int endMonth, int endDay) {\n\n    int yearZero;\n\n    //daysGoneSince presupposes that the first argument be smaller or equal to the second argument\n    if (10000 * startYear + 100 * startMonth + startDay &gt; 10000 * endYear + 100 * endMonth + endDay) {//If the end date is earlier than the start date\n        yearZero = endYear;\n    }\n    else {\n        yearZero = startYear;\n    }\n\n    return daysGoneSince(yearZero, endYear, endMonth, endDay) - daysGoneSince(yearZero, startYear, startMonth, startDay);\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1098340,"reputation":9801,"user_id":1091436,"accept_rate":50,"display_name":"VasiliNovikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1491983149,"creation_date":1448367168,"answer_id":33893441,"question_id":1555262,"body_markdown":"Since the question is tagged with Scala,\r\n\r\n\timport scala.concurrent.duration._\r\n\tval diff = (System.currentTimeMillis() - oldDate.getTime).milliseconds\r\n\tval diffSeconds = diff.toSeconds\r\n\tval diffMinutes = diff.toMinutes\r\n\tval diffHours = diff.toHours\r\n\tval diffDays = diff.toDays","title":"Calculating the difference between two Java date instances","body":"<p>Since the question is tagged with Scala,</p>\n\n<pre><code>import scala.concurrent.duration._\nval diff = (System.currentTimeMillis() - oldDate.getTime).milliseconds\nval diffSeconds = diff.toSeconds\nval diffMinutes = diff.toMinutes\nval diffHours = diff.toHours\nval diffDays = diff.toDays\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2987511,"reputation":3024,"user_id":5772982,"display_name":"Kumar Abhishek"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1477494772,"creation_date":1477494772,"answer_id":40265989,"question_id":1555262,"body_markdown":" Earlier versions of Java you can try.\r\n\r\n     public static String daysBetween(Date createdDate, Date expiryDate) {\r\n    \r\n            Calendar createdDateCal = Calendar.getInstance();\r\n            createdDateCal.clear();\r\n            createdDateCal.setTime(createdDate);\r\n    \r\n            Calendar expiryDateCal = Calendar.getInstance();\r\n            expiryDateCal.clear();\r\n            expiryDateCal.setTime(expiryDate);\r\n    \r\n    \r\n            long daysBetween = 0;\r\n            while (createdDateCal.before(expiryDateCal)) {\r\n                createdDateCal.add(Calendar.DAY_OF_MONTH, 1);\r\n                daysBetween++;\r\n            }\r\n            return daysBetween+&quot;&quot;;\r\n        }","title":"Calculating the difference between two Java date instances","body":"<p>Earlier versions of Java you can try.</p>\n\n<pre><code> public static String daysBetween(Date createdDate, Date expiryDate) {\n\n        Calendar createdDateCal = Calendar.getInstance();\n        createdDateCal.clear();\n        createdDateCal.setTime(createdDate);\n\n        Calendar expiryDateCal = Calendar.getInstance();\n        expiryDateCal.clear();\n        expiryDateCal.setTime(expiryDate);\n\n\n        long daysBetween = 0;\n        while (createdDateCal.before(expiryDateCal)) {\n            createdDateCal.add(Calendar.DAY_OF_MONTH, 1);\n            daysBetween++;\n        }\n        return daysBetween+\"\";\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":226762,"reputation":11452,"user_id":2162226,"accept_rate":70,"display_name":"Gene Bo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483598055,"creation_date":1483598055,"answer_id":41478625,"question_id":1555262,"body_markdown":"Another pure Java variation:\r\n\r\n    public boolean isWithin30Days(Calendar queryCalendar) {\r\n\r\n        // 1. Take the date you are checking, and roll it back N days\r\n        Calendar queryCalMinus30Days = Calendar.getInstance();\r\n        queryCalMinus30Days.setTime(queryCalendar.getTime());\r\n        queryCalMinus30Days.add(Calendar.DATE, -30); // subtract 30 days from the calendar\r\n\r\n        // 2. Get respective milliseconds for the two Calendars: now &amp; queryCal minus N days \r\n        long nowL = Calendar.getInstance().getTimeInMillis();\r\n        long queryCalMinus30DaysL = queryCalMinus30Days.getTimeInMillis();\r\n\r\n        // 3. if nowL is still less than the queryCalMinus30DaysL, it means queryCalendar is more than 30 days into future\r\n        boolean isWithin30Days = nowL &gt;= queryCalMinus30DaysL;\r\n\r\n        return isWithin30Days;\r\n    }\r\n\r\n*thanks to starter code here: https://stackoverflow.com/a/30207726/2162226*","title":"Calculating the difference between two Java date instances","body":"<p>Another pure Java variation:</p>\n\n<pre><code>public boolean isWithin30Days(Calendar queryCalendar) {\n\n    // 1. Take the date you are checking, and roll it back N days\n    Calendar queryCalMinus30Days = Calendar.getInstance();\n    queryCalMinus30Days.setTime(queryCalendar.getTime());\n    queryCalMinus30Days.add(Calendar.DATE, -30); // subtract 30 days from the calendar\n\n    // 2. Get respective milliseconds for the two Calendars: now &amp; queryCal minus N days \n    long nowL = Calendar.getInstance().getTimeInMillis();\n    long queryCalMinus30DaysL = queryCalMinus30Days.getTimeInMillis();\n\n    // 3. if nowL is still less than the queryCalMinus30DaysL, it means queryCalendar is more than 30 days into future\n    boolean isWithin30Days = nowL &gt;= queryCalMinus30DaysL;\n\n    return isWithin30Days;\n}\n</code></pre>\n\n<p><em>thanks to starter code here: <a href=\"https://stackoverflow.com/a/30207726/2162226\">https://stackoverflow.com/a/30207726/2162226</a></em></p>\n"},{"tags":[],"owner":{"account_id":1020031,"reputation":121,"user_id":1030646,"accept_rate":100,"display_name":"suxumuxu"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1495459278,"creation_date":1493387649,"answer_id":43681941,"question_id":1555262,"body_markdown":"Here&#39;s a correct Java 7 solution in O(1) without any dependencies.\r\n\r\n    public static int countDaysBetween(Date date1, Date date2) {\r\n\r\n        Calendar c1 = removeTime(from(date1));\r\n        Calendar c2 = removeTime(from(date2));\r\n\r\n        if (c1.get(YEAR) == c2.get(YEAR)) {\r\n\r\n            return Math.abs(c1.get(DAY_OF_YEAR) - c2.get(DAY_OF_YEAR)) + 1;\r\n        }\r\n        // ensure c1 &lt;= c2\r\n        if (c1.get(YEAR) &gt; c2.get(YEAR)) {\r\n            Calendar c = c1;\r\n            c1 = c2;\r\n            c2 = c;\r\n        }\r\n        int y1 = c1.get(YEAR);\r\n        int y2 = c2.get(YEAR);\r\n        int d1 = c1.get(DAY_OF_YEAR);\r\n        int d2 = c2.get(DAY_OF_YEAR);\r\n\r\n        return d2 + ((y2 - y1) * 365) - d1 + countLeapYearsBetween(y1, y2) + 1;\r\n    }\r\n\r\n    private static int countLeapYearsBetween(int y1, int y2) {\r\n\r\n        if (y1 &lt; 1 || y2 &lt; 1) {\r\n            throw new IllegalArgumentException(&quot;Year must be &gt; 0.&quot;);\r\n        }\r\n        // ensure y1 &lt;= y2\r\n        if (y1 &gt; y2) {\r\n            int i = y1;\r\n            y1 = y2;\r\n            y2 = i;\r\n        }\r\n\r\n        int diff = 0;\r\n\r\n        int firstDivisibleBy4 = y1;\r\n        if (firstDivisibleBy4 % 4 != 0) {\r\n            firstDivisibleBy4 += 4 - (y1 % 4);\r\n        }\r\n        diff = y2 - firstDivisibleBy4 - 1;\r\n        int divisibleBy4 = diff &lt; 0 ? 0 : diff / 4 + 1;\r\n\r\n        int firstDivisibleBy100 = y1;\r\n        if (firstDivisibleBy100 % 100 != 0) {\r\n            firstDivisibleBy100 += 100 - (firstDivisibleBy100 % 100);\r\n        }\r\n        diff = y2 - firstDivisibleBy100 - 1;\r\n        int divisibleBy100 = diff &lt; 0 ? 0 : diff / 100 + 1;\r\n\r\n        int firstDivisibleBy400 = y1;\r\n        if (firstDivisibleBy400 % 400 != 0) {\r\n            firstDivisibleBy400 += 400 - (y1 % 400);\r\n        }\r\n        diff = y2 - firstDivisibleBy400 - 1;\r\n        int divisibleBy400 = diff &lt; 0 ? 0 : diff / 400 + 1;\r\n\r\n        return divisibleBy4 - divisibleBy100 + divisibleBy400;\r\n    }\r\n\r\n\r\n    public static Calendar from(Date date) {\r\n\r\n        Calendar c = Calendar.getInstance();\r\n        c.setTime(date);\r\n        \r\n        return c;\r\n    }\r\n\r\n\r\n    public static Calendar removeTime(Calendar c) {\r\n\r\n        c.set(HOUR_OF_DAY, 0);\r\n        c.set(MINUTE, 0);\r\n        c.set(SECOND, 0);\r\n        c.set(MILLISECOND, 0);\r\n\r\n        return c;\r\n    }","title":"Calculating the difference between two Java date instances","body":"<p>Here's a correct Java 7 solution in O(1) without any dependencies.</p>\n\n<pre><code>public static int countDaysBetween(Date date1, Date date2) {\n\n    Calendar c1 = removeTime(from(date1));\n    Calendar c2 = removeTime(from(date2));\n\n    if (c1.get(YEAR) == c2.get(YEAR)) {\n\n        return Math.abs(c1.get(DAY_OF_YEAR) - c2.get(DAY_OF_YEAR)) + 1;\n    }\n    // ensure c1 &lt;= c2\n    if (c1.get(YEAR) &gt; c2.get(YEAR)) {\n        Calendar c = c1;\n        c1 = c2;\n        c2 = c;\n    }\n    int y1 = c1.get(YEAR);\n    int y2 = c2.get(YEAR);\n    int d1 = c1.get(DAY_OF_YEAR);\n    int d2 = c2.get(DAY_OF_YEAR);\n\n    return d2 + ((y2 - y1) * 365) - d1 + countLeapYearsBetween(y1, y2) + 1;\n}\n\nprivate static int countLeapYearsBetween(int y1, int y2) {\n\n    if (y1 &lt; 1 || y2 &lt; 1) {\n        throw new IllegalArgumentException(\"Year must be &gt; 0.\");\n    }\n    // ensure y1 &lt;= y2\n    if (y1 &gt; y2) {\n        int i = y1;\n        y1 = y2;\n        y2 = i;\n    }\n\n    int diff = 0;\n\n    int firstDivisibleBy4 = y1;\n    if (firstDivisibleBy4 % 4 != 0) {\n        firstDivisibleBy4 += 4 - (y1 % 4);\n    }\n    diff = y2 - firstDivisibleBy4 - 1;\n    int divisibleBy4 = diff &lt; 0 ? 0 : diff / 4 + 1;\n\n    int firstDivisibleBy100 = y1;\n    if (firstDivisibleBy100 % 100 != 0) {\n        firstDivisibleBy100 += 100 - (firstDivisibleBy100 % 100);\n    }\n    diff = y2 - firstDivisibleBy100 - 1;\n    int divisibleBy100 = diff &lt; 0 ? 0 : diff / 100 + 1;\n\n    int firstDivisibleBy400 = y1;\n    if (firstDivisibleBy400 % 400 != 0) {\n        firstDivisibleBy400 += 400 - (y1 % 400);\n    }\n    diff = y2 - firstDivisibleBy400 - 1;\n    int divisibleBy400 = diff &lt; 0 ? 0 : diff / 400 + 1;\n\n    return divisibleBy4 - divisibleBy100 + divisibleBy400;\n}\n\n\npublic static Calendar from(Date date) {\n\n    Calendar c = Calendar.getInstance();\n    c.setTime(date);\n\n    return c;\n}\n\n\npublic static Calendar removeTime(Calendar c) {\n\n    c.set(HOUR_OF_DAY, 0);\n    c.set(MINUTE, 0);\n    c.set(SECOND, 0);\n    c.set(MILLISECOND, 0);\n\n    return c;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"Xoc  epe&#250;pa "},"comment_count":0,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1505805197,"creation_date":1495095569,"answer_id":44042271,"question_id":1555262,"body_markdown":"Since all the answers here are correct but use legacy java or 3rd party libs like joda or similar, I will just drop another way using new [java.time][1] classes in Java 8 and later. See [Oracle Tutorial][2].\r\n\r\nUse [`LocalDate`][3] and [`ChronoUnit`][4]:\r\n\r\n    LocalDate d1 = LocalDate.of(2017, 5, 1);\r\n    LocalDate d2 = LocalDate.of(2017, 5, 18);\r\n\r\n    long days = ChronoUnit.DAYS.between(d1, d2);\r\n    System.out.println( days );\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/datetime/iso/period.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/time/Period.html","title":"Calculating the difference between two Java date instances","body":"<p>Since all the answers here are correct but use legacy java or 3rd party libs like joda or similar, I will just drop another way using new <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes in Java 8 and later. See <a href=\"https://docs.oracle.com/javase/tutorial/datetime/iso/period.html\" rel=\"noreferrer\">Oracle Tutorial</a>.</p>\n\n<p>Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"noreferrer\"><code>LocalDate</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Period.html\" rel=\"noreferrer\"><code>ChronoUnit</code></a>:</p>\n\n<pre><code>LocalDate d1 = LocalDate.of(2017, 5, 1);\nLocalDate d2 = LocalDate.of(2017, 5, 18);\n\nlong days = ChronoUnit.DAYS.between(d1, d2);\nSystem.out.println( days );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1541437529,"creation_date":1541437529,"answer_id":53158976,"question_id":1555262,"body_markdown":"After wading through all the other answers, to keep the Java 7 Date type but be more precise/standard with the Java 8 diff approach,\r\n\r\n    public static long daysBetweenDates(Date d1, Date d2) {\r\n    \tInstant instant1 = d1.toInstant();\r\n    \tInstant instant2 = d2.toInstant();\r\n    \tlong diff = ChronoUnit.DAYS.between(instant1, instant2);\r\n    \treturn diff;\r\n    }","title":"Calculating the difference between two Java date instances","body":"<p>After wading through all the other answers, to keep the Java 7 Date type but be more precise/standard with the Java 8 diff approach,</p>\n\n<pre><code>public static long daysBetweenDates(Date d1, Date d2) {\n    Instant instant1 = d1.toInstant();\n    Instant instant2 = d2.toInstant();\n    long diff = ChronoUnit.DAYS.between(instant1, instant2);\n    return diff;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2239559,"reputation":153,"user_id":1974951,"display_name":"Fabi"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1550159876,"creation_date":1550159473,"answer_id":54694285,"question_id":1555262,"body_markdown":"If you want to **fix** the issue for date ranges that **cross daylight savings time boundary** (e.g. one date in summer time and the other one in winter time), you can use this to get the **difference in days**:\r\n\r\n    public static long calculateDifferenceInDays(Date start, Date end, Locale locale) {\r\n        Calendar cal = Calendar.getInstance(locale);\r\n\r\n        cal.setTime(start);\r\n        cal.set(Calendar.HOUR_OF_DAY, 0);\r\n        cal.set(Calendar.MINUTE, 0);\r\n        cal.set(Calendar.SECOND, 0);\r\n        cal.set(Calendar.MILLISECOND, 0);\r\n        long startTime = cal.getTimeInMillis();\r\n\r\n        cal.setTime(end);\r\n        cal.set(Calendar.HOUR_OF_DAY, 0);\r\n        cal.set(Calendar.MINUTE, 0);\r\n        cal.set(Calendar.SECOND, 0);\r\n        cal.set(Calendar.MILLISECOND, 0);\r\n        long endTime = cal.getTimeInMillis();\r\n\r\n        // calculate the offset if one of the dates is in summer time and the other one in winter time\r\n        TimeZone timezone = cal.getTimeZone();\r\n        int offsetStart = timezone.getOffset(startTime);\r\n        int offsetEnd = timezone.getOffset(endTime);\r\n        int offset = offsetEnd - offsetStart;\r\n\r\n        return TimeUnit.MILLISECONDS.toDays(endTime - startTime + offset);\r\n    }","title":"Calculating the difference between two Java date instances","body":"<p>If you want to <strong>fix</strong> the issue for date ranges that <strong>cross daylight savings time boundary</strong> (e.g. one date in summer time and the other one in winter time), you can use this to get the <strong>difference in days</strong>:</p>\n\n<pre><code>public static long calculateDifferenceInDays(Date start, Date end, Locale locale) {\n    Calendar cal = Calendar.getInstance(locale);\n\n    cal.setTime(start);\n    cal.set(Calendar.HOUR_OF_DAY, 0);\n    cal.set(Calendar.MINUTE, 0);\n    cal.set(Calendar.SECOND, 0);\n    cal.set(Calendar.MILLISECOND, 0);\n    long startTime = cal.getTimeInMillis();\n\n    cal.setTime(end);\n    cal.set(Calendar.HOUR_OF_DAY, 0);\n    cal.set(Calendar.MINUTE, 0);\n    cal.set(Calendar.SECOND, 0);\n    cal.set(Calendar.MILLISECOND, 0);\n    long endTime = cal.getTimeInMillis();\n\n    // calculate the offset if one of the dates is in summer time and the other one in winter time\n    TimeZone timezone = cal.getTimeZone();\n    int offsetStart = timezone.getOffset(startTime);\n    int offsetEnd = timezone.getOffset(endTime);\n    int offset = offsetEnd - offsetStart;\n\n    return TimeUnit.MILLISECONDS.toDays(endTime - startTime + offset);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1638067713,"post_id":70138442,"comment_id":123987977,"body_markdown":"Its not quite correct since a day is not always 24 hours. And no one should use `Date` and `Calendar` anymore.","body":"Its not quite correct since a day is not always 24 hours. And no one should use <code>Date</code> and <code>Calendar</code> anymore."},{"owner":{"account_id":16209703,"reputation":537,"user_id":11704057,"display_name":"M22"},"score":0,"creation_date":1638077933,"post_id":70138442,"comment_id":123988982,"body_markdown":"@OleV.V. how many hours in a day?","body":"@OleV.V. how many hours in a day?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1638079211,"post_id":70138442,"comment_id":123989081,"body_markdown":"That depends. Which day in which time zone? Most often 24. Sometimes 23 or 25 or not a whole number.  In Kristianstad October 31 this year was 25 hours long, for example.","body":"That depends. Which day in which time zone? Most often 24. Sometimes 23 or 25 or not a whole number.  In Kristianstad October 31 this year was 25 hours long, for example."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1638118882,"post_id":70138442,"comment_id":123997029,"body_markdown":"I only notice now that you are using the 3-arg `Date` constructor. Argh! Its been deprecated for close to 25 years because it works unreliably across time zones. **Dont!** In any case I agree with you that your code *should* give 32 and 33 days. When I run it, I get 33 and 34. Your code does not work the way you claim it does.","body":"I only notice now that you are using the 3-arg <code>Date</code> constructor. Argh! Its been deprecated for close to 25 years because it works unreliably across time zones. <b>Dont!</b> In any case I agree with you that your code <i>should</i> give 32 and 33 days. When I run it, I get 33 and 34. Your code does not work the way you claim it does."}],"tags":[],"owner":{"account_id":16209703,"reputation":537,"user_id":11704057,"display_name":"M22"},"comment_count":4,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1638044834,"creation_date":1638044834,"answer_id":70138442,"question_id":1555262,"body_markdown":"Since dates can contain hours and minutes, final result will be rounded down, which will result in incorrect value. For example, you calculate difference between **today at 22:00 p.m** and **day after tomorrow 00:00 a.m**, so the final result will be 1, because in reality it was 1.08 *or smth* difference, then it gets rounded down when calling ```TimeUnit.MILLISECONDS.toDays(..)```. That&#39;s why you need to take that in account, so in my solution I subtract the remainder of milliseconds from milliseconds in a day. Additionally, if you want to count the end date, you need to +1 it.\r\n\r\n```java\r\nimport java.util.Date;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic static long getDaysBetween(Date date1, Date date2, boolean includeEndDate) {\r\n        long millisInDay = 60 * 60 * 24 * 1000;\r\n        long difference = Math.abs(date1.getTime() - date2.getTime());\r\n        long add = millisInDay - (difference % millisInDay);//is used to calculate true number of days, because by default hours, minutes are also counted\r\n\r\n        return TimeUnit.MILLISECONDS.toDays(difference + add) + (includeEndDate ? 1 : 0);\r\n    }\r\n```\r\n\r\nTests:\r\n```java\r\nDate date1 = new Date(121, Calendar.NOVEMBER, 27); //2021 Nov 27\r\nDate date2 = new Date(121, Calendar.DECEMBER, 29); //2021 Dec 29\r\nSystem.out.println( getDaysBetween(date1, date2, false) ); //32 days difference\r\nSystem.out.println( getDaysBetween(date1, date2, true) ); //33 days difference\r\n```","title":"Calculating the difference between two Java date instances","body":"<p>Since dates can contain hours and minutes, final result will be rounded down, which will result in incorrect value. For example, you calculate difference between <strong>today at 22:00 p.m</strong> and <strong>day after tomorrow 00:00 a.m</strong>, so the final result will be 1, because in reality it was 1.08 <em>or smth</em> difference, then it gets rounded down when calling <code>TimeUnit.MILLISECONDS.toDays(..)</code>. That's why you need to take that in account, so in my solution I subtract the remainder of milliseconds from milliseconds in a day. Additionally, if you want to count the end date, you need to +1 it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Date;\nimport java.util.concurrent.TimeUnit;\n\npublic static long getDaysBetween(Date date1, Date date2, boolean includeEndDate) {\n        long millisInDay = 60 * 60 * 24 * 1000;\n        long difference = Math.abs(date1.getTime() - date2.getTime());\n        long add = millisInDay - (difference % millisInDay);//is used to calculate true number of days, because by default hours, minutes are also counted\n\n        return TimeUnit.MILLISECONDS.toDays(difference + add) + (includeEndDate ? 1 : 0);\n    }\n</code></pre>\n<p>Tests:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Date date1 = new Date(121, Calendar.NOVEMBER, 27); //2021 Nov 27\nDate date2 = new Date(121, Calendar.DECEMBER, 29); //2021 Dec 29\nSystem.out.println( getDaysBetween(date1, date2, false) ); //32 days difference\nSystem.out.println( getDaysBetween(date1, date2, true) ); //33 days difference\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1683715152,"post_id":76217201,"comment_id":134408073,"body_markdown":"Thank you for wanting to contribute. This code is strongly discouraged. The Joda-Time project is in maintenance, but a lot worse, you are also using the notoriously troublesome `SimpleDateFormat` and the poorly designed and cumbersome `Date` and `Calendar` classes. Your code is much longer, much more complex and less readable than it needed to be. And not properly indented. And you are answering a different question. The question was about two `Date` objects (not two strings).","body":"Thank you for wanting to contribute. This code is strongly discouraged. The Joda-Time project is in maintenance, but a lot worse, you are also using the notoriously troublesome <code>SimpleDateFormat</code> and the poorly designed and cumbersome <code>Date</code> and <code>Calendar</code> classes. Your code is much longer, much more complex and less readable than it needed to be. And not properly indented. And you are answering a different question. The question was about two <code>Date</code> objects (not two strings)."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1683722821,"post_id":76217201,"comment_id":134409997,"body_markdown":"`Datedifference(&quot;10-05-2023&quot;, &quot;11-05-2023&quot;)` (from today till tomorrow) gave `{days=2, weeks=1, months=1, years=1}`. I was a bit surprised, but OK, I guess everyone has got their own definition of &quot;perfect&quot;. Then I tried `Datedifference(&quot;26-03-2023&quot;, &quot;27-03-2023&quot;)` and got -- `null`??! What goes? I should say that your code is not correct by any definition of the word.","body":"<code>Datedifference(&quot;10-05-2023&quot;, &quot;11-05-2023&quot;)</code> (from today till tomorrow) gave <code>{days=2, weeks=1, months=1, years=1}</code>. I was a bit surprised, but OK, I guess everyone has got their own definition of &quot;perfect&quot;. Then I tried <code>Datedifference(&quot;26-03-2023&quot;, &quot;27-03-2023&quot;)</code> and got -- <code>null</code>??! What goes? I should say that your code is not correct by any definition of the word."}],"tags":[],"owner":{"account_id":9254180,"reputation":35,"user_id":6873651,"display_name":"Karthikeyan Sankar"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1683713524,"creation_date":1683713524,"answer_id":76217201,"question_id":1555262,"body_markdown":"This will perfectly works with joda api  \r\n   \r\n\r\n     import java.util.Calendar;\r\n        import java.util.Date;\r\n        import java.util.GregorianCalendar;\r\n        import java.text.ParseException;\r\n        import java.text.SimpleDateFormat;\r\n        import org.joda.time.DateTime;\r\n        import org.joda.time.Months;\r\n        import org.joda.time.Weeks;\r\n        import org.joda.time.Years;\r\n        import java.util.LinkedHashMap;\r\n        \r\n        public Map&lt;String,Integer&gt; Datedifference(String fromDate,String toDate) throws ParseException {\t\r\n        \t\t\tMap&lt;String,Integer&gt; dateUtilMap = new LinkedHashMap&lt;String, Integer&gt;();\r\n        \t\t \tDate date1=new SimpleDateFormat(&quot;dd-MM-yyyy&quot;).parse(fromDate);  \r\n        \t\t \tDate date2=new SimpleDateFormat(&quot;dd-MM-yyyy&quot;).parse(toDate);  \r\n        \t\t  \tCalendar fromDay = new GregorianCalendar();\r\n        \t\t  \tfromDay.setTime(date1);\r\n        \t        Calendar toDay = new GregorianCalendar();\r\n        \t        toDay.setTime(date2);\r\n        \t        \r\n        \t        int days = (int) (1+(toDay.getTimeInMillis() -fromDay.getTimeInMillis()) / 1000 / 60 / 60 / 24);\r\n        \t        \r\n        \t        if(days &gt;1) {\r\n        \t        \t\r\n        \t        DateTime dateTime1 = new DateTime(fromDay);\r\n        \t        DateTime dateTime2 = new DateTime(toDay);\r\n        \t        \r\n        \t        int weeks = Weeks.weeksBetween(dateTime1.dayOfWeek().withMinimumValue().minusDays(1), \r\n        \t        \t\tdateTime2.dayOfWeek().withMaximumValue().plusDays(1)).getWeeks();\r\n        \t        \r\n        \t        int months = Months.monthsBetween(dateTime1.dayOfMonth().withMinimumValue().minusDays(1),\r\n        \t        \t\tdateTime2.dayOfMonth().withMaximumValue().plusDays(1)).getMonths();\r\n        \t        \r\n        \t        int years =1+Years.yearsBetween(dateTime1, dateTime2).getYears();\r\n        \t        \r\n        \t        dateUtilMap.put(&quot;days&quot;, days);\r\n        \t        dateUtilMap.put(&quot;weeks&quot;, weeks);\r\n        \t        dateUtilMap.put(&quot;months&quot;, months);\r\n        \t        dateUtilMap.put(&quot;years&quot;, years);\r\n        \t        System.out.println(dateUtilMap);\r\n        \t        return dateUtilMap;\t       \r\n        \t        } else {\r\n        \t        \tSystem.out.println(&quot;From Date Must be samller than to Date&quot;);\r\n        \t         return null;\r\n        \t        } \r\n        \t}","title":"Calculating the difference between two Java date instances","body":"<p>This will perfectly works with joda api</p>\n<pre><code> import java.util.Calendar;\n    import java.util.Date;\n    import java.util.GregorianCalendar;\n    import java.text.ParseException;\n    import java.text.SimpleDateFormat;\n    import org.joda.time.DateTime;\n    import org.joda.time.Months;\n    import org.joda.time.Weeks;\n    import org.joda.time.Years;\n    import java.util.LinkedHashMap;\n    \n    public Map&lt;String,Integer&gt; Datedifference(String fromDate,String toDate) throws ParseException {    \n                Map&lt;String,Integer&gt; dateUtilMap = new LinkedHashMap&lt;String, Integer&gt;();\n                Date date1=new SimpleDateFormat(&quot;dd-MM-yyyy&quot;).parse(fromDate);  \n                Date date2=new SimpleDateFormat(&quot;dd-MM-yyyy&quot;).parse(toDate);  \n                Calendar fromDay = new GregorianCalendar();\n                fromDay.setTime(date1);\n                Calendar toDay = new GregorianCalendar();\n                toDay.setTime(date2);\n                \n                int days = (int) (1+(toDay.getTimeInMillis() -fromDay.getTimeInMillis()) / 1000 / 60 / 60 / 24);\n                \n                if(days &gt;1) {\n                    \n                DateTime dateTime1 = new DateTime(fromDay);\n                DateTime dateTime2 = new DateTime(toDay);\n                \n                int weeks = Weeks.weeksBetween(dateTime1.dayOfWeek().withMinimumValue().minusDays(1), \n                        dateTime2.dayOfWeek().withMaximumValue().plusDays(1)).getWeeks();\n                \n                int months = Months.monthsBetween(dateTime1.dayOfMonth().withMinimumValue().minusDays(1),\n                        dateTime2.dayOfMonth().withMaximumValue().plusDays(1)).getMonths();\n                \n                int years =1+Years.yearsBetween(dateTime1, dateTime2).getYears();\n                \n                dateUtilMap.put(&quot;days&quot;, days);\n                dateUtilMap.put(&quot;weeks&quot;, weeks);\n                dateUtilMap.put(&quot;months&quot;, months);\n                dateUtilMap.put(&quot;years&quot;, years);\n                System.out.println(dateUtilMap);\n                return dateUtilMap;        \n                } else {\n                    System.out.println(&quot;From Date Must be samller than to Date&quot;);\n                 return null;\n                } \n        }\n</code></pre>\n"}],"owner":{"account_id":19815,"reputation":21775,"user_id":46768,"accept_rate":74,"display_name":"pr1001"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":785376,"favorite_count":0,"down_vote_count":0,"up_vote_count":501,"accepted_answer_id":1555307,"answer_count":46,"score":501,"last_activity_date":1683713524,"creation_date":1255361749,"question_id":1555262,"body_markdown":"I&#39;m using Java&#39;s `java.util.Date` class in Scala and want to compare a `Date` object and the current time. I know I can calculate the delta by using getTime():\r\n\r\n    (new java.util.Date()).getTime() - oldDate.getTime()\r\n\r\nHowever, this just leaves me with a `long` representing milliseconds. Is there any simpler, nicer way to get a time delta?","title":"Calculating the difference between two Java date instances","body":"<p>I'm using Java's <code>java.util.Date</code> class in Scala and want to compare a <code>Date</code> object and the current time. I know I can calculate the delta by using getTime():</p>\n\n<pre><code>(new java.util.Date()).getTime() - oldDate.getTime()\n</code></pre>\n\n<p>However, this just leaves me with a <code>long</code> representing milliseconds. Is there any simpler, nicer way to get a time delta?</p>\n"},{"tags":["java","dictionary","switch-statement","java-stream","language-agnostic"],"answers":[{"comments":[{"owner":{"account_id":13964622,"reputation":69,"user_id":10084790,"display_name":"Shmuel Greenberger"},"score":0,"creation_date":1681927398,"post_id":76053450,"comment_id":134137368,"body_markdown":"Thanks. Can you explain what&#39;s the problem of the predicate&#39;s hashcode?","body":"Thanks. Can you explain what&#39;s the problem of the predicate&#39;s hashcode?"},{"owner":{"account_id":13964622,"reputation":69,"user_id":10084790,"display_name":"Shmuel Greenberger"},"score":0,"creation_date":1681927481,"post_id":76053450,"comment_id":134137384,"body_markdown":"I&#39;d also point out that your approach in the last described function is mutative, which isn&#39;t the expected thing to do when filtering.","body":"I&#39;d also point out that your approach in the last described function is mutative, which isn&#39;t the expected thing to do when filtering."},{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1681932877,"post_id":76053450,"comment_id":134138473,"body_markdown":"Of course, it was just an example, you can use a Function instead of the Consumer","body":"Of course, it was just an example, you can use a Function instead of the Consumer"},{"owner":{"account_id":13964622,"reputation":69,"user_id":10084790,"display_name":"Shmuel Greenberger"},"score":0,"creation_date":1683062640,"post_id":76053450,"comment_id":134308508,"body_markdown":"You still didn&#39;t explain what you meant by the problem of the predicate&#39;s hashcode!","body":"You still didn&#39;t explain what you meant by the problem of the predicate&#39;s hashcode!"},{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1683103816,"post_id":76053450,"comment_id":134313764,"body_markdown":"I didn&#39;t say there&#39;s a problem, but it can be hard/tricky to know how they are calculated. For an object, it can be calculated based on its fields, but for a function, it can be harder to determine it. Moreover, whenever have a `Map` but we only use its `entrySet()`, it might be a sign that there can be a more appropriate data structure for it.","body":"I didn&#39;t say there&#39;s a problem, but it can be hard/tricky to know how they are calculated. For an object, it can be calculated based on its fields, but for a function, it can be harder to determine it. Moreover, whenever have a <code>Map</code> but we only use its <code>entrySet()</code>, it might be a sign that there can be a more appropriate data structure for it."},{"owner":{"account_id":13964622,"reputation":69,"user_id":10084790,"display_name":"Shmuel Greenberger"},"score":0,"creation_date":1683105385,"post_id":76053450,"comment_id":134314110,"body_markdown":"That was in essence my question; does the `Map -&gt; entrySet()` with the predicates as keys make sense. What other data structure did you have in mind?","body":"That was in essence my question; does the <code>Map -&gt; entrySet()</code> with the predicates as keys make sense. What other data structure did you have in mind?"},{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1683105651,"post_id":76053450,"comment_id":134314169,"body_markdown":"I believe a `List&lt;Pair&lt;Predicate, Consumer&gt;&gt;` would make more sense. It&#39;s basically what I wrote in my answer","body":"I believe a <code>List&lt;Pair&lt;Predicate, Consumer&gt;&gt;</code> would make more sense. It&#39;s basically what I wrote in my answer"},{"owner":{"account_id":13964622,"reputation":69,"user_id":10084790,"display_name":"Shmuel Greenberger"},"score":0,"creation_date":1683105888,"post_id":76053450,"comment_id":134314226,"body_markdown":"I&#39;d say there is also a significant difference if the map is evaluated lazily or not and whether it is done in parallel. if it is done in parallel obviously the predicates must not cause side effects, whereas a classic if-else or switch statement can change state and are evaluated sequentially","body":"I&#39;d say there is also a significant difference if the map is evaluated lazily or not and whether it is done in parallel. if it is done in parallel obviously the predicates must not cause side effects, whereas a classic if-else or switch statement can change state and are evaluated sequentially"},{"owner":{"account_id":13964622,"reputation":69,"user_id":10084790,"display_name":"Shmuel Greenberger"},"score":0,"creation_date":1689945250,"post_id":76053450,"comment_id":135288660,"body_markdown":"addressing your concern in an earlier comment about calculating a hashcode for a function, after studying a bit of Clojure it seems that at least there each anonymous function is unique even if the code is the same because it uses the refrences to the functions created. Now this may case headaches if you&#39;re manipulating the map, but as in this case the keys are declared once and are just really using the map as a convenience, it doesn&#39;t matter much.","body":"addressing your concern in an earlier comment about calculating a hashcode for a function, after studying a bit of Clojure it seems that at least there each anonymous function is unique even if the code is the same because it uses the refrences to the functions created. Now this may case headaches if you&#39;re manipulating the map, but as in this case the keys are declared once and are just really using the map as a convenience, it doesn&#39;t matter much."}],"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"comment_count":9,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681900229,"creation_date":1681900229,"answer_id":76053450,"question_id":76052119,"body_markdown":"It&#39;s an interesting approach, I sometimes do it for filters or mappers. The only thing I would change would be to avoid using a `Map` if you don&#39;t really need one (what would be the hashcode of your Predicate - it can be looked up, but still, it&#39;s not super straightforward). \r\n\r\nInstead, you can put the Predicate and the Consumer in some sort of `Pair&lt;&gt;` or `Tuple&lt;&gt;`, or even create your own structure:\r\n\r\n    record PossibleAction&lt;T&gt;(\r\n    \t\tPredicate&lt;T&gt; predicate,\r\n    \t\tConsumer&lt;T&gt; action\r\n    ) {\r\n        // if you use a custom structure you can define these methods\r\n        // and use .appliesFor(data) instead of using .getPredicate().test(data)\r\n    \tpublic boolean appliesFor(T data) {\r\n    \t\treturn predicate.test(data);\r\n    \t}\r\n    \r\n    \tpublic void apply(T data) {\r\n    \t\taction.accept(data);\r\n    \t}\r\n    }\r\n\r\nNow you can have a list of these `PossibleActions`:\r\n\r\n    List&lt;PossibleAction&lt;String&gt;&gt; actions = List.of(\r\n    \tnew PossibleAction&lt;&gt;(s -&gt; s.contains(&quot;A&quot;), s -&gt; System.out.println(&quot;1&quot;) ),\r\n    \tnew PossibleAction&lt;&gt;(s -&gt; s.contains(&quot;B&quot;), s -&gt; System.out.println(&quot;2&quot;) ),\r\n    \tnew PossibleAction&lt;&gt;(s -&gt; s.contains(&quot;C&quot;), s -&gt; System.out.println(&quot;3&quot;) )\r\n    );\r\n\r\nAnd you can use this, as pointed out by you in the initial post:\r\n\r\n    void performActions(String data) {\r\n    \tactions.stream()\r\n    \t\t\t.filter(a -&gt; a.appliesFor(data))\r\n    \t\t\t.forEach(a -&gt; a.apply(data));\r\n    }","title":"Using Map/Dictionary as an alternative to switch case","body":"<p>It's an interesting approach, I sometimes do it for filters or mappers. The only thing I would change would be to avoid using a <code>Map</code> if you don't really need one (what would be the hashcode of your Predicate - it can be looked up, but still, it's not super straightforward).</p>\n<p>Instead, you can put the Predicate and the Consumer in some sort of <code>Pair&lt;&gt;</code> or <code>Tuple&lt;&gt;</code>, or even create your own structure:</p>\n<pre><code>record PossibleAction&lt;T&gt;(\n        Predicate&lt;T&gt; predicate,\n        Consumer&lt;T&gt; action\n) {\n    // if you use a custom structure you can define these methods\n    // and use .appliesFor(data) instead of using .getPredicate().test(data)\n    public boolean appliesFor(T data) {\n        return predicate.test(data);\n    }\n\n    public void apply(T data) {\n        action.accept(data);\n    }\n}\n</code></pre>\n<p>Now you can have a list of these <code>PossibleActions</code>:</p>\n<pre><code>List&lt;PossibleAction&lt;String&gt;&gt; actions = List.of(\n    new PossibleAction&lt;&gt;(s -&gt; s.contains(&quot;A&quot;), s -&gt; System.out.println(&quot;1&quot;) ),\n    new PossibleAction&lt;&gt;(s -&gt; s.contains(&quot;B&quot;), s -&gt; System.out.println(&quot;2&quot;) ),\n    new PossibleAction&lt;&gt;(s -&gt; s.contains(&quot;C&quot;), s -&gt; System.out.println(&quot;3&quot;) )\n);\n</code></pre>\n<p>And you can use this, as pointed out by you in the initial post:</p>\n<pre><code>void performActions(String data) {\n    actions.stream()\n            .filter(a -&gt; a.appliesFor(data))\n            .forEach(a -&gt; a.apply(data));\n}\n</code></pre>\n"}],"owner":{"account_id":13964622,"reputation":69,"user_id":10084790,"display_name":"Shmuel Greenberger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76053450,"answer_count":1,"score":2,"last_activity_date":1683713395,"creation_date":1681891770,"question_id":76052119,"body_markdown":"At the risk of this being an opinion based question, would creating a Map/dictionary where the keys are predicates and the values the action to be made be a good and viable substitute for switch case?\r\n\r\nFor example (following Java Map) :\r\n\r\n```Java\r\n    Map.of(predicate1, action1, ... predicateN, actionN)\r\n    .entrySet().stream()\r\n    .filter(e -&gt; e.getKey()).findAny()\r\n    .ifPresentOrElseThrow().getValue();\r\n```","title":"Using Map/Dictionary as an alternative to switch case","body":"<p>At the risk of this being an opinion based question, would creating a Map/dictionary where the keys are predicates and the values the action to be made be a good and viable substitute for switch case?</p>\n<p>For example (following Java Map) :</p>\n<pre><code>    Map.of(predicate1, action1, ... predicateN, actionN)\n    .entrySet().stream()\n    .filter(e -&gt; e.getKey()).findAny()\n    .ifPresentOrElseThrow().getValue();\n</code></pre>\n"},{"tags":["java","javafx","treeview"],"comments":[{"owner":{"account_id":6331425,"reputation":4910,"user_id":5901848,"display_name":"Sanchit Patiyal"},"score":1,"creation_date":1511338501,"post_id":47429634,"comment_id":81813899,"body_markdown":"Did you try passing `Desktop` with capital D as value?","body":"Did you try passing <code>Desktop</code> with capital D as value?"},{"owner":{"account_id":6410016,"reputation":7025,"user_id":4970079,"accept_rate":76,"display_name":"GOXR3PLUS"},"score":0,"creation_date":1511338759,"post_id":47429634,"comment_id":81814026,"body_markdown":"@SanchitPatiyal I am trying it my friend it always returns null , i can&#39;t find why this method doesn&#39;t work . Any better solution is appreciated :)","body":"@SanchitPatiyal I am trying it my friend it always returns null , i can&#39;t find why this method doesn&#39;t work . Any better solution is appreciated :)"},{"owner":{"account_id":3583958,"reputation":80987,"user_id":2991525,"display_name":"fabian"},"score":3,"creation_date":1511345365,"post_id":47429634,"comment_id":81818028,"body_markdown":"Any idea why @AnastasiosVlasopoulos deleted his answer? It basically seems correct (except for one missing closing `}` and doing an unnecessary test), i.e. you need to consider the value returned from `getTreeViewItem(child, value)` as potential solutions in order to do a proper depth first search.","body":"Any idea why @AnastasiosVlasopoulos deleted his answer? It basically seems correct (except for one missing closing <code>}</code> and doing an unnecessary test), i.e. you need to consider the value returned from <code>getTreeViewItem(child, value)</code> as potential solutions in order to do a proper depth first search."},{"owner":{"account_id":6410016,"reputation":7025,"user_id":4970079,"accept_rate":76,"display_name":"GOXR3PLUS"},"score":0,"creation_date":1511346524,"post_id":47429634,"comment_id":81818818,"body_markdown":"@fabian I haven&#39;t seen it at all .... deleted too fast..","body":"@fabian I haven&#39;t seen it at all .... deleted too fast.."}],"answers":[{"comments":[{"owner":{"account_id":6410016,"reputation":7025,"user_id":4970079,"accept_rate":76,"display_name":"GOXR3PLUS"},"score":0,"creation_date":1521870630,"post_id":49452269,"comment_id":85926223,"body_markdown":"Even if it is old i still haven&#39;t found the solution on this, so i will check your answer thank you :)","body":"Even if it is old i still haven&#39;t found the solution on this, so i will check your answer thank you :)"},{"owner":{"account_id":2896520,"reputation":99,"user_id":2484165,"accept_rate":67,"display_name":"Fataho"},"score":0,"creation_date":1587742980,"post_id":49452269,"comment_id":108638197,"body_markdown":"Man, you are returning null.","body":"Man, you are returning null."},{"owner":{"account_id":12219032,"reputation":111,"user_id":8918577,"display_name":"dark.semiQ"},"score":0,"creation_date":1629481855,"post_id":49452269,"comment_id":121707096,"body_markdown":"it returns null when it does not find the string value you are searching for","body":"it returns null when it does not find the string value you are searching for"}],"tags":[],"owner":{"account_id":12219032,"reputation":111,"user_id":8918577,"display_name":"dark.semiQ"},"comment_count":3,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1521816144,"creation_date":1521816144,"answer_id":49452269,"question_id":47429634,"body_markdown":"I know this is old but i am going to answer this To help others.\r\n\r\n    public static TreeItem getTreeViewItem(TreeItem&lt;String&gt; item , String value) \r\n    {\r\n      if (item != null &amp;&amp; item.getValue().equals(value))\r\n        return  item;\r\n\r\n      for (TreeItem&lt;String&gt; child : item.getChildren()){\r\n       TreeItem&lt;String&gt; s=getTreeViewItem(child, value);\r\n       if(s!=null)\r\n           return s;\r\n       \r\n      }\r\n      return null;\r\n    }\r\n\r\n","title":"JavaFX TreeView find TreeItem in any depth matching a given value","body":"<p>I know this is old but i am going to answer this To help others.</p>\n\n<pre><code>public static TreeItem getTreeViewItem(TreeItem&lt;String&gt; item , String value) \n{\n  if (item != null &amp;&amp; item.getValue().equals(value))\n    return  item;\n\n  for (TreeItem&lt;String&gt; child : item.getChildren()){\n   TreeItem&lt;String&gt; s=getTreeViewItem(child, value);\n   if(s!=null)\n       return s;\n\n  }\n  return null;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6410016,"reputation":7025,"user_id":4970079,"accept_rate":76,"display_name":"GOXR3PLUS"},"score":0,"creation_date":1557392864,"post_id":56055905,"comment_id":98752538,"body_markdown":"Have you tested it?","body":"Have you tested it?"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1557395884,"post_id":56055905,"comment_id":98754313,"body_markdown":"@GOXR3PLUS s/he might have, had you provided a [mcve] &lt;g&gt; Anyway, does it still not work? From mere looking at your (go&#39;s original) snippet, fabian seems to be right on spot (all that was missing is the logic to really check the item  on each iteration - as all the answers are doing)","body":"@GOXR3PLUS s/he might have, had you provided a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> &lt;g&gt; Anyway, does it still not work? From mere looking at your (go&#39;s original) snippet, fabian seems to be right on spot (all that was missing is the logic to really check the item  on each iteration - as all the answers are doing)"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1557396010,"post_id":56055905,"comment_id":98754387,"body_markdown":"@lisyara - might be missing something, but how does this differ from the accepted answer? BTW: all code snippets in in the QA will break if the item&#39;s value is null ..","body":"@lisyara - might be missing something, but how does this differ from the accepted answer? BTW: all code snippets in in the QA will break if the item&#39;s value is null .."}],"tags":[],"owner":{"account_id":1834386,"reputation":121,"user_id":1665048,"display_name":"lisyara"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1557392665,"creation_date":1557392665,"answer_id":56055905,"question_id":47429634,"body_markdown":"    public static &lt;T&gt; TreeItem&lt;T&gt; getTreeViewItem(TreeItem&lt;T&gt; item, T value) {\r\n        if (item != null) {\r\n            if (item.getValue().equals(value)) return item;\r\n            for (TreeItem&lt;T&gt; child : item.getChildren()) {\r\n                TreeItem&lt;T&gt; s = getTreeViewItem(child, value);\r\n                if (s != null) {\r\n                    return s;\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    }","title":"JavaFX TreeView find TreeItem in any depth matching a given value","body":"<pre><code>public static &lt;T&gt; TreeItem&lt;T&gt; getTreeViewItem(TreeItem&lt;T&gt; item, T value) {\n    if (item != null) {\n        if (item.getValue().equals(value)) return item;\n        for (TreeItem&lt;T&gt; child : item.getChildren()) {\n            TreeItem&lt;T&gt; s = getTreeViewItem(child, value);\n            if (s != null) {\n                return s;\n            }\n        }\n    }\n    return null;\n}\n</code></pre>\n"}],"owner":{"account_id":6410016,"reputation":7025,"user_id":4970079,"accept_rate":76,"display_name":"GOXR3PLUS"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4744,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":49452269,"answer_count":2,"score":3,"last_activity_date":1683713350,"creation_date":1511338117,"question_id":47429634,"body_markdown":"I am trying to create a method that does what title says . Let&#39;s say i have the below TreeView , i want to add a search functionality , in which the user can give for example a value`desktop` and using that method to get the first TreeItem which has the given value `treeItem.getValue();`\r\n\r\n\r\n**I need exactly this `treeView.getChildren_InAnyDepth_MatchingValue(&quot;value&quot;);`.**\r\n\r\nLet&#39;s say i want it to start searching from the root of the TreeView.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n---\r\n\r\nJava Code :\r\n\r\n\r\n    /**\r\n    * Find the first TreeItem matching the given value\r\n    * \r\n    * @param item\r\n    */\r\n    public TreeItem getTreeViewItem(TreeItem&lt;String&gt; item , String value) {\r\n    \tif (item != null &amp;&amp; item.getValue().equals(value))\r\n    \t\treturn  item;\r\n    \t\t\t\t\r\n    \tfor (TreeItem&lt;String&gt; child : item.getChildren())\r\n    \t\tgetTreeViewItem(child, value);\r\n    \t\t\t\t\r\n    \treturn null;\r\n    }\r\n\r\n\r\n**The above code always returns null for some reason , i can&#39;t figure out 6 hours now .**\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EZQPR.png\r\n\r\n","title":"JavaFX TreeView find TreeItem in any depth matching a given value","body":"<p>I am trying to create a method that does what title says . Let's say i have the below TreeView , i want to add a search functionality , in which the user can give for example a value<code>desktop</code> and using that method to get the first TreeItem which has the given value <code>treeItem.getValue();</code></p>\n<p><strong>I need exactly this <code>treeView.getChildren_InAnyDepth_MatchingValue(&quot;value&quot;);</code>.</strong></p>\n<p>Let's say i want it to start searching from the root of the TreeView.</p>\n<p><a href=\"https://i.stack.imgur.com/EZQPR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EZQPR.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p>Java Code :</p>\n<pre><code>/**\n* Find the first TreeItem matching the given value\n* \n* @param item\n*/\npublic TreeItem getTreeViewItem(TreeItem&lt;String&gt; item , String value) {\n    if (item != null &amp;&amp; item.getValue().equals(value))\n        return  item;\n                \n    for (TreeItem&lt;String&gt; child : item.getChildren())\n        getTreeViewItem(child, value);\n                \n    return null;\n}\n</code></pre>\n<p><strong>The above code always returns null for some reason , i can't figure out 6 hours now .</strong></p>\n"},{"tags":["java","spring-boot","spring-batch"],"comments":[{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1561969833,"post_id":56824266,"comment_id":100216594,"body_markdown":"I&#39;m not sure why you need such an aspect. The job launcher already checks if there is a running execution for the given job instance and throws a `JobExecutionAlreadyRunningException` if any. By default, spring batch won&#39;t allow you to run two concurrent executions of the same job instance at the same time. Can you elaborate on what you mean by &quot;not re-entrant&quot;?","body":"I&#39;m not sure why you need such an aspect. The job launcher already checks if there is a running execution for the given job instance and throws a <code>JobExecutionAlreadyRunningException</code> if any. By default, spring batch won&#39;t allow you to run two concurrent executions of the same job instance at the same time. Can you elaborate on what you mean by &quot;not re-entrant&quot;?"},{"owner":{"account_id":82452,"reputation":15242,"user_id":231821,"accept_rate":92,"display_name":"Jim"},"score":0,"creation_date":1561991946,"post_id":56824266,"comment_id":100227736,"body_markdown":"the `JobExecutionAlreadyRunningException` is thrown when the same parameters are used to start the job, and it&#39;s already running. The exception doesn&#39;t help me though, because it is also thrown if the application dies, and the job finished unsuccessfully. It can then never be restarted with the same parameters again. I need to know if it&#39;s actually running, not if the last run was a fail. I have to manually alter the database to let it run again.","body":"the <code>JobExecutionAlreadyRunningException</code> is thrown when the same parameters are used to start the job, and it&#39;s already running. The exception doesn&#39;t help me though, because it is also thrown if the application dies, and the job finished unsuccessfully. It can then never be restarted with the same parameters again. I need to know if it&#39;s actually running, not if the last run was a fail. I have to manually alter the database to let it run again."},{"owner":{"account_id":82452,"reputation":15242,"user_id":231821,"accept_rate":92,"display_name":"Jim"},"score":0,"creation_date":1561992004,"post_id":56824266,"comment_id":100227754,"body_markdown":"The aspect seems to actually check if the job is running, not if it ever ran in the past and didn&#39;t finish.","body":"The aspect seems to actually check if the job is running, not if it ever ran in the past and didn&#39;t finish."},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1562056994,"post_id":56824266,"comment_id":100247697,"body_markdown":"Getting a `JobExecutionAlreadyRunningException` because of a previous killed execution is another story. By default, the job launcher will check if there is a currently running execution and prevent you from starting another one (even if there are no previous killed executions). If you still need to double check before launching the job, see my answer. Hope it helps.","body":"Getting a <code>JobExecutionAlreadyRunningException</code> because of a previous killed execution is another story. By default, the job launcher will check if there is a currently running execution and prevent you from starting another one (even if there are no previous killed executions). If you still need to double check before launching the job, see my answer. Hope it helps."}],"answers":[{"comments":[{"owner":{"account_id":82452,"reputation":15242,"user_id":231821,"accept_rate":92,"display_name":"Jim"},"score":0,"creation_date":1562065463,"post_id":56848499,"comment_id":100252210,"body_markdown":"thanks for the response, I think there are some nuances I am not appreciating here, so I will be careful before duplicating the check, but thanks very much!","body":"thanks for the response, I think there are some nuances I am not appreciating here, so I will be careful before duplicating the check, but thanks very much!"}],"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683713329,"creation_date":1562056775,"answer_id":56848499,"question_id":56824266,"body_markdown":"What you can do is override the `SimpleJobLauncher#run` method and add the double check before running the job:\r\n\r\n\t@Bean\r\n\tpublic JobLauncher jobLauncher(JobRepository jobRepository, JobExplorer jobExplorer) {\r\n\t\tSimpleJobLauncher simpleJobLauncher = new SimpleJobLauncher() {\r\n\t\t\t@Override\r\n\t\t\tpublic JobExecution run(Job job, JobParameters jobParameters) throws JobExecutionAlreadyRunningException, JobRestartException, JobInstanceAlreadyCompleteException, JobParametersInvalidException {\r\n\t\t\t\tSet&lt;JobExecution&gt; running = jobExplorer.findRunningJobExecutions(job.getName());\r\n\t\t\t\tif (!running.isEmpty()) {\r\n\t\t\t\t\tthrow new JobExecutionAlreadyRunningException(&quot;An instance of this job is already active: &quot; + job.getName());\r\n\t\t\t\t}\r\n\t\t\t\treturn super.run(job, jobParameters);\r\n\t\t\t}\r\n\t\t};\r\n\t\tsimpleJobLauncher.setJobRepository(jobRepository);\r\n        simpleJobLauncher.setTaskExecutor(new SimpleAsyncTaskExecutor());\r\n        simpleJobLauncher.afterPropertiesSet();\r\n\t\treturn simpleJobLauncher;\r\n\t}\r\n\r\nNote this is similar to the code in the aspect you shared but without needing any kind of AOP. As I mentioned in the comment, this check is already done in `super.run(job, jobParameters)`, so we are only adding a double check here.\r\n","title":"how do I use JobLauncherSynchronizer in spring admin","body":"<p>What you can do is override the <code>SimpleJobLauncher#run</code> method and add the double check before running the job:</p>\n<pre><code>@Bean\npublic JobLauncher jobLauncher(JobRepository jobRepository, JobExplorer jobExplorer) {\n    SimpleJobLauncher simpleJobLauncher = new SimpleJobLauncher() {\n        @Override\n        public JobExecution run(Job job, JobParameters jobParameters) throws JobExecutionAlreadyRunningException, JobRestartException, JobInstanceAlreadyCompleteException, JobParametersInvalidException {\n            Set&lt;JobExecution&gt; running = jobExplorer.findRunningJobExecutions(job.getName());\n            if (!running.isEmpty()) {\n                throw new JobExecutionAlreadyRunningException(&quot;An instance of this job is already active: &quot; + job.getName());\n            }\n            return super.run(job, jobParameters);\n        }\n    };\n    simpleJobLauncher.setJobRepository(jobRepository);\n    simpleJobLauncher.setTaskExecutor(new SimpleAsyncTaskExecutor());\n    simpleJobLauncher.afterPropertiesSet();\n    return simpleJobLauncher;\n}\n</code></pre>\n<p>Note this is similar to the code in the aspect you shared but without needing any kind of AOP. As I mentioned in the comment, this check is already done in <code>super.run(job, jobParameters)</code>, so we are only adding a double check here.</p>\n"}],"owner":{"account_id":82452,"reputation":15242,"user_id":231821,"accept_rate":92,"display_name":"Jim"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":278,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":56848499,"answer_count":1,"score":0,"last_activity_date":1683713329,"creation_date":1561892070,"question_id":56824266,"body_markdown":"There is an `@Aspect` that ensures that jobs in spring boot are not re-entrant. It is implemented in [JobLauncherSynchronizer.java][1] and documented [here][2]. It is in the spring batch admin artifact.\r\n\r\nMy Job is created through a `@Bean` as follows:\r\n\r\n\r\n    @Bean\r\n    @Qualifier(&quot;synchronisationLauncher&quot;)\r\n    public JobLauncher synchronisationLauncher() throws Exception {\r\n        SimpleJobLauncher jobLauncher = new SimpleJobLauncher();\r\n        jobLauncher.setJobRepository(jobRepository);\r\n        jobLauncher.setTaskExecutor(new SimpleAsyncTaskExecutor());\r\n        jobLauncher.afterPropertiesSet();\r\n        return jobLauncher;\r\n    }\r\n\r\nMy question:  \r\n**how do I integrate the `@Aspect` into my JobLauncher?**\r\n\r\nI naively tried to new it up, and set the properties in the method above, not surprisingly that didn&#39;t work very well. I was able to launch multiple instances.\r\n\r\nMy launch code is:\r\n\r\n    // dependencies from constructor.\r\n    // the launcher is qualified to &#39;synchronisationLauncher&#39;\r\n    private JobLauncher launcher;\r\n    private Job mergeJob;\r\n    private JobQueryHelper jobQueryHelper;\r\n\r\n    @PostMapping(&quot;uri&quot;)\r\n    public ResponseEntity&lt;APIResponse&gt; SynchroniseRetailers()\r\n            throws JobParametersInvalidException,\r\n                   JobExecutionAlreadyRunningException,\r\n                   JobRestartException,\r\n                   JobInstanceAlreadyCompleteException {\r\n\r\n        JobParametersBuilder builder = new JobParametersBuilder()\r\n                .addLong(&quot;run.id&quot;, jobQueryHelper.findLastBatchExecutionIndex() + 1);\r\n        launcher.run(mergeJob, builder.toJobParameters());\r\n        return buildEmptyResponse();\r\n    }\r\n\r\n\r\n  [1]: https://github.com/spring-attic/spring-batch-admin/blob/master/spring-batch-admin-manager/src/main/java/org/springframework/batch/admin/launch/JobLauncherSynchronizer.java\r\n  [2]: https://docs.spring.io/spring-batch-admin/trunk/apidocs/org/springframework/batch/admin/launch/JobLauncherSynchronizer.html\r\n","title":"how do I use JobLauncherSynchronizer in spring admin","body":"<p>There is an <code>@Aspect</code> that ensures that jobs in spring boot are not re-entrant. It is implemented in <a href=\"https://github.com/spring-attic/spring-batch-admin/blob/master/spring-batch-admin-manager/src/main/java/org/springframework/batch/admin/launch/JobLauncherSynchronizer.java\" rel=\"nofollow noreferrer\">JobLauncherSynchronizer.java</a> and documented <a href=\"https://docs.spring.io/spring-batch-admin/trunk/apidocs/org/springframework/batch/admin/launch/JobLauncherSynchronizer.html\" rel=\"nofollow noreferrer\">here</a>. It is in the spring batch admin artifact.</p>\n\n<p>My Job is created through a <code>@Bean</code> as follows:</p>\n\n<pre><code>@Bean\n@Qualifier(\"synchronisationLauncher\")\npublic JobLauncher synchronisationLauncher() throws Exception {\n    SimpleJobLauncher jobLauncher = new SimpleJobLauncher();\n    jobLauncher.setJobRepository(jobRepository);\n    jobLauncher.setTaskExecutor(new SimpleAsyncTaskExecutor());\n    jobLauncher.afterPropertiesSet();\n    return jobLauncher;\n}\n</code></pre>\n\n<p>My question:<br>\n<strong>how do I integrate the <code>@Aspect</code> into my JobLauncher?</strong></p>\n\n<p>I naively tried to new it up, and set the properties in the method above, not surprisingly that didn't work very well. I was able to launch multiple instances.</p>\n\n<p>My launch code is:</p>\n\n<pre><code>// dependencies from constructor.\n// the launcher is qualified to 'synchronisationLauncher'\nprivate JobLauncher launcher;\nprivate Job mergeJob;\nprivate JobQueryHelper jobQueryHelper;\n\n@PostMapping(\"uri\")\npublic ResponseEntity&lt;APIResponse&gt; SynchroniseRetailers()\n        throws JobParametersInvalidException,\n               JobExecutionAlreadyRunningException,\n               JobRestartException,\n               JobInstanceAlreadyCompleteException {\n\n    JobParametersBuilder builder = new JobParametersBuilder()\n            .addLong(\"run.id\", jobQueryHelper.findLastBatchExecutionIndex() + 1);\n    launcher.run(mergeJob, builder.toJobParameters());\n    return buildEmptyResponse();\n}\n</code></pre>\n"},{"tags":["java"],"owner":{"account_id":25486631,"reputation":101,"user_id":19282140,"display_name":"java developer 111"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683713237,"creation_date":1683711691,"question_id":76216952,"body_markdown":"I have a simple html file like this\r\n\r\n      &lt;td style=&quot;width: 59.4824%; height: 28px;&quot; data-mce-style=&quot;width: 59.4824%; height: 28px;&quot;&gt;&lt;span\r\n                    style=&quot;font-size: 18pt;&quot; data-mce-style=&quot;font-size: 18pt;&quot;&gt;Boss &lt;span\r\n                    style=&quot;text-decoration: underline;&quot; data-mce-style=&quot;text-decoration: underline;&quot;&gt;{boss.name}&lt;/span&gt;&lt;/span&gt;\r\n            &lt;/td&gt;\r\n\r\nthat placed in spring boot project folder resources \r\n\r\ni need to get it from it, replace {boss.name} with java object boss.getName() and convert it to w3c Document\r\n\r\nwhat is the best way to do these steps?\r\n\r\nps.It is print form that will be convert to pdf file after these steps","title":"Get html file from project resource, fill placeholders and convert it to w3c document","body":"<p>I have a simple html file like this</p>\n<pre><code>  &lt;td style=&quot;width: 59.4824%; height: 28px;&quot; data-mce-style=&quot;width: 59.4824%; height: 28px;&quot;&gt;&lt;span\n                style=&quot;font-size: 18pt;&quot; data-mce-style=&quot;font-size: 18pt;&quot;&gt;Boss &lt;span\n                style=&quot;text-decoration: underline;&quot; data-mce-style=&quot;text-decoration: underline;&quot;&gt;{boss.name}&lt;/span&gt;&lt;/span&gt;\n        &lt;/td&gt;\n</code></pre>\n<p>that placed in spring boot project folder resources</p>\n<p>i need to get it from it, replace {boss.name} with java object boss.getName() and convert it to w3c Document</p>\n<p>what is the best way to do these steps?</p>\n<p>ps.It is print form that will be convert to pdf file after these steps</p>\n"},{"tags":["java","spring","cron","scheduled-tasks"],"comments":[{"owner":{"account_id":330400,"reputation":851,"user_id":654495,"accept_rate":67,"display_name":"Kias"},"score":0,"creation_date":1390268111,"post_id":18406713,"comment_id":32008887,"body_markdown":"Did you ever find an answer for this?","body":"Did you ever find an answer for this?"},{"owner":{"account_id":122100,"reputation":16858,"user_id":315677,"accept_rate":81,"display_name":"Pierre Henry"},"score":1,"creation_date":1391164648,"post_id":18406713,"comment_id":32416541,"body_markdown":"@Chaos : Nope, still using extra boolean property for this.","body":"@Chaos : Nope, still using extra boolean property for this."},{"owner":{"account_id":435987,"reputation":1349,"user_id":822870,"accept_rate":33,"display_name":"David Balaic"},"score":1,"creation_date":1484322179,"post_id":18406713,"comment_id":70476219,"body_markdown":"&quot;a cron pattern that would never evaluate&quot; this does not work, the spring scheduler code requires a valid &quot;next run date&quot; otherwise it throws an exception. (might not be true for all versions)","body":"&quot;a cron pattern that would never evaluate&quot; this does not work, the spring scheduler code requires a valid &quot;next run date&quot; otherwise it throws an exception. (might not be true for all versions)"},{"owner":{"account_id":1189564,"reputation":301,"user_id":1162725,"accept_rate":25,"display_name":"Dean"},"score":0,"creation_date":1613758717,"post_id":18406713,"comment_id":117184643,"body_markdown":"I know this was written a long time ago but it still shows up when searching for a solution. You may want to consider using a different scheduling mechanism. You can roll your own using Spring and Quartz (or other mechanisms I&#39;ve recently seen while searching for this) or use a solution like https://github.com/kagkarlsson/db-scheduler. I haven&#39;t tried this yet by I will be soon since I need a solution for a new project.","body":"I know this was written a long time ago but it still shows up when searching for a solution. You may want to consider using a different scheduling mechanism. You can roll your own using Spring and Quartz (or other mechanisms I&#39;ve recently seen while searching for this) or use a solution like <a href=\"https://github.com/kagkarlsson/db-scheduler\" rel=\"nofollow noreferrer\">github.com/kagkarlsson/db-scheduler</a>. I haven&#39;t tried this yet by I will be soon since I need a solution for a new project."}],"answers":[{"comments":[{"owner":{"account_id":122100,"reputation":16858,"user_id":315677,"accept_rate":81,"display_name":"Pierre Henry"},"score":23,"creation_date":1377501022,"post_id":18406954,"comment_id":27091872,"body_markdown":"Thanks, this is an option, but I&#39;d rather not instantiate the bean at all than create the bean and have a method execute periodically, even though it does nothing.","body":"Thanks, this is an option, but I&#39;d rather not instantiate the bean at all than create the bean and have a method execute periodically, even though it does nothing."},{"owner":{"account_id":122100,"reputation":16858,"user_id":315677,"accept_rate":81,"display_name":"Pierre Henry"},"score":2,"creation_date":1377597300,"post_id":18406954,"comment_id":27133066,"body_markdown":"I ended up implementing it like this, because it was simple although not perfect. And I learnt about the @Value annotation which is nice.","body":"I ended up implementing it like this, because it was simple although not perfect. And I learnt about the @Value annotation which is nice."},{"owner":{"account_id":420788,"reputation":1857,"user_id":798675,"accept_rate":67,"display_name":"Jeff Wang"},"score":15,"creation_date":1425075690,"post_id":18406954,"comment_id":45828854,"body_markdown":"instead of &quot;do your job here&quot; I&#39;d rather check for if (!enabled) { return;}  I think it&#39;s cleaner that way.","body":"instead of &quot;do your job here&quot; I&#39;d rather check for if (!enabled) { return;}  I think it&#39;s cleaner that way."},{"owner":{"account_id":13356749,"reputation":95,"user_id":9640017,"display_name":"vineetvdubey"},"score":0,"creation_date":1637930634,"post_id":18406954,"comment_id":123960666,"body_markdown":"A newer answer: https://stackoverflow.com/a/57655646/9640017","body":"A newer answer: <a href=\"https://stackoverflow.com/a/57655646/9640017\">stackoverflow.com/a/57655646/9640017</a>"}],"tags":[],"owner":{"account_id":905416,"reputation":25876,"user_id":940428,"accept_rate":100,"display_name":"Prabhakaran Ramaswamy"},"comment_count":4,"down_vote_count":2,"up_vote_count":52,"is_accepted":true,"score":50,"last_activity_date":1519034713,"creation_date":1377272979,"answer_id":18406954,"question_id":18406713,"body_markdown":" \r\n    @Component\r\n    public class ImagesPurgeJob implements Job {\r\n\r\n        private Logger logger = Logger.getLogger(this.getClass());\r\n    \r\n        @Value(&quot;${jobs.mediafiles.imagesPurgeJob.enable}&quot;)\r\n        private boolean imagesPurgeJobEnable;\r\n         \r\n        @Override\r\n        @Transactional(readOnly=true)\r\n        @Scheduled(cron = &quot;${jobs.mediafiles.imagesPurgeJob.schedule}&quot;)\r\n        public void execute() {\r\n\r\n             //Do something\r\n            //can use DAO or other autowired beans here\r\n            if(imagesPurgeJobEnable){\r\n\r\n                Do your conditional job here...\r\n\r\n            }\r\n        }\r\n    }","title":"How to conditionally enable or disable scheduled jobs in Spring?","body":"<pre><code>@Component\npublic class ImagesPurgeJob implements Job {\n\n    private Logger logger = Logger.getLogger(this.getClass());\n\n    @Value(\"${jobs.mediafiles.imagesPurgeJob.enable}\")\n    private boolean imagesPurgeJobEnable;\n\n    @Override\n    @Transactional(readOnly=true)\n    @Scheduled(cron = \"${jobs.mediafiles.imagesPurgeJob.schedule}\")\n    public void execute() {\n\n         //Do something\n        //can use DAO or other autowired beans here\n        if(imagesPurgeJobEnable){\n\n            Do your conditional job here...\n\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":122100,"reputation":16858,"user_id":315677,"accept_rate":81,"display_name":"Pierre Henry"},"score":0,"creation_date":1377503800,"post_id":18411810,"comment_id":27092987,"body_markdown":"While profiles would be fine in a simple dev/prod environments set, I feel they are not really adapted to multiple production environments (as in multiple customers with different features switched on/off) and would not mix well with our existing configuration management based on properties files and maven build-time selection of active profile. Right now all environment-dependent parameters are centralized in a single properties file. The Spring config is the same for all. That would not be the case if we use spring profiles.","body":"While profiles would be fine in a simple dev/prod environments set, I feel they are not really adapted to multiple production environments (as in multiple customers with different features switched on/off) and would not mix well with our existing configuration management based on properties files and maven build-time selection of active profile. Right now all environment-dependent parameters are centralized in a single properties file. The Spring config is the same for all. That would not be the case if we use spring profiles."},{"owner":{"account_id":2686420,"reputation":698,"user_id":2824661,"accept_rate":50,"display_name":"jugglingcats"},"score":0,"creation_date":1416995946,"post_id":18411810,"comment_id":42787740,"body_markdown":"You can conditionally activate spring profiles in a custom initializer (eg. by extending ApplicationContextInitializer&lt;ConfigurableWebApplicationContext&gt; and adding it to your web.xml). Then in your initializer, you can get the environment and activate profiles based on property settings, eg. String flag = environment.getProperty(&quot;my.custom.property&quot;); if ( &quot;true&quot;.equals(flag) ) { environment.activateProfile(&quot;MY_CUSTOM_PROFILE&quot;) }. We use this a lot for different features in different customer environments, and also to enable/disable certain features for tests (eg. enable zero-dep service).","body":"You can conditionally activate spring profiles in a custom initializer (eg. by extending ApplicationContextInitializer&lt;ConfigurableWebApplicationCont&zwnj;&#8203;ext&gt; and adding it to your web.xml). Then in your initializer, you can get the environment and activate profiles based on property settings, eg. String flag = environment.getProperty(&quot;my.custom.property&quot;); if ( &quot;true&quot;.equals(flag) ) { environment.activateProfile(&quot;MY_CUSTOM_PROFILE&quot;) }. We use this a lot for different features in different customer environments, and also to enable/disable certain features for tests (eg. enable zero-dep service)."}],"tags":[],"owner":{"account_id":264189,"reputation":6632,"user_id":550282,"display_name":"aweigold"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1377291801,"creation_date":1377291801,"answer_id":18411810,"question_id":18406713,"body_markdown":"Your question states to condition the actual creation of the bean.  You can do this easily with this parameter by using @Profile if you are using at least Spring 3.1.\r\n\r\nSee the documentation here: http://static.springsource.org/spring/docs/3.1.x/javadoc-api/org/springframework/context/annotation/Profile.html","title":"How to conditionally enable or disable scheduled jobs in Spring?","body":"<p>Your question states to condition the actual creation of the bean.  You can do this easily with this parameter by using @Profile if you are using at least Spring 3.1.</p>\n\n<p>See the documentation here: <a href=\"http://static.springsource.org/spring/docs/3.1.x/javadoc-api/org/springframework/context/annotation/Profile.html\" rel=\"nofollow\">http://static.springsource.org/spring/docs/3.1.x/javadoc-api/org/springframework/context/annotation/Profile.html</a></p>\n"},{"comments":[{"owner":{"account_id":3320383,"reputation":1548,"user_id":2791703,"display_name":"dARKpRINCE"},"score":2,"creation_date":1455113230,"post_id":24617132,"comment_id":58343442,"body_markdown":"Ideally this should work but it does not for my case with 1.3.2-RELEASE of Spring Boot.","body":"Ideally this should work but it does not for my case with 1.3.2-RELEASE of Spring Boot."},{"owner":{"account_id":1016849,"reputation":9461,"user_id":2026105,"display_name":"ETL"},"score":0,"creation_date":1471130427,"post_id":24617132,"comment_id":65231621,"body_markdown":"Also wasn&#39;t able to do this with the @ConditionalOnProperty in SpringBoot 1.4.0","body":"Also wasn&#39;t able to do this with the @ConditionalOnProperty in SpringBoot 1.4.0"},{"owner":{"account_id":439601,"reputation":6406,"user_id":828638,"accept_rate":73,"display_name":"jordanpg"},"score":6,"creation_date":1487799547,"post_id":24617132,"comment_id":71952562,"body_markdown":"According to the `@Conditional` docs, the annotation only applies at the method level for methods annotated with `@Bean`, ie. a bean definition.","body":"According to the <code>@Conditional</code> docs, the annotation only applies at the method level for methods annotated with <code>@Bean</code>, ie. a bean definition."}],"tags":[],"owner":{"account_id":1543247,"reputation":452,"user_id":1437395,"display_name":"tmullin"},"comment_count":3,"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1668962282,"creation_date":1404757098,"answer_id":24617132,"question_id":18406713,"body_markdown":"Spring Boot provides [@ConditionalOnProperty](http://docs.spring.io/spring-boot/docs/1.1.1.RELEASE/api/org/springframework/boot/autoconfigure/condition/ConditionalOnProperty.html), which would be perfect if you were using Spring Boot. This annotation is a specialization of [@Conditional](http://docs.spring.io/spring/docs/4.0.0.RELEASE/javadoc-api/org/springframework/context/annotation/Conditional.html), introduced with Spring 4.0.0.\r\n\r\nAssuming you&#39;re just using &quot;regular&quot; spring and not Spring Boot, you could create your own `Condition` implementation for use with `@Conditional` that would mimic Spring Boot&#39;s `@ConditionalOnProperty`.","title":"How to conditionally enable or disable scheduled jobs in Spring?","body":"<p>Spring Boot provides <a href=\"http://docs.spring.io/spring-boot/docs/1.1.1.RELEASE/api/org/springframework/boot/autoconfigure/condition/ConditionalOnProperty.html\" rel=\"nofollow noreferrer\">@ConditionalOnProperty</a>, which would be perfect if you were using Spring Boot. This annotation is a specialization of <a href=\"http://docs.spring.io/spring/docs/4.0.0.RELEASE/javadoc-api/org/springframework/context/annotation/Conditional.html\" rel=\"nofollow noreferrer\">@Conditional</a>, introduced with Spring 4.0.0.</p>\n<p>Assuming you're just using &quot;regular&quot; spring and not Spring Boot, you could create your own <code>Condition</code> implementation for use with <code>@Conditional</code> that would mimic Spring Boot's <code>@ConditionalOnProperty</code>.</p>\n"},{"comments":[{"owner":{"account_id":52517,"reputation":6279,"user_id":156973,"display_name":"izogfif"},"score":2,"creation_date":1533906978,"post_id":28772675,"comment_id":90531976,"body_markdown":"Can you put `@ConditionalOnProperty` on single method? Or specify different properties for different `@Scheduled` methods?","body":"Can you put <code>@ConditionalOnProperty</code> on single method? Or specify different properties for different <code>@Scheduled</code> methods?"},{"owner":{"account_id":2198054,"reputation":1980,"user_id":1943228,"display_name":"kamwo"},"score":0,"creation_date":1556016413,"post_id":28772675,"comment_id":98286183,"body_markdown":"@izogfif As far a I understand it, it can only be placed on methods, which create a `@Bean`. `@ConditionalOnProperty`inherits from `Conditional`. [Link](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Conditional.html?is-external=true)","body":"@izogfif As far a I understand it, it can only be placed on methods, which create a <code>@Bean</code>. <code>@ConditionalOnProperty</code>inherits from <code>Conditional</code>. <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Conditional.html?is-external=true\" rel=\"nofollow noreferrer\">Link</a>"}],"tags":[],"owner":{"account_id":1519401,"reputation":585,"user_id":1419528,"accept_rate":40,"display_name":"Oleg"},"comment_count":2,"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1668962243,"creation_date":1425064849,"answer_id":28772675,"question_id":18406713,"body_markdown":"You can group schedule methods by conditions into number of services and init them like this:\r\n\r\n\r\n    @Service\r\n    @ConditionalOnProperty(&quot;yourConditionPropery&quot;)\r\n    public class SchedulingService {\r\n    \r\n      @Scheduled\r\n      public void task1() {...}\r\n    \r\n      @Scheduled\r\n      public void task2() {...}\r\n    \r\n    }","title":"How to conditionally enable or disable scheduled jobs in Spring?","body":"<p>You can group schedule methods by conditions into number of services and init them like this:</p>\n<pre><code>@Service\n@ConditionalOnProperty(&quot;yourConditionPropery&quot;)\npublic class SchedulingService {\n\n  @Scheduled\n  public void task1() {...}\n\n  @Scheduled\n  public void task2() {...}\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3922468,"reputation":6689,"user_id":3244185,"display_name":"Harshal Patil"},"score":2,"creation_date":1533620167,"post_id":45955311,"comment_id":90399683,"body_markdown":"You are not disabling scheduler instead you add conditional in the login","body":"You are not disabling scheduler instead you add conditional in the login"}],"tags":[],"owner":{"account_id":6456733,"reputation":1883,"user_id":5404976,"accept_rate":50,"display_name":"Vinit Solanki"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1504080963,"creation_date":1504080963,"answer_id":45955311,"question_id":18406713,"body_markdown":"    @Component\r\n    public class CurrencySyncServiceImpl implements CurrencySyncService {\r\n    \r\n        private static Boolean isEnableSync;\r\n        /**\r\n         * Currency Sync FixedDelay in minutes\r\n         */\r\n        private static Integer fixedDelay;\r\n    \r\n        @Transactional\r\n        @Override\r\n        @Scheduled(fixedDelayString = &quot;#{${currency.sync.fixedDelay}*60*1000}&quot;)\r\n        public void sync() {\r\n            if(CurrencySyncServiceImpl.isEnableSync) {\r\n                //Do something\r\n                //you can use DAO or other autowired beans here.\r\n            }\r\n        }\r\n\r\n        @Value(&quot;${currency.sync.fixedDelay}&quot;)\r\n        public void setFixedDelay(Integer fixedDelay) {\r\n            CurrencySyncServiceImpl.fixedDelay = fixedDelay;\r\n        }\r\n\r\n        @Value(&quot;${currency.sync.isEnable}&quot;)\r\n        public void setIsEnableSync(Boolean isEnableSync) {\r\n            CurrencySyncServiceImpl.isEnableSync = isEnableSync;\r\n        }\r\n    }","title":"How to conditionally enable or disable scheduled jobs in Spring?","body":"<pre><code>@Component\npublic class CurrencySyncServiceImpl implements CurrencySyncService {\n\n    private static Boolean isEnableSync;\n    /**\n     * Currency Sync FixedDelay in minutes\n     */\n    private static Integer fixedDelay;\n\n    @Transactional\n    @Override\n    @Scheduled(fixedDelayString = \"#{${currency.sync.fixedDelay}*60*1000}\")\n    public void sync() {\n        if(CurrencySyncServiceImpl.isEnableSync) {\n            //Do something\n            //you can use DAO or other autowired beans here.\n        }\n    }\n\n    @Value(\"${currency.sync.fixedDelay}\")\n    public void setFixedDelay(Integer fixedDelay) {\n        CurrencySyncServiceImpl.fixedDelay = fixedDelay;\n    }\n\n    @Value(\"${currency.sync.isEnable}\")\n    public void setIsEnableSync(Boolean isEnableSync) {\n        CurrencySyncServiceImpl.isEnableSync = isEnableSync;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2607312,"reputation":1234,"user_id":2258205,"display_name":"Suraj Muraleedharan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522917402,"creation_date":1522917402,"answer_id":49667774,"question_id":18406713,"body_markdown":"I know my answer is a hack, but giving a valid cron expression that never executes may fix the issue (in the environment specific configuration), https://stackoverflow.com/questions/13835221/quartz-cron-expression-that-will-never-execute\r\n","title":"How to conditionally enable or disable scheduled jobs in Spring?","body":"<p>I know my answer is a hack, but giving a valid cron expression that never executes may fix the issue (in the environment specific configuration), <a href=\"https://stackoverflow.com/questions/13835221/quartz-cron-expression-that-will-never-execute\">Quartz: Cron expression that will never execute</a></p>\n"},{"tags":[],"owner":{"account_id":4246469,"reputation":993,"user_id":3474985,"display_name":"user3474985"},"comment_count":0,"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1530819916,"creation_date":1530819916,"answer_id":51198831,"question_id":18406713,"body_markdown":"If you are looking to toggle @EnableScheduling from a property you can do this in Spring Boot by moving the @EnableScheduling annotation to a configuration class and use @ConditionalOnProperty as follows:\r\n\r\n\r\n    @Configuration\r\n    @EnableScheduling\r\n    @ConditionalOnProperty(prefix = &quot;com.example.scheduling&quot;, name=&quot;enabled&quot;, havingValue=&quot;true&quot;, matchIfMissing = true)\r\n    public class SchedulingConfiguration {\r\n\r\n    }\r\n\r\nThis will disable scheduling for the application. This may be useful in a situation where you want to be able to run the application once or scheduled depending on how it&#39;s being started.\r\n\r\nFrom wilkinsona&#39;s comment on here: https://github.com/spring-projects/spring-boot/issues/12682","title":"How to conditionally enable or disable scheduled jobs in Spring?","body":"<p>If you are looking to toggle @EnableScheduling from a property you can do this in Spring Boot by moving the @EnableScheduling annotation to a configuration class and use @ConditionalOnProperty as follows:</p>\n\n<pre><code>@Configuration\n@EnableScheduling\n@ConditionalOnProperty(prefix = \"com.example.scheduling\", name=\"enabled\", havingValue=\"true\", matchIfMissing = true)\npublic class SchedulingConfiguration {\n\n}\n</code></pre>\n\n<p>This will disable scheduling for the application. This may be useful in a situation where you want to be able to run the application once or scheduled depending on how it's being started.</p>\n\n<p>From wilkinsona's comment on here: <a href=\"https://github.com/spring-projects/spring-boot/issues/12682\" rel=\"noreferrer\">https://github.com/spring-projects/spring-boot/issues/12682</a></p>\n"},{"tags":[],"owner":{"account_id":1325321,"reputation":626,"user_id":1270266,"display_name":"labm0nkey"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1534338459,"creation_date":1534338459,"answer_id":51859345,"question_id":18406713,"body_markdown":"You can also create a Bean based on condition and that Bean can have a Scheduled method.\r\n\r\n    @Component\r\n    @Configuration\r\n    @EnableScheduling\r\n    public class CustomCronComponent {\r\n        @Bean\r\n        @ConditionalOnProperty(value = &quot;my.cron.enabled&quot;, matchIfMissing = true, havingValue = &quot;true&quot;)\r\n        public MyCronTask runMyCronTask() {\r\n            return new MyCronTask();\r\n        }\r\n    }\r\n\r\nand\r\n\r\n    @Component\r\n    public class MyCronTask {\r\n        @Scheduled(cron = &quot;${my.cron.expression}&quot;)\r\n        public void run() {\r\n            String a = &quot;&quot;;\r\n        }\r\n    }\r\n\r\n","title":"How to conditionally enable or disable scheduled jobs in Spring?","body":"<p>You can also create a Bean based on condition and that Bean can have a Scheduled method.</p>\n\n<pre><code>@Component\n@Configuration\n@EnableScheduling\npublic class CustomCronComponent {\n    @Bean\n    @ConditionalOnProperty(value = \"my.cron.enabled\", matchIfMissing = true, havingValue = \"true\")\n    public MyCronTask runMyCronTask() {\n        return new MyCronTask();\n    }\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>@Component\npublic class MyCronTask {\n    @Scheduled(cron = \"${my.cron.expression}\")\n    public void run() {\n        String a = \"\";\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13281366,"reputation":161,"user_id":9588864,"display_name":"Chyngyz Sagynov"},"score":3,"creation_date":1686123377,"post_id":57655646,"comment_id":134754271,"body_markdown":"Better to use const instead of &quot;-&quot;\n```java\n@Scheduled(cron = Scheduled.CRON_DISABLED)\n```","body":"Better to use const instead of &quot;-&quot; <code>java @Scheduled(cron = Scheduled.CRON_DISABLED) </code>"}],"tags":[],"owner":{"account_id":7965642,"reputation":1330,"user_id":6011941,"accept_rate":60,"display_name":"Vpn_talent"},"comment_count":1,"down_vote_count":0,"up_vote_count":80,"is_accepted":false,"score":80,"last_activity_date":1618198551,"creation_date":1566813455,"answer_id":57655646,"question_id":18406713,"body_markdown":"The most efficient way to disable `@Scheduled` in Spring is to set cron expression to `-`\r\n\r\n    @Scheduled(cron = &quot;-&quot;)\r\n\tpublic void autoEvictAllCache() {\r\n\t\tLOGGER.info(&quot;Refresing the Cache Start :: &quot; + new Date());\r\n\t\tactiveMQUtility.sendToTopicCacheEviction(&quot;ALL&quot;);\r\n\t\tLOGGER.info(&quot;Refresing the Cache Complete :: &quot; + new Date());\r\n\t}\r\n\r\nFrom the [docs][1]:\r\n\r\n&gt; CRON_DISABLED  \r\n&gt; \r\n&gt; public static final String CRON_DISABLED  \r\n&gt; A special cron\r\n&gt; expression value that indicates a disabled trigger: &quot;-&quot;. This is\r\n&gt; primarily meant for use with ${...} placeholders, allowing for\r\n&gt; external disabling of corresponding scheduled methods.\r\n&gt; \r\n&gt; Since:\r\n&gt; 5.1 See Also: ScheduledTaskRegistrar.CRON_DISABLED\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/annotation/Scheduled.html#CRON_DISABLED","title":"How to conditionally enable or disable scheduled jobs in Spring?","body":"<p>The most efficient way to disable <code>@Scheduled</code> in Spring is to set cron expression to <code>-</code></p>\n<pre><code>@Scheduled(cron = &quot;-&quot;)\npublic void autoEvictAllCache() {\n    LOGGER.info(&quot;Refresing the Cache Start :: &quot; + new Date());\n    activeMQUtility.sendToTopicCacheEviction(&quot;ALL&quot;);\n    LOGGER.info(&quot;Refresing the Cache Complete :: &quot; + new Date());\n}\n</code></pre>\n<p>From the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/annotation/Scheduled.html#CRON_DISABLED\" rel=\"noreferrer\">docs</a>:</p>\n<blockquote>\n<p>CRON_DISABLED</p>\n<p>public static final String CRON_DISABLED<br />\nA special cron\nexpression value that indicates a disabled trigger: &quot;-&quot;. This is\nprimarily meant for use with ${...} placeholders, allowing for\nexternal disabling of corresponding scheduled methods.</p>\n<p>Since:\n5.1 See Also: ScheduledTaskRegistrar.CRON_DISABLED</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":10742871,"reputation":71,"user_id":7905312,"display_name":"Bin"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1576307382,"creation_date":1576307382,"answer_id":59333073,"question_id":18406713,"body_markdown":"Please see my answer in another question. I think this is the best way to solve it.\r\n[How to stop a scheduled task that was started using @Scheduled annotation?\r\n][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/44644141/how-to-stop-a-scheduled-task-that-was-started-using-scheduled-annotation/59262900#59262900\r\n\r\nDefine a custom annotation like below.\r\n\r\n    @Documented\r\n    @Retention (RUNTIME)\r\n    @Target(ElementType.TYPE)\r\n    public @interface ScheduledSwitch {\r\n        // do nothing\r\n    }\r\n\r\nDefine a class implements org.springframework.scheduling.annotation.ScheduledAnnotationBeanPostProcessor.\r\n\r\n    public class ScheduledAnnotationBeanPostProcessorCustom \r\n        extends ScheduledAnnotationBeanPostProcessor {\r\n    \r\n        @Value(value = &quot;${prevent.scheduled.tasks:false}&quot;)\r\n        private boolean preventScheduledTasks;\r\n    \r\n        private Map&lt;Object, String&gt; beans = new HashMap&lt;&gt;();\r\n    \r\n        private final ReentrantLock lock = new ReentrantLock(true);\r\n    \r\n        @Override\r\n        public Object postProcessAfterInitialization(Object bean, String beanName) {\r\n            ScheduledSwitch switch = AopProxyUtils.ultimateTargetClass(bean)\r\n                .getAnnotation(ScheduledSwitch.class);\r\n            if (null != switch) {\r\n                beans.put(bean, beanName);\r\n                if (preventScheduledTasks) {\r\n                    return bean;\r\n                }\r\n            }\r\n            return super.postProcessAfterInitialization(bean, beanName);\r\n        }\r\n    \r\n        public void stop() {\r\n            lock.lock();\r\n            try {\r\n                for (Map.Entry&lt;Object, String&gt; entry : beans.entrySet()) {\r\n                    postProcessBeforeDestruction(entry.getKey(), entry.getValue());\r\n                }\r\n            } finally {\r\n                lock.unlock();\r\n            }\r\n        }\r\n    \r\n        public void start() {\r\n            lock.lock();\r\n            try {\r\n                for (Map.Entry&lt;Object, String&gt; entry : beans.entrySet()) {\r\n                    if (!requiresDestruction(entry.getKey())) {\r\n                        super.postProcessAfterInitialization(\r\n                            entry.getKey(), entry.getValue());\r\n                    }\r\n                }\r\n            } finally {\r\n                lock.unlock();\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nReplace ScheduledAnnotationBeanPostProcessor bean by the custom bean in configuration.\r\n\r\n    @Configuration\r\n    public class ScheduledConfig {\r\n    \r\n        @Bean(name = TaskManagementConfigUtils.SCHEDULED_ANNOTATION_PROCESSOR_BEAN_NAME)\r\n        @Role(BeanDefinition.ROLE_INFRASTRUCTURE)\r\n        public ScheduledAnnotationBeanPostProcessor scheduledAnnotationBeanPostProcessor() {\r\n            return new ScheduledAnnotationBeanPostProcessorCustom();\r\n        }\r\n    \r\n    }\r\n\r\n\r\nAdd @ScheduledSwitch annotation to the beans that you want to prevent or stop @Scheduled tasks.\r\n","title":"How to conditionally enable or disable scheduled jobs in Spring?","body":"<p>Please see my answer in another question. I think this is the best way to solve it.\n<a href=\"https://stackoverflow.com/questions/44644141/how-to-stop-a-scheduled-task-that-was-started-using-scheduled-annotation/59262900#59262900\">How to stop a scheduled task that was started using @Scheduled annotation?\n</a></p>\n\n<p>Define a custom annotation like below.</p>\n\n<pre><code>@Documented\n@Retention (RUNTIME)\n@Target(ElementType.TYPE)\npublic @interface ScheduledSwitch {\n    // do nothing\n}\n</code></pre>\n\n<p>Define a class implements org.springframework.scheduling.annotation.ScheduledAnnotationBeanPostProcessor.</p>\n\n<pre><code>public class ScheduledAnnotationBeanPostProcessorCustom \n    extends ScheduledAnnotationBeanPostProcessor {\n\n    @Value(value = \"${prevent.scheduled.tasks:false}\")\n    private boolean preventScheduledTasks;\n\n    private Map&lt;Object, String&gt; beans = new HashMap&lt;&gt;();\n\n    private final ReentrantLock lock = new ReentrantLock(true);\n\n    @Override\n    public Object postProcessAfterInitialization(Object bean, String beanName) {\n        ScheduledSwitch switch = AopProxyUtils.ultimateTargetClass(bean)\n            .getAnnotation(ScheduledSwitch.class);\n        if (null != switch) {\n            beans.put(bean, beanName);\n            if (preventScheduledTasks) {\n                return bean;\n            }\n        }\n        return super.postProcessAfterInitialization(bean, beanName);\n    }\n\n    public void stop() {\n        lock.lock();\n        try {\n            for (Map.Entry&lt;Object, String&gt; entry : beans.entrySet()) {\n                postProcessBeforeDestruction(entry.getKey(), entry.getValue());\n            }\n        } finally {\n            lock.unlock();\n        }\n    }\n\n    public void start() {\n        lock.lock();\n        try {\n            for (Map.Entry&lt;Object, String&gt; entry : beans.entrySet()) {\n                if (!requiresDestruction(entry.getKey())) {\n                    super.postProcessAfterInitialization(\n                        entry.getKey(), entry.getValue());\n                }\n            }\n        } finally {\n            lock.unlock();\n        }\n    }\n\n}\n</code></pre>\n\n<p>Replace ScheduledAnnotationBeanPostProcessor bean by the custom bean in configuration.</p>\n\n<pre><code>@Configuration\npublic class ScheduledConfig {\n\n    @Bean(name = TaskManagementConfigUtils.SCHEDULED_ANNOTATION_PROCESSOR_BEAN_NAME)\n    @Role(BeanDefinition.ROLE_INFRASTRUCTURE)\n    public ScheduledAnnotationBeanPostProcessor scheduledAnnotationBeanPostProcessor() {\n        return new ScheduledAnnotationBeanPostProcessorCustom();\n    }\n\n}\n</code></pre>\n\n<p>Add @ScheduledSwitch annotation to the beans that you want to prevent or stop @Scheduled tasks.</p>\n"},{"comments":[{"owner":{"account_id":276162,"reputation":753,"user_id":569439,"accept_rate":86,"display_name":"rineez"},"score":0,"creation_date":1683607512,"post_id":61674985,"comment_id":134388440,"body_markdown":"What is `ConditionalSchedules.class` ? Did you actually forget to rename class `ConditionalBeans` to `ConditionalSchedules` ?","body":"What is <code>ConditionalSchedules.class</code> ? Did you actually forget to rename class <code>ConditionalBeans</code> to <code>ConditionalSchedules</code> ?"},{"owner":{"account_id":11464204,"reputation":487,"user_id":9832322,"display_name":"Abhilash"},"score":1,"creation_date":1683713163,"post_id":61674985,"comment_id":134407620,"body_markdown":"Yes, sorry for that. Corrected it.","body":"Yes, sorry for that. Corrected it."}],"tags":[],"owner":{"account_id":11464204,"reputation":487,"user_id":9832322,"display_name":"Abhilash"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683713187,"creation_date":1588926100,"answer_id":61674985,"question_id":18406713,"body_markdown":"We can disable the bean creation of the class having that scheduled methods using `@Conditional` annotation. This is very similar to `@ConditionalOnProperty`. This is used to conditionally spin up a bean on to the spring context. If we set the value to `false`, then the bean will not be spun up and loaded to spring. Below is the code.\r\n```\r\napplication.properties:\r\n\r\n    com.boot.enable.scheduling=enable\r\n```\r\nCondition:\r\n\r\n    public class ConditionalBeans implements Condition {\r\n    \t@Override\r\n    \tpublic boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) {\r\n    \t\treturn &quot;enabled&quot;.equalsIgnoreCase(context.getEnvironment().getProperty(&quot;com.boot.enable.scheduling&quot;));\r\n    \t}\r\n    }\r\n\r\nMy schedule class\r\n\r\n    @Service\r\n    @Conditional(ConditionalBeans.class)\r\n    public class PrintPeriodicallyService {\r\n    \r\n    \t@Scheduled(fixedRate = 3000)\r\n    \tpublic void runEvery3Seconds() {\r\n    \t\tSystem.out.println(&quot;Current time : &quot; + new Date().getTime());\r\n    \t}\r\n    }\r\n\r\nThis approach has a lot of flexibility where the condition generation is totally under our control.","title":"How to conditionally enable or disable scheduled jobs in Spring?","body":"<p>We can disable the bean creation of the class having that scheduled methods using <code>@Conditional</code> annotation. This is very similar to <code>@ConditionalOnProperty</code>. This is used to conditionally spin up a bean on to the spring context. If we set the value to <code>false</code>, then the bean will not be spun up and loaded to spring. Below is the code.</p>\n<pre><code>application.properties:\n\n    com.boot.enable.scheduling=enable\n</code></pre>\n<p>Condition:</p>\n<pre><code>public class ConditionalBeans implements Condition {\n    @Override\n    public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) {\n        return &quot;enabled&quot;.equalsIgnoreCase(context.getEnvironment().getProperty(&quot;com.boot.enable.scheduling&quot;));\n    }\n}\n</code></pre>\n<p>My schedule class</p>\n<pre><code>@Service\n@Conditional(ConditionalBeans.class)\npublic class PrintPeriodicallyService {\n\n    @Scheduled(fixedRate = 3000)\n    public void runEvery3Seconds() {\n        System.out.println(&quot;Current time : &quot; + new Date().getTime());\n    }\n}\n</code></pre>\n<p>This approach has a lot of flexibility where the condition generation is totally under our control.</p>\n"}],"owner":{"account_id":122100,"reputation":16858,"user_id":315677,"accept_rate":81,"display_name":"Pierre Henry"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168105,"favorite_count":0,"down_vote_count":1,"up_vote_count":116,"accepted_answer_id":18406954,"answer_count":11,"score":115,"last_activity_date":1683713187,"creation_date":1377272188,"question_id":18406713,"body_markdown":"I am defining scheduled jobs with cron style patterns in Spring, using the `@Scheduled` annotation.\r\n\r\nThe cron pattern is stored in a config properties file. Actually there are two properties files: one default config, and one profile config that is environment dependent (e.g. dev, test, prod customer 1, prod customer 2 etc.) and overrides some of the default values.\r\n\r\nI configured a property placeholder bean in my spring context which allows me to use `${}` style placeholders to import values from my properties files.\r\n\r\nThe job beans looks like this:\r\n\r\n    @Component\r\n    public class ImagesPurgeJob implements Job {\r\n    \t\r\n    \tprivate Logger logger = Logger.getLogger(this.getClass());\r\n    \r\n    \t@Override\r\n        @Transactional(readOnly=true)\r\n        @Scheduled(cron = &quot;${jobs.mediafiles.imagesPurgeJob.schedule}&quot;)\r\n    \tpublic void execute() {\r\n    \t\t//Do something\r\n                //can use DAO or other autowired beans here\r\n    \t}\r\n    }\r\n\r\nRelevant parts of my context XML :\r\n\r\n    &lt;!-- Enable configuration of scheduled tasks via annotations --&gt;\r\n        &lt;task:annotation-driven/&gt;\r\n    \r\n    &lt;!-- Load configuration files and allow &#39;${}&#39; style placeholders --&gt;\r\n        &lt;bean class=&quot;org.springframework.context.support.PropertySourcesPlaceholderConfigurer&quot;&gt;\r\n            &lt;property name=&quot;locations&quot;&gt;\r\n                &lt;list&gt;\r\n                    &lt;value&gt;classpath:config/default-config.properties&lt;/value&gt;\r\n                    &lt;value&gt;classpath:config/environment-config.properties&lt;/value&gt;\r\n                &lt;/list&gt;\r\n            &lt;/property&gt;\r\n            &lt;property name=&quot;ignoreUnresolvablePlaceholders&quot; value=&quot;true&quot;/&gt;\r\n            &lt;property name=&quot;ignoreResourceNotFound&quot; value=&quot;false&quot;/&gt;\r\n        &lt;/bean&gt;\r\n\r\n\r\nI really like this. It&#39;s quite simple and clean with minimal XML.\r\n\r\nHowever I have one more requirement: some of these jobs can be totally disabled in some cases.\r\n\r\nSo, before I used Spring to manage them I created them manually and there is a boolean parameter along with the cron parameter in the config files, to specify if the job has to be enabled or not:\r\n\r\n    jobs.mediafiles.imagesPurgeJob.enable=true or false\r\n    jobs.mediafiles.imagesPurgeJob.schedule=0 0 0/12 * * ?\r\n\r\nHow can I use this parameter in Spring to conditionally create or just plainly ignore the bean, depending on this config parameter?\r\n\r\nOne obvious workaround would be to define a cron pattern that would never evaluate, so the job is never executed. But the bean would still be created and the config would be a bit obscure, so I feel there must be a better solution.","title":"How to conditionally enable or disable scheduled jobs in Spring?","body":"<p>I am defining scheduled jobs with cron style patterns in Spring, using the <code>@Scheduled</code> annotation.</p>\n\n<p>The cron pattern is stored in a config properties file. Actually there are two properties files: one default config, and one profile config that is environment dependent (e.g. dev, test, prod customer 1, prod customer 2 etc.) and overrides some of the default values.</p>\n\n<p>I configured a property placeholder bean in my spring context which allows me to use <code>${}</code> style placeholders to import values from my properties files.</p>\n\n<p>The job beans looks like this:</p>\n\n<pre><code>@Component\npublic class ImagesPurgeJob implements Job {\n\n    private Logger logger = Logger.getLogger(this.getClass());\n\n    @Override\n    @Transactional(readOnly=true)\n    @Scheduled(cron = \"${jobs.mediafiles.imagesPurgeJob.schedule}\")\n    public void execute() {\n        //Do something\n            //can use DAO or other autowired beans here\n    }\n}\n</code></pre>\n\n<p>Relevant parts of my context XML :</p>\n\n<pre><code>&lt;!-- Enable configuration of scheduled tasks via annotations --&gt;\n    &lt;task:annotation-driven/&gt;\n\n&lt;!-- Load configuration files and allow '${}' style placeholders --&gt;\n    &lt;bean class=\"org.springframework.context.support.PropertySourcesPlaceholderConfigurer\"&gt;\n        &lt;property name=\"locations\"&gt;\n            &lt;list&gt;\n                &lt;value&gt;classpath:config/default-config.properties&lt;/value&gt;\n                &lt;value&gt;classpath:config/environment-config.properties&lt;/value&gt;\n            &lt;/list&gt;\n        &lt;/property&gt;\n        &lt;property name=\"ignoreUnresolvablePlaceholders\" value=\"true\"/&gt;\n        &lt;property name=\"ignoreResourceNotFound\" value=\"false\"/&gt;\n    &lt;/bean&gt;\n</code></pre>\n\n<p>I really like this. It's quite simple and clean with minimal XML.</p>\n\n<p>However I have one more requirement: some of these jobs can be totally disabled in some cases.</p>\n\n<p>So, before I used Spring to manage them I created them manually and there is a boolean parameter along with the cron parameter in the config files, to specify if the job has to be enabled or not:</p>\n\n<pre><code>jobs.mediafiles.imagesPurgeJob.enable=true or false\njobs.mediafiles.imagesPurgeJob.schedule=0 0 0/12 * * ?\n</code></pre>\n\n<p>How can I use this parameter in Spring to conditionally create or just plainly ignore the bean, depending on this config parameter?</p>\n\n<p>One obvious workaround would be to define a cron pattern that would never evaluate, so the job is never executed. But the bean would still be created and the config would be a bit obscure, so I feel there must be a better solution.</p>\n"},{"tags":["java","spring-boot","spring-jdbc"],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1560623988,"creation_date":1560623988,"answer_id":56613191,"question_id":56613156,"body_markdown":"`group` is a SQL keyword. Choose another name for your column.","title":"SQLSyntaxErrorException in Spring JDBC with BeanPropertySqlParameterSource","body":"<p><code>group</code> is a SQL keyword. Choose another name for your column.</p>\n"},{"tags":[],"owner":{"account_id":10579662,"reputation":25,"user_id":7793981,"display_name":"SZ."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683712890,"creation_date":1683712890,"answer_id":76217113,"question_id":56613156,"body_markdown":"As there are a lot of SQL keywords and it&#39;s impossible to avoid all of them so one possible solution is to pass column names and add escaping,\r\n\r\n    String[] columns = {&quot;name&quot;, &quot;desc&quot;,  &quot;code&quot;, &quot;`group`&quot;, &quot;`order`&quot;}\r\n    \r\n    SimpleJdbcInsert insert = new SimpleJdbcInsert(getJdbcTemplate());\r\n    insert.withTableName(tableName);\r\n    insert.usingColumns(columns);\r\n    insert.usingGeneratedKeyColumns(&quot;id&quot;);\r\n    \r\n    Number id = insert.executeAndReturnKey(parameterSource);\r\n\r\nNote that in order to pass parameter for *keyword as column name*, you need to add escaping while setting params like:\r\n\r\n    params.put(&quot;`group`&quot;, &quot;group_&quot;);\r\n    params.put(&quot;`order`&quot;, 3);\r\n    params.put(&quot;name&quot;, &quot;name_&quot;);","title":"SQLSyntaxErrorException in Spring JDBC with BeanPropertySqlParameterSource","body":"<p>As there are a lot of SQL keywords and it's impossible to avoid all of them so one possible solution is to pass column names and add escaping,</p>\n<pre><code>String[] columns = {&quot;name&quot;, &quot;desc&quot;,  &quot;code&quot;, &quot;`group`&quot;, &quot;`order`&quot;}\n\nSimpleJdbcInsert insert = new SimpleJdbcInsert(getJdbcTemplate());\ninsert.withTableName(tableName);\ninsert.usingColumns(columns);\ninsert.usingGeneratedKeyColumns(&quot;id&quot;);\n\nNumber id = insert.executeAndReturnKey(parameterSource);\n</code></pre>\n<p>Note that in order to pass parameter for <em>keyword as column name</em>, you need to add escaping while setting params like:</p>\n<pre><code>params.put(&quot;`group`&quot;, &quot;group_&quot;);\nparams.put(&quot;`order`&quot;, 3);\nparams.put(&quot;name&quot;, &quot;name_&quot;);\n</code></pre>\n"}],"owner":{"account_id":121323,"reputation":1251,"user_id":314336,"accept_rate":22,"display_name":"xyzt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":446,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":56613191,"answer_count":2,"score":0,"last_activity_date":1683712890,"creation_date":1560623730,"question_id":56613156,"body_markdown":"I use Spring JDBC in my SpringBoot application.\r\nThis is one of my data classes:\r\n\r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @Wither\r\n    @Builder\r\n    @AllArgsConstructor\r\n    public class MTAccountData {\r\n    \tprivate int id;\r\n    \tprivate boolean enable;\r\n    \tprivate boolean readOnlyAccount;\r\n    \tprivate String group;\r\n    \tprivate int leverage;\r\n    \tprivate int agentAccount;\r\n    \tprivate double balance;\r\n    \tprivate double prevMonthBalance;\r\n    \tprivate double prevBalance;\r\n    \tprivate double credit;\r\n    \tprivate double interestRate;\r\n    \tprivate double taxes;\r\n    \tprivate double prevMonthEquity;\r\n    \tprivate double prevEquity;\r\n    \tprivate int registrationDate;\r\n    \tprivate int lastConnectionDate;\r\n    }\r\nAnd MySQL table is as follows:\r\n\r\n    CREATE TABLE `accounts` (\r\n      `id` int(11) NOT NULL AUTO_INCREMENT,\r\n      `enable` bit(1) DEFAULT NULL,\r\n      `readOnlyAccount` bit(1) DEFAULT NULL,\r\n      `group` varchar(45) DEFAULT NULL,\r\n      `leverage` int(11) DEFAULT NULL,\r\n      `agentAccount` int(11) DEFAULT NULL,\r\n      `balance` float DEFAULT NULL,\r\n      `prevMonthBalance` float DEFAULT NULL,\r\n      `prevBalance` float DEFAULT NULL,\r\n      `credit` float DEFAULT NULL,\r\n      `interestRate` float DEFAULT NULL,\r\n      `taxes` float DEFAULT NULL,\r\n      `prevMonthEquity` float DEFAULT NULL,\r\n      `prevEquity` float DEFAULT NULL,\r\n      `registrationDate` int(11) DEFAULT NULL,\r\n      `lastConnectionDate` int(11) DEFAULT NULL,\r\n      PRIMARY KEY (`id`)\r\n    ) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=latin1;\r\n\r\n\r\nIn my service class I have a method to save a new account to MySQL database:\r\n\r\n\t\r\n\r\n    private void saveAccount(Integer companyId, MTAccountData account) {\r\n    \t\tSqlParameterSource accountParameters = new BeanPropertySqlParameterSource(account);\r\n    \t\tint generatedAccountId = new SimpleJdbcInsert(dataSource) //\r\n    \t\t\t\t.usingGeneratedKeyColumns(&quot;ID&quot;) //\r\n    \t\t\t\t.withTableName(tableName(companyId)) //\r\n    \t\t\t\t.executeAndReturnKey(accountParameters) //\r\n    \t\t\t\t.intValue();\r\n    \t\taccount.setId(generatedAccountId);\r\n    \t}\r\n\r\nI enabled Spring JDBC debugging and it prints debug logs when I try to save a record but I get the exception that is seen at the end of my post.\r\nI couldn&#39;t figure out the reason... Is there something wrong with the save method?\r\n\r\n    2019-06-15 21:21:11.926  INFO 32737 --- [nio-9090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n    2019-06-15 21:21:11.926  INFO 32737 --- [nio-9090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n    2019-06-15 21:21:11.937  INFO 32737 --- [nio-9090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 11 ms\r\n    2019-06-15 21:21:12.073 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.simple.SimpleJdbcInsert    : JdbcInsert not compiled before execution - invoking compile\r\n    2019-06-15 21:21:12.099 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.m.TableMetaDataProviderFactory   : Using GenericTableMetaDataProvider\r\n    2019-06-15 21:21:12.099 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : GetGeneratedKeys is supported\r\n    2019-06-15 21:21:12.099 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : GeneratedKeysColumnNameArray is supported for MySQL\r\n    2019-06-15 21:21:12.127 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieving meta-data for mtsync_test/root@localhost/accounts\r\n    2019-06-15 21:21:12.140 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: id 4 false\r\n    2019-06-15 21:21:12.140 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: enable -7 true\r\n    2019-06-15 21:21:12.141 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: readOnlyAccount -7 true\r\n    2019-06-15 21:21:12.141 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: group 12 true\r\n    2019-06-15 21:21:12.141 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: leverage 4 true\r\n    2019-06-15 21:21:12.142 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: agentAccount 4 true\r\n    2019-06-15 21:21:12.142 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: balance 7 true\r\n    2019-06-15 21:21:12.142 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: prevMonthBalance 7 true\r\n    2019-06-15 21:21:12.142 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: prevBalance 7 true\r\n    2019-06-15 21:21:12.142 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: credit 7 true\r\n    2019-06-15 21:21:12.142 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: interestRate 7 true\r\n    2019-06-15 21:21:12.142 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: taxes 7 true\r\n    2019-06-15 21:21:12.143 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: prevMonthEquity 7 true\r\n    2019-06-15 21:21:12.143 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: prevEquity 7 true\r\n    2019-06-15 21:21:12.143 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: registrationDate 4 true\r\n    2019-06-15 21:21:12.143 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: lastConnectionDate 4 true\r\n    2019-06-15 21:21:12.143 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.simple.SimpleJdbcInsert    : Compiled insert object: insert string is [INSERT INTO accounts (enable, readOnlyAccount, group, leverage, agentAccount, balance, prevMonthBalance, prevBalance, credit, interestRate, taxes, prevMonthEquity, prevEquity, registrationDate, lastConnectionDate) VALUES(?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]\r\n    2019-06-15 21:21:12.143 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.simple.SimpleJdbcInsert    : JdbcInsert for table [accounts] compiled\r\n    2019-06-15 21:21:12.157 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.simple.SimpleJdbcInsert    : The following parameters are used for call INSERT INTO accounts (enable, readOnlyAccount, group, leverage, agentAccount, balance, prevMonthBalance, prevBalance, credit, interestRate, taxes, prevMonthEquity, prevEquity, registrationDate, lastConnectionDate) VALUES(?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) with: [org.springframework.jdbc.core.SqlParameterValue@6b0bd4d, org.springframework.jdbc.core.SqlParameterValue@5c5caccd, org.springframework.jdbc.core.SqlParameterValue@53bfcc87, org.springframework.jdbc.core.SqlParameterValue@f3f8b3f, org.springframework.jdbc.core.SqlParameterValue@c661540, org.springframework.jdbc.core.SqlParameterValue@35e5fac5, org.springframework.jdbc.core.SqlParameterValue@1893d30a, org.springframework.jdbc.core.SqlParameterValue@6b86d554, org.springframework.jdbc.core.SqlParameterValue@57f61171, org.springframework.jdbc.core.SqlParameterValue@4ddffa98, org.springframework.jdbc.core.SqlParameterValue@4bd27baa, org.springframework.jdbc.core.SqlParameterValue@16232bf1, org.springframework.jdbc.core.SqlParameterValue@71b9dddd, org.springframework.jdbc.core.SqlParameterValue@4300e248, org.springframework.jdbc.core.SqlParameterValue@1bd7dea9]\r\n    2019-06-15 21:21:12.159 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing SQL update and returning generated keys\r\n    2019-06-15 21:21:12.161 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement\r\n    2019-06-15 21:21:12.162 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.simple.SimpleJdbcInsert    : Using generated keys support with array of column names.\r\n    2019-06-15 21:21:12.207 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Overriding type info with runtime info from SqlParameterValue: column index 1, SQL type 16, type name null\r\n    2019-06-15 21:21:12.208 TRACE 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 1, parameter value [true], value class [java.lang.Boolean], SQL type 16\r\n    2019-06-15 21:21:12.218 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Overriding type info with runtime info from SqlParameterValue: column index 2, SQL type 16, type name null\r\n    2019-06-15 21:21:12.219 TRACE 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 2, parameter value [false], value class [java.lang.Boolean], SQL type 16\r\n    2019-06-15 21:21:12.219 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Overriding type info with runtime info from SqlParameterValue: column index 3, SQL type 12, type name null\r\n    2019-06-15 21:21:12.219 TRACE 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 3, parameter value [group-2], value class [java.lang.String], SQL type 12\r\n    2019-06-15 21:21:12.220 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Overriding type info with runtime info from SqlParameterValue: column index 4, SQL type 4, type name null\r\n    2019-06-15 21:21:12.220 TRACE 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 4, parameter value [10], value class [java.lang.Integer], SQL type 4\r\n    2019-06-15 21:21:12.221 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Overriding type info with runtime info from SqlParameterValue: column index 5, SQL type 4, type name null\r\n    2019-06-15 21:21:12.222 TRACE 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 5, parameter value [10043], value class [java.lang.Integer], SQL type 4\r\n    2019-06-15 21:21:12.222 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Overriding type info with runtime info from SqlParameterValue: column index 6, SQL type 8, type name null\r\n    2019-06-15 21:21:12.222 TRACE 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 6, parameter value [1.0], value class [java.lang.Double], SQL type 8\r\n    2019-06-15 21:21:12.223 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Overriding type info with runtime info from SqlParameterValue: column index 7, SQL type 8, type name null\r\n    2019-06-15 21:21:12.223 TRACE 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 7, parameter value [1.0], value class [java.lang.Double], SQL type 8\r\n    2019-06-15 21:21:12.223 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Overriding type info with runtime info from SqlParameterValue: column index 8, SQL type 8, type name null\r\n    2019-06-15 21:21:12.223 TRACE 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 8, parameter value [1.0], value class [java.lang.Double], SQL type 8\r\n    2019-06-15 21:21:12.223 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Overriding type info with runtime info from SqlParameterValue: column index 9, SQL type 8, type name null\r\n    2019-06-15 21:21:12.223 TRACE 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 9, parameter value [1.0], value class [java.lang.Double], SQL type 8\r\n    2019-06-15 21:21:12.223 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Overriding type info with runtime info from SqlParameterValue: column index 10, SQL type 8, type name null\r\n    2019-06-15 21:21:12.223 TRACE 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 10, parameter value [1.0], value class [java.lang.Double], SQL type 8\r\n    2019-06-15 21:21:12.223 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Overriding type info with runtime info from SqlParameterValue: column index 11, SQL type 8, type name null\r\n    2019-06-15 21:21:12.223 TRACE 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 11, parameter value [1.0], value class [java.lang.Double], SQL type 8\r\n    2019-06-15 21:21:12.223 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Overriding type info with runtime info from SqlParameterValue: column index 12, SQL type 8, type name null\r\n    2019-06-15 21:21:12.224 TRACE 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 12, parameter value [1.0], value class [java.lang.Double], SQL type 8\r\n    2019-06-15 21:21:12.224 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Overriding type info with runtime info from SqlParameterValue: column index 13, SQL type 8, type name null\r\n    2019-06-15 21:21:12.224 TRACE 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 13, parameter value [1.0], value class [java.lang.Double], SQL type 8\r\n    2019-06-15 21:21:12.224 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Overriding type info with runtime info from SqlParameterValue: column index 14, SQL type 4, type name null\r\n    2019-06-15 21:21:12.224 TRACE 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 14, parameter value [1], value class [java.lang.Integer], SQL type 4\r\n    2019-06-15 21:21:12.224 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Overriding type info with runtime info from SqlParameterValue: column index 15, SQL type 4, type name null\r\n    2019-06-15 21:21:12.228 TRACE 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 15, parameter value [1], value class [java.lang.Integer], SQL type 4\r\n    2019-06-15 21:21:12.365 ERROR 32737 --- [nio-9090-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.jdbc.BadSqlGrammarException: PreparedStatementCallback; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;group, leverage, agentAccount, balance, prevMonthBalance, prevBalance, credit, i&#39; at line 1] with root cause\r\n\r\n\r\nException:\r\n\r\n\r\n    java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;group, leverage, agentAccount, balance, prevMonthBalance, prevBalance, credit, i&#39; at line 1\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120) ~[mysql-connector-java-8.0.16.jar:8.0.16]\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97) ~[mysql-connector-java-8.0.16.jar:8.0.16]\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.16.jar:8.0.16]\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:955) ~[mysql-connector-java-8.0.16.jar:8.0.16]\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1094) ~[mysql-connector-java-8.0.16.jar:8.0.16]\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1042) ~[mysql-connector-java-8.0.16.jar:8.0.16]\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1345) ~[mysql-connector-java-8.0.16.jar:8.0.16]\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1027) ~[mysql-connector-java-8.0.16.jar:8.0.16]\r\n\r\n\r\n","title":"SQLSyntaxErrorException in Spring JDBC with BeanPropertySqlParameterSource","body":"<p>I use Spring JDBC in my SpringBoot application.\nThis is one of my data classes:</p>\n\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@Wither\n@Builder\n@AllArgsConstructor\npublic class MTAccountData {\n    private int id;\n    private boolean enable;\n    private boolean readOnlyAccount;\n    private String group;\n    private int leverage;\n    private int agentAccount;\n    private double balance;\n    private double prevMonthBalance;\n    private double prevBalance;\n    private double credit;\n    private double interestRate;\n    private double taxes;\n    private double prevMonthEquity;\n    private double prevEquity;\n    private int registrationDate;\n    private int lastConnectionDate;\n}\n</code></pre>\n\n<p>And MySQL table is as follows:</p>\n\n<pre><code>CREATE TABLE `accounts` (\n  `id` int(11) NOT NULL AUTO_INCREMENT,\n  `enable` bit(1) DEFAULT NULL,\n  `readOnlyAccount` bit(1) DEFAULT NULL,\n  `group` varchar(45) DEFAULT NULL,\n  `leverage` int(11) DEFAULT NULL,\n  `agentAccount` int(11) DEFAULT NULL,\n  `balance` float DEFAULT NULL,\n  `prevMonthBalance` float DEFAULT NULL,\n  `prevBalance` float DEFAULT NULL,\n  `credit` float DEFAULT NULL,\n  `interestRate` float DEFAULT NULL,\n  `taxes` float DEFAULT NULL,\n  `prevMonthEquity` float DEFAULT NULL,\n  `prevEquity` float DEFAULT NULL,\n  `registrationDate` int(11) DEFAULT NULL,\n  `lastConnectionDate` int(11) DEFAULT NULL,\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=latin1;\n</code></pre>\n\n<p>In my service class I have a method to save a new account to MySQL database:</p>\n\n<pre><code>private void saveAccount(Integer companyId, MTAccountData account) {\n        SqlParameterSource accountParameters = new BeanPropertySqlParameterSource(account);\n        int generatedAccountId = new SimpleJdbcInsert(dataSource) //\n                .usingGeneratedKeyColumns(\"ID\") //\n                .withTableName(tableName(companyId)) //\n                .executeAndReturnKey(accountParameters) //\n                .intValue();\n        account.setId(generatedAccountId);\n    }\n</code></pre>\n\n<p>I enabled Spring JDBC debugging and it prints debug logs when I try to save a record but I get the exception that is seen at the end of my post.\nI couldn't figure out the reason... Is there something wrong with the save method?</p>\n\n<pre><code>2019-06-15 21:21:11.926  INFO 32737 --- [nio-9090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2019-06-15 21:21:11.926  INFO 32737 --- [nio-9090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2019-06-15 21:21:11.937  INFO 32737 --- [nio-9090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 11 ms\n2019-06-15 21:21:12.073 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.simple.SimpleJdbcInsert    : JdbcInsert not compiled before execution - invoking compile\n2019-06-15 21:21:12.099 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.m.TableMetaDataProviderFactory   : Using GenericTableMetaDataProvider\n2019-06-15 21:21:12.099 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : GetGeneratedKeys is supported\n2019-06-15 21:21:12.099 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : GeneratedKeysColumnNameArray is supported for MySQL\n2019-06-15 21:21:12.127 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieving meta-data for mtsync_test/root@localhost/accounts\n2019-06-15 21:21:12.140 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: id 4 false\n2019-06-15 21:21:12.140 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: enable -7 true\n2019-06-15 21:21:12.141 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: readOnlyAccount -7 true\n2019-06-15 21:21:12.141 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: group 12 true\n2019-06-15 21:21:12.141 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: leverage 4 true\n2019-06-15 21:21:12.142 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: agentAccount 4 true\n2019-06-15 21:21:12.142 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: balance 7 true\n2019-06-15 21:21:12.142 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: prevMonthBalance 7 true\n2019-06-15 21:21:12.142 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: prevBalance 7 true\n2019-06-15 21:21:12.142 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: credit 7 true\n2019-06-15 21:21:12.142 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: interestRate 7 true\n2019-06-15 21:21:12.142 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: taxes 7 true\n2019-06-15 21:21:12.143 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: prevMonthEquity 7 true\n2019-06-15 21:21:12.143 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: prevEquity 7 true\n2019-06-15 21:21:12.143 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: registrationDate 4 true\n2019-06-15 21:21:12.143 DEBUG 32737 --- [nio-9090-exec-1] o.s.j.c.metadata.TableMetaDataProvider   : Retrieved meta-data: lastConnectionDate 4 true\n2019-06-15 21:21:12.143 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.simple.SimpleJdbcInsert    : Compiled insert object: insert string is [INSERT INTO accounts (enable, readOnlyAccount, group, leverage, agentAccount, balance, prevMonthBalance, prevBalance, credit, interestRate, taxes, prevMonthEquity, prevEquity, registrationDate, lastConnectionDate) VALUES(?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]\n2019-06-15 21:21:12.143 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.simple.SimpleJdbcInsert    : JdbcInsert for table [accounts] compiled\n2019-06-15 21:21:12.157 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.simple.SimpleJdbcInsert    : The following parameters are used for call INSERT INTO accounts (enable, readOnlyAccount, group, leverage, agentAccount, balance, prevMonthBalance, prevBalance, credit, interestRate, taxes, prevMonthEquity, prevEquity, registrationDate, lastConnectionDate) VALUES(?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) with: [org.springframework.jdbc.core.SqlParameterValue@6b0bd4d, org.springframework.jdbc.core.SqlParameterValue@5c5caccd, org.springframework.jdbc.core.SqlParameterValue@53bfcc87, org.springframework.jdbc.core.SqlParameterValue@f3f8b3f, org.springframework.jdbc.core.SqlParameterValue@c661540, org.springframework.jdbc.core.SqlParameterValue@35e5fac5, org.springframework.jdbc.core.SqlParameterValue@1893d30a, org.springframework.jdbc.core.SqlParameterValue@6b86d554, org.springframework.jdbc.core.SqlParameterValue@57f61171, org.springframework.jdbc.core.SqlParameterValue@4ddffa98, org.springframework.jdbc.core.SqlParameterValue@4bd27baa, org.springframework.jdbc.core.SqlParameterValue@16232bf1, org.springframework.jdbc.core.SqlParameterValue@71b9dddd, org.springframework.jdbc.core.SqlParameterValue@4300e248, org.springframework.jdbc.core.SqlParameterValue@1bd7dea9]\n2019-06-15 21:21:12.159 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing SQL update and returning generated keys\n2019-06-15 21:21:12.161 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement\n2019-06-15 21:21:12.162 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.simple.SimpleJdbcInsert    : Using generated keys support with array of column names.\n2019-06-15 21:21:12.207 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Overriding type info with runtime info from SqlParameterValue: column index 1, SQL type 16, type name null\n2019-06-15 21:21:12.208 TRACE 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 1, parameter value [true], value class [java.lang.Boolean], SQL type 16\n2019-06-15 21:21:12.218 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Overriding type info with runtime info from SqlParameterValue: column index 2, SQL type 16, type name null\n2019-06-15 21:21:12.219 TRACE 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 2, parameter value [false], value class [java.lang.Boolean], SQL type 16\n2019-06-15 21:21:12.219 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Overriding type info with runtime info from SqlParameterValue: column index 3, SQL type 12, type name null\n2019-06-15 21:21:12.219 TRACE 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 3, parameter value [group-2], value class [java.lang.String], SQL type 12\n2019-06-15 21:21:12.220 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Overriding type info with runtime info from SqlParameterValue: column index 4, SQL type 4, type name null\n2019-06-15 21:21:12.220 TRACE 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 4, parameter value [10], value class [java.lang.Integer], SQL type 4\n2019-06-15 21:21:12.221 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Overriding type info with runtime info from SqlParameterValue: column index 5, SQL type 4, type name null\n2019-06-15 21:21:12.222 TRACE 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 5, parameter value [10043], value class [java.lang.Integer], SQL type 4\n2019-06-15 21:21:12.222 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Overriding type info with runtime info from SqlParameterValue: column index 6, SQL type 8, type name null\n2019-06-15 21:21:12.222 TRACE 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 6, parameter value [1.0], value class [java.lang.Double], SQL type 8\n2019-06-15 21:21:12.223 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Overriding type info with runtime info from SqlParameterValue: column index 7, SQL type 8, type name null\n2019-06-15 21:21:12.223 TRACE 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 7, parameter value [1.0], value class [java.lang.Double], SQL type 8\n2019-06-15 21:21:12.223 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Overriding type info with runtime info from SqlParameterValue: column index 8, SQL type 8, type name null\n2019-06-15 21:21:12.223 TRACE 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 8, parameter value [1.0], value class [java.lang.Double], SQL type 8\n2019-06-15 21:21:12.223 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Overriding type info with runtime info from SqlParameterValue: column index 9, SQL type 8, type name null\n2019-06-15 21:21:12.223 TRACE 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 9, parameter value [1.0], value class [java.lang.Double], SQL type 8\n2019-06-15 21:21:12.223 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Overriding type info with runtime info from SqlParameterValue: column index 10, SQL type 8, type name null\n2019-06-15 21:21:12.223 TRACE 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 10, parameter value [1.0], value class [java.lang.Double], SQL type 8\n2019-06-15 21:21:12.223 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Overriding type info with runtime info from SqlParameterValue: column index 11, SQL type 8, type name null\n2019-06-15 21:21:12.223 TRACE 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 11, parameter value [1.0], value class [java.lang.Double], SQL type 8\n2019-06-15 21:21:12.223 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Overriding type info with runtime info from SqlParameterValue: column index 12, SQL type 8, type name null\n2019-06-15 21:21:12.224 TRACE 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 12, parameter value [1.0], value class [java.lang.Double], SQL type 8\n2019-06-15 21:21:12.224 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Overriding type info with runtime info from SqlParameterValue: column index 13, SQL type 8, type name null\n2019-06-15 21:21:12.224 TRACE 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 13, parameter value [1.0], value class [java.lang.Double], SQL type 8\n2019-06-15 21:21:12.224 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Overriding type info with runtime info from SqlParameterValue: column index 14, SQL type 4, type name null\n2019-06-15 21:21:12.224 TRACE 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 14, parameter value [1], value class [java.lang.Integer], SQL type 4\n2019-06-15 21:21:12.224 DEBUG 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Overriding type info with runtime info from SqlParameterValue: column index 15, SQL type 4, type name null\n2019-06-15 21:21:12.228 TRACE 32737 --- [nio-9090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 15, parameter value [1], value class [java.lang.Integer], SQL type 4\n2019-06-15 21:21:12.365 ERROR 32737 --- [nio-9090-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.jdbc.BadSqlGrammarException: PreparedStatementCallback; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'group, leverage, agentAccount, balance, prevMonthBalance, prevBalance, credit, i' at line 1] with root cause\n</code></pre>\n\n<p>Exception:</p>\n\n<pre><code>java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'group, leverage, agentAccount, balance, prevMonthBalance, prevBalance, credit, i' at line 1\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120) ~[mysql-connector-java-8.0.16.jar:8.0.16]\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97) ~[mysql-connector-java-8.0.16.jar:8.0.16]\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.16.jar:8.0.16]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:955) ~[mysql-connector-java-8.0.16.jar:8.0.16]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1094) ~[mysql-connector-java-8.0.16.jar:8.0.16]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1042) ~[mysql-connector-java-8.0.16.jar:8.0.16]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1345) ~[mysql-connector-java-8.0.16.jar:8.0.16]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1027) ~[mysql-connector-java-8.0.16.jar:8.0.16]\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15718721,"reputation":988,"user_id":11342225,"display_name":"alea"},"score":0,"creation_date":1683735529,"post_id":76217111,"comment_id":134413480,"body_markdown":"You might want to share your `DiscussionReplyRS` class or how your data looks like.","body":"You might want to share your <code>DiscussionReplyRS</code> class or how your data looks like."}],"owner":{"account_id":28566694,"reputation":1,"user_id":21869483,"display_name":"VN Nam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683712883,"creation_date":1683712883,"question_id":76217111,"body_markdown":"Currently in my database there is data of posts and its comments. Each post will have many comments and comments can be level 2 3 4... Currently, I can query to get the comments level 1 of the article. And now I want my comment to have only 2 levels, level 1 and level 2 and its sub-levels\r\n\r\n\r\n```\r\n// Here is a list of comments including all levels\r\n        List&lt;DiscussionReplyRS&gt; discussionHierarchy = contentDAO.getListDiscussionReply(discussionId, spaceId).stream()\r\n                .filter(Objects::nonNull)\r\n                .map(DiscussionMapper::toDiscussionReplyRS)\r\n                .collect(Collectors.toList());\r\n\r\n        // Consider this the father of level 1 comments\r\n        Optional&lt;DiscussionReplyRS&gt; discussionChild = discussionHierarchy.stream()\r\n                .filter(dc -&gt; dc.getReplyToPostId() == 0).findFirst();\r\n\r\n        if (!discussionChild.isPresent()) {\r\n            discussionHierarchy.remove(discussionChild);\r\n\r\n            // These are level 1 comments\r\n            List&lt;DiscussionReplyRS&gt; discussionReplies = discussionHierarchy.stream()\r\n                    .filter(dr -&gt; Objects.equals(dr.getReplyToPostId(), discussionChild.get().getDiscussionReplyId()))\r\n                    .collect(Collectors.toList());\r\n\r\n            discussionHierarchy.remove(discussionReplies);\r\n\r\n            // This will be the list of comments for the rest of the levels\r\n            List&lt;DiscussionReplyRS&gt; discussionReplyChilds = new ArrayList&lt;&gt;(discussionHierarchy);\r\n\r\n            // The rest of the comments I leave as comments of 1st graders\r\n            //I don&#39;t know what to do next\r\n        }\r\n```\r\n","title":"How to combine comments from level 3 to level 2","body":"<p>Currently in my database there is data of posts and its comments. Each post will have many comments and comments can be level 2 3 4... Currently, I can query to get the comments level 1 of the article. And now I want my comment to have only 2 levels, level 1 and level 2 and its sub-levels</p>\n<pre><code>// Here is a list of comments including all levels\n        List&lt;DiscussionReplyRS&gt; discussionHierarchy = contentDAO.getListDiscussionReply(discussionId, spaceId).stream()\n                .filter(Objects::nonNull)\n                .map(DiscussionMapper::toDiscussionReplyRS)\n                .collect(Collectors.toList());\n\n        // Consider this the father of level 1 comments\n        Optional&lt;DiscussionReplyRS&gt; discussionChild = discussionHierarchy.stream()\n                .filter(dc -&gt; dc.getReplyToPostId() == 0).findFirst();\n\n        if (!discussionChild.isPresent()) {\n            discussionHierarchy.remove(discussionChild);\n\n            // These are level 1 comments\n            List&lt;DiscussionReplyRS&gt; discussionReplies = discussionHierarchy.stream()\n                    .filter(dr -&gt; Objects.equals(dr.getReplyToPostId(), discussionChild.get().getDiscussionReplyId()))\n                    .collect(Collectors.toList());\n\n            discussionHierarchy.remove(discussionReplies);\n\n            // This will be the list of comments for the rest of the levels\n            List&lt;DiscussionReplyRS&gt; discussionReplyChilds = new ArrayList&lt;&gt;(discussionHierarchy);\n\n            // The rest of the comments I leave as comments of 1st graders\n            //I don't know what to do next\n        }\n</code></pre>\n"},{"tags":["java","sql","oracle","jdbc"],"comments":[{"owner":{"account_id":1055494,"reputation":10205,"user_id":1058319,"accept_rate":98,"display_name":"Adel Boutros"},"score":0,"creation_date":1326034172,"post_id":8778422,"comment_id":10945430,"body_markdown":"When you do the **selectStat** query, what are the columns returned?","body":"When you do the <b>selectStat</b> query, what are the columns returned?"},{"owner":{"account_id":351616,"reputation":3033,"user_id":688206,"display_name":"Dan Hardiker"},"score":1,"creation_date":1326034282,"post_id":8778422,"comment_id":10945459,"body_markdown":"The problem will be in one of your SQL calls. I strongly recommend splitting your logic into discrete methods - each should only do one thing. Also output the stack trace, as it would tell you where in your program you&#39;re geting the problem, making errors quicker to diagnose.","body":"The problem will be in one of your SQL calls. I strongly recommend splitting your logic into discrete methods - each should only do one thing. Also output the stack trace, as it would tell you where in your program you&#39;re geting the problem, making errors quicker to diagnose."}],"answers":[{"comments":[{"owner":{"account_id":60456,"reputation":55971,"user_id":1054558,"accept_rate":100,"display_name":"Aaron"},"score":1,"creation_date":1326034549,"post_id":8778456,"comment_id":10945502,"body_markdown":"Yes, you are correct that each result set should be processed in separate loops.","body":"Yes, you are correct that each result set should be processed in separate loops."}],"tags":[],"owner":{"account_id":60456,"reputation":55971,"user_id":1054558,"accept_rate":100,"display_name":"Aaron"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1326034132,"creation_date":1326034132,"answer_id":8778456,"question_id":8778422,"body_markdown":"In your SELECT you are only getting &quot;pid&quot; and &quot;pname&quot;:\r\n\r\n    String selectProduct=&quot;SELECT pid, pname from product...\r\n\r\nBut then you&#39;re trying to use a field that isn&#39;t in your SELECT:\r\n\r\n    String productPrice = rows1.getString(&quot;price&quot;);\r\n\r\nTry putting &quot;price&quot; in your SELECT clause.","title":"Java Oracle JDBC SELECT statement","body":"<p>In your SELECT you are only getting \"pid\" and \"pname\":</p>\n\n<pre><code>String selectProduct=\"SELECT pid, pname from product...\n</code></pre>\n\n<p>But then you're trying to use a field that isn't in your SELECT:</p>\n\n<pre><code>String productPrice = rows1.getString(\"price\");\n</code></pre>\n\n<p>Try putting \"price\" in your SELECT clause.</p>\n"},{"tags":[],"owner":{"account_id":1156634,"reputation":576,"user_id":1137065,"accept_rate":58,"display_name":"uahakan"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1326034311,"creation_date":1326034203,"answer_id":8778464,"question_id":8778422,"body_markdown":"You have to replace \r\n\r\n    SELECT pid, pname from product where price&gt;20;\r\n\r\nwith \r\n\r\n    SELECT pid, pname, price from product where price&gt;20;\r\n\r\n","title":"Java Oracle JDBC SELECT statement","body":"<p>You have to replace </p>\n\n<pre><code>SELECT pid, pname from product where price&gt;20;\n</code></pre>\n\n<p>with </p>\n\n<pre><code>SELECT pid, pname, price from product where price&gt;20;\n</code></pre>\n"}],"owner":{"account_id":1106991,"reputation":568,"user_id":1098207,"accept_rate":73,"display_name":"mydreamadsl"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38777,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"accepted_answer_id":8778456,"answer_count":2,"score":6,"last_activity_date":1683712754,"creation_date":1326033836,"question_id":8778422,"body_markdown":"I am practising Oracle JDBC using Java in Eclipse. I understood how to output `SELECT * from product` by iterating each line of the table using `.next()`. I am stuggling to output this statement:\r\n```sql\r\nSELECT pid, pname \r\nFROM product \r\nWHERE price&gt;20\r\n```\r\nHere is my code:\r\n\r\n    import java.sql.*;\r\n    \r\n    public class intro {\r\n    \r\n    \t/**\r\n    \t * @param args\r\n    \t */\r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t//\tthrows SQLException\r\n    \t\t\r\n    \t\t//initiazlie the connection\r\n    \t\t\r\n    \t\tConnection con=null;\r\n    \t\t\r\n    \t\ttry //try connection to database\r\n    \t\t{\r\n    \t\t\t//load driver\r\n    \t\t\tClass.forName(&quot;oracle.jdbc.OracleDriver&quot;);\r\n    \t\t\tSystem.out.println(&quot;Oracle JDBC driver loaded ok.&quot;);\r\n    \t\t\tcon=DriverManager.getConnection(&quot;jdbc:oracle:thin:test/123321@localhost:1521:orcl&quot;);\r\n    \t\t\tSystem.out.println(&quot;Connect with @oracle:1521:orcl&quot;);\r\n    \t\t\t\r\n    \t\t\t//declaring statement\r\n    \t\t\tStatement stmt = con.createStatement();\r\n    \t\t\t\r\n    \t\t\tString dropProductTable=&quot;drop table product cascade constraints&quot;;\r\n    \t\t\t\r\n    \t\t\t//create string\r\n    \t\t\tString createProductTable=&quot;CREATE TABLE product(&quot; +\r\n    \t\t\t &quot;pid number,&quot; +\r\n    \t\t\t &quot;pname CHAR(20),&quot; +\r\n    \t\t\t &quot;price number,&quot; +\r\n    \t\t\t &quot;PRIMARY KEY (pid)&quot; +\r\n    \t\t\t &quot;)&quot;; //do not add the semicolon(;) after closing the parenthesis.\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\t/*drop table */\r\n    \t\t\tstmt.executeUpdate(dropProductTable);\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\t//execute the create statement\r\n    \t\t\tstmt.executeUpdate(createProductTable);//execure the create statement\r\n    \t\t\t\r\n    \t\t\t//create string that holds the insert statement\r\n    \t\t\tString insertIntoProduct=&quot;INSERT INTO product VALUES (1,&#39;Pepsi&#39;,10)&quot;;\r\n    \t\t\tString insertIntoProduct1=&quot;INSERT INTO product VALUES (2,&#39;Fanta&#39;,20)&quot;;\r\n    \t\t\tString insertIntoProduct2=&quot;INSERT INTO product VALUES (3,&#39;Mirinda&#39;,30)&quot;;\r\n    \t\t\tString insertIntoProduct3=&quot;INSERT INTO product VALUES (4,&#39;Gum&#39;,5)&quot;;\r\n                String updatePrice=&quot;UPDATE product set price=55 where price=20&quot;;\r\n    \r\n    \r\n    \t\t\t\r\n    \t\t\t//stmt.executeUpdate(insertIntoProduct);\r\n    \t\t\tstmt.executeUpdate(insertIntoProduct);\r\n    \t\t\tstmt.executeUpdate(insertIntoProduct1);\r\n    \t\t\tstmt.executeUpdate(insertIntoProduct2);\r\n    \t\t\tstmt.executeUpdate(insertIntoProduct3);\r\n    \r\n               //update statement\r\n    \t\t\tstmt.executeUpdate(updatePrice);\r\n    \t\t\t\r\n    \r\n    \t\t\t\r\n    \t\t\t//save the select statement in a string\r\n    \t\t\tString selectStat=&quot;SELECT * FROM product&quot;;\r\n    \t\t\tString selectProduct=&quot;SELECT pid, pname from product where price&gt;20&quot;;\r\n    \t\t\t//stmt.executeUpdate(selectStat);\r\n    \t\t\t\r\n    \t\t\t//create a result set\r\n    \t\t\tResultSet rows = stmt.executeQuery(selectStat);\r\n    \t\t\tResultSet rows1= stmt.executeQuery(selectProduct);\r\n    \t\t\t\r\n    \t\t\t//stmt.executeQuery(selectStat);\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\tint count=0;\r\n    \t\t\twhile (rows.next()) {\r\n    \t\t\t\tcount+=1;\r\n    \t\t\t\tString productNumber = rows.getString(&quot;pid&quot;);\r\n    \t\t\t\tString productName = rows.getString(&quot;pname&quot;);\r\n    \t\t\t\tString productPrice = rows.getString(&quot;price&quot;);\r\n    \t\t\t\tSystem.out.println(&quot;Row #:&quot;+count);\r\n    \t\t\t\tSystem.out.println(&quot;Product#: &quot;+productNumber);\r\n    \t\t\t\tSystem.out.println(&quot;Product Name: &quot;+productName);\r\n    \t\t\t\tSystem.out.println(&quot;Price: &quot;+productPrice);\r\n    \t\t\t\r\n    \t\t\t\t}\r\n    \t\t\t\r\n    \t\t\tint count1=0;\r\n    \t\t\twhile (rows1.next()) {\r\n    \t\t\t\tcount1+=1;\r\n    \t\t\t\tString productNumber = rows1.getString(&quot;pid&quot;);\r\n    \t\t\t\tString productName = rows1.getString(&quot;pname&quot;);\r\n    \t\t\t\tString productPrice = rows1.getString(&quot;price&quot;);\r\n    \t\t\t\tSystem.out.println(&quot;Row #:&quot;+count);\r\n    \t\t\t\tSystem.out.println(&quot;Product#: &quot;+productNumber);\r\n    \t\t\t\tSystem.out.println(&quot;Product Name: &quot;+productName);\r\n    \t\t\t\tSystem.out.println(&quot;Price: &quot;+productPrice);\r\n    \t\t\t\r\n    \t\t\t\t}\r\n    \t\t\t\r\n    \t\t\tcon.close();\r\n    \t\t\t\r\n    \t\t}\r\n    \t\t\t\tcatch (Exception e)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tSystem.err.println(&quot;Exception:&quot;+e.getMessage());\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n\r\nWhen I am trying to ouput the `selectProduct` variable I get this error:\r\n&gt; Exception:Invalid column name\r\n\r\nHere is the output I am getting:\r\n&gt; ```lang-none\r\n&gt; Oracle JDBC driver loaded ok.\r\n&gt; Connect with @oracle:1521:orcl\r\n&gt; Row #:0\r\n&gt; Product#: 2\r\n&gt; Product Name: Fanta               \r\n&gt; Price: 55\r\n&gt; Row #:0\r\n&gt; Product#: 3\r\n&gt; Product Name: Mirinda             \r\n&gt; Price: 30\r\n&gt; ```","title":"Java Oracle JDBC SELECT statement","body":"<p>I am practising Oracle JDBC using Java in Eclipse. I understood how to output <code>SELECT * from product</code> by iterating each line of the table using <code>.next()</code>. I am stuggling to output this statement:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT pid, pname \nFROM product \nWHERE price&gt;20\n</code></pre>\n<p>Here is my code:</p>\n<pre><code>import java.sql.*;\n\npublic class intro {\n\n    /**\n     * @param args\n     */\n    public static void main(String[] args)\n    {\n    //  throws SQLException\n        \n        //initiazlie the connection\n        \n        Connection con=null;\n        \n        try //try connection to database\n        {\n            //load driver\n            Class.forName(&quot;oracle.jdbc.OracleDriver&quot;);\n            System.out.println(&quot;Oracle JDBC driver loaded ok.&quot;);\n            con=DriverManager.getConnection(&quot;jdbc:oracle:thin:test/123321@localhost:1521:orcl&quot;);\n            System.out.println(&quot;Connect with @oracle:1521:orcl&quot;);\n            \n            //declaring statement\n            Statement stmt = con.createStatement();\n            \n            String dropProductTable=&quot;drop table product cascade constraints&quot;;\n            \n            //create string\n            String createProductTable=&quot;CREATE TABLE product(&quot; +\n             &quot;pid number,&quot; +\n             &quot;pname CHAR(20),&quot; +\n             &quot;price number,&quot; +\n             &quot;PRIMARY KEY (pid)&quot; +\n             &quot;)&quot;; //do not add the semicolon(;) after closing the parenthesis.\n            \n            \n            /*drop table */\n            stmt.executeUpdate(dropProductTable);\n            \n            \n            //execute the create statement\n            stmt.executeUpdate(createProductTable);//execure the create statement\n            \n            //create string that holds the insert statement\n            String insertIntoProduct=&quot;INSERT INTO product VALUES (1,'Pepsi',10)&quot;;\n            String insertIntoProduct1=&quot;INSERT INTO product VALUES (2,'Fanta',20)&quot;;\n            String insertIntoProduct2=&quot;INSERT INTO product VALUES (3,'Mirinda',30)&quot;;\n            String insertIntoProduct3=&quot;INSERT INTO product VALUES (4,'Gum',5)&quot;;\n            String updatePrice=&quot;UPDATE product set price=55 where price=20&quot;;\n\n\n            \n            //stmt.executeUpdate(insertIntoProduct);\n            stmt.executeUpdate(insertIntoProduct);\n            stmt.executeUpdate(insertIntoProduct1);\n            stmt.executeUpdate(insertIntoProduct2);\n            stmt.executeUpdate(insertIntoProduct3);\n\n           //update statement\n            stmt.executeUpdate(updatePrice);\n            \n\n            \n            //save the select statement in a string\n            String selectStat=&quot;SELECT * FROM product&quot;;\n            String selectProduct=&quot;SELECT pid, pname from product where price&gt;20&quot;;\n            //stmt.executeUpdate(selectStat);\n            \n            //create a result set\n            ResultSet rows = stmt.executeQuery(selectStat);\n            ResultSet rows1= stmt.executeQuery(selectProduct);\n            \n            //stmt.executeQuery(selectStat);\n            \n            \n            int count=0;\n            while (rows.next()) {\n                count+=1;\n                String productNumber = rows.getString(&quot;pid&quot;);\n                String productName = rows.getString(&quot;pname&quot;);\n                String productPrice = rows.getString(&quot;price&quot;);\n                System.out.println(&quot;Row #:&quot;+count);\n                System.out.println(&quot;Product#: &quot;+productNumber);\n                System.out.println(&quot;Product Name: &quot;+productName);\n                System.out.println(&quot;Price: &quot;+productPrice);\n            \n                }\n            \n            int count1=0;\n            while (rows1.next()) {\n                count1+=1;\n                String productNumber = rows1.getString(&quot;pid&quot;);\n                String productName = rows1.getString(&quot;pname&quot;);\n                String productPrice = rows1.getString(&quot;price&quot;);\n                System.out.println(&quot;Row #:&quot;+count);\n                System.out.println(&quot;Product#: &quot;+productNumber);\n                System.out.println(&quot;Product Name: &quot;+productName);\n                System.out.println(&quot;Price: &quot;+productPrice);\n            \n                }\n            \n            con.close();\n            \n        }\n                catch (Exception e)\n                {\n                    System.err.println(&quot;Exception:&quot;+e.getMessage());\n                }\n                \n        \n        }\n        \n    }\n</code></pre>\n<p>When I am trying to ouput the <code>selectProduct</code> variable I get this error:</p>\n<blockquote>\n<p>Exception:Invalid column name</p>\n</blockquote>\n<p>Here is the output I am getting:</p>\n<blockquote>\n<pre class=\"lang-none prettyprint-override\"><code>Oracle JDBC driver loaded ok.\nConnect with @oracle:1521:orcl\nRow #:0\nProduct#: 2\nProduct Name: Fanta               \nPrice: 55\nRow #:0\nProduct#: 3\nProduct Name: Mirinda             \nPrice: 30\n</code></pre>\n</blockquote>\n"},{"tags":["java","android","android-permissions"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1442508424,"post_id":32635704,"comment_id":53120071,"body_markdown":"What version of Android are you testing on?","body":"What version of Android are you testing on?"},{"owner":{"account_id":6970982,"reputation":2056,"user_id":5347360,"display_name":"Nathan Loudjani"},"score":0,"creation_date":1442509176,"post_id":32635704,"comment_id":53120522,"body_markdown":"I&#39;m testing on android 6.0","body":"I&#39;m testing on android 6.0"},{"owner":{"account_id":4069517,"reputation":2118,"user_id":3343174,"accept_rate":65,"display_name":"Fakher"},"score":1,"creation_date":1442509223,"post_id":32635704,"comment_id":53120546,"body_markdown":"surely it will work on a below version of android. There&#39;s a new philosophy of permissions in android 6.0","body":"surely it will work on a below version of android. There&#39;s a new philosophy of permissions in android 6.0"},{"owner":{"account_id":6970982,"reputation":2056,"user_id":5347360,"display_name":"Nathan Loudjani"},"score":0,"creation_date":1442509331,"post_id":32635704,"comment_id":53120621,"body_markdown":"Is there a special syntax for android 6 ? How can i be sure it works on below version ?","body":"Is there a special syntax for android 6 ? How can i be sure it works on below version ?"},{"owner":{"account_id":3422848,"reputation":5363,"user_id":2869767,"accept_rate":67,"display_name":"Sagar"},"score":0,"creation_date":1538054867,"post_id":32635704,"comment_id":92015644,"body_markdown":"my previous `targetsdkversion` was `23` updated to `27` after app update `READ_SMS` permission not working which is already enabled. please help","body":"my previous <code>targetsdkversion</code> was <code>23</code> updated to <code>27</code> after app update <code>READ_SMS</code> permission not working which is already enabled. please help"}],"answers":[{"comments":[{"owner":{"account_id":6970982,"reputation":2056,"user_id":5347360,"display_name":"Nathan Loudjani"},"score":2,"creation_date":1442510103,"post_id":32636039,"comment_id":53121036,"body_markdown":"Thank you very much, I used the requestPermissions() methods and i worked well","body":"Thank you very much, I used the requestPermissions() methods and i worked well"},{"owner":{"account_id":1020946,"reputation":8274,"user_id":1031312,"accept_rate":96,"display_name":"Ozzy"},"score":0,"creation_date":1452094065,"post_id":32636039,"comment_id":57018547,"body_markdown":"Okay, I attempted this before but couldn&#39;t get the ContextCompat.checkSelfPermission and ActivityCompat.requestPermissions methods, they give me a &#39;not found&#39; error on the method names. I&#39;m guessing it&#39;s to do with a missing library, it seems to be in a v4 package but my only gradle dependency is `compile &#39;com.android.support:appcompat-v7:22.2.1&#39;`. Should I change this to v4?","body":"Okay, I attempted this before but couldn&#39;t get the ContextCompat.checkSelfPermission and ActivityCompat.requestPermissions methods, they give me a &#39;not found&#39; error on the method names. I&#39;m guessing it&#39;s to do with a missing library, it seems to be in a v4 package but my only gradle dependency is <code>compile &#39;com.android.support:appcompat-v7:22.2.1&#39;</code>. Should I change this to v4?"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":2,"creation_date":1452095291,"post_id":32636039,"comment_id":57019418,"body_markdown":"@Ozzy: You need to be on a v23 generation of the support libraries (`23.x.y`, for current values of x and y), rather than the v22 that you are presently using.","body":"@Ozzy: You need to be on a v23 generation of the support libraries (<code>23.x.y</code>, for current values of x and y), rather than the v22 that you are presently using."},{"owner":{"account_id":1020946,"reputation":8274,"user_id":1031312,"accept_rate":96,"display_name":"Ozzy"},"score":0,"creation_date":1452095686,"post_id":32636039,"comment_id":57019695,"body_markdown":"Thanks, for future I guess. For now I changed the target back to v22 and even though SD card storage was set to 200MB on the emulator, it gave me SD card not mounted error. But then I connected my phone in developer mode and everything works. For some reason SD card storage works on the emulator running v23 but not v22.","body":"Thanks, for future I guess. For now I changed the target back to v22 and even though SD card storage was set to 200MB on the emulator, it gave me SD card not mounted error. But then I connected my phone in developer mode and everything works. For some reason SD card storage works on the emulator running v23 but not v22."},{"owner":{"account_id":1348842,"reputation":300,"user_id":1289044,"accept_rate":50,"display_name":"dschuett"},"score":3,"creation_date":1453521172,"post_id":32636039,"comment_id":57650019,"body_markdown":"@NathanLoudjani Would you mind sharing your code that implements this? I am in the exact same boat and am struggling putting this into my activity.","body":"@NathanLoudjani Would you mind sharing your code that implements this? I am in the exact same boat and am struggling putting this into my activity."},{"owner":{"account_id":6667715,"reputation":7474,"user_id":5144855,"accept_rate":47,"display_name":"Ruchir Baronia"},"score":0,"creation_date":1460174121,"post_id":32636039,"comment_id":60631349,"body_markdown":"@NathanLoudjani What did you end up doing? I am also pretty confused.","body":"@NathanLoudjani What did you end up doing? I am also pretty confused."},{"owner":{"account_id":6667715,"reputation":7474,"user_id":5144855,"accept_rate":47,"display_name":"Ruchir Baronia"},"score":0,"creation_date":1460174198,"post_id":32636039,"comment_id":60631365,"body_markdown":"@CommonsWare So do we have to ask the user for the permission **every time** I need to use that functionality? Thanks","body":"@CommonsWare So do we have to ask the user for the permission <b>every time</b> I need to use that functionality? Thanks"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1460201641,"post_id":32636039,"comment_id":60637963,"body_markdown":"@RuchirBaronia: No. You only have to ask if you do not have the permission. Usually, you will only have to ask once, and the user will grant the permission. Conversely, if users decide not to grant you the permission, please try to degrade gracefully, or otherwise explain in detail that your app cannot work without the permission.","body":"@RuchirBaronia: No. You only have to ask if you do not have the permission. Usually, you will only have to ask once, and the user will grant the permission. Conversely, if users decide not to grant you the permission, please try to degrade gracefully, or otherwise explain in detail that your app cannot work without the permission."},{"owner":{"account_id":3381899,"reputation":1031,"user_id":2838776,"accept_rate":61,"display_name":"Happy"},"score":0,"creation_date":1473162557,"post_id":32636039,"comment_id":66026208,"body_markdown":"even its happening in target version 21 too. its happening on 23 and above? or 21 and above.?","body":"even its happening in target version 21 too. its happening on 23 and above? or 21 and above.?"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1473167553,"post_id":32636039,"comment_id":66029476,"body_markdown":"@Vji: &quot;even its happening&quot; -- I do not know what &quot;its&quot; is. &quot;in target version 21 too&quot; -- a `targetSdkVersion` of 21 does not require that the developer implement runtime permission support. &quot;its happening on 23 and above?&quot; -- I do not know what &quot;its&quot; is. You may wish to ask a separate Stack Overflow question, where you can provide a [mcve] and explain your concerns.","body":"@Vji: &quot;even its happening&quot; -- I do not know what &quot;its&quot; is. &quot;in target version 21 too&quot; -- a <code>targetSdkVersion</code> of 21 does not require that the developer implement runtime permission support. &quot;its happening on 23 and above?&quot; -- I do not know what &quot;its&quot; is. You may wish to ask a separate Stack Overflow question, where you can provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and explain your concerns."},{"owner":{"account_id":15420595,"reputation":648,"user_id":11124740,"display_name":"Leviathan"},"score":0,"creation_date":1602506441,"post_id":32636039,"comment_id":113733464,"body_markdown":"Late to the party, hope you are still active. Where did you extract that list? I cannot find a list of dangerous/normal permissions in the android dev resoiurces..","body":"Late to the party, hope you are still active. Where did you extract that list? I cannot find a list of dangerous/normal permissions in the android dev resoiurces.."},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1602506675,"post_id":32636039,"comment_id":113733585,"body_markdown":"@Leviathan: At the time, I got that list from the docs, I think from the page that I link to at the end of the answer. Unfortunately, Google seems to have dropped that list, which is both unfortunate and typical. For an individual permission, its entry in `Manifest.permission` should show its protection level, (e.g., [`ACCESS_COARSE_LOCATION`](https://developer.android.com/reference/android/Manifest.permission#ACCESS_COARSE_LOCATION)).","body":"@Leviathan: At the time, I got that list from the docs, I think from the page that I link to at the end of the answer. Unfortunately, Google seems to have dropped that list, which is both unfortunate and typical. For an individual permission, its entry in <code>Manifest.permission</code> should show its protection level, (e.g., <a href=\"https://developer.android.com/reference/android/Manifest.permission#ACCESS_COARSE_LOCATION\" rel=\"nofollow noreferrer\"><code>ACCESS_COARSE_LOCATION</code></a>)."},{"owner":{"account_id":15420595,"reputation":648,"user_id":11124740,"display_name":"Leviathan"},"score":0,"creation_date":1602507401,"post_id":32636039,"comment_id":113733915,"body_markdown":"Yeah thanks @CommonsWare , I found that, too. But no way to filter there, so I don&#39;t know why they removed a clear grouped list.\nIf we&#39;re on the topic, is there a way to explicity request permission for a regular permission? Our data protection law requires to ask for Push Notifications explicity before sending them, but afaik they can be received as soon as the app is installed and they are in the manifest.","body":"Yeah thanks @CommonsWare , I found that, too. But no way to filter there, so I don&#39;t know why they removed a clear grouped list. If we&#39;re on the topic, is there a way to explicity request permission for a regular permission? Our data protection law requires to ask for Push Notifications explicity before sending them, but afaik they can be received as soon as the app is installed and they are in the manifest."},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1602507921,"post_id":32636039,"comment_id":113734170,"body_markdown":"@Leviathan: &quot;is there a way to explicity request permission for a regular permission?&quot; -- no, sorry. &quot;Our data protection law requires to ask for Push Notifications explicity before sending them, but afaik they can be received as soon as the app is installed and they are in the manifest&quot; -- that is not a permission. Have the receiver or service be disabled in the manifest, show your own dialog, and if the user agrees, enable the component.","body":"@Leviathan: &quot;is there a way to explicity request permission for a regular permission?&quot; -- no, sorry. &quot;Our data protection law requires to ask for Push Notifications explicity before sending them, but afaik they can be received as soon as the app is installed and they are in the manifest&quot; -- that is not a permission. Have the receiver or service be disabled in the manifest, show your own dialog, and if the user agrees, enable the component."},{"owner":{"account_id":5103844,"reputation":3188,"user_id":4092588,"accept_rate":77,"display_name":"Antonino"},"score":0,"creation_date":1603094617,"post_id":32636039,"comment_id":113916675,"body_markdown":"in this moment I found that in order to check the protection level for each permission directly from the Android documentation you have to go to: https://developer.android.com/reference/android/Manifest.permission#permission-of-interest, e.g. for CAMERA it&#39;s https://developer.android.com/reference/android/Manifest.permission#CAMERA","body":"in this moment I found that in order to check the protection level for each permission directly from the Android documentation you have to go to: <a href=\"https://developer.android.com/reference/android/Manifest.permission#permission-of-interest\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/&hellip;</a>, e.g. for CAMERA it&#39;s <a href=\"https://developer.android.com/reference/android/Manifest.permission#CAMERA\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/&hellip;</a>"}],"tags":[],"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"comment_count":15,"down_vote_count":0,"up_vote_count":256,"is_accepted":true,"score":256,"last_activity_date":1603432410,"creation_date":1442509302,"answer_id":32636039,"question_id":32635704,"body_markdown":"&lt;sub&gt;(the following is extracted from [a blog post of mine about this][1])&lt;/sub&gt;\r\n\r\nThe big reason for not getting your permission nowadays is because\r\nyour project has a `targetSdkVersion` of 23 or higher, and the permission\r\nthat you are requesting is &quot;dangerous&quot;. In Android 6.0, this includes:\r\n\r\n- `ACCEPT_HANDOVER`\r\n- `ACCESS_BACKGROUND_LOCATION`\r\n- `ACCESS_MEDIA_LOCATION`\r\n- `ACTIVITY_RECOGNITION`\r\n- `ANSWER_PHONE_CALLS`\r\n- `ACCESS_COARSE_LOCATION`\r\n- `ACCESS_FINE_LOCATION`\r\n- `ADD_VOICEMAIL`\r\n- `BODY_SENSORS`\r\n- `CALL_PHONE`\r\n- `CAMERA`\r\n- `GET_ACCOUNTS`\r\n- `PROCESS_OUTGOING_CALLS`\r\n- `READ_CALENDAR`\r\n- `READ_CALL_LOG`\r\n- `READ_CELL_BROADCASTS`\r\n- `READ_CONTACTS`\r\n- `READ_EXTERNAL_STORAGE`\r\n- `READ_PHONE_STATE`\r\n- `READ_SMS`\r\n- `RECEIVE_MMS`\r\n- `RECEIVE_SMS`\r\n- `RECEIVE_WAP_PUSH`\r\n- `RECORD_AUDIO`\r\n- `SEND_SMS`\r\n- `USE_SIP`\r\n- `WRITE_CALENDAR`\r\n- `WRITE_CALL_LOG`\r\n- `WRITE_CONTACTS`\r\n- `WRITE_EXTERNAL_STORAGE`\r\n\r\nFor these permissions, not only does your `targetSdkVersion` 23+ app\r\nneed to have the `&lt;uses-permission&gt;` element(s), but you also have\r\nto ask for those permissions at runtime from the user on Android 6.0+\r\ndevices, using methods like `checkSelfPermission()` and\r\n`requestPermissions()`.\r\n\r\nAs a temporary workaround, drop your `targetSdkVersion` below 23.\r\n\r\nHowever, eventually, you will have some reason to want your\r\n`targetSdkVersion` to be 23 or higher. At that time, you will need\r\nto adjust your app to use the new runtime permission system.\r\nThe Android documentation has\r\n[a page dedicated to this topic](http://developer.android.com/training/permissions/requesting.html).\r\n\r\n\r\n  [1]: https://commonsware.com/blog/2015/08/31/hey-where-did-my-permission-go.html","title":"Android permission doesn&#39;t work even if I have declared it","body":"<p><sub>(the following is extracted from <a href=\"https://commonsware.com/blog/2015/08/31/hey-where-did-my-permission-go.html\" rel=\"noreferrer\">a blog post of mine about this</a>)</sub></p>\n<p>The big reason for not getting your permission nowadays is because\nyour project has a <code>targetSdkVersion</code> of 23 or higher, and the permission\nthat you are requesting is &quot;dangerous&quot;. In Android 6.0, this includes:</p>\n<ul>\n<li><code>ACCEPT_HANDOVER</code></li>\n<li><code>ACCESS_BACKGROUND_LOCATION</code></li>\n<li><code>ACCESS_MEDIA_LOCATION</code></li>\n<li><code>ACTIVITY_RECOGNITION</code></li>\n<li><code>ANSWER_PHONE_CALLS</code></li>\n<li><code>ACCESS_COARSE_LOCATION</code></li>\n<li><code>ACCESS_FINE_LOCATION</code></li>\n<li><code>ADD_VOICEMAIL</code></li>\n<li><code>BODY_SENSORS</code></li>\n<li><code>CALL_PHONE</code></li>\n<li><code>CAMERA</code></li>\n<li><code>GET_ACCOUNTS</code></li>\n<li><code>PROCESS_OUTGOING_CALLS</code></li>\n<li><code>READ_CALENDAR</code></li>\n<li><code>READ_CALL_LOG</code></li>\n<li><code>READ_CELL_BROADCASTS</code></li>\n<li><code>READ_CONTACTS</code></li>\n<li><code>READ_EXTERNAL_STORAGE</code></li>\n<li><code>READ_PHONE_STATE</code></li>\n<li><code>READ_SMS</code></li>\n<li><code>RECEIVE_MMS</code></li>\n<li><code>RECEIVE_SMS</code></li>\n<li><code>RECEIVE_WAP_PUSH</code></li>\n<li><code>RECORD_AUDIO</code></li>\n<li><code>SEND_SMS</code></li>\n<li><code>USE_SIP</code></li>\n<li><code>WRITE_CALENDAR</code></li>\n<li><code>WRITE_CALL_LOG</code></li>\n<li><code>WRITE_CONTACTS</code></li>\n<li><code>WRITE_EXTERNAL_STORAGE</code></li>\n</ul>\n<p>For these permissions, not only does your <code>targetSdkVersion</code> 23+ app\nneed to have the <code>&lt;uses-permission&gt;</code> element(s), but you also have\nto ask for those permissions at runtime from the user on Android 6.0+\ndevices, using methods like <code>checkSelfPermission()</code> and\n<code>requestPermissions()</code>.</p>\n<p>As a temporary workaround, drop your <code>targetSdkVersion</code> below 23.</p>\n<p>However, eventually, you will have some reason to want your\n<code>targetSdkVersion</code> to be 23 or higher. At that time, you will need\nto adjust your app to use the new runtime permission system.\nThe Android documentation has\n<a href=\"http://developer.android.com/training/permissions/requesting.html\" rel=\"noreferrer\">a page dedicated to this topic</a>.</p>\n"},{"tags":[],"owner":{"account_id":5049203,"reputation":527,"user_id":4054285,"display_name":"Dharmendra Pratap"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1463837576,"creation_date":1463837576,"answer_id":37363632,"question_id":32635704,"body_markdown":"If you are using sdk 23 or higher then you must check run time permissions.","title":"Android permission doesn&#39;t work even if I have declared it","body":"<p>If you are using sdk 23 or higher then you must check run time permissions.</p>\n"},{"tags":[],"owner":{"account_id":2138701,"reputation":1077,"user_id":1897885,"display_name":"Dumi Jay"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1465885423,"creation_date":1465885423,"answer_id":37804383,"question_id":32635704,"body_markdown":"Along with CommonsWare&#39;s answer,\r\n\r\nThere is a Security Setting (I checked on CM13) to set SMS Message Limit. If you set this to &quot;None&quot;, OS will popup a Dialog for every SMS, even after obtaining SMS_SEND permission in the runtime. Best thing is to set this to maximum.\r\n\r\nIf the maximum is not enough, there are ways to increases the maximum rate on a rooted device.","title":"Android permission doesn&#39;t work even if I have declared it","body":"<p>Along with CommonsWare's answer,</p>\n\n<p>There is a Security Setting (I checked on CM13) to set SMS Message Limit. If you set this to \"None\", OS will popup a Dialog for every SMS, even after obtaining SMS_SEND permission in the runtime. Best thing is to set this to maximum.</p>\n\n<p>If the maximum is not enough, there are ways to increases the maximum rate on a rooted device.</p>\n"},{"tags":[],"owner":{"account_id":8456658,"reputation":20415,"user_id":6343685,"accept_rate":60,"display_name":"Harshad Pansuriya"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1467371703,"creation_date":1467371703,"answer_id":38144014,"question_id":32635704,"body_markdown":" when you declare `permisson` in `Manifest` and it&#39;s not work means you are performing Task in `MarshMallow` and for `MarshMallow` you have set Permisson at `RunTime`.\r\n\r\nlike this way\r\n\r\n    ActivityCompat.requestPermissions();","title":"Android permission doesn&#39;t work even if I have declared it","body":"<p>when you declare <code>permisson</code> in <code>Manifest</code> and it's not work means you are performing Task in <code>MarshMallow</code> and for <code>MarshMallow</code> you have set Permisson at <code>RunTime</code>.</p>\n\n<p>like this way</p>\n\n<pre><code>ActivityCompat.requestPermissions();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9648890,"reputation":564,"user_id":7160632,"accept_rate":45,"display_name":"Masquitos"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1479225847,"creation_date":1479225847,"answer_id":40614426,"question_id":32635704,"body_markdown":"I added this to my MainActivity, that resolve my problem \r\n \r\n\r\n           int MY_PERMISSIONS_REQUEST_READ_CONTACTS=0;\r\n    // Here, thisActivity is the current activity\r\n            if (ContextCompat.checkSelfPermission(this,\r\n                    Manifest.permission.WRITE_EXTERNAL_STORAGE)\r\n                    != PackageManager.PERMISSION_GRANTED) {\r\n    \r\n                // Should we show an explanation?\r\n                if (ActivityCompat.shouldShowRequestPermissionRationale(this,\r\n                        Manifest.permission.WRITE_EXTERNAL_STORAGE)) {\r\n    \r\n                    // Show an expanation to the user *asynchronously* -- don&#39;t block\r\n                    // this thread waiting for the user&#39;s response! After the user\r\n                    // sees the explanation, try again to request the permission.\r\n    \r\n                } else {\r\n    \r\n                    // No explanation needed, we can request the permission.\r\n    \r\n                    ActivityCompat.requestPermissions(this,\r\n                            new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE},\r\n                            MY_PERMISSIONS_REQUEST_READ_CONTACTS);\r\n    \r\n                    // MY_PERMISSIONS_REQUEST_READ_CONTACTS is an\r\n                    // app-defined int constant. The callback method gets the\r\n                    // result of the request.\r\n                }\r\n            }","title":"Android permission doesn&#39;t work even if I have declared it","body":"<p>I added this to my MainActivity, that resolve my problem </p>\n\n<pre><code>       int MY_PERMISSIONS_REQUEST_READ_CONTACTS=0;\n// Here, thisActivity is the current activity\n        if (ContextCompat.checkSelfPermission(this,\n                Manifest.permission.WRITE_EXTERNAL_STORAGE)\n                != PackageManager.PERMISSION_GRANTED) {\n\n            // Should we show an explanation?\n            if (ActivityCompat.shouldShowRequestPermissionRationale(this,\n                    Manifest.permission.WRITE_EXTERNAL_STORAGE)) {\n\n                // Show an expanation to the user *asynchronously* -- don't block\n                // this thread waiting for the user's response! After the user\n                // sees the explanation, try again to request the permission.\n\n            } else {\n\n                // No explanation needed, we can request the permission.\n\n                ActivityCompat.requestPermissions(this,\n                        new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE},\n                        MY_PERMISSIONS_REQUEST_READ_CONTACTS);\n\n                // MY_PERMISSIONS_REQUEST_READ_CONTACTS is an\n                // app-defined int constant. The callback method gets the\n                // result of the request.\n            }\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9671909,"reputation":1521,"user_id":7176550,"display_name":"user7176550"},"comment_count":0,"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1551013471,"creation_date":1485865211,"answer_id":41957460,"question_id":32635704,"body_markdown":"Above API level 23 you will be given programmatically pragmatically like:\r\n     \r\n        private static final int PERMISSION_REQUEST_CODE = 1;\r\n\r\n        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.M) {\r\n\r\n            if (checkSelfPermission(Manifest.permission.SEND_SMS)\r\n                    == PackageManager.PERMISSION_DENIED) {\r\n\r\n                Log.d(&quot;permission&quot;, &quot;permission denied to SEND_SMS - requesting it&quot;);\r\n                String[] permissions = {Manifest.permission.SEND_SMS};\r\n\r\n                requestPermissions(permissions, PERMISSION_REQUEST_CODE);\r\n\r\n            }\r\n        }","title":"Android permission doesn&#39;t work even if I have declared it","body":"<p>Above API level 23 you will be given programmatically pragmatically like:</p>\n\n<pre><code>    private static final int PERMISSION_REQUEST_CODE = 1;\n\n    if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.M) {\n\n        if (checkSelfPermission(Manifest.permission.SEND_SMS)\n                == PackageManager.PERMISSION_DENIED) {\n\n            Log.d(\"permission\", \"permission denied to SEND_SMS - requesting it\");\n            String[] permissions = {Manifest.permission.SEND_SMS};\n\n            requestPermissions(permissions, PERMISSION_REQUEST_CODE);\n\n        }\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5936800,"reputation":2356,"user_id":4669512,"accept_rate":92,"display_name":"LizG"},"score":0,"creation_date":1538520418,"post_id":43808024,"comment_id":92169015,"body_markdown":"Where would we put this line? ActivityCompat.requestPermissions(this,new String[]{Manifest.permission.SEND_SMS},1); and what does the 1 refer to?","body":"Where would we put this line? ActivityCompat.requestPermissions(this,new String[]{Manifest.permission.SEND_SMS},1); and what does the 1 refer to?"}],"tags":[],"owner":{"account_id":8248844,"reputation":9692,"user_id":6204133,"display_name":"Dan Alboteanu"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1538549574,"creation_date":1493995949,"answer_id":43808024,"question_id":32635704,"body_markdown":"request permission pragmatically (after API 23)\r\n\r\n    if (ContextCompat.checkSelfPermission(thisActivity, Manifest.permission.SEND_SMS)\r\n        != PackageManager.PERMISSION_GRANTED) {\r\n        // Permission is not granted \r\n        // Ask for permision\r\n        ActivityCompat.requestPermissions(this,new String[] { Manifest.permission.SEND_SMS}, 1); \r\n    } \r\n    else {\r\n    // Permission has already been granted\r\n    }\r\n\r\n&quot;If the app has the permission, the method checkSelfPermission() returns PERMISSION_GRANTED, and the app can proceed with the operation. \r\n\r\nIf the app does not have the permission, the method returns PERMISSION_DENIED, and the app has to explicitly ask the user for permission. You need to prompt the user for that permission, as shown in the above code. Calling requestPermissions() brings up a standard Android dialog, which you cannot customize.&quot;\r\n\r\n \r\n\r\n\r\n\r\n  \r\n","title":"Android permission doesn&#39;t work even if I have declared it","body":"<p>request permission pragmatically (after API 23)</p>\n\n<pre><code>if (ContextCompat.checkSelfPermission(thisActivity, Manifest.permission.SEND_SMS)\n    != PackageManager.PERMISSION_GRANTED) {\n    // Permission is not granted \n    // Ask for permision\n    ActivityCompat.requestPermissions(this,new String[] { Manifest.permission.SEND_SMS}, 1); \n} \nelse {\n// Permission has already been granted\n}\n</code></pre>\n\n<p>\"If the app has the permission, the method checkSelfPermission() returns PERMISSION_GRANTED, and the app can proceed with the operation. </p>\n\n<p>If the app does not have the permission, the method returns PERMISSION_DENIED, and the app has to explicitly ask the user for permission. You need to prompt the user for that permission, as shown in the above code. Calling requestPermissions() brings up a standard Android dialog, which you cannot customize.\"</p>\n"},{"tags":[],"owner":{"account_id":5154882,"reputation":984,"user_id":4128371,"display_name":"Zohaib Hassan"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1494191021,"creation_date":1494191021,"answer_id":43836702,"question_id":32635704,"body_markdown":"If you are using Android version &quot;23&quot; or &quot;23+&quot;, then app will show you errors when you are trying to access anything which requires user&#39;s permission. You have to ask for permissions at run-time even if you have declared those permissions in Android manifest.\r\n\r\nCheck this: https://developer.android.com/training/permissions/requesting.html\r\n\r\nBut if you have created your whole application and don&#39;t want to change at every place then a little cheat will be sufficient.\r\n\r\nGo to &quot;Build.gradle&quot; file and change the target Sdk version to less than 23, like 22, 21.","title":"Android permission doesn&#39;t work even if I have declared it","body":"<p>If you are using Android version \"23\" or \"23+\", then app will show you errors when you are trying to access anything which requires user's permission. You have to ask for permissions at run-time even if you have declared those permissions in Android manifest.</p>\n\n<p>Check this: <a href=\"https://developer.android.com/training/permissions/requesting.html\" rel=\"nofollow noreferrer\">https://developer.android.com/training/permissions/requesting.html</a></p>\n\n<p>But if you have created your whole application and don't want to change at every place then a little cheat will be sufficient.</p>\n\n<p>Go to \"Build.gradle\" file and change the target Sdk version to less than 23, like 22, 21.</p>\n"},{"tags":[],"owner":{"account_id":11925060,"reputation":1775,"user_id":8726579,"display_name":"Rishabh Saxena"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1523954513,"creation_date":1523605814,"answer_id":49811890,"question_id":32635704,"body_markdown":"Please go through the link below, \r\nhttps://developer.android.com/guide/topics/permissions/overview.html\r\n\r\nSome samples are also available there to get start with the permissions.\r\n\r\nTo make android more secure now developers has to mention permission in manifest as well as they should have to ask user as well in run time to get the work done. They are permission categorized in dangerous permission section which are mention below\r\n \r\n**CALENDAR** \t\r\n\r\n    READ_CALENDAR\r\n\r\n    WRITE_CALENDAR\r\n\r\n**CAMERA** \t\r\n\r\n    CAMERA\r\n\r\n**CONTACTS** \t\r\n\r\n    READ_CONTACTS\r\n    WRITE_CONTACTS\r\n    GET_ACCOUNTS\r\n\r\n**LOCATION** \t\r\n\r\n    ACCESS_FINE_LOCATION\r\n    ACCESS_COARSE_LOCATION\r\n\r\n**MICROPHONE** \t\r\n\r\n    RECORD_AUDIO\r\n\r\n**PHONE** \t\r\n\r\n    READ_PHONE_STATE\r\n    READ_PHONE_NUMBERS\r\n    CALL_PHONE\r\n    ANSWER_PHONE_CALLS (must request at runtime)\r\n    READ_CALL_LOG\r\n    WRITE_CALL_LOG\r\n    ADD_VOICEMAIL\r\n    USE_SIP\r\n    PROCESS_OUTGOING_CALLS\r\n    ANSWER_PHONE_CALLS\r\n\r\n**SENSORS** \t\r\n\r\n    BODY_SENSORS\r\n\r\n**SMS** \t\r\n\r\n    SEND_SMS\r\n    RECEIVE_SMS\r\n    READ_SMS\r\n    RECEIVE_WAP_PUSH\r\n    RECEIVE_MMS\r\n\r\n**STORAGE** \t\r\n\r\n    READ_EXTERNAL_STORAGE\r\n    WRITE_EXTERNAL_STORAGE","title":"Android permission doesn&#39;t work even if I have declared it","body":"<p>Please go through the link below, \n<a href=\"https://developer.android.com/guide/topics/permissions/overview.html\" rel=\"noreferrer\">https://developer.android.com/guide/topics/permissions/overview.html</a></p>\n\n<p>Some samples are also available there to get start with the permissions.</p>\n\n<p>To make android more secure now developers has to mention permission in manifest as well as they should have to ask user as well in run time to get the work done. They are permission categorized in dangerous permission section which are mention below</p>\n\n<p><strong>CALENDAR</strong>    </p>\n\n<pre><code>READ_CALENDAR\n\nWRITE_CALENDAR\n</code></pre>\n\n<p><strong>CAMERA</strong>  </p>\n\n<pre><code>CAMERA\n</code></pre>\n\n<p><strong>CONTACTS</strong>    </p>\n\n<pre><code>READ_CONTACTS\nWRITE_CONTACTS\nGET_ACCOUNTS\n</code></pre>\n\n<p><strong>LOCATION</strong>    </p>\n\n<pre><code>ACCESS_FINE_LOCATION\nACCESS_COARSE_LOCATION\n</code></pre>\n\n<p><strong>MICROPHONE</strong>  </p>\n\n<pre><code>RECORD_AUDIO\n</code></pre>\n\n<p><strong>PHONE</strong>   </p>\n\n<pre><code>READ_PHONE_STATE\nREAD_PHONE_NUMBERS\nCALL_PHONE\nANSWER_PHONE_CALLS (must request at runtime)\nREAD_CALL_LOG\nWRITE_CALL_LOG\nADD_VOICEMAIL\nUSE_SIP\nPROCESS_OUTGOING_CALLS\nANSWER_PHONE_CALLS\n</code></pre>\n\n<p><strong>SENSORS</strong>     </p>\n\n<pre><code>BODY_SENSORS\n</code></pre>\n\n<p><strong>SMS</strong>     </p>\n\n<pre><code>SEND_SMS\nRECEIVE_SMS\nREAD_SMS\nRECEIVE_WAP_PUSH\nRECEIVE_MMS\n</code></pre>\n\n<p><strong>STORAGE</strong>     </p>\n\n<pre><code>READ_EXTERNAL_STORAGE\nWRITE_EXTERNAL_STORAGE\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6733186,"reputation":354,"user_id":5188804,"display_name":"SergeyYu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1558508720,"creation_date":1551769606,"answer_id":54997177,"question_id":32635704,"body_markdown":"I hope the solution to write to external storage will be useful too\r\n\r\n    public  boolean checkPermission() {\r\n            if (Build.VERSION.SDK_INT &gt;= 23) {\r\n                if (checkSelfPermission(android.Manifest.permission.WRITE_EXTERNAL_STORAGE)\r\n                        == PackageManager.PERMISSION_GRANTED) {\r\n                    Timber.tag(LOG_TAG).e(&quot;Permission error. You have permission&quot;);\r\n                    return true;\r\n                } else {\r\n                    Timber.tag(LOG_TAG).e(&quot;Permission error. You have asked for permission&quot;);\r\n                    ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, 1);\r\n                    return false;\r\n                }\r\n            }\r\n            else { \r\n                // for a stuff below api level 23\r\n                Timber.tag(LOG_TAG).e(&quot;Permission error. You already have the permission&quot;);\r\n                return true;\r\n            }\r\n        }","title":"Android permission doesn&#39;t work even if I have declared it","body":"<p>I hope the solution to write to external storage will be useful too</p>\n\n<pre><code>public  boolean checkPermission() {\n        if (Build.VERSION.SDK_INT &gt;= 23) {\n            if (checkSelfPermission(android.Manifest.permission.WRITE_EXTERNAL_STORAGE)\n                    == PackageManager.PERMISSION_GRANTED) {\n                Timber.tag(LOG_TAG).e(\"Permission error. You have permission\");\n                return true;\n            } else {\n                Timber.tag(LOG_TAG).e(\"Permission error. You have asked for permission\");\n                ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, 1);\n                return false;\n            }\n        }\n        else { \n            // for a stuff below api level 23\n            Timber.tag(LOG_TAG).e(\"Permission error. You already have the permission\");\n            return true;\n        }\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13895998,"reputation":129,"user_id":10032850,"display_name":"Momodu Deen Swarray"},"score":0,"creation_date":1680996165,"post_id":55760503,"comment_id":133988664,"body_markdown":"Yes... Great!! ALHAMDULILLAH. This worked PERFECTLY. By requesting permission in the order you suggested. Here is a sample:\n\nActivityCompat.RequestPermissions(this, new String[] {  Manifest.Permission.ReadPhoneState, Manifest.Permission.SendSms, Manifest.Permission.ReadSms, Manifest.Permission.ReceiveSms }, 0);","body":"Yes... Great!! ALHAMDULILLAH. This worked PERFECTLY. By requesting permission in the order you suggested. Here is a sample:  ActivityCompat.RequestPermissions(this, new String[] {  Manifest.Permission.ReadPhoneState, Manifest.Permission.SendSms, Manifest.Permission.ReadSms, Manifest.Permission.ReceiveSms }, 0);"}],"tags":[],"owner":{"account_id":4803905,"reputation":17,"user_id":3879659,"display_name":"Partha Sarathi Murmu"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1555670088,"creation_date":1555670088,"answer_id":55760503,"question_id":32635704,"body_markdown":"So i had to create an app to send and receive messages but the send action crashed whenever i clicked on send even though the permission was granted . I had requested runtime permissions and allowed them, still i faced a crash that the process doesnt have the requested permission to send SMS . \r\nI had checked the granted permissions from :\r\n\r\n    adb shell dumpsys package &lt;package-name&gt;\r\n\r\nThe order of my request for permissions was \r\n\r\n 1. RECEIVE_SMS\r\n 2. SEND_SMS\r\n\r\nI reverted the order of request and it works fine . This was tested with a complete new app(uninstall-&gt; install -&gt; test). The answer may seem weird but just give it a shot . \r\n\r\n(If it works in the shown way in a certain order, then Android might have a bug!!) \r\n","title":"Android permission doesn&#39;t work even if I have declared it","body":"<p>So i had to create an app to send and receive messages but the send action crashed whenever i clicked on send even though the permission was granted . I had requested runtime permissions and allowed them, still i faced a crash that the process doesnt have the requested permission to send SMS . \nI had checked the granted permissions from :</p>\n\n<pre><code>adb shell dumpsys package &lt;package-name&gt;\n</code></pre>\n\n<p>The order of my request for permissions was </p>\n\n<ol>\n<li>RECEIVE_SMS</li>\n<li>SEND_SMS</li>\n</ol>\n\n<p>I reverted the order of request and it works fine . This was tested with a complete new app(uninstall-> install -> test). The answer may seem weird but just give it a shot . </p>\n\n<p>(If it works in the shown way in a certain order, then Android might have a bug!!) </p>\n"},{"tags":[],"owner":{"account_id":8315373,"reputation":47,"user_id":6248882,"display_name":"alchemist"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683712662,"creation_date":1683565773,"answer_id":76202793,"question_id":32635704,"body_markdown":"if you API level greater than 26 you should add permission to your code like that:\r\n\r\n```\r\nclass MainActivity : AppCompatActivity() {\r\n\r\n    val cManageSMS=cManageSMS() // &lt;-- initialize your SMS handling class\r\n    ...\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n\r\n    // Adding permission\r\n    var myPermission: Array&lt;String&gt; = arrayOf(Manifest.permission.RECEIVE_SMS, Manifest.permission.READ_SMS)\r\n    ActivityCompat.requestPermissions(this, myPermission,1)\r\n\r\n    // Call to your readSms() method (important! readSms method should be after permission setting!)\r\n    cManageSMS.readSms()\r\n    ...\r\n```","title":"Android permission doesn&#39;t work even if I have declared it","body":"<p>if you API level greater than 26 you should add permission to your code like that:</p>\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    val cManageSMS=cManageSMS() // &lt;-- initialize your SMS handling class\n    ...\n    override fun onCreate(savedInstanceState: Bundle?) {\n\n    // Adding permission\n    var myPermission: Array&lt;String&gt; = arrayOf(Manifest.permission.RECEIVE_SMS, Manifest.permission.READ_SMS)\n    ActivityCompat.requestPermissions(this, myPermission,1)\n\n    // Call to your readSms() method (important! readSms method should be after permission setting!)\n    cManageSMS.readSms()\n    ...\n</code></pre>\n"}],"owner":{"account_id":6970982,"reputation":2056,"user_id":5347360,"display_name":"Nathan Loudjani"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121502,"favorite_count":0,"down_vote_count":0,"up_vote_count":190,"accepted_answer_id":32636039,"answer_count":12,"score":190,"last_activity_date":1683712662,"creation_date":1442508243,"question_id":32635704,"body_markdown":"I&#39;m trying to write code to send an SMS from an Android app, but when I try to send the SMS it sends me back the error:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    09-17 18:37:29.974  12847-12847/**.**.****E/AndroidRuntime FATAL EXCEPTION: main\r\n    Process: **.**.****, PID: 12847\r\n    java.lang.SecurityException: Sending SMS message: uid 10092 does not have android.permission.SEND_SMS.\r\n            at android.os.Parcel.readException(Parcel.java:1599)\r\n            at android.os.Parcel.readException(Parcel.java:1552)\r\n            at com.android.internal.telephony.ISms$Stub$Proxy.sendTextForSubscriber(ISms.java:768)\r\n            at android.telephony.SmsManager.sendTextMessageInternal(SmsManager.java:310)\r\n            at android.telephony.SmsManager.sendTextMessage(SmsManager.java:293)\r\n            at **.**.****.MainActivity$3.onClick(MainActivity.java:70)\r\n            at android.view.View.performClick(View.java:5198)\r\n            at android.view.View$PerformClick.run(View.java:21147)\r\n            at android.os.Handler.handleCallback(Handler.java:739)\r\n            at android.os.Handler.dispatchMessage(Handler.java:95)\r\n            at android.os.Looper.loop(Looper.java:148)\r\n            at android.app.ActivityThread.main(ActivityThread.java:5417)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\r\n\r\nI checked but I have the permissions in the manifest, as follows:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns: Android=&quot;http://schemas.android.com/apk/res/Android&quot;\r\n    package=&quot;**.**.****&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.SEND_SMS&quot;/&gt;\r\n    &lt;uses-feature android:name=&quot;android.hardware.telephony&quot;\r\n        android:required=&quot;true&quot;/&gt;\r\n\r\n    &lt;application\r\n        android:exported=&quot;true&quot;\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:screenOrientation=&quot;portrait&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n\r\n&lt;/manifest&gt;\r\n\r\nI searched the internet but all the errors were about the `&lt;uses-permission/&gt;` syntax, could you help me please?\r\n","title":"Android permission doesn&#39;t work even if I have declared it","body":"<p>I'm trying to write code to send an SMS from an Android app, but when I try to send the SMS it sends me back the error:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>09-17 18:37:29.974  12847-12847/**.**.****E/AndroidRuntime FATAL EXCEPTION: main\nProcess: **.**.****, PID: 12847\njava.lang.SecurityException: Sending SMS message: uid 10092 does not have android.permission.SEND_SMS.\n        at android.os.Parcel.readException(Parcel.java:1599)\n        at android.os.Parcel.readException(Parcel.java:1552)\n        at com.android.internal.telephony.ISms$Stub$Proxy.sendTextForSubscriber(ISms.java:768)\n        at android.telephony.SmsManager.sendTextMessageInternal(SmsManager.java:310)\n        at android.telephony.SmsManager.sendTextMessage(SmsManager.java:293)\n        at **.**.****.MainActivity$3.onClick(MainActivity.java:70)\n        at android.view.View.performClick(View.java:5198)\n        at android.view.View$PerformClick.run(View.java:21147)\n        at android.os.Handler.handleCallback(Handler.java:739)\n        at android.os.Handler.dispatchMessage(Handler.java:95)\n        at android.os.Looper.loop(Looper.java:148)\n        at android.app.ActivityThread.main(ActivityThread.java:5417)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\n</code></pre>\n\n<p>I checked but I have the permissions in the manifest, as follows:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n</code></pre>\n\n<p></p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.SEND_SMS\"/&gt;\n&lt;uses-feature android:name=\"android.hardware.telephony\"\n    android:required=\"true\"/&gt;\n\n&lt;application\n    android:exported=\"true\"\n    android:allowBackup=\"true\"\n    android:icon=\"@mipmap/ic_launcher\"\n    android:label=\"@string/app_name\"\n    android:theme=\"@style/AppTheme\"&gt;\n    &lt;activity\n        android:name=\".MainActivity\"\n        android:label=\"@string/app_name\"\n        android:screenOrientation=\"portrait\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n&lt;/application&gt;\n</code></pre>\n\n<p></p>\n\n<p>I searched the internet but all the errors were about the <code>&lt;uses-permission/&gt;</code> syntax, could you help me please?</p>\n"},{"tags":["java","spring-boot","spring-mvc","spring-restcontroller"],"owner":{"account_id":11976502,"reputation":420,"user_id":14686302,"display_name":"kernel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683712653,"creation_date":1683712653,"question_id":76217085,"body_markdown":"Is there a special tool or Parser project where I can find the API calls for each Controller in my source code?\r\n\r\nFor example, I have a user/createUser controller method, I want to find out if this method calls other services with FeignClient or RestTemplate in service classes.","title":"Java code flow parser analizer for all API Calls","body":"<p>Is there a special tool or Parser project where I can find the API calls for each Controller in my source code?</p>\n<p>For example, I have a user/createUser controller method, I want to find out if this method calls other services with FeignClient or RestTemplate in service classes.</p>\n"},{"tags":["javascript","java","reactjs","spring","spring-boot"],"comments":[{"owner":{"account_id":17975599,"reputation":85,"user_id":14634474,"display_name":" "},"score":0,"creation_date":1611322803,"post_id":65846064,"comment_id":116420857,"body_markdown":"try add `consumes = { &quot;multipart/form-data&quot; }` to `@PostMapping` annotation","body":"try add <code>consumes = { &quot;multipart&#47;form-data&quot; }</code> to <code>@PostMapping</code> annotation"},{"owner":{"account_id":20475166,"reputation":25,"user_id":15024676,"display_name":"Dukenukem97"},"score":0,"creation_date":1611323145,"post_id":65846064,"comment_id":116421051,"body_markdown":"@ i tried and gets &quot;org.springframework.web.HttpMediaTypeNotSupportedException: Content type &#39;application/x-www-form-urlencoded&#39; not supported&quot;","body":"@ i tried and gets &quot;org.springframework.web.HttpMediaTypeNotSupportedException: Content type &#39;application/x-www-form-urlencoded&#39; not supported&quot;"},{"owner":{"account_id":17975599,"reputation":85,"user_id":14634474,"display_name":" "},"score":0,"creation_date":1611324919,"post_id":65846064,"comment_id":116421951,"body_markdown":"Are you sure `https://localhost:8080/add-item` is correct URL? May be `http://localhost:8080/add-item`? (http instead https)","body":"Are you sure <code>https:&#47;&#47;localhost:8080&#47;add-item</code> is correct URL? May be <code>http:&#47;&#47;localhost:8080&#47;add-item</code>? (http instead https)"},{"owner":{"account_id":17975599,"reputation":85,"user_id":14634474,"display_name":" "},"score":0,"creation_date":1611325457,"post_id":65846064,"comment_id":116422214,"body_markdown":"Probably you have problem with sending request check this https://stackoverflow.com/questions/43013858/how-to-post-a-file-from-a-form-with-axios","body":"Probably you have problem with sending request check this <a href=\"https://stackoverflow.com/questions/43013858/how-to-post-a-file-from-a-form-with-axios\" title=\"how to post a file from a form with axios\">stackoverflow.com/questions/43013858/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":20475166,"reputation":25,"user_id":15024676,"display_name":"Dukenukem97"},"score":0,"creation_date":1611325912,"post_id":65846769,"comment_id":116422439,"body_markdown":"I DID THIS, IT SHOWS org.springframework.web.HttpMediaTypeNotSupportedException: Content type &#39;application/x-www-form-urlencoded&#39; not supported","body":"I DID THIS, IT SHOWS org.springframework.web.HttpMediaTypeNotSupportedException: Content type &#39;application/x-www-form-urlencoded&#39; not supported"}],"tags":[],"owner":{"account_id":18452928,"reputation":2722,"user_id":14927001,"display_name":"Dmitrii B"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611324730,"creation_date":1611324730,"answer_id":65846769,"question_id":65846064,"body_markdown":"try to change `@PostMapping` when `MULTIPART_FORM_DATA_VALUE` from `import static org.springframework.http.MediaType.MULTIPART_FORM_DATA_VALUE;`\r\n\r\n    @PostMapping(value = &quot;/add-item&quot;, consumes = MULTIPART_FORM_DATA_VALUE)\r\n    public ResponseEntity&lt;?&gt; handleProductInsert ( @RequestParam MultipartFile thumbnailFile ){\r\n      try{\r\n              .....................\r\n              .....................\r\n            return new ResponseEntity(&quot;Product added successfully&quot;, HttpStatus.OK);\r\n        }catch (Exception e){\r\n            return new ResponseEntity(&quot;Internal Server Error. Try again later&quot;, \r\n              HttpStatus.INTERNAL_SERVER_ERROR);\r\n        }\r\n    }","title":"Current request is not a multipart request : Spring boot","body":"<p>try to change <code>@PostMapping</code> when <code>MULTIPART_FORM_DATA_VALUE</code> from <code>import static org.springframework.http.MediaType.MULTIPART_FORM_DATA_VALUE;</code></p>\n<pre><code>@PostMapping(value = &quot;/add-item&quot;, consumes = MULTIPART_FORM_DATA_VALUE)\npublic ResponseEntity&lt;?&gt; handleProductInsert ( @RequestParam MultipartFile thumbnailFile ){\n  try{\n          .....................\n          .....................\n        return new ResponseEntity(&quot;Product added successfully&quot;, HttpStatus.OK);\n    }catch (Exception e){\n        return new ResponseEntity(&quot;Internal Server Error. Try again later&quot;, \n          HttpStatus.INTERNAL_SERVER_ERROR);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9566029,"reputation":305,"user_id":7105295,"display_name":"Prashant Vishwakarma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662065364,"creation_date":1662065364,"answer_id":73575269,"question_id":65846064,"body_markdown":"form-data requires a `key` along with the file in Controller.\r\nTry:\r\n\r\n```\r\n@PostMapping(headers = { &quot;Content-Type=multipart/form-data&quot; }, value = &quot;/add-item&quot;)\r\npublic ResponseEntity&lt;?&gt; handleProductInsert(@RequestParam(&quot;file&quot;) MultipartFile thumbnailFile){\r\n  try{\r\n          .....................\r\n          .....................\r\n        return new ResponseEntity(&quot;Product added successfully&quot;, HttpStatus.OK);\r\n    }catch (Exception e){\r\n        return new ResponseEntity(&quot;Internal Server Error. Try again later&quot;, \r\n          HttpStatus.INTERNAL_SERVER_ERROR);\r\n    }\r\n}\r\n```\r\nOn Client Application, prepare request:\r\n```\r\n&lt;form id=&#39;form&#39; encType=&quot;multipart/form-data&quot; method=&quot;post&quot;&gt;\r\n    &lt;input id=&#39;import-field&#39; type=&quot;file&quot; name=&quot;file&quot; accept=&quot;.jpg&quot; onChange={onUpload} /&gt;\r\n&lt;/form&gt;\r\n```\r\n```\r\nconst onUpload = event =&gt; {\r\n    if (event.target.files.length &gt; 0) {\r\n        let formElement = document.getElementById(&#39;import-field&#39;);\r\n        uploadFile(new FormData(formElement)); //do POST call here\r\n    }\r\n};\r\n```","title":"Current request is not a multipart request : Spring boot","body":"<p>form-data requires a <code>key</code> along with the file in Controller.\nTry:</p>\n<pre><code>@PostMapping(headers = { &quot;Content-Type=multipart/form-data&quot; }, value = &quot;/add-item&quot;)\npublic ResponseEntity&lt;?&gt; handleProductInsert(@RequestParam(&quot;file&quot;) MultipartFile thumbnailFile){\n  try{\n          .....................\n          .....................\n        return new ResponseEntity(&quot;Product added successfully&quot;, HttpStatus.OK);\n    }catch (Exception e){\n        return new ResponseEntity(&quot;Internal Server Error. Try again later&quot;, \n          HttpStatus.INTERNAL_SERVER_ERROR);\n    }\n}\n</code></pre>\n<p>On Client Application, prepare request:</p>\n<pre><code>&lt;form id='form' encType=&quot;multipart/form-data&quot; method=&quot;post&quot;&gt;\n    &lt;input id='import-field' type=&quot;file&quot; name=&quot;file&quot; accept=&quot;.jpg&quot; onChange={onUpload} /&gt;\n&lt;/form&gt;\n</code></pre>\n<pre><code>const onUpload = event =&gt; {\n    if (event.target.files.length &gt; 0) {\n        let formElement = document.getElementById('import-field');\n        uploadFile(new FormData(formElement)); //do POST call here\n    }\n};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":70791,"reputation":1619,"user_id":204950,"accept_rate":92,"display_name":"banterCZ"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683712537,"creation_date":1683712537,"answer_id":76217064,"question_id":65846064,"body_markdown":"It is needed to specify the content type header\r\n\r\n```javascript\r\naxios.post(&#39;upload_file&#39;, formData, {\r\n    headers: {\r\n      &#39;Content-Type&#39;: &#39;multipart/form-data&#39;\r\n    }\r\n})\r\n```\r\n\r\nOr use a shortcut method `postForm`, which is just the corresponding http method with the `Content-Type` header preset to `multipart/form-data`, see https://github.com/axios/axios#using-multipartform-data-format\r\n\r\n```javascript\r\naxios.postForm(&#39;upload_file&#39;, formData)\r\n```\r\n\r\n","title":"Current request is not a multipart request : Spring boot","body":"<p>It is needed to specify the content type header</p>\n<pre class=\"lang-js prettyprint-override\"><code>axios.post('upload_file', formData, {\n    headers: {\n      'Content-Type': 'multipart/form-data'\n    }\n})\n</code></pre>\n<p>Or use a shortcut method <code>postForm</code>, which is just the corresponding http method with the <code>Content-Type</code> header preset to <code>multipart/form-data</code>, see <a href=\"https://github.com/axios/axios#using-multipartform-data-format\" rel=\"nofollow noreferrer\">https://github.com/axios/axios#using-multipartform-data-format</a></p>\n<pre class=\"lang-js prettyprint-override\"><code>axios.postForm('upload_file', formData)\n</code></pre>\n"}],"owner":{"account_id":20475166,"reputation":25,"user_id":15024676,"display_name":"Dukenukem97"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2013,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1683712537,"creation_date":1611321938,"question_id":65846064,"body_markdown":"Current request is not a multipart request Spring boot error while trying to upload a Image file. \r\n\r\n**Spring Boot**\r\n\r\n    @PostMapping(value = &quot;/add-item&quot;)\r\n    public ResponseEntity&lt;?&gt; handleProductInsert ( @RequestParam MultipartFile thumbnailFile ){\r\n      try{\r\n              .....................\r\n              .....................\r\n            return new ResponseEntity(&quot;Product added successfully&quot;, HttpStatus.OK);\r\n        }catch (Exception e){\r\n            return new ResponseEntity(&quot;Internal Server Error. Try again later&quot;, \r\n              HttpStatus.INTERNAL_SERVER_ERROR);\r\n        }\r\n    }\r\n\r\n**React App**\r\n\r\n   \r\n\r\n    state={data:null}\r\n    \r\n       handleChange=(e)=&gt;{\r\n         this.setState({data:e.target.files[0]});\r\n       }\r\n    \r\n       connectToDatabase=async()=&gt;{\r\n            return await axios.post(`https://localhost:8080/add-item`, this.state.data);\r\n        }\r\n    \r\n       render()=&gt;{\r\n           return (&lt;&gt;\r\n                    &lt;input accept=&quot;image/*&quot; onChange={this.handleChange} type=&quot;file&quot; /&gt;\r\n                    &lt;button onClick={this.connectToDatabase}&gt;Submit&lt;/button&gt;\r\n                   &lt;/&gt;\r\n                  )\r\n    }\r\n\r\n","title":"Current request is not a multipart request : Spring boot","body":"<p>Current request is not a multipart request Spring boot error while trying to upload a Image file.</p>\n<p><strong>Spring Boot</strong></p>\n<pre><code>@PostMapping(value = &quot;/add-item&quot;)\npublic ResponseEntity&lt;?&gt; handleProductInsert ( @RequestParam MultipartFile thumbnailFile ){\n  try{\n          .....................\n          .....................\n        return new ResponseEntity(&quot;Product added successfully&quot;, HttpStatus.OK);\n    }catch (Exception e){\n        return new ResponseEntity(&quot;Internal Server Error. Try again later&quot;, \n          HttpStatus.INTERNAL_SERVER_ERROR);\n    }\n}\n</code></pre>\n<p><strong>React App</strong></p>\n<pre><code>state={data:null}\n\n   handleChange=(e)=&gt;{\n     this.setState({data:e.target.files[0]});\n   }\n\n   connectToDatabase=async()=&gt;{\n        return await axios.post(`https://localhost:8080/add-item`, this.state.data);\n    }\n\n   render()=&gt;{\n       return (&lt;&gt;\n                &lt;input accept=&quot;image/*&quot; onChange={this.handleChange} type=&quot;file&quot; /&gt;\n                &lt;button onClick={this.connectToDatabase}&gt;Submit&lt;/button&gt;\n               &lt;/&gt;\n              )\n}\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","jdbc"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1683712483,"post_id":76217005,"comment_id":134407437,"body_markdown":"Remove the `;` at the end of your query string.","body":"Remove the <code>;</code> at the end of your query string."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1683713508,"post_id":76217005,"comment_id":134407703,"body_markdown":"Also, the commented out query is not something you should use as it makes you vulnerable to SQL injection. Please use proper parameters.","body":"Also, the commented out query is not something you should use as it makes you vulnerable to SQL injection. Please use proper parameters."},{"owner":{"account_id":18094149,"reputation":65,"user_id":13152857,"display_name":"Mishaal Naeem"},"score":0,"creation_date":1683714157,"post_id":76217005,"comment_id":134407862,"body_markdown":"@seenukarthi same issue without the ; as well","body":"@seenukarthi same issue without the ; as well"},{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":1,"creation_date":1683714547,"post_id":76217005,"comment_id":134407962,"body_markdown":"replace `System.out.println(e);` with `e.printStackTrace()` and add the stacktrace to you question.","body":"replace <code>System.out.println(e);</code> with <code>e.printStackTrace()</code> and add the stacktrace to you question."}],"answers":[{"comments":[{"owner":{"account_id":18094149,"reputation":65,"user_id":13152857,"display_name":"Mishaal Naeem"},"score":0,"creation_date":1683714142,"post_id":76217038,"comment_id":134407850,"body_markdown":"Removing the ; didn&#39;t fix it","body":"Removing the ; didn&#39;t fix it"},{"owner":{"account_id":2458519,"reputation":7657,"user_id":2143128,"display_name":"Ratul Sharker"},"score":0,"creation_date":1683717517,"post_id":76217038,"comment_id":134408586,"body_markdown":"Please include the stack trace into the question please.","body":"Please include the stack trace into the question please."}],"tags":[],"owner":{"account_id":2458519,"reputation":7657,"user_id":2143128,"display_name":"Ratul Sharker"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683712363,"creation_date":1683712363,"answer_id":76217038,"question_id":76217005,"body_markdown":"You might want to remove the `;` from the end.","title":"Bad SQL Grammar Exception Springboot","body":"<p>You might want to remove the <code>;</code> from the end.</p>\n"}],"owner":{"account_id":18094149,"reputation":65,"user_id":13152857,"display_name":"Mishaal Naeem"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683712363,"creation_date":1683712102,"question_id":76217005,"body_markdown":"I am using JDBC in Springboot. I get Bad SQL Grammar Exception with the following query even though the query works fine directly on the MySQL workbench. Can someone tell me what I am doing wrong?\r\n\r\nI am using Java 17. Springboot 3.0.6. \r\n\r\n    public int fetchUserByEmailAndPassword(String email, String password) {\r\n        try\r\n        {\r\n            String sql = &quot;SELECT userId FROM authentication.user WHERE email= &#39;abc@gmail.com&#39; AND password= &#39;12345&#39;;&quot;;\r\n            //String sql = &quot;SELECT userId FROM authentication.user WHERE email=&#39;&quot; + email + &quot;&#39; AND password=&#39;&quot; + password +&quot;&#39;;&quot;;\r\n            return getJdbcTemplate().queryForObject(sql, Integer.class);\r\n        } catch(EmptyResultDataAccessException e)\r\n        {\r\n            return 0;\r\n        } catch(Exception e)\r\n        {\r\n            System.out.println(e);\r\n            return 0;\r\n        }\r\n    }\r\n\r\n\r\n","title":"Bad SQL Grammar Exception Springboot","body":"<p>I am using JDBC in Springboot. I get Bad SQL Grammar Exception with the following query even though the query works fine directly on the MySQL workbench. Can someone tell me what I am doing wrong?</p>\n<p>I am using Java 17. Springboot 3.0.6.</p>\n<pre><code>public int fetchUserByEmailAndPassword(String email, String password) {\n    try\n    {\n        String sql = &quot;SELECT userId FROM authentication.user WHERE email= 'abc@gmail.com' AND password= '12345';&quot;;\n        //String sql = &quot;SELECT userId FROM authentication.user WHERE email='&quot; + email + &quot;' AND password='&quot; + password +&quot;';&quot;;\n        return getJdbcTemplate().queryForObject(sql, Integer.class);\n    } catch(EmptyResultDataAccessException e)\n    {\n        return 0;\n    } catch(Exception e)\n    {\n        System.out.println(e);\n        return 0;\n    }\n}\n</code></pre>\n"},{"tags":["java","wav","encoder","decoder","flac"],"answers":[{"comments":[{"owner":{"account_id":3729166,"reputation":459,"user_id":3102124,"accept_rate":100,"display_name":"Kami"},"score":0,"creation_date":1437574180,"post_id":31552373,"comment_id":51086583,"body_markdown":"I give it a try Thanks :) And Thanks for the explanation. :)","body":"I give it a try Thanks :) And Thanks for the explanation. :)"},{"owner":{"account_id":3729166,"reputation":459,"user_id":3102124,"accept_rate":100,"display_name":"Kami"},"score":0,"creation_date":1437729444,"post_id":31552373,"comment_id":51163540,"body_markdown":"Hi @ElliottFrisch is there a possibility to set the Sample Rate of a given Flac file using the JustFlac library ? I need to convert a given FLAC file with more than 8000Hz Sample Rate to 8000HZ Sample Rate,.. thanks","body":"Hi @ElliottFrisch is there a possibility to set the Sample Rate of a given Flac file using the JustFlac library ? I need to convert a given FLAC file with more than 8000Hz Sample Rate to 8000HZ Sample Rate,.. thanks"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1437739356,"post_id":31552373,"comment_id":51169669,"body_markdown":"Probably not. Resampling audio != decompressing audio. Flac is audio compression. You can probably do it with the java sound API.","body":"Probably not. Resampling audio != decompressing audio. Flac is audio compression. You can probably do it with the java sound API."},{"owner":{"account_id":3729166,"reputation":459,"user_id":3102124,"accept_rate":100,"display_name":"Kami"},"score":0,"creation_date":1437762553,"post_id":31552373,"comment_id":51184282,"body_markdown":"Thx I&#39;ve tried it with the Java Sound API but, for FLAC files I get an UnsupportedAudioFileException(&quot;file is not a supported file type&quot;). I think there is no provider within the API for FLAC files. So I tried an ugly workaround. First I decompressed the audio to a wav file then re-sampled the wav file to 8kHz and compressed to a flac file again. Until there is no other way or a better solution I use this for my purpose. Anyways thanks for your answer. :)","body":"Thx I&#39;ve tried it with the Java Sound API but, for FLAC files I get an UnsupportedAudioFileException(&quot;file is not a supported file type&quot;). I think there is no provider within the API for FLAC files. So I tried an ugly workaround. First I decompressed the audio to a wav file then re-sampled the wav file to 8kHz and compressed to a flac file again. Until there is no other way or a better solution I use this for my purpose. Anyways thanks for your answer. :)"}],"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1437528365,"creation_date":1437528365,"answer_id":31552373,"question_id":31552314,"body_markdown":"Use `flac -d` to (from the `man` page)\r\n\r\n&gt;     Decode (the default behavior is to encode)\r\n\r\nAnother option would be the [JustFLAC](https://github.com/drogatkin/JustFLAC) library, again you need to *decode* from FLAC. WAV is uncompressed audio.","title":"How to convert a FLAC file to WAV file using java?","body":"<p>Use <code>flac -d</code> to (from the <code>man</code> page)</p>\n\n<blockquote>\n<pre><code>Decode (the default behavior is to encode)\n</code></pre>\n</blockquote>\n\n<p>Another option would be the <a href=\"https://github.com/drogatkin/JustFLAC\" rel=\"nofollow\">JustFLAC</a> library, again you need to <em>decode</em> from FLAC. WAV is uncompressed audio.</p>\n"},{"tags":[],"owner":{"account_id":219877,"reputation":2148,"user_id":477008,"accept_rate":88,"display_name":"njlarsson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683711872,"creation_date":1625900562,"answer_id":68325485,"question_id":31552314,"body_markdown":"One way would be to use the official FLAC code library. Of course, its API is not for Java but C/C++, but you can write a class using JNI that uses a tiny bit of C code to act as a bridge between the Java and native environments. [Here&#39;s a description for how to do that for FLAC decoding][1], and [here&#39;s a simple demo program][2] that converts a FLAC to a WAV using the [FLAC decoding library][3] described there.\r\n\r\n\r\n  [1]: https://klipspringer.avadeaux.net/decoding-the-flac-audio-format-in-java/\r\n  [2]: https://klipspringer.avadeaux.net/files/examples/FlacDecodeFile.java.html\r\n  [3]: https://klipspringer.avadeaux.net/guide/flac-decoding/","title":"How to convert a FLAC file to WAV file using java?","body":"<p>One way would be to use the official FLAC code library. Of course, its API is not for Java but C/C++, but you can write a class using JNI that uses a tiny bit of C code to act as a bridge between the Java and native environments. <a href=\"https://klipspringer.avadeaux.net/decoding-the-flac-audio-format-in-java/\" rel=\"nofollow noreferrer\">Here's a description for how to do that for FLAC decoding</a>, and <a href=\"https://klipspringer.avadeaux.net/files/examples/FlacDecodeFile.java.html\" rel=\"nofollow noreferrer\">here's a simple demo program</a> that converts a FLAC to a WAV using the <a href=\"https://klipspringer.avadeaux.net/guide/flac-decoding/\" rel=\"nofollow noreferrer\">FLAC decoding library</a> described there.</p>\n"}],"owner":{"account_id":3729166,"reputation":459,"user_id":3102124,"accept_rate":100,"display_name":"Kami"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1803,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":31552373,"answer_count":2,"score":0,"last_activity_date":1683711872,"creation_date":1437527945,"question_id":31552314,"body_markdown":"I want to convert a given flac file to a wav file. Most of the questions on StackOverflow are the opposite of my question. Have anyone an idea how to solve this problem ? I heard something about JavaFlacEncoder [link][1] but I could not find a method to convert flac to wave. \r\n\r\n\r\n\r\n  [1]: http://sourceforge.net/projects/javaflacencoder/","title":"How to convert a FLAC file to WAV file using java?","body":"<p>I want to convert a given flac file to a wav file. Most of the questions on StackOverflow are the opposite of my question. Have anyone an idea how to solve this problem ? I heard something about JavaFlacEncoder <a href=\"http://sourceforge.net/projects/javaflacencoder/\" rel=\"nofollow\">link</a> but I could not find a method to convert flac to wave. </p>\n"},{"tags":["java","android","widget","android-widget","android-shortcut"],"owner":{"account_id":10916684,"reputation":3936,"user_id":8024296,"display_name":"Paul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683711168,"creation_date":1683711168,"question_id":76216879,"body_markdown":"Is there a way to determine if the widget was pinned from the home or pinning shortcut?\r\n\r\nI would need that when the user tries to insert it from the home or from the pinning shortcut, he either doesn&#39;t allow it or opens the app to request a text and then allows the widget to be added.\r\n\r\nBeing that the use of the widget depends on this text and this text is passed via `Intent.ACTION_SEND`, if I don&#39;t have this text the widget cannot work.\r\n\r\nFor example how does `Gmail` o `Outlook` with its widget if you have more than one email.\r\n\r\nHome:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nApp:\r\n\r\nMenu that appears by holding down the app icon for a long time, and then clicking on the word widget\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BPnyb.png\r\n  [2]: https://i.stack.imgur.com/afVHH.png","title":"Android java widget determine if the widget was pinned from the home or pinning shortcut","body":"<p>Is there a way to determine if the widget was pinned from the home or pinning shortcut?</p>\n<p>I would need that when the user tries to insert it from the home or from the pinning shortcut, he either doesn't allow it or opens the app to request a text and then allows the widget to be added.</p>\n<p>Being that the use of the widget depends on this text and this text is passed via <code>Intent.ACTION_SEND</code>, if I don't have this text the widget cannot work.</p>\n<p>For example how does <code>Gmail</code> o <code>Outlook</code> with its widget if you have more than one email.</p>\n<p>Home:</p>\n<p><a href=\"https://i.stack.imgur.com/BPnyb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BPnyb.png\" alt=\"enter image description here\" /></a></p>\n<p>App:</p>\n<p>Menu that appears by holding down the app icon for a long time, and then clicking on the word widget</p>\n<p><a href=\"https://i.stack.imgur.com/afVHH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/afVHH.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","unit-testing","intellij-idea","groovy","junit"],"comments":[{"owner":{"account_id":17092302,"reputation":9084,"user_id":12368154,"display_name":"Charchit Kapoor"},"score":0,"creation_date":1656562476,"post_id":72810188,"comment_id":128604540,"body_markdown":"if your project uses lombok, this might help https://github.com/projectlombok/lombok/issues/2842. Also updating Lombok might help","body":"if your project uses lombok, this might help <a href=\"https://github.com/projectlombok/lombok/issues/2842\" rel=\"nofollow noreferrer\">github.com/projectlombok/lombok/issues/2842</a>. Also updating Lombok might help"},{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1656580365,"post_id":72810188,"comment_id":128609572,"body_markdown":"You should specify -Djps.track.ap.dependencies=true` to enable incremental annotation processing. Note that this may lead to incompatible build results. See [these links](https://youtrack.jetbrains.com/issue/IDEA-258659/Vertx-CodeGenProcessor-annotation-processor-is-no-longer-working-after-IDEA-upgrade#focus=Comments-27-4620217.0-0) more info about it.","body":"You should specify -Djps.track.ap.dependencies=true` to enable incremental annotation processing. Note that this may lead to incompatible build results. See <a href=\"https://youtrack.jetbrains.com/issue/IDEA-258659/Vertx-CodeGenProcessor-annotation-processor-is-no-longer-working-after-IDEA-upgrade#focus=Comments-27-4620217.0-0\" rel=\"nofollow noreferrer\">these links</a> more info about it."}],"answers":[{"tags":[],"owner":{"account_id":26458602,"reputation":137,"user_id":20100868,"display_name":"D.S."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664874103,"creation_date":1664874103,"answer_id":73945446,"question_id":72810188,"body_markdown":"I faced the same issue with intellij 2022 version. This issue occurs due to old lombok version like 1.16.16 or older. Update the lombok version to latest like 1.18.24. This version will resolve the error.\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.24&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"Intellij idea 2022.1.3 ultimate showing error java: JPS incremental annotation processing is disabled","body":"<p>I faced the same issue with intellij 2022 version. This issue occurs due to old lombok version like 1.16.16 or older. Update the lombok version to latest like 1.18.24. This version will resolve the error.</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;1.18.24&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10236560,"reputation":1324,"user_id":8420428,"display_name":"keith5140"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683710961,"creation_date":1683710961,"answer_id":76216857,"question_id":72810188,"body_markdown":"In my case, In my case, upgrading the version of the Lombok package did not work.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        &lt;version&gt;1.18.26&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI suspect the cache problem or something, I use the invalid cache under the file and restart it several times, but it doesnt work.\r\n\r\nFinally, the build runner turns on the delegate ide build/run actions to maven, and that&#39;s it. However, after it is turned on, it will be very slow when I run the project debug locally, and then turn it off again. Lombok did not report an error, so it was solved.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wjjn7.png","title":"Intellij idea 2022.1.3 ultimate showing error java: JPS incremental annotation processing is disabled","body":"<p>In my case, In my case, upgrading the version of the Lombok package did not work.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n    &lt;version&gt;1.18.26&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I suspect the cache problem or something, I use the invalid cache under the file and restart it several times, but it doesnt work.</p>\n<p>Finally, the build runner turns on the delegate ide build/run actions to maven, and that's it. However, after it is turned on, it will be very slow when I run the project debug locally, and then turn it off again. Lombok did not report an error, so it was solved.</p>\n<p><a href=\"https://i.stack.imgur.com/wjjn7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wjjn7.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":371575,"reputation":13174,"user_id":720176,"accept_rate":75,"display_name":"Amit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2130,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":73945446,"answer_count":2,"score":3,"last_activity_date":1683710961,"creation_date":1656561976,"question_id":72810188,"body_markdown":"I am using 2022.1.3 ultimate version and while running groovy test cases I am getting this error \r\n\r\n&gt; java: JPS incremental annotation processing is disabled. Compilation\r\n&gt; results on partial recompilation may be inaccurate. Use build process\r\n&gt; &quot;jps.track.ap.dependencies&quot; VM flag to enable/disable incremental\r\n&gt; annotation processing environment.\r\n\r\nDue to this error even running a single test takes lot of time. I have tried adding following option in shared build process VM options and also in run configuration but that is not helping.\r\n\r\n    -Djps.track.ap.dependencies=false \r\n\r\n Is anyone else noticing this same issue ?\r\n\r\nOriginal question, How to run a single groovy test case from a large project ? \r\n","title":"Intellij idea 2022.1.3 ultimate showing error java: JPS incremental annotation processing is disabled","body":"<p>I am using 2022.1.3 ultimate version and while running groovy test cases I am getting this error</p>\n<blockquote>\n<p>java: JPS incremental annotation processing is disabled. Compilation\nresults on partial recompilation may be inaccurate. Use build process\n&quot;jps.track.ap.dependencies&quot; VM flag to enable/disable incremental\nannotation processing environment.</p>\n</blockquote>\n<p>Due to this error even running a single test takes lot of time. I have tried adding following option in shared build process VM options and also in run configuration but that is not helping.</p>\n<pre><code>-Djps.track.ap.dependencies=false \n</code></pre>\n<p>Is anyone else noticing this same issue ?</p>\n<p>Original question, How to run a single groovy test case from a large project ?</p>\n"},{"tags":["java","intellij-idea","hotswap"],"comments":[{"owner":{"account_id":28411028,"reputation":416,"user_id":21734429,"display_name":"romanv-jb"},"score":0,"creation_date":1683556259,"post_id":76200893,"comment_id":134380653,"body_markdown":"Can you provide more details on what exactly was changed in the code and what was the expected result. Record a short video, maybe, if you can, or make a few more screenshots.\nLooking at your screenshot, it seems like it should have went as the video showed.","body":"Can you provide more details on what exactly was changed in the code and what was the expected result. Record a short video, maybe, if you can, or make a few more screenshots. Looking at your screenshot, it seems like it should have went as the video showed."},{"owner":{"account_id":16209003,"reputation":3,"user_id":11703519,"display_name":"bowen951209"},"score":0,"creation_date":1683628261,"post_id":76200893,"comment_id":134392361,"body_markdown":"Here&#39;s the video: https://youtu.be/AqWLAWZ-nBQ. I just made a new project, which is not the program I&#39;m working on, but It can show the problem.","body":"Here&#39;s the video: <a href=\"https://youtu.be/AqWLAWZ-nBQ\" rel=\"nofollow noreferrer\">youtu.be/AqWLAWZ-nBQ</a>. I just made a new project, which is not the program I&#39;m working on, but It can show the problem."}],"answers":[{"comments":[{"owner":{"account_id":16209003,"reputation":3,"user_id":11703519,"display_name":"bowen951209"},"score":0,"creation_date":1683628568,"post_id":76201421,"comment_id":134392428,"body_markdown":"Thank you, but can you check out the video I have just posted? It just don&#39;t work.","body":"Thank you, but can you check out the video I have just posted? It just don&#39;t work."},{"owner":{"account_id":27984139,"reputation":23,"user_id":21371358,"display_name":"aspGG"},"score":1,"creation_date":1683705583,"post_id":76201421,"comment_id":134405867,"body_markdown":"This is not how hot swap works.\n&quot;Changes to your class will be reflected AFTER the current stack has exited your method.&quot;\nYou are in an endless loop which means it does NOT exit your stack. \nPlease check link: https://www.labkey.org/Documentation/wiki-page.view?name=hotSwapping","body":"This is not how hot swap works. &quot;Changes to your class will be reflected AFTER the current stack has exited your method.&quot; You are in an endless loop which means it does NOT exit your stack.  Please check link: <a href=\"https://www.labkey.org/Documentation/wiki-page.view?name=hotSwapping\" rel=\"nofollow noreferrer\">labkey.org/Documentation/wiki-page.view?name=hotSwapping</a>"}],"tags":[],"owner":{"account_id":27984139,"reputation":23,"user_id":21371358,"display_name":"aspGG"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683555093,"creation_date":1683555093,"answer_id":76201421,"question_id":76200893,"body_markdown":"&gt; Java IDEs and VMs support a feature called HotSwapping. It allows you to update the version of a class while the virtual machine is running, without needing to redeploy the webapp, restart, or otherwise interrupt your debugging session. (source: [source][1])\r\n\r\nBasically hot-swap updates your classes by reloading. As output says:\r\n&gt; 8 classes reloaded\r\n\r\nYour classes should be updated.\r\n\r\n  [1]: https://www.labkey.org/Documentation/wiki-page.view?name=hotSwapping#:~:text=Java%20IDEs%20and%20VMs%20support,otherwise%20interrupt%20your%20debugging%20session.","title":"Hot Swap in my IntelliJ doesn&#39;t work. What is wrong?","body":"<blockquote>\n<p>Java IDEs and VMs support a feature called HotSwapping. It allows you to update the version of a class while the virtual machine is running, without needing to redeploy the webapp, restart, or otherwise interrupt your debugging session. (source: <a href=\"https://www.labkey.org/Documentation/wiki-page.view?name=hotSwapping#:%7E:text=Java%20IDEs%20and%20VMs%20support,otherwise%20interrupt%20your%20debugging%20session.\" rel=\"nofollow noreferrer\">source</a>)</p>\n</blockquote>\n<p>Basically hot-swap updates your classes by reloading. As output says:</p>\n<blockquote>\n<p>8 classes reloaded</p>\n</blockquote>\n<p>Your classes should be updated.</p>\n"},{"tags":[],"owner":{"account_id":28411028,"reputation":416,"user_id":21734429,"display_name":"romanv-jb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683710340,"creation_date":1683706500,"answer_id":76216265,"question_id":76200893,"body_markdown":"In the video you are changing the method that is already being executed (main), if you create another method and call it from main HotSwap will work as you expect it to work.\r\n\r\nFor more info see [HotSwap Limitations][1] section.\r\n\r\nDCEVM can help you get around the limitations of the default HotSwap implementation.\r\nYou can check this [Plugin][2], for instance.\r\n\r\nHope this helps!\r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/altering-the-program-s-execution-flow.html#reload_classes\r\n  [2]: https://plugins.jetbrains.com/plugin/9552-hotswapagent","title":"Hot Swap in my IntelliJ doesn&#39;t work. What is wrong?","body":"<p>In the video you are changing the method that is already being executed (main), if you create another method and call it from main HotSwap will work as you expect it to work.</p>\n<p>For more info see <a href=\"https://www.jetbrains.com/help/idea/altering-the-program-s-execution-flow.html#reload_classes\" rel=\"nofollow noreferrer\">HotSwap Limitations</a> section.</p>\n<p>DCEVM can help you get around the limitations of the default HotSwap implementation.\nYou can check this <a href=\"https://plugins.jetbrains.com/plugin/9552-hotswapagent\" rel=\"nofollow noreferrer\">Plugin</a>, for instance.</p>\n<p>Hope this helps!</p>\n"}],"owner":{"account_id":16209003,"reputation":3,"user_id":11703519,"display_name":"bowen951209"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":394,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76216265,"answer_count":2,"score":0,"last_activity_date":1683710340,"creation_date":1683551114,"question_id":76200893,"body_markdown":"I tried to use the hot swap function in IntelliJ. I followed this [video](https://www.youtube.com/watch?v=HV50Jzk4MM0).I changed some code in a method. Then, I clicked rebuild, and in the popped up dialog, I clicked &quot;reload&quot;, it only shown a dialog above the debug tab, telling me to stop the debug session. It did not change my running program. What&#39;s wrong?\r\n\r\nThis is the screenshot: It told me to stop debug session\r\n\r\n[![screenshot of problem][1]][1]\r\n\r\nI tried to follow the video. I expect my program will change while it&#39;s running, but it didn&#39;t.\r\n\r\n\r\nHere&#39;s my video showing what did I do: [video][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dFjQC.png\r\n  [2]: https://youtu.be/AqWLAWZ-nBQ","title":"Hot Swap in my IntelliJ doesn&#39;t work. What is wrong?","body":"<p>I tried to use the hot swap function in IntelliJ. I followed this <a href=\"https://www.youtube.com/watch?v=HV50Jzk4MM0\" rel=\"nofollow noreferrer\">video</a>.I changed some code in a method. Then, I clicked rebuild, and in the popped up dialog, I clicked &quot;reload&quot;, it only shown a dialog above the debug tab, telling me to stop the debug session. It did not change my running program. What's wrong?</p>\n<p>This is the screenshot: It told me to stop debug session</p>\n<p><a href=\"https://i.stack.imgur.com/dFjQC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dFjQC.png\" alt=\"screenshot of problem\" /></a></p>\n<p>I tried to follow the video. I expect my program will change while it's running, but it didn't.</p>\n<p>Here's my video showing what did I do: <a href=\"https://youtu.be/AqWLAWZ-nBQ\" rel=\"nofollow noreferrer\">video</a></p>\n"},{"tags":["java","selenium-webdriver","junit","automated-tests"],"comments":[{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1683710217,"post_id":76216688,"comment_id":134406897,"body_markdown":"You need to add one `before` and one `after` annotations, see https://www.javatpoint.com/testng-annotations","body":"You need to add one <code>before</code> and one <code>after</code> annotations, see <a href=\"https://www.javatpoint.com/testng-annotations\" rel=\"nofollow noreferrer\">javatpoint.com/testng-annotations</a>"},{"owner":{"account_id":10495994,"reputation":1833,"user_id":7736228,"display_name":"Abhay Chaudhary"},"score":1,"creation_date":1683710309,"post_id":76216688,"comment_id":134406917,"body_markdown":"I don&#39;t think  the `finish()` method in above code is called at all ,there is no call to this method or are you calling it as part of teardown script,add a debug point in `finish()` method to check if it is being executed ,","body":"I don&#39;t think  the <code>finish()</code> method in above code is called at all ,there is no call to this method or are you calling it as part of teardown script,add a debug point in <code>finish()</code> method to check if it is being executed ,"},{"owner":{"account_id":28566140,"reputation":11,"user_id":21868995,"display_name":"MaughaS"},"score":0,"creation_date":1683712039,"post_id":76216688,"comment_id":134407341,"body_markdown":"Hi Abhay - you&#39;re correct I wasn&#39;t! If I wanted to call the finish method after it is set, how do I do that? I tried finish(); after googling but it isn&#39;t working","body":"Hi Abhay - you&#39;re correct I wasn&#39;t! If I wanted to call the finish method after it is set, how do I do that? I tried finish(); after googling but it isn&#39;t working"},{"owner":{"account_id":10495994,"reputation":1833,"user_id":7736228,"display_name":"Abhay Chaudhary"},"score":0,"creation_date":1683714470,"post_id":76216688,"comment_id":134407938,"body_markdown":"Annotate `@AfterMethod ` annotation to finish method, it should execute that\nThe annotated method will be run after each test","body":"Annotate <code>@AfterMethod </code> annotation to finish method, it should execute that The annotated method will be run after each test"},{"owner":{"account_id":28566140,"reputation":11,"user_id":21868995,"display_name":"MaughaS"},"score":0,"creation_date":1683715192,"post_id":76216688,"comment_id":134408078,"body_markdown":"@AbhayChaudhary I am using Junit - I know there&#39;s after and before but I don&#39;t have that setup currently for my test, was hoping to avoid. Thanks for your answer, back to the drawing board!","body":"@AbhayChaudhary I am using Junit - I know there&#39;s after and before but I don&#39;t have that setup currently for my test, was hoping to avoid. Thanks for your answer, back to the drawing board!"}],"answers":[{"tags":[],"owner":{"account_id":28490665,"reputation":66,"user_id":21803364,"display_name":"Tamas Demeny"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683710331,"creation_date":1683710331,"answer_id":76216767,"question_id":76216688,"body_markdown":"As far as I can see, you are not running that method\r\nTry to use annotation `@AfterMethod` for the quit method\r\nLike this: \r\n\r\n    @AfterMethod\r\n    public void finish () {\r\n        driver.close();\r\n        driver.quit();\r\n        }","title":"Driver.quit() is not closing any of my tabs after my test is run","body":"<p>As far as I can see, you are not running that method\nTry to use annotation <code>@AfterMethod</code> for the quit method\nLike this:</p>\n<pre><code>@AfterMethod\npublic void finish () {\n    driver.close();\n    driver.quit();\n    }\n</code></pre>\n"}],"owner":{"account_id":28566140,"reputation":11,"user_id":21868995,"display_name":"MaughaS"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683710331,"creation_date":1683709714,"question_id":76216688,"body_markdown":"I am running a test in Selenium with junit4 which opens multiple windows during the test. I then want to close the driver (all windows) after the test but for some reason this isn&#39;t working. I am new to java/junit and Selenium so apologies if the resolution is obvious\r\n\r\n        //I start the Webdriver here outside of my test\r\n\t    public WebDriver driver = TestContext.StartDriver(TestContext.getDashboardsUrlSaml());\r\n\r\n\r\n        //My test iterates around 7 times through parameters set (params not included in question)\t\r\n        @Test \r\n        public void login () throws InterruptedException, ParseException {\r\n\t    String currentHandle= driver.getWindowHandle();\r\n\t    Thread.sleep(2000);\r\n\t    java.util.Date date = (java.util.Date) new SimpleDateFormat(&quot;MM/dd/yyyy HH:mm:ss&quot;).parse(&quot;01/01/2030 00:00:00&quot;);  \r\n        //expirationTime\r\n\t\tCookie cookie = new Cookie(cookieName,content,&quot;rfqasv0003d.chicago.cme.com&quot;,&quot;/sso/accountstatus&quot;,date,true);\r\n\t\tdriver.manage().addCookie(cookie);\r\n\t    Thread.sleep(1000);\r\n\t    System.out.println(&quot;Cookie has been added for: &quot; + role);\r\n\r\n        driver.findElement(By.id(&quot;user&quot;)).sendKeys(username);\r\n\t    driver.findElement(By.id(&quot;pwd&quot;)).sendKeys(password);\r\n\t    driver.findElement(By.id(&quot;loginBtn&quot;)).click();\r\n\t    \r\n\t    System.out.println(&quot;Logged in successfully for: &quot; + role);\r\n\t    Thread.sleep(1000);\r\n\t    \r\n\t    System.out.println(&quot;The dashboards required for &quot; + role +&quot; are: &quot; + dashboards);\r\n\t    Thread.sleep(1000);\r\n\t   \r\n\t    String[] reqDashboards = dashboards.split(&quot;\\\\|&quot;);     \r\n\t    List&lt;String&gt; requiredDash = Arrays.asList(reqDashboards);\t    \r\n\t    \r\n\t    Thread.sleep(2000);\r\n\t    Select select = new Select(driver.findElement(By.xpath(&quot;//div[@class=&#39;document-selector&#39;]/select&quot;)));\r\n\t    List&lt;WebElement&gt; options = select.getOptions();\r\n\t    \r\n\t    ArrayList&lt;String&gt; displayedDash = new ArrayList&lt;String&gt;(); \r\n\t    \r\n\t    for (WebElement visibleDash: options) {\r\n\t    \tString visDash = visibleDash.getText();\r\n\t    \tdisplayedDash.add(visDash);\r\n\t    }\t\r\n\t    \t \r\n\t    System.out.println(&quot;The dashboards displayed are: &quot; + displayedDash);\r\n\t    System.out.println(&quot;Count of dashboards visible is: &quot; + displayedDash.size());\r\n\t    \r\n\t    assertEquals(requiredDash.size(), displayedDash.size());\r\n\t    assertTrue(requiredDash.containsAll(displayedDash));\r\n\t    assertTrue(displayedDash.containsAll(requiredDash));\r\n\t    \t\r\n\t    //logout\r\n\t\tdriver.findElement(By.className(&quot;user-name&quot;)).click();\r\n\t\tdriver.findElement(By.id(&quot;ui-id-5&quot;)).click();\r\n\t\t\r\n\t\tdriver.switchTo().window(currentHandle);\r\n\t\t\r\n\t    }\t\r\n\r\n    //This is where I&#39;m trying to close my driver\r\n    //My test is running with no errors however my driver stays open after the test has been run\t\t\r\n        public void finish () {\r\n\t    driver.quit();\r\n        }\r\n\t\t\t\r\n    }\r\n\r\n","title":"Driver.quit() is not closing any of my tabs after my test is run","body":"<p>I am running a test in Selenium with junit4 which opens multiple windows during the test. I then want to close the driver (all windows) after the test but for some reason this isn't working. I am new to java/junit and Selenium so apologies if the resolution is obvious</p>\n<pre><code>    //I start the Webdriver here outside of my test\n    public WebDriver driver = TestContext.StartDriver(TestContext.getDashboardsUrlSaml());\n\n\n    //My test iterates around 7 times through parameters set (params not included in question)  \n    @Test \n    public void login () throws InterruptedException, ParseException {\n    String currentHandle= driver.getWindowHandle();\n    Thread.sleep(2000);\n    java.util.Date date = (java.util.Date) new SimpleDateFormat(&quot;MM/dd/yyyy HH:mm:ss&quot;).parse(&quot;01/01/2030 00:00:00&quot;);  \n    //expirationTime\n    Cookie cookie = new Cookie(cookieName,content,&quot;rfqasv0003d.chicago.cme.com&quot;,&quot;/sso/accountstatus&quot;,date,true);\n    driver.manage().addCookie(cookie);\n    Thread.sleep(1000);\n    System.out.println(&quot;Cookie has been added for: &quot; + role);\n\n    driver.findElement(By.id(&quot;user&quot;)).sendKeys(username);\n    driver.findElement(By.id(&quot;pwd&quot;)).sendKeys(password);\n    driver.findElement(By.id(&quot;loginBtn&quot;)).click();\n    \n    System.out.println(&quot;Logged in successfully for: &quot; + role);\n    Thread.sleep(1000);\n    \n    System.out.println(&quot;The dashboards required for &quot; + role +&quot; are: &quot; + dashboards);\n    Thread.sleep(1000);\n   \n    String[] reqDashboards = dashboards.split(&quot;\\\\|&quot;);     \n    List&lt;String&gt; requiredDash = Arrays.asList(reqDashboards);       \n    \n    Thread.sleep(2000);\n    Select select = new Select(driver.findElement(By.xpath(&quot;//div[@class='document-selector']/select&quot;)));\n    List&lt;WebElement&gt; options = select.getOptions();\n    \n    ArrayList&lt;String&gt; displayedDash = new ArrayList&lt;String&gt;(); \n    \n    for (WebElement visibleDash: options) {\n        String visDash = visibleDash.getText();\n        displayedDash.add(visDash);\n    }   \n         \n    System.out.println(&quot;The dashboards displayed are: &quot; + displayedDash);\n    System.out.println(&quot;Count of dashboards visible is: &quot; + displayedDash.size());\n    \n    assertEquals(requiredDash.size(), displayedDash.size());\n    assertTrue(requiredDash.containsAll(displayedDash));\n    assertTrue(displayedDash.containsAll(requiredDash));\n        \n    //logout\n    driver.findElement(By.className(&quot;user-name&quot;)).click();\n    driver.findElement(By.id(&quot;ui-id-5&quot;)).click();\n    \n    driver.switchTo().window(currentHandle);\n    \n    }   \n\n//This is where I'm trying to close my driver\n//My test is running with no errors however my driver stays open after the test has been run        \n    public void finish () {\n    driver.quit();\n    }\n        \n}\n</code></pre>\n"},{"tags":["java","spring-boot","csv","spring-data-jpa","java-io"],"owner":{"account_id":10981964,"reputation":43,"user_id":8068792,"accept_rate":0,"display_name":"Prabhash Mishra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683709734,"creation_date":1683709251,"question_id":76216623,"body_markdown":"I am reading and validating data stored in .csv file in springboot.I am able to get the content of .csv file. Also I want to validate the data stored in file for that I need some extra attribute apart from file content. If I am uploading file from web page I can see the extra attributes needed . But If I uploading file from postman only file content is coming not the other required attribute. Its migration work where I am migrating code from .net to java. If I am uploading file through .NET web from I am getting below content which includes .csv file contents and other attribute but while developing same in Java through postman i can see the content of .csv file which is highlighted under RED line.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Cy7dk.png\r\n\r\nFor validating .csv data I am using below java code including regular expression.\r\n\r\n\r\n\r\n\r\n```\r\npublic class MultipartParser {\r\n   // private static final Logger logger = LogManager.getLogger(MultipartParser.class);\r\n\r\n    public boolean success = false;\r\n    public String name;\r\n    public  String variableType;\r\n    public String taxelid;\r\n    public String text;\r\n    public String contentType;\r\n    public String fileName;\r\n\r\n    public boolean ignoreFirstLine;\r\n\r\n    public MultipartParser(){}\r\n    public MultipartParser(MultipartFile stream){\r\n        this.parse(stream);\r\n    }\r\n    public void parse(MultipartFile stream) {\r\n        ///logger.info(&quot;Inside parser&quot;);\r\n\r\n        try {\r\n            String content = new String(stream.getBytes(), StandardCharsets.UTF_8);\r\n            System.out.println(&quot;CONTENT::&quot;+content);\r\n            int delimiterEndIndex = content.indexOf(&quot;\\r\\n&quot;);\r\n\r\n            if (delimiterEndIndex &gt; -1)\r\n            {\r\n                String delimiter = content.substring(0, content.indexOf(&quot;\\r\\n&quot;));\r\n                // Look for Content-Type\r\n                Pattern re = Pattern.compile(&quot;(?&lt;=Content\\\\-Type:)(.*?)(?=\\r\\n\\r\\n)&quot;);\r\n                Matcher contentTypeMatch = re.matcher(content);\r\n\r\n                // Look for filename\r\n                re = Pattern.compile(&quot;(?&lt;=filename\\\\=\\&quot;\\&quot;)(.*?)(?=\\&quot;\\&quot;)&quot;);\r\n                Matcher filenameMatch = re.matcher(content);\r\n\r\n                // Look for variable\r\n                re = Pattern.compile(&quot;(?&lt;=name\\\\=\\&quot;\\&quot;variable\\&quot;\\&quot;\\r\\n\\r\\n)(.*?)(?=\\r\\n)&quot;);\r\n                Matcher variableMatch = re.matcher(content);\r\n\r\n                re = Pattern.compile(&quot;(?&lt;=name\\\\=\\&quot;\\&quot;taxelid\\&quot;\\&quot;\\r\\n\\r\\n)(.*?)(?=\\r\\n)&quot;);\r\n                Matcher taxelidMatch = re.matcher(content);\r\n\r\n                // Look for name\r\n                re = Pattern.compile(&quot;(?&lt;=name\\\\=\\&quot;\\&quot;cgname\\&quot;\\&quot;\\r\\n\\r\\n)(.*?)(?=\\r\\n)&quot;);\r\n                Matcher cgnameMatch = re.matcher(content);\r\n\r\n                re = Pattern.compile(&quot;(?&lt;=name\\\\=\\&quot;\\&quot;text\\&quot;\\&quot;\\r\\n\\r\\n)(.*?)(?=\\r\\n)&quot;);\r\n                Matcher cgtextMatch = re.matcher(content);\r\n\r\n                if (contentTypeMatch.matches() &amp;&amp; filenameMatch.matches()){\r\n                        this.variableType = variableMatch.group();\r\n                        this.ignoreFirstLine = true;\r\n                        this.name = cgnameMatch.group();\r\n                        this.taxelid = taxelidMatch.group();\r\n                        this.text = cgtextMatch.group();\r\n                        this.success = true;\r\n                }\r\n            }\r\n        } catch (Exception e) {\r\n            //logger.error(&quot;Error whilr reading Multipart file:&quot;+e.getMessage());\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getVariableType() {\r\n        return variableType;\r\n    }\r\n\r\n    public void setVariableType(String variableType) {\r\n        this.variableType = variableType;\r\n    }\r\n\r\n    public String getTaxelid() {\r\n        return taxelid;\r\n    }\r\n\r\n    public void setTaxelid(String taxelid) {\r\n        this.taxelid = taxelid;\r\n    }\r\n\r\n    public String getText() {\r\n        return text;\r\n    }\r\n\r\n    public void setText(String text) {\r\n        this.text = text;\r\n    }\r\n\r\n    public String getContentType() {\r\n        return contentType;\r\n    }\r\n\r\n    public void setContentType(String contentType) {\r\n        this.contentType = contentType;\r\n    }\r\n\r\n    public String getFileName() {\r\n        return fileName;\r\n    }\r\n\r\n    public void setFileName(String fileName) {\r\n        this.fileName = fileName;\r\n    }\r\n\r\n    public boolean isIgnoreFirstLine() {\r\n        return ignoreFirstLine;\r\n    }\r\n\r\n    public void setIgnoreFirstLine(boolean ignoreFirstLine) {\r\n        this.ignoreFirstLine = ignoreFirstLine;\r\n    }\r\n\r\n    public boolean isSuccess() {\r\n        return success;\r\n    }\r\n\r\n    public void setSuccess(boolean success) {\r\n        this.success = success;\r\n    }\r\n}\r\n```\r\nCan anyone please tell me how can I get other attributes apart from file content in Postman or what settings I need to do it Postman to get other attributes need to pass the regular expression.\r\n\r\nRegatds,\r\nPrabhash","title":"Reading and Validate CSV file in springboot","body":"<p>I am reading and validating data stored in .csv file in springboot.I am able to get the content of .csv file. Also I want to validate the data stored in file for that I need some extra attribute apart from file content. If I am uploading file from web page I can see the extra attributes needed . But If I uploading file from postman only file content is coming not the other required attribute. Its migration work where I am migrating code from .net to java. If I am uploading file through .NET web from I am getting below content which includes .csv file contents and other attribute but while developing same in Java through postman i can see the content of .csv file which is highlighted under RED line.\n<a href=\"https://i.stack.imgur.com/Cy7dk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Cy7dk.png\" alt=\"enter image description here\" /></a></p>\n<p>For validating .csv data I am using below java code including regular expression.</p>\n<pre><code>public class MultipartParser {\n   // private static final Logger logger = LogManager.getLogger(MultipartParser.class);\n\n    public boolean success = false;\n    public String name;\n    public  String variableType;\n    public String taxelid;\n    public String text;\n    public String contentType;\n    public String fileName;\n\n    public boolean ignoreFirstLine;\n\n    public MultipartParser(){}\n    public MultipartParser(MultipartFile stream){\n        this.parse(stream);\n    }\n    public void parse(MultipartFile stream) {\n        ///logger.info(&quot;Inside parser&quot;);\n\n        try {\n            String content = new String(stream.getBytes(), StandardCharsets.UTF_8);\n            System.out.println(&quot;CONTENT::&quot;+content);\n            int delimiterEndIndex = content.indexOf(&quot;\\r\\n&quot;);\n\n            if (delimiterEndIndex &gt; -1)\n            {\n                String delimiter = content.substring(0, content.indexOf(&quot;\\r\\n&quot;));\n                // Look for Content-Type\n                Pattern re = Pattern.compile(&quot;(?&lt;=Content\\\\-Type:)(.*?)(?=\\r\\n\\r\\n)&quot;);\n                Matcher contentTypeMatch = re.matcher(content);\n\n                // Look for filename\n                re = Pattern.compile(&quot;(?&lt;=filename\\\\=\\&quot;\\&quot;)(.*?)(?=\\&quot;\\&quot;)&quot;);\n                Matcher filenameMatch = re.matcher(content);\n\n                // Look for variable\n                re = Pattern.compile(&quot;(?&lt;=name\\\\=\\&quot;\\&quot;variable\\&quot;\\&quot;\\r\\n\\r\\n)(.*?)(?=\\r\\n)&quot;);\n                Matcher variableMatch = re.matcher(content);\n\n                re = Pattern.compile(&quot;(?&lt;=name\\\\=\\&quot;\\&quot;taxelid\\&quot;\\&quot;\\r\\n\\r\\n)(.*?)(?=\\r\\n)&quot;);\n                Matcher taxelidMatch = re.matcher(content);\n\n                // Look for name\n                re = Pattern.compile(&quot;(?&lt;=name\\\\=\\&quot;\\&quot;cgname\\&quot;\\&quot;\\r\\n\\r\\n)(.*?)(?=\\r\\n)&quot;);\n                Matcher cgnameMatch = re.matcher(content);\n\n                re = Pattern.compile(&quot;(?&lt;=name\\\\=\\&quot;\\&quot;text\\&quot;\\&quot;\\r\\n\\r\\n)(.*?)(?=\\r\\n)&quot;);\n                Matcher cgtextMatch = re.matcher(content);\n\n                if (contentTypeMatch.matches() &amp;&amp; filenameMatch.matches()){\n                        this.variableType = variableMatch.group();\n                        this.ignoreFirstLine = true;\n                        this.name = cgnameMatch.group();\n                        this.taxelid = taxelidMatch.group();\n                        this.text = cgtextMatch.group();\n                        this.success = true;\n                }\n            }\n        } catch (Exception e) {\n            //logger.error(&quot;Error whilr reading Multipart file:&quot;+e.getMessage());\n            e.printStackTrace();\n        }\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getVariableType() {\n        return variableType;\n    }\n\n    public void setVariableType(String variableType) {\n        this.variableType = variableType;\n    }\n\n    public String getTaxelid() {\n        return taxelid;\n    }\n\n    public void setTaxelid(String taxelid) {\n        this.taxelid = taxelid;\n    }\n\n    public String getText() {\n        return text;\n    }\n\n    public void setText(String text) {\n        this.text = text;\n    }\n\n    public String getContentType() {\n        return contentType;\n    }\n\n    public void setContentType(String contentType) {\n        this.contentType = contentType;\n    }\n\n    public String getFileName() {\n        return fileName;\n    }\n\n    public void setFileName(String fileName) {\n        this.fileName = fileName;\n    }\n\n    public boolean isIgnoreFirstLine() {\n        return ignoreFirstLine;\n    }\n\n    public void setIgnoreFirstLine(boolean ignoreFirstLine) {\n        this.ignoreFirstLine = ignoreFirstLine;\n    }\n\n    public boolean isSuccess() {\n        return success;\n    }\n\n    public void setSuccess(boolean success) {\n        this.success = success;\n    }\n}\n</code></pre>\n<p>Can anyone please tell me how can I get other attributes apart from file content in Postman or what settings I need to do it Postman to get other attributes need to pass the regular expression.</p>\n<p>Regatds,\nPrabhash</p>\n"},{"tags":["java","casting","jvm","runtime"],"comments":[{"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"score":3,"creation_date":1466010496,"post_id":37841004,"comment_id":63144071,"body_markdown":"As for your edit, it would be better to just use the type system and OOP principles instead of odd Java internals. Just have a `Pipe` class (extending Object) that has a `getInputStream` and a `getOutputStream` method, each of which returns an instance of a corresponding inner class (i.e. `Pipe$PipeInputStream` and `Pipe$PipeOutputStream`, both of which access the private/protected state of `Pipe`)","body":"As for your edit, it would be better to just use the type system and OOP principles instead of odd Java internals. Just have a <code>Pipe</code> class (extending Object) that has a <code>getInputStream</code> and a <code>getOutputStream</code> method, each of which returns an instance of a corresponding inner class (i.e. <code>Pipe$PipeInputStream</code> and <code>Pipe$PipeOutputStream</code>, both of which access the private/protected state of <code>Pipe</code>)"},{"owner":{"account_id":1107482,"reputation":2870,"user_id":1098603,"accept_rate":94,"display_name":"Matthieu"},"score":1,"creation_date":1466010647,"post_id":37841004,"comment_id":63144167,"body_markdown":"@hexafraction that&#39;s how it should be handled, and how I would have implemented it anyway. But I like to try different routes and test different ways of achieving the same things, even the ugliest hacks (I love obfuscation contests ;))","body":"@hexafraction that&#39;s how it should be handled, and how I would have implemented it anyway. But I like to try different routes and test different ways of achieving the same things, even the ugliest hacks (I love obfuscation contests ;))"},{"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"score":1,"creation_date":1466010720,"post_id":37841004,"comment_id":63144200,"body_markdown":"If you have a working build system that can build OpenJDK and an understanding of C++, it&#39;s all there and available for you. Just add some code that invokes an `onCast` method if it exists :)","body":"If you have a working build system that can build OpenJDK and an understanding of C++, it&#39;s all there and available for you. Just add some code that invokes an <code>onCast</code> method if it exists :)"},{"owner":{"account_id":1107482,"reputation":2870,"user_id":1098603,"accept_rate":94,"display_name":"Matthieu"},"score":1,"creation_date":1466010853,"post_id":37841004,"comment_id":63144278,"body_markdown":"@hexafraction oh man... You just ruined the little spare time I had left! ;) I&#39;ll start by implementing `ubyte` though (sigh)... :)","body":"@hexafraction oh man... You just ruined the little spare time I had left! ;) I&#39;ll start by implementing <code>ubyte</code> though (sigh)... :)"},{"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"score":2,"creation_date":1466011047,"post_id":37841004,"comment_id":63144383,"body_markdown":"`ubyte` may have more difficulty and work involved since you need to do a lot of work both at the compiler and at the JVM. However, if you do implement it, I&#39;d appreciate seeing a copy of the patch/changeset.","body":"<code>ubyte</code> may have more difficulty and work involved since you need to do a lot of work both at the compiler and at the JVM. However, if you do implement it, I&#39;d appreciate seeing a copy of the patch/changeset."}],"answers":[{"comments":[{"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"score":0,"creation_date":1466009718,"post_id":37841078,"comment_id":63143653,"body_markdown":"@Matthieu Not a problem. There&#39;s a ton of cool stuff you can find in just `bytecodeInterpreter.cpp` (since it handles bytecodes, exceptions, returns, and so on)","body":"@Matthieu Not a problem. There&#39;s a ton of cool stuff you can find in just <code>bytecodeInterpreter.cpp</code> (since it handles bytecodes, exceptions, returns, and so on)"},{"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"score":3,"creation_date":1466024558,"post_id":37841078,"comment_id":63151711,"body_markdown":"Since you refer to `bytecodeInterpreter.cpp`, you must know that this code is **never executed** in production JVM. This is a simple draft implementation intended only for experiments and quick ports to new platforms, it is way too far from the actual implementation. The &#39;real&#39; interpreter (aka template interpreter) is written in platform-specific macroassembler, its sources are at `src/cpu/&lt;arch&gt;/vm/templateInterpreter_&lt;arch&gt;.cpp` and `src/cpu/&lt;arch&gt;/vm/templateTable_&lt;arch&gt;.cpp`.","body":"Since you refer to <code>bytecodeInterpreter.cpp</code>, you must know that this code is <b>never executed</b> in production JVM. This is a simple draft implementation intended only for experiments and quick ports to new platforms, it is way too far from the actual implementation. The &#39;real&#39; interpreter (aka template interpreter) is written in platform-specific macroassembler, its sources are at <code>src&#47;cpu&#47;&lt;arch&gt;&#47;vm&#47;templateInterpreter_&lt;arch&gt;.cpp</code> and <code>src&#47;cpu&#47;&lt;arch&gt;&#47;vm&#47;templateTable_&lt;arch&gt;.cpp</code>."},{"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"score":2,"creation_date":1466024910,"post_id":37841078,"comment_id":63151866,"body_markdown":"@apangin I was not aware. Thank you for clarifying; I will update the code samples and analysis shortly.","body":"@apangin I was not aware. Thank you for clarifying; I will update the code samples and analysis shortly."}],"tags":[],"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"comment_count":3,"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1466025507,"creation_date":1466008574,"answer_id":37841078,"question_id":37841004,"body_markdown":"The JVM has a bytecode, `checkcast`, which is used to check if a cast can be validly performed. The actual cast check semantics are described in the [JLS&#167;5.5.3](https://docs.oracle.com/javase/specs/jls/se8/html/jls-5.html#jls-5.5.3), and the details of the `checkcast` bytecode are described in the [JVM spec&#167;6.5](https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-6.html#jvms-6.5.checkcast). As an example, \r\n\r\n    public static void main(String args[]) {\r\n       Number n = Integer.valueOf(66); // Autoboxing\r\n    \r\n       incr((Integer) n);\r\n    \r\n       System.out.println(n);\r\n    }\r\n       \r\n\r\nproduces\r\n\r\n     public static void main(java.lang.String[]);\r\n        Code:\r\n           0: bipush        66\r\n           2: invokestatic  #3                  // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;\r\n           5: astore_1\r\n           6: aload_1\r\n           7: checkcast     #4                  // class java/lang/Integer\r\n          10: invokestatic  #5                  // Method incr:(Ljava/lang/Integer;)V\r\n          13: getstatic     #6                  // Field java/lang/System.out:Ljava/io/PrintStream;\r\n          16: aload_1\r\n          17: invokevirtual #7                  // Method java/io/PrintStream.println:(Ljava/lang/Object;)V\r\n          20: return\r\n\r\nAdditionally, by delving into Hotspot&#39;s source code we can see two implementations of `checkcast`, one used in production and another used for simple test and early ports.\r\n\r\nFirst shown is the production template-based interpreter (thanks to [apangin](https://stackoverflow.com/users/3448419/apangin) for making me aware of it) which generates code that corresponds to a null check of the reference to be cast-checked, the loading of the class information, a call to a subtype check, and a possible jump to code that throws a ClassCastException:\r\n\r\n&lt;!-- language: lang-cpp --&gt;\r\n\r\n    void TemplateTable::checkcast() {\r\n      transition(atos, atos);\r\n      Label done, is_null, ok_is_subtype, quicked, resolved;\r\n      __ testptr(rax, rax); // object is in rax\r\n      __ jcc(Assembler::zero, is_null);\r\n    \r\n      // Get cpool &amp; tags index\r\n      __ get_cpool_and_tags(rcx, rdx); // rcx=cpool, rdx=tags array\r\n      __ get_unsigned_2_byte_index_at_bcp(rbx, 1); // rbx=index\r\n      // See if bytecode has already been quicked\r\n      __ cmpb(Address(rdx, rbx,\r\n                      Address::times_1,\r\n                      Array&lt;u1&gt;::base_offset_in_bytes()),\r\n              JVM_CONSTANT_Class);\r\n      __ jcc(Assembler::equal, quicked);\r\n      __ push(atos); // save receiver for result, and for GC\r\n      call_VM(noreg, CAST_FROM_FN_PTR(address, InterpreterRuntime::quicken_io_cc));\r\n      // vm_result_2 has metadata result\r\n      __ get_vm_result_2(rax, r15_thread);\r\n      __ pop_ptr(rdx); // restore receiver\r\n      __ jmpb(resolved);\r\n    \r\n      // Get superklass in rax and subklass in rbx\r\n      __ bind(quicked);\r\n      __ mov(rdx, rax); // Save object in rdx; rax needed for subtype check\r\n      __ movptr(rax, Address(rcx, rbx,\r\n                           Address::times_8, sizeof(ConstantPool)));\r\n    \r\n      __ bind(resolved);\r\n      __ load_klass(rbx, rdx);\r\n    \r\n      // Generate subtype check.  Blows rcx, rdi.  Object in rdx.\r\n      // Superklass in rax.  Subklass in rbx.\r\n      __ gen_subtype_check(rbx, ok_is_subtype);\r\n    \r\n      // Come here on failure\r\n      __ push_ptr(rdx);\r\n      // object is at TOS\r\n      __ jump(ExternalAddress(Interpreter::_throw_ClassCastException_entry));\r\n    \r\n      // Come here on success\r\n      __ bind(ok_is_subtype);\r\n      __ mov(rax, rdx); // Restore object in rdx\r\n    \r\n      // Collect counts on whether this check-cast sees NULLs a lot or not.\r\n      if (ProfileInterpreter) {\r\n        __ jmp(done);\r\n        __ bind(is_null);\r\n        __ profile_null_seen(rcx);\r\n      } else {\r\n        __ bind(is_null);   // same as &#39;done&#39;\r\n      }\r\n      __ bind(done);\r\n    }\r\n\r\n\r\nThe simple non-production interpreter can show us another example at [`bytecodeInterpreter.cpp` line 2048](http://hg.openjdk.java.net/jdk8/jdk8/hotspot/file/87ee5ee27509/src/share/vm/interpreter/bytecodeInterpreter.cpp#l2048). We can actually see what happens in a *sample* compliant bytecode interpreter when a `checkcast` is reached:\r\n\r\n&lt;!-- language: lang-cpp --&gt;\r\n\r\n      CASE(_checkcast):\r\n          if (STACK_OBJECT(-1) != NULL) {\r\n            VERIFY_OOP(STACK_OBJECT(-1));\r\n            u2 index = Bytes::get_Java_u2(pc+1);\r\n            if (ProfileInterpreter) {\r\n              // needs Profile_checkcast QQQ\r\n              ShouldNotReachHere();\r\n            }\r\n            // Constant pool may have actual klass or unresolved klass. If it is\r\n            // unresolved we must resolve it\r\n            if (METHOD-&gt;constants()-&gt;tag_at(index).is_unresolved_klass()) {\r\n              CALL_VM(InterpreterRuntime::quicken_io_cc(THREAD), handle_exception);\r\n            }\r\n            Klass* klassOf = (Klass*) METHOD-&gt;constants()-&gt;slot_at(index).get_klass();\r\n            Klass* objKlassOop = STACK_OBJECT(-1)-&gt;klass(); //ebx\r\n            //\r\n            // Check for compatibilty. This check must not GC!!\r\n            // Seems way more expensive now that we must dispatch\r\n            //\r\n            if (objKlassOop != klassOf &amp;&amp;\r\n                !objKlassOop-&gt;is_subtype_of(klassOf)) {\r\n              ResourceMark rm(THREAD);\r\n              const char* objName = objKlassOop-&gt;external_name();\r\n              const char* klassName = klassOf-&gt;external_name();\r\n              char* message = SharedRuntime::generate_class_cast_message(\r\n                objName, klassName);\r\n              VM_JAVA_ERROR(vmSymbols::java_lang_ClassCastException(), message);\r\n            }\r\n          } else {\r\n            if (UncommonNullCast) {\r\n                //              istate-&gt;method()-&gt;set_null_cast_seen();\r\n                // [RGV] Not sure what to do here!\r\n\r\n            }\r\n          }\r\n          UPDATE_PC_AND_CONTINUE(3);\r\n\r\nIn a nutshell, it grabs the argument off the stack, gets the Class object from the constant pool (resolving if necessary), and checks if the argument is assignable to that class. If not, it gets the names of the object&#39;s type and of the class to which the cast was attempted, constructs an exception message, and throws a ClassCastException with that message. Oddly enough, the mechanism for throwing a ClassCastException is not the same as that used for the `athrow` bytecode (using `VM_JAVA_ERROR` instead of `set_pending_exception`).\r\n\r\n\r\n**Response to edit:** it would be better to just use the type system and OOP principles instead of odd Java internals. Just have a `Pipe` class (extending Object) that has a `getInputStream` and a `getOutputStream` method, each of which returns an instance of a corresponding inner class (i.e. `Pipe$PipeInputStream` and `Pipe$PipeOutputStream`, both of which access the private/protected state of `Pipe`)","title":"How does the JVM actually cast objects and issue a ClassCastException?","body":"<p>The JVM has a bytecode, <code>checkcast</code>, which is used to check if a cast can be validly performed. The actual cast check semantics are described in the <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-5.html#jls-5.5.3\" rel=\"noreferrer\">JLS5.5.3</a>, and the details of the <code>checkcast</code> bytecode are described in the <a href=\"https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-6.html#jvms-6.5.checkcast\" rel=\"noreferrer\">JVM spec6.5</a>. As an example, </p>\n\n<pre><code>public static void main(String args[]) {\n   Number n = Integer.valueOf(66); // Autoboxing\n\n   incr((Integer) n);\n\n   System.out.println(n);\n}\n</code></pre>\n\n<p>produces</p>\n\n<pre><code> public static void main(java.lang.String[]);\n    Code:\n       0: bipush        66\n       2: invokestatic  #3                  // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;\n       5: astore_1\n       6: aload_1\n       7: checkcast     #4                  // class java/lang/Integer\n      10: invokestatic  #5                  // Method incr:(Ljava/lang/Integer;)V\n      13: getstatic     #6                  // Field java/lang/System.out:Ljava/io/PrintStream;\n      16: aload_1\n      17: invokevirtual #7                  // Method java/io/PrintStream.println:(Ljava/lang/Object;)V\n      20: return\n</code></pre>\n\n<p>Additionally, by delving into Hotspot's source code we can see two implementations of <code>checkcast</code>, one used in production and another used for simple test and early ports.</p>\n\n<p>First shown is the production template-based interpreter (thanks to <a href=\"https://stackoverflow.com/users/3448419/apangin\">apangin</a> for making me aware of it) which generates code that corresponds to a null check of the reference to be cast-checked, the loading of the class information, a call to a subtype check, and a possible jump to code that throws a ClassCastException:</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>void TemplateTable::checkcast() {\n  transition(atos, atos);\n  Label done, is_null, ok_is_subtype, quicked, resolved;\n  __ testptr(rax, rax); // object is in rax\n  __ jcc(Assembler::zero, is_null);\n\n  // Get cpool &amp; tags index\n  __ get_cpool_and_tags(rcx, rdx); // rcx=cpool, rdx=tags array\n  __ get_unsigned_2_byte_index_at_bcp(rbx, 1); // rbx=index\n  // See if bytecode has already been quicked\n  __ cmpb(Address(rdx, rbx,\n                  Address::times_1,\n                  Array&lt;u1&gt;::base_offset_in_bytes()),\n          JVM_CONSTANT_Class);\n  __ jcc(Assembler::equal, quicked);\n  __ push(atos); // save receiver for result, and for GC\n  call_VM(noreg, CAST_FROM_FN_PTR(address, InterpreterRuntime::quicken_io_cc));\n  // vm_result_2 has metadata result\n  __ get_vm_result_2(rax, r15_thread);\n  __ pop_ptr(rdx); // restore receiver\n  __ jmpb(resolved);\n\n  // Get superklass in rax and subklass in rbx\n  __ bind(quicked);\n  __ mov(rdx, rax); // Save object in rdx; rax needed for subtype check\n  __ movptr(rax, Address(rcx, rbx,\n                       Address::times_8, sizeof(ConstantPool)));\n\n  __ bind(resolved);\n  __ load_klass(rbx, rdx);\n\n  // Generate subtype check.  Blows rcx, rdi.  Object in rdx.\n  // Superklass in rax.  Subklass in rbx.\n  __ gen_subtype_check(rbx, ok_is_subtype);\n\n  // Come here on failure\n  __ push_ptr(rdx);\n  // object is at TOS\n  __ jump(ExternalAddress(Interpreter::_throw_ClassCastException_entry));\n\n  // Come here on success\n  __ bind(ok_is_subtype);\n  __ mov(rax, rdx); // Restore object in rdx\n\n  // Collect counts on whether this check-cast sees NULLs a lot or not.\n  if (ProfileInterpreter) {\n    __ jmp(done);\n    __ bind(is_null);\n    __ profile_null_seen(rcx);\n  } else {\n    __ bind(is_null);   // same as 'done'\n  }\n  __ bind(done);\n}\n</code></pre>\n\n<p>The simple non-production interpreter can show us another example at <a href=\"http://hg.openjdk.java.net/jdk8/jdk8/hotspot/file/87ee5ee27509/src/share/vm/interpreter/bytecodeInterpreter.cpp#l2048\" rel=\"noreferrer\"><code>bytecodeInterpreter.cpp</code> line 2048</a>. We can actually see what happens in a <em>sample</em> compliant bytecode interpreter when a <code>checkcast</code> is reached:</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>  CASE(_checkcast):\n      if (STACK_OBJECT(-1) != NULL) {\n        VERIFY_OOP(STACK_OBJECT(-1));\n        u2 index = Bytes::get_Java_u2(pc+1);\n        if (ProfileInterpreter) {\n          // needs Profile_checkcast QQQ\n          ShouldNotReachHere();\n        }\n        // Constant pool may have actual klass or unresolved klass. If it is\n        // unresolved we must resolve it\n        if (METHOD-&gt;constants()-&gt;tag_at(index).is_unresolved_klass()) {\n          CALL_VM(InterpreterRuntime::quicken_io_cc(THREAD), handle_exception);\n        }\n        Klass* klassOf = (Klass*) METHOD-&gt;constants()-&gt;slot_at(index).get_klass();\n        Klass* objKlassOop = STACK_OBJECT(-1)-&gt;klass(); //ebx\n        //\n        // Check for compatibilty. This check must not GC!!\n        // Seems way more expensive now that we must dispatch\n        //\n        if (objKlassOop != klassOf &amp;&amp;\n            !objKlassOop-&gt;is_subtype_of(klassOf)) {\n          ResourceMark rm(THREAD);\n          const char* objName = objKlassOop-&gt;external_name();\n          const char* klassName = klassOf-&gt;external_name();\n          char* message = SharedRuntime::generate_class_cast_message(\n            objName, klassName);\n          VM_JAVA_ERROR(vmSymbols::java_lang_ClassCastException(), message);\n        }\n      } else {\n        if (UncommonNullCast) {\n            //              istate-&gt;method()-&gt;set_null_cast_seen();\n            // [RGV] Not sure what to do here!\n\n        }\n      }\n      UPDATE_PC_AND_CONTINUE(3);\n</code></pre>\n\n<p>In a nutshell, it grabs the argument off the stack, gets the Class object from the constant pool (resolving if necessary), and checks if the argument is assignable to that class. If not, it gets the names of the object's type and of the class to which the cast was attempted, constructs an exception message, and throws a ClassCastException with that message. Oddly enough, the mechanism for throwing a ClassCastException is not the same as that used for the <code>athrow</code> bytecode (using <code>VM_JAVA_ERROR</code> instead of <code>set_pending_exception</code>).</p>\n\n<p><strong>Response to edit:</strong> it would be better to just use the type system and OOP principles instead of odd Java internals. Just have a <code>Pipe</code> class (extending Object) that has a <code>getInputStream</code> and a <code>getOutputStream</code> method, each of which returns an instance of a corresponding inner class (i.e. <code>Pipe$PipeInputStream</code> and <code>Pipe$PipeOutputStream</code>, both of which access the private/protected state of <code>Pipe</code>)</p>\n"},{"comments":[{"owner":{"account_id":3814476,"reputation":187,"user_id":3164176,"accept_rate":80,"display_name":"Vinay"},"score":0,"creation_date":1491491614,"post_id":37841198,"comment_id":73586921,"body_markdown":"is there anything called typecasting, in this scenario?? done by either compiler or jvm. (or) is it just only checking performed at both the compile and run time?? - please help with answer","body":"is there anything called typecasting, in this scenario?? done by either compiler or jvm. (or) is it just only checking performed at both the compile and run time?? - please help with answer"}],"tags":[],"owner":{"account_id":5199348,"reputation":637,"user_id":4159348,"display_name":"yash sachdeva"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1466008966,"creation_date":1466008966,"answer_id":37841198,"question_id":37841004,"body_markdown":"This checking occurs twice, during compile time by the compiler and during run time by the jvm. \r\n\r\nDuring compile time, the compiler sees if the elements belong to the same hierarchy,(eg: Vehicle-&gt;Car-&gt;BMW) , and it is only at runtime that the jvm sees that what the object really is.The compiler deals with references and the jvm deals with objects.\r\n\r\n\r\nNow, during classcast exception, the elements that are casted incorrectly are in same hierarchy, so the compilation occurs successfully, BUT the jvm during runtime sees the object and identifies the incorrect cast and the exception is thrown.\r\n\r\n","title":"How does the JVM actually cast objects and issue a ClassCastException?","body":"<p>This checking occurs twice, during compile time by the compiler and during run time by the jvm. </p>\n\n<p>During compile time, the compiler sees if the elements belong to the same hierarchy,(eg: Vehicle->Car->BMW) , and it is only at runtime that the jvm sees that what the object really is.The compiler deals with references and the jvm deals with objects.</p>\n\n<p>Now, during classcast exception, the elements that are casted incorrectly are in same hierarchy, so the compilation occurs successfully, BUT the jvm during runtime sees the object and identifies the incorrect cast and the exception is thrown.</p>\n"}],"owner":{"account_id":1107482,"reputation":2870,"user_id":1098603,"accept_rate":94,"display_name":"Matthieu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2244,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":37841078,"answer_count":2,"score":8,"last_activity_date":1683709690,"creation_date":1466008365,"question_id":37841004,"body_markdown":"What happens under the hood when you cast an object to a specific class like `casted = (NewClass)obj;`? I&#39;m guessing the JVM somehow checks if the actual class of `obj` is a subclass of `NewClass`, but would there be a way for an object instance to know when it is being &quot;casted&quot;?\r\n\r\nPointers to the documentation/FAQ of some JVM implementations are also welcome, as I haven&#39;t been able to find any...\r\n\r\nEDIT as to &quot;why an object should know when it is being casted?&quot;:\r\n\r\nI was recently thinking about implementing a kind of Pipe that would be both an `InputStream` and an `OutputStream`. As these are classes and not interfaces, it cannot be both (as Java cannot extend multiple classes), so I was wondering if there might be a way for an object to show a different view of itself, through a somehow-interceptable casting operation, like C++ cast operators.\r\n\r\nNot that I wanted to implement it anyway (well, I would have for testing and funny hack purpose ;)) because it would be way too dangerous and would allow for all kind of crazy abuses and misuses.","title":"How does the JVM actually cast objects and issue a ClassCastException?","body":"<p>What happens under the hood when you cast an object to a specific class like <code>casted = (NewClass)obj;</code>? I'm guessing the JVM somehow checks if the actual class of <code>obj</code> is a subclass of <code>NewClass</code>, but would there be a way for an object instance to know when it is being &quot;casted&quot;?</p>\n<p>Pointers to the documentation/FAQ of some JVM implementations are also welcome, as I haven't been able to find any...</p>\n<p>EDIT as to &quot;why an object should know when it is being casted?&quot;:</p>\n<p>I was recently thinking about implementing a kind of Pipe that would be both an <code>InputStream</code> and an <code>OutputStream</code>. As these are classes and not interfaces, it cannot be both (as Java cannot extend multiple classes), so I was wondering if there might be a way for an object to show a different view of itself, through a somehow-interceptable casting operation, like C++ cast operators.</p>\n<p>Not that I wanted to implement it anyway (well, I would have for testing and funny hack purpose ;)) because it would be way too dangerous and would allow for all kind of crazy abuses and misuses.</p>\n"},{"tags":["java","hibernate","hibernate-criteria"],"owner":{"account_id":10189955,"reputation":451,"user_id":7523723,"display_name":"Tal Levi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683709597,"creation_date":1683709597,"question_id":76216669,"body_markdown":"I have a java project to uses hibernate.\r\nI have my base enrty that all my other entires are extended to:\r\n\r\n    @MappedSuperclass\r\n    public abstract class BaseEntry {\r\n        private Long id;\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.TABLE, generator = &quot;itpGenerator&quot;)\r\n        @TableGenerator(name = &quot;itpGenerator&quot;,\r\n                // the first 999 entries are saved for items that come with the system\r\n                initialValue = 1000,\r\n                allocationSize = 100\r\n        )\r\n        @Column(name=&quot;ID&quot;, insertable = false, updatable = false)\r\n        public Long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n    }\r\n\r\nexample for such entry that extended to the base:\r\n\r\n    @Entity\r\n    @Table(name = &quot;AD_ENDPOINTS&quot;)\r\n    public class ActiveDirectoryEndpointEntry extends BaseEntry {\r\n        private String name;\r\n    \r\n        @Column(name = &quot;FRIENDLY_NAME&quot;)\r\n        public String getName() {\r\n            return name;\r\n        }\r\n    }\r\n\r\nso let&#39;s say that before the upgrade, I entered 2 entries for ActiveDirectoryEndpointEntry and they were kept in the database with id 1001 and 1002.\r\n\r\nafter I upgraded the hibernate version to 5.4.24.Final and tried to enter a new entry for ActiveDirectoryEndpointEntry, I get an error:\r\n\r\n     ERROR: duplicate key value violates unique constraint &quot;ad_endpoints_pkey&quot;\r\n      Detail: Key (id)=(1001) already exists.\r\n\r\nmeaning the id was reset back to the staring number.\r\nHow can I prevent the id from going back to the starting number and continue the sequence that started before the upgrade?\r\n\r\n","title":"Column @Id is resetting back to the starting number after upgrading hibernate version from 5.0.3.Final to 5.4.24.Final","body":"<p>I have a java project to uses hibernate.\nI have my base enrty that all my other entires are extended to:</p>\n<pre><code>@MappedSuperclass\npublic abstract class BaseEntry {\n    private Long id;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.TABLE, generator = &quot;itpGenerator&quot;)\n    @TableGenerator(name = &quot;itpGenerator&quot;,\n            // the first 999 entries are saved for items that come with the system\n            initialValue = 1000,\n            allocationSize = 100\n    )\n    @Column(name=&quot;ID&quot;, insertable = false, updatable = false)\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n}\n</code></pre>\n<p>example for such entry that extended to the base:</p>\n<pre><code>@Entity\n@Table(name = &quot;AD_ENDPOINTS&quot;)\npublic class ActiveDirectoryEndpointEntry extends BaseEntry {\n    private String name;\n\n    @Column(name = &quot;FRIENDLY_NAME&quot;)\n    public String getName() {\n        return name;\n    }\n}\n</code></pre>\n<p>so let's say that before the upgrade, I entered 2 entries for ActiveDirectoryEndpointEntry and they were kept in the database with id 1001 and 1002.</p>\n<p>after I upgraded the hibernate version to 5.4.24.Final and tried to enter a new entry for ActiveDirectoryEndpointEntry, I get an error:</p>\n<pre><code> ERROR: duplicate key value violates unique constraint &quot;ad_endpoints_pkey&quot;\n  Detail: Key (id)=(1001) already exists.\n</code></pre>\n<p>meaning the id was reset back to the staring number.\nHow can I prevent the id from going back to the starting number and continue the sequence that started before the upgrade?</p>\n"},{"tags":["java","arraylist","java.util.scanner"],"answers":[{"tags":[],"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1317578725,"creation_date":1317578725,"answer_id":7628217,"question_id":7628183,"body_markdown":"You could call input.hasNextLine and input.nextLine to get a line, and then create a new Scanner for the line you got and use the code that you have now.  Not the cheapest solution, but an easy way to implement it until you come up with a better one :-)","title":"Java Scanner, taking user input from console into array list as separate words","body":"<p>You could call input.hasNextLine and input.nextLine to get a line, and then create a new Scanner for the line you got and use the code that you have now.  Not the cheapest solution, but an easy way to implement it until you come up with a better one :-)</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1317578891,"creation_date":1317578891,"answer_id":7628233,"question_id":7628183,"body_markdown":"It may be simpler to use split for what you want.\r\n\r\n    // read a line, split into words and add them to a collection.\r\n    words.addAll(Arrays.asList(input.nextLine().split(&quot;\\\\s+&quot;)));","title":"Java Scanner, taking user input from console into array list as separate words","body":"<p>It may be simpler to use split for what you want.</p>\n\n<pre><code>// read a line, split into words and add them to a collection.\nwords.addAll(Arrays.asList(input.nextLine().split(\"\\\\s+\")));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":949148,"reputation":6284,"user_id":975700,"display_name":"Francisco Paulo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1317582743,"creation_date":1317582743,"answer_id":7628602,"question_id":7628183,"body_markdown":"You could always use the Console class, like this:\r\n\r\n    Console console = System.console();\r\n\r\n    System.out.print(&quot;Enter a sentence: &quot;);\r\n\r\n    List&lt;String&gt; words = Arrays.asList(console.readLine().split(&quot;\\\\s+&quot;));\r\n\r\n    System.out.println(words);\r\n\r\nThe readline() method should take care of the \\n issue.\r\n\r\nIf you require a Scanner for the type reading capabilities, you can mix both classes:\r\n\r\n    Scanner scanner = new Scanner(console.reader());\r\n\r\nHope this helps!","title":"Java Scanner, taking user input from console into array list as separate words","body":"<p>You could always use the Console class, like this:</p>\n\n<pre><code>Console console = System.console();\n\nSystem.out.print(\"Enter a sentence: \");\n\nList&lt;String&gt; words = Arrays.asList(console.readLine().split(\"\\\\s+\"));\n\nSystem.out.println(words);\n</code></pre>\n\n<p>The readline() method should take care of the \\n issue.</p>\n\n<p>If you require a Scanner for the type reading capabilities, you can mix both classes:</p>\n\n<pre><code>Scanner scanner = new Scanner(console.reader());\n</code></pre>\n\n<p>Hope this helps!</p>\n"}],"owner":{"account_id":446233,"reputation":1122,"user_id":2908666,"accept_rate":80,"display_name":"sjking"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9671,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":7628233,"answer_count":3,"score":0,"last_activity_date":1683709594,"creation_date":1317578299,"question_id":7628183,"body_markdown":"I am trying to read the user input from the console directly into an array list, separated by each word or entity that has whitespace on either side (the default behavior). The problem is I am stuck inside of a while loop. Scanner.next() keeps waiting for more input, though I know I want to stop feeding input after the user presses return:\r\n\r\n    Scanner input = new Scanner(System.in);\r\n\t\t\r\n\t\tSystem.out.print(&quot;Enter a sentence: &quot;);\r\n\t\tdo {\r\n\t\t\tif (words.add(input.next());\r\n\t\t\t\r\n\t\t} while (input.hasNext());\r\n\t\r\n\t\tSystem.out.println(words);\r\n\r\nI input a line, except I will have to press CTRL-D to terminate it (IE. signal the end of input). I just want to automatically end it when the return &#39;\\n&#39; character is pressed at the end of the sentence.\r\n\r\n","title":"Java Scanner, taking user input from console into array list as separate words","body":"<p>I am trying to read the user input from the console directly into an array list, separated by each word or entity that has whitespace on either side (the default behavior). The problem is I am stuck inside of a while loop. Scanner.next() keeps waiting for more input, though I know I want to stop feeding input after the user presses return:</p>\n\n<pre><code>Scanner input = new Scanner(System.in);\n\n    System.out.print(\"Enter a sentence: \");\n    do {\n        if (words.add(input.next());\n\n    } while (input.hasNext());\n\n    System.out.println(words);\n</code></pre>\n\n<p>I input a line, except I will have to press CTRL-D to terminate it (IE. signal the end of input). I just want to automatically end it when the return '\\n' character is pressed at the end of the sentence.</p>\n"},{"tags":["java","loops","java.util.scanner"],"answers":[{"comments":[{"owner":{"account_id":126997,"reputation":4184,"user_id":323871,"accept_rate":48,"display_name":"Sudhanshu Umalkar"},"score":0,"creation_date":1363757809,"post_id":15516071,"comment_id":21974596,"body_markdown":"It needs to consume the newline character.","body":"It needs to consume the newline character."}],"tags":[],"owner":{"account_id":126997,"reputation":4184,"user_id":323871,"accept_rate":48,"display_name":"Sudhanshu Umalkar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1363757938,"creation_date":1363757604,"answer_id":15516071,"question_id":15516036,"body_markdown":"Try putting this at the end of the loop - \r\n\r\n    scan.nextLine();\r\n\r\nOr better to put it in the catch block.\r\n\r\n        while (!capacityCheck) {\r\n            try {\r\n                System.out.println(&quot;Capacity&quot;);\r\n                capacity = scan.nextInt();\r\n                capacityCheck = true;\r\n            } catch (InputMismatchException e) {\r\n                System.out.println(&quot;Capacity must be an integer&quot;);\r\n                scan.nextLine();\r\n            }\r\n        }","title":"Scanner keeps skipping input whist using nextInt() and loops","body":"<p>Try putting this at the end of the loop - </p>\n\n<pre><code>scan.nextLine();\n</code></pre>\n\n<p>Or better to put it in the catch block.</p>\n\n<pre><code>    while (!capacityCheck) {\n        try {\n            System.out.println(\"Capacity\");\n            capacity = scan.nextInt();\n            capacityCheck = true;\n        } catch (InputMismatchException e) {\n            System.out.println(\"Capacity must be an integer\");\n            scan.nextLine();\n        }\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":383107,"reputation":50638,"user_id":738746,"accept_rate":97,"display_name":"Bhesh Gurung"},"score":0,"creation_date":1363758151,"post_id":15516104,"comment_id":21974709,"body_markdown":"Why put `scan.nextLine();`?","body":"Why put <code>scan.nextLine();</code>?"},{"owner":{"account_id":2305374,"reputation":44549,"user_id":2024761,"display_name":"Rahul"},"score":0,"creation_date":1363759068,"post_id":15516104,"comment_id":21975028,"body_markdown":"`scan.nextInt()` will scan only the next integer, but when its not a proper input, the invalid character entered, stays there, without being consumed and hence, makes the while go into an infinite loop. Updated my answer! :)","body":"<code>scan.nextInt()</code> will scan only the next integer, but when its not a proper input, the invalid character entered, stays there, without being consumed and hence, makes the while go into an infinite loop. Updated my answer! :)"}],"tags":[],"owner":{"account_id":2305374,"reputation":44549,"user_id":2024761,"display_name":"Rahul"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1363758882,"creation_date":1363757724,"answer_id":15516104,"question_id":15516036,"body_markdown":"    scan.nextLine();\r\n\r\nPut this piece of code inside your `catch` block, to consume the non integer character along with the new line character which is stays in the buffer(hence, infinitely printing the catch sysout), in the case where you&#39;ve given a wrong input.\r\n\r\nOfcourse, there are other cleaner ways to achieve what you want, but I guess that will require some refactoring in your code.","title":"Scanner keeps skipping input whist using nextInt() and loops","body":"<pre><code>scan.nextLine();\n</code></pre>\n\n<p>Put this piece of code inside your <code>catch</code> block, to consume the non integer character along with the new line character which is stays in the buffer(hence, infinitely printing the catch sysout), in the case where you've given a wrong input.</p>\n\n<p>Ofcourse, there are other cleaner ways to achieve what you want, but I guess that will require some refactoring in your code.</p>\n"},{"tags":[],"owner":{"account_id":1816200,"reputation":18958,"user_id":1651233,"accept_rate":67,"display_name":"BobTheBuilder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1363757724,"creation_date":1363757724,"answer_id":15516105,"question_id":15516036,"body_markdown":"Use the following:\r\n\r\n    while (!capacityCheck) {\r\n            System.out.println(&quot;Capacity&quot;);\r\n            String input = scan.nextLine();\r\n            try {\r\n                capacity = Integer.parseInt(input );\r\n                capacityCheck = true;\r\n            } catch (NumberFormatException e) {\r\n                System.out.println(&quot;Capacity must be an integer&quot;);\r\n            }\r\n        }\r\n","title":"Scanner keeps skipping input whist using nextInt() and loops","body":"<p>Use the following:</p>\n\n<pre><code>while (!capacityCheck) {\n        System.out.println(\"Capacity\");\n        String input = scan.nextLine();\n        try {\n            capacity = Integer.parseInt(input );\n            capacityCheck = true;\n        } catch (NumberFormatException e) {\n            System.out.println(\"Capacity must be an integer\");\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2496071,"reputation":927,"user_id":2172423,"accept_rate":30,"display_name":"Kim Honoridez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1363757794,"creation_date":1363757794,"answer_id":15516114,"question_id":15516036,"body_markdown":"Try this :\r\n\r\n    while (!capacityCheck) {\r\n        try {\r\n            System.out.println(&quot;Capacity&quot;);\r\n            capacity = scan.nextInt();\r\n            capacityCheck = true;\r\n        } catch (InputMismatchException e) {\r\n            System.out.println(&quot;Capacity must be an integer&quot;);\r\n            scan.nextLine();\r\n        }\r\n    }","title":"Scanner keeps skipping input whist using nextInt() and loops","body":"<p>Try this :</p>\n\n<pre><code>while (!capacityCheck) {\n    try {\n        System.out.println(\"Capacity\");\n        capacity = scan.nextInt();\n        capacityCheck = true;\n    } catch (InputMismatchException e) {\n        System.out.println(\"Capacity must be an integer\");\n        scan.nextLine();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1867908,"reputation":4350,"user_id":1690982,"display_name":"ddmps"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1363758002,"creation_date":1363758002,"answer_id":15516152,"question_id":15516036,"body_markdown":"I see no need for a try/catch or `capacityCheck` as we have access to the method `hasNextInt()` - which checks if the next token is an int. For instance this should do what you want:\r\n\r\n\t\twhile (!scan.hasNextInt()) { //as long as the next is not a int - say you need to input an int and move forward to the next token.\r\n\t\t\tSystem.out.println(&quot;Capacity must be an integer&quot;);\r\n\t\t\tscan.next();\r\n\t\t}\r\n\t\tcapacity = scan.nextInt(); //scan.hasNextInt() returned true in the while-clause so this will be valid.\r\n\r\n","title":"Scanner keeps skipping input whist using nextInt() and loops","body":"<p>I see no need for a try/catch or <code>capacityCheck</code> as we have access to the method <code>hasNextInt()</code> - which checks if the next token is an int. For instance this should do what you want:</p>\n\n<pre><code>    while (!scan.hasNextInt()) { //as long as the next is not a int - say you need to input an int and move forward to the next token.\n        System.out.println(\"Capacity must be an integer\");\n        scan.next();\n    }\n    capacity = scan.nextInt(); //scan.hasNextInt() returned true in the while-clause so this will be valid.\n</code></pre>\n"}],"owner":{"account_id":231097,"reputation":1471,"user_id":495123,"accept_rate":62,"display_name":"Matt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2532,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":5,"score":1,"last_activity_date":1683709569,"creation_date":1363757426,"question_id":15516036,"body_markdown":"I am using a while loop to make sure that the value entered to a scanner object is an integer as such:\r\n\r\n    while (!capacityCheck) {\r\n            try {\r\n                System.out.println(&quot;Capacity&quot;);\r\n                capacity = scan.nextInt();\r\n                capacityCheck = true;\r\n            } catch (InputMismatchException e) {\r\n                System.out.println(&quot;Capacity must be an integer&quot;);\r\n            }\r\n        }\r\n\r\nhowever, if the user does not enter an integer, when it should go back and take another input it just repeatedly prints  &quot;Capacity&quot; followed by the output in the catch without asking for more input. How do I stop this?","title":"Scanner keeps skipping input whist using nextInt() and loops","body":"<p>I am using a while loop to make sure that the value entered to a scanner object is an integer as such:</p>\n\n<pre><code>while (!capacityCheck) {\n        try {\n            System.out.println(\"Capacity\");\n            capacity = scan.nextInt();\n            capacityCheck = true;\n        } catch (InputMismatchException e) {\n            System.out.println(\"Capacity must be an integer\");\n        }\n    }\n</code></pre>\n\n<p>however, if the user does not enter an integer, when it should go back and take another input it just repeatedly prints  \"Capacity\" followed by the output in the catch without asking for more input. How do I stop this?</p>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":260780,"reputation":16208,"user_id":544557,"display_name":"Jim Balter"},"score":0,"creation_date":1386365897,"post_id":20433986,"comment_id":30524267,"body_markdown":"gen.charAt(0) doesn&#39;t have anything to do with what NextLine does to advance -- it accesses the first (0th) char in gen, which is a representation of the line already read.","body":"gen.charAt(0) doesn&#39;t have anything to do with what NextLine does to advance -- it accesses the first (0th) char in gen, which is a representation of the line already read."}],"answers":[{"tags":[],"owner":{"account_id":4077914,"reputation":108,"user_id":3349075,"display_name":"FlutterDashie"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1393447157,"creation_date":1393445859,"answer_id":22052323,"question_id":20433986,"body_markdown":"As Jim said in the comment, `charAt(0)` is unrelated to `next()` vs. `nextLine()`.\r\n`charAt(0)` is reading from the `String` *read from* the `Scanner`, not reading directly from the `Scanner` itself.\r\n\r\nErgo, where the pointer is makes no difference (to the best of my knowledge) to what is being read by `charAt(0)`. Hopefully that clears it up a bit.","title":".nextLine() versus .next()?","body":"<p>As Jim said in the comment, <code>charAt(0)</code> is unrelated to <code>next()</code> vs. <code>nextLine()</code>.\n<code>charAt(0)</code> is reading from the <code>String</code> <em>read from</em> the <code>Scanner</code>, not reading directly from the <code>Scanner</code> itself.</p>\n\n<p>Ergo, where the pointer is makes no difference (to the best of my knowledge) to what is being read by <code>charAt(0)</code>. Hopefully that clears it up a bit.</p>\n"}],"owner":{"account_id":3368348,"reputation":83,"user_id":2828292,"accept_rate":43,"display_name":"NaC114"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1683709549,"creation_date":1386365707,"question_id":20433986,"body_markdown":"and thank you for your time,\r\n\r\nI&#39;ve been coding for a month now, and a couple of times I have an issue regarding `nextLine`:\r\n\r\n            gen = sc.nextLine();\r\n            ge = gen.charAt(0);\r\n\r\nIn this case there is an issue because from what I read &quot;The `nextLine()` method scans everything on the current line and then advances the pointer past that line. So when you call the `charAt()` method, you are calling it on the next line, which is blank space, and thus an error is occuring.&quot;\r\n\r\nMy question is, if `nextLine` may cause this kind of problem, what is the point of using it at all? I could simply put `.next()` for it to work.\r\n\r\n\r\n","title":".nextLine() versus .next()?","body":"<p>and thank you for your time,</p>\n\n<p>I've been coding for a month now, and a couple of times I have an issue regarding <code>nextLine</code>:</p>\n\n<pre><code>        gen = sc.nextLine();\n        ge = gen.charAt(0);\n</code></pre>\n\n<p>In this case there is an issue because from what I read \"The <code>nextLine()</code> method scans everything on the current line and then advances the pointer past that line. So when you call the <code>charAt()</code> method, you are calling it on the next line, which is blank space, and thus an error is occuring.\"</p>\n\n<p>My question is, if <code>nextLine</code> may cause this kind of problem, what is the point of using it at all? I could simply put <code>.next()</code> for it to work.</p>\n"},{"tags":["java","switch-statement","java.util.scanner"],"answers":[{"tags":[],"owner":{"account_id":234661,"reputation":9325,"user_id":500959,"accept_rate":84,"display_name":"austinbv"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1290807115,"creation_date":1290807115,"answer_id":4288655,"question_id":4288630,"body_markdown":"You either have to strip the newline character `\\n` from the user input or assume it&#39;s there in your switch statement.\r\n\r\nPretty much because you decided to use nextLine() the user input to the computer will look like this\r\n\r\n     f\\n\r\n\r\nSo just compare the strings accordingly!","title":"Java - nextLine(); within a switch statement","body":"<p>You either have to strip the newline character <code>\\n</code> from the user input or assume it's there in your switch statement.</p>\n\n<p>Pretty much because you decided to use nextLine() the user input to the computer will look like this</p>\n\n<pre><code> f\\n\n</code></pre>\n\n<p>So just compare the strings accordingly!</p>\n"},{"comments":[{"owner":{"account_id":20130,"reputation":279855,"user_id":47773,"accept_rate":52,"display_name":"Matthew Flaschen"},"score":0,"creation_date":1290809156,"post_id":4288669,"comment_id":4653156,"body_markdown":"See my comment to vic&#39;s answer.  It wouldn&#39;t compile.","body":"See my comment to vic&#39;s answer.  It wouldn&#39;t compile."}],"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1291371711,"creation_date":1290807270,"answer_id":4288669,"question_id":4288630,"body_markdown":"Switch selector can be only integer, short, char or enum. String cannot be used as a switch selector. \r\n\r\nIf I understood you correctly you would like to control your flow using words entered by user. If you have predefined list of words I&#39;d suggest you to use enum:\r\n\r\nenum Words {\r\n    start, stop, beep,\r\n}\r\n\r\nNow user enters a word beep. You can say:\r\n\r\n    Words command = Words.valueOf();\r\n    ///\r\n    switch (command) {\r\n        case start: /* start something */ break;\r\n        case stop: /* stop something */ break;\r\n        case beep: /* beep!!! */ break;\r\n        default: throw new IllegalArgumentException(&quot;Unknown command &quot; + command);\r\n    }","title":"Java - nextLine(); within a switch statement","body":"<p>Switch selector can be only integer, short, char or enum. String cannot be used as a switch selector. </p>\n\n<p>If I understood you correctly you would like to control your flow using words entered by user. If you have predefined list of words I'd suggest you to use enum:</p>\n\n<p>enum Words {\n    start, stop, beep,\n}</p>\n\n<p>Now user enters a word beep. You can say:</p>\n\n<pre><code>Words command = Words.valueOf();\n///\nswitch (command) {\n    case start: /* start something */ break;\n    case stop: /* stop something */ break;\n    case beep: /* beep!!! */ break;\n    default: throw new IllegalArgumentException(\"Unknown command \" + command);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13696,"reputation":17531,"user_id":27657,"accept_rate":65,"display_name":"javamonkey79"},"score":0,"creation_date":1290809391,"post_id":4288743,"comment_id":4653179,"body_markdown":"How did you get a simple link to a dropbox file?","body":"How did you get a simple link to a dropbox file?"},{"owner":{"account_id":675789,"reputation":51,"user_id":521804,"display_name":"Ben Smith"},"score":0,"creation_date":1290809546,"post_id":4288743,"comment_id":4653202,"body_markdown":"right click the file in explorer, dropbox, copy public link.\n\nany chance of some help with the problem? :P","body":"right click the file in explorer, dropbox, copy public link.  any chance of some help with the problem? :P"}],"tags":[],"owner":{"account_id":675789,"reputation":51,"user_id":521804,"display_name":"Ben Smith"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1290812791,"creation_date":1290808313,"answer_id":4288743,"question_id":4288630,"body_markdown":"OK I think I am too inept at Java and have put my question badly.\r\n\r\nWhen I take the users input it takes only 1 word, I want it to take everything they put basically, and when I use nextLine, this just skips the reading and takes me back to selecting a choice.","title":"Java - nextLine(); within a switch statement","body":"<p>OK I think I am too inept at Java and have put my question badly.</p>\n\n<p>When I take the users input it takes only 1 word, I want it to take everything they put basically, and when I use nextLine, this just skips the reading and takes me back to selecting a choice.</p>\n"},{"comments":[{"owner":{"account_id":675789,"reputation":51,"user_id":521804,"display_name":"Ben Smith"},"score":0,"creation_date":1290809803,"post_id":4288848,"comment_id":4653230,"body_markdown":"I still have the same problem, unless I&#39;ve misunderstood your answer, it&#39;s very likely since I haven&#39;t been programming for very long.","body":"I still have the same problem, unless I&#39;ve misunderstood your answer, it&#39;s very likely since I haven&#39;t been programming for very long."},{"owner":{"account_id":20130,"reputation":279855,"user_id":47773,"accept_rate":52,"display_name":"Matthew Flaschen"},"score":0,"creation_date":1290810249,"post_id":4288848,"comment_id":4653279,"body_markdown":"@Ben, I tested it with your code.  I had to comment out the calls to methods you didn&#39;t include.  Can you post your current code (you can edit the question and use the 101 button for formatting)?","body":"@Ben, I tested it with your code.  I had to comment out the calls to methods you didn&#39;t include.  Can you post your current code (you can edit the question and use the 101 button for formatting)?"},{"owner":{"account_id":675789,"reputation":51,"user_id":521804,"display_name":"Ben Smith"},"score":0,"creation_date":1290810760,"post_id":4288848,"comment_id":4653347,"body_markdown":"can&#39;t get the editor to work properly, hope you can make sense of that.\n\ni have put\n`dp=in.nextLine();`\n\nas you can see but that is what gives me the error.","body":"can&#39;t get the editor to work properly, hope you can make sense of that.  i have put <code>dp=in.nextLine();</code>  as you can see but that is what gives me the error."},{"owner":{"account_id":20130,"reputation":279855,"user_id":47773,"accept_rate":52,"display_name":"Matthew Flaschen"},"score":0,"creation_date":1290810915,"post_id":4288848,"comment_id":4653368,"body_markdown":"@Ben, right, but you didn&#39;t change the `String choice` line at the top.","body":"@Ben, right, but you didn&#39;t change the <code>String choice</code> line at the top."},{"owner":{"account_id":675789,"reputation":51,"user_id":521804,"display_name":"Ben Smith"},"score":0,"creation_date":1290811173,"post_id":4288848,"comment_id":4653399,"body_markdown":"done that, it compiles but now i&#39;m getting this when I type start and hit enter to bring up the menu:\n\n`java.lang.StringIndexOutOfBoundsException:\nString index out of range: 0 (in java.lang.String)`","body":"done that, it compiles but now i&#39;m getting this when I type start and hit enter to bring up the menu:  <code>java.lang.StringIndexOutOfBoundsException: String index out of range: 0 (in java.lang.String)</code>"},{"owner":{"account_id":675789,"reputation":51,"user_id":521804,"display_name":"Ben Smith"},"score":0,"creation_date":1290811781,"post_id":4288848,"comment_id":4653457,"body_markdown":"forgot to say which line it was on, so sorry\n\n`        ch=choice.charAt(0);`\n\nthanks for the help so far, it is very much appreicated","body":"forgot to say which line it was on, so sorry  `        ch=choice.charAt(0);`  thanks for the help so far, it is very much appreicated"},{"owner":{"account_id":20130,"reputation":279855,"user_id":47773,"accept_rate":52,"display_name":"Matthew Flaschen"},"score":0,"creation_date":1290812442,"post_id":4288848,"comment_id":4653523,"body_markdown":"@Ben, you need to do the same thing for `name` in the constructor.  Before I didn&#39;t realize `runApp` wasn&#39;t the first input code.","body":"@Ben, you need to do the same thing for <code>name</code> in the constructor.  Before I didn&#39;t realize <code>runApp</code> wasn&#39;t the first input code."}],"tags":[],"owner":{"account_id":20130,"reputation":279855,"user_id":47773,"accept_rate":52,"display_name":"Matthew Flaschen"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1290812363,"creation_date":1290809267,"answer_id":4288848,"question_id":4288630,"body_markdown":"Just use:\r\n\r\n    name=in.nextLine();\r\n\r\nand\r\n\r\n    String choice = in.nextLine();\r\n\r\nThis should be in the constructor, and at the top of runApp.\r\n\r\nThat way, you&#39;re not leaving the new line in the buffer (where it will be used for e.g. `dp`).\r\n\r\nYou should have:\r\n\r\n    dp=in.nextLine();\r\n\r\nas described in your question.\r\n\r\n","title":"Java - nextLine(); within a switch statement","body":"<p>Just use:</p>\n\n<pre><code>name=in.nextLine();\n</code></pre>\n\n<p>and</p>\n\n<pre><code>String choice = in.nextLine();\n</code></pre>\n\n<p>This should be in the constructor, and at the top of runApp.</p>\n\n<p>That way, you're not leaving the new line in the buffer (where it will be used for e.g. <code>dp</code>).</p>\n\n<p>You should have:</p>\n\n<pre><code>dp=in.nextLine();\n</code></pre>\n\n<p>as described in your question.</p>\n"}],"owner":{"account_id":675789,"reputation":51,"user_id":521804,"display_name":"Ben Smith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":4288848,"answer_count":4,"score":0,"last_activity_date":1683709529,"creation_date":1290806792,"question_id":4288630,"body_markdown":"I have a switch statement acting as a menu, in this I am trying to read the users input. Currently I am using `variable=in.next();` and this works. However it will only read one word and at points the user may need to enter more, so I tried using `variable=in.nextLine();`, which compiles, but when I run the program, I select my choice from the menu, and it skips the reading in and return to the menu.\r\n\r\nAny help would be appreciated, thanks :)\r\n","title":"Java - nextLine(); within a switch statement","body":"<p>I have a switch statement acting as a menu, in this I am trying to read the users input. Currently I am using <code>variable=in.next();</code> and this works. However it will only read one word and at points the user may need to enter more, so I tried using <code>variable=in.nextLine();</code>, which compiles, but when I run the program, I select my choice from the menu, and it skips the reading in and return to the menu.</p>\n\n<p>Any help would be appreciated, thanks :)</p>\n"},{"tags":["java","file","java.util.scanner","punctuation"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1303690473,"post_id":5772946,"comment_id":6615678,"body_markdown":"Scanner doesn&#39;t *have* punctuation. It has delimiters though.","body":"Scanner doesn&#39;t <i>have</i> punctuation. It has delimiters though."}],"answers":[{"tags":[],"owner":{"account_id":13508,"reputation":30357,"user_id":27198,"accept_rate":72,"display_name":"Itay Maman"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1303676485,"creation_date":1303676485,"answer_id":5773015,"question_id":5772946,"body_markdown":"Scanner has a `useDelimiter` method which lets you specify which characters will be considered as &#39;word breakers&#39;. The default delimiter is the whitespace pattern (so punctuations symbols will be included in the word)","title":"Punctuation and the .next() method","body":"<p>Scanner has a <code>useDelimiter</code> method which lets you specify which characters will be considered as 'word breakers'. The default delimiter is the whitespace pattern (so punctuations symbols will be included in the word)</p>\n"},{"tags":[],"owner":{"account_id":329612,"reputation":71055,"user_id":653230,"display_name":"WhiteFang34"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1303676512,"creation_date":1303676512,"answer_id":5773018,"question_id":5772946,"body_markdown":"The default delimiter for `Scanner` is whitespaces. So none of the examples you provided will be split. Why not try it yourself though?\r\n\r\n\tString input = &quot;That&#39;s a they are, her. They&#39;re here.&quot;;\r\n\tScanner scanner = new Scanner(input);\r\n\twhile (scanner.hasNext()) {\r\n\t\tSystem.out.println(scanner.next());\r\n\t}\r\n\r\nIf you did happen to want to split on something like `&#39;` and whitespaces you would use something like:\r\n\r\n\tScanner scanner = new Scanner(input).useDelimiter(&quot;[\\\\s&#39;]&quot;);","title":"Punctuation and the .next() method","body":"<p>The default delimiter for <code>Scanner</code> is whitespaces. So none of the examples you provided will be split. Why not try it yourself though?</p>\n\n<pre><code>String input = \"That's a they are, her. They're here.\";\nScanner scanner = new Scanner(input);\nwhile (scanner.hasNext()) {\n    System.out.println(scanner.next());\n}\n</code></pre>\n\n<p>If you did happen to want to split on something like <code>'</code> and whitespaces you would use something like:</p>\n\n<pre><code>Scanner scanner = new Scanner(input).useDelimiter(\"[\\\\s']\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":277663,"reputation":10486,"user_id":571783,"accept_rate":100,"display_name":"Aaron"},"score":0,"creation_date":1303682786,"post_id":5773020,"comment_id":6614847,"body_markdown":"Thanks for the output. Like I said in another comment, I guess I really should have tried it myself first! :)","body":"Thanks for the output. Like I said in another comment, I guess I really should have tried it myself first! :)"}],"tags":[],"owner":{"account_id":97818,"reputation":114824,"user_id":265143,"accept_rate":72,"display_name":"P&#233;ter T&#246;r&#246;k"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1303676566,"creation_date":1303676566,"answer_id":5773020,"question_id":5772946,"body_markdown":"I didn&#39;t know (only guessed), so I&#39;ve tried it myself:\r\n\r\n        String input = &quot;That&#39;s what they are, I told her. She said, it ain&#39;t so!&quot;;\r\n        Scanner s = new Scanner(input); // default delimiter is whitespaces\r\n        \r\n        while (s.hasNext()) {\r\n            System.out.println(s.next());\r\n        }\r\n\r\nOutput:\r\n\r\n    That&#39;s\r\n    what\r\n    they\r\n    are,\r\n    I\r\n    told\r\n    her.\r\n    She\r\n    said,\r\n    it\r\n    ain&#39;t\r\n    so!\r\n\r\n","title":"Punctuation and the .next() method","body":"<p>I didn't know (only guessed), so I've tried it myself:</p>\n\n<pre><code>    String input = \"That's what they are, I told her. She said, it ain't so!\";\n    Scanner s = new Scanner(input); // default delimiter is whitespaces\n\n    while (s.hasNext()) {\n        System.out.println(s.next());\n    }\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>That's\nwhat\nthey\nare,\nI\ntold\nher.\nShe\nsaid,\nit\nain't\nso!\n</code></pre>\n"}],"owner":{"account_id":277663,"reputation":10486,"user_id":571783,"accept_rate":100,"display_name":"Aaron"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8476,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":5773015,"answer_count":3,"score":0,"last_activity_date":1683709513,"creation_date":1303675771,"question_id":5772946,"body_markdown":"Does anyone know how the Scanner&#39;s .next() method treats punctuation? I couldn&#39;t find the answer to this anywhere. I have a program that&#39;s reading each word in from a text file and I am unsure of how it treats parts like &quot;that&#39;s&quot; or &quot;they are,&quot; or &quot;her.&quot;\r\n\r\nFor periods and commas, are they counted as a separate entity or are they considered part of the word if it occurs like &quot;her.&quot; or &quot;her,&quot;? Depending on what it does, are &quot;her&quot; and &quot;her.&quot; or &quot;her&quot; and &quot;her,&quot; considered two different words by the Scanner?\r\n\r\nFor apostrophes, do they get accounted for or do they effectively split the word in two? For example, would &quot;they&#39;re&quot; be recognized as &quot;they&quot; &quot;&#39;&quot; &quot;re&quot; or would it be recognized as &quot;they&#39;re&quot; altogether?\r\n\r\nI hope I came across clearly on this question.","title":"Punctuation and the .next() method","body":"<p>Does anyone know how the Scanner's .next() method treats punctuation? I couldn't find the answer to this anywhere. I have a program that's reading each word in from a text file and I am unsure of how it treats parts like \"that's\" or \"they are,\" or \"her.\"</p>\n\n<p>For periods and commas, are they counted as a separate entity or are they considered part of the word if it occurs like \"her.\" or \"her,\"? Depending on what it does, are \"her\" and \"her.\" or \"her\" and \"her,\" considered two different words by the Scanner?</p>\n\n<p>For apostrophes, do they get accounted for or do they effectively split the word in two? For example, would \"they're\" be recognized as \"they\" \"'\" \"re\" or would it be recognized as \"they're\" altogether?</p>\n\n<p>I hope I came across clearly on this question.</p>\n"},{"tags":["java","java.util.scanner","nosuchelementexception"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1395983124,"post_id":22704580,"comment_id":34596206,"body_markdown":"It looks like you&#39;re trying to put the whole file into a String.  This is dealt with at [What is simplest way to read a file into String?](http://stackoverflow.com/questions/3402735/what-is-simplest-way-to-read-a-file-into-string) which is why I voted to close as a duplicate of that one.  It&#39;s not that this is a bad question - it&#39;s a good one.  It&#39;s just that this has been done before.","body":"It looks like you&#39;re trying to put the whole file into a String.  This is dealt with at <a href=\"http://stackoverflow.com/questions/3402735/what-is-simplest-way-to-read-a-file-into-string\">What is simplest way to read a file into String?</a> which is why I voted to close as a duplicate of that one.  It&#39;s not that this is a bad question - it&#39;s a good one.  It&#39;s just that this has been done before."}],"answers":[{"tags":[],"owner":{"account_id":968830,"reputation":17562,"user_id":991778,"accept_rate":78,"display_name":"sanbhat"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1395983024,"creation_date":1395983024,"answer_id":22704602,"question_id":22704580,"body_markdown":"You should check `hasNext()` before calling `next()`. Probably there are no elements matching your criteria.\r\n\r\n\r\n    Scanner s = new Scanner(file);\r\n    s.useDelimiter(&quot;\\\\Z&quot;);\r\n    if(s.hasNext()) {\r\n       contents = s.next().toCharArray();\r\n    }","title":"exception in thread main java.util.nosuchelementexception with new Scanner(file)","body":"<p>You should check <code>hasNext()</code> before calling <code>next()</code>. Probably there are no elements matching your criteria.</p>\n\n<pre><code>Scanner s = new Scanner(file);\ns.useDelimiter(\"\\\\Z\");\nif(s.hasNext()) {\n   contents = s.next().toCharArray();\n}\n</code></pre>\n"}],"owner":{"account_id":1446318,"reputation":451,"user_id":1364658,"accept_rate":87,"display_name":"Lina"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1248,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":22704602,"answer_count":1,"score":2,"last_activity_date":1683709498,"creation_date":1395982905,"question_id":22704580,"body_markdown":"I have a problem with my code,I get this error all the time:\r\n\r\n    Exception in thread &quot;main&quot; java.util.NoSuchElementException\r\n    \tat java.util.Scanner.throwFor(Scanner.java:907)\r\n    \tat java.util.Scanner.next(Scanner.java:1416)\r\n    \tat audio.AudioSecrets.main(AudioSecrets.java:32)\r\n    Java Result: 1\r\n\r\nmy problem is this ligne:\r\n    \r\n\r\n    contents = new Scanner(file).useDelimiter(&quot;\\\\Z&quot;).next().toCharArray(); // \r\n\r\nThe `\\\\Z` delimiter in combination with `.next()` will read input until there isn&#39;t any left.\r\n\r\n\r\nhow can I input the file to my program,thanks for help \r\n","title":"exception in thread main java.util.nosuchelementexception with new Scanner(file)","body":"<p>I have a problem with my code,I get this error all the time:</p>\n\n<pre><code>Exception in thread \"main\" java.util.NoSuchElementException\n    at java.util.Scanner.throwFor(Scanner.java:907)\n    at java.util.Scanner.next(Scanner.java:1416)\n    at audio.AudioSecrets.main(AudioSecrets.java:32)\nJava Result: 1\n</code></pre>\n\n<p>my problem is this ligne:</p>\n\n<pre><code>contents = new Scanner(file).useDelimiter(\"\\\\Z\").next().toCharArray(); // \n</code></pre>\n\n<p>The <code>\\\\Z</code> delimiter in combination with <code>.next()</code> will read input until there isn't any left.</p>\n\n<p>how can I input the file to my program,thanks for help </p>\n"},{"tags":["java","java.util.scanner"],"answers":[{"comments":[{"owner":{"account_id":4629530,"reputation":943,"user_id":3752432,"accept_rate":81,"display_name":"Axion004"},"score":0,"creation_date":1406479841,"post_id":24983170,"comment_id":38838575,"body_markdown":"Thank You, I will look into implementing scan.next(). I may have to delete the if and else statements.","body":"Thank You, I will look into implementing scan.next(). I may have to delete the if and else statements."}],"tags":[],"owner":{"account_id":20026,"reputation":80588,"user_id":47453,"accept_rate":88,"display_name":"Bill Lynch"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1406479699,"creation_date":1406479699,"answer_id":24983170,"question_id":24983136,"body_markdown":"Note that [`Scanner.nextLine()`](http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#nextLine()) consumes data from the scanner. So in this example:\r\n\r\n    if(scan.nextLine().toString() == &quot;Male&quot;)\r\n    {\r\n        male = new JRadioButton(&quot;Male&quot;, true);\r\n    }\r\n    else if(scan.nextLine().toString() == &quot;Female&quot;)\r\n    {\r\n        female = new JRadioButton(&quot;Female&quot;, true);\r\n    }\r\n\r\non the first if statement, you&#39;ll consume data from the scanner, and if the conditional is false, you&#39;ll then consume whatever follows it within the else-if statement.\r\n\r\nYou probably just want to do `String input = scan.nextLine();` and then compare against that stored string.","title":"Scanner hasNext() doesn&#39;t match correctly inside if statements","body":"<p>Note that <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#nextLine()\" rel=\"nofollow\"><code>Scanner.nextLine()</code></a> consumes data from the scanner. So in this example:</p>\n\n<pre><code>if(scan.nextLine().toString() == \"Male\")\n{\n    male = new JRadioButton(\"Male\", true);\n}\nelse if(scan.nextLine().toString() == \"Female\")\n{\n    female = new JRadioButton(\"Female\", true);\n}\n</code></pre>\n\n<p>on the first if statement, you'll consume data from the scanner, and if the conditional is false, you'll then consume whatever follows it within the else-if statement.</p>\n\n<p>You probably just want to do <code>String input = scan.nextLine();</code> and then compare against that stored string.</p>\n"}],"owner":{"account_id":4629530,"reputation":943,"user_id":3752432,"accept_rate":81,"display_name":"Axion004"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":721,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":24983170,"answer_count":1,"score":0,"last_activity_date":1683709454,"creation_date":1406479462,"question_id":24983136,"body_markdown":"I have created the following code through making a while loop. I cannot tell why the loop is set to look at 17 lines and not 15 lines.\r\n\r\n    while (scan.hasNext())\r\n    \t\t\t\t{\t\t\t\r\n    \t\t\t\t\tselectedUserName.setText(scan.next());\r\n    \t\t\t\t\tif(scan.nextLine().toString() == &quot;Male&quot;)\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tmale = new JRadioButton(&quot;Male&quot;, true);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\telse if(scan.nextLine().toString() == &quot;Female&quot;)\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tfemale = new JRadioButton(&quot;Female&quot;, true);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tselectedGenderText.setText(scan.nextLine());\r\n    \t\t\t\t\tif(scan.next().toString() == &quot;Warrior&quot;)\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tuserClassBox.setSelectedItem(classes[0]);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\telse if(scan.next().toString() == &quot;Barbarian&quot;)\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tuserClassBox.setSelectedItem(classes[1]);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\telse if(scan.next().toString() == &quot;Mage&quot;)\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tuserClassBox.setSelectedItem(classes[2]);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\telse if(scan.next().toString() == &quot;Thief&quot;) \r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tuserClassBox.setSelectedItem(classes[3]);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tselectedClassText.setText(scan.nextLine());\r\n    \t\t\t\t\tpointsText.setText(scan.nextLine());\r\n    \t\t\t\t\tpointsSlider.setValue(Integer.parseInt(scan.nextLine()));\r\n    \t\t\t\t\tintelligenceText.setText(scan.nextLine());\r\n    \t\t\t\t\tintelligenceSlider.setValue(Integer.parseInt(scan.nextLine()));\r\n    \t\t\t\t\tdexterityText.setText(scan.nextLine());\r\n    \t\t\t\t\tdexteritySlider.setValue(Integer.parseInt(scan.nextLine()));\r\n    \t\t\t\t\tstrengthText.setText(scan.nextLine());\r\n    \t\t\t\t\tstrengthSlider.setValue(Integer.parseInt(scan.nextLine()));\r\n    \t\t\t\t\twisdomText.setText(scan.nextLine());\r\n    \t\t\t\t\twisdomSlider.setValue(Integer.parseInt(scan.nextLine()));\r\n    \t\t\t\t}\r\n\r\nMy input file has 15 lines to match the code above, \r\n\r\n    Warrior\r\n    Male\r\n    Male\r\n    Warrior\r\n    Warrior\r\n    0\r\n    0\r\n    10\r\n    10\r\n    30\r\n    30\r\n    60\r\n    60\r\n    0\r\n    0\r\n\r\nDo the if/else statements reference two new lines? When I run the program it gets stuck on the following line-\r\n\r\n    Exception in thread &quot;AWT-EventQueue-0&quot; java.util.NoSuchElementException: No line found\r\n    \tat java.util.Scanner.nextLine(Unknown Source)\r\n    \tat CharacterCreation$OpenCharListener.actionPerformed(CharacterCreation.java:450)\r\n    \tat javax.swing.AbstractButton.fireActionPerformed(Unknown Source)\r\n    \tat javax.swing.AbstractButton$Handler.actionPerformed(Unknown Source)\r\n    \tat javax.swing.DefaultButtonModel.fireActionPerformed(Unknown Source)\r\n\r\n\r\nThis reference the last two lines starting at -\r\n\r\n\t\t\t\t\twisdomText.setText(scan.nextLine());\r\n\t\t\t\t\twisdomSlider.setValue(Integer.parseInt(scan.nextLine()));\r\n\r\nWhy does the .nextLine() functionality look at 17 lines instead of 15?\r\n\r\n\r\n\r\n","title":"Scanner hasNext() doesn&#39;t match correctly inside if statements","body":"<p>I have created the following code through making a while loop. I cannot tell why the loop is set to look at 17 lines and not 15 lines.</p>\n\n<pre><code>while (scan.hasNext())\n                {           \n                    selectedUserName.setText(scan.next());\n                    if(scan.nextLine().toString() == \"Male\")\n                    {\n                        male = new JRadioButton(\"Male\", true);\n                    }\n                    else if(scan.nextLine().toString() == \"Female\")\n                    {\n                        female = new JRadioButton(\"Female\", true);\n                    }\n                    selectedGenderText.setText(scan.nextLine());\n                    if(scan.next().toString() == \"Warrior\")\n                    {\n                        userClassBox.setSelectedItem(classes[0]);\n                    }\n                    else if(scan.next().toString() == \"Barbarian\")\n                    {\n                        userClassBox.setSelectedItem(classes[1]);\n                    }\n                    else if(scan.next().toString() == \"Mage\")\n                    {\n                        userClassBox.setSelectedItem(classes[2]);\n                    }\n                    else if(scan.next().toString() == \"Thief\") \n                    {\n                        userClassBox.setSelectedItem(classes[3]);\n                    }\n                    selectedClassText.setText(scan.nextLine());\n                    pointsText.setText(scan.nextLine());\n                    pointsSlider.setValue(Integer.parseInt(scan.nextLine()));\n                    intelligenceText.setText(scan.nextLine());\n                    intelligenceSlider.setValue(Integer.parseInt(scan.nextLine()));\n                    dexterityText.setText(scan.nextLine());\n                    dexteritySlider.setValue(Integer.parseInt(scan.nextLine()));\n                    strengthText.setText(scan.nextLine());\n                    strengthSlider.setValue(Integer.parseInt(scan.nextLine()));\n                    wisdomText.setText(scan.nextLine());\n                    wisdomSlider.setValue(Integer.parseInt(scan.nextLine()));\n                }\n</code></pre>\n\n<p>My input file has 15 lines to match the code above, </p>\n\n<pre><code>Warrior\nMale\nMale\nWarrior\nWarrior\n0\n0\n10\n10\n30\n30\n60\n60\n0\n0\n</code></pre>\n\n<p>Do the if/else statements reference two new lines? When I run the program it gets stuck on the following line-</p>\n\n<pre><code>Exception in thread \"AWT-EventQueue-0\" java.util.NoSuchElementException: No line found\n    at java.util.Scanner.nextLine(Unknown Source)\n    at CharacterCreation$OpenCharListener.actionPerformed(CharacterCreation.java:450)\n    at javax.swing.AbstractButton.fireActionPerformed(Unknown Source)\n    at javax.swing.AbstractButton$Handler.actionPerformed(Unknown Source)\n    at javax.swing.DefaultButtonModel.fireActionPerformed(Unknown Source)\n</code></pre>\n\n<p>This reference the last two lines starting at -</p>\n\n<pre><code>                wisdomText.setText(scan.nextLine());\n                wisdomSlider.setValue(Integer.parseInt(scan.nextLine()));\n</code></pre>\n\n<p>Why does the .nextLine() functionality look at 17 lines instead of 15?</p>\n"},{"tags":["java","while-loop","io","java.util.scanner"],"comments":[{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":0,"creation_date":1523267217,"post_id":49729939,"comment_id":86473529,"body_markdown":"add a `scanner.nextLine()` before the loop.","body":"add a <code>scanner.nextLine()</code> before the loop."},{"owner":{"account_id":7300157,"reputation":3873,"user_id":7937498,"display_name":"Itoun"},"score":0,"creation_date":1523267319,"post_id":49729939,"comment_id":86473588,"body_markdown":"create the name String out of your loop and just assigne it to the return of the scanner.","body":"create the name String out of your loop and just assigne it to the return of the scanner."},{"owner":{"account_id":1816046,"reputation":1389,"user_id":1651107,"accept_rate":100,"display_name":"Piro"},"score":0,"creation_date":1523267733,"post_id":49729939,"comment_id":86473853,"body_markdown":"Possible duplicate of [Scanner is skipping nextLine() after using next() or nextFoo()?](https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\">Scanner is skipping nextLine() after using next() or nextFoo()?</a>"}],"answers":[{"tags":[],"owner":{"account_id":121881,"reputation":20677,"user_id":315306,"accept_rate":90,"display_name":"Raffaele"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1523268281,"creation_date":1523268281,"answer_id":49730360,"question_id":49729939,"body_markdown":"If you read `numHeroes` with `Scanner.nextInt` a newline character remains in its buffer and thus an empty string is returned by the following `Scanner.nextLine`, effectively resulting in a sequence of two consecutive `Scanner.nextLine()` to get the first hero name.\r\n\r\nIn the following code I suggest you read the number of heroes with `Integer.parseInt(scanner.nextLine)` and, as a matter of style, don&#39;t use a local variable `count` since it&#39;s implicitely bound to the size of the `heroNames` collection:\r\n\r\n    Scanner scanner = new Scanner(System.in);\r\n    List&lt;String&gt; heroNames = new ArrayList&lt;&gt;();\r\n\r\n    int numHeroes;\r\n\r\n    System.out.println(&quot;How many heroes do you want to play with?&quot;);\r\n    \r\n    while (true) {\r\n        try {\r\n            numHeroes = Integer.parseInt(scanner.nextLine());\r\n            break;\r\n        } catch (NumberFormatException e) {\r\n            // continue\r\n        }\r\n    }\r\n\r\n    while (heroNames.size() &lt; numHeroes) {\r\n        System.out.println(&quot;Type hero name (&quot;\r\n                + (numHeroes - heroNames.size()) + &quot;/&quot; + numHeroes + &quot; missing):&quot;);\r\n        String name = scanner.nextLine();\r\n        if (heroNames.contains(name)) {\r\n            System.out.println(name + &quot; already given. Type a different one:&quot;);\r\n        } else if (name != null &amp;&amp; !name.isEmpty()) {\r\n            heroNames.add(name);\r\n        }\r\n    }\r\n    \r\n    System.out.println(&quot;Hero names: &quot; + heroNames);","title":"Java while loop skips first iteration for user input","body":"<p>If you read <code>numHeroes</code> with <code>Scanner.nextInt</code> a newline character remains in its buffer and thus an empty string is returned by the following <code>Scanner.nextLine</code>, effectively resulting in a sequence of two consecutive <code>Scanner.nextLine()</code> to get the first hero name.</p>\n\n<p>In the following code I suggest you read the number of heroes with <code>Integer.parseInt(scanner.nextLine)</code> and, as a matter of style, don't use a local variable <code>count</code> since it's implicitely bound to the size of the <code>heroNames</code> collection:</p>\n\n<pre><code>Scanner scanner = new Scanner(System.in);\nList&lt;String&gt; heroNames = new ArrayList&lt;&gt;();\n\nint numHeroes;\n\nSystem.out.println(\"How many heroes do you want to play with?\");\n\nwhile (true) {\n    try {\n        numHeroes = Integer.parseInt(scanner.nextLine());\n        break;\n    } catch (NumberFormatException e) {\n        // continue\n    }\n}\n\nwhile (heroNames.size() &lt; numHeroes) {\n    System.out.println(\"Type hero name (\"\n            + (numHeroes - heroNames.size()) + \"/\" + numHeroes + \" missing):\");\n    String name = scanner.nextLine();\n    if (heroNames.contains(name)) {\n        System.out.println(name + \" already given. Type a different one:\");\n    } else if (name != null &amp;&amp; !name.isEmpty()) {\n        heroNames.add(name);\n    }\n}\n\nSystem.out.println(\"Hero names: \" + heroNames);\n</code></pre>\n"}],"owner":{"account_id":13325588,"reputation":3,"user_id":9618628,"display_name":"Flynn Lange"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1521,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":49730360,"answer_count":1,"score":0,"last_activity_date":1683709415,"creation_date":1523266948,"question_id":49729939,"body_markdown":"I am making a game and currently I need to set the names for the &#39;heroes&#39;! This requires the player to enter a name for the heroes. \r\nThe thing is, when it asks for the name of hero 1 in the console, it just skips over and goes straight to hero 2. \r\nIf I use  .next() instead of .nextLine(), it works, but it interpreted any names with a space in them as two different names!\r\n\r\nHere is the code, I hope that make sense! Thanks all in advance :)\r\n\r\n    public void heroNames() //sets the name of heroes\r\n\t{\r\n\t\tint count = 1;\r\n\t\twhile (count &lt;= numHeroes)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Enter a name for hero number &quot; + count);\r\n\t\t\tString name = scanner.nextLine(); \r\n\t\t\tif(heroNames.contains(name)) //bug needs to be fixed here - does not wait for user input for first hero name\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;You already have a hero with this name. Please choose another name!&quot;);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\theroNames.add(name);\r\n\t\t\t\tcount++; //increases count by 1 to move to next hero\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n ","title":"Java while loop skips first iteration for user input","body":"<p>I am making a game and currently I need to set the names for the 'heroes'! This requires the player to enter a name for the heroes. \nThe thing is, when it asks for the name of hero 1 in the console, it just skips over and goes straight to hero 2. \nIf I use  .next() instead of .nextLine(), it works, but it interpreted any names with a space in them as two different names!</p>\n\n<p>Here is the code, I hope that make sense! Thanks all in advance :)</p>\n\n<pre><code>public void heroNames() //sets the name of heroes\n{\n    int count = 1;\n    while (count &lt;= numHeroes)\n    {\n        System.out.println(\"Enter a name for hero number \" + count);\n        String name = scanner.nextLine(); \n        if(heroNames.contains(name)) //bug needs to be fixed here - does not wait for user input for first hero name\n        {\n            System.out.println(\"You already have a hero with this name. Please choose another name!\");\n        }\n        else\n        {\n            heroNames.add(name);\n            count++; //increases count by 1 to move to next hero\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","input","java.util.scanner","newline"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1613535846,"post_id":66235554,"comment_id":117101716,"body_markdown":"Which is line 27?","body":"Which is line 27?"},{"owner":{"account_id":18682665,"reputation":1535,"user_id":13618871,"display_name":"AKSingh"},"score":0,"creation_date":1613536147,"post_id":66235554,"comment_id":117101773,"body_markdown":"The token which your `scnr.nextInt()` is trying to ***read*** is `Chocolate Chips`. Hence, the `InputMismatchException`.","body":"The token which your <code>scnr.nextInt()</code> is trying to <b><i>read</i></b> is <code>Chocolate Chips</code>. Hence, the <code>InputMismatchException</code>."},{"owner":{"account_id":19793989,"reputation":61,"user_id":14496343,"display_name":"sxy"},"score":0,"creation_date":1613536627,"post_id":66235554,"comment_id":117101869,"body_markdown":"Line 27 is ```//scnr.nextLine();```","body":"Line 27 is <code>&#47;&#47;scnr.nextLine();</code>"},{"owner":{"account_id":19793989,"reputation":61,"user_id":14496343,"display_name":"sxy"},"score":0,"creation_date":1613536676,"post_id":66235554,"comment_id":117101880,"body_markdown":"why the ```scnr.nextInt()``` is not try to read ```Chocolate Chips\\n3\\n1``` but only ```Chocolate Chips``` ?","body":"why the <code>scnr.nextInt()</code> is not try to read <code>Chocolate Chips\\n3\\n1</code> but only <code>Chocolate Chips</code> ?"},{"owner":{"account_id":19793989,"reputation":61,"user_id":14496343,"display_name":"sxy"},"score":0,"creation_date":1613536763,"post_id":66235554,"comment_id":117101893,"body_markdown":"No, the question explaned ```nextInt()``` doesn&#39;t read the ```/n```, but it didn&#39;t say why ```nextInt()``` won&#39;t read ```Chocolate Chips\\n3\\n1``` but only ```Chocolate Chips```","body":"No, the question explaned <code>nextInt()</code> doesn&#39;t read the <code>&#47;n</code>, but it didn&#39;t say why <code>nextInt()</code> won&#39;t read <code>Chocolate Chips\\n3\\n1</code> but only <code>Chocolate Chips</code>"}],"answers":[{"comments":[{"owner":{"account_id":19793989,"reputation":61,"user_id":14496343,"display_name":"sxy"},"score":0,"creation_date":1613536486,"post_id":66235759,"comment_id":117101829,"body_markdown":"But why wouldn&#39;t the ```scnr.nextInt() ``` ignores the string after the newline, and continue to read the integer after it?","body":"But why wouldn&#39;t the <code>scnr.nextInt() </code> ignores the string after the newline, and continue to read the integer after it?"},{"owner":{"account_id":2465829,"reputation":11057,"user_id":2148953,"accept_rate":96,"display_name":"aran"},"score":0,"creation_date":1613536618,"post_id":66235759,"comment_id":117101866,"body_markdown":"nextInt() is reading an String, your input for productName. But your productName was already assigned the line separator. So you enter &quot;apples&quot; and the scanner&#39;s call is nextInt().","body":"nextInt() is reading an String, your input for productName. But your productName was already assigned the line separator. So you enter &quot;apples&quot; and the scanner&#39;s call is nextInt()."},{"owner":{"account_id":19793989,"reputation":61,"user_id":14496343,"display_name":"sxy"},"score":0,"creation_date":1613536844,"post_id":66235759,"comment_id":117101904,"body_markdown":"Thank you for answering me so patiently. Why the ```scnr.nextInt()``` is not try to read ```Chocolate Chips\\n3\\n1``` but only ```Chocolate Chips``` ?","body":"Thank you for answering me so patiently. Why the <code>scnr.nextInt()</code> is not try to read <code>Chocolate Chips\\n3\\n1</code> but only <code>Chocolate Chips</code> ?"},{"owner":{"account_id":2465829,"reputation":11057,"user_id":2148953,"accept_rate":96,"display_name":"aran"},"score":0,"creation_date":1613536956,"post_id":66235759,"comment_id":117101928,"body_markdown":"First you call nextLine(), which ends at `\\n`. Then the nextInt() reads 3. Then nextInt reads 1, because it skips everything until an int is found","body":"First you call nextLine(), which ends at <code>\\n</code>. Then the nextInt() reads 3. Then nextInt reads 1, because it skips everything until an int is found"},{"owner":{"account_id":2465829,"reputation":11057,"user_id":2148953,"accept_rate":96,"display_name":"aran"},"score":0,"creation_date":1613536992,"post_id":66235759,"comment_id":117101934,"body_markdown":"https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#nextInt() *the token is converted into an int value as if by removing all locale specific prefixes, group separators, and locale specific suffixes,*","body":"<a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#nextInt()\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/&hellip;</a> <i>the token is converted into an int value as if by removing all locale specific prefixes, group separators, and locale specific suffixes,</i>"},{"owner":{"account_id":2465829,"reputation":11057,"user_id":2148953,"accept_rate":96,"display_name":"aran"},"score":0,"creation_date":1613537081,"post_id":66235759,"comment_id":117101954,"body_markdown":"In order to solve it, it&#39;s easy: delete the println() before the 2nd product name","body":"In order to solve it, it&#39;s easy: delete the println() before the 2nd product name"},{"owner":{"account_id":7537037,"reputation":4882,"user_id":7098259,"display_name":"Patrick Parker"},"score":0,"creation_date":1613541336,"post_id":66235759,"comment_id":117102895,"body_markdown":"println is output, which has absolutely nothing to do with your input stream","body":"println is output, which has absolutely nothing to do with your input stream"}],"tags":[],"owner":{"account_id":2465829,"reputation":11057,"user_id":2148953,"accept_rate":96,"display_name":"aran"},"comment_count":7,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1613536730,"creation_date":1613535945,"answer_id":66235759,"question_id":66235554,"body_markdown":"      System.out.println();\r\n      productName = scnr.nextLine();\r\n\r\nThe productName is assigned `System.lineSeparator` value here, because you just printed a new line. When you believe you&#39;re inserting the productName, you really are inserting the value that `nextInt()` will read here:\r\n\r\n     productPrice = scnr.nextInt(); //this will read the text you wanted for productName","title":"Java Scanner next() reading range question","body":"<pre><code>  System.out.println();\n  productName = scnr.nextLine();\n</code></pre>\n<p>The productName is assigned <code>System.lineSeparator</code> value here, because you just printed a new line. When you believe you're inserting the productName, you really are inserting the value that <code>nextInt()</code> will read here:</p>\n<pre><code> productPrice = scnr.nextInt(); //this will read the text you wanted for productName\n</code></pre>\n"},{"comments":[{"owner":{"account_id":19793989,"reputation":61,"user_id":14496343,"display_name":"sxy"},"score":0,"creation_date":1613536568,"post_id":66235790,"comment_id":117101852,"body_markdown":"Thank you for answing, but I still don&#39;t understand why the ```scnr.nextLine();``` will not scape the string &quot;Chocolate Chips&quot; and read the next integer?","body":"Thank you for answing, but I still don&#39;t understand why the <code>scnr.nextLine();</code> will not scape the string &quot;Chocolate Chips&quot; and read the next integer?"},{"owner":{"account_id":19702993,"reputation":145,"user_id":14425335,"display_name":"Vyom Yadav"},"score":0,"creation_date":1613536896,"post_id":66235790,"comment_id":117101916,"body_markdown":"That&#39;s because the `scnr.nextInt()` method does not read the newline character in your input. The newline character i.e. `\\n` is also a String and is written before Chocolate Chips, when you come on the 2nd one `productName` will read `\\n` as its input and when `productPrice` tries to read an `int`, it can&#39;t find one and throws an exception.","body":"That&#39;s because the <code>scnr.nextInt()</code> method does not read the newline character in your input. The newline character i.e. <code>\\n</code> is also a String and is written before Chocolate Chips, when you come on the 2nd one <code>productName</code> will read <code>\\n</code> as its input and when <code>productPrice</code> tries to read an <code>int</code>, it can&#39;t find one and throws an exception."},{"owner":{"account_id":19702993,"reputation":145,"user_id":14425335,"display_name":"Vyom Yadav"},"score":0,"creation_date":1613537209,"post_id":66235790,"comment_id":117101979,"body_markdown":"The method is `nextInt()` or `nextLine()`, so it will read the next one, not the ones before. Try changing your input String to `Chocolate Chips\\n3\\n1\\nChocolate Chips\\n348\\n1484` to see that is parses the string one by one.","body":"The method is <code>nextInt()</code> or <code>nextLine()</code>, so it will read the next one, not the ones before. Try changing your input String to <code>Chocolate Chips\\n3\\n1\\nChocolate Chips\\n348\\n1484</code> to see that is parses the string one by one."}],"tags":[],"owner":{"account_id":19702993,"reputation":145,"user_id":14425335,"display_name":"Vyom Yadav"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1613536221,"creation_date":1613536221,"answer_id":66235790,"question_id":66235554,"body_markdown":"**There is a little fault in your code**&lt;br /&gt;\r\n`//scnr.nextLine();` this line is important to read `\\n` before Chocolate Chips, If you wont use a dummy `scnr.nextLine();` to read the new line then the new line will be read over here-\r\n```\r\nproductName = scnr.nextLine();\r\n      System.out.println(&quot;2nd Name &quot; + productName);\r\n```\r\nHere the `productName` will have the value `\\n` and when it tries to read-\r\n```\r\nproductPrice = scnr.nextInt();\r\n      System.out.println(&quot;2nd Price &quot; + productPrice);\r\n```\r\nIt expects to read an `int` but finds an `String` hence throws an exception.\r\n","title":"Java Scanner next() reading range question","body":"<p><strong>There is a little fault in your code</strong><br />\n<code>//scnr.nextLine();</code> this line is important to read <code>\\n</code> before Chocolate Chips, If you wont use a dummy <code>scnr.nextLine();</code> to read the new line then the new line will be read over here-</p>\n<pre><code>productName = scnr.nextLine();\n      System.out.println(&quot;2nd Name &quot; + productName);\n</code></pre>\n<p>Here the <code>productName</code> will have the value <code>\\n</code> and when it tries to read-</p>\n<pre><code>productPrice = scnr.nextInt();\n      System.out.println(&quot;2nd Price &quot; + productPrice);\n</code></pre>\n<p>It expects to read an <code>int</code> but finds an <code>String</code> hence throws an exception.</p>\n"}],"owner":{"account_id":19793989,"reputation":61,"user_id":14496343,"display_name":"sxy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":450,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1613581316,"accepted_answer_id":66235790,"answer_count":2,"score":0,"last_activity_date":1683709370,"creation_date":1613534345,"question_id":66235554,"body_markdown":"I have the following code\r\n```\r\npublic class ShoppingCartPrinter {\r\n   public static void main(String[] args) {\r\n      \r\n      String productName;\r\n      int productPrice = 0;\r\n      int productQuantity = 0;\r\n      int cartTotal = 0;\r\n      \r\n      String testStr = &quot;Chocolate Chips\\n3\\n1\\nChocolate Chips\\n3\\n1&quot;;\r\n      \r\n      Scanner scnr = new Scanner(testStr);\r\n\r\n      productName = scnr.nextLine();\r\n      System.out.println(&quot;1st Name &quot; + productName);\r\n\r\n      productPrice = scnr.nextInt();\r\n      System.out.println(&quot;1st Price &quot; + productPrice);\r\n\r\n      productQuantity = scnr.nextInt();\r\n      System.out.println(&quot;1st Quantity &quot; + productQuantity);\r\n      \r\n      System.out.println();\r\n      \r\n      //scnr.nextLine();\r\n      \r\n      productName = scnr.nextLine();\r\n      System.out.println(&quot;2nd Name &quot; + productName);\r\n\r\n      productPrice = scnr.nextInt();\r\n      System.out.println(&quot;2nd Price &quot; + productPrice);\r\n\r\n      productQuantity = scnr.nextInt();\r\n      System.out.println(&quot;2nd Quantity &quot; + productQuantity);\r\n\r\n   }\r\n}\r\n```\r\nSo if I don&#39;t include line 27, I got an output with error message:\r\n```\r\n1st Name Chocolate Chips\r\n1st Price 3\r\n1st Quantity 1\r\n\r\n2nd Name \r\n\r\nException in thread &quot;main&quot; java.util.InputMismatchException\r\n\tat java.base/java.util.Scanner.throwFor(Scanner.java:939)\r\n\tat java.base/java.util.Scanner.next(Scanner.java:1594)\r\n\tat java.base/java.util.Scanner.nextInt(Scanner.java:2258)\r\n\tat java.base/java.util.Scanner.nextInt(Scanner.java:2212)\r\n\tat ShoppingCartPrinter.main(ShoppingCartPrinter.java:30)\r\n```\r\n\r\nI understand the scnr.nextLine() at line 28 didn&#39;t read correctly because the previous scnr.nextInt() didn&#39;t consume the /n. But, I don&#39;t understand why the scnr.nextInt() at line 31 won&#39;t just continue to read the next integer in the string?\r\n\r\nAlso, if the nextInt() can only read within one line, or it can&#39;t pass the /n, then the second nextInt() to read the 1st quantity should also give an error, however it didn&#39;t. \r\n","title":"Java Scanner next() reading range question","body":"<p>I have the following code</p>\n<pre><code>public class ShoppingCartPrinter {\n   public static void main(String[] args) {\n      \n      String productName;\n      int productPrice = 0;\n      int productQuantity = 0;\n      int cartTotal = 0;\n      \n      String testStr = &quot;Chocolate Chips\\n3\\n1\\nChocolate Chips\\n3\\n1&quot;;\n      \n      Scanner scnr = new Scanner(testStr);\n\n      productName = scnr.nextLine();\n      System.out.println(&quot;1st Name &quot; + productName);\n\n      productPrice = scnr.nextInt();\n      System.out.println(&quot;1st Price &quot; + productPrice);\n\n      productQuantity = scnr.nextInt();\n      System.out.println(&quot;1st Quantity &quot; + productQuantity);\n      \n      System.out.println();\n      \n      //scnr.nextLine();\n      \n      productName = scnr.nextLine();\n      System.out.println(&quot;2nd Name &quot; + productName);\n\n      productPrice = scnr.nextInt();\n      System.out.println(&quot;2nd Price &quot; + productPrice);\n\n      productQuantity = scnr.nextInt();\n      System.out.println(&quot;2nd Quantity &quot; + productQuantity);\n\n   }\n}\n</code></pre>\n<p>So if I don't include line 27, I got an output with error message:</p>\n<pre><code>1st Name Chocolate Chips\n1st Price 3\n1st Quantity 1\n\n2nd Name \n\nException in thread &quot;main&quot; java.util.InputMismatchException\n    at java.base/java.util.Scanner.throwFor(Scanner.java:939)\n    at java.base/java.util.Scanner.next(Scanner.java:1594)\n    at java.base/java.util.Scanner.nextInt(Scanner.java:2258)\n    at java.base/java.util.Scanner.nextInt(Scanner.java:2212)\n    at ShoppingCartPrinter.main(ShoppingCartPrinter.java:30)\n</code></pre>\n<p>I understand the scnr.nextLine() at line 28 didn't read correctly because the previous scnr.nextInt() didn't consume the /n. But, I don't understand why the scnr.nextInt() at line 31 won't just continue to read the next integer in the string?</p>\n<p>Also, if the nextInt() can only read within one line, or it can't pass the /n, then the second nextInt() to read the 1st quantity should also give an error, however it didn't.</p>\n"},{"tags":["java","buffer","java.util.scanner"],"comments":[{"owner":{"account_id":25133794,"reputation":1340,"user_id":18980756,"display_name":"Franck"},"score":0,"creation_date":1652560725,"post_id":72243660,"comment_id":127637214,"body_markdown":"Does this answer your question? [Scanner is skipping nextLine() after using next() or nextFoo()?](https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\">Scanner is skipping nextLine() after using next() or nextFoo()?</a>"},{"owner":{"account_id":21614358,"reputation":11,"user_id":15940403,"display_name":"Rohit"},"score":0,"creation_date":1652561021,"post_id":72243660,"comment_id":127637261,"body_markdown":"@Franck Sorry, brother but it did not maybe I wasn&#39;t able to frame my ques well. My question actually was that I had to clear my buffer two times instead of one if I will remove the println statement. While this println statement shouldn&#39;t have any effect on the scanner buffer so why is it happening so?","body":"@Franck Sorry, brother but it did not maybe I wasn&#39;t able to frame my ques well. My question actually was that I had to clear my buffer two times instead of one if I will remove the println statement. While this println statement shouldn&#39;t have any effect on the scanner buffer so why is it happening so?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1652561905,"post_id":72243660,"comment_id":127637407,"body_markdown":"I cannot reproduce your problem: if I use three `nextLine()` the second input line gets discarded (as expected) - if I use two, the second input line gets printed (after the number is printed)","body":"I cannot reproduce your problem: if I use three <code>nextLine()</code> the second input line gets discarded (as expected) - if I use two, the second input line gets printed (after the number is printed)"},{"owner":{"account_id":8412094,"reputation":131,"user_id":6313636,"display_name":"wolfenblut"},"score":0,"creation_date":1652561938,"post_id":72243660,"comment_id":127637414,"body_markdown":"Actually I have copied it and run. The results are quite interesting because I did not face the problem you faced. When I clear it once, I get the correct result and if I do twice, I take an error(no such element exception because it does not find any input). The problem may be because of not rebuilding the project or something like that.","body":"Actually I have copied it and run. The results are quite interesting because I did not face the problem you faced. When I clear it once, I get the correct result and if I do twice, I take an error(no such element exception because it does not find any input). The problem may be because of not rebuilding the project or something like that."},{"owner":{"account_id":8412094,"reputation":131,"user_id":6313636,"display_name":"wolfenblut"},"score":0,"creation_date":1652562065,"post_id":72243660,"comment_id":127637438,"body_markdown":"By the way, it may also be because of a copy-paste. In the past, I faced a similar problem. If you copy and paste a text that has a newline char(&#39;\\n&#39;) at the end, it adds another &#39;\\n&#39; to the end and you have double of that char(&quot;\\n\\n&quot;) which may cause this. check that as well.","body":"By the way, it may also be because of a copy-paste. In the past, I faced a similar problem. If you copy and paste a text that has a newline char(&#39;\\n&#39;) at the end, it adds another &#39;\\n&#39; to the end and you have double of that char(&quot;\\n\\n&quot;) which may cause this. check that as well."},{"owner":{"account_id":21614358,"reputation":11,"user_id":15940403,"display_name":"Rohit"},"score":0,"creation_date":1652562335,"post_id":72243660,"comment_id":127637474,"body_markdown":"@wolfenblut yeah, I guess there is some issue with my IDE because on compiling online it is actually printing the right result. Sorry, for the inconvenience.","body":"@wolfenblut yeah, I guess there is some issue with my IDE because on compiling online it is actually printing the right result. Sorry, for the inconvenience."},{"owner":{"account_id":8412094,"reputation":131,"user_id":6313636,"display_name":"wolfenblut"},"score":0,"creation_date":1652563110,"post_id":72243660,"comment_id":127637612,"body_markdown":"@Rohit Then, could you mark my solution below as the answer? It would be beneficial for others having similar issues.","body":"@Rohit Then, could you mark my solution below as the answer? It would be beneficial for others having similar issues."},{"owner":{"account_id":21614358,"reputation":11,"user_id":15940403,"display_name":"Rohit"},"score":0,"creation_date":1652563388,"post_id":72243660,"comment_id":127637658,"body_markdown":"@wolfenblut Yeah, I will but can you actually check out this short recording of mine. I think then you could actually find what is the issue with my IDE. Sorry, for the inconvenience again. Recoding : https://drive.google.com/file/d/1h7C_MdkMxE7nW9J747gO2gHV2u38r6kH/view?usp=sharing","body":"@wolfenblut Yeah, I will but can you actually check out this short recording of mine. I think then you could actually find what is the issue with my IDE. Sorry, for the inconvenience again. Recoding : <a href=\"https://drive.google.com/file/d/1h7C_MdkMxE7nW9J747gO2gHV2u38r6kH/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1h7C_MdkMxE7nW9J747gO2gHV2u38r6kH/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":8412094,"reputation":131,"user_id":6313636,"display_name":"wolfenblut"},"score":0,"creation_date":1652561715,"post_id":72243766,"comment_id":127637383,"body_markdown":"The questions asks why two times instead of one.","body":"The questions asks why two times instead of one."},{"owner":{"account_id":21614358,"reputation":11,"user_id":15940403,"display_name":"Rohit"},"score":0,"creation_date":1652561769,"post_id":72243766,"comment_id":127637390,"body_markdown":"Thanks for the suggestion. I hope I understood you. So, you are suggesting this, right?\n\n      Scanner sc = new Scanner(System.in);\n       int num = Integer.parseInt(sc.nextLine());\n       String str = sc.nextLine();\n       System.out.println(num);\n       System.out.println(str);\n\nThe input was -  \n\n12\nhey\n\n\nThe expected output was - \n\n12\nhey\n\n\nBut I am still getting this - \n12\n(An empty space)","body":"Thanks for the suggestion. I hope I understood you. So, you are suggesting this, right?        Scanner sc = new Scanner(System.in);        int num = Integer.parseInt(sc.nextLine());        String str = sc.nextLine();        System.out.println(num);        System.out.println(str);  The input was -    12 hey   The expected output was -   12 hey   But I am still getting this -  12 (An empty space)"},{"owner":{"account_id":8243275,"reputation":335,"user_id":6200260,"display_name":"Prasad Tamgale"},"score":0,"creation_date":1652561913,"post_id":72243766,"comment_id":127637409,"body_markdown":"@Rohit, How are you providing the input? Directly &quot;12 hey&quot; or 12 -&gt; hit enter -&gt; hey?","body":"@Rohit, How are you providing the input? Directly &quot;12 hey&quot; or 12 -&gt; hit enter -&gt; hey?"},{"owner":{"account_id":21614358,"reputation":11,"user_id":15940403,"display_name":"Rohit"},"score":0,"creation_date":1652562054,"post_id":72243766,"comment_id":127637434,"body_markdown":"@PrasadTamgale I am providing input as 12 -&gt; hit enter -&gt; hey","body":"@PrasadTamgale I am providing input as 12 -&gt; hit enter -&gt; hey"},{"owner":{"account_id":8412094,"reputation":131,"user_id":6313636,"display_name":"wolfenblut"},"score":0,"creation_date":1652562255,"post_id":72243766,"comment_id":127637459,"body_markdown":"@Rohit You get the line as a string. Then, you convert it using Integer.parseInt(String) method.","body":"@Rohit You get the line as a string. Then, you convert it using Integer.parseInt(String) method."},{"owner":{"account_id":8243275,"reputation":335,"user_id":6200260,"display_name":"Prasad Tamgale"},"score":0,"creation_date":1652562458,"post_id":72243766,"comment_id":127637495,"body_markdown":"As you now know, what is the role of additional nextLine() we can close the question, right?","body":"As you now know, what is the role of additional nextLine() we can close the question, right?"}],"tags":[],"owner":{"account_id":8243275,"reputation":335,"user_id":6200260,"display_name":"Prasad Tamgale"},"comment_count":6,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1652562349,"creation_date":1652561360,"answer_id":72243766,"question_id":72243660,"body_markdown":"It&#39;s not the matter of print statements or &quot;buffer&quot;.&lt;br&gt;\r\n&lt;br&gt;\r\nYou see, `nextInt()` method leaves behind a newline character i.e. \\n dangling in the input. &lt;br&gt;\r\nThus, the coming `nextLine()` method picks this \\n as an input and thus,you have to add another nextLine() to capture actual string input.&lt;br&gt;\r\n&lt;br&gt;\r\n***Solution:***&lt;br&gt;\r\nInstead,\r\nUse `Integer.parseInt(sc.nextLine())` to get int values and use normal `sc.nextLine()` to get string inputs.&lt;br&gt;\r\n\r\nOr add nextLine() to consume this extra \\n before the nextLine() to take the actual input.","title":"Why do I have to clear buffer twice for getting correct output?","body":"<p>It's not the matter of print statements or &quot;buffer&quot;.<br>\n<br>\nYou see, <code>nextInt()</code> method leaves behind a newline character i.e. \\n dangling in the input. <br>\nThus, the coming <code>nextLine()</code> method picks this \\n as an input and thus,you have to add another nextLine() to capture actual string input.<br>\n<br>\n<em><strong>Solution:</strong></em><br>\nInstead,\nUse <code>Integer.parseInt(sc.nextLine())</code> to get int values and use normal <code>sc.nextLine()</code> to get string inputs.<br></p>\n<p>Or add nextLine() to consume this extra \\n before the nextLine() to take the actual input.</p>\n"},{"comments":[{"owner":{"account_id":21614358,"reputation":11,"user_id":15940403,"display_name":"Rohit"},"score":0,"creation_date":1652564449,"post_id":72243918,"comment_id":127637822,"body_markdown":"Thank you very much!!!! It solved my issue. Initially, I was using IntelliJ on the recommendation of someone but when I switched to VS Code after your recommendation the issue got fixed. Again, thank you very much you just solved my headache which was boggling my mind for the last 4 hours.","body":"Thank you very much!!!! It solved my issue. Initially, I was using IntelliJ on the recommendation of someone but when I switched to VS Code after your recommendation the issue got fixed. Again, thank you very much you just solved my headache which was boggling my mind for the last 4 hours."},{"owner":{"account_id":8412094,"reputation":131,"user_id":6313636,"display_name":"wolfenblut"},"score":0,"creation_date":1652564652,"post_id":72243918,"comment_id":127637845,"body_markdown":"This is why [How much patience is required for a software programmer?](https://www.quora.com/How-much-patience-is-required-for-a-software-programmer) is an FAQ :)","body":"This is why <a href=\"https://www.quora.com/How-much-patience-is-required-for-a-software-programmer\" rel=\"nofollow noreferrer\">How much patience is required for a software programmer?</a> is an FAQ :)"},{"owner":{"account_id":21614358,"reputation":11,"user_id":15940403,"display_name":"Rohit"},"score":0,"creation_date":1652565408,"post_id":72243918,"comment_id":127637941,"body_markdown":"True, btw thanks for sharing this xD","body":"True, btw thanks for sharing this xD"}],"tags":[],"owner":{"account_id":8412094,"reputation":131,"user_id":6313636,"display_name":"wolfenblut"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652609759,"creation_date":1652563039,"answer_id":72243918,"question_id":72243660,"body_markdown":"This is completely an interpretation error, made during giving the input. \r\n\r\nWhile you are running your code, you run it in your favorite IDE. One of you (you or the IDE) unintentionally adds another &#39;\\n&#39; char to the end according to your cursor&#39;s place on the console. This causes the scanner to read that as another line. You can move your cursor by arrow keys (up,down,left,right) on your keyboard as well.\r\n\r\n_Okay, but why `System.out.println();` solves the problem?_\r\n\r\nBecause it moves your cursor to the right place.\r\n\r\nUse a different IDE and you&#39;ll see that this problem will not happen.","title":"Why do I have to clear buffer twice for getting correct output?","body":"<p>This is completely an interpretation error, made during giving the input.</p>\n<p>While you are running your code, you run it in your favorite IDE. One of you (you or the IDE) unintentionally adds another '\\n' char to the end according to your cursor's place on the console. This causes the scanner to read that as another line. You can move your cursor by arrow keys (up,down,left,right) on your keyboard as well.</p>\n<p><em>Okay, but why <code>System.out.println();</code> solves the problem?</em></p>\n<p>Because it moves your cursor to the right place.</p>\n<p>Use a different IDE and you'll see that this problem will not happen.</p>\n"}],"owner":{"account_id":21614358,"reputation":11,"user_id":15940403,"display_name":"Rohit"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":513,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1683709344,"creation_date":1652560306,"question_id":72243660,"body_markdown":"I just started learning Java yesterday, and today I was learning input-taking. I got to know why we need to clear the scanner buffer before taking input using `.nextLine()` after using `.nextInt()`, but I noticed one thing if I remove the print statement just before taking the input from `.nextLine()`. I had to use `.nextLine()` twice instead of once to remove the buffer otherwise it was not working as intended.\r\n\r\nMy initial code was this:\r\n   ```java\r\n   Scanner sc = new Scanner(System.in);\r\n   System.out.println(&quot;Enter the number :&quot;);\r\n   int num = sc.nextInt();\r\n   sc.nextLine();\r\n   System.out.println(&quot;Enter the string :&quot;);\r\n   String str = sc.nextLine();\r\n   System.out.println(num);\r\n   System.out.println(str);\r\n```\r\nSo, if I remove the print statement just before taking the input string and storing it in variable `str`, it was again passing the value `\\n` to that variable even though I removed the buffer using `.nextLine()` earlier.\r\n\r\nCurrent code: \r\n   ```java\r\n   Scanner sc = new Scanner(System.in);\r\n   System.out.println(&quot;Enter the number :&quot;);\r\n   int num = sc.nextInt();\r\n   sc.nextLine();\r\n   sc.nextLine();\r\n   String str = sc.nextLine();\r\n   System.out.println(num);\r\n   System.out.println(str);\r\n```\r\n\r\nIdeally, the print statement shouldn&#39;t have any effect on the scanner buffer, right? So, why is it skipping it?\r\n\r\nAlso, since I have already removed the buffer, then why it is again passing the value `\\n` to my variable `str` unless I either remove the buffer two times or pass the print statement before taking the input.\r\n\r\nI tried googling it, and tried searching it a lot on YouTube and here as well, but none of the solutions actually discussed this issue which I am facing right now.","title":"Why do I have to clear buffer twice for getting correct output?","body":"<p>I just started learning Java yesterday, and today I was learning input-taking. I got to know why we need to clear the scanner buffer before taking input using <code>.nextLine()</code> after using <code>.nextInt()</code>, but I noticed one thing if I remove the print statement just before taking the input from <code>.nextLine()</code>. I had to use <code>.nextLine()</code> twice instead of once to remove the buffer otherwise it was not working as intended.</p>\n<p>My initial code was this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner sc = new Scanner(System.in);\nSystem.out.println(&quot;Enter the number :&quot;);\nint num = sc.nextInt();\nsc.nextLine();\nSystem.out.println(&quot;Enter the string :&quot;);\nString str = sc.nextLine();\nSystem.out.println(num);\nSystem.out.println(str);\n</code></pre>\n<p>So, if I remove the print statement just before taking the input string and storing it in variable <code>str</code>, it was again passing the value <code>\\n</code> to that variable even though I removed the buffer using <code>.nextLine()</code> earlier.</p>\n<p>Current code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner sc = new Scanner(System.in);\nSystem.out.println(&quot;Enter the number :&quot;);\nint num = sc.nextInt();\nsc.nextLine();\nsc.nextLine();\nString str = sc.nextLine();\nSystem.out.println(num);\nSystem.out.println(str);\n</code></pre>\n<p>Ideally, the print statement shouldn't have any effect on the scanner buffer, right? So, why is it skipping it?</p>\n<p>Also, since I have already removed the buffer, then why it is again passing the value <code>\\n</code> to my variable <code>str</code> unless I either remove the buffer two times or pass the print statement before taking the input.</p>\n<p>I tried googling it, and tried searching it a lot on YouTube and here as well, but none of the solutions actually discussed this issue which I am facing right now.</p>\n"},{"tags":["java","java.util.scanner","delimiter"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1665038088,"post_id":73969060,"comment_id":130606221,"body_markdown":"you could just test `s.hasNext(&quot;&quot;)` to test if the next token is empty - but that test must be done before reading the token, that is, before the other `if`s. YOu could also just test if the value returned by `s.next()` `isExpty()` || BTW posted code is not &quot;*appending occurrences of `;` with a blank space*&quot;, it is **replacing** - the delimiter is not included in the result of `s.nxet()`","body":"you could just test <code>s.hasNext(&quot;&quot;)</code> to test if the next token is empty - but that test must be done before reading the token, that is, before the other <code>if</code>s. YOu could also just test if the value returned by <code>s.next()</code> <code>isExpty()</code> || BTW posted code is not &quot;<i>appending occurrences of <code>;</code> with a blank space</i>&quot;, it is <b>replacing</b> - the delimiter is not included in the result of <code>s.nxet()</code>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1665038888,"post_id":73969060,"comment_id":130606454,"body_markdown":"BTW2 `System.out.print(something + &quot;\\n&quot;);` should be ` `System.out.println(something);` - `println` uses the system dependent line terminator || BTW3 comments like `// Closes the Scanner` are mostly useless, if not worse. Example if later it is changed to use something else (sockets?) and user forgot to change the comment -&gt; can be confusing and misleading!","body":"BTW2 <code>System.out.print(something + &quot;\\n&quot;);</code> should be ` <code>System.out.println(something);</code> - <code>println</code> uses the system dependent line terminator || BTW3 comments like <code>&#47;&#47; Closes the Scanner</code> are mostly useless, if not worse. Example if later it is changed to use something else (sockets?) and user forgot to change the comment -&gt; can be confusing and misleading!"}],"answers":[{"comments":[{"owner":{"account_id":20844487,"reputation":41,"user_id":15310328,"display_name":"Fuji"},"score":0,"creation_date":1665078458,"post_id":73969134,"comment_id":130621208,"body_markdown":"Thank you! This is a lot cleaner method, though I chose the answer @oleg.cherednik  provided as it fits better into the code structure I already created.","body":"Thank you! This is a lot cleaner method, though I chose the answer @oleg.cherednik  provided as it fits better into the code structure I already created."}],"tags":[],"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665035185,"creation_date":1665035185,"answer_id":73969134,"question_id":73969060,"body_markdown":"Personally I would do away with using delimiters and just do a simple replace, `;;` -&gt; `\\n` then `;` -&gt; `; `    \r\n\r\n     Scanner s = new Scanner(f);\r\n     String line = s.nextLine ();\r\n     while (line != null) {\r\n        s.o.p (line.replace(&quot;;;&quot;, &quot;\\n&quot;).replace(&quot;;&quot;, &quot;; &quot;));\r\n        line = s.nextLine ();\r\n    }","title":"How do I verify if the next token in a Scanner class is empty in order to differentiate between loop conditions?","body":"<p>Personally I would do away with using delimiters and just do a simple replace, <code>;;</code> -&gt; <code>\\n</code> then <code>;</code> -&gt; <code>; </code></p>\n<pre><code> Scanner s = new Scanner(f);\n String line = s.nextLine ();\n while (line != null) {\n    s.o.p (line.replace(&quot;;;&quot;, &quot;\\n&quot;).replace(&quot;;&quot;, &quot;; &quot;));\n    line = s.nextLine ();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665036088,"creation_date":1665036088,"answer_id":73969234,"question_id":73969060,"body_markdown":"```java\r\npublic static void main(String... args) throws FileNotFoundException {\r\n    try (Scanner scan = new Scanner(new File(&quot;data.txt&quot;))) {\r\n        scan.useDelimiter(&quot;[;\\r]&quot;); // \\r as line separator in the file under Windows\r\n        boolean addSpace = false;\r\n\r\n        while (scan.hasNext()) {\r\n            String str = scan.next().trim();\r\n\r\n            if (str.isEmpty()) {\r\n                System.out.println();\r\n                addSpace = false;\r\n            } else {\r\n                if (addSpace)\r\n                    System.out.print(&#39; &#39;);\r\n\r\n                addSpace = true;\r\n                System.out.print(str);\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"How do I verify if the next token in a Scanner class is empty in order to differentiate between loop conditions?","body":"<pre class=\"lang-java prettyprint-override\"><code>public static void main(String... args) throws FileNotFoundException {\n    try (Scanner scan = new Scanner(new File(&quot;data.txt&quot;))) {\n        scan.useDelimiter(&quot;[;\\r]&quot;); // \\r as line separator in the file under Windows\n        boolean addSpace = false;\n\n        while (scan.hasNext()) {\n            String str = scan.next().trim();\n\n            if (str.isEmpty()) {\n                System.out.println();\n                addSpace = false;\n            } else {\n                if (addSpace)\n                    System.out.print(' ');\n\n                addSpace = true;\n                System.out.print(str);\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20844487,"reputation":41,"user_id":15310328,"display_name":"Fuji"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73969234,"answer_count":2,"score":-1,"last_activity_date":1683709317,"creation_date":1665034647,"question_id":73969060,"body_markdown":"I am attempting to solve a problem given to us by our professor. I need to sort through a file, `data.txt`, by appending occurrences of `;` with a blank space and occurrences of `;;` with a new line. I am having an issue determining the syntax of the *else if* clause in the *while* loop. \r\n\r\n`Data.txt contains the following 2 lines:`\r\n\r\njohn;88;CARL;;JAFF&lt;br /&gt;\r\nHELEN;MARY;;123;99\r\n\r\n\r\n`The current code is as follows:`\r\n\r\n```\r\nimport java.io.*;\r\nimport java.util.*;\r\n\r\nclass Delimit {\r\n    public static void main(String[] args) throws IOException {\r\n        // Initiates new FileInputStream to read text document\r\n        File f = new File(&quot;data.txt&quot;);\r\n        // Initiates new Scanner to parse the file, and delimit at &quot;;&quot;\r\n        Scanner s = new Scanner(f).useDelimiter(&quot;;&quot;);\r\n\r\n        // Parses through each token\r\n        while (s.hasNext()) {\r\n            // \r\n            if (s.hasNext()) {\r\n                // Prints next token followed by a space\r\n                System.out.print(s.next() + &quot; &quot;);\r\n            }\r\n            // else if (next token is empty) {\r\n                // Prints next token followed by a new line\r\n                System.out.print(s.next() + &quot;\\n&quot;);\r\n            }\r\n        }\r\n        s.close(); // Closes the Scanner\r\n    }\r\n}\r\n```\r\n\r\nIf there is a better approach to the delimiting and replacing methods, please enlighten me! I have been trying to improve my grasp on regex and the delimitation of strings. Thanks!","title":"How do I verify if the next token in a Scanner class is empty in order to differentiate between loop conditions?","body":"<p>I am attempting to solve a problem given to us by our professor. I need to sort through a file, <code>data.txt</code>, by appending occurrences of <code>;</code> with a blank space and occurrences of <code>;;</code> with a new line. I am having an issue determining the syntax of the <em>else if</em> clause in the <em>while</em> loop.</p>\n<p><code>Data.txt contains the following 2 lines:</code></p>\n<p>john;88;CARL;;JAFF<br />\nHELEN;MARY;;123;99</p>\n<p><code>The current code is as follows:</code></p>\n<pre><code>import java.io.*;\nimport java.util.*;\n\nclass Delimit {\n    public static void main(String[] args) throws IOException {\n        // Initiates new FileInputStream to read text document\n        File f = new File(&quot;data.txt&quot;);\n        // Initiates new Scanner to parse the file, and delimit at &quot;;&quot;\n        Scanner s = new Scanner(f).useDelimiter(&quot;;&quot;);\n\n        // Parses through each token\n        while (s.hasNext()) {\n            // \n            if (s.hasNext()) {\n                // Prints next token followed by a space\n                System.out.print(s.next() + &quot; &quot;);\n            }\n            // else if (next token is empty) {\n                // Prints next token followed by a new line\n                System.out.print(s.next() + &quot;\\n&quot;);\n            }\n        }\n        s.close(); // Closes the Scanner\n    }\n}\n</code></pre>\n<p>If there is a better approach to the delimiting and replacing methods, please enlighten me! I have been trying to improve my grasp on regex and the delimitation of strings. Thanks!</p>\n"},{"tags":["java","maven","maven-3","pom.xml","jacoco-maven-plugin"],"comments":[{"owner":{"account_id":7363499,"reputation":27102,"user_id":5606016,"accept_rate":88,"display_name":"A_Di-Matteo"},"score":1,"creation_date":1459330427,"post_id":36304793,"comment_id":60233439,"body_markdown":"try `mvn clean jacoco:prepare-agent install` instead (the agent between the two phases)","body":"try <code>mvn clean jacoco:prepare-agent install</code> instead (the agent between the two phases)"},{"owner":{"account_id":3886240,"reputation":95,"user_id":3217521,"display_name":"Sajjad Salehi"},"score":0,"creation_date":1579689756,"post_id":36304793,"comment_id":105847480,"body_markdown":"I ran into the same problem a few days ago, in my case, the problem was that I was not following the name convention. The test file should be named as *Test.java. As soon as I followed the naming convention, the problem disappeared.","body":"I ran into the same problem a few days ago, in my case, the problem was that I was not following the name convention. The test file should be named as *Test.java. As soon as I followed the naming convention, the problem disappeared."},{"owner":{"account_id":2700381,"reputation":1167,"user_id":2331225,"accept_rate":75,"display_name":"Dhaval D"},"score":0,"creation_date":1621496637,"post_id":36304793,"comment_id":119514861,"body_markdown":"A very [good answer](https://stackoverflow.com/a/36305148/2331225) that solved problem for me.","body":"A very <a href=\"https://stackoverflow.com/a/36305148/2331225\">good answer</a> that solved problem for me."}],"answers":[{"comments":[{"owner":{"account_id":3126405,"reputation":1264,"user_id":2645183,"accept_rate":58,"display_name":"dasLort"},"score":1,"creation_date":1459336793,"post_id":36305148,"comment_id":60238083,"body_markdown":"what do I need to do to make this work when only calling `mvn install` ? If I don&#39;t explicitly call the jacoco goals, they won&#39;t be executed.","body":"what do I need to do to make this work when only calling <code>mvn install</code> ? If I don&#39;t explicitly call the jacoco goals, they won&#39;t be executed."},{"owner":{"account_id":7363499,"reputation":27102,"user_id":5606016,"accept_rate":88,"display_name":"A_Di-Matteo"},"score":0,"creation_date":1459338307,"post_id":36305148,"comment_id":60239139,"body_markdown":"@dasLort which version of Maven are you using? I could not reproduce your issue with a sample multi module project, I didn&#39;t get any skip warning and properly got jacoco reports","body":"@dasLort which version of Maven are you using? I could not reproduce your issue with a sample multi module project, I didn&#39;t get any skip warning and properly got jacoco reports"},{"owner":{"account_id":3126405,"reputation":1264,"user_id":2645183,"accept_rate":58,"display_name":"dasLort"},"score":0,"creation_date":1459341946,"post_id":36305148,"comment_id":60241776,"body_markdown":"Maven 3.3.9 and (Jenkins) Maven Integration Plugin 2.12.1. So you say you can `mvn install` and it will with above configuration call jacoco?","body":"Maven 3.3.9 and (Jenkins) Maven Integration Plugin 2.12.1. So you say you can <code>mvn install</code> and it will with above configuration call jacoco?"},{"owner":{"account_id":3126405,"reputation":1264,"user_id":2645183,"accept_rate":58,"display_name":"dasLort"},"score":0,"creation_date":1459345271,"post_id":36305148,"comment_id":60244500,"body_markdown":"I found that editing the META-INF/plexus/default-bindings.xml file could do the trick. Sadly, I think this one would be inside a jar when using the Jenkins Maven plugin. Moreover, I did not find said jar (not in maven-core-3.0.jar)","body":"I found that editing the META-INF/plexus/default-bindings.xml file could do the trick. Sadly, I think this one would be inside a jar when using the Jenkins Maven plugin. Moreover, I did not find said jar (not in maven-core-3.0.jar)"},{"owner":{"account_id":7363499,"reputation":27102,"user_id":5606016,"accept_rate":88,"display_name":"A_Di-Matteo"},"score":0,"creation_date":1459345398,"post_id":36305148,"comment_id":60244594,"body_markdown":"@dasLort indeed you should not change it, which changes made it work?","body":"@dasLort indeed you should not change it, which changes made it work?"},{"owner":{"account_id":3126405,"reputation":1264,"user_id":2645183,"accept_rate":58,"display_name":"dasLort"},"score":0,"creation_date":1459345784,"post_id":36305148,"comment_id":60244917,"body_markdown":"It&#39;s still not working. I assume you MUST edit that file but not being able to configure this via Jenkins makes it highly unlikely that this is the way to go (since the jar could be overwritten any time). Could be OK if that file was persistent (i.e. no Jenkins plugin) but in my case, it is just a plugin. btw source: https://maven.apache.org/ref/3.3.9/maven-core/default-bindings.html","body":"It&#39;s still not working. I assume you MUST edit that file but not being able to configure this via Jenkins makes it highly unlikely that this is the way to go (since the jar could be overwritten any time). Could be OK if that file was persistent (i.e. no Jenkins plugin) but in my case, it is just a plugin. btw source: <a href=\"https://maven.apache.org/ref/3.3.9/maven-core/default-bindings.html\" rel=\"nofollow noreferrer\">maven.apache.org/ref/3.3.9/maven-core/default-bindings.html</a>"},{"owner":{"account_id":7363499,"reputation":27102,"user_id":5606016,"accept_rate":88,"display_name":"A_Di-Matteo"},"score":0,"creation_date":1459346721,"post_id":36305148,"comment_id":60245762,"body_markdown":"@dasLort no, you shouldn&#39;t change that file, those are default bindings but you can always change them via the POM file","body":"@dasLort no, you shouldn&#39;t change that file, those are default bindings but you can always change them via the POM file"},{"owner":{"account_id":3126405,"reputation":1264,"user_id":2645183,"accept_rate":58,"display_name":"dasLort"},"score":0,"creation_date":1459423559,"post_id":36305148,"comment_id":60286036,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/107845/discussion-between-daslort-and-a-di-matteo).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/107845/discussion-between-daslort-and-a-di-matteo\">continue this discussion in chat</a>."},{"owner":{"account_id":13540458,"reputation":4811,"user_id":9768291,"display_name":"payne"},"score":1,"creation_date":1576529077,"post_id":36305148,"comment_id":104921853,"body_markdown":"This answer is so spot on! I spent hours looking through other answers that somehow didn&#39;t provide this kind of information. My problem is now solved, thank you so much!","body":"This answer is so spot on! I spent hours looking through other answers that somehow didn&#39;t provide this kind of information. My problem is now solved, thank you so much!"},{"owner":{"account_id":1636030,"reputation":718,"user_id":1509491,"display_name":"Amann Malik"},"score":0,"creation_date":1631594103,"post_id":36305148,"comment_id":122256957,"body_markdown":"Thanks for spelling this out. Lost a lot of time to this one unfortunately.","body":"Thanks for spelling this out. Lost a lot of time to this one unfortunately."}],"tags":[],"owner":{"account_id":7363499,"reputation":27102,"user_id":5606016,"accept_rate":88,"display_name":"A_Di-Matteo"},"comment_count":10,"down_vote_count":0,"up_vote_count":56,"is_accepted":true,"score":56,"last_activity_date":1459426589,"creation_date":1459331193,"answer_id":36305148,"question_id":36304793,"body_markdown":"You should not invoke the agent after the install phase but before, so instead of invoking:\r\n\r\n    mvn clean install jacoco:prepare-agent jacoco:report\r\n\r\nYou should invoke\r\n\r\n    mvn clean jacoco:prepare-agent install jacoco:report\r\n\r\nThe main reason is: the agent will not participate to the build lifecycle, the `test` phase will already be executed as part of the `install` phase, then Maven will execute the agent as per command line invocation, but it will be too late.\r\n\r\n--------------------------------------\r\n\r\nYou should probably also change the plugin configuration above to:\r\n\r\n&lt;!-- language: xml-lang --&gt;\r\n\r\n    &lt;plugin&gt;\r\n\t\t&lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;0.7.6.201602180812&lt;/version&gt;\r\n\t\t&lt;executions&gt;\r\n\t\t\t&lt;execution&gt;\r\n\t\t\t\t&lt;id&gt;jacoco-initialize&lt;/id&gt;\r\n\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t&lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n\t\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;/execution&gt;\r\n\t\t\t&lt;execution&gt;\r\n\t\t\t\t&lt;id&gt;jacoco-site&lt;/id&gt;\r\n\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t&lt;goal&gt;report&lt;/goal&gt;\r\n\t\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;/execution&gt;\r\n\t\t&lt;/executions&gt;\r\n\t&lt;/plugin&gt;\r\n\r\nNote: I removed the configuration section, because it was actually pointing to default values. Moreover, XML elements are case sensitives here, so your `datafile` element was simply ignored, it should have been `dataFile` instead. The same applies to `destFile`.\r\n\r\nThe [`prepare-agent`](http://eclemma.org/jacoco/trunk/doc/prepare-agent-mojo.html) goal is already using `${project.build.directory}/jacoco.exec` as default `destFile` value, the same applied to the `dataFile` value for the [`report`](http://eclemma.org/jacoco/trunk/doc/report-mojo.html) goal. The main reason for this change would be a more flexible and standard build, not relying on `artifactId` as project name (the default, but still not mandatory) and using the more generic `${project.build.directory}` property instead to point directly at `target`.\r\n\r\n---------------------------------------------------\r\n\r\nFinal note: make sure to configure the Jacoco Plugin executions within the `build/plugins` section and not `build/pluginManagement/plugins` section. The `pluginManagement` section is meant for governance and common harmonization of versions or configurations, but it will be **ignored** if the corresponding plugin would not be declared under `build/plugins`.  \r\nAs per [official Maven POM reference](https://maven.apache.org/pom.html)\r\n&gt; **pluginManagement**: is an element that is seen along side plugins. Plugin Management contains plugin elements in much the same way, except that rather than configuring plugin information for this particular project build, it is intended to configure project builds that inherit from this one. **However, this only configures plugins that are actually referenced within the plugins element** in the children. The children have every right to override `pluginManagement` definitions.\r\n\r\n(note: bold is mine)","title":"JaCoCo with Maven - missing execution data file","body":"<p>You should not invoke the agent after the install phase but before, so instead of invoking:</p>\n\n<pre><code>mvn clean install jacoco:prepare-agent jacoco:report\n</code></pre>\n\n<p>You should invoke</p>\n\n<pre><code>mvn clean jacoco:prepare-agent install jacoco:report\n</code></pre>\n\n<p>The main reason is: the agent will not participate to the build lifecycle, the <code>test</code> phase will already be executed as part of the <code>install</code> phase, then Maven will execute the agent as per command line invocation, but it will be too late.</p>\n\n<hr>\n\n<p>You should probably also change the plugin configuration above to:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;0.7.6.201602180812&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;jacoco-initialize&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;prepare-agent&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n        &lt;execution&gt;\n            &lt;id&gt;jacoco-site&lt;/id&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;report&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>Note: I removed the configuration section, because it was actually pointing to default values. Moreover, XML elements are case sensitives here, so your <code>datafile</code> element was simply ignored, it should have been <code>dataFile</code> instead. The same applies to <code>destFile</code>.</p>\n\n<p>The <a href=\"http://eclemma.org/jacoco/trunk/doc/prepare-agent-mojo.html\"><code>prepare-agent</code></a> goal is already using <code>${project.build.directory}/jacoco.exec</code> as default <code>destFile</code> value, the same applied to the <code>dataFile</code> value for the <a href=\"http://eclemma.org/jacoco/trunk/doc/report-mojo.html\"><code>report</code></a> goal. The main reason for this change would be a more flexible and standard build, not relying on <code>artifactId</code> as project name (the default, but still not mandatory) and using the more generic <code>${project.build.directory}</code> property instead to point directly at <code>target</code>.</p>\n\n<hr>\n\n<p>Final note: make sure to configure the Jacoco Plugin executions within the <code>build/plugins</code> section and not <code>build/pluginManagement/plugins</code> section. The <code>pluginManagement</code> section is meant for governance and common harmonization of versions or configurations, but it will be <strong>ignored</strong> if the corresponding plugin would not be declared under <code>build/plugins</code>.<br>\nAs per <a href=\"https://maven.apache.org/pom.html\">official Maven POM reference</a></p>\n\n<blockquote>\n  <p><strong>pluginManagement</strong>: is an element that is seen along side plugins. Plugin Management contains plugin elements in much the same way, except that rather than configuring plugin information for this particular project build, it is intended to configure project builds that inherit from this one. <strong>However, this only configures plugins that are actually referenced within the plugins element</strong> in the children. The children have every right to override <code>pluginManagement</code> definitions.</p>\n</blockquote>\n\n<p>(note: bold is mine)</p>\n"},{"tags":[],"owner":{"account_id":8518184,"reputation":83,"user_id":6385989,"display_name":"Bogdan Halmaghi"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1475052295,"creation_date":1475052295,"answer_id":39742307,"question_id":36304793,"body_markdown":"I think that &quot;destfile&quot; and &quot;datafile&quot; are case sensitive so try to replace them with &quot;destFile&quot; and &quot;dataFile&quot;, maybe it&#39;ll work :)\r\n","title":"JaCoCo with Maven - missing execution data file","body":"<p>I think that \"destfile\" and \"datafile\" are case sensitive so try to replace them with \"destFile\" and \"dataFile\", maybe it'll work :)</p>\n"},{"tags":[],"owner":{"account_id":1202692,"reputation":200,"user_id":7510176,"display_name":"Shivkumar Kawtikwar"},"comment_count":0,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1581397582,"creation_date":1555583082,"answer_id":55744041,"question_id":36304793,"body_markdown":" - JaCoCo reports get created from the execution data file. &lt;br&gt;\r\n - If this file is not present then JaCoCo report goal skips the report creation. &lt;br&gt;\r\n - So it is compulsory to create the execution data file. &lt;br&gt;\r\n\r\n\r\n**Reasons due to which execution data file will not get created are the following** &lt;br&gt;\r\n      - Tests are not present.&lt;br&gt;\r\n      - All tests are ignored.&lt;br&gt;\r\n      - Surefire plugin is missing.&lt;br&gt;\r\n      - JaCoCo&#39;s prepare-agent goal is not executed, which sets argLine which is needed to configure to surefire.&lt;br&gt;\r\n      - Surefire plugin is not configured with JaCoCo&#39;s agent.&lt;br&gt;\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"JaCoCo with Maven - missing execution data file","body":"<ul>\n<li>JaCoCo reports get created from the execution data file. <br></li>\n<li>If this file is not present then JaCoCo report goal skips the report creation. <br></li>\n<li>So it is compulsory to create the execution data file. <br></li>\n</ul>\n\n<p><strong>Reasons due to which execution data file will not get created are the following</strong> <br>\n      - Tests are not present.<br>\n      - All tests are ignored.<br>\n      - Surefire plugin is missing.<br>\n      - JaCoCo's prepare-agent goal is not executed, which sets argLine which is needed to configure to surefire.<br>\n      - Surefire plugin is not configured with JaCoCo's agent.<br></p>\n"},{"tags":[],"owner":{"account_id":3740643,"reputation":935,"user_id":3110488,"display_name":"m.nguyencntt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590084047,"creation_date":1590084047,"answer_id":61940877,"question_id":36304793,"body_markdown":"    &lt;plugin&gt;\r\n\t\t&lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;0.8.5&lt;/version&gt;\r\n\t\t&lt;configuration&gt;\r\n\t\t\t&lt;target&gt;\r\n\t\t\t\t&lt;propertyfile file=&quot;lombok.config&quot;&gt;\r\n\t\t\t\t\t&lt;entry key=&quot;config.stopBubbling&quot; value=&quot;true&quot; /&gt;\r\n\t\t\t\t\t&lt;entry key=&quot;lombok.addLombokGeneratedAnnotation&quot; value=&quot;true&quot; /&gt;\r\n\t\t\t\t&lt;/propertyfile&gt;\r\n\t\t\t&lt;/target&gt;\r\n\t\t\t&lt;excludes&gt;\r\n\t\t\t\t&lt;exclude&gt;**/domain/**&lt;/exclude&gt;\r\n\t\t\t\t&lt;exclude&gt;**/enumeration/**&lt;/exclude&gt;\r\n\t\t\t\t&lt;exclude&gt;**/exception/**&lt;/exclude&gt;\r\n\t\t\t&lt;/excludes&gt;\r\n\t\t&lt;/configuration&gt;\r\n\t\t&lt;executions&gt;\r\n\t\t\t&lt;execution&gt;\r\n\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t&lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n\t\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;/execution&gt;\r\n\t\t\t&lt;!-- attached to Maven test phase --&gt;\r\n\t\t\t&lt;execution&gt;\r\n\t\t\t\t&lt;id&gt;report&lt;/id&gt;\r\n\t\t\t\t&lt;phase&gt;test&lt;/phase&gt;\r\n\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t&lt;goal&gt;report&lt;/goal&gt;\r\n\t\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;/execution&gt;\r\n\t\t\t&lt;!-- Add this checking --&gt;\r\n\t\t\t&lt;execution&gt;\r\n\t\t\t\t&lt;id&gt;jacoco-check&lt;/id&gt;\r\n\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t&lt;goal&gt;check&lt;/goal&gt;\r\n\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;rules&gt;\r\n\t\t\t\t\t\t&lt;rule&gt;\r\n\t\t\t\t\t\t\t&lt;element&gt;PACKAGE&lt;/element&gt;\r\n\t\t\t\t\t\t\t&lt;limits&gt;\r\n\t\t\t\t\t\t\t\t&lt;limit&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;counter&gt;INSTRUCTION&lt;/counter&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;value&gt;COVEREDRATIO&lt;/value&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;minimum&gt;65%&lt;/minimum&gt;\r\n\t\t\t\t\t\t\t\t&lt;/limit&gt;\r\n\t\t\t\t\t\t\t&lt;/limits&gt;\r\n\t\t\t\t\t\t&lt;/rule&gt;\r\n\t\t\t\t\t&lt;/rules&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/execution&gt;\r\n\t\t&lt;/executions&gt;\r\n\t&lt;/plugin&gt;","title":"JaCoCo with Maven - missing execution data file","body":"<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;0.8.5&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;target&gt;\n            &lt;propertyfile file=\"lombok.config\"&gt;\n                &lt;entry key=\"config.stopBubbling\" value=\"true\" /&gt;\n                &lt;entry key=\"lombok.addLombokGeneratedAnnotation\" value=\"true\" /&gt;\n            &lt;/propertyfile&gt;\n        &lt;/target&gt;\n        &lt;excludes&gt;\n            &lt;exclude&gt;**/domain/**&lt;/exclude&gt;\n            &lt;exclude&gt;**/enumeration/**&lt;/exclude&gt;\n            &lt;exclude&gt;**/exception/**&lt;/exclude&gt;\n        &lt;/excludes&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;prepare-agent&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n        &lt;!-- attached to Maven test phase --&gt;\n        &lt;execution&gt;\n            &lt;id&gt;report&lt;/id&gt;\n            &lt;phase&gt;test&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;report&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n        &lt;!-- Add this checking --&gt;\n        &lt;execution&gt;\n            &lt;id&gt;jacoco-check&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;check&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;rules&gt;\n                    &lt;rule&gt;\n                        &lt;element&gt;PACKAGE&lt;/element&gt;\n                        &lt;limits&gt;\n                            &lt;limit&gt;\n                                &lt;counter&gt;INSTRUCTION&lt;/counter&gt;\n                                &lt;value&gt;COVEREDRATIO&lt;/value&gt;\n                                &lt;minimum&gt;65%&lt;/minimum&gt;\n                            &lt;/limit&gt;\n                        &lt;/limits&gt;\n                    &lt;/rule&gt;\n                &lt;/rules&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2659819,"reputation":6153,"user_id":2299789,"accept_rate":62,"display_name":"BERGUIGA Mohamed Amine"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639507796,"creation_date":1597400788,"answer_id":63411005,"question_id":36304793,"body_markdown":"I share with you my response may be someone else work for him\r\n    \r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;0.8.5&lt;/version&gt;\r\n    &lt;!--\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;package you want exclude&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;--&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t\t&lt;!-- attached to Maven test phase --&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;report&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;test&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;report&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \r\n    &lt;!--\t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;jacoco-check&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;check&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;rules&gt;\r\n    \t\t\t\t\t\t\t\t&lt;rule&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;element&gt;PACKAGE&lt;/element&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;limits&gt;\r\n    \t\t\t\t\t\t\t\t\t\t&lt;limit&gt;\r\n    \t\t\t\t\t\t\t\t\t\t\t&lt;counter&gt;LINE&lt;/counter&gt;\r\n    \t\t\t\t\t\t\t\t\t\t\t&lt;value&gt;COVEREDRATIO&lt;/value&gt;\r\n    \t\t\t\t\t\t\t\t\t\t\t&lt;minimum&gt;0.9&lt;/minimum&gt;\r\n    \t\t\t\t\t\t\t\t\t\t&lt;/limit&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;/limits&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/rule&gt;\r\n    \t\t\t\t\t\t\t&lt;/rules&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;--&gt;\r\n    \r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;","title":"JaCoCo with Maven - missing execution data file","body":"<p>I share with you my response may be someone else work for him</p>\n<pre><code>            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.8.5&lt;/version&gt;\n&lt;!--                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;package you want exclude&lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;--&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;!-- attached to Maven test phase --&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;report&lt;/id&gt;\n                        &lt;phase&gt;test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;report&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n\n&lt;!--                    &lt;execution&gt;\n                        &lt;id&gt;jacoco-check&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;check&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;rules&gt;\n                                &lt;rule&gt;\n                                    &lt;element&gt;PACKAGE&lt;/element&gt;\n                                    &lt;limits&gt;\n                                        &lt;limit&gt;\n                                            &lt;counter&gt;LINE&lt;/counter&gt;\n                                            &lt;value&gt;COVEREDRATIO&lt;/value&gt;\n                                            &lt;minimum&gt;0.9&lt;/minimum&gt;\n                                        &lt;/limit&gt;\n                                    &lt;/limits&gt;\n                                &lt;/rule&gt;\n                            &lt;/rules&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;--&gt;\n\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":556695,"reputation":3222,"user_id":918858,"accept_rate":86,"display_name":"Dexter Legaspi"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1683709086,"creation_date":1643644814,"answer_id":70928989,"question_id":36304793,"body_markdown":"I just dealt with this issue today and found out that this happening when I set the `argLine` parameter in Surefire plugin (which I needed to do for running JavaFx-related tests) which replaces the default even after you have `prepare-agent` in your `jacoco-maven-plugin` goals.\r\n\r\nSo basically, the solution is to add the original argLine and append your additional arg lines using `@{argLine}` as noted [here](https://stackoverflow.com/questions/23190107/cannot-use-jacoco-jvm-args-and-surefire-jvm-args-together-in-maven):\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n  &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n  &lt;configuration&gt;\r\n    &lt;argLine&gt;@{argLine} --enable-native-access ALL-UNNAMED --add-modules jdk.incubator.foreign&lt;/argLine&gt;\r\n  &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nIt mentioned in that post to assign the jacoco agent argline variable `${surefire.argLine}` but i think those steps are not necessary (at least not in my case).","title":"JaCoCo with Maven - missing execution data file","body":"<p>I just dealt with this issue today and found out that this happening when I set the <code>argLine</code> parameter in Surefire plugin (which I needed to do for running JavaFx-related tests) which replaces the default even after you have <code>prepare-agent</code> in your <code>jacoco-maven-plugin</code> goals.</p>\n<p>So basically, the solution is to add the original argLine and append your additional arg lines using <code>@{argLine}</code> as noted <a href=\"https://stackoverflow.com/questions/23190107/cannot-use-jacoco-jvm-args-and-surefire-jvm-args-together-in-maven\">here</a>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n  &lt;version&gt;3.0.0-M5&lt;/version&gt;\n  &lt;configuration&gt;\n    &lt;argLine&gt;@{argLine} --enable-native-access ALL-UNNAMED --add-modules jdk.incubator.foreign&lt;/argLine&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>It mentioned in that post to assign the jacoco agent argline variable <code>${surefire.argLine}</code> but i think those steps are not necessary (at least not in my case).</p>\n"}],"owner":{"account_id":3126405,"reputation":1264,"user_id":2645183,"accept_rate":58,"display_name":"dasLort"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59120,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":36305148,"answer_count":6,"score":27,"last_activity_date":1683709086,"creation_date":1459330246,"question_id":36304793,"body_markdown":"We have a Maven multi module project consisting of a parent (HelloWorld) and different children (HelloWorldServices and HelloWorldPresentation) and use Jenkins to build.\r\n\r\nThe error after running the successful test is\r\n\r\n    [INFO] --- jacoco-maven-plugin:0.7.6.201602180812:report (default-cli) @ HelloWorldServices ---\r\n    [INFO] Skipping JaCoCo execution due to missing execution data file:/var/lib/jenkins/workspace/HelloWorld/HelloWorldServices/target/jacoco.exec\r\n\r\nThe lines before it says\r\n\r\n    [INFO] --- jacoco-maven-plugin:0.7.6.201602180812:prepare-agent (default-cli) @ HelloWorldServices ---\r\n    [INFO] argLine set to -javaagent:/var/lib/jenkins/.m2/repository/org/jacoco/org.jacoco.agent/0.7.6.201602180812/org.jacoco.agent-0.7.6.201602180812-runtime.jar=destfile=/var/lib/jenkins/workspace/HelloWorld/HelloWorldServices/target/jacoco.exec\r\n\r\nThis is how I defined the parent pom JaCoCo plugin:\r\n\r\n&lt;!-- language: xml-lang --&gt;\r\n\r\n    &lt;plugin&gt;\r\n    \t&lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.7.6.201602180812&lt;/version&gt;\r\n    \t&lt;configuration&gt;\r\n    \t\t&lt;destfile&gt;${project.artifactId}/target/jacoco.exec&lt;/destfile&gt;\r\n    \t\t&lt;datafile&gt;${project.artifactId}/target/jacoco.exec&lt;/datafile&gt;\r\n    \t&lt;/configuration&gt;\r\n    \t\r\n    \t&lt;executions&gt;\r\n    \t\t&lt;execution&gt;\r\n    \t\t\t&lt;id&gt;jacoco-initialize&lt;/id&gt;\r\n    \t\t\t&lt;goals&gt;\r\n    \t\t\t\t&lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n    \t\t\t&lt;/goals&gt;\r\n    \t\t&lt;/execution&gt;\r\n    \t\t&lt;execution&gt;\r\n    \t\t\t&lt;id&gt;jacoco-site&lt;/id&gt;\r\n    \t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n    \t\t\t&lt;goals&gt;\r\n    \t\t\t\t&lt;goal&gt;report&lt;/goal&gt;\r\n    \t\t\t&lt;/goals&gt;\r\n    \t\t&lt;/execution&gt;\r\n    \t&lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nIn no pom did I explicitly mention surefire. I also tried what you find everywhere to put the argLine in the configuration but all with the same result. The JaCoCo .exec file has never been created, no matter what I do. As for the goals, I use \r\n\r\n    mvn clean install jacoco:prepare-agent jacoco:report\r\n\r\nSince when I omit the jacoco goals, it doesn&#39;t even display the INFO message.","title":"JaCoCo with Maven - missing execution data file","body":"<p>We have a Maven multi module project consisting of a parent (HelloWorld) and different children (HelloWorldServices and HelloWorldPresentation) and use Jenkins to build.</p>\n\n<p>The error after running the successful test is</p>\n\n<pre><code>[INFO] --- jacoco-maven-plugin:0.7.6.201602180812:report (default-cli) @ HelloWorldServices ---\n[INFO] Skipping JaCoCo execution due to missing execution data file:/var/lib/jenkins/workspace/HelloWorld/HelloWorldServices/target/jacoco.exec\n</code></pre>\n\n<p>The lines before it says</p>\n\n<pre><code>[INFO] --- jacoco-maven-plugin:0.7.6.201602180812:prepare-agent (default-cli) @ HelloWorldServices ---\n[INFO] argLine set to -javaagent:/var/lib/jenkins/.m2/repository/org/jacoco/org.jacoco.agent/0.7.6.201602180812/org.jacoco.agent-0.7.6.201602180812-runtime.jar=destfile=/var/lib/jenkins/workspace/HelloWorld/HelloWorldServices/target/jacoco.exec\n</code></pre>\n\n<p>This is how I defined the parent pom JaCoCo plugin:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;0.7.6.201602180812&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;destfile&gt;${project.artifactId}/target/jacoco.exec&lt;/destfile&gt;\n        &lt;datafile&gt;${project.artifactId}/target/jacoco.exec&lt;/datafile&gt;\n    &lt;/configuration&gt;\n\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;jacoco-initialize&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;prepare-agent&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n        &lt;execution&gt;\n            &lt;id&gt;jacoco-site&lt;/id&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;report&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>In no pom did I explicitly mention surefire. I also tried what you find everywhere to put the argLine in the configuration but all with the same result. The JaCoCo .exec file has never been created, no matter what I do. As for the goals, I use </p>\n\n<pre><code>mvn clean install jacoco:prepare-agent jacoco:report\n</code></pre>\n\n<p>Since when I omit the jacoco goals, it doesn't even display the INFO message.</p>\n"},{"tags":["java","date","datetime","google-bigquery","iso8601"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1552536483,"post_id":55154554,"comment_id":97049582,"body_markdown":"Substitute the `T` with a space?","body":"Substitute the <code>T</code> with a space?"}],"answers":[{"tags":[],"owner":{"account_id":45023,"reputation":56015,"user_id":132438,"accept_rate":43,"display_name":"Felipe Hoffa"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1552541450,"creation_date":1552536410,"answer_id":55154820,"question_id":55154554,"body_markdown":"The error says this is not the right format:\r\n\r\n     &quot;2019-02-27T23:00:00.000Z&quot;\r\n\r\nBut this one would be:\r\n\r\n     &quot;yyyy-MM-dd HH:mm:ss.SSSSSSZZ&quot;\r\n\r\nTry replacing the `T` between date and time with a ` `.","title":"Error when converting to BigQuery timestamp from ISO 8601 date string","body":"<p>The error says this is not the right format:</p>\n\n<pre><code> \"2019-02-27T23:00:00.000Z\"\n</code></pre>\n\n<p>But this one would be:</p>\n\n<pre><code> \"yyyy-MM-dd HH:mm:ss.SSSSSSZZ\"\n</code></pre>\n\n<p>Try replacing the <code>T</code> between date and time with a <code></code>.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1552537355,"creation_date":1552536867,"answer_id":55154865,"question_id":55154554,"body_markdown":"# ISO 8601 versus SQL\r\n\r\n\r\nThe [ISO 8601][1] standard uses a `T` in the middle to separate the year-month-day portion from the hour-minute-second portion. \r\n\r\nThe [SQL][2] style uses a SPACE in the middle rather than a `T`. \r\n\r\nReplace. \r\n\r\n    String input = &quot;2019-02-27T23:00:00.000Z&quot;.replace( &quot;T&quot; , &quot; &quot; ) ;\r\n    QueryParameterValue.timestamp( input ) ;\r\n\r\nDitto for going the other direction. The *java.time* classes use the ISO 8601 formats by default when parsing/generating text.\r\n\r\n    String input = &quot;2019-02-27 23:00:00.000Z&quot;.replace( &quot; &quot; , &quot;T&quot; ) ;\r\n    Instant instant = Instant.parse( input ) ;\r\n    ZonedDateTime zdt = instant.atZone( ZoneId.of( &quot;Pacific/Auckland&quot; ) ) ;\r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/ISO_8601\r\n  [2]: https://en.m.wikipedia.org/wiki/SQL","title":"Error when converting to BigQuery timestamp from ISO 8601 date string","body":"<h1>ISO 8601 versus SQL</h1>\n\n<p>The <a href=\"https://en.m.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> standard uses a <code>T</code> in the middle to separate the year-month-day portion from the hour-minute-second portion. </p>\n\n<p>The <a href=\"https://en.m.wikipedia.org/wiki/SQL\" rel=\"nofollow noreferrer\">SQL</a> style uses a SPACE in the middle rather than a <code>T</code>. </p>\n\n<p>Replace. </p>\n\n<pre><code>String input = \"2019-02-27T23:00:00.000Z\".replace( \"T\" , \" \" ) ;\nQueryParameterValue.timestamp( input ) ;\n</code></pre>\n\n<p>Ditto for going the other direction. The <em>java.time</em> classes use the ISO 8601 formats by default when parsing/generating text.</p>\n\n<pre><code>String input = \"2019-02-27 23:00:00.000Z\".replace( \" \" , \"T\" ) ;\nInstant instant = Instant.parse( input ) ;\nZonedDateTime zdt = instant.atZone( ZoneId.of( \"Pacific/Auckland\" ) ) ;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1686812,"reputation":29802,"user_id":1549918,"accept_rate":43,"display_name":"Chris Halcrow"},"score":1,"creation_date":1552538762,"post_id":55155067,"comment_id":97050055,"body_markdown":"Thanks @Ole V.V. I found that it&#39;s microseconds since the epoch that needs to be passed if a `long` is being passed - see my answer","body":"Thanks @Ole V.V. I found that it&#39;s microseconds since the epoch that needs to be passed if a <code>long</code> is being passed - see my answer"}],"tags":[],"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1552643788,"creation_date":1552538462,"answer_id":55155067,"question_id":55154554,"body_markdown":"I would expect the answer the answer by Felipe Hoffa to work and give you what you want: replace the `T` with a space. Here are a couple of other suggestions.\r\n\r\n**Be explicit:** While the documentation gives a quite clear example of an expected string, its not clear from the error message nor from the documentation (link below, but youve got it in Eclipse already) whether `QueryParameterValue.timestamp` accepts the `Z` as an offset. If we want to be sure and also be more explicit about supplying the format asked for (always nice for those managing your code after you):\r\n\r\n\t\tDateTimeFormatter timestampFormatter\r\n\t\t\t\t= DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss.SSSSSSxxx&quot;);\r\n\t\tString myIsoDateString = &quot;2019-02-27T23:00:00.000Z&quot;;\r\n\t\tOffsetDateTime dateTime = OffsetDateTime.parse(myIsoDateString);\r\n\t\tQueryParameterValue.timestamp(dateTime.format(timestampFormatter));\r\n\r\nThis passes the string `2019-02-27 23:00:00.000000+00:00` to `timestamp`.\r\n\r\n**Pass a long:** `timestamp` comes in an overloaded version taking a `Long` argument. Again its not documented what the long value should be. Edit: Your own answer revealed that `timestamp(Long)` requires microseconds since the epoch. The fully correct way to convert without any risk of unnecessary loss of precision is:\r\n\r\n\t\tString myIsoDateString = &quot;2019-02-27T23:00:00.000Z&quot;;\r\n\t\tInstant dateTime = Instant.parse(myIsoDateString);\r\n\t\tlong microsecondsSinceEpoch = TimeUnit.SECONDS.toMicros(dateTime.getEpochSecond())\r\n\t\t\t\t+ TimeUnit.NANOSECONDS.toMicros(dateTime.getNano());\r\n\t\tQueryParameterValue.timestamp(microsecondsSinceEpoch);\r\n\r\nA value of 1 551 308 400 000 000 is passed to `timestamp`.\r\n\r\n**Disclaimer:** Im not a BigQuery user.\r\n\r\n## Links\r\n\r\n - [`QueryParameterValue` documentation](https://googleapis.github.io/google-cloud-java/google-cloud-clients/apidocs/com/google/cloud/bigquery/QueryParameterValue.html)\r\n - [Oracle tutorial: Date Time](https://docs.oracle.com/javase/tutorial/datetime/)\r\n\r\n","title":"Error when converting to BigQuery timestamp from ISO 8601 date string","body":"<p>I would expect the answer the answer by Felipe Hoffa to work and give you what you want: replace the <code>T</code> with a space. Here are a couple of other suggestions.</p>\n\n<p><strong>Be explicit:</strong> While the documentation gives a quite clear example of an expected string, its not clear from the error message nor from the documentation (link below, but youve got it in Eclipse already) whether <code>QueryParameterValue.timestamp</code> accepts the <code>Z</code> as an offset. If we want to be sure and also be more explicit about supplying the format asked for (always nice for those managing your code after you):</p>\n\n<pre><code>    DateTimeFormatter timestampFormatter\n            = DateTimeFormatter.ofPattern(\"uuuu-MM-dd HH:mm:ss.SSSSSSxxx\");\n    String myIsoDateString = \"2019-02-27T23:00:00.000Z\";\n    OffsetDateTime dateTime = OffsetDateTime.parse(myIsoDateString);\n    QueryParameterValue.timestamp(dateTime.format(timestampFormatter));\n</code></pre>\n\n<p>This passes the string <code>2019-02-27 23:00:00.000000+00:00</code> to <code>timestamp</code>.</p>\n\n<p><strong>Pass a long:</strong> <code>timestamp</code> comes in an overloaded version taking a <code>Long</code> argument. Again its not documented what the long value should be. Edit: Your own answer revealed that <code>timestamp(Long)</code> requires microseconds since the epoch. The fully correct way to convert without any risk of unnecessary loss of precision is:</p>\n\n<pre><code>    String myIsoDateString = \"2019-02-27T23:00:00.000Z\";\n    Instant dateTime = Instant.parse(myIsoDateString);\n    long microsecondsSinceEpoch = TimeUnit.SECONDS.toMicros(dateTime.getEpochSecond())\n            + TimeUnit.NANOSECONDS.toMicros(dateTime.getNano());\n    QueryParameterValue.timestamp(microsecondsSinceEpoch);\n</code></pre>\n\n<p>A value of 1 551 308 400 000 000 is passed to <code>timestamp</code>.</p>\n\n<p><strong>Disclaimer:</strong> Im not a BigQuery user.</p>\n\n<h2>Links</h2>\n\n<ul>\n<li><a href=\"https://googleapis.github.io/google-cloud-java/google-cloud-clients/apidocs/com/google/cloud/bigquery/QueryParameterValue.html\" rel=\"nofollow noreferrer\"><code>QueryParameterValue</code> documentation</a></li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">Oracle tutorial: Date Time</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1552539303,"post_id":55155071,"comment_id":97050168,"body_markdown":"Thanks for supplying the solution you found. Id probably prefer the more explicative (but also longer) `TimeUnit.MILLISECONDS.toMicros(milliSecondValue)`. Which in turn still loses the microsecond precision from the string (had it had microsecond precision). The perfect conversion exists, but would be still a bit longer.","body":"Thanks for supplying the solution you found. Id probably prefer the more explicative (but also longer) <code>TimeUnit.MILLISECONDS.toMicros(milliSecondValue)</code>. Which in turn still loses the microsecond precision from the string (had it had microsecond precision). The perfect conversion exists, but would be still a bit longer."},{"owner":{"account_id":1686812,"reputation":29802,"user_id":1549918,"accept_rate":43,"display_name":"Chris Halcrow"},"score":1,"creation_date":1552618637,"post_id":55155071,"comment_id":97088584,"body_markdown":"@OleV.V. yes - I&#39;ve updated the answer to show this, thanks. If you edit your answer a bit more to remove the initial assumption about milliseconds, I can mark it as the answer (I don&#39;t mind you borrowing on my solution, as long as there&#39;s a good and complete answer to the question :)","body":"@OleV.V. yes - I&#39;ve updated the answer to show this, thanks. If you edit your answer a bit more to remove the initial assumption about milliseconds, I can mark it as the answer (I don&#39;t mind you borrowing on my solution, as long as there&#39;s a good and complete answer to the question :)"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1552643941,"post_id":55155071,"comment_id":97097774,"body_markdown":"Thanks. Chris, thats kind. I think you should accept your own answer as being most helpful to solve your own problem. In any case you are correct, there was nothing helpful about my wrong guess, so I have taken it out of my answer.","body":"Thanks. Chris, thats kind. I think you should accept your own answer as being most helpful to solve your own problem. In any case you are correct, there was nothing helpful about my wrong guess, so I have taken it out of my answer."}],"tags":[],"owner":{"account_id":1686812,"reputation":29802,"user_id":1549918,"accept_rate":43,"display_name":"Chris Halcrow"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1552618927,"creation_date":1552538480,"answer_id":55155071,"question_id":55154554,"body_markdown":"This works:\r\n\r\n    import org.joda.time.DateTime;\r\n    import org.joda.time.DateTimeZone;\r\n\r\nConvert `myIsoDateString` to microseconds and store it as a `long`:\r\n\r\n    long myDateInMicroseconds = DateTime.parse(myIsoDateString).toDateTime(DateTimeZone.UTC).getMillis() * 1000;\r\n\r\nThen pass it as the argument to QueryParameterValue.timestamp:\r\n\r\n    QueryParameterValue.timestamp(myDateInMicroseconds)\r\n\r\n\r\n\r\n","title":"Error when converting to BigQuery timestamp from ISO 8601 date string","body":"<p>This works:</p>\n\n<pre><code>import org.joda.time.DateTime;\nimport org.joda.time.DateTimeZone;\n</code></pre>\n\n<p>Convert <code>myIsoDateString</code> to microseconds and store it as a <code>long</code>:</p>\n\n<pre><code>long myDateInMicroseconds = DateTime.parse(myIsoDateString).toDateTime(DateTimeZone.UTC).getMillis() * 1000;\n</code></pre>\n\n<p>Then pass it as the argument to QueryParameterValue.timestamp:</p>\n\n<pre><code>QueryParameterValue.timestamp(myDateInMicroseconds)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":179324,"reputation":3673,"user_id":411905,"accept_rate":75,"display_name":"Tomasz Kalkosiski"},"score":5,"creation_date":1590586061,"post_id":56264430,"comment_id":109734897,"body_markdown":"Thanks! This should be on Documentation page!","body":"Thanks! This should be on Documentation page!"},{"owner":{"account_id":3784823,"reputation":614,"user_id":3143112,"accept_rate":75,"display_name":"nomadic_squirrel"},"score":0,"creation_date":1644883058,"post_id":56264430,"comment_id":125718528,"body_markdown":"Agreed on having this in the doc. If anyone else wants to throw some feedback on this page, together, we can achieve more :D\nhttps://cloud.google.com/bigquery/docs/reference/standard-sql/datetime_functions#supported_format_elements_for_datetime","body":"Agreed on having this in the doc. If anyone else wants to throw some feedback on this page, together, we can achieve more :D <a href=\"https://cloud.google.com/bigquery/docs/reference/standard-sql/datetime_functions#supported_format_elements_for_datetime\" rel=\"nofollow noreferrer\">cloud.google.com/bigquery/docs/reference/standard-sql/&hellip;</a>"},{"owner":{"account_id":4406776,"reputation":189,"user_id":3590940,"display_name":"Bish"},"score":0,"creation_date":1669553754,"post_id":56264430,"comment_id":131662732,"body_markdown":"Although not what the OP asked, if you don&#39;t have the Z part, try this:\n`SELECT PARSE_TIMESTAMP(&#39;%Y-%m-%dT%H:%M:%E*S&#39;, &#39;2022-11-27T00:18:13.081185&#39;) `","body":"Although not what the OP asked, if you don&#39;t have the Z part, try this: <code>SELECT PARSE_TIMESTAMP(&#39;%Y-%m-%dT%H:%M:%E*S&#39;, &#39;2022-11-27T00:18:13.081185&#39;) </code>"}],"tags":[],"owner":{"account_id":3972601,"reputation":1416,"user_id":3276768,"accept_rate":65,"display_name":"user3276768"},"comment_count":3,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1558556456,"creation_date":1558556456,"answer_id":56264430,"question_id":55154554,"body_markdown":"To anyone who is just trying to parse ISO 8601 in BigQuery (this post is the first Google result), try this:\r\n\r\n    SELECT\r\n    PARSE_TIMESTAMP(&#39;%Y-%m-%dT%H:%M:%E*SZ&#39;,  &#39;2018-10-12T13:22:27.120Z&#39;)","title":"Error when converting to BigQuery timestamp from ISO 8601 date string","body":"<p>To anyone who is just trying to parse ISO 8601 in BigQuery (this post is the first Google result), try this:</p>\n\n<pre><code>SELECT\nPARSE_TIMESTAMP('%Y-%m-%dT%H:%M:%E*SZ',  '2018-10-12T13:22:27.120Z')\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19965406,"reputation":1,"user_id":14632093,"display_name":"Alessandro Bartsch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683709081,"creation_date":1683709081,"answer_id":76216597,"question_id":55154554,"body_markdown":"In case someone is having problems figuring it out for the format:\r\n\r\n    2023-01-01T00:00:00.000+01:00\r\nI used this method to parse the string (according with these [options][1]):\r\n\r\n    PARSE_TIMESTAMP(&#39;%FT%R:%E3S%Ez&#39;, &#39;2023-01-01T00:00:00.000+01:00&#39;)\r\n\r\n\r\n  [1]: https://cloud.google.com/bigquery/docs/reference/standard-sql/format-elements#format_elements_date_time","title":"Error when converting to BigQuery timestamp from ISO 8601 date string","body":"<p>In case someone is having problems figuring it out for the format:</p>\n<pre><code>2023-01-01T00:00:00.000+01:00\n</code></pre>\n<p>I used this method to parse the string (according with these <a href=\"https://cloud.google.com/bigquery/docs/reference/standard-sql/format-elements#format_elements_date_time\" rel=\"nofollow noreferrer\">options</a>):</p>\n<pre><code>PARSE_TIMESTAMP('%FT%R:%E3S%Ez', '2023-01-01T00:00:00.000+01:00')\n</code></pre>\n"}],"owner":{"account_id":1686812,"reputation":29802,"user_id":1549918,"accept_rate":43,"display_name":"Chris Halcrow"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11186,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":55155071,"answer_count":6,"score":7,"last_activity_date":1683709081,"creation_date":1552534287,"question_id":55154554,"body_markdown":"I have an ISO 8601 date string in the following format:\r\n\r\n    String myIsoDateString = &quot;2019-02-27T23:00:00.000Z&quot;\r\n\r\nI need to use the date string as part of a query I&#39;m running in BigQuery. I&#39;m trying to use the `com.google.cloud.bigquery.QueryParameterValue` class to convert it to a `QueryParameterValue`, with a type of `timestamp`, like this:\r\n\r\n    QueryParameterValue.timestamp(myIsoDateString)\r\n\r\nThis gives me an error:\r\n\r\n    java.lang.IllegalArgumentException: Invalid format: &quot;2019-02-27T23:00:00.000Z&quot; is malformed at &quot;T23:00:00.000Z&quot;\r\n\r\nThe inline help in Eclipse for the timestamp method states that it:\r\n\r\n    Creates a QueryParameterValue object with a type of TIMESTAMP. Must be in the format&quot;yyyy-MM-dd HH:mm:ss.SSSSSSZZ&quot;, e.g. &quot;2014-08-19 12:41:35.220000+00:00&quot;.\r\n\r\nHow do I convert `myIsoDateString` to the required format? Is there a better method I can use that will handle converting from an ISO 8601 string to a timestamp in BigQuery?","title":"Error when converting to BigQuery timestamp from ISO 8601 date string","body":"<p>I have an ISO 8601 date string in the following format:</p>\n\n<pre><code>String myIsoDateString = \"2019-02-27T23:00:00.000Z\"\n</code></pre>\n\n<p>I need to use the date string as part of a query I'm running in BigQuery. I'm trying to use the <code>com.google.cloud.bigquery.QueryParameterValue</code> class to convert it to a <code>QueryParameterValue</code>, with a type of <code>timestamp</code>, like this:</p>\n\n<pre><code>QueryParameterValue.timestamp(myIsoDateString)\n</code></pre>\n\n<p>This gives me an error:</p>\n\n<pre><code>java.lang.IllegalArgumentException: Invalid format: \"2019-02-27T23:00:00.000Z\" is malformed at \"T23:00:00.000Z\"\n</code></pre>\n\n<p>The inline help in Eclipse for the timestamp method states that it:</p>\n\n<pre><code>Creates a QueryParameterValue object with a type of TIMESTAMP. Must be in the format\"yyyy-MM-dd HH:mm:ss.SSSSSSZZ\", e.g. \"2014-08-19 12:41:35.220000+00:00\".\n</code></pre>\n\n<p>How do I convert <code>myIsoDateString</code> to the required format? Is there a better method I can use that will handle converting from an ISO 8601 string to a timestamp in BigQuery?</p>\n"},{"tags":["java","spring","spring-boot"],"owner":{"account_id":26952196,"reputation":23,"user_id":20521229,"display_name":"TechNewPy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683708466,"creation_date":1683708466,"question_id":76216515,"body_markdown":"I&#39;m comparing a Json object if it has different values, to achieve this, I created a list and I&#39;m extracting the elements from the dto, and adding it to the new list.\r\n\r\nIf the elements inside the list don&#39;t match throw an error from a class created named &quot;ExceptionHandler&quot;. \r\n\r\nthe error message works for all other validation but with this one is returning null !!\r\n\r\n    core.exception.ExceptionHandler: null\r\n\r\n\r\nThe object that I&#39;m trying to compare is the &quot;PaymentProcessor&quot;\r\n{\r\n\r\n\r\n        &quot;items&quot;: [\r\n        {\r\n            &quot;paymentProcessor&quot;: &quot;VISA&quot;,\r\n            &quot;type&quot;: &quot;CARD&quot;,\r\n            &quot;refferedType&quot;: &quot;RECHARGE&quot;,\r\n        },\r\n        {\r\n            &quot;paymentProcessor&quot;: &quot;xx&quot;,\r\n            &quot;type&quot;: &quot;CARD&quot;,\r\n            &quot;referredType&quot;: &quot;RECHARGE&quot;,\r\n        }\r\n    ]\r\n}\r\n\r\nthe code:\r\n\r\n           List&lt;String&gt; paymentProcessor = new ArrayList&lt;&gt;();\r\n\r\n        for(Items item : initiatePaymentDto.getItems()){\r\n            if(item.getPaymentProcessor()==null){\r\n                throw  new ExceptionHandler(&quot;PaymentProcessor Must not Be null!&quot;);\r\n            }\r\n            if(item.getAmount()==null){\r\n                throw new ExceptionHandler(&quot;Amount Must not Be null!&quot;);\r\n\r\n            }\r\n            paymentProcessor.add(item.getPaymentProcessor());\r\n        }\r\n\r\n\r\n        if(Collections.frequency(paymentProcessor, paymentProcessor.get(0)) == paymentProcessor.size()==false){\r\n            throw  new ExceptionHandler(&quot;Multiple payment processor is not supported!&quot;);\r\n        }\r\nexception class:\r\n\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class ExceptionHandler extends Throwable {\r\n    \r\n        private String errorDetails;\r\n    }\r\n\r\ncontroller:\r\n\r\n    @PostMapping(path=&quot;/paymentProcess&quot;)\r\n    public PaymentResponse paymentProcess(@RequestBody \r\n    \r\n    PaymentProcessDto initiatePaymentDto) throws ExceptionHandler {\r\n            return pyamentProcessService.paymentProcessRequest(initiatePaymentDto);\r\n            }\r\n","title":"null error when throwing an exception comparing elements in a list","body":"<p>I'm comparing a Json object if it has different values, to achieve this, I created a list and I'm extracting the elements from the dto, and adding it to the new list.</p>\n<p>If the elements inside the list don't match throw an error from a class created named &quot;ExceptionHandler&quot;.</p>\n<p>the error message works for all other validation but with this one is returning null !!</p>\n<pre><code>core.exception.ExceptionHandler: null\n</code></pre>\n<p>The object that I'm trying to compare is the &quot;PaymentProcessor&quot;\n{</p>\n<pre><code>    &quot;items&quot;: [\n    {\n        &quot;paymentProcessor&quot;: &quot;VISA&quot;,\n        &quot;type&quot;: &quot;CARD&quot;,\n        &quot;refferedType&quot;: &quot;RECHARGE&quot;,\n    },\n    {\n        &quot;paymentProcessor&quot;: &quot;xx&quot;,\n        &quot;type&quot;: &quot;CARD&quot;,\n        &quot;referredType&quot;: &quot;RECHARGE&quot;,\n    }\n]\n</code></pre>\n<p>}</p>\n<p>the code:</p>\n<pre><code>       List&lt;String&gt; paymentProcessor = new ArrayList&lt;&gt;();\n\n    for(Items item : initiatePaymentDto.getItems()){\n        if(item.getPaymentProcessor()==null){\n            throw  new ExceptionHandler(&quot;PaymentProcessor Must not Be null!&quot;);\n        }\n        if(item.getAmount()==null){\n            throw new ExceptionHandler(&quot;Amount Must not Be null!&quot;);\n\n        }\n        paymentProcessor.add(item.getPaymentProcessor());\n    }\n\n\n    if(Collections.frequency(paymentProcessor, paymentProcessor.get(0)) == paymentProcessor.size()==false){\n        throw  new ExceptionHandler(&quot;Multiple payment processor is not supported!&quot;);\n    }\n</code></pre>\n<p>exception class:</p>\n<pre><code>@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class ExceptionHandler extends Throwable {\n\n    private String errorDetails;\n}\n</code></pre>\n<p>controller:</p>\n<pre><code>@PostMapping(path=&quot;/paymentProcess&quot;)\npublic PaymentResponse paymentProcess(@RequestBody \n\nPaymentProcessDto initiatePaymentDto) throws ExceptionHandler {\n        return pyamentProcessService.paymentProcessRequest(initiatePaymentDto);\n        }\n</code></pre>\n"},{"tags":["java","selenium-webdriver","junit5"],"owner":{"account_id":10421616,"reputation":4105,"user_id":11061080,"display_name":"SeleniumUser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683708291,"creation_date":1683708291,"question_id":76216493,"body_markdown":"\r\nI am trying to capture screenshots using custom annotation from junit 5 but no luck yet. Test is working fine but without capturing screenshots :\r\n\r\n    @Inherited\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @ResourceLock(value = SYSTEM_PROPERTIES, mode = READ)\r\n    @Target({ TYPE, METHOD, ANNOTATION_TYPE })\r\n    @Test\r\n    @Documented\r\n    public @interface UserTest {\r\n    \r\n    }\r\n\r\nJunit 5 class : \r\n\r\n    class WhenSearchingForTerms {\r\n    @Managed(driver = &quot;chrome&quot;)\r\n    WebDriver driver;\r\n\r\n    @Steps\r\n    NavigateActions navigate;**strong text**\r\n    @UserTest()\r\n    void searchBySingleKeyword() {\r\n    navigate.toTheHomePage();        \r\n      }\r\n    }\r\n\r\nbut when I am running same test without custom annotation its capturing screenshots. Below code capture screenshot but I want to capture screenshots with custom junit 5 annotation mentioned above. I am not sure what it is I need to do further. Can someone help me please?\r\n\r\n    class WhenSearchingForTerms {\r\n        @Managed(driver = &quot;chrome&quot;)\r\n        WebDriver driver;\r\n    \r\n        @Steps\r\n        NavigateActions navigate;\r\n        @Test\r\n        void searchBySingleKeyword() {\r\n        navigate.toTheHomePage();        \r\n          }\r\n        }","title":"How to capture screenshots with Junit5 Custom annotations?","body":"<p>I am trying to capture screenshots using custom annotation from junit 5 but no luck yet. Test is working fine but without capturing screenshots :</p>\n<pre><code>@Inherited\n@Retention(RetentionPolicy.RUNTIME)\n@ResourceLock(value = SYSTEM_PROPERTIES, mode = READ)\n@Target({ TYPE, METHOD, ANNOTATION_TYPE })\n@Test\n@Documented\npublic @interface UserTest {\n\n}\n</code></pre>\n<p>Junit 5 class :</p>\n<pre><code>class WhenSearchingForTerms {\n@Managed(driver = &quot;chrome&quot;)\nWebDriver driver;\n\n@Steps\nNavigateActions navigate;**strong text**\n@UserTest()\nvoid searchBySingleKeyword() {\nnavigate.toTheHomePage();        \n  }\n}\n</code></pre>\n<p>but when I am running same test without custom annotation its capturing screenshots. Below code capture screenshot but I want to capture screenshots with custom junit 5 annotation mentioned above. I am not sure what it is I need to do further. Can someone help me please?</p>\n<pre><code>class WhenSearchingForTerms {\n    @Managed(driver = &quot;chrome&quot;)\n    WebDriver driver;\n\n    @Steps\n    NavigateActions navigate;\n    @Test\n    void searchBySingleKeyword() {\n    navigate.toTheHomePage();        \n      }\n    }\n</code></pre>\n"},{"tags":["java","unit-testing","continuous-integration"],"owner":{"account_id":16273882,"reputation":341,"user_id":11751642,"display_name":"AMAN SHARMA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683707802,"creation_date":1683707067,"question_id":76216338,"body_markdown":"I am working on a project called [collector-sahab][1]. It provides the execution difference of a patch. Following is a example:\r\n\r\n[![execution difference][2]][2]\r\n\r\nWe run a specific set of tests that we know will at least cover the diff. Although we can run the entire test suite, we do not because it creates enormous traces and we run out of memory. I am looking for a **purely static** way to **find a subset of tests to run based on the diff**.\r\n\r\nThe most primitive way could be to find the test based on directory structure in java. For example, the test of `src/main/java/foo/Main.java` will be in `src/test/java/foo/MainTest.java`. However, in practice, this is a bold assumption, and we will also not be able to extend the approach to getting test methods instead of test classes.\r\n\r\nAnother way I looked up was to use [`jdeps`][3]. However, when I tried to test it for some of classes in my source code, I did not get an expected result. For example, I ran the following command:\r\n\r\n```sh\r\n$ jdeps -verbose:class -R main/target/test-classes/PomTransformerTest.class\r\n```\r\n**Output**\r\n```\r\nPomTransformerTest.class -&gt; java.base\r\nPomTransformerTest.class -&gt; not found\r\n   PomTransformerTest                                 -&gt; PomTransformerTest$Compiler                        not found\r\n   PomTransformerTest                                 -&gt; PomTransformerTest$Compiler$ModifyProperties       not found\r\n   PomTransformerTest                                 -&gt; PomTransformerTest$Surefire                        not found\r\n   PomTransformerTest                                 -&gt; java.lang.Object                                   java.base\r\n\r\n```\r\n\r\nI was expecting it also to mention [`PomTransformer`][4] in the output, but it did not and I am not sure why.\r\n\r\nAnyway, any suggestion regarding different strategies would help. An explanation of why the expected class file (`PomTransfomer.class`) is not reported shall also help.\r\n\r\n\r\n  [1]: https://github.com/ASSERT-KTH/collector-sahab\r\n  [2]: https://i.stack.imgur.com/41oum.png\r\n  [3]: https://docs.oracle.com/en/java/javase/11/tools/jdeps.html\r\n  [4]: https://github.com/ASSERT-KTH/collector-sahab/blob/main/main/src/main/java/io/github/chains_project/cs/preprocess/PomTransformer.java","title":"Execute tests based on the diff","body":"<p>I am working on a project called <a href=\"https://github.com/ASSERT-KTH/collector-sahab\" rel=\"nofollow noreferrer\">collector-sahab</a>. It provides the execution difference of a patch. Following is a example:</p>\n<p><a href=\"https://i.stack.imgur.com/41oum.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/41oum.png\" alt=\"execution difference\" /></a></p>\n<p>We run a specific set of tests that we know will at least cover the diff. Although we can run the entire test suite, we do not because it creates enormous traces and we run out of memory. I am looking for a <strong>purely static</strong> way to <strong>find a subset of tests to run based on the diff</strong>.</p>\n<p>The most primitive way could be to find the test based on directory structure in java. For example, the test of <code>src/main/java/foo/Main.java</code> will be in <code>src/test/java/foo/MainTest.java</code>. However, in practice, this is a bold assumption, and we will also not be able to extend the approach to getting test methods instead of test classes.</p>\n<p>Another way I looked up was to use <a href=\"https://docs.oracle.com/en/java/javase/11/tools/jdeps.html\" rel=\"nofollow noreferrer\"><code>jdeps</code></a>. However, when I tried to test it for some of classes in my source code, I did not get an expected result. For example, I ran the following command:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ jdeps -verbose:class -R main/target/test-classes/PomTransformerTest.class\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>PomTransformerTest.class -&gt; java.base\nPomTransformerTest.class -&gt; not found\n   PomTransformerTest                                 -&gt; PomTransformerTest$Compiler                        not found\n   PomTransformerTest                                 -&gt; PomTransformerTest$Compiler$ModifyProperties       not found\n   PomTransformerTest                                 -&gt; PomTransformerTest$Surefire                        not found\n   PomTransformerTest                                 -&gt; java.lang.Object                                   java.base\n\n</code></pre>\n<p>I was expecting it also to mention <a href=\"https://github.com/ASSERT-KTH/collector-sahab/blob/main/main/src/main/java/io/github/chains_project/cs/preprocess/PomTransformer.java\" rel=\"nofollow noreferrer\"><code>PomTransformer</code></a> in the output, but it did not and I am not sure why.</p>\n<p>Anyway, any suggestion regarding different strategies would help. An explanation of why the expected class file (<code>PomTransfomer.class</code>) is not reported shall also help.</p>\n"},{"tags":["java","mysql","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":18400861,"reputation":294,"user_id":13403970,"display_name":"ggr"},"score":0,"creation_date":1683660916,"post_id":76212754,"comment_id":134400194,"body_markdown":"It is strange that the second call is working, given that the first &quot;if&quot; is wrong.\nDo you save any entity in websiteRepository ?","body":"It is strange that the second call is working, given that the first &quot;if&quot; is wrong. Do you save any entity in websiteRepository ?"}],"answers":[{"tags":[],"owner":{"account_id":28132873,"reputation":16,"user_id":21864786,"display_name":"Be nice to others"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683661029,"creation_date":1683661029,"answer_id":76212859,"question_id":76212754,"body_markdown":"When _cookieBanner_ is null, you create a new CookieBanner, but you don&#39;t set it to _website_. \r\nAfter `cookieBanner = new CookieBanner();`, try `website.setCookieBanner(cookieBanner);` to see if works for you.","title":"Springboot GET request endpoint","body":"<p>When <em>cookieBanner</em> is null, you create a new CookieBanner, but you don't set it to <em>website</em>.\nAfter <code>cookieBanner = new CookieBanner();</code>, try <code>website.setCookieBanner(cookieBanner);</code> to see if works for you.</p>\n"}],"owner":{"account_id":24687279,"reputation":13,"user_id":18580290,"display_name":"salinda yasas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76212859,"answer_count":1,"score":-1,"last_activity_date":1683707740,"creation_date":1683659873,"question_id":76212754,"body_markdown":"Below I have attached a method in my service layer. It handles a GET request. Below method is working but when testing it in postman, when I am sending a new ID, In the first time of the sending the request it returns a empty array but in the second time when sending the request it returns the array with saved values in t1 and t2 objects. I can&#39;t figure out why it is returning an empty array in the first time I am sending the request. Below I have attached my controller and service methods.\r\n\r\n```\r\npackage com.websafe.ccmsbe.controller;\r\n\r\nimport com.websafe.ccmsbe.entity.CookieBannerTemplate;\r\nimport com.websafe.ccmsbe.service.CookieBannerTemplateService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.util.List;\r\n\r\n@RestController\r\n@RequestMapping(value = &quot;api/template&quot;)\r\n@CrossOrigin(value = &quot;http://localhost:3000&quot;)\r\npublic class CookieBannerTemplateController {\r\n\r\n    @Autowired\r\n    CookieBannerTemplateService cookieBannerTemplateService;\r\n\r\n    @GetMapping(&quot;getAllTemplates/{websiteID}&quot;)\r\n    public List&lt;CookieBannerTemplate&gt; getAllTemplates(@PathVariable(name = &quot;websiteID&quot;)Long websiteID){\r\n                return cookieBannerTemplateService.getAllTemplates(websiteID);\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@Service\r\npublic class CookieBannerTemplateService {\r\n\r\n    @Autowired\r\n    CookieBannerTemplateRepository cookieBannerTemplateRepository;\r\n\r\n    @Autowired\r\n    CookieBannerRepository cookieBannerRepository;\r\n\r\n    @Autowired\r\n    WebsiteRepository websiteRepository;\r\n\r\n\r\n  \r\n\r\n\r\n    public List&lt;CookieBannerTemplate&gt; getAllTemplates(Long websiteID) {\r\n        Website website = websiteRepository.findById(websiteID).orElse(null);\r\n        if (website != null){\r\n            CookieBanner cookieBanner = website.getCookieBanner();\r\n            if( cookieBanner == null) {\r\n                cookieBanner = new CookieBanner();\r\n                cookieBanner.setWebsite(website);\r\n                cookieBanner.setBannerAlignment(&quot;Right&quot;);\r\n                cookieBanner.setBannerColor(&quot;Dark Grey&quot;);\r\n                cookieBanner.setBannerPosition(&quot;Center&quot;);\r\n                cookieBannerRepository.save(cookieBanner);\r\n\r\n                int n = website.getPrivacyRegulations().size();\r\n                System.out.println(&quot;length = &quot; + n);\r\n\r\n                CookieBannerTemplate t1 = new CookieBannerTemplate();\r\n                CookieBannerTemplate t2 = new CookieBannerTemplate();\r\n\r\n                t1.setCookieBanner(cookieBanner);\r\n                t1.setTemplateContent(&quot;default content&quot;);\r\n                t1.setTemplateRegulation(&quot;GDPR&quot;);\r\n                t1.setTemplateName(&quot;Websafe-GDPR&quot;);\r\n                cookieBannerTemplateRepository.save(t1);\r\n\r\n                t2.setCookieBanner(cookieBanner);\r\n                t2.setTemplateContent(&quot;default content&quot;);\r\n                t2.setTemplateRegulation(&quot;CCPA&quot;);\r\n                t2.setTemplateName(&quot;Websafe-CCPA&quot;);\r\n                cookieBannerTemplateRepository.save(t2);\r\n                \r\n                return cookieBanner.getCookieBannerTemplates();\r\n            }\r\n\r\n            return website.getCookieBanner().getCookieBannerTemplates();\r\n        }\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nIf the websiteID is already exist in the cookiebanner table the endpoint works fine. But if the websiteID doesn&#39;t exist in the table, in the first time it returns an empty array and in the second time sending the request it works and returns the saved values.","title":"Springboot GET request endpoint","body":"<p>Below I have attached a method in my service layer. It handles a GET request. Below method is working but when testing it in postman, when I am sending a new ID, In the first time of the sending the request it returns a empty array but in the second time when sending the request it returns the array with saved values in t1 and t2 objects. I can't figure out why it is returning an empty array in the first time I am sending the request. Below I have attached my controller and service methods.</p>\n<pre><code>package com.websafe.ccmsbe.controller;\n\nimport com.websafe.ccmsbe.entity.CookieBannerTemplate;\nimport com.websafe.ccmsbe.service.CookieBannerTemplateService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\n\n@RestController\n@RequestMapping(value = &quot;api/template&quot;)\n@CrossOrigin(value = &quot;http://localhost:3000&quot;)\npublic class CookieBannerTemplateController {\n\n    @Autowired\n    CookieBannerTemplateService cookieBannerTemplateService;\n\n    @GetMapping(&quot;getAllTemplates/{websiteID}&quot;)\n    public List&lt;CookieBannerTemplate&gt; getAllTemplates(@PathVariable(name = &quot;websiteID&quot;)Long websiteID){\n                return cookieBannerTemplateService.getAllTemplates(websiteID);\n    }\n}\n</code></pre>\n<pre><code>@Service\npublic class CookieBannerTemplateService {\n\n    @Autowired\n    CookieBannerTemplateRepository cookieBannerTemplateRepository;\n\n    @Autowired\n    CookieBannerRepository cookieBannerRepository;\n\n    @Autowired\n    WebsiteRepository websiteRepository;\n\n\n  \n\n\n    public List&lt;CookieBannerTemplate&gt; getAllTemplates(Long websiteID) {\n        Website website = websiteRepository.findById(websiteID).orElse(null);\n        if (website != null){\n            CookieBanner cookieBanner = website.getCookieBanner();\n            if( cookieBanner == null) {\n                cookieBanner = new CookieBanner();\n                cookieBanner.setWebsite(website);\n                cookieBanner.setBannerAlignment(&quot;Right&quot;);\n                cookieBanner.setBannerColor(&quot;Dark Grey&quot;);\n                cookieBanner.setBannerPosition(&quot;Center&quot;);\n                cookieBannerRepository.save(cookieBanner);\n\n                int n = website.getPrivacyRegulations().size();\n                System.out.println(&quot;length = &quot; + n);\n\n                CookieBannerTemplate t1 = new CookieBannerTemplate();\n                CookieBannerTemplate t2 = new CookieBannerTemplate();\n\n                t1.setCookieBanner(cookieBanner);\n                t1.setTemplateContent(&quot;default content&quot;);\n                t1.setTemplateRegulation(&quot;GDPR&quot;);\n                t1.setTemplateName(&quot;Websafe-GDPR&quot;);\n                cookieBannerTemplateRepository.save(t1);\n\n                t2.setCookieBanner(cookieBanner);\n                t2.setTemplateContent(&quot;default content&quot;);\n                t2.setTemplateRegulation(&quot;CCPA&quot;);\n                t2.setTemplateName(&quot;Websafe-CCPA&quot;);\n                cookieBannerTemplateRepository.save(t2);\n                \n                return cookieBanner.getCookieBannerTemplates();\n            }\n\n            return website.getCookieBanner().getCookieBannerTemplates();\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>If the websiteID is already exist in the cookiebanner table the endpoint works fine. But if the websiteID doesn't exist in the table, in the first time it returns an empty array and in the second time sending the request it works and returns the saved values.</p>\n"},{"tags":["java","websocket","graphql","netflix-dgs"],"owner":{"account_id":23652212,"reputation":25,"user_id":17680942,"display_name":"Jumple"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683707542,"creation_date":1683707542,"question_id":76216399,"body_markdown":"The sentence from the [documentation](https://github.com/enisdenjo/graphql-ws/blob/master/PROTOCOL.md) of `graphql-ws` has put me in a difficulty in my project.\r\n```\r\nIf there is already an active subscriber for an operation matching the provided ID, regardless of the operation type, the server must close the socket immediately with the event 4409: Subscriber for &lt;unique-operation-id&gt; already exists.\r\n```\r\nI think it means that should use &#39;unique-operation-id&#39; to determine whether to send the 4409 event.\r\n\r\nAnd I have examined the source code of `graphql-dgs-spring-webflux-autoconfigure.com.netflix.graphql.dgs.webflux.handlers.WebsocketGraphQLTransportWSProtocolHandler` and `graphql-dgs-subscriptions-websockets.com.netflix.graphql.dgs.subscriptions.websockets.WebsocketGraphQLTransportWSProtocolHandler` respectively. I found that the places where the decision to send the 4409 event is made have some slight differences.\r\n\r\nIn graphql-dgs-subscriptions-websockets, it seems that the decision to send the 4409 event([at line 128](https://github.com/Netflix/dgs-framework/blob/master/graphql-dgs-subscriptions-websockets/src/main/kotlin/com/netflix/graphql/dgs/subscriptions/websockets/WebsocketGraphQLTransportWSProtocolHandler.kt#L129)) is indeed made using the &#39;unique-operation-id&#39; to determine whether to send the event.\r\nHowever, in graphql-dgs-spring-webflux-autoconfigure, it seems that the same decision([at line 92](https://github.com/Netflix/dgs-framework/blob/master/graphql-dgs-spring-webflux-autoconfigure/src/main/kotlin/com/netflix/graphql/dgs/webflux/handlers/WebsocketGraphQLTransportWSProtocolHandler.kt#L93)) is made using the WebSocket session ID to determine whether to send the event.\r\n\r\nI would like to know why there is such a difference between the two.\r\n\r\nIn my project, I am using &#39;graphql-dgs-webflux-starter&#39;, so naturally my &#39;WebsocketGraphQLTransportWSProtocolHandler&#39; is using &#39;graphql-dgs-spring-webflux-autoconfigure&#39;. And in my schema, there are two or more entry points for subscriptions.\r\nIf the frontend uses two or more entry points simultaneously, it will receive the 4409 event, even if only one WebSocket connection is established.\r\n\r\nIs there any way to prevent receiving the 4409 event and use WebSocket normally to receive data?","title":"Netflix dgs-framework: difference of WebMVC&#39;s library and Webflux&#39;s library","body":"<p>The sentence from the <a href=\"https://github.com/enisdenjo/graphql-ws/blob/master/PROTOCOL.md\" rel=\"nofollow noreferrer\">documentation</a> of <code>graphql-ws</code> has put me in a difficulty in my project.</p>\n<pre><code>If there is already an active subscriber for an operation matching the provided ID, regardless of the operation type, the server must close the socket immediately with the event 4409: Subscriber for &lt;unique-operation-id&gt; already exists.\n</code></pre>\n<p>I think it means that should use 'unique-operation-id' to determine whether to send the 4409 event.</p>\n<p>And I have examined the source code of <code>graphql-dgs-spring-webflux-autoconfigure.com.netflix.graphql.dgs.webflux.handlers.WebsocketGraphQLTransportWSProtocolHandler</code> and <code>graphql-dgs-subscriptions-websockets.com.netflix.graphql.dgs.subscriptions.websockets.WebsocketGraphQLTransportWSProtocolHandler</code> respectively. I found that the places where the decision to send the 4409 event is made have some slight differences.</p>\n<p>In graphql-dgs-subscriptions-websockets, it seems that the decision to send the 4409 event(<a href=\"https://github.com/Netflix/dgs-framework/blob/master/graphql-dgs-subscriptions-websockets/src/main/kotlin/com/netflix/graphql/dgs/subscriptions/websockets/WebsocketGraphQLTransportWSProtocolHandler.kt#L129\" rel=\"nofollow noreferrer\">at line 128</a>) is indeed made using the 'unique-operation-id' to determine whether to send the event.\nHowever, in graphql-dgs-spring-webflux-autoconfigure, it seems that the same decision(<a href=\"https://github.com/Netflix/dgs-framework/blob/master/graphql-dgs-spring-webflux-autoconfigure/src/main/kotlin/com/netflix/graphql/dgs/webflux/handlers/WebsocketGraphQLTransportWSProtocolHandler.kt#L93\" rel=\"nofollow noreferrer\">at line 92</a>) is made using the WebSocket session ID to determine whether to send the event.</p>\n<p>I would like to know why there is such a difference between the two.</p>\n<p>In my project, I am using 'graphql-dgs-webflux-starter', so naturally my 'WebsocketGraphQLTransportWSProtocolHandler' is using 'graphql-dgs-spring-webflux-autoconfigure'. And in my schema, there are two or more entry points for subscriptions.\nIf the frontend uses two or more entry points simultaneously, it will receive the 4409 event, even if only one WebSocket connection is established.</p>\n<p>Is there any way to prevent receiving the 4409 event and use WebSocket normally to receive data?</p>\n"},{"tags":["java","maven","amazon-s3"],"owner":{"account_id":3899033,"reputation":21460,"user_id":3227319,"accept_rate":48,"display_name":"Jordi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683707491,"creation_date":1683707491,"question_id":76216387,"body_markdown":"I don&#39;t quite figure out which dependency to add in order to connect to S3.\r\n\r\nI mean, currently, I&#39;m using this dependency:\r\n\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.12.282&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nHowever, I&#39;m missing `GetObjectRequest.Builder` class.\r\n\r\nCurrently, I&#39;m building `GetObjectRequest` object using this code:\r\n\r\n```lang-java\r\nS3Object object = s3.getObject(new GetObjectRequest(bucketName, keyDoc));\r\n```\r\n\r\nWhere is located this class?\r\n\r\nHow many library are there in order to connect to S3?","title":"S3 maven dependency","body":"<p>I don't quite figure out which dependency to add in order to connect to S3.</p>\n<p>I mean, currently, I'm using this dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n    &lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;\n    &lt;version&gt;1.12.282&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>However, I'm missing <code>GetObjectRequest.Builder</code> class.</p>\n<p>Currently, I'm building <code>GetObjectRequest</code> object using this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>S3Object object = s3.getObject(new GetObjectRequest(bucketName, keyDoc));\n</code></pre>\n<p>Where is located this class?</p>\n<p>How many library are there in order to connect to S3?</p>\n"},{"tags":["java","keycloak","quarkus"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1683725988,"post_id":76216302,"comment_id":134410865,"body_markdown":"Do you have a sample application somewhere we can try?","body":"Do you have a sample application somewhere we can try?"},{"owner":{"account_id":21485072,"reputation":21,"user_id":15831824,"display_name":"Ayume"},"score":0,"creation_date":1683798267,"post_id":76216302,"comment_id":134422941,"body_markdown":"sure thing!\n[github repo](https://github.com/Phq-art/custom-param-quarkus-test)\n\nMaybe the method header of the endpoint is faulty but the general propblem I see is that getConverter() does not run.\nI would be happy with another approach as well. Bit of an influence was Springs [HandlerMethodArgumentResolver](https://docs.spring.io/spring-framework/docs/5.0.2.RELEASE/kdoc-api/spring-framework/org.springframework.web.method.support/-handler-method-argument-resolver/)","body":"sure thing! <a href=\"https://github.com/Phq-art/custom-param-quarkus-test\" rel=\"nofollow noreferrer\">github repo</a>  Maybe the method header of the endpoint is faulty but the general propblem I see is that getConverter() does not run. I would be happy with another approach as well. Bit of an influence was Springs <a href=\"https://docs.spring.io/spring-framework/docs/5.0.2.RELEASE/kdoc-api/spring-framework/org.springframework.web.method.support/-handler-method-argument-resolver/\" rel=\"nofollow noreferrer\">HandlerMethodArgumentResolver</a>"},{"owner":{"account_id":21485072,"reputation":21,"user_id":15831824,"display_name":"Ayume"},"score":0,"creation_date":1683802968,"post_id":76216302,"comment_id":134423949,"body_markdown":"@geoand I also just stumbled apon an [issue](https://github.com/quarkusio/quarkus/issues/26152) where it was said that the **ContextResolver** is not really advised to use. Do you think an Object Mapper could fit my needs?\nSorry that the code I provided is a bit messy. It&#39;s mostly really about some custom annotation that I want to pass as param to an endpoint (in our case calling it using postman and trying to output the roles that are stored in a Set of Strings)","body":"@geoand I also just stumbled apon an <a href=\"https://github.com/quarkusio/quarkus/issues/26152\" rel=\"nofollow noreferrer\">issue</a> where it was said that the <b>ContextResolver</b> is not really advised to use. Do you think an Object Mapper could fit my needs? Sorry that the code I provided is a bit messy. It&#39;s mostly really about some custom annotation that I want to pass as param to an endpoint (in our case calling it using postman and trying to output the roles that are stored in a Set of Strings)"},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1683891011,"post_id":76216302,"comment_id":134439586,"body_markdown":"I am not clear about what the end goal is. Are you trying to read an HTTP body or something else?","body":"I am not clear about what the end goal is. Are you trying to read an HTTP body or something else?"},{"owner":{"account_id":21485072,"reputation":21,"user_id":15831824,"display_name":"Ayume"},"score":0,"creation_date":1684134982,"post_id":76216302,"comment_id":134466609,"body_markdown":"just handling data before it reaches the EP. Aforementioned [HandlerMethodArgumentResolver](https://docs.spring.io/spring-framework/docs/5.0.2.RELEASE/kdoc-api/spring-framework/org.springframework.web.method.support/-handler-method-argument-resolver/) is a spring way to do it. \nHere I found a **Custom context provider** [demo github repo](https://github.com/dnebing/custom-context-provider)\nIn my case, whatever works best with Quarkus, I want to register some kind of method that runs before data reaches the endpoint and this one gets a set of strings with roles from the keycloak access token.","body":"just handling data before it reaches the EP. Aforementioned <a href=\"https://docs.spring.io/spring-framework/docs/5.0.2.RELEASE/kdoc-api/spring-framework/org.springframework.web.method.support/-handler-method-argument-resolver/\" rel=\"nofollow noreferrer\">HandlerMethodArgumentResolver</a> is a spring way to do it.  Here I found a <b>Custom context provider</b> <a href=\"https://github.com/dnebing/custom-context-provider\" rel=\"nofollow noreferrer\">demo github repo</a> In my case, whatever works best with Quarkus, I want to register some kind of method that runs before data reaches the endpoint and this one gets a set of strings with roles from the keycloak access token."}],"owner":{"account_id":21485072,"reputation":21,"user_id":15831824,"display_name":"Ayume"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683706847,"creation_date":1683706847,"question_id":76216302,"body_markdown":"I am trying to have a custom parameter annotation that I inject as parameter to my endpoint. It is supposed to be a role in keycloak and looks like this:\r\n\r\n```\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target(ElementType.PARAMETER)\r\npublic @interface KeycloakRole {\r\n    String realm();\r\n    String role();\r\n}\r\n```\r\n\r\nI have a converter class:\r\n```\r\npublic class KeycloakRoleConverter implements ParamConverter&lt;Set&lt;String&gt;&gt; {\r\n    private final Set&lt;String&gt; userRoles;\r\n    public KeycloakRoleConverter(Set&lt;String&gt; userRoles) {\r\n        this.userRoles = userRoles;\r\n    }\r\n\r\n    @Override\r\n    public Set&lt;String&gt; fromString(String value) {\r\n        if (!userRoles.contains(value)) {\r\n            throw new WebApplicationException(&quot;User does not have required role&quot;);\r\n        }\r\n        return Set.of(value);\r\n    }\r\n\r\n    @Override\r\n    public String toString(Set&lt;String&gt; value) {\r\n        return value.iterator().next();\r\n    }\r\n}\r\n```\r\n\r\nwith a converter provider class:\r\n\r\n```\r\n@RequestScoped\r\n@Provider\r\n@Priority(Priorities.USER)\r\npublic class KeycloakRoleResolver implements ParamConverterProvider {\r\n\r\n    @Context\r\n    SecurityContext securityContext;\r\n\r\n    @Override\r\n    public &lt;T&gt; ParamConverter&lt;T&gt; getConverter(Class&lt;T&gt; rawType, Type genericType, Annotation[] annotations) {\r\n        LOG.infof(&quot;getConverter has been called&quot;);\r\n        for (Annotation annotation : annotations) {\r\n            if (annotation.annotationType() == KeycloakRole.class) {\r\n                KeycloakRole keycloakRole = (KeycloakRole) annotation;\r\n                Set&lt;String&gt; userRoles = getUserRoles(keycloakRole.realm());\r\n                return (ParamConverter&lt;T&gt;) new KeycloakRoleConverter(userRoles);\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    private Set&lt;String&gt; getUserRoles(String realm) {\r\n        KeycloakSecurityContext keycloakSecurityContext = (KeycloakSecurityContext) securityContext;\r\n        AccessToken token = keycloakSecurityContext.getToken();\r\n        if (token == null) {\r\n            throw new WebApplicationException(&quot;Unable to obtain user roles&quot;);\r\n        }\r\n\r\n        Map&lt;String, Object&gt; otherClaims = token.getOtherClaims();\r\n        JsonArray resourceAccessArray = (JsonArray) otherClaims.get(&quot;resource_access&quot;);\r\n        JsonObject resourceAccess = resourceAccessArray.getJsonObject(0);\r\n        JsonObject profilerCore = resourceAccess.getJsonObject(&quot;profiler-core&quot;);\r\n        JsonArray rolesArray = profilerCore.getJsonArray(&quot;roles&quot;);\r\n\r\n        Set&lt;String&gt; userRoles = new HashSet&lt;&gt;();\r\n        for (int i = 0; i &lt; rolesArray.size(); i++) {\r\n            userRoles.add(rolesArray.getString(i));\r\n        }\r\n\r\n        return userRoles;\r\n    }\r\n```\r\n\r\nmy endpoint:\r\n\r\n```\r\n@Path(&quot;/api/profile&quot;)\r\n@Authenticated\r\n@ApplicationScoped\r\npublic class AdminResource {\r\n\r\n    @GET\r\n    @Path(&quot;/custom-role-ep&quot;)\r\n    @Consumes(MediaType.APPLICATION_JSON)\r\n    public Collection&lt;String&gt; customEp(@KeycloakRole(realm = &quot;profiler&quot;, role = &quot;view-all&quot;) Set&lt;String&gt; userRoles) {\r\n        LOG.info(&quot;User roles: &quot; + userRoles);\r\n        return userRoles;\r\n    }\r\n}\r\n\r\n```\r\n\r\nI am using postman with a keycloak access token and would like to output the roles for the user.\r\n\r\nI am using this in a quarkus application. For some reason the userRoles outputs always null. Weird thing is my getConverter method does not seem to run at all because I don&#39;t see the log in my terminal.\r\n\r\nThanks for the input and help,\r\nAyume","title":"Custom parameter injection with ParamConverterProvider does not work properly","body":"<p>I am trying to have a custom parameter annotation that I inject as parameter to my endpoint. It is supposed to be a role in keycloak and looks like this:</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.PARAMETER)\npublic @interface KeycloakRole {\n    String realm();\n    String role();\n}\n</code></pre>\n<p>I have a converter class:</p>\n<pre><code>public class KeycloakRoleConverter implements ParamConverter&lt;Set&lt;String&gt;&gt; {\n    private final Set&lt;String&gt; userRoles;\n    public KeycloakRoleConverter(Set&lt;String&gt; userRoles) {\n        this.userRoles = userRoles;\n    }\n\n    @Override\n    public Set&lt;String&gt; fromString(String value) {\n        if (!userRoles.contains(value)) {\n            throw new WebApplicationException(&quot;User does not have required role&quot;);\n        }\n        return Set.of(value);\n    }\n\n    @Override\n    public String toString(Set&lt;String&gt; value) {\n        return value.iterator().next();\n    }\n}\n</code></pre>\n<p>with a converter provider class:</p>\n<pre><code>@RequestScoped\n@Provider\n@Priority(Priorities.USER)\npublic class KeycloakRoleResolver implements ParamConverterProvider {\n\n    @Context\n    SecurityContext securityContext;\n\n    @Override\n    public &lt;T&gt; ParamConverter&lt;T&gt; getConverter(Class&lt;T&gt; rawType, Type genericType, Annotation[] annotations) {\n        LOG.infof(&quot;getConverter has been called&quot;);\n        for (Annotation annotation : annotations) {\n            if (annotation.annotationType() == KeycloakRole.class) {\n                KeycloakRole keycloakRole = (KeycloakRole) annotation;\n                Set&lt;String&gt; userRoles = getUserRoles(keycloakRole.realm());\n                return (ParamConverter&lt;T&gt;) new KeycloakRoleConverter(userRoles);\n            }\n        }\n        return null;\n    }\n\n    private Set&lt;String&gt; getUserRoles(String realm) {\n        KeycloakSecurityContext keycloakSecurityContext = (KeycloakSecurityContext) securityContext;\n        AccessToken token = keycloakSecurityContext.getToken();\n        if (token == null) {\n            throw new WebApplicationException(&quot;Unable to obtain user roles&quot;);\n        }\n\n        Map&lt;String, Object&gt; otherClaims = token.getOtherClaims();\n        JsonArray resourceAccessArray = (JsonArray) otherClaims.get(&quot;resource_access&quot;);\n        JsonObject resourceAccess = resourceAccessArray.getJsonObject(0);\n        JsonObject profilerCore = resourceAccess.getJsonObject(&quot;profiler-core&quot;);\n        JsonArray rolesArray = profilerCore.getJsonArray(&quot;roles&quot;);\n\n        Set&lt;String&gt; userRoles = new HashSet&lt;&gt;();\n        for (int i = 0; i &lt; rolesArray.size(); i++) {\n            userRoles.add(rolesArray.getString(i));\n        }\n\n        return userRoles;\n    }\n</code></pre>\n<p>my endpoint:</p>\n<pre><code>@Path(&quot;/api/profile&quot;)\n@Authenticated\n@ApplicationScoped\npublic class AdminResource {\n\n    @GET\n    @Path(&quot;/custom-role-ep&quot;)\n    @Consumes(MediaType.APPLICATION_JSON)\n    public Collection&lt;String&gt; customEp(@KeycloakRole(realm = &quot;profiler&quot;, role = &quot;view-all&quot;) Set&lt;String&gt; userRoles) {\n        LOG.info(&quot;User roles: &quot; + userRoles);\n        return userRoles;\n    }\n}\n\n</code></pre>\n<p>I am using postman with a keycloak access token and would like to output the roles for the user.</p>\n<p>I am using this in a quarkus application. For some reason the userRoles outputs always null. Weird thing is my getConverter method does not seem to run at all because I don't see the log in my terminal.</p>\n<p>Thanks for the input and help,\nAyume</p>\n"},{"tags":["java","android","android-layout","widget","android-widget"],"owner":{"account_id":10916684,"reputation":3936,"user_id":8024296,"display_name":"Paul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683706639,"creation_date":1683706639,"question_id":76216277,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ll1SK.png\r\n\r\nI would like to implement a vertical step progress bar in the android widget.\r\n\r\nThe fields must not be entered by the user, the texts I already have are taken from http.\r\n\r\nWhat concerns me is memory, widgets have limited memory.\r\n\r\nI have an array of elements like this:\r\n\r\n```java\r\nJSONArray steps = new JSONArray();\r\nfor(int i = 0; i &lt; info.length(); i++){\r\n     JSONObject item = new JSONObject();\r\n     Boolean reached = steps.getJSONObject(i).getBoolean(&quot;reached&quot;);\r\n     String message = steps.getJSONObject(i).getString(&quot;message&quot;);\r\n     String data = steps.getJSONObject(i).getString(&quot;data&quot;);\r\n     item.put(&quot;reached&quot;, reached);\r\n     item.put(&quot;message&quot;, message);\r\n     item.put(&quot;data&quot;, data);\r\n     steps.put(item);\r\n}\r\n```\r\n\r\nI was thinking of using a listview, but I don&#39;t know how to do vertical swipes from one row to another.\r\n\r\nOr are there any library you recommend?\r\n\r\nCan you give me a hand?","title":"Android java implement vertical step progress bar in widget","body":"<p><a href=\"https://i.stack.imgur.com/ll1SK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ll1SK.png\" alt=\"enter image description here\" /></a></p>\n<p>I would like to implement a vertical step progress bar in the android widget.</p>\n<p>The fields must not be entered by the user, the texts I already have are taken from http.</p>\n<p>What concerns me is memory, widgets have limited memory.</p>\n<p>I have an array of elements like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JSONArray steps = new JSONArray();\nfor(int i = 0; i &lt; info.length(); i++){\n     JSONObject item = new JSONObject();\n     Boolean reached = steps.getJSONObject(i).getBoolean(&quot;reached&quot;);\n     String message = steps.getJSONObject(i).getString(&quot;message&quot;);\n     String data = steps.getJSONObject(i).getString(&quot;data&quot;);\n     item.put(&quot;reached&quot;, reached);\n     item.put(&quot;message&quot;, message);\n     item.put(&quot;data&quot;, data);\n     steps.put(item);\n}\n</code></pre>\n<p>I was thinking of using a listview, but I don't know how to do vertical swipes from one row to another.</p>\n<p>Or are there any library you recommend?</p>\n<p>Can you give me a hand?</p>\n"},{"tags":["java","serialization","struct"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1683710454,"post_id":76216160,"comment_id":134406955,"body_markdown":"Use a serialization library.","body":"Use a serialization library."}],"owner":{"account_id":7456798,"reputation":39,"user_id":5669806,"display_name":"kjell moens"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683706028,"creation_date":1683705674,"question_id":76216160,"body_markdown":"I am using Debezium to monitor CDC in a database and the following code displays the output.\r\n\r\n    private void handleChangeEvent(RecordChangeEvent&lt;SourceRecord&gt; sourceRecordRecordChangeEvent) {\r\n        var sourceRecord = sourceRecordRecordChangeEvent.record();\r\n        log.info(&quot;Key = {}, Value = {}&quot;, sourceRecord.key(), sourceRecord.value());\r\n        var sourceRecordChangeValue = (Struct) sourceRecord.value();\r\n        log.info(&quot;SourceRecordChangeValue = &#39;{}&#39;&quot;, sourceRecordChangeValue);\r\n    }\r\n\r\n\r\nIs there a way to serialize the output to a class or a json structure ?\r\n\r\n``` \r\nStruct{before=Struct{id=1,email=john.doe@acme.com,fullname=John Doe},after=Struct{id=1,email=john.doe@acme.com,fullname=Kjell Paula Jan Moens},source=Struct{version=1.9.4.Final,connector=mysql,name=customer-mysql-db-server,ts_ms=1683702844000,db=customerdb,table=customer,server_id=1,file=binlog.000004,pos=2251,row=0,thread=24},op=u,ts_ms=1683702844884}\r\n```\r\n","title":"How to serialize the a struct to a class in java","body":"<p>I am using Debezium to monitor CDC in a database and the following code displays the output.</p>\n<pre><code>private void handleChangeEvent(RecordChangeEvent&lt;SourceRecord&gt; sourceRecordRecordChangeEvent) {\n    var sourceRecord = sourceRecordRecordChangeEvent.record();\n    log.info(&quot;Key = {}, Value = {}&quot;, sourceRecord.key(), sourceRecord.value());\n    var sourceRecordChangeValue = (Struct) sourceRecord.value();\n    log.info(&quot;SourceRecordChangeValue = '{}'&quot;, sourceRecordChangeValue);\n}\n</code></pre>\n<p>Is there a way to serialize the output to a class or a json structure ?</p>\n<pre><code>Struct{before=Struct{id=1,email=john.doe@acme.com,fullname=John Doe},after=Struct{id=1,email=john.doe@acme.com,fullname=Kjell Paula Jan Moens},source=Struct{version=1.9.4.Final,connector=mysql,name=customer-mysql-db-server,ts_ms=1683702844000,db=customerdb,table=customer,server_id=1,file=binlog.000004,pos=2251,row=0,thread=24},op=u,ts_ms=1683702844884}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15047867,"reputation":2292,"user_id":10860403,"display_name":"ewokx"},"score":4,"creation_date":1683705536,"post_id":76216106,"comment_id":134405861,"body_markdown":"The problem is with your second if condition, your ```ch``` is already uppercased before it.  So  when the system encounters this second ```if``` condition, it matches so it changes the upper case  to lower case..","body":"The problem is with your second if condition, your <code>ch</code> is already uppercased before it.  So  when the system encounters this second <code>if</code> condition, it matches so it changes the upper case  to lower case.."},{"owner":{"account_id":1976379,"reputation":608,"user_id":1774084,"display_name":"M. Yousfi"},"score":2,"creation_date":1683705571,"post_id":76216106,"comment_id":134405865,"body_markdown":"Because in the first code, only one of the two statement will be reached (either the `if(ch &gt;= &#39;a&#39; &amp;&amp; ch &lt;= &#39;z&#39;)` or `if(ch &gt;= &#39;A&#39; &amp;&amp; ch &lt;= &#39;Z&#39;) ` precisely because of the `else` keyword. But in the second code, both of them will be reached, and after the first one ch will be changed to uppercase, so it will be changed back to lower case. The first code is the good approach.","body":"Because in the first code, only one of the two statement will be reached (either the <code>if(ch &gt;= &#39;a&#39; &amp;&amp; ch &lt;= &#39;z&#39;)</code> or <code>if(ch &gt;= &#39;A&#39; &amp;&amp; ch &lt;= &#39;Z&#39;) </code> precisely because of the <code>else</code> keyword. But in the second code, both of them will be reached, and after the first one ch will be changed to uppercase, so it will be changed back to lower case. The first code is the good approach."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1683705595,"post_id":76216106,"comment_id":134405869,"body_markdown":"The &quot;non-working&quot; code will first flip any lowercase value of `ch` to uppercase, and then for the second if, `ch` always has an uppercase value, so it will flip everything back to lowercase.","body":"The &quot;non-working&quot; code will first flip any lowercase value of <code>ch</code> to uppercase, and then for the second if, <code>ch</code> always has an uppercase value, so it will flip everything back to lowercase."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1683705772,"post_id":76216106,"comment_id":134405902,"body_markdown":"Not related to the problem, but don&#39;t build up strings using `+=`: append to a `StringBuilder` (or just manipulate the `char[]` returned by `s.toCharArray()` directly).","body":"Not related to the problem, but don&#39;t build up strings using <code>+=</code>: append to a <code>StringBuilder</code> (or just manipulate the <code>char[]</code> returned by <code>s.toCharArray()</code> directly)."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1683721049,"post_id":76216106,"comment_id":134409513,"body_markdown":"@user16320675 the improvements made to the performance of a single string concatenation still dont change the fact that *repeatedly* performing a string concatenation (especially for each character) is expensive. It has quadratic time complexity, compare to the linear time complexity it should have. Also known as [Shlemiel the painters algorithm](https://www.joelonsoftware.com/2001/12/11/back-to-basics/#:~:text=code%20uses%20the-,Shlemiel%20the%C2%A0painter%E2%80%99s%20algorithm,-.%20Who%20is) By the way, when using Eclipse, you still dont get the improvement implemented by Java&#160;9+ `javac`.","body":"@user16320675 the improvements made to the performance of a single string concatenation still dont change the fact that <i>repeatedly</i> performing a string concatenation (especially for each character) is expensive. It has quadratic time complexity, compare to the linear time complexity it should have. Also known as <a href=\"https://www.joelonsoftware.com/2001/12/11/back-to-basics/#:~:text=code%20uses%20the-,Shlemiel%20the%C2%A0painter%E2%80%99s%20algorithm,-.%20Who%20is\" rel=\"nofollow noreferrer\">Shlemiel the painters algorithm</a> By the way, when using Eclipse, you still dont get the improvement implemented by Java 9+ <code>javac</code>."}],"answers":[{"tags":[],"owner":{"account_id":28565118,"reputation":111,"user_id":21868103,"display_name":"Peter I."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683706019,"creation_date":1683706019,"answer_id":76216205,"question_id":76216106,"body_markdown":"Let&#39;s say your current character is &#39;a&#39;, that is the character value 97. In your non-working code the first &#39;if&#39; statement matches the char, so you subtract 32. Now ch has the value of 65. This represents the character &#39;A&#39;.\r\nSo the second &#39;if&#39; statement matches again and raises the character value back to 97.","title":"Why if statement is not working in the code, while else if statement works?","body":"<p>Let's say your current character is 'a', that is the character value 97. In your non-working code the first 'if' statement matches the char, so you subtract 32. Now ch has the value of 65. This represents the character 'A'.\nSo the second 'if' statement matches again and raises the character value back to 97.</p>\n"}],"owner":{"account_id":20357646,"reputation":13,"user_id":14932796,"display_name":"Ajinkya Kamble"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683706019,"creation_date":1683705251,"question_id":76216106,"body_markdown":"I am working on strings for a while.\r\nI have a code of toggle case, i.e. a program to convert lower case to upper and vice versa. I&#39;m getting a problem with the condition checking. If I don&#39;t use else if, I am getting all lower case and when I use else if, i get my program working correctly. please see whats wrong. Thank you in advance.\r\n\r\nWorking code:\r\n```\r\npublic class ToggleCase\r\n{\r\n    public static void main(String args[])\r\n    {\r\n        String s = &quot;We ArE THe BeSt&quot;, s1 = &quot;&quot;;\r\n        \r\n        int i;\r\n        for(i=0; i&lt;s.length(); i++)\r\n        {\r\n            char ch = s.charAt(i);\r\n            if(ch &gt;= &#39;a&#39; &amp;&amp; ch &lt;= &#39;z&#39;) ch= (char)(ch-32);\r\n            else if(ch &gt;= &#39;A&#39; &amp;&amp; ch &lt;= &#39;Z&#39;) ch= (char)(ch+32); // main statement\r\n            \r\n            s1 += ch;\r\n        }\r\n        System.out.println(&quot;Toggle case: &quot;+s1);\r\n    }\r\n}\r\n```\r\n\r\nNon-working code:\r\n```\r\npublic class ToggleCase\r\n{\r\n    public static void main(String args[])\r\n    {\r\n        String s = &quot;We ArE THe BeSt&quot;, s1 = &quot;&quot;;\r\n        \r\n        int i;\r\n        for(i=0; i&lt;s.length(); i++)\r\n        {\r\n            char ch = s.charAt(i);\r\n            if(ch &gt;= &#39;a&#39; &amp;&amp; ch &lt;= &#39;z&#39;) ch= (char)(ch-32);\r\n            if(ch &gt;= &#39;A&#39; &amp;&amp; ch &lt;= &#39;Z&#39;) ch= (char)(ch+32); //change is here\r\n            \r\n            s1 += ch;\r\n        }\r\n        System.out.println(&quot;Toggle case: &quot;+s1);\r\n    }\r\n}\r\n```","title":"Why if statement is not working in the code, while else if statement works?","body":"<p>I am working on strings for a while.\nI have a code of toggle case, i.e. a program to convert lower case to upper and vice versa. I'm getting a problem with the condition checking. If I don't use else if, I am getting all lower case and when I use else if, i get my program working correctly. please see whats wrong. Thank you in advance.</p>\n<p>Working code:</p>\n<pre><code>public class ToggleCase\n{\n    public static void main(String args[])\n    {\n        String s = &quot;We ArE THe BeSt&quot;, s1 = &quot;&quot;;\n        \n        int i;\n        for(i=0; i&lt;s.length(); i++)\n        {\n            char ch = s.charAt(i);\n            if(ch &gt;= 'a' &amp;&amp; ch &lt;= 'z') ch= (char)(ch-32);\n            else if(ch &gt;= 'A' &amp;&amp; ch &lt;= 'Z') ch= (char)(ch+32); // main statement\n            \n            s1 += ch;\n        }\n        System.out.println(&quot;Toggle case: &quot;+s1);\n    }\n}\n</code></pre>\n<p>Non-working code:</p>\n<pre><code>public class ToggleCase\n{\n    public static void main(String args[])\n    {\n        String s = &quot;We ArE THe BeSt&quot;, s1 = &quot;&quot;;\n        \n        int i;\n        for(i=0; i&lt;s.length(); i++)\n        {\n            char ch = s.charAt(i);\n            if(ch &gt;= 'a' &amp;&amp; ch &lt;= 'z') ch= (char)(ch-32);\n            if(ch &gt;= 'A' &amp;&amp; ch &lt;= 'Z') ch= (char)(ch+32); //change is here\n            \n            s1 += ch;\n        }\n        System.out.println(&quot;Toggle case: &quot;+s1);\n    }\n}\n</code></pre>\n"},{"tags":["java","jfilechooser"],"comments":[{"owner":{"account_id":395357,"reputation":44547,"user_id":758280,"accept_rate":100,"display_name":"Jeffrey"},"score":2,"creation_date":1337893561,"post_id":10745198,"comment_id":13962680,"body_markdown":"Take a look at AWT&#39;s [FileDialog](http://docs.oracle.com/javase/7/docs/api/java/awt/FileDialog.html)","body":"Take a look at AWT&#39;s <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/FileDialog.html\" rel=\"nofollow noreferrer\">FileDialog</a>"}],"answers":[{"comments":[{"owner":{"account_id":1331202,"reputation":2532,"user_id":1275092,"accept_rate":91,"display_name":"mattbdean"},"score":1,"creation_date":1337897804,"post_id":10745286,"comment_id":13963862,"body_markdown":"Thank you! I will use this! I never really thought about components from `java.awt.*`.","body":"Thank you! I will use this! I never really thought about components from <code>java.awt.*</code>."},{"owner":{"account_id":989472,"reputation":11851,"user_id":1007169,"display_name":"Mattias Isegran Bergander"},"score":1,"creation_date":1337897872,"post_id":10745286,"comment_id":13963877,"body_markdown":"Well we used to think about them a lot back in the day, before swing existed. :)","body":"Well we used to think about them a lot back in the day, before swing existed. :)"},{"owner":{"account_id":1869831,"reputation":4089,"user_id":1692341,"accept_rate":90,"display_name":"Steffen"},"score":4,"creation_date":1428609788,"post_id":10745286,"comment_id":47247283,"body_markdown":"Although this answer is quite old: I wouldn&#39;t recommend using the Awt file dialog. It&#39;s broken on Linux and Mac, and Oracle is not going to fix it any more. So, unless you are only targeting Window users, this is not a good idea. Besides, `JFileChooser` with the native look and feel looks almost identically on Windows.","body":"Although this answer is quite old: I wouldn&#39;t recommend using the Awt file dialog. It&#39;s broken on Linux and Mac, and Oracle is not going to fix it any more. So, unless you are only targeting Window users, this is not a good idea. Besides, <code>JFileChooser</code> with the native look and feel looks almost identically on Windows."},{"owner":{"account_id":989472,"reputation":11851,"user_id":1007169,"display_name":"Mattias Isegran Bergander"},"score":1,"creation_date":1428957627,"post_id":10745286,"comment_id":47374692,"body_markdown":"While that&#39;s true @Aru the JFileChooser even with native look is pretty far from the native file chooser in looks and functionality and slower (at least used to be). I fair compromise in some circumstances can be to use check for windows and use that.","body":"While that&#39;s true @Aru the JFileChooser even with native look is pretty far from the native file chooser in looks and functionality and slower (at least used to be). I fair compromise in some circumstances can be to use check for windows and use that."},{"owner":{"account_id":295307,"reputation":3806,"user_id":599650,"accept_rate":81,"display_name":"Ivan Nikitin"},"score":1,"creation_date":1475658474,"post_id":10745286,"comment_id":67026427,"body_markdown":"This implementation doesn&#39;t allow you to provide file filter on Windows. For example, you cannot force the dialog to show only *.jpg files. As far as I can see from Java 9 docs, it&#39;s still not implemented. Do you know any other APIs for that?","body":"This implementation doesn&#39;t allow you to provide file filter on Windows. For example, you cannot force the dialog to show only *.jpg files. As far as I can see from Java 9 docs, it&#39;s still not implemented. Do you know any other APIs for that?"},{"owner":{"account_id":989472,"reputation":11851,"user_id":1007169,"display_name":"Mattias Isegran Bergander"},"score":0,"creation_date":1475662299,"post_id":10745286,"comment_id":67029078,"body_markdown":"No unfortunately no file filters etc, very plain api. The JavaFX FileDialog is much better than the swing one IMO though and it&#39;s simple to mix them (different ui thread though) but it is supported to mix JavaFX and swing fairly well. SWT would be another option.","body":"No unfortunately no file filters etc, very plain api. The JavaFX FileDialog is much better than the swing one IMO though and it&#39;s simple to mix them (different ui thread though) but it is supported to mix JavaFX and swing fairly well. SWT would be another option."},{"owner":{"account_id":4778916,"reputation":678,"user_id":3871673,"accept_rate":83,"display_name":"trinity420"},"score":0,"creation_date":1530811828,"post_id":10745286,"comment_id":89375685,"body_markdown":"This looks way better: https://stackoverflow.com/questions/7211107/how-to-use-filedialog","body":"This looks way better: <a href=\"https://stackoverflow.com/questions/7211107/how-to-use-filedialog\" title=\"how to use filedialog\">stackoverflow.com/questions/7211107/how-to-use-filedialog</a>"}],"tags":[],"owner":{"account_id":989472,"reputation":11851,"user_id":1007169,"display_name":"Mattias Isegran Bergander"},"comment_count":7,"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1337894161,"creation_date":1337893638,"answer_id":10745286,"question_id":10745198,"body_markdown":"Use the old java.awt.FileDialog instead:\r\n\r\n    new java.awt.FileDialog((java.awt.Frame) null).setVisible(true);","title":"How to use the default file chooser for the operating system?","body":"<p>Use the old java.awt.FileDialog instead:</p>\n\n<pre><code>new java.awt.FileDialog((java.awt.Frame) null).setVisible(true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":890308,"reputation":47359,"user_id":928711,"accept_rate":60,"display_name":"Guillaume Polet"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1337893718,"creation_date":1337893718,"answer_id":10745305,"question_id":10745198,"body_markdown":"GMail is a web application that eventually relies on the browser to show this component. Now a good solution is to use the Native Look&amp;Feel of the system which provides a JFileChooser quite similar to what you show:\n\n    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n\n![enter image description here][1]\n\nEDIT: Pulsar&#39;s solution is even better since it provides the exact dialog you are looking for. I am not sure that it provides all the features of the JFileChooser. \n\n  [1]: http://i.stack.imgur.com/kgzRi.png","title":"How to use the default file chooser for the operating system?","body":"<p>GMail is a web application that eventually relies on the browser to show this component. Now a good solution is to use the Native Look&amp;Feel of the system which provides a JFileChooser quite similar to what you show:</p>\n<pre><code>UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/kgzRi.png\" alt=\"enter image description here\" /></p>\n<p>EDIT: Pulsar's solution is even better since it provides the exact dialog you are looking for. I am not sure that it provides all the features of the JFileChooser.</p>\n"},{"comments":[{"owner":{"account_id":7609722,"reputation":3939,"user_id":5771029,"accept_rate":100,"display_name":"Winter"},"score":0,"creation_date":1697068450,"post_id":10745344,"comment_id":136234311,"body_markdown":"It has plenty of other problems outside of the look and feel though, it doesn&#39;t give access to your &quot;Quick access&quot; directories in windows and just isn&#39;t convenient to navigate with","body":"It has plenty of other problems outside of the look and feel though, it doesn&#39;t give access to your &quot;Quick access&quot; directories in windows and just isn&#39;t convenient to navigate with"}],"tags":[],"owner":{"account_id":1191502,"reputation":4664,"user_id":1164169,"accept_rate":100,"display_name":"Juan Alberto L&#243;pez Cavallotti"},"comment_count":1,"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1337893918,"creation_date":1337893918,"answer_id":10745344,"question_id":10745198,"body_markdown":"You can try using JFileChooser but setting the look and feel to be the platform look and feel:\r\n\r\n        try {\r\n            UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n        }catch(Exception ex) {\r\n            ex.printStackTrace();\r\n        }\r\nAnd that would make all the swing components look nicer!","title":"How to use the default file chooser for the operating system?","body":"<p>You can try using JFileChooser but setting the look and feel to be the platform look and feel:</p>\n\n<pre><code>    try {\n        UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n    }catch(Exception ex) {\n        ex.printStackTrace();\n    }\n</code></pre>\n\n<p>And that would make all the swing components look nicer!</p>\n"},{"tags":[],"owner":{"account_id":465863,"reputation":41382,"user_id":870248,"accept_rate":100,"display_name":"Paul Vargas"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1337894264,"creation_date":1337894264,"answer_id":10745425,"question_id":10745198,"body_markdown":"The [SWT][1] components have always looked the same styles that are in the running OS. You can see some examples:\r\n\r\n - [File Dialog Example : Dialog &#171; SWT JFace Eclipse &#171; Java][2]\r\n - [eclipse.platform.swt.git - Eclipse SWT][3]\r\n\r\nIt was assumed that from version 7 of Java, Swing styles would be more like that of operating systems, but may see it in Java 8.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Standard_Widget_Toolkit\r\n  [2]: http://www.java2s.com/Code/Java/SWT-JFace-Eclipse/FileDialogExample.htm\r\n  [3]: http://git.eclipse.org/c/platform/eclipse.platform.swt.git/tree/examples/org.eclipse.swt.snippets/src/org/eclipse/swt/snippets/Snippet72.java","title":"How to use the default file chooser for the operating system?","body":"<p>The <a href=\"http://en.wikipedia.org/wiki/Standard_Widget_Toolkit\" rel=\"nofollow\">SWT</a> components have always looked the same styles that are in the running OS. You can see some examples:</p>\n\n<ul>\n<li><a href=\"http://www.java2s.com/Code/Java/SWT-JFace-Eclipse/FileDialogExample.htm\" rel=\"nofollow\">File Dialog Example : Dialog  SWT JFace Eclipse  Java</a></li>\n<li><a href=\"http://git.eclipse.org/c/platform/eclipse.platform.swt.git/tree/examples/org.eclipse.swt.snippets/src/org/eclipse/swt/snippets/Snippet72.java\" rel=\"nofollow\">eclipse.platform.swt.git - Eclipse SWT</a></li>\n</ul>\n\n<p>It was assumed that from version 7 of Java, Swing styles would be more like that of operating systems, but may see it in Java 8.</p>\n"}],"owner":{"account_id":1331202,"reputation":2532,"user_id":1275092,"accept_rate":91,"display_name":"mattbdean"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20882,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":10745286,"answer_count":4,"score":20,"last_activity_date":1683705991,"creation_date":1337893192,"question_id":10745198,"body_markdown":"I was just wondering: how does Gmail use the Windows/Mac file chooser to upload files? Is there any way to do this in Java?\r\n\r\n[![enter image description here][1]][1]\r\n\r\nPersonally, I don&#39;t like the way that the `JFileChooser` looks like, and I thought it would be better for my users to be able to use something that they&#39;re more used to. Tips anyone?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9MMkc.jpg","title":"How to use the default file chooser for the operating system?","body":"<p>I was just wondering: how does Gmail use the Windows/Mac file chooser to upload files? Is there any way to do this in Java?</p>\n<p><a href=\"https://i.stack.imgur.com/9MMkc.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9MMkc.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Personally, I don't like the way that the <code>JFileChooser</code> looks like, and I thought it would be better for my users to be able to use something that they're more used to. Tips anyone?</p>\n"},{"tags":["java","ssl","kotlin","glassfish"],"answers":[{"comments":[{"owner":{"account_id":1769933,"reputation":352,"user_id":1614962,"display_name":"p_anantha"},"score":0,"creation_date":1532036078,"post_id":49384524,"comment_id":89834957,"body_markdown":"Thank you so much! Jdk 1.8.0_151 worked like a charm while trying to connect to MSSQL 2016 from glassfish 5.0 server","body":"Thank you so much! Jdk 1.8.0_151 worked like a charm while trying to connect to MSSQL 2016 from glassfish 5.0 server"},{"owner":{"account_id":10704277,"reputation":1282,"user_id":7878602,"display_name":"ImtiazeA"},"score":0,"creation_date":1540006215,"post_id":49384524,"comment_id":92716007,"body_markdown":"Worked for me.!","body":"Worked for me.!"},{"owner":{"account_id":4501373,"reputation":954,"user_id":3659807,"display_name":"Omar Abdel Bari"},"score":2,"creation_date":1542087250,"post_id":49384524,"comment_id":93431397,"body_markdown":"Since many of the JDK updates often involve security updates. You could be putting yourself at risk. Although this answer is correct I found Antoine&#39;s answer regarding removing sun folder from the specified jar to work without having to resort to downgrading JDK.","body":"Since many of the JDK updates often involve security updates. You could be putting yourself at risk. Although this answer is correct I found Antoine&#39;s answer regarding removing sun folder from the specified jar to work without having to resort to downgrading JDK."}],"tags":[],"owner":{"account_id":470693,"reputation":1826,"user_id":878015,"display_name":"David Can&#243;s"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1542121889,"creation_date":1521549681,"answer_id":49384524,"question_id":49383650,"body_markdown":"EDIT: since this is the &quot;correct answer&quot; and Java 1.8.0-151 will potentialy lack security patches. I can&#39;t recommend to downgrade to a such an old Java version.  \r\n\r\nPlease take a look at Payara project or new releases of Glassfish.\r\n\r\n--\r\n\r\nTry to downgrade the Java version to Java 1.8.0-151. It should work.\r\n\r\nThere&#39;s an issue in glassfish 5 with Java 8 161, there&#39;s an [issue][1] created, but no changes in nightly builds regarding the issue, I checked yesterday (19th march).\r\n\r\n\r\n  [1]: https://github.com/javaee/glassfish/issues/22407\r\n","title":"sun.security.ssl.SSLSessionImpl not found","body":"<p>EDIT: since this is the \"correct answer\" and Java 1.8.0-151 will potentialy lack security patches. I can't recommend to downgrade to a such an old Java version.  </p>\n\n<p>Please take a look at Payara project or new releases of Glassfish.</p>\n\n<p>--</p>\n\n<p>Try to downgrade the Java version to Java 1.8.0-151. It should work.</p>\n\n<p>There's an issue in glassfish 5 with Java 8 161, there's an <a href=\"https://github.com/javaee/glassfish/issues/22407\" rel=\"nofollow noreferrer\">issue</a> created, but no changes in nightly builds regarding the issue, I checked yesterday (19th march).</p>\n"},{"comments":[{"owner":{"account_id":4360386,"reputation":534,"user_id":3557680,"display_name":"Christian G&#252;rtler"},"score":0,"creation_date":1540300105,"post_id":52479362,"comment_id":92807681,"body_markdown":"Worked for me using JRE 1.8.0_191 and Payara 5.181","body":"Worked for me using JRE 1.8.0_191 and Payara 5.181"},{"owner":{"account_id":4501373,"reputation":954,"user_id":3659807,"display_name":"Omar Abdel Bari"},"score":1,"creation_date":1542087318,"post_id":52479362,"comment_id":93431424,"body_markdown":"For those wondering how you can remove the classes from the jar. There is some similarities with jars and zip format. I used 7zip to delete the sun folder from the jar and restarted glassfish, worked like a charm.","body":"For those wondering how you can remove the classes from the jar. There is some similarities with jars and zip format. I used 7zip to delete the sun folder from the jar and restarted glassfish, worked like a charm."},{"owner":{"account_id":4501373,"reputation":954,"user_id":3659807,"display_name":"Omar Abdel Bari"},"score":1,"creation_date":1542087541,"post_id":52479362,"comment_id":93431500,"body_markdown":"Another note, there is also another issue which this solution resolves. With later versions of JDK and Glassfish 5 you will find exceptions that may be similar to java.lang.NoSuchMethodError: sun.security.ssl.SSLSessionImpl.&lt;init&gt;(Lsun/security/ssl/ProtocolVersion;Lsun/security/ssl/CipherSuite;Ljava/util/Collection;Ljava/security/SecureRandom;Ljava/lang/String;I)V","body":"Another note, there is also another issue which this solution resolves. With later versions of JDK and Glassfish 5 you will find exceptions that may be similar to java.lang.NoSuchMethodError: sun.security.ssl.SSLSessionImpl.&lt;init&gt;(Lsun/security/ssl/Pro&zwnj;&#8203;tocolVersion;Lsun/se&zwnj;&#8203;curity/ssl/CipherSui&zwnj;&#8203;te;Ljava/util/Collec&zwnj;&#8203;tion;Ljava/security/&zwnj;&#8203;SecureRandom;Ljava/l&zwnj;&#8203;ang/String;I)V"},{"owner":{"account_id":4062480,"reputation":343,"user_id":3338629,"accept_rate":92,"display_name":"MauricioTL"},"score":0,"creation_date":1578631258,"post_id":52479362,"comment_id":105509387,"body_markdown":"@Antonie I have no words to thank you bro, really really thank you!!","body":"@Antonie I have no words to thank you bro, really really thank you!!"},{"owner":{"account_id":5530214,"reputation":2694,"user_id":4722577,"accept_rate":0,"display_name":"CAMD_3441"},"score":1,"creation_date":1580095642,"post_id":52479362,"comment_id":105972442,"body_markdown":"This issue still exists with users on Glassfish 5.0 and Java 1.8.0_232.  But with Antoine&#39;s answer I was able to get passed the issue!","body":"This issue still exists with users on Glassfish 5.0 and Java 1.8.0_232.  But with Antoine&#39;s answer I was able to get passed the issue!"},{"owner":{"account_id":9482930,"reputation":825,"user_id":7050229,"display_name":"schoener"},"score":0,"creation_date":1589554567,"post_id":52479362,"comment_id":109349138,"body_markdown":"Thanks! Works for me as well, but in point of view - you cannot do it in production, right? or will it be a patched glassfish version?","body":"Thanks! Works for me as well, but in point of view - you cannot do it in production, right? or will it be a patched glassfish version?"}],"tags":[],"owner":{"account_id":14408396,"reputation":161,"user_id":10407866,"display_name":"Antoine"},"comment_count":6,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1537860523,"creation_date":1537791894,"answer_id":52479362,"question_id":49383650,"body_markdown":"The issue appears because Glassfish embeds native `sun.*` classes into `[glassfish5_home]/glassfish/modules/endorsed/grizzly-npn-bootstrap.jar`, so it conflicts with others classes included into `[JDK_HOME]/jre/lib/jsse.jar`\r\n\r\nSo edit the `grizzly-npn-bootstrap.jar` (make a copy before) file and remove the sun folder.","title":"sun.security.ssl.SSLSessionImpl not found","body":"<p>The issue appears because Glassfish embeds native <code>sun.*</code> classes into <code>[glassfish5_home]/glassfish/modules/endorsed/grizzly-npn-bootstrap.jar</code>, so it conflicts with others classes included into <code>[JDK_HOME]/jre/lib/jsse.jar</code></p>\n\n<p>So edit the <code>grizzly-npn-bootstrap.jar</code> (make a copy before) file and remove the sun folder.</p>\n"},{"tags":[],"owner":{"account_id":14871731,"reputation":11,"user_id":10739064,"display_name":"rlfnb"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1543842923,"creation_date":1543842923,"answer_id":53594638,"question_id":49383650,"body_markdown":"Maybe a little bit more elegant is to use the existing fix done in the npn-grizzly jar:\r\n\r\n    mkdir -p scratch/glassfish5/glassfish/modules/endorsed &amp;&amp; cd scratch\r\n    wget http://download.oracle.com/glassfish/5.0.1/nightly/glassfish-5.0.1-b02-12_03_2018.zip\r\n    wget http://central.maven.org/maven2/org/glassfish/grizzly/grizzly-npn-bootstrap/1.8.1/grizzly-npn-bootstrap-1.8.1.jar\r\n    mv grizzly-npn-bootstrap-1.8.1.jar glassfish5/glassfish/modules/endorsed/grizzly-npn-bootstrap.jar\r\n    jar uvf glassfish-5.0.1-b02-12_03_2018.zip glassfish5/glassfish/modules/endorsed/grizzly-npn-bootstrap.jar \r\n    echo &quot;you have a patched archive for runnig with Java 8 patchlevel 191&quot;\r\n\r\nHTH\r\n","title":"sun.security.ssl.SSLSessionImpl not found","body":"<p>Maybe a little bit more elegant is to use the existing fix done in the npn-grizzly jar:</p>\n\n<pre><code>mkdir -p scratch/glassfish5/glassfish/modules/endorsed &amp;&amp; cd scratch\nwget http://download.oracle.com/glassfish/5.0.1/nightly/glassfish-5.0.1-b02-12_03_2018.zip\nwget http://central.maven.org/maven2/org/glassfish/grizzly/grizzly-npn-bootstrap/1.8.1/grizzly-npn-bootstrap-1.8.1.jar\nmv grizzly-npn-bootstrap-1.8.1.jar glassfish5/glassfish/modules/endorsed/grizzly-npn-bootstrap.jar\njar uvf glassfish-5.0.1-b02-12_03_2018.zip glassfish5/glassfish/modules/endorsed/grizzly-npn-bootstrap.jar \necho \"you have a patched archive for runnig with Java 8 patchlevel 191\"\n</code></pre>\n\n<p>HTH</p>\n"},{"tags":[],"owner":{"account_id":8834636,"reputation":57,"user_id":6599413,"display_name":"Saleh"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1683705946,"creation_date":1547585032,"answer_id":54206532,"question_id":49383650,"body_markdown":"The above Error could result to this displaying in your browser:\r\n\r\n    The connection was reset The connection to the server was reset while the page was loading.\r\n    The site could be temporarily unavailable or too busy. Try again in a few moments.\r\n    If you are unable to load any pages, check your computers network connection.\r\n    If your computer or network is protected by a firewall or proxy, make sure that Firefox is permitted to access the Web.**\r\n\r\nSOLUTION:\r\n\r\nDownload: http://central.maven.org/maven2/org/glassfish/grizzly/grizzly-npn-bootstrap/1.8.1/grizzly-npn-bootstrap-1.8.1.jar\r\nand Replace your galssfish/payara  grizzly-npn-bootstrap.jar. \r\n\r\n    mv grizzly-npn-bootstrap-1.8.1.jar glassfish5/glassfish/modules/endorsed/grizzly-npn-bootstrap.jar","title":"sun.security.ssl.SSLSessionImpl not found","body":"<p>The above Error could result to this displaying in your browser:</p>\n<pre><code>The connection was reset The connection to the server was reset while the page was loading.\nThe site could be temporarily unavailable or too busy. Try again in a few moments.\nIf you are unable to load any pages, check your computers network connection.\nIf your computer or network is protected by a firewall or proxy, make sure that Firefox is permitted to access the Web.**\n</code></pre>\n<p>SOLUTION:</p>\n<p>Download: <a href=\"http://central.maven.org/maven2/org/glassfish/grizzly/grizzly-npn-bootstrap/1.8.1/grizzly-npn-bootstrap-1.8.1.jar\" rel=\"nofollow noreferrer\">http://central.maven.org/maven2/org/glassfish/grizzly/grizzly-npn-bootstrap/1.8.1/grizzly-npn-bootstrap-1.8.1.jar</a>\nand Replace your galssfish/payara  grizzly-npn-bootstrap.jar.</p>\n<pre><code>mv grizzly-npn-bootstrap-1.8.1.jar glassfish5/glassfish/modules/endorsed/grizzly-npn-bootstrap.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6758648,"reputation":460,"user_id":5206423,"display_name":"Helmwag"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1554923181,"creation_date":1554923181,"answer_id":55619696,"question_id":49383650,"body_markdown":"The changes in the security ciphers in java 1.8.0_161 have broken the SSL function in the underlying Grizzly server of Glassfish 5,0. The last working java version was 1.8.0_152\r\n As of the moment of this writing i can confirm, that java 1.8.0_202 works with Glassfish 5.1 (now maintained by and downloadable from Eclipse.org)  The included grizzly-npn-bootstrap is ver 1.9.0. There is no need to delete or alter anything. ","title":"sun.security.ssl.SSLSessionImpl not found","body":"<p>The changes in the security ciphers in java 1.8.0_161 have broken the SSL function in the underlying Grizzly server of Glassfish 5,0. The last working java version was 1.8.0_152\n As of the moment of this writing i can confirm, that java 1.8.0_202 works with Glassfish 5.1 (now maintained by and downloadable from Eclipse.org)  The included grizzly-npn-bootstrap is ver 1.9.0. There is no need to delete or alter anything. </p>\n"},{"tags":[],"owner":{"account_id":5530214,"reputation":2694,"user_id":4722577,"accept_rate":0,"display_name":"CAMD_3441"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1580095511,"creation_date":1580095511,"answer_id":59924833,"question_id":49383650,"body_markdown":"I just came across this frustrating issue and I did want to expand just a little on Antoine&#39;s answer above https://stackoverflow.com/a/52479362/4722577 which worked for me.\r\n\r\nAs a note, I have Glassfish 5.0 and Java `openjdk version &quot;1.8.0_232&quot;\r\nOpenJDK Runtime Environment (build 1.8.0_232-8u232-b09-0ubuntu1~18.04.1-b09)\r\nOpenJDK 64-Bit Server VM (build 25.232-b09, mixed mode)`\r\n\r\n\r\n1. As mentioned by Antoine, I copied the `grizzly-npn-bootstrap.jar` to another location as a backup.\r\n\r\n2. I did the `jar -xvf grizzly-npn-bootstrap.jar` to see the exact classes and folder locations in the jar. Which gave me the following output:\r\n```\r\ncduran@cduran-VirtualBox:~/Documents$ jar -xvf grizzly-npn-bootstrap.jar \r\n inflated: META-INF/MANIFEST.MF\r\n  created: META-INF/\r\n  created: META-INF/maven/\r\n  created: META-INF/maven/org.glassfish.grizzly/\r\n  created: META-INF/maven/org.glassfish.grizzly/grizzly-npn-bootstrap/\r\n inflated: META-INF/maven/org.glassfish.grizzly/grizzly-npn-bootstrap/pom.properties\r\n inflated: META-INF/maven/org.glassfish.grizzly/grizzly-npn-bootstrap/pom.xml\r\n  created: org/\r\n  created: org/glassfish/\r\n  created: org/glassfish/grizzly/\r\n  created: org/glassfish/grizzly/npn/\r\n inflated: org/glassfish/grizzly/npn/AlpnClientNegotiator.class\r\n inflated: org/glassfish/grizzly/npn/AlpnServerNegotiator.class\r\n inflated: org/glassfish/grizzly/npn/ClientSideNegotiator.class\r\n inflated: org/glassfish/grizzly/npn/NegotiationSupport.class\r\n inflated: org/glassfish/grizzly/npn/ServerSideNegotiator.class\r\n  created: sun/\r\n  created: sun/security/\r\n  created: sun/security/ssl/\r\n inflated: sun/security/ssl/Alerts.class\r\n inflated: sun/security/ssl/AlpnExtension$Builder.class\r\n inflated: sun/security/ssl/AlpnExtension.class\r\n inflated: sun/security/ssl/ClientHandshaker$1.class\r\n inflated: sun/security/ssl/ClientHandshaker$2.class\r\n inflated: sun/security/ssl/ClientHandshaker.class\r\n inflated: sun/security/ssl/ExtensionType.class\r\n inflated: sun/security/ssl/GrizzlyNPN.class\r\n inflated: sun/security/ssl/HandshakeMessage$1.class\r\n inflated: sun/security/ssl/HandshakeMessage$CertificateMsg.class\r\n inflated: sun/security/ssl/HandshakeMessage$CertificateRequest.class\r\n inflated: sun/security/ssl/HandshakeMessage$CertificateVerify$1.class\r\n inflated: sun/security/ssl/HandshakeMessage$CertificateVerify.class\r\n inflated: sun/security/ssl/HandshakeMessage$ClientHello.class\r\n inflated: sun/security/ssl/HandshakeMessage$DH_ServerKeyExchange.class\r\n inflated: sun/security/ssl/HandshakeMessage$DistinguishedName.class\r\n inflated: sun/security/ssl/HandshakeMessage$ECDH_ServerKeyExchange.class\r\n inflated: sun/security/ssl/HandshakeMessage$Finished.class\r\n inflated: sun/security/ssl/HandshakeMessage$HelloRequest.class\r\n inflated: sun/security/ssl/HandshakeMessage$NextProtocol$Builder.class\r\n inflated: sun/security/ssl/HandshakeMessage$NextProtocol.class\r\n inflated: sun/security/ssl/HandshakeMessage$RSA_ServerKeyExchange.class\r\n inflated: sun/security/ssl/HandshakeMessage$ServerHello.class\r\n inflated: sun/security/ssl/HandshakeMessage$ServerHelloDone.class\r\n inflated: sun/security/ssl/HandshakeMessage$ServerKeyExchange.class\r\n inflated: sun/security/ssl/HandshakeMessage.class\r\n inflated: sun/security/ssl/Handshaker$1.class\r\n inflated: sun/security/ssl/Handshaker$DelegatedTask.class\r\n inflated: sun/security/ssl/Handshaker.class\r\n inflated: sun/security/ssl/HelloExtensions.class\r\n inflated: sun/security/ssl/NextProtocolNegotiationExtension$Builder.class\r\n inflated: sun/security/ssl/NextProtocolNegotiationExtension.class\r\n inflated: sun/security/ssl/SSLEngineImpl.class\r\n inflated: sun/security/ssl/ServerHandshaker$1.class\r\n inflated: sun/security/ssl/ServerHandshaker$2.class\r\n inflated: sun/security/ssl/ServerHandshaker$3.class\r\n inflated: sun/security/ssl/ServerHandshaker.class\r\n\r\n```\r\n\r\n3.  Observe that the jar file contains 3 folders in the root level: **META-INF**, **org**, and **sun**.  Again from Antoine&#39;s answer we want to remove the `sun` folder.\r\n4.  I don&#39;t know a command line way to recreate a jar by specifying a folder to remove, so I did this command where I recreate the `grizzly-npn-bootstrap.jar` by just adding the **META-INF** and **org** folders: `jar -cvf grizzly-npn-bootstrap.jar META-INF/* org/*`\r\n5.  Subsequently if I do the `jar -xvf grizzly-npn-bootstrap.jar` command I get this output (notice no more **sun** folder listed):\r\n```\r\ncduran@cduran-VirtualBox:~/glassfish-5.0-web-profile/glassfish5/glassfish/modules/endorsed$ jar -xvf grizzly-npn-bootstrap.jar \r\n  created: META-INF/\r\n inflated: META-INF/MANIFEST.MF\r\n  created: META-INF/maven/\r\n  created: META-INF/maven/org.glassfish.grizzly/\r\n  created: META-INF/maven/org.glassfish.grizzly/grizzly-npn-bootstrap/\r\n inflated: META-INF/maven/org.glassfish.grizzly/grizzly-npn-bootstrap/pom.properties\r\n inflated: META-INF/maven/org.glassfish.grizzly/grizzly-npn-bootstrap/pom.xml\r\n  created: org/glassfish/\r\n  created: org/glassfish/grizzly/\r\n  created: org/glassfish/grizzly/npn/\r\n inflated: org/glassfish/grizzly/npn/ClientSideNegotiator.class\r\n inflated: org/glassfish/grizzly/npn/ServerSideNegotiator.class\r\n inflated: org/glassfish/grizzly/npn/AlpnClientNegotiator.class\r\n inflated: org/glassfish/grizzly/npn/NegotiationSupport.class\r\n inflated: org/glassfish/grizzly/npn/AlpnServerNegotiator.class\r\n```\r\n6.  Restart your glassfish.\r\n\r\nAfter this I no longer get that error message the OP posted above:\r\n\r\n&gt; java.lang.NoSuchMethodError:\r\n&gt; sun.security.ssl.SSLSessionImpl.(Lsun/security/ssl/ProtocolVersion;Lsun/security/ssl/CipherSuite;Ljava/util/Collection;Lsun/security/ssl/SessionId;Ljava/lang/String;I)V","title":"sun.security.ssl.SSLSessionImpl not found","body":"<p>I just came across this frustrating issue and I did want to expand just a little on Antoine's answer above <a href=\"https://stackoverflow.com/a/52479362/4722577\">https://stackoverflow.com/a/52479362/4722577</a> which worked for me.</p>\n\n<p>As a note, I have Glassfish 5.0 and Java <code>openjdk version \"1.8.0_232\"\nOpenJDK Runtime Environment (build 1.8.0_232-8u232-b09-0ubuntu1~18.04.1-b09)\nOpenJDK 64-Bit Server VM (build 25.232-b09, mixed mode)</code></p>\n\n<ol>\n<li><p>As mentioned by Antoine, I copied the <code>grizzly-npn-bootstrap.jar</code> to another location as a backup.</p></li>\n<li><p>I did the <code>jar -xvf grizzly-npn-bootstrap.jar</code> to see the exact classes and folder locations in the jar. Which gave me the following output:</p></li>\n</ol>\n\n<pre><code>cduran@cduran-VirtualBox:~/Documents$ jar -xvf grizzly-npn-bootstrap.jar \n inflated: META-INF/MANIFEST.MF\n  created: META-INF/\n  created: META-INF/maven/\n  created: META-INF/maven/org.glassfish.grizzly/\n  created: META-INF/maven/org.glassfish.grizzly/grizzly-npn-bootstrap/\n inflated: META-INF/maven/org.glassfish.grizzly/grizzly-npn-bootstrap/pom.properties\n inflated: META-INF/maven/org.glassfish.grizzly/grizzly-npn-bootstrap/pom.xml\n  created: org/\n  created: org/glassfish/\n  created: org/glassfish/grizzly/\n  created: org/glassfish/grizzly/npn/\n inflated: org/glassfish/grizzly/npn/AlpnClientNegotiator.class\n inflated: org/glassfish/grizzly/npn/AlpnServerNegotiator.class\n inflated: org/glassfish/grizzly/npn/ClientSideNegotiator.class\n inflated: org/glassfish/grizzly/npn/NegotiationSupport.class\n inflated: org/glassfish/grizzly/npn/ServerSideNegotiator.class\n  created: sun/\n  created: sun/security/\n  created: sun/security/ssl/\n inflated: sun/security/ssl/Alerts.class\n inflated: sun/security/ssl/AlpnExtension$Builder.class\n inflated: sun/security/ssl/AlpnExtension.class\n inflated: sun/security/ssl/ClientHandshaker$1.class\n inflated: sun/security/ssl/ClientHandshaker$2.class\n inflated: sun/security/ssl/ClientHandshaker.class\n inflated: sun/security/ssl/ExtensionType.class\n inflated: sun/security/ssl/GrizzlyNPN.class\n inflated: sun/security/ssl/HandshakeMessage$1.class\n inflated: sun/security/ssl/HandshakeMessage$CertificateMsg.class\n inflated: sun/security/ssl/HandshakeMessage$CertificateRequest.class\n inflated: sun/security/ssl/HandshakeMessage$CertificateVerify$1.class\n inflated: sun/security/ssl/HandshakeMessage$CertificateVerify.class\n inflated: sun/security/ssl/HandshakeMessage$ClientHello.class\n inflated: sun/security/ssl/HandshakeMessage$DH_ServerKeyExchange.class\n inflated: sun/security/ssl/HandshakeMessage$DistinguishedName.class\n inflated: sun/security/ssl/HandshakeMessage$ECDH_ServerKeyExchange.class\n inflated: sun/security/ssl/HandshakeMessage$Finished.class\n inflated: sun/security/ssl/HandshakeMessage$HelloRequest.class\n inflated: sun/security/ssl/HandshakeMessage$NextProtocol$Builder.class\n inflated: sun/security/ssl/HandshakeMessage$NextProtocol.class\n inflated: sun/security/ssl/HandshakeMessage$RSA_ServerKeyExchange.class\n inflated: sun/security/ssl/HandshakeMessage$ServerHello.class\n inflated: sun/security/ssl/HandshakeMessage$ServerHelloDone.class\n inflated: sun/security/ssl/HandshakeMessage$ServerKeyExchange.class\n inflated: sun/security/ssl/HandshakeMessage.class\n inflated: sun/security/ssl/Handshaker$1.class\n inflated: sun/security/ssl/Handshaker$DelegatedTask.class\n inflated: sun/security/ssl/Handshaker.class\n inflated: sun/security/ssl/HelloExtensions.class\n inflated: sun/security/ssl/NextProtocolNegotiationExtension$Builder.class\n inflated: sun/security/ssl/NextProtocolNegotiationExtension.class\n inflated: sun/security/ssl/SSLEngineImpl.class\n inflated: sun/security/ssl/ServerHandshaker$1.class\n inflated: sun/security/ssl/ServerHandshaker$2.class\n inflated: sun/security/ssl/ServerHandshaker$3.class\n inflated: sun/security/ssl/ServerHandshaker.class\n\n</code></pre>\n\n<ol start=\"3\">\n<li>Observe that the jar file contains 3 folders in the root level: <strong>META-INF</strong>, <strong>org</strong>, and <strong>sun</strong>.  Again from Antoine's answer we want to remove the <code>sun</code> folder.</li>\n<li>I don't know a command line way to recreate a jar by specifying a folder to remove, so I did this command where I recreate the <code>grizzly-npn-bootstrap.jar</code> by just adding the <strong>META-INF</strong> and <strong>org</strong> folders: <code>jar -cvf grizzly-npn-bootstrap.jar META-INF/* org/*</code></li>\n<li>Subsequently if I do the <code>jar -xvf grizzly-npn-bootstrap.jar</code> command I get this output (notice no more <strong>sun</strong> folder listed):</li>\n</ol>\n\n<pre><code>cduran@cduran-VirtualBox:~/glassfish-5.0-web-profile/glassfish5/glassfish/modules/endorsed$ jar -xvf grizzly-npn-bootstrap.jar \n  created: META-INF/\n inflated: META-INF/MANIFEST.MF\n  created: META-INF/maven/\n  created: META-INF/maven/org.glassfish.grizzly/\n  created: META-INF/maven/org.glassfish.grizzly/grizzly-npn-bootstrap/\n inflated: META-INF/maven/org.glassfish.grizzly/grizzly-npn-bootstrap/pom.properties\n inflated: META-INF/maven/org.glassfish.grizzly/grizzly-npn-bootstrap/pom.xml\n  created: org/glassfish/\n  created: org/glassfish/grizzly/\n  created: org/glassfish/grizzly/npn/\n inflated: org/glassfish/grizzly/npn/ClientSideNegotiator.class\n inflated: org/glassfish/grizzly/npn/ServerSideNegotiator.class\n inflated: org/glassfish/grizzly/npn/AlpnClientNegotiator.class\n inflated: org/glassfish/grizzly/npn/NegotiationSupport.class\n inflated: org/glassfish/grizzly/npn/AlpnServerNegotiator.class\n</code></pre>\n\n<ol start=\"6\">\n<li>Restart your glassfish.</li>\n</ol>\n\n<p>After this I no longer get that error message the OP posted above:</p>\n\n<blockquote>\n  <p>java.lang.NoSuchMethodError:\n  sun.security.ssl.SSLSessionImpl.(Lsun/security/ssl/ProtocolVersion;Lsun/security/ssl/CipherSuite;Ljava/util/Collection;Lsun/security/ssl/SessionId;Ljava/lang/String;I)V</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":18574695,"reputation":1,"user_id":13535708,"display_name":"Steven Zhang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589392540,"creation_date":1589392540,"answer_id":61781567,"question_id":49383650,"body_markdown":"I had a deep dive in this issue just several days ago and found the root reason by reviewing JDK source code. I think you are using openjdk now.\r\nThis is a bug in openjdk up to 1.8.0_242.\r\nThe SSLSessionImpl is not instantiated when it is used in SSLSessionEngine. It is used as a static class, however it is only a final class.\r\nThe issue has been fixed in 1.8.0_252, so I recommend you to upgrade it to this version. Or switch to any build of Oracle jdk1.8.0, as there is no such bug in it.\r\nHope it helps.\r\nOpenjdk:\r\n[SSLSessionEngine.java][1]\r\n[SSLSessionImpl.java][2]\r\nOracle jdk:\r\n[SSLSessionEngine.java][3]\r\n\r\n  [1]: https://i.stack.imgur.com/bD1pH.png\r\n  [2]: https://i.stack.imgur.com/CqGE8.png\r\n  [3]: https://i.stack.imgur.com/gX3t3.png","title":"sun.security.ssl.SSLSessionImpl not found","body":"<p>I had a deep dive in this issue just several days ago and found the root reason by reviewing JDK source code. I think you are using openjdk now.\nThis is a bug in openjdk up to 1.8.0_242.\nThe SSLSessionImpl is not instantiated when it is used in SSLSessionEngine. It is used as a static class, however it is only a final class.\nThe issue has been fixed in 1.8.0_252, so I recommend you to upgrade it to this version. Or switch to any build of Oracle jdk1.8.0, as there is no such bug in it.\nHope it helps.\nOpenjdk:\n<a href=\"https://i.stack.imgur.com/bD1pH.png\" rel=\"nofollow noreferrer\">SSLSessionEngine.java</a>\n<a href=\"https://i.stack.imgur.com/CqGE8.png\" rel=\"nofollow noreferrer\">SSLSessionImpl.java</a>\nOracle jdk:\n<a href=\"https://i.stack.imgur.com/gX3t3.png\" rel=\"nofollow noreferrer\">SSLSessionEngine.java</a></p>\n"}],"owner":{"account_id":3269984,"reputation":2608,"user_id":2753579,"accept_rate":46,"display_name":"yooouuri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15174,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":49384524,"answer_count":7,"score":9,"last_activity_date":1683705946,"creation_date":1521547204,"question_id":49383650,"body_markdown":"When I try to use `okhttp` or `javax.ws.rs.client.Client` the following error occur\r\n\r\n&gt; java.lang.NoSuchMethodError:\r\n&gt; sun.security.ssl.SSLSessionImpl.&lt;init&gt;(Lsun/security/ssl/ProtocolVersion;Lsun/security/ssl/CipherSuite;Ljava/util/Collection;Lsun/security/ssl/SessionId;Ljava/lang/String;I)V\r\n\r\nSearching in the sun.security.ssl package, there is no SSLSessionImpl class\r\n\r\nIm using Mac OS 10.13.3 (17D102)\r\n\r\n    java -version\r\n    java version &quot;1.8.0_162&quot;\r\n    Java(TM) SE Runtime Environment (build 1.8.0_162-b12)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 25.162-b12, mixed mode)\r\n\r\nAnd running my war on Glassfish 5.0\r\n\r\n*build.gradle*\r\n\r\n    buildscript {\r\n        ext.kotlin_version = &#39;1.2.30&#39;\r\n    \r\n        repositories {\r\n            mavenCentral()\r\n        }\r\n        dependencies {\r\n            classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\r\n            classpath &quot;org.jetbrains.kotlin:kotlin-noarg:$kotlin_version&quot;\r\n            classpath &quot;org.jetbrains.kotlin:kotlin-allopen:$kotlin_version&quot;\r\n        }\r\n    }\r\n    \r\n    group &#39;invoice-administration-api&#39;\r\n    version &#39;1.0-SNAPSHOT&#39;\r\n    \r\n    apply plugin: &#39;idea&#39;\r\n    apply plugin: &#39;war&#39;\r\n    apply plugin: &#39;kotlin&#39;\r\n    apply plugin: &#39;kotlin-jpa&#39;\r\n    apply plugin: &#39;kotlin-allopen&#39;\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        compile &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version&quot;\r\n        compileOnly group: &#39;javax&#39;, name: &#39;javaee-api&#39;, version: &#39;8.0&#39;\r\n        compile group: &#39;org.hibernate&#39;, name: &#39;hibernate-core&#39;, version: &#39;5.2.13.Final&#39;\r\n        compile group: &#39;org.glassfish.jersey.media&#39;, name: &#39;jersey-media-json-jackson&#39;, version: &#39;2.26&#39;\r\n    }\r\n    \r\n    allOpen {\r\n        annotation(&#39;javax.ejb.Stateless&#39;)\r\n    }\r\n    \r\n    compileKotlin {\r\n        kotlinOptions.jvmTarget = &quot;1.8&quot;\r\n    }\r\n    compileTestKotlin {\r\n        kotlinOptions.jvmTarget = &quot;1.8&quot;\r\n    }","title":"sun.security.ssl.SSLSessionImpl not found","body":"<p>When I try to use <code>okhttp</code> or <code>javax.ws.rs.client.Client</code> the following error occur</p>\n\n<blockquote>\n  <p>java.lang.NoSuchMethodError:\n  sun.security.ssl.SSLSessionImpl.(Lsun/security/ssl/ProtocolVersion;Lsun/security/ssl/CipherSuite;Ljava/util/Collection;Lsun/security/ssl/SessionId;Ljava/lang/String;I)V</p>\n</blockquote>\n\n<p>Searching in the sun.security.ssl package, there is no SSLSessionImpl class</p>\n\n<p>Im using Mac OS 10.13.3 (17D102)</p>\n\n<pre><code>java -version\njava version \"1.8.0_162\"\nJava(TM) SE Runtime Environment (build 1.8.0_162-b12)\nJava HotSpot(TM) 64-Bit Server VM (build 25.162-b12, mixed mode)\n</code></pre>\n\n<p>And running my war on Glassfish 5.0</p>\n\n<p><em>build.gradle</em></p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.2.30'\n\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        classpath \"org.jetbrains.kotlin:kotlin-noarg:$kotlin_version\"\n        classpath \"org.jetbrains.kotlin:kotlin-allopen:$kotlin_version\"\n    }\n}\n\ngroup 'invoice-administration-api'\nversion '1.0-SNAPSHOT'\n\napply plugin: 'idea'\napply plugin: 'war'\napply plugin: 'kotlin'\napply plugin: 'kotlin-jpa'\napply plugin: 'kotlin-allopen'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version\"\n    compileOnly group: 'javax', name: 'javaee-api', version: '8.0'\n    compile group: 'org.hibernate', name: 'hibernate-core', version: '5.2.13.Final'\n    compile group: 'org.glassfish.jersey.media', name: 'jersey-media-json-jackson', version: '2.26'\n}\n\nallOpen {\n    annotation('javax.ejb.Stateless')\n}\n\ncompileKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\ncompileTestKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\n</code></pre>\n"},{"tags":["java","spring-boot","annotations","microservices"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1683664275,"post_id":76213088,"comment_id":134400800,"body_markdown":"Isn&#39;t &quot;BAD REQUEST&quot; pretty much &quot;your input (json) was invalid&quot; already?","body":"Isn&#39;t &quot;BAD REQUEST&quot; pretty much &quot;your input (json) was invalid&quot; already?"},{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1683665419,"post_id":76213088,"comment_id":134400994,"body_markdown":"It isn&#39;t easy to understand what you are asking for.  Spring returns a 400 (bad request) if it cannot parse the JSON.  What is different about this case?","body":"It isn&#39;t easy to understand what you are asking for.  Spring returns a 400 (bad request) if it cannot parse the JSON.  What is different about this case?"},{"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"score":0,"creation_date":1683667198,"post_id":76213088,"comment_id":134401287,"body_markdown":"Check out [spring&#39;s blog on exception handling](https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc).  [Baeldung also has a decent tutorial on it as well](https://www.baeldung.com/exception-handling-for-rest-with-spring).","body":"Check out <a href=\"https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc\" rel=\"nofollow noreferrer\">spring&#39;s blog on exception handling</a>.  <a href=\"https://www.baeldung.com/exception-handling-for-rest-with-spring\" rel=\"nofollow noreferrer\">Baeldung also has a decent tutorial on it as well</a>."}],"owner":{"account_id":5144870,"reputation":210,"user_id":4121141,"display_name":"kimi86"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683705826,"creation_date":1683663232,"question_id":76213088,"body_markdown":"I have a microservice written in springboot java 11. I have annotated the request with `@valid` to unsure its a valid format. However if the user send a request with body with is not even a correctly formatted json(say a comma is missing) then the request does not even reach the controller code and simply returns a `BAD REQUEST` status to user without any meaningful message. I would like the let the user know that the request is not a valid json. Can ideas how i can do this without over engineering it??","title":"how to handle unformatted json while using @valid annotation","body":"<p>I have a microservice written in springboot java 11. I have annotated the request with <code>@valid</code> to unsure its a valid format. However if the user send a request with body with is not even a correctly formatted json(say a comma is missing) then the request does not even reach the controller code and simply returns a <code>BAD REQUEST</code> status to user without any meaningful message. I would like the let the user know that the request is not a valid json. Can ideas how i can do this without over engineering it??</p>\n"},{"tags":["java","spring-boot","graphql","graphql-java"],"answers":[{"comments":[{"owner":{"account_id":11894102,"reputation":61,"user_id":8704060,"display_name":"m23"},"score":0,"creation_date":1641799053,"post_id":70632545,"comment_id":124891424,"body_markdown":"Thanks @Murat, for your response, Need some clarifications on few points:","body":"Thanks @Murat, for your response, Need some clarifications on few points:"},{"owner":{"account_id":11894102,"reputation":61,"user_id":8704060,"display_name":"m23"},"score":0,"creation_date":1641806649,"post_id":70632545,"comment_id":124893664,"body_markdown":"1&gt; Is it also necessary to write and implement GraphQLQueryResolver Java class for the respective graph.ql files? or just graphql files are enough for the request ?","body":"1&gt; Is it also necessary to write and implement GraphQLQueryResolver Java class for the respective graph.ql files? or just graphql files are enough for the request ?"},{"owner":{"account_id":12211376,"reputation":390,"user_id":8913066,"display_name":"Murat"},"score":0,"creation_date":1641819487,"post_id":70632545,"comment_id":124898469,"body_markdown":"Hi, No, you do not need (only graphql files are enough).","body":"Hi, No, you do not need (only graphql files are enough)."},{"owner":{"account_id":2271101,"reputation":447,"user_id":2971116,"accept_rate":78,"display_name":"Jonas Schreiber"},"score":0,"creation_date":1670543022,"post_id":70632545,"comment_id":131905022,"body_markdown":"This was so freaking helpful. Thank you!!","body":"This was so freaking helpful. Thank you!!"}],"tags":[],"owner":{"account_id":12211376,"reputation":390,"user_id":8913066,"display_name":"Murat"},"comment_count":4,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1641646886,"creation_date":1641646886,"answer_id":70632545,"question_id":70519410,"body_markdown":"You can use &quot;graphql-webclient-spring-boot-starter&quot; library that is available at:\r\n\r\n[https://github.com/graphql-java-kickstart/graphql-spring-webclient][1]\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/com.graphql-java-kickstart/graphql-webclient-spring-boot-starter --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.graphql-java-kickstart&lt;/groupId&gt;\r\n      &lt;artifactId&gt;graphql-webclient-spring-boot-starter&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nA sample implementation can be something like this:\r\n\r\nAssuming that you have MyEntity object:\r\n\r\n    public class MyEntity\r\n    {\r\n        String field1;\r\n        String field2;\r\n        String field3;\r\n        //getter and setters here\r\n    }\r\n\r\nAlso you have two graphql query files under &quot;src/main/resources&quot; folder:\r\n\r\nquery1.graphql:\r\n\r\n    #query1.graphql\r\n    #this query returns a list of some_detail_entity\r\n    query getDetailListByRefNumber($RefNumber: String!){\r\n        some_detail_entity(where: {RefNumber : { _eq: $RefNumber } }) {\r\n            field1\r\n            field2\r\n            field3 \r\n        } \r\n    }\r\n\r\nquery2.graphql:\r\n\r\n    #query2.graphql\r\n    #this query returns a single some_detail_entity\r\n    query getDetailByRefNumber($RefNumber: String!){\r\n        some_detail_entity_by_pk(RefNumber : $RefNumber) {\r\n            field1\r\n            field2\r\n            field3 \r\n        } \r\n    }\r\n\r\nYou can use this snippet to call graphql server to query &amp; fetch some data:\r\n\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    \r\n    WebClient webClient = WebClient.builder()\r\n    .baseUrl(&quot;https://endpoint-url-of-graphql.com&quot;)//url of graphql instance\r\n    .defaultHeader(&quot;auth-token&quot;, &quot;some-cryptic-code-if-required&quot;)//if auth header not required, just delete this line\r\n    .build();\r\n    \r\n    GraphQLWebClient graphqlClient = GraphQLWebClient.newInstance(webClient, objectMapper);\r\n    \r\n    //if expecting a single entity (not array)\r\n    MyObject entity = graphqlClient.post(&quot;query2.graphql&quot;, \r\n    Map.of(&quot;RefNumber&quot;, &quot;A7EED900-9BB4-486F-9F7C-2136E61E2278&quot;), MyEntity.class)\r\n    \t\t\t.block();\t\r\n    \r\n                \r\n    //if expecting a list of entity (array)\r\n    var response = graphqlClient.post(GraphQLRequest.builder().resource(&quot;query1.graphql&quot;)\r\n            .variables(Map.of(&quot;RefNumber&quot;, &quot;A7EED900-9BB4-486F-9F7C-2136E61E2278&quot;)).build())\r\n    \t\t\t\t.block();\t\r\n    \r\n    List&lt;MyEntity&gt; entityList = response.getFirstList(MyEntity.class);\r\n\r\n\r\n  [1]: https://github.com/graphql-java-kickstart/graphql-spring-webclient","title":"How to invoke GraphQL API from a Java Spring Boot application? Is there any annotation which supports GraphQL query formation?","body":"<p>You can use &quot;graphql-webclient-spring-boot-starter&quot; library that is available at:</p>\n<p><a href=\"https://github.com/graphql-java-kickstart/graphql-spring-webclient\" rel=\"noreferrer\">https://github.com/graphql-java-kickstart/graphql-spring-webclient</a></p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/com.graphql-java-kickstart/graphql-webclient-spring-boot-starter --&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;com.graphql-java-kickstart&lt;/groupId&gt;\n  &lt;artifactId&gt;graphql-webclient-spring-boot-starter&lt;/artifactId&gt;\n  &lt;version&gt;1.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>A sample implementation can be something like this:</p>\n<p>Assuming that you have MyEntity object:</p>\n<pre><code>public class MyEntity\n{\n    String field1;\n    String field2;\n    String field3;\n    //getter and setters here\n}\n</code></pre>\n<p>Also you have two graphql query files under &quot;src/main/resources&quot; folder:</p>\n<p>query1.graphql:</p>\n<pre><code>#query1.graphql\n#this query returns a list of some_detail_entity\nquery getDetailListByRefNumber($RefNumber: String!){\n    some_detail_entity(where: {RefNumber : { _eq: $RefNumber } }) {\n        field1\n        field2\n        field3 \n    } \n}\n</code></pre>\n<p>query2.graphql:</p>\n<pre><code>#query2.graphql\n#this query returns a single some_detail_entity\nquery getDetailByRefNumber($RefNumber: String!){\n    some_detail_entity_by_pk(RefNumber : $RefNumber) {\n        field1\n        field2\n        field3 \n    } \n}\n</code></pre>\n<p>You can use this snippet to call graphql server to query &amp; fetch some data:</p>\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\n\nWebClient webClient = WebClient.builder()\n.baseUrl(&quot;https://endpoint-url-of-graphql.com&quot;)//url of graphql instance\n.defaultHeader(&quot;auth-token&quot;, &quot;some-cryptic-code-if-required&quot;)//if auth header not required, just delete this line\n.build();\n\nGraphQLWebClient graphqlClient = GraphQLWebClient.newInstance(webClient, objectMapper);\n\n//if expecting a single entity (not array)\nMyObject entity = graphqlClient.post(&quot;query2.graphql&quot;, \nMap.of(&quot;RefNumber&quot;, &quot;A7EED900-9BB4-486F-9F7C-2136E61E2278&quot;), MyEntity.class)\n            .block();   \n\n            \n//if expecting a list of entity (array)\nvar response = graphqlClient.post(GraphQLRequest.builder().resource(&quot;query1.graphql&quot;)\n        .variables(Map.of(&quot;RefNumber&quot;, &quot;A7EED900-9BB4-486F-9F7C-2136E61E2278&quot;)).build())\n                .block();   \n\nList&lt;MyEntity&gt; entityList = response.getFirstList(MyEntity.class);\n</code></pre>\n"}],"owner":{"account_id":11894102,"reputation":61,"user_id":8704060,"display_name":"m23"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12918,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1683705153,"creation_date":1640780931,"question_id":70519410,"body_markdown":"I am looking for a solution to implement an GraphQL api call from spring-boot application, having query schema as follows:\r\n\r\n    query {\r\n        getDetailsByRefNumber(RefNumbers: &quot;&quot;)\r\n        {\r\n            field1,\r\n            field2,\r\n            field3 \r\n        } \r\n    }\r\n\r\nDoes anyone have any idea how to implement this ? \r\nGone through one of the below links, but didn&#39;t find any solution\r\n\r\nhttps://stackoverflow.com/questions/47755642/are-there-any-java-based-graphql-client-to-invoke-graphql-server-from-java-code","title":"How to invoke GraphQL API from a Java Spring Boot application? Is there any annotation which supports GraphQL query formation?","body":"<p>I am looking for a solution to implement an GraphQL api call from spring-boot application, having query schema as follows:</p>\n<pre><code>query {\n    getDetailsByRefNumber(RefNumbers: &quot;&quot;)\n    {\n        field1,\n        field2,\n        field3 \n    } \n}\n</code></pre>\n<p>Does anyone have any idea how to implement this ?\nGone through one of the below links, but didn't find any solution</p>\n<p><a href=\"https://stackoverflow.com/questions/47755642/are-there-any-java-based-graphql-client-to-invoke-graphql-server-from-java-code\">Are there any Java based Graphql client to invoke graphql server from java code?</a></p>\n"},{"tags":["java","junit","log4j","slf4j"],"comments":[{"owner":{"account_id":8729201,"reputation":344,"user_id":6529877,"display_name":"Julian"},"score":1,"creation_date":1470347794,"post_id":38778026,"comment_id":64927467,"body_markdown":"There&#39;s a configuration file that Log4J uses called `log4j.configuration` inside of that, you&#39;ll find a property which sets the logging level, and the only thing you&#39;ll need to do is to change it from whatever is there to `DEBUG`","body":"There&#39;s a configuration file that Log4J uses called <code>log4j.configuration</code> inside of that, you&#39;ll find a property which sets the logging level, and the only thing you&#39;ll need to do is to change it from whatever is there to <code>DEBUG</code>"},{"owner":{"account_id":2542161,"reputation":5710,"user_id":2207729,"accept_rate":56,"display_name":"PedroD"},"score":1,"creation_date":1470347859,"post_id":38778026,"comment_id":64927503,"body_markdown":"that does not solve my problem. I want to set debug only when running the tests.","body":"that does not solve my problem. I want to set debug only when running the tests."}],"answers":[{"comments":[{"owner":{"account_id":2542161,"reputation":5710,"user_id":2207729,"accept_rate":56,"display_name":"PedroD"},"score":0,"creation_date":1470348154,"post_id":38778086,"comment_id":64927610,"body_markdown":"That log level doesn&#39;t exist here. However this is not about the implementation, it is about using a different configuration whether I am running tests or not.","body":"That log level doesn&#39;t exist here. However this is not about the implementation, it is about using a different configuration whether I am running tests or not."},{"owner":{"account_id":957746,"reputation":63,"user_id":982743,"accept_rate":75,"display_name":"Carlos de Luna Saenz"},"score":1,"creation_date":1470350124,"post_id":38778086,"comment_id":64928227,"body_markdown":"at the time you run your test they will use a logger implementation, Log4J, standar java.util.Log or any other...  may be this is what are you looking for... the way to configure those levels http://stackoverflow.com/questions/878348/where-do-i-configure-log4j-in-a-junit-test-class","body":"at the time you run your test they will use a logger implementation, Log4J, standar java.util.Log or any other...  may be this is what are you looking for... the way to configure those levels <a href=\"http://stackoverflow.com/questions/878348/where-do-i-configure-log4j-in-a-junit-test-class\" title=\"where do i configure log4j in a junit test class\">stackoverflow.com/questions/878348/&hellip;</a>"},{"owner":{"account_id":2542161,"reputation":5710,"user_id":2207729,"accept_rate":56,"display_name":"PedroD"},"score":0,"creation_date":1470351660,"post_id":38778086,"comment_id":64928622,"body_markdown":"I just needed to put the log4j.properties in the `src/test/resources` and it will override the one in `src/main/resources` during the tests. :)","body":"I just needed to put the log4j.properties in the <code>src&#47;test&#47;resources</code> and it will override the one in <code>src&#47;main&#47;resources</code> during the tests. :)"},{"owner":{"account_id":957746,"reputation":63,"user_id":982743,"accept_rate":75,"display_name":"Carlos de Luna Saenz"},"score":1,"creation_date":1470353329,"post_id":38778086,"comment_id":64929053,"body_markdown":"Sorry if i missunderstand the question at the beggining...  you can do it on the file as you mention (using the proper file, in this case the log4j one) or going programmatically, and programatically will depend on if you used log4J or something else...  glad you find your answer.","body":"Sorry if i missunderstand the question at the beggining...  you can do it on the file as you mention (using the proper file, in this case the log4j one) or going programmatically, and programatically will depend on if you used log4J or something else...  glad you find your answer."}],"tags":[],"owner":{"account_id":957746,"reputation":63,"user_id":982743,"accept_rate":75,"display_name":"Carlos de Luna Saenz"},"comment_count":4,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1470347897,"creation_date":1470347897,"answer_id":38778086,"question_id":38778026,"body_markdown":"Usually LEVEL.FINEST should do it... but take a look to http://saltnlight5.blogspot.mx/2013/08/how-to-configure-slf4j-with-different.html to see logging frameworks implementations  considereation.","title":"How to set the log level to DEBUG during Junit tests?","body":"<p>Usually LEVEL.FINEST should do it... but take a look to <a href=\"http://saltnlight5.blogspot.mx/2013/08/how-to-configure-slf4j-with-different.html\" rel=\"nofollow\">http://saltnlight5.blogspot.mx/2013/08/how-to-configure-slf4j-with-different.html</a> to see logging frameworks implementations  considereation.</p>\n"},{"comments":[{"owner":{"account_id":379606,"reputation":5664,"user_id":733092,"accept_rate":86,"display_name":"Noumenon"},"score":8,"creation_date":1584294934,"post_id":38778471,"comment_id":107386581,"body_markdown":"Logback takes a similar approach -- it looks for `logback-test.xml`.","body":"Logback takes a similar approach -- it looks for <code>logback-test.xml</code>."}],"tags":[],"owner":{"account_id":2542161,"reputation":5710,"user_id":2207729,"accept_rate":56,"display_name":"PedroD"},"comment_count":1,"down_vote_count":1,"up_vote_count":48,"is_accepted":true,"score":47,"last_activity_date":1470350243,"creation_date":1470350243,"answer_id":38778471,"question_id":38778026,"body_markdown":"You do not need to give the JVM a different log implementation.\r\n\r\nThe logging code searches for the `log4j.properties` file using the classpath. So all you need to do is ensure that your test `log4j.properties` file is in a location that it will find before the release file.\r\n\r\nI use Maven, which lays out files in directories to make that easy. My release `log4j.properties` goes in the directory `src/main/resources`. My test version goes in `src/test/resources`. The Eclipse build path (classpath) is set up to search `src/test/resources` before `src/main/resources`, so your unit tests use the test file. The JAR (or WAR) build instructions use the files from `src/main/resources`.","title":"How to set the log level to DEBUG during Junit tests?","body":"<p>You do not need to give the JVM a different log implementation.</p>\n\n<p>The logging code searches for the <code>log4j.properties</code> file using the classpath. So all you need to do is ensure that your test <code>log4j.properties</code> file is in a location that it will find before the release file.</p>\n\n<p>I use Maven, which lays out files in directories to make that easy. My release <code>log4j.properties</code> goes in the directory <code>src/main/resources</code>. My test version goes in <code>src/test/resources</code>. The Eclipse build path (classpath) is set up to search <code>src/test/resources</code> before <code>src/main/resources</code>, so your unit tests use the test file. The JAR (or WAR) build instructions use the files from <code>src/main/resources</code>.</p>\n"},{"tags":[],"owner":{"account_id":2050279,"reputation":540,"user_id":1829444,"accept_rate":83,"display_name":"Nicolas Massart"},"comment_count":0,"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1568389301,"creation_date":1568388999,"answer_id":57926565,"question_id":38778026,"body_markdown":"You can use the `org.apache.logging.log4j.core.config.Configurator` which has a `setAllLevels` method.\r\n\r\nIn your test you can use it in a `@Before` method:\r\n\r\n      @Before\r\n      public void changeLogLevel() {\r\n        Configurator.setAllLevels(&quot;&quot;, Level.ALL);\r\n      }\r\n\r\nNOTE: tested with binding [org.slf4j:slf4j-log4j12:1.7.26][1]\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.slf4j/slf4j-log4j12/1.7.26","title":"How to set the log level to DEBUG during Junit tests?","body":"<p>You can use the <code>org.apache.logging.log4j.core.config.Configurator</code> which has a <code>setAllLevels</code> method.</p>\n\n<p>In your test you can use it in a <code>@Before</code> method:</p>\n\n<pre><code>  @Before\n  public void changeLogLevel() {\n    Configurator.setAllLevels(\"\", Level.ALL);\n  }\n</code></pre>\n\n<p>NOTE: tested with binding <a href=\"https://mvnrepository.com/artifact/org.slf4j/slf4j-log4j12/1.7.26\" rel=\"noreferrer\">org.slf4j:slf4j-log4j12:1.7.26</a></p>\n"},{"comments":[{"owner":{"account_id":173186,"reputation":4270,"user_id":401712,"display_name":"Dario Seidl"},"score":0,"creation_date":1623767694,"post_id":58194890,"comment_id":120168949,"body_markdown":"The accepted answer and comment about using logback-test.xml is easier, but this works in a pinch too.","body":"The accepted answer and comment about using logback-test.xml is easier, but this works in a pinch too."},{"owner":{"account_id":113908,"reputation":3110,"user_id":299787,"display_name":"Redlab"},"score":1,"creation_date":1638527099,"post_id":58194890,"comment_id":124117663,"body_markdown":"The question is about log4j, not logback...","body":"The question is about log4j, not logback..."},{"owner":{"account_id":9941523,"reputation":1018,"user_id":7357959,"display_name":"Tsvetoslav Tsvetkov"},"score":0,"creation_date":1702025542,"post_id":58194890,"comment_id":136849572,"body_markdown":"IF you use Junit 5 (Jupiter) you should use `@BeforeEach`","body":"IF you use Junit 5 (Jupiter) you should use <code>@BeforeEach</code>"}],"tags":[],"owner":{"account_id":4600358,"reputation":286,"user_id":3731277,"display_name":"Achu22"},"comment_count":3,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1569987487,"creation_date":1569987487,"answer_id":58194890,"question_id":38778026,"body_markdown":"Below ROOT log level change will work for junit to set logging to desired level.\r\n\r\n    import org.slf4j.LoggerFactory;\r\n    import ch.qos.logback.classic.Level;\r\n    import ch.qos.logback.classic.Logger;\r\n\r\n    @Before\r\n    public void setUp() {\r\n        final Logger logger = (Logger)LoggerFactory.getLogger(Logger.ROOT_LOGGER_NAME);\r\n        logger.setLevel(Level.ALL);\r\n    }","title":"How to set the log level to DEBUG during Junit tests?","body":"<p>Below ROOT log level change will work for junit to set logging to desired level.</p>\n\n<pre><code>import org.slf4j.LoggerFactory;\nimport ch.qos.logback.classic.Level;\nimport ch.qos.logback.classic.Logger;\n\n@Before\npublic void setUp() {\n    final Logger logger = (Logger)LoggerFactory.getLogger(Logger.ROOT_LOGGER_NAME);\n    logger.setLevel(Level.ALL);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2859980,"reputation":182,"user_id":2455432,"display_name":"Remo Liechti"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1582805944,"creation_date":1582805944,"answer_id":60433093,"question_id":38778026,"body_markdown":"maybe not entirely related to the question in the first place, however a google query will lead most developers to this topic when they search for a way on \r\n\r\n**how to change the log level for certain junit test methods.**\r\n\r\nThe way to go is to use a custom junit MethodRule that accesses the loggers and re-configures the log level per package.\r\n\r\nWith below classes, you can achieve this. It sets the log level for packages and classes as defines in the annotation of a test method and when the test has finished, sets the loggers back to their initial state.\r\nWe assume the default log level is set to INFO currently.\r\n\r\n    @Test\r\n    @LogLevel(packageToLevel = { &quot;my.java.package=DEBUG&quot;, &quot;my.other.java.package.ClassNeedsTracing=TRACE&quot; })\r\n    public void allLogsOfThatPackageAreInDebugNow() {\r\n       ...\r\n    }\r\n    \r\n    @Test\r\n    @LogLevel(packageToLevel = { &quot;my.java.package=TRACE&quot;, &quot;my.java.package.ClassNoTracing=TRACE&quot; })\r\n    public void allLogsOfThatPackageAreInTraceNowExceptOneClass() {\r\n       ...\r\n    }\r\n\r\nTo achieve this, you need so specify the test rule in your test class:\r\n\r\n    @Rule\r\n    LogLevelRule logLevelRule = new LogLevelRule();\r\n\r\n\r\nClasses needed found below:\r\n\r\n    import java.util.HashMap;\r\n\timport java.util.Map;\r\n\r\n\timport org.apache.log4j.Level;\r\n\timport org.apache.log4j.LogManager;\r\n\timport org.apache.log4j.Logger;\r\n\timport org.junit.rules.MethodRule;\r\n\timport org.junit.runners.model.FrameworkMethod;\r\n\timport org.junit.runners.model.Statement;\r\n\r\n\t/**\r\n\t * a Junit Rule that check for LogLevel annotation on methods and activates the configured log level per package. After\r\n\t * the test was executed, restores the previous log level.\r\n\t */\r\n\tpublic class LogLevelRule implements MethodRule {\r\n\r\n\t\t@Override\r\n\t\tpublic Statement apply(Statement base, FrameworkMethod method, Object target) {\r\n\r\n\t\t\treturn new Statement() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void evaluate() throws Throwable {\r\n\r\n\t\t\t\t\t// activate log level desired, remember what they were\r\n\t\t\t\t\tMap&lt;String, Level&gt; existingPackageLogLevel = new HashMap&lt;&gt;();\r\n\t\t\t\t\tLogLevel logLevelAnnotation = method.getAnnotation(LogLevel.class);\r\n\t\t\t\t\tif (logLevelAnnotation != null) {\r\n\t\t\t\t\t\tactivate(logLevelAnnotation.packageToLevel(), existingPackageLogLevel);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// run the test\r\n\t\t\t\t\tThrowable testFailure = evaluateSafely(base);\r\n\r\n\t\t\t\t\t// revert the log level back to what it was\r\n\t\t\t\t\tif (!existingPackageLogLevel.isEmpty()) {\r\n\t\t\t\t\t\tdeactivate(existingPackageLogLevel);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (testFailure != null) {\r\n\t\t\t\t\t\tthrow testFailure;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * execute the test safely so that if it fails, we can still revert the log level\r\n\t\t\t\t */\r\n\t\t\t\tprivate Throwable evaluateSafely(Statement base) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tbase.evaluate();\r\n\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t} catch (Throwable throwable) {\r\n\t\t\t\t\t\treturn throwable;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * activates the log level per package and remember the current setup\r\n\t\t *\r\n\t\t * @param packageToLevel\r\n\t\t *            the configuration of the annotation\r\n\t\t * @param existingPackageLogLevel\r\n\t\t *            where to store the current information\r\n\t\t */\r\n\t\tprotected void activate(String[] packageToLevel, Map&lt;String, Level&gt; existingPackageLogLevel) {\r\n\t\t\tfor (String pkgToLevel : packageToLevel) {\r\n\t\t\t\tString[] split = pkgToLevel.split(&quot;=&quot;);\r\n\t\t\t\tString pkg = split[0];\r\n\t\t\t\tString levelString = split[1];\r\n\t\t\t\tLogger logger = LogManager.getLogger(pkg);\r\n\t\t\t\tLevel level = logger.getLevel();\r\n\t\t\t\texistingPackageLogLevel.put(pkg, level);\r\n\t\t\t\tlogger.setLevel(Level.toLevel(levelString));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * resets the log level of the changes packages back to what it was before\r\n\t\t *\r\n\t\t * @param existingPackageLogLevel\r\n\t\t */\r\n\t\tprotected void deactivate(Map&lt;String, Level&gt; existingPackageLogLevel) {\r\n\t\t\tfor (Map.Entry&lt;String, Level&gt; e : existingPackageLogLevel.entrySet()) {\r\n\t\t\t\tLogManager.getLogger(e.getKey()).setLevel(e.getValue());\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n\r\n\r\n\timport java.lang.annotation.ElementType;\r\n\timport java.lang.annotation.Inherited;\r\n\timport java.lang.annotation.Retention;\r\n\timport java.lang.annotation.RetentionPolicy;\r\n\timport java.lang.annotation.Target;\r\n\r\n\t/**\r\n\t * marks a method to use a different log level for the execution phase\r\n\t */\r\n\t@Target(ElementType.METHOD)\r\n\t@Retention(RetentionPolicy.RUNTIME)\r\n\t@Inherited\r\n\tpublic @interface LogLevel {\r\n\t\tString[] packageToLevel();\r\n\t}","title":"How to set the log level to DEBUG during Junit tests?","body":"<p>maybe not entirely related to the question in the first place, however a google query will lead most developers to this topic when they search for a way on </p>\n\n<p><strong>how to change the log level for certain junit test methods.</strong></p>\n\n<p>The way to go is to use a custom junit MethodRule that accesses the loggers and re-configures the log level per package.</p>\n\n<p>With below classes, you can achieve this. It sets the log level for packages and classes as defines in the annotation of a test method and when the test has finished, sets the loggers back to their initial state.\nWe assume the default log level is set to INFO currently.</p>\n\n<pre><code>@Test\n@LogLevel(packageToLevel = { \"my.java.package=DEBUG\", \"my.other.java.package.ClassNeedsTracing=TRACE\" })\npublic void allLogsOfThatPackageAreInDebugNow() {\n   ...\n}\n\n@Test\n@LogLevel(packageToLevel = { \"my.java.package=TRACE\", \"my.java.package.ClassNoTracing=TRACE\" })\npublic void allLogsOfThatPackageAreInTraceNowExceptOneClass() {\n   ...\n}\n</code></pre>\n\n<p>To achieve this, you need so specify the test rule in your test class:</p>\n\n<pre><code>@Rule\nLogLevelRule logLevelRule = new LogLevelRule();\n</code></pre>\n\n<p>Classes needed found below:</p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\n\nimport org.apache.log4j.Level;\nimport org.apache.log4j.LogManager;\nimport org.apache.log4j.Logger;\nimport org.junit.rules.MethodRule;\nimport org.junit.runners.model.FrameworkMethod;\nimport org.junit.runners.model.Statement;\n\n/**\n * a Junit Rule that check for LogLevel annotation on methods and activates the configured log level per package. After\n * the test was executed, restores the previous log level.\n */\npublic class LogLevelRule implements MethodRule {\n\n    @Override\n    public Statement apply(Statement base, FrameworkMethod method, Object target) {\n\n        return new Statement() {\n            @Override\n            public void evaluate() throws Throwable {\n\n                // activate log level desired, remember what they were\n                Map&lt;String, Level&gt; existingPackageLogLevel = new HashMap&lt;&gt;();\n                LogLevel logLevelAnnotation = method.getAnnotation(LogLevel.class);\n                if (logLevelAnnotation != null) {\n                    activate(logLevelAnnotation.packageToLevel(), existingPackageLogLevel);\n                }\n\n                // run the test\n                Throwable testFailure = evaluateSafely(base);\n\n                // revert the log level back to what it was\n                if (!existingPackageLogLevel.isEmpty()) {\n                    deactivate(existingPackageLogLevel);\n                }\n\n                if (testFailure != null) {\n                    throw testFailure;\n                }\n            }\n\n            /**\n             * execute the test safely so that if it fails, we can still revert the log level\n             */\n            private Throwable evaluateSafely(Statement base) {\n                try {\n                    base.evaluate();\n                    return null;\n                } catch (Throwable throwable) {\n                    return throwable;\n                }\n            }\n        };\n    }\n\n    /**\n     * activates the log level per package and remember the current setup\n     *\n     * @param packageToLevel\n     *            the configuration of the annotation\n     * @param existingPackageLogLevel\n     *            where to store the current information\n     */\n    protected void activate(String[] packageToLevel, Map&lt;String, Level&gt; existingPackageLogLevel) {\n        for (String pkgToLevel : packageToLevel) {\n            String[] split = pkgToLevel.split(\"=\");\n            String pkg = split[0];\n            String levelString = split[1];\n            Logger logger = LogManager.getLogger(pkg);\n            Level level = logger.getLevel();\n            existingPackageLogLevel.put(pkg, level);\n            logger.setLevel(Level.toLevel(levelString));\n        }\n    }\n\n    /**\n     * resets the log level of the changes packages back to what it was before\n     *\n     * @param existingPackageLogLevel\n     */\n    protected void deactivate(Map&lt;String, Level&gt; existingPackageLogLevel) {\n        for (Map.Entry&lt;String, Level&gt; e : existingPackageLogLevel.entrySet()) {\n            LogManager.getLogger(e.getKey()).setLevel(e.getValue());\n        }\n    }\n\n}\n\n\n\n\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Inherited;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n/**\n * marks a method to use a different log level for the execution phase\n */\n@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\n@Inherited\npublic @interface LogLevel {\n    String[] packageToLevel();\n}\n</code></pre>\n"}],"owner":{"account_id":2542161,"reputation":5710,"user_id":2207729,"accept_rate":56,"display_name":"PedroD"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92688,"favorite_count":0,"down_vote_count":0,"up_vote_count":56,"accepted_answer_id":38778471,"answer_count":5,"score":56,"last_activity_date":1683704906,"creation_date":1470347629,"question_id":38778026,"body_markdown":"I am using SLF4J with LOG4J, and the configurations are usually in the `log4j.properties`, and it sets the log level to INFO.\r\n\r\nHowever during the tests I would like to set the logs to DEBUG.\r\n\r\nI can&#39;t see a way to automate this, neither to have something like `log4j.tests.properties` that would be loaded only during tests.\r\n\r\nSo I&#39;ve tried doing this programmatically in the test setup (the @BeforeClass):\r\n\r\n    LogManager.getRootLogger().setLevel(Level.ALL);\r\n\r\nWith no success...\r\n\r\nI am using these versions:\r\n\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nHow can I achieve this result?\r\n\r\n**EDIT:** I think I wasn&#39;t clear enough. This question is not about setting the correct log level... It is about setting the DEBUG log level when running Junit tests, and setting INFO log level in any other situation. I want to automate this.","title":"How to set the log level to DEBUG during Junit tests?","body":"<p>I am using SLF4J with LOG4J, and the configurations are usually in the <code>log4j.properties</code>, and it sets the log level to INFO.</p>\n\n<p>However during the tests I would like to set the logs to DEBUG.</p>\n\n<p>I can't see a way to automate this, neither to have something like <code>log4j.tests.properties</code> that would be loaded only during tests.</p>\n\n<p>So I've tried doing this programmatically in the test setup (the @BeforeClass):</p>\n\n<pre><code>LogManager.getRootLogger().setLevel(Level.ALL);\n</code></pre>\n\n<p>With no success...</p>\n\n<p>I am using these versions:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;version&gt;1.7.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n        &lt;version&gt;1.7.5&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>How can I achieve this result?</p>\n\n<p><strong>EDIT:</strong> I think I wasn't clear enough. This question is not about setting the correct log level... It is about setting the DEBUG log level when running Junit tests, and setting INFO log level in any other situation. I want to automate this.</p>\n"},{"tags":["java","spring","hibernate","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":7959023,"reputation":952,"user_id":10323800,"display_name":"Mahmoud Odeh"},"score":0,"creation_date":1616014470,"post_id":66680266,"comment_id":117874347,"body_markdown":"the question is not clear, what kind of query that you are trying to perform ?, also i didn&#39;t notice any `GenreList` in `ArtistEntity` pojo","body":"the question is not clear, what kind of query that you are trying to perform ?, also i didn&#39;t notice any <code>GenreList</code> in <code>ArtistEntity</code> pojo"},{"owner":{"account_id":4329594,"reputation":988,"user_id":3535466,"accept_rate":89,"display_name":"Heatmanofurioso"},"score":0,"creation_date":1616021892,"post_id":66680266,"comment_id":117876789,"body_markdown":"@MahmoudOdeh Sorry. Added the missing relationship to the example, also the ArtistEntity is the entity that I&#39;m querying. I have a Repository on my example, and I&#39;m doing a repository.findAll with an example, as is in the example","body":"@MahmoudOdeh Sorry. Added the missing relationship to the example, also the ArtistEntity is the entity that I&#39;m querying. I have a Repository on my example, and I&#39;m doing a repository.findAll with an example, as is in the example"}],"answers":[{"comments":[{"owner":{"account_id":4329594,"reputation":988,"user_id":3535466,"accept_rate":89,"display_name":"Heatmanofurioso"},"score":0,"creation_date":1616060247,"post_id":66687112,"comment_id":117886579,"body_markdown":"Thank you. I&#39;ve came across mentions on Specification, but for some reason, I didn&#39;t find the post mentioning the limitation, so I was trying to work out with Example","body":"Thank you. I&#39;ve came across mentions on Specification, but for some reason, I didn&#39;t find the post mentioning the limitation, so I was trying to work out with Example"}],"tags":[],"owner":{"account_id":2324765,"reputation":3704,"user_id":2039546,"display_name":"smail Y."},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1683704890,"creation_date":1616055304,"answer_id":66687112,"question_id":66680266,"body_markdown":"#### Currently, you cannot do this with `Query By Example`.\r\n\r\nThe spring document states that this **only works with SingularAttribute.**\r\n\r\n&gt; Currently, only SingularAttribute properties can be used for property\r\n&gt; matching. https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#query-by-example.running\r\n\r\nYou want to search by a property that is a `Set&lt;GenreEntity&gt; (genreList)`, which is a `PluralAttribute`. It is not possible to search by this field. \r\n\r\nIt will be ignored when building a query, as can be seen here: https://github.com/spring-projects/spring-data-jpa/blob/master/src/main/java/org/springframework/data/jpa/convert/QueryByExamplePredicateBuilder.java#L127\r\n\r\n#### You can use `Specification`.\r\n\r\n&gt; Advanced Spring Data JPA - Specifications and Querydsl. https://spring.io/blog/2011/04/26/advanced-spring-data-jpa-specifications-and-querydsl/\r\n\r\nFor this you need to extend from interface [`JpaSpecificationExecutor`](https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaSpecificationExecutor.html):\r\n\r\n```java\r\npublic interface ArtistRepository extends \r\n    JpaRepository&lt;ArtistEntity&gt;, JpaSpecificationExecutor&lt;ArtistEntity&gt; {}\r\n```\r\n\r\n- And you also need to implement your custom `Specification&lt;T&gt;`.\r\n- And then you can use `findAll(Specification&lt;T&gt; spec, Pageable pageable)`. ","title":"Spring Data JPA Query By Example with related entities","body":"<h4>Currently, you cannot do this with <code>Query By Example</code>.</h4>\n<p>The spring document states that this <strong>only works with SingularAttribute.</strong></p>\n<blockquote>\n<p>Currently, only SingularAttribute properties can be used for property\nmatching. <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#query-by-example.running\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#query-by-example.running</a></p>\n</blockquote>\n<p>You want to search by a property that is a <code>Set&lt;GenreEntity&gt; (genreList)</code>, which is a <code>PluralAttribute</code>. It is not possible to search by this field.</p>\n<p>It will be ignored when building a query, as can be seen here: <a href=\"https://github.com/spring-projects/spring-data-jpa/blob/master/src/main/java/org/springframework/data/jpa/convert/QueryByExamplePredicateBuilder.java#L127\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-jpa/blob/master/src/main/java/org/springframework/data/jpa/convert/QueryByExamplePredicateBuilder.java#L127</a></p>\n<h4>You can use <code>Specification</code>.</h4>\n<blockquote>\n<p>Advanced Spring Data JPA - Specifications and Querydsl. <a href=\"https://spring.io/blog/2011/04/26/advanced-spring-data-jpa-specifications-and-querydsl/\" rel=\"nofollow noreferrer\">https://spring.io/blog/2011/04/26/advanced-spring-data-jpa-specifications-and-querydsl/</a></p>\n</blockquote>\n<p>For this you need to extend from interface <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaSpecificationExecutor.html\" rel=\"nofollow noreferrer\"><code>JpaSpecificationExecutor</code></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface ArtistRepository extends \n    JpaRepository&lt;ArtistEntity&gt;, JpaSpecificationExecutor&lt;ArtistEntity&gt; {}\n</code></pre>\n<ul>\n<li>And you also need to implement your custom <code>Specification&lt;T&gt;</code>.</li>\n<li>And then you can use <code>findAll(Specification&lt;T&gt; spec, Pageable pageable)</code>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":18235597,"reputation":137,"user_id":13273672,"display_name":"torshid"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618200247,"creation_date":1618200247,"answer_id":67052535,"question_id":66680266,"body_markdown":"You may just use this library which supports nested fields and much more: https://github.com/turkraft/spring-filter\r\n\r\nIt will let you run search queries such as:\r\n\r\n&gt; */search?filter=* **average**(ratings) **&gt;** 4.5 **and** brand.name **in** (&#39;audi&#39;, &#39;land rover&#39;) **and** (year **&gt;** 2018 **or** km **&lt;** 50000) and color **:** &#39;white&#39; **and** accidents **is empty**","title":"Spring Data JPA Query By Example with related entities","body":"<p>You may just use this library which supports nested fields and much more: <a href=\"https://github.com/turkraft/spring-filter\" rel=\"nofollow noreferrer\">https://github.com/turkraft/spring-filter</a></p>\n<p>It will let you run search queries such as:</p>\n<blockquote>\n<p><em>/search?filter=</em> <strong>average</strong>(ratings) <strong>&gt;</strong> 4.5 <strong>and</strong> brand.name <strong>in</strong> ('audi', 'land rover') <strong>and</strong> (year <strong>&gt;</strong> 2018 <strong>or</strong> km <strong>&lt;</strong> 50000) and color <strong>:</strong> 'white' <strong>and</strong> accidents <strong>is empty</strong></p>\n</blockquote>\n"}],"owner":{"account_id":4329594,"reputation":988,"user_id":3535466,"accept_rate":89,"display_name":"Heatmanofurioso"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3630,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":66687112,"answer_count":2,"score":3,"last_activity_date":1683704890,"creation_date":1616010633,"question_id":66680266,"body_markdown":"I seem to be unable to add QueryByExample probes that match related entities.\r\n \r\n    @Entity\r\n    @Data\r\n    public class ArtistEntity implements Serializable {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        private String name;\r\n        private String description;\r\n        @ManyToMany(fetch = FetchType.EAGER)\r\n        private Set&lt;GenreEntity&gt; genreList = new HashSet&lt;&gt;();\r\n        @Version\r\n        private Long version;\r\n    }\r\n----------\r\n    @Entity\r\n    @Data\r\n    public class GenreEntity implements Serializable {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        private String name;\r\n        @Version\r\n        private Long version;\r\n    }\r\n----------\r\n    @Repository\r\n    public interface ArtistRepository extends JpaRepository&lt;ArtistEntity, Long&gt; {\r\n    }\r\n\r\n\r\nWhen I try the following query, according to Hibernate&#39;s logs, my probe isn&#39;t running any conditions against the Genre\r\n----------\r\n    GenreEntity genreEntity = new GenreEntity();\r\n    genreEntity.setName(&quot;Heavy Metal&quot;);\r\n    \r\n    ArtistEntity artistEntity = new ArtistEntity();\r\n    \r\n    Set&lt;GenreEntity&gt; genreEntitySet = new HashSet&lt;&gt;();\r\n    genreEntitySet.add(genreEntity);\r\n    \r\n    artistEntity.setGenreList(genreEntitySet);\r\n    \r\n    Example&lt;ArtistEntity&gt; example = Example.of(artistEntity);\r\n    Pageable pagination = PageRequest.of(0, 10);\r\n    artistRepository.findAll(example, pagination);\r\n----------\r\n\r\nI also tried looking on the Spring Data JPA documentation regarding QBE, but I didn&#39;t find anything specifically mentioning this limitation, which brought me to assume it&#39;s an unexpected behaviour.\r\n","title":"Spring Data JPA Query By Example with related entities","body":"<p>I seem to be unable to add QueryByExample probes that match related entities.</p>\n<pre><code>@Entity\n@Data\npublic class ArtistEntity implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n    private String description;\n    @ManyToMany(fetch = FetchType.EAGER)\n    private Set&lt;GenreEntity&gt; genreList = new HashSet&lt;&gt;();\n    @Version\n    private Long version;\n}\n</code></pre>\n<hr />\n<pre><code>@Entity\n@Data\npublic class GenreEntity implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n    @Version\n    private Long version;\n}\n</code></pre>\n<hr />\n<pre><code>@Repository\npublic interface ArtistRepository extends JpaRepository&lt;ArtistEntity, Long&gt; {\n}\n</code></pre>\n<h2>When I try the following query, according to Hibernate's logs, my probe isn't running any conditions against the Genre</h2>\n<pre><code>GenreEntity genreEntity = new GenreEntity();\ngenreEntity.setName(&quot;Heavy Metal&quot;);\n\nArtistEntity artistEntity = new ArtistEntity();\n\nSet&lt;GenreEntity&gt; genreEntitySet = new HashSet&lt;&gt;();\ngenreEntitySet.add(genreEntity);\n\nartistEntity.setGenreList(genreEntitySet);\n\nExample&lt;ArtistEntity&gt; example = Example.of(artistEntity);\nPageable pagination = PageRequest.of(0, 10);\nartistRepository.findAll(example, pagination);\n</code></pre>\n<hr />\n<p>I also tried looking on the Spring Data JPA documentation regarding QBE, but I didn't find anything specifically mentioning this limitation, which brought me to assume it's an unexpected behaviour.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":14194880,"reputation":1483,"user_id":10254476,"display_name":"GJohannes"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683702912,"creation_date":1683702912,"answer_id":76215815,"question_id":76215778,"body_markdown":"It seems that you are missing the jpa dependency which contains the autoconfigure for your datasource \r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n       &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;","title":"Field Repository in Controller required a bean of type Repository that could not be found","body":"<p>It seems that you are missing the jpa dependency which contains the autoconfigure for your datasource</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1683704860,"creation_date":1683704860,"answer_id":76216065,"question_id":76215778,"body_markdown":"In the pom.xml file remove this:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-data-jdbc&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAdd following instead:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nChange the repository interface to extend JpaRepository like this:\r\n\r\n    public interface StoreCardRepository extends JpaRepository&lt;StoreCard, Long&gt; {\r\n    }\r\n\r\nThe entity class can&#39;t be a Java record. It should be a Java bean (POJO) with mandatory getters, setters and no-args constructor. Something like this:\r\n\r\n    @Entity\r\n    @NoArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    public class StoreCard {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        private BigDecimal amount;\r\n    }\r\n\r\nPlease note: the annotations for getters and setters etc come from Lombok. Very helpful plugin. Otherwise you will need to implement it yourself.\r\n\r\n\r\n","title":"Field Repository in Controller required a bean of type Repository that could not be found","body":"<p>In the pom.xml file remove this:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-data-jdbc&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\n    &lt;version&gt;2.2.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Add following instead:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Change the repository interface to extend JpaRepository like this:</p>\n<pre><code>public interface StoreCardRepository extends JpaRepository&lt;StoreCard, Long&gt; {\n}\n</code></pre>\n<p>The entity class can't be a Java record. It should be a Java bean (POJO) with mandatory getters, setters and no-args constructor. Something like this:</p>\n<pre><code>@Entity\n@NoArgsConstructor\n@Getter\n@Setter\n@ToString\npublic class StoreCard {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private BigDecimal amount;\n}\n</code></pre>\n<p>Please note: the annotations for getters and setters etc come from Lombok. Very helpful plugin. Otherwise you will need to implement it yourself.</p>\n"}],"owner":{"account_id":28564984,"reputation":3,"user_id":21867983,"display_name":"Raul C."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":457,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76216065,"answer_count":2,"score":0,"last_activity_date":1683704860,"creation_date":1683702649,"question_id":76215778,"body_markdown":"First post here.\r\nI am learning spring boot and I&#39;ve been stuck with trying to get my spring boot application to run for a while.\r\nI assume something with my repository is wrong since when I add the line to my controller class\r\n\r\n```\r\n@Autowired\r\nprivate StoreCardRepository storeCardRepository;\r\n```\r\n\r\nI get the following error:\r\n\r\n```\r\n2023-05-09T23:39:44.036-07:00  INFO 433094 --- [           main] example.storecard.StoreCardApplication   : Starting StoreCardApplication using Java 18.0.2.1 with PID 433094 (/media/ryuga/656464b7-2c1e-4da4-8da9-54f5442a88fe/ryuga/IdeaProjects/storecard/target/classes started by ryuga in /media/ryuga/656464b7-2c1e-4da4-8da9-54f5442a88fe/ryuga/IdeaProjects/storecard)\r\n2023-05-09T23:39:44.037-07:00  INFO 433094 --- [           main] example.storecard.StoreCardApplication   : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-05-09T23:39:44.371-07:00  INFO 433094 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2023-05-09T23:39:44.376-07:00  INFO 433094 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2023-05-09T23:39:44.376-07:00  INFO 433094 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.8]\r\n2023-05-09T23:39:44.411-07:00  INFO 433094 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2023-05-09T23:39:44.412-07:00  INFO 433094 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 356 ms\r\n2023-05-09T23:39:44.435-07:00  WARN 433094 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;storeCardController&#39;: Unsatisfied dependency expressed through field &#39;storeCardRepository&#39;: No qualifying bean of type &#39;example.storecard.StoreCardRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n2023-05-09T23:39:44.436-07:00  INFO 433094 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2023-05-09T23:39:44.443-07:00  INFO 433094 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \r\n\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2023-05-09T23:39:44.450-07:00 ERROR 433094 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nField storeCardRepository in example.storecard.StoreCardController required a bean of type &#39;example.storecard.StoreCardRepository&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;example.storecard.StoreCardRepository&#39; in your configuration.\r\n\r\n\r\nProcess finished with exit code 1\r\n\r\n\r\n```\r\n\r\nHere is my project structure\r\n[Showing where files are at](https://i.stack.imgur.com/s45Oi.png)\r\n\r\nAnd here is the code for each of the files in example.storecard:\r\n\r\n\r\nStoreCard.java\r\n```\r\npackage example.storecard;\r\n\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.Id;\r\n\r\n@Entity\r\npublic record StoreCard(@Id Long id, Double amount) {\r\n}\r\n\r\n```\r\n\r\nStoreCardApplication.java\r\n\r\n```\r\npackage example.storecard;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.annotation.ComponentScan;\r\n\r\n@SpringBootApplication\r\npublic class StoreCardApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(StoreCardApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nStoreCardController.java\r\n\r\n```\r\npackage example.storecard;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport java.util.Optional;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/storecards&quot;)\r\npublic class StoreCardController {\r\n\r\n    @Autowired\r\n    private StoreCardRepository storeCardRepository;\r\n\r\n\r\n    @GetMapping(&quot;/{requestedId}&quot;)\r\n    public ResponseEntity&lt;StoreCard&gt; findById(@PathVariable Long requestedId){\r\n        Optional&lt;StoreCard&gt; storeCard = storeCardRepository.findById(requestedId);\r\n        if(storeCard.isPresent()){\r\n            return ResponseEntity.ok(storeCard.get());\r\n        }\r\n        return ResponseEntity.notFound().build();\r\n\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nStoreCardRepository.java\r\n\r\n```\r\npackage example.storecard;\r\n\r\nimport org.springframework.data.repository.CrudRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface StoreCardRepository extends CrudRepository&lt;StoreCard, Long&gt; {\r\n}\r\n\r\n```\r\n\r\npom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.6&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;storecard&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;StoreCard&lt;/name&gt;\r\n\t&lt;description&gt;StoreCard service for woodland water store&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n&lt;!--\t\t--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-data-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.mysql/mysql-connector-j --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.33&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;!--\t\t&lt;dependency&gt;--&gt;\r\n&lt;!--\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;--&gt;\r\n&lt;!--\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;--&gt;\r\n&lt;!--\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;--&gt;\r\n&lt;!--\t\t&lt;/dependency&gt;--&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nReading through the output I noticed 2 things\r\n\r\n\r\n```\r\nConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;storeCardController&#39;: Unsatisfied dependency expressed through field &#39;storeCardRepository&#39;: No qualifying bean of type &#39;example.storecard.StoreCardRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n```\r\n\r\nand\r\n\r\n\r\n```\r\nField storeCardRepository in example.storecard.StoreCardController required a bean of type &#39;example.storecard.StoreCardRepository&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;example.storecard.StoreCardRepository&#39; in your configuration.\r\n\r\n```\r\n\r\nI can guess that this is saying that something is wrong with my repository class and spring boot not being able to make a bean for it for some reason. But since that is the extent of my knowledge with spring boot all I can do is google and see if there is another post out there that might solve my issue but I&#39;ve found nothing so far after trying many possible solutions.\r\n\r\n","title":"Field Repository in Controller required a bean of type Repository that could not be found","body":"<p>First post here.\nI am learning spring boot and I've been stuck with trying to get my spring boot application to run for a while.\nI assume something with my repository is wrong since when I add the line to my controller class</p>\n<pre><code>@Autowired\nprivate StoreCardRepository storeCardRepository;\n</code></pre>\n<p>I get the following error:</p>\n<pre><code>2023-05-09T23:39:44.036-07:00  INFO 433094 --- [           main] example.storecard.StoreCardApplication   : Starting StoreCardApplication using Java 18.0.2.1 with PID 433094 (/media/ryuga/656464b7-2c1e-4da4-8da9-54f5442a88fe/ryuga/IdeaProjects/storecard/target/classes started by ryuga in /media/ryuga/656464b7-2c1e-4da4-8da9-54f5442a88fe/ryuga/IdeaProjects/storecard)\n2023-05-09T23:39:44.037-07:00  INFO 433094 --- [           main] example.storecard.StoreCardApplication   : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-05-09T23:39:44.371-07:00  INFO 433094 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2023-05-09T23:39:44.376-07:00  INFO 433094 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-05-09T23:39:44.376-07:00  INFO 433094 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.8]\n2023-05-09T23:39:44.411-07:00  INFO 433094 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-05-09T23:39:44.412-07:00  INFO 433094 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 356 ms\n2023-05-09T23:39:44.435-07:00  WARN 433094 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'storeCardController': Unsatisfied dependency expressed through field 'storeCardRepository': No qualifying bean of type 'example.storecard.StoreCardRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n2023-05-09T23:39:44.436-07:00  INFO 433094 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2023-05-09T23:39:44.443-07:00  INFO 433094 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \n\nError starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-05-09T23:39:44.450-07:00 ERROR 433094 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nField storeCardRepository in example.storecard.StoreCardController required a bean of type 'example.storecard.StoreCardRepository' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean of type 'example.storecard.StoreCardRepository' in your configuration.\n\n\nProcess finished with exit code 1\n\n\n</code></pre>\n<p>Here is my project structure\n<a href=\"https://i.stack.imgur.com/s45Oi.png\" rel=\"nofollow noreferrer\">Showing where files are at</a></p>\n<p>And here is the code for each of the files in example.storecard:</p>\n<p>StoreCard.java</p>\n<pre><code>package example.storecard;\n\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\n\n@Entity\npublic record StoreCard(@Id Long id, Double amount) {\n}\n\n</code></pre>\n<p>StoreCardApplication.java</p>\n<pre><code>package example.storecard;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.ComponentScan;\n\n@SpringBootApplication\npublic class StoreCardApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(StoreCardApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>StoreCardController.java</p>\n<pre><code>package example.storecard;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.Optional;\n\n@RestController\n@RequestMapping(&quot;/storecards&quot;)\npublic class StoreCardController {\n\n    @Autowired\n    private StoreCardRepository storeCardRepository;\n\n\n    @GetMapping(&quot;/{requestedId}&quot;)\n    public ResponseEntity&lt;StoreCard&gt; findById(@PathVariable Long requestedId){\n        Optional&lt;StoreCard&gt; storeCard = storeCardRepository.findById(requestedId);\n        if(storeCard.isPresent()){\n            return ResponseEntity.ok(storeCard.get());\n        }\n        return ResponseEntity.notFound().build();\n\n\n    }\n\n}\n</code></pre>\n<p>StoreCardRepository.java</p>\n<pre><code>package example.storecard;\n\nimport org.springframework.data.repository.CrudRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface StoreCardRepository extends CrudRepository&lt;StoreCard, Long&gt; {\n}\n\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.6&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;example&lt;/groupId&gt;\n    &lt;artifactId&gt;storecard&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;StoreCard&lt;/name&gt;\n    &lt;description&gt;StoreCard service for woodland water store&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n&lt;!--        --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.mysql/mysql-connector-j --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;version&gt;8.0.33&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;2.2.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;com.h2database&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;h2&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;scope&gt;runtime&lt;/scope&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>Reading through the output I noticed 2 things</p>\n<pre><code>ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'storeCardController': Unsatisfied dependency expressed through field 'storeCardRepository': No qualifying bean of type 'example.storecard.StoreCardRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n</code></pre>\n<p>and</p>\n<pre><code>Field storeCardRepository in example.storecard.StoreCardController required a bean of type 'example.storecard.StoreCardRepository' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean of type 'example.storecard.StoreCardRepository' in your configuration.\n\n</code></pre>\n<p>I can guess that this is saying that something is wrong with my repository class and spring boot not being able to make a bean for it for some reason. But since that is the extent of my knowledge with spring boot all I can do is google and see if there is another post out there that might solve my issue but I've found nothing so far after trying many possible solutions.</p>\n"},{"tags":["java","xml","spring","spring-boot"],"comments":[{"owner":{"account_id":22112469,"reputation":74,"user_id":16367144,"display_name":"SquidXTV"},"score":0,"creation_date":1683620557,"post_id":76207148,"comment_id":134390510,"body_markdown":"Does this answer your question? [safest way to read clob into xml parser](https://stackoverflow.com/questions/16536884/safest-way-to-read-clob-into-xml-parser)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/16536884/safest-way-to-read-clob-into-xml-parser\">safest way to read clob into xml parser</a>"}],"answers":[{"tags":[],"owner":{"account_id":6169704,"reputation":149,"user_id":4808346,"display_name":"Soufiane KAMAD"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683704840,"creation_date":1683645866,"answer_id":76210965,"question_id":76207148,"body_markdown":"Try the following:\r\n\r\n    Connection connection = &lt;YOUR_CONNECTION_OBJECT&gt;;\r\n    \r\n    PreparedStatement preparedStatement = connection.prepareStatement(&lt;YOUR_CLOB_SELECT_REQUEST&gt;);\r\n    \r\n    ResultSet resultSet = preparedStatement.executeQuery();\r\n    \r\n    if (resultSet.next()) {\r\n        Clob clob = resultSet.getClob(&lt;CLOB_COLUMN_NAME&gt;);\r\n    }","title":"How to convert a clob type to XML?","body":"<p>Try the following:</p>\n<pre><code>Connection connection = &lt;YOUR_CONNECTION_OBJECT&gt;;\n\nPreparedStatement preparedStatement = connection.prepareStatement(&lt;YOUR_CLOB_SELECT_REQUEST&gt;);\n\nResultSet resultSet = preparedStatement.executeQuery();\n\nif (resultSet.next()) {\n    Clob clob = resultSet.getClob(&lt;CLOB_COLUMN_NAME&gt;);\n}\n</code></pre>\n"}],"owner":{"account_id":27496380,"reputation":19,"user_id":20980824,"display_name":"RandomUser"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683704840,"creation_date":1683619676,"question_id":76207148,"body_markdown":"I am trying to retrieve data from the database which returns CLOB object, and I need to convert it to XML format to read data from it. what is the safest way to do it?\r\n\r\nI tried retrieving it using java.sql but it was retrieved as a string, and I want to use it as an object that I can get data from. ","title":"How to convert a clob type to XML?","body":"<p>I am trying to retrieve data from the database which returns CLOB object, and I need to convert it to XML format to read data from it. what is the safest way to do it?</p>\n<p>I tried retrieving it using java.sql but it was retrieved as a string, and I want to use it as an object that I can get data from.</p>\n"},{"tags":["java","spring","spring-boot","spring-cloud","spring-cloud-config"],"answers":[{"comments":[{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1461142916,"post_id":36731838,"comment_id":61059921,"body_markdown":"`application-.yml` seems an odd way to display it, I&#39;d say `application-&lt;profile&gt;.yml`. Also works with properties.","body":"<code>application-.yml</code> seems an odd way to display it, I&#39;d say <code>application-&lt;profile&gt;.yml</code>. Also works with properties."},{"owner":{"account_id":2618582,"reputation":497,"user_id":2267151,"accept_rate":67,"display_name":"Sonafets"},"score":1,"creation_date":1461146432,"post_id":36731838,"comment_id":61062582,"body_markdown":"Thanks - the reason this wasn&#39;t working for me is because I was using the &quot;native&quot; profile on the config server and loading from the classpath instead of a git repository, which explicitly excludes application-*.{yml|properties} from the served config! Your answer helped in prodding me to figure that out though.","body":"Thanks - the reason this wasn&#39;t working for me is because I was using the &quot;native&quot; profile on the config server and loading from the classpath instead of a git repository, which explicitly excludes application-*.{yml|properties} from the served config! Your answer helped in prodding me to figure that out though."},{"owner":{"account_id":286095,"reputation":617,"user_id":585151,"accept_rate":36,"display_name":"vladsfl"},"score":0,"creation_date":1461156114,"post_id":36731838,"comment_id":61069397,"body_markdown":"@spencergibb.  I did type &lt;profile&gt; there but I guess it got stripped out","body":"@spencergibb.  I did type &lt;profile&gt; there but I guess it got stripped out"},{"owner":{"account_id":2035724,"reputation":1280,"user_id":1818122,"accept_rate":27,"display_name":"The_Cute_Hedgehog"},"score":1,"creation_date":1524812444,"post_id":36731838,"comment_id":87130354,"body_markdown":"Is there a way to change the name of that file? I mean changing name of `application.properties` to `something.properties`.","body":"Is there a way to change the name of that file? I mean changing name of <code>application.properties</code> to <code>something.properties</code>."}],"tags":[],"owner":{"account_id":286095,"reputation":617,"user_id":585151,"accept_rate":36,"display_name":"vladsfl"},"comment_count":4,"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1461283498,"creation_date":1461112653,"answer_id":36731838,"question_id":36727315,"body_markdown":"Yes. You can have `application.yml` or `application-&lt;profile&gt;.yml` on your config server and now every application that is using this config server will inherit all settings in `application.yml`. Every application that runs in specific profile will inherit settings from `application-&lt;profile&gt;.yml`.\r\n","title":"Include common config for multiple apps in Spring Cloud Config server","body":"<p>Yes. You can have <code>application.yml</code> or <code>application-&lt;profile&gt;.yml</code> on your config server and now every application that is using this config server will inherit all settings in <code>application.yml</code>. Every application that runs in specific profile will inherit settings from <code>application-&lt;profile&gt;.yml</code>.</p>\n"},{"comments":[{"owner":{"account_id":2302474,"reputation":321,"user_id":2022484,"display_name":"andrewps"},"score":0,"creation_date":1625004433,"post_id":60720192,"comment_id":120510589,"body_markdown":"When i tried this I get an error, seems like it will not try to pull for both apps, it just considers it a single app name: Could not locate PropertySource and the fail fast property is set, failing: {&quot;timestamp&quot;:1625004407773,&quot;status&quot;:500,&quot;error&quot;:&quot;Internal Server Error&quot;,&quot;exception&quot;:&quot;java.lang.IllegalStateException&quot;,&quot;message&quot;:&quot;Cannot clone or checkout repository&quot;,&quot;path&quot;:&quot;/appname1,%20appname2/dev&quot;}","body":"When i tried this I get an error, seems like it will not try to pull for both apps, it just considers it a single app name: Could not locate PropertySource and the fail fast property is set, failing: {&quot;timestamp&quot;:1625004407773,&quot;status&quot;:500,&quot;error&quot;:&quot;Internal Server Error&quot;,&quot;exception&quot;:&quot;java.lang.IllegalStateException&quot;,&quot;messag&zwnj;&#8203;e&quot;:&quot;Cannot clone or checkout repository&quot;,&quot;path&quot;:&quot;/appname1,%20appname2/dev&quot;}"},{"owner":{"account_id":7193224,"reputation":634,"user_id":5492826,"accept_rate":25,"display_name":"emrekgn"},"score":0,"creation_date":1629289203,"post_id":60720192,"comment_id":121646401,"body_markdown":"I also couldn&#39;t make this work with Spring Cloud Config Server v3.0.4. But when add `search-paths: &#39;{application}&#39;` in the config server *application.yml* and remove `name` property from client service, everything works. [Here](https://gist.github.com/emrekgn/93fab341cbe29ea54e866e51001a5f5c#file-a-spring-cloud-config-server-application-yml-L14) is a full example.","body":"I also couldn&#39;t make this work with Spring Cloud Config Server v3.0.4. But when add <code>search-paths: &#39;{application}&#39;</code> in the config server <i>application.yml</i> and remove <code>name</code> property from client service, everything works. <a href=\"https://gist.github.com/emrekgn/93fab341cbe29ea54e866e51001a5f5c#file-a-spring-cloud-config-server-application-yml-L14\" rel=\"nofollow noreferrer\">Here</a> is a full example."}],"tags":[],"owner":{"account_id":3121082,"reputation":3546,"user_id":2640826,"display_name":"Zsolt Tolvaly"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1584439996,"creation_date":1584439996,"answer_id":60720192,"question_id":36727315,"body_markdown":"Probably it&#39;s too late already, but in case someone else is struggling with the same issue, the final solution is as follows:\r\n\r\nYou can create as many yml files under config-server classpath as you wish. Even if it is in native profile selected, there will be provided to client applications.\r\nThe only thing not mentioned before is, you should tell the client application to read those settings files as well.\r\n\r\nHere is a working example:\r\n# Config server file structure:\r\n\r\n    resources\r\n    |-config\r\n       |-auth-service.yml - service specific configuration file\r\n    |-application.yml - config server settings\r\n    |-settings.yml - general settings file, planed to be loaded in every service\r\n\r\n# Client application bootstrap.yml file:\r\n\r\n    spring:\r\n    application:\r\n      name: auth-service\r\n    cloud:\r\n      config:\r\n        username: &quot;config-user&quot;\r\n        password: &quot;config-password-1234&quot;\r\n        uri: &quot;http://config-service:8888&quot;\r\n        name: ${spring.application.name}, settings\r\n\r\nThe key is ```name: ${spring.application.name}, settings``` which tells the config client to load the following settings from the config server:\r\n\r\n- ```${spring.application.name}``` which will load **config/auth-service.yml**\r\n- ```settings``` which will load **settings.yml**","title":"Include common config for multiple apps in Spring Cloud Config server","body":"<p>Probably it's too late already, but in case someone else is struggling with the same issue, the final solution is as follows:</p>\n\n<p>You can create as many yml files under config-server classpath as you wish. Even if it is in native profile selected, there will be provided to client applications.\nThe only thing not mentioned before is, you should tell the client application to read those settings files as well.</p>\n\n<p>Here is a working example:</p>\n\n<h1>Config server file structure:</h1>\n\n<pre><code>resources\n|-config\n   |-auth-service.yml - service specific configuration file\n|-application.yml - config server settings\n|-settings.yml - general settings file, planed to be loaded in every service\n</code></pre>\n\n<h1>Client application bootstrap.yml file:</h1>\n\n<pre><code>spring:\napplication:\n  name: auth-service\ncloud:\n  config:\n    username: \"config-user\"\n    password: \"config-password-1234\"\n    uri: \"http://config-service:8888\"\n    name: ${spring.application.name}, settings\n</code></pre>\n\n<p>The key is <code>name: ${spring.application.name}, settings</code> which tells the config client to load the following settings from the config server:</p>\n\n<ul>\n<li><code>${spring.application.name}</code> which will load <strong>config/auth-service.yml</strong></li>\n<li><code>settings</code> which will load <strong>settings.yml</strong></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":2568291,"reputation":69680,"user_id":2227743,"accept_rate":100,"display_name":"Eric Aya"},"score":0,"creation_date":1681642760,"post_id":76027145,"comment_id":134086478,"body_markdown":"It seems that this is your own GitHub account. Please always disclose your affiliation when recommending external resources. Thanks.","body":"It seems that this is your own GitHub account. Please always disclose your affiliation when recommending external resources. Thanks."}],"tags":[],"owner":{"account_id":12103705,"reputation":460,"user_id":8843390,"display_name":"Alakazam"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683704561,"creation_date":1681640213,"answer_id":76027145,"question_id":36727315,"body_markdown":"If you want to keep configuration files simple across environments, try [mergeconfigs][1], it is designed to support merging several configuration files and to facilitate local development. \r\nDisclaimer: I am the owner of mergeconfigs.\r\n\r\n\r\n  [1]: https://github.com/x41lakazam/mergeconfigs","title":"Include common config for multiple apps in Spring Cloud Config server","body":"<p>If you want to keep configuration files simple across environments, try <a href=\"https://github.com/x41lakazam/mergeconfigs\" rel=\"nofollow noreferrer\">mergeconfigs</a>, it is designed to support merging several configuration files and to facilitate local development.\nDisclaimer: I am the owner of mergeconfigs.</p>\n"}],"owner":{"account_id":2618582,"reputation":497,"user_id":2267151,"accept_rate":67,"display_name":"Sonafets"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8589,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":36731838,"answer_count":3,"score":14,"last_activity_date":1683704561,"creation_date":1461092796,"question_id":36727315,"body_markdown":"I&#39;m trying to migrate our stable of app servers to get their configuration from a Spring Cloud Config server. Each app has a `{my-app}.yml` file on the config server and we can use profiles (either in files named `{my-app}-{profile}.yml` or using multi-profile YAML documents) to have different configuration per environment for each app, and we can even include one profile in another using `spring.profiles.include` to provide some sort of inheritance - so far, so good.\r\n\r\nHowever, we can only include profiles _from the same app_ in each other and we have several apps configured from the same config server which share a lot of config per environment - for instance they almost all use the same DataSource config to connect to the same database and likewise for messaging, cache and so on. That&#39;s a lot of duplicated config and a lot of places it needs to be changed - precisely what Spring Cloud Config is supposed to avoid!\r\n\r\nIs there a way to &quot;include&quot; (via profiles or otherwise!) shared config properties _across apps_ in Spring Cloud Config server?\r\n\r\n**Update**\r\n\r\nIn addition to the correct answer by @vladsfl below, beware if you&#39;re using the native profile on the config server to serve config from the filesystem or classpath instead of a git repo, the config server will use application.yml and its profile variants for itself but refuse to serve them out to other apps. The solution is to use `spring.cloud.config.server.native.searchLocations` to pull the served config from a different location.\r\n","title":"Include common config for multiple apps in Spring Cloud Config server","body":"<p>I'm trying to migrate our stable of app servers to get their configuration from a Spring Cloud Config server. Each app has a <code>{my-app}.yml</code> file on the config server and we can use profiles (either in files named <code>{my-app}-{profile}.yml</code> or using multi-profile YAML documents) to have different configuration per environment for each app, and we can even include one profile in another using <code>spring.profiles.include</code> to provide some sort of inheritance - so far, so good.</p>\n\n<p>However, we can only include profiles <em>from the same app</em> in each other and we have several apps configured from the same config server which share a lot of config per environment - for instance they almost all use the same DataSource config to connect to the same database and likewise for messaging, cache and so on. That's a lot of duplicated config and a lot of places it needs to be changed - precisely what Spring Cloud Config is supposed to avoid!</p>\n\n<p>Is there a way to \"include\" (via profiles or otherwise!) shared config properties <em>across apps</em> in Spring Cloud Config server?</p>\n\n<p><strong>Update</strong></p>\n\n<p>In addition to the correct answer by @vladsfl below, beware if you're using the native profile on the config server to serve config from the filesystem or classpath instead of a git repo, the config server will use application.yml and its profile variants for itself but refuse to serve them out to other apps. The solution is to use <code>spring.cloud.config.server.native.searchLocations</code> to pull the served config from a different location.</p>\n"},{"tags":["java","intellij-idea","java-8"],"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1489751744,"post_id":42856555,"comment_id":72819761,"body_markdown":"What OS do you use? Are you sure it&#39;s the full JDK installation path and not a JRE?","body":"What OS do you use? Are you sure it&#39;s the full JDK installation path and not a JRE?"},{"owner":{"account_id":10052628,"reputation":1473,"user_id":7431936,"accept_rate":56,"display_name":"A.Jac"},"score":0,"creation_date":1489752385,"post_id":42856555,"comment_id":72820201,"body_markdown":"@CrazyCoder I am using ubuntu 16.10 and i downloaded the JDK from http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html, the path is to the extracted folder","body":"@CrazyCoder I am using ubuntu 16.10 and i downloaded the JDK from <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" rel=\"nofollow noreferrer\">oracle.com/technetwork/java/javase/downloads/&hellip;</a>, the path is to the extracted folder"},{"owner":{"account_id":4427703,"reputation":3041,"user_id":3605712,"accept_rate":97,"display_name":"Malakai"},"score":0,"creation_date":1489756449,"post_id":42856555,"comment_id":72823046,"body_markdown":"Please specify what OS do you use. As of now, question is unclear.","body":"Please specify what OS do you use. As of now, question is unclear."},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1489793931,"post_id":42856555,"comment_id":72843451,"body_markdown":"Do you see `$USER` in the error message or did you replace it when posting the question?","body":"Do you see <code>$USER</code> in the error message or did you replace it when posting the question?"},{"owner":{"account_id":10052628,"reputation":1473,"user_id":7431936,"accept_rate":56,"display_name":"A.Jac"},"score":0,"creation_date":1489995241,"post_id":42856555,"comment_id":72896094,"body_markdown":"@CrazyCoder $USER is my replacement of my username","body":"@CrazyCoder $USER is my replacement of my username"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1490008529,"post_id":42856555,"comment_id":72903829,"body_markdown":"Can you run Java manually, e.g. `/home/$USER/java/jdk1.8.0_121/bin/java -version`?","body":"Can you run Java manually, e.g. <code>&#47;home&#47;$USER&#47;java&#47;jdk1.8.0_121&#47;bin&#47;java -version</code>?"},{"owner":{"account_id":10052628,"reputation":1473,"user_id":7431936,"accept_rate":56,"display_name":"A.Jac"},"score":0,"creation_date":1490608430,"post_id":42856555,"comment_id":73170720,"body_markdown":"Sorry for long response time, what eventually worked was installing the openjdk using apt-get and setting it in intellij. Dont know why it didnt work with http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html.","body":"Sorry for long response time, what eventually worked was installing the openjdk using apt-get and setting it in intellij. Dont know why it didnt work with <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" rel=\"nofollow noreferrer\">oracle.com/technetwork/java/javase/downloads/&hellip;</a>."},{"owner":{"account_id":2439905,"reputation":585,"user_id":2128730,"accept_rate":75,"display_name":"David Fernandez"},"score":0,"creation_date":1496344174,"post_id":42856555,"comment_id":75636185,"body_markdown":"This actually happens in OSX as well, but the fix was reapplying SDK settings for the entire project","body":"This actually happens in OSX as well, but the fix was reapplying SDK settings for the entire project"}],"answers":[{"comments":[{"owner":{"account_id":6998795,"reputation":1759,"user_id":5365534,"accept_rate":100,"display_name":"JIANG"},"score":0,"creation_date":1617285423,"post_id":44907745,"comment_id":118266490,"body_markdown":"This answer fixed my issue. Thank you!","body":"This answer fixed my issue. Thank you!"}],"tags":[],"owner":{"account_id":2720885,"reputation":787,"user_id":2347205,"display_name":"UberHans"},"comment_count":1,"down_vote_count":1,"up_vote_count":37,"is_accepted":false,"score":36,"last_activity_date":1499176152,"creation_date":1499176152,"answer_id":44907745,"question_id":42856555,"body_markdown":"The answer from here https://stackoverflow.com/questions/22392110/change-jdk-path-in-intellij-13-when-compiling-from-32-bit-program-file-folder-to/22392702#22392702 worked for me\r\n\r\nFrom the menu: `File` -&gt; `Project Structure...`.\r\n\r\nOn the left, below &quot;Platform Settings&quot;, you have &quot;SDKs&quot;: click on it; you can add your new JDK here.\r\n\r\nAlways in the same window, below &quot;Project Settings&quot;, select &quot;Project&quot;: you have the option to select the JDK which you just added.","title":"Intellij error=2 No such file or directory","body":"<p>The answer from here <a href=\"https://stackoverflow.com/questions/22392110/change-jdk-path-in-intellij-13-when-compiling-from-32-bit-program-file-folder-to/22392702#22392702\">Change jdk path in IntelliJ 13 when compiling from 32 bit program file folder to 64 bit one</a> worked for me</p>\n\n<p>From the menu: <code>File</code> -> <code>Project Structure...</code>.</p>\n\n<p>On the left, below \"Platform Settings\", you have \"SDKs\": click on it; you can add your new JDK here.</p>\n\n<p>Always in the same window, below \"Project Settings\", select \"Project\": you have the option to select the JDK which you just added.</p>\n"},{"tags":[],"owner":{"account_id":2032265,"reputation":2081,"user_id":1815612,"display_name":"Yao Li"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526082055,"creation_date":1526082055,"answer_id":50301545,"question_id":42856555,"body_markdown":"Make sure your JDK path is correct. In my case, it updated JDK version somehow but I didn&#39;t notice it, there are a lot of red underlines. After I edit JDK with the correct path, the world became green.","title":"Intellij error=2 No such file or directory","body":"<p>Make sure your JDK path is correct. In my case, it updated JDK version somehow but I didn't notice it, there are a lot of red underlines. After I edit JDK with the correct path, the world became green.</p>\n"},{"tags":[],"owner":{"account_id":8343063,"reputation":41,"user_id":6267785,"display_name":"Luis Solano"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1537034994,"creation_date":1537034994,"answer_id":52347524,"question_id":42856555,"body_markdown":"In my case, IntelliJ was pointing to a JDK folder of a version I had uninstalled. For some reason the uninstaller didnt remove the Java/jdk* folder, so it was not showing any error in the configuration screen File -&gt; Project Structure -&gt; SDK\r\n\r\nAfter finding out it was pointing to an uninstalled JDK folder then I proceeded to adjust this configuration thanks to the answer posted by UberHans","title":"Intellij error=2 No such file or directory","body":"<p>In my case, IntelliJ was pointing to a JDK folder of a version I had uninstalled. For some reason the uninstaller didnt remove the Java/jdk* folder, so it was not showing any error in the configuration screen File -> Project Structure -> SDK</p>\n\n<p>After finding out it was pointing to an uninstalled JDK folder then I proceeded to adjust this configuration thanks to the answer posted by UberHans</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1640356935,"post_id":70473627,"comment_id":124576823,"body_markdown":"As its currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As its currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/70473627/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":12967392,"reputation":1,"user_id":9374401,"display_name":"Enison Oliveira"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640354274,"creation_date":1640354274,"answer_id":70473627,"question_id":42856555,"body_markdown":"1-see your version system, is window, mac or linux? \r\n\r\n2-dowload specifc jdk(mac, window, linux).\r\n\r\n3-Cheked your folders and file requered and path jdk/bin/(exec java) \r\n\r\n4-see if the execut file java is compatibile your, system in your folder bin","title":"Intellij error=2 No such file or directory","body":"<p>1-see your version system, is window, mac or linux?</p>\n<p>2-dowload specifc jdk(mac, window, linux).</p>\n<p>3-Cheked your folders and file requered and path jdk/bin/(exec java)</p>\n<p>4-see if the execut file java is compatibile your, system in your folder bin</p>\n"},{"tags":[],"owner":{"account_id":18052791,"reputation":1,"user_id":13122055,"display_name":"aldinsab"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683704374,"creation_date":1683704374,"answer_id":76216011,"question_id":42856555,"body_markdown":"Did you try doing a Maven Reload? I had the same issue, and i tried everything, nothing worked, the only thing that worked, was reloading Maven, it fixed the problem. I hope it helps. ","title":"Intellij error=2 No such file or directory","body":"<p>Did you try doing a Maven Reload? I had the same issue, and i tried everything, nothing worked, the only thing that worked, was reloading Maven, it fixed the problem. I hope it helps.</p>\n"}],"owner":{"account_id":10052628,"reputation":1473,"user_id":7431936,"accept_rate":56,"display_name":"A.Jac"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35280,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"answer_count":5,"score":24,"last_activity_date":1683704374,"creation_date":1489750716,"question_id":42856555,"body_markdown":"Installed intellij and added sdk path to project structure, but when i try to run i get:\r\n\r\n    Error: Cannot run program &quot;/home/$USER/java/jdk1.8.0_121/bin/java&quot; \r\n    (in directory&quot;/home/$USER/.intelliJIdea2016.3/system/compile-server&quot;):\r\n    error=2, No such file or directory\r\n\r\nBoth files (/home/$USER/java/jdk1.8.0_121/bin/java and /home/$USER/.intelliJIdea2016.3/system/compile-server) exists.\r\n\r\nI am using Ubuntu 16.10","title":"Intellij error=2 No such file or directory","body":"<p>Installed intellij and added sdk path to project structure, but when i try to run i get:</p>\n\n<pre><code>Error: Cannot run program \"/home/$USER/java/jdk1.8.0_121/bin/java\" \n(in directory\"/home/$USER/.intelliJIdea2016.3/system/compile-server\"):\nerror=2, No such file or directory\n</code></pre>\n\n<p>Both files (/home/$USER/java/jdk1.8.0_121/bin/java and /home/$USER/.intelliJIdea2016.3/system/compile-server) exists.</p>\n\n<p>I am using Ubuntu 16.10</p>\n"},{"tags":["java","api","plugins","minio"],"answers":[{"tags":[],"owner":{"account_id":28553035,"reputation":1,"user_id":21857622,"display_name":"AIxecutme"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683703725,"creation_date":1683703725,"answer_id":76215926,"question_id":76207062,"body_markdown":"i got the answer from somewhere else\r\ns3 api does not allow partial mutations of objects,so theres no way","title":"is there any way to edit files in minIO directly?","body":"<p>i got the answer from somewhere else\ns3 api does not allow partial mutations of objects,so theres no way</p>\n"}],"owner":{"account_id":28553035,"reputation":1,"user_id":21857622,"display_name":"AIxecutme"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76215926,"answer_count":1,"score":0,"last_activity_date":1683703725,"creation_date":1683619019,"question_id":76207062,"body_markdown":"is there any way that allow user to edit files and save them in minIO directly without going through backend program?like api or plugins\r\n\r\nso im working on an online editing function, which u can edit ur files online on browsers, and save it after u done editing.\r\n\r\nnow our solution is: get the files from minIO, parse and deliver it to the front end, u edit it, and save the edited file to minIO through backend java program\r\n\r\nbut considering the file might be big, data parsing and transferring might be pretty slow, besides even if u just change a word, we need to save the whole file again\r\n\r\nsince i cannot find such method in sdk, i wonder if theres a 3rd party lib or plugin that allows me to edit files and save them directly in minIO without coding like \r\n  getObject(...) -&gt; parseFile(...) -&gt; return it to front -&gt; get edited file from front -&gt;  putObject(...) \r\nin my backend program\r\n","title":"is there any way to edit files in minIO directly?","body":"<p>is there any way that allow user to edit files and save them in minIO directly without going through backend program?like api or plugins</p>\n<p>so im working on an online editing function, which u can edit ur files online on browsers, and save it after u done editing.</p>\n<p>now our solution is: get the files from minIO, parse and deliver it to the front end, u edit it, and save the edited file to minIO through backend java program</p>\n<p>but considering the file might be big, data parsing and transferring might be pretty slow, besides even if u just change a word, we need to save the whole file again</p>\n<p>since i cannot find such method in sdk, i wonder if theres a 3rd party lib or plugin that allows me to edit files and save them directly in minIO without coding like\ngetObject(...) -&gt; parseFile(...) -&gt; return it to front -&gt; get edited file from front -&gt;  putObject(...)\nin my backend program</p>\n"},{"tags":["java","reflection","variadic-functions"],"answers":[{"tags":[],"owner":{"account_id":10662643,"reputation":689,"user_id":7899567,"display_name":"Anton Tokmakov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683701690,"creation_date":1683701690,"answer_id":76215653,"question_id":76215566,"body_markdown":"You can try to call it with approach like this: \r\n\r\n    B[] bObjectArray = &lt;array of Bs&gt;;\r\n    methodAReflected.invoke(aObject, (Object) bObjectArray);\r\n\r\nAlso you can check official [tutorial from Oracle][1], where in section *Invoking Methods with a Variable Number of Arguments* you can find example of using something similar that you need.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/reflect/member/methodInvocation.html","title":"How to pass parameter to invoke method as a vararg of a relfected class in case of Java reflection?","body":"<p>You can try to call it with approach like this:</p>\n<pre><code>B[] bObjectArray = &lt;array of Bs&gt;;\nmethodAReflected.invoke(aObject, (Object) bObjectArray);\n</code></pre>\n<p>Also you can check official <a href=\"https://docs.oracle.com/javase/tutorial/reflect/member/methodInvocation.html\" rel=\"nofollow noreferrer\">tutorial from Oracle</a>, where in section <em>Invoking Methods with a Variable Number of Arguments</em> you can find example of using something similar that you need.</p>\n"},{"comments":[{"owner":{"account_id":28564823,"reputation":3,"user_id":21867846,"display_name":"Abhishek Ingale"},"score":0,"creation_date":1683708052,"post_id":76215682,"comment_id":134406419,"body_markdown":"Thanks a lot! This worked as expected.\n\nThe only problem in using the shorter code for getMethod() is that I am using Java 11 and the method arrayType() has been introduced since Java 12, so cannot use this method.","body":"Thanks a lot! This worked as expected.  The only problem in using the shorter code for getMethod() is that I am using Java 11 and the method arrayType() has been introduced since Java 12, so cannot use this method."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1683708589,"post_id":76215682,"comment_id":134406541,"body_markdown":"@AbhishekIngale In that case I think you can also get it with `Class.forName(&quot;[Lcom.demoB.B&quot;)` - i.e. adding a `[L` prefix to the class name.","body":"@AbhishekIngale In that case I think you can also get it with <code>Class.forName(&quot;[Lcom.demoB.B&quot;)</code> - i.e. adding a <code>[L</code> prefix to the class name."},{"owner":{"account_id":28564823,"reputation":3,"user_id":21867846,"display_name":"Abhishek Ingale"},"score":0,"creation_date":1683717291,"post_id":76215682,"comment_id":134408543,"body_markdown":"Thank you @Sweeper, just one correction, we need to add a semicolon at the end of class name while using Class.forName in the case of creating a class of array type.\nSo the line of code would be:\nMethod m = azz.getMethod(&quot;methodA&quot;, Class.forName(&quot;[Lcom.demoB.B;&quot;));","body":"Thank you @Sweeper, just one correction, we need to add a semicolon at the end of class name while using Class.forName in the case of creating a class of array type. So the line of code would be: Method m = azz.getMethod(&quot;methodA&quot;, Class.forName(&quot;[Lcom.demoB.B;&quot;));"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1683738604,"post_id":76215682,"comment_id":134414196,"body_markdown":"Well, when you create the array beforehand, using the method shown in this answer, you can also use `methodAVarargs.getClass()`, to get the `Class` object representing the array type.","body":"Well, when you create the array beforehand, using the method shown in this answer, you can also use <code>methodAVarargs.getClass()</code>, to get the <code>Class</code> object representing the array type."},{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":0,"creation_date":1684990894,"post_id":76215682,"comment_id":134598852,"body_markdown":"Since we know `bzz` is always a class (and not a primitive), we can have `methodAVarargs` be of type `Object[]`, and just set elements with `methodAVarargs[0] = bObject;`","body":"Since we know <code>bzz</code> is always a class (and not a primitive), we can have <code>methodAVarargs</code> be of type <code>Object[]</code>, and just set elements with <code>methodAVarargs[0] = bObject;</code>"}],"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683701914,"creation_date":1683701914,"answer_id":76215682,"question_id":76215566,"body_markdown":"Use [`Array.newInstance`][1] to create a new array, and use [`Array.set`][2] to set its elements.\r\n\r\n```\r\nObject methodAVarargs = Array.newInstance(bzz, 1);\r\nArray.set(methodAVarargs, 0, bObject);\r\nmethodAReflected.invoke(aObject, methodAVarargs);\r\n```\r\n\r\nTo find the method with a shorter code, you can use `get(Declared)Method` and pass the [`arrayType`][3] of `bzz`:\r\n\r\n    Method methodAReflected = azz.getDeclaredMethod(&quot;methodA&quot;, bzz.arrayType());\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/reflect/Array.html#newInstance(java.lang.Class,int)\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/reflect/Array.html#set(java.lang.Object,int,java.lang.Object)\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html#arrayType()","title":"How to pass parameter to invoke method as a vararg of a relfected class in case of Java reflection?","body":"<p>Use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/reflect/Array.html#newInstance(java.lang.Class,int)\" rel=\"nofollow noreferrer\"><code>Array.newInstance</code></a> to create a new array, and use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/reflect/Array.html#set(java.lang.Object,int,java.lang.Object)\" rel=\"nofollow noreferrer\"><code>Array.set</code></a> to set its elements.</p>\n<pre><code>Object methodAVarargs = Array.newInstance(bzz, 1);\nArray.set(methodAVarargs, 0, bObject);\nmethodAReflected.invoke(aObject, methodAVarargs);\n</code></pre>\n<p>To find the method with a shorter code, you can use <code>get(Declared)Method</code> and pass the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html#arrayType()\" rel=\"nofollow noreferrer\"><code>arrayType</code></a> of <code>bzz</code>:</p>\n<pre><code>Method methodAReflected = azz.getDeclaredMethod(&quot;methodA&quot;, bzz.arrayType());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10166574,"reputation":4392,"user_id":7508302,"display_name":"Cililing"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683703667,"creation_date":1683703667,"answer_id":76215913,"question_id":76215566,"body_markdown":"At first, I added some debug code to see the real invocations:\r\n\r\n```java\r\n// add identificator to the class\r\nclass B {\r\n    private final String id;\r\n\r\n    public B(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n}\r\n\r\n// print args on invocation\r\nclass A {\r\n    public void methodA(B... b) {\r\n        var s = Arrays.stream(b).map(B::getId).reduce(&quot;&quot;, (acc, x) -&gt; acc + x + &quot;,&quot;);\r\n        System.out.println(&quot;params (&quot; + b.length + &quot;): &quot; + s);\r\n    }\r\n}\r\n```\r\n\r\nAnd final code:\r\n```java\r\npublic static void main(String[] args) {\r\n        B bObject1 = (B) bzz.getDeclaredConstructor(String.class).newInstance(&quot;b0&quot;);\r\n        B bObject2 = (B) bzz.getDeclaredConstructor(String.class).newInstance(&quot;b1&quot;);\r\n\r\n        System.out.println(&quot;invoking with no args&quot;);\r\n        methodAReflected.invoke(aObject, (Object) new B[]{});\r\n\r\n        System.out.println(&quot;invoking with bObject1&quot;);\r\n        methodAReflected.invoke(aObject, (Object) new B[]{bObject1});\r\n\r\n        System.out.println(&quot;invoking with bObject1 and bObject2&quot;);\r\n        methodAReflected.invoke(aObject, (Object) new B[]{bObject1, bObject2});\r\n}\r\n```\r\n\r\nOutput:\r\n```\r\ninvoking with no args\r\nparams (0): \r\ninvoking with bObject1\r\nparams (1): b0,\r\ninvoking with bObject1 and bObject2\r\nparams (2): b0,b1,\r\n```\r\n\r\nQuite simple. All we need to remember is that we pass the args as raw `Object`. \r\n\r\nWhy so?\r\nFirstly, the method *always* takes one parameter:\r\n\r\n`methodAReflected.getParameterCount() -&gt; 1`\r\n\r\nSo let&#39;s see the parameter:\r\n\r\n```\r\nmethodAReflected.getParameters() -&gt; com.example.springsandbox.vararg.B... b\r\nmethodAReflected.getParameters()[0].executable -&gt; public void com.example.springsandbox.vararg.A.methodA(com.example.springsandbox.vararg.B[])\r\n```\r\n\r\n","title":"How to pass parameter to invoke method as a vararg of a relfected class in case of Java reflection?","body":"<p>At first, I added some debug code to see the real invocations:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// add identificator to the class\nclass B {\n    private final String id;\n\n    public B(String id) {\n        this.id = id;\n    }\n\n    public String getId() {\n        return id;\n    }\n}\n\n// print args on invocation\nclass A {\n    public void methodA(B... b) {\n        var s = Arrays.stream(b).map(B::getId).reduce(&quot;&quot;, (acc, x) -&gt; acc + x + &quot;,&quot;);\n        System.out.println(&quot;params (&quot; + b.length + &quot;): &quot; + s);\n    }\n}\n</code></pre>\n<p>And final code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n        B bObject1 = (B) bzz.getDeclaredConstructor(String.class).newInstance(&quot;b0&quot;);\n        B bObject2 = (B) bzz.getDeclaredConstructor(String.class).newInstance(&quot;b1&quot;);\n\n        System.out.println(&quot;invoking with no args&quot;);\n        methodAReflected.invoke(aObject, (Object) new B[]{});\n\n        System.out.println(&quot;invoking with bObject1&quot;);\n        methodAReflected.invoke(aObject, (Object) new B[]{bObject1});\n\n        System.out.println(&quot;invoking with bObject1 and bObject2&quot;);\n        methodAReflected.invoke(aObject, (Object) new B[]{bObject1, bObject2});\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>invoking with no args\nparams (0): \ninvoking with bObject1\nparams (1): b0,\ninvoking with bObject1 and bObject2\nparams (2): b0,b1,\n</code></pre>\n<p>Quite simple. All we need to remember is that we pass the args as raw <code>Object</code>.</p>\n<p>Why so?\nFirstly, the method <em>always</em> takes one parameter:</p>\n<p><code>methodAReflected.getParameterCount() -&gt; 1</code></p>\n<p>So let's see the parameter:</p>\n<pre><code>methodAReflected.getParameters() -&gt; com.example.springsandbox.vararg.B... b\nmethodAReflected.getParameters()[0].executable -&gt; public void com.example.springsandbox.vararg.A.methodA(com.example.springsandbox.vararg.B[])\n</code></pre>\n"}],"owner":{"account_id":28564823,"reputation":3,"user_id":21867846,"display_name":"Abhishek Ingale"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76215682,"answer_count":3,"score":0,"last_activity_date":1683703667,"creation_date":1683701043,"question_id":76215566,"body_markdown":"I have a project in which I am using a third party library. However, I need to call methods from the third party only if the user has copied those jars in the project, or else use the existing jars. **For this purpose I am using reflection for creating the classes and calling the methods from this third party library**.\r\n\r\nOne of the methods from the library expects varargs of another class from the same library as argument. Since both the classes have been created in my main class using reflection and also their corresponding methods have been created using reflection, how do we pass argument as vararg of a class to the methodname.**invoke()** method?\r\n\r\n\r\nRefer the code snippet ahead.\r\n\r\n//-------Class A-----------------\r\n\r\n```\r\npackage com.demoA;\r\n\r\nClass A {\r\n   public void methodA(B... b) {\r\n      // Contents of methodA...\r\n   }\r\n}\r\n```\r\n\r\n//-------Class B-----------------\r\n\r\n```\r\npackage com.demoB;\r\n\r\nClass B {\r\n    // contents of class B here...\r\n}\r\n```\r\n\r\n//-------Class MainClass-------------\r\n\r\n```\r\npackage com.mainclass;\r\n\r\nClass MainClass {\r\n    public static void main(String[] args) {\r\n        Class&lt;?&gt; azz = Class.forName(&quot;com.demoA.A&quot;);\r\n        Object aObject = azz.getDeclaredConstructor().newInstance();\r\n        Method methodAReflected = null;\r\n    \r\n        for (Method m : azz.getMethods) {\r\n            if (m.getName.equals(&quot;methodA&quot;)) {\r\n                methodAReflected = m;\r\n            }\r\n        }\r\n        \r\n          Class bzz = Class.forName(&quot;com.demoB.B&quot;);\r\n          Object bObject = bzz.getDeclaredConstructor().newInstance();\r\n        \r\n          methodAReflected.invoke(aObject, &lt;how to pass varargs here&gt;);\r\n          // Passing only bObject or new Object[] { bObject } result in an IllegalArgumentException : type mismatch\r\n    \r\n    }\r\n}\r\n```\r\n\r\nAlso, is there is any better way (rather than iterating through the method names) to use Java reflection&#39;s **getMethod()** method to create the reflected method when the expected parameter is a vararg?\r\n","title":"How to pass parameter to invoke method as a vararg of a relfected class in case of Java reflection?","body":"<p>I have a project in which I am using a third party library. However, I need to call methods from the third party only if the user has copied those jars in the project, or else use the existing jars. <strong>For this purpose I am using reflection for creating the classes and calling the methods from this third party library</strong>.</p>\n<p>One of the methods from the library expects varargs of another class from the same library as argument. Since both the classes have been created in my main class using reflection and also their corresponding methods have been created using reflection, how do we pass argument as vararg of a class to the methodname.<strong>invoke()</strong> method?</p>\n<p>Refer the code snippet ahead.</p>\n<p>//-------Class A-----------------</p>\n<pre><code>package com.demoA;\n\nClass A {\n   public void methodA(B... b) {\n      // Contents of methodA...\n   }\n}\n</code></pre>\n<p>//-------Class B-----------------</p>\n<pre><code>package com.demoB;\n\nClass B {\n    // contents of class B here...\n}\n</code></pre>\n<p>//-------Class MainClass-------------</p>\n<pre><code>package com.mainclass;\n\nClass MainClass {\n    public static void main(String[] args) {\n        Class&lt;?&gt; azz = Class.forName(&quot;com.demoA.A&quot;);\n        Object aObject = azz.getDeclaredConstructor().newInstance();\n        Method methodAReflected = null;\n    \n        for (Method m : azz.getMethods) {\n            if (m.getName.equals(&quot;methodA&quot;)) {\n                methodAReflected = m;\n            }\n        }\n        \n          Class bzz = Class.forName(&quot;com.demoB.B&quot;);\n          Object bObject = bzz.getDeclaredConstructor().newInstance();\n        \n          methodAReflected.invoke(aObject, &lt;how to pass varargs here&gt;);\n          // Passing only bObject or new Object[] { bObject } result in an IllegalArgumentException : type mismatch\n    \n    }\n}\n</code></pre>\n<p>Also, is there is any better way (rather than iterating through the method names) to use Java reflection's <strong>getMethod()</strong> method to create the reflected method when the expected parameter is a vararg?</p>\n"},{"tags":["java","spring-boot","spring-validator","spring-validation"],"comments":[{"owner":{"account_id":19205353,"reputation":5498,"user_id":14032355,"display_name":"ikhvjs"},"score":0,"creation_date":1682891899,"post_id":76114587,"comment_id":134282399,"body_markdown":"You can use SpringBoot AOP. example: https://stackoverflow.com/a/51845624/14032355","body":"You can use SpringBoot AOP. example: <a href=\"https://stackoverflow.com/a/51845624/14032355\">stackoverflow.com/a/51845624/14032355</a>"}],"answers":[{"comments":[{"owner":{"account_id":11425943,"reputation":472,"user_id":8376099,"display_name":"Shamil Puthukkot"},"score":0,"creation_date":1682574347,"post_id":76115872,"comment_id":134237976,"body_markdown":"I am trying to achieve validations using annotations","body":"I am trying to achieve validations using annotations"}],"tags":[],"owner":{"account_id":7406747,"reputation":416,"user_id":5635476,"display_name":"levangode"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682553961,"creation_date":1682553961,"answer_id":76115872,"question_id":76114587,"body_markdown":"You will need to create a custom validator class instead of using field annotations.\r\n\r\n    @Component\r\n    public class PayloadDTOValidator implements Validator {\r\n        @Override\r\n        public boolean supports(Class&lt;?&gt; clazz) {\r\n            return PayloadDTO.class.equals(clazz);\r\n        }\r\n        \r\n        @Override\r\n        public void validate(Object target, Errors errors) {\r\n            PayloadDTO payload = (PayloadDTO) target;\r\n\r\n            //Retrieve path variable from request context\r\n            HttpServletRequest request = ((ServletRequestAttributes) RequestContextHolder.currentRequestAttributes()).getRequest();\r\n            String language = request.getAttribute(HandlerMapping.URI_TEMPLATE_VARIABLES_ATTRIBUTE).get(&quot;language&quot;);\r\n            \r\n            //Your validation logic\r\n        }\r\n    }","title":"How to pass the value from Pathvariable to a custom Validator in springboot?","body":"<p>You will need to create a custom validator class instead of using field annotations.</p>\n<pre><code>@Component\npublic class PayloadDTOValidator implements Validator {\n    @Override\n    public boolean supports(Class&lt;?&gt; clazz) {\n        return PayloadDTO.class.equals(clazz);\n    }\n    \n    @Override\n    public void validate(Object target, Errors errors) {\n        PayloadDTO payload = (PayloadDTO) target;\n\n        //Retrieve path variable from request context\n        HttpServletRequest request = ((ServletRequestAttributes) RequestContextHolder.currentRequestAttributes()).getRequest();\n        String language = request.getAttribute(HandlerMapping.URI_TEMPLATE_VARIABLES_ATTRIBUTE).get(&quot;language&quot;);\n        \n        //Your validation logic\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11425943,"reputation":472,"user_id":8376099,"display_name":"Shamil Puthukkot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683703275,"creation_date":1683703275,"answer_id":76215864,"question_id":76114587,"body_markdown":"This was achieved by autowiring HttpServletRequest bean in validator class and fetching pathvariable from the bean.","title":"How to pass the value from Pathvariable to a custom Validator in springboot?","body":"<p>This was achieved by autowiring HttpServletRequest bean in validator class and fetching pathvariable from the bean.</p>\n"}],"owner":{"account_id":11425943,"reputation":472,"user_id":8376099,"display_name":"Shamil Puthukkot"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":426,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76215864,"answer_count":2,"score":1,"last_activity_date":1683703275,"creation_date":1682538796,"question_id":76114587,"body_markdown":"I am having a custom Validator as follows:\r\n\r\n```@Target({ElementType.FIELD})\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Constraint(validatedBy = CountryValidator.class)\r\npublic @interface ValidCountry {\r\n\r\n    String message() default &quot;Invalid country&quot;;\r\n\r\n    String language() default &quot;&quot;;\r\n\r\n    Class&lt;?&gt;[] groups() default {};\r\n\r\n\r\n    Class&lt;? extends Payload&gt;[] payload() default {};\r\n}\r\n\r\npublic class CountryValidator implements ConstraintValidator&lt;ValidCountry, String&gt; {\r\n\r\n  \r\n\r\n    @Override\r\n    public void initialize(ValidCountry constraintAnnotation) {\r\n        ConstraintValidator.super.initialize(constraintAnnotation);\r\n    }\r\n\r\n    @Override\r\n    public boolean isValid(String inputCountry, ConstraintValidatorContext constraintValidatorContext) {\r\n        //validation logic\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd the controlller method\r\n```\r\n @PutMapping(&quot;/operation/{language}&quot;)\r\n    @ResponseStatus(HttpStatus.OK)\r\n    public ResponseEntity&lt;Object&gt; doOperation(@PathVariable(&quot;language&quot;) String language, @Valid @RequestBody PayloadDTO payload) {\r\n\r\n\r\n        System.out.println(&quot;Done&quot;);\r\n        return ResponseEntity.accepted().body(null);\r\n    } \r\n```\r\nNow i want to validate a field inside PayloadDTO using @ValidDate annotation. And i want the language to be taken from the Pathvariable. Is there anyway to achieve this? Something like this\r\n\r\n```\r\nPayloadDTO{\r\n\r\n@ValidCountry(language = &lt;language from pathvariable&gt;)\r\nprivate String country;\r\n\r\n}\r\n```","title":"How to pass the value from Pathvariable to a custom Validator in springboot?","body":"<p>I am having a custom Validator as follows:</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Constraint(validatedBy = CountryValidator.class)\npublic @interface ValidCountry {\n\n    String message() default &quot;Invalid country&quot;;\n\n    String language() default &quot;&quot;;\n\n    Class&lt;?&gt;[] groups() default {};\n\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n\npublic class CountryValidator implements ConstraintValidator&lt;ValidCountry, String&gt; {\n\n  \n\n    @Override\n    public void initialize(ValidCountry constraintAnnotation) {\n        ConstraintValidator.super.initialize(constraintAnnotation);\n    }\n\n    @Override\n    public boolean isValid(String inputCountry, ConstraintValidatorContext constraintValidatorContext) {\n        //validation logic\n    }\n\n}\n</code></pre>\n<p>And the controlller method</p>\n<pre><code> @PutMapping(&quot;/operation/{language}&quot;)\n    @ResponseStatus(HttpStatus.OK)\n    public ResponseEntity&lt;Object&gt; doOperation(@PathVariable(&quot;language&quot;) String language, @Valid @RequestBody PayloadDTO payload) {\n\n\n        System.out.println(&quot;Done&quot;);\n        return ResponseEntity.accepted().body(null);\n    } \n</code></pre>\n<p>Now i want to validate a field inside PayloadDTO using @ValidDate annotation. And i want the language to be taken from the Pathvariable. Is there anyway to achieve this? Something like this</p>\n<pre><code>PayloadDTO{\n\n@ValidCountry(language = &lt;language from pathvariable&gt;)\nprivate String country;\n\n}\n</code></pre>\n"},{"tags":["java","unit-testing","junit","lombok","jacoco"],"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1608656232,"post_id":65412697,"comment_id":115647061,"body_markdown":"Presumably, tell jacoco to ignore anything annotated with `lombok.Generated`. I don&#39;t, unfortunately, know how to do that, though.","body":"Presumably, tell jacoco to ignore anything annotated with <code>lombok.Generated</code>. I don&#39;t, unfortunately, know how to do that, though."},{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1608656417,"post_id":65412697,"comment_id":115647140,"body_markdown":"@rzwitserloot Jacoco already does that since version 0.8.","body":"@rzwitserloot Jacoco already does that since version 0.8."},{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":1,"creation_date":1608656489,"post_id":65412697,"comment_id":115647168,"body_markdown":"Have you checked that your built code actually contains the `@Generated` (or `@lombok.Generated`) annotation?","body":"Have you checked that your built code actually contains the <code>@Generated</code> (or <code>@lombok.Generated</code>) annotation?"},{"owner":{"account_id":10510230,"reputation":51,"user_id":7746172,"display_name":"Rodrigo Rufino"},"score":0,"creation_date":1608657008,"post_id":65412697,"comment_id":115647383,"body_markdown":"Hmm, I just checked, and apparently, it doesn&#39;t contain the annotation. Take a look:\n\n    `public String toString() {\n            UserType var10000 = this.getUserType();\n            return &quot;UserCreateRequestDTO(userType=&quot; + var10000 + &quot;, email=&quot; +         this.getEmail() + &quot;, phone=&quot; + this.getPhone() + &quot;)&quot;;\n        }`","body":"Hmm, I just checked, and apparently, it doesn&#39;t contain the annotation. Take a look:      <code>public String toString() {             UserType var10000 = this.getUserType();             return &quot;UserCreateRequestDTO(userType=&quot; + var10000 + &quot;, email=&quot; +         this.getEmail() + &quot;, phone=&quot; + this.getPhone() + &quot;)&quot;;         }</code>"},{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":2,"creation_date":1608657450,"post_id":65412697,"comment_id":115647586,"body_markdown":"You don&#39;t need to paste that code into the comments, it isn&#39;t formatted correctly anyway. So there are several things you should do: verify the file name is correct and not `lombok.config.txt` for example, verify if the location is correct, verify you&#39;ve rebuild your code after you&#39;ve added the config file. Verify lombok is up-to-date and not an older version by mistake. It must be 1.16 at least (yes you said you&#39;re using 1.18, but does your project really use that version? Verify that)","body":"You don&#39;t need to paste that code into the comments, it isn&#39;t formatted correctly anyway. So there are several things you should do: verify the file name is correct and not <code>lombok.config.txt</code> for example, verify if the location is correct, verify you&#39;ve rebuild your code after you&#39;ve added the config file. Verify lombok is up-to-date and not an older version by mistake. It must be 1.16 at least (yes you said you&#39;re using 1.18, but does your project really use that version? Verify that)"},{"owner":{"account_id":10510230,"reputation":51,"user_id":7746172,"display_name":"Rodrigo Rufino"},"score":0,"creation_date":1608657970,"post_id":65412697,"comment_id":115647803,"body_markdown":"Just checked. Everything looks fine. The file is named `lombok.config` and it is in the right location (root directory, next to build.gradle file), the version is 1.18.12, and I rebuilt the code.","body":"Just checked. Everything looks fine. The file is named <code>lombok.config</code> and it is in the right location (root directory, next to build.gradle file), the version is 1.18.12, and I rebuilt the code."},{"owner":{"account_id":10510230,"reputation":51,"user_id":7746172,"display_name":"Rodrigo Rufino"},"score":0,"creation_date":1608660106,"post_id":65412697,"comment_id":115648661,"body_markdown":"Update: I rebuilt it with the IntelliJ button and now it added the @Generated annotation just fine. But when I build it using Gradle the annotation is not added. Why does it happen?","body":"Update: I rebuilt it with the IntelliJ button and now it added the @Generated annotation just fine. But when I build it using Gradle the annotation is not added. Why does it happen?"},{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1608661107,"post_id":65412697,"comment_id":115649079,"body_markdown":"Maybe your built root is different for Gradle, so it doesn&#39;t find that config file.","body":"Maybe your built root is different for Gradle, so it doesn&#39;t find that config file."}],"answers":[{"comments":[{"owner":{"account_id":279220,"reputation":2393,"user_id":574263,"accept_rate":44,"display_name":"mjaggard"},"score":3,"creation_date":1669657787,"post_id":69492532,"comment_id":131687353,"body_markdown":"This isn&#39;t the right thing to do because any code you write in that class will be marked as generated even though its not. Even if you have no custom code in a data class you still shouldn&#39;t add `@Generated` manually because it will be out of date as soon as someone else adds code later.","body":"This isn&#39;t the right thing to do because any code you write in that class will be marked as generated even though its not. Even if you have no custom code in a data class you still shouldn&#39;t add <code>@Generated</code> manually because it will be out of date as soon as someone else adds code later."}],"tags":[],"owner":{"account_id":22977549,"reputation":19,"user_id":17104959,"display_name":"Rakesh Jangid"},"comment_count":1,"down_vote_count":6,"up_vote_count":3,"is_accepted":false,"score":-3,"last_activity_date":1633681236,"creation_date":1633680488,"answer_id":69492532,"question_id":65412697,"body_markdown":"You do not need to add any config properties, just add `@Generated` annotation along with `@Data`.","title":"addLombokGeneratedAnnotation on lombok.config doesn&#39;t ignore Lombok Annotations on Jacoco report","body":"<p>You do not need to add any config properties, just add <code>@Generated</code> annotation along with <code>@Data</code>.</p>\n"},{"comments":[{"owner":{"account_id":321020,"reputation":94,"user_id":639596,"display_name":"schnickers"},"score":2,"creation_date":1655984384,"post_id":71269156,"comment_id":128464378,"body_markdown":"I can&#39;t believe that worked. &#176;L&#176; Thanks!","body":"I can&#39;t believe that worked. &#176;L&#176; Thanks!"},{"owner":{"account_id":9725840,"reputation":1489,"user_id":7212836,"display_name":"Evgenii Vorobei"},"score":0,"creation_date":1662740561,"post_id":71269156,"comment_id":130083807,"body_markdown":"I do not understand, what exactly have you done? How could I exclude data classes from jacoco coverage reports? Where should I put all these annotations?","body":"I do not understand, what exactly have you done? How could I exclude data classes from jacoco coverage reports? Where should I put all these annotations?"},{"owner":{"account_id":1668855,"reputation":14404,"user_id":2700303,"accept_rate":63,"display_name":"MiguelSlv"},"score":0,"creation_date":1679999904,"post_id":71269156,"comment_id":133817976,"body_markdown":"A possible cause is that when you edit your code you force the the compiler rebuild the project, what is required because jacoco reads from the compiled code.\nCheck also the response from GrowlingBadger.","body":"A possible cause is that when you edit your code you force the the compiler rebuild the project, what is required because jacoco reads from the compiled code. Check also the response from GrowlingBadger."},{"owner":{"account_id":11708738,"reputation":505,"user_id":8571403,"display_name":"jwils"},"score":1,"creation_date":1699389198,"post_id":71269156,"comment_id":136524860,"body_markdown":"Worked for me too","body":"Worked for me too"}],"tags":[],"owner":{"account_id":7939888,"reputation":105,"user_id":5994356,"display_name":"dinguspapaj"},"comment_count":4,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1645808116,"creation_date":1645808116,"answer_id":71269156,"question_id":65412697,"body_markdown":"I had the same problem, with added `lombok.addLombokGeneratedAnnotation = true` Lombok still didn&#39;t add any `@Generated` annotation during compilation. It generated all the getters and setters, but none of them were annotated. Hence our test coverage was like 15% instead of about 70% without getters etc.\r\n\r\nSolution was picking ANY random Lombok annotation and using it as `@lombok.Getter` instead of importing `import lombok.Getter;` and then using `@Getter`. I have no idea why it somehow triggered adding `@Generated` annotation everywhere where they were supposed to be added, but hey, if it works, it works.","title":"addLombokGeneratedAnnotation on lombok.config doesn&#39;t ignore Lombok Annotations on Jacoco report","body":"<p>I had the same problem, with added <code>lombok.addLombokGeneratedAnnotation = true</code> Lombok still didn't add any <code>@Generated</code> annotation during compilation. It generated all the getters and setters, but none of them were annotated. Hence our test coverage was like 15% instead of about 70% without getters etc.</p>\n<p>Solution was picking ANY random Lombok annotation and using it as <code>@lombok.Getter</code> instead of importing <code>import lombok.Getter;</code> and then using <code>@Getter</code>. I have no idea why it somehow triggered adding <code>@Generated</code> annotation everywhere where they were supposed to be added, but hey, if it works, it works.</p>\n"},{"tags":[],"owner":{"account_id":1988337,"reputation":598,"user_id":1782997,"display_name":"Attila T"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1663766833,"creation_date":1663766833,"answer_id":73801574,"question_id":65412697,"body_markdown":"Build once with `lombok.addLombokGeneratedAnnotation = false` which will cause the build fail with low coverage (assuming you have such rules configured).\r\n\r\nAfter the failure, set `lombok.addLombokGeneratedAnnotation` back to `true`. Any consecutive builds should start passing again.\r\n\r\nCan&#39;t explain why this happens, must be a Lombok bug.","title":"addLombokGeneratedAnnotation on lombok.config doesn&#39;t ignore Lombok Annotations on Jacoco report","body":"<p>Build once with <code>lombok.addLombokGeneratedAnnotation = false</code> which will cause the build fail with low coverage (assuming you have such rules configured).</p>\n<p>After the failure, set <code>lombok.addLombokGeneratedAnnotation</code> back to <code>true</code>. Any consecutive builds should start passing again.</p>\n<p>Can't explain why this happens, must be a Lombok bug.</p>\n"},{"tags":[],"owner":{"account_id":4656107,"reputation":148,"user_id":3771679,"display_name":"GrowlingBadger"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671803184,"creation_date":1671803184,"answer_id":74900333,"question_id":65412697,"body_markdown":"Silly mistake by me, but my solution to this was simply doing a clean first then a build.  I think gradle was being clever about what it had built and just introducing the lombok.config wasn&#39;t enough to trigger the rebuild.  Once that was done, it worked as it should.","title":"addLombokGeneratedAnnotation on lombok.config doesn&#39;t ignore Lombok Annotations on Jacoco report","body":"<p>Silly mistake by me, but my solution to this was simply doing a clean first then a build.  I think gradle was being clever about what it had built and just introducing the lombok.config wasn't enough to trigger the rebuild.  Once that was done, it worked as it should.</p>\n"},{"tags":[],"owner":{"account_id":28563724,"reputation":1,"user_id":21866897,"display_name":"kylinhunter"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683703187,"creation_date":1683687838,"answer_id":76214617,"question_id":65412697,"body_markdown":"use `@lombok.XXX` instead of importing `import lombok.Getter;`\r\n\r\nIt really solve the problem\r\n\r\nbut after my test,\r\n\r\nupgrade the lombok to  org.projectlombok:lombok:1.18.26+\r\n\r\nthe problem alse can be solved.\r\n\r\n","title":"addLombokGeneratedAnnotation on lombok.config doesn&#39;t ignore Lombok Annotations on Jacoco report","body":"<p>use <code>@lombok.XXX</code> instead of importing <code>import lombok.Getter;</code></p>\n<p>It really solve the problem</p>\n<p>but after my test,</p>\n<p>upgrade the lombok to  org.projectlombok:lombok:1.18.26+</p>\n<p>the problem alse can be solved.</p>\n"}],"owner":{"account_id":10510230,"reputation":51,"user_id":7746172,"display_name":"Rodrigo Rufino"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17801,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":5,"score":5,"last_activity_date":1683703187,"creation_date":1608656068,"question_id":65412697,"body_markdown":"I created a `lombok.config` file in my root directory with the following content:\r\n\r\n    config.stopBubbling = true\r\n    lombok.addLombokGeneratedAnnotation = true\r\n\r\nBut the Lombok generated codes (Getters, Setters, Builders, etc) still appears on my Jacoco test report.\r\n\r\nJacoco version is 0.8.6 and Lombok version is 1.18.12.\r\n\r\nHow can I remove Lombok code from reports?","title":"addLombokGeneratedAnnotation on lombok.config doesn&#39;t ignore Lombok Annotations on Jacoco report","body":"<p>I created a <code>lombok.config</code> file in my root directory with the following content:</p>\n<pre><code>config.stopBubbling = true\nlombok.addLombokGeneratedAnnotation = true\n</code></pre>\n<p>But the Lombok generated codes (Getters, Setters, Builders, etc) still appears on my Jacoco test report.</p>\n<p>Jacoco version is 0.8.6 and Lombok version is 1.18.12.</p>\n<p>How can I remove Lombok code from reports?</p>\n"},{"tags":["java","testing","groovy","spock","micronaut"],"comments":[{"owner":{"account_id":19255478,"reputation":8414,"user_id":14072498,"display_name":"Roar S."},"score":0,"creation_date":1683566410,"post_id":76202712,"comment_id":134382922,"body_markdown":"This Github-issue suggestion may be of interest: https://github.com/wiremock/wiremock/issues/1697#issuecomment-1307916860","body":"This Github-issue suggestion may be of interest: <a href=\"https://github.com/wiremock/wiremock/issues/1697#issuecomment-1307916860\" rel=\"nofollow noreferrer\">github.com/wiremock/wiremock/issues/&hellip;</a>"},{"owner":{"account_id":28251515,"reputation":33,"user_id":21597685,"display_name":"Mateusz"},"score":0,"creation_date":1683581144,"post_id":76202712,"comment_id":134385879,"body_markdown":"unfortunately, i tried extending my   cleanupSpec method:\n  void cleanupSpec() {\n    wireMockServer.stop()\n    embeddedServer.stop()\n    applicationContext.stop()\n    Awaitility.await().until{\n      !wireMockServer.isRunning() &amp;&amp; !embeddedServer.isRunning() &amp;&amp; !applicationContext.isRunning()\n    }\n  }\nwithout any results, only hardcoding Thread.sleep(500) (or more milis) helps","body":"unfortunately, i tried extending my   cleanupSpec method:   void cleanupSpec() {     wireMockServer.stop()     embeddedServer.stop()     applicationContext.stop()     Awaitility.await().until{       !wireMockServer.isRunning() &amp;&amp; !embeddedServer.isRunning() &amp;&amp; !applicationContext.isRunning()     }   } without any results, only hardcoding Thread.sleep(500) (or more milis) helps"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":2,"creation_date":1683703260,"post_id":76202712,"comment_id":134405344,"body_markdown":"Please provide a [minimal, complete, and verifiable example](https://stackoverflow.com/help/mcve). Posting a sample Micronaut project on GitHub would enable non-Micronaut useres among the Spock experts here to reproduce your problem and helping you. Thank you.","body":"Please provide a <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a>. Posting a sample Micronaut project on GitHub would enable non-Micronaut useres among the Spock experts here to reproduce your problem and helping you. Thank you."}],"owner":{"account_id":28251515,"reputation":33,"user_id":21597685,"display_name":"Mateusz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":417,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683703163,"creation_date":1683565125,"question_id":76202712,"body_markdown":"I have Micronaut application that uses SQLite, I created integration tests with groovy and Spock for the application. Everything works fine if Specifications are run independently, when all tests are run at once, sometimes one of the tests that uses CrudRepository fails with error:\r\n\r\n```none\r\nError instantiating bean of type [io.micronaut.http.server.codec.TextStreamCodec]\r\n\r\nMessage:\r\nBean of type [class io.micronaut.context.DefaultApplicationContext$RuntimeConfiguredEnvironment]\r\nis a manually registered singleton that was registered with the context via\r\nBeanContext.registerBean(..) and cannot be created directly\r\n\r\nPath Taken:\r\nnew DefaultJdbcRepositoryOperations(String dataSourceName,DataJdbcConfiguration jdbcConfiguration,DataSource dataSource,TransactionOperations transactionOperations,ExecutorService executorService,BeanContext beanContext,List codecs,DateTimeProvider dateTimeProvider,RuntimeEntityRegistry entityRegistry,DataConversionService conversionService,AttributeConverterRegistry attributeConverterRegistry,SchemaTenantResolver schemaTenantResolver,JdbcSchemaHandler schemaHandler)\r\n--&gt; new DefaultJdbcRepositoryOperations(String dataSourceName,DataJdbcConfiguration jdbcConfiguration,DataSource dataSource,TransactionOperations transactionOperations,ExecutorService executorService,BeanContext beanContext,[List codecs],DateTimeProvider dateTimeProvider,RuntimeEntityRegistry entityRegistry,DataConversionService conversionService,AttributeConverterRegistry attributeConverterRegistry,SchemaTenantResolver schemaTenantResolver,JdbcSchemaHandler schemaHandler)\r\n--&gt; new TextStreamCodec(ApplicationConfiguration applicationConfiguration,[ByteBufferFactory byteBufferFactory],BeanProvider codecRegistryProvider,CodecConfiguration codecConfiguration)\r\n```\r\n\r\nThis is my base class for all of the specifications:\r\n\r\n```java\r\nabstract class BaseSpec extends Specification {\r\n  @Shared\r\n  @Inject\r\n  protected EmbeddedServer embeddedServer\r\n\r\n  @AutoCleanup\r\n  @Shared\r\n  protected ApplicationContext applicationContext\r\n\r\n  @AutoCleanup(&quot;shutdown&quot;)\r\n  @Shared\r\n  protected WireMockServer wireMockServer\r\n\r\n  @SuppressWarnings(&quot;unused&quot;)\r\n  void setupSpec() {\r\n    //Thread.sleep(500)\r\n    preSetupSpec()\r\n    cleanDatabase()\r\n    WireMock.configureFor(&quot;localhost&quot;, 8090)\r\n    wireMockServer = new WireMockServer(options().port(8090))\r\n    wireMockServer.start()\r\n    Unirest.setHttpClient(HttpClientBuilder.create()\r\n        .setConnectionManager(new BasicHttpClientConnectionManager())\r\n        .build())\r\n    Unirest.setObjectMapper(new com.mashape.unirest.http.ObjectMapper() {\r\n      private ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n      @Override\r\n      &lt;T&gt; T readValue(String value, Class&lt;T&gt; valueType) {\r\n        return objectMapper.readValue(value, valueType)\r\n      }\r\n\r\n      @Override\r\n      String writeValue(Object value) {\r\n        return objectMapper.writeValueAsString(value);\r\n      }\r\n    })\r\n    embeddedServer = ApplicationContext.run(EmbeddedServer, &quot;integration&quot;)\r\n    applicationContext = embeddedServer.applicationContext\r\n    ApplicationSettings.BASE_URL = embeddedServer.URL.toString()\r\n    ApplicationSettings.PORT = embeddedServer.URL.getPort()\r\n    postSetupSpec()\r\n  }\r\n\r\n  protected void preSetupSpec() {}\r\n\r\n  protected void postSetupSpec() {}\r\n\r\n  private static void cleanDatabase() {\r\n    def parent = System.getProperty(&quot;user.dir&quot;)\r\n    new File(parent, &quot;build/tmp/colleague-identity-distributed.db&quot;).delete()\r\n  }\r\n\r\n  @SuppressWarnings(&quot;unused&quot;)\r\n  void cleanupSpec() {\r\n    wireMockServer.stop()\r\n  }\r\n\r\n  void setup() {\r\n    if (!wireMockServer.isRunning()) {\r\n      wireMockServer.start()\r\n    }\r\n    wireMockServer.resetAll()\r\n  }\r\n\r\n  @SuppressWarnings(&quot;unused&quot;)\r\n  void stubEndpoint(StubMapping stubMapping) {\r\n    wireMockServer.addStubMapping(stubMapping)\r\n  }\r\n}\r\n```\r\n\r\nNot always the same method fails, and what is interesting is that if I comment out just one of the database tests (not even the one that is failing) everything goes back to normal, it seems like i exceeded some kind of the threshold. Also, adding Thread.sleep in the beginning of the  the setupSpec fixes the problem. ","title":"Micronaut fails to load bean in integration test if test is run with other tests","body":"<p>I have Micronaut application that uses SQLite, I created integration tests with groovy and Spock for the application. Everything works fine if Specifications are run independently, when all tests are run at once, sometimes one of the tests that uses CrudRepository fails with error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Error instantiating bean of type [io.micronaut.http.server.codec.TextStreamCodec]\n\nMessage:\nBean of type [class io.micronaut.context.DefaultApplicationContext$RuntimeConfiguredEnvironment]\nis a manually registered singleton that was registered with the context via\nBeanContext.registerBean(..) and cannot be created directly\n\nPath Taken:\nnew DefaultJdbcRepositoryOperations(String dataSourceName,DataJdbcConfiguration jdbcConfiguration,DataSource dataSource,TransactionOperations transactionOperations,ExecutorService executorService,BeanContext beanContext,List codecs,DateTimeProvider dateTimeProvider,RuntimeEntityRegistry entityRegistry,DataConversionService conversionService,AttributeConverterRegistry attributeConverterRegistry,SchemaTenantResolver schemaTenantResolver,JdbcSchemaHandler schemaHandler)\n--&gt; new DefaultJdbcRepositoryOperations(String dataSourceName,DataJdbcConfiguration jdbcConfiguration,DataSource dataSource,TransactionOperations transactionOperations,ExecutorService executorService,BeanContext beanContext,[List codecs],DateTimeProvider dateTimeProvider,RuntimeEntityRegistry entityRegistry,DataConversionService conversionService,AttributeConverterRegistry attributeConverterRegistry,SchemaTenantResolver schemaTenantResolver,JdbcSchemaHandler schemaHandler)\n--&gt; new TextStreamCodec(ApplicationConfiguration applicationConfiguration,[ByteBufferFactory byteBufferFactory],BeanProvider codecRegistryProvider,CodecConfiguration codecConfiguration)\n</code></pre>\n<p>This is my base class for all of the specifications:</p>\n<pre class=\"lang-java prettyprint-override\"><code>abstract class BaseSpec extends Specification {\n  @Shared\n  @Inject\n  protected EmbeddedServer embeddedServer\n\n  @AutoCleanup\n  @Shared\n  protected ApplicationContext applicationContext\n\n  @AutoCleanup(&quot;shutdown&quot;)\n  @Shared\n  protected WireMockServer wireMockServer\n\n  @SuppressWarnings(&quot;unused&quot;)\n  void setupSpec() {\n    //Thread.sleep(500)\n    preSetupSpec()\n    cleanDatabase()\n    WireMock.configureFor(&quot;localhost&quot;, 8090)\n    wireMockServer = new WireMockServer(options().port(8090))\n    wireMockServer.start()\n    Unirest.setHttpClient(HttpClientBuilder.create()\n        .setConnectionManager(new BasicHttpClientConnectionManager())\n        .build())\n    Unirest.setObjectMapper(new com.mashape.unirest.http.ObjectMapper() {\n      private ObjectMapper objectMapper = new ObjectMapper();\n\n      @Override\n      &lt;T&gt; T readValue(String value, Class&lt;T&gt; valueType) {\n        return objectMapper.readValue(value, valueType)\n      }\n\n      @Override\n      String writeValue(Object value) {\n        return objectMapper.writeValueAsString(value);\n      }\n    })\n    embeddedServer = ApplicationContext.run(EmbeddedServer, &quot;integration&quot;)\n    applicationContext = embeddedServer.applicationContext\n    ApplicationSettings.BASE_URL = embeddedServer.URL.toString()\n    ApplicationSettings.PORT = embeddedServer.URL.getPort()\n    postSetupSpec()\n  }\n\n  protected void preSetupSpec() {}\n\n  protected void postSetupSpec() {}\n\n  private static void cleanDatabase() {\n    def parent = System.getProperty(&quot;user.dir&quot;)\n    new File(parent, &quot;build/tmp/colleague-identity-distributed.db&quot;).delete()\n  }\n\n  @SuppressWarnings(&quot;unused&quot;)\n  void cleanupSpec() {\n    wireMockServer.stop()\n  }\n\n  void setup() {\n    if (!wireMockServer.isRunning()) {\n      wireMockServer.start()\n    }\n    wireMockServer.resetAll()\n  }\n\n  @SuppressWarnings(&quot;unused&quot;)\n  void stubEndpoint(StubMapping stubMapping) {\n    wireMockServer.addStubMapping(stubMapping)\n  }\n}\n</code></pre>\n<p>Not always the same method fails, and what is interesting is that if I comment out just one of the database tests (not even the one that is failing) everything goes back to normal, it seems like i exceeded some kind of the threshold. Also, adding Thread.sleep in the beginning of the  the setupSpec fixes the problem.</p>\n"},{"tags":["java","linux","jpackage","java-native-library"],"answers":[{"tags":[],"owner":{"account_id":1480323,"reputation":273,"user_id":1389877,"accept_rate":0,"display_name":"Michael Ellis"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1683702692,"creation_date":1683632545,"answer_id":76208945,"question_id":76207529,"body_markdown":"Looking at the.cfg file created by the installer revealed a variable APPDIR is made available and this can be used when specifying the java.library.path.\r\nThis seems to be the best solution:\r\n\r\n    jpackage --input MyApp --name MyApp --app-version 1.2 \\\r\n    --main-class uk.co.myco.MyApp \\\r\n    --main-jar MyApp.jar \\\r\n    --java-options &#39;-Djava.library.path=$APPDIR&#39; \\\r\n    --icon MyApp/MyApp.png\r\n\r\n","title":"How do I configure jpackage to use native libraries on Linux","body":"<p>Looking at the.cfg file created by the installer revealed a variable APPDIR is made available and this can be used when specifying the java.library.path.\nThis seems to be the best solution:</p>\n<pre><code>jpackage --input MyApp --name MyApp --app-version 1.2 \\\n--main-class uk.co.myco.MyApp \\\n--main-jar MyApp.jar \\\n--java-options '-Djava.library.path=$APPDIR' \\\n--icon MyApp/MyApp.png\n</code></pre>\n"}],"owner":{"account_id":1480323,"reputation":273,"user_id":1389877,"accept_rate":0,"display_name":"Michael Ellis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1683702692,"creation_date":1683622851,"question_id":76207529,"body_markdown":"I have a Java application that uses a shared C++ library via JNI. I am targeting Windows, Mac, and Linux platforms.\r\n\r\nI have just started using jpackage to create an installer, and this works fine for the Windows platform (I have not tried Mac yet). My shared library is located in the same folder as my executable jar.\r\n\r\nOn Linux (Zorin), the created installer runs and installs my app, but the app fails to load the native library when run.\r\n\r\nI have tried using the jpackage --java-options &#39;-Djava.library.path=.,&quot; but to no avail.\r\n\r\nRunning the Java app (on Linux) from the command line with the -Djava.library.path=. option works fine.\r\n\r\nWhen targeting the Windows platform, the jpackage-created installer appears to work correctly simply by ensuring that the shareable library is located in the same folder as the executable jar.\r\n\r\nHas anyone seen a jpackage example for creating a Linux app that uses a shared library?\r\n\r\nEdited to add:\r\nI just discovered that the linux deb installer installs the app into `/opt/&lt;lowercaseappname&gt;` with the executable jar and library located within `lib/app`.\r\n\r\nConsequently, I have found that specifying the jpackage command line option  `--java-options &#39;-Djava.library.path=/opt/&lt;lowercaseappname&gt;/lib/app&#39;` to give the absolute path for the shared library does work - but this does not feel like the right solution!\r\n","title":"How do I configure jpackage to use native libraries on Linux","body":"<p>I have a Java application that uses a shared C++ library via JNI. I am targeting Windows, Mac, and Linux platforms.</p>\n<p>I have just started using jpackage to create an installer, and this works fine for the Windows platform (I have not tried Mac yet). My shared library is located in the same folder as my executable jar.</p>\n<p>On Linux (Zorin), the created installer runs and installs my app, but the app fails to load the native library when run.</p>\n<p>I have tried using the jpackage --java-options '-Djava.library.path=.,&quot; but to no avail.</p>\n<p>Running the Java app (on Linux) from the command line with the -Djava.library.path=. option works fine.</p>\n<p>When targeting the Windows platform, the jpackage-created installer appears to work correctly simply by ensuring that the shareable library is located in the same folder as the executable jar.</p>\n<p>Has anyone seen a jpackage example for creating a Linux app that uses a shared library?</p>\n<p>Edited to add:\nI just discovered that the linux deb installer installs the app into <code>/opt/&lt;lowercaseappname&gt;</code> with the executable jar and library located within <code>lib/app</code>.</p>\n<p>Consequently, I have found that specifying the jpackage command line option  <code>--java-options '-Djava.library.path=/opt/&lt;lowercaseappname&gt;/lib/app'</code> to give the absolute path for the shared library does work - but this does not feel like the right solution!</p>\n"},{"tags":["java","amazon-web-services","aws-lambda","memory-leaks"],"comments":[{"owner":{"account_id":18399,"reputation":38994,"user_id":42126,"accept_rate":100,"display_name":"kdgregory"},"score":1,"creation_date":1683551866,"post_id":76200831,"comment_id":134379654,"body_markdown":"For Java, any instance variables of the handler class are also retained between invocations.","body":"For Java, any instance variables of the handler class are also retained between invocations."},{"owner":{"account_id":7206624,"reputation":554,"user_id":5502033,"accept_rate":50,"display_name":"Seng Wee"},"score":0,"creation_date":1683552285,"post_id":76200831,"comment_id":134379757,"body_markdown":"that is a surprise to me, then how should I get the JVM to recycle the instance variables of the handler class before the next invocation?","body":"that is a surprise to me, then how should I get the JVM to recycle the instance variables of the handler class before the next invocation?"},{"owner":{"account_id":88165,"reputation":1499,"user_id":244051,"display_name":"Erik Finnman"},"score":1,"creation_date":1683553633,"post_id":76200831,"comment_id":134380076,"body_markdown":"This may not be a memory leak at all, depending on you JVM settings and what GC mechanism you are using. The JVM may not free the memory until it needs to, so you may see increasing memory usage without having a memory leak. Without further metrics it is really hard to say for sure. This article is a good starting point: https://aws.amazon.com/blogs/architecture/field-notes-monitoring-the-java-virtual-machine-garbage-collection-on-aws-lambda/","body":"This may not be a memory leak at all, depending on you JVM settings and what GC mechanism you are using. The JVM may not free the memory until it needs to, so you may see increasing memory usage without having a memory leak. Without further metrics it is really hard to say for sure. This article is a good starting point: <a href=\"https://aws.amazon.com/blogs/architecture/field-notes-monitoring-the-java-virtual-machine-garbage-collection-on-aws-lambda/\" rel=\"nofollow noreferrer\">aws.amazon.com/blogs/architecture/&hellip;</a>"},{"owner":{"account_id":18399,"reputation":38994,"user_id":42126,"accept_rate":100,"display_name":"kdgregory"},"score":0,"creation_date":1683720535,"post_id":76200831,"comment_id":134409363,"body_markdown":"An `init()` method that you call at the top of the handler is probably the easiest. But since you don&#39;t post any code, or describe how the resources are used during Lambda execution, we can&#39;t be sure.","body":"An <code>init()</code> method that you call at the top of the handler is probably the easiest. But since you don&#39;t post any code, or describe how the resources are used during Lambda execution, we can&#39;t be sure."}],"owner":{"account_id":7206624,"reputation":554,"user_id":5502033,"accept_rate":50,"display_name":"Seng Wee"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":409,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683702325,"creation_date":1683550649,"question_id":76200831,"body_markdown":"I have a AWS Lambda running on Java 11 where its main workload involves downloading a file from S3 bucket (about 500MB), parsing the file then load the data into a HashMap stored in the Lambda&#39;s memory for further processing. \r\n\r\nThe issue is that in between invocations of the same Lambda instance, the max memory usage of the Lambda keeps increasing even though I don&#39;t save the downloaded files&#39; data into a static variable during each invocation.\r\n\r\nFrom what I read here - https://docs.aws.amazon.com/lambda/latest/operatorguide/configurations.html \r\n\r\n&gt; Global variables and objects stored in the INIT phase of a Lambda invocation retain their state between warm invocations. They are completely reset only when the execution environment is run for the first time (also known as a cold start). Any variables stored in the handler are destroyed when the handler exits. Its best practice to use the INIT phase to set up database connections, load libraries, create caches, and load immutable assets.\r\n\r\n&gt; When you use third-party libraries across multiple invocations in the same execution environment, be sure to check their documentation for usage in a serverless compute environment. Some database connection and logging libraries may save intermediate invocation results and other data. This causes the memory usage of these libraries to grow with subsequent warm invocations. In cases where memory grows rapidly, you may find the Lambda function runs out of memory, even if your custom code is disposing of variables correctly.\r\n\r\nI cannot find any documentation on the third-party libraries on how the functions store variables in a serverless environment and that makes it very difficult for me to debug the possible memory leak issue on the AWS Lambda in **between invocations**. \r\n\r\nWhat should I do to debug the variables/objects causing the memory leak?","title":"Troubleshooting AWS Lambda&#39;s Climbing Memory Usage Between Invocations","body":"<p>I have a AWS Lambda running on Java 11 where its main workload involves downloading a file from S3 bucket (about 500MB), parsing the file then load the data into a HashMap stored in the Lambda's memory for further processing.</p>\n<p>The issue is that in between invocations of the same Lambda instance, the max memory usage of the Lambda keeps increasing even though I don't save the downloaded files' data into a static variable during each invocation.</p>\n<p>From what I read here - <a href=\"https://docs.aws.amazon.com/lambda/latest/operatorguide/configurations.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/lambda/latest/operatorguide/configurations.html</a></p>\n<blockquote>\n<p>Global variables and objects stored in the INIT phase of a Lambda invocation retain their state between warm invocations. They are completely reset only when the execution environment is run for the first time (also known as a cold start). Any variables stored in the handler are destroyed when the handler exits. Its best practice to use the INIT phase to set up database connections, load libraries, create caches, and load immutable assets.</p>\n</blockquote>\n<blockquote>\n<p>When you use third-party libraries across multiple invocations in the same execution environment, be sure to check their documentation for usage in a serverless compute environment. Some database connection and logging libraries may save intermediate invocation results and other data. This causes the memory usage of these libraries to grow with subsequent warm invocations. In cases where memory grows rapidly, you may find the Lambda function runs out of memory, even if your custom code is disposing of variables correctly.</p>\n</blockquote>\n<p>I cannot find any documentation on the third-party libraries on how the functions store variables in a serverless environment and that makes it very difficult for me to debug the possible memory leak issue on the AWS Lambda in <strong>between invocations</strong>.</p>\n<p>What should I do to debug the variables/objects causing the memory leak?</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1683702322,"post_id":76215622,"comment_id":134405131,"body_markdown":"Is this the same question you asked previously? https://stackoverflow.com/questions/76206869/read-part-of-the-file-using-stream","body":"Is this the same question you asked previously? <a href=\"https://stackoverflow.com/questions/76206869/read-part-of-the-file-using-stream\" title=\"read part of the file using stream\">stackoverflow.com/questions/76206869/&hellip;</a>"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1683704180,"post_id":76215622,"comment_id":134405541,"body_markdown":"Dont post the same question again. Improve your first question.","body":"Dont post the same question again. Improve your first question."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1683707641,"post_id":76215622,"comment_id":134406325,"body_markdown":"You can read a line from a file, so all you really need to do is to parse a single line. `String s = &quot;1 Mike Scott [4,5,5]&quot;` maybe if you reduce your question to just that. eg &quot;How can I parse the array from this string?&quot;","body":"You can read a line from a file, so all you really need to do is to parse a single line. <code>String s = &quot;1 Mike Scott [4,5,5]&quot;</code> maybe if you reduce your question to just that. eg &quot;How can I parse the array from this string?&quot;"}],"owner":{"account_id":28547169,"reputation":29,"user_id":21852473,"display_name":"R Zav"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1683704154,"answer_count":0,"score":0,"last_activity_date":1683701666,"creation_date":1683701436,"question_id":76215622,"body_markdown":"how can an array be read from a file? I have a Student class, I need to fill in its fields, the &quot;marks&quot; field is an array, I&#39;m trying to fill it in. I need to do it in the stream.\r\nmaybe there is a way to make it easier in the stream? or how do I fix my code\r\n\r\n```\r\nclass Lesson_Stream6 {\r\n//        # Name Surname Marks\r\n//        1 Mike Scott [4,5,5]\r\n//        2 Joe Jones [1,2,3]\r\n//        3 Ann Fleming [3,3,3]\r\n    public static void main(String[] args) {\r\nString path1 = &quot;C:\\\\Users\\\\Professional\\\\IdeaProjects\\\\Lesson\\\\src\\\\StreamAPI\\\\FileStream&quot;;\r\n        List&lt;String&gt; fileLineName = new ArrayList&lt;&gt;();\r\n        List&lt;String&gt; fileLineNameSurname = new ArrayList&lt;&gt;();\r\n        List&lt;String&gt; stream1 = Files.lines(Paths.get(path1)).toList();\r\n        String[] arr =  new String[stream1.size()];\r\n        for (int i = 0; i &lt; stream1.size(); i++) {\r\n            arr[i] = stream1.get(i);\r\n        }\r\n        List&lt;String&gt;NameSurname = Stream.of(arr)\r\n                .filter( line -&gt; !line.startsWith(&quot;#&quot;))\r\n                .map( l -&gt; l.split(&quot; &quot;)[1] + l.split(&quot; &quot;)[2])\r\n                .collect(Collectors.toList());\r\n        List&lt;Student6&gt;student4s = Stream.of(arr)\r\n                .filter( line -&gt; !line.startsWith(&quot;#&quot;))\r\n                .map( l -&gt; {\r\n                    String s = l.split(&quot; &quot;)[3];\r\n                    String[] chars = s.split(&quot;&quot;);\r\n                    Integer[] integers = new Integer[3];\r\n\r\n                    for (int i = 0; i &lt; chars.length; i++) {\r\n                        if (chars[i].matches(&quot;[0-9]&quot;)) {\r\n                            int c = 0;\r\n                            integers[c++] = Integer.parseInt(chars[i]);\r\n                        }\r\n                    }\r\n                   out.println(Arrays.toString(integers));\r\n                    return new Student6(Integer.parseInt(l.split(&quot; &quot;)[0]), l.split(&quot; &quot;)[1], l.split(&quot; &quot;)[2],\r\n                            new Integer[]{1, 1, 1});\r\n\r\n                })\r\n                .collect(Collectors.toList());\r\n\r\n        out.println(student4s.get(1).Name);\r\n    }\r\n}\r\nclass Student6 {\r\n\r\n    int ID;\r\n    String Name;\r\n    String Surname;\r\n    Integer [] marks;\r\n\r\n    public Student6(int ID, String name, String surname, Integer[] marks) {\r\n        this.ID = ID;\r\n        Name = name;\r\n        Surname = surname;\r\n        this.marks = marks;\r\n    }\r\n}\r\n\r\n```\r\n","title":"read part(array) of the file using stream","body":"<p>how can an array be read from a file? I have a Student class, I need to fill in its fields, the &quot;marks&quot; field is an array, I'm trying to fill it in. I need to do it in the stream.\nmaybe there is a way to make it easier in the stream? or how do I fix my code</p>\n<pre><code>class Lesson_Stream6 {\n//        # Name Surname Marks\n//        1 Mike Scott [4,5,5]\n//        2 Joe Jones [1,2,3]\n//        3 Ann Fleming [3,3,3]\n    public static void main(String[] args) {\nString path1 = &quot;C:\\\\Users\\\\Professional\\\\IdeaProjects\\\\Lesson\\\\src\\\\StreamAPI\\\\FileStream&quot;;\n        List&lt;String&gt; fileLineName = new ArrayList&lt;&gt;();\n        List&lt;String&gt; fileLineNameSurname = new ArrayList&lt;&gt;();\n        List&lt;String&gt; stream1 = Files.lines(Paths.get(path1)).toList();\n        String[] arr =  new String[stream1.size()];\n        for (int i = 0; i &lt; stream1.size(); i++) {\n            arr[i] = stream1.get(i);\n        }\n        List&lt;String&gt;NameSurname = Stream.of(arr)\n                .filter( line -&gt; !line.startsWith(&quot;#&quot;))\n                .map( l -&gt; l.split(&quot; &quot;)[1] + l.split(&quot; &quot;)[2])\n                .collect(Collectors.toList());\n        List&lt;Student6&gt;student4s = Stream.of(arr)\n                .filter( line -&gt; !line.startsWith(&quot;#&quot;))\n                .map( l -&gt; {\n                    String s = l.split(&quot; &quot;)[3];\n                    String[] chars = s.split(&quot;&quot;);\n                    Integer[] integers = new Integer[3];\n\n                    for (int i = 0; i &lt; chars.length; i++) {\n                        if (chars[i].matches(&quot;[0-9]&quot;)) {\n                            int c = 0;\n                            integers[c++] = Integer.parseInt(chars[i]);\n                        }\n                    }\n                   out.println(Arrays.toString(integers));\n                    return new Student6(Integer.parseInt(l.split(&quot; &quot;)[0]), l.split(&quot; &quot;)[1], l.split(&quot; &quot;)[2],\n                            new Integer[]{1, 1, 1});\n\n                })\n                .collect(Collectors.toList());\n\n        out.println(student4s.get(1).Name);\n    }\n}\nclass Student6 {\n\n    int ID;\n    String Name;\n    String Surname;\n    Integer [] marks;\n\n    public Student6(int ID, String name, String surname, Integer[] marks) {\n        this.ID = ID;\n        Name = name;\n        Surname = surname;\n        this.marks = marks;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","android","connection"],"answers":[{"tags":[],"owner":{"account_id":7637243,"reputation":571,"user_id":6645112,"display_name":"Daxesh V"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1672838682,"creation_date":1585041088,"answer_id":60827950,"question_id":60827877,"body_markdown":"**Use this code snippet.**\r\n\r\n \r\n\r\n    @IntRange(from = 0, to = 3)\r\n    public static int getConnectionType(Context context) {\r\n        int result = 0; // Returns connection type. 0: none; 1: mobile data; 2: wifi\r\n        ConnectivityManager cm = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n            if (cm != null) {\r\n                NetworkCapabilities capabilities = cm.getNetworkCapabilities(cm.getActiveNetwork());\r\n                if (capabilities != null) {\r\n                    if (capabilities.hasTransport(NetworkCapabilities.TRANSPORT_WIFI)) {\r\n                        result = 2;\r\n                    } else if (capabilities.hasTransport(NetworkCapabilities.TRANSPORT_CELLULAR)) {\r\n                        result = 1;\r\n                    } else if (capabilities.hasTransport(NetworkCapabilities.TRANSPORT_VPN)) {\r\n                        result = 3;\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            if (cm != null) {\r\n                NetworkInfo activeNetwork = cm.getActiveNetworkInfo();\r\n                if (activeNetwork != null) {\r\n                    // connected to the internet\r\n                    if (activeNetwork.getType() == ConnectivityManager.TYPE_WIFI) {\r\n                        result = 2;\r\n                    } else if (activeNetwork.getType() == ConnectivityManager.TYPE_MOBILE) {\r\n                        result = 1;\r\n                    } else if (activeNetwork.getType() == ConnectivityManager.TYPE_VPN) {\r\n                        result = 3;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n  Add the below permissions in AndroidManifest.xml\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;","title":"How can I check internet connection in Android Q?","body":"<p><strong>Use this code snippet.</strong></p>\n<pre><code>@IntRange(from = 0, to = 3)\npublic static int getConnectionType(Context context) {\n    int result = 0; // Returns connection type. 0: none; 1: mobile data; 2: wifi\n    ConnectivityManager cm = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n        if (cm != null) {\n            NetworkCapabilities capabilities = cm.getNetworkCapabilities(cm.getActiveNetwork());\n            if (capabilities != null) {\n                if (capabilities.hasTransport(NetworkCapabilities.TRANSPORT_WIFI)) {\n                    result = 2;\n                } else if (capabilities.hasTransport(NetworkCapabilities.TRANSPORT_CELLULAR)) {\n                    result = 1;\n                } else if (capabilities.hasTransport(NetworkCapabilities.TRANSPORT_VPN)) {\n                    result = 3;\n                }\n            }\n        }\n    } else {\n        if (cm != null) {\n            NetworkInfo activeNetwork = cm.getActiveNetworkInfo();\n            if (activeNetwork != null) {\n                // connected to the internet\n                if (activeNetwork.getType() == ConnectivityManager.TYPE_WIFI) {\n                    result = 2;\n                } else if (activeNetwork.getType() == ConnectivityManager.TYPE_MOBILE) {\n                    result = 1;\n                } else if (activeNetwork.getType() == ConnectivityManager.TYPE_VPN) {\n                    result = 3;\n                }\n            }\n        }\n    }\n    return result;\n}\n</code></pre>\n<p>Add the below permissions in AndroidManifest.xml</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16542893,"reputation":752,"user_id":11953196,"display_name":"Atakan Yildirim"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1655495180,"creation_date":1611509551,"answer_id":65873814,"question_id":60827877,"body_markdown":"If you are looking for a simple code, you can use this:\r\n\r\n    public static boolean isInternetConnected(Context context) {\r\n        ConnectivityManager cm = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n            return cm.getActiveNetwork() != null &amp;&amp; cm.getNetworkCapabilities(cm.getActiveNetwork()) != null;\r\n        } else {\r\n            return cm.getActiveNetworkInfo() != null &amp;&amp; cm.getActiveNetworkInfo().isConnectedOrConnecting();\r\n        }\r\n    }","title":"How can I check internet connection in Android Q?","body":"<p>If you are looking for a simple code, you can use this:</p>\n<pre><code>public static boolean isInternetConnected(Context context) {\n    ConnectivityManager cm = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n        return cm.getActiveNetwork() != null &amp;&amp; cm.getNetworkCapabilities(cm.getActiveNetwork()) != null;\n    } else {\n        return cm.getActiveNetworkInfo() != null &amp;&amp; cm.getActiveNetworkInfo().isConnectedOrConnecting();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7958616,"reputation":465,"user_id":6007077,"display_name":"guenter47"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613560480,"creation_date":1613560480,"answer_id":66240842,"question_id":60827877,"body_markdown":"The ConnectivityManager only checks whether the smartphone could theoretically establish an Internet connection. Whether an Internet connection actually exists, e.g. if the network quality is very poor, can only be determined with a ping or a web address.","title":"How can I check internet connection in Android Q?","body":"<p>The ConnectivityManager only checks whether the smartphone could theoretically establish an Internet connection. Whether an Internet connection actually exists, e.g. if the network quality is very poor, can only be determined with a ping or a web address.</p>\n"},{"tags":[],"owner":{"account_id":13843819,"reputation":1011,"user_id":9993413,"display_name":"Z3R0"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655789589,"creation_date":1652188204,"answer_id":72186963,"question_id":60827877,"body_markdown":"Just use this code and call isInternatAvailable(context).\r\n\r\n        private static final String CMD_PING_GOOGLE = &quot;ping -w -c 1 google.com&quot;;\r\n\r\n        public static boolean isInternetAvailable(@NonNull Context context) {\r\n            return isConnected(context) &amp;&amp; checkInternetPingGoogle();\r\n        }\r\n    \r\n        public static boolean isConnected(@NonNull Context context) {\r\n            ConnectivityManager cm = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\r\n            if(cm != null) {\r\n                NetworkInfo activeNetwork = cm.getActiveNetworkInfo();\r\n                return activeNetwork != null &amp;&amp; activeNetwork.isConnectedOrConnecting();\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n    \r\n        public static boolean checkInternetPingGoogle(){\r\n            try {\r\n                int a = Runtime.getRuntime().exec(CMD_PING_GOOGLE).waitFor();\r\n                return a == 0x0;\r\n            } catch (IOException ioE){\r\n                EMaxLogger.onException(TAG, ioE);\r\n            } catch (InterruptedException iE){\r\n                EMaxLogger.onException(TAG, iE);\r\n            }\r\n            return false;\r\n        }\r\n","title":"How can I check internet connection in Android Q?","body":"<p>Just use this code and call isInternatAvailable(context).</p>\n<pre><code>    private static final String CMD_PING_GOOGLE = &quot;ping -w -c 1 google.com&quot;;\n\n    public static boolean isInternetAvailable(@NonNull Context context) {\n        return isConnected(context) &amp;&amp; checkInternetPingGoogle();\n    }\n\n    public static boolean isConnected(@NonNull Context context) {\n        ConnectivityManager cm = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\n        if(cm != null) {\n            NetworkInfo activeNetwork = cm.getActiveNetworkInfo();\n            return activeNetwork != null &amp;&amp; activeNetwork.isConnectedOrConnecting();\n        } else {\n            return false;\n        }\n    }\n\n    public static boolean checkInternetPingGoogle(){\n        try {\n            int a = Runtime.getRuntime().exec(CMD_PING_GOOGLE).waitFor();\n            return a == 0x0;\n        } catch (IOException ioE){\n            EMaxLogger.onException(TAG, ioE);\n        } catch (InterruptedException iE){\n            EMaxLogger.onException(TAG, iE);\n        }\n        return false;\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2294271,"reputation":1873,"user_id":2016165,"accept_rate":45,"display_name":"Neph"},"score":0,"creation_date":1698231885,"post_id":76215645,"comment_id":136378190,"body_markdown":"Older answers recommend using `NetworkInfo`, which is deprecated as of Android Q/API 29. Also, a small correction: Use `NetworkCapabilities.NET_CAPABILITY_INTERNET`, otherwise you have to import it.","body":"Older answers recommend using <code>NetworkInfo</code>, which is deprecated as of Android Q/API 29. Also, a small correction: Use <code>NetworkCapabilities.NET_CAPABILITY_INTERNET</code>, otherwise you have to import it."},{"owner":{"account_id":2294271,"reputation":1873,"user_id":2016165,"accept_rate":45,"display_name":"Neph"},"score":0,"creation_date":1700744690,"post_id":76215645,"comment_id":136693773,"body_markdown":"More information: You can only test this in Android Studio&#39;s emulator by turning off mobile data. Enabling/disabling wifi in it or even unplugging the PC&#39;s LAN cable don&#39;t seem to change anything and will always return &quot;true&quot;, as long as mobile data is on.","body":"More information: You can only test this in Android Studio&#39;s emulator by turning off mobile data. Enabling/disabling wifi in it or even unplugging the PC&#39;s LAN cable don&#39;t seem to change anything and will always return &quot;true&quot;, as long as mobile data is on."}],"tags":[],"owner":{"account_id":6946478,"reputation":121,"user_id":5330746,"display_name":"Alfred Faltiska"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1683701604,"creation_date":1683701604,"answer_id":76215645,"question_id":60827877,"body_markdown":"Some answers recommend just checking if getNetworkCapabilities returns a non null value but if you want to check if that network could actually provide Internet, you should do this instead:\r\n\r\n    public boolean isNetworkAvailable() {\r\n        try {\r\n            ConnectivityManager cm = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\r\n            return cm.getNetworkCapabilities(cm.getActiveNetwork()).hasCapability(NET_CAPABILITY_INTERNET);\r\n        } catch (Exception e) {\r\n            return false;\r\n        }\r\n    }\r\n\r\nAnd you must still have this permission:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n\r\nIf you want to check if the available Internet connection actually works (or worked when last checked), use the NET_CAPABILITY_VALIDATED capability.","title":"How can I check internet connection in Android Q?","body":"<p>Some answers recommend just checking if getNetworkCapabilities returns a non null value but if you want to check if that network could actually provide Internet, you should do this instead:</p>\n<pre><code>public boolean isNetworkAvailable() {\n    try {\n        ConnectivityManager cm = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\n        return cm.getNetworkCapabilities(cm.getActiveNetwork()).hasCapability(NET_CAPABILITY_INTERNET);\n    } catch (Exception e) {\n        return false;\n    }\n}\n</code></pre>\n<p>And you must still have this permission:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n</code></pre>\n<p>If you want to check if the available Internet connection actually works (or worked when last checked), use the NET_CAPABILITY_VALIDATED capability.</p>\n"}],"owner":{"account_id":16011140,"reputation":47,"user_id":11555251,"display_name":"R PT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9774,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":60827950,"answer_count":5,"score":4,"last_activity_date":1683701604,"creation_date":1585040785,"question_id":60827877,"body_markdown":"Before Android Q all you had to do is use the NetworkUtils class. But this class was deprecated in API 29.\r\nI&#39;ve been searching for an alternative, and I couldn&#39;t seem to find one.\r\n\r\nSo, how can I check the internet connection in Android Q?","title":"How can I check internet connection in Android Q?","body":"<p>Before Android Q all you had to do is use the NetworkUtils class. But this class was deprecated in API 29.\nI've been searching for an alternative, and I couldn't seem to find one.</p>\n\n<p>So, how can I check the internet connection in Android Q?</p>\n"},{"tags":["java","spring-boot","bitbucket","bitbucket-api","bitbucket-cloud"],"owner":{"account_id":1072167,"reputation":1024,"user_id":1071179,"accept_rate":17,"display_name":"Mahesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683701551,"creation_date":1683701551,"question_id":76215638,"body_markdown":"My requirement is that an admin through a company portal tries to register an app with Bitbucket Cloud at which stage it will use Basic Auth to get all the list of workspaces, iterate each of them and retrieve all the repositories.\r\n\r\nI need to maintain a record of which repositories were created/deleted/revoked access.  So my proposal is to use a database table which stores:  repo_id, repo_uuid, repo_slug, repo_url, created_on, updated_on, is_soft_delete.\r\n\r\nI use Java and something like a ExecutorService and ForkJoinPool to continuously poll the system.  My question is with this infrastructure in place, how I can tell for sure that some repo has been added/removed/revoked access except by comparing the two lists obtained.  Is there a foolproof way to do this?\r\n\r\nI am using Spring Boot and Java.\r\n\r\nNote:  We did consider webhook approach, but it has serious limitations.  But I am open to suggestions.\r\nRegards\r\nMahesh","title":"How to poll and maintain list of repositories added/deleted/token revoked in Bitbucket using the REST API","body":"<p>My requirement is that an admin through a company portal tries to register an app with Bitbucket Cloud at which stage it will use Basic Auth to get all the list of workspaces, iterate each of them and retrieve all the repositories.</p>\n<p>I need to maintain a record of which repositories were created/deleted/revoked access.  So my proposal is to use a database table which stores:  repo_id, repo_uuid, repo_slug, repo_url, created_on, updated_on, is_soft_delete.</p>\n<p>I use Java and something like a ExecutorService and ForkJoinPool to continuously poll the system.  My question is with this infrastructure in place, how I can tell for sure that some repo has been added/removed/revoked access except by comparing the two lists obtained.  Is there a foolproof way to do this?</p>\n<p>I am using Spring Boot and Java.</p>\n<p>Note:  We did consider webhook approach, but it has serious limitations.  But I am open to suggestions.\nRegards\nMahesh</p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1683661866,"post_id":76208454,"comment_id":134400336,"body_markdown":"have you tried just switching the order of those two lines?","body":"have you tried just switching the order of those two lines?"},{"owner":{"account_id":355668,"reputation":1551,"user_id":694740,"accept_rate":69,"display_name":"JLLMNCHR"},"score":0,"creation_date":1683695214,"post_id":76208454,"comment_id":134404000,"body_markdown":"I have tried, but it doesn&#39;t helps. Thanks!","body":"I have tried, but it doesn&#39;t helps. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683699569,"creation_date":1683699569,"answer_id":76215395,"question_id":76208454,"body_markdown":" - Add `exclude` to exclude `rt.jar` library under `java.project.referencedLibraries` configuration.\r\n\r\n    [*Example settings.json*][1]\r\n\r\n    ```json\r\n    &quot;java.project.referencedLibraries&quot;: {\r\n        &quot;include&quot;: [\r\n            &quot;library/**/*.jar&quot;,\r\n            &quot;/home/username/lib/foo.jar&quot;\r\n        ],\r\n        &quot;exclude&quot;: [\r\n            &quot;library/sources/**&quot;\r\n        ]\r\n    }\r\n    ```\r\n\r\n - Add the following configuration to `vmArgs` in [*launch.json*][2] to add the `jaxb-api-osgi.jar` library to the boot classpath of the JVM with a higher priority than the default boot classpath (which includes `rt.jar`)\r\n\r\n    ```json\r\n    // Modify the path to your actual jaxb-api-osgi.jar path\r\n    &quot;-Xbootclasspath/p:${workspaceFolder}/lib/jaxb-api-osgi.jar&quot;\r\n    ```\r\n\r\n    *Note: The launch.json file will only be referenced by using `Starting Debugging` or `Run Without Debugging` or executing the file in the **Run and Debugging** panel.*\r\n\r\n\r\n    [![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://code.visualstudio.com/docs/java/java-project#_manage-dependencies-for-unmanaged-folder\r\n  [2]: https://code.visualstudio.com/docs/java/java-debugging#_launch\r\n  [3]: https://i.stack.imgur.com/BmywS.png","title":"How to set precedence when loading Java libraries when runing a class in VSCODE","body":"<ul>\n<li><p>Add <code>exclude</code> to exclude <code>rt.jar</code> library under <code>java.project.referencedLibraries</code> configuration.</p>\n<p><a href=\"https://code.visualstudio.com/docs/java/java-project#_manage-dependencies-for-unmanaged-folder\" rel=\"nofollow noreferrer\"><em>Example settings.json</em></a></p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;java.project.referencedLibraries&quot;: {\n    &quot;include&quot;: [\n        &quot;library/**/*.jar&quot;,\n        &quot;/home/username/lib/foo.jar&quot;\n    ],\n    &quot;exclude&quot;: [\n        &quot;library/sources/**&quot;\n    ]\n}\n</code></pre>\n</li>\n<li><p>Add the following configuration to <code>vmArgs</code> in <a href=\"https://code.visualstudio.com/docs/java/java-debugging#_launch\" rel=\"nofollow noreferrer\"><em>launch.json</em></a> to add the <code>jaxb-api-osgi.jar</code> library to the boot classpath of the JVM with a higher priority than the default boot classpath (which includes <code>rt.jar</code>)</p>\n<pre class=\"lang-json prettyprint-override\"><code>// Modify the path to your actual jaxb-api-osgi.jar path\n&quot;-Xbootclasspath/p:${workspaceFolder}/lib/jaxb-api-osgi.jar&quot;\n</code></pre>\n<p><em>Note: The launch.json file will only be referenced by using <code>Starting Debugging</code> or <code>Run Without Debugging</code> or executing the file in the <strong>Run and Debugging</strong> panel.</em></p>\n<p><a href=\"https://i.stack.imgur.com/BmywS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BmywS.png\" alt=\"enter image description here\" /></a></p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":355668,"reputation":1551,"user_id":694740,"accept_rate":69,"display_name":"JLLMNCHR"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683701422,"creation_date":1683701422,"answer_id":76215620,"question_id":76208454,"body_markdown":"The contribution is very interesting. I have learned a lot from it.\r\n\r\nBut, it hasn&#39;t worked for me.\r\n\r\nHowever, I put the details of the changes here because I&#39;m sure it will help someone.\r\n\r\nI finally got everything working for me from a clean workspace using **Maven projects**.\r\n\r\n(I give the answer as good because of the detail of it, and because surely I was missing something to do correctly).\r\n\r\n**settings.json**:\r\n\r\n    {\r\n        &quot;java.project.sourcePaths&quot;: [&quot;src&quot;],\r\n        &quot;java.project.outputPath&quot;: &quot;bin&quot;,\r\n        &quot;java.project.referencedLibraries&quot;: {\r\n            &quot;include&quot;: [\r\n                &quot;lib/**/*.jar&quot;,\r\n                &quot;C:\\\\PROYECTOS\\\\Librerias\\\\glassfish4\\\\jaxb-api-osgi.jar&quot;,\r\n            ],\r\n            &quot;exclude&quot;: [\r\n                &quot;C:\\\\Instalados\\\\Java\\\\jdk8u192-b12\\\\jre\\\\lib\\rt.jar&quot;\r\n            ]\r\n        }\r\n    }\r\n\r\n**launch.json**:\r\n\r\n    {\r\n        &quot;version&quot;: &quot;0.2.0&quot;,\r\n        &quot;configurations&quot;: [\r\n            {\r\n                &quot;type&quot;: &quot;java&quot;,\r\n                &quot;name&quot;: &quot;Current File&quot;,\r\n                &quot;request&quot;: &quot;launch&quot;,\r\n                &quot;mainClass&quot;: &quot;${file}&quot;\r\n            },\r\n            {\r\n                &quot;type&quot;: &quot;java&quot;,\r\n                &quot;name&quot;: &quot;Main&quot;,\r\n                &quot;request&quot;: &quot;launch&quot;,\r\n                &quot;mainClass&quot;: &quot;tirea.sfe.facturae.Main&quot;,\r\n                &quot;projectName&quot;: &quot;SFEAAPP_bcc312b8&quot;,\r\n                &quot;vmArgs&quot;: &quot;-Xbootclasspath/p:${workspaceFolder}/facturae/lib/jaxb-api-osgi.jar&quot;\r\n            }\r\n        ]\r\n    }","title":"How to set precedence when loading Java libraries when runing a class in VSCODE","body":"<p>The contribution is very interesting. I have learned a lot from it.</p>\n<p>But, it hasn't worked for me.</p>\n<p>However, I put the details of the changes here because I'm sure it will help someone.</p>\n<p>I finally got everything working for me from a clean workspace using <strong>Maven projects</strong>.</p>\n<p>(I give the answer as good because of the detail of it, and because surely I was missing something to do correctly).</p>\n<p><strong>settings.json</strong>:</p>\n<pre><code>{\n    &quot;java.project.sourcePaths&quot;: [&quot;src&quot;],\n    &quot;java.project.outputPath&quot;: &quot;bin&quot;,\n    &quot;java.project.referencedLibraries&quot;: {\n        &quot;include&quot;: [\n            &quot;lib/**/*.jar&quot;,\n            &quot;C:\\\\PROYECTOS\\\\Librerias\\\\glassfish4\\\\jaxb-api-osgi.jar&quot;,\n        ],\n        &quot;exclude&quot;: [\n            &quot;C:\\\\Instalados\\\\Java\\\\jdk8u192-b12\\\\jre\\\\lib\\rt.jar&quot;\n        ]\n    }\n}\n</code></pre>\n<p><strong>launch.json</strong>:</p>\n<pre><code>{\n    &quot;version&quot;: &quot;0.2.0&quot;,\n    &quot;configurations&quot;: [\n        {\n            &quot;type&quot;: &quot;java&quot;,\n            &quot;name&quot;: &quot;Current File&quot;,\n            &quot;request&quot;: &quot;launch&quot;,\n            &quot;mainClass&quot;: &quot;${file}&quot;\n        },\n        {\n            &quot;type&quot;: &quot;java&quot;,\n            &quot;name&quot;: &quot;Main&quot;,\n            &quot;request&quot;: &quot;launch&quot;,\n            &quot;mainClass&quot;: &quot;tirea.sfe.facturae.Main&quot;,\n            &quot;projectName&quot;: &quot;SFEAAPP_bcc312b8&quot;,\n            &quot;vmArgs&quot;: &quot;-Xbootclasspath/p:${workspaceFolder}/facturae/lib/jaxb-api-osgi.jar&quot;\n        }\n    ]\n}\n</code></pre>\n"}],"owner":{"account_id":355668,"reputation":1551,"user_id":694740,"accept_rate":69,"display_name":"JLLMNCHR"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76215395,"answer_count":2,"score":0,"last_activity_date":1683701422,"creation_date":1683628849,"question_id":76208454,"body_markdown":"In a Java project running in VSCODE, when executing a certain class, there is a conflict between the **rt.jar** library (from the JDK itself); and the referenced library **jaxb-api-osgi.jar**. Specifically, it loads the **javax.xml.bind.JAXBContext** class from the **rt.jar**; instead of the one included in **jaxb-api-osgi.jar**. \r\n\r\nThat is, I would like the referenced library **jaxb-api-osgi.jar** to have precedence over the **rt.jar**\r\n\r\nThis configuration in **settings.json** doesn`t helps:\r\n\r\n    {\r\n    \t&quot;java.project.referencedLibraries&quot;: [\r\n            &quot;lib/**/*.jar&quot;,\r\n            &quot;c:\\\\PROYECTOS\\\\Librerias\\\\glassfish4\\\\jaxb-api-osgi.jar&quot;\r\n        ],\r\n        &quot;java.jdt.ls.java.home&quot;: &quot;C:\\\\Instalados\\\\Java\\\\jdk8u192-b12&quot;\r\n    }\r\n\r\n","title":"How to set precedence when loading Java libraries when runing a class in VSCODE","body":"<p>In a Java project running in VSCODE, when executing a certain class, there is a conflict between the <strong>rt.jar</strong> library (from the JDK itself); and the referenced library <strong>jaxb-api-osgi.jar</strong>. Specifically, it loads the <strong>javax.xml.bind.JAXBContext</strong> class from the <strong>rt.jar</strong>; instead of the one included in <strong>jaxb-api-osgi.jar</strong>.</p>\n<p>That is, I would like the referenced library <strong>jaxb-api-osgi.jar</strong> to have precedence over the <strong>rt.jar</strong></p>\n<p>This configuration in <strong>settings.json</strong> doesn`t helps:</p>\n<pre><code>{\n    &quot;java.project.referencedLibraries&quot;: [\n        &quot;lib/**/*.jar&quot;,\n        &quot;c:\\\\PROYECTOS\\\\Librerias\\\\glassfish4\\\\jaxb-api-osgi.jar&quot;\n    ],\n    &quot;java.jdt.ls.java.home&quot;: &quot;C:\\\\Instalados\\\\Java\\\\jdk8u192-b12&quot;\n}\n</code></pre>\n"},{"tags":["java","jakarta-ee","xsd","java-17","java-platform-module-system"],"answers":[{"comments":[{"owner":{"account_id":412437,"reputation":138,"user_id":785508,"accept_rate":60,"display_name":"Oktay"},"score":0,"creation_date":1685959690,"post_id":69896436,"comment_id":134728598,"body_markdown":"which generator are you using we are generation java files by the maven plugin:maven-jaxb23-plugin but after migrating jakarta jaxb-glashfish 4  we can&#39;t","body":"which generator are you using we are generation java files by the maven plugin:maven-jaxb23-plugin but after migrating jakarta jaxb-glashfish 4  we can&#39;t"},{"owner":{"account_id":1460538,"reputation":4277,"user_id":1374987,"accept_rate":70,"display_name":"PentaKon"},"score":1,"creation_date":1695216941,"post_id":69896436,"comment_id":135994782,"body_markdown":"Not using maven, I&#39;m using `com.sun.xml.ws:jaxws-tools:2.3.1` to call `WsGenerate` and `WsImport`","body":"Not using maven, I&#39;m using <code>com.sun.xml.ws:jaxws-tools:2.3.1</code> to call <code>WsGenerate</code> and <code>WsImport</code>"}],"tags":[],"owner":{"account_id":1460538,"reputation":4277,"user_id":1374987,"accept_rate":70,"display_name":"PentaKon"},"comment_count":2,"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1636453337,"creation_date":1636453337,"answer_id":69896436,"question_id":69857485,"body_markdown":"The problem comes from forgetting to upgrade the jaxb schema to the jakarta uri and version 3.0.\r\n\r\nSpecifically\r\n\r\n    &lt;xsd:schema xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n        xmlns:jxb=&quot;http://java.sun.com/xml/ns/jaxb&quot;\r\n        jxb:version=&quot;1.0&quot;\r\nmust be changed to\r\n\r\n    &lt;xsd:schema xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n        xmlns:jxb=&quot;https://jakarta.ee/xml/ns/jaxb&quot;\r\n        jxb:version=&quot;3.0&quot;\r\n\r\nFor reference, similar changes must be done to .wsdl files as well, for example `xmlns:jaxws=&quot;http://java.sun.com/xml/ns/jaxws&quot;`  `xmlns:jaxws=&quot;https://jakarta.ee/xml/ns/jaxws&quot;`","title":"Migrating from jaxb xjc generation to jakarta and Java 17","body":"<p>The problem comes from forgetting to upgrade the jaxb schema to the jakarta uri and version 3.0.</p>\n<p>Specifically</p>\n<pre><code>&lt;xsd:schema xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;\n    xmlns:jxb=&quot;http://java.sun.com/xml/ns/jaxb&quot;\n    jxb:version=&quot;1.0&quot;\n</code></pre>\n<p>must be changed to</p>\n<pre><code>&lt;xsd:schema xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;\n    xmlns:jxb=&quot;https://jakarta.ee/xml/ns/jaxb&quot;\n    jxb:version=&quot;3.0&quot;\n</code></pre>\n<p>For reference, similar changes must be done to .wsdl files as well, for example <code>xmlns:jaxws=&quot;http://java.sun.com/xml/ns/jaxws&quot;</code>  <code>xmlns:jaxws=&quot;https://jakarta.ee/xml/ns/jaxws&quot;</code></p>\n"}],"owner":{"account_id":1460538,"reputation":4277,"user_id":1374987,"accept_rate":70,"display_name":"PentaKon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33512,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":69896436,"answer_count":1,"score":17,"last_activity_date":1683701156,"creation_date":1636135272,"question_id":69857485,"body_markdown":"We are in the process of investigating the migration of our application from JDK8 to JDK17. Some of our modules use wsdl based web services, some others make use of .xsd schemas etc. Regardless, we make use of JAXWS and JAXB apis that are now removed from JDK since version 11 and moved to Jakarta.\r\n\r\nI have successfully started generating sources from .wsdl and .xsd files using the jakarta dependencies and the source is properly generated with jakarta imports\r\n\r\n    import jakarta.xml.bind.JAXBElement;\r\n    import jakarta.xml.bind.annotation.XmlAccessType;\r\n    import jakarta.xml.bind.annotation.XmlAccessorType;\r\n    import jakarta.xml.bind.annotation.XmlElementRef;\r\n\r\nwhereas previously it was using `javax.xml.bind.` stuff which is not available at compile time anymore. My problem is that although I have successfully generated schema based sources, the new generators produce different code (class names, accessors etc.) and I&#39;d like to confirm that this is the intended behavior before proceeding with a refactor.\r\n\r\nExample:\r\n\r\nOur .xsd contains the following:\r\n\r\n    &lt;xsd:complexType name=&quot;ForkStepType&quot;&gt;\r\n        &lt;xsd:annotation&gt;\r\n            &lt;xsd:appinfo&gt;\r\n                &lt;jxb:class name=&quot;ForkStep&quot;/&gt;\r\n            &lt;/xsd:appinfo&gt;\r\n        &lt;/xsd:annotation&gt;\r\n        &lt;xsd:complexContent&gt;\r\n            &lt;xsd:extension base=&quot;tns:LinearStepType&quot;&gt;\r\n                &lt;xsd:sequence/&gt;\r\n                &lt;xsd:attribute name=&quot;forkLevel&quot; type=&quot;tns:ForkLevelType&quot; use=&quot;required&quot;/&gt;\r\n            &lt;/xsd:extension&gt;\r\n        &lt;/xsd:complexContent&gt;\r\n    &lt;/xsd:complexType&gt;\r\nThe **old** xjc generator using jaxb version `2.2.11` would generate a class named `ForkStep`, I&#39;m guessing based on the `jxb:class` element. The jakarta `3.0.1` generator on the other hand generates a class named `ForkStepType` which I&#39;m guessing comes from the `xsd:complexType` element. \r\n\r\nIs this expected behavior? Were the old implementations incorrect when it comes to interpreting the specification or is there a flag/spec target version that I should be aware of in order to properly reproduce our app&#39;s existing behavior?","title":"Migrating from jaxb xjc generation to jakarta and Java 17","body":"<p>We are in the process of investigating the migration of our application from JDK8 to JDK17. Some of our modules use wsdl based web services, some others make use of .xsd schemas etc. Regardless, we make use of JAXWS and JAXB apis that are now removed from JDK since version 11 and moved to Jakarta.</p>\n<p>I have successfully started generating sources from .wsdl and .xsd files using the jakarta dependencies and the source is properly generated with jakarta imports</p>\n<pre><code>import jakarta.xml.bind.JAXBElement;\nimport jakarta.xml.bind.annotation.XmlAccessType;\nimport jakarta.xml.bind.annotation.XmlAccessorType;\nimport jakarta.xml.bind.annotation.XmlElementRef;\n</code></pre>\n<p>whereas previously it was using <code>javax.xml.bind.</code> stuff which is not available at compile time anymore. My problem is that although I have successfully generated schema based sources, the new generators produce different code (class names, accessors etc.) and I'd like to confirm that this is the intended behavior before proceeding with a refactor.</p>\n<p>Example:</p>\n<p>Our .xsd contains the following:</p>\n<pre><code>&lt;xsd:complexType name=&quot;ForkStepType&quot;&gt;\n    &lt;xsd:annotation&gt;\n        &lt;xsd:appinfo&gt;\n            &lt;jxb:class name=&quot;ForkStep&quot;/&gt;\n        &lt;/xsd:appinfo&gt;\n    &lt;/xsd:annotation&gt;\n    &lt;xsd:complexContent&gt;\n        &lt;xsd:extension base=&quot;tns:LinearStepType&quot;&gt;\n            &lt;xsd:sequence/&gt;\n            &lt;xsd:attribute name=&quot;forkLevel&quot; type=&quot;tns:ForkLevelType&quot; use=&quot;required&quot;/&gt;\n        &lt;/xsd:extension&gt;\n    &lt;/xsd:complexContent&gt;\n&lt;/xsd:complexType&gt;\n</code></pre>\n<p>The <strong>old</strong> xjc generator using jaxb version <code>2.2.11</code> would generate a class named <code>ForkStep</code>, I'm guessing based on the <code>jxb:class</code> element. The jakarta <code>3.0.1</code> generator on the other hand generates a class named <code>ForkStepType</code> which I'm guessing comes from the <code>xsd:complexType</code> element.</p>\n<p>Is this expected behavior? Were the old implementations incorrect when it comes to interpreting the specification or is there a flag/spec target version that I should be aware of in order to properly reproduce our app's existing behavior?</p>\n"},{"tags":["java","processing"],"comments":[{"owner":{"account_id":17715726,"reputation":2215,"user_id":12862111,"display_name":"apodidae"},"score":0,"creation_date":1683732827,"post_id":76215575,"comment_id":134412792,"body_markdown":"Are you certain that Processing works with BLE (Bluetooth Low Energy)?  Is this for a desktop computer or Android device?  All the code that I have seen for a desktop system is with Bluetooth Classic.  My suggestion would be to start with a very simple example to make sure that your Arduino connection is really working.","body":"Are you certain that Processing works with BLE (Bluetooth Low Energy)?  Is this for a desktop computer or Android device?  All the code that I have seen for a desktop system is with Bluetooth Classic.  My suggestion would be to start with a very simple example to make sure that your Arduino connection is really working."},{"owner":{"account_id":28565102,"reputation":1,"user_id":21868087,"display_name":"Gianmarco Gradellini"},"score":0,"creation_date":1683733080,"post_id":76215575,"comment_id":134412858,"body_markdown":"I&#39;m not using bluetooth right now. The Arduino is connected to my computer where processing is playing. I have already tried just sending text through the serial port and it works.","body":"I&#39;m not using bluetooth right now. The Arduino is connected to my computer where processing is playing. I have already tried just sending text through the serial port and it works."},{"owner":{"account_id":17715726,"reputation":2215,"user_id":12862111,"display_name":"apodidae"},"score":1,"creation_date":1683734217,"post_id":76215575,"comment_id":134413189,"body_markdown":"Are you saying that the default video (shown at startup) doesn&#39;t work?  On my system your code showed nothing until I added &#39;currentVideo.read();&#39; as the first line in the &#39;movieEvent()&#39; function.","body":"Are you saying that the default video (shown at startup) doesn&#39;t work?  On my system your code showed nothing until I added &#39;currentVideo.read();&#39; as the first line in the &#39;movieEvent()&#39; function."},{"owner":{"account_id":28565102,"reputation":1,"user_id":21868087,"display_name":"Gianmarco Gradellini"},"score":0,"creation_date":1683797614,"post_id":76215575,"comment_id":134422796,"body_markdown":"@apodidae the video is showing now! thank you very much :) however, nothing happens with the gestures","body":"@apodidae the video is showing now! thank you very much :) however, nothing happens with the gestures"},{"owner":{"account_id":17715726,"reputation":2215,"user_id":12862111,"display_name":"apodidae"},"score":0,"creation_date":1683810187,"post_id":76215575,"comment_id":134425612,"body_markdown":"Usually &#39;gestures&#39; implies touch screen of some sort.  There was no Arduino code posted.","body":"Usually &#39;gestures&#39; implies touch screen of some sort.  There was no Arduino code posted."},{"owner":{"account_id":28565102,"reputation":1,"user_id":21868087,"display_name":"Gianmarco Gradellini"},"score":0,"creation_date":1683813981,"post_id":76215575,"comment_id":134426680,"body_markdown":"the gestures are recognised properly because they are printed correctly on the serial monitor in Arduino IDE so I think the problem is with the processing code","body":"the gestures are recognised properly because they are printed correctly on the serial monitor in Arduino IDE so I think the problem is with the processing code"},{"owner":{"account_id":17715726,"reputation":2215,"user_id":12862111,"display_name":"apodidae"},"score":0,"creation_date":1683818529,"post_id":76215575,"comment_id":134427914,"body_markdown":"Then you need to write a very simple Processing app that receives simple byte commands such as &#39;u&#39;,&#39;d&#39;,&#39;l&#39;,&#39;r&#39;.  That&#39;s easier than sending longer strings.  Post the simple Processing code if you still can&#39;t get it to work.","body":"Then you need to write a very simple Processing app that receives simple byte commands such as &#39;u&#39;,&#39;d&#39;,&#39;l&#39;,&#39;r&#39;.  That&#39;s easier than sending longer strings.  Post the simple Processing code if you still can&#39;t get it to work."}],"owner":{"account_id":28565102,"reputation":1,"user_id":21868087,"display_name":"Gianmarco Gradellini"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683701149,"creation_date":1683701149,"question_id":76215575,"body_markdown":"I created this code for my thesis but it doesn&#39;t display any video. any clue why? the code is supposed to play a video, connect to the serial port where my Arduino Nano 33 BLE is sending the gestures it detects and based on the gestures play a different video. Any help is much appreciated, thanks!\r\n\r\n\r\n```\r\nimport processing.video.*;\r\nimport processing.serial.*;\r\n\r\nSerial myPort;\r\nMovie currentVideo;\r\nboolean videoPlaying = false;\r\nString Name;\r\n\r\n\r\nvoid setup() {\r\n  size(1080, 1920);\r\n  currentVideo = new Movie(this, &quot;look1,1.mp4&quot;);\r\n  Name=&quot;look1,1.mp4&quot;;\r\n  currentVideo.play();\r\n  videoPlaying = true;\r\n\r\n  String portName = Serial.list()[0];\r\n  myPort = new Serial(this, &quot;/dev/tty.usbmodem142401&quot;, 9600);\r\n}\r\n\r\nvoid draw() {\r\n  if (videoPlaying &amp;&amp; currentVideo.available()) {\r\n    image(currentVideo, 0, 0, width, height);\r\n  }\r\n\r\n  if (currentVideo.time() &gt;= currentVideo.duration()) {\r\n    currentVideo.stop();\r\n    while (myPort.available() &gt; 0) {\r\n      String input = myPort.readStringUntil(&#39;\\n&#39;);\r\n      if (input != null) {\r\n        input = input.trim();\r\n        if (input.equals(&quot;up&quot;)) {\r\n          currentVideo = new Movie(this, &quot;look1,5.mp4&quot;);\r\n          Name=&quot;look1,5.mp4&quot;;\r\n          currentVideo.play();\r\n          videoPlaying = true;\r\n          registerMovieEvent(currentVideo);\r\n          break;\r\n        } else if (input.equals(&quot;down&quot;)) {\r\n          currentVideo = new Movie(this, &quot;look1,6.mp4&quot;);\r\n          Name=&quot;look1,6.mp4&quot;;\r\n          currentVideo.play();\r\n          videoPlaying = true;\r\n          registerMovieEvent(currentVideo);\r\n          break;\r\n        } else if (input.equals(&quot;left&quot;)) {\r\n          currentVideo = new Movie(this, &quot;look1,3.mp4&quot;);\r\n          Name=&quot;look1,3.mp4&quot;;\r\n          currentVideo.play();\r\n          videoPlaying = true;\r\n          registerMovieEvent(currentVideo);\r\n          break;\r\n        } else if (input.equals(&quot;right&quot;)) {\r\n          currentVideo = new Movie(this, &quot;look1,2.mp4&quot;);\r\n          Name=&quot;look1,2.mp4&quot;;\r\n          currentVideo.play();\r\n          videoPlaying = true;\r\n          registerMovieEvent(currentVideo);\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    if (!videoPlaying) {\r\n      currentVideo = new Movie(this, &quot;look1,3.mp4&quot;);\r\n      Name=&quot;look1,3.mp4&quot;;\r\n      currentVideo.play();\r\n      videoPlaying = true;\r\n    }\r\n  }\r\n}\r\n\r\nvoid registerMovieEvent(Movie m) {\r\n  if (currentVideo == m) {\r\n  }\r\n}\r\n\r\nvoid movieEvent(Movie m) {\r\n  if (currentVideo != null &amp;&amp; currentVideo.time() &gt;= currentVideo.duration()) {\r\n    currentVideo.stop();\r\n    if (Name==&quot;look1,3.mp4&quot;) {\r\n      currentVideo = new Movie(this, &quot;look2,1.mp4&quot;);\r\n      Name=&quot;look2,1.mp4&quot;;\r\n    } else if (Name==&quot;look1,5.mp4&quot; || Name==&quot;look1,6.mp4&quot; || Name==&quot;look1,2.mp4&quot;) {\r\n      currentVideo = new Movie(this, &quot;look1,4.mp4&quot;);\r\n      Name=&quot;look1,4.mp4&quot;;\r\n    }\r\n    currentVideo.play();\r\n    videoPlaying = true;\r\n    registerMovieEvent(currentVideo);\r\n  }\r\n}\r\n```\r\n\r\n\r\nThe videos are of course in the data folder and the conncection with my Arduino Nano 33 BLE seems to be working.","title":"Why is this code for processing not displaying any video?","body":"<p>I created this code for my thesis but it doesn't display any video. any clue why? the code is supposed to play a video, connect to the serial port where my Arduino Nano 33 BLE is sending the gestures it detects and based on the gestures play a different video. Any help is much appreciated, thanks!</p>\n<pre><code>import processing.video.*;\nimport processing.serial.*;\n\nSerial myPort;\nMovie currentVideo;\nboolean videoPlaying = false;\nString Name;\n\n\nvoid setup() {\n  size(1080, 1920);\n  currentVideo = new Movie(this, &quot;look1,1.mp4&quot;);\n  Name=&quot;look1,1.mp4&quot;;\n  currentVideo.play();\n  videoPlaying = true;\n\n  String portName = Serial.list()[0];\n  myPort = new Serial(this, &quot;/dev/tty.usbmodem142401&quot;, 9600);\n}\n\nvoid draw() {\n  if (videoPlaying &amp;&amp; currentVideo.available()) {\n    image(currentVideo, 0, 0, width, height);\n  }\n\n  if (currentVideo.time() &gt;= currentVideo.duration()) {\n    currentVideo.stop();\n    while (myPort.available() &gt; 0) {\n      String input = myPort.readStringUntil('\\n');\n      if (input != null) {\n        input = input.trim();\n        if (input.equals(&quot;up&quot;)) {\n          currentVideo = new Movie(this, &quot;look1,5.mp4&quot;);\n          Name=&quot;look1,5.mp4&quot;;\n          currentVideo.play();\n          videoPlaying = true;\n          registerMovieEvent(currentVideo);\n          break;\n        } else if (input.equals(&quot;down&quot;)) {\n          currentVideo = new Movie(this, &quot;look1,6.mp4&quot;);\n          Name=&quot;look1,6.mp4&quot;;\n          currentVideo.play();\n          videoPlaying = true;\n          registerMovieEvent(currentVideo);\n          break;\n        } else if (input.equals(&quot;left&quot;)) {\n          currentVideo = new Movie(this, &quot;look1,3.mp4&quot;);\n          Name=&quot;look1,3.mp4&quot;;\n          currentVideo.play();\n          videoPlaying = true;\n          registerMovieEvent(currentVideo);\n          break;\n        } else if (input.equals(&quot;right&quot;)) {\n          currentVideo = new Movie(this, &quot;look1,2.mp4&quot;);\n          Name=&quot;look1,2.mp4&quot;;\n          currentVideo.play();\n          videoPlaying = true;\n          registerMovieEvent(currentVideo);\n          break;\n        }\n      }\n    }\n    if (!videoPlaying) {\n      currentVideo = new Movie(this, &quot;look1,3.mp4&quot;);\n      Name=&quot;look1,3.mp4&quot;;\n      currentVideo.play();\n      videoPlaying = true;\n    }\n  }\n}\n\nvoid registerMovieEvent(Movie m) {\n  if (currentVideo == m) {\n  }\n}\n\nvoid movieEvent(Movie m) {\n  if (currentVideo != null &amp;&amp; currentVideo.time() &gt;= currentVideo.duration()) {\n    currentVideo.stop();\n    if (Name==&quot;look1,3.mp4&quot;) {\n      currentVideo = new Movie(this, &quot;look2,1.mp4&quot;);\n      Name=&quot;look2,1.mp4&quot;;\n    } else if (Name==&quot;look1,5.mp4&quot; || Name==&quot;look1,6.mp4&quot; || Name==&quot;look1,2.mp4&quot;) {\n      currentVideo = new Movie(this, &quot;look1,4.mp4&quot;);\n      Name=&quot;look1,4.mp4&quot;;\n    }\n    currentVideo.play();\n    videoPlaying = true;\n    registerMovieEvent(currentVideo);\n  }\n}\n</code></pre>\n<p>The videos are of course in the data folder and the conncection with my Arduino Nano 33 BLE seems to be working.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"score":2,"creation_date":1545450943,"post_id":53892875,"comment_id":94632298,"body_markdown":"There is a common problem in all questions about the efficiency of anything in Java: Java is a specification, the efficiency is determined by the implementation of that specification. The characteristics of a piece of Java code can be quite different from one implementation to another.","body":"There is a common problem in all questions about the efficiency of anything in Java: Java is a specification, the efficiency is determined by the implementation of that specification. The characteristics of a piece of Java code can be quite different from one implementation to another."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1545455290,"post_id":53892875,"comment_id":94632800,"body_markdown":"In addition to @sprinter: Also there are implementations which not even implement all parts of the specification and nevertheless often are called `Java`. `Andoid` for example.","body":"In addition to @sprinter: Also there are implementations which not even implement all parts of the specification and nevertheless often are called <code>Java</code>. <code>Andoid</code> for example."}],"answers":[{"comments":[{"owner":{"account_id":94193,"reputation":20589,"user_id":257299,"accept_rate":64,"display_name":"kevinarpe"},"score":1,"creation_date":1660799913,"post_id":53893395,"comment_id":129619093,"body_markdown":"This is a great answer to a great question.  I wish I knew how to &lt;&lt;dump out the native code produced by the JIT compiler&gt;&gt;, then interpret which form is used.  Ideally: Can you update this answer with a *single* sample?  Example: OpenJDK 11 on x86-64 Linux.  Or can you give me a hint?  I think it would be great to update this answer (or create a new answer) with some concrete results from well-known JIT compilers.","body":"This is a great answer to a great question.  I wish I knew how to &lt;&lt;dump out the native code produced by the JIT compiler&gt;&gt;, then interpret which form is used.  Ideally: Can you update this answer with a <i>single</i> sample?  Example: OpenJDK 11 on x86-64 Linux.  Or can you give me a hint?  I think it would be great to update this answer (or create a new answer) with some concrete results from well-known JIT compilers."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1660800769,"post_id":53893395,"comment_id":129619248,"body_markdown":"1.  I added a link in a footnote.  2.  Feel free to do the work and add an answer.  I don&#39;t think it is worth the effort.","body":"1.  I added a link in a footnote.  2.  Feel free to do the work and add an answer.  I don&#39;t think it is worth the effort."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1683701080,"creation_date":1545458311,"answer_id":53893395,"question_id":53892875,"body_markdown":"There are two ways to answer this:\r\n\r\nThe Java Language Specification section that describes the evaluation of a lambda expression is written to give compilers / implementations flexibility in whether or not a new object is created.  Your question boils down to whether or not the lambda objects are reused ... in the three versions of the code.  According to the JLS, the answer is implementation dependent.  The only way to be 100% sure is to dump out the native code produced by the JIT compiler&lt;sup&gt;1&lt;/sup&gt;.  However according to @Holger&#39;s answers to other questions&lt;sup&gt;2&lt;/sup&gt;, *current* OpenJDK-based Java runtimes *do* cache and reuse non-capturing lambdas.\r\n\r\nGiven that the behavior and therefore the performance will depend on the Java implementation, it is debatable whether one *should* pick one form over the other:\r\n\r\n   - On the one hand, the third form *may* be faster.\r\n   - On the other hand, the second and (maybe) first forms are more readable.\r\n   - Should one write applications to be a bit faster at the expense of readability?  (Q1)\r\n   - Should one do that, in the face of an expectation that the next version of the compiler may make the hand optimization redundant? (Q2)\r\n\r\nThis is a matter of opinion, but my opinion is that the answers to Q1 &amp; Q2 is &quot;No&quot; under most circumstances.  Leave it to the JIT compiler to deal with optimization *unless* profiling tells you that the optimization is significant to your application&#39;s overall performance, *and* your application&#39;s overall performance really matters.\r\n\r\n---------------------\r\n\r\n&lt;sup&gt;1 - See https://stackoverflow.com/questions/1503479.&lt;br&gt;\r\n2 -  See https://stackoverflow.com/a/27524543/139985 and https://stackoverflow.com/a/23991339/139985.&lt;/sup&gt;","title":"Java lambda expressions and memory allocation","body":"<p>There are two ways to answer this:</p>\n<p>The Java Language Specification section that describes the evaluation of a lambda expression is written to give compilers / implementations flexibility in whether or not a new object is created.  Your question boils down to whether or not the lambda objects are reused ... in the three versions of the code.  According to the JLS, the answer is implementation dependent.  The only way to be 100% sure is to dump out the native code produced by the JIT compiler<sup>1</sup>.  However according to @Holger's answers to other questions<sup>2</sup>, <em>current</em> OpenJDK-based Java runtimes <em>do</em> cache and reuse non-capturing lambdas.</p>\n<p>Given that the behavior and therefore the performance will depend on the Java implementation, it is debatable whether one <em>should</em> pick one form over the other:</p>\n<ul>\n<li>On the one hand, the third form <em>may</em> be faster.</li>\n<li>On the other hand, the second and (maybe) first forms are more readable.</li>\n<li>Should one write applications to be a bit faster at the expense of readability?  (Q1)</li>\n<li>Should one do that, in the face of an expectation that the next version of the compiler may make the hand optimization redundant? (Q2)</li>\n</ul>\n<p>This is a matter of opinion, but my opinion is that the answers to Q1 &amp; Q2 is &quot;No&quot; under most circumstances.  Leave it to the JIT compiler to deal with optimization <em>unless</em> profiling tells you that the optimization is significant to your application's overall performance, <em>and</em> your application's overall performance really matters.</p>\n<hr />\n<p><sup>1 - See <a href=\"https://stackoverflow.com/questions/1503479\">How to see JIT-compiled code in JVM?</a>.<br>\n2 -  See <a href=\"https://stackoverflow.com/a/27524543/139985\">https://stackoverflow.com/a/27524543/139985</a> and <a href=\"https://stackoverflow.com/a/23991339/139985\">https://stackoverflow.com/a/23991339/139985</a>.</sup></p>\n"},{"comments":[{"owner":{"account_id":1816391,"reputation":508,"user_id":2324063,"display_name":"gary"},"score":0,"creation_date":1612085300,"post_id":53893511,"comment_id":116651744,"body_markdown":"This should be the correct answer.  Non-capturing lambdas will be cached. &quot;theres no imaginable reason to do it differently&quot;","body":"This should be the correct answer.  Non-capturing lambdas will be cached. &quot;theres no imaginable reason to do it differently&quot;"}],"tags":[],"owner":{"account_id":7411682,"reputation":8420,"user_id":5638835,"display_name":"puhlen"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1545459810,"creation_date":1545459810,"answer_id":53893511,"question_id":53892875,"body_markdown":"As comments have mentioned, this can change depending on what Java implementation you use.\r\n\r\nFor the hotspot jvm (the normal/default java implementation) you can expect all 3 options to be identical in terms of performance.  You may think at first that 3 might be better since 1 and 2 might need to create a new Function object each time they are called.  However, your assumption that a new object needs to be created each time for method1 (and 2) is false since a non-capturing lambda will be cached at the call site, so the same instance will be reused for each call just like with method3 and you would not see any difference.\r\n\r\n[this answer](https://stackoverflow.com/a/23991339/2711488) is and excellent overview of the topic goes into more detail \r\n\r\nSo you can use any of the three without worry in this case so use whichever is the most clear for your situation.\r\n\r\n","title":"Java lambda expressions and memory allocation","body":"<p>As comments have mentioned, this can change depending on what Java implementation you use.</p>\n\n<p>For the hotspot jvm (the normal/default java implementation) you can expect all 3 options to be identical in terms of performance.  You may think at first that 3 might be better since 1 and 2 might need to create a new Function object each time they are called.  However, your assumption that a new object needs to be created each time for method1 (and 2) is false since a non-capturing lambda will be cached at the call site, so the same instance will be reused for each call just like with method3 and you would not see any difference.</p>\n\n<p><a href=\"https://stackoverflow.com/a/23991339/2711488\">this answer</a> is and excellent overview of the topic goes into more detail </p>\n\n<p>So you can use any of the three without worry in this case so use whichever is the most clear for your situation.</p>\n"}],"owner":{"account_id":239025,"reputation":4435,"user_id":508328,"accept_rate":90,"display_name":"andbi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3551,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":53893395,"answer_count":2,"score":5,"last_activity_date":1683701080,"creation_date":1545450194,"question_id":53892875,"body_markdown":"Let&#39;s say we have three methods like these. They all do the same, but how different they are in terms of memory allocation and efficiency? Method one will create instances of Function during each call, but will the second method do the same? Should one always use the third version or either version is safe and the JIT compiler will take care of the memory optimization?\r\n\r\n\r\n    class Test {\r\n        Map&lt;String, Set&lt;String&gt;&gt; mapOfSets = new HashMap&lt;&gt;();\r\n        static final Function&lt;String, Set&lt;String&gt;&gt; FUNCTION = s -&gt; new HashSet&lt;&gt;();\r\n    \r\n        void method1(String key, String value) {\r\n            Function&lt;String, Set&lt;String&gt;&gt; func = s -&gt; new HashSet&lt;&gt;();\r\n            mapOfSets.computeIfAbsent(key, func).add(value);\r\n        }\r\n    \r\n        void method2(String key, String value) {\r\n            mapOfSets.computeIfAbsent(key, s -&gt; new HashSet&lt;&gt;()).add(value);\r\n        }\r\n    \r\n        void method3(String key, String value) {\r\n            mapOfSets.computeIfAbsent(key, FUNCTION).add(value);\r\n        }\r\n    }\r\n","title":"Java lambda expressions and memory allocation","body":"<p>Let's say we have three methods like these. They all do the same, but how different they are in terms of memory allocation and efficiency? Method one will create instances of Function during each call, but will the second method do the same? Should one always use the third version or either version is safe and the JIT compiler will take care of the memory optimization?</p>\n\n<pre><code>class Test {\n    Map&lt;String, Set&lt;String&gt;&gt; mapOfSets = new HashMap&lt;&gt;();\n    static final Function&lt;String, Set&lt;String&gt;&gt; FUNCTION = s -&gt; new HashSet&lt;&gt;();\n\n    void method1(String key, String value) {\n        Function&lt;String, Set&lt;String&gt;&gt; func = s -&gt; new HashSet&lt;&gt;();\n        mapOfSets.computeIfAbsent(key, func).add(value);\n    }\n\n    void method2(String key, String value) {\n        mapOfSets.computeIfAbsent(key, s -&gt; new HashSet&lt;&gt;()).add(value);\n    }\n\n    void method3(String key, String value) {\n        mapOfSets.computeIfAbsent(key, FUNCTION).add(value);\n    }\n}\n</code></pre>\n"},{"tags":["java","kotlin","gradle","spring-security","build.gradle"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1683715578,"post_id":76215294,"comment_id":134408163,"body_markdown":"and the article you are referencing is 3 years old.","body":"and the article you are referencing is 3 years old."},{"owner":{"account_id":18233129,"reputation":1,"user_id":13271674,"display_name":"Jesse"},"score":0,"creation_date":1683953505,"post_id":76215294,"comment_id":134449078,"body_markdown":"Guess I forgot its not 2020 anymore :)","body":"Guess I forgot its not 2020 anymore :)"}],"answers":[{"tags":[],"owner":{"account_id":10642654,"reputation":66,"user_id":7837181,"display_name":"impune"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683700466,"creation_date":1683700466,"answer_id":76215498,"question_id":76215294,"body_markdown":"Looks like `WebSecurityConfigurerAdapter` [has been deprecated last year](https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter), in Spring Security 5.7. \r\n\r\nFrom quick search in the java doc, [the class no longer exists in 6.0.3 (latest version)](https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/config/annotation/web/configuration/package-summary.html). From the build.gradle file you posted, you are using the latest version.\r\n\r\nThe article under first link describes alternative approaches to configuring spring security.\r\n[This article](https://www.baeldung.com/spring-deprecated-websecurityconfigureradapter) may also be helpful. \r\n\r\n ","title":"Unresolved reference: WebSecurityConfigurerAdapter with spring-boot-starter-security Gradle/Kotlin","body":"<p>Looks like <code>WebSecurityConfigurerAdapter</code> <a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">has been deprecated last year</a>, in Spring Security 5.7.</p>\n<p>From quick search in the java doc, <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/config/annotation/web/configuration/package-summary.html\" rel=\"nofollow noreferrer\">the class no longer exists in 6.0.3 (latest version)</a>. From the build.gradle file you posted, you are using the latest version.</p>\n<p>The article under first link describes alternative approaches to configuring spring security.\n<a href=\"https://www.baeldung.com/spring-deprecated-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">This article</a> may also be helpful.</p>\n"}],"owner":{"account_id":18233129,"reputation":1,"user_id":13271674,"display_name":"Jesse"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":991,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76215498,"answer_count":1,"score":-2,"last_activity_date":1683700466,"creation_date":1683698339,"question_id":76215294,"body_markdown":"I am new to using Gradle and Kotlin, and I am trying to set up a simple API key authentication for my Spring Boot application. I added spring-boot-starter-security to my build.gradle.kts file, but in my SecurityConfig file, the import for \r\n\r\n`org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter\r\n`\r\nis unresolved. The other security imports are fine. For example, \r\n\r\n`org.springframework.security.config.annotation.web.builders.HttpSecurity\r\n`\r\nworks just fine. I am using Intellij, and I thought maybe it was a caching issue, but it has persisted after invalidating cache, as well.\r\n\r\nHere is my build.gradle.kts file.\r\n\r\n```\r\nplugins {\r\n\tid(&quot;org.springframework.boot&quot;) version &quot;3.0.6&quot;\r\n\tid(&quot;io.spring.dependency-management&quot;) version &quot;1.1.0&quot;\r\n\tid(&quot;io.freefair.lombok&quot;) version &quot;8.0.1&quot;\r\n\tkotlin(&quot;jvm&quot;) version &quot;1.7.22&quot;\r\n\tkotlin(&quot;plugin.spring&quot;) version &quot;1.7.22&quot;\r\n}\r\n\r\ngroup = &quot;com.demo&quot;\r\nversion = &quot;0.0.1-SNAPSHOT&quot;\r\njava.sourceCompatibility = JavaVersion.VERSION_17\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\ndependencies {\r\n\timplementation(&quot;org.springframework.boot:spring-boot-starter-data-jdbc&quot;)\r\n\timplementation(&quot;org.springframework.boot:spring-boot-starter-data-mongodb&quot;)\r\n\timplementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\r\n\timplementation(&quot;com.fasterxml.jackson.module:jackson-module-kotlin&quot;)\r\n\timplementation(&quot;org.jetbrains.kotlin:kotlin-reflect&quot;)\r\n\timplementation(&quot;org.springframework.boot:spring-boot-starter-security&quot;)\r\n\tdevelopmentOnly(&quot;org.springframework.boot:spring-boot-devtools&quot;)\r\n\truntimeOnly(&quot;com.h2database:h2&quot;)\r\n\ttestImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;)\r\n\ttestImplementation(&quot;org.springframework.security:spring-security-test&quot;)\r\n}\r\n\r\ntasks.withType&lt;KotlinCompile&gt; {\r\n\tkotlinOptions {\r\n\t\tfreeCompilerArgs = listOf(&quot;-Xjsr305=strict&quot;)\r\n\t\tjvmTarget = &quot;17&quot;\r\n\t}\r\n}\r\n\r\ntasks.withType&lt;Test&gt; {\r\n\tuseJUnitPlatform()\r\n}\r\n```\r\n\r\nI am referencing this medium article: https://medium.com/techwasti/enable-spring-security-using-kotlin-6b9abb36d218\r\n\r\nMy SecurityConfig file is under src/main/kotlin/com.demo.dashboard/config.\r\n\r\n\r\nI tried restarting the IDE, referencing the spring security dependency in different ways in the build.gradle.kts file, and re-initializing the project with the dependency selected from the start, but I have had no luck.","title":"Unresolved reference: WebSecurityConfigurerAdapter with spring-boot-starter-security Gradle/Kotlin","body":"<p>I am new to using Gradle and Kotlin, and I am trying to set up a simple API key authentication for my Spring Boot application. I added spring-boot-starter-security to my build.gradle.kts file, but in my SecurityConfig file, the import for</p>\n<p><code>org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter </code>\nis unresolved. The other security imports are fine. For example,</p>\n<p><code>org.springframework.security.config.annotation.web.builders.HttpSecurity </code>\nworks just fine. I am using Intellij, and I thought maybe it was a caching issue, but it has persisted after invalidating cache, as well.</p>\n<p>Here is my build.gradle.kts file.</p>\n<pre><code>plugins {\n    id(&quot;org.springframework.boot&quot;) version &quot;3.0.6&quot;\n    id(&quot;io.spring.dependency-management&quot;) version &quot;1.1.0&quot;\n    id(&quot;io.freefair.lombok&quot;) version &quot;8.0.1&quot;\n    kotlin(&quot;jvm&quot;) version &quot;1.7.22&quot;\n    kotlin(&quot;plugin.spring&quot;) version &quot;1.7.22&quot;\n}\n\ngroup = &quot;com.demo&quot;\nversion = &quot;0.0.1-SNAPSHOT&quot;\njava.sourceCompatibility = JavaVersion.VERSION_17\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation(&quot;org.springframework.boot:spring-boot-starter-data-jdbc&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-data-mongodb&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\n    implementation(&quot;com.fasterxml.jackson.module:jackson-module-kotlin&quot;)\n    implementation(&quot;org.jetbrains.kotlin:kotlin-reflect&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-security&quot;)\n    developmentOnly(&quot;org.springframework.boot:spring-boot-devtools&quot;)\n    runtimeOnly(&quot;com.h2database:h2&quot;)\n    testImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;)\n    testImplementation(&quot;org.springframework.security:spring-security-test&quot;)\n}\n\ntasks.withType&lt;KotlinCompile&gt; {\n    kotlinOptions {\n        freeCompilerArgs = listOf(&quot;-Xjsr305=strict&quot;)\n        jvmTarget = &quot;17&quot;\n    }\n}\n\ntasks.withType&lt;Test&gt; {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>I am referencing this medium article: <a href=\"https://medium.com/techwasti/enable-spring-security-using-kotlin-6b9abb36d218\" rel=\"nofollow noreferrer\">https://medium.com/techwasti/enable-spring-security-using-kotlin-6b9abb36d218</a></p>\n<p>My SecurityConfig file is under src/main/kotlin/com.demo.dashboard/config.</p>\n<p>I tried restarting the IDE, referencing the spring security dependency in different ways in the build.gradle.kts file, and re-initializing the project with the dependency selected from the start, but I have had no luck.</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":13692434,"reputation":478,"user_id":9879898,"display_name":"sge"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683700182,"creation_date":1683700182,"answer_id":76215470,"question_id":76215325,"body_markdown":"Have a look at https://github.com/spring-projects/spring-framework/issues/27633. \r\nYou might increase the value maxInMemorySize (DefaultPartHttpMessageReader). Spring 6.x has some auto clean up features. ","title":"Springboot multipart temmporary files are not deleted","body":"<p>Have a look at <a href=\"https://github.com/spring-projects/spring-framework/issues/27633\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/issues/27633</a>.\nYou might increase the value maxInMemorySize (DefaultPartHttpMessageReader). Spring 6.x has some auto clean up features.</p>\n"}],"owner":{"account_id":26073691,"reputation":3,"user_id":19772910,"display_name":"John"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76215470,"answer_count":1,"score":0,"last_activity_date":1683700182,"creation_date":1683698825,"question_id":76215325,"body_markdown":"Springboot multipart temmporary files are not deleted. Which Springboot version should be upgraded? Currently I am using 2.7.2\r\n\r\nAutomatically delete the multipart temporary files under /tmp directory","title":"Springboot multipart temmporary files are not deleted","body":"<p>Springboot multipart temmporary files are not deleted. Which Springboot version should be upgraded? Currently I am using 2.7.2</p>\n<p>Automatically delete the multipart temporary files under /tmp directory</p>\n"},{"tags":["java","spring","spring-boot"],"owner":{"account_id":10212020,"reputation":1516,"user_id":10278268,"display_name":"riki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683700029,"creation_date":1683700029,"question_id":76215447,"body_markdown":"Hi the java code below generates me the following error it should return a list of models to iterate in spring boot what is it due to and how can I fix it?\r\n\r\n**Spring Boot Java Code:**\r\n\r\n    if (typeCalcoloSconto.name().equals(&quot;UNICAPERCENTUALE&quot;)) {\r\n                            List&lt;TableReportCapitoloPreventivo&gt; listSottoCapitoliStream = repoSottoCapitolo.loadValoriPreventivoUnicaPercentuale(p.getIdPreventivo());\r\n                            listSottoCapitoliStream.forEach(value -&gt; {\r\n                                System.out.println(&quot;Value value: &quot; + value.Descrizione);\r\n                            });\r\n                        }\r\n    \r\n    public interface SottoCapitoloRepository extends JpaRepository&lt;SottoCapitolo, Integer&gt; {\r\n        @Query(&quot;FROM SottoCapitolo where IdCapitolo=:IdCapitolo&quot;)\r\n        List&lt;SottoCapitolo&gt; load(@Param(&quot;IdCapitolo&quot;) int IdCapitolo);\r\n    \r\n        @Transactional\r\n        @Query(nativeQuery = true, value = &quot;DECLARE @T AS table( Descrizione varchar(5000), NumeroCapitolo varchar(100), SottoCapitolo1 varchar(5000), SottoCapitolo2 varchar(5000), SottoCapitolo3 varchar(5000), Totale money, DescrizioneEstesa varchar(5000), Images Image, CostoUnitario money, Quantita money, DescrizioneDis varchar(5000),Tipologia varchar(300),PrezzoRiservato money,UM varchar(50)); INSERT INTO @T SELECT Capitolo.Descrizione, Capitolo.NumeroCapitolo,SottoCapitolo.SottoCapitolo1,SottoCapitolo.SottoCapitolo2,SottoCapitolo.SottoCapitolo3, (ROUND(((((ROUND((((((((SottoCapitolo.CostoUnitario / 100) * PercentualeSpeseGenerali) + SottoCapitolo.CostoUnitario) / 100) * PercentualeUtile) + (((SottoCapitolo.CostoUnitario / 100) * PercentualeSpeseGenerali) + SottoCapitolo.CostoUnitario)) * 1), 2)) / 100) * PercentualeMargine) + (ROUND((((((((SottoCapitolo.CostoUnitario / 100) * PercentualeSpeseGenerali) + SottoCapitolo.CostoUnitario) / 100) * PercentualeUtile) + (((SottoCapitolo.CostoUnitario / 100) * PercentualeSpeseGenerali) + SottoCapitolo.CostoUnitario)) * 1), 2))), 2)) * SottoCapitolo.Quantita as Totale ,SottoCapitolo.DescrizioneEstesa, SottoCapitolo.Images, ROUND(((((ROUND((((((((SottoCapitolo.CostoUnitario / 100) * PercentualeSpeseGenerali) + SottoCapitolo.CostoUnitario) / 100) * PercentualeUtile) + (((SottoCapitolo.CostoUnitario / 100) * PercentualeSpeseGenerali) + SottoCapitolo.CostoUnitario)) * 1), 2)) / 100) * PercentualeMargine) + (ROUND((((((((SottoCapitolo.CostoUnitario / 100) * PercentualeSpeseGenerali) + SottoCapitolo.CostoUnitario) / 100) * PercentualeUtile) + (((SottoCapitolo.CostoUnitario / 100) * PercentualeSpeseGenerali) + SottoCapitolo.CostoUnitario)) * 1), 2))), 2) as CostoUnitario,SottoCapitolo.Quantita  , CASE when Tipologia=&#39;Prezzo&#39; then SottoCapitolo.Descrizione else &#39;&#39;+SottoCapitolo.Codice+ &#39;     &#39; +SottoCapitolo.Descrizione end as DescrizioneDis,Capitolo.Tipologia,Capitolo.PrezzoRiservato,SottoCapitolo.UnitaMisura as UM FROM Capitolo INNER JOIN SottoCapitolo ON SottoCapitolo.IdCapitolo = Capitolo.IdCapitolo  INNER JOIN Preventivo ON Preventivo.IdPreventivo = Capitolo.IdPreventivo  where Preventivo.IdPreventivo =:IdPreventivo ;SELECT CASE WHEN ROW_NUMBER() OVER(PARTITION BY a.Descrizione ORDER BY a.Descrizione) = 1 THEN a.Descrizione ELSE &#39;&#39; END AS Descrizione, Descrizione as Desc2,a.NumeroCapitolo, a.SottoCapitolo1, a.SottoCapitolo2, a.SottoCapitolo3, a.DescrizioneDis, a.CostoUnitario, a.Quantita, a.Totale AS TotaleCap, a.DescrizioneEstesa, a.Images,a.Tipologia,a.PrezzoRiservato,a.UM FROM(SELECT 1 AS d, ROW_NUMBER() OVER(PARTITION BY Descrizione ORDER BY Descrizione) AS r, Descrizione, NumeroCapitolo, SottoCapitolo1, SottoCapitolo2, SottoCapitolo3, Totale, DescrizioneDis, Images, CostoUnitario, Quantita, DescrizioneEstesa,Tipologia,PrezzoRiservato,UM FROM @T  UNION ALL SELECT 2, 0, Descrizione, NumeroCapitolo, &#39;&#39;, &#39;&#39;, &#39;&#39;, SUM(Totale), &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;,&#39;&#39;,Tipologia,PrezzoRiservato,&#39;&#39; FROM @T GROUP BY Descrizione,Tipologia,PrezzoRiservato,NumeroCapitolo) AS a ORDER BY a.Descrizione, a.d &quot;)\r\n        List&lt;TableReportCapitoloPreventivo&gt;loadValoriPreventivoUnicaPercentuale(@Param(&quot;IdPreventivo&quot;) int IdPreventivo);\r\n    }\r\n\r\n**Error:**\r\n\r\n        Hibernate: DECLARE @T AS table( Descrizione varchar(5000), NumeroCapitolo varchar(100), SottoCapitolo1 varchar(5000), SottoCapitolo2 varchar(5000), SottoCapitolo3 varchar(5000), Totale money, DescrizioneEstesa varchar(5000), Images Image, CostoUnitario money, Quantita money, DescrizioneDis varchar(5000),Tipologia varchar(300),PrezzoRiservato money,UM varchar(50)); INSERT INTO @T SELECT Capitolo.Descrizione, Capitolo.NumeroCapitolo,SottoCapitolo.SottoCapitolo1,SottoCapitolo.SottoCapitolo2,SottoCapitolo.SottoCapitolo3, (ROUND(((((ROUND((((((((SottoCapitolo.CostoUnitario / 100) * PercentualeSpeseGenerali) + SottoCapitolo.CostoUnitario) / 100) * PercentualeUtile) + (((SottoCapitolo.CostoUnitario / 100) * PercentualeSpeseGenerali) + SottoCapitolo.CostoUnitario)) * 1), 2)) / 100) * PercentualeMargine) + (ROUND((((((((SottoCapitolo.CostoUnitario / 100) * PercentualeSpeseGenerali) + SottoCapitolo.CostoUnitario) / 100) * PercentualeUtile) + (((SottoCapitolo.CostoUnitario / 100) * PercentualeSpeseGenerali) + SottoCapitolo.CostoUnitario)) * 1), 2))), 2)) * SottoCapitolo.Quantita as Totale ,SottoCapitolo.DescrizioneEstesa, SottoCapitolo.Images, ROUND(((((ROUND((((((((SottoCapitolo.CostoUnitario / 100) * PercentualeSpeseGenerali) + SottoCapitolo.CostoUnitario) / 100) * PercentualeUtile) + (((SottoCapitolo.CostoUnitario / 100) * PercentualeSpeseGenerali) + SottoCapitolo.CostoUnitario)) * 1), 2)) / 100) * PercentualeMargine) + (ROUND((((((((SottoCapitolo.CostoUnitario / 100) * PercentualeSpeseGenerali) + SottoCapitolo.CostoUnitario) / 100) * PercentualeUtile) + (((SottoCapitolo.CostoUnitario / 100) * PercentualeSpeseGenerali) + SottoCapitolo.CostoUnitario)) * 1), 2))), 2) as CostoUnitario,SottoCapitolo.Quantita  , CASE when Tipologia=&#39;Prezzo&#39; then SottoCapitolo.Descrizione else &#39;&#39;+SottoCapitolo.Codice+ &#39;     &#39; +SottoCapitolo.Descrizione end as DescrizioneDis,Capitolo.Tipologia,Capitolo.PrezzoRiservato,SottoCapitolo.UnitaMisura as UM FROM Capitolo INNER JOIN SottoCapitolo ON SottoCapitolo.IdCapitolo = Capitolo.IdCapitolo  INNER JOIN Preventivo ON Preventivo.IdPreventivo = Capitolo.IdPreventivo  where Preventivo.IdPreventivo =? ;SELECT CASE WHEN ROW_NUMBER() OVER(PARTITION BY a.Descrizione ORDER BY a.Descrizione) = 1 THEN a.Descrizione ELSE &#39;&#39; END AS Descrizione, Descrizione as Desc2,a.NumeroCapitolo, a.SottoCapitolo1, a.SottoCapitolo2, a.SottoCapitolo3, a.DescrizioneDis, a.CostoUnitario, a.Quantita, a.Totale AS TotaleCap, a.DescrizioneEstesa, a.Images,a.Tipologia,a.PrezzoRiservato,a.UM FROM(SELECT 1 AS d, ROW_NUMBER() OVER(PARTITION BY Descrizione ORDER BY Descrizione) AS r, Descrizione, NumeroCapitolo, SottoCapitolo1, SottoCapitolo2, SottoCapitolo3, Totale, DescrizioneDis, Images, CostoUnitario, Quantita, DescrizioneEstesa,Tipologia,PrezzoRiservato,UM FROM @T  UNION ALL SELECT 2, 0, Descrizione, NumeroCapitolo, &#39;&#39;, &#39;&#39;, &#39;&#39;, SUM(Totale), &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;,&#39;&#39;,Tipologia,PrezzoRiservato,&#39;&#39; FROM @T GROUP BY \r\n    Descrizione,Tipologia,PrezzoRiservato,NumeroCapitolo) AS a ORDER BY a.Descrizione, a.d \r\n        Errore durante la stampa del preventivo: org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.Object[]] to type \r\n    \r\n    [com.reportserver.report.model.TableReportCapitoloPreventivo] for value &#39;{oppala, oppala, 2, , , , Radio chiave programmabile a 4 canali ARC20 Bentel, 55.0600, 2.0000, 110.1200, Fornitura e programmazione di radio chiave bentel mod. arc20 a 4 canali programmabili indipendenti per sistemi vector rx ., [B@69703345, Prezzo, 0.0000, NR}&#39;; nested exception is org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [java.lang.String] to type [com.reportserver.report.model.TableReportCapitoloPreventivo]\r\n        2023-05-10 08:14:16.875 ERROR 70424 --- [nio-8081-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause\r\n\r\n","title":"Failed to convert from type [java.lang.Object[]] to type [com.reportserver.report.model.TableReportCapitoloPreventivo]","body":"<p>Hi the java code below generates me the following error it should return a list of models to iterate in spring boot what is it due to and how can I fix it?</p>\n<p><strong>Spring Boot Java Code:</strong></p>\n<pre><code>if (typeCalcoloSconto.name().equals(&quot;UNICAPERCENTUALE&quot;)) {\n                        List&lt;TableReportCapitoloPreventivo&gt; listSottoCapitoliStream = repoSottoCapitolo.loadValoriPreventivoUnicaPercentuale(p.getIdPreventivo());\n                        listSottoCapitoliStream.forEach(value -&gt; {\n                            System.out.println(&quot;Value value: &quot; + value.Descrizione);\n                        });\n                    }\n\npublic interface SottoCapitoloRepository extends JpaRepository&lt;SottoCapitolo, Integer&gt; {\n    @Query(&quot;FROM SottoCapitolo where IdCapitolo=:IdCapitolo&quot;)\n    List&lt;SottoCapitolo&gt; load(@Param(&quot;IdCapitolo&quot;) int IdCapitolo);\n\n    @Transactional\n    @Query(nativeQuery = true, value = &quot;DECLARE @T AS table( Descrizione varchar(5000), NumeroCapitolo varchar(100), SottoCapitolo1 varchar(5000), SottoCapitolo2 varchar(5000), SottoCapitolo3 varchar(5000), Totale money, DescrizioneEstesa varchar(5000), Images Image, CostoUnitario money, Quantita money, DescrizioneDis varchar(5000),Tipologia varchar(300),PrezzoRiservato money,UM varchar(50)); INSERT INTO @T SELECT Capitolo.Descrizione, Capitolo.NumeroCapitolo,SottoCapitolo.SottoCapitolo1,SottoCapitolo.SottoCapitolo2,SottoCapitolo.SottoCapitolo3, (ROUND(((((ROUND((((((((SottoCapitolo.CostoUnitario / 100) * PercentualeSpeseGenerali) + SottoCapitolo.CostoUnitario) / 100) * PercentualeUtile) + (((SottoCapitolo.CostoUnitario / 100) * PercentualeSpeseGenerali) + SottoCapitolo.CostoUnitario)) * 1), 2)) / 100) * PercentualeMargine) + (ROUND((((((((SottoCapitolo.CostoUnitario / 100) * PercentualeSpeseGenerali) + SottoCapitolo.CostoUnitario) / 100) * PercentualeUtile) + (((SottoCapitolo.CostoUnitario / 100) * PercentualeSpeseGenerali) + SottoCapitolo.CostoUnitario)) * 1), 2))), 2)) * SottoCapitolo.Quantita as Totale ,SottoCapitolo.DescrizioneEstesa, SottoCapitolo.Images, ROUND(((((ROUND((((((((SottoCapitolo.CostoUnitario / 100) * PercentualeSpeseGenerali) + SottoCapitolo.CostoUnitario) / 100) * PercentualeUtile) + (((SottoCapitolo.CostoUnitario / 100) * PercentualeSpeseGenerali) + SottoCapitolo.CostoUnitario)) * 1), 2)) / 100) * PercentualeMargine) + (ROUND((((((((SottoCapitolo.CostoUnitario / 100) * PercentualeSpeseGenerali) + SottoCapitolo.CostoUnitario) / 100) * PercentualeUtile) + (((SottoCapitolo.CostoUnitario / 100) * PercentualeSpeseGenerali) + SottoCapitolo.CostoUnitario)) * 1), 2))), 2) as CostoUnitario,SottoCapitolo.Quantita  , CASE when Tipologia='Prezzo' then SottoCapitolo.Descrizione else ''+SottoCapitolo.Codice+ '     ' +SottoCapitolo.Descrizione end as DescrizioneDis,Capitolo.Tipologia,Capitolo.PrezzoRiservato,SottoCapitolo.UnitaMisura as UM FROM Capitolo INNER JOIN SottoCapitolo ON SottoCapitolo.IdCapitolo = Capitolo.IdCapitolo  INNER JOIN Preventivo ON Preventivo.IdPreventivo = Capitolo.IdPreventivo  where Preventivo.IdPreventivo =:IdPreventivo ;SELECT CASE WHEN ROW_NUMBER() OVER(PARTITION BY a.Descrizione ORDER BY a.Descrizione) = 1 THEN a.Descrizione ELSE '' END AS Descrizione, Descrizione as Desc2,a.NumeroCapitolo, a.SottoCapitolo1, a.SottoCapitolo2, a.SottoCapitolo3, a.DescrizioneDis, a.CostoUnitario, a.Quantita, a.Totale AS TotaleCap, a.DescrizioneEstesa, a.Images,a.Tipologia,a.PrezzoRiservato,a.UM FROM(SELECT 1 AS d, ROW_NUMBER() OVER(PARTITION BY Descrizione ORDER BY Descrizione) AS r, Descrizione, NumeroCapitolo, SottoCapitolo1, SottoCapitolo2, SottoCapitolo3, Totale, DescrizioneDis, Images, CostoUnitario, Quantita, DescrizioneEstesa,Tipologia,PrezzoRiservato,UM FROM @T  UNION ALL SELECT 2, 0, Descrizione, NumeroCapitolo, '', '', '', SUM(Totale), '', '', '', '','',Tipologia,PrezzoRiservato,'' FROM @T GROUP BY Descrizione,Tipologia,PrezzoRiservato,NumeroCapitolo) AS a ORDER BY a.Descrizione, a.d &quot;)\n    List&lt;TableReportCapitoloPreventivo&gt;loadValoriPreventivoUnicaPercentuale(@Param(&quot;IdPreventivo&quot;) int IdPreventivo);\n}\n</code></pre>\n<p><strong>Error:</strong></p>\n<pre><code>    Hibernate: DECLARE @T AS table( Descrizione varchar(5000), NumeroCapitolo varchar(100), SottoCapitolo1 varchar(5000), SottoCapitolo2 varchar(5000), SottoCapitolo3 varchar(5000), Totale money, DescrizioneEstesa varchar(5000), Images Image, CostoUnitario money, Quantita money, DescrizioneDis varchar(5000),Tipologia varchar(300),PrezzoRiservato money,UM varchar(50)); INSERT INTO @T SELECT Capitolo.Descrizione, Capitolo.NumeroCapitolo,SottoCapitolo.SottoCapitolo1,SottoCapitolo.SottoCapitolo2,SottoCapitolo.SottoCapitolo3, (ROUND(((((ROUND((((((((SottoCapitolo.CostoUnitario / 100) * PercentualeSpeseGenerali) + SottoCapitolo.CostoUnitario) / 100) * PercentualeUtile) + (((SottoCapitolo.CostoUnitario / 100) * PercentualeSpeseGenerali) + SottoCapitolo.CostoUnitario)) * 1), 2)) / 100) * PercentualeMargine) + (ROUND((((((((SottoCapitolo.CostoUnitario / 100) * PercentualeSpeseGenerali) + SottoCapitolo.CostoUnitario) / 100) * PercentualeUtile) + (((SottoCapitolo.CostoUnitario / 100) * PercentualeSpeseGenerali) + SottoCapitolo.CostoUnitario)) * 1), 2))), 2)) * SottoCapitolo.Quantita as Totale ,SottoCapitolo.DescrizioneEstesa, SottoCapitolo.Images, ROUND(((((ROUND((((((((SottoCapitolo.CostoUnitario / 100) * PercentualeSpeseGenerali) + SottoCapitolo.CostoUnitario) / 100) * PercentualeUtile) + (((SottoCapitolo.CostoUnitario / 100) * PercentualeSpeseGenerali) + SottoCapitolo.CostoUnitario)) * 1), 2)) / 100) * PercentualeMargine) + (ROUND((((((((SottoCapitolo.CostoUnitario / 100) * PercentualeSpeseGenerali) + SottoCapitolo.CostoUnitario) / 100) * PercentualeUtile) + (((SottoCapitolo.CostoUnitario / 100) * PercentualeSpeseGenerali) + SottoCapitolo.CostoUnitario)) * 1), 2))), 2) as CostoUnitario,SottoCapitolo.Quantita  , CASE when Tipologia='Prezzo' then SottoCapitolo.Descrizione else ''+SottoCapitolo.Codice+ '     ' +SottoCapitolo.Descrizione end as DescrizioneDis,Capitolo.Tipologia,Capitolo.PrezzoRiservato,SottoCapitolo.UnitaMisura as UM FROM Capitolo INNER JOIN SottoCapitolo ON SottoCapitolo.IdCapitolo = Capitolo.IdCapitolo  INNER JOIN Preventivo ON Preventivo.IdPreventivo = Capitolo.IdPreventivo  where Preventivo.IdPreventivo =? ;SELECT CASE WHEN ROW_NUMBER() OVER(PARTITION BY a.Descrizione ORDER BY a.Descrizione) = 1 THEN a.Descrizione ELSE '' END AS Descrizione, Descrizione as Desc2,a.NumeroCapitolo, a.SottoCapitolo1, a.SottoCapitolo2, a.SottoCapitolo3, a.DescrizioneDis, a.CostoUnitario, a.Quantita, a.Totale AS TotaleCap, a.DescrizioneEstesa, a.Images,a.Tipologia,a.PrezzoRiservato,a.UM FROM(SELECT 1 AS d, ROW_NUMBER() OVER(PARTITION BY Descrizione ORDER BY Descrizione) AS r, Descrizione, NumeroCapitolo, SottoCapitolo1, SottoCapitolo2, SottoCapitolo3, Totale, DescrizioneDis, Images, CostoUnitario, Quantita, DescrizioneEstesa,Tipologia,PrezzoRiservato,UM FROM @T  UNION ALL SELECT 2, 0, Descrizione, NumeroCapitolo, '', '', '', SUM(Totale), '', '', '', '','',Tipologia,PrezzoRiservato,'' FROM @T GROUP BY \nDescrizione,Tipologia,PrezzoRiservato,NumeroCapitolo) AS a ORDER BY a.Descrizione, a.d \n    Errore durante la stampa del preventivo: org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.Object[]] to type \n\n[com.reportserver.report.model.TableReportCapitoloPreventivo] for value '{oppala, oppala, 2, , , , Radio chiave programmabile a 4 canali ARC20 Bentel, 55.0600, 2.0000, 110.1200, Fornitura e programmazione di radio chiave bentel mod. arc20 a 4 canali programmabili indipendenti per sistemi vector rx ., [B@69703345, Prezzo, 0.0000, NR}'; nested exception is org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [java.lang.String] to type [com.reportserver.report.model.TableReportCapitoloPreventivo]\n    2023-05-10 08:14:16.875 ERROR 70424 --- [nio-8081-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data"],"comments":[{"owner":{"account_id":7406747,"reputation":416,"user_id":5635476,"display_name":"levangode"},"score":0,"creation_date":1683643432,"post_id":76210461,"comment_id":134396107,"body_markdown":"Try @EnableJpaRepositories(basePackages = &quot;app.repository.*&quot;)","body":"Try @EnableJpaRepositories(basePackages = &quot;app.repository.*&quot;)"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1683643575,"post_id":76210461,"comment_id":134396156,"body_markdown":"Your repository must extend JpaRepository (not CrudRepository) to be auto-configured as such.","body":"Your repository must extend JpaRepository (not CrudRepository) to be auto-configured as such."},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1683645360,"post_id":76210461,"comment_id":134396625,"body_markdown":"Your dependencies could cause the issues with auto-configuration of Spring Boot Data JPA. I recommend to use the gradle file configured with https://start.spring.io/","body":"Your dependencies could cause the issues with auto-configuration of Spring Boot Data JPA. I recommend to use the gradle file configured with <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">start.spring.io</a>"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1683699394,"post_id":76210461,"comment_id":134404576,"body_markdown":"Remove `spring-context`, the `org.springframework.data` dependencies and `jakarta.persistenc-api` one. add `spring-boot-starter-data-jpa` instead. Also remove your `AppConfig` that breaks (parts of) the auto configuration of Spring Boot.","body":"Remove <code>spring-context</code>, the <code>org.springframework.data</code> dependencies and <code>jakarta.persistenc-api</code> one. add <code>spring-boot-starter-data-jpa</code> instead. Also remove your <code>AppConfig</code> that breaks (parts of) the auto configuration of Spring Boot."}],"answers":[{"comments":[{"owner":{"account_id":14048313,"reputation":53,"user_id":15305488,"display_name":"PrintScreenSys"},"score":0,"creation_date":1683643991,"post_id":76210617,"comment_id":134396277,"body_markdown":"Added annotation, @EnableJpaReposotories(basePackages = &quot;app.repository&quot;), changed CrudRepository to JpaRepository. Now I get similar error but now there is required a bean named &#39;entityManagerFactory&#39; that could not be found","body":"Added annotation, @EnableJpaReposotories(basePackages = &quot;app.repository&quot;), changed CrudRepository to JpaRepository. Now I get similar error but now there is required a bean named &#39;entityManagerFactory&#39; that could not be found"},{"owner":{"account_id":8362258,"reputation":1639,"user_id":6280135,"display_name":"Maninder"},"score":0,"creation_date":1683644144,"post_id":76210617,"comment_id":134396318,"body_markdown":"@Bean(name=&quot;entityManagerFactory&quot;)\npublic LocalSessionFactoryBean sessionFactory() {\n    LocalSessionFactoryBean sessionFactory = new LocalSessionFactoryBean();\n\n    return sessionFactory;\n} \n\nTry to add this in config class. If you don&#39;t have any configuration class, create a class and annotate it with @Configuration class and add this method.","body":"@Bean(name=&quot;entityManagerFactory&quot;) public LocalSessionFactoryBean sessionFactory() {     LocalSessionFactoryBean sessionFactory = new LocalSessionFactoryBean();      return sessionFactory; }   Try to add this in config class. If you don&#39;t have any configuration class, create a class and annotate it with @Configuration class and add this method."},{"owner":{"account_id":14048313,"reputation":53,"user_id":15305488,"display_name":"PrintScreenSys"},"score":0,"creation_date":1683644407,"post_id":76210617,"comment_id":134396387,"body_markdown":"Now I am getting java.lang.TypeNotPresentException: Type org.hibernate.SessionFactory not present. Should I add any depedency to build.gradle?","body":"Now I am getting java.lang.TypeNotPresentException: Type org.hibernate.SessionFactory not present. Should I add any depedency to build.gradle?"},{"owner":{"account_id":8362258,"reputation":1639,"user_id":6280135,"display_name":"Maninder"},"score":0,"creation_date":1683644452,"post_id":76210617,"comment_id":134396402,"body_markdown":"do you have repo, if yes share the link please. I can check","body":"do you have repo, if yes share the link please. I can check"},{"owner":{"account_id":14048313,"reputation":53,"user_id":15305488,"display_name":"PrintScreenSys"},"score":0,"creation_date":1683644473,"post_id":76210617,"comment_id":134396404,"body_markdown":"no, i don&#39;t have","body":"no, i don&#39;t have"},{"owner":{"account_id":8362258,"reputation":1639,"user_id":6280135,"display_name":"Maninder"},"score":0,"creation_date":1683644503,"post_id":76210617,"comment_id":134396409,"body_markdown":"dependencies {\n    // other dependencies ...\n    implementation &#39;org.hibernate:hibernate-core:5.5.7.Final&#39;\n}\n\ntry to add this","body":"dependencies {     // other dependencies ...     implementation &#39;org.hibernate:hibernate-core:5.5.7.Final&#39; }  try to add this"},{"owner":{"account_id":8362258,"reputation":1639,"user_id":6280135,"display_name":"Maninder"},"score":0,"creation_date":1683645308,"post_id":76210617,"comment_id":134396608,"body_markdown":"Did it, fix your issue? if yes, please accept this answer.","body":"Did it, fix your issue? if yes, please accept this answer."},{"owner":{"account_id":14048313,"reputation":53,"user_id":15305488,"display_name":"PrintScreenSys"},"score":0,"creation_date":1683646172,"post_id":76210617,"comment_id":134396865,"body_markdown":"No, didn&#39;t resolved yet. Now I am getting this error\nUnsatisfiedDependencyException: Error creating bean with name &#39;orderService&#39;: Unsatisfied dependency expressed through field &#39;orderRepository&#39;: Error creating bean with name &#39;orderRepository&#39; defined in app.repository.OrderRepository defined in @EnableJpaRepositories declared on Application: Cannot resolve reference to bean &#39;jpaSharedEM_entityManagerFactory&#39; while setting bean property &#39;entityManager&#39;","body":"No, didn&#39;t resolved yet. Now I am getting this error UnsatisfiedDependencyException: Error creating bean with name &#39;orderService&#39;: Unsatisfied dependency expressed through field &#39;orderRepository&#39;: Error creating bean with name &#39;orderRepository&#39; defined in app.repository.OrderRepository defined in @EnableJpaRepositories declared on Application: Cannot resolve reference to bean &#39;jpaSharedEM_entityManagerFactory&#39; while setting bean property &#39;entityManager&#39;"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1683699353,"post_id":76210617,"comment_id":134404567,"body_markdown":"`@Repository` on an spring data repository is useless.","body":"<code>@Repository</code> on an spring data repository is useless."}],"tags":[],"owner":{"account_id":8362258,"reputation":1639,"user_id":6280135,"display_name":"Maninder"},"comment_count":9,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1683643751,"creation_date":1683643751,"answer_id":76210617,"question_id":76210461,"body_markdown":"@Repository annotation is missing.\r\n\r\n\r\n    @Repository\r\n    public interface OrderRepository extends CrudRepository&lt;Order, UUID&gt; {\r\n    }","title":"Field orderRepository in app.service.OrderService required a bean named &#39;entityManagerFactory&#39; that could not be found","body":"<p>@Repository annotation is missing.</p>\n<pre><code>@Repository\npublic interface OrderRepository extends CrudRepository&lt;Order, UUID&gt; {\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683699811,"creation_date":1683699811,"answer_id":76215423,"question_id":76210461,"body_markdown":"1. Your dependencies are too verbose, use `spring-boot-sarter-data-jpa` instead of the individual dependencies.\r\n2. Remove `AppConfig` as that breaks (partially) the Spring Boot auto configuration, or at least the `LocalSessionFactoryBean`. \r\n3. The `@Repository` on the Spring Data repository doesn&#39;t add anything but noise and clutter\r\n4. You don&#39;t need `@EnableJpaRepositories` assuming your `@SpringBootApplication` annotated class is in a top level package. \r\n\r\n```gradle\r\ndependencies {\r\n  implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n  implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n  implementation &#39;org.projectlombok:lombok:1.18.26&#39;\r\n  runtimeOnly &#39;org.postgresql:postgresql&#39;\r\n  testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n}\r\n```\r\n\r\n```java\r\n@Configuration\r\npublic class AppConfig {\r\n  // Removed LocalSessionFactoryBean\r\n}\r\n```\r\n\r\n```java\r\npackage app;\r\n\r\n@SpringBootApplication\r\npublic class Application {\r\n  public static void main(String[] args) {\r\n    SpringApplication.run(Application.class, args);\r\n  }\r\n}\r\n```\r\n\r\n```java\r\npublic interface OrderRepository extends JpaRepository&lt;Order, UUID&gt; {}\r\n```\r\n\r\n**PRO-TIP**: Use constructors for dependency injection instead of fields. \r\n\r\n```java\r\n@Service\r\nclass OrderService implements IOrderService {\r\n\r\n  private final OrderRepository orderRepository;\r\n    \r\n  OrderService(OrderRepository orderRepository) {\r\n    this.orderRepository=orderRepository;\r\n  }\r\n  // Rest of methods omitted\r\n}\r\n```\r\n\r\nOfcourse you can do the same for your controllers. \r\n","title":"Field orderRepository in app.service.OrderService required a bean named &#39;entityManagerFactory&#39; that could not be found","body":"<ol>\n<li>Your dependencies are too verbose, use <code>spring-boot-sarter-data-jpa</code> instead of the individual dependencies.</li>\n<li>Remove <code>AppConfig</code> as that breaks (partially) the Spring Boot auto configuration, or at least the <code>LocalSessionFactoryBean</code>.</li>\n<li>The <code>@Repository</code> on the Spring Data repository doesn't add anything but noise and clutter</li>\n<li>You don't need <code>@EnableJpaRepositories</code> assuming your <code>@SpringBootApplication</code> annotated class is in a top level package.</li>\n</ol>\n<pre><code>dependencies {\n  implementation 'org.springframework.boot:spring-boot-starter-web'\n  implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n  implementation 'org.projectlombok:lombok:1.18.26'\n  runtimeOnly 'org.postgresql:postgresql'\n  testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class AppConfig {\n  // Removed LocalSessionFactoryBean\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package app;\n\n@SpringBootApplication\npublic class Application {\n  public static void main(String[] args) {\n    SpringApplication.run(Application.class, args);\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public interface OrderRepository extends JpaRepository&lt;Order, UUID&gt; {}\n</code></pre>\n<p><strong>PRO-TIP</strong>: Use constructors for dependency injection instead of fields.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\nclass OrderService implements IOrderService {\n\n  private final OrderRepository orderRepository;\n    \n  OrderService(OrderRepository orderRepository) {\n    this.orderRepository=orderRepository;\n  }\n  // Rest of methods omitted\n}\n</code></pre>\n<p>Ofcourse you can do the same for your controllers.</p>\n"}],"owner":{"account_id":14048313,"reputation":53,"user_id":15305488,"display_name":"PrintScreenSys"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76215423,"answer_count":2,"score":1,"last_activity_date":1683699811,"creation_date":1683642822,"question_id":76210461,"body_markdown":"I am trying to create REST API Service with Spring. I have following structure and classes\r\n```\r\napp\\\r\n controller\\\r\n&#160;&#160;  OrderController.java\\\r\n dto\\\r\n&#160;&#160;  OrderDto.java\\\r\n model\\\r\n&#160;&#160;  Order.java\\\r\n repository\\\r\n&#160;&#160;  OrderRepository.java\\\r\n service\\\r\n&#160;&#160;  IOrderService.java\\\r\n&#160;&#160;  OrderService.java\\\r\n Application.java\r\n```\r\n\r\nOrder.java\r\n```\r\n\r\n    @Entity @Table(name = &quot;order&quot;)\r\n    @JsonAutoDetect(fieldVisibility = JsonAutoDetect.Visibility.ANY)\r\n    public class Order {\r\n    //getters, setters, constructors\r\n\r\n```\r\n\r\nOrderController.java\r\n```\r\n\r\n    @RestController\r\n    public class OrderController {\r\n        @Autowired\r\n        private IOrderService orderService;\r\n    //some code\r\n\r\n```\r\n\r\nIOrderService.java\r\n```\r\n\r\n    public interface IOrderService {\r\n        List&lt;Order&gt; findAll();\r\n    }\r\n\r\n```\r\n\r\nOrderService.java\r\n```\r\n\r\n    @Service\r\n    public class OrderService implements IOrderService {\r\n        @Autowired\r\n        private OrderRepository orderRepository;\r\n    \r\n        @Override\r\n        public List&lt;Order&gt; findAll() {\r\n            return (List&lt;Order&gt;) orderRepository.findAll();\r\n        }\r\n\r\n```\r\n\r\nOrderRepository.java\r\n```\r\n    @Repository\r\n    public interface OrderRepository extends JpaRepository&lt;Order, UUID&gt; {\r\n    }\r\n\r\n```\r\nApplication.java\r\n```\r\n\r\n    @SpringBootApplication\r\n    @EnableJpaReposotories(basePackages = &quot;app.repository&quot;)\r\n    public class Application {\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(Application.class, args);\r\n        }\r\n    }\r\n\r\n```\r\n\r\nAppConfig.java\r\n```\r\n\r\n    @Configuration\r\n    public class AppConfig {\r\n        @Bean(name=&quot;entityManagerFactory&quot;)\r\n        public LocalSessionFactoryBean sessionFactory() {\r\n            LocalSessionFactoryBean sessionFactory = new LocalSessionFactoryBean();\r\n            return sessionFactory;\r\n        }\r\n    }\r\n\r\n```\r\napplication.properties\r\n```\r\n\r\n    spring.datasource.driver-class-name=org.postgresql.Driver\r\n    spring.datasource.url=jdbc:postgresql://localhost:8080/postgres\r\n    spring.datasource.username=postgres\r\n    spring.datasource.password=postgres\r\n\r\n```\r\n\r\nbuild.gradle\r\n```\r\n\r\n    dependencies {\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n        implementation &#39;org.projectlombok:lombok:1.18.26&#39;\r\n        implementation &#39;org.springframework.data:spring-data-commons:3.0.3&#39;\r\n        implementation &#39;org.springframework.data:spring-data-jpa:3.0.3&#39;\r\n        implementation &#39;jakarta.persistence:jakarta.persistence-api:3.1.0&#39;\r\n        implementation &#39;org.springframework:spring-context:6.0.6&#39;\r\n        runtimeOnly &#39;org.postgresql:postgresql&#39;\r\n        testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    }\r\n\r\n```\r\nIt seems repository isn&#39;t visible for service. I&#39;ve tried to add some annotations to Application class (such as @EnableJpaRepositories(base_packages = {&quot;app.repository&quot;})), but there similar error. \r\nHow can I handle this?\r\nUPD - Now the message is **Field orderRepository in app.service.OrderService required a bean named &#39;entityManagerFactory&#39; that could not be found**","title":"Field orderRepository in app.service.OrderService required a bean named &#39;entityManagerFactory&#39; that could not be found","body":"<p>I am trying to create REST API Service with Spring. I have following structure and classes</p>\n<pre><code>app\\\n controller\\\n  OrderController.java\\\n dto\\\n  OrderDto.java\\\n model\\\n  Order.java\\\n repository\\\n  OrderRepository.java\\\n service\\\n  IOrderService.java\\\n  OrderService.java\\\n Application.java\n</code></pre>\n<p>Order.java</p>\n<pre><code>\n    @Entity @Table(name = &quot;order&quot;)\n    @JsonAutoDetect(fieldVisibility = JsonAutoDetect.Visibility.ANY)\n    public class Order {\n    //getters, setters, constructors\n\n</code></pre>\n<p>OrderController.java</p>\n<pre><code>\n    @RestController\n    public class OrderController {\n        @Autowired\n        private IOrderService orderService;\n    //some code\n\n</code></pre>\n<p>IOrderService.java</p>\n<pre><code>\n    public interface IOrderService {\n        List&lt;Order&gt; findAll();\n    }\n\n</code></pre>\n<p>OrderService.java</p>\n<pre><code>\n    @Service\n    public class OrderService implements IOrderService {\n        @Autowired\n        private OrderRepository orderRepository;\n    \n        @Override\n        public List&lt;Order&gt; findAll() {\n            return (List&lt;Order&gt;) orderRepository.findAll();\n        }\n\n</code></pre>\n<p>OrderRepository.java</p>\n<pre><code>    @Repository\n    public interface OrderRepository extends JpaRepository&lt;Order, UUID&gt; {\n    }\n\n</code></pre>\n<p>Application.java</p>\n<pre><code>\n    @SpringBootApplication\n    @EnableJpaReposotories(basePackages = &quot;app.repository&quot;)\n    public class Application {\n        public static void main(String[] args) {\n            SpringApplication.run(Application.class, args);\n        }\n    }\n\n</code></pre>\n<p>AppConfig.java</p>\n<pre><code>\n    @Configuration\n    public class AppConfig {\n        @Bean(name=&quot;entityManagerFactory&quot;)\n        public LocalSessionFactoryBean sessionFactory() {\n            LocalSessionFactoryBean sessionFactory = new LocalSessionFactoryBean();\n            return sessionFactory;\n        }\n    }\n\n</code></pre>\n<p>application.properties</p>\n<pre><code>\n    spring.datasource.driver-class-name=org.postgresql.Driver\n    spring.datasource.url=jdbc:postgresql://localhost:8080/postgres\n    spring.datasource.username=postgres\n    spring.datasource.password=postgres\n\n</code></pre>\n<p>build.gradle</p>\n<pre><code>\n    dependencies {\n        implementation 'org.springframework.boot:spring-boot-starter-web'\n        implementation 'org.projectlombok:lombok:1.18.26'\n        implementation 'org.springframework.data:spring-data-commons:3.0.3'\n        implementation 'org.springframework.data:spring-data-jpa:3.0.3'\n        implementation 'jakarta.persistence:jakarta.persistence-api:3.1.0'\n        implementation 'org.springframework:spring-context:6.0.6'\n        runtimeOnly 'org.postgresql:postgresql'\n        testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    }\n\n</code></pre>\n<p>It seems repository isn't visible for service. I've tried to add some annotations to Application class (such as @EnableJpaRepositories(base_packages = {&quot;app.repository&quot;})), but there similar error.\nHow can I handle this?\nUPD - Now the message is <strong>Field orderRepository in app.service.OrderService required a bean named 'entityManagerFactory' that could not be found</strong></p>\n"},{"tags":["java","jmx","activemq-artemis"],"comments":[{"owner":{"account_id":9398418,"reputation":1845,"user_id":6982270,"display_name":"Domenico Francesco Bruscino"},"score":0,"creation_date":1683639769,"post_id":76207363,"comment_id":134395143,"body_markdown":"Can you try passing the same username and password to the ActiveMQQueueConnectionFactory too?\n\n`QueueConnectionFactory cf = new ActiveMQQueueConnectionFactory(brokerUrl, user, password);\n`","body":"Can you try passing the same username and password to the ActiveMQQueueConnectionFactory too?  <code>QueueConnectionFactory cf = new ActiveMQQueueConnectionFactory(brokerUrl, user, password); </code>"}],"answers":[{"comments":[{"owner":{"account_id":28555640,"reputation":55,"user_id":21859885,"display_name":"DarkSoul"},"score":0,"creation_date":1683650969,"post_id":76210151,"comment_id":134398038,"body_markdown":"if i delete the JMS connection then how do i pass the String brokerUrl parameter to JMXConnectorFactory.connect()?","body":"if i delete the JMS connection then how do i pass the String brokerUrl parameter to JMXConnectorFactory.connect()?"},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1683652309,"post_id":76210151,"comment_id":134398354,"body_markdown":"Why would you need to pass `brokerUrl` to `JMXConnectorFactory.connect()`? The `brokerUrl` is for the **JMS** connection, not the JMX connection. The URL for ActiveMQ Artemis&#39; core JMS client looks something like `tcp://host:61616`. The URL for a JMX connection looks something like `service:jmx:rmi:///jndi/rmi://host:1099/jmxrmi`. JMX and JMS are 100% independent. There is no overlap in their protocols and implementations although they can be _used_ alongside each other in certain use-cases.","body":"Why would you need to pass <code>brokerUrl</code> to <code>JMXConnectorFactory.connect()</code>? The <code>brokerUrl</code> is for the <b>JMS</b> connection, not the JMX connection. The URL for ActiveMQ Artemis&#39; core JMS client looks something like <code>tcp:&#47;&#47;host:61616</code>. The URL for a JMX connection looks something like <code>service:jmx:rmi:&#47;&#47;&#47;jndi&#47;rmi:&#47;&#47;host:1099&#47;jmxrmi</code>. JMX and JMS are 100% independent. There is no overlap in their protocols and implementations although they can be <i>used</i> alongside each other in certain use-cases."},{"owner":{"account_id":28555640,"reputation":55,"user_id":21859885,"display_name":"DarkSoul"},"score":0,"creation_date":1683699827,"post_id":76210151,"comment_id":134404652,"body_markdown":"I took into account your answer and updated the question","body":"I took into account your answer and updated the question"},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1683723917,"post_id":76210151,"comment_id":134410281,"body_markdown":"Your modifications really turn this into a different question. Originally the question was about code &amp; connectivity. Now it&#39;s about configuration &amp; security. I recommend you revert your changes and ask a _new_ question. I believe I answered the original question. If you agree please mark it as correct to help other folks who have this same problem in the future. Thanks!","body":"Your modifications really turn this into a different question. Originally the question was about code &amp; connectivity. Now it&#39;s about configuration &amp; security. I recommend you revert your changes and ask a <i>new</i> question. I believe I answered the original question. If you agree please mark it as correct to help other folks who have this same problem in the future. Thanks!"}],"tags":[],"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683640750,"creation_date":1683640750,"answer_id":76210151,"question_id":76207363,"body_markdown":"The stack-trace indicates that the exception is coming from your invocation of `javax.jms.QueueConnectionFactory.createQueueConnection()` so it doesn&#39;t appear to have anything to do with your JMX connection. The exception is being thrown before it even gets to `JMXConnectorFactory.connect()`.\r\n\r\nIt&#39;s important to note that this `connectBroker` method is **leaking** a JMS connection every time it is invoked (assuming it is successful). This is because you create a JMS connection, but you don&#39;t close it or return it from the method. I recommend removing the JMS connection from that method entirely as it servers no real purpose.","title":"Throws JMSException errors when connecting to a broker via JMX in ActiveMQ Artemis","body":"<p>The stack-trace indicates that the exception is coming from your invocation of <code>javax.jms.QueueConnectionFactory.createQueueConnection()</code> so it doesn't appear to have anything to do with your JMX connection. The exception is being thrown before it even gets to <code>JMXConnectorFactory.connect()</code>.</p>\n<p>It's important to note that this <code>connectBroker</code> method is <strong>leaking</strong> a JMS connection every time it is invoked (assuming it is successful). This is because you create a JMS connection, but you don't close it or return it from the method. I recommend removing the JMS connection from that method entirely as it servers no real purpose.</p>\n"}],"owner":{"account_id":28555640,"reputation":55,"user_id":21859885,"display_name":"DarkSoul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76210151,"answer_count":1,"score":0,"last_activity_date":1683699785,"creation_date":1683621610,"question_id":76207363,"body_markdown":"I have a code to connect to the ActiveMQ Artemis broker via the JMX protocol using some kind of login/password authorization\r\n\r\n```java\r\n public static MBeanServerConnection connectBroker(String brokerUrl, String user, String password) {\r\n\r\n        QueueConnection connection = null;\r\n        try {\r\n            QueueConnectionFactory cf = new ActiveMQQueueConnectionFactory(brokerUrl);\r\n            connection = cf.createQueueConnection();\r\n            connection.start();\r\n            HashMap env = new HashMap();\r\n            String[] creds = {user, password};\r\n            env.put(JMXConnector.CREDENTIALS, creds);\r\n            JMXConnector connector = JMXConnectorFactory.connect(new JMXServiceURL(BuildGet.JMX_URL),env);\r\n\r\n            return connector.getMBeanServerConnection();\r\n        } catch (JMSException | IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n```\r\n\r\nAnd this code gives these errors:\r\n\r\n```\r\nCaused by: java.lang.RuntimeException: javax.jms.JMSException: Failed to create session factory\r\n\tat jmxClientUIPConsole.BuildGet.connectBroker(BuildGet.java:81)\r\n\tat jmxClientUIPConsole.gui.DConsoleFrameController.connectBroker(DConsoleFrameController.java:41)\r\n\t... 56 more\r\nCaused by: javax.jms.JMSException: Failed to create session factory\r\n\tat org.apache.activemq.artemis.jms.client.ActiveMQConnectionFactory.createConnectionInternal(ActiveMQConnectionFactory.java:867)\r\n\tat org.apache.activemq.artemis.jms.client.ActiveMQConnectionFactory.createQueueConnection(ActiveMQConnectionFactory.java:335)\r\n\tat org.apache.activemq.artemis.jms.client.ActiveMQConnectionFactory.createQueueConnection(ActiveMQConnectionFactory.java:331)\r\n\tat jmxClientUIPConsole.BuildGet.connectBroker(BuildGet.java:72)\r\n\t... 57 more\r\nCaused by: ActiveMQNotConnectedException[errorType=NOT_CONNECTED message=AMQ219007: Cannot connect to server(s). Tried with all available servers.]\r\n\tat org.apache.activemq.artemis.core.client.impl.ServerLocatorImpl.createSessionFactory(ServerLocatorImpl.java:701)\r\n\tat org.apache.activemq.artemis.jms.client.ActiveMQConnectionFactory.createConnectionInternal(ActiveMQConnectionFactory.java:865)\r\n\t... 60 more\r\n```\r\n\r\nBut if you make a method without authorization then everything works:\r\n\r\n```java\r\npublic static MBeanServerConnection connectBroker(String brokerUrl) {\r\n\r\n        QueueConnection connection = null;\r\n        try {\r\n            QueueConnectionFactory cf = new ActiveMQQueueConnectionFactory(brokerUrl);\r\n            connection = cf.createQueueConnection();\r\n            connection.start();\r\n            JMXConnector connector = JMXConnectorFactory.connect(new JMXServiceURL(BuildGet.JMX_URL));\r\n\r\n            return connector.getMBeanServerConnection();\r\n        } catch (JMSException | IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n```\r\n\r\nHere is my `management.xml`:\r\n\r\n```xml\r\n&lt;management-context xmlns=&quot;http://activemq.apache.org/schema&quot;&gt;\r\n   &lt;connector connector-port=&quot;13682&quot; connector-host=&quot;192.168.1.135&quot;/&gt;\r\n   &lt;authorisation&gt;\r\n      &lt;allowlist&gt;\r\n         &lt;entry domain=&quot;hawtio&quot;/&gt;\r\n      &lt;/allowlist&gt;\r\n      &lt;default-access&gt;\r\n         &lt;access method=&quot;list*&quot; roles=&quot;view,update,amq,guest,test&quot;/&gt;\r\n         &lt;access method=&quot;get*&quot; roles=&quot;view,update,amq,guest,test&quot;/&gt;\r\n         &lt;access method=&quot;is*&quot; roles=&quot;view,update,amq,guest,test&quot;/&gt;\r\n         &lt;access method=&quot;set*&quot; roles=&quot;update,amq,guest,test&quot;/&gt;\r\n         &lt;access method=&quot;*&quot; roles=&quot;amq,guest,test&quot;/&gt;\r\n      &lt;/default-access&gt;\r\n      &lt;role-access&gt;\r\n         &lt;match domain=&quot;org.apache.activemq.artemis&quot;&gt;\r\n            &lt;access method=&quot;list*&quot; roles=&quot;view,update,amq,guest,test&quot;/&gt;\r\n            &lt;access method=&quot;get*&quot; roles=&quot;view,update,amq,guest,test&quot;/&gt;\r\n            &lt;access method=&quot;is*&quot; roles=&quot;view,update,amq,guest,test&quot;/&gt;\r\n            &lt;access method=&quot;set*&quot; roles=&quot;update,amq,guest,test&quot;/&gt;\r\n            &lt;access method=&quot;*&quot; roles=&quot;amq,guest,test&quot;/&gt;\r\n         &lt;/match&gt;\r\n      &lt;/role-access&gt;\r\n   &lt;/authorisation&gt;\r\n&lt;/management-context&gt;\r\n```\r\n\r\nI pass the login `amq` and password `amq` to the method. Maybe I&#39;m passing the wrong login and password? Why can an error occur when connecting to a broker?\r\n\r\n\r\nNow the method looks like this:\r\n\r\n    public static MBeanServerConnection connectBroker(String brokerUrl, String user, String password) {\r\n        try {\r\n            Map&lt;String, String[]&gt; env = new HashMap();\r\n            String[] creds = {user, password};\r\n            env.put(JMXConnector.CREDENTIALS, creds);\r\n            JMXConnector connector = JMXConnectorFactory.connect(new JMXServiceURL(&quot;service:jmx:rmi:///jndi/rmi://&quot; + brokerUrl + &quot;:13682/jmxrmi&quot;), env);\r\n            return connector.getMBeanServerConnection();\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n\r\nBut if I leave login and password empty, then for some reason it can connect, although I left these authorization fields empty for the test. Why isn&#39;t an error thrown when the field data is empty?","title":"Throws JMSException errors when connecting to a broker via JMX in ActiveMQ Artemis","body":"<p>I have a code to connect to the ActiveMQ Artemis broker via the JMX protocol using some kind of login/password authorization</p>\n<pre class=\"lang-java prettyprint-override\"><code> public static MBeanServerConnection connectBroker(String brokerUrl, String user, String password) {\n\n        QueueConnection connection = null;\n        try {\n            QueueConnectionFactory cf = new ActiveMQQueueConnectionFactory(brokerUrl);\n            connection = cf.createQueueConnection();\n            connection.start();\n            HashMap env = new HashMap();\n            String[] creds = {user, password};\n            env.put(JMXConnector.CREDENTIALS, creds);\n            JMXConnector connector = JMXConnectorFactory.connect(new JMXServiceURL(BuildGet.JMX_URL),env);\n\n            return connector.getMBeanServerConnection();\n        } catch (JMSException | IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n</code></pre>\n<p>And this code gives these errors:</p>\n<pre><code>Caused by: java.lang.RuntimeException: javax.jms.JMSException: Failed to create session factory\n    at jmxClientUIPConsole.BuildGet.connectBroker(BuildGet.java:81)\n    at jmxClientUIPConsole.gui.DConsoleFrameController.connectBroker(DConsoleFrameController.java:41)\n    ... 56 more\nCaused by: javax.jms.JMSException: Failed to create session factory\n    at org.apache.activemq.artemis.jms.client.ActiveMQConnectionFactory.createConnectionInternal(ActiveMQConnectionFactory.java:867)\n    at org.apache.activemq.artemis.jms.client.ActiveMQConnectionFactory.createQueueConnection(ActiveMQConnectionFactory.java:335)\n    at org.apache.activemq.artemis.jms.client.ActiveMQConnectionFactory.createQueueConnection(ActiveMQConnectionFactory.java:331)\n    at jmxClientUIPConsole.BuildGet.connectBroker(BuildGet.java:72)\n    ... 57 more\nCaused by: ActiveMQNotConnectedException[errorType=NOT_CONNECTED message=AMQ219007: Cannot connect to server(s). Tried with all available servers.]\n    at org.apache.activemq.artemis.core.client.impl.ServerLocatorImpl.createSessionFactory(ServerLocatorImpl.java:701)\n    at org.apache.activemq.artemis.jms.client.ActiveMQConnectionFactory.createConnectionInternal(ActiveMQConnectionFactory.java:865)\n    ... 60 more\n</code></pre>\n<p>But if you make a method without authorization then everything works:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static MBeanServerConnection connectBroker(String brokerUrl) {\n\n        QueueConnection connection = null;\n        try {\n            QueueConnectionFactory cf = new ActiveMQQueueConnectionFactory(brokerUrl);\n            connection = cf.createQueueConnection();\n            connection.start();\n            JMXConnector connector = JMXConnectorFactory.connect(new JMXServiceURL(BuildGet.JMX_URL));\n\n            return connector.getMBeanServerConnection();\n        } catch (JMSException | IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n</code></pre>\n<p>Here is my <code>management.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;management-context xmlns=&quot;http://activemq.apache.org/schema&quot;&gt;\n   &lt;connector connector-port=&quot;13682&quot; connector-host=&quot;192.168.1.135&quot;/&gt;\n   &lt;authorisation&gt;\n      &lt;allowlist&gt;\n         &lt;entry domain=&quot;hawtio&quot;/&gt;\n      &lt;/allowlist&gt;\n      &lt;default-access&gt;\n         &lt;access method=&quot;list*&quot; roles=&quot;view,update,amq,guest,test&quot;/&gt;\n         &lt;access method=&quot;get*&quot; roles=&quot;view,update,amq,guest,test&quot;/&gt;\n         &lt;access method=&quot;is*&quot; roles=&quot;view,update,amq,guest,test&quot;/&gt;\n         &lt;access method=&quot;set*&quot; roles=&quot;update,amq,guest,test&quot;/&gt;\n         &lt;access method=&quot;*&quot; roles=&quot;amq,guest,test&quot;/&gt;\n      &lt;/default-access&gt;\n      &lt;role-access&gt;\n         &lt;match domain=&quot;org.apache.activemq.artemis&quot;&gt;\n            &lt;access method=&quot;list*&quot; roles=&quot;view,update,amq,guest,test&quot;/&gt;\n            &lt;access method=&quot;get*&quot; roles=&quot;view,update,amq,guest,test&quot;/&gt;\n            &lt;access method=&quot;is*&quot; roles=&quot;view,update,amq,guest,test&quot;/&gt;\n            &lt;access method=&quot;set*&quot; roles=&quot;update,amq,guest,test&quot;/&gt;\n            &lt;access method=&quot;*&quot; roles=&quot;amq,guest,test&quot;/&gt;\n         &lt;/match&gt;\n      &lt;/role-access&gt;\n   &lt;/authorisation&gt;\n&lt;/management-context&gt;\n</code></pre>\n<p>I pass the login <code>amq</code> and password <code>amq</code> to the method. Maybe I'm passing the wrong login and password? Why can an error occur when connecting to a broker?</p>\n<p>Now the method looks like this:</p>\n<pre><code>public static MBeanServerConnection connectBroker(String brokerUrl, String user, String password) {\n    try {\n        Map&lt;String, String[]&gt; env = new HashMap();\n        String[] creds = {user, password};\n        env.put(JMXConnector.CREDENTIALS, creds);\n        JMXConnector connector = JMXConnectorFactory.connect(new JMXServiceURL(&quot;service:jmx:rmi:///jndi/rmi://&quot; + brokerUrl + &quot;:13682/jmxrmi&quot;), env);\n        return connector.getMBeanServerConnection();\n    } catch (IOException e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n<p>But if I leave login and password empty, then for some reason it can connect, although I left these authorization fields empty for the test. Why isn't an error thrown when the field data is empty?</p>\n"},{"tags":["java","json","serversocket"],"owner":{"account_id":28274989,"reputation":1,"user_id":21617620,"display_name":"Siyabonga Mthethwa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683699175,"creation_date":1683699175,"question_id":76215356,"body_markdown":"I have been working on a robot game where you name a robot and give it certain valid commands that it can respond to. (Forward n[n is the number of steps], Back n, Left, Right). The robot operates in a Cartesian plane and will move along the x and y-axis after starting at zero. My team and I are now moving towards taking this game and making it a java multisocket version where there can be multiple robots in one world. \r\n\r\nI am trying to change it to a way that then sends that command that the player put in as a message to the server and then get a response back from a server. I am a beginner and don&#39;t know where to start. \r\n\r\nHere&#39;s an example of a command class.\r\n\r\n`public class ForwardCommand extends Command {\r\n    @Override\r\n    public boolean execute(Robot target) {\r\n        int nrSteps = Integer.parseInt(getArgument());\r\n        if (target.updatePosition(nrSteps)){\r\n            target.setStatus(&quot;Moved forward by &quot;+nrSteps+&quot; steps.&quot;);\r\n        } else {\r\n            target.setStatus(&quot;Sorry, I cannot go outside my safe zone.&quot;);\r\n        }\r\n        return true;\r\n    }\r\n\r\n    public ForwardCommand(String argument) {\r\n        super(&quot;forward&quot;, argument);\r\n    }\r\n}`\r\n\r\n\r\nI tried to change my main Play.java file into a client.java version and now I am at the point that we need to take the commands and turn them into something that the server entails. What is the next step and what do I need to look into because its my first time dealing with java socket programming.\r\n","title":"Sending a command in my robot world game to a server to be executed and have a response sent(via json strings)","body":"<p>I have been working on a robot game where you name a robot and give it certain valid commands that it can respond to. (Forward n[n is the number of steps], Back n, Left, Right). The robot operates in a Cartesian plane and will move along the x and y-axis after starting at zero. My team and I are now moving towards taking this game and making it a java multisocket version where there can be multiple robots in one world.</p>\n<p>I am trying to change it to a way that then sends that command that the player put in as a message to the server and then get a response back from a server. I am a beginner and don't know where to start.</p>\n<p>Here's an example of a command class.</p>\n<p>`public class ForwardCommand extends Command {\n@Override\npublic boolean execute(Robot target) {\nint nrSteps = Integer.parseInt(getArgument());\nif (target.updatePosition(nrSteps)){\ntarget.setStatus(&quot;Moved forward by &quot;+nrSteps+&quot; steps.&quot;);\n} else {\ntarget.setStatus(&quot;Sorry, I cannot go outside my safe zone.&quot;);\n}\nreturn true;\n}</p>\n<pre><code>public ForwardCommand(String argument) {\n    super(&quot;forward&quot;, argument);\n}\n</code></pre>\n<p>}`</p>\n<p>I tried to change my main Play.java file into a client.java version and now I am at the point that we need to take the commands and turn them into something that the server entails. What is the next step and what do I need to look into because its my first time dealing with java socket programming.</p>\n"},{"tags":["java","android","json","api"],"comments":[{"owner":{"account_id":5949420,"reputation":14268,"user_id":4677951,"accept_rate":50,"display_name":"shadowsheep"},"score":0,"creation_date":1571068359,"post_id":58379740,"comment_id":103108852,"body_markdown":"I hope that the `key` you have provided in your answer is a random string and not your actual key. For security reason.","body":"I hope that the <code>key</code> you have provided in your answer is a random string and not your actual key. For security reason."},{"owner":{"account_id":5949420,"reputation":14268,"user_id":4677951,"accept_rate":50,"display_name":"shadowsheep"},"score":0,"creation_date":1571068477,"post_id":58379740,"comment_id":103108895,"body_markdown":"I suggest you to try inspect your `raw POST request` and see if id does match with the one Postman does.","body":"I suggest you to try inspect your <code>raw POST request</code> and see if id does match with the one Postman does."},{"owner":{"account_id":16891805,"reputation":11,"user_id":12215352,"display_name":"Mustafiz Rahman"},"score":0,"creation_date":1571069300,"post_id":58379740,"comment_id":103109287,"body_markdown":"@shadowsheep yah thats a random key and thats not actual key .","body":"@shadowsheep yah thats a random key and thats not actual key ."},{"owner":{"account_id":5949420,"reputation":14268,"user_id":4677951,"accept_rate":50,"display_name":"shadowsheep"},"score":0,"creation_date":1571070049,"post_id":58379740,"comment_id":103109609,"body_markdown":"Okay. That&#39;s sound good. Btw if it would happen to add sensitive information by mistake, pls refer to [this](https://meta.stackexchange.com/questions/132117/what-should-i-do-if-a-user-posts-sensitive-information-as-part-of-a-question-or) as a remedy.","body":"Okay. That&#39;s sound good. Btw if it would happen to add sensitive information by mistake, pls refer to <a href=\"https://meta.stackexchange.com/questions/132117/what-should-i-do-if-a-user-posts-sensitive-information-as-part-of-a-question-or\">this</a> as a remedy."}],"answers":[{"comments":[{"owner":{"account_id":16891805,"reputation":11,"user_id":12215352,"display_name":"Mustafiz Rahman"},"score":0,"creation_date":1571067611,"post_id":58379888,"comment_id":103108461,"body_markdown":"sir it is  post method, please check 1st portion of my question which is &quot;enter image description here&quot;. i have added a screen shot of postman there. and i have already tried through HTTP header but it does not work.","body":"sir it is  post method, please check 1st portion of my question which is &quot;enter image description here&quot;. i have added a screen shot of postman there. and i have already tried through HTTP header but it does not work."}],"tags":[],"owner":{"account_id":16891868,"reputation":1,"user_id":12215401,"display_name":"ybouane"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571067044,"creation_date":1571067044,"answer_id":58379888,"question_id":58379740,"body_markdown":"In PostMan, how did you specify the app key? was it through an HTTP header?\r\n(Sorry, I would have added a comment, but I do not have enough reputation)\r\n\r\nOr was it specified as a GET parameter?\r\nIn the latter case, try something like:\r\n\r\n    URL url=new URL(&quot;https://app.inyek.com/app_api/api_extra/all_order.php?app_key=YOUR_KEY&quot;);","title":"Data fetching from an API in android","body":"<p>In PostMan, how did you specify the app key? was it through an HTTP header?\n(Sorry, I would have added a comment, but I do not have enough reputation)</p>\n\n<p>Or was it specified as a GET parameter?\nIn the latter case, try something like:</p>\n\n<pre><code>URL url=new URL(\"https://app.inyek.com/app_api/api_extra/all_order.php?app_key=YOUR_KEY\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":16891805,"reputation":11,"user_id":12215352,"display_name":"Mustafiz Rahman"},"score":0,"creation_date":1571069420,"post_id":58380176,"comment_id":103109342,"body_markdown":"sir actually my question is where to put the key? in your link there is no key.","body":"sir actually my question is where to put the key? in your link there is no key."},{"owner":{"account_id":13470835,"reputation":253,"user_id":9719400,"display_name":"Cheri"},"score":0,"creation_date":1571069732,"post_id":58380176,"comment_id":103109484,"body_markdown":"As far as I understand from your image, the API key is passed as a parameter within the http POST request body. As such, you will likely need to format it as such. Such a string could be formatted as: &quot;{\\&quot;api_key\\&quot;: \\&quot;somekeyhere\\&quot;}&quot;","body":"As far as I understand from your image, the API key is passed as a parameter within the http POST request body. As such, you will likely need to format it as such. Such a string could be formatted as: &quot;{\\&quot;api_key\\&quot;: \\&quot;somekeyhere\\&quot;}&quot;"},{"owner":{"account_id":13470835,"reputation":253,"user_id":9719400,"display_name":"Cheri"},"score":0,"creation_date":1571069777,"post_id":58380176,"comment_id":103109503,"body_markdown":"From the page I linked, you can see how to write such a json string to the request body in sections 2.7 and 2.8","body":"From the page I linked, you can see how to write such a json string to the request body in sections 2.7 and 2.8"}],"tags":[],"owner":{"account_id":13470835,"reputation":253,"user_id":9719400,"display_name":"Cheri"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571068314,"creation_date":1571068314,"answer_id":58380176,"question_id":58379740,"body_markdown":"Welcome to Stack Exchange! Firstly I&#39;d suggest you don&#39;t put your API Key within questions and/or images, as they might be sensitive and can be abused by malicious users. Feel free to edit your question and remove them.\r\n\r\nTo answer your query, I think you need to write the contents to the http request body in a json format. This can be done as per the guide on the following webpage:\r\nhttps://www.baeldung.com/httpurlconnection-post\r\n\r\nIn summary, you need to create an output stream and write the contents to it directly.","title":"Data fetching from an API in android","body":"<p>Welcome to Stack Exchange! Firstly I'd suggest you don't put your API Key within questions and/or images, as they might be sensitive and can be abused by malicious users. Feel free to edit your question and remove them.</p>\n\n<p>To answer your query, I think you need to write the contents to the http request body in a json format. This can be done as per the guide on the following webpage:\n<a href=\"https://www.baeldung.com/httpurlconnection-post\" rel=\"nofollow noreferrer\">https://www.baeldung.com/httpurlconnection-post</a></p>\n\n<p>In summary, you need to create an output stream and write the contents to it directly.</p>\n"},{"comments":[{"owner":{"account_id":16891805,"reputation":11,"user_id":12215352,"display_name":"Mustafiz Rahman"},"score":0,"creation_date":1571072174,"post_id":58380524,"comment_id":103110440,"body_markdown":"sir i dont have any problem about representing json value ,i just want to know where  should i place the app key???","body":"sir i dont have any problem about representing json value ,i just want to know where  should i place the app key???"},{"owner":{"account_id":4668938,"reputation":359,"user_id":3781237,"accept_rate":60,"display_name":"Barn on a Hill"},"score":0,"creation_date":1571074321,"post_id":58380524,"comment_id":103111293,"body_markdown":"You would just add it to your params like so: params.put(&quot;app_key&quot;, appKey);","body":"You would just add it to your params like so: params.put(&quot;app_key&quot;, appKey);"}],"tags":[],"owner":{"account_id":4668938,"reputation":359,"user_id":3781237,"accept_rate":60,"display_name":"Barn on a Hill"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1571074496,"creation_date":1571069726,"answer_id":58380524,"question_id":58379740,"body_markdown":"I strongly suggest you make an Abstract HttpRequestTask which extends AsyncTask. In this abstract ancestor you can make some helper methods for reading your input, something like so:\r\n\r\n    /**\r\n     * HttpRequestTask is an abstract extension of an AsyncTask for HTTP Requests.\r\n     *\r\n     * @param &lt;P&gt;\r\n     * \t\tType for parameter(s) to doInBackground (can be Void if none provided)\r\n     * @param &lt;R&gt;\r\n     * \t\tType for result of request (can be Void if ignored, or using listeners.)\r\n     */\r\n    public abstract class HttpRequestTask&lt;P, R&gt; extends AsyncTask&lt;P, Integer, R&gt;\r\n    {\r\n    \tprivate static final String TAG = &quot;HttpRequestTask&quot;;\r\n    \r\n    \t// Post form encoded requests, get back JSON response\r\n    \tprivate static final RequestMethod DEFAULT_REQUEST_METHOD = RequestMethod.POST;\r\n    \tprivate static final String DEFAULT_CONTENT_TYPE = &quot;application/x-www-form-urlencoded;charset=UTF-8;&quot;;\r\n    \tprivate static final String DEFAULT_ACCEPT = &quot;application/json;&quot;;\r\n    \tprivate static final int DEFAULT_TIMEOUT = 8000; // 8 seconds\r\n    \tprivate static final String CHARSET = &quot;UTF-8&quot;;\r\n    \r\n    \tprotected static final String NULL_CONTEXT = &quot;Context is null.&quot;;\r\n    \tprotected static final String INVALID_RESPONSE = &quot;The server did not send back a valid response.&quot;;\r\n    \r\n    \t// Request methods supported by back-end\r\n    \tprotected enum RequestMethod\r\n    \t{\r\n    \t\tGET(&quot;GET&quot;),\r\n    \t\tPOST(&quot;POST&quot;);\r\n    \r\n    \t\tprivate final String method;\r\n    \r\n    \t\tRequestMethod(String method)\r\n    \t\t{\r\n    \t\t\tthis.method = method;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic String toString()\r\n    \t\t{\r\n    \t\t\treturn this.method;\r\n    \t\t}\r\n    \t}\r\n    \r\n        /**\r\n         * ALWAYS use application context here to prevent memory leaks.\r\n         *\r\n         */\r\n    \tprotected HttpRequestTask(@NonNull final Context context)\r\n    \t{\r\n    \t\tthis.context = context;\r\n    \t}\r\n    \r\n    \tprotected void verifyConnection() throws IOException\r\n    \t{\r\n    \t\tif (!SystemUtil.isInternetAvailable(context))\r\n    \t\t{\r\n    \t\t\tthrow new IOException(&quot;Internet is unavailable.&quot;);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Creates and opens a URLConnection for the url parameter, as well as setting request options.\r\n    \t *\r\n    \t * @param url\r\n    \t * \t\tto connect to.\r\n    \t *\r\n    \t * @return opened HTTPURLConnection for POSTing data to ctservices.\r\n    \t */\r\n    \tprotected HttpURLConnection getURLConnection(URL url) throws IOException\r\n    \t{\r\n    \t\treturn this.getURLConnection(url, DEFAULT_REQUEST_METHOD, DEFAULT_CONTENT_TYPE,\r\n    \t\t\t\tDEFAULT_ACCEPT, DEFAULT_TIMEOUT);\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Creates and opens a URLConnection for the url parameter, as well as setting request options.\r\n    \t *\r\n    \t * @param url\r\n    \t * \t\tto connect to.\r\n    \t *\r\n    \t * @return opened HTTPURLConnection\r\n    \t */\r\n    \tprotected HttpURLConnection getURLConnection(@NonNull final URL url,\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t @NonNull final RequestMethod requestMethod,\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t @NonNull final String contentType,\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t @Nullable final String accept, final int timeout)\r\n    \t\t\tthrows IOException\r\n    \t{\r\n    \t\tverifyConnection();\r\n    \r\n    \t\tHttpURLConnection urlConnection = (HttpURLConnection) url.openConnection();\r\n    \t\turlConnection.setRequestMethod(requestMethod.toString());\r\n    \t\turlConnection.setRequestProperty(&quot;Content-Type&quot;, contentType);\r\n    \r\n    \t\tif (accept != null &amp;&amp; !accept.isEmpty())\r\n    \t\t{\r\n    \t\t\turlConnection.setRequestProperty(&quot;Accept&quot;, accept);\r\n    \t\t}\r\n    \r\n    \t\turlConnection.setReadTimeout(timeout);\r\n    \t\turlConnection.setConnectTimeout(timeout);\r\n    \t\turlConnection.setUseCaches(false);\r\n    \t\turlConnection.setDoInput(true);\r\n    \t\turlConnection.setDoOutput(true);\r\n    \t\treturn urlConnection;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Creates and opens a URLConnection for the url parameter, but does not set any request options.\r\n    \t *\r\n    \t * @param url\r\n    \t * \t\tto connect to.\r\n    \t *\r\n    \t * @return opened HTTPURLConnection without parameters set.\r\n    \t */\r\n    \tprotected HttpURLConnection getBasicURLConnection(URL url) throws IOException\r\n    \t{\r\n    \t\tif (!SystemUtil.isInternetAvailable(applicationContext.get()))\r\n    \t\t{\r\n    \t\t\tthrow new IOException(&quot;Internet is unavailable.&quot;);\r\n    \t\t}\r\n    \r\n    \t\tHttpURLConnection urlConnection = (HttpURLConnection) url.openConnection();\r\n    \t\treturn urlConnection;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Write a JSONObject of request parameters to the output stream as form-encoded data.\r\n    \t *\r\n    \t * @param urlConnection\r\n    \t * \t\topened urlConnection with output enabled (done by getURLConnection).\r\n    \t * @param params\r\n    \t * \t\tto write to request.\r\n    \t *\r\n    \t * @throws IOException\r\n    \t * \t\tproblem writing to output stream\r\n    \t */\r\n    \tprotected void writeParams(HttpURLConnection urlConnection, JSONObject params) throws IOException\r\n    \t{\r\n    \t\tOutputStream outputStream = urlConnection.getOutputStream();\r\n    \t\tBufferedWriter outWriter = new BufferedWriter(new OutputStreamWriter(outputStream,\r\n    \t\t\t\tStandardCharsets.UTF_8));\r\n    \r\n    \t\tString urlParams = this.encodeJSONObject(params);\r\n    \r\n    \t\toutWriter.write(urlParams);\r\n    \t\toutWriter.flush();\r\n    \t\toutWriter.close();\r\n    \t\toutputStream.close();\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Reads the response of a URLConnection from the input stream and puts it in a string.\r\n    \t *\r\n    \t * @param urlConnection\r\n    \t * \t\topened urlConnection with input enabled (done by getURLConnection).\r\n    \t *\r\n    \t * @return response string\r\n    \t *\r\n    \t * @throws IOException\r\n    \t * \t\tproblem reading input stream\r\n    \t */\r\n    \tprotected String readResponse(HttpURLConnection urlConnection) throws IOException\r\n    \t{\r\n    \t\tInputStream inputStream = null;\r\n    \r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\t/* If we failed to connect will throw a SocketResponseTimeoutException,\r\n    \t\t\t * which is an IOException. */\r\n    \t\t\tint responseCode = urlConnection.getResponseCode();\r\n    \r\n    \t\t\tif (HttpURLConnection.HTTP_OK != responseCode)\r\n    \t\t\t{\r\n    \t\t\t\tthrow new IOException(&quot;Bad response code - &quot; + responseCode);\r\n    \t\t\t}\r\n    \r\n    \t\t\tinputStream = urlConnection.getInputStream();\r\n    \t\t\tfinal String response = parseInputStream(inputStream);\r\n    \t\t\turlConnection.disconnect();\r\n    \t\t\treturn response;\r\n    \t\t}\r\n    \t\tfinally\r\n    \t\t{\r\n    \t\t\tif (inputStream != null)\r\n    \t\t\t{\r\n    \t\t\t\ttry\r\n    \t\t\t\t{\r\n    \t\t\t\t\tinputStream.close();\r\n    \t\t\t\t}\r\n    \t\t\t\tcatch (Exception e) {}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprotected Context getContext()\r\n    \t{\r\n    \t\treturn this.context;\r\n    \t}\r\n    \r\n    \tprotected String getString(final int resId)\r\n    \t{\r\n    \t\treturn getContext().getString(resId);\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Encodes a JSONObject as a form-data URL string.\r\n    \t *\r\n    \t * @param jo\r\n    \t * \t\tto encode\r\n    \t *\r\n    \t * @return encoded URL string\r\n    \t */\r\n    \tprivate String encodeJSONObject(JSONObject jo)\r\n    \t{\r\n    \t\tStringBuilder sb = new StringBuilder();\r\n    \t\tboolean first = true;\r\n    \t\tIterator&lt;String&gt; itr = jo.keys();\r\n    \t\tString key;\r\n    \t\tObject val;\r\n    \r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\twhile (itr.hasNext())\r\n    \t\t\t{\r\n    \t\t\t\tkey = itr.next();\r\n    \t\t\t\tval = jo.get(key);\r\n    \r\n    \t\t\t\tif (first)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tfirst = false;\r\n    \t\t\t\t}\r\n    \t\t\t\telse\r\n    \t\t\t\t{\r\n    \t\t\t\t\tsb.append(&#39;&amp;&#39;);\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tsb.append(URLEncoder.encode(key, CHARSET));\r\n    \t\t\t\tsb.append(&#39;=&#39;);\r\n    \t\t\t\tsb.append(URLEncoder.encode(val.toString(), CHARSET));\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tcatch (JSONException | UnsupportedEncodingException e) {}\r\n    \r\n    \t\treturn sb.toString();\r\n    \t}\r\n    \r\n    \tprivate String parseInputStream(InputStream is) throws IOException\r\n    \t{\r\n    \t\tBufferedReader br = null;\r\n    \r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tbr = new BufferedReader(new InputStreamReader(is));\r\n    \t\t\tStringBuilder sb = new StringBuilder();\r\n    \t\t\tString line;\r\n    \r\n    \t\t\twhile ((line = br.readLine()) != null)\r\n    \t\t\t{\r\n    \t\t\t\tsb.append(line);\r\n    \t\t\t}\r\n    \r\n    \t\t\treturn sb.toString();\r\n    \t\t}\r\n    \t\tfinally\r\n    \t\t{\r\n    \t\t\tif (br != null)\r\n    \t\t\t{\r\n    \t\t\t\ttry\r\n    \t\t\t\t{\r\n    \t\t\t\t\tbr.close();\r\n    \t\t\t\t}\r\n    \t\t\t\tcatch (Exception e) {}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Merges any properties of b into a that don&#39;t already have a key match in a.\r\n    \t *\r\n    \t * @param a\r\n    \t * \t\tmerging to\r\n    \t * @param b\r\n    \t * \t\tmerging from\r\n    \t *\r\n    \t * @return a with any unique values from b\r\n    \t */\r\n    \tprotected JSONObject mergeJSONObjects(JSONObject a, JSONObject b)\r\n    \t{\r\n    \t\tif (b == null)\r\n    \t\t{\r\n    \t\t\treturn a;\r\n    \t\t}\r\n    \t\tif (a == null)\r\n    \t\t{\r\n    \t\t\treturn b;\r\n    \t\t}\r\n    \r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tIterator&lt;String&gt; bItr = b.keys();\r\n    \t\t\tString key;\r\n    \t\t\twhile (bItr.hasNext())\r\n    \t\t\t{\r\n    \t\t\t\tkey = bItr.next();\r\n    \t\t\t\tif (!a.has(key))\r\n    \t\t\t\t{\r\n    \t\t\t\t\ta.put(key, b.get(key));\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \r\n    \t\t\treturn a;\r\n    \t\t}\r\n    \t\tcatch (Exception ex)\r\n    \t\t{\r\n    \t\t\tLog.e(TAG, ex.getClass().getSimpleName() + &quot; in mergeJSONObjects: &quot; + ex.getMessage() +\r\n    \t\t\t\t\t&#39;\\n&#39; + Log.getStackTraceString(ex));\r\n    \t\t\treturn a;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nThen you can extend your HttpRequestTask to easily make network requests:\r\n\r\n    public class ExampleNetworkTask extends HttpRequestTask&lt;Void, Void&gt;\r\n    {\r\n    \tprivate static final String TAG = &quot;ExampleNetworkTask&quot;;\r\n    \r\n    \tprivate final SimpleListener successListener;\r\n    \tprivate final StringListener errorListener;\r\n    \tprivate final String servicesUrl;\r\n    \r\n    \tpublic static void start(@NonNull final Context context,\r\n    \t\t\t\t             @Nullable final SimpleListener successListener,\r\n    \t\t\t\t\t\t\t @Nullable final StringListener errorListener)\r\n    \t\tthrows IllegalArgumentException\r\n    \t{\r\n    \t\tif (context == null)\r\n    \t\t{\r\n    \t\t\tthrow new IllegalArgumentException(NULL_CONTEXT);\r\n    \t\t}\r\n    \r\n    \t\tnew ExampleNetworkTask(context, successListener, errorListener).execute();\r\n    \t}\r\n    \r\n    \tprivate ExampleNetworkTask(@NonNull final Context context,\r\n    \t\t\t\t\t\t\t   @Nullable final SimpleListener successListener,\r\n    \t\t\t\t\t\t\t   @Nullable final StringListener errorListener)\r\n    \t{\r\n    \t\tsuper(context);\r\n    \r\n    \t\tthis.servicesUrl = SystemUtil.getServiceUrl(getContext(), R.string.example_service);\r\n    \t\tthis.successListener = successListener;\r\n    \t\tthis.errorListener = errorListener;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected Void doInBackground(Void... voids)\r\n    \t{\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tfinal HttpURLConnection urlConnection = super.getURLConnection(new URL(servicesUrl));\r\n    \r\n    \t\t\tfinal JSONObject params = new JSONObject();\r\n    \t\t\t\r\n                // Add params\r\n                params.put(&quot;app_key&quot;, appKey);\r\n                params.put(&quot;order_number&quot;, orderNumber);\r\n                // ...\r\n    \r\n                // Send request, read parse response\r\n    \t\t\tsuper.writeParams(urlConnection, params);\r\n    \t\t\tfinal String response = super.readResponse(urlConnection);\r\n    \t\t\tfinal JSONObject responseObj = new JSONObject(response);\r\n    \r\n    \t\t\t// Handle response\r\n    \t\t}\r\n    \t\tcatch (Exception ex)\r\n    \t\t{\r\n    \t\t\tfinal String msg = ex.getLocalizedMessage();\r\n    \t\t\tLog.e(TAG, ex.getClass().getSimpleName() + &quot;: &quot; + msg  + &#39;\\n&#39; +\r\n    \t\t\t\t\tLog.getStackTraceString(ex));\r\n    \r\n    \t\t\t// Handle network exceptions and other exceptions here.\r\n    \t\t}\r\n    \t\treturn null;\r\n    \t}\r\n    }","title":"Data fetching from an API in android","body":"<p>I strongly suggest you make an Abstract HttpRequestTask which extends AsyncTask. In this abstract ancestor you can make some helper methods for reading your input, something like so:</p>\n\n<pre><code>/**\n * HttpRequestTask is an abstract extension of an AsyncTask for HTTP Requests.\n *\n * @param &lt;P&gt;\n *      Type for parameter(s) to doInBackground (can be Void if none provided)\n * @param &lt;R&gt;\n *      Type for result of request (can be Void if ignored, or using listeners.)\n */\npublic abstract class HttpRequestTask&lt;P, R&gt; extends AsyncTask&lt;P, Integer, R&gt;\n{\n    private static final String TAG = \"HttpRequestTask\";\n\n    // Post form encoded requests, get back JSON response\n    private static final RequestMethod DEFAULT_REQUEST_METHOD = RequestMethod.POST;\n    private static final String DEFAULT_CONTENT_TYPE = \"application/x-www-form-urlencoded;charset=UTF-8;\";\n    private static final String DEFAULT_ACCEPT = \"application/json;\";\n    private static final int DEFAULT_TIMEOUT = 8000; // 8 seconds\n    private static final String CHARSET = \"UTF-8\";\n\n    protected static final String NULL_CONTEXT = \"Context is null.\";\n    protected static final String INVALID_RESPONSE = \"The server did not send back a valid response.\";\n\n    // Request methods supported by back-end\n    protected enum RequestMethod\n    {\n        GET(\"GET\"),\n        POST(\"POST\");\n\n        private final String method;\n\n        RequestMethod(String method)\n        {\n            this.method = method;\n        }\n\n        @Override\n        public String toString()\n        {\n            return this.method;\n        }\n    }\n\n    /**\n     * ALWAYS use application context here to prevent memory leaks.\n     *\n     */\n    protected HttpRequestTask(@NonNull final Context context)\n    {\n        this.context = context;\n    }\n\n    protected void verifyConnection() throws IOException\n    {\n        if (!SystemUtil.isInternetAvailable(context))\n        {\n            throw new IOException(\"Internet is unavailable.\");\n        }\n    }\n\n    /**\n     * Creates and opens a URLConnection for the url parameter, as well as setting request options.\n     *\n     * @param url\n     *      to connect to.\n     *\n     * @return opened HTTPURLConnection for POSTing data to ctservices.\n     */\n    protected HttpURLConnection getURLConnection(URL url) throws IOException\n    {\n        return this.getURLConnection(url, DEFAULT_REQUEST_METHOD, DEFAULT_CONTENT_TYPE,\n                DEFAULT_ACCEPT, DEFAULT_TIMEOUT);\n    }\n\n    /**\n     * Creates and opens a URLConnection for the url parameter, as well as setting request options.\n     *\n     * @param url\n     *      to connect to.\n     *\n     * @return opened HTTPURLConnection\n     */\n    protected HttpURLConnection getURLConnection(@NonNull final URL url,\n                                                                                             @NonNull final RequestMethod requestMethod,\n                                                                                             @NonNull final String contentType,\n                                                                                             @Nullable final String accept, final int timeout)\n            throws IOException\n    {\n        verifyConnection();\n\n        HttpURLConnection urlConnection = (HttpURLConnection) url.openConnection();\n        urlConnection.setRequestMethod(requestMethod.toString());\n        urlConnection.setRequestProperty(\"Content-Type\", contentType);\n\n        if (accept != null &amp;&amp; !accept.isEmpty())\n        {\n            urlConnection.setRequestProperty(\"Accept\", accept);\n        }\n\n        urlConnection.setReadTimeout(timeout);\n        urlConnection.setConnectTimeout(timeout);\n        urlConnection.setUseCaches(false);\n        urlConnection.setDoInput(true);\n        urlConnection.setDoOutput(true);\n        return urlConnection;\n    }\n\n    /**\n     * Creates and opens a URLConnection for the url parameter, but does not set any request options.\n     *\n     * @param url\n     *      to connect to.\n     *\n     * @return opened HTTPURLConnection without parameters set.\n     */\n    protected HttpURLConnection getBasicURLConnection(URL url) throws IOException\n    {\n        if (!SystemUtil.isInternetAvailable(applicationContext.get()))\n        {\n            throw new IOException(\"Internet is unavailable.\");\n        }\n\n        HttpURLConnection urlConnection = (HttpURLConnection) url.openConnection();\n        return urlConnection;\n    }\n\n    /**\n     * Write a JSONObject of request parameters to the output stream as form-encoded data.\n     *\n     * @param urlConnection\n     *      opened urlConnection with output enabled (done by getURLConnection).\n     * @param params\n     *      to write to request.\n     *\n     * @throws IOException\n     *      problem writing to output stream\n     */\n    protected void writeParams(HttpURLConnection urlConnection, JSONObject params) throws IOException\n    {\n        OutputStream outputStream = urlConnection.getOutputStream();\n        BufferedWriter outWriter = new BufferedWriter(new OutputStreamWriter(outputStream,\n                StandardCharsets.UTF_8));\n\n        String urlParams = this.encodeJSONObject(params);\n\n        outWriter.write(urlParams);\n        outWriter.flush();\n        outWriter.close();\n        outputStream.close();\n    }\n\n    /**\n     * Reads the response of a URLConnection from the input stream and puts it in a string.\n     *\n     * @param urlConnection\n     *      opened urlConnection with input enabled (done by getURLConnection).\n     *\n     * @return response string\n     *\n     * @throws IOException\n     *      problem reading input stream\n     */\n    protected String readResponse(HttpURLConnection urlConnection) throws IOException\n    {\n        InputStream inputStream = null;\n\n        try\n        {\n            /* If we failed to connect will throw a SocketResponseTimeoutException,\n             * which is an IOException. */\n            int responseCode = urlConnection.getResponseCode();\n\n            if (HttpURLConnection.HTTP_OK != responseCode)\n            {\n                throw new IOException(\"Bad response code - \" + responseCode);\n            }\n\n            inputStream = urlConnection.getInputStream();\n            final String response = parseInputStream(inputStream);\n            urlConnection.disconnect();\n            return response;\n        }\n        finally\n        {\n            if (inputStream != null)\n            {\n                try\n                {\n                    inputStream.close();\n                }\n                catch (Exception e) {}\n            }\n        }\n    }\n\n    protected Context getContext()\n    {\n        return this.context;\n    }\n\n    protected String getString(final int resId)\n    {\n        return getContext().getString(resId);\n    }\n\n    /**\n     * Encodes a JSONObject as a form-data URL string.\n     *\n     * @param jo\n     *      to encode\n     *\n     * @return encoded URL string\n     */\n    private String encodeJSONObject(JSONObject jo)\n    {\n        StringBuilder sb = new StringBuilder();\n        boolean first = true;\n        Iterator&lt;String&gt; itr = jo.keys();\n        String key;\n        Object val;\n\n        try\n        {\n            while (itr.hasNext())\n            {\n                key = itr.next();\n                val = jo.get(key);\n\n                if (first)\n                {\n                    first = false;\n                }\n                else\n                {\n                    sb.append('&amp;');\n                }\n\n                sb.append(URLEncoder.encode(key, CHARSET));\n                sb.append('=');\n                sb.append(URLEncoder.encode(val.toString(), CHARSET));\n            }\n        }\n        catch (JSONException | UnsupportedEncodingException e) {}\n\n        return sb.toString();\n    }\n\n    private String parseInputStream(InputStream is) throws IOException\n    {\n        BufferedReader br = null;\n\n        try\n        {\n            br = new BufferedReader(new InputStreamReader(is));\n            StringBuilder sb = new StringBuilder();\n            String line;\n\n            while ((line = br.readLine()) != null)\n            {\n                sb.append(line);\n            }\n\n            return sb.toString();\n        }\n        finally\n        {\n            if (br != null)\n            {\n                try\n                {\n                    br.close();\n                }\n                catch (Exception e) {}\n            }\n        }\n    }\n\n    /**\n     * Merges any properties of b into a that don't already have a key match in a.\n     *\n     * @param a\n     *      merging to\n     * @param b\n     *      merging from\n     *\n     * @return a with any unique values from b\n     */\n    protected JSONObject mergeJSONObjects(JSONObject a, JSONObject b)\n    {\n        if (b == null)\n        {\n            return a;\n        }\n        if (a == null)\n        {\n            return b;\n        }\n\n        try\n        {\n            Iterator&lt;String&gt; bItr = b.keys();\n            String key;\n            while (bItr.hasNext())\n            {\n                key = bItr.next();\n                if (!a.has(key))\n                {\n                    a.put(key, b.get(key));\n                }\n            }\n\n            return a;\n        }\n        catch (Exception ex)\n        {\n            Log.e(TAG, ex.getClass().getSimpleName() + \" in mergeJSONObjects: \" + ex.getMessage() +\n                    '\\n' + Log.getStackTraceString(ex));\n            return a;\n        }\n    }\n}\n</code></pre>\n\n<p>Then you can extend your HttpRequestTask to easily make network requests:</p>\n\n<pre><code>public class ExampleNetworkTask extends HttpRequestTask&lt;Void, Void&gt;\n{\n    private static final String TAG = \"ExampleNetworkTask\";\n\n    private final SimpleListener successListener;\n    private final StringListener errorListener;\n    private final String servicesUrl;\n\n    public static void start(@NonNull final Context context,\n                             @Nullable final SimpleListener successListener,\n                             @Nullable final StringListener errorListener)\n        throws IllegalArgumentException\n    {\n        if (context == null)\n        {\n            throw new IllegalArgumentException(NULL_CONTEXT);\n        }\n\n        new ExampleNetworkTask(context, successListener, errorListener).execute();\n    }\n\n    private ExampleNetworkTask(@NonNull final Context context,\n                               @Nullable final SimpleListener successListener,\n                               @Nullable final StringListener errorListener)\n    {\n        super(context);\n\n        this.servicesUrl = SystemUtil.getServiceUrl(getContext(), R.string.example_service);\n        this.successListener = successListener;\n        this.errorListener = errorListener;\n    }\n\n    @Override\n    protected Void doInBackground(Void... voids)\n    {\n        try\n        {\n            final HttpURLConnection urlConnection = super.getURLConnection(new URL(servicesUrl));\n\n            final JSONObject params = new JSONObject();\n\n            // Add params\n            params.put(\"app_key\", appKey);\n            params.put(\"order_number\", orderNumber);\n            // ...\n\n            // Send request, read parse response\n            super.writeParams(urlConnection, params);\n            final String response = super.readResponse(urlConnection);\n            final JSONObject responseObj = new JSONObject(response);\n\n            // Handle response\n        }\n        catch (Exception ex)\n        {\n            final String msg = ex.getLocalizedMessage();\n            Log.e(TAG, ex.getClass().getSimpleName() + \": \" + msg  + '\\n' +\n                    Log.getStackTraceString(ex));\n\n            // Handle network exceptions and other exceptions here.\n        }\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16891805,"reputation":11,"user_id":12215352,"display_name":"Mustafiz Rahman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571128686,"creation_date":1571128686,"answer_id":58390514,"question_id":58379740,"body_markdown":"Thank you guys! finally i got the answer using OkHttpClient. here is the code:\r\n\r\n```\r\n OkHttpClient client = new OkHttpClient();\r\n\r\n            MediaType mediaType = MediaType.parse(&quot;application/x-www-form-urlencoded&quot;);\r\n            RequestBody body = RequestBody.create(mediaType, &quot;app_key=whatever&quot;);\r\n            Request request = new Request.Builder()\r\n                    .url(&quot;https://app.inyek.com/app_api/api_extra/all_order.php&quot;)\r\n                    .post(body)\r\n                    .addHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)\r\n                    .addHeader(&quot;key&quot;, &quot;whatever&quot;)\r\n                    .addHeader(&quot;cache-control&quot;, &quot;no-cache&quot;)\r\n                    .addHeader(&quot;Postman-Token&quot;, &quot;whatever&quot;)\r\n                    .build();\r\n\r\n            Response response = client.newCall(request).execute();\r\n```","title":"Data fetching from an API in android","body":"<p>Thank you guys! finally i got the answer using OkHttpClient. here is the code:</p>\n\n<pre><code> OkHttpClient client = new OkHttpClient();\n\n            MediaType mediaType = MediaType.parse(\"application/x-www-form-urlencoded\");\n            RequestBody body = RequestBody.create(mediaType, \"app_key=whatever\");\n            Request request = new Request.Builder()\n                    .url(\"https://app.inyek.com/app_api/api_extra/all_order.php\")\n                    .post(body)\n                    .addHeader(\"Content-Type\", \"application/x-www-form-urlencoded\")\n                    .addHeader(\"key\", \"whatever\")\n                    .addHeader(\"cache-control\", \"no-cache\")\n                    .addHeader(\"Postman-Token\", \"whatever\")\n                    .build();\n\n            Response response = client.newCall(request).execute();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5883884,"reputation":931,"user_id":4632482,"display_name":"Peter Bruins"},"score":0,"creation_date":1683718308,"post_id":76215323,"comment_id":134408784,"body_markdown":"An answer needs some explanation. An answer with only code is not a proper answer.","body":"An answer needs some explanation. An answer with only code is not a proper answer."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1683718320,"post_id":76215323,"comment_id":134408789,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76215323/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28564851,"reputation":1,"user_id":21867871,"display_name":"user21867871"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683698789,"creation_date":1683698789,"answer_id":76215323,"question_id":58379740,"body_markdown":"        package com.example.heptotech;\r\n    \r\n    import android.content.Intent;\r\n    import android.content.SharedPreferences;\r\n    import android.os.Bundle;\r\n    import android.view.MenuItem;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.lifecycle.ViewModelProvider;\r\n    import androidx.recyclerview.widget.LinearLayoutManager;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n    \r\n    import com.example.heptotech.adapter.DetailsViewAdapter;\r\n    import com.example.heptotech.bean.CRUDData;\r\n    import com.example.heptotech.model.FetchCRUDData;\r\n    import com.google.android.material.bottomnavigation.BottomNavigationView;\r\n    import com.google.firebase.database.DatabaseReference;\r\n    import com.google.firebase.database.FirebaseDatabase;\r\n    \r\n    import java.util.ArrayList;\r\n    \r\n    public class ThirdNavigationActivity extends AppCompatActivity {\r\n        BottomNavigationView bottomNavigationView;\r\n        CRUDData crudData = new CRUDData();\r\n        DatabaseReference crudDatabaseReference;\r\n        long crudMaxId = 0;\r\n        RecyclerView recycler_view;\r\n        ArrayList&lt;CRUDData&gt; crudDataArrayList = new ArrayList&lt;&gt;();\r\n        DetailsViewAdapter detailsViewAdapter;\r\n        FetchCRUDData fetchCRUDData;\r\n        String userId;\r\n        @Override\r\n        protected void onPostResume() {\r\n    \r\n    \r\n            fetchCRUDData = new ViewModelProvider(this).get(FetchCRUDData.class);\r\n    \r\n            fetchCRUDData.crudTableUpdated.observe(this, books -&gt; {\r\n                detailsViewAdapter.notifyDataSetChanged();\r\n            });\r\n            init_Me_Library_Recyclerview();\r\n            super.onPostResume();\r\n        }\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_third_navigation);\r\n            this.setTitle(&quot;Dashboard&quot;);\r\n            SharedPreferences sharedPreferences = getSharedPreferences(&quot;LOGIN&quot;, MODE_PRIVATE);\r\n            userId = sharedPreferences.getString(&quot;customerId&quot;, &quot;&quot;);\r\n    \r\n    \r\n            crudDatabaseReference = FirebaseDatabase.getInstance().getReference(&quot;CrudTable&quot;);\r\n            recycler_view = findViewById(R.id.recycler_view);\r\n            recycler_view.setHasFixedSize(true);\r\n            recycler_view.setLayoutManager(new LinearLayoutManager(ThirdNavigationActivity.this));\r\n    \r\n            fetchCRUDData = new ViewModelProvider(this).get(FetchCRUDData.class);\r\n            fetchCRUDData.crudTableUpdated.observe(this, books -&gt; {\r\n                detailsViewAdapter.notifyDataSetChanged();\r\n            });\r\n    \r\n            init_Me_Library_Recyclerview();\r\n    \r\n    \r\n            bottomNavigationView = findViewById(R.id.drawerLayout);\r\n            bottomNavigationView.setSelectedItemId(R.id.NavThree);\r\n            bottomNavigationView.setOnNavigationItemSelectedListener(new BottomNavigationView.OnNavigationItemSelectedListener() {\r\n                @Override\r\n                public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n                    switch (item.getItemId()) {\r\n                        case R.id.NavOne: {\r\n    \r\n                            Intent intent = new Intent(getApplicationContext(), FirstNavigationActivity.class);\r\n                            intent.setFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION);\r\n                            startActivity(intent);\r\n                            return true;\r\n                        }\r\n                        case R.id.NavTwo: {\r\n    \r\n                            Intent intent = new Intent(getApplicationContext(), SecondNavigationActivity.class);\r\n                            intent.setFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION);\r\n                            startActivity(intent);\r\n                            return true;\r\n                        }\r\n                        case R.id.NavThree: {\r\n    \r\n                            Intent intent = new Intent(getApplicationContext(), ThirdNavigationActivity.class);\r\n                            intent.setFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION);\r\n                            startActivity(intent);\r\n                            return true;\r\n                        }\r\n    \r\n                    }\r\n                    return false;\r\n                }\r\n            });\r\n    \r\n        }\r\n    \r\n        public void init_Me_Library_Recyclerview() {\r\n    \r\n            detailsViewAdapter = new DetailsViewAdapter(this, fetchCRUDData.getUpdatedList(&quot;1&quot;).getValue(), &quot;2&quot;);\r\n            recycler_view.setLayoutManager(new LinearLayoutManager(this));\r\n            recycler_view.setAdapter(detailsViewAdapter);\r\n            detailsViewAdapter.notifyDataSetChanged();\r\n    \r\n        }\r\n    }","title":"Data fetching from an API in android","body":"<pre><code>    package com.example.heptotech;\n\nimport android.content.Intent;\nimport android.content.SharedPreferences;\nimport android.os.Bundle;\nimport android.view.MenuItem;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.lifecycle.ViewModelProvider;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.example.heptotech.adapter.DetailsViewAdapter;\nimport com.example.heptotech.bean.CRUDData;\nimport com.example.heptotech.model.FetchCRUDData;\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\n\nimport java.util.ArrayList;\n\npublic class ThirdNavigationActivity extends AppCompatActivity {\n    BottomNavigationView bottomNavigationView;\n    CRUDData crudData = new CRUDData();\n    DatabaseReference crudDatabaseReference;\n    long crudMaxId = 0;\n    RecyclerView recycler_view;\n    ArrayList&lt;CRUDData&gt; crudDataArrayList = new ArrayList&lt;&gt;();\n    DetailsViewAdapter detailsViewAdapter;\n    FetchCRUDData fetchCRUDData;\n    String userId;\n    @Override\n    protected void onPostResume() {\n\n\n        fetchCRUDData = new ViewModelProvider(this).get(FetchCRUDData.class);\n\n        fetchCRUDData.crudTableUpdated.observe(this, books -&gt; {\n            detailsViewAdapter.notifyDataSetChanged();\n        });\n        init_Me_Library_Recyclerview();\n        super.onPostResume();\n    }\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_third_navigation);\n        this.setTitle(&quot;Dashboard&quot;);\n        SharedPreferences sharedPreferences = getSharedPreferences(&quot;LOGIN&quot;, MODE_PRIVATE);\n        userId = sharedPreferences.getString(&quot;customerId&quot;, &quot;&quot;);\n\n\n        crudDatabaseReference = FirebaseDatabase.getInstance().getReference(&quot;CrudTable&quot;);\n        recycler_view = findViewById(R.id.recycler_view);\n        recycler_view.setHasFixedSize(true);\n        recycler_view.setLayoutManager(new LinearLayoutManager(ThirdNavigationActivity.this));\n\n        fetchCRUDData = new ViewModelProvider(this).get(FetchCRUDData.class);\n        fetchCRUDData.crudTableUpdated.observe(this, books -&gt; {\n            detailsViewAdapter.notifyDataSetChanged();\n        });\n\n        init_Me_Library_Recyclerview();\n\n\n        bottomNavigationView = findViewById(R.id.drawerLayout);\n        bottomNavigationView.setSelectedItemId(R.id.NavThree);\n        bottomNavigationView.setOnNavigationItemSelectedListener(new BottomNavigationView.OnNavigationItemSelectedListener() {\n            @Override\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n                switch (item.getItemId()) {\n                    case R.id.NavOne: {\n\n                        Intent intent = new Intent(getApplicationContext(), FirstNavigationActivity.class);\n                        intent.setFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION);\n                        startActivity(intent);\n                        return true;\n                    }\n                    case R.id.NavTwo: {\n\n                        Intent intent = new Intent(getApplicationContext(), SecondNavigationActivity.class);\n                        intent.setFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION);\n                        startActivity(intent);\n                        return true;\n                    }\n                    case R.id.NavThree: {\n\n                        Intent intent = new Intent(getApplicationContext(), ThirdNavigationActivity.class);\n                        intent.setFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION);\n                        startActivity(intent);\n                        return true;\n                    }\n\n                }\n                return false;\n            }\n        });\n\n    }\n\n    public void init_Me_Library_Recyclerview() {\n\n        detailsViewAdapter = new DetailsViewAdapter(this, fetchCRUDData.getUpdatedList(&quot;1&quot;).getValue(), &quot;2&quot;);\n        recycler_view.setLayoutManager(new LinearLayoutManager(this));\n        recycler_view.setAdapter(detailsViewAdapter);\n        detailsViewAdapter.notifyDataSetChanged();\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16891805,"reputation":11,"user_id":12215352,"display_name":"Mustafiz Rahman"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11017,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":5,"score":1,"last_activity_date":1683698789,"creation_date":1571066511,"question_id":58379740,"body_markdown":"![enter image description here][1]\r\n\r\nI have tried to fetch data from an API which has a `key`. But in the output it says *&quot;app key not found&quot;*. \r\n\r\nI have tested it on Postman and it works properly.\r\n\r\nHere is my code:\r\n\r\n```\r\npublic class fetchData extends AsyncTask&lt;Void,Void,Void&gt; {\r\n    String data=&quot;&quot;;\r\n    @Override\r\n    protected Void doInBackground(Void... voids) {\r\n\r\n        try {\r\n            URL url=new URL(&quot;https://app.inyek.com/app_api/api_extra/all_order.php?&quot;);\r\n\r\n            HttpURLConnection con=(HttpURLConnection) url.openConnection();\r\n            con.setRequestMethod(&quot;POST&quot;);\r\n            con.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded/json;charset=UTF-8&quot;);\r\n            con.setRequestProperty(&quot;app_key&quot;,&quot;whatever&quot;);\r\n            con.setDoOutput(true);\r\n\r\n\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Vk9L4.png","title":"Data fetching from an API in android","body":"<p><img src=\"https://i.stack.imgur.com/Vk9L4.png\" alt=\"enter image description here\"></p>\n\n<p>I have tried to fetch data from an API which has a <code>key</code>. But in the output it says <em>\"app key not found\"</em>. </p>\n\n<p>I have tested it on Postman and it works properly.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>public class fetchData extends AsyncTask&lt;Void,Void,Void&gt; {\n    String data=\"\";\n    @Override\n    protected Void doInBackground(Void... voids) {\n\n        try {\n            URL url=new URL(\"https://app.inyek.com/app_api/api_extra/all_order.php?\");\n\n            HttpURLConnection con=(HttpURLConnection) url.openConnection();\n            con.setRequestMethod(\"POST\");\n            con.setRequestProperty(\"Content-Type\", \"application/x-www-form-urlencoded/json;charset=UTF-8\");\n            con.setRequestProperty(\"app_key\",\"whatever\");\n            con.setDoOutput(true);\n\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-batch"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1683698980,"post_id":76215171,"comment_id":134404501,"body_markdown":"Those packages do not contain beans nor configuration so nothing will be detected. You need your own configuration class for this.","body":"Those packages do not contain beans nor configuration so nothing will be detected. You need your own configuration class for this."},{"owner":{"account_id":358225,"reputation":85,"user_id":1708224,"display_name":"anrequete"},"score":0,"creation_date":1683700148,"post_id":76215171,"comment_id":134404718,"body_markdown":"I guess you refer to org.* packages. Well, but I need to autowire classes like SftpSession, which cannot be created with a constructor. Besides, I still have problems to understand why I do not have problems with @autowired when running everything from Spring Boot console in Eclipse, just via CommandJobLineRunner.","body":"I guess you refer to org.* packages. Well, but I need to autowire classes like SftpSession, which cannot be created with a constructor. Besides, I still have problems to understand why I do not have problems with @autowired when running everything from Spring Boot console in Eclipse, just via CommandJobLineRunner."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1683700273,"post_id":76215171,"comment_id":134404740,"body_markdown":"The fact that you need to autowire them doesn&#39;t automatically make it that they are detected as beans. You need a configuration class that creates an `SftpSession` there is no way it can be automatically created as it requires configuration etc. Why it works locally is probably because you have additinal configuration, how are you createing the executable jar? O wait you are using Spring Batch instead of Sprig Boot yu should be using the latter to run the jar (which is proabbly as well what you do in your IDE).","body":"The fact that you need to autowire them doesn&#39;t automatically make it that they are detected as beans. You need a configuration class that creates an <code>SftpSession</code> there is no way it can be automatically created as it requires configuration etc. Why it works locally is probably because you have additinal configuration, how are you createing the executable jar? O wait you are using Spring Batch instead of Sprig Boot yu should be using the latter to run the jar (which is proabbly as well what you do in your IDE)."},{"owner":{"account_id":358225,"reputation":85,"user_id":1708224,"display_name":"anrequete"},"score":0,"creation_date":1683700531,"post_id":76215171,"comment_id":134404786,"body_markdown":"I understand. Maybe I need to point to the .jar file. I am running the aforementioned command from the target folder of the project. The command and instructions are in the question. Could you revise it?","body":"I understand. Maybe I need to point to the .jar file. I am running the aforementioned command from the target folder of the project. The command and instructions are in the question. Could you revise it?"},{"owner":{"account_id":358225,"reputation":85,"user_id":1708224,"display_name":"anrequete"},"score":0,"creation_date":1683700603,"post_id":76215171,"comment_id":134404802,"body_markdown":"Inside my target folder, I have those elements: classes/\ncoverage-reports/\ndependency-jars/\ndigitkpi.jar\ndigitkpi.jar.original\ngenerated-sources/\ngenerated-test-sources/\nmaven-archiver/\nmaven-status/\nsite/\nsurefire-reports/\ntest-classes/","body":"Inside my target folder, I have those elements: classes/ coverage-reports/ dependency-jars/ digitkpi.jar digitkpi.jar.original generated-sources/ generated-test-sources/ maven-archiver/ maven-status/ site/ surefire-reports/ test-classes/"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1683700659,"post_id":76215171,"comment_id":134404825,"body_markdown":"As stated in your IDE you are running the Spring Boot application, whereas you totally bypass Spring Boot on the commandline. 2 different modes of running. Instead you need to run the jar directly instead of through spring batch and use the Spring Boot support to launch the job you want.","body":"As stated in your IDE you are running the Spring Boot application, whereas you totally bypass Spring Boot on the commandline. 2 different modes of running. Instead you need to run the jar directly instead of through spring batch and use the Spring Boot support to launch the job you want."},{"owner":{"account_id":358225,"reputation":85,"user_id":1708224,"display_name":"anrequete"},"score":0,"creation_date":1683701230,"post_id":76215171,"comment_id":134404924,"body_markdown":"**java -jar digitkpi.jar org.springframework.batch.core.launch.support.CommandLineJobRunner com.iberdrola.digital.cats.batch.process.anony.config.AnonymizerFTPConfig dbAnonymizerI** also fails. However, could you clarify about the Spring Boot support? I tried to install the Spring Boot CLI but it doesn&#39;t work for Batch. I want to be able to run a batch from terminal.","body":"<b>java -jar digitkpi.jar org.springframework.batch.core.launch.support.CommandLineJob&zwnj;&#8203;Runner com.iberdrola.digital.cats.batch.process.anony.config.Anonym&zwnj;&#8203;izerFTPConfig dbAnonymizerI</b> also fails. However, could you clarify about the Spring Boot support? I tried to install the Spring Boot CLI but it doesn&#39;t work for Batch. I want to be able to run a batch from terminal."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1683704145,"post_id":76215171,"comment_id":134405534,"body_markdown":"You dont need the cli. Just launch the jar `java -jar your.jar`. No batch runner etc. you are doing the same in your IDE by launching the `main` from your `@SpringBootApplication` annotation class. You are using two totally different execution models and wonder why they behave differently.","body":"You dont need the cli. Just launch the jar <code>java -jar your.jar</code>. No batch runner etc. you are doing the same in your IDE by launching the <code>main</code> from your <code>@SpringBootApplication</code> annotation class. You are using two totally different execution models and wonder why they behave differently."},{"owner":{"account_id":358225,"reputation":85,"user_id":1708224,"display_name":"anrequete"},"score":0,"creation_date":1683704221,"post_id":76215171,"comment_id":134405549,"body_markdown":"So, I guess that for those autowired problems I cannot use the CommandJobLineRunner, but that I must run the jar normally.","body":"So, I guess that for those autowired problems I cannot use the CommandJobLineRunner, but that I must run the jar normally."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1683704393,"post_id":76215171,"comment_id":134405584,"body_markdown":"That is the whole point of using Spring Boot. Or also use the `CommandLineJobRunner` in your IDE to have the same issues so you can solve it. But as stated you are using Spring Boot then utilize it to your advantage.","body":"That is the whole point of using Spring Boot. Or also use the <code>CommandLineJobRunner</code> in your IDE to have the same issues so you can solve it. But as stated you are using Spring Boot then utilize it to your advantage."},{"owner":{"account_id":358225,"reputation":85,"user_id":1708224,"display_name":"anrequete"},"score":0,"creation_date":1683705326,"post_id":76215171,"comment_id":134405804,"body_markdown":"I want to use CommandLineJobRunner  via terminal because I want to encapsulate the commands in a .sh script to be scheduled via CTRL+M","body":"I want to use CommandLineJobRunner  via terminal because I want to encapsulate the commands in a .sh script to be scheduled via CTRL+M"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1683706149,"post_id":76215171,"comment_id":134405981,"body_markdown":"No you don&#39;t want that, you still want to use Spring Boot. What makes you think you cannot pass the commands to Spring Boot. You use the same in your IDE.","body":"No you don&#39;t want that, you still want to use Spring Boot. What makes you think you cannot pass the commands to Spring Boot. You use the same in your IDE."},{"owner":{"account_id":358225,"reputation":85,"user_id":1708224,"display_name":"anrequete"},"score":0,"creation_date":1683706502,"post_id":76215171,"comment_id":134406065,"body_markdown":"So, I will run java -jar solution.jar (the JAR refers to spring boot program). Thanks a lot for your attention.","body":"So, I will run java -jar solution.jar (the JAR refers to spring boot program). Thanks a lot for your attention."}],"owner":{"account_id":358225,"reputation":85,"user_id":1708224,"display_name":"anrequete"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683696656,"creation_date":1683696656,"question_id":76215171,"body_markdown":"I am trying to run a Spring Batch job via CommandJobLineRunner.\r\n\r\nI am using a command like this:\r\n\r\n    $ java -cp &quot;classes;dependency-jars/*&quot; org.springframework.batch.core.launch.support.CommandLineJobRunner com.iberdrola.digital.cats.batch.process.anony.config.AnonymizerFTPConfig dbAnonymizerI\r\n\r\n*AnonymizerFTPConfig* is my @ConfigurationClass, where I have the @ComponentScan annotation to load basePackages. If I use it, I do not have any problem with autowiring classes from another packages from my project. However @Autowiring does not work for org.* packages like those which contain SftpSession or JdbcTemplate.\r\n\r\nMy annotation is in the aforementioned configuration class:\r\n\r\n    @ComponentScan(basePackages = {&quot;com.iberdrola.digital.cats.batch.process.anonymizer.tasklet&quot;, &quot;org.springframework.jdbc.core&quot;, &quot;org.springframework.integration.sftp.session&quot;})\r\n\r\nSo, why I am having problems when autowiring third part classes in CommandJobLineRunner? If I run the Spring Batch Application via Spring Boot in Eclipse I do not have those problems.\r\n\r\nThank you very much in advance.\r\n\r\nAll the best,\r\n&#193;ngel Manuel.\r\n\r\n","title":"Spring Batch @ComponentScan does not scan third-part packages (org, ...)","body":"<p>I am trying to run a Spring Batch job via CommandJobLineRunner.</p>\n<p>I am using a command like this:</p>\n<pre><code>$ java -cp &quot;classes;dependency-jars/*&quot; org.springframework.batch.core.launch.support.CommandLineJobRunner com.iberdrola.digital.cats.batch.process.anony.config.AnonymizerFTPConfig dbAnonymizerI\n</code></pre>\n<p><em>AnonymizerFTPConfig</em> is my @ConfigurationClass, where I have the @ComponentScan annotation to load basePackages. If I use it, I do not have any problem with autowiring classes from another packages from my project. However @Autowiring does not work for org.* packages like those which contain SftpSession or JdbcTemplate.</p>\n<p>My annotation is in the aforementioned configuration class:</p>\n<pre><code>@ComponentScan(basePackages = {&quot;com.iberdrola.digital.cats.batch.process.anonymizer.tasklet&quot;, &quot;org.springframework.jdbc.core&quot;, &quot;org.springframework.integration.sftp.session&quot;})\n</code></pre>\n<p>So, why I am having problems when autowiring third part classes in CommandJobLineRunner? If I run the Spring Batch Application via Spring Boot in Eclipse I do not have those problems.</p>\n<p>Thank you very much in advance.</p>\n<p>All the best,\nngel Manuel.</p>\n"},{"tags":["java","rounding"],"comments":[{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":1,"creation_date":1463409918,"post_id":37256550,"comment_id":62040379,"body_markdown":"A rare instance of a useful Code Ranch post: http://www.coderanch.com/t/239803/java-programmer-OCPJP/certification/Difference-rint-methods-Math-class   `Math.rint()` ande `Math.round()` behave differently for inputs exactly in between two integers.","body":"A rare instance of a useful Code Ranch post: <a href=\"http://www.coderanch.com/t/239803/java-programmer-OCPJP/certification/Difference-rint-methods-Math-class\" rel=\"nofollow noreferrer\">coderanch.com/t/239803/java-programmer-OCPJP/certification/&hellip;</a>   <code>Math.rint()</code> ande <code>Math.round()</code> behave differently for inputs exactly in between two integers."},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":3,"creation_date":1463410139,"post_id":37256550,"comment_id":62040522,"body_markdown":"@TimBiegeleisen:  If you can add some meat to that, it should be an answer.","body":"@TimBiegeleisen:  If you can add some meat to that, it should be an answer."}],"answers":[{"tags":[],"owner":{"account_id":7562599,"reputation":6043,"user_id":6083675,"accept_rate":29,"display_name":"Laurel"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1659476271,"creation_date":1463410159,"answer_id":37256784,"question_id":37256550,"body_markdown":"They behave differently when passed something ending in `.5`, signed 0, NaN, or an Infinity.\r\n\r\n\r\n\r\n`Math.round` accepts both `double`s and `float`s, and has varying return types for some reason (`long` and `int` respectively, which are the smallest type large enough to cover the entire range represented by the parameter).\r\n\r\n`Math.rint` accepts `double`s and returns `double`s. It is less &quot;destructive&quot; than `Math.round` because it doesn&#39;t alter values under several conditions (see below).\r\n\r\n&gt;The behavior of this method follows IEEE Standard 754, section 4. This kind of rounding is sometimes called rounding to nearest, or banker&#39;s rounding. It minimizes rounding errors that result from consistently rounding a midpoint value in a single direction.\r\n\r\n(From [Jon Skeet&#39;s answer](https://stackoverflow.com/a/977807) in C#. The behavior of Math.Round in C# is more similar to Java&#39;s `Math.rint`, as confusing as that may be.)\r\n\r\n----\r\n\r\n\r\nFrom the [docs](https://docs.oracle.com/javase/7/docs/api/java/lang/Math.html):\r\n\r\n&gt;     static double rint(double a)\r\n&gt;Returns the double value that is closest in value to the argument and is equal to a mathematical integer.\r\n&gt;\r\n&gt;Returns the double value that is closest in value to the argument and is equal to a mathematical integer. If two double values that are mathematical integers are equally close, the result is the integer value that is even. \r\n&gt;\r\n&gt;Special cases:\r\n&gt;\r\n&gt;- If the argument value is already equal to a mathematical integer, then the result is the same as the argument.\r\n&gt;\r\n&gt;- If the argument is NaN or an infinity or positive zero or negative zero, then the result is the same as the argument.\r\n\r\n...\r\n\r\n&gt;     static long round(double a)\r\n&gt;...\r\n&gt;\r\n&gt;     static int round(float a)\r\n&gt;Returns the closest int to the argument, with ties rounding up.\r\n&gt;\r\n&gt;Special cases:\r\n&gt;\r\n&gt;- If the argument is NaN, the result is 0.\r\n&gt;- If the argument is negative infinity or any value less than or equal to the value of Integer.MIN_VALUE, the result is equal to the value of Integer.MIN_VALUE.\r\n&gt;- If the argument is positive infinity or any value greater than or equal to the value of Integer.MAX_VALUE, the result is equal to the value of Integer.MAX_VALUE.\r\n\r\nYou can also change the behavior of `Math.round` via [RoundingMode][1]:\r\n\r\n&gt;     public enum RoundingMode\r\n&gt;     extends Enum&lt;RoundingMode&gt;\r\n&gt;Specifies a *rounding behavior* for numerical operations capable of discarding precision. Each rounding mode indicates how the least significant returned digit of a rounded result is to be calculated. If fewer digits are returned than the digits needed to represent the exact numerical result, the discarded digits will be referred to as the discarded fraction regardless the digits&#39; contribution to the value of the number. In other words, considered as a numerical value, the discarded fraction could have an absolute value greater than one.\r\n&gt;\r\n&gt;Each rounding mode description includes a table listing how different two-digit decimal values would round to a one digit decimal value under the rounding mode in question. The result column in the tables could be gotten by creating a BigDecimal number with the specified value, forming a MathContext object with the proper settings (precision set to 1, and the roundingMode set to the rounding mode in question), and calling round on this number with the proper MathContext. A summary table showing the results of these rounding operations for all rounding modes appears below.\r\n&gt;\r\n&gt; Result of rounding input to one digit with the given rounding \r\n&gt;\r\n&gt;|Input|UP|DOWN|CEILING|FLOOR|HALF_UP|HALF_DOWN|HALF_EVEN|UNNECESSARY|\r\n&gt;|--|--|--|--|--|--|--|--|--|\r\n&gt;| 5.5|6|5|6|5|6|5|6|throw ArithmeticException|\r\n&gt;| 2.5|3|2|3|2|3|2|2|throw ArithmeticException|\r\n&gt;| 1.6|2|1|2|1|2|2|2|throw ArithmeticException|\r\n&gt;| 1.1|2|1|2|1|1|1|1|throw ArithmeticException|\r\n&gt;| 1.0|1|1|1|1|1|1|1|1|\r\n&gt;|-1.0|-1|-1|-1|-1|-1|-1|-1|-1|\r\n&gt;|-1.1|-2|-1|-1|-2|-1|-1|-1|throw ArithmeticException|\r\n&gt;|-1.6|-2|-1|-1|-2|-2|-2|-2|throw ArithmeticException|\r\n&gt;|-2.5|-3|-2|-2|-3|-3|-2|-2|throw ArithmeticException|\r\n&gt;|-5.5|-6|-5|-5|-6|-6|-5|-6|throw ArithmeticException|\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/math/RoundingMode.html","title":"Difference between Math.rint() and Math.round() in Java","body":"<p>They behave differently when passed something ending in <code>.5</code>, signed 0, NaN, or an Infinity.</p>\n<p><code>Math.round</code> accepts both <code>double</code>s and <code>float</code>s, and has varying return types for some reason (<code>long</code> and <code>int</code> respectively, which are the smallest type large enough to cover the entire range represented by the parameter).</p>\n<p><code>Math.rint</code> accepts <code>double</code>s and returns <code>double</code>s. It is less &quot;destructive&quot; than <code>Math.round</code> because it doesn't alter values under several conditions (see below).</p>\n<blockquote>\n<p>The behavior of this method follows IEEE Standard 754, section 4. This kind of rounding is sometimes called rounding to nearest, or banker's rounding. It minimizes rounding errors that result from consistently rounding a midpoint value in a single direction.</p>\n</blockquote>\n<p>(From <a href=\"https://stackoverflow.com/a/977807\">Jon Skeet's answer</a> in C#. The behavior of Math.Round in C# is more similar to Java's <code>Math.rint</code>, as confusing as that may be.)</p>\n<hr />\n<p>From the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Math.html\" rel=\"nofollow noreferrer\">docs</a>:</p>\n<blockquote>\n<pre><code>static double rint(double a)\n</code></pre>\n<p>Returns the double value that is closest in value to the argument and is equal to a mathematical integer.</p>\n<p>Returns the double value that is closest in value to the argument and is equal to a mathematical integer. If two double values that are mathematical integers are equally close, the result is the integer value that is even.</p>\n<p>Special cases:</p>\n<ul>\n<li><p>If the argument value is already equal to a mathematical integer, then the result is the same as the argument.</p>\n</li>\n<li><p>If the argument is NaN or an infinity or positive zero or negative zero, then the result is the same as the argument.</p>\n</li>\n</ul>\n</blockquote>\n<p>...</p>\n<blockquote>\n<pre><code>static long round(double a)\n</code></pre>\n<p>...</p>\n<pre><code>static int round(float a)\n</code></pre>\n<p>Returns the closest int to the argument, with ties rounding up.</p>\n<p>Special cases:</p>\n<ul>\n<li>If the argument is NaN, the result is 0.</li>\n<li>If the argument is negative infinity or any value less than or equal to the value of Integer.MIN_VALUE, the result is equal to the value of Integer.MIN_VALUE.</li>\n<li>If the argument is positive infinity or any value greater than or equal to the value of Integer.MAX_VALUE, the result is equal to the value of Integer.MAX_VALUE.</li>\n</ul>\n</blockquote>\n<p>You can also change the behavior of <code>Math.round</code> via <a href=\"https://docs.oracle.com/javase/7/docs/api/java/math/RoundingMode.html\" rel=\"nofollow noreferrer\">RoundingMode</a>:</p>\n<blockquote>\n<pre><code>public enum RoundingMode\nextends Enum&lt;RoundingMode&gt;\n</code></pre>\n<p>Specifies a <em>rounding behavior</em> for numerical operations capable of discarding precision. Each rounding mode indicates how the least significant returned digit of a rounded result is to be calculated. If fewer digits are returned than the digits needed to represent the exact numerical result, the discarded digits will be referred to as the discarded fraction regardless the digits' contribution to the value of the number. In other words, considered as a numerical value, the discarded fraction could have an absolute value greater than one.</p>\n<p>Each rounding mode description includes a table listing how different two-digit decimal values would round to a one digit decimal value under the rounding mode in question. The result column in the tables could be gotten by creating a BigDecimal number with the specified value, forming a MathContext object with the proper settings (precision set to 1, and the roundingMode set to the rounding mode in question), and calling round on this number with the proper MathContext. A summary table showing the results of these rounding operations for all rounding modes appears below.</p>\n<p>Result of rounding input to one digit with the given rounding</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Input</th>\n<th>UP</th>\n<th>DOWN</th>\n<th>CEILING</th>\n<th>FLOOR</th>\n<th>HALF_UP</th>\n<th>HALF_DOWN</th>\n<th>HALF_EVEN</th>\n<th>UNNECESSARY</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>5.5</td>\n<td>6</td>\n<td>5</td>\n<td>6</td>\n<td>5</td>\n<td>6</td>\n<td>5</td>\n<td>6</td>\n<td>throw ArithmeticException</td>\n</tr>\n<tr>\n<td>2.5</td>\n<td>3</td>\n<td>2</td>\n<td>3</td>\n<td>2</td>\n<td>3</td>\n<td>2</td>\n<td>2</td>\n<td>throw ArithmeticException</td>\n</tr>\n<tr>\n<td>1.6</td>\n<td>2</td>\n<td>1</td>\n<td>2</td>\n<td>1</td>\n<td>2</td>\n<td>2</td>\n<td>2</td>\n<td>throw ArithmeticException</td>\n</tr>\n<tr>\n<td>1.1</td>\n<td>2</td>\n<td>1</td>\n<td>2</td>\n<td>1</td>\n<td>1</td>\n<td>1</td>\n<td>1</td>\n<td>throw ArithmeticException</td>\n</tr>\n<tr>\n<td>1.0</td>\n<td>1</td>\n<td>1</td>\n<td>1</td>\n<td>1</td>\n<td>1</td>\n<td>1</td>\n<td>1</td>\n<td>1</td>\n</tr>\n<tr>\n<td>-1.0</td>\n<td>-1</td>\n<td>-1</td>\n<td>-1</td>\n<td>-1</td>\n<td>-1</td>\n<td>-1</td>\n<td>-1</td>\n<td>-1</td>\n</tr>\n<tr>\n<td>-1.1</td>\n<td>-2</td>\n<td>-1</td>\n<td>-1</td>\n<td>-2</td>\n<td>-1</td>\n<td>-1</td>\n<td>-1</td>\n<td>throw ArithmeticException</td>\n</tr>\n<tr>\n<td>-1.6</td>\n<td>-2</td>\n<td>-1</td>\n<td>-1</td>\n<td>-2</td>\n<td>-2</td>\n<td>-2</td>\n<td>-2</td>\n<td>throw ArithmeticException</td>\n</tr>\n<tr>\n<td>-2.5</td>\n<td>-3</td>\n<td>-2</td>\n<td>-2</td>\n<td>-3</td>\n<td>-3</td>\n<td>-2</td>\n<td>-2</td>\n<td>throw ArithmeticException</td>\n</tr>\n<tr>\n<td>-5.5</td>\n<td>-6</td>\n<td>-5</td>\n<td>-5</td>\n<td>-6</td>\n<td>-6</td>\n<td>-5</td>\n<td>-6</td>\n<td>throw ArithmeticException</td>\n</tr>\n</tbody>\n</table>\n</div></blockquote>\n"},{"comments":[{"owner":{"account_id":1151770,"reputation":429,"user_id":1133307,"display_name":"Fleep"},"score":11,"creation_date":1482850357,"post_id":37257027,"comment_id":69896356,"body_markdown":"An important note here is that .rint() doesn&#39;t universally round down. It actually rounds to the nearest EVEN integer on a .5 boundary. \n\nIf you did Math.rint(1.5), it actually rounds up to 2.0.","body":"An important note here is that .rint() doesn&#39;t universally round down. It actually rounds to the nearest EVEN integer on a .5 boundary.   If you did Math.rint(1.5), it actually rounds up to 2.0."},{"owner":{"account_id":1107482,"reputation":2870,"user_id":1098603,"accept_rate":94,"display_name":"Matthieu"},"score":0,"creation_date":1489572693,"post_id":37257027,"comment_id":72725910,"body_markdown":"@Fleep Is there any mathematical point of rounding to an *even* number?","body":"@Fleep Is there any mathematical point of rounding to an <i>even</i> number?"},{"owner":{"account_id":1151770,"reputation":429,"user_id":1133307,"display_name":"Fleep"},"score":2,"creation_date":1489675905,"post_id":37257027,"comment_id":72783922,"body_markdown":"@Matthieu see https://en.wikipedia.org/wiki/Rounding#Round_half_to_even","body":"@Matthieu see <a href=\"https://en.wikipedia.org/wiki/Rounding#Round_half_to_even\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Rounding#Round_half_to_even</a>"},{"owner":{"account_id":1107482,"reputation":2870,"user_id":1098603,"accept_rate":94,"display_name":"Matthieu"},"score":3,"creation_date":1489681537,"post_id":37257027,"comment_id":72788443,"body_markdown":"Thanks @Fleep. To summarize: *This method treats positive and negative values symmetrically, and is therefore free of sign bias*.","body":"Thanks @Fleep. To summarize: <i>This method treats positive and negative values symmetrically, and is therefore free of sign bias</i>."},{"owner":{"account_id":12864158,"reputation":611,"user_id":9304999,"display_name":"rosshjb"},"score":0,"creation_date":1642867097,"post_id":37257027,"comment_id":125189110,"body_markdown":"Conclusion: Both `round` and `rint` round to closest integer. When the argument is halfway between two integers, the former rounds up (to positive infinity) while the latter rounds to even integer. Note: With `rint` by rounding to even, we can avoid statistical bias when we calculate an average of set of numbers.","body":"Conclusion: Both <code>round</code> and <code>rint</code> round to closest integer. When the argument is halfway between two integers, the former rounds up (to positive infinity) while the latter rounds to even integer. Note: With <code>rint</code> by rounding to even, we can avoid statistical bias when we calculate an average of set of numbers."}],"tags":[],"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"comment_count":5,"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1683696251,"creation_date":1463410861,"answer_id":37257027,"question_id":37256550,"body_markdown":"`Math.rint()` and `Math.round()` have several differences, but the one which might impact the business logic of a Java application the most is the way they handle rounding of integers which are on a boundary (e.g. `4.5` is on the boundary of `4` and `5`).  Consider the following code snippet and output:\r\n\r\n    double val1 = 4.2;\r\n    double val2 = 4.5;\r\n    System.out.println(&quot;Math.rint(&quot; + val1 + &quot;)    = &quot; + Math.rint(val1));\r\n    System.out.println(&quot;Math.round(&quot; + val1 + &quot;)   = &quot; + Math.round(val1));\r\n    System.out.println(&quot;Math.rint(&quot; + val2 + &quot;)    = &quot; + Math.rint(val2));\r\n    System.out.println(&quot;Math.round(&quot; + val2 + &quot;)   = &quot; + Math.round(val2));\r\n    System.out.println(&quot;Math.rint(&quot; + (val2 + 0.001d) + &quot;)  = &quot; + Math.rint(val2 + 0.001d));\r\n    System.out.println(&quot;Math.round(&quot; + (val2 + 0.001d) + &quot;) = &quot; + Math.round(val2 + 0.001d));\r\n\r\n**Output:**\r\n\r\n    Math.rint(4.2)    = 4.0\r\n    Math.round(4.2)   = 4\r\n    Math.rint(4.5)    = 4.0\r\n    Math.round(4.5)   = 5\r\n    Math.rint(5.5)    = 6.0\r\n    Math.round(5.5)   = 6\r\n    Math.rint(4.501)  = 5.0\r\n    Math.round(4.501) = 5\r\n\r\nAs you can see, `Math.rint(4.5)` actually converts to the nearest **even** integer, while `Math.round(4.5)` rounds up, and this deserves to be pointed out.  However, in all other cases, they both exhibit the same rounding rules which we would expect.\r\n\r\nHere is a useful Code Ranch article which briefly compares `Math.rint()` and `Math.round()`: http://www.coderanch.com/t/239803/java-programmer-OCPJP/certification/Difference-rint-methods-Math-class","title":"Difference between Math.rint() and Math.round() in Java","body":"<p><code>Math.rint()</code> and <code>Math.round()</code> have several differences, but the one which might impact the business logic of a Java application the most is the way they handle rounding of integers which are on a boundary (e.g. <code>4.5</code> is on the boundary of <code>4</code> and <code>5</code>).  Consider the following code snippet and output:</p>\n<pre><code>double val1 = 4.2;\ndouble val2 = 4.5;\nSystem.out.println(&quot;Math.rint(&quot; + val1 + &quot;)    = &quot; + Math.rint(val1));\nSystem.out.println(&quot;Math.round(&quot; + val1 + &quot;)   = &quot; + Math.round(val1));\nSystem.out.println(&quot;Math.rint(&quot; + val2 + &quot;)    = &quot; + Math.rint(val2));\nSystem.out.println(&quot;Math.round(&quot; + val2 + &quot;)   = &quot; + Math.round(val2));\nSystem.out.println(&quot;Math.rint(&quot; + (val2 + 0.001d) + &quot;)  = &quot; + Math.rint(val2 + 0.001d));\nSystem.out.println(&quot;Math.round(&quot; + (val2 + 0.001d) + &quot;) = &quot; + Math.round(val2 + 0.001d));\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>Math.rint(4.2)    = 4.0\nMath.round(4.2)   = 4\nMath.rint(4.5)    = 4.0\nMath.round(4.5)   = 5\nMath.rint(5.5)    = 6.0\nMath.round(5.5)   = 6\nMath.rint(4.501)  = 5.0\nMath.round(4.501) = 5\n</code></pre>\n<p>As you can see, <code>Math.rint(4.5)</code> actually converts to the nearest <strong>even</strong> integer, while <code>Math.round(4.5)</code> rounds up, and this deserves to be pointed out.  However, in all other cases, they both exhibit the same rounding rules which we would expect.</p>\n<p>Here is a useful Code Ranch article which briefly compares <code>Math.rint()</code> and <code>Math.round()</code>: <a href=\"http://www.coderanch.com/t/239803/java-programmer-OCPJP/certification/Difference-rint-methods-Math-class\" rel=\"nofollow noreferrer\">http://www.coderanch.com/t/239803/java-programmer-OCPJP/certification/Difference-rint-methods-Math-class</a></p>\n"},{"tags":[],"owner":{"account_id":1580007,"reputation":13266,"user_id":1465553,"accept_rate":68,"display_name":"Saurav Sahu"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1520319183,"creation_date":1463412102,"answer_id":37257458,"question_id":37256550,"body_markdown":"Difference is at **.5**. &lt;br/&gt;\r\n\r\n`Math.round()` converts ` [10.5, 11.5[ ` to 11  &lt;br/&gt;\r\n`Math.rint()` converts  ` ]10.5, 11.5[ ` to 11.0   &lt;br/&gt;\r\n\r\n`Math.round()` returns long or int.&lt;br/&gt;\r\n`Math.rint()` returns double.\r\n\r\nSo it can be said that `Math.round()` favors mid-point(0.5) for higher value.","title":"Difference between Math.rint() and Math.round() in Java","body":"<p>Difference is at <strong>.5</strong>. <br/></p>\n\n<p><code>Math.round()</code> converts <code>[10.5, 11.5[</code> to 11  <br/>\n<code>Math.rint()</code> converts  <code>]10.5, 11.5[</code> to 11.0   <br/></p>\n\n<p><code>Math.round()</code> returns long or int.<br/>\n<code>Math.rint()</code> returns double.</p>\n\n<p>So it can be said that <code>Math.round()</code> favors mid-point(0.5) for higher value.</p>\n"},{"tags":[],"owner":{"account_id":2357651,"reputation":385,"user_id":2065117,"accept_rate":32,"display_name":"User"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1463567107,"creation_date":1463567107,"answer_id":37296824,"question_id":37256550,"body_markdown":"**Example of Math.rint():**\r\n2.50 lies between 2.00 and 3.00. \r\nMath.rint() returns the closest even double value. \r\nMath.rint(2.50) returns 2.0.\r\n\r\n**Example of Math.round():**\r\n2.50 lies between 2.00 and 3.00. \r\nMath.round() returns the closest higher whole number. \r\nMath.round(2.50) returns 3","title":"Difference between Math.rint() and Math.round() in Java","body":"<p><strong>Example of Math.rint():</strong>\n2.50 lies between 2.00 and 3.00. \nMath.rint() returns the closest even double value. \nMath.rint(2.50) returns 2.0.</p>\n\n<p><strong>Example of Math.round():</strong>\n2.50 lies between 2.00 and 3.00. \nMath.round() returns the closest higher whole number. \nMath.round(2.50) returns 3</p>\n"},{"tags":[],"owner":{"account_id":7629544,"reputation":335,"user_id":5785058,"display_name":"Shiv Krishna Jaiswal"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1484980054,"creation_date":1484979390,"answer_id":41776318,"question_id":37256550,"body_markdown":"For positive Numbers:\r\n\r\nif fractional part lies in 0 (inclusive) and 0.5 (exclusive) then round() give the integer part of the number.\r\n\r\nif fractional part lies in 0.5 (inclusive) and 1 (exclusive) then round() give the integer part of the number + 1.\r\n\r\nBut in case  of rint,\r\n\r\n\r\nif fractional part lies in 0 (inclusive) and 0.5 (inclusive) then rint() give the integer part of the number.\r\n\r\nif fractional part lies in 0.5 (exclusive) and 1 (exclusive) then round() give the integer part of the number + 1.\r\n\r\nFor negative number:\r\n\r\nBoth has same behavior, i.e\r\n\r\nif fractional part lies in 0 (inclusive) and 0.5 (inclusive), integer part of the number is returned.\r\n\r\nif fractional part lies in 0.5 (inclusive) and 1 (exclusive) integer part of the number -1.\r\n\r\n**fractional part is just the part of number of after decimal**","title":"Difference between Math.rint() and Math.round() in Java","body":"<p>For positive Numbers:</p>\n\n<p>if fractional part lies in 0 (inclusive) and 0.5 (exclusive) then round() give the integer part of the number.</p>\n\n<p>if fractional part lies in 0.5 (inclusive) and 1 (exclusive) then round() give the integer part of the number + 1.</p>\n\n<p>But in case  of rint,</p>\n\n<p>if fractional part lies in 0 (inclusive) and 0.5 (inclusive) then rint() give the integer part of the number.</p>\n\n<p>if fractional part lies in 0.5 (exclusive) and 1 (exclusive) then round() give the integer part of the number + 1.</p>\n\n<p>For negative number:</p>\n\n<p>Both has same behavior, i.e</p>\n\n<p>if fractional part lies in 0 (inclusive) and 0.5 (inclusive), integer part of the number is returned.</p>\n\n<p>if fractional part lies in 0.5 (inclusive) and 1 (exclusive) integer part of the number -1.</p>\n\n<p><strong>fractional part is just the part of number of after decimal</strong></p>\n"},{"comments":[{"owner":{"account_id":6967732,"reputation":604,"user_id":5345105,"display_name":"Shubham Arya"},"score":0,"creation_date":1599103097,"post_id":41804856,"comment_id":112671211,"body_markdown":"This logic holds true for the negative numbers as well, in a nutshell, the major difference lies at the .5 decimal part. If the number is of type x.5 then rint() prefers an even double value. Thanks a lot Beast","body":"This logic holds true for the negative numbers as well, in a nutshell, the major difference lies at the .5 decimal part. If the number is of type x.5 then rint() prefers an even double value. Thanks a lot Beast"}],"tags":[],"owner":{"account_id":9690888,"reputation":41,"user_id":7189002,"display_name":"Beast257"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1513087037,"creation_date":1485169483,"answer_id":41804856,"question_id":37256550,"body_markdown":"There is a type return difference:\r\n\r\n`Math.round()` returns `long` or `int`  \r\n`Math.rint()` returns `double`\r\n\r\nBut the crucial difference is in the numerical treatment of values at **`0.5`**.\r\n\r\n`Math.round()` converts `9.5 &lt;= x &lt; 10.5` to `10`  \r\n`Math.rint()` converts  `9.5 &lt;= x &lt;= 10.5` to `10.0`\r\n\r\n`Math.round()` converts `10.5 &lt;= x &lt; 11.5` to `11`  \r\n`Math.rint()` converts  `10.5 &lt; x &lt; 11.5` to `11.0`\r\n\r\n`Math.round()` converts `11.5 &lt;= x &lt; 12.5` to `12`  \r\n`Math.rint()` converts  `11.5 &lt;= x &lt;= 12.5` to `12.0`\r\n\r\n(Note the inequalities!) So `Math.round()` always rounds up at the mid-point (0.5): [documentation](https://docs.oracle.com/javase/7/docs/api/java/lang/Math.html#round(double)).  \r\nInstead, `Math.rint()` favours the closest even number at the mid-point: [documentation](https://docs.oracle.com/javase/7/docs/api/java/lang/Math.html#rint(double)).\r\n\r\n\r\nFor example, try running the following trivial example:\r\n\r\n    public class HelloWorld{\r\n        public static void main(String []args){\r\n            System.out.println(&quot;Math.round() of 9.5 is &quot; + Math.round(9.5));\r\n            System.out.println(&quot;Math.round() of 10.5 is &quot; + Math.round(10.5));\r\n            System.out.println(&quot;Math.round() of 11.5 is &quot; + Math.round(11.5));\r\n            System.out.println(&quot;Math.round() of 12.5 is &quot; + Math.round(12.5));\r\n            System.out.println(&quot;Math.rint() of 9.5 is &quot; + Math.rint(9.5));\r\n            System.out.println(&quot;Math.rint() of 10.5 is &quot; + Math.rint(10.5));\r\n            System.out.println(&quot;Math.rint() of 11.5 is &quot; + Math.rint(11.5));\r\n            System.out.println(&quot;Math.rint() of 12.5 is &quot; + Math.rint(12.5));\r\n        }\r\n    }\r\n\r\nNote that [the current top answer](https://stackoverflow.com/a/37257458/7189002) is **wrong**. I tried proposing an edit to his post but [it was rejected](https://stackoverflow.com/review/suggested-edits/14792629). So as per the rejection comments, I&#39;m putting my edits as a new answer.","title":"Difference between Math.rint() and Math.round() in Java","body":"<p>There is a type return difference:</p>\n\n<p><code>Math.round()</code> returns <code>long</code> or <code>int</code><br>\n<code>Math.rint()</code> returns <code>double</code></p>\n\n<p>But the crucial difference is in the numerical treatment of values at <strong><code>0.5</code></strong>.</p>\n\n<p><code>Math.round()</code> converts <code>9.5 &lt;= x &lt; 10.5</code> to <code>10</code><br>\n<code>Math.rint()</code> converts  <code>9.5 &lt;= x &lt;= 10.5</code> to <code>10.0</code></p>\n\n<p><code>Math.round()</code> converts <code>10.5 &lt;= x &lt; 11.5</code> to <code>11</code><br>\n<code>Math.rint()</code> converts  <code>10.5 &lt; x &lt; 11.5</code> to <code>11.0</code></p>\n\n<p><code>Math.round()</code> converts <code>11.5 &lt;= x &lt; 12.5</code> to <code>12</code><br>\n<code>Math.rint()</code> converts  <code>11.5 &lt;= x &lt;= 12.5</code> to <code>12.0</code></p>\n\n<p>(Note the inequalities!) So <code>Math.round()</code> always rounds up at the mid-point (0.5): <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Math.html#round(double)\" rel=\"nofollow noreferrer\">documentation</a>.<br>\nInstead, <code>Math.rint()</code> favours the closest even number at the mid-point: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Math.html#rint(double)\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n\n<p>For example, try running the following trivial example:</p>\n\n<pre><code>public class HelloWorld{\n    public static void main(String []args){\n        System.out.println(\"Math.round() of 9.5 is \" + Math.round(9.5));\n        System.out.println(\"Math.round() of 10.5 is \" + Math.round(10.5));\n        System.out.println(\"Math.round() of 11.5 is \" + Math.round(11.5));\n        System.out.println(\"Math.round() of 12.5 is \" + Math.round(12.5));\n        System.out.println(\"Math.rint() of 9.5 is \" + Math.rint(9.5));\n        System.out.println(\"Math.rint() of 10.5 is \" + Math.rint(10.5));\n        System.out.println(\"Math.rint() of 11.5 is \" + Math.rint(11.5));\n        System.out.println(\"Math.rint() of 12.5 is \" + Math.rint(12.5));\n    }\n}\n</code></pre>\n\n<p>Note that <a href=\"https://stackoverflow.com/a/37257458/7189002\">the current top answer</a> is <strong>wrong</strong>. I tried proposing an edit to his post but <a href=\"https://stackoverflow.com/review/suggested-edits/14792629\">it was rejected</a>. So as per the rejection comments, I'm putting my edits as a new answer.</p>\n"},{"tags":[],"owner":{"account_id":6642482,"reputation":161,"user_id":6542066,"display_name":"Dhruv Erry"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516173134,"creation_date":1516173134,"answer_id":48295490,"question_id":37256550,"body_markdown":"Owing to the fact that your question has been heavily answered, I won&#39;t run over the obvious points but will provide a helpful article I came across:\n\nhttps://way2java.com/java-lang/class-math-java-lang/difference-of-math-rintdouble-and-math-rounddouble/\n\nWhat I found of utmost importance is the fact that round returns the **closest higher whole number** as an *integer* or *long*.","title":"Difference between Math.rint() and Math.round() in Java","body":"<p>Owing to the fact that your question has been heavily answered, I won't run over the obvious points but will provide a helpful article I came across:</p>\n\n<p><a href=\"https://way2java.com/java-lang/class-math-java-lang/difference-of-math-rintdouble-and-math-rounddouble/\" rel=\"nofollow noreferrer\">https://way2java.com/java-lang/class-math-java-lang/difference-of-math-rintdouble-and-math-rounddouble/</a></p>\n\n<p>What I found of utmost importance is the fact that round returns the <strong>closest higher whole number</strong> as an <em>integer</em> or <em>long</em>.</p>\n"}],"owner":{"display_name":"user2063713"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45351,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"answer_count":7,"score":21,"last_activity_date":1683696251,"creation_date":1463409497,"question_id":37256550,"body_markdown":"What is the difference between `Math.rint()` and `Math.round()`?","title":"Difference between Math.rint() and Math.round() in Java","body":"<p>What is the difference between <code>Math.rint()</code> and <code>Math.round()</code>?</p>\n"},{"tags":["java","jms","weblogic12c","wildfly-8"],"answers":[{"comments":[{"owner":{"account_id":444523,"reputation":929,"user_id":836376,"accept_rate":77,"display_name":"KevinBui"},"score":0,"creation_date":1628686209,"post_id":45890031,"comment_id":121487131,"body_markdown":"Where can I get `wlthint3client.jar`? I don&#39;t setup Weblogic, I just consume message.","body":"Where can I get <code>wlthint3client.jar</code>? I don&#39;t setup Weblogic, I just consume message."},{"owner":{"account_id":2530006,"reputation":65,"user_id":3431762,"accept_rate":75,"display_name":"Da_Boom"},"score":0,"creation_date":1683696247,"post_id":45890031,"comment_id":134404116,"body_markdown":"@KevinBui You need to set this up - you cannot get these jarfiles without setting up weblogic, and using the maven installer to install them to your maven repo. Its either that or gain access to a custom maven repository that already has these installed, and download them from there.","body":"@KevinBui You need to set this up - you cannot get these jarfiles without setting up weblogic, and using the maven installer to install them to your maven repo. Its either that or gain access to a custom maven repository that already has these installed, and download them from there."}],"tags":[],"owner":{"account_id":8854974,"reputation":1387,"user_id":6613014,"display_name":"Rouliboy"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1503699178,"creation_date":1503699178,"answer_id":45890031,"question_id":45880702,"body_markdown":"Weblogic does not provide client jar artifact in maven repository. You must get the `wlthint3client.jar` located in the `WL_HOME\\server\\lib` directory of your weblogic server. This jar contains all classes needed by clients calling the weblogic server.\r\n\r\nThen you can install it manually in your maven repository and use it as a maven dependency in your `pom.xml`\r\n\r\nFinally, you can lookup the `InitialContext` using the `weblogic.jndi.WLInitialContextFactory` factory.\r\n\r\n","title":"Unable to perform JNDI lookup in WebLogic 12 server from JBoss Wildfly 8","body":"<p>Weblogic does not provide client jar artifact in maven repository. You must get the <code>wlthint3client.jar</code> located in the <code>WL_HOME\\server\\lib</code> directory of your weblogic server. This jar contains all classes needed by clients calling the weblogic server.</p>\n\n<p>Then you can install it manually in your maven repository and use it as a maven dependency in your <code>pom.xml</code></p>\n\n<p>Finally, you can lookup the <code>InitialContext</code> using the <code>weblogic.jndi.WLInitialContextFactory</code> factory.</p>\n"},{"tags":[],"owner":{"account_id":2530006,"reputation":65,"user_id":3431762,"accept_rate":75,"display_name":"Da_Boom"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683696029,"creation_date":1683696029,"answer_id":76215129,"question_id":45880702,"body_markdown":"The Checked answer is actually wrong, although it may have been correct at the time of writing.\r\n\r\nYou can do the same thing as including `weblogic.jar` (which is just a meta-inf with a bunch of classpath entries) in maven by including \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.oracle.weblogic&lt;/groupId&gt;\r\n        &lt;artifactId&gt;weblogic-server-pom&lt;/artifactId&gt;\r\n        &lt;version&gt;12.2.1-4-0&lt;/version&gt;\r\n        &lt;type&gt;pom&lt;/type&gt;\r\n    &lt;/dependency&gt;\r\n\r\nin your maven POM - of course, replacing the version with the version you have in your `.m2` folder. (if you have none, nothing will work and youll have to look up in the weblogic docs how to install weblogic maven artifacts into your local maven repo for your version of weblogic)\r\n\r\nThis essentially is a dependency listing to mirror `weblogic.jar`\r\nIt doesnt work for every situation, as some instances (usually instances requiring the use of `wlManagementMBean.jar`) of use require the use of a hardcoded weblogic installation paths (for that you have to add weblogic.jar to the classpath directly)\r\n\r\nBut it should work with projects utilizing Weblogic JNDI lookups and JMS server apis, among other things\r\n\r\nPlease note: your first run with maven will take a few minutes, as maven automatically tries to check maven central for artifact updates, regardless of local installation","title":"Unable to perform JNDI lookup in WebLogic 12 server from JBoss Wildfly 8","body":"<p>The Checked answer is actually wrong, although it may have been correct at the time of writing.</p>\n<p>You can do the same thing as including <code>weblogic.jar</code> (which is just a meta-inf with a bunch of classpath entries) in maven by including</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.oracle.weblogic&lt;/groupId&gt;\n    &lt;artifactId&gt;weblogic-server-pom&lt;/artifactId&gt;\n    &lt;version&gt;12.2.1-4-0&lt;/version&gt;\n    &lt;type&gt;pom&lt;/type&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>in your maven POM - of course, replacing the version with the version you have in your <code>.m2</code> folder. (if you have none, nothing will work and youll have to look up in the weblogic docs how to install weblogic maven artifacts into your local maven repo for your version of weblogic)</p>\n<p>This essentially is a dependency listing to mirror <code>weblogic.jar</code>\nIt doesnt work for every situation, as some instances (usually instances requiring the use of <code>wlManagementMBean.jar</code>) of use require the use of a hardcoded weblogic installation paths (for that you have to add weblogic.jar to the classpath directly)</p>\n<p>But it should work with projects utilizing Weblogic JNDI lookups and JMS server apis, among other things</p>\n<p>Please note: your first run with maven will take a few minutes, as maven automatically tries to check maven central for artifact updates, regardless of local installation</p>\n"}],"owner":{"account_id":5910384,"reputation":937,"user_id":4650838,"accept_rate":56,"display_name":"Anirban"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2416,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":45890031,"answer_count":2,"score":1,"last_activity_date":1683696029,"creation_date":1503661633,"question_id":45880702,"body_markdown":"I am trying to put a message in JMS queue in WebLogic server. My application is running in Wildfly 8 AS. I have written the code for the JNDI lookup and then putting message in JMS queue. I am using the following code for initializing the InitialContext:\r\n\r\n    private static InitialContext getInitialContext(String url) throws NamingException {\r\n    \t\tHashtable&lt;String, String&gt; env = new Hashtable&lt;&gt;();\r\n    \t\tenv.put(Context.INITIAL_CONTEXT_FACTORY, JNDI_FACTORY);\r\n    \t\tenv.put(Context.PROVIDER_URL, url);\r\n    \t\treturn new InitialContext(env);\r\n    \t}\r\n\r\nI have added the following Maven dependencies for adding the WebLogic jar\r\n\r\n    \r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;weblogic&lt;/groupId&gt;\r\n            &lt;artifactId&gt;weblogic&lt;/artifactId&gt;\r\n            &lt;version&gt;12.2.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;weblogic&lt;/groupId&gt;\r\n            &lt;artifactId&gt;webservices&lt;/artifactId&gt;\r\n            &lt;version&gt;12.2.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nBut the maven dependencies are not getting resolved. Do I need to add any maven repository?\r\n\r\nIf anything else is required, can anyone please guide me on that?\r\n\r\nRegards,\r\nAnirban.","title":"Unable to perform JNDI lookup in WebLogic 12 server from JBoss Wildfly 8","body":"<p>I am trying to put a message in JMS queue in WebLogic server. My application is running in Wildfly 8 AS. I have written the code for the JNDI lookup and then putting message in JMS queue. I am using the following code for initializing the InitialContext:</p>\n\n<pre><code>private static InitialContext getInitialContext(String url) throws NamingException {\n        Hashtable&lt;String, String&gt; env = new Hashtable&lt;&gt;();\n        env.put(Context.INITIAL_CONTEXT_FACTORY, JNDI_FACTORY);\n        env.put(Context.PROVIDER_URL, url);\n        return new InitialContext(env);\n    }\n</code></pre>\n\n<p>I have added the following Maven dependencies for adding the WebLogic jar</p>\n\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;weblogic&lt;/groupId&gt;\n        &lt;artifactId&gt;weblogic&lt;/artifactId&gt;\n        &lt;version&gt;12.2.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;weblogic&lt;/groupId&gt;\n        &lt;artifactId&gt;webservices&lt;/artifactId&gt;\n        &lt;version&gt;12.2.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>But the maven dependencies are not getting resolved. Do I need to add any maven repository?</p>\n\n<p>If anything else is required, can anyone please guide me on that?</p>\n\n<p>Regards,\nAnirban.</p>\n"},{"tags":["java","visual-studio-code","javafx","unicode","apple-m1"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":2,"creation_date":1681489927,"post_id":76016885,"comment_id":134070238,"body_markdown":"Also check your language/region setting.","body":"Also check your language/region setting."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1681566204,"post_id":76016885,"comment_id":134078949,"body_markdown":"It could be [this issue](https://stackoverflow.com/questions/66747171/why-javafx-application-and-scene-builder-is-showing-garbled-text) which was related to buggy font processing on some earlier JavaFX versions, such as 11 (I think on Macs).  I recommend following [the suggestion to upgrade your JavaFX to the latest available stable version](https://stackoverflow.com/a/70674092/1155209) (currently 20).","body":"It could be <a href=\"https://stackoverflow.com/questions/66747171/why-javafx-application-and-scene-builder-is-showing-garbled-text\">this issue</a> which was related to buggy font processing on some earlier JavaFX versions, such as 11 (I think on Macs).  I recommend following <a href=\"https://stackoverflow.com/a/70674092/1155209\">the suggestion to upgrade your JavaFX to the latest available stable version</a> (currently 20)."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":2,"creation_date":1681624065,"post_id":76016885,"comment_id":134084591,"body_markdown":"[Edit] your question and post contents of files `primary.fxml` and `secondary.fxml`. Also post contents of any CSS files that are part of your application.","body":"<a href=\"https://stackoverflow.com/posts/76016885/edit\">Edit</a> your question and post contents of files <code>primary.fxml</code> and <code>secondary.fxml</code>. Also post contents of any CSS files that are part of your application."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1681656206,"post_id":76016885,"comment_id":134088216,"body_markdown":"Download Idea, and create a [new JavaFX project](https://www.jetbrains.com/help/idea/javafx.html).  Does it display correctly?  Or does it have a similar rendering issue?","body":"Download Idea, and create a <a href=\"https://www.jetbrains.com/help/idea/javafx.html\" rel=\"nofollow noreferrer\">new JavaFX project</a>.  Does it display correctly?  Or does it have a similar rendering issue?"},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1681710597,"post_id":76016885,"comment_id":134094430,"body_markdown":"Does creating a simple example based on this [docs](https://openjfx.io/openjfx-docs/) display fonts properly?","body":"Does creating a simple example based on this <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">docs</a> display fonts properly?"},{"owner":{"account_id":21937056,"reputation":21,"user_id":16218120,"display_name":"snir10"},"score":0,"creation_date":1683044484,"post_id":76016885,"comment_id":134304880,"body_markdown":"@Abra I just added the primary and secondary fxml files","body":"@Abra I just added the primary and secondary fxml files"},{"owner":{"account_id":21937056,"reputation":21,"user_id":16218120,"display_name":"snir10"},"score":0,"creation_date":1683045295,"post_id":76016885,"comment_id":134305076,"body_markdown":"@jewelsea thank you! Intellij idea editor works perfectly. I think it&#39;s just vscode that&#39;s maybe not working properly with M1 macs.","body":"@jewelsea thank you! Intellij idea editor works perfectly. I think it&#39;s just vscode that&#39;s maybe not working properly with M1 macs."},{"owner":{"account_id":21937056,"reputation":21,"user_id":16218120,"display_name":"snir10"},"score":0,"creation_date":1683045383,"post_id":76016885,"comment_id":134305096,"body_markdown":"@JialeDu no, it looks like it&#39;s just vscode that&#39;s having a problem with my m1 Mac.","body":"@JialeDu no, it looks like it&#39;s just vscode that&#39;s having a problem with my m1 Mac."}],"answers":[{"tags":[],"owner":{"account_id":21937056,"reputation":21,"user_id":16218120,"display_name":"snir10"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683696002,"creation_date":1683696002,"answer_id":76215127,"question_id":76016885,"body_markdown":"Well, this is not an exact solution to this problem, but it&#39;s an alternative way to make Javafx run on M1 Macs with this problem. \r\n\r\nAfter carefully examining this issue, it appears that VSCode is responsible for this error. I am not sure of the details of how it&#39;s happening, but when I try it on the Intellij Idea code editor, it works perfectly. \r\n\r\n**Solution**: Use any other code editor. For me, IntelliJ Idea works the best.  ","title":"Why is my JavaFx or M1 Mac pro showing wrong characters?","body":"<p>Well, this is not an exact solution to this problem, but it's an alternative way to make Javafx run on M1 Macs with this problem.</p>\n<p>After carefully examining this issue, it appears that VSCode is responsible for this error. I am not sure of the details of how it's happening, but when I try it on the Intellij Idea code editor, it works perfectly.</p>\n<p><strong>Solution</strong>: Use any other code editor. For me, IntelliJ Idea works the best.</p>\n"}],"owner":{"account_id":21937056,"reputation":21,"user_id":16218120,"display_name":"snir10"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1683696002,"creation_date":1681487463,"question_id":76016885,"body_markdown":"[Output] \r\n[![output][1]][1]\r\n\r\nThings I have tried:\r\n  - changing the fonts of system\r\n  - upgrading javafx version to 20(current)\r\n  - checked language/region setting\r\n\r\nHere are all the files (added primary and secondary fxml files):\r\n\r\n###################################################################\r\n\r\n[App.java]\r\n```java\r\n// I have imported all the necessary library\r\n\r\npublic class App extends Application {\r\n\r\n    private static Scene scene;\r\n\r\n    @Override\r\n    public void start(Stage stage) throws IOException {\r\n        scene = new Scene(loadFXML(&quot;primary&quot;), 640, 480);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    static void setRoot(String fxml) throws IOException {\r\n        scene.setRoot(loadFXML(fxml));\r\n    }\r\n\r\n    private static Parent loadFXML(String fxml) throws IOException {\r\n        FXMLLoader fxmlLoader = new FXMLLoader(App.class.getResource(fxml + &quot;.fxml&quot;));\r\n        return fxmlLoader.load();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}\r\n```\r\n[PrimaryController.java]\r\n```java\r\npublic class PrimaryController {\r\n\r\n    @FXML\r\n    private void switchToSecondary() throws IOException {\r\n        App.setRoot(&quot;secondary&quot;);\r\n    }\r\n}\r\n```\r\n[SecondaryController.java]\r\n```java\r\npublic class SecondaryController {\r\n\r\n    @FXML\r\n    private void switchToPrimary() throws IOException {\r\n        App.setRoot(&quot;primary&quot;);\r\n    }\r\n}\r\n```\r\n\r\nprimary.fxml\r\n```fxml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.layout.VBox?&gt;\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.geometry.Insets?&gt;\r\n\r\n&lt;VBox alignment=&quot;CENTER&quot; spacing=&quot;20.0&quot; xmlns=&quot;http://javafx.com/javafx/8.0.171&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;testing.PrimaryController&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;Label text=&quot;Primary View&quot; /&gt;\r\n      &lt;Button fx:id=&quot;primaryButton&quot; text=&quot;Switch to Secondary View&quot; onAction=&quot;#switchToSecondary&quot;/&gt;\r\n   &lt;/children&gt;\r\n   &lt;padding&gt;\r\n      &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot; /&gt;\r\n   &lt;/padding&gt;\r\n&lt;/VBox&gt;\r\n\r\n```\r\n\r\nsecondary.fxml\r\n```fxml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.layout.VBox?&gt;\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.geometry.Insets?&gt;\r\n\r\n&lt;VBox alignment=&quot;CENTER&quot; spacing=&quot;20.0&quot; xmlns=&quot;http://javafx.com/javafx/8.0.171&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;testing.SecondaryController&quot;&gt;\r\n    &lt;children&gt;\r\n        &lt;Label text=&quot;Secondary View&quot; /&gt;\r\n        &lt;Button fx:id=&quot;secondaryButton&quot; text=&quot;Switch to Primary View&quot; onAction=&quot;#switchToPrimary&quot; /&gt;\r\n    &lt;/children&gt;\r\n    &lt;padding&gt;\r\n        &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot; /&gt;\r\n    &lt;/padding&gt;\r\n&lt;/VBox&gt;\r\n\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YK3IT.png","title":"Why is my JavaFx or M1 Mac pro showing wrong characters?","body":"<p>[Output]\n<a href=\"https://i.stack.imgur.com/YK3IT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YK3IT.png\" alt=\"output\" /></a></p>\n<p>Things I have tried:</p>\n<ul>\n<li>changing the fonts of system</li>\n<li>upgrading javafx version to 20(current)</li>\n<li>checked language/region setting</li>\n</ul>\n<p>Here are all the files (added primary and secondary fxml files):</p>\n<p>###################################################################</p>\n<p>[App.java]</p>\n<pre class=\"lang-java prettyprint-override\"><code>// I have imported all the necessary library\n\npublic class App extends Application {\n\n    private static Scene scene;\n\n    @Override\n    public void start(Stage stage) throws IOException {\n        scene = new Scene(loadFXML(&quot;primary&quot;), 640, 480);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    static void setRoot(String fxml) throws IOException {\n        scene.setRoot(loadFXML(fxml));\n    }\n\n    private static Parent loadFXML(String fxml) throws IOException {\n        FXMLLoader fxmlLoader = new FXMLLoader(App.class.getResource(fxml + &quot;.fxml&quot;));\n        return fxmlLoader.load();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p>[PrimaryController.java]</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PrimaryController {\n\n    @FXML\n    private void switchToSecondary() throws IOException {\n        App.setRoot(&quot;secondary&quot;);\n    }\n}\n</code></pre>\n<p>[SecondaryController.java]</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SecondaryController {\n\n    @FXML\n    private void switchToPrimary() throws IOException {\n        App.setRoot(&quot;primary&quot;);\n    }\n}\n</code></pre>\n<p>primary.fxml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.layout.VBox?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.geometry.Insets?&gt;\n\n&lt;VBox alignment=&quot;CENTER&quot; spacing=&quot;20.0&quot; xmlns=&quot;http://javafx.com/javafx/8.0.171&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;testing.PrimaryController&quot;&gt;\n   &lt;children&gt;\n      &lt;Label text=&quot;Primary View&quot; /&gt;\n      &lt;Button fx:id=&quot;primaryButton&quot; text=&quot;Switch to Secondary View&quot; onAction=&quot;#switchToSecondary&quot;/&gt;\n   &lt;/children&gt;\n   &lt;padding&gt;\n      &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot; /&gt;\n   &lt;/padding&gt;\n&lt;/VBox&gt;\n\n</code></pre>\n<p>secondary.fxml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.layout.VBox?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.geometry.Insets?&gt;\n\n&lt;VBox alignment=&quot;CENTER&quot; spacing=&quot;20.0&quot; xmlns=&quot;http://javafx.com/javafx/8.0.171&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;testing.SecondaryController&quot;&gt;\n    &lt;children&gt;\n        &lt;Label text=&quot;Secondary View&quot; /&gt;\n        &lt;Button fx:id=&quot;secondaryButton&quot; text=&quot;Switch to Primary View&quot; onAction=&quot;#switchToPrimary&quot; /&gt;\n    &lt;/children&gt;\n    &lt;padding&gt;\n        &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot; /&gt;\n    &lt;/padding&gt;\n&lt;/VBox&gt;\n\n</code></pre>\n"},{"tags":["java","android","android-room"],"comments":[{"owner":{"account_id":7789444,"reputation":343,"user_id":5893006,"display_name":"Mohamed Nagy Mostafa"},"score":1,"creation_date":1505294097,"post_id":46193356,"comment_id":79349154,"body_markdown":"explain what you want ... you want set limits to your database rows and when you want to add new data and all rows have old data then database add your new data for first row ?? or you will choose specific row to set data ???","body":"explain what you want ... you want set limits to your database rows and when you want to add new data and all rows have old data then database add your new data for first row ?? or you will choose specific row to set data ???"},{"owner":{"account_id":5805906,"reputation":2657,"user_id":4578531,"accept_rate":54,"display_name":"Stillie"},"score":0,"creation_date":1505294207,"post_id":46193356,"comment_id":79349235,"body_markdown":"@MohamedNagyMostafa please see edit","body":"@MohamedNagyMostafa please see edit"},{"owner":{"account_id":7789444,"reputation":343,"user_id":5893006,"display_name":"Mohamed Nagy Mostafa"},"score":0,"creation_date":1505295175,"post_id":46193356,"comment_id":79349963,"body_markdown":"okey .. i think about two ways you can do it first i can tell you technique to insert new data continuously from 1 to 20 and all rows have data then repeat again to insert from 1 ... but it will be a good way id you are not going to delete rows during your program .. because if you delete any row then the best algorithm is to set the new data in the row which deleted.\nthe second way if you have deleting row in your program you have to use column for insert date then you can check it by retrieve data by order sorting.\ntell my which one is good for you and i will explain it in detail","body":"okey .. i think about two ways you can do it first i can tell you technique to insert new data continuously from 1 to 20 and all rows have data then repeat again to insert from 1 ... but it will be a good way id you are not going to delete rows during your program .. because if you delete any row then the best algorithm is to set the new data in the row which deleted. the second way if you have deleting row in your program you have to use column for insert date then you can check it by retrieve data by order sorting. tell my which one is good for you and i will explain it in detail"}],"answers":[{"tags":[],"owner":{"account_id":3365385,"reputation":22807,"user_id":2826147,"accept_rate":60,"display_name":"Amit Vaghela"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505372610,"creation_date":1505294450,"answer_id":46193604,"question_id":46193356,"body_markdown":"Follow this steps :\r\n\r\n1&gt; get count of rows of that table \r\n\r\n    your_count = SELECT count( * ) FROM table_name;\r\n\r\n2&gt; if count is &gt;(greater than) 20 than to get oldest record\r\n\r\n    SELECT *\r\n      FROM table_name\r\n     ORDER BY entry_Date ASC\r\n     LIMIT 1;\r\n\r\n3&gt; now delete these selected records\r\n\r\n4&gt; insert new datas\r\n \r\n**NOTE : if you are inserting multiple entries than put this in loop**\r\n \r\n","title":"Limit the number of rows in a room database","body":"<p>Follow this steps :</p>\n\n<p>1> get count of rows of that table </p>\n\n<pre><code>your_count = SELECT count( * ) FROM table_name;\n</code></pre>\n\n<p>2> if count is >(greater than) 20 than to get oldest record</p>\n\n<pre><code>SELECT *\n  FROM table_name\n ORDER BY entry_Date ASC\n LIMIT 1;\n</code></pre>\n\n<p>3> now delete these selected records</p>\n\n<p>4> insert new datas</p>\n\n<p><strong>NOTE : if you are inserting multiple entries than put this in loop</strong></p>\n"},{"comments":[{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":3,"creation_date":1505295435,"post_id":46193605,"comment_id":79350176,"body_markdown":"That will actually *delete up to 25 rows*, whereas OP tried to *retain no more than 25 rows*.","body":"That will actually <i>delete up to 25 rows</i>, whereas OP tried to <i>retain no more than 25 rows</i>."},{"owner":{"account_id":17329941,"reputation":1926,"user_id":12553303,"display_name":"Wini"},"score":1,"creation_date":1616923019,"post_id":46193605,"comment_id":118149765,"body_markdown":"is there any limitations of creation of tables in db...i mean how much tables can be created in one db???n how much rows can be crated in one db?limitations?","body":"is there any limitations of creation of tables in db...i mean how much tables can be created in one db???n how much rows can be crated in one db?limitations?"},{"owner":{"account_id":3624931,"reputation":5148,"user_id":3022836,"accept_rate":50,"display_name":"Kunu"},"score":0,"creation_date":1617081039,"post_id":46193605,"comment_id":118195550,"body_markdown":"@Wini Check [https://www.sqlite.org/limits.html](https://www.sqlite.org/limits.html)","body":"@Wini Check <a href=\"https://www.sqlite.org/limits.html\" rel=\"nofollow noreferrer\">https://www.sqlite.org/limits.html</a>"}],"tags":[],"owner":{"account_id":3624931,"reputation":5148,"user_id":3022836,"accept_rate":50,"display_name":"Kunu"},"comment_count":3,"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1505295709,"creation_date":1505294453,"answer_id":46193605,"question_id":46193356,"body_markdown":"I think you can insert the data into your table then remove all the rows except last 20 (limit)\r\n\r\nTo delete you can use the following query\r\n\r\n&gt; DELETE FROM tableName where id NOT IN (SELECT id from tableName ORDER BY id  DESC LIMIT 20)\r\n\r\nIn this case, id is the primary key which is set to auto increment. You can use date as key as well if you are storing them by date","title":"Limit the number of rows in a room database","body":"<p>I think you can insert the data into your table then remove all the rows except last 20 (limit)</p>\n\n<p>To delete you can use the following query</p>\n\n<blockquote>\n  <p>DELETE FROM tableName where id NOT IN (SELECT id from tableName ORDER BY id  DESC LIMIT 20)</p>\n</blockquote>\n\n<p>In this case, id is the primary key which is set to auto increment. You can use date as key as well if you are storing them by date</p>\n"},{"comments":[{"owner":{"account_id":5805906,"reputation":2657,"user_id":4578531,"accept_rate":54,"display_name":"Stillie"},"score":0,"creation_date":1505298221,"post_id":46194954,"comment_id":79352275,"body_markdown":"im using Android Room for handling SQL Databases","body":"im using Android Room for handling SQL Databases"},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":1,"creation_date":1505298499,"post_id":46194954,"comment_id":79352459,"body_markdown":"@x10sion, you can still do it, just in slightly different place. I&#39;ll add that to my answer.","body":"@x10sion, you can still do it, just in slightly different place. I&#39;ll add that to my answer."},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1505300620,"post_id":46194954,"comment_id":79353938,"body_markdown":"@x10sion, did that work for you? (I&#39;m not really familiar with Room myself).","body":"@x10sion, did that work for you? (I&#39;m not really familiar with Room myself)."}],"tags":[],"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1616084470,"creation_date":1505298081,"answer_id":46194954,"question_id":46193356,"body_markdown":"Assuming:\r\n\r\nYour table is\r\n\r\n```lang-sql\r\n    create table example_table (\r\n      ts timestamp,\r\n      uid number(19),\r\n      some_other_field varchar(64)\r\n    );\r\n```\r\nAnd you don&#39;t want to care about running some query manually.\r\n\r\nUse database triggers:\r\n```lang-sql\r\n    create trigger\r\n      if not exists -- I don&#39;t actually know if you DB will support this line.\r\n                    -- Might want to remove it if it&#39;s not.\r\n    example_table_limiter\r\n    on example_table\r\n    after insert\r\n    begin\r\n      delete\r\n      from example_table\r\n      where ts in (\r\n        select ts\r\n        from example_table\r\n        order by ts \r\n        limit -1 -- we don&#39;t want to limit how many rows we want to delete\r\n        offset 25 -- but we want to offset query result so it leaves 25 rows in table\r\n      );\r\n    end;\r\n```\r\n&quot;Offset without limit&quot; syntax is inspired by [this answer](https://stackoverflow.com/a/19676495/7470253).\r\n\r\nTo enable your trigger in java:\r\n\r\nSimple Android, where you can override `SQLiteOpenHelper`:\r\n```lang-java\r\n    public class DataBaseSchemaHelper extends SQLiteOpenHelper {\r\n      @Override\r\n      public void onCreate(SQLiteDatabase db) {     \r\n        db.execSQL(&lt;trigger string from above&gt;);\r\n      }\r\n    }\r\n```\r\nAndroid Room version:\r\n```lang-java\r\n     public class MyDatabase extends RoomDatabase {\r\n       @Override\r\n       public void init(DatabaseConfiguration _config) {\r\n         super.init(_config);\r\n         getOpenHelper().getWritableDatabase().execSQL(&lt;trigger string from above&gt;);\r\n       }\r\n     }\r\n```","title":"Limit the number of rows in a room database","body":"<p>Assuming:</p>\n<p>Your table is</p>\n<pre class=\"lang-sql prettyprint-override\"><code>    create table example_table (\n      ts timestamp,\n      uid number(19),\n      some_other_field varchar(64)\n    );\n</code></pre>\n<p>And you don't want to care about running some query manually.</p>\n<p>Use database triggers:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>    create trigger\n      if not exists -- I don't actually know if you DB will support this line.\n                    -- Might want to remove it if it's not.\n    example_table_limiter\n    on example_table\n    after insert\n    begin\n      delete\n      from example_table\n      where ts in (\n        select ts\n        from example_table\n        order by ts \n        limit -1 -- we don't want to limit how many rows we want to delete\n        offset 25 -- but we want to offset query result so it leaves 25 rows in table\n      );\n    end;\n</code></pre>\n<p>&quot;Offset without limit&quot; syntax is inspired by <a href=\"https://stackoverflow.com/a/19676495/7470253\">this answer</a>.</p>\n<p>To enable your trigger in java:</p>\n<p>Simple Android, where you can override <code>SQLiteOpenHelper</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public class DataBaseSchemaHelper extends SQLiteOpenHelper {\n      @Override\n      public void onCreate(SQLiteDatabase db) {     \n        db.execSQL(&lt;trigger string from above&gt;);\n      }\n    }\n</code></pre>\n<p>Android Room version:</p>\n<pre class=\"lang-java prettyprint-override\"><code>     public class MyDatabase extends RoomDatabase {\n       @Override\n       public void init(DatabaseConfiguration _config) {\n         super.init(_config);\n         getOpenHelper().getWritableDatabase().execSQL(&lt;trigger string from above&gt;);\n       }\n     }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":106052,"reputation":7496,"user_id":444761,"accept_rate":41,"display_name":"Mark"},"score":0,"creation_date":1549093221,"post_id":51169506,"comment_id":95788000,"body_markdown":"If you pass `Integer.MAX_VALUE` as the limit, will that be less performant than a query with no `LIMIT` clause?","body":"If you pass <code>Integer.MAX_VALUE</code> as the limit, will that be less performant than a query with no <code>LIMIT</code> clause?"},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1616084767,"post_id":51169506,"comment_id":117898634,"body_markdown":"@Mark, technically - yes, because imposing a limit could internally mean some form of sorting for dataset, which impacts performance. Database query is allowed to take more than any `MAX_VALUE` (including more than `Long.MAX_VALUE`), so they usually don&#39;t give any special meaning to `Integer.MAX_VALUE`  in limit and offset.","body":"@Mark, technically - yes, because imposing a limit could internally mean some form of sorting for dataset, which impacts performance. Database query is allowed to take more than any <code>MAX_VALUE</code> (including more than <code>Long.MAX_VALUE</code>), so they usually don&#39;t give any special meaning to <code>Integer.MAX_VALUE</code>  in limit and offset."},{"owner":{"account_id":17329941,"reputation":1926,"user_id":12553303,"display_name":"Wini"},"score":0,"creation_date":1616923032,"post_id":51169506,"comment_id":118149768,"body_markdown":"is there any limitations of creation of tables in db...i mean how much tables can be created in one db???n how much rows can be crated in one db?limitations?","body":"is there any limitations of creation of tables in db...i mean how much tables can be created in one db???n how much rows can be crated in one db?limitations?"}],"tags":[],"owner":{"account_id":3691447,"reputation":6845,"user_id":3073945,"accept_rate":90,"display_name":"Md. Sajedul Karim"},"comment_count":3,"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1683695582,"creation_date":1530694115,"answer_id":51169506,"question_id":46193356,"body_markdown":"Here is a sample solution:\r\n\r\nQuery is :\r\n\r\n    @Query(&quot;SELECT * FROM user LIMIT :limit OFFSET :offset&quot;)\r\n        User[] loadAllUsersByPage(int limit,int offset);\r\n\r\nHere, it will list users based on limit and offset.\r\n\r\nif  `loadAllUsersByPage(2,0)` it will return the first 2 rows from the table.\r\n\r\nif  `loadAllUsersByPage(2,1)` it will return 2nd and 3rd rows from table.\r\n\r\nbut if  `loadAllUsersByPage(-1,10)` then it will serve the first 10 rows from the table.","title":"Limit the number of rows in a room database","body":"<p>Here is a sample solution:</p>\n<p>Query is :</p>\n<pre><code>@Query(&quot;SELECT * FROM user LIMIT :limit OFFSET :offset&quot;)\n    User[] loadAllUsersByPage(int limit,int offset);\n</code></pre>\n<p>Here, it will list users based on limit and offset.</p>\n<p>if  <code>loadAllUsersByPage(2,0)</code> it will return the first 2 rows from the table.</p>\n<p>if  <code>loadAllUsersByPage(2,1)</code> it will return 2nd and 3rd rows from table.</p>\n<p>but if  <code>loadAllUsersByPage(-1,10)</code> then it will serve the first 10 rows from the table.</p>\n"},{"tags":[],"owner":{"account_id":21319272,"reputation":809,"user_id":15692700,"display_name":"Muhammad Rio"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1625488119,"creation_date":1624963507,"answer_id":68177200,"question_id":46193356,"body_markdown":"You can limit columns/rows by doing this: this query will return the new data and remove old data when its reach its limit.\r\n\r\nExplanation: \r\n\r\n1. First query is select all data order by descending\r\n2. Second query is remove data from columns/rows id &gt; 20 \r\n\r\nIf you want your table only have 20 row then set the **OFFSET** to 20, the **LIMIT** is represent how many rows inserted &amp; deleted at once.\r\n\r\nIn my example I remove 1 row (the oldest/last row) when the user inputs 1 new data\r\n\r\n```kotlin\r\n\r\n  @Query(&quot;SELECT * FROM my_table ORDER BY timeStamp DESC&quot;)\r\n  fun getAllData(): List&lt;MyEntityClass&gt;\r\n\r\n  @Query(&quot;DELETE FROM my_table WHERE id IN (SELECT id FROM my_table ORDER BY timeStamp DESC LIMIT 1 OFFSET 20)&quot;)\r\n  fun removeOldData()\r\n```","title":"Limit the number of rows in a room database","body":"<p>You can limit columns/rows by doing this: this query will return the new data and remove old data when its reach its limit.</p>\n<p>Explanation:</p>\n<ol>\n<li>First query is select all data order by descending</li>\n<li>Second query is remove data from columns/rows id &gt; 20</li>\n</ol>\n<p>If you want your table only have 20 row then set the <strong>OFFSET</strong> to 20, the <strong>LIMIT</strong> is represent how many rows inserted &amp; deleted at once.</p>\n<p>In my example I remove 1 row (the oldest/last row) when the user inputs 1 new data</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>\n  @Query(&quot;SELECT * FROM my_table ORDER BY timeStamp DESC&quot;)\n  fun getAllData(): List&lt;MyEntityClass&gt;\n\n  @Query(&quot;DELETE FROM my_table WHERE id IN (SELECT id FROM my_table ORDER BY timeStamp DESC LIMIT 1 OFFSET 20)&quot;)\n  fun removeOldData()\n</code></pre>\n"}],"owner":{"account_id":5805906,"reputation":2657,"user_id":4578531,"accept_rate":54,"display_name":"Stillie"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35672,"favorite_count":0,"down_vote_count":1,"up_vote_count":40,"accepted_answer_id":46193605,"answer_count":5,"score":39,"last_activity_date":1683695582,"creation_date":1505293735,"question_id":46193356,"body_markdown":"How can I limit the number of rows in an Android room database by removing the oldest item in the row and inserting the newest one?\r\n\r\nI am guessing its a standard query when adding an item to the database?\r\n\r\n**EDIT**: I want to limit a database table to have a max row count of say 20. If that limit is reached, we remove the oldest item and insert the new one by keeping the current row count to 20.","title":"Limit the number of rows in a room database","body":"<p>How can I limit the number of rows in an Android room database by removing the oldest item in the row and inserting the newest one?</p>\n<p>I am guessing its a standard query when adding an item to the database?</p>\n<p><strong>EDIT</strong>: I want to limit a database table to have a max row count of say 20. If that limit is reached, we remove the oldest item and insert the new one by keeping the current row count to 20.</p>\n"},{"tags":["java","filereader"],"comments":[{"owner":{"account_id":5907283,"reputation":1489,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":1,"creation_date":1683604615,"post_id":76205739,"comment_id":134388162,"body_markdown":"*&quot;so that the first line is skipped&quot;* - call that `inputFile.nextLine()` and put it nowhere? *&quot;how to skip the player number at the start and read the first name, last name and position only&quot;* - the `nextLine` reads the entire line, after you read the entire line, put it output in regex or split the strings directly by comma (`,`).","body":"<i>&quot;so that the first line is skipped&quot;</i> - call that <code>inputFile.nextLine()</code> and put it nowhere? <i>&quot;how to skip the player number at the start and read the first name, last name and position only&quot;</i> - the <code>nextLine</code> reads the entire line, after you read the entire line, put it output in regex or split the strings directly by comma (<code>,</code>)."},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1683604667,"post_id":76205739,"comment_id":134388168,"body_markdown":"use `.nextLine()` to get a line. use a counter variable starting at 0, if 0 skip the line and do not process. If it is not 0, you can use `.split()` to split by a delimiter to get a string array.","body":"use <code>.nextLine()</code> to get a line. use a counter variable starting at 0, if 0 skip the line and do not process. If it is not 0, you can use <code>.split()</code> to split by a delimiter to get a string array."}],"answers":[{"comments":[{"owner":{"account_id":28553398,"reputation":13,"user_id":21857931,"display_name":"Manish"},"score":1,"creation_date":1683689165,"post_id":76206153,"comment_id":134403482,"body_markdown":"Thank you for the answer and the links as well, if it&#39;s not too much trouble could you explain how the values in the If statements affect the lines in the txt file","body":"Thank you for the answer and the links as well, if it&#39;s not too much trouble could you explain how the values in the If statements affect the lines in the txt file"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1683694075,"post_id":76206153,"comment_id":134403886,"body_markdown":"@Manish added comments to the code in my answer. Hope that answers your question. I assume you are a [Western Bulldogs](https://www.westernbulldogs.com.au/) fan.","body":"@Manish added comments to the code in my answer. Hope that answers your question. I assume you are a <a href=\"https://www.westernbulldogs.com.au/\" rel=\"nofollow noreferrer\">Western Bulldogs</a> fan."}],"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1683693853,"creation_date":1683610785,"answer_id":76206153,"question_id":76205739,"body_markdown":"You should close the file after processing it. I recommend using [try-with-resources][1] for that.\r\n\r\nIn my opinion, your task lends itself to [streams][2]. Refer to method `useStreams` in the below code.\r\n\r\nAs suggested in the comments, use method [split][3] (of class `java.lang.String`) &amp;ndash; which uses [regular expressions][4].\r\n\r\nIn the below code, method `main` uses a non-streams approach.\r\n```java\r\nimport java.util.Scanner;\r\nimport java.util.stream.Stream;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\n\r\npublic class AFLTeamMember {\r\n    private static void useStreams() throws IOException {\r\n        Path path = Paths.get(&quot;WesternBulldogs.txt&quot;);\r\n        try (Stream&lt;String&gt; lines = Files.lines(path)) {\r\n            lines.skip(1)\r\n                 .map(l -&gt; l.split(&quot;, &quot;))\r\n                 .forEach(a -&gt; {\r\n                     if (a.length == 3)\r\n                         System.out.println(a[1] + &quot;, &quot; + a[2]);\r\n                     else\r\n                         System.out.println(a[0] + &quot;, &quot; + a[1]);\r\n                               });\r\n        }\r\n        System.out.println();\r\n    }\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        useStreams();\r\n        File fileContents = new File(&quot;WesternBulldogs.txt&quot;);\r\n        try (Scanner inputFile = new Scanner(fileContents)) {\r\n            int count = 0;\r\n            while (inputFile.hasNextLine()) {\r\n                String line = inputFile.nextLine();\r\n                if (count &lt; 1) {\r\n                    // Skip the first line of the file.\r\n                    count++;\r\n                }\r\n                else if (count &lt; 2) {\r\n                    // Print the second line of the file as is.\r\n                    System.out.println(line);\r\n                    count++;\r\n                }\r\n                else {\r\n                    String[] parts = line.split(&quot;, &quot;, 2);\r\n                    System.out.println(parts[1]);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nHere is the output when I run the above code:\r\n```none\r\nLuke Beveridge, COACH\r\nEaston Wood, FB\r\nAlex Keath, FB\r\nTaylor Duryea, FB\r\nCaleb Daniel, HB\r\nZaine Cordy, HB\r\nBailey Dale, HB\r\nBailey Smith, C\r\nTom Liberatore, C\r\nLachie Hunter, C\r\nCody Weightman, HF\r\nAaron Naughton, HF\r\nAdam Treloar, HF\r\nJason Johannisen, FF\r\nTim English, FF\r\nMitch Hannan, FF\r\nStefan Martin, FOL\r\nJack Macrae, FOL\r\n4, Marcus Bontempelli\r\nBailey Williams, IC\r\nJosh Dunkley, IC\r\nRoarke Smith, IC\r\nJosh Schache, IC\r\n\r\nLuke Beveridge, COACH\r\nEaston Wood, FB\r\nAlex Keath, FB\r\nTaylor Duryea, FB\r\nCaleb Daniel, HB\r\nZaine Cordy, HB\r\nBailey Dale, HB\r\nBailey Smith, C\r\nTom Liberatore, C\r\nLachie Hunter, C\r\nCody Weightman, HF\r\nAaron Naughton, HF\r\nAdam Treloar, HF\r\nJason Johannisen, FF\r\nTim English, FF\r\nMitch Hannan, FF\r\nStefan Martin, FOL\r\nJack Macrae, FOL\r\nMarcus Bontempelli, FOL, c\r\nBailey Williams, IC\r\nJosh Dunkley, IC\r\nRoarke Smith, IC\r\nJosh Schache, IC\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\r\n  [2]: https://www.oracle.com/technical-resources/articles/java/architect-streams-pt2.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#split(java.lang.String)\r\n  [4]: https://docs.oracle.com/javase/tutorial/essential/regex/index.html","title":"How to skip lines and how to read specific information in the lines in a .txt file (Java, Windows)","body":"<p>You should close the file after processing it. I recommend using <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a> for that.</p>\n<p>In my opinion, your task lends itself to <a href=\"https://www.oracle.com/technical-resources/articles/java/architect-streams-pt2.html\" rel=\"nofollow noreferrer\">streams</a>. Refer to method <code>useStreams</code> in the below code.</p>\n<p>As suggested in the comments, use method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#split(java.lang.String)\" rel=\"nofollow noreferrer\">split</a> (of class <code>java.lang.String</code>)  which uses <a href=\"https://docs.oracle.com/javase/tutorial/essential/regex/index.html\" rel=\"nofollow noreferrer\">regular expressions</a>.</p>\n<p>In the below code, method <code>main</code> uses a non-streams approach.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\nimport java.util.stream.Stream;\nimport java.io.File;\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\n\npublic class AFLTeamMember {\n    private static void useStreams() throws IOException {\n        Path path = Paths.get(&quot;WesternBulldogs.txt&quot;);\n        try (Stream&lt;String&gt; lines = Files.lines(path)) {\n            lines.skip(1)\n                 .map(l -&gt; l.split(&quot;, &quot;))\n                 .forEach(a -&gt; {\n                     if (a.length == 3)\n                         System.out.println(a[1] + &quot;, &quot; + a[2]);\n                     else\n                         System.out.println(a[0] + &quot;, &quot; + a[1]);\n                               });\n        }\n        System.out.println();\n    }\n\n    public static void main(String[] args) throws IOException {\n        useStreams();\n        File fileContents = new File(&quot;WesternBulldogs.txt&quot;);\n        try (Scanner inputFile = new Scanner(fileContents)) {\n            int count = 0;\n            while (inputFile.hasNextLine()) {\n                String line = inputFile.nextLine();\n                if (count &lt; 1) {\n                    // Skip the first line of the file.\n                    count++;\n                }\n                else if (count &lt; 2) {\n                    // Print the second line of the file as is.\n                    System.out.println(line);\n                    count++;\n                }\n                else {\n                    String[] parts = line.split(&quot;, &quot;, 2);\n                    System.out.println(parts[1]);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>Here is the output when I run the above code:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Luke Beveridge, COACH\nEaston Wood, FB\nAlex Keath, FB\nTaylor Duryea, FB\nCaleb Daniel, HB\nZaine Cordy, HB\nBailey Dale, HB\nBailey Smith, C\nTom Liberatore, C\nLachie Hunter, C\nCody Weightman, HF\nAaron Naughton, HF\nAdam Treloar, HF\nJason Johannisen, FF\nTim English, FF\nMitch Hannan, FF\nStefan Martin, FOL\nJack Macrae, FOL\n4, Marcus Bontempelli\nBailey Williams, IC\nJosh Dunkley, IC\nRoarke Smith, IC\nJosh Schache, IC\n\nLuke Beveridge, COACH\nEaston Wood, FB\nAlex Keath, FB\nTaylor Duryea, FB\nCaleb Daniel, HB\nZaine Cordy, HB\nBailey Dale, HB\nBailey Smith, C\nTom Liberatore, C\nLachie Hunter, C\nCody Weightman, HF\nAaron Naughton, HF\nAdam Treloar, HF\nJason Johannisen, FF\nTim English, FF\nMitch Hannan, FF\nStefan Martin, FOL\nJack Macrae, FOL\nMarcus Bontempelli, FOL, c\nBailey Williams, IC\nJosh Dunkley, IC\nRoarke Smith, IC\nJosh Schache, IC\n</code></pre>\n"}],"owner":{"account_id":28553398,"reputation":13,"user_id":21857931,"display_name":"Manish"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":76206153,"answer_count":1,"score":-1,"last_activity_date":1683693853,"creation_date":1683604126,"question_id":76205739,"body_markdown":"I was wondering how to make it so that the first line is skipped and also how to skip the player number at the start and read the first name, last name and position only.\r\n\r\n```java\r\nimport java.util.Scanner;\r\nimport java.io.*;\r\nimport java.io.IOException;\r\n\r\npublic class AFLTeamMember {\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        File fileContents = new File(&quot;WesternBulldogs.txt&quot;);\r\n        Scanner inputFile = new Scanner(fileContents);\r\n        String PlayerFirstName = inputFile.nextLine();\r\n        String PlayerLastName = inputFile.nextLine();\r\n        String PlayerPostition = inputFile.nextLine();\r\n        System.out.println(PlayerFirstName + &quot; &quot; + PlayerLastName + &quot;,&quot; + &quot; &quot; + PlayerPostition); \r\n    }\r\n}\r\n```\r\n\r\nThe text file:\r\n```none\r\nWestern Bulldogs\r\nLuke Beveridge, COACH\r\n10, Easton Wood, FB\r\n42, Alex Keath, FB\r\n15, Taylor Duryea, FB\r\n35, Caleb Daniel, HB\r\n12, Zaine Cordy, HB\r\n31, Bailey Dale, HB\r\n6, Bailey Smith, C\r\n21, Tom Liberatore, C\r\n7, Lachie Hunter, C\r\n19, Cody Weightman, HF\r\n33, Aaron Naughton, HF\r\n1, Adam Treloar, HF\r\n39, Jason Johannisen, FF\r\n44, Tim English, FF\r\n29, Mitch Hannan, FF\r\n8, Stefan Martin, FOL\r\n11, Jack Macrae, FOL\r\n4, Marcus Bontempelli, FOL, c\r\n34, Bailey Williams, IC\r\n5, Josh Dunkley, IC\r\n37, Roarke Smith, IC\r\n13, Josh Schache, IC\r\n```","title":"How to skip lines and how to read specific information in the lines in a .txt file (Java, Windows)","body":"<p>I was wondering how to make it so that the first line is skipped and also how to skip the player number at the start and read the first name, last name and position only.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\nimport java.io.*;\nimport java.io.IOException;\n\npublic class AFLTeamMember {\n\n    public static void main(String[] args) throws IOException {\n        File fileContents = new File(&quot;WesternBulldogs.txt&quot;);\n        Scanner inputFile = new Scanner(fileContents);\n        String PlayerFirstName = inputFile.nextLine();\n        String PlayerLastName = inputFile.nextLine();\n        String PlayerPostition = inputFile.nextLine();\n        System.out.println(PlayerFirstName + &quot; &quot; + PlayerLastName + &quot;,&quot; + &quot; &quot; + PlayerPostition); \n    }\n}\n</code></pre>\n<p>The text file:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Western Bulldogs\nLuke Beveridge, COACH\n10, Easton Wood, FB\n42, Alex Keath, FB\n15, Taylor Duryea, FB\n35, Caleb Daniel, HB\n12, Zaine Cordy, HB\n31, Bailey Dale, HB\n6, Bailey Smith, C\n21, Tom Liberatore, C\n7, Lachie Hunter, C\n19, Cody Weightman, HF\n33, Aaron Naughton, HF\n1, Adam Treloar, HF\n39, Jason Johannisen, FF\n44, Tim English, FF\n29, Mitch Hannan, FF\n8, Stefan Martin, FOL\n11, Jack Macrae, FOL\n4, Marcus Bontempelli, FOL, c\n34, Bailey Williams, IC\n5, Josh Dunkley, IC\n37, Roarke Smith, IC\n13, Josh Schache, IC\n</code></pre>\n"},{"tags":["java","spring-boot","memory-leaks","apache-fop"],"owner":{"account_id":15783708,"reputation":143,"user_id":11389218,"display_name":"Mahesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683692947,"creation_date":1683687995,"question_id":76214627,"body_markdown":"In our Project we are using Apache FOP 2.5 version to generate PRN and PDF Files,\r\nObserved that the Project is occupying more heap memory and encountering memory issues.\r\n\r\nMaven Dependency added:\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt;\r\n    &lt;artifactId&gt;fop&lt;/artifactId&gt;\r\n    &lt;version&gt;2.5&lt;/version&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;  \r\n          &lt;groupId&gt;xml-apis&lt;/groupId&gt;\r\n          &lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt; \r\n&lt;/dependency&gt;\r\n\r\n```\r\nJava Code snippet generating prn using Apache FOP\r\n\r\n```\r\nPublic void generateFile(){\r\n\r\nOutputStream outStream = new java..io.BufferedOutputStream(new java.io.FileOutputStream(&lt;outputFilePath&gt;,true));\r\nFopFactory fopFactory= FopFactory.newInstance(new File(XslFIle).toURI());\r\nFOUserAgent foUserAgent = fopFactory.newFOUserAgent();\r\nfoUserAgent.setTargetResolution(600);\r\nTransformerFactory factory = TransformerFactory.newInstance();\r\nTemplate template = factory.newTemplates(new StreamSource(xslFile));\r\nString mType = fopFactory.newFop(mType,foUserAgent,outStream);\r\nTransormer transformer = template.newTransformer();\r\nSource src = new StreamSource(xmlFile);\r\nResult res = new SAXResult(fop.getDefaultHandler());\r\ntransformer.transform(&lt;src&gt;,&lt;res&gt;);\r\nif(outStream != null)\r\noutStream.close():\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nWhen I try to analyze the HeapDump there is one leak suspected with java.awt.BufferdImage which is using internally by FOP.\r\n\r\nAny Suggestions and help is appreciated, planning to upgrade Apache FOP will it be helpful ?","title":"Facing Memory Issues with Apache FOP (Currently using 2.5 Version)","body":"<p>In our Project we are using Apache FOP 2.5 version to generate PRN and PDF Files,\nObserved that the Project is occupying more heap memory and encountering memory issues.</p>\n<p>Maven Dependency added:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt;\n    &lt;artifactId&gt;fop&lt;/artifactId&gt;\n    &lt;version&gt;2.5&lt;/version&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;  \n          &lt;groupId&gt;xml-apis&lt;/groupId&gt;\n          &lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt; \n&lt;/dependency&gt;\n\n</code></pre>\n<p>Java Code snippet generating prn using Apache FOP</p>\n<pre><code>Public void generateFile(){\n\nOutputStream outStream = new java..io.BufferedOutputStream(new java.io.FileOutputStream(&lt;outputFilePath&gt;,true));\nFopFactory fopFactory= FopFactory.newInstance(new File(XslFIle).toURI());\nFOUserAgent foUserAgent = fopFactory.newFOUserAgent();\nfoUserAgent.setTargetResolution(600);\nTransformerFactory factory = TransformerFactory.newInstance();\nTemplate template = factory.newTemplates(new StreamSource(xslFile));\nString mType = fopFactory.newFop(mType,foUserAgent,outStream);\nTransormer transformer = template.newTransformer();\nSource src = new StreamSource(xmlFile);\nResult res = new SAXResult(fop.getDefaultHandler());\ntransformer.transform(&lt;src&gt;,&lt;res&gt;);\nif(outStream != null)\noutStream.close():\n}\n\n</code></pre>\n<p>When I try to analyze the HeapDump there is one leak suspected with java.awt.BufferdImage which is using internally by FOP.</p>\n<p>Any Suggestions and help is appreciated, planning to upgrade Apache FOP will it be helpful ?</p>\n"},{"tags":["java","spring","java-8","tomcat9"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1683628081,"post_id":76205883,"comment_id":134392310,"body_markdown":"There is only an API not a hibernate implementation. No `hibernate-validator` is not a JPA implementation `hibernate-entitymanager` is.","body":"There is only an API not a hibernate implementation. No <code>hibernate-validator</code> is not a JPA implementation <code>hibernate-entitymanager</code> is."},{"owner":{"account_id":26398340,"reputation":11,"user_id":20049137,"display_name":"rob"},"score":0,"creation_date":1683692946,"post_id":76205883,"comment_id":134403798,"body_markdown":"please check the edited question. i have added hibernate-entitymanager still getting error","body":"please check the edited question. i have added hibernate-entitymanager still getting error"},{"owner":{"account_id":26398340,"reputation":11,"user_id":20049137,"display_name":"rob"},"score":0,"creation_date":1683695583,"post_id":76205883,"comment_id":134404033,"body_markdown":"resolved this error by adding &quot;private EntityManagerFactory nativeEntityManagerFactory;&quot;","body":"resolved this error by adding &quot;private EntityManagerFactory nativeEntityManagerFactory;&quot;"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1683698408,"post_id":76205883,"comment_id":134404399,"body_markdown":"Your hibernate versions are a mess and trouble waiting to happen, the versions should generally match (except for the `hibernate-validator` one).","body":"Your hibernate versions are a mess and trouble waiting to happen, the versions should generally match (except for the <code>hibernate-validator</code> one)."}],"owner":{"account_id":26398340,"reputation":11,"user_id":20049137,"display_name":"rob"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683692908,"creation_date":1683606997,"question_id":76205883,"body_markdown":"the error in the below lines:- \r\n```\r\nthis.nativeEntityManagerFactory =\r\n\t\t\t\tprovider.createContainerEntityManagerFactory(this.persistenceUnitInfo, getJpaPropertyMap());\r\n\t\tpostProcessEntityManagerFactory(this.nativeEntityManagerFactory, this.persistenceUnitInfo);\r\n\r\n\t\treturn this.nativeEntityManagerFactory;\r\n```\r\n\r\nthe eclipse suggestion are below none of them make sense to me: -\r\n```\r\n     Multiple markers at this line\r\n\t- The field AbstractEntityManagerFactoryBean.nativeEntityManagerFactory is not visible\r\n\t- nativeEntityManagerFactory cannot be resolved or is not a field\r\n```\r\n\r\ni tried compiling the code to check the compilation error below is the compilation error:-\r\n\r\n```\r\n      /D:/repo_upgrade_tomcat_9/backend/src/main/java/com/backend/util/SLocalContainerEntityManagerFactoryBean.java:[232,21] nativeEntityManagerFactory has private access in org.springframework.orm.jpa.AbstractEntityManagerFactoryBean\r\n```\r\n\r\nSpring version used 5.3.27.\r\n\r\nI&#39;m using jdk8, tomcat9, spring v5.3.27.\r\nI tried changing the version of hibernate and spring.\r\n\r\nComplete hibernate depedency used:-\r\n\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.1.4.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-search&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.4.1.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.2.3.Final&lt;/version&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;cglib&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;cglib&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;dom4j&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;dom4j&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.0.2.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.1.0.Final&lt;/version&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;","title":"not able compile the code &quot;nativeEntityManagerFactory&quot; is giving errors","body":"<p>the error in the below lines:-</p>\n<pre><code>this.nativeEntityManagerFactory =\n                provider.createContainerEntityManagerFactory(this.persistenceUnitInfo, getJpaPropertyMap());\n        postProcessEntityManagerFactory(this.nativeEntityManagerFactory, this.persistenceUnitInfo);\n\n        return this.nativeEntityManagerFactory;\n</code></pre>\n<p>the eclipse suggestion are below none of them make sense to me: -</p>\n<pre><code>     Multiple markers at this line\n    - The field AbstractEntityManagerFactoryBean.nativeEntityManagerFactory is not visible\n    - nativeEntityManagerFactory cannot be resolved or is not a field\n</code></pre>\n<p>i tried compiling the code to check the compilation error below is the compilation error:-</p>\n<pre><code>      /D:/repo_upgrade_tomcat_9/backend/src/main/java/com/backend/util/SLocalContainerEntityManagerFactoryBean.java:[232,21] nativeEntityManagerFactory has private access in org.springframework.orm.jpa.AbstractEntityManagerFactoryBean\n</code></pre>\n<p>Spring version used 5.3.27.</p>\n<p>I'm using jdk8, tomcat9, spring v5.3.27.\nI tried changing the version of hibernate and spring.</p>\n<p>Complete hibernate depedency used:-</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;4.1.4.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-search&lt;/artifactId&gt;\n            &lt;version&gt;3.4.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n            &lt;version&gt;5.2.3.Final&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;cglib&lt;/groupId&gt;\n                    &lt;artifactId&gt;cglib&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;dom4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;dom4j&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n&lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0.2.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;4.1.0.Final&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n                    &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n                    &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","android","material-ui"],"comments":[{"owner":{"account_id":1849514,"reputation":193878,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1683697129,"post_id":76214849,"comment_id":134404241,"body_markdown":"Did you read the [documentation specifically about using shared element transitions and returning back to a RecyclerView](https://developer.android.com/guide/fragments/animate#recyclerview)?","body":"Did you read the <a href=\"https://developer.android.com/guide/fragments/animate#recyclerview\" rel=\"nofollow noreferrer\">documentation specifically about using shared element transitions and returning back to a RecyclerView</a>?"}],"owner":{"account_id":28418544,"reputation":53,"user_id":21740932,"display_name":"&#194;n Trng"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683692133,"creation_date":1683692133,"question_id":76214849,"body_markdown":"I have created a recyclerview in a viewpaper2, and want to use share emplement to move to update page. However shared element back transition is not working with recyclerview.\r\n\r\nIn Adapter\r\n\r\n```\r\ntodoItemViewHolder.itemTodoBinding.cardItem.setTransitionName(&quot;update_&quot; + position);\r\n            todoItemViewHolder.itemTodoBinding.cardItem.setOnClickListener(view -&gt; iClickItem.DetaiItem(todoItem,todoItemViewHolder.itemTodoBinding.cardItem));\r\n\r\n```\r\nIn AllItemFragment\r\n\r\n```\r\n todoItemAdapter.setClickListenner(new TodoItemAdapter.IClickItemToDo() {\r\n            @Override\r\n            public void DetaiItem(TodoItem todoItem, CardView cardView) {\r\n                clickDetailItem(todoItem,cardView);\r\n            }\r\n```\r\n\r\n\r\n```\r\n private void clickDetailItem(TodoItem todoItem, CardView cardView) {\r\n        Bundle bundle = new Bundle();\r\n        bundle.putSerializable(&quot;object_TodoItem&quot;, todoItem);\r\n        bundle.putString(&quot;transition&quot;,cardView.getTransitionName() );\r\n\r\n        FragmentNavigator.Extras extras = new FragmentNavigator.Extras.Builder()\r\n                .addSharedElement(cardView,cardView.getTransitionName())\r\n                .build();\r\n\r\n\r\n        Navigation.findNavController(getView()).navigate(R.id.updateItemFragment, bundle,null,extras);\r\n    }\r\n```\r\nIn UpdateFragment\r\n\r\n\r\n```\r\n @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        setSharedElementEnterTransition(new ChangeBounds());\r\n\r\n        fragmentUpdateItemBinding = FragmentUpdateItemBinding.inflate(inflater, container, false);\r\n        mView = fragmentUpdateItemBinding.getRoot();\r\n\r\n        todoItemViewModel = new ViewModelProvider(this).get(TodoItemViewModel.class);\r\n        fragmentUpdateItemBinding.setTodoItemViewModel(todoItemViewModel);\r\n\r\n        datePickerCreated = MaterialDatePicker.Builder.datePicker()\r\n                .setTitleText(&quot;Select date&quot;).setSelection(MaterialDatePicker.todayInUtcMilliseconds())\r\n                .build();\r\n\r\n        datePickerCompleted = MaterialDatePicker.Builder.datePicker()\r\n                .setTitleText(&quot;Select date&quot;).setSelection(MaterialDatePicker.todayInUtcMilliseconds())\r\n                .build();\r\n        return mView;\r\n    }\r\n```\r\n\r\n","title":"Shared element back transition not working with recyclerview In ViewPage2","body":"<p>I have created a recyclerview in a viewpaper2, and want to use share emplement to move to update page. However shared element back transition is not working with recyclerview.</p>\n<p>In Adapter</p>\n<pre><code>todoItemViewHolder.itemTodoBinding.cardItem.setTransitionName(&quot;update_&quot; + position);\n            todoItemViewHolder.itemTodoBinding.cardItem.setOnClickListener(view -&gt; iClickItem.DetaiItem(todoItem,todoItemViewHolder.itemTodoBinding.cardItem));\n\n</code></pre>\n<p>In AllItemFragment</p>\n<pre><code> todoItemAdapter.setClickListenner(new TodoItemAdapter.IClickItemToDo() {\n            @Override\n            public void DetaiItem(TodoItem todoItem, CardView cardView) {\n                clickDetailItem(todoItem,cardView);\n            }\n</code></pre>\n<pre><code> private void clickDetailItem(TodoItem todoItem, CardView cardView) {\n        Bundle bundle = new Bundle();\n        bundle.putSerializable(&quot;object_TodoItem&quot;, todoItem);\n        bundle.putString(&quot;transition&quot;,cardView.getTransitionName() );\n\n        FragmentNavigator.Extras extras = new FragmentNavigator.Extras.Builder()\n                .addSharedElement(cardView,cardView.getTransitionName())\n                .build();\n\n\n        Navigation.findNavController(getView()).navigate(R.id.updateItemFragment, bundle,null,extras);\n    }\n</code></pre>\n<p>In UpdateFragment</p>\n<pre><code> @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        setSharedElementEnterTransition(new ChangeBounds());\n\n        fragmentUpdateItemBinding = FragmentUpdateItemBinding.inflate(inflater, container, false);\n        mView = fragmentUpdateItemBinding.getRoot();\n\n        todoItemViewModel = new ViewModelProvider(this).get(TodoItemViewModel.class);\n        fragmentUpdateItemBinding.setTodoItemViewModel(todoItemViewModel);\n\n        datePickerCreated = MaterialDatePicker.Builder.datePicker()\n                .setTitleText(&quot;Select date&quot;).setSelection(MaterialDatePicker.todayInUtcMilliseconds())\n                .build();\n\n        datePickerCompleted = MaterialDatePicker.Builder.datePicker()\n                .setTitleText(&quot;Select date&quot;).setSelection(MaterialDatePicker.todayInUtcMilliseconds())\n                .build();\n        return mView;\n    }\n</code></pre>\n"},{"tags":["java","postgresql","eclipse","jar"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1683727300,"post_id":76214556,"comment_id":134411208,"body_markdown":"Show us how it&#39;s on the project&#39;s class path.","body":"Show us how it&#39;s on the project&#39;s class path."}],"answers":[{"tags":[],"owner":{"account_id":28522946,"reputation":1,"user_id":21831364,"display_name":"user21831364"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683688176,"creation_date":1683688176,"answer_id":76214641,"question_id":76214556,"body_markdown":"I also encountered this problem, but I didn&#39;t solve it. In the end, I introduced Maven into the project to manage the dependencies of the project. You can also try","title":"Why is Eclipse not adding jar file to class path after I added it to build path?","body":"<p>I also encountered this problem, but I didn't solve it. In the end, I introduced Maven into the project to manage the dependencies of the project. You can also try</p>\n"},{"comments":[{"owner":{"account_id":27436748,"reputation":3,"user_id":20932444,"display_name":"jiswksldi291k"},"score":0,"creation_date":1683854232,"post_id":76214691,"comment_id":134434043,"body_markdown":"I converted to Maven project in Eclipse and added the postgresql dependency. It is working now. Thank you for your help!","body":"I converted to Maven project in Eclipse and added the postgresql dependency. It is working now. Thank you for your help!"}],"tags":[],"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683689194,"creation_date":1683689194,"answer_id":76214691,"question_id":76214556,"body_markdown":"I would suggest to use a build tool like [maven][1], [gradle][2] or similar. That kind of tool is perfect to avoid this type of issue. The two I suggested have support to be integrated with populars IDEs such as eclipse, intellij and else. Having a build tool, will let you define all the dependencies that your project needs without having to download and link them manually. It also have more features like running automated test, compile, build and package the project, make a deploy, etc. \r\n\r\nI would also suggest tu use [sdkaman][3] that will let you install different versions and do upgrades at any moment you want \r\n\r\n\r\n  [1]: https://maven.apache.org/\r\n  [2]: https://gradle.org/\r\n  [3]: https://sdkman.io/","title":"Why is Eclipse not adding jar file to class path after I added it to build path?","body":"<p>I would suggest to use a build tool like <a href=\"https://maven.apache.org/\" rel=\"nofollow noreferrer\">maven</a>, <a href=\"https://gradle.org/\" rel=\"nofollow noreferrer\">gradle</a> or similar. That kind of tool is perfect to avoid this type of issue. The two I suggested have support to be integrated with populars IDEs such as eclipse, intellij and else. Having a build tool, will let you define all the dependencies that your project needs without having to download and link them manually. It also have more features like running automated test, compile, build and package the project, make a deploy, etc.</p>\n<p>I would also suggest tu use <a href=\"https://sdkman.io/\" rel=\"nofollow noreferrer\">sdkaman</a> that will let you install different versions and do upgrades at any moment you want</p>\n"}],"owner":{"account_id":27436748,"reputation":3,"user_id":20932444,"display_name":"jiswksldi291k"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76214691,"answer_count":2,"score":0,"last_activity_date":1683689194,"creation_date":1683686565,"question_id":76214556,"body_markdown":"I am using PostgreSQL for my java project. I downloaded the jar file and added it to build path of the project (configure build path &gt; libraries &gt; add external jar). It was working fine for several weeks as I worked on project, but when I went to run my project again a couple days ago I was getting this error:\r\n\r\njava.lang.ClassNotFoundEcxeption: org.postgresql.Driver\r\n\r\nI printed the class path (System.out.println(System.getProperty(&quot;java.class.path&quot;) and noticed that the PostgreSQL jar file is not on there, only the JUnit5 jar files are.This explains why I am getting the above class not found error.\r\n\r\nSo I tried to remove and re-add the jar file to the build path and re-run the program but it&#39;s still not working. \r\n\r\nI have not changed the folder location of the jar file on my computer. I have another project using the same jar file and that one is functioning properly (jar file is also printing on class path for that project) but I can&#39;t figure out why Eclipse is not recognizing it on my current project now when it was working fine two days ago. ","title":"Why is Eclipse not adding jar file to class path after I added it to build path?","body":"<p>I am using PostgreSQL for my java project. I downloaded the jar file and added it to build path of the project (configure build path &gt; libraries &gt; add external jar). It was working fine for several weeks as I worked on project, but when I went to run my project again a couple days ago I was getting this error:</p>\n<p>java.lang.ClassNotFoundEcxeption: org.postgresql.Driver</p>\n<p>I printed the class path (System.out.println(System.getProperty(&quot;java.class.path&quot;) and noticed that the PostgreSQL jar file is not on there, only the JUnit5 jar files are.This explains why I am getting the above class not found error.</p>\n<p>So I tried to remove and re-add the jar file to the build path and re-run the program but it's still not working.</p>\n<p>I have not changed the folder location of the jar file on my computer. I have another project using the same jar file and that one is functioning properly (jar file is also printing on class path for that project) but I can't figure out why Eclipse is not recognizing it on my current project now when it was working fine two days ago.</p>\n"},{"tags":["java","eclipse","maven","debugging"],"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1488122528,"post_id":42470036,"comment_id":72081277,"body_markdown":"If you cannot debug, your IDE do not look at the same classes as the JVM running the code to be debugged. Check your artifacts.","body":"If you cannot debug, your IDE do not look at the same classes as the JVM running the code to be debugged. Check your artifacts."},{"owner":{"account_id":7985789,"reputation":93,"user_id":6025375,"accept_rate":40,"display_name":"neziy"},"score":0,"creation_date":1488123106,"post_id":42470036,"comment_id":72081513,"body_markdown":"The artifacts in the pom.xml file all look correct, the project runs fine if run it normally. The plugin for the maven surefire is like so:  &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.19.1&lt;/version&gt;\n        &lt;/plugin&gt;","body":"The artifacts in the pom.xml file all look correct, the project runs fine if run it normally. The plugin for the maven surefire is like so:  &lt;plugin&gt;           &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;           &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;           &lt;version&gt;2.19.1&lt;/version&gt;         &lt;/plugin&gt;"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1488123894,"post_id":42470036,"comment_id":72081752,"body_markdown":"Would you like to debug your Test or Maven itself ?","body":"Would you like to debug your Test or Maven itself ?"},{"owner":{"account_id":7985789,"reputation":93,"user_id":6025375,"accept_rate":40,"display_name":"neziy"},"score":0,"creation_date":1488124239,"post_id":42470036,"comment_id":72081852,"body_markdown":"I want to debug my project that I have written as a Maven Project, so would I consider that wanting to debug a Test or a Maven?","body":"I want to debug my project that I have written as a Maven Project, so would I consider that wanting to debug a Test or a Maven?"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1488137320,"post_id":42470036,"comment_id":72086670,"body_markdown":"I assume you would like to debug a Test which can simply being done from the IDE (Eclipse, IntelliJ) Just run the unit Tests with Debug Mode...no need to debug Maven itself...","body":"I assume you would like to debug a Test which can simply being done from the IDE (Eclipse, IntelliJ) Just run the unit Tests with Debug Mode...no need to debug Maven itself..."},{"owner":{"account_id":7985789,"reputation":93,"user_id":6025375,"accept_rate":40,"display_name":"neziy"},"score":0,"creation_date":1488196024,"post_id":42470036,"comment_id":72109465,"body_markdown":"Can you please tell me exactly how to run the unit tests with debug mode? I&#39;ve been trying to follow this tutorial : http://www.practicalweb.co.uk/blog/2014/11/19/debugging-with-maven-and-eclipse/ and all I get on the command line is build success. I&#39;m lost on exactly what I should do because every time I follow these steps, I still can&#39;t hit the break points. And I&#39;ve been trying a few things that I found online. I&#39;ve set my project folder as the source lookup path but still nothing.","body":"Can you please tell me exactly how to run the unit tests with debug mode? I&#39;ve been trying to follow this tutorial : <a href=\"http://www.practicalweb.co.uk/blog/2014/11/19/debugging-with-maven-and-eclipse/\" rel=\"nofollow noreferrer\">practicalweb.co.uk/blog/2014/11/19/&hellip;</a> and all I get on the command line is build success. I&#39;m lost on exactly what I should do because every time I follow these steps, I still can&#39;t hit the break points. And I&#39;ve been trying a few things that I found online. I&#39;ve set my project folder as the source lookup path but still nothing."},{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":2,"creation_date":1488211505,"post_id":42470036,"comment_id":72120106,"body_markdown":"Why do you need to debug your tests while running in Maven? If you want to debug a unit test, just right-click and select &quot;Debug As&quot; and select &quot;JUnit Test&quot;.","body":"Why do you need to debug your tests while running in Maven? If you want to debug a unit test, just right-click and select &quot;Debug As&quot; and select &quot;JUnit Test&quot;."},{"owner":{"account_id":7985789,"reputation":93,"user_id":6025375,"accept_rate":40,"display_name":"neziy"},"score":0,"creation_date":1488227346,"post_id":42470036,"comment_id":72129485,"body_markdown":"Alright so I read up on what exactly a unit test is and what it&#39;s used for (I&#39;m fairly new to Maven and it&#39;s debugging ways) and what I need is not to test methods individually but to test my project as a whole because everything is connected together. I have my threads and my user interface which I can&#39;t run individually because I need to test them together. I hope I&#39;ve made sense. How can I do this?","body":"Alright so I read up on what exactly a unit test is and what it&#39;s used for (I&#39;m fairly new to Maven and it&#39;s debugging ways) and what I need is not to test methods individually but to test my project as a whole because everything is connected together. I have my threads and my user interface which I can&#39;t run individually because I need to test them together. I hope I&#39;ve made sense. How can I do this?"}],"owner":{"account_id":7985789,"reputation":93,"user_id":6025375,"accept_rate":40,"display_name":"neziy"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1953,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1683688435,"creation_date":1488121176,"question_id":42470036,"body_markdown":"I&#39;ve been searching high and low for a tutorial on how to debug Maven projects in Eclipse and I&#39;ve been changing Debug Configurations, running mvn commands in the terminal and I just can&#39;t hit my breakpoints. I&#39;m running a UI application and the application won&#39;t even open, at the end of the debugging session I get a &quot;Build Success&quot; message in the console. \r\nI&#39;ve tried creating the following Debugging configurations:\r\n\r\n    Goal: -Dmaven.surefire.debug test\r\n    Parameter Name: forkCount\r\n    Value = 0\r\n\r\n    Goal: test\r\n    Parameter Name:-Dmaven.surefire.debug\r\n    Value:true\r\n\r\nI&#39;ve also tried [this][1] but have had no success.\r\n\r\nI also ran these commands in the terminal: \r\n\r\n     mvnDebug -Dtest=TestClass#testMethod test -DforkMode=never\r\n     \r\n     mvn -Dmaven.surefire.debug=&quot;-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=8000 -Xnoagent -Djava.compiler=NONE&quot; test\r\n\r\nCan anyone please give me exact steps on how I can hit my breakpoints? I&#39;ve been researching but I just can&#39;t achieve this. Any help would be much appreciated. \r\n\r\nThanks in advance.\r\n\r\n\r\n  [1]: http://docs.alfresco.com/4.2/tasks/dev-extensions-maven-sdk-eclipse-remote-debugging.html","title":"Cannot hit breakpoints in Maven Project while debugging in Eclipse","body":"<p>I've been searching high and low for a tutorial on how to debug Maven projects in Eclipse and I've been changing Debug Configurations, running mvn commands in the terminal and I just can't hit my breakpoints. I'm running a UI application and the application won't even open, at the end of the debugging session I get a \"Build Success\" message in the console. \nI've tried creating the following Debugging configurations:</p>\n\n<pre><code>Goal: -Dmaven.surefire.debug test\nParameter Name: forkCount\nValue = 0\n\nGoal: test\nParameter Name:-Dmaven.surefire.debug\nValue:true\n</code></pre>\n\n<p>I've also tried <a href=\"http://docs.alfresco.com/4.2/tasks/dev-extensions-maven-sdk-eclipse-remote-debugging.html\" rel=\"nofollow noreferrer\">this</a> but have had no success.</p>\n\n<p>I also ran these commands in the terminal: </p>\n\n<pre><code> mvnDebug -Dtest=TestClass#testMethod test -DforkMode=never\n\n mvn -Dmaven.surefire.debug=\"-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=8000 -Xnoagent -Djava.compiler=NONE\" test\n</code></pre>\n\n<p>Can anyone please give me exact steps on how I can hit my breakpoints? I've been researching but I just can't achieve this. Any help would be much appreciated. </p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","minecraft"],"answers":[{"comments":[{"owner":{"account_id":22474430,"reputation":80,"user_id":16674378,"display_name":"Suky Laplante"},"score":0,"creation_date":1629066077,"post_id":68795644,"comment_id":121581649,"body_markdown":"Yeah it work it stop crash but Now the HUD don&#39;t move I will send u a screenshot in the main comment","body":"Yeah it work it stop crash but Now the HUD don&#39;t move I will send u a screenshot in the main comment"}],"tags":[],"owner":{"account_id":13848741,"reputation":10825,"user_id":9997212,"display_name":"enzo"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1629065087,"creation_date":1629065087,"answer_id":68795644,"question_id":68795607,"body_markdown":"## The problem\r\n\r\nWhen you do\r\n\r\n```\r\nprivate class MouseOverFinder implements Predicate&lt;IRenderer&gt;\r\n```\r\n\r\nyou&#39;re actually implementing `com.google.common.base.Predicate` from Guava.\r\n\r\nHowever, when you do\r\n\r\n```\r\nprivate void loadMouseOver(int x, int y) {\r\n    this.selectedRenderer = renderers.keySet()\r\n      .stream()\r\n      .filter((java.util.function.Predicate&lt;? super IRenderer&gt;) new MouseOverFinder(x, y))\r\n      .findFirst();\r\n}\r\n```\r\n\r\nyou&#39;re trying to cast a `com.google.common.base.Predicate` (from Guava) into a `java.util.function.Predicate` (from Java). Since they don&#39;t extend or inherit from each other, this will raise a CastError.\r\n\r\n## The solution\r\n\r\nChange your `MouseOverFinder` class to\r\n\r\n```java\r\nprivate class MouseOverFinder implements java.util.function.Predicate&lt;IRenderer&gt; {\r\n    // ...\r\n\r\n    // Add an override, since you&#39;re overriding this method from Predicate\r\n    @Override\r\n    public boolean test(IRenderer renderer) {\r\n        // ...\r\n    }\r\n \r\n    // Also remove the older `apply` method since it&#39;s useless\r\n}\r\n```\r\n\r\nChange your `loadMouseOver` method to\r\n\r\n```java\r\nprivate void loadMouseOver(int x, int y) {\r\n    this.selectedRenderer = renderers.keySet()\r\n      .stream()\r\n      .filter(new MouseOverFinder(x, y))\r\n      .findFirst();\r\n}\r\n```\r\n\r\n","title":"The HUD doesn&#39;t move (I am doing a mcp mod)","body":"<h2>The problem</h2>\n<p>When you do</p>\n<pre><code>private class MouseOverFinder implements Predicate&lt;IRenderer&gt;\n</code></pre>\n<p>you're actually implementing <code>com.google.common.base.Predicate</code> from Guava.</p>\n<p>However, when you do</p>\n<pre><code>private void loadMouseOver(int x, int y) {\n    this.selectedRenderer = renderers.keySet()\n      .stream()\n      .filter((java.util.function.Predicate&lt;? super IRenderer&gt;) new MouseOverFinder(x, y))\n      .findFirst();\n}\n</code></pre>\n<p>you're trying to cast a <code>com.google.common.base.Predicate</code> (from Guava) into a <code>java.util.function.Predicate</code> (from Java). Since they don't extend or inherit from each other, this will raise a CastError.</p>\n<h2>The solution</h2>\n<p>Change your <code>MouseOverFinder</code> class to</p>\n<pre class=\"lang-java prettyprint-override\"><code>private class MouseOverFinder implements java.util.function.Predicate&lt;IRenderer&gt; {\n    // ...\n\n    // Add an override, since you're overriding this method from Predicate\n    @Override\n    public boolean test(IRenderer renderer) {\n        // ...\n    }\n \n    // Also remove the older `apply` method since it's useless\n}\n</code></pre>\n<p>Change your <code>loadMouseOver</code> method to</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void loadMouseOver(int x, int y) {\n    this.selectedRenderer = renderers.keySet()\n      .stream()\n      .filter(new MouseOverFinder(x, y))\n      .findFirst();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23795772,"reputation":21,"user_id":17806643,"display_name":"GavinGoGaming"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683685587,"creation_date":1683685587,"answer_id":76214502,"question_id":68795607,"body_markdown":"Used to have the same problem. Make sure you import correctly and check your ScreenPosition class.","title":"The HUD doesn&#39;t move (I am doing a mcp mod)","body":"<p>Used to have the same problem. Make sure you import correctly and check your ScreenPosition class.</p>\n"}],"owner":{"account_id":22474430,"reputation":80,"user_id":16674378,"display_name":"Suky Laplante"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1683685587,"creation_date":1629064630,"question_id":68795607,"body_markdown":"I am doing a Minecraft client like lunar, but when I click the HUD to modify the place of the &quot;mod&quot; or when I click randomly the game decides to crash. Here is my code for the HUDConfigScreen\r\n```\r\n    package TrayardClient.gui.hud;\r\n    \r\n    import java.io.IOException;\r\n    import java.util.*;\r\n    \r\n    \r\n    import javax.swing.Renderer;\r\n    import javax.tools.JavaCompiler;\r\n    \r\n    import org.lwjgl.input.Keyboard;\r\n    \r\n    import com.google.common.base.Predicate;\r\n    \r\n    import net.minecraft.client.Minecraft;\r\n    import net.minecraft.client.gui.GuiScreen;\r\n    import net.minecraft.client.gui.ScaledResolution;\r\n    \r\n    public class HUDConfigScreen extends GuiScreen {\r\n    \t\r\n    \tprivate final HashMap&lt;IRenderer, ScreenPosition&gt; renderers = new HashMap&lt;IRenderer, ScreenPosition&gt;();\r\n    \t\r\n    \tprivate Optional&lt;IRenderer&gt; selectedRenderer = Optional.empty();\r\n    \t\r\n    \tprivate int prevX, prevY;\r\n    \t\r\n    \tpublic HUDConfigScreen(HUDManager api) {\r\n    \t\tCollection&lt;IRenderer&gt; registeredRenderers = api.getRegisteredRenderer();\r\n    \t\t\r\n    \t\tfor (IRenderer ren : registeredRenderers) {\r\n    \t\t\tif (!ren.isEnabled()) {\r\n    \t\t\t\tcontinue;\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tScreenPosition pos = ren.load();\r\n    \t\t\t\r\n    \t\t\tif (pos == null) {\r\n    \t\t\t\tpos = ScreenPosition.fromRelativePosition(0.5, 0.5);\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tadjustBounds(ren, pos);\r\n    \t\t\tthis.renderers.put(ren, pos);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void drawScreen(int mouseX, int mouseY, float partialTicks) {\r\n    \t\t\r\n    \t\tsuper.drawDefaultBackground();\r\n    \t\t\r\n    \t\tfinal float zBackup = this.zLevel;\r\n    \t\tthis.zLevel = 200;\r\n    \t\t\r\n    \t\tthis.drawHollowRect(0, 0, this.width, this.height - 1, 0xFFFF0000);\r\n    \t\t\r\n    \t\tfor(IRenderer renderer : renderers.keySet()) {\r\n    \t\t\tScreenPosition pos = renderers.get(renderer);\r\n    \t\t\t\r\n    \t\t\trenderer.render(pos);\r\n    \t\t\t\r\n    \t\t\tthis.drawHollowRect(pos.getAbsoluteX(), pos.getAbsoluteY(), renderer.getWidth(), renderer.getHeight(), 0xFF00FFFF);\r\n    \t\t}\r\n    \t\tthis.zLevel = zBackup;\r\n    \t}\r\n    \r\n    \tprivate void drawHollowRect(int x, int y, int w, int h, int color) {\r\n    \t\tthis.drawHorizontalLine(x, x + w, y, color);\r\n    \t\tthis.drawHorizontalLine(x, x + w, y + h, color);\r\n    \t\t\r\n    \t\tthis.drawVerticalLine(x, y + h, y, color);\r\n    \t\tthis.drawVerticalLine(x + w, y + h, y, color);\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tprotected void keyTyped(char typedChar, int keyCode) throws IOException {\r\n    \t\tif (keyCode == Keyboard.KEY_ESCAPE) {\r\n    \t\t\trenderers.entrySet().forEach((entry) -&gt; {\r\n    \t\t\t\tentry.getKey().save(entry.getValue());\r\n    \t\t\t});\r\n    \t\t\tthis.mc.displayGuiScreen(null);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t\r\n    \t@Override\r\n    \tprotected void mouseClickMove(int x, int y, int button, long time) throws IOException {\r\n    \t\tif (selectedRenderer.isPresent()) {\r\n    \t\t\tmoveSelectedRenderBy(x - prevX, y - prevY);\r\n    \t\t}\r\n    \t\t\r\n    \t\tthis.prevX = x;\r\n    \t\tthis.prevY = y;\r\n    \t}\r\n    \r\n    \tprivate void moveSelectedRenderBy(int offsetX, int offsetY) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tIRenderer renderer = selectedRenderer.get();\r\n    \t\tScreenPosition pos = renderers.get(renderer);\r\n    \t\t\r\n    \t\tpos.setAbsolute(pos.getAbsoluteX() + offsetX, pos.getAbsoluteY() + offsetY);\r\n    \t\t\r\n    \t\tadjustBounds(renderer, pos);\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void onGuiClosed() {\r\n    \t\tfor (IRenderer renderer : renderers.keySet()) {\r\n    \t\t\trenderer.save(renderers.get(renderer));\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic boolean doesGuiPauseGame() {\r\n    \t\treturn true;\r\n    \t}\r\n    \t\r\n    \tprivate void adjustBounds(IRenderer renderer, ScreenPosition pos) {\r\n    \t\tScaledResolution res = new ScaledResolution(Minecraft.getMinecraft());\r\n    \t\t\r\n    \t\tint screenWidth = res.getScaledWidth();\r\n    \t\tint screenHeight = res.getScaledHeight();\r\n    \t\t\r\n    \t\tint absoluteX = Math.max(0, Math.min(pos.getAbsoluteX(), Math.max(screenWidth - renderer.getWidth(), 0)));\r\n    \t\tint absoluteY = Math.max(0, Math.min(pos.getAbsoluteY(), Math.max(screenHeight - renderer.getHeight(), 0)));\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tprotected void mouseClicked(int x, int y, int button) throws IOException {\r\n    \t\tthis.prevX = x;\r\n    \t\tthis.prevY = y;\r\n    \t\t\r\n    \t\tloadMouseOver(x, y);\r\n    \t}\r\n    \t\r\n    \tprivate void loadMouseOver(int x, int y) {\r\n    \t    this.selectedRenderer = renderers.keySet()\r\n    \t      .stream()\r\n    \t      .filter(new MouseOverFinder(x, y))\r\n    \t      .findFirst();\r\n    \t}\r\n    \t\r\n    \tprivate class MouseOverFinder implements java.util.function.Predicate&lt;IRenderer&gt;{ \r\n    \t\t\r\n    \t\tprivate int mx, my;\r\n    \t\t\r\n    \t\tpublic MouseOverFinder(int x, int y) {\r\n    \t\t\tthis.mx = x;\r\n    \t\t\tthis.my = y;\r\n    \t\t\t \r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic boolean test(IRenderer renderer) {\r\n    \r\n    \t\t\tScreenPosition pos = renderers.get(renderer);\r\n    \t\t\t\r\n    \t\t\tint abssoluteX = pos.getAbsoluteX();\r\n    \t\t\tint absoluteY = pos.getAbsoluteY();\r\n    \t\t\t\r\n    \t\t\tif (mx &gt;= abssoluteX &amp;&amp; my &lt;= absoluteY + renderer.getHeight()) {\r\n    \t\t\t\treturn true;\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \r\n    \t\tpublic boolean apply(IRenderer arg0) {\r\n    \t\t\t// TODO Auto-generated method stub\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    }\r\n```\r\n![The Edit Panel before click][1]\r\n\r\n\r\n![After click and move a bit][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FSwzI.png\r\n  [2]: https://i.stack.imgur.com/dNb9Z.png\r\n\r\n\r\n**I don&#39;t know what to do because I like to code (mostly in C# or python). I am a little bit new to Java. I can&#39;t post all the code here, but if you need the code of a certain class, please let me know.**\r\n","title":"The HUD doesn&#39;t move (I am doing a mcp mod)","body":"<p>I am doing a Minecraft client like lunar, but when I click the HUD to modify the place of the &quot;mod&quot; or when I click randomly the game decides to crash. Here is my code for the HUDConfigScreen</p>\n<pre><code>    package TrayardClient.gui.hud;\n    \n    import java.io.IOException;\n    import java.util.*;\n    \n    \n    import javax.swing.Renderer;\n    import javax.tools.JavaCompiler;\n    \n    import org.lwjgl.input.Keyboard;\n    \n    import com.google.common.base.Predicate;\n    \n    import net.minecraft.client.Minecraft;\n    import net.minecraft.client.gui.GuiScreen;\n    import net.minecraft.client.gui.ScaledResolution;\n    \n    public class HUDConfigScreen extends GuiScreen {\n        \n        private final HashMap&lt;IRenderer, ScreenPosition&gt; renderers = new HashMap&lt;IRenderer, ScreenPosition&gt;();\n        \n        private Optional&lt;IRenderer&gt; selectedRenderer = Optional.empty();\n        \n        private int prevX, prevY;\n        \n        public HUDConfigScreen(HUDManager api) {\n            Collection&lt;IRenderer&gt; registeredRenderers = api.getRegisteredRenderer();\n            \n            for (IRenderer ren : registeredRenderers) {\n                if (!ren.isEnabled()) {\n                    continue;\n                }\n                \n                ScreenPosition pos = ren.load();\n                \n                if (pos == null) {\n                    pos = ScreenPosition.fromRelativePosition(0.5, 0.5);\n                }\n                \n                adjustBounds(ren, pos);\n                this.renderers.put(ren, pos);\n            }\n        }\n        \n        @Override\n        public void drawScreen(int mouseX, int mouseY, float partialTicks) {\n            \n            super.drawDefaultBackground();\n            \n            final float zBackup = this.zLevel;\n            this.zLevel = 200;\n            \n            this.drawHollowRect(0, 0, this.width, this.height - 1, 0xFFFF0000);\n            \n            for(IRenderer renderer : renderers.keySet()) {\n                ScreenPosition pos = renderers.get(renderer);\n                \n                renderer.render(pos);\n                \n                this.drawHollowRect(pos.getAbsoluteX(), pos.getAbsoluteY(), renderer.getWidth(), renderer.getHeight(), 0xFF00FFFF);\n            }\n            this.zLevel = zBackup;\n        }\n    \n        private void drawHollowRect(int x, int y, int w, int h, int color) {\n            this.drawHorizontalLine(x, x + w, y, color);\n            this.drawHorizontalLine(x, x + w, y + h, color);\n            \n            this.drawVerticalLine(x, y + h, y, color);\n            this.drawVerticalLine(x + w, y + h, y, color);\n        }\n        \n        @Override\n        protected void keyTyped(char typedChar, int keyCode) throws IOException {\n            if (keyCode == Keyboard.KEY_ESCAPE) {\n                renderers.entrySet().forEach((entry) -&gt; {\n                    entry.getKey().save(entry.getValue());\n                });\n                this.mc.displayGuiScreen(null);\n            }\n        }\n        \n        \n        @Override\n        protected void mouseClickMove(int x, int y, int button, long time) throws IOException {\n            if (selectedRenderer.isPresent()) {\n                moveSelectedRenderBy(x - prevX, y - prevY);\n            }\n            \n            this.prevX = x;\n            this.prevY = y;\n        }\n    \n        private void moveSelectedRenderBy(int offsetX, int offsetY) {\n            // TODO Auto-generated method stub\n            IRenderer renderer = selectedRenderer.get();\n            ScreenPosition pos = renderers.get(renderer);\n            \n            pos.setAbsolute(pos.getAbsoluteX() + offsetX, pos.getAbsoluteY() + offsetY);\n            \n            adjustBounds(renderer, pos);\n        }\n        \n        @Override\n        public void onGuiClosed() {\n            for (IRenderer renderer : renderers.keySet()) {\n                renderer.save(renderers.get(renderer));\n            }\n        }\n        \n        @Override\n        public boolean doesGuiPauseGame() {\n            return true;\n        }\n        \n        private void adjustBounds(IRenderer renderer, ScreenPosition pos) {\n            ScaledResolution res = new ScaledResolution(Minecraft.getMinecraft());\n            \n            int screenWidth = res.getScaledWidth();\n            int screenHeight = res.getScaledHeight();\n            \n            int absoluteX = Math.max(0, Math.min(pos.getAbsoluteX(), Math.max(screenWidth - renderer.getWidth(), 0)));\n            int absoluteY = Math.max(0, Math.min(pos.getAbsoluteY(), Math.max(screenHeight - renderer.getHeight(), 0)));\n            \n            \n        }\n        \n        @Override\n        protected void mouseClicked(int x, int y, int button) throws IOException {\n            this.prevX = x;\n            this.prevY = y;\n            \n            loadMouseOver(x, y);\n        }\n        \n        private void loadMouseOver(int x, int y) {\n            this.selectedRenderer = renderers.keySet()\n              .stream()\n              .filter(new MouseOverFinder(x, y))\n              .findFirst();\n        }\n        \n        private class MouseOverFinder implements java.util.function.Predicate&lt;IRenderer&gt;{ \n            \n            private int mx, my;\n            \n            public MouseOverFinder(int x, int y) {\n                this.mx = x;\n                this.my = y;\n                 \n            }\n            \n            public boolean test(IRenderer renderer) {\n    \n                ScreenPosition pos = renderers.get(renderer);\n                \n                int abssoluteX = pos.getAbsoluteX();\n                int absoluteY = pos.getAbsoluteY();\n                \n                if (mx &gt;= abssoluteX &amp;&amp; my &lt;= absoluteY + renderer.getHeight()) {\n                    return true;\n                }\n                \n                return false;\n            }\n    \n            public boolean apply(IRenderer arg0) {\n                // TODO Auto-generated method stub\n                return false;\n            }\n            \n        }\n    }\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/FSwzI.png\" alt=\"The Edit Panel before click\" /></p>\n<p><img src=\"https://i.stack.imgur.com/dNb9Z.png\" alt=\"After click and move a bit\" /></p>\n<p><strong>I don't know what to do because I like to code (mostly in C# or python). I am a little bit new to Java. I can't post all the code here, but if you need the code of a certain class, please let me know.</strong></p>\n"},{"tags":["java","spring","spring-boot","visual-studio-code"],"comments":[{"owner":{"account_id":17983057,"reputation":1072,"user_id":13068918,"display_name":"Sheng Chen"},"score":0,"creation_date":1644803567,"post_id":71099496,"comment_id":125695566,"body_markdown":"Could you see a thumb-up icon in the status bar?","body":"Could you see a thumb-up icon in the status bar?"},{"owner":{"account_id":16132319,"reputation":53,"user_id":11645616,"display_name":"Park Bo"},"score":0,"creation_date":1644805708,"post_id":71099496,"comment_id":125695793,"body_markdown":"@Sheng Chen Yes, I add jdk to seetings.json not nothing solved","body":"@Sheng Chen Yes, I add jdk to seetings.json not nothing solved"},{"owner":{"account_id":17942799,"reputation":7768,"user_id":13037676,"display_name":"Steven-MSFT"},"score":0,"creation_date":1645597600,"post_id":71099496,"comment_id":125910893,"body_markdown":"Have you installed the related extensions? And could you have a look at the [official tutorial](https://code.visualstudio.com/docs/java/java-spring-boot)","body":"Have you installed the related extensions? And could you have a look at the <a href=\"https://code.visualstudio.com/docs/java/java-spring-boot\" rel=\"nofollow noreferrer\">official tutorial</a>"},{"owner":{"account_id":16132319,"reputation":53,"user_id":11645616,"display_name":"Park Bo"},"score":0,"creation_date":1645702826,"post_id":71099496,"comment_id":125944809,"body_markdown":"@Steven yes, I installed all the java extension and spring boot extensions. Importing annotation and collection were working when I created brand new project, yet it fails when I import project and tried to edit it or add dependency of mybatis.","body":"@Steven yes, I installed all the java extension and spring boot extensions. Importing annotation and collection were working when I created brand new project, yet it fails when I import project and tried to edit it or add dependency of mybatis."}],"answers":[{"comments":[{"owner":{"account_id":6410870,"reputation":1742,"user_id":4970679,"display_name":"ahuemmer"},"score":0,"creation_date":1659423401,"post_id":73146262,"comment_id":129284717,"body_markdown":"This does not provide an answer to the question. Once you have sufficient [reputation](https://stackoverflow.com/help/whats-reputation) you will be able to [comment on any post](https://stackoverflow.com/help/privileges/comment); instead, [provide answers that don&#39;t require clarification from the asker](https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead). - [From Review](/review/late-answers/32352065)","body":"This does not provide an answer to the question. Once you have sufficient <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a> you will be able to <a href=\"https://stackoverflow.com/help/privileges/comment\">comment on any post</a>; instead, <a href=\"https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead\">provide answers that don&#39;t require clarification from the asker</a>. - <a href=\"/review/late-answers/32352065\">From Review</a>"}],"tags":[],"owner":{"account_id":23354737,"reputation":1,"user_id":17427864,"display_name":"JF Lee"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658971785,"creation_date":1658971785,"answer_id":73146262,"question_id":71099496,"body_markdown":"i&#39;m using vscode for springboot+vue projects. everything works fine.","title":"Anyone using VSCODE for developing springboot project?","body":"<p>i'm using vscode for springboot+vue projects. everything works fine.</p>\n"},{"comments":[{"owner":{"account_id":22084389,"reputation":211938,"user_id":16343464,"display_name":"mozway"},"score":1,"creation_date":1682496083,"post_id":76108426,"comment_id":134223470,"body_markdown":"You might want to add a few more words to support your answer (official reference, details on how to effectively disable the extension pack)","body":"You might want to add a few more words to support your answer (official reference, details on how to effectively disable the extension pack)"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1682668253,"post_id":76108426,"comment_id":134254976,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76108426/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":22176183,"reputation":1,"user_id":16420696,"display_name":"Alexander Loong"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683682553,"creation_date":1682495969,"answer_id":76108426,"question_id":71099496,"body_markdown":"![enter image description here][1]\r\n\r\nTry disabling spring boot extension pack and &quot;Clean Java Language server workspace&quot;. It help me avoid that problem.\r\n\r\nYou can refer to here: https://github.com/spring-projects/sts4/issues/808\r\n\r\n  [1]: https://i.stack.imgur.com/IFP7G.png","title":"Anyone using VSCODE for developing springboot project?","body":"<p><img src=\"https://i.stack.imgur.com/IFP7G.png\" alt=\"enter image description here\" /></p>\n<p>Try disabling spring boot extension pack and &quot;Clean Java Language server workspace&quot;. It help me avoid that problem.</p>\n<p>You can refer to here: <a href=\"https://github.com/spring-projects/sts4/issues/808\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/sts4/issues/808</a></p>\n"}],"owner":{"account_id":16132319,"reputation":53,"user_id":11645616,"display_name":"Park Bo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2089,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1683682553,"creation_date":1644745680,"question_id":71099496,"body_markdown":"I was using Eclipse for developing Spring boot project. Eclipse is soooo slow in running, so I decided to change my ide. Most people recommend intellij which support majority of extensions for java. However, it is not for free (I know there is free version, but some said compare to Eclipse there are no difference between them. maybe? idk..) and some people said it is a bit slow (not like eclipse but little bit slow). I know people are not using VScode for spring boot, they support some extensions yet compare to intellij it is almost zero base starting. However, upside for vscode is free and light for developing small (maybe middle?) size project. What would you recommend? \r\n\r\nadditionally, right now I am testing whether vscode can run spring boot\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PSWrx.png\r\n\r\nvscode cannot import any annotaiton or collection or anything just loading kept showing.\r\nanyone know solution? since almost no one is using vscode for java there seems to be no information","title":"Anyone using VSCODE for developing springboot project?","body":"<p>I was using Eclipse for developing Spring boot project. Eclipse is soooo slow in running, so I decided to change my ide. Most people recommend intellij which support majority of extensions for java. However, it is not for free (I know there is free version, but some said compare to Eclipse there are no difference between them. maybe? idk..) and some people said it is a bit slow (not like eclipse but little bit slow). I know people are not using VScode for spring boot, they support some extensions yet compare to intellij it is almost zero base starting. However, upside for vscode is free and light for developing small (maybe middle?) size project. What would you recommend?</p>\n<p>additionally, right now I am testing whether vscode can run spring boot</p>\n<p><a href=\"https://i.stack.imgur.com/PSWrx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PSWrx.png\" alt=\"enter image description here\" /></a></p>\n<p>vscode cannot import any annotaiton or collection or anything just loading kept showing.\nanyone know solution? since almost no one is using vscode for java there seems to be no information</p>\n"},{"tags":["java","spring-boot","google-chrome","cors","private-network-access"],"answers":[{"comments":[{"owner":{"account_id":28330620,"reputation":58,"user_id":21664963,"display_name":"bdev"},"score":0,"creation_date":1683542858,"post_id":76126873,"comment_id":134377566,"body_markdown":"I couldn&#39;t make this work. I have an updated Chrome Version 113.0.5672.64 (Official Build) (64-bit) and Spring-boot 2.7 as well. Also, in the Chrome flags I tried enabling &quot;Respect the result of Private Network Access preflights&quot;, but it didn&#39;t help. In your response, should SecurityFilterChain be a bean?","body":"I couldn&#39;t make this work. I have an updated Chrome Version 113.0.5672.64 (Official Build) (64-bit) and Spring-boot 2.7 as well. Also, in the Chrome flags I tried enabling &quot;Respect the result of Private Network Access preflights&quot;, but it didn&#39;t help. In your response, should SecurityFilterChain be a bean?"},{"owner":{"account_id":2395348,"reputation":188,"user_id":2094249,"display_name":"tbigby"},"score":0,"creation_date":1683682023,"post_id":76126873,"comment_id":134402898,"body_markdown":"Apologies, yes it should be an `@Bean`, I&#39;ve edited that above. I was testing with Chrome 112 with the same &#39;Respect the result&#39; flag on. Of course my config is somewhat more complicated and proprietary but I hope I&#39;ve captured the relevant bits. Check in the Chrome Dev Tools Network panel: is the `Access-Control-Request-Private-Network` header being sent? Can you Debug into the `CustomCorsProcessor.processRequest()` method - does it run?","body":"Apologies, yes it should be an <code>@Bean</code>, I&#39;ve edited that above. I was testing with Chrome 112 with the same &#39;Respect the result&#39; flag on. Of course my config is somewhat more complicated and proprietary but I hope I&#39;ve captured the relevant bits. Check in the Chrome Dev Tools Network panel: is the <code>Access-Control-Request-Private-Network</code> header being sent? Can you Debug into the <code>CustomCorsProcessor.processRequest()</code> method - does it run?"},{"owner":{"account_id":28330620,"reputation":58,"user_id":21664963,"display_name":"bdev"},"score":0,"creation_date":1683965730,"post_id":76126873,"comment_id":134450004,"body_markdown":"Thanks for response, I cant debug into `CustomCorsProcessor.processRequest()` (its not called) so I cant check the `Control-Request-Private-Network` header. My Chrome Console gives this error: `Access to XMLHttpRequest at &#39;http://....&#39; from origin &#39;http://.... &#39; has been blocked by CORS policy: The request client is not a secure context and the resource is in more-private address space local. ` \nThe only solution working for me is to `Block insecure private network requests.` under Chrome flags, but this I what I wanted to avoid in first place.","body":"Thanks for response, I cant debug into <code>CustomCorsProcessor.processRequest()</code> (its not called) so I cant check the <code>Control-Request-Private-Network</code> header. My Chrome Console gives this error: <code>Access to XMLHttpRequest at &#39;http:&#47;&#47;....&#39; from origin &#39;http:&#47;&#47;.... &#39; has been blocked by CORS policy: The request client is not a secure context and the resource is in more-private address space local. </code>  The only solution working for me is to <code>Block insecure private network requests.</code> under Chrome flags, but this I what I wanted to avoid in first place."},{"owner":{"account_id":28330620,"reputation":58,"user_id":21664963,"display_name":"bdev"},"score":0,"creation_date":1683966068,"post_id":76126873,"comment_id":134450047,"body_markdown":"Also I dont see the `Access-Control-Request-Private-Network` header under Chrome Network panel. It has the warning `Provisional headers are shown`. I tried disabling the cache as well to avoid caching the preflight.","body":"Also I dont see the <code>Access-Control-Request-Private-Network</code> header under Chrome Network panel. It has the warning <code>Provisional headers are shown</code>. I tried disabling the cache as well to avoid caching the preflight."},{"owner":{"account_id":2395348,"reputation":188,"user_id":2094249,"display_name":"tbigby"},"score":0,"creation_date":1684129638,"post_id":76126873,"comment_id":134465710,"body_markdown":"I am running my Dev environment with HTTPS and therefore it is &#39;secure&#39;, even though it&#39;s a self-signed cert. That might be part of the issue (my Chrome has &#39;block insecure private network requests&#39; as &#39;default&#39;).","body":"I am running my Dev environment with HTTPS and therefore it is &#39;secure&#39;, even though it&#39;s a self-signed cert. That might be part of the issue (my Chrome has &#39;block insecure private network requests&#39; as &#39;default&#39;)."},{"owner":{"account_id":2395348,"reputation":188,"user_id":2094249,"display_name":"tbigby"},"score":0,"creation_date":1684129807,"post_id":76126873,"comment_id":134465730,"body_markdown":"To get around any potential Chrome/insecure issue, you could also try making the &#39;preflight&#39; request in something like Postman or Insomnia. I set my request up as an `OPTIONS` request, adding an `origin` header and a variety of `Access-Control-*` headers, including: `Access-Control-Request-Private-Network` : `true`. After that I could see the response containing `Access-Control-Allow-Private-Network` : `true`.","body":"To get around any potential Chrome/insecure issue, you could also try making the &#39;preflight&#39; request in something like Postman or Insomnia. I set my request up as an <code>OPTIONS</code> request, adding an <code>origin</code> header and a variety of <code>Access-Control-*</code> headers, including: <code>Access-Control-Request-Private-Network</code> : <code>true</code>. After that I could see the response containing <code>Access-Control-Allow-Private-Network</code> : <code>true</code>."},{"owner":{"account_id":28330620,"reputation":58,"user_id":21664963,"display_name":"bdev"},"score":0,"creation_date":1685199151,"post_id":76126873,"comment_id":134629825,"body_markdown":"Yes an OPTIONS request in postman does get handled in my local webservice, just not from Chrome. I just realized, my request was a HTTP GET and so was considered as a simple request and no preflight was triggered (yet its blocked by Chrome). I introduced a custom header to force it as a non-simple request, so now I can see the preflight. But the preflight fails with ERR_FAILED and what is strange is in Chrome network tab, the GET is shown BEFORE the preflight !","body":"Yes an OPTIONS request in postman does get handled in my local webservice, just not from Chrome. I just realized, my request was a HTTP GET and so was considered as a simple request and no preflight was triggered (yet its blocked by Chrome). I introduced a custom header to force it as a non-simple request, so now I can see the preflight. But the preflight fails with ERR_FAILED and what is strange is in Chrome network tab, the GET is shown BEFORE the preflight !"},{"owner":{"account_id":28330620,"reputation":58,"user_id":21664963,"display_name":"bdev"},"score":0,"creation_date":1685199234,"post_id":76126873,"comment_id":134629839,"body_markdown":"Is is possible my `default` in Chrome flag `Block insecure private network requests` is different from your `default`?","body":"Is is possible my <code>default</code> in Chrome flag <code>Block insecure private network requests</code> is different from your <code>default</code>?"},{"owner":{"account_id":2395348,"reputation":188,"user_id":2094249,"display_name":"tbigby"},"score":0,"creation_date":1691369053,"post_id":76126873,"comment_id":135477876,"body_markdown":"Hi @bdev, apologies I have been on leave and then not back to StackOverflow for some time. I can&#39;t really be sure, but I believe my `block insecure private network requests` `default` means `enabled`.","body":"Hi @bdev, apologies I have been on leave and then not back to StackOverflow for some time. I can&#39;t really be sure, but I believe my <code>block insecure private network requests</code> <code>default</code> means <code>enabled</code>."},{"owner":{"account_id":2395348,"reputation":188,"user_id":2094249,"display_name":"tbigby"},"score":0,"creation_date":1691369407,"post_id":76126873,"comment_id":135477902,"body_markdown":"I really believe that your best step would be to add HTTPS to your localhost webservice, and the public service if it doesn&#39;t have it already. See: https://developer.chrome.com/blog/private-network-access-update/#accessing-private-ip-addresses . If you can get any &#39;insecure&#39; issue out of the way, you can then see if the &#39;Private Network Access&#39; part does work correctly.","body":"I really believe that your best step would be to add HTTPS to your localhost webservice, and the public service if it doesn&#39;t have it already. See: <a href=\"https://developer.chrome.com/blog/private-network-access-update/#accessing-private-ip-addresses\" rel=\"nofollow noreferrer\">developer.chrome.com/blog/private-network-access-update/&hellip;</a> . If you can get any &#39;insecure&#39; issue out of the way, you can then see if the &#39;Private Network Access&#39; part does work correctly."},{"owner":{"account_id":2395348,"reputation":188,"user_id":2094249,"display_name":"tbigby"},"score":0,"creation_date":1691369496,"post_id":76126873,"comment_id":135477908,"body_markdown":"For my Spring Boot application, adding HTTPS was a matter of creating a Keystore and setting `server.ssl.*` properties, see sections 2 &amp; 3 of: https://www.baeldung.com/spring-boot-https-self-signed-certificate for the details.","body":"For my Spring Boot application, adding HTTPS was a matter of creating a Keystore and setting <code>server.ssl.*</code> properties, see sections 2 &amp; 3 of: <a href=\"https://www.baeldung.com/spring-boot-https-self-signed-certificate\" rel=\"nofollow noreferrer\">baeldung.com/spring-boot-https-self-signed-certificate</a> for the details."},{"owner":{"account_id":28330620,"reputation":58,"user_id":21664963,"display_name":"bdev"},"score":0,"creation_date":1694197037,"post_id":76126873,"comment_id":135864469,"body_markdown":"you are right, adding HTTPS to both did fix the issue :) Strange that having both on HTTP was creating this problem. Thank you for all the support!","body":"you are right, adding HTTPS to both did fix the issue :) Strange that having both on HTTP was creating this problem. Thank you for all the support!"},{"owner":{"account_id":2395348,"reputation":188,"user_id":2094249,"display_name":"tbigby"},"score":0,"creation_date":1694497772,"post_id":76126873,"comment_id":135894677,"body_markdown":"No problem, great to hear it worked!","body":"No problem, great to hear it worked!"}],"tags":[],"owner":{"account_id":2395348,"reputation":188,"user_id":2094249,"display_name":"tbigby"},"comment_count":13,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683681705,"creation_date":1682663974,"answer_id":76126873,"question_id":76036487,"body_markdown":"This is not quite an answer to why your code does not work, but I have just created a Spring way to achieve this, so it may assist you. I am using Spring Boot 2.7 therefore Spring 5.3 is included.\r\n\r\nIt uses a custom `CorsProcessor` class to add the relevant header to the response.\r\n\r\n`CustomCorsProcessor.java`:\r\n\r\n```\r\npublic class CustomCorsProcessor extends DefaultCorsProcessor implements CorsProcessor {\r\n\r\n\tprivate static final String ACCESS_CONTROL_REQUEST_PRIVATE_NETWORK = &quot;Access-Control-Request-Private-Network&quot;;\r\n\tprivate static final String ACCESS_CONTROL_ALLOW_PRIVATE_NETWORK = &quot;Access-Control-Allow-Private-Network&quot;;\r\n\t\r\n\t@Override\r\n\tpublic boolean processRequest(@Nullable CorsConfiguration config, HttpServletRequest request,\r\n\t\t\tHttpServletResponse response) throws IOException {\r\n\t\t\r\n\t\t//Allow DefaultCorsProcessor to run first\r\n\t\tboolean superResult = super.processRequest(config, request, response);\r\n\t\tif (superResult == false) return false;\r\n\t\t\r\n\t\tServerHttpRequest serverRequest = new ServletServerHttpRequest(request);\r\n\t\t\r\n\t\t//If the CORS header requesting Private Network access is present, respond allowing access\r\n\t\tif(serverRequest.getHeaders().containsKey(ACCESS_CONTROL_REQUEST_PRIVATE_NETWORK)) {\r\n\t\t\tresponse.addHeader(ACCESS_CONTROL_ALLOW_PRIVATE_NETWORK, Boolean.toString(true));\r\n\t\t}\r\n\t\t\r\n\t\treturn true;\r\n\t}\r\n}\r\n```\r\n\r\nYou might like to customise the `CorsConfiguration` class to avoid hardcoding the Boolean `true`.\r\n\r\nThen the `CustomCorsProcessor` class is used in `WebSecurityConfig` as a `CorsProcessor`.\r\n\r\nNote that before this Private Network change, the `CorsConfigurationSource` was itself an `@Bean` but now the `CorsFilter` is the `@Bean`.\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig {\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n\t\t\t// by default uses a Bean by the name of corsFilter\r\n\t\t\t.cors()\r\n\t\t\t.and()\r\n            ... as needed for your application\r\n\r\n        return http.build();\r\n    }\r\n\r\n\tpublic CorsConfigurationSource corsConfigurationSource() {\r\n\t\tCorsConfiguration configuration = new CorsConfiguration();\r\n\t\tconfiguration.setAllowCredentials(true);\r\n\t\tconfiguration.addAllowedOrigin(&quot;http://domain1.com&quot;);\r\n\t\tconfiguration.addAllowedHeader(&quot;*&quot;);\r\n\t\tconfiguration.addAllowedMethod(&quot;*&quot;);\r\n\t\tUrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n\t\tsource.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n\t\treturn source;\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic CorsFilter corsFilter() {\r\n\t\tCorsConfigurationSource corsConfigurationSource = corsConfigurationSource();\r\n\t\tCorsFilter corsFilter = new CorsFilter(corsConfigurationSource);\r\n\r\n\t\t//Register our custom CorsProcessor that includes the Private Network allowed header\r\n\t\tcorsFilter.setCorsProcessor(new CustomCorsProcessor());\r\n\t\treturn corsFilter;\r\n\t}\r\n}\r\n```\r\n\r\nThis then allowed Chrome to connect to the Private Network web service.\r\n\r\nThis is partly based on what I found from these URLs:\r\n\r\nhttps://spring.io/blog/2015/06/08/cors-support-in-spring-framework  \r\nhttps://www.baeldung.com/spring-cors","title":"Spring CORS Filter for Access-Control-Allow-Private-Network not working","body":"<p>This is not quite an answer to why your code does not work, but I have just created a Spring way to achieve this, so it may assist you. I am using Spring Boot 2.7 therefore Spring 5.3 is included.</p>\n<p>It uses a custom <code>CorsProcessor</code> class to add the relevant header to the response.</p>\n<p><code>CustomCorsProcessor.java</code>:</p>\n<pre><code>public class CustomCorsProcessor extends DefaultCorsProcessor implements CorsProcessor {\n\n    private static final String ACCESS_CONTROL_REQUEST_PRIVATE_NETWORK = &quot;Access-Control-Request-Private-Network&quot;;\n    private static final String ACCESS_CONTROL_ALLOW_PRIVATE_NETWORK = &quot;Access-Control-Allow-Private-Network&quot;;\n    \n    @Override\n    public boolean processRequest(@Nullable CorsConfiguration config, HttpServletRequest request,\n            HttpServletResponse response) throws IOException {\n        \n        //Allow DefaultCorsProcessor to run first\n        boolean superResult = super.processRequest(config, request, response);\n        if (superResult == false) return false;\n        \n        ServerHttpRequest serverRequest = new ServletServerHttpRequest(request);\n        \n        //If the CORS header requesting Private Network access is present, respond allowing access\n        if(serverRequest.getHeaders().containsKey(ACCESS_CONTROL_REQUEST_PRIVATE_NETWORK)) {\n            response.addHeader(ACCESS_CONTROL_ALLOW_PRIVATE_NETWORK, Boolean.toString(true));\n        }\n        \n        return true;\n    }\n}\n</code></pre>\n<p>You might like to customise the <code>CorsConfiguration</code> class to avoid hardcoding the Boolean <code>true</code>.</p>\n<p>Then the <code>CustomCorsProcessor</code> class is used in <code>WebSecurityConfig</code> as a <code>CorsProcessor</code>.</p>\n<p>Note that before this Private Network change, the <code>CorsConfigurationSource</code> was itself an <code>@Bean</code> but now the <code>CorsFilter</code> is the <code>@Bean</code>.</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig {\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n            // by default uses a Bean by the name of corsFilter\n            .cors()\n            .and()\n            ... as needed for your application\n\n        return http.build();\n    }\n\n    public CorsConfigurationSource corsConfigurationSource() {\n        CorsConfiguration configuration = new CorsConfiguration();\n        configuration.setAllowCredentials(true);\n        configuration.addAllowedOrigin(&quot;http://domain1.com&quot;);\n        configuration.addAllowedHeader(&quot;*&quot;);\n        configuration.addAllowedMethod(&quot;*&quot;);\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n        return source;\n    }\n    \n    @Bean\n    public CorsFilter corsFilter() {\n        CorsConfigurationSource corsConfigurationSource = corsConfigurationSource();\n        CorsFilter corsFilter = new CorsFilter(corsConfigurationSource);\n\n        //Register our custom CorsProcessor that includes the Private Network allowed header\n        corsFilter.setCorsProcessor(new CustomCorsProcessor());\n        return corsFilter;\n    }\n}\n</code></pre>\n<p>This then allowed Chrome to connect to the Private Network web service.</p>\n<p>This is partly based on what I found from these URLs:</p>\n<p><a href=\"https://spring.io/blog/2015/06/08/cors-support-in-spring-framework\" rel=\"nofollow noreferrer\">https://spring.io/blog/2015/06/08/cors-support-in-spring-framework</a><br />\n<a href=\"https://www.baeldung.com/spring-cors\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-cors</a></p>\n"}],"owner":{"account_id":28330620,"reputation":58,"user_id":21664963,"display_name":"bdev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":787,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76126873,"answer_count":1,"score":2,"last_activity_date":1683681705,"creation_date":1681743340,"question_id":76036487,"body_markdown":"I have a webapp hosted on a public URL, trying to call a local webservice API (running on localhost)\r\nI am using Chrome to access the public website, this creates a CORS issue as described here\r\n\r\nhttps://developer.chrome.com/blog/private-network-access-preflight/\r\n\r\nThe solution stated in the above link is to either,\r\n1. Disable Private Network Access checks in Chrome (which works)\r\n2. Set response header &quot;Access-Control-Allow-Private-Network: true&quot;  (doesnt work)\r\n\r\nThere is no Spring CORS support for the header &quot;Access-Control-Allow-Private-Network&quot; yet. So I have tried various ways to create a filter in my Spring Boot application, but to no avail. The filter never gets invoked and I encounter the CORS issue. \r\n\r\nPlease point me in the right direction to fix this issue.\r\n\r\nThis is my filter class\r\n```\r\n@Component\r\n@Order(Ordered.HIGHEST_PRECEDENCE)\r\npublic class MyFilter implements Filter {\r\n\r\n    @Override\r\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException {\r\n        log.info(&quot;MyFilter invoked............&quot;);\r\n        final HttpServletResponse response = (HttpServletResponse) servletResponse;\r\n        response.setHeader(&quot;Access-Control-Allow-Private-Network&quot;, &quot;true&quot;);\r\n        filterChain.doFilter(servletRequest, servletResponse);\r\n    }\r\n}\r\n```\r\n\r\nThis is my config class\r\n```\r\n@Configuration\r\npublic class MyConfig {\r\n\r\n    @Bean\r\n    public WebMvcConfigurer corsMappingConfigurer() {\r\n        return new WebMvcConfigurer() {\r\n            @Override\r\n            public void addCorsMappings(CorsRegistry registry) {\r\n                registry.addMapping(&quot;/**&quot;);\r\n            }\r\n        };\r\n    }\r\n```\r\n","title":"Spring CORS Filter for Access-Control-Allow-Private-Network not working","body":"<p>I have a webapp hosted on a public URL, trying to call a local webservice API (running on localhost)\nI am using Chrome to access the public website, this creates a CORS issue as described here</p>\n<p><a href=\"https://developer.chrome.com/blog/private-network-access-preflight/\" rel=\"nofollow noreferrer\">https://developer.chrome.com/blog/private-network-access-preflight/</a></p>\n<p>The solution stated in the above link is to either,</p>\n<ol>\n<li>Disable Private Network Access checks in Chrome (which works)</li>\n<li>Set response header &quot;Access-Control-Allow-Private-Network: true&quot;  (doesnt work)</li>\n</ol>\n<p>There is no Spring CORS support for the header &quot;Access-Control-Allow-Private-Network&quot; yet. So I have tried various ways to create a filter in my Spring Boot application, but to no avail. The filter never gets invoked and I encounter the CORS issue.</p>\n<p>Please point me in the right direction to fix this issue.</p>\n<p>This is my filter class</p>\n<pre><code>@Component\n@Order(Ordered.HIGHEST_PRECEDENCE)\npublic class MyFilter implements Filter {\n\n    @Override\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException {\n        log.info(&quot;MyFilter invoked............&quot;);\n        final HttpServletResponse response = (HttpServletResponse) servletResponse;\n        response.setHeader(&quot;Access-Control-Allow-Private-Network&quot;, &quot;true&quot;);\n        filterChain.doFilter(servletRequest, servletResponse);\n    }\n}\n</code></pre>\n<p>This is my config class</p>\n<pre><code>@Configuration\npublic class MyConfig {\n\n    @Bean\n    public WebMvcConfigurer corsMappingConfigurer() {\n        return new WebMvcConfigurer() {\n            @Override\n            public void addCorsMappings(CorsRegistry registry) {\n                registry.addMapping(&quot;/**&quot;);\n            }\n        };\n    }\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":3,"creation_date":1683507159,"post_id":76196882,"comment_id":134372827,"body_markdown":"In both snippets, please stop ignoring possible errors and implement `onCancelled`. At its minimum that should be `public void onCancelled(@NonNull DatabaseError databaseError) { throw databaseError.toException(); }`.","body":"In both snippets, please stop ignoring possible errors and implement <code>onCancelled</code>. At its minimum that should be <code>public void onCancelled(@NonNull DatabaseError databaseError) { throw databaseError.toException(); }</code>."},{"owner":{"account_id":10992239,"reputation":472,"user_id":8075762,"display_name":"Amanpreet Kaur"},"score":0,"creation_date":1683522151,"post_id":76196882,"comment_id":134373914,"body_markdown":"Firstly, if you converting snapshot to values, better to use models to map data.\nIf your data is not showing check your database and whether it has current user node in the Businesses. Then try printing the snapshot value in onDataChange","body":"Firstly, if you converting snapshot to values, better to use models to map data. If your data is not showing check your database and whether it has current user node in the Businesses. Then try printing the snapshot value in onDataChange"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1683526970,"post_id":76196882,"comment_id":134374530,"body_markdown":"Please edit your question and add the information Frank asked for, and please also respond using @.","body":"Please edit your question and add the information Frank asked for, and please also respond using @."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1683526993,"post_id":76196882,"comment_id":134374534,"body_markdown":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu () in","body":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu () in"},{"owner":{"account_id":26780454,"reputation":11,"user_id":20375371,"display_name":"ShaunSingh1410"},"score":0,"creation_date":1683589275,"post_id":76196882,"comment_id":134386842,"body_markdown":"@FrankvanPuffelen I have added the Exception(), still not working out.","body":"@FrankvanPuffelen I have added the Exception(), still not working out."},{"owner":{"account_id":26780454,"reputation":11,"user_id":20375371,"display_name":"ShaunSingh1410"},"score":0,"creation_date":1683589337,"post_id":76196882,"comment_id":134386853,"body_markdown":"@AmanpreetKaur I am a beginner :-), can you please elaborate on how to use models to map data","body":"@AmanpreetKaur I am a beginner :-), can you please elaborate on how to use models to map data"},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1683595131,"post_id":76196882,"comment_id":134387363,"body_markdown":"@ShaunSingh1410 Please edit your question (there&#39;s a link right under it) to show the updated code. That also gives you a chance to add the information from the database itself Alex asked for. You can get this by clicking the &quot;Export JSON&quot; link in the overflow menu () on your [Firebase Database console](https://console.firebase.google.com/project/_/database/data).","body":"@ShaunSingh1410 Please edit your question (there&#39;s a link right under it) to show the updated code. That also gives you a chance to add the information from the database itself Alex asked for. You can get this by clicking the &quot;Export JSON&quot; link in the overflow menu () on your <a href=\"https://console.firebase.google.com/project/_/database/data\" rel=\"nofollow noreferrer\">Firebase Database console</a>."},{"owner":{"account_id":26780454,"reputation":11,"user_id":20375371,"display_name":"ShaunSingh1410"},"score":0,"creation_date":1683597294,"post_id":76196882,"comment_id":134387583,"body_markdown":"@AlexMamo how do I add the JSON file for you to see ?","body":"@AlexMamo how do I add the JSON file for you to see ?"},{"owner":{"account_id":26780454,"reputation":11,"user_id":20375371,"display_name":"ShaunSingh1410"},"score":0,"creation_date":1683597464,"post_id":76196882,"comment_id":134387599,"body_markdown":"@FrankvanPuffelen does it mean according to my code that snapshot does not exist for the values that I am trying to get ?","body":"@FrankvanPuffelen does it mean according to my code that snapshot does not exist for the values that I am trying to get ?"},{"owner":{"account_id":10992239,"reputation":472,"user_id":8075762,"display_name":"Amanpreet Kaur"},"score":0,"creation_date":1683604113,"post_id":76196882,"comment_id":134388124,"body_markdown":"@ShaunSingh1410 You can follow my repository on github to get the idea clearly https://github.com/kauramanp/FirebaseRealtimeDbWithRecyclerView/tree/main","body":"@ShaunSingh1410 You can follow my repository on github to get the idea clearly <a href=\"https://github.com/kauramanp/FirebaseRealtimeDbWithRecyclerView/tree/main\" rel=\"nofollow noreferrer\">github.com/kauramanp/FirebaseRealtimeDbWithRecyclerView/tree&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1683605930,"post_id":76196882,"comment_id":134388272,"body_markdown":"Did Frank&#39;s answer solve your problem?","body":"Did Frank&#39;s answer solve your problem?"}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683603294,"creation_date":1683603294,"answer_id":76205690,"question_id":76196882,"body_markdown":"If your `firebaseUser.getUid()` returns `NN3ikr...`, then your `onDataChange` should already be called with the correct snapshot according to your screenshot.\r\n\r\nYou can get the values of the individual properties with:\r\n\r\n```\r\nreference.child(&quot;Businesses&quot;).child(firebaseUser.getUid()).addValueEventListener(new ValueEventListener() {\r\n  @Override\r\n  public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n    if (snapshot.exists()) {\r\n        String businessAbout = snapshot.child(&quot;businessAbout&quot;).getValue(String.class);\r\n        String businessAddress = snapshot.child(&quot;businessAddress&quot;).getValue(String.class);\r\n        String businessContactPerson = snapshot.child(&quot;businessContactPerspon&quot;).getValue(String.class);\r\n        ...\r\n    }\r\n```","title":"I cannot show my firebase database data in my edit text view","body":"<p>If your <code>firebaseUser.getUid()</code> returns <code>NN3ikr...</code>, then your <code>onDataChange</code> should already be called with the correct snapshot according to your screenshot.</p>\n<p>You can get the values of the individual properties with:</p>\n<pre><code>reference.child(&quot;Businesses&quot;).child(firebaseUser.getUid()).addValueEventListener(new ValueEventListener() {\n  @Override\n  public void onDataChange(@NonNull DataSnapshot snapshot) {\n    if (snapshot.exists()) {\n        String businessAbout = snapshot.child(&quot;businessAbout&quot;).getValue(String.class);\n        String businessAddress = snapshot.child(&quot;businessAddress&quot;).getValue(String.class);\n        String businessContactPerson = snapshot.child(&quot;businessContactPerspon&quot;).getValue(String.class);\n        ...\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26780454,"reputation":11,"user_id":20375371,"display_name":"ShaunSingh1410"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683681503,"creation_date":1683681503,"answer_id":76214317,"question_id":76196882,"body_markdown":"I am not sure if this was the right way to solve my problem, but it worked :\r\nMy database structure was Businesses -&gt; userID -&gt; businessName -&gt; businessAbout.\r\nI changed it so all the children will fall under just userID, that included businessName. \r\n\r\nThank you guys :)","title":"I cannot show my firebase database data in my edit text view","body":"<p>I am not sure if this was the right way to solve my problem, but it worked :\nMy database structure was Businesses -&gt; userID -&gt; businessName -&gt; businessAbout.\nI changed it so all the children will fall under just userID, that included businessName.</p>\n<p>Thank you guys :)</p>\n"}],"owner":{"account_id":26780454,"reputation":11,"user_id":20375371,"display_name":"ShaunSingh1410"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1683681503,"creation_date":1683506964,"question_id":76196882,"body_markdown":"I have tried using the following if statement, but the only values that it returns are the URL for my image link:\r\n\r\n![my database][1]\r\n\r\n    reference.child(&quot;Businesses&quot;).child(firebaseUser.getUid()).addValueEventListener(new ValueEventListener() {\r\n\r\n      @Override\r\n      public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n\r\n        if (snapshot.exists())\r\n        {\r\n            String businessName = snapshot.getValue().toString();\r\n            editTextBusinessName.setText(businessName);\r\n\r\n            String businessAbout = snapshot.getValue().toString();\r\n            editTextAbout.setText(businessAbout);\r\n\r\n            String businessAddress = snapshot.getValue().toString();\r\n            editTextAddress.setText(businessAddress);\r\n\r\n            String businessContactPerson = snapshot.getValue().toString();\r\n            editTextContactPerson.setText(businessContactPerson);\r\n\r\n            String businessContactNumber = snapshot.getValue().toString();\r\n            editTextContactNumber.setText(businessContactNumber);\r\n        }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Hw45c.png","title":"I cannot show my firebase database data in my edit text view","body":"<p>I have tried using the following if statement, but the only values that it returns are the URL for my image link:</p>\n<p><img src=\"https://i.stack.imgur.com/Hw45c.png\" alt=\"my database\" /></p>\n<pre><code>reference.child(&quot;Businesses&quot;).child(firebaseUser.getUid()).addValueEventListener(new ValueEventListener() {\n\n  @Override\n  public void onDataChange(@NonNull DataSnapshot snapshot) {\n\n    if (snapshot.exists())\n    {\n        String businessName = snapshot.getValue().toString();\n        editTextBusinessName.setText(businessName);\n\n        String businessAbout = snapshot.getValue().toString();\n        editTextAbout.setText(businessAbout);\n\n        String businessAddress = snapshot.getValue().toString();\n        editTextAddress.setText(businessAddress);\n\n        String businessContactPerson = snapshot.getValue().toString();\n        editTextContactPerson.setText(businessContactPerson);\n\n        String businessContactNumber = snapshot.getValue().toString();\n        editTextContactNumber.setText(businessContactNumber);\n    }\n</code></pre>\n"},{"tags":["java","binding","guice"],"owner":{"account_id":305557,"reputation":13620,"user_id":615780,"accept_rate":92,"display_name":"codereviewanskquestions"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683680243,"creation_date":1683680243,"question_id":76214251,"body_markdown":"I am trying to provide a dummy client/config based on some conditions and I can think of  implementing as shown below. I added &#39;if&#39; statement in the provider to provide a different implementation of `FooClient` and `FooConfig`. `DummyFooClient` and `DummyFooConfig` both implement the same interface.\r\nI wasn&#39;t sure if adding the conditional logic in the provider logic is a good design pattern. If it&#39;s not, could you suggest a better approach? \r\n\r\n\r\n    class FooClientModule {\r\n    \r\n        @Provides\r\n        @Named(&quot;fooClient&quot;)\r\n        @Singleton\r\n        public FooClient provideFooClient(@Named(&quot;fooConfig&quot;) final Config config) {\r\n            String var = config.getVar();\r\n            if (var == &quot;test&quot;) {\r\n                return new DummyFooClient();\r\n            }\r\n            return new FooClient(config)\r\n        }\r\n        \r\n        @Provides\r\n        @Named(&quot;fooGateway&quot;)\r\n        @Singleton\r\n        public FooGateway provideFooGateway(@Named(&quot;fooClient&quot;) final FooClient fooClient) {\r\n            return new FooGateway(mvpAtatClient);\r\n        }\r\n    }\r\n\r\n    class FooConfigModule {\r\n        @Provides\r\n        @Named(&quot;fooConfig&quot;)\r\n        @Singleton\r\n        public FooConfig provideFooConfig() {\r\n            if (configNotRequired) {\r\n                return new DummyFooConfig();\r\n            }\r\n            return new FooConfig()\r\n        }\r\n\r\n    }\r\n\r\n","title":"Guice named binding to selectively provide an instance","body":"<p>I am trying to provide a dummy client/config based on some conditions and I can think of  implementing as shown below. I added 'if' statement in the provider to provide a different implementation of <code>FooClient</code> and <code>FooConfig</code>. <code>DummyFooClient</code> and <code>DummyFooConfig</code> both implement the same interface.\nI wasn't sure if adding the conditional logic in the provider logic is a good design pattern. If it's not, could you suggest a better approach?</p>\n<pre><code>class FooClientModule {\n\n    @Provides\n    @Named(&quot;fooClient&quot;)\n    @Singleton\n    public FooClient provideFooClient(@Named(&quot;fooConfig&quot;) final Config config) {\n        String var = config.getVar();\n        if (var == &quot;test&quot;) {\n            return new DummyFooClient();\n        }\n        return new FooClient(config)\n    }\n    \n    @Provides\n    @Named(&quot;fooGateway&quot;)\n    @Singleton\n    public FooGateway provideFooGateway(@Named(&quot;fooClient&quot;) final FooClient fooClient) {\n        return new FooGateway(mvpAtatClient);\n    }\n}\n\nclass FooConfigModule {\n    @Provides\n    @Named(&quot;fooConfig&quot;)\n    @Singleton\n    public FooConfig provideFooConfig() {\n        if (configNotRequired) {\n            return new DummyFooConfig();\n        }\n        return new FooConfig()\n    }\n\n}\n</code></pre>\n"},{"tags":["java","groovy","metaprogramming"],"comments":[{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":0,"creation_date":1683428751,"post_id":76175027,"comment_id":134364563,"body_markdown":"The heavy part here is parsing. Consider to cache parsed script. Bind&amp;run should be quite fast.","body":"The heavy part here is parsing. Consider to cache parsed script. Bind&amp;run should be quite fast."},{"owner":{"account_id":313594,"reputation":2936,"user_id":628318,"display_name":"drekbour"},"score":0,"creation_date":1683576705,"post_id":76175027,"comment_id":134385155,"body_markdown":"Code is MRE only. Parsed expressions are cached in a `ThreadLocal&lt;Map&lt;String, Expression&gt;&gt;` and the 10x performance comment was observed for bind+run of pre-parsed basic expressions (e.g. `$ROOT$.name.toLowercase()` vs `$ROOT$.with { name.toLowercase()}`)","body":"Code is MRE only. Parsed expressions are cached in a <code>ThreadLocal&lt;Map&lt;String, Expression&gt;&gt;</code> and the 10x performance comment was observed for bind+run of pre-parsed basic expressions (e.g. <code>$ROOT$.name.toLowercase()</code> vs <code>$ROOT$.with { name.toLowercase()}</code>)"}],"answers":[{"comments":[{"owner":{"account_id":313594,"reputation":2936,"user_id":628318,"display_name":"drekbour"},"score":0,"creation_date":1683719357,"post_id":76214245,"comment_id":134409032,"body_markdown":"Nice. Will be a few days before I can give this a try but it looks appropriate","body":"Nice. Will be a few days before I can give this a try but it looks appropriate"},{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":0,"creation_date":1683729963,"post_id":76214245,"comment_id":134411973,"body_markdown":"it is still slower then `$ROOT$.empty == true`, but faster then `with closure` approach...","body":"it is still slower then <code>$ROOT$.empty == true</code>, but faster then <code>with closure</code> approach..."}],"tags":[],"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683680179,"creation_date":1683680179,"answer_id":76214245,"question_id":76175027,"body_markdown":"\r\nYou can use DelegatingScript as base class for GroovyShell parser.\r\n\r\nAll expression evaluations will be redirected to `delegate` object.\r\n\r\nhttps://docs.groovy-lang.org/latest/html/api/groovy/util/DelegatingScript.html\r\n\r\nI did code in groovy, but it is very close to java.\r\n\r\n```lang-js\r\n@groovy.transform.CompileStatic\r\ndef test2(Class&lt;DelegatingScript&gt; c){\r\n    println(&quot;start $c&quot;)\r\n    def t = System.currentTimeMillis()\r\n    for(int i=0; i&lt;2000000; i++){\r\n        DelegatingScript e = c.newInstance()\r\n        e.setDelegate(Collections.emptyList())\r\n        e.run()\r\n    }\r\n    println(&quot;  end $c ${(System.currentTimeMillis()-t)/1000} sec&quot;)\r\n}\r\n\r\ndef snippet = &#39;empty == true&#39;\r\ndef cc = new org.codehaus.groovy.control.CompilerConfiguration();\r\ncc.setScriptBaseClass(groovy.util.DelegatingScript.class.getName());\r\nGroovyShell gs2 = new GroovyShell(this.getClass().getClassLoader(), cc);\r\nClass&lt;DelegatingScript&gt; dc = ((DelegatingScript)gs2.parse(snippet)).getClass()\r\n\r\ntest2(dc) //==&gt; 0.68 sec\r\n```","title":"GroovyShell binding with implicit root object","body":"<p>You can use DelegatingScript as base class for GroovyShell parser.</p>\n<p>All expression evaluations will be redirected to <code>delegate</code> object.</p>\n<p><a href=\"https://docs.groovy-lang.org/latest/html/api/groovy/util/DelegatingScript.html\" rel=\"nofollow noreferrer\">https://docs.groovy-lang.org/latest/html/api/groovy/util/DelegatingScript.html</a></p>\n<p>I did code in groovy, but it is very close to java.</p>\n<pre class=\"lang-js prettyprint-override\"><code>@groovy.transform.CompileStatic\ndef test2(Class&lt;DelegatingScript&gt; c){\n    println(&quot;start $c&quot;)\n    def t = System.currentTimeMillis()\n    for(int i=0; i&lt;2000000; i++){\n        DelegatingScript e = c.newInstance()\n        e.setDelegate(Collections.emptyList())\n        e.run()\n    }\n    println(&quot;  end $c ${(System.currentTimeMillis()-t)/1000} sec&quot;)\n}\n\ndef snippet = 'empty == true'\ndef cc = new org.codehaus.groovy.control.CompilerConfiguration();\ncc.setScriptBaseClass(groovy.util.DelegatingScript.class.getName());\nGroovyShell gs2 = new GroovyShell(this.getClass().getClassLoader(), cc);\nClass&lt;DelegatingScript&gt; dc = ((DelegatingScript)gs2.parse(snippet)).getClass()\n\ntest2(dc) //==&gt; 0.68 sec\n</code></pre>\n"}],"owner":{"account_id":313594,"reputation":2936,"user_id":628318,"display_name":"drekbour"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683680179,"creation_date":1683215218,"question_id":76175027,"body_markdown":"The following summarises an attempt to run a snippet of Groovy from a Java application. Snippet `$ROOT$.empty` binds happily to `Collection.isEmpty()` of the bound variable.\r\n\r\n```java\r\nString snippet = &quot;$ROOT$.empty == true&quot;;\r\nExpression e = new GroovyShell().parse(snippet, new Binding());\r\ne.getBinding().setVariable(&quot;$ROOT$&quot;, Collections.emptyList());\r\ne.run();\r\n```\r\n\r\nThe following allows the concise syntax I want by wrapping the snippet as `$ROOT$.with{snippet}`. It means such snippets can be expressed quite neatly against their (known) contextual root object. It is 10x slower during execution though (measured with JMH)\r\n\r\n```java\r\nString snippet = &quot;empty == true&quot;; // &lt;&lt; this is much nicer to see\r\nExpression e = new GroovyShell().parse(&quot;$ROOT$.with{&quot; + snippet + &quot;}&quot;, new Binding());\r\ne.getBinding().setVariable(&quot;$ROOT$&quot;, Collections.emptyList());\r\ne.run();\r\n```\r\n\r\nIs there a (metaprogramming?) way to achieve the same syntax but performant (especially given we know the type of `$ROOT$` when parsing!)\r\n","title":"GroovyShell binding with implicit root object","body":"<p>The following summarises an attempt to run a snippet of Groovy from a Java application. Snippet <code>$ROOT$.empty</code> binds happily to <code>Collection.isEmpty()</code> of the bound variable.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String snippet = &quot;$ROOT$.empty == true&quot;;\nExpression e = new GroovyShell().parse(snippet, new Binding());\ne.getBinding().setVariable(&quot;$ROOT$&quot;, Collections.emptyList());\ne.run();\n</code></pre>\n<p>The following allows the concise syntax I want by wrapping the snippet as <code>$ROOT$.with{snippet}</code>. It means such snippets can be expressed quite neatly against their (known) contextual root object. It is 10x slower during execution though (measured with JMH)</p>\n<pre class=\"lang-java prettyprint-override\"><code>String snippet = &quot;empty == true&quot;; // &lt;&lt; this is much nicer to see\nExpression e = new GroovyShell().parse(&quot;$ROOT$.with{&quot; + snippet + &quot;}&quot;, new Binding());\ne.getBinding().setVariable(&quot;$ROOT$&quot;, Collections.emptyList());\ne.run();\n</code></pre>\n<p>Is there a (metaprogramming?) way to achieve the same syntax but performant (especially given we know the type of <code>$ROOT$</code> when parsing!)</p>\n"},{"tags":["java","functional-programming","java-stream"],"answers":[{"comments":[{"owner":{"account_id":28562843,"reputation":1,"user_id":21866129,"display_name":"Mystertea"},"score":0,"creation_date":1683678504,"post_id":76214108,"comment_id":134402601,"body_markdown":"This worked, combined with importing the java.util.Arrays namespace/ package","body":"This worked, combined with importing the java.util.Arrays namespace/ package"},{"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"score":1,"creation_date":1683679121,"post_id":76214108,"comment_id":134402646,"body_markdown":"If you are ultimately after the average then collecting with `Collectors.averagingInt` is a more direct approach","body":"If you are ultimately after the average then collecting with <code>Collectors.averagingInt</code> is a more direct approach"},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":2,"creation_date":1683679228,"post_id":76214108,"comment_id":134402654,"body_markdown":"@sprinter Indeed, I&#39;ve updated to show the use of `IntStream#average` and `Collectors.averagingInt`.","body":"@sprinter Indeed, I&#39;ve updated to show the use of <code>IntStream#average</code> and <code>Collectors.averagingInt</code>."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1683704399,"post_id":76214108,"comment_id":134405588,"body_markdown":"There is no need to multiply with `1d` to convert an `int` to `double`. You could use a type cast, but its even simpler to declare `double sum = ` in the first place.","body":"There is no need to multiply with <code>1d</code> to convert an <code>int</code> to <code>double</code>. You could use a type cast, but its even simpler to declare <code>double sum = </code> in the first place."}],"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683679210,"creation_date":1683677463,"answer_id":76214108,"question_id":76214082,"body_markdown":"There is no `.stream()` method on arrays. \r\n\r\nYou can do the following instead:\r\n1. Use `Arrays.stream` to get a stream of `String`s from `args`.\r\n2. Use `mapToInt` with `Integer.parseInt` to get an `IntStream`.\r\n3. Directly call the `sum` method (which exists on `IntStream`) to get the total.\r\n\r\n```java\r\nint sum = Arrays.stream(args).mapToInt(Integer::parseInt).sum();\r\ndouble average = 1d * sum / args.length;\r\n// Multiplying by the double value 1 is necessary to prevent integer division\r\n```\r\n\r\nThe average can also be obtained directly through [`IntStream#average`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#average--).\r\n\r\n```java\r\ndouble average = Arrays.stream(args).mapToInt(Integer::parseInt).average().orElseThrow();\r\n```\r\n\r\nOr `Collectors.averagingInt`:\r\n\r\n```java\r\ndouble average = Arrays.stream(args).collect(Collectors.averagingInt(Integer::parseInt));\r\n```","title":"Can&#39;t get reducer stream to work in Java. What&#39;s wrong with my code?","body":"<p>There is no <code>.stream()</code> method on arrays.</p>\n<p>You can do the following instead:</p>\n<ol>\n<li>Use <code>Arrays.stream</code> to get a stream of <code>String</code>s from <code>args</code>.</li>\n<li>Use <code>mapToInt</code> with <code>Integer.parseInt</code> to get an <code>IntStream</code>.</li>\n<li>Directly call the <code>sum</code> method (which exists on <code>IntStream</code>) to get the total.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>int sum = Arrays.stream(args).mapToInt(Integer::parseInt).sum();\ndouble average = 1d * sum / args.length;\n// Multiplying by the double value 1 is necessary to prevent integer division\n</code></pre>\n<p>The average can also be obtained directly through <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#average--\" rel=\"nofollow noreferrer\"><code>IntStream#average</code></a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>double average = Arrays.stream(args).mapToInt(Integer::parseInt).average().orElseThrow();\n</code></pre>\n<p>Or <code>Collectors.averagingInt</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>double average = Arrays.stream(args).collect(Collectors.averagingInt(Integer::parseInt));\n</code></pre>\n"}],"owner":{"account_id":28562843,"reputation":1,"user_id":21866129,"display_name":"Mystertea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683679210,"creation_date":1683677001,"question_id":76214082,"body_markdown":"I want to use a reducer to sum up all the inputs from &#39;args&#39;, then divide by the args length to get the result I&#39;m looking for (just a simple function to learn java). \r\n\r\nI&#39;m following (as far as I can tell) the instructions from every tutorial I can find on getting the stream library to work, but still no luck. TY for any help in advanced.\r\n\r\n\r\n```\r\npublic class AverageNumbers { \r\n   public static void main(String[] args) { \r\n     int x = Integer.parseInt(args[0]); \r\n     int y = Integer.parseInt(args[1]); \r\n     int z = Integer.parseInt(args[2]); \r\n\r\n     int sum = args.stream().reduce(0, (acc, cur) -&gt; Integer.parseInt(acc) + Integer.parseInt(cur), Integer::sum); \r\n  \r\n     // int math = sum / args.length; \r\n\r\n     System.out.println(sum); \r\n   } \r\n} \r\n```\r\n\r\n\r\nI&#39;ve tried:\r\n1. Importing the java.utils.stream function\r\n2. rewriting the stream as Stream.of(args)\r\n3. rewriting the stream to return a string to reduce potential complexity of type casting\r\n","title":"Can&#39;t get reducer stream to work in Java. What&#39;s wrong with my code?","body":"<p>I want to use a reducer to sum up all the inputs from 'args', then divide by the args length to get the result I'm looking for (just a simple function to learn java).</p>\n<p>I'm following (as far as I can tell) the instructions from every tutorial I can find on getting the stream library to work, but still no luck. TY for any help in advanced.</p>\n<pre><code>public class AverageNumbers { \n   public static void main(String[] args) { \n     int x = Integer.parseInt(args[0]); \n     int y = Integer.parseInt(args[1]); \n     int z = Integer.parseInt(args[2]); \n\n     int sum = args.stream().reduce(0, (acc, cur) -&gt; Integer.parseInt(acc) + Integer.parseInt(cur), Integer::sum); \n  \n     // int math = sum / args.length; \n\n     System.out.println(sum); \n   } \n} \n</code></pre>\n<p>I've tried:</p>\n<ol>\n<li>Importing the java.utils.stream function</li>\n<li>rewriting the stream as Stream.of(args)</li>\n<li>rewriting the stream to return a string to reduce potential complexity of type casting</li>\n</ol>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9779,"page":446,"page_size":100}
