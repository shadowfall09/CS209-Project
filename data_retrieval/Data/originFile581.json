{"items":[{"tags":["java","spring-boot","spring-batch"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1678693552,"post_id":75719138,"comment_id":133575978,"body_markdown":"what is &#39;conf&#39; ,","body":"what is &#39;conf&#39; ,"},{"owner":{"account_id":7894840,"reputation":479,"user_id":5963886,"accept_rate":0,"display_name":"chiefpika"},"score":0,"creation_date":1678693699,"post_id":75719138,"comment_id":133576011,"body_markdown":"@Stultuske just to get a variable from the .properties file. I&#39;ll delete that part..","body":"@Stultuske just to get a variable from the .properties file. I&#39;ll delete that part.."}],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678697666,"creation_date":1678697666,"answer_id":75719698,"question_id":75719138,"body_markdown":"To enable auto-wiring in the class `Step2Reader` please add the `@Component` annotation to it. The same way you did it already in `Step1Writer`.","title":"Pass variable between steps in Spring Batch using @Configuration class","body":"<p>To enable auto-wiring in the class <code>Step2Reader</code> please add the <code>@Component</code> annotation to it. The same way you did it already in <code>Step1Writer</code>.</p>\n"}],"owner":{"account_id":7894840,"reputation":479,"user_id":5963886,"accept_rate":0,"display_name":"chiefpika"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678697666,"creation_date":1678693423,"question_id":75719138,"body_markdown":"I&#39;m trying to pass a file path string between 2 steps and here&#39;s my attempt.\r\n\r\n      @Bean\r\n      public Step step1() {\r\n        return stepBuilderFactory.get(&quot;step1&quot;)\r\n                .&lt;History, History&gt;chunk(1000)\r\n                .reader(step1Reader)\r\n                .writer(step1Writer)\r\n                .listener(new LoggingStepExecutionListener())\r\n                .build();\r\n      }\r\n    \r\n      @Bean\r\n      public Step step2() {\r\n        return stepBuilderFactory.get(&quot;step2&quot;)\r\n                .&lt;History, ItemRequestModel&gt;chunk(1)\r\n                .reader(new step2Reader&lt;&gt;())\r\n                .processor(step2Processor)\r\n                .writer(step2Writer)\r\n                .listener(new LoggingStepExecutionListener())\r\n                .build();\r\n      }\r\n\r\nHere&#39;s the config class\r\n\r\n    @Configuration\r\n    @Component\r\n    public class HistConfig {\r\n    \r\n      private String csvFilePath;\r\n    \r\n      public String getCsvFilePath() {\r\n        return csvFilePath;\r\n      }\r\n    \r\n      public void setCsvFilePath(String csvFilePath) {\r\n        this.csvFilePath = csvFilePath;\r\n      }\r\n    }\r\n\r\nand Step1Writer\r\n\r\n          @Slf4j\r\n          @Component\r\n          public class Step1Writer implements ItemWriter&lt;History&gt;{\r\n    \r\n          @Autowired\r\n          private HistConfig config;\r\n    \r\n          @BeforeStep\r\n          public void beforeStepForWriter(StepExecution stepExecution) throws Exception {\r\n            fileName = &quot;abcdefg&quot;;\r\n            File file = new File(fileName + EXTENTION);\r\n            writeCsvHeader();\r\n            config.setCsvFilePath(file.getAbsolutePath());\r\n          }\r\n    \r\n        }\r\n\r\nand Step2Reader\r\n\r\n    @Slf4j\r\n    public class Step2Reader&lt;T&gt; extends FlatFileItemReader&lt;T&gt; {\r\n    \r\n      @Autowired\r\n      private HistConfig config;\r\n    \r\n      @BeforeStep\r\n      public void beforeStepForReader(StepExecution stepExecution) {\r\n        DefaultLineMapper&lt;History&gt; lineMapper = new DefaultLineMapper&lt;&gt;();\r\n        DelimitedLineTokenizer lineTokenizer = new DelimitedLineTokenizer();\r\n        lineTokenizer.setNames(&quot;id&quot;, &quot;date&quot;, &quot;category&quot;);\r\n        lineTokenizer.setDelimiter(&quot;,&quot;);\r\n        lineMapper.setLineTokenizer(lineTokenizer);\r\n        lineMapper.setFieldSetMapper(new BeanWrapperFieldSetMapper&lt;History&gt;() {{\r\n          setTargetType(History.class);\r\n        }});\r\n        setLinesToSkip(1);\r\n        setLineMapper((LineMapper&lt;T&gt;) lineMapper);\r\n        setResource(new FileSystemResource(config.getCsvFilePath()));\r\n      }\r\n    }\r\n\r\nsomehow the NullPointerException occurs in Step2Reader&#39;s \r\n\r\n    setResource(new FileSystemResource(config.getCsvFilePath()));\r\n\r\nI&#39;ve been working on this for hours but things are not working.\r\nAre there any ways I can pass the csvFilePath between steps by only modifying the code but not changing the approach? \r\n\r\nI only posted the related code and modified the code to hide some confidential information, apologize in advance if anything looks weird. \r\n","title":"Pass variable between steps in Spring Batch using @Configuration class","body":"<p>I'm trying to pass a file path string between 2 steps and here's my attempt.</p>\n<pre><code>  @Bean\n  public Step step1() {\n    return stepBuilderFactory.get(&quot;step1&quot;)\n            .&lt;History, History&gt;chunk(1000)\n            .reader(step1Reader)\n            .writer(step1Writer)\n            .listener(new LoggingStepExecutionListener())\n            .build();\n  }\n\n  @Bean\n  public Step step2() {\n    return stepBuilderFactory.get(&quot;step2&quot;)\n            .&lt;History, ItemRequestModel&gt;chunk(1)\n            .reader(new step2Reader&lt;&gt;())\n            .processor(step2Processor)\n            .writer(step2Writer)\n            .listener(new LoggingStepExecutionListener())\n            .build();\n  }\n</code></pre>\n<p>Here's the config class</p>\n<pre><code>@Configuration\n@Component\npublic class HistConfig {\n\n  private String csvFilePath;\n\n  public String getCsvFilePath() {\n    return csvFilePath;\n  }\n\n  public void setCsvFilePath(String csvFilePath) {\n    this.csvFilePath = csvFilePath;\n  }\n}\n</code></pre>\n<p>and Step1Writer</p>\n<pre><code>      @Slf4j\n      @Component\n      public class Step1Writer implements ItemWriter&lt;History&gt;{\n\n      @Autowired\n      private HistConfig config;\n\n      @BeforeStep\n      public void beforeStepForWriter(StepExecution stepExecution) throws Exception {\n        fileName = &quot;abcdefg&quot;;\n        File file = new File(fileName + EXTENTION);\n        writeCsvHeader();\n        config.setCsvFilePath(file.getAbsolutePath());\n      }\n\n    }\n</code></pre>\n<p>and Step2Reader</p>\n<pre><code>@Slf4j\npublic class Step2Reader&lt;T&gt; extends FlatFileItemReader&lt;T&gt; {\n\n  @Autowired\n  private HistConfig config;\n\n  @BeforeStep\n  public void beforeStepForReader(StepExecution stepExecution) {\n    DefaultLineMapper&lt;History&gt; lineMapper = new DefaultLineMapper&lt;&gt;();\n    DelimitedLineTokenizer lineTokenizer = new DelimitedLineTokenizer();\n    lineTokenizer.setNames(&quot;id&quot;, &quot;date&quot;, &quot;category&quot;);\n    lineTokenizer.setDelimiter(&quot;,&quot;);\n    lineMapper.setLineTokenizer(lineTokenizer);\n    lineMapper.setFieldSetMapper(new BeanWrapperFieldSetMapper&lt;History&gt;() {{\n      setTargetType(History.class);\n    }});\n    setLinesToSkip(1);\n    setLineMapper((LineMapper&lt;T&gt;) lineMapper);\n    setResource(new FileSystemResource(config.getCsvFilePath()));\n  }\n}\n</code></pre>\n<p>somehow the NullPointerException occurs in Step2Reader's</p>\n<pre><code>setResource(new FileSystemResource(config.getCsvFilePath()));\n</code></pre>\n<p>I've been working on this for hours but things are not working.\nAre there any ways I can pass the csvFilePath between steps by only modifying the code but not changing the approach?</p>\n<p>I only posted the related code and modified the code to hide some confidential information, apologize in advance if anything looks weird.</p>\n"},{"tags":["java","spring-boot","junit","spring-test"],"answers":[{"tags":[],"owner":{"account_id":1360112,"reputation":9949,"user_id":1297641,"accept_rate":76,"display_name":"Ahmet Karakaya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678692900,"creation_date":1678692900,"answer_id":75719071,"question_id":75703456,"body_markdown":"Here is the working code I have prepared. one of the important points is setUrlEncodingEnabled() and urlEncodingEnabled().\r\nyou can check following links as well\r\n[CustomAppContext][1]\r\n[RestAssure URL Encoding][2]\r\n\r\n\r\n    import org.springframework.context.ApplicationContextInitializer;\r\n    import org.springframework.context.ConfigurableApplicationContext;\r\n    \r\n    public class CustomApplicationContextInitializer implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt;\r\n    {\r\n        @Override\r\n        public void initialize(ConfigurableApplicationContext applicationContext)\r\n        {\r\n            System.setProperty(&quot;org.apache.tomcat.util.buf.UDecoder.ALLOW_ENCODED_SLASH&quot;, &quot;true&quot;);\r\n        }\r\n    }\r\n    \r\n    \r\n    \r\n    import static io.restassured.RestAssured.given;\r\n    import static org.assertj.core.api.Assertions.assertThat;\r\n    import static org.mockito.Mockito.when;\r\n    \r\n    @ActiveProfiles(&quot;it&quot;)\r\n    @RunWith(SpringRunner.class)\r\n    @TestPropertySource(locations = &quot;classpath:application-it.properties&quot;)\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n    @ContextConfiguration(initializers = CustomApplicationContextInitializer.class)\r\n    \r\n    public class TeamControllerIT {\r\n    \r\n        @LocalServerPort\r\n        private int port;\r\n    \r\n        @Autowired\r\n        private Environment environment;\r\n    \r\n        private RequestSpecification correctCredentialsPortSpecUrlEncodedForService;\r\n    \r\n        @MockBean\r\n        private TeamService teamService;\r\n    \r\n        @Before\r\n        public void setUp() throws Exception {\r\n            JSONArray rolesArray = new JSONArray();\r\n            rolesArray.put(&quot;user&quot;);\r\n          \r\n    \r\n            String token = JWTUtil.createSelfSignedTestToken(environment.getProperty(&quot;publickey&quot;),\r\n                    environment.getProperty(&quot;privatekey&quot;), Date.valueOf(LocalDate.parse(&quot;2999-01-01&quot;)), &quot;integrationTest&quot;,\r\n                    environment.getProperty(&quot;testclient&quot;), rolesArray);\r\n    \r\n            correctCredentialsPortSpecUrlEncodedForService = new RequestSpecBuilder()\r\n                    .addHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + token)\r\n                    .setPort(port)\r\n                    .setUrlEncodingEnabled(false)\r\n                    .build();\r\n        }\r\n    \r\n    \r\n        @Test\r\n        public void shouldGetUsersInTeam() throws UnsupportedEncodingException {\r\n    \r\n            String teamID = &quot;slash/slash&quot;;\r\n    \r\n            when(teamService.getTeamUsers(teamID)).thenReturn(List.of(\r\n                    User.builder().userId(&quot;user1&quot;).firstName(&quot;user&quot;).lastName(&quot;1&quot;).email(&quot;user1@test.com&quot;).build(),\r\n                    User.builder().userId(&quot;user2&quot;).firstName(&quot;user&quot;).lastName(&quot;2&quot;).email(&quot;user2@test.com&quot;).build()\r\n            ));\r\n    \r\n    \r\n            List&lt;KeycloakUserDTO&gt; list2 =\r\n                    given()\r\n                            .spec(correctCredentialsPortSpecUrlEncodedForService)\r\n                            .log().ifValidationFails()\r\n                            .contentType(&quot;application/json&quot;)\r\n                            .urlEncodingEnabled(false)\r\n                            .pathParam(&quot;teamIDEncoded&quot;, urlEncodeString(teamID))\r\n                            .when()\r\n                            .get(&quot;/userservice/teams/{teamIDEncoded}/users&quot;)\r\n                            .then()\r\n                            .log().ifValidationFails()\r\n                            .statusCode(200)\r\n                            .and().extract().jsonPath().getList(&quot;&quot;, KeycloakUserDTO.class);\r\n    \r\n            assertThat(list2.size()==2);\r\n        }\r\n    \r\n        private static String urlEncodeString(String value) throws UnsupportedEncodingException {\r\n            return URLEncoder.encode(value, StandardCharsets.UTF_8.name());\r\n        }\r\n    \r\n        private String activeProfile() {\r\n            return environment.getActiveProfiles()[0];\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/73947706/defining-tomcat-property-in-a-test-running-with-springboottest/73948510#comment133560527_73948510\r\n  [2]: https://stackoverflow.com/questions/55019246/restassured-disable-url-encoding-not-working-correctly","title":"JUnit Test cases over URL Encoded Methods","body":"<p>Here is the working code I have prepared. one of the important points is setUrlEncodingEnabled() and urlEncodingEnabled().\nyou can check following links as well\n<a href=\"https://stackoverflow.com/questions/73947706/defining-tomcat-property-in-a-test-running-with-springboottest/73948510#comment133560527_73948510\">CustomAppContext</a>\n<a href=\"https://stackoverflow.com/questions/55019246/restassured-disable-url-encoding-not-working-correctly\">RestAssure URL Encoding</a></p>\n<pre><code>import org.springframework.context.ApplicationContextInitializer;\nimport org.springframework.context.ConfigurableApplicationContext;\n\npublic class CustomApplicationContextInitializer implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt;\n{\n    @Override\n    public void initialize(ConfigurableApplicationContext applicationContext)\n    {\n        System.setProperty(&quot;org.apache.tomcat.util.buf.UDecoder.ALLOW_ENCODED_SLASH&quot;, &quot;true&quot;);\n    }\n}\n\n\n\nimport static io.restassured.RestAssured.given;\nimport static org.assertj.core.api.Assertions.assertThat;\nimport static org.mockito.Mockito.when;\n\n@ActiveProfiles(&quot;it&quot;)\n@RunWith(SpringRunner.class)\n@TestPropertySource(locations = &quot;classpath:application-it.properties&quot;)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@ContextConfiguration(initializers = CustomApplicationContextInitializer.class)\n\npublic class TeamControllerIT {\n\n    @LocalServerPort\n    private int port;\n\n    @Autowired\n    private Environment environment;\n\n    private RequestSpecification correctCredentialsPortSpecUrlEncodedForService;\n\n    @MockBean\n    private TeamService teamService;\n\n    @Before\n    public void setUp() throws Exception {\n        JSONArray rolesArray = new JSONArray();\n        rolesArray.put(&quot;user&quot;);\n      \n\n        String token = JWTUtil.createSelfSignedTestToken(environment.getProperty(&quot;publickey&quot;),\n                environment.getProperty(&quot;privatekey&quot;), Date.valueOf(LocalDate.parse(&quot;2999-01-01&quot;)), &quot;integrationTest&quot;,\n                environment.getProperty(&quot;testclient&quot;), rolesArray);\n\n        correctCredentialsPortSpecUrlEncodedForService = new RequestSpecBuilder()\n                .addHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + token)\n                .setPort(port)\n                .setUrlEncodingEnabled(false)\n                .build();\n    }\n\n\n    @Test\n    public void shouldGetUsersInTeam() throws UnsupportedEncodingException {\n\n        String teamID = &quot;slash/slash&quot;;\n\n        when(teamService.getTeamUsers(teamID)).thenReturn(List.of(\n                User.builder().userId(&quot;user1&quot;).firstName(&quot;user&quot;).lastName(&quot;1&quot;).email(&quot;user1@test.com&quot;).build(),\n                User.builder().userId(&quot;user2&quot;).firstName(&quot;user&quot;).lastName(&quot;2&quot;).email(&quot;user2@test.com&quot;).build()\n        ));\n\n\n        List&lt;KeycloakUserDTO&gt; list2 =\n                given()\n                        .spec(correctCredentialsPortSpecUrlEncodedForService)\n                        .log().ifValidationFails()\n                        .contentType(&quot;application/json&quot;)\n                        .urlEncodingEnabled(false)\n                        .pathParam(&quot;teamIDEncoded&quot;, urlEncodeString(teamID))\n                        .when()\n                        .get(&quot;/userservice/teams/{teamIDEncoded}/users&quot;)\n                        .then()\n                        .log().ifValidationFails()\n                        .statusCode(200)\n                        .and().extract().jsonPath().getList(&quot;&quot;, KeycloakUserDTO.class);\n\n        assertThat(list2.size()==2);\n    }\n\n    private static String urlEncodeString(String value) throws UnsupportedEncodingException {\n        return URLEncoder.encode(value, StandardCharsets.UTF_8.name());\n    }\n\n    private String activeProfile() {\n        return environment.getActiveProfiles()[0];\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1360112,"reputation":9949,"user_id":1297641,"accept_rate":76,"display_name":"Ahmet Karakaya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678697274,"creation_date":1678519889,"question_id":75703456,"body_markdown":"I did some changes to activate slash encoded URL, [for details][1] \r\nIt is working fine, I would like to activate those changes when running IT tests.  \r\nHow can I activate those changes on UserserviceApplication.\r\n\r\n\r\n    @SpringBootApplication\r\n        @EnableDiscoveryClient\r\n        @EnableCaching\r\n        public class UserserviceApplication implements WebMvcConfigurer {\r\n        \r\n        \r\n        \tpublic static void main(String[] args) {\r\n        \t\tSystem.setProperty(&quot;org.apache.tomcat.util.buf.UDecoder.ALLOW_ENCODED_SLASH&quot;, &quot;true&quot;);\r\n        \t\tSpringApplication.run(UserserviceApplication.class, args);\r\n        \t}\r\n        \r\n        \tpublic void configurePathMatch(PathMatchConfigurer configurer) {\r\n        \t\tUrlPathHelper urlPathHelper = new UrlPathHelper();\r\n        \t\turlPathHelper.setUrlDecode(false);\r\n        \t\tconfigurer.setUrlPathHelper(urlPathHelper);\r\n        \t}\r\n        \r\n        }\r\n        \r\n        \r\n        @ActiveProfiles(&quot;it&quot;)\r\n        @RunWith(SpringRunner.class)\r\n        @TestPropertySource(locations = &quot;classpath:application-it.properties&quot;)\r\n        @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n        \r\n        public class TeamControllerIT {\r\n        \r\n            @LocalServerPort private int port;\r\n        \r\n            @Autowired private Environment environment;\r\n\r\n  [1]: https://stackoverflow.com/questions/13482020/encoded-slash-2f-with-spring-requestmapping-path-param-gives-http-400\r\n\r\n","title":"JUnit Test cases over URL Encoded Methods","body":"<p>I did some changes to activate slash encoded URL, <a href=\"https://stackoverflow.com/questions/13482020/encoded-slash-2f-with-spring-requestmapping-path-param-gives-http-400\">for details</a>\nIt is working fine, I would like to activate those changes when running IT tests.<br />\nHow can I activate those changes on UserserviceApplication.</p>\n<pre><code>@SpringBootApplication\n    @EnableDiscoveryClient\n    @EnableCaching\n    public class UserserviceApplication implements WebMvcConfigurer {\n    \n    \n        public static void main(String[] args) {\n            System.setProperty(&quot;org.apache.tomcat.util.buf.UDecoder.ALLOW_ENCODED_SLASH&quot;, &quot;true&quot;);\n            SpringApplication.run(UserserviceApplication.class, args);\n        }\n    \n        public void configurePathMatch(PathMatchConfigurer configurer) {\n            UrlPathHelper urlPathHelper = new UrlPathHelper();\n            urlPathHelper.setUrlDecode(false);\n            configurer.setUrlPathHelper(urlPathHelper);\n        }\n    \n    }\n    \n    \n    @ActiveProfiles(&quot;it&quot;)\n    @RunWith(SpringRunner.class)\n    @TestPropertySource(locations = &quot;classpath:application-it.properties&quot;)\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n    \n    public class TeamControllerIT {\n    \n        @LocalServerPort private int port;\n    \n        @Autowired private Environment environment;\n</code></pre>\n"},{"tags":["java","intellij-idea","google-java-format"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1678656954,"post_id":75716447,"comment_id":133571580,"body_markdown":"I don&#39;t know if it&#39;s been fixed, but I noticed the google-java-format IntelliJ plugin broke if I used any of the new Java language features (e.g., switch expressions, records, pattern matching, etc.). It even used to break on `module-info.java` (I believe that&#39;s been fixed for a while, at least). Lately I&#39;ve been using Gradle plugins (e.g., Spotless) to auto-format code. It might be possible to use &quot;google-java-format&quot; that way, though I haven&#39;t tried it in a while as I prefer &quot;palantir-java-format&quot;.","body":"I don&#39;t know if it&#39;s been fixed, but I noticed the google-java-format IntelliJ plugin broke if I used any of the new Java language features (e.g., switch expressions, records, pattern matching, etc.). It even used to break on <code>module-info.java</code> (I believe that&#39;s been fixed for a while, at least). Lately I&#39;ve been using Gradle plugins (e.g., Spotless) to auto-format code. It might be possible to use &quot;google-java-format&quot; that way, though I haven&#39;t tried it in a while as I prefer &quot;palantir-java-format&quot;."},{"owner":{"account_id":27560193,"reputation":491,"user_id":21033369,"display_name":"LJ replica"},"score":1,"creation_date":1678681896,"post_id":75716447,"comment_id":133574392,"body_markdown":"You may report this issue to google-java-format issue tracker. Also, you could try the google-java-format CLI tool to see if it can reformat your code. If it doesn&#39;t work, it may doesn&#39;t support these new features otherwise it would be a google-java-format IntelliJ plugin issue.","body":"You may report this issue to google-java-format issue tracker. Also, you could try the google-java-format CLI tool to see if it can reformat your code. If it doesn&#39;t work, it may doesn&#39;t support these new features otherwise it would be a google-java-format IntelliJ plugin issue."}],"answers":[{"tags":[],"owner":{"account_id":1334061,"reputation":12962,"user_id":1277252,"accept_rate":89,"display_name":"Moritz Petersen"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678697226,"creation_date":1678697226,"answer_id":75719627,"question_id":75716447,"body_markdown":"It seems like I didn&#39;t copy all configs correctly; not sure what exactly was missing, but I think it was `--add-exports=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED\r\n`; probably that wasn&#39;t needed in earlier versions of the plugin?\r\n\r\n```\r\n--add-exports=jdk.compiler/com.sun.tools.javac.api=ALL-UNNAMED\r\n--add-exports=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED\r\n--add-exports=jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED\r\n--add-exports=jdk.compiler/com.sun.tools.javac.parser=ALL-UNNAMED\r\n--add-exports=jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED\r\n--add-exports=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED\r\n```","title":"google-java-format IntelliJ IDEA not formatting (Java 19)","body":"<p>It seems like I didn't copy all configs correctly; not sure what exactly was missing, but I think it was <code>--add-exports=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED </code>; probably that wasn't needed in earlier versions of the plugin?</p>\n<pre><code>--add-exports=jdk.compiler/com.sun.tools.javac.api=ALL-UNNAMED\n--add-exports=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED\n--add-exports=jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED\n--add-exports=jdk.compiler/com.sun.tools.javac.parser=ALL-UNNAMED\n--add-exports=jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED\n--add-exports=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED\n</code></pre>\n"}],"owner":{"account_id":1334061,"reputation":12962,"user_id":1277252,"accept_rate":89,"display_name":"Moritz Petersen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1329,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":75719627,"answer_count":1,"score":1,"last_activity_date":1678697226,"creation_date":1678656039,"question_id":75716447,"body_markdown":"I have OpenJDK 19 installed and use the &quot;google-java-format&quot; plugin. I have configured IntelliJ IDEA as per [instructions here](https://github.com/google/google-java-format/blob/master/README.md#intellij-jre-config). However, code formatting doesn&#39;t work.\r\n\r\nIf I uninstall the plugin, formatting works (i.e. the cmd-opt-L shortcut works). But when I enable the plugin, then the cmd-opt-L shortcut doesn&#39;t work and inserted code fragments look crap.\r\n\r\nAlso, the notifications window always reminds me to configure the IDE properly, following the instructions above. Well, I did configure the IDE accordingly. Still I see the notifications and formatting doesn&#39;t work.\r\n\r\nWhat could be wrong?","title":"google-java-format IntelliJ IDEA not formatting (Java 19)","body":"<p>I have OpenJDK 19 installed and use the &quot;google-java-format&quot; plugin. I have configured IntelliJ IDEA as per <a href=\"https://github.com/google/google-java-format/blob/master/README.md#intellij-jre-config\" rel=\"nofollow noreferrer\">instructions here</a>. However, code formatting doesn't work.</p>\n<p>If I uninstall the plugin, formatting works (i.e. the cmd-opt-L shortcut works). But when I enable the plugin, then the cmd-opt-L shortcut doesn't work and inserted code fragments look crap.</p>\n<p>Also, the notifications window always reminds me to configure the IDE properly, following the instructions above. Well, I did configure the IDE accordingly. Still I see the notifications and formatting doesn't work.</p>\n<p>What could be wrong?</p>\n"},{"tags":["java","android","android-studio","kotlin"],"comments":[{"owner":{"account_id":1735730,"reputation":1154,"user_id":1684254,"display_name":"Akin Okegbile"},"score":1,"creation_date":1592935240,"post_id":62540260,"comment_id":110601587,"body_markdown":"Can you add more info about the error log? The view it&#39;s occuring in? The action taking place?","body":"Can you add more info about the error log? The view it&#39;s occuring in? The action taking place?"},{"owner":{"account_id":18915355,"reputation":21,"user_id":13800544,"display_name":"Zhen Hong"},"score":0,"creation_date":1593108568,"post_id":62540260,"comment_id":110672251,"body_markdown":"This happens when I click on an EditText the app crashes and restarts.","body":"This happens when I click on an EditText the app crashes and restarts."}],"answers":[{"comments":[{"owner":{"account_id":14343010,"reputation":843,"user_id":10360661,"display_name":"Y.Kakdas"},"score":0,"creation_date":1617282079,"post_id":66903829,"comment_id":118264958,"body_markdown":"I think you should be more specific about what you mean with &quot;common names&quot;.","body":"I think you should be more specific about what you mean with &quot;common names&quot;."}],"tags":[],"owner":{"account_id":21124892,"reputation":1,"user_id":15530330,"display_name":"drill2010"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1617277139,"creation_date":1617277139,"answer_id":66903829,"question_id":62540260,"body_markdown":"I&#39;ve solved my problem with similar crash on click on edittext, by rename of variable named &quot;userId&quot;\r\nI&#39;m still not shure why this magic works, but try to rename such variables with common names","title":"SyncResultReceiver$TimeoutException crashing Android a lot","body":"<p>I've solved my problem with similar crash on click on edittext, by rename of variable named &quot;userId&quot;\nI'm still not shure why this magic works, but try to rename such variables with common names</p>\n"}],"owner":{"account_id":18915355,"reputation":21,"user_id":13800544,"display_name":"Zhen Hong"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1375,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1678697210,"creation_date":1592932513,"question_id":62540260,"body_markdown":"I&#39;ve disabled all autofill with View.AUTOFILL_TYPE_NONE\r\n```\r\ncom.android.internal.util.SyncResultReceiver$TimeoutException: \r\n  at com.android.internal.util.SyncResultReceiver.waitResult (SyncResultReceiver.java:60)\r\n  at com.android.internal.util.SyncResultReceiver.getIntResult (SyncResultReceiver.java:68)\r\n  at android.view.autofill.AutofillManager.ensureServiceClientAddedIfNeededLocked (AutofillManager.java:1831)\r\n  at android.view.autofill.AutofillManager.notifyViewEnteredLocked (AutofillManager.java:956)\r\n  at android.view.autofill.AutofillManager.notifyViewEntered (AutofillManager.java:940)\r\n  at android.view.autofill.AutofillManager.notifyViewEntered (AutofillManager.java:897)\r\n  at android.view.View.notifyEnterOrExitForAutoFillIfNeeded (View.java:7972)\r\n  at android.view.View.onFocusChanged (View.java:7934)\r\n  at android.widget.TextView.onFocusChanged (TextView.java:10801)\r\n  at android.view.View.handleFocusGainInternal (View.java:7597)\r\n  at android.view.View.requestFocusNoSearch (View.java:12962)\r\n  at android.view.View.requestFocus (View.java:12936)\r\n  at android.view.View.requestFocus (View.java:12903)\r\n  at android.view.View.requestFocus (View.java:12845)\r\n  at android.view.View.onTouchEvent (View.java:15336)\r\n```\r\n\r\nI am not sure what is wrong. \r\n\r\nIt only happens to Android 10 devices.\r\n\r\n\r\nThis happens when I click on an EditText the app crashes and restarts.\r\n\r\n\r\n","title":"SyncResultReceiver$TimeoutException crashing Android a lot","body":"<p>I've disabled all autofill with View.AUTOFILL_TYPE_NONE</p>\n<pre><code>com.android.internal.util.SyncResultReceiver$TimeoutException: \n  at com.android.internal.util.SyncResultReceiver.waitResult (SyncResultReceiver.java:60)\n  at com.android.internal.util.SyncResultReceiver.getIntResult (SyncResultReceiver.java:68)\n  at android.view.autofill.AutofillManager.ensureServiceClientAddedIfNeededLocked (AutofillManager.java:1831)\n  at android.view.autofill.AutofillManager.notifyViewEnteredLocked (AutofillManager.java:956)\n  at android.view.autofill.AutofillManager.notifyViewEntered (AutofillManager.java:940)\n  at android.view.autofill.AutofillManager.notifyViewEntered (AutofillManager.java:897)\n  at android.view.View.notifyEnterOrExitForAutoFillIfNeeded (View.java:7972)\n  at android.view.View.onFocusChanged (View.java:7934)\n  at android.widget.TextView.onFocusChanged (TextView.java:10801)\n  at android.view.View.handleFocusGainInternal (View.java:7597)\n  at android.view.View.requestFocusNoSearch (View.java:12962)\n  at android.view.View.requestFocus (View.java:12936)\n  at android.view.View.requestFocus (View.java:12903)\n  at android.view.View.requestFocus (View.java:12845)\n  at android.view.View.onTouchEvent (View.java:15336)\n</code></pre>\n<p>I am not sure what is wrong.</p>\n<p>It only happens to Android 10 devices.</p>\n<p>This happens when I click on an EditText the app crashes and restarts.</p>\n"},{"tags":["java","record","micronaut"],"comments":[{"owner":{"account_id":2524916,"reputation":40776,"user_id":2194470,"accept_rate":100,"display_name":"Szymon Stepniak"},"score":0,"creation_date":1679041980,"post_id":75719611,"comment_id":133653240,"body_markdown":"Do you call `validator.validate(obj)` method on that object after it is created? Validation does not happen automatically when you create a new instance of the object, you have to pass it to a specific validator that will perform validation. This blog post explains it pretty well - https://markoantic.medium.com/conditional-validation-in-java-applications-80a24f06d721","body":"Do you call <code>validator.validate(obj)</code> method on that object after it is created? Validation does not happen automatically when you create a new instance of the object, you have to pass it to a specific validator that will perform validation. This blog post explains it pretty well - <a href=\"https://markoantic.medium.com/conditional-validation-in-java-applications-80a24f06d721\" rel=\"nofollow noreferrer\">markoantic.medium.com/&hellip;</a>"},{"owner":{"account_id":1125067,"reputation":256,"user_id":1112554,"display_name":"hunsricker"},"score":0,"creation_date":1679323580,"post_id":75719611,"comment_id":133696586,"body_markdown":"No, I don&#39;t call any method. When annotating a parameter of a controller method, the validation is done without calling any validation method. I don&#39;t want the record object to be created if the component is invalid.","body":"No, I don&#39;t call any method. When annotating a parameter of a controller method, the validation is done without calling any validation method. I don&#39;t want the record object to be created if the component is invalid."},{"owner":{"account_id":2524916,"reputation":40776,"user_id":2194470,"accept_rate":100,"display_name":"Szymon Stepniak"},"score":0,"creation_date":1679382856,"post_id":75719611,"comment_id":133707158,"body_markdown":"When you annotate a controller method parameter, this is exactly what happens - the object is created and then it&#39;s passed to a validator to check if its current state matches all validation constraints. The same thing happens if you annotated e.g. a service method parameter, but again - it will create an object and then validate it before the method invocation happens. There&#39;s not such thing as validating an object&#39;s constraints on a constructor call without the presence of a validator context.","body":"When you annotate a controller method parameter, this is exactly what happens - the object is created and then it&#39;s passed to a validator to check if its current state matches all validation constraints. The same thing happens if you annotated e.g. a service method parameter, but again - it will create an object and then validate it before the method invocation happens. There&#39;s not such thing as validating an object&#39;s constraints on a constructor call without the presence of a validator context."}],"owner":{"account_id":1125067,"reputation":256,"user_id":1112554,"display_name":"hunsricker"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":446,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678697081,"creation_date":1678697081,"question_id":75719611,"body_markdown":"I try to validate the components of a record using a custom annotation so that creating a new record object fails if the value is invalid.\r\n\r\n\r\nUsing Micronaut v3.8.6 and Java 19 (preview features activated), having defined a sealed interface\r\n\r\n```\r\n@Introspected\r\npublic sealed interface UserId {\r\n    record Identifier(@Positive long value) implements UserId {}\r\n    record MailAddress(@EMail String value) implements UserId {}\r\n}\r\n\r\n```\r\nusing this annotation\r\n```\r\n@Target({PARAMETER, RECORD_COMPONENT, TYPE_USE, CONSTRUCTOR, FIELD, METHOD, ANNOTATION_TYPE})\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Constraint(validatedBy = {})\r\npublic @interface EMail {\r\n\r\n    String message() default &quot;is not a valid email address: ({validatedValue})&quot;;\r\n}\r\n```\r\nputting all together with the factory\r\n```\r\n@Factory\r\npublic class AppConfig {\r\n    @Singleton\r\n    public ConstraintValidator&lt;EMail, String&gt; eMailStringConstraintValidator() {\r\n        return (value, annotationMetadata, context) -&gt; EMailAddressConstraints.isValid(value);\r\n    }\r\n}\r\n```\r\nwhere the `isValid` method just returns a boolean but no exception to be thrown.\r\n\r\nThe validator is never called when creating a new MailAddress object. To make sure it basically works, I&#39;ve annotated a parameter of a controller method. Passing an invalid string fails as expected.\r\n\r\nWhy is the annotation ignored when creating the record? Btw I tried to get it to work with declaring the canonical constructor with annotated parameters explicitly too ...","title":"Validate record component value during construction with a custom annotation","body":"<p>I try to validate the components of a record using a custom annotation so that creating a new record object fails if the value is invalid.</p>\n<p>Using Micronaut v3.8.6 and Java 19 (preview features activated), having defined a sealed interface</p>\n<pre><code>@Introspected\npublic sealed interface UserId {\n    record Identifier(@Positive long value) implements UserId {}\n    record MailAddress(@EMail String value) implements UserId {}\n}\n\n</code></pre>\n<p>using this annotation</p>\n<pre><code>@Target({PARAMETER, RECORD_COMPONENT, TYPE_USE, CONSTRUCTOR, FIELD, METHOD, ANNOTATION_TYPE})\n@Retention(RetentionPolicy.RUNTIME)\n@Constraint(validatedBy = {})\npublic @interface EMail {\n\n    String message() default &quot;is not a valid email address: ({validatedValue})&quot;;\n}\n</code></pre>\n<p>putting all together with the factory</p>\n<pre><code>@Factory\npublic class AppConfig {\n    @Singleton\n    public ConstraintValidator&lt;EMail, String&gt; eMailStringConstraintValidator() {\n        return (value, annotationMetadata, context) -&gt; EMailAddressConstraints.isValid(value);\n    }\n}\n</code></pre>\n<p>where the <code>isValid</code> method just returns a boolean but no exception to be thrown.</p>\n<p>The validator is never called when creating a new MailAddress object. To make sure it basically works, I've annotated a parameter of a controller method. Passing an invalid string fails as expected.</p>\n<p>Why is the annotation ignored when creating the record? Btw I tried to get it to work with declaring the canonical constructor with annotated parameters explicitly too ...</p>\n"},{"tags":["java","dart","encoding","base64"],"comments":[{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":4,"creation_date":1678686865,"post_id":75718406,"comment_id":133574918,"body_markdown":"Your dart code units are UTF-16, while your online encoder defaults to UTF-8. Java probably as well. You&#39;re completely ignoring character encoding. Then you mentioned that this is supposed to be XML, so probably worthwhile to look into XML canonicalization as well.","body":"Your dart code units are UTF-16, while your online encoder defaults to UTF-8. Java probably as well. You&#39;re completely ignoring character encoding. Then you mentioned that this is supposed to be XML, so probably worthwhile to look into XML canonicalization as well."}],"answers":[{"tags":[],"owner":{"account_id":2475977,"reputation":66430,"user_id":2156621,"display_name":"lrn"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678697071,"creation_date":1678697071,"answer_id":75719610,"question_id":75718406,"body_markdown":"Dart&#39;s `Base64` encoding encodes *bytes* and a string&#39;s `codeUnits` are not bytes. They&#39;re UTF-16 code units. If the string contains only ASCII, or maybe even only iso-8859-1 characters (UTF-16 code units with values \\&lt;= 255), then it&#39;ll probably do something reasonable. If not, the `Base64.encode` will probably just truncate every code unit to the lower 8 bits.\r\n\r\nSo you want to convert the string to bytes. The page you link to use UTF-8 encoding as default, so that&#39;s what I&#39;d do here too:\r\n```dart\r\nList&lt;int&gt; array = utf8.encode(invoiceHashValue_WithQRHash);\r\nString invoiceEncodeData = base64.encode(array);\r\n```\r\n\r\nIf you&#39;re going to do the same operation repeatedly, you can combine the codecs into one:\r\n```dart\r\nvar base64Utf8 = utf8.fuse(base64); // First to last in encoding order.\r\n// ...\r\nString invoceEncodeData = base64Utf8.encode(invoiceHashValue_WithQRHash);\r\n```\r\n\r\nDoing this gives me the same result as the page you linked to for strings containing non-ASCII characters. ","title":"base64 encode result are different in dart and java","body":"<p>Dart's <code>Base64</code> encoding encodes <em>bytes</em> and a string's <code>codeUnits</code> are not bytes. They're UTF-16 code units. If the string contains only ASCII, or maybe even only iso-8859-1 characters (UTF-16 code units with values &lt;= 255), then it'll probably do something reasonable. If not, the <code>Base64.encode</code> will probably just truncate every code unit to the lower 8 bits.</p>\n<p>So you want to convert the string to bytes. The page you link to use UTF-8 encoding as default, so that's what I'd do here too:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>List&lt;int&gt; array = utf8.encode(invoiceHashValue_WithQRHash);\nString invoiceEncodeData = base64.encode(array);\n</code></pre>\n<p>If you're going to do the same operation repeatedly, you can combine the codecs into one:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>var base64Utf8 = utf8.fuse(base64); // First to last in encoding order.\n// ...\nString invoceEncodeData = base64Utf8.encode(invoiceHashValue_WithQRHash);\n</code></pre>\n<p>Doing this gives me the same result as the page you linked to for strings containing non-ASCII characters.</p>\n"}],"owner":{"account_id":27094412,"reputation":41,"user_id":20641792,"display_name":"Scribes Dev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678697071,"creation_date":1678686526,"question_id":75718406,"body_markdown":"I am trying to encode xml to base64 but result in dart and java are different from each other.\r\nI have checked from https://www.base64encode.org/ website it gives same result as java.\r\n\r\n  \r\n        byte[] array = invoiceHashValue_WithQRHash.getBytes();\r\n        String invoiceEncodeData = new String(Base64.encode(array, Base64.DEFAULT));\r\n\r\n         // dart code  \r\n        List&lt;int&gt; array = invoiceHashValue_WithQRHash.codeUnits;\r\n        String invoiceEncodeData = base64Encode(array);","title":"base64 encode result are different in dart and java","body":"<p>I am trying to encode xml to base64 but result in dart and java are different from each other.\nI have checked from <a href=\"https://www.base64encode.org/\" rel=\"nofollow noreferrer\">https://www.base64encode.org/</a> website it gives same result as java.</p>\n<pre><code>    byte[] array = invoiceHashValue_WithQRHash.getBytes();\n    String invoiceEncodeData = new String(Base64.encode(array, Base64.DEFAULT));\n\n     // dart code  \n    List&lt;int&gt; array = invoiceHashValue_WithQRHash.codeUnits;\n    String invoiceEncodeData = base64Encode(array);\n</code></pre>\n"},{"tags":["java","hibernate","annotation-processing"],"comments":[{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":0,"creation_date":1563970780,"post_id":57182568,"comment_id":100876259,"body_markdown":"I understand the problem stems from using one of the variants of the non-ASCII Turkish &#39;i&#39; character. From my experience, even though Java as a language supports Unicode, I often find that the tooling does not, so I would recommend to avoid using non-Latin characters for identifiers. Otherwise, you may manage to fix your issue only to find that another tool is having problems","body":"I understand the problem stems from using one of the variants of the non-ASCII Turkish &#39;i&#39; character. From my experience, even though Java as a language supports Unicode, I often find that the tooling does not, so I would recommend to avoid using non-Latin characters for identifiers. Otherwise, you may manage to fix your issue only to find that another tool is having problems"},{"owner":{"account_id":985380,"reputation":7450,"user_id":1005102,"accept_rate":71,"display_name":"Utku &#214;zdemir"},"score":0,"creation_date":1563970994,"post_id":57182568,"comment_id":100876371,"body_markdown":"What method do you use to get the metamodel classes generated? There are usages with Ant, and multiple ways of doing it by Maven: https://docs.jboss.org/hibernate/orm/5.0/topical/html/metamodelgen/MetamodelGenerator.html - over compiler or processor plugin. Depending on the method you use, you might find a way to pass the Locale variables to the compiler &amp; compile processor, and you wouldn&#39;t need to change your system settings.","body":"What method do you use to get the metamodel classes generated? There are usages with Ant, and multiple ways of doing it by Maven: <a href=\"https://docs.jboss.org/hibernate/orm/5.0/topical/html/metamodelgen/MetamodelGenerator.html\" rel=\"nofollow noreferrer\">docs.jboss.org/hibernate/orm/5.0/topical/html/metamodelgen/&hellip;</a> - over compiler or processor plugin. Depending on the method you use, you might find a way to pass the Locale variables to the compiler &amp; compile processor, and you wouldn&#39;t need to change your system settings."},{"owner":{"account_id":9962090,"reputation":1093,"user_id":9271254,"display_name":"Erce Tilav"},"score":1,"creation_date":1563971038,"post_id":57182568,"comment_id":100876397,"body_markdown":"@crizzis I&#39;m not using any Turkish character in my code. The problem is that code generator converting &quot;transtime&quot; field as TRANSTİME constant name, not TRANSTIME.","body":"@crizzis I&#39;m not using any Turkish character in my code. The problem is that code generator converting &quot;transtime&quot; field as TRANSTİME constant name, not TRANSTIME."},{"owner":{"account_id":9962090,"reputation":1093,"user_id":9271254,"display_name":"Erce Tilav"},"score":0,"creation_date":1563971293,"post_id":57182568,"comment_id":100876567,"body_markdown":"@Utku&#214;zdemir I&#39;m just adding dependency to my POM. See docs: \n&quot;In most cases the annotation processor will automatically run provided the processor jar is added to the build classpath and a JDK &gt;6 is used. This happens due to Java’s Service Provider contract and the fact the the Hibernate Static Metamodel Generator jar files contains the file javax.annotation.processing.Processor in the META-INF/services directory.&quot;","body":"@Utku&#214;zdemir I&#39;m just adding dependency to my POM. See docs:  &quot;In most cases the annotation processor will automatically run provided the processor jar is added to the build classpath and a JDK &gt;6 is used. This happens due to Java’s Service Provider contract and the fact the the Hibernate Static Metamodel Generator jar files contains the file javax.annotation.processing.Processor in the META-INF/services directory.&quot;"},{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":0,"creation_date":1563978174,"post_id":57182568,"comment_id":100880764,"body_markdown":"@evracle In that case, you are probably facing [this issue](http://java.sys-con.com/node/46241), where the dotted *i* becomes capitalized as *İ*. You may try fixing that issue by using the `-Duser.language=en` flag or the `&lt;user.language&gt;en&lt;/user.language&gt;` tag to force capitalization of *i* into *I*","body":"@evracle In that case, you are probably facing <a href=\"http://java.sys-con.com/node/46241\" rel=\"nofollow noreferrer\">this issue</a>, where the dotted <i>i</i> becomes capitalized as <i>İ</i>. You may try fixing that issue by using the <code>-Duser.language=en</code> flag or the <code>&lt;user.language&gt;en&lt;&#47;user.language&gt;</code> tag to force capitalization of <i>i</i> into <i>I</i>"},{"owner":{"account_id":1007051,"reputation":477,"user_id":1020512,"display_name":"Kambaa"},"score":0,"creation_date":1662735240,"post_id":57182568,"comment_id":130082072,"body_markdown":"I&#39;m having this issue too(when running `mvn compile`), and only solution i&#39;ve found is to change my OS&#39;s(Win10) lang setting to English. Pom.xml changes below did not work for me.","body":"I&#39;m having this issue too(when running <code>mvn compile</code>), and only solution i&#39;ve found is to change my OS&#39;s(Win10) lang setting to English. Pom.xml changes below did not work for me."}],"answers":[{"comments":[{"owner":{"account_id":9962090,"reputation":1093,"user_id":9271254,"display_name":"Erce Tilav"},"score":0,"creation_date":1566032747,"post_id":57253122,"comment_id":101534766,"body_markdown":"It worked after I set fork option to true. See:\nhttps://maven.apache.org/plugins-archives/maven-compiler-plugin-3.8.1/compile-mojo.html#compilerArgs\n\nIf you update your answer, I can select it as correct.","body":"It worked after I set fork option to true. See: <a href=\"https://maven.apache.org/plugins-archives/maven-compiler-plugin-3.8.1/compile-mojo.html#compilerArgs\" rel=\"nofollow noreferrer\">maven.apache.org/plugins-archives/maven-compiler-plugin-3.8.&zwnj;&#8203;1/&hellip;</a>  If you update your answer, I can select it as correct."}],"tags":[],"owner":{"account_id":893101,"reputation":3385,"user_id":931004,"accept_rate":100,"display_name":"Ghokun"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1566038699,"creation_date":1564400466,"answer_id":57253122,"question_id":57182568,"body_markdown":"I have fixed the same problem with following configuration.\r\n\r\n    &lt;plugin&gt;\r\n\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t&lt;configuration&gt;\r\n\t\t\t&lt;source&gt;${java.version}&lt;/source&gt;\r\n\t\t\t&lt;target&gt;${java.version}&lt;/target&gt;\r\n            &lt;fork&gt;true&lt;/fork&gt;\r\n\t\t\t&lt;compilerArgs&gt;\r\n\t\t\t\t&lt;compilerArg&gt;-J-Duser.language=en&lt;/compilerArg&gt;\r\n\t\t\t\t&lt;compilerArg&gt;-J-Duser.country=US&lt;/compilerArg&gt;\r\n\t\t\t\t&lt;compilerArg&gt;-J-Dfile.encoding=UTF-8&lt;/compilerArg&gt;\r\n\t\t\t&lt;/compilerArgs&gt;\r\n\t\t\t&lt;annotationProcessorPaths&gt;\r\n\t\t\t\t&lt;annotationProcessorPath&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;${hibernate.version}&lt;/version&gt;\r\n\t\t\t\t&lt;/annotationProcessorPath&gt;\r\n\t\t\t&lt;/annotationProcessorPaths&gt;\r\n\t\t&lt;/configuration&gt;\r\n\t&lt;/plugin&gt;","title":"Hibernate JPA 2 Metamodel Generator Turkish Char problem","body":"<p>I have fixed the same problem with following configuration.</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;source&gt;${java.version}&lt;/source&gt;\n        &lt;target&gt;${java.version}&lt;/target&gt;\n        &lt;fork&gt;true&lt;/fork&gt;\n        &lt;compilerArgs&gt;\n            &lt;compilerArg&gt;-J-Duser.language=en&lt;/compilerArg&gt;\n            &lt;compilerArg&gt;-J-Duser.country=US&lt;/compilerArg&gt;\n            &lt;compilerArg&gt;-J-Dfile.encoding=UTF-8&lt;/compilerArg&gt;\n        &lt;/compilerArgs&gt;\n        &lt;annotationProcessorPaths&gt;\n            &lt;annotationProcessorPath&gt;\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n                &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\n                &lt;version&gt;${hibernate.version}&lt;/version&gt;\n            &lt;/annotationProcessorPath&gt;\n        &lt;/annotationProcessorPaths&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15433997,"reputation":11,"user_id":11134576,"display_name":"sss"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591116531,"creation_date":1591116531,"answer_id":62157115,"question_id":57182568,"body_markdown":"I had the same problems. My problem was solved with the following plugins\r\n\r\n    &lt;plugin&gt;\r\n                &lt;inherited&gt;true&lt;/inherited&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;${java.version}&lt;/source&gt;\r\n                    &lt;target&gt;${java.version}&lt;/target&gt;\r\n                    &lt;compilerArgument&gt;-proc:none&lt;/compilerArgument&gt;\r\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n                    &lt;showWarnings&gt;true&lt;/showWarnings&gt;\r\n                    &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\r\n\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.bsc.maven&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-processor-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;process&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;compilerArguments&gt;-AaddGeneratedAnnotation=false&lt;/compilerArguments&gt; &lt;!-- suppress java.annotation --&gt;\r\n                            &lt;processors&gt;\r\n                                &lt;processor&gt;org.hibernate.jpamodelgen.JPAMetaModelEntityProcessor&lt;/processor&gt;\r\n                            &lt;/processors&gt;\r\n                            &lt;outputDirectory&gt;generated&lt;/outputDirectory&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n    \r\n\r\n","title":"Hibernate JPA 2 Metamodel Generator Turkish Char problem","body":"<p>I had the same problems. My problem was solved with the following plugins</p>\n\n<pre><code>&lt;plugin&gt;\n            &lt;inherited&gt;true&lt;/inherited&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;${java.version}&lt;/source&gt;\n                &lt;target&gt;${java.version}&lt;/target&gt;\n                &lt;compilerArgument&gt;-proc:none&lt;/compilerArgument&gt;\n                &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n                &lt;showWarnings&gt;true&lt;/showWarnings&gt;\n                &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\n\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.bsc.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-processor-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;process&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;phase&gt;generate-sources&lt;/phase&gt;\n                    &lt;configuration&gt;\n                        &lt;compilerArguments&gt;-AaddGeneratedAnnotation=false&lt;/compilerArguments&gt; &lt;!-- suppress java.annotation --&gt;\n                        &lt;processors&gt;\n                            &lt;processor&gt;org.hibernate.jpamodelgen.JPAMetaModelEntityProcessor&lt;/processor&gt;\n                        &lt;/processors&gt;\n                        &lt;outputDirectory&gt;generated&lt;/outputDirectory&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1007051,"reputation":477,"user_id":1020512,"display_name":"Kambaa"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678696919,"creation_date":1662735078,"answer_id":73663983,"question_id":57182568,"body_markdown":"**UPDATE MARCH-2023:**\r\n \r\nAdding *.mvn/jvm.config* file in your project with contents `-Duser.country=US -Duser.language=en` seems to change the locale for the maven, this seems to be the better approach. \r\n\r\n\r\n**UPDATE FEB-2023:** \r\n\r\nAfter some debugging, Below is my findings about this problem: \r\n\r\n[![https://prnt.sc/6_MhLRmJkfMv][1]][1]\r\n\r\neven if nothing&#39;s wrong with my entity(encoding-wise) JpaMetaModelGen&#39;s StringUtils class method uses toUpperCase() method which uses JVM&#39;s default Locale for uppercase operation. Here are some documentation on upperCase method: \r\n\r\n\r\n *This method is locale sensitive, and may produce unexpected results if used for strings that are intended to be interpreted locale independently. Examples are programming language identifiers, protocol keys, and HTML tags. For instance, &quot;title&quot;.toUpperCase() in a Turkish locale returns &quot;T\\u0130TLE&quot;, where &#39;\\u0130&#39; is the LATIN CAPITAL LETTER I WITH DOT ABOVE character. To obtain correct results for locale insensitive strings, use toUpperCase(Locale.ROOT).*\r\n\r\nit seems like i need to change my JVM locale to english (normally when you call java command you need to add these jvm args: *-Duser.country=US -Duser.language=en* ) to make this problem go away, but adding these to mvn command did not worked for me, so in IDEA i did this and it seemed to worked.\r\n\r\n[![IDEA Maven Locale Change JVM Commands][2]][2]\r\n    \r\nSome links on JVM Locale\r\n- https://stackoverflow.com/a/55615159/1020512\r\n- https://mkyong.com/java/how-to-change-the-jvm-default-locale/\r\n- https://www.oracle.com/technical-resources/articles/javase/locale.html\r\n- https://docs.oracle.com/cd/E23095_01/Platform.93/ATGProgGuide/html/s1809settingthejavavirtualmachineloca01.html\r\n\r\n\r\n\r\nI&#39;m having this issue right now(when running `maven compile`, it gives me this problem not idea&#39;s run configurations, weird! ), and only solution i&#39;ve found is to change my OS&#39;s(Win10) lang setting to English. Pom.xml changes above did not work for me. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Sf8tv.png\r\n  [2]: https://i.stack.imgur.com/UwD6J.png","title":"Hibernate JPA 2 Metamodel Generator Turkish Char problem","body":"<p><strong>UPDATE MARCH-2023:</strong></p>\n<p>Adding <em>.mvn/jvm.config</em> file in your project with contents <code>-Duser.country=US -Duser.language=en</code> seems to change the locale for the maven, this seems to be the better approach.</p>\n<p><strong>UPDATE FEB-2023:</strong></p>\n<p>After some debugging, Below is my findings about this problem:</p>\n<p><a href=\"https://i.stack.imgur.com/Sf8tv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Sf8tv.png\" alt=\"https://prnt.sc/6_MhLRmJkfMv\" /></a></p>\n<p>even if nothing's wrong with my entity(encoding-wise) JpaMetaModelGen's StringUtils class method uses toUpperCase() method which uses JVM's default Locale for uppercase operation. Here are some documentation on upperCase method:</p>\n<p><em>This method is locale sensitive, and may produce unexpected results if used for strings that are intended to be interpreted locale independently. Examples are programming language identifiers, protocol keys, and HTML tags. For instance, &quot;title&quot;.toUpperCase() in a Turkish locale returns &quot;T\\u0130TLE&quot;, where '\\u0130' is the LATIN CAPITAL LETTER I WITH DOT ABOVE character. To obtain correct results for locale insensitive strings, use toUpperCase(Locale.ROOT).</em></p>\n<p>it seems like i need to change my JVM locale to english (normally when you call java command you need to add these jvm args: <em>-Duser.country=US -Duser.language=en</em> ) to make this problem go away, but adding these to mvn command did not worked for me, so in IDEA i did this and it seemed to worked.</p>\n<p><a href=\"https://i.stack.imgur.com/UwD6J.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UwD6J.png\" alt=\"IDEA Maven Locale Change JVM Commands\" /></a></p>\n<p>Some links on JVM Locale</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/55615159/1020512\">https://stackoverflow.com/a/55615159/1020512</a></li>\n<li><a href=\"https://mkyong.com/java/how-to-change-the-jvm-default-locale/\" rel=\"nofollow noreferrer\">https://mkyong.com/java/how-to-change-the-jvm-default-locale/</a></li>\n<li><a href=\"https://www.oracle.com/technical-resources/articles/javase/locale.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/technical-resources/articles/javase/locale.html</a></li>\n<li><a href=\"https://docs.oracle.com/cd/E23095_01/Platform.93/ATGProgGuide/html/s1809settingthejavavirtualmachineloca01.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/cd/E23095_01/Platform.93/ATGProgGuide/html/s1809settingthejavavirtualmachineloca01.html</a></li>\n</ul>\n<p>I'm having this issue right now(when running <code>maven compile</code>, it gives me this problem not idea's run configurations, weird! ), and only solution i've found is to change my OS's(Win10) lang setting to English. Pom.xml changes above did not work for me.</p>\n"}],"owner":{"account_id":9962090,"reputation":1093,"user_id":9271254,"display_name":"Erce Tilav"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":956,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":57253122,"answer_count":3,"score":2,"last_activity_date":1678696919,"creation_date":1563970060,"question_id":57182568,"body_markdown":"        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\r\n            &lt;version&gt;6.0.0.Alpha2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nWhen I add hibernate-jpamodelgen dependency to the project. Everything works properly until the compilation process. I can see generated metamodel classes under target folder. But because of my system defaults (that are related to my operating system), the field name constants on metamodel classes are converted wrong. \r\n\r\n    public static final String TRANST�ME = &quot;transtime&quot;;\r\n\tpublic static final String NOTE = &quot;note&quot;;\r\n\tpublic static final String �SACT�VE = &quot;isactive&quot;;\r\n\r\n-\r\n\r\n    [ERROR] /C:/Users/*/IdeaProjects/*/target/generated-sources/annotations/*/model/acc/InvtypeView_.java:[20,37] illegal character: &#39;\\ufffd&#39;\r\n\r\n \r\nAnd that causes a compile error. When I analyzed the code generation process I can see org.hibernate.jpamodelgen.util.StringUtil classes&#39; getUpperUnderscoreCaseFromLowerCamelCase method causes this. \r\n\r\n\tpublic static String getUpperUnderscoreCaseFromLowerCamelCase(String lowerCamelCaseString){\r\n\t\treturn lowerCamelCaseString.replaceAll(&quot;(.)(\\\\p{Upper})&quot;, &quot;$1_$2&quot;).toUpperCase();\r\n\t}\r\n\r\ntoUpperCase method should have parameter Locale.ROOT. \r\n\r\nI&#39;ve created an issue on [Hibernate issue tracker system][1].\r\n\r\n\r\nAny quick solution/workaround would be great.\r\n\r\n\r\n  [1]: https://hibernate.atlassian.net/browse/HHH-13506","title":"Hibernate JPA 2 Metamodel Generator Turkish Char problem","body":"<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\n        &lt;version&gt;6.0.0.Alpha2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>When I add hibernate-jpamodelgen dependency to the project. Everything works properly until the compilation process. I can see generated metamodel classes under target folder. But because of my system defaults (that are related to my operating system), the field name constants on metamodel classes are converted wrong. </p>\n\n<pre><code>public static final String TRANST�ME = \"transtime\";\npublic static final String NOTE = \"note\";\npublic static final String �SACT�VE = \"isactive\";\n</code></pre>\n\n<p>-</p>\n\n<pre><code>[ERROR] /C:/Users/*/IdeaProjects/*/target/generated-sources/annotations/*/model/acc/InvtypeView_.java:[20,37] illegal character: '\\ufffd'\n</code></pre>\n\n<p>And that causes a compile error. When I analyzed the code generation process I can see org.hibernate.jpamodelgen.util.StringUtil classes' getUpperUnderscoreCaseFromLowerCamelCase method causes this. </p>\n\n<pre><code>public static String getUpperUnderscoreCaseFromLowerCamelCase(String lowerCamelCaseString){\n    return lowerCamelCaseString.replaceAll(\"(.)(\\\\p{Upper})\", \"$1_$2\").toUpperCase();\n}\n</code></pre>\n\n<p>toUpperCase method should have parameter Locale.ROOT. </p>\n\n<p>I've created an issue on <a href=\"https://hibernate.atlassian.net/browse/HHH-13506\" rel=\"nofollow noreferrer\">Hibernate issue tracker system</a>.</p>\n\n<p>Any quick solution/workaround would be great.</p>\n"},{"tags":["java","spring-boot","hibernate","graalvm"],"answers":[{"tags":[],"owner":{"account_id":1792218,"reputation":2005,"user_id":1632341,"accept_rate":86,"display_name":"Akkusativobjekt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678696872,"creation_date":1678696872,"answer_id":75719586,"question_id":75674982,"body_markdown":"So, I found the issue with my hint. Instead of using `org.hibernate.dialect.DB2Dialect`  my hint imported `org.springframework.data.relational.core.dialect.Db2Dialect` (with an lowercase b). Therefore, the correct hint looks like this:\r\n\r\n    import org.springframework.aot.hint.MemberCategory;\r\n    import org.springframework.aot.hint.RuntimeHints;\r\n    import org.springframework.aot.hint.RuntimeHintsRegistrar;\r\n    import org.hibernate.dialect.DB2Dialect;\r\n\r\n    public class MyNativeHints implements RuntimeHintsRegistrar\r\n    {\r\n        hints.reflection()\r\n             .registerType(DB2Dialect.class, MemberCategory.values());\r\n        \r\n    }\r\n}\r\n","title":"RuntimeHint for Hibernate Db2Dialect with Spring Boot and GraalVM","body":"<p>So, I found the issue with my hint. Instead of using <code>org.hibernate.dialect.DB2Dialect</code>  my hint imported <code>org.springframework.data.relational.core.dialect.Db2Dialect</code> (with an lowercase b). Therefore, the correct hint looks like this:</p>\n<pre><code>import org.springframework.aot.hint.MemberCategory;\nimport org.springframework.aot.hint.RuntimeHints;\nimport org.springframework.aot.hint.RuntimeHintsRegistrar;\nimport org.hibernate.dialect.DB2Dialect;\n\npublic class MyNativeHints implements RuntimeHintsRegistrar\n{\n    hints.reflection()\n         .registerType(DB2Dialect.class, MemberCategory.values());\n    \n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":1792218,"reputation":2005,"user_id":1632341,"accept_rate":86,"display_name":"Akkusativobjekt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75719586,"answer_count":1,"score":0,"last_activity_date":1678696872,"creation_date":1678289137,"question_id":75674982,"body_markdown":"I am trying to get the Db2Dialect working with Hibernate. I am using Sprint Boot 3.0.2 and the GraalVm version 22.3.1. Adding the hibernate-graalvm dependency did not help either. When starting the native image I get the following error:\r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39;: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\n[...]\r\nCaused by: org.hibernate.boot.registry.selector.spi.StrategySelectionException: Could not instantiate named strategy class [org.hibernate.dialect.DB2Dialect]\r\n        at org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.resolveStrategy(StrategySelectorImpl.java:245) ~[na:na]\r\n        at org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.resolveStrategy(StrategySelectorImpl.java:190) ~[na:na]\r\n        at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.constructDialect(DialectFactoryImpl.java:96) ~[spinsample-maven-local-v1:6.1.7.Final]\r\n        at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.buildDialect(DialectFactoryImpl.java:59) ~[spinsample-maven-local-v1:6.1.7.Final]\r\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:244) ~[na:na]\r\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:36) ~[na:na]\r\n        at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:119) ~[na:na]\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:255) ~[spinsample-maven-local-v1:6.1.7.Final]\r\n        ... 32 common frames omitted\r\nCaused by: org.hibernate.boot.registry.selector.spi.StrategySelectionException: Could not instantiate named dialect class [org.hibernate.dialect.DB2Dialect]\r\n        at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.lambda$constructDialect$0(DialectFactoryImpl.java:116) ~[spinsample-maven-local-v1:6.1.7.Final]\r\n        at org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.resolveStrategy(StrategySelectorImpl.java:241) ~[na:na]\r\n        ... 39 common frames omitted\r\nCaused by: java.lang.InstantiationException: org.hibernate.dialect.DB2Dialect\r\n        at java.base@17.0.6/java.lang.Class.newInstance(DynamicHub.java:639) ~[spinsample-maven-local-v1:na]\r\n        at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.lambda$constructDialect$0(DialectFactoryImpl.java:112) ~[spinsample-maven-local-v1:6.1.7.Final]\r\n        ... 40 common frames omitted\r\nCaused by: java.lang.NoSuchMethodException: org.hibernate.dialect.DB2Dialect.&lt;init&gt;()\r\n        at java.base@17.0.6/java.lang.Class.getConstructor0(DynamicHub.java:3585) ~[spinsample-maven-local-v1:na]\r\n        at java.base@17.0.6/java.lang.Class.newInstance(DynamicHub.java:626) ~[spinsample-maven-local-v1:na]\r\n        ... 41 common frames omitted\r\n```\r\nThat is why I have tried to create a RuntimeHint. To my understanding, the class Db2Dialect has a protected constructor and can only be called via a member variable that acts as a singleton instance. And that&#39;s probably what I need to express with the RuntimeHint.\r\n```\r\nhints.reflection().registerType(Db2Dialect.class, MemberCategory.values());\r\nConstructor&lt;Db2Dialect&gt; cons = Db2Dialect.class.getDeclaredConstructor();\r\nhints.reflection().registerConstructor(cons, ExecutableMode.INVOKE);\r\n```\r\nBut that didn&#39;t work for me and the documentation on RuntimeHints didn&#39;t help me either.","title":"RuntimeHint for Hibernate Db2Dialect with Spring Boot and GraalVM","body":"<p>I am trying to get the Db2Dialect working with Hibernate. I am using Sprint Boot 3.0.2 and the GraalVm version 22.3.1. Adding the hibernate-graalvm dependency did not help either. When starting the native image I get the following error:</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory': Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\n[...]\nCaused by: org.hibernate.boot.registry.selector.spi.StrategySelectionException: Could not instantiate named strategy class [org.hibernate.dialect.DB2Dialect]\n        at org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.resolveStrategy(StrategySelectorImpl.java:245) ~[na:na]\n        at org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.resolveStrategy(StrategySelectorImpl.java:190) ~[na:na]\n        at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.constructDialect(DialectFactoryImpl.java:96) ~[spinsample-maven-local-v1:6.1.7.Final]\n        at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.buildDialect(DialectFactoryImpl.java:59) ~[spinsample-maven-local-v1:6.1.7.Final]\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:244) ~[na:na]\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:36) ~[na:na]\n        at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:119) ~[na:na]\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:255) ~[spinsample-maven-local-v1:6.1.7.Final]\n        ... 32 common frames omitted\nCaused by: org.hibernate.boot.registry.selector.spi.StrategySelectionException: Could not instantiate named dialect class [org.hibernate.dialect.DB2Dialect]\n        at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.lambda$constructDialect$0(DialectFactoryImpl.java:116) ~[spinsample-maven-local-v1:6.1.7.Final]\n        at org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.resolveStrategy(StrategySelectorImpl.java:241) ~[na:na]\n        ... 39 common frames omitted\nCaused by: java.lang.InstantiationException: org.hibernate.dialect.DB2Dialect\n        at java.base@17.0.6/java.lang.Class.newInstance(DynamicHub.java:639) ~[spinsample-maven-local-v1:na]\n        at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.lambda$constructDialect$0(DialectFactoryImpl.java:112) ~[spinsample-maven-local-v1:6.1.7.Final]\n        ... 40 common frames omitted\nCaused by: java.lang.NoSuchMethodException: org.hibernate.dialect.DB2Dialect.&lt;init&gt;()\n        at java.base@17.0.6/java.lang.Class.getConstructor0(DynamicHub.java:3585) ~[spinsample-maven-local-v1:na]\n        at java.base@17.0.6/java.lang.Class.newInstance(DynamicHub.java:626) ~[spinsample-maven-local-v1:na]\n        ... 41 common frames omitted\n</code></pre>\n<p>That is why I have tried to create a RuntimeHint. To my understanding, the class Db2Dialect has a protected constructor and can only be called via a member variable that acts as a singleton instance. And that's probably what I need to express with the RuntimeHint.</p>\n<pre><code>hints.reflection().registerType(Db2Dialect.class, MemberCategory.values());\nConstructor&lt;Db2Dialect&gt; cons = Db2Dialect.class.getDeclaredConstructor();\nhints.reflection().registerConstructor(cons, ExecutableMode.INVOKE);\n</code></pre>\n<p>But that didn't work for me and the documentation on RuntimeHints didn't help me either.</p>\n"},{"tags":["java","spring","apache-kafka","spring-cloud-stream"],"comments":[{"owner":{"account_id":4401107,"reputation":1326,"user_id":4257751,"accept_rate":62,"display_name":"Karim Tawfik"},"score":0,"creation_date":1678695433,"post_id":75718833,"comment_id":133576393,"body_markdown":"I didn&#39;t use it before, but after looking into the class docs, I think for adding headers you should use `addHeadersFunction`\nhttps://docs.spring.io/spring-kafka/docs/current/api/org/springframework/kafka/listener/DeadLetterPublishingRecoverer.html#addHeadersFunction(java.util.function.BiFunction)","body":"I didn&#39;t use it before, but after looking into the class docs, I think for adding headers you should use <code>addHeadersFunction</code> <a href=\"https://docs.spring.io/spring-kafka/docs/current/api/org/springframework/kafka/listener/DeadLetterPublishingRecoverer.html#addHeadersFunction(java.util.function.BiFunction)\" rel=\"nofollow noreferrer\">docs.spring.io/spring-kafka/docs/current/api/org/&hellip;</a>"},{"owner":{"account_id":16895536,"reputation":11,"user_id":12218160,"display_name":"Yingjie Guan"},"score":0,"creation_date":1678697906,"post_id":75718833,"comment_id":133576966,"body_markdown":"thanks for you replay, I used it before, but not work,  I guess it&#39;s provided by kafka.retrytopic, so it&#39;s not work in spring cloud stream kafka","body":"thanks for you replay, I used it before, but not work,  I guess it&#39;s provided by kafka.retrytopic, so it&#39;s not work in spring cloud stream kafka"}],"answers":[{"tags":[],"owner":{"account_id":16895536,"reputation":11,"user_id":12218160,"display_name":"Yingjie Guan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678696826,"creation_date":1678696826,"answer_id":75719577,"question_id":75718833,"body_markdown":"I fix this issue by add this bean\r\n```\r\n  @Bean\r\n  ListenerContainerWithDlqAndRetryCustomizer cust(KafkaTemplate&lt;?, ?&gt; template) {\r\n    return new ListenerContainerWithDlqAndRetryCustomizer() {\r\n\r\n      @Override\r\n      public void configure(AbstractMessageListenerContainer&lt;?, ?&gt; container, String destinationName,\r\n                            String group,\r\n                            @Nullable BiFunction&lt;ConsumerRecord&lt;?, ?&gt;, Exception, TopicPartition&gt; dlqDestinationResolver,\r\n                            @Nullable BackOff backOff) {\r\n\r\n          DeadLetterPublishingRecoverer dlpr = new DeadLetterPublishingRecoverer(template,\r\n              dlqDestinationResolver);\r\n          dlpr.setExceptionHeadersCreator((kafkaHeaders, exception, isKey, headerNames) -&gt; {\r\n            var exceptionType = getRootCauseExceptionType(exception);\r\n            kafkaHeaders.add(&quot;exception-type&quot;, exceptionType.getBytes());\r\n          });\r\n\r\n          container.setCommonErrorHandler(new DefaultErrorHandler(dlpr, backOff));\r\n\r\n      }\r\n\r\n      @Override\r\n      public boolean retryAndDlqInBinding(String destinationName, String group) {\r\n        return false;\r\n      }\r\n\r\n    };\r\n  }\r\n```","title":"add custom header when message publish to DLQ by spring cloud stream Kafka binder","body":"<p>I fix this issue by add this bean</p>\n<pre><code>  @Bean\n  ListenerContainerWithDlqAndRetryCustomizer cust(KafkaTemplate&lt;?, ?&gt; template) {\n    return new ListenerContainerWithDlqAndRetryCustomizer() {\n\n      @Override\n      public void configure(AbstractMessageListenerContainer&lt;?, ?&gt; container, String destinationName,\n                            String group,\n                            @Nullable BiFunction&lt;ConsumerRecord&lt;?, ?&gt;, Exception, TopicPartition&gt; dlqDestinationResolver,\n                            @Nullable BackOff backOff) {\n\n          DeadLetterPublishingRecoverer dlpr = new DeadLetterPublishingRecoverer(template,\n              dlqDestinationResolver);\n          dlpr.setExceptionHeadersCreator((kafkaHeaders, exception, isKey, headerNames) -&gt; {\n            var exceptionType = getRootCauseExceptionType(exception);\n            kafkaHeaders.add(&quot;exception-type&quot;, exceptionType.getBytes());\n          });\n\n          container.setCommonErrorHandler(new DefaultErrorHandler(dlpr, backOff));\n\n      }\n\n      @Override\n      public boolean retryAndDlqInBinding(String destinationName, String group) {\n        return false;\n      }\n\n    };\n  }\n</code></pre>\n"}],"owner":{"account_id":16895536,"reputation":11,"user_id":12218160,"display_name":"Yingjie Guan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":478,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75719577,"answer_count":1,"score":0,"last_activity_date":1678696826,"creation_date":1678690916,"question_id":75718833,"body_markdown":"Background: when consume message failed and publish to DLQ, I would like to add the custom header , the header key is exception and value is the exception\r\n\r\nthis is my configuration\r\n```\r\nspring:\r\n  cloud:\r\n    function:\r\n      definition: numberConsumer\r\n    stream:\r\n      bindings:\r\n        numberProducer-out-0:\r\n          destination: first-topic\r\n        numberConsumer-in-0:\r\n          group: group\r\n          destination: first-topic\r\n      kafka:\r\n        bindings:\r\n          numberConsumer-in-0:\r\n            consumer:\r\n              standard-headers:\r\n              enableDlq: true\r\n              dlqName: dlq\r\n              dlq-partitions: 1\r\n```\r\n\r\nthis is my consumer\r\n```\r\n  @Bean\r\n  public Consumer&lt;String&gt; numberConsumer() {\r\n    return message -&gt; log.info(&quot;receive message : {}&quot;, message);\r\n  }\r\n\r\n```\r\n\r\nI try to use this way but not work,not sure what&#39;s wrong with my code?\r\n\r\n```\r\n@Configuration\r\n@Slf4j\r\npublic class KafkaConfiguration {\r\n\r\n  @Bean\r\n  public ListenerContainerCustomizer&lt;AbstractMessageListenerContainer&lt;String, String&gt;&gt; customizer(DefaultErrorHandler errorHandler) {\r\n    return (container, dest, group) -&gt; {\r\n      container.setCommonErrorHandler(errorHandler);\r\n    };\r\n  }\r\n\r\n  @Bean\r\n  public DefaultErrorHandler errorHandler(DeadLetterPublishingRecoverer deadLetterPublishingRecoverer) {\r\n    return new DefaultErrorHandler(deadLetterPublishingRecoverer);\r\n  }\r\n\r\n  @Bean\r\n  public DeadLetterPublishingRecoverer publisher(KafkaOperations template) {\r\n    DeadLetterPublishingRecoverer recover = new DeadLetterPublishingRecoverer(template);\r\n\r\n    recover.setExceptionHeadersCreator((kafkaHeaders, exception, isKey, headerNames) -&gt; {\r\n      var exceptionType = getRootCauseExceptionType(exception);\r\n      kafkaHeaders.add(&quot;exception-type&quot;, exceptionType.getBytes());\r\n    });\r\n    return recover;\r\n  }\r\n```\r\n\r\nI use the spring-cloud-stream-kafka version 4.0.1","title":"add custom header when message publish to DLQ by spring cloud stream Kafka binder","body":"<p>Background: when consume message failed and publish to DLQ, I would like to add the custom header , the header key is exception and value is the exception</p>\n<p>this is my configuration</p>\n<pre><code>spring:\n  cloud:\n    function:\n      definition: numberConsumer\n    stream:\n      bindings:\n        numberProducer-out-0:\n          destination: first-topic\n        numberConsumer-in-0:\n          group: group\n          destination: first-topic\n      kafka:\n        bindings:\n          numberConsumer-in-0:\n            consumer:\n              standard-headers:\n              enableDlq: true\n              dlqName: dlq\n              dlq-partitions: 1\n</code></pre>\n<p>this is my consumer</p>\n<pre><code>  @Bean\n  public Consumer&lt;String&gt; numberConsumer() {\n    return message -&gt; log.info(&quot;receive message : {}&quot;, message);\n  }\n\n</code></pre>\n<p>I try to use this way but not work,not sure what's wrong with my code?</p>\n<pre><code>@Configuration\n@Slf4j\npublic class KafkaConfiguration {\n\n  @Bean\n  public ListenerContainerCustomizer&lt;AbstractMessageListenerContainer&lt;String, String&gt;&gt; customizer(DefaultErrorHandler errorHandler) {\n    return (container, dest, group) -&gt; {\n      container.setCommonErrorHandler(errorHandler);\n    };\n  }\n\n  @Bean\n  public DefaultErrorHandler errorHandler(DeadLetterPublishingRecoverer deadLetterPublishingRecoverer) {\n    return new DefaultErrorHandler(deadLetterPublishingRecoverer);\n  }\n\n  @Bean\n  public DeadLetterPublishingRecoverer publisher(KafkaOperations template) {\n    DeadLetterPublishingRecoverer recover = new DeadLetterPublishingRecoverer(template);\n\n    recover.setExceptionHeadersCreator((kafkaHeaders, exception, isKey, headerNames) -&gt; {\n      var exceptionType = getRootCauseExceptionType(exception);\n      kafkaHeaders.add(&quot;exception-type&quot;, exceptionType.getBytes());\n    });\n    return recover;\n  }\n</code></pre>\n<p>I use the spring-cloud-stream-kafka version 4.0.1</p>\n"},{"tags":["java","postgresql","hibernate","jpa","quarkus-panache"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678696741,"creation_date":1678696741,"answer_id":75719566,"question_id":75664104,"body_markdown":"Yeah, it&#39;s pretty simple actually. You can use a join fetch in your HQL query:\r\n\r\n    select u from UserEntity u join fetch u.groups\r\n\r\nThis way, Hibernate will join and fetch along all the collection elements as part of a single query.\r\nOther possible alternatives are to use an entity graph, or a specialized HQL query e.g.\r\n\r\n    select u.id, string_agg(g.name, &quot;,&quot;) from UserEntity u join u.groups g group by u.id\r\n\r\nThat last query will select the user id and the comma separated list as string.","title":"Hibernate creates SELECT query for each lazy loaded element in @ManyToMany relationship","body":"<p>Yeah, it's pretty simple actually. You can use a join fetch in your HQL query:</p>\n<pre><code>select u from UserEntity u join fetch u.groups\n</code></pre>\n<p>This way, Hibernate will join and fetch along all the collection elements as part of a single query.\nOther possible alternatives are to use an entity graph, or a specialized HQL query e.g.</p>\n<pre><code>select u.id, string_agg(g.name, &quot;,&quot;) from UserEntity u join u.groups g group by u.id\n</code></pre>\n<p>That last query will select the user id and the comma separated list as string.</p>\n"}],"owner":{"account_id":22130669,"reputation":1,"user_id":16382256,"display_name":"beneken"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678696741,"creation_date":1678203682,"question_id":75664104,"body_markdown":"I&#39;m working on a PostgreSQL table USERS with 50k entries. A USER can have one or more GROUPs. These two tables are joined using a joining table USER_GROUP (with user_id and group_id). The relationship is defined as:\r\n\r\n\r\n```\r\n    @ManyToMany(fetch = FetchType.LAZY)\r\n    @JoinTable(name=&quot;user_group&quot;,\r\n            joinColumns={\r\n                    @JoinColumn(name=&quot;user_uid&quot;, referencedColumnName=&quot;user_uid&quot;)},\r\n            inverseJoinColumns={\r\n                    @JoinColumn(name=&quot;group_id&quot;, referencedColumnName=&quot;group_id&quot;)})\r\n    private Set&lt;GroupEntity&gt; groups = new HashSet&lt;&gt;();\r\n```\r\n\r\nOn the real database, very few users have an assigned group. In one use-case, I need to query all users and their respective groups. The group name needs to be stored in a String. I load the groups with : \r\n\r\n```\r\nString groups = userList.add(String.join(&quot;,&quot;, user.getGroups().stream().map(Group::getName)                                                                  .collect(Collectors.toList())));\r\n```\r\n\r\nThis query is extremely slow, as Hibernate creates a select query for each User. Is there any way to speed things up? Am I missing something? \r\n\r\nMy alternative approach would be to create a database view:\r\n\r\n\r\n```\r\nCREATE VIEW user_view AS SELECT user.user_id, group_names from user left outer join (select user_id, string_agg(group_name, &#39;,&#39;) group_names from user_group natural left join group GROUP BY user_id) AS g ON user.user_id = g.user_id;\r\n```\r\n\r\n\r\nIs there a way to do this efficiently with Hibernate? I&#39;m using Quarkus and Panache, but there is some Criteria code in place as well. \r\n\r\nI hope my example is easy to understand :)","title":"Hibernate creates SELECT query for each lazy loaded element in @ManyToMany relationship","body":"<p>I'm working on a PostgreSQL table USERS with 50k entries. A USER can have one or more GROUPs. These two tables are joined using a joining table USER_GROUP (with user_id and group_id). The relationship is defined as:</p>\n<pre><code>    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(name=&quot;user_group&quot;,\n            joinColumns={\n                    @JoinColumn(name=&quot;user_uid&quot;, referencedColumnName=&quot;user_uid&quot;)},\n            inverseJoinColumns={\n                    @JoinColumn(name=&quot;group_id&quot;, referencedColumnName=&quot;group_id&quot;)})\n    private Set&lt;GroupEntity&gt; groups = new HashSet&lt;&gt;();\n</code></pre>\n<p>On the real database, very few users have an assigned group. In one use-case, I need to query all users and their respective groups. The group name needs to be stored in a String. I load the groups with :</p>\n<pre><code>String groups = userList.add(String.join(&quot;,&quot;, user.getGroups().stream().map(Group::getName)                                                                  .collect(Collectors.toList())));\n</code></pre>\n<p>This query is extremely slow, as Hibernate creates a select query for each User. Is there any way to speed things up? Am I missing something?</p>\n<p>My alternative approach would be to create a database view:</p>\n<pre><code>CREATE VIEW user_view AS SELECT user.user_id, group_names from user left outer join (select user_id, string_agg(group_name, ',') group_names from user_group natural left join group GROUP BY user_id) AS g ON user.user_id = g.user_id;\n</code></pre>\n<p>Is there a way to do this efficiently with Hibernate? I'm using Quarkus and Panache, but there is some Criteria code in place as well.</p>\n<p>I hope my example is easy to understand :)</p>\n"},{"tags":["java","spring","spring-boot","properties","spring-boot-test"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1678697583,"post_id":75719541,"comment_id":133576875,"body_markdown":"Hi&amp;welcome! &quot;But, test code also use file_1 for setting.&quot; (I.m.o.) correct, they are &quot;combined/merged&quot;, where &quot;test&quot; has (higher) priority...","body":"Hi&amp;welcome! &quot;But, test code also use file_1 for setting.&quot; (I.m.o.) correct, they are &quot;combined/merged&quot;, where &quot;test&quot; has (higher) priority..."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1678697703,"post_id":75719541,"comment_id":133576901,"body_markdown":"Please explain: &quot;...VScode cannot apply&quot; (run/build config/terminal?)","body":"Please explain: &quot;...VScode cannot apply&quot; (run/build config/terminal?)"},{"owner":{"account_id":28003958,"reputation":1,"user_id":21387680,"display_name":"Lilac_P"},"score":0,"creation_date":1678698091,"post_id":75719541,"comment_id":133577021,"body_markdown":"@xerx593 I mean when i run test codes(which use beans in spring container) in VScode, i expected that spring boot uses &#39;src/test/resource/application.properties&#39; for settings(e.g. database connection setting, etc.). but it still uses &#39;src/main/resource/application.properties&#39; for settings.","body":"@xerx593 I mean when i run test codes(which use beans in spring container) in VScode, i expected that spring boot uses &#39;src/test/resource/application.properties&#39; for settings(e.g. database connection setting, etc.). but it still uses &#39;src/main/resource/application.properties&#39; for settings."},{"owner":{"account_id":28003958,"reputation":1,"user_id":21387680,"display_name":"Lilac_P"},"score":0,"creation_date":1678698281,"post_id":75719541,"comment_id":133577071,"body_markdown":"@xerx593 so, my question is why &#39;src/test/resource/application.properties&#39; is not used for springboot configuration of test code in VScode instead of &#39;src/main/resource/application.properties&#39;.","body":"@xerx593 so, my question is why &#39;src/test/resource/application.properties&#39; is not used for springboot configuration of test code in VScode instead of &#39;src/main/resource/application.properties&#39;."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1678706076,"post_id":75719541,"comment_id":133579310,"body_markdown":"`src/test/resources` or &quot;resource&quot; ?(plural or singular?) plural is correct/important (in maven/gradle defaults)","body":"<code>src&#47;test&#47;resources</code> or &quot;resource&quot; ?(plural or singular?) plural is correct/important (in maven/gradle defaults)"},{"owner":{"account_id":28003958,"reputation":1,"user_id":21387680,"display_name":"Lilac_P"},"score":0,"creation_date":1678708413,"post_id":75719541,"comment_id":133579918,"body_markdown":"@xerx593 &#39;resources&#39; is right. If you make springboot project with spring initializr, it&#39;s a default structure of project directory.","body":"@xerx593 &#39;resources&#39; is right. If you make springboot project with spring initializr, it&#39;s a default structure of project directory."}],"owner":{"account_id":28003958,"reputation":1,"user_id":21387680,"display_name":"Lilac_P"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":409,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678696619,"creation_date":1678696542,"question_id":75719541,"body_markdown":"Currently I&#39;m using VScode for spring boot project. \r\n\r\nI have a problem with application.properties of my spring boot project.\r\n\r\nThere are two &#39;application.properties&#39; files in my project.\r\n\r\n- file_1. src/main/resources/application.properties\r\n- file_2. src/test/resources/application.properties\r\n\r\nIn file_1, there is &quot;spring.profiles.active=local&quot; + some other properties for setting,&lt;br&gt;\r\nIn file_2, there is &quot;spring.profiles.active=test&quot; + some other properties for setting.\r\n\r\n* test code is integrated with springframework for using spring container by @SpringBootTest annotation.\r\n\r\n\r\n\r\n\r\nI expected that file_1 is used for main code, and file_2 for test code.\r\nBut, test code also use file_1 for setting.\r\n\r\nFor IntelliJ, there&#39;s no problem for above situation. Then, Why VScode cannot apply application.properties for each context(main, test)?\r\n\r\nIs there any solution for this situation?\r\n\r\nP.S Using @ActiveProfiles is not working for my situation. It only changes logs.","title":"application.properties of Spring Boot project in VSCODE","body":"<p>Currently I'm using VScode for spring boot project.</p>\n<p>I have a problem with application.properties of my spring boot project.</p>\n<p>There are two 'application.properties' files in my project.</p>\n<ul>\n<li>file_1. src/main/resources/application.properties</li>\n<li>file_2. src/test/resources/application.properties</li>\n</ul>\n<p>In file_1, there is &quot;spring.profiles.active=local&quot; + some other properties for setting,<br>\nIn file_2, there is &quot;spring.profiles.active=test&quot; + some other properties for setting.</p>\n<ul>\n<li>test code is integrated with springframework for using spring container by @SpringBootTest annotation.</li>\n</ul>\n<p>I expected that file_1 is used for main code, and file_2 for test code.\nBut, test code also use file_1 for setting.</p>\n<p>For IntelliJ, there's no problem for above situation. Then, Why VScode cannot apply application.properties for each context(main, test)?</p>\n<p>Is there any solution for this situation?</p>\n<p>P.S Using @ActiveProfiles is not working for my situation. It only changes logs.</p>\n"},{"tags":["java","m4a","java-audio"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1678696486,"post_id":75719472,"comment_id":133576623,"body_markdown":"https://stackoverflow.com/questions/33610055/check-audio-file-duration-in-java","body":"<a href=\"https://stackoverflow.com/questions/33610055/check-audio-file-duration-in-java\" title=\"check audio file duration in java\">stackoverflow.com/questions/33610055/&hellip;</a>"}],"owner":{"account_id":10894378,"reputation":737,"user_id":8008906,"display_name":"djy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678696613,"creation_date":1678695923,"question_id":75719472,"body_markdown":"I want to get duration in millisecond of a m4a file in java, how to do this ?\r\n\r\nI tried code below\r\n\r\n```java\r\n    public static long getAudioLength(File file) throws IOException, UnsupportedAudioFileException {\r\n        AudioFileFormat fileFormat = AudioSystem.getAudioFileFormat(file);\r\n        long frames = fileFormat.getFrameLength();\r\n        float frameRate = fileFormat.getFormat().getFrameRate();\r\n        return (long) (frames / frameRate * 1000);\r\n    }\r\n\r\n```\r\nIt throws: \r\n```\r\njavax.sound.sampled.UnsupportedAudioFileException: File of unsupported format\r\n\tat java.desktop/javax.sound.sampled.AudioSystem.getAudioFileFormat(AudioSystem.java:980) ~[na:na]\r\n\tat getAudioLength(AudioUtils.java:17) ~[classes/:na]\r\n\r\n```\r\n\r\nI am using JDK 11\r\n\r\n---\r\n\r\nResult of `javax.sound.sampled.AudioSystem#getAudioFileReaders()`, seems JDK lacks of a suitable default reader.\r\n\r\n```\r\n[com.sun.media.sound.WaveExtensibleFileReader@75cf5965,\r\n com.sun.media.sound.WaveFloatFileReader@309ae93,\r\n com.sun.media.sound.WaveFileReader@727c801f,\r\n com.sun.media.sound.SoftMidiAudioFileReader@84d1378,\r\n com.sun.media.sound.AuFileReader@7c67765,\r\n com.sun.media.sound.AiffFileReader@49753c38]\r\n```","title":"How to get duration in millisecond of a m4a file in java?","body":"<p>I want to get duration in millisecond of a m4a file in java, how to do this ?</p>\n<p>I tried code below</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static long getAudioLength(File file) throws IOException, UnsupportedAudioFileException {\n        AudioFileFormat fileFormat = AudioSystem.getAudioFileFormat(file);\n        long frames = fileFormat.getFrameLength();\n        float frameRate = fileFormat.getFormat().getFrameRate();\n        return (long) (frames / frameRate * 1000);\n    }\n\n</code></pre>\n<p>It throws:</p>\n<pre><code>javax.sound.sampled.UnsupportedAudioFileException: File of unsupported format\n    at java.desktop/javax.sound.sampled.AudioSystem.getAudioFileFormat(AudioSystem.java:980) ~[na:na]\n    at getAudioLength(AudioUtils.java:17) ~[classes/:na]\n\n</code></pre>\n<p>I am using JDK 11</p>\n<hr />\n<p>Result of <code>javax.sound.sampled.AudioSystem#getAudioFileReaders()</code>, seems JDK lacks of a suitable default reader.</p>\n<pre><code>[com.sun.media.sound.WaveExtensibleFileReader@75cf5965,\n com.sun.media.sound.WaveFloatFileReader@309ae93,\n com.sun.media.sound.WaveFileReader@727c801f,\n com.sun.media.sound.SoftMidiAudioFileReader@84d1378,\n com.sun.media.sound.AuFileReader@7c67765,\n com.sun.media.sound.AiffFileReader@49753c38]\n</code></pre>\n"},{"tags":["java","c#","java-8","lambda"],"answers":[{"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":2,"creation_date":1406887173,"post_id":25077379,"comment_id":39016210,"body_markdown":"You just need a `.map(n -&gt; (SpecificNode) n)` between the filter and the collector.","body":"You just need a <code>.map(n -&gt; (SpecificNode) n)</code> between the filter and the collector."},{"owner":{"account_id":1024781,"reputation":621,"user_id":1034343,"accept_rate":63,"display_name":"Petr Osipov"},"score":0,"creation_date":1406887630,"post_id":25077379,"comment_id":39016476,"body_markdown":"Thanks! It works, even if the entire construct is much longer then in C#, and thats a real pity ;(","body":"Thanks! It works, even if the entire construct is much longer then in C#, and thats a real pity ;("},{"owner":{"account_id":984212,"reputation":62352,"user_id":1003142,"display_name":"Konstantin Yovkov"},"score":0,"creation_date":1406887683,"post_id":25077379,"comment_id":39016512,"body_markdown":"@PetrOsipov, I am almost sure it can be shortened. I will research about that more. :)","body":"@PetrOsipov, I am almost sure it can be shortened. I will research about that more. :)"}],"tags":[],"owner":{"account_id":984212,"reputation":62352,"user_id":1003142,"display_name":"Konstantin Yovkov"},"comment_count":3,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1427706281,"creation_date":1406886433,"answer_id":25077379,"question_id":25077270,"body_markdown":"There is **no exact** match in Java for the `.OfType&lt;T&gt;()` method, but you can use the Java8&#39;s filtering features:\r\n\r\n    IList&lt;INode&gt; myNodes = new ArrayList&lt;INode&gt;();\r\n    myNodes.add(new SpecificNode());\r\n    myNodes.add(new OtherNode());\r\n    \r\n    List&lt;SpecificNode&gt; filteredList = myNodes.stream()\r\n                                             .filter(x -&gt; x instanceof SpecificNode)\r\n                                             .map(n -&gt; (SpecificNode) n)\r\n                                             .collect(Collectors.toList());\r\n\r\n If you want to get of the explicit cast, you can do:\r\n\r\n    List&lt;SpecificNode&gt; filteredList = myNodes.stream()\r\n                                                 .filter(SpecificNode.class::isInstance)\r\n                                                 .map(SpecificNode.class::cast)\r\n                                                 .collect(Collectors.toList());","title":"Java 8 Lambdas - equivalent of c# OfType","body":"<p>There is <strong>no exact</strong> match in Java for the <code>.OfType&lt;T&gt;()</code> method, but you can use the Java8's filtering features:</p>\n\n<pre><code>IList&lt;INode&gt; myNodes = new ArrayList&lt;INode&gt;();\nmyNodes.add(new SpecificNode());\nmyNodes.add(new OtherNode());\n\nList&lt;SpecificNode&gt; filteredList = myNodes.stream()\n                                         .filter(x -&gt; x instanceof SpecificNode)\n                                         .map(n -&gt; (SpecificNode) n)\n                                         .collect(Collectors.toList());\n</code></pre>\n\n<p>If you want to get of the explicit cast, you can do:</p>\n\n<pre><code>List&lt;SpecificNode&gt; filteredList = myNodes.stream()\n                                             .filter(SpecificNode.class::isInstance)\n                                             .map(SpecificNode.class::cast)\n                                             .collect(Collectors.toList());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1024781,"reputation":621,"user_id":1034343,"accept_rate":63,"display_name":"Petr Osipov"},"score":0,"creation_date":1406892356,"post_id":25079183,"comment_id":39019024,"body_markdown":"Definitely an option. Is there an equivalent of c#&#39;s extension methods in java? might be easier to do with them if existing...","body":"Definitely an option. Is there an equivalent of c#&#39;s extension methods in java? might be easier to do with them if existing..."},{"owner":{"account_id":2413237,"reputation":31164,"user_id":2107876,"accept_rate":88,"display_name":"laune"},"score":0,"creation_date":1406893003,"post_id":25079183,"comment_id":39019355,"body_markdown":"Trying to find feature f of language X in language Y is usually not the best approach. Beyond the trivial, each language provides (more or less) orthogonal sets of functions. Languages trying to cram everything in suffer from overweight.","body":"Trying to find feature f of language X in language Y is usually not the best approach. Beyond the trivial, each language provides (more or less) orthogonal sets of functions. Languages trying to cram everything in suffer from overweight."},{"owner":{"account_id":1821777,"reputation":6462,"user_id":1655674,"display_name":"Dave Doknjas"},"score":1,"creation_date":1406903513,"post_id":25079183,"comment_id":39025536,"body_markdown":"@PetrOsipov: It took Java years to catch up to C# on lambdas - it will be years more before it has extension methods, if at all. Java cannot be extended as quickly as C#.","body":"@PetrOsipov: It took Java years to catch up to C# on lambdas - it will be years more before it has extension methods, if at all. Java cannot be extended as quickly as C#."}],"tags":[],"owner":{"account_id":2413237,"reputation":31164,"user_id":2107876,"accept_rate":88,"display_name":"laune"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1406892181,"creation_date":1406892181,"answer_id":25079183,"question_id":25077270,"body_markdown":"You can create a Function containing the Stream pipeline, which reduces its invocation.\r\n\r\n        Function&lt;List&lt;INode&gt;,List&lt;SpecificNode&gt;&gt; ofSub =\r\n           bl -&gt; bl.stream()\r\n                   .filter(x -&gt; x instanceof SpecificNode)\r\n                   .map(n -&gt; (SpecificNode) n)\r\n                   .collect(Collectors.toList());\r\n\r\nFor instance:\r\n\r\n        for( SpecificNode s: ofSub.apply( myNodes ) ){\r\n             //...\r\n        }\r\n","title":"Java 8 Lambdas - equivalent of c# OfType","body":"<p>You can create a Function containing the Stream pipeline, which reduces its invocation.</p>\n\n<pre><code>    Function&lt;List&lt;INode&gt;,List&lt;SpecificNode&gt;&gt; ofSub =\n       bl -&gt; bl.stream()\n               .filter(x -&gt; x instanceof SpecificNode)\n               .map(n -&gt; (SpecificNode) n)\n               .collect(Collectors.toList());\n</code></pre>\n\n<p>For instance:</p>\n\n<pre><code>    for( SpecificNode s: ofSub.apply( myNodes ) ){\n         //...\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8403,"reputation":8487,"user_id":15127,"accept_rate":97,"display_name":"Andrew"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1409040543,"creation_date":1409034695,"answer_id":25499433,"question_id":25077270,"body_markdown":"I was having the same issue.  This is what I came up with, but since java doesn&#39;t do extension methods (maybe in 10 more years?), it is a static method.  This is using the stream API, though there isn&#39;t a particular reason you _must_ do that.  The same basic checks would work just fine in a `for` loop with a preallocated ArrayList.\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    private static &lt;T&gt; List&lt;T&gt; ofType(Class&lt;?&gt; out, List&lt;Object&gt; list) {\r\n        return list.stream().filter(x -&gt; out.isAssignableFrom(x.getClass()))\r\n                   .map(x -&gt; (T) x) // unchecked\r\n                   .collect(Collectors.toList());\r\n    }\r\n\r\n    // fyi this code uses &quot;boon&quot; library\r\n    List&lt;Object&gt; objlist = list(&quot;ABC&quot;, 3, &quot;def&quot;, -30.39); \r\n    puts(&quot;strings=&quot;, ofType(String.class, objlist));  // strings= [ABC, def] \r\n    puts(&quot;integers=&quot;, ofType(Integer.class, objlist)); // integers= [3]\r\n\r\n\r\nHere is the version that doesn&#39;t use streams.  It works just the same, but some of the fun with streams is that ... you might be able to stream them, if thats your kind of thing.  I don&#39;t find it  useful very often except for helpers like this.\r\n\r\n    private static &lt;T&gt; List&lt;T&gt; ofType(Class&lt;?&gt; out, List&lt;Object&gt; list) {\r\n        List&lt;T&gt; outList = new ArrayList&lt;T&gt;(list.size());\r\n        for(Object o : list) {\r\n            if ( out.isAssignableFrom(o.getClass())) {\r\n                outList.add((T)o);\r\n            }\r\n        }\r\n        return outList;\r\n    }\r\n\r\n\r\n    ","title":"Java 8 Lambdas - equivalent of c# OfType","body":"<p>I was having the same issue.  This is what I came up with, but since java doesn't do extension methods (maybe in 10 more years?), it is a static method.  This is using the stream API, though there isn't a particular reason you <em>must</em> do that.  The same basic checks would work just fine in a <code>for</code> loop with a preallocated ArrayList.</p>\n\n<pre><code>@SuppressWarnings(\"unchecked\")\nprivate static &lt;T&gt; List&lt;T&gt; ofType(Class&lt;?&gt; out, List&lt;Object&gt; list) {\n    return list.stream().filter(x -&gt; out.isAssignableFrom(x.getClass()))\n               .map(x -&gt; (T) x) // unchecked\n               .collect(Collectors.toList());\n}\n\n// fyi this code uses \"boon\" library\nList&lt;Object&gt; objlist = list(\"ABC\", 3, \"def\", -30.39); \nputs(\"strings=\", ofType(String.class, objlist));  // strings= [ABC, def] \nputs(\"integers=\", ofType(Integer.class, objlist)); // integers= [3]\n</code></pre>\n\n<p>Here is the version that doesn't use streams.  It works just the same, but some of the fun with streams is that ... you might be able to stream them, if thats your kind of thing.  I don't find it  useful very often except for helpers like this.</p>\n\n<pre><code>private static &lt;T&gt; List&lt;T&gt; ofType(Class&lt;?&gt; out, List&lt;Object&gt; list) {\n    List&lt;T&gt; outList = new ArrayList&lt;T&gt;(list.size());\n    for(Object o : list) {\n        if ( out.isAssignableFrom(o.getClass())) {\n            outList.add((T)o);\n        }\n    }\n    return outList;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2801755,"reputation":4423,"user_id":2409886,"accept_rate":90,"display_name":"Denis Itskovich"},"score":2,"creation_date":1562738806,"post_id":48424505,"comment_id":100465943,"body_markdown":"The best answer. Not understood why it&#39;s so underrated","body":"The best answer. Not understood why it&#39;s so underrated"},{"owner":{"account_id":216699,"reputation":2316,"user_id":472110,"accept_rate":60,"display_name":"niks"},"score":0,"creation_date":1649321534,"post_id":48424505,"comment_id":126847660,"body_markdown":"@DenisItskovich Because it is much slower then .filter().map(). It requires to create and concatenate lots of temporary streams. The method mapMulti (since Java 16) probably performs better, but I did not try it yet.","body":"@DenisItskovich Because it is much slower then .filter().map(). It requires to create and concatenate lots of temporary streams. The method mapMulti (since Java 16) probably performs better, but I did not try it yet."},{"owner":{"account_id":4902670,"reputation":13795,"user_id":3950370,"accept_rate":100,"display_name":"Lukas K&#246;rfer"},"score":0,"creation_date":1649340305,"post_id":48424505,"comment_id":126855145,"body_markdown":"@niks Did you check the performance? As I wrote in my answer, it may be possible that it is slower, but it&#39;s also possible that the cost of creating some minimal `Stream` instances (as returned by `Stream.of` and `Stream.empty`) is negligible compared to the cost of checking and casting all the instances.","body":"@niks Did you check the performance? As I wrote in my answer, it may be possible that it is slower, but it&#39;s also possible that the cost of creating some minimal <code>Stream</code> instances (as returned by <code>Stream.of</code> and <code>Stream.empty</code>) is negligible compared to the cost of checking and casting all the instances."},{"owner":{"account_id":216699,"reputation":2316,"user_id":472110,"accept_rate":60,"display_name":"niks"},"score":0,"creation_date":1661158448,"post_id":48424505,"comment_id":129696498,"body_markdown":"@LukasK&#246;rfer Yes I did. I&#39;ve come up with the very same idea myself when I was searching for an equivalent for the C# OfType&lt;T&gt;() and it turned out that it is too slow  (copared to filter().map()) to be used in productive code.","body":"@LukasK&#246;rfer Yes I did. I&#39;ve come up with the very same idea myself when I was searching for an equivalent for the C# OfType&lt;T&gt;() and it turned out that it is too slow  (copared to filter().map()) to be used in productive code."}],"tags":[],"owner":{"account_id":4902670,"reputation":13795,"user_id":3950370,"accept_rate":100,"display_name":"Lukas K&#246;rfer"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1516803398,"creation_date":1516803097,"answer_id":48424505,"question_id":25077270,"body_markdown":"Instead of first filtering and then mapping the stream to the desired target type, it is possible to do both in a single call to the stream via `flatMap` and this small helper function:\r\n\r\n    private static &lt;Target extends Base, Base&gt; Function&lt;Base, Stream&lt;Target&gt;&gt; ofType(Class&lt;Target&gt; targetType) {\r\n\t\treturn value -&gt; targetType.isInstance(value) ? Stream.of(targetType.cast(value)) : Stream.empty();\r\n\t}\r\n\r\nThis `Function` basically checks for a element if a cast is possible and then casts it, returning a stream with the single casted element or an empty stream if the cast was not possible.\r\n\r\n    Stream.of(1, 2, 3, &quot;Hallo&quot;, 4, 5, &quot;Welt&quot;)\r\n\t    .flatMap(ofType(String.class))\r\n\t\t.forEach(System.out::println);\r\n\r\nWith the help of a `flatMap` operation all returned streams can be  concatenated.\r\n\r\nI assume that a separated check and cast are easier to understand and maybe even faster in execution, this is just a prove of concept for a single stream operation.","title":"Java 8 Lambdas - equivalent of c# OfType","body":"<p>Instead of first filtering and then mapping the stream to the desired target type, it is possible to do both in a single call to the stream via <code>flatMap</code> and this small helper function:</p>\n\n<pre><code>private static &lt;Target extends Base, Base&gt; Function&lt;Base, Stream&lt;Target&gt;&gt; ofType(Class&lt;Target&gt; targetType) {\n    return value -&gt; targetType.isInstance(value) ? Stream.of(targetType.cast(value)) : Stream.empty();\n}\n</code></pre>\n\n<p>This <code>Function</code> basically checks for a element if a cast is possible and then casts it, returning a stream with the single casted element or an empty stream if the cast was not possible.</p>\n\n<pre><code>Stream.of(1, 2, 3, \"Hallo\", 4, 5, \"Welt\")\n    .flatMap(ofType(String.class))\n    .forEach(System.out::println);\n</code></pre>\n\n<p>With the help of a <code>flatMap</code> operation all returned streams can be  concatenated.</p>\n\n<p>I assume that a separated check and cast are easier to understand and maybe even faster in execution, this is just a prove of concept for a single stream operation.</p>\n"},{"tags":[],"owner":{"account_id":18823,"reputation":12708,"user_id":43534,"accept_rate":68,"display_name":"Miral"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678696379,"creation_date":1678696379,"answer_id":75719523,"question_id":25077270,"body_markdown":"FYI Java 16 introduces `mapMulti`, which is claimed to be faster than [the `flatMap` answer](https://stackoverflow.com/a/48424505/43534) in the Java docs, although at least one implementation internally calls `flatMap`, so I am somewhat dubious.  I have not tested its performance, but being a one-liner at point of use is attractive.\r\n\r\n```\r\nStream.of(1, 2, 3, &quot;Hallo&quot;, 4, 5, &quot;Welt&quot;)\r\n    .mapMulti(ofType(String.class))\r\n    .forEach(System.out::println);\r\n```\r\n\r\n```\r\npublic static &lt;T, U&gt; BiConsumer&lt;T, Consumer&lt;U&gt;&gt; ofType(final Class&lt;U&gt; clazz) {\r\n    return (obj, consumer) -&gt; {\r\n        if (clazz.isAssignableFrom(obj.getClass())) {\r\n            consumer.accept(clazz.cast(obj));\r\n        }\r\n    };\r\n}\r\n```","title":"Java 8 Lambdas - equivalent of c# OfType","body":"<p>FYI Java 16 introduces <code>mapMulti</code>, which is claimed to be faster than <a href=\"https://stackoverflow.com/a/48424505/43534\">the <code>flatMap</code> answer</a> in the Java docs, although at least one implementation internally calls <code>flatMap</code>, so I am somewhat dubious.  I have not tested its performance, but being a one-liner at point of use is attractive.</p>\n<pre><code>Stream.of(1, 2, 3, &quot;Hallo&quot;, 4, 5, &quot;Welt&quot;)\n    .mapMulti(ofType(String.class))\n    .forEach(System.out::println);\n</code></pre>\n<pre><code>public static &lt;T, U&gt; BiConsumer&lt;T, Consumer&lt;U&gt;&gt; ofType(final Class&lt;U&gt; clazz) {\n    return (obj, consumer) -&gt; {\n        if (clazz.isAssignableFrom(obj.getClass())) {\n            consumer.accept(clazz.cast(obj));\n        }\n    };\n}\n</code></pre>\n"}],"owner":{"account_id":1024781,"reputation":621,"user_id":1034343,"accept_rate":63,"display_name":"Petr Osipov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2925,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":25077379,"answer_count":5,"score":15,"last_activity_date":1678696379,"creation_date":1406886087,"question_id":25077270,"body_markdown":"I am learning the new java 8 features now, after 4 years exclusively in C# world, so lambdas are on top for me. I am now struggling to find an equivalent for C#&#39;s &quot;OfType&quot; method.\r\n\r\nWhat I have is a List&lt;Node&gt; myNodes , I want to get a List&lt;SpecificNode&gt; out of it, where Node is an interface, and SpecificNode is implementing it. \r\n\r\nIn C# it would be\r\n\r\n    IList&lt;INode&gt; myNodes = new List&lt;INodes&gt;(){new SpecificNode(), new OtherNode()}\r\n    IList&lt;SpecificNode&gt; specificNodes = myNodes.OfType&lt;SpecificNode&gt;()","title":"Java 8 Lambdas - equivalent of c# OfType","body":"<p>I am learning the new java 8 features now, after 4 years exclusively in C# world, so lambdas are on top for me. I am now struggling to find an equivalent for C#'s \"OfType\" method.</p>\n\n<p>What I have is a List myNodes , I want to get a List out of it, where Node is an interface, and SpecificNode is implementing it. </p>\n\n<p>In C# it would be</p>\n\n<pre><code>IList&lt;INode&gt; myNodes = new List&lt;INodes&gt;(){new SpecificNode(), new OtherNode()}\nIList&lt;SpecificNode&gt; specificNodes = myNodes.OfType&lt;SpecificNode&gt;()\n</code></pre>\n"},{"tags":["java","spring","dependency-injection"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1678694357,"post_id":75719239,"comment_id":133576167,"body_markdown":"in order to have more than one bean for a single type: use Qualifier. to choose between them you can always implement a Factory pattern","body":"in order to have more than one bean for a single type: use Qualifier. to choose between them you can always implement a Factory pattern"},{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":0,"creation_date":1678694421,"post_id":75719239,"comment_id":133576183,"body_markdown":"@Stultuske - while this is true, you can&#39;t use it if you want to do it dynamically at runtime.","body":"@Stultuske - while this is true, you can&#39;t use it if you want to do it dynamically at runtime."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1678697937,"post_id":75719239,"comment_id":133576977,"body_markdown":"The post construct is the wrong place to do this, instead use an `ApplicationContextInitializer`. Finally you shouldn&#39;t be adding bean instances but register `BeanDefinition` instances, so that Spring will create the beans for you. You can use the `registerBeanDefinition` method for this.","body":"The post construct is the wrong place to do this, instead use an <code>ApplicationContextInitializer</code>. Finally you shouldn&#39;t be adding bean instances but register <code>BeanDefinition</code> instances, so that Spring will create the beans for you. You can use the <code>registerBeanDefinition</code> method for this."}],"answers":[{"tags":[],"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678695118,"creation_date":1678695118,"answer_id":75719359,"question_id":75719239,"body_markdown":"Maybe there is a better way to do it, but how I&#39;ve done it up to now is by creating a `MyClassProxy` and creating a bean of that. Something like this:\r\n\r\n```\r\npublic class MyClassProxy extends MyClass {\r\n\r\n  private final List&lt;MyClass&gt; impls;\r\n\r\n  public MyClassProxy(List&lt;MyClass&gt; impls) {\r\n    super(&quot;proxy-instance&quot;);\r\n    this.impls = impls;\r\n  }\r\n\r\n  public doSomething() {\r\n     //... pick correct impl and delegate to it.\r\n  }\r\n}\r\n```\r\n\r\nThen you can register only one bean (this proxy) and use this where needed.\r\n\r\nImplementation details can vary depending on your use case. For example the proxy itself might not extend `MyClass`. It depends.","title":"How to dynamically register multiple beans of the same class in spring","body":"<p>Maybe there is a better way to do it, but how I've done it up to now is by creating a <code>MyClassProxy</code> and creating a bean of that. Something like this:</p>\n<pre><code>public class MyClassProxy extends MyClass {\n\n  private final List&lt;MyClass&gt; impls;\n\n  public MyClassProxy(List&lt;MyClass&gt; impls) {\n    super(&quot;proxy-instance&quot;);\n    this.impls = impls;\n  }\n\n  public doSomething() {\n     //... pick correct impl and delegate to it.\n  }\n}\n</code></pre>\n<p>Then you can register only one bean (this proxy) and use this where needed.</p>\n<p>Implementation details can vary depending on your use case. For example the proxy itself might not extend <code>MyClass</code>. It depends.</p>\n"},{"tags":[],"owner":{"account_id":6634565,"reputation":617,"user_id":5122077,"accept_rate":56,"display_name":"JavaLearner1"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678696253,"creation_date":1678696253,"answer_id":75719511,"question_id":75719239,"body_markdown":"Maybe we can try BeanFactoryPostProcessor, Where we can define bean names separately\r\n    \r\n    @Component\r\n    public class MyClassService implements BeanFactoryPostProcessor {\r\n\r\n    @Override\r\n    public void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) \r\n    {\r\n\r\n     BeanDefinitionRegistry registry = (BeanDefinitionRegistry) beanFactory;\r\n     \r\n     registry.registerBeanDefinition(&quot;MyClass1&quot;, BeanDefinitionBuilder\r\n           .genericBeanDefinition(MyClass.class)\r\n           . getBeanDefinition();\r\n\r\n     registry.registerBeanDefinition(&quot;MyClass2&quot;, BeanDefinitionBuilder\r\n           .genericBeanDefinition(MyClass.class)\r\n           . getBeanDefinition();\r\n    }\r\n\r\n\r\n    }","title":"How to dynamically register multiple beans of the same class in spring","body":"<p>Maybe we can try BeanFactoryPostProcessor, Where we can define bean names separately</p>\n<pre><code>@Component\npublic class MyClassService implements BeanFactoryPostProcessor {\n\n@Override\npublic void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) \n{\n\n BeanDefinitionRegistry registry = (BeanDefinitionRegistry) beanFactory;\n \n registry.registerBeanDefinition(&quot;MyClass1&quot;, BeanDefinitionBuilder\n       .genericBeanDefinition(MyClass.class)\n       . getBeanDefinition();\n\n registry.registerBeanDefinition(&quot;MyClass2&quot;, BeanDefinitionBuilder\n       .genericBeanDefinition(MyClass.class)\n       . getBeanDefinition();\n}\n\n\n}\n</code></pre>\n"}],"owner":{"account_id":8517137,"reputation":835,"user_id":6385232,"display_name":"geanakuch"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":661,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75719511,"answer_count":2,"score":0,"last_activity_date":1678696253,"creation_date":1678694173,"question_id":75719239,"body_markdown":"I have a spring boot application in which I work with multiple beans of the same class (or interface). Usually I would do it like this:\r\n\r\n    public class MyClass {\r\n      private final String id;\r\n      \r\n      public MyClass(String id) {\r\n        this.id = id;\r\n      }\r\n    }\r\n    \r\n    @Configuration\r\n    public class Config {\r\n      \r\n      @Bean\r\n      public MyClass bean1() {\r\n        return new MyClass(&quot;some-id&quot;);\r\n      }\r\n    \r\n      @Bean\r\n      public MyClass bean2() {\r\n        return new MyClass(&quot;other-id&quot;);\r\n      }\r\n    }\r\n\r\nBut now I create those beans from json files on the classpath, so I have to create them dynamically. First approach was to simply use a ```List&lt;MyClass&gt;``` like this:\r\n\r\n    @Bean\r\n    public List&lt;MyClass&gt; beans() {\r\n      List&lt;MyClass&gt; instances = createInstancesFromClasspath();\r\n      return instances;\r\n    }\r\n\r\nHowever this registers the beans under the ```List``` interface, while creating separate beans registers multiple beans und the ```MyClass``` class.\r\nThis will work when injecting via ```@Autowired``` but i will cause problems when using\r\n\r\n    applicationContext.getBeansOfType(MyClass.class);\r\n\r\nbecause I would have to use List.class which is not very helpful because it&#39;s too generic.\r\n\r\nSo next I tried this:\r\n\r\n    @PostConstruct\r\n    public registerBeans() {\r\n      List&lt;MyClass&gt; instances = createInstancesFromClasspath();\r\n      for(MyClass instance : instances) {\r\n        applicationContext.registerBean(MyClass.class, () -&gt; instance);\r\n      }\r\n    }\r\n\r\nBut this throws an exception as soon as it gets to the second instance. So my question is how can I register a second bean for the same class? It has to be possible because it works when using annotations, so I feel I&#39;m just not using the right method.","title":"How to dynamically register multiple beans of the same class in spring","body":"<p>I have a spring boot application in which I work with multiple beans of the same class (or interface). Usually I would do it like this:</p>\n<pre><code>public class MyClass {\n  private final String id;\n  \n  public MyClass(String id) {\n    this.id = id;\n  }\n}\n\n@Configuration\npublic class Config {\n  \n  @Bean\n  public MyClass bean1() {\n    return new MyClass(&quot;some-id&quot;);\n  }\n\n  @Bean\n  public MyClass bean2() {\n    return new MyClass(&quot;other-id&quot;);\n  }\n}\n</code></pre>\n<p>But now I create those beans from json files on the classpath, so I have to create them dynamically. First approach was to simply use a <code>List&lt;MyClass&gt;</code> like this:</p>\n<pre><code>@Bean\npublic List&lt;MyClass&gt; beans() {\n  List&lt;MyClass&gt; instances = createInstancesFromClasspath();\n  return instances;\n}\n</code></pre>\n<p>However this registers the beans under the <code>List</code> interface, while creating separate beans registers multiple beans und the <code>MyClass</code> class.\nThis will work when injecting via <code>@Autowired</code> but i will cause problems when using</p>\n<pre><code>applicationContext.getBeansOfType(MyClass.class);\n</code></pre>\n<p>because I would have to use List.class which is not very helpful because it's too generic.</p>\n<p>So next I tried this:</p>\n<pre><code>@PostConstruct\npublic registerBeans() {\n  List&lt;MyClass&gt; instances = createInstancesFromClasspath();\n  for(MyClass instance : instances) {\n    applicationContext.registerBean(MyClass.class, () -&gt; instance);\n  }\n}\n</code></pre>\n<p>But this throws an exception as soon as it gets to the second instance. So my question is how can I register a second bean for the same class? It has to be possible because it works when using annotations, so I feel I'm just not using the right method.</p>\n"},{"tags":["java","spring-boot","maven","liquibase","vaadin-flow"],"comments":[{"owner":{"account_id":2375368,"reputation":4423,"user_id":2078908,"display_name":"ursa"},"score":0,"creation_date":1678706487,"post_id":75719369,"comment_id":133579415,"body_markdown":"(a) in multi-module project dependency management section should be declared in the root pom.xml. (b) declare fixed version `&lt;version&gt;[4.18.0]&lt;/version&gt;` in dependency management section and skip version declaration in child projects.","body":"(a) in multi-module project dependency management section should be declared in the root pom.xml. (b) declare fixed version <code>&lt;version&gt;[4.18.0]&lt;&#47;version&gt;</code> in dependency management section and skip version declaration in child projects."},{"owner":{"account_id":2525081,"reputation":1,"user_id":2194608,"display_name":"Szyu"},"score":0,"creation_date":1678709657,"post_id":75719369,"comment_id":133580280,"body_markdown":"(A) is my root project and it&#39;s the only pom where dependencyManagement is declared.\nI only tried to declare the version in the other poms because of the weird behaviour I described above.","body":"(A) is my root project and it&#39;s the only pom where dependencyManagement is declared. I only tried to declare the version in the other poms because of the weird behaviour I described above."}],"owner":{"account_id":2525081,"reputation":1,"user_id":2194608,"display_name":"Szyu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678695174,"creation_date":1678695174,"question_id":75719369,"body_markdown":"I&#39;ve got a multi-module project set up using maven and Spring Boot. For database migration I&#39;m using Liquibase, but not the Spring Boot integration. I specify my changelogs in code and update the database using new Liquibase().update().\r\n\r\n\r\n```\r\nLiquibase l = new Liquibase(changelogPath, accessor, database);\r\n    l.validate();\r\n    l.update(new Contexts());\r\n```\r\n\r\n    \r\nMy multi-module project ist structured like this:\r\n- parent project (A): specifies dependencies inside &lt;dependencyManagement&gt;\r\n- core (B): sub module of A with some code\r\n- application (C): seperate project, that has B as a dependency\r\n\r\nInside A, I have the following dependency management:\r\n\r\n    \r\n```\r\n&lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;version&gt;1.18.24&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n                &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\r\n                &lt;version&gt;4.18.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n```\r\n\r\n\r\n\r\nHowever, when starting C, I get the exception:\r\n\r\n```\r\nliquibase.exception.ChangeLogParseException: liquibase.parser.core.xml.XSDLookUpException: Unable to resolve xml entity http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-latest.xsd locally\r\n```\r\n\r\n\r\nAfter some research, that seems to be the case with liquibase versions lower that 4.12.0. So I checked my dependency tree for project C with IntelliJ tools and found out, that for some reason, C is getting liquibase in version 4.9.1 via dependency of module B and I have no clue why. I also tried to specify version 4.18.0 inside B with no success. When also declaring the version for project C, I get something even weirder:\r\n\r\n[Dependency Analyzer for C](https://i.stack.imgur.com/ZEgLD.png)\r\n\r\n[POM in module B](https://i.stack.imgur.com/6uct9.png)\r\n\r\n[Dependency tree of B inside A](https://i.stack.imgur.com/c4vNW.png)\r\n\r\nHas anyone else had this problem and can provide some inside and solution?\r\n","title":"Dependency version not correct in multi-module project","body":"<p>I've got a multi-module project set up using maven and Spring Boot. For database migration I'm using Liquibase, but not the Spring Boot integration. I specify my changelogs in code and update the database using new Liquibase().update().</p>\n<pre><code>Liquibase l = new Liquibase(changelogPath, accessor, database);\n    l.validate();\n    l.update(new Contexts());\n</code></pre>\n<p>My multi-module project ist structured like this:</p>\n<ul>\n<li>parent project (A): specifies dependencies inside </li>\n<li>core (B): sub module of A with some code</li>\n<li>application (C): seperate project, that has B as a dependency</li>\n</ul>\n<p>Inside A, I have the following dependency management:</p>\n<pre><code>&lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                &lt;version&gt;1.18.24&lt;/version&gt;\n                &lt;scope&gt;provided&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n                &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\n                &lt;version&gt;4.18.0&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n</code></pre>\n<p>However, when starting C, I get the exception:</p>\n<pre><code>liquibase.exception.ChangeLogParseException: liquibase.parser.core.xml.XSDLookUpException: Unable to resolve xml entity http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-latest.xsd locally\n</code></pre>\n<p>After some research, that seems to be the case with liquibase versions lower that 4.12.0. So I checked my dependency tree for project C with IntelliJ tools and found out, that for some reason, C is getting liquibase in version 4.9.1 via dependency of module B and I have no clue why. I also tried to specify version 4.18.0 inside B with no success. When also declaring the version for project C, I get something even weirder:</p>\n<p><a href=\"https://i.stack.imgur.com/ZEgLD.png\" rel=\"nofollow noreferrer\">Dependency Analyzer for C</a></p>\n<p><a href=\"https://i.stack.imgur.com/6uct9.png\" rel=\"nofollow noreferrer\">POM in module B</a></p>\n<p><a href=\"https://i.stack.imgur.com/c4vNW.png\" rel=\"nofollow noreferrer\">Dependency tree of B inside A</a></p>\n<p>Has anyone else had this problem and can provide some inside and solution?</p>\n"},{"tags":["java","java-11","timezone-offset","tzdata"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1675677404,"post_id":75359690,"comment_id":132973333,"body_markdown":"On OpenJDK 17, I get the expected output.","body":"On OpenJDK 17, I get the expected output."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1675677633,"post_id":75359690,"comment_id":132973418,"body_markdown":"@Sweeper Which exact version? This might very well have to do with timezone DB changes, which can vary by point release (e.g. I have the &quot;wrong&quot; output with Temurin 17.0.6.10).","body":"@Sweeper Which exact version? This might very well have to do with timezone DB changes, which can vary by point release (e.g. I have the &quot;wrong&quot; output with Temurin 17.0.6.10)."},{"owner":{"account_id":1804401,"reputation":1448,"user_id":1641860,"display_name":"JeroenHoek"},"score":1,"creation_date":1675677813,"post_id":75359690,"comment_id":132973475,"body_markdown":"Timezone database versions per JDK version: https://www.oracle.com/java/technologies/tzdata-versions.html","body":"Timezone database versions per JDK version: <a href=\"https://www.oracle.com/java/technologies/tzdata-versions.html\" rel=\"nofollow noreferrer\">oracle.com/java/technologies/tzdata-versions.html</a>"},{"owner":{"account_id":1804401,"reputation":1448,"user_id":1641860,"display_name":"JeroenHoek"},"score":0,"creation_date":1675681022,"post_id":75359690,"comment_id":132974471,"body_markdown":"@OleV.V. The thing here though is that a *newer* version of the JDK, and the timezone database are giving different behaviour.","body":"@OleV.V. The thing here though is that a <i>newer</i> version of the JDK, and the timezone database are giving different behaviour."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1675682012,"post_id":75359690,"comment_id":132974723,"body_markdown":"I checked a few versions of the tzdb and found that the amsterdam zone got moved from the europe file to the backzone file. Other than that, I couldn&#39;t find any significant changes on the versions I checked (all 2020a+). It might be helpful if you can [specify what version of tzdb you are using.](https://stackoverflow.com/a/41775223/5133585)","body":"I checked a few versions of the tzdb and found that the amsterdam zone got moved from the europe file to the backzone file. Other than that, I couldn&#39;t find any significant changes on the versions I checked (all 2020a+). It might be helpful if you can <a href=\"https://stackoverflow.com/a/41775223/5133585\">specify what version of tzdb you are using.</a>"},{"owner":{"account_id":27714745,"reputation":163,"user_id":21156710,"display_name":"Bastiaan Sanders"},"score":0,"creation_date":1675684165,"post_id":75359690,"comment_id":132975305,"body_markdown":"@Sweeper, I&#39;ve edited the question with extra information regarding timezone database versions.","body":"@Sweeper, I&#39;ve edited the question with extra information regarding timezone database versions."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1675685029,"post_id":75359690,"comment_id":132975545,"body_markdown":"Okay, I found it. It is [this line in this commit](https://github.com/eggert/tz/commit/0b925f6d8aaf927ac20049ae0ff3b527684b60c7#diff-b11f203e8e6ce90d0ab5a01a37ac248669987afb2a50fe0224fa8b8c5c985a73R964). They basically made Amsterdam an alias of Brussels because they share the same times post-1970. 2022b was the first version this change was applied to, it seems.","body":"Okay, I found it. It is <a href=\"https://github.com/eggert/tz/commit/0b925f6d8aaf927ac20049ae0ff3b527684b60c7#diff-b11f203e8e6ce90d0ab5a01a37ac248669987afb2a50fe0224fa8b8c5c985a73R964\" rel=\"nofollow noreferrer\">this line in this commit</a>. They basically made Amsterdam an alias of Brussels because they share the same times post-1970. 2022b was the first version this change was applied to, it seems."},{"owner":{"account_id":1804401,"reputation":1448,"user_id":1641860,"display_name":"JeroenHoek"},"score":0,"creation_date":1675685315,"post_id":75359690,"comment_id":132975625,"body_markdown":"@Sweeper We (I&#39;m a colleague of Bastiaan) suspected that that change might be relevant, but I figured that the move of that data to `backzone` was just administrative; not that it would actually change behaviour downstream! It seems like rather an impactful thing if it is.","body":"@Sweeper We (I&#39;m a colleague of Bastiaan) suspected that that change might be relevant, but I figured that the move of that data to <code>backzone</code> was just administrative; not that it would actually change behaviour downstream! It seems like rather an impactful thing if it is."},{"owner":{"account_id":1804401,"reputation":1448,"user_id":1641860,"display_name":"JeroenHoek"},"score":1,"creation_date":1675685827,"post_id":75359690,"comment_id":132975769,"body_markdown":"I&#39;ve found a related issue thread for the Corretto JDK here: https://github.com/corretto/corretto-17/issues/100","body":"I&#39;ve found a related issue thread for the Corretto JDK here: <a href=\"https://github.com/corretto/corretto-17/issues/100\" rel=\"nofollow noreferrer\">github.com/corretto/corretto-17/issues/100</a>"}],"answers":[{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":3,"creation_date":1675695029,"post_id":75361346,"comment_id":132978671,"body_markdown":"Thanks. You may want to spell out the workaround from Coretto in the answer itself since this seems to be short-term safest and least hacky solution and since I am not sure whether the comment on the Corretto issue  will stay for the lifetime of Stack Overflow.","body":"Thanks. You may want to spell out the workaround from Coretto in the answer itself since this seems to be short-term safest and least hacky solution and since I am not sure whether the comment on the Corretto issue  will stay for the lifetime of Stack Overflow."}],"tags":[],"owner":{"account_id":1804401,"reputation":1448,"user_id":1641860,"display_name":"JeroenHoek"},"comment_count":1,"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1678694968,"creation_date":1675686664,"answer_id":75361346,"question_id":75359690,"body_markdown":"*Disclaimer: I&#39;m a colleague of OP. This issue has half the office baffled.*\r\n\r\nHelped along by comments by @Sweeper below the question, I think we&#39;ve found the cause.\r\n\r\n# Background\r\n\r\nThe venerable Timezone Database [did some housecleaning](https://github.com/eggert/tz/commit/0b925f6d8aaf927ac20049ae0ff3b527684b60c7#diff-b11f203e8e6ce90d0ab5a01a37ac248669987afb2a50fe0224fa8b8c5c985a73R964) in 2022, and archived a lot of pre-1970 timezone data in their `backzone` file for version `2022b`. This allowed them to merge, for example, `Europe/Brussels` and `Europe/Amsterdam` in the leaner post-1970 database (because after 1970, these are in fact equal).\r\n\r\nThey also introduced a special option (`PACKRATLIST`) for building the timezone database **with** the historic timezones intact.\r\n\r\nOpenJDK updated to the new version of the Timezone Database, but chose to use the version without historical data, and subsequently, [some developers noticed things breaking](https://github.com/corretto/corretto-17/issues/100).\r\n\r\n[The relevant OpenJDK bug](https://bugs.openjdk.org/browse/JDK-8292223) however currently lists supporting the `backzone` as **won&#39;t fix**. \r\n\r\n# Affected JDK&#39;s\r\n\r\n* Java 11 from 11.0.17 onwards.\r\n* Java 17 from 17.0.5 onwards.\r\n\r\n# Possible solutions\r\n\r\n* Perhaps newer JDK&#39;s will fix this after all? [Unknown at this moment.](https://bugs.openjdk.org/browse/JDK-8303899)\r\n* Alternatively, use the newer JDK&#39;s, but apply [this workaround](https://github.com/corretto/corretto-17/issues/100#issuecomment-1287485126) to install an older version (`2022a`) of the Timezone Database instead.\r\n* Or, rewrite all code that depends on this historical data, possibly by hardcoding the relevant timezone offsets if it is a limited set.","title":"Historic timezone offsets in newer JDK versions","body":"<p><em>Disclaimer: I'm a colleague of OP. This issue has half the office baffled.</em></p>\n<p>Helped along by comments by @Sweeper below the question, I think we've found the cause.</p>\n<h1>Background</h1>\n<p>The venerable Timezone Database <a href=\"https://github.com/eggert/tz/commit/0b925f6d8aaf927ac20049ae0ff3b527684b60c7#diff-b11f203e8e6ce90d0ab5a01a37ac248669987afb2a50fe0224fa8b8c5c985a73R964\" rel=\"nofollow noreferrer\">did some housecleaning</a> in 2022, and archived a lot of pre-1970 timezone data in their <code>backzone</code> file for version <code>2022b</code>. This allowed them to merge, for example, <code>Europe/Brussels</code> and <code>Europe/Amsterdam</code> in the leaner post-1970 database (because after 1970, these are in fact equal).</p>\n<p>They also introduced a special option (<code>PACKRATLIST</code>) for building the timezone database <strong>with</strong> the historic timezones intact.</p>\n<p>OpenJDK updated to the new version of the Timezone Database, but chose to use the version without historical data, and subsequently, <a href=\"https://github.com/corretto/corretto-17/issues/100\" rel=\"nofollow noreferrer\">some developers noticed things breaking</a>.</p>\n<p><a href=\"https://bugs.openjdk.org/browse/JDK-8292223\" rel=\"nofollow noreferrer\">The relevant OpenJDK bug</a> however currently lists supporting the <code>backzone</code> as <strong>won't fix</strong>.</p>\n<h1>Affected JDK's</h1>\n<ul>\n<li>Java 11 from 11.0.17 onwards.</li>\n<li>Java 17 from 17.0.5 onwards.</li>\n</ul>\n<h1>Possible solutions</h1>\n<ul>\n<li>Perhaps newer JDK's will fix this after all? <a href=\"https://bugs.openjdk.org/browse/JDK-8303899\" rel=\"nofollow noreferrer\">Unknown at this moment.</a></li>\n<li>Alternatively, use the newer JDK's, but apply <a href=\"https://github.com/corretto/corretto-17/issues/100#issuecomment-1287485126\" rel=\"nofollow noreferrer\">this workaround</a> to install an older version (<code>2022a</code>) of the Timezone Database instead.</li>\n<li>Or, rewrite all code that depends on this historical data, possibly by hardcoding the relevant timezone offsets if it is a limited set.</li>\n</ul>\n"}],"owner":{"account_id":27714745,"reputation":163,"user_id":21156710,"display_name":"Bastiaan Sanders"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":831,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":75361346,"answer_count":1,"score":16,"last_activity_date":1678694968,"creation_date":1675676935,"question_id":75359690,"body_markdown":"I found a weird java discrepancy while testing some timezones with the use of `ZonedDateTime`. I was trying to parse a date before 1970 and saw that the result changes between java versions. The offset for Netherlands in 1932 is `+00:19`. Does anyone know why this happens? I feel this might be related with the bundling of european timezones in the time zone database project (https://github.com/eggert/tz), but i&#39;m not sure. Is there a way to get the old behavior in java? Like with a setting?\r\n\r\n\r\n```java\r\n\r\nZonedDateTime zdt = LocalDateTime.parse(&quot;1932-10-20T10:19:32.000&quot;).atZone(ZoneId.of(&quot;Europe/Amsterdam&quot;));\r\nSystem.out.println(zdt);\r\n    \r\nDateTimeFormatter formatter = new DateTimeFormatterBuilder()\r\n    .append(ISO_LOCAL_DATE)\r\n    .appendLiteral(&#39;T&#39;)\r\n    .appendValue(HOUR_OF_DAY, 2)\r\n    .appendLiteral(&#39;:&#39;)\r\n    .appendValue(MINUTE_OF_HOUR, 2)\r\n    .optionalStart()\r\n    .appendLiteral(&#39;:&#39;)\r\n    .appendValue(SECOND_OF_MINUTE, 2)\r\n    .optionalStart()\r\n    .appendFraction(NANO_OF_SECOND, 3, 3, true)\r\n    .appendOffset(&quot;+HH:MM&quot;, &quot;Z&quot;)\r\n    .toFormatter();\r\n\r\nSystem.out.println(formatter.format(zdt));\r\n\r\nSystem.out.println(\r\n    java.time.zone.ZoneRulesProvider\r\n                  .getVersions(&quot;UTC&quot;)\r\n                  .lastEntry()\r\n                  .getKey()\r\n);\r\n```\r\n\r\nResult in Temurin (java jdk) 11.0.16 (expected output), last line showing timezone database version:\r\n\r\n```\r\n1932-10-20T10:19:32+00:19:32[Europe/Amsterdam]\r\n1932-10-20T10:19:32.000+00:19\r\n2022a\r\n```\r\n\r\nResult in Temurin 11.0.17:\r\n\r\n```\r\n1932-10-20T10:19:32Z[Europe/Amsterdam]\r\n1932-10-20T10:19:32.000Z\r\n2022c\r\n```\r\n\r\n**Edit**: Also an issue in JDK 17 starting from 17.0.5:\r\n\r\nTemurin 17.0.4:\r\n\r\n```\r\n1932-10-20T10:19:32+00:19:32[Europe/Amsterdam]\r\n1932-10-20T10:19:32.000+00:19\r\n2022a\r\n```\r\n\r\nTemurin 17.0.5:\r\n\r\n```\r\n1932-10-20T10:19:32Z[Europe/Amsterdam]\r\n1932-10-20T10:19:32.000Z\r\n2022c\r\n```","title":"Historic timezone offsets in newer JDK versions","body":"<p>I found a weird java discrepancy while testing some timezones with the use of <code>ZonedDateTime</code>. I was trying to parse a date before 1970 and saw that the result changes between java versions. The offset for Netherlands in 1932 is <code>+00:19</code>. Does anyone know why this happens? I feel this might be related with the bundling of european timezones in the time zone database project (<a href=\"https://github.com/eggert/tz\" rel=\"noreferrer\">https://github.com/eggert/tz</a>), but i'm not sure. Is there a way to get the old behavior in java? Like with a setting?</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nZonedDateTime zdt = LocalDateTime.parse(&quot;1932-10-20T10:19:32.000&quot;).atZone(ZoneId.of(&quot;Europe/Amsterdam&quot;));\nSystem.out.println(zdt);\n    \nDateTimeFormatter formatter = new DateTimeFormatterBuilder()\n    .append(ISO_LOCAL_DATE)\n    .appendLiteral('T')\n    .appendValue(HOUR_OF_DAY, 2)\n    .appendLiteral(':')\n    .appendValue(MINUTE_OF_HOUR, 2)\n    .optionalStart()\n    .appendLiteral(':')\n    .appendValue(SECOND_OF_MINUTE, 2)\n    .optionalStart()\n    .appendFraction(NANO_OF_SECOND, 3, 3, true)\n    .appendOffset(&quot;+HH:MM&quot;, &quot;Z&quot;)\n    .toFormatter();\n\nSystem.out.println(formatter.format(zdt));\n\nSystem.out.println(\n    java.time.zone.ZoneRulesProvider\n                  .getVersions(&quot;UTC&quot;)\n                  .lastEntry()\n                  .getKey()\n);\n</code></pre>\n<p>Result in Temurin (java jdk) 11.0.16 (expected output), last line showing timezone database version:</p>\n<pre><code>1932-10-20T10:19:32+00:19:32[Europe/Amsterdam]\n1932-10-20T10:19:32.000+00:19\n2022a\n</code></pre>\n<p>Result in Temurin 11.0.17:</p>\n<pre><code>1932-10-20T10:19:32Z[Europe/Amsterdam]\n1932-10-20T10:19:32.000Z\n2022c\n</code></pre>\n<p><strong>Edit</strong>: Also an issue in JDK 17 starting from 17.0.5:</p>\n<p>Temurin 17.0.4:</p>\n<pre><code>1932-10-20T10:19:32+00:19:32[Europe/Amsterdam]\n1932-10-20T10:19:32.000+00:19\n2022a\n</code></pre>\n<p>Temurin 17.0.5:</p>\n<pre><code>1932-10-20T10:19:32Z[Europe/Amsterdam]\n1932-10-20T10:19:32.000Z\n2022c\n</code></pre>\n"},{"tags":["java","android","java-native-interface","android-runonuithread"],"answers":[{"comments":[{"owner":{"account_id":27817647,"reputation":591,"user_id":21238708,"display_name":"Jatin guglani"},"score":0,"creation_date":1678695894,"post_id":75719339,"comment_id":133576495,"body_markdown":"No, it&#39;s not working. Neither the focus is being set nor the soft keyboard is visible.","body":"No, it&#39;s not working. Neither the focus is being set nor the soft keyboard is visible."},{"owner":{"account_id":21752129,"reputation":111,"user_id":16057905,"display_name":"Byte Code"},"score":0,"creation_date":1678697085,"post_id":75719339,"comment_id":133576758,"body_markdown":"imm.toggleSoftInput(InputMethodManager.SHOW_FORCED,InputMethodManager.HIDE_IMPLICIT_ONLY) put some delay (200ms) and try this method instead.","body":"imm.toggleSoftInput(InputMethodManager.SHOW_FORCED,InputMeth&zwnj;&#8203;odManager.HIDE_IMPLI&zwnj;&#8203;CIT_ONLY) put some delay (200ms) and try this method instead."}],"tags":[],"owner":{"account_id":21752129,"reputation":111,"user_id":16057905,"display_name":"Byte Code"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678694943,"creation_date":1678694943,"answer_id":75719339,"question_id":75693705,"body_markdown":"Try putting some delay beetween requestFocus and showKeyboard functions. I had the same problem before and it worked for me.","title":"runOnUIThread on android is unable to setfocus on the EditText and show soft keyboard","body":"<p>Try putting some delay beetween requestFocus and showKeyboard functions. I had the same problem before and it worked for me.</p>\n"}],"owner":{"account_id":27817647,"reputation":591,"user_id":21238708,"display_name":"Jatin guglani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1678694943,"creation_date":1678436471,"question_id":75693705,"body_markdown":"In my android application, the core logic is written in C++. Hence, for multiple scenarios, there will be JNI calls happening.\r\n\r\nIn one use-case, as the text is being entered by the user in the &#39;EditText&#39;, I call a JNI method which will capitalize each word (the logic and hence the outcome can vary from case to case).\r\n\r\nThe TextChange handler calls a JNI function which will capitalize each word in the text in a worker thread and then invoke a method on the main thread using &#39;runOnUIThread&#39; to update the text field&#39;s value. My expectation is this should happen seamlessly and should not hamper the way the user is interacting.\r\n\r\nCode Samples:\r\n\r\nCalling of the JNI function-\r\n\r\n```\r\nedittext.addTextChangedListener(new TextWatcher() {\r\n\r\n            @Override\r\n            public void onTextChanged(CharSequence s, int start, int before, int count) {\r\n                \r\n                OnTextChanged (edittext.getId(), String.valueOf(s));\r\n            }\r\n            ...\r\n     });\r\n```\r\n\r\nUpdating the EditText with the capitalized text-\r\n\r\n```\r\n// Below function is invoked on the Main Thread once the Worker Thread is done with its job of capitalizing\r\n// An entry function is called which gets the textfield object from the layout and then called the below\r\npublic static void UpdateTextField(EditText pEditTextObj, int pID, int pPosX, int pPosY, int pHeight, int pWidth, int pColor, String pText)\r\n{\r\n        Log.d(&quot;SampleJNIApp01&quot;, &quot;TextField valued to be updated = &quot; + pText);\r\n        \r\n        pEditTextObj.setText(pText);\r\n\r\n        //requesting focus\r\n        pEditTextObj.requestFocus();\r\n        pEditTextObj.setSelection(pEditTextObj.getText().length());\r\n\r\n        //showing keyboard\r\n        InputMethodManager imm = (InputMethodManager) MainActivity.GetCurrentActivity().getSystemService(Context.INPUT_METHOD_SERVICE);\r\n        imm.showSoftInput(pEditTextObj, InputMethodManager.SHOW_IMPLICIT);\r\n         \r\n}\r\n```\r\n\r\nObservation:\r\n\r\nOnce the first letter is typed in, it does get capitalized by the JNI function and the text in the EditText is also updated.\r\n\r\nHowever, after the pEditTextObj.setText(pText), the focus goes away, cursor is not visible and the keyboard gets hidden.\r\n\r\nSame is observed when I am typing in the text field and some worker thread has invoked some java method to &#39;runOnUIthread&#39; - the focus is lost and soft keyboard gets hidden.\r\n\r\nThe returned value of pEditTextObj.requestFocus() is true, still it is not getting focussed.\r\n\r\nI have also checked that pEditTextObj.isFocusable() returns true and MainActivity.this.getCurrentFocus() is returning the same edittext. but on the emulator screen the edittext is not getting focused neither the keyboard is poping up.\r\n\r\nIs there something wrong that I am doing ?","title":"runOnUIThread on android is unable to setfocus on the EditText and show soft keyboard","body":"<p>In my android application, the core logic is written in C++. Hence, for multiple scenarios, there will be JNI calls happening.</p>\n<p>In one use-case, as the text is being entered by the user in the 'EditText', I call a JNI method which will capitalize each word (the logic and hence the outcome can vary from case to case).</p>\n<p>The TextChange handler calls a JNI function which will capitalize each word in the text in a worker thread and then invoke a method on the main thread using 'runOnUIThread' to update the text field's value. My expectation is this should happen seamlessly and should not hamper the way the user is interacting.</p>\n<p>Code Samples:</p>\n<p>Calling of the JNI function-</p>\n<pre><code>edittext.addTextChangedListener(new TextWatcher() {\n\n            @Override\n            public void onTextChanged(CharSequence s, int start, int before, int count) {\n                \n                OnTextChanged (edittext.getId(), String.valueOf(s));\n            }\n            ...\n     });\n</code></pre>\n<p>Updating the EditText with the capitalized text-</p>\n<pre><code>// Below function is invoked on the Main Thread once the Worker Thread is done with its job of capitalizing\n// An entry function is called which gets the textfield object from the layout and then called the below\npublic static void UpdateTextField(EditText pEditTextObj, int pID, int pPosX, int pPosY, int pHeight, int pWidth, int pColor, String pText)\n{\n        Log.d(&quot;SampleJNIApp01&quot;, &quot;TextField valued to be updated = &quot; + pText);\n        \n        pEditTextObj.setText(pText);\n\n        //requesting focus\n        pEditTextObj.requestFocus();\n        pEditTextObj.setSelection(pEditTextObj.getText().length());\n\n        //showing keyboard\n        InputMethodManager imm = (InputMethodManager) MainActivity.GetCurrentActivity().getSystemService(Context.INPUT_METHOD_SERVICE);\n        imm.showSoftInput(pEditTextObj, InputMethodManager.SHOW_IMPLICIT);\n         \n}\n</code></pre>\n<p>Observation:</p>\n<p>Once the first letter is typed in, it does get capitalized by the JNI function and the text in the EditText is also updated.</p>\n<p>However, after the pEditTextObj.setText(pText), the focus goes away, cursor is not visible and the keyboard gets hidden.</p>\n<p>Same is observed when I am typing in the text field and some worker thread has invoked some java method to 'runOnUIthread' - the focus is lost and soft keyboard gets hidden.</p>\n<p>The returned value of pEditTextObj.requestFocus() is true, still it is not getting focussed.</p>\n<p>I have also checked that pEditTextObj.isFocusable() returns true and MainActivity.this.getCurrentFocus() is returning the same edittext. but on the emulator screen the edittext is not getting focused neither the keyboard is poping up.</p>\n<p>Is there something wrong that I am doing ?</p>\n"},{"tags":["java","google-cloud-dataflow","apache-beam","dataflow","dataflowtask"],"answers":[{"comments":[{"owner":{"account_id":6848761,"reputation":992,"user_id":5266568,"accept_rate":20,"display_name":"zikzakjack"},"score":0,"creation_date":1672405866,"post_id":72889473,"comment_id":132283994,"body_markdown":"Code mentioned after waitUntilFinish() is not working in the DataFlowRunner. Is there any other option? Please advise.","body":"Code mentioned after waitUntilFinish() is not working in the DataFlowRunner. Is there any other option? Please advise."},{"owner":{"account_id":284307,"reputation":4956,"user_id":582333,"display_name":"robertwb"},"score":0,"creation_date":1673564294,"post_id":72889473,"comment_id":132534138,"body_markdown":"Could you clarify what is meant by &quot;not working?&quot; Is the pipeline failing and an exception getting thrown (in which case you can catch it and put your post-pipeline code there)?","body":"Could you clarify what is meant by &quot;not working?&quot; Is the pipeline failing and an exception getting thrown (in which case you can catch it and put your post-pipeline code there)?"},{"owner":{"account_id":6848761,"reputation":992,"user_id":5266568,"accept_rate":20,"display_name":"zikzakjack"},"score":0,"creation_date":1676310989,"post_id":72889473,"comment_id":133107809,"body_markdown":"waitUntilFinish() throws an exception soon after the pipeline starts. so adding a catch block to perform my pipeline cleanup will get executed immediately even before my pipeline is completed.","body":"waitUntilFinish() throws an exception soon after the pipeline starts. so adding a catch block to perform my pipeline cleanup will get executed immediately even before my pipeline is completed."},{"owner":{"account_id":284307,"reputation":4956,"user_id":582333,"display_name":"robertwb"},"score":0,"creation_date":1676409476,"post_id":72889473,"comment_id":133130720,"body_markdown":"Could you add some details to your question about what exception is thrown?","body":"Could you add some details to your question about what exception is thrown?"}],"tags":[],"owner":{"account_id":284307,"reputation":4956,"user_id":582333,"display_name":"robertwb"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657139092,"creation_date":1657139092,"answer_id":72889473,"question_id":72871829,"body_markdown":"The PipelineResult object should have a [waitUntilFinish][1] operation that you can call from within your try block to ensure the pipeline completes before the finally block executes.\r\n\r\n\r\n  [1]: https://beam.apache.org/releases/javadoc/current/org/apache/beam/sdk/PipelineResult.html#waitUntilFinish--","title":"How to run some code at the end of pipeline","body":"<p>The PipelineResult object should have a <a href=\"https://beam.apache.org/releases/javadoc/current/org/apache/beam/sdk/PipelineResult.html#waitUntilFinish--\" rel=\"nofollow noreferrer\">waitUntilFinish</a> operation that you can call from within your try block to ensure the pipeline completes before the finally block executes.</p>\n"},{"tags":[],"owner":{"account_id":6848761,"reputation":992,"user_id":5266568,"accept_rate":20,"display_name":"zikzakjack"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678694866,"creation_date":1678694866,"answer_id":75719326,"question_id":72871829,"body_markdown":"I think that the answer suggested by @robertwb to use waitUntilFinish() may not work in GCP. Refer to the link and explanation from Google Cloud Docs. However, We can try to achieve the final step as part of the pipeline itself by using Combine.globally() as the last step in the pipeline.\r\n\r\n// sample pipeline\r\n\r\n\r\n    \t\t\tpipeline.apply(&quot;step_1&quot;, ParDo.of(step_1()))\r\n\t\t\t\t\t.apply(&quot;step_2&quot;, ParDo.of(step_2()))\r\n\t\t\t\t\t.apply(&quot;step_3&quot;, ParDo.of(step_3()))\r\n\t\t\t\t\t.apply(&quot;step_4_wait_until_finish&quot;, combineGlobally())\r\n\t\t\t\t\t.apply(&quot;step_5_final&quot;, ParDo.of(new Step_5_final()));\r\n\r\n\r\n// combineGlobally\r\n\r\n    \tstatic Globally&lt;TableRow, TableRow&gt; combineGlobally() {\r\n\t\treturn Combine.globally(new SerializableFunction&lt;Iterable&lt;TableRow&gt;, TableRow&gt;() {\r\n\t\t\t@Override\r\n\t\t\tpublic TableRow apply(Iterable&lt;TableRow&gt; input) {\r\n\t\t\t\treturn new TableRow();\r\n\t\t\t}\r\n\t\t}).withoutDefaults();\r\n\t}\r\n\r\n\r\n// Step_5_final\r\n\r\n    \tstatic class Step_5_final extends DoFn&lt;TableRow, String&gt; {\r\n\t\t@ProcessElement\r\n\t\tpublic void onElement(@Element final TableRow dataIn, final OutputReceiver&lt;String&gt; out) throws Exception {\r\n\t\t\tBigQuery.execute(update_query_1);\r\n\t\t\tBigQuery.execute(update_query_2);\r\n\t\t\tout.output(&quot;SUCCESS&quot;);\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\nRefer to this link https://cloud.google.com/dataflow/docs/guides/templates/using-flex-templates#limitations\r\n\r\nThe following limitations apply to Flex Templates jobs in GCP:\r\n\r\n - The program that constructs the pipeline must exit after run is called in order for the pipeline to start.\r\n- waitUntilFinish (Java) and wait_until_finish (Python) are not supported.\r\n\r\n\r\n","title":"How to run some code at the end of pipeline","body":"<p>I think that the answer suggested by @robertwb to use waitUntilFinish() may not work in GCP. Refer to the link and explanation from Google Cloud Docs. However, We can try to achieve the final step as part of the pipeline itself by using Combine.globally() as the last step in the pipeline.</p>\n<p>// sample pipeline</p>\n<pre><code>            pipeline.apply(&quot;step_1&quot;, ParDo.of(step_1()))\n                .apply(&quot;step_2&quot;, ParDo.of(step_2()))\n                .apply(&quot;step_3&quot;, ParDo.of(step_3()))\n                .apply(&quot;step_4_wait_until_finish&quot;, combineGlobally())\n                .apply(&quot;step_5_final&quot;, ParDo.of(new Step_5_final()));\n</code></pre>\n<p>// combineGlobally</p>\n<pre><code>    static Globally&lt;TableRow, TableRow&gt; combineGlobally() {\n    return Combine.globally(new SerializableFunction&lt;Iterable&lt;TableRow&gt;, TableRow&gt;() {\n        @Override\n        public TableRow apply(Iterable&lt;TableRow&gt; input) {\n            return new TableRow();\n        }\n    }).withoutDefaults();\n}\n</code></pre>\n<p>// Step_5_final</p>\n<pre><code>    static class Step_5_final extends DoFn&lt;TableRow, String&gt; {\n    @ProcessElement\n    public void onElement(@Element final TableRow dataIn, final OutputReceiver&lt;String&gt; out) throws Exception {\n        BigQuery.execute(update_query_1);\n        BigQuery.execute(update_query_2);\n        out.output(&quot;SUCCESS&quot;);\n    }\n}\n</code></pre>\n<p>Refer to this link <a href=\"https://cloud.google.com/dataflow/docs/guides/templates/using-flex-templates#limitations\" rel=\"nofollow noreferrer\">https://cloud.google.com/dataflow/docs/guides/templates/using-flex-templates#limitations</a></p>\n<p>The following limitations apply to Flex Templates jobs in GCP:</p>\n<ul>\n<li>The program that constructs the pipeline must exit after run is called in order for the pipeline to start.</li>\n<li>waitUntilFinish (Java) and wait_until_finish (Python) are not supported.</li>\n</ul>\n"}],"owner":{"account_id":20677239,"reputation":1,"user_id":15181568,"display_name":"raj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":253,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678694866,"creation_date":1657034286,"question_id":72871829,"body_markdown":"I have a requirement to update two tables at the end of the dataflow job pipeline(based on pipeline result).\r\n\r\nI have put my logic to update to tables in finally block.\r\n\r\nHere finally block is executing in parallel to the pipeline\r\n\r\nIs there a way where i can run the code at end of pipeline ? ","title":"How to run some code at the end of pipeline","body":"<p>I have a requirement to update two tables at the end of the dataflow job pipeline(based on pipeline result).</p>\n<p>I have put my logic to update to tables in finally block.</p>\n<p>Here finally block is executing in parallel to the pipeline</p>\n<p>Is there a way where i can run the code at end of pipeline ?</p>\n"},{"tags":["java","annotations","environment-variables","runtime"],"comments":[{"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":5,"creation_date":1591790474,"post_id":62301513,"comment_id":110188610,"body_markdown":"This cannot be done. It needs to be a compile-time constant. Even if it worked, the environment variables would be taken during compilation, not during the runtime of the application. You will need to use some other mechanism to configure your application, annotations are resolved at compile-time.","body":"This cannot be done. It needs to be a compile-time constant. Even if it worked, the environment variables would be taken during compilation, not during the runtime of the application. You will need to use some other mechanism to configure your application, annotations are resolved at compile-time."}],"answers":[{"tags":[],"owner":{"account_id":7837673,"reputation":467,"user_id":5925075,"display_name":"balazs"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678366195,"creation_date":1678366195,"answer_id":75684860,"question_id":62301513,"body_markdown":"It is possible to dynamically resolve GSI name, although it is pretty hacky.\r\n\r\n 1. Instead of using `System.getenv(&quot;REGION_CODE&quot;)` in the expression just use some kind of a template string e.g. `{{env.REGION_CODE}}` or `__REGION_CODE__`, in this example I will use `{{env.REGION_CODE}}`.\r\n ```java\r\n public class MyClass {\r\n   @DynamoDBIndexHashKey(globalSecondaryIndexName = &quot;RENDITIONS-{{env.REGION_CODE}}-{{env.STAGE}}&quot;, attributeName = &quot;renditionStatus&quot;)\r\n   private String bar;\r\n }\r\n ```\r\n 2. create a new method which will process the template, e.g. \r\n\r\n ```\r\npackage com.mycompany.myproduct.utils;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class TemplateProcessor {\r\n    public static String processTemplate(String mustacheTemplate) {\r\n        return Arrays.stream(mustacheTemplate.split(&quot;\\\\{\\\\{|}}&quot;))\r\n                .map(chunk -&gt; chunk.startsWith(&quot;env.&quot;) ? System.getenv(chunk.substring(4)) : chunk)\r\n                .collect(Collectors.joining(&quot;&quot;));\r\n    }\r\n}\r\n\r\n ```\r\n 3. Patch all the codes where `DynamoDBIndexHashKey.globalSecondaryIndexName()` is used.\r\n    \r\n    i. Find and copy all the classes that use `DynamoDBIndexHashKey.globalSecondaryIndexName()` into your project while making sure that the package part remains the same as the original.\r\n \r\n    ii. Everyplace where `globalSecondaryIndexName()` is called wrap it with calling the previously created `processTemplate` method.\r\n\r\n\r\nLuckily (currently, in com.amazonaws:aws-java-sdk-dynamodb:1.12.422) the only place that calls `DynamoDBIndexHashKey.globalSecondaryIndexName()` is `StandardAnnotationMaps.FieldMap.globalSecondaryIndexNames()` so the patching won&#39;t take too much time.\r\n\r\nThe end result should look something like this:\r\n\r\n\r\n```\r\npackage com.amazonaws.services.dynamodbv2.datamodeling;\r\n\r\n...\r\nimport static com.mycompany.myproduct.utils.TemplateProcessor.processTemplate;\r\n...\r\n\r\nfinal class StandardAnnotationMaps {\r\n  ...\r\n  public Map&lt;KeyType,List&lt;String&gt;&gt; globalSecondaryIndexNames() {\r\n    ...\r\n    String processed = processTemplate(indexHashKey.globalSecondaryIndexName());\r\n    gsis.put(HASH, Collections.singletonList(processed));\r\n    ...\r\n  }\r\n  ...\r\n}\r\n```","title":"How can I insert an runtime environment variable in an annotation attribute value in Java?","body":"<p>It is possible to dynamically resolve GSI name, although it is pretty hacky.</p>\n<ol>\n<li>Instead of using <code>System.getenv(&quot;REGION_CODE&quot;)</code> in the expression just use some kind of a template string e.g. <code>{{env.REGION_CODE}}</code> or <code>__REGION_CODE__</code>, in this example I will use <code>{{env.REGION_CODE}}</code>.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyClass {\n  @DynamoDBIndexHashKey(globalSecondaryIndexName = &quot;RENDITIONS-{{env.REGION_CODE}}-{{env.STAGE}}&quot;, attributeName = &quot;renditionStatus&quot;)\n  private String bar;\n}\n</code></pre>\n<ol start=\"2\">\n<li>create a new method which will process the template, e.g.</li>\n</ol>\n<pre><code>package com.mycompany.myproduct.utils;\n\nimport java.util.Arrays;\nimport java.util.stream.Collectors;\n\npublic class TemplateProcessor {\n   public static String processTemplate(String mustacheTemplate) {\n       return Arrays.stream(mustacheTemplate.split(&quot;\\\\{\\\\{|}}&quot;))\n               .map(chunk -&gt; chunk.startsWith(&quot;env.&quot;) ? System.getenv(chunk.substring(4)) : chunk)\n               .collect(Collectors.joining(&quot;&quot;));\n   }\n}\n\n</code></pre>\n<ol start=\"3\">\n<li><p>Patch all the codes where <code>DynamoDBIndexHashKey.globalSecondaryIndexName()</code> is used.</p>\n<p>i. Find and copy all the classes that use <code>DynamoDBIndexHashKey.globalSecondaryIndexName()</code> into your project while making sure that the package part remains the same as the original.</p>\n<p>ii. Everyplace where <code>globalSecondaryIndexName()</code> is called wrap it with calling the previously created <code>processTemplate</code> method.</p>\n</li>\n</ol>\n<p>Luckily (currently, in com.amazonaws:aws-java-sdk-dynamodb:1.12.422) the only place that calls <code>DynamoDBIndexHashKey.globalSecondaryIndexName()</code> is <code>StandardAnnotationMaps.FieldMap.globalSecondaryIndexNames()</code> so the patching won't take too much time.</p>\n<p>The end result should look something like this:</p>\n<pre><code>package com.amazonaws.services.dynamodbv2.datamodeling;\n\n...\nimport static com.mycompany.myproduct.utils.TemplateProcessor.processTemplate;\n...\n\nfinal class StandardAnnotationMaps {\n  ...\n  public Map&lt;KeyType,List&lt;String&gt;&gt; globalSecondaryIndexNames() {\n    ...\n    String processed = processTemplate(indexHashKey.globalSecondaryIndexName());\n    gsis.put(HASH, Collections.singletonList(processed));\n    ...\n  }\n  ...\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1678694512,"post_id":75714667,"comment_id":133576201,"body_markdown":"Please note my update with the alternative SpEL syntax `#root[&#39;REGION_CODE&#39;]`.","body":"Please note my update with the alternative SpEL syntax <code>#root[&#39;REGION_CODE&#39;]</code>."},{"owner":{"account_id":13765969,"reputation":63,"user_id":9934537,"display_name":"Yuvraj Jagga"},"score":0,"creation_date":1687158815,"post_id":75714667,"comment_id":134892278,"body_markdown":"Thank you very much for your answer @Kriegaex.","body":"Thank you very much for your answer @Kriegaex."}],"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678694790,"creation_date":1678639131,"answer_id":75714667,"question_id":62301513,"body_markdown":"As an alternative to the solution suggested by _balazs_, you can use the Spring Expression Language (SpEL), see\r\n  * https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#expressions,\r\n  * https://www.baeldung.com/spring-expression-language.\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;de.scrum-master&lt;/groupId&gt;\r\n  &lt;artifactId&gt;SO_JavaUseSpELWithoutSpring_62301513&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-expression&lt;/artifactId&gt;\r\n      &lt;version&gt;6.0.6&lt;/version&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-jcl&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n```java\r\npackage de.scrum_master.stackoverflow.q62301513;\r\n\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.RetentionPolicy;\r\n\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@interface DynamoDBIndexHashKey {\r\n  String value();\r\n}\r\n```\r\n\r\n```java\r\npackage de.scrum_master.stackoverflow.q62301513;\r\n\r\nimport org.springframework.expression.ExpressionParser;\r\nimport org.springframework.expression.spel.standard.SpelExpressionParser;\r\n\r\n@DynamoDBIndexHashKey(&quot;&#39;RENDITIONS-&#39; + get(&#39;REGION_CODE&#39;) + &#39;-&#39; + get(&#39;STAGE&#39;) + &#39;-renditionStatus-Index&#39;&quot;)\r\npublic class Main {\r\n  public static void main(String[] args) {\r\n    ExpressionParser expressionParser = new SpelExpressionParser();\r\n    String parsedAnnotationValue = expressionParser\r\n      .parseExpression(Main.class.getAnnotation(DynamoDBIndexHashKey.class).value())\r\n      .getValue(System.getenv(), String.class);\r\n    System.out.println(parsedAnnotationValue);\r\n  }\r\n}\r\n```\r\n\r\nNow e.g. set environment variables `REGION_CODE=DE` and `STAGE=integration` and run the program. The console log will print:\r\n\r\n```none\r\nRENDITIONS-DE-integration-renditionStatus-Index\r\n```\r\n\r\nSpEL is quite powerful, and you can use it outside of Spring, if you do not mind that `spring-core` is a transitive dependency. But I think, this is acceptable if you make heavy use of it.\r\n\r\n---\r\n\r\n**Update:** If instead of using the `Map.get` method of the evaluation root object `System.getenv()` in your SpEL expression, you can also use `#root` and use the map accessor syntax `[&#39;myKey&#39;]`, i.e. instead of \r\n\r\n```java\r\n@DynamoDBIndexHashKey(&quot;&#39;RENDITIONS-&#39; + get(&#39;REGION_CODE&#39;) + &#39;-&#39; + get(&#39;STAGE&#39;) + &#39;-renditionStatus-Index&#39;&quot;)\r\n```\r\n\r\nyou can write\r\n\r\n```java\r\n@DynamoDBIndexHashKey(&quot;&#39;RENDITIONS-&#39; + #root[&#39;REGION_CODE&#39;] + &#39;-&#39; + #root[&#39;STAGE&#39;] + &#39;-renditionStatus-Index&#39;&quot;)\r\n```\r\n\r\nYou could also bind the value to a named variable like `env`, if you prefer not to use the root object ex- or implicitly.","title":"How can I insert an runtime environment variable in an annotation attribute value in Java?","body":"<p>As an alternative to the solution suggested by <em>balazs</em>, you can use the Spring Expression Language (SpEL), see</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#expressions\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#expressions</a>,</li>\n<li><a href=\"https://www.baeldung.com/spring-expression-language\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-expression-language</a>.</li>\n</ul>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;de.scrum-master&lt;/groupId&gt;\n  &lt;artifactId&gt;SO_JavaUseSpELWithoutSpring_62301513&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n  &lt;properties&gt;\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-expression&lt;/artifactId&gt;\n      &lt;version&gt;6.0.6&lt;/version&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-jcl&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.stackoverflow.q62301513;\n\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\n\n@Retention(RetentionPolicy.RUNTIME)\n@interface DynamoDBIndexHashKey {\n  String value();\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.stackoverflow.q62301513;\n\nimport org.springframework.expression.ExpressionParser;\nimport org.springframework.expression.spel.standard.SpelExpressionParser;\n\n@DynamoDBIndexHashKey(&quot;'RENDITIONS-' + get('REGION_CODE') + '-' + get('STAGE') + '-renditionStatus-Index'&quot;)\npublic class Main {\n  public static void main(String[] args) {\n    ExpressionParser expressionParser = new SpelExpressionParser();\n    String parsedAnnotationValue = expressionParser\n      .parseExpression(Main.class.getAnnotation(DynamoDBIndexHashKey.class).value())\n      .getValue(System.getenv(), String.class);\n    System.out.println(parsedAnnotationValue);\n  }\n}\n</code></pre>\n<p>Now e.g. set environment variables <code>REGION_CODE=DE</code> and <code>STAGE=integration</code> and run the program. The console log will print:</p>\n<pre class=\"lang-none prettyprint-override\"><code>RENDITIONS-DE-integration-renditionStatus-Index\n</code></pre>\n<p>SpEL is quite powerful, and you can use it outside of Spring, if you do not mind that <code>spring-core</code> is a transitive dependency. But I think, this is acceptable if you make heavy use of it.</p>\n<hr />\n<p><strong>Update:</strong> If instead of using the <code>Map.get</code> method of the evaluation root object <code>System.getenv()</code> in your SpEL expression, you can also use <code>#root</code> and use the map accessor syntax <code>['myKey']</code>, i.e. instead of</p>\n<pre class=\"lang-java prettyprint-override\"><code>@DynamoDBIndexHashKey(&quot;'RENDITIONS-' + get('REGION_CODE') + '-' + get('STAGE') + '-renditionStatus-Index'&quot;)\n</code></pre>\n<p>you can write</p>\n<pre class=\"lang-java prettyprint-override\"><code>@DynamoDBIndexHashKey(&quot;'RENDITIONS-' + #root['REGION_CODE'] + '-' + #root['STAGE'] + '-renditionStatus-Index'&quot;)\n</code></pre>\n<p>You could also bind the value to a named variable like <code>env</code>, if you prefer not to use the root object ex- or implicitly.</p>\n"}],"owner":{"account_id":13765969,"reputation":63,"user_id":9934537,"display_name":"Yuvraj Jagga"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":893,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75684860,"answer_count":2,"score":3,"last_activity_date":1678694790,"creation_date":1591785511,"question_id":62301513,"body_markdown":"I have been trying to populate an annotation attribute value at runtime, but it is not being able to compile\r\nThe error is \r\n\r\n&gt; &quot;The value for annotation attribute\r\n&gt; DynamoDBIndexHashKey.globalSecondaryIndexName must be a constant\r\n&gt; expression&quot;\r\n\r\n\r\nHere is the snippet \r\n\r\n```\r\npublic static final String GLOBAL_SECONDARY_INDEX = &quot;RENDITIONS&quot; + System.getenv(&quot;REGION_CODE&quot;) + &quot;-&quot; +System.getenv(&quot;STAGE&quot;) + &quot;-renditionStatus-Index&quot;;\r\n\r\n@DynamoDBIndexHashKey(globalSecondaryIndexName  = GLOBAL_SECONDARY_INDEX, attributeName =&quot;renditionStatus&quot;)\r\n```\r\n\r\n\r\nThe value for GLOBAL_SECONDARY_INDEX for the attribute `globalSecondaryIndexName` is not able to compile as a constant despite of using the &quot;+&quot; operator. Am I missing something?\r\nMany Thanks in advance for trying to help ","title":"How can I insert an runtime environment variable in an annotation attribute value in Java?","body":"<p>I have been trying to populate an annotation attribute value at runtime, but it is not being able to compile\nThe error is </p>\n\n<blockquote>\n  <p>\"The value for annotation attribute\n  DynamoDBIndexHashKey.globalSecondaryIndexName must be a constant\n  expression\"</p>\n</blockquote>\n\n<p>Here is the snippet </p>\n\n<pre><code>public static final String GLOBAL_SECONDARY_INDEX = \"RENDITIONS\" + System.getenv(\"REGION_CODE\") + \"-\" +System.getenv(\"STAGE\") + \"-renditionStatus-Index\";\n\n@DynamoDBIndexHashKey(globalSecondaryIndexName  = GLOBAL_SECONDARY_INDEX, attributeName =\"renditionStatus\")\n</code></pre>\n\n<p>The value for GLOBAL_SECONDARY_INDEX for the attribute <code>globalSecondaryIndexName</code> is not able to compile as a constant despite of using the \"+\" operator. Am I missing something?\nMany Thanks in advance for trying to help </p>\n"},{"tags":["java","httpclient","apache-axis","apache-httpclient-4.x"],"comments":[{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1678691180,"post_id":75718847,"comment_id":133575527,"body_markdown":"What&#39;s &quot;it&quot; and &quot;that&quot;? Please clarify. Better: provide a [mcve] and error messages that you observe.","body":"What&#39;s &quot;it&quot; and &quot;that&quot;? Please clarify. Better: provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and error messages that you observe."},{"owner":{"account_id":15119878,"reputation":176,"user_id":10910955,"display_name":"Prince Babbar"},"score":0,"creation_date":1678692278,"post_id":75718847,"comment_id":133575717,"body_markdown":"Tomcat complains,\nThe bundle \\\\Servers\\tomcat\\bundles\\ROOT\\httpcore-4.4.13.jar does not have a Bundle-Name or Bundle-Version header in META-INF/MANIFEST.MF!","body":"Tomcat complains, The bundle \\\\Servers\\tomcat\\bundles\\ROOT\\httpcore-4.4.13.jar does not have a Bundle-Name or Bundle-Version header in META-INF/MANIFEST.MF!"}],"answers":[{"tags":[],"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678694206,"creation_date":1678694206,"answer_id":75719247,"question_id":75718847,"body_markdown":"Indeed it seems that the stock httpcore is delivered as classic jar, without the meta information required by OSGi. \r\n\r\nI&#39;m not sure if it&#39;s an issue of the dependency declaration, but as httpcore is listed as &quot;provided&quot;, and you&#39;ll naturally have to provide it separately to the OSGi container, my recommendation is to provide the httpcore-osgi variant of the required code (and optionally go deeper on transitive dependencies)","title":"httpcore 4.5.13 jar does not contain bundle-version in MANIFEST.MF","body":"<p>Indeed it seems that the stock httpcore is delivered as classic jar, without the meta information required by OSGi.</p>\n<p>I'm not sure if it's an issue of the dependency declaration, but as httpcore is listed as &quot;provided&quot;, and you'll naturally have to provide it separately to the OSGi container, my recommendation is to provide the httpcore-osgi variant of the required code (and optionally go deeper on transitive dependencies)</p>\n"}],"owner":{"account_id":15119878,"reputation":176,"user_id":10910955,"display_name":"Prince Babbar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678694206,"creation_date":1678691053,"question_id":75718847,"body_markdown":"I have transitive dependency on httpcore jar (from httpclient-osgi) bundle for my osgi model.\r\nwhen start the tomcat server, tomcat does ask for bundle-version of httpcore in MANIFEST.MF file. but MANIFEST.MF doesn&#39;t contain that.\r\n\r\nTomcat complains,\r\nThe bundle \\\\Servers\\tomcat\\bundles\\ROOT\\httpcore-4.4.13.jar does not have a Bundle-Name or Bundle-Version header in META-INF/MANIFEST.MF!\r\n\r\nHow to resolve this?","title":"httpcore 4.5.13 jar does not contain bundle-version in MANIFEST.MF","body":"<p>I have transitive dependency on httpcore jar (from httpclient-osgi) bundle for my osgi model.\nwhen start the tomcat server, tomcat does ask for bundle-version of httpcore in MANIFEST.MF file. but MANIFEST.MF doesn't contain that.</p>\n<p>Tomcat complains,\nThe bundle \\Servers\\tomcat\\bundles\\ROOT\\httpcore-4.4.13.jar does not have a Bundle-Name or Bundle-Version header in META-INF/MANIFEST.MF!</p>\n<p>How to resolve this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8593005,"reputation":1706,"user_id":6436977,"display_name":"T A"},"score":0,"creation_date":1557129041,"post_id":56000774,"comment_id":98648200,"body_markdown":"Have you tried anything? Or even researched how to build a regular expression?","body":"Have you tried anything? Or even researched how to build a regular expression?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1557129102,"post_id":56000774,"comment_id":98648230,"body_markdown":"Sorry but that looks like problem which can be solved after reading few beginning lessons from any regex tutorial. What problem is stopping you from writing your solution?","body":"Sorry but that looks like problem which can be solved after reading few beginning lessons from any regex tutorial. What problem is stopping you from writing your solution?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1557132450,"post_id":56000774,"comment_id":98649689,"body_markdown":"I&#39;m voting to close this question as off-topic because it is on homework level and [&quot;3. Questions asking for homework help **must** include a *summary of the work you&#39;ve done so far to solve the problem*, and a *description of the difficulty you are having* solving it.&quot;](https://stackoverflow.com/help/on-topic). Current state of your question doesn&#39;t fulfill these requirements. Use [edit] option to improve it.","body":"I&#39;m voting to close this question as off-topic because it is on homework level and <a href=\"https://stackoverflow.com/help/on-topic\">&quot;3. Questions asking for homework help <b>must</b> include a <i>summary of the work you&#39;ve done so far to solve the problem</i>, and a <i>description of the difficulty you are having</i> solving it.&quot;</a>. Current state of your question doesn&#39;t fulfill these requirements. Use <a href=\"https://stackoverflow.com/posts/56000774/edit\">edit</a> option to improve it."},{"owner":{"account_id":7620717,"reputation":742,"user_id":5778814,"display_name":"cmoetzing"},"score":1,"creation_date":1557138847,"post_id":56000774,"comment_id":98652599,"body_markdown":"Please take your time and describe your problem properly. You list 3 examples. Examples 1 and 2 do not fit your description * &quot;any numbers immediately after &#39;E-&#39; in a string using a PatternMatcher in java&quot;* Do example 1 and 2 need to be matched or not?","body":"Please take your time and describe your problem properly. You list 3 examples. Examples 1 and 2 do not fit your description * &quot;any numbers immediately after &#39;E-&#39; in a string using a PatternMatcher in java&quot;* Do example 1 and 2 need to be matched or not?"}],"answers":[{"tags":[],"owner":{"account_id":949772,"reputation":2342,"user_id":976149,"accept_rate":80,"display_name":"Shashwat"},"comment_count":0,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1557143768,"creation_date":1557129071,"answer_id":56000933,"question_id":56000774,"body_markdown":"Try below regex\r\n&gt;Regex : `E-[0-9]+`\r\n\r\n[![Output][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dpDdH.png","title":"how match &quot;E-10094&quot; using pattern matcher in java","body":"<p>Try below regex</p>\n\n<blockquote>\n  <p>Regex : <code>E-[0-9]+</code></p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/dpDdH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dpDdH.png\" alt=\"Output\"></a></p>\n"},{"tags":[],"owner":{"account_id":27635017,"reputation":43,"user_id":21093121,"display_name":"ARNR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678694094,"creation_date":1678694094,"answer_id":75719227,"question_id":56000774,"body_markdown":"      public static void main(String[] args) {\r\n            Pattern pattern = Pattern.compile(&quot;E-[0-9]+&quot;);\r\n            Matcher matcher = pattern.matcher(&quot;E-1234&quot;);\r\n            boolean matchFound = matcher.find();\r\n            if(matchFound) {\r\n                System.out.println(&quot;Match found&quot;);\r\n            } else {\r\n                System.out.println(&quot;Match not found&quot;);\r\n            }\r\n    \r\n    }","title":"how match &quot;E-10094&quot; using pattern matcher in java","body":"<pre><code>  public static void main(String[] args) {\n        Pattern pattern = Pattern.compile(&quot;E-[0-9]+&quot;);\n        Matcher matcher = pattern.matcher(&quot;E-1234&quot;);\n        boolean matchFound = matcher.find();\n        if(matchFound) {\n            System.out.println(&quot;Match found&quot;);\n        } else {\n            System.out.println(&quot;Match not found&quot;);\n        }\n\n}\n</code></pre>\n"}],"owner":{"account_id":13005093,"reputation":1,"user_id":9399871,"display_name":"Yallaling Kolkur"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":7,"up_vote_count":0,"answer_count":2,"score":-7,"last_activity_date":1678694094,"creation_date":1557128399,"question_id":56000774,"body_markdown":"How to prepare a pattern that is &quot;any numbers immediately after &#39;E-&#39; in a string using a PatternMatcher in java&quot;.\r\n\r\nExample:\r\n\r\n   1. ACCRUE-DRINTEREST\r\n       it contais E-\r\n   2. ACCRUE-INTEREST\r\n       it contais E-\r\n   3. Error:E-10094##U\r\n      it contais E-10094, numbers may be whatever after E-\r\n\r\nI need the third String because it contains numbers after the E-\r\n\r\nHow to prepare a pattern for this?","title":"how match &quot;E-10094&quot; using pattern matcher in java","body":"<p>How to prepare a pattern that is \"any numbers immediately after 'E-' in a string using a PatternMatcher in java\".</p>\n\n<p>Example:</p>\n\n<ol>\n<li>ACCRUE-DRINTEREST\n   it contais E-</li>\n<li>ACCRUE-INTEREST\n   it contais E-</li>\n<li>Error:E-10094##U\n  it contais E-10094, numbers may be whatever after E-</li>\n</ol>\n\n<p>I need the third String because it contains numbers after the E-</p>\n\n<p>How to prepare a pattern for this?</p>\n"},{"tags":["java","httpclient","osgi","tomcat9","osgi-bundle"],"comments":[{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1678694398,"post_id":75719211,"comment_id":133576178,"body_markdown":"Very similar to [this question](https://stackoverflow.com/a/75719247/13447) that I&#39;ve just answered before reading this one. Please check if it helps you","body":"Very similar to <a href=\"https://stackoverflow.com/a/75719247/13447\">this question</a> that I&#39;ve just answered before reading this one. Please check if it helps you"}],"owner":{"account_id":26466522,"reputation":1,"user_id":20107638,"display_name":"Nitin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678693983,"creation_date":1678693983,"question_id":75719211,"body_markdown":"I have a dependency on org.apache.httpclient 4.5.13.\r\nWhen I try to start the servers, wildfly is working fine, but tomcat says that\r\n\r\nMar 13, 2023 11:15:14 AM org.apache.catalina.core.ApplicationContext log\r\nINFO: The bundle \\\\Servers\\tomcat\\bundles\\ROOT\\httpmime-4.5.13.jar does not have a Bundle-Name or Bundle-Version header in META-INF/MANIFEST.MF!\r\nMar 13, 2023 11:15:15 AM org.apache.catalina.core.ApplicationContext log\r\nINFO: The bundle \\\\Servers\\tomcat\\bundles\\ROOT\\j2objc-annotations-1.1.jar does not have a Bundle-Name or Bundle-Version header in META-INF/MANIFEST.MF!\r\nMar 13, 2023 11:15:15 AM org.apache.catalina.core.ApplicationContext log\r\nINFO: The bundle \\\\Servers\\tomcat\\bundles\\ROOT\\httpcore-4.4.13.jar does not have a Bundle-Name or Bundle-Version header in META-INF/MANIFEST.MF!\r\nMar 13, 2023 11:15:15 AM org.apache.catalina.core.ApplicationContext log\r\nINFO: The bundle \\\\Servers\\tomcat\\bundles\\ROOT\\fluent-hc-4.5.13.jar does not have a Bundle-Name or Bundle-Version header in META-INF/MANIFEST.MF!\r\nMar 13, 2023 11:15:16 AM org.apache.catalina.core.ApplicationContext log\r\nINFO: The bundle \\\\Servers\\tomcat\\bundles\\ROOT\\checker-compat-qual-2.0.0.jar does not have a Bundle-Name or Bundle-Version header in META-INF/MANIFEST.MF!\r\n\r\nand at the bottom of the log, it says that it is waiting for modules to start\r\n\r\nMar 13, 2023 11:15:50 AM org.apache.catalina.core.ApplicationContext log\r\nINFO: ROOT: Waiting for 9 modules to start: [httpmime-4.5.13.jar, j2objc-annotations-1.1.jar, httpcore-4.4.13.jar, httpclient-4.5.13.jar, error_prone_annotations-2.1.3.jar, fluent-hc-4.5.13.jar, checker-compat-qual-2.0.0.jar, animal-sniffer-annotations-1.14.jar, httpclient-cache-4.5.13.jar] in the context of: ROOT\r\n\r\n\r\n\r\n\r\ncan anyone help?\r\n\r\n\r\n\r\nI downloaded the jar file manually, it does not contain the bundle-name or bundle-version.","title":"tomcat waiting too long for some modules related to httpclient to start","body":"<p>I have a dependency on org.apache.httpclient 4.5.13.\nWhen I try to start the servers, wildfly is working fine, but tomcat says that</p>\n<p>Mar 13, 2023 11:15:14 AM org.apache.catalina.core.ApplicationContext log\nINFO: The bundle \\Servers\\tomcat\\bundles\\ROOT\\httpmime-4.5.13.jar does not have a Bundle-Name or Bundle-Version header in META-INF/MANIFEST.MF!\nMar 13, 2023 11:15:15 AM org.apache.catalina.core.ApplicationContext log\nINFO: The bundle \\Servers\\tomcat\\bundles\\ROOT\\j2objc-annotations-1.1.jar does not have a Bundle-Name or Bundle-Version header in META-INF/MANIFEST.MF!\nMar 13, 2023 11:15:15 AM org.apache.catalina.core.ApplicationContext log\nINFO: The bundle \\Servers\\tomcat\\bundles\\ROOT\\httpcore-4.4.13.jar does not have a Bundle-Name or Bundle-Version header in META-INF/MANIFEST.MF!\nMar 13, 2023 11:15:15 AM org.apache.catalina.core.ApplicationContext log\nINFO: The bundle \\Servers\\tomcat\\bundles\\ROOT\\fluent-hc-4.5.13.jar does not have a Bundle-Name or Bundle-Version header in META-INF/MANIFEST.MF!\nMar 13, 2023 11:15:16 AM org.apache.catalina.core.ApplicationContext log\nINFO: The bundle \\Servers\\tomcat\\bundles\\ROOT\\checker-compat-qual-2.0.0.jar does not have a Bundle-Name or Bundle-Version header in META-INF/MANIFEST.MF!</p>\n<p>and at the bottom of the log, it says that it is waiting for modules to start</p>\n<p>Mar 13, 2023 11:15:50 AM org.apache.catalina.core.ApplicationContext log\nINFO: ROOT: Waiting for 9 modules to start: [httpmime-4.5.13.jar, j2objc-annotations-1.1.jar, httpcore-4.4.13.jar, httpclient-4.5.13.jar, error_prone_annotations-2.1.3.jar, fluent-hc-4.5.13.jar, checker-compat-qual-2.0.0.jar, animal-sniffer-annotations-1.14.jar, httpclient-cache-4.5.13.jar] in the context of: ROOT</p>\n<p>can anyone help?</p>\n<p>I downloaded the jar file manually, it does not contain the bundle-name or bundle-version.</p>\n"},{"tags":["java","spring-boot","ejb"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1678698869,"post_id":75719148,"comment_id":133577217,"body_markdown":"Implement what. This has nothing to do with SPring Boot but reading on how the Serlvet 3+ API works for java based configuration **or** simply stick to using a web.xml. What have you tried so far?","body":"Implement what. This has nothing to do with SPring Boot but reading on how the Serlvet 3+ API works for java based configuration <b>or</b> simply stick to using a web.xml. What have you tried so far?"},{"owner":{"account_id":28003510,"reputation":1,"user_id":21387296,"display_name":"wlkl"},"score":0,"creation_date":1678867685,"post_id":75719148,"comment_id":133614407,"body_markdown":"Thanks a lot for your answer. I registered RM2KMUDelegatingServlet through the configuration class in SpringBoot, but I don&#39;t know how to grant permissions to this servlet.","body":"Thanks a lot for your answer. I registered RM2KMUDelegatingServlet through the configuration class in SpringBoot, but I don&#39;t know how to grant permissions to this servlet."},{"owner":{"account_id":28003510,"reputation":1,"user_id":21387296,"display_name":"wlkl"},"score":0,"creation_date":1678867698,"post_id":75719148,"comment_id":133614412,"body_markdown":"describe:\nKeyOperationsEJB is located in an ejb project, and its retrieveKey() method is decorated with @RolesAllowed;\nRM2KMUDelegatingServlet exists in another SpringBoot project，this servlet gets the KeyOperationsEJB in the ejb project through InitialContext.lookup(&quot;java:global/emag/xxxx!xxx.ejb.session.KeyOperationsEJB&quot;), and calls its retrieveKey() method, calling After reporting &quot;KeyOperations is not allowed&quot;","body":"describe: KeyOperationsEJB is located in an ejb project, and its retrieveKey() method is decorated with @RolesAllowed; RM2KMUDelegatingServlet exists in another SpringBoot project，this servlet gets the KeyOperationsEJB in the ejb project through InitialContext.lookup(&quot;java:global/emag/xxxx!xxx.ejb.session&zwnj;&#8203;.KeyOperationsEJB&quot;), and calls its retrieveKey() method, calling After reporting &quot;KeyOperations is not allowed&quot;"},{"owner":{"account_id":28003510,"reputation":1,"user_id":21387296,"display_name":"wlkl"},"score":0,"creation_date":1678867705,"post_id":75719148,"comment_id":133614414,"body_markdown":"Ask:\nThe error should be that RM2KMUDelegatingServlet was not assigned the corresponding role when registering in SpringBoot. In the old project, the assignment of roles was done in web.xml. Can I implement the assignment of roles in SpringBoot","body":"Ask: The error should be that RM2KMUDelegatingServlet was not assigned the corresponding role when registering in SpringBoot. In the old project, the assignment of roles was done in web.xml. Can I implement the assignment of roles in SpringBoot"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1678870069,"post_id":75719148,"comment_id":133615039,"body_markdown":"You haven&#39;t shown any configuration, and as stated read how Servlet API 3 works for java configuration which explains the XML alternatives for java. Which also has a run-as equivalent.","body":"You haven&#39;t shown any configuration, and as stated read how Servlet API 3 works for java configuration which explains the XML alternatives for java. Which also has a run-as equivalent."}],"owner":{"account_id":28003510,"reputation":1,"user_id":21387296,"display_name":"wlkl"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678693535,"creation_date":1678693535,"question_id":75719148,"body_markdown":"The old project uses servlet 2.4, Spring 2.5.4, and Struts. Now, we need to upgrade to Spring Boot 2.x. During the upgrade process, we encountered a problem that there is a servlet in the old project, which is defined in the web.xml as follows:\r\n\r\n```xml\r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;KMUDelegatingServlet&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;crs.gov.ogcio.mars.rm.servlet.RM2KMUDelegatingServlet&lt;/servlet-class&gt;\r\n        &lt;run-as&gt;\r\n            &lt;role-name&gt;keyservice_readonly&lt;/role-name&gt;\r\n        &lt;/run-as&gt;\r\n    &lt;/servlet&gt;\r\n```\r\n\r\nRM2KMUDelegatingServlet：\r\n```java\r\npublic class RM2KMUDelegatingServlet extends EnvPropertiesBase implements Servlet {\r\n    private ServletConfig m_config;\r\n    private Properties m_runtimeProperties;\r\n    private String m_keyOperationsJNDIName;\r\n\r\n    public RM2KMUDelegatingServlet() {\r\n    }\r\n\r\n    public void init(ServletConfig config) throws ServletException {\r\n        try {\r\n            this.m_config = config;\r\n            this.m_runtimeProperties = this.getRuntimeProperties();\r\n            this.m_keyOperationsJNDIName = this.m_runtimeProperties.getProperty(&quot;KEY_OPERATIONS_EJB_REMOTE_JNDI_NAME&quot;, &quot;java:global/egis_rm_keyservice/egis_rm_keyservice_ejb/KeyOperations!crs.gov.ogcio.egis.rm.keyservice.appserver.ejb.session.IKeyOperations&quot;);\r\n        } catch (Exception var3) {\r\n            this.logError(&quot;RM2KMUDelegatingServlet Cannot init RM2KMUDelegatingServlet&quot;, var3);\r\n            throw new ServletException(&quot;Cannot init RM2KMUDelegatingServlet&quot;, var3);\r\n        }\r\n    }\r\n\r\n    public ServletConfig getServletConfig() {\r\n        return this.m_config;\r\n    }\r\n\r\n    public void service(ServletRequest request, ServletResponse response) {\r\n        boolean alreadyLogged = false;\r\n        InitialContext context = null;\r\n        try {\r\n            String keyName = (String)request.getAttribute(KMUCredentialResolver.KEY_NAME_ATTRIBUTE);\r\n            if (keyName == null) {\r\n                this.logWarn(&quot;RM2KMUDelegatingServlet Could not find key name from request&quot;);\r\n                alreadyLogged = true;\r\n                throw new Exception(&quot;RM2KMUDelegatingServlet Could not find key name from request&quot;);\r\n            }\r\n            context = new InitialContext(this.m_runtimeProperties);\r\n\r\n            // Get the beans of other ear packages through jndi\r\n            IKeyOperations keyOperations = (IKeyOperations)context.lookup(this.m_keyOperationsJNDIName);\r\n            // This method is marked by @RolesAllowed({&quot;keyservice_readonly&quot;, &quot;keyservice_admin&quot;, &quot;keyservice_internal&quot;})\r\n            SerializableKeyEntry entry = keyOperations.retrieveEntry(keyName, new Date());\r\n\r\n            request.setAttribute(KMUCredentialResolver.KEY_ENTRY_ATTRIBUTE, entry);\r\n        } catch (Exception var16) {\r\n            if (!alreadyLogged) {\r\n                this.logError(&quot;RM2KMUDelegatingServlet General exception raised&quot;, var16);\r\n            }\r\n            request.setAttribute(KMUCredentialResolver.EXCEPTION_ATTRIBUTE, var16);\r\n        } finally {\r\n            if (context != null) {\r\n                try {\r\n                    context.close();\r\n                } catch (Exception var15) {\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nIKeyOperations：\r\n```java\r\n@Stateless(\r\n    name = &quot;KeyOperations&quot;\r\n)\r\n@TransactionAttribute(TransactionAttributeType.SUPPORTS)\r\n@DenyAll\r\n@RunAs(&quot;keyservice_internal&quot;)\r\npublic class KeyOperationsEJB extends EJBBase implements IKeyOperations, IKeyOperationsLocal {\r\n\r\n    @RolesAllowed({&quot;keyservice_readonly&quot;, &quot;keyservice_admin&quot;, &quot;keyservice_internal&quot;})\r\n    public SerializableKeyEntry retrieveEntry(String friendlyAlias, Date forDate) throws KeyStoreException {\r\n        if (!this.initialized) {\r\n            throw new KeyStoreException(&quot;KeyService has not been initialized.&quot;);\r\n        } else {\r\n            try {\r\n                KeyStoreIndex ksi = this.keystoreIndexDAO.findByFriendlyAlias(friendlyAlias, forDate);\r\n                if (ksi == null) {\r\n                    throw new KeyNotFoundException(friendlyAlias, forDate);\r\n                } else if (!this.verifyKeyStoreIndexEntry(ksi, this.masterCertificate)) {\r\n                    this.logWarn(&quot;This KeyStoreInfo record has been tempered. friendlyAlias:&quot; + friendlyAlias + &quot; date:&quot; + forDate);\r\n                    throw new KeyStoreInfoRecordTemperedException(friendlyAlias, forDate);\r\n                } else {\r\n                    KeyStore.Entry entry = this.getEntryFromKeyStore(ksi, this.pwdOpsLocal);\r\n                    SerializableKeyEntry skEntry = new SerializableKeyEntry();\r\n                    if (entry instanceof KeyStore.PrivateKeyEntry) {\r\n                        KeyStore.PrivateKeyEntry privKeyEntry = (KeyStore.PrivateKeyEntry)entry;\r\n                        Certificate cert = privKeyEntry.getCertificate();\r\n                        skEntry.setCertificate((X509Certificate)privKeyEntry.getCertificate());\r\n                        skEntry.setCertificateChain((X509Certificate[])((X509Certificate[])privKeyEntry.getCertificateChain()));\r\n                        skEntry.setPrivateKey(privKeyEntry.getPrivateKey());\r\n                    } else if (entry instanceof KeyStore.TrustedCertificateEntry) {\r\n                        KeyStore.TrustedCertificateEntry trustedCertEntry = (KeyStore.TrustedCertificateEntry)entry;\r\n                        skEntry.setCertificate((X509Certificate)trustedCertEntry.getTrustedCertificate());\r\n                    } else if (entry instanceof KeyStore.SecretKeyEntry) {\r\n                        KeyStore.SecretKeyEntry secretKeyEntry = (KeyStore.SecretKeyEntry)entry;\r\n                        skEntry.setSecretKey(secretKeyEntry.getSecretKey());\r\n                    }\r\n\r\n                    return skEntry;\r\n                }\r\n            } catch (IOException var8) {\r\n                this.logError(&quot;IOException&quot;, var8);\r\n                throw new KeyStoreException(&quot;IOException &quot; + var8.getMessage());\r\n            } catch (Exception var9) {\r\n                this.logError(&quot;Exception&quot;, var9);\r\n                throw new KeyStoreException(var9.getClass().getName() + var9.getMessage());\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nThe retrieveEntry method of KeyOperationsEJB is marked with @RolesAllowed, calling keyOperations.retrieveEntry(keyName, new Date()) in RM2KMUDelegatingServlet reports java.security.KeyStoreException of bean: KeyOperations is not allowed, how can I implement &lt;run-as&gt; in SpringBoot\r\n\r\nCaused by: javax.ejb.EJBAccessException: WFLYEJB0364: Invocation on method: public abstract hk.gov.ogcio.egis.rm.keyservice.common.SerializableKeyEntry hk.gov.ogcio.egis.rm.keyservice.appserver.ejb.session.IKeyOperations.retrieveEntry(java.lang.String,java.util.Date) throws java.security.KeyStoreException of bean: KeyOperations is not allowed","title":"How to configure the &lt;run-as&gt; tag for a servlet in a Spring Boot project?","body":"<p>The old project uses servlet 2.4, Spring 2.5.4, and Struts. Now, we need to upgrade to Spring Boot 2.x. During the upgrade process, we encountered a problem that there is a servlet in the old project, which is defined in the web.xml as follows:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;servlet&gt;\n        &lt;servlet-name&gt;KMUDelegatingServlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;crs.gov.ogcio.mars.rm.servlet.RM2KMUDelegatingServlet&lt;/servlet-class&gt;\n        &lt;run-as&gt;\n            &lt;role-name&gt;keyservice_readonly&lt;/role-name&gt;\n        &lt;/run-as&gt;\n    &lt;/servlet&gt;\n</code></pre>\n<p>RM2KMUDelegatingServlet：</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class RM2KMUDelegatingServlet extends EnvPropertiesBase implements Servlet {\n    private ServletConfig m_config;\n    private Properties m_runtimeProperties;\n    private String m_keyOperationsJNDIName;\n\n    public RM2KMUDelegatingServlet() {\n    }\n\n    public void init(ServletConfig config) throws ServletException {\n        try {\n            this.m_config = config;\n            this.m_runtimeProperties = this.getRuntimeProperties();\n            this.m_keyOperationsJNDIName = this.m_runtimeProperties.getProperty(&quot;KEY_OPERATIONS_EJB_REMOTE_JNDI_NAME&quot;, &quot;java:global/egis_rm_keyservice/egis_rm_keyservice_ejb/KeyOperations!crs.gov.ogcio.egis.rm.keyservice.appserver.ejb.session.IKeyOperations&quot;);\n        } catch (Exception var3) {\n            this.logError(&quot;RM2KMUDelegatingServlet Cannot init RM2KMUDelegatingServlet&quot;, var3);\n            throw new ServletException(&quot;Cannot init RM2KMUDelegatingServlet&quot;, var3);\n        }\n    }\n\n    public ServletConfig getServletConfig() {\n        return this.m_config;\n    }\n\n    public void service(ServletRequest request, ServletResponse response) {\n        boolean alreadyLogged = false;\n        InitialContext context = null;\n        try {\n            String keyName = (String)request.getAttribute(KMUCredentialResolver.KEY_NAME_ATTRIBUTE);\n            if (keyName == null) {\n                this.logWarn(&quot;RM2KMUDelegatingServlet Could not find key name from request&quot;);\n                alreadyLogged = true;\n                throw new Exception(&quot;RM2KMUDelegatingServlet Could not find key name from request&quot;);\n            }\n            context = new InitialContext(this.m_runtimeProperties);\n\n            // Get the beans of other ear packages through jndi\n            IKeyOperations keyOperations = (IKeyOperations)context.lookup(this.m_keyOperationsJNDIName);\n            // This method is marked by @RolesAllowed({&quot;keyservice_readonly&quot;, &quot;keyservice_admin&quot;, &quot;keyservice_internal&quot;})\n            SerializableKeyEntry entry = keyOperations.retrieveEntry(keyName, new Date());\n\n            request.setAttribute(KMUCredentialResolver.KEY_ENTRY_ATTRIBUTE, entry);\n        } catch (Exception var16) {\n            if (!alreadyLogged) {\n                this.logError(&quot;RM2KMUDelegatingServlet General exception raised&quot;, var16);\n            }\n            request.setAttribute(KMUCredentialResolver.EXCEPTION_ATTRIBUTE, var16);\n        } finally {\n            if (context != null) {\n                try {\n                    context.close();\n                } catch (Exception var15) {\n                }\n            }\n        }\n    }\n}\n\n</code></pre>\n<p>IKeyOperations：</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Stateless(\n    name = &quot;KeyOperations&quot;\n)\n@TransactionAttribute(TransactionAttributeType.SUPPORTS)\n@DenyAll\n@RunAs(&quot;keyservice_internal&quot;)\npublic class KeyOperationsEJB extends EJBBase implements IKeyOperations, IKeyOperationsLocal {\n\n    @RolesAllowed({&quot;keyservice_readonly&quot;, &quot;keyservice_admin&quot;, &quot;keyservice_internal&quot;})\n    public SerializableKeyEntry retrieveEntry(String friendlyAlias, Date forDate) throws KeyStoreException {\n        if (!this.initialized) {\n            throw new KeyStoreException(&quot;KeyService has not been initialized.&quot;);\n        } else {\n            try {\n                KeyStoreIndex ksi = this.keystoreIndexDAO.findByFriendlyAlias(friendlyAlias, forDate);\n                if (ksi == null) {\n                    throw new KeyNotFoundException(friendlyAlias, forDate);\n                } else if (!this.verifyKeyStoreIndexEntry(ksi, this.masterCertificate)) {\n                    this.logWarn(&quot;This KeyStoreInfo record has been tempered. friendlyAlias:&quot; + friendlyAlias + &quot; date:&quot; + forDate);\n                    throw new KeyStoreInfoRecordTemperedException(friendlyAlias, forDate);\n                } else {\n                    KeyStore.Entry entry = this.getEntryFromKeyStore(ksi, this.pwdOpsLocal);\n                    SerializableKeyEntry skEntry = new SerializableKeyEntry();\n                    if (entry instanceof KeyStore.PrivateKeyEntry) {\n                        KeyStore.PrivateKeyEntry privKeyEntry = (KeyStore.PrivateKeyEntry)entry;\n                        Certificate cert = privKeyEntry.getCertificate();\n                        skEntry.setCertificate((X509Certificate)privKeyEntry.getCertificate());\n                        skEntry.setCertificateChain((X509Certificate[])((X509Certificate[])privKeyEntry.getCertificateChain()));\n                        skEntry.setPrivateKey(privKeyEntry.getPrivateKey());\n                    } else if (entry instanceof KeyStore.TrustedCertificateEntry) {\n                        KeyStore.TrustedCertificateEntry trustedCertEntry = (KeyStore.TrustedCertificateEntry)entry;\n                        skEntry.setCertificate((X509Certificate)trustedCertEntry.getTrustedCertificate());\n                    } else if (entry instanceof KeyStore.SecretKeyEntry) {\n                        KeyStore.SecretKeyEntry secretKeyEntry = (KeyStore.SecretKeyEntry)entry;\n                        skEntry.setSecretKey(secretKeyEntry.getSecretKey());\n                    }\n\n                    return skEntry;\n                }\n            } catch (IOException var8) {\n                this.logError(&quot;IOException&quot;, var8);\n                throw new KeyStoreException(&quot;IOException &quot; + var8.getMessage());\n            } catch (Exception var9) {\n                this.logError(&quot;Exception&quot;, var9);\n                throw new KeyStoreException(var9.getClass().getName() + var9.getMessage());\n            }\n        }\n    }\n}\n</code></pre>\n<p>The retrieveEntry method of KeyOperationsEJB is marked with @RolesAllowed, calling keyOperations.retrieveEntry(keyName, new Date()) in RM2KMUDelegatingServlet reports java.security.KeyStoreException of bean: KeyOperations is not allowed, how can I implement  in SpringBoot</p>\n<p>Caused by: javax.ejb.EJBAccessException: WFLYEJB0364: Invocation on method: public abstract hk.gov.ogcio.egis.rm.keyservice.common.SerializableKeyEntry hk.gov.ogcio.egis.rm.keyservice.appserver.ejb.session.IKeyOperations.retrieveEntry(java.lang.String,java.util.Date) throws java.security.KeyStoreException of bean: KeyOperations is not allowed</p>\n"},{"tags":["java","android","broadcastreceiver","broadcast"],"answers":[{"comments":[{"owner":{"account_id":12592849,"reputation":1,"user_id":9158807,"display_name":"김종대"},"score":0,"creation_date":1515071501,"post_id":48095286,"comment_id":83166740,"body_markdown":"Your answer has been a great help. Android n and later models will run normally. However, it is sad that previous versions do not work because it is not a direct boot.","body":"Your answer has been a great help. Android n and later models will run normally. However, it is sad that previous versions do not work because it is not a direct boot."},{"owner":{"account_id":11909716,"reputation":144,"user_id":9921472,"display_name":"Ieshaan Saxena"},"score":0,"creation_date":1678304247,"post_id":48095286,"comment_id":133508574,"body_markdown":"Please don&#39;t use `android:priority` more than [SYSTEM_HIGH_PRIORITY](https://developer.android.com/reference/android/content/IntentFilter#SYSTEM_HIGH_PRIORITY). Max value allowed is `999`","body":"Please don&#39;t use <code>android:priority</code> more than <a href=\"https://developer.android.com/reference/android/content/IntentFilter#SYSTEM_HIGH_PRIORITY\" rel=\"nofollow noreferrer\">SYSTEM_HIGH_PRIORITY</a>. Max value allowed is <code>999</code>"}],"tags":[],"owner":{"account_id":1518326,"reputation":373,"user_id":4978534,"display_name":"Serhat T&#252;rkman"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678559571,"creation_date":1515068604,"answer_id":48095286,"question_id":48095105,"body_markdown":"Try [my solution][1]. \r\n\r\n1- Add \r\n\r\n    &lt;action android:name=&quot;android.intent.action.LOCKED_BOOT_COMPLETED&quot; /&gt;\r\n\r\nto your intent filter.\r\n\r\n2- Add android:directBootAware=&quot;true&quot; to your intent filter so your manifest should look like this:\r\n\r\n            &lt;receiver\r\n            android:name=&quot;.LockerBootReceiver&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:directBootAware=&quot;true&quot;&gt;\r\n            &lt;intent-filter android:priority=&quot;999&quot;&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\r\n                &lt;action android:name=&quot;android.intent.action.QUICKBOOT_POWERON&quot; /&gt;\r\n                &lt;action android:name=&quot;android.intent.action.LOCKED_BOOT_COMPLETED&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/receiver&gt;\r\n\r\n2- Replace your code\r\n\r\n     public final class LockerBootReceiver extends BroadcastReceiver {\r\n         public final void onReceive(Context context, Intent intent) {\r\n            if(&quot;android.intent.action.BOOT_COMPLETED&quot;.equals(intent.getAction()) || &quot;android.intent.action.LOCKED_BOOT_COMPLETED&quot;.equals(intent.getAction())) {\r\n                  Intent intent2 = new Intent(context, LockerService.class);\r\n                  intent2.putExtra(&quot;extra.LOCK_ON_BOOT&quot;, true);\r\n                context.startService(intent2);\r\n           }\r\n        }\r\n     }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/48094426/4978534","title":"This apps boot completed is fast","body":"<p>Try <a href=\"https://stackoverflow.com/a/48094426/4978534\">my solution</a>.</p>\n<p>1- Add</p>\n<pre><code>&lt;action android:name=&quot;android.intent.action.LOCKED_BOOT_COMPLETED&quot; /&gt;\n</code></pre>\n<p>to your intent filter.</p>\n<p>2- Add android:directBootAware=&quot;true&quot; to your intent filter so your manifest should look like this:</p>\n<pre><code>        &lt;receiver\n        android:name=&quot;.LockerBootReceiver&quot;\n        android:enabled=&quot;true&quot;\n        android:exported=&quot;true&quot;\n        android:directBootAware=&quot;true&quot;&gt;\n        &lt;intent-filter android:priority=&quot;999&quot;&gt;\n            &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n            &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\n            &lt;action android:name=&quot;android.intent.action.QUICKBOOT_POWERON&quot; /&gt;\n            &lt;action android:name=&quot;android.intent.action.LOCKED_BOOT_COMPLETED&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/receiver&gt;\n</code></pre>\n<p>2- Replace your code</p>\n<pre><code> public final class LockerBootReceiver extends BroadcastReceiver {\n     public final void onReceive(Context context, Intent intent) {\n        if(&quot;android.intent.action.BOOT_COMPLETED&quot;.equals(intent.getAction()) || &quot;android.intent.action.LOCKED_BOOT_COMPLETED&quot;.equals(intent.getAction())) {\n              Intent intent2 = new Intent(context, LockerService.class);\n              intent2.putExtra(&quot;extra.LOCK_ON_BOOT&quot;, true);\n            context.startService(intent2);\n       }\n    }\n }\n</code></pre>\n"}],"owner":{"account_id":12592849,"reputation":1,"user_id":9158807,"display_name":"김종대"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":460,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678693406,"creation_date":1515068036,"question_id":48095105,"body_markdown":"\r\nIf you use this source, it will be called as soon as &quot;boot completed&quot; is booted. How is this possible? It takes more than 20 seconds for my smartphone(galaxy s5) to be used as it is.\r\n\r\nthe original app is here\r\nhttps://play.google.com/store/apps/details?id=qlocker.gesture&amp;hl=ko\r\n\r\n**manifest**\r\n\r\n```xml\r\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\r\n\r\n        &lt;service android:name=&quot;qlocker.common.LockerService&quot; android:process=&quot;:locker&quot; /&gt;\r\n        &lt;receiver android:name=&quot;qlocker.common.LockerService$LockerBootReceiver&quot; android:enabled=&quot;true&quot;&gt;\r\n            &lt;intent-filter android:priority=&quot;999&quot;&gt;\r\n                &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/receiver&gt;\r\n```\r\n\r\n**lockerService.java**\r\n\r\n```java\r\n     public final class LockerBootReceiver extends BroadcastReceiver {\r\n          public final void onReceive(Context context, Intent intent) {\r\n              if(&quot;android.intent.action.BOOT_COMPLETED&quot;.equals(intent.getAction())) {\r\n                  Intent intent2 = new Intent(context, LockerService.class);\r\n                  intent2.putExtra(&quot;extra.LOCK_ON_BOOT&quot;, true);\r\n                context.startService(intent2);\r\n            }\r\n        }\r\n    }\r\n```","title":"This apps boot completed is fast","body":"<p>If you use this source, it will be called as soon as &quot;boot completed&quot; is booted. How is this possible? It takes more than 20 seconds for my smartphone(galaxy s5) to be used as it is.</p>\n<p>the original app is here\n<a href=\"https://play.google.com/store/apps/details?id=qlocker.gesture&amp;hl=ko\" rel=\"nofollow noreferrer\">https://play.google.com/store/apps/details?id=qlocker.gesture&amp;hl=ko</a></p>\n<p><strong>manifest</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\n\n        &lt;service android:name=&quot;qlocker.common.LockerService&quot; android:process=&quot;:locker&quot; /&gt;\n        &lt;receiver android:name=&quot;qlocker.common.LockerService$LockerBootReceiver&quot; android:enabled=&quot;true&quot;&gt;\n            &lt;intent-filter android:priority=&quot;999&quot;&gt;\n                &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n</code></pre>\n<p><strong>lockerService.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>     public final class LockerBootReceiver extends BroadcastReceiver {\n          public final void onReceive(Context context, Intent intent) {\n              if(&quot;android.intent.action.BOOT_COMPLETED&quot;.equals(intent.getAction())) {\n                  Intent intent2 = new Intent(context, LockerService.class);\n                  intent2.putExtra(&quot;extra.LOCK_ON_BOOT&quot;, true);\n                context.startService(intent2);\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","android","firebase","push-notification","firebase-cloud-messaging"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1678288741,"post_id":75674910,"comment_id":133504079,"body_markdown":"Show us what you have tried in code.","body":"Show us what you have tried in code."}],"answers":[{"comments":[{"owner":{"account_id":21928398,"reputation":13,"user_id":16210657,"display_name":"Ma7mouD_7"},"score":0,"creation_date":1678490077,"post_id":75677568,"comment_id":133549123,"body_markdown":"Thanks, it worked for me \nps: its `OkHttpClient client = new OkHttpClient();` not `OkHttpClient client = new OkHttpClient().newBuilder().build();` \nalso i added dependancy `implementation &#39;com.squareup.okio:okio:3.3.0&#39;` it was required","body":"Thanks, it worked for me  ps: its <code>OkHttpClient client = new OkHttpClient();</code> not <code>OkHttpClient client = new OkHttpClient().newBuilder().build();</code>  also i added dependancy <code>implementation &#39;com.squareup.okio:okio:3.3.0&#39;</code> it was required"},{"owner":{"account_id":19896142,"reputation":167,"user_id":14577209,"display_name":"Maleesha97"},"score":0,"creation_date":1678693310,"post_id":75677568,"comment_id":133575928,"body_markdown":"Updated the answer according to your feedback!.","body":"Updated the answer according to your feedback!."}],"tags":[],"owner":{"account_id":19896142,"reputation":167,"user_id":14577209,"display_name":"Maleesha97"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678693273,"creation_date":1678304879,"answer_id":75677568,"question_id":75674910,"body_markdown":"Here&#39;s how I send the push notification to a specific mobile token. I hope it helps,\r\n\r\n            Thread t1 = new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                OkHttpClient client = new OkHttpClient();\r\n                        \r\n                MediaType mediaType = MediaType.parse(&quot;application/json&quot;);\r\n                RequestBody body = RequestBody.create(mediaType, &quot;{\\r\\n   \\&quot;to\\&quot; : \\&quot;&quot;+mobileToken+&quot;\\&quot;,\\r\\n   \\&quot;data\\&quot; : {\\r\\n     \\&quot;Action\\&quot; : \\&quot;on\\&quot;\\r\\n   }\\r\\n } &quot;);\r\n                Request request = new Request.Builder()\r\n                        .url(&quot;https://fcm.googleapis.com/fcm/send&quot;)\r\n                        .method(&quot;POST&quot;, body)\r\n                        .addHeader(&quot;Authorization&quot;, &quot;key=AuthKEY&quot;)\r\n                        .addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n                        .build();\r\n                try {\r\n                    Response response = client.newCall(request).execute();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        });\r\n        t1.start();\r\n\r\nDependancy,\r\n\r\n    implementation &#39;io.grpc:grpc-okhttp:1.30.0&#39;\r\n    implementation &#39;com.squareup.okio:okio:3.3.0&#39;\r\n\r\n","title":"Send Push notifications by FCM - Android","body":"<p>Here's how I send the push notification to a specific mobile token. I hope it helps,</p>\n<pre><code>        Thread t1 = new Thread(new Runnable() {\n        @Override\n        public void run() {\n            OkHttpClient client = new OkHttpClient();\n                    \n            MediaType mediaType = MediaType.parse(&quot;application/json&quot;);\n            RequestBody body = RequestBody.create(mediaType, &quot;{\\r\\n   \\&quot;to\\&quot; : \\&quot;&quot;+mobileToken+&quot;\\&quot;,\\r\\n   \\&quot;data\\&quot; : {\\r\\n     \\&quot;Action\\&quot; : \\&quot;on\\&quot;\\r\\n   }\\r\\n } &quot;);\n            Request request = new Request.Builder()\n                    .url(&quot;https://fcm.googleapis.com/fcm/send&quot;)\n                    .method(&quot;POST&quot;, body)\n                    .addHeader(&quot;Authorization&quot;, &quot;key=AuthKEY&quot;)\n                    .addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\n                    .build();\n            try {\n                Response response = client.newCall(request).execute();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    });\n    t1.start();\n</code></pre>\n<p>Dependancy,</p>\n<pre><code>implementation 'io.grpc:grpc-okhttp:1.30.0'\nimplementation 'com.squareup.okio:okio:3.3.0'\n</code></pre>\n"}],"owner":{"account_id":21928398,"reputation":13,"user_id":16210657,"display_name":"Ma7mouD_7"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75677568,"answer_count":1,"score":0,"last_activity_date":1678693273,"creation_date":1678288684,"question_id":75674910,"body_markdown":"I&#39;m working on application in which i want to send push notifications to specific user \r\n\r\n\r\nI got his token, store it.\r\n\r\nAlso got my API key.\r\n\r\nI tried to send POST request with postman and it did it successfully, i want to do it programmatically in my code \r\n\r\n    private void notif(){\r\n    String json = &quot;{\\&quot;to\\&quot;: \\&quot;&lt;USER_FCM&gt;\\&quot;,\\&quot;notification\\&quot;: {\\&quot;title\\&quot;: \\&quot;Check this Mobile (title)\\&quot;,\\&quot;body\\&quot;: \\&quot;Rich Notification testing (body)\\&quot;}&quot;;\r\n\r\n    CloseableHttpClient httpClient = HttpClientBuilder.create().build();\r\n    try {\r\n        JSONObject jsonObject = new JSONObject(json);\r\n    } catch (JSONException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\n\r\n    try {\r\n        HttpPost request = new HttpPost(&quot;https://fcm.googleapis.com/fcm/send&quot;);\r\n        StringEntity params =new StringEntity(&quot;details={\\&quot;name\\&quot;:\\&quot;myname\\&quot;,\\&quot;age\\&quot;:\\&quot;20\\&quot;} &quot;, ContentType.APPLICATION_JSON);\r\n        request.addHeader(&quot;content-type&quot;, &quot;application/json&quot;);\r\n        request.addHeader(&quot;Authorization&quot;,&quot;key=&lt;API_KEY&gt;&quot;);\r\n        request.setEntity(params);\r\n        HttpResponse response;\r\n        response = httpClient.execute(request);\r\n        String test = response.getEntity().getContent().toString();\r\n        Log.d(&quot;RESPONSESS&quot;,test);\r\n\r\n    }catch (Exception ex) {\r\n\r\n    } finally {\r\n        try {\r\n            httpClient.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\nThanks in advance ","title":"Send Push notifications by FCM - Android","body":"<p>I'm working on application in which i want to send push notifications to specific user</p>\n<p>I got his token, store it.</p>\n<p>Also got my API key.</p>\n<p>I tried to send POST request with postman and it did it successfully, i want to do it programmatically in my code</p>\n<pre><code>private void notif(){\nString json = &quot;{\\&quot;to\\&quot;: \\&quot;&lt;USER_FCM&gt;\\&quot;,\\&quot;notification\\&quot;: {\\&quot;title\\&quot;: \\&quot;Check this Mobile (title)\\&quot;,\\&quot;body\\&quot;: \\&quot;Rich Notification testing (body)\\&quot;}&quot;;\n\nCloseableHttpClient httpClient = HttpClientBuilder.create().build();\ntry {\n    JSONObject jsonObject = new JSONObject(json);\n} catch (JSONException e) {\n    e.printStackTrace();\n}\n\n\ntry {\n    HttpPost request = new HttpPost(&quot;https://fcm.googleapis.com/fcm/send&quot;);\n    StringEntity params =new StringEntity(&quot;details={\\&quot;name\\&quot;:\\&quot;myname\\&quot;,\\&quot;age\\&quot;:\\&quot;20\\&quot;} &quot;, ContentType.APPLICATION_JSON);\n    request.addHeader(&quot;content-type&quot;, &quot;application/json&quot;);\n    request.addHeader(&quot;Authorization&quot;,&quot;key=&lt;API_KEY&gt;&quot;);\n    request.setEntity(params);\n    HttpResponse response;\n    response = httpClient.execute(request);\n    String test = response.getEntity().getContent().toString();\n    Log.d(&quot;RESPONSESS&quot;,test);\n\n}catch (Exception ex) {\n\n} finally {\n    try {\n        httpClient.close();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>}</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","duplicates","addition","hashset"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":3,"creation_date":1601651810,"post_id":64174058,"comment_id":113481196,"body_markdown":"The IDE takes that from the official documentation. The other is just some random site. Who would you rather believe?","body":"The IDE takes that from the official documentation. The other is just some random site. Who would you rather believe?"},{"owner":{"account_id":19402702,"reputation":989,"user_id":14188899,"display_name":"Stefan"},"score":1,"creation_date":1601651850,"post_id":64174058,"comment_id":113481219,"body_markdown":"The IDE :) But how could people that made that site make such a big mistake then?","body":"The IDE :) But how could people that made that site make such a big mistake then?"},{"owner":{"account_id":10759610,"reputation":12648,"user_id":7916438,"display_name":"tevemadar"},"score":4,"creation_date":1601651942,"post_id":64174058,"comment_id":113481256,"body_markdown":"You can&#39;t be *that* new to the internet :-)","body":"You can&#39;t be <i>that</i> new to the internet :-)"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1601651963,"post_id":64174058,"comment_id":113481264,"body_markdown":"@Stefan because for all intents and purposes the outcome is the same :) Also, what tevemadar said :P","body":"@Stefan because for all intents and purposes the outcome is the same :) Also, what tevemadar said :P"},{"owner":{"account_id":19402702,"reputation":989,"user_id":14188899,"display_name":"Stefan"},"score":0,"creation_date":1601652110,"post_id":64174058,"comment_id":113481330,"body_markdown":"@tevemadar Hahah true.. But the problem is those &quot;random&quot; sites sometimes make &#39;prettier&#39; explanation of some concepts. Official docs are sometimes too hard to follow for me as a beginner","body":"@tevemadar Hahah true.. But the problem is those &quot;random&quot; sites sometimes make &#39;prettier&#39; explanation of some concepts. Official docs are sometimes too hard to follow for me as a beginner"}],"answers":[{"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1601672476,"post_id":64174262,"comment_id":113488944,"body_markdown":"It is much better to consult the official javadoc than to look at the source code.  The source code can change (and has changed) from one version of Java to the next, but the javadoc is more than documentation, it is a *contract* which specifies guaranteed behavior, forever, regardless of the internal implementation.","body":"It is much better to consult the official javadoc than to look at the source code.  The source code can change (and has changed) from one version of Java to the next, but the javadoc is more than documentation, it is a <i>contract</i> which specifies guaranteed behavior, forever, regardless of the internal implementation."}],"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1601652456,"creation_date":1601652456,"answer_id":64174262,"question_id":64174058,"body_markdown":"Any the theories can be verified by looking at the source code.\r\n\r\nFor example, for JDK 8, [`HashSet::add`](http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/HashSet.java) implemented as follows:\r\n```java\r\n/**\r\n     * Adds the specified element to this set if it is not already present.\r\n     * More formally, adds the specified element &lt;tt&gt;e&lt;/tt&gt; to this set if\r\n     * this set contains no element &lt;tt&gt;e2&lt;/tt&gt; such that\r\n     * &lt;tt&gt;(e==null&amp;nbsp;?&amp;nbsp;e2==null&amp;nbsp;:&amp;nbsp;e.equals(e2))&lt;/tt&gt;.\r\n     * If this set already contains the element, the call leaves the set\r\n     * unchanged and returns &lt;tt&gt;false&lt;/tt&gt;.\r\n     *\r\n     * @param e element to be added to this set\r\n     * @return &lt;tt&gt;true&lt;/tt&gt; if this set did not already contain the specified\r\n     * element\r\n     */\r\n    public boolean add(E e) {\r\n        return map.put(e, PRESENT)==null;\r\n    }\r\n```\r\n\r\nHere `map` is an instance of `HashMap`, so we should look at [`HashMap::put`](http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/HashMap.java):\r\n```java\r\n /**\r\n     * Associates the specified value with the specified key in this map.\r\n     * If the map previously contained a mapping for the key, the old\r\n     * value is replaced.\r\n     *\r\n     * @param key key with which the specified value is to be associated\r\n     * @param value value to be associated with the specified key\r\n     * @return the previous value associated with &lt;tt&gt;key&lt;/tt&gt;, or\r\n     *         &lt;tt&gt;null&lt;/tt&gt; if there was no mapping for &lt;tt&gt;key&lt;/tt&gt;.\r\n     *         (A &lt;tt&gt;null&lt;/tt&gt; return can also indicate that the map\r\n     *         previously associated &lt;tt&gt;null&lt;/tt&gt; with &lt;tt&gt;key&lt;/tt&gt;.)\r\n     */\r\n    public V put(K key, V value) {\r\n        return putVal(hash(key), key, value, false, true);\r\n    }\r\n```\r\nand implementation of `putVal` contains this code:\r\n```java\r\n            if (e != null) { // existing mapping for key\r\n                V oldValue = e.value;\r\n                if (!onlyIfAbsent || oldValue == null)\r\n                    e.value = value;\r\n                afterNodeAccess(e);\r\n                return oldValue;\r\n            }\r\n```\r\n","title":"What happens when I add duplicate element into HashSet? Is old element overwritten or not?","body":"<p>Any the theories can be verified by looking at the source code.</p>\n<p>For example, for JDK 8, <a href=\"http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/HashSet.java\" rel=\"nofollow noreferrer\"><code>HashSet::add</code></a> implemented as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n     * Adds the specified element to this set if it is not already present.\n     * More formally, adds the specified element &lt;tt&gt;e&lt;/tt&gt; to this set if\n     * this set contains no element &lt;tt&gt;e2&lt;/tt&gt; such that\n     * &lt;tt&gt;(e==null&amp;nbsp;?&amp;nbsp;e2==null&amp;nbsp;:&amp;nbsp;e.equals(e2))&lt;/tt&gt;.\n     * If this set already contains the element, the call leaves the set\n     * unchanged and returns &lt;tt&gt;false&lt;/tt&gt;.\n     *\n     * @param e element to be added to this set\n     * @return &lt;tt&gt;true&lt;/tt&gt; if this set did not already contain the specified\n     * element\n     */\n    public boolean add(E e) {\n        return map.put(e, PRESENT)==null;\n    }\n</code></pre>\n<p>Here <code>map</code> is an instance of <code>HashMap</code>, so we should look at <a href=\"http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/HashMap.java\" rel=\"nofollow noreferrer\"><code>HashMap::put</code></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code> /**\n     * Associates the specified value with the specified key in this map.\n     * If the map previously contained a mapping for the key, the old\n     * value is replaced.\n     *\n     * @param key key with which the specified value is to be associated\n     * @param value value to be associated with the specified key\n     * @return the previous value associated with &lt;tt&gt;key&lt;/tt&gt;, or\n     *         &lt;tt&gt;null&lt;/tt&gt; if there was no mapping for &lt;tt&gt;key&lt;/tt&gt;.\n     *         (A &lt;tt&gt;null&lt;/tt&gt; return can also indicate that the map\n     *         previously associated &lt;tt&gt;null&lt;/tt&gt; with &lt;tt&gt;key&lt;/tt&gt;.)\n     */\n    public V put(K key, V value) {\n        return putVal(hash(key), key, value, false, true);\n    }\n</code></pre>\n<p>and implementation of <code>putVal</code> contains this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>            if (e != null) { // existing mapping for key\n                V oldValue = e.value;\n                if (!onlyIfAbsent || oldValue == null)\n                    e.value = value;\n                afterNodeAccess(e);\n                return oldValue;\n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1732446,"reputation":10591,"user_id":1585767,"accept_rate":85,"display_name":"Andres"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1601652596,"creation_date":1601652596,"answer_id":64174292,"question_id":64174058,"body_markdown":"Execute the program below and you&#39;ll see the duplicate elements are not allowed:\r\n\r\n    import java.util.HashSet;\r\n    \r\n    public class Test {\r\n    \tpublic static class Dummy{\r\n    \t\t String s1;\r\n    \t\t String s2;\r\n    \t\tpublic Dummy(String s1, String s2) {\r\n    \t\t\tsuper();\r\n    \t\t\tthis.s1 = s1;\r\n    \t\t\tthis.s2 = s2;\r\n    \t\t}\r\n    \t\t@Override\r\n    \t\tpublic int hashCode() {\r\n    \t\t\tfinal int prime = 31;\r\n    \t\t\tint result = 1;\r\n    \t\t\tresult = prime * result + ((s1 == null) ? 0 : s1.hashCode());\r\n    \t\t\treturn result;\r\n    \t\t}\r\n    \t\t@Override\r\n    \t\tpublic boolean equals(Object obj) {\r\n    \t\t\tif (this == obj)\r\n    \t\t\t\treturn true;\r\n    \t\t\tif (obj == null)\r\n    \t\t\t\treturn false;\r\n    \t\t\tif (getClass() != obj.getClass())\r\n    \t\t\t\treturn false;\r\n    \t\t\tDummy other = (Dummy) obj;\r\n    \t\t\tif (s1 == null) {\r\n    \t\t\t\tif (other.s1 != null)\r\n    \t\t\t\t\treturn false;\r\n    \t\t\t} else if (!s1.equals(other.s1))\r\n    \t\t\t\treturn false;\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t\t@Override\r\n    \t\tpublic String toString() {\r\n    \t\t\treturn &quot;Dummy [s1=&quot; + s1 + &quot;, s2=&quot; + s2 + &quot;]&quot;;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tHashSet&lt;Object&gt;hashSet =new HashSet&lt;&gt;();\r\n    \t\tObject o1 = new Dummy(&quot;a&quot;,&quot;b&quot;);\r\n    \t\tObject o2 = new Dummy(&quot;a&quot;,&quot;c&quot;);\r\n    \t\tSystem.out.println(o1.equals(o2));\r\n    \t\thashSet.add(o1);\r\n    \t\tSystem.out.println(hashSet);\r\n    \t\thashSet.add(o2);\r\n    \t\tSystem.out.println(hashSet);\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"What happens when I add duplicate element into HashSet? Is old element overwritten or not?","body":"<p>Execute the program below and you'll see the duplicate elements are not allowed:</p>\n<pre><code>import java.util.HashSet;\n\npublic class Test {\n    public static class Dummy{\n         String s1;\n         String s2;\n        public Dummy(String s1, String s2) {\n            super();\n            this.s1 = s1;\n            this.s2 = s2;\n        }\n        @Override\n        public int hashCode() {\n            final int prime = 31;\n            int result = 1;\n            result = prime * result + ((s1 == null) ? 0 : s1.hashCode());\n            return result;\n        }\n        @Override\n        public boolean equals(Object obj) {\n            if (this == obj)\n                return true;\n            if (obj == null)\n                return false;\n            if (getClass() != obj.getClass())\n                return false;\n            Dummy other = (Dummy) obj;\n            if (s1 == null) {\n                if (other.s1 != null)\n                    return false;\n            } else if (!s1.equals(other.s1))\n                return false;\n            return true;\n        }\n        @Override\n        public String toString() {\n            return &quot;Dummy [s1=&quot; + s1 + &quot;, s2=&quot; + s2 + &quot;]&quot;;\n        }\n    }\n    \n    \n    public static void main(String[] args) {\n        HashSet&lt;Object&gt;hashSet =new HashSet&lt;&gt;();\n        Object o1 = new Dummy(&quot;a&quot;,&quot;b&quot;);\n        Object o2 = new Dummy(&quot;a&quot;,&quot;c&quot;);\n        System.out.println(o1.equals(o2));\n        hashSet.add(o1);\n        System.out.println(hashSet);\n        hashSet.add(o2);\n        System.out.println(hashSet);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1601689770,"creation_date":1601652677,"answer_id":64174317,"question_id":64174058,"body_markdown":"The IDE is displaying an excerpt from the official specification (the [javadocs][1]) for the `Set.add` method. \r\n\r\nThe IDE is correct.  Trust the official documentation, not some &quot;pretty&quot; website.\r\n\r\n-------------------------\r\n\r\n&gt; But how could people that made that site make such a big mistake then? \r\n\r\nAlways remember that the primary motivation for websites like the one you found is to earn money from your page views.  They often pay more attention to &quot;search engine optimization&quot; than they do the quality of their material.\r\n\r\n------------------------\r\n\r\n&gt; But the problem is those &quot;random&quot; sites sometimes make &#39;prettier&#39; explanation of some concepts. Official docs are sometimes too hard to follow for me as a beginner.\r\n\r\nSo which is preferable?  Something that easy to read, but wrong?  Or something that is accurate?\r\n\r\nIn this case, you cannot argue that the official document is hard to understand.  You yourself were able to see that the contradiction between the text taken from the official documentation and the 3rd-party website.\r\n\r\nMy advice us to always try to read the Official javadocs first, and always believe it ahead of any other sources ... *including StackOverflow answers!!*  The only thing that is more definitive&lt;sup&gt;1&lt;/sup&gt; is the OpenJDK source code.\r\n\r\n------------------\r\n\r\n&lt;sup&gt;1 - And even that is debatable.  On the one hand, the code determines what actually happens.  On the other hand, the code may change from one version to another.  So relying on behavior that is not *specified* in the javadocs may result in portability issues.&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Set.html#add-E-","title":"What happens when I add duplicate element into HashSet? Is old element overwritten or not?","body":"<p>The IDE is displaying an excerpt from the official specification (the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Set.html#add-E-\" rel=\"nofollow noreferrer\">javadocs</a>) for the <code>Set.add</code> method.</p>\n<p>The IDE is correct.  Trust the official documentation, not some &quot;pretty&quot; website.</p>\n<hr />\n<blockquote>\n<p>But how could people that made that site make such a big mistake then?</p>\n</blockquote>\n<p>Always remember that the primary motivation for websites like the one you found is to earn money from your page views.  They often pay more attention to &quot;search engine optimization&quot; than they do the quality of their material.</p>\n<hr />\n<blockquote>\n<p>But the problem is those &quot;random&quot; sites sometimes make 'prettier' explanation of some concepts. Official docs are sometimes too hard to follow for me as a beginner.</p>\n</blockquote>\n<p>So which is preferable?  Something that easy to read, but wrong?  Or something that is accurate?</p>\n<p>In this case, you cannot argue that the official document is hard to understand.  You yourself were able to see that the contradiction between the text taken from the official documentation and the 3rd-party website.</p>\n<p>My advice us to always try to read the Official javadocs first, and always believe it ahead of any other sources ... <em>including StackOverflow answers!!</em>  The only thing that is more definitive<sup>1</sup> is the OpenJDK source code.</p>\n<hr />\n<p><sup>1 - And even that is debatable.  On the one hand, the code determines what actually happens.  On the other hand, the code may change from one version to another.  So relying on behavior that is not <em>specified</em> in the javadocs may result in portability issues.</sup></p>\n"},{"tags":[],"owner":{"account_id":23407827,"reputation":11,"user_id":17469957,"display_name":"Zerin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678693142,"creation_date":1678693142,"answer_id":75719108,"question_id":64174058,"body_markdown":"The IDE says &quot;unchanged&quot;, which includes two cases.\r\n\r\n1. Overwrite the old element, so keep &quot;unchanged&quot;.\r\n2. Do not modify, so keep &quot;unchanged&quot;.\r\n\r\nTo determine which case is correct, we need to look for the answer in the source code of the `add` method in `HashSet`.\r\n\r\nFirst, the `add` method calls the `put` method in `HashMap`:\r\n\r\n```java\r\npublic boolean add(E e) {\r\n    return map.put(e, PRESENT)==null;\r\n}\r\n```\r\n\r\nThen, the `put` method calls the `putVal` method:\r\n\r\n```java\r\nfinal V putVal(int hash, K key, V value, boolean onlyIfAbsent,\r\n               boolean evict) {\r\n    Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; p; int n, i;\r\n    if ((tab = table) == null || (n = tab.length) == 0)\r\n        n = (tab = resize()).length;\r\n    if ((p = tab[i = (n - 1) &amp; hash]) == null)\r\n        tab[i] = newNode(hash, key, value, null);\r\n    else {\r\n        Node&lt;K,V&gt; e; K k;\r\n        if (p.hash == hash &amp;&amp;\r\n            ((k = p.key) == key || (key != null &amp;&amp; key.equals(k))))\r\n            e = p;\r\n        else if (p instanceof TreeNode)\r\n            e = ((TreeNode&lt;K,V&gt;)p).putTreeVal(this, tab, hash, key, value);\r\n        else {\r\n            for (int binCount = 0; ; ++binCount) {\r\n                if ((e = p.next) == null) {\r\n                    p.next = newNode(hash, key, value, null);\r\n                    if (binCount &gt;= TREEIFY_THRESHOLD - 1)\r\n                        treeifyBin(tab, hash);\r\n                    break;\r\n                }\r\n                if (e.hash == hash &amp;&amp;\r\n                    ((k = e.key) == key || (key != null &amp;&amp; key.equals(k))))\r\n                    break;\r\n                p = e;\r\n            }\r\n        }\r\n        if (e != null) { \r\n            V oldValue = e.value;\r\n            if (!onlyIfAbsent || oldValue == null)\r\n                e.value = value;\r\n            return oldValue;\r\n        }\r\n    }\r\n    ++modCount;\r\n    if (++size &gt; threshold)\r\n        resize();\r\n    return null;\r\n}\r\n```\r\n\r\nThe key part is:\r\n\r\n```java\r\nif (e != null) { \r\n    V oldValue = e.value;\r\n    if (!onlyIfAbsent || oldValue == null)\r\n        e.value = value;\r\n    return oldValue;\r\n}\r\n```\r\n\r\nFirstly, the code will check whether the found matching node `e` is null. If it is not `null`, it means that there is already a node in the hash table whose key is the same as the key of the newly inserted node, and the value of this node needs to be updated.\r\n\r\nThen, the code stores the old value of the same node in the `oldValue` variable.\r\n\r\n**Next, the code checks whether it needs to update the value of the node. If `onlyIfAbsent` is false or the old value is null, it means that the value of the node needs to be updated.** Since the `put` method passes the `onlyIfAbsent` parameter as false, it is here that a new value overwrites the old value, which proves that the first case is correct (overwrite the old element, so keep &quot;unchanged&quot;).","title":"What happens when I add duplicate element into HashSet? Is old element overwritten or not?","body":"<p>The IDE says &quot;unchanged&quot;, which includes two cases.</p>\n<ol>\n<li>Overwrite the old element, so keep &quot;unchanged&quot;.</li>\n<li>Do not modify, so keep &quot;unchanged&quot;.</li>\n</ol>\n<p>To determine which case is correct, we need to look for the answer in the source code of the <code>add</code> method in <code>HashSet</code>.</p>\n<p>First, the <code>add</code> method calls the <code>put</code> method in <code>HashMap</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean add(E e) {\n    return map.put(e, PRESENT)==null;\n}\n</code></pre>\n<p>Then, the <code>put</code> method calls the <code>putVal</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final V putVal(int hash, K key, V value, boolean onlyIfAbsent,\n               boolean evict) {\n    Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; p; int n, i;\n    if ((tab = table) == null || (n = tab.length) == 0)\n        n = (tab = resize()).length;\n    if ((p = tab[i = (n - 1) &amp; hash]) == null)\n        tab[i] = newNode(hash, key, value, null);\n    else {\n        Node&lt;K,V&gt; e; K k;\n        if (p.hash == hash &amp;&amp;\n            ((k = p.key) == key || (key != null &amp;&amp; key.equals(k))))\n            e = p;\n        else if (p instanceof TreeNode)\n            e = ((TreeNode&lt;K,V&gt;)p).putTreeVal(this, tab, hash, key, value);\n        else {\n            for (int binCount = 0; ; ++binCount) {\n                if ((e = p.next) == null) {\n                    p.next = newNode(hash, key, value, null);\n                    if (binCount &gt;= TREEIFY_THRESHOLD - 1)\n                        treeifyBin(tab, hash);\n                    break;\n                }\n                if (e.hash == hash &amp;&amp;\n                    ((k = e.key) == key || (key != null &amp;&amp; key.equals(k))))\n                    break;\n                p = e;\n            }\n        }\n        if (e != null) { \n            V oldValue = e.value;\n            if (!onlyIfAbsent || oldValue == null)\n                e.value = value;\n            return oldValue;\n        }\n    }\n    ++modCount;\n    if (++size &gt; threshold)\n        resize();\n    return null;\n}\n</code></pre>\n<p>The key part is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (e != null) { \n    V oldValue = e.value;\n    if (!onlyIfAbsent || oldValue == null)\n        e.value = value;\n    return oldValue;\n}\n</code></pre>\n<p>Firstly, the code will check whether the found matching node <code>e</code> is null. If it is not <code>null</code>, it means that there is already a node in the hash table whose key is the same as the key of the newly inserted node, and the value of this node needs to be updated.</p>\n<p>Then, the code stores the old value of the same node in the <code>oldValue</code> variable.</p>\n<p><strong>Next, the code checks whether it needs to update the value of the node. If <code>onlyIfAbsent</code> is false or the old value is null, it means that the value of the node needs to be updated.</strong> Since the <code>put</code> method passes the <code>onlyIfAbsent</code> parameter as false, it is here that a new value overwrites the old value, which proves that the first case is correct (overwrite the old element, so keep &quot;unchanged&quot;).</p>\n"}],"owner":{"account_id":19402702,"reputation":989,"user_id":14188899,"display_name":"Stefan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":437,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":64174317,"answer_count":4,"score":2,"last_activity_date":1678693142,"creation_date":1601651695,"question_id":64174058,"body_markdown":"Say I want to add duplicate element in `HashSet`. We know that is not allowed. So I came across 2, let&#39;s say *theories*. \r\n\r\nUnder &#39;PROPERTIES, number 2&#39; of this [link][1], it says:\r\n\r\n&gt; HashSet does not allow duplicate elements. If you try to insert a\r\n&gt; duplicate element, older element will be overwritten\r\n\r\nBut when I check docs that are provided to me in IDE, in method `add()`, it states:\r\n \r\n\r\n&gt;     * If this set already contains the element, the call leaves the set\r\n&gt;     * unchanged and returns {@code false}.\r\n\r\nSo does it overwrite(replace) old element or it leaves the set unchanged and returns false? :) Am I crazy of they say exactly the opposite?\r\n\r\n  [1]: https://javaconceptoftheday.com/java-collection-framework-hashset-class/","title":"What happens when I add duplicate element into HashSet? Is old element overwritten or not?","body":"<p>Say I want to add duplicate element in <code>HashSet</code>. We know that is not allowed. So I came across 2, let's say <em>theories</em>.</p>\n<p>Under 'PROPERTIES, number 2' of this <a href=\"https://javaconceptoftheday.com/java-collection-framework-hashset-class/\" rel=\"nofollow noreferrer\">link</a>, it says:</p>\n<blockquote>\n<p>HashSet does not allow duplicate elements. If you try to insert a\nduplicate element, older element will be overwritten</p>\n</blockquote>\n<p>But when I check docs that are provided to me in IDE, in method <code>add()</code>, it states:</p>\n<blockquote>\n<pre><code>* If this set already contains the element, the call leaves the set\n* unchanged and returns {@code false}.\n</code></pre>\n</blockquote>\n<p>So does it overwrite(replace) old element or it leaves the set unchanged and returns false? :) Am I crazy of they say exactly the opposite?</p>\n"},{"tags":["java","copy"],"answers":[{"tags":[],"owner":{"account_id":4180297,"reputation":41806,"user_id":3425536,"accept_rate":72,"display_name":"Emil Laine"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1459299414,"creation_date":1459299093,"answer_id":36297739,"question_id":36297602,"body_markdown":"&gt; When making a deep copy of a String[] array is this how you would do it in a very simple way?\n\nYes.\n\nYou need to\n\n1. allocate a new object\n2. deep-copy the contents from the source object\n\nand that&#39;s exactly what your method does.\n\nNote that this only works because `String` is immutable, otherwise you would be performing a shallow copy of the contents.","title":"Basic Deep Copy, Java","body":"<blockquote>\n  <p>When making a deep copy of a String[] array is this how you would do it in a very simple way?</p>\n</blockquote>\n\n<p>Yes.</p>\n\n<p>You need to</p>\n\n<ol>\n<li>allocate a new object</li>\n<li>deep-copy the contents from the source object</li>\n</ol>\n\n<p>and that's exactly what your method does.</p>\n\n<p>Note that this only works because <code>String</code> is immutable, otherwise you would be performing a shallow copy of the contents.</p>\n"},{"tags":[],"owner":{"account_id":27973978,"reputation":13,"user_id":21363174,"display_name":"pik4760"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678693100,"creation_date":1678363480,"answer_id":75684368,"question_id":36297602,"body_markdown":"I think you can also use `Arrays.copyOf(others,others.length)` for a deep copy.","title":"Basic Deep Copy, Java","body":"<p>I think you can also use <code>Arrays.copyOf(others,others.length)</code> for a deep copy.</p>\n"}],"owner":{"account_id":7670095,"reputation":132,"user_id":5812645,"accept_rate":60,"display_name":"CabDude"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":36297739,"answer_count":2,"score":0,"last_activity_date":1678693100,"creation_date":1459298207,"question_id":36297602,"body_markdown":"Okay, so i know there is a million questions out there on deep copy but i still have a hard time understanding because there is all this talk about cloning and serialization and what not. When making a deep copy of a String[] array is this how you would do it in a very simple way? without validating.\r\n\r\n    public String[] copyString(String[] others)\r\n      {\r\n        String[] copy = new String[others.length];\r\n        for (int i = 0; i &lt; others.length; i++)\r\n        {\r\n          copy[i] = others[i];\r\n        }\r\n        \r\n        return copy;\r\n      }","title":"Basic Deep Copy, Java","body":"<p>Okay, so i know there is a million questions out there on deep copy but i still have a hard time understanding because there is all this talk about cloning and serialization and what not. When making a deep copy of a String[] array is this how you would do it in a very simple way? without validating.</p>\n\n<pre><code>public String[] copyString(String[] others)\n  {\n    String[] copy = new String[others.length];\n    for (int i = 0; i &lt; others.length; i++)\n    {\n      copy[i] = others[i];\n    }\n\n    return copy;\n  }\n</code></pre>\n"},{"tags":["java","android","c++","android-studio","android-ndk"],"comments":[{"owner":{"account_id":3530120,"reputation":6781,"user_id":2949966,"display_name":"ahasbini"},"score":0,"creation_date":1534200792,"post_id":51693989,"comment_id":90617281,"body_markdown":"The difference between current C++ NDK in Android Studio 3.X and the one used for the development of Card.io is the build/compilation tools which respectively are CMake and NDK-build. Android Studio and the Android Gradle Plugin have better integrations with CMake as they recommend it for any new project. So creating a new project and debugging it would mean ur using the newer integrations and not the one used for the development of card.io. To find the proper way of debugging card.io, one would need to create an new NDK-Build project and try it. https://developer.android.com/ndk/guides/","body":"The difference between current C++ NDK in Android Studio 3.X and the one used for the development of Card.io is the build/compilation tools which respectively are CMake and NDK-build. Android Studio and the Android Gradle Plugin have better integrations with CMake as they recommend it for any new project. So creating a new project and debugging it would mean ur using the newer integrations and not the one used for the development of card.io. To find the proper way of debugging card.io, one would need to create an new NDK-Build project and try it. <a href=\"https://developer.android.com/ndk/guides/\" rel=\"nofollow noreferrer\">developer.android.com/ndk/guides</a>"},{"owner":{"account_id":5472107,"reputation":1492,"user_id":4351182,"accept_rate":86,"display_name":"Alexander Belokon"},"score":0,"creation_date":1534244577,"post_id":51693989,"comment_id":90632702,"body_markdown":"But where is the integration defined? In a new project for example I can switch from CMake to NDK-build and debugging will still work. I just can&#39;t see then where the difference is in regard to the card.io project.","body":"But where is the integration defined? In a new project for example I can switch from CMake to NDK-build and debugging will still work. I just can&#39;t see then where the difference is in regard to the card.io project."}],"answers":[{"comments":[{"owner":{"account_id":5472107,"reputation":1492,"user_id":4351182,"accept_rate":86,"display_name":"Alexander Belokon"},"score":1,"creation_date":1534146937,"post_id":51768109,"comment_id":90589205,"body_markdown":"Hi, thanks for your answer, but I&#39;m getting the following error: Task &#39;buildNative&#39; not found in project","body":"Hi, thanks for your answer, but I&#39;m getting the following error: Task &#39;buildNative&#39; not found in project"},{"owner":{"account_id":5472107,"reputation":1492,"user_id":4351182,"accept_rate":86,"display_name":"Alexander Belokon"},"score":1,"creation_date":1534148748,"post_id":51768109,"comment_id":90590054,"body_markdown":"Also if I run &quot;./gradlew tasks&quot; there is no buildNative listed","body":"Also if I run &quot;./gradlew tasks&quot; there is no buildNative listed"},{"owner":{"account_id":434708,"reputation":4233,"user_id":820861,"accept_rate":100,"display_name":"Pravin Divraniya"},"score":0,"creation_date":1534166231,"post_id":51768109,"comment_id":90600629,"body_markdown":"Make sure that you have installed the ndk and ndk-build is in your PATH. If not, set the environment variable for the ndk file","body":"Make sure that you have installed the ndk and ndk-build is in your PATH. If not, set the environment variable for the ndk file"},{"owner":{"account_id":5472107,"reputation":1492,"user_id":4351182,"accept_rate":86,"display_name":"Alexander Belokon"},"score":0,"creation_date":1534166554,"post_id":51768109,"comment_id":90600844,"body_markdown":"The ndk.dir is set in the local.properties of the project","body":"The ndk.dir is set in the local.properties of the project"},{"owner":{"account_id":434708,"reputation":4233,"user_id":820861,"accept_rate":100,"display_name":"Pravin Divraniya"},"score":0,"creation_date":1534167112,"post_id":51768109,"comment_id":90601161,"body_markdown":"[Read](https://software.intel.com/en-us/articles/building-an-android-command-line-application-using-the-ndk-build-tools) Set up your build environment section.","body":"<a href=\"https://software.intel.com/en-us/articles/building-an-android-command-line-application-using-the-ndk-build-tools\" rel=\"nofollow noreferrer\">Read</a> Set up your build environment section."},{"owner":{"account_id":5472107,"reputation":1492,"user_id":4351182,"accept_rate":86,"display_name":"Alexander Belokon"},"score":0,"creation_date":1534244323,"post_id":51768109,"comment_id":90632531,"body_markdown":"./gradlew is actually working and I can also run assembleDebug, but not buildNative","body":"./gradlew is actually working and I can also run assembleDebug, but not buildNative"},{"owner":{"account_id":434708,"reputation":4233,"user_id":820861,"accept_rate":100,"display_name":"Pravin Divraniya"},"score":0,"creation_date":1534245084,"post_id":51768109,"comment_id":90633018,"body_markdown":"buildNative is command inside NDK and to run it you need to set environment variable to indicate the location of the NDK directory.","body":"buildNative is command inside NDK and to run it you need to set environment variable to indicate the location of the NDK directory."},{"owner":{"account_id":5472107,"reputation":1492,"user_id":4351182,"accept_rate":86,"display_name":"Alexander Belokon"},"score":0,"creation_date":1534338307,"post_id":51768109,"comment_id":90670640,"body_markdown":"Even though this answer got the bounty auto-assigned - the mentioned solution is not working.","body":"Even though this answer got the bounty auto-assigned - the mentioned solution is not working."},{"owner":{"account_id":20140273,"reputation":892,"user_id":14770245,"display_name":"James S"},"score":0,"creation_date":1683005176,"post_id":51768109,"comment_id":134296598,"body_markdown":"If you&#39;re developing for multiple platforms and have more than one API version installed, make sure the environment is clean for the specific target build. Studio might be picking up incorrect paths.","body":"If you&#39;re developing for multiple platforms and have more than one API version installed, make sure the environment is clean for the specific target build. Studio might be picking up incorrect paths."}],"tags":[],"owner":{"account_id":434708,"reputation":4233,"user_id":820861,"accept_rate":100,"display_name":"Pravin Divraniya"},"comment_count":9,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1533883845,"creation_date":1533820659,"answer_id":51768109,"question_id":51693989,"body_markdown":"As per [this link][1] read **Compile** section..\r\n\r\n&gt; If everything is set up properly, the NDK build will be invoked by\r\n&gt; gradle when card.io is built. But for debugging, you can use `./gradlew`\r\n&gt; `buildNative` to kick off just this portion of the build.\r\n\r\nIf you face any errors in `./gradlew buildNative` then check [this thread][2].\r\n\r\nI didn&#39;t check it, So Hope it works.\r\n\r\n\r\n  [1]: https://github.com/card-io/card.io-Android-source/tree/master/card.io/src/main/jni\r\n  [2]: https://github.com/card-io/card.io-Android-source/issues/60","title":"Android Studio - Enable native C++ debugging in existing older project (card.io Android Source)","body":"<p>As per <a href=\"https://github.com/card-io/card.io-Android-source/tree/master/card.io/src/main/jni\" rel=\"nofollow noreferrer\">this link</a> read <strong>Compile</strong> section..</p>\n\n<blockquote>\n  <p>If everything is set up properly, the NDK build will be invoked by\n  gradle when card.io is built. But for debugging, you can use <code>./gradlew</code>\n  <code>buildNative</code> to kick off just this portion of the build.</p>\n</blockquote>\n\n<p>If you face any errors in <code>./gradlew buildNative</code> then check <a href=\"https://github.com/card-io/card.io-Android-source/issues/60\" rel=\"nofollow noreferrer\">this thread</a>.</p>\n\n<p>I didn't check it, So Hope it works.</p>\n"}],"owner":{"account_id":5472107,"reputation":1492,"user_id":4351182,"accept_rate":86,"display_name":"Alexander Belokon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":876,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":1,"score":18,"last_activity_date":1678692907,"creation_date":1533469182,"question_id":51693989,"body_markdown":"I am currently trying to understand how the native implementation of the [card.io Android Source][1] does work. For this purpose, it would be great to have the possibility to debug the native `C++` code. Currently, my breakpoints are not respected. \r\n\r\nI did try the following approaches:\r\n\r\n1. Adjust the Application make file (Application.mk):\r\n\r\n       APP_ABI := armeabi-v7a\r\n       APP_CFLAGS += -UNDEBUG -O0 -g -ggdb \r\n       APP_OPTIM := debug\r\n       APP_CPPFLAGS += -DDMZ_DEBUG=1\r\n\r\n2. Add buildtype to the build.gradle file of the SampleApp\r\n\r\n       buildTypes {\r\n           release {\r\n               minifyEnabled true\r\n               proguardFile getDefaultProguardFile(&#39;proguard-android.txt&#39;)\r\n           }\r\n           debug {\r\n               debuggable true\r\n           }\r\n       }\r\n\r\n  [1]: https://github.com/card-io/card.io-Android-source\r\n\r\n**Note:**\r\nI am using `Android Studio 3.1` with `Ubuntu 16.04` *(64-bit)* and if I create a new project with `C++` support, debugging is perfectly working.\r\n\r\nWe are debugging on an `Android 7.0` device; the project is using an `NDK-build` system.","title":"Android Studio - Enable native C++ debugging in existing older project (card.io Android Source)","body":"<p>I am currently trying to understand how the native implementation of the <a href=\"https://github.com/card-io/card.io-Android-source\" rel=\"nofollow noreferrer\">card.io Android Source</a> does work. For this purpose, it would be great to have the possibility to debug the native <code>C++</code> code. Currently, my breakpoints are not respected.</p>\n<p>I did try the following approaches:</p>\n<ol>\n<li><p>Adjust the Application make file (Application.mk):</p>\n<pre><code>APP_ABI := armeabi-v7a\nAPP_CFLAGS += -UNDEBUG -O0 -g -ggdb \nAPP_OPTIM := debug\nAPP_CPPFLAGS += -DDMZ_DEBUG=1\n</code></pre>\n</li>\n<li><p>Add buildtype to the build.gradle file of the SampleApp</p>\n<pre><code>buildTypes {\n    release {\n        minifyEnabled true\n        proguardFile getDefaultProguardFile('proguard-android.txt')\n    }\n    debug {\n        debuggable true\n    }\n}\n</code></pre>\n</li>\n</ol>\n<p><strong>Note:</strong>\nI am using <code>Android Studio 3.1</code> with <code>Ubuntu 16.04</code> <em>(64-bit)</em> and if I create a new project with <code>C++</code> support, debugging is perfectly working.</p>\n<p>We are debugging on an <code>Android 7.0</code> device; the project is using an <code>NDK-build</code> system.</p>\n"},{"tags":["java","rest","curl","oauth-2.0","collabnet"],"comments":[{"owner":{"account_id":13132281,"reputation":116,"user_id":9486436,"display_name":"JPinzon01"},"score":0,"creation_date":1542988515,"post_id":53447784,"comment_id":93772000,"body_markdown":"Your Java code is using a JSON body, but the bash script has the parameters in the post request directly, not in a JSON body. Have you tried calling it the same way?","body":"Your Java code is using a JSON body, but the bash script has the parameters in the post request directly, not in a JSON body. Have you tried calling it the same way?"},{"owner":{"account_id":8172523,"reputation":89,"user_id":6152465,"display_name":"Sašo Pavlič"},"score":0,"creation_date":1543433328,"post_id":53447784,"comment_id":93922312,"body_markdown":"@JPinzon01 You mean creating a POST request with parameters in the URL?\nExample:POST: www.myapi.com?grant_type=password&amp;client_id=api-client&amp;scope=$scope&amp;username=$username&amp;password=$password","body":"@JPinzon01 You mean creating a POST request with parameters in the URL? Example:POST: www.myapi.com?grant_type=password&amp;client_id=api-client&amp;scope&zwnj;&#8203;=$scope&amp;username=$us&zwnj;&#8203;ername&amp;password=$pas&zwnj;&#8203;sword"},{"owner":{"account_id":13132281,"reputation":116,"user_id":9486436,"display_name":"JPinzon01"},"score":0,"creation_date":1543525593,"post_id":53447784,"comment_id":93961721,"body_markdown":"Not in the URL, but in the body. You can try putting the same string you use for the bash script instead of the JSON. The thing is the Oauth2 server is not expecting a JSON request, is expecting a regular POST with HTTP parameters in the body. The response is a JSON object, but the request doesn&#39;t have to be the same format.","body":"Not in the URL, but in the body. You can try putting the same string you use for the bash script instead of the JSON. The thing is the Oauth2 server is not expecting a JSON request, is expecting a regular POST with HTTP parameters in the body. The response is a JSON object, but the request doesn&#39;t have to be the same format."},{"owner":{"account_id":8172523,"reputation":89,"user_id":6152465,"display_name":"Sašo Pavlič"},"score":0,"creation_date":1543999858,"post_id":53447784,"comment_id":94116416,"body_markdown":"Thank you for the comment, but I tried like you suggested and it is still now working. Error message &quot;{&quot;error_description&quot;:&quot;Invalid request&quot;,&quot;error&quot;:&quot;invalid_request&quot;}&quot;","body":"Thank you for the comment, but I tried like you suggested and it is still now working. Error message &quot;{&quot;error_description&quot;:&quot;Invalid request&quot;,&quot;error&quot;:&quot;invalid_request&quot;}&quot;"}],"answers":[{"tags":[],"owner":{"account_id":1975340,"reputation":561,"user_id":1773237,"display_name":"Hhovhann"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1547030358,"creation_date":1547026828,"answer_id":54107069,"question_id":53447784,"body_markdown":"Please try:\r\n\r\n    JsonNode jsonResponse = Unirest.post(&quot;https://teamforge.example.com/sf/auth/token&quot;)\r\n    .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n    .field(&quot;scope&quot;, &quot;urn:ctf:services:ctf&quot;)\r\n    .field(&quot;client_id&quot;, &quot;api-client&quot;)\r\n    .field(&quot;grant_type&quot;, &quot;password&quot;)\r\n    .field(&quot;username&quot;, &quot;foo&quot;)\r\n    .field(&quot;password&quot;, &quot;bar&quot;)\r\n    .asJson()\r\n    .getBody();\r\n\r\nAnd one more question are you sure about grant type ?&lt;br&gt;\r\n`grant_type = client_credentials` maybe you need something like this.","title":"Java OAuth 2.0 get access token","body":"<p>Please try:</p>\n\n<pre><code>JsonNode jsonResponse = Unirest.post(\"https://teamforge.example.com/sf/auth/token\")\n.header(\"Content-Type\", \"application/json\")\n.field(\"scope\", \"urn:ctf:services:ctf\")\n.field(\"client_id\", \"api-client\")\n.field(\"grant_type\", \"password\")\n.field(\"username\", \"foo\")\n.field(\"password\", \"bar\")\n.asJson()\n.getBody();\n</code></pre>\n\n<p>And one more question are you sure about grant type ?<br>\n<code>grant_type = client_credentials</code> maybe you need something like this.</p>\n"},{"comments":[{"owner":{"account_id":3747484,"reputation":3573,"user_id":3115822,"display_name":"Borja"},"score":0,"creation_date":1678692891,"post_id":75671825,"comment_id":133575832,"body_markdown":"While this code may provide a solution to the question, it&#39;s better to add context as to why/how it works. This can help future users learn, and apply that knowledge to their own code. You are also likely to have positive feedback from users in the form of upvotes, when the code is explained.","body":"While this code may provide a solution to the question, it&#39;s better to add context as to why/how it works. This can help future users learn, and apply that knowledge to their own code. You are also likely to have positive feedback from users in the form of upvotes, when the code is explained."}],"tags":[],"owner":{"account_id":27964262,"reputation":1,"user_id":21355440,"display_name":"Mohmmad"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678692847,"creation_date":1678271103,"answer_id":75671825,"question_id":53447784,"body_markdown":"    HttpResponse&lt;String&gt; authTokenResponse=Unirest.post(OAUTH_URL)\r\n    .header(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)\r\n    .body(&quot;grant_type=client_credentials&amp;client_id=&quot;+ CLIENT_ID + &quot;&amp;client_secret=&quot; + CLIENT_SECRET).asString();\r\n    \r\n    \r\n    \t\t\t\t\r\n    return new JSONObject(authTokenResponse.getBody()).getString(&quot;access_token&quot;);","title":"Java OAuth 2.0 get access token","body":"<pre><code>HttpResponse&lt;String&gt; authTokenResponse=Unirest.post(OAUTH_URL)\n.header(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)\n.body(&quot;grant_type=client_credentials&amp;client_id=&quot;+ CLIENT_ID + &quot;&amp;client_secret=&quot; + CLIENT_SECRET).asString();\n\n\n                \nreturn new JSONObject(authTokenResponse.getBody()).getString(&quot;access_token&quot;);\n</code></pre>\n"}],"owner":{"account_id":8172523,"reputation":89,"user_id":6152465,"display_name":"Sašo Pavlič"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14648,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678692847,"creation_date":1542980400,"question_id":53447784,"body_markdown":"I want to get **access token OAuth 2.0** from REST API via **Java** code, the thing is that I&#39;ve managed to successfully get it back from the server with **Bash** script (curl command)\r\n\r\n**Bash script (working):**\r\n\r\n    #!/usr/bin/env bash\r\n\r\n           # Base URL of TeamForge site.\r\n           site_url=&quot;https://teamforge.example.com&quot;\r\n\r\n           # TeamForge authentication credentials.\r\n           username=&quot;foo&quot;\r\n           password=&quot;bar&quot;\r\n\r\n           # Requested scope (all)\r\n           scope=&quot;urn:ctf:services:ctf\r\n\r\n           curl -d &quot;grant_type=password&amp;client_id=api-client&amp;scope=$scope&amp;username=$username&amp;password=$password&quot; $site_url/sf/auth/token\r\n\r\nWith that code snippet I&#39;got this response:\r\n\r\n      {\r\n             &quot;access_token&quot;: &quot;eyJraWQiOiIxIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiJhZG1pbiIsImF1ZCI...&quot;,\r\n             &quot;token_type&quot;: &quot;Bearer&quot;\r\n           }\r\n\r\n\r\nWhen I&#39;ve tried to translate it to **Java** code using **Unirest** :\r\n\r\n      HttpResponse&lt;JsonNode&gt; jsonResponse = Unirest.post(&quot;\\&quot;https://teamforge.example.com/sf/auth/token&quot;)\r\n                    .header(&quot;accept&quot;, &quot;application/json&quot;)\r\n                    .body(&quot;{\\&quot;grant_type\\&quot;:\\&quot;password\\&quot;,&quot; +\r\n                            &quot;\\&quot;client_id\\&quot;:\\&quot;api-client\\&quot;, &quot; +\r\n                            &quot;\\&quot;scope\\&quot;:\\&quot;urn:ctf:services:ctf\\&quot;,&quot; +\r\n                            &quot;\\&quot;username\\&quot;:\\&quot;foo\\&quot;,&quot; +\r\n                            &quot;\\&quot;password\\&quot;:\\&quot;bar\\&quot;}&quot;)\r\n\r\n                    .asJson();\r\n\r\n            System.out.println(jsonResponse.getBody());\r\n\r\n\r\n\r\nResponse was:\r\n\r\n    {&quot;error_description&quot;:&quot;Invalid grant&quot;,&quot;error&quot;:&quot;invalid_grant&quot;}\r\n\r\nAfter a couple of researches and tries, I still don&#39;t know what am I missing in my Java code request. Can someone help me to add missing stuff or guide me to right directions?\r\n\r\nCollabNet docs: \r\n\r\nSaso","title":"Java OAuth 2.0 get access token","body":"<p>I want to get <strong>access token OAuth 2.0</strong> from REST API via <strong>Java</strong> code, the thing is that I've managed to successfully get it back from the server with <strong>Bash</strong> script (curl command)</p>\n\n<p><strong>Bash script (working):</strong></p>\n\n<pre><code>#!/usr/bin/env bash\n\n       # Base URL of TeamForge site.\n       site_url=\"https://teamforge.example.com\"\n\n       # TeamForge authentication credentials.\n       username=\"foo\"\n       password=\"bar\"\n\n       # Requested scope (all)\n       scope=\"urn:ctf:services:ctf\n\n       curl -d \"grant_type=password&amp;client_id=api-client&amp;scope=$scope&amp;username=$username&amp;password=$password\" $site_url/sf/auth/token\n</code></pre>\n\n<p>With that code snippet I'got this response:</p>\n\n<pre><code>  {\n         \"access_token\": \"eyJraWQiOiIxIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiJhZG1pbiIsImF1ZCI...\",\n         \"token_type\": \"Bearer\"\n       }\n</code></pre>\n\n<p>When I've tried to translate it to <strong>Java</strong> code using <strong>Unirest</strong> :</p>\n\n<pre><code>  HttpResponse&lt;JsonNode&gt; jsonResponse = Unirest.post(\"\\\"https://teamforge.example.com/sf/auth/token\")\n                .header(\"accept\", \"application/json\")\n                .body(\"{\\\"grant_type\\\":\\\"password\\\",\" +\n                        \"\\\"client_id\\\":\\\"api-client\\\", \" +\n                        \"\\\"scope\\\":\\\"urn:ctf:services:ctf\\\",\" +\n                        \"\\\"username\\\":\\\"foo\\\",\" +\n                        \"\\\"password\\\":\\\"bar\\\"}\")\n\n                .asJson();\n\n        System.out.println(jsonResponse.getBody());\n</code></pre>\n\n<p>Response was:</p>\n\n<pre><code>{\"error_description\":\"Invalid grant\",\"error\":\"invalid_grant\"}\n</code></pre>\n\n<p>After a couple of researches and tries, I still don't know what am I missing in my Java code request. Can someone help me to add missing stuff or guide me to right directions?</p>\n\n<p>CollabNet docs: </p>\n\n<p>Saso</p>\n"},{"tags":["java","addition","element","arraydeque"],"comments":[{"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"score":1,"creation_date":1373619110,"post_id":17611016,"comment_id":25633916,"body_markdown":"+1 for the better explanation,though first question.","body":"+1 for the better explanation,though first question."},{"owner":{"account_id":1766006,"reputation":1705,"user_id":1611881,"display_name":"Alexey Odintsov"},"score":0,"creation_date":1373619465,"post_id":17611016,"comment_id":25634095,"body_markdown":"You may extend ArrayDeque class and implement your own methods for adding new elements.","body":"You may extend ArrayDeque class and implement your own methods for adding new elements."}],"answers":[{"comments":[{"owner":{"account_id":3036204,"reputation":149,"user_id":2574235,"accept_rate":100,"display_name":"Martynas Žukovas"},"score":0,"creation_date":1373619412,"post_id":17611054,"comment_id":25634067,"body_markdown":"Im new at programing, so im doing some mistakes ^^","body":"Im new at programing, so im doing some mistakes ^^"},{"owner":{"account_id":2029491,"reputation":9823,"user_id":1813616,"display_name":"Uwe Plonus"},"score":2,"creation_date":1373619559,"post_id":17611054,"comment_id":25634142,"body_markdown":"@MartynasŽukovas there is no problem with being new to programming. We all started at some time. As long as you&#39;re polite you will get many useful answers even on topics not expected...","body":"@MartynasŽukovas there is no problem with being new to programming. We all started at some time. As long as you&#39;re polite you will get many useful answers even on topics not expected..."}],"tags":[],"owner":{"account_id":2029491,"reputation":9823,"user_id":1813616,"display_name":"Uwe Plonus"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1373619219,"creation_date":1373619219,"answer_id":17611054,"question_id":17611016,"body_markdown":"You can simple create the new item in the call of add:\r\n\r\n    items.add(new Item(&quot;CoffeTable&quot;, &quot;brown&quot;));\r\n\r\nSo you don&#39;t need an explicit variable.\r\n\r\nAlso note that in Java variable names normally start with a lower case character.","title":"ArrayDeque add multiple elements","body":"<p>You can simple create the new item in the call of add:</p>\n\n<pre><code>items.add(new Item(\"CoffeTable\", \"brown\"));\n</code></pre>\n\n<p>So you don't need an explicit variable.</p>\n\n<p>Also note that in Java variable names normally start with a lower case character.</p>\n"},{"comments":[{"owner":{"account_id":3036204,"reputation":149,"user_id":2574235,"accept_rate":100,"display_name":"Martynas Žukovas"},"score":0,"creation_date":1373619510,"post_id":17611079,"comment_id":25634113,"body_markdown":"Thanks, now im got what i wanted ^^","body":"Thanks, now im got what i wanted ^^"}],"tags":[],"owner":{"account_id":134839,"reputation":8888,"user_id":337251,"accept_rate":75,"display_name":"Tala"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1373621659,"creation_date":1373619308,"answer_id":17611079,"question_id":17611016,"body_markdown":"You will have to create a new object anyway to hold these 2 values.\r\nYou can do this:\r\n\r\n    Items.add(new Item(&quot;CoffeTable&quot;, &quot;brown&quot;));\r\n\r\nAnything else you come up with will be syntactic sugar for the above\r\n\r\nFor example: you can add a `static` method to your class:\r\n\r\n    public static Item item(String k1, String k2) { \r\n        return new Item(k1, k2);\r\n    }\r\n\r\nAnd use it later:\r\n\r\n    Items.add(item(&quot;CoffeTable&quot;, &quot;Brown&quot;));\r\n\r\n    ","title":"ArrayDeque add multiple elements","body":"<p>You will have to create a new object anyway to hold these 2 values.\nYou can do this:</p>\n\n<pre><code>Items.add(new Item(\"CoffeTable\", \"brown\"));\n</code></pre>\n\n<p>Anything else you come up with will be syntactic sugar for the above</p>\n\n<p>For example: you can add a <code>static</code> method to your class:</p>\n\n<pre><code>public static Item item(String k1, String k2) { \n    return new Item(k1, k2);\n}\n</code></pre>\n\n<p>And use it later:</p>\n\n<pre><code>Items.add(item(\"CoffeTable\", \"Brown\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1351676,"reputation":10551,"user_id":1291122,"accept_rate":50,"display_name":"rahulserver"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1373620938,"creation_date":1373620938,"answer_id":17611589,"question_id":17611016,"body_markdown":"Here is a solution which would surely work. You can add a function to your class itemAdd() as follows:\r\n\r\n    class Samp {\r\n        public static void main(String args[]){\r\n            //code.....\r\n            ArrayDeque&lt;Item&gt; Items= new ArrayDeque&lt;Item&gt;();\r\n            Items.add(itemAdd(&quot;CoffeeTable&quot;, &quot;brown&quot;));\r\n            //rest of code....\r\n        }\r\n        public static Item itemAdd(String tableType,String colourOfTable){\r\n            return new Item(tableType,colourOfTable);\r\n        }\r\n    }\r\n    class Item{\r\n        String tableType;\r\n        String colourOfTable;\r\n        Item(String tableType,String colourOfTable ){\r\n            this.tableType=tableType;\r\n            this.colourOfTable=colourOfTable;\r\n        }\r\n    }\r\n\r\nIts similar to what u need to do!! Best of luck :)","title":"ArrayDeque add multiple elements","body":"<p>Here is a solution which would surely work. You can add a function to your class itemAdd() as follows:</p>\n\n<pre><code>class Samp {\n    public static void main(String args[]){\n        //code.....\n        ArrayDeque&lt;Item&gt; Items= new ArrayDeque&lt;Item&gt;();\n        Items.add(itemAdd(\"CoffeeTable\", \"brown\"));\n        //rest of code....\n    }\n    public static Item itemAdd(String tableType,String colourOfTable){\n        return new Item(tableType,colourOfTable);\n    }\n}\nclass Item{\n    String tableType;\n    String colourOfTable;\n    Item(String tableType,String colourOfTable ){\n        this.tableType=tableType;\n        this.colourOfTable=colourOfTable;\n    }\n}\n</code></pre>\n\n<p>Its similar to what u need to do!! Best of luck :)</p>\n"},{"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1678355226,"post_id":75682772,"comment_id":133517507,"body_markdown":"This is a 10 year old question with an accepted answer; there is rarely a point in adding another one.","body":"This is a 10 year old question with an accepted answer; there is rarely a point in adding another one."}],"tags":[],"owner":{"account_id":27972735,"reputation":1,"user_id":21362159,"display_name":"SOURAV JAISWAL"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678692723,"creation_date":1678354815,"answer_id":75682772,"question_id":17611016,"body_markdown":"For input multiple values in Queue use this:\r\n\r\n    Queue&lt;Integer&gt; q1 = new ArrayDeque&lt;&gt;(Arrays.asList(1,2,3,4,5,6,7,8,9,10));\r\n\r\nYou can also use LinkedList instead of ArrayDeque.\r\n\r\nWith this command you can simply put multiple values in a Queue/Linkedlist.\r\n","title":"ArrayDeque add multiple elements","body":"<p>For input multiple values in Queue use this:</p>\n<pre><code>Queue&lt;Integer&gt; q1 = new ArrayDeque&lt;&gt;(Arrays.asList(1,2,3,4,5,6,7,8,9,10));\n</code></pre>\n<p>You can also use LinkedList instead of ArrayDeque.</p>\n<p>With this command you can simply put multiple values in a Queue/Linkedlist.</p>\n"}],"owner":{"account_id":3036204,"reputation":149,"user_id":2574235,"accept_rate":100,"display_name":"Martynas Žukovas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3310,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":17611054,"answer_count":4,"score":6,"last_activity_date":1678692723,"creation_date":1373619079,"question_id":17611016,"body_markdown":"Im using `arraydeque` to create list of items and pass them parameters(Items is class)\r\n\r\n    ArrayDeque&lt;Item&gt; Items= new ArrayDeque&lt;Item&gt;();\r\n\r\nBut I have problem with java ArrayDeque. Maybe there are ways to add more than one element at once. \r\nFor example. I want add at the same time `TableType` and `colourOfTable` into ArrayDeque.\r\n\r\nIn c++ I could have done it with this\r\n\r\n    vector&lt;Item&gt;Items\r\n\r\n    Items.push_back(Item(&quot;CoffeeTable&quot;, &quot;brown&quot;));\r\n\r\n\r\nI want to do the same thing with Java. Instead of creating a new obj for every item, as:\r\n\r\n    ArrayDeque&lt;Item&gt; Items = new ArrayDeque&lt;Item&gt;();\r\n    \r\n    Item obj = new Item(&quot;CoffeTable&quot;, &quot;brown&quot;); \r\n    Items.add(obj);\r\n\r\n    Item obj1 = new Item(&quot;DinnerTable&quot;, &quot;Black&quot;); \r\n    Items.add(obj1);\r\n\r\nBut instead of `obj` I want to add  `&quot;CoffeTable&quot;, &quot;brown&quot;` at the same time and with one code line (like in c++ example) into the `Items` array.\r\n\r\nI tried something like that\r\n\r\n    ArrayDeque&lt;Item&gt; Items= new ArrayDeque&lt;Item&gt;();\r\n    \r\n    Items.add(Items(&quot;CoffeTable&quot;, &quot;brown&quot;)); \r\n\r\n   But then  got the error while creating create method &#39;Items(String,String)&#39;\r\n\r\n    \t\t\r\n\r\n","title":"ArrayDeque add multiple elements","body":"<p>Im using <code>arraydeque</code> to create list of items and pass them parameters(Items is class)</p>\n\n<pre><code>ArrayDeque&lt;Item&gt; Items= new ArrayDeque&lt;Item&gt;();\n</code></pre>\n\n<p>But I have problem with java ArrayDeque. Maybe there are ways to add more than one element at once. \nFor example. I want add at the same time <code>TableType</code> and <code>colourOfTable</code> into ArrayDeque.</p>\n\n<p>In c++ I could have done it with this</p>\n\n<pre><code>vector&lt;Item&gt;Items\n\nItems.push_back(Item(\"CoffeeTable\", \"brown\"));\n</code></pre>\n\n<p>I want to do the same thing with Java. Instead of creating a new obj for every item, as:</p>\n\n<pre><code>ArrayDeque&lt;Item&gt; Items = new ArrayDeque&lt;Item&gt;();\n\nItem obj = new Item(\"CoffeTable\", \"brown\"); \nItems.add(obj);\n\nItem obj1 = new Item(\"DinnerTable\", \"Black\"); \nItems.add(obj1);\n</code></pre>\n\n<p>But instead of <code>obj</code> I want to add  <code>\"CoffeTable\", \"brown\"</code> at the same time and with one code line (like in c++ example) into the <code>Items</code> array.</p>\n\n<p>I tried something like that</p>\n\n<pre><code>ArrayDeque&lt;Item&gt; Items= new ArrayDeque&lt;Item&gt;();\n\nItems.add(Items(\"CoffeTable\", \"brown\")); \n</code></pre>\n\n<p>But then  got the error while creating create method 'Items(String,String)'</p>\n"},{"tags":["java","dictionary","java-8","java-stream"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1444029743,"post_id":32943179,"comment_id":53711506,"body_markdown":"&quot;using only Java 8&quot; is pretty vague, since anything you can do in Java 7 can also be done in Java 8.","body":"&quot;using only Java 8&quot; is pretty vague, since anything you can do in Java 7 can also be done in Java 8."},{"owner":{"account_id":1955570,"reputation":1570,"user_id":1758634,"accept_rate":71,"display_name":"tomaj"},"score":3,"creation_date":1444030030,"post_id":32943179,"comment_id":53711654,"body_markdown":"What is meant is using Java 8, without any libraries. Libraries would defeat the purpose if this exercise. Java 8 also comes with some nice apis, and syntax changes, that Java 7 doesn&#39;t have. Which opens up for some elegant programming.","body":"What is meant is using Java 8, without any libraries. Libraries would defeat the purpose if this exercise. Java 8 also comes with some nice apis, and syntax changes, that Java 7 doesn&#39;t have. Which opens up for some elegant programming."},{"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"score":3,"creation_date":1444032875,"post_id":32943179,"comment_id":53713064,"body_markdown":"A side note: if you wish to create a URL query string, you&#39;re doing this in the wrong way as you need to escape special characters which may appear in key names or values.","body":"A side note: if you wish to create a URL query string, you&#39;re doing this in the wrong way as you need to escape special characters which may appear in key names or values."},{"owner":{"account_id":1955570,"reputation":1570,"user_id":1758634,"accept_rate":71,"display_name":"tomaj"},"score":0,"creation_date":1444032970,"post_id":32943179,"comment_id":53713100,"body_markdown":"Good point @TagirValeev.","body":"Good point @TagirValeev."}],"answers":[{"comments":[{"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"score":13,"creation_date":1444032653,"post_id":32943274,"comment_id":53712952,"body_markdown":"Note that while `HashMap` entries are actually printed in `key=value` format, this is never specified, thus it&#39;s a bad practice to rely on this fact.","body":"Note that while <code>HashMap</code> entries are actually printed in <code>key=value</code> format, this is never specified, thus it&#39;s a bad practice to rely on this fact."},{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":1,"creation_date":1444033133,"post_id":32943274,"comment_id":53713172,"body_markdown":"That is why I provided the first alternative.","body":"That is why I provided the first alternative."}],"tags":[],"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"comment_count":2,"down_vote_count":0,"up_vote_count":79,"is_accepted":true,"score":79,"last_activity_date":1444030031,"creation_date":1444030031,"answer_id":32943274,"question_id":32943179,"body_markdown":"You can grab the stream of the map&#39;s entry set, then map each entry to the string representation you want, joining them in a single string using [`Collectors.joining(CharSequence delimiter)`][1].\r\n\r\n\r\n    import static java.util.stream.Collectors.joining;\r\n    \r\n    String s = attributes.entrySet()\r\n                         .stream()\r\n                         .map(e -&gt; e.getKey()+&quot;=&quot;+e.getValue())\r\n                         .collect(joining(&quot;&amp;&quot;));\r\n\r\nBut since the entry&#39;s `toString()` already output its content in the format `key=value`, you can call its `toString` method directly:\r\n\r\n    String s = attributes.entrySet()\r\n                         .stream()\r\n                         .map(Object::toString)\r\n                         .collect(joining(&quot;&amp;&quot;));\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#joining-java.lang.CharSequence-","title":"Most elegant way to join a Map to a String in Java 8","body":"<p>You can grab the stream of the map's entry set, then map each entry to the string representation you want, joining them in a single string using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#joining-java.lang.CharSequence-\"><code>Collectors.joining(CharSequence delimiter)</code></a>.</p>\n\n<pre><code>import static java.util.stream.Collectors.joining;\n\nString s = attributes.entrySet()\n                     .stream()\n                     .map(e -&gt; e.getKey()+\"=\"+e.getValue())\n                     .collect(joining(\"&amp;\"));\n</code></pre>\n\n<p>But since the entry's <code>toString()</code> already output its content in the format <code>key=value</code>, you can call its <code>toString</code> method directly:</p>\n\n<pre><code>String s = attributes.entrySet()\n                     .stream()\n                     .map(Object::toString)\n                     .collect(joining(\"&amp;\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9934922,"reputation":4769,"user_id":7353562,"accept_rate":75,"display_name":"Arpan Saini"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1678691751,"creation_date":1574645549,"answer_id":59024142,"question_id":32943179,"body_markdown":"     public static void main(String[] args) {\r\n    \r\n    \r\n            HashMap&lt;String,Integer&gt; newPhoneBook = new HashMap(){{\r\n                putIfAbsent(&quot;Arpan&quot;,80186787);\r\n                putIfAbsent(&quot;Sanjay&quot;,80186788);\r\n                putIfAbsent(&quot;Kiran&quot;,80186789);\r\n                putIfAbsent(&quot;Pranjay&quot;,80186790);\r\n                putIfAbsent(&quot;Jaiparkash&quot;,80186791);\r\n                putIfAbsent(&quot;Maya&quot;,80186792);\r\n                putIfAbsent(&quot;Rythem&quot;,80186793);\r\n                putIfAbsent(&quot;Preeti&quot;,80186794);\r\n    \r\n            }};\r\n    \r\n    \r\n            /**Compining Key and Value pairs and then separate each pair by some delimiter and the add prefix and Suffix*/\r\n            String keyValueCombinedString = newPhoneBook.entrySet().stream().\r\n                    // you can improve the performance by avoiding &quot;+&quot;\r\n                    // &quot;map(entrySet -&gt; &quot;%s:%s&quot;.formatted(entrySet.getKey(), entrySet.getValue()).&quot;\r\n                    map(entrySet -&gt; entrySet.getKey() + &quot;:&quot;+ entrySet.getValue()).\r\n                    collect(Collectors.joining(&quot;,&quot; , &quot;[&quot;,&quot;]&quot;));\r\n            System.out.println(keyValueCombinedString);\r\n    \r\n            /**\r\n             *  OUTPUT : [Kiran:80186789,Arpan:80186787,Pranjay:80186790,Jaiparkash:80186791,Maya:80186792,Sanjay:80186788,Preeti:80186794,Rythem:80186793]\r\n             *\r\n             * */\r\n    \r\n    \r\n            String keyValueCombinedString1 = newPhoneBook.entrySet().stream().\r\n                    map(Objects::toString).\r\n                    collect(Collectors.joining(&quot;,&quot; , &quot;[&quot;,&quot;]&quot;));\r\n            System.out.println(keyValueCombinedString1);\r\n    \r\n            /**\r\n             * Objects::toString method concate key and value pairs by =\r\n             * OUTPUT : [Kiran=80186789,Arpan=80186787,Pranjay=80186790,Jaiparkash=80186791,Maya=80186792,Sanjay=80186788,Preeti=80186794,Rythem=80186793]\r\n             * */\r\n    \r\n        }\r\n    \r\n    &gt; Blockquote","title":"Most elegant way to join a Map to a String in Java 8","body":"<pre><code> public static void main(String[] args) {\n\n\n        HashMap&lt;String,Integer&gt; newPhoneBook = new HashMap(){{\n            putIfAbsent(&quot;Arpan&quot;,80186787);\n            putIfAbsent(&quot;Sanjay&quot;,80186788);\n            putIfAbsent(&quot;Kiran&quot;,80186789);\n            putIfAbsent(&quot;Pranjay&quot;,80186790);\n            putIfAbsent(&quot;Jaiparkash&quot;,80186791);\n            putIfAbsent(&quot;Maya&quot;,80186792);\n            putIfAbsent(&quot;Rythem&quot;,80186793);\n            putIfAbsent(&quot;Preeti&quot;,80186794);\n\n        }};\n\n\n        /**Compining Key and Value pairs and then separate each pair by some delimiter and the add prefix and Suffix*/\n        String keyValueCombinedString = newPhoneBook.entrySet().stream().\n                // you can improve the performance by avoiding &quot;+&quot;\n                // &quot;map(entrySet -&gt; &quot;%s:%s&quot;.formatted(entrySet.getKey(), entrySet.getValue()).&quot;\n                map(entrySet -&gt; entrySet.getKey() + &quot;:&quot;+ entrySet.getValue()).\n                collect(Collectors.joining(&quot;,&quot; , &quot;[&quot;,&quot;]&quot;));\n        System.out.println(keyValueCombinedString);\n\n        /**\n         *  OUTPUT : [Kiran:80186789,Arpan:80186787,Pranjay:80186790,Jaiparkash:80186791,Maya:80186792,Sanjay:80186788,Preeti:80186794,Rythem:80186793]\n         *\n         * */\n\n\n        String keyValueCombinedString1 = newPhoneBook.entrySet().stream().\n                map(Objects::toString).\n                collect(Collectors.joining(&quot;,&quot; , &quot;[&quot;,&quot;]&quot;));\n        System.out.println(keyValueCombinedString1);\n\n        /**\n         * Objects::toString method concate key and value pairs by =\n         * OUTPUT : [Kiran=80186789,Arpan=80186787,Pranjay=80186790,Jaiparkash=80186791,Maya=80186792,Sanjay=80186788,Preeti=80186794,Rythem=80186793]\n         * */\n\n    }\n\n&gt; Blockquote\n</code></pre>\n"}],"owner":{"account_id":1955570,"reputation":1570,"user_id":1758634,"accept_rate":71,"display_name":"tomaj"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35896,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":32943274,"answer_count":2,"score":36,"last_activity_date":1678691751,"creation_date":1444029675,"question_id":32943179,"body_markdown":"I love [Guava](https://github.com/google/guava), and I&#39;ll continue to use Guava a lot. But, where it makes sense, I try to use the &quot;new stuff&quot; in *Java 8* instead.\r\n\r\n**&quot;Problem&quot;**\r\n\r\nLets say I want to join url attributes in a `String`. In *Guava* I would do it like this:\r\n\r\n    Map&lt;String, String&gt; attributes = new HashMap&lt;&gt;();\r\n    attributes.put(&quot;a&quot;, &quot;1&quot;);\r\n    attributes.put(&quot;b&quot;, &quot;2&quot;);\r\n    attributes.put(&quot;c&quot;, &quot;3&quot;);\r\n    \r\n    // Guava way\r\n    String result = Joiner.on(&quot;&amp;&quot;).withKeyValueSeparator(&quot;=&quot;).join(attributes);\r\n\r\nWhere the `result` is `a=1&amp;b=2&amp;c=3`.\r\n\r\n**Question**\r\n\r\nWhat is the most elegant way to do this in *Java 8* (without any 3rd party libraries)?","title":"Most elegant way to join a Map to a String in Java 8","body":"<p>I love <a href=\"https://github.com/google/guava\" rel=\"noreferrer\">Guava</a>, and I'll continue to use Guava a lot. But, where it makes sense, I try to use the \"new stuff\" in <em>Java 8</em> instead.</p>\n\n<p><strong>\"Problem\"</strong></p>\n\n<p>Lets say I want to join url attributes in a <code>String</code>. In <em>Guava</em> I would do it like this:</p>\n\n<pre><code>Map&lt;String, String&gt; attributes = new HashMap&lt;&gt;();\nattributes.put(\"a\", \"1\");\nattributes.put(\"b\", \"2\");\nattributes.put(\"c\", \"3\");\n\n// Guava way\nString result = Joiner.on(\"&amp;\").withKeyValueSeparator(\"=\").join(attributes);\n</code></pre>\n\n<p>Where the <code>result</code> is <code>a=1&amp;b=2&amp;c=3</code>.</p>\n\n<p><strong>Question</strong></p>\n\n<p>What is the most elegant way to do this in <em>Java 8</em> (without any 3rd party libraries)?</p>\n"},{"tags":["java","android","xml","firebase","firebase-authentication"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1678778463,"post_id":75709194,"comment_id":133594653,"body_markdown":"What exactly do you call a crash in all those lines of code?","body":"What exactly do you call a crash in all those lines of code?"}],"answers":[{"comments":[{"owner":{"account_id":27994278,"reputation":1,"user_id":21379882,"display_name":"CHETAN S R"},"score":0,"creation_date":1678733114,"post_id":75718894,"comment_id":133587537,"body_markdown":"No I had just given it in the dependencies while implementing the firebase. But now what did worked out for me was that I gave the signed out method outside the Oncreate class of every activity and somehow it worked out for me. I honestly don&#39;t know how though.","body":"No I had just given it in the dependencies while implementing the firebase. But now what did worked out for me was that I gave the signed out method outside the Oncreate class of every activity and somehow it worked out for me. I honestly don&#39;t know how though."},{"owner":{"account_id":27811853,"reputation":323,"user_id":21234100,"display_name":"WebDesk Solution"},"score":0,"creation_date":1678774536,"post_id":75718894,"comment_id":133593950,"body_markdown":"@CHETANSR if you use firebase in your project you must initialize first in your base activity or launcher activity","body":"@CHETANSR if you use firebase in your project you must initialize first in your base activity or launcher activity"}],"tags":[],"owner":{"account_id":27811853,"reputation":323,"user_id":21234100,"display_name":"WebDesk Solution"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678691413,"creation_date":1678691413,"answer_id":75718894,"question_id":75709194,"body_markdown":"Have you initialized firebase sdk like this:\r\n\r\nFirebaseApp.initializeApp(this);\r\n\r\nAnd also please provide a full error log of exceptions.because current log which you shared there are no any crash log.\r\n\r\n","title":"why is my login activity crashing when I run my project?","body":"<p>Have you initialized firebase sdk like this:</p>\n<p>FirebaseApp.initializeApp(this);</p>\n<p>And also please provide a full error log of exceptions.because current log which you shared there are no any crash log.</p>\n"}],"owner":{"account_id":27994278,"reputation":1,"user_id":21379882,"display_name":"CHETAN S R"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678691413,"creation_date":1678565002,"question_id":75709194,"body_markdown":"Hi I am fairly new to android studio and when I try to run my project the app gets crashed for some reason and I can&#39;t seem to figure out as to what is the problem that has occurred. If I give anything apart from login activity as my starting activity then it loading correctly.\r\n\r\nHere is my java code:\r\n\r\n```\r\npackage com.example.hireme2;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.appcompat.widget.AppCompatButton;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.text.TextUtils;\r\nimport android.view.View;\r\nimport android.widget.EditText;\r\nimport android.widget.ProgressBar;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.auth.AuthResult;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\n\r\npublic class login extends AppCompatActivity {\r\n\r\n    TextView t;\r\n    AppCompatButton b;\r\n    EditText email,password;\r\n    FirebaseAuth mAuth;\r\n    ProgressBar progressBar;\r\n    @Override\r\n    public void onStart() {\r\n        super.onStart();\r\n        // Check if user is signed in (non-null) and update UI accordingly.\r\n        FirebaseUser currentUser = mAuth.getCurrentUser();\r\n        if(currentUser != null){\r\n            finish();\r\n        }\r\n    }\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.acitivity_login);\r\n        mAuth=(FirebaseAuth) FirebaseAuth.getInstance();\r\n        t=(TextView) findViewById(R.id.sign);\r\n        b=(AppCompatButton)findViewById(R.id.login);\r\n        email=(EditText)findViewById(R.id.log_email);\r\n        password=(EditText)findViewById(R.id.log_password);\r\n        progressBar=(ProgressBar)findViewById(R.id.progressbar);\r\n\r\n        t.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                startActivity(new Intent(getApplicationContext(),signup.class));\r\n            }\r\n        });\r\n        b.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                progressBar.setVisibility(View.VISIBLE);\r\n                String e,p;\r\n                e=String.valueOf(email.getText());\r\n                p=String.valueOf(password.getText());\r\n                if (TextUtils.isEmpty(e)){\r\n                    Toast.makeText(getApplicationContext(),&quot;Enter email&quot;,Toast.LENGTH_SHORT).show();\r\n                    return;\r\n                }\r\n                if (TextUtils.isEmpty(p)){\r\n                    Toast.makeText(getApplicationContext(),&quot;Enter password&quot;,Toast.LENGTH_SHORT).show();\r\n                    return;\r\n                }\r\n                mAuth.signInWithEmailAndPassword(e,p)\r\n                        .addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\r\n                            @Override\r\n                            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                                progressBar.setVisibility(View.GONE);\r\n                                if (task.isSuccessful()) {\r\n                                    Toast.makeText(getApplicationContext(), &quot;Login success.&quot;,\r\n                                            Toast.LENGTH_SHORT).show();\r\n                                    startActivity(new Intent(getApplicationContext(),MainActivity.class));\r\n                                    finish();\r\n                                } else {\r\n                                    Toast.makeText(getApplicationContext(), &quot;Login failed.&quot;,\r\n                                            Toast.LENGTH_SHORT).show();\r\n                                }\r\n                            }\r\n                        });\r\n                //FirebaseAuth.getInstance().signOut();\r\n            }\r\n        });\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd here is my XML code:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;#F7F3E1&quot;\r\n    tools:context=&quot;.login&quot;&gt;\r\n\r\n    &lt;ScrollView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:contentDescription=&quot;scroll&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n\r\n            &lt;ImageView\r\n                android:id=&quot;@+id/imageView1&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:scaleType=&quot;centerCrop&quot;\r\n                app:srcCompat=&quot;@drawable/top_login&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;LOGIN&quot;\r\n                android:textColor=&quot;#6C5DD2&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                android:textAlignment=&quot;center&quot;\r\n                android:textSize=&quot;40dp&quot;/&gt;\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_marginTop=&quot;16dp&quot;\r\n                android:layout_marginStart=&quot;32dp&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                &lt;TextView\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot;EMAIL&quot;\r\n                    android:textSize=&quot;18dp&quot;\r\n                    android:textColor=&quot;#6C5DD2&quot;/&gt;\r\n\r\n                &lt;EditText\r\n                    android:id=&quot;@+id/log_email&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;50dp&quot;\r\n                    android:background=&quot;@drawable/background_edt&quot;\r\n                    android:ems=&quot;10&quot;\r\n                    android:inputType=&quot;textEmailAddress&quot;\r\n                    android:hint=&quot;enter your email&quot;\r\n                    android:layout_marginEnd=&quot;32dp&quot;\r\n                    android:gravity=&quot;center&quot;\r\n                    android:textColor=&quot;#707070&quot;\r\n                    android:textColorHint=&quot;#707070&quot;\r\n                    android:layout_marginTop=&quot;8dp&quot;/&gt;\r\n            &lt;/LinearLayout&gt;\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_marginTop=&quot;16dp&quot;\r\n                android:layout_marginStart=&quot;32dp&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                &lt;TextView\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot;PASSWORD&quot;\r\n                    android:textSize=&quot;18dp&quot;\r\n                    android:textColor=&quot;#6C5DD2&quot;/&gt;\r\n\r\n                &lt;EditText\r\n                    android:id=&quot;@+id/log_password&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;50dp&quot;\r\n                    android:background=&quot;@drawable/background_edt&quot;\r\n                    android:ems=&quot;10&quot;\r\n                    android:inputType=&quot;textPassword&quot;\r\n                    android:hint=&quot;enter your password&quot;\r\n                    android:layout_marginEnd=&quot;32dp&quot;\r\n                    android:gravity=&quot;center&quot;\r\n                    android:textColor=&quot;#707070&quot;\r\n                    android:textColorHint=&quot;#707070&quot;\r\n                    android:layout_marginTop=&quot;8dp&quot;/&gt;\r\n            &lt;/LinearLayout&gt;\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:orientation=&quot;horizontal&quot;\r\n                android:layout_marginStart=&quot;32dp&quot;\r\n                android:layout_marginEnd=&quot;32dp&quot;\r\n                android:layout_marginTop=&quot;16dp&quot;&gt;\r\n\r\n                &lt;View\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;1dp&quot;\r\n                    android:background=&quot;#707070&quot;\r\n                    android:layout_gravity=&quot;center_vertical&quot;\r\n                    android:layout_weight=&quot;1&quot;/&gt;\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot;OR&quot;\r\n                    android:layout_margin=&quot;16dp&quot;/&gt;\r\n\r\n                &lt;View\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;1dp&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    android:background=&quot;#707070&quot;\r\n                    android:layout_gravity=&quot;center_vertical&quot;/&gt;\r\n            &lt;/LinearLayout&gt;\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_marginEnd=&quot;32dp&quot;\r\n                android:layout_marginStart=&quot;32dp&quot;\r\n                android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/imageView2&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    app:srcCompat=&quot;@drawable/twitter&quot; /&gt;\r\n\r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/imageView4&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    app:srcCompat=&quot;@drawable/google&quot; /&gt;\r\n\r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/imageView5&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    app:srcCompat=&quot;@drawable/linked&quot; /&gt;\r\n            &lt;/LinearLayout&gt;\r\n            &lt;TextView\r\n                android:id=&quot;@+id/sign&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;30dp&quot;\r\n                android:textSize=&quot;18dp&quot;\r\n                android:text=&quot;Don&#39;t have an account ? Signup&quot;\r\n                android:textAlignment=&quot;center&quot;\r\n                android:layout_marginTop=&quot;32dp&quot;\r\n                android:textColor=&quot;#6C5DD2&quot;\r\n                android:clickable=&quot;true&quot; /&gt;\r\n            &lt;ProgressBar\r\n                android:id=&quot;@+id/progressbar&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:visibility=&quot;gone&quot;/&gt;\r\n            &lt;androidx.appcompat.widget.AppCompatButton\r\n                android:id=&quot;@+id/login&quot;\r\n                android:layout_width=&quot;200dp&quot;\r\n                android:layout_height=&quot;48dp&quot;\r\n                android:background=&quot;@drawable/button_background&quot;\r\n                style=&quot;@android:style/Widget.Button&quot;\r\n                android:text=&quot;LOGIN&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:layout_marginTop=&quot;32dp&quot;\r\n                android:textSize=&quot;18dp&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                android:textColor=&quot;#ffffff&quot; /&gt;\r\n        &lt;/LinearLayout&gt;\r\n    &lt;/ScrollView&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nhere is what it&#39;s showing after running the project:\r\n\r\n```\r\n\r\n03/12 00:58:17: Launching &#39;app&#39; on Pixel 4 XL API 31.\r\nInstall successfully finished in 317 ms.\r\n$ adb shell am start -n &quot;com.example.hireme2/com.example.hireme2.signup&quot; -a android.intent.action.MAIN -c android.intent.category.LAUNCHER\r\nConnected to process 25979 on device &#39;Pixel_4_XL_API_31 [emulator-5554]&#39;.\r\nCapturing and displaying logcat messages from application. This behavior can be disabled in the &quot;Logcat output&quot; section of the &quot;Debugger&quot; settings page.\r\nD/CompatibilityChangeReporter: Compat change id reported: 171979766; UID 10150; state: ENABLED\r\nV/GraphicsEnvironment: ANGLE Developer option for &#39;com.example.hireme2&#39; set to: &#39;default&#39;\r\nV/GraphicsEnvironment: Neither updatable production driver nor prerelease driver is supported.\r\nD/NetworkSecurityConfig: Using Network Security Config from resource network_security_config debugBuild: true\r\nD/NetworkSecurityConfig: Using Network Security Config from resource network_security_config debugBuild: true\r\nI/FirebaseApp: Device unlocked: initializing all Firebase APIs for app [DEFAULT]\r\nI/FirebaseInitProvider: FirebaseApp initialization successful\r\nD/libEGL: loaded /vendor/lib64/egl/libEGL_emulation.so\r\nD/libEGL: loaded /vendor/lib64/egl/libGLESv1_CM_emulation.so\r\nD/libEGL: loaded /vendor/lib64/egl/libGLESv2_emulation.so\r\nD/AppCompatDelegate: Checking for metadata for AppLocalesMetadataHolderService : Service not found\r\nW/example.hireme: Accessing hidden method Landroid/view/View;-&gt;computeFitSystemWindows(Landroid/graphics/Rect;Landroid/graphics/Rect;)Z (unsupported, reflection, allowed)\r\nW/example.hireme: Accessing hidden method Landroid/view/ViewGroup;-&gt;makeOptionalFitsSystemWindows()V (unsupported, reflection, allowed)\r\nD/CompatibilityChangeReporter: Compat change id reported: 171228096; UID 10150; state: ENABLED\r\nD/HostConnection: createUnique: call\r\nD/HostConnection: HostConnection::get() New Host Connection established 0x770750959250, tid 26027\r\nD/HostConnection: HostComposition ext ANDROID_EMU_CHECKSUM_HELPER_v1 ANDROID_EMU_native_sync_v2 ANDROID_EMU_native_sync_v3 ANDROID_EMU_native_sync_v4 ANDROID_EMU_dma_v1 ANDROID_EMU_direct_mem ANDROID_EMU_host_composition_v1 ANDROID_EMU_host_composition_v2 ANDROID_EMU_vulkan ANDROID_EMU_deferred_vulkan_commands ANDROID_EMU_vulkan_null_optional_strings ANDROID_EMU_vulkan_create_resources_with_requirements ANDROID_EMU_YUV_Cache ANDROID_EMU_vulkan_ignored_handles ANDROID_EMU_has_shared_slots_host_memory_allocator ANDROID_EMU_vulkan_free_memory_sync ANDROID_EMU_vulkan_shader_float16_int8 ANDROID_EMU_vulkan_async_queue_submit ANDROID_EMU_vulkan_queue_submit_with_commands ANDROID_EMU_sync_buffer_data ANDROID_EMU_read_color_buffer_dma GL_OES_vertex_array_object GL_KHR_texture_compression_astc_ldr ANDROID_EMU_host_side_tracing ANDROID_EMU_gles_max_version_2 \r\nW/OpenGLRenderer: Failed to choose config with EGL_SWAP_BEHAVIOR_PRESERVED, retrying without...\r\nW/OpenGLRenderer: Failed to initialize 101010-2 format, error = EGL_SUCCESS\r\nD/EGL_emulation: eglCreateContext: 0x770750959f10: maj 2 min 0 rcv 2\r\nD/EGL_emulation: eglMakeCurrent: 0x770750959f10: ver 2 0 (tinfo 0x770972f69080) (first time)\r\nI/Gralloc4: mapper 4.x is not supported\r\nD/HostConnection: createUnique: call\r\nD/HostConnection: HostConnection::get() New Host Connection established 0x770750967650, tid 26027\r\nD/goldfish-address-space: allocate: Ask for block of size 0x100\r\nD/goldfish-address-space: allocate: ioctl allocate returned offset 0x3e3ffe000 size 0x2000\r\nW/Gralloc4: allocator 4.x is not supported\r\nD/HostConnection: HostComposition ext ANDROID_EMU_CHECKSUM_HELPER_v1 ANDROID_EMU_native_sync_v2 ANDROID_EMU_native_sync_v3 ANDROID_EMU_native_sync_v4 ANDROID_EMU_dma_v1 ANDROID_EMU_direct_mem ANDROID_EMU_host_composition_v1 ANDROID_EMU_host_composition_v2 ANDROID_EMU_vulkan ANDROID_EMU_deferred_vulkan_commands ANDROID_EMU_vulkan_null_optional_strings ANDROID_EMU_vulkan_create_resources_with_requirements ANDROID_EMU_YUV_Cache ANDROID_EMU_vulkan_ignored_handles ANDROID_EMU_has_shared_slots_host_memory_allocator ANDROID_EMU_vulkan_free_memory_sync ANDROID_EMU_vulkan_shader_float16_int8 ANDROID_EMU_vulkan_async_queue_submit ANDROID_EMU_vulkan_queue_submit_with_commands ANDROID_EMU_sync_buffer_data ANDROID_EMU_read_color_buffer_dma GL_OES_vertex_array_object GL_KHR_texture_compression_astc_ldr ANDROID_EMU_host_side_tracing ANDROID_EMU_gles_max_version_2 \r\nD/EGL_emulation: app_time_stats: avg=479.38ms min=27.09ms max=1300.56ms count=3\r\nD/EGL_emulation: app_time_stats: avg=529.13ms min=49.32ms max=1483.89ms count=3\r\n```\r\n","title":"why is my login activity crashing when I run my project?","body":"<p>Hi I am fairly new to android studio and when I try to run my project the app gets crashed for some reason and I can't seem to figure out as to what is the problem that has occurred. If I give anything apart from login activity as my starting activity then it loading correctly.</p>\n<p>Here is my java code:</p>\n<pre><code>package com.example.hireme2;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.appcompat.widget.AppCompatButton;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.text.TextUtils;\nimport android.view.View;\nimport android.widget.EditText;\nimport android.widget.ProgressBar;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.firebase.auth.AuthResult;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.auth.FirebaseUser;\n\npublic class login extends AppCompatActivity {\n\n    TextView t;\n    AppCompatButton b;\n    EditText email,password;\n    FirebaseAuth mAuth;\n    ProgressBar progressBar;\n    @Override\n    public void onStart() {\n        super.onStart();\n        // Check if user is signed in (non-null) and update UI accordingly.\n        FirebaseUser currentUser = mAuth.getCurrentUser();\n        if(currentUser != null){\n            finish();\n        }\n    }\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.acitivity_login);\n        mAuth=(FirebaseAuth) FirebaseAuth.getInstance();\n        t=(TextView) findViewById(R.id.sign);\n        b=(AppCompatButton)findViewById(R.id.login);\n        email=(EditText)findViewById(R.id.log_email);\n        password=(EditText)findViewById(R.id.log_password);\n        progressBar=(ProgressBar)findViewById(R.id.progressbar);\n\n        t.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                startActivity(new Intent(getApplicationContext(),signup.class));\n            }\n        });\n        b.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                progressBar.setVisibility(View.VISIBLE);\n                String e,p;\n                e=String.valueOf(email.getText());\n                p=String.valueOf(password.getText());\n                if (TextUtils.isEmpty(e)){\n                    Toast.makeText(getApplicationContext(),&quot;Enter email&quot;,Toast.LENGTH_SHORT).show();\n                    return;\n                }\n                if (TextUtils.isEmpty(p)){\n                    Toast.makeText(getApplicationContext(),&quot;Enter password&quot;,Toast.LENGTH_SHORT).show();\n                    return;\n                }\n                mAuth.signInWithEmailAndPassword(e,p)\n                        .addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\n                            @Override\n                            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                                progressBar.setVisibility(View.GONE);\n                                if (task.isSuccessful()) {\n                                    Toast.makeText(getApplicationContext(), &quot;Login success.&quot;,\n                                            Toast.LENGTH_SHORT).show();\n                                    startActivity(new Intent(getApplicationContext(),MainActivity.class));\n                                    finish();\n                                } else {\n                                    Toast.makeText(getApplicationContext(), &quot;Login failed.&quot;,\n                                            Toast.LENGTH_SHORT).show();\n                                }\n                            }\n                        });\n                //FirebaseAuth.getInstance().signOut();\n            }\n        });\n    }\n\n}\n</code></pre>\n<p>And here is my XML code:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;#F7F3E1&quot;\n    tools:context=&quot;.login&quot;&gt;\n\n    &lt;ScrollView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:contentDescription=&quot;scroll&quot;&gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;vertical&quot;&gt;\n\n            &lt;ImageView\n                android:id=&quot;@+id/imageView1&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:scaleType=&quot;centerCrop&quot;\n                app:srcCompat=&quot;@drawable/top_login&quot; /&gt;\n\n            &lt;TextView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;LOGIN&quot;\n                android:textColor=&quot;#6C5DD2&quot;\n                android:textStyle=&quot;bold&quot;\n                android:textAlignment=&quot;center&quot;\n                android:textSize=&quot;40dp&quot;/&gt;\n            &lt;LinearLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:layout_marginTop=&quot;16dp&quot;\n                android:layout_marginStart=&quot;32dp&quot;\n                android:orientation=&quot;vertical&quot;&gt;\n\n                &lt;TextView\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;EMAIL&quot;\n                    android:textSize=&quot;18dp&quot;\n                    android:textColor=&quot;#6C5DD2&quot;/&gt;\n\n                &lt;EditText\n                    android:id=&quot;@+id/log_email&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;50dp&quot;\n                    android:background=&quot;@drawable/background_edt&quot;\n                    android:ems=&quot;10&quot;\n                    android:inputType=&quot;textEmailAddress&quot;\n                    android:hint=&quot;enter your email&quot;\n                    android:layout_marginEnd=&quot;32dp&quot;\n                    android:gravity=&quot;center&quot;\n                    android:textColor=&quot;#707070&quot;\n                    android:textColorHint=&quot;#707070&quot;\n                    android:layout_marginTop=&quot;8dp&quot;/&gt;\n            &lt;/LinearLayout&gt;\n            &lt;LinearLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:layout_marginTop=&quot;16dp&quot;\n                android:layout_marginStart=&quot;32dp&quot;\n                android:orientation=&quot;vertical&quot;&gt;\n\n                &lt;TextView\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;PASSWORD&quot;\n                    android:textSize=&quot;18dp&quot;\n                    android:textColor=&quot;#6C5DD2&quot;/&gt;\n\n                &lt;EditText\n                    android:id=&quot;@+id/log_password&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;50dp&quot;\n                    android:background=&quot;@drawable/background_edt&quot;\n                    android:ems=&quot;10&quot;\n                    android:inputType=&quot;textPassword&quot;\n                    android:hint=&quot;enter your password&quot;\n                    android:layout_marginEnd=&quot;32dp&quot;\n                    android:gravity=&quot;center&quot;\n                    android:textColor=&quot;#707070&quot;\n                    android:textColorHint=&quot;#707070&quot;\n                    android:layout_marginTop=&quot;8dp&quot;/&gt;\n            &lt;/LinearLayout&gt;\n            &lt;LinearLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:orientation=&quot;horizontal&quot;\n                android:layout_marginStart=&quot;32dp&quot;\n                android:layout_marginEnd=&quot;32dp&quot;\n                android:layout_marginTop=&quot;16dp&quot;&gt;\n\n                &lt;View\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;1dp&quot;\n                    android:background=&quot;#707070&quot;\n                    android:layout_gravity=&quot;center_vertical&quot;\n                    android:layout_weight=&quot;1&quot;/&gt;\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;OR&quot;\n                    android:layout_margin=&quot;16dp&quot;/&gt;\n\n                &lt;View\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;1dp&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:background=&quot;#707070&quot;\n                    android:layout_gravity=&quot;center_vertical&quot;/&gt;\n            &lt;/LinearLayout&gt;\n            &lt;LinearLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:layout_marginEnd=&quot;32dp&quot;\n                android:layout_marginStart=&quot;32dp&quot;\n                android:orientation=&quot;horizontal&quot;&gt;\n\n                &lt;ImageView\n                    android:id=&quot;@+id/imageView2&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_weight=&quot;1&quot;\n                    app:srcCompat=&quot;@drawable/twitter&quot; /&gt;\n\n                &lt;ImageView\n                    android:id=&quot;@+id/imageView4&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_weight=&quot;1&quot;\n                    app:srcCompat=&quot;@drawable/google&quot; /&gt;\n\n                &lt;ImageView\n                    android:id=&quot;@+id/imageView5&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_weight=&quot;1&quot;\n                    app:srcCompat=&quot;@drawable/linked&quot; /&gt;\n            &lt;/LinearLayout&gt;\n            &lt;TextView\n                android:id=&quot;@+id/sign&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;30dp&quot;\n                android:textSize=&quot;18dp&quot;\n                android:text=&quot;Don't have an account ? Signup&quot;\n                android:textAlignment=&quot;center&quot;\n                android:layout_marginTop=&quot;32dp&quot;\n                android:textColor=&quot;#6C5DD2&quot;\n                android:clickable=&quot;true&quot; /&gt;\n            &lt;ProgressBar\n                android:id=&quot;@+id/progressbar&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:visibility=&quot;gone&quot;/&gt;\n            &lt;androidx.appcompat.widget.AppCompatButton\n                android:id=&quot;@+id/login&quot;\n                android:layout_width=&quot;200dp&quot;\n                android:layout_height=&quot;48dp&quot;\n                android:background=&quot;@drawable/button_background&quot;\n                style=&quot;@android:style/Widget.Button&quot;\n                android:text=&quot;LOGIN&quot;\n                android:layout_gravity=&quot;center&quot;\n                android:gravity=&quot;center&quot;\n                android:layout_marginTop=&quot;32dp&quot;\n                android:textSize=&quot;18dp&quot;\n                android:textStyle=&quot;bold&quot;\n                android:textColor=&quot;#ffffff&quot; /&gt;\n        &lt;/LinearLayout&gt;\n    &lt;/ScrollView&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>here is what it's showing after running the project:</p>\n<pre><code>\n03/12 00:58:17: Launching 'app' on Pixel 4 XL API 31.\nInstall successfully finished in 317 ms.\n$ adb shell am start -n &quot;com.example.hireme2/com.example.hireme2.signup&quot; -a android.intent.action.MAIN -c android.intent.category.LAUNCHER\nConnected to process 25979 on device 'Pixel_4_XL_API_31 [emulator-5554]'.\nCapturing and displaying logcat messages from application. This behavior can be disabled in the &quot;Logcat output&quot; section of the &quot;Debugger&quot; settings page.\nD/CompatibilityChangeReporter: Compat change id reported: 171979766; UID 10150; state: ENABLED\nV/GraphicsEnvironment: ANGLE Developer option for 'com.example.hireme2' set to: 'default'\nV/GraphicsEnvironment: Neither updatable production driver nor prerelease driver is supported.\nD/NetworkSecurityConfig: Using Network Security Config from resource network_security_config debugBuild: true\nD/NetworkSecurityConfig: Using Network Security Config from resource network_security_config debugBuild: true\nI/FirebaseApp: Device unlocked: initializing all Firebase APIs for app [DEFAULT]\nI/FirebaseInitProvider: FirebaseApp initialization successful\nD/libEGL: loaded /vendor/lib64/egl/libEGL_emulation.so\nD/libEGL: loaded /vendor/lib64/egl/libGLESv1_CM_emulation.so\nD/libEGL: loaded /vendor/lib64/egl/libGLESv2_emulation.so\nD/AppCompatDelegate: Checking for metadata for AppLocalesMetadataHolderService : Service not found\nW/example.hireme: Accessing hidden method Landroid/view/View;-&gt;computeFitSystemWindows(Landroid/graphics/Rect;Landroid/graphics/Rect;)Z (unsupported, reflection, allowed)\nW/example.hireme: Accessing hidden method Landroid/view/ViewGroup;-&gt;makeOptionalFitsSystemWindows()V (unsupported, reflection, allowed)\nD/CompatibilityChangeReporter: Compat change id reported: 171228096; UID 10150; state: ENABLED\nD/HostConnection: createUnique: call\nD/HostConnection: HostConnection::get() New Host Connection established 0x770750959250, tid 26027\nD/HostConnection: HostComposition ext ANDROID_EMU_CHECKSUM_HELPER_v1 ANDROID_EMU_native_sync_v2 ANDROID_EMU_native_sync_v3 ANDROID_EMU_native_sync_v4 ANDROID_EMU_dma_v1 ANDROID_EMU_direct_mem ANDROID_EMU_host_composition_v1 ANDROID_EMU_host_composition_v2 ANDROID_EMU_vulkan ANDROID_EMU_deferred_vulkan_commands ANDROID_EMU_vulkan_null_optional_strings ANDROID_EMU_vulkan_create_resources_with_requirements ANDROID_EMU_YUV_Cache ANDROID_EMU_vulkan_ignored_handles ANDROID_EMU_has_shared_slots_host_memory_allocator ANDROID_EMU_vulkan_free_memory_sync ANDROID_EMU_vulkan_shader_float16_int8 ANDROID_EMU_vulkan_async_queue_submit ANDROID_EMU_vulkan_queue_submit_with_commands ANDROID_EMU_sync_buffer_data ANDROID_EMU_read_color_buffer_dma GL_OES_vertex_array_object GL_KHR_texture_compression_astc_ldr ANDROID_EMU_host_side_tracing ANDROID_EMU_gles_max_version_2 \nW/OpenGLRenderer: Failed to choose config with EGL_SWAP_BEHAVIOR_PRESERVED, retrying without...\nW/OpenGLRenderer: Failed to initialize 101010-2 format, error = EGL_SUCCESS\nD/EGL_emulation: eglCreateContext: 0x770750959f10: maj 2 min 0 rcv 2\nD/EGL_emulation: eglMakeCurrent: 0x770750959f10: ver 2 0 (tinfo 0x770972f69080) (first time)\nI/Gralloc4: mapper 4.x is not supported\nD/HostConnection: createUnique: call\nD/HostConnection: HostConnection::get() New Host Connection established 0x770750967650, tid 26027\nD/goldfish-address-space: allocate: Ask for block of size 0x100\nD/goldfish-address-space: allocate: ioctl allocate returned offset 0x3e3ffe000 size 0x2000\nW/Gralloc4: allocator 4.x is not supported\nD/HostConnection: HostComposition ext ANDROID_EMU_CHECKSUM_HELPER_v1 ANDROID_EMU_native_sync_v2 ANDROID_EMU_native_sync_v3 ANDROID_EMU_native_sync_v4 ANDROID_EMU_dma_v1 ANDROID_EMU_direct_mem ANDROID_EMU_host_composition_v1 ANDROID_EMU_host_composition_v2 ANDROID_EMU_vulkan ANDROID_EMU_deferred_vulkan_commands ANDROID_EMU_vulkan_null_optional_strings ANDROID_EMU_vulkan_create_resources_with_requirements ANDROID_EMU_YUV_Cache ANDROID_EMU_vulkan_ignored_handles ANDROID_EMU_has_shared_slots_host_memory_allocator ANDROID_EMU_vulkan_free_memory_sync ANDROID_EMU_vulkan_shader_float16_int8 ANDROID_EMU_vulkan_async_queue_submit ANDROID_EMU_vulkan_queue_submit_with_commands ANDROID_EMU_sync_buffer_data ANDROID_EMU_read_color_buffer_dma GL_OES_vertex_array_object GL_KHR_texture_compression_astc_ldr ANDROID_EMU_host_side_tracing ANDROID_EMU_gles_max_version_2 \nD/EGL_emulation: app_time_stats: avg=479.38ms min=27.09ms max=1300.56ms count=3\nD/EGL_emulation: app_time_stats: avg=529.13ms min=49.32ms max=1483.89ms count=3\n</code></pre>\n"},{"tags":["java","postgresql","hibernate","jpa","common-table-expression"],"answers":[{"comments":[{"owner":{"account_id":2733822,"reputation":51,"user_id":2673716,"display_name":"Eduard Drenth"},"score":3,"creation_date":1668092017,"post_id":72207378,"comment_id":131327008,"body_markdown":"In my case the cause was simpler and less obvious: wrong password for connecting user","body":"In my case the cause was simpler and less obvious: wrong password for connecting user"},{"owner":{"account_id":18431146,"reputation":422,"user_id":13426235,"display_name":"heiko"},"score":1,"creation_date":1674812157,"post_id":72207378,"comment_id":132797088,"body_markdown":"In my case the cause was even simpler and should have been more obvious: PostgreSQL wasn&#39;t running...","body":"In my case the cause was even simpler and should have been more obvious: PostgreSQL wasn&#39;t running..."},{"owner":{"account_id":9511237,"reputation":1636,"user_id":7069108,"accept_rate":100,"display_name":"Hzzkygcs"},"score":1,"creation_date":1686234729,"post_id":72207378,"comment_id":134773872,"body_markdown":"My case is similar to @EduardDrenth case, but it is mainly because I have a Postgresql service that will automatically be run on system start-up, meanwhile, the Postgresql I intend to use is docker-compose PostgreSQL. Both Postgresql uses the same port, and neither shows an error due to this port conflict.","body":"My case is similar to @EduardDrenth case, but it is mainly because I have a Postgresql service that will automatically be run on system start-up, meanwhile, the Postgresql I intend to use is docker-compose PostgreSQL. Both Postgresql uses the same port, and neither shows an error due to this port conflict."},{"owner":{"account_id":297677,"reputation":3564,"user_id":603314,"accept_rate":88,"display_name":"bugs_"},"score":1,"creation_date":1692775857,"post_id":72207378,"comment_id":135668794,"body_markdown":"In my spring boot application I had &#39;use_jdbc_metadata_defaults&#39; in &#39;application.yaml&#39; file.","body":"In my spring boot application I had &#39;use_jdbc_metadata_defaults&#39; in &#39;application.yaml&#39; file."}],"tags":[],"owner":{"account_id":2478109,"reputation":2505,"user_id":2158271,"accept_rate":56,"display_name":"haba713"},"comment_count":4,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1678691100,"creation_date":1652301724,"answer_id":72207378,"question_id":72192789,"body_markdown":"The configuration property `use_jdbc_metadata_defaults` must be `true` for Hibernate to detect the correct version of the PostgreSQL dialect.\r\n\r\nRemoving this line\r\n```\r\n&lt;property name=&quot;hibernate.temp.use_jdbc_metadata_defaults&quot;&gt;false&lt;/property&gt;\r\n```\r\nfrom `hibernate.cfg.xml` resolves the issue.\r\n\r\n(Thanks to Christian at [Hibernate Zulip channel](https://hibernate.zulipchat.com) for sorting this out.)\r\n","title":"CteInsertStrategy can only be used with Dialects that support CTE that can take UPDATE or DELETE statements as well","body":"<p>The configuration property <code>use_jdbc_metadata_defaults</code> must be <code>true</code> for Hibernate to detect the correct version of the PostgreSQL dialect.</p>\n<p>Removing this line</p>\n<pre><code>&lt;property name=&quot;hibernate.temp.use_jdbc_metadata_defaults&quot;&gt;false&lt;/property&gt;\n</code></pre>\n<p>from <code>hibernate.cfg.xml</code> resolves the issue.</p>\n<p>(Thanks to Christian at <a href=\"https://hibernate.zulipchat.com\" rel=\"nofollow noreferrer\">Hibernate Zulip channel</a> for sorting this out.)</p>\n"},{"tags":[],"owner":{"account_id":174804,"reputation":27548,"user_id":404395,"accept_rate":73,"display_name":"marioosh"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671395036,"creation_date":1671395036,"answer_id":74844148,"question_id":72192789,"body_markdown":"The same error i got when used wrong hibernate dialect, in my case: `org.hibernate.dialect.PostgreSQL9Dialect` instead of `org.hibernate.dialect.PostgreSQLDialect` on PostgreSQL v12.","title":"CteInsertStrategy can only be used with Dialects that support CTE that can take UPDATE or DELETE statements as well","body":"<p>The same error i got when used wrong hibernate dialect, in my case: <code>org.hibernate.dialect.PostgreSQL9Dialect</code> instead of <code>org.hibernate.dialect.PostgreSQLDialect</code> on PostgreSQL v12.</p>\n"},{"tags":[],"owner":{"account_id":1222524,"reputation":3794,"user_id":1188867,"accept_rate":60,"display_name":"user1188867"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678087766,"creation_date":1678087766,"answer_id":75648128,"question_id":72192789,"body_markdown":"Adding **allocationsize=1** solved my issue\r\n\r\n    @SequenceGenerator(name = &quot;sq_seq&quot;, initialValue = 99999, allocationSize = 1)","title":"CteInsertStrategy can only be used with Dialects that support CTE that can take UPDATE or DELETE statements as well","body":"<p>Adding <strong>allocationsize=1</strong> solved my issue</p>\n<pre><code>@SequenceGenerator(name = &quot;sq_seq&quot;, initialValue = 99999, allocationSize = 1)\n</code></pre>\n"}],"owner":{"account_id":2478109,"reputation":2505,"user_id":2158271,"accept_rate":56,"display_name":"haba713"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4926,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":72207378,"answer_count":3,"score":7,"last_activity_date":1678691100,"creation_date":1652215868,"question_id":72192789,"body_markdown":"Hibernate 6.0.1 with PostgreSQL JDBC driver 42.3.5 causes the following exception:\r\n\r\n```\r\njava.lang.UnsupportedOperationException:\r\nCteInsertStrategy can only be used with Dialects that support CTE that can take UPDATE or DELETE statements as well\r\nat org.hibernate.query.sqm.mutation.internal.cte.CteInsertStrategy.&lt;init&gt;(CteInsertStrategy.java:123)\r\nat org.hibernate.query.sqm.mutation.internal.cte.CteInsertStrategy.&lt;init&gt;(CteInsertStrategy.java:107)\r\nat org.hibernate.dialect.PostgreSQLDialect.getFallbackSqmInsertStrategy(PostgreSQLDialect.java:704)\r\n...\r\n```\r\nWhat&#39;s wrong and how can I fix the issue?\r\n\r\nMyEntity.java\r\n```java\r\nimport jakarta.persistence.*;\r\n\r\n@Entity\r\n@Table(name = &quot;my_entity&quot;)\r\npublic class MyEntity {\r\n\r\n    private Long id;\r\n\r\n    @Id\r\n    @SequenceGenerator(name = &quot;id_sequence&quot;, sequenceName = &quot;my_id_sequence&quot;)\r\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;id_sequence&quot;)\r\n    public Long getId() {\r\n        return this.id;\r\n    }\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n}\r\n```\r\n\r\nMyTest.java\r\n```java\r\nimport static org.junit.Assert.assertNotNull;\r\n\r\nimport org.hibernate.*;\r\nimport org.hibernate.cfg.*;\r\nimport org.junit.*;\r\n\r\npublic class MyTest {\r\n\r\n    private static Configuration configuration;\r\n    private static SessionFactory sessionFactory;\r\n\r\n    @BeforeClass\r\n    public static void setUpBeforeClass() throws Exception {\r\n        configuration = new Configuration().configure();\r\n        sessionFactory = configuration.buildSessionFactory();\r\n    }\r\n\r\n    @AfterClass\r\n    public static void tearDownAfterClass() throws Exception {\r\n        sessionFactory.close();\r\n    }\r\n\r\n    private Session session;\r\n\r\n    @Before\r\n    public void setUp() throws Exception {\r\n        session = sessionFactory.openSession();\r\n    }\r\n\r\n    @After\r\n    public void tearDown() throws Exception {\r\n        session.close();\r\n    }\r\n\r\n    @Test\r\n    public void test() {\r\n        Transaction transaction = session.beginTransaction();\r\n        MyEntity entity = new MyEntity();\r\n        session.persist(entity);\r\n        assertNotNull(entity.getId());\r\n        transaction.commit();\r\n    }\r\n\r\n}\r\n```\r\n\r\nhibernate.cfg.xml\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE hibernate-configuration SYSTEM &quot;classpath://org/hibernate/hibernate-configuration-3.0.dtd&quot;&gt;\r\n&lt;hibernate-configuration&gt;\r\n  &lt;session-factory&gt;\r\n    &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;org.postgresql.Driver&lt;/property&gt;\r\n    &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.PostgreSQLDialect&lt;/property&gt;  \r\n    &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:postgresql://localhost:5432/mydb&lt;/property&gt;\r\n    &lt;property name=&quot;hbm2ddl.auto&quot;&gt;update&lt;/property&gt;\r\n    &lt;property name=&quot;hibernate.connection.username&quot;&gt;postgres&lt;/property&gt;\r\n    &lt;property name=&quot;hibernate.temp.use_jdbc_metadata_defaults&quot;&gt;false&lt;/property&gt;\r\n    &lt;property name=&quot;hibernate.c3p0.min_size&quot;&gt;1&lt;/property&gt;\r\n    &lt;property name=&quot;hibernate.c3p0.max_size&quot;&gt;30&lt;/property&gt;\r\n    &lt;property name=&quot;hibernate.c3p0.timeout&quot;&gt;120&lt;/property&gt;\r\n    &lt;property name=&quot;hibernate.c3p0.max_statements&quot;&gt;100&lt;/property&gt;\r\n    &lt;mapping class=&quot;haba713.MyEntity&quot; /&gt;\r\n  &lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n```\r\n\r\nbuild.gradle\r\n```groovy\r\nplugins {\r\n    id &#39;java-library&#39;\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\next {\r\n    hibernateVersion = &#39;6.0.1.Final&#39;\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;org.postgresql:postgresql:42.3.5&#39;\r\n    implementation &#39;org.hibernate.orm:hibernate-c3p0:&#39; + hibernateVersion\r\n    implementation &#39;org.hibernate.orm:hibernate-core:&#39; + hibernateVersion\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n}\r\n```\r\n\r\nSee the full source code [here](https://github.com/haba713/hibernate-cte-insert-strategy-issue).\r\n","title":"CteInsertStrategy can only be used with Dialects that support CTE that can take UPDATE or DELETE statements as well","body":"<p>Hibernate 6.0.1 with PostgreSQL JDBC driver 42.3.5 causes the following exception:</p>\n<pre><code>java.lang.UnsupportedOperationException:\nCteInsertStrategy can only be used with Dialects that support CTE that can take UPDATE or DELETE statements as well\nat org.hibernate.query.sqm.mutation.internal.cte.CteInsertStrategy.&lt;init&gt;(CteInsertStrategy.java:123)\nat org.hibernate.query.sqm.mutation.internal.cte.CteInsertStrategy.&lt;init&gt;(CteInsertStrategy.java:107)\nat org.hibernate.dialect.PostgreSQLDialect.getFallbackSqmInsertStrategy(PostgreSQLDialect.java:704)\n...\n</code></pre>\n<p>What's wrong and how can I fix the issue?</p>\n<p>MyEntity.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>import jakarta.persistence.*;\n\n@Entity\n@Table(name = &quot;my_entity&quot;)\npublic class MyEntity {\n\n    private Long id;\n\n    @Id\n    @SequenceGenerator(name = &quot;id_sequence&quot;, sequenceName = &quot;my_id_sequence&quot;)\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;id_sequence&quot;)\n    public Long getId() {\n        return this.id;\n    }\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n}\n</code></pre>\n<p>MyTest.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static org.junit.Assert.assertNotNull;\n\nimport org.hibernate.*;\nimport org.hibernate.cfg.*;\nimport org.junit.*;\n\npublic class MyTest {\n\n    private static Configuration configuration;\n    private static SessionFactory sessionFactory;\n\n    @BeforeClass\n    public static void setUpBeforeClass() throws Exception {\n        configuration = new Configuration().configure();\n        sessionFactory = configuration.buildSessionFactory();\n    }\n\n    @AfterClass\n    public static void tearDownAfterClass() throws Exception {\n        sessionFactory.close();\n    }\n\n    private Session session;\n\n    @Before\n    public void setUp() throws Exception {\n        session = sessionFactory.openSession();\n    }\n\n    @After\n    public void tearDown() throws Exception {\n        session.close();\n    }\n\n    @Test\n    public void test() {\n        Transaction transaction = session.beginTransaction();\n        MyEntity entity = new MyEntity();\n        session.persist(entity);\n        assertNotNull(entity.getId());\n        transaction.commit();\n    }\n\n}\n</code></pre>\n<p>hibernate.cfg.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE hibernate-configuration SYSTEM &quot;classpath://org/hibernate/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n  &lt;session-factory&gt;\n    &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;org.postgresql.Driver&lt;/property&gt;\n    &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.PostgreSQLDialect&lt;/property&gt;  \n    &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:postgresql://localhost:5432/mydb&lt;/property&gt;\n    &lt;property name=&quot;hbm2ddl.auto&quot;&gt;update&lt;/property&gt;\n    &lt;property name=&quot;hibernate.connection.username&quot;&gt;postgres&lt;/property&gt;\n    &lt;property name=&quot;hibernate.temp.use_jdbc_metadata_defaults&quot;&gt;false&lt;/property&gt;\n    &lt;property name=&quot;hibernate.c3p0.min_size&quot;&gt;1&lt;/property&gt;\n    &lt;property name=&quot;hibernate.c3p0.max_size&quot;&gt;30&lt;/property&gt;\n    &lt;property name=&quot;hibernate.c3p0.timeout&quot;&gt;120&lt;/property&gt;\n    &lt;property name=&quot;hibernate.c3p0.max_statements&quot;&gt;100&lt;/property&gt;\n    &lt;mapping class=&quot;haba713.MyEntity&quot; /&gt;\n  &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p>build.gradle</p>\n<pre><code>plugins {\n    id 'java-library'\n}\n\nrepositories {\n    mavenCentral()\n}\n\next {\n    hibernateVersion = '6.0.1.Final'\n}\n\ndependencies {\n    implementation 'org.postgresql:postgresql:42.3.5'\n    implementation 'org.hibernate.orm:hibernate-c3p0:' + hibernateVersion\n    implementation 'org.hibernate.orm:hibernate-core:' + hibernateVersion\n    testImplementation 'junit:junit:4.13.2'\n}\n</code></pre>\n<p>See the full source code <a href=\"https://github.com/haba713/hibernate-cte-insert-strategy-issue\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":["java","azure","spring-boot","azure-web-app-service","spring-boot-maven-plugin"],"comments":[{"owner":{"account_id":376857,"reputation":1599,"user_id":1309503,"display_name":"divyang4481"},"score":0,"creation_date":1560420638,"post_id":56578158,"comment_id":99734151,"body_markdown":"are you hitting right url?","body":"are you hitting right url?"},{"owner":{"account_id":6674114,"reputation":21,"user_id":5149385,"display_name":"Satish Kumbari"},"score":0,"creation_date":1560420657,"post_id":56578158,"comment_id":99734164,"body_markdown":"&lt;build&gt; &lt;plugins&gt;&lt;plugin&gt;\n                &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\n                &lt;artifactId&gt;azure-webapp-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.2.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;resourceGroup&gt;RG-TEST&lt;/resourceGroup&gt;\n                    &lt;appName&gt;webapp-name&lt;/appName&gt;\n                    &lt;linuxRuntime&gt;tomcat 9.0-jre8&lt;/linuxRuntime&gt;\n                    &lt;region&gt;australiasoutheast&lt;/region&gt;\n                    &lt;deploymentType&gt;war&lt;/deploymentType&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;&lt;/plugins&gt;&lt;/build&gt;","body":"&lt;build&gt; &lt;plugins&gt;&lt;plugin&gt;                 &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;                 &lt;artifactId&gt;azure-webapp-maven-plugin&lt;/artifactId&gt;                 &lt;version&gt;1.2.0&lt;/version&gt;                 &lt;configuration&gt;                     &lt;resourceGroup&gt;RG-TEST&lt;/resourceGroup&gt;                     &lt;appName&gt;webapp-name&lt;/appName&gt;                     &lt;linuxRuntime&gt;tomcat 9.0-jre8&lt;/linuxRuntime&gt;                     &lt;region&gt;australiasoutheast&lt;/region&gt;                     &lt;deploymentType&gt;war&lt;/deploymentType&gt;                 &lt;/configuration&gt;             &lt;/plugin&gt;&lt;/plugins&gt;&lt;/build&gt;"},{"owner":{"account_id":6674114,"reputation":21,"user_id":5149385,"display_name":"Satish Kumbari"},"score":0,"creation_date":1560420958,"post_id":56578158,"comment_id":99734334,"body_markdown":"@divyang4481 yes I am hitting the url that is provided in azure portal for my webapp","body":"@divyang4481 yes I am hitting the url that is provided in azure portal for my webapp"},{"owner":{"account_id":228088,"reputation":3174,"user_id":490170,"accept_rate":56,"display_name":"Jamie"},"score":0,"creation_date":1560430103,"post_id":56578158,"comment_id":99739476,"body_markdown":"are you using the standard App Service or App Service for Linux? It appears you are using the standard App Service.","body":"are you using the standard App Service or App Service for Linux? It appears you are using the standard App Service."},{"owner":{"account_id":8020909,"reputation":5180,"user_id":6049604,"display_name":"Mohit Verma"},"score":0,"creation_date":1560489065,"post_id":56578158,"comment_id":99760523,"body_markdown":"Possible duplicate of [Spring boot REST webservice returns 404 when deployed to azure](https://stackoverflow.com/questions/36455758/spring-boot-rest-webservice-returns-404-when-deployed-to-azure)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/36455758/spring-boot-rest-webservice-returns-404-when-deployed-to-azure\">Spring boot REST webservice returns 404 when deployed to azure</a>"},{"owner":{"account_id":6674114,"reputation":21,"user_id":5149385,"display_name":"Satish Kumbari"},"score":0,"creation_date":1560492839,"post_id":56578158,"comment_id":99761707,"body_markdown":"@Jamie Yes I used app service for linux. I selected OS as linux and Runtime stack as tomcat 8.5-jre8 while creating the webapp on azure portal.","body":"@Jamie Yes I used app service for linux. I selected OS as linux and Runtime stack as tomcat 8.5-jre8 while creating the webapp on azure portal."}],"answers":[{"comments":[{"owner":{"account_id":6674114,"reputation":21,"user_id":5149385,"display_name":"Satish Kumbari"},"score":0,"creation_date":1560485790,"post_id":56580957,"comment_id":99759797,"body_markdown":"Hi Jamie, It&#39;s not the first time that I am doing azure deployment, I have done it many times for my official use but not with my personal id. I do not need to copy war file to tomcat, I just use maven plugin for azure and It should do the deployment for me as It did for another azure webapps which I did on my official azure account. But this time, for some reason I am not getting proper response from azure webapp url. So ur assist me if u know on this.","body":"Hi Jamie, It&#39;s not the first time that I am doing azure deployment, I have done it many times for my official use but not with my personal id. I do not need to copy war file to tomcat, I just use maven plugin for azure and It should do the deployment for me as It did for another azure webapps which I did on my official azure account. But this time, for some reason I am not getting proper response from azure webapp url. So ur assist me if u know on this."}],"tags":[],"owner":{"account_id":228088,"reputation":3174,"user_id":490170,"accept_rate":56,"display_name":"Jamie"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560430322,"creation_date":1560430322,"answer_id":56580957,"question_id":56578158,"body_markdown":"Without knowing how you performed your deployment. I am going to assume that you didn&#39;t deploy a WAR file to the webapps folder. If you just copied the files over Tomcat will not automatically load those like it will for a WAR file. Restart the Tomcat server and see if your app gets loaded and starts working.","title":"Azure webapp HTTP Status 404 – Not Found","body":"<p>Without knowing how you performed your deployment. I am going to assume that you didn't deploy a WAR file to the webapps folder. If you just copied the files over Tomcat will not automatically load those like it will for a WAR file. Restart the Tomcat server and see if your app gets loaded and starts working.</p>\n"},{"tags":[],"owner":{"account_id":9471715,"reputation":151,"user_id":7042380,"display_name":"Antonio"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570575412,"creation_date":1570575412,"answer_id":58294985,"question_id":56578158,"body_markdown":"After tirelessly searching on the internet this is what I did which worked out perfectly\r\nI got my ftp credentials from azure and used filezilla to upload my jar file to wwwroot folder. It is important to rename your jar file to app.jar. You can see more information here https://learn.microsoft.com/en-us/azure/app-service/containers/configure-language-java#starting-jar-apps. \r\n\r\nAlso to run SpringBoot on App Service Linux, you should use the Java SE offering and not Tomcat which your site is configured to.\r\n\r\nPlease check the following tutorial:\r\n\r\nhttps://learn.microsoft.com/en-us/java/azure/spring-framework/deploy-spring-boot-java-app-with-maven-plugin?view=azure-java-stable\r\n\r\ne.g OS\tLinux \r\n\r\njavaVersion\tjre8\r\n\r\nruntimeStack\tjre8\r\n\r\nYou can configure this at the Settings ,configuration and general settings on the azure portal.\r\n\r\nI hope this helps someone... \r\n\r\n\r\n","title":"Azure webapp HTTP Status 404 – Not Found","body":"<p>After tirelessly searching on the internet this is what I did which worked out perfectly\nI got my ftp credentials from azure and used filezilla to upload my jar file to wwwroot folder. It is important to rename your jar file to app.jar. You can see more information here <a href=\"https://learn.microsoft.com/en-us/azure/app-service/containers/configure-language-java#starting-jar-apps\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/app-service/containers/configure-language-java#starting-jar-apps</a>. </p>\n\n<p>Also to run SpringBoot on App Service Linux, you should use the Java SE offering and not Tomcat which your site is configured to.</p>\n\n<p>Please check the following tutorial:</p>\n\n<p><a href=\"https://learn.microsoft.com/en-us/java/azure/spring-framework/deploy-spring-boot-java-app-with-maven-plugin?view=azure-java-stable\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/java/azure/spring-framework/deploy-spring-boot-java-app-with-maven-plugin?view=azure-java-stable</a></p>\n\n<p>e.g OS  Linux </p>\n\n<p>javaVersion jre8</p>\n\n<p>runtimeStack    jre8</p>\n\n<p>You can configure this at the Settings ,configuration and general settings on the azure portal.</p>\n\n<p>I hope this helps someone... </p>\n"},{"tags":[],"owner":{"account_id":26402425,"reputation":1,"user_id":20052696,"display_name":"Ab0o0oD"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678690545,"creation_date":1678283079,"answer_id":75673863,"question_id":56578158,"body_markdown":"You need to configure your azure app service to use Java web server: Java SE (Embedded Web Server)\r\n\r\nYour configuration should look like this:\r\n\r\n![You configuration should looklike this ][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xQkjU.png","title":"Azure webapp HTTP Status 404 – Not Found","body":"<p>You need to configure your azure app service to use Java web server: Java SE (Embedded Web Server)</p>\n<p>Your configuration should look like this:</p>\n<p><img src=\"https://i.stack.imgur.com/xQkjU.png\" alt=\"You configuration should looklike this \" /></p>\n"}],"owner":{"account_id":6674114,"reputation":21,"user_id":5149385,"display_name":"Satish Kumbari"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6228,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1678690545,"creation_date":1560420506,"question_id":56578158,"body_markdown":"I have deployed my simple webapp on Springboot Rest  and deployed it on azure cloud successfully just like my other webapps.\r\n\r\nBut I am getting HTTP Status 404 – Not Found when I hit the azure URL of my webapp. \r\n\r\nThe status of webapp on azure is showing as &quot;Running&quot; but still I am getting 404. \r\n\r\nPlease note that, the application running perfectly on my local machine but not on azure.\r\n\r\nBelow are the error message details,\r\n\r\n&gt; &quot;HTTP Status 404 – Not Found Type Status Report Message / Description\r\n&gt; The origin server did not find a current representation for the target\r\n&gt; resource or is not willing to disclose that one exists. Apache\r\n&gt; Tomcat/8.5.41&quot;\r\n\r\nAnd below is my azure maven plugin configuration I used in my application,\r\n```\r\n&lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\r\n```\r\nIf someone check and assist me on this would be so helpful.\r\n\r\nThanks in advance.","title":"Azure webapp HTTP Status 404 – Not Found","body":"<p>I have deployed my simple webapp on Springboot Rest  and deployed it on azure cloud successfully just like my other webapps.</p>\n\n<p>But I am getting HTTP Status 404 – Not Found when I hit the azure URL of my webapp. </p>\n\n<p>The status of webapp on azure is showing as \"Running\" but still I am getting 404. </p>\n\n<p>Please note that, the application running perfectly on my local machine but not on azure.</p>\n\n<p>Below are the error message details,</p>\n\n<blockquote>\n  <p>\"HTTP Status 404 – Not Found Type Status Report Message / Description\n  The origin server did not find a current representation for the target\n  resource or is not willing to disclose that one exists. Apache\n  Tomcat/8.5.41\"</p>\n</blockquote>\n\n<p>And below is my azure maven plugin configuration I used in my application,</p>\n\n<pre><code>&lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\n</code></pre>\n\n<p>If someone check and assist me on this would be so helpful.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","r","apache-spark","sparklyr"],"comments":[{"owner":{"account_id":58121,"reputation":260052,"user_id":1855677,"accept_rate":83,"display_name":"IRTFM"},"score":1,"creation_date":1539665538,"post_id":52827672,"comment_id":92572869,"body_markdown":"What does `Sys.which(&quot;java&quot;)` (from the R console) return?","body":"What does <code>Sys.which(&quot;java&quot;)</code> (from the R console) return?"},{"owner":{"account_id":5010601,"reputation":5363,"user_id":4026992,"accept_rate":50,"display_name":"Manoj Kumar"},"score":0,"creation_date":1562491982,"post_id":52827672,"comment_id":100384355,"body_markdown":"java \n&quot;C:\\\\PROGRA~2\\\\COMMON~1\\\\Oracle\\\\Java\\\\javapath\\\\java.exe&quot;","body":"java  &quot;C:\\\\PROGRA~2\\\\COMMON~1\\\\Oracle\\\\Java\\\\javapath\\\\java.exe&quot;"}],"answers":[{"comments":[{"owner":{"account_id":14498156,"reputation":121,"user_id":10472119,"display_name":"Kerie"},"score":0,"creation_date":1539665562,"post_id":52827733,"comment_id":92572876,"body_markdown":"@Kyle How did you install java? Is that JDK or JRE? Try download JDK from the [official download site](https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html). Choose `jdk-8u181-macosx-x64.dmg`, which is about 242.83 MB.","body":"@Kyle How did you install java? Is that JDK or JRE? Try download JDK from the <a href=\"https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" rel=\"nofollow noreferrer\">official download site</a>. Choose <code>jdk-8u181-macosx-x64.dmg</code>, which is about 242.83 MB."},{"owner":{"account_id":58121,"reputation":260052,"user_id":1855677,"accept_rate":83,"display_name":"IRTFM"},"score":0,"creation_date":1539671060,"post_id":52827733,"comment_id":92574659,"body_markdown":"@Kyle. I also have a symlink at `/Library/Java/Home` and it&#39;s dated 2009 and points to an invalid location. I think it is a remnant of an earlier installation. I currently have the symlink at `/usr/bin/java` pointing to code in `jdk1.8.0_131.jdk`. I&#39;m thinking you may need to update your installation of java.","body":"@Kyle. I also have a symlink at <code>&#47;Library&#47;Java&#47;Home</code> and it&#39;s dated 2009 and points to an invalid location. I think it is a remnant of an earlier installation. I currently have the symlink at <code>&#47;usr&#47;bin&#47;java</code> pointing to code in <code>jdk1.8.0_131.jdk</code>. I&#39;m thinking you may need to update your installation of java."}],"tags":[],"owner":{"account_id":14498156,"reputation":121,"user_id":10472119,"display_name":"Kerie"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539664865,"creation_date":1539661993,"answer_id":52827733,"question_id":52827672,"body_markdown":"Run `echo $JAVA_HOME` in terminal, and see what is the output.\r\n\r\nIn my Mac OS, the output is :\r\n`/Library/Java/JavaVirtualMachines/jdk1.8.0_77.jdk/Contents/Home`","title":"sparklyr- JAVA_HOME is set but does not point to a valid version","body":"<p>Run <code>echo $JAVA_HOME</code> in terminal, and see what is the output.</p>\n\n<p>In my Mac OS, the output is :\n<code>/Library/Java/JavaVirtualMachines/jdk1.8.0_77.jdk/Contents/Home</code></p>\n"},{"comments":[{"owner":{"account_id":14552102,"reputation":31,"user_id":10510636,"display_name":"Kyle"},"score":0,"creation_date":1539664579,"post_id":52827944,"comment_id":92572603,"body_markdown":"My output upon running `$ java -version` looks identical to yours. Similarly, when I run `sparklyr:::get_java()`, the output reads `/usr/bin/java`. Any idea how my Java might be set up differently?","body":"My output upon running <code>$ java -version</code> looks identical to yours. Similarly, when I run <code>sparklyr:::get_java()</code>, the output reads <code>&#47;usr&#47;bin&#47;java</code>. Any idea how my Java might be set up differently?"},{"owner":{"account_id":58121,"reputation":260052,"user_id":1855677,"accept_rate":83,"display_name":"IRTFM"},"score":0,"creation_date":1539670491,"post_id":52827944,"comment_id":92574414,"body_markdown":"It&#39;s perfectly possible that `sparklyr` expects to find an environment variable (despite being able to find java components in the PATH variable. What happens when you set one in one of your profile files? See: `?Startup` for a full listing of your options. I would advise against using your bash .profile. The environments are sometimes different.","body":"It&#39;s perfectly possible that <code>sparklyr</code> expects to find an environment variable (despite being able to find java components in the PATH variable. What happens when you set one in one of your profile files? See: <code>?Startup</code> for a full listing of your options. I would advise against using your bash .profile. The environments are sometimes different."}],"tags":[],"owner":{"account_id":58121,"reputation":260052,"user_id":1855677,"accept_rate":83,"display_name":"IRTFM"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1539771487,"creation_date":1539664042,"answer_id":52827944,"question_id":52827672,"body_markdown":"When I run:\r\n\r\n    sparklyr:::get_java()\r\n               java \r\n    &quot;/usr/bin/java&quot; \r\n\r\nIt appears that you don&#39;t have java set up in such a manner that the response for that `sparklyr` function is satisfactory. Unlike @Kerie I get nothing from the echo command. Instead, I can get sensible results from this command in a Terminal session:\r\n\r\n    $ java -version\r\n    #-------------------\r\n    java version &quot;1.8.0_131&quot;\r\n    Java(TM) SE Runtime Environment (build 1.8.0_131-b11)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 25.131-b11, mixed mode)\r\n\r\nRunning MacOS 10.11.6 (not upgraded because my hardware is &quot;obsolete&quot; per Apple) and R 3.5.1.\r\n\r\nThere&#39;s an irony here in that it appears that the get_java function is supposed to set a value for the location if it cannot find an environment variable. Here&#39;s the code:\r\n\r\n    sparklyr:::get_java\r\n     #----------\r\n    function (throws = FALSE) \r\n    {\r\n        java_home &lt;- Sys.getenv(&quot;JAVA_HOME&quot;, unset = NA)\r\n        if (!is.na(java_home)) {\r\n            java &lt;- file.path(java_home, &quot;bin&quot;, &quot;java&quot;)\r\n            if (identical(.Platform$OS.type, &quot;windows&quot;)) {\r\n                java &lt;- paste0(java, &quot;.exe&quot;)\r\n            }\r\n            if (!file.exists(java)) {\r\n                if (throws) {\r\n                    stop(&quot;Java is required to connect to Spark. &quot;, \r\n                      &quot;JAVA_HOME is set but does not point to a valid version. &quot;, \r\n                      &quot;Please fix JAVA_HOME or reinstall from: &quot;, \r\n                      java_install_url())\r\n                }\r\n                java &lt;- &quot;&quot;\r\n            }\r\n        }\r\n        else java &lt;- Sys.which(&quot;java&quot;)\r\n        java\r\n    }\r\n    &lt;bytecode: 0x7fb5c7f2db30&gt;\r\n    &lt;environment: namespace:sparklyr&gt;\r\n\r\nBecause I do not have an environment variable for JAVA_HOME, but do have `java` registered with `which`, the `get_java` function returns a valid path. So my system returns:\r\n\r\n    Sys.which(&quot;java&quot;)\r\n               java \r\n    &quot;/usr/bin/java&quot; \r\n\r\nFrom comments by @user6910411, I am reminded that you should not update to the current Java Dev Kit (which is 1.9), but do rather use the link provided by @Kerie to the prior major version, 1.8. You should also run:\r\n\r\n    Sys.unsetenv(&quot;JAVA_HOME&quot;) \r\n\r\nto get rid of the misleading symlink. Or perhaps you could track it down at `/Library/Java/Home` (if that&#39;s where it is) and delete it before installing the newer (but not newest) version.\r\n\r\n","title":"sparklyr- JAVA_HOME is set but does not point to a valid version","body":"<p>When I run:</p>\n\n<pre><code>sparklyr:::get_java()\n           java \n\"/usr/bin/java\" \n</code></pre>\n\n<p>It appears that you don't have java set up in such a manner that the response for that <code>sparklyr</code> function is satisfactory. Unlike @Kerie I get nothing from the echo command. Instead, I can get sensible results from this command in a Terminal session:</p>\n\n<pre><code>$ java -version\n#-------------------\njava version \"1.8.0_131\"\nJava(TM) SE Runtime Environment (build 1.8.0_131-b11)\nJava HotSpot(TM) 64-Bit Server VM (build 25.131-b11, mixed mode)\n</code></pre>\n\n<p>Running MacOS 10.11.6 (not upgraded because my hardware is \"obsolete\" per Apple) and R 3.5.1.</p>\n\n<p>There's an irony here in that it appears that the get_java function is supposed to set a value for the location if it cannot find an environment variable. Here's the code:</p>\n\n<pre><code>sparklyr:::get_java\n #----------\nfunction (throws = FALSE) \n{\n    java_home &lt;- Sys.getenv(\"JAVA_HOME\", unset = NA)\n    if (!is.na(java_home)) {\n        java &lt;- file.path(java_home, \"bin\", \"java\")\n        if (identical(.Platform$OS.type, \"windows\")) {\n            java &lt;- paste0(java, \".exe\")\n        }\n        if (!file.exists(java)) {\n            if (throws) {\n                stop(\"Java is required to connect to Spark. \", \n                  \"JAVA_HOME is set but does not point to a valid version. \", \n                  \"Please fix JAVA_HOME or reinstall from: \", \n                  java_install_url())\n            }\n            java &lt;- \"\"\n        }\n    }\n    else java &lt;- Sys.which(\"java\")\n    java\n}\n&lt;bytecode: 0x7fb5c7f2db30&gt;\n&lt;environment: namespace:sparklyr&gt;\n</code></pre>\n\n<p>Because I do not have an environment variable for JAVA_HOME, but do have <code>java</code> registered with <code>which</code>, the <code>get_java</code> function returns a valid path. So my system returns:</p>\n\n<pre><code>Sys.which(\"java\")\n           java \n\"/usr/bin/java\" \n</code></pre>\n\n<p>From comments by @user6910411, I am reminded that you should not update to the current Java Dev Kit (which is 1.9), but do rather use the link provided by @Kerie to the prior major version, 1.8. You should also run:</p>\n\n<pre><code>Sys.unsetenv(\"JAVA_HOME\") \n</code></pre>\n\n<p>to get rid of the misleading symlink. Or perhaps you could track it down at <code>/Library/Java/Home</code> (if that's where it is) and delete it before installing the newer (but not newest) version.</p>\n"},{"tags":[],"owner":{"account_id":3517130,"reputation":5214,"user_id":2940265,"accept_rate":91,"display_name":"Menuka Ishan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678690377,"creation_date":1678690377,"answer_id":75718766,"question_id":52827672,"body_markdown":"This happens because the Java path you mentioned in the comment was placed before `%JAVA_HOME%\\bin` or directly added to the Path or there is no `%JAVA_HOME%\\bin` variable in your Windows machine. \r\n\r\nBelow Steps should fix your Java path issue.\r\n\r\nGot To System Variables.\r\n\r\nIf you haven&#39;t added `JAVA_HOME` please add it in the System Variables sections. Like the below example.\r\n\r\n[![Java Home set][1]][1]\r\n\r\nSelect Path Variable is System Variables click Edit.\r\n\r\nThere should be a Java path like `C:\\PROGRA~2\\COMMON~1\\Oracle\\Java\\javapath\\java.ex`e\r\nin Path. Delete it.\r\nClick `New` and add `%JAVA_HOME%\\bin` \r\nNow Your correct Java path should be set.\r\nOpen a new Command prompt and type `java -version` should be settled. (Already opened command prompts will not reflect this in Windows)\r\n\r\nPlease note that sometimes This won&#39;t affect IDEs like IntelliJ because of their advanced cache systems. You have to clear those caches. Otherwise, it won&#39;t be shown as Java was changed even though already changed in OS.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1c1qk.png","title":"sparklyr- JAVA_HOME is set but does not point to a valid version","body":"<p>This happens because the Java path you mentioned in the comment was placed before <code>%JAVA_HOME%\\bin</code> or directly added to the Path or there is no <code>%JAVA_HOME%\\bin</code> variable in your Windows machine.</p>\n<p>Below Steps should fix your Java path issue.</p>\n<p>Got To System Variables.</p>\n<p>If you haven't added <code>JAVA_HOME</code> please add it in the System Variables sections. Like the below example.</p>\n<p><a href=\"https://i.stack.imgur.com/1c1qk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1c1qk.png\" alt=\"Java Home set\" /></a></p>\n<p>Select Path Variable is System Variables click Edit.</p>\n<p>There should be a Java path like <code>C:\\PROGRA~2\\COMMON~1\\Oracle\\Java\\javapath\\java.ex</code>e\nin Path. Delete it.\nClick <code>New</code> and add <code>%JAVA_HOME%\\bin</code>\nNow Your correct Java path should be set.\nOpen a new Command prompt and type <code>java -version</code> should be settled. (Already opened command prompts will not reflect this in Windows)</p>\n<p>Please note that sometimes This won't affect IDEs like IntelliJ because of their advanced cache systems. You have to clear those caches. Otherwise, it won't be shown as Java was changed even though already changed in OS.</p>\n"}],"owner":{"account_id":14552102,"reputation":31,"user_id":10510636,"display_name":"Kyle"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2400,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1678690421,"creation_date":1539661444,"question_id":52827672,"body_markdown":"I&#39;m attempting to use `sparklyr` to analyze a large dataset in R. Upon my attempts to establish a Spark connection with `spark_connect`, I receive the following error:\r\n\r\n    Error in get_java(throws = TRUE) : Java is required to connect to Spark. JAVA_HOME is set but does not point to a valid version. Please fix JAVA_HOME or reinstall from: https://www.java.com/en/\r\n\r\nI&#39;ve reinstalled Java but continue to get the same error. Any advice?\r\n","title":"sparklyr- JAVA_HOME is set but does not point to a valid version","body":"<p>I'm attempting to use <code>sparklyr</code> to analyze a large dataset in R. Upon my attempts to establish a Spark connection with <code>spark_connect</code>, I receive the following error:</p>\n\n<pre><code>Error in get_java(throws = TRUE) : Java is required to connect to Spark. JAVA_HOME is set but does not point to a valid version. Please fix JAVA_HOME or reinstall from: https://www.java.com/en/\n</code></pre>\n\n<p>I've reinstalled Java but continue to get the same error. Any advice?</p>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1494580365,"post_id":43933778,"comment_id":74899889,"body_markdown":"Can you show us some of your research please?","body":"Can you show us some of your research please?"},{"owner":{"account_id":6597861,"reputation":7627,"user_id":5097027,"accept_rate":71,"display_name":"NarendraR"},"score":2,"creation_date":1494580459,"post_id":43933778,"comment_id":74899952,"body_markdown":"have you tried `element.getAttribute(&quot;value&quot;) `","body":"have you tried <code>element.getAttribute(&quot;value&quot;) </code>"},{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1606031356,"post_id":43933778,"comment_id":114831351,"body_markdown":"Possible duplicate: *[How to gettext() of an element in Selenium Webdriver](https://stackoverflow.com/questions/22087952/how-to-gettext-of-an-element-in-selenium-webdriver)*","body":"Possible duplicate: <i><a href=\"https://stackoverflow.com/questions/22087952/how-to-gettext-of-an-element-in-selenium-webdriver\">How to gettext() of an element in Selenium Webdriver</a></i>"},{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1668726690,"post_id":43933778,"comment_id":131483334,"body_markdown":"[Reference for the `disabled` attribute](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-autocomplete). But what is `data-bind`? What is the consequence for the doubled `type` attribute?","body":"<a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-autocomplete\" rel=\"nofollow noreferrer\">Reference for the <code>disabled</code> attribute</a>. But what is <code>data-bind</code>? What is the consequence for the doubled <code>type</code> attribute?"},{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1668729126,"post_id":43933778,"comment_id":131483816,"body_markdown":"Perhaps the title should be more specific?","body":"Perhaps the title should be more specific?"}],"answers":[{"comments":[{"owner":{"account_id":10883793,"reputation":193,"user_id":8001932,"accept_rate":20,"display_name":"Bishwaroop Chakraborty"},"score":0,"creation_date":1494580474,"post_id":43933827,"comment_id":74899963,"body_markdown":"there is no value attribute as I can see in this element tag","body":"there is no value attribute as I can see in this element tag"},{"owner":{"account_id":6184254,"reputation":472,"user_id":4818807,"display_name":"Tom Trumper"},"score":0,"creation_date":1494580628,"post_id":43933827,"comment_id":74900073,"body_markdown":"Ok for the given element `&lt;input type = &quot;form-control&quot; type=&quot;text&quot; data-bind=&quot;textInput: EnterpriseId&quot; disabled autocomplete=&quot;off&quot;&gt;`, what exactly are you trying to get hold of?\n\nCan you share a screenshot of the element?","body":"Ok for the given element <code>&lt;input type = &quot;form-control&quot; type=&quot;text&quot; data-bind=&quot;textInput: EnterpriseId&quot; disabled autocomplete=&quot;off&quot;&gt;</code>, what exactly are you trying to get hold of?  Can you share a screenshot of the element?"},{"owner":{"account_id":10883793,"reputation":193,"user_id":8001932,"accept_rate":20,"display_name":"Bishwaroop Chakraborty"},"score":0,"creation_date":1494581659,"post_id":43933827,"comment_id":74900782,"body_markdown":"i cannot get screenshots, this in an input text field which contains a value inside but the DOM does not display the value here. So i am not able to get the input field&#39;s text","body":"i cannot get screenshots, this in an input text field which contains a value inside but the DOM does not display the value here. So i am not able to get the input field&#39;s text"}],"tags":[],"owner":{"account_id":6184254,"reputation":472,"user_id":4818807,"display_name":"Tom Trumper"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668728937,"creation_date":1494580433,"answer_id":43933827,"question_id":43933778,"body_markdown":"I presume the element in question is an [&amp;lt;input&gt;][1] element, so you may be able to use the `element.getAttribute(String attribute)` method like so:\r\n\r\n```java\r\nString value = element.getAttribute(&quot;value&quot;);\r\n```\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/text\r\n","title":"How can I get the inner text of an element in Selenium?","body":"<p>I presume the element in question is an <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/text\" rel=\"nofollow noreferrer\">&lt;input&gt;</a> element, so you may be able to use the <code>element.getAttribute(String attribute)</code> method like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String value = element.getAttribute(&quot;value&quot;);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8405393,"reputation":634,"user_id":6443553,"display_name":"Eknath"},"score":0,"creation_date":1494581989,"post_id":43934153,"comment_id":74900989,"body_markdown":"can you share your By locator ? and code that you tried","body":"can you share your By locator ? and code that you tried"},{"owner":{"account_id":10883793,"reputation":193,"user_id":8001932,"accept_rate":20,"display_name":"Bishwaroop Chakraborty"},"score":2,"creation_date":1494582128,"post_id":43934153,"comment_id":74901071,"body_markdown":"dude, u r deviating from the topic, why do u need the By locator here. I am just asking how to get an input type=&quot;text&quot; value when the value attribute is not present for this element in the DOM","body":"dude, u r deviating from the topic, why do u need the By locator here. I am just asking how to get an input type=&quot;text&quot; value when the value attribute is not present for this element in the DOM"},{"owner":{"account_id":8405393,"reputation":634,"user_id":6443553,"display_name":"Eknath"},"score":0,"creation_date":1494582839,"post_id":43934153,"comment_id":74901554,"body_markdown":"might be your locator and the way u wrote ur code snippet have some error.","body":"might be your locator and the way u wrote ur code snippet have some error."},{"owner":{"account_id":1681096,"reputation":15990,"user_id":1545308,"accept_rate":41,"display_name":"etayluz"},"score":2,"creation_date":1544863103,"post_id":43934153,"comment_id":94432682,"body_markdown":"I&#39;m getting: `AttributeError: &#39;WebElement&#39; object has no attribute &#39;getAttribute&#39;` but this is in python","body":"I&#39;m getting: <code>AttributeError: &#39;WebElement&#39; object has no attribute &#39;getAttribute&#39;</code> but this is in python"},{"owner":{"account_id":7798901,"reputation":368,"user_id":5899042,"display_name":"gabriel garcia"},"score":0,"creation_date":1592743769,"post_id":43934153,"comment_id":110527789,"body_markdown":"that&#39;s because you&#39;re using webdriver&#39;s java API instead of python&#39;s API","body":"that&#39;s because you&#39;re using webdriver&#39;s java API instead of python&#39;s API"}],"tags":[],"owner":{"account_id":8405393,"reputation":634,"user_id":6443553,"display_name":"Eknath"},"comment_count":5,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1668726364,"creation_date":1494581391,"answer_id":43934153,"question_id":43933778,"body_markdown":"Try this:\r\n\r\n```java\r\nWebElement element = driver.findElement(By.id(&quot;id value&quot;));  \r\nString val = element.getAttribute(&quot;innerText&quot;)\r\n```\r\n\r\n","title":"How can I get the inner text of an element in Selenium?","body":"<p>Try this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>WebElement element = driver.findElement(By.id(&quot;id value&quot;));  \nString val = element.getAttribute(&quot;innerText&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1999453,"reputation":65,"user_id":4753667,"accept_rate":33,"display_name":"Harsh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668726448,"creation_date":1494610326,"answer_id":43943443,"question_id":43933778,"body_markdown":"This *[input][1]* tag is disabled, hence `element.getText()` returns a blank value.\r\n\r\nUse `element.getAttribute(&quot;textContent&quot;)` instead.\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/text\r\n","title":"How can I get the inner text of an element in Selenium?","body":"<p>This <em><a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/text\" rel=\"nofollow noreferrer\">input</a></em> tag is disabled, hence <code>element.getText()</code> returns a blank value.</p>\n<p>Use <code>element.getAttribute(&quot;textContent&quot;)</code> instead.</p>\n"},{"tags":[],"owner":{"account_id":9251032,"reputation":73,"user_id":6871534,"display_name":"Andr&#233;s Felipe Parra Arteaga"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668727009,"creation_date":1508965346,"answer_id":46942015,"question_id":43933778,"body_markdown":"You may be looking for the placeholder of an input text, because you might try:\r\n\r\n    element.getAttribute(&quot;placeholder&quot;);\r\n\r\n","title":"How can I get the inner text of an element in Selenium?","body":"<p>You may be looking for the placeholder of an input text, because you might try:</p>\n<pre><code>element.getAttribute(&quot;placeholder&quot;);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1669249403,"post_id":52064964,"comment_id":131604287,"body_markdown":"In Firefox (at least 106.0.2), it is &quot;Inspector&quot; (invoke it by menu *Tools* → *Browser Tools* → *Web Developer Tools*. Or if the *&quot;Tools&quot;* menu is hidden: `Alt` + `T`. Or keyboard shortcut `Ctrl` + `Shift` + `I` to open Web Developer Tools): 1) Click *&quot;Pick an element from the page&quot;* (or `Shift` + `Ctrl` + `C`). 2) Left click on an element on the page. 3) Right-click on the selected HTML line. 4) Choose *Copy* → *XPath*.","body":"In Firefox (at least 106.0.2), it is &quot;Inspector&quot; (invoke it by menu <i>Tools</i> → <i>Browser Tools</i> → <i>Web Developer Tools</i>. Or if the <i>&quot;Tools&quot;</i> menu is hidden: <code>Alt</code> + <code>T</code>. Or keyboard shortcut <code>Ctrl</code> + <code>Shift</code> + <code>I</code> to open Web Developer Tools): 1) Click <i>&quot;Pick an element from the page&quot;</i> (or <code>Shift</code> + <code>Ctrl</code> + <code>C</code>). 2) Left click on an element on the page. 3) Right-click on the selected HTML line. 4) Choose <i>Copy</i> → <i>XPath</i>."}],"tags":[],"owner":{"account_id":3554379,"reputation":500,"user_id":2968467,"accept_rate":25,"display_name":"Stipe"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668728121,"creation_date":1535484323,"answer_id":52064964,"question_id":43933778,"body_markdown":"You can go to your browser &amp;rarr; open developer tools &amp;rarr; inspect element you want to take attribute from &amp;rarr; click *Properties* &amp;rarr; check if that value is in `InnerText`.\r\n\r\nThen do as it is mentioned in previous comments:\r\n\r\n    element_locator.get_attribute(&#39;InnerText&#39;)\r\n","title":"How can I get the inner text of an element in Selenium?","body":"<p>You can go to your browser → open developer tools → inspect element you want to take attribute from → click <em>Properties</em> → check if that value is in <code>InnerText</code>.</p>\n<p>Then do as it is mentioned in previous comments:</p>\n<pre><code>element_locator.get_attribute('InnerText')\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7798901,"reputation":368,"user_id":5899042,"display_name":"gabriel garcia"},"score":0,"creation_date":1592743639,"post_id":58635366,"comment_id":110527754,"body_markdown":"why are you posting a python answer to an obviously *java* question? Even if you say it&#39;s not clear at all the rest of the answers are written for java...","body":"why are you posting a python answer to an obviously <i>java</i> question? Even if you say it&#39;s not clear at all the rest of the answers are written for java..."}],"tags":[],"owner":{"account_id":16331299,"reputation":101,"user_id":11794556,"display_name":"geppy"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668728192,"creation_date":1572481402,"answer_id":58635366,"question_id":43933778,"body_markdown":"I had the exact same issue! This post solved it for me:\r\n*https://stackoverflow.com/questions/10251525/how-can-i-get-the-current-contents-of-an-element-in-webdriver*\r\n\r\nI used:\r\n\r\n```python\r\nelement = driver.find_elements_by_xpath(\r\n            &#39;//button[@class=&quot;size-grid-dropdown size-grid-button&quot;]&#39;)\r\nelement.text\r\n```\r\n\r\n","title":"How can I get the inner text of an element in Selenium?","body":"<p>I had the exact same issue! This post solved it for me:\n<em><a href=\"https://stackoverflow.com/questions/10251525/how-can-i-get-the-current-contents-of-an-element-in-webdriver\">How can I get the current contents of an element in webdriver</a></em></p>\n<p>I used:</p>\n<pre class=\"lang-py prettyprint-override\"><code>element = driver.find_elements_by_xpath(\n            '//button[@class=&quot;size-grid-dropdown size-grid-button&quot;]')\nelement.text\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16086222,"reputation":1,"user_id":11610856,"display_name":"&#199;iya Tabar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668729035,"creation_date":1587393598,"answer_id":61325161,"question_id":43933778,"body_markdown":"It works definitely, as I&#39;ve tested it several times:\r\n\r\n```lang-html\r\n&lt;input type=&quot;form-control&quot; type=&quot;text&quot; data-bind=&quot;textInput: EnterpriseId&quot; disabled autocomplete=&quot;off&quot;&gt;\r\n```\r\n\r\nIn your example, you don’t have any `innerText`. So you can only get attributes as mentioned before with the existing attributes. In your case:\r\ntype, data-bind, EnterpriseId and autocomplete. No value will be as this attribute isn’t created.\r\n\r\nIf you want to get only existing, this should be fine:\r\n\r\n```lang-java\r\nString example = driver.findElement(ByLocator((&quot;&quot;)).getAttribute(&quot;any attribute of your input&quot;);\r\nSystem.out.println(example);\r\n```\r\n\r\n","title":"How can I get the inner text of an element in Selenium?","body":"<p>It works definitely, as I've tested it several times:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;input type=&quot;form-control&quot; type=&quot;text&quot; data-bind=&quot;textInput: EnterpriseId&quot; disabled autocomplete=&quot;off&quot;&gt;\n</code></pre>\n<p>In your example, you don’t have any <code>innerText</code>. So you can only get attributes as mentioned before with the existing attributes. In your case:\ntype, data-bind, EnterpriseId and autocomplete. No value will be as this attribute isn’t created.</p>\n<p>If you want to get only existing, this should be fine:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String example = driver.findElement(ByLocator((&quot;&quot;)).getAttribute(&quot;any attribute of your input&quot;);\nSystem.out.println(example);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7798901,"reputation":368,"user_id":5899042,"display_name":"gabriel garcia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668728611,"creation_date":1592743493,"answer_id":62498673,"question_id":43933778,"body_markdown":"As other&#39;s suggested, HTML&#39;s [input][1] nodes don&#39;t have a text attribute because they can store data in multiple formats in a **value** attribute.\r\n\r\nThis can be easily seen in the [HTML `input` API specification](https://html.spec.whatwg.org/multipage/input.html#htmlinputelement) where this `form control` can be of type *`radio`*, *`date`*, *`file upload`* and many more.\r\n\r\nSo, in your specific case, I&#39;d suggest you check the `webdriver`&#39;s API for a method that&#39;s able to retrieve the `value` attribute.\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/text\r\n","title":"How can I get the inner text of an element in Selenium?","body":"<p>As other's suggested, HTML's <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/text\" rel=\"nofollow noreferrer\">input</a> nodes don't have a text attribute because they can store data in multiple formats in a <strong>value</strong> attribute.</p>\n<p>This can be easily seen in the <a href=\"https://html.spec.whatwg.org/multipage/input.html#htmlinputelement\" rel=\"nofollow noreferrer\">HTML <code>input</code> API specification</a> where this <code>form control</code> can be of type <em><code>radio</code></em>, <em><code>date</code></em>, <em><code>file upload</code></em> and many more.</p>\n<p>So, in your specific case, I'd suggest you check the <code>webdriver</code>'s API for a method that's able to retrieve the <code>value</code> attribute.</p>\n"},{"tags":[],"owner":{"account_id":21112719,"reputation":335,"user_id":15520369,"display_name":"Dave Yu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668728727,"creation_date":1657594432,"answer_id":72946553,"question_id":43933778,"body_markdown":"As a bonus to evaluate innerText of an element within Selenium:\r\n\r\n```\r\nwait.until(ExpectedConditions.visibilityOfElementLocated(By.id(&quot;yourEl&quot;)));\r\nwait.until(ExpectedConditions.attributeToBe(By.id(&quot;yourEl&quot;), &quot;innerText&quot;, yourValue));\r\n```\r\n\r\nDocumentation: *[attributeToBe][1]* \r\n\r\n  [1]: https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html#attributeToBe(org.openqa.selenium.By,java.lang.String,java.lang.String)\r\n","title":"How can I get the inner text of an element in Selenium?","body":"<p>As a bonus to evaluate innerText of an element within Selenium:</p>\n<pre><code>wait.until(ExpectedConditions.visibilityOfElementLocated(By.id(&quot;yourEl&quot;)));\nwait.until(ExpectedConditions.attributeToBe(By.id(&quot;yourEl&quot;), &quot;innerText&quot;, yourValue));\n</code></pre>\n<p>Documentation: <em><a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html#attributeToBe(org.openqa.selenium.By,java.lang.String,java.lang.String)\" rel=\"nofollow noreferrer\">attributeToBe</a></em></p>\n"},{"tags":[],"owner":{"account_id":10492714,"reputation":1,"user_id":7734006,"display_name":"merita"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678690366,"creation_date":1678690308,"answer_id":75718760,"question_id":43933778,"body_markdown":"Faced a similar issue, I wanted web driver to wait until a particular text appeared in 2 web elements.so did a do while until the condition passed.\r\n\r\n    String val = &quot;&quot;, val1 = &quot;&quot;;\r\n    \t\tdo {\r\n    \t\t\tval = (commonMethods.getElementByXpath(chromedriver, 1000, elements.trasmitBandwidthText))\r\n    \t\t\t\t\t**.getAttribute(&quot;innerText&quot;);**\r\n    \r\n    \t\t\tval1 = (commonMethods.getElementByXpath(chromedriver, 1000, elements.receiveBandwidthText))\r\n    \t\t\t\t\t**.getAttribute(&quot;innerText&quot;);**\r\n    \r\n    \t\t\tSystem.out.println(pod + &quot;--- &quot; + val + &quot; value !!!!!!&quot; + val1);\r\n    \t\t} while (!(val.contains(pod) &amp;&amp; val1.contains(pod)));\r\n\r\n.getAttribute(&quot;innerText&quot;) helps get text inside an element.\r\n\r\n","title":"How can I get the inner text of an element in Selenium?","body":"<p>Faced a similar issue, I wanted web driver to wait until a particular text appeared in 2 web elements.so did a do while until the condition passed.</p>\n<pre><code>String val = &quot;&quot;, val1 = &quot;&quot;;\n        do {\n            val = (commonMethods.getElementByXpath(chromedriver, 1000, elements.trasmitBandwidthText))\n                    **.getAttribute(&quot;innerText&quot;);**\n\n            val1 = (commonMethods.getElementByXpath(chromedriver, 1000, elements.receiveBandwidthText))\n                    **.getAttribute(&quot;innerText&quot;);**\n\n            System.out.println(pod + &quot;--- &quot; + val + &quot; value !!!!!!&quot; + val1);\n        } while (!(val.contains(pod) &amp;&amp; val1.contains(pod)));\n</code></pre>\n<p>.getAttribute(&quot;innerText&quot;) helps get text inside an element.</p>\n"}],"owner":{"account_id":10883793,"reputation":193,"user_id":8001932,"accept_rate":20,"display_name":"Bishwaroop Chakraborty"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91807,"favorite_count":0,"down_vote_count":3,"up_vote_count":15,"answer_count":10,"score":12,"last_activity_date":1678690366,"creation_date":1494580260,"question_id":43933778,"body_markdown":"I&#39;m working with a [DOM][1] node:\r\n\r\n```html\r\n&lt;input\r\n    type=&quot;form-control&quot;\r\n    type=&quot;text&quot;\r\n    data-bind=&quot;textInput: EnterpriseId&quot;\r\n    disabled \r\n    autocomplete=&quot;off&quot;&gt;\r\n```\r\n\r\nHow can I get its value? I&#39;m struggling since `element.getText()` does not work and returns a blank.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Document_Object_Model\r\n\r\n\r\n\r\n\r\n\r\n","title":"How can I get the inner text of an element in Selenium?","body":"<p>I'm working with a <a href=\"https://en.wikipedia.org/wiki/Document_Object_Model\" rel=\"nofollow noreferrer\">DOM</a> node:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;input\n    type=&quot;form-control&quot;\n    type=&quot;text&quot;\n    data-bind=&quot;textInput: EnterpriseId&quot;\n    disabled \n    autocomplete=&quot;off&quot;&gt;\n</code></pre>\n<p>How can I get its value? I'm struggling since <code>element.getText()</code> does not work and returns a blank.</p>\n"},{"tags":["java","zip","directory","ziparchive","zip4j"],"answers":[{"comments":[{"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"score":1,"creation_date":1468578868,"post_id":38377220,"comment_id":64196398,"body_markdown":"That is wrong because it will stop when the first hidden folder has been found. I read the implementation as well and that&#39;s what it does.","body":"That is wrong because it will stop when the first hidden folder has been found. I read the implementation as well and that&#39;s what it does."}],"tags":[],"owner":{"account_id":4430471,"reputation":3004,"user_id":3607748,"display_name":"Beck Yang"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1468507333,"creation_date":1468507333,"answer_id":38377220,"question_id":38314881,"body_markdown":"You can add &lt;code&gt;zipParameters.setReadHiddenFiles(false);&lt;/code&gt;, zip4j will not add hidden folders and files to &lt;code&gt;ZipFile&lt;/code&gt;.","title":"Zip4j Excluding Folders from Zip","body":"<p>You can add <code>zipParameters.setReadHiddenFiles(false);</code>, zip4j will not add hidden folders and files to <code>ZipFile</code>.</p>\n"},{"tags":[],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1468580089,"creation_date":1468579021,"answer_id":38394000,"question_id":38314881,"body_markdown":"To solve this I went with moving all hidden folders out, package the zip file and move the folders back:\r\n\r\n    HiddenDirectoriesMover hiddenDirectoriesMover = new HiddenDirectoriesMover(sourceFilePath);\r\n    \t\thiddenDirectoriesMover.removeFiles();\r\n    \r\n    // Create zip\r\n    \r\n    hiddenDirectoriesMover.returnFiles();\r\n\r\nA dirty work-around but does the job since `zipParameters.setReadHiddenFiles(false);` [is not working as expected][1]:\r\n\r\n\tpublic static ArrayList getFilesInDirectoryRec(File path, \r\n\t\t\tboolean readHiddenFiles) throws ZipException {\r\n\t\t\r\n\t\tif (path == null) {\r\n\t\t\tthrow new ZipException(&quot;input path is null, cannot read files in the directory&quot;);\r\n\t\t}\r\n\t\t\r\n\t\tArrayList result = new ArrayList();\r\n\t\tFile[] filesAndDirs = path.listFiles();\r\n\t\tList filesDirs = Arrays.asList(filesAndDirs);\r\n\t\t\r\n\t\tif (!path.canRead()) {\r\n\t\t\treturn result; \r\n\t\t}\r\n\t\t\r\n\t\tfor(int i = 0; i &lt; filesDirs.size(); i++) {\r\n\t\t\tFile file = (File)filesDirs.get(i);\r\n\t\t\tif (file.isHidden() &amp;&amp; !readHiddenFiles) {\r\n                // The first hidden file causes a return and skipping everything else (!)\r\n\t\t\t\treturn result;\r\n\t\t\t}\r\n\t\t\tresult.add(file);\r\n\t\t\tif (file.isDirectory()) {\r\n\t\t\t\tList deeperList = getFilesInDirectoryRec(file, readHiddenFiles);\r\n\t\t\t\tresult.addAll(deeperList);\r\n\t\t\t}\r\n\t    }\r\n\t\treturn result;\r\n\t}\r\n\r\n  [1]: http://www.lingala.net/zip4j/forum/index.php?topic=395.0","title":"Zip4j Excluding Folders from Zip","body":"<p>To solve this I went with moving all hidden folders out, package the zip file and move the folders back:</p>\n\n<pre><code>HiddenDirectoriesMover hiddenDirectoriesMover = new HiddenDirectoriesMover(sourceFilePath);\n        hiddenDirectoriesMover.removeFiles();\n\n// Create zip\n\nhiddenDirectoriesMover.returnFiles();\n</code></pre>\n\n<p>A dirty work-around but does the job since <code>zipParameters.setReadHiddenFiles(false);</code> <a href=\"http://www.lingala.net/zip4j/forum/index.php?topic=395.0\" rel=\"nofollow\">is not working as expected</a>:</p>\n\n<pre><code>public static ArrayList getFilesInDirectoryRec(File path, \n        boolean readHiddenFiles) throws ZipException {\n\n    if (path == null) {\n        throw new ZipException(\"input path is null, cannot read files in the directory\");\n    }\n\n    ArrayList result = new ArrayList();\n    File[] filesAndDirs = path.listFiles();\n    List filesDirs = Arrays.asList(filesAndDirs);\n\n    if (!path.canRead()) {\n        return result; \n    }\n\n    for(int i = 0; i &lt; filesDirs.size(); i++) {\n        File file = (File)filesDirs.get(i);\n        if (file.isHidden() &amp;&amp; !readHiddenFiles) {\n            // The first hidden file causes a return and skipping everything else (!)\n            return result;\n        }\n        result.add(file);\n        if (file.isDirectory()) {\n            List deeperList = getFilesInDirectoryRec(file, readHiddenFiles);\n            result.addAll(deeperList);\n        }\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21661454,"reputation":70,"user_id":15980534,"display_name":"Mark Zhao"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678690245,"creation_date":1678690245,"answer_id":75718752,"question_id":38314881,"body_markdown":"You can use `net.lingala.zip4j.model.ExcludeFileFilter`.\r\n```java\r\ntry (ZipFile zipFile = new ZipFile(destinationFilePath)) {\r\n  ZipParameters parameters = new ZipParameters();\r\n  ExcludeFileFilter excludeFileFilter = file -&gt; file.isDirectory() &amp;&amp; \r\nisIllegalDirectoy(file);\r\n  if (sourceFile.isDirectory) {\r\n    zipFile.addFolder(sourceFile, parameters);\r\n  }\r\n}\r\n```\r\n","title":"Zip4j Excluding Folders from Zip","body":"<p>You can use <code>net.lingala.zip4j.model.ExcludeFileFilter</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (ZipFile zipFile = new ZipFile(destinationFilePath)) {\n  ZipParameters parameters = new ZipParameters();\n  ExcludeFileFilter excludeFileFilter = file -&gt; file.isDirectory() &amp;&amp; \nisIllegalDirectoy(file);\n  if (sourceFile.isDirectory) {\n    zipFile.addFolder(sourceFile, parameters);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1514,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":38394000,"answer_count":3,"score":0,"last_activity_date":1678690245,"creation_date":1468265956,"question_id":38314881,"body_markdown":"I have a directory with some folders that should be skipped and not added to the target `ZIP` file. I marked them as hidden on `Windows` and I can query this attribute using Java code as follows:\r\n\r\n    new File(&quot;C:\\\\myHiddenFolder&quot;).isHidden();\r\n\r\nHowever, I don&#39;t know how to use this with the following [`Zip4j`][1]-based method to skip adding those respective directories:\r\n\r\n    public File createZipArchive(String sourceFilePath) throws ZipException, IOException\r\n    {\r\n    \tZipParameters zipParameters = new ZipParameters();\r\n    \tzipParameters.setCompressionMethod(Zip4jConstants.COMP_DEFLATE);\r\n    \tzipParameters.setCompressionLevel(Zip4jConstants.DEFLATE_LEVEL_ULTRA);\r\n    \tzipParameters.setEncryptFiles(true);\r\n    \tzipParameters.setEncryptionMethod(Zip4jConstants.ENC_METHOD_AES);\r\n    \tzipParameters.setAesKeyStrength(Zip4jConstants.AES_STRENGTH_256);\r\n    \tzipParameters.setPassword(&quot;MyPassword&quot;);\r\n    \r\n    \tString baseFileName = FileNameUtilities.getBaseFileName(sourceFilePath);\r\n    \tString destinationZipFilePath = baseFileName + &quot;.&quot; + EXTENSION;\r\n    \r\n    \tZipFile zipFile = new ZipFile(destinationZipFilePath);\r\n    \tFile sourceFile = new File(sourceFilePath);\r\n    \r\n    \t// Recursively add directories\r\n    \tif (sourceFile.isDirectory())\r\n    \t{\r\n    \t\tFile[] childrenFiles = sourceFile.listFiles();\r\n    \r\n    \t\tif (childrenFiles != null)\r\n    \t\t{\r\n    \t\t\tfor (File folder : childrenFiles)\r\n    \t\t\t{\r\n    \t\t\t\tif (folder.isHidden()) // Nope, no recursive checking!\r\n    \t\t\t\t{\r\n    \t\t\t\t\t// This is the problem, it adds the parent folder and all child folders without allowing me to check whether to exclude any of them...\r\n    \t\t\t\t\tzipFile.addFolder(folder.getAbsolutePath(), zipParameters);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t} else\r\n    \t{\r\n    \t\t// Add just the file\r\n    \t\tzipFile.addFile(new File(sourceFilePath), zipParameters);\r\n    \t}\r\n    \r\n    \treturn zipFile.getFile();\r\n    }\r\n\r\nNote that this method only works when the (hidden) folders are in the most upper level but it should work for any depth.\r\n\r\n  [1]: http://www.lingala.net/zip4j/","title":"Zip4j Excluding Folders from Zip","body":"<p>I have a directory with some folders that should be skipped and not added to the target <code>ZIP</code> file. I marked them as hidden on <code>Windows</code> and I can query this attribute using Java code as follows:</p>\n\n<pre><code>new File(\"C:\\\\myHiddenFolder\").isHidden();\n</code></pre>\n\n<p>However, I don't know how to use this with the following <a href=\"http://www.lingala.net/zip4j/\" rel=\"nofollow\"><code>Zip4j</code></a>-based method to skip adding those respective directories:</p>\n\n<pre><code>public File createZipArchive(String sourceFilePath) throws ZipException, IOException\n{\n    ZipParameters zipParameters = new ZipParameters();\n    zipParameters.setCompressionMethod(Zip4jConstants.COMP_DEFLATE);\n    zipParameters.setCompressionLevel(Zip4jConstants.DEFLATE_LEVEL_ULTRA);\n    zipParameters.setEncryptFiles(true);\n    zipParameters.setEncryptionMethod(Zip4jConstants.ENC_METHOD_AES);\n    zipParameters.setAesKeyStrength(Zip4jConstants.AES_STRENGTH_256);\n    zipParameters.setPassword(\"MyPassword\");\n\n    String baseFileName = FileNameUtilities.getBaseFileName(sourceFilePath);\n    String destinationZipFilePath = baseFileName + \".\" + EXTENSION;\n\n    ZipFile zipFile = new ZipFile(destinationZipFilePath);\n    File sourceFile = new File(sourceFilePath);\n\n    // Recursively add directories\n    if (sourceFile.isDirectory())\n    {\n        File[] childrenFiles = sourceFile.listFiles();\n\n        if (childrenFiles != null)\n        {\n            for (File folder : childrenFiles)\n            {\n                if (folder.isHidden()) // Nope, no recursive checking!\n                {\n                    // This is the problem, it adds the parent folder and all child folders without allowing me to check whether to exclude any of them...\n                    zipFile.addFolder(folder.getAbsolutePath(), zipParameters);\n                }\n            }\n        }\n    } else\n    {\n        // Add just the file\n        zipFile.addFile(new File(sourceFilePath), zipParameters);\n    }\n\n    return zipFile.getFile();\n}\n</code></pre>\n\n<p>Note that this method only works when the (hidden) folders are in the most upper level but it should work for any depth.</p>\n"},{"tags":["java","connection-pooling","c3p0","interrupt-handling","interrupted-exception"],"answers":[{"tags":[],"owner":{"account_id":92053,"reputation":380,"user_id":252454,"display_name":"Robert Verdes"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1678688932,"creation_date":1411240339,"answer_id":25952372,"question_id":25952371,"body_markdown":"I did a simple test by firing a lot of `Connection` requests within 1 second, executing a SELECT each time tim make sure the pool bottlenecks, and then calling `interrupt()`.\r\n\r\nWhat I found was that the `connection` object is fine and dandy after the `InterruptedException` being caught, even though the stacktrace shows me c3p0 meltdown at `awaitAvailable(..)`. At this very second I&#39;m checking out their sources, and surely, they handle the `InterruptedException`. They even throw a proper warning:\r\n\r\n    WARNING: com.mchange.v2.resourcepool.BasicResourcePool@5bcf4b61 -- an attempt to checkout a resource was interrupted, and the pool is still live: some other thread must have either interrupted the Thread attempting checkout!\r\n\r\ntelling us it&#39;s still live, albeit inbetween a lot of word fuzz. Solved. \r\n\r\nHere&#39;s the test anyway.\r\n\r\n\r\n\tComboPooledDataSource ds = new ComboPooledDataSource();\r\n\t\r\n    // testing with various pool sizes - same effect\r\n\tds.setMinPoolSize(1);\r\n\tds.setMaxPoolSize(5);\r\n\tds.setInitialPoolSize(2);\r\n\r\n\tThread connectingThread = new Thread() {\r\n\r\n\t\tpublic void run() {\r\n\t\t\tConnection cnxn = null;\r\n\t\t\twhile (true) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tcnxn = ds.getConnection();\r\n\t\t\t\t\tSystem.out.println(&quot;Got connection.&quot;);\r\n\t\t\t\t\texecuteQuery(cnxn);\r\n\t\t\t\t} catch (SQLException e) {\r\n\t\t\t\t\tSystem.out.println(&quot;Got exception.&quot;);\r\n\t\t\t\t\te.printStackTrace();\r\n\r\n\t\t\t\t\t// SOLUTION:\r\n\t\t\t\t\tThrowable cause = e.getCause();\r\n\t\t\t\t\tif (cause instanceof InterruptedException) {\r\n\t\t\t\t\t\tSystem.out.println(&quot;Caught InterruptedException! Cnxn is &quot; + cnxn);\r\n\r\n\t\t\t\t\t\t// note that cnxn is a com.mchange.v2.c3p0.impl.NewProxyConnection\r\n\t\t\t\t\t\t// also note that it&#39;s perfectly healthy.\r\n\t\t\t\t\t\t//\r\n\t\t\t\t\t\t// You may either want to:\r\n\t\t\t\t\t\t// a) use the cnxn to submit your the query\r\n\r\n\t\t\t\t\t\texecuteQuery(cnxn);\r\n\t\t\t\t\t\tcnxn.close()\r\n\r\n\t\t\t\t\t\t// b) handle a proper shutdown\r\n\r\n\t\t\t\t\t\tcnxn.close();\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t};\r\n\r\n\tconnectingThread.start();\r\n\t\t\r\n\ttry {\r\n\t\tThread.sleep(1000);\r\n\t} catch (InterruptedException e) {\t\t\te.printStackTrace();\t\t}\r\n\t\t\r\n\tconnectingThread.interrupt();\r\n\t\t","title":"Connection pooling and Thread.interrupt()","body":"<p>I did a simple test by firing a lot of <code>Connection</code> requests within 1 second, executing a SELECT each time tim make sure the pool bottlenecks, and then calling <code>interrupt()</code>.</p>\n<p>What I found was that the <code>connection</code> object is fine and dandy after the <code>InterruptedException</code> being caught, even though the stacktrace shows me c3p0 meltdown at <code>awaitAvailable(..)</code>. At this very second I'm checking out their sources, and surely, they handle the <code>InterruptedException</code>. They even throw a proper warning:</p>\n<pre><code>WARNING: com.mchange.v2.resourcepool.BasicResourcePool@5bcf4b61 -- an attempt to checkout a resource was interrupted, and the pool is still live: some other thread must have either interrupted the Thread attempting checkout!\n</code></pre>\n<p>telling us it's still live, albeit inbetween a lot of word fuzz. Solved.</p>\n<p>Here's the test anyway.</p>\n<pre><code>ComboPooledDataSource ds = new ComboPooledDataSource();\n\n// testing with various pool sizes - same effect\nds.setMinPoolSize(1);\nds.setMaxPoolSize(5);\nds.setInitialPoolSize(2);\n\nThread connectingThread = new Thread() {\n\n    public void run() {\n        Connection cnxn = null;\n        while (true) {\n            try {\n                cnxn = ds.getConnection();\n                System.out.println(&quot;Got connection.&quot;);\n                executeQuery(cnxn);\n            } catch (SQLException e) {\n                System.out.println(&quot;Got exception.&quot;);\n                e.printStackTrace();\n\n                // SOLUTION:\n                Throwable cause = e.getCause();\n                if (cause instanceof InterruptedException) {\n                    System.out.println(&quot;Caught InterruptedException! Cnxn is &quot; + cnxn);\n\n                    // note that cnxn is a com.mchange.v2.c3p0.impl.NewProxyConnection\n                    // also note that it's perfectly healthy.\n                    //\n                    // You may either want to:\n                    // a) use the cnxn to submit your the query\n\n                    executeQuery(cnxn);\n                    cnxn.close()\n\n                    // b) handle a proper shutdown\n\n                    cnxn.close();\n\n                }\n                break;\n            }\n        }\n    };\n};\n\nconnectingThread.start();\n    \ntry {\n    Thread.sleep(1000);\n} catch (InterruptedException e) {          e.printStackTrace();        }\n    \nconnectingThread.interrupt();\n    \n</code></pre>\n"}],"owner":{"account_id":92053,"reputation":380,"user_id":252454,"display_name":"Robert Verdes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5272,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":25952372,"answer_count":1,"score":3,"last_activity_date":1678688932,"creation_date":1411240339,"question_id":25952371,"body_markdown":"I am using [c3p0](http://www.mchange.com/projects/c3p0/) to handle database connection pooling in a multithreaded environment. The question might pertain to other pooling libs, but this is what I have.\r\n\r\nRecently I&#39;ve needed to implement [interrupt](http://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#interrupt())ion handling on such threads using directly or indirectly c3p0, and have noticed that if `interrupt()` is called right when `c3p0Datasource.getConnection()` is trying to fetch me a `Connection` from the pool, it throws an `InterruptedException`.\r\n\r\nObviously, this happens because of the `wait()`\r\n\r\n    at java.lang.Object.wait(Native Method)\r\n    at com.mchange.v2.resourcepool.BasicResourcePool.awaitAvailable(BasicResourcePool.java:1414)\r\n\r\nCool. The question is how do you handle this properly - both is case a) you want to continue with the transaction before your thread terminates, and b) you want to abort.\r\n\r\nI&#39;ve tried a solution that seems to be working fine (posted as answer) - actually, I think this subject is closed. Feel free to chip in otherwise, thanks!","title":"Connection pooling and Thread.interrupt()","body":"<p>I am using <a href=\"http://www.mchange.com/projects/c3p0/\" rel=\"nofollow\">c3p0</a> to handle database connection pooling in a multithreaded environment. The question might pertain to other pooling libs, but this is what I have.</p>\n\n<p>Recently I've needed to implement <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#interrupt()\" rel=\"nofollow\">interrupt</a>ion handling on such threads using directly or indirectly c3p0, and have noticed that if <code>interrupt()</code> is called right when <code>c3p0Datasource.getConnection()</code> is trying to fetch me a <code>Connection</code> from the pool, it throws an <code>InterruptedException</code>.</p>\n\n<p>Obviously, this happens because of the <code>wait()</code></p>\n\n<pre><code>at java.lang.Object.wait(Native Method)\nat com.mchange.v2.resourcepool.BasicResourcePool.awaitAvailable(BasicResourcePool.java:1414)\n</code></pre>\n\n<p>Cool. The question is how do you handle this properly - both is case a) you want to continue with the transaction before your thread terminates, and b) you want to abort.</p>\n\n<p>I've tried a solution that seems to be working fine (posted as answer) - actually, I think this subject is closed. Feel free to chip in otherwise, thanks!</p>\n"},{"tags":["java","amazon-web-services","spring-boot","jdeps","secret-manager"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1678493072,"post_id":75649097,"comment_id":133549491,"body_markdown":"```we started getting ssl handshake issue, we haven&#39;t updated spring boot or secretmanager jdbc version``` means they probably upgraded AWS secretmanager, 1.0.5 is from 2020 you are using very old version. better to stick with latest. ```jdk.tls.client.protocols``` probably pushing secret manager to use the TLS version your app uses. [Check](https://docs.aws.amazon.com/secretsmanager/latest/userguide/infrastructure-security.html) for the versions of the manager.","body":"<code>we started getting ssl handshake issue, we haven&#39;t updated spring boot or secretmanager jdbc version</code> means they probably upgraded AWS secretmanager, 1.0.5 is from 2020 you are using very old version. better to stick with latest. <code>jdk.tls.client.protocols</code> probably pushing secret manager to use the TLS version your app uses. <a href=\"https://docs.aws.amazon.com/secretsmanager/latest/userguide/infrastructure-security.html\" rel=\"nofollow noreferrer\">Check</a> for the versions of the manager."},{"owner":{"account_id":10429553,"reputation":203,"user_id":7689795,"display_name":"Akash tiwari"},"score":0,"creation_date":1678640145,"post_id":75649097,"comment_id":133568588,"body_markdown":"Hi @ozkanpakdil checked the below link but unable to find any upgrade details. Although they do say that they have started upgrading endpoints.","body":"Hi @ozkanpakdil checked the below link but unable to find any upgrade details. Although they do say that they have started upgrading endpoints."}],"answers":[{"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1678824611,"post_id":75718608,"comment_id":133607796,"body_markdown":"and how did you solve it ?","body":"and how did you solve it ?"},{"owner":{"account_id":10429553,"reputation":203,"user_id":7689795,"display_name":"Akash tiwari"},"score":1,"creation_date":1678893263,"post_id":75718608,"comment_id":133621950,"body_markdown":"Just added jdk.crypto.ec module while creating our custom jre using jlink and it worked.","body":"Just added jdk.crypto.ec module while creating our custom jre using jlink and it worked."}],"tags":[],"owner":{"account_id":10429553,"reputation":203,"user_id":7689795,"display_name":"Akash tiwari"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678688888,"creation_date":1678688888,"answer_id":75718608,"question_id":75649097,"body_markdown":"With investigation in cloudtrail, we found that the ciphersuite got changed on 26th February from &quot;AES-GCM-SHA256&quot; to **&quot;ECDHE-RSA-AES128-GCM-SHA256&quot;**.\r\nAs we were using Java modules for creating our custom hre. We haven&#39;t included jdk.crypto.ec explicitly as secretmanager was working fine without it.\r\n","title":"SSl handshake issue when using AWS secretmanager for password store in RDS","body":"<p>With investigation in cloudtrail, we found that the ciphersuite got changed on 26th February from &quot;AES-GCM-SHA256&quot; to <strong>&quot;ECDHE-RSA-AES128-GCM-SHA256&quot;</strong>.\nAs we were using Java modules for creating our custom hre. We haven't included jdk.crypto.ec explicitly as secretmanager was working fine without it.</p>\n"}],"owner":{"account_id":10429553,"reputation":203,"user_id":7689795,"display_name":"Akash tiwari"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75718608,"answer_count":1,"score":1,"last_activity_date":1678688888,"creation_date":1678094955,"question_id":75649097,"body_markdown":"We are using AWS RDS for for our persistent store and using secretmanager for password rotation and storage. It is also encrypted with KMS.\r\n\r\nWe have a spring boot app which is deployed on ECS fargate and using following dependency :- \r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/com.amazonaws.secretsmanager/aws-secretsmanager-jdbc --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.amazonaws.secretsmanager&lt;/groupId&gt;\r\n        &lt;artifactId&gt;aws-secretsmanager-jdbc&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd using following properties :-\r\n\r\n    # datasource.username=secretId\r\n    datasource.driverClass=com.amazonaws.secretsmanager.sql.AWSSecretsManagerPostgreSQLDriver\r\n    # datasource.jdbcUrl=jdbc-secretsmanager:postgresql://example.com:5432/database\r\n\r\n**Note :- we are using jdeps and jlink to create our custom runtime**\r\n\r\nAnd following are the modules that we are using :\r\n\r\n    Java.base,java.desktop,java.instrument,java.management.rmi,java.naming,java.prefs, java.scripting,java.security.jgss,java.sql,jdk.httpserver,jdk.jfr,jdk.unsupported\r\n\r\n\r\nNow with this configuration it has worked fine for months and we also took it to production. **But from this month we started getting ssl handshake issue, we haven&#39;t updated spring boot or secretmanager jdbc version**\r\n\r\nNot sure what caused it but either adding `**jdk.crypto.ec**` or adding -**Djdk.tls.client.protocols=TLSv1,TLSv1.1,TLSv1.2** solved the issue. \r\n\r\nPlease help me that why this issue started occuring as we haven&#39;t done any changes and why the above fixes solved it.\r\nThanks\r\n","title":"SSl handshake issue when using AWS secretmanager for password store in RDS","body":"<p>We are using AWS RDS for for our persistent store and using secretmanager for password rotation and storage. It is also encrypted with KMS.</p>\n<p>We have a spring boot app which is deployed on ECS fargate and using following dependency :-</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/com.amazonaws.secretsmanager/aws-secretsmanager-jdbc --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.amazonaws.secretsmanager&lt;/groupId&gt;\n    &lt;artifactId&gt;aws-secretsmanager-jdbc&lt;/artifactId&gt;\n    &lt;version&gt;1.0.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And using following properties :-</p>\n<pre><code># datasource.username=secretId\ndatasource.driverClass=com.amazonaws.secretsmanager.sql.AWSSecretsManagerPostgreSQLDriver\n# datasource.jdbcUrl=jdbc-secretsmanager:postgresql://example.com:5432/database\n</code></pre>\n<p><strong>Note :- we are using jdeps and jlink to create our custom runtime</strong></p>\n<p>And following are the modules that we are using :</p>\n<pre><code>Java.base,java.desktop,java.instrument,java.management.rmi,java.naming,java.prefs, java.scripting,java.security.jgss,java.sql,jdk.httpserver,jdk.jfr,jdk.unsupported\n</code></pre>\n<p>Now with this configuration it has worked fine for months and we also took it to production. <strong>But from this month we started getting ssl handshake issue, we haven't updated spring boot or secretmanager jdbc version</strong></p>\n<p>Not sure what caused it but either adding <code>**jdk.crypto.ec**</code> or adding -<strong>Djdk.tls.client.protocols=TLSv1,TLSv1.1,TLSv1.2</strong> solved the issue.</p>\n<p>Please help me that why this issue started occuring as we haven't done any changes and why the above fixes solved it.\nThanks</p>\n"},{"tags":["java","junit","mocking","wiremock","service-virtualization"],"comments":[{"owner":{"account_id":88070,"reputation":8527,"user_id":243861,"accept_rate":60,"display_name":"Mykola Gurov"},"score":0,"creation_date":1527423177,"post_id":50539505,"comment_id":88114829,"body_markdown":"could it be that you actually have to do an http action somewhere between the &quot;stub&quot; and &quot;verify&quot; steps for the latter not to fail?","body":"could it be that you actually have to do an http action somewhere between the &quot;stub&quot; and &quot;verify&quot; steps for the latter not to fail?"},{"owner":{"account_id":6597861,"reputation":7627,"user_id":5097027,"accept_rate":71,"display_name":"NarendraR"},"score":0,"creation_date":1527581550,"post_id":50539505,"comment_id":88167994,"body_markdown":"@MykolaGurov, I really don&#39;t  any idea. weather i have to implement something. as i&#39;m mocking the request.","body":"@MykolaGurov, I really don&#39;t  any idea. weather i have to implement something. as i&#39;m mocking the request."},{"owner":{"account_id":88070,"reputation":8527,"user_id":243861,"accept_rate":60,"display_name":"Mykola Gurov"},"score":0,"creation_date":1527583268,"post_id":50539505,"comment_id":88168987,"body_markdown":"WireMock mocks server response, not the request. If you need to mock request then you probably looking for something like http://rest-assured.io","body":"WireMock mocks server response, not the request. If you need to mock request then you probably looking for something like <a href=\"http://rest-assured.io\" rel=\"nofollow noreferrer\">rest-assured.io</a>"},{"owner":{"account_id":6597861,"reputation":7627,"user_id":5097027,"accept_rate":71,"display_name":"NarendraR"},"score":0,"creation_date":1527585884,"post_id":50539505,"comment_id":88170701,"body_markdown":"@MykolaGurov, actually i want to mock server response. Like in above code i have created on _stub_. Now i want to verify the response return by server it is returning [ ] and giving the mentioned errer . Just want mocking  don&#39;t want to perform any real time request to some service and verify the response","body":"@MykolaGurov, actually i want to mock server response. Like in above code i have created on <i>stub</i>. Now i want to verify the response return by server it is returning [ ] and giving the mentioned errer . Just want mocking  don&#39;t want to perform any real time request to some service and verify the response"}],"answers":[{"comments":[{"owner":{"account_id":6597861,"reputation":7627,"user_id":5097027,"accept_rate":71,"display_name":"NarendraR"},"score":0,"creation_date":1528348865,"post_id":50646148,"comment_id":88474632,"body_markdown":"Yes you are right. I was missing that i have to send a request after create the stub for that.","body":"Yes you are right. I was missing that i have to send a request after create the stub for that."}],"tags":[],"owner":{"account_id":13694672,"reputation":221,"user_id":9881667,"display_name":"D.Salter"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1527864882,"creation_date":1527864882,"answer_id":50646148,"question_id":50539505,"body_markdown":"In your code you are stubbing out a response and then verifying that a request has been made for that stub.  You are not however making a call to the endpoint and so the test is failing.\r\n\r\nYou need to invoke the endpoint before verifying that it is called.\r\n\r\nIf you use Apache Commons HttpClient, you could write your test as:\r\n\r\n    @Test\r\n    public void exampleTest() throws Exception {\r\n\r\n        stubFor(get(urlEqualTo(&quot;/login&quot;)).withHeader(&quot;Accept&quot;, equalTo(&quot;application/json&quot;))\r\n                .willReturn(aResponse().withStatus(200).withBody(&quot;Login Success&quot;)\r\n                        .withStatusMessage(&quot;Everything was just fine!&quot;))\r\n                .willReturn(okJson(&quot;{ \\&quot;message\\&quot;: \\&quot;Hello\\&quot; }&quot;)));\r\n\r\n        String url = &quot;http://localhost:8080/login&quot;;\r\n        HttpClient client = HttpClientBuilder.create().build();\r\n        HttpGet request = new HttpGet(url);\r\n        request.addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n        request.addHeader(&quot;Accept&quot;, &quot;application/json&quot;);\r\n        HttpResponse response = client.execute(request);\r\n\r\n        verify(getRequestedFor(urlPathEqualTo(&quot;/login&quot;))\r\n                .withHeader(&quot;Content-Type&quot;, equalTo(&quot;application/json&quot;)));\r\n    }\r\n","title":"com.github.tomakehurst.wiremock.client.VerificationException: Expected at least one request matching","body":"<p>In your code you are stubbing out a response and then verifying that a request has been made for that stub.  You are not however making a call to the endpoint and so the test is failing.</p>\n\n<p>You need to invoke the endpoint before verifying that it is called.</p>\n\n<p>If you use Apache Commons HttpClient, you could write your test as:</p>\n\n<pre><code>@Test\npublic void exampleTest() throws Exception {\n\n    stubFor(get(urlEqualTo(\"/login\")).withHeader(\"Accept\", equalTo(\"application/json\"))\n            .willReturn(aResponse().withStatus(200).withBody(\"Login Success\")\n                    .withStatusMessage(\"Everything was just fine!\"))\n            .willReturn(okJson(\"{ \\\"message\\\": \\\"Hello\\\" }\")));\n\n    String url = \"http://localhost:8080/login\";\n    HttpClient client = HttpClientBuilder.create().build();\n    HttpGet request = new HttpGet(url);\n    request.addHeader(\"Content-Type\", \"application/json\");\n    request.addHeader(\"Accept\", \"application/json\");\n    HttpResponse response = client.execute(request);\n\n    verify(getRequestedFor(urlPathEqualTo(\"/login\"))\n            .withHeader(\"Content-Type\", equalTo(\"application/json\")));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2260450,"reputation":919,"user_id":1990698,"accept_rate":24,"display_name":"Felix Aballi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635524253,"creation_date":1635523937,"answer_id":69771955,"question_id":50539505,"body_markdown":"Kindly, recommend using a __class rule__ annotation/field (`@ClassRule`) for `JUnit 4` (_in those cases, where config could be reused on multiple unit tests_).\r\n\r\n`@Rule` could cause unexpected behaviors on async or http requests contexts, when `stubs` aren&#39;t registered yet. \r\n\r\n__Versions:__ `2.21.0 -&gt; ... -&gt; 2.31.0`.\r\n\r\n__Note__: In my particular case, had multiple tests reusing config and all the requests where executed correctly (debugging &amp; checking mocked responses deserialized onto in-memory DTOs).  \r\n\r\nThen:\r\n\r\n```java\r\n// ... WIREMOCK_PORT\r\n\r\n@ClassRule\r\npublic static final WireMockClassRule WIRE_MOCK_RULE = new WireMockClassRule(WIREMOCK_PORT);  // public\r\n\r\n``` \r\n\r\nAlso, recommend verifying mocked request was made to WireMock registered stubs.\r\n\r\n__Steps:__\r\n1) Create stub: `WIRE_MOCK_RULE.stubFor(get(urlPathMatching(...))) // get, post, ...`\r\n2) Hit mocked endpoint with a Http client\r\n3) Verify stub was invoked: `verify(getRequestedFor(urlPathMatching(...)))`\r\n\r\n```javaWIRE_MOCK_RULE.stubFor(get(urlPathMatching(\r\n//{get, post, ...}RequestedFor(...) API methods for a particular HTTP request\r\n\r\nverify(getRequestedFor(urlPathMatching(&quot;a-url-pattern&quot;))); //urlEqualTo, ...\r\n```\r\n","title":"com.github.tomakehurst.wiremock.client.VerificationException: Expected at least one request matching","body":"<p>Kindly, recommend using a <strong>class rule</strong> annotation/field (<code>@ClassRule</code>) for <code>JUnit 4</code> (<em>in those cases, where config could be reused on multiple unit tests</em>).</p>\n<p><code>@Rule</code> could cause unexpected behaviors on async or http requests contexts, when <code>stubs</code> aren't registered yet.</p>\n<p><strong>Versions:</strong> <code>2.21.0 -&gt; ... -&gt; 2.31.0</code>.</p>\n<p><strong>Note</strong>: In my particular case, had multiple tests reusing config and all the requests where executed correctly (debugging &amp; checking mocked responses deserialized onto in-memory DTOs).</p>\n<p>Then:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// ... WIREMOCK_PORT\n\n@ClassRule\npublic static final WireMockClassRule WIRE_MOCK_RULE = new WireMockClassRule(WIREMOCK_PORT);  // public\n\n</code></pre>\n<p>Also, recommend verifying mocked request was made to WireMock registered stubs.</p>\n<p><strong>Steps:</strong></p>\n<ol>\n<li>Create stub: <code>WIRE_MOCK_RULE.stubFor(get(urlPathMatching(...))) // get, post, ...</code></li>\n<li>Hit mocked endpoint with a Http client</li>\n<li>Verify stub was invoked: <code>verify(getRequestedFor(urlPathMatching(...)))</code></li>\n</ol>\n<pre><code>//{get, post, ...}RequestedFor(...) API methods for a particular HTTP request\n\nverify(getRequestedFor(urlPathMatching(&quot;a-url-pattern&quot;))); //urlEqualTo, ...\n</code></pre>\n"}],"owner":{"account_id":6597861,"reputation":7627,"user_id":5097027,"accept_rate":71,"display_name":"NarendraR"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10646,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"accepted_answer_id":50646148,"answer_count":2,"score":6,"last_activity_date":1678688547,"creation_date":1527311353,"question_id":50539505,"body_markdown":"I want to create a Stub for an API and want to verify API call and response returned by the server. for that i have implemented `WireMock` example :\r\n\r\n\r\n    import org.junit.Rule;\r\n    import org.junit.Test;\r\n    \r\n    import com.github.tomakehurst.wiremock.junit.WireMockRule;\r\n    \r\n    public class MockTestDemo {\r\n    \r\n    \tprivate static final int WIREMOCK_PORT = 8080;\r\n    \r\n    \t@Rule\r\n    \tpublic WireMockRule wireMockRule = new WireMockRule(WIREMOCK_PORT);\r\n    \r\n    \t@Test\r\n    \tpublic void exampleTest() {\r\n    \r\n\t\tstubFor(get(urlEqualTo(&quot;/login&quot;)).withHeader(&quot;Accept&quot;, equalTo(&quot;application/json&quot;))\r\n\t\t\t\t.willReturn(aResponse().withStatus(200).withBody(&quot;Login Success&quot;)\r\n\t\t\t\t\t\t.withStatusMessage(&quot;Everything was just fine!&quot;))\r\n\t\t\t\t.willReturn(okJson(&quot;{ \\&quot;message\\&quot;: \\&quot;Hello\\&quot; }&quot;)));\r\n    \r\n           verify(getRequestedFor(urlPathEqualTo(&quot;http://localhost:8080/login&quot;)) \r\n\t\t\t\t.withHeader(&quot;Content-Type&quot;,equalTo(&quot;application/json&quot;)));    \t}\r\n    \r\n    }\r\n\r\nBut getting below error :\r\n\r\n&gt;     com.github.tomakehurst.wiremock.client.VerificationException: Expected at least one request matching: {\r\n&gt;       &quot;urlPath&quot; : &quot;localhosturl/login&quot;,\r\n&gt; \r\n&gt;        &quot;method&quot; : &quot;GET&quot;,\r\n&gt; \r\n&gt;       &quot;headers&quot; : {\r\n&gt;         &quot;Content-Type&quot; : {\r\n&gt;           &quot;equalTo&quot; : &quot;application/json&quot;\r\n&gt;         }\r\n&gt;       }\r\n&gt;     }\r\n&gt;     \r\n&gt;     Requests received: [ ]\r\n&gt;     \tat com.github.tomakehurst.wiremock.client.WireMock.verificationExceptionForNearMisses(WireMock.java:545)\r\n&gt;     \tat com.github.tomakehurst.wiremock.client.WireMock.verifyThat(WireMock.java:532)\r\n&gt;     \tat com.github.tomakehurst.wiremock.client.WireMock.verifyThat(WireMock.java:511)\r\n&gt;     \tat com.github.tomakehurst.wiremock.client.WireMock.verify(WireMock.java:549)\r\n&gt;     \tat com.wiremock.test.MockTestDemo.exampleTest(MockTestDemo.java:23)\r\n&gt;     \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n&gt;     \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n&gt;     \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n&gt;     \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n&gt;     \tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\r\n&gt;     \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n&gt;     \tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\r\n&gt;     \tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n&gt;     \tat com.github.tomakehurst.wiremock.junit.WireMockRule$1.evaluate(WireMockRule.java:73)\r\n&gt;     \tat org.junit.rules.RunRules.evaluate(RunRules.java:20)\r\n&gt;     \tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n&gt;     \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\r\n&gt;     \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\r\n&gt;     \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n&gt;     \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n&gt;     \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n&gt;     \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n&gt;     \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n&gt;     \tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n&gt;     \tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)\r\n&gt;     \tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\r\n&gt;     \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:538)\r\n&gt;     \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:760)\r\n&gt;     \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:460)\r\n&gt;     \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:206)\r\n\r\nIf I comment verify part then test executed successfully also i have verified the same using postman by calling `http://localhost:8080/login` and it returning response successfully ?\r\n\r\nIs any thing I&#39;m missing here ? \r\n\r\n \r\n\r\n","title":"com.github.tomakehurst.wiremock.client.VerificationException: Expected at least one request matching","body":"<p>I want to create a Stub for an API and want to verify API call and response returned by the server. for that i have implemented <code>WireMock</code> example :</p>\n\n<pre><code>import org.junit.Rule;\nimport org.junit.Test;\n\nimport com.github.tomakehurst.wiremock.junit.WireMockRule;\n\npublic class MockTestDemo {\n\n    private static final int WIREMOCK_PORT = 8080;\n\n    @Rule\n    public WireMockRule wireMockRule = new WireMockRule(WIREMOCK_PORT);\n\n    @Test\n    public void exampleTest() {\n\n    stubFor(get(urlEqualTo(\"/login\")).withHeader(\"Accept\", equalTo(\"application/json\"))\n            .willReturn(aResponse().withStatus(200).withBody(\"Login Success\")\n                    .withStatusMessage(\"Everything was just fine!\"))\n            .willReturn(okJson(\"{ \\\"message\\\": \\\"Hello\\\" }\")));\n\n       verify(getRequestedFor(urlPathEqualTo(\"http://localhost:8080/login\")) \n            .withHeader(\"Content-Type\",equalTo(\"application/json\")));       }\n\n}\n</code></pre>\n\n<p>But getting below error :</p>\n\n<blockquote>\n<pre><code>com.github.tomakehurst.wiremock.client.VerificationException: Expected at least one request matching: {\n  \"urlPath\" : \"localhosturl/login\",\n\n   \"method\" : \"GET\",\n\n  \"headers\" : {\n    \"Content-Type\" : {\n      \"equalTo\" : \"application/json\"\n    }\n  }\n}\n\nRequests received: [ ]\n  at com.github.tomakehurst.wiremock.client.WireMock.verificationExceptionForNearMisses(WireMock.java:545)\n  at com.github.tomakehurst.wiremock.client.WireMock.verifyThat(WireMock.java:532)\n  at com.github.tomakehurst.wiremock.client.WireMock.verifyThat(WireMock.java:511)\n  at com.github.tomakehurst.wiremock.client.WireMock.verify(WireMock.java:549)\n  at com.wiremock.test.MockTestDemo.exampleTest(MockTestDemo.java:23)\n  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n  at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n  at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n  at java.lang.reflect.Method.invoke(Unknown Source)\n  at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n  at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n  at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n  at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n  at com.github.tomakehurst.wiremock.junit.WireMockRule$1.evaluate(WireMockRule.java:73)\n  at org.junit.rules.RunRules.evaluate(RunRules.java:20)\n  at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n  at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\n  at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\n  at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n  at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n  at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n  at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n  at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n  at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n  at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)\n  at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\n  at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:538)\n  at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:760)\n  at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:460)\n  at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:206)\n</code></pre>\n</blockquote>\n\n<p>If I comment verify part then test executed successfully also i have verified the same using postman by calling <code>http://localhost:8080/login</code> and it returning response successfully ?</p>\n\n<p>Is any thing I'm missing here ? </p>\n"},{"tags":["java","junit5","instancio"],"answers":[{"tags":[],"owner":{"account_id":19296,"reputation":17862,"user_id":45112,"accept_rate":71,"display_name":"armandino"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1678688112,"creation_date":1678679235,"answer_id":75717904,"question_id":75715631,"body_markdown":"For a one-off case, the easiest option is to specify the implementation manually, e.g.\r\n\r\n```java\r\nPerson person = Instancio.of(Person.class)\r\n    .subtype(all(Pet.class), Cat.class)\r\n    .create();\r\n```\r\n\r\nHowever, I assume that you want implementations to be found automatically. If so, there are a couple of options.\r\n\r\n1. Implement the `TypeResolver` (see [InstancioServiceProvider documentation](https://www.instancio.org/user-guide/#instancio-service-provider-interface)):\r\n\r\n```java\r\nclass MyTypeResolver implements TypeResolver {\r\n    private Map&lt;Class&lt;?&gt;, Class&lt;?&gt;&gt; subtypeMap = new HashMap&lt;&gt;();\r\n\r\n    @Override\r\n    public Class&lt;?&gt; getSubtype(Class&lt;?&gt; type) {\r\n        return subtypeMap.get(type);\r\n    }\r\n}\r\n```\r\n\r\nThe mapping can be specified manually, or automated by scanning the classpath using a library, such as ClassGraph.\r\n\r\n&gt; [See this GitHub repo for a sample implementation](https://github.com/instancio/instancio-samples/tree/main/type-resolver-sample)\r\n\r\n2. Another approach is to [map types via `Settings`](https://www.instancio.org/user-guide/#subtype-mapping). This can also be specified manually, or automated, for example: https://github.com/dafriedmann/instancio-jandex-subtype-mapping\r\n\r\n","title":"Can Instancio generate data for interfaces and abstract classes","body":"<p>For a one-off case, the easiest option is to specify the implementation manually, e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Person person = Instancio.of(Person.class)\n    .subtype(all(Pet.class), Cat.class)\n    .create();\n</code></pre>\n<p>However, I assume that you want implementations to be found automatically. If so, there are a couple of options.</p>\n<ol>\n<li>Implement the <code>TypeResolver</code> (see <a href=\"https://www.instancio.org/user-guide/#instancio-service-provider-interface\" rel=\"nofollow noreferrer\">InstancioServiceProvider documentation</a>):</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>class MyTypeResolver implements TypeResolver {\n    private Map&lt;Class&lt;?&gt;, Class&lt;?&gt;&gt; subtypeMap = new HashMap&lt;&gt;();\n\n    @Override\n    public Class&lt;?&gt; getSubtype(Class&lt;?&gt; type) {\n        return subtypeMap.get(type);\n    }\n}\n</code></pre>\n<p>The mapping can be specified manually, or automated by scanning the classpath using a library, such as ClassGraph.</p>\n<blockquote>\n<p><a href=\"https://github.com/instancio/instancio-samples/tree/main/type-resolver-sample\" rel=\"nofollow noreferrer\">See this GitHub repo for a sample implementation</a></p>\n</blockquote>\n<ol start=\"2\">\n<li>Another approach is to <a href=\"https://www.instancio.org/user-guide/#subtype-mapping\" rel=\"nofollow noreferrer\">map types via <code>Settings</code></a>. This can also be specified manually, or automated, for example: <a href=\"https://github.com/dafriedmann/instancio-jandex-subtype-mapping\" rel=\"nofollow noreferrer\">https://github.com/dafriedmann/instancio-jandex-subtype-mapping</a></li>\n</ol>\n"}],"owner":{"account_id":28000518,"reputation":63,"user_id":21384924,"display_name":"chris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":461,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":75717904,"answer_count":1,"score":6,"last_activity_date":1678688112,"creation_date":1678647427,"question_id":75715631,"body_markdown":"I used to use Easy-Random to generate JUnit5 test data, however because it does not seem to be developed anymore, doesn&#39;t support Java records and in general seems to be less flexibility than Instancio, I&#39;ve decided to migrate. Instancio, out of the box, provides a lot of nice features enabling quicker testing (easier parametrized tests, taking into consideration Javax etc.), however there is one drawback. \r\n\r\nThe objects returned by our persistence layer are auto-generated implementations of some record interface which look like:\r\n\r\n```\r\ninterface SomeRecord {\r\n  getUid();\r\n}\r\n```\r\n\r\nEasy-Random was able to find the implementation and generate a random record.\r\n\r\nI cannot find any information on how to resolve this or a workaround in Instancio&#39;s docs or anywhere else. Has anyone been able to do something similar?","title":"Can Instancio generate data for interfaces and abstract classes","body":"<p>I used to use Easy-Random to generate JUnit5 test data, however because it does not seem to be developed anymore, doesn't support Java records and in general seems to be less flexibility than Instancio, I've decided to migrate. Instancio, out of the box, provides a lot of nice features enabling quicker testing (easier parametrized tests, taking into consideration Javax etc.), however there is one drawback.</p>\n<p>The objects returned by our persistence layer are auto-generated implementations of some record interface which look like:</p>\n<pre><code>interface SomeRecord {\n  getUid();\n}\n</code></pre>\n<p>Easy-Random was able to find the implementation and generate a random record.</p>\n<p>I cannot find any information on how to resolve this or a workaround in Instancio's docs or anywhere else. Has anyone been able to do something similar?</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1678086348,"post_id":75647862,"comment_id":133458124,"body_markdown":"`Set&lt;Long&gt; ids = inventory.stream().map(Car::getId).collect(Collectors.toSet())`","body":"<code>Set&lt;Long&gt; ids = inventory.stream().map(Car::getId).collect(Collectors.toSet(&zwnj;&#8203;))</code>"},{"owner":{"account_id":16385597,"reputation":346,"user_id":11835609,"display_name":"Naveen"},"score":0,"creation_date":1678688248,"post_id":75647862,"comment_id":133575097,"body_markdown":"Set&lt;String&gt; names = inventory.stream().map(Car::getName).collect(Collectors.toSet());","body":"Set&lt;String&gt; names = inventory.stream().map(Car::getName).collect(Collectors.toSe&zwnj;&#8203;t());"},{"owner":{"account_id":17716524,"reputation":1146,"user_id":12862712,"display_name":"rohitt"},"score":0,"creation_date":1678688786,"post_id":75647862,"comment_id":133575178,"body_markdown":"I don&#39;t have a getName method, i need to get using a getAttribute (&quot;NAME&quot;) method","body":"I don&#39;t have a getName method, i need to get using a getAttribute (&quot;NAME&quot;) method"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678085960,"creation_date":1678085960,"answer_id":75647893,"question_id":75647862,"body_markdown":"Map and call the function \r\n\r\n`map(Car::getId)`","title":"Convert object list to set of a field","body":"<p>Map and call the function</p>\n<p><code>map(Car::getId)</code></p>\n"}],"owner":{"account_id":17716524,"reputation":1146,"user_id":12862712,"display_name":"rohitt"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":486,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1678687637,"creation_date":1678085683,"question_id":75647862,"body_markdown":"The object class is \r\n```\r\nCar{ \r\npublic long id;\r\nString name;\r\n...\r\npublic String getAttribute(String attrName){\r\n  if(attrName.equals(&quot;NAME&quot;))\r\n    return name;\r\n  //...\r\n}\r\n  // ...\r\n}\r\n```\r\nNow, I have a list. \r\n```\r\nList&lt;Car&gt; inventory;\r\n```\r\nNow i want to get a set of names\r\n```\r\nSet&lt;String&gt;\r\n```\r\nI&#39;m not sure how...\r\n\r\nUntil now i got\r\n```\r\ninventory.stream()...collect(Collectors.toSet());\r\n```\r\n\r\nWhat to use in place of ... So that i get list of names? ","title":"Convert object list to set of a field","body":"<p>The object class is</p>\n<pre><code>Car{ \npublic long id;\nString name;\n...\npublic String getAttribute(String attrName){\n  if(attrName.equals(&quot;NAME&quot;))\n    return name;\n  //...\n}\n  // ...\n}\n</code></pre>\n<p>Now, I have a list.</p>\n<pre><code>List&lt;Car&gt; inventory;\n</code></pre>\n<p>Now i want to get a set of names</p>\n<pre><code>Set&lt;String&gt;\n</code></pre>\n<p>I'm not sure how...</p>\n<p>Until now i got</p>\n<pre><code>inventory.stream()...collect(Collectors.toSet());\n</code></pre>\n<p>What to use in place of ... So that i get list of names?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":305991,"reputation":39137,"user_id":616460,"accept_rate":93,"display_name":"Jason C"},"score":3,"creation_date":1383807998,"post_id":19829892,"comment_id":29485975,"body_markdown":"Is this really not meeting your performance requirements? Is this truly the bottleneck in your code? A few hundred * 4 microseconds = a few milliseconds.","body":"Is this really not meeting your performance requirements? Is this truly the bottleneck in your code? A few hundred * 4 microseconds = a few milliseconds."},{"owner":{"account_id":1657393,"reputation":1826,"user_id":1526545,"accept_rate":63,"display_name":"Joseph_Marzbani"},"score":0,"creation_date":1383812301,"post_id":19829892,"comment_id":29487697,"body_markdown":"I may not calculate correctly. but normally it takes 10 seconds per search. I&#39;ll edit my question in a few seconds.","body":"I may not calculate correctly. but normally it takes 10 seconds per search. I&#39;ll edit my question in a few seconds."},{"owner":{"account_id":305991,"reputation":39137,"user_id":616460,"accept_rate":93,"display_name":"Jason C"},"score":1,"creation_date":1383812466,"post_id":19829892,"comment_id":29487770,"body_markdown":"The solution is most likely not a faster regex, and more likely a better search algorithm. If you gave more details about your actual usage, you may get some better advice. Also, your math still doesn&#39;t add up. A few hundred * 40 microseconds != 10 seconds. Where did your profiling show you that the bottleneck was?","body":"The solution is most likely not a faster regex, and more likely a better search algorithm. If you gave more details about your actual usage, you may get some better advice. Also, your math still doesn&#39;t add up. A few hundred * 40 microseconds != 10 seconds. Where did your profiling show you that the bottleneck was?"},{"owner":{"account_id":205160,"reputation":7223,"user_id":453767,"accept_rate":61,"display_name":"Amit Kumar Gupta"},"score":0,"creation_date":1463776709,"post_id":19829892,"comment_id":62226332,"body_markdown":"Also have a look on [boolean sequence](https://github.com/NaturalIntelligence/BooleanSequence). It currently supports limited RE symbols but it is fast and flexible and give options to become more faster.","body":"Also have a look on <a href=\"https://github.com/NaturalIntelligence/BooleanSequence\" rel=\"nofollow noreferrer\">boolean sequence</a>. It currently supports limited RE symbols but it is fast and flexible and give options to become more faster."}],"answers":[{"comments":[{"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"score":49,"creation_date":1383811779,"post_id":19829983,"comment_id":29487480,"body_markdown":"You can create the Matcher ahead of time as well as the Pattern.  Just feed the constructor an empty string to start with, then inside the loop you can use `Matcher.reset(value)` to apply it.  It won&#39;t have nearly as much impact on performance as precompiling the Pattern, but if performance is really critical, it will help.","body":"You can create the Matcher ahead of time as well as the Pattern.  Just feed the constructor an empty string to start with, then inside the loop you can use <code>Matcher.reset(value)</code> to apply it.  It won&#39;t have nearly as much impact on performance as precompiling the Pattern, but if performance is really critical, it will help."},{"owner":{"account_id":1657393,"reputation":1826,"user_id":1526545,"accept_rate":63,"display_name":"Joseph_Marzbani"},"score":0,"creation_date":1383812606,"post_id":19829983,"comment_id":29487841,"body_markdown":"thank you for your help. But the problem is the pattern changes per search. for example &quot;A*B*C&quot; may changes to &quot;E*B*C*W*&quot;. I&#39;ll edit my question right now.","body":"thank you for your help. But the problem is the pattern changes per search. for example &quot;A<i>B</i>C&quot; may changes to &quot;E<i>B</i>C<i>W</i>&quot;. I&#39;ll edit my question right now."},{"owner":{"account_id":305991,"reputation":39137,"user_id":616460,"accept_rate":93,"display_name":"Jason C"},"score":2,"creation_date":1383813293,"post_id":19829983,"comment_id":29488122,"body_markdown":"@Joseph_Marzbani The point was to compile the regex once per search, precisely as the example in this answer clearly illustrates.","body":"@Joseph_Marzbani The point was to compile the regex once per search, precisely as the example in this answer clearly illustrates."},{"owner":{"account_id":912526,"reputation":595,"user_id":1034436,"display_name":"martian111"},"score":43,"creation_date":1450875207,"post_id":19829983,"comment_id":56613124,"body_markdown":"@AlanMoore As a caution: `Matcher` objects are NOT thread safe per [Javadocs](https://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html).  Therefore, the reset method you&#39;ve describe is likely dangerous in high-performance, multi-threaded scenarios.  I&#39;m not sure if reusing the Matcher object is beneficial enough to take that risk.  Reusing the precompiled Pattern is definitely safe and good practice.","body":"@AlanMoore As a caution: <code>Matcher</code> objects are NOT thread safe per <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html\" rel=\"nofollow noreferrer\">Javadocs</a>.  Therefore, the reset method you&#39;ve describe is likely dangerous in high-performance, multi-threaded scenarios.  I&#39;m not sure if reusing the Matcher object is beneficial enough to take that risk.  Reusing the precompiled Pattern is definitely safe and good practice."},{"owner":{"account_id":10541959,"reputation":8904,"user_id":7767664,"accept_rate":63,"display_name":"user924"},"score":1,"creation_date":1634636358,"post_id":19829983,"comment_id":123072155,"body_markdown":"Yes, guys, you should not vote up @AlanMoore comment. You should not use the same instance of matcher! It&#39;s not thread-safe!","body":"Yes, guys, you should not vote up @AlanMoore comment. You should not use the same instance of matcher! It&#39;s not thread-safe!"}],"tags":[],"owner":{"account_id":3023214,"reputation":20361,"user_id":2563754,"display_name":"Seelenvirtuose"},"comment_count":5,"down_vote_count":0,"up_vote_count":128,"is_accepted":true,"score":128,"last_activity_date":1383808338,"creation_date":1383808338,"answer_id":19829983,"question_id":19829892,"body_markdown":"Regular expressions in Java are compiled into an internal data structure. This compilation is the time-consuming process. Each time you invoke the method `String.matches(String regex)`, the specified regular expression is compiled again.\r\n\r\nSo you should compile your regular expression only once and reuse it:\r\n\r\n    Pattern pattern = Pattern.compile(regexPattern);\r\n    for(String value : values) {\r\n        Matcher matcher = pattern.matcher(value);\r\n        if (matcher.matches()) {\r\n            // your code here\r\n        }\r\n    }\r\n","title":"Java regular expressions: performance and alternative","body":"<p>Regular expressions in Java are compiled into an internal data structure. This compilation is the time-consuming process. Each time you invoke the method <code>String.matches(String regex)</code>, the specified regular expression is compiled again.</p>\n\n<p>So you should compile your regular expression only once and reuse it:</p>\n\n<pre><code>Pattern pattern = Pattern.compile(regexPattern);\nfor(String value : values) {\n    Matcher matcher = pattern.matcher(value);\n    if (matcher.matches()) {\n        // your code here\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":305991,"reputation":39137,"user_id":616460,"accept_rate":93,"display_name":"Jason C"},"score":25,"creation_date":1383818568,"post_id":19832063,"comment_id":29491065,"body_markdown":"If I &quot;saved your life&quot; because you switched to compiled regex&#39;s, you should really mark @Seelenvirtuose&#39;s answer, who suggested it very clearly, as the correct one.","body":"If I &quot;saved your life&quot; because you switched to compiled regex&#39;s, you should really mark @Seelenvirtuose&#39;s answer, who suggested it very clearly, as the correct one."}],"tags":[],"owner":{"account_id":305991,"reputation":39137,"user_id":616460,"accept_rate":93,"display_name":"Jason C"},"comment_count":1,"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1486143982,"creation_date":1383816118,"answer_id":19832063,"question_id":19829892,"body_markdown":"Consider the following (quick and dirty) test:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Random;\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class Test3 {\r\n    \r\n        // time that tick() was called\r\n        static long tickTime;\r\n        \r\n        // called at start of operation, for timing\r\n        static void tick () {\r\n            tickTime = System.nanoTime();\r\n        }\r\n        \r\n        // called at end of operation, prints message and time since tick().\r\n        static void tock (String action) {\r\n            long mstime = (System.nanoTime() - tickTime) / 1000000;\r\n            System.out.println(action + &quot;: &quot; + mstime + &quot;ms&quot;);\r\n        }\r\n         \r\n        // generate random strings of form AAAABBBCCCCC; a random \r\n        // number of characters each randomly repeated.\r\n        static List&lt;String&gt; generateData (int itemCount) {\r\n            \r\n            Random random = new Random();\r\n            List&lt;String&gt; items = new ArrayList&lt;String&gt;();\r\n            long mean = 0;\r\n    \r\n            for (int n = 0; n &lt; itemCount; ++ n) {\r\n                StringBuilder s = new StringBuilder();\r\n                int characters = random.nextInt(7) + 1;\r\n                for (int k = 0; k &lt; characters; ++ k) {\r\n                    char c = (char)(random.nextInt(&#39;Z&#39; - &#39;A&#39;) + &#39;A&#39;);\r\n                    int rep = random.nextInt(95) + 5;\r\n                    for (int j = 0; j &lt; rep; ++ j)\r\n                        s.append(c);\r\n                    mean += rep;\r\n                }\r\n                items.add(s.toString());\r\n            }\r\n            \r\n            mean /= itemCount;\r\n            System.out.println(&quot;generated data, average length: &quot; + mean);\r\n            \r\n            return items;\r\n        \r\n        }\r\n        \r\n        // match all strings in items to regexStr, do not precompile.\r\n        static void regexTestUncompiled (List&lt;String&gt; items, String regexStr) {\r\n    \r\n            tick();\r\n            \r\n            int matched = 0, unmatched = 0;\r\n            \r\n            for (String item:items) {\r\n                if (item.matches(regexStr))\r\n                    ++ matched;\r\n                else\r\n                    ++ unmatched;\r\n            }\r\n            \r\n            tock(&quot;uncompiled: regex=&quot; + regexStr + &quot; matched=&quot; + matched + \r\n                 &quot; unmatched=&quot; + unmatched);\r\n            \r\n        }\r\n        \r\n        // match all strings in items to regexStr, precompile.\r\n        static void regexTestCompiled (List&lt;String&gt; items, String regexStr) {\r\n      \r\n            tick();\r\n            \r\n            Matcher matcher = Pattern.compile(regexStr).matcher(&quot;&quot;);\r\n            int matched = 0, unmatched = 0;\r\n            \r\n            for (String item:items) {\r\n                if (matcher.reset(item).matches())\r\n                    ++ matched;\r\n                else\r\n                    ++ unmatched;\r\n            }\r\n            \r\n            tock(&quot;compiled: regex=&quot; + regexStr + &quot; matched=&quot; + matched + \r\n                 &quot; unmatched=&quot; + unmatched);\r\n    \r\n        }\r\n        \r\n        // test all strings in items against regexStr.\r\n        static void regexTest (List&lt;String&gt; items, String regexStr) {\r\n     \r\n            regexTestUncompiled(items, regexStr);\r\n            regexTestCompiled(items, regexStr);\r\n            \r\n        }\r\n        \r\n        // generate data and run some basic tests\r\n        public static void main (String[] args) {\r\n    \r\n            List&lt;String&gt; items = generateData(1000000);\r\n            regexTest(items, &quot;A*&quot;);\r\n            regexTest(items, &quot;A*B*C*&quot;);\r\n            regexTest(items, &quot;E*C*W*F*&quot;);\r\n            \r\n        }\r\n        \r\n    }\r\n\r\nStrings are random sequences of 1-8 characters with each character occurring 5-100 consecutive times (e.g. &quot;AAAAAAGGGGGDDFFFFFF&quot;). I guessed based on your expressions.\r\n\r\nGranted this might not be representative of your data set, but the timing estimates for applying those regular expressions to 1 million randomly generates strings of average length 208 each on my modest 2.3 GHz dual-core i5 was:\r\n\r\n    Regex      Uncompiled    Precompiled\r\n    A*          0.564 sec     0.126 sec\r\n    A*B*C*      1.768 sec     0.238 sec\r\n    E*C*W*F*    0.795 sec     0.275 sec\r\n\r\nActual output:\r\n\r\n    generated data, average length: 208\r\n    uncompiled: regex=A* matched=6004 unmatched=993996: 564ms\r\n    compiled: regex=A* matched=6004 unmatched=993996: 126ms\r\n    uncompiled: regex=A*B*C* matched=18677 unmatched=981323: 1768ms\r\n    compiled: regex=A*B*C* matched=18677 unmatched=981323: 238ms\r\n    uncompiled: regex=E*C*W*F* matched=25495 unmatched=974505: 795ms\r\n    compiled: regex=E*C*W*F* matched=25495 unmatched=974505: 275ms\r\n\r\nEven without the speedup of precompiled expressions, and even considering that the results vary wildly depending on the data set and regular expression (and even considering that I broke a basic rule of proper Java performance tests and forgot to prime HotSpot first), this is very fast, and I still wonder if the bottleneck is truly where you think it is.\r\n\r\nAfter switching to precompiled expressions, if you still are not meeting your **actual performance requirements**, do some profiling. If you find your bottleneck is still in your search, consider implementing a more optimized search algorithm.\r\n\r\nFor example, assuming your data set is like my test set above: If your data set is known ahead of time, reduce each item in it to a smaller string key by removing repetitive characters, e.g. for &quot;AAAAAAABBBBCCCCCCC&quot;, store it in a map of some sort keyed by &quot;ABC&quot;. When a user searches for &quot;A*B*C*&quot; (presuming your regex&#39;s are in that particular form), look for &quot;ABC&quot; items. Or whatever. It highly depends on your scenario.\r\n\r\n\r\n","title":"Java regular expressions: performance and alternative","body":"<p>Consider the following (quick and dirty) test:</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.Random;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class Test3 {\n\n    // time that tick() was called\n    static long tickTime;\n\n    // called at start of operation, for timing\n    static void tick () {\n        tickTime = System.nanoTime();\n    }\n\n    // called at end of operation, prints message and time since tick().\n    static void tock (String action) {\n        long mstime = (System.nanoTime() - tickTime) / 1000000;\n        System.out.println(action + \": \" + mstime + \"ms\");\n    }\n\n    // generate random strings of form AAAABBBCCCCC; a random \n    // number of characters each randomly repeated.\n    static List&lt;String&gt; generateData (int itemCount) {\n\n        Random random = new Random();\n        List&lt;String&gt; items = new ArrayList&lt;String&gt;();\n        long mean = 0;\n\n        for (int n = 0; n &lt; itemCount; ++ n) {\n            StringBuilder s = new StringBuilder();\n            int characters = random.nextInt(7) + 1;\n            for (int k = 0; k &lt; characters; ++ k) {\n                char c = (char)(random.nextInt('Z' - 'A') + 'A');\n                int rep = random.nextInt(95) + 5;\n                for (int j = 0; j &lt; rep; ++ j)\n                    s.append(c);\n                mean += rep;\n            }\n            items.add(s.toString());\n        }\n\n        mean /= itemCount;\n        System.out.println(\"generated data, average length: \" + mean);\n\n        return items;\n\n    }\n\n    // match all strings in items to regexStr, do not precompile.\n    static void regexTestUncompiled (List&lt;String&gt; items, String regexStr) {\n\n        tick();\n\n        int matched = 0, unmatched = 0;\n\n        for (String item:items) {\n            if (item.matches(regexStr))\n                ++ matched;\n            else\n                ++ unmatched;\n        }\n\n        tock(\"uncompiled: regex=\" + regexStr + \" matched=\" + matched + \n             \" unmatched=\" + unmatched);\n\n    }\n\n    // match all strings in items to regexStr, precompile.\n    static void regexTestCompiled (List&lt;String&gt; items, String regexStr) {\n\n        tick();\n\n        Matcher matcher = Pattern.compile(regexStr).matcher(\"\");\n        int matched = 0, unmatched = 0;\n\n        for (String item:items) {\n            if (matcher.reset(item).matches())\n                ++ matched;\n            else\n                ++ unmatched;\n        }\n\n        tock(\"compiled: regex=\" + regexStr + \" matched=\" + matched + \n             \" unmatched=\" + unmatched);\n\n    }\n\n    // test all strings in items against regexStr.\n    static void regexTest (List&lt;String&gt; items, String regexStr) {\n\n        regexTestUncompiled(items, regexStr);\n        regexTestCompiled(items, regexStr);\n\n    }\n\n    // generate data and run some basic tests\n    public static void main (String[] args) {\n\n        List&lt;String&gt; items = generateData(1000000);\n        regexTest(items, \"A*\");\n        regexTest(items, \"A*B*C*\");\n        regexTest(items, \"E*C*W*F*\");\n\n    }\n\n}\n</code></pre>\n\n<p>Strings are random sequences of 1-8 characters with each character occurring 5-100 consecutive times (e.g. \"AAAAAAGGGGGDDFFFFFF\"). I guessed based on your expressions.</p>\n\n<p>Granted this might not be representative of your data set, but the timing estimates for applying those regular expressions to 1 million randomly generates strings of average length 208 each on my modest 2.3 GHz dual-core i5 was:</p>\n\n<pre><code>Regex      Uncompiled    Precompiled\nA*          0.564 sec     0.126 sec\nA*B*C*      1.768 sec     0.238 sec\nE*C*W*F*    0.795 sec     0.275 sec\n</code></pre>\n\n<p>Actual output:</p>\n\n<pre><code>generated data, average length: 208\nuncompiled: regex=A* matched=6004 unmatched=993996: 564ms\ncompiled: regex=A* matched=6004 unmatched=993996: 126ms\nuncompiled: regex=A*B*C* matched=18677 unmatched=981323: 1768ms\ncompiled: regex=A*B*C* matched=18677 unmatched=981323: 238ms\nuncompiled: regex=E*C*W*F* matched=25495 unmatched=974505: 795ms\ncompiled: regex=E*C*W*F* matched=25495 unmatched=974505: 275ms\n</code></pre>\n\n<p>Even without the speedup of precompiled expressions, and even considering that the results vary wildly depending on the data set and regular expression (and even considering that I broke a basic rule of proper Java performance tests and forgot to prime HotSpot first), this is very fast, and I still wonder if the bottleneck is truly where you think it is.</p>\n\n<p>After switching to precompiled expressions, if you still are not meeting your <strong>actual performance requirements</strong>, do some profiling. If you find your bottleneck is still in your search, consider implementing a more optimized search algorithm.</p>\n\n<p>For example, assuming your data set is like my test set above: If your data set is known ahead of time, reduce each item in it to a smaller string key by removing repetitive characters, e.g. for \"AAAAAAABBBBCCCCCCC\", store it in a map of some sort keyed by \"ABC\". When a user searches for \"A<em>B</em>C*\" (presuming your regex's are in that particular form), look for \"ABC\" items. Or whatever. It highly depends on your scenario.</p>\n"}],"owner":{"account_id":1657393,"reputation":1826,"user_id":1526545,"accept_rate":63,"display_name":"Joseph_Marzbani"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62583,"favorite_count":0,"down_vote_count":2,"up_vote_count":47,"accepted_answer_id":19829983,"answer_count":2,"score":45,"last_activity_date":1678687141,"creation_date":1383807922,"question_id":19829892,"body_markdown":"Recently I have been had to search a number of string values to see which one matches a certain pattern. Neither the number of string values nor the pattern itself is clear until a search term has been entered by the user.\r\n\r\nThe problem is I have noticed each time my application runs the following line: \r\n\r\n    if (stringValue.matches(rexExPattern)) {\r\n        // do something so simple\r\n    }\r\n\r\nit takes about 40 micro second. No need to say when the number of string values exceeds a few thousands, it&#39;ll be too slow.\r\n\r\nThe pattern is something like:\r\n\r\n    &quot;A*B*C*D*E*F*&quot;\r\n\r\nwhere `A~F` are just examples here, but the pattern is some thing like the above. *Please note** that the pattern actually changes per search. For example `&quot;A*B*C*&quot;` may change to `&quot;W*D*G*A*&quot;`.\r\n\r\nI wonder if there is a better substitution for the above pattern or, more generally, an alternative for Java regular expressions.\r\n        ","title":"Java regular expressions: performance and alternative","body":"<p>Recently I have been had to search a number of string values to see which one matches a certain pattern. Neither the number of string values nor the pattern itself is clear until a search term has been entered by the user.</p>\n<p>The problem is I have noticed each time my application runs the following line:</p>\n<pre><code>if (stringValue.matches(rexExPattern)) {\n    // do something so simple\n}\n</code></pre>\n<p>it takes about 40 micro second. No need to say when the number of string values exceeds a few thousands, it'll be too slow.</p>\n<p>The pattern is something like:</p>\n<pre><code>&quot;A*B*C*D*E*F*&quot;\n</code></pre>\n<p>where <code>A~F</code> are just examples here, but the pattern is some thing like the above. <em>Please note</em>* that the pattern actually changes per search. For example <code>&quot;A*B*C*&quot;</code> may change to <code>&quot;W*D*G*A*&quot;</code>.</p>\n<p>I wonder if there is a better substitution for the above pattern or, more generally, an alternative for Java regular expressions.</p>\n"},{"tags":["java","spring","spring-boot","controller","overloading"],"comments":[{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1678685243,"post_id":75718281,"comment_id":133574733,"body_markdown":"You should probably use different paths instead.","body":"You should probably use different paths instead."},{"owner":{"account_id":7137920,"reputation":1714,"user_id":5456789,"display_name":"Amir Azizkhani"},"score":1,"creation_date":1678685315,"post_id":75718281,"comment_id":133574741,"body_markdown":"use `value = &quot;/registers&quot;` for list registeration like `registerConnections` that you named.","body":"use <code>value = &quot;&#47;registers&quot;</code> for list registeration like <code>registerConnections</code> that you named."},{"owner":{"account_id":4122190,"reputation":32227,"user_id":3382204,"accept_rate":88,"display_name":"Cyril Cherian"},"score":0,"creation_date":1678685872,"post_id":75718281,"comment_id":133574799,"body_markdown":"for both the request body is different so it should work. What issues are you running into can you please put it up in question?","body":"for both the request body is different so it should work. What issues are you running into can you please put it up in question?"}],"answers":[{"tags":[],"owner":{"account_id":20401440,"reputation":1,"user_id":14967070,"display_name":"amit kumar Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678685410,"creation_date":1678685410,"answer_id":75718313,"question_id":75718281,"body_markdown":"You should use different path for your mappings.\r\n\r\nBut, still if you wish to do the same below code snippet may help.\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api&quot;)\r\n    public class MyController {\r\n    \r\n        @PostMapping(&quot;/myendpoint&quot;)\r\n        public ResponseEntity&lt;String&gt; handleMyStringRequestBody(@RequestBody String requestBody) {\r\n            return ResponseEntity.ok(&quot;This is String Body&quot;);\r\n        }\r\n    \r\n        @PostMapping(&quot;/myendpoint&quot;)\r\n        public ResponseEntity&lt;String&gt; handleMyJsonRequestBody(@RequestBody JsonObject requestBody) {\r\n            return ResponseEntity.ok(&quot;This is JSON body&quot;);\r\n        }\r\n    }","title":"How to overload controller API with different type of `@RequestBody` in SpringBoot?","body":"<p>You should use different path for your mappings.</p>\n<p>But, still if you wish to do the same below code snippet may help.</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class MyController {\n\n    @PostMapping(&quot;/myendpoint&quot;)\n    public ResponseEntity&lt;String&gt; handleMyStringRequestBody(@RequestBody String requestBody) {\n        return ResponseEntity.ok(&quot;This is String Body&quot;);\n    }\n\n    @PostMapping(&quot;/myendpoint&quot;)\n    public ResponseEntity&lt;String&gt; handleMyJsonRequestBody(@RequestBody JsonObject requestBody) {\n        return ResponseEntity.ok(&quot;This is JSON body&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15831121,"reputation":1091,"user_id":11422407,"display_name":"leo0807"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678686979,"creation_date":1678685023,"question_id":75718281,"body_markdown":"All! I&#39;m currently working on a new project with `SpringBoot` and below is the problem that I&#39;ve currently encountered. I want to `overload` this controller with different types of parameters. How could I achieve it?\r\n\r\n```\r\n    @RequestMapping(method = RequestMethod.POST, value = &quot;/register&quot;)\r\n    public Status registerConnection(@RequestBody Connection connection) throws Exception \r\n    {\r\n        xxxx\r\n    }\r\n    @RequestMapping(method = RequestMethod.POST, value = &quot;/register&quot;)\r\n    public Status registerConnections(@RequestBody List&lt;Connection&gt; connections){ \r\n        xxxx\r\n    }\r\n```\r\n\r\nCurrently, if I run the program, it reported an error showed below:\r\n```\r\nCaused by: java.lang.IllegalStateException: Ambiguous mapping. Cannot map &#39;connectionController&#39; method \r\ncom.comacnet.controller.ConnectionController#registerConnections(List)\r\nto {POST [/connection/register]}: There is already &#39;connectionController&#39; bean method\r\ncom.comacnet.controller.ConnectionController#registerConnection(Connection) mappe\r\n```","title":"How to overload controller API with different type of `@RequestBody` in SpringBoot?","body":"<p>All! I'm currently working on a new project with <code>SpringBoot</code> and below is the problem that I've currently encountered. I want to <code>overload</code> this controller with different types of parameters. How could I achieve it?</p>\n<pre><code>    @RequestMapping(method = RequestMethod.POST, value = &quot;/register&quot;)\n    public Status registerConnection(@RequestBody Connection connection) throws Exception \n    {\n        xxxx\n    }\n    @RequestMapping(method = RequestMethod.POST, value = &quot;/register&quot;)\n    public Status registerConnections(@RequestBody List&lt;Connection&gt; connections){ \n        xxxx\n    }\n</code></pre>\n<p>Currently, if I run the program, it reported an error showed below:</p>\n<pre><code>Caused by: java.lang.IllegalStateException: Ambiguous mapping. Cannot map 'connectionController' method \ncom.comacnet.controller.ConnectionController#registerConnections(List)\nto {POST [/connection/register]}: There is already 'connectionController' bean method\ncom.comacnet.controller.ConnectionController#registerConnection(Connection) mappe\n</code></pre>\n"},{"tags":["java","spring-boot","rest","swagger","openapi"],"answers":[{"comments":[{"owner":{"account_id":11805960,"reputation":181,"user_id":8638447,"display_name":"Rajat"},"score":0,"creation_date":1678688748,"post_id":75718437,"comment_id":133575173,"body_markdown":"I tried this way also and other way also still getting null value, dont know what is the issue                                                                  @Operation(summary = &quot;pushAdjustmentList&quot;)\n\t@PostMapping(value = &quot;/push/adjList&quot;)\n\tpublic ResponseEntity&lt;String&gt; pushAdjustmentList(\n\t\t\t@RequestBody(content = @Content(mediaType = &quot;application/json&quot;, array = @ArraySchema(schema = @Schema(implementation = Long.class))),description = &quot;List of Adjustment Ids&quot;) @org.springframework.web.bind.annotation.RequestBody List&lt;Long&gt; adjList) {\n\t\t----\n\t}","body":"I tried this way also and other way also still getting null value, dont know what is the issue                                                                  @Operation(summary = &quot;pushAdjustmentList&quot;) \t@PostMapping(value = &quot;/push/adjList&quot;) \tpublic ResponseEntity&lt;String&gt; pushAdjustmentList( \t\t\t@RequestBody(content = @Content(mediaType = &quot;application/json&quot;, array = @ArraySchema(schema = @Schema(implementation = Long.class))),description = &quot;List of Adjustment Ids&quot;) @org.springframework.web.bind.annotation.RequestBody List&lt;Long&gt; adjList) { \t\t---- \t}"},{"owner":{"account_id":10662643,"reputation":689,"user_id":7899567,"display_name":"Anton Tokmakov"},"score":0,"creation_date":1678692508,"post_id":75718437,"comment_id":133575756,"body_markdown":"Check that you are using right annotation from io.swagger.v3.oas.annotations.parameters. And check that you are using actually springdoc-openapi-ui, not springfox","body":"Check that you are using right annotation from io.swagger.v3.oas.annotations.parameters. And check that you are using actually springdoc-openapi-ui, not springfox"},{"owner":{"account_id":11805960,"reputation":181,"user_id":8638447,"display_name":"Rajat"},"score":0,"creation_date":1678706365,"post_id":75718437,"comment_id":133579383,"body_markdown":"@Anton..Using right annotation. In schema example is null coming.                                   [example: null                                                                                                                         String                                                                                                                                  example: null]","body":"@Anton..Using right annotation. In schema example is null coming.                                   [example: null                                                                                                                         String                                                                                                                                  example: null]"},{"owner":{"account_id":11805960,"reputation":181,"user_id":8638447,"display_name":"Rajat"},"score":0,"creation_date":1679304001,"post_id":75718437,"comment_id":133690855,"body_markdown":"I am able to solve my problem by downgarding dependency in pom from jackson-databind.version- 2.14.0 to 2.13.4.2","body":"I am able to solve my problem by downgarding dependency in pom from jackson-databind.version- 2.14.0 to 2.13.4.2"}],"tags":[],"owner":{"account_id":10662643,"reputation":689,"user_id":7899567,"display_name":"Anton Tokmakov"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678686891,"creation_date":1678686891,"answer_id":75718437,"question_id":75718299,"body_markdown":"If you are using springdoc-openapi-ui you can use the following solution: \r\n\r\n        @io.swagger.v3.oas.annotations.parameters.RequestBody(\r\n            content = @Content(mediaType = &quot;application/json&quot;, array = @ArraySchema(schema = @Schema(implementation = Long.class))),\r\n            description = &quot;Request with list of Long&quot;\r\n        )\r\nAnd if you are using spring-fox here you can know how to migrate to springdoc:\r\nhttps://springdoc.org/migrating-from-springfox.html","title":"OpenAPI Swagger Java Not able to get value inside Example value","body":"<p>If you are using springdoc-openapi-ui you can use the following solution:</p>\n<pre><code>    @io.swagger.v3.oas.annotations.parameters.RequestBody(\n        content = @Content(mediaType = &quot;application/json&quot;, array = @ArraySchema(schema = @Schema(implementation = Long.class))),\n        description = &quot;Request with list of Long&quot;\n    )\n</code></pre>\n<p>And if you are using spring-fox here you can know how to migrate to springdoc:\n<a href=\"https://springdoc.org/migrating-from-springfox.html\" rel=\"nofollow noreferrer\">https://springdoc.org/migrating-from-springfox.html</a></p>\n"}],"owner":{"account_id":11805960,"reputation":181,"user_id":8638447,"display_name":"Rajat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":594,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678686891,"creation_date":1678685207,"question_id":75718299,"body_markdown":"In my post request body getting null value. Not able to get default json value.\r\nMy code :\r\n\r\n    @Operation(summary = &quot;pushAdjustmentList&quot;)\r\n    \t@PostMapping(value = &quot;/push/adjList&quot;)\r\n    \tpublic ResponseEntity&lt;String&gt; pushAdjustmentList(\r\n    \t\t\t@RequestBody(description = &quot;List of Adjustment Ids&quot;,required = true) List&lt;Long&gt; adjList) {\r\n    \t\tHttpStatus status = HttpStatus.OK;\r\n    \t\tString response = null;\r\n    \t\tlog.debug(&quot;Adjustments list submitted : {}&quot;,adjList);\r\n    \t\ttry {\r\n    \t\t\tresponse = producerService.pushAdjustmentList(adjList);\r\n    \t\t}\r\n    \t\tcatch(Exception ex) {\r\n    \t\t\tlog.error(LOGGER_COULD_NOT_PROCESS_REQUEST,ex.getMessage());\r\n    \t\t\tresponse = ex.getMessage();\r\n    \t\t\tstatus = HttpStatus.INTERNAL_SERVER_ERROR;\r\n    \t\t}\r\n    \t\treturn ResponseEntity.status(status).body(response);\r\n    \t}\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/imXia.png","title":"OpenAPI Swagger Java Not able to get value inside Example value","body":"<p>In my post request body getting null value. Not able to get default json value.\nMy code :</p>\n<pre><code>@Operation(summary = &quot;pushAdjustmentList&quot;)\n    @PostMapping(value = &quot;/push/adjList&quot;)\n    public ResponseEntity&lt;String&gt; pushAdjustmentList(\n            @RequestBody(description = &quot;List of Adjustment Ids&quot;,required = true) List&lt;Long&gt; adjList) {\n        HttpStatus status = HttpStatus.OK;\n        String response = null;\n        log.debug(&quot;Adjustments list submitted : {}&quot;,adjList);\n        try {\n            response = producerService.pushAdjustmentList(adjList);\n        }\n        catch(Exception ex) {\n            log.error(LOGGER_COULD_NOT_PROCESS_REQUEST,ex.getMessage());\n            response = ex.getMessage();\n            status = HttpStatus.INTERNAL_SERVER_ERROR;\n        }\n        return ResponseEntity.status(status).body(response);\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/imXia.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/imXia.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","vba","excel","apache-poi"],"comments":[{"owner":{"account_id":7624963,"reputation":10003,"user_id":5781745,"accept_rate":85,"display_name":"K.Dᴀᴠɪs"},"score":0,"creation_date":1517264311,"post_id":48510910,"comment_id":84016725,"body_markdown":"Ctrl + Shift + Alt + f9... Or `Application.Calculate`... Or `Application.CalculateFull`.","body":"Ctrl + Shift + Alt + f9... Or <code>Application.Calculate</code>... Or <code>Application.CalculateFull</code>."},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1517265733,"post_id":48510910,"comment_id":84017283,"body_markdown":"Are you doing a Formula Evaluation with Apache POI when you&#39;re done updating all your cells?","body":"Are you doing a Formula Evaluation with Apache POI when you&#39;re done updating all your cells?"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":3,"creation_date":1517286756,"post_id":48510910,"comment_id":84022484,"body_markdown":"https://poi.apache.org/spreadsheet/eval.html#Recalculation+of+Formulas","body":"<a href=\"https://poi.apache.org/spreadsheet/eval.html#Recalculation+of+Formulas\" rel=\"nofollow noreferrer\">poi.apache.org/spreadsheet/eval.html#Recalculation+of+Formul&zwnj;&#8203;as</a>"},{"owner":{"account_id":12110040,"reputation":55,"user_id":8847300,"display_name":"lucas"},"score":0,"creation_date":1517303204,"post_id":48510910,"comment_id":84029595,"body_markdown":"@alex thanks just forgot this. Its working now.","body":"@alex thanks just forgot this. Its working now."}],"owner":{"account_id":12110040,"reputation":55,"user_id":8847300,"display_name":"lucas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":555,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678686321,"creation_date":1517264244,"question_id":48510910,"body_markdown":"recently I started working with POI. Now I have a problem. After updating my cell values with POI my excel workbook does not calculate with the new values. \r\nThe new values are displayed in Excel but won&#39;t be used for the calculation.\r\nI have to click on the formula again, press enter so that the calculation works. \r\nPressing F9 does not work for me.\r\nNow I am looking for a solution so that Excel or Java refreshes every formula.\r\nDo you guys have any suggestion?\r\n\r\n","title":"Excel does not calculate after using POI (Java)","body":"<p>recently I started working with POI. Now I have a problem. After updating my cell values with POI my excel workbook does not calculate with the new values. \nThe new values are displayed in Excel but won't be used for the calculation.\nI have to click on the formula again, press enter so that the calculation works. \nPressing F9 does not work for me.\nNow I am looking for a solution so that Excel or Java refreshes every formula.\nDo you guys have any suggestion?</p>\n"},{"tags":["java","jsoup"],"answers":[{"comments":[{"owner":{"account_id":1554391,"reputation":1540,"user_id":1445967,"accept_rate":37,"display_name":"user1445967"},"score":0,"creation_date":1573065491,"post_id":58736283,"comment_id":103763242,"body_markdown":"Thank you, I do not want all whitespace, I wanted an nbsp between some other stuff that is not whitespace :)","body":"Thank you, I do not want all whitespace, I wanted an nbsp between some other stuff that is not whitespace :)"}],"tags":[],"owner":{"account_id":17000499,"reputation":48417,"user_id":12299000,"display_name":"kaya3"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1573064251,"creation_date":1573064251,"answer_id":58736283,"question_id":58736253,"body_markdown":"A non-breaking space can be written into a string literal using a Unicode escape sequence: `&quot;\\u00A0&quot;`.\r\n\r\nHowever, if you want *all* whitespace within an element to be rendered literally, consider using normal spaces but applying a CSS property such as `white-space: pre;`.","title":"jsoup / Java - how to append a nonbreaking space","body":"<p>A non-breaking space can be written into a string literal using a Unicode escape sequence: <code>\"\\u00A0\"</code>.</p>\n\n<p>However, if you want <em>all</em> whitespace within an element to be rendered literally, consider using normal spaces but applying a CSS property such as <code>white-space: pre;</code>.</p>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573071240,"creation_date":1573071240,"answer_id":58737830,"question_id":58736253,"body_markdown":"There is an open-source library called MgntUtils that has a feature that takes a regular String and creates a String for Html format where the String formatting will be preserved. I.e. all the spaces in the String will be replaced with non-breaking spaces and all the new lines will be replaced with &#39;br&#39; tags. The advantage that if you just print your String as text non-braking spaces will look just like regular space and not as &quot;\\u00A0&quot; or nbsp escape. You will, of course, see br tags, but still, your String will look by far more readable. Here is [JavaDoc][1] for the method. I found it sometimes very convenient. The code would just look\r\n\r\n    String htmlFormattedStr = formatStringToPreserveIndentationForHtml(rawText);\r\n\r\nThe library Maven artifacts could be found [here][2] and the library itself as a Jar file as well as source code and JavaDoc can be found on [Github][3]. Here is the [link to the article][4] about the library \r\n\r\n\r\n  [1]: http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/TextUtils.html#formatStringToPreserveIndentationForHtml-java.lang.String-\r\n  [2]: https://search.maven.org/search?q=g:com.github.michaelgantman%20AND%20a:MgntUtils\r\n  [3]: https://github.com/michaelgantman/Mgnt/releases\r\n  [4]: https://community.oracle.com/blogs/michaelgantman/2016/01/26/open-source-java-library-with-stacktrace-filtering-silent-string-parsing-and-version-comparison","title":"jsoup / Java - how to append a nonbreaking space","body":"<p>There is an open-source library called MgntUtils that has a feature that takes a regular String and creates a String for Html format where the String formatting will be preserved. I.e. all the spaces in the String will be replaced with non-breaking spaces and all the new lines will be replaced with 'br' tags. The advantage that if you just print your String as text non-braking spaces will look just like regular space and not as \"\\u00A0\" or nbsp escape. You will, of course, see br tags, but still, your String will look by far more readable. Here is <a href=\"http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/TextUtils.html#formatStringToPreserveIndentationForHtml-java.lang.String-\" rel=\"nofollow noreferrer\">JavaDoc</a> for the method. I found it sometimes very convenient. The code would just look</p>\n\n<pre><code>String htmlFormattedStr = formatStringToPreserveIndentationForHtml(rawText);\n</code></pre>\n\n<p>The library Maven artifacts could be found <a href=\"https://search.maven.org/search?q=g:com.github.michaelgantman%20AND%20a:MgntUtils\" rel=\"nofollow noreferrer\">here</a> and the library itself as a Jar file as well as source code and JavaDoc can be found on <a href=\"https://github.com/michaelgantman/Mgnt/releases\" rel=\"nofollow noreferrer\">Github</a>. Here is the <a href=\"https://community.oracle.com/blogs/michaelgantman/2016/01/26/open-source-java-library-with-stacktrace-filtering-silent-string-parsing-and-version-comparison\" rel=\"nofollow noreferrer\">link to the article</a> about the library </p>\n"}],"owner":{"account_id":1554391,"reputation":1540,"user_id":1445967,"accept_rate":37,"display_name":"user1445967"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":869,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":58736283,"answer_count":2,"score":0,"last_activity_date":1678686299,"creation_date":1573064114,"question_id":58736253,"body_markdown":"Calling `[Element].appendtext(&quot;&amp;nbsp;&quot;)` causes the ampersand to be escaped and so the user sees the ampersand on the rendered HTML page.  I don&#39;t want the page to render the HTML code.  \r\n\r\nI actually do want the html page to render whitespace.","title":"jsoup / Java - how to append a nonbreaking space","body":"<p>Calling <code>[Element].appendtext(&quot;&amp;nbsp;&quot;)</code> causes the ampersand to be escaped and so the user sees the ampersand on the rendered HTML page.  I don't want the page to render the HTML code.</p>\n<p>I actually do want the html page to render whitespace.</p>\n"},{"tags":["java","android","kotlin","opencv"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1677446673,"post_id":75575020,"comment_id":133334796,"body_markdown":"Why aren&#39;t you using: https://github.com/spmallick/learnopencv/tree/master/DNN-OpenCV-Classification-Android Alternatively there is: https://onnxruntime.ai/docs/tutorials/mobile/ otherwise most of the ML stuff for Android is [Tensorflow Lite](https://www.tensorflow.org/lite/android/quickstart) based (different engine and model format).","body":"Why aren&#39;t you using: <a href=\"https://github.com/spmallick/learnopencv/tree/master/DNN-OpenCV-Classification-Android\" rel=\"nofollow noreferrer\">github.com/spmallick/learnopencv/tree/master/&hellip;</a> Alternatively there is: <a href=\"https://onnxruntime.ai/docs/tutorials/mobile/\" rel=\"nofollow noreferrer\">onnxruntime.ai/docs/tutorials/mobile</a> otherwise most of the ML stuff for Android is <a href=\"https://www.tensorflow.org/lite/android/quickstart\" rel=\"nofollow noreferrer\">Tensorflow Lite</a> based (different engine and model format)."},{"owner":{"account_id":2345937,"reputation":3332,"user_id":2056201,"accept_rate":23,"display_name":"Mich"},"score":0,"creation_date":1677449358,"post_id":75575020,"comment_id":133335233,"body_markdown":"I thought ONNX is universal format. Anyway I tried pytorch_mobilenet.onnx from the link you shared and I am getting SIGSEGV errors on the readNetFromONNX function. Can&#39;t find a solution, do you knpow if this is caused by some format error?","body":"I thought ONNX is universal format. Anyway I tried pytorch_mobilenet.onnx from the link you shared and I am getting SIGSEGV errors on the readNetFromONNX function. Can&#39;t find a solution, do you knpow if this is caused by some format error?"},{"owner":{"account_id":2345937,"reputation":3332,"user_id":2056201,"accept_rate":23,"display_name":"Mich"},"score":0,"creation_date":1677449368,"post_id":75575020,"comment_id":133335235,"body_markdown":"The code I am using is from the links you provided DNN-OpenCV-Classification-with-Java/DnnOpenCV.java","body":"The code I am using is from the links you provided DNN-OpenCV-Classification-with-Java/DnnOpenCV.java"},{"owner":{"account_id":2345937,"reputation":3332,"user_id":2056201,"accept_rate":23,"display_name":"Mich"},"score":0,"creation_date":1677449423,"post_id":75575020,"comment_id":133335246,"body_markdown":"Found onnx in https://github.com/spmallick/learnopencv/tree/master/DNN-OpenCV-Classification-Android/img_classification_android/app/src/main/assets","body":"Found onnx in <a href=\"https://github.com/spmallick/learnopencv/tree/master/DNN-OpenCV-Classification-Android/img_classification_android/app/src/main/assets\" rel=\"nofollow noreferrer\">github.com/spmallick/learnopencv/tree/master/&hellip;</a>"},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":1,"creation_date":1677454003,"post_id":75575020,"comment_id":133335854,"body_markdown":"It is unclear what you are doing. Android != Java SE != Linux. The Java project you linked to is for command line only. I linked to the Android version (see README.md for article). Just to confirm, I downloaded the learnopencv repo, imported the Android project into Android Studio, had to fix/change the JAVA SDK used, then built and ran the demo app on my physical device (Pixel 2 Android 10). As you state you are new to Android, you should go through recent tutorials (although most are now Kotlin orientated), the wiki at the bottom has resources: https://stackoverflow.com/tags/android/info","body":"It is unclear what you are doing. Android != Java SE != Linux. The Java project you linked to is for command line only. I linked to the Android version (see README.md for article). Just to confirm, I downloaded the learnopencv repo, imported the Android project into Android Studio, had to fix/change the JAVA SDK used, then built and ran the demo app on my physical device (Pixel 2 Android 10). As you state you are new to Android, you should go through recent tutorials (although most are now Kotlin orientated), the wiki at the bottom has resources: <a href=\"https://stackoverflow.com/tags/android/info\">stackoverflow.com/tags/android/info</a>"}],"owner":{"account_id":2345937,"reputation":3332,"user_id":2056201,"accept_rate":23,"display_name":"Mich"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678685488,"creation_date":1677445588,"question_id":75575020,"body_markdown":"I am using the DNN classifier and it requires a Mobilenet onnx file. \r\nThis is the source code for the project https://github.com/spmallick/learnopencv/blob/master/DNN-OpenCV-Classification-with-Java/DnnOpenCV.java\r\n\r\nI downloaded the model file from \r\nhttps://github.com/onnx/models/tree/main/vision/classification/mobilenet/model\r\n\r\nI would like to include it as a resource inside of my app so I can load it with \r\n\r\n\r\n        Net dnnNet = Dnn.readNetFromONNX(MODEL_PATH);\r\n\r\nCurrently the add crashes on this line, eventhough the ONNX file is in the right location in my project folder, I cannot get it to deploy with my phone application to the emulator or to my phone. \r\n\r\nSearching online I can only find answers on how to add XML resources, can I add binary or text files as well like this ONNX file?\r\n\r\nHow can I add this file as a resource so it loads with the application?\r\nLooking for a detailed answer with every step as I am completely new to android studio and java ","title":"How to add a pytorch model as a resource file to android app in Android Studio","body":"<p>I am using the DNN classifier and it requires a Mobilenet onnx file.\nThis is the source code for the project <a href=\"https://github.com/spmallick/learnopencv/blob/master/DNN-OpenCV-Classification-with-Java/DnnOpenCV.java\" rel=\"nofollow noreferrer\">https://github.com/spmallick/learnopencv/blob/master/DNN-OpenCV-Classification-with-Java/DnnOpenCV.java</a></p>\n<p>I downloaded the model file from\n<a href=\"https://github.com/onnx/models/tree/main/vision/classification/mobilenet/model\" rel=\"nofollow noreferrer\">https://github.com/onnx/models/tree/main/vision/classification/mobilenet/model</a></p>\n<p>I would like to include it as a resource inside of my app so I can load it with</p>\n<pre><code>    Net dnnNet = Dnn.readNetFromONNX(MODEL_PATH);\n</code></pre>\n<p>Currently the add crashes on this line, eventhough the ONNX file is in the right location in my project folder, I cannot get it to deploy with my phone application to the emulator or to my phone.</p>\n<p>Searching online I can only find answers on how to add XML resources, can I add binary or text files as well like this ONNX file?</p>\n<p>How can I add this file as a resource so it loads with the application?\nLooking for a detailed answer with every step as I am completely new to android studio and java</p>\n"},{"tags":["java","monaco-editor","monaco-languageserver"],"answers":[{"tags":[],"owner":{"account_id":1156784,"reputation":50192,"user_id":1137174,"accept_rate":78,"display_name":"Mike Lischke"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677224413,"creation_date":1677224413,"answer_id":75553769,"question_id":75552711,"body_markdown":"After you did the semantic validation send diagnostics back, which your extension can use to add such information. For example:\r\n\r\n```typescript\r\n   /**\r\n     * Convert diagnostic information for the given file to show in vscode.\r\n     *\r\n     * @param document The document for which this should happen.\r\n     */\r\n    private processDiagnostic = (document: TextDocument) =&gt; {\r\n        const diagnostics = [];\r\n        const entries = this.backend.getDiagnostics(document.fileName);\r\n        for (const entry of entries) {\r\n            const startRow = entry.range.start.row === 0 ? 0 : entry.range.start.row - 1;\r\n            const endRow = entry.range.end.row === 0 ? 0 : entry.range.end.row - 1;\r\n            const range = new Range(startRow, entry.range.start.column, endRow, entry.range.end.column);\r\n            const diagnostic = new Diagnostic(range, entry.message, ExtensionHost.diagnosticTypeMap.get(entry.type));\r\n            diagnostics.push(diagnostic);\r\n        }\r\n        this.diagnosticCollection.set(document.uri, diagnostics);\r\n    };\r\n```\r\n\r\n(from my extension [antlr4-vscode][1]).\r\n\r\n\r\n  [1]: https://github.com/mike-lischke/vscode-antlr4/blob/master/src/ExtensionHost.ts#L342","title":"How to add error highlights for Importing Unknown Packages or Modules in Monaco Editor for newly registered Language Java?","body":"<p>After you did the semantic validation send diagnostics back, which your extension can use to add such information. For example:</p>\n<pre class=\"lang-js prettyprint-override\"><code>   /**\n     * Convert diagnostic information for the given file to show in vscode.\n     *\n     * @param document The document for which this should happen.\n     */\n    private processDiagnostic = (document: TextDocument) =&gt; {\n        const diagnostics = [];\n        const entries = this.backend.getDiagnostics(document.fileName);\n        for (const entry of entries) {\n            const startRow = entry.range.start.row === 0 ? 0 : entry.range.start.row - 1;\n            const endRow = entry.range.end.row === 0 ? 0 : entry.range.end.row - 1;\n            const range = new Range(startRow, entry.range.start.column, endRow, entry.range.end.column);\n            const diagnostic = new Diagnostic(range, entry.message, ExtensionHost.diagnosticTypeMap.get(entry.type));\n            diagnostics.push(diagnostic);\n        }\n        this.diagnosticCollection.set(document.uri, diagnostics);\n    };\n</code></pre>\n<p>(from my extension <a href=\"https://github.com/mike-lischke/vscode-antlr4/blob/master/src/ExtensionHost.ts#L342\" rel=\"nofollow noreferrer\">antlr4-vscode</a>).</p>\n"},{"tags":[],"owner":{"account_id":26262923,"reputation":447,"user_id":19933941,"display_name":"llesha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678685268,"creation_date":1678684380,"answer_id":75718230,"question_id":75552711,"body_markdown":"First, you need to provide some logic of detecting unknown imported packages.\r\n\r\nThen, to underline errors, check corrrsponding page on [Monaco editor playground][1] or use this code:\r\n```javascript\r\n     monaco.editor.setModelMarkers(window.editor.getModel(), &#39;owner&#39;, [\r\n            {\r\n                message: &quot;import not found&quot;,\r\n                severity: monaco.MarkerSeverity.Error,\r\n                startLineNumber: 0,\r\n                startColumn: 0,\r\n                endLineNumber: 0,\r\n                endColumn: 2,\r\n            },\r\n        ]);\r\n```\r\n\r\n(change startLineNumber and other range arguments according to highlighted code piece). \r\n\r\n\r\n  [1]: https://microsoft.github.io/monaco-editor/playground.html?source=v0.36.1#example-extending-language-services-model-markers-example","title":"How to add error highlights for Importing Unknown Packages or Modules in Monaco Editor for newly registered Language Java?","body":"<p>First, you need to provide some logic of detecting unknown imported packages.</p>\n<p>Then, to underline errors, check corrrsponding page on <a href=\"https://microsoft.github.io/monaco-editor/playground.html?source=v0.36.1#example-extending-language-services-model-markers-example\" rel=\"nofollow noreferrer\">Monaco editor playground</a> or use this code:</p>\n<pre class=\"lang-js prettyprint-override\"><code>     monaco.editor.setModelMarkers(window.editor.getModel(), 'owner', [\n            {\n                message: &quot;import not found&quot;,\n                severity: monaco.MarkerSeverity.Error,\n                startLineNumber: 0,\n                startColumn: 0,\n                endLineNumber: 0,\n                endColumn: 2,\n            },\n        ]);\n</code></pre>\n<p>(change startLineNumber and other range arguments according to highlighted code piece).</p>\n"}],"owner":{"account_id":20315067,"reputation":11,"user_id":14901127,"display_name":"Bansl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":408,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678685268,"creation_date":1677213765,"question_id":75552711,"body_markdown":"Currently we are integrating Java Language Server to Monaco Editor. There when I am trying  to import unknown modules or packages it is not throwing warning or errors.[![No Error for Unknown Package](https://i.stack.imgur.com/lLkqU.png)](https://i.stack.imgur.com/lLkqU.png). Tried using Tokenizer but didn&#39;t worked out.\r\n\r\nWhen I am importing any unknown package or error I want error some thing red lines below the package name. Similar to how we will get for typescript. I want to know how to add these type to monaco editor for a new language that we are registering.[![enter image description here](https://i.stack.imgur.com/4E9xU.png)](https://i.stack.imgur.com/4E9xU.png)","title":"How to add error highlights for Importing Unknown Packages or Modules in Monaco Editor for newly registered Language Java?","body":"<p>Currently we are integrating Java Language Server to Monaco Editor. There when I am trying  to import unknown modules or packages it is not throwing warning or errors.<a href=\"https://i.stack.imgur.com/lLkqU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lLkqU.png\" alt=\"No Error for Unknown Package\" /></a>. Tried using Tokenizer but didn't worked out.</p>\n<p>When I am importing any unknown package or error I want error some thing red lines below the package name. Similar to how we will get for typescript. I want to know how to add these type to monaco editor for a new language that we are registering.<a href=\"https://i.stack.imgur.com/4E9xU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4E9xU.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1678684614,"post_id":75718200,"comment_id":133574667,"body_markdown":"There isn&#39;t a way.  You *could* shutdown the common forkjoinpool ... but that is a one way street.","body":"There isn&#39;t a way.  You <i>could</i> shutdown the common forkjoinpool ... but that is a one way street."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1678684675,"post_id":75718200,"comment_id":133574674,"body_markdown":"And yes ... they don&#39;t do any harm.","body":"And yes ... they don&#39;t do any harm."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1678711016,"post_id":75718200,"comment_id":133580709,"body_markdown":"@StephenC actually, no: [`shutdown()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ForkJoinPool.html#shutdown()): “*Invocation has no effect on execution state if this is the commonPool()*”. The simplest way to get rid of the worker threads, is to wait a few minutes. But there’s no advantage in doing so…","body":"@StephenC actually, no: <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ForkJoinPool.html#shutdown()\" rel=\"nofollow noreferrer\"><code>shutdown()</code></a>: “<i>Invocation has no effect on execution state if this is the commonPool()</i>”. The simplest way to get rid of the worker threads, is to wait a few minutes. But there’s no advantage in doing so…"},{"owner":{"account_id":947151,"reputation":1900,"user_id":974159,"accept_rate":100,"display_name":"Joe Smith"},"score":0,"creation_date":1678721869,"post_id":75718200,"comment_id":133584371,"body_markdown":"@holger, I waited 10 minutes and it doesn&#39;t seem to help. Am I doing it the wrong way (https://onlinegdb.com/QAj11GgGV)?","body":"@holger, I waited 10 minutes and it doesn&#39;t seem to help. Am I doing it the wrong way (<a href=\"https://onlinegdb.com/QAj11GgGV\" rel=\"nofollow noreferrer\">onlinegdb.com/QAj11GgGV</a>)?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1678723843,"post_id":75718200,"comment_id":133584957,"body_markdown":"It’s the purpose of a thread pool to reuse threads and hence, keep them alive for some time to be able to pick up new tasks. The exact policy is an implementation detail and may change between Java versions. It seems, you tested it in an environment which keeps at least one thread alive indefinitely. See also [ForkJoinPool performance Java 8 vs 11](https://stackoverflow.com/q/54084915/2711488)","body":"It’s the purpose of a thread pool to reuse threads and hence, keep them alive for some time to be able to pick up new tasks. The exact policy is an implementation detail and may change between Java versions. It seems, you tested it in an environment which keeps at least one thread alive indefinitely. See also <a href=\"https://stackoverflow.com/q/54084915/2711488\">ForkJoinPool performance Java 8 vs 11</a>"}],"owner":{"account_id":947151,"reputation":1900,"user_id":974159,"accept_rate":100,"display_name":"Joe Smith"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1678684234,"creation_date":1678683920,"question_id":75718200,"body_markdown":"There are some leftover ForkJoinPool worker threads after calling parallelStream(). They probably don&#39;t do any harm but I&#39;m wondering whether there is a way to get rid of them technically. \r\n\r\nSample code:\r\n```\r\nimport java.util.*;\r\n\r\npublic class Main\r\n{\r\n    public void test() {\r\n\t\tList&lt;String&gt; names = Arrays.asList(&quot;Alex&quot;, &quot;Bob&quot;, &quot;Cathy&quot;, &quot;David&quot;);\r\n\t\t\r\n\t\tprintThreads();\r\n\t\tnames.parallelStream().forEach(name -&gt; {\r\n\t\t    if (name.length() &lt; 5) {\r\n\t\t        System.out.println(String.format(&quot;Short name = %s&quot;, name));\r\n\t\t    }\r\n\t\t});\r\n\t\tprintThreads();\r\n    }\r\n    \r\n    public void printThreads() {\r\n\t\tThread thread = Thread.currentThread();\r\n        Thread[] listThreads = new Thread[thread.getThreadGroup().activeCount()];\r\n        thread.getThreadGroup().enumerate(listThreads);\r\n        System.out.println(String.format(&quot;List of threads: %s&quot;, Arrays.asList(listThreads)));\r\n    }\r\n    \r\n\tpublic static void main(String[] args) {\r\n\t\tnew Main().test();\r\n\t}\r\n}\r\n```\r\n\r\nOutput:\r\n```\r\nList of threads: [Thread[main,5,main]]\r\nShort name = Bob\r\nShort name = Alex\r\nList of threads: [Thread[main,5,main], Thread[ForkJoinPool.commonPool-worker-3,5,main]]\r\n```\r\n\r\nOnlinegdb link: https://onlinegdb.com/c2F_Tc1ko\r\n\r\n","title":"How to get rid of the stray threads after calling parallelStream()","body":"<p>There are some leftover ForkJoinPool worker threads after calling parallelStream(). They probably don't do any harm but I'm wondering whether there is a way to get rid of them technically.</p>\n<p>Sample code:</p>\n<pre><code>import java.util.*;\n\npublic class Main\n{\n    public void test() {\n        List&lt;String&gt; names = Arrays.asList(&quot;Alex&quot;, &quot;Bob&quot;, &quot;Cathy&quot;, &quot;David&quot;);\n        \n        printThreads();\n        names.parallelStream().forEach(name -&gt; {\n            if (name.length() &lt; 5) {\n                System.out.println(String.format(&quot;Short name = %s&quot;, name));\n            }\n        });\n        printThreads();\n    }\n    \n    public void printThreads() {\n        Thread thread = Thread.currentThread();\n        Thread[] listThreads = new Thread[thread.getThreadGroup().activeCount()];\n        thread.getThreadGroup().enumerate(listThreads);\n        System.out.println(String.format(&quot;List of threads: %s&quot;, Arrays.asList(listThreads)));\n    }\n    \n    public static void main(String[] args) {\n        new Main().test();\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>List of threads: [Thread[main,5,main]]\nShort name = Bob\nShort name = Alex\nList of threads: [Thread[main,5,main], Thread[ForkJoinPool.commonPool-worker-3,5,main]]\n</code></pre>\n<p>Onlinegdb link: <a href=\"https://onlinegdb.com/c2F_Tc1ko\" rel=\"nofollow noreferrer\">https://onlinegdb.com/c2F_Tc1ko</a></p>\n"},{"tags":["java","regex"],"answers":[{"comments":[{"owner":{"account_id":13025,"reputation":18196,"user_id":25949,"accept_rate":67,"display_name":"Nivas"},"score":0,"creation_date":1283842843,"post_id":3652309,"comment_id":3845965,"body_markdown":"I want to match any string that starts with &quot;User Comments&quot;, and the string can contain newlines also. So I used the pattern `User Comments: [\\\\s\\\\S]*` and this worked. (thanks!) From the answer of @Tim I got the pattern `User Comments:(.*)`, this is also ok Now, is there a *recommended* or *better* way among these, or are these just two ways of doing the same?","body":"I want to match any string that starts with &quot;User Comments&quot;, and the string can contain newlines also. So I used the pattern <code>User Comments: [\\\\s\\\\S]*</code> and this worked. (thanks!) From the answer of @Tim I got the pattern <code>User Comments:(.*)</code>, this is also ok Now, is there a <i>recommended</i> or <i>better</i> way among these, or are these just two ways of doing the same?"},{"owner":{"account_id":55219,"reputation":58950,"user_id":165297,"accept_rate":75,"display_name":"Amarghosh"},"score":0,"creation_date":1283848702,"post_id":3652309,"comment_id":3846716,"body_markdown":"@Nivas I don&#39;t think there would be any difference performance wise; but I think `(.*)` along with `DOTALL` flag is more obvious/readable than `([\\\\s\\\\S]*)`","body":"@Nivas I don&#39;t think there would be any difference performance wise; but I think <code>(.*)</code> along with <code>DOTALL</code> flag is more obvious/readable than <code>([\\\\s\\\\S]*)</code>"},{"owner":{"account_id":333399,"reputation":2830,"user_id":659246,"accept_rate":76,"display_name":"GoldBishop"},"score":0,"creation_date":1521646380,"post_id":3652309,"comment_id":85822513,"body_markdown":"This is the best answer....provides both access to Java code and Pattern String options, for MultiLine capability.","body":"This is the best answer....provides both access to Java code and Pattern String options, for MultiLine capability."}],"tags":[],"owner":{"account_id":55219,"reputation":58950,"user_id":165297,"accept_rate":75,"display_name":"Amarghosh"},"comment_count":3,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1283785808,"creation_date":1283784249,"answer_id":3652309,"question_id":3651725,"body_markdown":"`str.matches(regex)` [behaves like][1] `Pattern.matches(regex,  str)` which attempts to match the entire input sequence against the pattern and returns\r\n&gt;`true` if, and only if, the __entire__ input sequence matches this matcher&#39;s pattern\r\n\r\nWhereas `matcher.find()` [attempts to find][2] the next subsequence of the input sequence that matches the pattern and returns \r\n&gt;`true` if, and only if, a **subsequence** of the input sequence matches this matcher&#39;s pattern\r\n\r\nThus the problem is with the regex. Try the following.\r\n\r\n    String test = &quot;User Comments: This is \\t a\\ta \\ntest\\n\\n message \\n&quot;;\r\n\r\n    String pattern1 = &quot;User Comments: [\\\\s\\\\S]*^test$[\\\\s\\\\S]*&quot;;\r\n    Pattern p = Pattern.compile(pattern1, Pattern.MULTILINE);\r\n    System.out.println(p.matcher(test).find());  //true\r\n\r\n    String pattern2 = &quot;(?m)User Comments: [\\\\s\\\\S]*^test$[\\\\s\\\\S]*&quot;;\r\n    System.out.println(test.matches(pattern2));  //true\r\n\r\nThus in short, the `(\\\\W)*(\\\\S)*` portion in your first regex matches an empty string as `*` means zero or more occurrences and the real matched string is `User Comments: ` and not the whole string as you&#39;d expect. The second one fails as it tries to match the whole string but it can&#39;t as `\\\\W` matches a non word character, ie `[^a-zA-Z0-9_]` and the first character is `T`, a word character.\r\n\r\n  [1]: http://download.oracle.com/javase/1.4.2/docs/api/java/lang/String.html#matches%28java.lang.String%29\r\n  [2]: http://download.oracle.com/javase/1.4.2/docs/api/java/util/regex/Matcher.html#find%28%29","title":"Match multiline text using regular expression","body":"<p><code>str.matches(regex)</code> <a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/lang/String.html#matches%28java.lang.String%29\" rel=\"noreferrer\">behaves like</a> <code>Pattern.matches(regex,  str)</code> which attempts to match the entire input sequence against the pattern and returns</p>\n\n<blockquote>\n  <p><code>true</code> if, and only if, the <strong>entire</strong> input sequence matches this matcher's pattern</p>\n</blockquote>\n\n<p>Whereas <code>matcher.find()</code> <a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/util/regex/Matcher.html#find%28%29\" rel=\"noreferrer\">attempts to find</a> the next subsequence of the input sequence that matches the pattern and returns </p>\n\n<blockquote>\n  <p><code>true</code> if, and only if, a <strong>subsequence</strong> of the input sequence matches this matcher's pattern</p>\n</blockquote>\n\n<p>Thus the problem is with the regex. Try the following.</p>\n\n<pre><code>String test = \"User Comments: This is \\t a\\ta \\ntest\\n\\n message \\n\";\n\nString pattern1 = \"User Comments: [\\\\s\\\\S]*^test$[\\\\s\\\\S]*\";\nPattern p = Pattern.compile(pattern1, Pattern.MULTILINE);\nSystem.out.println(p.matcher(test).find());  //true\n\nString pattern2 = \"(?m)User Comments: [\\\\s\\\\S]*^test$[\\\\s\\\\S]*\";\nSystem.out.println(test.matches(pattern2));  //true\n</code></pre>\n\n<p>Thus in short, the <code>(\\\\W)*(\\\\S)*</code> portion in your first regex matches an empty string as <code>*</code> means zero or more occurrences and the real matched string is <code>User Comments:</code> and not the whole string as you'd expect. The second one fails as it tries to match the whole string but it can't as <code>\\\\W</code> matches a non word character, ie <code>[^a-zA-Z0-9_]</code> and the first character is <code>T</code>, a word character.</p>\n"},{"comments":[{"owner":{"account_id":13025,"reputation":18196,"user_id":25949,"accept_rate":67,"display_name":"Nivas"},"score":0,"creation_date":1283794277,"post_id":3652392,"comment_id":3842079,"body_markdown":"I am trying to find a pattern that would match any string that starts with &quot;User Comments:&quot;. After this &quot;User Comments:&quot; is something a user enters in a textarea, and therefore can contain *anything* - even new lines. Looks like I need to learn a lot in regex...","body":"I am trying to find a pattern that would match any string that starts with &quot;User Comments:&quot;. After this &quot;User Comments:&quot; is something a user enters in a textarea, and therefore can contain <i>anything</i> - even new lines. Looks like I need to learn a lot in regex..."},{"owner":{"account_id":13025,"reputation":18196,"user_id":25949,"accept_rate":67,"display_name":"Nivas"},"score":3,"creation_date":1283843136,"post_id":3652392,"comment_id":3845994,"body_markdown":"This works (thanks!) I tried the pattern `(?s)User Comments:\\s*(.*)` . From the answer of @Amarghosh I got the pattern `User Comments: [\\\\s\\\\S]*`. Among these is there a *better* or *recommended* way or are these just two different ways of doing the same?","body":"This works (thanks!) I tried the pattern <code>(?s)User Comments:\\s*(.*)</code> . From the answer of @Amarghosh I got the pattern <code>User Comments: [\\\\s\\\\S]*</code>. Among these is there a <i>better</i> or <i>recommended</i> way or are these just two different ways of doing the same?"},{"owner":{"account_id":10843,"reputation":330387,"user_id":20670,"accept_rate":100,"display_name":"Tim Pietzcker"},"score":3,"creation_date":1283845439,"post_id":3652392,"comment_id":3846285,"body_markdown":"They both mean the same; `[\\s\\S]` is a bit more explicit (&quot;match any character that is either whitespace or non-whitespace&quot;), `.` is easier to read, but you need to look for the `(?s)` or `DOTALL` modifier in order to find out whether newlines are included or not. I&#39;d prefer `.` with the `Pattern.DOTALL` flag set (this is easier to read and remember than `(?s)` in my opinion. You should use what you feel most comfortable with.","body":"They both mean the same; <code>[\\s\\S]</code> is a bit more explicit (&quot;match any character that is either whitespace or non-whitespace&quot;), <code>.</code> is easier to read, but you need to look for the <code>(?s)</code> or <code>DOTALL</code> modifier in order to find out whether newlines are included or not. I&#39;d prefer <code>.</code> with the <code>Pattern.DOTALL</code> flag set (this is easier to read and remember than <code>(?s)</code> in my opinion. You should use what you feel most comfortable with."},{"owner":{"account_id":55219,"reputation":58950,"user_id":165297,"accept_rate":75,"display_name":"Amarghosh"},"score":0,"creation_date":1283848860,"post_id":3652392,"comment_id":3846744,"body_markdown":"`.*` with `DOTALL` is more readable. I used the other one to show that the issue is in the differences between str.matches and matcher.find and not the flags. +1","body":"<code>.*</code> with <code>DOTALL</code> is more readable. I used the other one to show that the issue is in the differences between str.matches and matcher.find and not the flags. +1"},{"owner":{"account_id":13025,"reputation":18196,"user_id":25949,"accept_rate":67,"display_name":"Nivas"},"score":0,"creation_date":1283934888,"post_id":3652392,"comment_id":3857639,"body_markdown":"I prefer `.*` with `Pattern.DOTALL`, but will have to go with (?s) because I have to use `String.matches`.","body":"I prefer <code>.*</code> with <code>Pattern.DOTALL</code>, but will have to go with (?s) because I have to use <code>String.matches</code>."},{"owner":{"account_id":86093,"reputation":9573,"user_id":239657,"display_name":"Beni Cherniavsky-Paskin"},"score":0,"creation_date":1563199800,"post_id":3652392,"comment_id":100610785,"body_markdown":"https://www.regular-expressions.info/dot.html has comprehensive background on `.`  and what DOTALL is called in various languages.","body":"<a href=\"https://www.regular-expressions.info/dot.html\" rel=\"nofollow noreferrer\">regular-expressions.info/dot.html</a> has comprehensive background on <code>.</code>  and what DOTALL is called in various languages."},{"owner":{"account_id":6009919,"reputation":547,"user_id":4720669,"display_name":"Aakash Patel"},"score":0,"creation_date":1597821223,"post_id":3652392,"comment_id":112254862,"body_markdown":"I am using @Pattern annotation on variable to match regex on pattern: [a-zA-Z0-9]*[0-9a-zA-Z,/. -]* \ncan you please tell me what can i do to allow multi line string ?","body":"I am using @Pattern annotation on variable to match regex on pattern: [a-zA-Z0-9]*[0-9a-zA-Z,/. -]*  can you please tell me what can i do to allow multi line string ?"}],"tags":[],"owner":{"account_id":10843,"reputation":330387,"user_id":20670,"accept_rate":100,"display_name":"Tim Pietzcker"},"comment_count":7,"down_vote_count":0,"up_vote_count":358,"is_accepted":true,"score":358,"last_activity_date":1283939147,"creation_date":1283784931,"answer_id":3652392,"question_id":3651725,"body_markdown":"First, you&#39;re using the modifiers under an incorrect assumption.\r\n\r\n`Pattern.MULTILINE` or `(?m)` tells Java to accept the anchors `^` and `$` to match at the start and end of each line (otherwise they only match at the start/end of the entire string).\r\n\r\n`Pattern.DOTALL` or `(?s)` tells Java to allow the dot to match newline characters, too.\r\n\r\nSecond, in your case, the regex fails because you&#39;re using the `matches()` method which expects the regex to match the *entire* string - which of course doesn&#39;t work since there are some characters left after `(\\\\W)*(\\\\S)*` have matched.\r\n\r\nSo if you&#39;re simply looking for a string that starts with `User Comments:`, use the regex\r\n\r\n    ^\\s*User Comments:\\s*(.*)\r\n\r\nwith the `Pattern.DOTALL` option:\r\n\r\n\tPattern regex = Pattern.compile(&quot;^\\\\s*User Comments:\\\\s+(.*)&quot;, Pattern.DOTALL);\r\n\tMatcher regexMatcher = regex.matcher(subjectString);\r\n\tif (regexMatcher.find()) {\r\n\t\tResultString = regexMatcher.group(1);\r\n\t} \r\n\r\n`ResultString` will then contain the text after `User Comments:`","title":"Match multiline text using regular expression","body":"<p>First, you're using the modifiers under an incorrect assumption.</p>\n\n<p><code>Pattern.MULTILINE</code> or <code>(?m)</code> tells Java to accept the anchors <code>^</code> and <code>$</code> to match at the start and end of each line (otherwise they only match at the start/end of the entire string).</p>\n\n<p><code>Pattern.DOTALL</code> or <code>(?s)</code> tells Java to allow the dot to match newline characters, too.</p>\n\n<p>Second, in your case, the regex fails because you're using the <code>matches()</code> method which expects the regex to match the <em>entire</em> string - which of course doesn't work since there are some characters left after <code>(\\\\W)*(\\\\S)*</code> have matched.</p>\n\n<p>So if you're simply looking for a string that starts with <code>User Comments:</code>, use the regex</p>\n\n<pre><code>^\\s*User Comments:\\s*(.*)\n</code></pre>\n\n<p>with the <code>Pattern.DOTALL</code> option:</p>\n\n<pre><code>Pattern regex = Pattern.compile(\"^\\\\s*User Comments:\\\\s+(.*)\", Pattern.DOTALL);\nMatcher regexMatcher = regex.matcher(subjectString);\nif (regexMatcher.find()) {\n    ResultString = regexMatcher.group(1);\n} \n</code></pre>\n\n<p><code>ResultString</code> will then contain the text after <code>User Comments:</code></p>\n"},{"comments":[{"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"score":6,"creation_date":1354557479,"post_id":3652402,"comment_id":18794322,"body_markdown":"Hard to believe they used the method name &quot;#matches&quot; to mean &quot;matches all&quot; yikes","body":"Hard to believe they used the method name &quot;#matches&quot; to mean &quot;matches all&quot; yikes"},{"owner":{"account_id":984229,"reputation":171,"user_id":1003157,"display_name":"Raymond Naseef"},"score":0,"creation_date":1582401145,"post_id":3652402,"comment_id":106767759,"body_markdown":"@alan-moore Sorry I down this even though it is correct [ need more sleep :) ]","body":"@alan-moore Sorry I down this even though it is correct [ need more sleep :) ]"}],"tags":[],"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"comment_count":2,"down_vote_count":1,"up_vote_count":51,"is_accepted":false,"score":50,"last_activity_date":1383859599,"creation_date":1283785029,"answer_id":3652402,"question_id":3651725,"body_markdown":"This has nothing to do with the MULTILINE flag; what you&#39;re seeing is the difference between the `find()` and `matches()` methods.  `find()` succeeds if a match can be found *anywhere in the target string*, while `matches()` expects the regex to match *the entire string*.\r\n\r\n    Pattern p = Pattern.compile(&quot;xyz&quot;);\r\n\r\n    Matcher m = p.matcher(&quot;123xyzabc&quot;);\r\n    System.out.println(m.find());    // true\r\n    System.out.println(m.matches()); // false\r\n\r\n    Matcher m = p.matcher(&quot;xyz&quot;);\r\n    System.out.println(m.matches()); // true\r\n    \r\n\r\nFurthermore, `MULTILINE` doesn&#39;t mean what you think it does.  Many people seem to jump to the conclusion that you have to use that flag if your target string contains newlines--that is, if it contains multiple logical lines.  I&#39;ve seen several answers here on SO to that effect, but in fact, all that flag does is change the behavior of the anchors, `^` and `$`.  \r\n\r\nNormally `^` matches the very beginning of the target string, and `$` matches the very end (or before a newline at the end, but we&#39;ll leave that aside for now).  But if the string contains newlines, you can choose for `^` and `$` to match at the start and end of any logical line, not just the start and end of the whole string, by setting the MULTILINE flag.\r\n\r\nSo forget about what `MULTILINE` *means* and just remember what it *does*: changes the behavior of the `^` and `$` anchors.  `DOTALL` mode was originally called &quot;single-line&quot; (and still is in some flavors, including Perl and .NET), and it has always caused similar confusion.  We&#39;re fortunate that the Java devs went with the more descriptive name in that case, but there was no reasonable alternative for &quot;multiline&quot; mode.  \r\n\r\nIn Perl, where all this madness started, they&#39;ve admitted their mistake and gotten rid of both &quot;multiline&quot; and &quot;single-line&quot; modes in Perl 6 regexes.  In another twenty years, maybe the rest of the world will have followed suit.","title":"Match multiline text using regular expression","body":"<p>This has nothing to do with the MULTILINE flag; what you're seeing is the difference between the <code>find()</code> and <code>matches()</code> methods.  <code>find()</code> succeeds if a match can be found <em>anywhere in the target string</em>, while <code>matches()</code> expects the regex to match <em>the entire string</em>.</p>\n\n<pre><code>Pattern p = Pattern.compile(\"xyz\");\n\nMatcher m = p.matcher(\"123xyzabc\");\nSystem.out.println(m.find());    // true\nSystem.out.println(m.matches()); // false\n\nMatcher m = p.matcher(\"xyz\");\nSystem.out.println(m.matches()); // true\n</code></pre>\n\n<p>Furthermore, <code>MULTILINE</code> doesn't mean what you think it does.  Many people seem to jump to the conclusion that you have to use that flag if your target string contains newlines--that is, if it contains multiple logical lines.  I've seen several answers here on SO to that effect, but in fact, all that flag does is change the behavior of the anchors, <code>^</code> and <code>$</code>.  </p>\n\n<p>Normally <code>^</code> matches the very beginning of the target string, and <code>$</code> matches the very end (or before a newline at the end, but we'll leave that aside for now).  But if the string contains newlines, you can choose for <code>^</code> and <code>$</code> to match at the start and end of any logical line, not just the start and end of the whole string, by setting the MULTILINE flag.</p>\n\n<p>So forget about what <code>MULTILINE</code> <em>means</em> and just remember what it <em>does</em>: changes the behavior of the <code>^</code> and <code>$</code> anchors.  <code>DOTALL</code> mode was originally called \"single-line\" (and still is in some flavors, including Perl and .NET), and it has always caused similar confusion.  We're fortunate that the Java devs went with the more descriptive name in that case, but there was no reasonable alternative for \"multiline\" mode.  </p>\n\n<p>In Perl, where all this madness started, they've admitted their mistake and gotten rid of both \"multiline\" and \"single-line\" modes in Perl 6 regexes.  In another twenty years, maybe the rest of the world will have followed suit.</p>\n"},{"tags":[],"owner":{"account_id":6877843,"reputation":3426,"user_id":5476516,"accept_rate":100,"display_name":"Yehuda Schwartz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1541019224,"creation_date":1541019224,"answer_id":53091807,"question_id":3651725,"body_markdown":"The multiline flag tells regex to match the pattern to each line as opposed to the entire string for your purposes a wild card will suffice.","title":"Match multiline text using regular expression","body":"<p>The multiline flag tells regex to match the pattern to each line as opposed to the entire string for your purposes a wild card will suffice.</p>\n"}],"owner":{"account_id":13025,"reputation":18196,"user_id":25949,"accept_rate":67,"display_name":"Nivas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":254784,"favorite_count":0,"down_vote_count":0,"up_vote_count":202,"accepted_answer_id":3652392,"answer_count":4,"score":202,"last_activity_date":1678684215,"creation_date":1283778855,"question_id":3651725,"body_markdown":"I am trying to match a multi line text using Java. When I use the `Pattern` class with the `Pattern.MULTILINE` modifier, I am able to match, but I am not able to do so with `(?m).`\r\n\r\nThe same pattern with `(?m)` and using `String.matches` does not seem to work. I am sure I am missing something, but no idea what.\r\n\r\nThis is what I tried:\r\n\r\n    String test = &quot;User Comments: This is \\t a\\ta \\n test \\n\\n message \\n&quot;;\r\n    \t\t\r\n    String pattern1 = &quot;User Comments: (\\\\W)*(\\\\S)*&quot;;\r\n    Pattern p = Pattern.compile(pattern1, Pattern.MULTILINE);\r\n    System.out.println(p.matcher(test).find());  //true\r\n    \r\n    String pattern2 = &quot;(?m)User Comments: (\\\\W)*(\\\\S)*&quot;;\r\n    System.out.println(test.matches(pattern2));  //false - why?\r\n\r\n","title":"Match multiline text using regular expression","body":"<p>I am trying to match a multi line text using Java. When I use the <code>Pattern</code> class with the <code>Pattern.MULTILINE</code> modifier, I am able to match, but I am not able to do so with <code>(?m).</code></p>\n<p>The same pattern with <code>(?m)</code> and using <code>String.matches</code> does not seem to work. I am sure I am missing something, but no idea what.</p>\n<p>This is what I tried:</p>\n<pre><code>String test = &quot;User Comments: This is \\t a\\ta \\n test \\n\\n message \\n&quot;;\n        \nString pattern1 = &quot;User Comments: (\\\\W)*(\\\\S)*&quot;;\nPattern p = Pattern.compile(pattern1, Pattern.MULTILINE);\nSystem.out.println(p.matcher(test).find());  //true\n\nString pattern2 = &quot;(?m)User Comments: (\\\\W)*(\\\\S)*&quot;;\nSystem.out.println(test.matches(pattern2));  //false - why?\n</code></pre>\n"},{"tags":["java","templates","generics","integer"],"owner":{"account_id":4088741,"reputation":6300,"user_id":3357352,"accept_rate":97,"display_name":"OrenIshShalom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678684301,"answer_count":0,"score":0,"last_activity_date":1678684020,"creation_date":1678684020,"question_id":75718206,"body_markdown":"Many questions about the differences between `int` and `Integer` in java ([one example][1]). Still, I couldn&#39;t find any reference why `int` is forbidden as a template type argument:\r\n```\r\nimport java.util.ArrayList;\r\n\r\nclass Main {\r\n    public static void main(String[] args) {\r\n        // ArrayList&lt;Integer&gt; a = new ArrayList&lt;Integer&gt;();\r\n        ArrayList&lt;int&gt; a = new ArrayList&lt;int&gt;();\r\n        a.add(2);\r\n        a.add(4);\r\n        System.out.println(a);\r\n    }\r\n}\r\n```\r\nHere is the compilation error I get:\r\n```\r\n$ javac Main.java\r\nMain.java:6: error: unexpected type\r\n        ArrayList&lt;int&gt; a = new ArrayList&lt;int&gt;();\r\n                  ^\r\n  required: reference\r\n  found:    int\r\nMain.java:6: error: unexpected type\r\n        ArrayList&lt;int&gt; a = new ArrayList&lt;int&gt;();\r\n                                         ^\r\n  required: reference\r\n  found:    int\r\n2 errors\r\n```\r\nWhen I use an `Integer` instead (commented line) everything is fine\r\n\r\n  [1]: https://stackoverflow.com/questions/8660691/what-is-the-difference-between-integer-and-int-in-java","title":"int as invalid template argument","body":"<p>Many questions about the differences between <code>int</code> and <code>Integer</code> in java (<a href=\"https://stackoverflow.com/questions/8660691/what-is-the-difference-between-integer-and-int-in-java\">one example</a>). Still, I couldn't find any reference why <code>int</code> is forbidden as a template type argument:</p>\n<pre><code>import java.util.ArrayList;\n\nclass Main {\n    public static void main(String[] args) {\n        // ArrayList&lt;Integer&gt; a = new ArrayList&lt;Integer&gt;();\n        ArrayList&lt;int&gt; a = new ArrayList&lt;int&gt;();\n        a.add(2);\n        a.add(4);\n        System.out.println(a);\n    }\n}\n</code></pre>\n<p>Here is the compilation error I get:</p>\n<pre><code>$ javac Main.java\nMain.java:6: error: unexpected type\n        ArrayList&lt;int&gt; a = new ArrayList&lt;int&gt;();\n                  ^\n  required: reference\n  found:    int\nMain.java:6: error: unexpected type\n        ArrayList&lt;int&gt; a = new ArrayList&lt;int&gt;();\n                                         ^\n  required: reference\n  found:    int\n2 errors\n</code></pre>\n<p>When I use an <code>Integer</code> instead (commented line) everything is fine</p>\n"},{"tags":["java","selenium-webdriver","junit"],"answers":[{"tags":[],"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678683723,"creation_date":1678683723,"answer_id":75718186,"question_id":75716760,"body_markdown":"Somewhere in your code you have\r\n\r\n    By.className(&quot;x y z&quot;)\r\n\r\nwhere X, Y, and Z are class names. Change it to\r\n\r\n    By.cssSelector(&quot;.x.y.z&quot;)\r\n\r\n`By.className()` takes only a single class and you&#39;ve passed it more than one. Change it to a CSS selector or remove all but one class name.","title":"Compound class names not permitted error, Selenium, Java","body":"<p>Somewhere in your code you have</p>\n<pre><code>By.className(&quot;x y z&quot;)\n</code></pre>\n<p>where X, Y, and Z are class names. Change it to</p>\n<pre><code>By.cssSelector(&quot;.x.y.z&quot;)\n</code></pre>\n<p><code>By.className()</code> takes only a single class and you've passed it more than one. Change it to a CSS selector or remove all but one class name.</p>\n"}],"owner":{"account_id":28001043,"reputation":1,"user_id":21385324,"display_name":"Diana Karapetyan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1678683723,"creation_date":1678660158,"question_id":75716760,"body_markdown":"My tests passed. Soddenly it gave an error after Chrome update. After what I add  dependency  \r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-http-jdk-client&lt;/artifactId&gt;\r\n            &lt;version&gt;4.8.1&lt;/version&gt;\r\n        &lt;/dependency&gt;    and System.setProperty(&quot;webdriver.http.factory&quot;, &quot;jdk-http-client&quot;);  before Webdriver, \r\n\r\nNow My tests some passed but some I got this error\r\n\r\norg.openqa.selenium.InvalidSelectorException: Compound class names not permitted\r\nFor documentation on this error, please visit: https://selenium.dev/exceptions/#invalid_selector_exception\r\nBuild info: version: &#39;4.8.1&#39;, revision: &#39;8ebccac989&#39;","title":"Compound class names not permitted error, Selenium, Java","body":"<p>My tests passed. Soddenly it gave an error after Chrome update. After what I add  dependency</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-http-jdk-client&lt;/artifactId&gt;\n        &lt;version&gt;4.8.1&lt;/version&gt;\n    &lt;/dependency&gt;    and System.setProperty(&quot;webdriver.http.factory&quot;, &quot;jdk-http-client&quot;);  before Webdriver, \n</code></pre>\n<p>Now My tests some passed but some I got this error</p>\n<p>org.openqa.selenium.InvalidSelectorException: Compound class names not permitted\nFor documentation on this error, please visit: <a href=\"https://selenium.dev/exceptions/#invalid_selector_exception\" rel=\"nofollow noreferrer\">https://selenium.dev/exceptions/#invalid_selector_exception</a>\nBuild info: version: '4.8.1', revision: '8ebccac989'</p>\n"},{"tags":["java","intellij-idea","jvm-arguments"],"comments":[{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1678698360,"post_id":75712939,"comment_id":133577087,"body_markdown":"What encoding is set in &quot;Settings/Preferences | Editor | File Encodings&quot;?","body":"What encoding is set in &quot;Settings/Preferences | Editor | File Encodings&quot;?"},{"owner":{"account_id":27707843,"reputation":1,"user_id":21151104,"display_name":"İsmail Bal"},"score":0,"creation_date":1678727868,"post_id":75712939,"comment_id":133586188,"body_markdown":"-Global Encoding: UTF-8\n-Project Encoding: System default windows-1254\n-src\\main\\java: UTF-8","body":"-Global Encoding: UTF-8 -Project Encoding: System default windows-1254 -src\\main\\java: UTF-8"},{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1679305123,"post_id":75712939,"comment_id":133691195,"body_markdown":"Does it help to switch project encoding to UTF-8? Also you  may pass VM options used in Maven to IDE build in &quot;Settings/Preferences | Build, Execution, Deployment | Compiler&quot;","body":"Does it help to switch project encoding to UTF-8? Also you  may pass VM options used in Maven to IDE build in &quot;Settings/Preferences | Build, Execution, Deployment | Compiler&quot;"},{"owner":{"account_id":27707843,"reputation":1,"user_id":21151104,"display_name":"İsmail Bal"},"score":0,"creation_date":1679852529,"post_id":75712939,"comment_id":133791084,"body_markdown":"No it doensn&#39;t work. When i try to build it with UTF-8 it creates problematic char and when i try to build it with windows-1254, it makes small &#39;i&#39; letter &#39;İ&#39; which is included in Turkish alphabet but I just want to build and run it by configuring it&#39;s language en-US","body":"No it doensn&#39;t work. When i try to build it with UTF-8 it creates problematic char and when i try to build it with windows-1254, it makes small &#39;i&#39; letter &#39;İ&#39; which is included in Turkish alphabet but I just want to build and run it by configuring it&#39;s language en-US"},{"owner":{"account_id":27707843,"reputation":1,"user_id":21151104,"display_name":"İsmail Bal"},"score":0,"creation_date":1679856097,"post_id":75712939,"comment_id":133791659,"body_markdown":"I think best solution for now, is running project with maven command  [mvn spring-boot:run + -Duser.language=en-US]","body":"I think best solution for now, is running project with maven command  [mvn spring-boot:run + -Duser.language=en-US]"},{"owner":{"account_id":27707843,"reputation":1,"user_id":21151104,"display_name":"İsmail Bal"},"score":0,"creation_date":1697625003,"post_id":75712939,"comment_id":136302455,"body_markdown":"I set my Idea Vm Options by adding &quot;Duser.language=en&quot; and it worked properly","body":"I set my Idea Vm Options by adding &quot;Duser.language=en&quot; and it worked properly"}],"owner":{"account_id":27707843,"reputation":1,"user_id":21151104,"display_name":"İsmail Bal"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678683227,"creation_date":1678622198,"question_id":75712939,"body_markdown":"I am using hibernate-jpamodelgen to generate static classes for my entities. When I run &quot;mvn clean install&quot; with vm options &quot;-Duser.language=en -Duser.country=US&quot;, the classes are generated correctly, but when I run &quot;build and run&quot; command in Intellij Idea, it builds project and generates problematic characters in static files. My default Locale is tr_TR.\r\n\r\nproblematic-character\r\n\r\n\r\n![1](https://i.stack.imgur.com/YdBwo.png)\r\n\r\n\r\nFor now, i can run the project by build with maven [&quot;clean install&quot; + vm options] configuration in Intellij and run it with [Do not build before run] option in Intellij. How can I configure the project structure and settings to ensure proper build operation of the project and generate proper classes","title":"How can i build my spring boot project by setting the project locale manually","body":"<p>I am using hibernate-jpamodelgen to generate static classes for my entities. When I run &quot;mvn clean install&quot; with vm options &quot;-Duser.language=en -Duser.country=US&quot;, the classes are generated correctly, but when I run &quot;build and run&quot; command in Intellij Idea, it builds project and generates problematic characters in static files. My default Locale is tr_TR.</p>\n<p>problematic-character</p>\n<p><img src=\"https://i.stack.imgur.com/YdBwo.png\" alt=\"1\" /></p>\n<p>For now, i can run the project by build with maven [&quot;clean install&quot; + vm options] configuration in Intellij and run it with [Do not build before run] option in Intellij. How can I configure the project structure and settings to ensure proper build operation of the project and generate proper classes</p>\n"},{"tags":["java","spring-boot","rest","google-chrome","preflight"],"comments":[{"owner":{"account_id":6152068,"reputation":3072,"user_id":4796214,"display_name":"marcel"},"score":0,"creation_date":1678369025,"post_id":75670788,"comment_id":133521527,"body_markdown":"Can you not simply enable CORS on your Java/Spring BE?","body":"Can you not simply enable CORS on your Java/Spring BE?"}],"owner":{"account_id":14263222,"reputation":1,"user_id":10303267,"display_name":"Gert Botha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":403,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678682815,"creation_date":1678264163,"question_id":75670788,"body_markdown":"I have added the **Access-Control-Allow-Private-Network: true** and under **Issues** tab the **&quot;Ensure private network requests are only made to resources that allow them&quot;** is not showing anymore but I am still getting the 2 prefight request were the first one always fails. \r\n\r\nIt blocks subsequent request until it fails normally 21.85 s\r\n\r\n[Network preflights request taking long](https://i.stack.imgur.com/5nwar.png)\r\n\r\n[Network preflights request image][1]\r\n\r\nI am not sure what else to do as I would not be able to change the chrome://flags/ to disable the:\r\nBlock insecure private network requests.\r\nSend Private Network Access preflights.\r\nImage of Network tab\r\n\r\nAlso on FireFox it is working perfect with no delays or 2 preflights request\r\n\r\nI have also seen the known bug error but it is still blocking subsequent request for 21.85 s.\r\n\r\nhttps://developer.chrome.com/blog/private-network-access-preflight/#what-is-private-network-access-pna\r\nIf your request would have triggered a regular CORS preflight without Private Network Access rules, then two preflights may appear in the network panel, with the first one always appearing to have failed. This is a known bug, and you can safely ignore it.\r\n\r\nAny help would be appreciated.\r\nThanks\r\n\r\nI have cors enabled\r\n\r\n```java\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.cors().configurationSource(corsConfigurationSource()).and().requestMatchers().antMatchers(&quot;/api/**&quot;).and()\r\n                .authorizeRequests() //\r\n                .antMatchers(&quot;/api/**&quot;).authenticated() //\r\n                .and().csrf().disable() //\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS) //\r\n                .and().oauth2ResourceServer().jwt().and().and() //\r\n                .addFilterBefore(preAuthenticatedFilter(), UsernamePasswordAuthenticationFilter.class)\r\n                .addFilterBefore(prePrivateNetworkFilter(), CorsFilter.class);\r\n    }\r\n\r\n\r\n    @Bean\r\n    CorsConfigurationSource corsConfigurationSource() {\r\n        CorsConfiguration configuration = new CorsConfiguration();\r\n        configuration.setAllowedOrigins(\r\n                Arrays.asList(&quot;https://...cloud&quot;, &quot;http://localhost:3000&quot;));\r\n        configuration.setAllowCredentials(true);\r\n        configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;PATCH&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;));\r\n        configuration.setAllowedHeaders(List.of(&quot;*&quot;));\r\n        configuration.setMaxAge(7200L);\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n        return source;\r\n    }\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/aURq8.png","title":"Preflight requests fail only in Chrome and Edge and then they work after few tries?","body":"<p>I have added the <strong>Access-Control-Allow-Private-Network: true</strong> and under <strong>Issues</strong> tab the <strong>&quot;Ensure private network requests are only made to resources that allow them&quot;</strong> is not showing anymore but I am still getting the 2 prefight request were the first one always fails.</p>\n<p>It blocks subsequent request until it fails normally 21.85 s</p>\n<p><a href=\"https://i.stack.imgur.com/5nwar.png\" rel=\"nofollow noreferrer\">Network preflights request taking long</a></p>\n<p><a href=\"https://i.stack.imgur.com/aURq8.png\" rel=\"nofollow noreferrer\">Network preflights request image</a></p>\n<p>I am not sure what else to do as I would not be able to change the chrome://flags/ to disable the:\nBlock insecure private network requests.\nSend Private Network Access preflights.\nImage of Network tab</p>\n<p>Also on FireFox it is working perfect with no delays or 2 preflights request</p>\n<p>I have also seen the known bug error but it is still blocking subsequent request for 21.85 s.</p>\n<p><a href=\"https://developer.chrome.com/blog/private-network-access-preflight/#what-is-private-network-access-pna\" rel=\"nofollow noreferrer\">https://developer.chrome.com/blog/private-network-access-preflight/#what-is-private-network-access-pna</a>\nIf your request would have triggered a regular CORS preflight without Private Network Access rules, then two preflights may appear in the network panel, with the first one always appearing to have failed. This is a known bug, and you can safely ignore it.</p>\n<p>Any help would be appreciated.\nThanks</p>\n<p>I have cors enabled</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.cors().configurationSource(corsConfigurationSource()).and().requestMatchers().antMatchers(&quot;/api/**&quot;).and()\n                .authorizeRequests() //\n                .antMatchers(&quot;/api/**&quot;).authenticated() //\n                .and().csrf().disable() //\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS) //\n                .and().oauth2ResourceServer().jwt().and().and() //\n                .addFilterBefore(preAuthenticatedFilter(), UsernamePasswordAuthenticationFilter.class)\n                .addFilterBefore(prePrivateNetworkFilter(), CorsFilter.class);\n    }\n\n\n    @Bean\n    CorsConfigurationSource corsConfigurationSource() {\n        CorsConfiguration configuration = new CorsConfiguration();\n        configuration.setAllowedOrigins(\n                Arrays.asList(&quot;https://...cloud&quot;, &quot;http://localhost:3000&quot;));\n        configuration.setAllowCredentials(true);\n        configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;PATCH&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;));\n        configuration.setAllowedHeaders(List.of(&quot;*&quot;));\n        configuration.setMaxAge(7200L);\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n        return source;\n    }\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3131499,"reputation":1797,"user_id":2649154,"accept_rate":93,"display_name":"gioravered"},"score":0,"creation_date":1678646889,"post_id":75714780,"comment_id":133569874,"body_markdown":"Can you please add the crash log?","body":"Can you please add the crash log?"},{"owner":{"account_id":8991716,"reputation":69,"user_id":11643080,"display_name":"iBRabbit"},"score":0,"creation_date":1678670710,"post_id":75714780,"comment_id":133573325,"body_markdown":"@gioravered I&#39;m sorry, I have edited the question with the crash log","body":"@gioravered I&#39;m sorry, I have edited the question with the crash log"},{"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1678681077,"post_id":75714780,"comment_id":133574332,"body_markdown":"I think the problem is that you are calling `getWritableDatabase()` in the constructor. This happens before `onCreate()` is called, so your database has not yet been created.","body":"I think the problem is that you are calling <code>getWritableDatabase()</code> in the constructor. This happens before <code>onCreate()</code> is called, so your database has not yet been created."}],"answers":[{"tags":[],"owner":{"account_id":22951635,"reputation":45,"user_id":17174960,"display_name":"Arya_"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678680647,"creation_date":1678680647,"answer_id":75717985,"question_id":75714780,"body_markdown":"I don&#39;t know why are you trying assign both ```getWritableDatabase()``` &amp; ```getReadableDatabase()``` to the same variable. I am recently working DbHandlers too, And from my little experience, I usually create **separate methods *(where I define it locally)*** for reading &amp; fetching data:-\r\n\r\nExample:-\r\n```\r\npublic void addQuestionToDatabase(Context context, Question question){\r\n        SQLiteDatabase db = getWritableDatabase();\r\n\r\n        // Whatever ur code is\r\n\r\n        Toast.makeText(context, &quot;Added to database&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n```\r\nAnd this:-\r\n```\r\npublic ArrayList&lt;Question&gt; fetchRecords(Context context){\r\n        ArrayList&lt;Question&gt; questionsSet = new ArrayList&lt;Question&gt;();\r\n        SQLiteDatabase db = getReadableDatabase();\r\n\r\n        //Your code here\r\n\r\n        return questionsSet;\r\n    }\r\n```\r\nOn side note; ***don&#39;t*** add ```db.close()``` if you&#39;re sure that you are gonna call these methods more than once.","title":"App is crashing when calling getWritableDatabase() on Database Constructor in Android","body":"<p>I don't know why are you trying assign both <code>getWritableDatabase()</code> &amp; <code>getReadableDatabase()</code> to the same variable. I am recently working DbHandlers too, And from my little experience, I usually create <strong>separate methods <em>(where I define it locally)</em></strong> for reading &amp; fetching data:-</p>\n<p>Example:-</p>\n<pre><code>public void addQuestionToDatabase(Context context, Question question){\n        SQLiteDatabase db = getWritableDatabase();\n\n        // Whatever ur code is\n\n        Toast.makeText(context, &quot;Added to database&quot;, Toast.LENGTH_SHORT).show();\n    }\n</code></pre>\n<p>And this:-</p>\n<pre><code>public ArrayList&lt;Question&gt; fetchRecords(Context context){\n        ArrayList&lt;Question&gt; questionsSet = new ArrayList&lt;Question&gt;();\n        SQLiteDatabase db = getReadableDatabase();\n\n        //Your code here\n\n        return questionsSet;\n    }\n</code></pre>\n<p>On side note; <em><strong>don't</strong></em> add <code>db.close()</code> if you're sure that you are gonna call these methods more than once.</p>\n"},{"tags":[],"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678681264,"creation_date":1678681264,"answer_id":75718026,"question_id":75714780,"body_markdown":"The problem is that you are calling `getWritableDatabase()` in the constructor of your `SQLiteOpenHelper` subclass. This constructor happens before `onCreate()` is called, so the database has not yet been created.\r\n\r\nInstead, you should call `getWriteableDatabase()` in another part of your code, such as in an Activity or Fragment where you create an instance of your `SQLiteOpenHelper`.\r\n\r\nOn a side note, I recommend that you look at Room API. This is an extremely powerful library for database access that is the modern way to do it.","title":"App is crashing when calling getWritableDatabase() on Database Constructor in Android","body":"<p>The problem is that you are calling <code>getWritableDatabase()</code> in the constructor of your <code>SQLiteOpenHelper</code> subclass. This constructor happens before <code>onCreate()</code> is called, so the database has not yet been created.</p>\n<p>Instead, you should call <code>getWriteableDatabase()</code> in another part of your code, such as in an Activity or Fragment where you create an instance of your <code>SQLiteOpenHelper</code>.</p>\n<p>On a side note, I recommend that you look at Room API. This is an extremely powerful library for database access that is the modern way to do it.</p>\n"}],"owner":{"account_id":8991716,"reputation":69,"user_id":11643080,"display_name":"iBRabbit"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1678681264,"creation_date":1678640097,"question_id":75714780,"body_markdown":"I just found that my app keep crashed when I called ```getWritableDatabase()``` method in my Database Class. Here is my code:\r\n\r\nMainActivity : \r\n```\r\npackage com.google.assignment_lab;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\n\r\nimport com.google.assignment_lab.database.UserTable;\r\n\r\n\r\npublic class MainActivity extends AppCompatActivity implements View.OnClickListener{\r\n\r\n    Button mainRegisterButton, mainLoginButton;\r\n    UserTable userTable = new UserTable(this);\r\n    @Override\r\n\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        mainRegisterButton = findViewById(R.id.mainRegisterButton);\r\n        mainLoginButton = findViewById(R.id.mainLoginButton);\r\n        mainRegisterButton.setOnClickListener(this);\r\n        mainLoginButton.setOnClickListener(this);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onClick(View view) {\r\n        Intent intent;\r\n\r\n        if(view == mainRegisterButton){\r\n            intent = new Intent(this, RegisterActivity.class);\r\n            startActivity(intent);\r\n        }\r\n\r\n        if(view == mainLoginButton){\r\n            intent = new Intent(this, LoginActivity.class);\r\n            startActivity(intent);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nUserTable.java: \r\n```\r\npackage com.google.assignment_lab.database;\r\n\r\nimport android.content.Context;\r\nimport android.database.sqlite.SQLiteDatabase;\r\nimport android.database.sqlite.SQLiteOpenHelper;\r\n\r\nimport androidx.annotation.Nullable;\r\n\r\npublic class UserTable  extends SQLiteOpenHelper {\r\n\r\n    public static String DATABASE_NAME = &quot;MyData&quot;;\r\n    public static int DATABASE_VERSION = 1;\r\n    public static String TABLE_NAME = &quot;Users&quot;;\r\n    Context context;\r\n    SQLiteDatabase database;\r\n\r\n    public UserTable(@Nullable Context context) {\r\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\r\n        this.context = context;\r\n        database = getWritableDatabase();\r\n        database = getReadableDatabase();\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(SQLiteDatabase sqLiteDatabase) {\r\n        String query = &quot;CREATE TABLE IF NOT EXISTS &quot; + TABLE_NAME + &quot; (username TEXT, password TEXT, email TEXT, phone TEXT)&quot;;\r\n        sqLiteDatabase.execSQL(query);\r\n    }\r\n\r\n    @Override\r\n    public void onUpgrade(SQLiteDatabase sqLiteDatabase, int i, int i1) {\r\n\r\n    }\r\n}\r\n```\r\n\r\nI tried to remove both getWritableDatabase() and getReadableDatabase() and the applications works properly. But the problem is, my user table never created as it on onCreate method. How can I solve this problem?\r\n\r\nThe error log : \r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.google.assignment_lab, PID: 8732\r\n    java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.google.assignment_lab/com.google.assignment_lab.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.io.File android.content.Context.getDatabasePath(java.lang.String)&#39; on a null object reference\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3551)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3782)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:101)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2307)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loopOnce(Looper.java:201)\r\n        at android.os.Looper.loop(Looper.java:288)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7872)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\r\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.io.File android.content.Context.getDatabasePath(java.lang.String)&#39; on a null object reference\r\n        at android.content.ContextWrapper.getDatabasePath(ContextWrapper.java:380)\r\n        at android.database.sqlite.SQLiteOpenHelper.getDatabaseLocked(SQLiteOpenHelper.java:370)\r\n        at android.database.sqlite.SQLiteOpenHelper.getWritableDatabase(SQLiteOpenHelper.java:316)\r\n        at com.google.assignment_lab.database.UserTable.&lt;init&gt;(UserTable.java:20)\r\n        at com.google.assignment_lab.MainActivity.&lt;init&gt;(MainActivity.java:16)\r\n        at java.lang.Class.newInstance(Native Method)\r\n        at android.app.AppComponentFactory.instantiateActivity(AppComponentFactory.java:95)\r\n        at androidx.core.app.CoreComponentFactory.instantiateActivity(CoreComponentFactory.java:45)\r\n        at android.app.Instrumentation.newActivity(Instrumentation.java:1339)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3538)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3782)&#160;\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:101)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2307)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n        at android.os.Looper.loopOnce(Looper.java:201)&#160;\r\n        at android.os.Looper.loop(Looper.java:288)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:7872)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)&#160;\r\n\r\n","title":"App is crashing when calling getWritableDatabase() on Database Constructor in Android","body":"<p>I just found that my app keep crashed when I called <code>getWritableDatabase()</code> method in my Database Class. Here is my code:</p>\n<p>MainActivity :</p>\n<pre><code>package com.google.assignment_lab;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\n\nimport com.google.assignment_lab.database.UserTable;\n\n\npublic class MainActivity extends AppCompatActivity implements View.OnClickListener{\n\n    Button mainRegisterButton, mainLoginButton;\n    UserTable userTable = new UserTable(this);\n    @Override\n\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        mainRegisterButton = findViewById(R.id.mainRegisterButton);\n        mainLoginButton = findViewById(R.id.mainLoginButton);\n        mainRegisterButton.setOnClickListener(this);\n        mainLoginButton.setOnClickListener(this);\n\n    }\n\n    @Override\n    public void onClick(View view) {\n        Intent intent;\n\n        if(view == mainRegisterButton){\n            intent = new Intent(this, RegisterActivity.class);\n            startActivity(intent);\n        }\n\n        if(view == mainLoginButton){\n            intent = new Intent(this, LoginActivity.class);\n            startActivity(intent);\n        }\n    }\n}\n</code></pre>\n<p>UserTable.java:</p>\n<pre><code>package com.google.assignment_lab.database;\n\nimport android.content.Context;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteOpenHelper;\n\nimport androidx.annotation.Nullable;\n\npublic class UserTable  extends SQLiteOpenHelper {\n\n    public static String DATABASE_NAME = &quot;MyData&quot;;\n    public static int DATABASE_VERSION = 1;\n    public static String TABLE_NAME = &quot;Users&quot;;\n    Context context;\n    SQLiteDatabase database;\n\n    public UserTable(@Nullable Context context) {\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\n        this.context = context;\n        database = getWritableDatabase();\n        database = getReadableDatabase();\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase sqLiteDatabase) {\n        String query = &quot;CREATE TABLE IF NOT EXISTS &quot; + TABLE_NAME + &quot; (username TEXT, password TEXT, email TEXT, phone TEXT)&quot;;\n        sqLiteDatabase.execSQL(query);\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase sqLiteDatabase, int i, int i1) {\n\n    }\n}\n</code></pre>\n<p>I tried to remove both getWritableDatabase() and getReadableDatabase() and the applications works properly. But the problem is, my user table never created as it on onCreate method. How can I solve this problem?</p>\n<p>The error log :</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.google.assignment_lab, PID: 8732\njava.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.google.assignment_lab/com.google.assignment_lab.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method 'java.io.File android.content.Context.getDatabasePath(java.lang.String)' on a null object reference\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3551)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3782)\n    at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:101)\n    at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n    at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2307)\n    at android.os.Handler.dispatchMessage(Handler.java:106)\n    at android.os.Looper.loopOnce(Looper.java:201)\n    at android.os.Looper.loop(Looper.java:288)\n    at android.app.ActivityThread.main(ActivityThread.java:7872)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\n Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'java.io.File android.content.Context.getDatabasePath(java.lang.String)' on a null object reference\n    at android.content.ContextWrapper.getDatabasePath(ContextWrapper.java:380)\n    at android.database.sqlite.SQLiteOpenHelper.getDatabaseLocked(SQLiteOpenHelper.java:370)\n    at android.database.sqlite.SQLiteOpenHelper.getWritableDatabase(SQLiteOpenHelper.java:316)\n    at com.google.assignment_lab.database.UserTable.&lt;init&gt;(UserTable.java:20)\n    at com.google.assignment_lab.MainActivity.&lt;init&gt;(MainActivity.java:16)\n    at java.lang.Class.newInstance(Native Method)\n    at android.app.AppComponentFactory.instantiateActivity(AppComponentFactory.java:95)\n    at androidx.core.app.CoreComponentFactory.instantiateActivity(CoreComponentFactory.java:45)\n    at android.app.Instrumentation.newActivity(Instrumentation.java:1339)\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3538)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3782) \n    at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:101) \n    at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135) \n    at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95) \n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2307) \n    at android.os.Handler.dispatchMessage(Handler.java:106) \n    at android.os.Looper.loopOnce(Looper.java:201) \n    at android.os.Looper.loop(Looper.java:288) \n    at android.app.ActivityThread.main(ActivityThread.java:7872) \n    at java.lang.reflect.Method.invoke(Native Method) \n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548) \n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936) \n</code></pre>\n"},{"tags":["java","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1678780420,"post_id":75717982,"comment_id":133595122,"body_markdown":"Please edit your question and add the code that doesn&#39;t work the way you expect.","body":"Please edit your question and add the code that doesn&#39;t work the way you expect."}],"answers":[{"tags":[],"owner":{"account_id":4258478,"reputation":131,"user_id":3483456,"display_name":"Javatar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678680854,"creation_date":1678680854,"answer_id":75718003,"question_id":75717982,"body_markdown":"First Android sturio -&gt; Tools -&gt; Firebase\r\n\r\nRigth side open tab in RealTime database-&gt; Getting start\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Q2VqN.png","title":"Firebase not connecting to my android application project","body":"<p>First Android sturio -&gt; Tools -&gt; Firebase</p>\n<p>Rigth side open tab in RealTime database-&gt; Getting start</p>\n<p><a href=\"https://i.stack.imgur.com/Q2VqN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q2VqN.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":27674149,"reputation":1,"user_id":21124333,"display_name":"ARUN KUMAR"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678680854,"creation_date":1678680601,"question_id":75717982,"body_markdown":"#AndroidAppDevelopment \r\n#FirebaseDatabaseProblem \r\n\r\nI am developing an app where’s I need to send data from my app to real-time database I have written codes properly using Java ,It’s not throwing any Error but data is not storing in Real-time database in Firebase \r\n\r\nI have try to send the data in Real-time database using Java \r\nAnd I am expecting that to store data into Real-time database In Firebase","title":"Firebase not connecting to my android application project","body":"<p>#AndroidAppDevelopment\n#FirebaseDatabaseProblem</p>\n<p>I am developing an app where’s I need to send data from my app to real-time database I have written codes properly using Java ,It’s not throwing any Error but data is not storing in Real-time database in Firebase</p>\n<p>I have try to send the data in Real-time database using Java\nAnd I am expecting that to store data into Real-time database In Firebase</p>\n"},{"tags":["javascript","java","reactjs","react-native","react-redux"],"answers":[{"tags":[],"owner":{"account_id":22268947,"reputation":65,"user_id":16499249,"display_name":"Jheysson Urbano"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1678678884,"creation_date":1678678884,"answer_id":75717887,"question_id":71935342,"body_markdown":"I had the same problem. I just realized that I changed the presets in the `babel.config.js`\r\n\r\nfile.\r\nBy default it was \r\n`presets: [&#39;babel-preset-expo&#39;],`\r\nI changed it for `presets: [&#39;module:metro-react-native-babel-preset&#39;],`\r\n\r\nTry one of them. The first one worked for me.","title":"Unable to resolve module nanoid/non-secure \\node_mo@react- navigation\\core|src\\useRegisterNavigator.tsx: nanoid/non-secure could not be found","body":"<p>I had the same problem. I just realized that I changed the presets in the <code>babel.config.js</code></p>\n<p>file.\nBy default it was\n<code>presets: ['babel-preset-expo'],</code>\nI changed it for <code>presets: ['module:metro-react-native-babel-preset'],</code></p>\n<p>Try one of them. The first one worked for me.</p>\n"}],"owner":{"account_id":24772969,"reputation":73,"user_id":18656642,"display_name":"dbafix"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1042,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1678678884,"creation_date":1650437691,"question_id":71935342,"body_markdown":"[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/13Mjy.jpg\r\n\r\n\r\n\r\n\r\n\r\n\r\nthe file is available as you can see. i have no idea whyh this error is coming up. the error says that this file can not be found in the folder,  but it is clearly there\r\n\r\n    import { nanoid } from &#39;nanoid/non-secure&#39;;\r\n    import * as React from &#39;react&#39;;\r\n    \r\n    import { SingleNavigatorContext } from &#39;./EnsureSingleNavigator&#39;;\r\n    \r\n    /**\r\n     * Register a navigator in the parent context (either a navigation container or a screen).\r\n     * This is used to prevent multiple navigators under a single container or screen.\r\n     */\r\n    export default function useRegisterNavigator() {\r\n      const [key] = React.useState(() =&gt; nanoid());\r\n      const container = React.useContext(SingleNavigatorContext);\r\n    \r\n      if (container === undefined) {\r\n        throw new Error(\r\n          &quot;Couldn&#39;t register the navigator. Have you wrapped your app with &#39;NavigationContainer&#39;?\\n\\nThis can also happen if there are multiple copies of &#39;@react-navigation&#39; packages installed.&quot;\r\n        );\r\n      }\r\n    \r\n      React.useEffect(() =&gt; {\r\n        const { register, unregister } = container;\r\n    \r\n        register(key);\r\n    \r\n        return () =&gt; unregister(key);\r\n      }, [container, key]);\r\n    \r\n      return key;\r\n    }\r\n\r\n\r\nthis is the list of my dependencies\r\n\r\n    &quot;dependencies&quot;: {\r\n        &quot;@expo/vector-icons&quot;: &quot;^12.0.5&quot;,\r\n        &quot;expo&quot;: &quot;~44.0.0&quot;,\r\n        &quot;expo-app-loading&quot;: &quot;^1.3.0&quot;,\r\n        &quot;expo-font&quot;: &quot;^10.0.5&quot;,\r\n        &quot;expo-status-bar&quot;: &quot;~1.2.0&quot;,\r\n        &quot;react&quot;: &quot;17.0.1&quot;,\r\n        &quot;react-dom&quot;: &quot;17.0.1&quot;,\r\n        &quot;react-native&quot;: &quot;0.64.3&quot;,\r\n        &quot;react-native-reanimated&quot;: &quot;~2.3.1&quot;,\r\n        &quot;react-native-web&quot;: &quot;0.17.1&quot;,\r\n        &quot;react-navigation&quot;: &quot;^3.0.0&quot;,\r\n        &quot;react-navigation-header-buttons&quot;: &quot;^8.0.0&quot;,\r\n        &quot;react-redux&quot;: &quot;^7.2.8&quot;,\r\n        &quot;redux&quot;: &quot;^4.1.2&quot;,\r\n        &quot;redux-devtools-extension&quot;: &quot;^2.13.9&quot;\r\n      },\r\n\r\n","title":"Unable to resolve module nanoid/non-secure \\node_mo@react- navigation\\core|src\\useRegisterNavigator.tsx: nanoid/non-secure could not be found","body":"<p><a href=\"https://i.stack.imgur.com/13Mjy.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>the file is available as you can see. i have no idea whyh this error is coming up. the error says that this file can not be found in the folder,  but it is clearly there</p>\n<pre><code>import { nanoid } from 'nanoid/non-secure';\nimport * as React from 'react';\n\nimport { SingleNavigatorContext } from './EnsureSingleNavigator';\n\n/**\n * Register a navigator in the parent context (either a navigation container or a screen).\n * This is used to prevent multiple navigators under a single container or screen.\n */\nexport default function useRegisterNavigator() {\n  const [key] = React.useState(() =&gt; nanoid());\n  const container = React.useContext(SingleNavigatorContext);\n\n  if (container === undefined) {\n    throw new Error(\n      &quot;Couldn't register the navigator. Have you wrapped your app with 'NavigationContainer'?\\n\\nThis can also happen if there are multiple copies of '@react-navigation' packages installed.&quot;\n    );\n  }\n\n  React.useEffect(() =&gt; {\n    const { register, unregister } = container;\n\n    register(key);\n\n    return () =&gt; unregister(key);\n  }, [container, key]);\n\n  return key;\n}\n</code></pre>\n<p>this is the list of my dependencies</p>\n<pre><code>&quot;dependencies&quot;: {\n    &quot;@expo/vector-icons&quot;: &quot;^12.0.5&quot;,\n    &quot;expo&quot;: &quot;~44.0.0&quot;,\n    &quot;expo-app-loading&quot;: &quot;^1.3.0&quot;,\n    &quot;expo-font&quot;: &quot;^10.0.5&quot;,\n    &quot;expo-status-bar&quot;: &quot;~1.2.0&quot;,\n    &quot;react&quot;: &quot;17.0.1&quot;,\n    &quot;react-dom&quot;: &quot;17.0.1&quot;,\n    &quot;react-native&quot;: &quot;0.64.3&quot;,\n    &quot;react-native-reanimated&quot;: &quot;~2.3.1&quot;,\n    &quot;react-native-web&quot;: &quot;0.17.1&quot;,\n    &quot;react-navigation&quot;: &quot;^3.0.0&quot;,\n    &quot;react-navigation-header-buttons&quot;: &quot;^8.0.0&quot;,\n    &quot;react-redux&quot;: &quot;^7.2.8&quot;,\n    &quot;redux&quot;: &quot;^4.1.2&quot;,\n    &quot;redux-devtools-extension&quot;: &quot;^2.13.9&quot;\n  },\n</code></pre>\n"},{"tags":["java","mockito","junit4","spring-test"],"comments":[{"owner":{"account_id":5795637,"reputation":7297,"user_id":4571544,"display_name":"dekkard"},"score":0,"creation_date":1678097235,"post_id":75604379,"comment_id":133460821,"body_markdown":"Putting aside syntax errors in your code, this should be working as expected. Sharing a minimal reproducible example of your issue might get you the solution faster.","body":"Putting aside syntax errors in your code, this should be working as expected. Sharing a minimal reproducible example of your issue might get you the solution faster."},{"owner":{"account_id":18868507,"reputation":980,"user_id":13763713,"display_name":"oliver_t"},"score":0,"creation_date":1678109988,"post_id":75604379,"comment_id":133464322,"body_markdown":"Could you please share the class ChildStudentProcessor?","body":"Could you please share the class ChildStudentProcessor?"},{"owner":{"account_id":9012540,"reputation":1206,"user_id":6716564,"display_name":"ASK"},"score":0,"creation_date":1678175486,"post_id":75604379,"comment_id":133477766,"body_markdown":"Why are you initializing `childStudentEventProcessor `? WIth annotation `@InjectMocks`, no need for that.","body":"Why are you initializing <code>childStudentEventProcessor </code>? WIth annotation <code>@InjectMocks</code>, no need for that."},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1678256600,"post_id":75604379,"comment_id":133495742,"body_markdown":"Not sure about JUnit 4 but in JUnit 5 it works as expected with `@ExtendWith(MockitoExtension.class)`","body":"Not sure about JUnit 4 but in JUnit 5 it works as expected with <code>@ExtendWith(MockitoExtension.class)</code>"}],"answers":[{"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1678437553,"post_id":75673616,"comment_id":133535745,"body_markdown":"Exactly, in general you always should prefer constructor injection over field injection, for all CDI frameworks not just for Spring.","body":"Exactly, in general you always should prefer constructor injection over field injection, for all CDI frameworks not just for Spring."}],"tags":[],"owner":{"account_id":4286286,"reputation":783,"user_id":3503970,"accept_rate":100,"display_name":"Alex Blasco"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1678282173,"creation_date":1678281812,"answer_id":75673616,"question_id":75604379,"body_markdown":"The following line is not correct:\r\n\r\n    @InjectMocks\r\n    private StudentProcessor childStudentEventProcessor = new ChildStudentProcessor();\r\n\r\nYou are calling the empty constructor of `ChildStudentProcessor`. You need to create a new constructor in `StudentProcessor` or in `ChildStudentProcessor` that takes `StudentService` as a parameter. Then just call:\r\n\r\n    @InjectMocks\r\n    private StudentProcessor studentEventProcessor;\r\n\r\nSo that the `studentService` that you are mocking in your test class will be passed as a parameter in the new constructor and the `doCallRealMethod` will be executed correctly.","title":"doCallRealMethod not working for object autowired inside abstract class","body":"<p>The following line is not correct:</p>\n<pre><code>@InjectMocks\nprivate StudentProcessor childStudentEventProcessor = new ChildStudentProcessor();\n</code></pre>\n<p>You are calling the empty constructor of <code>ChildStudentProcessor</code>. You need to create a new constructor in <code>StudentProcessor</code> or in <code>ChildStudentProcessor</code> that takes <code>StudentService</code> as a parameter. Then just call:</p>\n<pre><code>@InjectMocks\nprivate StudentProcessor studentEventProcessor;\n</code></pre>\n<p>So that the <code>studentService</code> that you are mocking in your test class will be passed as a parameter in the new constructor and the <code>doCallRealMethod</code> will be executed correctly.</p>\n"},{"comments":[{"owner":{"account_id":18868507,"reputation":980,"user_id":13763713,"display_name":"oliver_t"},"score":1,"creation_date":1678354560,"post_id":75680253,"comment_id":133517309,"body_markdown":"If you are mocking both, StudentService and StudentProcessor, then there&#39;s actually nothing left to test.","body":"If you are mocking both, StudentService and StudentProcessor, then there&#39;s actually nothing left to test."},{"owner":{"account_id":19462384,"reputation":29,"user_id":14236421,"display_name":"Julia Manayra"},"score":0,"creation_date":1678370999,"post_id":75680253,"comment_id":133522219,"body_markdown":"the lines of mocks can be changed for the instance... with new ChildStudentProcessor() or new OtherChildStudentProcessor(); but the structure for this is the same","body":"the lines of mocks can be changed for the instance... with new ChildStudentProcessor() or new OtherChildStudentProcessor(); but the structure for this is the same"},{"owner":{"account_id":18868507,"reputation":980,"user_id":13763713,"display_name":"oliver_t"},"score":0,"creation_date":1678392519,"post_id":75680253,"comment_id":133528522,"body_markdown":"If you use @InjectMocks and later reassign a new Instance, then you loose the instance with the dependencies created by Mockito.","body":"If you use @InjectMocks and later reassign a new Instance, then you loose the instance with the dependencies created by Mockito."}],"tags":[],"owner":{"account_id":19462384,"reputation":29,"user_id":14236421,"display_name":"Julia Manayra"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678334097,"creation_date":1678333487,"answer_id":75680253,"question_id":75604379,"body_markdown":"You can test with Junit5 your class like the sample bellow:\r\n\r\n```lang-java\r\npublic abstract class StudentProcessor implements IStudentProcessor&lt;Event&gt; {\r\n    // you don&#39;t need use autowired, you can use the construsctor for this\r\n  // if you declare  private final StudentService studentService;\r\n // and build the constructor you can get instance too\r\n    @Autowired\r\n    private StudentService studentService;\r\n\r\n    public void processEvent(Event events){\r\n        studentService.enrichEvent(events);\r\n    }\r\n}\r\n```\r\n  \r\n\r\n\r\n\r\nyour test class\r\n\r\n\r\n\r\n``` lang-java\r\n@ExtendWith(MockitoExtension.class)\r\npublic class ChildStudentProcessorTest {\r\n    @Mock\r\n    private StudentService studentService;\r\n    @InjectMocks\r\n    private StudentProcessor childStudentEventProcessor;\r\n\r\n\r\n    @BeforeEach\r\n    public void setUp() {\r\n        //here you define how is the implementation for your test\r\n        childStudentEventProcessor = Mockito.mock(ChildStudentProcessor.class);\r\n        //here you define how the studentService should do execute when recive any Event.class\r\n        Mockito.when(studentService).enrichEvent(Mockito.any(Event.class));\r\n    }\r\n\r\n    @Test\r\n    public void test_vanilaScenario() {\r\n        //here you define your instance of event\r\n        Event baseModel = ParserUtil.getObjectFromFile(&quot;events/event1.json&quot;, Event.class);\r\n        //here you do call for your method for test\r\n        childStudentEventProcessor.processEvent(baseModel);\r\n        //here you can test if the studentService is in use one time\r\n        Mockito.verify(studentService,Mockito.times(1)).enrichEvent(baseModel);\r\n    }\r\n}\r\n```\r\n\r\nor you can use like the bellow code:\r\n\r\n``` lang-java\r\n@ExtendWith(MockitoExtension.class)\r\npublic class ChildStudentProcessorTest {\r\n    @Mock\r\n    private StudentService studentService;\r\n    @InjectMocks\r\n    private StudentProcessor childStudentEventProcessor;\r\n\r\n\r\n\r\n    @Test\r\n    public void test_vanilaScenario_ChildStudentProcessor() {\r\n        //here you define how is the implementation for your test\r\n        childStudentEventProcessor = Mockito.mock(ChildStudentProcessor.class);\r\n        //here you define how the studentService should do execute when recive any Event.class\r\n        Mockito.when(studentService).enrichEvent(Mockito.any(Event.class));\r\n\r\n        //here you define your instance of event\r\n        Event baseModel = ParserUtil.getObjectFromFile(&quot;events/event1.json&quot;, Event.class);\r\n        //here you do call for your method for test\r\n        childStudentEventProcessor.processEvent(baseModel);\r\n        //here you can test if the studentService is in use one time\r\n        Mockito.verify(studentService,Mockito.times(1)).enrichEvent(baseModel);\r\n    }\r\n\r\n    @Test\r\n    public void test_vanilaScenario_OtherChildStudentProcessor() {\r\n        //here you define how is the implementation for your test\r\n        childStudentEventProcessor = Mockito.mock(OtherChildStudentProcessor.class);\r\n        //here you define how the studentService should do execute when recive any Event.class\r\n        Mockito.when(studentService).enrichEvent(Mockito.any(Event.class));\r\n\r\n        //here you define your instance of event\r\n        Event baseModel = ParserUtil.getObjectFromFile(&quot;events/event1.json&quot;, Event.class);\r\n        //here you do call for your method for test\r\n        childStudentEventProcessor.processEvent(baseModel);\r\n        //here you can test if the studentService is in use one time\r\n        Mockito.verify(studentService,Mockito.times(1)).enrichEvent(baseModel);\r\n    }\r\n}\r\n\r\n```\r\n\r\nif you want test with exception, you can do like the bellow code:\r\n\r\n\r\n``` lang-java\r\n@ExtendWith(MockitoExtension.class)\r\npublic class ChildStudentProcessorTest {\r\n    @Mock\r\n    private StudentService studentService;\r\n    @InjectMocks\r\n    private StudentProcessor childStudentEventProcessor;\r\n\r\n\r\n\r\n    @Test\r\n    public void test_vanilaScenario_ChildStudentProcessor() {\r\n        //here you define how is the implementation for your test\r\n        childStudentEventProcessor = Mockito.mock(ChildStudentProcessor.class);\r\n        //here you define how the studentService should do execute when recive any Event.class\r\n        Mockito.when(studentService).enrichEvent(Mockito.any(Event.class));\r\n\r\n        //here you define your instance of event\r\n        Event baseModel = ParserUtil.getObjectFromFile(&quot;events/event1.json&quot;, Event.class);\r\n        //here you do call for your method for test\r\n        childStudentEventProcessor.processEvent(baseModel);\r\n        //here you can test if the studentService is in use one time\r\n        Mockito.verify(studentService,Mockito.times(1)).enrichEvent(baseModel);\r\n    }\r\n\r\n    @Test\r\n    public void test_vanilaScenario_OtherChildStudentProcessor() {\r\n        //here you define how is the implementation for your test\r\n        childStudentEventProcessor = Mockito.mock(OtherChildStudentProcessor.class);\r\n        //here you define how the studentService should do execute when recive any Event.class\r\n        Mockito.when(studentService).enrichEvent(Mockito.any(Event.class));\r\n\r\n        //here you define your instance of event\r\n        Event baseModel = ParserUtil.getObjectFromFile(&quot;events/event1.json&quot;, Event.class);\r\n        //here you do call for your method for test\r\n        childStudentEventProcessor.processEvent(baseModel);\r\n        //here you can test if the studentService is in use one time\r\n        Mockito.verify(studentService,Mockito.times(1)).enrichEvent(baseModel);\r\n    }\r\n\r\n\r\n    @Test\r\n    public void test_vanilaScenario_ChildStudentProcessor_NullPointerException() {\r\n        //here you define how is the implementation for your test\r\n        childStudentEventProcessor = Mockito.mock(OtherChildStudentProcessor.class);\r\n        //here you define how the studentService should do execute when recive any Event.class and then do\r\n        //throw NullPointerException\r\n        Mockito.doThrow(new NullPointerException()).when(studentService).enrichEvent(Mockito.any(Event.class));\r\n\r\n        //here you define your instance of event\r\n        Event baseModel = ParserUtil.getObjectFromFile(&quot;events/event1.json&quot;, Event.class);\r\n        //here you do call for your method for NullPointerException test\r\n        Assertions.assertThrows(NullPointerException.class,()-&gt;childStudentEventProcessor.processEvent(baseModel));\r\n        //here you can test if the studentService is in use one time\r\n        Mockito.verify(studentService,Mockito.times(1)).enrichEvent(baseModel);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nfor more test with void methods [void test][1]\r\nfor more test with exceptions methods [exceptions test][2]\r\n\r\n\r\n  [1]: https://www.baeldung.com/mockito-verify\r\n  [2]: https://howtodoinjava.com/junit5/expected-exception-example/","title":"doCallRealMethod not working for object autowired inside abstract class","body":"<p>You can test with Junit5 your class like the sample bellow:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class StudentProcessor implements IStudentProcessor&lt;Event&gt; {\n    // you don't need use autowired, you can use the construsctor for this\n  // if you declare  private final StudentService studentService;\n // and build the constructor you can get instance too\n    @Autowired\n    private StudentService studentService;\n\n    public void processEvent(Event events){\n        studentService.enrichEvent(events);\n    }\n}\n</code></pre>\n<p>your test class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(MockitoExtension.class)\npublic class ChildStudentProcessorTest {\n    @Mock\n    private StudentService studentService;\n    @InjectMocks\n    private StudentProcessor childStudentEventProcessor;\n\n\n    @BeforeEach\n    public void setUp() {\n        //here you define how is the implementation for your test\n        childStudentEventProcessor = Mockito.mock(ChildStudentProcessor.class);\n        //here you define how the studentService should do execute when recive any Event.class\n        Mockito.when(studentService).enrichEvent(Mockito.any(Event.class));\n    }\n\n    @Test\n    public void test_vanilaScenario() {\n        //here you define your instance of event\n        Event baseModel = ParserUtil.getObjectFromFile(&quot;events/event1.json&quot;, Event.class);\n        //here you do call for your method for test\n        childStudentEventProcessor.processEvent(baseModel);\n        //here you can test if the studentService is in use one time\n        Mockito.verify(studentService,Mockito.times(1)).enrichEvent(baseModel);\n    }\n}\n</code></pre>\n<p>or you can use like the bellow code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(MockitoExtension.class)\npublic class ChildStudentProcessorTest {\n    @Mock\n    private StudentService studentService;\n    @InjectMocks\n    private StudentProcessor childStudentEventProcessor;\n\n\n\n    @Test\n    public void test_vanilaScenario_ChildStudentProcessor() {\n        //here you define how is the implementation for your test\n        childStudentEventProcessor = Mockito.mock(ChildStudentProcessor.class);\n        //here you define how the studentService should do execute when recive any Event.class\n        Mockito.when(studentService).enrichEvent(Mockito.any(Event.class));\n\n        //here you define your instance of event\n        Event baseModel = ParserUtil.getObjectFromFile(&quot;events/event1.json&quot;, Event.class);\n        //here you do call for your method for test\n        childStudentEventProcessor.processEvent(baseModel);\n        //here you can test if the studentService is in use one time\n        Mockito.verify(studentService,Mockito.times(1)).enrichEvent(baseModel);\n    }\n\n    @Test\n    public void test_vanilaScenario_OtherChildStudentProcessor() {\n        //here you define how is the implementation for your test\n        childStudentEventProcessor = Mockito.mock(OtherChildStudentProcessor.class);\n        //here you define how the studentService should do execute when recive any Event.class\n        Mockito.when(studentService).enrichEvent(Mockito.any(Event.class));\n\n        //here you define your instance of event\n        Event baseModel = ParserUtil.getObjectFromFile(&quot;events/event1.json&quot;, Event.class);\n        //here you do call for your method for test\n        childStudentEventProcessor.processEvent(baseModel);\n        //here you can test if the studentService is in use one time\n        Mockito.verify(studentService,Mockito.times(1)).enrichEvent(baseModel);\n    }\n}\n\n</code></pre>\n<p>if you want test with exception, you can do like the bellow code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(MockitoExtension.class)\npublic class ChildStudentProcessorTest {\n    @Mock\n    private StudentService studentService;\n    @InjectMocks\n    private StudentProcessor childStudentEventProcessor;\n\n\n\n    @Test\n    public void test_vanilaScenario_ChildStudentProcessor() {\n        //here you define how is the implementation for your test\n        childStudentEventProcessor = Mockito.mock(ChildStudentProcessor.class);\n        //here you define how the studentService should do execute when recive any Event.class\n        Mockito.when(studentService).enrichEvent(Mockito.any(Event.class));\n\n        //here you define your instance of event\n        Event baseModel = ParserUtil.getObjectFromFile(&quot;events/event1.json&quot;, Event.class);\n        //here you do call for your method for test\n        childStudentEventProcessor.processEvent(baseModel);\n        //here you can test if the studentService is in use one time\n        Mockito.verify(studentService,Mockito.times(1)).enrichEvent(baseModel);\n    }\n\n    @Test\n    public void test_vanilaScenario_OtherChildStudentProcessor() {\n        //here you define how is the implementation for your test\n        childStudentEventProcessor = Mockito.mock(OtherChildStudentProcessor.class);\n        //here you define how the studentService should do execute when recive any Event.class\n        Mockito.when(studentService).enrichEvent(Mockito.any(Event.class));\n\n        //here you define your instance of event\n        Event baseModel = ParserUtil.getObjectFromFile(&quot;events/event1.json&quot;, Event.class);\n        //here you do call for your method for test\n        childStudentEventProcessor.processEvent(baseModel);\n        //here you can test if the studentService is in use one time\n        Mockito.verify(studentService,Mockito.times(1)).enrichEvent(baseModel);\n    }\n\n\n    @Test\n    public void test_vanilaScenario_ChildStudentProcessor_NullPointerException() {\n        //here you define how is the implementation for your test\n        childStudentEventProcessor = Mockito.mock(OtherChildStudentProcessor.class);\n        //here you define how the studentService should do execute when recive any Event.class and then do\n        //throw NullPointerException\n        Mockito.doThrow(new NullPointerException()).when(studentService).enrichEvent(Mockito.any(Event.class));\n\n        //here you define your instance of event\n        Event baseModel = ParserUtil.getObjectFromFile(&quot;events/event1.json&quot;, Event.class);\n        //here you do call for your method for NullPointerException test\n        Assertions.assertThrows(NullPointerException.class,()-&gt;childStudentEventProcessor.processEvent(baseModel));\n        //here you can test if the studentService is in use one time\n        Mockito.verify(studentService,Mockito.times(1)).enrichEvent(baseModel);\n    }\n\n}\n\n</code></pre>\n<p>for more test with void methods <a href=\"https://www.baeldung.com/mockito-verify\" rel=\"nofollow noreferrer\">void test</a>\nfor more test with exceptions methods <a href=\"https://howtodoinjava.com/junit5/expected-exception-example/\" rel=\"nofollow noreferrer\">exceptions test</a></p>\n"}],"owner":{"account_id":5137581,"reputation":300,"user_id":4115835,"accept_rate":15,"display_name":"Loren"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":395,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1678678539,"creation_date":1677677369,"question_id":75604379,"body_markdown":"I am trying to write test bases for child class which has a super class. I have tried below approach but flow is not going inside enrichEvent method.  \r\n\r\n    public abstract class StudentProcessor implements IStudentProcessor&lt;Event&gt; {\r\n      @Autowired private StudentService studentService;\r\n\r\n        public method processEvent(Event events){\r\n         studentService.enrichEvent(event); -- void return type\r\n         }\r\n        }\r\n\r\nChild Class Test case\r\n\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class ChildStudentProcessorTest {\r\n     @Mock private StudentService studentService;\r\n     @InjectMocks\r\n      private StudentProcessor childStudentEventProcessor = new ChildStudentProcessor();\r\n     \r\n\r\n     @Before\r\n     public void setUp() {\r\n      doCallRealMethod().when(studentService).enrichEvent(Mockito.any());\r\n     }\r\n\r\n     @Test\r\n     public void test_vanilaScenario() {\r\n      Event baseModel =\r\n          ParserUtil.getObjectFromFile(&quot;events/event1.json&quot;, Event.class);\r\n      childStudentEventProcessor.processEvent(baseModel);\r\n      }","title":"doCallRealMethod not working for object autowired inside abstract class","body":"<p>I am trying to write test bases for child class which has a super class. I have tried below approach but flow is not going inside enrichEvent method.</p>\n<pre><code>public abstract class StudentProcessor implements IStudentProcessor&lt;Event&gt; {\n  @Autowired private StudentService studentService;\n\n    public method processEvent(Event events){\n     studentService.enrichEvent(event); -- void return type\n     }\n    }\n</code></pre>\n<p>Child Class Test case</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class ChildStudentProcessorTest {\n @Mock private StudentService studentService;\n @InjectMocks\n  private StudentProcessor childStudentEventProcessor = new ChildStudentProcessor();\n \n\n @Before\n public void setUp() {\n  doCallRealMethod().when(studentService).enrichEvent(Mockito.any());\n }\n\n @Test\n public void test_vanilaScenario() {\n  Event baseModel =\n      ParserUtil.getObjectFromFile(&quot;events/event1.json&quot;, Event.class);\n  childStudentEventProcessor.processEvent(baseModel);\n  }\n</code></pre>\n"},{"tags":["java","mysql","hibernate","jpa"],"comments":[{"owner":{"account_id":9744358,"reputation":39903,"user_id":10138734,"display_name":"Akina"},"score":0,"creation_date":1652850773,"post_id":72283161,"comment_id":127703120,"body_markdown":"*`.. LEFT JOIN article.userLikeRecord ON ..`* Does `article` is database name and `userLikeRecord` is table name? If not then you try to join a column, not a table. *This is my expected sql statement* It differs from one ised in the code.","body":"<i><code>.. LEFT JOIN article.userLikeRecord ON ..</code></i> Does <code>article</code> is database name and <code>userLikeRecord</code> is table name? If not then you try to join a column, not a table. <i>This is my expected sql statement</i> It differs from one ised in the code."},{"owner":{"account_id":25268599,"reputation":1,"user_id":19098277,"display_name":"A_rookie"},"score":0,"creation_date":1652855682,"post_id":72283161,"comment_id":127704233,"body_markdown":"For the name of the table, because the jpql statement is written here, there will be article.userLikeRecord. I have also adjusted the native sql method, but the effect has not come out later. It may not be very intuitive to say here. I will paste the jpa query above for you to take a look. I have tested that the sql statement generated by jpa is normal, but it is strange that jpa has performed multiple where queries in the subsequent operations. Maybe because the onetoone relationship is overwritten?","body":"For the name of the table, because the jpql statement is written here, there will be article.userLikeRecord. I have also adjusted the native sql method, but the effect has not come out later. It may not be very intuitive to say here. I will paste the jpa query above for you to take a look. I have tested that the sql statement generated by jpa is normal, but it is strange that jpa has performed multiple where queries in the subsequent operations. Maybe because the onetoone relationship is overwritten?"}],"answers":[{"tags":[],"owner":{"account_id":12205661,"reputation":332,"user_id":8908834,"display_name":"Mauricio Buffon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678678450,"creation_date":1678678450,"answer_id":75717853,"question_id":72283161,"body_markdown":"Are you sure you want to use a LEFT OUTER JOIN? Maybe, it&#39;s the case to use an INNER JOIN.\r\n\r\nLEFT OUTER JOIN JQPL:\r\n```sql\r\nSELECT article\r\nFROM Article article LEFT JOIN article.userLikeRecord lk\r\nWHERE (lk.targetType IS NULL OR lk.targetType = 0)\r\nAND (lk.userId IS NULL OR lk.userId = :userId)\r\n```\r\n\r\nINNER JOIN JPQL:\r\n```sql\r\nSELECT article\r\nFROM Article article\r\nJOIN article.userLikeRecord lk\r\nWHERE lk.targetType = 0\r\nAND lk.userId = :userId\r\n```","title":"The problem that jpa custom query does not take effect","body":"<p>Are you sure you want to use a LEFT OUTER JOIN? Maybe, it's the case to use an INNER JOIN.</p>\n<p>LEFT OUTER JOIN JQPL:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT article\nFROM Article article LEFT JOIN article.userLikeRecord lk\nWHERE (lk.targetType IS NULL OR lk.targetType = 0)\nAND (lk.userId IS NULL OR lk.userId = :userId)\n</code></pre>\n<p>INNER JOIN JPQL:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT article\nFROM Article article\nJOIN article.userLikeRecord lk\nWHERE lk.targetType = 0\nAND lk.userId = :userId\n</code></pre>\n"}],"owner":{"account_id":25268599,"reputation":1,"user_id":19098277,"display_name":"A_rookie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678678450,"creation_date":1652847599,"question_id":72283161,"body_markdown":"I am designing a &#39;like&#39; function for a blog system, and I want to judge whether the likes have been added/applied according to the user&#39;s login status when querying the content of the homepage.\r\n\r\nSo I have created a SQL statement to implement the left join to the query to achieve this function. I used the JPA @Query jpql method to customize the query, but the effect is different from what I expected.\r\n\r\nWhen looking at the statement, I found that the jpql statement is indeed executed once, but it is an associated query to another/subsequent jpa query after the initial query was executed, so I think it may be overwritten.\r\n\r\nI am using jpa for the first time and they may be thing that I do not fully understand, please feel free to ask any further questions to help me and thank you.\r\n\r\nThis is my expected sql statement：\r\n\r\n    SELECT a.*,l.*FROM article a LEFT JOIN user_like_record l ON a.id=l.target_id AND l.target_type=0 AND l.user_id=17\r\n\r\n \r\nThis is my current code：\r\n\r\n        @Query(value = &quot;SELECT\\n&quot; +\r\n            &quot;\\tarticle\\n&quot; +\r\n            &quot;FROM\\n&quot; +\r\n            &quot;\\tArticle article LEFT JOIN article.userLikeRecord ON article.userLikeRecord.targetType = 0\\n&quot; +\r\n            &quot;\\t AND article.userLikeRecord.userId = :userId&quot;)\r\n    Page&lt;Article&gt; findAllLikeStatusb(Long userId, Pageable pageable);\r\n\r\n    @OneToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;id&quot;, referencedColumnName = &quot;target_id&quot;, insertable = false, updatable = false)\r\n    private UserLikeRecord userLikeRecord;\r\n\r\nThis is the sql statement generated by the last query of jpa:\r\n\r\n    Hibernate: \r\n    select\r\n        user0_.id as id1_9_,\r\n        user0_.create_time as create_t2_9_,\r\n        user0_.delete_time as delete_t3_9_,\r\n        user0_.update_time as update_t4_9_,\r\n        user0_.email as email5_9_,\r\n        user0_.mobile as mobile6_9_,\r\n        user0_.nick_name as nick_nam7_9_,\r\n        user0_.openid as openid8_9_,\r\n        user0_.receive_like_counts as receive_9_9_,\r\n        user0_.unify_uid as unify_u10_9_,\r\n        user0_.user_birthday as user_bi11_9_,\r\n        user0_.wx_profile as wx_prof12_9_ \r\n    from\r\n        user user0_ \r\n    where\r\n        (\r\n            user0_.delete_time is null\r\n        ) \r\n        and user0_.openid=?\r\n    Hibernate: \r\n    SELECT\r\n        a.*,\r\n        l.* \r\n    FROM\r\n        article a \r\n    LEFT JOIN\r\n        user_like_record l \r\n            ON a.id = l.target_id \r\n            AND l.target_type=0 \r\n            AND l.user_id =? \r\n    order by\r\n        a.create_time desc limit ?\r\n\r\nThe following sql is executed multiple times\r\n\r\n    Hibernate: \r\n    select\r\n        userlikere0_.target_id as target_i1_10_0_,\r\n        userlikere0_.create_time as create_t2_10_0_,\r\n        userlikere0_.delete_time as delete_t3_10_0_,\r\n        userlikere0_.update_time as update_t4_10_0_,\r\n        userlikere0_.id as id5_10_0_,\r\n        userlikere0_.like_status as like_sta6_10_0_,\r\n        userlikere0_.target_type as target_t7_10_0_,\r\n        userlikere0_.user_id as user_id8_10_0_ \r\n    from\r\n        user_like_record userlikere0_ \r\n    where\r\n        userlikere0_.target_id=? \r\n        and (\r\n            userlikere0_.delete_time is null\r\n        )","title":"The problem that jpa custom query does not take effect","body":"<p>I am designing a 'like' function for a blog system, and I want to judge whether the likes have been added/applied according to the user's login status when querying the content of the homepage.</p>\n<p>So I have created a SQL statement to implement the left join to the query to achieve this function. I used the JPA @Query jpql method to customize the query, but the effect is different from what I expected.</p>\n<p>When looking at the statement, I found that the jpql statement is indeed executed once, but it is an associated query to another/subsequent jpa query after the initial query was executed, so I think it may be overwritten.</p>\n<p>I am using jpa for the first time and they may be thing that I do not fully understand, please feel free to ask any further questions to help me and thank you.</p>\n<p>This is my expected sql statement：</p>\n<pre><code>SELECT a.*,l.*FROM article a LEFT JOIN user_like_record l ON a.id=l.target_id AND l.target_type=0 AND l.user_id=17\n</code></pre>\n<p>This is my current code：</p>\n<pre><code>    @Query(value = &quot;SELECT\\n&quot; +\n        &quot;\\tarticle\\n&quot; +\n        &quot;FROM\\n&quot; +\n        &quot;\\tArticle article LEFT JOIN article.userLikeRecord ON article.userLikeRecord.targetType = 0\\n&quot; +\n        &quot;\\t AND article.userLikeRecord.userId = :userId&quot;)\nPage&lt;Article&gt; findAllLikeStatusb(Long userId, Pageable pageable);\n\n@OneToOne(fetch = FetchType.LAZY)\n@JoinColumn(name = &quot;id&quot;, referencedColumnName = &quot;target_id&quot;, insertable = false, updatable = false)\nprivate UserLikeRecord userLikeRecord;\n</code></pre>\n<p>This is the sql statement generated by the last query of jpa:</p>\n<pre><code>Hibernate: \nselect\n    user0_.id as id1_9_,\n    user0_.create_time as create_t2_9_,\n    user0_.delete_time as delete_t3_9_,\n    user0_.update_time as update_t4_9_,\n    user0_.email as email5_9_,\n    user0_.mobile as mobile6_9_,\n    user0_.nick_name as nick_nam7_9_,\n    user0_.openid as openid8_9_,\n    user0_.receive_like_counts as receive_9_9_,\n    user0_.unify_uid as unify_u10_9_,\n    user0_.user_birthday as user_bi11_9_,\n    user0_.wx_profile as wx_prof12_9_ \nfrom\n    user user0_ \nwhere\n    (\n        user0_.delete_time is null\n    ) \n    and user0_.openid=?\nHibernate: \nSELECT\n    a.*,\n    l.* \nFROM\n    article a \nLEFT JOIN\n    user_like_record l \n        ON a.id = l.target_id \n        AND l.target_type=0 \n        AND l.user_id =? \norder by\n    a.create_time desc limit ?\n</code></pre>\n<p>The following sql is executed multiple times</p>\n<pre><code>Hibernate: \nselect\n    userlikere0_.target_id as target_i1_10_0_,\n    userlikere0_.create_time as create_t2_10_0_,\n    userlikere0_.delete_time as delete_t3_10_0_,\n    userlikere0_.update_time as update_t4_10_0_,\n    userlikere0_.id as id5_10_0_,\n    userlikere0_.like_status as like_sta6_10_0_,\n    userlikere0_.target_type as target_t7_10_0_,\n    userlikere0_.user_id as user_id8_10_0_ \nfrom\n    user_like_record userlikere0_ \nwhere\n    userlikere0_.target_id=? \n    and (\n        userlikere0_.delete_time is null\n    )\n</code></pre>\n"},{"tags":["java","junit5"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1678679545,"post_id":75717841,"comment_id":133574208,"body_markdown":"Looks like you don&#39;t give your helper the WebClientFilter.","body":"Looks like you don&#39;t give your helper the WebClientFilter."},{"owner":{"account_id":152408,"reputation":6071,"user_id":366916,"accept_rate":50,"display_name":"bharathi"},"score":0,"creation_date":1678680152,"post_id":75717841,"comment_id":133574261,"body_markdown":"@tgdavies Can you please elaborate on your comment","body":"@tgdavies Can you please elaborate on your comment"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1678680278,"post_id":75717841,"comment_id":133574275,"body_markdown":"WebClientHelper has a field containing a WebClientFilter. You create a mock WebClientFilter somewhere, but you don&#39;t pass it to the WebClientHelper constructor.","body":"WebClientHelper has a field containing a WebClientFilter. You create a mock WebClientFilter somewhere, but you don&#39;t pass it to the WebClientHelper constructor."},{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1678689927,"post_id":75717841,"comment_id":133575331,"body_markdown":"alternatively, if you have this WebClientFilter as a filed of the test class you can annotate it with `@MockedBean` instead of `@Mock`.","body":"alternatively, if you have this WebClientFilter as a filed of the test class you can annotate it with <code>@MockedBean</code> instead of <code>@Mock</code>."}],"owner":{"account_id":152408,"reputation":6071,"user_id":366916,"accept_rate":50,"display_name":"bharathi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678678211,"creation_date":1678678211,"question_id":75717841,"body_markdown":"I am getting below exception for Junit test. I am unsure what I am making wrong.\r\n\r\n\r\n    java.lang.IllegalArgumentException: ExchangeFilterFunction must not be null\r\n\tat org.springframework.util.Assert.notNull(Assert.java:201)\r\n\tat org.springframework.web.reactive.function.client.DefaultWebClientBuilder.filter(DefaultWebClientBuilder.java:197)\r\n\tat com.mt.common.webclient.WebClientHelper.webClientBuilder(WebClientHelper.java:327)\r\n\tat com.mt.common.webclient.WebClientHelper.performWebRequest(WebClientHelper.java:293)\r\n\tat com.mt.common.webclient.WebClientHelper.getAsynchronousWebClient(WebClientHelper.java:62)\r\n\tat com.mt.common.webclient.test.WebClientHelperTest.testGetAsynchronousWebClientWithPathParamNotNull(WebClientHelperTest.java:216)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:95)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:91)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:60)\r\n\tat org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\r\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\r\n\r\n\r\nCode:\r\nJunit:\r\n\r\n    @Test\r\n\tvoid testGetAsynchronousWebClientWithPathParamNotNull() throws Exception {\r\n\t\tWebClientHelper&lt;Stores&gt; helper = new WebClientHelper&lt;Stores&gt;();\r\n\t\twhen(webClientRequest.getRequestTracker()).thenReturn(&quot;requesttracker&quot;);\r\n\t\twhen(webClientRequest.getPathParam()).thenReturn(&quot;pathParam&quot;);\r\n\t\twhen(webClientRequest.getEndPoint()).thenReturn(&quot;URL&quot;);\r\n\t\tMap&lt;String, String&gt; queryParam = new LinkedHashMap&lt;String, String&gt;();\r\n\t\tqueryParam.put(&quot;Query&quot;, &quot;select * from Stores&quot;);\r\n\t\twhen(webClientRequest.getContentType()).thenReturn(ContentType.APPLICATION_JSON.toString());\r\n\t\tMap&lt;String, String&gt; headerParam = new LinkedHashMap&lt;String, String&gt;();\r\n\t\tqueryParam.put(&quot;User&quot;, &quot;mtamp&quot;);\r\n\t\twhen(webClientRequest.getHeadersParam()).thenReturn(headerParam);\r\n\t\t\t  ClientRequest clientRequest = Mockito.mock(ClientRequest.class);\r\n\t\t\t    ExchangeFunction exchangeFunction = Mockito.mock(ExchangeFunction.class);\r\n\t\t\t    ClientResponse clientResponse = mock(ClientResponse.class);\r\n\t\twhen(webClientFilter.filter(clientRequest,exchangeFunction)).thenReturn(Mono.just(clientResponse));\r\n\t\t\r\n\t\tassertNotNull(helper.getAsynchronousWebClient(webClientRequest, Stores.class));\r\n\r\n\t\tverify(webClientRequest, times(1)).getRequestTracker();\r\n\t\tverify(webClientRequest, times(2)).getHeadersParam();\r\n\t\tverify(webClientRequest, times(1)).getEndPoint();\r\n\t\tverify(webClientRequest, times(3)).getContentType();\r\n\t\tverify(webClientRequest, times(2)).getPathParam();\r\n\r\n\t}\r\n\r\nWebClientHelper.java\r\n    \r\n    @Autowired\r\n\tWebClientFilter webClientFilter;\r\n    \r\n    private WebClient webClientBuilder() {\r\n\t\tHttpClient httpClient = HttpClient.create()\r\n\t\t\t\t.option(ChannelOption.CONNECT_TIMEOUT_MILLIS, WebClientConstants.WEB_CLIENT_TIMEOUT)\r\n\t\t\t\t.responseTimeout(Duration.ofMillis(WebClientConstants.WEB_CLIENT_RESPONSE_TIMEOUT))\r\n\t\t\t\t.doOnConnected(conn -&gt; conn\r\n\t\t\t\t\t\t.addHandlerLast(\r\n\t\t\t\t\t\t\t\tnew ReadTimeoutHandler(WebClientConstants.WEB_CLIENT_READ_TIMEOUT, TimeUnit.MILLISECONDS))\r\n\t\t\t\t\t\t.addHandlerLast(new WriteTimeoutHandler(WebClientConstants.WEB_CLIENT_WRITE_TIMEOUT,\r\n\t\t\t\t\t\t\t\tTimeUnit.MILLISECONDS)));\r\n\t\treturn WebClient.builder()\r\n\t\t\t\t .filter(webClientFilter).filter(\r\n\t\t\t\t\t\tExchangeFilterFunction.ofResponseProcessor(this::errorHandler))\r\n\t\t\t\t.clientConnector(new ReactorClientHttpConnector(httpClient)).build();\r\n\r\n\t}\r\n\r\nWebFilter.java\r\n\r\n    @Component\r\n    public class WebClientFilter implements ExchangeFilterFunction {\r\n\t\r\n\r\n\t@Autowired\r\n\tMtExchangeFilterFunction exchangeFilter;\r\n\r\n\t\t\r\n\t@Override\r\n\tpublic Mono&lt;ClientResponse&gt; filter(ClientRequest clientRequest, ExchangeFunction next) {\r\n\t\treturn exchangeFilter.filter(clientRequest, next);\r\n\t\t\r\n\t}\r\n}","title":"Junit fails for ExchangeFilterFunction","body":"<p>I am getting below exception for Junit test. I am unsure what I am making wrong.</p>\n<pre><code>java.lang.IllegalArgumentException: ExchangeFilterFunction must not be null\nat org.springframework.util.Assert.notNull(Assert.java:201)\nat org.springframework.web.reactive.function.client.DefaultWebClientBuilder.filter(DefaultWebClientBuilder.java:197)\nat com.mt.common.webclient.WebClientHelper.webClientBuilder(WebClientHelper.java:327)\nat com.mt.common.webclient.WebClientHelper.performWebRequest(WebClientHelper.java:293)\nat com.mt.common.webclient.WebClientHelper.getAsynchronousWebClient(WebClientHelper.java:62)\nat com.mt.common.webclient.test.WebClientHelperTest.testGetAsynchronousWebClientWithPathParamNotNull(WebClientHelperTest.java:216)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:568)\nat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\nat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\nat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\nat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\nat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\nat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\nat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\nat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\nat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\nat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\nat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:95)\nat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:91)\nat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:60)\nat org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\nat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\n</code></pre>\n<p>Code:\nJunit:</p>\n<pre><code>@Test\nvoid testGetAsynchronousWebClientWithPathParamNotNull() throws Exception {\n    WebClientHelper&lt;Stores&gt; helper = new WebClientHelper&lt;Stores&gt;();\n    when(webClientRequest.getRequestTracker()).thenReturn(&quot;requesttracker&quot;);\n    when(webClientRequest.getPathParam()).thenReturn(&quot;pathParam&quot;);\n    when(webClientRequest.getEndPoint()).thenReturn(&quot;URL&quot;);\n    Map&lt;String, String&gt; queryParam = new LinkedHashMap&lt;String, String&gt;();\n    queryParam.put(&quot;Query&quot;, &quot;select * from Stores&quot;);\n    when(webClientRequest.getContentType()).thenReturn(ContentType.APPLICATION_JSON.toString());\n    Map&lt;String, String&gt; headerParam = new LinkedHashMap&lt;String, String&gt;();\n    queryParam.put(&quot;User&quot;, &quot;mtamp&quot;);\n    when(webClientRequest.getHeadersParam()).thenReturn(headerParam);\n          ClientRequest clientRequest = Mockito.mock(ClientRequest.class);\n            ExchangeFunction exchangeFunction = Mockito.mock(ExchangeFunction.class);\n            ClientResponse clientResponse = mock(ClientResponse.class);\n    when(webClientFilter.filter(clientRequest,exchangeFunction)).thenReturn(Mono.just(clientResponse));\n    \n    assertNotNull(helper.getAsynchronousWebClient(webClientRequest, Stores.class));\n\n    verify(webClientRequest, times(1)).getRequestTracker();\n    verify(webClientRequest, times(2)).getHeadersParam();\n    verify(webClientRequest, times(1)).getEndPoint();\n    verify(webClientRequest, times(3)).getContentType();\n    verify(webClientRequest, times(2)).getPathParam();\n\n}\n</code></pre>\n<p>WebClientHelper.java</p>\n<pre><code>@Autowired\nWebClientFilter webClientFilter;\n\nprivate WebClient webClientBuilder() {\n    HttpClient httpClient = HttpClient.create()\n            .option(ChannelOption.CONNECT_TIMEOUT_MILLIS, WebClientConstants.WEB_CLIENT_TIMEOUT)\n            .responseTimeout(Duration.ofMillis(WebClientConstants.WEB_CLIENT_RESPONSE_TIMEOUT))\n            .doOnConnected(conn -&gt; conn\n                    .addHandlerLast(\n                            new ReadTimeoutHandler(WebClientConstants.WEB_CLIENT_READ_TIMEOUT, TimeUnit.MILLISECONDS))\n                    .addHandlerLast(new WriteTimeoutHandler(WebClientConstants.WEB_CLIENT_WRITE_TIMEOUT,\n                            TimeUnit.MILLISECONDS)));\n    return WebClient.builder()\n             .filter(webClientFilter).filter(\n                    ExchangeFilterFunction.ofResponseProcessor(this::errorHandler))\n            .clientConnector(new ReactorClientHttpConnector(httpClient)).build();\n\n}\n</code></pre>\n<p>WebFilter.java</p>\n<pre><code>@Component\npublic class WebClientFilter implements ExchangeFilterFunction {\n\n\n@Autowired\nMtExchangeFilterFunction exchangeFilter;\n\n    \n@Override\npublic Mono&lt;ClientResponse&gt; filter(ClientRequest clientRequest, ExchangeFunction next) {\n    return exchangeFilter.filter(clientRequest, next);\n    \n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":2,"creation_date":1678658512,"post_id":75716589,"comment_id":133571829,"body_markdown":"I suspect your `getSpieler()` is actually returning `this.spieler.values()` in the real code, or something similar is going on. When I run a modified version of this code, with modifications just to make it compile (e.g. replace the undeclared `Spieler` class with `Integer`), it compiles fine: https://ideone.com/qSrmX6","body":"I suspect your <code>getSpieler()</code> is actually returning <code>this.spieler.values()</code> in the real code, or something similar is going on. When I run a modified version of this code, with modifications just to make it compile (e.g. replace the undeclared <code>Spieler</code> class with <code>Integer</code>), it compiles fine: <a href=\"https://ideone.com/qSrmX6\" rel=\"nofollow noreferrer\">ideone.com/qSrmX6</a>"},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":1,"creation_date":1678658553,"post_id":75716589,"comment_id":133571839,"body_markdown":"This is obviously not your real code. Can you post the actual code?","body":"This is obviously not your real code. Can you post the actual code?"},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1678659731,"post_id":75716589,"comment_id":133571993,"body_markdown":"Please provide a [mre].","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":28001269,"reputation":1,"user_id":21385487,"display_name":"NaCl"},"score":0,"creation_date":1678660335,"post_id":75716589,"comment_id":133572073,"body_markdown":"I edited it to be the exact same code that use. I do not use the values() command in my getSpieler() method","body":"I edited it to be the exact same code that use. I do not use the values() command in my getSpieler() method"},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":1,"creation_date":1678660682,"post_id":75716589,"comment_id":133572115,"body_markdown":"`if((this.getSpieler()).containsKey(&quot;a&quot;)) {` &lt;-- this is in a class that doesn&#39;t have a `getSpieler()` (unless `Reader` is a class you define, in which case you haven&#39;t showed it to us), and the parentheses don&#39;t even match.","body":"<code>if((this.getSpieler()).containsKey(&quot;a&quot;)) {</code> &lt;-- this is in a class that doesn&#39;t have a <code>getSpieler()</code> (unless <code>Reader</code> is a class you define, in which case you haven&#39;t showed it to us), and the parentheses don&#39;t even match."},{"owner":{"account_id":28001269,"reputation":1,"user_id":21385487,"display_name":"NaCl"},"score":0,"creation_date":1678661009,"post_id":75716589,"comment_id":133572149,"body_markdown":"@yshvit oh yes you are right i have a reader class with the getSpieler() method. How can I make sure that i use the getSpieler() Method from my Turnier Class ?","body":"@yshvit oh yes you are right i have a reader class with the getSpieler() method. How can I make sure that i use the getSpieler() Method from my Turnier Class ?"},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":0,"creation_date":1678661477,"post_id":75716589,"comment_id":133572225,"body_markdown":"You already have `getSpieler() within `Turnier` (though it sounds like maybe a different implementation). The best way to call the one from `Reader` within `Turnier` is to just have a reference to the `Reader` within `Turnier` — though that sounds like it may set up a cyclic dependency (which works, but has maintenance problems as your code gets bigger). What does `Reader.getSpieler()` look like?","body":"You already have <code>getSpieler() within </code>Turnier` (though it sounds like maybe a different implementation). The best way to call the one from <code>Reader</code> within <code>Turnier</code> is to just have a reference to the <code>Reader</code> within <code>Turnier</code> — though that sounds like it may set up a cyclic dependency (which works, but has maintenance problems as your code gets bigger). What does <code>Reader.getSpieler()</code> look like?"},{"owner":{"account_id":28001269,"reputation":1,"user_id":21385487,"display_name":"NaCl"},"score":0,"creation_date":1678661772,"post_id":75716589,"comment_id":133572270,"body_markdown":"@yshavit I edited it  to show the Reader class. I am trying to use the getSpieler() implementation from Turnier within my CSVReader class.","body":"@yshavit I edited it  to show the Reader class. I am trying to use the getSpieler() implementation from Turnier within my CSVReader class."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1678661864,"post_id":75716589,"comment_id":133572280,"body_markdown":"@NaCl Here&#39;s the thing: This code __is not__ what you are actually running. You said it was; it clearly is not, because if it had been, `getSpieler()` would have been a compilation error (or, `CSVReader` is your class, and it&#39;s not in your paste). Edit the question again and this time copy and paste _exactly_.","body":"@NaCl Here&#39;s the thing: This code <b>is not</b> what you are actually running. You said it was; it clearly is not, because if it had been, <code>getSpieler()</code> would have been a compilation error (or, <code>CSVReader</code> is your class, and it&#39;s not in your paste). Edit the question again and this time copy and paste <i>exactly</i>."},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":1,"creation_date":1678661925,"post_id":75716589,"comment_id":133572291,"body_markdown":"`Collection&lt;Spieler&gt; getSpieler() { return this.spieler.values(); }` &lt;-- there&#39;s your problem. A Collection is not a Map, and it doesn&#39;t have a `containsKey()` method.","body":"<code>Collection&lt;Spieler&gt; getSpieler() { return this.spieler.values(); }</code> &lt;-- there&#39;s your problem. A Collection is not a Map, and it doesn&#39;t have a <code>containsKey()</code> method."},{"owner":{"account_id":28001269,"reputation":1,"user_id":21385487,"display_name":"NaCl"},"score":1,"creation_date":1678662219,"post_id":75716589,"comment_id":133572332,"body_markdown":"@rzwitserloot CSVReader is my class and it is in my post. This is exactly what I run. The package does contain more classes but I do not think they are relevent for the problem. Basically my problem is that i have the getSpieler() MEthod two times. Once in my Turnier class and once in my Reader class. Right now with my current code I am uesing the getSpieler Method in my Reader class, wich does not work. I think i only have to figure out how to use the getSpieler() from my Turnier class","body":"@rzwitserloot CSVReader is my class and it is in my post. This is exactly what I run. The package does contain more classes but I do not think they are relevent for the problem. Basically my problem is that i have the getSpieler() MEthod two times. Once in my Turnier class and once in my Reader class. Right now with my current code I am uesing the getSpieler Method in my Reader class, wich does not work. I think i only have to figure out how to use the getSpieler() from my Turnier class"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1678671338,"post_id":75716589,"comment_id":133573398,"body_markdown":"See @yshavit&#39;s comment.","body":"See @yshavit&#39;s comment."}],"answers":[{"tags":[],"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678677944,"creation_date":1678674597,"answer_id":75717603,"question_id":75716589,"body_markdown":"The call \r\n\r\n    if(((HashMap&lt;String,Spieler&gt;)getSpieler()).containsKey(&quot;a&quot;)) \r\n\r\nis in CSVReader.  CSVReader extends Reader, which contains \r\n\r\n    public Collection&lt;Spieler&gt; getSpieler() {\r\n        return this.spieler.values();\r\n    }\r\n\r\nIf &#39;spieler&#39; is a Map, which it is, then [per the documentation](https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#values--) the return of values() is a Collection of the values in the Map.  Not the Map.\r\n\r\nTherefore the call in CSVReader is a call to that routine in Reader, and it returns a Collection of Spielers, which (as the error message said) is not castable to any kind of Map.\r\n\r\n","title":"HashMap$Values cannot be cast to class HashMap","body":"<p>The call</p>\n<pre><code>if(((HashMap&lt;String,Spieler&gt;)getSpieler()).containsKey(&quot;a&quot;)) \n</code></pre>\n<p>is in CSVReader.  CSVReader extends Reader, which contains</p>\n<pre><code>public Collection&lt;Spieler&gt; getSpieler() {\n    return this.spieler.values();\n}\n</code></pre>\n<p>If 'spieler' is a Map, which it is, then <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#values--\" rel=\"nofollow noreferrer\">per the documentation</a> the return of values() is a Collection of the values in the Map.  Not the Map.</p>\n<p>Therefore the call in CSVReader is a call to that routine in Reader, and it returns a Collection of Spielers, which (as the error message said) is not castable to any kind of Map.</p>\n"}],"owner":{"account_id":28001269,"reputation":1,"user_id":21385487,"display_name":"NaCl"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1678677944,"creation_date":1678657815,"question_id":75716589,"body_markdown":"I have this class Turnier where I implement a HashMap.\r\nBut once I use a reference of it, I get a error.\r\n\r\n\r\n\r\n```\r\npackage data;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Collection;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class Turnier implements Comparable&lt;Turnier&gt; {\r\n\t\r\n\tprivate String name;\r\n\tprivate int year;\r\n\t\r\n\tprivate Collection&lt;Match&gt; matches = new ArrayList &lt;Match&gt;() ;\r\n\tprivate Map&lt;String, Spieler&gt; spieler = new HashMap&lt;String,Spieler&gt;(); \r\n\t\r\n\tpublic Turnier(String name) {\r\n\t\tthis.name = name;\r\n\t\t\r\n\t\tthis.year = Integer.parseInt(this.name.substring(this.name.length() - 4));\r\n\t}\r\n\t\r\n\tpublic String getName() {\r\n\t\treturn this.name;\r\n\t}\r\n\t\r\n\tpublic Collection&lt;Match&gt; getMatches() {\r\n\t\treturn this.matches;\r\n\t}\r\n\t\r\n\tpublic void addMatch(Match match) {\r\n\t\t\r\n\t\tgetMatches().add(match);\r\n\t}\r\n\t\t\r\n\tpublic void addSpieler(Spieler spieler) {\r\n\t\t\r\n\t\tgetSpieler().put(spieler.getID(), spieler);\r\n\t}\r\n\t\r\n\tpublic Map&lt;String, Spieler&gt; getSpieler() {\r\n\t\treturn this.spieler;\r\n\t}\r\n\t\r\n\tpublic int getJahr() {\r\n\t\treturn this.year;\r\n\t}\r\n\t\r\n\tpublic String toString() {\r\n\t\treturn this.name;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int compareTo(Turnier t2) {\r\n\t\treturn this.name.compareToIgnoreCase(t2.name);\r\n\t}\r\n\t\r\n}\r\n```\r\nBut when I try to use the HashMap via getters,like this: I always get a exception \r\n&gt; HashMap$Values cannot be cast to class HashMap\r\n\r\n```\r\npackage io;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.FileReader;\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\n\r\nimport data.Ergebnis;\r\nimport data.Satz;\r\nimport data.Match;\r\nimport data.Spieler;\r\nimport data.Turnier;\r\n\r\npublic class CSVReader extends Reader {\r\n\r\n\tpublic CSVReader(String filename) {\r\n\t\tsuper(filename);\r\n\t}\r\n\r\n\tpublic CSVReader(File file) {\r\n\t\tsuper(file);\r\n\t}\r\n\r\n\t\r\n\tpublic void parseLine(String line) {\r\n\t\tString[] tokens = getTokens(line);\r\n\t\tSystem.out.print(tokens[3]);\r\n\t\t\r\n\t\tif(((HashMap&lt;String,Spieler&gt;)getSpieler()).containsKey(&quot;a&quot;)) {\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t}\r\n\r\n\t\r\n\tpublic String[] getTokens(String line) {\r\n\t\tString[] tokens = line.split(&quot;;&quot;);\r\n\t\treturn tokens;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void parseFile() {\r\n\t\ttry (BufferedReader bufR = new BufferedReader(new FileReader(this.file))) {\r\n\t\t\tString line;\r\n\t\t\tbufR.readLine(); // erste Zeile ignorieren\r\n\t\t\twhile ((line = bufR.readLine()) != null) {\r\n\t\t\t\tparseLine(line);\r\n\t\t\t}\r\n\r\n\t\t} catch (FileNotFoundException e) {\r\n\t\t\tSystem.out.println(e.getMessage());\r\n\t\t} catch (IOException e) {\r\n\t\t\tSystem.out.println(e.getMessage());\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tCSVReader reader = new CSVReader(general.Parameters.csvPath);\r\n\t\treader.parseFile();\r\n\t\treader.info();\r\n\r\n\t}\r\n}\r\n```\r\nThis is my Spieler Class \r\n```\r\npackage data;\r\n\r\npublic class Spieler {\r\n\t\r\n\tprivate String S_ID;\r\n\tprivate String vorname;\r\n\tprivate String nachname;\r\n\tprivate String geburtstag;\r\n\tprivate String geburtsort;\r\n\tprivate String nationalitaet;\r\n\t\r\n\tpublic Spieler(String id, String vorname, String nachname, String geburtstag, String geburtsort, String nationalitaet) {\r\n\t\tthis.S_ID = id;\r\n\t\tthis.vorname = vorname;\r\n\t\tthis.nachname = nachname;\r\n\t\tthis.geburtstag = geburtstag;\r\n\t\tthis.geburtsort = geburtsort;\r\n\t\tthis.nationalitaet = nationalitaet;\r\n\t}\r\n\t\r\n\tpublic String getID() {\r\n\t\treturn this.S_ID;\r\n\t}\r\n\t\r\n\tpublic String getName() {\r\n\t\treturn this.vorname + &quot; &quot; + this.nachname;\r\n\t}\r\n\t\r\n\tpublic String getVorname() {\r\n\t\treturn this.vorname;\r\n\t}\r\n\t\r\n\tpublic String getNachname() {\r\n\t\treturn this.nachname;\r\n\t}\r\n\t\r\n\tpublic String getGeburtstag() {\r\n\t\treturn this.geburtstag;\t\r\n\t}\r\n\t\r\n\tpublic String getGeburtsort() {\r\n\t\treturn this.geburtsort;\t\r\n\t}\r\n\t\r\n\tpublic String getNationalitaet() {\r\n\t\treturn this.nationalitaet;\r\n\t}\r\n\t\r\n\tpublic String toString() {\r\n\t\treturn this.getName();\r\n\t}\r\n}\r\n\r\n```\r\n  \r\nThis is my Reader Class\r\n```\r\n package io;\r\n\r\nimport java.io.File;\r\nimport java.util.Collection;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\nimport data.Spieler;\r\nimport data.Turnier;\r\n\r\npublic abstract class Reader {\r\n\tprotected File file;\r\n\tprotected Map &lt;String, Spieler&gt; spieler;\r\n\tprotected Map &lt;String, Turnier&gt; turniere;\r\n\r\n\tpublic Reader(String filename) {\r\n\t\tthis(new File(filename));\r\n\t}\r\n\t\r\n\tpublic abstract void parseFile();\r\n\t\r\n\tpublic Reader (File file) {\r\n\t\tthis.file = file;\r\n\t\tthis.spieler = new HashMap&lt;&gt;();\r\n\t\tthis.turniere = new HashMap&lt;&gt;();\r\n\t}\r\n\t\r\n\tpublic Collection&lt;Spieler&gt; getSpieler() {\r\n\t\treturn this.spieler.values();\r\n\t}\r\n\t\r\n\r\n\tpublic Collection&lt;Turnier&gt; getTurniere() {\r\n\t\treturn this.turniere.values();\r\n\t}\r\n\t\r\n\tpublic void info() {\r\n\t\tSystem.out.println(this.spieler.values().size() + &quot; Spieler&quot;);\r\n\t\t//System.out.println(this.spiele.values().size() + &quot; Spiele&quot;);\r\n\t\tSystem.out.println(this.turniere.values().size() + &quot; Turniere&quot;);\r\n\t}\r\n}\r\n```\r\nAlso, when I don&#39;t do the type cast\r\n&gt; (HashMap&lt;String,Spieler&gt;)this.getSpieler()).containsKey(&quot;a&quot;)\r\nI get the error \r\n&gt; The method containsKey(String) is undefind for type Collection&lt;Spieler&gt;\r\nwhich is weird to me since the return value of my get method is supposed to be HashMap&lt;String,Spieler&gt;\r\nand not Collection&lt;Spieler&gt;","title":"HashMap$Values cannot be cast to class HashMap","body":"<p>I have this class Turnier where I implement a HashMap.\nBut once I use a reference of it, I get a error.</p>\n<pre><code>package data;\n\nimport java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class Turnier implements Comparable&lt;Turnier&gt; {\n    \n    private String name;\n    private int year;\n    \n    private Collection&lt;Match&gt; matches = new ArrayList &lt;Match&gt;() ;\n    private Map&lt;String, Spieler&gt; spieler = new HashMap&lt;String,Spieler&gt;(); \n    \n    public Turnier(String name) {\n        this.name = name;\n        \n        this.year = Integer.parseInt(this.name.substring(this.name.length() - 4));\n    }\n    \n    public String getName() {\n        return this.name;\n    }\n    \n    public Collection&lt;Match&gt; getMatches() {\n        return this.matches;\n    }\n    \n    public void addMatch(Match match) {\n        \n        getMatches().add(match);\n    }\n        \n    public void addSpieler(Spieler spieler) {\n        \n        getSpieler().put(spieler.getID(), spieler);\n    }\n    \n    public Map&lt;String, Spieler&gt; getSpieler() {\n        return this.spieler;\n    }\n    \n    public int getJahr() {\n        return this.year;\n    }\n    \n    public String toString() {\n        return this.name;\n    }\n\n    @Override\n    public int compareTo(Turnier t2) {\n        return this.name.compareToIgnoreCase(t2.name);\n    }\n    \n}\n</code></pre>\n<p>But when I try to use the HashMap via getters,like this: I always get a exception</p>\n<blockquote>\n<p>HashMap$Values cannot be cast to class HashMap</p>\n</blockquote>\n<pre><code>package io;\n\nimport java.io.BufferedReader;\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.HashMap;\n\nimport data.Ergebnis;\nimport data.Satz;\nimport data.Match;\nimport data.Spieler;\nimport data.Turnier;\n\npublic class CSVReader extends Reader {\n\n    public CSVReader(String filename) {\n        super(filename);\n    }\n\n    public CSVReader(File file) {\n        super(file);\n    }\n\n    \n    public void parseLine(String line) {\n        String[] tokens = getTokens(line);\n        System.out.print(tokens[3]);\n        \n        if(((HashMap&lt;String,Spieler&gt;)getSpieler()).containsKey(&quot;a&quot;)) {\n            \n        }\n        \n        \n        \n    }\n\n    \n    public String[] getTokens(String line) {\n        String[] tokens = line.split(&quot;;&quot;);\n        return tokens;\n    }\n    \n    @Override\n    public void parseFile() {\n        try (BufferedReader bufR = new BufferedReader(new FileReader(this.file))) {\n            String line;\n            bufR.readLine(); // erste Zeile ignorieren\n            while ((line = bufR.readLine()) != null) {\n                parseLine(line);\n            }\n\n        } catch (FileNotFoundException e) {\n            System.out.println(e.getMessage());\n        } catch (IOException e) {\n            System.out.println(e.getMessage());\n        }\n    }\n\n    public static void main(String[] args) {\n        CSVReader reader = new CSVReader(general.Parameters.csvPath);\n        reader.parseFile();\n        reader.info();\n\n    }\n}\n</code></pre>\n<p>This is my Spieler Class</p>\n<pre><code>package data;\n\npublic class Spieler {\n    \n    private String S_ID;\n    private String vorname;\n    private String nachname;\n    private String geburtstag;\n    private String geburtsort;\n    private String nationalitaet;\n    \n    public Spieler(String id, String vorname, String nachname, String geburtstag, String geburtsort, String nationalitaet) {\n        this.S_ID = id;\n        this.vorname = vorname;\n        this.nachname = nachname;\n        this.geburtstag = geburtstag;\n        this.geburtsort = geburtsort;\n        this.nationalitaet = nationalitaet;\n    }\n    \n    public String getID() {\n        return this.S_ID;\n    }\n    \n    public String getName() {\n        return this.vorname + &quot; &quot; + this.nachname;\n    }\n    \n    public String getVorname() {\n        return this.vorname;\n    }\n    \n    public String getNachname() {\n        return this.nachname;\n    }\n    \n    public String getGeburtstag() {\n        return this.geburtstag; \n    }\n    \n    public String getGeburtsort() {\n        return this.geburtsort; \n    }\n    \n    public String getNationalitaet() {\n        return this.nationalitaet;\n    }\n    \n    public String toString() {\n        return this.getName();\n    }\n}\n\n</code></pre>\n<p>This is my Reader Class</p>\n<pre><code> package io;\n\nimport java.io.File;\nimport java.util.Collection;\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport data.Spieler;\nimport data.Turnier;\n\npublic abstract class Reader {\n    protected File file;\n    protected Map &lt;String, Spieler&gt; spieler;\n    protected Map &lt;String, Turnier&gt; turniere;\n\n    public Reader(String filename) {\n        this(new File(filename));\n    }\n    \n    public abstract void parseFile();\n    \n    public Reader (File file) {\n        this.file = file;\n        this.spieler = new HashMap&lt;&gt;();\n        this.turniere = new HashMap&lt;&gt;();\n    }\n    \n    public Collection&lt;Spieler&gt; getSpieler() {\n        return this.spieler.values();\n    }\n    \n\n    public Collection&lt;Turnier&gt; getTurniere() {\n        return this.turniere.values();\n    }\n    \n    public void info() {\n        System.out.println(this.spieler.values().size() + &quot; Spieler&quot;);\n        //System.out.println(this.spiele.values().size() + &quot; Spiele&quot;);\n        System.out.println(this.turniere.values().size() + &quot; Turniere&quot;);\n    }\n}\n</code></pre>\n<p>Also, when I don't do the type cast</p>\n<blockquote>\n<p>(HashMap&lt;String,Spieler&gt;)this.getSpieler()).containsKey(&quot;a&quot;)\nI get the error\nThe method containsKey(String) is undefind for type Collection\nwhich is weird to me since the return value of my get method is supposed to be HashMap&lt;String,Spieler&gt;\nand not Collection</p>\n</blockquote>\n"},{"tags":["history","javadoc","java"],"answers":[{"tags":[],"owner":{"account_id":23234,"reputation":34610,"user_id":58082,"accept_rate":78,"display_name":"Pierre"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1263560682,"creation_date":1263560682,"answer_id":2071601,"question_id":2071575,"body_markdown":"I Found it at: [http://web.mit.edu/java_v1.0.2/][1]\r\n\r\n\r\n  [1]: http://web.mit.edu/java_v1.0.2/","title":"Where can I get a copy of JDK 1.0.2 JavaDocs?","body":"<p>I Found it at: <a href=\"http://web.mit.edu/java_v1.0.2/\" rel=\"noreferrer\">http://web.mit.edu/java_v1.0.2/</a></p>\n"},{"comments":[{"owner":{"account_id":2147,"reputation":38490,"user_id":2961,"accept_rate":79,"display_name":"Stu Thompson"},"score":0,"creation_date":1263561344,"post_id":2071607,"comment_id":2001436,"body_markdown":"I musta had too many parameters in my search.  Over complicating things again....","body":"I musta had too many parameters in my search.  Over complicating things again...."}],"tags":[],"owner":{"account_id":71985,"reputation":7903,"user_id":208013,"display_name":"Mirek Pluta"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1263560726,"creation_date":1263560726,"answer_id":2071607,"question_id":2071575,"body_markdown":"The very first google answer links to http://www.whitman.edu/mathematics/java_api/packages.html which looke like doc for java 1.0","title":"Where can I get a copy of JDK 1.0.2 JavaDocs?","body":"<p>The very first google answer links to <a href=\"http://www.whitman.edu/mathematics/java_api/packages.html\" rel=\"nofollow noreferrer\">http://www.whitman.edu/mathematics/java_api/packages.html</a> which looke like doc for java 1.0</p>\n"},{"comments":[{"owner":{"account_id":2147,"reputation":38490,"user_id":2961,"accept_rate":79,"display_name":"Stu Thompson"},"score":0,"creation_date":1263561186,"post_id":2071627,"comment_id":2001425,"body_markdown":"Humph...I used their search but got nothing.","body":"Humph...I used their search but got nothing."},{"owner":{"account_id":27728,"reputation":4615,"user_id":73479,"display_name":"brindy"},"score":0,"creation_date":1263562457,"post_id":2071627,"comment_id":2001553,"body_markdown":"Yeah, it&#39;s not very intuitive.  You have to know the domain you&#39;re interested in to get the best results and then it&#39;s just a matter of narrowing in on what you&#39;re after.","body":"Yeah, it&#39;s not very intuitive.  You have to know the domain you&#39;re interested in to get the best results and then it&#39;s just a matter of narrowing in on what you&#39;re after."}],"tags":[],"owner":{"account_id":27728,"reputation":4615,"user_id":73479,"display_name":"brindy"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1263560874,"creation_date":1263560874,"answer_id":2071627,"question_id":2071575,"body_markdown":"Web archive looks promising:\r\nhttp://web.archive.org/web/19990504101333/www.java.sun.com/products/jdk/1.0.2/apidocs.html\r\n","title":"Where can I get a copy of JDK 1.0.2 JavaDocs?","body":"<p>Web archive looks promising:\n<a href=\"http://web.archive.org/web/19990504101333/www.java.sun.com/products/jdk/1.0.2/apidocs.html\" rel=\"nofollow noreferrer\">http://web.archive.org/web/19990504101333/www.java.sun.com/products/jdk/1.0.2/apidocs.html</a></p>\n"},{"comments":[{"owner":{"account_id":165129,"reputation":1388,"user_id":388317,"accept_rate":0,"display_name":"Christian Ullenboom"},"score":0,"creation_date":1693247567,"post_id":24468533,"comment_id":135732652,"body_markdown":"Sadly, not a valid link anymore.","body":"Sadly, not a valid link anymore."}],"tags":[],"owner":{"account_id":1389406,"reputation":1605,"user_id":3614563,"display_name":"George Koehler"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1403970996,"creation_date":1403970996,"answer_id":24468533,"question_id":2071575,"body_markdown":"JDK-1_0_2-apidocs-long.zip is an archive of these documents. One might download this file from the internet, unzip it, and open index.html. I found a link to this file from http://www.pascal-man.com/download/download-jdk.shtml\r\n\r\nThe SHA256 of this file is\r\n\r\n - fede377a3476a929966ff7dde6819948cb3be44ddb0cb1e0f388ed886e303408","title":"Where can I get a copy of JDK 1.0.2 JavaDocs?","body":"<p>JDK-1_0_2-apidocs-long.zip is an archive of these documents. One might download this file from the internet, unzip it, and open index.html. I found a link to this file from <a href=\"http://www.pascal-man.com/download/download-jdk.shtml\" rel=\"nofollow\">http://www.pascal-man.com/download/download-jdk.shtml</a></p>\n\n<p>The SHA256 of this file is</p>\n\n<ul>\n<li>fede377a3476a929966ff7dde6819948cb3be44ddb0cb1e0f388ed886e303408</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":165129,"reputation":1388,"user_id":388317,"accept_rate":0,"display_name":"Christian Ullenboom"},"score":0,"creation_date":1693247579,"post_id":75717799,"comment_id":135732656,"body_markdown":"Sadly, not a valid link anymore.","body":"Sadly, not a valid link anymore."}],"tags":[],"owner":{"account_id":13735930,"reputation":1,"user_id":9912206,"display_name":"F Y"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678677520,"creation_date":1678677520,"answer_id":75717799,"question_id":2071575,"body_markdown":"You can download it here: http://ftp.icm.edu.pl/pub/java/javasoft-docs/jdk1.0.2/. Searched by file name &quot;JDK-1_0_2-apidocs-long.zip&quot;","title":"Where can I get a copy of JDK 1.0.2 JavaDocs?","body":"<p>You can download it here: <a href=\"http://ftp.icm.edu.pl/pub/java/javasoft-docs/jdk1.0.2/\" rel=\"nofollow noreferrer\">http://ftp.icm.edu.pl/pub/java/javasoft-docs/jdk1.0.2/</a>. Searched by file name &quot;JDK-1_0_2-apidocs-long.zip&quot;</p>\n"}],"owner":{"account_id":2147,"reputation":38490,"user_id":2961,"accept_rate":79,"display_name":"Stu Thompson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3823,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":2071601,"answer_count":5,"score":11,"last_activity_date":1678677520,"creation_date":1263560408,"question_id":2071575,"body_markdown":"I&#39;m doing a bit of research for a blog post involving the evolution of a specific part of the Java API.  To that end, I&#39;ve been able to find JavaDocs going all the way back to JDK 1.1, but not to the original 1.0.  \r\n\r\nSun has removed any trace of JDK 1.0 JavaDocs from [sun.com][1].  I&#39;ve Googled high and low, near and far, but cannot find anything.  Nothing shows up on [archive.org][2] either.\r\n\r\nAny ideas?  \r\n\r\n**Where can I get a copy of JDK 1.0.2 JavaDocs?**\r\n\r\n\r\n  [1]: http://java.sun.com\r\n  [2]: http://www.archive.org","title":"Where can I get a copy of JDK 1.0.2 JavaDocs?","body":"<p>I'm doing a bit of research for a blog post involving the evolution of a specific part of the Java API.  To that end, I've been able to find JavaDocs going all the way back to JDK 1.1, but not to the original 1.0.  </p>\n\n<p>Sun has removed any trace of JDK 1.0 JavaDocs from <a href=\"http://java.sun.com\" rel=\"noreferrer\">sun.com</a>.  I've Googled high and low, near and far, but cannot find anything.  Nothing shows up on <a href=\"http://www.archive.org\" rel=\"noreferrer\">archive.org</a> either.</p>\n\n<p>Any ideas?  </p>\n\n<p><strong>Where can I get a copy of JDK 1.0.2 JavaDocs?</strong></p>\n"},{"tags":["java","serenity-bdd","cucumber-serenity"],"comments":[{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1678789760,"post_id":75717762,"comment_id":133597593,"body_markdown":"which part in your locator is dynamic? Try this one https://serenity-bdd.github.io/docs/screenplay/screenplay_webdriver#using-dynamic-targets","body":"which part in your locator is dynamic? Try this one <a href=\"https://serenity-bdd.github.io/docs/screenplay/screenplay_webdriver#using-dynamic-targets\" rel=\"nofollow noreferrer\">serenity-bdd.github.io/docs/screenplay/&hellip;</a>"},{"owner":{"account_id":1983717,"reputation":35,"user_id":1779616,"display_name":"sama940"},"score":0,"creation_date":1678796810,"post_id":75717762,"comment_id":133599496,"body_markdown":"@lucas-nguyen-17 table rows are going to be dynamic as per filter selection and thanks for the link.","body":"@lucas-nguyen-17 table rows are going to be dynamic as per filter selection and thanks for the link."}],"owner":{"account_id":1983717,"reputation":35,"user_id":1779616,"display_name":"sama940"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678676886,"creation_date":1678676886,"question_id":75717762,"body_markdown":"What is the best way to deal with dynamic web table using serenity screenplay?\r\nin selenium I use to do like,\r\n\r\n    List &lt;webelement&gt; rows = wd.findElements(By.xpath(&quot;.//*[@id=&#39;leftcontainer&#39;]/table/tbody/tr/td[1]&quot;)); ","title":"Iterate through dynamic table rows using serenity screenplay","body":"<p>What is the best way to deal with dynamic web table using serenity screenplay?\nin selenium I use to do like,</p>\n<pre><code>List &lt;webelement&gt; rows = wd.findElements(By.xpath(&quot;.//*[@id='leftcontainer']/table/tbody/tr/td[1]&quot;)); \n</code></pre>\n"},{"tags":["java","web-services","jax-ws"],"comments":[{"owner":{"account_id":383980,"reputation":1211,"user_id":740178,"accept_rate":54,"display_name":"V&#237;tor N&#243;brega"},"score":0,"creation_date":1352938095,"post_id":12465026,"comment_id":18288500,"body_markdown":"I am searching for this... any can help us?","body":"I am searching for this... any can help us?"}],"answers":[{"tags":[],"owner":{"account_id":4148736,"reputation":2613,"user_id":3401778,"display_name":"nortontgueno"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678676139,"creation_date":1422385101,"answer_id":28177951,"question_id":12465026,"body_markdown":"This aproach will not work when you deploy your application to a real server on the cloud because you cannot execute your `main` method to publish the web service.\r\n\r\nYou need to configure something to publish your web service when your application starts on server. \r\n\r\nFor example, using Spring, to run an SOAP Web Service on Tomcat you need to inject your WS beans and use the `SimpleJaxWsServiceExporter` bean to publish it, these configurations are realized on your `application-context.xml` or equivalent.\r\n\r\nIn your case, take a look on this [link][1], it is an example of how to publish an WSDL Web Service using JAX-WS RI distribution.\r\n\r\nFor tests, you can deploy your WAR application to [Openshift][2].\r\n\r\n  [1]: http://www.mkyong.com/webservices/jax-ws/deploy-jax-ws-web-services-on-tomcat/\r\n  [2]: https://www.openshift.com/","title":"Deploying web service on cloud","body":"<p>This aproach will not work when you deploy your application to a real server on the cloud because you cannot execute your <code>main</code> method to publish the web service.</p>\n<p>You need to configure something to publish your web service when your application starts on server.</p>\n<p>For example, using Spring, to run an SOAP Web Service on Tomcat you need to inject your WS beans and use the <code>SimpleJaxWsServiceExporter</code> bean to publish it, these configurations are realized on your <code>application-context.xml</code> or equivalent.</p>\n<p>In your case, take a look on this <a href=\"http://www.mkyong.com/webservices/jax-ws/deploy-jax-ws-web-services-on-tomcat/\" rel=\"nofollow noreferrer\">link</a>, it is an example of how to publish an WSDL Web Service using JAX-WS RI distribution.</p>\n<p>For tests, you can deploy your WAR application to <a href=\"https://www.openshift.com/\" rel=\"nofollow noreferrer\">Openshift</a>.</p>\n"}],"owner":{"account_id":1830094,"reputation":93,"user_id":1661744,"accept_rate":38,"display_name":"Rocky Sinha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1652,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1678676139,"creation_date":1347906108,"question_id":12465026,"body_markdown":"I have developed a web service with the below steps:\r\n\r\n1. Create a Web Service Endpoint Interface..\r\n\r\n```java\r\nimport javax.jws.WebMethod;\r\nimport javax.jws.WebService;\r\nimport javax.jws.soap.SOAPBinding;\r\nimport javax.jws.soap.SOAPBinding.Style;\r\n \r\n//Service Endpoint Interface\r\n@WebService\r\n@SOAPBinding(style = Style.RPC)\r\npublic interface HelloWorld {\r\n\r\n\t@WebMethod String getHelloWorldAsString(String name); \r\n}\r\n```\r\n2. Create a Web Service Endpoint Implementation ..\r\n\r\n```java\r\nimport javax.jws.WebService;\r\n \r\n//Service Implementation\r\n@WebService(endpointInterface = &quot;com.abc.ws.HelloWorld&quot;)\r\npublic class HelloWorldImpl implements HelloWorld {\r\n \r\n\t@Override\r\n\tpublic String getHelloWorldAsString(String name) {\r\n\t\treturn &quot;Hello World JAX-WS &quot; + name;\r\n\t}\r\n}\r\n```\r\n\r\n3. Create a Endpoint Publisher...\r\n\r\n```java\r\nimport javax.xml.ws.Endpoint;\r\nimport com.abc.ws.HelloWorldImpl;\r\n     \r\n    //Endpoint publisher\r\n    public class HelloWorldPublisher {\r\n     \r\n    \tpublic static void main(String[] args) {\r\n    \t   Endpoint.publish(&quot;http://localhost:9999/ws/hello&quot;, new HelloWorldImpl());\r\n        }\r\n    }\r\n```\r\n\r\nNow I have also tested the deployed web service by accessing the generated WSDL (Web Service Definition Language) document via this URL `http://localhost:9999/ws/hello?wsdl`.\r\n\r\nI am new to the world of cloud, I want to deploy my webservice to the cloud like Amazon, so that If I provide the wsdl to anyone in the world they can access my wsdl through his browser.\r\n\r\nHow can I achieve this?\r\n\r\n","title":"Deploying web service on cloud","body":"<p>I have developed a web service with the below steps:</p>\n<ol>\n<li>Create a Web Service Endpoint Interface..</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.jws.WebMethod;\nimport javax.jws.WebService;\nimport javax.jws.soap.SOAPBinding;\nimport javax.jws.soap.SOAPBinding.Style;\n \n//Service Endpoint Interface\n@WebService\n@SOAPBinding(style = Style.RPC)\npublic interface HelloWorld {\n\n    @WebMethod String getHelloWorldAsString(String name); \n}\n</code></pre>\n<ol start=\"2\">\n<li>Create a Web Service Endpoint Implementation ..</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.jws.WebService;\n \n//Service Implementation\n@WebService(endpointInterface = &quot;com.abc.ws.HelloWorld&quot;)\npublic class HelloWorldImpl implements HelloWorld {\n \n    @Override\n    public String getHelloWorldAsString(String name) {\n        return &quot;Hello World JAX-WS &quot; + name;\n    }\n}\n</code></pre>\n<ol start=\"3\">\n<li>Create a Endpoint Publisher...</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.xml.ws.Endpoint;\nimport com.abc.ws.HelloWorldImpl;\n     \n    //Endpoint publisher\n    public class HelloWorldPublisher {\n     \n        public static void main(String[] args) {\n           Endpoint.publish(&quot;http://localhost:9999/ws/hello&quot;, new HelloWorldImpl());\n        }\n    }\n</code></pre>\n<p>Now I have also tested the deployed web service by accessing the generated WSDL (Web Service Definition Language) document via this URL <code>http://localhost:9999/ws/hello?wsdl</code>.</p>\n<p>I am new to the world of cloud, I want to deploy my webservice to the cloud like Amazon, so that If I provide the wsdl to anyone in the world they can access my wsdl through his browser.</p>\n<p>How can I achieve this?</p>\n"},{"tags":["java","android","cordova","ionic-framework","java-17"],"comments":[{"owner":{"account_id":22513713,"reputation":179,"user_id":16708274,"display_name":"Keev studio"},"score":0,"creation_date":1660154424,"post_id":70273731,"comment_id":129468219,"body_markdown":"apart of setting properly variables you should\n1. close and open terminal to reflect changes\n2. delete windows cache as this can ben sometimes cached and brings headache when trying to solve this issue","body":"apart of setting properly variables you should 1. close and open terminal to reflect changes 2. delete windows cache as this can ben sometimes cached and brings headache when trying to solve this issue"}],"answers":[{"comments":[{"owner":{"account_id":23147900,"reputation":41,"user_id":17250406,"display_name":"Samprit"},"score":0,"creation_date":1638970995,"post_id":70273780,"comment_id":124228495,"body_markdown":"How can I Do that?As I know Setting the environment path of JAVA_HOME means setting the JDK path only And in JAVA_HOME I have already set my JDK path.Still error is coming","body":"How can I Do that?As I know Setting the environment path of JAVA_HOME means setting the JDK path only And in JAVA_HOME I have already set my JDK path.Still error is coming"},{"owner":{"account_id":22835607,"reputation":11,"user_id":16983410,"display_name":"twiz"},"score":0,"creation_date":1646687794,"post_id":70273780,"comment_id":126181360,"body_markdown":"Just try to use JDK 1.8 and not JDK 17. So download it first and then set JAVA_HOME accordingly.","body":"Just try to use JDK 1.8 and not JDK 17. So download it first and then set JAVA_HOME accordingly."}],"tags":[],"owner":{"account_id":22835607,"reputation":11,"user_id":16983410,"display_name":"twiz"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638960744,"creation_date":1638960744,"answer_id":70273780,"question_id":70273731,"body_markdown":"You need to change your JAVA_HOME entry and put there path to JDK 1.8 installation. ","title":"Requirements check failed for JDK 1.8.x! Detected version: 17.0.1 in Windows 10","body":"<p>You need to change your JAVA_HOME entry and put there path to JDK 1.8 installation.</p>\n"}],"owner":{"account_id":23147900,"reputation":41,"user_id":17250406,"display_name":"Samprit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2790,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678675885,"creation_date":1638960540,"question_id":70273731,"body_markdown":"I am trying to build an apk for Android. when I run the command `ionic cordova build android` I get the error:\r\nChecking Java JDK and Android SDK versions ANDROID_SDK_ROOT=C:\\Users\\myUserName\\AppData\\Local\\Android\\Sdk (recommended setting) ANDROID_HOME=C:\\Users\\myUserName\\AppData\\Local\\Android\\Sdk (DEPRECATED) Requirements check failed for JDK 1.8.x! Detected version: 17.0.1 Check your ANDROID_SDK_ROOT / JAVA_HOME / PATH environment variables.\r\n\r\nApp &#183; Command &quot;cordova&quot; failed with exit code: 1 App &#183; Updated Cordova config.xml App &#183; ⚠️ [FAIL] Cordova CLI has failed\r\n\r\nIt says I need JDK 1.8.x, but it detected  But I am pretty sure I have JDK 1.8 installed\r\n\r\nmy JAVA_HOME environment variable is set to `C:\\Program Files\\Java\\jdk-17.0.1`\r\n\r\nI have no idea why I can&#39;t get the app to build. Please help!\r\n\r\n","title":"Requirements check failed for JDK 1.8.x! Detected version: 17.0.1 in Windows 10","body":"<p>I am trying to build an apk for Android. when I run the command <code>ionic cordova build android</code> I get the error:\nChecking Java JDK and Android SDK versions ANDROID_SDK_ROOT=C:\\Users\\myUserName\\AppData\\Local\\Android\\Sdk (recommended setting) ANDROID_HOME=C:\\Users\\myUserName\\AppData\\Local\\Android\\Sdk (DEPRECATED) Requirements check failed for JDK 1.8.x! Detected version: 17.0.1 Check your ANDROID_SDK_ROOT / JAVA_HOME / PATH environment variables.</p>\n<p>App · Command &quot;cordova&quot; failed with exit code: 1 App · Updated Cordova config.xml App · ⚠️ [FAIL] Cordova CLI has failed</p>\n<p>It says I need JDK 1.8.x, but it detected  But I am pretty sure I have JDK 1.8 installed</p>\n<p>my JAVA_HOME environment variable is set to <code>C:\\Program Files\\Java\\jdk-17.0.1</code></p>\n<p>I have no idea why I can't get the app to build. Please help!</p>\n"},{"tags":["java","android","screen-recording","android-mediaprojection","android-virtualdisplay"],"answers":[{"tags":[],"owner":{"account_id":1881159,"reputation":521,"user_id":2070512,"display_name":"Zachary Vorhies"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678675760,"creation_date":1678675760,"answer_id":75717687,"question_id":70712811,"body_markdown":"Yes, use the ImageReader class and use it&#39;s surface and submit that to the VirtualDisplay. The ImageReader will then start to call it&#39;s callback from the Images produced by the VirtualDisplay and push Images them to your listener.\r\n\r\nYou can then convert the Image to a Bitmap. The Bitmap can be drawn onto the render target surface by locking the canvas and drawing the Bitmap.\r\n\r\nThis will give you full control of the Bitmap. For example I&#39;m drawing the Bitmap to the canvas and scaling it down so that all devices produce the same recorded movie width size. The slowest part here will be conversion of Image -&gt; Bitmap which needs to grab the bytes from the GPU. But the drawing part will be done in GPU as long as you don&#39;t try do apply any drawing to the Bitmap.","title":"Android - Reading VirtualDisplay frames in real time","body":"<p>Yes, use the ImageReader class and use it's surface and submit that to the VirtualDisplay. The ImageReader will then start to call it's callback from the Images produced by the VirtualDisplay and push Images them to your listener.</p>\n<p>You can then convert the Image to a Bitmap. The Bitmap can be drawn onto the render target surface by locking the canvas and drawing the Bitmap.</p>\n<p>This will give you full control of the Bitmap. For example I'm drawing the Bitmap to the canvas and scaling it down so that all devices produce the same recorded movie width size. The slowest part here will be conversion of Image -&gt; Bitmap which needs to grab the bytes from the GPU. But the drawing part will be done in GPU as long as you don't try do apply any drawing to the Bitmap.</p>\n"}],"owner":{"account_id":6934959,"reputation":438,"user_id":5323220,"accept_rate":25,"display_name":"Noam Suissa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":483,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678675760,"creation_date":1642173664,"question_id":70712811,"body_markdown":"I am capturing my Android device&#39;s screen using the `MediaProjection` API by creating a `VirtualDisplay` and displaying it on a `SurfaceView` that remains always visible. I would like to perform some image processing on the frames grabbed by the VirtualDisplay then draw them back to the SurfaceView, all in real time. Is there any way to do this with the VirtualDisplay and MediaProjection APIs?\r\n\r\n**RecordingSession.java**\r\n\r\n    class RecordingSession implements SurfaceHolder.Callback {\r\n      static final int VIRT_DISPLAY_FLAGS=\r\n        DisplayManager.VIRTUAL_DISPLAY_FLAG_OWN_CONTENT_ONLY |\r\n          DisplayManager.VIRTUAL_DISPLAY_FLAG_PUBLIC;\r\n      private RecordingConfig config;\r\n      private final Context ctxt;\r\n      private final ToneGenerator beeper;\r\n      private MediaRecorder recorder;\r\n      private MediaProjection projection;\r\n      private VirtualDisplay vdisplay;\r\n      private Window window;\r\n      private Bitmap latestBitmap=null;\r\n    \r\n      RecordingSession(Context ctxt, RecordingConfig config,\r\n                       MediaProjection projection, Window window) {\r\n        this.ctxt=ctxt.getApplicationContext();\r\n        this.window = window;\r\n        this.config=config;\r\n        this.projection=projection;\r\n        this.beeper=new ToneGenerator(\r\n          AudioManager.STREAM_NOTIFICATION, 100);\r\n      }\r\n    \r\n      void start() {\r\n        this.window = new Window(this.ctxt);\r\n        this.window.open();\r\n        this.window.getScreenShot().getHolder().addCallback(this);\r\n        vdisplay=projection.createVirtualDisplay(&quot;andcorder&quot;,\r\n                config.width*4, config.height*4, config.density,\r\n                VIRT_DISPLAY_FLAGS, null, null, null);\r\n        beeper.startTone(ToneGenerator.TONE_PROP_ACK);\r\n      }\r\n    \r\n      void stop() {\r\n        projection.stop();\r\n        vdisplay.release();\r\n        beeper.startTone(ToneGenerator.TONE_PROP_NACK);\r\n      }\r\n    \r\n      @Override\r\n      public void surfaceCreated(@NonNull SurfaceHolder surfaceHolder) {\r\n    \r\n      }\r\n    \r\n      @Override\r\n      public void surfaceChanged(@NonNull SurfaceHolder surfaceHolder, int i, int i1, int i2) {\r\n        vdisplay.setSurface(surfaceHolder.getSurface());\r\n      }\r\n    \r\n      @Override\r\n      public void surfaceDestroyed(@NonNull SurfaceHolder surfaceHolder) {\r\n    \r\n      }\r\n    \r\n      public void end() {\r\n        this.window.close();\r\n      }\r\n    }","title":"Android - Reading VirtualDisplay frames in real time","body":"<p>I am capturing my Android device's screen using the <code>MediaProjection</code> API by creating a <code>VirtualDisplay</code> and displaying it on a <code>SurfaceView</code> that remains always visible. I would like to perform some image processing on the frames grabbed by the VirtualDisplay then draw them back to the SurfaceView, all in real time. Is there any way to do this with the VirtualDisplay and MediaProjection APIs?</p>\n<p><strong>RecordingSession.java</strong></p>\n<pre><code>class RecordingSession implements SurfaceHolder.Callback {\n  static final int VIRT_DISPLAY_FLAGS=\n    DisplayManager.VIRTUAL_DISPLAY_FLAG_OWN_CONTENT_ONLY |\n      DisplayManager.VIRTUAL_DISPLAY_FLAG_PUBLIC;\n  private RecordingConfig config;\n  private final Context ctxt;\n  private final ToneGenerator beeper;\n  private MediaRecorder recorder;\n  private MediaProjection projection;\n  private VirtualDisplay vdisplay;\n  private Window window;\n  private Bitmap latestBitmap=null;\n\n  RecordingSession(Context ctxt, RecordingConfig config,\n                   MediaProjection projection, Window window) {\n    this.ctxt=ctxt.getApplicationContext();\n    this.window = window;\n    this.config=config;\n    this.projection=projection;\n    this.beeper=new ToneGenerator(\n      AudioManager.STREAM_NOTIFICATION, 100);\n  }\n\n  void start() {\n    this.window = new Window(this.ctxt);\n    this.window.open();\n    this.window.getScreenShot().getHolder().addCallback(this);\n    vdisplay=projection.createVirtualDisplay(&quot;andcorder&quot;,\n            config.width*4, config.height*4, config.density,\n            VIRT_DISPLAY_FLAGS, null, null, null);\n    beeper.startTone(ToneGenerator.TONE_PROP_ACK);\n  }\n\n  void stop() {\n    projection.stop();\n    vdisplay.release();\n    beeper.startTone(ToneGenerator.TONE_PROP_NACK);\n  }\n\n  @Override\n  public void surfaceCreated(@NonNull SurfaceHolder surfaceHolder) {\n\n  }\n\n  @Override\n  public void surfaceChanged(@NonNull SurfaceHolder surfaceHolder, int i, int i1, int i2) {\n    vdisplay.setSurface(surfaceHolder.getSurface());\n  }\n\n  @Override\n  public void surfaceDestroyed(@NonNull SurfaceHolder surfaceHolder) {\n\n  }\n\n  public void end() {\n    this.window.close();\n  }\n}\n</code></pre>\n"},{"tags":["java","variadic-functions"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":6,"creation_date":1678675997,"post_id":75717670,"comment_id":133573876,"body_markdown":"It is a micro-optimization.  Presumably a result of some performance benchmarking that the OpenJDK team did.  If you really want to know the gory details, I suggest you get the JVM to show you the native code produced when these methods are JIT compiled.","body":"It is a micro-optimization.  Presumably a result of some performance benchmarking that the OpenJDK team did.  If you really want to know the gory details, I suggest you get the JVM to show you the native code produced when these methods are JIT compiled."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":4,"creation_date":1678676880,"post_id":75717670,"comment_id":133573965,"body_markdown":"Note also that the fact that `List.of(E e1, E e2, E e3)` creates an array is an implementation detail, which could change. The fact that `List.of(E... elements)` creates an array though, is not an implementation detail. These methods could certainly be implemented in a way such that the non-varargs versions do not create arrays. Whether this has better performance is another story.","body":"Note also that the fact that <code>List.of(E e1, E e2, E e3)</code> creates an array is an implementation detail, which could change. The fact that <code>List.of(E... elements)</code> creates an array though, is not an implementation detail. These methods could certainly be implemented in a way such that the non-varargs versions do not create arrays. Whether this has better performance is another story."}],"owner":{"account_id":28002368,"reputation":21,"user_id":21386344,"display_name":"hong-sile"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1678675582,"creation_date":1678675582,"question_id":75717670,"body_markdown":"List.of(E e1, E e2, E e3) return ImmutableCollections.ListN(e1, e2, e3);\r\n\r\n```java\r\nstatic &lt;E&gt; List&lt;E&gt; of(E e1, E e2, E e3) {\r\n    return new ImmutableCollections.ListN&lt;&gt;(e1, e2, e3);\r\n}\r\n```\r\n\r\nand List.of(E... elements) return ImmutableCollections.ListN(elements) too\r\n\r\n```java\r\n@SafeVarargs\r\n@SuppressWarnings(&quot;varargs&quot;)\r\nstatic &lt;E&gt; List&lt;E&gt; of(E... elements) {\r\n    switch (elements.length) { // implicit null check of elements\r\n        case 0:\r\n            return ImmutableCollections.emptyList();\r\n        case 1:\r\n            return new ImmutableCollections.List12&lt;&gt;(elements[0]);\r\n        case 2:\r\n            return new ImmutableCollections.List12&lt;&gt;(elements[0], elements[1]);\r\n        default:\r\n            return new ImmutableCollections.ListN&lt;&gt;(elements);\r\n    }\r\n}\r\n```\r\n\r\nand ImmutableCollections.ListN\\&lt;\\&gt; Constructor\r\n\r\n``` java\r\n@SafeVarargs\r\nListN(E... input) {\r\n    // copy and check manually to avoid TOCTOU\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    E[] tmp = (E[])new Object[input.length]; // implicit nullcheck of input\r\n    for (int i = 0; i &lt; input.length; i++) {\r\n        tmp[i] = Objects.requireNonNull(input[i]);\r\n    }\r\n    elements = tmp;\r\n}\r\n```\r\n\r\nI&#39;ve previously noticed that List.of(E... elements) has worse performance because it uses variable arguments.\r\nso overloaded versions such as List.of(E e1, E e2, E e3) have been created to not create an array internally.\r\n\r\nHowever, it was confirmed that the overloaded version also creates an array internally while calling ListN, which receives variable arguments as parameters.\r\n\r\nSo, why was an overloaded version with a List size greater than 3 created?","title":"what diffrence is List.of(E e1, E e2, E e3) vs List.of(E... elements)","body":"<p>List.of(E e1, E e2, E e3) return ImmutableCollections.ListN(e1, e2, e3);</p>\n<pre class=\"lang-java prettyprint-override\"><code>static &lt;E&gt; List&lt;E&gt; of(E e1, E e2, E e3) {\n    return new ImmutableCollections.ListN&lt;&gt;(e1, e2, e3);\n}\n</code></pre>\n<p>and List.of(E... elements) return ImmutableCollections.ListN(elements) too</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SafeVarargs\n@SuppressWarnings(&quot;varargs&quot;)\nstatic &lt;E&gt; List&lt;E&gt; of(E... elements) {\n    switch (elements.length) { // implicit null check of elements\n        case 0:\n            return ImmutableCollections.emptyList();\n        case 1:\n            return new ImmutableCollections.List12&lt;&gt;(elements[0]);\n        case 2:\n            return new ImmutableCollections.List12&lt;&gt;(elements[0], elements[1]);\n        default:\n            return new ImmutableCollections.ListN&lt;&gt;(elements);\n    }\n}\n</code></pre>\n<p>and ImmutableCollections.ListN&lt;&gt; Constructor</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SafeVarargs\nListN(E... input) {\n    // copy and check manually to avoid TOCTOU\n    @SuppressWarnings(&quot;unchecked&quot;)\n    E[] tmp = (E[])new Object[input.length]; // implicit nullcheck of input\n    for (int i = 0; i &lt; input.length; i++) {\n        tmp[i] = Objects.requireNonNull(input[i]);\n    }\n    elements = tmp;\n}\n</code></pre>\n<p>I've previously noticed that List.of(E... elements) has worse performance because it uses variable arguments.\nso overloaded versions such as List.of(E e1, E e2, E e3) have been created to not create an array internally.</p>\n<p>However, it was confirmed that the overloaded version also creates an array internally while calling ListN, which receives variable arguments as parameters.</p>\n<p>So, why was an overloaded version with a List size greater than 3 created?</p>\n"},{"tags":["java","android","android-studio","opencv","computer-vision"],"comments":[{"owner":{"account_id":3072614,"reputation":12307,"user_id":2602877,"display_name":"Christoph Rackwitz"},"score":0,"creation_date":1678692985,"post_id":75717548,"comment_id":133575855,"body_markdown":"undeclared crosspost: https://forum.opencv.org/t/opencv-4-7-java-descriptorextractor-and-descriptormatcher-are-missing-what-do-i-use-instead-no-code-in-documenation/12332","body":"undeclared crosspost: <a href=\"https://forum.opencv.org/t/opencv-4-7-java-descriptorextractor-and-descriptormatcher-are-missing-what-do-i-use-instead-no-code-in-documenation/12332\" rel=\"nofollow noreferrer\">forum.opencv.org/t/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":3072614,"reputation":12307,"user_id":2602877,"display_name":"Christoph Rackwitz"},"score":0,"creation_date":1678692975,"post_id":75717637,"comment_id":133575852,"body_markdown":"not just in the old forum, also in the new forum: https://forum.opencv.org/t/opencv-4-7-java-descriptorextractor-and-descriptormatcher-are-missing-what-do-i-use-instead-no-code-in-documenation/12332","body":"not just in the old forum, also in the new forum: <a href=\"https://forum.opencv.org/t/opencv-4-7-java-descriptorextractor-and-descriptormatcher-are-missing-what-do-i-use-instead-no-code-in-documenation/12332\" rel=\"nofollow noreferrer\">forum.opencv.org/t/&hellip;</a>"}],"tags":[],"owner":{"account_id":9969173,"reputation":1133,"user_id":7375877,"display_name":"Mi Po"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678675117,"creation_date":1678675117,"answer_id":75717637,"question_id":75717548,"body_markdown":"They just switched the code without updating any of the documentation,\r\nas evident by DescriptorExtractor still being present in the documentation,\r\n\r\n answers found in opencv forums\r\n\r\nhttps://answers.opencv.org/question/210523/orb-implementation-in-javaandroid-package/\r\n\r\n            ORB detector = ORB.create();\r\n            detector.detect(img, keypoints1, descriptors1);\r\n            detector.detectAndCompute(img, new Mat(), keypoints1, descriptors1);\r\n\r\n\r\nThe ExtractorMatcher is still in OpenCV 4.7 however, so it can still be used","title":"OpenCV 4.7 Java DescriptorExtractor and DescriptorMatcher are missing, no replacements found","body":"<p>They just switched the code without updating any of the documentation,\nas evident by DescriptorExtractor still being present in the documentation,</p>\n<p>answers found in opencv forums</p>\n<p><a href=\"https://answers.opencv.org/question/210523/orb-implementation-in-javaandroid-package/\" rel=\"nofollow noreferrer\">https://answers.opencv.org/question/210523/orb-implementation-in-javaandroid-package/</a></p>\n<pre><code>        ORB detector = ORB.create();\n        detector.detect(img, keypoints1, descriptors1);\n        detector.detectAndCompute(img, new Mat(), keypoints1, descriptors1);\n</code></pre>\n<p>The ExtractorMatcher is still in OpenCV 4.7 however, so it can still be used</p>\n"}],"owner":{"account_id":2345937,"reputation":3332,"user_id":2056201,"accept_rate":23,"display_name":"Mich"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678675117,"creation_date":1678673575,"question_id":75717548,"body_markdown":"I am trying to perform feature matching using this code from this question:\r\nhttps://stackoverflow.com/questions/24569386/opencv-filtering-orb-matches\r\n\r\nThe ORB detection works, however DescriptorExtractor and DescriptorMatcher are no longer to be found in Feature2D and any of the imports\r\n\r\nWhat are their replacements in OpenCV 4 and how do I use them?\r\n\r\nOpenCV documentation offers no help or source code unfortunately \r\nhttps://docs.opencv.org/4.x/d5/d51/group__features2d__main.html\r\n\r\nThanks,\r\n\r\n    MatOfKeyPoint keypoints = new MatOfKeyPoint();\r\n    ORB detector = ORB.create();\r\n\r\n    DescriptorExtractor descriptor = DescriptorExtractor.create(DescriptorExtractor.ORB);;\r\n    DescriptorMatcher matcher = DescriptorMatcher.create(DescriptorMatcher.BRUTEFORCE_HAMMING);\r\n\r\n    // First photo\r\n    Imgproc.cvtColor(img1, img1, Imgproc.COLOR_RGB2GRAY);\r\n    Mat descriptors1 = new Mat();\r\n    MatOfKeyPoint keypoints1 = new MatOfKeyPoint();\r\n\r\n    detector.detect(img1, keypoints1);\r\n    descriptor.compute(img1, keypoints1, descriptors1);\r\n\r\n    // Second photo\r\n    Imgproc.cvtColor(img2, img2, Imgproc.COLOR_RGB2GRAY);\r\n    Mat descriptors2 = new Mat();\r\n    MatOfKeyPoint keypoints2 = new MatOfKeyPoint();\r\n\r\n    detector.detect(img2, keypoints2);\r\n    descriptor.compute(img2, keypoints2, descriptors2);\r\n\r\n    // Matching\r\n\r\n    MatOfDMatch matches = new MatOfDMatch();\r\n    MatOfDMatch filteredMatches = new MatOfDMatch();\r\n    matcher.match(descriptors1, descriptors2, matches);\r\n\r\n    List&lt;DMatch&gt; matchesList = matches.toList();","title":"OpenCV 4.7 Java DescriptorExtractor and DescriptorMatcher are missing, no replacements found","body":"<p>I am trying to perform feature matching using this code from this question:\n<a href=\"https://stackoverflow.com/questions/24569386/opencv-filtering-orb-matches\">OpenCV filtering ORB matches</a></p>\n<p>The ORB detection works, however DescriptorExtractor and DescriptorMatcher are no longer to be found in Feature2D and any of the imports</p>\n<p>What are their replacements in OpenCV 4 and how do I use them?</p>\n<p>OpenCV documentation offers no help or source code unfortunately\n<a href=\"https://docs.opencv.org/4.x/d5/d51/group__features2d__main.html\" rel=\"nofollow noreferrer\">https://docs.opencv.org/4.x/d5/d51/group__features2d__main.html</a></p>\n<p>Thanks,</p>\n<pre><code>MatOfKeyPoint keypoints = new MatOfKeyPoint();\nORB detector = ORB.create();\n\nDescriptorExtractor descriptor = DescriptorExtractor.create(DescriptorExtractor.ORB);;\nDescriptorMatcher matcher = DescriptorMatcher.create(DescriptorMatcher.BRUTEFORCE_HAMMING);\n\n// First photo\nImgproc.cvtColor(img1, img1, Imgproc.COLOR_RGB2GRAY);\nMat descriptors1 = new Mat();\nMatOfKeyPoint keypoints1 = new MatOfKeyPoint();\n\ndetector.detect(img1, keypoints1);\ndescriptor.compute(img1, keypoints1, descriptors1);\n\n// Second photo\nImgproc.cvtColor(img2, img2, Imgproc.COLOR_RGB2GRAY);\nMat descriptors2 = new Mat();\nMatOfKeyPoint keypoints2 = new MatOfKeyPoint();\n\ndetector.detect(img2, keypoints2);\ndescriptor.compute(img2, keypoints2, descriptors2);\n\n// Matching\n\nMatOfDMatch matches = new MatOfDMatch();\nMatOfDMatch filteredMatches = new MatOfDMatch();\nmatcher.match(descriptors1, descriptors2, matches);\n\nList&lt;DMatch&gt; matchesList = matches.toList();\n</code></pre>\n"},{"tags":["java","sql","apache-spark"],"answers":[{"comments":[{"owner":{"account_id":5766734,"reputation":55,"user_id":4551473,"accept_rate":75,"display_name":"INeedHelp101"},"score":0,"creation_date":1678651751,"post_id":75715378,"comment_id":133570776,"body_markdown":"Ended up coming up with a solution the creates 3 tables all with the monotonically_increasing_id() column added. 1 table with the exploded indicator. 1 with just the nested response column without indicator. I did an explode, dropped indicator and then select(struct) to put it back into a nested state. Lastly the original table with the increasing_id column added then joined all three tables on the increasing_id column and then dropped it. However, I&#39;m also interested in your solution. However, I can&#39;t seem to set it up in Java. I can&#39;t seem to do a .columns().filter() to get all but response","body":"Ended up coming up with a solution the creates 3 tables all with the monotonically_increasing_id() column added. 1 table with the exploded indicator. 1 with just the nested response column without indicator. I did an explode, dropped indicator and then select(struct) to put it back into a nested state. Lastly the original table with the increasing_id column added then joined all three tables on the increasing_id column and then dropped it. However, I&#39;m also interested in your solution. However, I can&#39;t seem to set it up in Java. I can&#39;t seem to do a .columns().filter() to get all but response"},{"owner":{"account_id":12182705,"reputation":10096,"user_id":8893686,"display_name":"Oli"},"score":0,"creation_date":1678652959,"post_id":75715378,"comment_id":133570957,"body_markdown":"I am so used to people asking for python that I jumped into it without thinking about it. Sorry :$ Let me write it in java.","body":"I am so used to people asking for python that I jumped into it without thinking about it. Sorry :$ Let me write it in java."},{"owner":{"account_id":12182705,"reputation":10096,"user_id":8893686,"display_name":"Oli"},"score":0,"creation_date":1678655260,"post_id":75715378,"comment_id":133571299,"body_markdown":"That should be it. I have not tested it so let me know if it does not work right away.","body":"That should be it. I have not tested it so let me know if it does not work right away."},{"owner":{"account_id":5766734,"reputation":55,"user_id":4551473,"accept_rate":75,"display_name":"INeedHelp101"},"score":0,"creation_date":1678673563,"post_id":75715378,"comment_id":133573625,"body_markdown":"`No such struct field status in _VALUE, _number`  error came on `.select(JavaConversions.asScalaBuffer(df_cols).toSeq());`. Also I changed it to JavaConversions.asScalaBuffer since it doesn&#39;t seem to exist under JavaConverters.","body":"<code>No such struct field status in _VALUE, _number</code>  error came on <code>.select(JavaConversions.asScalaBuffer(df_cols).toSeq());</code>. Also I changed it to JavaConversions.asScalaBuffer since it doesn&#39;t seem to exist under JavaConverters."},{"owner":{"account_id":12182705,"reputation":10096,"user_id":8893686,"display_name":"Oli"},"score":0,"creation_date":1678715166,"post_id":75715378,"comment_id":133582018,"body_markdown":"It&#39;s funny. I tested it and the exact same code works for me. Can you tell me what versions of spark, scala and java you are using?","body":"It&#39;s funny. I tested it and the exact same code works for me. Can you tell me what versions of spark, scala and java you are using?"},{"owner":{"account_id":5766734,"reputation":55,"user_id":4551473,"accept_rate":75,"display_name":"INeedHelp101"},"score":0,"creation_date":1679321474,"post_id":75715378,"comment_id":133695854,"body_markdown":"java 8, spark 2","body":"java 8, spark 2"}],"tags":[],"owner":{"account_id":12182705,"reputation":10096,"user_id":8893686,"display_name":"Oli"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678655188,"creation_date":1678645320,"answer_id":75715378,"question_id":75702517,"body_markdown":"So basically you want to:\r\n- explode the dataframe based on the `response.indicator` array\r\n- add a column `response_indicator_number=response.indicator._VALUE`\r\n- remove the `indicator` field from the `response` structure.\r\n\r\nFor the latter, let&#39;s &quot;simply&quot; recreate the `response` struct with all its columns but `indicator`. We can do it generically by accessing the list of fields from the schema:\r\n\r\n```python\r\n# List of all columns but response\r\ndf_cols = list(filter(lambda x: x != &#39;response&#39;, df.columns))\r\n\r\n# Extracting the response field from the schema\r\nresponse_field = [f for f in df.schema.fields if f.name == &#39;response&#39;][0]\r\n\r\n# list of columns in the response struct, except indicator\r\nresponse_cols = [ F.col(&#39;response.&#39;+f.name).alias(f.name) \r\n                      for f in response_field.dataType.fields\r\n                      if f.name != &#39;indicator&#39;]\r\n\r\n# And finally:\r\nresult =  df\\\r\n    .withColumn(&quot;indicator&quot;, F.explode(&#39;response.indicator&#39;))\\\r\n    .select(df_cols + [F.struct(response_cols).alias(&#39;response&#39;),\r\n            F.col(&#39;indicator._VALUE&#39;).alias(&#39;response_indicator_number&#39;)])\r\n\r\nresult.printSchema()\r\n```\r\n```none\r\nroot\r\n |-- ID: integer (nullable = false)\r\n |-- Name: integer (nullable = false)\r\n |-- response: struct (nullable = false)\r\n |    |-- status: string (nullable = false)\r\n |    |-- result: string (nullable = false)\r\n |-- response_indicator_number: string (nullable = false)\r\n```\r\nAnd since the answer was in java, here is a java version\r\n```java\r\n// List of all columns but response\r\nList&lt;Column&gt; df_cols = Arrays.stream(df.columns())\r\n    .filter(x -&gt; ! x.equals(&quot;response&quot;))\r\n    .map(functions::col)\r\n    .collect(Collectors.toList());\r\n\r\n// Extracting the response field from the schema\r\nStructField response_field = Arrays.stream(df.schema().fields())\r\n    .filter(x -&gt; x.name().equals(&quot;response&quot;))\r\n    .findAny().get();\r\n\r\n// list of columns in the response struct, except indicator\r\nList&lt;Column&gt; response_cols = Arrays\r\n    .stream(((StructType) response_field.dataType()).fields())\r\n    .filter(x -&gt; ! x.name().equals(&quot;indicator&quot;))\r\n    .map(x -&gt; functions.col(&quot;response.&quot;+x.name()).alias(x.name()))\r\n    .collect(Collectors.toList());\r\n        \r\n// Adding the new response struct and response_indicator_number to df_cols\r\ndf_cols.add(functions.struct(JavaConverters.asScalaBuffer(response_cols).toSeq()).alias(&quot;response&quot;));\r\ndf_cols.add(functions.col(&quot;indicator._VALUE&quot;).alias(&quot;response_indicator_number&quot;));\r\n\r\n// And finally:\r\nDataset&lt;Row&gt; x =  df\r\n    .withColumn(&quot;indicator&quot;, functions.explode(functions.col(&quot;response.indicator&quot;)))\r\n    .select(JavaConverters.asScalaBuffer(df_cols).toSeq());\r\n```","title":"How to explode a nested array into new columns while also keeping the rest of the table intact in Java Spark","body":"<p>So basically you want to:</p>\n<ul>\n<li>explode the dataframe based on the <code>response.indicator</code> array</li>\n<li>add a column <code>response_indicator_number=response.indicator._VALUE</code></li>\n<li>remove the <code>indicator</code> field from the <code>response</code> structure.</li>\n</ul>\n<p>For the latter, let's &quot;simply&quot; recreate the <code>response</code> struct with all its columns but <code>indicator</code>. We can do it generically by accessing the list of fields from the schema:</p>\n<pre class=\"lang-py prettyprint-override\"><code># List of all columns but response\ndf_cols = list(filter(lambda x: x != 'response', df.columns))\n\n# Extracting the response field from the schema\nresponse_field = [f for f in df.schema.fields if f.name == 'response'][0]\n\n# list of columns in the response struct, except indicator\nresponse_cols = [ F.col('response.'+f.name).alias(f.name) \n                      for f in response_field.dataType.fields\n                      if f.name != 'indicator']\n\n# And finally:\nresult =  df\\\n    .withColumn(&quot;indicator&quot;, F.explode('response.indicator'))\\\n    .select(df_cols + [F.struct(response_cols).alias('response'),\n            F.col('indicator._VALUE').alias('response_indicator_number')])\n\nresult.printSchema()\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>root\n |-- ID: integer (nullable = false)\n |-- Name: integer (nullable = false)\n |-- response: struct (nullable = false)\n |    |-- status: string (nullable = false)\n |    |-- result: string (nullable = false)\n |-- response_indicator_number: string (nullable = false)\n</code></pre>\n<p>And since the answer was in java, here is a java version</p>\n<pre class=\"lang-java prettyprint-override\"><code>// List of all columns but response\nList&lt;Column&gt; df_cols = Arrays.stream(df.columns())\n    .filter(x -&gt; ! x.equals(&quot;response&quot;))\n    .map(functions::col)\n    .collect(Collectors.toList());\n\n// Extracting the response field from the schema\nStructField response_field = Arrays.stream(df.schema().fields())\n    .filter(x -&gt; x.name().equals(&quot;response&quot;))\n    .findAny().get();\n\n// list of columns in the response struct, except indicator\nList&lt;Column&gt; response_cols = Arrays\n    .stream(((StructType) response_field.dataType()).fields())\n    .filter(x -&gt; ! x.name().equals(&quot;indicator&quot;))\n    .map(x -&gt; functions.col(&quot;response.&quot;+x.name()).alias(x.name()))\n    .collect(Collectors.toList());\n        \n// Adding the new response struct and response_indicator_number to df_cols\ndf_cols.add(functions.struct(JavaConverters.asScalaBuffer(response_cols).toSeq()).alias(&quot;response&quot;));\ndf_cols.add(functions.col(&quot;indicator._VALUE&quot;).alias(&quot;response_indicator_number&quot;));\n\n// And finally:\nDataset&lt;Row&gt; x =  df\n    .withColumn(&quot;indicator&quot;, functions.explode(functions.col(&quot;response.indicator&quot;)))\n    .select(JavaConverters.asScalaBuffer(df_cols).toSeq());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5766734,"reputation":55,"user_id":4551473,"accept_rate":75,"display_name":"INeedHelp101"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678674390,"creation_date":1678673735,"answer_id":75717568,"question_id":75702517,"body_markdown":"OP here. Ended up coming with a solution. I don&#39;t think it&#39;s efficient but it works.\r\n\r\n    Dataset&lt;Row&gt; original_with_id = File.withColumn(&quot;original_joinID&quot;, monotonically_increasing_id());\r\n    \r\n    Dataset&lt;Row&gt; nestedColumn = original_with_id.select(&quot;response.*&quot;)\r\n                    .drop(&quot;indicator&quot;)\r\n                    .select(struct(&quot;*&quot;).alias(response))\r\n                    .withColumn(&quot;nested_joinID&quot;, monotonically_increasing_id());\r\n    \r\n    Dataset&lt;Row&gt; exploded_column = original_with_id.withColumn(&quot;pivotTransformationGroupBy&quot;, col(&quot;ID&quot;))\r\n                    .withColumn(&quot;exploded&quot;, explode(col(&quot;response.indicator&quot;)))\r\n                    .select(&quot;pivotTransformationGroupBy&quot;, &quot;exploded.*&quot;)\r\n                    .withColumn(&quot;renamed_pivotColumn&quot;, concat(lit(&quot;response_indicator_&quot;), col(&quot;_number&quot;)))\r\n                    .groupBy(&quot;pivotTransformationGroupBy&quot;)\r\n                    .pivot(&quot;renamed_pivotColumn&quot;)\r\n                    .agg(first(&quot;_VALUE&quot;));\r\n    \r\n    Dataset&lt;Row&gt; result = original_with_id.drop(&quot;response&quot;)\r\n                    .join(nestedColumn, original_with_id.col(&quot;original_joinID&quot;).equalTo(nestedColumn.col(&quot;nested_joinID&quot;)))\r\n                    .join(exploded_column, original_with_id.col(&quot;ID&quot;).equalTo(exploded_column.col(&quot;pivotTransformationGroupBy&quot;)))\r\n                    .drop(&quot;pivotTransformationGroupBy&quot;, &quot;original_joinID&quot;, &quot;nested_joinID&quot;);","title":"How to explode a nested array into new columns while also keeping the rest of the table intact in Java Spark","body":"<p>OP here. Ended up coming with a solution. I don't think it's efficient but it works.</p>\n<pre><code>Dataset&lt;Row&gt; original_with_id = File.withColumn(&quot;original_joinID&quot;, monotonically_increasing_id());\n\nDataset&lt;Row&gt; nestedColumn = original_with_id.select(&quot;response.*&quot;)\n                .drop(&quot;indicator&quot;)\n                .select(struct(&quot;*&quot;).alias(response))\n                .withColumn(&quot;nested_joinID&quot;, monotonically_increasing_id());\n\nDataset&lt;Row&gt; exploded_column = original_with_id.withColumn(&quot;pivotTransformationGroupBy&quot;, col(&quot;ID&quot;))\n                .withColumn(&quot;exploded&quot;, explode(col(&quot;response.indicator&quot;)))\n                .select(&quot;pivotTransformationGroupBy&quot;, &quot;exploded.*&quot;)\n                .withColumn(&quot;renamed_pivotColumn&quot;, concat(lit(&quot;response_indicator_&quot;), col(&quot;_number&quot;)))\n                .groupBy(&quot;pivotTransformationGroupBy&quot;)\n                .pivot(&quot;renamed_pivotColumn&quot;)\n                .agg(first(&quot;_VALUE&quot;));\n\nDataset&lt;Row&gt; result = original_with_id.drop(&quot;response&quot;)\n                .join(nestedColumn, original_with_id.col(&quot;original_joinID&quot;).equalTo(nestedColumn.col(&quot;nested_joinID&quot;)))\n                .join(exploded_column, original_with_id.col(&quot;ID&quot;).equalTo(exploded_column.col(&quot;pivotTransformationGroupBy&quot;)))\n                .drop(&quot;pivotTransformationGroupBy&quot;, &quot;original_joinID&quot;, &quot;nested_joinID&quot;);\n</code></pre>\n"}],"owner":{"account_id":5766734,"reputation":55,"user_id":4551473,"accept_rate":75,"display_name":"INeedHelp101"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678674390,"creation_date":1678503563,"question_id":75702517,"body_markdown":"Building upon a question I asked earlier https://stackoverflow.com/questions/75658224/explode-a-nested-array-into-new-columns-using-java-spark\r\n\r\nHere is the schema\r\n\r\n     |-- ID: integer (nullable = true)\r\n     |-- Name: integer (nullable = true)\r\n     |-- response: struct (nullable = true)\r\n     |    |-- status: string (nullable = true)\r\n     |    |-- indicator: array (nullable = true)\r\n     |    |    |-- element: struct (containsNull = true)\r\n     |    |    |    |-- _VALUE: string (nullable = true)\r\n     |    |    |    |-- _number: long (nullable = true)\r\n     |    |-- result: string (nullable = true)\r\n\r\n\r\nNow what the answer in my previously asked question does ends up only having a table with the ID and now exploded indicator array. Status, name, result are gone. I have way more columns and also nested elements in that response column though so manually selecting each one isn&#39;t an option. I want to keep everything else as is, just explode the array into new columns. I&#39;m trying different methods such as trying store the table with just the ID and array into a temporary table, dropping the nested array element from the original table and then joining the two on the ID column. I&#39;m also trying to do a select on the entire response column and try to filter out the indicator element and store everything else while maintaining the original struct in a new table then drop that column from the original table then join the original, this single column table, and the exploded array table into one. I don&#39;t know what approach I should be taking or if I&#39;m even going down the right path here. \r\n\r\nHere is some test code I&#39;ve written so far with no success. None of these lines are connected, just different approaches I&#39;ve tried.\r\n\r\n    Dataset&lt;Row&gt; result = File.select(&quot;response.*&quot;).columns().filter(row -&gt; row.equals(col(&quot;indicator&quot;))).map(s -&gt; col(s));\r\n\r\n    Dataset&lt;Row&gt; result = File.select(&quot;response.*&quot;)filter(c -&gt; !c.equals(col(&quot;indicator&quot;)));\r\n\r\n    File.drop(col(&quot;response&quot;)).withColumn(&quot;response&quot;, struct(result));\r\n\r\n    File.drop(&quot;response).join(result, File.col(ID).equalTo(result.col(ID)), &quot;outer&quot;);\r\n\r\nWhat I want the schema to look like\r\n\r\n    |-- ID: integer (nullable = true)\r\n    |-- Name: integer (nullable = true)\r\n    |-- response: struct (nullable = true)\r\n    |    |-- status: string (nullable = true)\r\n    |    |-- result: string (nullable = true)\r\n    |-- response_indicator_number: integer (nullable = true) &lt;-- response.indicator._VALUE elements in this column\r\n\r\n","title":"How to explode a nested array into new columns while also keeping the rest of the table intact in Java Spark","body":"<p>Building upon a question I asked earlier <a href=\"https://stackoverflow.com/questions/75658224/explode-a-nested-array-into-new-columns-using-java-spark\">Explode a nested array into new columns using Java Spark</a></p>\n<p>Here is the schema</p>\n<pre><code> |-- ID: integer (nullable = true)\n |-- Name: integer (nullable = true)\n |-- response: struct (nullable = true)\n |    |-- status: string (nullable = true)\n |    |-- indicator: array (nullable = true)\n |    |    |-- element: struct (containsNull = true)\n |    |    |    |-- _VALUE: string (nullable = true)\n |    |    |    |-- _number: long (nullable = true)\n |    |-- result: string (nullable = true)\n</code></pre>\n<p>Now what the answer in my previously asked question does ends up only having a table with the ID and now exploded indicator array. Status, name, result are gone. I have way more columns and also nested elements in that response column though so manually selecting each one isn't an option. I want to keep everything else as is, just explode the array into new columns. I'm trying different methods such as trying store the table with just the ID and array into a temporary table, dropping the nested array element from the original table and then joining the two on the ID column. I'm also trying to do a select on the entire response column and try to filter out the indicator element and store everything else while maintaining the original struct in a new table then drop that column from the original table then join the original, this single column table, and the exploded array table into one. I don't know what approach I should be taking or if I'm even going down the right path here.</p>\n<p>Here is some test code I've written so far with no success. None of these lines are connected, just different approaches I've tried.</p>\n<pre><code>Dataset&lt;Row&gt; result = File.select(&quot;response.*&quot;).columns().filter(row -&gt; row.equals(col(&quot;indicator&quot;))).map(s -&gt; col(s));\n\nDataset&lt;Row&gt; result = File.select(&quot;response.*&quot;)filter(c -&gt; !c.equals(col(&quot;indicator&quot;)));\n\nFile.drop(col(&quot;response&quot;)).withColumn(&quot;response&quot;, struct(result));\n\nFile.drop(&quot;response).join(result, File.col(ID).equalTo(result.col(ID)), &quot;outer&quot;);\n</code></pre>\n<p>What I want the schema to look like</p>\n<pre><code>|-- ID: integer (nullable = true)\n|-- Name: integer (nullable = true)\n|-- response: struct (nullable = true)\n|    |-- status: string (nullable = true)\n|    |-- result: string (nullable = true)\n|-- response_indicator_number: integer (nullable = true) &lt;-- response.indicator._VALUE elements in this column\n</code></pre>\n"},{"tags":["java","selenium","automation","automated-tests","winappdriver"],"comments":[{"owner":{"account_id":13483389,"reputation":497,"user_id":9727918,"display_name":"lingar"},"score":0,"creation_date":1653329208,"post_id":72352719,"comment_id":127820747,"body_markdown":"Seems that the answer is NOT\n\nhttps://stackoverflow.com/questions/39853973/automate-gui-testing-on-windows-of-a-remote-desktop-app","body":"Seems that the answer is NOT  <a href=\"https://stackoverflow.com/questions/39853973/automate-gui-testing-on-windows-of-a-remote-desktop-app\" title=\"automate gui testing on windows of a remote desktop app\">stackoverflow.com/questions/39853973/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":16422586,"reputation":1841,"user_id":11863448,"display_name":"Akzy"},"score":1,"creation_date":1678711763,"post_id":75717595,"comment_id":133580938,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75717595/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":8200160,"reputation":11,"user_id":6171758,"display_name":"Anton Mironov"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678674326,"creation_date":1678674326,"answer_id":75717595,"question_id":72352719,"body_markdown":"Inspect.exe is application for local use only. So if you want to inspect something in remote desktop run it&#39;s there. \r\n\r\nMoreover inspect.exe seems to work fine if you simply copy (without installing whole windows sdk which provides this tool) to the needed pc","title":"Is it possible to run a test from local to remote (RDP) by Java winAppDriver","body":"<p>Inspect.exe is application for local use only. So if you want to inspect something in remote desktop run it's there.</p>\n<p>Moreover inspect.exe seems to work fine if you simply copy (without installing whole windows sdk which provides this tool) to the needed pc</p>\n"}],"owner":{"account_id":13483389,"reputation":497,"user_id":9727918,"display_name":"lingar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678674326,"creation_date":1653327609,"question_id":72352719,"body_markdown":"I have learnt about running automation by [Java with winAppDriver.][1] \r\n\r\nI have some pc (WIN 10) that works with RDP, and from some constraints we cannot install nothing on the RDP.\r\n\r\nSo we want to run the testing from the local for doing automation on the RDP. \r\n\r\nBy when I&#39;m trying to `inspect.exe` the inner elements that inside the RDP nothing shown.\r\n\r\n**So it&#39;s not possible ?** \r\n\r\nIs it possible by other tools?\r\n\r\n  [1]: https://medium.com/software-testing-break-and-improve/tutorial-windows-app-automation-using-winappdriver-and-java-5be661335b25","title":"Is it possible to run a test from local to remote (RDP) by Java winAppDriver","body":"<p>I have learnt about running automation by <a href=\"https://medium.com/software-testing-break-and-improve/tutorial-windows-app-automation-using-winappdriver-and-java-5be661335b25\" rel=\"nofollow noreferrer\">Java with winAppDriver.</a></p>\n<p>I have some pc (WIN 10) that works with RDP, and from some constraints we cannot install nothing on the RDP.</p>\n<p>So we want to run the testing from the local for doing automation on the RDP.</p>\n<p>By when I'm trying to <code>inspect.exe</code> the inner elements that inside the RDP nothing shown.</p>\n<p><strong>So it's not possible ?</strong></p>\n<p>Is it possible by other tools?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":19558412,"reputation":56,"user_id":14312146,"display_name":"zakhav"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678673416,"creation_date":1678673416,"answer_id":75717536,"question_id":75710932,"body_markdown":"You can add your custom functions to the dataframe-ec expression DSL at runtime. Then these functions can be used just like those that come with the library out of the box in expressions like computed columns, filters, and so on. So you will be able to write code that looks like:\r\n\r\n    dataFrame.addColumn(&quot;DaysToEvent&quot;, &quot;daysBetween(toDate(2023, 3, 11), StartDate)&quot;)\r\n\r\n(this is a bit more streamlined than what you have in your example: you can call `addColumn` directly on a dataframe object and you don’t need to specify the type of a computed column as it is inferred from the expression you provide).\r\n\r\nTo add a function (in this case `daysBetween`) to the expression DSL you need to call the `addFunctionDescriptor` method on the `BuiltInFunctions` class.\r\nYou can look at the existing implementations in `BuiltInFunctions` (which also has examples of dealing with parameters, different types, validations, etc.) and also take a look at `RuntimeAddedFunctionTest`. In your case something like this should work:\r\n```\r\nBuiltInFunctions.addFunctionDescriptor(new IntrinsicFunctionDescriptor(&quot;daysBetween&quot;, Lists.immutable.of(&quot;date1&quot;, &quot;date2&quot;))\r\n    {\r\n        @Override\r\n        public Value evaluate(EvalContext context)\r\n        {\r\n            LocalDate date1 = ((DateValue) context.getVariable(&quot;date1&quot;)).dateValue();\r\n            LocalDate date2 = ((DateValue) context.getVariable(&quot;date2&quot;)).dateValue();\r\n\r\n            return new LongValue(ChronoUnit.DAYS.between(date1, date2));\r\n        }\r\n\r\n        @Override\r\n        public ValueType returnType(ListIterable&lt;ValueType&gt; paraValueTypes)\r\n        {\r\n            return LONG;\r\n        }\r\n    }\r\n);\r\n```\r\n\r\n**Note:** I am the original author of the dataframe-ec library","title":"How can I define a daysBetween function using the DataFrame-EC library in Java?","body":"<p>You can add your custom functions to the dataframe-ec expression DSL at runtime. Then these functions can be used just like those that come with the library out of the box in expressions like computed columns, filters, and so on. So you will be able to write code that looks like:</p>\n<pre><code>dataFrame.addColumn(&quot;DaysToEvent&quot;, &quot;daysBetween(toDate(2023, 3, 11), StartDate)&quot;)\n</code></pre>\n<p>(this is a bit more streamlined than what you have in your example: you can call <code>addColumn</code> directly on a dataframe object and you don’t need to specify the type of a computed column as it is inferred from the expression you provide).</p>\n<p>To add a function (in this case <code>daysBetween</code>) to the expression DSL you need to call the <code>addFunctionDescriptor</code> method on the <code>BuiltInFunctions</code> class.\nYou can look at the existing implementations in <code>BuiltInFunctions</code> (which also has examples of dealing with parameters, different types, validations, etc.) and also take a look at <code>RuntimeAddedFunctionTest</code>. In your case something like this should work:</p>\n<pre><code>BuiltInFunctions.addFunctionDescriptor(new IntrinsicFunctionDescriptor(&quot;daysBetween&quot;, Lists.immutable.of(&quot;date1&quot;, &quot;date2&quot;))\n    {\n        @Override\n        public Value evaluate(EvalContext context)\n        {\n            LocalDate date1 = ((DateValue) context.getVariable(&quot;date1&quot;)).dateValue();\n            LocalDate date2 = ((DateValue) context.getVariable(&quot;date2&quot;)).dateValue();\n\n            return new LongValue(ChronoUnit.DAYS.between(date1, date2));\n        }\n\n        @Override\n        public ValueType returnType(ListIterable&lt;ValueType&gt; paraValueTypes)\n        {\n            return LONG;\n        }\n    }\n);\n</code></pre>\n<p><strong>Note:</strong> I am the original author of the dataframe-ec library</p>\n"}],"owner":{"account_id":1712726,"reputation":6528,"user_id":1570415,"display_name":"Donald Raab"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75717536,"answer_count":1,"score":2,"last_activity_date":1678673416,"creation_date":1678592288,"question_id":75710932,"body_markdown":"I have defined a column `StartDate` as follows for a DataFrame I am loading using the [dataframe-ec][1] library.\r\n\r\n```\r\nschema.addColumn(&quot;StartDate&quot;, ValueType.DATE); \r\n```\r\n\r\nI would like to add a computed column named `DaysToEvent` but am unsure how to define a function leveraging the Java time library so the following expression code will work.\r\n\r\n```\r\ndataFrame.attachColumn(\r\n        dataFrame.createComputedColumn(\r\n                &quot;DaysToEvent&quot;,\r\n                ValueType.LONG,\r\n                &quot;daysBetween(toDate(2023, 3, 11), StartDate)&quot;));\r\n```\r\n\r\nI saw there was a built-in function named `withinDays` but am hoping to not have to change the library to add this function. I tried defining the expression using Java Code inline but that didn&#39;t work. \r\n\r\n```\r\ndataFrame.attachColumn(\r\n        dataFrame.createComputedColumn(\r\n                &quot;DaysToEvent&quot;,\r\n                ValueType.LONG,\r\n                &quot;java.time.temporal.ChronoUnit.DAYS.between(toDate(2023, 3, 11), StartDate)&quot;));\r\n\r\n```\r\n\r\n\r\n  [1]: https://github.com/vmzakharov/dataframe-ec","title":"How can I define a daysBetween function using the DataFrame-EC library in Java?","body":"<p>I have defined a column <code>StartDate</code> as follows for a DataFrame I am loading using the <a href=\"https://github.com/vmzakharov/dataframe-ec\" rel=\"nofollow noreferrer\">dataframe-ec</a> library.</p>\n<pre><code>schema.addColumn(&quot;StartDate&quot;, ValueType.DATE); \n</code></pre>\n<p>I would like to add a computed column named <code>DaysToEvent</code> but am unsure how to define a function leveraging the Java time library so the following expression code will work.</p>\n<pre><code>dataFrame.attachColumn(\n        dataFrame.createComputedColumn(\n                &quot;DaysToEvent&quot;,\n                ValueType.LONG,\n                &quot;daysBetween(toDate(2023, 3, 11), StartDate)&quot;));\n</code></pre>\n<p>I saw there was a built-in function named <code>withinDays</code> but am hoping to not have to change the library to add this function. I tried defining the expression using Java Code inline but that didn't work.</p>\n<pre><code>dataFrame.attachColumn(\n        dataFrame.createComputedColumn(\n                &quot;DaysToEvent&quot;,\n                ValueType.LONG,\n                &quot;java.time.temporal.ChronoUnit.DAYS.between(toDate(2023, 3, 11), StartDate)&quot;));\n\n</code></pre>\n"},{"tags":["java","arrays","class","methods","data-files"],"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":2,"creation_date":1678652992,"post_id":75716033,"comment_id":133570963,"body_markdown":"First tip: Don&#39;t use arrays!!! Use a List, usually ArrayList, which has lots of handy methods like `contains()`. Identify repeated code and refactor into methods and call the method instead of repeating the code. Instead of one big slab of code, separate concerns into methods, eg one method to input the data, one to check it, another to display something. At the end you&#39;ll have readable code and it will be easy to test and debug the methods individually and the program as a whole.","body":"First tip: Don&#39;t use arrays!!! Use a List, usually ArrayList, which has lots of handy methods like <code>contains()</code>. Identify repeated code and refactor into methods and call the method instead of repeating the code. Instead of one big slab of code, separate concerns into methods, eg one method to input the data, one to check it, another to display something. At the end you&#39;ll have readable code and it will be easy to test and debug the methods individually and the program as a whole."}],"answers":[{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678673020,"creation_date":1678673020,"answer_id":75717515,"question_id":75716033,"body_markdown":"You may instead want to try something a little different. Perhaps use a couple of JComboBoxes to hold team names. When team name is selected from the first Combobox then drop that name from the second Combobox. The second ComboBox won&#39;t even become active until the first Combo has a selected name. The &lt;kbd&gt;OK&lt;/kbd&gt; button won&#39;t become enabled until the second ComboBox has a selected name. This is demonstrated within the below GIF:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHere is the runnable code. Be sure to read all the comments in code:\r\n\r\n```\r\npublic class PlayTeamsDemo {\r\n\r\n    // Class Member Variables:\r\n    /* List of Team Names to be used in JComboBoxes. List&lt;String&gt; is\r\n       used due to its flexability:        */\r\n    private java.util.List&lt;String&gt; teamNames = java.util.Arrays.asList(\r\n            &quot;Toronto Raptors&quot;, &quot;Chicago Cows&quot;, &quot;Orlando Tricks&quot;, &quot;Boston Gaelics&quot;\r\n            );\r\n    \r\n    String team1 = &quot;&quot;;  // Will hold the first selected team (default null string).\r\n    String team2 = &quot;&quot;;  // Will hold the second selected team (default null string).\r\n    \r\n    // Swing component that requires class global access:\r\n    javax.swing.JDialog dialog;\r\n    javax.swing.JLabel topTitle;\r\n    javax.swing.JComboBox teamNamesCombo;\r\n    javax.swing.JLabel bottomTitle;\r\n    javax.swing.JComboBox otherTeamNamesCombo;\r\n    javax.swing.JButton okButton;\r\n    javax.swing.JButton cancelButton;\r\n    \r\n    // Constructor:\r\n    public PlayTeamsDemo() {\r\n        initForm();  // Create the dialog and display:\r\n    }\r\n\r\n    private void initForm() {\r\n        // Dialog Frame...\r\n        dialog = new javax.swing.JDialog();\r\n        dialog.setTitle(&quot;Team Play:&quot;);\r\n        dialog.setResizable(false);\r\n        dialog.setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);\r\n        dialog.setSize(300, 210);\r\n        dialog.setAlwaysOnTop(true);\r\n        dialog.setModal(true);\r\n        dialog.setLocationRelativeTo(null);\r\n\r\n        // Dialog Main JPanel...\r\n        javax.swing.JPanel mainPanel = new javax.swing.JPanel();\r\n\r\n        // Upper Panel...To hold Top Title JLabel and first JComboBox:\r\n        javax.swing.JPanel firstTeamPanel = new javax.swing.JPanel(new java.awt.GridLayout(2, 1));\r\n        topTitle = new javax.swing.JLabel(&quot;Select a team:&quot;);\r\n        firstTeamPanel.add(topTitle);\r\n\r\n        teamNamesCombo = new javax.swing.JComboBox();\r\n        teamNamesCombo.setModel(new javax.swing.DefaultComboBoxModel&lt;String&gt;(\r\n                teamNames.toArray(new String[0])));\r\n        teamNamesCombo.setPreferredSize(new java.awt.Dimension(200, 25));\r\n        teamNamesCombo.setSelectedIndex(-1);\r\n        \r\n        // Top Combo ItemListener\r\n        teamNamesCombo.addItemListener(new java.awt.event.ItemListener() {\r\n            @Override\r\n            public void itemStateChanged(java.awt.event.ItemEvent evt) {\r\n                // If a team name was actually selected:\r\n                if (!teamNamesCombo.getSelectedItem().toString().isEmpty()) {\r\n                    // Load the second JComboBox with Team Names...\r\n                    otherTeamNamesCombo.setModel(new javax.swing.DefaultComboBoxModel&lt;String&gt;(\r\n                                                 teamNames.toArray(new String[0])));\r\n                    // Make sure nothing is selected in second JComboBox:\r\n                    otherTeamNamesCombo.setSelectedIndex(-1);\r\n                    // Apply the selected team name from fist combobox to team1 variable:\r\n                    team1 = teamNamesCombo.getSelectedItem().toString();\r\n                    // Get the selected index value from first ComboBox\r\n                    int selectedIndex = teamNamesCombo.getSelectedIndex();\r\n                    /* Remove the selected team name in first combo from\r\n                       the second combobox so the same name can&#39;t be selected: */\r\n                    otherTeamNamesCombo.removeItemAt(selectedIndex);\r\n                    // Enable bottom combobox title JLabel:\r\n                    bottomTitle.setEnabled(true);\r\n                    // Enable the second team name combobox:\r\n                    otherTeamNamesCombo.setEnabled(true);\r\n                }\r\n            }\r\n        });\r\n        firstTeamPanel.add(teamNamesCombo);\r\n\r\n        // Lower Panel...To hold Bottom Title JLabel and second JComboBox:\r\n        javax.swing.JPanel secondTeamPanel = new javax.swing.JPanel(new java.awt.GridLayout(2, 1));\r\n        bottomTitle = new javax.swing.JLabel(&quot;Select a team to play the above: &quot;);\r\n        bottomTitle.setEnabled(false); // JLabel is Disabled at startup\r\n        secondTeamPanel.add(bottomTitle);\r\n        \r\n        // Second team names Combobox:\r\n        otherTeamNamesCombo = new javax.swing.JComboBox();\r\n        otherTeamNamesCombo.setPreferredSize(new java.awt.Dimension(200, 25));\r\n        otherTeamNamesCombo.setEnabled(false); // Combobox is Disabled at startup\r\n        // Bottom Combo ItemListener\r\n        otherTeamNamesCombo.addItemListener(new java.awt.event.ItemListener() {\r\n            @Override\r\n            public void itemStateChanged(java.awt.event.ItemEvent evt) {\r\n                // If second combobox has an actual selected team name...\r\n                if (otherTeamNamesCombo.getSelectedItem() != null &amp;&amp; \r\n                           !otherTeamNamesCombo.getSelectedItem().toString().isEmpty()) {\r\n                    // Apply the second team name to the team2 variable:\r\n                    team2 = otherTeamNamesCombo.getSelectedItem().toString();\r\n                    // Enable the OK button:\r\n                    okButton.setEnabled(true);\r\n                }\r\n            }\r\n        });\r\n        secondTeamPanel.add(otherTeamNamesCombo);\r\n        \r\n        // JPanel to hold JButtons:\r\n        javax.swing.JPanel buttonsPanel = new javax.swing.JPanel();\r\n        // The OK Button:\r\n        okButton = new javax.swing.JButton(&quot;OK&quot;);\r\n        okButton.setEnabled(false);  // JButton is Disabled at startup\r\n        // OK Button Action Listener:\r\n        okButton.addActionListener(new java.awt.event.ActionListener() { \r\n            @Override\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) { \r\n                /* If the OK button is selected then display a message box\r\n                   indicating the teams to be in play:             */\r\n                javax.swing.JOptionPane.showMessageDialog(dialog, team1 + &quot; vs &quot; + team2, \r\n                            &quot;Teams in play...&quot;, javax.swing.JOptionPane.INFORMATION_MESSAGE);\r\n                dialog.dispose();  // Dispose the dialog window:\r\n            } \r\n        });\r\n        buttonsPanel.add(okButton);\r\n        \r\n        // The Cancel button:\r\n        cancelButton = new javax.swing.JButton(&quot;Cancel&quot;);\r\n        // The Cancel button ActionListener:\r\n        cancelButton.addActionListener(new java.awt.event.ActionListener() { \r\n            @Override\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) { \r\n                // Indicate that the process has been Csnceled:\r\n                javax.swing.JOptionPane.showMessageDialog(dialog, &quot;Operation Canceled!&quot;, \r\n                            &quot;Canceled!&quot;, javax.swing.JOptionPane.INFORMATION_MESSAGE);\r\n                team1 = &quot;&quot;; // Empty the team1 variable:\r\n                team2 = &quot;&quot;; // Empty the team2 variable:\r\n                dialog.dispose();  // Dispose the dialog window:\r\n            } \r\n        });\r\n        buttonsPanel.add(cancelButton);\r\n        \r\n        mainPanel.add(firstTeamPanel);\r\n        mainPanel.add(secondTeamPanel);\r\n        mainPanel.add(buttonsPanel);\r\n        dialog.add(mainPanel);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        // App started this way to avoid the need for statics:\r\n        new PlayTeamsDemo().startApp(args);\r\n    }\r\n\r\n    private void startApp(String[] args) {\r\n        /* Display the Dialog Window */\r\n        java.awt.EventQueue.invokeLater(() -&gt; {\r\n            dialog.setVisible(true);\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/MCvUi.gif","title":"How to remove a team name (String) from an Array read from a data file?","body":"<p>You may instead want to try something a little different. Perhaps use a couple of JComboBoxes to hold team names. When team name is selected from the first Combobox then drop that name from the second Combobox. The second ComboBox won't even become active until the first Combo has a selected name. The <kbd>OK</kbd> button won't become enabled until the second ComboBox has a selected name. This is demonstrated within the below GIF:</p>\n<p><a href=\"https://i.stack.imgur.com/MCvUi.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MCvUi.gif\" alt=\"enter image description here\" /></a></p>\n<p>Here is the runnable code. Be sure to read all the comments in code:</p>\n<pre><code>public class PlayTeamsDemo {\n\n    // Class Member Variables:\n    /* List of Team Names to be used in JComboBoxes. List&lt;String&gt; is\n       used due to its flexability:        */\n    private java.util.List&lt;String&gt; teamNames = java.util.Arrays.asList(\n            &quot;Toronto Raptors&quot;, &quot;Chicago Cows&quot;, &quot;Orlando Tricks&quot;, &quot;Boston Gaelics&quot;\n            );\n    \n    String team1 = &quot;&quot;;  // Will hold the first selected team (default null string).\n    String team2 = &quot;&quot;;  // Will hold the second selected team (default null string).\n    \n    // Swing component that requires class global access:\n    javax.swing.JDialog dialog;\n    javax.swing.JLabel topTitle;\n    javax.swing.JComboBox teamNamesCombo;\n    javax.swing.JLabel bottomTitle;\n    javax.swing.JComboBox otherTeamNamesCombo;\n    javax.swing.JButton okButton;\n    javax.swing.JButton cancelButton;\n    \n    // Constructor:\n    public PlayTeamsDemo() {\n        initForm();  // Create the dialog and display:\n    }\n\n    private void initForm() {\n        // Dialog Frame...\n        dialog = new javax.swing.JDialog();\n        dialog.setTitle(&quot;Team Play:&quot;);\n        dialog.setResizable(false);\n        dialog.setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);\n        dialog.setSize(300, 210);\n        dialog.setAlwaysOnTop(true);\n        dialog.setModal(true);\n        dialog.setLocationRelativeTo(null);\n\n        // Dialog Main JPanel...\n        javax.swing.JPanel mainPanel = new javax.swing.JPanel();\n\n        // Upper Panel...To hold Top Title JLabel and first JComboBox:\n        javax.swing.JPanel firstTeamPanel = new javax.swing.JPanel(new java.awt.GridLayout(2, 1));\n        topTitle = new javax.swing.JLabel(&quot;Select a team:&quot;);\n        firstTeamPanel.add(topTitle);\n\n        teamNamesCombo = new javax.swing.JComboBox();\n        teamNamesCombo.setModel(new javax.swing.DefaultComboBoxModel&lt;String&gt;(\n                teamNames.toArray(new String[0])));\n        teamNamesCombo.setPreferredSize(new java.awt.Dimension(200, 25));\n        teamNamesCombo.setSelectedIndex(-1);\n        \n        // Top Combo ItemListener\n        teamNamesCombo.addItemListener(new java.awt.event.ItemListener() {\n            @Override\n            public void itemStateChanged(java.awt.event.ItemEvent evt) {\n                // If a team name was actually selected:\n                if (!teamNamesCombo.getSelectedItem().toString().isEmpty()) {\n                    // Load the second JComboBox with Team Names...\n                    otherTeamNamesCombo.setModel(new javax.swing.DefaultComboBoxModel&lt;String&gt;(\n                                                 teamNames.toArray(new String[0])));\n                    // Make sure nothing is selected in second JComboBox:\n                    otherTeamNamesCombo.setSelectedIndex(-1);\n                    // Apply the selected team name from fist combobox to team1 variable:\n                    team1 = teamNamesCombo.getSelectedItem().toString();\n                    // Get the selected index value from first ComboBox\n                    int selectedIndex = teamNamesCombo.getSelectedIndex();\n                    /* Remove the selected team name in first combo from\n                       the second combobox so the same name can't be selected: */\n                    otherTeamNamesCombo.removeItemAt(selectedIndex);\n                    // Enable bottom combobox title JLabel:\n                    bottomTitle.setEnabled(true);\n                    // Enable the second team name combobox:\n                    otherTeamNamesCombo.setEnabled(true);\n                }\n            }\n        });\n        firstTeamPanel.add(teamNamesCombo);\n\n        // Lower Panel...To hold Bottom Title JLabel and second JComboBox:\n        javax.swing.JPanel secondTeamPanel = new javax.swing.JPanel(new java.awt.GridLayout(2, 1));\n        bottomTitle = new javax.swing.JLabel(&quot;Select a team to play the above: &quot;);\n        bottomTitle.setEnabled(false); // JLabel is Disabled at startup\n        secondTeamPanel.add(bottomTitle);\n        \n        // Second team names Combobox:\n        otherTeamNamesCombo = new javax.swing.JComboBox();\n        otherTeamNamesCombo.setPreferredSize(new java.awt.Dimension(200, 25));\n        otherTeamNamesCombo.setEnabled(false); // Combobox is Disabled at startup\n        // Bottom Combo ItemListener\n        otherTeamNamesCombo.addItemListener(new java.awt.event.ItemListener() {\n            @Override\n            public void itemStateChanged(java.awt.event.ItemEvent evt) {\n                // If second combobox has an actual selected team name...\n                if (otherTeamNamesCombo.getSelectedItem() != null &amp;&amp; \n                           !otherTeamNamesCombo.getSelectedItem().toString().isEmpty()) {\n                    // Apply the second team name to the team2 variable:\n                    team2 = otherTeamNamesCombo.getSelectedItem().toString();\n                    // Enable the OK button:\n                    okButton.setEnabled(true);\n                }\n            }\n        });\n        secondTeamPanel.add(otherTeamNamesCombo);\n        \n        // JPanel to hold JButtons:\n        javax.swing.JPanel buttonsPanel = new javax.swing.JPanel();\n        // The OK Button:\n        okButton = new javax.swing.JButton(&quot;OK&quot;);\n        okButton.setEnabled(false);  // JButton is Disabled at startup\n        // OK Button Action Listener:\n        okButton.addActionListener(new java.awt.event.ActionListener() { \n            @Override\n            public void actionPerformed(java.awt.event.ActionEvent evt) { \n                /* If the OK button is selected then display a message box\n                   indicating the teams to be in play:             */\n                javax.swing.JOptionPane.showMessageDialog(dialog, team1 + &quot; vs &quot; + team2, \n                            &quot;Teams in play...&quot;, javax.swing.JOptionPane.INFORMATION_MESSAGE);\n                dialog.dispose();  // Dispose the dialog window:\n            } \n        });\n        buttonsPanel.add(okButton);\n        \n        // The Cancel button:\n        cancelButton = new javax.swing.JButton(&quot;Cancel&quot;);\n        // The Cancel button ActionListener:\n        cancelButton.addActionListener(new java.awt.event.ActionListener() { \n            @Override\n            public void actionPerformed(java.awt.event.ActionEvent evt) { \n                // Indicate that the process has been Csnceled:\n                javax.swing.JOptionPane.showMessageDialog(dialog, &quot;Operation Canceled!&quot;, \n                            &quot;Canceled!&quot;, javax.swing.JOptionPane.INFORMATION_MESSAGE);\n                team1 = &quot;&quot;; // Empty the team1 variable:\n                team2 = &quot;&quot;; // Empty the team2 variable:\n                dialog.dispose();  // Dispose the dialog window:\n            } \n        });\n        buttonsPanel.add(cancelButton);\n        \n        mainPanel.add(firstTeamPanel);\n        mainPanel.add(secondTeamPanel);\n        mainPanel.add(buttonsPanel);\n        dialog.add(mainPanel);\n    }\n\n    public static void main(String[] args) {\n        // App started this way to avoid the need for statics:\n        new PlayTeamsDemo().startApp(args);\n    }\n\n    private void startApp(String[] args) {\n        /* Display the Dialog Window */\n        java.awt.EventQueue.invokeLater(() -&gt; {\n            dialog.setVisible(true);\n        });\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28000758,"reputation":1,"user_id":21385117,"display_name":"Zia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678673020,"creation_date":1678651275,"question_id":75716033,"body_markdown":"I am trying to make an input dialog that prompts the user to select a second team that plays the first team. The team the user selected before cannot show again and there needs to be an error check if the user inputs something that isn&#39;t a team option. I am using a class called Team to get the team names from a data file. I have already created the method to select the first team. \r\nThis is the desired output: \r\n[The message for the user to select two teams](https://i.stack.imgur.com/7ltQ1.png)\r\n\r\n\r\nI made a while loop that keeps running if the user inputs the first team again or something that wasn&#39;t a team option. I made a different JOptionPane Input Dialog for each team and thought that the user could input anything and the code would check if its valid. **However, when the program runs, it skips the method entirely. **\r\n*League * is the array of teams with wins and losses and their roster (players). This method has two formal parameters that accepts the league array and the user&#39;s first team selection called team1. This method is supposed to return the second team selection.  \r\nThis is my code currently: \r\n```\r\nfor (int i = 0; i &lt; league.length; i++) {\r\n            while (!team2.equalsIgnoreCase(league[i].getName()) &amp;&amp; team2.equals(team1)) {\r\n                if (team1.equals(league[0].getName())) {\r\n                    display = JOptionPane.showInputDialog(&quot;Select a team to play the &quot; + team1 + &quot;\\n\\n&quot;\r\n                            + &quot;-&quot; + league[1].getName() + &quot;\\n&quot;\r\n                            + &quot;-&quot; + league[2].getName() + &quot;\\n&quot;\r\n                            + &quot;-&quot; + league[3].getName() + &quot;\\n\\n&quot;);\r\n                } else if (team1.equals(league[1].getName())) {\r\n                    display = JOptionPane.showInputDialog(&quot;Select a team to play the &quot; + team1 + &quot;\\n\\n&quot;\r\n                            + &quot;-&quot; + league[0].getName() + &quot;\\n&quot;\r\n                            + &quot;-&quot; + league[2].getName() + &quot;\\n&quot;\r\n                            + &quot;-&quot; + league[3].getName() + &quot;\\n\\n&quot;);\r\n                } else if (team1.equals(league[2].getName())) {\r\n                    display = JOptionPane.showInputDialog(&quot;Select a team to play the &quot; + team1 + &quot;\\n\\n&quot;\r\n                            + &quot;-&quot; + league[0].getName() + &quot;\\n&quot;\r\n                            + &quot;-&quot; + league[1].getName() + &quot;\\n&quot;\r\n                            + &quot;-&quot; + league[3].getName() + &quot;\\n\\n&quot;);\r\n                } else if (team1.equals(league[3].getName())) {\r\n                    display = JOptionPane.showInputDialog(&quot;Select a team to play the &quot; + team1 + &quot;\\n\\n&quot;\r\n                            + &quot;-&quot; + league[0].getName() + &quot;\\n&quot;\r\n                            + &quot;-&quot; + league[1].getName() + &quot;\\n&quot;\r\n                            + &quot;-&quot; + league[2].getName() + &quot;\\n\\n&quot;);\r\n                } else {\r\n                    popup(&quot;Sorry, I couldn&#39;t find &quot; + team2 + &quot;, please try again...&quot;);\r\n                }\r\n            }\r\n        }\r\n```\r\nAny help would be great!\r\n","title":"How to remove a team name (String) from an Array read from a data file?","body":"<p>I am trying to make an input dialog that prompts the user to select a second team that plays the first team. The team the user selected before cannot show again and there needs to be an error check if the user inputs something that isn't a team option. I am using a class called Team to get the team names from a data file. I have already created the method to select the first team.\nThis is the desired output:\n<a href=\"https://i.stack.imgur.com/7ltQ1.png\" rel=\"nofollow noreferrer\">The message for the user to select two teams</a></p>\n<p>I made a while loop that keeps running if the user inputs the first team again or something that wasn't a team option. I made a different JOptionPane Input Dialog for each team and thought that the user could input anything and the code would check if its valid. **However, when the program runs, it skips the method entirely. **\n*League * is the array of teams with wins and losses and their roster (players). This method has two formal parameters that accepts the league array and the user's first team selection called team1. This method is supposed to return the second team selection.<br />\nThis is my code currently:</p>\n<pre><code>for (int i = 0; i &lt; league.length; i++) {\n            while (!team2.equalsIgnoreCase(league[i].getName()) &amp;&amp; team2.equals(team1)) {\n                if (team1.equals(league[0].getName())) {\n                    display = JOptionPane.showInputDialog(&quot;Select a team to play the &quot; + team1 + &quot;\\n\\n&quot;\n                            + &quot;-&quot; + league[1].getName() + &quot;\\n&quot;\n                            + &quot;-&quot; + league[2].getName() + &quot;\\n&quot;\n                            + &quot;-&quot; + league[3].getName() + &quot;\\n\\n&quot;);\n                } else if (team1.equals(league[1].getName())) {\n                    display = JOptionPane.showInputDialog(&quot;Select a team to play the &quot; + team1 + &quot;\\n\\n&quot;\n                            + &quot;-&quot; + league[0].getName() + &quot;\\n&quot;\n                            + &quot;-&quot; + league[2].getName() + &quot;\\n&quot;\n                            + &quot;-&quot; + league[3].getName() + &quot;\\n\\n&quot;);\n                } else if (team1.equals(league[2].getName())) {\n                    display = JOptionPane.showInputDialog(&quot;Select a team to play the &quot; + team1 + &quot;\\n\\n&quot;\n                            + &quot;-&quot; + league[0].getName() + &quot;\\n&quot;\n                            + &quot;-&quot; + league[1].getName() + &quot;\\n&quot;\n                            + &quot;-&quot; + league[3].getName() + &quot;\\n\\n&quot;);\n                } else if (team1.equals(league[3].getName())) {\n                    display = JOptionPane.showInputDialog(&quot;Select a team to play the &quot; + team1 + &quot;\\n\\n&quot;\n                            + &quot;-&quot; + league[0].getName() + &quot;\\n&quot;\n                            + &quot;-&quot; + league[1].getName() + &quot;\\n&quot;\n                            + &quot;-&quot; + league[2].getName() + &quot;\\n\\n&quot;);\n                } else {\n                    popup(&quot;Sorry, I couldn't find &quot; + team2 + &quot;, please try again...&quot;);\n                }\n            }\n        }\n</code></pre>\n<p>Any help would be great!</p>\n"},{"tags":["java","opencv","computer-vision","importerror"],"answers":[{"comments":[{"owner":{"account_id":3072614,"reputation":12307,"user_id":2602877,"display_name":"Christoph Rackwitz"},"score":0,"creation_date":1678693155,"post_id":62181119,"comment_id":133575888,"body_markdown":"SIFT had a patent on it (expired in 2020). that required its implementation to live in the &quot;contrib&quot; set of modules. those aren&#39;t ordinarily distributed in binary form.","body":"SIFT had a patent on it (expired in 2020). that required its implementation to live in the &quot;contrib&quot; set of modules. those aren&#39;t ordinarily distributed in binary form."}],"tags":[],"owner":{"account_id":13473280,"reputation":40,"user_id":9721089,"display_name":"Omar ELmekaalel"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591212386,"creation_date":1591212386,"answer_id":62181119,"question_id":55882907,"body_markdown":"If anyone is still stuck at this error. the problem is opencv4.1.0 (and above I think) doesn&#39;t have those classes.\r\n\r\nDowngrading to opencv3.4.9 fixed it for me!","title":"Import of DescriptorExtractor and FeatureDetector cannot be resolved in opencv 4.1.0","body":"<p>If anyone is still stuck at this error. the problem is opencv4.1.0 (and above I think) doesn't have those classes.</p>\n\n<p>Downgrading to opencv3.4.9 fixed it for me!</p>\n"},{"tags":[],"owner":{"account_id":2345937,"reputation":3332,"user_id":2056201,"accept_rate":23,"display_name":"Mich"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678672072,"creation_date":1678672072,"answer_id":75717463,"question_id":55882907,"body_markdown":"SIFT patent is expired and included in OpenCV since v4.4 by default, so there is no reason to downgrade. \r\n\r\nJust change to your lines of code to (Java)\r\n\r\n\r\n\r\n        MatOfKeyPoint keypoints = new MatOfKeyPoint();\r\n        SIFT detector = SIFT.create();\r\n        detector.detect(gray, keypoints, mask);","title":"Import of DescriptorExtractor and FeatureDetector cannot be resolved in opencv 4.1.0","body":"<p>SIFT patent is expired and included in OpenCV since v4.4 by default, so there is no reason to downgrade.</p>\n<p>Just change to your lines of code to (Java)</p>\n<pre><code>    MatOfKeyPoint keypoints = new MatOfKeyPoint();\n    SIFT detector = SIFT.create();\n    detector.detect(gray, keypoints, mask);\n</code></pre>\n"}],"owner":{"account_id":15726408,"reputation":165,"user_id":11347922,"display_name":"butexa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":819,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1678672072,"creation_date":1556384647,"question_id":55882907,"body_markdown":"As I already mentioned in the title, these two imports cannot be resolved in opencv 4.1.0.\r\n\r\n    import org.opencv.features2d.DescriptorExtractor;\r\n    \r\n    import org.opencv.features2d.FeatureDetector;\r\n\r\nThis the code:\r\n\r\n    FeatureDetector detector = FeatureDetector.create(FeatureDetector.ORB); \r\n    DescriptorExtractor extractor = DescriptorExtractor.create(DescriptorExtractor.ORB);\r\n\r\nThey are deprecated: https://iopencv.com/docs/cpp-python/3.4.1/javadoc/index.html?deprecated-list.html\r\n\r\nBut there is no doc on what I should use now.\r\n    ","title":"Import of DescriptorExtractor and FeatureDetector cannot be resolved in opencv 4.1.0","body":"<p>As I already mentioned in the title, these two imports cannot be resolved in opencv 4.1.0.</p>\n\n<pre><code>import org.opencv.features2d.DescriptorExtractor;\n\nimport org.opencv.features2d.FeatureDetector;\n</code></pre>\n\n<p>This the code:</p>\n\n<pre><code>FeatureDetector detector = FeatureDetector.create(FeatureDetector.ORB); \nDescriptorExtractor extractor = DescriptorExtractor.create(DescriptorExtractor.ORB);\n</code></pre>\n\n<p>They are deprecated: <a href=\"https://iopencv.com/docs/cpp-python/3.4.1/javadoc/index.html?deprecated-list.html\" rel=\"noreferrer\">https://iopencv.com/docs/cpp-python/3.4.1/javadoc/index.html?deprecated-list.html</a></p>\n\n<p>But there is no doc on what I should use now.</p>\n"},{"tags":["java","android","android-studio","build.gradle","android-manifest"],"comments":[{"owner":{"account_id":4884969,"reputation":1652,"user_id":3937699,"accept_rate":100,"display_name":"Klatschen"},"score":0,"creation_date":1678698971,"post_id":75717439,"comment_id":133577255,"body_markdown":"Please provide more informations, like relevant config files and the NotFoundException we can see in the screenshot. Also consider pasting it as a text instead of a screenshot. Please read https://stackoverflow.com/help/how-to-ask and https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557","body":"Please provide more informations, like relevant config files and the NotFoundException we can see in the screenshot. Also consider pasting it as a text instead of a screenshot. Please read <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a> and <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557\" title=\"why should i not upload images of code data errors\">meta.stackoverflow.com/questions/285551/&hellip;</a>"}],"owner":{"account_id":26324765,"reputation":13,"user_id":19986263,"display_name":"Judith "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678671732,"creation_date":1678671732,"question_id":75717439,"body_markdown":"[enter image description here](https://i.stack.imgur.com/84EtZ.jpg)\r\nThe application was working fine I ran it before copying a code inside a layout it worked fine. I removed the code but it&#39;s still showing this error \r\n*Artifact.ivy service\r\n*file configuration \r\n\r\nDebugged app couldn&#39;t build\r\n\r\nI changed some dependencies \r\n\r\nI checked my network settings\r\n\r\nClean and rebuild \r\n\r\nInvalidate cache and restart \r\nAll didn&#39;t work","title":"Artifact Resolve Exception","body":"<p><a href=\"https://i.stack.imgur.com/84EtZ.jpg\" rel=\"nofollow noreferrer\">enter image description here</a>\nThe application was working fine I ran it before copying a code inside a layout it worked fine. I removed the code but it's still showing this error\n*Artifact.ivy service\n*file configuration</p>\n<p>Debugged app couldn't build</p>\n<p>I changed some dependencies</p>\n<p>I checked my network settings</p>\n<p>Clean and rebuild</p>\n<p>Invalidate cache and restart\nAll didn't work</p>\n"},{"tags":["java","gitlab","gitlab-ci","devops","cicd"],"answers":[{"tags":[],"owner":{"account_id":5187115,"reputation":2534,"user_id":4151175,"display_name":"Charles Owen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678671555,"creation_date":1678671555,"answer_id":75717429,"question_id":75523251,"body_markdown":"You could run a script in after_script to copy it to another location. after_script runs after a job succeeds. \r\n\r\n    build:\r\n     stage: build\r\n     script:\r\n       - mvn clean install\r\n     artifacts:\r\n      paths:\r\n       - target/Practice.jar\r\n     after_script\r\n       - #run some command to copy to other server\r\n\r\nAnother idea is to create a drive mapping on your container host to this other server, then create a volume that connects that location to your artifacts location, so when the job completes it would just be available there.\r\n\r\n    docker run -v g:\\{location}:c:\\{artifacts location}","title":"How to move a JAR file from one server on CI CD Gitlab to another server after a build","body":"<p>You could run a script in after_script to copy it to another location. after_script runs after a job succeeds.</p>\n<pre><code>build:\n stage: build\n script:\n   - mvn clean install\n artifacts:\n  paths:\n   - target/Practice.jar\n after_script\n   - #run some command to copy to other server\n</code></pre>\n<p>Another idea is to create a drive mapping on your container host to this other server, then create a volume that connects that location to your artifacts location, so when the job completes it would just be available there.</p>\n<pre><code>docker run -v g:\\{location}:c:\\{artifacts location}\n</code></pre>\n"}],"owner":{"account_id":26503323,"reputation":3,"user_id":20139898,"display_name":"MBanai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678671555,"creation_date":1676996872,"question_id":75523251,"body_markdown":"I have a CI CD in GitLab and I have a Java Project. After  building the project, I want to send it (Jar File from artifact) to another server. \r\n\r\nNote. Git runner is installed on the same server. (The server operating system is Windows)\r\n\r\n\r\n\r\n\r\n\r\n    image: maven:latest\r\n    \r\n    variables:\r\n      MAVEN_CLI_OPTS: &quot;-s .m2/settings.xml --batch-mode&quot;\r\n      MAVEN_OPTS: &quot;-Dmaven.repo.local=.m2/repository&quot;\r\n    \r\n    cache:\r\n      key: &quot;$CI_COMMIT_REF_NAME&quot;\r\n      paths:\r\n        - .m2/repository/\r\n    \r\n    stages:\r\n      - test\r\n      - build\r\n      - deploy\r\n    \r\n    test:\r\n      script:\r\n        - mvn clean test\r\n    \r\n    build:\r\n      stage: build\r\n      script:\r\n        - mvn clean install\r\n      artifacts:\r\n        paths:\r\n          - target/Practice.jar\r\n    \r\n    deploy: \r\n      stage: deploy\r\n      script:\r\n        - cp target/Practice.jar &quot;D:\\OtherTest&quot;","title":"How to move a JAR file from one server on CI CD Gitlab to another server after a build","body":"<p>I have a CI CD in GitLab and I have a Java Project. After  building the project, I want to send it (Jar File from artifact) to another server.</p>\n<p>Note. Git runner is installed on the same server. (The server operating system is Windows)</p>\n<pre><code>image: maven:latest\n\nvariables:\n  MAVEN_CLI_OPTS: &quot;-s .m2/settings.xml --batch-mode&quot;\n  MAVEN_OPTS: &quot;-Dmaven.repo.local=.m2/repository&quot;\n\ncache:\n  key: &quot;$CI_COMMIT_REF_NAME&quot;\n  paths:\n    - .m2/repository/\n\nstages:\n  - test\n  - build\n  - deploy\n\ntest:\n  script:\n    - mvn clean test\n\nbuild:\n  stage: build\n  script:\n    - mvn clean install\n  artifacts:\n    paths:\n      - target/Practice.jar\n\ndeploy: \n  stage: deploy\n  script:\n    - cp target/Practice.jar &quot;D:\\OtherTest&quot;\n</code></pre>\n"},{"tags":["java","reflection","static","final","unsafe"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":4,"creation_date":1678627123,"post_id":75713240,"comment_id":133566345,"body_markdown":"[You can&#39;t change `static final` fields](https://gist.github.com/DasBrain/ca16053f8e073c8a883bee66302c2fee). It was never supported, and while it may appear to work, it may not work at all in the future.","body":"<a href=\"https://gist.github.com/DasBrain/ca16053f8e073c8a883bee66302c2fee\" rel=\"nofollow noreferrer\">You can&#39;t change <code>static final</code> fields</a>. It was never supported, and while it may appear to work, it may not work at all in the future."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1678670346,"creation_date":1678629852,"answer_id":75713655,"question_id":75713240,"body_markdown":"You shouldn&#39;t write code (not even test code) that relies on being able to change `static final` fields.  It has never been supported, and the various schemes for doing this are not guaranteed to work.  Indeed some schemes that have been used in the past *no longer work* with recent Java versions.\r\n\r\nAs to your observation, the *likely* explanation is that if you use `Unsafe` to modify a `static final` before class initialization has been triggered, the actual class initialization (e.g. the code  in the `&lt;cinit&gt;` pseudo-method) or the lazy initialization of *compile-time* constants&lt;sup&gt;1&lt;/sup&gt; will *clobber* the value you planted with your `Unsafe` call.\r\n\r\nAnd ... yes ... this JVM behavior is fine as far as the JLS and the JVMS are concerned.  The real problem is that what *you* are doing is unspecified, and the [nasal demons rule][1] applies to it.\r\n\r\nBetter approaches would be:\r\n\r\n  - Redesign your code so that it doesn&#39;t depend on a `static final` field that takes different values in different circumstances.  \r\n  - Or declare the `static final` as `private` and always access it via a `static` method ... that you can mock using Mockito or PowerMock or similar in your unit tests.\r\n  - Or make your `Unsafe` injection code trigger the class initialization before messing with the field; e.g. call `Class.forName(&quot;className&quot;);` first.\r\n\r\n----------------------------\r\n\r\n&gt; Is there any other way to do modification with less executions and memory consumption?\r\n\r\nIn my opinion, that is not the right question to ask:\r\n\r\n  - If you are doing this in unit (etc) tests, performance and memory usage are irrelevant.\r\n  - If you are doing this in production code, you are playing with fire.  Find a better way to do ... whatever it is you are trying to do ... that doesn&#39;t entail modifying `static final` fields.  There *will* be ways.\r\n\r\n---------------------------\r\n\r\n&lt;sup&gt;1 - This is implementation dependent.  The runtime handling of compile-time constants / constant expressions differs with different Java versions.&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Undefined_behavior","title":"Why must create or call of the Java class before modifying static final field of another class with Unsafe?","body":"<p>You shouldn't write code (not even test code) that relies on being able to change <code>static final</code> fields.  It has never been supported, and the various schemes for doing this are not guaranteed to work.  Indeed some schemes that have been used in the past <em>no longer work</em> with recent Java versions.</p>\n<p>As to your observation, the <em>likely</em> explanation is that if you use <code>Unsafe</code> to modify a <code>static final</code> before class initialization has been triggered, the actual class initialization (e.g. the code  in the <code>&lt;cinit&gt;</code> pseudo-method) or the lazy initialization of <em>compile-time</em> constants<sup>1</sup> will <em>clobber</em> the value you planted with your <code>Unsafe</code> call.</p>\n<p>And ... yes ... this JVM behavior is fine as far as the JLS and the JVMS are concerned.  The real problem is that what <em>you</em> are doing is unspecified, and the <a href=\"https://en.wikipedia.org/wiki/Undefined_behavior\" rel=\"nofollow noreferrer\">nasal demons rule</a> applies to it.</p>\n<p>Better approaches would be:</p>\n<ul>\n<li>Redesign your code so that it doesn't depend on a <code>static final</code> field that takes different values in different circumstances.</li>\n<li>Or declare the <code>static final</code> as <code>private</code> and always access it via a <code>static</code> method ... that you can mock using Mockito or PowerMock or similar in your unit tests.</li>\n<li>Or make your <code>Unsafe</code> injection code trigger the class initialization before messing with the field; e.g. call <code>Class.forName(&quot;className&quot;);</code> first.</li>\n</ul>\n<hr />\n<blockquote>\n<p>Is there any other way to do modification with less executions and memory consumption?</p>\n</blockquote>\n<p>In my opinion, that is not the right question to ask:</p>\n<ul>\n<li>If you are doing this in unit (etc) tests, performance and memory usage are irrelevant.</li>\n<li>If you are doing this in production code, you are playing with fire.  Find a better way to do ... whatever it is you are trying to do ... that doesn't entail modifying <code>static final</code> fields.  There <em>will</em> be ways.</li>\n</ul>\n<hr />\n<p><sup>1 - This is implementation dependent.  The runtime handling of compile-time constants / constant expressions differs with different Java versions.</sup></p>\n"},{"tags":[],"owner":{"account_id":14981336,"reputation":30,"user_id":10815252,"display_name":"Sougata Ghosh"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1678630261,"creation_date":1678630261,"answer_id":75713698,"question_id":75713240,"body_markdown":"It&#39;s not recommended to change &#39;static final&#39; variables. If you have a need of changing variables - generally people need them to keep track of some parameters in JMH benchmark in multi-threaded executions, I suggest you take a look at atomic variables. \r\nlinks:\r\n  https://www.geeksforgeeks.org/atomic-variables-in-java-with-examples/\r\n  https://www.baeldung.com/java-atomic-variables","title":"Why must create or call of the Java class before modifying static final field of another class with Unsafe?","body":"<p>It's not recommended to change 'static final' variables. If you have a need of changing variables - generally people need them to keep track of some parameters in JMH benchmark in multi-threaded executions, I suggest you take a look at atomic variables.\nlinks:\n<a href=\"https://www.geeksforgeeks.org/atomic-variables-in-java-with-examples/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/atomic-variables-in-java-with-examples/</a>\n<a href=\"https://www.baeldung.com/java-atomic-variables\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-atomic-variables</a></p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678630348,"creation_date":1678630348,"answer_id":75713705,"question_id":75713240,"body_markdown":"Before I explain what&#39;s going on, a general point to keep in mind:\r\n\r\nThis kind of hackery is unsupported. And I mean that in the literal sense: The JDK specification takes pains to make zero promises on this, and therefore, any JDK change (be it because some different vendor ships it, it&#39;s for another platform, it&#39;s a new version) may change how this works or break it entirely. Hence, any code you create that attempts to modify static finals, even if &#39;it works fine every time on all hardware and platforms I have access to&#39;, is still a hot potato: That doesn&#39;t mean it&#39;ll work anywhere else, and pretty much every JDK release you have to put in your agenda: Check if this stuff still works. Because it might not, and if it no longer does, you can file bug reports at openjdk.net all day long and they&#39;ll ignore them. Because that isn&#39;t a bug: The spec doesn&#39;t promise this will ever work.\r\n\r\nIn other words, my advice is: Find another way to do this stuff. The route you have chosen, even once you tackle the problems you are now having with it, is unstable, requiring constant vigilance.\r\n\r\nNevermind the fact that use of unSafe is, on its own, something that OpenJDK is pretty much saying every day: We&#39;re going to kill that off some day.\r\n\r\n## So why is this happening\r\n\r\nThe key lies in `javap`. Javap turns class files into bytecode dumps, it lets you see exactly what is `javac` did, and often this can lead to useful insights. Let&#39;s first compile this code and then javap it; we have to use `-c` and `-v` to respectively show all bytecode and show as much detail as it can. Sometimes, toss `-p` in there too (show even private/package-private stuff).\r\n\r\n```\r\n&gt; cat Test.java\r\nclass Test {\r\n  public static final String SF = &quot;Original&quot;;\r\n}\r\n&gt; javac Test.java; javap -c -v Test\r\n....\r\n public static final java.lang.String SF;\r\n    descriptor: Ljava/lang/String;\r\n    flags: (0x0019) ACC_PUBLIC, ACC_STATIC, ACC_FINAL\r\n    ConstantValue: String Original\r\n....\r\n(and there is no static block here at all)\r\n```\r\n\r\nThis shows that certain fields can be compiled into a &#39;constant&#39; - where the field _directly_ knows that value (The `ConstantValue: String Original` line).\r\n\r\nUsage of this variable in other code:\r\n\r\n```\r\n&gt; cat Test2.java\r\nclass Test2 {\r\n  String x = Test.SF;\r\n}\r\n&gt; javac Test2.java; javap -c -v Test2\r\n....\r\n   #9 = String             #10            // Original\r\n  #10 = Utf8               Original\r\nTest2();\r\n    descriptor: ()V\r\n    flags: (0x0000)\r\n    Code:\r\n      stack=2, locals=1, args_size=1\r\n         0: aload_0\r\n         1: invokespecial #1                  // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\r\n         4: aload_0\r\n         5: ldc           #9                  // String Original\r\n         7: putfield      #11                 // Field x:Ljava/lang/String;\r\n....\r\n\r\n```\r\nThis shows that the `Test2` code loads `&quot;Original&quot;` __straight in__, it doesn&#39;t actually refer to `Test.SF` _whatsoever_ (and, in fact, Test2 is 100% independent from Test, you can entirely delete Test.class now; Test2.class doesn&#39;t need it).\r\n\r\nObviously then, for compile time constant cases, you can change the original (`Test.SF`) field all day long, no code actually uses it, instead, at compile time `javac` noticed it was constant and just inlined them all.\r\n\r\n## Okay, but, I used `Object`\r\n\r\nYes, and we can now tell how that changes things:\r\n\r\n```\r\n&gt; cat Test.java\r\nclass Test {\r\n  public static final Object SF = &quot;Original&quot;;\r\n}\r\n&gt; javac Test.java; javap -c -v Test\r\n....\r\n  public static final java.lang.Object SF;\r\n    descriptor: Ljava/lang/Object;\r\n    flags: (0x0019) ACC_PUBLIC, ACC_STATIC, ACC_FINAL  static {};\r\n\r\n.....\r\n\r\n    descriptor: ()V\r\n    flags: (0x0008) ACC_STATIC\r\n    Code:\r\n      stack=1, locals=0, args_size=0\r\n         0: ldc           #7                  // String Original\r\n         2: putstatic     #9                  // Field SF:Ljava/lang/Object;\r\n         5: return\r\n....\r\n```\r\n\r\nNote how now all of a sudden a static block appeared, and this block loads in the string constant and assigns it to a static field (that&#39;s what the `putstatic` bytecode does).\r\n\r\nThe static field no longer has a `ConstantValue:` associated with it _at all_.\r\n\r\n`static {}` is code, it must be executed. When a JVM starts up, it __does not__ initialize each and every class on the entire classpath. If it did, JVM bootup would take a ridiculously long time. Instead, the JVM initializes classes on demand: Anytime any class is needed for the first time, the JVM just grabs that from its classloader cache, but if there is no such class in the cache, it is loaded: Disk access (or whatever is needed to get the data in the class file) happens to load it. Class loading has a 2-step model:\r\n\r\n* First, load it in, as in, parse through the contents of the `.class` definition.\r\n* Second, &#39;initialize&#39; it which requires, amongst a few other things, running any and all `static{}` initializers. Note that e.g. `static final long FOO = System.currentTimeMillis();` in java code is just a &#39;weird&#39; way to have a static initializer - anytime you assign an expression to a static field right there as you declare it, unless that is a compile time constant, it results in a static initializer block. `static { ... }` is merely a way to make it explicit.\r\n\r\nWhat&#39;s happening in your example is that you&#39;re using `theUnsafe` to modify the static field __in between those 2 steps__. So, you modify it first, and then you cause the init step to happen which runs the static initializer which overwrites what you just hacked it into. Once it is initialized, the JVM doesn&#39;t initialize it again, so once you cause initialization to happen (and `new Other()` will do just that), then you no longer run into this issue.\r\n\r\nA trivial solution to this problem is to force initialization to happen on your own (`Class.forName(&quot;name.of.TheClass&quot;)` is one way to do that), and only then futz about with it via `theUnsafe`.\r\n","title":"Why must create or call of the Java class before modifying static final field of another class with Unsafe?","body":"<p>Before I explain what's going on, a general point to keep in mind:</p>\n<p>This kind of hackery is unsupported. And I mean that in the literal sense: The JDK specification takes pains to make zero promises on this, and therefore, any JDK change (be it because some different vendor ships it, it's for another platform, it's a new version) may change how this works or break it entirely. Hence, any code you create that attempts to modify static finals, even if 'it works fine every time on all hardware and platforms I have access to', is still a hot potato: That doesn't mean it'll work anywhere else, and pretty much every JDK release you have to put in your agenda: Check if this stuff still works. Because it might not, and if it no longer does, you can file bug reports at openjdk.net all day long and they'll ignore them. Because that isn't a bug: The spec doesn't promise this will ever work.</p>\n<p>In other words, my advice is: Find another way to do this stuff. The route you have chosen, even once you tackle the problems you are now having with it, is unstable, requiring constant vigilance.</p>\n<p>Nevermind the fact that use of unSafe is, on its own, something that OpenJDK is pretty much saying every day: We're going to kill that off some day.</p>\n<h2>So why is this happening</h2>\n<p>The key lies in <code>javap</code>. Javap turns class files into bytecode dumps, it lets you see exactly what is <code>javac</code> did, and often this can lead to useful insights. Let's first compile this code and then javap it; we have to use <code>-c</code> and <code>-v</code> to respectively show all bytecode and show as much detail as it can. Sometimes, toss <code>-p</code> in there too (show even private/package-private stuff).</p>\n<pre><code>&gt; cat Test.java\nclass Test {\n  public static final String SF = &quot;Original&quot;;\n}\n&gt; javac Test.java; javap -c -v Test\n....\n public static final java.lang.String SF;\n    descriptor: Ljava/lang/String;\n    flags: (0x0019) ACC_PUBLIC, ACC_STATIC, ACC_FINAL\n    ConstantValue: String Original\n....\n(and there is no static block here at all)\n</code></pre>\n<p>This shows that certain fields can be compiled into a 'constant' - where the field <em>directly</em> knows that value (The <code>ConstantValue: String Original</code> line).</p>\n<p>Usage of this variable in other code:</p>\n<pre><code>&gt; cat Test2.java\nclass Test2 {\n  String x = Test.SF;\n}\n&gt; javac Test2.java; javap -c -v Test2\n....\n   #9 = String             #10            // Original\n  #10 = Utf8               Original\nTest2();\n    descriptor: ()V\n    flags: (0x0000)\n    Code:\n      stack=2, locals=1, args_size=1\n         0: aload_0\n         1: invokespecial #1                  // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\n         4: aload_0\n         5: ldc           #9                  // String Original\n         7: putfield      #11                 // Field x:Ljava/lang/String;\n....\n\n</code></pre>\n<p>This shows that the <code>Test2</code> code loads <code>&quot;Original&quot;</code> <strong>straight in</strong>, it doesn't actually refer to <code>Test.SF</code> <em>whatsoever</em> (and, in fact, Test2 is 100% independent from Test, you can entirely delete Test.class now; Test2.class doesn't need it).</p>\n<p>Obviously then, for compile time constant cases, you can change the original (<code>Test.SF</code>) field all day long, no code actually uses it, instead, at compile time <code>javac</code> noticed it was constant and just inlined them all.</p>\n<h2>Okay, but, I used <code>Object</code></h2>\n<p>Yes, and we can now tell how that changes things:</p>\n<pre><code>&gt; cat Test.java\nclass Test {\n  public static final Object SF = &quot;Original&quot;;\n}\n&gt; javac Test.java; javap -c -v Test\n....\n  public static final java.lang.Object SF;\n    descriptor: Ljava/lang/Object;\n    flags: (0x0019) ACC_PUBLIC, ACC_STATIC, ACC_FINAL  static {};\n\n.....\n\n    descriptor: ()V\n    flags: (0x0008) ACC_STATIC\n    Code:\n      stack=1, locals=0, args_size=0\n         0: ldc           #7                  // String Original\n         2: putstatic     #9                  // Field SF:Ljava/lang/Object;\n         5: return\n....\n</code></pre>\n<p>Note how now all of a sudden a static block appeared, and this block loads in the string constant and assigns it to a static field (that's what the <code>putstatic</code> bytecode does).</p>\n<p>The static field no longer has a <code>ConstantValue:</code> associated with it <em>at all</em>.</p>\n<p><code>static {}</code> is code, it must be executed. When a JVM starts up, it <strong>does not</strong> initialize each and every class on the entire classpath. If it did, JVM bootup would take a ridiculously long time. Instead, the JVM initializes classes on demand: Anytime any class is needed for the first time, the JVM just grabs that from its classloader cache, but if there is no such class in the cache, it is loaded: Disk access (or whatever is needed to get the data in the class file) happens to load it. Class loading has a 2-step model:</p>\n<ul>\n<li>First, load it in, as in, parse through the contents of the <code>.class</code> definition.</li>\n<li>Second, 'initialize' it which requires, amongst a few other things, running any and all <code>static{}</code> initializers. Note that e.g. <code>static final long FOO = System.currentTimeMillis();</code> in java code is just a 'weird' way to have a static initializer - anytime you assign an expression to a static field right there as you declare it, unless that is a compile time constant, it results in a static initializer block. <code>static { ... }</code> is merely a way to make it explicit.</li>\n</ul>\n<p>What's happening in your example is that you're using <code>theUnsafe</code> to modify the static field <strong>in between those 2 steps</strong>. So, you modify it first, and then you cause the init step to happen which runs the static initializer which overwrites what you just hacked it into. Once it is initialized, the JVM doesn't initialize it again, so once you cause initialization to happen (and <code>new Other()</code> will do just that), then you no longer run into this issue.</p>\n<p>A trivial solution to this problem is to force initialization to happen on your own (<code>Class.forName(&quot;name.of.TheClass&quot;)</code> is one way to do that), and only then futz about with it via <code>theUnsafe</code>.</p>\n"}],"owner":{"account_id":4291034,"reputation":452,"user_id":8244977,"display_name":"BingLi224"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1678670346,"creation_date":1678625664,"question_id":75713240,"body_markdown":"I tried applying `sun.misc.Unsafe` to modify `public static final` field of some class for unit testing and `jmh` benchmarks. Testing with, at least, JDK11 to JDK17, it seemed to work well only after the class object is created or some static function of that class is called as some trigger. My full code is in the bottom.\r\n\r\nQuestions\r\n---------\r\n\r\n- **Why is it required before modification?**\r\n- **Is there any other way to do modification with less executions and memory consumption?**\r\n\r\nMore Details\r\n-----------------\r\n\r\nSome methods worked only in *SOME* platform or JDK version. For example: \r\n```\r\nObject o = Another.class;\r\n\r\n// ...\r\n```\r\nor\r\n```\r\n{\r\n    Object o = Another.class;\r\n} // save stack\r\n\r\n// ...\r\n```\r\nworked with version &quot;16-ea&quot; in sololearn playground, but not work on my OpenJDK 15.0.2+7 (Zulu15.29.15 on macOS 13.1).\r\n\r\nAnd another method that worked in both platforms:\r\n```\r\n{\r\n    Object a = new Another();\r\n}\r\n\r\n// ...\r\n```\r\nor\r\n```\r\nAnother.hi();\r\n\r\n// ...\r\n\r\nclass Another () {\r\n    public static void hi () {}\r\n}\r\n```\r\n\r\nReference\r\n------------\r\n\r\nhttps://stackoverflow.com/a/61150853/8244977\r\n\r\nFull Example\r\n------------\r\n\r\n```\r\nimport sun.misc.Unsafe;\r\nimport java.lang.reflect.Field;\r\n\r\npublic class Program\r\n{\r\n    public static final Object SF = &quot;Original&quot;;\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        ////////////////////////////////////////////////////////////////////////////////\r\n        // Test with this class\r\n\r\n        modify(Program.class.getDeclaredField(&quot;SF&quot;), &quot;New-1&quot;);\r\n        System.out.println(&quot;Program.SF:\\t&quot; + Program.SF);  // Worked: Program.SF:\tNew-1\r\n\r\n        modify(Program.class.getDeclaredField(&quot;SF&quot;), &quot;New-2&quot;);\r\n        System.out.println(&quot;Program.SF:\\t&quot; + Program.SF);  // Worked: Program.SF:\tNew-2\r\n\r\n        ////////////////////////////////////////////////////////////////////////////////\r\n        // Test with another class\r\n\r\n        modify(Another.class.getDeclaredField(&quot;SF&quot;), &quot;New-1&quot;);\r\n        System.out.println(&quot;Another.SF:\\t&quot; + Another.SF);  // Failed: Another.SF:\tOriginal\r\n\r\n        // like a trigger\r\n        {\r\n            Object c = new Another();\r\n        }\r\n\r\n        modify(Another.class.getDeclaredField(&quot;SF&quot;), &quot;New-2&quot;);\r\n        System.out.println(&quot;Another.SF:\\t&quot; + Another.SF);  // Worked: Another.SF:\tNew-2\r\n\t}\r\n\r\n    public static void modify(Field f, Object v) throws Exception {\r\n        Field fu = Unsafe.class.getDeclaredField(&quot;theUnsafe&quot;);\r\n        fu.setAccessible(true);\r\n        Unsafe u = (Unsafe) fu.get(null);\r\n\r\n        u.putObject(\r\n            u.staticFieldBase(f),\r\n            u.staticFieldOffset(f),\r\n            v\r\n        );        \r\n    }\r\n}\r\n\r\nclass Another {\r\n    public static final Object SF = &quot;Original&quot;;\r\n}\r\n```","title":"Why must create or call of the Java class before modifying static final field of another class with Unsafe?","body":"<p>I tried applying <code>sun.misc.Unsafe</code> to modify <code>public static final</code> field of some class for unit testing and <code>jmh</code> benchmarks. Testing with, at least, JDK11 to JDK17, it seemed to work well only after the class object is created or some static function of that class is called as some trigger. My full code is in the bottom.</p>\n<h2>Questions</h2>\n<ul>\n<li><strong>Why is it required before modification?</strong></li>\n<li><strong>Is there any other way to do modification with less executions and memory consumption?</strong></li>\n</ul>\n<h2>More Details</h2>\n<p>Some methods worked only in <em>SOME</em> platform or JDK version. For example:</p>\n<pre><code>Object o = Another.class;\n\n// ...\n</code></pre>\n<p>or</p>\n<pre><code>{\n    Object o = Another.class;\n} // save stack\n\n// ...\n</code></pre>\n<p>worked with version &quot;16-ea&quot; in sololearn playground, but not work on my OpenJDK 15.0.2+7 (Zulu15.29.15 on macOS 13.1).</p>\n<p>And another method that worked in both platforms:</p>\n<pre><code>{\n    Object a = new Another();\n}\n\n// ...\n</code></pre>\n<p>or</p>\n<pre><code>Another.hi();\n\n// ...\n\nclass Another () {\n    public static void hi () {}\n}\n</code></pre>\n<h2>Reference</h2>\n<p><a href=\"https://stackoverflow.com/a/61150853/8244977\">https://stackoverflow.com/a/61150853/8244977</a></p>\n<h2>Full Example</h2>\n<pre><code>import sun.misc.Unsafe;\nimport java.lang.reflect.Field;\n\npublic class Program\n{\n    public static final Object SF = &quot;Original&quot;;\n\n    public static void main(String[] args) throws Exception {\n        ////////////////////////////////////////////////////////////////////////////////\n        // Test with this class\n\n        modify(Program.class.getDeclaredField(&quot;SF&quot;), &quot;New-1&quot;);\n        System.out.println(&quot;Program.SF:\\t&quot; + Program.SF);  // Worked: Program.SF:   New-1\n\n        modify(Program.class.getDeclaredField(&quot;SF&quot;), &quot;New-2&quot;);\n        System.out.println(&quot;Program.SF:\\t&quot; + Program.SF);  // Worked: Program.SF:   New-2\n\n        ////////////////////////////////////////////////////////////////////////////////\n        // Test with another class\n\n        modify(Another.class.getDeclaredField(&quot;SF&quot;), &quot;New-1&quot;);\n        System.out.println(&quot;Another.SF:\\t&quot; + Another.SF);  // Failed: Another.SF:   Original\n\n        // like a trigger\n        {\n            Object c = new Another();\n        }\n\n        modify(Another.class.getDeclaredField(&quot;SF&quot;), &quot;New-2&quot;);\n        System.out.println(&quot;Another.SF:\\t&quot; + Another.SF);  // Worked: Another.SF:   New-2\n    }\n\n    public static void modify(Field f, Object v) throws Exception {\n        Field fu = Unsafe.class.getDeclaredField(&quot;theUnsafe&quot;);\n        fu.setAccessible(true);\n        Unsafe u = (Unsafe) fu.get(null);\n\n        u.putObject(\n            u.staticFieldBase(f),\n            u.staticFieldOffset(f),\n            v\n        );        \n    }\n}\n\nclass Another {\n    public static final Object SF = &quot;Original&quot;;\n}\n</code></pre>\n"},{"tags":["java","jbox2d"],"comments":[{"owner":{"account_id":3093821,"reputation":53931,"user_id":3182664,"accept_rate":55,"display_name":"Marco13"},"score":0,"creation_date":1450137516,"post_id":34277791,"comment_id":56299591,"body_markdown":"You should try to only ask one question at a time. Everything else messes up the structure of a Q/A site. Regarding the gravity: OpenGL and thus many game engines use the right-handed coordinate system: X points right, Y points up (Z points towards the viewer, in the 2D case). So you need a force that points along the *negative* Y-axis in order to model the gravity that pulls *down*.","body":"You should try to only ask one question at a time. Everything else messes up the structure of a Q/A site. Regarding the gravity: OpenGL and thus many game engines use the right-handed coordinate system: X points right, Y points up (Z points towards the viewer, in the 2D case). So you need a force that points along the <i>negative</i> Y-axis in order to model the gravity that pulls <i>down</i>."},{"owner":{"account_id":5234804,"reputation":125,"user_id":4183745,"accept_rate":75,"display_name":"Alann S."},"score":0,"creation_date":1450174520,"post_id":34277791,"comment_id":56314286,"body_markdown":"You are right, I&#39;ll edit my question to respect this rule.\nThanks for this information. Plus, I was able to make the debugging work.","body":"You are right, I&#39;ll edit my question to respect this rule. Thanks for this information. Plus, I was able to make the debugging work."}],"answers":[{"comments":[{"owner":{"account_id":5234804,"reputation":125,"user_id":4183745,"accept_rate":75,"display_name":"Alann S."},"score":0,"creation_date":1450251527,"post_id":34288955,"comment_id":56354288,"body_markdown":"Right, I figured it out even if it sounded unlogical to me :p.","body":"Right, I figured it out even if it sounded unlogical to me :p."}],"tags":[],"owner":{"account_id":7119515,"reputation":6055,"user_id":5444618,"accept_rate":83,"display_name":"Guillaume F."},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1450181511,"creation_date":1450181511,"answer_id":34288955,"question_id":34277791,"body_markdown":"It apparently depends on the implementation of Box2D you are using. Gravity may been reversed in your version:\r\n\r\n    world = new World(new Vec2(0.0f, -9.81f));\r\n\r\nshould be without the minus:\r\n\r\n    world = new World(new Vec2(0.0f, 9.81f));","title":"JBox2D Why is gravity reversed?","body":"<p>It apparently depends on the implementation of Box2D you are using. Gravity may been reversed in your version:</p>\n\n<pre><code>world = new World(new Vec2(0.0f, -9.81f));\n</code></pre>\n\n<p>should be without the minus:</p>\n\n<pre><code>world = new World(new Vec2(0.0f, 9.81f));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":14146536,"reputation":1057,"user_id":10219720,"display_name":"Impurity"},"score":0,"creation_date":1679146778,"post_id":75717338,"comment_id":133671102,"body_markdown":"Could you also provide a code example of the implementation?","body":"Could you also provide a code example of the implementation?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1679146782,"post_id":75717338,"comment_id":133671105,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75717338/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28002018,"reputation":11,"user_id":21386063,"display_name":"Xebisco"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678669820,"creation_date":1678669820,"answer_id":75717338,"question_id":34277791,"body_markdown":"You&#39;re using Java Swing to render, and its &#39;y&#39; axis is inverted, so, or you invert the gravity in JBox2D, or the coodinates in Swing.","title":"JBox2D Why is gravity reversed?","body":"<p>You're using Java Swing to render, and its 'y' axis is inverted, so, or you invert the gravity in JBox2D, or the coodinates in Swing.</p>\n"}],"owner":{"account_id":5234804,"reputation":125,"user_id":4183745,"accept_rate":75,"display_name":"Alann S."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":34288955,"answer_count":2,"score":1,"last_activity_date":1678669820,"creation_date":1450132037,"question_id":34277791,"body_markdown":"Good evening everyone.\r\nI&#39;m requesting your help ! I&#39;m discovering Box2D but I&#39;m already struggling with a few things :\r\n\r\nMy gravity is reversed and I don&#39;t understand why.\r\nAnd my second problem is that I can&#39;t manage to draw it in a debugged way.\r\nI had to manually draw it to actually see something.\r\n\r\nHere is a code sample to play with !\r\n\r\n     package tests;\r\n     \r\n     import java.awt.Color;\r\n     import java.awt.Graphics;\r\n     import java.awt.Graphics2D;\r\n     import java.awt.event.ActionEvent;\r\n     import java.awt.event.ActionListener;\r\n     \r\n     import javax.swing.JFrame;\r\n     import javax.swing.JPanel;\r\n     import javax.swing.Timer;\r\n     \r\n     import engine.jbox2d.collision.shapes.CircleShape;\r\n     import engine.jbox2d.collision.shapes.PolygonShape;\r\n     import engine.jbox2d.common.Vec2;\r\n     import engine.jbox2d.dynamics.Body;\r\n     import engine.jbox2d.dynamics.BodyDef;\r\n     import engine.jbox2d.dynamics.BodyType;\r\n     import engine.jbox2d.dynamics.FixtureDef;\r\n     import engine.jbox2d.dynamics.World;\r\n     \r\n     public class JBox2DTest extends JPanel\r\n     {\r\n     \tprivate static final long serialVersionUID = 7173873195721096625L;\r\n     \r\n     \t// model\r\n     \tprivate World\t\t\t world;\r\n     \tprivate Ball\t\t\t ball;\r\n     \r\n     \tpublic JBox2DTest()\r\n     \t{\r\n     \t\t// Cr&#233;ation du monde\r\n     \t\tworld = new World(new Vec2(0.0f, -9.81f));\r\n     \r\n     \t\t// Cr&#233;ation d&#39;un sol\r\n     \t\tnew Ground(world);\r\n     \r\n     \t\t// Cr&#233;ation d&#39;une balle\r\n     \t\tthis.ball = new Ball(world);\r\n     \r\n     \t\t//Cr&#233;ation de la frame\r\n     \t\tJFrame frame = new JFrame();\r\n     \t\tframe.setSize(800, 600);\r\n     \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n     \t\tframe.add(this);\r\n     \t\tframe.setVisible(true);\r\n     \r\n     \t\t//Loop\r\n     \t\tTimer simulationTimer = new Timer(10, new ActionListener()\r\n     \t\t{\r\n     \t\t\tpublic void actionPerformed(ActionEvent e)\r\n     \t\t\t{\r\n     \t\t\t\tworld.step(1.0f / 60.0f, 6, 2);\r\n     \t\t\t\trepaint();\r\n     \t\t\t}\r\n     \t\t});\r\n     \t\tsimulationTimer.start();\r\n     \t}\r\n     \r\n     \tpublic void paint(Graphics g)\r\n     \t{\r\n     \t\tg.setColor(Color.BLACK);\r\n     \t\tg.fillRect(0, 0, this.getWidth(), this.getHeight());\r\n     \t\tball.draw((Graphics2D) g);\r\n     \t}\r\n     \r\n     \tpublic static void main(String[] args)\r\n     \t{\r\n     \t\tnew JBox2DTest();\r\n     \t}\r\n     }\r\n     \r\n     class Ground\r\n     {\r\n     \tBody body;\r\n     \r\n     \tpublic Ground(World world)\r\n     \t{\r\n     \t\tBodyDef groundBodyDef = new BodyDef();\r\n     \t\tgroundBodyDef.position.set(0.0f, -10.0f);\r\n     \t\tbody = world.createBody(groundBodyDef);\r\n     \t\tPolygonShape groundBox = new PolygonShape();\r\n     \t\tgroundBox.setAsBox(800.0f, 10);\r\n     \t\tbody.createFixture(groundBox, 0.0f);\r\n     \t}\r\n     }\r\n     \r\n     class Ball\r\n     {\r\n     \tprivate Body body;\r\n     \r\n     \tpublic Ball(World world)\r\n     \t{\r\n     \t\tBodyDef bodyDef = new BodyDef();\r\n     \t\tbodyDef.type = BodyType.DYNAMIC; // Sujet aux forces\r\n     \t\tbodyDef.position.set(800/2, 600/2);\r\n     \t\tthis.body = world.createBody(bodyDef);\r\n     \t\tCircleShape dynamicCirle = new CircleShape();\r\n     \t\tdynamicCirle.setRadius(10f);\r\n     \t\tFixtureDef fixtureDef = new FixtureDef();\r\n     \t\tfixtureDef.shape = dynamicCirle;\r\n     \t\tfixtureDef.density = 1.0f;\r\n     \t\tfixtureDef.friction = 0.3f;\r\n     \t\tfixtureDef.restitution = 0.3f;\r\n     \t\tbody.createFixture(fixtureDef);\r\n     \t}\r\n     \r\n     \tpublic void draw(Graphics2D g2d)\r\n     \t{\r\n     \t\tg2d.setColor(Color.RED);\r\n     \r\n     \t\tVec2 ballPos = body.getPosition();\r\n     \t\tfloat ballRadius = body.getFixtureList().getShape().getRadius();\r\n     \r\n     \t\tg2d.drawOval(\r\n     \t\t\t(int) (ballPos.x - ballRadius),\r\n     \t\t\t(int) (ballPos.y - ballRadius),\r\n     \t\t\t(int) (ballRadius * 2),\r\n     \t\t\t(int) (ballRadius * 2)\r\n     \t\t);\r\n     \t}\r\n     }\r\n     \r\nThanks a lot for your help !\r\nBest regards,\r\nAlann","title":"JBox2D Why is gravity reversed?","body":"<p>Good evening everyone.\nI'm requesting your help ! I'm discovering Box2D but I'm already struggling with a few things :</p>\n\n<p>My gravity is reversed and I don't understand why.\nAnd my second problem is that I can't manage to draw it in a debugged way.\nI had to manually draw it to actually see something.</p>\n\n<p>Here is a code sample to play with !</p>\n\n<pre><code> package tests;\n\n import java.awt.Color;\n import java.awt.Graphics;\n import java.awt.Graphics2D;\n import java.awt.event.ActionEvent;\n import java.awt.event.ActionListener;\n\n import javax.swing.JFrame;\n import javax.swing.JPanel;\n import javax.swing.Timer;\n\n import engine.jbox2d.collision.shapes.CircleShape;\n import engine.jbox2d.collision.shapes.PolygonShape;\n import engine.jbox2d.common.Vec2;\n import engine.jbox2d.dynamics.Body;\n import engine.jbox2d.dynamics.BodyDef;\n import engine.jbox2d.dynamics.BodyType;\n import engine.jbox2d.dynamics.FixtureDef;\n import engine.jbox2d.dynamics.World;\n\n public class JBox2DTest extends JPanel\n {\n    private static final long serialVersionUID = 7173873195721096625L;\n\n    // model\n    private World            world;\n    private Ball             ball;\n\n    public JBox2DTest()\n    {\n        // Création du monde\n        world = new World(new Vec2(0.0f, -9.81f));\n\n        // Création d'un sol\n        new Ground(world);\n\n        // Création d'une balle\n        this.ball = new Ball(world);\n\n        //Création de la frame\n        JFrame frame = new JFrame();\n        frame.setSize(800, 600);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add(this);\n        frame.setVisible(true);\n\n        //Loop\n        Timer simulationTimer = new Timer(10, new ActionListener()\n        {\n            public void actionPerformed(ActionEvent e)\n            {\n                world.step(1.0f / 60.0f, 6, 2);\n                repaint();\n            }\n        });\n        simulationTimer.start();\n    }\n\n    public void paint(Graphics g)\n    {\n        g.setColor(Color.BLACK);\n        g.fillRect(0, 0, this.getWidth(), this.getHeight());\n        ball.draw((Graphics2D) g);\n    }\n\n    public static void main(String[] args)\n    {\n        new JBox2DTest();\n    }\n }\n\n class Ground\n {\n    Body body;\n\n    public Ground(World world)\n    {\n        BodyDef groundBodyDef = new BodyDef();\n        groundBodyDef.position.set(0.0f, -10.0f);\n        body = world.createBody(groundBodyDef);\n        PolygonShape groundBox = new PolygonShape();\n        groundBox.setAsBox(800.0f, 10);\n        body.createFixture(groundBox, 0.0f);\n    }\n }\n\n class Ball\n {\n    private Body body;\n\n    public Ball(World world)\n    {\n        BodyDef bodyDef = new BodyDef();\n        bodyDef.type = BodyType.DYNAMIC; // Sujet aux forces\n        bodyDef.position.set(800/2, 600/2);\n        this.body = world.createBody(bodyDef);\n        CircleShape dynamicCirle = new CircleShape();\n        dynamicCirle.setRadius(10f);\n        FixtureDef fixtureDef = new FixtureDef();\n        fixtureDef.shape = dynamicCirle;\n        fixtureDef.density = 1.0f;\n        fixtureDef.friction = 0.3f;\n        fixtureDef.restitution = 0.3f;\n        body.createFixture(fixtureDef);\n    }\n\n    public void draw(Graphics2D g2d)\n    {\n        g2d.setColor(Color.RED);\n\n        Vec2 ballPos = body.getPosition();\n        float ballRadius = body.getFixtureList().getShape().getRadius();\n\n        g2d.drawOval(\n            (int) (ballPos.x - ballRadius),\n            (int) (ballPos.y - ballRadius),\n            (int) (ballRadius * 2),\n            (int) (ballRadius * 2)\n        );\n    }\n }\n</code></pre>\n\n<p>Thanks a lot for your help !\nBest regards,\nAlann</p>\n"},{"tags":["javascript","java","spring","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":13614805,"reputation":893,"user_id":9821036,"display_name":"Random guy"},"score":0,"creation_date":1575306681,"post_id":59128535,"comment_id":104513603,"body_markdown":"can u say me what should i need to change ? i am not able to deserialize it.","body":"can u say me what should i need to change ? i am not able to deserialize it."},{"owner":{"account_id":9706811,"reputation":2870,"user_id":7200018,"display_name":"GnanaJeyam"},"score":0,"creation_date":1575307437,"post_id":59128535,"comment_id":104513883,"body_markdown":"Have a transient variable and then serialize your imagObject to this transient variable then finally convert this string variable to byte[] while storing into database","body":"Have a transient variable and then serialize your imagObject to this transient variable then finally convert this string variable to byte[] while storing into database"},{"owner":{"account_id":13614805,"reputation":893,"user_id":9821036,"display_name":"Random guy"},"score":0,"creation_date":1575307517,"post_id":59128535,"comment_id":104513918,"body_markdown":"I even tried this way: https://stackoverflow.com/questions/59143543/cannot-construct-instance-of-org-springframework-web-multipart-multipartfile-e","body":"I even tried this way: <a href=\"https://stackoverflow.com/questions/59143543/cannot-construct-instance-of-org-springframework-web-multipart-multipartfile-e\" title=\"cannot construct instance of org springframework web multipart multipartfile e\">stackoverflow.com/questions/59143543/&hellip;</a>"},{"owner":{"account_id":13614805,"reputation":893,"user_id":9821036,"display_name":"Random guy"},"score":0,"creation_date":1575307552,"post_id":59128535,"comment_id":104513931,"body_markdown":"It is not working .So please can u help me how can I make this working?","body":"It is not working .So please can u help me how can I make this working?"},{"owner":{"account_id":9706811,"reputation":2870,"user_id":7200018,"display_name":"GnanaJeyam"},"score":0,"creation_date":1575307822,"post_id":59128535,"comment_id":104514045,"body_markdown":"Have a string transient variable. And deserialize your image decode to that variable.","body":"Have a string transient variable. And deserialize your image decode to that variable."},{"owner":{"account_id":13614805,"reputation":893,"user_id":9821036,"display_name":"Random guy"},"score":0,"creation_date":1575308150,"post_id":59128535,"comment_id":104514171,"body_markdown":"Can u just help me writing the deserialize code ? Rest of other i will do it myself","body":"Can u just help me writing the deserialize code ? Rest of other i will do it myself"},{"owner":{"account_id":9706811,"reputation":2870,"user_id":7200018,"display_name":"GnanaJeyam"},"score":0,"creation_date":1575308551,"post_id":59128535,"comment_id":104514330,"body_markdown":"Check now and let me know","body":"Check now and let me know"}],"tags":[],"owner":{"account_id":9706811,"reputation":2870,"user_id":7200018,"display_name":"GnanaJeyam"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575224391,"creation_date":1575224391,"answer_id":59128535,"question_id":59126222,"body_markdown":"The stack trace shows the exact problem. Yes you cannot deserialize the String to byte array. To make your JSON deserialize works you need to create custom deserializer.\n\n**Reference:**\nhttps://www.baeldung.com/jackson-deserialization\n\n","title":"Image not being insert in spring boot","body":"<p>The stack trace shows the exact problem. Yes you cannot deserialize the String to byte array. To make your JSON deserialize works you need to create custom deserializer.</p>\n\n<p><strong>Reference:</strong>\n<a href=\"https://www.baeldung.com/jackson-deserialization\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jackson-deserialization</a></p>\n"},{"tags":[],"owner":{"account_id":9706811,"reputation":2870,"user_id":7200018,"display_name":"GnanaJeyam"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1575308519,"creation_date":1575308519,"answer_id":59144112,"question_id":59126222,"body_markdown":"This is not a standard approach. But try it.\n\n\n    @Entity @Table(name = &quot;employee&quot;) \n    public class Employee { \n    @Id \n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n     private Integer id;\n     // Remaining fields \n    @Transient\n    private String imageDecode;\n    }\n\n\nFrom UI send your decoded data to this transient variable.\n\nOnce after the successful serialization convert that string to byte array[].\n\n    byte[] byte = imageDecode.getBytes();\n\nHope this will work.\n","title":"Image not being insert in spring boot","body":"<p>This is not a standard approach. But try it.</p>\n\n<pre><code>@Entity @Table(name = \"employee\") \npublic class Employee { \n@Id \n@GeneratedValue(strategy = GenerationType.IDENTITY)\n private Integer id;\n // Remaining fields \n@Transient\nprivate String imageDecode;\n}\n</code></pre>\n\n<p>From UI send your decoded data to this transient variable.</p>\n\n<p>Once after the successful serialization convert that string to byte array[].</p>\n\n<pre><code>byte[] byte = imageDecode.getBytes();\n</code></pre>\n\n<p>Hope this will work.</p>\n"},{"tags":[],"owner":{"account_id":9348812,"reputation":653,"user_id":6939219,"display_name":"Edgardo Genini"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678667233,"creation_date":1678667233,"answer_id":75717194,"question_id":59126222,"body_markdown":"Before sending remove:\r\n\r\ndata:image/jpeg;base64,\r\n\r\nThe parser only recognizes the bytes transformed with base64, the above is used so that the control can render it.\r\n","title":"Image not being insert in spring boot","body":"<p>Before sending remove:</p>\n<p>data:image/jpeg;base64,</p>\n<p>The parser only recognizes the bytes transformed with base64, the above is used so that the control can render it.</p>\n"}],"owner":{"account_id":13614805,"reputation":893,"user_id":9821036,"display_name":"Random guy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1310,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":59144112,"answer_count":3,"score":1,"last_activity_date":1678667233,"creation_date":1575208913,"question_id":59126222,"body_markdown":"I am using spring boot and I have simple form ,where there is upload option to upload the image.\r\n\r\n    &lt;form&gt;\r\n        &lt;div class=&quot;col-md-6&quot;&gt;\r\n            &lt;input type=&#39;file&#39; id=&quot;imgInp&quot; /&gt;\r\n            &lt;img id=&quot;blah&quot; src=&quot;#&quot; alt=&quot;your image&quot; width=&quot;200&quot; height=&quot;200&quot; /&gt;\r\n        &lt;/div&gt;\r\n        &lt;button type=&quot;submit&quot; id=&quot;btn-add&quot; class=&quot;btn btn-primary btn-lg&quot;&gt;Add Employee\r\n        &lt;/button&gt;\r\n    &lt;/form&gt;\r\nWhen I upload the image,then it is changed into base 64 as below codes and it is manipulated in employee object and sent through AJAX post method.But I am getting error in spring boot side:\r\n \r\n\r\n    var imgObject;\r\n    $(document).ready(function() {\r\n    \r\n        $(&quot;#imgInp&quot;).change(function() {\r\n            readURL(this);\r\n        });\r\n    \r\n        function readURL(input) {\r\n            if (input.files &amp;&amp; input.files[0]) {\r\n                var reader = new FileReader();\r\n                reader.onload = function(e) {\r\n                    $(&#39;#blah&#39;).attr(&#39;src&#39;, e.target.result);\r\n                    console.log(&quot;aaaa&quot;);\r\n                    imgObject = e.target.result;\r\n                    console.log(imgObject);\r\n                }\r\n    \r\n                reader.readAsDataURL(input.files[0]);\r\n            }\r\n        }\r\n    \r\n    \r\n        $(&#39;#btn-add&#39;).on(&#39;click&#39;, function() {\r\n    \r\n            //stop submit the form, we will post it manually.\r\n            event.preventDefault();\r\n            console.log(&quot;hitted&quot;);\r\n            fire_ajax_submit();\r\n    \r\n        });\r\n    \r\n    });\r\n    \r\n    function fire_ajax_submit() {\r\n    \r\n        var employee = {\r\n            &quot;iNumber&quot;: $(&quot;#iNumber&quot;).val(),\r\n            &quot;fullName&quot;: $(&quot;#fullName&quot;).val(),\r\n            &quot;joinedDate&quot;: $(&quot;#joinedDate&quot;).val(),\r\n            &quot;position&quot;: $(&quot;#position&quot;).val(),\r\n            &quot;reportsTo&quot;: $(&quot;#reportsTo&quot;).val(),\r\n            &quot;cubicleNo&quot;: $(&quot;#cubicleNo&quot;).val(),\r\n            &quot;jobType&quot;: $(&quot;#jobType&quot;).val(),\r\n            &quot;imagObject&quot;: imgObject\r\n        };\r\n    \r\n        console.log(employee);\r\n    \r\n        $.ajax({\r\n            url: A_PAGE_CONTEXT_PATH + &quot;/insert-emp&quot;,\r\n            method: &quot;post&quot;,\r\n            contentType: &quot;application/json&quot;,\r\n            dataType: &quot;json&quot;,\r\n            data: JSON.stringify(employee),\r\n            success: function(response) {\r\n                console.log(response);\r\n                alert(&quot;Successfully Saved!&quot;);\r\n                window.location.reload(true);\r\n            },\r\n            error: function(response) {\r\n                switch (response.status) {\r\n                    case 409:\r\n                        alert(&quot;error&quot;);\r\n                }\r\n            }\r\n        });\r\n    \r\n    }\r\n\r\n`console.log(employee)` is printed as:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/N0x2C.png\r\n\r\nThe image is converted into base64.\r\nI tried to insert the image using AJAX.So, my Rest Api is:\r\n\r\n    @RestController\r\n    public class EmployeeController {\r\n    \r\n        @Autowired\r\n        private EmployeeService empService;\r\n    \r\n        @PostMapping(&quot;/insert-emp&quot;)\r\n        @ResponseBody\r\n        public Employee createEmployee(@Valid @RequestBody Employee employee){\r\n          return empService.saveEmployee(employee);\r\n        }\r\n    }\r\nMy service class is:\r\n\r\n    @Service\r\n    public class EmployeeService {\r\n    \r\n        @Autowired\r\n        private EmployeeRepository empRepository;\r\n    \r\n        public Employee saveEmployee(Employee employee){\r\n            if(employee.getId()==0){\r\n                empRepository.save(employee);\r\n            }\r\n            else{\r\n                empRepository.save(employee);\r\n            }\r\n            return  employee;\r\n        }\r\n\r\nMy repository class is:\r\n\r\n    @Repository\r\n    public interface  EmployeeRepository  extends JpaRepository&lt;Employee,Integer&gt; {\r\n    }\r\nMy model Employee.java class is:\r\n\r\n    @Entity\r\n    @Table(name = &quot;employee&quot;)\r\n    public class Employee {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Integer id;\r\n    \r\n        @NotBlank\r\n        private String iNumber;\r\n    \r\n        @NotBlank\r\n        private String fullName;\r\n    \r\n    //    @NotBlank\r\n        private String joinedDate;\r\n    \r\n        @NotBlank\r\n        private String position;\r\n    \r\n        @NotBlank\r\n        private String reportsTo;\r\n    \r\n        @NotBlank\r\n        private String cubicleNo;\r\n    \r\n        @NotBlank\r\n        private String jobType;\r\n    \r\n        private  byte[] imagObject;\r\n    \r\n        public Employee() {\r\n        }\r\n    \r\n        //all getters and setters\r\n    \r\n    }\r\n\r\n\r\nBut I am getting error as:\r\n\r\n    w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `byte[]` from String &quot;image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAUEBAUEAwUFBAUGBgUGCA4JCAcHCBEMDQoOFBEVFBMRExMWGB8bFhceFxMTGyUcHiAhIyMjFRomKSYiKR8iIyL/2wBDAQYGBggHCBAJCRAiFhMWIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiL/wAARCAOWBmADASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8]...[zUOSGGaKKfQfUUMSuR3NY3iCZ7WC3ky+3zQrBHKk8Hv9cUUUhMzv+Es8gLHLbsz/AN4P2/Kom8aQcj7NLke4ooplW0I9T1wvb20sbTQqZPm8vGTwcUtn4niS3WOaOVpAMMRg5P50UUE9BV8YWZyBDcDnH3V/xq3o2qLfmWP94SCWBfHQngUUUDGXGvwWskiSxSEx9SoH+NRr4hgctiKTAODwP8aKKQupONaiyN6Pg9MAf41Qi1mRb2Z3Zmi34CYHAoop20GbdvfLOrFVYY9ay4NUlW5l8470810C46YYj+lFFICWXUylwrHJiOBtxyDWgZRtVucHtRRTa0H0IzdBAcgmoReozHKtxRRSEthxuFwDtODQJAw70UUC6iH5Tx3prnauTk5oooH0IHnwxXHUAimbgeuaKKroJjzJ+74/WmRnI55zRRUCKMF68txIrqu0OVGOvBP+FXBz04ooprYZXEjNcNEcYA9KsoQqYxx0oopg9z//2Q==&quot;: Failed to decode VALUE_STRING as base64 (MIME-NO-LINEFEEDS): Illegal character &#39;:&#39; (code 0x3a) in base64 content; nested exception is com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `byte[]` from String &quot;image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAUEBAUEAwUFBAUGBgUGCA4JCAcHCBEMDQoOFBEVFBMRExMWGB8bFhceFxMTGyUcHiAhIyMjFRomKSYiKR8iIyL/2wBDAQYGBggHCBAJCRAiFhMWIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiL/wAARCAOWBmADASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8]...[zUOSGGaKKfQfUUMSuR3NY3iCZ7WC3ky+3zQrBHKk8Hv9cUUUhMzv+Es8gLHLbsz/AN4P2/Kom8aQcj7NLke4ooplW0I9T1wvb20sbTQqZPm8vGTwcUtn4niS3WOaOVpAMMRg5P50UUE9BV8YWZyBDcDnH3V/xq3o2qLfmWP94SCWBfHQngUUUDGXGvwWskiSxSEx9SoH+NRr4hgctiKTAODwP8aKKQupONaiyN6Pg9MAf41Qi1mRb2Z3Zmi34CYHAoop20GbdvfLOrFVYY9ay4NUlW5l8470810C46YYj+lFFICWXUylwrHJiOBtxyDWgZRtVucHtRRTa0H0IzdBAcgmoReozHKtxRRSEthxuFwDtODQJAw70UUC6iH5Tx3prnauTk5oooH0IHnwxXHUAimbgeuaKKroJjzJ+74/WmRnI55zRRUCKMF68txIrqu0OVGOvBP+FXBz04ooprYZXEjNcNEcYA9KsoQqYxx0oopg9z//2Q==&quot;: Failed to decode VALUE_STRING as base64 (MIME-NO-LINEFEEDS): Illegal character &#39;:&#39; (code 0x3a) in base64 content\r\n     at [Source: (PushbackInputStream); line: 1, column: 143] (through reference chain: com.ashwin.vemployee.model.Employee[&quot;imagObject&quot;])]\r\n\r\nHow can I handle this error? ","title":"Image not being insert in spring boot","body":"<p>I am using spring boot and I have simple form ,where there is upload option to upload the image.</p>\n\n<pre><code>&lt;form&gt;\n    &lt;div class=\"col-md-6\"&gt;\n        &lt;input type='file' id=\"imgInp\" /&gt;\n        &lt;img id=\"blah\" src=\"#\" alt=\"your image\" width=\"200\" height=\"200\" /&gt;\n    &lt;/div&gt;\n    &lt;button type=\"submit\" id=\"btn-add\" class=\"btn btn-primary btn-lg\"&gt;Add Employee\n    &lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>When I upload the image,then it is changed into base 64 as below codes and it is manipulated in employee object and sent through AJAX post method.But I am getting error in spring boot side:</p>\n\n<pre><code>var imgObject;\n$(document).ready(function() {\n\n    $(\"#imgInp\").change(function() {\n        readURL(this);\n    });\n\n    function readURL(input) {\n        if (input.files &amp;&amp; input.files[0]) {\n            var reader = new FileReader();\n            reader.onload = function(e) {\n                $('#blah').attr('src', e.target.result);\n                console.log(\"aaaa\");\n                imgObject = e.target.result;\n                console.log(imgObject);\n            }\n\n            reader.readAsDataURL(input.files[0]);\n        }\n    }\n\n\n    $('#btn-add').on('click', function() {\n\n        //stop submit the form, we will post it manually.\n        event.preventDefault();\n        console.log(\"hitted\");\n        fire_ajax_submit();\n\n    });\n\n});\n\nfunction fire_ajax_submit() {\n\n    var employee = {\n        \"iNumber\": $(\"#iNumber\").val(),\n        \"fullName\": $(\"#fullName\").val(),\n        \"joinedDate\": $(\"#joinedDate\").val(),\n        \"position\": $(\"#position\").val(),\n        \"reportsTo\": $(\"#reportsTo\").val(),\n        \"cubicleNo\": $(\"#cubicleNo\").val(),\n        \"jobType\": $(\"#jobType\").val(),\n        \"imagObject\": imgObject\n    };\n\n    console.log(employee);\n\n    $.ajax({\n        url: A_PAGE_CONTEXT_PATH + \"/insert-emp\",\n        method: \"post\",\n        contentType: \"application/json\",\n        dataType: \"json\",\n        data: JSON.stringify(employee),\n        success: function(response) {\n            console.log(response);\n            alert(\"Successfully Saved!\");\n            window.location.reload(true);\n        },\n        error: function(response) {\n            switch (response.status) {\n                case 409:\n                    alert(\"error\");\n            }\n        }\n    });\n\n}\n</code></pre>\n\n<p><code>console.log(employee)</code> is printed as:</p>\n\n<p><a href=\"https://i.stack.imgur.com/N0x2C.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N0x2C.png\" alt=\"enter image description here\"></a></p>\n\n<p>The image is converted into base64.\nI tried to insert the image using AJAX.So, my Rest Api is:</p>\n\n<pre><code>@RestController\npublic class EmployeeController {\n\n    @Autowired\n    private EmployeeService empService;\n\n    @PostMapping(\"/insert-emp\")\n    @ResponseBody\n    public Employee createEmployee(@Valid @RequestBody Employee employee){\n      return empService.saveEmployee(employee);\n    }\n}\n</code></pre>\n\n<p>My service class is:</p>\n\n<pre><code>@Service\npublic class EmployeeService {\n\n    @Autowired\n    private EmployeeRepository empRepository;\n\n    public Employee saveEmployee(Employee employee){\n        if(employee.getId()==0){\n            empRepository.save(employee);\n        }\n        else{\n            empRepository.save(employee);\n        }\n        return  employee;\n    }\n</code></pre>\n\n<p>My repository class is:</p>\n\n<pre><code>@Repository\npublic interface  EmployeeRepository  extends JpaRepository&lt;Employee,Integer&gt; {\n}\n</code></pre>\n\n<p>My model Employee.java class is:</p>\n\n<pre><code>@Entity\n@Table(name = \"employee\")\npublic class Employee {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    @NotBlank\n    private String iNumber;\n\n    @NotBlank\n    private String fullName;\n\n//    @NotBlank\n    private String joinedDate;\n\n    @NotBlank\n    private String position;\n\n    @NotBlank\n    private String reportsTo;\n\n    @NotBlank\n    private String cubicleNo;\n\n    @NotBlank\n    private String jobType;\n\n    private  byte[] imagObject;\n\n    public Employee() {\n    }\n\n    //all getters and setters\n\n}\n</code></pre>\n\n<p>But I am getting error as:</p>\n\n<pre><code>w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `byte[]` from String \"image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAUEBAUEAwUFBAUGBgUGCA4JCAcHCBEMDQoOFBEVFBMRExMWGB8bFhceFxMTGyUcHiAhIyMjFRomKSYiKR8iIyL/2wBDAQYGBggHCBAJCRAiFhMWIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiL/wAARCAOWBmADASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8]...[zUOSGGaKKfQfUUMSuR3NY3iCZ7WC3ky+3zQrBHKk8Hv9cUUUhMzv+Es8gLHLbsz/AN4P2/Kom8aQcj7NLke4ooplW0I9T1wvb20sbTQqZPm8vGTwcUtn4niS3WOaOVpAMMRg5P50UUE9BV8YWZyBDcDnH3V/xq3o2qLfmWP94SCWBfHQngUUUDGXGvwWskiSxSEx9SoH+NRr4hgctiKTAODwP8aKKQupONaiyN6Pg9MAf41Qi1mRb2Z3Zmi34CYHAoop20GbdvfLOrFVYY9ay4NUlW5l8470810C46YYj+lFFICWXUylwrHJiOBtxyDWgZRtVucHtRRTa0H0IzdBAcgmoReozHKtxRRSEthxuFwDtODQJAw70UUC6iH5Tx3prnauTk5oooH0IHnwxXHUAimbgeuaKKroJjzJ+74/WmRnI55zRRUCKMF68txIrqu0OVGOvBP+FXBz04ooprYZXEjNcNEcYA9KsoQqYxx0oopg9z//2Q==\": Failed to decode VALUE_STRING as base64 (MIME-NO-LINEFEEDS): Illegal character ':' (code 0x3a) in base64 content; nested exception is com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `byte[]` from String \"image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAUEBAUEAwUFBAUGBgUGCA4JCAcHCBEMDQoOFBEVFBMRExMWGB8bFhceFxMTGyUcHiAhIyMjFRomKSYiKR8iIyL/2wBDAQYGBggHCBAJCRAiFhMWIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiL/wAARCAOWBmADASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8]...[zUOSGGaKKfQfUUMSuR3NY3iCZ7WC3ky+3zQrBHKk8Hv9cUUUhMzv+Es8gLHLbsz/AN4P2/Kom8aQcj7NLke4ooplW0I9T1wvb20sbTQqZPm8vGTwcUtn4niS3WOaOVpAMMRg5P50UUE9BV8YWZyBDcDnH3V/xq3o2qLfmWP94SCWBfHQngUUUDGXGvwWskiSxSEx9SoH+NRr4hgctiKTAODwP8aKKQupONaiyN6Pg9MAf41Qi1mRb2Z3Zmi34CYHAoop20GbdvfLOrFVYY9ay4NUlW5l8470810C46YYj+lFFICWXUylwrHJiOBtxyDWgZRtVucHtRRTa0H0IzdBAcgmoReozHKtxRRSEthxuFwDtODQJAw70UUC6iH5Tx3prnauTk5oooH0IHnwxXHUAimbgeuaKKroJjzJ+74/WmRnI55zRRUCKMF68txIrqu0OVGOvBP+FXBz04ooprYZXEjNcNEcYA9KsoQqYxx0oopg9z//2Q==\": Failed to decode VALUE_STRING as base64 (MIME-NO-LINEFEEDS): Illegal character ':' (code 0x3a) in base64 content\n at [Source: (PushbackInputStream); line: 1, column: 143] (through reference chain: com.ashwin.vemployee.model.Employee[\"imagObject\"])]\n</code></pre>\n\n<p>How can I handle this error? </p>\n"},{"tags":["java","amazon-web-services","md5"],"answers":[{"comments":[{"owner":{"account_id":2128715,"reputation":1801,"user_id":1890105,"accept_rate":67,"display_name":"Chromos"},"score":0,"creation_date":1357592860,"post_id":14200993,"comment_id":19695057,"body_markdown":"thx, I think Im a step further right now. I pass the error and run into another one. &quot;Service Error. Response Status: 400. Received message: Bad Request&quot; this time :( Im not sure if this relates to a wron md5 sum.","body":"thx, I think Im a step further right now. I pass the error and run into another one. &quot;Service Error. Response Status: 400. Received message: Bad Request&quot; this time :( Im not sure if this relates to a wron md5 sum."}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1357579758,"creation_date":1357579758,"answer_id":14200993,"question_id":14200968,"body_markdown":"It looks like the Amazon hash is using base64, whereas you&#39;re using hex. If you use a base64 library ([such as this one][1]) you should be okay. (I can&#39;t validate that with the values in your post, as they&#39;re incomplete. I&#39;d be amazed if it didn&#39;t work though.)\r\n\r\n(I&#39;d also suggest *not* using `BigInteger` as a way of converting binary to hex. It happens to be able to do that, modulo leading zeroes, but it&#39;s not its purpose.)\r\n\r\n\r\n  [1]: http://iharder.net/base64","title":"Java Content-MD5 Header mismatch","body":"<p>It looks like the Amazon hash is using base64, whereas you're using hex. If you use a base64 library (<a href=\"http://iharder.net/base64\" rel=\"nofollow\">such as this one</a>) you should be okay. (I can't validate that with the values in your post, as they're incomplete. I'd be amazed if it didn't work though.)</p>\n\n<p>(I'd also suggest <em>not</em> using <code>BigInteger</code> as a way of converting binary to hex. It happens to be able to do that, modulo leading zeroes, but it's not its purpose.)</p>\n"}],"owner":{"account_id":2128715,"reputation":1801,"user_id":1890105,"accept_rate":67,"display_name":"Chromos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1014,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":14200993,"answer_count":1,"score":0,"last_activity_date":1678666347,"creation_date":1357579661,"question_id":14200968,"body_markdown":"I am trying to send content from a file to the Amazon db. The MD5 hash I generated doesn&#39;t fit the one Amazon generates. What am I doing wrong?\r\n\r\n      try {\r\n            FileInputStream fis = new FileInputStream(&quot;upload.txt&quot;);         \t\t\r\n            MessageDigest md = MessageDigest.getInstance(&quot;MD5&quot;);\r\n            byte[] buffer=new byte[8192];\r\n            int read=0;\r\n            while( (read = fis.read(buffer)) &gt; 0)\r\n                    md.update(buffer, 0, read);\r\n            byte[] md5 = md.digest();\r\n            BigInteger bi=new BigInteger(1, md5);\r\n            String output = bi.toString(16);\r\n            System.out.println(output);\r\n            SubmitFeed.submit(fis, output);\r\n    } catch(Exception e) { \r\n      // removed: not relevant to question\r\n    }\r\nThe hash amazon reports me back seems to have a different pattern. \r\n\r\nmine: ...5856911dca2be1...\r\n\r\namazon: ...AmY7PhCfg==","title":"Java Content-MD5 Header mismatch","body":"<p>I am trying to send content from a file to the Amazon db. The MD5 hash I generated doesn't fit the one Amazon generates. What am I doing wrong?</p>\n\n<pre><code>  try {\n        FileInputStream fis = new FileInputStream(\"upload.txt\");                \n        MessageDigest md = MessageDigest.getInstance(\"MD5\");\n        byte[] buffer=new byte[8192];\n        int read=0;\n        while( (read = fis.read(buffer)) &gt; 0)\n                md.update(buffer, 0, read);\n        byte[] md5 = md.digest();\n        BigInteger bi=new BigInteger(1, md5);\n        String output = bi.toString(16);\n        System.out.println(output);\n        SubmitFeed.submit(fis, output);\n} catch(Exception e) { \n  // removed: not relevant to question\n}\n</code></pre>\n\n<p>The hash amazon reports me back seems to have a different pattern. </p>\n\n<p>mine: ...5856911dca2be1...</p>\n\n<p>amazon: ...AmY7PhCfg==</p>\n"},{"tags":["java","libgdx","game-physics","box2d","box2d-joints"],"owner":{"account_id":25694965,"reputation":75,"user_id":19455808,"display_name":"el Kusn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678664951,"creation_date":1678664951,"question_id":75717083,"body_markdown":"I am currently working on a project and im trying to implement a moving platform that goes up and down continuously from A to B. I&#39;ve tried some stuff and i can&#39;t get it to move. It appears as a box on the screen but it is static. This is my current code:\r\n```java\r\n public void createMovingPlatform(PolygonMapObject polygonMapObject) {\r\n\r\n    // Create the body\r\n    BodyDef bodyDef = new BodyDef();\r\n    bodyDef.type = BodyDef.BodyType.KinematicBody;\r\n    Body body = gameScreen.getWorld().createBody(bodyDef);\r\n    Shape shape = createPolygonShape(polygonMapObject);\r\n    body.createFixture(shape, 1f);\r\n    \r\n    shape.dispose();\r\n\r\n    \r\n    // Create the joint\r\n    PrismaticJointDef jointDef = new PrismaticJointDef();\r\n    jointDef.initialize(body, gameScreen.getWorld().createBody(new BodyDef()), body.getWorldCenter(), new Vector2(0f, 1f));\r\n    jointDef.collideConnected = false;\r\n    jointDef.enableLimit = true; // enable the limits to restrict the movement\r\n    jointDef.lowerTranslation = 0; // the lower limit of the joint\r\n    jointDef.upperTranslation = 10000; // the upper limit of the joint\r\n    jointDef.enableMotor = true; // enable the motor to move the body\r\n    jointDef.maxMotorForce = 1000f;\r\n    jointDef.motorSpeed = 5;\r\n    PrismaticJoint joint = (PrismaticJoint) gameScreen.getWorld().createJoint(jointDef);\r\n    \r\n    joint.setMotorSpeed(5);\r\n    }   \r\n   ```\r\nand this is the createPolygonShape method:\r\n```java\r\nprivate Shape createPolygonShape(PolygonMapObject polygonMapObject) {\r\n        float[] vertices = polygonMapObject.getPolygon().getTransformedVertices();\r\n        Vector2[] worldVertices = new Vector2[vertices.length/2];\r\n\r\n        for(int i = 0; i &lt; vertices.length / 2; i++){\r\n            Vector2 current = new Vector2(vertices[i*2] / PPM, vertices[i*2+1] / PPM);\r\n            worldVertices[i] = current;\r\n\r\n        }\r\n\r\n        PolygonShape shape = new PolygonShape();\r\n\r\n        shape.set(worldVertices);\r\n\r\n        return shape;\r\n\r\n    }\r\n```","title":"How to make moving Kinematic platform with Box2d / LibGdx","body":"<p>I am currently working on a project and im trying to implement a moving platform that goes up and down continuously from A to B. I've tried some stuff and i can't get it to move. It appears as a box on the screen but it is static. This is my current code:</p>\n<pre class=\"lang-java prettyprint-override\"><code> public void createMovingPlatform(PolygonMapObject polygonMapObject) {\n\n    // Create the body\n    BodyDef bodyDef = new BodyDef();\n    bodyDef.type = BodyDef.BodyType.KinematicBody;\n    Body body = gameScreen.getWorld().createBody(bodyDef);\n    Shape shape = createPolygonShape(polygonMapObject);\n    body.createFixture(shape, 1f);\n    \n    shape.dispose();\n\n    \n    // Create the joint\n    PrismaticJointDef jointDef = new PrismaticJointDef();\n    jointDef.initialize(body, gameScreen.getWorld().createBody(new BodyDef()), body.getWorldCenter(), new Vector2(0f, 1f));\n    jointDef.collideConnected = false;\n    jointDef.enableLimit = true; // enable the limits to restrict the movement\n    jointDef.lowerTranslation = 0; // the lower limit of the joint\n    jointDef.upperTranslation = 10000; // the upper limit of the joint\n    jointDef.enableMotor = true; // enable the motor to move the body\n    jointDef.maxMotorForce = 1000f;\n    jointDef.motorSpeed = 5;\n    PrismaticJoint joint = (PrismaticJoint) gameScreen.getWorld().createJoint(jointDef);\n    \n    joint.setMotorSpeed(5);\n    }   \n</code></pre>\n<p>and this is the createPolygonShape method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Shape createPolygonShape(PolygonMapObject polygonMapObject) {\n        float[] vertices = polygonMapObject.getPolygon().getTransformedVertices();\n        Vector2[] worldVertices = new Vector2[vertices.length/2];\n\n        for(int i = 0; i &lt; vertices.length / 2; i++){\n            Vector2 current = new Vector2(vertices[i*2] / PPM, vertices[i*2+1] / PPM);\n            worldVertices[i] = current;\n\n        }\n\n        PolygonShape shape = new PolygonShape();\n\n        shape.set(worldVertices);\n\n        return shape;\n\n    }\n</code></pre>\n"},{"tags":["java","gradle"],"answers":[{"tags":[],"owner":{"account_id":9291622,"reputation":11361,"user_id":6899896,"display_name":"M.Ricciuti"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678663552,"creation_date":1678663552,"answer_id":75717002,"question_id":75714739,"body_markdown":"`org.apache.xmlgraphics:batik:1.16` is not a regular jar artefact that you can import as a jar dependency, it&#39;s a parent pom artefact , see its content in [sonatype](https://central.sonatype.com/artifact/org.apache.xmlgraphics/batik/1.16) or here in [mavencentral](https://repo1.maven.org/maven2/org/apache/xmlgraphics/batik/1.16/batik-1.16.pom)\r\n\r\nYou&#39;ll need to import the right dependency depending on your need, for example you could import the `batlik-all` jar as follows\r\n\r\n    implementation &#39;org.apache.xmlgraphics:batik-all:1.16&#39;\r\n \r\n","title":"why the org.apache.xmlgraphics:batik:1.16 dependencies did not downloaded","body":"<p><code>org.apache.xmlgraphics:batik:1.16</code> is not a regular jar artefact that you can import as a jar dependency, it's a parent pom artefact , see its content in <a href=\"https://central.sonatype.com/artifact/org.apache.xmlgraphics/batik/1.16\" rel=\"nofollow noreferrer\">sonatype</a> or here in <a href=\"https://repo1.maven.org/maven2/org/apache/xmlgraphics/batik/1.16/batik-1.16.pom\" rel=\"nofollow noreferrer\">mavencentral</a></p>\n<p>You'll need to import the right dependency depending on your need, for example you could import the <code>batlik-all</code> jar as follows</p>\n<pre><code>implementation 'org.apache.xmlgraphics:batik-all:1.16'\n</code></pre>\n"}],"owner":{"account_id":3106126,"reputation":31281,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":325,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75717002,"answer_count":1,"score":0,"last_activity_date":1678663552,"creation_date":1678639756,"question_id":75714739,"body_markdown":"Today I want to ad batik into my project, then I added the gradle(7.4) dependencies like this:\r\n\r\n\r\n    implementation &#39;org.apache.xmlgraphics:batik:1.16&#39;\r\n\r\n\r\nafter I refresh the gradle dependencies, I found the dependencies jar did not added to my project, why did this happen? what should I do to fixed this problem? I already checked the repo https://central.sonatype.com/artifact/org.apache.xmlgraphics/batik/1.16 and found the version I added was uploaded. This is the full build.gradle:\r\n\r\n\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n    }\r\n    \r\n    group &#39;org.leetcode&#39;\r\n    version &#39;1.0-SNAPSHOT&#39;\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.8.1&#39;\r\n        testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.8.1&#39;\r\n        implementation(&#39;com.alibaba:fastjson:1.2.76&#39;)\r\n        implementation &#39;org.apache.xmlgraphics:batik:1.16&#39;\r\n    }\r\n    \r\n    test {\r\n        useJUnitPlatform()\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"why the org.apache.xmlgraphics:batik:1.16 dependencies did not downloaded","body":"<p>Today I want to ad batik into my project, then I added the gradle(7.4) dependencies like this:</p>\n<pre><code>implementation 'org.apache.xmlgraphics:batik:1.16'\n</code></pre>\n<p>after I refresh the gradle dependencies, I found the dependencies jar did not added to my project, why did this happen? what should I do to fixed this problem? I already checked the repo <a href=\"https://central.sonatype.com/artifact/org.apache.xmlgraphics/batik/1.16\" rel=\"nofollow noreferrer\">https://central.sonatype.com/artifact/org.apache.xmlgraphics/batik/1.16</a> and found the version I added was uploaded. This is the full build.gradle:</p>\n<pre><code>plugins {\n    id 'java'\n}\n\ngroup 'org.leetcode'\nversion '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.1'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.1'\n    implementation('com.alibaba:fastjson:1.2.76')\n    implementation 'org.apache.xmlgraphics:batik:1.16'\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n"},{"tags":["java","binary-search"],"comments":[{"owner":{"account_id":26519932,"reputation":11,"user_id":20153792,"display_name":"Fatimah"},"score":0,"creation_date":1678655640,"post_id":75716322,"comment_id":133571358,"body_markdown":"it is already sorted above` static boolean insertInOrder( int[] arr, int count, int newVal )\n    {\n        int index = bSearch( arr, 0, count-1, newVal );\n        if ( index &gt;= 0 ) return false; \n\n        index = -(index+1);\n\n        for ( int i=count-1 ; i&gt;=index ; --i ) \n        \tarr[i+1] = arr[i];\n\n        arr[index] = newVal;\n        return true;\n    }`.","body":"it is already sorted above` static boolean insertInOrder( int[] arr, int count, int newVal )     {         int index = bSearch( arr, 0, count-1, newVal );         if ( index &gt;= 0 ) return false;           index = -(index+1);          for ( int i=count-1 ; i&gt;=index ; --i )          \tarr[i+1] = arr[i];          arr[index] = newVal;         return true;     }`."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1678656200,"post_id":75716322,"comment_id":133571449,"body_markdown":"OK, a couple of things.  Your `bSearch` method returns `-1` whenever the `key` is not found.  But that&#39;s not what you want - you want it to return the  position in the array where the `key` _should_ be inserted.  Also, you have `index = -(index+1);` in the insertion code - that&#39;s not right either.  Once you&#39;ve fixed `bSearch` so that it finds the right place to insert the `key`, you don&#39;t want to swap `index` out for a negative number (or you&#39;ll get an index out of bounds exception).","body":"OK, a couple of things.  Your <code>bSearch</code> method returns <code>-1</code> whenever the <code>key</code> is not found.  But that&#39;s not what you want - you want it to return the  position in the array where the <code>key</code> <i>should</i> be inserted.  Also, you have <code>index = -(index+1);</code> in the insertion code - that&#39;s not right either.  Once you&#39;ve fixed <code>bSearch</code> so that it finds the right place to insert the <code>key</code>, you don&#39;t want to swap <code>index</code> out for a negative number (or you&#39;ll get an index out of bounds exception)."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1678656279,"post_id":75716322,"comment_id":133571465,"body_markdown":"The way your code is working at the moment, `bSearch` will nearly always return `-1`, and then you&#39;re just inserting the new entry at the beginning of the array every time.  The effect of that will just be to reverse the order of the array elements","body":"The way your code is working at the moment, <code>bSearch</code> will nearly always return <code>-1</code>, and then you&#39;re just inserting the new entry at the beginning of the array every time.  The effect of that will just be to reverse the order of the array elements"},{"owner":{"account_id":26519932,"reputation":11,"user_id":20153792,"display_name":"Fatimah"},"score":0,"creation_date":1678656656,"post_id":75716322,"comment_id":133571537,"body_markdown":"right but the only part that i&#39;m asked to edit is the last binary search part, so i can&#39;t change the index","body":"right but the only part that i&#39;m asked to edit is the last binary search part, so i can&#39;t change the index"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1678659348,"post_id":75716322,"comment_id":133571943,"body_markdown":"Well, at the very least, you&#39;ll need to change `if ( index &gt;= 0 ) return false; ` in the `insertInOrder` method.  Otherwise, once you&#39;ve found the place to insert the key, you still won&#39;t insert it.  I suppose you could do something unusual like making the `bSearch` method return a negative number to represent a place in the array where the key could be inserted, but that would be a very counter-intuitive way to design this.","body":"Well, at the very least, you&#39;ll need to change <code>if ( index &gt;= 0 ) return false; </code> in the <code>insertInOrder</code> method.  Otherwise, once you&#39;ve found the place to insert the key, you still won&#39;t insert it.  I suppose you could do something unusual like making the <code>bSearch</code> method return a negative number to represent a place in the array where the key could be inserted, but that would be a very counter-intuitive way to design this."}],"answers":[{"tags":[],"owner":{"account_id":26519932,"reputation":11,"user_id":20153792,"display_name":"Fatimah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678663443,"creation_date":1678663443,"answer_id":75716989,"question_id":75716322,"body_markdown":"So i just changed the return statement from ```return -1;``` to ```return -(mid+1);``` and now it produces the correct output","title":"binary search not working and producing wrong output","body":"<p>So i just changed the return statement from <code>return -1;</code> to <code>return -(mid+1);</code> and now it produces the correct output</p>\n"}],"owner":{"account_id":26519932,"reputation":11,"user_id":20153792,"display_name":"Fatimah"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678663443,"creation_date":1678654484,"question_id":75716322,"body_markdown":"```\r\n\r\nstatic int bSearch(int[] a, int lo, int hi, int key)\r\n    {\r\n        \r\n            if (hi&gt;=lo &amp;&amp; lo&lt;a.length-1)\r\n            {  \r\n            int mid = (hi+lo)/2;\r\n\r\n            if (a[mid] == key){\r\n                return mid;\r\n            }\r\n            \r\n            if (a[mid] &gt; key){\r\n                return bSearch(a, lo, mid-1, key);\r\n            }\r\n            if ( a[mid] &lt; key ){\r\n                return bSearch(a, mid+1, hi, key);\r\n            }\r\n\r\n            }\r\n    return -1;\r\n\r\n    }\r\n```\r\n\r\nthis is my code ^\r\n\r\nand this is my input file: 100 89 65 46 32 90 50 38 67 71 42 92 99 57 90 89 98 34 85 19 60 15 99 79 57\r\n\r\nI need the code to sort the array from lowest to highest using binary search but i keep getting this wrong output: 57 79 99 15 60 19 85 34 98 90 57 99 92 42 71 67 38 50 90 32 46 65 89 100\r\n\r\nand this is the rest of the code, but what I&#39;m working on fixing is the part above, because i cannot change anything in the original code below\r\n\r\n```\r\npublic class BSrecursive\r\n{\r\n    static final int INITIAL_CAPACITY = 5;\r\n\r\n    public static void main( String args[] ) throws Exception\r\n    {\r\n        if (args.length &lt; 1 )\r\n        {\r\n            System.out.println(&quot;ERROR: Must put input filename on cmd line\\n&quot;);\r\n            System.exit(0);\r\n        }\r\n\r\n        Scanner infile = new Scanner( new File( args[0] ) );\r\n\r\n        int[] arr = new int[INITIAL_CAPACITY];\r\n        int count= 0;\r\n\r\n        while ( infile.hasNextInt() )\r\n        {\r\n            if ( count==arr.length ) arr = upSizeArr(arr);\r\n            if (insertInOrder( arr, count, infile.nextInt() ) )\r\n           \t ++count;\r\n        }\r\n\r\n        arr=trimArr(arr,count); // Now count == .length\r\n        printArray( arr );  // we trimmed it thus count == length so we don&#39;t bother to pass in count\r\n\r\n    }\r\n\r\n    // ############################################################################################################\r\n\r\n    static void printArray( int[] arr  )\r\n    {\r\n        for( int i=0 ; i&lt;arr.length ;++i )\r\n        \tSystem.out.print(arr[i] + &quot; &quot; );\r\n        System.out.println();\r\n    }\r\n\r\n    static int[] upSizeArr( int[] fullArr )\r\n    {\r\n        int[] upSizedArr = new int[ fullArr.length * 2 ];\r\n        for ( int i=0; i&lt;fullArr.length ; ++i )\r\n        \tupSizedArr[i] = fullArr[i];\r\n        return upSizedArr;\r\n    }\r\n\r\n    static int[] trimArr( int[] oldArr, int count )\r\n    {\r\n        int[] trimmedArr = new int[ count ];\r\n        for ( int i=0; i&lt;count ; ++i )\r\n        \ttrimmedArr[i] = oldArr[i];\r\n        return trimmedArr;\r\n    }\r\n\r\n    // REMOVE ALL COMMENTS FROM INSERT IN ORDER JUST BEFORE HANDIN\r\n    static boolean insertInOrder( int[] arr, int count, int newVal )\r\n    {\r\n        int index = bSearch( arr, 0, count-1, newVal );\r\n        if ( index &gt;= 0 ) return false; \r\n\r\n        index = -(index+1);\r\n\r\n        for ( int i=count-1 ; i&gt;=index ; --i ) \r\n        \tarr[i+1] = arr[i];\r\n\r\n        arr[index] = newVal;\r\n        return true;\r\n    }\r\n\r\n\r\n```","title":"binary search not working and producing wrong output","body":"<pre><code>\nstatic int bSearch(int[] a, int lo, int hi, int key)\n    {\n        \n            if (hi&gt;=lo &amp;&amp; lo&lt;a.length-1)\n            {  \n            int mid = (hi+lo)/2;\n\n            if (a[mid] == key){\n                return mid;\n            }\n            \n            if (a[mid] &gt; key){\n                return bSearch(a, lo, mid-1, key);\n            }\n            if ( a[mid] &lt; key ){\n                return bSearch(a, mid+1, hi, key);\n            }\n\n            }\n    return -1;\n\n    }\n</code></pre>\n<p>this is my code ^</p>\n<p>and this is my input file: 100 89 65 46 32 90 50 38 67 71 42 92 99 57 90 89 98 34 85 19 60 15 99 79 57</p>\n<p>I need the code to sort the array from lowest to highest using binary search but i keep getting this wrong output: 57 79 99 15 60 19 85 34 98 90 57 99 92 42 71 67 38 50 90 32 46 65 89 100</p>\n<p>and this is the rest of the code, but what I'm working on fixing is the part above, because i cannot change anything in the original code below</p>\n<pre><code>public class BSrecursive\n{\n    static final int INITIAL_CAPACITY = 5;\n\n    public static void main( String args[] ) throws Exception\n    {\n        if (args.length &lt; 1 )\n        {\n            System.out.println(&quot;ERROR: Must put input filename on cmd line\\n&quot;);\n            System.exit(0);\n        }\n\n        Scanner infile = new Scanner( new File( args[0] ) );\n\n        int[] arr = new int[INITIAL_CAPACITY];\n        int count= 0;\n\n        while ( infile.hasNextInt() )\n        {\n            if ( count==arr.length ) arr = upSizeArr(arr);\n            if (insertInOrder( arr, count, infile.nextInt() ) )\n             ++count;\n        }\n\n        arr=trimArr(arr,count); // Now count == .length\n        printArray( arr );  // we trimmed it thus count == length so we don't bother to pass in count\n\n    }\n\n    // ############################################################################################################\n\n    static void printArray( int[] arr  )\n    {\n        for( int i=0 ; i&lt;arr.length ;++i )\n            System.out.print(arr[i] + &quot; &quot; );\n        System.out.println();\n    }\n\n    static int[] upSizeArr( int[] fullArr )\n    {\n        int[] upSizedArr = new int[ fullArr.length * 2 ];\n        for ( int i=0; i&lt;fullArr.length ; ++i )\n            upSizedArr[i] = fullArr[i];\n        return upSizedArr;\n    }\n\n    static int[] trimArr( int[] oldArr, int count )\n    {\n        int[] trimmedArr = new int[ count ];\n        for ( int i=0; i&lt;count ; ++i )\n            trimmedArr[i] = oldArr[i];\n        return trimmedArr;\n    }\n\n    // REMOVE ALL COMMENTS FROM INSERT IN ORDER JUST BEFORE HANDIN\n    static boolean insertInOrder( int[] arr, int count, int newVal )\n    {\n        int index = bSearch( arr, 0, count-1, newVal );\n        if ( index &gt;= 0 ) return false; \n\n        index = -(index+1);\n\n        for ( int i=count-1 ; i&gt;=index ; --i ) \n            arr[i+1] = arr[i];\n\n        arr[index] = newVal;\n        return true;\n    }\n\n\n</code></pre>\n"},{"tags":["java","pointers","delegates","function-pointers"],"comments":[{"owner":{"account_id":12969,"reputation":7584,"user_id":25812,"accept_rate":100,"display_name":"Newtopian"},"score":1,"creation_date":1246532286,"post_id":1073358,"comment_id":886410,"body_markdown":"I am just curious as to why you would want this where listeners or other OOP construct would do the same task while retaining their object nature.  I mean I understand the need for the functionality offered by the concept just that it can be achieved with plain object.. unless, of course I am missing something, hence my asking this question ! :-)","body":"I am just curious as to why you would want this where listeners or other OOP construct would do the same task while retaining their object nature.  I mean I understand the need for the functionality offered by the concept just that it can be achieved with plain object.. unless, of course I am missing something, hence my asking this question ! :-)"},{"owner":{"account_id":65544,"reputation":26923,"user_id":192801,"accept_rate":90,"display_name":"FrustratedWithFormsDesigner"},"score":2,"creation_date":1399405896,"post_id":1073358,"comment_id":36046015,"body_markdown":"Java 8 has lambda expressions: http://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html You may want to check that out. Not quite a function pointer, but might still be of more use.","body":"Java 8 has lambda expressions: <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/javaOO/&hellip;</a> You may want to check that out. Not quite a function pointer, but might still be of more use."},{"owner":{"account_id":303644,"reputation":2139,"user_id":612704,"display_name":"Steven"},"score":6,"creation_date":1401956638,"post_id":1073358,"comment_id":37089712,"body_markdown":"Java 8 method references is exactly what you are asking for.","body":"Java 8 method references is exactly what you are asking for."},{"owner":{"account_id":303644,"reputation":2139,"user_id":612704,"display_name":"Steven"},"score":9,"creation_date":1401957008,"post_id":1073358,"comment_id":37089917,"body_markdown":"Java 8 [method references](http://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html) is exactly what you are asking for. \n\n`this::myMethod` is semantically the same as creating a lambda `paramA, paramB -&gt; this.myMethod(paramA, paramB)`.","body":"Java 8 <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow noreferrer\">method references</a> is exactly what you are asking for.   <code>this::myMethod</code> is semantically the same as creating a lambda <code>paramA, paramB -&gt; this.myMethod(paramA, paramB)</code>."},{"owner":{"account_id":335069,"reputation":70765,"user_id":661933,"accept_rate":94,"display_name":"nawfal"},"score":3,"creation_date":1404544798,"post_id":1073358,"comment_id":38083961,"body_markdown":"possible duplicate of [What&#39;s the nearest substitute for a function pointer in Java?](http://stackoverflow.com/questions/122407/whats-the-nearest-substitute-for-a-function-pointer-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/122407/whats-the-nearest-substitute-for-a-function-pointer-in-java\">What&#39;s the nearest substitute for a function pointer in Java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":37202,"reputation":6114,"user_id":106315,"accept_rate":93,"display_name":"jwoolard"},"comment_count":0,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1246531642,"creation_date":1246526680,"answer_id":1073378,"question_id":1073358,"body_markdown":"No, functions are not first class objects in java. You can do the same thing by implementing a handler class - this is how callbacks are implemented in the Swing etc.\r\n\r\nThere are however proposals for closures (the official name for what you&#39;re talking about) in future versions of java - [Javaworld][1] has an interesting article.\r\n\r\n\r\n  [1]: http://www.javaworld.com/javaworld/jw-06-2008/jw-06-closures.html","title":"Function Pointers in Java","body":"<p>No, functions are not first class objects in java. You can do the same thing by implementing a handler class - this is how callbacks are implemented in the Swing etc.</p>\n\n<p>There are however proposals for closures (the official name for what you're talking about) in future versions of java - <a href=\"http://www.javaworld.com/javaworld/jw-06-2008/jw-06-closures.html\" rel=\"noreferrer\">Javaworld</a> has an interesting article.</p>\n"},{"tags":[],"owner":{"account_id":19570,"reputation":3092,"user_id":132162,"accept_rate":82,"display_name":"raupach"},"comment_count":0,"down_vote_count":0,"up_vote_count":68,"is_accepted":false,"score":68,"last_activity_date":1246527492,"creation_date":1246527076,"answer_id":1073404,"question_id":1073358,"body_markdown":"You can substitue a function pointer with an interface. Lets say you want to run through a collection and do something with each element.\r\n\r\n    public interface IFunction {\r\n      public void execute(Object o);\r\n    }\r\n\r\nThis is the interface we could pass to some say CollectionUtils2.doFunc(Collection c, IFunction f).\r\n\r\n    public static void doFunc(Collection c, IFunction f) {\r\n       for (Object o : c) {\r\n          f.execute(o);\r\n       }\r\n    }\r\n\r\nAs an example say we have a collection of numbers and you would like to add 1 to every element.\r\n\r\n    CollectionUtils2.doFunc(List numbers, new IFunction() {\r\n        public void execute(Object o) {\r\n           Integer anInt = (Integer) o;\r\n           anInt++;\r\n        }\r\n    });\r\n\r\n\r\n\r\n\r\n\r\n","title":"Function Pointers in Java","body":"<p>You can substitue a function pointer with an interface. Lets say you want to run through a collection and do something with each element.</p>\n\n<pre><code>public interface IFunction {\n  public void execute(Object o);\n}\n</code></pre>\n\n<p>This is the interface we could pass to some say CollectionUtils2.doFunc(Collection c, IFunction f).</p>\n\n<pre><code>public static void doFunc(Collection c, IFunction f) {\n   for (Object o : c) {\n      f.execute(o);\n   }\n}\n</code></pre>\n\n<p>As an example say we have a collection of numbers and you would like to add 1 to every element.</p>\n\n<pre><code>CollectionUtils2.doFunc(List numbers, new IFunction() {\n    public void execute(Object o) {\n       Integer anInt = (Integer) o;\n       anInt++;\n    }\n});\n</code></pre>\n"},{"comments":[{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":2,"creation_date":1294954881,"post_id":1073427,"comment_id":5167244,"body_markdown":"The Strategy design pattern. Not as ugly as a C or C++ function pointer when you want the function to use some non global data that is not provided as an argument to the function.","body":"The Strategy design pattern. Not as ugly as a C or C++ function pointer when you want the function to use some non global data that is not provided as an argument to the function."},{"owner":{"account_id":91491,"reputation":135854,"user_id":251153,"accept_rate":86,"display_name":"zneak"},"score":78,"creation_date":1299041288,"post_id":1073427,"comment_id":5798619,"body_markdown":"@Raedwald C++ has functors, and C++0x has closures and lambdas built on top of functors. It even has `std::bind`, which binds parameters to functions and returns a callable object. I can&#39;t defend C on these grounds, but C++ really _is_ better than Java for this.","body":"@Raedwald C++ has functors, and C++0x has closures and lambdas built on top of functors. It even has <code>std::bind</code>, which binds parameters to functions and returns a callable object. I can&#39;t defend C on these grounds, but C++ really <i>is</i> better than Java for this."},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1299071268,"post_id":1073427,"comment_id":5803827,"body_markdown":"Well, C++0x might be, but current standard C++ is not.","body":"Well, C++0x might be, but current standard C++ is not."},{"owner":{"account_id":47370,"reputation":24537,"user_id":140264,"accept_rate":82,"display_name":"brice"},"score":22,"creation_date":1307714773,"post_id":1073427,"comment_id":7370045,"body_markdown":"@zneak, @Raedwald: You can do this in C by passing along a pointer to user data (eg: struct). (and can encapsulate it with each new level of callback indirection) It&#39;s actually fairly clean.","body":"@zneak, @Raedwald: You can do this in C by passing along a pointer to user data (eg: struct). (and can encapsulate it with each new level of callback indirection) It&#39;s actually fairly clean."},{"owner":{"account_id":42063,"reputation":58411,"user_id":122422,"accept_rate":56,"display_name":"B T"},"score":27,"creation_date":1337221564,"post_id":1073427,"comment_id":13777010,"body_markdown":"Yeah, I&#39;ll actually take C function pointers over crufty wrapper classes any day","body":"Yeah, I&#39;ll actually take C function pointers over crufty wrapper classes any day"},{"owner":{"account_id":2124827,"reputation":4696,"user_id":1887281,"accept_rate":69,"display_name":"devinbost"},"score":3,"creation_date":1399618260,"post_id":1073427,"comment_id":36147781,"body_markdown":"@Raedwald, that&#39;s what delegates in C# are for! They are clean, type-safe function pointers.","body":"@Raedwald, that&#39;s what delegates in C# are for! They are clean, type-safe function pointers."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":3,"creation_date":1403689351,"post_id":1073427,"comment_id":37752151,"body_markdown":"Java 8 has a better syntax for this.","body":"Java 8 has a better syntax for this."}],"tags":[],"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"comment_count":7,"down_vote_count":0,"up_vote_count":135,"is_accepted":true,"score":135,"last_activity_date":1422006494,"creation_date":1246527226,"answer_id":1073427,"question_id":1073358,"body_markdown":"The Java idiom for function-pointer-like functionality is an an anonymous class implementing an interface, e.g.\r\n\r\n    Collections.sort(list, new Comparator&lt;MyClass&gt;(){\r\n        public int compare(MyClass a, MyClass b)\r\n        {\r\n            // compare objects\r\n        }\r\n    });\r\n\r\n**Update:** the above is necessary in Java versions prior to Java 8. Now we have much nicer alternatives, namely lambdas:\r\n\r\n    list.sort((a, b) -&gt; a.isGreaterThan(b));\r\n\r\nand method references:\r\n\r\n    list.sort(MyClass::isGreaterThan);\r\n\r\n","title":"Function Pointers in Java","body":"<p>The Java idiom for function-pointer-like functionality is an an anonymous class implementing an interface, e.g.</p>\n\n<pre><code>Collections.sort(list, new Comparator&lt;MyClass&gt;(){\n    public int compare(MyClass a, MyClass b)\n    {\n        // compare objects\n    }\n});\n</code></pre>\n\n<p><strong>Update:</strong> the above is necessary in Java versions prior to Java 8. Now we have much nicer alternatives, namely lambdas:</p>\n\n<pre><code>list.sort((a, b) -&gt; a.isGreaterThan(b));\n</code></pre>\n\n<p>and method references:</p>\n\n<pre><code>list.sort(MyClass::isGreaterThan);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12007,"reputation":17671,"user_id":23424,"accept_rate":92,"display_name":"VoidPointer"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1415129114,"creation_date":1246527264,"answer_id":1073429,"question_id":1073358,"body_markdown":"There is no such thing in Java. You will need to wrap your function into some object and pass the reference to that object in order to pass the reference to the method on that object.\r\n\r\nSyntactically, this can be eased to a certain extent by using anonymous classes defined in-place or anonymous classes defined as member variables of the class. \r\n\r\nExample:\r\n\r\n    class MyComponent extends JPanel {\r\n        private JButton button;\r\n        public MyComponent() {\r\n            button = new JButton(&quot;click me&quot;);\r\n            button.addActionListener(buttonAction);\r\n            add(button);\r\n        }\r\n\r\n        private ActionListener buttonAction = new ActionListener() {\r\n            public void actionPerformed(ActionEvent e) {\r\n                // handle the event...\r\n                // note how the handler instance can access \r\n                // members of the surrounding class\r\n                button.setText(&quot;you clicked me&quot;);\r\n            }\r\n        }\r\n    }","title":"Function Pointers in Java","body":"<p>There is no such thing in Java. You will need to wrap your function into some object and pass the reference to that object in order to pass the reference to the method on that object.</p>\n\n<p>Syntactically, this can be eased to a certain extent by using anonymous classes defined in-place or anonymous classes defined as member variables of the class. </p>\n\n<p>Example:</p>\n\n<pre><code>class MyComponent extends JPanel {\n    private JButton button;\n    public MyComponent() {\n        button = new JButton(\"click me\");\n        button.addActionListener(buttonAction);\n        add(button);\n    }\n\n    private ActionListener buttonAction = new ActionListener() {\n        public void actionPerformed(ActionEvent e) {\n            // handle the event...\n            // note how the handler instance can access \n            // members of the surrounding class\n            button.setText(\"you clicked me\");\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":44801,"reputation":2281,"user_id":131693,"accept_rate":80,"display_name":"Kingamajick"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1246532601,"creation_date":1246527510,"answer_id":1073448,"question_id":1073358,"body_markdown":"To achieve similar functionality you could use anonymous inner classes.\r\n\r\nIf you were to define a interface &lt;code&gt;Foo&lt;/code&gt;:\r\n\r\n    interface Foo {\r\n    \tObject myFunc(Object arg);\r\n    }\r\n\r\nCreate a method &lt;code&gt;bar&lt;/code&gt; which will receive a &#39;function pointer&#39; as an argument:\r\n\r\n    public void bar(Foo foo) {\r\n    \t// .....\r\n    \tObject object = foo.myFunc(argValue);\r\n    \t// .....\r\n    }\r\n\r\nFinally call the method as follows:\r\n\r\n    bar(new Foo() {\r\n    \tpublic Object myFunc(Object arg) {\r\n    \t\t// Function code.\r\n    \t}\r\n    }\r\n\r\n","title":"Function Pointers in Java","body":"<p>To achieve similar functionality you could use anonymous inner classes.</p>\n\n<p>If you were to define a interface <code>Foo</code>:</p>\n\n<pre><code>interface Foo {\n    Object myFunc(Object arg);\n}\n</code></pre>\n\n<p>Create a method <code>bar</code> which will receive a 'function pointer' as an argument:</p>\n\n<pre><code>public void bar(Foo foo) {\n    // .....\n    Object object = foo.myFunc(argValue);\n    // .....\n}\n</code></pre>\n\n<p>Finally call the method as follows:</p>\n\n<pre><code>bar(new Foo() {\n    public Object myFunc(Object arg) {\n        // Function code.\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1279,"reputation":20565,"user_id":1702,"accept_rate":90,"display_name":"Yuval F"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1247578812,"creation_date":1247578812,"answer_id":1125462,"question_id":1073358,"body_markdown":"This brings to mind Steve Yegge&#39;s [Execution in the Kingdom of Nouns][1]. It basically states that Java needs an object for every action, and therefore does not have &quot;verb-only&quot; entities like function pointers.\r\n\r\n\r\n  [1]: http://steve-yegge.blogspot.com/2006/03/execution-in-kingdom-of-nouns.html","title":"Function Pointers in Java","body":"<p>This brings to mind Steve Yegge's <a href=\"http://steve-yegge.blogspot.com/2006/03/execution-in-kingdom-of-nouns.html\" rel=\"noreferrer\">Execution in the Kingdom of Nouns</a>. It basically states that Java needs an object for every action, and therefore does not have \"verb-only\" entities like function pointers.</p>\n"},{"tags":[],"owner":{"account_id":39135,"reputation":13588,"user_id":112779,"accept_rate":67,"display_name":"Mario Fusco"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1252761824,"creation_date":1252761824,"answer_id":1415112,"question_id":1073358,"body_markdown":"Check the closures how they have been implemented in the lambdaj library. They actually have a behavior very similar to C# delegates:\r\n\r\nhttp://code.google.com/p/lambdaj/wiki/Closures","title":"Function Pointers in Java","body":"<p>Check the closures how they have been implemented in the lambdaj library. They actually have a behavior very similar to C# delegates:</p>\n\n<p><a href=\"http://code.google.com/p/lambdaj/wiki/Closures\" rel=\"nofollow noreferrer\">http://code.google.com/p/lambdaj/wiki/Closures</a></p>\n"},{"tags":[],"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1263602524,"creation_date":1263601743,"answer_id":2075646,"question_id":1073358,"body_markdown":"I have implemented callback/delegate support in Java using reflection.  Details and working source are [available on my website][1].\r\n\r\n**How It Works**\r\n\r\nWe have a principle class named Callback with a nested class named WithParms. The API which needs the callback will take a Callback object as a parameter and, if neccessary, create a Callback.WithParms as a method variable. Since a great many of the applications of this object will be recursive, this works very cleanly.\r\n\r\nWith performance still a high priority to me, I didn&#39;t want to be required to create a throwaway object array to hold the parameters for every invocation - after all in a large data structure there could be thousands of elements, and in a message processing scenario we could end up processing thousands of data structures a second.\r\n\r\nIn order to be threadsafe the parameter array needs to exist uniquely for each invocation of the API method, and for efficiency the same one should be used for every invocation of the callback; I needed a second object which would be cheap to create in order to bind the callback with a parameter array for invocation. But, in some scenarios, the invoker would already have a the parameter array for other reasons. For these two reasons, the parameter array did not belong in the Callback object. Also the choice of invocation (passing the parameters as an array or as individual objects) belongs in the hands of the API using the callback enabling it to use whichever invocation is best suited to it&#39;s inner workings.\r\n\r\nThe WithParms nested class, then, is optional and serves two purposes, it contains the parameter object array needed for the callback invocations, and it provides 10 overloaded invoke() methods (with from 1 to 10 parameters) which load the parameter array and then invoke the callback target.\r\n\r\n  [1]: http://www.softwaremonkey.org/Code/Callback","title":"Function Pointers in Java","body":"<p>I have implemented callback/delegate support in Java using reflection.  Details and working source are <a href=\"http://www.softwaremonkey.org/Code/Callback\" rel=\"nofollow noreferrer\">available on my website</a>.</p>\n\n<p><strong>How It Works</strong></p>\n\n<p>We have a principle class named Callback with a nested class named WithParms. The API which needs the callback will take a Callback object as a parameter and, if neccessary, create a Callback.WithParms as a method variable. Since a great many of the applications of this object will be recursive, this works very cleanly.</p>\n\n<p>With performance still a high priority to me, I didn't want to be required to create a throwaway object array to hold the parameters for every invocation - after all in a large data structure there could be thousands of elements, and in a message processing scenario we could end up processing thousands of data structures a second.</p>\n\n<p>In order to be threadsafe the parameter array needs to exist uniquely for each invocation of the API method, and for efficiency the same one should be used for every invocation of the callback; I needed a second object which would be cheap to create in order to bind the callback with a parameter array for invocation. But, in some scenarios, the invoker would already have a the parameter array for other reasons. For these two reasons, the parameter array did not belong in the Callback object. Also the choice of invocation (passing the parameters as an array or as individual objects) belongs in the hands of the API using the callback enabling it to use whichever invocation is best suited to it's inner workings.</p>\n\n<p>The WithParms nested class, then, is optional and serves two purposes, it contains the parameter object array needed for the callback invocations, and it provides 10 overloaded invoke() methods (with from 1 to 10 parameters) which load the parameter array and then invoke the callback target.</p>\n"},{"comments":[{"owner":{"account_id":30778,"reputation":19742,"user_id":84118,"accept_rate":79,"display_name":"Jay"},"score":7,"creation_date":1375706048,"post_id":2946092,"comment_id":26422465,"body_markdown":"Reflection is not the right answer to anything except &quot;How do I write slow dodgy java code&quot; :D","body":"Reflection is not the right answer to anything except &quot;How do I write slow dodgy java code&quot; :D"},{"owner":{"account_id":1790149,"reputation":531,"user_id":1630759,"accept_rate":100,"display_name":"Eusebius"},"score":5,"creation_date":1397026234,"post_id":2946092,"comment_id":35046659,"body_markdown":"It might be &quot;ugly&quot; and slow, but I believe that reflection allows to do stuff that the interface-based solution in the accepted answer cannot do (unless I&#39;m mistaken), namely call various methods of the same object within the same code portion.","body":"It might be &quot;ugly&quot; and slow, but I believe that reflection allows to do stuff that the interface-based solution in the accepted answer cannot do (unless I&#39;m mistaken), namely call various methods of the same object within the same code portion."},{"owner":{"account_id":3451186,"reputation":484,"user_id":2890840,"accept_rate":50,"display_name":"karthik27"},"score":0,"creation_date":1397674126,"post_id":2946092,"comment_id":35340598,"body_markdown":"@zoquete.. I was going through this post and had a doubt.. so in your approach, if i access the variable &quot;theDescription&quot;, the function will be called each and everytime the variable is accessed??","body":"@zoquete.. I was going through this post and had a doubt.. so in your approach, if i access the variable &quot;theDescription&quot;, the function will be called each and everytime the variable is accessed??"}],"tags":[],"owner":{"account_id":622848,"reputation":465,"user_id":354907,"display_name":"zoquete"},"comment_count":3,"down_vote_count":3,"up_vote_count":47,"is_accepted":false,"score":44,"last_activity_date":1518443796,"creation_date":1275342193,"answer_id":2946092,"question_id":1073358,"body_markdown":"You can use reflection to do it.\r\n\r\nPass as parameter the object and the method name (as a string) and then invoke the method. For example:\r\n\r\n    Object methodCaller(Object theObject, String methodName) {\r\n       return theObject.getClass().getMethod(methodName).invoke(theObject);\r\n       // Catch the exceptions\r\n    }\r\n\r\nAnd then use it as in:\r\n\r\n    String theDescription = methodCaller(object1, &quot;toString&quot;);\r\n    Class theClass = methodCaller(object2, &quot;getClass&quot;);\r\n\r\nOf course, check all exceptions and add the needed casts.","title":"Function Pointers in Java","body":"<p>You can use reflection to do it.</p>\n\n<p>Pass as parameter the object and the method name (as a string) and then invoke the method. For example:</p>\n\n<pre><code>Object methodCaller(Object theObject, String methodName) {\n   return theObject.getClass().getMethod(methodName).invoke(theObject);\n   // Catch the exceptions\n}\n</code></pre>\n\n<p>And then use it as in:</p>\n\n<pre><code>String theDescription = methodCaller(object1, \"toString\");\nClass theClass = methodCaller(object2, \"getClass\");\n</code></pre>\n\n<p>Of course, check all exceptions and add the needed casts.</p>\n"},{"tags":[],"owner":{"account_id":4163585,"reputation":6251,"user_id":3413092,"accept_rate":81,"display_name":"ozgeneral"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1439206736,"creation_date":1439206736,"answer_id":31918571,"question_id":1073358,"body_markdown":"Relative to most people here I am new to java but since I haven&#39;t seen a similar suggestion I have another alternative to suggest. Im not sure if its a good practice or not, or even suggested before and I just didn&#39;t get it. I just like it since I think its self descriptive.\r\n\r\n     /*Just to merge functions in a common name*/\r\n     public class CustomFunction{ \r\n     public CustomFunction(){}\r\n     }\r\n\r\n     /*Actual functions*/\r\n     public class Function1 extends CustomFunction{\r\n     public Function1(){}\r\n     public void execute(){...something here...}\r\n     }\r\n\r\n     public class Function2 extends CustomFunction{\r\n     public Function2(){}\r\n     public void execute(){...something here...}\r\n     }\r\n\r\n     .....\r\n     /*in Main class*/\r\n     CustomFunction functionpointer = null;\r\n\r\nthen depending on the application, assign\r\n     \r\n     functionpointer = new Function1();\r\n     functionpointer = new Function2();\r\n\r\netc. \r\n\r\nand call by\r\n     \r\n     functionpointer.execute();","title":"Function Pointers in Java","body":"<p>Relative to most people here I am new to java but since I haven't seen a similar suggestion I have another alternative to suggest. Im not sure if its a good practice or not, or even suggested before and I just didn't get it. I just like it since I think its self descriptive.</p>\n\n<pre><code> /*Just to merge functions in a common name*/\n public class CustomFunction{ \n public CustomFunction(){}\n }\n\n /*Actual functions*/\n public class Function1 extends CustomFunction{\n public Function1(){}\n public void execute(){...something here...}\n }\n\n public class Function2 extends CustomFunction{\n public Function2(){}\n public void execute(){...something here...}\n }\n\n .....\n /*in Main class*/\n CustomFunction functionpointer = null;\n</code></pre>\n\n<p>then depending on the application, assign</p>\n\n<pre><code> functionpointer = new Function1();\n functionpointer = new Function2();\n</code></pre>\n\n<p>etc. </p>\n\n<p>and call by</p>\n\n<pre><code> functionpointer.execute();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1053202,"reputation":59956,"user_id":1056563,"accept_rate":90,"display_name":"WestCoastProjects"},"score":0,"creation_date":1578253831,"post_id":34898682,"comment_id":105371180,"body_markdown":"is there the concept of an `alias`:  e.g.  `public List&lt;T&gt; collect(T t) = Collections::collect`","body":"is there the concept of an <code>alias</code>:  e.g.  <code>public List&lt;T&gt; collect(T t) = Collections::collect</code>"},{"owner":{"account_id":476761,"reputation":24593,"user_id":887836,"accept_rate":96,"display_name":"Alexander Oh"},"score":0,"creation_date":1578257841,"post_id":34898682,"comment_id":105372091,"body_markdown":"@javadba as far as I know not.","body":"@javadba as far as I know not."}],"tags":[],"owner":{"account_id":476761,"reputation":24593,"user_id":887836,"accept_rate":96,"display_name":"Alexander Oh"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1453289009,"creation_date":1453289009,"answer_id":34898682,"question_id":1073358,"body_markdown":"Java8 has introduced lambdas and [method references][1]. So if your function matches a [functional interface][2] (you can create your own) you can use a method reference in this case.\r\n\r\nJava provides a set of [common functional interfaces][3]. whereas you could do the following:\r\n\r\n\r\n    public class Test {\r\n       public void test1(Integer i) {}\r\n       public void test2(Integer i) {}\r\n       public void consumer(Consumer&lt;Integer&gt; a) {\r\n         a.accept(10);\r\n       }\r\n       public void provideConsumer() {\r\n         consumer(this::test1);   // method reference\r\n         consumer(x -&gt; test2(x)); // lambda\r\n       }\r\n    }\r\n\r\n[1]: https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\r\n[2]: https://docs.oracle.com/javase/8/docs/api/java/lang/FunctionalInterface.html\r\n[3]: https://docs.oracle.com/javase/8/docs/api/java/util/function/package-summary.html","title":"Function Pointers in Java","body":"<p>Java8 has introduced lambdas and <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"noreferrer\">method references</a>. So if your function matches a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/FunctionalInterface.html\" rel=\"noreferrer\">functional interface</a> (you can create your own) you can use a method reference in this case.</p>\n\n<p>Java provides a set of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/package-summary.html\" rel=\"noreferrer\">common functional interfaces</a>. whereas you could do the following:</p>\n\n<pre><code>public class Test {\n   public void test1(Integer i) {}\n   public void test2(Integer i) {}\n   public void consumer(Consumer&lt;Integer&gt; a) {\n     a.accept(10);\n   }\n   public void provideConsumer() {\n     consumer(this::test1);   // method reference\n     consumer(x -&gt; test2(x)); // lambda\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12098358,"reputation":82,"user_id":8840533,"display_name":"upperdim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678663009,"creation_date":1678663009,"answer_id":75716957,"question_id":1073358,"body_markdown":"Using interfaces in order to send functions as parameters can only be considered to be a workaround since any other language would use a function pointer/reference.\r\n\r\nYour question is not exactly clear but here is how you can precisely send a function reference in Java:\r\n\r\n    import java.util.Arrays;\r\n    import java.util.function.Function;\r\n    \r\n    public class FunctionPointerDemo2 {\r\n        static int increment(int n) {\r\n            return n + 1;\r\n        }\r\n    \r\n        static void myObjective(int[] arr, Function&lt;Integer, Integer&gt; f) {\r\n            for (int i = 0; i &lt; arr.length; ++i) {\r\n                arr[i] = f.apply(arr[i]);\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            int[] arr = {0, 1, 2, 3, 4};\r\n            myObjective(arr, FunctionPointerDemo2::increment);\r\n    \r\n            System.out.println(Arrays.toString(arr));\r\n        }\r\n    }","title":"Function Pointers in Java","body":"<p>Using interfaces in order to send functions as parameters can only be considered to be a workaround since any other language would use a function pointer/reference.</p>\n<p>Your question is not exactly clear but here is how you can precisely send a function reference in Java:</p>\n<pre><code>import java.util.Arrays;\nimport java.util.function.Function;\n\npublic class FunctionPointerDemo2 {\n    static int increment(int n) {\n        return n + 1;\n    }\n\n    static void myObjective(int[] arr, Function&lt;Integer, Integer&gt; f) {\n        for (int i = 0; i &lt; arr.length; ++i) {\n            arr[i] = f.apply(arr[i]);\n        }\n    }\n\n    public static void main(String[] args) {\n        int[] arr = {0, 1, 2, 3, 4};\n        myObjective(arr, FunctionPointerDemo2::increment);\n\n        System.out.println(Arrays.toString(arr));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":39130,"reputation":15146,"user_id":112765,"accept_rate":91,"display_name":"dreadwail"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185719,"favorite_count":0,"down_vote_count":0,"up_vote_count":164,"accepted_answer_id":1073427,"answer_count":12,"score":164,"last_activity_date":1678663009,"creation_date":1246526383,"question_id":1073358,"body_markdown":"This may be something common and trivial, but I seem to be having trouble finding a concrete answer. In C# there is a concept of delegates, which relates strongly to the idea of function pointers from C++. Is there a similar functionality in Java? Given that pointers are somewhat absent, what is the best way about this? And to be clear, we&#39;re talking first class here.","title":"Function Pointers in Java","body":"<p>This may be something common and trivial, but I seem to be having trouble finding a concrete answer. In C# there is a concept of delegates, which relates strongly to the idea of function pointers from C++. Is there a similar functionality in Java? Given that pointers are somewhat absent, what is the best way about this? And to be clear, we're talking first class here.</p>\n"},{"tags":["java","spring","spring-cloud-feign","feign"],"owner":{"account_id":14592662,"reputation":515,"user_id":10539345,"display_name":"jennifer lawrence"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":319,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678662222,"creation_date":1678662222,"question_id":75716905,"body_markdown":"I have a service which has a controller with the responsability of sending an email with attachment. This endpoint is consumed by another microservice using feign-client.\r\n\r\n    @RequestMapping(&quot;/email&quot;)\r\n    public class EmailNotificationController {\r\n\r\n        @PostMapping\r\n        public ResponseEntity&lt;Void&gt; sendEmail(\r\n            @RequestPart(&quot;sendEmailRequest&quot;) SendEmailRequest sendEmailRequest,\r\n            @RequestPart(name = &quot;attachment&quot;, required = false) MultipartFile attachment) {\r\n        }\r\n    }\r\nBelow is the implementation of the feign client which fails at runtime.    \r\n\r\n    \r\n    import com.oceanobe.timesheet.timesheetservice.dto.request.SendEmailRequest;\r\n    import feign.Headers;\r\n    import feign.RequestLine;\r\n    import org.springframework.cloud.openfeign.FeignClient;\r\n    import org.springframework.web.bind.annotation.RequestPart;\r\n    import org.springframework.web.multipart.MultipartFile;\r\n    @FeignClient(value = &quot;NOTIFICATION-SERVICE/notificationservice&quot;)\r\n\r\n    public interface NotificationServiceFeignClient {\r\n\r\n        @RequestLine(&quot;POST /email&quot;)\r\n        @Headers({&quot;{Content-Type: multipart/form-data}&quot;})\r\n        void sendEmail(@RequestPart(&quot;sendEmailRequest&quot;) SendEmailRequest sendEmailRequest,\r\n            @RequestPart(&quot;attachment&quot;) String attachment\r\n        );\r\nIt fails with the following error:\r\n\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;com.oceanobe.timesheet.timesheetservice.service.feign.NotificationServiceFeignClient&#39;: Unexpected exception during bean creation; nested exception is java.lang.IllegalStateException: Method has too many Body parameters: public abstract void com.oceanobe.timesheet.timesheetservice.service.feign.NotificationServiceFeignClient.sendEmail(com.oceanobe.timesheet.timesheetservice.dto.request.SendEmailRequest,java.lang.String)\r\n    Warnings:\r\n    - Class NotificationServiceFeignClient has annotations [FeignClient] that are not used by contract Default\r\n    - Parameter sendEmailRequest has annotations [RequestPart] that are not used by contract Default\r\n    - Parameter attachment has annotations [RequestPart] that are not used by contract Default\r\nhow the endpoint looks from postman perspective:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lXPJc.png\r\n\r\nI dont know why it fails with the error from above.","title":"feign client returns exception for multipart request","body":"<p>I have a service which has a controller with the responsability of sending an email with attachment. This endpoint is consumed by another microservice using feign-client.</p>\n<pre><code>@RequestMapping(&quot;/email&quot;)\npublic class EmailNotificationController {\n\n    @PostMapping\n    public ResponseEntity&lt;Void&gt; sendEmail(\n        @RequestPart(&quot;sendEmailRequest&quot;) SendEmailRequest sendEmailRequest,\n        @RequestPart(name = &quot;attachment&quot;, required = false) MultipartFile attachment) {\n    }\n}\n</code></pre>\n<p>Below is the implementation of the feign client which fails at runtime.</p>\n<pre><code>import com.oceanobe.timesheet.timesheetservice.dto.request.SendEmailRequest;\nimport feign.Headers;\nimport feign.RequestLine;\nimport org.springframework.cloud.openfeign.FeignClient;\nimport org.springframework.web.bind.annotation.RequestPart;\nimport org.springframework.web.multipart.MultipartFile;\n@FeignClient(value = &quot;NOTIFICATION-SERVICE/notificationservice&quot;)\n\npublic interface NotificationServiceFeignClient {\n\n    @RequestLine(&quot;POST /email&quot;)\n    @Headers({&quot;{Content-Type: multipart/form-data}&quot;})\n    void sendEmail(@RequestPart(&quot;sendEmailRequest&quot;) SendEmailRequest sendEmailRequest,\n        @RequestPart(&quot;attachment&quot;) String attachment\n    );\n</code></pre>\n<p>It fails with the following error:</p>\n<pre><code>Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'com.oceanobe.timesheet.timesheetservice.service.feign.NotificationServiceFeignClient': Unexpected exception during bean creation; nested exception is java.lang.IllegalStateException: Method has too many Body parameters: public abstract void com.oceanobe.timesheet.timesheetservice.service.feign.NotificationServiceFeignClient.sendEmail(com.oceanobe.timesheet.timesheetservice.dto.request.SendEmailRequest,java.lang.String)\nWarnings:\n- Class NotificationServiceFeignClient has annotations [FeignClient] that are not used by contract Default\n- Parameter sendEmailRequest has annotations [RequestPart] that are not used by contract Default\n- Parameter attachment has annotations [RequestPart] that are not used by contract Default\n</code></pre>\n<p>how the endpoint looks from postman perspective:\n<a href=\"https://i.stack.imgur.com/lXPJc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lXPJc.png\" alt=\"enter image description here\" /></a></p>\n<p>I dont know why it fails with the error from above.</p>\n"},{"tags":["java","docker","nginx","cloud","reverse-proxy"],"comments":[{"owner":{"account_id":2021661,"reputation":62048,"user_id":2541573,"accept_rate":100,"display_name":"jub0bs"},"score":0,"creation_date":1678652783,"post_id":75714913,"comment_id":133570929,"body_markdown":"This is not a CORS error.","body":"This is not a CORS error."}],"owner":{"account_id":27999783,"reputation":1,"user_id":21384313,"display_name":"RZH"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678661277,"creation_date":1678641128,"question_id":75714913,"body_markdown":"I&#39;m using NGINX for my front end project and tomcat server formy backend project. I want to migrate them with allowing cross origin (CORS)\r\n\r\nThis is my nginx conf:\r\n\r\n    events{}\r\n    \r\n    http {\r\n        include /etc/nginx/mime.types;\r\n    \r\n        upstream websocket {\r\n            server localhost:8080;\r\n        }\r\n    \r\n    \r\n        server {\r\n            listen *:8081;\r\n            listen [::]:8081;\r\n            server_name localhost;\r\n            root   /usr/share/nginx/html;\r\n            index index.html;\r\n            location / {\r\n                try_files $uri $uri/ /index.html;\r\n                 add_header &#39;Access-Control-Allow-Origin&#39; &#39;*&#39;;\r\n                 add_header &#39;Access-Control-Allow-Methods&#39; &#39;*&#39;;\r\n             } \r\n            location /api {\r\n                proxy_pass http://localhost:8080;\r\n                 add_header &#39;Access-Control-Allow-Origin&#39; &#39;*&#39;;\r\n                 add_header &#39;Access-Control-Allow-Methods&#39; &#39;*&#39;;\r\n             } \r\n    \r\n            location /project-websocket {\r\n                proxy_pass http://websocket;\r\n                proxy_set_header X-Real-IP $remote_addr;\r\n                proxy_set_header Host $host;\r\n                proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\r\n    \r\n                proxy_http_version 1.1;\r\n                proxy_set_header Upgrade $http_upgrade;\r\n                proxy_set_header Connection &quot;upgrade&quot;;\r\n             } \r\n             \r\n        }\r\n    }\r\n\r\n\r\nthis is my docker compose file:\r\n\r\n    version: &#39;3&#39;\r\n    services:\r\n      front:\r\n        build:\r\n          context: ./project-front\r\n          dockerfile: Dockerfile\r\n        read_only: true\r\n        ports:\r\n          - 4200:8081\r\n        volumes:\r\n          - /tmp:/etc/nginx/conf.d/\r\n          - /tmp:/var/cache/nginx/client_temp\r\n          - /tmp:/var/run/\r\n          - /tmp:/var/cache/nginx/proxy_temp\r\n          - /tmp:/var/cache/nginx/fastcgi_temp\r\n          - /tmp:/var/cache/nginx/scgi_temp\r\n          - /tmp:/var/cache/nginx/uwsgi_temp\r\n    \r\n      back:\r\n        build:\r\n          context: ./project-back\r\n          dockerfile: Dockerfile\r\n        read_only: true\r\n        ports:\r\n          - 9420:8080\r\n        volumes:\r\n          - /tmp:/tmp\r\n\r\n\r\n**this is my front end dockerfile:**\r\n\r\n    FROM artifactory.x/amcic-docker-local/node/amcic-node:14 as build\r\n    \r\n    COPY . /soft/project/application/\r\n    \r\n    WORKDIR /soft/project/application/\r\n    \r\n    RUN chmod -R 777 nginx.conf\r\n    \r\n    RUN npm cache clean --force\r\n    \r\n    RUN npm install\r\n    \r\n    RUN npm run build:prod\r\n    \r\n    WORKDIR /soft/project/application/front/\r\n    \r\n    FROM artifactory.x/amcic-docker-virtual/nginx:latest\r\n    \r\n    COPY --from=build /soft/project/application/front /usr/share/nginx/html\r\n    \r\n    COPY --from=build /soft/project/application/nginx.conf  /etc/nginx/nginx.conf\r\n    \r\n    EXPOSE 4200 `\r\n    \r\n    and this is my backend dockerfile:\r\n    \r\n    `FROM artifactory.x/amcic-docker-local/amcic_java_maven:11\r\n    \r\n    COPY settings/conf  /soft/project/application/conf\r\n    \r\n    COPY settings/scripts  /soft/project/application/scripts\r\n    COPY application/target/project-application.jar /soft/project/application/service/project-application.jar\r\n    \r\n    WORKDIR /soft/project/application/scripts\r\n    RUN chmod +x *.sh\r\n    \r\n    EXPOSE 9420\r\n    \r\n    ENTRYPOINT [&quot;/soft/project/application/scripts/start.sh&quot;]\r\n\r\nwhen i run the project using docker compose up:\r\n\r\nI have both containers for front and back but i have this error while trying to log in or to call any REST request from front to back:\r\n\r\n    Failed to load resource: the server responded with a status of 502 (Bad Gateway)\r\n    main-es2015.22b1391f67deb1dc79c5.js:1 [RestService] /api/application/authentication-config code: 502, body: Http failure response for http://localhost:57894/api/application/authentication-config: 502 Bad Gateway\r\n    handleError @ main-es2015.22b1391f67deb1dc79c5.js:1\r\n    main-es2015.22b1391f67deb1dc79c5.js:1 [ApplicationConfigService] Unable to load app config Something bad happened; please try again later.\r\n\r\n\r\n    project-front-1&#160; | [error] 20#20: *3 connect() failed (111: Connection refused) while connecting to upstream, client: 172.24.0.1, server: localhost, request: &quot;GET /api/application/authentication-config HTTP/1.1&quot;, upstream: &quot;http://127.0.0.1:8080/api/application/authentication-config&quot;, host: &quot;localhost:4200&quot;\r\n\r\nany help please ? i think i have a problem with my CORS config but i cannot found it.","title":"Cross origin with NGINX and Docker compose","body":"<p>I'm using NGINX for my front end project and tomcat server formy backend project. I want to migrate them with allowing cross origin (CORS)</p>\n<p>This is my nginx conf:</p>\n<pre><code>events{}\n\nhttp {\n    include /etc/nginx/mime.types;\n\n    upstream websocket {\n        server localhost:8080;\n    }\n\n\n    server {\n        listen *:8081;\n        listen [::]:8081;\n        server_name localhost;\n        root   /usr/share/nginx/html;\n        index index.html;\n        location / {\n            try_files $uri $uri/ /index.html;\n             add_header 'Access-Control-Allow-Origin' '*';\n             add_header 'Access-Control-Allow-Methods' '*';\n         } \n        location /api {\n            proxy_pass http://localhost:8080;\n             add_header 'Access-Control-Allow-Origin' '*';\n             add_header 'Access-Control-Allow-Methods' '*';\n         } \n\n        location /project-websocket {\n            proxy_pass http://websocket;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header Host $host;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n\n            proxy_http_version 1.1;\n            proxy_set_header Upgrade $http_upgrade;\n            proxy_set_header Connection &quot;upgrade&quot;;\n         } \n         \n    }\n}\n</code></pre>\n<p>this is my docker compose file:</p>\n<pre><code>version: '3'\nservices:\n  front:\n    build:\n      context: ./project-front\n      dockerfile: Dockerfile\n    read_only: true\n    ports:\n      - 4200:8081\n    volumes:\n      - /tmp:/etc/nginx/conf.d/\n      - /tmp:/var/cache/nginx/client_temp\n      - /tmp:/var/run/\n      - /tmp:/var/cache/nginx/proxy_temp\n      - /tmp:/var/cache/nginx/fastcgi_temp\n      - /tmp:/var/cache/nginx/scgi_temp\n      - /tmp:/var/cache/nginx/uwsgi_temp\n\n  back:\n    build:\n      context: ./project-back\n      dockerfile: Dockerfile\n    read_only: true\n    ports:\n      - 9420:8080\n    volumes:\n      - /tmp:/tmp\n</code></pre>\n<p><strong>this is my front end dockerfile:</strong></p>\n<pre><code>FROM artifactory.x/amcic-docker-local/node/amcic-node:14 as build\n\nCOPY . /soft/project/application/\n\nWORKDIR /soft/project/application/\n\nRUN chmod -R 777 nginx.conf\n\nRUN npm cache clean --force\n\nRUN npm install\n\nRUN npm run build:prod\n\nWORKDIR /soft/project/application/front/\n\nFROM artifactory.x/amcic-docker-virtual/nginx:latest\n\nCOPY --from=build /soft/project/application/front /usr/share/nginx/html\n\nCOPY --from=build /soft/project/application/nginx.conf  /etc/nginx/nginx.conf\n\nEXPOSE 4200 `\n\nand this is my backend dockerfile:\n\n`FROM artifactory.x/amcic-docker-local/amcic_java_maven:11\n\nCOPY settings/conf  /soft/project/application/conf\n\nCOPY settings/scripts  /soft/project/application/scripts\nCOPY application/target/project-application.jar /soft/project/application/service/project-application.jar\n\nWORKDIR /soft/project/application/scripts\nRUN chmod +x *.sh\n\nEXPOSE 9420\n\nENTRYPOINT [&quot;/soft/project/application/scripts/start.sh&quot;]\n</code></pre>\n<p>when i run the project using docker compose up:</p>\n<p>I have both containers for front and back but i have this error while trying to log in or to call any REST request from front to back:</p>\n<pre><code>Failed to load resource: the server responded with a status of 502 (Bad Gateway)\nmain-es2015.22b1391f67deb1dc79c5.js:1 [RestService] /api/application/authentication-config code: 502, body: Http failure response for http://localhost:57894/api/application/authentication-config: 502 Bad Gateway\nhandleError @ main-es2015.22b1391f67deb1dc79c5.js:1\nmain-es2015.22b1391f67deb1dc79c5.js:1 [ApplicationConfigService] Unable to load app config Something bad happened; please try again later.\n\n\nproject-front-1  | [error] 20#20: *3 connect() failed (111: Connection refused) while connecting to upstream, client: 172.24.0.1, server: localhost, request: &quot;GET /api/application/authentication-config HTTP/1.1&quot;, upstream: &quot;http://127.0.0.1:8080/api/application/authentication-config&quot;, host: &quot;localhost:4200&quot;\n</code></pre>\n<p>any help please ? i think i have a problem with my CORS config but i cannot found it.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":4,"creation_date":1678661133,"post_id":75716761,"comment_id":133572169,"body_markdown":"Don&#39;t use `==` to test for string equality, use the `equals()` method instead, for example: `if (typoo.equals(&quot;Studio&quot;)) {`. To ignore letter case you can use: `if (typoo.equalsIgnoreCase(&quot;studio&quot;)) {`.","body":"Don&#39;t use <code>==</code> to test for string equality, use the <code>equals()</code> method instead, for example: <code>if (typoo.equals(&quot;Studio&quot;)) {</code>. To ignore letter case you can use: <code>if (typoo.equalsIgnoreCase(&quot;studio&quot;)) {</code>."}],"answers":[{"tags":[],"owner":{"account_id":15406958,"reputation":11,"user_id":11114848,"display_name":"Hakim"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1678661257,"creation_date":1678661257,"answer_id":75716843,"question_id":75716761,"body_markdown":"the if statements should be inside the actionPerformed() method\r\nand use the function String.equals() to compare Strings","title":"Java text field won&#39;t update","body":"<p>the if statements should be inside the actionPerformed() method\nand use the function String.equals() to compare Strings</p>\n"}],"owner":{"account_id":23882955,"reputation":1,"user_id":17883433,"display_name":"MrHaouari"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1678663320,"answer_count":1,"score":-2,"last_activity_date":1678661257,"creation_date":1678660185,"question_id":75716761,"body_markdown":"When I press the button, the text field doesn&#39;t update and every time it shows 20000.\r\n\r\nThe task is to choose from a combo box and then the text field will show you a number.\r\n\r\nif STUDIO , Pb. show 10000  \r\nif F3 , pb shows 20000  \r\n \r\n    String typoo = typo.getSelectedItem().toString();\r\n\tint pbb = 0 ;\r\n\tif (typoo == &quot;Studio&quot;) {\r\n        pbb = 10000;\r\n    } \r\n    else if (typoo == &quot;F3&quot;) {\r\n        pbb = 20000;\r\n    }\r\n\r\n    JButton btnNewButton = new JButton(&quot;UPDATE&quot;);\r\n    btnNewButton.addActionListener(new ActionListener() {\r\n    \tpublic void actionPerformed(ActionEvent e) {\r\n            pb.setText(String.valueOf(pbb));\r\n   \t\t}\r\n    });","title":"Java text field won&#39;t update","body":"<p>When I press the button, the text field doesn't update and every time it shows 20000.</p>\n<p>The task is to choose from a combo box and then the text field will show you a number.</p>\n<p>if STUDIO , Pb. show 10000<br />\nif F3 , pb shows 20000</p>\n<pre><code>String typoo = typo.getSelectedItem().toString();\nint pbb = 0 ;\nif (typoo == &quot;Studio&quot;) {\n    pbb = 10000;\n} \nelse if (typoo == &quot;F3&quot;) {\n    pbb = 20000;\n}\n\nJButton btnNewButton = new JButton(&quot;UPDATE&quot;);\nbtnNewButton.addActionListener(new ActionListener() {\n    public void actionPerformed(ActionEvent e) {\n        pb.setText(String.valueOf(pbb));\n    }\n});\n</code></pre>\n"},{"tags":["java","arrays","list","object","oop"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1678656479,"post_id":75716462,"comment_id":133571501,"body_markdown":"Any time you see multiple variable names that end in incrementing numbers, think of creating another list or array, and then use them in a nested for loop.","body":"Any time you see multiple variable names that end in incrementing numbers, think of creating another list or array, and then use them in a nested for loop."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1678656503,"post_id":75716462,"comment_id":133571509,"body_markdown":"Also note that details matter and you may consider making your question and your code less abstract and more concrete.","body":"Also note that details matter and you may consider making your question and your code less abstract and more concrete."},{"owner":{"account_id":28001033,"reputation":1,"user_id":21385317,"display_name":"dvd"},"score":0,"creation_date":1678656647,"post_id":75716462,"comment_id":133571535,"body_markdown":"my problem is, even if I construct a list of these methods, how do I properly call the classes to construct an object? how do I save them into a list properly, so I can create x amounts of objects?","body":"my problem is, even if I construct a list of these methods, how do I properly call the classes to construct an object? how do I save them into a list properly, so I can create x amounts of objects?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1678657444,"post_id":75716462,"comment_id":133571649,"body_markdown":"Perhaps this is more of a design issue. Why do you need four subclasses of `Card`?","body":"Perhaps this is more of a design issue. Why do you need four subclasses of <code>Card</code>?"},{"owner":{"account_id":28001033,"reputation":1,"user_id":21385317,"display_name":"dvd"},"score":0,"creation_date":1678657561,"post_id":75716462,"comment_id":133571672,"body_markdown":"each card class has different functionality","body":"each card class has different functionality"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":3,"creation_date":1678657908,"post_id":75716462,"comment_id":133571724,"body_markdown":"You&#39;re doing it. There&#39;s nothing wrong with this code. What is your specific question, other than &#39;it feels wrong&#39;, which... isn&#39;t an actionable question? Given that you have 4 separate classes with unique functionality, you can&#39;t skirt around the notion of having 4 separate initialization procedures. You can go ham with some factories or a `Supplier&lt;Card&gt;` or whatnot to abstract away the construction itself but this wouldn&#39;t be a worthwhile idea unless your app has more specific needs than this rather general overview indicates.","body":"You&#39;re doing it. There&#39;s nothing wrong with this code. What is your specific question, other than &#39;it feels wrong&#39;, which... isn&#39;t an actionable question? Given that you have 4 separate classes with unique functionality, you can&#39;t skirt around the notion of having 4 separate initialization procedures. You can go ham with some factories or a <code>Supplier&lt;Card&gt;</code> or whatnot to abstract away the construction itself but this wouldn&#39;t be a worthwhile idea unless your app has more specific needs than this rather general overview indicates."},{"owner":{"account_id":28001033,"reputation":1,"user_id":21385317,"display_name":"dvd"},"score":0,"creation_date":1678658229,"post_id":75716462,"comment_id":133571785,"body_markdown":"I wanted to put them into an array to not have 30 lines of code doing just for loop for each class. If this is the way to go, so be it.","body":"I wanted to put them into an array to not have 30 lines of code doing just for loop for each class. If this is the way to go, so be it."}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678660109,"creation_date":1678660109,"answer_id":75716754,"question_id":75716462,"body_markdown":"As rzwiterloot says, your current code is clear and quite concise.\r\n\r\nOne improvement to make your code clearer is to *not* call your class `Array`, which is also used by the JDK.\r\n\r\nIf you want to make your code more concise, but less clear, you could create a method which adds cards:\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.function.Supplier;\r\n\r\npublic class Test {\r\n    ArrayList&lt;Card&gt; deck = new ArrayList&lt;Card&gt;();\r\n\r\n    public void fillArray() {\r\n        addCards(10, () -&gt; new Category1());\r\n        addCards(20, () -&gt; new Category2());\r\n        addCards(5, () -&gt; new Category3());\r\n        addCards(8, Category4::new); // this is exactly the same as () -&gt; new Category4()\r\n    }\r\n    \r\n    private void addCards(int howMany, Supplier&lt;Card&gt; cardFactory) {\r\n        for (int i = 0; i &lt; howMany; i++) {\r\n            deck.add(cardFactory.get());\r\n        }\r\n    }\r\n    \r\n    public void printArray() {\r\n        int k = 1;\r\n        for (Card card : this.deck) {\r\n            System.out.println(k+&quot;. &quot;+card.getName());\r\n            k++;\r\n        }\r\n    }\r\n}\r\n\r\nclass Card { public String getName() { return &quot;&quot;;}}\r\nclass Category1 extends Card {}\r\nclass Category2 extends Card {}\r\nclass Category3 extends Card {}\r\nclass Category4 extends Card {}\r\n```\r\nBut to reiterate: your current code is fine. If the code above is harder for you to understand, don&#39;t use it.\r\n\r\nCreating a method like this is good if it removes duplicated code, but you don&#39;t have significant duplicated code.\r\n","title":"Creating array of objects of multiple types efficienly in java","body":"<p>As rzwiterloot says, your current code is clear and quite concise.</p>\n<p>One improvement to make your code clearer is to <em>not</em> call your class <code>Array</code>, which is also used by the JDK.</p>\n<p>If you want to make your code more concise, but less clear, you could create a method which adds cards:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.function.Supplier;\n\npublic class Test {\n    ArrayList&lt;Card&gt; deck = new ArrayList&lt;Card&gt;();\n\n    public void fillArray() {\n        addCards(10, () -&gt; new Category1());\n        addCards(20, () -&gt; new Category2());\n        addCards(5, () -&gt; new Category3());\n        addCards(8, Category4::new); // this is exactly the same as () -&gt; new Category4()\n    }\n    \n    private void addCards(int howMany, Supplier&lt;Card&gt; cardFactory) {\n        for (int i = 0; i &lt; howMany; i++) {\n            deck.add(cardFactory.get());\n        }\n    }\n    \n    public void printArray() {\n        int k = 1;\n        for (Card card : this.deck) {\n            System.out.println(k+&quot;. &quot;+card.getName());\n            k++;\n        }\n    }\n}\n\nclass Card { public String getName() { return &quot;&quot;;}}\nclass Category1 extends Card {}\nclass Category2 extends Card {}\nclass Category3 extends Card {}\nclass Category4 extends Card {}\n</code></pre>\n<p>But to reiterate: your current code is fine. If the code above is harder for you to understand, don't use it.</p>\n<p>Creating a method like this is good if it removes duplicated code, but you don't have significant duplicated code.</p>\n"}],"owner":{"account_id":28001033,"reputation":1,"user_id":21385317,"display_name":"dvd"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678660109,"creation_date":1678656208,"question_id":75716462,"body_markdown":"I want to create an array/arraylist/list/map (not sure which one to use) of multiple objects, that would be instances of multiple classes. How perform this task without writing a separate for loop for each object type? \r\nSomething like a deck of cards but there are multiple classes of cards. In my example categories 1 through 4 extend from abstract class Card. Only functionality so far for all of them is to print their name. I get that I need an arraylist of the superclass, but how do I call the subclasses in clean fashion?\r\n\r\nBasically I have this and it looks wrong. Not sure what to use and where to start, kinda new to Java. Thanks!\r\n\r\n\r\n    public class Array{\r\n    \r\n        ArrayList&lt;Card&gt; deck = new ArrayList&lt;Card&gt;();\r\n    \r\n        public fillArray() {\r\n    \r\n            for (int i = 0; i &lt; 10; i++) {\r\n                deck.add(new Category1());\r\n            }\r\n            for (int i = 0; i &lt; 20; i++) {\r\n                deck.add(new Category2());\r\n            }\r\n            for (int i = 0; i &lt; 5; i++) {\r\n                deck.add(new Category3());\r\n            }\r\n            for (int i = 0; i &lt; 8; i++) {\r\n                deck.add(new Category4());\r\n            }\r\n            \r\n        }\r\n        public void printArray() {\r\n            int k = 1;\r\n            for (Card card : this.deck) {\r\n                System.out.println(k+&quot;. &quot;+card.getName());\r\n                k++;\r\n            }\r\n        }\r\n    }\r\n\r\nI have tried using arrays/ array list but never got them to properly call the class to construct an object.\r\n","title":"Creating array of objects of multiple types efficienly in java","body":"<p>I want to create an array/arraylist/list/map (not sure which one to use) of multiple objects, that would be instances of multiple classes. How perform this task without writing a separate for loop for each object type?\nSomething like a deck of cards but there are multiple classes of cards. In my example categories 1 through 4 extend from abstract class Card. Only functionality so far for all of them is to print their name. I get that I need an arraylist of the superclass, but how do I call the subclasses in clean fashion?</p>\n<p>Basically I have this and it looks wrong. Not sure what to use and where to start, kinda new to Java. Thanks!</p>\n<pre><code>public class Array{\n\n    ArrayList&lt;Card&gt; deck = new ArrayList&lt;Card&gt;();\n\n    public fillArray() {\n\n        for (int i = 0; i &lt; 10; i++) {\n            deck.add(new Category1());\n        }\n        for (int i = 0; i &lt; 20; i++) {\n            deck.add(new Category2());\n        }\n        for (int i = 0; i &lt; 5; i++) {\n            deck.add(new Category3());\n        }\n        for (int i = 0; i &lt; 8; i++) {\n            deck.add(new Category4());\n        }\n        \n    }\n    public void printArray() {\n        int k = 1;\n        for (Card card : this.deck) {\n            System.out.println(k+&quot;. &quot;+card.getName());\n            k++;\n        }\n    }\n}\n</code></pre>\n<p>I have tried using arrays/ array list but never got them to properly call the class to construct an object.</p>\n"},{"tags":["java","spring","apache-camel"],"answers":[{"comments":[{"owner":{"account_id":2968890,"reputation":518,"user_id":2521447,"display_name":"Keith"},"score":1,"creation_date":1470970321,"post_id":38905433,"comment_id":65176267,"body_markdown":"I&#39;m consuming from a direct uri, not a file. The &#39;delete=true&#39; doesn&#39;t apply here.","body":"I&#39;m consuming from a direct uri, not a file. The &#39;delete=true&#39; doesn&#39;t apply here."},{"owner":{"account_id":1719961,"reputation":3647,"user_id":1576149,"accept_rate":60,"display_name":"gogstad"},"score":1,"creation_date":1470988545,"post_id":38905433,"comment_id":65182772,"body_markdown":"That depends. If the file originated from a `file`-endpoint, then the exchange is commited to that endpoint at the end of the route. No matter if you pass the exchange through `direct`- OR `seda`-endpoints on the way.","body":"That depends. If the file originated from a <code>file</code>-endpoint, then the exchange is commited to that endpoint at the end of the route. No matter if you pass the exchange through <code>direct</code>- OR <code>seda</code>-endpoints on the way."},{"owner":{"account_id":6918239,"reputation":3153,"user_id":5311694,"accept_rate":47,"display_name":"Souciance Eqdam Rashti"},"score":0,"creation_date":1471000504,"post_id":38905433,"comment_id":65190202,"body_markdown":"@Keith, not particulary obvious from your question when you say that the body of the exchange contains a file yet your consuming from a direct exchange. So how is the file being put on the direct consumer? Surely it must come from some other endpoint which picked up the file. You put the delete parameter there.","body":"@Keith, not particulary obvious from your question when you say that the body of the exchange contains a file yet your consuming from a direct exchange. So how is the file being put on the direct consumer? Surely it must come from some other endpoint which picked up the file. You put the delete parameter there."},{"owner":{"account_id":2968890,"reputation":518,"user_id":2521447,"display_name":"Keith"},"score":0,"creation_date":1471018524,"post_id":38905433,"comment_id":65201523,"body_markdown":"@SoucianceEqdamRashti You&#39;re right, it&#39;s not obvious.  Apologies.  It&#39;s not coming from a file endpoint, though.  The file is being generated by a bean&#39;s method in a different route, so there&#39;s nowhere to add the &#39;delete&#39; paramater for this particular file.","body":"@SoucianceEqdamRashti You&#39;re right, it&#39;s not obvious.  Apologies.  It&#39;s not coming from a file endpoint, though.  The file is being generated by a bean&#39;s method in a different route, so there&#39;s nowhere to add the &#39;delete&#39; paramater for this particular file."}],"tags":[],"owner":{"account_id":6918239,"reputation":3153,"user_id":5311694,"accept_rate":47,"display_name":"Souciance Eqdam Rashti"},"comment_count":4,"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1470946821,"creation_date":1470946821,"answer_id":38905433,"question_id":38901420,"body_markdown":"You need to set the delete parameter to equal true in your original from endpoint when the file is picked up. For example:\r\n\r\n    from(&quot;file://inobox?delete=true&quot;)\r\n\r\nFor more parameters:\r\nhttp://camel.apache.org/file2.html\r\n\r\n","title":"How to make Apache Camel delete a file at the end of a &quot;direct&quot; route?","body":"<p>You need to set the delete parameter to equal true in your original from endpoint when the file is picked up. For example:</p>\n\n<pre><code>from(\"file://inobox?delete=true\")\n</code></pre>\n\n<p>For more parameters:\n<a href=\"http://camel.apache.org/file2.html\" rel=\"nofollow\">http://camel.apache.org/file2.html</a></p>\n"},{"comments":[{"owner":{"account_id":2968890,"reputation":518,"user_id":2521447,"display_name":"Keith"},"score":0,"creation_date":1471018717,"post_id":38914617,"comment_id":65201613,"body_markdown":"Unfortunately, I can&#39;t just move the file to a directory and have Camel pick it up from a file uri because there&#39;s other information in the Exchange that&#39;s needed for processing.  (I&#39;m not just moving it to another directory like the simplified example shows.)  I&#39;ll look into using the ProducerTemplate.  That appears to be what I want.","body":"Unfortunately, I can&#39;t just move the file to a directory and have Camel pick it up from a file uri because there&#39;s other information in the Exchange that&#39;s needed for processing.  (I&#39;m not just moving it to another directory like the simplified example shows.)  I&#39;ll look into using the ProducerTemplate.  That appears to be what I want."},{"owner":{"account_id":6918239,"reputation":3153,"user_id":5311694,"accept_rate":47,"display_name":"Souciance Eqdam Rashti"},"score":0,"creation_date":1471027135,"post_id":38914617,"comment_id":65205809,"body_markdown":"@MilošMilivojević , doesn&#39;t pollEnrich enrich route with the file rather than write the file to the folder?","body":"@MilošMilivojević , doesn&#39;t pollEnrich enrich route with the file rather than write the file to the folder?"},{"owner":{"account_id":938578,"reputation":5229,"user_id":4657798,"display_name":"Miloš Milivojević"},"score":0,"creation_date":1471027394,"post_id":38914617,"comment_id":65205935,"body_markdown":"It does, but it also deletes the file afterwards, which is what the question was about :)","body":"It does, but it also deletes the file afterwards, which is what the question was about :)"},{"owner":{"account_id":6918239,"reputation":3153,"user_id":5311694,"accept_rate":47,"display_name":"Souciance Eqdam Rashti"},"score":0,"creation_date":1471027631,"post_id":38914617,"comment_id":65206048,"body_markdown":"yeah but how would the file content end up on the direct consumer?","body":"yeah but how would the file content end up on the direct consumer?"},{"owner":{"account_id":938578,"reputation":5229,"user_id":4657798,"display_name":"Miloš Milivojević"},"score":0,"creation_date":1471027740,"post_id":38914617,"comment_id":65206095,"body_markdown":"This **is** the direct consumer, you don&#39;t seem to understand what the example does.","body":"This <b>is</b> the direct consumer, you don&#39;t seem to understand what the example does."},{"owner":{"account_id":6918239,"reputation":3153,"user_id":5311694,"accept_rate":47,"display_name":"Souciance Eqdam Rashti"},"score":0,"creation_date":1471027840,"post_id":38914617,"comment_id":65206137,"body_markdown":"That was not my question. From your example, it seems that even though nothing actually is put on the direct consumer, the poll enricher is still triggered if a file is put on the consuming folder? Is that case?","body":"That was not my question. From your example, it seems that even though nothing actually is put on the direct consumer, the poll enricher is still triggered if a file is put on the consuming folder? Is that case?"},{"owner":{"account_id":938578,"reputation":5229,"user_id":4657798,"display_name":"Miloš Milivojević"},"score":0,"creation_date":1471028305,"post_id":38914617,"comment_id":65206378,"body_markdown":"What you asked didn&#39;t really make sense to me so I really had no way of replying :) The route in question (consuming from `direct:start`) requires you to set two exchange properties - `myFileDir` and `myFileName` - which describe the file that needs to be processed. In this case, processing consists only of copying the said file to `/data/files`. As Keith said, the file is generated in another route that then calls the `direct:start` route. Poll enrich will read the generated file and delete it afterwards, which was what the man asked for.","body":"What you asked didn&#39;t really make sense to me so I really had no way of replying :) The route in question (consuming from <code>direct:start</code>) requires you to set two exchange properties - <code>myFileDir</code> and <code>myFileName</code> - which describe the file that needs to be processed. In this case, processing consists only of copying the said file to <code>&#47;data&#47;files</code>. As Keith said, the file is generated in another route that then calls the <code>direct:start</code> route. Poll enrich will read the generated file and delete it afterwards, which was what the man asked for."},{"owner":{"account_id":6918239,"reputation":3153,"user_id":5311694,"accept_rate":47,"display_name":"Souciance Eqdam Rashti"},"score":0,"creation_date":1471029510,"post_id":38914617,"comment_id":65206952,"body_markdown":"Still not convinced based on the description in the question and comments by the OP but I&#39;ll stop the commenting since this is turning into a discussion.","body":"Still not convinced based on the description in the question and comments by the OP but I&#39;ll stop the commenting since this is turning into a discussion."},{"owner":{"account_id":2968890,"reputation":518,"user_id":2521447,"display_name":"Keith"},"score":1,"creation_date":1471047409,"post_id":38914617,"comment_id":65212863,"body_markdown":"Both the `ProducerTemplate` and `pollEnrich` methods solve my problem.  Thanks, @MilošMilivojević!","body":"Both the <code>ProducerTemplate</code> and <code>pollEnrich</code> methods solve my problem.  Thanks, @MilošMilivojević!"},{"owner":{"account_id":5660163,"reputation":12260,"user_id":4478047,"display_name":"Kukeltje"},"score":0,"creation_date":1541530690,"post_id":38914617,"comment_id":93246556,"body_markdown":"The pollEnrich solves a little different problem than I have. I&#39;m in a situation where I receive a file via an http post, **first** write it &#39;to&#39; a file, (to have it at least stored), process it further and need to &#39;remove&#39; the file in the &#39;to&#39; location. It can all be done, but I still wished the &#39;to&#39; has an exceptionhandler where the it uses an &#39;error&#39; folder. Something like:  `&lt;to uri=&quot;file:/myApp/received?onError=.error&quot; /&gt; that is used if further on an error is thrown","body":"The pollEnrich solves a little different problem than I have. I&#39;m in a situation where I receive a file via an http post, <b>first</b> write it &#39;to&#39; a file, (to have it at least stored), process it further and need to &#39;remove&#39; the file in the &#39;to&#39; location. It can all be done, but I still wished the &#39;to&#39; has an exceptionhandler where the it uses an &#39;error&#39; folder. Something like:  `&lt;to uri=&quot;file:/myApp/received?onError=.error&quot; /&gt; that is used if further on an error is thrown"}],"tags":[],"owner":{"account_id":938578,"reputation":5229,"user_id":4657798,"display_name":"Miloš Milivojević"},"comment_count":10,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1471030273,"creation_date":1470994325,"answer_id":38914617,"question_id":38901420,"body_markdown":"Well, that really depends on how you pick up the file. But seeing how in comments you seem to imply that the file is not coming from a `file` endpoint then I&#39;m afraid that you&#39;re left with having to do the cleanup yourself.\r\n\r\nIf you are using `ProducerTemplate` to send the file to `direct` then you can delete it in the sender method:\r\n\r\n    try {\r\n        ProducerTemplate template = ...;\r\n        template.sendBody(&quot;direct:start&quot;, file);\r\n    } finally {\r\n        file.delete();\r\n    }\r\n\r\nOtherwise, you can either have a bean method that will do the deletion for you or - my suggestion - you could try to move the file reading behavior to Camel, so that your route with `file` instead of `direct`.\r\n\r\n**EDIT:**\r\n\r\nIf you are using Camel 2.15+, you can also try using [`pollEnrich()` with dynamic URIs][1], given that you previously set the file or filename name somewhere in the exchange (e.g. body, exchange property, header...):\r\n\r\n    &lt;route&gt;\r\n        &lt;from uri=&quot;direct:start&quot;/&gt;\r\n        &lt;pollEnrich&gt;\r\n            &lt;!--Example for  java.io.File body--&gt;\r\n            &lt;simple&gt;file:${body.parent}?fileName=${body.name}&amp;delete=true&lt;/simple&gt;\r\n            \r\n            &lt;!--Example for file dir and file name as exchange properties--&gt;\r\n            &lt;!--&lt;simple&gt;file:${exchangeProperty.myFileDir}?fileName=${exchangeProperty.myFileName}&amp;delete=true&lt;/simple&gt;--&gt;\r\n        &lt;/pollEnrich&gt;\r\n        &lt;to uri=&quot;file:/data/files&quot;/&gt;\r\n    &lt;/route&gt;\r\n\r\n\r\n  [1]: http://camel.apache.org/content-enricher.html#ContentEnricher-Usingdynamicuris.1","title":"How to make Apache Camel delete a file at the end of a &quot;direct&quot; route?","body":"<p>Well, that really depends on how you pick up the file. But seeing how in comments you seem to imply that the file is not coming from a <code>file</code> endpoint then I'm afraid that you're left with having to do the cleanup yourself.</p>\n\n<p>If you are using <code>ProducerTemplate</code> to send the file to <code>direct</code> then you can delete it in the sender method:</p>\n\n<pre><code>try {\n    ProducerTemplate template = ...;\n    template.sendBody(\"direct:start\", file);\n} finally {\n    file.delete();\n}\n</code></pre>\n\n<p>Otherwise, you can either have a bean method that will do the deletion for you or - my suggestion - you could try to move the file reading behavior to Camel, so that your route with <code>file</code> instead of <code>direct</code>.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>If you are using Camel 2.15+, you can also try using <a href=\"http://camel.apache.org/content-enricher.html#ContentEnricher-Usingdynamicuris.1\" rel=\"nofollow\"><code>pollEnrich()</code> with dynamic URIs</a>, given that you previously set the file or filename name somewhere in the exchange (e.g. body, exchange property, header...):</p>\n\n<pre><code>&lt;route&gt;\n    &lt;from uri=\"direct:start\"/&gt;\n    &lt;pollEnrich&gt;\n        &lt;!--Example for  java.io.File body--&gt;\n        &lt;simple&gt;file:${body.parent}?fileName=${body.name}&amp;delete=true&lt;/simple&gt;\n\n        &lt;!--Example for file dir and file name as exchange properties--&gt;\n        &lt;!--&lt;simple&gt;file:${exchangeProperty.myFileDir}?fileName=${exchangeProperty.myFileName}&amp;delete=true&lt;/simple&gt;--&gt;\n    &lt;/pollEnrich&gt;\n    &lt;to uri=\"file:/data/files\"/&gt;\n&lt;/route&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":78912,"reputation":2736,"user_id":224215,"accept_rate":100,"display_name":"Begui"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678659191,"creation_date":1678659191,"answer_id":75716687,"question_id":38901420,"body_markdown":"On a side note, if you do **NOT** want to delete the file and treat it as read only \r\n\r\nSet the **noop**\r\n\r\n```\r\n\tfrom(direct:start) //\r\n\t\t .pollEnrich(&quot;file:/home/mypath?fileName=myfile.csv&amp;noop=true&amp;idempotent=false&quot;, 30000)\r\n\t\t .log(&quot;Read ${body}&quot;)\r\n```","title":"How to make Apache Camel delete a file at the end of a &quot;direct&quot; route?","body":"<p>On a side note, if you do <strong>NOT</strong> want to delete the file and treat it as read only</p>\n<p>Set the <strong>noop</strong></p>\n<pre><code>    from(direct:start) //\n         .pollEnrich(&quot;file:/home/mypath?fileName=myfile.csv&amp;noop=true&amp;idempotent=false&quot;, 30000)\n         .log(&quot;Read ${body}&quot;)\n</code></pre>\n"}],"owner":{"account_id":2968890,"reputation":518,"user_id":2521447,"display_name":"Keith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12329,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":38914617,"answer_count":3,"score":4,"last_activity_date":1678659191,"creation_date":1470931934,"question_id":38901420,"body_markdown":"I have a situation where I&#39;m consuming from a `direct` endpoint.  The body of the `Exchange` contains a `File`.  Is there a way via the Spring DSL to delete this `File` at the end of the route?\r\n\r\nFor example, I have a route that looks like\r\n\r\n    &lt;route&gt;\r\n        &lt;from uri=&quot;direct:start&quot;/&gt;\r\n        &lt;to uri=&quot;file:/data/files&quot;/&gt;\r\n    &lt;/route&gt;\r\n\r\nThe file gets copied to `/data/files`, but the original is left alone.\r\n\r\nI know I can add something like\r\n\r\n    &lt;to uri=&quot;bean:deleter?method=delete&quot;/&gt;\r\n\r\nto the end of the route to perform the deletion, but I was wondering if there were a camel specific way to handle it.","title":"How to make Apache Camel delete a file at the end of a &quot;direct&quot; route?","body":"<p>I have a situation where I'm consuming from a <code>direct</code> endpoint.  The body of the <code>Exchange</code> contains a <code>File</code>.  Is there a way via the Spring DSL to delete this <code>File</code> at the end of the route?</p>\n\n<p>For example, I have a route that looks like</p>\n\n<pre><code>&lt;route&gt;\n    &lt;from uri=\"direct:start\"/&gt;\n    &lt;to uri=\"file:/data/files\"/&gt;\n&lt;/route&gt;\n</code></pre>\n\n<p>The file gets copied to <code>/data/files</code>, but the original is left alone.</p>\n\n<p>I know I can add something like</p>\n\n<pre><code>&lt;to uri=\"bean:deleter?method=delete\"/&gt;\n</code></pre>\n\n<p>to the end of the route to perform the deletion, but I was wondering if there were a camel specific way to handle it.</p>\n"},{"tags":["java","json","gson","spigot"],"answers":[{"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678658948,"creation_date":1678658948,"answer_id":75716669,"question_id":75711623,"body_markdown":"The important line here is:\r\n```\r\njava.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.TaskQueue java.util.Timer.queue accessible: module java.base does not &quot;opens java.util&quot; to unnamed module\r\n```\r\n\r\nProbably one of your classes (maybe `Cuboid`) has transitively a `java.util.Timer` value which you are (accidentally?) trying to serialize with Gson. Because Gson has no built-in adapter for `Timer` it tries to use reflection which fails for JDK classes in the latest JDK versions. In general you should avoid relying on the reflection-based Gson adapter for third-party classes because it makes you dependent on the implementation details of those classes, which could change at any time.\r\n\r\nTo solve this, you either have to write a custom Gson `TypeAdapter` which serializes the `Timer` value, or exclude it from serialization (e.g. making the field `transient`). See the [troubleshooting guide](https://github.com/google/gson/blob/master/Troubleshooting.md#inaccessibleobjectexception-module--does-not-opens--to-unnamed-module) for more information.","title":"Error trying to serialize to Json but error does not happen if I don&#39;t add cages","body":"<p>The important line here is:</p>\n<pre><code>java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.TaskQueue java.util.Timer.queue accessible: module java.base does not &quot;opens java.util&quot; to unnamed module\n</code></pre>\n<p>Probably one of your classes (maybe <code>Cuboid</code>) has transitively a <code>java.util.Timer</code> value which you are (accidentally?) trying to serialize with Gson. Because Gson has no built-in adapter for <code>Timer</code> it tries to use reflection which fails for JDK classes in the latest JDK versions. In general you should avoid relying on the reflection-based Gson adapter for third-party classes because it makes you dependent on the implementation details of those classes, which could change at any time.</p>\n<p>To solve this, you either have to write a custom Gson <code>TypeAdapter</code> which serializes the <code>Timer</code> value, or exclude it from serialization (e.g. making the field <code>transient</code>). See the <a href=\"https://github.com/google/gson/blob/master/Troubleshooting.md#inaccessibleobjectexception-module--does-not-opens--to-unnamed-module\" rel=\"nofollow noreferrer\">troubleshooting guide</a> for more information.</p>\n"}],"owner":{"account_id":27996749,"reputation":1,"user_id":21381809,"display_name":"pkp0"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678658948,"creation_date":1678605856,"question_id":75711623,"body_markdown":"```\r\n[19:44:33 ERROR]: Could not pass event InventoryClickEvent to LuckyWars v1.0.0\r\norg.bukkit.event.EventException: null\r\n        at org.bukkit.plugin.java.JavaPluginLoader$1.execute(JavaPluginLoader.java:302) ~[patched_1.8.8.jar:git-PandaSpigot-82]\r\n        at co.aikar.timings.TimedEventExecutor.execute(TimedEventExecutor.java:78) ~[patched_1.8.8.jar:git-PandaSpigot-82]\r\n        at org.bukkit.plugin.RegisteredListener.callEvent(RegisteredListener.java:62) ~[patched_1.8.8.jar:git-PandaSpigot-82]\r\n        at org.bukkit.plugin.SimplePluginManager.fireEvent(SimplePluginManager.java:564) ~[patched_1.8.8.jar:git-PandaSpigot-82]\r\n        at org.bukkit.plugin.SimplePluginManager.callEvent(SimplePluginManager.java:549) ~[patched_1.8.8.jar:git-PandaSpigot-82]\r\n        at net.minecraft.server.v1_8_R3.PlayerConnection.a(PlayerConnection.java:1681) ~[patched_1.8.8.jar:git-PandaSpigot-82]\r\n        at net.minecraft.server.v1_8_R3.PacketPlayInWindowClick.a(PacketPlayInWindowClick.java:17) ~[patched_1.8.8.jar:git-PandaSpigot-82]\r\n        at net.minecraft.server.v1_8_R3.PacketPlayInWindowClick.a(PacketPlayInWindowClick.java:5) ~[patched_1.8.8.jar:git-PandaSpigot-82]\r\n        at net.minecraft.server.v1_8_R3.PlayerConnectionUtils$1.run(PlayerConnectionUtils.java:9) ~[patched_1.8.8.jar:git-PandaSpigot-82]\r\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[?:?]\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]\r\n        at net.minecraft.server.v1_8_R3.SystemUtils.a(SystemUtils.java:11) ~[patched_1.8.8.jar:git-PandaSpigot-82]\r\n        at net.minecraft.server.v1_8_R3.MinecraftServer.B(MinecraftServer.java:880) ~[patched_1.8.8.jar:git-PandaSpigot-82]\r\n        at net.minecraft.server.v1_8_R3.DedicatedServer.B(DedicatedServer.java:412) ~[patched_1.8.8.jar:git-PandaSpigot-82]\r\n        at net.minecraft.server.v1_8_R3.MinecraftServer.A(MinecraftServer.java:814) ~[patched_1.8.8.jar:git-PandaSpigot-82]\r\n        at net.minecraft.server.v1_8_R3.MinecraftServer.run(MinecraftServer.java:647) ~[patched_1.8.8.jar:git-PandaSpigot-82]\r\n        at net.minecraft.server.v1_8_R3.MinecraftServer.lambda$spin$0(MinecraftServer.java:133) ~[patched_1.8.8.jar:git-PandaSpigot-82]\r\n        at java.lang.Thread.run(Thread.java:833) [?:?]\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.TaskQueue java.util.Timer.queue accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @6cf0e0ba\r\n        at java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354) ~[?:?]\r\n        at java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297) ~[?:?]\r\n        at java.lang.reflect.Field.checkCanSetAccessible(Field.java:178) ~[?:?]\r\n        at java.lang.reflect.Field.setAccessible(Field.java:172) ~[?:?]\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:140) ~[patched_1.8.8.jar:git-PandaSpigot-82]\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:83) ~[patched_1.8.8.jar:git-PandaSpigot-82]\r\n        at com.google.gson.Gson.getAdapter(Gson.java:359) ~[patched_1.8.8.jar:git-PandaSpigot-82]\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getFieldAdapter(ReflectiveTypeAdapterFactory.java:122) ~[patched_1.8.8.jar:git-PandaSpigot-82]\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.access$100(ReflectiveTypeAdapterFactory.java:46) ~[patched_1.8.8.jar:git-PandaSpigot-82]\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.&lt;init&gt;(ReflectiveTypeAdapterFactory.java:92) ~[patched_1.8.8.jar:git-PandaSpigot-82]\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:91) ~[patched_1.8.8.jar:git-PandaSpigot-82]\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:142) ~[patched_1.8.8.jar:git-PandaSpigot-82]\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:83) ~[patched_1.8.8.jar:git-PandaSpigot-82]\r\n        at com.google.gson.Gson.getAdapter(Gson.java:359) ~[patched_1.8.8.jar:git-PandaSpigot-82]\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getFieldAdapter(ReflectiveTypeAdapterFactory.java:122) ~[patched_1.8.8.jar:git-PandaSpigot-82]\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.access$100(ReflectiveTypeAdapterFactory.java:46) ~[patched_1.8.8.jar:git-PandaSpigot-82]\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.&lt;init&gt;(ReflectiveTypeAdapterFactory.java:92) ~[patched_1.8.8.jar:git-PandaSpigot-82]\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:91) ~[patched_1.8.8.jar:git-PandaSpigot-82]\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:142) ~[patched_1.8.8.jar:git-PandaSpigot-82]\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:83) ~[patched_1.8.8.jar:git-PandaSpigot-82]\r\n        at com.google.gson.Gson.getAdapter(Gson.java:359) ~[patched_1.8.8.jar:git-PandaSpigot-82]\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getFieldAdapter(ReflectiveTypeAdapterFactory.java:122) ~[patched_1.8.8.jar:git-PandaSpigot-82]\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.access$100(ReflectiveTypeAdapterFactory.java:46) ~[patched_1.8.8.jar:git-PandaSpigot-82]\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.&lt;init&gt;(ReflectiveTypeAdapterFactory.java:92) ~[patched_1.8.8.jar:git-PandaSpigot-82]\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:91) ~[patched_1.8.8.jar:git-PandaSpigot-82]\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:142) ~[patched_1.8.8.jar:git-PandaSpigot-82]\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:83) ~[patched_1.8.8.jar:git-PandaSpigot-82]\r\n        at com.google.gson.Gson.getAdapter(Gson.java:359) ~[patched_1.8.8.jar:git-PandaSpigot-82]\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getFieldAdapter(ReflectiveTypeAdapterFactory.java:122) ~[patched_1.8.8.jar:git-PandaSpigot-82]\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.access$100(ReflectiveTypeAdapterFactory.java:46) ~[patched_1.8.8.jar:git-PandaSpigot-82]\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.&lt;init&gt;(ReflectiveTypeAdapterFactory.java:92) ~[patched_1.8.8.jar:git-PandaSpigot-82]\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:91) ~[patched_1.8.8.jar:git-PandaSpigot-82]\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:142) ~[patched_1.8.8.jar:git-PandaSpigot-82]\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:83) ~[patched_1.8.8.jar:git-PandaSpigot-82]\r\n        at com.google.gson.Gson.getAdapter(Gson.java:359) ~[patched_1.8.8.jar:git-PandaSpigot-82]\r\n        at com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.write(TypeAdapterRuntimeTypeWrapper.java:55) ~[patched_1.8.8.jar:git-PandaSpigot-82]\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.write(ReflectiveTypeAdapterFactory.java:99) ~[patched_1.8.8.jar:git-PandaSpigot-82]\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.write(ReflectiveTypeAdapterFactory.java:219) ~[patched_1.8.8.jar:git-PandaSpigot-82]\r\n        at com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.write(TypeAdapterRuntimeTypeWrapper.java:68) ~[patched_1.8.8.jar:git-PandaSpigot-82]\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.write(ReflectiveTypeAdapterFactory.java:99) ~[patched_1.8.8.jar:git-PandaSpigot-82]\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.write(ReflectiveTypeAdapterFactory.java:219) ~[patched_1.8.8.jar:git-PandaSpigot-82]\r\n        at com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.write(TypeAdapterRuntimeTypeWrapper.java:68) ~[patched_1.8.8.jar:git-PandaSpigot-82]\r\n        at com.google.gson.internal.bind.CollectionTypeAdapterFactory$Adapter.write(CollectionTypeAdapterFactory.java:96) ~[patched_1.8.8.jar:git-PandaSpigot-82]\r\n        at com.google.gson.internal.bind.CollectionTypeAdapterFactory$Adapter.write(CollectionTypeAdapterFactory.java:60) ~[patched_1.8.8.jar:git-PandaSpigot-82]\r\n        at com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.write(TypeAdapterRuntimeTypeWrapper.java:68) ~[patched_1.8.8.jar:git-PandaSpigot-82]\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.write(ReflectiveTypeAdapterFactory.java:99) ~[patched_1.8.8.jar:git-PandaSpigot-82]\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.write(ReflectiveTypeAdapterFactory.java:219) ~[patched_1.8.8.jar:git-PandaSpigot-82]\r\n        at com.google.gson.Gson.toJson(Gson.java:600) ~[patched_1.8.8.jar:git-PandaSpigot-82]\r\n        at com.google.gson.Gson.toJson(Gson.java:579) ~[patched_1.8.8.jar:git-PandaSpigot-82]\r\n        at com.google.gson.Gson.toJson(Gson.java:534) ~[patched_1.8.8.jar:git-PandaSpigot-82]\r\n        at com.google.gson.Gson.toJson(Gson.java:514) ~[patched_1.8.8.jar:git-PandaSpigot-82]\r\n        at com.luckywars.game.utils.MapDataSerializer.serialize(MapDataSerializer.java:12) ~[?:?]\r\n        at com.luckywars.game.database.dbs.MapDB.saveMapData(MapDB.java:40) ~[?:?]\r\n        at com.luckywars.game.setupwizard.Session.delete(Session.java:117) ~[?:?]\r\n        at com.luckywars.game.setupwizard.WizardManager.endSession(WizardManager.java:22) ~[?:?]\r\n        at com.luckywars.game.setupwizard.gui.ConfirmExitGui.handleClick(ConfirmExitGui.java:31) ~[?:?]\r\n        at com.luckywars.game.setupwizard.WizardListeners.onClick(WizardListeners.java:35) ~[?:?]\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n        at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]\r\n        at org.bukkit.plugin.java.JavaPluginLoader$1.execute(JavaPluginLoader.java:300) ~[patched_1.8.8.jar:git-PandaSpigot-82]\r\n        ... 17 more\r\n```\r\n\r\n\r\nI tried printing the cuboid before the error happened and it printed fine.\r\n\r\nI was expecting the cuboid to be null but it wasn&#39;t.\r\n\r\nMy MapData class:\r\n\r\n`public class MapData {\r\n\r\n    public String name;\r\n    public List&lt;String&gt; authors;\r\n\r\n    public long lastEdit;\r\n\r\n    public List&lt;Pos&gt; luckyBlocks;\r\n\r\n    public List&lt;Pos&gt; spawnPoints;\r\n    public List&lt;Cuboid&gt; cages;\r\n    public Pos spectatorSpawn;\r\n\r\n    public MapData(String name, List&lt;String&gt; authors, long lastEdit, List&lt;Pos&gt; luckyBlocks, List&lt;Pos&gt; spawnPoints, List&lt;Cuboid&gt; cages, Pos spectatorSpawn) {\r\n        this.name = name;\r\n        this.authors = authors;\r\n        this.lastEdit = lastEdit;\r\n        this.luckyBlocks = luckyBlocks;\r\n        this.spawnPoints = spawnPoints;\r\n        this.cages = cages;\r\n        this.spectatorSpawn = spectatorSpawn;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public List&lt;Pos&gt; getSpawnPoints() {\r\n        return spawnPoints;\r\n    }\r\n\r\n    public List&lt;Cuboid&gt; getCages() {\r\n        return cages;\r\n    }\r\n\r\n    public List&lt;Pos&gt; getLuckyBlocks() {\r\n        return luckyBlocks;\r\n    }\r\n\r\n    public List&lt;String&gt; getAuthors() {\r\n        return authors;\r\n    }\r\n\r\n    public long getLastEdit() {\r\n        return lastEdit;\r\n    }\r\n\r\n    public void setLastEdit(long lastEdit) {\r\n        this.lastEdit = lastEdit;\r\n    }\r\n\r\n    public Pos getSpectatorSpawn() {\r\n        return spectatorSpawn;\r\n    }\r\n\r\n    public void setSpectatorSpawn(Pos spectatorSpawn) {\r\n        this.spectatorSpawn = spectatorSpawn;\r\n    }\r\n}\r\n\r\n\r\nMy Session class:\r\n\r\naddCage method:\r\n\r\npublic void addCage() {\r\n        SelectionManager selectionManager = LuckyWars.getInstance().getSelectionManager();\r\n        Selection selection = selectionManager.getSelection(player.getUniqueId());\r\n\r\n        if (selection == null) {\r\n            player.sendMessage(MessageUtils.format(&quot;&amp;cYou have not even made any selections at all! make one by using the loc wand!&quot;));\r\n            return;\r\n        }\r\n\r\n        Location location1 = selection.getFirstPos();\r\n        Location location2 = selection.getSecondPos();\r\n\r\n        if (location1 == null) {\r\n            player.sendMessage(MessageUtils.format(&quot;&amp;cYour first pos selection is null!&quot;));\r\n            return;\r\n        }\r\n        if (location2 == null){\r\n            player.sendMessage(MessageUtils.format(&quot;&amp;cYour second pos selection is null!&quot;));\r\n            return;\r\n        }\r\n\r\n        if (data.cages.size() == GameMode.SOLO.getMaxPlayers()) {\r\n            player.sendMessage(MessageUtils.format(&quot;&amp;cYou cant add more than &quot; + GameMode.SOLO.getMaxPlayers() + &quot; cages!&quot;));\r\n            return;\r\n        }\r\n\r\n        Cuboid cuboid = new Cuboid(location1, location2, false);\r\n        this.data.getCages().add(cuboid);\r\n        player.sendMessage(MessageUtils.format(&quot;&amp;aSuccessfully added a cage!&quot;));\r\n        if (LuckyWars.getInstance().isDebugMessages()) {\r\n            System.out.println(cuboid);\r\n        }\r\n    }`\r\n\r\nsession line from error:\r\n\r\n`if(save){\r\n            data.setLastEdit(System.currentTimeMillis());\r\n            LuckyWars.getInstance().getMapDB().saveMapData(data.getName(), data);\r\n        }`","title":"Error trying to serialize to Json but error does not happen if I don&#39;t add cages","body":"<pre><code>[19:44:33 ERROR]: Could not pass event InventoryClickEvent to LuckyWars v1.0.0\norg.bukkit.event.EventException: null\n        at org.bukkit.plugin.java.JavaPluginLoader$1.execute(JavaPluginLoader.java:302) ~[patched_1.8.8.jar:git-PandaSpigot-82]\n        at co.aikar.timings.TimedEventExecutor.execute(TimedEventExecutor.java:78) ~[patched_1.8.8.jar:git-PandaSpigot-82]\n        at org.bukkit.plugin.RegisteredListener.callEvent(RegisteredListener.java:62) ~[patched_1.8.8.jar:git-PandaSpigot-82]\n        at org.bukkit.plugin.SimplePluginManager.fireEvent(SimplePluginManager.java:564) ~[patched_1.8.8.jar:git-PandaSpigot-82]\n        at org.bukkit.plugin.SimplePluginManager.callEvent(SimplePluginManager.java:549) ~[patched_1.8.8.jar:git-PandaSpigot-82]\n        at net.minecraft.server.v1_8_R3.PlayerConnection.a(PlayerConnection.java:1681) ~[patched_1.8.8.jar:git-PandaSpigot-82]\n        at net.minecraft.server.v1_8_R3.PacketPlayInWindowClick.a(PacketPlayInWindowClick.java:17) ~[patched_1.8.8.jar:git-PandaSpigot-82]\n        at net.minecraft.server.v1_8_R3.PacketPlayInWindowClick.a(PacketPlayInWindowClick.java:5) ~[patched_1.8.8.jar:git-PandaSpigot-82]\n        at net.minecraft.server.v1_8_R3.PlayerConnectionUtils$1.run(PlayerConnectionUtils.java:9) ~[patched_1.8.8.jar:git-PandaSpigot-82]\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[?:?]\n        at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]\n        at net.minecraft.server.v1_8_R3.SystemUtils.a(SystemUtils.java:11) ~[patched_1.8.8.jar:git-PandaSpigot-82]\n        at net.minecraft.server.v1_8_R3.MinecraftServer.B(MinecraftServer.java:880) ~[patched_1.8.8.jar:git-PandaSpigot-82]\n        at net.minecraft.server.v1_8_R3.DedicatedServer.B(DedicatedServer.java:412) ~[patched_1.8.8.jar:git-PandaSpigot-82]\n        at net.minecraft.server.v1_8_R3.MinecraftServer.A(MinecraftServer.java:814) ~[patched_1.8.8.jar:git-PandaSpigot-82]\n        at net.minecraft.server.v1_8_R3.MinecraftServer.run(MinecraftServer.java:647) ~[patched_1.8.8.jar:git-PandaSpigot-82]\n        at net.minecraft.server.v1_8_R3.MinecraftServer.lambda$spin$0(MinecraftServer.java:133) ~[patched_1.8.8.jar:git-PandaSpigot-82]\n        at java.lang.Thread.run(Thread.java:833) [?:?]\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.TaskQueue java.util.Timer.queue accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @6cf0e0ba\n        at java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354) ~[?:?]\n        at java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297) ~[?:?]\n        at java.lang.reflect.Field.checkCanSetAccessible(Field.java:178) ~[?:?]\n        at java.lang.reflect.Field.setAccessible(Field.java:172) ~[?:?]\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:140) ~[patched_1.8.8.jar:git-PandaSpigot-82]\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:83) ~[patched_1.8.8.jar:git-PandaSpigot-82]\n        at com.google.gson.Gson.getAdapter(Gson.java:359) ~[patched_1.8.8.jar:git-PandaSpigot-82]\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getFieldAdapter(ReflectiveTypeAdapterFactory.java:122) ~[patched_1.8.8.jar:git-PandaSpigot-82]\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.access$100(ReflectiveTypeAdapterFactory.java:46) ~[patched_1.8.8.jar:git-PandaSpigot-82]\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.&lt;init&gt;(ReflectiveTypeAdapterFactory.java:92) ~[patched_1.8.8.jar:git-PandaSpigot-82]\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:91) ~[patched_1.8.8.jar:git-PandaSpigot-82]\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:142) ~[patched_1.8.8.jar:git-PandaSpigot-82]\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:83) ~[patched_1.8.8.jar:git-PandaSpigot-82]\n        at com.google.gson.Gson.getAdapter(Gson.java:359) ~[patched_1.8.8.jar:git-PandaSpigot-82]\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getFieldAdapter(ReflectiveTypeAdapterFactory.java:122) ~[patched_1.8.8.jar:git-PandaSpigot-82]\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.access$100(ReflectiveTypeAdapterFactory.java:46) ~[patched_1.8.8.jar:git-PandaSpigot-82]\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.&lt;init&gt;(ReflectiveTypeAdapterFactory.java:92) ~[patched_1.8.8.jar:git-PandaSpigot-82]\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:91) ~[patched_1.8.8.jar:git-PandaSpigot-82]\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:142) ~[patched_1.8.8.jar:git-PandaSpigot-82]\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:83) ~[patched_1.8.8.jar:git-PandaSpigot-82]\n        at com.google.gson.Gson.getAdapter(Gson.java:359) ~[patched_1.8.8.jar:git-PandaSpigot-82]\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getFieldAdapter(ReflectiveTypeAdapterFactory.java:122) ~[patched_1.8.8.jar:git-PandaSpigot-82]\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.access$100(ReflectiveTypeAdapterFactory.java:46) ~[patched_1.8.8.jar:git-PandaSpigot-82]\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.&lt;init&gt;(ReflectiveTypeAdapterFactory.java:92) ~[patched_1.8.8.jar:git-PandaSpigot-82]\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:91) ~[patched_1.8.8.jar:git-PandaSpigot-82]\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:142) ~[patched_1.8.8.jar:git-PandaSpigot-82]\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:83) ~[patched_1.8.8.jar:git-PandaSpigot-82]\n        at com.google.gson.Gson.getAdapter(Gson.java:359) ~[patched_1.8.8.jar:git-PandaSpigot-82]\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getFieldAdapter(ReflectiveTypeAdapterFactory.java:122) ~[patched_1.8.8.jar:git-PandaSpigot-82]\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.access$100(ReflectiveTypeAdapterFactory.java:46) ~[patched_1.8.8.jar:git-PandaSpigot-82]\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.&lt;init&gt;(ReflectiveTypeAdapterFactory.java:92) ~[patched_1.8.8.jar:git-PandaSpigot-82]\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:91) ~[patched_1.8.8.jar:git-PandaSpigot-82]\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:142) ~[patched_1.8.8.jar:git-PandaSpigot-82]\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:83) ~[patched_1.8.8.jar:git-PandaSpigot-82]\n        at com.google.gson.Gson.getAdapter(Gson.java:359) ~[patched_1.8.8.jar:git-PandaSpigot-82]\n        at com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.write(TypeAdapterRuntimeTypeWrapper.java:55) ~[patched_1.8.8.jar:git-PandaSpigot-82]\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.write(ReflectiveTypeAdapterFactory.java:99) ~[patched_1.8.8.jar:git-PandaSpigot-82]\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.write(ReflectiveTypeAdapterFactory.java:219) ~[patched_1.8.8.jar:git-PandaSpigot-82]\n        at com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.write(TypeAdapterRuntimeTypeWrapper.java:68) ~[patched_1.8.8.jar:git-PandaSpigot-82]\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.write(ReflectiveTypeAdapterFactory.java:99) ~[patched_1.8.8.jar:git-PandaSpigot-82]\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.write(ReflectiveTypeAdapterFactory.java:219) ~[patched_1.8.8.jar:git-PandaSpigot-82]\n        at com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.write(TypeAdapterRuntimeTypeWrapper.java:68) ~[patched_1.8.8.jar:git-PandaSpigot-82]\n        at com.google.gson.internal.bind.CollectionTypeAdapterFactory$Adapter.write(CollectionTypeAdapterFactory.java:96) ~[patched_1.8.8.jar:git-PandaSpigot-82]\n        at com.google.gson.internal.bind.CollectionTypeAdapterFactory$Adapter.write(CollectionTypeAdapterFactory.java:60) ~[patched_1.8.8.jar:git-PandaSpigot-82]\n        at com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.write(TypeAdapterRuntimeTypeWrapper.java:68) ~[patched_1.8.8.jar:git-PandaSpigot-82]\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.write(ReflectiveTypeAdapterFactory.java:99) ~[patched_1.8.8.jar:git-PandaSpigot-82]\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.write(ReflectiveTypeAdapterFactory.java:219) ~[patched_1.8.8.jar:git-PandaSpigot-82]\n        at com.google.gson.Gson.toJson(Gson.java:600) ~[patched_1.8.8.jar:git-PandaSpigot-82]\n        at com.google.gson.Gson.toJson(Gson.java:579) ~[patched_1.8.8.jar:git-PandaSpigot-82]\n        at com.google.gson.Gson.toJson(Gson.java:534) ~[patched_1.8.8.jar:git-PandaSpigot-82]\n        at com.google.gson.Gson.toJson(Gson.java:514) ~[patched_1.8.8.jar:git-PandaSpigot-82]\n        at com.luckywars.game.utils.MapDataSerializer.serialize(MapDataSerializer.java:12) ~[?:?]\n        at com.luckywars.game.database.dbs.MapDB.saveMapData(MapDB.java:40) ~[?:?]\n        at com.luckywars.game.setupwizard.Session.delete(Session.java:117) ~[?:?]\n        at com.luckywars.game.setupwizard.WizardManager.endSession(WizardManager.java:22) ~[?:?]\n        at com.luckywars.game.setupwizard.gui.ConfirmExitGui.handleClick(ConfirmExitGui.java:31) ~[?:?]\n        at com.luckywars.game.setupwizard.WizardListeners.onClick(WizardListeners.java:35) ~[?:?]\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n        at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]\n        at org.bukkit.plugin.java.JavaPluginLoader$1.execute(JavaPluginLoader.java:300) ~[patched_1.8.8.jar:git-PandaSpigot-82]\n        ... 17 more\n</code></pre>\n<p>I tried printing the cuboid before the error happened and it printed fine.</p>\n<p>I was expecting the cuboid to be null but it wasn't.</p>\n<p>My MapData class:</p>\n<p>`public class MapData {</p>\n<pre><code>public String name;\npublic List&lt;String&gt; authors;\n\npublic long lastEdit;\n\npublic List&lt;Pos&gt; luckyBlocks;\n\npublic List&lt;Pos&gt; spawnPoints;\npublic List&lt;Cuboid&gt; cages;\npublic Pos spectatorSpawn;\n\npublic MapData(String name, List&lt;String&gt; authors, long lastEdit, List&lt;Pos&gt; luckyBlocks, List&lt;Pos&gt; spawnPoints, List&lt;Cuboid&gt; cages, Pos spectatorSpawn) {\n    this.name = name;\n    this.authors = authors;\n    this.lastEdit = lastEdit;\n    this.luckyBlocks = luckyBlocks;\n    this.spawnPoints = spawnPoints;\n    this.cages = cages;\n    this.spectatorSpawn = spectatorSpawn;\n}\n\npublic String getName() {\n    return name;\n}\n\npublic List&lt;Pos&gt; getSpawnPoints() {\n    return spawnPoints;\n}\n\npublic List&lt;Cuboid&gt; getCages() {\n    return cages;\n}\n\npublic List&lt;Pos&gt; getLuckyBlocks() {\n    return luckyBlocks;\n}\n\npublic List&lt;String&gt; getAuthors() {\n    return authors;\n}\n\npublic long getLastEdit() {\n    return lastEdit;\n}\n\npublic void setLastEdit(long lastEdit) {\n    this.lastEdit = lastEdit;\n}\n\npublic Pos getSpectatorSpawn() {\n    return spectatorSpawn;\n}\n\npublic void setSpectatorSpawn(Pos spectatorSpawn) {\n    this.spectatorSpawn = spectatorSpawn;\n}\n</code></pre>\n<p>}</p>\n<p>My Session class:</p>\n<p>addCage method:</p>\n<p>public void addCage() {\nSelectionManager selectionManager = LuckyWars.getInstance().getSelectionManager();\nSelection selection = selectionManager.getSelection(player.getUniqueId());</p>\n<pre><code>    if (selection == null) {\n        player.sendMessage(MessageUtils.format(&quot;&amp;cYou have not even made any selections at all! make one by using the loc wand!&quot;));\n        return;\n    }\n\n    Location location1 = selection.getFirstPos();\n    Location location2 = selection.getSecondPos();\n\n    if (location1 == null) {\n        player.sendMessage(MessageUtils.format(&quot;&amp;cYour first pos selection is null!&quot;));\n        return;\n    }\n    if (location2 == null){\n        player.sendMessage(MessageUtils.format(&quot;&amp;cYour second pos selection is null!&quot;));\n        return;\n    }\n\n    if (data.cages.size() == GameMode.SOLO.getMaxPlayers()) {\n        player.sendMessage(MessageUtils.format(&quot;&amp;cYou cant add more than &quot; + GameMode.SOLO.getMaxPlayers() + &quot; cages!&quot;));\n        return;\n    }\n\n    Cuboid cuboid = new Cuboid(location1, location2, false);\n    this.data.getCages().add(cuboid);\n    player.sendMessage(MessageUtils.format(&quot;&amp;aSuccessfully added a cage!&quot;));\n    if (LuckyWars.getInstance().isDebugMessages()) {\n        System.out.println(cuboid);\n    }\n}`\n</code></pre>\n<p>session line from error:</p>\n<p><code>if(save){ data.setLastEdit(System.currentTimeMillis()); LuckyWars.getInstance().getMapDB().saveMapData(data.getName(), data); }</code></p>\n"},{"tags":["java","xml","rss"],"owner":{"account_id":28001366,"reputation":1,"user_id":21385569,"display_name":"Mike mitchko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678658691,"creation_date":1678658691,"question_id":75716654,"body_markdown":"Hey I am working on a code that asks for a valid RSS 2.0 feed and then prints out what is on the feed. I am using the link, https://news.yahoo.com/rss/ as a refernce to help see if the code is working. I think I am close but whenever I run it, it prints out the same title and link for only one of the items multiple times. If you could help me out in pointing out what is wrong in my code that would be greatly appreciated. Here is my code:\r\n\r\n\r\n\r\n                import components.simplereader.SimpleReader;\r\n                import components.simplereader.SimpleReader1L;\r\n                import components.simplewriter.SimpleWriter;\r\n                import components.simplewriter.SimpleWriter1L;\r\n                import components.xmltree.XMLTree;\r\n                import components.xmltree.XMLTree1;\r\n                \r\n                /**\r\n                 * This program inputs an XML RSS (version 2.0) feed from a given URL and\r\n                 * outputs various elements of the feed to the console.\r\n                 *\r\n                 * @author Put your name here\r\n                 *\r\n                 */\r\n                public final class RSSProcessing {\r\n                \r\n                    /**\r\n                     * Private constructor so this utility class cannot be instantiated.\r\n                     */\r\n                    private RSSProcessing() {\r\n                    }\r\n                \r\n                    /**\r\n                     * Finds the first occurrence of the given tag among the children of the\r\n                     * given {@code XMLTree} and return its index; returns -1 if not found.\r\n                     *\r\n                     * @param xml\r\n                     *            the {@code XMLTree} to search\r\n                     * @param tag\r\n                     *            the tag to look for\r\n                     * @return the index of the first child of the {@code XMLTree} matching the\r\n                     *         given tag or -1 if not found\r\n                     * @requires [the label of the root of xml is a tag]\r\n                     * @ensures &lt;pre&gt;\r\n                     * getChildElement =\r\n                     *  [the index of the first child of the {@code XMLTree} matching the\r\n                     *   given tag or -1 if not found]\r\n                     * &lt;/pre&gt;\r\n                     */\r\n                    private static int getChildElement(XMLTree xml, String tag) {\r\n                        assert xml != null : &quot;Violation of: xml is not null&quot;;\r\n                        assert tag != null : &quot;Violation of: tag is not null&quot;;\r\n                        assert xml.isTag() : &quot;Violation of: the label root of xml is a tag&quot;;\r\n                        int i = 0, number = -1;\r\n                        int xmlChild = xml.numberOfChildren();\r\n                        for (i = 0; i &lt; xmlChild; i++) {\r\n                            if (xml.child(i).label().equals(tag)) {\r\n                                number = i;\r\n                            }\r\n                        }\r\n                        return number;\r\n                    }\r\n                \r\n                    /**\r\n                     * Processes one news item and outputs the title, or the description if the\r\n                     * title is not present, and the link (if available) with appropriate\r\n                     * labels.\r\n                     *\r\n                     * @param item\r\n                     *            the news item\r\n                     * @param out\r\n                     *            the output stream\r\n                     * @return\r\n                     * @requires [the label of the root of item is an &lt;item&gt; tag] and\r\n                     *           out.is_open\r\n                     * @ensures out.content = #out.content * [the title (or description) and\r\n                     *          link]\r\n                     */\r\n                    private static void processItem(XMLTree item, SimpleWriter out) {\r\n                        assert item != null : &quot;Violation of: item is not null&quot;;\r\n                        assert out != null : &quot;Violation of: out is not null&quot;;\r\n                        assert item.isTag() &amp;&amp; item.label().equals(&quot;item&quot;) : &quot;&quot;\r\n                                + &quot;Violation of: the label root of item is an &lt;item&gt; tag&quot;;\r\n                        assert out.isOpen() : &quot;Violation of: out.is_open&quot;;\r\n                        int title = getChildElement(item, &quot;title&quot;);\r\n                        int link = getChildElement(item, &quot;link&quot;);\r\n                        int description = getChildElement(item, &quot;descrition&quot;);\r\n                        int childNumb = 0;\r\n                        while (childNumb &lt; item.numberOfChildren()) {\r\n                            if (getChildElement(item, &quot;title&quot;) &gt; -1\r\n                                    &amp;&amp; item.numberOfChildren() &gt; 0) { //checks for title\r\n                                out.println(item.child(title).label() + &quot;: &quot;\r\n                                        + item.child(title).child(0).label());\r\n                            } else if (getChildElement(item, &quot;title&quot;) &gt; -1) {\r\n                                out.println(item.child(title).label());\r\n                            }\r\n                \r\n                            if (getChildElement(item, &quot;descrition&quot;) &gt; -1\r\n                                    &amp;&amp; item.numberOfChildren() &gt; 0) { //checks for description\r\n                                out.println(item.child(description).label() + &quot;: &quot;\r\n                                        + item.child(description).child(0).label());\r\n                            } else if (getChildElement(item, &quot;descrition&quot;) &gt; -1) {\r\n                                out.println(item.child(title).label());\r\n                            }\r\n                \r\n                            if (getChildElement(item, &quot;link&quot;) &gt; -1) { //checks for link\r\n                                out.println(item.child(link).label() + &quot;: &quot;\r\n                                        + item.child(link).child(0).label());\r\n                            }\r\n                            childNumb++;\r\n                \r\n                        }\r\n                 \r\n                    }\r\n                \r\n                    /**\r\n                     * Main method.\r\n                     *\r\n                     * @param args\r\n                     *            the command line arguments; unused here\r\n                     */\r\n                    public static void main(String[] args) {\r\n                        /*\r\n                         * Open I/O streams.\r\n                         */\r\n                        SimpleReader in = new SimpleReader1L();\r\n                        SimpleWriter out = new SimpleWriter1L();\r\n                        /*\r\n                         * Input the source URL.\r\n                         */\r\n                        out.print(&quot;Enter the URL of an RSS 2.0 news feed: &quot;);\r\n                        String url = in.nextLine();\r\n                        /*\r\n                         * Read XML input and initialize XMLTree. If input is not legal XML,\r\n                         * this statement will fail.\r\n                         */\r\n                        XMLTree xml = new XMLTree1(url);\r\n                        /*\r\n                         * Extract &lt;channel&gt; element.\r\n                         */\r\n                        XMLTree channel = xml.child(0);\r\n                        String[] channelChild = { &quot;title&quot;, &quot;description&quot;, &quot;link&quot; };\r\n                        int[] childs = new int[3];\r\n                        for (int i = 0; i &lt; 3; i++) {\r\n                            int channelIndex = getChildElement(channel, channelChild[i]);\r\n                            childs[i] = channelIndex;\r\n                            if (channel.child(channelIndex).numberOfChildren() &gt; 0) {\r\n                                out.print(channel.child(channelIndex).label() + &quot;: &quot;);\r\n                                out.println(channel.child(channelIndex).child(0).label());\r\n                            }\r\n                        }\r\n                        int beginningItem = getChildElement(channel, &quot;item&quot;);\r\n                        for (int i = beginningItem; i &lt; channel.numberOfChildren(); i++) {\r\n                            XMLTree items = channel.child(i);\r\n                            if (getChildElement(items, &quot;title&quot;) &gt; -1\r\n                                    || getChildElement(items, &quot;description&quot;) &gt; -1) {\r\n                                processItem(items, out);\r\n                \r\n                            }\r\n                        }\r\n                \r\n                        /*\r\n                         * TODO: #4 - for each item, output title (or description, if title is\r\n                         * not available) and link (if available)\r\n                         */\r\n                \r\n                        /*\r\n                         * Close I/O streams.\r\n                         */\r\n                        in.close();\r\n                        out.close();\r\n                    }\r\n                \r\n                }\r\nI tried rewriting the code and from what I have it makes sense but I have no idea why it outprints the same item a bunch of times.","title":"XMLTree RSS Processor","body":"<p>Hey I am working on a code that asks for a valid RSS 2.0 feed and then prints out what is on the feed. I am using the link, <a href=\"https://news.yahoo.com/rss/\" rel=\"nofollow noreferrer\">https://news.yahoo.com/rss/</a> as a refernce to help see if the code is working. I think I am close but whenever I run it, it prints out the same title and link for only one of the items multiple times. If you could help me out in pointing out what is wrong in my code that would be greatly appreciated. Here is my code:</p>\n<pre><code>            import components.simplereader.SimpleReader;\n            import components.simplereader.SimpleReader1L;\n            import components.simplewriter.SimpleWriter;\n            import components.simplewriter.SimpleWriter1L;\n            import components.xmltree.XMLTree;\n            import components.xmltree.XMLTree1;\n            \n            /**\n             * This program inputs an XML RSS (version 2.0) feed from a given URL and\n             * outputs various elements of the feed to the console.\n             *\n             * @author Put your name here\n             *\n             */\n            public final class RSSProcessing {\n            \n                /**\n                 * Private constructor so this utility class cannot be instantiated.\n                 */\n                private RSSProcessing() {\n                }\n            \n                /**\n                 * Finds the first occurrence of the given tag among the children of the\n                 * given {@code XMLTree} and return its index; returns -1 if not found.\n                 *\n                 * @param xml\n                 *            the {@code XMLTree} to search\n                 * @param tag\n                 *            the tag to look for\n                 * @return the index of the first child of the {@code XMLTree} matching the\n                 *         given tag or -1 if not found\n                 * @requires [the label of the root of xml is a tag]\n                 * @ensures &lt;pre&gt;\n                 * getChildElement =\n                 *  [the index of the first child of the {@code XMLTree} matching the\n                 *   given tag or -1 if not found]\n                 * &lt;/pre&gt;\n                 */\n                private static int getChildElement(XMLTree xml, String tag) {\n                    assert xml != null : &quot;Violation of: xml is not null&quot;;\n                    assert tag != null : &quot;Violation of: tag is not null&quot;;\n                    assert xml.isTag() : &quot;Violation of: the label root of xml is a tag&quot;;\n                    int i = 0, number = -1;\n                    int xmlChild = xml.numberOfChildren();\n                    for (i = 0; i &lt; xmlChild; i++) {\n                        if (xml.child(i).label().equals(tag)) {\n                            number = i;\n                        }\n                    }\n                    return number;\n                }\n            \n                /**\n                 * Processes one news item and outputs the title, or the description if the\n                 * title is not present, and the link (if available) with appropriate\n                 * labels.\n                 *\n                 * @param item\n                 *            the news item\n                 * @param out\n                 *            the output stream\n                 * @return\n                 * @requires [the label of the root of item is an &lt;item&gt; tag] and\n                 *           out.is_open\n                 * @ensures out.content = #out.content * [the title (or description) and\n                 *          link]\n                 */\n                private static void processItem(XMLTree item, SimpleWriter out) {\n                    assert item != null : &quot;Violation of: item is not null&quot;;\n                    assert out != null : &quot;Violation of: out is not null&quot;;\n                    assert item.isTag() &amp;&amp; item.label().equals(&quot;item&quot;) : &quot;&quot;\n                            + &quot;Violation of: the label root of item is an &lt;item&gt; tag&quot;;\n                    assert out.isOpen() : &quot;Violation of: out.is_open&quot;;\n                    int title = getChildElement(item, &quot;title&quot;);\n                    int link = getChildElement(item, &quot;link&quot;);\n                    int description = getChildElement(item, &quot;descrition&quot;);\n                    int childNumb = 0;\n                    while (childNumb &lt; item.numberOfChildren()) {\n                        if (getChildElement(item, &quot;title&quot;) &gt; -1\n                                &amp;&amp; item.numberOfChildren() &gt; 0) { //checks for title\n                            out.println(item.child(title).label() + &quot;: &quot;\n                                    + item.child(title).child(0).label());\n                        } else if (getChildElement(item, &quot;title&quot;) &gt; -1) {\n                            out.println(item.child(title).label());\n                        }\n            \n                        if (getChildElement(item, &quot;descrition&quot;) &gt; -1\n                                &amp;&amp; item.numberOfChildren() &gt; 0) { //checks for description\n                            out.println(item.child(description).label() + &quot;: &quot;\n                                    + item.child(description).child(0).label());\n                        } else if (getChildElement(item, &quot;descrition&quot;) &gt; -1) {\n                            out.println(item.child(title).label());\n                        }\n            \n                        if (getChildElement(item, &quot;link&quot;) &gt; -1) { //checks for link\n                            out.println(item.child(link).label() + &quot;: &quot;\n                                    + item.child(link).child(0).label());\n                        }\n                        childNumb++;\n            \n                    }\n             \n                }\n            \n                /**\n                 * Main method.\n                 *\n                 * @param args\n                 *            the command line arguments; unused here\n                 */\n                public static void main(String[] args) {\n                    /*\n                     * Open I/O streams.\n                     */\n                    SimpleReader in = new SimpleReader1L();\n                    SimpleWriter out = new SimpleWriter1L();\n                    /*\n                     * Input the source URL.\n                     */\n                    out.print(&quot;Enter the URL of an RSS 2.0 news feed: &quot;);\n                    String url = in.nextLine();\n                    /*\n                     * Read XML input and initialize XMLTree. If input is not legal XML,\n                     * this statement will fail.\n                     */\n                    XMLTree xml = new XMLTree1(url);\n                    /*\n                     * Extract &lt;channel&gt; element.\n                     */\n                    XMLTree channel = xml.child(0);\n                    String[] channelChild = { &quot;title&quot;, &quot;description&quot;, &quot;link&quot; };\n                    int[] childs = new int[3];\n                    for (int i = 0; i &lt; 3; i++) {\n                        int channelIndex = getChildElement(channel, channelChild[i]);\n                        childs[i] = channelIndex;\n                        if (channel.child(channelIndex).numberOfChildren() &gt; 0) {\n                            out.print(channel.child(channelIndex).label() + &quot;: &quot;);\n                            out.println(channel.child(channelIndex).child(0).label());\n                        }\n                    }\n                    int beginningItem = getChildElement(channel, &quot;item&quot;);\n                    for (int i = beginningItem; i &lt; channel.numberOfChildren(); i++) {\n                        XMLTree items = channel.child(i);\n                        if (getChildElement(items, &quot;title&quot;) &gt; -1\n                                || getChildElement(items, &quot;description&quot;) &gt; -1) {\n                            processItem(items, out);\n            \n                        }\n                    }\n            \n                    /*\n                     * TODO: #4 - for each item, output title (or description, if title is\n                     * not available) and link (if available)\n                     */\n            \n                    /*\n                     * Close I/O streams.\n                     */\n                    in.close();\n                    out.close();\n                }\n            \n            }\n</code></pre>\n<p>I tried rewriting the code and from what I have it makes sense but I have no idea why it outprints the same item a bunch of times.</p>\n"},{"tags":["java","maven","apache-flink"],"comments":[{"owner":{"account_id":12191873,"reputation":3799,"user_id":8899044,"display_name":"Dominik Wosiński"},"score":0,"creation_date":1678625746,"post_id":75702431,"comment_id":133566162,"body_markdown":"Can You paste the whole pom? Seems that You just pasted part of it.","body":"Can You paste the whole pom? Seems that You just pasted part of it."},{"owner":{"account_id":27987708,"reputation":1,"user_id":21374191,"display_name":"niccolonator"},"score":0,"creation_date":1678658529,"post_id":75702431,"comment_id":133571834,"body_markdown":"Yeah, sorry. Now the pom is complete","body":"Yeah, sorry. Now the pom is complete"},{"owner":{"account_id":12191873,"reputation":3799,"user_id":8899044,"display_name":"Dominik Wosiński"},"score":0,"creation_date":1678705699,"post_id":75702431,"comment_id":133579194,"body_markdown":"I don&#39;t think `flink-connector-kafka` should be `provided` btw.","body":"I don&#39;t think <code>flink-connector-kafka</code> should be <code>provided</code> btw."},{"owner":{"account_id":5449795,"reputation":2687,"user_id":6352160,"accept_rate":75,"display_name":"Shankar"},"score":0,"creation_date":1678763325,"post_id":75702431,"comment_id":133592631,"body_markdown":"Have you tried using the maven template given in the docs? https://nightlies.apache.org/flink/flink-docs-release-1.16/docs/dev/configuration/maven/#template-for-creating-an-uberfat-jar-with-dependencies","body":"Have you tried using the maven template given in the docs? <a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.16/docs/dev/configuration/maven/#template-for-creating-an-uberfat-jar-with-dependencies\" rel=\"nofollow noreferrer\">nightlies.apache.org/flink/flink-docs-release-1.16/docs/dev/&zwnj;&#8203;&hellip;</a>"}],"owner":{"account_id":27987708,"reputation":1,"user_id":21374191,"display_name":"niccolonator"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":537,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678658426,"creation_date":1678501591,"question_id":75702431,"body_markdown":"I&#39;m having an error with Apache Flink. I built the jar for the project from Eclipse both through maven install feature and mvn clean package(using aven-assembly-plugin dependency). I tried to run the command ./bin/flink run -c tbdm.kafka_flink_integration.Flink_Kafka_Receiver_Sender ./flink-kafka.jar from the main flink folder, but then this error occurs:\r\n\r\nThe program finished with the following exception:\r\n\r\n`java.lang.RuntimeException: Could not look up the main(String[]) method from the class tbdm.kafka_flink_integration.Flink_Kafka_Receiver_Sender: org/apache/flink/streaming/connectors/kafka/FlinkKafkaProducer \tat org.apache.flink.client.program.PackagedProgram.hasMainMethod(PackagedProgram.java:315) and so on...`\r\n\r\n\r\nI&#39;m using flink 1.16.1 and all the dependencies for flink are 1.16.1. I also tried to fix following the similar already existing topics,but i did not manage to do it.\r\nI used Java to build the code\r\n\r\nThis is my main java class which gets data from kafka topic, capitalize it and store it to a mongodb database:\r\n\r\n```\r\n`package tbdm.kafka_flink_integration;\r\n\r\nimport java.util.Properties;\r\n\r\nimport org.apache.flink.api.common.functions.MapFunction;\r\nimport org.apache.flink.api.common.serialization.SimpleStringSchema;\r\nimport org.apache.flink.streaming.api.datastream.DataStream;\r\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\r\nimport org.apache.flink.streaming.connectors.kafka.FlinkKafkaConsumer;\r\nimport org.apache.flink.streaming.connectors.kafka.FlinkKafkaProducer;\r\n\r\nimport com.mongodb.BasicDBObject;\r\nimport com.mongodb.DB;\r\n//import com.mongodb.MongoClient;\r\nimport com.mongodb.client.MongoClient;\r\n//import com.mongodb.MongoClientURI;\r\nimport com.mongodb.client.MongoCollection;\r\nimport com.mongodb.client.MongoDatabase;\r\nimport com.mongodb.client.MongoClients;\r\nimport org.bson.Document;\r\n\r\n\r\npublic class Flink_Kafka_Receiver_Sender {\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t/*try {\r\n\t\t\tMongoClient mongoClient = new MongoClient(&quot;localhost&quot;, 27017);\r\n\t\t\tDB db = new DB(mongoClient, &quot;testdb&quot;);\r\n\t\t\tSystem.out.println(&quot;Connected do MongoDB&quot;);\r\n\t\t} catch(Exception e){\r\n\t\t\tSystem.out.println(e);\r\n\t\t}*/\r\n\t\tString inputTopic = &quot;flink_input&quot;;\r\n\t\tString outputTopic = &quot;flink_output&quot;;\r\n\t\tString server = &quot;localhost:9092&quot;;\r\n\t\tStreamStringOperation(server, inputTopic, outputTopic);\r\n\t}\r\n\t\r\n\tpublic static void StreamStringOperation(String server, String inputTopic, String outputTopic) throws Exception {\r\n\t    StreamExecutionEnvironment environment = StreamExecutionEnvironment.getExecutionEnvironment();\r\n\t    Properties props = new Properties();\r\n\t    props.setProperty(&quot;bootstrap.servers&quot;, server);\r\n\r\n\t    FlinkKafkaConsumer&lt;String&gt; flinkKafkaConsumer = new FlinkKafkaConsumer&lt;&gt;(inputTopic, new SimpleStringSchema(), props);\r\n\t    FlinkKafkaProducer&lt;String&gt; flinkKafkaProducer = new FlinkKafkaProducer&lt;&gt;(server, outputTopic, new SimpleStringSchema());\r\n\r\n\t    DataStream&lt;String&gt; stringInputStream = environment.addSource(flinkKafkaConsumer);\r\n\t    stringInputStream.map(new StringCapitalizer()).addSink(flinkKafkaProducer);\r\n\t    environment.execute();\r\n\t}\r\n\r\n\t\r\n\tpublic static class StringCapitalizer implements MapFunction&lt;String, String&gt; {\r\n\t    @Override\r\n\t    public String map(String data) throws Exception {\r\n\t    \tSystem.out.println(data.toUpperCase());\r\n\t    \t// Creazione della connessione al database\r\n\t    \tMongoClient mongoClient = MongoClients.create(&quot;mongodb://localhost:27017&quot;);\r\n\t        MongoDatabase database = mongoClient.getDatabase(&quot;myDatabase&quot;);\r\n\t        \r\n\t        // Selezione della collection su cui effettuare l&#39;operazione di inserimento\r\n\t        MongoCollection&lt;Document&gt; collection = database.getCollection(&quot;myCollection&quot;);\r\n\t        \r\n\t        // Creazione di un documento da inserire nel database\r\n\t        Document document = new Document();\r\n\t        document.append(&quot;stringa&quot;, data.toUpperCase());\r\n\t        \r\n\t        // Inserimento del documento nella collection\r\n\t        collection.insertOne(document);\r\n\t        return data.toUpperCase();\r\n\t    }\r\n\t}\r\n\r\n\tpublic static void StreamConsumer(String inputTopic, String server) throws Exception {\r\n        StreamExecutionEnvironment environment = StreamExecutionEnvironment.getExecutionEnvironment();\r\n        Properties props = new Properties();\r\n        props.setProperty(&quot;bootstrap.servers&quot;, server);\r\n\r\n        \r\n\t\tDataStream&lt;String&gt; stringInputStream = environment.addSource(new FlinkKafkaConsumer&lt;String&gt;(inputTopic, new SimpleStringSchema(), props));\r\n\r\n        stringInputStream.map(new MapFunction&lt;String, String&gt;() {\r\n            private static final long serialVersionUID = -999736771747691234L;\r\n\r\n            public String map(String value) throws Exception {\r\n                return &quot;Receiving from Kafka : &quot; + value;\r\n            }\r\n        }).print();\r\n\r\n        environment.execute();\r\n    }\r\n\t\r\n\tpublic static FlinkKafkaProducer&lt;String&gt; createStringProducer(String output_topic, String kafkaAddress) {\r\n\r\n\t\tProperties props = new Properties();\r\n\t\tprops.setProperty(&quot;bootstrap.servers&quot;, kafkaAddress);\r\n\r\n\t\treturn new FlinkKafkaProducer&lt;String&gt;(output_topic, new SimpleStringSchema(), props);\r\n\t}\r\n\t\r\n}`\r\n\r\n```\r\n&lt;/code&gt;\r\n\r\nAnd this is the pom.xml\r\n\r\n\r\n````\r\n`&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;tbdm&lt;/groupId&gt;\r\n  &lt;artifactId&gt;kafka-flink-integration&lt;/artifactId&gt;\r\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\r\n  &lt;name&gt;kafka-flink-integration&lt;/name&gt;\r\n  &lt;!-- FIXME change it to the project&#39;s website --&gt;\r\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;4.11&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n      &lt;artifactId&gt;flink-core&lt;/artifactId&gt;\r\n      &lt;version&gt;1.16.1&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n      &lt;artifactId&gt;flink-connector-kafka&lt;/artifactId&gt;\r\n      &lt;version&gt;1.16.1&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n      &lt;artifactId&gt;flink-streaming-java&lt;/artifactId&gt;\r\n      &lt;version&gt;1.16.1&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;flink-clients&lt;/artifactId&gt;\r\n\t    &lt;version&gt;1.16.1&lt;/version&gt;\r\n\t    &lt;scope&gt;provided&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\t\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\r\n\t    &lt;version&gt;3.12.12&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\r\n  &lt;/dependencies&gt;\r\n&lt;build&gt;\r\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n      &lt;plugins&gt;\r\n        &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.22.1&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.5.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.8.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.7.1&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n\t    &lt;plugin&gt;\r\n\t      &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n\t      &lt;version&gt;3.5.0&lt;/version&gt;\r\n\t      &lt;configuration&gt;\r\n\t        &lt;archive&gt;\r\n\t          &lt;manifest&gt;\r\n\t             &lt;mainClass&gt;tbdm.kafka_flink_integration.Flink_Kafka_Receiver_Sender&lt;/mainClass&gt;\r\n\t          &lt;/manifest&gt;\r\n\t        &lt;/archive&gt;\r\n\t        &lt;descriptorRefs&gt;\r\n\t          &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n\t        &lt;/descriptorRefs&gt;\r\n\t      &lt;/configuration&gt;\r\n\t      &lt;executions&gt;\r\n\t        &lt;execution&gt;\r\n\t          &lt;id&gt;make-assembly&lt;/id&gt; &lt;!-- this is used for inheritance merges --&gt;\r\n\t          &lt;phase&gt;package&lt;/phase&gt; &lt;!-- bind to the packaging phase --&gt;\r\n\t          &lt;goals&gt;\r\n\t            &lt;goal&gt;single&lt;/goal&gt;\r\n\t          &lt;/goals&gt;\r\n\t        &lt;/execution&gt;\r\n\t      &lt;/executions&gt;\r\n\t    &lt;/plugin&gt;\r\n\r\n      &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;`\r\n````\r\n\r\nThe program works if run on eclipse itself, but can&#39;t run the jar on flink\r\n\r\nI&#39;m running Apache Flink in the same local machine (ubuntu), so i can also access to the gui dashboard by accessing the localhost:8081 page, but i can&#39;t even load the jar from there.","title":"Apache Flink error while trying to run a job from a jar - Can&#39;t find the main(String[])","body":"<p>I'm having an error with Apache Flink. I built the jar for the project from Eclipse both through maven install feature and mvn clean package(using aven-assembly-plugin dependency). I tried to run the command ./bin/flink run -c tbdm.kafka_flink_integration.Flink_Kafka_Receiver_Sender ./flink-kafka.jar from the main flink folder, but then this error occurs:</p>\n<p>The program finished with the following exception:</p>\n<p><code>java.lang.RuntimeException: Could not look up the main(String[]) method from the class tbdm.kafka_flink_integration.Flink_Kafka_Receiver_Sender: org/apache/flink/streaming/connectors/kafka/FlinkKafkaProducer    at org.apache.flink.client.program.PackagedProgram.hasMainMethod(PackagedProgram.java:315) and so on...</code></p>\n<p>I'm using flink 1.16.1 and all the dependencies for flink are 1.16.1. I also tried to fix following the similar already existing topics,but i did not manage to do it.\nI used Java to build the code</p>\n<p>This is my main java class which gets data from kafka topic, capitalize it and store it to a mongodb database:</p>\n<pre><code>`package tbdm.kafka_flink_integration;\n\nimport java.util.Properties;\n\nimport org.apache.flink.api.common.functions.MapFunction;\nimport org.apache.flink.api.common.serialization.SimpleStringSchema;\nimport org.apache.flink.streaming.api.datastream.DataStream;\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\nimport org.apache.flink.streaming.connectors.kafka.FlinkKafkaConsumer;\nimport org.apache.flink.streaming.connectors.kafka.FlinkKafkaProducer;\n\nimport com.mongodb.BasicDBObject;\nimport com.mongodb.DB;\n//import com.mongodb.MongoClient;\nimport com.mongodb.client.MongoClient;\n//import com.mongodb.MongoClientURI;\nimport com.mongodb.client.MongoCollection;\nimport com.mongodb.client.MongoDatabase;\nimport com.mongodb.client.MongoClients;\nimport org.bson.Document;\n\n\npublic class Flink_Kafka_Receiver_Sender {\n\n    public static void main(String[] args) throws Exception {\n        // TODO Auto-generated method stub\n        /*try {\n            MongoClient mongoClient = new MongoClient(&quot;localhost&quot;, 27017);\n            DB db = new DB(mongoClient, &quot;testdb&quot;);\n            System.out.println(&quot;Connected do MongoDB&quot;);\n        } catch(Exception e){\n            System.out.println(e);\n        }*/\n        String inputTopic = &quot;flink_input&quot;;\n        String outputTopic = &quot;flink_output&quot;;\n        String server = &quot;localhost:9092&quot;;\n        StreamStringOperation(server, inputTopic, outputTopic);\n    }\n    \n    public static void StreamStringOperation(String server, String inputTopic, String outputTopic) throws Exception {\n        StreamExecutionEnvironment environment = StreamExecutionEnvironment.getExecutionEnvironment();\n        Properties props = new Properties();\n        props.setProperty(&quot;bootstrap.servers&quot;, server);\n\n        FlinkKafkaConsumer&lt;String&gt; flinkKafkaConsumer = new FlinkKafkaConsumer&lt;&gt;(inputTopic, new SimpleStringSchema(), props);\n        FlinkKafkaProducer&lt;String&gt; flinkKafkaProducer = new FlinkKafkaProducer&lt;&gt;(server, outputTopic, new SimpleStringSchema());\n\n        DataStream&lt;String&gt; stringInputStream = environment.addSource(flinkKafkaConsumer);\n        stringInputStream.map(new StringCapitalizer()).addSink(flinkKafkaProducer);\n        environment.execute();\n    }\n\n    \n    public static class StringCapitalizer implements MapFunction&lt;String, String&gt; {\n        @Override\n        public String map(String data) throws Exception {\n            System.out.println(data.toUpperCase());\n            // Creazione della connessione al database\n            MongoClient mongoClient = MongoClients.create(&quot;mongodb://localhost:27017&quot;);\n            MongoDatabase database = mongoClient.getDatabase(&quot;myDatabase&quot;);\n            \n            // Selezione della collection su cui effettuare l'operazione di inserimento\n            MongoCollection&lt;Document&gt; collection = database.getCollection(&quot;myCollection&quot;);\n            \n            // Creazione di un documento da inserire nel database\n            Document document = new Document();\n            document.append(&quot;stringa&quot;, data.toUpperCase());\n            \n            // Inserimento del documento nella collection\n            collection.insertOne(document);\n            return data.toUpperCase();\n        }\n    }\n\n    public static void StreamConsumer(String inputTopic, String server) throws Exception {\n        StreamExecutionEnvironment environment = StreamExecutionEnvironment.getExecutionEnvironment();\n        Properties props = new Properties();\n        props.setProperty(&quot;bootstrap.servers&quot;, server);\n\n        \n        DataStream&lt;String&gt; stringInputStream = environment.addSource(new FlinkKafkaConsumer&lt;String&gt;(inputTopic, new SimpleStringSchema(), props));\n\n        stringInputStream.map(new MapFunction&lt;String, String&gt;() {\n            private static final long serialVersionUID = -999736771747691234L;\n\n            public String map(String value) throws Exception {\n                return &quot;Receiving from Kafka : &quot; + value;\n            }\n        }).print();\n\n        environment.execute();\n    }\n    \n    public static FlinkKafkaProducer&lt;String&gt; createStringProducer(String output_topic, String kafkaAddress) {\n\n        Properties props = new Properties();\n        props.setProperty(&quot;bootstrap.servers&quot;, kafkaAddress);\n\n        return new FlinkKafkaProducer&lt;String&gt;(output_topic, new SimpleStringSchema(), props);\n    }\n    \n}`\n\n</code></pre>\n\n<p>And this is the pom.xml</p>\n<pre><code>`&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;tbdm&lt;/groupId&gt;\n  &lt;artifactId&gt;kafka-flink-integration&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n  &lt;name&gt;kafka-flink-integration&lt;/name&gt;\n  &lt;!-- FIXME change it to the project's website --&gt;\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.11&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n      &lt;artifactId&gt;flink-core&lt;/artifactId&gt;\n      &lt;version&gt;1.16.1&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n      &lt;artifactId&gt;flink-connector-kafka&lt;/artifactId&gt;\n      &lt;version&gt;1.16.1&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n      &lt;artifactId&gt;flink-streaming-java&lt;/artifactId&gt;\n      &lt;version&gt;1.16.1&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n        &lt;artifactId&gt;flink-clients&lt;/artifactId&gt;\n        &lt;version&gt;1.16.1&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n        &lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\n        &lt;version&gt;3.12.12&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n  &lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n      &lt;plugins&gt;\n        &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.8.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.22.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.5.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.8.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.7.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.5.0&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;archive&gt;\n              &lt;manifest&gt;\n                 &lt;mainClass&gt;tbdm.kafka_flink_integration.Flink_Kafka_Receiver_Sender&lt;/mainClass&gt;\n              &lt;/manifest&gt;\n            &lt;/archive&gt;\n            &lt;descriptorRefs&gt;\n              &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n            &lt;/descriptorRefs&gt;\n          &lt;/configuration&gt;\n          &lt;executions&gt;\n            &lt;execution&gt;\n              &lt;id&gt;make-assembly&lt;/id&gt; &lt;!-- this is used for inheritance merges --&gt;\n              &lt;phase&gt;package&lt;/phase&gt; &lt;!-- bind to the packaging phase --&gt;\n              &lt;goals&gt;\n                &lt;goal&gt;single&lt;/goal&gt;\n              &lt;/goals&gt;\n            &lt;/execution&gt;\n          &lt;/executions&gt;\n        &lt;/plugin&gt;\n\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n&lt;/project&gt;`\n</code></pre>\n<p>The program works if run on eclipse itself, but can't run the jar on flink</p>\n<p>I'm running Apache Flink in the same local machine (ubuntu), so i can also access to the gui dashboard by accessing the localhost:8081 page, but i can't even load the jar from there.</p>\n"},{"tags":["java","regex","user-interface"],"comments":[{"owner":{"account_id":24034349,"reputation":635,"user_id":18014805,"display_name":"Ramesh"},"score":0,"creation_date":1675661540,"post_id":75356917,"comment_id":132969626,"body_markdown":"can you provide some sample numbers?","body":"can you provide some sample numbers?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1675679388,"post_id":75356917,"comment_id":132974010,"body_markdown":"`&quot;\\\\d{1,2}(?:\\\\s+\\\\d{1,2}){4}\\\\s+\\\\d{1,2}&quot;` ought to do it","body":"<code>&quot;\\\\d{1,2}(?:\\\\s+\\\\d{1,2}){4}\\\\s+\\\\d{1,2}&quot;</code> ought to do it"},{"owner":{"account_id":7089168,"reputation":157141,"user_id":5424988,"display_name":"The fourth bird"},"score":0,"creation_date":1675715066,"post_id":75356917,"comment_id":132984849,"body_markdown":"Instead of all the checks for not valid, why not just check for a valid pattern with matches and `&quot;(?:\\\\d{1,2}\\\\h+){5}\\\\d{1,2}&quot;`","body":"Instead of all the checks for not valid, why not just check for a valid pattern with matches and <code>&quot;(?:\\\\d{1,2}\\\\h+){5}\\\\d{1,2}&quot;</code>"}],"answers":[{"tags":[],"owner":{"account_id":27345207,"reputation":81,"user_id":20855204,"display_name":"Sarkar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678658272,"creation_date":1678657694,"answer_id":75716582,"question_id":75356917,"body_markdown":"Use this code:\r\n```\r\npublic static String validateInput1(String numbers) {\r\n\t// Check if the input is emptyXj\r\n\tif (numbers == null || numbers.isEmpty()) {\r\n\t\treturn &quot;Error: Input cannot be empty&quot;;\r\n\t}\r\n\r\n\t// Check if there are any spaces before the first number or after the last\r\n\t// number\r\n\tif (numbers.matches(&quot;^\\\\s+\\\\d{1,2}(\\\\s+\\\\d{1,2}){5}$&quot;) \r\n\t\t\t|| numbers.matches(&quot;^\\\\d{1,2}(\\\\s+\\\\d{1,2}){5}\\\\s+$&quot;)\r\n\t\t\t|| numbers.matches(&quot;^\\\\s+\\\\d{1,2}(\\\\s+\\\\d{1,2}){5}\\\\s+$&quot;)) {\r\n\t\treturn &quot;Error: Cannot have spaces before the first number or after the last number&quot;;\r\n\t}\r\n\t// Check if all numbers are between 0 and 99 inclusive\r\n\telse if (!numbers.matches(&quot;^\\\\d{1,2}(\\\\s+\\\\d{1,2}){5}$&quot;)) {\r\n\t\treturn &quot;Error: All numbers must be between 0 and 99 inclusive&quot;;\r\n\t} else {\r\n\t\treturn &quot;&quot;;\r\n\t}\r\n}\r\n```\r\n**Reason** \\\r\nFor the &quot;Check if there are any spaces before the first number or after the last number&quot;, you used `if (!numbers.matches(&quot;^(?!\\\\s)\\\\d{1,2}( \\\\d{1,2})*(?!\\\\s)$&quot;))` \r\n\r\n - First `numbers.matches(&quot;^(?!\\\\s)\\\\d{1,2}( \\\\d{1,2})*(?!\\\\s)$&quot;)`\r\n   returns false because nothing is captured and as nothing gets captured it returns false and always gives `Error: Cannot have spaces before the first number or after the last number`\r\n - Second `(!numbers.matches(&quot;^(\\\\d{1,2} ){5}\\\\d{1,2}$&quot;))` is working fine but `numbers.matches(&quot;^(\\\\d{1,2} ){5}\\\\d{1,2}$&quot;)` will return as false for any 2 numbers seperated by more than one space which will give `Error: All numbers must be between 0 and 99 inclusive`\r\n\r\nAlso `.matches(String regex)` matches the whole string not a part of it so for the space check I have used \r\n```\r\nnumbers.matches(&quot;^\\\\s+\\\\d{1,2}(\\\\s+\\\\d{1,2}){5}$&quot;) || numbers.matches(&quot;^\\\\d{1,2}(\\\\s+\\\\d{1,2}){5}\\\\s+$&quot;) || numbers.matches(&quot;^\\\\s+\\\\d{1,2}(\\\\s+\\\\d{1,2}){5}\\\\s+$&quot;)\r\n```\r\nSo use the above code.","title":"Cannot get these regex matches to work correctly. How do I do this?","body":"<p>Use this code:</p>\n<pre><code>public static String validateInput1(String numbers) {\n    // Check if the input is emptyXj\n    if (numbers == null || numbers.isEmpty()) {\n        return &quot;Error: Input cannot be empty&quot;;\n    }\n\n    // Check if there are any spaces before the first number or after the last\n    // number\n    if (numbers.matches(&quot;^\\\\s+\\\\d{1,2}(\\\\s+\\\\d{1,2}){5}$&quot;) \n            || numbers.matches(&quot;^\\\\d{1,2}(\\\\s+\\\\d{1,2}){5}\\\\s+$&quot;)\n            || numbers.matches(&quot;^\\\\s+\\\\d{1,2}(\\\\s+\\\\d{1,2}){5}\\\\s+$&quot;)) {\n        return &quot;Error: Cannot have spaces before the first number or after the last number&quot;;\n    }\n    // Check if all numbers are between 0 and 99 inclusive\n    else if (!numbers.matches(&quot;^\\\\d{1,2}(\\\\s+\\\\d{1,2}){5}$&quot;)) {\n        return &quot;Error: All numbers must be between 0 and 99 inclusive&quot;;\n    } else {\n        return &quot;&quot;;\n    }\n}\n</code></pre>\n<p><strong>Reason</strong> <br />\nFor the &quot;Check if there are any spaces before the first number or after the last number&quot;, you used <code>if (!numbers.matches(&quot;^(?!\\\\s)\\\\d{1,2}( \\\\d{1,2})*(?!\\\\s)$&quot;))</code></p>\n<ul>\n<li>First <code>numbers.matches(&quot;^(?!\\\\s)\\\\d{1,2}( \\\\d{1,2})*(?!\\\\s)$&quot;)</code>\nreturns false because nothing is captured and as nothing gets captured it returns false and always gives <code>Error: Cannot have spaces before the first number or after the last number</code></li>\n<li>Second <code>(!numbers.matches(&quot;^(\\\\d{1,2} ){5}\\\\d{1,2}$&quot;))</code> is working fine but <code>numbers.matches(&quot;^(\\\\d{1,2} ){5}\\\\d{1,2}$&quot;)</code> will return as false for any 2 numbers seperated by more than one space which will give <code>Error: All numbers must be between 0 and 99 inclusive</code></li>\n</ul>\n<p>Also <code>.matches(String regex)</code> matches the whole string not a part of it so for the space check I have used</p>\n<pre><code>numbers.matches(&quot;^\\\\s+\\\\d{1,2}(\\\\s+\\\\d{1,2}){5}$&quot;) || numbers.matches(&quot;^\\\\d{1,2}(\\\\s+\\\\d{1,2}){5}\\\\s+$&quot;) || numbers.matches(&quot;^\\\\s+\\\\d{1,2}(\\\\s+\\\\d{1,2}){5}\\\\s+$&quot;)\n</code></pre>\n<p>So use the above code.</p>\n"}],"owner":{"account_id":27712288,"reputation":1,"user_id":21154713,"display_name":"Zach"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678658272,"creation_date":1675651369,"question_id":75356917,"body_markdown":"I am attempting to make a program run for homework. I have all of the other code written for the gui that everything is displayed in, but we are required to do checks on the input by using Regex&#39;s and going to see if they match. I need to check and make sure that there are 6 numbers 0-99 inclusive that are all separated by 1 or more spaces with no spaces at the beginning or end of the string.\r\n\r\nThe inputValidation method is where I am doing these checks. This is the code that I have so far.\r\n\r\n\r\n```\r\n    public String computeSum(String numbers) {\r\n        String errorMessage = validateInput(numbers);\r\n        if (!errorMessage.isEmpty()) {\r\n            return errorMessage;\r\n        }\r\n        int sum = 0;\r\n        String[] nums = numbers.split(&quot;\\s+&quot;);\r\n        for (int i = 0; i &lt; nums.length; i++) {\r\n            sum += Integer.parseInt(nums[i]);\r\n        }\r\n        return &quot;&quot; + sum;\r\n    }\r\n\r\n    public String validateInput(String numbers) {\r\n        // Check if the input is empty\r\n        if (numbers == null || numbers.isEmpty()) {\r\n            return &quot;Error: Input cannot be empty&quot;;\r\n        }\r\n\r\n        // Check if there are any spaces before the first number or after the last number\r\n        if (!numbers.matches(&quot;^(?!\\\\s)\\\\d{1,2}( \\\\d{1,2})*(?!\\\\s)$&quot;)) {\r\n            return &quot;Error: Cannot have spaces before the first number or after the last number&quot;;\r\n        }\r\n        // Check if all numbers are between 0 and 99 inclusive\r\n        else if (!numbers.matches(&quot;^(\\\\d{1,2} ){5}\\\\d{1,2}$&quot;)) {\r\n            return &quot;Error: All numbers must be between 0 and 99 inclusive&quot;;\r\n        }\r\n        else\r\n        {\r\n         return &quot;&quot;;   \r\n        }\r\n```\r\n\r\n\r\nAny help would be appreciated.\r\n\r\n\r\nI don&#39;t really know why my regex&#39;s aren&#39;t being detected correctly. Currently the &quot;Check if there are any spaces before the first number or after the last number&quot; check is going off correctly, but if I have a number that is greater than 99 inclusive, it shoots the same error message rather than the correct one with the specific check that I made.","title":"Cannot get these regex matches to work correctly. How do I do this?","body":"<p>I am attempting to make a program run for homework. I have all of the other code written for the gui that everything is displayed in, but we are required to do checks on the input by using Regex's and going to see if they match. I need to check and make sure that there are 6 numbers 0-99 inclusive that are all separated by 1 or more spaces with no spaces at the beginning or end of the string.</p>\n<p>The inputValidation method is where I am doing these checks. This is the code that I have so far.</p>\n<pre><code>    public String computeSum(String numbers) {\n        String errorMessage = validateInput(numbers);\n        if (!errorMessage.isEmpty()) {\n            return errorMessage;\n        }\n        int sum = 0;\n        String[] nums = numbers.split(&quot;\\s+&quot;);\n        for (int i = 0; i &lt; nums.length; i++) {\n            sum += Integer.parseInt(nums[i]);\n        }\n        return &quot;&quot; + sum;\n    }\n\n    public String validateInput(String numbers) {\n        // Check if the input is empty\n        if (numbers == null || numbers.isEmpty()) {\n            return &quot;Error: Input cannot be empty&quot;;\n        }\n\n        // Check if there are any spaces before the first number or after the last number\n        if (!numbers.matches(&quot;^(?!\\\\s)\\\\d{1,2}( \\\\d{1,2})*(?!\\\\s)$&quot;)) {\n            return &quot;Error: Cannot have spaces before the first number or after the last number&quot;;\n        }\n        // Check if all numbers are between 0 and 99 inclusive\n        else if (!numbers.matches(&quot;^(\\\\d{1,2} ){5}\\\\d{1,2}$&quot;)) {\n            return &quot;Error: All numbers must be between 0 and 99 inclusive&quot;;\n        }\n        else\n        {\n         return &quot;&quot;;   \n        }\n</code></pre>\n<p>Any help would be appreciated.</p>\n<p>I don't really know why my regex's aren't being detected correctly. Currently the &quot;Check if there are any spaces before the first number or after the last number&quot; check is going off correctly, but if I have a number that is greater than 99 inclusive, it shoots the same error message rather than the correct one with the specific check that I made.</p>\n"},{"tags":["java","spring","spring-boot","email","email-validation"],"comments":[{"owner":{"account_id":1947573,"reputation":6810,"user_id":1752366,"accept_rate":54,"display_name":"silentsudo"},"score":0,"creation_date":1608389376,"post_id":65370879,"comment_id":115571519,"body_markdown":"can you confirm that you get `ConstraintViolationException`?","body":"can you confirm that you get <code>ConstraintViolationException</code>?"},{"owner":{"account_id":13237860,"reputation":1577,"user_id":9559437,"display_name":"en Peris"},"score":0,"creation_date":1608392340,"post_id":65370879,"comment_id":115572362,"body_markdown":"No, I don&#39;t get nothing :-(","body":"No, I don&#39;t get nothing :-("}],"answers":[{"comments":[{"owner":{"account_id":13237860,"reputation":1577,"user_id":9559437,"display_name":"en Peris"},"score":0,"creation_date":1608394915,"post_id":65371615,"comment_id":115573160,"body_markdown":"I&#39;ve tried with this error: java.util.regex.PatternSyntaxException: Illegal repetition\n{(?:[a-z0-9!#$%&amp;&#39;*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&amp;&#39;*+/=?^_`{|}~-]+)*|&quot;(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*&quot;)@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])}\n\tat java.base/java.util.regex.Pattern.error(Pattern.java:2010)","body":"I&#39;ve tried with this error: java.util.regex.PatternSyntaxException: Illegal repetition {(?:[a-z0-9!#$%&amp;&#39;<i>+/=?^_<code>{|}~-]+(?:\\.[a-z0-9!#$%&amp;&#39;*+&#47;=?^_</code>{|}~-&zwnj;&#8203;]+)*|&quot;(?:[\\x01-\\x08\\&zwnj;&#8203;x0b\\x0c\\x0e-\\x1f\\x21&zwnj;&#8203;\\x23-\\x5b\\x5d-\\x7f]|&zwnj;&#8203;\\&#91;\\x01-\\x09\\x0b\\&zwnj;&#8203;x0c\\x0e-\\x7f])</i>&quot;)@(?:&zwnj;&#8203;(?:[a-z0-9](?:[a-z0-&zwnj;&#8203;9-]*[a-z0-9])?\\.)+[a&zwnj;&#8203;-z0-9](?:[a-z0-9-]*[&zwnj;&#8203;a-z0-9])?|&#91;(?:(?&zwnj;&#8203;:25[0-5]|2[0-4][0-9]&zwnj;&#8203;|[01]?[0-9][0-9]?)\\.&zwnj;&#8203;){3}(?:25[0-5]|2[0-4&zwnj;&#8203;][0-9]|[01]?[0-9][0-&zwnj;&#8203;9]?|[a-z0-9-]*[a-z0-&zwnj;&#8203;9]:(?:[\\x01-\\x08\\x0b&zwnj;&#8203;\\x0c\\x0e-\\x1f\\x21-\\x&zwnj;&#8203;5a\\x53-\\x7f]|\\&#91;\\&zwnj;&#8203;x01-\\x09\\x0b\\x0c\\x0e&zwnj;&#8203;-\\x7f])+)&#93;)} \tat java.base/java.util.regex.Pattern.error(Pattern.java:2010)"},{"owner":{"account_id":18858438,"reputation":2538,"user_id":13755857,"display_name":"Shawrup"},"score":1,"creation_date":1608395695,"post_id":65371615,"comment_id":115573371,"body_markdown":"I have tried the solution and it worked for me :( . I am adding my solution. I am using java 8 with spring boot 2.3.4","body":"I have tried the solution and it worked for me :( . I am adding my solution. I am using java 8 with spring boot 2.3.4"},{"owner":{"account_id":6428583,"reputation":6399,"user_id":4982691,"display_name":"jumping_monkey"},"score":0,"creation_date":1676444782,"post_id":65371615,"comment_id":133135786,"body_markdown":"I tried `perisava.util.Random@1d7f0036.com`, but it failed. This could be a valid email address.","body":"I tried <code>perisava.util.Random@1d7f0036.com</code>, but it failed. This could be a valid email address."}],"tags":[],"owner":{"account_id":18858438,"reputation":2538,"user_id":13755857,"display_name":"Shawrup"},"comment_count":3,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1678657675,"creation_date":1608393067,"answer_id":65371615,"question_id":65370879,"body_markdown":"`javax.validation.constraints.Email` annotation depends on `Jakarta Bean Validation providers` for validation. Hibernate Validator is the only compliant validator for this.\r\nBy default hibernate vaildator matches the email to regex `.*` unless you provide the regex yourself. Hibernate email validator source code is [here][1].\r\n\r\nOne solution is to provide your own email regex \r\n```\r\n@Email(message = &quot;Email is not valid&quot;, regexp = &quot;^[a-zA-Z0-9_!#$%&amp;&#39;*+/=?`{|}~^.-]+@[a-zA-Z0-9.-]+$&quot;)\r\n@NotEmpty(message = &quot;Email cannot be empty&quot;)\r\nprivate String email;\r\n```\r\nThe official standard is RFC 5322. But it does not cover all cases for modern emails. You can find more solutions [here][2]. Even then regex would be up to you to decide.\r\n\r\n\r\n  [1]: https://github.com/hibernate/hibernate-validator/blob/master/engine/src/main/java/org/hibernate/validator/internal/constraintvalidators/bv/EmailValidator.java?source=cc\r\n  [2]: https://www.baeldung.com/java-email-validation-regex#regular-expression-by-rfc-5322-for-email-validation","title":"javax.validation.constraints.Email in SpringBoot","body":"<p><code>javax.validation.constraints.Email</code> annotation depends on <code>Jakarta Bean Validation providers</code> for validation. Hibernate Validator is the only compliant validator for this.\nBy default hibernate vaildator matches the email to regex <code>.*</code> unless you provide the regex yourself. Hibernate email validator source code is <a href=\"https://github.com/hibernate/hibernate-validator/blob/master/engine/src/main/java/org/hibernate/validator/internal/constraintvalidators/bv/EmailValidator.java?source=cc\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>One solution is to provide your own email regex</p>\n<pre><code>@Email(message = &quot;Email is not valid&quot;, regexp = &quot;^[a-zA-Z0-9_!#$%&amp;'*+/=?`{|}~^.-]+@[a-zA-Z0-9.-]+$&quot;)\n@NotEmpty(message = &quot;Email cannot be empty&quot;)\nprivate String email;\n</code></pre>\n<p>The official standard is RFC 5322. But it does not cover all cases for modern emails. You can find more solutions <a href=\"https://www.baeldung.com/java-email-validation-regex#regular-expression-by-rfc-5322-for-email-validation\" rel=\"nofollow noreferrer\">here</a>. Even then regex would be up to you to decide.</p>\n"},{"tags":[],"owner":{"account_id":10206781,"reputation":179,"user_id":7535274,"display_name":"HaiZi"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1608395237,"creation_date":1608395237,"answer_id":65371946,"question_id":65370879,"body_markdown":"This problem is solved by viewing the source code. **@Email** annotation has an attribute **regexp()**, the default is&#39;.*&#39;. And it matches the characters you enter, you can write your own regular expression\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Rqa0A.png\r\n  [2]: https://i.stack.imgur.com/pWqx0.png","title":"javax.validation.constraints.Email in SpringBoot","body":"<p>This problem is solved by viewing the source code. <strong>@Email</strong> annotation has an attribute <strong>regexp()</strong>, the default is'.*'. And it matches the characters you enter, you can write your own regular expression\n<a href=\"https://i.stack.imgur.com/Rqa0A.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Rqa0A.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/pWqx0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pWqx0.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":6428583,"reputation":6399,"user_id":4982691,"display_name":"jumping_monkey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676619698,"creation_date":1676619698,"answer_id":75481412,"question_id":65370879,"body_markdown":"The regex in the accepted answer is hard to read and did not work for the use-case i was testing. Here&#39;s another regex that you can use:\r\n\r\n    private static final Pattern EMAIL = Pattern.compile(&quot;^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\\\.[A-Z]{2,6}$&quot;, Pattern.CASE_INSENSITIVE);\r\n    \r\n    public static boolean isEmail(String s) {\r\n        return EMAIL.matcher(s).matches();\r\n    }\r\n\r\nIt is simpler and it works well.","title":"javax.validation.constraints.Email in SpringBoot","body":"<p>The regex in the accepted answer is hard to read and did not work for the use-case i was testing. Here's another regex that you can use:</p>\n<pre><code>private static final Pattern EMAIL = Pattern.compile(&quot;^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\\\.[A-Z]{2,6}$&quot;, Pattern.CASE_INSENSITIVE);\n\npublic static boolean isEmail(String s) {\n    return EMAIL.matcher(s).matches();\n}\n</code></pre>\n<p>It is simpler and it works well.</p>\n"}],"owner":{"account_id":13237860,"reputation":1577,"user_id":9559437,"display_name":"en Peris"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32411,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":65371615,"answer_count":3,"score":5,"last_activity_date":1678657675,"creation_date":1608388396,"question_id":65370879,"body_markdown":"I have a bean with this validation:\r\n\r\n\t@Email(message = &quot;Email is not valid&quot;, regexp=&quot;{(?:[a-z0-9!#$%&amp;&#39;*+/=?^_`{|}~-]+(?:\\\\.[a-z0-9!#$%&amp;&#39;*+/=?^_`{|}~-]+)*|\\&quot;(?:[\\\\x01-\\\\x08\\\\x0b\\\\x0c\\\\x0e-\\\\x1f\\\\x21\\\\x23-\\\\x5b\\\\x5d-\\\\x7f]|\\\\\\\\[\\\\x01-\\\\x09\\\\x0b\\\\x0c\\\\x0e-\\\\x7f])*\\&quot;)@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\\\x01-\\\\x08\\\\x0b\\\\x0c\\\\x0e-\\\\x1f\\\\x21-\\\\x5a\\\\x53-\\\\x7f]|\\\\\\\\[\\\\x01-\\\\x09\\\\x0b\\\\x0c\\\\x0e-\\\\x7f])+)\\\\])}&quot;)\r\n\t@NotEmpty(message = &quot;Email cannot be empty&quot;)\r\n\tprivate String email;\r\n\r\nwhen the email is empty the message is fine, but when I enter this text\r\n\r\n    perisava.util.Random@1d7f0036\r\n\r\nno error is shown","title":"javax.validation.constraints.Email in SpringBoot","body":"<p>I have a bean with this validation:</p>\n<pre><code>@Email(message = &quot;Email is not valid&quot;, regexp=&quot;{(?:[a-z0-9!#$%&amp;'*+/=?^_`{|}~-]+(?:\\\\.[a-z0-9!#$%&amp;'*+/=?^_`{|}~-]+)*|\\&quot;(?:[\\\\x01-\\\\x08\\\\x0b\\\\x0c\\\\x0e-\\\\x1f\\\\x21\\\\x23-\\\\x5b\\\\x5d-\\\\x7f]|\\\\\\\\[\\\\x01-\\\\x09\\\\x0b\\\\x0c\\\\x0e-\\\\x7f])*\\&quot;)@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\\\x01-\\\\x08\\\\x0b\\\\x0c\\\\x0e-\\\\x1f\\\\x21-\\\\x5a\\\\x53-\\\\x7f]|\\\\\\\\[\\\\x01-\\\\x09\\\\x0b\\\\x0c\\\\x0e-\\\\x7f])+)\\\\])}&quot;)\n@NotEmpty(message = &quot;Email cannot be empty&quot;)\nprivate String email;\n</code></pre>\n<p>when the email is empty the message is fine, but when I enter this text</p>\n<pre><code>perisava.util.Random@1d7f0036\n</code></pre>\n<p>no error is shown</p>\n"},{"tags":["java","amazon-dynamodb","aws-cli"],"answers":[{"tags":[],"owner":{"account_id":23401113,"reputation":1486,"user_id":17464257,"display_name":"Alex Chadyuk"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1678637494,"creation_date":1678630227,"answer_id":75713692,"question_id":75713531,"body_markdown":"You cannot delete items in DynamoDB without providing the primary key (partition + sort).  \r\n\r\nYou would have to do the following:\r\n\r\n1. Create a GSI with the partition key `date` (call it `date-index`):\r\n```\r\naws dynamodb update-table \\\r\n    --table-name test-items \\\r\n    --attribute-definitions AttributeName=date,AttributeType=S  \\\r\n    --global-secondary-index-updates \\\r\n        &quot;[\r\n            {\r\n                \\&quot;Create\\&quot;: {\r\n                    \\&quot;IndexName\\&quot;: \\&quot;date-index\\&quot;,\r\n                    \\&quot;KeySchema\\&quot;: [{\\&quot;AttributeName\\&quot;:\\&quot;date\\&quot;,\\&quot;KeyType\\&quot;:\\&quot;HASH\\&quot;}],\r\n                    \\&quot;Projection\\&quot;:{\r\n                        \\&quot;ProjectionType\\&quot;:\\&quot;KEYS_ONLY\\&quot;\r\n                    }\r\n                }\r\n            }\r\n        ]&quot;\r\n``` \r\n\r\n2.  [Query][1] the table for the items you want to remove \r\n```\r\naws dynamodb query \\\r\n    --table-name test-items \\\r\n    --index-name date-index \\\r\n    --key-condition-expression &quot;#d = :badday&quot; \\\r\n    --expression-attribute-names &#39;{&quot;#d&quot;: &quot;date&quot;}&#39; \\\r\n    --expression-attribute-values  &#39;{&quot;:badday&quot;:{&quot;S&quot;:&quot;20220212&quot;}}&#39;\r\n```\r\nYou will get a list of items:\r\n```\r\n{\r\n    &quot;Items&quot;: [\r\n        {\r\n            &quot;date&quot;: {\r\n                &quot;S&quot;: &quot;20220212&quot;\r\n            },\r\n            &quot;personKey&quot;: {\r\n                &quot;S&quot;: &quot;456&quot;\r\n            }\r\n        },\r\n        {\r\n            &quot;date&quot;: {\r\n                &quot;S&quot;: &quot;20220212&quot;\r\n            },\r\n            &quot;personKey&quot;: {\r\n                &quot;S&quot;: &quot;123&quot;\r\n            }\r\n        }\r\n    ],\r\n    &quot;Count&quot;: 2,\r\n    &quot;ScannedCount&quot;: 2,\r\n    &quot;ConsumedCapacity&quot;: null\r\n}\r\n```\r\n3. Record the primary keys of the offending records. \r\n\r\n4. Delete them one-by-one:\r\n```\r\naws dynamodb delete-item \\\r\n    --table-name test-items \\\r\n    --key &#39;{&quot;personKey&quot;: {&quot;S&quot;: &quot;456&quot;}, &quot;date&quot;: {&quot;S&quot;: &quot;20220212&quot;}}&#39;\r\n```\r\n\r\nNote that a more cost-effective way to remove a large number of items from the table may be to copy the items you want to keep into a new table and then delete the old table.\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Query.html","title":"Delete Dynamo DB items in the Dynamo DB table using Sort Keys","body":"<p>You cannot delete items in DynamoDB without providing the primary key (partition + sort).</p>\n<p>You would have to do the following:</p>\n<ol>\n<li>Create a GSI with the partition key <code>date</code> (call it <code>date-index</code>):</li>\n</ol>\n<pre><code>aws dynamodb update-table \\\n    --table-name test-items \\\n    --attribute-definitions AttributeName=date,AttributeType=S  \\\n    --global-secondary-index-updates \\\n        &quot;[\n            {\n                \\&quot;Create\\&quot;: {\n                    \\&quot;IndexName\\&quot;: \\&quot;date-index\\&quot;,\n                    \\&quot;KeySchema\\&quot;: [{\\&quot;AttributeName\\&quot;:\\&quot;date\\&quot;,\\&quot;KeyType\\&quot;:\\&quot;HASH\\&quot;}],\n                    \\&quot;Projection\\&quot;:{\n                        \\&quot;ProjectionType\\&quot;:\\&quot;KEYS_ONLY\\&quot;\n                    }\n                }\n            }\n        ]&quot;\n</code></pre>\n<ol start=\"2\">\n<li><a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Query.html\" rel=\"nofollow noreferrer\">Query</a> the table for the items you want to remove</li>\n</ol>\n<pre><code>aws dynamodb query \\\n    --table-name test-items \\\n    --index-name date-index \\\n    --key-condition-expression &quot;#d = :badday&quot; \\\n    --expression-attribute-names '{&quot;#d&quot;: &quot;date&quot;}' \\\n    --expression-attribute-values  '{&quot;:badday&quot;:{&quot;S&quot;:&quot;20220212&quot;}}'\n</code></pre>\n<p>You will get a list of items:</p>\n<pre><code>{\n    &quot;Items&quot;: [\n        {\n            &quot;date&quot;: {\n                &quot;S&quot;: &quot;20220212&quot;\n            },\n            &quot;personKey&quot;: {\n                &quot;S&quot;: &quot;456&quot;\n            }\n        },\n        {\n            &quot;date&quot;: {\n                &quot;S&quot;: &quot;20220212&quot;\n            },\n            &quot;personKey&quot;: {\n                &quot;S&quot;: &quot;123&quot;\n            }\n        }\n    ],\n    &quot;Count&quot;: 2,\n    &quot;ScannedCount&quot;: 2,\n    &quot;ConsumedCapacity&quot;: null\n}\n</code></pre>\n<ol start=\"3\">\n<li><p>Record the primary keys of the offending records.</p>\n</li>\n<li><p>Delete them one-by-one:</p>\n</li>\n</ol>\n<pre><code>aws dynamodb delete-item \\\n    --table-name test-items \\\n    --key '{&quot;personKey&quot;: {&quot;S&quot;: &quot;456&quot;}, &quot;date&quot;: {&quot;S&quot;: &quot;20220212&quot;}}'\n</code></pre>\n<p>Note that a more cost-effective way to remove a large number of items from the table may be to copy the items you want to keep into a new table and then delete the old table.</p>\n"},{"tags":[],"owner":{"account_id":3409800,"reputation":8299,"user_id":2860032,"display_name":"Jason Wadsworth"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678657651,"creation_date":1678657651,"answer_id":75716576,"question_id":75713531,"body_markdown":"The answer to your question depends a bit on how much data is in the table and how often you’ll be doing this. If it’s going to be a regular part of your process then the answer that @alex-chadyuk gave is what you want. If this is a one time operation then I’d just use a Scan rather than a query and not add a GSI. If the dataset is small the scan isn’t a terrible option either. You just have to weigh the cost and performance benefits of each. \r\n\r\nBottom line is that you need the full key, both partition and sort, to perform a delete. How you get that key is up to you, and should be based on your specific use case. ","title":"Delete Dynamo DB items in the Dynamo DB table using Sort Keys","body":"<p>The answer to your question depends a bit on how much data is in the table and how often you’ll be doing this. If it’s going to be a regular part of your process then the answer that @alex-chadyuk gave is what you want. If this is a one time operation then I’d just use a Scan rather than a query and not add a GSI. If the dataset is small the scan isn’t a terrible option either. You just have to weigh the cost and performance benefits of each.</p>\n<p>Bottom line is that you need the full key, both partition and sort, to perform a delete. How you get that key is up to you, and should be based on your specific use case.</p>\n"}],"owner":{"account_id":9865715,"reputation":21,"user_id":21383218,"display_name":"Tim-Timer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":845,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1678657651,"creation_date":1678628697,"question_id":75713531,"body_markdown":"I have the table in Dynamo DB called **test-items**\r\nwhere `personKey` is the partitionKey and `date` is the sortkey\r\n\r\n```\r\npersonKey | date       | accountNumber|\r\n123       | 20220212   | A1           |\r\n456       | 20220212   | A1           |\r\n789       | 20220212   | A1           |\r\n789       | 20220214   | A1           |\r\n567       | 20220214   | A1           |\r\n```\r\n\r\nI have million such rows and the personKey is unpredictable , I want to delete all the items in the Dynamo DB Table deleted whose date is 20220212\r\n\r\n\r\n\r\n\r\n```I donot want to use scan as Scan costs too much , \r\n\r\naws dynamodb delete-item \\\r\n    --table-name &quot;test-items&quot; \\\r\n    --key &#39;{&quot;date&quot;: {&quot;S&quot;: &quot;20220212&quot;}}&#39;\r\n```\r\n\r\nThis is not deleting the items for me","title":"Delete Dynamo DB items in the Dynamo DB table using Sort Keys","body":"<p>I have the table in Dynamo DB called <strong>test-items</strong>\nwhere <code>personKey</code> is the partitionKey and <code>date</code> is the sortkey</p>\n<pre><code>personKey | date       | accountNumber|\n123       | 20220212   | A1           |\n456       | 20220212   | A1           |\n789       | 20220212   | A1           |\n789       | 20220214   | A1           |\n567       | 20220214   | A1           |\n</code></pre>\n<p>I have million such rows and the personKey is unpredictable , I want to delete all the items in the Dynamo DB Table deleted whose date is 20220212</p>\n<pre><code>\naws dynamodb delete-item \\\n    --table-name &quot;test-items&quot; \\\n    --key '{&quot;date&quot;: {&quot;S&quot;: &quot;20220212&quot;}}'\n</code></pre>\n<p>This is not deleting the items for me</p>\n"},{"tags":["java","android","viewgroup"],"comments":[{"owner":{"account_id":21217953,"reputation":146,"user_id":15605198,"display_name":"sozsoy"},"score":1,"creation_date":1621647305,"post_id":67639416,"comment_id":119566454,"body_markdown":"Does this help you? [Android Studio - build problems after switching JDK to version 1.10](https://stackoverflow.com/questions/57017645/android-studio-build-problems-after-switching-jdk-to-version-1-10)","body":"Does this help you? <a href=\"https://stackoverflow.com/questions/57017645/android-studio-build-problems-after-switching-jdk-to-version-1-10\">Android Studio - build problems after switching JDK to version 1.10</a>"},{"owner":{"account_id":2821411,"reputation":673,"user_id":11254630,"display_name":"svstackoverflow"},"score":0,"creation_date":1621860579,"post_id":67639416,"comment_id":119613749,"body_markdown":"@Sozsoy After trying the Intellj version suggestedi in that link I now get an error that my project cannot be opened in Intellij or Android Studio and to retry with version 2020.3.1 but I&#39;m on a newer version 2021.1.1. So I&#39;m not sure what to do from here? Thoughts?","body":"@Sozsoy After trying the Intellj version suggestedi in that link I now get an error that my project cannot be opened in Intellij or Android Studio and to retry with version 2020.3.1 but I&#39;m on a newer version 2021.1.1. So I&#39;m not sure what to do from here? Thoughts?"},{"owner":{"account_id":2821411,"reputation":673,"user_id":11254630,"display_name":"svstackoverflow"},"score":0,"creation_date":1622028166,"post_id":67639416,"comment_id":119670238,"body_markdown":"So, Sozsoy&#39;s suggestion did solve this issue, but it revealed an issue in both the Intellij IDE and the Android Studio -- I know one in the same, but the errors were different. Errors: Android Stuido -&gt; Invalid injected android support version; Intellij Idea -&gt; Android support plugin for Intellij cannot open this project.","body":"So, Sozsoy&#39;s suggestion did solve this issue, but it revealed an issue in both the Intellij IDE and the Android Studio -- I know one in the same, but the errors were different. Errors: Android Stuido -&gt; Invalid injected android support version; Intellij Idea -&gt; Android support plugin for Intellij cannot open this project."}],"answers":[{"tags":[],"owner":{"account_id":10994010,"reputation":167,"user_id":8076881,"display_name":"koushick"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674628126,"creation_date":1638933688,"answer_id":70269535,"question_id":67639416,"body_markdown":"When you are shifting to the latest Android Studio (Artic Fox 2020.3.1) with JDK 11 and need to support Android version 31, you can try the steps below to make your project compile successfully:\r\n\r\nIn **build.gradle** (top level folder):\r\n\r\nUse \r\n\r\n    classpath &quot;com.android.tools.build:gradle:7.0.3&quot;\r\n\r\nIn **app\\build.gradle**:\r\n\r\nUse \r\n\r\n    compileSdk 31 \r\n    defaultConfig { \r\n        applicationId &quot;com.your.applicationid&quot; \r\n        minSdk 21 \r\n        targetSdk 31 \r\n        versionCode 7 \r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot; \r\n     }\r\n\r\n     compileOptions { \r\n        sourceCompatibility JavaVersion.VERSION_11 \r\n        targetCompatibility JavaVersion.VERSION_11 \r\n    }","title":"What is causing the &#39;cannot access ViewGroup ... class file or android.view.ViewGroup&#39; error?","body":"<p>When you are shifting to the latest Android Studio (Artic Fox 2020.3.1) with JDK 11 and need to support Android version 31, you can try the steps below to make your project compile successfully:</p>\n<p>In <strong>build.gradle</strong> (top level folder):</p>\n<p>Use</p>\n<pre><code>classpath &quot;com.android.tools.build:gradle:7.0.3&quot;\n</code></pre>\n<p>In <strong>app\\build.gradle</strong>:</p>\n<p>Use</p>\n<pre><code>compileSdk 31 \ndefaultConfig { \n    applicationId &quot;com.your.applicationid&quot; \n    minSdk 21 \n    targetSdk 31 \n    versionCode 7 \n    testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot; \n }\n\n compileOptions { \n    sourceCompatibility JavaVersion.VERSION_11 \n    targetCompatibility JavaVersion.VERSION_11 \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5535031,"reputation":273,"user_id":4393669,"display_name":"Mohsen Hrt"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678656980,"creation_date":1678656980,"answer_id":75716527,"question_id":67639416,"body_markdown":"I changed compileOptions to \r\n\r\n    compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\nand it&#39;s worked well.","title":"What is causing the &#39;cannot access ViewGroup ... class file or android.view.ViewGroup&#39; error?","body":"<p>I changed compileOptions to</p>\n<pre><code>compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n</code></pre>\n<p>and it's worked well.</p>\n"}],"owner":{"account_id":2821411,"reputation":673,"user_id":11254630,"display_name":"svstackoverflow"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6415,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1678656980,"creation_date":1621609429,"question_id":67639416,"body_markdown":"**Problem:** I&#39;m not exactly sure why I&#39;m receiving an error on my `AddNote.java` class. This was working before and I see the XML activity is still linked to the class. In fact, this `AddNote` is nearly identical to the `EditNote` class and activity, which is working, and the `AddNote` was created from a copy of the `EditNote` activity and class so it could be modified easily.\r\n\r\n**What I have tried:** In comparison with the `EditNote` class and activity which is working, I cannot find anything missing. Under `onCreate`, the `setContentView` references the AddNote activity and the AddNote activty XML context (`tools.context`) is set to `.AddNote`. None of my other activity classes reference or import `android.view.ViewGroup`that I see, so I&#39;m also confused on why I&#39;m receiving this other than maybe it is a *downstream* result of something else I&#39;m not identifying.\r\n\r\n**What I have recently done:** I have recently updated the JDK, Gradle and dependency versions I was prompted to change. Below are what I&#39;m using and snippets of what I thought were important. If something else is needed, I&#39;m happy to provide it.\r\n\r\n - Intellij Idea 2021.1.1\r\n - JDK 11\r\n - Gradle 4.1.3\r\n - Android 29 (min 28)\r\n\r\n**The Error**\r\n\r\n    C:\\Users\\..\\researchdb\\AddNote.java:32: error: cannot access ViewGroup\r\n    public class AddNote extends AppCompatActivity {\r\n           ^\r\n      class file for android.view.ViewGroup not found\r\n\r\n**The Class**\r\n\r\n    @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_add_note);\r\n\r\n**The Actvity XML**\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n            xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n            xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:background=&quot;@color/colorGray&quot;\r\n            tools:ignore=&quot;LabelFor&quot;\r\n            tools:context=&quot;.AddNote&quot;   //  &lt;-----------------------\r\n            android:id=&quot;@+id/lvl_View_Question&quot;&gt;","title":"What is causing the &#39;cannot access ViewGroup ... class file or android.view.ViewGroup&#39; error?","body":"<p><strong>Problem:</strong> I'm not exactly sure why I'm receiving an error on my <code>AddNote.java</code> class. This was working before and I see the XML activity is still linked to the class. In fact, this <code>AddNote</code> is nearly identical to the <code>EditNote</code> class and activity, which is working, and the <code>AddNote</code> was created from a copy of the <code>EditNote</code> activity and class so it could be modified easily.</p>\n<p><strong>What I have tried:</strong> In comparison with the <code>EditNote</code> class and activity which is working, I cannot find anything missing. Under <code>onCreate</code>, the <code>setContentView</code> references the AddNote activity and the AddNote activty XML context (<code>tools.context</code>) is set to <code>.AddNote</code>. None of my other activity classes reference or import <code>android.view.ViewGroup</code>that I see, so I'm also confused on why I'm receiving this other than maybe it is a <em>downstream</em> result of something else I'm not identifying.</p>\n<p><strong>What I have recently done:</strong> I have recently updated the JDK, Gradle and dependency versions I was prompted to change. Below are what I'm using and snippets of what I thought were important. If something else is needed, I'm happy to provide it.</p>\n<ul>\n<li>Intellij Idea 2021.1.1</li>\n<li>JDK 11</li>\n<li>Gradle 4.1.3</li>\n<li>Android 29 (min 28)</li>\n</ul>\n<p><strong>The Error</strong></p>\n<pre><code>C:\\Users\\..\\researchdb\\AddNote.java:32: error: cannot access ViewGroup\npublic class AddNote extends AppCompatActivity {\n       ^\n  class file for android.view.ViewGroup not found\n</code></pre>\n<p><strong>The Class</strong></p>\n<pre><code>@Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_add_note);\n</code></pre>\n<p><strong>The Actvity XML</strong></p>\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:background=&quot;@color/colorGray&quot;\n        tools:ignore=&quot;LabelFor&quot;\n        tools:context=&quot;.AddNote&quot;   //  &lt;-----------------------\n        android:id=&quot;@+id/lvl_View_Question&quot;&gt;\n</code></pre>\n"},{"tags":["java","maven","swing","lifecycle"],"answers":[{"comments":[{"owner":{"account_id":17903284,"reputation":19,"user_id":13007065,"display_name":"Armczbt"},"score":0,"creation_date":1678691165,"post_id":75716123,"comment_id":133575525,"body_markdown":"I&#39;m doing this on a Vscode terminal and I ran exactly what I sent, am I miswriting quotes ?","body":"I&#39;m doing this on a Vscode terminal and I ran exactly what I sent, am I miswriting quotes ?"},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1678692053,"post_id":75716123,"comment_id":133575683,"body_markdown":"I would quote the whole argument, from beginning to end.","body":"I would quote the whole argument, from beginning to end."}],"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678652061,"creation_date":1678652061,"answer_id":75716123,"question_id":75715044,"body_markdown":"If you do this on the powershell, you probably just miss the quotation marks around the argument.\r\n","title":"Java Maven Swing GUI : Unknown lifecycle phase","body":"<p>If you do this on the powershell, you probably just miss the quotation marks around the argument.</p>\n"},{"comments":[{"owner":{"account_id":17903284,"reputation":19,"user_id":13007065,"display_name":"Armczbt"},"score":0,"creation_date":1678691118,"post_id":75716471,"comment_id":133575520,"body_markdown":"Thanks for your answer. Actually, I tried to merge the MojoHaus plugin in the pom.xml but the same error appears... I actually build an executable .jar with &quot;mvn package&quot; command but when I run it nothing appears...","body":"Thanks for your answer. Actually, I tried to merge the MojoHaus plugin in the pom.xml but the same error appears... I actually build an executable .jar with &quot;mvn package&quot; command but when I run it nothing appears..."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1678707982,"post_id":75716471,"comment_id":133579806,"body_markdown":"can you update the question with the pom.xml with the &quot;merged&quot; plugin?  (replace or add it)","body":"can you update the question with the pom.xml with the &quot;merged&quot; plugin?  (replace or add it)"}],"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678656318,"creation_date":1678656318,"answer_id":75716471,"question_id":75715044,"body_markdown":"You probably try to use the maven plugin `org.codehaus.mojo:exec-maven-plugin` but you did not specify it anywhere in your pom.xml file. \r\n\r\nYou should at least &quot;merge&quot; this snippet into your pom.xml file:\r\n``` lang-xml\r\n&lt;build&gt;\r\n  &lt;plugins&gt;\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n      &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;3.1.0&lt;/version&gt;\r\n    &lt;/plugin&gt;\r\n  &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```\r\n\r\nDon&#39;t be tempted to just add the `&lt;plugin&gt;` and its sub-elements next to what you already have there, because you only specified your &quot;plugins&quot; inside a `&lt;pluginManagement&gt;` element, which means that the settings (and also versions) of those plugins will be used *if* you specify them inside a `&lt;plugins&gt;` element that is a direct child of the `&lt;build&gt;` element. (Take care of plural and singular forms here!)\r\n\r\nBut see the [documentation of the MojoHaus Exec Maven Plugin](https://www.mojohaus.org/exec-maven-plugin/usage.html) to find out how you could improve its configuration so you don&#39;t have to specify the main class on every execution.\r\n\r\nActually I would recommend that you configure your `maven-jar-plugin` to add a manifest so you build an executable JAR-file of your project, but details on that would go to far for this question.","title":"Java Maven Swing GUI : Unknown lifecycle phase","body":"<p>You probably try to use the maven plugin <code>org.codehaus.mojo:exec-maven-plugin</code> but you did not specify it anywhere in your pom.xml file.</p>\n<p>You should at least &quot;merge&quot; this snippet into your pom.xml file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n      &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n      &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>Don't be tempted to just add the <code>&lt;plugin&gt;</code> and its sub-elements next to what you already have there, because you only specified your &quot;plugins&quot; inside a <code>&lt;pluginManagement&gt;</code> element, which means that the settings (and also versions) of those plugins will be used <em>if</em> you specify them inside a <code>&lt;plugins&gt;</code> element that is a direct child of the <code>&lt;build&gt;</code> element. (Take care of plural and singular forms here!)</p>\n<p>But see the <a href=\"https://www.mojohaus.org/exec-maven-plugin/usage.html\" rel=\"nofollow noreferrer\">documentation of the MojoHaus Exec Maven Plugin</a> to find out how you could improve its configuration so you don't have to specify the main class on every execution.</p>\n<p>Actually I would recommend that you configure your <code>maven-jar-plugin</code> to add a manifest so you build an executable JAR-file of your project, but details on that would go to far for this question.</p>\n"}],"owner":{"account_id":17903284,"reputation":19,"user_id":13007065,"display_name":"Armczbt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678656318,"creation_date":1678642341,"question_id":75715044,"body_markdown":"I&#39;m starting with Maven and Swing. I wanted to create a basic Login Form GUI with Maven.\r\nWhen i&#39;m running `mvn clean package` I&#39;ve got no error\r\n\r\nBut when I run `mvn exec:java -Dexec.mainClass=&quot;com.tp14.LoginForm&quot;`,\r\nI&#39;ve got this error: \r\n\r\n    [ERROR] Unknown lifecycle phase &quot;.mainClass=com.tp14.app.LoginForm&quot;. You must specify a valid lifecycle phase or a goal in the format &lt;plugin-prefix&gt;:&lt;goal&gt; or &lt;plugin-group-id&gt;:&lt;plugin-artifact-id&gt;[:&lt;plugin-version&gt;]:&lt;goal&gt;. Available lifecycle phases are: pre-clean, clean, post-clean, validate, initialize, generate-sources, process-sources, generate-resources, process-resources, compile, process-classes, generate-test-sources, process-test-sources, generate-test-resources, process-test-resources, test-compile, process-test-classes, test, prepare-package, package, pre-integration-test, integration-test, post-integration-test, verify, install, deploy, pre-site, site, post-site, site-deploy. -&gt; [Help 1\r\n\r\nI don&#39;t know what to do...\r\n\r\nHere a screen of my project tree structure :\r\n\r\n[![Tree Structure][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zIZAf.png\r\n\r\n\r\n\r\n\r\nHere&#39;s my LoginForm code: \r\n\r\n    package com.tp14;\r\n    import javax.swing.*;\r\n\r\n    public class LoginForm extends JFrame {\r\n        public LoginForm() {\r\n            setTitle(&quot;Login Form&quot;);\r\n            setSize(300, 200);\r\n            setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n            setLocationRelativeTo(null);\r\n\r\n            JPanel panel = new JPanel();\r\n            add(panel);\r\n\r\n            JLabel userLabel = new JLabel(&quot;Username:&quot;);\r\n            JTextField userText = new JTextField(20);\r\n            panel.add(userLabel);\r\n            panel.add(userText);\r\n\r\n            JLabel passwordLabel = new JLabel(&quot;Password:&quot;);\r\n            JPasswordField passwordText = new JPasswordField(20);\r\n            panel.add(passwordLabel);\r\n            panel.add(passwordText);\r\n\r\n            JButton loginButton = new JButton(&quot;Login&quot;);\r\n            panel.add(loginButton);\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            LoginForm loginForm = new LoginForm();\r\n            loginForm.setVisible(true);\r\n        }\r\n    }\r\n\r\nAnd Here&#39;s my POM.xml:\r\n\r\n\r\n \r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n      &lt;groupId&gt;com.tp14&lt;/groupId&gt;\r\n      &lt;artifactId&gt;tp14&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n      &lt;name&gt;tp14&lt;/name&gt;\r\n      &lt;!-- FIXME change it to the project&#39;s website --&gt;\r\n      &lt;url&gt;http://www.example.com&lt;/url&gt;\r\n\r\n      &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\r\n      &lt;/properties&gt;\r\n\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;4.11&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.swinglabs&lt;/groupId&gt;\r\n          &lt;artifactId&gt;swingx&lt;/artifactId&gt;\r\n          &lt;version&gt;1.6.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n      &lt;/dependencies&gt;\r\n\r\n      &lt;build&gt;\r\n        &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n          &lt;plugins&gt;\r\n            &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.1.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.0.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.8.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.22.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.0.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.5.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.8.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-                    core/lifecycles.html#site_Lifecycle --&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.7.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.0.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n          &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nI tried to rename the file, put it in another folder, re-run mvn clean package but nothing works. When I run manually the .jar file, it doesn&#39;t do anything too.\r\n\r\nThanks a lot","title":"Java Maven Swing GUI : Unknown lifecycle phase","body":"<p>I'm starting with Maven and Swing. I wanted to create a basic Login Form GUI with Maven.\nWhen i'm running <code>mvn clean package</code> I've got no error</p>\n<p>But when I run <code>mvn exec:java -Dexec.mainClass=&quot;com.tp14.LoginForm&quot;</code>,\nI've got this error:</p>\n<pre><code>[ERROR] Unknown lifecycle phase &quot;.mainClass=com.tp14.app.LoginForm&quot;. You must specify a valid lifecycle phase or a goal in the format &lt;plugin-prefix&gt;:&lt;goal&gt; or &lt;plugin-group-id&gt;:&lt;plugin-artifact-id&gt;[:&lt;plugin-version&gt;]:&lt;goal&gt;. Available lifecycle phases are: pre-clean, clean, post-clean, validate, initialize, generate-sources, process-sources, generate-resources, process-resources, compile, process-classes, generate-test-sources, process-test-sources, generate-test-resources, process-test-resources, test-compile, process-test-classes, test, prepare-package, package, pre-integration-test, integration-test, post-integration-test, verify, install, deploy, pre-site, site, post-site, site-deploy. -&gt; [Help 1\n</code></pre>\n<p>I don't know what to do...</p>\n<p>Here a screen of my project tree structure :</p>\n<p><a href=\"https://i.stack.imgur.com/zIZAf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zIZAf.png\" alt=\"Tree Structure\" /></a></p>\n<p>Here's my LoginForm code:</p>\n<pre><code>package com.tp14;\nimport javax.swing.*;\n\npublic class LoginForm extends JFrame {\n    public LoginForm() {\n        setTitle(&quot;Login Form&quot;);\n        setSize(300, 200);\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\n        setLocationRelativeTo(null);\n\n        JPanel panel = new JPanel();\n        add(panel);\n\n        JLabel userLabel = new JLabel(&quot;Username:&quot;);\n        JTextField userText = new JTextField(20);\n        panel.add(userLabel);\n        panel.add(userText);\n\n        JLabel passwordLabel = new JLabel(&quot;Password:&quot;);\n        JPasswordField passwordText = new JPasswordField(20);\n        panel.add(passwordLabel);\n        panel.add(passwordText);\n\n        JButton loginButton = new JButton(&quot;Login&quot;);\n        panel.add(loginButton);\n    }\n\n    public static void main(String[] args) {\n        LoginForm loginForm = new LoginForm();\n        loginForm.setVisible(true);\n    }\n}\n</code></pre>\n<p>And Here's my POM.xml:</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.tp14&lt;/groupId&gt;\n  &lt;artifactId&gt;tp14&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n  &lt;name&gt;tp14&lt;/name&gt;\n  &lt;!-- FIXME change it to the project's website --&gt;\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.11&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.swinglabs&lt;/groupId&gt;\n      &lt;artifactId&gt;swingx&lt;/artifactId&gt;\n      &lt;version&gt;1.6.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n      &lt;plugins&gt;\n        &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.8.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.22.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.5.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.8.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-                    core/lifecycles.html#site_Lifecycle --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.7.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I tried to rename the file, put it in another folder, re-run mvn clean package but nothing works. When I run manually the .jar file, it doesn't do anything too.</p>\n<p>Thanks a lot</p>\n"},{"tags":["java","if-statement"],"comments":[{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":2,"creation_date":1669146049,"post_id":74538109,"comment_id":131576814,"body_markdown":"`if (index == key)` ?? Maybe `if (index &gt;= 0)`","body":"<code>if (index == key)</code> ?? Maybe <code>if (index &gt;= 0)</code>"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1669146123,"post_id":74538109,"comment_id":131576842,"body_markdown":"Some things not directly related to your problem: don&#39;t omit `{` and `}` for &quot;it&#39;s just one line of code&quot; things like those if/else statements. You&#39;re going to try to put a println in there at some point, and everything will break. Also, you&#39;re mixing printf with string concatenation: just use one or the other.  Also, don&#39;t cast things that don&#39;t need casting: declare your list as `ArrayList&lt;Integer&gt; primeNumbers = new ArrayList&lt;Integer&gt;();`, done, you can add as many `int` values into that without any sort of casting. And on _that_ note, use lowerCamelCase for variable names.","body":"Some things not directly related to your problem: don&#39;t omit <code>{</code> and <code>}</code> for &quot;it&#39;s just one line of code&quot; things like those if/else statements. You&#39;re going to try to put a println in there at some point, and everything will break. Also, you&#39;re mixing printf with string concatenation: just use one or the other.  Also, don&#39;t cast things that don&#39;t need casting: declare your list as <code>ArrayList&lt;Integer&gt; primeNumbers = new ArrayList&lt;Integer&gt;();</code>, done, you can add as many <code>int</code> values into that without any sort of casting. And on <i>that</i> note, use lowerCamelCase for variable names."},{"owner":{"account_id":24177937,"reputation":1,"user_id":18139037,"display_name":"M S"},"score":0,"creation_date":1669146371,"post_id":74538109,"comment_id":131576920,"body_markdown":"Thanks for your feedback and thanks for suggesting that it actually worked","body":"Thanks for your feedback and thanks for suggesting that it actually worked"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1669146580,"post_id":74538109,"comment_id":131576985,"body_markdown":"`Arrays.binarySearch (int [] a, int key)` doesn&#39;t return `key` if found.  It returns the *index* of `key` in the array -- that is, the  location.  [`Arrays` API](https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#binarySearch(int[],%20int))","body":"<code>Arrays.binarySearch (int [] a, int key)</code> doesn&#39;t return <code>key</code> if found.  It returns the <i>index</i> of <code>key</code> in the array -- that is, the  location.  <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#binarySearch(int%5B%5D,%20int)\" rel=\"nofollow noreferrer\"><code>Arrays</code> API</a>"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1669146784,"post_id":74538109,"comment_id":131577059,"body_markdown":"Some remarks: in Java, variable- and field names should be written in `lowerCamelCase` (`Prime_Numbers` -&gt; `primeNumbers`) --- `List&lt;Integer&gt; Prime_Numbers = new ArrayList&lt;Integer&gt;() ;` unnecessary abstraction, we can use `ArrayList&lt;Integer&gt; ...  = new ArrayList&lt;Integer&gt;();` --- Even if possible, I would highly advice to not skip `{` and `}` on one-line `if`-, `else`-, `for`-, `while`-, ... bodies.","body":"Some remarks: in Java, variable- and field names should be written in <code>lowerCamelCase</code> (<code>Prime_Numbers</code> -&gt; <code>primeNumbers</code>) --- <code>List&lt;Integer&gt; Prime_Numbers = new ArrayList&lt;Integer&gt;() ;</code> unnecessary abstraction, we can use <code>ArrayList&lt;Integer&gt; ...  = new ArrayList&lt;Integer&gt;();</code> --- Even if possible, I would highly advice to not skip <code>{</code> and <code>}</code> on one-line <code>if</code>-, <code>else</code>-, <code>for</code>-, <code>while</code>-, ... bodies."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1669147416,"post_id":74538109,"comment_id":131577246,"body_markdown":"The cast in `((ArrayList) Prime_Numbers).add(x);` is unnecessary, and actually dangerous: it converts the list reference to a raw type, meaning you lose the type safety of ensuring that only `Integer`s are added to the list. Remove the cast: `PrimeNumbers.add(x);`.","body":"The cast in <code>((ArrayList) Prime_Numbers).add(x);</code> is unnecessary, and actually dangerous: it converts the list reference to a raw type, meaning you lose the type safety of ensuring that only <code>Integer</code>s are added to the list. Remove the cast: <code>PrimeNumbers.add(x);</code>."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1669147772,"post_id":74538109,"comment_id":131577348,"body_markdown":"A couple of points about the prime number finding: 1) 1 isn&#39;t a prime number; 2) you don&#39;t need to check as many values in the `y` loop: just check all of your previously-found prime numbers by iterating that list: `for (int j : Prime_Numbers) { ... }`.","body":"A couple of points about the prime number finding: 1) 1 isn&#39;t a prime number; 2) you don&#39;t need to check as many values in the <code>y</code> loop: just check all of your previously-found prime numbers by iterating that list: <code>for (int j : Prime_Numbers) { ... }</code>."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1669147908,"post_id":74538109,"comment_id":131577385,"body_markdown":"@Turing85 &quot;we can use `ArrayList&lt;Integer&gt; ... =`&quot; I disagree, it&#39;s far more unusual to declare list variables&#39; types as the concrete type. Rather than this being unnecessary abstraction, I&#39;d say what you&#39;re suggesting is unnecessary specificity.","body":"@Turing85 &quot;we can use <code>ArrayList&lt;Integer&gt; ... =</code>&quot; I disagree, it&#39;s far more unusual to declare list variables&#39; types as the concrete type. Rather than this being unnecessary abstraction, I&#39;d say what you&#39;re suggesting is unnecessary specificity."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1669148114,"post_id":74538109,"comment_id":131577447,"body_markdown":"@AndyTurner if the `List` is created by, e.g., a method call, I would agree. If, however, the `ArrayList` is created in-place, I do not see any benefit in using `List` instead of `ArrayList`.","body":"@AndyTurner if the <code>List</code> is created by, e.g., a method call, I would agree. If, however, the <code>ArrayList</code> is created in-place, I do not see any benefit in using <code>List</code> instead of <code>ArrayList</code>."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1669148340,"post_id":74538109,"comment_id":131577514,"body_markdown":"@Turing85 the advantage is that you&#39;re not tempted to use methods specific to the specific type, which makes it easier to change the implementation you use at a later date. And, if you&#39;re not using methods specific to the specific type... just use the general type. (This is covered in Item 64 of _Effective Java_).","body":"@Turing85 the advantage is that you&#39;re not tempted to use methods specific to the specific type, which makes it easier to change the implementation you use at a later date. And, if you&#39;re not using methods specific to the specific type... just use the general type. (This is covered in Item 64 of <i>Effective Java</i>)."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1678654013,"post_id":74538109,"comment_id":133571119,"body_markdown":"There&#39;s a bug in your code: 1 is not a prime number, but your code thinks it is: start your loop from 2 and delete the `if (count == 0)` code block. For a speed up, replace `y &lt;= x / 2` with `y &lt;= Math.sqrt(x)`","body":"There&#39;s a bug in your code: 1 is not a prime number, but your code thinks it is: start your loop from 2 and delete the <code>if (count == 0)</code> code block. For a speed up, replace <code>y &lt;= x &#47; 2</code> with <code>y &lt;= Math.sqrt(x)</code>"}],"answers":[{"tags":[],"owner":{"account_id":27345207,"reputation":81,"user_id":20855204,"display_name":"Sarkar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678650378,"creation_date":1678650378,"answer_id":75715946,"question_id":74538109,"body_markdown":"\\\r\nInstead of using\r\n```\r\nif(index == key)\r\n\tSystem.out.printf(&quot;%d is found at &quot;+index,key);\r\nelse\r\n\tSystem.out.printf(&quot;%d is not found&quot;,key);\r\n```\r\nuse\r\n```\r\nif(index &gt;= 0)\r\n\tSystem.out.printf(&quot;%d is found at &quot;+(index+1),key);\r\nelse\r\n\tSystem.out.printf(&quot;%d is not found&quot;,key);\r\n```\r\nbecause what `int index =  Arrays.binarySearch((Prime_Numbers.toArray()) , key);` is doing is, it gives the **index** of the search key, if it is contained in the array, **otherwise**, **(-(insertion point) – 1)** where insertion point is the point at which the key would be inserted into the array, i.e., the index of the first element greater than the key, or array.length if all elements in the array are less than the specified key","title":"To Print the Prime numbers from 1 - 500 and finding the INDEX of the prime numebrs","body":"<p><br />\nInstead of using</p>\n<pre><code>if(index == key)\n    System.out.printf(&quot;%d is found at &quot;+index,key);\nelse\n    System.out.printf(&quot;%d is not found&quot;,key);\n</code></pre>\n<p>use</p>\n<pre><code>if(index &gt;= 0)\n    System.out.printf(&quot;%d is found at &quot;+(index+1),key);\nelse\n    System.out.printf(&quot;%d is not found&quot;,key);\n</code></pre>\n<p>because what <code>int index =  Arrays.binarySearch((Prime_Numbers.toArray()) , key);</code> is doing is, it gives the <strong>index</strong> of the search key, if it is contained in the array, <strong>otherwise</strong>, <strong>(-(insertion point) – 1)</strong> where insertion point is the point at which the key would be inserted into the array, i.e., the index of the first element greater than the key, or array.length if all elements in the array are less than the specified key</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678655471,"creation_date":1678654535,"answer_id":75716330,"question_id":74538109,"body_markdown":"Use the `indexIf()` method of List:\r\n\r\n```\r\nint input = sc.nextInt();\r\nint index = Prime_Numbers.indexOf(input);\r\nif (index &gt;= 0)\r\n    System.out.printf(&quot;%d is found at %d\\n&quot;, input, index);\r\nelse\r\n    System.out.printf(&quot;%d is not found\\n&quot;, input);\r\n```\r\n\r\n---\r\n\r\nYour code is buggy: 1 is not a prime number, and it&#39;s way longer than it needs to be. To collect the primes:\r\n\r\n    List&lt;Integer&gt; Prime_Numbers = IntStream.range(2, 501)\r\n      .filter(i -&gt; new BigInteger(&quot;&quot; + i).isProbablePrime(10))\r\n      .collect(Collectors.toList());\r\n\r\nSide note: Try to follow Java naming standards. Prefer `primeNumbers` over `Prime_Numbers`.","title":"To Print the Prime numbers from 1 - 500 and finding the INDEX of the prime numebrs","body":"<p>Use the <code>indexIf()</code> method of List:</p>\n<pre><code>int input = sc.nextInt();\nint index = Prime_Numbers.indexOf(input);\nif (index &gt;= 0)\n    System.out.printf(&quot;%d is found at %d\\n&quot;, input, index);\nelse\n    System.out.printf(&quot;%d is not found\\n&quot;, input);\n</code></pre>\n<hr />\n<p>Your code is buggy: 1 is not a prime number, and it's way longer than it needs to be. To collect the primes:</p>\n<pre><code>List&lt;Integer&gt; Prime_Numbers = IntStream.range(2, 501)\n  .filter(i -&gt; new BigInteger(&quot;&quot; + i).isProbablePrime(10))\n  .collect(Collectors.toList());\n</code></pre>\n<p>Side note: Try to follow Java naming standards. Prefer <code>primeNumbers</code> over <code>Prime_Numbers</code>.</p>\n"}],"owner":{"account_id":24177937,"reputation":1,"user_id":18139037,"display_name":"M S"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678655471,"creation_date":1669145791,"question_id":74538109,"body_markdown":"\r\n    public static void main(String[] args) {\r\n        List&lt;Integer&gt; Prime_Numbers = new ArrayList&lt;Integer&gt;() ;\r\n        for (int x = 1; x &lt;= 500; x ++) {\r\n            int count = 0;\r\n            for (int y = 2 ; y &lt;= x / 2 ; y ++){\r\n                if (x % y == 0){\r\n                    count++;\r\n                    break;\r\n                }\r\n            }\r\n            if(count == 0)\r\n                ((ArrayList) Prime_Numbers).add(x);\r\n\r\n        }\r\n        System.out.println(Prime_Numbers);\r\n        System.out.println(&quot;Enter a prime number from the list&quot;);\r\n        Scanner sc = new Scanner(System.in);\r\n        int key = sc.nextInt();\r\n        int index =  Arrays.binarySearch((Prime_Numbers.toArray()) , key);\r\n        if(index == key)                             //when index = key its printing %d is not found \r\n            System.out.printf(&quot;%d is found at &quot;+index,key);\r\n        else\r\n            System.out.printf(&quot;%d is not found&quot;,key);\r\n    }\r\n\r\n\r\nI made this Program for my study purpose but i am not quite getting the how the o/p is coming &quot;%d is not found&quot; can anybody give me a hint like how can i fix my code(Facing problem in if condition) \r\n\r\nI ran the Program and got the output but in if condition I am not getting excepted Output, eg: if I enter 3 which is prime number and can found be in 2nd index but the O/p gives not found\r\n","title":"To Print the Prime numbers from 1 - 500 and finding the INDEX of the prime numebrs","body":"<pre><code>public static void main(String[] args) {\n    List&lt;Integer&gt; Prime_Numbers = new ArrayList&lt;Integer&gt;() ;\n    for (int x = 1; x &lt;= 500; x ++) {\n        int count = 0;\n        for (int y = 2 ; y &lt;= x / 2 ; y ++){\n            if (x % y == 0){\n                count++;\n                break;\n            }\n        }\n        if(count == 0)\n            ((ArrayList) Prime_Numbers).add(x);\n\n    }\n    System.out.println(Prime_Numbers);\n    System.out.println(&quot;Enter a prime number from the list&quot;);\n    Scanner sc = new Scanner(System.in);\n    int key = sc.nextInt();\n    int index =  Arrays.binarySearch((Prime_Numbers.toArray()) , key);\n    if(index == key)                             //when index = key its printing %d is not found \n        System.out.printf(&quot;%d is found at &quot;+index,key);\n    else\n        System.out.printf(&quot;%d is not found&quot;,key);\n}\n</code></pre>\n<p>I made this Program for my study purpose but i am not quite getting the how the o/p is coming &quot;%d is not found&quot; can anybody give me a hint like how can i fix my code(Facing problem in if condition)</p>\n<p>I ran the Program and got the output but in if condition I am not getting excepted Output, eg: if I enter 3 which is prime number and can found be in 2nd index but the O/p gives not found</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677864874,"post_id":75629507,"comment_id":133427863,"body_markdown":"Previously closed as duplicate of [Is it possible to match nested brackets with a regex without using recursion or balancing groups?](https://stackoverflow.com/questions/47162098/is-it-possible-to-match-nested-brackets-with-a-regex-without-using-recursion-or)","body":"Previously closed as duplicate of <a href=\"https://stackoverflow.com/questions/47162098/is-it-possible-to-match-nested-brackets-with-a-regex-without-using-recursion-or\">Is it possible to match nested brackets with a regex without using recursion or balancing groups?</a>"},{"owner":{"account_id":2603307,"reputation":88305,"user_id":2255089,"display_name":"Casimir et Hippolyte"},"score":1,"creation_date":1677878706,"post_id":75629507,"comment_id":133431180,"body_markdown":"Unfortunately, the Java regex engine doesn&#39;t have the recursion feature nor the balancing group feature. All you can do with regex in Java is to use the fact that a limited variable length in a lookbehind is allowed, but you can&#39;t do all with that. The most robust way is to use a parser (if there&#39;s already a parser for what you are trying to parse), or to tokenize your string and to count yourself the number of opening and closing brackets.","body":"Unfortunately, the Java regex engine doesn&#39;t have the recursion feature nor the balancing group feature. All you can do with regex in Java is to use the fact that a limited variable length in a lookbehind is allowed, but you can&#39;t do all with that. The most robust way is to use a parser (if there&#39;s already a parser for what you are trying to parse), or to tokenize your string and to count yourself the number of opening and closing brackets."},{"owner":{"account_id":268704,"reputation":2391,"user_id":15577665,"display_name":"sln"},"score":0,"creation_date":1677882943,"post_id":75629507,"comment_id":133431969,"body_markdown":"Try this `(?=\\()(?:(?=.*?\\((?!.*?\\1)(.*\\)(?!.*\\2).*))(?=.*?\\)(?!.*?\\2)(.*)).)+?.*?(?=\\1)[^(]*(?=\\2)`","body":"Try this <code>(?=\\()(?:(?=.*?\\((?!.*?\\1)(.*\\)(?!.*\\2).*))(?=.*?\\)(?!.*?\\2)&zwnj;&#8203;(.*)).)+?.*?(?=\\1)[^&zwnj;&#8203;(]*(?=\\2)</code>"},{"owner":{"account_id":268704,"reputation":2391,"user_id":15577665,"display_name":"sln"},"score":0,"creation_date":1677883702,"post_id":75629507,"comment_id":133432106,"body_markdown":"It comes from this https://stackoverflow.com/questions/47162098/is-it-possible-to-match-nested-brackets-with-a-regex-without-using-recursion-or","body":"It comes from this <a href=\"https://stackoverflow.com/questions/47162098/is-it-possible-to-match-nested-brackets-with-a-regex-without-using-recursion-or\" title=\"is it possible to match nested brackets with a regex without using recursion or\">stackoverflow.com/questions/47162098/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":27345207,"reputation":81,"user_id":20855204,"display_name":"Sarkar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678655044,"creation_date":1678655044,"answer_id":75716374,"question_id":75629507,"body_markdown":"if the regex is working on many regex testing sites, you should use `\\((?:[^()]|((\\?R)))+\\)` instead of `\\((?:[^()]|((?R)))+\\)` as it shows `? The preceding token is not quantifiable` as the `?` is a ternary operator in Java. \\\r\nBut the regex will not run in Java as Java does not support Regex Subroutine yet, so please use `(?=\\()(?:(?=.*?\\((?!.*?\\1)(.*\\)(?!.*\\2).*))(?=.*?\\)(?!.*?\\2)(.*)).)+?.*?(?=\\1)[^(]*(?=\\2)` provided by [sln](https://stackoverflow.com/users/15577665/sln).","title":"Regex error in Java &quot;\\((?:[^()]|.((?R)))+\\)&quot;","body":"<p>if the regex is working on many regex testing sites, you should use <code>\\((?:[^()]|((\\?R)))+\\)</code> instead of <code>\\((?:[^()]|((?R)))+\\)</code> as it shows <code>? The preceding token is not quantifiable</code> as the <code>?</code> is a ternary operator in Java. <br />\nBut the regex will not run in Java as Java does not support Regex Subroutine yet, so please use <code>(?=\\()(?:(?=.*?\\((?!.*?\\1)(.*\\)(?!.*\\2).*))(?=.*?\\)(?!.*?\\2)(.*)).)+?.*?(?=\\1)[^(]*(?=\\2)</code> provided by <a href=\"https://stackoverflow.com/users/15577665/sln\">sln</a>.</p>\n"}],"owner":{"account_id":16114970,"reputation":11,"user_id":11632352,"display_name":"Domenico Tringali"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1678655044,"creation_date":1677860351,"question_id":75629507,"body_markdown":"This regex &quot;\\((?:[^()]|.((?R)))+\\)&quot; is working on Regex101 site but it raises a sintaxException with JAVA matcher.\r\n\r\nError: \r\n`Caused by: java.util.regex.PatternSyntaxException: Unknown inline modifier near index 14\r\n\\((?:[^()]|((?R)))+\\)`\r\n\r\nThe &quot;R&quot; seens not accepted by java regex engine. Unfortunately this seems to be the only way to get the match I need:\r\n\r\nAssuming this is the source string I have to parse:\r\n\r\n`my params ( string(80), string(30), string(10) ) as ...`\r\n\r\nI need to get the content between the first &quot;(&quot; and the closing &quot;)&quot; (the last before as). This is just an example, and I have no other &quot;hooks&quot; except the &quot;mathematical sequence&quot; of opened and closed parenthesis. \r\nAny suggestion on how to solve this problem (in a way or another?) The regex is working on many regex testing sites, but not working using it in Java.","title":"Regex error in Java &quot;\\((?:[^()]|.((?R)))+\\)&quot;","body":"<p>This regex &quot;((?:[^()]|.((?R)))+)&quot; is working on Regex101 site but it raises a sintaxException with JAVA matcher.</p>\n<p>Error:\n<code>Caused by: java.util.regex.PatternSyntaxException: Unknown inline modifier near index 14 \\((?:[^()]|((?R)))+\\)</code></p>\n<p>The &quot;R&quot; seens not accepted by java regex engine. Unfortunately this seems to be the only way to get the match I need:</p>\n<p>Assuming this is the source string I have to parse:</p>\n<p><code>my params ( string(80), string(30), string(10) ) as ...</code></p>\n<p>I need to get the content between the first &quot;(&quot; and the closing &quot;)&quot; (the last before as). This is just an example, and I have no other &quot;hooks&quot; except the &quot;mathematical sequence&quot; of opened and closed parenthesis.\nAny suggestion on how to solve this problem (in a way or another?) The regex is working on many regex testing sites, but not working using it in Java.</p>\n"},{"tags":["java","hadoop","nutch","web-crawler"],"comments":[{"owner":{"account_id":226173,"reputation":16762,"user_id":487064,"accept_rate":68,"display_name":"GreyCat"},"score":0,"creation_date":1316008774,"post_id":7371602,"comment_id":8964421,"body_markdown":"What exactly are you trying to run?","body":"What exactly are you trying to run?"}],"answers":[{"tags":[],"owner":{"account_id":1173826,"reputation":6159,"user_id":1150329,"accept_rate":89,"display_name":"Tejas Patil"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1326742808,"creation_date":1326742808,"answer_id":8885374,"question_id":7371602,"body_markdown":"The generate phase of nutch creates &quot;crawl_generate&quot; inside the segments directory. This contains the fetch list used in the fetch phase. The error that you got is because the fetch phase is unable to get the fetch list. Ensure that the output of generate is populated at the location where fetch is trying to find it.","title":"Nutch Crawl error - Input path does not exist","body":"<p>The generate phase of nutch creates \"crawl_generate\" inside the segments directory. This contains the fetch list used in the fetch phase. The error that you got is because the fetch phase is unable to get the fetch list. Ensure that the output of generate is populated at the location where fetch is trying to find it.</p>\n"},{"tags":[],"owner":{"account_id":7924006,"reputation":108,"user_id":5983993,"accept_rate":100,"display_name":"AVINASH"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1459505648,"creation_date":1459505648,"answer_id":36353679,"question_id":7371602,"body_markdown":"verify whether nutch/crawl/segments/crawl_generate path is correct.\r\n\r\nEither path is wrong or parse phase is not completed.","title":"Nutch Crawl error - Input path does not exist","body":"<p>verify whether nutch/crawl/segments/crawl_generate path is correct.</p>\n\n<p>Either path is wrong or parse phase is not completed.</p>\n"}],"owner":{"account_id":231038,"reputation":1502,"user_id":495033,"accept_rate":58,"display_name":"Ste"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2522,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":36353679,"answer_count":2,"score":2,"last_activity_date":1678654888,"creation_date":1315656873,"question_id":7371602,"body_markdown":"I have nutch/hadoop setup with 2 datanode server. I tried to crawl some urls but nutch fails with this error:\r\n\r\n    Fetcher: segment: crawl/segments\r\n    Fetcher: org.apache.hadoop.mapred.InvalidInputException: Input path does not exist: hdfs://devcluster01:9000/user/nutch/crawl/segments/crawl_generate\r\n    \tat org.apache.hadoop.mapred.FileInputFormat.listStatus(FileInputFormat.java:190)\r\n    \tat org.apache.hadoop.mapred.SequenceFileInputFormat.listStatus(SequenceFileInputFormat.java:44)\r\n    \tat org.apache.nutch.fetcher.Fetcher$InputFormat.getSplits(Fetcher.java:105)\r\n    \tat org.apache.hadoop.mapred.JobClient.writeOldSplits(JobClient.java:810)\r\n    \tat org.apache.hadoop.mapred.JobClient.submitJobInternal(JobClient.java:781)\r\n    \tat org.apache.hadoop.mapred.JobClient.submitJob(JobClient.java:730)\r\n    \tat org.apache.hadoop.mapred.JobClient.runJob(JobClient.java:1249)\r\n    \tat org.apache.nutch.fetcher.Fetcher.fetch(Fetcher.java:1107)\r\n    \tat org.apache.nutch.fetcher.Fetcher.run(Fetcher.java:1145)\r\n    \tat org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:65)\r\n    \tat org.apache.nutch.fetcher.Fetcher.main(Fetcher.java:1116)\r\n\r\nCan someone help me? I don&#39;t know how to solve this!\r\nMany many Thx!","title":"Nutch Crawl error - Input path does not exist","body":"<p>I have nutch/hadoop setup with 2 datanode server. I tried to crawl some urls but nutch fails with this error:</p>\n<pre><code>Fetcher: segment: crawl/segments\nFetcher: org.apache.hadoop.mapred.InvalidInputException: Input path does not exist: hdfs://devcluster01:9000/user/nutch/crawl/segments/crawl_generate\n    at org.apache.hadoop.mapred.FileInputFormat.listStatus(FileInputFormat.java:190)\n    at org.apache.hadoop.mapred.SequenceFileInputFormat.listStatus(SequenceFileInputFormat.java:44)\n    at org.apache.nutch.fetcher.Fetcher$InputFormat.getSplits(Fetcher.java:105)\n    at org.apache.hadoop.mapred.JobClient.writeOldSplits(JobClient.java:810)\n    at org.apache.hadoop.mapred.JobClient.submitJobInternal(JobClient.java:781)\n    at org.apache.hadoop.mapred.JobClient.submitJob(JobClient.java:730)\n    at org.apache.hadoop.mapred.JobClient.runJob(JobClient.java:1249)\n    at org.apache.nutch.fetcher.Fetcher.fetch(Fetcher.java:1107)\n    at org.apache.nutch.fetcher.Fetcher.run(Fetcher.java:1145)\n    at org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:65)\n    at org.apache.nutch.fetcher.Fetcher.main(Fetcher.java:1116)\n</code></pre>\n<p>Can someone help me? I don't know how to solve this!\nMany many Thx!</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9644,"page":581,"page_size":100}
